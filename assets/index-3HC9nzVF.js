var SZ=Object.defineProperty;var EZ=(i,e,n)=>e in i?SZ(i,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):i[e]=n;var dx=(i,e,n)=>EZ(i,typeof e!="symbol"?e+"":e,n);function TZ(i,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in i)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(i,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function oh(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var VO={exports:{}},px={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tz;function wZ(){if(tz)return px;tz=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,s,a){var o=null;if(a!==void 0&&(o=""+a),s.key!==void 0&&(o=""+s.key),"key"in s){a={};for(var l in s)l!=="key"&&(a[l]=s[l])}else a=s;return s=a.ref,{$$typeof:i,type:r,key:o,ref:s!==void 0?s:null,props:a}}return px.Fragment=e,px.jsx=n,px.jsxs=n,px}var ez;function AZ(){return ez||(ez=1,VO.exports=wZ()),VO.exports}var K=AZ(),HO={exports:{}},mx={},jO={exports:{}},GO={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nz;function MZ(){return nz||(nz=1,function(i){function e(q,W){var Z=q.length;q.push(W);t:for(;0<Z;){var nt=Z-1>>>1,Q=q[nt];if(0<s(Q,W))q[nt]=W,q[Z]=Q,Z=nt;else break t}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var W=q[0],Z=q.pop();if(Z!==W){q[0]=Z;t:for(var nt=0,Q=q.length,ht=Q>>>1;nt<ht;){var yt=2*(nt+1)-1,xt=q[yt],it=yt+1,dt=q[it];if(0>s(xt,Z))it<Q&&0>s(dt,xt)?(q[nt]=dt,q[it]=Z,nt=it):(q[nt]=xt,q[yt]=Z,nt=yt);else if(it<Q&&0>s(dt,Z))q[nt]=dt,q[it]=Z,nt=it;else break t}}return W}function s(q,W){var Z=q.sortIndex-W.sortIndex;return Z!==0?Z:q.id-W.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;i.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();i.unstable_now=function(){return o.now()-l}}var u=[],f=[],h=1,p=null,y=3,_=!1,x=!1,S=!1,E=!1,b=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function M(q){for(var W=n(f);W!==null;){if(W.callback===null)r(f);else if(W.startTime<=q)r(f),W.sortIndex=W.expirationTime,e(u,W);else break;W=n(f)}}function I(q){if(S=!1,M(q),!x)if(n(u)!==null)x=!0,k||(k=!0,H());else{var W=n(f);W!==null&&et(I,W.startTime-q)}}var k=!1,N=-1,L=5,U=-1;function O(){return E?!0:!(i.unstable_now()-U<L)}function B(){if(E=!1,k){var q=i.unstable_now();U=q;var W=!0;try{t:{x=!1,S&&(S=!1,A(N),N=-1),_=!0;var Z=y;try{e:{for(M(q),p=n(u);p!==null&&!(p.expirationTime>q&&O());){var nt=p.callback;if(typeof nt=="function"){p.callback=null,y=p.priorityLevel;var Q=nt(p.expirationTime<=q);if(q=i.unstable_now(),typeof Q=="function"){p.callback=Q,M(q),W=!0;break e}p===n(u)&&r(u),M(q)}else r(u);p=n(u)}if(p!==null)W=!0;else{var ht=n(f);ht!==null&&et(I,ht.startTime-q),W=!1}}break t}finally{p=null,y=Z,_=!1}W=void 0}}finally{W?H():k=!1}}}var H;if(typeof C=="function")H=function(){C(B)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,X=V.port2;V.port1.onmessage=B,H=function(){X.postMessage(null)}}else H=function(){b(B,0)};function et(q,W){N=b(function(){q(i.unstable_now())},W)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(q){q.callback=null},i.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<q?Math.floor(1e3/q):5},i.unstable_getCurrentPriorityLevel=function(){return y},i.unstable_next=function(q){switch(y){case 1:case 2:case 3:var W=3;break;default:W=y}var Z=y;y=W;try{return q()}finally{y=Z}},i.unstable_requestPaint=function(){E=!0},i.unstable_runWithPriority=function(q,W){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var Z=y;y=q;try{return W()}finally{y=Z}},i.unstable_scheduleCallback=function(q,W,Z){var nt=i.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?nt+Z:nt):Z=nt,q){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=Z+Q,q={id:h++,callback:W,priorityLevel:q,startTime:Z,expirationTime:Q,sortIndex:-1},Z>nt?(q.sortIndex=Z,e(f,q),n(u)===null&&q===n(f)&&(S?(A(N),N=-1):S=!0,et(I,Z-nt))):(q.sortIndex=Q,e(u,q),x||_||(x=!0,k||(k=!0,H()))),q},i.unstable_shouldYield=O,i.unstable_wrapCallback=function(q){var W=y;return function(){var Z=y;y=W;try{return q.apply(this,arguments)}finally{y=Z}}}}(GO)),GO}var iz;function CZ(){return iz||(iz=1,jO.exports=MZ()),jO.exports}var qO={exports:{}},Wn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rz;function RZ(){if(rz)return Wn;rz=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;function y(Q){return Q===null||typeof Q!="object"?null:(Q=p&&Q[p]||Q["@@iterator"],typeof Q=="function"?Q:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,S={};function E(Q,ht,yt){this.props=Q,this.context=ht,this.refs=S,this.updater=yt||_}E.prototype.isReactComponent={},E.prototype.setState=function(Q,ht){if(typeof Q!="object"&&typeof Q!="function"&&Q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Q,ht,"setState")},E.prototype.forceUpdate=function(Q){this.updater.enqueueForceUpdate(this,Q,"forceUpdate")};function b(){}b.prototype=E.prototype;function A(Q,ht,yt){this.props=Q,this.context=ht,this.refs=S,this.updater=yt||_}var C=A.prototype=new b;C.constructor=A,x(C,E.prototype),C.isPureReactComponent=!0;var M=Array.isArray,I={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function N(Q,ht,yt,xt,it,dt){return yt=dt.ref,{$$typeof:i,type:Q,key:ht,ref:yt!==void 0?yt:null,props:dt}}function L(Q,ht){return N(Q.type,ht,void 0,void 0,void 0,Q.props)}function U(Q){return typeof Q=="object"&&Q!==null&&Q.$$typeof===i}function O(Q){var ht={"=":"=0",":":"=2"};return"$"+Q.replace(/[=:]/g,function(yt){return ht[yt]})}var B=/\/+/g;function H(Q,ht){return typeof Q=="object"&&Q!==null&&Q.key!=null?O(""+Q.key):ht.toString(36)}function V(){}function X(Q){switch(Q.status){case"fulfilled":return Q.value;case"rejected":throw Q.reason;default:switch(typeof Q.status=="string"?Q.then(V,V):(Q.status="pending",Q.then(function(ht){Q.status==="pending"&&(Q.status="fulfilled",Q.value=ht)},function(ht){Q.status==="pending"&&(Q.status="rejected",Q.reason=ht)})),Q.status){case"fulfilled":return Q.value;case"rejected":throw Q.reason}}throw Q}function et(Q,ht,yt,xt,it){var dt=typeof Q;(dt==="undefined"||dt==="boolean")&&(Q=null);var ft=!1;if(Q===null)ft=!0;else switch(dt){case"bigint":case"string":case"number":ft=!0;break;case"object":switch(Q.$$typeof){case i:case e:ft=!0;break;case h:return ft=Q._init,et(ft(Q._payload),ht,yt,xt,it)}}if(ft)return it=it(Q),ft=xt===""?"."+H(Q,0):xt,M(it)?(yt="",ft!=null&&(yt=ft.replace(B,"$&/")+"/"),et(it,ht,yt,"",function(Kt){return Kt})):it!=null&&(U(it)&&(it=L(it,yt+(it.key==null||Q&&Q.key===it.key?"":(""+it.key).replace(B,"$&/")+"/")+ft)),ht.push(it)),1;ft=0;var gt=xt===""?".":xt+":";if(M(Q))for(var wt=0;wt<Q.length;wt++)xt=Q[wt],dt=gt+H(xt,wt),ft+=et(xt,ht,yt,dt,it);else if(wt=y(Q),typeof wt=="function")for(Q=wt.call(Q),wt=0;!(xt=Q.next()).done;)xt=xt.value,dt=gt+H(xt,wt++),ft+=et(xt,ht,yt,dt,it);else if(dt==="object"){if(typeof Q.then=="function")return et(X(Q),ht,yt,xt,it);throw ht=String(Q),Error("Objects are not valid as a React child (found: "+(ht==="[object Object]"?"object with keys {"+Object.keys(Q).join(", ")+"}":ht)+"). If you meant to render a collection of children, use an array instead.")}return ft}function q(Q,ht,yt){if(Q==null)return Q;var xt=[],it=0;return et(Q,xt,"","",function(dt){return ht.call(yt,dt,it++)}),xt}function W(Q){if(Q._status===-1){var ht=Q._result;ht=ht(),ht.then(function(yt){(Q._status===0||Q._status===-1)&&(Q._status=1,Q._result=yt)},function(yt){(Q._status===0||Q._status===-1)&&(Q._status=2,Q._result=yt)}),Q._status===-1&&(Q._status=0,Q._result=ht)}if(Q._status===1)return Q._result.default;throw Q._result}var Z=typeof reportError=="function"?reportError:function(Q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ht=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Q=="object"&&Q!==null&&typeof Q.message=="string"?String(Q.message):String(Q),error:Q});if(!window.dispatchEvent(ht))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Q);return}console.error(Q)};function nt(){}return Wn.Children={map:q,forEach:function(Q,ht,yt){q(Q,function(){ht.apply(this,arguments)},yt)},count:function(Q){var ht=0;return q(Q,function(){ht++}),ht},toArray:function(Q){return q(Q,function(ht){return ht})||[]},only:function(Q){if(!U(Q))throw Error("React.Children.only expected to receive a single React element child.");return Q}},Wn.Component=E,Wn.Fragment=n,Wn.Profiler=s,Wn.PureComponent=A,Wn.StrictMode=r,Wn.Suspense=u,Wn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Wn.__COMPILER_RUNTIME={__proto__:null,c:function(Q){return I.H.useMemoCache(Q)}},Wn.cache=function(Q){return function(){return Q.apply(null,arguments)}},Wn.cloneElement=function(Q,ht,yt){if(Q==null)throw Error("The argument must be a React element, but you passed "+Q+".");var xt=x({},Q.props),it=Q.key,dt=void 0;if(ht!=null)for(ft in ht.ref!==void 0&&(dt=void 0),ht.key!==void 0&&(it=""+ht.key),ht)!k.call(ht,ft)||ft==="key"||ft==="__self"||ft==="__source"||ft==="ref"&&ht.ref===void 0||(xt[ft]=ht[ft]);var ft=arguments.length-2;if(ft===1)xt.children=yt;else if(1<ft){for(var gt=Array(ft),wt=0;wt<ft;wt++)gt[wt]=arguments[wt+2];xt.children=gt}return N(Q.type,it,void 0,void 0,dt,xt)},Wn.createContext=function(Q){return Q={$$typeof:o,_currentValue:Q,_currentValue2:Q,_threadCount:0,Provider:null,Consumer:null},Q.Provider=Q,Q.Consumer={$$typeof:a,_context:Q},Q},Wn.createElement=function(Q,ht,yt){var xt,it={},dt=null;if(ht!=null)for(xt in ht.key!==void 0&&(dt=""+ht.key),ht)k.call(ht,xt)&&xt!=="key"&&xt!=="__self"&&xt!=="__source"&&(it[xt]=ht[xt]);var ft=arguments.length-2;if(ft===1)it.children=yt;else if(1<ft){for(var gt=Array(ft),wt=0;wt<ft;wt++)gt[wt]=arguments[wt+2];it.children=gt}if(Q&&Q.defaultProps)for(xt in ft=Q.defaultProps,ft)it[xt]===void 0&&(it[xt]=ft[xt]);return N(Q,dt,void 0,void 0,null,it)},Wn.createRef=function(){return{current:null}},Wn.forwardRef=function(Q){return{$$typeof:l,render:Q}},Wn.isValidElement=U,Wn.lazy=function(Q){return{$$typeof:h,_payload:{_status:-1,_result:Q},_init:W}},Wn.memo=function(Q,ht){return{$$typeof:f,type:Q,compare:ht===void 0?null:ht}},Wn.startTransition=function(Q){var ht=I.T,yt={};I.T=yt;try{var xt=Q(),it=I.S;it!==null&&it(yt,xt),typeof xt=="object"&&xt!==null&&typeof xt.then=="function"&&xt.then(nt,Z)}catch(dt){Z(dt)}finally{I.T=ht}},Wn.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Wn.use=function(Q){return I.H.use(Q)},Wn.useActionState=function(Q,ht,yt){return I.H.useActionState(Q,ht,yt)},Wn.useCallback=function(Q,ht){return I.H.useCallback(Q,ht)},Wn.useContext=function(Q){return I.H.useContext(Q)},Wn.useDebugValue=function(){},Wn.useDeferredValue=function(Q,ht){return I.H.useDeferredValue(Q,ht)},Wn.useEffect=function(Q,ht,yt){var xt=I.H;if(typeof yt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return xt.useEffect(Q,ht)},Wn.useId=function(){return I.H.useId()},Wn.useImperativeHandle=function(Q,ht,yt){return I.H.useImperativeHandle(Q,ht,yt)},Wn.useInsertionEffect=function(Q,ht){return I.H.useInsertionEffect(Q,ht)},Wn.useLayoutEffect=function(Q,ht){return I.H.useLayoutEffect(Q,ht)},Wn.useMemo=function(Q,ht){return I.H.useMemo(Q,ht)},Wn.useOptimistic=function(Q,ht){return I.H.useOptimistic(Q,ht)},Wn.useReducer=function(Q,ht,yt){return I.H.useReducer(Q,ht,yt)},Wn.useRef=function(Q){return I.H.useRef(Q)},Wn.useState=function(Q){return I.H.useState(Q)},Wn.useSyncExternalStore=function(Q,ht,yt){return I.H.useSyncExternalStore(Q,ht,yt)},Wn.useTransition=function(){return I.H.useTransition()},Wn.version="19.1.0",Wn}var sz;function q_(){return sz||(sz=1,qO.exports=RZ()),qO.exports}var $O={exports:{}},Na={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var az;function OZ(){if(az)return Na;az=1;var i=q_();function e(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(u,f,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:p==null?null:""+p,children:u,containerInfo:f,implementation:h}}var o=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,f){if(u==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Na.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Na.createPortal=function(u,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(u,f,null,h)},Na.flushSync=function(u){var f=o.T,h=r.p;try{if(o.T=null,r.p=2,u)return u()}finally{o.T=f,r.p=h,r.d.f()}},Na.preconnect=function(u,f){typeof u=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(u,f))},Na.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},Na.preinit=function(u,f){if(typeof u=="string"&&f&&typeof f.as=="string"){var h=f.as,p=l(h,f.crossOrigin),y=typeof f.integrity=="string"?f.integrity:void 0,_=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?r.d.S(u,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:y,fetchPriority:_}):h==="script"&&r.d.X(u,{crossOrigin:p,integrity:y,fetchPriority:_,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Na.preinitModule=function(u,f){if(typeof u=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=l(f.as,f.crossOrigin);r.d.M(u,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(u)},Na.preload=function(u,f){if(typeof u=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,p=l(h,f.crossOrigin);r.d.L(u,h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Na.preloadModule=function(u,f){if(typeof u=="string")if(f){var h=l(f.as,f.crossOrigin);r.d.m(u,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(u)},Na.requestFormReset=function(u){r.d.r(u)},Na.unstable_batchedUpdates=function(u,f){return u(f)},Na.useFormState=function(u,f,h){return o.H.useFormState(u,f,h)},Na.useFormStatus=function(){return o.H.useHostTransitionStatus()},Na.version="19.1.0",Na}var oz;function rH(){if(oz)return $O.exports;oz=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),$O.exports=OZ(),$O.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lz;function IZ(){if(lz)return mx;lz=1;var i=CZ(),e=q_(),n=rH();function r(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)d+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function a(c){var d=c,v=c;if(c.alternate)for(;d.return;)d=d.return;else{c=d;do d=c,(d.flags&4098)!==0&&(v=d.return),c=d.return;while(c)}return d.tag===3?v:null}function o(c){if(c.tag===13){var d=c.memoizedState;if(d===null&&(c=c.alternate,c!==null&&(d=c.memoizedState)),d!==null)return d.dehydrated}return null}function l(c){if(a(c)!==c)throw Error(r(188))}function u(c){var d=c.alternate;if(!d){if(d=a(c),d===null)throw Error(r(188));return d!==c?null:c}for(var v=c,T=d;;){var P=v.return;if(P===null)break;var z=P.alternate;if(z===null){if(T=P.return,T!==null){v=T;continue}break}if(P.child===z.child){for(z=P.child;z;){if(z===v)return l(P),c;if(z===T)return l(P),d;z=z.sibling}throw Error(r(188))}if(v.return!==T.return)v=P,T=z;else{for(var J=!1,st=P.child;st;){if(st===v){J=!0,v=P,T=z;break}if(st===T){J=!0,T=P,v=z;break}st=st.sibling}if(!J){for(st=z.child;st;){if(st===v){J=!0,v=z,T=P;break}if(st===T){J=!0,T=z,v=P;break}st=st.sibling}if(!J)throw Error(r(189))}}if(v.alternate!==T)throw Error(r(190))}if(v.tag!==3)throw Error(r(188));return v.stateNode.current===v?c:d}function f(c){var d=c.tag;if(d===5||d===26||d===27||d===6)return c;for(c=c.child;c!==null;){if(d=f(c),d!==null)return d;c=c.sibling}return null}var h=Object.assign,p=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),A=Symbol.for("react.consumer"),C=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function H(c){return c===null||typeof c!="object"?null:(c=B&&c[B]||c["@@iterator"],typeof c=="function"?c:null)}var V=Symbol.for("react.client.reference");function X(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===V?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case x:return"Fragment";case E:return"Profiler";case S:return"StrictMode";case I:return"Suspense";case k:return"SuspenseList";case U:return"Activity"}if(typeof c=="object")switch(c.$$typeof){case _:return"Portal";case C:return(c.displayName||"Context")+".Provider";case A:return(c._context.displayName||"Context")+".Consumer";case M:var d=c.render;return c=c.displayName,c||(c=d.displayName||d.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case N:return d=c.displayName||null,d!==null?d:X(c.type)||"Memo";case L:d=c._payload,c=c._init;try{return X(c(d))}catch{}}return null}var et=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},nt=[],Q=-1;function ht(c){return{current:c}}function yt(c){0>Q||(c.current=nt[Q],nt[Q]=null,Q--)}function xt(c,d){Q++,nt[Q]=c.current,c.current=d}var it=ht(null),dt=ht(null),ft=ht(null),gt=ht(null);function wt(c,d){switch(xt(ft,d),xt(dt,c),xt(it,null),d.nodeType){case 9:case 11:c=(c=d.documentElement)&&(c=c.namespaceURI)?Ck(c):0;break;default:if(c=d.tagName,d=d.namespaceURI)d=Ck(d),c=Rk(d,c);else switch(c){case"svg":c=1;break;case"math":c=2;break;default:c=0}}yt(it),xt(it,c)}function Kt(){yt(it),yt(dt),yt(ft)}function kt(c){c.memoizedState!==null&&xt(gt,c);var d=it.current,v=Rk(d,c.type);d!==v&&(xt(dt,c),xt(it,v))}function ee(c){dt.current===c&&(yt(it),yt(dt)),gt.current===c&&(yt(gt),lx._currentValue=Z)}var Pt=Object.prototype.hasOwnProperty,Vt=i.unstable_scheduleCallback,at=i.unstable_cancelCallback,ce=i.unstable_shouldYield,te=i.unstable_requestPaint,ne=i.unstable_now,ie=i.unstable_getCurrentPriorityLevel,Me=i.unstable_ImmediatePriority,le=i.unstable_UserBlockingPriority,lt=i.unstable_NormalPriority,j=i.unstable_LowPriority,ut=i.unstable_IdlePriority,mt=i.log,Rt=i.unstable_setDisableYieldValue,_t=null,Ct=null;function Lt(c){if(typeof mt=="function"&&Rt(c),Ct&&typeof Ct.setStrictMode=="function")try{Ct.setStrictMode(_t,c)}catch{}}var Qt=Math.clz32?Math.clz32:_e,De=Math.log,Ht=Math.LN2;function _e(c){return c>>>=0,c===0?32:31-(De(c)/Ht|0)|0}var Re=256,Oe=4194304;function Zt(c){var d=c&42;if(d!==0)return d;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function Pe(c,d,v){var T=c.pendingLanes;if(T===0)return 0;var P=0,z=c.suspendedLanes,J=c.pingedLanes;c=c.warmLanes;var st=T&134217727;return st!==0?(T=st&~z,T!==0?P=Zt(T):(J&=st,J!==0?P=Zt(J):v||(v=st&~c,v!==0&&(P=Zt(v))))):(st=T&~z,st!==0?P=Zt(st):J!==0?P=Zt(J):v||(v=T&~c,v!==0&&(P=Zt(v)))),P===0?0:d!==0&&d!==P&&(d&z)===0&&(z=P&-P,v=d&-d,z>=v||z===32&&(v&4194048)!==0)?d:P}function Ne(c,d){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&d)===0}function sn(c,d){switch(c){case 1:case 2:case 4:case 8:case 64:return d+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tt(){var c=Re;return Re<<=1,(Re&4194048)===0&&(Re=256),c}function Ce(){var c=Oe;return Oe<<=1,(Oe&62914560)===0&&(Oe=4194304),c}function Xt(c){for(var d=[],v=0;31>v;v++)d.push(c);return d}function se(c,d){c.pendingLanes|=d,d!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function Ie(c,d,v,T,P,z){var J=c.pendingLanes;c.pendingLanes=v,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=v,c.entangledLanes&=v,c.errorRecoveryDisabledLanes&=v,c.shellSuspendCounter=0;var st=c.entanglements,vt=c.expirationTimes,zt=c.hiddenUpdates;for(v=J&~v;0<v;){var oe=31-Qt(v),fe=1<<oe;st[oe]=0,vt[oe]=-1;var Gt=zt[oe];if(Gt!==null)for(zt[oe]=null,oe=0;oe<Gt.length;oe++){var $t=Gt[oe];$t!==null&&($t.lane&=-536870913)}v&=~fe}T!==0&&Se(c,T,0),z!==0&&P===0&&c.tag!==0&&(c.suspendedLanes|=z&~(J&~d))}function Se(c,d,v){c.pendingLanes|=d,c.suspendedLanes&=~d;var T=31-Qt(d);c.entangledLanes|=d,c.entanglements[T]=c.entanglements[T]|1073741824|v&4194090}function on(c,d){var v=c.entangledLanes|=d;for(c=c.entanglements;v;){var T=31-Qt(v),P=1<<T;P&d|c[T]&d&&(c[T]|=d),v&=~P}}function Kn(c){switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=128;break;case 268435456:c=134217728;break;default:c=0}return c}function Ve(c){return c&=-c,2<c?8<c?(c&134217727)!==0?32:268435456:8:2}function tn(){var c=W.p;return c!==0?c:(c=window.event,c===void 0?32:Xk(c.type))}function Ee(c,d){var v=W.p;try{return W.p=c,d()}finally{W.p=v}}var ye=Math.random().toString(36).slice(2),Qe="__reactFiber$"+ye,Ye="__reactProps$"+ye,Tn="__reactContainer$"+ye,Fi="__reactEvents$"+ye,na="__reactListeners$"+ye,ar="__reactHandles$"+ye,Gr="__reactResources$"+ye,Os="__reactMarker$"+ye;function fi(c){delete c[Qe],delete c[Ye],delete c[Fi],delete c[na],delete c[ar]}function Ta(c){var d=c[Qe];if(d)return d;for(var v=c.parentNode;v;){if(d=v[Tn]||v[Qe]){if(v=d.alternate,d.child!==null||v!==null&&v.child!==null)for(c=Dk(c);c!==null;){if(v=c[Qe])return v;c=Dk(c)}return d}c=v,v=c.parentNode}return null}function ia(c){if(c=c[Qe]||c[Tn]){var d=c.tag;if(d===5||d===6||d===13||d===26||d===27||d===3)return c}return null}function Ja(c){var d=c.tag;if(d===5||d===26||d===27||d===6)return c.stateNode;throw Error(r(33))}function ys(c){var d=c[Gr];return d||(d=c[Gr]={hoistableStyles:new Map,hoistableScripts:new Map}),d}function ur(c){c[Os]=!0}var ju=new Set,tu={};function ra(c,d){rt(c,d),rt(c+"Capture",d)}function rt(c,d){for(tu[c]=d,c=0;c<d.length;c++)ju.add(d[c])}var St=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bt={},jt={};function It(c){return Pt.call(jt,c)?!0:Pt.call(Bt,c)?!1:St.test(c)?jt[c]=!0:(Bt[c]=!0,!1)}function de(c,d,v){if(It(d))if(v===null)c.removeAttribute(d);else{switch(typeof v){case"undefined":case"function":case"symbol":c.removeAttribute(d);return;case"boolean":var T=d.toLowerCase().slice(0,5);if(T!=="data-"&&T!=="aria-"){c.removeAttribute(d);return}}c.setAttribute(d,""+v)}}function Te(c,d,v){if(v===null)c.removeAttribute(d);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(d);return}c.setAttribute(d,""+v)}}function we(c,d,v,T){if(T===null)c.removeAttribute(v);else{switch(typeof T){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(v);return}c.setAttributeNS(d,v,""+T)}}var ze,un;function en(c){if(ze===void 0)try{throw Error()}catch(v){var d=v.stack.trim().match(/\n( *(at )?)/);ze=d&&d[1]||"",un=-1<v.stack.indexOf(`
    at`)?" (<anonymous>)":-1<v.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ze+c+un}var We=!1;function zn(c,d){if(!c||We)return"";We=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var T={DetermineComponentFrameRoot:function(){try{if(d){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch($t){var Gt=$t}Reflect.construct(c,[],fe)}else{try{fe.call()}catch($t){Gt=$t}c.call(fe.prototype)}}else{try{throw Error()}catch($t){Gt=$t}(fe=c())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch($t){if($t&&Gt&&typeof $t.stack=="string")return[$t.stack,Gt.stack]}return[null,null]}};T.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var P=Object.getOwnPropertyDescriptor(T.DetermineComponentFrameRoot,"name");P&&P.configurable&&Object.defineProperty(T.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var z=T.DetermineComponentFrameRoot(),J=z[0],st=z[1];if(J&&st){var vt=J.split(`
`),zt=st.split(`
`);for(P=T=0;T<vt.length&&!vt[T].includes("DetermineComponentFrameRoot");)T++;for(;P<zt.length&&!zt[P].includes("DetermineComponentFrameRoot");)P++;if(T===vt.length||P===zt.length)for(T=vt.length-1,P=zt.length-1;1<=T&&0<=P&&vt[T]!==zt[P];)P--;for(;1<=T&&0<=P;T--,P--)if(vt[T]!==zt[P]){if(T!==1||P!==1)do if(T--,P--,0>P||vt[T]!==zt[P]){var oe=`
`+vt[T].replace(" at new "," at ");return c.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",c.displayName)),oe}while(1<=T&&0<=P);break}}}finally{We=!1,Error.prepareStackTrace=v}return(v=c?c.displayName||c.name:"")?en(v):""}function Qn(c){switch(c.tag){case 26:case 27:case 5:return en(c.type);case 16:return en("Lazy");case 13:return en("Suspense");case 19:return en("SuspenseList");case 0:case 15:return zn(c.type,!1);case 11:return zn(c.type.render,!1);case 1:return zn(c.type,!0);case 31:return en("Activity");default:return""}}function Ni(c){try{var d="";do d+=Qn(c),c=c.return;while(c);return d}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}function Vn(c){switch(typeof c){case"bigint":case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function $n(c){var d=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function nn(c){var d=$n(c)?"checked":"value",v=Object.getOwnPropertyDescriptor(c.constructor.prototype,d),T=""+c[d];if(!c.hasOwnProperty(d)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var P=v.get,z=v.set;return Object.defineProperty(c,d,{configurable:!0,get:function(){return P.call(this)},set:function(J){T=""+J,z.call(this,J)}}),Object.defineProperty(c,d,{enumerable:v.enumerable}),{getValue:function(){return T},setValue:function(J){T=""+J},stopTracking:function(){c._valueTracker=null,delete c[d]}}}}function Ji(c){c._valueTracker||(c._valueTracker=nn(c))}function Jn(c){if(!c)return!1;var d=c._valueTracker;if(!d)return!0;var v=d.getValue(),T="";return c&&(T=$n(c)?c.checked?"true":"false":c.value),c=T,c!==v?(d.setValue(c),!0):!1}function qr(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}var Ro=/[\n"\\]/g;function ai(c){return c.replace(Ro,function(d){return"\\"+d.charCodeAt(0).toString(16)+" "})}function $r(c,d,v,T,P,z,J,st){c.name="",J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"?c.type=J:c.removeAttribute("type"),d!=null?J==="number"?(d===0&&c.value===""||c.value!=d)&&(c.value=""+Vn(d)):c.value!==""+Vn(d)&&(c.value=""+Vn(d)):J!=="submit"&&J!=="reset"||c.removeAttribute("value"),d!=null?_r(c,J,Vn(d)):v!=null?_r(c,J,Vn(v)):T!=null&&c.removeAttribute("value"),P==null&&z!=null&&(c.defaultChecked=!!z),P!=null&&(c.checked=P&&typeof P!="function"&&typeof P!="symbol"),st!=null&&typeof st!="function"&&typeof st!="symbol"&&typeof st!="boolean"?c.name=""+Vn(st):c.removeAttribute("name")}function hi(c,d,v,T,P,z,J,st){if(z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"&&(c.type=z),d!=null||v!=null){if(!(z!=="submit"&&z!=="reset"||d!=null))return;v=v!=null?""+Vn(v):"",d=d!=null?""+Vn(d):v,st||d===c.value||(c.value=d),c.defaultValue=d}T=T??P,T=typeof T!="function"&&typeof T!="symbol"&&!!T,c.checked=st?c.checked:!!T,c.defaultChecked=!!T,J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"&&(c.name=J)}function _r(c,d,v){d==="number"&&qr(c.ownerDocument)===c||c.defaultValue===""+v||(c.defaultValue=""+v)}function cr(c,d,v,T){if(c=c.options,d){d={};for(var P=0;P<v.length;P++)d["$"+v[P]]=!0;for(v=0;v<c.length;v++)P=d.hasOwnProperty("$"+c[v].value),c[v].selected!==P&&(c[v].selected=P),P&&T&&(c[v].defaultSelected=!0)}else{for(v=""+Vn(v),d=null,P=0;P<c.length;P++){if(c[P].value===v){c[P].selected=!0,T&&(c[P].defaultSelected=!0);return}d!==null||c[P].disabled||(d=c[P])}d!==null&&(d.selected=!0)}}function Cn(c,d,v){if(d!=null&&(d=""+Vn(d),d!==c.value&&(c.value=d),v==null)){c.defaultValue!==d&&(c.defaultValue=d);return}c.defaultValue=v!=null?""+Vn(v):""}function fr(c,d,v,T){if(d==null){if(T!=null){if(v!=null)throw Error(r(92));if(et(T)){if(1<T.length)throw Error(r(93));T=T[0]}v=T}v==null&&(v=""),d=v}v=Vn(d),c.defaultValue=v,T=c.textContent,T===v&&T!==""&&T!==null&&(c.value=T)}function Rr(c,d){if(d){var v=c.firstChild;if(v&&v===c.lastChild&&v.nodeType===3){v.nodeValue=d;return}}c.textContent=d}var js=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fh(c,d,v){var T=d.indexOf("--")===0;v==null||typeof v=="boolean"||v===""?T?c.setProperty(d,""):d==="float"?c.cssFloat="":c[d]="":T?c.setProperty(d,v):typeof v!="number"||v===0||js.has(d)?d==="float"?c.cssFloat=v:c[d]=(""+v).trim():c[d]=v+"px"}function Fc(c,d,v){if(d!=null&&typeof d!="object")throw Error(r(62));if(c=c.style,v!=null){for(var T in v)!v.hasOwnProperty(T)||d!=null&&d.hasOwnProperty(T)||(T.indexOf("--")===0?c.setProperty(T,""):T==="float"?c.cssFloat="":c[T]="");for(var P in d)T=d[P],d.hasOwnProperty(P)&&v[P]!==T&&fh(c,P,T)}else for(var z in d)d.hasOwnProperty(z)&&fh(c,z,d[z])}function Ud(c){if(c.indexOf("-")===-1)return!1;switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Om=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),i0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function hh(c){return i0.test(""+c)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":c}var eu=null;function to(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var bl=null,nu=null;function kd(c){var d=ia(c);if(d&&(c=d.stateNode)){var v=c[Ye]||null;t:switch(c=d.stateNode,d.type){case"input":if($r(c,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name),d=v.name,v.type==="radio"&&d!=null){for(v=c;v.parentNode;)v=v.parentNode;for(v=v.querySelectorAll('input[name="'+ai(""+d)+'"][type="radio"]'),d=0;d<v.length;d++){var T=v[d];if(T!==c&&T.form===c.form){var P=T[Ye]||null;if(!P)throw Error(r(90));$r(T,P.value,P.defaultValue,P.defaultValue,P.checked,P.defaultChecked,P.type,P.name)}}for(d=0;d<v.length;d++)T=v[d],T.form===c.form&&Jn(T)}break t;case"textarea":Cn(c,v.value,v.defaultValue);break t;case"select":d=v.value,d!=null&&cr(c,!!v.multiple,d,!1)}}}var Oo=!1;function Im(c,d,v){if(Oo)return c(d,v);Oo=!0;try{var T=c(d);return T}finally{if(Oo=!1,(bl!==null||nu!==null)&&(vu(),bl&&(d=bl,c=nu,nu=bl=null,kd(d),c)))for(d=0;d<c.length;d++)kd(c[d])}}function Vc(c,d){var v=c.stateNode;if(v===null)return null;var T=v[Ye]||null;if(T===null)return null;v=T[d];t:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(T=!T.disabled)||(c=c.type,T=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!T;break t;default:c=!1}if(c)return null;if(v&&typeof v!="function")throw Error(r(231,d,typeof v));return v}var Io=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wa=!1;if(Io)try{var Hc={};Object.defineProperty(Hc,"passive",{get:function(){wa=!0}}),window.addEventListener("test",Hc,Hc),window.removeEventListener("test",Hc,Hc)}catch{wa=!1}var xl=null,jc=null,Gu=null;function zd(){if(Gu)return Gu;var c,d=jc,v=d.length,T,P="value"in xl?xl.value:xl.textContent,z=P.length;for(c=0;c<v&&d[c]===P[c];c++);var J=v-c;for(T=1;T<=J&&d[v-T]===P[z-T];T++);return Gu=P.slice(c,1<T?1-T:void 0)}function Aa(c){var d=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&d===13&&(c=13)):c=d,c===10&&(c=13),32<=c||c===13?c:0}function Po(){return!0}function Gc(){return!1}function rs(c){function d(v,T,P,z,J){this._reactName=v,this._targetInst=P,this.type=T,this.nativeEvent=z,this.target=J,this.currentTarget=null;for(var st in c)c.hasOwnProperty(st)&&(v=c[st],this[st]=v?v(z):z[st]);return this.isDefaultPrevented=(z.defaultPrevented!=null?z.defaultPrevented:z.returnValue===!1)?Po:Gc,this.isPropagationStopped=Gc,this}return h(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var v=this.nativeEvent;v&&(v.preventDefault?v.preventDefault():typeof v.returnValue!="unknown"&&(v.returnValue=!1),this.isDefaultPrevented=Po)},stopPropagation:function(){var v=this.nativeEvent;v&&(v.stopPropagation?v.stopPropagation():typeof v.cancelBubble!="unknown"&&(v.cancelBubble=!0),this.isPropagationStopped=Po)},persist:function(){},isPersistent:Po}),d}var Si={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qc=rs(Si),$c=h({},Si,{view:0,detail:0}),Pm=rs($c),Do,qu,Sl,$u=h({},$c,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wu,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==Sl&&(Sl&&c.type==="mousemove"?(Do=c.screenX-Sl.screenX,qu=c.screenY-Sl.screenY):qu=Do=0,Sl=c),Do)},movementY:function(c){return"movementY"in c?c.movementY:qu}}),eo=rs($u),Dm=h({},$u,{dataTransfer:0}),db=rs(Dm),hr=h({},$c,{relatedTarget:0}),dh=rs(hr),Bd=h({},Si,{animationName:0,elapsedTime:0,pseudoElement:0}),ph=rs(Bd),Nm=h({},Si,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),mh=rs(Nm),gh=h({},Si,{data:0}),yh=rs(gh),Wc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Um={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vh(c){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(c):(c=Um[c])?!!d[c]:!1}function Wu(){return vh}var km=h({},$c,{key:function(c){if(c.key){var d=Wc[c.key]||c.key;if(d!=="Unidentified")return d}return c.type==="keypress"?(c=Aa(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?Lm[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wu,charCode:function(c){return c.type==="keypress"?Aa(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?Aa(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),Xc=rs(km),Fd=h({},$u,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_h=rs(Fd),iu=h({},$c,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wu}),Vd=rs(iu),zm=h({},Si,{propertyName:0,elapsedTime:0,pseudoElement:0}),No=rs(zm),Hd=h({},$u,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),jd=rs(Hd),Gs=h({},Si,{newState:0,oldState:0}),El=rs(Gs),Lo=[9,13,27,32],Uo=Io&&"CompositionEvent"in window,R=null;Io&&"documentMode"in document&&(R=document.documentMode);var G=Io&&"TextEvent"in window&&!R,Y=Io&&(!Uo||R&&8<R&&11>=R),ct=" ",Ot=!1;function Yt(c,d){switch(c){case"keyup":return Lo.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ae(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var ni=!1;function dr(c,d){switch(c){case"compositionend":return Ae(d);case"keypress":return d.which!==32?null:(Ot=!0,ct);case"textInput":return c=d.data,c===ct&&Ot?null:c;default:return null}}function ii(c,d){if(ni)return c==="compositionend"||!Uo&&Yt(c,d)?(c=zd(),Gu=jc=xl=null,ni=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return Y&&d.locale!=="ko"?null:d.data;default:return null}}var Or={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wr(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d==="input"?!!Or[c.type]:d==="textarea"}function Ir(c,d,v,T){bl?nu?nu.push(T):nu=[T]:bl=T,d=OT(d,"onChange"),0<d.length&&(v=new qc("onChange","change",null,v,T),c.push({event:v,listeners:d}))}var vs=null,ko=null;function Gd(c){Ek(c,0)}function Bm(c){var d=Ja(c);if(Jn(d))return c}function r0(c,d){if(c==="change")return d}var s0=!1;if(Io){var a0;if(Io){var qd="oninput"in document;if(!qd){var $d=document.createElement("div");$d.setAttribute("oninput","return;"),qd=typeof $d.oninput=="function"}a0=qd}else a0=!1;s0=a0&&(!document.documentMode||9<document.documentMode)}function or(){vs&&(vs.detachEvent("onpropertychange",DE),ko=vs=null)}function DE(c){if(c.propertyName==="value"&&Bm(ko)){var d=[];Ir(d,ko,c,to(c)),Im(Gd,d)}}function oO(c,d,v){c==="focusin"?(or(),vs=d,ko=v,vs.attachEvent("onpropertychange",DE)):c==="focusout"&&or()}function NE(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return Bm(ko)}function Fm(c,d){if(c==="click")return Bm(d)}function Yc(c,d){if(c==="input"||c==="change")return Bm(d)}function LE(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var Ma=typeof Object.is=="function"?Object.is:LE;function Tl(c,d){if(Ma(c,d))return!0;if(typeof c!="object"||c===null||typeof d!="object"||d===null)return!1;var v=Object.keys(c),T=Object.keys(d);if(v.length!==T.length)return!1;for(T=0;T<v.length;T++){var P=v[T];if(!Pt.call(d,P)||!Ma(c[P],d[P]))return!1}return!0}function Ca(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function pb(c,d){var v=Ca(c);c=0;for(var T;v;){if(v.nodeType===3){if(T=c+v.textContent.length,c<=d&&T>=d)return{node:v,offset:d-c};c=T}t:{for(;v;){if(v.nextSibling){v=v.nextSibling;break t}v=v.parentNode}v=void 0}v=Ca(v)}}function mb(c,d){return c&&d?c===d?!0:c&&c.nodeType===3?!1:d&&d.nodeType===3?mb(c,d.parentNode):"contains"in c?c.contains(d):c.compareDocumentPosition?!!(c.compareDocumentPosition(d)&16):!1:!1}function gb(c){c=c!=null&&c.ownerDocument!=null&&c.ownerDocument.defaultView!=null?c.ownerDocument.defaultView:window;for(var d=qr(c.document);d instanceof c.HTMLIFrameElement;){try{var v=typeof d.contentWindow.location.href=="string"}catch{v=!1}if(v)c=d.contentWindow;else break;d=qr(c.document)}return d}function Vm(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d&&(d==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||d==="textarea"||c.contentEditable==="true")}var yb=Io&&"documentMode"in document&&11>=document.documentMode,Xu=null,o0=null,Hm=null,l0=!1;function vb(c,d,v){var T=v.window===v?v.document:v.nodeType===9?v:v.ownerDocument;l0||Xu==null||Xu!==qr(T)||(T=Xu,"selectionStart"in T&&Vm(T)?T={start:T.selectionStart,end:T.selectionEnd}:(T=(T.ownerDocument&&T.ownerDocument.defaultView||window).getSelection(),T={anchorNode:T.anchorNode,anchorOffset:T.anchorOffset,focusNode:T.focusNode,focusOffset:T.focusOffset}),Hm&&Tl(Hm,T)||(Hm=T,T=OT(o0,"onSelect"),0<T.length&&(d=new qc("onSelect","select",null,d,v),c.push({event:d,listeners:T}),d.target=Xu)))}function Is(c,d){var v={};return v[c.toLowerCase()]=d.toLowerCase(),v["Webkit"+c]="webkit"+d,v["Moz"+c]="moz"+d,v}var Kc={animationend:Is("Animation","AnimationEnd"),animationiteration:Is("Animation","AnimationIteration"),animationstart:Is("Animation","AnimationStart"),transitionrun:Is("Transition","TransitionRun"),transitionstart:Is("Transition","TransitionStart"),transitioncancel:Is("Transition","TransitionCancel"),transitionend:Is("Transition","TransitionEnd")},u0={},UE={};Io&&(UE=document.createElement("div").style,"AnimationEvent"in window||(delete Kc.animationend.animation,delete Kc.animationiteration.animation,delete Kc.animationstart.animation),"TransitionEvent"in window||delete Kc.transitionend.transition);function Yu(c){if(u0[c])return u0[c];if(!Kc[c])return c;var d=Kc[c],v;for(v in d)if(d.hasOwnProperty(v)&&v in UE)return u0[c]=d[v];return c}var sa=Yu("animationend"),_b=Yu("animationiteration"),Ra=Yu("animationstart"),kE=Yu("transitionrun"),Ku=Yu("transitionstart"),Wd=Yu("transitioncancel"),Zu=Yu("transitionend"),c0=new Map,jm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jm.push("scrollEnd");function _s(c,d){c0.set(c,d),ra(d,[c])}var bb=new WeakMap;function Ps(c,d){if(typeof c=="object"&&c!==null){var v=bb.get(c);return v!==void 0?v:(d={value:c,source:d,stack:Ni(d)},bb.set(c,d),d)}return{value:c,source:d,stack:Ni(d)}}var qs=[],zo=0,f0=0;function Gm(){for(var c=zo,d=f0=zo=0;d<c;){var v=qs[d];qs[d++]=null;var T=qs[d];qs[d++]=null;var P=qs[d];qs[d++]=null;var z=qs[d];if(qs[d++]=null,T!==null&&P!==null){var J=T.pending;J===null?P.next=P:(P.next=J.next,J.next=P),T.pending=P}z!==0&&xb(v,P,z)}}function Zc(c,d,v,T){qs[zo++]=c,qs[zo++]=d,qs[zo++]=v,qs[zo++]=T,f0|=T,c.lanes|=T,c=c.alternate,c!==null&&(c.lanes|=T)}function h0(c,d,v,T){return Zc(c,d,v,T),Xd(c)}function Qu(c,d){return Zc(c,null,null,d),Xd(c)}function xb(c,d,v){c.lanes|=v;var T=c.alternate;T!==null&&(T.lanes|=v);for(var P=!1,z=c.return;z!==null;)z.childLanes|=v,T=z.alternate,T!==null&&(T.childLanes|=v),z.tag===22&&(c=z.stateNode,c===null||c._visibility&1||(P=!0)),c=z,z=z.return;return c.tag===3?(z=c.stateNode,P&&d!==null&&(P=31-Qt(v),c=z.hiddenUpdates,T=c[P],T===null?c[P]=[d]:T.push(d),d.lane=v|536870912),z):null}function Xd(c){if(50<yu)throw yu=0,kh=null,Error(r(185));for(var d=c.return;d!==null;)c=d,d=c.return;return c.tag===3?c.stateNode:null}var Qc={};function Sb(c,d,v,T){this.tag=c,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=T,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oa(c,d,v,T){return new Sb(c,d,v,T)}function qm(c){return c=c.prototype,!(!c||!c.isReactComponent)}function Pr(c,d){var v=c.alternate;return v===null?(v=Oa(c.tag,d,c.key,c.mode),v.elementType=c.elementType,v.type=c.type,v.stateNode=c.stateNode,v.alternate=c,c.alternate=v):(v.pendingProps=d,v.type=c.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=c.flags&65011712,v.childLanes=c.childLanes,v.lanes=c.lanes,v.child=c.child,v.memoizedProps=c.memoizedProps,v.memoizedState=c.memoizedState,v.updateQueue=c.updateQueue,d=c.dependencies,v.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},v.sibling=c.sibling,v.index=c.index,v.ref=c.ref,v.refCleanup=c.refCleanup,v}function Eb(c,d){c.flags&=65011714;var v=c.alternate;return v===null?(c.childLanes=0,c.lanes=d,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=v.childLanes,c.lanes=v.lanes,c.child=v.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=v.memoizedProps,c.memoizedState=v.memoizedState,c.updateQueue=v.updateQueue,c.type=v.type,d=v.dependencies,c.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),c}function bs(c,d,v,T,P,z){var J=0;if(T=c,typeof c=="function")qm(c)&&(J=1);else if(typeof c=="string")J=uZ(c,v,it.current)?26:c==="html"||c==="head"||c==="body"?27:5;else t:switch(c){case U:return c=Oa(31,v,d,P),c.elementType=U,c.lanes=z,c;case x:return Jc(v.children,P,z,d);case S:J=8,P|=24;break;case E:return c=Oa(12,v,d,P|2),c.elementType=E,c.lanes=z,c;case I:return c=Oa(13,v,d,P),c.elementType=I,c.lanes=z,c;case k:return c=Oa(19,v,d,P),c.elementType=k,c.lanes=z,c;default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case b:case C:J=10;break t;case A:J=9;break t;case M:J=11;break t;case N:J=14;break t;case L:J=16,T=null;break t}J=29,v=Error(r(130,c===null?"null":typeof c,"")),T=null}return d=Oa(J,v,d,P),d.elementType=c,d.type=T,d.lanes=z,d}function Jc(c,d,v,T){return c=Oa(7,c,T,d),c.lanes=v,c}function $m(c,d,v){return c=Oa(6,c,null,d),c.lanes=v,c}function d0(c,d,v){return d=Oa(4,c.children!==null?c.children:[],c.key,d),d.lanes=v,d.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},d}var Yd=[],Ia=0,Wm=null,Kd=0,Ds=[],no=0,tf=null,ru=1,su="";function Ju(c,d){Yd[Ia++]=Kd,Yd[Ia++]=Wm,Wm=c,Kd=d}function p0(c,d,v){Ds[no++]=ru,Ds[no++]=su,Ds[no++]=tf,tf=c;var T=ru;c=su;var P=32-Qt(T)-1;T&=~(1<<P),v+=1;var z=32-Qt(d)+P;if(30<z){var J=P-P%5;z=(T&(1<<J)-1).toString(32),T>>=J,P-=J,ru=1<<32-Qt(d)+P|v<<P|T,su=z+c}else ru=1<<z|v<<P|T,su=c}function Tb(c){c.return!==null&&(Ju(c,1),p0(c,1,0))}function wb(c){for(;c===Wm;)Wm=Yd[--Ia],Yd[Ia]=null,Kd=Yd[--Ia],Yd[Ia]=null;for(;c===tf;)tf=Ds[--no],Ds[no]=null,su=Ds[--no],Ds[no]=null,ru=Ds[--no],Ds[no]=null}var aa=null,pr=null,vi=!1,Bo=null,io=!1,m0=Error(r(519));function ef(c){var d=Error(r(418,""));throw bh(Ps(d,c)),m0}function zE(c){var d=c.stateNode,v=c.type,T=c.memoizedProps;switch(d[Qe]=c,d[Ye]=T,v){case"dialog":oi("cancel",d),oi("close",d);break;case"iframe":case"object":case"embed":oi("load",d);break;case"video":case"audio":for(v=0;v<nx.length;v++)oi(nx[v],d);break;case"source":oi("error",d);break;case"img":case"image":case"link":oi("error",d),oi("load",d);break;case"details":oi("toggle",d);break;case"input":oi("invalid",d),hi(d,T.value,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name,!0),Ji(d);break;case"select":oi("invalid",d);break;case"textarea":oi("invalid",d),fr(d,T.value,T.defaultValue,T.children),Ji(d)}v=T.children,typeof v!="string"&&typeof v!="number"&&typeof v!="bigint"||d.textContent===""+v||T.suppressHydrationWarning===!0||Mk(d.textContent,v)?(T.popover!=null&&(oi("beforetoggle",d),oi("toggle",d)),T.onScroll!=null&&oi("scroll",d),T.onScrollEnd!=null&&oi("scrollend",d),T.onClick!=null&&(d.onclick=IT),d=!0):d=!1,d||ef(c)}function Ab(c){for(aa=c.return;aa;)switch(aa.tag){case 5:case 13:io=!1;return;case 27:case 3:io=!0;return;default:aa=aa.return}}function wl(c){if(c!==aa)return!1;if(!vi)return Ab(c),vi=!0,!1;var d=c.tag,v;if((v=d!==3&&d!==27)&&((v=d===5)&&(v=c.type,v=!(v!=="form"&&v!=="button")||MO(c.type,c.memoizedProps)),v=!v),v&&pr&&ef(c),Ab(c),d===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));t:{for(c=c.nextSibling,d=0;c;){if(c.nodeType===8)if(v=c.data,v==="/$"){if(d===0){pr=dc(c.nextSibling);break t}d--}else v!=="$"&&v!=="$!"&&v!=="$?"||d++;c=c.nextSibling}pr=null}}else d===27?(d=pr,xp(c.type)?(c=IO,IO=null,pr=c):pr=d):pr=aa?dc(c.stateNode.nextSibling):null;return!0}function Zd(){pr=aa=null,vi=!1}function wi(){var c=Bo;return c!==null&&(fn===null?fn=c:fn.push.apply(fn,c),Bo=null),c}function bh(c){Bo===null?Bo=[c]:Bo.push(c)}var Mb=ht(null),nf=null,tc=null;function rf(c,d,v){xt(Mb,d._currentValue),d._currentValue=v}function ec(c){c._currentValue=Mb.current,yt(Mb)}function Cb(c,d,v){for(;c!==null;){var T=c.alternate;if((c.childLanes&d)!==d?(c.childLanes|=d,T!==null&&(T.childLanes|=d)):T!==null&&(T.childLanes&d)!==d&&(T.childLanes|=d),c===v)break;c=c.return}}function Xm(c,d,v,T){var P=c.child;for(P!==null&&(P.return=c);P!==null;){var z=P.dependencies;if(z!==null){var J=P.child;z=z.firstContext;t:for(;z!==null;){var st=z;z=P;for(var vt=0;vt<d.length;vt++)if(st.context===d[vt]){z.lanes|=v,st=z.alternate,st!==null&&(st.lanes|=v),Cb(z.return,v,c),T||(J=null);break t}z=st.next}}else if(P.tag===18){if(J=P.return,J===null)throw Error(r(341));J.lanes|=v,z=J.alternate,z!==null&&(z.lanes|=v),Cb(J,v,c),J=null}else J=P.child;if(J!==null)J.return=P;else for(J=P;J!==null;){if(J===c){J=null;break}if(P=J.sibling,P!==null){P.return=J.return,J=P;break}J=J.return}P=J}}function Fo(c,d,v,T){c=null;for(var P=d,z=!1;P!==null;){if(!z){if((P.flags&524288)!==0)z=!0;else if((P.flags&262144)!==0)break}if(P.tag===10){var J=P.alternate;if(J===null)throw Error(r(387));if(J=J.memoizedProps,J!==null){var st=P.type;Ma(P.pendingProps.value,J.value)||(c!==null?c.push(st):c=[st])}}else if(P===gt.current){if(J=P.alternate,J===null)throw Error(r(387));J.memoizedState.memoizedState!==P.memoizedState.memoizedState&&(c!==null?c.push(lx):c=[lx])}P=P.return}c!==null&&Xm(d,c,v,T),d.flags|=262144}function Ym(c){for(c=c.firstContext;c!==null;){if(!Ma(c.context._currentValue,c.memoizedValue))return!0;c=c.next}return!1}function au(c){nf=c,tc=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function br(c){return g0(nf,c)}function Km(c,d){return nf===null&&au(c),g0(c,d)}function g0(c,d){var v=d._currentValue;if(d={context:d,memoizedValue:v,next:null},tc===null){if(c===null)throw Error(r(308));tc=d,c.dependencies={lanes:0,firstContext:d},c.flags|=524288}else tc=tc.next=d;return v}var Rb=typeof AbortController<"u"?AbortController:function(){var c=[],d=this.signal={aborted:!1,addEventListener:function(v,T){c.push(T)}};this.abort=function(){d.aborted=!0,c.forEach(function(v){return v()})}},lO=i.unstable_scheduleCallback,BE=i.unstable_NormalPriority,Xr={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function y0(){return{controller:new Rb,data:new Map,refCount:0}}function Qd(c){c.refCount--,c.refCount===0&&lO(BE,function(){c.controller.abort()})}var Jd=null,Zm=0,Dn=0,tp=null;function ro(c,d){if(Jd===null){var v=Jd=[];Zm=0,Dn=vO(),tp={status:"pending",value:void 0,then:function(T){v.push(T)}}}return Zm++,d.then(v0,v0),d}function v0(){if(--Zm===0&&Jd!==null){tp!==null&&(tp.status="fulfilled");var c=Jd;Jd=null,Dn=0,tp=null;for(var d=0;d<c.length;d++)(0,c[d])()}}function uO(c,d){var v=[],T={status:"pending",value:null,reason:null,then:function(P){v.push(P)}};return c.then(function(){T.status="fulfilled",T.value=d;for(var P=0;P<v.length;P++)(0,v[P])(d)},function(P){for(T.status="rejected",T.reason=P,P=0;P<v.length;P++)(0,v[P])(void 0)}),T}var Qm=q.S;q.S=function(c,d){typeof d=="object"&&d!==null&&typeof d.then=="function"&&ro(c,d),Qm!==null&&Qm(c,d)};var Vo=ht(null);function sf(){var c=Vo.current;return c!==null?c:On.pooledCache}function Jm(c,d){d===null?xt(Vo,Vo.current):xt(Vo,d.pool)}function _0(){var c=sf();return c===null?null:{parent:Xr._currentValue,pool:c}}var tg=Error(r(460)),Ob=Error(r(474)),Al=Error(r(542)),eg={then:function(){}};function b0(c){return c=c.status,c==="fulfilled"||c==="rejected"}function ep(){}function x0(c,d,v){switch(v=c[v],v===void 0?c.push(d):v!==d&&(d.then(ep,ep),d=v),d.status){case"fulfilled":return d.value;case"rejected":throw c=d.reason,FE(c),c;default:if(typeof d.status=="string")d.then(ep,ep);else{if(c=On,c!==null&&100<c.shellSuspendCounter)throw Error(r(482));c=d,c.status="pending",c.then(function(T){if(d.status==="pending"){var P=d;P.status="fulfilled",P.value=T}},function(T){if(d.status==="pending"){var P=d;P.status="rejected",P.reason=T}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw c=d.reason,FE(c),c}throw Ho=d,tg}}var Ho=null;function Ib(){if(Ho===null)throw Error(r(459));var c=Ho;return Ho=null,c}function FE(c){if(c===tg||c===Al)throw Error(r(483))}var nc=!1;function Pb(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vn(c,d){c=c.updateQueue,d.updateQueue===c&&(d.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function ou(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function ic(c,d,v){var T=c.updateQueue;if(T===null)return null;if(T=T.shared,(Ai&2)!==0){var P=T.pending;return P===null?d.next=d:(d.next=P.next,P.next=d),T.pending=d,d=Xd(c),xb(c,null,v),d}return Zc(c,T,d,v),Xd(c)}function xh(c,d,v){if(d=d.updateQueue,d!==null&&(d=d.shared,(v&4194048)!==0)){var T=d.lanes;T&=c.pendingLanes,v|=T,d.lanes=v,on(c,v)}}function np(c,d){var v=c.updateQueue,T=c.alternate;if(T!==null&&(T=T.updateQueue,v===T)){var P=null,z=null;if(v=v.firstBaseUpdate,v!==null){do{var J={lane:v.lane,tag:v.tag,payload:v.payload,callback:null,next:null};z===null?P=z=J:z=z.next=J,v=v.next}while(v!==null);z===null?P=z=d:z=z.next=d}else P=z=d;v={baseState:T.baseState,firstBaseUpdate:P,lastBaseUpdate:z,shared:T.shared,callbacks:T.callbacks},c.updateQueue=v;return}c=v.lastBaseUpdate,c===null?v.firstBaseUpdate=d:c.next=d,v.lastBaseUpdate=d}var Db=!1;function ng(){if(Db){var c=tp;if(c!==null)throw c}}function ip(c,d,v,T){Db=!1;var P=c.updateQueue;nc=!1;var z=P.firstBaseUpdate,J=P.lastBaseUpdate,st=P.shared.pending;if(st!==null){P.shared.pending=null;var vt=st,zt=vt.next;vt.next=null,J===null?z=zt:J.next=zt,J=vt;var oe=c.alternate;oe!==null&&(oe=oe.updateQueue,st=oe.lastBaseUpdate,st!==J&&(st===null?oe.firstBaseUpdate=zt:st.next=zt,oe.lastBaseUpdate=vt))}if(z!==null){var fe=P.baseState;J=0,oe=zt=vt=null,st=z;do{var Gt=st.lane&-536870913,$t=Gt!==st.lane;if($t?(an&Gt)===Gt:(T&Gt)===Gt){Gt!==0&&Gt===Dn&&(Db=!0),oe!==null&&(oe=oe.next={lane:0,tag:st.tag,payload:st.payload,callback:null,next:null});t:{var Sn=c,dn=st;Gt=d;var Zi=v;switch(dn.tag){case 1:if(Sn=dn.payload,typeof Sn=="function"){fe=Sn.call(Zi,fe,Gt);break t}fe=Sn;break t;case 3:Sn.flags=Sn.flags&-65537|128;case 0:if(Sn=dn.payload,Gt=typeof Sn=="function"?Sn.call(Zi,fe,Gt):Sn,Gt==null)break t;fe=h({},fe,Gt);break t;case 2:nc=!0}}Gt=st.callback,Gt!==null&&(c.flags|=64,$t&&(c.flags|=8192),$t=P.callbacks,$t===null?P.callbacks=[Gt]:$t.push(Gt))}else $t={lane:Gt,tag:st.tag,payload:st.payload,callback:st.callback,next:null},oe===null?(zt=oe=$t,vt=fe):oe=oe.next=$t,J|=Gt;if(st=st.next,st===null){if(st=P.shared.pending,st===null)break;$t=st,st=$t.next,$t.next=null,P.lastBaseUpdate=$t,P.shared.pending=null}}while(!0);oe===null&&(vt=fe),P.baseState=vt,P.firstBaseUpdate=zt,P.lastBaseUpdate=oe,z===null&&(P.shared.lanes=0),Nl|=J,c.lanes=J,c.memoizedState=fe}}function rp(c,d){if(typeof c!="function")throw Error(r(191,c));c.call(d)}function VE(c,d){var v=c.callbacks;if(v!==null)for(c.callbacks=null,c=0;c<v.length;c++)rp(v[c],d)}var sp=ht(null),S0=ht(0);function HE(c,d){c=Xo,xt(S0,c),xt(sp,d),Xo=c|d.baseLanes}function Nb(){xt(S0,Xo),xt(sp,sp.current)}function ig(){Xo=S0.current,yt(sp),yt(S0)}var rc=0,Nn=null,Ii=null,Yr=null,E0=!1,af=!1,oa=!1,ss=0,jo=0,Ns=null,jE=0;function Dr(){throw Error(r(321))}function $s(c,d){if(d===null)return!1;for(var v=0;v<d.length&&v<c.length;v++)if(!Ma(c[v],d[v]))return!1;return!0}function sc(c,d,v,T,P,z){return rc=z,Nn=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,q.H=c===null||c.memoizedState===null?P0:Kb,oa=!1,z=v(T,P),oa=!1,af&&(z=qE(d,v,T,P)),GE(c),z}function GE(c){q.H=ag;var d=Ii!==null&&Ii.next!==null;if(rc=0,Yr=Ii=Nn=null,E0=!1,jo=0,Ns=null,d)throw Error(r(300));c===null||xs||(c=c.dependencies,c!==null&&Ym(c)&&(xs=!0))}function qE(c,d,v,T){Nn=c;var P=0;do{if(af&&(Ns=null),jo=0,af=!1,25<=P)throw Error(r(301));if(P+=1,Yr=Ii=null,c.updateQueue!=null){var z=c.updateQueue;z.lastEffect=null,z.events=null,z.stores=null,z.memoCache!=null&&(z.memoCache.index=0)}q.H=yT,z=d(v,T)}while(af);return z}function cO(){var c=q.H,d=c.useState()[0];return d=typeof d.then=="function"?Ml(d):d,c=c.useState()[0],(Ii!==null?Ii.memoizedState:null)!==c&&(Nn.flags|=1024),d}function Lb(){var c=ss!==0;return ss=0,c}function T0(c,d,v){d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~v}function Ub(c){if(E0){for(c=c.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}E0=!1}rc=0,Yr=Ii=Nn=null,af=!1,jo=ss=0,Ns=null}function la(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yr===null?Nn.memoizedState=Yr=c:Yr=Yr.next=c,Yr}function Kr(){if(Ii===null){var c=Nn.alternate;c=c!==null?c.memoizedState:null}else c=Ii.next;var d=Yr===null?Nn.memoizedState:Yr.next;if(d!==null)Yr=d,Ii=c;else{if(c===null)throw Nn.alternate===null?Error(r(467)):Error(r(310));Ii=c,c={memoizedState:Ii.memoizedState,baseState:Ii.baseState,baseQueue:Ii.baseQueue,queue:Ii.queue,next:null},Yr===null?Nn.memoizedState=Yr=c:Yr=Yr.next=c}return Yr}function of(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ml(c){var d=jo;return jo+=1,Ns===null&&(Ns=[]),c=x0(Ns,c,d),d=Nn,(Yr===null?d.memoizedState:Yr.next)===null&&(d=d.alternate,q.H=d===null||d.memoizedState===null?P0:Kb),c}function w0(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return Ml(c);if(c.$$typeof===C)return br(c)}throw Error(r(438,String(c)))}function kb(c){var d=null,v=Nn.updateQueue;if(v!==null&&(d=v.memoCache),d==null){var T=Nn.alternate;T!==null&&(T=T.updateQueue,T!==null&&(T=T.memoCache,T!=null&&(d={data:T.data.map(function(P){return P.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),v===null&&(v=of(),Nn.updateQueue=v),v.memoCache=d,v=d.data[d.index],v===void 0)for(v=d.data[d.index]=Array(c),T=0;T<c;T++)v[T]=O;return d.index++,v}function ac(c,d){return typeof d=="function"?d(c):d}function lf(c){var d=Kr();return zb(d,Ii,c)}function zb(c,d,v){var T=c.queue;if(T===null)throw Error(r(311));T.lastRenderedReducer=v;var P=c.baseQueue,z=T.pending;if(z!==null){if(P!==null){var J=P.next;P.next=z.next,z.next=J}d.baseQueue=P=z,T.pending=null}if(z=c.baseState,P===null)c.memoizedState=z;else{d=P.next;var st=J=null,vt=null,zt=d,oe=!1;do{var fe=zt.lane&-536870913;if(fe!==zt.lane?(an&fe)===fe:(rc&fe)===fe){var Gt=zt.revertLane;if(Gt===0)vt!==null&&(vt=vt.next={lane:0,revertLane:0,action:zt.action,hasEagerState:zt.hasEagerState,eagerState:zt.eagerState,next:null}),fe===Dn&&(oe=!0);else if((rc&Gt)===Gt){zt=zt.next,Gt===Dn&&(oe=!0);continue}else fe={lane:0,revertLane:zt.revertLane,action:zt.action,hasEagerState:zt.hasEagerState,eagerState:zt.eagerState,next:null},vt===null?(st=vt=fe,J=z):vt=vt.next=fe,Nn.lanes|=Gt,Nl|=Gt;fe=zt.action,oa&&v(z,fe),z=zt.hasEagerState?zt.eagerState:v(z,fe)}else Gt={lane:fe,revertLane:zt.revertLane,action:zt.action,hasEagerState:zt.hasEagerState,eagerState:zt.eagerState,next:null},vt===null?(st=vt=Gt,J=z):vt=vt.next=Gt,Nn.lanes|=fe,Nl|=fe;zt=zt.next}while(zt!==null&&zt!==d);if(vt===null?J=z:vt.next=st,!Ma(z,c.memoizedState)&&(xs=!0,oe&&(v=tp,v!==null)))throw v;c.memoizedState=z,c.baseState=J,c.baseQueue=vt,T.lastRenderedState=z}return P===null&&(T.lanes=0),[c.memoizedState,T.dispatch]}function Bb(c){var d=Kr(),v=d.queue;if(v===null)throw Error(r(311));v.lastRenderedReducer=c;var T=v.dispatch,P=v.pending,z=d.memoizedState;if(P!==null){v.pending=null;var J=P=P.next;do z=c(z,J.action),J=J.next;while(J!==P);Ma(z,d.memoizedState)||(xs=!0),d.memoizedState=z,d.baseQueue===null&&(d.baseState=z),v.lastRenderedState=z}return[z,T]}function $E(c,d,v){var T=Nn,P=Kr(),z=vi;if(z){if(v===void 0)throw Error(r(407));v=v()}else v=d();var J=!Ma((Ii||P).memoizedState,v);J&&(P.memoizedState=v,xs=!0),P=P.queue;var st=XE.bind(null,T,P,c);if(lp(2048,8,st,[c]),P.getSnapshot!==d||J||Yr!==null&&Yr.memoizedState.tag&1){if(T.flags|=2048,op(9,rg(),WE.bind(null,T,P,v,d),null),On===null)throw Error(r(349));z||(rc&124)!==0||ap(T,d,v)}return v}function ap(c,d,v){c.flags|=16384,c={getSnapshot:d,value:v},d=Nn.updateQueue,d===null?(d=of(),Nn.updateQueue=d,d.stores=[c]):(v=d.stores,v===null?d.stores=[c]:v.push(c))}function WE(c,d,v,T){d.value=v,d.getSnapshot=T,YE(d)&&KE(c)}function XE(c,d,v){return v(function(){YE(d)&&KE(c)})}function YE(c){var d=c.getSnapshot;c=c.value;try{var v=d();return!Ma(c,v)}catch{return!0}}function KE(c){var d=Qu(c,2);d!==null&&fa(d,c,2)}function Fb(c){var d=la();if(typeof c=="function"){var v=c;if(c=v(),oa){Lt(!0);try{v()}finally{Lt(!1)}}}return d.memoizedState=d.baseState=c,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ac,lastRenderedState:c},d}function ZE(c,d,v,T){return c.baseState=v,zb(c,Ii,typeof T=="function"?T:ac)}function fO(c,d,v,T,P){if(I0(c))throw Error(r(485));if(c=d.action,c!==null){var z={payload:P,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(J){z.listeners.push(J)}};q.T!==null?v(!0):z.isTransition=!1,T(z),v=d.pending,v===null?(z.next=d.pending=z,QE(d,z)):(z.next=v.next,d.pending=v.next=z)}}function QE(c,d){var v=d.action,T=d.payload,P=c.state;if(d.isTransition){var z=q.T,J={};q.T=J;try{var st=v(P,T),vt=q.S;vt!==null&&vt(J,st),JE(c,d,st)}catch(zt){Vb(c,d,zt)}finally{q.T=z}}else try{z=v(P,T),JE(c,d,z)}catch(zt){Vb(c,d,zt)}}function JE(c,d,v){v!==null&&typeof v=="object"&&typeof v.then=="function"?v.then(function(T){tT(c,d,T)},function(T){return Vb(c,d,T)}):tT(c,d,v)}function tT(c,d,v){d.status="fulfilled",d.value=v,eT(d),c.state=v,d=c.pending,d!==null&&(v=d.next,v===d?c.pending=null:(v=v.next,d.next=v,QE(c,v)))}function Vb(c,d,v){var T=c.pending;if(c.pending=null,T!==null){T=T.next;do d.status="rejected",d.reason=v,eT(d),d=d.next;while(d!==T)}c.action=null}function eT(c){c=c.listeners;for(var d=0;d<c.length;d++)(0,c[d])()}function Hb(c,d){return d}function nT(c,d){if(vi){var v=On.formState;if(v!==null){t:{var T=Nn;if(vi){if(pr){e:{for(var P=pr,z=io;P.nodeType!==8;){if(!z){P=null;break e}if(P=dc(P.nextSibling),P===null){P=null;break e}}z=P.data,P=z==="F!"||z==="F"?P:null}if(P){pr=dc(P.nextSibling),T=P.data==="F!";break t}}ef(T)}T=!1}T&&(d=v[0])}}return v=la(),v.memoizedState=v.baseState=d,T={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hb,lastRenderedState:d},v.queue=T,v=mT.bind(null,Nn,T),T.dispatch=v,T=Fb(!1),z=O0.bind(null,Nn,!1,T.queue),T=la(),P={state:d,dispatch:null,action:c,pending:null},T.queue=P,v=fO.bind(null,Nn,P,z,v),P.dispatch=v,T.memoizedState=c,[d,v,!1]}function iT(c){var d=Kr();return rT(d,Ii,c)}function rT(c,d,v){if(d=zb(c,d,Hb)[0],c=lf(ac)[0],typeof d=="object"&&d!==null&&typeof d.then=="function")try{var T=Ml(d)}catch(J){throw J===tg?Al:J}else T=d;d=Kr();var P=d.queue,z=P.dispatch;return v!==d.memoizedState&&(Nn.flags|=2048,op(9,rg(),hO.bind(null,P,v),null)),[T,z,c]}function hO(c,d){c.action=d}function sT(c){var d=Kr(),v=Ii;if(v!==null)return rT(d,v,c);Kr(),d=d.memoizedState,v=Kr();var T=v.queue.dispatch;return v.memoizedState=c,[d,T,!1]}function op(c,d,v,T){return c={tag:c,create:v,deps:T,inst:d,next:null},d=Nn.updateQueue,d===null&&(d=of(),Nn.updateQueue=d),v=d.lastEffect,v===null?d.lastEffect=c.next=c:(T=v.next,v.next=c,c.next=T,d.lastEffect=c),c}function rg(){return{destroy:void 0,resource:void 0}}function jb(){return Kr().memoizedState}function A0(c,d,v,T){var P=la();T=T===void 0?null:T,Nn.flags|=c,P.memoizedState=op(1|d,rg(),v,T)}function lp(c,d,v,T){var P=Kr();T=T===void 0?null:T;var z=P.memoizedState.inst;Ii!==null&&T!==null&&$s(T,Ii.memoizedState.deps)?P.memoizedState=op(d,z,v,T):(Nn.flags|=c,P.memoizedState=op(1|d,z,v,T))}function Gb(c,d){A0(8390656,8,c,d)}function qb(c,d){lp(2048,8,c,d)}function M0(c,d){return lp(4,2,c,d)}function C0(c,d){return lp(4,4,c,d)}function aT(c,d){if(typeof d=="function"){c=c();var v=d(c);return function(){typeof v=="function"?v():d(null)}}if(d!=null)return c=c(),d.current=c,function(){d.current=null}}function oT(c,d,v){v=v!=null?v.concat([c]):null,lp(4,4,aT.bind(null,d,c),v)}function $b(){}function lT(c,d){var v=Kr();d=d===void 0?null:d;var T=v.memoizedState;return d!==null&&$s(d,T[1])?T[0]:(v.memoizedState=[c,d],c)}function Wb(c,d){var v=Kr();d=d===void 0?null:d;var T=v.memoizedState;if(d!==null&&$s(d,T[1]))return T[0];if(T=c(),oa){Lt(!0);try{c()}finally{Lt(!1)}}return v.memoizedState=[T,d],T}function R0(c,d,v){return v===void 0||(rc&1073741824)!==0?c.memoizedState=d:(c.memoizedState=v,c=j0(),Nn.lanes|=c,Nl|=c,v)}function uT(c,d,v,T){return Ma(v,d)?v:sp.current!==null?(c=R0(c,v,T),Ma(c,d)||(xs=!0),c):(rc&42)===0?(xs=!0,c.memoizedState=v):(c=j0(),Nn.lanes|=c,Nl|=c,d)}function cT(c,d,v,T,P){var z=W.p;W.p=z!==0&&8>z?z:8;var J=q.T,st={};q.T=st,O0(c,!1,d,v);try{var vt=P(),zt=q.S;if(zt!==null&&zt(st,vt),vt!==null&&typeof vt=="object"&&typeof vt.then=="function"){var oe=uO(vt,T);sg(c,d,oe,Er(c))}else sg(c,d,T,Er(c))}catch(fe){sg(c,d,{then:function(){},status:"rejected",reason:fe},Er())}finally{W.p=z,q.T=J}}function dO(){}function Xb(c,d,v,T){if(c.tag!==5)throw Error(r(476));var P=fT(c).queue;cT(c,P,d,Z,v===null?dO:function(){return hT(c),v(T)})}function fT(c){var d=c.memoizedState;if(d!==null)return d;d={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ac,lastRenderedState:Z},next:null};var v={};return d.next={memoizedState:v,baseState:v,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ac,lastRenderedState:v},next:null},c.memoizedState=d,c=c.alternate,c!==null&&(c.memoizedState=d),d}function hT(c){var d=fT(c).next.queue;sg(c,d,{},Er())}function Yb(){return br(lx)}function dT(){return Kr().memoizedState}function pT(){return Kr().memoizedState}function pO(c){for(var d=c.return;d!==null;){switch(d.tag){case 24:case 3:var v=Er();c=ou(v);var T=ic(d,c,v);T!==null&&(fa(T,d,v),xh(T,d,v)),d={cache:y0()},c.payload=d;return}d=d.return}}function mO(c,d,v){var T=Er();v={lane:T,revertLane:0,action:v,hasEagerState:!1,eagerState:null,next:null},I0(c)?gT(d,v):(v=h0(c,d,v,T),v!==null&&(fa(v,c,T),so(v,d,T)))}function mT(c,d,v){var T=Er();sg(c,d,v,T)}function sg(c,d,v,T){var P={lane:T,revertLane:0,action:v,hasEagerState:!1,eagerState:null,next:null};if(I0(c))gT(d,P);else{var z=c.alternate;if(c.lanes===0&&(z===null||z.lanes===0)&&(z=d.lastRenderedReducer,z!==null))try{var J=d.lastRenderedState,st=z(J,v);if(P.hasEagerState=!0,P.eagerState=st,Ma(st,J))return Zc(c,d,P,0),On===null&&Gm(),!1}catch{}finally{}if(v=h0(c,d,P,T),v!==null)return fa(v,c,T),so(v,d,T),!0}return!1}function O0(c,d,v,T){if(T={lane:2,revertLane:vO(),action:T,hasEagerState:!1,eagerState:null,next:null},I0(c)){if(d)throw Error(r(479))}else d=h0(c,v,T,2),d!==null&&fa(d,c,2)}function I0(c){var d=c.alternate;return c===Nn||d!==null&&d===Nn}function gT(c,d){af=E0=!0;var v=c.pending;v===null?d.next=d:(d.next=v.next,v.next=d),c.pending=d}function so(c,d,v){if((v&4194048)!==0){var T=d.lanes;T&=c.pendingLanes,v|=T,d.lanes=v,on(c,v)}}var ag={readContext:br,use:w0,useCallback:Dr,useContext:Dr,useEffect:Dr,useImperativeHandle:Dr,useLayoutEffect:Dr,useInsertionEffect:Dr,useMemo:Dr,useReducer:Dr,useRef:Dr,useState:Dr,useDebugValue:Dr,useDeferredValue:Dr,useTransition:Dr,useSyncExternalStore:Dr,useId:Dr,useHostTransitionStatus:Dr,useFormState:Dr,useActionState:Dr,useOptimistic:Dr,useMemoCache:Dr,useCacheRefresh:Dr},P0={readContext:br,use:w0,useCallback:function(c,d){return la().memoizedState=[c,d===void 0?null:d],c},useContext:br,useEffect:Gb,useImperativeHandle:function(c,d,v){v=v!=null?v.concat([c]):null,A0(4194308,4,aT.bind(null,d,c),v)},useLayoutEffect:function(c,d){return A0(4194308,4,c,d)},useInsertionEffect:function(c,d){A0(4,2,c,d)},useMemo:function(c,d){var v=la();d=d===void 0?null:d;var T=c();if(oa){Lt(!0);try{c()}finally{Lt(!1)}}return v.memoizedState=[T,d],T},useReducer:function(c,d,v){var T=la();if(v!==void 0){var P=v(d);if(oa){Lt(!0);try{v(d)}finally{Lt(!1)}}}else P=d;return T.memoizedState=T.baseState=P,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:P},T.queue=c,c=c.dispatch=mO.bind(null,Nn,c),[T.memoizedState,c]},useRef:function(c){var d=la();return c={current:c},d.memoizedState=c},useState:function(c){c=Fb(c);var d=c.queue,v=mT.bind(null,Nn,d);return d.dispatch=v,[c.memoizedState,v]},useDebugValue:$b,useDeferredValue:function(c,d){var v=la();return R0(v,c,d)},useTransition:function(){var c=Fb(!1);return c=cT.bind(null,Nn,c.queue,!0,!1),la().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,d,v){var T=Nn,P=la();if(vi){if(v===void 0)throw Error(r(407));v=v()}else{if(v=d(),On===null)throw Error(r(349));(an&124)!==0||ap(T,d,v)}P.memoizedState=v;var z={value:v,getSnapshot:d};return P.queue=z,Gb(XE.bind(null,T,z,c),[c]),T.flags|=2048,op(9,rg(),WE.bind(null,T,z,v,d),null),v},useId:function(){var c=la(),d=On.identifierPrefix;if(vi){var v=su,T=ru;v=(T&~(1<<32-Qt(T)-1)).toString(32)+v,d=""+d+"R"+v,v=ss++,0<v&&(d+="H"+v.toString(32)),d+=""}else v=jE++,d=""+d+"r"+v.toString(32)+"";return c.memoizedState=d},useHostTransitionStatus:Yb,useFormState:nT,useActionState:nT,useOptimistic:function(c){var d=la();d.memoizedState=d.baseState=c;var v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=v,d=O0.bind(null,Nn,!0,v),v.dispatch=d,[c,d]},useMemoCache:kb,useCacheRefresh:function(){return la().memoizedState=pO.bind(null,Nn)}},Kb={readContext:br,use:w0,useCallback:lT,useContext:br,useEffect:qb,useImperativeHandle:oT,useInsertionEffect:M0,useLayoutEffect:C0,useMemo:Wb,useReducer:lf,useRef:jb,useState:function(){return lf(ac)},useDebugValue:$b,useDeferredValue:function(c,d){var v=Kr();return uT(v,Ii.memoizedState,c,d)},useTransition:function(){var c=lf(ac)[0],d=Kr().memoizedState;return[typeof c=="boolean"?c:Ml(c),d]},useSyncExternalStore:$E,useId:dT,useHostTransitionStatus:Yb,useFormState:iT,useActionState:iT,useOptimistic:function(c,d){var v=Kr();return ZE(v,Ii,c,d)},useMemoCache:kb,useCacheRefresh:pT},yT={readContext:br,use:w0,useCallback:lT,useContext:br,useEffect:qb,useImperativeHandle:oT,useInsertionEffect:M0,useLayoutEffect:C0,useMemo:Wb,useReducer:Bb,useRef:jb,useState:function(){return Bb(ac)},useDebugValue:$b,useDeferredValue:function(c,d){var v=Kr();return Ii===null?R0(v,c,d):uT(v,Ii.memoizedState,c,d)},useTransition:function(){var c=Bb(ac)[0],d=Kr().memoizedState;return[typeof c=="boolean"?c:Ml(c),d]},useSyncExternalStore:$E,useId:dT,useHostTransitionStatus:Yb,useFormState:sT,useActionState:sT,useOptimistic:function(c,d){var v=Kr();return Ii!==null?ZE(v,Ii,c,d):(v.baseState=c,[c,v.queue.dispatch])},useMemoCache:kb,useCacheRefresh:pT},Sh=null,og=0;function lg(c){var d=og;return og+=1,Sh===null&&(Sh=[]),x0(Sh,c,d)}function up(c,d){d=d.props.ref,c.ref=d!==void 0?d:null}function D0(c,d){throw d.$$typeof===p?Error(r(525)):(c=Object.prototype.toString.call(d),Error(r(31,c==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":c)))}function vT(c){var d=c._init;return d(c._payload)}function _T(c){function d(Dt,At){if(c){var Ut=Dt.deletions;Ut===null?(Dt.deletions=[At],Dt.flags|=16):Ut.push(At)}}function v(Dt,At){if(!c)return null;for(;At!==null;)d(Dt,At),At=At.sibling;return null}function T(Dt){for(var At=new Map;Dt!==null;)Dt.key!==null?At.set(Dt.key,Dt):At.set(Dt.index,Dt),Dt=Dt.sibling;return At}function P(Dt,At){return Dt=Pr(Dt,At),Dt.index=0,Dt.sibling=null,Dt}function z(Dt,At,Ut){return Dt.index=Ut,c?(Ut=Dt.alternate,Ut!==null?(Ut=Ut.index,Ut<At?(Dt.flags|=67108866,At):Ut):(Dt.flags|=67108866,At)):(Dt.flags|=1048576,At)}function J(Dt){return c&&Dt.alternate===null&&(Dt.flags|=67108866),Dt}function st(Dt,At,Ut,ue){return At===null||At.tag!==6?(At=$m(Ut,Dt.mode,ue),At.return=Dt,At):(At=P(At,Ut),At.return=Dt,At)}function vt(Dt,At,Ut,ue){var qe=Ut.type;return qe===x?oe(Dt,At,Ut.props.children,ue,Ut.key):At!==null&&(At.elementType===qe||typeof qe=="object"&&qe!==null&&qe.$$typeof===L&&vT(qe)===At.type)?(At=P(At,Ut.props),up(At,Ut),At.return=Dt,At):(At=bs(Ut.type,Ut.key,Ut.props,null,Dt.mode,ue),up(At,Ut),At.return=Dt,At)}function zt(Dt,At,Ut,ue){return At===null||At.tag!==4||At.stateNode.containerInfo!==Ut.containerInfo||At.stateNode.implementation!==Ut.implementation?(At=d0(Ut,Dt.mode,ue),At.return=Dt,At):(At=P(At,Ut.children||[]),At.return=Dt,At)}function oe(Dt,At,Ut,ue,qe){return At===null||At.tag!==7?(At=Jc(Ut,Dt.mode,ue,qe),At.return=Dt,At):(At=P(At,Ut),At.return=Dt,At)}function fe(Dt,At,Ut){if(typeof At=="string"&&At!==""||typeof At=="number"||typeof At=="bigint")return At=$m(""+At,Dt.mode,Ut),At.return=Dt,At;if(typeof At=="object"&&At!==null){switch(At.$$typeof){case y:return Ut=bs(At.type,At.key,At.props,null,Dt.mode,Ut),up(Ut,At),Ut.return=Dt,Ut;case _:return At=d0(At,Dt.mode,Ut),At.return=Dt,At;case L:var ue=At._init;return At=ue(At._payload),fe(Dt,At,Ut)}if(et(At)||H(At))return At=Jc(At,Dt.mode,Ut,null),At.return=Dt,At;if(typeof At.then=="function")return fe(Dt,lg(At),Ut);if(At.$$typeof===C)return fe(Dt,Km(Dt,At),Ut);D0(Dt,At)}return null}function Gt(Dt,At,Ut,ue){var qe=At!==null?At.key:null;if(typeof Ut=="string"&&Ut!==""||typeof Ut=="number"||typeof Ut=="bigint")return qe!==null?null:st(Dt,At,""+Ut,ue);if(typeof Ut=="object"&&Ut!==null){switch(Ut.$$typeof){case y:return Ut.key===qe?vt(Dt,At,Ut,ue):null;case _:return Ut.key===qe?zt(Dt,At,Ut,ue):null;case L:return qe=Ut._init,Ut=qe(Ut._payload),Gt(Dt,At,Ut,ue)}if(et(Ut)||H(Ut))return qe!==null?null:oe(Dt,At,Ut,ue,null);if(typeof Ut.then=="function")return Gt(Dt,At,lg(Ut),ue);if(Ut.$$typeof===C)return Gt(Dt,At,Km(Dt,Ut),ue);D0(Dt,Ut)}return null}function $t(Dt,At,Ut,ue,qe){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return Dt=Dt.get(Ut)||null,st(At,Dt,""+ue,qe);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case y:return Dt=Dt.get(ue.key===null?Ut:ue.key)||null,vt(At,Dt,ue,qe);case _:return Dt=Dt.get(ue.key===null?Ut:ue.key)||null,zt(At,Dt,ue,qe);case L:var si=ue._init;return ue=si(ue._payload),$t(Dt,At,Ut,ue,qe)}if(et(ue)||H(ue))return Dt=Dt.get(Ut)||null,oe(At,Dt,ue,qe,null);if(typeof ue.then=="function")return $t(Dt,At,Ut,lg(ue),qe);if(ue.$$typeof===C)return $t(Dt,At,Ut,Km(At,ue),qe);D0(At,ue)}return null}function Sn(Dt,At,Ut,ue){for(var qe=null,si=null,rn=At,pn=At=0,Ys=null;rn!==null&&pn<Ut.length;pn++){rn.index>pn?(Ys=rn,rn=null):Ys=rn.sibling;var Ci=Gt(Dt,rn,Ut[pn],ue);if(Ci===null){rn===null&&(rn=Ys);break}c&&rn&&Ci.alternate===null&&d(Dt,rn),At=z(Ci,At,pn),si===null?qe=Ci:si.sibling=Ci,si=Ci,rn=Ys}if(pn===Ut.length)return v(Dt,rn),vi&&Ju(Dt,pn),qe;if(rn===null){for(;pn<Ut.length;pn++)rn=fe(Dt,Ut[pn],ue),rn!==null&&(At=z(rn,At,pn),si===null?qe=rn:si.sibling=rn,si=rn);return vi&&Ju(Dt,pn),qe}for(rn=T(rn);pn<Ut.length;pn++)Ys=$t(rn,Dt,pn,Ut[pn],ue),Ys!==null&&(c&&Ys.alternate!==null&&rn.delete(Ys.key===null?pn:Ys.key),At=z(Ys,At,pn),si===null?qe=Ys:si.sibling=Ys,si=Ys);return c&&rn.forEach(function(Ap){return d(Dt,Ap)}),vi&&Ju(Dt,pn),qe}function dn(Dt,At,Ut,ue){if(Ut==null)throw Error(r(151));for(var qe=null,si=null,rn=At,pn=At=0,Ys=null,Ci=Ut.next();rn!==null&&!Ci.done;pn++,Ci=Ut.next()){rn.index>pn?(Ys=rn,rn=null):Ys=rn.sibling;var Ap=Gt(Dt,rn,Ci.value,ue);if(Ap===null){rn===null&&(rn=Ys);break}c&&rn&&Ap.alternate===null&&d(Dt,rn),At=z(Ap,At,pn),si===null?qe=Ap:si.sibling=Ap,si=Ap,rn=Ys}if(Ci.done)return v(Dt,rn),vi&&Ju(Dt,pn),qe;if(rn===null){for(;!Ci.done;pn++,Ci=Ut.next())Ci=fe(Dt,Ci.value,ue),Ci!==null&&(At=z(Ci,At,pn),si===null?qe=Ci:si.sibling=Ci,si=Ci);return vi&&Ju(Dt,pn),qe}for(rn=T(rn);!Ci.done;pn++,Ci=Ut.next())Ci=$t(rn,Dt,pn,Ci.value,ue),Ci!==null&&(c&&Ci.alternate!==null&&rn.delete(Ci.key===null?pn:Ci.key),At=z(Ci,At,pn),si===null?qe=Ci:si.sibling=Ci,si=Ci);return c&&rn.forEach(function(xZ){return d(Dt,xZ)}),vi&&Ju(Dt,pn),qe}function Zi(Dt,At,Ut,ue){if(typeof Ut=="object"&&Ut!==null&&Ut.type===x&&Ut.key===null&&(Ut=Ut.props.children),typeof Ut=="object"&&Ut!==null){switch(Ut.$$typeof){case y:t:{for(var qe=Ut.key;At!==null;){if(At.key===qe){if(qe=Ut.type,qe===x){if(At.tag===7){v(Dt,At.sibling),ue=P(At,Ut.props.children),ue.return=Dt,Dt=ue;break t}}else if(At.elementType===qe||typeof qe=="object"&&qe!==null&&qe.$$typeof===L&&vT(qe)===At.type){v(Dt,At.sibling),ue=P(At,Ut.props),up(ue,Ut),ue.return=Dt,Dt=ue;break t}v(Dt,At);break}else d(Dt,At);At=At.sibling}Ut.type===x?(ue=Jc(Ut.props.children,Dt.mode,ue,Ut.key),ue.return=Dt,Dt=ue):(ue=bs(Ut.type,Ut.key,Ut.props,null,Dt.mode,ue),up(ue,Ut),ue.return=Dt,Dt=ue)}return J(Dt);case _:t:{for(qe=Ut.key;At!==null;){if(At.key===qe)if(At.tag===4&&At.stateNode.containerInfo===Ut.containerInfo&&At.stateNode.implementation===Ut.implementation){v(Dt,At.sibling),ue=P(At,Ut.children||[]),ue.return=Dt,Dt=ue;break t}else{v(Dt,At);break}else d(Dt,At);At=At.sibling}ue=d0(Ut,Dt.mode,ue),ue.return=Dt,Dt=ue}return J(Dt);case L:return qe=Ut._init,Ut=qe(Ut._payload),Zi(Dt,At,Ut,ue)}if(et(Ut))return Sn(Dt,At,Ut,ue);if(H(Ut)){if(qe=H(Ut),typeof qe!="function")throw Error(r(150));return Ut=qe.call(Ut),dn(Dt,At,Ut,ue)}if(typeof Ut.then=="function")return Zi(Dt,At,lg(Ut),ue);if(Ut.$$typeof===C)return Zi(Dt,At,Km(Dt,Ut),ue);D0(Dt,Ut)}return typeof Ut=="string"&&Ut!==""||typeof Ut=="number"||typeof Ut=="bigint"?(Ut=""+Ut,At!==null&&At.tag===6?(v(Dt,At.sibling),ue=P(At,Ut),ue.return=Dt,Dt=ue):(v(Dt,At),ue=$m(Ut,Dt.mode,ue),ue.return=Dt,Dt=ue),J(Dt)):v(Dt,At)}return function(Dt,At,Ut,ue){try{og=0;var qe=Zi(Dt,At,Ut,ue);return Sh=null,qe}catch(rn){if(rn===tg||rn===Al)throw rn;var si=Oa(29,rn,null,Dt.mode);return si.lanes=ue,si.return=Dt,si}finally{}}}var Eh=_T(!0),bT=_T(!1),Vi=ht(null),Cl=null;function uf(c){var d=c.alternate;xt(Nr,Nr.current&1),xt(Vi,c),Cl===null&&(d===null||sp.current!==null||d.memoizedState!==null)&&(Cl=c)}function xT(c){if(c.tag===22){if(xt(Nr,Nr.current),xt(Vi,c),Cl===null){var d=c.alternate;d!==null&&d.memoizedState!==null&&(Cl=c)}}else cf()}function cf(){xt(Nr,Nr.current),xt(Vi,Vi.current)}function lu(c){yt(Vi),Cl===c&&(Cl=null),yt(Nr)}var Nr=ht(0);function oc(c){for(var d=c;d!==null;){if(d.tag===13){var v=d.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||v.data==="$?"||OO(v)))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}function ff(c,d,v,T){d=c.memoizedState,v=v(T,d),v=v==null?d:h({},d,v),c.memoizedState=v,c.lanes===0&&(c.updateQueue.baseState=v)}var ua={enqueueSetState:function(c,d,v){c=c._reactInternals;var T=Er(),P=ou(T);P.payload=d,v!=null&&(P.callback=v),d=ic(c,P,T),d!==null&&(fa(d,c,T),xh(d,c,T))},enqueueReplaceState:function(c,d,v){c=c._reactInternals;var T=Er(),P=ou(T);P.tag=1,P.payload=d,v!=null&&(P.callback=v),d=ic(c,P,T),d!==null&&(fa(d,c,T),xh(d,c,T))},enqueueForceUpdate:function(c,d){c=c._reactInternals;var v=Er(),T=ou(v);T.tag=2,d!=null&&(T.callback=d),d=ic(c,T,v),d!==null&&(fa(d,c,v),xh(d,c,v))}};function ST(c,d,v,T,P,z,J){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(T,z,J):d.prototype&&d.prototype.isPureReactComponent?!Tl(v,T)||!Tl(P,z):!0}function ET(c,d,v,T){c=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(v,T),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(v,T),d.state!==c&&ua.enqueueReplaceState(d,d.state,null)}function uu(c,d){var v=d;if("ref"in d){v={};for(var T in d)T!=="ref"&&(v[T]=d[T])}if(c=c.defaultProps){v===d&&(v=h({},v));for(var P in c)v[P]===void 0&&(v[P]=c[P])}return v}var Th=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)};function ug(c){Th(c)}function N0(c){console.error(c)}function TT(c){Th(c)}function L0(c,d){try{var v=c.onUncaughtError;v(d.value,{componentStack:d.stack})}catch(T){setTimeout(function(){throw T})}}function Go(c,d,v){try{var T=c.onCaughtError;T(v.value,{componentStack:v.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(P){setTimeout(function(){throw P})}}function U0(c,d,v){return v=ou(v),v.tag=3,v.payload={element:null},v.callback=function(){L0(c,d)},v}function wT(c){return c=ou(c),c.tag=3,c}function k0(c,d,v,T){var P=v.type.getDerivedStateFromError;if(typeof P=="function"){var z=T.value;c.payload=function(){return P(z)},c.callback=function(){Go(d,v,T)}}var J=v.stateNode;J!==null&&typeof J.componentDidCatch=="function"&&(c.callback=function(){Go(d,v,T),typeof P!="function"&&(po===null?po=new Set([this]):po.add(this));var st=T.stack;this.componentDidCatch(T.value,{componentStack:st!==null?st:""})})}function gO(c,d,v,T,P){if(v.flags|=32768,T!==null&&typeof T=="object"&&typeof T.then=="function"){if(d=v.alternate,d!==null&&Fo(d,v,P,!0),v=Vi.current,v!==null){switch(v.tag){case 13:return Cl===null?m():v.alternate===null&&tr===0&&(tr=3),v.flags&=-257,v.flags|=65536,v.lanes=P,T===eg?v.flags|=16384:(d=v.updateQueue,d===null?v.updateQueue=new Set([T]):d.add(T),Wt(c,T,P)),!1;case 22:return v.flags|=65536,T===eg?v.flags|=16384:(d=v.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([T])},v.updateQueue=d):(v=d.retryQueue,v===null?d.retryQueue=new Set([T]):v.add(T)),Wt(c,T,P)),!1}throw Error(r(435,v.tag))}return Wt(c,T,P),m(),!1}if(vi)return d=Vi.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=P,T!==m0&&(c=Error(r(422),{cause:T}),bh(Ps(c,v)))):(T!==m0&&(d=Error(r(423),{cause:T}),bh(Ps(d,v))),c=c.current.alternate,c.flags|=65536,P&=-P,c.lanes|=P,T=Ps(T,v),P=U0(c.stateNode,T,P),np(c,P),tr!==4&&(tr=2)),!1;var z=Error(r(520),{cause:T});if(z=Ps(z,v),Mi===null?Mi=[z]:Mi.push(z),tr!==4&&(tr=2),d===null)return!0;T=Ps(T,v),v=d;do{switch(v.tag){case 3:return v.flags|=65536,c=P&-P,v.lanes|=c,c=U0(v.stateNode,T,c),np(v,c),!1;case 1:if(d=v.type,z=v.stateNode,(v.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(po===null||!po.has(z))))return v.flags|=65536,P&=-P,v.lanes|=P,P=wT(P),k0(P,c,v,T),np(v,P),!1}v=v.return}while(v!==null);return!1}var AT=Error(r(461)),xs=!1;function Lr(c,d,v,T){d.child=c===null?bT(d,null,v,T):Eh(d,c.child,v,T)}function Pa(c,d,v,T,P){v=v.render;var z=d.ref;if("ref"in T){var J={};for(var st in T)st!=="ref"&&(J[st]=T[st])}else J=T;return au(d),T=sc(c,d,v,J,z,P),st=Lb(),c!==null&&!xs?(T0(c,d,P),Ss(c,d,P)):(vi&&st&&Tb(d),d.flags|=1,Lr(c,d,T,P),d.child)}function Da(c,d,v,T,P){if(c===null){var z=v.type;return typeof z=="function"&&!qm(z)&&z.defaultProps===void 0&&v.compare===null?(d.tag=15,d.type=z,Zb(c,d,z,T,P)):(c=bs(v.type,null,T,d,d.mode,P),c.ref=d.ref,c.return=d,d.child=c)}if(z=c.child,!cg(c,P)){var J=z.memoizedProps;if(v=v.compare,v=v!==null?v:Tl,v(J,T)&&c.ref===d.ref)return Ss(c,d,P)}return d.flags|=1,c=Pr(z,T),c.ref=d.ref,c.return=d,d.child=c}function Zb(c,d,v,T,P){if(c!==null){var z=c.memoizedProps;if(Tl(z,T)&&c.ref===d.ref)if(xs=!1,d.pendingProps=T=z,cg(c,P))(c.flags&131072)!==0&&(xs=!0);else return d.lanes=c.lanes,Ss(c,d,P)}return cp(c,d,v,T,P)}function wh(c,d,v){var T=d.pendingProps,P=T.children,z=c!==null?c.memoizedState:null;if(T.mode==="hidden"){if((d.flags&128)!==0){if(T=z!==null?z.baseLanes|v:v,c!==null){for(P=d.child=c.child,z=0;P!==null;)z=z|P.lanes|P.childLanes,P=P.sibling;d.childLanes=z&~T}else d.childLanes=0,d.child=null;return Ah(c,d,T,v)}if((v&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},c!==null&&Jm(d,z!==null?z.cachePool:null),z!==null?HE(d,z):Nb(),xT(d);else return d.lanes=d.childLanes=536870912,Ah(c,d,z!==null?z.baseLanes|v:v,v)}else z!==null?(Jm(d,z.cachePool),HE(d,z),cf(),d.memoizedState=null):(c!==null&&Jm(d,null),Nb(),cf());return Lr(c,d,P,v),d.child}function Ah(c,d,v,T){var P=sf();return P=P===null?null:{parent:Xr._currentValue,pool:P},d.memoizedState={baseLanes:v,cachePool:P},c!==null&&Jm(d,null),Nb(),xT(d),c!==null&&Fo(c,d,T,!0),null}function Mh(c,d){var v=d.ref;if(v===null)c!==null&&c.ref!==null&&(d.flags|=4194816);else{if(typeof v!="function"&&typeof v!="object")throw Error(r(284));(c===null||c.ref!==v)&&(d.flags|=4194816)}}function cp(c,d,v,T,P){return au(d),v=sc(c,d,v,T,void 0,P),T=Lb(),c!==null&&!xs?(T0(c,d,P),Ss(c,d,P)):(vi&&T&&Tb(d),d.flags|=1,Lr(c,d,v,P),d.child)}function ao(c,d,v,T,P,z){return au(d),d.updateQueue=null,v=qE(d,T,v,P),GE(c),T=Lb(),c!==null&&!xs?(T0(c,d,z),Ss(c,d,z)):(vi&&T&&Tb(d),d.flags|=1,Lr(c,d,v,z),d.child)}function oo(c,d,v,T,P){if(au(d),d.stateNode===null){var z=Qc,J=v.contextType;typeof J=="object"&&J!==null&&(z=br(J)),z=new v(T,z),d.memoizedState=z.state!==null&&z.state!==void 0?z.state:null,z.updater=ua,d.stateNode=z,z._reactInternals=d,z=d.stateNode,z.props=T,z.state=d.memoizedState,z.refs={},Pb(d),J=v.contextType,z.context=typeof J=="object"&&J!==null?br(J):Qc,z.state=d.memoizedState,J=v.getDerivedStateFromProps,typeof J=="function"&&(ff(d,v,J,T),z.state=d.memoizedState),typeof v.getDerivedStateFromProps=="function"||typeof z.getSnapshotBeforeUpdate=="function"||typeof z.UNSAFE_componentWillMount!="function"&&typeof z.componentWillMount!="function"||(J=z.state,typeof z.componentWillMount=="function"&&z.componentWillMount(),typeof z.UNSAFE_componentWillMount=="function"&&z.UNSAFE_componentWillMount(),J!==z.state&&ua.enqueueReplaceState(z,z.state,null),ip(d,T,z,P),ng(),z.state=d.memoizedState),typeof z.componentDidMount=="function"&&(d.flags|=4194308),T=!0}else if(c===null){z=d.stateNode;var st=d.memoizedProps,vt=uu(v,st);z.props=vt;var zt=z.context,oe=v.contextType;J=Qc,typeof oe=="object"&&oe!==null&&(J=br(oe));var fe=v.getDerivedStateFromProps;oe=typeof fe=="function"||typeof z.getSnapshotBeforeUpdate=="function",st=d.pendingProps!==st,oe||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(st||zt!==J)&&ET(d,z,T,J),nc=!1;var Gt=d.memoizedState;z.state=Gt,ip(d,T,z,P),ng(),zt=d.memoizedState,st||Gt!==zt||nc?(typeof fe=="function"&&(ff(d,v,fe,T),zt=d.memoizedState),(vt=nc||ST(d,v,vt,T,Gt,zt,J))?(oe||typeof z.UNSAFE_componentWillMount!="function"&&typeof z.componentWillMount!="function"||(typeof z.componentWillMount=="function"&&z.componentWillMount(),typeof z.UNSAFE_componentWillMount=="function"&&z.UNSAFE_componentWillMount()),typeof z.componentDidMount=="function"&&(d.flags|=4194308)):(typeof z.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=T,d.memoizedState=zt),z.props=T,z.state=zt,z.context=J,T=vt):(typeof z.componentDidMount=="function"&&(d.flags|=4194308),T=!1)}else{z=d.stateNode,vn(c,d),J=d.memoizedProps,oe=uu(v,J),z.props=oe,fe=d.pendingProps,Gt=z.context,zt=v.contextType,vt=Qc,typeof zt=="object"&&zt!==null&&(vt=br(zt)),st=v.getDerivedStateFromProps,(zt=typeof st=="function"||typeof z.getSnapshotBeforeUpdate=="function")||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(J!==fe||Gt!==vt)&&ET(d,z,T,vt),nc=!1,Gt=d.memoizedState,z.state=Gt,ip(d,T,z,P),ng();var $t=d.memoizedState;J!==fe||Gt!==$t||nc||c!==null&&c.dependencies!==null&&Ym(c.dependencies)?(typeof st=="function"&&(ff(d,v,st,T),$t=d.memoizedState),(oe=nc||ST(d,v,oe,T,Gt,$t,vt)||c!==null&&c.dependencies!==null&&Ym(c.dependencies))?(zt||typeof z.UNSAFE_componentWillUpdate!="function"&&typeof z.componentWillUpdate!="function"||(typeof z.componentWillUpdate=="function"&&z.componentWillUpdate(T,$t,vt),typeof z.UNSAFE_componentWillUpdate=="function"&&z.UNSAFE_componentWillUpdate(T,$t,vt)),typeof z.componentDidUpdate=="function"&&(d.flags|=4),typeof z.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof z.componentDidUpdate!="function"||J===c.memoizedProps&&Gt===c.memoizedState||(d.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||J===c.memoizedProps&&Gt===c.memoizedState||(d.flags|=1024),d.memoizedProps=T,d.memoizedState=$t),z.props=T,z.state=$t,z.context=vt,T=oe):(typeof z.componentDidUpdate!="function"||J===c.memoizedProps&&Gt===c.memoizedState||(d.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||J===c.memoizedProps&&Gt===c.memoizedState||(d.flags|=1024),T=!1)}return z=T,Mh(c,d),T=(d.flags&128)!==0,z||T?(z=d.stateNode,v=T&&typeof v.getDerivedStateFromError!="function"?null:z.render(),d.flags|=1,c!==null&&T?(d.child=Eh(d,c.child,null,P),d.child=Eh(d,null,v,P)):Lr(c,d,v,P),d.memoizedState=z.state,c=d.child):c=Ss(c,d,P),c}function hf(c,d,v,T){return Zd(),d.flags|=256,Lr(c,d,v,T),d.child}var Rl={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ol(c){return{baseLanes:c,cachePool:_0()}}function as(c,d,v){return c=c!==null?c.childLanes&~v:0,d&&(c|=Yo),c}function fp(c,d,v){var T=d.pendingProps,P=!1,z=(d.flags&128)!==0,J;if((J=z)||(J=c!==null&&c.memoizedState===null?!1:(Nr.current&2)!==0),J&&(P=!0,d.flags&=-129),J=(d.flags&32)!==0,d.flags&=-33,c===null){if(vi){if(P?uf(d):cf(),vi){var st=pr,vt;if(vt=st){t:{for(vt=st,st=io;vt.nodeType!==8;){if(!st){st=null;break t}if(vt=dc(vt.nextSibling),vt===null){st=null;break t}}st=vt}st!==null?(d.memoizedState={dehydrated:st,treeContext:tf!==null?{id:ru,overflow:su}:null,retryLane:536870912,hydrationErrors:null},vt=Oa(18,null,null,0),vt.stateNode=st,vt.return=d,d.child=vt,aa=d,pr=null,vt=!0):vt=!1}vt||ef(d)}if(st=d.memoizedState,st!==null&&(st=st.dehydrated,st!==null))return OO(st)?d.lanes=32:d.lanes=536870912,null;lu(d)}return st=T.children,T=T.fallback,P?(cf(),P=d.mode,st=Ch({mode:"hidden",children:st},P),T=Jc(T,P,v,null),st.return=d,T.return=d,st.sibling=T,d.child=st,P=d.child,P.memoizedState=Ol(v),P.childLanes=as(c,J,v),d.memoizedState=Rl,T):(uf(d),cu(d,st))}if(vt=c.memoizedState,vt!==null&&(st=vt.dehydrated,st!==null)){if(z)d.flags&256?(uf(d),d.flags&=-257,d=Ls(c,d,v)):d.memoizedState!==null?(cf(),d.child=c.child,d.flags|=128,d=null):(cf(),P=T.fallback,st=d.mode,T=Ch({mode:"visible",children:T.children},st),P=Jc(P,st,v,null),P.flags|=2,T.return=d,P.return=d,T.sibling=P,d.child=T,Eh(d,c.child,null,v),T=d.child,T.memoizedState=Ol(v),T.childLanes=as(c,J,v),d.memoizedState=Rl,d=P);else if(uf(d),OO(st)){if(J=st.nextSibling&&st.nextSibling.dataset,J)var zt=J.dgst;J=zt,T=Error(r(419)),T.stack="",T.digest=J,bh({value:T,source:null,stack:null}),d=Ls(c,d,v)}else if(xs||Fo(c,d,v,!1),J=(v&c.childLanes)!==0,xs||J){if(J=On,J!==null&&(T=v&-v,T=(T&42)!==0?1:Kn(T),T=(T&(J.suspendedLanes|v))!==0?0:T,T!==0&&T!==vt.retryLane))throw vt.retryLane=T,Qu(c,T),fa(J,c,T),AT;st.data==="$?"||m(),d=Ls(c,d,v)}else st.data==="$?"?(d.flags|=192,d.child=c.child,d=null):(c=vt.treeContext,pr=dc(st.nextSibling),aa=d,vi=!0,Bo=null,io=!1,c!==null&&(Ds[no++]=ru,Ds[no++]=su,Ds[no++]=tf,ru=c.id,su=c.overflow,tf=d),d=cu(d,T.children),d.flags|=4096);return d}return P?(cf(),P=T.fallback,st=d.mode,vt=c.child,zt=vt.sibling,T=Pr(vt,{mode:"hidden",children:T.children}),T.subtreeFlags=vt.subtreeFlags&65011712,zt!==null?P=Pr(zt,P):(P=Jc(P,st,v,null),P.flags|=2),P.return=d,T.return=d,T.sibling=P,d.child=T,T=P,P=d.child,st=c.child.memoizedState,st===null?st=Ol(v):(vt=st.cachePool,vt!==null?(zt=Xr._currentValue,vt=vt.parent!==zt?{parent:zt,pool:zt}:vt):vt=_0(),st={baseLanes:st.baseLanes|v,cachePool:vt}),P.memoizedState=st,P.childLanes=as(c,J,v),d.memoizedState=Rl,T):(uf(d),v=c.child,c=v.sibling,v=Pr(v,{mode:"visible",children:T.children}),v.return=d,v.sibling=null,c!==null&&(J=d.deletions,J===null?(d.deletions=[c],d.flags|=16):J.push(c)),d.child=v,d.memoizedState=null,v)}function cu(c,d){return d=Ch({mode:"visible",children:d},c.mode),d.return=c,c.child=d}function Ch(c,d){return c=Oa(22,c,null,d),c.lanes=0,c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},c}function Ls(c,d,v){return Eh(d,c.child,null,v),c=cu(d,d.pendingProps.children),c.flags|=2,d.memoizedState=null,c}function Us(c,d,v){c.lanes|=d;var T=c.alternate;T!==null&&(T.lanes|=d),Cb(c.return,d,v)}function li(c,d,v,T,P){var z=c.memoizedState;z===null?c.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:T,tail:v,tailMode:P}:(z.isBackwards=d,z.rendering=null,z.renderingStartTime=0,z.last=T,z.tail=v,z.tailMode=P)}function qo(c,d,v){var T=d.pendingProps,P=T.revealOrder,z=T.tail;if(Lr(c,d,T.children,v),T=Nr.current,(T&2)!==0)T=T&1|2,d.flags|=128;else{if(c!==null&&(c.flags&128)!==0)t:for(c=d.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&Us(c,v,d);else if(c.tag===19)Us(c,v,d);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===d)break t;for(;c.sibling===null;){if(c.return===null||c.return===d)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}T&=1}switch(xt(Nr,T),P){case"forwards":for(v=d.child,P=null;v!==null;)c=v.alternate,c!==null&&oc(c)===null&&(P=v),v=v.sibling;v=P,v===null?(P=d.child,d.child=null):(P=v.sibling,v.sibling=null),li(d,!1,P,v,z);break;case"backwards":for(v=null,P=d.child,d.child=null;P!==null;){if(c=P.alternate,c!==null&&oc(c)===null){d.child=P;break}c=P.sibling,P.sibling=v,v=P,P=c}li(d,!0,v,null,z);break;case"together":li(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function Ss(c,d,v){if(c!==null&&(d.dependencies=c.dependencies),Nl|=d.lanes,(v&d.childLanes)===0)if(c!==null){if(Fo(c,d,v,!1),(v&d.childLanes)===0)return null}else return null;if(c!==null&&d.child!==c.child)throw Error(r(153));if(d.child!==null){for(c=d.child,v=Pr(c,c.pendingProps),d.child=v,v.return=d;c.sibling!==null;)c=c.sibling,v=v.sibling=Pr(c,c.pendingProps),v.return=d;v.sibling=null}return d.child}function cg(c,d){return(c.lanes&d)!==0?!0:(c=c.dependencies,!!(c!==null&&Ym(c)))}function $o(c,d,v){switch(d.tag){case 3:wt(d,d.stateNode.containerInfo),rf(d,Xr,c.memoizedState.cache),Zd();break;case 27:case 5:kt(d);break;case 4:wt(d,d.stateNode.containerInfo);break;case 10:rf(d,d.type,d.memoizedProps.value);break;case 13:var T=d.memoizedState;if(T!==null)return T.dehydrated!==null?(uf(d),d.flags|=128,null):(v&d.child.childLanes)!==0?fp(c,d,v):(uf(d),c=Ss(c,d,v),c!==null?c.sibling:null);uf(d);break;case 19:var P=(c.flags&128)!==0;if(T=(v&d.childLanes)!==0,T||(Fo(c,d,v,!1),T=(v&d.childLanes)!==0),P){if(T)return qo(c,d,v);d.flags|=128}if(P=d.memoizedState,P!==null&&(P.rendering=null,P.tail=null,P.lastEffect=null),xt(Nr,Nr.current),T)break;return null;case 22:case 23:return d.lanes=0,wh(c,d,v);case 24:rf(d,Xr,c.memoizedState.cache)}return Ss(c,d,v)}function Rh(c,d,v){if(c!==null)if(c.memoizedProps!==d.pendingProps)xs=!0;else{if(!cg(c,v)&&(d.flags&128)===0)return xs=!1,$o(c,d,v);xs=(c.flags&131072)!==0}else xs=!1,vi&&(d.flags&1048576)!==0&&p0(d,Kd,d.index);switch(d.lanes=0,d.tag){case 16:t:{c=d.pendingProps;var T=d.elementType,P=T._init;if(T=P(T._payload),d.type=T,typeof T=="function")qm(T)?(c=uu(T,c),d.tag=1,d=oo(null,d,T,c,v)):(d.tag=0,d=cp(null,d,T,c,v));else{if(T!=null){if(P=T.$$typeof,P===M){d.tag=11,d=Pa(null,d,T,c,v);break t}else if(P===N){d.tag=14,d=Da(null,d,T,c,v);break t}}throw d=X(T)||T,Error(r(306,d,""))}}return d;case 0:return cp(c,d,d.type,d.pendingProps,v);case 1:return T=d.type,P=uu(T,d.pendingProps),oo(c,d,T,P,v);case 3:t:{if(wt(d,d.stateNode.containerInfo),c===null)throw Error(r(387));T=d.pendingProps;var z=d.memoizedState;P=z.element,vn(c,d),ip(d,T,null,v);var J=d.memoizedState;if(T=J.cache,rf(d,Xr,T),T!==z.cache&&Xm(d,[Xr],v,!0),ng(),T=J.element,z.isDehydrated)if(z={element:T,isDehydrated:!1,cache:J.cache},d.updateQueue.baseState=z,d.memoizedState=z,d.flags&256){d=hf(c,d,T,v);break t}else if(T!==P){P=Ps(Error(r(424)),d),bh(P),d=hf(c,d,T,v);break t}else{switch(c=d.stateNode.containerInfo,c.nodeType){case 9:c=c.body;break;default:c=c.nodeName==="HTML"?c.ownerDocument.body:c}for(pr=dc(c.firstChild),aa=d,vi=!0,Bo=null,io=!0,v=bT(d,null,T,v),d.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling}else{if(Zd(),T===P){d=Ss(c,d,v);break t}Lr(c,d,T,v)}d=d.child}return d;case 26:return Mh(c,d),c===null?(v=kk(d.type,null,d.pendingProps,null))?d.memoizedState=v:vi||(v=d.type,c=d.pendingProps,T=PT(ft.current).createElement(v),T[Qe]=d,T[Ye]=c,ha(T,v,c),ur(T),d.stateNode=T):d.memoizedState=kk(d.type,c.memoizedProps,d.pendingProps,c.memoizedState),null;case 27:return kt(d),c===null&&vi&&(T=d.stateNode=Nk(d.type,d.pendingProps,ft.current),aa=d,io=!0,P=pr,xp(d.type)?(IO=P,pr=dc(T.firstChild)):pr=P),Lr(c,d,d.pendingProps.children,v),Mh(c,d),c===null&&(d.flags|=4194304),d.child;case 5:return c===null&&vi&&((P=T=pr)&&(T=KK(T,d.type,d.pendingProps,io),T!==null?(d.stateNode=T,aa=d,pr=dc(T.firstChild),io=!1,P=!0):P=!1),P||ef(d)),kt(d),P=d.type,z=d.pendingProps,J=c!==null?c.memoizedProps:null,T=z.children,MO(P,z)?T=null:J!==null&&MO(P,J)&&(d.flags|=32),d.memoizedState!==null&&(P=sc(c,d,cO,null,null,v),lx._currentValue=P),Mh(c,d),Lr(c,d,T,v),d.child;case 6:return c===null&&vi&&((c=v=pr)&&(v=ZK(v,d.pendingProps,io),v!==null?(d.stateNode=v,aa=d,pr=null,c=!0):c=!1),c||ef(d)),null;case 13:return fp(c,d,v);case 4:return wt(d,d.stateNode.containerInfo),T=d.pendingProps,c===null?d.child=Eh(d,null,T,v):Lr(c,d,T,v),d.child;case 11:return Pa(c,d,d.type,d.pendingProps,v);case 7:return Lr(c,d,d.pendingProps,v),d.child;case 8:return Lr(c,d,d.pendingProps.children,v),d.child;case 12:return Lr(c,d,d.pendingProps.children,v),d.child;case 10:return T=d.pendingProps,rf(d,d.type,T.value),Lr(c,d,T.children,v),d.child;case 9:return P=d.type._context,T=d.pendingProps.children,au(d),P=br(P),T=T(P),d.flags|=1,Lr(c,d,T,v),d.child;case 14:return Da(c,d,d.type,d.pendingProps,v);case 15:return Zb(c,d,d.type,d.pendingProps,v);case 19:return qo(c,d,v);case 31:return T=d.pendingProps,v=d.mode,T={mode:T.mode,children:T.children},c===null?(v=Ch(T,v),v.ref=d.ref,d.child=v,v.return=d,d=v):(v=Pr(c.child,T),v.ref=d.ref,d.child=v,v.return=d,d=v),d;case 22:return wh(c,d,v);case 24:return au(d),T=br(Xr),c===null?(P=sf(),P===null&&(P=On,z=y0(),P.pooledCache=z,z.refCount++,z!==null&&(P.pooledCacheLanes|=v),P=z),d.memoizedState={parent:T,cache:P},Pb(d),rf(d,Xr,P)):((c.lanes&v)!==0&&(vn(c,d),ip(d,null,null,v),ng()),P=c.memoizedState,z=d.memoizedState,P.parent!==T?(P={parent:T,cache:T},d.memoizedState=P,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=P),rf(d,Xr,T)):(T=z.cache,rf(d,Xr,T),T!==P.cache&&Xm(d,[Xr],v,!0))),Lr(c,d,d.pendingProps.children,v),d.child;case 29:throw d.pendingProps}throw Error(r(156,d.tag))}function Il(c){c.flags|=4}function fg(c,d){if(d.type!=="stylesheet"||(d.state.loading&4)!==0)c.flags&=-16777217;else if(c.flags|=16777216,!Hk(d)){if(d=Vi.current,d!==null&&((an&4194048)===an?Cl!==null:(an&62914560)!==an&&(an&536870912)===0||d!==Cl))throw Ho=eg,Ob;c.flags|=8192}}function lc(c,d){d!==null&&(c.flags|=4),c.flags&16384&&(d=c.tag!==22?Ce():536870912,c.lanes|=d,pi|=d)}function Oh(c,d){if(!vi)switch(c.tailMode){case"hidden":d=c.tail;for(var v=null;d!==null;)d.alternate!==null&&(v=d),d=d.sibling;v===null?c.tail=null:v.sibling=null;break;case"collapsed":v=c.tail;for(var T=null;v!==null;)v.alternate!==null&&(T=v),v=v.sibling;T===null?d||c.tail===null?c.tail=null:c.tail.sibling=null:T.sibling=null}}function Wi(c){var d=c.alternate!==null&&c.alternate.child===c.child,v=0,T=0;if(d)for(var P=c.child;P!==null;)v|=P.lanes|P.childLanes,T|=P.subtreeFlags&65011712,T|=P.flags&65011712,P.return=c,P=P.sibling;else for(P=c.child;P!==null;)v|=P.lanes|P.childLanes,T|=P.subtreeFlags,T|=P.flags,P.return=c,P=P.sibling;return c.subtreeFlags|=T,c.childLanes=v,d}function Qb(c,d,v){var T=d.pendingProps;switch(wb(d),d.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wi(d),null;case 1:return Wi(d),null;case 3:return v=d.stateNode,T=null,c!==null&&(T=c.memoizedState.cache),d.memoizedState.cache!==T&&(d.flags|=2048),ec(Xr),Kt(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(c===null||c.child===null)&&(wl(d)?Il(d):c===null||c.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,wi())),Wi(d),null;case 26:return v=d.memoizedState,c===null?(Il(d),v!==null?(Wi(d),fg(d,v)):(Wi(d),d.flags&=-16777217)):v?v!==c.memoizedState?(Il(d),Wi(d),fg(d,v)):(Wi(d),d.flags&=-16777217):(c.memoizedProps!==T&&Il(d),Wi(d),d.flags&=-16777217),null;case 27:ee(d),v=ft.current;var P=d.type;if(c!==null&&d.stateNode!=null)c.memoizedProps!==T&&Il(d);else{if(!T){if(d.stateNode===null)throw Error(r(166));return Wi(d),null}c=it.current,wl(d)?zE(d):(c=Nk(P,T,v),d.stateNode=c,Il(d))}return Wi(d),null;case 5:if(ee(d),v=d.type,c!==null&&d.stateNode!=null)c.memoizedProps!==T&&Il(d);else{if(!T){if(d.stateNode===null)throw Error(r(166));return Wi(d),null}if(c=it.current,wl(d))zE(d);else{switch(P=PT(ft.current),c){case 1:c=P.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:c=P.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":c=P.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":c=P.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":c=P.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof T.is=="string"?P.createElement("select",{is:T.is}):P.createElement("select"),T.multiple?c.multiple=!0:T.size&&(c.size=T.size);break;default:c=typeof T.is=="string"?P.createElement(v,{is:T.is}):P.createElement(v)}}c[Qe]=d,c[Ye]=T;t:for(P=d.child;P!==null;){if(P.tag===5||P.tag===6)c.appendChild(P.stateNode);else if(P.tag!==4&&P.tag!==27&&P.child!==null){P.child.return=P,P=P.child;continue}if(P===d)break t;for(;P.sibling===null;){if(P.return===null||P.return===d)break t;P=P.return}P.sibling.return=P.return,P=P.sibling}d.stateNode=c;t:switch(ha(c,v,T),v){case"button":case"input":case"select":case"textarea":c=!!T.autoFocus;break t;case"img":c=!0;break t;default:c=!1}c&&Il(d)}}return Wi(d),d.flags&=-16777217,null;case 6:if(c&&d.stateNode!=null)c.memoizedProps!==T&&Il(d);else{if(typeof T!="string"&&d.stateNode===null)throw Error(r(166));if(c=ft.current,wl(d)){if(c=d.stateNode,v=d.memoizedProps,T=null,P=aa,P!==null)switch(P.tag){case 27:case 5:T=P.memoizedProps}c[Qe]=d,c=!!(c.nodeValue===v||T!==null&&T.suppressHydrationWarning===!0||Mk(c.nodeValue,v)),c||ef(d)}else c=PT(c).createTextNode(T),c[Qe]=d,d.stateNode=c}return Wi(d),null;case 13:if(T=d.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(P=wl(d),T!==null&&T.dehydrated!==null){if(c===null){if(!P)throw Error(r(318));if(P=d.memoizedState,P=P!==null?P.dehydrated:null,!P)throw Error(r(317));P[Qe]=d}else Zd(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Wi(d),P=!1}else P=wi(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=P),P=!0;if(!P)return d.flags&256?(lu(d),d):(lu(d),null)}if(lu(d),(d.flags&128)!==0)return d.lanes=v,d;if(v=T!==null,c=c!==null&&c.memoizedState!==null,v){T=d.child,P=null,T.alternate!==null&&T.alternate.memoizedState!==null&&T.alternate.memoizedState.cachePool!==null&&(P=T.alternate.memoizedState.cachePool.pool);var z=null;T.memoizedState!==null&&T.memoizedState.cachePool!==null&&(z=T.memoizedState.cachePool.pool),z!==P&&(T.flags|=2048)}return v!==c&&v&&(d.child.flags|=8192),lc(d,d.updateQueue),Wi(d),null;case 4:return Kt(),c===null&&SO(d.stateNode.containerInfo),Wi(d),null;case 10:return ec(d.type),Wi(d),null;case 19:if(yt(Nr),P=d.memoizedState,P===null)return Wi(d),null;if(T=(d.flags&128)!==0,z=P.rendering,z===null)if(T)Oh(P,!1);else{if(tr!==0||c!==null&&(c.flags&128)!==0)for(c=d.child;c!==null;){if(z=oc(c),z!==null){for(d.flags|=128,Oh(P,!1),c=z.updateQueue,d.updateQueue=c,lc(d,c),d.subtreeFlags=0,c=v,v=d.child;v!==null;)Eb(v,c),v=v.sibling;return xt(Nr,Nr.current&1|2),d.child}c=c.sibling}P.tail!==null&&ne()>Ws&&(d.flags|=128,T=!0,Oh(P,!1),d.lanes=4194304)}else{if(!T)if(c=oc(z),c!==null){if(d.flags|=128,T=!0,c=c.updateQueue,d.updateQueue=c,lc(d,c),Oh(P,!0),P.tail===null&&P.tailMode==="hidden"&&!z.alternate&&!vi)return Wi(d),null}else 2*ne()-P.renderingStartTime>Ws&&v!==536870912&&(d.flags|=128,T=!0,Oh(P,!1),d.lanes=4194304);P.isBackwards?(z.sibling=d.child,d.child=z):(c=P.last,c!==null?c.sibling=z:d.child=z,P.last=z)}return P.tail!==null?(d=P.tail,P.rendering=d,P.tail=d.sibling,P.renderingStartTime=ne(),d.sibling=null,c=Nr.current,xt(Nr,T?c&1|2:c&1),d):(Wi(d),null);case 22:case 23:return lu(d),ig(),T=d.memoizedState!==null,c!==null?c.memoizedState!==null!==T&&(d.flags|=8192):T&&(d.flags|=8192),T?(v&536870912)!==0&&(d.flags&128)===0&&(Wi(d),d.subtreeFlags&6&&(d.flags|=8192)):Wi(d),v=d.updateQueue,v!==null&&lc(d,v.retryQueue),v=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),T=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(T=d.memoizedState.cachePool.pool),T!==v&&(d.flags|=2048),c!==null&&yt(Vo),null;case 24:return v=null,c!==null&&(v=c.memoizedState.cache),d.memoizedState.cache!==v&&(d.flags|=2048),ec(Xr),Wi(d),null;case 25:return null;case 30:return null}throw Error(r(156,d.tag))}function hp(c,d){switch(wb(d),d.tag){case 1:return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 3:return ec(Xr),Kt(),c=d.flags,(c&65536)!==0&&(c&128)===0?(d.flags=c&-65537|128,d):null;case 26:case 27:case 5:return ee(d),null;case 13:if(lu(d),c=d.memoizedState,c!==null&&c.dehydrated!==null){if(d.alternate===null)throw Error(r(340));Zd()}return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 19:return yt(Nr),null;case 4:return Kt(),null;case 10:return ec(d.type),null;case 22:case 23:return lu(d),ig(),c!==null&&yt(Vo),c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 24:return ec(Xr),null;case 25:return null;default:return null}}function dp(c,d){switch(wb(d),d.tag){case 3:ec(Xr),Kt();break;case 26:case 27:case 5:ee(d);break;case 4:Kt();break;case 13:lu(d);break;case 19:yt(Nr);break;case 10:ec(d.type);break;case 22:case 23:lu(d),ig(),c!==null&&yt(Vo);break;case 24:ec(Xr)}}function Ih(c,d){try{var v=d.updateQueue,T=v!==null?v.lastEffect:null;if(T!==null){var P=T.next;v=P;do{if((v.tag&c)===c){T=void 0;var z=v.create,J=v.inst;T=z(),J.destroy=T}v=v.next}while(v!==P)}}catch(st){Et(d,d.return,st)}}function lo(c,d,v){try{var T=d.updateQueue,P=T!==null?T.lastEffect:null;if(P!==null){var z=P.next;T=z;do{if((T.tag&c)===c){var J=T.inst,st=J.destroy;if(st!==void 0){J.destroy=void 0,P=d;var vt=v,zt=st;try{zt()}catch(oe){Et(P,vt,oe)}}}T=T.next}while(T!==z)}}catch(oe){Et(d,d.return,oe)}}function Ph(c){var d=c.updateQueue;if(d!==null){var v=c.stateNode;try{VE(d,v)}catch(T){Et(c,c.return,T)}}}function uc(c,d,v){v.props=uu(c.type,c.memoizedProps),v.state=c.memoizedState;try{v.componentWillUnmount()}catch(T){Et(c,d,T)}}function Dh(c,d){try{var v=c.ref;if(v!==null){switch(c.tag){case 26:case 27:case 5:var T=c.stateNode;break;case 30:T=c.stateNode;break;default:T=c.stateNode}typeof v=="function"?c.refCleanup=v(T):v.current=T}}catch(P){Et(c,d,P)}}function fu(c,d){var v=c.ref,T=c.refCleanup;if(v!==null)if(typeof T=="function")try{T()}catch(P){Et(c,d,P)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof v=="function")try{v(null)}catch(P){Et(c,d,P)}else v.current=null}function pp(c){var d=c.type,v=c.memoizedProps,T=c.stateNode;try{t:switch(d){case"button":case"input":case"select":case"textarea":v.autoFocus&&T.focus();break t;case"img":v.src?T.src=v.src:v.srcSet&&(T.srcset=v.srcSet)}}catch(P){Et(c,c.return,P)}}function hg(c,d,v){try{var T=c.stateNode;qK(T,c.type,v,d),T[Ye]=d}catch(P){Et(c,c.return,P)}}function dg(c){return c.tag===5||c.tag===3||c.tag===26||c.tag===27&&xp(c.type)||c.tag===4}function df(c){t:for(;;){for(;c.sibling===null;){if(c.return===null||dg(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.tag===27&&xp(c.type)||c.flags&2||c.child===null||c.tag===4)continue t;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function pf(c,d,v){var T=c.tag;if(T===5||T===6)c=c.stateNode,d?(v.nodeType===9?v.body:v.nodeName==="HTML"?v.ownerDocument.body:v).insertBefore(c,d):(d=v.nodeType===9?v.body:v.nodeName==="HTML"?v.ownerDocument.body:v,d.appendChild(c),v=v._reactRootContainer,v!=null||d.onclick!==null||(d.onclick=IT));else if(T!==4&&(T===27&&xp(c.type)&&(v=c.stateNode,d=null),c=c.child,c!==null))for(pf(c,d,v),c=c.sibling;c!==null;)pf(c,d,v),c=c.sibling}function mf(c,d,v){var T=c.tag;if(T===5||T===6)c=c.stateNode,d?v.insertBefore(c,d):v.appendChild(c);else if(T!==4&&(T===27&&xp(c.type)&&(v=c.stateNode),c=c.child,c!==null))for(mf(c,d,v),c=c.sibling;c!==null;)mf(c,d,v),c=c.sibling}function gf(c){var d=c.stateNode,v=c.memoizedProps;try{for(var T=c.type,P=d.attributes;P.length;)d.removeAttributeNode(P[0]);ha(d,T,v),d[Qe]=c,d[Ye]=v}catch(z){Et(c,c.return,z)}}var hu=!1,Xi=!1,mp=!1,uo=typeof WeakSet=="function"?WeakSet:Set,Hi=null;function os(c,d){if(c=c.containerInfo,wO=zT,c=gb(c),Vm(c)){if("selectionStart"in c)var v={start:c.selectionStart,end:c.selectionEnd};else t:{v=(v=c.ownerDocument)&&v.defaultView||window;var T=v.getSelection&&v.getSelection();if(T&&T.rangeCount!==0){v=T.anchorNode;var P=T.anchorOffset,z=T.focusNode;T=T.focusOffset;try{v.nodeType,z.nodeType}catch{v=null;break t}var J=0,st=-1,vt=-1,zt=0,oe=0,fe=c,Gt=null;e:for(;;){for(var $t;fe!==v||P!==0&&fe.nodeType!==3||(st=J+P),fe!==z||T!==0&&fe.nodeType!==3||(vt=J+T),fe.nodeType===3&&(J+=fe.nodeValue.length),($t=fe.firstChild)!==null;)Gt=fe,fe=$t;for(;;){if(fe===c)break e;if(Gt===v&&++zt===P&&(st=J),Gt===z&&++oe===T&&(vt=J),($t=fe.nextSibling)!==null)break;fe=Gt,Gt=fe.parentNode}fe=$t}v=st===-1||vt===-1?null:{start:st,end:vt}}else v=null}v=v||{start:0,end:0}}else v=null;for(AO={focusedElem:c,selectionRange:v},zT=!1,Hi=d;Hi!==null;)if(d=Hi,c=d.child,(d.subtreeFlags&1024)!==0&&c!==null)c.return=d,Hi=c;else for(;Hi!==null;){switch(d=Hi,z=d.alternate,c=d.flags,d.tag){case 0:break;case 11:case 15:break;case 1:if((c&1024)!==0&&z!==null){c=void 0,v=d,P=z.memoizedProps,z=z.memoizedState,T=v.stateNode;try{var Sn=uu(v.type,P,v.elementType===v.type);c=T.getSnapshotBeforeUpdate(Sn,z),T.__reactInternalSnapshotBeforeUpdate=c}catch(dn){Et(v,v.return,dn)}}break;case 3:if((c&1024)!==0){if(c=d.stateNode.containerInfo,v=c.nodeType,v===9)RO(c);else if(v===1)switch(c.nodeName){case"HEAD":case"HTML":case"BODY":RO(c);break;default:c.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((c&1024)!==0)throw Error(r(163))}if(c=d.sibling,c!==null){c.return=d.return,Hi=c;break}Hi=d.return}}function cc(c,d,v){var T=v.flags;switch(v.tag){case 0:case 11:case 15:ca(c,v),T&4&&Ih(5,v);break;case 1:if(ca(c,v),T&4)if(c=v.stateNode,d===null)try{c.componentDidMount()}catch(J){Et(v,v.return,J)}else{var P=uu(v.type,d.memoizedProps);d=d.memoizedState;try{c.componentDidUpdate(P,d,c.__reactInternalSnapshotBeforeUpdate)}catch(J){Et(v,v.return,J)}}T&64&&Ph(v),T&512&&Dh(v,v.return);break;case 3:if(ca(c,v),T&64&&(c=v.updateQueue,c!==null)){if(d=null,v.child!==null)switch(v.child.tag){case 27:case 5:d=v.child.stateNode;break;case 1:d=v.child.stateNode}try{VE(c,d)}catch(J){Et(v,v.return,J)}}break;case 27:d===null&&T&4&&gf(v);case 26:case 5:ca(c,v),d===null&&T&4&&pp(v),T&512&&Dh(v,v.return);break;case 12:ca(c,v);break;case 13:ca(c,v),T&4&&yf(c,v),T&64&&(c=v.memoizedState,c!==null&&(c=c.dehydrated,c!==null&&(v=er.bind(null,v),QK(c,v))));break;case 22:if(T=v.memoizedState!==null||hu,!T){d=d!==null&&d.memoizedState!==null||Xi,P=hu;var z=Xi;hu=T,(Xi=d)&&!z?du(c,v,(v.subtreeFlags&8772)!==0):ca(c,v),hu=P,Xi=z}break;case 30:break;default:ca(c,v)}}function Hn(c){var d=c.alternate;d!==null&&(c.alternate=null,Hn(d)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(d=c.stateNode,d!==null&&fi(d)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}var cn=null,di=!1;function Wo(c,d,v){for(v=v.child;v!==null;)Nh(c,d,v),v=v.sibling}function Nh(c,d,v){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(_t,v)}catch{}switch(v.tag){case 26:Xi||fu(v,d),Wo(c,d,v),v.memoizedState?v.memoizedState.count--:v.stateNode&&(v=v.stateNode,v.parentNode.removeChild(v));break;case 27:Xi||fu(v,d);var T=cn,P=di;xp(v.type)&&(cn=v.stateNode,di=!1),Wo(c,d,v),rx(v.stateNode),cn=T,di=P;break;case 5:Xi||fu(v,d);case 6:if(T=cn,P=di,cn=null,Wo(c,d,v),cn=T,di=P,cn!==null)if(di)try{(cn.nodeType===9?cn.body:cn.nodeName==="HTML"?cn.ownerDocument.body:cn).removeChild(v.stateNode)}catch(z){Et(v,d,z)}else try{cn.removeChild(v.stateNode)}catch(z){Et(v,d,z)}break;case 18:cn!==null&&(di?(c=cn,Pk(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,v.stateNode),hx(c)):Pk(cn,v.stateNode));break;case 4:T=cn,P=di,cn=v.stateNode.containerInfo,di=!0,Wo(c,d,v),cn=T,di=P;break;case 0:case 11:case 14:case 15:Xi||lo(2,v,d),Xi||lo(4,v,d),Wo(c,d,v);break;case 1:Xi||(fu(v,d),T=v.stateNode,typeof T.componentWillUnmount=="function"&&uc(v,d,T)),Wo(c,d,v);break;case 21:Wo(c,d,v);break;case 22:Xi=(T=Xi)||v.memoizedState!==null,Wo(c,d,v),Xi=T;break;default:Wo(c,d,v)}}function yf(c,d){if(d.memoizedState===null&&(c=d.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{hx(c)}catch(v){Et(d,d.return,v)}}function z0(c){switch(c.tag){case 13:case 19:var d=c.stateNode;return d===null&&(d=c.stateNode=new uo),d;case 22:return c=c.stateNode,d=c._retryCache,d===null&&(d=c._retryCache=new uo),d;default:throw Error(r(435,c.tag))}}function Lh(c,d){var v=z0(c);d.forEach(function(T){var P=_n.bind(null,c,T);v.has(T)||(v.add(T),T.then(P,P))})}function Es(c,d){var v=d.deletions;if(v!==null)for(var T=0;T<v.length;T++){var P=v[T],z=c,J=d,st=J;t:for(;st!==null;){switch(st.tag){case 27:if(xp(st.type)){cn=st.stateNode,di=!1;break t}break;case 5:cn=st.stateNode,di=!1;break t;case 3:case 4:cn=st.stateNode.containerInfo,di=!0;break t}st=st.return}if(cn===null)throw Error(r(160));Nh(z,J,P),cn=null,di=!1,z=P.alternate,z!==null&&(z.return=null),P.return=null}if(d.subtreeFlags&13878)for(d=d.child;d!==null;)B0(d,c),d=d.sibling}var Pl=null;function B0(c,d){var v=c.alternate,T=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:Es(d,c),xr(c),T&4&&(lo(3,c,c.return),Ih(3,c),lo(5,c,c.return));break;case 1:Es(d,c),xr(c),T&512&&(Xi||v===null||fu(v,v.return)),T&64&&hu&&(c=c.updateQueue,c!==null&&(T=c.callbacks,T!==null&&(v=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=v===null?T:v.concat(T))));break;case 26:var P=Pl;if(Es(d,c),xr(c),T&512&&(Xi||v===null||fu(v,v.return)),T&4){var z=v!==null?v.memoizedState:null;if(T=c.memoizedState,v===null)if(T===null)if(c.stateNode===null){t:{T=c.type,v=c.memoizedProps,P=P.ownerDocument||P;e:switch(T){case"title":z=P.getElementsByTagName("title")[0],(!z||z[Os]||z[Qe]||z.namespaceURI==="http://www.w3.org/2000/svg"||z.hasAttribute("itemprop"))&&(z=P.createElement(T),P.head.insertBefore(z,P.querySelector("head > title"))),ha(z,T,v),z[Qe]=c,ur(z),T=z;break t;case"link":var J=Fk("link","href",P).get(T+(v.href||""));if(J){for(var st=0;st<J.length;st++)if(z=J[st],z.getAttribute("href")===(v.href==null||v.href===""?null:v.href)&&z.getAttribute("rel")===(v.rel==null?null:v.rel)&&z.getAttribute("title")===(v.title==null?null:v.title)&&z.getAttribute("crossorigin")===(v.crossOrigin==null?null:v.crossOrigin)){J.splice(st,1);break e}}z=P.createElement(T),ha(z,T,v),P.head.appendChild(z);break;case"meta":if(J=Fk("meta","content",P).get(T+(v.content||""))){for(st=0;st<J.length;st++)if(z=J[st],z.getAttribute("content")===(v.content==null?null:""+v.content)&&z.getAttribute("name")===(v.name==null?null:v.name)&&z.getAttribute("property")===(v.property==null?null:v.property)&&z.getAttribute("http-equiv")===(v.httpEquiv==null?null:v.httpEquiv)&&z.getAttribute("charset")===(v.charSet==null?null:v.charSet)){J.splice(st,1);break e}}z=P.createElement(T),ha(z,T,v),P.head.appendChild(z);break;default:throw Error(r(468,T))}z[Qe]=c,ur(z),T=z}c.stateNode=T}else Vk(P,c.type,c.stateNode);else c.stateNode=Bk(P,T,c.memoizedProps);else z!==T?(z===null?v.stateNode!==null&&(v=v.stateNode,v.parentNode.removeChild(v)):z.count--,T===null?Vk(P,c.type,c.stateNode):Bk(P,T,c.memoizedProps)):T===null&&c.stateNode!==null&&hg(c,c.memoizedProps,v.memoizedProps)}break;case 27:Es(d,c),xr(c),T&512&&(Xi||v===null||fu(v,v.return)),v!==null&&T&4&&hg(c,c.memoizedProps,v.memoizedProps);break;case 5:if(Es(d,c),xr(c),T&512&&(Xi||v===null||fu(v,v.return)),c.flags&32){P=c.stateNode;try{Rr(P,"")}catch($t){Et(c,c.return,$t)}}T&4&&c.stateNode!=null&&(P=c.memoizedProps,hg(c,P,v!==null?v.memoizedProps:P)),T&1024&&(mp=!0);break;case 6:if(Es(d,c),xr(c),T&4){if(c.stateNode===null)throw Error(r(162));T=c.memoizedProps,v=c.stateNode;try{v.nodeValue=T}catch($t){Et(c,c.return,$t)}}break;case 3:if(LT=null,P=Pl,Pl=DT(d.containerInfo),Es(d,c),Pl=P,xr(c),T&4&&v!==null&&v.memoizedState.isDehydrated)try{hx(d.containerInfo)}catch($t){Et(c,c.return,$t)}mp&&(mp=!1,vf(c));break;case 4:T=Pl,Pl=DT(c.stateNode.containerInfo),Es(d,c),xr(c),Pl=T;break;case 12:Es(d,c),xr(c);break;case 13:Es(d,c),xr(c),c.child.flags&8192&&c.memoizedState!==null!=(v!==null&&v.memoizedState!==null)&&(Li=ne()),T&4&&(T=c.updateQueue,T!==null&&(c.updateQueue=null,Lh(c,T)));break;case 22:P=c.memoizedState!==null;var vt=v!==null&&v.memoizedState!==null,zt=hu,oe=Xi;if(hu=zt||P,Xi=oe||vt,Es(d,c),Xi=oe,hu=zt,xr(c),T&8192)t:for(d=c.stateNode,d._visibility=P?d._visibility&-2:d._visibility|1,P&&(v===null||vt||hu||Xi||co(c)),v=null,d=c;;){if(d.tag===5||d.tag===26){if(v===null){vt=v=d;try{if(z=vt.stateNode,P)J=z.style,typeof J.setProperty=="function"?J.setProperty("display","none","important"):J.display="none";else{st=vt.stateNode;var fe=vt.memoizedProps.style,Gt=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;st.style.display=Gt==null||typeof Gt=="boolean"?"":(""+Gt).trim()}}catch($t){Et(vt,vt.return,$t)}}}else if(d.tag===6){if(v===null){vt=d;try{vt.stateNode.nodeValue=P?"":vt.memoizedProps}catch($t){Et(vt,vt.return,$t)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===c)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break t;for(;d.sibling===null;){if(d.return===null||d.return===c)break t;v===d&&(v=null),d=d.return}v===d&&(v=null),d.sibling.return=d.return,d=d.sibling}T&4&&(T=c.updateQueue,T!==null&&(v=T.retryQueue,v!==null&&(T.retryQueue=null,Lh(c,v))));break;case 19:Es(d,c),xr(c),T&4&&(T=c.updateQueue,T!==null&&(c.updateQueue=null,Lh(c,T)));break;case 30:break;case 21:break;default:Es(d,c),xr(c)}}function xr(c){var d=c.flags;if(d&2){try{for(var v,T=c.return;T!==null;){if(dg(T)){v=T;break}T=T.return}if(v==null)throw Error(r(160));switch(v.tag){case 27:var P=v.stateNode,z=df(c);mf(c,z,P);break;case 5:var J=v.stateNode;v.flags&32&&(Rr(J,""),v.flags&=-33);var st=df(c);mf(c,st,J);break;case 3:case 4:var vt=v.stateNode.containerInfo,zt=df(c);pf(c,zt,vt);break;default:throw Error(r(161))}}catch(oe){Et(c,c.return,oe)}c.flags&=-3}d&4096&&(c.flags&=-4097)}function vf(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var d=c;vf(d),d.tag===5&&d.flags&1024&&d.stateNode.reset(),c=c.sibling}}function ca(c,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)cc(c,d.alternate,d),d=d.sibling}function co(c){for(c=c.child;c!==null;){var d=c;switch(d.tag){case 0:case 11:case 14:case 15:lo(4,d,d.return),co(d);break;case 1:fu(d,d.return);var v=d.stateNode;typeof v.componentWillUnmount=="function"&&uc(d,d.return,v),co(d);break;case 27:rx(d.stateNode);case 26:case 5:fu(d,d.return),co(d);break;case 22:d.memoizedState===null&&co(d);break;case 30:co(d);break;default:co(d)}c=c.sibling}}function du(c,d,v){for(v=v&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var T=d.alternate,P=c,z=d,J=z.flags;switch(z.tag){case 0:case 11:case 15:du(P,z,v),Ih(4,z);break;case 1:if(du(P,z,v),T=z,P=T.stateNode,typeof P.componentDidMount=="function")try{P.componentDidMount()}catch(zt){Et(T,T.return,zt)}if(T=z,P=T.updateQueue,P!==null){var st=T.stateNode;try{var vt=P.shared.hiddenCallbacks;if(vt!==null)for(P.shared.hiddenCallbacks=null,P=0;P<vt.length;P++)rp(vt[P],st)}catch(zt){Et(T,T.return,zt)}}v&&J&64&&Ph(z),Dh(z,z.return);break;case 27:gf(z);case 26:case 5:du(P,z,v),v&&T===null&&J&4&&pp(z),Dh(z,z.return);break;case 12:du(P,z,v);break;case 13:du(P,z,v),v&&J&4&&yf(P,z);break;case 22:z.memoizedState===null&&du(P,z,v),Dh(z,z.return);break;case 30:break;default:du(P,z,v)}d=d.sibling}}function F0(c,d){var v=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),c=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(c=d.memoizedState.cachePool.pool),c!==v&&(c!=null&&c.refCount++,v!=null&&Qd(v))}function V0(c,d){c=null,d.alternate!==null&&(c=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==c&&(d.refCount++,c!=null&&Qd(c))}function ji(c,d,v,T){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)H0(c,d,v,T),d=d.sibling}function H0(c,d,v,T){var P=d.flags;switch(d.tag){case 0:case 11:case 15:ji(c,d,v,T),P&2048&&Ih(9,d);break;case 1:ji(c,d,v,T);break;case 3:ji(c,d,v,T),P&2048&&(c=null,d.alternate!==null&&(c=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==c&&(d.refCount++,c!=null&&Qd(c)));break;case 12:if(P&2048){ji(c,d,v,T),c=d.stateNode;try{var z=d.memoizedProps,J=z.id,st=z.onPostCommit;typeof st=="function"&&st(J,d.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(vt){Et(d,d.return,vt)}}else ji(c,d,v,T);break;case 13:ji(c,d,v,T);break;case 23:break;case 22:z=d.stateNode,J=d.alternate,d.memoizedState!==null?z._visibility&2?ji(c,d,v,T):Dl(c,d):z._visibility&2?ji(c,d,v,T):(z._visibility|=2,fc(c,d,v,T,(d.subtreeFlags&10256)!==0)),P&2048&&F0(J,d);break;case 24:ji(c,d,v,T),P&2048&&V0(d.alternate,d);break;default:ji(c,d,v,T)}}function fc(c,d,v,T,P){for(P=P&&(d.subtreeFlags&10256)!==0,d=d.child;d!==null;){var z=c,J=d,st=v,vt=T,zt=J.flags;switch(J.tag){case 0:case 11:case 15:fc(z,J,st,vt,P),Ih(8,J);break;case 23:break;case 22:var oe=J.stateNode;J.memoizedState!==null?oe._visibility&2?fc(z,J,st,vt,P):Dl(z,J):(oe._visibility|=2,fc(z,J,st,vt,P)),P&&zt&2048&&F0(J.alternate,J);break;case 24:fc(z,J,st,vt,P),P&&zt&2048&&V0(J.alternate,J);break;default:fc(z,J,st,vt,P)}d=d.sibling}}function Dl(c,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var v=c,T=d,P=T.flags;switch(T.tag){case 22:Dl(v,T),P&2048&&F0(T.alternate,T);break;case 24:Dl(v,T),P&2048&&V0(T.alternate,T);break;default:Dl(v,T)}d=d.sibling}}var fo=8192;function gp(c){if(c.subtreeFlags&fo)for(c=c.child;c!==null;)MT(c),c=c.sibling}function MT(c){switch(c.tag){case 26:gp(c),c.flags&fo&&c.memoizedState!==null&&fZ(Pl,c.memoizedState,c.memoizedProps);break;case 5:gp(c);break;case 3:case 4:var d=Pl;Pl=DT(c.stateNode.containerInfo),gp(c),Pl=d;break;case 22:c.memoizedState===null&&(d=c.alternate,d!==null&&d.memoizedState!==null?(d=fo,fo=16777216,gp(c),fo=d):gp(c));break;default:gp(c)}}function CT(c){var d=c.alternate;if(d!==null&&(c=d.child,c!==null)){d.child=null;do d=c.sibling,c.sibling=null,c=d;while(c!==null)}}function Yi(c){var d=c.deletions;if((c.flags&16)!==0){if(d!==null)for(var v=0;v<d.length;v++){var T=d[v];Hi=T,mu(T,c)}CT(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)Jb(c),c=c.sibling}function Jb(c){switch(c.tag){case 0:case 11:case 15:Yi(c),c.flags&2048&&lo(9,c,c.return);break;case 3:Yi(c);break;case 12:Yi(c);break;case 22:var d=c.stateNode;c.memoizedState!==null&&d._visibility&2&&(c.return===null||c.return.tag!==13)?(d._visibility&=-3,pu(c)):Yi(c);break;default:Yi(c)}}function pu(c){var d=c.deletions;if((c.flags&16)!==0){if(d!==null)for(var v=0;v<d.length;v++){var T=d[v];Hi=T,mu(T,c)}CT(c)}for(c=c.child;c!==null;){switch(d=c,d.tag){case 0:case 11:case 15:lo(8,d,d.return),pu(d);break;case 22:v=d.stateNode,v._visibility&2&&(v._visibility&=-3,pu(d));break;default:pu(d)}c=c.sibling}}function mu(c,d){for(;Hi!==null;){var v=Hi;switch(v.tag){case 0:case 11:case 15:lo(8,v,d);break;case 23:case 22:if(v.memoizedState!==null&&v.memoizedState.cachePool!==null){var T=v.memoizedState.cachePool.pool;T!=null&&T.refCount++}break;case 24:Qd(v.memoizedState.cache)}if(T=v.child,T!==null)T.return=v,Hi=T;else t:for(v=c;Hi!==null;){T=Hi;var P=T.sibling,z=T.return;if(Hn(T),T===v){Hi=null;break t}if(P!==null){P.return=z,Hi=P;break t}Hi=z}}}var Sr={getCacheForType:function(c){var d=br(Xr),v=d.data.get(c);return v===void 0&&(v=c(),d.data.set(c,v)),v}},tx=typeof WeakMap=="function"?WeakMap:Map,Ai=0,On=null,Zn=null,an=0,Bn=0,mr=null,ho=!1,yp=!1,vp=!1,Xo=0,tr=0,Nl=0,gu=0,Uh=0,Yo=0,pi=0,Mi=null,fn=null,ri=!1,Li=0,Ws=1/0,Ko=null,po=null,ls=0,Xs=null,Gi=null,mo=0,hc=0,pg=null,go=null,yu=0,kh=null;function Er(){if((Ai&2)!==0&&an!==0)return an&-an;if(q.T!==null){var c=Dn;return c!==0?c:vO()}return tn()}function j0(){Yo===0&&(Yo=(an&536870912)===0||vi?Tt():536870912);var c=Vi.current;return c!==null&&(c.flags|=32),Yo}function fa(c,d,v){(c===On&&(Bn===2||Bn===9)||c.cancelPendingCommit!==null)&&(bf(c,0),Ll(c,an,Yo,!1)),se(c,v),((Ai&2)===0||c!==On)&&(c===On&&((Ai&2)===0&&(gu|=v),tr===4&&Ll(c,an,Yo,!1)),Ef(c))}function _p(c,d,v){if((Ai&6)!==0)throw Error(r(327));var T=!v&&(d&124)===0&&(d&c.expiredLanes)===0||Ne(c,d),P=T?D(c,d):g(c,d,!0),z=T;do{if(P===0){yp&&!T&&Ll(c,d,0,!1);break}else{if(v=c.current.alternate,z&&!_f(v)){P=g(c,d,!1),z=!1;continue}if(P===2){if(z=d,c.errorRecoveryDisabledLanes&z)var J=0;else J=c.pendingLanes&-536870913,J=J!==0?J:J&536870912?536870912:0;if(J!==0){d=J;t:{var st=c;P=Mi;var vt=st.current.memoizedState.isDehydrated;if(vt&&(bf(st,J).flags|=256),J=g(st,J,!1),J!==2){if(vp&&!vt){st.errorRecoveryDisabledLanes|=z,gu|=z,P=4;break t}z=fn,fn=P,z!==null&&(fn===null?fn=z:fn.push.apply(fn,z))}P=J}if(z=!1,P!==2)continue}}if(P===1){bf(c,0),Ll(c,d,0,!0);break}t:{switch(T=c,z=P,z){case 0:case 1:throw Error(r(345));case 4:if((d&4194048)!==d)break;case 6:Ll(T,d,Yo,!ho);break t;case 2:fn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((d&62914560)===d&&(P=Li+300-ne(),10<P)){if(Ll(T,d,Yo,!ho),Pe(T,0,!0)!==0)break t;T.timeoutHandle=Ok(mg.bind(null,T,v,fn,Ko,ri,d,Yo,gu,pi,ho,z,2,-0,0),P);break t}mg(T,v,fn,Ko,ri,d,Yo,gu,pi,ho,z,0,-0,0)}}break}while(!0);Ef(c)}function mg(c,d,v,T,P,z,J,st,vt,zt,oe,fe,Gt,$t){if(c.timeoutHandle=-1,fe=d.subtreeFlags,(fe&8192||(fe&16785408)===16785408)&&(ox={stylesheets:null,count:0,unsuspend:cZ},MT(d),fe=hZ(),fe!==null)){c.cancelPendingCommit=fe(be.bind(null,c,d,z,v,T,P,J,st,vt,oe,1,Gt,$t)),Ll(c,z,J,!zt);return}be(c,d,z,v,T,P,J,st,vt)}function _f(c){for(var d=c;;){var v=d.tag;if((v===0||v===11||v===15)&&d.flags&16384&&(v=d.updateQueue,v!==null&&(v=v.stores,v!==null)))for(var T=0;T<v.length;T++){var P=v[T],z=P.getSnapshot;P=P.value;try{if(!Ma(z(),P))return!1}catch{return!1}}if(v=d.child,d.subtreeFlags&16384&&v!==null)v.return=d,d=v;else{if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function Ll(c,d,v,T){d&=~Uh,d&=~gu,c.suspendedLanes|=d,c.pingedLanes&=~d,T&&(c.warmLanes|=d),T=c.expirationTimes;for(var P=d;0<P;){var z=31-Qt(P),J=1<<z;T[z]=-1,P&=~J}v!==0&&Se(c,v,d)}function vu(){return(Ai&6)===0?(ex(0),!1):!0}function zh(){if(Zn!==null){if(Bn===0)var c=Zn.return;else c=Zn,tc=nf=null,Ub(c),Sh=null,og=0,c=Zn;for(;c!==null;)dp(c.alternate,c),c=c.return;Zn=null}}function bf(c,d){var v=c.timeoutHandle;v!==-1&&(c.timeoutHandle=-1,WK(v)),v=c.cancelPendingCommit,v!==null&&(c.cancelPendingCommit=null,v()),zh(),On=c,Zn=v=Pr(c.current,null),an=d,Bn=0,mr=null,ho=!1,yp=Ne(c,d),vp=!1,pi=Yo=Uh=gu=Nl=tr=0,fn=Mi=null,ri=!1,(d&8)!==0&&(d|=d&32);var T=c.entangledLanes;if(T!==0)for(c=c.entanglements,T&=d;0<T;){var P=31-Qt(T),z=1<<P;d|=c[P],T&=~z}return Xo=d,Gm(),v}function G0(c,d){Nn=null,q.H=ag,d===tg||d===Al?(d=Ib(),Bn=3):d===Ob?(d=Ib(),Bn=4):Bn=d===AT?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,mr=d,Zn===null&&(tr=1,L0(c,Ps(d,c.current)))}function bp(){var c=q.H;return q.H=ag,c===null?ag:c}function q0(){var c=q.A;return q.A=Sr,c}function m(){tr=4,ho||(an&4194048)!==an&&Vi.current!==null||(yp=!0),(Nl&134217727)===0&&(gu&134217727)===0||On===null||Ll(On,an,Yo,!1)}function g(c,d,v){var T=Ai;Ai|=2;var P=bp(),z=q0();(On!==c||an!==d)&&(Ko=null,bf(c,d)),d=!1;var J=tr;t:do try{if(Bn!==0&&Zn!==null){var st=Zn,vt=mr;switch(Bn){case 8:zh(),J=6;break t;case 3:case 2:case 9:case 6:Vi.current===null&&(d=!0);var zt=Bn;if(Bn=0,mr=null,bt(c,st,vt,zt),v&&yp){J=0;break t}break;default:zt=Bn,Bn=0,mr=null,bt(c,st,vt,zt)}}w(),J=tr;break}catch(oe){G0(c,oe)}while(!0);return d&&c.shellSuspendCounter++,tc=nf=null,Ai=T,q.H=P,q.A=z,Zn===null&&(On=null,an=0,Gm()),J}function w(){for(;Zn!==null;)$(Zn)}function D(c,d){var v=Ai;Ai|=2;var T=bp(),P=q0();On!==c||an!==d?(Ko=null,Ws=ne()+500,bf(c,d)):yp=Ne(c,d);t:do try{if(Bn!==0&&Zn!==null){d=Zn;var z=mr;e:switch(Bn){case 1:Bn=0,mr=null,bt(c,d,z,1);break;case 2:case 9:if(b0(z)){Bn=0,mr=null,ot(d);break}d=function(){Bn!==2&&Bn!==9||On!==c||(Bn=7),Ef(c)},z.then(d,d);break t;case 3:Bn=7;break t;case 4:Bn=5;break t;case 7:b0(z)?(Bn=0,mr=null,ot(d)):(Bn=0,mr=null,bt(c,d,z,7));break;case 5:var J=null;switch(Zn.tag){case 26:J=Zn.memoizedState;case 5:case 27:var st=Zn;if(!J||Hk(J)){Bn=0,mr=null;var vt=st.sibling;if(vt!==null)Zn=vt;else{var zt=st.return;zt!==null?(Zn=zt,Nt(zt)):Zn=null}break e}}Bn=0,mr=null,bt(c,d,z,5);break;case 6:Bn=0,mr=null,bt(c,d,z,6);break;case 8:zh(),tr=6;break t;default:throw Error(r(462))}}F();break}catch(oe){G0(c,oe)}while(!0);return tc=nf=null,q.H=T,q.A=P,Ai=v,Zn!==null?0:(On=null,an=0,Gm(),tr)}function F(){for(;Zn!==null&&!ce();)$(Zn)}function $(c){var d=Rh(c.alternate,c,Xo);c.memoizedProps=c.pendingProps,d===null?Nt(c):Zn=d}function ot(c){var d=c,v=d.alternate;switch(d.tag){case 15:case 0:d=ao(v,d,d.pendingProps,d.type,void 0,an);break;case 11:d=ao(v,d,d.pendingProps,d.type.render,d.ref,an);break;case 5:Ub(d);default:dp(v,d),d=Zn=Eb(d,Xo),d=Rh(v,d,Xo)}c.memoizedProps=c.pendingProps,d===null?Nt(c):Zn=d}function bt(c,d,v,T){tc=nf=null,Ub(d),Sh=null,og=0;var P=d.return;try{if(gO(c,P,d,v,an)){tr=1,L0(c,Ps(v,c.current)),Zn=null;return}}catch(z){if(P!==null)throw Zn=P,z;tr=1,L0(c,Ps(v,c.current)),Zn=null;return}d.flags&32768?(vi||T===1?c=!0:yp||(an&536870912)!==0?c=!1:(ho=c=!0,(T===2||T===9||T===3||T===6)&&(T=Vi.current,T!==null&&T.tag===13&&(T.flags|=16384))),ae(d,c)):Nt(d)}function Nt(c){var d=c;do{if((d.flags&32768)!==0){ae(d,ho);return}c=d.return;var v=Qb(d.alternate,d,Xo);if(v!==null){Zn=v;return}if(d=d.sibling,d!==null){Zn=d;return}Zn=d=c}while(d!==null);tr===0&&(tr=5)}function ae(c,d){do{var v=hp(c.alternate,c);if(v!==null){v.flags&=32767,Zn=v;return}if(v=c.return,v!==null&&(v.flags|=32768,v.subtreeFlags=0,v.deletions=null),!d&&(c=c.sibling,c!==null)){Zn=c;return}Zn=c=v}while(c!==null);tr=6,Zn=null}function be(c,d,v,T,P,z,J,st,vt){c.cancelPendingCommit=null;do xf();while(ls!==0);if((Ai&6)!==0)throw Error(r(327));if(d!==null){if(d===c.current)throw Error(r(177));if(z=d.lanes|d.childLanes,z|=f0,Ie(c,v,z,J,st,vt),c===On&&(Zn=On=null,an=0),Gi=d,Xs=c,mo=v,hc=z,pg=P,go=T,(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?(c.callbackNode=null,c.callbackPriority=0,_i(lt,function(){return Sf(),null})):(c.callbackNode=null,c.callbackPriority=0),T=(d.flags&13878)!==0,(d.subtreeFlags&13878)!==0||T){T=q.T,q.T=null,P=W.p,W.p=2,J=Ai,Ai|=4;try{os(c,d,v)}finally{Ai=J,W.p=P,q.T=T}}ls=1,Le(),Be(),In()}}function Le(){if(ls===1){ls=0;var c=Xs,d=Gi,v=(d.flags&13878)!==0;if((d.subtreeFlags&13878)!==0||v){v=q.T,q.T=null;var T=W.p;W.p=2;var P=Ai;Ai|=4;try{B0(d,c);var z=AO,J=gb(c.containerInfo),st=z.focusedElem,vt=z.selectionRange;if(J!==st&&st&&st.ownerDocument&&mb(st.ownerDocument.documentElement,st)){if(vt!==null&&Vm(st)){var zt=vt.start,oe=vt.end;if(oe===void 0&&(oe=zt),"selectionStart"in st)st.selectionStart=zt,st.selectionEnd=Math.min(oe,st.value.length);else{var fe=st.ownerDocument||document,Gt=fe&&fe.defaultView||window;if(Gt.getSelection){var $t=Gt.getSelection(),Sn=st.textContent.length,dn=Math.min(vt.start,Sn),Zi=vt.end===void 0?dn:Math.min(vt.end,Sn);!$t.extend&&dn>Zi&&(J=Zi,Zi=dn,dn=J);var Dt=pb(st,dn),At=pb(st,Zi);if(Dt&&At&&($t.rangeCount!==1||$t.anchorNode!==Dt.node||$t.anchorOffset!==Dt.offset||$t.focusNode!==At.node||$t.focusOffset!==At.offset)){var Ut=fe.createRange();Ut.setStart(Dt.node,Dt.offset),$t.removeAllRanges(),dn>Zi?($t.addRange(Ut),$t.extend(At.node,At.offset)):(Ut.setEnd(At.node,At.offset),$t.addRange(Ut))}}}}for(fe=[],$t=st;$t=$t.parentNode;)$t.nodeType===1&&fe.push({element:$t,left:$t.scrollLeft,top:$t.scrollTop});for(typeof st.focus=="function"&&st.focus(),st=0;st<fe.length;st++){var ue=fe[st];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}zT=!!wO,AO=wO=null}finally{Ai=P,W.p=T,q.T=v}}c.current=d,ls=2}}function Be(){if(ls===2){ls=0;var c=Xs,d=Gi,v=(d.flags&8772)!==0;if((d.subtreeFlags&8772)!==0||v){v=q.T,q.T=null;var T=W.p;W.p=2;var P=Ai;Ai|=4;try{cc(c,d.alternate,d)}finally{Ai=P,W.p=T,q.T=v}}ls=3}}function In(){if(ls===4||ls===3){ls=0,te();var c=Xs,d=Gi,v=mo,T=go;(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?ls=5:(ls=0,Gi=Xs=null,yo(c,c.pendingLanes));var P=c.pendingLanes;if(P===0&&(po=null),Ve(v),d=d.stateNode,Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(_t,d,void 0,(d.current.flags&128)===128)}catch{}if(T!==null){d=q.T,P=W.p,W.p=2,q.T=null;try{for(var z=c.onRecoverableError,J=0;J<T.length;J++){var st=T[J];z(st.value,{componentStack:st.stack})}}finally{q.T=d,W.p=P}}(mo&3)!==0&&xf(),Ef(c),P=c.pendingLanes,(v&4194090)!==0&&(P&42)!==0?c===kh?yu++:(yu=0,kh=c):yu=0,ex(0)}}function yo(c,d){(c.pooledCacheLanes&=d)===0&&(d=c.pooledCache,d!=null&&(c.pooledCache=null,Qd(d)))}function xf(c){return Le(),Be(),In(),Sf()}function Sf(){if(ls!==5)return!1;var c=Xs,d=hc;hc=0;var v=Ve(mo),T=q.T,P=W.p;try{W.p=32>v?32:v,q.T=null,v=pg,pg=null;var z=Xs,J=mo;if(ls=0,Gi=Xs=null,mo=0,(Ai&6)!==0)throw Error(r(331));var st=Ai;if(Ai|=4,Jb(z.current),H0(z,z.current,J,v),Ai=st,ex(0,!1),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(_t,z)}catch{}return!0}finally{W.p=P,q.T=T,yo(c,d)}}function Ft(c,d,v){d=Ps(v,d),d=U0(c.stateNode,d,2),c=ic(c,d,2),c!==null&&(se(c,2),Ef(c))}function Et(c,d,v){if(c.tag===3)Ft(c,c,v);else for(;d!==null;){if(d.tag===3){Ft(d,c,v);break}else if(d.tag===1){var T=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof T.componentDidCatch=="function"&&(po===null||!po.has(T))){c=Ps(v,c),v=wT(2),T=ic(d,v,2),T!==null&&(k0(v,T,d,c),se(T,2),Ef(T));break}}d=d.return}}function Wt(c,d,v){var T=c.pingCache;if(T===null){T=c.pingCache=new tx;var P=new Set;T.set(d,P)}else P=T.get(d),P===void 0&&(P=new Set,T.set(d,P));P.has(v)||(vp=!0,P.add(v),c=ve.bind(null,c,d,v),d.then(c,c))}function ve(c,d,v){var T=c.pingCache;T!==null&&T.delete(d),c.pingedLanes|=c.suspendedLanes&v,c.warmLanes&=~v,On===c&&(an&v)===v&&(tr===4||tr===3&&(an&62914560)===an&&300>ne()-Li?(Ai&2)===0&&bf(c,0):Uh|=v,pi===an&&(pi=0)),Ef(c)}function Je(c,d){d===0&&(d=Ce()),c=Qu(c,d),c!==null&&(se(c,d),Ef(c))}function er(c){var d=c.memoizedState,v=0;d!==null&&(v=d.retryLane),Je(c,v)}function _n(c,d){var v=0;switch(c.tag){case 13:var T=c.stateNode,P=c.memoizedState;P!==null&&(v=P.retryLane);break;case 19:T=c.stateNode;break;case 22:T=c.stateNode._retryCache;break;default:throw Error(r(314))}T!==null&&T.delete(d),Je(c,v)}function _i(c,d){return Vt(c,d)}var Ur=null,ti=null,_u=!1,$0=!1,yO=!1,gg=0;function Ef(c){c!==ti&&c.next===null&&(ti===null?Ur=ti=c:ti=ti.next=c),$0=!0,_u||(_u=!0,zK())}function ex(c,d){if(!yO&&$0){yO=!0;do for(var v=!1,T=Ur;T!==null;){if(c!==0){var P=T.pendingLanes;if(P===0)var z=0;else{var J=T.suspendedLanes,st=T.pingedLanes;z=(1<<31-Qt(42|c)+1)-1,z&=P&~(J&~st),z=z&201326741?z&201326741|1:z?z|2:0}z!==0&&(v=!0,bk(T,z))}else z=an,z=Pe(T,T===On?z:0,T.cancelPendingCommit!==null||T.timeoutHandle!==-1),(z&3)===0||Ne(T,z)||(v=!0,bk(T,z));T=T.next}while(v);yO=!1}}function kK(){yk()}function yk(){$0=_u=!1;var c=0;gg!==0&&($K()&&(c=gg),gg=0);for(var d=ne(),v=null,T=Ur;T!==null;){var P=T.next,z=vk(T,d);z===0?(T.next=null,v===null?Ur=P:v.next=P,P===null&&(ti=v)):(v=T,(c!==0||(z&3)!==0)&&($0=!0)),T=P}ex(c)}function vk(c,d){for(var v=c.suspendedLanes,T=c.pingedLanes,P=c.expirationTimes,z=c.pendingLanes&-62914561;0<z;){var J=31-Qt(z),st=1<<J,vt=P[J];vt===-1?((st&v)===0||(st&T)!==0)&&(P[J]=sn(st,d)):vt<=d&&(c.expiredLanes|=st),z&=~st}if(d=On,v=an,v=Pe(c,c===d?v:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),T=c.callbackNode,v===0||c===d&&(Bn===2||Bn===9)||c.cancelPendingCommit!==null)return T!==null&&T!==null&&at(T),c.callbackNode=null,c.callbackPriority=0;if((v&3)===0||Ne(c,v)){if(d=v&-v,d===c.callbackPriority)return d;switch(T!==null&&at(T),Ve(v)){case 2:case 8:v=le;break;case 32:v=lt;break;case 268435456:v=ut;break;default:v=lt}return T=_k.bind(null,c),v=Vt(v,T),c.callbackPriority=d,c.callbackNode=v,d}return T!==null&&T!==null&&at(T),c.callbackPriority=2,c.callbackNode=null,2}function _k(c,d){if(ls!==0&&ls!==5)return c.callbackNode=null,c.callbackPriority=0,null;var v=c.callbackNode;if(xf()&&c.callbackNode!==v)return null;var T=an;return T=Pe(c,c===On?T:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),T===0?null:(_p(c,T,d),vk(c,ne()),c.callbackNode!=null&&c.callbackNode===v?_k.bind(null,c):null)}function bk(c,d){if(xf())return null;_p(c,d,!0)}function zK(){XK(function(){(Ai&6)!==0?Vt(Me,kK):yk()})}function vO(){return gg===0&&(gg=Tt()),gg}function xk(c){return c==null||typeof c=="symbol"||typeof c=="boolean"?null:typeof c=="function"?c:hh(""+c)}function Sk(c,d){var v=d.ownerDocument.createElement("input");return v.name=d.name,v.value=d.value,c.id&&v.setAttribute("form",c.id),d.parentNode.insertBefore(v,d),c=new FormData(c),v.parentNode.removeChild(v),c}function BK(c,d,v,T,P){if(d==="submit"&&v&&v.stateNode===P){var z=xk((P[Ye]||null).action),J=T.submitter;J&&(d=(d=J[Ye]||null)?xk(d.formAction):J.getAttribute("formAction"),d!==null&&(z=d,J=null));var st=new qc("action","action",null,T,P);c.push({event:st,listeners:[{instance:null,listener:function(){if(T.defaultPrevented){if(gg!==0){var vt=J?Sk(P,J):new FormData(P);Xb(v,{pending:!0,data:vt,method:P.method,action:z},null,vt)}}else typeof z=="function"&&(st.preventDefault(),vt=J?Sk(P,J):new FormData(P),Xb(v,{pending:!0,data:vt,method:P.method,action:z},z,vt))},currentTarget:P}]})}}for(var _O=0;_O<jm.length;_O++){var bO=jm[_O],FK=bO.toLowerCase(),VK=bO[0].toUpperCase()+bO.slice(1);_s(FK,"on"+VK)}_s(sa,"onAnimationEnd"),_s(_b,"onAnimationIteration"),_s(Ra,"onAnimationStart"),_s("dblclick","onDoubleClick"),_s("focusin","onFocus"),_s("focusout","onBlur"),_s(kE,"onTransitionRun"),_s(Ku,"onTransitionStart"),_s(Wd,"onTransitionCancel"),_s(Zu,"onTransitionEnd"),rt("onMouseEnter",["mouseout","mouseover"]),rt("onMouseLeave",["mouseout","mouseover"]),rt("onPointerEnter",["pointerout","pointerover"]),rt("onPointerLeave",["pointerout","pointerover"]),ra("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ra("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ra("onBeforeInput",["compositionend","keypress","textInput","paste"]),ra("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ra("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ra("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nx="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HK=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(nx));function Ek(c,d){d=(d&4)!==0;for(var v=0;v<c.length;v++){var T=c[v],P=T.event;T=T.listeners;t:{var z=void 0;if(d)for(var J=T.length-1;0<=J;J--){var st=T[J],vt=st.instance,zt=st.currentTarget;if(st=st.listener,vt!==z&&P.isPropagationStopped())break t;z=st,P.currentTarget=zt;try{z(P)}catch(oe){Th(oe)}P.currentTarget=null,z=vt}else for(J=0;J<T.length;J++){if(st=T[J],vt=st.instance,zt=st.currentTarget,st=st.listener,vt!==z&&P.isPropagationStopped())break t;z=st,P.currentTarget=zt;try{z(P)}catch(oe){Th(oe)}P.currentTarget=null,z=vt}}}}function oi(c,d){var v=d[Fi];v===void 0&&(v=d[Fi]=new Set);var T=c+"__bubble";v.has(T)||(Tk(d,c,2,!1),v.add(T))}function xO(c,d,v){var T=0;d&&(T|=4),Tk(v,c,T,d)}var RT="_reactListening"+Math.random().toString(36).slice(2);function SO(c){if(!c[RT]){c[RT]=!0,ju.forEach(function(v){v!=="selectionchange"&&(HK.has(v)||xO(v,!1,c),xO(v,!0,c))});var d=c.nodeType===9?c:c.ownerDocument;d===null||d[RT]||(d[RT]=!0,xO("selectionchange",!1,d))}}function Tk(c,d,v,T){switch(Xk(d)){case 2:var P=mZ;break;case 8:P=gZ;break;default:P=UO}v=P.bind(null,d,v,c),P=void 0,!wa||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(P=!0),T?P!==void 0?c.addEventListener(d,v,{capture:!0,passive:P}):c.addEventListener(d,v,!0):P!==void 0?c.addEventListener(d,v,{passive:P}):c.addEventListener(d,v,!1)}function EO(c,d,v,T,P){var z=T;if((d&1)===0&&(d&2)===0&&T!==null)t:for(;;){if(T===null)return;var J=T.tag;if(J===3||J===4){var st=T.stateNode.containerInfo;if(st===P)break;if(J===4)for(J=T.return;J!==null;){var vt=J.tag;if((vt===3||vt===4)&&J.stateNode.containerInfo===P)return;J=J.return}for(;st!==null;){if(J=Ta(st),J===null)return;if(vt=J.tag,vt===5||vt===6||vt===26||vt===27){T=z=J;continue t}st=st.parentNode}}T=T.return}Im(function(){var zt=z,oe=to(v),fe=[];t:{var Gt=c0.get(c);if(Gt!==void 0){var $t=qc,Sn=c;switch(c){case"keypress":if(Aa(v)===0)break t;case"keydown":case"keyup":$t=Xc;break;case"focusin":Sn="focus",$t=dh;break;case"focusout":Sn="blur",$t=dh;break;case"beforeblur":case"afterblur":$t=dh;break;case"click":if(v.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$t=eo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$t=db;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$t=Vd;break;case sa:case _b:case Ra:$t=ph;break;case Zu:$t=No;break;case"scroll":case"scrollend":$t=Pm;break;case"wheel":$t=jd;break;case"copy":case"cut":case"paste":$t=mh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$t=_h;break;case"toggle":case"beforetoggle":$t=El}var dn=(d&4)!==0,Zi=!dn&&(c==="scroll"||c==="scrollend"),Dt=dn?Gt!==null?Gt+"Capture":null:Gt;dn=[];for(var At=zt,Ut;At!==null;){var ue=At;if(Ut=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||Ut===null||Dt===null||(ue=Vc(At,Dt),ue!=null&&dn.push(ix(At,ue,Ut))),Zi)break;At=At.return}0<dn.length&&(Gt=new $t(Gt,Sn,null,v,oe),fe.push({event:Gt,listeners:dn}))}}if((d&7)===0){t:{if(Gt=c==="mouseover"||c==="pointerover",$t=c==="mouseout"||c==="pointerout",Gt&&v!==eu&&(Sn=v.relatedTarget||v.fromElement)&&(Ta(Sn)||Sn[Tn]))break t;if(($t||Gt)&&(Gt=oe.window===oe?oe:(Gt=oe.ownerDocument)?Gt.defaultView||Gt.parentWindow:window,$t?(Sn=v.relatedTarget||v.toElement,$t=zt,Sn=Sn?Ta(Sn):null,Sn!==null&&(Zi=a(Sn),dn=Sn.tag,Sn!==Zi||dn!==5&&dn!==27&&dn!==6)&&(Sn=null)):($t=null,Sn=zt),$t!==Sn)){if(dn=eo,ue="onMouseLeave",Dt="onMouseEnter",At="mouse",(c==="pointerout"||c==="pointerover")&&(dn=_h,ue="onPointerLeave",Dt="onPointerEnter",At="pointer"),Zi=$t==null?Gt:Ja($t),Ut=Sn==null?Gt:Ja(Sn),Gt=new dn(ue,At+"leave",$t,v,oe),Gt.target=Zi,Gt.relatedTarget=Ut,ue=null,Ta(oe)===zt&&(dn=new dn(Dt,At+"enter",Sn,v,oe),dn.target=Ut,dn.relatedTarget=Zi,ue=dn),Zi=ue,$t&&Sn)e:{for(dn=$t,Dt=Sn,At=0,Ut=dn;Ut;Ut=W0(Ut))At++;for(Ut=0,ue=Dt;ue;ue=W0(ue))Ut++;for(;0<At-Ut;)dn=W0(dn),At--;for(;0<Ut-At;)Dt=W0(Dt),Ut--;for(;At--;){if(dn===Dt||Dt!==null&&dn===Dt.alternate)break e;dn=W0(dn),Dt=W0(Dt)}dn=null}else dn=null;$t!==null&&wk(fe,Gt,$t,dn,!1),Sn!==null&&Zi!==null&&wk(fe,Zi,Sn,dn,!0)}}t:{if(Gt=zt?Ja(zt):window,$t=Gt.nodeName&&Gt.nodeName.toLowerCase(),$t==="select"||$t==="input"&&Gt.type==="file")var qe=r0;else if(Wr(Gt))if(s0)qe=Yc;else{qe=NE;var si=oO}else $t=Gt.nodeName,!$t||$t.toLowerCase()!=="input"||Gt.type!=="checkbox"&&Gt.type!=="radio"?zt&&Ud(zt.elementType)&&(qe=r0):qe=Fm;if(qe&&(qe=qe(c,zt))){Ir(fe,qe,v,oe);break t}si&&si(c,Gt,zt),c==="focusout"&&zt&&Gt.type==="number"&&zt.memoizedProps.value!=null&&_r(Gt,"number",Gt.value)}switch(si=zt?Ja(zt):window,c){case"focusin":(Wr(si)||si.contentEditable==="true")&&(Xu=si,o0=zt,Hm=null);break;case"focusout":Hm=o0=Xu=null;break;case"mousedown":l0=!0;break;case"contextmenu":case"mouseup":case"dragend":l0=!1,vb(fe,v,oe);break;case"selectionchange":if(yb)break;case"keydown":case"keyup":vb(fe,v,oe)}var rn;if(Uo)t:{switch(c){case"compositionstart":var pn="onCompositionStart";break t;case"compositionend":pn="onCompositionEnd";break t;case"compositionupdate":pn="onCompositionUpdate";break t}pn=void 0}else ni?Yt(c,v)&&(pn="onCompositionEnd"):c==="keydown"&&v.keyCode===229&&(pn="onCompositionStart");pn&&(Y&&v.locale!=="ko"&&(ni||pn!=="onCompositionStart"?pn==="onCompositionEnd"&&ni&&(rn=zd()):(xl=oe,jc="value"in xl?xl.value:xl.textContent,ni=!0)),si=OT(zt,pn),0<si.length&&(pn=new yh(pn,c,null,v,oe),fe.push({event:pn,listeners:si}),rn?pn.data=rn:(rn=Ae(v),rn!==null&&(pn.data=rn)))),(rn=G?dr(c,v):ii(c,v))&&(pn=OT(zt,"onBeforeInput"),0<pn.length&&(si=new yh("onBeforeInput","beforeinput",null,v,oe),fe.push({event:si,listeners:pn}),si.data=rn)),BK(fe,c,zt,v,oe)}Ek(fe,d)})}function ix(c,d,v){return{instance:c,listener:d,currentTarget:v}}function OT(c,d){for(var v=d+"Capture",T=[];c!==null;){var P=c,z=P.stateNode;if(P=P.tag,P!==5&&P!==26&&P!==27||z===null||(P=Vc(c,v),P!=null&&T.unshift(ix(c,P,z)),P=Vc(c,d),P!=null&&T.push(ix(c,P,z))),c.tag===3)return T;c=c.return}return[]}function W0(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5&&c.tag!==27);return c||null}function wk(c,d,v,T,P){for(var z=d._reactName,J=[];v!==null&&v!==T;){var st=v,vt=st.alternate,zt=st.stateNode;if(st=st.tag,vt!==null&&vt===T)break;st!==5&&st!==26&&st!==27||zt===null||(vt=zt,P?(zt=Vc(v,z),zt!=null&&J.unshift(ix(v,zt,vt))):P||(zt=Vc(v,z),zt!=null&&J.push(ix(v,zt,vt)))),v=v.return}J.length!==0&&c.push({event:d,listeners:J})}var jK=/\r\n?/g,GK=/\u0000|\uFFFD/g;function Ak(c){return(typeof c=="string"?c:""+c).replace(jK,`
`).replace(GK,"")}function Mk(c,d){return d=Ak(d),Ak(c)===d}function IT(){}function Ki(c,d,v,T,P,z){switch(v){case"children":typeof T=="string"?d==="body"||d==="textarea"&&T===""||Rr(c,T):(typeof T=="number"||typeof T=="bigint")&&d!=="body"&&Rr(c,""+T);break;case"className":Te(c,"class",T);break;case"tabIndex":Te(c,"tabindex",T);break;case"dir":case"role":case"viewBox":case"width":case"height":Te(c,v,T);break;case"style":Fc(c,T,z);break;case"data":if(d!=="object"){Te(c,"data",T);break}case"src":case"href":if(T===""&&(d!=="a"||v!=="href")){c.removeAttribute(v);break}if(T==null||typeof T=="function"||typeof T=="symbol"||typeof T=="boolean"){c.removeAttribute(v);break}T=hh(""+T),c.setAttribute(v,T);break;case"action":case"formAction":if(typeof T=="function"){c.setAttribute(v,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof z=="function"&&(v==="formAction"?(d!=="input"&&Ki(c,d,"name",P.name,P,null),Ki(c,d,"formEncType",P.formEncType,P,null),Ki(c,d,"formMethod",P.formMethod,P,null),Ki(c,d,"formTarget",P.formTarget,P,null)):(Ki(c,d,"encType",P.encType,P,null),Ki(c,d,"method",P.method,P,null),Ki(c,d,"target",P.target,P,null)));if(T==null||typeof T=="symbol"||typeof T=="boolean"){c.removeAttribute(v);break}T=hh(""+T),c.setAttribute(v,T);break;case"onClick":T!=null&&(c.onclick=IT);break;case"onScroll":T!=null&&oi("scroll",c);break;case"onScrollEnd":T!=null&&oi("scrollend",c);break;case"dangerouslySetInnerHTML":if(T!=null){if(typeof T!="object"||!("__html"in T))throw Error(r(61));if(v=T.__html,v!=null){if(P.children!=null)throw Error(r(60));c.innerHTML=v}}break;case"multiple":c.multiple=T&&typeof T!="function"&&typeof T!="symbol";break;case"muted":c.muted=T&&typeof T!="function"&&typeof T!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(T==null||typeof T=="function"||typeof T=="boolean"||typeof T=="symbol"){c.removeAttribute("xlink:href");break}v=hh(""+T),c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",v);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":T!=null&&typeof T!="function"&&typeof T!="symbol"?c.setAttribute(v,""+T):c.removeAttribute(v);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":T&&typeof T!="function"&&typeof T!="symbol"?c.setAttribute(v,""):c.removeAttribute(v);break;case"capture":case"download":T===!0?c.setAttribute(v,""):T!==!1&&T!=null&&typeof T!="function"&&typeof T!="symbol"?c.setAttribute(v,T):c.removeAttribute(v);break;case"cols":case"rows":case"size":case"span":T!=null&&typeof T!="function"&&typeof T!="symbol"&&!isNaN(T)&&1<=T?c.setAttribute(v,T):c.removeAttribute(v);break;case"rowSpan":case"start":T==null||typeof T=="function"||typeof T=="symbol"||isNaN(T)?c.removeAttribute(v):c.setAttribute(v,T);break;case"popover":oi("beforetoggle",c),oi("toggle",c),de(c,"popover",T);break;case"xlinkActuate":we(c,"http://www.w3.org/1999/xlink","xlink:actuate",T);break;case"xlinkArcrole":we(c,"http://www.w3.org/1999/xlink","xlink:arcrole",T);break;case"xlinkRole":we(c,"http://www.w3.org/1999/xlink","xlink:role",T);break;case"xlinkShow":we(c,"http://www.w3.org/1999/xlink","xlink:show",T);break;case"xlinkTitle":we(c,"http://www.w3.org/1999/xlink","xlink:title",T);break;case"xlinkType":we(c,"http://www.w3.org/1999/xlink","xlink:type",T);break;case"xmlBase":we(c,"http://www.w3.org/XML/1998/namespace","xml:base",T);break;case"xmlLang":we(c,"http://www.w3.org/XML/1998/namespace","xml:lang",T);break;case"xmlSpace":we(c,"http://www.w3.org/XML/1998/namespace","xml:space",T);break;case"is":de(c,"is",T);break;case"innerText":case"textContent":break;default:(!(2<v.length)||v[0]!=="o"&&v[0]!=="O"||v[1]!=="n"&&v[1]!=="N")&&(v=Om.get(v)||v,de(c,v,T))}}function TO(c,d,v,T,P,z){switch(v){case"style":Fc(c,T,z);break;case"dangerouslySetInnerHTML":if(T!=null){if(typeof T!="object"||!("__html"in T))throw Error(r(61));if(v=T.__html,v!=null){if(P.children!=null)throw Error(r(60));c.innerHTML=v}}break;case"children":typeof T=="string"?Rr(c,T):(typeof T=="number"||typeof T=="bigint")&&Rr(c,""+T);break;case"onScroll":T!=null&&oi("scroll",c);break;case"onScrollEnd":T!=null&&oi("scrollend",c);break;case"onClick":T!=null&&(c.onclick=IT);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!tu.hasOwnProperty(v))t:{if(v[0]==="o"&&v[1]==="n"&&(P=v.endsWith("Capture"),d=v.slice(2,P?v.length-7:void 0),z=c[Ye]||null,z=z!=null?z[v]:null,typeof z=="function"&&c.removeEventListener(d,z,P),typeof T=="function")){typeof z!="function"&&z!==null&&(v in c?c[v]=null:c.hasAttribute(v)&&c.removeAttribute(v)),c.addEventListener(d,T,P);break t}v in c?c[v]=T:T===!0?c.setAttribute(v,""):de(c,v,T)}}}function ha(c,d,v){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":oi("error",c),oi("load",c);var T=!1,P=!1,z;for(z in v)if(v.hasOwnProperty(z)){var J=v[z];if(J!=null)switch(z){case"src":T=!0;break;case"srcSet":P=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,d));default:Ki(c,d,z,J,v,null)}}P&&Ki(c,d,"srcSet",v.srcSet,v,null),T&&Ki(c,d,"src",v.src,v,null);return;case"input":oi("invalid",c);var st=z=J=P=null,vt=null,zt=null;for(T in v)if(v.hasOwnProperty(T)){var oe=v[T];if(oe!=null)switch(T){case"name":P=oe;break;case"type":J=oe;break;case"checked":vt=oe;break;case"defaultChecked":zt=oe;break;case"value":z=oe;break;case"defaultValue":st=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(137,d));break;default:Ki(c,d,T,oe,v,null)}}hi(c,z,st,vt,zt,J,P,!1),Ji(c);return;case"select":oi("invalid",c),T=J=z=null;for(P in v)if(v.hasOwnProperty(P)&&(st=v[P],st!=null))switch(P){case"value":z=st;break;case"defaultValue":J=st;break;case"multiple":T=st;default:Ki(c,d,P,st,v,null)}d=z,v=J,c.multiple=!!T,d!=null?cr(c,!!T,d,!1):v!=null&&cr(c,!!T,v,!0);return;case"textarea":oi("invalid",c),z=P=T=null;for(J in v)if(v.hasOwnProperty(J)&&(st=v[J],st!=null))switch(J){case"value":T=st;break;case"defaultValue":P=st;break;case"children":z=st;break;case"dangerouslySetInnerHTML":if(st!=null)throw Error(r(91));break;default:Ki(c,d,J,st,v,null)}fr(c,T,P,z),Ji(c);return;case"option":for(vt in v)if(v.hasOwnProperty(vt)&&(T=v[vt],T!=null))switch(vt){case"selected":c.selected=T&&typeof T!="function"&&typeof T!="symbol";break;default:Ki(c,d,vt,T,v,null)}return;case"dialog":oi("beforetoggle",c),oi("toggle",c),oi("cancel",c),oi("close",c);break;case"iframe":case"object":oi("load",c);break;case"video":case"audio":for(T=0;T<nx.length;T++)oi(nx[T],c);break;case"image":oi("error",c),oi("load",c);break;case"details":oi("toggle",c);break;case"embed":case"source":case"link":oi("error",c),oi("load",c);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(zt in v)if(v.hasOwnProperty(zt)&&(T=v[zt],T!=null))switch(zt){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,d));default:Ki(c,d,zt,T,v,null)}return;default:if(Ud(d)){for(oe in v)v.hasOwnProperty(oe)&&(T=v[oe],T!==void 0&&TO(c,d,oe,T,v,void 0));return}}for(st in v)v.hasOwnProperty(st)&&(T=v[st],T!=null&&Ki(c,d,st,T,v,null))}function qK(c,d,v,T){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var P=null,z=null,J=null,st=null,vt=null,zt=null,oe=null;for($t in v){var fe=v[$t];if(v.hasOwnProperty($t)&&fe!=null)switch($t){case"checked":break;case"value":break;case"defaultValue":vt=fe;default:T.hasOwnProperty($t)||Ki(c,d,$t,null,T,fe)}}for(var Gt in T){var $t=T[Gt];if(fe=v[Gt],T.hasOwnProperty(Gt)&&($t!=null||fe!=null))switch(Gt){case"type":z=$t;break;case"name":P=$t;break;case"checked":zt=$t;break;case"defaultChecked":oe=$t;break;case"value":J=$t;break;case"defaultValue":st=$t;break;case"children":case"dangerouslySetInnerHTML":if($t!=null)throw Error(r(137,d));break;default:$t!==fe&&Ki(c,d,Gt,$t,T,fe)}}$r(c,J,st,vt,zt,oe,z,P);return;case"select":$t=J=st=Gt=null;for(z in v)if(vt=v[z],v.hasOwnProperty(z)&&vt!=null)switch(z){case"value":break;case"multiple":$t=vt;default:T.hasOwnProperty(z)||Ki(c,d,z,null,T,vt)}for(P in T)if(z=T[P],vt=v[P],T.hasOwnProperty(P)&&(z!=null||vt!=null))switch(P){case"value":Gt=z;break;case"defaultValue":st=z;break;case"multiple":J=z;default:z!==vt&&Ki(c,d,P,z,T,vt)}d=st,v=J,T=$t,Gt!=null?cr(c,!!v,Gt,!1):!!T!=!!v&&(d!=null?cr(c,!!v,d,!0):cr(c,!!v,v?[]:"",!1));return;case"textarea":$t=Gt=null;for(st in v)if(P=v[st],v.hasOwnProperty(st)&&P!=null&&!T.hasOwnProperty(st))switch(st){case"value":break;case"children":break;default:Ki(c,d,st,null,T,P)}for(J in T)if(P=T[J],z=v[J],T.hasOwnProperty(J)&&(P!=null||z!=null))switch(J){case"value":Gt=P;break;case"defaultValue":$t=P;break;case"children":break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(91));break;default:P!==z&&Ki(c,d,J,P,T,z)}Cn(c,Gt,$t);return;case"option":for(var Sn in v)if(Gt=v[Sn],v.hasOwnProperty(Sn)&&Gt!=null&&!T.hasOwnProperty(Sn))switch(Sn){case"selected":c.selected=!1;break;default:Ki(c,d,Sn,null,T,Gt)}for(vt in T)if(Gt=T[vt],$t=v[vt],T.hasOwnProperty(vt)&&Gt!==$t&&(Gt!=null||$t!=null))switch(vt){case"selected":c.selected=Gt&&typeof Gt!="function"&&typeof Gt!="symbol";break;default:Ki(c,d,vt,Gt,T,$t)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dn in v)Gt=v[dn],v.hasOwnProperty(dn)&&Gt!=null&&!T.hasOwnProperty(dn)&&Ki(c,d,dn,null,T,Gt);for(zt in T)if(Gt=T[zt],$t=v[zt],T.hasOwnProperty(zt)&&Gt!==$t&&(Gt!=null||$t!=null))switch(zt){case"children":case"dangerouslySetInnerHTML":if(Gt!=null)throw Error(r(137,d));break;default:Ki(c,d,zt,Gt,T,$t)}return;default:if(Ud(d)){for(var Zi in v)Gt=v[Zi],v.hasOwnProperty(Zi)&&Gt!==void 0&&!T.hasOwnProperty(Zi)&&TO(c,d,Zi,void 0,T,Gt);for(oe in T)Gt=T[oe],$t=v[oe],!T.hasOwnProperty(oe)||Gt===$t||Gt===void 0&&$t===void 0||TO(c,d,oe,Gt,T,$t);return}}for(var Dt in v)Gt=v[Dt],v.hasOwnProperty(Dt)&&Gt!=null&&!T.hasOwnProperty(Dt)&&Ki(c,d,Dt,null,T,Gt);for(fe in T)Gt=T[fe],$t=v[fe],!T.hasOwnProperty(fe)||Gt===$t||Gt==null&&$t==null||Ki(c,d,fe,Gt,T,$t)}var wO=null,AO=null;function PT(c){return c.nodeType===9?c:c.ownerDocument}function Ck(c){switch(c){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Rk(c,d){if(c===0)switch(d){case"svg":return 1;case"math":return 2;default:return 0}return c===1&&d==="foreignObject"?0:c}function MO(c,d){return c==="textarea"||c==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.children=="bigint"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var CO=null;function $K(){var c=window.event;return c&&c.type==="popstate"?c===CO?!1:(CO=c,!0):(CO=null,!1)}var Ok=typeof setTimeout=="function"?setTimeout:void 0,WK=typeof clearTimeout=="function"?clearTimeout:void 0,Ik=typeof Promise=="function"?Promise:void 0,XK=typeof queueMicrotask=="function"?queueMicrotask:typeof Ik<"u"?function(c){return Ik.resolve(null).then(c).catch(YK)}:Ok;function YK(c){setTimeout(function(){throw c})}function xp(c){return c==="head"}function Pk(c,d){var v=d,T=0,P=0;do{var z=v.nextSibling;if(c.removeChild(v),z&&z.nodeType===8)if(v=z.data,v==="/$"){if(0<T&&8>T){v=T;var J=c.ownerDocument;if(v&1&&rx(J.documentElement),v&2&&rx(J.body),v&4)for(v=J.head,rx(v),J=v.firstChild;J;){var st=J.nextSibling,vt=J.nodeName;J[Os]||vt==="SCRIPT"||vt==="STYLE"||vt==="LINK"&&J.rel.toLowerCase()==="stylesheet"||v.removeChild(J),J=st}}if(P===0){c.removeChild(z),hx(d);return}P--}else v==="$"||v==="$?"||v==="$!"?P++:T=v.charCodeAt(0)-48;else T=0;v=z}while(v);hx(d)}function RO(c){var d=c.firstChild;for(d&&d.nodeType===10&&(d=d.nextSibling);d;){var v=d;switch(d=d.nextSibling,v.nodeName){case"HTML":case"HEAD":case"BODY":RO(v),fi(v);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(v.rel.toLowerCase()==="stylesheet")continue}c.removeChild(v)}}function KK(c,d,v,T){for(;c.nodeType===1;){var P=v;if(c.nodeName.toLowerCase()!==d.toLowerCase()){if(!T&&(c.nodeName!=="INPUT"||c.type!=="hidden"))break}else if(T){if(!c[Os])switch(d){case"meta":if(!c.hasAttribute("itemprop"))break;return c;case"link":if(z=c.getAttribute("rel"),z==="stylesheet"&&c.hasAttribute("data-precedence"))break;if(z!==P.rel||c.getAttribute("href")!==(P.href==null||P.href===""?null:P.href)||c.getAttribute("crossorigin")!==(P.crossOrigin==null?null:P.crossOrigin)||c.getAttribute("title")!==(P.title==null?null:P.title))break;return c;case"style":if(c.hasAttribute("data-precedence"))break;return c;case"script":if(z=c.getAttribute("src"),(z!==(P.src==null?null:P.src)||c.getAttribute("type")!==(P.type==null?null:P.type)||c.getAttribute("crossorigin")!==(P.crossOrigin==null?null:P.crossOrigin))&&z&&c.hasAttribute("async")&&!c.hasAttribute("itemprop"))break;return c;default:return c}}else if(d==="input"&&c.type==="hidden"){var z=P.name==null?null:""+P.name;if(P.type==="hidden"&&c.getAttribute("name")===z)return c}else return c;if(c=dc(c.nextSibling),c===null)break}return null}function ZK(c,d,v){if(d==="")return null;for(;c.nodeType!==3;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!v||(c=dc(c.nextSibling),c===null))return null;return c}function OO(c){return c.data==="$!"||c.data==="$?"&&c.ownerDocument.readyState==="complete"}function QK(c,d){var v=c.ownerDocument;if(c.data!=="$?"||v.readyState==="complete")d();else{var T=function(){d(),v.removeEventListener("DOMContentLoaded",T)};v.addEventListener("DOMContentLoaded",T),c._reactRetry=T}}function dc(c){for(;c!=null;c=c.nextSibling){var d=c.nodeType;if(d===1||d===3)break;if(d===8){if(d=c.data,d==="$"||d==="$!"||d==="$?"||d==="F!"||d==="F")break;if(d==="/$")return null}}return c}var IO=null;function Dk(c){c=c.previousSibling;for(var d=0;c;){if(c.nodeType===8){var v=c.data;if(v==="$"||v==="$!"||v==="$?"){if(d===0)return c;d--}else v==="/$"&&d++}c=c.previousSibling}return null}function Nk(c,d,v){switch(d=PT(v),c){case"html":if(c=d.documentElement,!c)throw Error(r(452));return c;case"head":if(c=d.head,!c)throw Error(r(453));return c;case"body":if(c=d.body,!c)throw Error(r(454));return c;default:throw Error(r(451))}}function rx(c){for(var d=c.attributes;d.length;)c.removeAttributeNode(d[0]);fi(c)}var bu=new Map,Lk=new Set;function DT(c){return typeof c.getRootNode=="function"?c.getRootNode():c.nodeType===9?c:c.ownerDocument}var Bh=W.d;W.d={f:JK,r:tZ,D:eZ,C:nZ,L:iZ,m:rZ,X:aZ,S:sZ,M:oZ};function JK(){var c=Bh.f(),d=vu();return c||d}function tZ(c){var d=ia(c);d!==null&&d.tag===5&&d.type==="form"?hT(d):Bh.r(c)}var X0=typeof document>"u"?null:document;function Uk(c,d,v){var T=X0;if(T&&typeof d=="string"&&d){var P=ai(d);P='link[rel="'+c+'"][href="'+P+'"]',typeof v=="string"&&(P+='[crossorigin="'+v+'"]'),Lk.has(P)||(Lk.add(P),c={rel:c,crossOrigin:v,href:d},T.querySelector(P)===null&&(d=T.createElement("link"),ha(d,"link",c),ur(d),T.head.appendChild(d)))}}function eZ(c){Bh.D(c),Uk("dns-prefetch",c,null)}function nZ(c,d){Bh.C(c,d),Uk("preconnect",c,d)}function iZ(c,d,v){Bh.L(c,d,v);var T=X0;if(T&&c&&d){var P='link[rel="preload"][as="'+ai(d)+'"]';d==="image"&&v&&v.imageSrcSet?(P+='[imagesrcset="'+ai(v.imageSrcSet)+'"]',typeof v.imageSizes=="string"&&(P+='[imagesizes="'+ai(v.imageSizes)+'"]')):P+='[href="'+ai(c)+'"]';var z=P;switch(d){case"style":z=Y0(c);break;case"script":z=K0(c)}bu.has(z)||(c=h({rel:"preload",href:d==="image"&&v&&v.imageSrcSet?void 0:c,as:d},v),bu.set(z,c),T.querySelector(P)!==null||d==="style"&&T.querySelector(sx(z))||d==="script"&&T.querySelector(ax(z))||(d=T.createElement("link"),ha(d,"link",c),ur(d),T.head.appendChild(d)))}}function rZ(c,d){Bh.m(c,d);var v=X0;if(v&&c){var T=d&&typeof d.as=="string"?d.as:"script",P='link[rel="modulepreload"][as="'+ai(T)+'"][href="'+ai(c)+'"]',z=P;switch(T){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":z=K0(c)}if(!bu.has(z)&&(c=h({rel:"modulepreload",href:c},d),bu.set(z,c),v.querySelector(P)===null)){switch(T){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(v.querySelector(ax(z)))return}T=v.createElement("link"),ha(T,"link",c),ur(T),v.head.appendChild(T)}}}function sZ(c,d,v){Bh.S(c,d,v);var T=X0;if(T&&c){var P=ys(T).hoistableStyles,z=Y0(c);d=d||"default";var J=P.get(z);if(!J){var st={loading:0,preload:null};if(J=T.querySelector(sx(z)))st.loading=5;else{c=h({rel:"stylesheet",href:c,"data-precedence":d},v),(v=bu.get(z))&&PO(c,v);var vt=J=T.createElement("link");ur(vt),ha(vt,"link",c),vt._p=new Promise(function(zt,oe){vt.onload=zt,vt.onerror=oe}),vt.addEventListener("load",function(){st.loading|=1}),vt.addEventListener("error",function(){st.loading|=2}),st.loading|=4,NT(J,d,T)}J={type:"stylesheet",instance:J,count:1,state:st},P.set(z,J)}}}function aZ(c,d){Bh.X(c,d);var v=X0;if(v&&c){var T=ys(v).hoistableScripts,P=K0(c),z=T.get(P);z||(z=v.querySelector(ax(P)),z||(c=h({src:c,async:!0},d),(d=bu.get(P))&&DO(c,d),z=v.createElement("script"),ur(z),ha(z,"link",c),v.head.appendChild(z)),z={type:"script",instance:z,count:1,state:null},T.set(P,z))}}function oZ(c,d){Bh.M(c,d);var v=X0;if(v&&c){var T=ys(v).hoistableScripts,P=K0(c),z=T.get(P);z||(z=v.querySelector(ax(P)),z||(c=h({src:c,async:!0,type:"module"},d),(d=bu.get(P))&&DO(c,d),z=v.createElement("script"),ur(z),ha(z,"link",c),v.head.appendChild(z)),z={type:"script",instance:z,count:1,state:null},T.set(P,z))}}function kk(c,d,v,T){var P=(P=ft.current)?DT(P):null;if(!P)throw Error(r(446));switch(c){case"meta":case"title":return null;case"style":return typeof v.precedence=="string"&&typeof v.href=="string"?(d=Y0(v.href),v=ys(P).hoistableStyles,T=v.get(d),T||(T={type:"style",instance:null,count:0,state:null},v.set(d,T)),T):{type:"void",instance:null,count:0,state:null};case"link":if(v.rel==="stylesheet"&&typeof v.href=="string"&&typeof v.precedence=="string"){c=Y0(v.href);var z=ys(P).hoistableStyles,J=z.get(c);if(J||(P=P.ownerDocument||P,J={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},z.set(c,J),(z=P.querySelector(sx(c)))&&!z._p&&(J.instance=z,J.state.loading=5),bu.has(c)||(v={rel:"preload",as:"style",href:v.href,crossOrigin:v.crossOrigin,integrity:v.integrity,media:v.media,hrefLang:v.hrefLang,referrerPolicy:v.referrerPolicy},bu.set(c,v),z||lZ(P,c,v,J.state))),d&&T===null)throw Error(r(528,""));return J}if(d&&T!==null)throw Error(r(529,""));return null;case"script":return d=v.async,v=v.src,typeof v=="string"&&d&&typeof d!="function"&&typeof d!="symbol"?(d=K0(v),v=ys(P).hoistableScripts,T=v.get(d),T||(T={type:"script",instance:null,count:0,state:null},v.set(d,T)),T):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,c))}}function Y0(c){return'href="'+ai(c)+'"'}function sx(c){return'link[rel="stylesheet"]['+c+"]"}function zk(c){return h({},c,{"data-precedence":c.precedence,precedence:null})}function lZ(c,d,v,T){c.querySelector('link[rel="preload"][as="style"]['+d+"]")?T.loading=1:(d=c.createElement("link"),T.preload=d,d.addEventListener("load",function(){return T.loading|=1}),d.addEventListener("error",function(){return T.loading|=2}),ha(d,"link",v),ur(d),c.head.appendChild(d))}function K0(c){return'[src="'+ai(c)+'"]'}function ax(c){return"script[async]"+c}function Bk(c,d,v){if(d.count++,d.instance===null)switch(d.type){case"style":var T=c.querySelector('style[data-href~="'+ai(v.href)+'"]');if(T)return d.instance=T,ur(T),T;var P=h({},v,{"data-href":v.href,"data-precedence":v.precedence,href:null,precedence:null});return T=(c.ownerDocument||c).createElement("style"),ur(T),ha(T,"style",P),NT(T,v.precedence,c),d.instance=T;case"stylesheet":P=Y0(v.href);var z=c.querySelector(sx(P));if(z)return d.state.loading|=4,d.instance=z,ur(z),z;T=zk(v),(P=bu.get(P))&&PO(T,P),z=(c.ownerDocument||c).createElement("link"),ur(z);var J=z;return J._p=new Promise(function(st,vt){J.onload=st,J.onerror=vt}),ha(z,"link",T),d.state.loading|=4,NT(z,v.precedence,c),d.instance=z;case"script":return z=K0(v.src),(P=c.querySelector(ax(z)))?(d.instance=P,ur(P),P):(T=v,(P=bu.get(z))&&(T=h({},v),DO(T,P)),c=c.ownerDocument||c,P=c.createElement("script"),ur(P),ha(P,"link",T),c.head.appendChild(P),d.instance=P);case"void":return null;default:throw Error(r(443,d.type))}else d.type==="stylesheet"&&(d.state.loading&4)===0&&(T=d.instance,d.state.loading|=4,NT(T,v.precedence,c));return d.instance}function NT(c,d,v){for(var T=v.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),P=T.length?T[T.length-1]:null,z=P,J=0;J<T.length;J++){var st=T[J];if(st.dataset.precedence===d)z=st;else if(z!==P)break}z?z.parentNode.insertBefore(c,z.nextSibling):(d=v.nodeType===9?v.head:v,d.insertBefore(c,d.firstChild))}function PO(c,d){c.crossOrigin==null&&(c.crossOrigin=d.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=d.referrerPolicy),c.title==null&&(c.title=d.title)}function DO(c,d){c.crossOrigin==null&&(c.crossOrigin=d.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=d.referrerPolicy),c.integrity==null&&(c.integrity=d.integrity)}var LT=null;function Fk(c,d,v){if(LT===null){var T=new Map,P=LT=new Map;P.set(v,T)}else P=LT,T=P.get(v),T||(T=new Map,P.set(v,T));if(T.has(c))return T;for(T.set(c,null),v=v.getElementsByTagName(c),P=0;P<v.length;P++){var z=v[P];if(!(z[Os]||z[Qe]||c==="link"&&z.getAttribute("rel")==="stylesheet")&&z.namespaceURI!=="http://www.w3.org/2000/svg"){var J=z.getAttribute(d)||"";J=c+J;var st=T.get(J);st?st.push(z):T.set(J,[z])}}return T}function Vk(c,d,v){c=c.ownerDocument||c,c.head.insertBefore(v,d==="title"?c.querySelector("head > title"):null)}function uZ(c,d,v){if(v===1||d.itemProp!=null)return!1;switch(c){case"meta":case"title":return!0;case"style":if(typeof d.precedence!="string"||typeof d.href!="string"||d.href==="")break;return!0;case"link":if(typeof d.rel!="string"||typeof d.href!="string"||d.href===""||d.onLoad||d.onError)break;switch(d.rel){case"stylesheet":return c=d.disabled,typeof d.precedence=="string"&&c==null;default:return!0}case"script":if(d.async&&typeof d.async!="function"&&typeof d.async!="symbol"&&!d.onLoad&&!d.onError&&d.src&&typeof d.src=="string")return!0}return!1}function Hk(c){return!(c.type==="stylesheet"&&(c.state.loading&3)===0)}var ox=null;function cZ(){}function fZ(c,d,v){if(ox===null)throw Error(r(475));var T=ox;if(d.type==="stylesheet"&&(typeof v.media!="string"||matchMedia(v.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var P=Y0(v.href),z=c.querySelector(sx(P));if(z){c=z._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(T.count++,T=UT.bind(T),c.then(T,T)),d.state.loading|=4,d.instance=z,ur(z);return}z=c.ownerDocument||c,v=zk(v),(P=bu.get(P))&&PO(v,P),z=z.createElement("link"),ur(z);var J=z;J._p=new Promise(function(st,vt){J.onload=st,J.onerror=vt}),ha(z,"link",v),d.instance=z}T.stylesheets===null&&(T.stylesheets=new Map),T.stylesheets.set(d,c),(c=d.state.preload)&&(d.state.loading&3)===0&&(T.count++,d=UT.bind(T),c.addEventListener("load",d),c.addEventListener("error",d))}}function hZ(){if(ox===null)throw Error(r(475));var c=ox;return c.stylesheets&&c.count===0&&NO(c,c.stylesheets),0<c.count?function(d){var v=setTimeout(function(){if(c.stylesheets&&NO(c,c.stylesheets),c.unsuspend){var T=c.unsuspend;c.unsuspend=null,T()}},6e4);return c.unsuspend=d,function(){c.unsuspend=null,clearTimeout(v)}}:null}function UT(){if(this.count--,this.count===0){if(this.stylesheets)NO(this,this.stylesheets);else if(this.unsuspend){var c=this.unsuspend;this.unsuspend=null,c()}}}var kT=null;function NO(c,d){c.stylesheets=null,c.unsuspend!==null&&(c.count++,kT=new Map,d.forEach(dZ,c),kT=null,UT.call(c))}function dZ(c,d){if(!(d.state.loading&4)){var v=kT.get(c);if(v)var T=v.get(null);else{v=new Map,kT.set(c,v);for(var P=c.querySelectorAll("link[data-precedence],style[data-precedence]"),z=0;z<P.length;z++){var J=P[z];(J.nodeName==="LINK"||J.getAttribute("media")!=="not all")&&(v.set(J.dataset.precedence,J),T=J)}T&&v.set(null,T)}P=d.instance,J=P.getAttribute("data-precedence"),z=v.get(J)||T,z===T&&v.set(null,P),v.set(J,P),this.count++,T=UT.bind(this),P.addEventListener("load",T),P.addEventListener("error",T),z?z.parentNode.insertBefore(P,z.nextSibling):(c=c.nodeType===9?c.head:c,c.insertBefore(P,c.firstChild)),d.state.loading|=4}}var lx={$$typeof:C,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function pZ(c,d,v,T,P,z,J,st){this.tag=1,this.containerInfo=c,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xt(0),this.hiddenUpdates=Xt(null),this.identifierPrefix=T,this.onUncaughtError=P,this.onCaughtError=z,this.onRecoverableError=J,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=st,this.incompleteTransitions=new Map}function jk(c,d,v,T,P,z,J,st,vt,zt,oe,fe){return c=new pZ(c,d,v,J,st,vt,zt,fe),d=1,z===!0&&(d|=24),z=Oa(3,null,null,d),c.current=z,z.stateNode=c,d=y0(),d.refCount++,c.pooledCache=d,d.refCount++,z.memoizedState={element:T,isDehydrated:v,cache:d},Pb(z),c}function Gk(c){return c?(c=Qc,c):Qc}function qk(c,d,v,T,P,z){P=Gk(P),T.context===null?T.context=P:T.pendingContext=P,T=ou(d),T.payload={element:v},z=z===void 0?null:z,z!==null&&(T.callback=z),v=ic(c,T,d),v!==null&&(fa(v,c,d),xh(v,c,d))}function $k(c,d){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var v=c.retryLane;c.retryLane=v!==0&&v<d?v:d}}function LO(c,d){$k(c,d),(c=c.alternate)&&$k(c,d)}function Wk(c){if(c.tag===13){var d=Qu(c,67108864);d!==null&&fa(d,c,67108864),LO(c,67108864)}}var zT=!0;function mZ(c,d,v,T){var P=q.T;q.T=null;var z=W.p;try{W.p=2,UO(c,d,v,T)}finally{W.p=z,q.T=P}}function gZ(c,d,v,T){var P=q.T;q.T=null;var z=W.p;try{W.p=8,UO(c,d,v,T)}finally{W.p=z,q.T=P}}function UO(c,d,v,T){if(zT){var P=kO(T);if(P===null)EO(c,d,T,BT,v),Yk(c,T);else if(vZ(P,c,d,v,T))T.stopPropagation();else if(Yk(c,T),d&4&&-1<yZ.indexOf(c)){for(;P!==null;){var z=ia(P);if(z!==null)switch(z.tag){case 3:if(z=z.stateNode,z.current.memoizedState.isDehydrated){var J=Zt(z.pendingLanes);if(J!==0){var st=z;for(st.pendingLanes|=2,st.entangledLanes|=2;J;){var vt=1<<31-Qt(J);st.entanglements[1]|=vt,J&=~vt}Ef(z),(Ai&6)===0&&(Ws=ne()+500,ex(0))}}break;case 13:st=Qu(z,2),st!==null&&fa(st,z,2),vu(),LO(z,2)}if(z=kO(T),z===null&&EO(c,d,T,BT,v),z===P)break;P=z}P!==null&&T.stopPropagation()}else EO(c,d,T,null,v)}}function kO(c){return c=to(c),zO(c)}var BT=null;function zO(c){if(BT=null,c=Ta(c),c!==null){var d=a(c);if(d===null)c=null;else{var v=d.tag;if(v===13){if(c=o(d),c!==null)return c;c=null}else if(v===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;c=null}else d!==c&&(c=null)}}return BT=c,null}function Xk(c){switch(c){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ie()){case Me:return 2;case le:return 8;case lt:case j:return 32;case ut:return 268435456;default:return 32}default:return 32}}var BO=!1,Sp=null,Ep=null,Tp=null,ux=new Map,cx=new Map,wp=[],yZ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Yk(c,d){switch(c){case"focusin":case"focusout":Sp=null;break;case"dragenter":case"dragleave":Ep=null;break;case"mouseover":case"mouseout":Tp=null;break;case"pointerover":case"pointerout":ux.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":cx.delete(d.pointerId)}}function fx(c,d,v,T,P,z){return c===null||c.nativeEvent!==z?(c={blockedOn:d,domEventName:v,eventSystemFlags:T,nativeEvent:z,targetContainers:[P]},d!==null&&(d=ia(d),d!==null&&Wk(d)),c):(c.eventSystemFlags|=T,d=c.targetContainers,P!==null&&d.indexOf(P)===-1&&d.push(P),c)}function vZ(c,d,v,T,P){switch(d){case"focusin":return Sp=fx(Sp,c,d,v,T,P),!0;case"dragenter":return Ep=fx(Ep,c,d,v,T,P),!0;case"mouseover":return Tp=fx(Tp,c,d,v,T,P),!0;case"pointerover":var z=P.pointerId;return ux.set(z,fx(ux.get(z)||null,c,d,v,T,P)),!0;case"gotpointercapture":return z=P.pointerId,cx.set(z,fx(cx.get(z)||null,c,d,v,T,P)),!0}return!1}function Kk(c){var d=Ta(c.target);if(d!==null){var v=a(d);if(v!==null){if(d=v.tag,d===13){if(d=o(v),d!==null){c.blockedOn=d,Ee(c.priority,function(){if(v.tag===13){var T=Er();T=Kn(T);var P=Qu(v,T);P!==null&&fa(P,v,T),LO(v,T)}});return}}else if(d===3&&v.stateNode.current.memoizedState.isDehydrated){c.blockedOn=v.tag===3?v.stateNode.containerInfo:null;return}}}c.blockedOn=null}function FT(c){if(c.blockedOn!==null)return!1;for(var d=c.targetContainers;0<d.length;){var v=kO(c.nativeEvent);if(v===null){v=c.nativeEvent;var T=new v.constructor(v.type,v);eu=T,v.target.dispatchEvent(T),eu=null}else return d=ia(v),d!==null&&Wk(d),c.blockedOn=v,!1;d.shift()}return!0}function Zk(c,d,v){FT(c)&&v.delete(d)}function _Z(){BO=!1,Sp!==null&&FT(Sp)&&(Sp=null),Ep!==null&&FT(Ep)&&(Ep=null),Tp!==null&&FT(Tp)&&(Tp=null),ux.forEach(Zk),cx.forEach(Zk)}function VT(c,d){c.blockedOn===d&&(c.blockedOn=null,BO||(BO=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,_Z)))}var HT=null;function Qk(c){HT!==c&&(HT=c,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){HT===c&&(HT=null);for(var d=0;d<c.length;d+=3){var v=c[d],T=c[d+1],P=c[d+2];if(typeof T!="function"){if(zO(T||v)===null)continue;break}var z=ia(v);z!==null&&(c.splice(d,3),d-=3,Xb(z,{pending:!0,data:P,method:v.method,action:T},T,P))}}))}function hx(c){function d(vt){return VT(vt,c)}Sp!==null&&VT(Sp,c),Ep!==null&&VT(Ep,c),Tp!==null&&VT(Tp,c),ux.forEach(d),cx.forEach(d);for(var v=0;v<wp.length;v++){var T=wp[v];T.blockedOn===c&&(T.blockedOn=null)}for(;0<wp.length&&(v=wp[0],v.blockedOn===null);)Kk(v),v.blockedOn===null&&wp.shift();if(v=(c.ownerDocument||c).$$reactFormReplay,v!=null)for(T=0;T<v.length;T+=3){var P=v[T],z=v[T+1],J=P[Ye]||null;if(typeof z=="function")J||Qk(v);else if(J){var st=null;if(z&&z.hasAttribute("formAction")){if(P=z,J=z[Ye]||null)st=J.formAction;else if(zO(P)!==null)continue}else st=J.action;typeof st=="function"?v[T+1]=st:(v.splice(T,3),T-=3),Qk(v)}}}function FO(c){this._internalRoot=c}jT.prototype.render=FO.prototype.render=function(c){var d=this._internalRoot;if(d===null)throw Error(r(409));var v=d.current,T=Er();qk(v,T,c,d,null,null)},jT.prototype.unmount=FO.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var d=c.containerInfo;qk(c.current,2,null,c,null,null),vu(),d[Tn]=null}};function jT(c){this._internalRoot=c}jT.prototype.unstable_scheduleHydration=function(c){if(c){var d=tn();c={blockedOn:null,target:c,priority:d};for(var v=0;v<wp.length&&d!==0&&d<wp[v].priority;v++);wp.splice(v,0,c),v===0&&Kk(c)}};var Jk=e.version;if(Jk!=="19.1.0")throw Error(r(527,Jk,"19.1.0"));W.findDOMNode=function(c){var d=c._reactInternals;if(d===void 0)throw typeof c.render=="function"?Error(r(188)):(c=Object.keys(c).join(","),Error(r(268,c)));return c=u(d),c=c!==null?f(c):null,c=c===null?null:c.stateNode,c};var bZ={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var GT=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!GT.isDisabled&&GT.supportsFiber)try{_t=GT.inject(bZ),Ct=GT}catch{}}return mx.createRoot=function(c,d){if(!s(c))throw Error(r(299));var v=!1,T="",P=ug,z=N0,J=TT,st=null;return d!=null&&(d.unstable_strictMode===!0&&(v=!0),d.identifierPrefix!==void 0&&(T=d.identifierPrefix),d.onUncaughtError!==void 0&&(P=d.onUncaughtError),d.onCaughtError!==void 0&&(z=d.onCaughtError),d.onRecoverableError!==void 0&&(J=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(st=d.unstable_transitionCallbacks)),d=jk(c,1,!1,null,null,v,T,P,z,J,st,null),c[Tn]=d.current,SO(c),new FO(d)},mx.hydrateRoot=function(c,d,v){if(!s(c))throw Error(r(299));var T=!1,P="",z=ug,J=N0,st=TT,vt=null,zt=null;return v!=null&&(v.unstable_strictMode===!0&&(T=!0),v.identifierPrefix!==void 0&&(P=v.identifierPrefix),v.onUncaughtError!==void 0&&(z=v.onUncaughtError),v.onCaughtError!==void 0&&(J=v.onCaughtError),v.onRecoverableError!==void 0&&(st=v.onRecoverableError),v.unstable_transitionCallbacks!==void 0&&(vt=v.unstable_transitionCallbacks),v.formState!==void 0&&(zt=v.formState)),d=jk(c,1,!0,d,v??null,T,P,z,J,st,vt,zt),d.context=Gk(null),v=d.current,T=Er(),T=Kn(T),P=ou(T),P.callback=null,ic(v,P,T),v=T,d.current.lanes=v,se(d,v),Ef(d),c[Tn]=d.current,SO(c),new jT(d)},mx.version="19.1.0",mx}var uz;function PZ(){if(uz)return HO.exports;uz=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),HO.exports=IZ(),HO.exports}var DZ=PZ(),tt=q_();const hn=oh(tt),AD=TZ({__proto__:null,default:hn},[tt]);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const WS="174",NZ={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},LZ={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},sH=0,MD=1,aH=2,UZ=3,oH=0,p2=1,S1=2,_c=3,xd=0,wo=1,Uf=2,gd=0,uy=1,yM=2,CD=3,RD=4,lH=5,jp=100,uH=101,cH=102,fH=103,hH=104,dH=200,pH=201,mH=202,gH=203,vM=204,_M=205,yH=206,vH=207,_H=208,bH=209,xH=210,SH=211,EH=212,TH=213,wH=214,bM=0,xM=1,SM=2,Ey=3,EM=4,TM=5,wM=6,AM=7,XS=0,AH=1,MH=2,Gf=0,CH=1,RH=2,OH=3,ZN=4,IH=5,PH=6,DH=7,OD="attached",NH="detached",m2=300,Sd=301,fm=302,Q1=303,J1=304,$_=306,tS=1e3,Pu=1001,eS=1002,va=1003,QN=1004,kZ=1004,Gv=1005,zZ=1005,zs=1006,E1=1007,BZ=1007,Bf=1008,FZ=1008,Ic=1009,JN=1010,tL=1011,f_=1012,g2=1013,Ed=1014,sl=1015,W_=1016,y2=1017,v2=1018,Ty=1020,eL=35902,nL=1021,iL=1022,$a=1023,rL=1024,sL=1025,cy=1026,wy=1027,_2=1028,YS=1029,aL=1030,b2=1031,VZ=1032,x2=1033,T1=33776,w1=33777,A1=33778,M1=33779,MM=35840,CM=35841,RM=35842,OM=35843,IM=36196,PM=37492,DM=37496,NM=37808,LM=37809,UM=37810,kM=37811,zM=37812,BM=37813,FM=37814,VM=37815,HM=37816,jM=37817,GM=37818,qM=37819,$M=37820,WM=37821,C1=36492,XM=36494,YM=36495,oL=36283,KM=36284,ZM=36285,QM=36286,LH=2200,UH=2201,kH=2202,nS=2300,JM=2301,UA=2302,Kg=2400,Zg=2401,iS=2402,S2=2500,lL=2501,HZ=0,jZ=1,GZ=2,zH=3200,BH=3201,qZ=3202,$Z=3203,Em=0,FH=1,ad="",ma="srgb",hm="srgb-linear",rS="linear",qi="srgb",WZ=0,zg=7680,XZ=7681,YZ=7682,KZ=7683,ZZ=34055,QZ=34056,JZ=5386,tQ=512,eQ=513,nQ=514,iQ=515,rQ=516,sQ=517,aQ=518,ID=519,VH=512,HH=513,jH=514,uL=515,GH=516,qH=517,$H=518,WH=519,sS=35044,oQ=35048,lQ=35040,uQ=35045,cQ=35049,fQ=35041,hQ=35046,dQ=35050,pQ=35042,mQ="100",PD="300 es",Ac=2e3,aS=2001,gQ={COMPUTE:"compute",RENDER:"render"};let lh=class{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){const r=this._listeners;return r===void 0?!1:r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){const r=this._listeners;if(r===void 0)return;const s=r[e];if(s!==void 0){const a=s.indexOf(n);a!==-1&&s.splice(a,1)}}dispatchEvent(e){const n=this._listeners;if(n===void 0)return;const r=n[e.type];if(r!==void 0){e.target=this;const s=r.slice(0);for(let a=0,o=s.length;a<o;a++)s[a].call(this,e);e.target=null}}};const La=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let cz=1234567;const fy=Math.PI/180,h_=180/Math.PI;function Gl(){const i=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(La[i&255]+La[i>>8&255]+La[i>>16&255]+La[i>>24&255]+"-"+La[e&255]+La[e>>8&255]+"-"+La[e>>16&15|64]+La[e>>24&255]+"-"+La[n&63|128]+La[n>>8&255]+"-"+La[n>>16&255]+La[n>>24&255]+La[r&255]+La[r>>8&255]+La[r>>16&255]+La[r>>24&255]).toLowerCase()}function Ln(i,e,n){return Math.max(e,Math.min(n,i))}function cL(i,e){return(i%e+e)%e}function yQ(i,e,n,r,s){return r+(i-e)*(s-r)/(n-e)}function vQ(i,e,n){return i!==e?(n-i)/(e-i):0}function R1(i,e,n){return(1-n)*i+n*e}function _Q(i,e,n,r){return R1(i,e,1-Math.exp(-n*r))}function bQ(i,e=1){return e-Math.abs(cL(i,e*2)-e)}function xQ(i,e,n){return i<=e?0:i>=n?1:(i=(i-e)/(n-e),i*i*(3-2*i))}function SQ(i,e,n){return i<=e?0:i>=n?1:(i=(i-e)/(n-e),i*i*i*(i*(i*6-15)+10))}function EQ(i,e){return i+Math.floor(Math.random()*(e-i+1))}function TQ(i,e){return i+Math.random()*(e-i)}function wQ(i){return i*(.5-Math.random())}function AQ(i){i!==void 0&&(cz=i);let e=cz+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function MQ(i){return i*fy}function CQ(i){return i*h_}function RQ(i){return(i&i-1)===0&&i!==0}function OQ(i){return Math.pow(2,Math.ceil(Math.log(i)/Math.LN2))}function IQ(i){return Math.pow(2,Math.floor(Math.log(i)/Math.LN2))}function PQ(i,e,n,r,s){const a=Math.cos,o=Math.sin,l=a(n/2),u=o(n/2),f=a((e+r)/2),h=o((e+r)/2),p=a((e-r)/2),y=o((e-r)/2),_=a((r-e)/2),x=o((r-e)/2);switch(s){case"XYX":i.set(l*h,u*p,u*y,l*f);break;case"YZY":i.set(u*y,l*h,u*p,l*f);break;case"ZXZ":i.set(u*p,u*y,l*h,l*f);break;case"XZX":i.set(l*h,u*x,u*_,l*f);break;case"YXY":i.set(u*_,l*h,u*x,l*f);break;case"ZYZ":i.set(u*x,u*_,l*h,l*f);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+s)}}function So(i,e){switch(e.constructor){case Float32Array:return i;case Uint32Array:return i/4294967295;case Uint16Array:return i/65535;case Uint8Array:return i/255;case Int32Array:return Math.max(i/2147483647,-1);case Int16Array:return Math.max(i/32767,-1);case Int8Array:return Math.max(i/127,-1);default:throw new Error("Invalid component type.")}}function jn(i,e){switch(e.constructor){case Float32Array:return i;case Uint32Array:return Math.round(i*4294967295);case Uint16Array:return Math.round(i*65535);case Uint8Array:return Math.round(i*255);case Int32Array:return Math.round(i*2147483647);case Int16Array:return Math.round(i*32767);case Int8Array:return Math.round(i*127);default:throw new Error("Invalid component type.")}}const XH={DEG2RAD:fy,RAD2DEG:h_,generateUUID:Gl,clamp:Ln,euclideanModulo:cL,mapLinear:yQ,inverseLerp:vQ,lerp:R1,damp:_Q,pingpong:bQ,smoothstep:xQ,smootherstep:SQ,randInt:EQ,randFloat:TQ,randFloatSpread:wQ,seededRandom:AQ,degToRad:MQ,radToDeg:CQ,isPowerOfTwo:RQ,ceilPowerOfTwo:OQ,floorPowerOfTwo:IQ,setQuaternionFromProperEuler:PQ,normalize:jn,denormalize:So};class pe{constructor(e=0,n=0){pe.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,s=e.elements;return this.x=s[0]*n+s[3]*r+s[6],this.y=s[1]*n+s[4]*r+s[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Ln(this.x,e.x,n.x),this.y=Ln(this.y,e.y,n.y),this}clampScalar(e,n){return this.x=Ln(this.x,e,n),this.y=Ln(this.y,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Ln(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Ln(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),s=Math.sin(n),a=this.x-e.x,o=this.y-e.y;return this.x=a*r-o*s+e.x,this.y=a*s+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Fn{constructor(e,n,r,s,a,o,l,u,f){Fn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,s,a,o,l,u,f)}set(e,n,r,s,a,o,l,u,f){const h=this.elements;return h[0]=e,h[1]=s,h[2]=l,h[3]=n,h[4]=a,h[5]=u,h[6]=r,h[7]=o,h[8]=f,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,s=n.elements,a=this.elements,o=r[0],l=r[3],u=r[6],f=r[1],h=r[4],p=r[7],y=r[2],_=r[5],x=r[8],S=s[0],E=s[3],b=s[6],A=s[1],C=s[4],M=s[7],I=s[2],k=s[5],N=s[8];return a[0]=o*S+l*A+u*I,a[3]=o*E+l*C+u*k,a[6]=o*b+l*M+u*N,a[1]=f*S+h*A+p*I,a[4]=f*E+h*C+p*k,a[7]=f*b+h*M+p*N,a[2]=y*S+_*A+x*I,a[5]=y*E+_*C+x*k,a[8]=y*b+_*M+x*N,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],s=e[2],a=e[3],o=e[4],l=e[5],u=e[6],f=e[7],h=e[8];return n*o*h-n*l*f-r*a*h+r*l*u+s*a*f-s*o*u}invert(){const e=this.elements,n=e[0],r=e[1],s=e[2],a=e[3],o=e[4],l=e[5],u=e[6],f=e[7],h=e[8],p=h*o-l*f,y=l*u-h*a,_=f*a-o*u,x=n*p+r*y+s*_;if(x===0)return this.set(0,0,0,0,0,0,0,0,0);const S=1/x;return e[0]=p*S,e[1]=(s*f-h*r)*S,e[2]=(l*r-s*o)*S,e[3]=y*S,e[4]=(h*n-s*u)*S,e[5]=(s*a-l*n)*S,e[6]=_*S,e[7]=(r*u-f*n)*S,e[8]=(o*n-r*a)*S,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,s,a,o,l){const u=Math.cos(a),f=Math.sin(a);return this.set(r*u,r*f,-r*(u*o+f*l)+o+e,-s*f,s*u,-s*(-f*o+u*l)+l+n,0,0,1),this}scale(e,n){return this.premultiply(WO.makeScale(e,n)),this}rotate(e){return this.premultiply(WO.makeRotation(-e)),this}translate(e,n){return this.premultiply(WO.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let s=0;s<9;s++)if(n[s]!==r[s])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const WO=new Fn;function YH(i){for(let e=i.length-1;e>=0;--e)if(i[e]>=65535)return!0;return!1}const DQ={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function qv(i,e){return new DQ[i](e)}function oS(i){return document.createElementNS("http://www.w3.org/1999/xhtml",i)}function KH(){const i=oS("canvas");return i.style.display="block",i}const fz={};function Bg(i){i in fz||(fz[i]=!0,console.warn(i))}function NQ(i,e,n){return new Promise(function(r,s){function a(){switch(i.clientWaitSync(e,i.SYNC_FLUSH_COMMANDS_BIT,0)){case i.WAIT_FAILED:s();break;case i.TIMEOUT_EXPIRED:setTimeout(a,n);break;default:r()}}setTimeout(a,n)})}function LQ(i){const e=i.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function UQ(i){const e=i.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const hz=new Fn().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),dz=new Fn().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function kQ(){const i={enabled:!0,workingColorSpace:hm,spaces:{},convert:function(s,a,o){return this.enabled===!1||a===o||!a||!o||(this.spaces[a].transfer===qi&&(s.r=yd(s.r),s.g=yd(s.g),s.b=yd(s.b)),this.spaces[a].primaries!==this.spaces[o].primaries&&(s.applyMatrix3(this.spaces[a].toXYZ),s.applyMatrix3(this.spaces[o].fromXYZ)),this.spaces[o].transfer===qi&&(s.r=Zv(s.r),s.g=Zv(s.g),s.b=Zv(s.b))),s},fromWorkingColorSpace:function(s,a){return this.convert(s,this.workingColorSpace,a)},toWorkingColorSpace:function(s,a){return this.convert(s,a,this.workingColorSpace)},getPrimaries:function(s){return this.spaces[s].primaries},getTransfer:function(s){return s===ad?rS:this.spaces[s].transfer},getLuminanceCoefficients:function(s,a=this.workingColorSpace){return s.fromArray(this.spaces[a].luminanceCoefficients)},define:function(s){Object.assign(this.spaces,s)},_getMatrix:function(s,a,o){return s.copy(this.spaces[a].toXYZ).multiply(this.spaces[o].fromXYZ)},_getDrawingBufferColorSpace:function(s){return this.spaces[s].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(s=this.workingColorSpace){return this.spaces[s].workingColorSpaceConfig.unpackColorSpace}},e=[.64,.33,.3,.6,.15,.06],n=[.2126,.7152,.0722],r=[.3127,.329];return i.define({[hm]:{primaries:e,whitePoint:r,transfer:rS,toXYZ:hz,fromXYZ:dz,luminanceCoefficients:n,workingColorSpaceConfig:{unpackColorSpace:ma},outputColorSpaceConfig:{drawingBufferColorSpace:ma}},[ma]:{primaries:e,whitePoint:r,transfer:qi,toXYZ:hz,fromXYZ:dz,luminanceCoefficients:n,outputColorSpaceConfig:{drawingBufferColorSpace:ma}}}),i}const mi=kQ();function yd(i){return i<.04045?i*.0773993808:Math.pow(i*.9478672986+.0521327014,2.4)}function Zv(i){return i<.0031308?i*12.92:1.055*Math.pow(i,.41666)-.055}let Z0;class ZH{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{Z0===void 0&&(Z0=oS("canvas")),Z0.width=e.width,Z0.height=e.height;const r=Z0.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=Z0}return n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=oS("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const s=r.getImageData(0,0,e.width,e.height),a=s.data;for(let o=0;o<a.length;o++)a[o]=yd(a[o]/255)*255;return r.putImageData(s,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(yd(n[r]/255)*255):n[r]=yd(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let zQ=0;class Kp{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:zQ++}),this.uuid=Gl(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},s=this.data;if(s!==null){let a;if(Array.isArray(s)){a=[];for(let o=0,l=s.length;o<l;o++)s[o].isDataTexture?a.push(XO(s[o].image)):a.push(XO(s[o]))}else a=XO(s);r.url=a}return n||(e.images[this.uuid]=r),r}}function XO(i){return typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&i instanceof ImageBitmap?ZH.getDataURL(i):i.data?{data:Array.from(i.data),width:i.width,height:i.height,type:i.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let BQ=0;class is extends lh{constructor(e=is.DEFAULT_IMAGE,n=is.DEFAULT_MAPPING,r=Pu,s=Pu,a=zs,o=Bf,l=$a,u=Ic,f=is.DEFAULT_ANISOTROPY,h=ad){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:BQ++}),this.uuid=Gl(),this.name="",this.source=new Kp(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=s,this.magFilter=a,this.minFilter=o,this.anisotropy=f,this.format=l,this.internalFormat=null,this.type=u,this.offset=new pe(0,0),this.repeat=new pe(1,1),this.center=new pe(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Fn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=h,this.userData={},this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==m2)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case tS:e.x=e.x-Math.floor(e.x);break;case Pu:e.x=e.x<0?0:1;break;case eS:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case tS:e.y=e.y-Math.floor(e.y);break;case Pu:e.y=e.y<0?0:1;break;case eS:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}is.DEFAULT_IMAGE=null;is.DEFAULT_MAPPING=m2;is.DEFAULT_ANISOTROPY=1;class xi{constructor(e=0,n=0,r=0,s=1){xi.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=s}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,s){return this.x=e,this.y=n,this.z=r,this.w=s,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,s=this.z,a=this.w,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*s+o[12]*a,this.y=o[1]*n+o[5]*r+o[9]*s+o[13]*a,this.z=o[2]*n+o[6]*r+o[10]*s+o[14]*a,this.w=o[3]*n+o[7]*r+o[11]*s+o[15]*a,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,s,a;const u=e.elements,f=u[0],h=u[4],p=u[8],y=u[1],_=u[5],x=u[9],S=u[2],E=u[6],b=u[10];if(Math.abs(h-y)<.01&&Math.abs(p-S)<.01&&Math.abs(x-E)<.01){if(Math.abs(h+y)<.1&&Math.abs(p+S)<.1&&Math.abs(x+E)<.1&&Math.abs(f+_+b-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const C=(f+1)/2,M=(_+1)/2,I=(b+1)/2,k=(h+y)/4,N=(p+S)/4,L=(x+E)/4;return C>M&&C>I?C<.01?(r=0,s=.707106781,a=.707106781):(r=Math.sqrt(C),s=k/r,a=N/r):M>I?M<.01?(r=.707106781,s=0,a=.707106781):(s=Math.sqrt(M),r=k/s,a=L/s):I<.01?(r=.707106781,s=.707106781,a=0):(a=Math.sqrt(I),r=N/a,s=L/a),this.set(r,s,a,n),this}let A=Math.sqrt((E-x)*(E-x)+(p-S)*(p-S)+(y-h)*(y-h));return Math.abs(A)<.001&&(A=1),this.x=(E-x)/A,this.y=(p-S)/A,this.z=(y-h)/A,this.w=Math.acos((f+_+b-1)/2),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Ln(this.x,e.x,n.x),this.y=Ln(this.y,e.y,n.y),this.z=Ln(this.z,e.z,n.z),this.w=Ln(this.w,e.w,n.w),this}clampScalar(e,n){return this.x=Ln(this.x,e,n),this.y=Ln(this.y,e,n),this.z=Ln(this.z,e,n),this.w=Ln(this.w,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Ln(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class E2 extends lh{constructor(e=1,n=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new xi(0,0,e,n),this.scissorTest=!1,this.viewport=new xi(0,0,e,n);const s={width:e,height:n,depth:1};r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:zs,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},r);const a=new is(s,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace);a.flipY=!1,a.generateMipmaps=r.generateMipmaps,a.internalFormat=r.internalFormat,this.textures=[];const o=r.count;for(let l=0;l<o;l++)this.textures[l]=a.clone(),this.textures[l].isRenderTargetTexture=!0,this.textures[l].renderTarget=this;this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=r.depthTexture,this.samples=r.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let s=0,a=this.textures.length;s<a;s++)this.textures[s].image.width=e,this.textures[s].image.height=n,this.textures[s].image.depth=r;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let n=0,r=e.textures.length;n<r;n++){this.textures[n]=e.textures[n].clone(),this.textures[n].isRenderTargetTexture=!0,this.textures[n].renderTarget=this;const s=Object.assign({},e.textures[n].image);this.textures[n].source=new Kp(s)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class eh extends E2{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class KS extends is{constructor(e=null,n=1,r=1,s=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:s},this.magFilter=va,this.minFilter=va,this.wrapR=Pu,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class FQ extends eh{constructor(e=1,n=1,r=1,s={}){super(e,n,s),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new KS(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class T2 extends is{constructor(e=null,n=1,r=1,s=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:s},this.magFilter=va,this.minFilter=va,this.wrapR=Pu,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class VQ extends eh{constructor(e=1,n=1,r=1,s={}){super(e,n,s),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new T2(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class Ao{constructor(e=0,n=0,r=0,s=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=s}static slerpFlat(e,n,r,s,a,o,l){let u=r[s+0],f=r[s+1],h=r[s+2],p=r[s+3];const y=a[o+0],_=a[o+1],x=a[o+2],S=a[o+3];if(l===0){e[n+0]=u,e[n+1]=f,e[n+2]=h,e[n+3]=p;return}if(l===1){e[n+0]=y,e[n+1]=_,e[n+2]=x,e[n+3]=S;return}if(p!==S||u!==y||f!==_||h!==x){let E=1-l;const b=u*y+f*_+h*x+p*S,A=b>=0?1:-1,C=1-b*b;if(C>Number.EPSILON){const I=Math.sqrt(C),k=Math.atan2(I,b*A);E=Math.sin(E*k)/I,l=Math.sin(l*k)/I}const M=l*A;if(u=u*E+y*M,f=f*E+_*M,h=h*E+x*M,p=p*E+S*M,E===1-l){const I=1/Math.sqrt(u*u+f*f+h*h+p*p);u*=I,f*=I,h*=I,p*=I}}e[n]=u,e[n+1]=f,e[n+2]=h,e[n+3]=p}static multiplyQuaternionsFlat(e,n,r,s,a,o){const l=r[s],u=r[s+1],f=r[s+2],h=r[s+3],p=a[o],y=a[o+1],_=a[o+2],x=a[o+3];return e[n]=l*x+h*p+u*_-f*y,e[n+1]=u*x+h*y+f*p-l*_,e[n+2]=f*x+h*_+l*y-u*p,e[n+3]=h*x-l*p-u*y-f*_,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,s){return this._x=e,this._y=n,this._z=r,this._w=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,s=e._y,a=e._z,o=e._order,l=Math.cos,u=Math.sin,f=l(r/2),h=l(s/2),p=l(a/2),y=u(r/2),_=u(s/2),x=u(a/2);switch(o){case"XYZ":this._x=y*h*p+f*_*x,this._y=f*_*p-y*h*x,this._z=f*h*x+y*_*p,this._w=f*h*p-y*_*x;break;case"YXZ":this._x=y*h*p+f*_*x,this._y=f*_*p-y*h*x,this._z=f*h*x-y*_*p,this._w=f*h*p+y*_*x;break;case"ZXY":this._x=y*h*p-f*_*x,this._y=f*_*p+y*h*x,this._z=f*h*x+y*_*p,this._w=f*h*p-y*_*x;break;case"ZYX":this._x=y*h*p-f*_*x,this._y=f*_*p+y*h*x,this._z=f*h*x-y*_*p,this._w=f*h*p+y*_*x;break;case"YZX":this._x=y*h*p+f*_*x,this._y=f*_*p+y*h*x,this._z=f*h*x-y*_*p,this._w=f*h*p-y*_*x;break;case"XZY":this._x=y*h*p-f*_*x,this._y=f*_*p-y*h*x,this._z=f*h*x+y*_*p,this._w=f*h*p+y*_*x;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,s=Math.sin(r);return this._x=e.x*s,this._y=e.y*s,this._z=e.z*s,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],s=n[4],a=n[8],o=n[1],l=n[5],u=n[9],f=n[2],h=n[6],p=n[10],y=r+l+p;if(y>0){const _=.5/Math.sqrt(y+1);this._w=.25/_,this._x=(h-u)*_,this._y=(a-f)*_,this._z=(o-s)*_}else if(r>l&&r>p){const _=2*Math.sqrt(1+r-l-p);this._w=(h-u)/_,this._x=.25*_,this._y=(s+o)/_,this._z=(a+f)/_}else if(l>p){const _=2*Math.sqrt(1+l-r-p);this._w=(a-f)/_,this._x=(s+o)/_,this._y=.25*_,this._z=(u+h)/_}else{const _=2*Math.sqrt(1+p-r-l);this._w=(o-s)/_,this._x=(a+f)/_,this._y=(u+h)/_,this._z=.25*_}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Ln(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const s=Math.min(1,n/r);return this.slerp(e,s),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,s=e._y,a=e._z,o=e._w,l=n._x,u=n._y,f=n._z,h=n._w;return this._x=r*h+o*l+s*f-a*u,this._y=s*h+o*u+a*l-r*f,this._z=a*h+o*f+r*u-s*l,this._w=o*h-r*l-s*u-a*f,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,s=this._y,a=this._z,o=this._w;let l=o*e._w+r*e._x+s*e._y+a*e._z;if(l<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,l=-l):this.copy(e),l>=1)return this._w=o,this._x=r,this._y=s,this._z=a,this;const u=1-l*l;if(u<=Number.EPSILON){const _=1-n;return this._w=_*o+n*this._w,this._x=_*r+n*this._x,this._y=_*s+n*this._y,this._z=_*a+n*this._z,this.normalize(),this}const f=Math.sqrt(u),h=Math.atan2(f,l),p=Math.sin((1-n)*h)/f,y=Math.sin(n*h)/f;return this._w=o*p+this._w*y,this._x=r*p+this._x*y,this._y=s*p+this._y*y,this._z=a*p+this._z*y,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),r=Math.random(),s=Math.sqrt(1-r),a=Math.sqrt(r);return this.set(s*Math.sin(e),s*Math.cos(e),a*Math.sin(n),a*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class pt{constructor(e=0,n=0,r=0){pt.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(pz.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(pz.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,s=this.z,a=e.elements;return this.x=a[0]*n+a[3]*r+a[6]*s,this.y=a[1]*n+a[4]*r+a[7]*s,this.z=a[2]*n+a[5]*r+a[8]*s,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,s=this.z,a=e.elements,o=1/(a[3]*n+a[7]*r+a[11]*s+a[15]);return this.x=(a[0]*n+a[4]*r+a[8]*s+a[12])*o,this.y=(a[1]*n+a[5]*r+a[9]*s+a[13])*o,this.z=(a[2]*n+a[6]*r+a[10]*s+a[14])*o,this}applyQuaternion(e){const n=this.x,r=this.y,s=this.z,a=e.x,o=e.y,l=e.z,u=e.w,f=2*(o*s-l*r),h=2*(l*n-a*s),p=2*(a*r-o*n);return this.x=n+u*f+o*p-l*h,this.y=r+u*h+l*f-a*p,this.z=s+u*p+a*h-o*f,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,s=this.z,a=e.elements;return this.x=a[0]*n+a[4]*r+a[8]*s,this.y=a[1]*n+a[5]*r+a[9]*s,this.z=a[2]*n+a[6]*r+a[10]*s,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Ln(this.x,e.x,n.x),this.y=Ln(this.y,e.y,n.y),this.z=Ln(this.z,e.z,n.z),this}clampScalar(e,n){return this.x=Ln(this.x,e,n),this.y=Ln(this.y,e,n),this.z=Ln(this.z,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Ln(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,s=e.y,a=e.z,o=n.x,l=n.y,u=n.z;return this.x=s*u-a*l,this.y=a*o-r*u,this.z=r*l-s*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return YO.copy(this).projectOnVector(e),this.sub(YO)}reflect(e){return this.sub(YO.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Ln(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,s=this.z-e.z;return n*n+r*r+s*s}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const s=Math.sin(n)*e;return this.x=s*Math.sin(r),this.y=Math.cos(n)*e,this.z=s*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),s=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=s,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,r=Math.sqrt(1-n*n);return this.x=r*Math.cos(e),this.y=n,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const YO=new pt,pz=new Ao;class _a{constructor(e=new pt(1/0,1/0,1/0),n=new pt(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(pc.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(pc.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=pc.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const a=r.getAttribute("position");if(n===!0&&a!==void 0&&e.isInstancedMesh!==!0)for(let o=0,l=a.count;o<l;o++)e.isMesh===!0?e.getVertexPosition(o,pc):pc.fromBufferAttribute(a,o),pc.applyMatrix4(e.matrixWorld),this.expandByPoint(pc);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),qT.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),qT.copy(r.boundingBox)),qT.applyMatrix4(e.matrixWorld),this.union(qT)}const s=e.children;for(let a=0,o=s.length;a<o;a++)this.expandByObject(s[a],n);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,pc),pc.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(gx),$T.subVectors(this.max,gx),Q0.subVectors(e.a,gx),J0.subVectors(e.b,gx),tv.subVectors(e.c,gx),Mp.subVectors(J0,Q0),Cp.subVectors(tv,J0),yg.subVectors(Q0,tv);let n=[0,-Mp.z,Mp.y,0,-Cp.z,Cp.y,0,-yg.z,yg.y,Mp.z,0,-Mp.x,Cp.z,0,-Cp.x,yg.z,0,-yg.x,-Mp.y,Mp.x,0,-Cp.y,Cp.x,0,-yg.y,yg.x,0];return!KO(n,Q0,J0,tv,$T)||(n=[1,0,0,0,1,0,0,0,1],!KO(n,Q0,J0,tv,$T))?!1:(WT.crossVectors(Mp,Cp),n=[WT.x,WT.y,WT.z],KO(n,Q0,J0,tv,$T))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,pc).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(pc).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Fh[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Fh[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Fh[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Fh[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Fh[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Fh[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Fh[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Fh[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Fh),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Fh=[new pt,new pt,new pt,new pt,new pt,new pt,new pt,new pt],pc=new pt,qT=new _a,Q0=new pt,J0=new pt,tv=new pt,Mp=new pt,Cp=new pt,yg=new pt,gx=new pt,$T=new pt,WT=new pt,vg=new pt;function KO(i,e,n,r,s){for(let a=0,o=i.length-3;a<=o;a+=3){vg.fromArray(i,a);const l=s.x*Math.abs(vg.x)+s.y*Math.abs(vg.y)+s.z*Math.abs(vg.z),u=e.dot(vg),f=n.dot(vg),h=r.dot(vg);if(Math.max(-Math.max(u,f,h),Math.min(u,f,h))>l)return!1}return!0}const HQ=new _a,yx=new pt,ZO=new pt;class ba{constructor(e=new pt,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):HQ.setFromPoints(e).getCenter(r);let s=0;for(let a=0,o=e.length;a<o;a++)s=Math.max(s,r.distanceToSquared(e[a]));return this.radius=Math.sqrt(s),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;yx.subVectors(e,this.center);const n=yx.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),s=(r-this.radius)*.5;this.center.addScaledVector(yx,s/r),this.radius+=s}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(ZO.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(yx.copy(e.center).add(ZO)),this.expandByPoint(yx.copy(e.center).sub(ZO))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Vh=new pt,QO=new pt,XT=new pt,Rp=new pt,JO=new pt,YT=new pt,tI=new pt;class X_{constructor(e=new pt,n=new pt(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Vh)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=Vh.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(Vh.copy(this.origin).addScaledVector(this.direction,n),Vh.distanceToSquared(e))}distanceSqToSegment(e,n,r,s){QO.copy(e).add(n).multiplyScalar(.5),XT.copy(n).sub(e).normalize(),Rp.copy(this.origin).sub(QO);const a=e.distanceTo(n)*.5,o=-this.direction.dot(XT),l=Rp.dot(this.direction),u=-Rp.dot(XT),f=Rp.lengthSq(),h=Math.abs(1-o*o);let p,y,_,x;if(h>0)if(p=o*u-l,y=o*l-u,x=a*h,p>=0)if(y>=-x)if(y<=x){const S=1/h;p*=S,y*=S,_=p*(p+o*y+2*l)+y*(o*p+y+2*u)+f}else y=a,p=Math.max(0,-(o*y+l)),_=-p*p+y*(y+2*u)+f;else y=-a,p=Math.max(0,-(o*y+l)),_=-p*p+y*(y+2*u)+f;else y<=-x?(p=Math.max(0,-(-o*a+l)),y=p>0?-a:Math.min(Math.max(-a,-u),a),_=-p*p+y*(y+2*u)+f):y<=x?(p=0,y=Math.min(Math.max(-a,-u),a),_=y*(y+2*u)+f):(p=Math.max(0,-(o*a+l)),y=p>0?a:Math.min(Math.max(-a,-u),a),_=-p*p+y*(y+2*u)+f);else y=o>0?-a:a,p=Math.max(0,-(o*y+l)),_=-p*p+y*(y+2*u)+f;return r&&r.copy(this.origin).addScaledVector(this.direction,p),s&&s.copy(QO).addScaledVector(XT,y),_}intersectSphere(e,n){Vh.subVectors(e.center,this.origin);const r=Vh.dot(this.direction),s=Vh.dot(Vh)-r*r,a=e.radius*e.radius;if(s>a)return null;const o=Math.sqrt(a-s),l=r-o,u=r+o;return u<0?null:l<0?this.at(u,n):this.at(l,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,s,a,o,l,u;const f=1/this.direction.x,h=1/this.direction.y,p=1/this.direction.z,y=this.origin;return f>=0?(r=(e.min.x-y.x)*f,s=(e.max.x-y.x)*f):(r=(e.max.x-y.x)*f,s=(e.min.x-y.x)*f),h>=0?(a=(e.min.y-y.y)*h,o=(e.max.y-y.y)*h):(a=(e.max.y-y.y)*h,o=(e.min.y-y.y)*h),r>o||a>s||((a>r||isNaN(r))&&(r=a),(o<s||isNaN(s))&&(s=o),p>=0?(l=(e.min.z-y.z)*p,u=(e.max.z-y.z)*p):(l=(e.max.z-y.z)*p,u=(e.min.z-y.z)*p),r>u||l>s)||((l>r||r!==r)&&(r=l),(u<s||s!==s)&&(s=u),s<0)?null:this.at(r>=0?r:s,n)}intersectsBox(e){return this.intersectBox(e,Vh)!==null}intersectTriangle(e,n,r,s,a){JO.subVectors(n,e),YT.subVectors(r,e),tI.crossVectors(JO,YT);let o=this.direction.dot(tI),l;if(o>0){if(s)return null;l=1}else if(o<0)l=-1,o=-o;else return null;Rp.subVectors(this.origin,e);const u=l*this.direction.dot(YT.crossVectors(Rp,YT));if(u<0)return null;const f=l*this.direction.dot(JO.cross(Rp));if(f<0||u+f>o)return null;const h=-l*Rp.dot(tI);return h<0?null:this.at(h/o,a)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class gn{constructor(e,n,r,s,a,o,l,u,f,h,p,y,_,x,S,E){gn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,s,a,o,l,u,f,h,p,y,_,x,S,E)}set(e,n,r,s,a,o,l,u,f,h,p,y,_,x,S,E){const b=this.elements;return b[0]=e,b[4]=n,b[8]=r,b[12]=s,b[1]=a,b[5]=o,b[9]=l,b[13]=u,b[2]=f,b[6]=h,b[10]=p,b[14]=y,b[3]=_,b[7]=x,b[11]=S,b[15]=E,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new gn().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,s=1/ev.setFromMatrixColumn(e,0).length(),a=1/ev.setFromMatrixColumn(e,1).length(),o=1/ev.setFromMatrixColumn(e,2).length();return n[0]=r[0]*s,n[1]=r[1]*s,n[2]=r[2]*s,n[3]=0,n[4]=r[4]*a,n[5]=r[5]*a,n[6]=r[6]*a,n[7]=0,n[8]=r[8]*o,n[9]=r[9]*o,n[10]=r[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,s=e.y,a=e.z,o=Math.cos(r),l=Math.sin(r),u=Math.cos(s),f=Math.sin(s),h=Math.cos(a),p=Math.sin(a);if(e.order==="XYZ"){const y=o*h,_=o*p,x=l*h,S=l*p;n[0]=u*h,n[4]=-u*p,n[8]=f,n[1]=_+x*f,n[5]=y-S*f,n[9]=-l*u,n[2]=S-y*f,n[6]=x+_*f,n[10]=o*u}else if(e.order==="YXZ"){const y=u*h,_=u*p,x=f*h,S=f*p;n[0]=y+S*l,n[4]=x*l-_,n[8]=o*f,n[1]=o*p,n[5]=o*h,n[9]=-l,n[2]=_*l-x,n[6]=S+y*l,n[10]=o*u}else if(e.order==="ZXY"){const y=u*h,_=u*p,x=f*h,S=f*p;n[0]=y-S*l,n[4]=-o*p,n[8]=x+_*l,n[1]=_+x*l,n[5]=o*h,n[9]=S-y*l,n[2]=-o*f,n[6]=l,n[10]=o*u}else if(e.order==="ZYX"){const y=o*h,_=o*p,x=l*h,S=l*p;n[0]=u*h,n[4]=x*f-_,n[8]=y*f+S,n[1]=u*p,n[5]=S*f+y,n[9]=_*f-x,n[2]=-f,n[6]=l*u,n[10]=o*u}else if(e.order==="YZX"){const y=o*u,_=o*f,x=l*u,S=l*f;n[0]=u*h,n[4]=S-y*p,n[8]=x*p+_,n[1]=p,n[5]=o*h,n[9]=-l*h,n[2]=-f*h,n[6]=_*p+x,n[10]=y-S*p}else if(e.order==="XZY"){const y=o*u,_=o*f,x=l*u,S=l*f;n[0]=u*h,n[4]=-p,n[8]=f*h,n[1]=y*p+S,n[5]=o*h,n[9]=_*p-x,n[2]=x*p-_,n[6]=l*h,n[10]=S*p+y}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(jQ,e,GQ)}lookAt(e,n,r){const s=this.elements;return Ul.subVectors(e,n),Ul.lengthSq()===0&&(Ul.z=1),Ul.normalize(),Op.crossVectors(r,Ul),Op.lengthSq()===0&&(Math.abs(r.z)===1?Ul.x+=1e-4:Ul.z+=1e-4,Ul.normalize(),Op.crossVectors(r,Ul)),Op.normalize(),KT.crossVectors(Ul,Op),s[0]=Op.x,s[4]=KT.x,s[8]=Ul.x,s[1]=Op.y,s[5]=KT.y,s[9]=Ul.y,s[2]=Op.z,s[6]=KT.z,s[10]=Ul.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,s=n.elements,a=this.elements,o=r[0],l=r[4],u=r[8],f=r[12],h=r[1],p=r[5],y=r[9],_=r[13],x=r[2],S=r[6],E=r[10],b=r[14],A=r[3],C=r[7],M=r[11],I=r[15],k=s[0],N=s[4],L=s[8],U=s[12],O=s[1],B=s[5],H=s[9],V=s[13],X=s[2],et=s[6],q=s[10],W=s[14],Z=s[3],nt=s[7],Q=s[11],ht=s[15];return a[0]=o*k+l*O+u*X+f*Z,a[4]=o*N+l*B+u*et+f*nt,a[8]=o*L+l*H+u*q+f*Q,a[12]=o*U+l*V+u*W+f*ht,a[1]=h*k+p*O+y*X+_*Z,a[5]=h*N+p*B+y*et+_*nt,a[9]=h*L+p*H+y*q+_*Q,a[13]=h*U+p*V+y*W+_*ht,a[2]=x*k+S*O+E*X+b*Z,a[6]=x*N+S*B+E*et+b*nt,a[10]=x*L+S*H+E*q+b*Q,a[14]=x*U+S*V+E*W+b*ht,a[3]=A*k+C*O+M*X+I*Z,a[7]=A*N+C*B+M*et+I*nt,a[11]=A*L+C*H+M*q+I*Q,a[15]=A*U+C*V+M*W+I*ht,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],s=e[8],a=e[12],o=e[1],l=e[5],u=e[9],f=e[13],h=e[2],p=e[6],y=e[10],_=e[14],x=e[3],S=e[7],E=e[11],b=e[15];return x*(+a*u*p-s*f*p-a*l*y+r*f*y+s*l*_-r*u*_)+S*(+n*u*_-n*f*y+a*o*y-s*o*_+s*f*h-a*u*h)+E*(+n*f*p-n*l*_-a*o*p+r*o*_+a*l*h-r*f*h)+b*(-s*l*h-n*u*p+n*l*y+s*o*p-r*o*y+r*u*h)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const s=this.elements;return e.isVector3?(s[12]=e.x,s[13]=e.y,s[14]=e.z):(s[12]=e,s[13]=n,s[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],s=e[2],a=e[3],o=e[4],l=e[5],u=e[6],f=e[7],h=e[8],p=e[9],y=e[10],_=e[11],x=e[12],S=e[13],E=e[14],b=e[15],A=p*E*f-S*y*f+S*u*_-l*E*_-p*u*b+l*y*b,C=x*y*f-h*E*f-x*u*_+o*E*_+h*u*b-o*y*b,M=h*S*f-x*p*f+x*l*_-o*S*_-h*l*b+o*p*b,I=x*p*u-h*S*u-x*l*y+o*S*y+h*l*E-o*p*E,k=n*A+r*C+s*M+a*I;if(k===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const N=1/k;return e[0]=A*N,e[1]=(S*y*a-p*E*a-S*s*_+r*E*_+p*s*b-r*y*b)*N,e[2]=(l*E*a-S*u*a+S*s*f-r*E*f-l*s*b+r*u*b)*N,e[3]=(p*u*a-l*y*a-p*s*f+r*y*f+l*s*_-r*u*_)*N,e[4]=C*N,e[5]=(h*E*a-x*y*a+x*s*_-n*E*_-h*s*b+n*y*b)*N,e[6]=(x*u*a-o*E*a-x*s*f+n*E*f+o*s*b-n*u*b)*N,e[7]=(o*y*a-h*u*a+h*s*f-n*y*f-o*s*_+n*u*_)*N,e[8]=M*N,e[9]=(x*p*a-h*S*a-x*r*_+n*S*_+h*r*b-n*p*b)*N,e[10]=(o*S*a-x*l*a+x*r*f-n*S*f-o*r*b+n*l*b)*N,e[11]=(h*l*a-o*p*a-h*r*f+n*p*f+o*r*_-n*l*_)*N,e[12]=I*N,e[13]=(h*S*s-x*p*s+x*r*y-n*S*y-h*r*E+n*p*E)*N,e[14]=(x*l*s-o*S*s-x*r*u+n*S*u+o*r*E-n*l*E)*N,e[15]=(o*p*s-h*l*s+h*r*u-n*p*u-o*r*y+n*l*y)*N,this}scale(e){const n=this.elements,r=e.x,s=e.y,a=e.z;return n[0]*=r,n[4]*=s,n[8]*=a,n[1]*=r,n[5]*=s,n[9]*=a,n[2]*=r,n[6]*=s,n[10]*=a,n[3]*=r,n[7]*=s,n[11]*=a,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],s=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,s))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),s=Math.sin(n),a=1-r,o=e.x,l=e.y,u=e.z,f=a*o,h=a*l;return this.set(f*o+r,f*l-s*u,f*u+s*l,0,f*l+s*u,h*l+r,h*u-s*o,0,f*u-s*l,h*u+s*o,a*u*u+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,s,a,o){return this.set(1,r,a,0,e,1,o,0,n,s,1,0,0,0,0,1),this}compose(e,n,r){const s=this.elements,a=n._x,o=n._y,l=n._z,u=n._w,f=a+a,h=o+o,p=l+l,y=a*f,_=a*h,x=a*p,S=o*h,E=o*p,b=l*p,A=u*f,C=u*h,M=u*p,I=r.x,k=r.y,N=r.z;return s[0]=(1-(S+b))*I,s[1]=(_+M)*I,s[2]=(x-C)*I,s[3]=0,s[4]=(_-M)*k,s[5]=(1-(y+b))*k,s[6]=(E+A)*k,s[7]=0,s[8]=(x+C)*N,s[9]=(E-A)*N,s[10]=(1-(y+S))*N,s[11]=0,s[12]=e.x,s[13]=e.y,s[14]=e.z,s[15]=1,this}decompose(e,n,r){const s=this.elements;let a=ev.set(s[0],s[1],s[2]).length();const o=ev.set(s[4],s[5],s[6]).length(),l=ev.set(s[8],s[9],s[10]).length();this.determinant()<0&&(a=-a),e.x=s[12],e.y=s[13],e.z=s[14],mc.copy(this);const f=1/a,h=1/o,p=1/l;return mc.elements[0]*=f,mc.elements[1]*=f,mc.elements[2]*=f,mc.elements[4]*=h,mc.elements[5]*=h,mc.elements[6]*=h,mc.elements[8]*=p,mc.elements[9]*=p,mc.elements[10]*=p,n.setFromRotationMatrix(mc),r.x=a,r.y=o,r.z=l,this}makePerspective(e,n,r,s,a,o,l=Ac){const u=this.elements,f=2*a/(n-e),h=2*a/(r-s),p=(n+e)/(n-e),y=(r+s)/(r-s);let _,x;if(l===Ac)_=-(o+a)/(o-a),x=-2*o*a/(o-a);else if(l===aS)_=-o/(o-a),x=-o*a/(o-a);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+l);return u[0]=f,u[4]=0,u[8]=p,u[12]=0,u[1]=0,u[5]=h,u[9]=y,u[13]=0,u[2]=0,u[6]=0,u[10]=_,u[14]=x,u[3]=0,u[7]=0,u[11]=-1,u[15]=0,this}makeOrthographic(e,n,r,s,a,o,l=Ac){const u=this.elements,f=1/(n-e),h=1/(r-s),p=1/(o-a),y=(n+e)*f,_=(r+s)*h;let x,S;if(l===Ac)x=(o+a)*p,S=-2*p;else if(l===aS)x=a*p,S=-1*p;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+l);return u[0]=2*f,u[4]=0,u[8]=0,u[12]=-y,u[1]=0,u[5]=2*h,u[9]=0,u[13]=-_,u[2]=0,u[6]=0,u[10]=S,u[14]=-x,u[3]=0,u[7]=0,u[11]=0,u[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let s=0;s<16;s++)if(n[s]!==r[s])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const ev=new pt,mc=new gn,jQ=new pt(0,0,0),GQ=new pt(1,1,1),Op=new pt,KT=new pt,Ul=new pt,mz=new gn,gz=new Ao;class Xl{constructor(e=0,n=0,r=0,s=Xl.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=s}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,s=this._order){return this._x=e,this._y=n,this._z=r,this._order=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const s=e.elements,a=s[0],o=s[4],l=s[8],u=s[1],f=s[5],h=s[9],p=s[2],y=s[6],_=s[10];switch(n){case"XYZ":this._y=Math.asin(Ln(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-h,_),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(y,f),this._z=0);break;case"YXZ":this._x=Math.asin(-Ln(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(l,_),this._z=Math.atan2(u,f)):(this._y=Math.atan2(-p,a),this._z=0);break;case"ZXY":this._x=Math.asin(Ln(y,-1,1)),Math.abs(y)<.9999999?(this._y=Math.atan2(-p,_),this._z=Math.atan2(-o,f)):(this._y=0,this._z=Math.atan2(u,a));break;case"ZYX":this._y=Math.asin(-Ln(p,-1,1)),Math.abs(p)<.9999999?(this._x=Math.atan2(y,_),this._z=Math.atan2(u,a)):(this._x=0,this._z=Math.atan2(-o,f));break;case"YZX":this._z=Math.asin(Ln(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-h,f),this._y=Math.atan2(-p,a)):(this._x=0,this._y=Math.atan2(l,_));break;case"XZY":this._z=Math.asin(-Ln(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(y,f),this._y=Math.atan2(l,a)):(this._x=Math.atan2(-h,_),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return mz.makeRotationFromQuaternion(e),this.setFromRotationMatrix(mz,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return gz.setFromEuler(this),this.setFromQuaternion(gz,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Xl.DEFAULT_ORDER="XYZ";class d_{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let qQ=0;const yz=new pt,nv=new Ao,Hh=new gn,ZT=new pt,vx=new pt,$Q=new pt,WQ=new Ao,vz=new pt(1,0,0),_z=new pt(0,1,0),bz=new pt(0,0,1),xz={type:"added"},XQ={type:"removed"},iv={type:"childadded",child:null},eI={type:"childremoved",child:null};class Ti extends lh{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:qQ++}),this.uuid=Gl(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Ti.DEFAULT_UP.clone();const e=new pt,n=new Xl,r=new Ao,s=new pt(1,1,1);function a(){r.setFromEuler(n,!1)}function o(){n.setFromQuaternion(r,void 0,!1)}n._onChange(a),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:s},modelViewMatrix:{value:new gn},normalMatrix:{value:new Fn}}),this.matrix=new gn,this.matrixWorld=new gn,this.matrixAutoUpdate=Ti.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Ti.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new d_,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return nv.setFromAxisAngle(e,n),this.quaternion.multiply(nv),this}rotateOnWorldAxis(e,n){return nv.setFromAxisAngle(e,n),this.quaternion.premultiply(nv),this}rotateX(e){return this.rotateOnAxis(vz,e)}rotateY(e){return this.rotateOnAxis(_z,e)}rotateZ(e){return this.rotateOnAxis(bz,e)}translateOnAxis(e,n){return yz.copy(e).applyQuaternion(this.quaternion),this.position.add(yz.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(vz,e)}translateY(e){return this.translateOnAxis(_z,e)}translateZ(e){return this.translateOnAxis(bz,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Hh.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?ZT.copy(e):ZT.set(e,n,r);const s=this.parent;this.updateWorldMatrix(!0,!1),vx.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Hh.lookAt(vx,ZT,this.up):Hh.lookAt(ZT,vx,this.up),this.quaternion.setFromRotationMatrix(Hh),s&&(Hh.extractRotation(s.matrixWorld),nv.setFromRotationMatrix(Hh),this.quaternion.premultiply(nv.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(xz),iv.child=e,this.dispatchEvent(iv),iv.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(XQ),eI.child=e,this.dispatchEvent(eI),eI.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Hh.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Hh.multiply(e.parent.matrixWorld)),e.applyMatrix4(Hh),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(xz),iv.child=e,this.dispatchEvent(iv),iv.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,s=this.children.length;r<s;r++){const o=this.children[r].getObjectByProperty(e,n);if(o!==void 0)return o}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const s=this.children;for(let a=0,o=s.length;a<o;a++)s[a].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(vx,e,$Q),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(vx,WQ,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,s=n.length;r<s;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,s=n.length;r<s;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,s=n.length;r<s;r++)n[r].updateMatrixWorld(e)}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){const s=this.children;for(let a=0,o=s.length;a<o;a++)s[a].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const s={};s.uuid=this.uuid,s.type=this.type,this.name!==""&&(s.name=this.name),this.castShadow===!0&&(s.castShadow=!0),this.receiveShadow===!0&&(s.receiveShadow=!0),this.visible===!1&&(s.visible=!1),this.frustumCulled===!1&&(s.frustumCulled=!1),this.renderOrder!==0&&(s.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(s.userData=this.userData),s.layers=this.layers.mask,s.matrix=this.matrix.toArray(),s.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(s.matrixAutoUpdate=!1),this.isInstancedMesh&&(s.type="InstancedMesh",s.count=this.count,s.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(s.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(s.type="BatchedMesh",s.perObjectFrustumCulled=this.perObjectFrustumCulled,s.sortObjects=this.sortObjects,s.drawRanges=this._drawRanges,s.reservedRanges=this._reservedRanges,s.visibility=this._visibility,s.active=this._active,s.bounds=this._bounds.map(l=>({boxInitialized:l.boxInitialized,boxMin:l.box.min.toArray(),boxMax:l.box.max.toArray(),sphereInitialized:l.sphereInitialized,sphereRadius:l.sphere.radius,sphereCenter:l.sphere.center.toArray()})),s.maxInstanceCount=this._maxInstanceCount,s.maxVertexCount=this._maxVertexCount,s.maxIndexCount=this._maxIndexCount,s.geometryInitialized=this._geometryInitialized,s.geometryCount=this._geometryCount,s.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(s.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(s.boundingSphere={center:s.boundingSphere.center.toArray(),radius:s.boundingSphere.radius}),this.boundingBox!==null&&(s.boundingBox={min:s.boundingBox.min.toArray(),max:s.boundingBox.max.toArray()}));function a(l,u){return l[u.uuid]===void 0&&(l[u.uuid]=u.toJSON(e)),u.uuid}if(this.isScene)this.background&&(this.background.isColor?s.background=this.background.toJSON():this.background.isTexture&&(s.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(s.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){s.geometry=a(e.geometries,this.geometry);const l=this.geometry.parameters;if(l!==void 0&&l.shapes!==void 0){const u=l.shapes;if(Array.isArray(u))for(let f=0,h=u.length;f<h;f++){const p=u[f];a(e.shapes,p)}else a(e.shapes,u)}}if(this.isSkinnedMesh&&(s.bindMode=this.bindMode,s.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(e.skeletons,this.skeleton),s.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const l=[];for(let u=0,f=this.material.length;u<f;u++)l.push(a(e.materials,this.material[u]));s.material=l}else s.material=a(e.materials,this.material);if(this.children.length>0){s.children=[];for(let l=0;l<this.children.length;l++)s.children.push(this.children[l].toJSON(e).object)}if(this.animations.length>0){s.animations=[];for(let l=0;l<this.animations.length;l++){const u=this.animations[l];s.animations.push(a(e.animations,u))}}if(n){const l=o(e.geometries),u=o(e.materials),f=o(e.textures),h=o(e.images),p=o(e.shapes),y=o(e.skeletons),_=o(e.animations),x=o(e.nodes);l.length>0&&(r.geometries=l),u.length>0&&(r.materials=u),f.length>0&&(r.textures=f),h.length>0&&(r.images=h),p.length>0&&(r.shapes=p),y.length>0&&(r.skeletons=y),_.length>0&&(r.animations=_),x.length>0&&(r.nodes=x)}return r.object=s,r;function o(l){const u=[];for(const f in l){const h=l[f];delete h.metadata,u.push(h)}return u}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const s=e.children[r];this.add(s.clone())}return this}}Ti.DEFAULT_UP=new pt(0,1,0);Ti.DEFAULT_MATRIX_AUTO_UPDATE=!0;Ti.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const gc=new pt,jh=new pt,nI=new pt,Gh=new pt,rv=new pt,sv=new pt,Sz=new pt,iI=new pt,rI=new pt,sI=new pt,aI=new xi,oI=new xi,lI=new xi;class rl{constructor(e=new pt,n=new pt,r=new pt){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,s){s.subVectors(r,n),gc.subVectors(e,n),s.cross(gc);const a=s.lengthSq();return a>0?s.multiplyScalar(1/Math.sqrt(a)):s.set(0,0,0)}static getBarycoord(e,n,r,s,a){gc.subVectors(s,n),jh.subVectors(r,n),nI.subVectors(e,n);const o=gc.dot(gc),l=gc.dot(jh),u=gc.dot(nI),f=jh.dot(jh),h=jh.dot(nI),p=o*f-l*l;if(p===0)return a.set(0,0,0),null;const y=1/p,_=(f*u-l*h)*y,x=(o*h-l*u)*y;return a.set(1-_-x,x,_)}static containsPoint(e,n,r,s){return this.getBarycoord(e,n,r,s,Gh)===null?!1:Gh.x>=0&&Gh.y>=0&&Gh.x+Gh.y<=1}static getInterpolation(e,n,r,s,a,o,l,u){return this.getBarycoord(e,n,r,s,Gh)===null?(u.x=0,u.y=0,"z"in u&&(u.z=0),"w"in u&&(u.w=0),null):(u.setScalar(0),u.addScaledVector(a,Gh.x),u.addScaledVector(o,Gh.y),u.addScaledVector(l,Gh.z),u)}static getInterpolatedAttribute(e,n,r,s,a,o){return aI.setScalar(0),oI.setScalar(0),lI.setScalar(0),aI.fromBufferAttribute(e,n),oI.fromBufferAttribute(e,r),lI.fromBufferAttribute(e,s),o.setScalar(0),o.addScaledVector(aI,a.x),o.addScaledVector(oI,a.y),o.addScaledVector(lI,a.z),o}static isFrontFacing(e,n,r,s){return gc.subVectors(r,n),jh.subVectors(e,n),gc.cross(jh).dot(s)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,s){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[s]),this}setFromAttributeAndIndices(e,n,r,s){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,s),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return gc.subVectors(this.c,this.b),jh.subVectors(this.a,this.b),gc.cross(jh).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return rl.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return rl.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,r,s,a){return rl.getInterpolation(e,this.a,this.b,this.c,n,r,s,a)}containsPoint(e){return rl.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return rl.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,s=this.b,a=this.c;let o,l;rv.subVectors(s,r),sv.subVectors(a,r),iI.subVectors(e,r);const u=rv.dot(iI),f=sv.dot(iI);if(u<=0&&f<=0)return n.copy(r);rI.subVectors(e,s);const h=rv.dot(rI),p=sv.dot(rI);if(h>=0&&p<=h)return n.copy(s);const y=u*p-h*f;if(y<=0&&u>=0&&h<=0)return o=u/(u-h),n.copy(r).addScaledVector(rv,o);sI.subVectors(e,a);const _=rv.dot(sI),x=sv.dot(sI);if(x>=0&&_<=x)return n.copy(a);const S=_*f-u*x;if(S<=0&&f>=0&&x<=0)return l=f/(f-x),n.copy(r).addScaledVector(sv,l);const E=h*x-_*p;if(E<=0&&p-h>=0&&_-x>=0)return Sz.subVectors(a,s),l=(p-h)/(p-h+(_-x)),n.copy(s).addScaledVector(Sz,l);const b=1/(E+S+y);return o=S*b,l=y*b,n.copy(r).addScaledVector(rv,o).addScaledVector(sv,l)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const QH={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ip={h:0,s:0,l:0},QT={h:0,s:0,l:0};function uI(i,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?i+(e-i)*6*n:n<1/2?e:n<2/3?i+(e-i)*6*(2/3-n):i}let Fe=class{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const s=e;s&&s.isColor?this.copy(s):typeof s=="number"?this.setHex(s):typeof s=="string"&&this.setStyle(s)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=ma){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,mi.toWorkingColorSpace(this,n),this}setRGB(e,n,r,s=mi.workingColorSpace){return this.r=e,this.g=n,this.b=r,mi.toWorkingColorSpace(this,s),this}setHSL(e,n,r,s=mi.workingColorSpace){if(e=cL(e,1),n=Ln(n,0,1),r=Ln(r,0,1),n===0)this.r=this.g=this.b=r;else{const a=r<=.5?r*(1+n):r+n-r*n,o=2*r-a;this.r=uI(o,a,e+1/3),this.g=uI(o,a,e),this.b=uI(o,a,e-1/3)}return mi.toWorkingColorSpace(this,s),this}setStyle(e,n=ma){function r(a){a!==void 0&&parseFloat(a)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let s;if(s=/^(\w+)\(([^\)]*)\)/.exec(e)){let a;const o=s[1],l=s[2];switch(o){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return r(a[4]),this.setRGB(Math.min(255,parseInt(a[1],10))/255,Math.min(255,parseInt(a[2],10))/255,Math.min(255,parseInt(a[3],10))/255,n);if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return r(a[4]),this.setRGB(Math.min(100,parseInt(a[1],10))/100,Math.min(100,parseInt(a[2],10))/100,Math.min(100,parseInt(a[3],10))/100,n);break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return r(a[4]),this.setHSL(parseFloat(a[1])/360,parseFloat(a[2])/100,parseFloat(a[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(s=/^\#([A-Fa-f\d]+)$/.exec(e)){const a=s[1],o=a.length;if(o===3)return this.setRGB(parseInt(a.charAt(0),16)/15,parseInt(a.charAt(1),16)/15,parseInt(a.charAt(2),16)/15,n);if(o===6)return this.setHex(parseInt(a,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=ma){const r=QH[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=yd(e.r),this.g=yd(e.g),this.b=yd(e.b),this}copyLinearToSRGB(e){return this.r=Zv(e.r),this.g=Zv(e.g),this.b=Zv(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=ma){return mi.fromWorkingColorSpace(Ua.copy(this),e),Math.round(Ln(Ua.r*255,0,255))*65536+Math.round(Ln(Ua.g*255,0,255))*256+Math.round(Ln(Ua.b*255,0,255))}getHexString(e=ma){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=mi.workingColorSpace){mi.fromWorkingColorSpace(Ua.copy(this),n);const r=Ua.r,s=Ua.g,a=Ua.b,o=Math.max(r,s,a),l=Math.min(r,s,a);let u,f;const h=(l+o)/2;if(l===o)u=0,f=0;else{const p=o-l;switch(f=h<=.5?p/(o+l):p/(2-o-l),o){case r:u=(s-a)/p+(s<a?6:0);break;case s:u=(a-r)/p+2;break;case a:u=(r-s)/p+4;break}u/=6}return e.h=u,e.s=f,e.l=h,e}getRGB(e,n=mi.workingColorSpace){return mi.fromWorkingColorSpace(Ua.copy(this),n),e.r=Ua.r,e.g=Ua.g,e.b=Ua.b,e}getStyle(e=ma){mi.fromWorkingColorSpace(Ua.copy(this),e);const n=Ua.r,r=Ua.g,s=Ua.b;return e!==ma?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${s.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(s*255)})`}offsetHSL(e,n,r){return this.getHSL(Ip),this.setHSL(Ip.h+e,Ip.s+n,Ip.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(Ip),e.getHSL(QT);const r=R1(Ip.h,QT.h,n),s=R1(Ip.s,QT.s,n),a=R1(Ip.l,QT.l,n);return this.setHSL(r,s,a),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,s=this.b,a=e.elements;return this.r=a[0]*n+a[3]*r+a[6]*s,this.g=a[1]*n+a[4]*r+a[7]*s,this.b=a[2]*n+a[5]*r+a[8]*s,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const Ua=new Fe;Fe.NAMES=QH;let YQ=0;class Za extends lh{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:YQ++}),this.uuid=Gl(),this.name="",this.type="Material",this.blending=uy,this.side=xd,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=vM,this.blendDst=_M,this.blendEquation=jp,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Fe(0,0,0),this.blendAlpha=0,this.depthFunc=Ey,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=ID,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=zg,this.stencilZFail=zg,this.stencilZPass=zg,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const s=this[n];if(s===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}s&&s.isColor?s.set(r):s&&s.isVector3&&r&&r.isVector3?s.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==uy&&(r.blending=this.blending),this.side!==xd&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==vM&&(r.blendSrc=this.blendSrc),this.blendDst!==_M&&(r.blendDst=this.blendDst),this.blendEquation!==jp&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==Ey&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==ID&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==zg&&(r.stencilFail=this.stencilFail),this.stencilZFail!==zg&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==zg&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function s(a){const o=[];for(const l in a){const u=a[l];delete u.metadata,o.push(u)}return o}if(n){const a=s(e.textures),o=s(e.images);a.length>0&&(r.textures=a),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const s=n.length;r=new Array(s);for(let a=0;a!==s;++a)r[a]=n[a].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class Tm extends Za{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Fe(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Xl,this.combine=XS,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const od=KQ();function KQ(){const i=new ArrayBuffer(4),e=new Float32Array(i),n=new Uint32Array(i),r=new Uint32Array(512),s=new Uint32Array(512);for(let u=0;u<256;++u){const f=u-127;f<-27?(r[u]=0,r[u|256]=32768,s[u]=24,s[u|256]=24):f<-14?(r[u]=1024>>-f-14,r[u|256]=1024>>-f-14|32768,s[u]=-f-1,s[u|256]=-f-1):f<=15?(r[u]=f+15<<10,r[u|256]=f+15<<10|32768,s[u]=13,s[u|256]=13):f<128?(r[u]=31744,r[u|256]=64512,s[u]=24,s[u|256]=24):(r[u]=31744,r[u|256]=64512,s[u]=13,s[u|256]=13)}const a=new Uint32Array(2048),o=new Uint32Array(64),l=new Uint32Array(64);for(let u=1;u<1024;++u){let f=u<<13,h=0;for(;(f&8388608)===0;)f<<=1,h-=8388608;f&=-8388609,h+=947912704,a[u]=f|h}for(let u=1024;u<2048;++u)a[u]=939524096+(u-1024<<13);for(let u=1;u<31;++u)o[u]=u<<23;o[31]=1199570944,o[32]=2147483648;for(let u=33;u<63;++u)o[u]=2147483648+(u-32<<23);o[63]=3347054592;for(let u=1;u<64;++u)u!==32&&(l[u]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:s,mantissaTable:a,exponentTable:o,offsetTable:l}}function Jo(i){Math.abs(i)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),i=Ln(i,-65504,65504),od.floatView[0]=i;const e=od.uint32View[0],n=e>>23&511;return od.baseTable[n]+((e&8388607)>>od.shiftTable[n])}function l1(i){const e=i>>10;return od.uint32View[0]=od.mantissaTable[od.offsetTable[e]+(i&1023)]+od.exponentTable[e],od.floatView[0]}class ZQ{static toHalfFloat(e){return Jo(e)}static fromHalfFloat(e){return l1(e)}}const Ts=new pt,JT=new pe;let QQ=0;class $i{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:QQ++}),this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=sS,this.updateRanges=[],this.gpuType=sl,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let s=0,a=this.itemSize;s<a;s++)this.array[e+s]=n.array[r+s];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)JT.fromBufferAttribute(this,n),JT.applyMatrix3(e),this.setXY(n,JT.x,JT.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)Ts.fromBufferAttribute(this,n),Ts.applyMatrix3(e),this.setXYZ(n,Ts.x,Ts.y,Ts.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)Ts.fromBufferAttribute(this,n),Ts.applyMatrix4(e),this.setXYZ(n,Ts.x,Ts.y,Ts.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Ts.fromBufferAttribute(this,n),Ts.applyNormalMatrix(e),this.setXYZ(n,Ts.x,Ts.y,Ts.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Ts.fromBufferAttribute(this,n),Ts.transformDirection(e),this.setXYZ(n,Ts.x,Ts.y,Ts.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=So(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=jn(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=So(n,this.array)),n}setX(e,n){return this.normalized&&(n=jn(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=So(n,this.array)),n}setY(e,n){return this.normalized&&(n=jn(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=So(n,this.array)),n}setZ(e,n){return this.normalized&&(n=jn(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=So(n,this.array)),n}setW(e,n){return this.normalized&&(n=jn(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=jn(n,this.array),r=jn(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,s){return e*=this.itemSize,this.normalized&&(n=jn(n,this.array),r=jn(r,this.array),s=jn(s,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=s,this}setXYZW(e,n,r,s,a){return e*=this.itemSize,this.normalized&&(n=jn(n,this.array),r=jn(r,this.array),s=jn(s,this.array),a=jn(a,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=s,this.array[e+3]=a,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==sS&&(e.usage=this.usage),e}}class JQ extends $i{constructor(e,n,r){super(new Int8Array(e),n,r)}}class tJ extends $i{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class eJ extends $i{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class nJ extends $i{constructor(e,n,r){super(new Int16Array(e),n,r)}}class fL extends $i{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class iJ extends $i{constructor(e,n,r){super(new Int32Array(e),n,r)}}class hL extends $i{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class rJ extends $i{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=l1(this.array[e*this.itemSize]);return this.normalized&&(n=So(n,this.array)),n}setX(e,n){return this.normalized&&(n=jn(n,this.array)),this.array[e*this.itemSize]=Jo(n),this}getY(e){let n=l1(this.array[e*this.itemSize+1]);return this.normalized&&(n=So(n,this.array)),n}setY(e,n){return this.normalized&&(n=jn(n,this.array)),this.array[e*this.itemSize+1]=Jo(n),this}getZ(e){let n=l1(this.array[e*this.itemSize+2]);return this.normalized&&(n=So(n,this.array)),n}setZ(e,n){return this.normalized&&(n=jn(n,this.array)),this.array[e*this.itemSize+2]=Jo(n),this}getW(e){let n=l1(this.array[e*this.itemSize+3]);return this.normalized&&(n=So(n,this.array)),n}setW(e,n){return this.normalized&&(n=jn(n,this.array)),this.array[e*this.itemSize+3]=Jo(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=jn(n,this.array),r=jn(r,this.array)),this.array[e+0]=Jo(n),this.array[e+1]=Jo(r),this}setXYZ(e,n,r,s){return e*=this.itemSize,this.normalized&&(n=jn(n,this.array),r=jn(r,this.array),s=jn(s,this.array)),this.array[e+0]=Jo(n),this.array[e+1]=Jo(r),this.array[e+2]=Jo(s),this}setXYZW(e,n,r,s,a){return e*=this.itemSize,this.normalized&&(n=jn(n,this.array),r=jn(r,this.array),s=jn(s,this.array),a=jn(a,this.array)),this.array[e+0]=Jo(n),this.array[e+1]=Jo(r),this.array[e+2]=Jo(s),this.array[e+3]=Jo(a),this}}class Xe extends $i{constructor(e,n,r){super(new Float32Array(e),n,r)}}let sJ=0;const xu=new gn,cI=new Ti,av=new pt,kl=new _a,_x=new _a,Ks=new pt;class qn extends lh{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:sJ++}),this.uuid=Gl(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(YH(e)?hL:fL)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const a=new Fn().getNormalMatrix(e);r.applyNormalMatrix(a),r.needsUpdate=!0}const s=this.attributes.tangent;return s!==void 0&&(s.transformDirection(e),s.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return xu.makeRotationFromQuaternion(e),this.applyMatrix4(xu),this}rotateX(e){return xu.makeRotationX(e),this.applyMatrix4(xu),this}rotateY(e){return xu.makeRotationY(e),this.applyMatrix4(xu),this}rotateZ(e){return xu.makeRotationZ(e),this.applyMatrix4(xu),this}translate(e,n,r){return xu.makeTranslation(e,n,r),this.applyMatrix4(xu),this}scale(e,n,r){return xu.makeScale(e,n,r),this.applyMatrix4(xu),this}lookAt(e){return cI.lookAt(e),cI.updateMatrix(),this.applyMatrix4(cI.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(av).negate(),this.translate(av.x,av.y,av.z),this}setFromPoints(e){const n=this.getAttribute("position");if(n===void 0){const r=[];for(let s=0,a=e.length;s<a;s++){const o=e[s];r.push(o.x,o.y,o.z||0)}this.setAttribute("position",new Xe(r,3))}else{const r=Math.min(e.length,n.count);for(let s=0;s<r;s++){const a=e[s];n.setXYZ(s,a.x,a.y,a.z||0)}e.length>n.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),n.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new _a);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new pt(-1/0,-1/0,-1/0),new pt(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,s=n.length;r<s;r++){const a=n[r];kl.setFromBufferAttribute(a),this.morphTargetsRelative?(Ks.addVectors(this.boundingBox.min,kl.min),this.boundingBox.expandByPoint(Ks),Ks.addVectors(this.boundingBox.max,kl.max),this.boundingBox.expandByPoint(Ks)):(this.boundingBox.expandByPoint(kl.min),this.boundingBox.expandByPoint(kl.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new ba);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new pt,1/0);return}if(e){const r=this.boundingSphere.center;if(kl.setFromBufferAttribute(e),n)for(let a=0,o=n.length;a<o;a++){const l=n[a];_x.setFromBufferAttribute(l),this.morphTargetsRelative?(Ks.addVectors(kl.min,_x.min),kl.expandByPoint(Ks),Ks.addVectors(kl.max,_x.max),kl.expandByPoint(Ks)):(kl.expandByPoint(_x.min),kl.expandByPoint(_x.max))}kl.getCenter(r);let s=0;for(let a=0,o=e.count;a<o;a++)Ks.fromBufferAttribute(e,a),s=Math.max(s,r.distanceToSquared(Ks));if(n)for(let a=0,o=n.length;a<o;a++){const l=n[a],u=this.morphTargetsRelative;for(let f=0,h=l.count;f<h;f++)Ks.fromBufferAttribute(l,f),u&&(av.fromBufferAttribute(e,f),Ks.add(av)),s=Math.max(s,r.distanceToSquared(Ks))}this.boundingSphere.radius=Math.sqrt(s),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=n.position,s=n.normal,a=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new $i(new Float32Array(4*r.count),4));const o=this.getAttribute("tangent"),l=[],u=[];for(let L=0;L<r.count;L++)l[L]=new pt,u[L]=new pt;const f=new pt,h=new pt,p=new pt,y=new pe,_=new pe,x=new pe,S=new pt,E=new pt;function b(L,U,O){f.fromBufferAttribute(r,L),h.fromBufferAttribute(r,U),p.fromBufferAttribute(r,O),y.fromBufferAttribute(a,L),_.fromBufferAttribute(a,U),x.fromBufferAttribute(a,O),h.sub(f),p.sub(f),_.sub(y),x.sub(y);const B=1/(_.x*x.y-x.x*_.y);isFinite(B)&&(S.copy(h).multiplyScalar(x.y).addScaledVector(p,-_.y).multiplyScalar(B),E.copy(p).multiplyScalar(_.x).addScaledVector(h,-x.x).multiplyScalar(B),l[L].add(S),l[U].add(S),l[O].add(S),u[L].add(E),u[U].add(E),u[O].add(E))}let A=this.groups;A.length===0&&(A=[{start:0,count:e.count}]);for(let L=0,U=A.length;L<U;++L){const O=A[L],B=O.start,H=O.count;for(let V=B,X=B+H;V<X;V+=3)b(e.getX(V+0),e.getX(V+1),e.getX(V+2))}const C=new pt,M=new pt,I=new pt,k=new pt;function N(L){I.fromBufferAttribute(s,L),k.copy(I);const U=l[L];C.copy(U),C.sub(I.multiplyScalar(I.dot(U))).normalize(),M.crossVectors(k,U);const B=M.dot(u[L])<0?-1:1;o.setXYZW(L,C.x,C.y,C.z,B)}for(let L=0,U=A.length;L<U;++L){const O=A[L],B=O.start,H=O.count;for(let V=B,X=B+H;V<X;V+=3)N(e.getX(V+0)),N(e.getX(V+1)),N(e.getX(V+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new $i(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let y=0,_=r.count;y<_;y++)r.setXYZ(y,0,0,0);const s=new pt,a=new pt,o=new pt,l=new pt,u=new pt,f=new pt,h=new pt,p=new pt;if(e)for(let y=0,_=e.count;y<_;y+=3){const x=e.getX(y+0),S=e.getX(y+1),E=e.getX(y+2);s.fromBufferAttribute(n,x),a.fromBufferAttribute(n,S),o.fromBufferAttribute(n,E),h.subVectors(o,a),p.subVectors(s,a),h.cross(p),l.fromBufferAttribute(r,x),u.fromBufferAttribute(r,S),f.fromBufferAttribute(r,E),l.add(h),u.add(h),f.add(h),r.setXYZ(x,l.x,l.y,l.z),r.setXYZ(S,u.x,u.y,u.z),r.setXYZ(E,f.x,f.y,f.z)}else for(let y=0,_=n.count;y<_;y+=3)s.fromBufferAttribute(n,y+0),a.fromBufferAttribute(n,y+1),o.fromBufferAttribute(n,y+2),h.subVectors(o,a),p.subVectors(s,a),h.cross(p),r.setXYZ(y+0,h.x,h.y,h.z),r.setXYZ(y+1,h.x,h.y,h.z),r.setXYZ(y+2,h.x,h.y,h.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)Ks.fromBufferAttribute(e,n),Ks.normalize(),e.setXYZ(n,Ks.x,Ks.y,Ks.z)}toNonIndexed(){function e(l,u){const f=l.array,h=l.itemSize,p=l.normalized,y=new f.constructor(u.length*h);let _=0,x=0;for(let S=0,E=u.length;S<E;S++){l.isInterleavedBufferAttribute?_=u[S]*l.data.stride+l.offset:_=u[S]*h;for(let b=0;b<h;b++)y[x++]=f[_++]}return new $i(y,h,p)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new qn,r=this.index.array,s=this.attributes;for(const l in s){const u=s[l],f=e(u,r);n.setAttribute(l,f)}const a=this.morphAttributes;for(const l in a){const u=[],f=a[l];for(let h=0,p=f.length;h<p;h++){const y=f[h],_=e(y,r);u.push(_)}n.morphAttributes[l]=u}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let l=0,u=o.length;l<u;l++){const f=o[l];n.addGroup(f.start,f.count,f.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const u=this.parameters;for(const f in u)u[f]!==void 0&&(e[f]=u[f]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const u in r){const f=r[u];e.data.attributes[u]=f.toJSON(e.data)}const s={};let a=!1;for(const u in this.morphAttributes){const f=this.morphAttributes[u],h=[];for(let p=0,y=f.length;p<y;p++){const _=f[p];h.push(_.toJSON(e.data))}h.length>0&&(s[u]=h,a=!0)}a&&(e.data.morphAttributes=s,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const l=this.boundingSphere;return l!==null&&(e.data.boundingSphere={center:l.center.toArray(),radius:l.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const s=e.attributes;for(const f in s){const h=s[f];this.setAttribute(f,h.clone(n))}const a=e.morphAttributes;for(const f in a){const h=[],p=a[f];for(let y=0,_=p.length;y<_;y++)h.push(p[y].clone(n));this.morphAttributes[f]=h}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let f=0,h=o.length;f<h;f++){const p=o[f];this.addGroup(p.start,p.count,p.materialIndex)}const l=e.boundingBox;l!==null&&(this.boundingBox=l.clone());const u=e.boundingSphere;return u!==null&&(this.boundingSphere=u.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const Ez=new gn,_g=new X_,tw=new ba,Tz=new pt,ew=new pt,nw=new pt,iw=new pt,fI=new pt,rw=new pt,wz=new pt,sw=new pt;class es extends Ti{constructor(e=new qn,n=new Tm){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const s=n[r[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=s.length;a<o;a++){const l=s[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=a}}}}getVertexPosition(e,n){const r=this.geometry,s=r.attributes.position,a=r.morphAttributes.position,o=r.morphTargetsRelative;n.fromBufferAttribute(s,e);const l=this.morphTargetInfluences;if(a&&l){rw.set(0,0,0);for(let u=0,f=a.length;u<f;u++){const h=l[u],p=a[u];h!==0&&(fI.fromBufferAttribute(p,e),o?rw.addScaledVector(fI,h):rw.addScaledVector(fI.sub(n),h))}n.add(rw)}return n}raycast(e,n){const r=this.geometry,s=this.material,a=this.matrixWorld;s!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),tw.copy(r.boundingSphere),tw.applyMatrix4(a),_g.copy(e.ray).recast(e.near),!(tw.containsPoint(_g.origin)===!1&&(_g.intersectSphere(tw,Tz)===null||_g.origin.distanceToSquared(Tz)>(e.far-e.near)**2))&&(Ez.copy(a).invert(),_g.copy(e.ray).applyMatrix4(Ez),!(r.boundingBox!==null&&_g.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,_g)))}_computeIntersections(e,n,r){let s;const a=this.geometry,o=this.material,l=a.index,u=a.attributes.position,f=a.attributes.uv,h=a.attributes.uv1,p=a.attributes.normal,y=a.groups,_=a.drawRange;if(l!==null)if(Array.isArray(o))for(let x=0,S=y.length;x<S;x++){const E=y[x],b=o[E.materialIndex],A=Math.max(E.start,_.start),C=Math.min(l.count,Math.min(E.start+E.count,_.start+_.count));for(let M=A,I=C;M<I;M+=3){const k=l.getX(M),N=l.getX(M+1),L=l.getX(M+2);s=aw(this,b,e,r,f,h,p,k,N,L),s&&(s.faceIndex=Math.floor(M/3),s.face.materialIndex=E.materialIndex,n.push(s))}}else{const x=Math.max(0,_.start),S=Math.min(l.count,_.start+_.count);for(let E=x,b=S;E<b;E+=3){const A=l.getX(E),C=l.getX(E+1),M=l.getX(E+2);s=aw(this,o,e,r,f,h,p,A,C,M),s&&(s.faceIndex=Math.floor(E/3),n.push(s))}}else if(u!==void 0)if(Array.isArray(o))for(let x=0,S=y.length;x<S;x++){const E=y[x],b=o[E.materialIndex],A=Math.max(E.start,_.start),C=Math.min(u.count,Math.min(E.start+E.count,_.start+_.count));for(let M=A,I=C;M<I;M+=3){const k=M,N=M+1,L=M+2;s=aw(this,b,e,r,f,h,p,k,N,L),s&&(s.faceIndex=Math.floor(M/3),s.face.materialIndex=E.materialIndex,n.push(s))}}else{const x=Math.max(0,_.start),S=Math.min(u.count,_.start+_.count);for(let E=x,b=S;E<b;E+=3){const A=E,C=E+1,M=E+2;s=aw(this,o,e,r,f,h,p,A,C,M),s&&(s.faceIndex=Math.floor(E/3),n.push(s))}}}}function aJ(i,e,n,r,s,a,o,l){let u;if(e.side===wo?u=r.intersectTriangle(o,a,s,!0,l):u=r.intersectTriangle(s,a,o,e.side===xd,l),u===null)return null;sw.copy(l),sw.applyMatrix4(i.matrixWorld);const f=n.ray.origin.distanceTo(sw);return f<n.near||f>n.far?null:{distance:f,point:sw.clone(),object:i}}function aw(i,e,n,r,s,a,o,l,u,f){i.getVertexPosition(l,ew),i.getVertexPosition(u,nw),i.getVertexPosition(f,iw);const h=aJ(i,e,n,r,ew,nw,iw,wz);if(h){const p=new pt;rl.getBarycoord(wz,ew,nw,iw,p),s&&(h.uv=rl.getInterpolatedAttribute(s,l,u,f,p,new pe)),a&&(h.uv1=rl.getInterpolatedAttribute(a,l,u,f,p,new pe)),o&&(h.normal=rl.getInterpolatedAttribute(o,l,u,f,p,new pt),h.normal.dot(r.direction)>0&&h.normal.multiplyScalar(-1));const y={a:l,b:u,c:f,normal:new pt,materialIndex:0};rl.getNormal(ew,nw,iw,y.normal),h.face=y,h.barycoord=p}return h}class Hy extends qn{constructor(e=1,n=1,r=1,s=1,a=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:s,heightSegments:a,depthSegments:o};const l=this;s=Math.floor(s),a=Math.floor(a),o=Math.floor(o);const u=[],f=[],h=[],p=[];let y=0,_=0;x("z","y","x",-1,-1,r,n,e,o,a,0),x("z","y","x",1,-1,r,n,-e,o,a,1),x("x","z","y",1,1,e,r,n,s,o,2),x("x","z","y",1,-1,e,r,-n,s,o,3),x("x","y","z",1,-1,e,n,r,s,a,4),x("x","y","z",-1,-1,e,n,-r,s,a,5),this.setIndex(u),this.setAttribute("position",new Xe(f,3)),this.setAttribute("normal",new Xe(h,3)),this.setAttribute("uv",new Xe(p,2));function x(S,E,b,A,C,M,I,k,N,L,U){const O=M/N,B=I/L,H=M/2,V=I/2,X=k/2,et=N+1,q=L+1;let W=0,Z=0;const nt=new pt;for(let Q=0;Q<q;Q++){const ht=Q*B-V;for(let yt=0;yt<et;yt++){const xt=yt*O-H;nt[S]=xt*A,nt[E]=ht*C,nt[b]=X,f.push(nt.x,nt.y,nt.z),nt[S]=0,nt[E]=0,nt[b]=k>0?1:-1,h.push(nt.x,nt.y,nt.z),p.push(yt/N),p.push(1-Q/L),W+=1}}for(let Q=0;Q<L;Q++)for(let ht=0;ht<N;ht++){const yt=y+ht+et*Q,xt=y+ht+et*(Q+1),it=y+(ht+1)+et*(Q+1),dt=y+(ht+1)+et*Q;u.push(yt,xt,dt),u.push(xt,it,dt),Z+=6}l.addGroup(_,Z,U),_+=Z,y+=W}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Hy(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function p_(i){const e={};for(const n in i){e[n]={};for(const r in i[n]){const s=i[n][r];s&&(s.isColor||s.isMatrix3||s.isMatrix4||s.isVector2||s.isVector3||s.isVector4||s.isTexture||s.isQuaternion)?s.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=s.clone():Array.isArray(s)?e[n][r]=s.slice():e[n][r]=s}}return e}function _o(i){const e={};for(let n=0;n<i.length;n++){const r=p_(i[n]);for(const s in r)e[s]=r[s]}return e}function oJ(i){const e=[];for(let n=0;n<i.length;n++)e.push(i[n].clone());return e}function JH(i){const e=i.getRenderTarget();return e===null?i.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:mi.workingColorSpace}const t7={clone:p_,merge:_o};var lJ=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,uJ=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ku extends Za{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=lJ,this.fragmentShader=uJ,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=p_(e.uniforms),this.uniformsGroups=oJ(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const s in this.uniforms){const o=this.uniforms[s].value;o&&o.isTexture?n.uniforms[s]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[s]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[s]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[s]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[s]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[s]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[s]={type:"m4",value:o.toArray()}:n.uniforms[s]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const s in this.extensions)this.extensions[s]===!0&&(r[s]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class w2 extends Ti{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new gn,this.projectionMatrix=new gn,this.projectionMatrixInverse=new gn,this.coordinateSystem=Ac}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Pp=new pt,Az=new pe,Mz=new pe;class Qs extends w2{constructor(e=50,n=1,r=.1,s=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=s,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=h_*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(fy*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return h_*2*Math.atan(Math.tan(fy*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,r){Pp.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(Pp.x,Pp.y).multiplyScalar(-e/Pp.z),Pp.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(Pp.x,Pp.y).multiplyScalar(-e/Pp.z)}getViewSize(e,n){return this.getViewBounds(e,Az,Mz),n.subVectors(Mz,Az)}setViewOffset(e,n,r,s,a,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=s,this.view.width=a,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(fy*.5*this.fov)/this.zoom,r=2*n,s=this.aspect*r,a=-.5*s;const o=this.view;if(this.view!==null&&this.view.enabled){const u=o.fullWidth,f=o.fullHeight;a+=o.offsetX*s/u,n-=o.offsetY*r/f,s*=o.width/u,r*=o.height/f}const l=this.filmOffset;l!==0&&(a+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+s,n,n-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const ov=-90,lv=1;class e7 extends Ti{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const s=new Qs(ov,lv,e,n);s.layers=this.layers,this.add(s);const a=new Qs(ov,lv,e,n);a.layers=this.layers,this.add(a);const o=new Qs(ov,lv,e,n);o.layers=this.layers,this.add(o);const l=new Qs(ov,lv,e,n);l.layers=this.layers,this.add(l);const u=new Qs(ov,lv,e,n);u.layers=this.layers,this.add(u);const f=new Qs(ov,lv,e,n);f.layers=this.layers,this.add(f)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,s,a,o,l,u]=n;for(const f of n)this.remove(f);if(e===Ac)r.up.set(0,1,0),r.lookAt(1,0,0),s.up.set(0,1,0),s.lookAt(-1,0,0),a.up.set(0,0,-1),a.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),l.up.set(0,1,0),l.lookAt(0,0,1),u.up.set(0,1,0),u.lookAt(0,0,-1);else if(e===aS)r.up.set(0,-1,0),r.lookAt(-1,0,0),s.up.set(0,-1,0),s.lookAt(1,0,0),a.up.set(0,0,1),a.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),l.up.set(0,-1,0),l.lookAt(0,0,1),u.up.set(0,-1,0),u.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const f of n)this.add(f),f.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:s}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[a,o,l,u,f,h]=this.children,p=e.getRenderTarget(),y=e.getActiveCubeFace(),_=e.getActiveMipmapLevel(),x=e.xr.enabled;e.xr.enabled=!1;const S=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,s),e.render(n,a),e.setRenderTarget(r,1,s),e.render(n,o),e.setRenderTarget(r,2,s),e.render(n,l),e.setRenderTarget(r,3,s),e.render(n,u),e.setRenderTarget(r,4,s),e.render(n,f),r.texture.generateMipmaps=S,e.setRenderTarget(r,5,s),e.render(n,h),e.setRenderTarget(p,y,_),e.xr.enabled=x,r.texture.needsPMREMUpdate=!0}}class ZS extends is{constructor(e,n,r,s,a,o,l,u,f,h){e=e!==void 0?e:[],n=n!==void 0?n:Sd,super(e,n,r,s,a,o,l,u,f,h),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class n7 extends eh{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},s=[r,r,r,r,r,r];this.texture=new ZS(s,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:zs}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},s=new Hy(5,5,5),a=new ku({name:"CubemapFromEquirect",uniforms:p_(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:wo,blending:gd});a.uniforms.tEquirect.value=n;const o=new es(s,a),l=n.minFilter;return n.minFilter===Bf&&(n.minFilter=zs),new e7(1,10,this).update(e,o),n.minFilter=l,o.geometry.dispose(),o.material.dispose(),this}clear(e,n,r,s){const a=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,r,s);e.setRenderTarget(a)}}let ud=class extends Ti{constructor(){super(),this.isGroup=!0,this.type="Group"}};const cJ={type:"move"};class kA{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new ud,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new ud,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new pt,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new pt),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new ud,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new pt,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new pt),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let s=null,a=null,o=null;const l=this._targetRay,u=this._grip,f=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(f&&e.hand){o=!0;for(const S of e.hand.values()){const E=n.getJointPose(S,r),b=this._getHandJoint(f,S);E!==null&&(b.matrix.fromArray(E.transform.matrix),b.matrix.decompose(b.position,b.rotation,b.scale),b.matrixWorldNeedsUpdate=!0,b.jointRadius=E.radius),b.visible=E!==null}const h=f.joints["index-finger-tip"],p=f.joints["thumb-tip"],y=h.position.distanceTo(p.position),_=.02,x=.005;f.inputState.pinching&&y>_+x?(f.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!f.inputState.pinching&&y<=_-x&&(f.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else u!==null&&e.gripSpace&&(a=n.getPose(e.gripSpace,r),a!==null&&(u.matrix.fromArray(a.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),u.matrixWorldNeedsUpdate=!0,a.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(a.linearVelocity)):u.hasLinearVelocity=!1,a.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(a.angularVelocity)):u.hasAngularVelocity=!1));l!==null&&(s=n.getPose(e.targetRaySpace,r),s===null&&a!==null&&(s=a),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1,this.dispatchEvent(cJ)))}return l!==null&&(l.visible=s!==null),u!==null&&(u.visible=a!==null),f!==null&&(f.visible=o!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new ud;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}class A2{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new Fe(e),this.density=n}clone(){return new A2(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class M2{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new Fe(e),this.near=n,this.far=r}clone(){return new M2(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class dL extends Ti{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Xl,this.environmentIntensity=1,this.environmentRotation=new Xl,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class C2{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=sS,this.updateRanges=[],this.version=0,this.uuid=Gl()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let s=0,a=this.stride;s<a;s++)this.array[e+s]=n.array[r+s];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Gl()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Gl()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const vo=new pt;class Ay{constructor(e,n,r,s=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=s}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)vo.fromBufferAttribute(this,n),vo.applyMatrix4(e),this.setXYZ(n,vo.x,vo.y,vo.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)vo.fromBufferAttribute(this,n),vo.applyNormalMatrix(e),this.setXYZ(n,vo.x,vo.y,vo.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)vo.fromBufferAttribute(this,n),vo.transformDirection(e),this.setXYZ(n,vo.x,vo.y,vo.z);return this}getComponent(e,n){let r=this.array[e*this.data.stride+this.offset+n];return this.normalized&&(r=So(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=jn(r,this.array)),this.data.array[e*this.data.stride+this.offset+n]=r,this}setX(e,n){return this.normalized&&(n=jn(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=jn(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=jn(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=jn(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=So(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=So(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=So(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=So(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=jn(n,this.array),r=jn(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(n=jn(n,this.array),r=jn(r,this.array),s=jn(s,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=s,this}setXYZW(e,n,r,s,a){return e=e*this.data.stride+this.offset,this.normalized&&(n=jn(n,this.array),r=jn(r,this.array),s=jn(s,this.array),a=jn(a,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=s,this.data.array[e+3]=a,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const s=r*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)n.push(this.data.array[s+a])}return new $i(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Ay(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const s=r*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)n.push(this.data.array[s+a])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class R2 extends Za{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Fe(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let uv;const bx=new pt,cv=new pt,fv=new pt,hv=new pe,xx=new pe,i7=new gn,ow=new pt,Sx=new pt,lw=new pt,Cz=new pe,hI=new pe,Rz=new pe;class pL extends Ti{constructor(e=new R2){if(super(),this.isSprite=!0,this.type="Sprite",uv===void 0){uv=new qn;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new C2(n,5);uv.setIndex([0,1,2,0,2,3]),uv.setAttribute("position",new Ay(r,3,0,!1)),uv.setAttribute("uv",new Ay(r,2,3,!1))}this.geometry=uv,this.material=e,this.center=new pe(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),cv.setFromMatrixScale(this.matrixWorld),i7.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),fv.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&cv.multiplyScalar(-fv.z);const r=this.material.rotation;let s,a;r!==0&&(a=Math.cos(r),s=Math.sin(r));const o=this.center;uw(ow.set(-.5,-.5,0),fv,o,cv,s,a),uw(Sx.set(.5,-.5,0),fv,o,cv,s,a),uw(lw.set(.5,.5,0),fv,o,cv,s,a),Cz.set(0,0),hI.set(1,0),Rz.set(1,1);let l=e.ray.intersectTriangle(ow,Sx,lw,!1,bx);if(l===null&&(uw(Sx.set(-.5,.5,0),fv,o,cv,s,a),hI.set(0,1),l=e.ray.intersectTriangle(ow,lw,Sx,!1,bx),l===null))return;const u=e.ray.origin.distanceTo(bx);u<e.near||u>e.far||n.push({distance:u,point:bx.clone(),uv:rl.getInterpolation(bx,ow,Sx,lw,Cz,hI,Rz,new pe),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function uw(i,e,n,r,s,a){hv.subVectors(i,n).addScalar(.5).multiply(r),s!==void 0?(xx.x=a*hv.x-s*hv.y,xx.y=s*hv.x+a*hv.y):xx.copy(hv),i.copy(e),i.x+=xx.x,i.y+=xx.y,i.applyMatrix4(i7)}const cw=new pt,Oz=new pt;class r7 extends Ti{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,s=n.length;r<s;r++){const a=n[r];this.addLevel(a.object.clone(),a.distance,a.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const s=this.levels;let a;for(a=0;a<s.length&&!(n<s[a].distance);a++);return s.splice(a,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}removeLevel(e){const n=this.levels;for(let r=0;r<n.length;r++)if(n[r].distance===e){const s=n.splice(r,1);return this.remove(s[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,s;for(r=1,s=n.length;r<s;r++){let a=n[r].distance;if(n[r].object.visible&&(a-=a*n[r].hysteresis),e<a)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){cw.setFromMatrixPosition(this.matrixWorld);const s=e.ray.origin.distanceTo(cw);this.getObjectForDistance(s).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){cw.setFromMatrixPosition(e.matrixWorld),Oz.setFromMatrixPosition(this.matrixWorld);const r=cw.distanceTo(Oz)/e.zoom;n[0].object.visible=!0;let s,a;for(s=1,a=n.length;s<a;s++){let o=n[s].distance;if(n[s].object.visible&&(o-=o*n[s].hysteresis),r>=o)n[s-1].object.visible=!1,n[s].object.visible=!0;else break}for(this._currentLevel=s-1;s<a;s++)n[s].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let s=0,a=r.length;s<a;s++){const o=r[s];n.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return n}}const Iz=new pt,Pz=new xi,Dz=new xi,fJ=new pt,Nz=new gn,fw=new pt,dI=new ba,Lz=new gn,pI=new X_;class s7 extends es{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=OD,this.bindMatrix=new gn,this.bindMatrixInverse=new gn,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new _a),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,fw),this.boundingBox.expandByPoint(fw)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new ba),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,fw),this.boundingSphere.expandByPoint(fw)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const r=this.material,s=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),dI.copy(this.boundingSphere),dI.applyMatrix4(s),e.ray.intersectsSphere(dI)!==!1&&(Lz.copy(s).invert(),pI.copy(e.ray).applyMatrix4(Lz),!(this.boundingBox!==null&&pI.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,pI)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new xi,n=this.geometry.attributes.skinWeight;for(let r=0,s=n.count;r<s;r++){e.fromBufferAttribute(n,r);const a=1/e.manhattanLength();a!==1/0?e.multiplyScalar(a):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===OD?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===NH?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,s=this.geometry;Pz.fromBufferAttribute(s.attributes.skinIndex,e),Dz.fromBufferAttribute(s.attributes.skinWeight,e),Iz.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let a=0;a<4;a++){const o=Dz.getComponent(a);if(o!==0){const l=Pz.getComponent(a);Nz.multiplyMatrices(r.bones[l].matrixWorld,r.boneInverses[l]),n.addScaledVector(fJ.copy(Iz).applyMatrix4(Nz),o)}}return n.applyMatrix4(this.bindMatrixInverse)}}class mL extends Ti{constructor(){super(),this.isBone=!0,this.type="Bone"}}class qf extends is{constructor(e=null,n=1,r=1,s,a,o,l,u,f=va,h=va,p,y){super(null,o,l,u,f,h,s,a,p,y),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const Uz=new gn,hJ=new gn;class O2{constructor(e=[],n=[]){this.uuid=Gl(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,s=this.bones.length;r<s;r++)this.boneInverses.push(new gn)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new gn;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,s=this.boneTexture;for(let a=0,o=e.length;a<o;a++){const l=e[a]?e[a].matrixWorld:hJ;Uz.multiplyMatrices(l,n[a]),Uz.toArray(r,a*16)}s!==null&&(s.needsUpdate=!0)}clone(){return new O2(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new qf(n,e,e,$a,sl);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const s=this.bones[n];if(s.name===e)return s}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,s=e.bones.length;r<s;r++){const a=e.bones[r];let o=n[a];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",a),o=new mL),this.bones.push(o),this.boneInverses.push(new gn().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let s=0,a=n.length;s<a;s++){const o=n[s];e.bones.push(o.uuid);const l=r[s];e.boneInverses.push(l.toArray())}return e}}class m_ extends $i{constructor(e,n,r,s=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=s}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const dv=new gn,kz=new gn,hw=[],zz=new _a,dJ=new gn,Ex=new es,Tx=new ba;class a7 extends es{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new m_(new Float32Array(r*16),16),this.instanceColor=null,this.morphTexture=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let s=0;s<r;s++)this.setMatrixAt(s,dJ)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new _a),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,dv),zz.copy(e.boundingBox).applyMatrix4(dv),this.boundingBox.union(zz)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new ba),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,dv),Tx.copy(e.boundingSphere).applyMatrix4(dv),this.boundingSphere.union(Tx)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,n){const r=n.morphTargetInfluences,s=this.morphTexture.source.data.data,a=r.length+1,o=e*a+1;for(let l=0;l<r.length;l++)r[l]=s[o+l]}raycast(e,n){const r=this.matrixWorld,s=this.count;if(Ex.geometry=this.geometry,Ex.material=this.material,Ex.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Tx.copy(this.boundingSphere),Tx.applyMatrix4(r),e.ray.intersectsSphere(Tx)!==!1))for(let a=0;a<s;a++){this.getMatrixAt(a,dv),kz.multiplyMatrices(r,dv),Ex.matrixWorld=kz,Ex.raycast(e,hw);for(let o=0,l=hw.length;o<l;o++){const u=hw[o];u.instanceId=a,u.object=this,n.push(u)}hw.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new m_(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,n){const r=n.morphTargetInfluences,s=r.length+1;this.morphTexture===null&&(this.morphTexture=new qf(new Float32Array(s*this.count),s,this.count,_2,sl));const a=this.morphTexture.source.data.data;let o=0;for(let f=0;f<r.length;f++)o+=r[f];const l=this.geometry.morphTargetsRelative?1:1-o,u=s*e;a[u]=l,a.set(r,u+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const mI=new pt,pJ=new pt,mJ=new Fn;class Vp{constructor(e=new pt(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,s){return this.normal.set(e,n,r),this.constant=s,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const s=mI.subVectors(r,n).cross(pJ.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(s,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(mI),s=this.normal.dot(r);if(s===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const a=-(e.start.dot(this.normal)+this.constant)/s;return a<0||a>1?null:n.copy(e.start).addScaledVector(r,a)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||mJ.getNormalMatrix(e),s=this.coplanarPoint(mI).applyMatrix4(e),a=this.normal.applyMatrix3(r).normalize();return this.constant=-s.dot(a),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const bg=new ba,dw=new pt;class QS{constructor(e=new Vp,n=new Vp,r=new Vp,s=new Vp,a=new Vp,o=new Vp){this.planes=[e,n,r,s,a,o]}set(e,n,r,s,a,o){const l=this.planes;return l[0].copy(e),l[1].copy(n),l[2].copy(r),l[3].copy(s),l[4].copy(a),l[5].copy(o),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=Ac){const r=this.planes,s=e.elements,a=s[0],o=s[1],l=s[2],u=s[3],f=s[4],h=s[5],p=s[6],y=s[7],_=s[8],x=s[9],S=s[10],E=s[11],b=s[12],A=s[13],C=s[14],M=s[15];if(r[0].setComponents(u-a,y-f,E-_,M-b).normalize(),r[1].setComponents(u+a,y+f,E+_,M+b).normalize(),r[2].setComponents(u+o,y+h,E+x,M+A).normalize(),r[3].setComponents(u-o,y-h,E-x,M-A).normalize(),r[4].setComponents(u-l,y-p,E-S,M-C).normalize(),n===Ac)r[5].setComponents(u+l,y+p,E+S,M+C).normalize();else if(n===aS)r[5].setComponents(l,p,S,C).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),bg.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),bg.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(bg)}intersectsSprite(e){return bg.center.set(0,0,0),bg.radius=.7071067811865476,bg.applyMatrix4(e.matrixWorld),this.intersectsSphere(bg)}intersectsSphere(e){const n=this.planes,r=e.center,s=-e.radius;for(let a=0;a<6;a++)if(n[a].distanceToPoint(r)<s)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const s=n[r];if(dw.x=s.normal.x>0?e.max.x:e.min.x,dw.y=s.normal.y>0?e.max.y:e.min.y,dw.z=s.normal.z>0?e.max.z:e.min.z,s.distanceToPoint(dw)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function gI(i,e){return i-e}function gJ(i,e){return i.z-e.z}function yJ(i,e){return e.z-i.z}class vJ{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n,r,s){const a=this.pool,o=this.list;this.index>=a.length&&a.push({start:-1,count:-1,z:-1,index:-1});const l=a[this.index];o.push(l),this.index++,l.start=e,l.count=n,l.z=r,l.index=s}reset(){this.list.length=0,this.index=0}}const Zo=new gn,_J=new Fe(1,1,1),yI=new QS,pw=new _a,xg=new ba,wx=new pt,Bz=new pt,bJ=new pt,vI=new vJ,ka=new es,mw=[];function xJ(i,e,n=0){const r=e.itemSize;if(i.isInterleavedBufferAttribute||i.array.constructor!==e.array.constructor){const s=i.count;for(let a=0;a<s;a++)for(let o=0;o<r;o++)e.setComponent(a+n,o,i.getComponent(a,o))}else e.array.set(i.array,n*r);e.needsUpdate=!0}function Sg(i,e){if(i.constructor!==e.constructor){const n=Math.min(i.length,e.length);for(let r=0;r<n;r++)e[r]=i[r]}else{const n=Math.min(i.length,e.length);e.set(new i.constructor(i.buffer,0,n))}}class o7 extends es{constructor(e,n,r=n*2,s){super(new qn,s),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=n,this._maxIndexCount=r,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),r=new qf(n,e,e,$a,sl);this._matricesTexture=r}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Uint32Array(e*e),r=new qf(n,e,e,YS,Ed);this._indirectTexture=r}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Float32Array(e*e*4).fill(1),r=new qf(n,e,e,$a,sl);r.colorSpace=mi.workingColorSpace,this._colorsTexture=r}_initializeGeometry(e){const n=this.geometry,r=this._maxVertexCount,s=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in e.attributes){const o=e.getAttribute(a),{array:l,itemSize:u,normalized:f}=o,h=new l.constructor(r*u),p=new $i(h,u,f);n.setAttribute(a,p)}if(e.getIndex()!==null){const a=r>65535?new Uint32Array(s):new Uint16Array(s);n.setIndex(new $i(a,1))}this._geometryInitialized=!0}}_validateGeometry(e){const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const r in n.attributes){if(!e.hasAttribute(r))throw new Error(`THREE.BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const s=e.getAttribute(r),a=n.getAttribute(r);if(s.itemSize!==a.itemSize||s.normalized!==a.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const n=this._instanceInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const n=this._geometryInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new _a);const e=this.boundingBox,n=this._instanceInfo;e.makeEmpty();for(let r=0,s=n.length;r<s;r++){if(n[r].active===!1)continue;const a=n[r].geometryIndex;this.getMatrixAt(r,Zo),this.getBoundingBoxAt(a,pw).applyMatrix4(Zo),e.union(pw)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new ba);const e=this.boundingSphere,n=this._instanceInfo;e.makeEmpty();for(let r=0,s=n.length;r<s;r++){if(n[r].active===!1)continue;const a=n[r].geometryIndex;this.getMatrixAt(r,Zo),this.getBoundingSphereAt(a,xg).applyMatrix4(Zo),e.union(xg)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const r={visible:!0,active:!0,geometryIndex:e};let s=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(gI),s=this._availableInstanceIds.shift(),this._instanceInfo[s]=r):(s=this._instanceInfo.length,this._instanceInfo.push(r));const a=this._matricesTexture;Zo.identity().toArray(a.image.data,s*16),a.needsUpdate=!0;const o=this._colorsTexture;return o&&(_J.toArray(o.image.data,s*4),o.needsUpdate=!0),this._visibilityChanged=!0,s}addGeometry(e,n=-1,r=-1){this._initializeGeometry(e),this._validateGeometry(e);const s={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},a=this._geometryInfo;s.vertexStart=this._nextVertexStart,s.reservedVertexCount=n===-1?e.getAttribute("position").count:n;const o=e.getIndex();if(o!==null&&(s.indexStart=this._nextIndexStart,s.reservedIndexCount=r===-1?o.count:r),s.indexStart!==-1&&s.indexStart+s.reservedIndexCount>this._maxIndexCount||s.vertexStart+s.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let u;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(gI),u=this._availableGeometryIds.shift(),a[u]=s):(u=this._geometryCount,this._geometryCount++,a.push(s)),this.setGeometryAt(u,e),this._nextIndexStart=s.indexStart+s.reservedIndexCount,this._nextVertexStart=s.vertexStart+s.reservedVertexCount,u}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const r=this.geometry,s=r.getIndex()!==null,a=r.getIndex(),o=n.getIndex(),l=this._geometryInfo[e];if(s&&o.count>l.reservedIndexCount||n.attributes.position.count>l.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const u=l.vertexStart,f=l.reservedVertexCount;l.vertexCount=n.getAttribute("position").count;for(const h in r.attributes){const p=n.getAttribute(h),y=r.getAttribute(h);xJ(p,y,u);const _=p.itemSize;for(let x=p.count,S=f;x<S;x++){const E=u+x;for(let b=0;b<_;b++)y.setComponent(E,b,0)}y.needsUpdate=!0,y.addUpdateRange(u*_,f*_)}if(s){const h=l.indexStart,p=l.reservedIndexCount;l.indexCount=n.getIndex().count;for(let y=0;y<o.count;y++)a.setX(h+y,u+o.getX(y));for(let y=o.count,_=p;y<_;y++)a.setX(h+y,u);a.needsUpdate=!0,a.addUpdateRange(h,l.reservedIndexCount)}return l.start=s?l.indexStart:l.vertexStart,l.count=s?l.indexCount:l.vertexCount,l.boundingBox=null,n.boundingBox!==null&&(l.boundingBox=n.boundingBox.clone()),l.boundingSphere=null,n.boundingSphere!==null&&(l.boundingSphere=n.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const n=this._geometryInfo;if(e>=n.length||n[e].active===!1)return this;const r=this._instanceInfo;for(let s=0,a=r.length;s<a;s++)r[s].active&&r[s].geometryIndex===e&&this.deleteInstance(s);return n[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,n=0;const r=this._geometryInfo,s=r.map((o,l)=>l).sort((o,l)=>r[o].vertexStart-r[l].vertexStart),a=this.geometry;for(let o=0,l=r.length;o<l;o++){const u=s[o],f=r[u];if(f.active!==!1){if(a.index!==null){if(f.indexStart!==n){const{indexStart:h,vertexStart:p,reservedIndexCount:y}=f,_=a.index,x=_.array,S=e-p;for(let E=h;E<h+y;E++)x[E]=x[E]+S;_.array.copyWithin(n,h,h+y),_.addUpdateRange(n,y),f.indexStart=n}n+=f.reservedIndexCount}if(f.vertexStart!==e){const{vertexStart:h,reservedVertexCount:p}=f,y=a.attributes;for(const _ in y){const x=y[_],{array:S,itemSize:E}=x;S.copyWithin(e*E,h*E,(h+p)*E),x.addUpdateRange(e*E,p*E)}f.vertexStart=e}e+=f.reservedVertexCount,f.start=a.index?f.indexStart:f.vertexStart,this._nextIndexStart=a.index?f.indexStart+f.reservedIndexCount:0,this._nextVertexStart=f.vertexStart+f.reservedVertexCount}}return this}getBoundingBoxAt(e,n){if(e>=this._geometryCount)return null;const r=this.geometry,s=this._geometryInfo[e];if(s.boundingBox===null){const a=new _a,o=r.index,l=r.attributes.position;for(let u=s.start,f=s.start+s.count;u<f;u++){let h=u;o&&(h=o.getX(h)),a.expandByPoint(wx.fromBufferAttribute(l,h))}s.boundingBox=a}return n.copy(s.boundingBox),n}getBoundingSphereAt(e,n){if(e>=this._geometryCount)return null;const r=this.geometry,s=this._geometryInfo[e];if(s.boundingSphere===null){const a=new ba;this.getBoundingBoxAt(e,pw),pw.getCenter(a.center);const o=r.index,l=r.attributes.position;let u=0;for(let f=s.start,h=s.start+s.count;f<h;f++){let p=f;o&&(p=o.getX(p)),wx.fromBufferAttribute(l,p),u=Math.max(u,a.center.distanceToSquared(wx))}a.radius=Math.sqrt(u),s.boundingSphere=a}return n.copy(s.boundingSphere),n}setMatrixAt(e,n){this.validateInstanceId(e);const r=this._matricesTexture,s=this._matricesTexture.image.data;return n.toArray(s,e*16),r.needsUpdate=!0,this}getMatrixAt(e,n){return this.validateInstanceId(e),n.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,n){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),n.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,n){return this.validateInstanceId(e),n.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,n){return this.validateInstanceId(e),this._instanceInfo[e].visible===n?this:(this._instanceInfo[e].visible=n,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,n){return this.validateInstanceId(e),this.validateGeometryId(n),this._instanceInfo[e].geometryIndex=n,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,n={}){this.validateGeometryId(e);const r=this._geometryInfo[e];return n.vertexStart=r.vertexStart,n.vertexCount=r.vertexCount,n.reservedVertexCount=r.reservedVertexCount,n.indexStart=r.indexStart,n.indexCount=r.indexCount,n.reservedIndexCount=r.reservedIndexCount,n.start=r.start,n.count=r.count,n}setInstanceCount(e){const n=this._availableInstanceIds,r=this._instanceInfo;for(n.sort(gI);n[n.length-1]===r.length;)r.pop(),n.pop();if(e<r.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const s=new Int32Array(e),a=new Int32Array(e);Sg(this._multiDrawCounts,s),Sg(this._multiDrawStarts,a),this._multiDrawCounts=s,this._multiDrawStarts=a,this._maxInstanceCount=e;const o=this._indirectTexture,l=this._matricesTexture,u=this._colorsTexture;o.dispose(),this._initIndirectTexture(),Sg(o.image.data,this._indirectTexture.image.data),l.dispose(),this._initMatricesTexture(),Sg(l.image.data,this._matricesTexture.image.data),u&&(u.dispose(),this._initColorsTexture(),Sg(u.image.data,this._colorsTexture.image.data))}setGeometrySize(e,n){const r=[...this._geometryInfo].filter(l=>l.active);if(Math.max(...r.map(l=>l.vertexStart+l.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${n}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...r.map(u=>u.indexStart+u.reservedIndexCount))>n)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${n}. Cannot shrink further.`);const a=this.geometry;a.dispose(),this._maxVertexCount=e,this._maxIndexCount=n,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new qn,this._initializeGeometry(a));const o=this.geometry;a.index&&Sg(a.index.array,o.index.array);for(const l in a.attributes)Sg(a.attributes[l].array,o.attributes[l].array)}raycast(e,n){const r=this._instanceInfo,s=this._geometryInfo,a=this.matrixWorld,o=this.geometry;ka.material=this.material,ka.geometry.index=o.index,ka.geometry.attributes=o.attributes,ka.geometry.boundingBox===null&&(ka.geometry.boundingBox=new _a),ka.geometry.boundingSphere===null&&(ka.geometry.boundingSphere=new ba);for(let l=0,u=r.length;l<u;l++){if(!r[l].visible||!r[l].active)continue;const f=r[l].geometryIndex,h=s[f];ka.geometry.setDrawRange(h.start,h.count),this.getMatrixAt(l,ka.matrixWorld).premultiply(a),this.getBoundingBoxAt(f,ka.geometry.boundingBox),this.getBoundingSphereAt(f,ka.geometry.boundingSphere),ka.raycast(e,mw);for(let p=0,y=mw.length;p<y;p++){const _=mw[p];_.object=this,_.batchId=l,n.push(_)}mw.length=0}ka.material=null,ka.geometry.index=null,ka.geometry.attributes={},ka.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(n=>({...n,boundingBox:n.boundingBox!==null?n.boundingBox.clone():null,boundingSphere:n.boundingSphere!==null?n.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(n=>({...n})),this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,n,r,s,a){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=s.getIndex(),l=o===null?1:o.array.BYTES_PER_ELEMENT,u=this._instanceInfo,f=this._multiDrawStarts,h=this._multiDrawCounts,p=this._geometryInfo,y=this.perObjectFrustumCulled,_=this._indirectTexture,x=_.image.data;y&&(Zo.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),yI.setFromProjectionMatrix(Zo,e.coordinateSystem));let S=0;if(this.sortObjects){Zo.copy(this.matrixWorld).invert(),wx.setFromMatrixPosition(r.matrixWorld).applyMatrix4(Zo),Bz.set(0,0,-1).transformDirection(r.matrixWorld).transformDirection(Zo);for(let A=0,C=u.length;A<C;A++)if(u[A].visible&&u[A].active){const M=u[A].geometryIndex;this.getMatrixAt(A,Zo),this.getBoundingSphereAt(M,xg).applyMatrix4(Zo);let I=!1;if(y&&(I=!yI.intersectsSphere(xg)),!I){const k=p[M],N=bJ.subVectors(xg.center,wx).dot(Bz);vI.push(k.start,k.count,N,A)}}const E=vI.list,b=this.customSort;b===null?E.sort(a.transparent?yJ:gJ):b.call(this,E,r);for(let A=0,C=E.length;A<C;A++){const M=E[A];f[S]=M.start*l,h[S]=M.count,x[S]=M.index,S++}vI.reset()}else for(let E=0,b=u.length;E<b;E++)if(u[E].visible&&u[E].active){const A=u[E].geometryIndex;let C=!1;if(y&&(this.getMatrixAt(E,Zo),this.getBoundingSphereAt(A,xg).applyMatrix4(Zo),C=!yI.intersectsSphere(xg)),!C){const M=p[A];f[S]=M.start*l,h[S]=M.count,x[S]=E,S++}}_.needsUpdate=!0,this._multiDrawCount=S,this._visibilityChanged=!1}onBeforeShadow(e,n,r,s,a,o){this.onBeforeRender(e,null,s,a,o)}}class Qa extends Za{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Fe(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const tC=new pt,eC=new pt,Fz=new gn,Ax=new X_,gw=new ba,_I=new pt,Vz=new pt;class Td extends Ti{constructor(e=new qn,n=new Qa){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let s=1,a=n.count;s<a;s++)tC.fromBufferAttribute(n,s-1),eC.fromBufferAttribute(n,s),r[s]=r[s-1],r[s]+=tC.distanceTo(eC);e.setAttribute("lineDistance",new Xe(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,s=this.matrixWorld,a=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),gw.copy(r.boundingSphere),gw.applyMatrix4(s),gw.radius+=a,e.ray.intersectsSphere(gw)===!1)return;Fz.copy(s).invert(),Ax.copy(e.ray).applyMatrix4(Fz);const l=a/((this.scale.x+this.scale.y+this.scale.z)/3),u=l*l,f=this.isLineSegments?2:1,h=r.index,y=r.attributes.position;if(h!==null){const _=Math.max(0,o.start),x=Math.min(h.count,o.start+o.count);for(let S=_,E=x-1;S<E;S+=f){const b=h.getX(S),A=h.getX(S+1),C=yw(this,e,Ax,u,b,A,S);C&&n.push(C)}if(this.isLineLoop){const S=h.getX(x-1),E=h.getX(_),b=yw(this,e,Ax,u,S,E,x-1);b&&n.push(b)}}else{const _=Math.max(0,o.start),x=Math.min(y.count,o.start+o.count);for(let S=_,E=x-1;S<E;S+=f){const b=yw(this,e,Ax,u,S,S+1,S);b&&n.push(b)}if(this.isLineLoop){const S=yw(this,e,Ax,u,x-1,_,x-1);S&&n.push(S)}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const s=n[r[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=s.length;a<o;a++){const l=s[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=a}}}}}function yw(i,e,n,r,s,a,o){const l=i.geometry.attributes.position;if(tC.fromBufferAttribute(l,s),eC.fromBufferAttribute(l,a),n.distanceSqToSegment(tC,eC,_I,Vz)>r)return;_I.applyMatrix4(i.matrixWorld);const f=e.ray.origin.distanceTo(_I);if(!(f<e.near||f>e.far))return{distance:f,point:Vz.clone().applyMatrix4(i.matrixWorld),index:o,face:null,faceIndex:null,barycoord:null,object:i}}const Hz=new pt,jz=new pt;class uh extends Td{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let s=0,a=n.count;s<a;s+=2)Hz.fromBufferAttribute(n,s),jz.fromBufferAttribute(n,s+1),r[s]=s===0?0:r[s-1],r[s+1]=r[s]+Hz.distanceTo(jz);e.setAttribute("lineDistance",new Xe(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class l7 extends Td{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class gL extends Za{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Fe(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const Gz=new gn,DD=new X_,vw=new ba,_w=new pt;class u7 extends Ti{constructor(e=new qn,n=new gL){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,s=this.matrixWorld,a=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),vw.copy(r.boundingSphere),vw.applyMatrix4(s),vw.radius+=a,e.ray.intersectsSphere(vw)===!1)return;Gz.copy(s).invert(),DD.copy(e.ray).applyMatrix4(Gz);const l=a/((this.scale.x+this.scale.y+this.scale.z)/3),u=l*l,f=r.index,p=r.attributes.position;if(f!==null){const y=Math.max(0,o.start),_=Math.min(f.count,o.start+o.count);for(let x=y,S=_;x<S;x++){const E=f.getX(x);_w.fromBufferAttribute(p,E),qz(_w,E,u,s,e,n,this)}}else{const y=Math.max(0,o.start),_=Math.min(p.count,o.start+o.count);for(let x=y,S=_;x<S;x++)_w.fromBufferAttribute(p,x),qz(_w,x,u,s,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const s=n[r[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=s.length;a<o;a++){const l=s[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=a}}}}}function qz(i,e,n,r,s,a,o){const l=DD.distanceSqToPoint(i);if(l<n){const u=new pt;DD.closestPointToPoint(i,u),u.applyMatrix4(r);const f=s.ray.origin.distanceTo(u);if(f<s.near||f>s.far)return;a.push({distance:f,distanceToRay:Math.sqrt(l),point:u,index:e,face:null,faceIndex:null,barycoord:null,object:o})}}class c7 extends is{constructor(e,n,r,s,a,o,l,u,f){super(e,n,r,s,a,o,l,u,f),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:zs,this.magFilter=a!==void 0?a:zs,this.generateMipmaps=!1;const h=this;function p(){h.needsUpdate=!0,e.requestVideoFrameCallback(p)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(p)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class SJ extends c7{constructor(e,n,r,s,a,o,l,u){super({},e,n,r,s,a,o,l,u),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class EJ extends is{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=va,this.minFilter=va,this.generateMipmaps=!1,this.needsUpdate=!0}}class I2 extends is{constructor(e,n,r,s,a,o,l,u,f,h,p,y){super(null,o,l,u,f,h,s,a,p,y),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class TJ extends I2{constructor(e,n,r,s,a,o){super(e,n,r,a,o),this.isCompressedArrayTexture=!0,this.image.depth=s,this.wrapR=Pu,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class wJ extends I2{constructor(e,n,r){super(void 0,e[0].width,e[0].height,n,r,Sd),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class f7 extends is{constructor(e,n,r,s,a,o,l,u,f){super(e,n,r,s,a,o,l,u,f),this.isCanvasTexture=!0,this.needsUpdate=!0}}class yL extends is{constructor(e,n,r,s,a,o,l,u,f,h=cy){if(h!==cy&&h!==wy)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&h===cy&&(r=Ed),r===void 0&&h===wy&&(r=Ty),super(null,s,a,o,l,u,h,r,f),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=l!==void 0?l:va,this.minFilter=u!==void 0?u:va,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new Kp(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}class Uc{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,s=this.getPoint(0),a=0;n.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),a+=r.distanceTo(s),n.push(a),s=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n=null){const r=this.getLengths();let s=0;const a=r.length;let o;n?o=n:o=e*r[a-1];let l=0,u=a-1,f;for(;l<=u;)if(s=Math.floor(l+(u-l)/2),f=r[s]-o,f<0)l=s+1;else if(f>0)u=s-1;else{u=s;break}if(s=u,r[s]===o)return s/(a-1);const h=r[s],y=r[s+1]-h,_=(o-h)/y;return(s+_)/(a-1)}getTangent(e,n){let s=e-1e-4,a=e+1e-4;s<0&&(s=0),a>1&&(a=1);const o=this.getPoint(s),l=this.getPoint(a),u=n||(o.isVector2?new pe:new pt);return u.copy(l).sub(o).normalize(),u}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n=!1){const r=new pt,s=[],a=[],o=[],l=new pt,u=new gn;for(let _=0;_<=e;_++){const x=_/e;s[_]=this.getTangentAt(x,new pt)}a[0]=new pt,o[0]=new pt;let f=Number.MAX_VALUE;const h=Math.abs(s[0].x),p=Math.abs(s[0].y),y=Math.abs(s[0].z);h<=f&&(f=h,r.set(1,0,0)),p<=f&&(f=p,r.set(0,1,0)),y<=f&&r.set(0,0,1),l.crossVectors(s[0],r).normalize(),a[0].crossVectors(s[0],l),o[0].crossVectors(s[0],a[0]);for(let _=1;_<=e;_++){if(a[_]=a[_-1].clone(),o[_]=o[_-1].clone(),l.crossVectors(s[_-1],s[_]),l.length()>Number.EPSILON){l.normalize();const x=Math.acos(Ln(s[_-1].dot(s[_]),-1,1));a[_].applyMatrix4(u.makeRotationAxis(l,x))}o[_].crossVectors(s[_],a[_])}if(n===!0){let _=Math.acos(Ln(a[0].dot(a[e]),-1,1));_/=e,s[0].dot(l.crossVectors(a[0],a[e]))>0&&(_=-_);for(let x=1;x<=e;x++)a[x].applyMatrix4(u.makeRotationAxis(s[x],_*x)),o[x].crossVectors(s[x],a[x])}return{tangents:s,normals:a,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class P2 extends Uc{constructor(e=0,n=0,r=1,s=1,a=0,o=Math.PI*2,l=!1,u=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=s,this.aStartAngle=a,this.aEndAngle=o,this.aClockwise=l,this.aRotation=u}getPoint(e,n=new pe){const r=n,s=Math.PI*2;let a=this.aEndAngle-this.aStartAngle;const o=Math.abs(a)<Number.EPSILON;for(;a<0;)a+=s;for(;a>s;)a-=s;a<Number.EPSILON&&(o?a=0:a=s),this.aClockwise===!0&&!o&&(a===s?a=-s:a=a-s);const l=this.aStartAngle+e*a;let u=this.aX+this.xRadius*Math.cos(l),f=this.aY+this.yRadius*Math.sin(l);if(this.aRotation!==0){const h=Math.cos(this.aRotation),p=Math.sin(this.aRotation),y=u-this.aX,_=f-this.aY;u=y*h-_*p+this.aX,f=y*p+_*h+this.aY}return r.set(u,f)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class h7 extends P2{constructor(e,n,r,s,a,o){super(e,n,r,r,s,a,o),this.isArcCurve=!0,this.type="ArcCurve"}}function vL(){let i=0,e=0,n=0,r=0;function s(a,o,l,u){i=a,e=l,n=-3*a+3*o-2*l-u,r=2*a-2*o+l+u}return{initCatmullRom:function(a,o,l,u,f){s(o,l,f*(l-a),f*(u-o))},initNonuniformCatmullRom:function(a,o,l,u,f,h,p){let y=(o-a)/f-(l-a)/(f+h)+(l-o)/h,_=(l-o)/h-(u-o)/(h+p)+(u-l)/p;y*=h,_*=h,s(o,l,y,_)},calc:function(a){const o=a*a,l=o*a;return i+e*a+n*o+r*l}}}const bw=new pt,bI=new vL,xI=new vL,SI=new vL;class d7 extends Uc{constructor(e=[],n=!1,r="centripetal",s=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=s}getPoint(e,n=new pt){const r=n,s=this.points,a=s.length,o=(a-(this.closed?0:1))*e;let l=Math.floor(o),u=o-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/a)+1)*a:u===0&&l===a-1&&(l=a-2,u=1);let f,h;this.closed||l>0?f=s[(l-1)%a]:(bw.subVectors(s[0],s[1]).add(s[0]),f=bw);const p=s[l%a],y=s[(l+1)%a];if(this.closed||l+2<a?h=s[(l+2)%a]:(bw.subVectors(s[a-1],s[a-2]).add(s[a-1]),h=bw),this.curveType==="centripetal"||this.curveType==="chordal"){const _=this.curveType==="chordal"?.5:.25;let x=Math.pow(f.distanceToSquared(p),_),S=Math.pow(p.distanceToSquared(y),_),E=Math.pow(y.distanceToSquared(h),_);S<1e-4&&(S=1),x<1e-4&&(x=S),E<1e-4&&(E=S),bI.initNonuniformCatmullRom(f.x,p.x,y.x,h.x,x,S,E),xI.initNonuniformCatmullRom(f.y,p.y,y.y,h.y,x,S,E),SI.initNonuniformCatmullRom(f.z,p.z,y.z,h.z,x,S,E)}else this.curveType==="catmullrom"&&(bI.initCatmullRom(f.x,p.x,y.x,h.x,this.tension),xI.initCatmullRom(f.y,p.y,y.y,h.y,this.tension),SI.initCatmullRom(f.z,p.z,y.z,h.z,this.tension));return r.set(bI.calc(u),xI.calc(u),SI.calc(u)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const s=e.points[n];this.points.push(s.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const s=this.points[n];e.points.push(s.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const s=e.points[n];this.points.push(new pt().fromArray(s))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function $z(i,e,n,r,s){const a=(r-e)*.5,o=(s-n)*.5,l=i*i,u=i*l;return(2*n-2*r+a+o)*u+(-3*n+3*r-2*a-o)*l+a*i+n}function AJ(i,e){const n=1-i;return n*n*e}function MJ(i,e){return 2*(1-i)*i*e}function CJ(i,e){return i*i*e}function O1(i,e,n,r){return AJ(i,e)+MJ(i,n)+CJ(i,r)}function RJ(i,e){const n=1-i;return n*n*n*e}function OJ(i,e){const n=1-i;return 3*n*n*i*e}function IJ(i,e){return 3*(1-i)*i*i*e}function PJ(i,e){return i*i*i*e}function I1(i,e,n,r,s){return RJ(i,e)+OJ(i,n)+IJ(i,r)+PJ(i,s)}class _L extends Uc{constructor(e=new pe,n=new pe,r=new pe,s=new pe){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=s}getPoint(e,n=new pe){const r=n,s=this.v0,a=this.v1,o=this.v2,l=this.v3;return r.set(I1(e,s.x,a.x,o.x,l.x),I1(e,s.y,a.y,o.y,l.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class bL extends Uc{constructor(e=new pt,n=new pt,r=new pt,s=new pt){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=s}getPoint(e,n=new pt){const r=n,s=this.v0,a=this.v1,o=this.v2,l=this.v3;return r.set(I1(e,s.x,a.x,o.x,l.x),I1(e,s.y,a.y,o.y,l.y),I1(e,s.z,a.z,o.z,l.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class xL extends Uc{constructor(e=new pe,n=new pe){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new pe){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new pe){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class p7 extends Uc{constructor(e=new pt,n=new pt){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new pt){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new pt){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class SL extends Uc{constructor(e=new pe,n=new pe,r=new pe){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new pe){const r=n,s=this.v0,a=this.v1,o=this.v2;return r.set(O1(e,s.x,a.x,o.x),O1(e,s.y,a.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class D2 extends Uc{constructor(e=new pt,n=new pt,r=new pt){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new pt){const r=n,s=this.v0,a=this.v1,o=this.v2;return r.set(O1(e,s.x,a.x,o.x),O1(e,s.y,a.y,o.y),O1(e,s.z,a.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class EL extends Uc{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new pe){const r=n,s=this.points,a=(s.length-1)*e,o=Math.floor(a),l=a-o,u=s[o===0?o:o-1],f=s[o],h=s[o>s.length-2?s.length-1:o+1],p=s[o>s.length-3?s.length-1:o+2];return r.set($z(l,u.x,f.x,h.x,p.x),$z(l,u.y,f.y,h.y,p.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const s=e.points[n];this.points.push(s.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const s=this.points[n];e.points.push(s.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const s=e.points[n];this.points.push(new pe().fromArray(s))}return this}}var nC=Object.freeze({__proto__:null,ArcCurve:h7,CatmullRomCurve3:d7,CubicBezierCurve:_L,CubicBezierCurve3:bL,EllipseCurve:P2,LineCurve:xL,LineCurve3:p7,QuadraticBezierCurve:SL,QuadraticBezierCurve3:D2,SplineCurve:EL});class m7 extends Uc{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new nC[r](n,e))}return this}getPoint(e,n){const r=e*this.getLength(),s=this.getCurveLengths();let a=0;for(;a<s.length;){if(s[a]>=r){const o=s[a]-r,l=this.curves[a],u=l.getLength(),f=u===0?0:1-o/u;return l.getPointAt(f,n)}a++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,s=this.curves.length;r<s;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let s=0,a=this.curves;s<a.length;s++){const o=a[s],l=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,u=o.getPoints(l);for(let f=0;f<u.length;f++){const h=u[f];r&&r.equals(h)||(n.push(h),r=h)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const s=e.curves[n];this.curves.push(s.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const s=this.curves[n];e.curves.push(s.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const s=e.curves[n];this.curves.push(new nC[s.type]().fromJSON(s))}return this}}class lS extends m7{constructor(e){super(),this.type="Path",this.currentPoint=new pe,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new xL(this.currentPoint.clone(),new pe(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,s){const a=new SL(this.currentPoint.clone(),new pe(e,n),new pe(r,s));return this.curves.push(a),this.currentPoint.set(r,s),this}bezierCurveTo(e,n,r,s,a,o){const l=new _L(this.currentPoint.clone(),new pe(e,n),new pe(r,s),new pe(a,o));return this.curves.push(l),this.currentPoint.set(a,o),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new EL(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,s,a,o){const l=this.currentPoint.x,u=this.currentPoint.y;return this.absarc(e+l,n+u,r,s,a,o),this}absarc(e,n,r,s,a,o){return this.absellipse(e,n,r,r,s,a,o),this}ellipse(e,n,r,s,a,o,l,u){const f=this.currentPoint.x,h=this.currentPoint.y;return this.absellipse(e+f,n+h,r,s,a,o,l,u),this}absellipse(e,n,r,s,a,o,l,u){const f=new P2(e,n,r,s,a,o,l,u);if(this.curves.length>0){const p=f.getPoint(0);p.equals(this.currentPoint)||this.lineTo(p.x,p.y)}this.curves.push(f);const h=f.getPoint(1);return this.currentPoint.copy(h),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class JS extends qn{constructor(e=[new pe(0,-.5),new pe(.5,0),new pe(0,.5)],n=12,r=0,s=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:s},n=Math.floor(n),s=Ln(s,0,Math.PI*2);const a=[],o=[],l=[],u=[],f=[],h=1/n,p=new pt,y=new pe,_=new pt,x=new pt,S=new pt;let E=0,b=0;for(let A=0;A<=e.length-1;A++)switch(A){case 0:E=e[A+1].x-e[A].x,b=e[A+1].y-e[A].y,_.x=b*1,_.y=-E,_.z=b*0,S.copy(_),_.normalize(),u.push(_.x,_.y,_.z);break;case e.length-1:u.push(S.x,S.y,S.z);break;default:E=e[A+1].x-e[A].x,b=e[A+1].y-e[A].y,_.x=b*1,_.y=-E,_.z=b*0,x.copy(_),_.x+=S.x,_.y+=S.y,_.z+=S.z,_.normalize(),u.push(_.x,_.y,_.z),S.copy(x)}for(let A=0;A<=n;A++){const C=r+A*h*s,M=Math.sin(C),I=Math.cos(C);for(let k=0;k<=e.length-1;k++){p.x=e[k].x*M,p.y=e[k].y,p.z=e[k].x*I,o.push(p.x,p.y,p.z),y.x=A/n,y.y=k/(e.length-1),l.push(y.x,y.y);const N=u[3*k+0]*M,L=u[3*k+1],U=u[3*k+0]*I;f.push(N,L,U)}}for(let A=0;A<n;A++)for(let C=0;C<e.length-1;C++){const M=C+A*e.length,I=M,k=M+e.length,N=M+e.length+1,L=M+1;a.push(I,k,L),a.push(N,L,k)}this.setIndex(a),this.setAttribute("position",new Xe(o,3)),this.setAttribute("uv",new Xe(l,2)),this.setAttribute("normal",new Xe(f,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new JS(e.points,e.segments,e.phiStart,e.phiLength)}}class N2 extends JS{constructor(e=1,n=1,r=4,s=8){const a=new lS;a.absarc(0,-n/2,e,Math.PI*1.5,0),a.absarc(0,n/2,e,0,Math.PI*.5),super(a.getPoints(r),s),this.type="CapsuleGeometry",this.parameters={radius:e,length:n,capSegments:r,radialSegments:s}}static fromJSON(e){return new N2(e.radius,e.length,e.capSegments,e.radialSegments)}}class L2 extends qn{constructor(e=1,n=32,r=0,s=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:s},n=Math.max(3,n);const a=[],o=[],l=[],u=[],f=new pt,h=new pe;o.push(0,0,0),l.push(0,0,1),u.push(.5,.5);for(let p=0,y=3;p<=n;p++,y+=3){const _=r+p/n*s;f.x=e*Math.cos(_),f.y=e*Math.sin(_),o.push(f.x,f.y,f.z),l.push(0,0,1),h.x=(o[y]/e+1)/2,h.y=(o[y+1]/e+1)/2,u.push(h.x,h.y)}for(let p=1;p<=n;p++)a.push(p,p+1,0);this.setIndex(a),this.setAttribute("position",new Xe(o,3)),this.setAttribute("normal",new Xe(l,3)),this.setAttribute("uv",new Xe(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new L2(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class jy extends qn{constructor(e=1,n=1,r=1,s=32,a=1,o=!1,l=0,u=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:s,heightSegments:a,openEnded:o,thetaStart:l,thetaLength:u};const f=this;s=Math.floor(s),a=Math.floor(a);const h=[],p=[],y=[],_=[];let x=0;const S=[],E=r/2;let b=0;A(),o===!1&&(e>0&&C(!0),n>0&&C(!1)),this.setIndex(h),this.setAttribute("position",new Xe(p,3)),this.setAttribute("normal",new Xe(y,3)),this.setAttribute("uv",new Xe(_,2));function A(){const M=new pt,I=new pt;let k=0;const N=(n-e)/r;for(let L=0;L<=a;L++){const U=[],O=L/a,B=O*(n-e)+e;for(let H=0;H<=s;H++){const V=H/s,X=V*u+l,et=Math.sin(X),q=Math.cos(X);I.x=B*et,I.y=-O*r+E,I.z=B*q,p.push(I.x,I.y,I.z),M.set(et,N,q).normalize(),y.push(M.x,M.y,M.z),_.push(V,1-O),U.push(x++)}S.push(U)}for(let L=0;L<s;L++)for(let U=0;U<a;U++){const O=S[U][L],B=S[U+1][L],H=S[U+1][L+1],V=S[U][L+1];(e>0||U!==0)&&(h.push(O,B,V),k+=3),(n>0||U!==a-1)&&(h.push(B,H,V),k+=3)}f.addGroup(b,k,0),b+=k}function C(M){const I=x,k=new pe,N=new pt;let L=0;const U=M===!0?e:n,O=M===!0?1:-1;for(let H=1;H<=s;H++)p.push(0,E*O,0),y.push(0,O,0),_.push(.5,.5),x++;const B=x;for(let H=0;H<=s;H++){const X=H/s*u+l,et=Math.cos(X),q=Math.sin(X);N.x=U*q,N.y=E*O,N.z=U*et,p.push(N.x,N.y,N.z),y.push(0,O,0),k.x=et*.5+.5,k.y=q*.5*O+.5,_.push(k.x,k.y),x++}for(let H=0;H<s;H++){const V=I+H,X=B+H;M===!0?h.push(X,X+1,V):h.push(X+1,X,V),L+=3}f.addGroup(b,L,M===!0?1:2),b+=L}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new jy(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class tE extends jy{constructor(e=1,n=1,r=32,s=1,a=!1,o=0,l=Math.PI*2){super(0,e,n,r,s,a,o,l),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:s,openEnded:a,thetaStart:o,thetaLength:l}}static fromJSON(e){return new tE(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class wm extends qn{constructor(e=[],n=[],r=1,s=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:s};const a=[],o=[];l(s),f(r),h(),this.setAttribute("position",new Xe(a,3)),this.setAttribute("normal",new Xe(a.slice(),3)),this.setAttribute("uv",new Xe(o,2)),s===0?this.computeVertexNormals():this.normalizeNormals();function l(A){const C=new pt,M=new pt,I=new pt;for(let k=0;k<n.length;k+=3)_(n[k+0],C),_(n[k+1],M),_(n[k+2],I),u(C,M,I,A)}function u(A,C,M,I){const k=I+1,N=[];for(let L=0;L<=k;L++){N[L]=[];const U=A.clone().lerp(M,L/k),O=C.clone().lerp(M,L/k),B=k-L;for(let H=0;H<=B;H++)H===0&&L===k?N[L][H]=U:N[L][H]=U.clone().lerp(O,H/B)}for(let L=0;L<k;L++)for(let U=0;U<2*(k-L)-1;U++){const O=Math.floor(U/2);U%2===0?(y(N[L][O+1]),y(N[L+1][O]),y(N[L][O])):(y(N[L][O+1]),y(N[L+1][O+1]),y(N[L+1][O]))}}function f(A){const C=new pt;for(let M=0;M<a.length;M+=3)C.x=a[M+0],C.y=a[M+1],C.z=a[M+2],C.normalize().multiplyScalar(A),a[M+0]=C.x,a[M+1]=C.y,a[M+2]=C.z}function h(){const A=new pt;for(let C=0;C<a.length;C+=3){A.x=a[C+0],A.y=a[C+1],A.z=a[C+2];const M=E(A)/2/Math.PI+.5,I=b(A)/Math.PI+.5;o.push(M,1-I)}x(),p()}function p(){for(let A=0;A<o.length;A+=6){const C=o[A+0],M=o[A+2],I=o[A+4],k=Math.max(C,M,I),N=Math.min(C,M,I);k>.9&&N<.1&&(C<.2&&(o[A+0]+=1),M<.2&&(o[A+2]+=1),I<.2&&(o[A+4]+=1))}}function y(A){a.push(A.x,A.y,A.z)}function _(A,C){const M=A*3;C.x=e[M+0],C.y=e[M+1],C.z=e[M+2]}function x(){const A=new pt,C=new pt,M=new pt,I=new pt,k=new pe,N=new pe,L=new pe;for(let U=0,O=0;U<a.length;U+=9,O+=6){A.set(a[U+0],a[U+1],a[U+2]),C.set(a[U+3],a[U+4],a[U+5]),M.set(a[U+6],a[U+7],a[U+8]),k.set(o[O+0],o[O+1]),N.set(o[O+2],o[O+3]),L.set(o[O+4],o[O+5]),I.copy(A).add(C).add(M).divideScalar(3);const B=E(I);S(k,O+0,A,B),S(N,O+2,C,B),S(L,O+4,M,B)}}function S(A,C,M,I){I<0&&A.x===1&&(o[C]=A.x-1),M.x===0&&M.z===0&&(o[C]=I/2/Math.PI+.5)}function E(A){return Math.atan2(A.z,-A.x)}function b(A){return Math.atan2(-A.y,Math.sqrt(A.x*A.x+A.z*A.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new wm(e.vertices,e.indices,e.radius,e.details)}}class U2 extends wm{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,s=1/r,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-s,-r,0,-s,r,0,s,-r,0,s,r,-s,-r,0,-s,r,0,s,-r,0,s,r,0,-r,0,-s,r,0,-s,-r,0,s,r,0,s],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(a,o,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new U2(e.radius,e.detail)}}const xw=new pt,Sw=new pt,EI=new pt,Ew=new rl;class g7 extends qn{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const s=Math.pow(10,4),a=Math.cos(fy*n),o=e.getIndex(),l=e.getAttribute("position"),u=o?o.count:l.count,f=[0,0,0],h=["a","b","c"],p=new Array(3),y={},_=[];for(let x=0;x<u;x+=3){o?(f[0]=o.getX(x),f[1]=o.getX(x+1),f[2]=o.getX(x+2)):(f[0]=x,f[1]=x+1,f[2]=x+2);const{a:S,b:E,c:b}=Ew;if(S.fromBufferAttribute(l,f[0]),E.fromBufferAttribute(l,f[1]),b.fromBufferAttribute(l,f[2]),Ew.getNormal(EI),p[0]=`${Math.round(S.x*s)},${Math.round(S.y*s)},${Math.round(S.z*s)}`,p[1]=`${Math.round(E.x*s)},${Math.round(E.y*s)},${Math.round(E.z*s)}`,p[2]=`${Math.round(b.x*s)},${Math.round(b.y*s)},${Math.round(b.z*s)}`,!(p[0]===p[1]||p[1]===p[2]||p[2]===p[0]))for(let A=0;A<3;A++){const C=(A+1)%3,M=p[A],I=p[C],k=Ew[h[A]],N=Ew[h[C]],L=`${M}_${I}`,U=`${I}_${M}`;U in y&&y[U]?(EI.dot(y[U].normal)<=a&&(_.push(k.x,k.y,k.z),_.push(N.x,N.y,N.z)),y[U]=null):L in y||(y[L]={index0:f[A],index1:f[C],normal:EI.clone()})}}for(const x in y)if(y[x]){const{index0:S,index1:E}=y[x];xw.fromBufferAttribute(l,S),Sw.fromBufferAttribute(l,E),_.push(xw.x,xw.y,xw.z),_.push(Sw.x,Sw.y,Sw.z)}this.setAttribute("position",new Xe(_,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class hy extends lS{constructor(e){super(e),this.uuid=Gl(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,s=this.holes.length;r<s;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const s=e.holes[n];this.holes.push(s.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const s=this.holes[n];e.holes.push(s.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const s=e.holes[n];this.holes.push(new lS().fromJSON(s))}return this}}class DJ{static triangulate(e,n,r=2){const s=n&&n.length,a=s?n[0]*r:e.length;let o=y7(e,0,a,r,!0);const l=[];if(!o||o.next===o.prev)return l;let u,f,h,p,y,_,x;if(s&&(o=zJ(e,n,o,r)),e.length>80*r){u=h=e[0],f=p=e[1];for(let S=r;S<a;S+=r)y=e[S],_=e[S+1],y<u&&(u=y),_<f&&(f=_),y>h&&(h=y),_>p&&(p=_);x=Math.max(h-u,p-f),x=x!==0?32767/x:0}return uS(o,l,r,u,f,x,0),l}}function y7(i,e,n,r,s){let a,o;if(s===YJ(i,e,n,r)>0)for(a=e;a<n;a+=r)o=Wz(a,i[a],i[a+1],o);else for(a=n-r;a>=e;a-=r)o=Wz(a,i[a],i[a+1],o);return o&&k2(o,o.next)&&(fS(o),o=o.next),o}function My(i,e){if(!i)return i;e||(e=i);let n=i,r;do if(r=!1,!n.steiner&&(k2(n,n.next)||Fr(n.prev,n,n.next)===0)){if(fS(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function uS(i,e,n,r,s,a,o){if(!i)return;!o&&a&&jJ(i,r,s,a);let l=i,u,f;for(;i.prev!==i.next;){if(u=i.prev,f=i.next,a?LJ(i,r,s,a):NJ(i)){e.push(u.i/n|0),e.push(i.i/n|0),e.push(f.i/n|0),fS(i),i=f.next,l=f.next;continue}if(i=f,i===l){o?o===1?(i=UJ(My(i),e,n),uS(i,e,n,r,s,a,2)):o===2&&kJ(i,e,n,r,s,a):uS(My(i),e,n,r,s,a,1);break}}}function NJ(i){const e=i.prev,n=i,r=i.next;if(Fr(e,n,r)>=0)return!1;const s=e.x,a=n.x,o=r.x,l=e.y,u=n.y,f=r.y,h=s<a?s<o?s:o:a<o?a:o,p=l<u?l<f?l:f:u<f?u:f,y=s>a?s>o?s:o:a>o?a:o,_=l>u?l>f?l:f:u>f?u:f;let x=r.next;for(;x!==e;){if(x.x>=h&&x.x<=y&&x.y>=p&&x.y<=_&&$v(s,l,a,u,o,f,x.x,x.y)&&Fr(x.prev,x,x.next)>=0)return!1;x=x.next}return!0}function LJ(i,e,n,r){const s=i.prev,a=i,o=i.next;if(Fr(s,a,o)>=0)return!1;const l=s.x,u=a.x,f=o.x,h=s.y,p=a.y,y=o.y,_=l<u?l<f?l:f:u<f?u:f,x=h<p?h<y?h:y:p<y?p:y,S=l>u?l>f?l:f:u>f?u:f,E=h>p?h>y?h:y:p>y?p:y,b=ND(_,x,e,n,r),A=ND(S,E,e,n,r);let C=i.prevZ,M=i.nextZ;for(;C&&C.z>=b&&M&&M.z<=A;){if(C.x>=_&&C.x<=S&&C.y>=x&&C.y<=E&&C!==s&&C!==o&&$v(l,h,u,p,f,y,C.x,C.y)&&Fr(C.prev,C,C.next)>=0||(C=C.prevZ,M.x>=_&&M.x<=S&&M.y>=x&&M.y<=E&&M!==s&&M!==o&&$v(l,h,u,p,f,y,M.x,M.y)&&Fr(M.prev,M,M.next)>=0))return!1;M=M.nextZ}for(;C&&C.z>=b;){if(C.x>=_&&C.x<=S&&C.y>=x&&C.y<=E&&C!==s&&C!==o&&$v(l,h,u,p,f,y,C.x,C.y)&&Fr(C.prev,C,C.next)>=0)return!1;C=C.prevZ}for(;M&&M.z<=A;){if(M.x>=_&&M.x<=S&&M.y>=x&&M.y<=E&&M!==s&&M!==o&&$v(l,h,u,p,f,y,M.x,M.y)&&Fr(M.prev,M,M.next)>=0)return!1;M=M.nextZ}return!0}function UJ(i,e,n){let r=i;do{const s=r.prev,a=r.next.next;!k2(s,a)&&v7(s,r,r.next,a)&&cS(s,a)&&cS(a,s)&&(e.push(s.i/n|0),e.push(r.i/n|0),e.push(a.i/n|0),fS(r),fS(r.next),r=i=a),r=r.next}while(r!==i);return My(r)}function kJ(i,e,n,r,s,a){let o=i;do{let l=o.next.next;for(;l!==o.prev;){if(o.i!==l.i&&$J(o,l)){let u=_7(o,l);o=My(o,o.next),u=My(u,u.next),uS(o,e,n,r,s,a,0),uS(u,e,n,r,s,a,0);return}l=l.next}o=o.next}while(o!==i)}function zJ(i,e,n,r){const s=[];let a,o,l,u,f;for(a=0,o=e.length;a<o;a++)l=e[a]*r,u=a<o-1?e[a+1]*r:i.length,f=y7(i,l,u,r,!1),f===f.next&&(f.steiner=!0),s.push(qJ(f));for(s.sort(BJ),a=0;a<s.length;a++)n=FJ(s[a],n);return n}function BJ(i,e){return i.x-e.x}function FJ(i,e){const n=VJ(i,e);if(!n)return e;const r=_7(n,i);return My(r,r.next),My(n,n.next)}function VJ(i,e){let n=e,r=-1/0,s;const a=i.x,o=i.y;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){const y=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(y<=a&&y>r&&(r=y,s=n.x<n.next.x?n:n.next,y===a))return s}n=n.next}while(n!==e);if(!s)return null;const l=s,u=s.x,f=s.y;let h=1/0,p;n=s;do a>=n.x&&n.x>=u&&a!==n.x&&$v(o<f?a:r,o,u,f,o<f?r:a,o,n.x,n.y)&&(p=Math.abs(o-n.y)/(a-n.x),cS(n,i)&&(p<h||p===h&&(n.x>s.x||n.x===s.x&&HJ(s,n)))&&(s=n,h=p)),n=n.next;while(n!==l);return s}function HJ(i,e){return Fr(i.prev,i,e.prev)<0&&Fr(e.next,i,i.next)<0}function jJ(i,e,n,r){let s=i;do s.z===0&&(s.z=ND(s.x,s.y,e,n,r)),s.prevZ=s.prev,s.nextZ=s.next,s=s.next;while(s!==i);s.prevZ.nextZ=null,s.prevZ=null,GJ(s)}function GJ(i){let e,n,r,s,a,o,l,u,f=1;do{for(n=i,i=null,a=null,o=0;n;){for(o++,r=n,l=0,e=0;e<f&&(l++,r=r.nextZ,!!r);e++);for(u=f;l>0||u>0&&r;)l!==0&&(u===0||!r||n.z<=r.z)?(s=n,n=n.nextZ,l--):(s=r,r=r.nextZ,u--),a?a.nextZ=s:i=s,s.prevZ=a,a=s;n=r}a.nextZ=null,f*=2}while(o>1);return i}function ND(i,e,n,r,s){return i=(i-n)*s|0,e=(e-r)*s|0,i=(i|i<<8)&16711935,i=(i|i<<4)&252645135,i=(i|i<<2)&858993459,i=(i|i<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,i|e<<1}function qJ(i){let e=i,n=i;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==i);return n}function $v(i,e,n,r,s,a,o,l){return(s-o)*(e-l)>=(i-o)*(a-l)&&(i-o)*(r-l)>=(n-o)*(e-l)&&(n-o)*(a-l)>=(s-o)*(r-l)}function $J(i,e){return i.next.i!==e.i&&i.prev.i!==e.i&&!WJ(i,e)&&(cS(i,e)&&cS(e,i)&&XJ(i,e)&&(Fr(i.prev,i,e.prev)||Fr(i,e.prev,e))||k2(i,e)&&Fr(i.prev,i,i.next)>0&&Fr(e.prev,e,e.next)>0)}function Fr(i,e,n){return(e.y-i.y)*(n.x-e.x)-(e.x-i.x)*(n.y-e.y)}function k2(i,e){return i.x===e.x&&i.y===e.y}function v7(i,e,n,r){const s=ww(Fr(i,e,n)),a=ww(Fr(i,e,r)),o=ww(Fr(n,r,i)),l=ww(Fr(n,r,e));return!!(s!==a&&o!==l||s===0&&Tw(i,n,e)||a===0&&Tw(i,r,e)||o===0&&Tw(n,i,r)||l===0&&Tw(n,e,r))}function Tw(i,e,n){return e.x<=Math.max(i.x,n.x)&&e.x>=Math.min(i.x,n.x)&&e.y<=Math.max(i.y,n.y)&&e.y>=Math.min(i.y,n.y)}function ww(i){return i>0?1:i<0?-1:0}function WJ(i,e){let n=i;do{if(n.i!==i.i&&n.next.i!==i.i&&n.i!==e.i&&n.next.i!==e.i&&v7(n,n.next,i,e))return!0;n=n.next}while(n!==i);return!1}function cS(i,e){return Fr(i.prev,i,i.next)<0?Fr(i,e,i.next)>=0&&Fr(i,i.prev,e)>=0:Fr(i,e,i.prev)<0||Fr(i,i.next,e)<0}function XJ(i,e){let n=i,r=!1;const s=(i.x+e.x)/2,a=(i.y+e.y)/2;do n.y>a!=n.next.y>a&&n.next.y!==n.y&&s<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==i);return r}function _7(i,e){const n=new LD(i.i,i.x,i.y),r=new LD(e.i,e.x,e.y),s=i.next,a=e.prev;return i.next=e,e.prev=i,n.next=s,s.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function Wz(i,e,n,r){const s=new LD(i,e,n);return r?(s.next=r.next,s.prev=r,r.next.prev=s,r.next=s):(s.prev=s,s.next=s),s}function fS(i){i.next.prev=i.prev,i.prev.next=i.next,i.prevZ&&(i.prevZ.nextZ=i.nextZ),i.nextZ&&(i.nextZ.prevZ=i.prevZ)}function LD(i,e,n){this.i=i,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function YJ(i,e,n,r){let s=0;for(let a=e,o=n-r;a<n;a+=r)s+=(i[o]-i[a])*(i[a+1]+i[o+1]),o=a;return s}class $f{static area(e){const n=e.length;let r=0;for(let s=n-1,a=0;a<n;s=a++)r+=e[s].x*e[a].y-e[a].x*e[s].y;return r*.5}static isClockWise(e){return $f.area(e)<0}static triangulateShape(e,n){const r=[],s=[],a=[];Xz(e),Yz(r,e);let o=e.length;n.forEach(Xz);for(let u=0;u<n.length;u++)s.push(o),o+=n[u].length,Yz(r,n[u]);const l=DJ.triangulate(r,s);for(let u=0;u<l.length;u+=3)a.push(l.slice(u,u+3));return a}}function Xz(i){const e=i.length;e>2&&i[e-1].equals(i[0])&&i.pop()}function Yz(i,e){for(let n=0;n<e.length;n++)i.push(e[n].x),i.push(e[n].y)}class z2 extends qn{constructor(e=new hy([new pe(.5,.5),new pe(-.5,.5),new pe(-.5,-.5),new pe(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,s=[],a=[];for(let l=0,u=e.length;l<u;l++){const f=e[l];o(f)}this.setAttribute("position",new Xe(s,3)),this.setAttribute("uv",new Xe(a,2)),this.computeVertexNormals();function o(l){const u=[],f=n.curveSegments!==void 0?n.curveSegments:12,h=n.steps!==void 0?n.steps:1,p=n.depth!==void 0?n.depth:1;let y=n.bevelEnabled!==void 0?n.bevelEnabled:!0,_=n.bevelThickness!==void 0?n.bevelThickness:.2,x=n.bevelSize!==void 0?n.bevelSize:_-.1,S=n.bevelOffset!==void 0?n.bevelOffset:0,E=n.bevelSegments!==void 0?n.bevelSegments:3;const b=n.extrudePath,A=n.UVGenerator!==void 0?n.UVGenerator:KJ;let C,M=!1,I,k,N,L;b&&(C=b.getSpacedPoints(h),M=!0,y=!1,I=b.computeFrenetFrames(h,!1),k=new pt,N=new pt,L=new pt),y||(E=0,_=0,x=0,S=0);const U=l.extractPoints(f);let O=U.shape;const B=U.holes;if(!$f.isClockWise(O)){O=O.reverse();for(let Pt=0,Vt=B.length;Pt<Vt;Pt++){const at=B[Pt];$f.isClockWise(at)&&(B[Pt]=at.reverse())}}const V=$f.triangulateShape(O,B),X=O;for(let Pt=0,Vt=B.length;Pt<Vt;Pt++){const at=B[Pt];O=O.concat(at)}function et(Pt,Vt,at){return Vt||console.error("THREE.ExtrudeGeometry: vec does not exist"),Pt.clone().addScaledVector(Vt,at)}const q=O.length,W=V.length;function Z(Pt,Vt,at){let ce,te,ne;const ie=Pt.x-Vt.x,Me=Pt.y-Vt.y,le=at.x-Pt.x,lt=at.y-Pt.y,j=ie*ie+Me*Me,ut=ie*lt-Me*le;if(Math.abs(ut)>Number.EPSILON){const mt=Math.sqrt(j),Rt=Math.sqrt(le*le+lt*lt),_t=Vt.x-Me/mt,Ct=Vt.y+ie/mt,Lt=at.x-lt/Rt,Qt=at.y+le/Rt,De=((Lt-_t)*lt-(Qt-Ct)*le)/(ie*lt-Me*le);ce=_t+ie*De-Pt.x,te=Ct+Me*De-Pt.y;const Ht=ce*ce+te*te;if(Ht<=2)return new pe(ce,te);ne=Math.sqrt(Ht/2)}else{let mt=!1;ie>Number.EPSILON?le>Number.EPSILON&&(mt=!0):ie<-Number.EPSILON?le<-Number.EPSILON&&(mt=!0):Math.sign(Me)===Math.sign(lt)&&(mt=!0),mt?(ce=-Me,te=ie,ne=Math.sqrt(j)):(ce=ie,te=Me,ne=Math.sqrt(j/2))}return new pe(ce/ne,te/ne)}const nt=[];for(let Pt=0,Vt=X.length,at=Vt-1,ce=Pt+1;Pt<Vt;Pt++,at++,ce++)at===Vt&&(at=0),ce===Vt&&(ce=0),nt[Pt]=Z(X[Pt],X[at],X[ce]);const Q=[];let ht,yt=nt.concat();for(let Pt=0,Vt=B.length;Pt<Vt;Pt++){const at=B[Pt];ht=[];for(let ce=0,te=at.length,ne=te-1,ie=ce+1;ce<te;ce++,ne++,ie++)ne===te&&(ne=0),ie===te&&(ie=0),ht[ce]=Z(at[ce],at[ne],at[ie]);Q.push(ht),yt=yt.concat(ht)}for(let Pt=0;Pt<E;Pt++){const Vt=Pt/E,at=_*Math.cos(Vt*Math.PI/2),ce=x*Math.sin(Vt*Math.PI/2)+S;for(let te=0,ne=X.length;te<ne;te++){const ie=et(X[te],nt[te],ce);gt(ie.x,ie.y,-at)}for(let te=0,ne=B.length;te<ne;te++){const ie=B[te];ht=Q[te];for(let Me=0,le=ie.length;Me<le;Me++){const lt=et(ie[Me],ht[Me],ce);gt(lt.x,lt.y,-at)}}}const xt=x+S;for(let Pt=0;Pt<q;Pt++){const Vt=y?et(O[Pt],yt[Pt],xt):O[Pt];M?(N.copy(I.normals[0]).multiplyScalar(Vt.x),k.copy(I.binormals[0]).multiplyScalar(Vt.y),L.copy(C[0]).add(N).add(k),gt(L.x,L.y,L.z)):gt(Vt.x,Vt.y,0)}for(let Pt=1;Pt<=h;Pt++)for(let Vt=0;Vt<q;Vt++){const at=y?et(O[Vt],yt[Vt],xt):O[Vt];M?(N.copy(I.normals[Pt]).multiplyScalar(at.x),k.copy(I.binormals[Pt]).multiplyScalar(at.y),L.copy(C[Pt]).add(N).add(k),gt(L.x,L.y,L.z)):gt(at.x,at.y,p/h*Pt)}for(let Pt=E-1;Pt>=0;Pt--){const Vt=Pt/E,at=_*Math.cos(Vt*Math.PI/2),ce=x*Math.sin(Vt*Math.PI/2)+S;for(let te=0,ne=X.length;te<ne;te++){const ie=et(X[te],nt[te],ce);gt(ie.x,ie.y,p+at)}for(let te=0,ne=B.length;te<ne;te++){const ie=B[te];ht=Q[te];for(let Me=0,le=ie.length;Me<le;Me++){const lt=et(ie[Me],ht[Me],ce);M?gt(lt.x,lt.y+C[h-1].y,C[h-1].x+at):gt(lt.x,lt.y,p+at)}}}it(),dt();function it(){const Pt=s.length/3;if(y){let Vt=0,at=q*Vt;for(let ce=0;ce<W;ce++){const te=V[ce];wt(te[2]+at,te[1]+at,te[0]+at)}Vt=h+E*2,at=q*Vt;for(let ce=0;ce<W;ce++){const te=V[ce];wt(te[0]+at,te[1]+at,te[2]+at)}}else{for(let Vt=0;Vt<W;Vt++){const at=V[Vt];wt(at[2],at[1],at[0])}for(let Vt=0;Vt<W;Vt++){const at=V[Vt];wt(at[0]+q*h,at[1]+q*h,at[2]+q*h)}}r.addGroup(Pt,s.length/3-Pt,0)}function dt(){const Pt=s.length/3;let Vt=0;ft(X,Vt),Vt+=X.length;for(let at=0,ce=B.length;at<ce;at++){const te=B[at];ft(te,Vt),Vt+=te.length}r.addGroup(Pt,s.length/3-Pt,1)}function ft(Pt,Vt){let at=Pt.length;for(;--at>=0;){const ce=at;let te=at-1;te<0&&(te=Pt.length-1);for(let ne=0,ie=h+E*2;ne<ie;ne++){const Me=q*ne,le=q*(ne+1),lt=Vt+ce+Me,j=Vt+te+Me,ut=Vt+te+le,mt=Vt+ce+le;Kt(lt,j,ut,mt)}}}function gt(Pt,Vt,at){u.push(Pt),u.push(Vt),u.push(at)}function wt(Pt,Vt,at){kt(Pt),kt(Vt),kt(at);const ce=s.length/3,te=A.generateTopUV(r,s,ce-3,ce-2,ce-1);ee(te[0]),ee(te[1]),ee(te[2])}function Kt(Pt,Vt,at,ce){kt(Pt),kt(Vt),kt(ce),kt(Vt),kt(at),kt(ce);const te=s.length/3,ne=A.generateSideWallUV(r,s,te-6,te-3,te-2,te-1);ee(ne[0]),ee(ne[1]),ee(ne[3]),ee(ne[1]),ee(ne[2]),ee(ne[3])}function kt(Pt){s.push(u[Pt*3+0]),s.push(u[Pt*3+1]),s.push(u[Pt*3+2])}function ee(Pt){a.push(Pt.x),a.push(Pt.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return ZJ(n,r,e)}static fromJSON(e,n){const r=[];for(let a=0,o=e.shapes.length;a<o;a++){const l=n[e.shapes[a]];r.push(l)}const s=e.options.extrudePath;return s!==void 0&&(e.options.extrudePath=new nC[s.type]().fromJSON(s)),new z2(r,e.options)}}const KJ={generateTopUV:function(i,e,n,r,s){const a=e[n*3],o=e[n*3+1],l=e[r*3],u=e[r*3+1],f=e[s*3],h=e[s*3+1];return[new pe(a,o),new pe(l,u),new pe(f,h)]},generateSideWallUV:function(i,e,n,r,s,a){const o=e[n*3],l=e[n*3+1],u=e[n*3+2],f=e[r*3],h=e[r*3+1],p=e[r*3+2],y=e[s*3],_=e[s*3+1],x=e[s*3+2],S=e[a*3],E=e[a*3+1],b=e[a*3+2];return Math.abs(l-h)<Math.abs(o-f)?[new pe(o,1-u),new pe(f,1-p),new pe(y,1-x),new pe(S,1-b)]:[new pe(l,1-u),new pe(h,1-p),new pe(_,1-x),new pe(E,1-b)]}};function ZJ(i,e,n){if(n.shapes=[],Array.isArray(i))for(let r=0,s=i.length;r<s;r++){const a=i[r];n.shapes.push(a.uuid)}else n.shapes.push(i.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class B2 extends wm{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,s=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],a=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(s,a,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new B2(e.radius,e.detail)}}class eE extends wm{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],s=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,s,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new eE(e.radius,e.detail)}}class Y_ extends qn{constructor(e=1,n=1,r=1,s=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:s};const a=e/2,o=n/2,l=Math.floor(r),u=Math.floor(s),f=l+1,h=u+1,p=e/l,y=n/u,_=[],x=[],S=[],E=[];for(let b=0;b<h;b++){const A=b*y-o;for(let C=0;C<f;C++){const M=C*p-a;x.push(M,-A,0),S.push(0,0,1),E.push(C/l),E.push(1-b/u)}}for(let b=0;b<u;b++)for(let A=0;A<l;A++){const C=A+f*b,M=A+f*(b+1),I=A+1+f*(b+1),k=A+1+f*b;_.push(C,M,k),_.push(M,I,k)}this.setIndex(_),this.setAttribute("position",new Xe(x,3)),this.setAttribute("normal",new Xe(S,3)),this.setAttribute("uv",new Xe(E,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Y_(e.width,e.height,e.widthSegments,e.heightSegments)}}class F2 extends qn{constructor(e=.5,n=1,r=32,s=1,a=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:s,thetaStart:a,thetaLength:o},r=Math.max(3,r),s=Math.max(1,s);const l=[],u=[],f=[],h=[];let p=e;const y=(n-e)/s,_=new pt,x=new pe;for(let S=0;S<=s;S++){for(let E=0;E<=r;E++){const b=a+E/r*o;_.x=p*Math.cos(b),_.y=p*Math.sin(b),u.push(_.x,_.y,_.z),f.push(0,0,1),x.x=(_.x/n+1)/2,x.y=(_.y/n+1)/2,h.push(x.x,x.y)}p+=y}for(let S=0;S<s;S++){const E=S*(r+1);for(let b=0;b<r;b++){const A=b+E,C=A,M=A+r+1,I=A+r+2,k=A+1;l.push(C,M,k),l.push(M,I,k)}}this.setIndex(l),this.setAttribute("position",new Xe(u,3)),this.setAttribute("normal",new Xe(f,3)),this.setAttribute("uv",new Xe(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new F2(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class V2 extends qn{constructor(e=new hy([new pe(0,.5),new pe(-.5,-.5),new pe(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],s=[],a=[],o=[];let l=0,u=0;if(Array.isArray(e)===!1)f(e);else for(let h=0;h<e.length;h++)f(e[h]),this.addGroup(l,u,h),l+=u,u=0;this.setIndex(r),this.setAttribute("position",new Xe(s,3)),this.setAttribute("normal",new Xe(a,3)),this.setAttribute("uv",new Xe(o,2));function f(h){const p=s.length/3,y=h.extractPoints(n);let _=y.shape;const x=y.holes;$f.isClockWise(_)===!1&&(_=_.reverse());for(let E=0,b=x.length;E<b;E++){const A=x[E];$f.isClockWise(A)===!0&&(x[E]=A.reverse())}const S=$f.triangulateShape(_,x);for(let E=0,b=x.length;E<b;E++){const A=x[E];_=_.concat(A)}for(let E=0,b=_.length;E<b;E++){const A=_[E];s.push(A.x,A.y,0),a.push(0,0,1),o.push(A.x,A.y)}for(let E=0,b=S.length;E<b;E++){const A=S[E],C=A[0]+p,M=A[1]+p,I=A[2]+p;r.push(C,M,I),u+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return QJ(n,e)}static fromJSON(e,n){const r=[];for(let s=0,a=e.shapes.length;s<a;s++){const o=n[e.shapes[s]];r.push(o)}return new V2(r,e.curveSegments)}}function QJ(i,e){if(e.shapes=[],Array.isArray(i))for(let n=0,r=i.length;n<r;n++){const s=i[n];e.shapes.push(s.uuid)}else e.shapes.push(i.uuid);return e}class Gy extends qn{constructor(e=1,n=32,r=16,s=0,a=Math.PI*2,o=0,l=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:s,phiLength:a,thetaStart:o,thetaLength:l},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const u=Math.min(o+l,Math.PI);let f=0;const h=[],p=new pt,y=new pt,_=[],x=[],S=[],E=[];for(let b=0;b<=r;b++){const A=[],C=b/r;let M=0;b===0&&o===0?M=.5/n:b===r&&u===Math.PI&&(M=-.5/n);for(let I=0;I<=n;I++){const k=I/n;p.x=-e*Math.cos(s+k*a)*Math.sin(o+C*l),p.y=e*Math.cos(o+C*l),p.z=e*Math.sin(s+k*a)*Math.sin(o+C*l),x.push(p.x,p.y,p.z),y.copy(p).normalize(),S.push(y.x,y.y,y.z),E.push(k+M,1-C),A.push(f++)}h.push(A)}for(let b=0;b<r;b++)for(let A=0;A<n;A++){const C=h[b][A+1],M=h[b][A],I=h[b+1][A],k=h[b+1][A+1];(b!==0||o>0)&&_.push(C,M,k),(b!==r-1||u<Math.PI)&&_.push(M,I,k)}this.setIndex(_),this.setAttribute("position",new Xe(x,3)),this.setAttribute("normal",new Xe(S,3)),this.setAttribute("uv",new Xe(E,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Gy(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class H2 extends wm{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],s=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,s,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new H2(e.radius,e.detail)}}class j2 extends qn{constructor(e=1,n=.4,r=12,s=48,a=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:s,arc:a},r=Math.floor(r),s=Math.floor(s);const o=[],l=[],u=[],f=[],h=new pt,p=new pt,y=new pt;for(let _=0;_<=r;_++)for(let x=0;x<=s;x++){const S=x/s*a,E=_/r*Math.PI*2;p.x=(e+n*Math.cos(E))*Math.cos(S),p.y=(e+n*Math.cos(E))*Math.sin(S),p.z=n*Math.sin(E),l.push(p.x,p.y,p.z),h.x=e*Math.cos(S),h.y=e*Math.sin(S),y.subVectors(p,h).normalize(),u.push(y.x,y.y,y.z),f.push(x/s),f.push(_/r)}for(let _=1;_<=r;_++)for(let x=1;x<=s;x++){const S=(s+1)*_+x-1,E=(s+1)*(_-1)+x-1,b=(s+1)*(_-1)+x,A=(s+1)*_+x;o.push(S,E,A),o.push(E,b,A)}this.setIndex(o),this.setAttribute("position",new Xe(l,3)),this.setAttribute("normal",new Xe(u,3)),this.setAttribute("uv",new Xe(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new j2(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class G2 extends qn{constructor(e=1,n=.4,r=64,s=8,a=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:s,p:a,q:o},r=Math.floor(r),s=Math.floor(s);const l=[],u=[],f=[],h=[],p=new pt,y=new pt,_=new pt,x=new pt,S=new pt,E=new pt,b=new pt;for(let C=0;C<=r;++C){const M=C/r*a*Math.PI*2;A(M,a,o,e,_),A(M+.01,a,o,e,x),E.subVectors(x,_),b.addVectors(x,_),S.crossVectors(E,b),b.crossVectors(S,E),S.normalize(),b.normalize();for(let I=0;I<=s;++I){const k=I/s*Math.PI*2,N=-n*Math.cos(k),L=n*Math.sin(k);p.x=_.x+(N*b.x+L*S.x),p.y=_.y+(N*b.y+L*S.y),p.z=_.z+(N*b.z+L*S.z),u.push(p.x,p.y,p.z),y.subVectors(p,_).normalize(),f.push(y.x,y.y,y.z),h.push(C/r),h.push(I/s)}}for(let C=1;C<=r;C++)for(let M=1;M<=s;M++){const I=(s+1)*(C-1)+(M-1),k=(s+1)*C+(M-1),N=(s+1)*C+M,L=(s+1)*(C-1)+M;l.push(I,k,L),l.push(k,N,L)}this.setIndex(l),this.setAttribute("position",new Xe(u,3)),this.setAttribute("normal",new Xe(f,3)),this.setAttribute("uv",new Xe(h,2));function A(C,M,I,k,N){const L=Math.cos(C),U=Math.sin(C),O=I/M*C,B=Math.cos(O);N.x=k*(2+B)*.5*L,N.y=k*(2+B)*U*.5,N.z=k*Math.sin(O)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new G2(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class nE extends qn{constructor(e=new D2(new pt(-1,-1,0),new pt(-1,1,0),new pt(1,1,0)),n=64,r=1,s=8,a=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:s,closed:a};const o=e.computeFrenetFrames(n,a);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const l=new pt,u=new pt,f=new pe;let h=new pt;const p=[],y=[],_=[],x=[];S(),this.setIndex(x),this.setAttribute("position",new Xe(p,3)),this.setAttribute("normal",new Xe(y,3)),this.setAttribute("uv",new Xe(_,2));function S(){for(let C=0;C<n;C++)E(C);E(a===!1?n:0),A(),b()}function E(C){h=e.getPointAt(C/n,h);const M=o.normals[C],I=o.binormals[C];for(let k=0;k<=s;k++){const N=k/s*Math.PI*2,L=Math.sin(N),U=-Math.cos(N);u.x=U*M.x+L*I.x,u.y=U*M.y+L*I.y,u.z=U*M.z+L*I.z,u.normalize(),y.push(u.x,u.y,u.z),l.x=h.x+r*u.x,l.y=h.y+r*u.y,l.z=h.z+r*u.z,p.push(l.x,l.y,l.z)}}function b(){for(let C=1;C<=n;C++)for(let M=1;M<=s;M++){const I=(s+1)*(C-1)+(M-1),k=(s+1)*C+(M-1),N=(s+1)*C+M,L=(s+1)*(C-1)+M;x.push(I,k,L),x.push(k,N,L)}}function A(){for(let C=0;C<=n;C++)for(let M=0;M<=s;M++)f.x=C/n,f.y=M/s,_.push(f.x,f.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new nE(new nC[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class b7 extends qn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,s=new pt,a=new pt;if(e.index!==null){const o=e.attributes.position,l=e.index;let u=e.groups;u.length===0&&(u=[{start:0,count:l.count,materialIndex:0}]);for(let f=0,h=u.length;f<h;++f){const p=u[f],y=p.start,_=p.count;for(let x=y,S=y+_;x<S;x+=3)for(let E=0;E<3;E++){const b=l.getX(x+E),A=l.getX(x+(E+1)%3);s.fromBufferAttribute(o,b),a.fromBufferAttribute(o,A),Kz(s,a,r)===!0&&(n.push(s.x,s.y,s.z),n.push(a.x,a.y,a.z))}}}else{const o=e.attributes.position;for(let l=0,u=o.count/3;l<u;l++)for(let f=0;f<3;f++){const h=3*l+f,p=3*l+(f+1)%3;s.fromBufferAttribute(o,h),a.fromBufferAttribute(o,p),Kz(s,a,r)===!0&&(n.push(s.x,s.y,s.z),n.push(a.x,a.y,a.z))}}this.setAttribute("position",new Xe(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function Kz(i,e,n){const r=`${i.x},${i.y},${i.z}-${e.x},${e.y},${e.z}`,s=`${e.x},${e.y},${e.z}-${i.x},${i.y},${i.z}`;return n.has(r)===!0||n.has(s)===!0?!1:(n.add(r),n.add(s),!0)}var Zz=Object.freeze({__proto__:null,BoxGeometry:Hy,CapsuleGeometry:N2,CircleGeometry:L2,ConeGeometry:tE,CylinderGeometry:jy,DodecahedronGeometry:U2,EdgesGeometry:g7,ExtrudeGeometry:z2,IcosahedronGeometry:B2,LatheGeometry:JS,OctahedronGeometry:eE,PlaneGeometry:Y_,PolyhedronGeometry:wm,RingGeometry:F2,ShapeGeometry:V2,SphereGeometry:Gy,TetrahedronGeometry:H2,TorusGeometry:j2,TorusKnotGeometry:G2,TubeGeometry:nE,WireframeGeometry:b7});class x7 extends Za{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Fe(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class S7 extends ku{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class q2 extends Za{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Fe(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Fe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Em,this.normalScale=new pe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Xl,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class E7 extends q2{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new pe(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Ln(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Fe(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Fe(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Fe(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class T7 extends Za{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Fe(16777215),this.specular=new Fe(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Fe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Em,this.normalScale=new pe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Xl,this.combine=XS,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class w7 extends Za{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Fe(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Fe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Em,this.normalScale=new pe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class A7 extends Za{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Em,this.normalScale=new pe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class TL extends Za{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Fe(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Fe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Em,this.normalScale=new pe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Xl,this.combine=XS,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class wL extends Za{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=zH,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class AL extends Za{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class M7 extends Za{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Fe(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Em,this.normalScale=new pe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class C7 extends Qa{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Qg(i,e,n){return!i||!n&&i.constructor===e?i:typeof e.BYTES_PER_ELEMENT=="number"?new e(i):Array.prototype.slice.call(i)}function R7(i){return ArrayBuffer.isView(i)&&!(i instanceof DataView)}function O7(i){function e(s,a){return i[s]-i[a]}const n=i.length,r=new Array(n);for(let s=0;s!==n;++s)r[s]=s;return r.sort(e),r}function UD(i,e,n){const r=i.length,s=new i.constructor(r);for(let a=0,o=0;o!==r;++a){const l=n[a]*e;for(let u=0;u!==e;++u)s[o++]=i[l+u]}return s}function ML(i,e,n,r){let s=1,a=i[0];for(;a!==void 0&&a[r]===void 0;)a=i[s++];if(a===void 0)return;let o=a[r];if(o!==void 0)if(Array.isArray(o))do o=a[r],o!==void 0&&(e.push(a.time),n.push(...o)),a=i[s++];while(a!==void 0);else if(o.toArray!==void 0)do o=a[r],o!==void 0&&(e.push(a.time),o.toArray(n,n.length)),a=i[s++];while(a!==void 0);else do o=a[r],o!==void 0&&(e.push(a.time),n.push(o)),a=i[s++];while(a!==void 0)}function JJ(i,e,n,r,s=30){const a=i.clone();a.name=e;const o=[];for(let u=0;u<a.tracks.length;++u){const f=a.tracks[u],h=f.getValueSize(),p=[],y=[];for(let _=0;_<f.times.length;++_){const x=f.times[_]*s;if(!(x<n||x>=r)){p.push(f.times[_]);for(let S=0;S<h;++S)y.push(f.values[_*h+S])}}p.length!==0&&(f.times=Qg(p,f.times.constructor),f.values=Qg(y,f.values.constructor),o.push(f))}a.tracks=o;let l=1/0;for(let u=0;u<a.tracks.length;++u)l>a.tracks[u].times[0]&&(l=a.tracks[u].times[0]);for(let u=0;u<a.tracks.length;++u)a.tracks[u].shift(-1*l);return a.resetDuration(),a}function ttt(i,e=0,n=i,r=30){r<=0&&(r=30);const s=n.tracks.length,a=e/r;for(let o=0;o<s;++o){const l=n.tracks[o],u=l.ValueTypeName;if(u==="bool"||u==="string")continue;const f=i.tracks.find(function(b){return b.name===l.name&&b.ValueTypeName===u});if(f===void 0)continue;let h=0;const p=l.getValueSize();l.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=p/3);let y=0;const _=f.getValueSize();f.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(y=_/3);const x=l.times.length-1;let S;if(a<=l.times[0]){const b=h,A=p-h;S=l.values.slice(b,A)}else if(a>=l.times[x]){const b=x*p+h,A=b+p-h;S=l.values.slice(b,A)}else{const b=l.createInterpolant(),A=h,C=p-h;b.evaluate(a),S=b.resultBuffer.slice(A,C)}u==="quaternion"&&new Ao().fromArray(S).normalize().conjugate().toArray(S);const E=f.times.length;for(let b=0;b<E;++b){const A=b*_+y;if(u==="quaternion")Ao.multiplyQuaternionsFlat(f.values,A,S,0,f.values,A);else{const C=_-y*2;for(let M=0;M<C;++M)f.values[A+M]-=S[M]}}}return i.blendMode=lL,i}const ett={convertArray:Qg,isTypedArray:R7,getKeyframeOrder:O7,sortedArray:UD,flattenJSON:ML,subclip:JJ,makeClipAdditive:ttt};class iE{constructor(e,n,r,s){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=s!==void 0?s:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,s=n[r],a=n[r-1];t:{e:{let o;n:{i:if(!(e<s)){for(let l=r+2;;){if(s===void 0){if(e<a)break i;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===l)break;if(a=s,s=n[++r],e<s)break e}o=n.length;break n}if(!(e>=a)){const l=n[1];e<l&&(r=2,a=l);for(let u=r-2;;){if(a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===u)break;if(s=a,a=n[--r-1],e>=a)break e}o=r,r=0;break n}break t}for(;r<o;){const l=r+o>>>1;e<n[l]?o=l:r=l+1}if(s=n[r],a=n[r-1],a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(s===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,a,s)}return this.interpolate_(r,a,e,s)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,s=this.valueSize,a=e*s;for(let o=0;o!==s;++o)n[o]=r[a+o];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class I7 extends iE{constructor(e,n,r,s){super(e,n,r,s),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Kg,endingEnd:Kg}}intervalChanged_(e,n,r){const s=this.parameterPositions;let a=e-2,o=e+1,l=s[a],u=s[o];if(l===void 0)switch(this.getSettings_().endingStart){case Zg:a=e,l=2*n-r;break;case iS:a=s.length-2,l=n+s[a]-s[a+1];break;default:a=e,l=r}if(u===void 0)switch(this.getSettings_().endingEnd){case Zg:o=e,u=2*r-n;break;case iS:o=1,u=r+s[1]-s[0];break;default:o=e-1,u=n}const f=(r-n)*.5,h=this.valueSize;this._weightPrev=f/(n-l),this._weightNext=f/(u-r),this._offsetPrev=a*h,this._offsetNext=o*h}interpolate_(e,n,r,s){const a=this.resultBuffer,o=this.sampleValues,l=this.valueSize,u=e*l,f=u-l,h=this._offsetPrev,p=this._offsetNext,y=this._weightPrev,_=this._weightNext,x=(r-n)/(s-n),S=x*x,E=S*x,b=-y*E+2*y*S-y*x,A=(1+y)*E+(-1.5-2*y)*S+(-.5+y)*x+1,C=(-1-_)*E+(1.5+_)*S+.5*x,M=_*E-_*S;for(let I=0;I!==l;++I)a[I]=b*o[h+I]+A*o[f+I]+C*o[u+I]+M*o[p+I];return a}}class CL extends iE{constructor(e,n,r,s){super(e,n,r,s)}interpolate_(e,n,r,s){const a=this.resultBuffer,o=this.sampleValues,l=this.valueSize,u=e*l,f=u-l,h=(r-n)/(s-n),p=1-h;for(let y=0;y!==l;++y)a[y]=o[f+y]*p+o[u+y]*h;return a}}class P7 extends iE{constructor(e,n,r,s){super(e,n,r,s)}interpolate_(e){return this.copySampleValue_(e-1)}}class kc{constructor(e,n,r,s){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Qg(n,this.TimeBufferType),this.values=Qg(r,this.ValueBufferType),this.setInterpolation(s||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:Qg(e.times,Array),values:Qg(e.values,Array)};const s=e.getInterpolation();s!==e.DefaultInterpolation&&(r.interpolation=s)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new P7(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new CL(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new I7(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case nS:n=this.InterpolantFactoryMethodDiscrete;break;case JM:n=this.InterpolantFactoryMethodLinear;break;case UA:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return nS;case this.InterpolantFactoryMethodLinear:return JM;case this.InterpolantFactoryMethodSmooth:return UA}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,s=n.length;r!==s;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,s=n.length;r!==s;++r)n[r]*=e}return this}trim(e,n){const r=this.times,s=r.length;let a=0,o=s-1;for(;a!==s&&r[a]<e;)++a;for(;o!==-1&&r[o]>n;)--o;if(++o,a!==0||o!==s){a>=o&&(o=Math.max(o,1),a=o-1);const l=this.getValueSize();this.times=r.slice(a,o),this.values=this.values.slice(a*l,o*l)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,s=this.values,a=r.length;a===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let l=0;l!==a;l++){const u=r[l];if(typeof u=="number"&&isNaN(u)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,l,u),e=!1;break}if(o!==null&&o>u){console.error("THREE.KeyframeTrack: Out of order keys.",this,l,u,o),e=!1;break}o=u}if(s!==void 0&&R7(s))for(let l=0,u=s.length;l!==u;++l){const f=s[l];if(isNaN(f)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,l,f),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),r=this.getValueSize(),s=this.getInterpolation()===UA,a=e.length-1;let o=1;for(let l=1;l<a;++l){let u=!1;const f=e[l],h=e[l+1];if(f!==h&&(l!==1||f!==e[0]))if(s)u=!0;else{const p=l*r,y=p-r,_=p+r;for(let x=0;x!==r;++x){const S=n[p+x];if(S!==n[y+x]||S!==n[_+x]){u=!0;break}}}if(u){if(l!==o){e[o]=e[l];const p=l*r,y=o*r;for(let _=0;_!==r;++_)n[y+_]=n[p+_]}++o}}if(a>0){e[o]=e[a];for(let l=a*r,u=o*r,f=0;f!==r;++f)n[u+f]=n[l+f];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=n.slice(0,o*r)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),r=this.constructor,s=new r(this.name,e,n);return s.createInterpolant=this.createInterpolant,s}}kc.prototype.TimeBufferType=Float32Array;kc.prototype.ValueBufferType=Float32Array;kc.prototype.DefaultInterpolation=JM;class qy extends kc{constructor(e,n,r){super(e,n,r)}}qy.prototype.ValueTypeName="bool";qy.prototype.ValueBufferType=Array;qy.prototype.DefaultInterpolation=nS;qy.prototype.InterpolantFactoryMethodLinear=void 0;qy.prototype.InterpolantFactoryMethodSmooth=void 0;class RL extends kc{}RL.prototype.ValueTypeName="color";class hS extends kc{}hS.prototype.ValueTypeName="number";class D7 extends iE{constructor(e,n,r,s){super(e,n,r,s)}interpolate_(e,n,r,s){const a=this.resultBuffer,o=this.sampleValues,l=this.valueSize,u=(r-n)/(s-n);let f=e*l;for(let h=f+l;f!==h;f+=4)Ao.slerpFlat(a,0,o,f-l,o,f,u);return a}}class rE extends kc{InterpolantFactoryMethodLinear(e){return new D7(this.times,this.values,this.getValueSize(),e)}}rE.prototype.ValueTypeName="quaternion";rE.prototype.InterpolantFactoryMethodSmooth=void 0;class $y extends kc{constructor(e,n,r){super(e,n,r)}}$y.prototype.ValueTypeName="string";$y.prototype.ValueBufferType=Array;$y.prototype.DefaultInterpolation=nS;$y.prototype.InterpolantFactoryMethodLinear=void 0;$y.prototype.InterpolantFactoryMethodSmooth=void 0;class dS extends kc{}dS.prototype.ValueTypeName="vector";class pS{constructor(e="",n=-1,r=[],s=S2){this.name=e,this.tracks=r,this.duration=n,this.blendMode=s,this.uuid=Gl(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,s=1/(e.fps||1);for(let o=0,l=r.length;o!==l;++o)n.push(itt(r[o]).scale(s));const a=new this(e.name,e.duration,n,e.blendMode);return a.uuid=e.uuid,a}static toJSON(e){const n=[],r=e.tracks,s={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let a=0,o=r.length;a!==o;++a)n.push(kc.toJSON(r[a]));return s}static CreateFromMorphTargetSequence(e,n,r,s){const a=n.length,o=[];for(let l=0;l<a;l++){let u=[],f=[];u.push((l+a-1)%a,l,(l+1)%a),f.push(0,1,0);const h=O7(u);u=UD(u,1,h),f=UD(f,1,h),!s&&u[0]===0&&(u.push(a),f.push(f[0])),o.push(new hS(".morphTargetInfluences["+n[l].name+"]",u,f).scale(1/r))}return new this(e,-1,o)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const s=e;r=s.geometry&&s.geometry.animations||s.animations}for(let s=0;s<r.length;s++)if(r[s].name===n)return r[s];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const s={},a=/^([\w-]*?)([\d]+)$/;for(let l=0,u=e.length;l<u;l++){const f=e[l],h=f.name.match(a);if(h&&h.length>1){const p=h[1];let y=s[p];y||(s[p]=y=[]),y.push(f)}}const o=[];for(const l in s)o.push(this.CreateFromMorphTargetSequence(l,s[l],n,r));return o}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(p,y,_,x,S){if(_.length!==0){const E=[],b=[];ML(_,E,b,x),E.length!==0&&S.push(new p(y,E,b))}},s=[],a=e.name||"default",o=e.fps||30,l=e.blendMode;let u=e.length||-1;const f=e.hierarchy||[];for(let p=0;p<f.length;p++){const y=f[p].keys;if(!(!y||y.length===0))if(y[0].morphTargets){const _={};let x;for(x=0;x<y.length;x++)if(y[x].morphTargets)for(let S=0;S<y[x].morphTargets.length;S++)_[y[x].morphTargets[S]]=-1;for(const S in _){const E=[],b=[];for(let A=0;A!==y[x].morphTargets.length;++A){const C=y[x];E.push(C.time),b.push(C.morphTarget===S?1:0)}s.push(new hS(".morphTargetInfluence["+S+"]",E,b))}u=_.length*o}else{const _=".bones["+n[p].name+"]";r(dS,_+".position",y,"pos",s),r(rE,_+".quaternion",y,"rot",s),r(dS,_+".scale",y,"scl",s)}}return s.length===0?null:new this(a,u,s,l)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,s=e.length;r!==s;++r){const a=this.tracks[r];n=Math.max(n,a.times[a.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function ntt(i){switch(i.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return hS;case"vector":case"vector2":case"vector3":case"vector4":return dS;case"color":return RL;case"quaternion":return rE;case"bool":case"boolean":return qy;case"string":return $y}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+i)}function itt(i){if(i.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=ntt(i.type);if(i.times===void 0){const n=[],r=[];ML(i.keys,n,r,"value"),i.times=n,i.values=r}return e.parse!==void 0?e.parse(i):new e(i.name,i.times,i.values,i.interpolation)}const cd={enabled:!1,files:{},add:function(i,e){this.enabled!==!1&&(this.files[i]=e)},get:function(i){if(this.enabled!==!1)return this.files[i]},remove:function(i){delete this.files[i]},clear:function(){this.files={}}};class OL{constructor(e,n,r){const s=this;let a=!1,o=0,l=0,u;const f=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(h){l++,a===!1&&s.onStart!==void 0&&s.onStart(h,o,l),a=!0},this.itemEnd=function(h){o++,s.onProgress!==void 0&&s.onProgress(h,o,l),o===l&&(a=!1,s.onLoad!==void 0&&s.onLoad())},this.itemError=function(h){s.onError!==void 0&&s.onError(h)},this.resolveURL=function(h){return u?u(h):h},this.setURLModifier=function(h){return u=h,this},this.addHandler=function(h,p){return f.push(h,p),this},this.removeHandler=function(h){const p=f.indexOf(h);return p!==-1&&f.splice(p,2),this},this.getHandler=function(h){for(let p=0,y=f.length;p<y;p+=2){const _=f[p],x=f[p+1];if(_.global&&(_.lastIndex=0),_.test(h))return x}return null}}}const N7=new OL;class vl{constructor(e){this.manager=e!==void 0?e:N7,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(s,a){r.load(e,s,n,a)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}vl.DEFAULT_MATERIAL_NAME="__DEFAULT";const qh={};class rtt extends Error{constructor(e,n){super(e),this.response=n}}class wd extends vl{constructor(e){super(e)}load(e,n,r,s){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=cd.get(e);if(a!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(a),this.manager.itemEnd(e)},0),a;if(qh[e]!==void 0){qh[e].push({onLoad:n,onProgress:r,onError:s});return}qh[e]=[],qh[e].push({onLoad:n,onProgress:r,onError:s});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),l=this.mimeType,u=this.responseType;fetch(o).then(f=>{if(f.status===200||f.status===0){if(f.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||f.body===void 0||f.body.getReader===void 0)return f;const h=qh[e],p=f.body.getReader(),y=f.headers.get("X-File-Size")||f.headers.get("Content-Length"),_=y?parseInt(y):0,x=_!==0;let S=0;const E=new ReadableStream({start(b){A();function A(){p.read().then(({done:C,value:M})=>{if(C)b.close();else{S+=M.byteLength;const I=new ProgressEvent("progress",{lengthComputable:x,loaded:S,total:_});for(let k=0,N=h.length;k<N;k++){const L=h[k];L.onProgress&&L.onProgress(I)}b.enqueue(M),A()}},C=>{b.error(C)})}}});return new Response(E)}else throw new rtt(`fetch for "${f.url}" responded with ${f.status}: ${f.statusText}`,f)}).then(f=>{switch(u){case"arraybuffer":return f.arrayBuffer();case"blob":return f.blob();case"document":return f.text().then(h=>new DOMParser().parseFromString(h,l));case"json":return f.json();default:if(l===void 0)return f.text();{const p=/charset="?([^;"\s]*)"?/i.exec(l),y=p&&p[1]?p[1].toLowerCase():void 0,_=new TextDecoder(y);return f.arrayBuffer().then(x=>_.decode(x))}}}).then(f=>{cd.add(e,f);const h=qh[e];delete qh[e];for(let p=0,y=h.length;p<y;p++){const _=h[p];_.onLoad&&_.onLoad(f)}}).catch(f=>{const h=qh[e];if(h===void 0)throw this.manager.itemError(e),f;delete qh[e];for(let p=0,y=h.length;p<y;p++){const _=h[p];_.onError&&_.onError(f)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class stt extends vl{constructor(e){super(e)}load(e,n,r,s){const a=this,o=new wd(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{n(a.parse(JSON.parse(l)))}catch(u){s?s(u):console.error(u),a.manager.itemError(e)}},r,s)}parse(e){const n=[];for(let r=0;r<e.length;r++){const s=pS.parse(e[r]);n.push(s)}return n}}class att extends vl{constructor(e){super(e)}load(e,n,r,s){const a=this,o=[],l=new I2,u=new wd(this.manager);u.setPath(this.path),u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setWithCredentials(a.withCredentials);let f=0;function h(p){u.load(e[p],function(y){const _=a.parse(y,!0);o[p]={width:_.width,height:_.height,format:_.format,mipmaps:_.mipmaps},f+=1,f===6&&(_.mipmapCount===1&&(l.minFilter=zs),l.image=o,l.format=_.format,l.needsUpdate=!0,n&&n(l))},r,s)}if(Array.isArray(e))for(let p=0,y=e.length;p<y;++p)h(p);else u.load(e,function(p){const y=a.parse(p,!0);if(y.isCubemap){const _=y.mipmaps.length/y.mipmapCount;for(let x=0;x<_;x++){o[x]={mipmaps:[]};for(let S=0;S<y.mipmapCount;S++)o[x].mipmaps.push(y.mipmaps[x*y.mipmapCount+S]),o[x].format=y.format,o[x].width=y.width,o[x].height=y.height}l.image=o}else l.image.width=y.width,l.image.height=y.height,l.mipmaps=y.mipmaps;y.mipmapCount===1&&(l.minFilter=zs),l.format=y.format,l.needsUpdate=!0,n&&n(l)},r,s);return l}}class mS extends vl{constructor(e){super(e)}load(e,n,r,s){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,o=cd.get(e);if(o!==void 0)return a.manager.itemStart(e),setTimeout(function(){n&&n(o),a.manager.itemEnd(e)},0),o;const l=oS("img");function u(){h(),cd.add(e,this),n&&n(this),a.manager.itemEnd(e)}function f(p){h(),s&&s(p),a.manager.itemError(e),a.manager.itemEnd(e)}function h(){l.removeEventListener("load",u,!1),l.removeEventListener("error",f,!1)}return l.addEventListener("load",u,!1),l.addEventListener("error",f,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(l.crossOrigin=this.crossOrigin),a.manager.itemStart(e),l.src=e,l}}class ott extends vl{constructor(e){super(e)}load(e,n,r,s){const a=new ZS;a.colorSpace=ma;const o=new mS(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let l=0;function u(f){o.load(e[f],function(h){a.images[f]=h,l++,l===6&&(a.needsUpdate=!0,n&&n(a))},void 0,s)}for(let f=0;f<e.length;++f)u(f);return a}}class ltt extends vl{constructor(e){super(e)}load(e,n,r,s){const a=this,o=new qf,l=new wd(this.manager);return l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setPath(this.path),l.setWithCredentials(a.withCredentials),l.load(e,function(u){let f;try{f=a.parse(u)}catch(h){if(s!==void 0)s(h);else{console.error(h);return}}f.image!==void 0?o.image=f.image:f.data!==void 0&&(o.image.width=f.width,o.image.height=f.height,o.image.data=f.data),o.wrapS=f.wrapS!==void 0?f.wrapS:Pu,o.wrapT=f.wrapT!==void 0?f.wrapT:Pu,o.magFilter=f.magFilter!==void 0?f.magFilter:zs,o.minFilter=f.minFilter!==void 0?f.minFilter:zs,o.anisotropy=f.anisotropy!==void 0?f.anisotropy:1,f.colorSpace!==void 0&&(o.colorSpace=f.colorSpace),f.flipY!==void 0&&(o.flipY=f.flipY),f.format!==void 0&&(o.format=f.format),f.type!==void 0&&(o.type=f.type),f.mipmaps!==void 0&&(o.mipmaps=f.mipmaps,o.minFilter=Bf),f.mipmapCount===1&&(o.minFilter=zs),f.generateMipmaps!==void 0&&(o.generateMipmaps=f.generateMipmaps),o.needsUpdate=!0,n&&n(o,f)},r,s),o}}class utt extends vl{constructor(e){super(e)}load(e,n,r,s){const a=new is,o=new mS(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(l){a.image=l,a.needsUpdate=!0,n!==void 0&&n(a)},r,s),a}}class Am extends Ti{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new Fe(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(n.object.target=this.target.uuid),n}}class L7 extends Am{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Ti.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Fe(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const TI=new gn,Qz=new pt,Jz=new pt;class IL{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new pe(512,512),this.map=null,this.mapPass=null,this.matrix=new gn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new QS,this._frameExtents=new pe(1,1),this._viewportCount=1,this._viewports=[new xi(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;Qz.setFromMatrixPosition(e.matrixWorld),n.position.copy(Qz),Jz.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(Jz),n.updateMatrixWorld(),TI.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(TI),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(TI)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class ctt extends IL{constructor(){super(new Qs(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,r=h_*2*e.angle*this.focus,s=this.mapSize.width/this.mapSize.height,a=e.distance||n.far;(r!==n.fov||s!==n.aspect||a!==n.far)&&(n.fov=r,n.aspect=s,n.far=a,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class U7 extends Am{constructor(e,n,r=0,s=Math.PI/3,a=0,o=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Ti.DEFAULT_UP),this.updateMatrix(),this.target=new Ti,this.distance=r,this.angle=s,this.penumbra=a,this.decay=o,this.map=null,this.shadow=new ctt}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const t5=new gn,Mx=new pt,wI=new pt;class ftt extends IL{constructor(){super(new Qs(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new pe(4,2),this._viewportCount=6,this._viewports=[new xi(2,1,1,1),new xi(0,1,1,1),new xi(3,1,1,1),new xi(1,1,1,1),new xi(3,0,1,1),new xi(1,0,1,1)],this._cubeDirections=[new pt(1,0,0),new pt(-1,0,0),new pt(0,0,1),new pt(0,0,-1),new pt(0,1,0),new pt(0,-1,0)],this._cubeUps=[new pt(0,1,0),new pt(0,1,0),new pt(0,1,0),new pt(0,1,0),new pt(0,0,1),new pt(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,s=this.matrix,a=e.distance||r.far;a!==r.far&&(r.far=a,r.updateProjectionMatrix()),Mx.setFromMatrixPosition(e.matrixWorld),r.position.copy(Mx),wI.copy(r.position),wI.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(wI),r.updateMatrixWorld(),s.makeTranslation(-Mx.x,-Mx.y,-Mx.z),t5.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(t5)}}class k7 extends Am{constructor(e,n,r=0,s=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=s,this.shadow=new ftt}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class sE extends w2{constructor(e=-1,n=1,r=1,s=-1,a=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=s,this.near=a,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,s,a,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=s,this.view.width=a,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,s=(this.top+this.bottom)/2;let a=r-e,o=r+e,l=s+n,u=s-n;if(this.view!==null&&this.view.enabled){const f=(this.right-this.left)/this.view.fullWidth/this.zoom,h=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=f*this.view.offsetX,o=a+f*this.view.width,l-=h*this.view.offsetY,u=l-h*this.view.height}this.projectionMatrix.makeOrthographic(a,o,l,u,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}class htt extends IL{constructor(){super(new sE(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class z7 extends Am{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Ti.DEFAULT_UP),this.updateMatrix(),this.target=new Ti,this.shadow=new htt}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class B7 extends Am{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class F7 extends Am{constructor(e,n,r=10,s=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=s}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class V7{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new pt)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,s=e.y,a=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.282095),n.addScaledVector(o[1],.488603*s),n.addScaledVector(o[2],.488603*a),n.addScaledVector(o[3],.488603*r),n.addScaledVector(o[4],1.092548*(r*s)),n.addScaledVector(o[5],1.092548*(s*a)),n.addScaledVector(o[6],.315392*(3*a*a-1)),n.addScaledVector(o[7],1.092548*(r*a)),n.addScaledVector(o[8],.546274*(r*r-s*s)),n}getIrradianceAt(e,n){const r=e.x,s=e.y,a=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.886227),n.addScaledVector(o[1],2*.511664*s),n.addScaledVector(o[2],2*.511664*a),n.addScaledVector(o[3],2*.511664*r),n.addScaledVector(o[4],2*.429043*r*s),n.addScaledVector(o[5],2*.429043*s*a),n.addScaledVector(o[6],.743125*a*a-.247708),n.addScaledVector(o[7],2*.429043*r*a),n.addScaledVector(o[8],.429043*(r*r-s*s)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let s=0;s<9;s++)r[s].fromArray(e,n+s*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let s=0;s<9;s++)r[s].toArray(e,n+s*3);return e}static getBasisAt(e,n){const r=e.x,s=e.y,a=e.z;n[0]=.282095,n[1]=.488603*s,n[2]=.488603*a,n[3]=.488603*r,n[4]=1.092548*r*s,n[5]=1.092548*s*a,n[6]=.315392*(3*a*a-1),n[7]=1.092548*r*a,n[8]=.546274*(r*r-s*s)}}class H7 extends Am{constructor(e=new V7,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class $2 extends vl{constructor(e){super(e),this.textures={}}load(e,n,r,s){const a=this,o=new wd(a.manager);o.setPath(a.path),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(e,function(l){try{n(a.parse(JSON.parse(l)))}catch(u){s?s(u):console.error(u),a.manager.itemError(e)}},r,s)}parse(e){const n=this.textures;function r(a){return n[a]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",a),n[a]}const s=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(s.uuid=e.uuid),e.name!==void 0&&(s.name=e.name),e.color!==void 0&&s.color!==void 0&&s.color.setHex(e.color),e.roughness!==void 0&&(s.roughness=e.roughness),e.metalness!==void 0&&(s.metalness=e.metalness),e.sheen!==void 0&&(s.sheen=e.sheen),e.sheenColor!==void 0&&(s.sheenColor=new Fe().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(s.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&s.emissive!==void 0&&s.emissive.setHex(e.emissive),e.specular!==void 0&&s.specular!==void 0&&s.specular.setHex(e.specular),e.specularIntensity!==void 0&&(s.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&s.specularColor!==void 0&&s.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(s.shininess=e.shininess),e.clearcoat!==void 0&&(s.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(s.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(s.dispersion=e.dispersion),e.iridescence!==void 0&&(s.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(s.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(s.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(s.transmission=e.transmission),e.thickness!==void 0&&(s.thickness=e.thickness),e.attenuationDistance!==void 0&&(s.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&s.attenuationColor!==void 0&&s.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(s.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(s.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(s.fog=e.fog),e.flatShading!==void 0&&(s.flatShading=e.flatShading),e.blending!==void 0&&(s.blending=e.blending),e.combine!==void 0&&(s.combine=e.combine),e.side!==void 0&&(s.side=e.side),e.shadowSide!==void 0&&(s.shadowSide=e.shadowSide),e.opacity!==void 0&&(s.opacity=e.opacity),e.transparent!==void 0&&(s.transparent=e.transparent),e.alphaTest!==void 0&&(s.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(s.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(s.depthFunc=e.depthFunc),e.depthTest!==void 0&&(s.depthTest=e.depthTest),e.depthWrite!==void 0&&(s.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(s.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(s.blendSrc=e.blendSrc),e.blendDst!==void 0&&(s.blendDst=e.blendDst),e.blendEquation!==void 0&&(s.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(s.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(s.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(s.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&s.blendColor!==void 0&&s.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(s.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(s.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(s.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(s.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(s.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(s.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(s.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(s.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(s.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(s.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(s.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(s.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(s.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(s.rotation=e.rotation),e.linewidth!==void 0&&(s.linewidth=e.linewidth),e.dashSize!==void 0&&(s.dashSize=e.dashSize),e.gapSize!==void 0&&(s.gapSize=e.gapSize),e.scale!==void 0&&(s.scale=e.scale),e.polygonOffset!==void 0&&(s.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(s.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(s.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(s.dithering=e.dithering),e.alphaToCoverage!==void 0&&(s.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(s.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(s.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(s.visible=e.visible),e.toneMapped!==void 0&&(s.toneMapped=e.toneMapped),e.userData!==void 0&&(s.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?s.vertexColors=e.vertexColors>0:s.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const a in e.uniforms){const o=e.uniforms[a];switch(s.uniforms[a]={},o.type){case"t":s.uniforms[a].value=r(o.value);break;case"c":s.uniforms[a].value=new Fe().setHex(o.value);break;case"v2":s.uniforms[a].value=new pe().fromArray(o.value);break;case"v3":s.uniforms[a].value=new pt().fromArray(o.value);break;case"v4":s.uniforms[a].value=new xi().fromArray(o.value);break;case"m3":s.uniforms[a].value=new Fn().fromArray(o.value);break;case"m4":s.uniforms[a].value=new gn().fromArray(o.value);break;default:s.uniforms[a].value=o.value}}if(e.defines!==void 0&&(s.defines=e.defines),e.vertexShader!==void 0&&(s.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(s.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(s.glslVersion=e.glslVersion),e.extensions!==void 0)for(const a in e.extensions)s.extensions[a]=e.extensions[a];if(e.lights!==void 0&&(s.lights=e.lights),e.clipping!==void 0&&(s.clipping=e.clipping),e.size!==void 0&&(s.size=e.size),e.sizeAttenuation!==void 0&&(s.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(s.map=r(e.map)),e.matcap!==void 0&&(s.matcap=r(e.matcap)),e.alphaMap!==void 0&&(s.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(s.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(s.bumpScale=e.bumpScale),e.normalMap!==void 0&&(s.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(s.normalMapType=e.normalMapType),e.normalScale!==void 0){let a=e.normalScale;Array.isArray(a)===!1&&(a=[a,a]),s.normalScale=new pe().fromArray(a)}return e.displacementMap!==void 0&&(s.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(s.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(s.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(s.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(s.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(s.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(s.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(s.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(s.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(s.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(s.envMap=r(e.envMap)),e.envMapRotation!==void 0&&s.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(s.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(s.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(s.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(s.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(s.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(s.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(s.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(s.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(s.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(s.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(s.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(s.clearcoatNormalScale=new pe().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(s.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(s.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(s.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(s.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(s.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(s.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(s.sheenRoughnessMap=r(e.sheenRoughnessMap)),s}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return $2.createMaterialFromType(e)}static createMaterialFromType(e){const n={ShadowMaterial:x7,SpriteMaterial:R2,RawShaderMaterial:S7,ShaderMaterial:ku,PointsMaterial:gL,MeshPhysicalMaterial:E7,MeshStandardMaterial:q2,MeshPhongMaterial:T7,MeshToonMaterial:w7,MeshNormalMaterial:A7,MeshLambertMaterial:TL,MeshDepthMaterial:wL,MeshDistanceMaterial:AL,MeshBasicMaterial:Tm,MeshMatcapMaterial:M7,LineDashedMaterial:C7,LineBasicMaterial:Qa,Material:Za};return new n[e]}}class kD{static decodeText(e){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let r=0,s=e.length;r<s;r++)n+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class j7 extends qn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class G7 extends vl{constructor(e){super(e)}load(e,n,r,s){const a=this,o=new wd(a.manager);o.setPath(a.path),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(e,function(l){try{n(a.parse(JSON.parse(l)))}catch(u){s?s(u):console.error(u),a.manager.itemError(e)}},r,s)}parse(e){const n={},r={};function s(_,x){if(n[x]!==void 0)return n[x];const E=_.interleavedBuffers[x],b=a(_,E.buffer),A=qv(E.type,b),C=new C2(A,E.stride);return C.uuid=E.uuid,n[x]=C,C}function a(_,x){if(r[x]!==void 0)return r[x];const E=_.arrayBuffers[x],b=new Uint32Array(E).buffer;return r[x]=b,b}const o=e.isInstancedBufferGeometry?new j7:new qn,l=e.data.index;if(l!==void 0){const _=qv(l.type,l.array);o.setIndex(new $i(_,1))}const u=e.data.attributes;for(const _ in u){const x=u[_];let S;if(x.isInterleavedBufferAttribute){const E=s(e.data,x.data);S=new Ay(E,x.itemSize,x.offset,x.normalized)}else{const E=qv(x.type,x.array),b=x.isInstancedBufferAttribute?m_:$i;S=new b(E,x.itemSize,x.normalized)}x.name!==void 0&&(S.name=x.name),x.usage!==void 0&&S.setUsage(x.usage),o.setAttribute(_,S)}const f=e.data.morphAttributes;if(f)for(const _ in f){const x=f[_],S=[];for(let E=0,b=x.length;E<b;E++){const A=x[E];let C;if(A.isInterleavedBufferAttribute){const M=s(e.data,A.data);C=new Ay(M,A.itemSize,A.offset,A.normalized)}else{const M=qv(A.type,A.array);C=new $i(M,A.itemSize,A.normalized)}A.name!==void 0&&(C.name=A.name),S.push(C)}o.morphAttributes[_]=S}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const p=e.data.groups||e.data.drawcalls||e.data.offsets;if(p!==void 0)for(let _=0,x=p.length;_!==x;++_){const S=p[_];o.addGroup(S.start,S.count,S.materialIndex)}const y=e.data.boundingSphere;if(y!==void 0){const _=new pt;y.center!==void 0&&_.fromArray(y.center),o.boundingSphere=new ba(_,y.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class dtt extends vl{constructor(e){super(e)}load(e,n,r,s){const a=this,o=this.path===""?kD.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const l=new wd(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(u){let f=null;try{f=JSON.parse(u)}catch(p){s!==void 0&&s(p),console.error("THREE:ObjectLoader: Can't parse "+e+".",p.message);return}const h=f.metadata;if(h===void 0||h.type===void 0||h.type.toLowerCase()==="geometry"){s!==void 0&&s(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}a.parse(f,n)},r,s)}async loadAsync(e,n){const r=this,s=this.path===""?kD.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||s;const a=new wd(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials);const o=await a.loadAsync(e,n),l=JSON.parse(o),u=l.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(l)}parse(e,n){const r=this.parseAnimations(e.animations),s=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,s),o=this.parseImages(e.images,function(){n!==void 0&&n(f)}),l=this.parseTextures(e.textures,o),u=this.parseMaterials(e.materials,l),f=this.parseObject(e.object,a,u,l,r),h=this.parseSkeletons(e.skeletons,f);if(this.bindSkeletons(f,h),this.bindLightTargets(f),n!==void 0){let p=!1;for(const y in o)if(o[y].data instanceof HTMLImageElement){p=!0;break}p===!1&&n(f)}return f}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),a=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,a),l=this.parseMaterials(e.materials,o),u=this.parseObject(e.object,s,l,o,n),f=this.parseSkeletons(e.skeletons,u);return this.bindSkeletons(u,f),this.bindLightTargets(u),u}parseShapes(e){const n={};if(e!==void 0)for(let r=0,s=e.length;r<s;r++){const a=new hy().fromJSON(e[r]);n[a.uuid]=a}return n}parseSkeletons(e,n){const r={},s={};if(n.traverse(function(a){a.isBone&&(s[a.uuid]=a)}),e!==void 0)for(let a=0,o=e.length;a<o;a++){const l=new O2().fromJSON(e[a],s);r[l.uuid]=l}return r}parseGeometries(e,n){const r={};if(e!==void 0){const s=new G7;for(let a=0,o=e.length;a<o;a++){let l;const u=e[a];switch(u.type){case"BufferGeometry":case"InstancedBufferGeometry":l=s.parse(u);break;default:u.type in Zz?l=Zz[u.type].fromJSON(u,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${u.type}"`)}l.uuid=u.uuid,u.name!==void 0&&(l.name=u.name),u.userData!==void 0&&(l.userData=u.userData),r[u.uuid]=l}}return r}parseMaterials(e,n){const r={},s={};if(e!==void 0){const a=new $2;a.setTextures(n);for(let o=0,l=e.length;o<l;o++){const u=e[o];r[u.uuid]===void 0&&(r[u.uuid]=a.parse(u)),s[u.uuid]=r[u.uuid]}}return s}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const s=e[r],a=pS.parse(s);n[a.uuid]=a}return n}parseImages(e,n){const r=this,s={};let a;function o(u){return r.manager.itemStart(u),a.load(u,function(){r.manager.itemEnd(u)},void 0,function(){r.manager.itemError(u),r.manager.itemEnd(u)})}function l(u){if(typeof u=="string"){const f=u,h=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(f)?f:r.resourcePath+f;return o(h)}else return u.data?{data:qv(u.type,u.data),width:u.width,height:u.height}:null}if(e!==void 0&&e.length>0){const u=new OL(n);a=new mS(u),a.setCrossOrigin(this.crossOrigin);for(let f=0,h=e.length;f<h;f++){const p=e[f],y=p.url;if(Array.isArray(y)){const _=[];for(let x=0,S=y.length;x<S;x++){const E=y[x],b=l(E);b!==null&&(b instanceof HTMLImageElement?_.push(b):_.push(new qf(b.data,b.width,b.height)))}s[p.uuid]=new Kp(_)}else{const _=l(p.url);s[p.uuid]=new Kp(_)}}}return s}async parseImagesAsync(e){const n=this,r={};let s;async function a(o){if(typeof o=="string"){const l=o,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l)?l:n.resourcePath+l;return await s.loadAsync(u)}else return o.data?{data:qv(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){s=new mS(this.manager),s.setCrossOrigin(this.crossOrigin);for(let o=0,l=e.length;o<l;o++){const u=e[o],f=u.url;if(Array.isArray(f)){const h=[];for(let p=0,y=f.length;p<y;p++){const _=f[p],x=await a(_);x!==null&&(x instanceof HTMLImageElement?h.push(x):h.push(new qf(x.data,x.width,x.height)))}r[u.uuid]=new Kp(h)}else{const h=await a(u.url);r[u.uuid]=new Kp(h)}}}return r}parseTextures(e,n){function r(a,o){return typeof a=="number"?a:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",a),o[a])}const s={};if(e!==void 0)for(let a=0,o=e.length;a<o;a++){const l=e[a];l.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',l.uuid),n[l.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",l.image);const u=n[l.image],f=u.data;let h;Array.isArray(f)?(h=new ZS,f.length===6&&(h.needsUpdate=!0)):(f&&f.data?h=new qf:h=new is,f&&(h.needsUpdate=!0)),h.source=u,h.uuid=l.uuid,l.name!==void 0&&(h.name=l.name),l.mapping!==void 0&&(h.mapping=r(l.mapping,ptt)),l.channel!==void 0&&(h.channel=l.channel),l.offset!==void 0&&h.offset.fromArray(l.offset),l.repeat!==void 0&&h.repeat.fromArray(l.repeat),l.center!==void 0&&h.center.fromArray(l.center),l.rotation!==void 0&&(h.rotation=l.rotation),l.wrap!==void 0&&(h.wrapS=r(l.wrap[0],e5),h.wrapT=r(l.wrap[1],e5)),l.format!==void 0&&(h.format=l.format),l.internalFormat!==void 0&&(h.internalFormat=l.internalFormat),l.type!==void 0&&(h.type=l.type),l.colorSpace!==void 0&&(h.colorSpace=l.colorSpace),l.minFilter!==void 0&&(h.minFilter=r(l.minFilter,n5)),l.magFilter!==void 0&&(h.magFilter=r(l.magFilter,n5)),l.anisotropy!==void 0&&(h.anisotropy=l.anisotropy),l.flipY!==void 0&&(h.flipY=l.flipY),l.generateMipmaps!==void 0&&(h.generateMipmaps=l.generateMipmaps),l.premultiplyAlpha!==void 0&&(h.premultiplyAlpha=l.premultiplyAlpha),l.unpackAlignment!==void 0&&(h.unpackAlignment=l.unpackAlignment),l.compareFunction!==void 0&&(h.compareFunction=l.compareFunction),l.userData!==void 0&&(h.userData=l.userData),s[l.uuid]=h}return s}parseObject(e,n,r,s,a){let o;function l(y){return n[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",y),n[y]}function u(y){if(y!==void 0){if(Array.isArray(y)){const _=[];for(let x=0,S=y.length;x<S;x++){const E=y[x];r[E]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",E),_.push(r[E])}return _}return r[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",y),r[y]}}function f(y){return s[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",y),s[y]}let h,p;switch(e.type){case"Scene":o=new dL,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Fe(e.background):o.background=f(e.background)),e.environment!==void 0&&(o.environment=f(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new M2(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new A2(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&o.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(o.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&o.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":o=new Qs(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new sE(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new B7(e.color,e.intensity);break;case"DirectionalLight":o=new z7(e.color,e.intensity),o.target=e.target||"";break;case"PointLight":o=new k7(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new F7(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new U7(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),o.target=e.target||"";break;case"HemisphereLight":o=new L7(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new H7().fromJSON(e);break;case"SkinnedMesh":h=l(e.geometry),p=u(e.material),o=new s7(h,p),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":h=l(e.geometry),p=u(e.material),o=new es(h,p);break;case"InstancedMesh":h=l(e.geometry),p=u(e.material);const y=e.count,_=e.instanceMatrix,x=e.instanceColor;o=new a7(h,p,y),o.instanceMatrix=new m_(new Float32Array(_.array),16),x!==void 0&&(o.instanceColor=new m_(new Float32Array(x.array),x.itemSize));break;case"BatchedMesh":h=l(e.geometry),p=u(e.material),o=new o7(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,p),o.geometry=h,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._visibility=e.visibility,o._active=e.active,o._bounds=e.bounds.map(S=>{const E=new _a;E.min.fromArray(S.boxMin),E.max.fromArray(S.boxMax);const b=new ba;return b.radius=S.sphereRadius,b.center.fromArray(S.sphereCenter),{boxInitialized:S.boxInitialized,box:E,sphereInitialized:S.sphereInitialized,sphere:b}}),o._maxInstanceCount=e.maxInstanceCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._geometryCount=e.geometryCount,o._matricesTexture=f(e.matricesTexture.uuid),e.colorsTexture!==void 0&&(o._colorsTexture=f(e.colorsTexture.uuid));break;case"LOD":o=new r7;break;case"Line":o=new Td(l(e.geometry),u(e.material));break;case"LineLoop":o=new l7(l(e.geometry),u(e.material));break;case"LineSegments":o=new uh(l(e.geometry),u(e.material));break;case"PointCloud":case"Points":o=new u7(l(e.geometry),u(e.material));break;case"Sprite":o=new pL(u(e.material));break;case"Group":o=new ud;break;case"Bone":o=new mL;break;default:o=new Ti}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(o.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const y=e.children;for(let _=0;_<y.length;_++)o.add(this.parseObject(y[_],n,r,s,a))}if(e.animations!==void 0){const y=e.animations;for(let _=0;_<y.length;_++){const x=y[_];o.animations.push(a[x])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const y=e.levels;for(let _=0;_<y.length;_++){const x=y[_],S=o.getObjectByProperty("uuid",x.object);S!==void 0&&o.addLevel(S,x.distance,x.hysteresis)}}return o}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const s=n[r.skeleton];s===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(s,r.bindMatrix)}})}bindLightTargets(e){e.traverse(function(n){if(n.isDirectionalLight||n.isSpotLight){const r=n.target,s=e.getObjectByProperty("uuid",r);s!==void 0?n.target=s:n.target=new Ti}})}}const ptt={UVMapping:m2,CubeReflectionMapping:Sd,CubeRefractionMapping:fm,EquirectangularReflectionMapping:Q1,EquirectangularRefractionMapping:J1,CubeUVReflectionMapping:$_},e5={RepeatWrapping:tS,ClampToEdgeWrapping:Pu,MirroredRepeatWrapping:eS},n5={NearestFilter:va,NearestMipmapNearestFilter:QN,NearestMipmapLinearFilter:Gv,LinearFilter:zs,LinearMipmapNearestFilter:E1,LinearMipmapLinearFilter:Bf};class mtt extends vl{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,s){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,o=cd.get(e);if(o!==void 0){if(a.manager.itemStart(e),o.then){o.then(f=>{n&&n(f),a.manager.itemEnd(e)}).catch(f=>{s&&s(f)});return}return setTimeout(function(){n&&n(o),a.manager.itemEnd(e)},0),o}const l={};l.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",l.headers=this.requestHeader;const u=fetch(e,l).then(function(f){return f.blob()}).then(function(f){return createImageBitmap(f,Object.assign(a.options,{colorSpaceConversion:"none"}))}).then(function(f){return cd.add(e,f),n&&n(f),a.manager.itemEnd(e),f}).catch(function(f){s&&s(f),cd.remove(e),a.manager.itemError(e),a.manager.itemEnd(e)});cd.add(e,u),a.manager.itemStart(e)}}let Aw;class PL{static getContext(){return Aw===void 0&&(Aw=new(window.AudioContext||window.webkitAudioContext)),Aw}static setContext(e){Aw=e}}class gtt extends vl{constructor(e){super(e)}load(e,n,r,s){const a=this,o=new wd(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(u){try{const f=u.slice(0);PL.getContext().decodeAudioData(f,function(p){n(p)}).catch(l)}catch(f){l(f)}},r,s);function l(u){s?s(u):console.error(u),a.manager.itemError(e)}}}const i5=new gn,r5=new gn,Eg=new gn;class ytt{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Qs,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Qs,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,Eg.copy(e.projectionMatrix);const s=n.eyeSep/2,a=s*n.near/n.focus,o=n.near*Math.tan(fy*n.fov*.5)/n.zoom;let l,u;r5.elements[12]=-s,i5.elements[12]=s,l=-o*n.aspect+a,u=o*n.aspect+a,Eg.elements[0]=2*n.near/(u-l),Eg.elements[8]=(u+l)/(u-l),this.cameraL.projectionMatrix.copy(Eg),l=-o*n.aspect-a,u=o*n.aspect-a,Eg.elements[0]=2*n.near/(u-l),Eg.elements[8]=(u+l)/(u-l),this.cameraR.projectionMatrix.copy(Eg)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(r5),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(i5)}}class q7 extends Qs{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e,this.index=0}}class DL{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=s5(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=s5();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function s5(){return performance.now()}const Tg=new pt,a5=new Ao,vtt=new pt,wg=new pt;class _tt extends Ti{constructor(){super(),this.type="AudioListener",this.context=PL.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new DL}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Tg,a5,vtt),wg.set(0,0,-1).applyQuaternion(a5),n.positionX){const s=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(Tg.x,s),n.positionY.linearRampToValueAtTime(Tg.y,s),n.positionZ.linearRampToValueAtTime(Tg.z,s),n.forwardX.linearRampToValueAtTime(wg.x,s),n.forwardY.linearRampToValueAtTime(wg.y,s),n.forwardZ.linearRampToValueAtTime(wg.z,s),n.upX.linearRampToValueAtTime(r.x,s),n.upY.linearRampToValueAtTime(r.y,s),n.upZ.linearRampToValueAtTime(r.z,s)}else n.setPosition(Tg.x,Tg.y,Tg.z),n.setOrientation(wg.x,wg.y,wg.z,r.x,r.y,r.z)}}class $7 extends Ti{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,n){return super.copy(e,n),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const Ag=new pt,o5=new Ao,btt=new pt,Mg=new pt;class xtt extends $7{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Ag,o5,btt),Mg.set(0,0,1).applyQuaternion(o5);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(Ag.x,r),n.positionY.linearRampToValueAtTime(Ag.y,r),n.positionZ.linearRampToValueAtTime(Ag.z,r),n.orientationX.linearRampToValueAtTime(Mg.x,r),n.orientationY.linearRampToValueAtTime(Mg.y,r),n.orientationZ.linearRampToValueAtTime(Mg.z,r)}else n.setPosition(Ag.x,Ag.y,Ag.z),n.setOrientation(Mg.x,Mg.y,Mg.z)}}class Stt{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class W7{constructor(e,n,r){this.binding=e,this.valueSize=r;let s,a,o;switch(n){case"quaternion":s=this._slerp,a=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":s=this._select,a=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:s=this._lerp,a=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=s,this._mixBufferRegionAdditive=a,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,s=this.valueSize,a=e*s+s;let o=this.cumulativeWeight;if(o===0){for(let l=0;l!==s;++l)r[a+l]=r[l];o=n}else{o+=n;const l=n/o;this._mixBufferRegion(r,a,0,l,s)}this.cumulativeWeight=o}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,s=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,s,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,s=e*n+n,a=this.cumulativeWeight,o=this.cumulativeWeightAdditive,l=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,a<1){const u=n*this._origIndex;this._mixBufferRegion(r,s,u,1-a,n)}o>0&&this._mixBufferRegionAdditive(r,s,this._addIndex*n,1,n);for(let u=n,f=n+n;u!==f;++u)if(r[u]!==r[u+n]){l.setValue(r,s);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,s=r*this._origIndex;e.getValue(n,s);for(let a=r,o=s;a!==o;++a)n[a]=n[s+a%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,s,a){if(s>=.5)for(let o=0;o!==a;++o)e[n+o]=e[r+o]}_slerp(e,n,r,s){Ao.slerpFlat(e,n,e,n,e,r,s)}_slerpAdditive(e,n,r,s,a){const o=this._workIndex*a;Ao.multiplyQuaternionsFlat(e,o,e,n,e,r),Ao.slerpFlat(e,n,e,n,e,o,s)}_lerp(e,n,r,s,a){const o=1-s;for(let l=0;l!==a;++l){const u=n+l;e[u]=e[u]*o+e[r+l]*s}}_lerpAdditive(e,n,r,s,a){for(let o=0;o!==a;++o){const l=n+o;e[l]=e[l]+e[r+o]*s}}}const NL="\\[\\]\\.:\\/",Ett=new RegExp("["+NL+"]","g"),LL="[^"+NL+"]",Ttt="[^"+NL.replace("\\.","")+"]",wtt=/((?:WC+[\/:])*)/.source.replace("WC",LL),Att=/(WCOD+)?/.source.replace("WCOD",Ttt),Mtt=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",LL),Ctt=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",LL),Rtt=new RegExp("^"+wtt+Att+Mtt+Ctt+"$"),Ott=["material","materials","bones","map"];class Itt{constructor(e,n,r){const s=r||Ei.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,s)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,s=this._bindings[r];s!==void 0&&s.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let s=this._targetGroup.nCachedObjects_,a=r.length;s!==a;++s)r[s].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class Ei{constructor(e,n,r){this.path=n,this.parsedPath=r||Ei.parseTrackName(n),this.node=Ei.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new Ei.Composite(e,n,r):new Ei(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Ett,"")}static parseTrackName(e){const n=Rtt.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},s=r.nodeName&&r.nodeName.lastIndexOf(".");if(s!==void 0&&s!==-1){const a=r.nodeName.substring(s+1);Ott.indexOf(a)!==-1&&(r.nodeName=r.nodeName.substring(0,s),r.objectName=a)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(a){for(let o=0;o<a.length;o++){const l=a[o];if(l.name===n||l.uuid===n)return l;const u=r(l.children);if(u)return u}return null},s=r(e.children);if(s)return s}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let s=0,a=r.length;s!==a;++s)e[n++]=r[s]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let s=0,a=r.length;s!==a;++s)r[s]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let s=0,a=r.length;s!==a;++s)r[s]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let s=0,a=r.length;s!==a;++s)r[s]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,s=n.propertyName;let a=n.propertyIndex;if(e||(e=Ei.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let f=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let h=0;h<e.length;h++)if(e[h].name===f){f=h;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(f!==void 0){if(e[f]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[f]}}const o=e[s];if(o===void 0){const f=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+f+"."+s+" but it wasn't found.",e);return}let l=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?l=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(l=this.Versioning.MatrixWorldNeedsUpdate);let u=this.BindingType.Direct;if(a!==void 0){if(s==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[a]!==void 0&&(a=e.morphTargetDictionary[a])}u=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=a}else o.fromArray!==void 0&&o.toArray!==void 0?(u=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(u=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=s;this.getValue=this.GetterByBindingType[u],this.setValue=this.SetterByBindingTypeAndVersioning[u][l]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Ei.Composite=Itt;Ei.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Ei.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Ei.prototype.GetterByBindingType=[Ei.prototype._getValue_direct,Ei.prototype._getValue_array,Ei.prototype._getValue_arrayElement,Ei.prototype._getValue_toArray];Ei.prototype.SetterByBindingTypeAndVersioning=[[Ei.prototype._setValue_direct,Ei.prototype._setValue_direct_setNeedsUpdate,Ei.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Ei.prototype._setValue_array,Ei.prototype._setValue_array_setNeedsUpdate,Ei.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Ei.prototype._setValue_arrayElement,Ei.prototype._setValue_arrayElement_setNeedsUpdate,Ei.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Ei.prototype._setValue_fromArray,Ei.prototype._setValue_fromArray_setNeedsUpdate,Ei.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Ptt{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Gl(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,s=arguments.length;r!==s;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,s=this._parsedPaths,a=this._bindings,o=a.length;let l,u=e.length,f=this.nCachedObjects_;for(let h=0,p=arguments.length;h!==p;++h){const y=arguments[h],_=y.uuid;let x=n[_];if(x===void 0){x=u++,n[_]=x,e.push(y);for(let S=0,E=o;S!==E;++S)a[S].push(new Ei(y,r[S],s[S]))}else if(x<f){l=e[x];const S=--f,E=e[S];n[E.uuid]=x,e[x]=E,n[_]=S,e[S]=y;for(let b=0,A=o;b!==A;++b){const C=a[b],M=C[S];let I=C[x];C[x]=M,I===void 0&&(I=new Ei(y,r[b],s[b])),C[S]=I}}else e[x]!==l&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=f}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,s=r.length;let a=this.nCachedObjects_;for(let o=0,l=arguments.length;o!==l;++o){const u=arguments[o],f=u.uuid,h=n[f];if(h!==void 0&&h>=a){const p=a++,y=e[p];n[y.uuid]=h,e[h]=y,n[f]=p,e[p]=u;for(let _=0,x=s;_!==x;++_){const S=r[_],E=S[p],b=S[h];S[h]=E,S[p]=b}}}this.nCachedObjects_=a}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,s=r.length;let a=this.nCachedObjects_,o=e.length;for(let l=0,u=arguments.length;l!==u;++l){const f=arguments[l],h=f.uuid,p=n[h];if(p!==void 0)if(delete n[h],p<a){const y=--a,_=e[y],x=--o,S=e[x];n[_.uuid]=p,e[p]=_,n[S.uuid]=y,e[y]=S,e.pop();for(let E=0,b=s;E!==b;++E){const A=r[E],C=A[y],M=A[x];A[p]=C,A[y]=M,A.pop()}}else{const y=--o,_=e[y];y>0&&(n[_.uuid]=p),e[p]=_,e.pop();for(let x=0,S=s;x!==S;++x){const E=r[x];E[p]=E[y],E.pop()}}}this.nCachedObjects_=a}subscribe_(e,n){const r=this._bindingsIndicesByPath;let s=r[e];const a=this._bindings;if(s!==void 0)return a[s];const o=this._paths,l=this._parsedPaths,u=this._objects,f=u.length,h=this.nCachedObjects_,p=new Array(f);s=a.length,r[e]=s,o.push(e),l.push(n),a.push(p);for(let y=h,_=u.length;y!==_;++y){const x=u[y];p[y]=new Ei(x,e,n)}return p}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const s=this._paths,a=this._parsedPaths,o=this._bindings,l=o.length-1,u=o[l],f=e[l];n[f]=r,o[r]=u,o.pop(),a[r]=a[l],a.pop(),s[r]=s[l],s.pop()}}}class X7{constructor(e,n,r=null,s=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=s;const a=n.tracks,o=a.length,l=new Array(o),u={endingStart:Kg,endingEnd:Kg};for(let f=0;f!==o;++f){const h=a[f].createInterpolant(null);l[f]=h,h.settings=u}this._interpolantSettings=u,this._interpolants=l,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=UH,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r){if(e.fadeOut(n),this.fadeIn(n),r){const s=this._clip.duration,a=e._clip.duration,o=a/s,l=s/a;e.warp(1,o,n),this.warp(l,1,n)}return this}crossFadeTo(e,n,r){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const s=this._mixer,a=s.time,o=this.timeScale;let l=this._timeScaleInterpolant;l===null&&(l=s._lendControlInterpolant(),this._timeScaleInterpolant=l);const u=l.parameterPositions,f=l.sampleValues;return u[0]=a,u[1]=a+r,f[0]=e/o,f[1]=n/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,s){if(!this.enabled){this._updateWeight(e);return}const a=this._startTime;if(a!==null){const u=(e-a)*r;u<0||r===0?n=0:(this._startTime=null,n=r*u)}n*=this._updateTimeScale(e);const o=this._updateTime(n),l=this._updateWeight(e);if(l>0){const u=this._interpolants,f=this._propertyBindings;switch(this.blendMode){case lL:for(let h=0,p=u.length;h!==p;++h)u[h].evaluate(o),f[h].accumulateAdditive(l);break;case S2:default:for(let h=0,p=u.length;h!==p;++h)u[h].evaluate(o),f[h].accumulate(s,l)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const s=r.evaluate(e)[0];n*=s,e>r.parameterPositions[1]&&(this.stopFading(),s===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const s=r.evaluate(e)[0];n*=s,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let s=this.time+e,a=this._loopCount;const o=r===kH;if(e===0)return a===-1?s:o&&(a&1)===1?n-s:s;if(r===LH){a===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(s>=n)s=n;else if(s<0)s=0;else{this.time=s;break t}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=s,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(a===-1&&(e>=0?(a=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),s>=n||s<0){const l=Math.floor(s/n);s-=n*l,a+=Math.abs(l);const u=this.repetitions-a;if(u<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,s=e>0?n:0,this.time=s,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(u===1){const f=e<0;this._setEndings(f,!f,o)}else this._setEndings(!1,!1,o);this._loopCount=a,this.time=s,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:l})}}else this.time=s;if(o&&(a&1)===1)return n-s}return s}_setEndings(e,n,r){const s=this._interpolantSettings;r?(s.endingStart=Zg,s.endingEnd=Zg):(e?s.endingStart=this.zeroSlopeAtStart?Zg:Kg:s.endingStart=iS,n?s.endingEnd=this.zeroSlopeAtEnd?Zg:Kg:s.endingEnd=iS)}_scheduleFading(e,n,r){const s=this._mixer,a=s.time;let o=this._weightInterpolant;o===null&&(o=s._lendControlInterpolant(),this._weightInterpolant=o);const l=o.parameterPositions,u=o.sampleValues;return l[0]=a,u[0]=n,l[1]=a+e,u[1]=r,this}}const Dtt=new Float32Array(1);class Ntt extends lh{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,s=e._clip.tracks,a=s.length,o=e._propertyBindings,l=e._interpolants,u=r.uuid,f=this._bindingsByRootAndName;let h=f[u];h===void 0&&(h={},f[u]=h);for(let p=0;p!==a;++p){const y=s[p],_=y.name;let x=h[_];if(x!==void 0)++x.referenceCount,o[p]=x;else{if(x=o[p],x!==void 0){x._cacheIndex===null&&(++x.referenceCount,this._addInactiveBinding(x,u,_));continue}const S=n&&n._propertyBindings[p].binding.parsedPath;x=new W7(Ei.create(r,_,S),y.ValueTypeName,y.getValueSize()),++x.referenceCount,this._addInactiveBinding(x,u,_),o[p]=x}l[p].resultBuffer=x.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,s=e._clip.uuid,a=this._actionsByClip[s];this._bindAction(e,a&&a.knownActions[0]),this._addInactiveAction(e,s,r)}const n=e._propertyBindings;for(let r=0,s=n.length;r!==s;++r){const a=n[r];a.useCount++===0&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,s=n.length;r!==s;++r){const a=n[r];--a.useCount===0&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const s=this._actions,a=this._actionsByClip;let o=a[n];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,a[n]=o;else{const l=o.knownActions;e._byClipCacheIndex=l.length,l.push(e)}e._cacheIndex=s.length,s.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],s=e._cacheIndex;r._cacheIndex=s,n[s]=r,n.pop(),e._cacheIndex=null;const a=e._clip.uuid,o=this._actionsByClip,l=o[a],u=l.knownActions,f=u[u.length-1],h=e._byClipCacheIndex;f._byClipCacheIndex=h,u[h]=f,u.pop(),e._byClipCacheIndex=null;const p=l.actionByRoot,y=(e._localRoot||this._root).uuid;delete p[y],u.length===0&&delete o[a],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,s=n.length;r!==s;++r){const a=n[r];--a.referenceCount===0&&this._removeInactiveBinding(a)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,s=this._nActiveActions++,a=n[s];e._cacheIndex=s,n[s]=e,a._cacheIndex=r,n[r]=a}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,s=--this._nActiveActions,a=n[s];e._cacheIndex=s,n[s]=e,a._cacheIndex=r,n[r]=a}_addInactiveBinding(e,n,r){const s=this._bindingsByRootAndName,a=this._bindings;let o=s[n];o===void 0&&(o={},s[n]=o),o[r]=e,e._cacheIndex=a.length,a.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,s=r.rootNode.uuid,a=r.path,o=this._bindingsByRootAndName,l=o[s],u=n[n.length-1],f=e._cacheIndex;u._cacheIndex=f,n[f]=u,n.pop(),delete l[a],Object.keys(l).length===0&&delete o[s]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,s=this._nActiveBindings++,a=n[s];e._cacheIndex=s,n[s]=e,a._cacheIndex=r,n[r]=a}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,s=--this._nActiveBindings,a=n[s];e._cacheIndex=s,n[s]=e,a._cacheIndex=r,n[r]=a}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new CL(new Float32Array(2),new Float32Array(2),1,Dtt),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,s=--this._nActiveControlInterpolants,a=n[s];e.__cacheIndex=s,n[s]=e,a.__cacheIndex=r,n[r]=a}clipAction(e,n,r){const s=n||this._root,a=s.uuid;let o=typeof e=="string"?pS.findByName(s,e):e;const l=o!==null?o.uuid:e,u=this._actionsByClip[l];let f=null;if(r===void 0&&(o!==null?r=o.blendMode:r=S2),u!==void 0){const p=u.actionByRoot[a];if(p!==void 0&&p.blendMode===r)return p;f=u.knownActions[0],o===null&&(o=f._clip)}if(o===null)return null;const h=new X7(this,o,n,r);return this._bindAction(h,f),this._addInactiveAction(h,l,a),h}existingAction(e,n){const r=n||this._root,s=r.uuid,a=typeof e=="string"?pS.findByName(r,e):e,o=a?a.uuid:e,l=this._actionsByClip[o];return l!==void 0&&l.actionByRoot[s]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,s=this.time+=e,a=Math.sign(e),o=this._accuIndex^=1;for(let f=0;f!==r;++f)n[f]._update(s,e,a,o);const l=this._bindings,u=this._nActiveBindings;for(let f=0;f!==u;++f)l[f].apply(o);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,s=this._actionsByClip,a=s[r];if(a!==void 0){const o=a.knownActions;for(let l=0,u=o.length;l!==u;++l){const f=o[l];this._deactivateAction(f);const h=f._cacheIndex,p=n[n.length-1];f._cacheIndex=null,f._byClipCacheIndex=null,p._cacheIndex=h,n[h]=p,n.pop(),this._removeInactiveBindingsForAction(f)}delete s[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const o in r){const l=r[o].actionByRoot,u=l[n];u!==void 0&&(this._deactivateAction(u),this._removeInactiveAction(u))}const s=this._bindingsByRootAndName,a=s[n];if(a!==void 0)for(const o in a){const l=a[o];l.restoreOriginalState(),this._removeInactiveBinding(l)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class Ltt extends E2{constructor(e=1,n=1,r=1,s={}){super(e,n,s),this.isRenderTarget3D=!0,this.depth=r,this.texture=new T2(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class Utt extends E2{constructor(e=1,n=1,r=1,s={}){super(e,n,s),this.isRenderTargetArray=!0,this.depth=r,this.texture=new KS(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class UL{constructor(e){this.value=e}clone(){return new UL(this.value.clone===void 0?this.value:this.value.clone())}}let ktt=0;class ztt extends lh{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:ktt++}),this.name="",this.usage=sS,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,s=n.length;r<s;r++){const a=Array.isArray(n[r])?n[r]:[n[r]];for(let o=0;o<a.length;o++)this.uniforms.push(a[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class Btt extends C2{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class Ftt{constructor(e,n,r,s,a){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=s,this.count=a,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const l5=new gn;class kL{constructor(e,n,r=0,s=1/0){this.ray=new X_(e,n),this.near=r,this.far=s,this.camera=null,this.layers=new d_,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}setFromXRController(e){return l5.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(l5),this}intersectObject(e,n=!0,r=[]){return zD(e,this,r,n),r.sort(u5),r}intersectObjects(e,n=!0,r=[]){for(let s=0,a=e.length;s<a;s++)zD(e[s],this,r,n);return r.sort(u5),r}}function u5(i,e){return i.distance-e.distance}function zD(i,e,n,r){let s=!0;if(i.layers.test(e.layers)&&i.raycast(e,n)===!1&&(s=!1),s===!0&&r===!0){const a=i.children;for(let o=0,l=a.length;o<l;o++)zD(a[o],e,n,!0)}}class zL{constructor(e=1,n=0,r=0){this.radius=e,this.phi=n,this.theta=r}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Ln(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Ln(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Vtt{constructor(e=1,n=0,r=0){this.radius=e,this.theta=n,this.y=r}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}class BL{constructor(e,n,r,s){BL.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,n,r,s)}identity(){return this.set(1,0,0,1),this}fromArray(e,n=0){for(let r=0;r<4;r++)this.elements[r]=e[r+n];return this}set(e,n,r,s){const a=this.elements;return a[0]=e,a[2]=n,a[1]=r,a[3]=s,this}}const c5=new pe;class Htt{constructor(e=new pe(1/0,1/0),n=new pe(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=c5.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,c5).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const f5=new pt,Mw=new pt;class jtt{constructor(e=new pt,n=new pt){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){f5.subVectors(e,this.start),Mw.subVectors(this.end,this.start);const r=Mw.dot(Mw);let a=Mw.dot(f5)/r;return n&&(a=Ln(a,0,1)),a}closestPointToPoint(e,n,r){const s=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(s).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const h5=new pt;class Gtt extends Ti{constructor(e,n){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new qn,s=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,l=1,u=32;o<u;o++,l++){const f=o/u*Math.PI*2,h=l/u*Math.PI*2;s.push(Math.cos(f),Math.sin(f),1,Math.cos(h),Math.sin(h),1)}r.setAttribute("position",new Xe(s,3));const a=new Qa({fog:!1,toneMapped:!1});this.cone=new uh(r,a),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),h5.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(h5),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Dp=new pt,Cw=new gn,AI=new gn;class qtt extends uh{constructor(e){const n=Y7(e),r=new qn,s=[],a=[],o=new Fe(0,0,1),l=new Fe(0,1,0);for(let f=0;f<n.length;f++){const h=n[f];h.parent&&h.parent.isBone&&(s.push(0,0,0),s.push(0,0,0),a.push(o.r,o.g,o.b),a.push(l.r,l.g,l.b))}r.setAttribute("position",new Xe(s,3)),r.setAttribute("color",new Xe(a,3));const u=new Qa({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,u),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,r=this.geometry,s=r.getAttribute("position");AI.copy(this.root.matrixWorld).invert();for(let a=0,o=0;a<n.length;a++){const l=n[a];l.parent&&l.parent.isBone&&(Cw.multiplyMatrices(AI,l.matrixWorld),Dp.setFromMatrixPosition(Cw),s.setXYZ(o,Dp.x,Dp.y,Dp.z),Cw.multiplyMatrices(AI,l.parent.matrixWorld),Dp.setFromMatrixPosition(Cw),s.setXYZ(o+1,Dp.x,Dp.y,Dp.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function Y7(i){const e=[];i.isBone===!0&&e.push(i);for(let n=0;n<i.children.length;n++)e.push(...Y7(i.children[n]));return e}class $tt extends es{constructor(e,n,r){const s=new Gy(n,4,2),a=new Tm({wireframe:!0,fog:!1,toneMapped:!1});super(s,a),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const Wtt=new pt,d5=new Fe,p5=new Fe;class Xtt extends Ti{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const s=new eE(n);s.rotateY(Math.PI*.5),this.material=new Tm({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const a=s.getAttribute("position"),o=new Float32Array(a.count*3);s.setAttribute("color",new $i(o,3)),this.add(new es(s,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");d5.copy(this.light.color),p5.copy(this.light.groundColor);for(let r=0,s=n.count;r<s;r++){const a=r<s/2?d5:p5;n.setXYZ(r,a.r,a.g,a.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(Wtt.setFromMatrixPosition(this.light.matrixWorld).negate())}}class Ytt extends uh{constructor(e=10,n=10,r=4473924,s=8947848){r=new Fe(r),s=new Fe(s);const a=n/2,o=e/n,l=e/2,u=[],f=[];for(let y=0,_=0,x=-l;y<=n;y++,x+=o){u.push(-l,0,x,l,0,x),u.push(x,0,-l,x,0,l);const S=y===a?r:s;S.toArray(f,_),_+=3,S.toArray(f,_),_+=3,S.toArray(f,_),_+=3,S.toArray(f,_),_+=3}const h=new qn;h.setAttribute("position",new Xe(u,3)),h.setAttribute("color",new Xe(f,3));const p=new Qa({vertexColors:!0,toneMapped:!1});super(h,p),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class Ktt extends uh{constructor(e=10,n=16,r=8,s=64,a=4473924,o=8947848){a=new Fe(a),o=new Fe(o);const l=[],u=[];if(n>1)for(let p=0;p<n;p++){const y=p/n*(Math.PI*2),_=Math.sin(y)*e,x=Math.cos(y)*e;l.push(0,0,0),l.push(_,0,x);const S=p&1?a:o;u.push(S.r,S.g,S.b),u.push(S.r,S.g,S.b)}for(let p=0;p<r;p++){const y=p&1?a:o,_=e-e/r*p;for(let x=0;x<s;x++){let S=x/s*(Math.PI*2),E=Math.sin(S)*_,b=Math.cos(S)*_;l.push(E,0,b),u.push(y.r,y.g,y.b),S=(x+1)/s*(Math.PI*2),E=Math.sin(S)*_,b=Math.cos(S)*_,l.push(E,0,b),u.push(y.r,y.g,y.b)}}const f=new qn;f.setAttribute("position",new Xe(l,3)),f.setAttribute("color",new Xe(u,3));const h=new Qa({vertexColors:!0,toneMapped:!1});super(f,h),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const m5=new pt,Rw=new pt,g5=new pt;class Ztt extends Ti{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let s=new qn;s.setAttribute("position",new Xe([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const a=new Qa({fog:!1,toneMapped:!1});this.lightPlane=new Td(s,a),this.add(this.lightPlane),s=new qn,s.setAttribute("position",new Xe([0,0,0,0,0,1],3)),this.targetLine=new Td(s,a),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),m5.setFromMatrixPosition(this.light.matrixWorld),Rw.setFromMatrixPosition(this.light.target.matrixWorld),g5.subVectors(Rw,m5),this.lightPlane.lookAt(Rw),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Rw),this.targetLine.scale.z=g5.length()}}const Ow=new pt,Zr=new w2;class Qtt extends uh{constructor(e){const n=new qn,r=new Qa({color:16777215,vertexColors:!0,toneMapped:!1}),s=[],a=[],o={};l("n1","n2"),l("n2","n4"),l("n4","n3"),l("n3","n1"),l("f1","f2"),l("f2","f4"),l("f4","f3"),l("f3","f1"),l("n1","f1"),l("n2","f2"),l("n3","f3"),l("n4","f4"),l("p","n1"),l("p","n2"),l("p","n3"),l("p","n4"),l("u1","u2"),l("u2","u3"),l("u3","u1"),l("c","t"),l("p","c"),l("cn1","cn2"),l("cn3","cn4"),l("cf1","cf2"),l("cf3","cf4");function l(x,S){u(x),u(S)}function u(x){s.push(0,0,0),a.push(0,0,0),o[x]===void 0&&(o[x]=[]),o[x].push(s.length/3-1)}n.setAttribute("position",new Xe(s,3)),n.setAttribute("color",new Xe(a,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const f=new Fe(16755200),h=new Fe(16711680),p=new Fe(43775),y=new Fe(16777215),_=new Fe(3355443);this.setColors(f,h,p,y,_)}setColors(e,n,r,s,a){const l=this.geometry.getAttribute("color");l.setXYZ(0,e.r,e.g,e.b),l.setXYZ(1,e.r,e.g,e.b),l.setXYZ(2,e.r,e.g,e.b),l.setXYZ(3,e.r,e.g,e.b),l.setXYZ(4,e.r,e.g,e.b),l.setXYZ(5,e.r,e.g,e.b),l.setXYZ(6,e.r,e.g,e.b),l.setXYZ(7,e.r,e.g,e.b),l.setXYZ(8,e.r,e.g,e.b),l.setXYZ(9,e.r,e.g,e.b),l.setXYZ(10,e.r,e.g,e.b),l.setXYZ(11,e.r,e.g,e.b),l.setXYZ(12,e.r,e.g,e.b),l.setXYZ(13,e.r,e.g,e.b),l.setXYZ(14,e.r,e.g,e.b),l.setXYZ(15,e.r,e.g,e.b),l.setXYZ(16,e.r,e.g,e.b),l.setXYZ(17,e.r,e.g,e.b),l.setXYZ(18,e.r,e.g,e.b),l.setXYZ(19,e.r,e.g,e.b),l.setXYZ(20,e.r,e.g,e.b),l.setXYZ(21,e.r,e.g,e.b),l.setXYZ(22,e.r,e.g,e.b),l.setXYZ(23,e.r,e.g,e.b),l.setXYZ(24,n.r,n.g,n.b),l.setXYZ(25,n.r,n.g,n.b),l.setXYZ(26,n.r,n.g,n.b),l.setXYZ(27,n.r,n.g,n.b),l.setXYZ(28,n.r,n.g,n.b),l.setXYZ(29,n.r,n.g,n.b),l.setXYZ(30,n.r,n.g,n.b),l.setXYZ(31,n.r,n.g,n.b),l.setXYZ(32,r.r,r.g,r.b),l.setXYZ(33,r.r,r.g,r.b),l.setXYZ(34,r.r,r.g,r.b),l.setXYZ(35,r.r,r.g,r.b),l.setXYZ(36,r.r,r.g,r.b),l.setXYZ(37,r.r,r.g,r.b),l.setXYZ(38,s.r,s.g,s.b),l.setXYZ(39,s.r,s.g,s.b),l.setXYZ(40,a.r,a.g,a.b),l.setXYZ(41,a.r,a.g,a.b),l.setXYZ(42,a.r,a.g,a.b),l.setXYZ(43,a.r,a.g,a.b),l.setXYZ(44,a.r,a.g,a.b),l.setXYZ(45,a.r,a.g,a.b),l.setXYZ(46,a.r,a.g,a.b),l.setXYZ(47,a.r,a.g,a.b),l.setXYZ(48,a.r,a.g,a.b),l.setXYZ(49,a.r,a.g,a.b),l.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,r=1,s=1;Zr.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const a=this.camera.coordinateSystem===Ac?-1:0;us("c",n,e,Zr,0,0,a),us("t",n,e,Zr,0,0,1),us("n1",n,e,Zr,-1,-1,a),us("n2",n,e,Zr,r,-1,a),us("n3",n,e,Zr,-1,s,a),us("n4",n,e,Zr,r,s,a),us("f1",n,e,Zr,-1,-1,1),us("f2",n,e,Zr,r,-1,1),us("f3",n,e,Zr,-1,s,1),us("f4",n,e,Zr,r,s,1),us("u1",n,e,Zr,r*.7,s*1.1,a),us("u2",n,e,Zr,-1*.7,s*1.1,a),us("u3",n,e,Zr,0,s*2,a),us("cf1",n,e,Zr,-1,0,1),us("cf2",n,e,Zr,r,0,1),us("cf3",n,e,Zr,0,-1,1),us("cf4",n,e,Zr,0,s,1),us("cn1",n,e,Zr,-1,0,a),us("cn2",n,e,Zr,r,0,a),us("cn3",n,e,Zr,0,-1,a),us("cn4",n,e,Zr,0,s,a),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function us(i,e,n,r,s,a,o){Ow.set(s,a,o).unproject(r);const l=e[i];if(l!==void 0){const u=n.getAttribute("position");for(let f=0,h=l.length;f<h;f++)u.setXYZ(l[f],Ow.x,Ow.y,Ow.z)}}const Iw=new _a;class Jtt extends uh{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),s=new Float32Array(8*3),a=new qn;a.setIndex(new $i(r,1)),a.setAttribute("position",new $i(s,3)),super(a,new Qa({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&Iw.setFromObject(this.object),Iw.isEmpty())return;const e=Iw.min,n=Iw.max,r=this.geometry.attributes.position,s=r.array;s[0]=n.x,s[1]=n.y,s[2]=n.z,s[3]=e.x,s[4]=n.y,s[5]=n.z,s[6]=e.x,s[7]=e.y,s[8]=n.z,s[9]=n.x,s[10]=e.y,s[11]=n.z,s[12]=n.x,s[13]=n.y,s[14]=e.z,s[15]=e.x,s[16]=n.y,s[17]=e.z,s[18]=e.x,s[19]=e.y,s[20]=e.z,s[21]=n.x,s[22]=e.y,s[23]=e.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class tet extends uh{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),s=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],a=new qn;a.setIndex(new $i(r,1)),a.setAttribute("position",new Xe(s,3)),super(a,new Qa({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class eet extends Td{constructor(e,n=1,r=16776960){const s=r,a=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new qn;o.setAttribute("position",new Xe(a,3)),o.computeBoundingSphere(),super(o,new Qa({color:s,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const l=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],u=new qn;u.setAttribute("position",new Xe(l,3)),u.computeBoundingSphere(),this.add(new es(u,new Tm({color:s,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const y5=new pt;let Pw,MI;class net extends Ti{constructor(e=new pt(0,0,1),n=new pt(0,0,0),r=1,s=16776960,a=r*.2,o=a*.2){super(),this.type="ArrowHelper",Pw===void 0&&(Pw=new qn,Pw.setAttribute("position",new Xe([0,0,0,0,1,0],3)),MI=new jy(0,.5,1,5,1),MI.translate(0,-.5,0)),this.position.copy(n),this.line=new Td(Pw,new Qa({color:s,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new es(MI,new Tm({color:s,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,a,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{y5.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(y5,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class iet extends uh{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],s=new qn;s.setAttribute("position",new Xe(n,3)),s.setAttribute("color",new Xe(r,3));const a=new Qa({vertexColors:!0,toneMapped:!1});super(s,a),this.type="AxesHelper"}setColors(e,n,r){const s=new Fe,a=this.geometry.attributes.color.array;return s.set(e),s.toArray(a,0),s.toArray(a,3),s.set(n),s.toArray(a,6),s.toArray(a,9),s.set(r),s.toArray(a,12),s.toArray(a,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class ret{constructor(){this.type="ShapePath",this.color=new Fe,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new lS,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,s){return this.currentPath.quadraticCurveTo(e,n,r,s),this}bezierCurveTo(e,n,r,s,a,o){return this.currentPath.bezierCurveTo(e,n,r,s,a,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(b){const A=[];for(let C=0,M=b.length;C<M;C++){const I=b[C],k=new hy;k.curves=I.curves,A.push(k)}return A}function r(b,A){const C=A.length;let M=!1;for(let I=C-1,k=0;k<C;I=k++){let N=A[I],L=A[k],U=L.x-N.x,O=L.y-N.y;if(Math.abs(O)>Number.EPSILON){if(O<0&&(N=A[k],U=-U,L=A[I],O=-O),b.y<N.y||b.y>L.y)continue;if(b.y===N.y){if(b.x===N.x)return!0}else{const B=O*(b.x-N.x)-U*(b.y-N.y);if(B===0)return!0;if(B<0)continue;M=!M}}else{if(b.y!==N.y)continue;if(L.x<=b.x&&b.x<=N.x||N.x<=b.x&&b.x<=L.x)return!0}}return M}const s=$f.isClockWise,a=this.subPaths;if(a.length===0)return[];let o,l,u;const f=[];if(a.length===1)return l=a[0],u=new hy,u.curves=l.curves,f.push(u),f;let h=!s(a[0].getPoints());h=e?!h:h;const p=[],y=[];let _=[],x=0,S;y[x]=void 0,_[x]=[];for(let b=0,A=a.length;b<A;b++)l=a[b],S=l.getPoints(),o=s(S),o=e?!o:o,o?(!h&&y[x]&&x++,y[x]={s:new hy,p:S},y[x].s.curves=l.curves,h&&x++,_[x]=[]):_[x].push({h:l,p:S[0]});if(!y[0])return n(a);if(y.length>1){let b=!1,A=0;for(let C=0,M=y.length;C<M;C++)p[C]=[];for(let C=0,M=y.length;C<M;C++){const I=_[C];for(let k=0;k<I.length;k++){const N=I[k];let L=!0;for(let U=0;U<y.length;U++)r(N.p,y[U].p)&&(C!==U&&A++,L?(L=!1,p[U].push(N)):b=!0);L&&p[C].push(N)}}A>0&&b===!1&&(_=p)}let E;for(let b=0,A=y.length;b<A;b++){u=y[b].s,f.push(u),E=_[b];for(let C=0,M=E.length;C<M;C++)u.holes.push(E[C].h)}return f}}class set extends lh{constructor(e,n=null){super(),this.object=e,this.domElement=n,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(){}disconnect(){}dispose(){}update(){}}function aet(i,e){const n=i.image&&i.image.width?i.image.width/i.image.height:1;return n>e?(i.repeat.x=1,i.repeat.y=n/e,i.offset.x=0,i.offset.y=(1-i.repeat.y)/2):(i.repeat.x=e/n,i.repeat.y=1,i.offset.x=(1-i.repeat.x)/2,i.offset.y=0),i}function oet(i,e){const n=i.image&&i.image.width?i.image.width/i.image.height:1;return n>e?(i.repeat.x=e/n,i.repeat.y=1,i.offset.x=(1-i.repeat.x)/2,i.offset.y=0):(i.repeat.x=1,i.repeat.y=n/e,i.offset.x=0,i.offset.y=(1-i.repeat.y)/2),i}function uet(i){return i.repeat.x=1,i.repeat.y=1,i.offset.x=0,i.offset.y=0,i}function BD(i,e,n,r){const s=cet(r);switch(n){case nL:return i*e;case rL:return i*e;case sL:return i*e*2;case _2:return i*e/s.components*s.byteLength;case YS:return i*e/s.components*s.byteLength;case aL:return i*e*2/s.components*s.byteLength;case b2:return i*e*2/s.components*s.byteLength;case iL:return i*e*3/s.components*s.byteLength;case $a:return i*e*4/s.components*s.byteLength;case x2:return i*e*4/s.components*s.byteLength;case T1:case w1:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*8;case A1:case M1:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*16;case CM:case OM:return Math.max(i,16)*Math.max(e,8)/4;case MM:case RM:return Math.max(i,8)*Math.max(e,8)/2;case IM:case PM:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*8;case DM:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*16;case NM:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*16;case LM:return Math.floor((i+4)/5)*Math.floor((e+3)/4)*16;case UM:return Math.floor((i+4)/5)*Math.floor((e+4)/5)*16;case kM:return Math.floor((i+5)/6)*Math.floor((e+4)/5)*16;case zM:return Math.floor((i+5)/6)*Math.floor((e+5)/6)*16;case BM:return Math.floor((i+7)/8)*Math.floor((e+4)/5)*16;case FM:return Math.floor((i+7)/8)*Math.floor((e+5)/6)*16;case VM:return Math.floor((i+7)/8)*Math.floor((e+7)/8)*16;case HM:return Math.floor((i+9)/10)*Math.floor((e+4)/5)*16;case jM:return Math.floor((i+9)/10)*Math.floor((e+5)/6)*16;case GM:return Math.floor((i+9)/10)*Math.floor((e+7)/8)*16;case qM:return Math.floor((i+9)/10)*Math.floor((e+9)/10)*16;case $M:return Math.floor((i+11)/12)*Math.floor((e+9)/10)*16;case WM:return Math.floor((i+11)/12)*Math.floor((e+11)/12)*16;case C1:case XM:case YM:return Math.ceil(i/4)*Math.ceil(e/4)*16;case oL:case KM:return Math.ceil(i/4)*Math.ceil(e/4)*8;case ZM:case QM:return Math.ceil(i/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function cet(i){switch(i){case Ic:case JN:return{byteLength:1,components:1};case f_:case tL:case W_:return{byteLength:2,components:1};case y2:case v2:return{byteLength:2,components:4};case Ed:case g2:case sl:return{byteLength:4,components:1};case eL:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${i}.`)}class fet{static contain(e,n){return aet(e,n)}static cover(e,n){return oet(e,n)}static fill(e){return uet(e)}static getByteLength(e,n,r,s){return BD(e,n,r,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:WS}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=WS);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function K7(){let i=null,e=!1,n=null,r=null;function s(a,o){n(a,o),r=i.requestAnimationFrame(s)}return{start:function(){e!==!0&&n!==null&&(r=i.requestAnimationFrame(s),e=!0)},stop:function(){i.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(a){n=a},setContext:function(a){i=a}}}function het(i){const e=new WeakMap;function n(l,u){const f=l.array,h=l.usage,p=f.byteLength,y=i.createBuffer();i.bindBuffer(u,y),i.bufferData(u,f,h),l.onUploadCallback();let _;if(f instanceof Float32Array)_=i.FLOAT;else if(f instanceof Uint16Array)l.isFloat16BufferAttribute?_=i.HALF_FLOAT:_=i.UNSIGNED_SHORT;else if(f instanceof Int16Array)_=i.SHORT;else if(f instanceof Uint32Array)_=i.UNSIGNED_INT;else if(f instanceof Int32Array)_=i.INT;else if(f instanceof Int8Array)_=i.BYTE;else if(f instanceof Uint8Array)_=i.UNSIGNED_BYTE;else if(f instanceof Uint8ClampedArray)_=i.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+f);return{buffer:y,type:_,bytesPerElement:f.BYTES_PER_ELEMENT,version:l.version,size:p}}function r(l,u,f){const h=u.array,p=u.updateRanges;if(i.bindBuffer(f,l),p.length===0)i.bufferSubData(f,0,h);else{p.sort((_,x)=>_.start-x.start);let y=0;for(let _=1;_<p.length;_++){const x=p[y],S=p[_];S.start<=x.start+x.count+1?x.count=Math.max(x.count,S.start+S.count-x.start):(++y,p[y]=S)}p.length=y+1;for(let _=0,x=p.length;_<x;_++){const S=p[_];i.bufferSubData(f,S.start*h.BYTES_PER_ELEMENT,h,S.start,S.count)}u.clearUpdateRanges()}u.onUploadCallback()}function s(l){return l.isInterleavedBufferAttribute&&(l=l.data),e.get(l)}function a(l){l.isInterleavedBufferAttribute&&(l=l.data);const u=e.get(l);u&&(i.deleteBuffer(u.buffer),e.delete(l))}function o(l,u){if(l.isInterleavedBufferAttribute&&(l=l.data),l.isGLBufferAttribute){const h=e.get(l);(!h||h.version<l.version)&&e.set(l,{buffer:l.buffer,type:l.type,bytesPerElement:l.elementSize,version:l.version});return}const f=e.get(l);if(f===void 0)e.set(l,n(l,u));else if(f.version<l.version){if(f.size!==l.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(f.buffer,l,u),f.version=l.version}}return{get:s,remove:a,update:o}}var det=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,pet=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,met=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,get=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,yet=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,vet=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,_et=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,bet=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,xet=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,Eet=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,Tet=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,wet=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Aet=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Met=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,Cet=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,Ret=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,Oet=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Iet=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Pet=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Det=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Net=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Let=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,Uet=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,ket=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,zet=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Bet=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Fet=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Vet=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,Het=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,jet=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Get="gl_FragColor = linearToOutputTexel( gl_FragColor );",qet=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,$et=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Wet=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Xet=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Yet=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Ket=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Zet=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Qet=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Jet=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,tnt=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,ent=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,nnt=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,int=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,rnt=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,snt=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,ant=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,ont=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,lnt=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,unt=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,cnt=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,fnt=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,hnt=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,dnt=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,pnt=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,mnt=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,gnt=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,ynt=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,vnt=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,_nt=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,bnt=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,xnt=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Snt=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Ent=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Tnt=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,wnt=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Ant=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,Mnt=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Cnt=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Rnt=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,Ont=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Int=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,Pnt=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Dnt=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Nnt=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Lnt=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Unt=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,knt=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,znt=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,Bnt=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,Fnt=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Vnt=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Hnt=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,jnt=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Gnt=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,qnt=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,$nt=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Wnt=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Xnt=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Ynt=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,Knt=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Znt=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Qnt=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Jnt=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,tit=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,eit=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,nit=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,iit=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,rit=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,sit=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,ait=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,oit=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,lit=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,uit=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,cit=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,fit=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,hit=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const dit=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,pit=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,mit=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,git=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,yit=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,vit=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,_it=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,bit=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,xit=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Sit=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Eit=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Tit=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,wit=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Ait=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Mit=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Cit=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Rit=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Oit=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Iit=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Pit=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Dit=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Nit=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Lit=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Uit=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,kit=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,zit=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Bit=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Fit=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Vit=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Hit=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,jit=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Git=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,qit=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,$it=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Yn={alphahash_fragment:det,alphahash_pars_fragment:pet,alphamap_fragment:met,alphamap_pars_fragment:get,alphatest_fragment:yet,alphatest_pars_fragment:vet,aomap_fragment:_et,aomap_pars_fragment:bet,batching_pars_vertex:xet,batching_vertex:Eet,begin_vertex:Tet,beginnormal_vertex:wet,bsdfs:Aet,iridescence_fragment:Met,bumpmap_pars_fragment:Cet,clipping_planes_fragment:Ret,clipping_planes_pars_fragment:Oet,clipping_planes_pars_vertex:Iet,clipping_planes_vertex:Pet,color_fragment:Det,color_pars_fragment:Net,color_pars_vertex:Let,color_vertex:Uet,common:ket,cube_uv_reflection_fragment:zet,defaultnormal_vertex:Bet,displacementmap_pars_vertex:Fet,displacementmap_vertex:Vet,emissivemap_fragment:Het,emissivemap_pars_fragment:jet,colorspace_fragment:Get,colorspace_pars_fragment:qet,envmap_fragment:$et,envmap_common_pars_fragment:Wet,envmap_pars_fragment:Xet,envmap_pars_vertex:Yet,envmap_physical_pars_fragment:ant,envmap_vertex:Ket,fog_vertex:Zet,fog_pars_vertex:Qet,fog_fragment:Jet,fog_pars_fragment:tnt,gradientmap_pars_fragment:ent,lightmap_pars_fragment:nnt,lights_lambert_fragment:int,lights_lambert_pars_fragment:rnt,lights_pars_begin:snt,lights_toon_fragment:ont,lights_toon_pars_fragment:lnt,lights_phong_fragment:unt,lights_phong_pars_fragment:cnt,lights_physical_fragment:fnt,lights_physical_pars_fragment:hnt,lights_fragment_begin:dnt,lights_fragment_maps:pnt,lights_fragment_end:mnt,logdepthbuf_fragment:gnt,logdepthbuf_pars_fragment:ynt,logdepthbuf_pars_vertex:vnt,logdepthbuf_vertex:_nt,map_fragment:bnt,map_pars_fragment:xnt,map_particle_fragment:Snt,map_particle_pars_fragment:Ent,metalnessmap_fragment:Tnt,metalnessmap_pars_fragment:wnt,morphinstance_vertex:Ant,morphcolor_vertex:Mnt,morphnormal_vertex:Cnt,morphtarget_pars_vertex:Rnt,morphtarget_vertex:Ont,normal_fragment_begin:Int,normal_fragment_maps:Pnt,normal_pars_fragment:Dnt,normal_pars_vertex:Nnt,normal_vertex:Lnt,normalmap_pars_fragment:Unt,clearcoat_normal_fragment_begin:knt,clearcoat_normal_fragment_maps:znt,clearcoat_pars_fragment:Bnt,iridescence_pars_fragment:Fnt,opaque_fragment:Vnt,packing:Hnt,premultiplied_alpha_fragment:jnt,project_vertex:Gnt,dithering_fragment:qnt,dithering_pars_fragment:$nt,roughnessmap_fragment:Wnt,roughnessmap_pars_fragment:Xnt,shadowmap_pars_fragment:Ynt,shadowmap_pars_vertex:Knt,shadowmap_vertex:Znt,shadowmask_pars_fragment:Qnt,skinbase_vertex:Jnt,skinning_pars_vertex:tit,skinning_vertex:eit,skinnormal_vertex:nit,specularmap_fragment:iit,specularmap_pars_fragment:rit,tonemapping_fragment:sit,tonemapping_pars_fragment:ait,transmission_fragment:oit,transmission_pars_fragment:lit,uv_pars_fragment:uit,uv_pars_vertex:cit,uv_vertex:fit,worldpos_vertex:hit,background_vert:dit,background_frag:pit,backgroundCube_vert:mit,backgroundCube_frag:git,cube_vert:yit,cube_frag:vit,depth_vert:_it,depth_frag:bit,distanceRGBA_vert:xit,distanceRGBA_frag:Sit,equirect_vert:Eit,equirect_frag:Tit,linedashed_vert:wit,linedashed_frag:Ait,meshbasic_vert:Mit,meshbasic_frag:Cit,meshlambert_vert:Rit,meshlambert_frag:Oit,meshmatcap_vert:Iit,meshmatcap_frag:Pit,meshnormal_vert:Dit,meshnormal_frag:Nit,meshphong_vert:Lit,meshphong_frag:Uit,meshphysical_vert:kit,meshphysical_frag:zit,meshtoon_vert:Bit,meshtoon_frag:Fit,points_vert:Vit,points_frag:Hit,shadow_vert:jit,shadow_frag:Git,sprite_vert:qit,sprite_frag:$it},Ue={common:{diffuse:{value:new Fe(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Fn},alphaMap:{value:null},alphaMapTransform:{value:new Fn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Fn}},envmap:{envMap:{value:null},envMapRotation:{value:new Fn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Fn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Fn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Fn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Fn},normalScale:{value:new pe(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Fn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Fn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Fn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Fn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Fe(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Fe(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Fn},alphaTest:{value:0},uvTransform:{value:new Fn}},sprite:{diffuse:{value:new Fe(16777215)},opacity:{value:1},center:{value:new pe(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Fn},alphaMap:{value:null},alphaMapTransform:{value:new Fn},alphaTest:{value:0}}},xc={basic:{uniforms:_o([Ue.common,Ue.specularmap,Ue.envmap,Ue.aomap,Ue.lightmap,Ue.fog]),vertexShader:Yn.meshbasic_vert,fragmentShader:Yn.meshbasic_frag},lambert:{uniforms:_o([Ue.common,Ue.specularmap,Ue.envmap,Ue.aomap,Ue.lightmap,Ue.emissivemap,Ue.bumpmap,Ue.normalmap,Ue.displacementmap,Ue.fog,Ue.lights,{emissive:{value:new Fe(0)}}]),vertexShader:Yn.meshlambert_vert,fragmentShader:Yn.meshlambert_frag},phong:{uniforms:_o([Ue.common,Ue.specularmap,Ue.envmap,Ue.aomap,Ue.lightmap,Ue.emissivemap,Ue.bumpmap,Ue.normalmap,Ue.displacementmap,Ue.fog,Ue.lights,{emissive:{value:new Fe(0)},specular:{value:new Fe(1118481)},shininess:{value:30}}]),vertexShader:Yn.meshphong_vert,fragmentShader:Yn.meshphong_frag},standard:{uniforms:_o([Ue.common,Ue.envmap,Ue.aomap,Ue.lightmap,Ue.emissivemap,Ue.bumpmap,Ue.normalmap,Ue.displacementmap,Ue.roughnessmap,Ue.metalnessmap,Ue.fog,Ue.lights,{emissive:{value:new Fe(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Yn.meshphysical_vert,fragmentShader:Yn.meshphysical_frag},toon:{uniforms:_o([Ue.common,Ue.aomap,Ue.lightmap,Ue.emissivemap,Ue.bumpmap,Ue.normalmap,Ue.displacementmap,Ue.gradientmap,Ue.fog,Ue.lights,{emissive:{value:new Fe(0)}}]),vertexShader:Yn.meshtoon_vert,fragmentShader:Yn.meshtoon_frag},matcap:{uniforms:_o([Ue.common,Ue.bumpmap,Ue.normalmap,Ue.displacementmap,Ue.fog,{matcap:{value:null}}]),vertexShader:Yn.meshmatcap_vert,fragmentShader:Yn.meshmatcap_frag},points:{uniforms:_o([Ue.points,Ue.fog]),vertexShader:Yn.points_vert,fragmentShader:Yn.points_frag},dashed:{uniforms:_o([Ue.common,Ue.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Yn.linedashed_vert,fragmentShader:Yn.linedashed_frag},depth:{uniforms:_o([Ue.common,Ue.displacementmap]),vertexShader:Yn.depth_vert,fragmentShader:Yn.depth_frag},normal:{uniforms:_o([Ue.common,Ue.bumpmap,Ue.normalmap,Ue.displacementmap,{opacity:{value:1}}]),vertexShader:Yn.meshnormal_vert,fragmentShader:Yn.meshnormal_frag},sprite:{uniforms:_o([Ue.sprite,Ue.fog]),vertexShader:Yn.sprite_vert,fragmentShader:Yn.sprite_frag},background:{uniforms:{uvTransform:{value:new Fn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Yn.background_vert,fragmentShader:Yn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Fn}},vertexShader:Yn.backgroundCube_vert,fragmentShader:Yn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Yn.cube_vert,fragmentShader:Yn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Yn.equirect_vert,fragmentShader:Yn.equirect_frag},distanceRGBA:{uniforms:_o([Ue.common,Ue.displacementmap,{referencePosition:{value:new pt},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Yn.distanceRGBA_vert,fragmentShader:Yn.distanceRGBA_frag},shadow:{uniforms:_o([Ue.lights,Ue.fog,{color:{value:new Fe(0)},opacity:{value:1}}]),vertexShader:Yn.shadow_vert,fragmentShader:Yn.shadow_frag}};xc.physical={uniforms:_o([xc.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Fn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Fn},clearcoatNormalScale:{value:new pe(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Fn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Fn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Fn},sheen:{value:0},sheenColor:{value:new Fe(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Fn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Fn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Fn},transmissionSamplerSize:{value:new pe},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Fn},attenuationDistance:{value:0},attenuationColor:{value:new Fe(0)},specularColor:{value:new Fe(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Fn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Fn},anisotropyVector:{value:new pe},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Fn}}]),vertexShader:Yn.meshphysical_vert,fragmentShader:Yn.meshphysical_frag};const Dw={r:0,b:0,g:0},Cg=new Xl,Wit=new gn;function Xit(i,e,n,r,s,a,o){const l=new Fe(0);let u=a===!0?0:1,f,h,p=null,y=0,_=null;function x(C){let M=C.isScene===!0?C.background:null;return M&&M.isTexture&&(M=(C.backgroundBlurriness>0?n:e).get(M)),M}function S(C){let M=!1;const I=x(C);I===null?b(l,u):I&&I.isColor&&(b(I,1),M=!0);const k=i.xr.getEnvironmentBlendMode();k==="additive"?r.buffers.color.setClear(0,0,0,1,o):k==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,o),(i.autoClear||M)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),i.clear(i.autoClearColor,i.autoClearDepth,i.autoClearStencil))}function E(C,M){const I=x(M);I&&(I.isCubeTexture||I.mapping===$_)?(h===void 0&&(h=new es(new Hy(1,1,1),new ku({name:"BackgroundCubeMaterial",uniforms:p_(xc.backgroundCube.uniforms),vertexShader:xc.backgroundCube.vertexShader,fragmentShader:xc.backgroundCube.fragmentShader,side:wo,depthTest:!1,depthWrite:!1,fog:!1})),h.geometry.deleteAttribute("normal"),h.geometry.deleteAttribute("uv"),h.onBeforeRender=function(k,N,L){this.matrixWorld.copyPosition(L.matrixWorld)},Object.defineProperty(h.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),s.update(h)),Cg.copy(M.backgroundRotation),Cg.x*=-1,Cg.y*=-1,Cg.z*=-1,I.isCubeTexture&&I.isRenderTargetTexture===!1&&(Cg.y*=-1,Cg.z*=-1),h.material.uniforms.envMap.value=I,h.material.uniforms.flipEnvMap.value=I.isCubeTexture&&I.isRenderTargetTexture===!1?-1:1,h.material.uniforms.backgroundBlurriness.value=M.backgroundBlurriness,h.material.uniforms.backgroundIntensity.value=M.backgroundIntensity,h.material.uniforms.backgroundRotation.value.setFromMatrix4(Wit.makeRotationFromEuler(Cg)),h.material.toneMapped=mi.getTransfer(I.colorSpace)!==qi,(p!==I||y!==I.version||_!==i.toneMapping)&&(h.material.needsUpdate=!0,p=I,y=I.version,_=i.toneMapping),h.layers.enableAll(),C.unshift(h,h.geometry,h.material,0,0,null)):I&&I.isTexture&&(f===void 0&&(f=new es(new Y_(2,2),new ku({name:"BackgroundMaterial",uniforms:p_(xc.background.uniforms),vertexShader:xc.background.vertexShader,fragmentShader:xc.background.fragmentShader,side:xd,depthTest:!1,depthWrite:!1,fog:!1})),f.geometry.deleteAttribute("normal"),Object.defineProperty(f.material,"map",{get:function(){return this.uniforms.t2D.value}}),s.update(f)),f.material.uniforms.t2D.value=I,f.material.uniforms.backgroundIntensity.value=M.backgroundIntensity,f.material.toneMapped=mi.getTransfer(I.colorSpace)!==qi,I.matrixAutoUpdate===!0&&I.updateMatrix(),f.material.uniforms.uvTransform.value.copy(I.matrix),(p!==I||y!==I.version||_!==i.toneMapping)&&(f.material.needsUpdate=!0,p=I,y=I.version,_=i.toneMapping),f.layers.enableAll(),C.unshift(f,f.geometry,f.material,0,0,null))}function b(C,M){C.getRGB(Dw,JH(i)),r.buffers.color.setClear(Dw.r,Dw.g,Dw.b,M,o)}function A(){h!==void 0&&(h.geometry.dispose(),h.material.dispose(),h=void 0),f!==void 0&&(f.geometry.dispose(),f.material.dispose(),f=void 0)}return{getClearColor:function(){return l},setClearColor:function(C,M=1){l.set(C),u=M,b(l,u)},getClearAlpha:function(){return u},setClearAlpha:function(C){u=C,b(l,u)},render:S,addToRenderList:E,dispose:A}}function Yit(i,e){const n=i.getParameter(i.MAX_VERTEX_ATTRIBS),r={},s=y(null);let a=s,o=!1;function l(O,B,H,V,X){let et=!1;const q=p(V,H,B);a!==q&&(a=q,f(a.object)),et=_(O,V,H,X),et&&x(O,V,H,X),X!==null&&e.update(X,i.ELEMENT_ARRAY_BUFFER),(et||o)&&(o=!1,M(O,B,H,V),X!==null&&i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,e.get(X).buffer))}function u(){return i.createVertexArray()}function f(O){return i.bindVertexArray(O)}function h(O){return i.deleteVertexArray(O)}function p(O,B,H){const V=H.wireframe===!0;let X=r[O.id];X===void 0&&(X={},r[O.id]=X);let et=X[B.id];et===void 0&&(et={},X[B.id]=et);let q=et[V];return q===void 0&&(q=y(u()),et[V]=q),q}function y(O){const B=[],H=[],V=[];for(let X=0;X<n;X++)B[X]=0,H[X]=0,V[X]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:B,enabledAttributes:H,attributeDivisors:V,object:O,attributes:{},index:null}}function _(O,B,H,V){const X=a.attributes,et=B.attributes;let q=0;const W=H.getAttributes();for(const Z in W)if(W[Z].location>=0){const Q=X[Z];let ht=et[Z];if(ht===void 0&&(Z==="instanceMatrix"&&O.instanceMatrix&&(ht=O.instanceMatrix),Z==="instanceColor"&&O.instanceColor&&(ht=O.instanceColor)),Q===void 0||Q.attribute!==ht||ht&&Q.data!==ht.data)return!0;q++}return a.attributesNum!==q||a.index!==V}function x(O,B,H,V){const X={},et=B.attributes;let q=0;const W=H.getAttributes();for(const Z in W)if(W[Z].location>=0){let Q=et[Z];Q===void 0&&(Z==="instanceMatrix"&&O.instanceMatrix&&(Q=O.instanceMatrix),Z==="instanceColor"&&O.instanceColor&&(Q=O.instanceColor));const ht={};ht.attribute=Q,Q&&Q.data&&(ht.data=Q.data),X[Z]=ht,q++}a.attributes=X,a.attributesNum=q,a.index=V}function S(){const O=a.newAttributes;for(let B=0,H=O.length;B<H;B++)O[B]=0}function E(O){b(O,0)}function b(O,B){const H=a.newAttributes,V=a.enabledAttributes,X=a.attributeDivisors;H[O]=1,V[O]===0&&(i.enableVertexAttribArray(O),V[O]=1),X[O]!==B&&(i.vertexAttribDivisor(O,B),X[O]=B)}function A(){const O=a.newAttributes,B=a.enabledAttributes;for(let H=0,V=B.length;H<V;H++)B[H]!==O[H]&&(i.disableVertexAttribArray(H),B[H]=0)}function C(O,B,H,V,X,et,q){q===!0?i.vertexAttribIPointer(O,B,H,X,et):i.vertexAttribPointer(O,B,H,V,X,et)}function M(O,B,H,V){S();const X=V.attributes,et=H.getAttributes(),q=B.defaultAttributeValues;for(const W in et){const Z=et[W];if(Z.location>=0){let nt=X[W];if(nt===void 0&&(W==="instanceMatrix"&&O.instanceMatrix&&(nt=O.instanceMatrix),W==="instanceColor"&&O.instanceColor&&(nt=O.instanceColor)),nt!==void 0){const Q=nt.normalized,ht=nt.itemSize,yt=e.get(nt);if(yt===void 0)continue;const xt=yt.buffer,it=yt.type,dt=yt.bytesPerElement,ft=it===i.INT||it===i.UNSIGNED_INT||nt.gpuType===g2;if(nt.isInterleavedBufferAttribute){const gt=nt.data,wt=gt.stride,Kt=nt.offset;if(gt.isInstancedInterleavedBuffer){for(let kt=0;kt<Z.locationSize;kt++)b(Z.location+kt,gt.meshPerAttribute);O.isInstancedMesh!==!0&&V._maxInstanceCount===void 0&&(V._maxInstanceCount=gt.meshPerAttribute*gt.count)}else for(let kt=0;kt<Z.locationSize;kt++)E(Z.location+kt);i.bindBuffer(i.ARRAY_BUFFER,xt);for(let kt=0;kt<Z.locationSize;kt++)C(Z.location+kt,ht/Z.locationSize,it,Q,wt*dt,(Kt+ht/Z.locationSize*kt)*dt,ft)}else{if(nt.isInstancedBufferAttribute){for(let gt=0;gt<Z.locationSize;gt++)b(Z.location+gt,nt.meshPerAttribute);O.isInstancedMesh!==!0&&V._maxInstanceCount===void 0&&(V._maxInstanceCount=nt.meshPerAttribute*nt.count)}else for(let gt=0;gt<Z.locationSize;gt++)E(Z.location+gt);i.bindBuffer(i.ARRAY_BUFFER,xt);for(let gt=0;gt<Z.locationSize;gt++)C(Z.location+gt,ht/Z.locationSize,it,Q,ht*dt,ht/Z.locationSize*gt*dt,ft)}}else if(q!==void 0){const Q=q[W];if(Q!==void 0)switch(Q.length){case 2:i.vertexAttrib2fv(Z.location,Q);break;case 3:i.vertexAttrib3fv(Z.location,Q);break;case 4:i.vertexAttrib4fv(Z.location,Q);break;default:i.vertexAttrib1fv(Z.location,Q)}}}}A()}function I(){L();for(const O in r){const B=r[O];for(const H in B){const V=B[H];for(const X in V)h(V[X].object),delete V[X];delete B[H]}delete r[O]}}function k(O){if(r[O.id]===void 0)return;const B=r[O.id];for(const H in B){const V=B[H];for(const X in V)h(V[X].object),delete V[X];delete B[H]}delete r[O.id]}function N(O){for(const B in r){const H=r[B];if(H[O.id]===void 0)continue;const V=H[O.id];for(const X in V)h(V[X].object),delete V[X];delete H[O.id]}}function L(){U(),o=!0,a!==s&&(a=s,f(a.object))}function U(){s.geometry=null,s.program=null,s.wireframe=!1}return{setup:l,reset:L,resetDefaultState:U,dispose:I,releaseStatesOfGeometry:k,releaseStatesOfProgram:N,initAttributes:S,enableAttribute:E,disableUnusedAttributes:A}}function Kit(i,e,n){let r;function s(f){r=f}function a(f,h){i.drawArrays(r,f,h),n.update(h,r,1)}function o(f,h,p){p!==0&&(i.drawArraysInstanced(r,f,h,p),n.update(h,r,p))}function l(f,h,p){if(p===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,f,0,h,0,p);let _=0;for(let x=0;x<p;x++)_+=h[x];n.update(_,r,1)}function u(f,h,p,y){if(p===0)return;const _=e.get("WEBGL_multi_draw");if(_===null)for(let x=0;x<f.length;x++)o(f[x],h[x],y[x]);else{_.multiDrawArraysInstancedWEBGL(r,f,0,h,0,y,0,p);let x=0;for(let S=0;S<p;S++)x+=h[S]*y[S];n.update(x,r,1)}}this.setMode=s,this.render=a,this.renderInstances=o,this.renderMultiDraw=l,this.renderMultiDrawInstances=u}function Zit(i,e,n,r){let s;function a(){if(s!==void 0)return s;if(e.has("EXT_texture_filter_anisotropic")===!0){const N=e.get("EXT_texture_filter_anisotropic");s=i.getParameter(N.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else s=0;return s}function o(N){return!(N!==$a&&r.convert(N)!==i.getParameter(i.IMPLEMENTATION_COLOR_READ_FORMAT))}function l(N){const L=N===W_&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(N!==Ic&&r.convert(N)!==i.getParameter(i.IMPLEMENTATION_COLOR_READ_TYPE)&&N!==sl&&!L)}function u(N){if(N==="highp"){if(i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.HIGH_FLOAT).precision>0&&i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT).precision>0)return"highp";N="mediump"}return N==="mediump"&&i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.MEDIUM_FLOAT).precision>0&&i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let f=n.precision!==void 0?n.precision:"highp";const h=u(f);h!==f&&(console.warn("THREE.WebGLRenderer:",f,"not supported, using",h,"instead."),f=h);const p=n.logarithmicDepthBuffer===!0,y=n.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),_=i.getParameter(i.MAX_TEXTURE_IMAGE_UNITS),x=i.getParameter(i.MAX_VERTEX_TEXTURE_IMAGE_UNITS),S=i.getParameter(i.MAX_TEXTURE_SIZE),E=i.getParameter(i.MAX_CUBE_MAP_TEXTURE_SIZE),b=i.getParameter(i.MAX_VERTEX_ATTRIBS),A=i.getParameter(i.MAX_VERTEX_UNIFORM_VECTORS),C=i.getParameter(i.MAX_VARYING_VECTORS),M=i.getParameter(i.MAX_FRAGMENT_UNIFORM_VECTORS),I=x>0,k=i.getParameter(i.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:a,getMaxPrecision:u,textureFormatReadable:o,textureTypeReadable:l,precision:f,logarithmicDepthBuffer:p,reverseDepthBuffer:y,maxTextures:_,maxVertexTextures:x,maxTextureSize:S,maxCubemapSize:E,maxAttributes:b,maxVertexUniforms:A,maxVaryings:C,maxFragmentUniforms:M,vertexTextures:I,maxSamples:k}}function Qit(i){const e=this;let n=null,r=0,s=!1,a=!1;const o=new Vp,l=new Fn,u={value:null,needsUpdate:!1};this.uniform=u,this.numPlanes=0,this.numIntersection=0,this.init=function(p,y){const _=p.length!==0||y||r!==0||s;return s=y,r=p.length,_},this.beginShadows=function(){a=!0,h(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(p,y){n=h(p,y,0)},this.setState=function(p,y,_){const x=p.clippingPlanes,S=p.clipIntersection,E=p.clipShadows,b=i.get(p);if(!s||x===null||x.length===0||a&&!E)a?h(null):f();else{const A=a?0:r,C=A*4;let M=b.clippingState||null;u.value=M,M=h(x,y,C,_);for(let I=0;I!==C;++I)M[I]=n[I];b.clippingState=M,this.numIntersection=S?this.numPlanes:0,this.numPlanes+=A}};function f(){u.value!==n&&(u.value=n,u.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function h(p,y,_,x){const S=p!==null?p.length:0;let E=null;if(S!==0){if(E=u.value,x!==!0||E===null){const b=_+S*4,A=y.matrixWorldInverse;l.getNormalMatrix(A),(E===null||E.length<b)&&(E=new Float32Array(b));for(let C=0,M=_;C!==S;++C,M+=4)o.copy(p[C]).applyMatrix4(A,l),o.normal.toArray(E,M),E[M+3]=o.constant}u.value=E,u.needsUpdate=!0}return e.numPlanes=S,e.numIntersection=0,E}}function Jit(i){let e=new WeakMap;function n(o,l){return l===Q1?o.mapping=Sd:l===J1&&(o.mapping=fm),o}function r(o){if(o&&o.isTexture){const l=o.mapping;if(l===Q1||l===J1)if(e.has(o)){const u=e.get(o).texture;return n(u,o.mapping)}else{const u=o.image;if(u&&u.height>0){const f=new n7(u.height);return f.fromEquirectangularTexture(i,o),e.set(o,f),o.addEventListener("dispose",s),n(f.texture,o.mapping)}else return null}}return o}function s(o){const l=o.target;l.removeEventListener("dispose",s);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function a(){e=new WeakMap}return{get:r,dispose:a}}const Wv=4,v5=[.125,.215,.35,.446,.526,.582],$g=20,CI=new sE,_5=new Fe;let RI=null,OI=0,II=0,PI=!1;const Fg=(1+Math.sqrt(5))/2,pv=1/Fg,b5=[new pt(-Fg,pv,0),new pt(Fg,pv,0),new pt(-pv,0,Fg),new pt(pv,0,Fg),new pt(0,Fg,-pv),new pt(0,Fg,pv),new pt(-1,1,-1),new pt(1,1,-1),new pt(-1,1,1),new pt(1,1,1)],trt=new pt;class FD{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,s=100,a={}){const{size:o=256,position:l=trt}=a;RI=this._renderer.getRenderTarget(),OI=this._renderer.getActiveCubeFace(),II=this._renderer.getActiveMipmapLevel(),PI=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(o);const u=this._allocateTargets();return u.depthBuffer=!0,this._sceneToCubeUV(e,r,s,u,l),n>0&&this._blur(u,0,0,n),this._applyPMREM(u),this._cleanup(u),u}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=E5(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=S5(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(RI,OI,II),this._renderer.xr.enabled=PI,e.scissorTest=!1,Nw(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===Sd||e.mapping===fm?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),RI=this._renderer.getRenderTarget(),OI=this._renderer.getActiveCubeFace(),II=this._renderer.getActiveMipmapLevel(),PI=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:zs,minFilter:zs,generateMipmaps:!1,type:W_,format:$a,colorSpace:hm,depthBuffer:!1},s=x5(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=x5(e,n,r);const{_lodMax:a}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=ert(a)),this._blurMaterial=nrt(a,e,n)}return s}_compileMaterial(e){const n=new es(this._lodPlanes[0],e);this._renderer.compile(n,CI)}_sceneToCubeUV(e,n,r,s,a){const u=new Qs(90,1,n,r),f=[1,-1,1,1,1,1],h=[1,1,1,-1,-1,-1],p=this._renderer,y=p.autoClear,_=p.toneMapping;p.getClearColor(_5),p.toneMapping=Gf,p.autoClear=!1;const x=new Tm({name:"PMREM.Background",side:wo,depthWrite:!1,depthTest:!1}),S=new es(new Hy,x);let E=!1;const b=e.background;b?b.isColor&&(x.color.copy(b),e.background=null,E=!0):(x.color.copy(_5),E=!0);for(let A=0;A<6;A++){const C=A%3;C===0?(u.up.set(0,f[A],0),u.position.set(a.x,a.y,a.z),u.lookAt(a.x+h[A],a.y,a.z)):C===1?(u.up.set(0,0,f[A]),u.position.set(a.x,a.y,a.z),u.lookAt(a.x,a.y+h[A],a.z)):(u.up.set(0,f[A],0),u.position.set(a.x,a.y,a.z),u.lookAt(a.x,a.y,a.z+h[A]));const M=this._cubeSize;Nw(s,C*M,A>2?M:0,M,M),p.setRenderTarget(s),E&&p.render(S,u),p.render(e,u)}S.geometry.dispose(),S.material.dispose(),p.toneMapping=_,p.autoClear=y,e.background=b}_textureToCubeUV(e,n){const r=this._renderer,s=e.mapping===Sd||e.mapping===fm;s?(this._cubemapMaterial===null&&(this._cubemapMaterial=E5()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=S5());const a=s?this._cubemapMaterial:this._equirectMaterial,o=new es(this._lodPlanes[0],a),l=a.uniforms;l.envMap.value=e;const u=this._cubeSize;Nw(n,0,0,3*u,2*u),r.setRenderTarget(n),r.render(o,CI)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;const s=this._lodPlanes.length;for(let a=1;a<s;a++){const o=Math.sqrt(this._sigmas[a]*this._sigmas[a]-this._sigmas[a-1]*this._sigmas[a-1]),l=b5[(s-a-1)%b5.length];this._blur(e,a-1,a,o,l)}n.autoClear=r}_blur(e,n,r,s,a){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,r,s,"latitudinal",a),this._halfBlur(o,e,r,r,s,"longitudinal",a)}_halfBlur(e,n,r,s,a,o,l){const u=this._renderer,f=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const h=3,p=new es(this._lodPlanes[s],f),y=f.uniforms,_=this._sizeLods[r]-1,x=isFinite(a)?Math.PI/(2*_):2*Math.PI/(2*$g-1),S=a/x,E=isFinite(a)?1+Math.floor(h*S):$g;E>$g&&console.warn(`sigmaRadians, ${a}, is too large and will clip, as it requested ${E} samples when the maximum is set to ${$g}`);const b=[];let A=0;for(let N=0;N<$g;++N){const L=N/S,U=Math.exp(-L*L/2);b.push(U),N===0?A+=U:N<E&&(A+=2*U)}for(let N=0;N<b.length;N++)b[N]=b[N]/A;y.envMap.value=e.texture,y.samples.value=E,y.weights.value=b,y.latitudinal.value=o==="latitudinal",l&&(y.poleAxis.value=l);const{_lodMax:C}=this;y.dTheta.value=x,y.mipInt.value=C-r;const M=this._sizeLods[s],I=3*M*(s>C-Wv?s-C+Wv:0),k=4*(this._cubeSize-M);Nw(n,I,k,3*M,2*M),u.setRenderTarget(n),u.render(p,CI)}}function ert(i){const e=[],n=[],r=[];let s=i;const a=i-Wv+1+v5.length;for(let o=0;o<a;o++){const l=Math.pow(2,s);n.push(l);let u=1/l;o>i-Wv?u=v5[o-i+Wv-1]:o===0&&(u=0),r.push(u);const f=1/(l-2),h=-f,p=1+f,y=[h,h,p,h,p,p,h,h,p,p,h,p],_=6,x=6,S=3,E=2,b=1,A=new Float32Array(S*x*_),C=new Float32Array(E*x*_),M=new Float32Array(b*x*_);for(let k=0;k<_;k++){const N=k%3*2/3-1,L=k>2?0:-1,U=[N,L,0,N+2/3,L,0,N+2/3,L+1,0,N,L,0,N+2/3,L+1,0,N,L+1,0];A.set(U,S*x*k),C.set(y,E*x*k);const O=[k,k,k,k,k,k];M.set(O,b*x*k)}const I=new qn;I.setAttribute("position",new $i(A,S)),I.setAttribute("uv",new $i(C,E)),I.setAttribute("faceIndex",new $i(M,b)),e.push(I),s>Wv&&s--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function x5(i,e,n){const r=new eh(i,e,n);return r.texture.mapping=$_,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Nw(i,e,n,r,s){i.viewport.set(e,n,r,s),i.scissor.set(e,n,r,s)}function nrt(i,e,n){const r=new Float32Array($g),s=new pt(0,1,0);return new ku({name:"SphericalGaussianBlur",defines:{n:$g,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${i}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:s}},vertexShader:FL(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:gd,depthTest:!1,depthWrite:!1})}function S5(){return new ku({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:FL(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:gd,depthTest:!1,depthWrite:!1})}function E5(){return new ku({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:FL(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:gd,depthTest:!1,depthWrite:!1})}function FL(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function irt(i){let e=new WeakMap,n=null;function r(l){if(l&&l.isTexture){const u=l.mapping,f=u===Q1||u===J1,h=u===Sd||u===fm;if(f||h){let p=e.get(l);const y=p!==void 0?p.texture.pmremVersion:0;if(l.isRenderTargetTexture&&l.pmremVersion!==y)return n===null&&(n=new FD(i)),p=f?n.fromEquirectangular(l,p):n.fromCubemap(l,p),p.texture.pmremVersion=l.pmremVersion,e.set(l,p),p.texture;if(p!==void 0)return p.texture;{const _=l.image;return f&&_&&_.height>0||h&&_&&s(_)?(n===null&&(n=new FD(i)),p=f?n.fromEquirectangular(l):n.fromCubemap(l),p.texture.pmremVersion=l.pmremVersion,e.set(l,p),l.addEventListener("dispose",a),p.texture):null}}}return l}function s(l){let u=0;const f=6;for(let h=0;h<f;h++)l[h]!==void 0&&u++;return u===f}function a(l){const u=l.target;u.removeEventListener("dispose",a);const f=e.get(u);f!==void 0&&(e.delete(u),f.dispose())}function o(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:o}}function rrt(i){const e={};function n(r){if(e[r]!==void 0)return e[r];let s;switch(r){case"WEBGL_depth_texture":s=i.getExtension("WEBGL_depth_texture")||i.getExtension("MOZ_WEBGL_depth_texture")||i.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":s=i.getExtension("EXT_texture_filter_anisotropic")||i.getExtension("MOZ_EXT_texture_filter_anisotropic")||i.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":s=i.getExtension("WEBGL_compressed_texture_s3tc")||i.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":s=i.getExtension("WEBGL_compressed_texture_pvrtc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:s=i.getExtension(r)}return e[r]=s,s}return{has:function(r){return n(r)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(r){const s=n(r);return s===null&&Bg("THREE.WebGLRenderer: "+r+" extension not supported."),s}}}function srt(i,e,n,r){const s={},a=new WeakMap;function o(p){const y=p.target;y.index!==null&&e.remove(y.index);for(const x in y.attributes)e.remove(y.attributes[x]);y.removeEventListener("dispose",o),delete s[y.id];const _=a.get(y);_&&(e.remove(_),a.delete(y)),r.releaseStatesOfGeometry(y),y.isInstancedBufferGeometry===!0&&delete y._maxInstanceCount,n.memory.geometries--}function l(p,y){return s[y.id]===!0||(y.addEventListener("dispose",o),s[y.id]=!0,n.memory.geometries++),y}function u(p){const y=p.attributes;for(const _ in y)e.update(y[_],i.ARRAY_BUFFER)}function f(p){const y=[],_=p.index,x=p.attributes.position;let S=0;if(_!==null){const A=_.array;S=_.version;for(let C=0,M=A.length;C<M;C+=3){const I=A[C+0],k=A[C+1],N=A[C+2];y.push(I,k,k,N,N,I)}}else if(x!==void 0){const A=x.array;S=x.version;for(let C=0,M=A.length/3-1;C<M;C+=3){const I=C+0,k=C+1,N=C+2;y.push(I,k,k,N,N,I)}}else return;const E=new(YH(y)?hL:fL)(y,1);E.version=S;const b=a.get(p);b&&e.remove(b),a.set(p,E)}function h(p){const y=a.get(p);if(y){const _=p.index;_!==null&&y.version<_.version&&f(p)}else f(p);return a.get(p)}return{get:l,update:u,getWireframeAttribute:h}}function art(i,e,n){let r;function s(y){r=y}let a,o;function l(y){a=y.type,o=y.bytesPerElement}function u(y,_){i.drawElements(r,_,a,y*o),n.update(_,r,1)}function f(y,_,x){x!==0&&(i.drawElementsInstanced(r,_,a,y*o,x),n.update(_,r,x))}function h(y,_,x){if(x===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,_,0,a,y,0,x);let E=0;for(let b=0;b<x;b++)E+=_[b];n.update(E,r,1)}function p(y,_,x,S){if(x===0)return;const E=e.get("WEBGL_multi_draw");if(E===null)for(let b=0;b<y.length;b++)f(y[b]/o,_[b],S[b]);else{E.multiDrawElementsInstancedWEBGL(r,_,0,a,y,0,S,0,x);let b=0;for(let A=0;A<x;A++)b+=_[A]*S[A];n.update(b,r,1)}}this.setMode=s,this.setIndex=l,this.render=u,this.renderInstances=f,this.renderMultiDraw=h,this.renderMultiDrawInstances=p}function ort(i){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(a,o,l){switch(n.calls++,o){case i.TRIANGLES:n.triangles+=l*(a/3);break;case i.LINES:n.lines+=l*(a/2);break;case i.LINE_STRIP:n.lines+=l*(a-1);break;case i.LINE_LOOP:n.lines+=l*a;break;case i.POINTS:n.points+=l*a;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function s(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:s,update:r}}function lrt(i,e,n){const r=new WeakMap,s=new xi;function a(o,l,u){const f=o.morphTargetInfluences,h=l.morphAttributes.position||l.morphAttributes.normal||l.morphAttributes.color,p=h!==void 0?h.length:0;let y=r.get(l);if(y===void 0||y.count!==p){let O=function(){L.dispose(),r.delete(l),l.removeEventListener("dispose",O)};var _=O;y!==void 0&&y.texture.dispose();const x=l.morphAttributes.position!==void 0,S=l.morphAttributes.normal!==void 0,E=l.morphAttributes.color!==void 0,b=l.morphAttributes.position||[],A=l.morphAttributes.normal||[],C=l.morphAttributes.color||[];let M=0;x===!0&&(M=1),S===!0&&(M=2),E===!0&&(M=3);let I=l.attributes.position.count*M,k=1;I>e.maxTextureSize&&(k=Math.ceil(I/e.maxTextureSize),I=e.maxTextureSize);const N=new Float32Array(I*k*4*p),L=new KS(N,I,k,p);L.type=sl,L.needsUpdate=!0;const U=M*4;for(let B=0;B<p;B++){const H=b[B],V=A[B],X=C[B],et=I*k*4*B;for(let q=0;q<H.count;q++){const W=q*U;x===!0&&(s.fromBufferAttribute(H,q),N[et+W+0]=s.x,N[et+W+1]=s.y,N[et+W+2]=s.z,N[et+W+3]=0),S===!0&&(s.fromBufferAttribute(V,q),N[et+W+4]=s.x,N[et+W+5]=s.y,N[et+W+6]=s.z,N[et+W+7]=0),E===!0&&(s.fromBufferAttribute(X,q),N[et+W+8]=s.x,N[et+W+9]=s.y,N[et+W+10]=s.z,N[et+W+11]=X.itemSize===4?s.w:1)}}y={count:p,texture:L,size:new pe(I,k)},r.set(l,y),l.addEventListener("dispose",O)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)u.getUniforms().setValue(i,"morphTexture",o.morphTexture,n);else{let x=0;for(let E=0;E<f.length;E++)x+=f[E];const S=l.morphTargetsRelative?1:1-x;u.getUniforms().setValue(i,"morphTargetBaseInfluence",S),u.getUniforms().setValue(i,"morphTargetInfluences",f)}u.getUniforms().setValue(i,"morphTargetsTexture",y.texture,n),u.getUniforms().setValue(i,"morphTargetsTextureSize",y.size)}return{update:a}}function urt(i,e,n,r){let s=new WeakMap;function a(u){const f=r.render.frame,h=u.geometry,p=e.get(u,h);if(s.get(p)!==f&&(e.update(p),s.set(p,f)),u.isInstancedMesh&&(u.hasEventListener("dispose",l)===!1&&u.addEventListener("dispose",l),s.get(u)!==f&&(n.update(u.instanceMatrix,i.ARRAY_BUFFER),u.instanceColor!==null&&n.update(u.instanceColor,i.ARRAY_BUFFER),s.set(u,f))),u.isSkinnedMesh){const y=u.skeleton;s.get(y)!==f&&(y.update(),s.set(y,f))}return p}function o(){s=new WeakMap}function l(u){const f=u.target;f.removeEventListener("dispose",l),n.remove(f.instanceMatrix),f.instanceColor!==null&&n.remove(f.instanceColor)}return{update:a,dispose:o}}const Z7=new is,T5=new yL(1,1),Q7=new KS,J7=new T2,tj=new ZS,w5=[],A5=[],M5=new Float32Array(16),C5=new Float32Array(9),R5=new Float32Array(4);function K_(i,e,n){const r=i[0];if(r<=0||r>0)return i;const s=e*n;let a=w5[s];if(a===void 0&&(a=new Float32Array(s),w5[s]=a),e!==0){r.toArray(a,0);for(let o=1,l=0;o!==e;++o)l+=n,i[o].toArray(a,l)}return a}function Vs(i,e){if(i.length!==e.length)return!1;for(let n=0,r=i.length;n<r;n++)if(i[n]!==e[n])return!1;return!0}function Hs(i,e){for(let n=0,r=e.length;n<r;n++)i[n]=e[n]}function W2(i,e){let n=A5[e];n===void 0&&(n=new Int32Array(e),A5[e]=n);for(let r=0;r!==e;++r)n[r]=i.allocateTextureUnit();return n}function crt(i,e){const n=this.cache;n[0]!==e&&(i.uniform1f(this.addr,e),n[0]=e)}function frt(i,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(i.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Vs(n,e))return;i.uniform2fv(this.addr,e),Hs(n,e)}}function hrt(i,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(i.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(i.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Vs(n,e))return;i.uniform3fv(this.addr,e),Hs(n,e)}}function drt(i,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(i.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Vs(n,e))return;i.uniform4fv(this.addr,e),Hs(n,e)}}function prt(i,e){const n=this.cache,r=e.elements;if(r===void 0){if(Vs(n,e))return;i.uniformMatrix2fv(this.addr,!1,e),Hs(n,e)}else{if(Vs(n,r))return;R5.set(r),i.uniformMatrix2fv(this.addr,!1,R5),Hs(n,r)}}function mrt(i,e){const n=this.cache,r=e.elements;if(r===void 0){if(Vs(n,e))return;i.uniformMatrix3fv(this.addr,!1,e),Hs(n,e)}else{if(Vs(n,r))return;C5.set(r),i.uniformMatrix3fv(this.addr,!1,C5),Hs(n,r)}}function grt(i,e){const n=this.cache,r=e.elements;if(r===void 0){if(Vs(n,e))return;i.uniformMatrix4fv(this.addr,!1,e),Hs(n,e)}else{if(Vs(n,r))return;M5.set(r),i.uniformMatrix4fv(this.addr,!1,M5),Hs(n,r)}}function yrt(i,e){const n=this.cache;n[0]!==e&&(i.uniform1i(this.addr,e),n[0]=e)}function vrt(i,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(i.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Vs(n,e))return;i.uniform2iv(this.addr,e),Hs(n,e)}}function _rt(i,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(i.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Vs(n,e))return;i.uniform3iv(this.addr,e),Hs(n,e)}}function brt(i,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(i.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Vs(n,e))return;i.uniform4iv(this.addr,e),Hs(n,e)}}function xrt(i,e){const n=this.cache;n[0]!==e&&(i.uniform1ui(this.addr,e),n[0]=e)}function Srt(i,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(i.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Vs(n,e))return;i.uniform2uiv(this.addr,e),Hs(n,e)}}function Ert(i,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(i.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Vs(n,e))return;i.uniform3uiv(this.addr,e),Hs(n,e)}}function Trt(i,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(i.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Vs(n,e))return;i.uniform4uiv(this.addr,e),Hs(n,e)}}function wrt(i,e,n){const r=this.cache,s=n.allocateTextureUnit();r[0]!==s&&(i.uniform1i(this.addr,s),r[0]=s);let a;this.type===i.SAMPLER_2D_SHADOW?(T5.compareFunction=uL,a=T5):a=Z7,n.setTexture2D(e||a,s)}function Art(i,e,n){const r=this.cache,s=n.allocateTextureUnit();r[0]!==s&&(i.uniform1i(this.addr,s),r[0]=s),n.setTexture3D(e||J7,s)}function Mrt(i,e,n){const r=this.cache,s=n.allocateTextureUnit();r[0]!==s&&(i.uniform1i(this.addr,s),r[0]=s),n.setTextureCube(e||tj,s)}function Crt(i,e,n){const r=this.cache,s=n.allocateTextureUnit();r[0]!==s&&(i.uniform1i(this.addr,s),r[0]=s),n.setTexture2DArray(e||Q7,s)}function Rrt(i){switch(i){case 5126:return crt;case 35664:return frt;case 35665:return hrt;case 35666:return drt;case 35674:return prt;case 35675:return mrt;case 35676:return grt;case 5124:case 35670:return yrt;case 35667:case 35671:return vrt;case 35668:case 35672:return _rt;case 35669:case 35673:return brt;case 5125:return xrt;case 36294:return Srt;case 36295:return Ert;case 36296:return Trt;case 35678:case 36198:case 36298:case 36306:case 35682:return wrt;case 35679:case 36299:case 36307:return Art;case 35680:case 36300:case 36308:case 36293:return Mrt;case 36289:case 36303:case 36311:case 36292:return Crt}}function Ort(i,e){i.uniform1fv(this.addr,e)}function Irt(i,e){const n=K_(e,this.size,2);i.uniform2fv(this.addr,n)}function Prt(i,e){const n=K_(e,this.size,3);i.uniform3fv(this.addr,n)}function Drt(i,e){const n=K_(e,this.size,4);i.uniform4fv(this.addr,n)}function Nrt(i,e){const n=K_(e,this.size,4);i.uniformMatrix2fv(this.addr,!1,n)}function Lrt(i,e){const n=K_(e,this.size,9);i.uniformMatrix3fv(this.addr,!1,n)}function Urt(i,e){const n=K_(e,this.size,16);i.uniformMatrix4fv(this.addr,!1,n)}function krt(i,e){i.uniform1iv(this.addr,e)}function zrt(i,e){i.uniform2iv(this.addr,e)}function Brt(i,e){i.uniform3iv(this.addr,e)}function Frt(i,e){i.uniform4iv(this.addr,e)}function Vrt(i,e){i.uniform1uiv(this.addr,e)}function Hrt(i,e){i.uniform2uiv(this.addr,e)}function jrt(i,e){i.uniform3uiv(this.addr,e)}function Grt(i,e){i.uniform4uiv(this.addr,e)}function qrt(i,e,n){const r=this.cache,s=e.length,a=W2(n,s);Vs(r,a)||(i.uniform1iv(this.addr,a),Hs(r,a));for(let o=0;o!==s;++o)n.setTexture2D(e[o]||Z7,a[o])}function $rt(i,e,n){const r=this.cache,s=e.length,a=W2(n,s);Vs(r,a)||(i.uniform1iv(this.addr,a),Hs(r,a));for(let o=0;o!==s;++o)n.setTexture3D(e[o]||J7,a[o])}function Wrt(i,e,n){const r=this.cache,s=e.length,a=W2(n,s);Vs(r,a)||(i.uniform1iv(this.addr,a),Hs(r,a));for(let o=0;o!==s;++o)n.setTextureCube(e[o]||tj,a[o])}function Xrt(i,e,n){const r=this.cache,s=e.length,a=W2(n,s);Vs(r,a)||(i.uniform1iv(this.addr,a),Hs(r,a));for(let o=0;o!==s;++o)n.setTexture2DArray(e[o]||Q7,a[o])}function Yrt(i){switch(i){case 5126:return Ort;case 35664:return Irt;case 35665:return Prt;case 35666:return Drt;case 35674:return Nrt;case 35675:return Lrt;case 35676:return Urt;case 5124:case 35670:return krt;case 35667:case 35671:return zrt;case 35668:case 35672:return Brt;case 35669:case 35673:return Frt;case 5125:return Vrt;case 36294:return Hrt;case 36295:return jrt;case 36296:return Grt;case 35678:case 36198:case 36298:case 36306:case 35682:return qrt;case 35679:case 36299:case 36307:return $rt;case 35680:case 36300:case 36308:case 36293:return Wrt;case 36289:case 36303:case 36311:case 36292:return Xrt}}class Krt{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=Rrt(n.type)}}class Zrt{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=Yrt(n.type)}}class Qrt{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const s=this.seq;for(let a=0,o=s.length;a!==o;++a){const l=s[a];l.setValue(e,n[l.id],r)}}}const DI=/(\w+)(\])?(\[|\.)?/g;function O5(i,e){i.seq.push(e),i.map[e.id]=e}function Jrt(i,e,n){const r=i.name,s=r.length;for(DI.lastIndex=0;;){const a=DI.exec(r),o=DI.lastIndex;let l=a[1];const u=a[2]==="]",f=a[3];if(u&&(l=l|0),f===void 0||f==="["&&o+2===s){O5(n,f===void 0?new Krt(l,i,e):new Zrt(l,i,e));break}else{let p=n.map[l];p===void 0&&(p=new Qrt(l),O5(n,p)),n=p}}}class zA{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let s=0;s<r;++s){const a=e.getActiveUniform(n,s),o=e.getUniformLocation(n,a.name);Jrt(a,o,this)}}setValue(e,n,r,s){const a=this.map[n];a!==void 0&&a.setValue(e,r,s)}setOptional(e,n,r){const s=n[r];s!==void 0&&this.setValue(e,r,s)}static upload(e,n,r,s){for(let a=0,o=n.length;a!==o;++a){const l=n[a],u=r[l.id];u.needsUpdate!==!1&&l.setValue(e,u.value,s)}}static seqWithValue(e,n){const r=[];for(let s=0,a=e.length;s!==a;++s){const o=e[s];o.id in n&&r.push(o)}return r}}function I5(i,e,n){const r=i.createShader(e);return i.shaderSource(r,n),i.compileShader(r),r}const tst=37297;let est=0;function nst(i,e){const n=i.split(`
`),r=[],s=Math.max(e-6,0),a=Math.min(e+6,n.length);for(let o=s;o<a;o++){const l=o+1;r.push(`${l===e?">":" "} ${l}: ${n[o]}`)}return r.join(`
`)}const P5=new Fn;function ist(i){mi._getMatrix(P5,mi.workingColorSpace,i);const e=`mat3( ${P5.elements.map(n=>n.toFixed(4))} )`;switch(mi.getTransfer(i)){case rS:return[e,"LinearTransferOETF"];case qi:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",i),[e,"LinearTransferOETF"]}}function D5(i,e,n){const r=i.getShaderParameter(e,i.COMPILE_STATUS),s=i.getShaderInfoLog(e).trim();if(r&&s==="")return"";const a=/ERROR: 0:(\d+)/.exec(s);if(a){const o=parseInt(a[1]);return n.toUpperCase()+`

`+s+`

`+nst(i.getShaderSource(e),o)}else return s}function rst(i,e){const n=ist(e);return[`vec4 ${i}( vec4 value ) {`,`	return ${n[1]}( vec4( value.rgb * ${n[0]}, value.a ) );`,"}"].join(`
`)}function sst(i,e){let n;switch(e){case CH:n="Linear";break;case RH:n="Reinhard";break;case OH:n="Cineon";break;case ZN:n="ACESFilmic";break;case PH:n="AgX";break;case DH:n="Neutral";break;case IH:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+i+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const Lw=new pt;function ast(){mi.getLuminanceCoefficients(Lw);const i=Lw.x.toFixed(4),e=Lw.y.toFixed(4),n=Lw.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${i}, ${e}, ${n} );`,"	return dot( weights, rgb );","}"].join(`
`)}function ost(i){return[i.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",i.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(u1).join(`
`)}function lst(i){const e=[];for(const n in i){const r=i[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function ust(i,e){const n={},r=i.getProgramParameter(e,i.ACTIVE_ATTRIBUTES);for(let s=0;s<r;s++){const a=i.getActiveAttrib(e,s),o=a.name;let l=1;a.type===i.FLOAT_MAT2&&(l=2),a.type===i.FLOAT_MAT3&&(l=3),a.type===i.FLOAT_MAT4&&(l=4),n[o]={type:a.type,location:i.getAttribLocation(e,o),locationSize:l}}return n}function u1(i){return i!==""}function N5(i,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return i.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function L5(i,e){return i.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const cst=/^[ \t]*#include +<([\w\d./]+)>/gm;function VD(i){return i.replace(cst,hst)}const fst=new Map;function hst(i,e){let n=Yn[e];if(n===void 0){const r=fst.get(e);if(r!==void 0)n=Yn[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return VD(n)}const dst=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function U5(i){return i.replace(dst,pst)}function pst(i,e,n,r){let s="";for(let a=parseInt(e);a<parseInt(n);a++)s+=r.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return s}function k5(i){let e=`precision ${i.precision} float;
	precision ${i.precision} int;
	precision ${i.precision} sampler2D;
	precision ${i.precision} samplerCube;
	precision ${i.precision} sampler3D;
	precision ${i.precision} sampler2DArray;
	precision ${i.precision} sampler2DShadow;
	precision ${i.precision} samplerCubeShadow;
	precision ${i.precision} sampler2DArrayShadow;
	precision ${i.precision} isampler2D;
	precision ${i.precision} isampler3D;
	precision ${i.precision} isamplerCube;
	precision ${i.precision} isampler2DArray;
	precision ${i.precision} usampler2D;
	precision ${i.precision} usampler3D;
	precision ${i.precision} usamplerCube;
	precision ${i.precision} usampler2DArray;
	`;return i.precision==="highp"?e+=`
#define HIGH_PRECISION`:i.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:i.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function mst(i){let e="SHADOWMAP_TYPE_BASIC";return i.shadowMapType===p2?e="SHADOWMAP_TYPE_PCF":i.shadowMapType===S1?e="SHADOWMAP_TYPE_PCF_SOFT":i.shadowMapType===_c&&(e="SHADOWMAP_TYPE_VSM"),e}function gst(i){let e="ENVMAP_TYPE_CUBE";if(i.envMap)switch(i.envMapMode){case Sd:case fm:e="ENVMAP_TYPE_CUBE";break;case $_:e="ENVMAP_TYPE_CUBE_UV";break}return e}function yst(i){let e="ENVMAP_MODE_REFLECTION";if(i.envMap)switch(i.envMapMode){case fm:e="ENVMAP_MODE_REFRACTION";break}return e}function vst(i){let e="ENVMAP_BLENDING_NONE";if(i.envMap)switch(i.combine){case XS:e="ENVMAP_BLENDING_MULTIPLY";break;case AH:e="ENVMAP_BLENDING_MIX";break;case MH:e="ENVMAP_BLENDING_ADD";break}return e}function _st(i){const e=i.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function bst(i,e,n,r){const s=i.getContext(),a=n.defines;let o=n.vertexShader,l=n.fragmentShader;const u=mst(n),f=gst(n),h=yst(n),p=vst(n),y=_st(n),_=ost(n),x=lst(a),S=s.createProgram();let E,b,A=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(E=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,x].filter(u1).join(`
`),E.length>0&&(E+=`
`),b=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,x].filter(u1).join(`
`),b.length>0&&(b+=`
`)):(E=[k5(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,x,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+h:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+u:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(u1).join(`
`),b=[k5(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,x,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+f:"",n.envMap?"#define "+h:"",n.envMap?"#define "+p:"",y?"#define CUBEUV_TEXEL_WIDTH "+y.texelWidth:"",y?"#define CUBEUV_TEXEL_HEIGHT "+y.texelHeight:"",y?"#define CUBEUV_MAX_MIP "+y.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+u:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Gf?"#define TONE_MAPPING":"",n.toneMapping!==Gf?Yn.tonemapping_pars_fragment:"",n.toneMapping!==Gf?sst("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Yn.colorspace_pars_fragment,rst("linearToOutputTexel",n.outputColorSpace),ast(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(u1).join(`
`)),o=VD(o),o=N5(o,n),o=L5(o,n),l=VD(l),l=N5(l,n),l=L5(l,n),o=U5(o),l=U5(l),n.isRawShaderMaterial!==!0&&(A=`#version 300 es
`,E=[_,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+E,b=["#define varying in",n.glslVersion===PD?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===PD?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+b);const C=A+E+o,M=A+b+l,I=I5(s,s.VERTEX_SHADER,C),k=I5(s,s.FRAGMENT_SHADER,M);s.attachShader(S,I),s.attachShader(S,k),n.index0AttributeName!==void 0?s.bindAttribLocation(S,0,n.index0AttributeName):n.morphTargets===!0&&s.bindAttribLocation(S,0,"position"),s.linkProgram(S);function N(B){if(i.debug.checkShaderErrors){const H=s.getProgramInfoLog(S).trim(),V=s.getShaderInfoLog(I).trim(),X=s.getShaderInfoLog(k).trim();let et=!0,q=!0;if(s.getProgramParameter(S,s.LINK_STATUS)===!1)if(et=!1,typeof i.debug.onShaderError=="function")i.debug.onShaderError(s,S,I,k);else{const W=D5(s,I,"vertex"),Z=D5(s,k,"fragment");console.error("THREE.WebGLProgram: Shader Error "+s.getError()+" - VALIDATE_STATUS "+s.getProgramParameter(S,s.VALIDATE_STATUS)+`

Material Name: `+B.name+`
Material Type: `+B.type+`

Program Info Log: `+H+`
`+W+`
`+Z)}else H!==""?console.warn("THREE.WebGLProgram: Program Info Log:",H):(V===""||X==="")&&(q=!1);q&&(B.diagnostics={runnable:et,programLog:H,vertexShader:{log:V,prefix:E},fragmentShader:{log:X,prefix:b}})}s.deleteShader(I),s.deleteShader(k),L=new zA(s,S),U=ust(s,S)}let L;this.getUniforms=function(){return L===void 0&&N(this),L};let U;this.getAttributes=function(){return U===void 0&&N(this),U};let O=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return O===!1&&(O=s.getProgramParameter(S,tst)),O},this.destroy=function(){r.releaseStatesOfProgram(this),s.deleteProgram(S),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=est++,this.cacheKey=e,this.usedTimes=1,this.program=S,this.vertexShader=I,this.fragmentShader=k,this}let xst=0;class Sst{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,s=this._getShaderStage(n),a=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(s)===!1&&(o.add(s),s.usedTimes++),o.has(a)===!1&&(o.add(a),a.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new Est(e),n.set(e,r)),r}}class Est{constructor(e){this.id=xst++,this.code=e,this.usedTimes=0}}function Tst(i,e,n,r,s,a,o){const l=new d_,u=new Sst,f=new Set,h=[],p=s.logarithmicDepthBuffer,y=s.vertexTextures;let _=s.precision;const x={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function S(U){return f.add(U),U===0?"uv":`uv${U}`}function E(U,O,B,H,V){const X=H.fog,et=V.geometry,q=U.isMeshStandardMaterial?H.environment:null,W=(U.isMeshStandardMaterial?n:e).get(U.envMap||q),Z=W&&W.mapping===$_?W.image.height:null,nt=x[U.type];U.precision!==null&&(_=s.getMaxPrecision(U.precision),_!==U.precision&&console.warn("THREE.WebGLProgram.getParameters:",U.precision,"not supported, using",_,"instead."));const Q=et.morphAttributes.position||et.morphAttributes.normal||et.morphAttributes.color,ht=Q!==void 0?Q.length:0;let yt=0;et.morphAttributes.position!==void 0&&(yt=1),et.morphAttributes.normal!==void 0&&(yt=2),et.morphAttributes.color!==void 0&&(yt=3);let xt,it,dt,ft;if(nt){const tn=xc[nt];xt=tn.vertexShader,it=tn.fragmentShader}else xt=U.vertexShader,it=U.fragmentShader,u.update(U),dt=u.getVertexShaderID(U),ft=u.getFragmentShaderID(U);const gt=i.getRenderTarget(),wt=i.state.buffers.depth.getReversed(),Kt=V.isInstancedMesh===!0,kt=V.isBatchedMesh===!0,ee=!!U.map,Pt=!!U.matcap,Vt=!!W,at=!!U.aoMap,ce=!!U.lightMap,te=!!U.bumpMap,ne=!!U.normalMap,ie=!!U.displacementMap,Me=!!U.emissiveMap,le=!!U.metalnessMap,lt=!!U.roughnessMap,j=U.anisotropy>0,ut=U.clearcoat>0,mt=U.dispersion>0,Rt=U.iridescence>0,_t=U.sheen>0,Ct=U.transmission>0,Lt=j&&!!U.anisotropyMap,Qt=ut&&!!U.clearcoatMap,De=ut&&!!U.clearcoatNormalMap,Ht=ut&&!!U.clearcoatRoughnessMap,_e=Rt&&!!U.iridescenceMap,Re=Rt&&!!U.iridescenceThicknessMap,Oe=_t&&!!U.sheenColorMap,Zt=_t&&!!U.sheenRoughnessMap,Pe=!!U.specularMap,Ne=!!U.specularColorMap,sn=!!U.specularIntensityMap,Tt=Ct&&!!U.transmissionMap,Ce=Ct&&!!U.thicknessMap,Xt=!!U.gradientMap,se=!!U.alphaMap,Ie=U.alphaTest>0,Se=!!U.alphaHash,on=!!U.extensions;let Kn=Gf;U.toneMapped&&(gt===null||gt.isXRRenderTarget===!0)&&(Kn=i.toneMapping);const Ve={shaderID:nt,shaderType:U.type,shaderName:U.name,vertexShader:xt,fragmentShader:it,defines:U.defines,customVertexShaderID:dt,customFragmentShaderID:ft,isRawShaderMaterial:U.isRawShaderMaterial===!0,glslVersion:U.glslVersion,precision:_,batching:kt,batchingColor:kt&&V._colorsTexture!==null,instancing:Kt,instancingColor:Kt&&V.instanceColor!==null,instancingMorph:Kt&&V.morphTexture!==null,supportsVertexTextures:y,outputColorSpace:gt===null?i.outputColorSpace:gt.isXRRenderTarget===!0?gt.texture.colorSpace:hm,alphaToCoverage:!!U.alphaToCoverage,map:ee,matcap:Pt,envMap:Vt,envMapMode:Vt&&W.mapping,envMapCubeUVHeight:Z,aoMap:at,lightMap:ce,bumpMap:te,normalMap:ne,displacementMap:y&&ie,emissiveMap:Me,normalMapObjectSpace:ne&&U.normalMapType===FH,normalMapTangentSpace:ne&&U.normalMapType===Em,metalnessMap:le,roughnessMap:lt,anisotropy:j,anisotropyMap:Lt,clearcoat:ut,clearcoatMap:Qt,clearcoatNormalMap:De,clearcoatRoughnessMap:Ht,dispersion:mt,iridescence:Rt,iridescenceMap:_e,iridescenceThicknessMap:Re,sheen:_t,sheenColorMap:Oe,sheenRoughnessMap:Zt,specularMap:Pe,specularColorMap:Ne,specularIntensityMap:sn,transmission:Ct,transmissionMap:Tt,thicknessMap:Ce,gradientMap:Xt,opaque:U.transparent===!1&&U.blending===uy&&U.alphaToCoverage===!1,alphaMap:se,alphaTest:Ie,alphaHash:Se,combine:U.combine,mapUv:ee&&S(U.map.channel),aoMapUv:at&&S(U.aoMap.channel),lightMapUv:ce&&S(U.lightMap.channel),bumpMapUv:te&&S(U.bumpMap.channel),normalMapUv:ne&&S(U.normalMap.channel),displacementMapUv:ie&&S(U.displacementMap.channel),emissiveMapUv:Me&&S(U.emissiveMap.channel),metalnessMapUv:le&&S(U.metalnessMap.channel),roughnessMapUv:lt&&S(U.roughnessMap.channel),anisotropyMapUv:Lt&&S(U.anisotropyMap.channel),clearcoatMapUv:Qt&&S(U.clearcoatMap.channel),clearcoatNormalMapUv:De&&S(U.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Ht&&S(U.clearcoatRoughnessMap.channel),iridescenceMapUv:_e&&S(U.iridescenceMap.channel),iridescenceThicknessMapUv:Re&&S(U.iridescenceThicknessMap.channel),sheenColorMapUv:Oe&&S(U.sheenColorMap.channel),sheenRoughnessMapUv:Zt&&S(U.sheenRoughnessMap.channel),specularMapUv:Pe&&S(U.specularMap.channel),specularColorMapUv:Ne&&S(U.specularColorMap.channel),specularIntensityMapUv:sn&&S(U.specularIntensityMap.channel),transmissionMapUv:Tt&&S(U.transmissionMap.channel),thicknessMapUv:Ce&&S(U.thicknessMap.channel),alphaMapUv:se&&S(U.alphaMap.channel),vertexTangents:!!et.attributes.tangent&&(ne||j),vertexColors:U.vertexColors,vertexAlphas:U.vertexColors===!0&&!!et.attributes.color&&et.attributes.color.itemSize===4,pointsUvs:V.isPoints===!0&&!!et.attributes.uv&&(ee||se),fog:!!X,useFog:U.fog===!0,fogExp2:!!X&&X.isFogExp2,flatShading:U.flatShading===!0,sizeAttenuation:U.sizeAttenuation===!0,logarithmicDepthBuffer:p,reverseDepthBuffer:wt,skinning:V.isSkinnedMesh===!0,morphTargets:et.morphAttributes.position!==void 0,morphNormals:et.morphAttributes.normal!==void 0,morphColors:et.morphAttributes.color!==void 0,morphTargetsCount:ht,morphTextureStride:yt,numDirLights:O.directional.length,numPointLights:O.point.length,numSpotLights:O.spot.length,numSpotLightMaps:O.spotLightMap.length,numRectAreaLights:O.rectArea.length,numHemiLights:O.hemi.length,numDirLightShadows:O.directionalShadowMap.length,numPointLightShadows:O.pointShadowMap.length,numSpotLightShadows:O.spotShadowMap.length,numSpotLightShadowsWithMaps:O.numSpotLightShadowsWithMaps,numLightProbes:O.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:U.dithering,shadowMapEnabled:i.shadowMap.enabled&&B.length>0,shadowMapType:i.shadowMap.type,toneMapping:Kn,decodeVideoTexture:ee&&U.map.isVideoTexture===!0&&mi.getTransfer(U.map.colorSpace)===qi,decodeVideoTextureEmissive:Me&&U.emissiveMap.isVideoTexture===!0&&mi.getTransfer(U.emissiveMap.colorSpace)===qi,premultipliedAlpha:U.premultipliedAlpha,doubleSided:U.side===Uf,flipSided:U.side===wo,useDepthPacking:U.depthPacking>=0,depthPacking:U.depthPacking||0,index0AttributeName:U.index0AttributeName,extensionClipCullDistance:on&&U.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(on&&U.extensions.multiDraw===!0||kt)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:U.customProgramCacheKey()};return Ve.vertexUv1s=f.has(1),Ve.vertexUv2s=f.has(2),Ve.vertexUv3s=f.has(3),f.clear(),Ve}function b(U){const O=[];if(U.shaderID?O.push(U.shaderID):(O.push(U.customVertexShaderID),O.push(U.customFragmentShaderID)),U.defines!==void 0)for(const B in U.defines)O.push(B),O.push(U.defines[B]);return U.isRawShaderMaterial===!1&&(A(O,U),C(O,U),O.push(i.outputColorSpace)),O.push(U.customProgramCacheKey),O.join()}function A(U,O){U.push(O.precision),U.push(O.outputColorSpace),U.push(O.envMapMode),U.push(O.envMapCubeUVHeight),U.push(O.mapUv),U.push(O.alphaMapUv),U.push(O.lightMapUv),U.push(O.aoMapUv),U.push(O.bumpMapUv),U.push(O.normalMapUv),U.push(O.displacementMapUv),U.push(O.emissiveMapUv),U.push(O.metalnessMapUv),U.push(O.roughnessMapUv),U.push(O.anisotropyMapUv),U.push(O.clearcoatMapUv),U.push(O.clearcoatNormalMapUv),U.push(O.clearcoatRoughnessMapUv),U.push(O.iridescenceMapUv),U.push(O.iridescenceThicknessMapUv),U.push(O.sheenColorMapUv),U.push(O.sheenRoughnessMapUv),U.push(O.specularMapUv),U.push(O.specularColorMapUv),U.push(O.specularIntensityMapUv),U.push(O.transmissionMapUv),U.push(O.thicknessMapUv),U.push(O.combine),U.push(O.fogExp2),U.push(O.sizeAttenuation),U.push(O.morphTargetsCount),U.push(O.morphAttributeCount),U.push(O.numDirLights),U.push(O.numPointLights),U.push(O.numSpotLights),U.push(O.numSpotLightMaps),U.push(O.numHemiLights),U.push(O.numRectAreaLights),U.push(O.numDirLightShadows),U.push(O.numPointLightShadows),U.push(O.numSpotLightShadows),U.push(O.numSpotLightShadowsWithMaps),U.push(O.numLightProbes),U.push(O.shadowMapType),U.push(O.toneMapping),U.push(O.numClippingPlanes),U.push(O.numClipIntersection),U.push(O.depthPacking)}function C(U,O){l.disableAll(),O.supportsVertexTextures&&l.enable(0),O.instancing&&l.enable(1),O.instancingColor&&l.enable(2),O.instancingMorph&&l.enable(3),O.matcap&&l.enable(4),O.envMap&&l.enable(5),O.normalMapObjectSpace&&l.enable(6),O.normalMapTangentSpace&&l.enable(7),O.clearcoat&&l.enable(8),O.iridescence&&l.enable(9),O.alphaTest&&l.enable(10),O.vertexColors&&l.enable(11),O.vertexAlphas&&l.enable(12),O.vertexUv1s&&l.enable(13),O.vertexUv2s&&l.enable(14),O.vertexUv3s&&l.enable(15),O.vertexTangents&&l.enable(16),O.anisotropy&&l.enable(17),O.alphaHash&&l.enable(18),O.batching&&l.enable(19),O.dispersion&&l.enable(20),O.batchingColor&&l.enable(21),U.push(l.mask),l.disableAll(),O.fog&&l.enable(0),O.useFog&&l.enable(1),O.flatShading&&l.enable(2),O.logarithmicDepthBuffer&&l.enable(3),O.reverseDepthBuffer&&l.enable(4),O.skinning&&l.enable(5),O.morphTargets&&l.enable(6),O.morphNormals&&l.enable(7),O.morphColors&&l.enable(8),O.premultipliedAlpha&&l.enable(9),O.shadowMapEnabled&&l.enable(10),O.doubleSided&&l.enable(11),O.flipSided&&l.enable(12),O.useDepthPacking&&l.enable(13),O.dithering&&l.enable(14),O.transmission&&l.enable(15),O.sheen&&l.enable(16),O.opaque&&l.enable(17),O.pointsUvs&&l.enable(18),O.decodeVideoTexture&&l.enable(19),O.decodeVideoTextureEmissive&&l.enable(20),O.alphaToCoverage&&l.enable(21),U.push(l.mask)}function M(U){const O=x[U.type];let B;if(O){const H=xc[O];B=t7.clone(H.uniforms)}else B=U.uniforms;return B}function I(U,O){let B;for(let H=0,V=h.length;H<V;H++){const X=h[H];if(X.cacheKey===O){B=X,++B.usedTimes;break}}return B===void 0&&(B=new bst(i,O,U,a),h.push(B)),B}function k(U){if(--U.usedTimes===0){const O=h.indexOf(U);h[O]=h[h.length-1],h.pop(),U.destroy()}}function N(U){u.remove(U)}function L(){u.dispose()}return{getParameters:E,getProgramCacheKey:b,getUniforms:M,acquireProgram:I,releaseProgram:k,releaseShaderCache:N,programs:h,dispose:L}}function wst(){let i=new WeakMap;function e(o){return i.has(o)}function n(o){let l=i.get(o);return l===void 0&&(l={},i.set(o,l)),l}function r(o){i.delete(o)}function s(o,l,u){i.get(o)[l]=u}function a(){i=new WeakMap}return{has:e,get:n,remove:r,update:s,dispose:a}}function Ast(i,e){return i.groupOrder!==e.groupOrder?i.groupOrder-e.groupOrder:i.renderOrder!==e.renderOrder?i.renderOrder-e.renderOrder:i.material.id!==e.material.id?i.material.id-e.material.id:i.z!==e.z?i.z-e.z:i.id-e.id}function z5(i,e){return i.groupOrder!==e.groupOrder?i.groupOrder-e.groupOrder:i.renderOrder!==e.renderOrder?i.renderOrder-e.renderOrder:i.z!==e.z?e.z-i.z:i.id-e.id}function B5(){const i=[];let e=0;const n=[],r=[],s=[];function a(){e=0,n.length=0,r.length=0,s.length=0}function o(p,y,_,x,S,E){let b=i[e];return b===void 0?(b={id:p.id,object:p,geometry:y,material:_,groupOrder:x,renderOrder:p.renderOrder,z:S,group:E},i[e]=b):(b.id=p.id,b.object=p,b.geometry=y,b.material=_,b.groupOrder=x,b.renderOrder=p.renderOrder,b.z=S,b.group=E),e++,b}function l(p,y,_,x,S,E){const b=o(p,y,_,x,S,E);_.transmission>0?r.push(b):_.transparent===!0?s.push(b):n.push(b)}function u(p,y,_,x,S,E){const b=o(p,y,_,x,S,E);_.transmission>0?r.unshift(b):_.transparent===!0?s.unshift(b):n.unshift(b)}function f(p,y){n.length>1&&n.sort(p||Ast),r.length>1&&r.sort(y||z5),s.length>1&&s.sort(y||z5)}function h(){for(let p=e,y=i.length;p<y;p++){const _=i[p];if(_.id===null)break;_.id=null,_.object=null,_.geometry=null,_.material=null,_.group=null}}return{opaque:n,transmissive:r,transparent:s,init:a,push:l,unshift:u,finish:h,sort:f}}function Mst(){let i=new WeakMap;function e(r,s){const a=i.get(r);let o;return a===void 0?(o=new B5,i.set(r,[o])):s>=a.length?(o=new B5,a.push(o)):o=a[s],o}function n(){i=new WeakMap}return{get:e,dispose:n}}function Cst(){const i={};return{get:function(e){if(i[e.id]!==void 0)return i[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new pt,color:new Fe};break;case"SpotLight":n={position:new pt,direction:new pt,color:new Fe,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new pt,color:new Fe,distance:0,decay:0};break;case"HemisphereLight":n={direction:new pt,skyColor:new Fe,groundColor:new Fe};break;case"RectAreaLight":n={color:new Fe,position:new pt,halfWidth:new pt,halfHeight:new pt};break}return i[e.id]=n,n}}}function Rst(){const i={};return{get:function(e){if(i[e.id]!==void 0)return i[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new pe};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new pe};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new pe,shadowCameraNear:1,shadowCameraFar:1e3};break}return i[e.id]=n,n}}}let Ost=0;function Ist(i,e){return(e.castShadow?2:0)-(i.castShadow?2:0)+(e.map?1:0)-(i.map?1:0)}function Pst(i){const e=new Cst,n=Rst(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let f=0;f<9;f++)r.probe.push(new pt);const s=new pt,a=new gn,o=new gn;function l(f){let h=0,p=0,y=0;for(let U=0;U<9;U++)r.probe[U].set(0,0,0);let _=0,x=0,S=0,E=0,b=0,A=0,C=0,M=0,I=0,k=0,N=0;f.sort(Ist);for(let U=0,O=f.length;U<O;U++){const B=f[U],H=B.color,V=B.intensity,X=B.distance,et=B.shadow&&B.shadow.map?B.shadow.map.texture:null;if(B.isAmbientLight)h+=H.r*V,p+=H.g*V,y+=H.b*V;else if(B.isLightProbe){for(let q=0;q<9;q++)r.probe[q].addScaledVector(B.sh.coefficients[q],V);N++}else if(B.isDirectionalLight){const q=e.get(B);if(q.color.copy(B.color).multiplyScalar(B.intensity),B.castShadow){const W=B.shadow,Z=n.get(B);Z.shadowIntensity=W.intensity,Z.shadowBias=W.bias,Z.shadowNormalBias=W.normalBias,Z.shadowRadius=W.radius,Z.shadowMapSize=W.mapSize,r.directionalShadow[_]=Z,r.directionalShadowMap[_]=et,r.directionalShadowMatrix[_]=B.shadow.matrix,A++}r.directional[_]=q,_++}else if(B.isSpotLight){const q=e.get(B);q.position.setFromMatrixPosition(B.matrixWorld),q.color.copy(H).multiplyScalar(V),q.distance=X,q.coneCos=Math.cos(B.angle),q.penumbraCos=Math.cos(B.angle*(1-B.penumbra)),q.decay=B.decay,r.spot[S]=q;const W=B.shadow;if(B.map&&(r.spotLightMap[I]=B.map,I++,W.updateMatrices(B),B.castShadow&&k++),r.spotLightMatrix[S]=W.matrix,B.castShadow){const Z=n.get(B);Z.shadowIntensity=W.intensity,Z.shadowBias=W.bias,Z.shadowNormalBias=W.normalBias,Z.shadowRadius=W.radius,Z.shadowMapSize=W.mapSize,r.spotShadow[S]=Z,r.spotShadowMap[S]=et,M++}S++}else if(B.isRectAreaLight){const q=e.get(B);q.color.copy(H).multiplyScalar(V),q.halfWidth.set(B.width*.5,0,0),q.halfHeight.set(0,B.height*.5,0),r.rectArea[E]=q,E++}else if(B.isPointLight){const q=e.get(B);if(q.color.copy(B.color).multiplyScalar(B.intensity),q.distance=B.distance,q.decay=B.decay,B.castShadow){const W=B.shadow,Z=n.get(B);Z.shadowIntensity=W.intensity,Z.shadowBias=W.bias,Z.shadowNormalBias=W.normalBias,Z.shadowRadius=W.radius,Z.shadowMapSize=W.mapSize,Z.shadowCameraNear=W.camera.near,Z.shadowCameraFar=W.camera.far,r.pointShadow[x]=Z,r.pointShadowMap[x]=et,r.pointShadowMatrix[x]=B.shadow.matrix,C++}r.point[x]=q,x++}else if(B.isHemisphereLight){const q=e.get(B);q.skyColor.copy(B.color).multiplyScalar(V),q.groundColor.copy(B.groundColor).multiplyScalar(V),r.hemi[b]=q,b++}}E>0&&(i.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Ue.LTC_FLOAT_1,r.rectAreaLTC2=Ue.LTC_FLOAT_2):(r.rectAreaLTC1=Ue.LTC_HALF_1,r.rectAreaLTC2=Ue.LTC_HALF_2)),r.ambient[0]=h,r.ambient[1]=p,r.ambient[2]=y;const L=r.hash;(L.directionalLength!==_||L.pointLength!==x||L.spotLength!==S||L.rectAreaLength!==E||L.hemiLength!==b||L.numDirectionalShadows!==A||L.numPointShadows!==C||L.numSpotShadows!==M||L.numSpotMaps!==I||L.numLightProbes!==N)&&(r.directional.length=_,r.spot.length=S,r.rectArea.length=E,r.point.length=x,r.hemi.length=b,r.directionalShadow.length=A,r.directionalShadowMap.length=A,r.pointShadow.length=C,r.pointShadowMap.length=C,r.spotShadow.length=M,r.spotShadowMap.length=M,r.directionalShadowMatrix.length=A,r.pointShadowMatrix.length=C,r.spotLightMatrix.length=M+I-k,r.spotLightMap.length=I,r.numSpotLightShadowsWithMaps=k,r.numLightProbes=N,L.directionalLength=_,L.pointLength=x,L.spotLength=S,L.rectAreaLength=E,L.hemiLength=b,L.numDirectionalShadows=A,L.numPointShadows=C,L.numSpotShadows=M,L.numSpotMaps=I,L.numLightProbes=N,r.version=Ost++)}function u(f,h){let p=0,y=0,_=0,x=0,S=0;const E=h.matrixWorldInverse;for(let b=0,A=f.length;b<A;b++){const C=f[b];if(C.isDirectionalLight){const M=r.directional[p];M.direction.setFromMatrixPosition(C.matrixWorld),s.setFromMatrixPosition(C.target.matrixWorld),M.direction.sub(s),M.direction.transformDirection(E),p++}else if(C.isSpotLight){const M=r.spot[_];M.position.setFromMatrixPosition(C.matrixWorld),M.position.applyMatrix4(E),M.direction.setFromMatrixPosition(C.matrixWorld),s.setFromMatrixPosition(C.target.matrixWorld),M.direction.sub(s),M.direction.transformDirection(E),_++}else if(C.isRectAreaLight){const M=r.rectArea[x];M.position.setFromMatrixPosition(C.matrixWorld),M.position.applyMatrix4(E),o.identity(),a.copy(C.matrixWorld),a.premultiply(E),o.extractRotation(a),M.halfWidth.set(C.width*.5,0,0),M.halfHeight.set(0,C.height*.5,0),M.halfWidth.applyMatrix4(o),M.halfHeight.applyMatrix4(o),x++}else if(C.isPointLight){const M=r.point[y];M.position.setFromMatrixPosition(C.matrixWorld),M.position.applyMatrix4(E),y++}else if(C.isHemisphereLight){const M=r.hemi[S];M.direction.setFromMatrixPosition(C.matrixWorld),M.direction.transformDirection(E),S++}}}return{setup:l,setupView:u,state:r}}function F5(i){const e=new Pst(i),n=[],r=[];function s(h){f.camera=h,n.length=0,r.length=0}function a(h){n.push(h)}function o(h){r.push(h)}function l(){e.setup(n)}function u(h){e.setupView(n,h)}const f={lightsArray:n,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:s,state:f,setupLights:l,setupLightsView:u,pushLight:a,pushShadow:o}}function Dst(i){let e=new WeakMap;function n(s,a=0){const o=e.get(s);let l;return o===void 0?(l=new F5(i),e.set(s,[l])):a>=o.length?(l=new F5(i),o.push(l)):l=o[a],l}function r(){e=new WeakMap}return{get:n,dispose:r}}const Nst=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Lst=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function Ust(i,e,n){let r=new QS;const s=new pe,a=new pe,o=new xi,l=new wL({depthPacking:BH}),u=new AL,f={},h=n.maxTextureSize,p={[xd]:wo,[wo]:xd,[Uf]:Uf},y=new ku({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new pe},radius:{value:4}},vertexShader:Nst,fragmentShader:Lst}),_=y.clone();_.defines.HORIZONTAL_PASS=1;const x=new qn;x.setAttribute("position",new $i(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const S=new es(x,y),E=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=p2;let b=this.type;this.render=function(k,N,L){if(E.enabled===!1||E.autoUpdate===!1&&E.needsUpdate===!1||k.length===0)return;const U=i.getRenderTarget(),O=i.getActiveCubeFace(),B=i.getActiveMipmapLevel(),H=i.state;H.setBlending(gd),H.buffers.color.setClear(1,1,1,1),H.buffers.depth.setTest(!0),H.setScissorTest(!1);const V=b!==_c&&this.type===_c,X=b===_c&&this.type!==_c;for(let et=0,q=k.length;et<q;et++){const W=k[et],Z=W.shadow;if(Z===void 0){console.warn("THREE.WebGLShadowMap:",W,"has no shadow.");continue}if(Z.autoUpdate===!1&&Z.needsUpdate===!1)continue;s.copy(Z.mapSize);const nt=Z.getFrameExtents();if(s.multiply(nt),a.copy(Z.mapSize),(s.x>h||s.y>h)&&(s.x>h&&(a.x=Math.floor(h/nt.x),s.x=a.x*nt.x,Z.mapSize.x=a.x),s.y>h&&(a.y=Math.floor(h/nt.y),s.y=a.y*nt.y,Z.mapSize.y=a.y)),Z.map===null||V===!0||X===!0){const ht=this.type!==_c?{minFilter:va,magFilter:va}:{};Z.map!==null&&Z.map.dispose(),Z.map=new eh(s.x,s.y,ht),Z.map.texture.name=W.name+".shadowMap",Z.camera.updateProjectionMatrix()}i.setRenderTarget(Z.map),i.clear();const Q=Z.getViewportCount();for(let ht=0;ht<Q;ht++){const yt=Z.getViewport(ht);o.set(a.x*yt.x,a.y*yt.y,a.x*yt.z,a.y*yt.w),H.viewport(o),Z.updateMatrices(W,ht),r=Z.getFrustum(),M(N,L,Z.camera,W,this.type)}Z.isPointLightShadow!==!0&&this.type===_c&&A(Z,L),Z.needsUpdate=!1}b=this.type,E.needsUpdate=!1,i.setRenderTarget(U,O,B)};function A(k,N){const L=e.update(S);y.defines.VSM_SAMPLES!==k.blurSamples&&(y.defines.VSM_SAMPLES=k.blurSamples,_.defines.VSM_SAMPLES=k.blurSamples,y.needsUpdate=!0,_.needsUpdate=!0),k.mapPass===null&&(k.mapPass=new eh(s.x,s.y)),y.uniforms.shadow_pass.value=k.map.texture,y.uniforms.resolution.value=k.mapSize,y.uniforms.radius.value=k.radius,i.setRenderTarget(k.mapPass),i.clear(),i.renderBufferDirect(N,null,L,y,S,null),_.uniforms.shadow_pass.value=k.mapPass.texture,_.uniforms.resolution.value=k.mapSize,_.uniforms.radius.value=k.radius,i.setRenderTarget(k.map),i.clear(),i.renderBufferDirect(N,null,L,_,S,null)}function C(k,N,L,U){let O=null;const B=L.isPointLight===!0?k.customDistanceMaterial:k.customDepthMaterial;if(B!==void 0)O=B;else if(O=L.isPointLight===!0?u:l,i.localClippingEnabled&&N.clipShadows===!0&&Array.isArray(N.clippingPlanes)&&N.clippingPlanes.length!==0||N.displacementMap&&N.displacementScale!==0||N.alphaMap&&N.alphaTest>0||N.map&&N.alphaTest>0){const H=O.uuid,V=N.uuid;let X=f[H];X===void 0&&(X={},f[H]=X);let et=X[V];et===void 0&&(et=O.clone(),X[V]=et,N.addEventListener("dispose",I)),O=et}if(O.visible=N.visible,O.wireframe=N.wireframe,U===_c?O.side=N.shadowSide!==null?N.shadowSide:N.side:O.side=N.shadowSide!==null?N.shadowSide:p[N.side],O.alphaMap=N.alphaMap,O.alphaTest=N.alphaTest,O.map=N.map,O.clipShadows=N.clipShadows,O.clippingPlanes=N.clippingPlanes,O.clipIntersection=N.clipIntersection,O.displacementMap=N.displacementMap,O.displacementScale=N.displacementScale,O.displacementBias=N.displacementBias,O.wireframeLinewidth=N.wireframeLinewidth,O.linewidth=N.linewidth,L.isPointLight===!0&&O.isMeshDistanceMaterial===!0){const H=i.properties.get(O);H.light=L}return O}function M(k,N,L,U,O){if(k.visible===!1)return;if(k.layers.test(N.layers)&&(k.isMesh||k.isLine||k.isPoints)&&(k.castShadow||k.receiveShadow&&O===_c)&&(!k.frustumCulled||r.intersectsObject(k))){k.modelViewMatrix.multiplyMatrices(L.matrixWorldInverse,k.matrixWorld);const V=e.update(k),X=k.material;if(Array.isArray(X)){const et=V.groups;for(let q=0,W=et.length;q<W;q++){const Z=et[q],nt=X[Z.materialIndex];if(nt&&nt.visible){const Q=C(k,nt,U,O);k.onBeforeShadow(i,k,N,L,V,Q,Z),i.renderBufferDirect(L,null,V,Q,k,Z),k.onAfterShadow(i,k,N,L,V,Q,Z)}}}else if(X.visible){const et=C(k,X,U,O);k.onBeforeShadow(i,k,N,L,V,et,null),i.renderBufferDirect(L,null,V,et,k,null),k.onAfterShadow(i,k,N,L,V,et,null)}}const H=k.children;for(let V=0,X=H.length;V<X;V++)M(H[V],N,L,U,O)}function I(k){k.target.removeEventListener("dispose",I);for(const L in f){const U=f[L],O=k.target.uuid;O in U&&(U[O].dispose(),delete U[O])}}}const kst={[bM]:xM,[SM]:wM,[EM]:AM,[Ey]:TM,[xM]:bM,[wM]:SM,[AM]:EM,[TM]:Ey};function zst(i,e){function n(){let Tt=!1;const Ce=new xi;let Xt=null;const se=new xi(0,0,0,0);return{setMask:function(Ie){Xt!==Ie&&!Tt&&(i.colorMask(Ie,Ie,Ie,Ie),Xt=Ie)},setLocked:function(Ie){Tt=Ie},setClear:function(Ie,Se,on,Kn,Ve){Ve===!0&&(Ie*=Kn,Se*=Kn,on*=Kn),Ce.set(Ie,Se,on,Kn),se.equals(Ce)===!1&&(i.clearColor(Ie,Se,on,Kn),se.copy(Ce))},reset:function(){Tt=!1,Xt=null,se.set(-1,0,0,0)}}}function r(){let Tt=!1,Ce=!1,Xt=null,se=null,Ie=null;return{setReversed:function(Se){if(Ce!==Se){const on=e.get("EXT_clip_control");Ce?on.clipControlEXT(on.LOWER_LEFT_EXT,on.ZERO_TO_ONE_EXT):on.clipControlEXT(on.LOWER_LEFT_EXT,on.NEGATIVE_ONE_TO_ONE_EXT);const Kn=Ie;Ie=null,this.setClear(Kn)}Ce=Se},getReversed:function(){return Ce},setTest:function(Se){Se?gt(i.DEPTH_TEST):wt(i.DEPTH_TEST)},setMask:function(Se){Xt!==Se&&!Tt&&(i.depthMask(Se),Xt=Se)},setFunc:function(Se){if(Ce&&(Se=kst[Se]),se!==Se){switch(Se){case bM:i.depthFunc(i.NEVER);break;case xM:i.depthFunc(i.ALWAYS);break;case SM:i.depthFunc(i.LESS);break;case Ey:i.depthFunc(i.LEQUAL);break;case EM:i.depthFunc(i.EQUAL);break;case TM:i.depthFunc(i.GEQUAL);break;case wM:i.depthFunc(i.GREATER);break;case AM:i.depthFunc(i.NOTEQUAL);break;default:i.depthFunc(i.LEQUAL)}se=Se}},setLocked:function(Se){Tt=Se},setClear:function(Se){Ie!==Se&&(Ce&&(Se=1-Se),i.clearDepth(Se),Ie=Se)},reset:function(){Tt=!1,Xt=null,se=null,Ie=null,Ce=!1}}}function s(){let Tt=!1,Ce=null,Xt=null,se=null,Ie=null,Se=null,on=null,Kn=null,Ve=null;return{setTest:function(tn){Tt||(tn?gt(i.STENCIL_TEST):wt(i.STENCIL_TEST))},setMask:function(tn){Ce!==tn&&!Tt&&(i.stencilMask(tn),Ce=tn)},setFunc:function(tn,Ee,ye){(Xt!==tn||se!==Ee||Ie!==ye)&&(i.stencilFunc(tn,Ee,ye),Xt=tn,se=Ee,Ie=ye)},setOp:function(tn,Ee,ye){(Se!==tn||on!==Ee||Kn!==ye)&&(i.stencilOp(tn,Ee,ye),Se=tn,on=Ee,Kn=ye)},setLocked:function(tn){Tt=tn},setClear:function(tn){Ve!==tn&&(i.clearStencil(tn),Ve=tn)},reset:function(){Tt=!1,Ce=null,Xt=null,se=null,Ie=null,Se=null,on=null,Kn=null,Ve=null}}}const a=new n,o=new r,l=new s,u=new WeakMap,f=new WeakMap;let h={},p={},y=new WeakMap,_=[],x=null,S=!1,E=null,b=null,A=null,C=null,M=null,I=null,k=null,N=new Fe(0,0,0),L=0,U=!1,O=null,B=null,H=null,V=null,X=null;const et=i.getParameter(i.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let q=!1,W=0;const Z=i.getParameter(i.VERSION);Z.indexOf("WebGL")!==-1?(W=parseFloat(/^WebGL (\d)/.exec(Z)[1]),q=W>=1):Z.indexOf("OpenGL ES")!==-1&&(W=parseFloat(/^OpenGL ES (\d)/.exec(Z)[1]),q=W>=2);let nt=null,Q={};const ht=i.getParameter(i.SCISSOR_BOX),yt=i.getParameter(i.VIEWPORT),xt=new xi().fromArray(ht),it=new xi().fromArray(yt);function dt(Tt,Ce,Xt,se){const Ie=new Uint8Array(4),Se=i.createTexture();i.bindTexture(Tt,Se),i.texParameteri(Tt,i.TEXTURE_MIN_FILTER,i.NEAREST),i.texParameteri(Tt,i.TEXTURE_MAG_FILTER,i.NEAREST);for(let on=0;on<Xt;on++)Tt===i.TEXTURE_3D||Tt===i.TEXTURE_2D_ARRAY?i.texImage3D(Ce,0,i.RGBA,1,1,se,0,i.RGBA,i.UNSIGNED_BYTE,Ie):i.texImage2D(Ce+on,0,i.RGBA,1,1,0,i.RGBA,i.UNSIGNED_BYTE,Ie);return Se}const ft={};ft[i.TEXTURE_2D]=dt(i.TEXTURE_2D,i.TEXTURE_2D,1),ft[i.TEXTURE_CUBE_MAP]=dt(i.TEXTURE_CUBE_MAP,i.TEXTURE_CUBE_MAP_POSITIVE_X,6),ft[i.TEXTURE_2D_ARRAY]=dt(i.TEXTURE_2D_ARRAY,i.TEXTURE_2D_ARRAY,1,1),ft[i.TEXTURE_3D]=dt(i.TEXTURE_3D,i.TEXTURE_3D,1,1),a.setClear(0,0,0,1),o.setClear(1),l.setClear(0),gt(i.DEPTH_TEST),o.setFunc(Ey),te(!1),ne(MD),gt(i.CULL_FACE),at(gd);function gt(Tt){h[Tt]!==!0&&(i.enable(Tt),h[Tt]=!0)}function wt(Tt){h[Tt]!==!1&&(i.disable(Tt),h[Tt]=!1)}function Kt(Tt,Ce){return p[Tt]!==Ce?(i.bindFramebuffer(Tt,Ce),p[Tt]=Ce,Tt===i.DRAW_FRAMEBUFFER&&(p[i.FRAMEBUFFER]=Ce),Tt===i.FRAMEBUFFER&&(p[i.DRAW_FRAMEBUFFER]=Ce),!0):!1}function kt(Tt,Ce){let Xt=_,se=!1;if(Tt){Xt=y.get(Ce),Xt===void 0&&(Xt=[],y.set(Ce,Xt));const Ie=Tt.textures;if(Xt.length!==Ie.length||Xt[0]!==i.COLOR_ATTACHMENT0){for(let Se=0,on=Ie.length;Se<on;Se++)Xt[Se]=i.COLOR_ATTACHMENT0+Se;Xt.length=Ie.length,se=!0}}else Xt[0]!==i.BACK&&(Xt[0]=i.BACK,se=!0);se&&i.drawBuffers(Xt)}function ee(Tt){return x!==Tt?(i.useProgram(Tt),x=Tt,!0):!1}const Pt={[jp]:i.FUNC_ADD,[uH]:i.FUNC_SUBTRACT,[cH]:i.FUNC_REVERSE_SUBTRACT};Pt[fH]=i.MIN,Pt[hH]=i.MAX;const Vt={[dH]:i.ZERO,[pH]:i.ONE,[mH]:i.SRC_COLOR,[vM]:i.SRC_ALPHA,[xH]:i.SRC_ALPHA_SATURATE,[_H]:i.DST_COLOR,[yH]:i.DST_ALPHA,[gH]:i.ONE_MINUS_SRC_COLOR,[_M]:i.ONE_MINUS_SRC_ALPHA,[bH]:i.ONE_MINUS_DST_COLOR,[vH]:i.ONE_MINUS_DST_ALPHA,[SH]:i.CONSTANT_COLOR,[EH]:i.ONE_MINUS_CONSTANT_COLOR,[TH]:i.CONSTANT_ALPHA,[wH]:i.ONE_MINUS_CONSTANT_ALPHA};function at(Tt,Ce,Xt,se,Ie,Se,on,Kn,Ve,tn){if(Tt===gd){S===!0&&(wt(i.BLEND),S=!1);return}if(S===!1&&(gt(i.BLEND),S=!0),Tt!==lH){if(Tt!==E||tn!==U){if((b!==jp||M!==jp)&&(i.blendEquation(i.FUNC_ADD),b=jp,M=jp),tn)switch(Tt){case uy:i.blendFuncSeparate(i.ONE,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case yM:i.blendFunc(i.ONE,i.ONE);break;case CD:i.blendFuncSeparate(i.ZERO,i.ONE_MINUS_SRC_COLOR,i.ZERO,i.ONE);break;case RD:i.blendFuncSeparate(i.ZERO,i.SRC_COLOR,i.ZERO,i.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",Tt);break}else switch(Tt){case uy:i.blendFuncSeparate(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case yM:i.blendFunc(i.SRC_ALPHA,i.ONE);break;case CD:i.blendFuncSeparate(i.ZERO,i.ONE_MINUS_SRC_COLOR,i.ZERO,i.ONE);break;case RD:i.blendFunc(i.ZERO,i.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",Tt);break}A=null,C=null,I=null,k=null,N.set(0,0,0),L=0,E=Tt,U=tn}return}Ie=Ie||Ce,Se=Se||Xt,on=on||se,(Ce!==b||Ie!==M)&&(i.blendEquationSeparate(Pt[Ce],Pt[Ie]),b=Ce,M=Ie),(Xt!==A||se!==C||Se!==I||on!==k)&&(i.blendFuncSeparate(Vt[Xt],Vt[se],Vt[Se],Vt[on]),A=Xt,C=se,I=Se,k=on),(Kn.equals(N)===!1||Ve!==L)&&(i.blendColor(Kn.r,Kn.g,Kn.b,Ve),N.copy(Kn),L=Ve),E=Tt,U=!1}function ce(Tt,Ce){Tt.side===Uf?wt(i.CULL_FACE):gt(i.CULL_FACE);let Xt=Tt.side===wo;Ce&&(Xt=!Xt),te(Xt),Tt.blending===uy&&Tt.transparent===!1?at(gd):at(Tt.blending,Tt.blendEquation,Tt.blendSrc,Tt.blendDst,Tt.blendEquationAlpha,Tt.blendSrcAlpha,Tt.blendDstAlpha,Tt.blendColor,Tt.blendAlpha,Tt.premultipliedAlpha),o.setFunc(Tt.depthFunc),o.setTest(Tt.depthTest),o.setMask(Tt.depthWrite),a.setMask(Tt.colorWrite);const se=Tt.stencilWrite;l.setTest(se),se&&(l.setMask(Tt.stencilWriteMask),l.setFunc(Tt.stencilFunc,Tt.stencilRef,Tt.stencilFuncMask),l.setOp(Tt.stencilFail,Tt.stencilZFail,Tt.stencilZPass)),Me(Tt.polygonOffset,Tt.polygonOffsetFactor,Tt.polygonOffsetUnits),Tt.alphaToCoverage===!0?gt(i.SAMPLE_ALPHA_TO_COVERAGE):wt(i.SAMPLE_ALPHA_TO_COVERAGE)}function te(Tt){O!==Tt&&(Tt?i.frontFace(i.CW):i.frontFace(i.CCW),O=Tt)}function ne(Tt){Tt!==sH?(gt(i.CULL_FACE),Tt!==B&&(Tt===MD?i.cullFace(i.BACK):Tt===aH?i.cullFace(i.FRONT):i.cullFace(i.FRONT_AND_BACK))):wt(i.CULL_FACE),B=Tt}function ie(Tt){Tt!==H&&(q&&i.lineWidth(Tt),H=Tt)}function Me(Tt,Ce,Xt){Tt?(gt(i.POLYGON_OFFSET_FILL),(V!==Ce||X!==Xt)&&(i.polygonOffset(Ce,Xt),V=Ce,X=Xt)):wt(i.POLYGON_OFFSET_FILL)}function le(Tt){Tt?gt(i.SCISSOR_TEST):wt(i.SCISSOR_TEST)}function lt(Tt){Tt===void 0&&(Tt=i.TEXTURE0+et-1),nt!==Tt&&(i.activeTexture(Tt),nt=Tt)}function j(Tt,Ce,Xt){Xt===void 0&&(nt===null?Xt=i.TEXTURE0+et-1:Xt=nt);let se=Q[Xt];se===void 0&&(se={type:void 0,texture:void 0},Q[Xt]=se),(se.type!==Tt||se.texture!==Ce)&&(nt!==Xt&&(i.activeTexture(Xt),nt=Xt),i.bindTexture(Tt,Ce||ft[Tt]),se.type=Tt,se.texture=Ce)}function ut(){const Tt=Q[nt];Tt!==void 0&&Tt.type!==void 0&&(i.bindTexture(Tt.type,null),Tt.type=void 0,Tt.texture=void 0)}function mt(){try{i.compressedTexImage2D(...arguments)}catch(Tt){console.error("THREE.WebGLState:",Tt)}}function Rt(){try{i.compressedTexImage3D(...arguments)}catch(Tt){console.error("THREE.WebGLState:",Tt)}}function _t(){try{i.texSubImage2D(...arguments)}catch(Tt){console.error("THREE.WebGLState:",Tt)}}function Ct(){try{i.texSubImage3D(...arguments)}catch(Tt){console.error("THREE.WebGLState:",Tt)}}function Lt(){try{i.compressedTexSubImage2D(...arguments)}catch(Tt){console.error("THREE.WebGLState:",Tt)}}function Qt(){try{i.compressedTexSubImage3D(...arguments)}catch(Tt){console.error("THREE.WebGLState:",Tt)}}function De(){try{i.texStorage2D(...arguments)}catch(Tt){console.error("THREE.WebGLState:",Tt)}}function Ht(){try{i.texStorage3D(...arguments)}catch(Tt){console.error("THREE.WebGLState:",Tt)}}function _e(){try{i.texImage2D(...arguments)}catch(Tt){console.error("THREE.WebGLState:",Tt)}}function Re(){try{i.texImage3D(...arguments)}catch(Tt){console.error("THREE.WebGLState:",Tt)}}function Oe(Tt){xt.equals(Tt)===!1&&(i.scissor(Tt.x,Tt.y,Tt.z,Tt.w),xt.copy(Tt))}function Zt(Tt){it.equals(Tt)===!1&&(i.viewport(Tt.x,Tt.y,Tt.z,Tt.w),it.copy(Tt))}function Pe(Tt,Ce){let Xt=f.get(Ce);Xt===void 0&&(Xt=new WeakMap,f.set(Ce,Xt));let se=Xt.get(Tt);se===void 0&&(se=i.getUniformBlockIndex(Ce,Tt.name),Xt.set(Tt,se))}function Ne(Tt,Ce){const se=f.get(Ce).get(Tt);u.get(Ce)!==se&&(i.uniformBlockBinding(Ce,se,Tt.__bindingPointIndex),u.set(Ce,se))}function sn(){i.disable(i.BLEND),i.disable(i.CULL_FACE),i.disable(i.DEPTH_TEST),i.disable(i.POLYGON_OFFSET_FILL),i.disable(i.SCISSOR_TEST),i.disable(i.STENCIL_TEST),i.disable(i.SAMPLE_ALPHA_TO_COVERAGE),i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ONE,i.ZERO),i.blendFuncSeparate(i.ONE,i.ZERO,i.ONE,i.ZERO),i.blendColor(0,0,0,0),i.colorMask(!0,!0,!0,!0),i.clearColor(0,0,0,0),i.depthMask(!0),i.depthFunc(i.LESS),o.setReversed(!1),i.clearDepth(1),i.stencilMask(4294967295),i.stencilFunc(i.ALWAYS,0,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.KEEP),i.clearStencil(0),i.cullFace(i.BACK),i.frontFace(i.CCW),i.polygonOffset(0,0),i.activeTexture(i.TEXTURE0),i.bindFramebuffer(i.FRAMEBUFFER,null),i.bindFramebuffer(i.DRAW_FRAMEBUFFER,null),i.bindFramebuffer(i.READ_FRAMEBUFFER,null),i.useProgram(null),i.lineWidth(1),i.scissor(0,0,i.canvas.width,i.canvas.height),i.viewport(0,0,i.canvas.width,i.canvas.height),h={},nt=null,Q={},p={},y=new WeakMap,_=[],x=null,S=!1,E=null,b=null,A=null,C=null,M=null,I=null,k=null,N=new Fe(0,0,0),L=0,U=!1,O=null,B=null,H=null,V=null,X=null,xt.set(0,0,i.canvas.width,i.canvas.height),it.set(0,0,i.canvas.width,i.canvas.height),a.reset(),o.reset(),l.reset()}return{buffers:{color:a,depth:o,stencil:l},enable:gt,disable:wt,bindFramebuffer:Kt,drawBuffers:kt,useProgram:ee,setBlending:at,setMaterial:ce,setFlipSided:te,setCullFace:ne,setLineWidth:ie,setPolygonOffset:Me,setScissorTest:le,activeTexture:lt,bindTexture:j,unbindTexture:ut,compressedTexImage2D:mt,compressedTexImage3D:Rt,texImage2D:_e,texImage3D:Re,updateUBOMapping:Pe,uniformBlockBinding:Ne,texStorage2D:De,texStorage3D:Ht,texSubImage2D:_t,texSubImage3D:Ct,compressedTexSubImage2D:Lt,compressedTexSubImage3D:Qt,scissor:Oe,viewport:Zt,reset:sn}}function Bst(i,e,n,r,s,a,o){const l=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,u=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),f=new pe,h=new WeakMap;let p;const y=new WeakMap;let _=!1;try{_=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function x(lt,j){return _?new OffscreenCanvas(lt,j):oS("canvas")}function S(lt,j,ut){let mt=1;const Rt=le(lt);if((Rt.width>ut||Rt.height>ut)&&(mt=ut/Math.max(Rt.width,Rt.height)),mt<1)if(typeof HTMLImageElement<"u"&&lt instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&lt instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&lt instanceof ImageBitmap||typeof VideoFrame<"u"&&lt instanceof VideoFrame){const _t=Math.floor(mt*Rt.width),Ct=Math.floor(mt*Rt.height);p===void 0&&(p=x(_t,Ct));const Lt=j?x(_t,Ct):p;return Lt.width=_t,Lt.height=Ct,Lt.getContext("2d").drawImage(lt,0,0,_t,Ct),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Rt.width+"x"+Rt.height+") to ("+_t+"x"+Ct+")."),Lt}else return"data"in lt&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Rt.width+"x"+Rt.height+")."),lt;return lt}function E(lt){return lt.generateMipmaps}function b(lt){i.generateMipmap(lt)}function A(lt){return lt.isWebGLCubeRenderTarget?i.TEXTURE_CUBE_MAP:lt.isWebGL3DRenderTarget?i.TEXTURE_3D:lt.isWebGLArrayRenderTarget||lt.isCompressedArrayTexture?i.TEXTURE_2D_ARRAY:i.TEXTURE_2D}function C(lt,j,ut,mt,Rt=!1){if(lt!==null){if(i[lt]!==void 0)return i[lt];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+lt+"'")}let _t=j;if(j===i.RED&&(ut===i.FLOAT&&(_t=i.R32F),ut===i.HALF_FLOAT&&(_t=i.R16F),ut===i.UNSIGNED_BYTE&&(_t=i.R8)),j===i.RED_INTEGER&&(ut===i.UNSIGNED_BYTE&&(_t=i.R8UI),ut===i.UNSIGNED_SHORT&&(_t=i.R16UI),ut===i.UNSIGNED_INT&&(_t=i.R32UI),ut===i.BYTE&&(_t=i.R8I),ut===i.SHORT&&(_t=i.R16I),ut===i.INT&&(_t=i.R32I)),j===i.RG&&(ut===i.FLOAT&&(_t=i.RG32F),ut===i.HALF_FLOAT&&(_t=i.RG16F),ut===i.UNSIGNED_BYTE&&(_t=i.RG8)),j===i.RG_INTEGER&&(ut===i.UNSIGNED_BYTE&&(_t=i.RG8UI),ut===i.UNSIGNED_SHORT&&(_t=i.RG16UI),ut===i.UNSIGNED_INT&&(_t=i.RG32UI),ut===i.BYTE&&(_t=i.RG8I),ut===i.SHORT&&(_t=i.RG16I),ut===i.INT&&(_t=i.RG32I)),j===i.RGB_INTEGER&&(ut===i.UNSIGNED_BYTE&&(_t=i.RGB8UI),ut===i.UNSIGNED_SHORT&&(_t=i.RGB16UI),ut===i.UNSIGNED_INT&&(_t=i.RGB32UI),ut===i.BYTE&&(_t=i.RGB8I),ut===i.SHORT&&(_t=i.RGB16I),ut===i.INT&&(_t=i.RGB32I)),j===i.RGBA_INTEGER&&(ut===i.UNSIGNED_BYTE&&(_t=i.RGBA8UI),ut===i.UNSIGNED_SHORT&&(_t=i.RGBA16UI),ut===i.UNSIGNED_INT&&(_t=i.RGBA32UI),ut===i.BYTE&&(_t=i.RGBA8I),ut===i.SHORT&&(_t=i.RGBA16I),ut===i.INT&&(_t=i.RGBA32I)),j===i.RGB&&ut===i.UNSIGNED_INT_5_9_9_9_REV&&(_t=i.RGB9_E5),j===i.RGBA){const Ct=Rt?rS:mi.getTransfer(mt);ut===i.FLOAT&&(_t=i.RGBA32F),ut===i.HALF_FLOAT&&(_t=i.RGBA16F),ut===i.UNSIGNED_BYTE&&(_t=Ct===qi?i.SRGB8_ALPHA8:i.RGBA8),ut===i.UNSIGNED_SHORT_4_4_4_4&&(_t=i.RGBA4),ut===i.UNSIGNED_SHORT_5_5_5_1&&(_t=i.RGB5_A1)}return(_t===i.R16F||_t===i.R32F||_t===i.RG16F||_t===i.RG32F||_t===i.RGBA16F||_t===i.RGBA32F)&&e.get("EXT_color_buffer_float"),_t}function M(lt,j){let ut;return lt?j===null||j===Ed||j===Ty?ut=i.DEPTH24_STENCIL8:j===sl?ut=i.DEPTH32F_STENCIL8:j===f_&&(ut=i.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):j===null||j===Ed||j===Ty?ut=i.DEPTH_COMPONENT24:j===sl?ut=i.DEPTH_COMPONENT32F:j===f_&&(ut=i.DEPTH_COMPONENT16),ut}function I(lt,j){return E(lt)===!0||lt.isFramebufferTexture&&lt.minFilter!==va&&lt.minFilter!==zs?Math.log2(Math.max(j.width,j.height))+1:lt.mipmaps!==void 0&&lt.mipmaps.length>0?lt.mipmaps.length:lt.isCompressedTexture&&Array.isArray(lt.image)?j.mipmaps.length:1}function k(lt){const j=lt.target;j.removeEventListener("dispose",k),L(j),j.isVideoTexture&&h.delete(j)}function N(lt){const j=lt.target;j.removeEventListener("dispose",N),O(j)}function L(lt){const j=r.get(lt);if(j.__webglInit===void 0)return;const ut=lt.source,mt=y.get(ut);if(mt){const Rt=mt[j.__cacheKey];Rt.usedTimes--,Rt.usedTimes===0&&U(lt),Object.keys(mt).length===0&&y.delete(ut)}r.remove(lt)}function U(lt){const j=r.get(lt);i.deleteTexture(j.__webglTexture);const ut=lt.source,mt=y.get(ut);delete mt[j.__cacheKey],o.memory.textures--}function O(lt){const j=r.get(lt);if(lt.depthTexture&&(lt.depthTexture.dispose(),r.remove(lt.depthTexture)),lt.isWebGLCubeRenderTarget)for(let mt=0;mt<6;mt++){if(Array.isArray(j.__webglFramebuffer[mt]))for(let Rt=0;Rt<j.__webglFramebuffer[mt].length;Rt++)i.deleteFramebuffer(j.__webglFramebuffer[mt][Rt]);else i.deleteFramebuffer(j.__webglFramebuffer[mt]);j.__webglDepthbuffer&&i.deleteRenderbuffer(j.__webglDepthbuffer[mt])}else{if(Array.isArray(j.__webglFramebuffer))for(let mt=0;mt<j.__webglFramebuffer.length;mt++)i.deleteFramebuffer(j.__webglFramebuffer[mt]);else i.deleteFramebuffer(j.__webglFramebuffer);if(j.__webglDepthbuffer&&i.deleteRenderbuffer(j.__webglDepthbuffer),j.__webglMultisampledFramebuffer&&i.deleteFramebuffer(j.__webglMultisampledFramebuffer),j.__webglColorRenderbuffer)for(let mt=0;mt<j.__webglColorRenderbuffer.length;mt++)j.__webglColorRenderbuffer[mt]&&i.deleteRenderbuffer(j.__webglColorRenderbuffer[mt]);j.__webglDepthRenderbuffer&&i.deleteRenderbuffer(j.__webglDepthRenderbuffer)}const ut=lt.textures;for(let mt=0,Rt=ut.length;mt<Rt;mt++){const _t=r.get(ut[mt]);_t.__webglTexture&&(i.deleteTexture(_t.__webglTexture),o.memory.textures--),r.remove(ut[mt])}r.remove(lt)}let B=0;function H(){B=0}function V(){const lt=B;return lt>=s.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+lt+" texture units while this GPU supports only "+s.maxTextures),B+=1,lt}function X(lt){const j=[];return j.push(lt.wrapS),j.push(lt.wrapT),j.push(lt.wrapR||0),j.push(lt.magFilter),j.push(lt.minFilter),j.push(lt.anisotropy),j.push(lt.internalFormat),j.push(lt.format),j.push(lt.type),j.push(lt.generateMipmaps),j.push(lt.premultiplyAlpha),j.push(lt.flipY),j.push(lt.unpackAlignment),j.push(lt.colorSpace),j.join()}function et(lt,j){const ut=r.get(lt);if(lt.isVideoTexture&&ie(lt),lt.isRenderTargetTexture===!1&&lt.version>0&&ut.__version!==lt.version){const mt=lt.image;if(mt===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(mt.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{it(ut,lt,j);return}}n.bindTexture(i.TEXTURE_2D,ut.__webglTexture,i.TEXTURE0+j)}function q(lt,j){const ut=r.get(lt);if(lt.version>0&&ut.__version!==lt.version){it(ut,lt,j);return}n.bindTexture(i.TEXTURE_2D_ARRAY,ut.__webglTexture,i.TEXTURE0+j)}function W(lt,j){const ut=r.get(lt);if(lt.version>0&&ut.__version!==lt.version){it(ut,lt,j);return}n.bindTexture(i.TEXTURE_3D,ut.__webglTexture,i.TEXTURE0+j)}function Z(lt,j){const ut=r.get(lt);if(lt.version>0&&ut.__version!==lt.version){dt(ut,lt,j);return}n.bindTexture(i.TEXTURE_CUBE_MAP,ut.__webglTexture,i.TEXTURE0+j)}const nt={[tS]:i.REPEAT,[Pu]:i.CLAMP_TO_EDGE,[eS]:i.MIRRORED_REPEAT},Q={[va]:i.NEAREST,[QN]:i.NEAREST_MIPMAP_NEAREST,[Gv]:i.NEAREST_MIPMAP_LINEAR,[zs]:i.LINEAR,[E1]:i.LINEAR_MIPMAP_NEAREST,[Bf]:i.LINEAR_MIPMAP_LINEAR},ht={[VH]:i.NEVER,[WH]:i.ALWAYS,[HH]:i.LESS,[uL]:i.LEQUAL,[jH]:i.EQUAL,[$H]:i.GEQUAL,[GH]:i.GREATER,[qH]:i.NOTEQUAL};function yt(lt,j){if(j.type===sl&&e.has("OES_texture_float_linear")===!1&&(j.magFilter===zs||j.magFilter===E1||j.magFilter===Gv||j.magFilter===Bf||j.minFilter===zs||j.minFilter===E1||j.minFilter===Gv||j.minFilter===Bf)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),i.texParameteri(lt,i.TEXTURE_WRAP_S,nt[j.wrapS]),i.texParameteri(lt,i.TEXTURE_WRAP_T,nt[j.wrapT]),(lt===i.TEXTURE_3D||lt===i.TEXTURE_2D_ARRAY)&&i.texParameteri(lt,i.TEXTURE_WRAP_R,nt[j.wrapR]),i.texParameteri(lt,i.TEXTURE_MAG_FILTER,Q[j.magFilter]),i.texParameteri(lt,i.TEXTURE_MIN_FILTER,Q[j.minFilter]),j.compareFunction&&(i.texParameteri(lt,i.TEXTURE_COMPARE_MODE,i.COMPARE_REF_TO_TEXTURE),i.texParameteri(lt,i.TEXTURE_COMPARE_FUNC,ht[j.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(j.magFilter===va||j.minFilter!==Gv&&j.minFilter!==Bf||j.type===sl&&e.has("OES_texture_float_linear")===!1)return;if(j.anisotropy>1||r.get(j).__currentAnisotropy){const ut=e.get("EXT_texture_filter_anisotropic");i.texParameterf(lt,ut.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(j.anisotropy,s.getMaxAnisotropy())),r.get(j).__currentAnisotropy=j.anisotropy}}}function xt(lt,j){let ut=!1;lt.__webglInit===void 0&&(lt.__webglInit=!0,j.addEventListener("dispose",k));const mt=j.source;let Rt=y.get(mt);Rt===void 0&&(Rt={},y.set(mt,Rt));const _t=X(j);if(_t!==lt.__cacheKey){Rt[_t]===void 0&&(Rt[_t]={texture:i.createTexture(),usedTimes:0},o.memory.textures++,ut=!0),Rt[_t].usedTimes++;const Ct=Rt[lt.__cacheKey];Ct!==void 0&&(Rt[lt.__cacheKey].usedTimes--,Ct.usedTimes===0&&U(j)),lt.__cacheKey=_t,lt.__webglTexture=Rt[_t].texture}return ut}function it(lt,j,ut){let mt=i.TEXTURE_2D;(j.isDataArrayTexture||j.isCompressedArrayTexture)&&(mt=i.TEXTURE_2D_ARRAY),j.isData3DTexture&&(mt=i.TEXTURE_3D);const Rt=xt(lt,j),_t=j.source;n.bindTexture(mt,lt.__webglTexture,i.TEXTURE0+ut);const Ct=r.get(_t);if(_t.version!==Ct.__version||Rt===!0){n.activeTexture(i.TEXTURE0+ut);const Lt=mi.getPrimaries(mi.workingColorSpace),Qt=j.colorSpace===ad?null:mi.getPrimaries(j.colorSpace),De=j.colorSpace===ad||Lt===Qt?i.NONE:i.BROWSER_DEFAULT_WEBGL;i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,j.flipY),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,j.premultiplyAlpha),i.pixelStorei(i.UNPACK_ALIGNMENT,j.unpackAlignment),i.pixelStorei(i.UNPACK_COLORSPACE_CONVERSION_WEBGL,De);let Ht=S(j.image,!1,s.maxTextureSize);Ht=Me(j,Ht);const _e=a.convert(j.format,j.colorSpace),Re=a.convert(j.type);let Oe=C(j.internalFormat,_e,Re,j.colorSpace,j.isVideoTexture);yt(mt,j);let Zt;const Pe=j.mipmaps,Ne=j.isVideoTexture!==!0,sn=Ct.__version===void 0||Rt===!0,Tt=_t.dataReady,Ce=I(j,Ht);if(j.isDepthTexture)Oe=M(j.format===wy,j.type),sn&&(Ne?n.texStorage2D(i.TEXTURE_2D,1,Oe,Ht.width,Ht.height):n.texImage2D(i.TEXTURE_2D,0,Oe,Ht.width,Ht.height,0,_e,Re,null));else if(j.isDataTexture)if(Pe.length>0){Ne&&sn&&n.texStorage2D(i.TEXTURE_2D,Ce,Oe,Pe[0].width,Pe[0].height);for(let Xt=0,se=Pe.length;Xt<se;Xt++)Zt=Pe[Xt],Ne?Tt&&n.texSubImage2D(i.TEXTURE_2D,Xt,0,0,Zt.width,Zt.height,_e,Re,Zt.data):n.texImage2D(i.TEXTURE_2D,Xt,Oe,Zt.width,Zt.height,0,_e,Re,Zt.data);j.generateMipmaps=!1}else Ne?(sn&&n.texStorage2D(i.TEXTURE_2D,Ce,Oe,Ht.width,Ht.height),Tt&&n.texSubImage2D(i.TEXTURE_2D,0,0,0,Ht.width,Ht.height,_e,Re,Ht.data)):n.texImage2D(i.TEXTURE_2D,0,Oe,Ht.width,Ht.height,0,_e,Re,Ht.data);else if(j.isCompressedTexture)if(j.isCompressedArrayTexture){Ne&&sn&&n.texStorage3D(i.TEXTURE_2D_ARRAY,Ce,Oe,Pe[0].width,Pe[0].height,Ht.depth);for(let Xt=0,se=Pe.length;Xt<se;Xt++)if(Zt=Pe[Xt],j.format!==$a)if(_e!==null)if(Ne){if(Tt)if(j.layerUpdates.size>0){const Ie=BD(Zt.width,Zt.height,j.format,j.type);for(const Se of j.layerUpdates){const on=Zt.data.subarray(Se*Ie/Zt.data.BYTES_PER_ELEMENT,(Se+1)*Ie/Zt.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(i.TEXTURE_2D_ARRAY,Xt,0,0,Se,Zt.width,Zt.height,1,_e,on)}j.clearLayerUpdates()}else n.compressedTexSubImage3D(i.TEXTURE_2D_ARRAY,Xt,0,0,0,Zt.width,Zt.height,Ht.depth,_e,Zt.data)}else n.compressedTexImage3D(i.TEXTURE_2D_ARRAY,Xt,Oe,Zt.width,Zt.height,Ht.depth,0,Zt.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Ne?Tt&&n.texSubImage3D(i.TEXTURE_2D_ARRAY,Xt,0,0,0,Zt.width,Zt.height,Ht.depth,_e,Re,Zt.data):n.texImage3D(i.TEXTURE_2D_ARRAY,Xt,Oe,Zt.width,Zt.height,Ht.depth,0,_e,Re,Zt.data)}else{Ne&&sn&&n.texStorage2D(i.TEXTURE_2D,Ce,Oe,Pe[0].width,Pe[0].height);for(let Xt=0,se=Pe.length;Xt<se;Xt++)Zt=Pe[Xt],j.format!==$a?_e!==null?Ne?Tt&&n.compressedTexSubImage2D(i.TEXTURE_2D,Xt,0,0,Zt.width,Zt.height,_e,Zt.data):n.compressedTexImage2D(i.TEXTURE_2D,Xt,Oe,Zt.width,Zt.height,0,Zt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ne?Tt&&n.texSubImage2D(i.TEXTURE_2D,Xt,0,0,Zt.width,Zt.height,_e,Re,Zt.data):n.texImage2D(i.TEXTURE_2D,Xt,Oe,Zt.width,Zt.height,0,_e,Re,Zt.data)}else if(j.isDataArrayTexture)if(Ne){if(sn&&n.texStorage3D(i.TEXTURE_2D_ARRAY,Ce,Oe,Ht.width,Ht.height,Ht.depth),Tt)if(j.layerUpdates.size>0){const Xt=BD(Ht.width,Ht.height,j.format,j.type);for(const se of j.layerUpdates){const Ie=Ht.data.subarray(se*Xt/Ht.data.BYTES_PER_ELEMENT,(se+1)*Xt/Ht.data.BYTES_PER_ELEMENT);n.texSubImage3D(i.TEXTURE_2D_ARRAY,0,0,0,se,Ht.width,Ht.height,1,_e,Re,Ie)}j.clearLayerUpdates()}else n.texSubImage3D(i.TEXTURE_2D_ARRAY,0,0,0,0,Ht.width,Ht.height,Ht.depth,_e,Re,Ht.data)}else n.texImage3D(i.TEXTURE_2D_ARRAY,0,Oe,Ht.width,Ht.height,Ht.depth,0,_e,Re,Ht.data);else if(j.isData3DTexture)Ne?(sn&&n.texStorage3D(i.TEXTURE_3D,Ce,Oe,Ht.width,Ht.height,Ht.depth),Tt&&n.texSubImage3D(i.TEXTURE_3D,0,0,0,0,Ht.width,Ht.height,Ht.depth,_e,Re,Ht.data)):n.texImage3D(i.TEXTURE_3D,0,Oe,Ht.width,Ht.height,Ht.depth,0,_e,Re,Ht.data);else if(j.isFramebufferTexture){if(sn)if(Ne)n.texStorage2D(i.TEXTURE_2D,Ce,Oe,Ht.width,Ht.height);else{let Xt=Ht.width,se=Ht.height;for(let Ie=0;Ie<Ce;Ie++)n.texImage2D(i.TEXTURE_2D,Ie,Oe,Xt,se,0,_e,Re,null),Xt>>=1,se>>=1}}else if(Pe.length>0){if(Ne&&sn){const Xt=le(Pe[0]);n.texStorage2D(i.TEXTURE_2D,Ce,Oe,Xt.width,Xt.height)}for(let Xt=0,se=Pe.length;Xt<se;Xt++)Zt=Pe[Xt],Ne?Tt&&n.texSubImage2D(i.TEXTURE_2D,Xt,0,0,_e,Re,Zt):n.texImage2D(i.TEXTURE_2D,Xt,Oe,_e,Re,Zt);j.generateMipmaps=!1}else if(Ne){if(sn){const Xt=le(Ht);n.texStorage2D(i.TEXTURE_2D,Ce,Oe,Xt.width,Xt.height)}Tt&&n.texSubImage2D(i.TEXTURE_2D,0,0,0,_e,Re,Ht)}else n.texImage2D(i.TEXTURE_2D,0,Oe,_e,Re,Ht);E(j)&&b(mt),Ct.__version=_t.version,j.onUpdate&&j.onUpdate(j)}lt.__version=j.version}function dt(lt,j,ut){if(j.image.length!==6)return;const mt=xt(lt,j),Rt=j.source;n.bindTexture(i.TEXTURE_CUBE_MAP,lt.__webglTexture,i.TEXTURE0+ut);const _t=r.get(Rt);if(Rt.version!==_t.__version||mt===!0){n.activeTexture(i.TEXTURE0+ut);const Ct=mi.getPrimaries(mi.workingColorSpace),Lt=j.colorSpace===ad?null:mi.getPrimaries(j.colorSpace),Qt=j.colorSpace===ad||Ct===Lt?i.NONE:i.BROWSER_DEFAULT_WEBGL;i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,j.flipY),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,j.premultiplyAlpha),i.pixelStorei(i.UNPACK_ALIGNMENT,j.unpackAlignment),i.pixelStorei(i.UNPACK_COLORSPACE_CONVERSION_WEBGL,Qt);const De=j.isCompressedTexture||j.image[0].isCompressedTexture,Ht=j.image[0]&&j.image[0].isDataTexture,_e=[];for(let se=0;se<6;se++)!De&&!Ht?_e[se]=S(j.image[se],!0,s.maxCubemapSize):_e[se]=Ht?j.image[se].image:j.image[se],_e[se]=Me(j,_e[se]);const Re=_e[0],Oe=a.convert(j.format,j.colorSpace),Zt=a.convert(j.type),Pe=C(j.internalFormat,Oe,Zt,j.colorSpace),Ne=j.isVideoTexture!==!0,sn=_t.__version===void 0||mt===!0,Tt=Rt.dataReady;let Ce=I(j,Re);yt(i.TEXTURE_CUBE_MAP,j);let Xt;if(De){Ne&&sn&&n.texStorage2D(i.TEXTURE_CUBE_MAP,Ce,Pe,Re.width,Re.height);for(let se=0;se<6;se++){Xt=_e[se].mipmaps;for(let Ie=0;Ie<Xt.length;Ie++){const Se=Xt[Ie];j.format!==$a?Oe!==null?Ne?Tt&&n.compressedTexSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+se,Ie,0,0,Se.width,Se.height,Oe,Se.data):n.compressedTexImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+se,Ie,Pe,Se.width,Se.height,0,Se.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Ne?Tt&&n.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+se,Ie,0,0,Se.width,Se.height,Oe,Zt,Se.data):n.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+se,Ie,Pe,Se.width,Se.height,0,Oe,Zt,Se.data)}}}else{if(Xt=j.mipmaps,Ne&&sn){Xt.length>0&&Ce++;const se=le(_e[0]);n.texStorage2D(i.TEXTURE_CUBE_MAP,Ce,Pe,se.width,se.height)}for(let se=0;se<6;se++)if(Ht){Ne?Tt&&n.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+se,0,0,0,_e[se].width,_e[se].height,Oe,Zt,_e[se].data):n.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+se,0,Pe,_e[se].width,_e[se].height,0,Oe,Zt,_e[se].data);for(let Ie=0;Ie<Xt.length;Ie++){const on=Xt[Ie].image[se].image;Ne?Tt&&n.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+se,Ie+1,0,0,on.width,on.height,Oe,Zt,on.data):n.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+se,Ie+1,Pe,on.width,on.height,0,Oe,Zt,on.data)}}else{Ne?Tt&&n.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+se,0,0,0,Oe,Zt,_e[se]):n.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+se,0,Pe,Oe,Zt,_e[se]);for(let Ie=0;Ie<Xt.length;Ie++){const Se=Xt[Ie];Ne?Tt&&n.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+se,Ie+1,0,0,Oe,Zt,Se.image[se]):n.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+se,Ie+1,Pe,Oe,Zt,Se.image[se])}}}E(j)&&b(i.TEXTURE_CUBE_MAP),_t.__version=Rt.version,j.onUpdate&&j.onUpdate(j)}lt.__version=j.version}function ft(lt,j,ut,mt,Rt,_t){const Ct=a.convert(ut.format,ut.colorSpace),Lt=a.convert(ut.type),Qt=C(ut.internalFormat,Ct,Lt,ut.colorSpace),De=r.get(j),Ht=r.get(ut);if(Ht.__renderTarget=j,!De.__hasExternalTextures){const _e=Math.max(1,j.width>>_t),Re=Math.max(1,j.height>>_t);Rt===i.TEXTURE_3D||Rt===i.TEXTURE_2D_ARRAY?n.texImage3D(Rt,_t,Qt,_e,Re,j.depth,0,Ct,Lt,null):n.texImage2D(Rt,_t,Qt,_e,Re,0,Ct,Lt,null)}n.bindFramebuffer(i.FRAMEBUFFER,lt),ne(j)?l.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,mt,Rt,Ht.__webglTexture,0,te(j)):(Rt===i.TEXTURE_2D||Rt>=i.TEXTURE_CUBE_MAP_POSITIVE_X&&Rt<=i.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&i.framebufferTexture2D(i.FRAMEBUFFER,mt,Rt,Ht.__webglTexture,_t),n.bindFramebuffer(i.FRAMEBUFFER,null)}function gt(lt,j,ut){if(i.bindRenderbuffer(i.RENDERBUFFER,lt),j.depthBuffer){const mt=j.depthTexture,Rt=mt&&mt.isDepthTexture?mt.type:null,_t=M(j.stencilBuffer,Rt),Ct=j.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,Lt=te(j);ne(j)?l.renderbufferStorageMultisampleEXT(i.RENDERBUFFER,Lt,_t,j.width,j.height):ut?i.renderbufferStorageMultisample(i.RENDERBUFFER,Lt,_t,j.width,j.height):i.renderbufferStorage(i.RENDERBUFFER,_t,j.width,j.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,Ct,i.RENDERBUFFER,lt)}else{const mt=j.textures;for(let Rt=0;Rt<mt.length;Rt++){const _t=mt[Rt],Ct=a.convert(_t.format,_t.colorSpace),Lt=a.convert(_t.type),Qt=C(_t.internalFormat,Ct,Lt,_t.colorSpace),De=te(j);ut&&ne(j)===!1?i.renderbufferStorageMultisample(i.RENDERBUFFER,De,Qt,j.width,j.height):ne(j)?l.renderbufferStorageMultisampleEXT(i.RENDERBUFFER,De,Qt,j.width,j.height):i.renderbufferStorage(i.RENDERBUFFER,Qt,j.width,j.height)}}i.bindRenderbuffer(i.RENDERBUFFER,null)}function wt(lt,j){if(j&&j.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(i.FRAMEBUFFER,lt),!(j.depthTexture&&j.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const mt=r.get(j.depthTexture);mt.__renderTarget=j,(!mt.__webglTexture||j.depthTexture.image.width!==j.width||j.depthTexture.image.height!==j.height)&&(j.depthTexture.image.width=j.width,j.depthTexture.image.height=j.height,j.depthTexture.needsUpdate=!0),et(j.depthTexture,0);const Rt=mt.__webglTexture,_t=te(j);if(j.depthTexture.format===cy)ne(j)?l.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,Rt,0,_t):i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,Rt,0);else if(j.depthTexture.format===wy)ne(j)?l.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.TEXTURE_2D,Rt,0,_t):i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.TEXTURE_2D,Rt,0);else throw new Error("Unknown depthTexture format")}function Kt(lt){const j=r.get(lt),ut=lt.isWebGLCubeRenderTarget===!0;if(j.__boundDepthTexture!==lt.depthTexture){const mt=lt.depthTexture;if(j.__depthDisposeCallback&&j.__depthDisposeCallback(),mt){const Rt=()=>{delete j.__boundDepthTexture,delete j.__depthDisposeCallback,mt.removeEventListener("dispose",Rt)};mt.addEventListener("dispose",Rt),j.__depthDisposeCallback=Rt}j.__boundDepthTexture=mt}if(lt.depthTexture&&!j.__autoAllocateDepthBuffer){if(ut)throw new Error("target.depthTexture not supported in Cube render targets");wt(j.__webglFramebuffer,lt)}else if(ut){j.__webglDepthbuffer=[];for(let mt=0;mt<6;mt++)if(n.bindFramebuffer(i.FRAMEBUFFER,j.__webglFramebuffer[mt]),j.__webglDepthbuffer[mt]===void 0)j.__webglDepthbuffer[mt]=i.createRenderbuffer(),gt(j.__webglDepthbuffer[mt],lt,!1);else{const Rt=lt.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,_t=j.__webglDepthbuffer[mt];i.bindRenderbuffer(i.RENDERBUFFER,_t),i.framebufferRenderbuffer(i.FRAMEBUFFER,Rt,i.RENDERBUFFER,_t)}}else if(n.bindFramebuffer(i.FRAMEBUFFER,j.__webglFramebuffer),j.__webglDepthbuffer===void 0)j.__webglDepthbuffer=i.createRenderbuffer(),gt(j.__webglDepthbuffer,lt,!1);else{const mt=lt.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,Rt=j.__webglDepthbuffer;i.bindRenderbuffer(i.RENDERBUFFER,Rt),i.framebufferRenderbuffer(i.FRAMEBUFFER,mt,i.RENDERBUFFER,Rt)}n.bindFramebuffer(i.FRAMEBUFFER,null)}function kt(lt,j,ut){const mt=r.get(lt);j!==void 0&&ft(mt.__webglFramebuffer,lt,lt.texture,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,0),ut!==void 0&&Kt(lt)}function ee(lt){const j=lt.texture,ut=r.get(lt),mt=r.get(j);lt.addEventListener("dispose",N);const Rt=lt.textures,_t=lt.isWebGLCubeRenderTarget===!0,Ct=Rt.length>1;if(Ct||(mt.__webglTexture===void 0&&(mt.__webglTexture=i.createTexture()),mt.__version=j.version,o.memory.textures++),_t){ut.__webglFramebuffer=[];for(let Lt=0;Lt<6;Lt++)if(j.mipmaps&&j.mipmaps.length>0){ut.__webglFramebuffer[Lt]=[];for(let Qt=0;Qt<j.mipmaps.length;Qt++)ut.__webglFramebuffer[Lt][Qt]=i.createFramebuffer()}else ut.__webglFramebuffer[Lt]=i.createFramebuffer()}else{if(j.mipmaps&&j.mipmaps.length>0){ut.__webglFramebuffer=[];for(let Lt=0;Lt<j.mipmaps.length;Lt++)ut.__webglFramebuffer[Lt]=i.createFramebuffer()}else ut.__webglFramebuffer=i.createFramebuffer();if(Ct)for(let Lt=0,Qt=Rt.length;Lt<Qt;Lt++){const De=r.get(Rt[Lt]);De.__webglTexture===void 0&&(De.__webglTexture=i.createTexture(),o.memory.textures++)}if(lt.samples>0&&ne(lt)===!1){ut.__webglMultisampledFramebuffer=i.createFramebuffer(),ut.__webglColorRenderbuffer=[],n.bindFramebuffer(i.FRAMEBUFFER,ut.__webglMultisampledFramebuffer);for(let Lt=0;Lt<Rt.length;Lt++){const Qt=Rt[Lt];ut.__webglColorRenderbuffer[Lt]=i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,ut.__webglColorRenderbuffer[Lt]);const De=a.convert(Qt.format,Qt.colorSpace),Ht=a.convert(Qt.type),_e=C(Qt.internalFormat,De,Ht,Qt.colorSpace,lt.isXRRenderTarget===!0),Re=te(lt);i.renderbufferStorageMultisample(i.RENDERBUFFER,Re,_e,lt.width,lt.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+Lt,i.RENDERBUFFER,ut.__webglColorRenderbuffer[Lt])}i.bindRenderbuffer(i.RENDERBUFFER,null),lt.depthBuffer&&(ut.__webglDepthRenderbuffer=i.createRenderbuffer(),gt(ut.__webglDepthRenderbuffer,lt,!0)),n.bindFramebuffer(i.FRAMEBUFFER,null)}}if(_t){n.bindTexture(i.TEXTURE_CUBE_MAP,mt.__webglTexture),yt(i.TEXTURE_CUBE_MAP,j);for(let Lt=0;Lt<6;Lt++)if(j.mipmaps&&j.mipmaps.length>0)for(let Qt=0;Qt<j.mipmaps.length;Qt++)ft(ut.__webglFramebuffer[Lt][Qt],lt,j,i.COLOR_ATTACHMENT0,i.TEXTURE_CUBE_MAP_POSITIVE_X+Lt,Qt);else ft(ut.__webglFramebuffer[Lt],lt,j,i.COLOR_ATTACHMENT0,i.TEXTURE_CUBE_MAP_POSITIVE_X+Lt,0);E(j)&&b(i.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(Ct){for(let Lt=0,Qt=Rt.length;Lt<Qt;Lt++){const De=Rt[Lt],Ht=r.get(De);n.bindTexture(i.TEXTURE_2D,Ht.__webglTexture),yt(i.TEXTURE_2D,De),ft(ut.__webglFramebuffer,lt,De,i.COLOR_ATTACHMENT0+Lt,i.TEXTURE_2D,0),E(De)&&b(i.TEXTURE_2D)}n.unbindTexture()}else{let Lt=i.TEXTURE_2D;if((lt.isWebGL3DRenderTarget||lt.isWebGLArrayRenderTarget)&&(Lt=lt.isWebGL3DRenderTarget?i.TEXTURE_3D:i.TEXTURE_2D_ARRAY),n.bindTexture(Lt,mt.__webglTexture),yt(Lt,j),j.mipmaps&&j.mipmaps.length>0)for(let Qt=0;Qt<j.mipmaps.length;Qt++)ft(ut.__webglFramebuffer[Qt],lt,j,i.COLOR_ATTACHMENT0,Lt,Qt);else ft(ut.__webglFramebuffer,lt,j,i.COLOR_ATTACHMENT0,Lt,0);E(j)&&b(Lt),n.unbindTexture()}lt.depthBuffer&&Kt(lt)}function Pt(lt){const j=lt.textures;for(let ut=0,mt=j.length;ut<mt;ut++){const Rt=j[ut];if(E(Rt)){const _t=A(lt),Ct=r.get(Rt).__webglTexture;n.bindTexture(_t,Ct),b(_t),n.unbindTexture()}}}const Vt=[],at=[];function ce(lt){if(lt.samples>0){if(ne(lt)===!1){const j=lt.textures,ut=lt.width,mt=lt.height;let Rt=i.COLOR_BUFFER_BIT;const _t=lt.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,Ct=r.get(lt),Lt=j.length>1;if(Lt)for(let Qt=0;Qt<j.length;Qt++)n.bindFramebuffer(i.FRAMEBUFFER,Ct.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+Qt,i.RENDERBUFFER,null),n.bindFramebuffer(i.FRAMEBUFFER,Ct.__webglFramebuffer),i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0+Qt,i.TEXTURE_2D,null,0);n.bindFramebuffer(i.READ_FRAMEBUFFER,Ct.__webglMultisampledFramebuffer),n.bindFramebuffer(i.DRAW_FRAMEBUFFER,Ct.__webglFramebuffer);for(let Qt=0;Qt<j.length;Qt++){if(lt.resolveDepthBuffer&&(lt.depthBuffer&&(Rt|=i.DEPTH_BUFFER_BIT),lt.stencilBuffer&&lt.resolveStencilBuffer&&(Rt|=i.STENCIL_BUFFER_BIT)),Lt){i.framebufferRenderbuffer(i.READ_FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.RENDERBUFFER,Ct.__webglColorRenderbuffer[Qt]);const De=r.get(j[Qt]).__webglTexture;i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,De,0)}i.blitFramebuffer(0,0,ut,mt,0,0,ut,mt,Rt,i.NEAREST),u===!0&&(Vt.length=0,at.length=0,Vt.push(i.COLOR_ATTACHMENT0+Qt),lt.depthBuffer&&lt.resolveDepthBuffer===!1&&(Vt.push(_t),at.push(_t),i.invalidateFramebuffer(i.DRAW_FRAMEBUFFER,at)),i.invalidateFramebuffer(i.READ_FRAMEBUFFER,Vt))}if(n.bindFramebuffer(i.READ_FRAMEBUFFER,null),n.bindFramebuffer(i.DRAW_FRAMEBUFFER,null),Lt)for(let Qt=0;Qt<j.length;Qt++){n.bindFramebuffer(i.FRAMEBUFFER,Ct.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+Qt,i.RENDERBUFFER,Ct.__webglColorRenderbuffer[Qt]);const De=r.get(j[Qt]).__webglTexture;n.bindFramebuffer(i.FRAMEBUFFER,Ct.__webglFramebuffer),i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0+Qt,i.TEXTURE_2D,De,0)}n.bindFramebuffer(i.DRAW_FRAMEBUFFER,Ct.__webglMultisampledFramebuffer)}else if(lt.depthBuffer&&lt.resolveDepthBuffer===!1&&u){const j=lt.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT;i.invalidateFramebuffer(i.DRAW_FRAMEBUFFER,[j])}}}function te(lt){return Math.min(s.maxSamples,lt.samples)}function ne(lt){const j=r.get(lt);return lt.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&j.__useRenderToTexture!==!1}function ie(lt){const j=o.render.frame;h.get(lt)!==j&&(h.set(lt,j),lt.update())}function Me(lt,j){const ut=lt.colorSpace,mt=lt.format,Rt=lt.type;return lt.isCompressedTexture===!0||lt.isVideoTexture===!0||ut!==hm&&ut!==ad&&(mi.getTransfer(ut)===qi?(mt!==$a||Rt!==Ic)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ut)),j}function le(lt){return typeof HTMLImageElement<"u"&&lt instanceof HTMLImageElement?(f.width=lt.naturalWidth||lt.width,f.height=lt.naturalHeight||lt.height):typeof VideoFrame<"u"&&lt instanceof VideoFrame?(f.width=lt.displayWidth,f.height=lt.displayHeight):(f.width=lt.width,f.height=lt.height),f}this.allocateTextureUnit=V,this.resetTextureUnits=H,this.setTexture2D=et,this.setTexture2DArray=q,this.setTexture3D=W,this.setTextureCube=Z,this.rebindTextures=kt,this.setupRenderTarget=ee,this.updateRenderTargetMipmap=Pt,this.updateMultisampleRenderTarget=ce,this.setupDepthRenderbuffer=Kt,this.setupFrameBufferTexture=ft,this.useMultisampledRTT=ne}function ej(i,e){function n(r,s=ad){let a;const o=mi.getTransfer(s);if(r===Ic)return i.UNSIGNED_BYTE;if(r===y2)return i.UNSIGNED_SHORT_4_4_4_4;if(r===v2)return i.UNSIGNED_SHORT_5_5_5_1;if(r===eL)return i.UNSIGNED_INT_5_9_9_9_REV;if(r===JN)return i.BYTE;if(r===tL)return i.SHORT;if(r===f_)return i.UNSIGNED_SHORT;if(r===g2)return i.INT;if(r===Ed)return i.UNSIGNED_INT;if(r===sl)return i.FLOAT;if(r===W_)return i.HALF_FLOAT;if(r===nL)return i.ALPHA;if(r===iL)return i.RGB;if(r===$a)return i.RGBA;if(r===rL)return i.LUMINANCE;if(r===sL)return i.LUMINANCE_ALPHA;if(r===cy)return i.DEPTH_COMPONENT;if(r===wy)return i.DEPTH_STENCIL;if(r===_2)return i.RED;if(r===YS)return i.RED_INTEGER;if(r===aL)return i.RG;if(r===b2)return i.RG_INTEGER;if(r===x2)return i.RGBA_INTEGER;if(r===T1||r===w1||r===A1||r===M1)if(o===qi)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(r===T1)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===w1)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===A1)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===M1)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(r===T1)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===w1)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===A1)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===M1)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===MM||r===CM||r===RM||r===OM)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(r===MM)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===CM)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===RM)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===OM)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===IM||r===PM||r===DM)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(r===IM||r===PM)return o===qi?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(r===DM)return o===qi?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===NM||r===LM||r===UM||r===kM||r===zM||r===BM||r===FM||r===VM||r===HM||r===jM||r===GM||r===qM||r===$M||r===WM)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(r===NM)return o===qi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===LM)return o===qi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===UM)return o===qi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===kM)return o===qi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===zM)return o===qi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===BM)return o===qi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===FM)return o===qi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===VM)return o===qi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===HM)return o===qi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===jM)return o===qi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===GM)return o===qi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===qM)return o===qi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===$M)return o===qi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===WM)return o===qi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===C1||r===XM||r===YM)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(r===C1)return o===qi?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===XM)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===YM)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===oL||r===KM||r===ZM||r===QM)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(r===C1)return a.COMPRESSED_RED_RGTC1_EXT;if(r===KM)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===ZM)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===QM)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===Ty?i.UNSIGNED_INT_24_8:i[r]!==void 0?i[r]:null}return{convert:n}}const Fst=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,Vst=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class Hst{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n,r){if(this.texture===null){const s=new is,a=e.properties.get(s);a.__webglTexture=n.texture,(n.depthNear!==r.depthNear||n.depthFar!==r.depthFar)&&(this.depthNear=n.depthNear,this.depthFar=n.depthFar),this.texture=s}}getMesh(e){if(this.texture!==null&&this.mesh===null){const n=e.cameras[0].viewport,r=new ku({vertexShader:Fst,fragmentShader:Vst,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new es(new Y_(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class jst extends lh{constructor(e,n){super();const r=this;let s=null,a=1,o=null,l="local-floor",u=1,f=null,h=null,p=null,y=null,_=null,x=null;const S=new Hst,E=n.getContextAttributes();let b=null,A=null;const C=[],M=[],I=new pe;let k=null;const N=new Qs;N.viewport=new xi;const L=new Qs;L.viewport=new xi;const U=[N,L],O=new q7;let B=null,H=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(it){let dt=C[it];return dt===void 0&&(dt=new kA,C[it]=dt),dt.getTargetRaySpace()},this.getControllerGrip=function(it){let dt=C[it];return dt===void 0&&(dt=new kA,C[it]=dt),dt.getGripSpace()},this.getHand=function(it){let dt=C[it];return dt===void 0&&(dt=new kA,C[it]=dt),dt.getHandSpace()};function V(it){const dt=M.indexOf(it.inputSource);if(dt===-1)return;const ft=C[dt];ft!==void 0&&(ft.update(it.inputSource,it.frame,f||o),ft.dispatchEvent({type:it.type,data:it.inputSource}))}function X(){s.removeEventListener("select",V),s.removeEventListener("selectstart",V),s.removeEventListener("selectend",V),s.removeEventListener("squeeze",V),s.removeEventListener("squeezestart",V),s.removeEventListener("squeezeend",V),s.removeEventListener("end",X),s.removeEventListener("inputsourceschange",et);for(let it=0;it<C.length;it++){const dt=M[it];dt!==null&&(M[it]=null,C[it].disconnect(dt))}B=null,H=null,S.reset(),e.setRenderTarget(b),_=null,y=null,p=null,s=null,A=null,xt.stop(),r.isPresenting=!1,e.setPixelRatio(k),e.setSize(I.width,I.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(it){a=it,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(it){l=it,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return f||o},this.setReferenceSpace=function(it){f=it},this.getBaseLayer=function(){return y!==null?y:_},this.getBinding=function(){return p},this.getFrame=function(){return x},this.getSession=function(){return s},this.setSession=async function(it){if(s=it,s!==null){if(b=e.getRenderTarget(),s.addEventListener("select",V),s.addEventListener("selectstart",V),s.addEventListener("selectend",V),s.addEventListener("squeeze",V),s.addEventListener("squeezestart",V),s.addEventListener("squeezeend",V),s.addEventListener("end",X),s.addEventListener("inputsourceschange",et),E.xrCompatible!==!0&&await n.makeXRCompatible(),k=e.getPixelRatio(),e.getSize(I),typeof XRWebGLBinding<"u"&&"createProjectionLayer"in XRWebGLBinding.prototype){let ft=null,gt=null,wt=null;E.depth&&(wt=E.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,ft=E.stencil?wy:cy,gt=E.stencil?Ty:Ed);const Kt={colorFormat:n.RGBA8,depthFormat:wt,scaleFactor:a};p=new XRWebGLBinding(s,n),y=p.createProjectionLayer(Kt),s.updateRenderState({layers:[y]}),e.setPixelRatio(1),e.setSize(y.textureWidth,y.textureHeight,!1),A=new eh(y.textureWidth,y.textureHeight,{format:$a,type:Ic,depthTexture:new yL(y.textureWidth,y.textureHeight,gt,void 0,void 0,void 0,void 0,void 0,void 0,ft),stencilBuffer:E.stencil,colorSpace:e.outputColorSpace,samples:E.antialias?4:0,resolveDepthBuffer:y.ignoreDepthValues===!1,resolveStencilBuffer:y.ignoreDepthValues===!1})}else{const ft={antialias:E.antialias,alpha:!0,depth:E.depth,stencil:E.stencil,framebufferScaleFactor:a};_=new XRWebGLLayer(s,n,ft),s.updateRenderState({baseLayer:_}),e.setPixelRatio(1),e.setSize(_.framebufferWidth,_.framebufferHeight,!1),A=new eh(_.framebufferWidth,_.framebufferHeight,{format:$a,type:Ic,colorSpace:e.outputColorSpace,stencilBuffer:E.stencil,resolveDepthBuffer:_.ignoreDepthValues===!1,resolveStencilBuffer:_.ignoreDepthValues===!1})}A.isXRRenderTarget=!0,this.setFoveation(u),f=null,o=await s.requestReferenceSpace(l),xt.setContext(s),xt.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(s!==null)return s.environmentBlendMode},this.getDepthTexture=function(){return S.getDepthTexture()};function et(it){for(let dt=0;dt<it.removed.length;dt++){const ft=it.removed[dt],gt=M.indexOf(ft);gt>=0&&(M[gt]=null,C[gt].disconnect(ft))}for(let dt=0;dt<it.added.length;dt++){const ft=it.added[dt];let gt=M.indexOf(ft);if(gt===-1){for(let Kt=0;Kt<C.length;Kt++)if(Kt>=M.length){M.push(ft),gt=Kt;break}else if(M[Kt]===null){M[Kt]=ft,gt=Kt;break}if(gt===-1)break}const wt=C[gt];wt&&wt.connect(ft)}}const q=new pt,W=new pt;function Z(it,dt,ft){q.setFromMatrixPosition(dt.matrixWorld),W.setFromMatrixPosition(ft.matrixWorld);const gt=q.distanceTo(W),wt=dt.projectionMatrix.elements,Kt=ft.projectionMatrix.elements,kt=wt[14]/(wt[10]-1),ee=wt[14]/(wt[10]+1),Pt=(wt[9]+1)/wt[5],Vt=(wt[9]-1)/wt[5],at=(wt[8]-1)/wt[0],ce=(Kt[8]+1)/Kt[0],te=kt*at,ne=kt*ce,ie=gt/(-at+ce),Me=ie*-at;if(dt.matrixWorld.decompose(it.position,it.quaternion,it.scale),it.translateX(Me),it.translateZ(ie),it.matrixWorld.compose(it.position,it.quaternion,it.scale),it.matrixWorldInverse.copy(it.matrixWorld).invert(),wt[10]===-1)it.projectionMatrix.copy(dt.projectionMatrix),it.projectionMatrixInverse.copy(dt.projectionMatrixInverse);else{const le=kt+ie,lt=ee+ie,j=te-Me,ut=ne+(gt-Me),mt=Pt*ee/lt*le,Rt=Vt*ee/lt*le;it.projectionMatrix.makePerspective(j,ut,mt,Rt,le,lt),it.projectionMatrixInverse.copy(it.projectionMatrix).invert()}}function nt(it,dt){dt===null?it.matrixWorld.copy(it.matrix):it.matrixWorld.multiplyMatrices(dt.matrixWorld,it.matrix),it.matrixWorldInverse.copy(it.matrixWorld).invert()}this.updateCamera=function(it){if(s===null)return;let dt=it.near,ft=it.far;S.texture!==null&&(S.depthNear>0&&(dt=S.depthNear),S.depthFar>0&&(ft=S.depthFar)),O.near=L.near=N.near=dt,O.far=L.far=N.far=ft,(B!==O.near||H!==O.far)&&(s.updateRenderState({depthNear:O.near,depthFar:O.far}),B=O.near,H=O.far),N.layers.mask=it.layers.mask|2,L.layers.mask=it.layers.mask|4,O.layers.mask=N.layers.mask|L.layers.mask;const gt=it.parent,wt=O.cameras;nt(O,gt);for(let Kt=0;Kt<wt.length;Kt++)nt(wt[Kt],gt);wt.length===2?Z(O,N,L):O.projectionMatrix.copy(N.projectionMatrix),Q(it,O,gt)};function Q(it,dt,ft){ft===null?it.matrix.copy(dt.matrixWorld):(it.matrix.copy(ft.matrixWorld),it.matrix.invert(),it.matrix.multiply(dt.matrixWorld)),it.matrix.decompose(it.position,it.quaternion,it.scale),it.updateMatrixWorld(!0),it.projectionMatrix.copy(dt.projectionMatrix),it.projectionMatrixInverse.copy(dt.projectionMatrixInverse),it.isPerspectiveCamera&&(it.fov=h_*2*Math.atan(1/it.projectionMatrix.elements[5]),it.zoom=1)}this.getCamera=function(){return O},this.getFoveation=function(){if(!(y===null&&_===null))return u},this.setFoveation=function(it){u=it,y!==null&&(y.fixedFoveation=it),_!==null&&_.fixedFoveation!==void 0&&(_.fixedFoveation=it)},this.hasDepthSensing=function(){return S.texture!==null},this.getDepthSensingMesh=function(){return S.getMesh(O)};let ht=null;function yt(it,dt){if(h=dt.getViewerPose(f||o),x=dt,h!==null){const ft=h.views;_!==null&&(e.setRenderTargetFramebuffer(A,_.framebuffer),e.setRenderTarget(A));let gt=!1;ft.length!==O.cameras.length&&(O.cameras.length=0,gt=!0);for(let kt=0;kt<ft.length;kt++){const ee=ft[kt];let Pt=null;if(_!==null)Pt=_.getViewport(ee);else{const at=p.getViewSubImage(y,ee);Pt=at.viewport,kt===0&&(e.setRenderTargetTextures(A,at.colorTexture,y.ignoreDepthValues?void 0:at.depthStencilTexture),e.setRenderTarget(A))}let Vt=U[kt];Vt===void 0&&(Vt=new Qs,Vt.layers.enable(kt),Vt.viewport=new xi,U[kt]=Vt),Vt.matrix.fromArray(ee.transform.matrix),Vt.matrix.decompose(Vt.position,Vt.quaternion,Vt.scale),Vt.projectionMatrix.fromArray(ee.projectionMatrix),Vt.projectionMatrixInverse.copy(Vt.projectionMatrix).invert(),Vt.viewport.set(Pt.x,Pt.y,Pt.width,Pt.height),kt===0&&(O.matrix.copy(Vt.matrix),O.matrix.decompose(O.position,O.quaternion,O.scale)),gt===!0&&O.cameras.push(Vt)}const wt=s.enabledFeatures;if(wt&&wt.includes("depth-sensing")&&s.depthUsage=="gpu-optimized"&&p){const kt=p.getDepthInformation(ft[0]);kt&&kt.isValid&&kt.texture&&S.init(e,kt,s.renderState)}}for(let ft=0;ft<C.length;ft++){const gt=M[ft],wt=C[ft];gt!==null&&wt!==void 0&&wt.update(gt,dt,f||o)}ht&&ht(it,dt),dt.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:dt}),x=null}const xt=new K7;xt.setAnimationLoop(yt),this.setAnimationLoop=function(it){ht=it},this.dispose=function(){}}}const Rg=new Xl,Gst=new gn;function qst(i,e){function n(E,b){E.matrixAutoUpdate===!0&&E.updateMatrix(),b.value.copy(E.matrix)}function r(E,b){b.color.getRGB(E.fogColor.value,JH(i)),b.isFog?(E.fogNear.value=b.near,E.fogFar.value=b.far):b.isFogExp2&&(E.fogDensity.value=b.density)}function s(E,b,A,C,M){b.isMeshBasicMaterial||b.isMeshLambertMaterial?a(E,b):b.isMeshToonMaterial?(a(E,b),p(E,b)):b.isMeshPhongMaterial?(a(E,b),h(E,b)):b.isMeshStandardMaterial?(a(E,b),y(E,b),b.isMeshPhysicalMaterial&&_(E,b,M)):b.isMeshMatcapMaterial?(a(E,b),x(E,b)):b.isMeshDepthMaterial?a(E,b):b.isMeshDistanceMaterial?(a(E,b),S(E,b)):b.isMeshNormalMaterial?a(E,b):b.isLineBasicMaterial?(o(E,b),b.isLineDashedMaterial&&l(E,b)):b.isPointsMaterial?u(E,b,A,C):b.isSpriteMaterial?f(E,b):b.isShadowMaterial?(E.color.value.copy(b.color),E.opacity.value=b.opacity):b.isShaderMaterial&&(b.uniformsNeedUpdate=!1)}function a(E,b){E.opacity.value=b.opacity,b.color&&E.diffuse.value.copy(b.color),b.emissive&&E.emissive.value.copy(b.emissive).multiplyScalar(b.emissiveIntensity),b.map&&(E.map.value=b.map,n(b.map,E.mapTransform)),b.alphaMap&&(E.alphaMap.value=b.alphaMap,n(b.alphaMap,E.alphaMapTransform)),b.bumpMap&&(E.bumpMap.value=b.bumpMap,n(b.bumpMap,E.bumpMapTransform),E.bumpScale.value=b.bumpScale,b.side===wo&&(E.bumpScale.value*=-1)),b.normalMap&&(E.normalMap.value=b.normalMap,n(b.normalMap,E.normalMapTransform),E.normalScale.value.copy(b.normalScale),b.side===wo&&E.normalScale.value.negate()),b.displacementMap&&(E.displacementMap.value=b.displacementMap,n(b.displacementMap,E.displacementMapTransform),E.displacementScale.value=b.displacementScale,E.displacementBias.value=b.displacementBias),b.emissiveMap&&(E.emissiveMap.value=b.emissiveMap,n(b.emissiveMap,E.emissiveMapTransform)),b.specularMap&&(E.specularMap.value=b.specularMap,n(b.specularMap,E.specularMapTransform)),b.alphaTest>0&&(E.alphaTest.value=b.alphaTest);const A=e.get(b),C=A.envMap,M=A.envMapRotation;C&&(E.envMap.value=C,Rg.copy(M),Rg.x*=-1,Rg.y*=-1,Rg.z*=-1,C.isCubeTexture&&C.isRenderTargetTexture===!1&&(Rg.y*=-1,Rg.z*=-1),E.envMapRotation.value.setFromMatrix4(Gst.makeRotationFromEuler(Rg)),E.flipEnvMap.value=C.isCubeTexture&&C.isRenderTargetTexture===!1?-1:1,E.reflectivity.value=b.reflectivity,E.ior.value=b.ior,E.refractionRatio.value=b.refractionRatio),b.lightMap&&(E.lightMap.value=b.lightMap,E.lightMapIntensity.value=b.lightMapIntensity,n(b.lightMap,E.lightMapTransform)),b.aoMap&&(E.aoMap.value=b.aoMap,E.aoMapIntensity.value=b.aoMapIntensity,n(b.aoMap,E.aoMapTransform))}function o(E,b){E.diffuse.value.copy(b.color),E.opacity.value=b.opacity,b.map&&(E.map.value=b.map,n(b.map,E.mapTransform))}function l(E,b){E.dashSize.value=b.dashSize,E.totalSize.value=b.dashSize+b.gapSize,E.scale.value=b.scale}function u(E,b,A,C){E.diffuse.value.copy(b.color),E.opacity.value=b.opacity,E.size.value=b.size*A,E.scale.value=C*.5,b.map&&(E.map.value=b.map,n(b.map,E.uvTransform)),b.alphaMap&&(E.alphaMap.value=b.alphaMap,n(b.alphaMap,E.alphaMapTransform)),b.alphaTest>0&&(E.alphaTest.value=b.alphaTest)}function f(E,b){E.diffuse.value.copy(b.color),E.opacity.value=b.opacity,E.rotation.value=b.rotation,b.map&&(E.map.value=b.map,n(b.map,E.mapTransform)),b.alphaMap&&(E.alphaMap.value=b.alphaMap,n(b.alphaMap,E.alphaMapTransform)),b.alphaTest>0&&(E.alphaTest.value=b.alphaTest)}function h(E,b){E.specular.value.copy(b.specular),E.shininess.value=Math.max(b.shininess,1e-4)}function p(E,b){b.gradientMap&&(E.gradientMap.value=b.gradientMap)}function y(E,b){E.metalness.value=b.metalness,b.metalnessMap&&(E.metalnessMap.value=b.metalnessMap,n(b.metalnessMap,E.metalnessMapTransform)),E.roughness.value=b.roughness,b.roughnessMap&&(E.roughnessMap.value=b.roughnessMap,n(b.roughnessMap,E.roughnessMapTransform)),b.envMap&&(E.envMapIntensity.value=b.envMapIntensity)}function _(E,b,A){E.ior.value=b.ior,b.sheen>0&&(E.sheenColor.value.copy(b.sheenColor).multiplyScalar(b.sheen),E.sheenRoughness.value=b.sheenRoughness,b.sheenColorMap&&(E.sheenColorMap.value=b.sheenColorMap,n(b.sheenColorMap,E.sheenColorMapTransform)),b.sheenRoughnessMap&&(E.sheenRoughnessMap.value=b.sheenRoughnessMap,n(b.sheenRoughnessMap,E.sheenRoughnessMapTransform))),b.clearcoat>0&&(E.clearcoat.value=b.clearcoat,E.clearcoatRoughness.value=b.clearcoatRoughness,b.clearcoatMap&&(E.clearcoatMap.value=b.clearcoatMap,n(b.clearcoatMap,E.clearcoatMapTransform)),b.clearcoatRoughnessMap&&(E.clearcoatRoughnessMap.value=b.clearcoatRoughnessMap,n(b.clearcoatRoughnessMap,E.clearcoatRoughnessMapTransform)),b.clearcoatNormalMap&&(E.clearcoatNormalMap.value=b.clearcoatNormalMap,n(b.clearcoatNormalMap,E.clearcoatNormalMapTransform),E.clearcoatNormalScale.value.copy(b.clearcoatNormalScale),b.side===wo&&E.clearcoatNormalScale.value.negate())),b.dispersion>0&&(E.dispersion.value=b.dispersion),b.iridescence>0&&(E.iridescence.value=b.iridescence,E.iridescenceIOR.value=b.iridescenceIOR,E.iridescenceThicknessMinimum.value=b.iridescenceThicknessRange[0],E.iridescenceThicknessMaximum.value=b.iridescenceThicknessRange[1],b.iridescenceMap&&(E.iridescenceMap.value=b.iridescenceMap,n(b.iridescenceMap,E.iridescenceMapTransform)),b.iridescenceThicknessMap&&(E.iridescenceThicknessMap.value=b.iridescenceThicknessMap,n(b.iridescenceThicknessMap,E.iridescenceThicknessMapTransform))),b.transmission>0&&(E.transmission.value=b.transmission,E.transmissionSamplerMap.value=A.texture,E.transmissionSamplerSize.value.set(A.width,A.height),b.transmissionMap&&(E.transmissionMap.value=b.transmissionMap,n(b.transmissionMap,E.transmissionMapTransform)),E.thickness.value=b.thickness,b.thicknessMap&&(E.thicknessMap.value=b.thicknessMap,n(b.thicknessMap,E.thicknessMapTransform)),E.attenuationDistance.value=b.attenuationDistance,E.attenuationColor.value.copy(b.attenuationColor)),b.anisotropy>0&&(E.anisotropyVector.value.set(b.anisotropy*Math.cos(b.anisotropyRotation),b.anisotropy*Math.sin(b.anisotropyRotation)),b.anisotropyMap&&(E.anisotropyMap.value=b.anisotropyMap,n(b.anisotropyMap,E.anisotropyMapTransform))),E.specularIntensity.value=b.specularIntensity,E.specularColor.value.copy(b.specularColor),b.specularColorMap&&(E.specularColorMap.value=b.specularColorMap,n(b.specularColorMap,E.specularColorMapTransform)),b.specularIntensityMap&&(E.specularIntensityMap.value=b.specularIntensityMap,n(b.specularIntensityMap,E.specularIntensityMapTransform))}function x(E,b){b.matcap&&(E.matcap.value=b.matcap)}function S(E,b){const A=e.get(b).light;E.referencePosition.value.setFromMatrixPosition(A.matrixWorld),E.nearDistance.value=A.shadow.camera.near,E.farDistance.value=A.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:s}}function $st(i,e,n,r){let s={},a={},o=[];const l=i.getParameter(i.MAX_UNIFORM_BUFFER_BINDINGS);function u(A,C){const M=C.program;r.uniformBlockBinding(A,M)}function f(A,C){let M=s[A.id];M===void 0&&(x(A),M=h(A),s[A.id]=M,A.addEventListener("dispose",E));const I=C.program;r.updateUBOMapping(A,I);const k=e.render.frame;a[A.id]!==k&&(y(A),a[A.id]=k)}function h(A){const C=p();A.__bindingPointIndex=C;const M=i.createBuffer(),I=A.__size,k=A.usage;return i.bindBuffer(i.UNIFORM_BUFFER,M),i.bufferData(i.UNIFORM_BUFFER,I,k),i.bindBuffer(i.UNIFORM_BUFFER,null),i.bindBufferBase(i.UNIFORM_BUFFER,C,M),M}function p(){for(let A=0;A<l;A++)if(o.indexOf(A)===-1)return o.push(A),A;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function y(A){const C=s[A.id],M=A.uniforms,I=A.__cache;i.bindBuffer(i.UNIFORM_BUFFER,C);for(let k=0,N=M.length;k<N;k++){const L=Array.isArray(M[k])?M[k]:[M[k]];for(let U=0,O=L.length;U<O;U++){const B=L[U];if(_(B,k,U,I)===!0){const H=B.__offset,V=Array.isArray(B.value)?B.value:[B.value];let X=0;for(let et=0;et<V.length;et++){const q=V[et],W=S(q);typeof q=="number"||typeof q=="boolean"?(B.__data[0]=q,i.bufferSubData(i.UNIFORM_BUFFER,H+X,B.__data)):q.isMatrix3?(B.__data[0]=q.elements[0],B.__data[1]=q.elements[1],B.__data[2]=q.elements[2],B.__data[3]=0,B.__data[4]=q.elements[3],B.__data[5]=q.elements[4],B.__data[6]=q.elements[5],B.__data[7]=0,B.__data[8]=q.elements[6],B.__data[9]=q.elements[7],B.__data[10]=q.elements[8],B.__data[11]=0):(q.toArray(B.__data,X),X+=W.storage/Float32Array.BYTES_PER_ELEMENT)}i.bufferSubData(i.UNIFORM_BUFFER,H,B.__data)}}}i.bindBuffer(i.UNIFORM_BUFFER,null)}function _(A,C,M,I){const k=A.value,N=C+"_"+M;if(I[N]===void 0)return typeof k=="number"||typeof k=="boolean"?I[N]=k:I[N]=k.clone(),!0;{const L=I[N];if(typeof k=="number"||typeof k=="boolean"){if(L!==k)return I[N]=k,!0}else if(L.equals(k)===!1)return L.copy(k),!0}return!1}function x(A){const C=A.uniforms;let M=0;const I=16;for(let N=0,L=C.length;N<L;N++){const U=Array.isArray(C[N])?C[N]:[C[N]];for(let O=0,B=U.length;O<B;O++){const H=U[O],V=Array.isArray(H.value)?H.value:[H.value];for(let X=0,et=V.length;X<et;X++){const q=V[X],W=S(q),Z=M%I,nt=Z%W.boundary,Q=Z+nt;M+=nt,Q!==0&&I-Q<W.storage&&(M+=I-Q),H.__data=new Float32Array(W.storage/Float32Array.BYTES_PER_ELEMENT),H.__offset=M,M+=W.storage}}}const k=M%I;return k>0&&(M+=I-k),A.__size=M,A.__cache={},this}function S(A){const C={boundary:0,storage:0};return typeof A=="number"||typeof A=="boolean"?(C.boundary=4,C.storage=4):A.isVector2?(C.boundary=8,C.storage=8):A.isVector3||A.isColor?(C.boundary=16,C.storage=12):A.isVector4?(C.boundary=16,C.storage=16):A.isMatrix3?(C.boundary=48,C.storage=48):A.isMatrix4?(C.boundary=64,C.storage=64):A.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",A),C}function E(A){const C=A.target;C.removeEventListener("dispose",E);const M=o.indexOf(C.__bindingPointIndex);o.splice(M,1),i.deleteBuffer(s[C.id]),delete s[C.id],delete a[C.id]}function b(){for(const A in s)i.deleteBuffer(s[A]);o=[],s={},a={}}return{bind:u,update:f,dispose:b}}class nj{constructor(e={}){const{canvas:n=KH(),context:r=null,depth:s=!0,stencil:a=!1,alpha:o=!1,antialias:l=!1,premultipliedAlpha:u=!0,preserveDrawingBuffer:f=!1,powerPreference:h="default",failIfMajorPerformanceCaveat:p=!1,reverseDepthBuffer:y=!1}=e;this.isWebGLRenderer=!0;let _;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");_=r.getContextAttributes().alpha}else _=o;const x=new Uint32Array(4),S=new Int32Array(4);let E=null,b=null;const A=[],C=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=ma,this.toneMapping=Gf,this.toneMappingExposure=1;const M=this;let I=!1,k=0,N=0,L=null,U=-1,O=null;const B=new xi,H=new xi;let V=null;const X=new Fe(0);let et=0,q=n.width,W=n.height,Z=1,nt=null,Q=null;const ht=new xi(0,0,q,W),yt=new xi(0,0,q,W);let xt=!1;const it=new QS;let dt=!1,ft=!1;this.transmissionResolutionScale=1;const gt=new gn,wt=new gn,Kt=new pt,kt=new xi,ee={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Pt=!1;function Vt(){return L===null?Z:1}let at=r;function ce(rt,St){return n.getContext(rt,St)}try{const rt={alpha:!0,depth:s,stencil:a,antialias:l,premultipliedAlpha:u,preserveDrawingBuffer:f,powerPreference:h,failIfMajorPerformanceCaveat:p};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${WS}`),n.addEventListener("webglcontextlost",se,!1),n.addEventListener("webglcontextrestored",Ie,!1),n.addEventListener("webglcontextcreationerror",Se,!1),at===null){const St="webgl2";if(at=ce(St,rt),at===null)throw ce(St)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(rt){throw console.error("THREE.WebGLRenderer: "+rt.message),rt}let te,ne,ie,Me,le,lt,j,ut,mt,Rt,_t,Ct,Lt,Qt,De,Ht,_e,Re,Oe,Zt,Pe,Ne,sn,Tt;function Ce(){te=new rrt(at),te.init(),Ne=new ej(at,te),ne=new Zit(at,te,e,Ne),ie=new zst(at,te),ne.reverseDepthBuffer&&y&&ie.buffers.depth.setReversed(!0),Me=new ort(at),le=new wst,lt=new Bst(at,te,ie,le,ne,Ne,Me),j=new Jit(M),ut=new irt(M),mt=new het(at),sn=new Yit(at,mt),Rt=new srt(at,mt,Me,sn),_t=new urt(at,Rt,mt,Me),Oe=new lrt(at,ne,lt),Ht=new Qit(le),Ct=new Tst(M,j,ut,te,ne,sn,Ht),Lt=new qst(M,le),Qt=new Mst,De=new Dst(te),Re=new Xit(M,j,ut,ie,_t,_,u),_e=new Ust(M,_t,ne),Tt=new $st(at,Me,ne,ie),Zt=new Kit(at,te,Me),Pe=new art(at,te,Me),Me.programs=Ct.programs,M.capabilities=ne,M.extensions=te,M.properties=le,M.renderLists=Qt,M.shadowMap=_e,M.state=ie,M.info=Me}Ce();const Xt=new jst(M,at);this.xr=Xt,this.getContext=function(){return at},this.getContextAttributes=function(){return at.getContextAttributes()},this.forceContextLoss=function(){const rt=te.get("WEBGL_lose_context");rt&&rt.loseContext()},this.forceContextRestore=function(){const rt=te.get("WEBGL_lose_context");rt&&rt.restoreContext()},this.getPixelRatio=function(){return Z},this.setPixelRatio=function(rt){rt!==void 0&&(Z=rt,this.setSize(q,W,!1))},this.getSize=function(rt){return rt.set(q,W)},this.setSize=function(rt,St,Bt=!0){if(Xt.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}q=rt,W=St,n.width=Math.floor(rt*Z),n.height=Math.floor(St*Z),Bt===!0&&(n.style.width=rt+"px",n.style.height=St+"px"),this.setViewport(0,0,rt,St)},this.getDrawingBufferSize=function(rt){return rt.set(q*Z,W*Z).floor()},this.setDrawingBufferSize=function(rt,St,Bt){q=rt,W=St,Z=Bt,n.width=Math.floor(rt*Bt),n.height=Math.floor(St*Bt),this.setViewport(0,0,rt,St)},this.getCurrentViewport=function(rt){return rt.copy(B)},this.getViewport=function(rt){return rt.copy(ht)},this.setViewport=function(rt,St,Bt,jt){rt.isVector4?ht.set(rt.x,rt.y,rt.z,rt.w):ht.set(rt,St,Bt,jt),ie.viewport(B.copy(ht).multiplyScalar(Z).round())},this.getScissor=function(rt){return rt.copy(yt)},this.setScissor=function(rt,St,Bt,jt){rt.isVector4?yt.set(rt.x,rt.y,rt.z,rt.w):yt.set(rt,St,Bt,jt),ie.scissor(H.copy(yt).multiplyScalar(Z).round())},this.getScissorTest=function(){return xt},this.setScissorTest=function(rt){ie.setScissorTest(xt=rt)},this.setOpaqueSort=function(rt){nt=rt},this.setTransparentSort=function(rt){Q=rt},this.getClearColor=function(rt){return rt.copy(Re.getClearColor())},this.setClearColor=function(){Re.setClearColor(...arguments)},this.getClearAlpha=function(){return Re.getClearAlpha()},this.setClearAlpha=function(){Re.setClearAlpha(...arguments)},this.clear=function(rt=!0,St=!0,Bt=!0){let jt=0;if(rt){let It=!1;if(L!==null){const de=L.texture.format;It=de===x2||de===b2||de===YS}if(It){const de=L.texture.type,Te=de===Ic||de===Ed||de===f_||de===Ty||de===y2||de===v2,we=Re.getClearColor(),ze=Re.getClearAlpha(),un=we.r,en=we.g,We=we.b;Te?(x[0]=un,x[1]=en,x[2]=We,x[3]=ze,at.clearBufferuiv(at.COLOR,0,x)):(S[0]=un,S[1]=en,S[2]=We,S[3]=ze,at.clearBufferiv(at.COLOR,0,S))}else jt|=at.COLOR_BUFFER_BIT}St&&(jt|=at.DEPTH_BUFFER_BIT),Bt&&(jt|=at.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),at.clear(jt)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",se,!1),n.removeEventListener("webglcontextrestored",Ie,!1),n.removeEventListener("webglcontextcreationerror",Se,!1),Re.dispose(),Qt.dispose(),De.dispose(),le.dispose(),j.dispose(),ut.dispose(),_t.dispose(),sn.dispose(),Tt.dispose(),Ct.dispose(),Xt.dispose(),Xt.removeEventListener("sessionstart",Qe),Xt.removeEventListener("sessionend",Ye),Tn.stop()};function se(rt){rt.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),I=!0}function Ie(){console.log("THREE.WebGLRenderer: Context Restored."),I=!1;const rt=Me.autoReset,St=_e.enabled,Bt=_e.autoUpdate,jt=_e.needsUpdate,It=_e.type;Ce(),Me.autoReset=rt,_e.enabled=St,_e.autoUpdate=Bt,_e.needsUpdate=jt,_e.type=It}function Se(rt){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",rt.statusMessage)}function on(rt){const St=rt.target;St.removeEventListener("dispose",on),Kn(St)}function Kn(rt){Ve(rt),le.remove(rt)}function Ve(rt){const St=le.get(rt).programs;St!==void 0&&(St.forEach(function(Bt){Ct.releaseProgram(Bt)}),rt.isShaderMaterial&&Ct.releaseShaderCache(rt))}this.renderBufferDirect=function(rt,St,Bt,jt,It,de){St===null&&(St=ee);const Te=It.isMesh&&It.matrixWorld.determinant()<0,we=Ja(rt,St,Bt,jt,It);ie.setMaterial(jt,Te);let ze=Bt.index,un=1;if(jt.wireframe===!0){if(ze=Rt.getWireframeAttribute(Bt),ze===void 0)return;un=2}const en=Bt.drawRange,We=Bt.attributes.position;let zn=en.start*un,Qn=(en.start+en.count)*un;de!==null&&(zn=Math.max(zn,de.start*un),Qn=Math.min(Qn,(de.start+de.count)*un)),ze!==null?(zn=Math.max(zn,0),Qn=Math.min(Qn,ze.count)):We!=null&&(zn=Math.max(zn,0),Qn=Math.min(Qn,We.count));const Ni=Qn-zn;if(Ni<0||Ni===1/0)return;sn.setup(It,jt,we,Bt,ze);let Vn,$n=Zt;if(ze!==null&&(Vn=mt.get(ze),$n=Pe,$n.setIndex(Vn)),It.isMesh)jt.wireframe===!0?(ie.setLineWidth(jt.wireframeLinewidth*Vt()),$n.setMode(at.LINES)):$n.setMode(at.TRIANGLES);else if(It.isLine){let nn=jt.linewidth;nn===void 0&&(nn=1),ie.setLineWidth(nn*Vt()),It.isLineSegments?$n.setMode(at.LINES):It.isLineLoop?$n.setMode(at.LINE_LOOP):$n.setMode(at.LINE_STRIP)}else It.isPoints?$n.setMode(at.POINTS):It.isSprite&&$n.setMode(at.TRIANGLES);if(It.isBatchedMesh)if(It._multiDrawInstances!==null)Bg("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),$n.renderMultiDrawInstances(It._multiDrawStarts,It._multiDrawCounts,It._multiDrawCount,It._multiDrawInstances);else if(te.get("WEBGL_multi_draw"))$n.renderMultiDraw(It._multiDrawStarts,It._multiDrawCounts,It._multiDrawCount);else{const nn=It._multiDrawStarts,Ji=It._multiDrawCounts,Jn=It._multiDrawCount,qr=ze?mt.get(ze).bytesPerElement:1,Ro=le.get(jt).currentProgram.getUniforms();for(let ai=0;ai<Jn;ai++)Ro.setValue(at,"_gl_DrawID",ai),$n.render(nn[ai]/qr,Ji[ai])}else if(It.isInstancedMesh)$n.renderInstances(zn,Ni,It.count);else if(Bt.isInstancedBufferGeometry){const nn=Bt._maxInstanceCount!==void 0?Bt._maxInstanceCount:1/0,Ji=Math.min(Bt.instanceCount,nn);$n.renderInstances(zn,Ni,Ji)}else $n.render(zn,Ni)};function tn(rt,St,Bt){rt.transparent===!0&&rt.side===Uf&&rt.forceSinglePass===!1?(rt.side=wo,rt.needsUpdate=!0,fi(rt,St,Bt),rt.side=xd,rt.needsUpdate=!0,fi(rt,St,Bt),rt.side=Uf):fi(rt,St,Bt)}this.compile=function(rt,St,Bt=null){Bt===null&&(Bt=rt),b=De.get(Bt),b.init(St),C.push(b),Bt.traverseVisible(function(It){It.isLight&&It.layers.test(St.layers)&&(b.pushLight(It),It.castShadow&&b.pushShadow(It))}),rt!==Bt&&rt.traverseVisible(function(It){It.isLight&&It.layers.test(St.layers)&&(b.pushLight(It),It.castShadow&&b.pushShadow(It))}),b.setupLights();const jt=new Set;return rt.traverse(function(It){if(!(It.isMesh||It.isPoints||It.isLine||It.isSprite))return;const de=It.material;if(de)if(Array.isArray(de))for(let Te=0;Te<de.length;Te++){const we=de[Te];tn(we,Bt,It),jt.add(we)}else tn(de,Bt,It),jt.add(de)}),b=C.pop(),jt},this.compileAsync=function(rt,St,Bt=null){const jt=this.compile(rt,St,Bt);return new Promise(It=>{function de(){if(jt.forEach(function(Te){le.get(Te).currentProgram.isReady()&&jt.delete(Te)}),jt.size===0){It(rt);return}setTimeout(de,10)}te.get("KHR_parallel_shader_compile")!==null?de():setTimeout(de,10)})};let Ee=null;function ye(rt){Ee&&Ee(rt)}function Qe(){Tn.stop()}function Ye(){Tn.start()}const Tn=new K7;Tn.setAnimationLoop(ye),typeof self<"u"&&Tn.setContext(self),this.setAnimationLoop=function(rt){Ee=rt,Xt.setAnimationLoop(rt),rt===null?Tn.stop():Tn.start()},Xt.addEventListener("sessionstart",Qe),Xt.addEventListener("sessionend",Ye),this.render=function(rt,St){if(St!==void 0&&St.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(I===!0)return;if(rt.matrixWorldAutoUpdate===!0&&rt.updateMatrixWorld(),St.parent===null&&St.matrixWorldAutoUpdate===!0&&St.updateMatrixWorld(),Xt.enabled===!0&&Xt.isPresenting===!0&&(Xt.cameraAutoUpdate===!0&&Xt.updateCamera(St),St=Xt.getCamera()),rt.isScene===!0&&rt.onBeforeRender(M,rt,St,L),b=De.get(rt,C.length),b.init(St),C.push(b),wt.multiplyMatrices(St.projectionMatrix,St.matrixWorldInverse),it.setFromProjectionMatrix(wt),ft=this.localClippingEnabled,dt=Ht.init(this.clippingPlanes,ft),E=Qt.get(rt,A.length),E.init(),A.push(E),Xt.enabled===!0&&Xt.isPresenting===!0){const de=M.xr.getDepthSensingMesh();de!==null&&Fi(de,St,-1/0,M.sortObjects)}Fi(rt,St,0,M.sortObjects),E.finish(),M.sortObjects===!0&&E.sort(nt,Q),Pt=Xt.enabled===!1||Xt.isPresenting===!1||Xt.hasDepthSensing()===!1,Pt&&Re.addToRenderList(E,rt),this.info.render.frame++,dt===!0&&Ht.beginShadows();const Bt=b.state.shadowsArray;_e.render(Bt,rt,St),dt===!0&&Ht.endShadows(),this.info.autoReset===!0&&this.info.reset();const jt=E.opaque,It=E.transmissive;if(b.setupLights(),St.isArrayCamera){const de=St.cameras;if(It.length>0)for(let Te=0,we=de.length;Te<we;Te++){const ze=de[Te];ar(jt,It,rt,ze)}Pt&&Re.render(rt);for(let Te=0,we=de.length;Te<we;Te++){const ze=de[Te];na(E,rt,ze,ze.viewport)}}else It.length>0&&ar(jt,It,rt,St),Pt&&Re.render(rt),na(E,rt,St);L!==null&&N===0&&(lt.updateMultisampleRenderTarget(L),lt.updateRenderTargetMipmap(L)),rt.isScene===!0&&rt.onAfterRender(M,rt,St),sn.resetDefaultState(),U=-1,O=null,C.pop(),C.length>0?(b=C[C.length-1],dt===!0&&Ht.setGlobalState(M.clippingPlanes,b.state.camera)):b=null,A.pop(),A.length>0?E=A[A.length-1]:E=null};function Fi(rt,St,Bt,jt){if(rt.visible===!1)return;if(rt.layers.test(St.layers)){if(rt.isGroup)Bt=rt.renderOrder;else if(rt.isLOD)rt.autoUpdate===!0&&rt.update(St);else if(rt.isLight)b.pushLight(rt),rt.castShadow&&b.pushShadow(rt);else if(rt.isSprite){if(!rt.frustumCulled||it.intersectsSprite(rt)){jt&&kt.setFromMatrixPosition(rt.matrixWorld).applyMatrix4(wt);const Te=_t.update(rt),we=rt.material;we.visible&&E.push(rt,Te,we,Bt,kt.z,null)}}else if((rt.isMesh||rt.isLine||rt.isPoints)&&(!rt.frustumCulled||it.intersectsObject(rt))){const Te=_t.update(rt),we=rt.material;if(jt&&(rt.boundingSphere!==void 0?(rt.boundingSphere===null&&rt.computeBoundingSphere(),kt.copy(rt.boundingSphere.center)):(Te.boundingSphere===null&&Te.computeBoundingSphere(),kt.copy(Te.boundingSphere.center)),kt.applyMatrix4(rt.matrixWorld).applyMatrix4(wt)),Array.isArray(we)){const ze=Te.groups;for(let un=0,en=ze.length;un<en;un++){const We=ze[un],zn=we[We.materialIndex];zn&&zn.visible&&E.push(rt,Te,zn,Bt,kt.z,We)}}else we.visible&&E.push(rt,Te,we,Bt,kt.z,null)}}const de=rt.children;for(let Te=0,we=de.length;Te<we;Te++)Fi(de[Te],St,Bt,jt)}function na(rt,St,Bt,jt){const It=rt.opaque,de=rt.transmissive,Te=rt.transparent;b.setupLightsView(Bt),dt===!0&&Ht.setGlobalState(M.clippingPlanes,Bt),jt&&ie.viewport(B.copy(jt)),It.length>0&&Gr(It,St,Bt),de.length>0&&Gr(de,St,Bt),Te.length>0&&Gr(Te,St,Bt),ie.buffers.depth.setTest(!0),ie.buffers.depth.setMask(!0),ie.buffers.color.setMask(!0),ie.setPolygonOffset(!1)}function ar(rt,St,Bt,jt){if((Bt.isScene===!0?Bt.overrideMaterial:null)!==null)return;b.state.transmissionRenderTarget[jt.id]===void 0&&(b.state.transmissionRenderTarget[jt.id]=new eh(1,1,{generateMipmaps:!0,type:te.has("EXT_color_buffer_half_float")||te.has("EXT_color_buffer_float")?W_:Ic,minFilter:Bf,samples:4,stencilBuffer:a,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:mi.workingColorSpace}));const de=b.state.transmissionRenderTarget[jt.id],Te=jt.viewport||B;de.setSize(Te.z*M.transmissionResolutionScale,Te.w*M.transmissionResolutionScale);const we=M.getRenderTarget();M.setRenderTarget(de),M.getClearColor(X),et=M.getClearAlpha(),et<1&&M.setClearColor(16777215,.5),M.clear(),Pt&&Re.render(Bt);const ze=M.toneMapping;M.toneMapping=Gf;const un=jt.viewport;if(jt.viewport!==void 0&&(jt.viewport=void 0),b.setupLightsView(jt),dt===!0&&Ht.setGlobalState(M.clippingPlanes,jt),Gr(rt,Bt,jt),lt.updateMultisampleRenderTarget(de),lt.updateRenderTargetMipmap(de),te.has("WEBGL_multisampled_render_to_texture")===!1){let en=!1;for(let We=0,zn=St.length;We<zn;We++){const Qn=St[We],Ni=Qn.object,Vn=Qn.geometry,$n=Qn.material,nn=Qn.group;if($n.side===Uf&&Ni.layers.test(jt.layers)){const Ji=$n.side;$n.side=wo,$n.needsUpdate=!0,Os(Ni,Bt,jt,Vn,$n,nn),$n.side=Ji,$n.needsUpdate=!0,en=!0}}en===!0&&(lt.updateMultisampleRenderTarget(de),lt.updateRenderTargetMipmap(de))}M.setRenderTarget(we),M.setClearColor(X,et),un!==void 0&&(jt.viewport=un),M.toneMapping=ze}function Gr(rt,St,Bt){const jt=St.isScene===!0?St.overrideMaterial:null;for(let It=0,de=rt.length;It<de;It++){const Te=rt[It],we=Te.object,ze=Te.geometry,un=jt===null?Te.material:jt,en=Te.group;we.layers.test(Bt.layers)&&Os(we,St,Bt,ze,un,en)}}function Os(rt,St,Bt,jt,It,de){rt.onBeforeRender(M,St,Bt,jt,It,de),rt.modelViewMatrix.multiplyMatrices(Bt.matrixWorldInverse,rt.matrixWorld),rt.normalMatrix.getNormalMatrix(rt.modelViewMatrix),It.onBeforeRender(M,St,Bt,jt,rt,de),It.transparent===!0&&It.side===Uf&&It.forceSinglePass===!1?(It.side=wo,It.needsUpdate=!0,M.renderBufferDirect(Bt,St,jt,It,rt,de),It.side=xd,It.needsUpdate=!0,M.renderBufferDirect(Bt,St,jt,It,rt,de),It.side=Uf):M.renderBufferDirect(Bt,St,jt,It,rt,de),rt.onAfterRender(M,St,Bt,jt,It,de)}function fi(rt,St,Bt){St.isScene!==!0&&(St=ee);const jt=le.get(rt),It=b.state.lights,de=b.state.shadowsArray,Te=It.state.version,we=Ct.getParameters(rt,It.state,de,St,Bt),ze=Ct.getProgramCacheKey(we);let un=jt.programs;jt.environment=rt.isMeshStandardMaterial?St.environment:null,jt.fog=St.fog,jt.envMap=(rt.isMeshStandardMaterial?ut:j).get(rt.envMap||jt.environment),jt.envMapRotation=jt.environment!==null&&rt.envMap===null?St.environmentRotation:rt.envMapRotation,un===void 0&&(rt.addEventListener("dispose",on),un=new Map,jt.programs=un);let en=un.get(ze);if(en!==void 0){if(jt.currentProgram===en&&jt.lightsStateVersion===Te)return ia(rt,we),en}else we.uniforms=Ct.getUniforms(rt),rt.onBeforeCompile(we,M),en=Ct.acquireProgram(we,ze),un.set(ze,en),jt.uniforms=we.uniforms;const We=jt.uniforms;return(!rt.isShaderMaterial&&!rt.isRawShaderMaterial||rt.clipping===!0)&&(We.clippingPlanes=Ht.uniform),ia(rt,we),jt.needsLights=ur(rt),jt.lightsStateVersion=Te,jt.needsLights&&(We.ambientLightColor.value=It.state.ambient,We.lightProbe.value=It.state.probe,We.directionalLights.value=It.state.directional,We.directionalLightShadows.value=It.state.directionalShadow,We.spotLights.value=It.state.spot,We.spotLightShadows.value=It.state.spotShadow,We.rectAreaLights.value=It.state.rectArea,We.ltc_1.value=It.state.rectAreaLTC1,We.ltc_2.value=It.state.rectAreaLTC2,We.pointLights.value=It.state.point,We.pointLightShadows.value=It.state.pointShadow,We.hemisphereLights.value=It.state.hemi,We.directionalShadowMap.value=It.state.directionalShadowMap,We.directionalShadowMatrix.value=It.state.directionalShadowMatrix,We.spotShadowMap.value=It.state.spotShadowMap,We.spotLightMatrix.value=It.state.spotLightMatrix,We.spotLightMap.value=It.state.spotLightMap,We.pointShadowMap.value=It.state.pointShadowMap,We.pointShadowMatrix.value=It.state.pointShadowMatrix),jt.currentProgram=en,jt.uniformsList=null,en}function Ta(rt){if(rt.uniformsList===null){const St=rt.currentProgram.getUniforms();rt.uniformsList=zA.seqWithValue(St.seq,rt.uniforms)}return rt.uniformsList}function ia(rt,St){const Bt=le.get(rt);Bt.outputColorSpace=St.outputColorSpace,Bt.batching=St.batching,Bt.batchingColor=St.batchingColor,Bt.instancing=St.instancing,Bt.instancingColor=St.instancingColor,Bt.instancingMorph=St.instancingMorph,Bt.skinning=St.skinning,Bt.morphTargets=St.morphTargets,Bt.morphNormals=St.morphNormals,Bt.morphColors=St.morphColors,Bt.morphTargetsCount=St.morphTargetsCount,Bt.numClippingPlanes=St.numClippingPlanes,Bt.numIntersection=St.numClipIntersection,Bt.vertexAlphas=St.vertexAlphas,Bt.vertexTangents=St.vertexTangents,Bt.toneMapping=St.toneMapping}function Ja(rt,St,Bt,jt,It){St.isScene!==!0&&(St=ee),lt.resetTextureUnits();const de=St.fog,Te=jt.isMeshStandardMaterial?St.environment:null,we=L===null?M.outputColorSpace:L.isXRRenderTarget===!0?L.texture.colorSpace:hm,ze=(jt.isMeshStandardMaterial?ut:j).get(jt.envMap||Te),un=jt.vertexColors===!0&&!!Bt.attributes.color&&Bt.attributes.color.itemSize===4,en=!!Bt.attributes.tangent&&(!!jt.normalMap||jt.anisotropy>0),We=!!Bt.morphAttributes.position,zn=!!Bt.morphAttributes.normal,Qn=!!Bt.morphAttributes.color;let Ni=Gf;jt.toneMapped&&(L===null||L.isXRRenderTarget===!0)&&(Ni=M.toneMapping);const Vn=Bt.morphAttributes.position||Bt.morphAttributes.normal||Bt.morphAttributes.color,$n=Vn!==void 0?Vn.length:0,nn=le.get(jt),Ji=b.state.lights;if(dt===!0&&(ft===!0||rt!==O)){const Cn=rt===O&&jt.id===U;Ht.setState(jt,rt,Cn)}let Jn=!1;jt.version===nn.__version?(nn.needsLights&&nn.lightsStateVersion!==Ji.state.version||nn.outputColorSpace!==we||It.isBatchedMesh&&nn.batching===!1||!It.isBatchedMesh&&nn.batching===!0||It.isBatchedMesh&&nn.batchingColor===!0&&It.colorTexture===null||It.isBatchedMesh&&nn.batchingColor===!1&&It.colorTexture!==null||It.isInstancedMesh&&nn.instancing===!1||!It.isInstancedMesh&&nn.instancing===!0||It.isSkinnedMesh&&nn.skinning===!1||!It.isSkinnedMesh&&nn.skinning===!0||It.isInstancedMesh&&nn.instancingColor===!0&&It.instanceColor===null||It.isInstancedMesh&&nn.instancingColor===!1&&It.instanceColor!==null||It.isInstancedMesh&&nn.instancingMorph===!0&&It.morphTexture===null||It.isInstancedMesh&&nn.instancingMorph===!1&&It.morphTexture!==null||nn.envMap!==ze||jt.fog===!0&&nn.fog!==de||nn.numClippingPlanes!==void 0&&(nn.numClippingPlanes!==Ht.numPlanes||nn.numIntersection!==Ht.numIntersection)||nn.vertexAlphas!==un||nn.vertexTangents!==en||nn.morphTargets!==We||nn.morphNormals!==zn||nn.morphColors!==Qn||nn.toneMapping!==Ni||nn.morphTargetsCount!==$n)&&(Jn=!0):(Jn=!0,nn.__version=jt.version);let qr=nn.currentProgram;Jn===!0&&(qr=fi(jt,St,It));let Ro=!1,ai=!1,$r=!1;const hi=qr.getUniforms(),_r=nn.uniforms;if(ie.useProgram(qr.program)&&(Ro=!0,ai=!0,$r=!0),jt.id!==U&&(U=jt.id,ai=!0),Ro||O!==rt){ie.buffers.depth.getReversed()?(gt.copy(rt.projectionMatrix),LQ(gt),UQ(gt),hi.setValue(at,"projectionMatrix",gt)):hi.setValue(at,"projectionMatrix",rt.projectionMatrix),hi.setValue(at,"viewMatrix",rt.matrixWorldInverse);const fr=hi.map.cameraPosition;fr!==void 0&&fr.setValue(at,Kt.setFromMatrixPosition(rt.matrixWorld)),ne.logarithmicDepthBuffer&&hi.setValue(at,"logDepthBufFC",2/(Math.log(rt.far+1)/Math.LN2)),(jt.isMeshPhongMaterial||jt.isMeshToonMaterial||jt.isMeshLambertMaterial||jt.isMeshBasicMaterial||jt.isMeshStandardMaterial||jt.isShaderMaterial)&&hi.setValue(at,"isOrthographic",rt.isOrthographicCamera===!0),O!==rt&&(O=rt,ai=!0,$r=!0)}if(It.isSkinnedMesh){hi.setOptional(at,It,"bindMatrix"),hi.setOptional(at,It,"bindMatrixInverse");const Cn=It.skeleton;Cn&&(Cn.boneTexture===null&&Cn.computeBoneTexture(),hi.setValue(at,"boneTexture",Cn.boneTexture,lt))}It.isBatchedMesh&&(hi.setOptional(at,It,"batchingTexture"),hi.setValue(at,"batchingTexture",It._matricesTexture,lt),hi.setOptional(at,It,"batchingIdTexture"),hi.setValue(at,"batchingIdTexture",It._indirectTexture,lt),hi.setOptional(at,It,"batchingColorTexture"),It._colorsTexture!==null&&hi.setValue(at,"batchingColorTexture",It._colorsTexture,lt));const cr=Bt.morphAttributes;if((cr.position!==void 0||cr.normal!==void 0||cr.color!==void 0)&&Oe.update(It,Bt,qr),(ai||nn.receiveShadow!==It.receiveShadow)&&(nn.receiveShadow=It.receiveShadow,hi.setValue(at,"receiveShadow",It.receiveShadow)),jt.isMeshGouraudMaterial&&jt.envMap!==null&&(_r.envMap.value=ze,_r.flipEnvMap.value=ze.isCubeTexture&&ze.isRenderTargetTexture===!1?-1:1),jt.isMeshStandardMaterial&&jt.envMap===null&&St.environment!==null&&(_r.envMapIntensity.value=St.environmentIntensity),ai&&(hi.setValue(at,"toneMappingExposure",M.toneMappingExposure),nn.needsLights&&ys(_r,$r),de&&jt.fog===!0&&Lt.refreshFogUniforms(_r,de),Lt.refreshMaterialUniforms(_r,jt,Z,W,b.state.transmissionRenderTarget[rt.id]),zA.upload(at,Ta(nn),_r,lt)),jt.isShaderMaterial&&jt.uniformsNeedUpdate===!0&&(zA.upload(at,Ta(nn),_r,lt),jt.uniformsNeedUpdate=!1),jt.isSpriteMaterial&&hi.setValue(at,"center",It.center),hi.setValue(at,"modelViewMatrix",It.modelViewMatrix),hi.setValue(at,"normalMatrix",It.normalMatrix),hi.setValue(at,"modelMatrix",It.matrixWorld),jt.isShaderMaterial||jt.isRawShaderMaterial){const Cn=jt.uniformsGroups;for(let fr=0,Rr=Cn.length;fr<Rr;fr++){const js=Cn[fr];Tt.update(js,qr),Tt.bind(js,qr)}}return qr}function ys(rt,St){rt.ambientLightColor.needsUpdate=St,rt.lightProbe.needsUpdate=St,rt.directionalLights.needsUpdate=St,rt.directionalLightShadows.needsUpdate=St,rt.pointLights.needsUpdate=St,rt.pointLightShadows.needsUpdate=St,rt.spotLights.needsUpdate=St,rt.spotLightShadows.needsUpdate=St,rt.rectAreaLights.needsUpdate=St,rt.hemisphereLights.needsUpdate=St}function ur(rt){return rt.isMeshLambertMaterial||rt.isMeshToonMaterial||rt.isMeshPhongMaterial||rt.isMeshStandardMaterial||rt.isShadowMaterial||rt.isShaderMaterial&&rt.lights===!0}this.getActiveCubeFace=function(){return k},this.getActiveMipmapLevel=function(){return N},this.getRenderTarget=function(){return L},this.setRenderTargetTextures=function(rt,St,Bt){le.get(rt.texture).__webglTexture=St,le.get(rt.depthTexture).__webglTexture=Bt;const jt=le.get(rt);jt.__hasExternalTextures=!0,jt.__autoAllocateDepthBuffer=Bt===void 0,jt.__autoAllocateDepthBuffer||te.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),jt.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(rt,St){const Bt=le.get(rt);Bt.__webglFramebuffer=St,Bt.__useDefaultFramebuffer=St===void 0};const ju=at.createFramebuffer();this.setRenderTarget=function(rt,St=0,Bt=0){L=rt,k=St,N=Bt;let jt=!0,It=null,de=!1,Te=!1;if(rt){const ze=le.get(rt);if(ze.__useDefaultFramebuffer!==void 0)ie.bindFramebuffer(at.FRAMEBUFFER,null),jt=!1;else if(ze.__webglFramebuffer===void 0)lt.setupRenderTarget(rt);else if(ze.__hasExternalTextures)lt.rebindTextures(rt,le.get(rt.texture).__webglTexture,le.get(rt.depthTexture).__webglTexture);else if(rt.depthBuffer){const We=rt.depthTexture;if(ze.__boundDepthTexture!==We){if(We!==null&&le.has(We)&&(rt.width!==We.image.width||rt.height!==We.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");lt.setupDepthRenderbuffer(rt)}}const un=rt.texture;(un.isData3DTexture||un.isDataArrayTexture||un.isCompressedArrayTexture)&&(Te=!0);const en=le.get(rt).__webglFramebuffer;rt.isWebGLCubeRenderTarget?(Array.isArray(en[St])?It=en[St][Bt]:It=en[St],de=!0):rt.samples>0&&lt.useMultisampledRTT(rt)===!1?It=le.get(rt).__webglMultisampledFramebuffer:Array.isArray(en)?It=en[Bt]:It=en,B.copy(rt.viewport),H.copy(rt.scissor),V=rt.scissorTest}else B.copy(ht).multiplyScalar(Z).floor(),H.copy(yt).multiplyScalar(Z).floor(),V=xt;if(Bt!==0&&(It=ju),ie.bindFramebuffer(at.FRAMEBUFFER,It)&&jt&&ie.drawBuffers(rt,It),ie.viewport(B),ie.scissor(H),ie.setScissorTest(V),de){const ze=le.get(rt.texture);at.framebufferTexture2D(at.FRAMEBUFFER,at.COLOR_ATTACHMENT0,at.TEXTURE_CUBE_MAP_POSITIVE_X+St,ze.__webglTexture,Bt)}else if(Te){const ze=le.get(rt.texture),un=St;at.framebufferTextureLayer(at.FRAMEBUFFER,at.COLOR_ATTACHMENT0,ze.__webglTexture,Bt,un)}else if(rt!==null&&Bt!==0){const ze=le.get(rt.texture);at.framebufferTexture2D(at.FRAMEBUFFER,at.COLOR_ATTACHMENT0,at.TEXTURE_2D,ze.__webglTexture,Bt)}U=-1},this.readRenderTargetPixels=function(rt,St,Bt,jt,It,de,Te){if(!(rt&&rt.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let we=le.get(rt).__webglFramebuffer;if(rt.isWebGLCubeRenderTarget&&Te!==void 0&&(we=we[Te]),we){ie.bindFramebuffer(at.FRAMEBUFFER,we);try{const ze=rt.texture,un=ze.format,en=ze.type;if(!ne.textureFormatReadable(un)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!ne.textureTypeReadable(en)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}St>=0&&St<=rt.width-jt&&Bt>=0&&Bt<=rt.height-It&&at.readPixels(St,Bt,jt,It,Ne.convert(un),Ne.convert(en),de)}finally{const ze=L!==null?le.get(L).__webglFramebuffer:null;ie.bindFramebuffer(at.FRAMEBUFFER,ze)}}},this.readRenderTargetPixelsAsync=async function(rt,St,Bt,jt,It,de,Te){if(!(rt&&rt.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let we=le.get(rt).__webglFramebuffer;if(rt.isWebGLCubeRenderTarget&&Te!==void 0&&(we=we[Te]),we){const ze=rt.texture,un=ze.format,en=ze.type;if(!ne.textureFormatReadable(un))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!ne.textureTypeReadable(en))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(St>=0&&St<=rt.width-jt&&Bt>=0&&Bt<=rt.height-It){ie.bindFramebuffer(at.FRAMEBUFFER,we);const We=at.createBuffer();at.bindBuffer(at.PIXEL_PACK_BUFFER,We),at.bufferData(at.PIXEL_PACK_BUFFER,de.byteLength,at.STREAM_READ),at.readPixels(St,Bt,jt,It,Ne.convert(un),Ne.convert(en),0);const zn=L!==null?le.get(L).__webglFramebuffer:null;ie.bindFramebuffer(at.FRAMEBUFFER,zn);const Qn=at.fenceSync(at.SYNC_GPU_COMMANDS_COMPLETE,0);return at.flush(),await NQ(at,Qn,4),at.bindBuffer(at.PIXEL_PACK_BUFFER,We),at.getBufferSubData(at.PIXEL_PACK_BUFFER,0,de),at.deleteBuffer(We),at.deleteSync(Qn),de}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(rt,St=null,Bt=0){rt.isTexture!==!0&&(Bg("WebGLRenderer: copyFramebufferToTexture function signature has changed."),St=arguments[0]||null,rt=arguments[1]);const jt=Math.pow(2,-Bt),It=Math.floor(rt.image.width*jt),de=Math.floor(rt.image.height*jt),Te=St!==null?St.x:0,we=St!==null?St.y:0;lt.setTexture2D(rt,0),at.copyTexSubImage2D(at.TEXTURE_2D,Bt,0,0,Te,we,It,de),ie.unbindTexture()};const tu=at.createFramebuffer(),ra=at.createFramebuffer();this.copyTextureToTexture=function(rt,St,Bt=null,jt=null,It=0,de=null){rt.isTexture!==!0&&(Bg("WebGLRenderer: copyTextureToTexture function signature has changed."),jt=arguments[0]||null,rt=arguments[1],St=arguments[2],de=arguments[3]||0,Bt=null),de===null&&(It!==0?(Bg("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),de=It,It=0):de=0);let Te,we,ze,un,en,We,zn,Qn,Ni;const Vn=rt.isCompressedTexture?rt.mipmaps[de]:rt.image;if(Bt!==null)Te=Bt.max.x-Bt.min.x,we=Bt.max.y-Bt.min.y,ze=Bt.isBox3?Bt.max.z-Bt.min.z:1,un=Bt.min.x,en=Bt.min.y,We=Bt.isBox3?Bt.min.z:0;else{const cr=Math.pow(2,-It);Te=Math.floor(Vn.width*cr),we=Math.floor(Vn.height*cr),rt.isDataArrayTexture?ze=Vn.depth:rt.isData3DTexture?ze=Math.floor(Vn.depth*cr):ze=1,un=0,en=0,We=0}jt!==null?(zn=jt.x,Qn=jt.y,Ni=jt.z):(zn=0,Qn=0,Ni=0);const $n=Ne.convert(St.format),nn=Ne.convert(St.type);let Ji;St.isData3DTexture?(lt.setTexture3D(St,0),Ji=at.TEXTURE_3D):St.isDataArrayTexture||St.isCompressedArrayTexture?(lt.setTexture2DArray(St,0),Ji=at.TEXTURE_2D_ARRAY):(lt.setTexture2D(St,0),Ji=at.TEXTURE_2D),at.pixelStorei(at.UNPACK_FLIP_Y_WEBGL,St.flipY),at.pixelStorei(at.UNPACK_PREMULTIPLY_ALPHA_WEBGL,St.premultiplyAlpha),at.pixelStorei(at.UNPACK_ALIGNMENT,St.unpackAlignment);const Jn=at.getParameter(at.UNPACK_ROW_LENGTH),qr=at.getParameter(at.UNPACK_IMAGE_HEIGHT),Ro=at.getParameter(at.UNPACK_SKIP_PIXELS),ai=at.getParameter(at.UNPACK_SKIP_ROWS),$r=at.getParameter(at.UNPACK_SKIP_IMAGES);at.pixelStorei(at.UNPACK_ROW_LENGTH,Vn.width),at.pixelStorei(at.UNPACK_IMAGE_HEIGHT,Vn.height),at.pixelStorei(at.UNPACK_SKIP_PIXELS,un),at.pixelStorei(at.UNPACK_SKIP_ROWS,en),at.pixelStorei(at.UNPACK_SKIP_IMAGES,We);const hi=rt.isDataArrayTexture||rt.isData3DTexture,_r=St.isDataArrayTexture||St.isData3DTexture;if(rt.isDepthTexture){const cr=le.get(rt),Cn=le.get(St),fr=le.get(cr.__renderTarget),Rr=le.get(Cn.__renderTarget);ie.bindFramebuffer(at.READ_FRAMEBUFFER,fr.__webglFramebuffer),ie.bindFramebuffer(at.DRAW_FRAMEBUFFER,Rr.__webglFramebuffer);for(let js=0;js<ze;js++)hi&&(at.framebufferTextureLayer(at.READ_FRAMEBUFFER,at.COLOR_ATTACHMENT0,le.get(rt).__webglTexture,It,We+js),at.framebufferTextureLayer(at.DRAW_FRAMEBUFFER,at.COLOR_ATTACHMENT0,le.get(St).__webglTexture,de,Ni+js)),at.blitFramebuffer(un,en,Te,we,zn,Qn,Te,we,at.DEPTH_BUFFER_BIT,at.NEAREST);ie.bindFramebuffer(at.READ_FRAMEBUFFER,null),ie.bindFramebuffer(at.DRAW_FRAMEBUFFER,null)}else if(It!==0||rt.isRenderTargetTexture||le.has(rt)){const cr=le.get(rt),Cn=le.get(St);ie.bindFramebuffer(at.READ_FRAMEBUFFER,tu),ie.bindFramebuffer(at.DRAW_FRAMEBUFFER,ra);for(let fr=0;fr<ze;fr++)hi?at.framebufferTextureLayer(at.READ_FRAMEBUFFER,at.COLOR_ATTACHMENT0,cr.__webglTexture,It,We+fr):at.framebufferTexture2D(at.READ_FRAMEBUFFER,at.COLOR_ATTACHMENT0,at.TEXTURE_2D,cr.__webglTexture,It),_r?at.framebufferTextureLayer(at.DRAW_FRAMEBUFFER,at.COLOR_ATTACHMENT0,Cn.__webglTexture,de,Ni+fr):at.framebufferTexture2D(at.DRAW_FRAMEBUFFER,at.COLOR_ATTACHMENT0,at.TEXTURE_2D,Cn.__webglTexture,de),It!==0?at.blitFramebuffer(un,en,Te,we,zn,Qn,Te,we,at.COLOR_BUFFER_BIT,at.NEAREST):_r?at.copyTexSubImage3D(Ji,de,zn,Qn,Ni+fr,un,en,Te,we):at.copyTexSubImage2D(Ji,de,zn,Qn,un,en,Te,we);ie.bindFramebuffer(at.READ_FRAMEBUFFER,null),ie.bindFramebuffer(at.DRAW_FRAMEBUFFER,null)}else _r?rt.isDataTexture||rt.isData3DTexture?at.texSubImage3D(Ji,de,zn,Qn,Ni,Te,we,ze,$n,nn,Vn.data):St.isCompressedArrayTexture?at.compressedTexSubImage3D(Ji,de,zn,Qn,Ni,Te,we,ze,$n,Vn.data):at.texSubImage3D(Ji,de,zn,Qn,Ni,Te,we,ze,$n,nn,Vn):rt.isDataTexture?at.texSubImage2D(at.TEXTURE_2D,de,zn,Qn,Te,we,$n,nn,Vn.data):rt.isCompressedTexture?at.compressedTexSubImage2D(at.TEXTURE_2D,de,zn,Qn,Vn.width,Vn.height,$n,Vn.data):at.texSubImage2D(at.TEXTURE_2D,de,zn,Qn,Te,we,$n,nn,Vn);at.pixelStorei(at.UNPACK_ROW_LENGTH,Jn),at.pixelStorei(at.UNPACK_IMAGE_HEIGHT,qr),at.pixelStorei(at.UNPACK_SKIP_PIXELS,Ro),at.pixelStorei(at.UNPACK_SKIP_ROWS,ai),at.pixelStorei(at.UNPACK_SKIP_IMAGES,$r),de===0&&St.generateMipmaps&&at.generateMipmap(Ji),ie.unbindTexture()},this.copyTextureToTexture3D=function(rt,St,Bt=null,jt=null,It=0){return rt.isTexture!==!0&&(Bg("WebGLRenderer: copyTextureToTexture3D function signature has changed."),Bt=arguments[0]||null,jt=arguments[1]||null,rt=arguments[2],St=arguments[3],It=arguments[4]||0),Bg('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(rt,St,Bt,jt,It)},this.initRenderTarget=function(rt){le.get(rt).__webglFramebuffer===void 0&&lt.setupRenderTarget(rt)},this.initTexture=function(rt){rt.isCubeTexture?lt.setTextureCube(rt,0):rt.isData3DTexture?lt.setTexture3D(rt,0):rt.isDataArrayTexture||rt.isCompressedArrayTexture?lt.setTexture2DArray(rt,0):lt.setTexture2D(rt,0),ie.unbindTexture()},this.resetState=function(){k=0,N=0,L=null,ie.reset(),sn.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Ac}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorspace=mi._getDrawingBufferColorSpace(e),n.unpackColorSpace=mi._getUnpackColorSpace()}}const Wst=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:ZN,AddEquation:jp,AddOperation:MH,AdditiveAnimationBlendMode:lL,AdditiveBlending:yM,AgXToneMapping:PH,AlphaFormat:nL,AlwaysCompare:WH,AlwaysDepth:xM,AlwaysStencilFunc:ID,AmbientLight:B7,AnimationAction:X7,AnimationClip:pS,AnimationLoader:stt,AnimationMixer:Ntt,AnimationObjectGroup:Ptt,AnimationUtils:ett,ArcCurve:h7,ArrayCamera:q7,ArrowHelper:net,AttachedBindMode:OD,Audio:$7,AudioAnalyser:Stt,AudioContext:PL,AudioListener:_tt,AudioLoader:gtt,AxesHelper:iet,BackSide:wo,BasicDepthPacking:zH,BasicShadowMap:oH,BatchedMesh:o7,Bone:mL,BooleanKeyframeTrack:qy,Box2:Htt,Box3:_a,Box3Helper:tet,BoxGeometry:Hy,BoxHelper:Jtt,BufferAttribute:$i,BufferGeometry:qn,BufferGeometryLoader:G7,ByteType:JN,Cache:cd,Camera:w2,CameraHelper:Qtt,CanvasTexture:f7,CapsuleGeometry:N2,CatmullRomCurve3:d7,CineonToneMapping:OH,CircleGeometry:L2,ClampToEdgeWrapping:Pu,Clock:DL,Color:Fe,ColorKeyframeTrack:RL,ColorManagement:mi,CompressedArrayTexture:TJ,CompressedCubeTexture:wJ,CompressedTexture:I2,CompressedTextureLoader:att,ConeGeometry:tE,ConstantAlphaFactor:TH,ConstantColorFactor:SH,Controls:set,CubeCamera:e7,CubeReflectionMapping:Sd,CubeRefractionMapping:fm,CubeTexture:ZS,CubeTextureLoader:ott,CubeUVReflectionMapping:$_,CubicBezierCurve:_L,CubicBezierCurve3:bL,CubicInterpolant:I7,CullFaceBack:MD,CullFaceFront:aH,CullFaceFrontBack:UZ,CullFaceNone:sH,Curve:Uc,CurvePath:m7,CustomBlending:lH,CustomToneMapping:IH,CylinderGeometry:jy,Cylindrical:Vtt,Data3DTexture:T2,DataArrayTexture:KS,DataTexture:qf,DataTextureLoader:ltt,DataUtils:ZQ,DecrementStencilOp:KZ,DecrementWrapStencilOp:QZ,DefaultLoadingManager:N7,DepthFormat:cy,DepthStencilFormat:wy,DepthTexture:yL,DetachedBindMode:NH,DirectionalLight:z7,DirectionalLightHelper:Ztt,DiscreteInterpolant:P7,DodecahedronGeometry:U2,DoubleSide:Uf,DstAlphaFactor:yH,DstColorFactor:_H,DynamicCopyUsage:dQ,DynamicDrawUsage:oQ,DynamicReadUsage:cQ,EdgesGeometry:g7,EllipseCurve:P2,EqualCompare:jH,EqualDepth:EM,EqualStencilFunc:nQ,EquirectangularReflectionMapping:Q1,EquirectangularRefractionMapping:J1,Euler:Xl,EventDispatcher:lh,ExtrudeGeometry:z2,FileLoader:wd,Float16BufferAttribute:rJ,Float32BufferAttribute:Xe,FloatType:sl,Fog:M2,FogExp2:A2,FramebufferTexture:EJ,FrontSide:xd,Frustum:QS,GLBufferAttribute:Ftt,GLSL1:mQ,GLSL3:PD,GreaterCompare:GH,GreaterDepth:wM,GreaterEqualCompare:$H,GreaterEqualDepth:TM,GreaterEqualStencilFunc:aQ,GreaterStencilFunc:rQ,GridHelper:Ytt,Group:ud,HalfFloatType:W_,HemisphereLight:L7,HemisphereLightHelper:Xtt,IcosahedronGeometry:B2,ImageBitmapLoader:mtt,ImageLoader:mS,ImageUtils:ZH,IncrementStencilOp:YZ,IncrementWrapStencilOp:ZZ,InstancedBufferAttribute:m_,InstancedBufferGeometry:j7,InstancedInterleavedBuffer:Btt,InstancedMesh:a7,Int16BufferAttribute:nJ,Int32BufferAttribute:iJ,Int8BufferAttribute:JQ,IntType:g2,InterleavedBuffer:C2,InterleavedBufferAttribute:Ay,Interpolant:iE,InterpolateDiscrete:nS,InterpolateLinear:JM,InterpolateSmooth:UA,InvertStencilOp:JZ,KeepStencilOp:zg,KeyframeTrack:kc,LOD:r7,LatheGeometry:JS,Layers:d_,LessCompare:HH,LessDepth:SM,LessEqualCompare:uL,LessEqualDepth:Ey,LessEqualStencilFunc:iQ,LessStencilFunc:eQ,Light:Am,LightProbe:H7,Line:Td,Line3:jtt,LineBasicMaterial:Qa,LineCurve:xL,LineCurve3:p7,LineDashedMaterial:C7,LineLoop:l7,LineSegments:uh,LinearFilter:zs,LinearInterpolant:CL,LinearMipMapLinearFilter:FZ,LinearMipMapNearestFilter:BZ,LinearMipmapLinearFilter:Bf,LinearMipmapNearestFilter:E1,LinearSRGBColorSpace:hm,LinearToneMapping:CH,LinearTransfer:rS,Loader:vl,LoaderUtils:kD,LoadingManager:OL,LoopOnce:LH,LoopPingPong:kH,LoopRepeat:UH,LuminanceAlphaFormat:sL,LuminanceFormat:rL,MOUSE:NZ,Material:Za,MaterialLoader:$2,MathUtils:XH,Matrix2:BL,Matrix3:Fn,Matrix4:gn,MaxEquation:hH,Mesh:es,MeshBasicMaterial:Tm,MeshDepthMaterial:wL,MeshDistanceMaterial:AL,MeshLambertMaterial:TL,MeshMatcapMaterial:M7,MeshNormalMaterial:A7,MeshPhongMaterial:T7,MeshPhysicalMaterial:E7,MeshStandardMaterial:q2,MeshToonMaterial:w7,MinEquation:fH,MirroredRepeatWrapping:eS,MixOperation:AH,MultiplyBlending:RD,MultiplyOperation:XS,NearestFilter:va,NearestMipMapLinearFilter:zZ,NearestMipMapNearestFilter:kZ,NearestMipmapLinearFilter:Gv,NearestMipmapNearestFilter:QN,NeutralToneMapping:DH,NeverCompare:VH,NeverDepth:bM,NeverStencilFunc:tQ,NoBlending:gd,NoColorSpace:ad,NoToneMapping:Gf,NormalAnimationBlendMode:S2,NormalBlending:uy,NotEqualCompare:qH,NotEqualDepth:AM,NotEqualStencilFunc:sQ,NumberKeyframeTrack:hS,Object3D:Ti,ObjectLoader:dtt,ObjectSpaceNormalMap:FH,OctahedronGeometry:eE,OneFactor:pH,OneMinusConstantAlphaFactor:wH,OneMinusConstantColorFactor:EH,OneMinusDstAlphaFactor:vH,OneMinusDstColorFactor:bH,OneMinusSrcAlphaFactor:_M,OneMinusSrcColorFactor:gH,OrthographicCamera:sE,PCFShadowMap:p2,PCFSoftShadowMap:S1,PMREMGenerator:FD,Path:lS,PerspectiveCamera:Qs,Plane:Vp,PlaneGeometry:Y_,PlaneHelper:eet,PointLight:k7,PointLightHelper:$tt,Points:u7,PointsMaterial:gL,PolarGridHelper:Ktt,PolyhedronGeometry:wm,PositionalAudio:xtt,PropertyBinding:Ei,PropertyMixer:W7,QuadraticBezierCurve:SL,QuadraticBezierCurve3:D2,Quaternion:Ao,QuaternionKeyframeTrack:rE,QuaternionLinearInterpolant:D7,RED_GREEN_RGTC2_Format:ZM,RED_RGTC1_Format:oL,REVISION:WS,RGBADepthPacking:BH,RGBAFormat:$a,RGBAIntegerFormat:x2,RGBA_ASTC_10x10_Format:qM,RGBA_ASTC_10x5_Format:HM,RGBA_ASTC_10x6_Format:jM,RGBA_ASTC_10x8_Format:GM,RGBA_ASTC_12x10_Format:$M,RGBA_ASTC_12x12_Format:WM,RGBA_ASTC_4x4_Format:NM,RGBA_ASTC_5x4_Format:LM,RGBA_ASTC_5x5_Format:UM,RGBA_ASTC_6x5_Format:kM,RGBA_ASTC_6x6_Format:zM,RGBA_ASTC_8x5_Format:BM,RGBA_ASTC_8x6_Format:FM,RGBA_ASTC_8x8_Format:VM,RGBA_BPTC_Format:C1,RGBA_ETC2_EAC_Format:DM,RGBA_PVRTC_2BPPV1_Format:OM,RGBA_PVRTC_4BPPV1_Format:RM,RGBA_S3TC_DXT1_Format:w1,RGBA_S3TC_DXT3_Format:A1,RGBA_S3TC_DXT5_Format:M1,RGBDepthPacking:qZ,RGBFormat:iL,RGBIntegerFormat:VZ,RGB_BPTC_SIGNED_Format:XM,RGB_BPTC_UNSIGNED_Format:YM,RGB_ETC1_Format:IM,RGB_ETC2_Format:PM,RGB_PVRTC_2BPPV1_Format:CM,RGB_PVRTC_4BPPV1_Format:MM,RGB_S3TC_DXT1_Format:T1,RGDepthPacking:$Z,RGFormat:aL,RGIntegerFormat:b2,RawShaderMaterial:S7,Ray:X_,Raycaster:kL,RectAreaLight:F7,RedFormat:_2,RedIntegerFormat:YS,ReinhardToneMapping:RH,RenderTarget:E2,RenderTarget3D:Ltt,RenderTargetArray:Utt,RepeatWrapping:tS,ReplaceStencilOp:XZ,ReverseSubtractEquation:cH,RingGeometry:F2,SIGNED_RED_GREEN_RGTC2_Format:QM,SIGNED_RED_RGTC1_Format:KM,SRGBColorSpace:ma,SRGBTransfer:qi,Scene:dL,ShaderChunk:Yn,ShaderLib:xc,ShaderMaterial:ku,ShadowMaterial:x7,Shape:hy,ShapeGeometry:V2,ShapePath:ret,ShapeUtils:$f,ShortType:tL,Skeleton:O2,SkeletonHelper:qtt,SkinnedMesh:s7,Source:Kp,Sphere:ba,SphereGeometry:Gy,Spherical:zL,SphericalHarmonics3:V7,SplineCurve:EL,SpotLight:U7,SpotLightHelper:Gtt,Sprite:pL,SpriteMaterial:R2,SrcAlphaFactor:vM,SrcAlphaSaturateFactor:xH,SrcColorFactor:mH,StaticCopyUsage:hQ,StaticDrawUsage:sS,StaticReadUsage:uQ,StereoCamera:ytt,StreamCopyUsage:pQ,StreamDrawUsage:lQ,StreamReadUsage:fQ,StringKeyframeTrack:$y,SubtractEquation:uH,SubtractiveBlending:CD,TOUCH:LZ,TangentSpaceNormalMap:Em,TetrahedronGeometry:H2,Texture:is,TextureLoader:utt,TextureUtils:fet,TimestampQuery:gQ,TorusGeometry:j2,TorusKnotGeometry:G2,Triangle:rl,TriangleFanDrawMode:GZ,TriangleStripDrawMode:jZ,TrianglesDrawMode:HZ,TubeGeometry:nE,UVMapping:m2,Uint16BufferAttribute:fL,Uint32BufferAttribute:hL,Uint8BufferAttribute:tJ,Uint8ClampedBufferAttribute:eJ,Uniform:UL,UniformsGroup:ztt,UniformsLib:Ue,UniformsUtils:t7,UnsignedByteType:Ic,UnsignedInt248Type:Ty,UnsignedInt5999Type:eL,UnsignedIntType:Ed,UnsignedShort4444Type:y2,UnsignedShort5551Type:v2,UnsignedShortType:f_,VSMShadowMap:_c,Vector2:pe,Vector3:pt,Vector4:xi,VectorKeyframeTrack:dS,VideoFrameTexture:SJ,VideoTexture:c7,WebGL3DRenderTarget:VQ,WebGLArrayRenderTarget:FQ,WebGLCoordinateSystem:Ac,WebGLCubeRenderTarget:n7,WebGLRenderTarget:eh,WebGLRenderer:nj,WebGLUtils:ej,WebGPUCoordinateSystem:aS,WebXRController:kA,WireframeGeometry:b7,WrapAroundEnding:iS,ZeroCurvatureEnding:Kg,ZeroFactor:dH,ZeroSlopeEnding:Zg,ZeroStencilOp:WZ,createCanvasElement:KH},Symbol.toStringTag,{value:"Module"}));var NI={exports:{}},$h={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V5;function Xst(){return V5||(V5=1,$h.ConcurrentRoot=1,$h.ContinuousEventPriority=8,$h.DefaultEventPriority=32,$h.DiscreteEventPriority=2,$h.IdleEventPriority=268435456,$h.LegacyRoot=0,$h.NoEventPriority=0),$h}var H5;function Yst(){return H5||(H5=1,NI.exports=Xst()),NI.exports}var BA=Yst(),LI={exports:{}},UI={},kI={exports:{}},zI={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j5;function Kst(){if(j5)return zI;j5=1;var i=q_();function e(p,y){return p===y&&(p!==0||1/p===1/y)||p!==p&&y!==y}var n=typeof Object.is=="function"?Object.is:e,r=i.useState,s=i.useEffect,a=i.useLayoutEffect,o=i.useDebugValue;function l(p,y){var _=y(),x=r({inst:{value:_,getSnapshot:y}}),S=x[0].inst,E=x[1];return a(function(){S.value=_,S.getSnapshot=y,u(S)&&E({inst:S})},[p,_,y]),s(function(){return u(S)&&E({inst:S}),p(function(){u(S)&&E({inst:S})})},[p]),o(_),_}function u(p){var y=p.getSnapshot;p=p.value;try{var _=y();return!n(p,_)}catch{return!0}}function f(p,y){return y()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:l;return zI.useSyncExternalStore=i.useSyncExternalStore!==void 0?i.useSyncExternalStore:h,zI}var G5;function Zst(){return G5||(G5=1,kI.exports=Kst()),kI.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q5;function Qst(){if(q5)return UI;q5=1;var i=q_(),e=Zst();function n(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var r=typeof Object.is=="function"?Object.is:n,s=e.useSyncExternalStore,a=i.useRef,o=i.useEffect,l=i.useMemo,u=i.useDebugValue;return UI.useSyncExternalStoreWithSelector=function(f,h,p,y,_){var x=a(null);if(x.current===null){var S={hasValue:!1,value:null};x.current=S}else S=x.current;x=l(function(){function b(k){if(!A){if(A=!0,C=k,k=y(k),_!==void 0&&S.hasValue){var N=S.value;if(_(N,k))return M=N}return M=k}if(N=M,r(C,k))return N;var L=y(k);return _!==void 0&&_(N,L)?(C=k,N):(C=k,M=L)}var A=!1,C,M,I=p===void 0?null:p;return[function(){return b(h())},I===null?void 0:function(){return b(I())}]},[h,p,y,_]);var E=s(f,x[0],x[1]);return o(function(){S.hasValue=!0,S.value=E},[E]),u(E),E},UI}var $5;function Jst(){return $5||($5=1,LI.exports=Qst()),LI.exports}var tat=Jst();const eat=oh(tat),W5=i=>{let e;const n=new Set,r=(f,h)=>{const p=typeof f=="function"?f(e):f;if(!Object.is(p,e)){const y=e;e=h??(typeof p!="object"||p===null)?p:Object.assign({},e,p),n.forEach(_=>_(e,y))}},s=()=>e,l={setState:r,getState:s,getInitialState:()=>u,subscribe:f=>(n.add(f),()=>n.delete(f))},u=e=i(r,s,l);return l},ij=i=>i?W5(i):W5,{useSyncExternalStoreWithSelector:nat}=eat,iat=i=>i;function rat(i,e=iat,n){const r=nat(i.subscribe,i.getState,i.getInitialState,e,n);return hn.useDebugValue(r),r}const X5=(i,e)=>{const n=ij(i),r=(s,a=e)=>rat(n,s,a);return Object.assign(r,n),r},sat=(i,e)=>i?X5(i,e):X5;var BI={exports:{}},FI={exports:{}},VI={exports:{}},HI={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y5;function aat(){return Y5||(Y5=1,function(i){function e(q,W){var Z=q.length;q.push(W);t:for(;0<Z;){var nt=Z-1>>>1,Q=q[nt];if(0<s(Q,W))q[nt]=W,q[Z]=Q,Z=nt;else break t}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var W=q[0],Z=q.pop();if(Z!==W){q[0]=Z;t:for(var nt=0,Q=q.length,ht=Q>>>1;nt<ht;){var yt=2*(nt+1)-1,xt=q[yt],it=yt+1,dt=q[it];if(0>s(xt,Z))it<Q&&0>s(dt,xt)?(q[nt]=dt,q[it]=Z,nt=it):(q[nt]=xt,q[yt]=Z,nt=yt);else if(it<Q&&0>s(dt,Z))q[nt]=dt,q[it]=Z,nt=it;else break t}}return W}function s(q,W){var Z=q.sortIndex-W.sortIndex;return Z!==0?Z:q.id-W.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;i.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();i.unstable_now=function(){return o.now()-l}}var u=[],f=[],h=1,p=null,y=3,_=!1,x=!1,S=!1,E=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function C(q){for(var W=n(f);W!==null;){if(W.callback===null)r(f);else if(W.startTime<=q)r(f),W.sortIndex=W.expirationTime,e(u,W);else break;W=n(f)}}function M(q){if(S=!1,C(q),!x)if(n(u)!==null)x=!0,X();else{var W=n(f);W!==null&&et(M,W.startTime-q)}}var I=!1,k=-1,N=5,L=-1;function U(){return!(i.unstable_now()-L<N)}function O(){if(I){var q=i.unstable_now();L=q;var W=!0;try{t:{x=!1,S&&(S=!1,b(k),k=-1),_=!0;var Z=y;try{e:{for(C(q),p=n(u);p!==null&&!(p.expirationTime>q&&U());){var nt=p.callback;if(typeof nt=="function"){p.callback=null,y=p.priorityLevel;var Q=nt(p.expirationTime<=q);if(q=i.unstable_now(),typeof Q=="function"){p.callback=Q,C(q),W=!0;break e}p===n(u)&&r(u),C(q)}else r(u);p=n(u)}if(p!==null)W=!0;else{var ht=n(f);ht!==null&&et(M,ht.startTime-q),W=!1}}break t}finally{p=null,y=Z,_=!1}W=void 0}}finally{W?B():I=!1}}}var B;if(typeof A=="function")B=function(){A(O)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,V=H.port2;H.port1.onmessage=O,B=function(){V.postMessage(null)}}else B=function(){E(O,0)};function X(){I||(I=!0,B())}function et(q,W){k=E(function(){q(i.unstable_now())},W)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(q){q.callback=null},i.unstable_continueExecution=function(){x||_||(x=!0,X())},i.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<q?Math.floor(1e3/q):5},i.unstable_getCurrentPriorityLevel=function(){return y},i.unstable_getFirstCallbackNode=function(){return n(u)},i.unstable_next=function(q){switch(y){case 1:case 2:case 3:var W=3;break;default:W=y}var Z=y;y=W;try{return q()}finally{y=Z}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(q,W){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var Z=y;y=q;try{return W()}finally{y=Z}},i.unstable_scheduleCallback=function(q,W,Z){var nt=i.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?nt+Z:nt):Z=nt,q){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=Z+Q,q={id:h++,callback:W,priorityLevel:q,startTime:Z,expirationTime:Q,sortIndex:-1},Z>nt?(q.sortIndex=Z,e(f,q),n(u)===null&&q===n(f)&&(S?(b(k),k=-1):S=!0,et(M,Z-nt))):(q.sortIndex=Q,e(u,q),x||_||(x=!0,X())),q},i.unstable_shouldYield=U,i.unstable_wrapCallback=function(q){var W=y;return function(){var Z=y;y=W;try{return q.apply(this,arguments)}finally{y=Z}}}}(HI)),HI}var K5;function rj(){return K5||(K5=1,VI.exports=aat()),VI.exports}/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z5;function oat(){return Z5||(Z5=1,function(i){i.exports=function(e){function n(m,g,w,D){return new Cb(m,g,w,D)}function r(){}function s(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)g+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(m){return m===null||typeof m!="object"?null:(m=nc&&m[nc]||m["@@iterator"],typeof m=="function"?m:null)}function o(m){if(m==null)return null;if(typeof m=="function")return m.$$typeof===Pb?null:m.displayName||m.name||null;if(typeof m=="string")return m;switch(m){case sf:return"Fragment";case Vo:return"Portal";case _0:return"Profiler";case Jm:return"StrictMode";case b0:return"Suspense";case ep:return"SuspenseList"}if(typeof m=="object")switch(m.$$typeof){case Al:return(m.displayName||"Context")+".Provider";case Ob:return(m._context.displayName||"Context")+".Consumer";case eg:var g=m.render;return m=m.displayName,m||(m=g.displayName||g.name||"",m=m!==""?"ForwardRef("+m+")":"ForwardRef"),m;case x0:return g=m.displayName||null,g!==null?g:o(m.type)||"Memo";case Ho:g=m._payload,m=m._init;try{return o(m(g))}catch{}}return null}function l(m){if(ou===void 0)try{throw Error()}catch(w){var g=w.stack.trim().match(/\n( *(at )?)/);ou=g&&g[1]||"",ic=-1<w.stack.indexOf(`
    at`)?" (<anonymous>)":-1<w.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ou+m+ic}function u(m,g){if(!m||xh)return"";xh=!0;var w=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var D={DetermineComponentFrameRoot:function(){try{if(g){var Le=function(){throw Error()};if(Object.defineProperty(Le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Le,[])}catch(In){var Be=In}Reflect.construct(m,[],Le)}else{try{Le.call()}catch(In){Be=In}m.call(Le.prototype)}}else{try{throw Error()}catch(In){Be=In}(Le=m())&&typeof Le.catch=="function"&&Le.catch(function(){})}}catch(In){if(In&&Be&&typeof In.stack=="string")return[In.stack,Be.stack]}return[null,null]}};D.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var F=Object.getOwnPropertyDescriptor(D.DetermineComponentFrameRoot,"name");F&&F.configurable&&Object.defineProperty(D.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var $=D.DetermineComponentFrameRoot(),ot=$[0],bt=$[1];if(ot&&bt){var Nt=ot.split(`
`),ae=bt.split(`
`);for(F=D=0;D<Nt.length&&!Nt[D].includes("DetermineComponentFrameRoot");)D++;for(;F<ae.length&&!ae[F].includes("DetermineComponentFrameRoot");)F++;if(D===Nt.length||F===ae.length)for(D=Nt.length-1,F=ae.length-1;1<=D&&0<=F&&Nt[D]!==ae[F];)F--;for(;1<=D&&0<=F;D--,F--)if(Nt[D]!==ae[F]){if(D!==1||F!==1)do if(D--,F--,0>F||Nt[D]!==ae[F]){var be=`
`+Nt[D].replace(" at new "," at ");return m.displayName&&be.includes("<anonymous>")&&(be=be.replace("<anonymous>",m.displayName)),be}while(1<=D&&0<=F);break}}}finally{xh=!1,Error.prepareStackTrace=w}return(w=m?m.displayName||m.name:"")?l(w):""}function f(m){switch(m.tag){case 26:case 27:case 5:return l(m.type);case 16:return l("Lazy");case 13:return l("Suspense");case 19:return l("SuspenseList");case 0:case 15:return m=u(m.type,!1),m;case 11:return m=u(m.type.render,!1),m;case 1:return m=u(m.type,!0),m;default:return""}}function h(m){try{var g="";do g+=f(m),m=m.return;while(m);return g}catch(w){return`
Error generating stack: `+w.message+`
`+w.stack}}function p(m){var g=m,w=m;if(m.alternate)for(;g.return;)g=g.return;else{m=g;do g=m,(g.flags&4098)!==0&&(w=g.return),m=g.return;while(m)}return g.tag===3?w:null}function y(m){if(p(m)!==m)throw Error(s(188))}function _(m){var g=m.alternate;if(!g){if(g=p(m),g===null)throw Error(s(188));return g!==m?null:m}for(var w=m,D=g;;){var F=w.return;if(F===null)break;var $=F.alternate;if($===null){if(D=F.return,D!==null){w=D;continue}break}if(F.child===$.child){for($=F.child;$;){if($===w)return y(F),m;if($===D)return y(F),g;$=$.sibling}throw Error(s(188))}if(w.return!==D.return)w=F,D=$;else{for(var ot=!1,bt=F.child;bt;){if(bt===w){ot=!0,w=F,D=$;break}if(bt===D){ot=!0,D=F,w=$;break}bt=bt.sibling}if(!ot){for(bt=$.child;bt;){if(bt===w){ot=!0,w=$,D=F;break}if(bt===D){ot=!0,D=$,w=F;break}bt=bt.sibling}if(!ot)throw Error(s(189))}}if(w.alternate!==D)throw Error(s(190))}if(w.tag!==3)throw Error(s(188));return w.stateNode.current===w?m:g}function x(m){var g=m.tag;if(g===5||g===26||g===27||g===6)return m;for(m=m.child;m!==null;){if(g=x(m),g!==null)return g;m=m.sibling}return null}function S(m){var g=m.tag;if(g===5||g===26||g===27||g===6)return m;for(m=m.child;m!==null;){if(m.tag!==4&&(g=S(m),g!==null))return g;m=m.sibling}return null}function E(m){return{current:m}}function b(m){0>oc||(m.current=Nr[oc],Nr[oc]=null,oc--)}function A(m,g){oc++,Nr[oc]=m.current,m.current=g}function C(m){return m>>>=0,m===0?32:31-(ST(m)/ET|0)|0}function M(m){var g=m&42;if(g!==0)return g;switch(m&-m){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return m&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return m}}function I(m,g){var w=m.pendingLanes;if(w===0)return 0;var D=0,F=m.suspendedLanes,$=m.pingedLanes,ot=m.warmLanes;m=m.finishedLanes!==0;var bt=w&134217727;return bt!==0?(w=bt&~F,w!==0?D=M(w):($&=bt,$!==0?D=M($):m||(ot=bt&~ot,ot!==0&&(D=M(ot))))):(bt=w&~F,bt!==0?D=M(bt):$!==0?D=M($):m||(ot=w&~ot,ot!==0&&(D=M(ot)))),D===0?0:g!==0&&g!==D&&(g&F)===0&&(F=D&-D,ot=g&-g,F>=ot||F===32&&(ot&4194176)!==0)?g:D}function k(m,g){return(m.pendingLanes&~(m.suspendedLanes&~m.pingedLanes)&g)===0}function N(m,g){switch(m){case 1:case 2:case 4:case 8:return g+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function L(){var m=uu;return uu<<=1,(uu&4194176)===0&&(uu=128),m}function U(){var m=Th;return Th<<=1,(Th&62914560)===0&&(Th=4194304),m}function O(m){for(var g=[],w=0;31>w;w++)g.push(m);return g}function B(m,g){m.pendingLanes|=g,g!==268435456&&(m.suspendedLanes=0,m.pingedLanes=0,m.warmLanes=0)}function H(m,g,w,D,F,$){var ot=m.pendingLanes;m.pendingLanes=w,m.suspendedLanes=0,m.pingedLanes=0,m.warmLanes=0,m.expiredLanes&=w,m.entangledLanes&=w,m.errorRecoveryDisabledLanes&=w,m.shellSuspendCounter=0;var bt=m.entanglements,Nt=m.expirationTimes,ae=m.hiddenUpdates;for(w=ot&~w;0<w;){var be=31-ua(w),Le=1<<be;bt[be]=0,Nt[be]=-1;var Be=ae[be];if(Be!==null)for(ae[be]=null,be=0;be<Be.length;be++){var In=Be[be];In!==null&&(In.lane&=-536870913)}w&=~Le}D!==0&&V(m,D,0),$!==0&&F===0&&m.tag!==0&&(m.suspendedLanes|=$&~(ot&~g))}function V(m,g,w){m.pendingLanes|=g,m.suspendedLanes&=~g;var D=31-ua(g);m.entangledLanes|=g,m.entanglements[D]=m.entanglements[D]|1073741824|w&4194218}function X(m,g){var w=m.entangledLanes|=g;for(m=m.entanglements;w;){var D=31-ua(w),F=1<<D;F&g|m[D]&g&&(m[D]|=g),w&=~F}}function et(m){return m&=-m,2<m?8<m?(m&134217727)!==0?32:268435456:8:2}function q(m){if(Pa&&typeof Pa.onCommitFiberRoot=="function")try{Pa.onCommitFiberRoot(Lr,m,void 0,(m.current.flags&128)===128)}catch{}}function W(m){if(typeof AT=="function"&&xs(m),Pa&&typeof Pa.setStrictMode=="function")try{Pa.setStrictMode(Lr,m)}catch{}}function Z(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}function nt(m,g){if(typeof m=="object"&&m!==null){var w=Zb.get(m);return w!==void 0?w:(g={value:m,source:g,stack:h(g)},Zb.set(m,g),g)}return{value:m,source:g,stack:h(g)}}function Q(m,g){wh[Ah++]=cp,wh[Ah++]=Mh,Mh=m,cp=g}function ht(m,g,w){ao[oo++]=Rl,ao[oo++]=Ol,ao[oo++]=hf,hf=m;var D=Rl;m=Ol;var F=32-ua(D)-1;D&=~(1<<F),w+=1;var $=32-ua(g)+F;if(30<$){var ot=F-F%5;$=(D&(1<<ot)-1).toString(32),D>>=ot,F-=ot,Rl=1<<32-ua(g)+F|w<<F|D,Ol=$+m}else Rl=1<<$|w<<F|D,Ol=m}function yt(m){m.return!==null&&(Q(m,1),ht(m,1,0))}function xt(m){for(;m===Mh;)Mh=wh[--Ah],wh[Ah]=null,cp=wh[--Ah],wh[Ah]=null;for(;m===hf;)hf=ao[--oo],ao[oo]=null,Ol=ao[--oo],ao[oo]=null,Rl=ao[--oo],ao[oo]=null}function it(m,g){A(cu,g),A(fp,m),A(as,null),m=VE(g),b(as),A(as,m)}function dt(){b(as),b(fp),b(cu)}function ft(m){m.memoizedState!==null&&A(Ch,m);var g=as.current,w=sp(g,m.type);g!==w&&(A(fp,m),A(as,w))}function gt(m){fp.current===m&&(b(as),b(fp)),Ch.current===m&&(b(Ch),oa?Ml._currentValue=of:Ml._currentValue2=of)}function wt(m){var g=Error(s(418,""));throw Vt(nt(g,m)),cg}function Kt(m,g){if(!Ns)throw Error(s(175));hT(m.stateNode,m.type,m.memoizedProps,g,m)||wt(m)}function kt(m){for(Ls=m.return;Ls;)switch(Ls.tag){case 3:case 27:Ss=!0;return;case 5:case 13:Ss=!1;return;default:Ls=Ls.return}}function ee(m){if(!Ns||m!==Ls)return!1;if(!li)return kt(m),li=!0,!1;var g=!1;if(Vi?m.tag!==3&&m.tag!==27&&(m.tag!==5||O0(m.type)&&!Nn(m.type,m.memoizedProps))&&(g=!0):m.tag!==3&&(m.tag!==5||O0(m.type)&&!Nn(m.type,m.memoizedProps))&&(g=!0),g&&Us&&wt(m),kt(m),m.tag===13){if(!Ns)throw Error(s(316));if(m=m.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(s(317));Us=pT(m)}else Us=Ls?Wb(m.stateNode):null;return!0}function Pt(){Ns&&(Us=Ls=null,li=!1)}function Vt(m){qo===null?qo=[m]:qo.push(m)}function at(){for(var m=Rh,g=Il=Rh=0;g<m;){var w=$o[g];$o[g++]=null;var D=$o[g];$o[g++]=null;var F=$o[g];$o[g++]=null;var $=$o[g];if($o[g++]=null,D!==null&&F!==null){var ot=D.pending;ot===null?F.next=F:(F.next=ot.next,ot.next=F),D.pending=F}$!==0&&ie(w,F,$)}}function ce(m,g,w,D){$o[Rh++]=m,$o[Rh++]=g,$o[Rh++]=w,$o[Rh++]=D,Il|=D,m.lanes|=D,m=m.alternate,m!==null&&(m.lanes|=D)}function te(m,g,w,D){return ce(m,g,w,D),Me(m)}function ne(m,g){return ce(m,null,null,g),Me(m)}function ie(m,g,w){m.lanes|=w;var D=m.alternate;D!==null&&(D.lanes|=w);for(var F=!1,$=m.return;$!==null;)$.childLanes|=w,D=$.alternate,D!==null&&(D.childLanes|=w),$.tag===22&&(m=$.stateNode,m===null||m._visibility&1||(F=!0)),m=$,$=$.return;F&&g!==null&&m.tag===3&&($=m.stateNode,F=31-ua(w),$=$.hiddenUpdates,m=$[F],m===null?$[F]=[g]:m.push(g),g.lane=w|536870912)}function Me(m){if(50<bp)throw bp=0,q0=null,Error(s(185));for(var g=m.return;g!==null;)m=g,g=m.return;return m.tag===3?m.stateNode:null}function le(m){m!==lc&&m.next===null&&(lc===null?fg=lc=m:lc=lc.next=m),Wi=!0,Oh||(Oh=!0,_t(j))}function lt(m,g){if(!Qb&&Wi){Qb=!0;do for(var w=!1,D=fg;D!==null;){if(m!==0){var F=D.pendingLanes;if(F===0)var $=0;else{var ot=D.suspendedLanes,bt=D.pingedLanes;$=(1<<31-ua(42|m)+1)-1,$&=F&~(ot&~bt),$=$&201326677?$&201326677|1:$?$|2:0}$!==0&&(w=!0,Rt(D,$))}else $=ri,$=I(D,D===Mi?$:0),($&3)===0||k(D,$)||(w=!0,Rt(D,$));D=D.next}while(w);Qb=!1}}function j(){Wi=Oh=!1;var m=0;hp!==0&&(qE()&&(m=hp),hp=0);for(var g=Go(),w=null,D=fg;D!==null;){var F=D.next,$=ut(D,g);$===0?(D.next=null,w===null?fg=F:w.next=F,F===null&&(lc=w)):(w=D,(m!==0||($&3)!==0)&&(Wi=!0)),D=F}lt(m)}function ut(m,g){for(var w=m.suspendedLanes,D=m.pingedLanes,F=m.expirationTimes,$=m.pendingLanes&-62914561;0<$;){var ot=31-ua($),bt=1<<ot,Nt=F[ot];Nt===-1?((bt&w)===0||(bt&D)!==0)&&(F[ot]=N(bt,g)):Nt<=g&&(m.expiredLanes|=bt),$&=~bt}if(g=Mi,w=ri,w=I(m,m===g?w:0),D=m.callbackNode,w===0||m===g&&Li===2||m.cancelPendingCommit!==null)return D!==null&&D!==null&&N0(D),m.callbackNode=null,m.callbackPriority=0;if((w&3)===0||k(m,w)){if(g=w&-w,g===m.callbackPriority)return g;switch(D!==null&&N0(D),et(w)){case 2:case 8:w=wT;break;case 32:w=k0;break;case 268435456:w=gO;break;default:w=k0}return D=mt.bind(null,m),w=ug(w,D),m.callbackPriority=g,m.callbackNode=w,g}return D!==null&&D!==null&&N0(D),m.callbackPriority=2,m.callbackNode=null,2}function mt(m,g){var w=m.callbackNode;if(wl()&&m.callbackNode!==w)return null;var D=ri;return D=I(m,m===Mi?D:0),D===0?null:(Jc(m,D,g),ut(m,Go()),m.callbackNode!=null&&m.callbackNode===w?mt.bind(null,m):null)}function Rt(m,g){if(wl())return null;Jc(m,g,!0)}function _t(m){kb?ac(function(){(pi&6)!==0?ug(U0,m):m()}):ug(U0,m)}function Ct(){return hp===0&&(hp=L()),hp}function Lt(m,g){if(dp===null){var w=dp=[];Ih=0,lo=Ct(),Ph={status:"pending",value:void 0,then:function(D){w.push(D)}}}return Ih++,g.then(Qt,Qt),g}function Qt(){if(--Ih===0&&dp!==null){Ph!==null&&(Ph.status="fulfilled");var m=dp;dp=null,lo=0,Ph=null;for(var g=0;g<m.length;g++)(0,m[g])()}}function De(m,g){var w=[],D={status:"pending",value:null,reason:null,then:function(F){w.push(F)}};return m.then(function(){D.status="fulfilled",D.value=g;for(var F=0;F<w.length;F++)(0,w[F])(g)},function(F){for(D.status="rejected",D.reason=F,F=0;F<w.length;F++)(0,w[F])(void 0)}),D}function Ht(m){m.updateQueue={baseState:m.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _e(m,g){m=m.updateQueue,g.updateQueue===m&&(g.updateQueue={baseState:m.baseState,firstBaseUpdate:m.firstBaseUpdate,lastBaseUpdate:m.lastBaseUpdate,shared:m.shared,callbacks:null})}function Re(m){return{lane:m,tag:0,payload:null,callback:null,next:null}}function Oe(m,g,w){var D=m.updateQueue;if(D===null)return null;if(D=D.shared,(pi&2)!==0){var F=D.pending;return F===null?g.next=g:(g.next=F.next,F.next=g),D.pending=g,g=Me(m),ie(m,null,w),g}return ce(m,D,g,w),Me(m)}function Zt(m,g,w){if(g=g.updateQueue,g!==null&&(g=g.shared,(w&4194176)!==0)){var D=g.lanes;D&=m.pendingLanes,w|=D,g.lanes=w,X(m,w)}}function Pe(m,g){var w=m.updateQueue,D=m.alternate;if(D!==null&&(D=D.updateQueue,w===D)){var F=null,$=null;if(w=w.firstBaseUpdate,w!==null){do{var ot={lane:w.lane,tag:w.tag,payload:w.payload,callback:null,next:null};$===null?F=$=ot:$=$.next=ot,w=w.next}while(w!==null);$===null?F=$=g:$=$.next=g}else F=$=g;w={baseState:D.baseState,firstBaseUpdate:F,lastBaseUpdate:$,shared:D.shared,callbacks:D.callbacks},m.updateQueue=w;return}m=w.lastBaseUpdate,m===null?w.firstBaseUpdate=g:m.next=g,w.lastBaseUpdate=g}function Ne(){if(Dh){var m=Ph;if(m!==null)throw m}}function sn(m,g,w,D){Dh=!1;var F=m.updateQueue;uc=!1;var $=F.firstBaseUpdate,ot=F.lastBaseUpdate,bt=F.shared.pending;if(bt!==null){F.shared.pending=null;var Nt=bt,ae=Nt.next;Nt.next=null,ot===null?$=ae:ot.next=ae,ot=Nt;var be=m.alternate;be!==null&&(be=be.updateQueue,bt=be.lastBaseUpdate,bt!==ot&&(bt===null?be.firstBaseUpdate=ae:bt.next=ae,be.lastBaseUpdate=Nt))}if($!==null){var Le=F.baseState;ot=0,be=ae=Nt=null,bt=$;do{var Be=bt.lane&-536870913,In=Be!==bt.lane;if(In?(ri&Be)===Be:(D&Be)===Be){Be!==0&&Be===lo&&(Dh=!0),be!==null&&(be=be.next={lane:0,tag:bt.tag,payload:bt.payload,callback:null,next:null});t:{var yo=m,xf=bt;Be=g;var Sf=w;switch(xf.tag){case 1:if(yo=xf.payload,typeof yo=="function"){Le=yo.call(Sf,Le,Be);break t}Le=yo;break t;case 3:yo.flags=yo.flags&-65537|128;case 0:if(yo=xf.payload,Be=typeof yo=="function"?yo.call(Sf,Le,Be):yo,Be==null)break t;Le=v0({},Le,Be);break t;case 2:uc=!0}}Be=bt.callback,Be!==null&&(m.flags|=64,In&&(m.flags|=8192),In=F.callbacks,In===null?F.callbacks=[Be]:In.push(Be))}else In={lane:Be,tag:bt.tag,payload:bt.payload,callback:bt.callback,next:null},be===null?(ae=be=In,Nt=Le):be=be.next=In,ot|=Be;if(bt=bt.next,bt===null){if(bt=F.shared.pending,bt===null)break;In=bt,bt=In.next,In.next=null,F.lastBaseUpdate=In,F.shared.pending=null}}while(!0);be===null&&(Nt=Le),F.baseState=Nt,F.firstBaseUpdate=ae,F.lastBaseUpdate=be,$===null&&(F.shared.lanes=0),mo|=ot,m.lanes=ot,m.memoizedState=Le}}function Tt(m,g){if(typeof m!="function")throw Error(s(191,m));m.call(g)}function Ce(m,g){var w=m.callbacks;if(w!==null)for(m.callbacks=null,m=0;m<w.length;m++)Tt(w[m],g)}function Xt(m,g){if(Da(m,g))return!0;if(typeof m!="object"||m===null||typeof g!="object"||g===null)return!1;var w=Object.keys(m),D=Object.keys(g);if(w.length!==D.length)return!1;for(D=0;D<w.length;D++){var F=w[D];if(!fu.call(g,F)||!Da(m[F],g[F]))return!1}return!0}function se(m){return m=m.status,m==="fulfilled"||m==="rejected"}function Ie(){}function Se(m,g,w){switch(w=m[w],w===void 0?m.push(g):w!==g&&(g.then(Ie,Ie),g=w),g.status){case"fulfilled":return g.value;case"rejected":throw m=g.reason,m===pp?Error(s(483)):m;default:if(typeof g.status=="string")g.then(Ie,Ie);else{if(m=Mi,m!==null&&100<m.shellSuspendCounter)throw Error(s(482));m=g,m.status="pending",m.then(function(D){if(g.status==="pending"){var F=g;F.status="fulfilled",F.value=D}},function(D){if(g.status==="pending"){var F=g;F.status="rejected",F.reason=D}})}switch(g.status){case"fulfilled":return g.value;case"rejected":throw m=g.reason,m===pp?Error(s(483)):m}throw df=g,pp}}function on(){if(df===null)throw Error(s(459));var m=df;return df=null,m}function Kn(m){var g=mf;return mf+=1,pf===null&&(pf=[]),Se(pf,m,g)}function Ve(m,g){g=g.props.ref,m.ref=g!==void 0?g:null}function tn(m,g){throw g.$$typeof===uO?Error(s(525)):(m=Object.prototype.toString.call(g),Error(s(31,m==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":m)))}function Ee(m){var g=m._init;return g(m._payload)}function ye(m){function g(Ft,Et){if(m){var Wt=Ft.deletions;Wt===null?(Ft.deletions=[Et],Ft.flags|=16):Wt.push(Et)}}function w(Ft,Et){if(!m)return null;for(;Et!==null;)g(Ft,Et),Et=Et.sibling;return null}function D(Ft){for(var Et=new Map;Ft!==null;)Ft.key!==null?Et.set(Ft.key,Ft):Et.set(Ft.index,Ft),Ft=Ft.sibling;return Et}function F(Ft,Et){return Ft=Fo(Ft,Et),Ft.index=0,Ft.sibling=null,Ft}function $(Ft,Et,Wt){return Ft.index=Wt,m?(Wt=Ft.alternate,Wt!==null?(Wt=Wt.index,Wt<Et?(Ft.flags|=33554434,Et):Wt):(Ft.flags|=33554434,Et)):(Ft.flags|=1048576,Et)}function ot(Ft){return m&&Ft.alternate===null&&(Ft.flags|=33554434),Ft}function bt(Ft,Et,Wt,ve){return Et===null||Et.tag!==6?(Et=g0(Wt,Ft.mode,ve),Et.return=Ft,Et):(Et=F(Et,Wt),Et.return=Ft,Et)}function Nt(Ft,Et,Wt,ve){var Je=Wt.type;return Je===sf?be(Ft,Et,Wt.props.children,ve,Wt.key):Et!==null&&(Et.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===Ho&&Ee(Je)===Et.type)?(Et=F(Et,Wt.props),Ve(Et,Wt),Et.return=Ft,Et):(Et=au(Wt.type,Wt.key,Wt.props,null,Ft.mode,ve),Ve(Et,Wt),Et.return=Ft,Et)}function ae(Ft,Et,Wt,ve){return Et===null||Et.tag!==4||Et.stateNode.containerInfo!==Wt.containerInfo||Et.stateNode.implementation!==Wt.implementation?(Et=Rb(Wt,Ft.mode,ve),Et.return=Ft,Et):(Et=F(Et,Wt.children||[]),Et.return=Ft,Et)}function be(Ft,Et,Wt,ve,Je){return Et===null||Et.tag!==7?(Et=br(Wt,Ft.mode,ve,Je),Et.return=Ft,Et):(Et=F(Et,Wt),Et.return=Ft,Et)}function Le(Ft,Et,Wt){if(typeof Et=="string"&&Et!==""||typeof Et=="number"||typeof Et=="bigint")return Et=g0(""+Et,Ft.mode,Wt),Et.return=Ft,Et;if(typeof Et=="object"&&Et!==null){switch(Et.$$typeof){case Qm:return Wt=au(Et.type,Et.key,Et.props,null,Ft.mode,Wt),Ve(Wt,Et),Wt.return=Ft,Wt;case Vo:return Et=Rb(Et,Ft.mode,Wt),Et.return=Ft,Et;case Ho:var ve=Et._init;return Et=ve(Et._payload),Le(Ft,Et,Wt)}if(np(Et)||a(Et))return Et=br(Et,Ft.mode,Wt,null),Et.return=Ft,Et;if(typeof Et.then=="function")return Le(Ft,Kn(Et),Wt);if(Et.$$typeof===Al)return Le(Ft,Yt(Ft,Et),Wt);tn(Ft,Et)}return null}function Be(Ft,Et,Wt,ve){var Je=Et!==null?Et.key:null;if(typeof Wt=="string"&&Wt!==""||typeof Wt=="number"||typeof Wt=="bigint")return Je!==null?null:bt(Ft,Et,""+Wt,ve);if(typeof Wt=="object"&&Wt!==null){switch(Wt.$$typeof){case Qm:return Wt.key===Je?Nt(Ft,Et,Wt,ve):null;case Vo:return Wt.key===Je?ae(Ft,Et,Wt,ve):null;case Ho:return Je=Wt._init,Wt=Je(Wt._payload),Be(Ft,Et,Wt,ve)}if(np(Wt)||a(Wt))return Je!==null?null:be(Ft,Et,Wt,ve,null);if(typeof Wt.then=="function")return Be(Ft,Et,Kn(Wt),ve);if(Wt.$$typeof===Al)return Be(Ft,Et,Yt(Ft,Wt),ve);tn(Ft,Wt)}return null}function In(Ft,Et,Wt,ve,Je){if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return Ft=Ft.get(Wt)||null,bt(Et,Ft,""+ve,Je);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case Qm:return Ft=Ft.get(ve.key===null?Wt:ve.key)||null,Nt(Et,Ft,ve,Je);case Vo:return Ft=Ft.get(ve.key===null?Wt:ve.key)||null,ae(Et,Ft,ve,Je);case Ho:var er=ve._init;return ve=er(ve._payload),In(Ft,Et,Wt,ve,Je)}if(np(ve)||a(ve))return Ft=Ft.get(Wt)||null,be(Et,Ft,ve,Je,null);if(typeof ve.then=="function")return In(Ft,Et,Wt,Kn(ve),Je);if(ve.$$typeof===Al)return In(Ft,Et,Wt,Yt(Et,ve),Je);tn(Et,ve)}return null}function yo(Ft,Et,Wt,ve){for(var Je=null,er=null,_n=Et,_i=Et=0,Ur=null;_n!==null&&_i<Wt.length;_i++){_n.index>_i?(Ur=_n,_n=null):Ur=_n.sibling;var ti=Be(Ft,_n,Wt[_i],ve);if(ti===null){_n===null&&(_n=Ur);break}m&&_n&&ti.alternate===null&&g(Ft,_n),Et=$(ti,Et,_i),er===null?Je=ti:er.sibling=ti,er=ti,_n=Ur}if(_i===Wt.length)return w(Ft,_n),li&&Q(Ft,_i),Je;if(_n===null){for(;_i<Wt.length;_i++)_n=Le(Ft,Wt[_i],ve),_n!==null&&(Et=$(_n,Et,_i),er===null?Je=_n:er.sibling=_n,er=_n);return li&&Q(Ft,_i),Je}for(_n=D(_n);_i<Wt.length;_i++)Ur=In(_n,Ft,_i,Wt[_i],ve),Ur!==null&&(m&&Ur.alternate!==null&&_n.delete(Ur.key===null?_i:Ur.key),Et=$(Ur,Et,_i),er===null?Je=Ur:er.sibling=Ur,er=Ur);return m&&_n.forEach(function(_u){return g(Ft,_u)}),li&&Q(Ft,_i),Je}function xf(Ft,Et,Wt,ve){if(Wt==null)throw Error(s(151));for(var Je=null,er=null,_n=Et,_i=Et=0,Ur=null,ti=Wt.next();_n!==null&&!ti.done;_i++,ti=Wt.next()){_n.index>_i?(Ur=_n,_n=null):Ur=_n.sibling;var _u=Be(Ft,_n,ti.value,ve);if(_u===null){_n===null&&(_n=Ur);break}m&&_n&&_u.alternate===null&&g(Ft,_n),Et=$(_u,Et,_i),er===null?Je=_u:er.sibling=_u,er=_u,_n=Ur}if(ti.done)return w(Ft,_n),li&&Q(Ft,_i),Je;if(_n===null){for(;!ti.done;_i++,ti=Wt.next())ti=Le(Ft,ti.value,ve),ti!==null&&(Et=$(ti,Et,_i),er===null?Je=ti:er.sibling=ti,er=ti);return li&&Q(Ft,_i),Je}for(_n=D(_n);!ti.done;_i++,ti=Wt.next())ti=In(_n,Ft,_i,ti.value,ve),ti!==null&&(m&&ti.alternate!==null&&_n.delete(ti.key===null?_i:ti.key),Et=$(ti,Et,_i),er===null?Je=ti:er.sibling=ti,er=ti);return m&&_n.forEach(function($0){return g(Ft,$0)}),li&&Q(Ft,_i),Je}function Sf(Ft,Et,Wt,ve){if(typeof Wt=="object"&&Wt!==null&&Wt.type===sf&&Wt.key===null&&(Wt=Wt.props.children),typeof Wt=="object"&&Wt!==null){switch(Wt.$$typeof){case Qm:t:{for(var Je=Wt.key;Et!==null;){if(Et.key===Je){if(Je=Wt.type,Je===sf){if(Et.tag===7){w(Ft,Et.sibling),ve=F(Et,Wt.props.children),ve.return=Ft,Ft=ve;break t}}else if(Et.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===Ho&&Ee(Je)===Et.type){w(Ft,Et.sibling),ve=F(Et,Wt.props),Ve(ve,Wt),ve.return=Ft,Ft=ve;break t}w(Ft,Et);break}else g(Ft,Et);Et=Et.sibling}Wt.type===sf?(ve=br(Wt.props.children,Ft.mode,ve,Wt.key),ve.return=Ft,Ft=ve):(ve=au(Wt.type,Wt.key,Wt.props,null,Ft.mode,ve),Ve(ve,Wt),ve.return=Ft,Ft=ve)}return ot(Ft);case Vo:t:{for(Je=Wt.key;Et!==null;){if(Et.key===Je)if(Et.tag===4&&Et.stateNode.containerInfo===Wt.containerInfo&&Et.stateNode.implementation===Wt.implementation){w(Ft,Et.sibling),ve=F(Et,Wt.children||[]),ve.return=Ft,Ft=ve;break t}else{w(Ft,Et);break}else g(Ft,Et);Et=Et.sibling}ve=Rb(Wt,Ft.mode,ve),ve.return=Ft,Ft=ve}return ot(Ft);case Ho:return Je=Wt._init,Wt=Je(Wt._payload),Sf(Ft,Et,Wt,ve)}if(np(Wt))return yo(Ft,Et,Wt,ve);if(a(Wt)){if(Je=a(Wt),typeof Je!="function")throw Error(s(150));return Wt=Je.call(Wt),xf(Ft,Et,Wt,ve)}if(typeof Wt.then=="function")return Sf(Ft,Et,Kn(Wt),ve);if(Wt.$$typeof===Al)return Sf(Ft,Et,Yt(Ft,Wt),ve);tn(Ft,Wt)}return typeof Wt=="string"&&Wt!==""||typeof Wt=="number"||typeof Wt=="bigint"?(Wt=""+Wt,Et!==null&&Et.tag===6?(w(Ft,Et.sibling),ve=F(Et,Wt),ve.return=Ft,Ft=ve):(w(Ft,Et),ve=g0(Wt,Ft.mode,ve),ve.return=Ft,Ft=ve),ot(Ft)):w(Ft,Et)}return function(Ft,Et,Wt,ve){try{mf=0;var Je=Sf(Ft,Et,Wt,ve);return pf=null,Je}catch(_n){if(_n===pp)throw _n;var er=n(29,_n,null,Ft.mode);return er.lanes=ve,er.return=Ft,er}finally{}}}function Qe(m,g){m=Xs,A(mp,m),A(Xi,g),Xs=m|g.baseLanes}function Ye(){A(mp,Xs),A(Xi,Xi.current)}function Tn(){Xs=mp.current,b(Xi),b(mp)}function Fi(m){var g=m.alternate;A(os,os.current&1),A(uo,m),Hi===null&&(g===null||Xi.current!==null||g.memoizedState!==null)&&(Hi=m)}function na(m){if(m.tag===22){if(A(os,os.current),A(uo,m),Hi===null){var g=m.alternate;g!==null&&g.memoizedState!==null&&(Hi=m)}}else ar()}function ar(){A(os,os.current),A(uo,uo.current)}function Gr(m){b(uo),Hi===m&&(Hi=null),b(os)}function Os(m){for(var g=m;g!==null;){if(g.tag===13){var w=g.memoizedState;if(w!==null&&(w=w.dehydrated,w===null||M0(w)||C0(w)))return g}else if(g.tag===19&&g.memoizedProps.revealOrder!==void 0){if((g.flags&128)!==0)return g}else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===m)break;for(;g.sibling===null;){if(g.return===null||g.return===m)return null;g=g.return}g.sibling.return=g.return,g=g.sibling}return null}function fi(){throw Error(s(321))}function Ta(m,g){if(g===null)return!1;for(var w=0;w<g.length&&w<m.length;w++)if(!Da(m[w],g[w]))return!1;return!0}function ia(m,g,w,D,F,$){return cc=$,Hn=g,g.memoizedState=null,g.updateQueue=null,g.lanes=0,vn.H=m===null||m.memoizedState===null?vf:ca,yf=!1,$=w(D,F),yf=!1,Nh&&($=ys(g,w,D,F)),Ja(m),$}function Ja(m){vn.H=xr;var g=cn!==null&&cn.next!==null;if(cc=0,di=cn=Hn=null,Wo=!1,Lh=0,Es=null,g)throw Error(s(300));m===null||ji||(m=m.dependencies,m!==null&&Y(m)&&(ji=!0))}function ys(m,g,w,D){Hn=m;var F=0;do{if(Nh&&(Es=null),Lh=0,Nh=!1,25<=F)throw Error(s(301));if(F+=1,di=cn=null,m.updateQueue!=null){var $=m.updateQueue;$.lastEffect=null,$.events=null,$.stores=null,$.memoCache!=null&&($.memoCache.index=0)}vn.H=co,$=g(w,D)}while(Nh);return $}function ur(){var m=vn.H,g=m.useState()[0];return g=typeof g.then=="function"?Bt(g):g,m=m.useState()[0],(cn!==null?cn.memoizedState:null)!==m&&(Hn.flags|=1024),g}function ju(){var m=z0!==0;return z0=0,m}function tu(m,g,w){g.updateQueue=m.updateQueue,g.flags&=-2053,m.lanes&=~w}function ra(m){if(Wo){for(m=m.memoizedState;m!==null;){var g=m.queue;g!==null&&(g.pending=null),m=m.next}Wo=!1}cc=0,di=cn=Hn=null,Nh=!1,Lh=z0=0,Es=null}function rt(){var m={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return di===null?Hn.memoizedState=di=m:di=di.next=m,di}function St(){if(cn===null){var m=Hn.alternate;m=m!==null?m.memoizedState:null}else m=cn.next;var g=di===null?Hn.memoizedState:di.next;if(g!==null)di=g,cn=m;else{if(m===null)throw Hn.alternate===null?Error(s(467)):Error(s(310));cn=m,m={memoizedState:cn.memoizedState,baseState:cn.baseState,baseQueue:cn.baseQueue,queue:cn.queue,next:null},di===null?Hn.memoizedState=di=m:di=di.next=m}return di}function Bt(m){var g=Lh;return Lh+=1,Es===null&&(Es=[]),m=Se(Es,m,g),g=Hn,(di===null?g.memoizedState:di.next)===null&&(g=g.alternate,vn.H=g===null||g.memoizedState===null?vf:ca),m}function jt(m){if(m!==null&&typeof m=="object"){if(typeof m.then=="function")return Bt(m);if(m.$$typeof===Al)return Ot(m)}throw Error(s(438,String(m)))}function It(m){var g=null,w=Hn.updateQueue;if(w!==null&&(g=w.memoCache),g==null){var D=Hn.alternate;D!==null&&(D=D.updateQueue,D!==null&&(D=D.memoCache,D!=null&&(g={data:D.data.map(function(F){return F.slice()}),index:0})))}if(g==null&&(g={data:[],index:0}),w===null&&(w=B0(),Hn.updateQueue=w),w.memoCache=g,w=g.data[g.index],w===void 0)for(w=g.data[g.index]=Array(m),D=0;D<m;D++)w[D]=FE;return g.index++,w}function de(m,g){return typeof g=="function"?g(m):g}function Te(m){var g=St();return we(g,cn,m)}function we(m,g,w){var D=m.queue;if(D===null)throw Error(s(311));D.lastRenderedReducer=w;var F=m.baseQueue,$=D.pending;if($!==null){if(F!==null){var ot=F.next;F.next=$.next,$.next=ot}g.baseQueue=F=$,D.pending=null}if($=m.baseState,F===null)m.memoizedState=$;else{g=F.next;var bt=ot=null,Nt=null,ae=g,be=!1;do{var Le=ae.lane&-536870913;if(Le!==ae.lane?(ri&Le)===Le:(cc&Le)===Le){var Be=ae.revertLane;if(Be===0)Nt!==null&&(Nt=Nt.next={lane:0,revertLane:0,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),Le===lo&&(be=!0);else if((cc&Be)===Be){ae=ae.next,Be===lo&&(be=!0);continue}else Le={lane:0,revertLane:ae.revertLane,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},Nt===null?(bt=Nt=Le,ot=$):Nt=Nt.next=Le,Hn.lanes|=Be,mo|=Be;Le=ae.action,yf&&w($,Le),$=ae.hasEagerState?ae.eagerState:w($,Le)}else Be={lane:Le,revertLane:ae.revertLane,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},Nt===null?(bt=Nt=Be,ot=$):Nt=Nt.next=Be,Hn.lanes|=Le,mo|=Le;ae=ae.next}while(ae!==null&&ae!==g);if(Nt===null?ot=$:Nt.next=bt,!Da($,m.memoizedState)&&(ji=!0,be&&(w=Ph,w!==null)))throw w;m.memoizedState=$,m.baseState=ot,m.baseQueue=Nt,D.lastRenderedState=$}return F===null&&(D.lanes=0),[m.memoizedState,D.dispatch]}function ze(m){var g=St(),w=g.queue;if(w===null)throw Error(s(311));w.lastRenderedReducer=m;var D=w.dispatch,F=w.pending,$=g.memoizedState;if(F!==null){w.pending=null;var ot=F=F.next;do $=m($,ot.action),ot=ot.next;while(ot!==F);Da($,g.memoizedState)||(ji=!0),g.memoizedState=$,g.baseQueue===null&&(g.baseState=$),w.lastRenderedState=$}return[$,D]}function un(m,g,w){var D=Hn,F=St(),$=li;if($){if(w===void 0)throw Error(s(407));w=w()}else w=g();var ot=!Da((cn||F).memoizedState,w);if(ot&&(F.memoizedState=w,ji=!0),F=F.queue,Om(zn.bind(null,D,F,m),[m]),F.getSnapshot!==g||ot||di!==null&&di.memoizedState.tag&1){if(D.flags|=2048,Rr(9,We.bind(null,D,F,w,g),{destroy:void 0},null),Mi===null)throw Error(s(349));$||(cc&60)!==0||en(D,g,w)}return w}function en(m,g,w){m.flags|=16384,m={getSnapshot:g,value:w},g=Hn.updateQueue,g===null?(g=B0(),Hn.updateQueue=g,g.stores=[m]):(w=g.stores,w===null?g.stores=[m]:w.push(m))}function We(m,g,w,D){g.value=w,g.getSnapshot=D,Qn(g)&&Ni(m)}function zn(m,g,w){return w(function(){Qn(g)&&Ni(m)})}function Qn(m){var g=m.getSnapshot;m=m.value;try{var w=g();return!Da(m,w)}catch{return!0}}function Ni(m){var g=ne(m,2);g!==null&&bs(g,m,2)}function Vn(m){var g=rt();if(typeof m=="function"){var w=m;if(m=w(),yf){W(!0);try{w()}finally{W(!1)}}}return g.memoizedState=g.baseState=m,g.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:de,lastRenderedState:m},g}function $n(m,g,w,D){return m.baseState=w,we(m,cn,typeof D=="function"?D:de)}function nn(m,g,w,D,F){if(Gc(m))throw Error(s(485));if(m=g.action,m!==null){var $={payload:F,action:m,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ot){$.listeners.push(ot)}};vn.T!==null?w(!0):$.isTransition=!1,D($),w=g.pending,w===null?($.next=g.pending=$,Ji(g,$)):($.next=w.next,g.pending=w.next=$)}}function Ji(m,g){var w=g.action,D=g.payload,F=m.state;if(g.isTransition){var $=vn.T,ot={};vn.T=ot;try{var bt=w(F,D),Nt=vn.S;Nt!==null&&Nt(ot,bt),Jn(m,g,bt)}catch(ae){Ro(m,g,ae)}finally{vn.T=$}}else try{$=w(F,D),Jn(m,g,$)}catch(ae){Ro(m,g,ae)}}function Jn(m,g,w){w!==null&&typeof w=="object"&&typeof w.then=="function"?w.then(function(D){qr(m,g,D)},function(D){return Ro(m,g,D)}):qr(m,g,w)}function qr(m,g,w){g.status="fulfilled",g.value=w,ai(g),m.state=w,g=m.pending,g!==null&&(w=g.next,w===g?m.pending=null:(w=w.next,g.next=w,Ji(m,w)))}function Ro(m,g,w){var D=m.pending;if(m.pending=null,D!==null){D=D.next;do g.status="rejected",g.reason=w,ai(g),g=g.next;while(g!==D)}m.action=null}function ai(m){m=m.listeners;for(var g=0;g<m.length;g++)(0,m[g])()}function $r(m,g){return g}function hi(m,g){if(li){var w=Mi.formState;if(w!==null){t:{var D=Hn;if(li){if(Us){var F=$b(Us,Ss);if(F){Us=Wb(F),D=lT(F);break t}}wt(D)}D=!1}D&&(g=w[0])}}w=rt(),w.memoizedState=w.baseState=g,D={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$r,lastRenderedState:g},w.queue=D,w=zd.bind(null,Hn,D),D.dispatch=w,D=Vn(!1);var $=Po.bind(null,Hn,!1,D.queue);return D=rt(),F={state:g,dispatch:null,action:m,pending:null},D.queue=F,w=nn.bind(null,Hn,F,$,w),F.dispatch=w,D.memoizedState=m,[g,w,!1]}function _r(m){var g=St();return cr(g,cn,m)}function cr(m,g,w){g=we(m,g,$r)[0],m=Te(de)[0],g=typeof g=="object"&&g!==null&&typeof g.then=="function"?Bt(g):g;var D=St(),F=D.queue,$=F.dispatch;return w!==D.memoizedState&&(Hn.flags|=2048,Rr(9,Cn.bind(null,F,w),{destroy:void 0},null)),[g,$,m]}function Cn(m,g){m.action=g}function fr(m){var g=St(),w=cn;if(w!==null)return cr(g,w,m);St(),g=g.memoizedState,w=St();var D=w.queue.dispatch;return w.memoizedState=m,[g,D,!1]}function Rr(m,g,w,D){return m={tag:m,create:g,inst:w,deps:D,next:null},g=Hn.updateQueue,g===null&&(g=B0(),Hn.updateQueue=g),w=g.lastEffect,w===null?g.lastEffect=m.next=m:(D=w.next,w.next=m,m.next=D,g.lastEffect=m),m}function js(){return St().memoizedState}function fh(m,g,w,D){var F=rt();Hn.flags|=m,F.memoizedState=Rr(1|g,w,{destroy:void 0},D===void 0?null:D)}function Fc(m,g,w,D){var F=St();D=D===void 0?null:D;var $=F.memoizedState.inst;cn!==null&&D!==null&&Ta(D,cn.memoizedState.deps)?F.memoizedState=Rr(g,w,$,D):(Hn.flags|=m,F.memoizedState=Rr(1|g,w,$,D))}function Ud(m,g){fh(8390656,8,m,g)}function Om(m,g){Fc(2048,8,m,g)}function i0(m,g){return Fc(4,2,m,g)}function hh(m,g){return Fc(4,4,m,g)}function eu(m,g){if(typeof g=="function"){m=m();var w=g(m);return function(){typeof w=="function"?w():g(null)}}if(g!=null)return m=m(),g.current=m,function(){g.current=null}}function to(m,g,w){w=w!=null?w.concat([m]):null,Fc(4,4,eu.bind(null,g,m),w)}function bl(){}function nu(m,g){var w=St();g=g===void 0?null:g;var D=w.memoizedState;return g!==null&&Ta(g,D[1])?D[0]:(w.memoizedState=[m,g],m)}function kd(m,g){var w=St();g=g===void 0?null:g;var D=w.memoizedState;if(g!==null&&Ta(g,D[1]))return D[0];if(D=m(),yf){W(!0);try{m()}finally{W(!1)}}return w.memoizedState=[D,g],D}function Oo(m,g,w){return w===void 0||(cc&1073741824)!==0?m.memoizedState=g:(m.memoizedState=w,m=Eb(),Hn.lanes|=m,mo|=m,w)}function Im(m,g,w,D){return Da(w,g)?w:Xi.current!==null?(m=Oo(m,w,D),Da(m,g)||(ji=!0),m):(cc&42)===0?(ji=!0,m.memoizedState=w):(m=Eb(),Hn.lanes|=m,mo|=m,g)}function Vc(m,g,w,D,F){var $=sc();$s($!==0&&8>$?$:8);var ot=vn.T,bt={};vn.T=bt,Po(m,!1,g,w);try{var Nt=F(),ae=vn.S;if(ae!==null&&ae(bt,Nt),Nt!==null&&typeof Nt=="object"&&typeof Nt.then=="function"){var be=De(Nt,D);Aa(m,g,be,Pr(m))}else Aa(m,g,D,Pr(m))}catch(Le){Aa(m,g,{then:function(){},status:"rejected",reason:Le},Pr())}finally{$s($),vn.T=ot}}function Io(m){var g=m.memoizedState;if(g!==null)return g;g={memoizedState:of,baseState:of,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:de,lastRenderedState:of},next:null};var w={};return g.next={memoizedState:w,baseState:w,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:de,lastRenderedState:w},next:null},m.memoizedState=g,m=m.alternate,m!==null&&(m.memoizedState=g),g}function wa(){return Ot(Ml)}function Hc(){return St().memoizedState}function xl(){return St().memoizedState}function jc(m){for(var g=m.return;g!==null;){switch(g.tag){case 24:case 3:var w=Pr();m=Re(w);var D=Oe(g,m,w);D!==null&&(bs(D,g,w),Zt(D,g,w)),g={cache:ni()},m.payload=g;return}g=g.return}}function Gu(m,g,w){var D=Pr();w={lane:D,revertLane:0,action:w,hasEagerState:!1,eagerState:null,next:null},Gc(m)?rs(g,w):(w=te(m,g,w,D),w!==null&&(bs(w,m,D),Si(w,g,D)))}function zd(m,g,w){var D=Pr();Aa(m,g,w,D)}function Aa(m,g,w,D){var F={lane:D,revertLane:0,action:w,hasEagerState:!1,eagerState:null,next:null};if(Gc(m))rs(g,F);else{var $=m.alternate;if(m.lanes===0&&($===null||$.lanes===0)&&($=g.lastRenderedReducer,$!==null))try{var ot=g.lastRenderedState,bt=$(ot,w);if(F.hasEagerState=!0,F.eagerState=bt,Da(bt,ot))return ce(m,g,F,0),Mi===null&&at(),!1}catch{}finally{}if(w=te(m,g,F,D),w!==null)return bs(w,m,D),Si(w,g,D),!0}return!1}function Po(m,g,w,D){if(D={lane:2,revertLane:Ct(),action:D,hasEagerState:!1,eagerState:null,next:null},Gc(m)){if(g)throw Error(s(479))}else g=te(m,w,D,2),g!==null&&bs(g,m,2)}function Gc(m){var g=m.alternate;return m===Hn||g!==null&&g===Hn}function rs(m,g){Nh=Wo=!0;var w=m.pending;w===null?g.next=g:(g.next=w.next,w.next=g),m.pending=g}function Si(m,g,w){if((w&4194176)!==0){var D=g.lanes;D&=m.pendingLanes,w|=D,g.lanes=w,X(m,w)}}function qc(m,g,w,D){g=m.memoizedState,w=w(D,g),w=w==null?g:v0({},g,w),m.memoizedState=w,m.lanes===0&&(m.updateQueue.baseState=w)}function $c(m,g,w,D,F,$,ot){return m=m.stateNode,typeof m.shouldComponentUpdate=="function"?m.shouldComponentUpdate(D,$,ot):g.prototype&&g.prototype.isPureReactComponent?!Xt(w,D)||!Xt(F,$):!0}function Pm(m,g,w,D){m=g.state,typeof g.componentWillReceiveProps=="function"&&g.componentWillReceiveProps(w,D),typeof g.UNSAFE_componentWillReceiveProps=="function"&&g.UNSAFE_componentWillReceiveProps(w,D),g.state!==m&&du.enqueueReplaceState(g,g.state,null)}function Do(m,g){var w=g;if("ref"in g){w={};for(var D in g)D!=="ref"&&(w[D]=g[D])}if(m=m.defaultProps){w===g&&(w=v0({},w));for(var F in m)w[F]===void 0&&(w[F]=m[F])}return w}function qu(m,g){try{var w=m.onUncaughtError;w(g.value,{componentStack:g.stack})}catch(D){setTimeout(function(){throw D})}}function Sl(m,g,w){try{var D=m.onCaughtError;D(w.value,{componentStack:w.stack,errorBoundary:g.tag===1?g.stateNode:null})}catch(F){setTimeout(function(){throw F})}}function $u(m,g,w){return w=Re(w),w.tag=3,w.payload={element:null},w.callback=function(){qu(m,g)},w}function eo(m){return m=Re(m),m.tag=3,m}function Dm(m,g,w,D){var F=w.type.getDerivedStateFromError;if(typeof F=="function"){var $=D.value;m.payload=function(){return F($)},m.callback=function(){Sl(g,w,D)}}var ot=w.stateNode;ot!==null&&typeof ot.componentDidCatch=="function"&&(m.callback=function(){Sl(g,w,D),typeof F!="function"&&(_f===null?_f=new Set([this]):_f.add(this));var bt=D.stack;this.componentDidCatch(D.value,{componentStack:bt!==null?bt:""})})}function db(m,g,w,D,F){if(w.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){if(g=w.alternate,g!==null&&G(g,w,F,!0),w=uo.current,w!==null){switch(w.tag){case 13:return Hi===null?Ju():w.alternate===null&&Gi===0&&(Gi=3),w.flags&=-257,w.flags|=65536,w.lanes=F,D===dg?w.flags|=16384:(g=w.updateQueue,g===null?w.updateQueue=new Set([D]):g.add(D),bh(m,D,F)),!1;case 22:return w.flags|=65536,D===dg?w.flags|=16384:(g=w.updateQueue,g===null?(g={transitions:null,markerInstances:null,retryQueue:new Set([D])},w.updateQueue=g):(w=g.retryQueue,w===null?g.retryQueue=new Set([D]):w.add(D)),bh(m,D,F)),!1}throw Error(s(435,w.tag))}return bh(m,D,F),Ju(),!1}if(li)return g=uo.current,g!==null?((g.flags&65536)===0&&(g.flags|=256),g.flags|=65536,g.lanes=F,D!==cg&&(m=Error(s(422),{cause:D}),Vt(nt(m,w)))):(D!==cg&&(g=Error(s(423),{cause:D}),Vt(nt(g,w))),m=m.current.alternate,m.flags|=65536,F&=-F,m.lanes|=F,D=nt(D,w),F=$u(m.stateNode,D,F),Pe(m,F),Gi!==4&&(Gi=2)),!1;var $=Error(s(520),{cause:D});if($=nt($,w),kh===null?kh=[$]:kh.push($),Gi!==4&&(Gi=2),g===null)return!0;D=nt(D,w),w=g;do{switch(w.tag){case 3:return w.flags|=65536,m=F&-F,w.lanes|=m,m=$u(w.stateNode,D,m),Pe(w,m),!1;case 1:if(g=w.type,$=w.stateNode,(w.flags&128)===0&&(typeof g.getDerivedStateFromError=="function"||$!==null&&typeof $.componentDidCatch=="function"&&(_f===null||!_f.has($))))return w.flags|=65536,F&=-F,w.lanes|=F,F=eo(F),Dm(F,m,w,D),Pe(w,F),!1}w=w.return}while(w!==null);return!1}function hr(m,g,w,D){g.child=m===null?hu(g,null,w,D):gf(g,m.child,w,D)}function dh(m,g,w,D,F){w=w.render;var $=g.ref;if("ref"in D){var ot={};for(var bt in D)bt!=="ref"&&(ot[bt]=D[bt])}else ot=D;return ct(g),D=ia(m,g,w,ot,$,F),bt=ju(),m!==null&&!ji?(tu(m,g,F),No(m,g,F)):(li&&bt&&yt(g),g.flags|=1,hr(m,g,D,F),g.child)}function Bd(m,g,w,D,F){if(m===null){var $=w.type;return typeof $=="function"&&!Xm($)&&$.defaultProps===void 0&&w.compare===null?(g.tag=15,g.type=$,ph(m,g,$,D,F)):(m=au(w.type,null,D,g,g.mode,F),m.ref=g.ref,m.return=g,g.child=m)}if($=m.child,!Hd(m,F)){var ot=$.memoizedProps;if(w=w.compare,w=w!==null?w:Xt,w(ot,D)&&m.ref===g.ref)return No(m,g,F)}return g.flags|=1,m=Fo($,D),m.ref=g.ref,m.return=g,g.child=m}function ph(m,g,w,D,F){if(m!==null){var $=m.memoizedProps;if(Xt($,D)&&m.ref===g.ref)if(ji=!1,g.pendingProps=D=$,Hd(m,F))(m.flags&131072)!==0&&(ji=!0);else return g.lanes=m.lanes,No(m,g,F)}return yh(m,g,w,D,F)}function Nm(m,g,w){var D=g.pendingProps,F=D.children,$=(g.stateNode._pendingVisibility&2)!==0,ot=m!==null?m.memoizedState:null;if(gh(m,g),D.mode==="hidden"||$){if((g.flags&128)!==0){if(D=ot!==null?ot.baseLanes|w:w,m!==null){for(F=g.child=m.child,$=0;F!==null;)$=$|F.lanes|F.childLanes,F=F.sibling;g.childLanes=$&~D}else g.childLanes=0,g.child=null;return mh(m,g,D,w)}if((w&536870912)!==0)g.memoizedState={baseLanes:0,cachePool:null},m!==null&&Or(g,ot!==null?ot.cachePool:null),ot!==null?Qe(g,ot):Ye(),na(g);else return g.lanes=g.childLanes=536870912,mh(m,g,ot!==null?ot.baseLanes|w:w,w)}else ot!==null?(Or(g,ot.cachePool),Qe(g,ot),ar(),g.memoizedState=null):(m!==null&&Or(g,null),Ye(),ar());return hr(m,g,F,w),g.child}function mh(m,g,w,D){var F=ii();return F=F===null?null:{parent:oa?Yi._currentValue:Yi._currentValue2,pool:F},g.memoizedState={baseLanes:w,cachePool:F},m!==null&&Or(g,null),Ye(),na(g),m!==null&&G(m,g,D,!0),null}function gh(m,g){var w=g.ref;if(w===null)m!==null&&m.ref!==null&&(g.flags|=2097664);else{if(typeof w!="function"&&typeof w!="object")throw Error(s(284));(m===null||m.ref!==w)&&(g.flags|=2097664)}}function yh(m,g,w,D,F){return ct(g),w=ia(m,g,w,D,void 0,F),D=ju(),m!==null&&!ji?(tu(m,g,F),No(m,g,F)):(li&&D&&yt(g),g.flags|=1,hr(m,g,w,F),g.child)}function Wc(m,g,w,D,F,$){return ct(g),g.updateQueue=null,w=ys(g,D,w,F),Ja(m),D=ju(),m!==null&&!ji?(tu(m,g,$),No(m,g,$)):(li&&D&&yt(g),g.flags|=1,hr(m,g,w,$),g.child)}function Lm(m,g,w,D,F){if(ct(g),g.stateNode===null){var $=ff,ot=w.contextType;typeof ot=="object"&&ot!==null&&($=Ot(ot)),$=new w(D,$),g.memoizedState=$.state!==null&&$.state!==void 0?$.state:null,$.updater=du,g.stateNode=$,$._reactInternals=g,$=g.stateNode,$.props=D,$.state=g.memoizedState,$.refs={},Ht(g),ot=w.contextType,$.context=typeof ot=="object"&&ot!==null?Ot(ot):ff,$.state=g.memoizedState,ot=w.getDerivedStateFromProps,typeof ot=="function"&&(qc(g,w,ot,D),$.state=g.memoizedState),typeof w.getDerivedStateFromProps=="function"||typeof $.getSnapshotBeforeUpdate=="function"||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(ot=$.state,typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount(),ot!==$.state&&du.enqueueReplaceState($,$.state,null),sn(g,D,$,F),Ne(),$.state=g.memoizedState),typeof $.componentDidMount=="function"&&(g.flags|=4194308),D=!0}else if(m===null){$=g.stateNode;var bt=g.memoizedProps,Nt=Do(w,bt);$.props=Nt;var ae=$.context,be=w.contextType;ot=ff,typeof be=="object"&&be!==null&&(ot=Ot(be));var Le=w.getDerivedStateFromProps;be=typeof Le=="function"||typeof $.getSnapshotBeforeUpdate=="function",bt=g.pendingProps!==bt,be||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(bt||ae!==ot)&&Pm(g,$,D,ot),uc=!1;var Be=g.memoizedState;$.state=Be,sn(g,D,$,F),Ne(),ae=g.memoizedState,bt||Be!==ae||uc?(typeof Le=="function"&&(qc(g,w,Le,D),ae=g.memoizedState),(Nt=uc||$c(g,w,Nt,D,Be,ae,ot))?(be||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount()),typeof $.componentDidMount=="function"&&(g.flags|=4194308)):(typeof $.componentDidMount=="function"&&(g.flags|=4194308),g.memoizedProps=D,g.memoizedState=ae),$.props=D,$.state=ae,$.context=ot,D=Nt):(typeof $.componentDidMount=="function"&&(g.flags|=4194308),D=!1)}else{$=g.stateNode,_e(m,g),ot=g.memoizedProps,be=Do(w,ot),$.props=be,Le=g.pendingProps,Be=$.context,ae=w.contextType,Nt=ff,typeof ae=="object"&&ae!==null&&(Nt=Ot(ae)),bt=w.getDerivedStateFromProps,(ae=typeof bt=="function"||typeof $.getSnapshotBeforeUpdate=="function")||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(ot!==Le||Be!==Nt)&&Pm(g,$,D,Nt),uc=!1,Be=g.memoizedState,$.state=Be,sn(g,D,$,F),Ne();var In=g.memoizedState;ot!==Le||Be!==In||uc||m!==null&&m.dependencies!==null&&Y(m.dependencies)?(typeof bt=="function"&&(qc(g,w,bt,D),In=g.memoizedState),(be=uc||$c(g,w,be,D,Be,In,Nt)||m!==null&&m.dependencies!==null&&Y(m.dependencies))?(ae||typeof $.UNSAFE_componentWillUpdate!="function"&&typeof $.componentWillUpdate!="function"||(typeof $.componentWillUpdate=="function"&&$.componentWillUpdate(D,In,Nt),typeof $.UNSAFE_componentWillUpdate=="function"&&$.UNSAFE_componentWillUpdate(D,In,Nt)),typeof $.componentDidUpdate=="function"&&(g.flags|=4),typeof $.getSnapshotBeforeUpdate=="function"&&(g.flags|=1024)):(typeof $.componentDidUpdate!="function"||ot===m.memoizedProps&&Be===m.memoizedState||(g.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||ot===m.memoizedProps&&Be===m.memoizedState||(g.flags|=1024),g.memoizedProps=D,g.memoizedState=In),$.props=D,$.state=In,$.context=Nt,D=be):(typeof $.componentDidUpdate!="function"||ot===m.memoizedProps&&Be===m.memoizedState||(g.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||ot===m.memoizedProps&&Be===m.memoizedState||(g.flags|=1024),D=!1)}return $=D,gh(m,g),D=(g.flags&128)!==0,$||D?($=g.stateNode,w=D&&typeof w.getDerivedStateFromError!="function"?null:$.render(),g.flags|=1,m!==null&&D?(g.child=gf(g,m.child,null,F),g.child=gf(g,null,w,F)):hr(m,g,w,F),g.memoizedState=$.state,m=g.child):m=No(m,g,F),m}function Um(m,g,w,D){return Pt(),g.flags|=256,hr(m,g,w,D),g.child}function vh(m){return{baseLanes:m,cachePool:Wr()}}function Wu(m,g,w){return m=m!==null?m.childLanes&~w:0,g&&(m|=go),m}function km(m,g,w){var D=g.pendingProps,F=!1,$=(g.flags&128)!==0,ot;if((ot=$)||(ot=m!==null&&m.memoizedState===null?!1:(os.current&2)!==0),ot&&(F=!0,g.flags&=-129),ot=(g.flags&32)!==0,g.flags&=-33,m===null){if(li){if(F?Fi(g):ar(),li){var bt=Us,Nt;(Nt=bt)&&(bt=fT(bt,Ss),bt!==null?(g.memoizedState={dehydrated:bt,treeContext:hf!==null?{id:Rl,overflow:Ol}:null,retryLane:536870912},Nt=n(18,null,null,0),Nt.stateNode=bt,Nt.return=g,g.child=Nt,Ls=g,Us=null,Nt=!0):Nt=!1),Nt||wt(g)}if(bt=g.memoizedState,bt!==null&&(bt=bt.dehydrated,bt!==null))return C0(bt)?g.lanes=16:g.lanes=536870912,null;Gr(g)}return bt=D.children,D=D.fallback,F?(ar(),F=g.mode,bt=Fd({mode:"hidden",children:bt},F),D=br(D,F,w,null),bt.return=g,D.return=g,bt.sibling=D,g.child=bt,F=g.child,F.memoizedState=vh(w),F.childLanes=Wu(m,ot,w),g.memoizedState=H0,D):(Fi(g),Xc(g,bt))}if(Nt=m.memoizedState,Nt!==null&&(bt=Nt.dehydrated,bt!==null)){if($)g.flags&256?(Fi(g),g.flags&=-257,g=_h(m,g,w)):g.memoizedState!==null?(ar(),g.child=m.child,g.flags|=128,g=null):(ar(),F=D.fallback,bt=g.mode,D=Fd({mode:"visible",children:D.children},bt),F=br(F,bt,w,null),F.flags|=2,D.return=g,F.return=g,D.sibling=F,g.child=D,gf(g,m.child,null,w),D=g.child,D.memoizedState=vh(w),D.childLanes=Wu(m,ot,w),g.memoizedState=H0,g=F);else if(Fi(g),C0(bt))ot=aT(bt).digest,D=Error(s(419)),D.stack="",D.digest=ot,Vt({value:D,source:null,stack:null}),g=_h(m,g,w);else if(ji||G(m,g,w,!1),ot=(w&m.childLanes)!==0,ji||ot){if(ot=Mi,ot!==null){if(D=w&-w,(D&42)!==0)D=1;else switch(D){case 2:D=1;break;case 8:D=4;break;case 32:D=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:D=64;break;case 268435456:D=134217728;break;default:D=0}if(D=(D&(ot.suspendedLanes|w))!==0?0:D,D!==0&&D!==Nt.retryLane)throw Nt.retryLane=D,ne(m,D),bs(ot,m,D),V0}M0(bt)||Ju(),g=_h(m,g,w)}else M0(bt)?(g.flags|=128,g.child=m.child,g=tc.bind(null,m),oT(bt,g),g=null):(m=Nt.treeContext,Ns&&(Us=cT(bt),Ls=g,li=!0,qo=null,Ss=!1,m!==null&&(ao[oo++]=Rl,ao[oo++]=Ol,ao[oo++]=hf,Rl=m.id,Ol=m.overflow,hf=g)),g=Xc(g,D.children),g.flags|=4096);return g}return F?(ar(),F=D.fallback,bt=g.mode,Nt=m.child,$=Nt.sibling,D=Fo(Nt,{mode:"hidden",children:D.children}),D.subtreeFlags=Nt.subtreeFlags&31457280,$!==null?F=Fo($,F):(F=br(F,bt,w,null),F.flags|=2),F.return=g,D.return=g,D.sibling=F,g.child=D,D=F,F=g.child,bt=m.child.memoizedState,bt===null?bt=vh(w):(Nt=bt.cachePool,Nt!==null?($=oa?Yi._currentValue:Yi._currentValue2,Nt=Nt.parent!==$?{parent:$,pool:$}:Nt):Nt=Wr(),bt={baseLanes:bt.baseLanes|w,cachePool:Nt}),F.memoizedState=bt,F.childLanes=Wu(m,ot,w),g.memoizedState=H0,D):(Fi(g),w=m.child,m=w.sibling,w=Fo(w,{mode:"visible",children:D.children}),w.return=g,w.sibling=null,m!==null&&(ot=g.deletions,ot===null?(g.deletions=[m],g.flags|=16):ot.push(m)),g.child=w,g.memoizedState=null,w)}function Xc(m,g){return g=Fd({mode:"visible",children:g},m.mode),g.return=m,m.child=g}function Fd(m,g){return Km(m,g,0,null)}function _h(m,g,w){return gf(g,m.child,null,w),m=Xc(g,g.pendingProps.children),m.flags|=2,g.memoizedState=null,m}function iu(m,g,w){m.lanes|=g;var D=m.alternate;D!==null&&(D.lanes|=g),Uo(m.return,g,w)}function Vd(m,g,w,D,F){var $=m.memoizedState;$===null?m.memoizedState={isBackwards:g,rendering:null,renderingStartTime:0,last:D,tail:w,tailMode:F}:($.isBackwards=g,$.rendering=null,$.renderingStartTime=0,$.last=D,$.tail=w,$.tailMode=F)}function zm(m,g,w){var D=g.pendingProps,F=D.revealOrder,$=D.tail;if(hr(m,g,D.children,w),D=os.current,(D&2)!==0)D=D&1|2,g.flags|=128;else{if(m!==null&&(m.flags&128)!==0)t:for(m=g.child;m!==null;){if(m.tag===13)m.memoizedState!==null&&iu(m,w,g);else if(m.tag===19)iu(m,w,g);else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===g)break t;for(;m.sibling===null;){if(m.return===null||m.return===g)break t;m=m.return}m.sibling.return=m.return,m=m.sibling}D&=1}switch(A(os,D),F){case"forwards":for(w=g.child,F=null;w!==null;)m=w.alternate,m!==null&&Os(m)===null&&(F=w),w=w.sibling;w=F,w===null?(F=g.child,g.child=null):(F=w.sibling,w.sibling=null),Vd(g,!1,F,w,$);break;case"backwards":for(w=null,F=g.child,g.child=null;F!==null;){if(m=F.alternate,m!==null&&Os(m)===null){g.child=F;break}m=F.sibling,F.sibling=w,w=F,F=m}Vd(g,!0,w,null,$);break;case"together":Vd(g,!1,null,null,void 0);break;default:g.memoizedState=null}return g.child}function No(m,g,w){if(m!==null&&(g.dependencies=m.dependencies),mo|=g.lanes,(w&g.childLanes)===0)if(m!==null){if(G(m,g,w,!1),(w&g.childLanes)===0)return null}else return null;if(m!==null&&g.child!==m.child)throw Error(s(153));if(g.child!==null){for(m=g.child,w=Fo(m,m.pendingProps),g.child=w,w.return=g;m.sibling!==null;)m=m.sibling,w=w.sibling=Fo(m,m.pendingProps),w.return=g;w.sibling=null}return g.child}function Hd(m,g){return(m.lanes&g)!==0?!0:(m=m.dependencies,!!(m!==null&&Y(m)))}function jd(m,g,w){switch(g.tag){case 3:it(g,g.stateNode.containerInfo),El(g,Yi,m.memoizedState.cache),Pt();break;case 27:case 5:ft(g);break;case 4:it(g,g.stateNode.containerInfo);break;case 10:El(g,g.type,g.memoizedProps.value);break;case 13:var D=g.memoizedState;if(D!==null)return D.dehydrated!==null?(Fi(g),g.flags|=128,null):(w&g.child.childLanes)!==0?km(m,g,w):(Fi(g),m=No(m,g,w),m!==null?m.sibling:null);Fi(g);break;case 19:var F=(m.flags&128)!==0;if(D=(w&g.childLanes)!==0,D||(G(m,g,w,!1),D=(w&g.childLanes)!==0),F){if(D)return zm(m,g,w);g.flags|=128}if(F=g.memoizedState,F!==null&&(F.rendering=null,F.tail=null,F.lastEffect=null),A(os,os.current),D)break;return null;case 22:case 23:return g.lanes=0,Nm(m,g,w);case 24:El(g,Yi,m.memoizedState.cache)}return No(m,g,w)}function Gs(m,g,w){if(m!==null)if(m.memoizedProps!==g.pendingProps)ji=!0;else{if(!Hd(m,w)&&(g.flags&128)===0)return ji=!1,jd(m,g,w);ji=(m.flags&131072)!==0}else ji=!1,li&&(g.flags&1048576)!==0&&ht(g,cp,g.index);switch(g.lanes=0,g.tag){case 16:t:{m=g.pendingProps;var D=g.elementType,F=D._init;if(D=F(D._payload),g.type=D,typeof D=="function")Xm(D)?(m=Do(D,m),g.tag=1,g=Lm(null,g,D,m,w)):(g.tag=0,g=yh(null,g,D,m,w));else{if(D!=null){if(F=D.$$typeof,F===eg){g.tag=11,g=dh(null,g,D,m,w);break t}else if(F===x0){g.tag=14,g=Bd(null,g,D,m,w);break t}}throw g=o(D)||D,Error(s(306,g,""))}}return g;case 0:return yh(m,g,g.type,g.pendingProps,w);case 1:return D=g.type,F=Do(D,g.pendingProps),Lm(m,g,D,F,w);case 3:t:{if(it(g,g.stateNode.containerInfo),m===null)throw Error(s(387));var $=g.pendingProps;F=g.memoizedState,D=F.element,_e(m,g),sn(g,$,null,w);var ot=g.memoizedState;if($=ot.cache,El(g,Yi,$),$!==F.cache&&R(g,[Yi],w,!0),Ne(),$=ot.element,Ns&&F.isDehydrated)if(F={element:$,isDehydrated:!1,cache:ot.cache},g.updateQueue.baseState=F,g.memoizedState=F,g.flags&256){g=Um(m,g,$,w);break t}else if($!==D){D=nt(Error(s(424)),g),Vt(D),g=Um(m,g,$,w);break t}else for(Ns&&(Us=uT(g.stateNode.containerInfo),Ls=g,li=!0,qo=null,Ss=!0),w=hu(g,null,$,w),g.child=w;w;)w.flags=w.flags&-3|4096,w=w.sibling;else{if(Pt(),$===D){g=No(m,g,w);break t}hr(m,g,$,w)}g=g.child}return g;case 26:if(so)return gh(m,g),m===null?(w=Kb(g.type,null,g.pendingProps,null))?g.memoizedState=w:li||(g.stateNode=D0(g.type,g.pendingProps,cu.current,g)):g.memoizedState=Kb(g.type,m.memoizedProps,g.pendingProps,m.memoizedState),null;case 27:if(Vi)return ft(g),m===null&&Vi&&li&&(D=g.stateNode=Cl(g.type,g.pendingProps,cu.current,as.current,!1),Ls=g,Ss=!0,Us=R0(D)),D=g.pendingProps.children,m!==null||li?hr(m,g,D,w):g.child=gf(g,null,D,w),gh(m,g),g.child;case 5:return m===null&&li&&(I0(g.type,g.pendingProps,as.current),(F=D=Us)&&(D=dO(D,g.type,g.pendingProps,Ss),D!==null?(g.stateNode=D,Ls=g,Us=R0(D),Ss=!1,F=!0):F=!1),F||wt(g)),ft(g),F=g.type,$=g.pendingProps,ot=m!==null?m.memoizedProps:null,D=$.children,Nn(F,$)?D=null:ot!==null&&Nn(F,ot)&&(g.flags|=32),g.memoizedState!==null&&(F=ia(m,g,ur,null,null,w),oa?Ml._currentValue=F:Ml._currentValue2=F),gh(m,g),hr(m,g,D,w),g.child;case 6:return m===null&&li&&(gT(g.pendingProps,as.current),(m=w=Us)&&(w=Xb(w,g.pendingProps,Ss),w!==null?(g.stateNode=w,Ls=g,Us=null,m=!0):m=!1),m||wt(g)),null;case 13:return km(m,g,w);case 4:return it(g,g.stateNode.containerInfo),D=g.pendingProps,m===null?g.child=gf(g,null,D,w):hr(m,g,D,w),g.child;case 11:return dh(m,g,g.type,g.pendingProps,w);case 7:return hr(m,g,g.pendingProps,w),g.child;case 8:return hr(m,g,g.pendingProps.children,w),g.child;case 12:return hr(m,g,g.pendingProps.children,w),g.child;case 10:return D=g.pendingProps,El(g,g.type,D.value),hr(m,g,D.children,w),g.child;case 9:return F=g.type._context,D=g.pendingProps.children,ct(g),F=Ot(F),D=D(F),g.flags|=1,hr(m,g,D,w),g.child;case 14:return Bd(m,g,g.type,g.pendingProps,w);case 15:return ph(m,g,g.type,g.pendingProps,w);case 19:return zm(m,g,w);case 22:return Nm(m,g,w);case 24:return ct(g),D=Ot(Yi),m===null?(F=ii(),F===null&&(F=Mi,$=ni(),F.pooledCache=$,$.refCount++,$!==null&&(F.pooledCacheLanes|=w),F=$),g.memoizedState={parent:D,cache:F},Ht(g),El(g,Yi,F)):((m.lanes&w)!==0&&(_e(m,g),sn(g,null,null,w),Ne()),F=m.memoizedState,$=g.memoizedState,F.parent!==D?(F={parent:D,cache:D},g.memoizedState=F,g.lanes===0&&(g.memoizedState=g.updateQueue.baseState=F),El(g,Yi,D)):(D=$.cache,El(g,Yi,D),D!==F.cache&&R(g,[Yi],w,!0))),hr(m,g,g.pendingProps.children,w),g.child;case 29:throw g.pendingProps}throw Error(s(156,g.tag))}function El(m,g,w){oa?(A(fc,g._currentValue),g._currentValue=w):(A(fc,g._currentValue2),g._currentValue2=w)}function Lo(m){var g=fc.current;oa?m._currentValue=g:m._currentValue2=g,b(fc)}function Uo(m,g,w){for(;m!==null;){var D=m.alternate;if((m.childLanes&g)!==g?(m.childLanes|=g,D!==null&&(D.childLanes|=g)):D!==null&&(D.childLanes&g)!==g&&(D.childLanes|=g),m===w)break;m=m.return}}function R(m,g,w,D){var F=m.child;for(F!==null&&(F.return=m);F!==null;){var $=F.dependencies;if($!==null){var ot=F.child;$=$.firstContext;t:for(;$!==null;){var bt=$;$=F;for(var Nt=0;Nt<g.length;Nt++)if(bt.context===g[Nt]){$.lanes|=w,bt=$.alternate,bt!==null&&(bt.lanes|=w),Uo($.return,w,m),D||(ot=null);break t}$=bt.next}}else if(F.tag===18){if(ot=F.return,ot===null)throw Error(s(341));ot.lanes|=w,$=ot.alternate,$!==null&&($.lanes|=w),Uo(ot,w,m),ot=null}else ot=F.child;if(ot!==null)ot.return=F;else for(ot=F;ot!==null;){if(ot===m){ot=null;break}if(F=ot.sibling,F!==null){F.return=ot.return,ot=F;break}ot=ot.return}F=ot}}function G(m,g,w,D){m=null;for(var F=g,$=!1;F!==null;){if(!$){if((F.flags&524288)!==0)$=!0;else if((F.flags&262144)!==0)break}if(F.tag===10){var ot=F.alternate;if(ot===null)throw Error(s(387));if(ot=ot.memoizedProps,ot!==null){var bt=F.type;Da(F.pendingProps.value,ot.value)||(m!==null?m.push(bt):m=[bt])}}else if(F===Ch.current){if(ot=F.alternate,ot===null)throw Error(s(387));ot.memoizedState.memoizedState!==F.memoizedState.memoizedState&&(m!==null?m.push(Ml):m=[Ml])}F=F.return}m!==null&&R(g,m,w,D),g.flags|=262144}function Y(m){for(m=m.firstContext;m!==null;){var g=m.context;if(!Da(oa?g._currentValue:g._currentValue2,m.memoizedValue))return!0;m=m.next}return!1}function ct(m){Dl=m,fo=null,m=m.dependencies,m!==null&&(m.firstContext=null)}function Ot(m){return Ae(Dl,m)}function Yt(m,g){return Dl===null&&ct(m),Ae(m,g)}function Ae(m,g){var w=oa?g._currentValue:g._currentValue2;if(g={context:g,memoizedValue:w,next:null},fo===null){if(m===null)throw Error(s(308));fo=g,m.dependencies={lanes:0,firstContext:g},m.flags|=524288}else fo=fo.next=g;return w}function ni(){return{controller:new gp,data:new Map,refCount:0}}function dr(m){m.refCount--,m.refCount===0&&MT(CT,function(){m.controller.abort()})}function ii(){var m=pu.current;return m!==null?m:Mi.pooledCache}function Or(m,g){g===null?A(pu,pu.current):A(pu,g.pool)}function Wr(){var m=ii();return m===null?null:{parent:oa?Yi._currentValue:Yi._currentValue2,pool:m}}function Ir(m){m.flags|=4}function vs(m,g){if(m!==null&&m.child===g.child)return!1;if((g.flags&16)!==0)return!0;for(m=g.child;m!==null;){if((m.flags&13878)!==0||(m.subtreeFlags&13878)!==0)return!0;m=m.sibling}return!1}function ko(m,g,w,D){if(ss)for(w=g.child;w!==null;){if(w.tag===5||w.tag===6)ig(m,w.stateNode);else if(!(w.tag===4||Vi&&w.tag===27)&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===g)break;for(;w.sibling===null;){if(w.return===null||w.return===g)return;w=w.return}w.sibling.return=w.return,w=w.sibling}else if(jo)for(var F=g.child;F!==null;){if(F.tag===5){var $=F.stateNode;w&&D&&($=Gb($,F.type,F.memoizedProps)),ig(m,$)}else if(F.tag===6)$=F.stateNode,w&&D&&($=qb($,F.memoizedProps)),ig(m,$);else if(F.tag!==4){if(F.tag===22&&F.memoizedState!==null)$=F.child,$!==null&&($.return=F),ko(m,F,!0,!0);else if(F.child!==null){F.child.return=F,F=F.child;continue}}if(F===g)break;for(;F.sibling===null;){if(F.return===null||F.return===g)return;F=F.return}F.sibling.return=F.return,F=F.sibling}}function Gd(m,g,w,D){if(jo)for(var F=g.child;F!==null;){if(F.tag===5){var $=F.stateNode;w&&D&&($=Gb($,F.type,F.memoizedProps)),jb(m,$)}else if(F.tag===6)$=F.stateNode,w&&D&&($=qb($,F.memoizedProps)),jb(m,$);else if(F.tag!==4){if(F.tag===22&&F.memoizedState!==null)$=F.child,$!==null&&($.return=F),Gd(m,F,!(F.memoizedProps!==null&&F.memoizedProps.mode==="manual"),!0);else if(F.child!==null){F.child.return=F,F=F.child;continue}}if(F===g)break;for(;F.sibling===null;){if(F.return===null||F.return===g)return;F=F.return}F.sibling.return=F.return,F=F.sibling}}function Bm(m,g){if(jo&&vs(m,g)){m=g.stateNode;var w=m.containerInfo,D=rg();Gd(D,g,!1,!1),m.pendingChildren=D,Ir(g),A0(w,D)}}function r0(m,g,w,D){if(ss)m.memoizedProps!==D&&Ir(g);else if(jo){var F=m.stateNode,$=m.memoizedProps;if((m=vs(m,g))||$!==D){var ot=as.current;$=op(F,w,$,D,!m,null),$===F?g.stateNode=F:(rc($,w,D,ot)&&Ir(g),g.stateNode=$,m?ko($,g,!1,!1):Ir(g))}else g.stateNode=F}}function s0(m,g,w){if(Lb(g,w)){if(m.flags|=16777216,!T0(g,w))if(tf())m.flags|=8192;else throw df=dg,hg}else m.flags&=-16777217}function a0(m,g){if(_T(g)){if(m.flags|=16777216,!Eh(g))if(tf())m.flags|=8192;else throw df=dg,hg}else m.flags&=-16777217}function qd(m,g){g!==null&&(m.flags|=4),m.flags&16384&&(g=m.tag!==22?U():536870912,m.lanes|=g,yu|=g)}function $d(m,g){if(!li)switch(m.tailMode){case"hidden":g=m.tail;for(var w=null;g!==null;)g.alternate!==null&&(w=g),g=g.sibling;w===null?m.tail=null:w.sibling=null;break;case"collapsed":w=m.tail;for(var D=null;w!==null;)w.alternate!==null&&(D=w),w=w.sibling;D===null?g||m.tail===null?m.tail=null:m.tail.sibling=null:D.sibling=null}}function or(m){var g=m.alternate!==null&&m.alternate.child===m.child,w=0,D=0;if(g)for(var F=m.child;F!==null;)w|=F.lanes|F.childLanes,D|=F.subtreeFlags&31457280,D|=F.flags&31457280,F.return=m,F=F.sibling;else for(F=m.child;F!==null;)w|=F.lanes|F.childLanes,D|=F.subtreeFlags,D|=F.flags,F.return=m,F=F.sibling;return m.subtreeFlags|=D,m.childLanes=w,g}function DE(m,g,w){var D=g.pendingProps;switch(xt(g),g.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return or(g),null;case 1:return or(g),null;case 3:return w=g.stateNode,D=null,m!==null&&(D=m.memoizedState.cache),g.memoizedState.cache!==D&&(g.flags|=2048),Lo(Yi),dt(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(m===null||m.child===null)&&(ee(g)?Ir(g):m===null||m.memoizedState.isDehydrated&&(g.flags&256)===0||(g.flags|=1024,qo!==null&&($m(qo),qo=null))),Bm(m,g),or(g),null;case 26:if(so){w=g.type;var F=g.memoizedState;return m===null?(Ir(g),F!==null?(or(g),a0(g,F)):(or(g),s0(g,w,D))):F?F!==m.memoizedState?(Ir(g),or(g),a0(g,F)):(or(g),g.flags&=-16777217):(ss?m.memoizedProps!==D&&Ir(g):r0(m,g,w,D),or(g),s0(g,w,D)),null}case 27:if(Vi){if(gt(g),w=cu.current,F=g.type,m!==null&&g.stateNode!=null)ss?m.memoizedProps!==D&&Ir(g):r0(m,g,F,D);else{if(!D){if(g.stateNode===null)throw Error(s(166));return or(g),null}m=as.current,ee(g)?Kt(g,m):(m=Cl(F,D,w,m,!0),g.stateNode=m,Ir(g))}return or(g),null}case 5:if(gt(g),w=g.type,m!==null&&g.stateNode!=null)r0(m,g,w,D);else{if(!D){if(g.stateNode===null)throw Error(s(166));return or(g),null}m=as.current,ee(g)?Kt(g,m):(F=Nb(w,D,cu.current,m,g),ko(F,g,!1,!1),g.stateNode=F,rc(F,w,D,m)&&Ir(g))}return or(g),s0(g,g.type,g.pendingProps),null;case 6:if(m&&g.stateNode!=null)w=m.memoizedProps,ss?w!==D&&Ir(g):jo&&(w!==D?(g.stateNode=Ii(D,cu.current,as.current,g),Ir(g)):g.stateNode=m.stateNode);else{if(typeof D!="string"&&g.stateNode===null)throw Error(s(166));if(m=cu.current,w=as.current,ee(g)){if(!Ns)throw Error(s(176));if(m=g.stateNode,w=g.memoizedProps,D=null,F=Ls,F!==null)switch(F.tag){case 27:case 5:D=F.memoizedProps}Yb(m,w,g,D)||wt(g)}else g.stateNode=Ii(D,m,w,g)}return or(g),null;case 13:if(D=g.memoizedState,m===null||m.memoizedState!==null&&m.memoizedState.dehydrated!==null){if(F=ee(g),D!==null&&D.dehydrated!==null){if(m===null){if(!F)throw Error(s(318));if(!Ns)throw Error(s(344));if(F=g.memoizedState,F=F!==null?F.dehydrated:null,!F)throw Error(s(317));dT(F,g)}else Pt(),(g.flags&128)===0&&(g.memoizedState=null),g.flags|=4;or(g),F=!1}else qo!==null&&($m(qo),qo=null),F=!0;if(!F)return g.flags&256?(Gr(g),g):(Gr(g),null)}if(Gr(g),(g.flags&128)!==0)return g.lanes=w,g;if(w=D!==null,m=m!==null&&m.memoizedState!==null,w){D=g.child,F=null,D.alternate!==null&&D.alternate.memoizedState!==null&&D.alternate.memoizedState.cachePool!==null&&(F=D.alternate.memoizedState.cachePool.pool);var $=null;D.memoizedState!==null&&D.memoizedState.cachePool!==null&&($=D.memoizedState.cachePool.pool),$!==F&&(D.flags|=2048)}return w!==m&&w&&(g.child.flags|=8192),qd(g,g.updateQueue),or(g),null;case 4:return dt(),Bm(m,g),m===null&&Dr(g.stateNode.containerInfo),or(g),null;case 10:return Lo(g.type),or(g),null;case 19:if(b(os),F=g.memoizedState,F===null)return or(g),null;if(D=(g.flags&128)!==0,$=F.rendering,$===null)if(D)$d(F,!1);else{if(Gi!==0||m!==null&&(m.flags&128)!==0)for(m=g.child;m!==null;){if($=Os(m),$!==null){for(g.flags|=128,$d(F,!1),m=$.updateQueue,g.updateQueue=m,qd(g,m),g.subtreeFlags=0,m=w,w=g.child;w!==null;)Ym(w,m),w=w.sibling;return A(os,os.current&1|2),g.child}m=m.sibling}F.tail!==null&&Go()>_p&&(g.flags|=128,D=!0,$d(F,!1),g.lanes=4194304)}else{if(!D)if(m=Os($),m!==null){if(g.flags|=128,D=!0,m=m.updateQueue,g.updateQueue=m,qd(g,m),$d(F,!0),F.tail===null&&F.tailMode==="hidden"&&!$.alternate&&!li)return or(g),null}else 2*Go()-F.renderingStartTime>_p&&w!==536870912&&(g.flags|=128,D=!0,$d(F,!1),g.lanes=4194304);F.isBackwards?($.sibling=g.child,g.child=$):(m=F.last,m!==null?m.sibling=$:g.child=$,F.last=$)}return F.tail!==null?(g=F.tail,F.rendering=g,F.tail=g.sibling,F.renderingStartTime=Go(),g.sibling=null,m=os.current,A(os,D?m&1|2:m&1),g):(or(g),null);case 22:case 23:return Gr(g),Tn(),D=g.memoizedState!==null,m!==null?m.memoizedState!==null!==D&&(g.flags|=8192):D&&(g.flags|=8192),D?(w&536870912)!==0&&(g.flags&128)===0&&(or(g),g.subtreeFlags&6&&(g.flags|=8192)):or(g),w=g.updateQueue,w!==null&&qd(g,w.retryQueue),w=null,m!==null&&m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(w=m.memoizedState.cachePool.pool),D=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(D=g.memoizedState.cachePool.pool),D!==w&&(g.flags|=2048),m!==null&&b(pu),null;case 24:return w=null,m!==null&&(w=m.memoizedState.cache),g.memoizedState.cache!==w&&(g.flags|=2048),Lo(Yi),or(g),null;case 25:return null}throw Error(s(156,g.tag))}function oO(m,g){switch(xt(g),g.tag){case 1:return m=g.flags,m&65536?(g.flags=m&-65537|128,g):null;case 3:return Lo(Yi),dt(),m=g.flags,(m&65536)!==0&&(m&128)===0?(g.flags=m&-65537|128,g):null;case 26:case 27:case 5:return gt(g),null;case 13:if(Gr(g),m=g.memoizedState,m!==null&&m.dehydrated!==null){if(g.alternate===null)throw Error(s(340));Pt()}return m=g.flags,m&65536?(g.flags=m&-65537|128,g):null;case 19:return b(os),null;case 4:return dt(),null;case 10:return Lo(g.type),null;case 22:case 23:return Gr(g),Tn(),m!==null&&b(pu),m=g.flags,m&65536?(g.flags=m&-65537|128,g):null;case 24:return Lo(Yi),null;case 25:return null;default:return null}}function NE(m,g){switch(xt(g),g.tag){case 3:Lo(Yi),dt();break;case 26:case 27:case 5:gt(g);break;case 4:dt();break;case 13:Gr(g);break;case 19:b(os);break;case 10:Lo(g.type);break;case 22:case 23:Gr(g),Tn(),m!==null&&b(pu);break;case 24:Lo(Yi)}}function Fm(m,g){try{var w=g.updateQueue,D=w!==null?w.lastEffect:null;if(D!==null){var F=D.next;w=F;do{if((w.tag&m)===m){D=void 0;var $=w.create,ot=w.inst;D=$(),ot.destroy=D}w=w.next}while(w!==F)}}catch(bt){wi(g,g.return,bt)}}function Yc(m,g,w){try{var D=g.updateQueue,F=D!==null?D.lastEffect:null;if(F!==null){var $=F.next;D=$;do{if((D.tag&m)===m){var ot=D.inst,bt=ot.destroy;if(bt!==void 0){ot.destroy=void 0,F=g;var Nt=w;try{bt()}catch(ae){wi(F,Nt,ae)}}}D=D.next}while(D!==$)}}catch(ae){wi(g,g.return,ae)}}function LE(m){var g=m.updateQueue;if(g!==null){var w=m.stateNode;try{Ce(g,w)}catch(D){wi(m,m.return,D)}}}function Ma(m,g,w){w.props=Do(m.type,m.memoizedProps),w.state=m.memoizedState;try{w.componentWillUnmount()}catch(D){wi(m,g,D)}}function Tl(m,g){try{var w=m.ref;if(w!==null){var D=m.stateNode;switch(m.tag){case 26:case 27:case 5:var F=rp(D);break;default:F=D}typeof w=="function"?m.refCleanup=w(F):w.current=F}}catch($){wi(m,g,$)}}function Ca(m,g){var w=m.ref,D=m.refCleanup;if(w!==null)if(typeof D=="function")try{D()}catch(F){wi(m,g,F)}finally{m.refCleanup=null,m=m.alternate,m!=null&&(m.refCleanup=null)}else if(typeof w=="function")try{w(null)}catch(F){wi(m,g,F)}else w.current=null}function pb(m){var g=m.type,w=m.memoizedProps,D=m.stateNode;try{fO(D,g,w,m)}catch(F){wi(m,m.return,F)}}function mb(m,g,w){try{QE(m.stateNode,m.type,w,g,m)}catch(D){wi(m,m.return,D)}}function gb(m){return m.tag===5||m.tag===3||(so?m.tag===26:!1)||(Vi?m.tag===27:!1)||m.tag===4}function Vm(m){t:for(;;){for(;m.sibling===null;){if(m.return===null||gb(m.return))return null;m=m.return}for(m.sibling.return=m.return,m=m.sibling;m.tag!==5&&m.tag!==6&&(!Vi||m.tag!==27)&&m.tag!==18;){if(m.flags&2||m.child===null||m.tag===4)continue t;m.child.return=m,m=m.child}if(!(m.flags&2))return m.stateNode}}function yb(m,g,w){var D=m.tag;if(D===5||D===6)m=m.stateNode,g?tT(w,m,g):Fb(w,m);else if(!(D===4||Vi&&D===27)&&(m=m.child,m!==null))for(yb(m,g,w),m=m.sibling;m!==null;)yb(m,g,w),m=m.sibling}function Xu(m,g,w){var D=m.tag;if(D===5||D===6)m=m.stateNode,g?JE(w,m,g):KE(w,m);else if(!(D===4||Vi&&D===27)&&(m=m.child,m!==null))for(Xu(m,g,w),m=m.sibling;m!==null;)Xu(m,g,w),m=m.sibling}function o0(m,g,w){m=m.containerInfo;try{lp(m,w)}catch(D){wi(g,g.return,D)}}function Hm(m,g){for(S0(m.containerInfo),On=g;On!==null;)if(m=On,g=m.child,(m.subtreeFlags&1028)!==0&&g!==null)g.return=m,On=g;else for(;On!==null;){m=On;var w=m.alternate;switch(g=m.flags,m.tag){case 0:break;case 11:case 15:break;case 1:if((g&1024)!==0&&w!==null){g=void 0;var D=m,F=w.memoizedProps;w=w.memoizedState;var $=D.stateNode;try{var ot=Do(D.type,F,D.elementType===D.type);g=$.getSnapshotBeforeUpdate(ot,w),$.__reactInternalSnapshotBeforeUpdate=g}catch(bt){wi(D,D.return,bt)}}break;case 3:(g&1024)!==0&&ss&&sT(m.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((g&1024)!==0)throw Error(s(163))}if(g=m.sibling,g!==null){g.return=m.return,On=g;break}On=m.return}return ot=Zn,Zn=!1,ot}function l0(m,g,w){var D=w.flags;switch(w.tag){case 0:case 11:case 15:Ku(m,w),D&4&&Fm(5,w);break;case 1:if(Ku(m,w),D&4)if(m=w.stateNode,g===null)try{m.componentDidMount()}catch(bt){wi(w,w.return,bt)}else{var F=Do(w.type,g.memoizedProps);g=g.memoizedState;try{m.componentDidUpdate(F,g,m.__reactInternalSnapshotBeforeUpdate)}catch(bt){wi(w,w.return,bt)}}D&64&&LE(w),D&512&&Tl(w,w.return);break;case 3:if(Ku(m,w),D&64&&(D=w.updateQueue,D!==null)){if(m=null,w.child!==null)switch(w.child.tag){case 27:case 5:m=rp(w.child.stateNode);break;case 1:m=w.child.stateNode}try{Ce(D,m)}catch(bt){wi(w,w.return,bt)}}break;case 26:if(so){Ku(m,w),D&512&&Tl(w,w.return);break}case 27:case 5:Ku(m,w),g===null&&D&4&&pb(w),D&512&&Tl(w,w.return);break;case 12:Ku(m,w);break;case 13:Ku(m,w),D&4&&u0(m,w);break;case 22:if(F=w.memoizedState!==null||mu,!F){g=g!==null&&g.memoizedState!==null||Sr;var $=mu,ot=Sr;mu=F,(Sr=g)&&!ot?Zu(m,w,(w.subtreeFlags&8772)!==0):Ku(m,w),mu=$,Sr=ot}D&512&&(w.memoizedProps.mode==="manual"?Tl(w,w.return):Ca(w,w.return));break;default:Ku(m,w)}}function vb(m){var g=m.alternate;g!==null&&(m.alternate=null,vb(g)),m.child=null,m.deletions=null,m.sibling=null,m.tag===5&&(g=m.stateNode,g!==null&&cO(g)),m.stateNode=null,m.return=null,m.dependencies=null,m.memoizedProps=null,m.memoizedState=null,m.pendingProps=null,m.stateNode=null,m.updateQueue=null}function Is(m,g,w){for(w=w.child;w!==null;)Kc(m,g,w),w=w.sibling}function Kc(m,g,w){if(Pa&&typeof Pa.onCommitFiberUnmount=="function")try{Pa.onCommitFiberUnmount(Lr,w)}catch{}switch(w.tag){case 26:if(so){Sr||Ca(w,g),Is(m,g,w),w.memoizedState?Sh(w.memoizedState):w.stateNode&&up(w.stateNode);break}case 27:if(Vi){Sr||Ca(w,g);var D=an,F=Bn;an=w.stateNode,Is(m,g,w),cf(w.stateNode),an=D,Bn=F;break}case 5:Sr||Ca(w,g);case 6:if(ss){if(D=an,F=Bn,an=null,Is(m,g,w),an=D,Bn=F,an!==null)if(Bn)try{eT(an,w.stateNode)}catch($){wi(w,g,$)}else try{Vb(an,w.stateNode)}catch($){wi(w,g,$)}}else Is(m,g,w);break;case 18:ss&&an!==null&&(Bn?sg(an,w.stateNode):mT(an,w.stateNode));break;case 4:ss?(D=an,F=Bn,an=w.stateNode.containerInfo,Bn=!0,Is(m,g,w),an=D,Bn=F):(jo&&o0(w.stateNode,w,rg()),Is(m,g,w));break;case 0:case 11:case 14:case 15:Sr||Yc(2,w,g),Sr||Yc(4,w,g),Is(m,g,w);break;case 1:Sr||(Ca(w,g),D=w.stateNode,typeof D.componentWillUnmount=="function"&&Ma(w,g,D)),Is(m,g,w);break;case 21:Is(m,g,w);break;case 22:Sr||Ca(w,g),Sr=(D=Sr)||w.memoizedState!==null,Is(m,g,w),Sr=D;break;default:Is(m,g,w)}}function u0(m,g){if(Ns&&g.memoizedState===null&&(m=g.alternate,m!==null&&(m=m.memoizedState,m!==null&&(m=m.dehydrated,m!==null))))try{mO(m)}catch(w){wi(g,g.return,w)}}function UE(m){switch(m.tag){case 13:case 19:var g=m.stateNode;return g===null&&(g=m.stateNode=new Ai),g;case 22:return m=m.stateNode,g=m._retryCache,g===null&&(g=m._retryCache=new Ai),g;default:throw Error(s(435,m.tag))}}function Yu(m,g){var w=UE(m);g.forEach(function(D){var F=rf.bind(null,m,D);w.has(D)||(w.add(D),D.then(F,F))})}function sa(m,g){var w=g.deletions;if(w!==null)for(var D=0;D<w.length;D++){var F=w[D],$=m,ot=g;if(ss){var bt=ot;t:for(;bt!==null;){switch(bt.tag){case 27:case 5:an=bt.stateNode,Bn=!1;break t;case 3:an=bt.stateNode.containerInfo,Bn=!0;break t;case 4:an=bt.stateNode.containerInfo,Bn=!0;break t}bt=bt.return}if(an===null)throw Error(s(160));Kc($,ot,F),an=null,Bn=!1}else Kc($,ot,F);$=F.alternate,$!==null&&($.return=null),F.return=null}if(g.subtreeFlags&13878)for(g=g.child;g!==null;)_b(g,m),g=g.sibling}function _b(m,g){var w=m.alternate,D=m.flags;switch(m.tag){case 0:case 11:case 14:case 15:sa(g,m),Ra(m),D&4&&(Yc(3,m,m.return),Fm(3,m),Yc(5,m,m.return));break;case 1:sa(g,m),Ra(m),D&512&&(Sr||w===null||Ca(w,w.return)),D&64&&mu&&(m=m.updateQueue,m!==null&&(D=m.callbacks,D!==null&&(w=m.shared.hiddenCallbacks,m.shared.hiddenCallbacks=w===null?D:w.concat(D))));break;case 26:if(so){var F=mr;sa(g,m),Ra(m),D&512&&(Sr||w===null||Ca(w,w.return)),D&4&&(D=w!==null?w.memoizedState:null,g=m.memoizedState,w===null?g===null?m.stateNode===null?m.stateNode=og(F,m.type,m.memoizedProps,m):lg(F,m.type,m.stateNode):m.stateNode=yT(F,g,m.memoizedProps):D!==g?(D===null?w.stateNode!==null&&up(w.stateNode):Sh(D),g===null?lg(F,m.type,m.stateNode):yT(F,g,m.memoizedProps)):g===null&&m.stateNode!==null&&mb(m,m.memoizedProps,w.memoizedProps));break}case 27:if(Vi&&D&4&&m.alternate===null){F=m.stateNode;var $=m.memoizedProps;try{uf(F),xT(m.type,$,F,m)}catch(be){wi(m,m.return,be)}}case 5:if(sa(g,m),Ra(m),D&512&&(Sr||w===null||Ca(w,w.return)),ss){if(m.flags&32){g=m.stateNode;try{Hb(g)}catch(be){wi(m,m.return,be)}}D&4&&m.stateNode!=null&&(g=m.memoizedProps,mb(m,g,w!==null?w.memoizedProps:g)),D&1024&&(tx=!0)}break;case 6:if(sa(g,m),Ra(m),D&4&&ss){if(m.stateNode===null)throw Error(s(162));D=m.memoizedProps,w=w!==null?w.memoizedProps:D,g=m.stateNode;try{ZE(g,w,D)}catch(be){wi(m,m.return,be)}}break;case 3:if(so?(vT(),F=mr,mr=P0(g.containerInfo),sa(g,m),mr=F):sa(g,m),Ra(m),D&4){if(ss&&Ns&&w!==null&&w.memoizedState.isDehydrated)try{pO(g.containerInfo)}catch(be){wi(m,m.return,be)}if(jo){D=g.containerInfo,w=g.pendingChildren;try{lp(D,w)}catch(be){wi(m,m.return,be)}}}tx&&(tx=!1,kE(m));break;case 4:so?(w=mr,mr=P0(m.stateNode.containerInfo),sa(g,m),Ra(m),mr=w):(sa(g,m),Ra(m)),D&4&&jo&&o0(m.stateNode,m,m.stateNode.pendingChildren);break;case 12:sa(g,m),Ra(m);break;case 13:sa(g,m),Ra(m),m.child.flags&8192&&m.memoizedState!==null!=(w!==null&&w.memoizedState!==null)&&(fa=Go()),D&4&&(D=m.updateQueue,D!==null&&(m.updateQueue=null,Yu(m,D)));break;case 22:D&512&&(Sr||w===null||Ca(w,w.return)),F=m.memoizedState!==null;var ot=w!==null&&w.memoizedState!==null,bt=mu,Nt=Sr;if(mu=bt||F,Sr=Nt||ot,sa(g,m),Sr=Nt,mu=bt,Ra(m),g=m.stateNode,g._current=m,g._visibility&=-3,g._visibility|=g._pendingVisibility&2,D&8192&&(g._visibility=F?g._visibility&-2:g._visibility|1,F&&(g=mu||Sr,w===null||ot||g||Wd(m)),ss&&(m.memoizedProps===null||m.memoizedProps.mode!=="manual"))){t:if(w=null,ss)for(g=m;;){if(g.tag===5||so&&g.tag===26||Vi&&g.tag===27){if(w===null){ot=w=g;try{$=ot.stateNode,F?nT($):rT(ot.stateNode,ot.memoizedProps)}catch(be){wi(ot,ot.return,be)}}}else if(g.tag===6){if(w===null){ot=g;try{var ae=ot.stateNode;F?iT(ae):hO(ae,ot.memoizedProps)}catch(be){wi(ot,ot.return,be)}}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===m)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===m)break t;for(;g.sibling===null;){if(g.return===null||g.return===m)break t;w===g&&(w=null),g=g.return}w===g&&(w=null),g.sibling.return=g.return,g=g.sibling}}D&4&&(D=m.updateQueue,D!==null&&(w=D.retryQueue,w!==null&&(D.retryQueue=null,Yu(m,w))));break;case 19:sa(g,m),Ra(m),D&4&&(D=m.updateQueue,D!==null&&(m.updateQueue=null,Yu(m,D)));break;case 21:break;default:sa(g,m),Ra(m)}}function Ra(m){var g=m.flags;if(g&2){try{if(ss&&(!Vi||m.tag!==27)){t:{for(var w=m.return;w!==null;){if(gb(w)){var D=w;break t}w=w.return}throw Error(s(160))}switch(D.tag){case 27:if(Vi){var F=D.stateNode,$=Vm(m);Xu(m,$,F);break}case 5:var ot=D.stateNode;D.flags&32&&(Hb(ot),D.flags&=-33);var bt=Vm(m);Xu(m,bt,ot);break;case 3:case 4:var Nt=D.stateNode.containerInfo,ae=Vm(m);yb(m,ae,Nt);break;default:throw Error(s(161))}}}catch(be){wi(m,m.return,be)}m.flags&=-3}g&4096&&(m.flags&=-4097)}function kE(m){if(m.subtreeFlags&1024)for(m=m.child;m!==null;){var g=m;kE(g),g.tag===5&&g.flags&1024&&w0(g.stateNode),m=m.sibling}}function Ku(m,g){if(g.subtreeFlags&8772)for(g=g.child;g!==null;)l0(m,g.alternate,g),g=g.sibling}function Wd(m){for(m=m.child;m!==null;){var g=m;switch(g.tag){case 0:case 11:case 14:case 15:Yc(4,g,g.return),Wd(g);break;case 1:Ca(g,g.return);var w=g.stateNode;typeof w.componentWillUnmount=="function"&&Ma(g,g.return,w),Wd(g);break;case 26:case 27:case 5:Ca(g,g.return),Wd(g);break;case 22:Ca(g,g.return),g.memoizedState===null&&Wd(g);break;default:Wd(g)}m=m.sibling}}function Zu(m,g,w){for(w=w&&(g.subtreeFlags&8772)!==0,g=g.child;g!==null;){var D=g.alternate,F=m,$=g,ot=$.flags;switch($.tag){case 0:case 11:case 15:Zu(F,$,w),Fm(4,$);break;case 1:if(Zu(F,$,w),D=$,F=D.stateNode,typeof F.componentDidMount=="function")try{F.componentDidMount()}catch(ae){wi(D,D.return,ae)}if(D=$,F=D.updateQueue,F!==null){var bt=D.stateNode;try{var Nt=F.shared.hiddenCallbacks;if(Nt!==null)for(F.shared.hiddenCallbacks=null,F=0;F<Nt.length;F++)Tt(Nt[F],bt)}catch(ae){wi(D,D.return,ae)}}w&&ot&64&&LE($),Tl($,$.return);break;case 26:case 27:case 5:Zu(F,$,w),w&&D===null&&ot&4&&pb($),Tl($,$.return);break;case 12:Zu(F,$,w);break;case 13:Zu(F,$,w),w&&ot&4&&u0(F,$);break;case 22:$.memoizedState===null&&Zu(F,$,w),Tl($,$.return);break;default:Zu(F,$,w)}g=g.sibling}}function c0(m,g){var w=null;m!==null&&m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(w=m.memoizedState.cachePool.pool),m=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(m=g.memoizedState.cachePool.pool),m!==w&&(m!=null&&m.refCount++,w!=null&&dr(w))}function jm(m,g){m=null,g.alternate!==null&&(m=g.alternate.memoizedState.cache),g=g.memoizedState.cache,g!==m&&(g.refCount++,m!=null&&dr(m))}function _s(m,g,w,D){if(g.subtreeFlags&10256)for(g=g.child;g!==null;)bb(m,g,w,D),g=g.sibling}function bb(m,g,w,D){var F=g.flags;switch(g.tag){case 0:case 11:case 15:_s(m,g,w,D),F&2048&&Fm(9,g);break;case 3:_s(m,g,w,D),F&2048&&(m=null,g.alternate!==null&&(m=g.alternate.memoizedState.cache),g=g.memoizedState.cache,g!==m&&(g.refCount++,m!=null&&dr(m)));break;case 12:if(F&2048){_s(m,g,w,D),m=g.stateNode;try{var $=g.memoizedProps,ot=$.id,bt=$.onPostCommit;typeof bt=="function"&&bt(ot,g.alternate===null?"mount":"update",m.passiveEffectDuration,-0)}catch(Nt){wi(g,g.return,Nt)}}else _s(m,g,w,D);break;case 23:break;case 22:$=g.stateNode,g.memoizedState!==null?$._visibility&4?_s(m,g,w,D):qs(m,g):$._visibility&4?_s(m,g,w,D):($._visibility|=4,Ps(m,g,w,D,(g.subtreeFlags&10256)!==0)),F&2048&&c0(g.alternate,g);break;case 24:_s(m,g,w,D),F&2048&&jm(g.alternate,g);break;default:_s(m,g,w,D)}}function Ps(m,g,w,D,F){for(F=F&&(g.subtreeFlags&10256)!==0,g=g.child;g!==null;){var $=m,ot=g,bt=w,Nt=D,ae=ot.flags;switch(ot.tag){case 0:case 11:case 15:Ps($,ot,bt,Nt,F),Fm(8,ot);break;case 23:break;case 22:var be=ot.stateNode;ot.memoizedState!==null?be._visibility&4?Ps($,ot,bt,Nt,F):qs($,ot):(be._visibility|=4,Ps($,ot,bt,Nt,F)),F&&ae&2048&&c0(ot.alternate,ot);break;case 24:Ps($,ot,bt,Nt,F),F&&ae&2048&&jm(ot.alternate,ot);break;default:Ps($,ot,bt,Nt,F)}g=g.sibling}}function qs(m,g){if(g.subtreeFlags&10256)for(g=g.child;g!==null;){var w=m,D=g,F=D.flags;switch(D.tag){case 22:qs(w,D),F&2048&&c0(D.alternate,D);break;case 24:qs(w,D),F&2048&&jm(D.alternate,D);break;default:qs(w,D)}g=g.sibling}}function zo(m){if(m.subtreeFlags&ho)for(m=m.child;m!==null;)f0(m),m=m.sibling}function f0(m){switch(m.tag){case 26:zo(m),m.flags&ho&&(m.memoizedState!==null?bT(mr,m.memoizedState,m.memoizedProps):la(m.type,m.memoizedProps));break;case 5:zo(m),m.flags&ho&&la(m.type,m.memoizedProps);break;case 3:case 4:if(so){var g=mr;mr=P0(m.stateNode.containerInfo),zo(m),mr=g}else zo(m);break;case 22:m.memoizedState===null&&(g=m.alternate,g!==null&&g.memoizedState!==null?(g=ho,ho=16777216,zo(m),ho=g):zo(m));break;default:zo(m)}}function Gm(m){var g=m.alternate;if(g!==null&&(m=g.child,m!==null)){g.child=null;do g=m.sibling,m.sibling=null,m=g;while(m!==null)}}function Zc(m){var g=m.deletions;if((m.flags&16)!==0){if(g!==null)for(var w=0;w<g.length;w++){var D=g[w];On=D,xb(D,m)}Gm(m)}if(m.subtreeFlags&10256)for(m=m.child;m!==null;)h0(m),m=m.sibling}function h0(m){switch(m.tag){case 0:case 11:case 15:Zc(m),m.flags&2048&&Yc(9,m,m.return);break;case 3:Zc(m);break;case 12:Zc(m);break;case 22:var g=m.stateNode;m.memoizedState!==null&&g._visibility&4&&(m.return===null||m.return.tag!==13)?(g._visibility&=-5,Qu(m)):Zc(m);break;default:Zc(m)}}function Qu(m){var g=m.deletions;if((m.flags&16)!==0){if(g!==null)for(var w=0;w<g.length;w++){var D=g[w];On=D,xb(D,m)}Gm(m)}for(m=m.child;m!==null;){switch(g=m,g.tag){case 0:case 11:case 15:Yc(8,g,g.return),Qu(g);break;case 22:w=g.stateNode,w._visibility&4&&(w._visibility&=-5,Qu(g));break;default:Qu(g)}m=m.sibling}}function xb(m,g){for(;On!==null;){var w=On;switch(w.tag){case 0:case 11:case 15:Yc(8,w,g);break;case 23:case 22:if(w.memoizedState!==null&&w.memoizedState.cachePool!==null){var D=w.memoizedState.cachePool.pool;D!=null&&D.refCount++}break;case 24:dr(w.memoizedState.cache)}if(D=w.child,D!==null)D.return=w,On=D;else t:for(w=m;On!==null;){D=On;var F=D.sibling,$=D.return;if(vb(D),D===w){On=null;break t}if(F!==null){F.return=$,On=F;break t}On=$}}}function Xd(m){var g=jE(m);if(g!=null){if(typeof g.memoizedProps["data-testname"]!="string")throw Error(s(364));return g}if(m=zb(m),m===null)throw Error(s(362));return m.stateNode.current}function Qc(m,g){var w=m.tag;switch(g.$$typeof){case vp:if(m.type===g.value)return!0;break;case Xo:t:{for(g=g.value,m=[m,0],w=0;w<m.length;){var D=m[w++],F=D.tag,$=m[w++],ot=g[$];if(F!==5&&F!==26&&F!==27||!ap(D)){for(;ot!=null&&Qc(D,ot);)$++,ot=g[$];if($===g.length){g=!0;break t}else for(D=D.child;D!==null;)m.push(D,$),D=D.sibling}}g=!1}return g;case tr:if((w===5||w===26||w===27)&&WE(m.stateNode,g.value))return!0;break;case gu:if((w===5||w===6||w===26||w===27)&&(m=$E(m),m!==null&&0<=m.indexOf(g.value)))return!0;break;case Nl:if((w===5||w===26||w===27)&&(m=m.memoizedProps["data-testname"],typeof m=="string"&&m.toLowerCase()===g.value.toLowerCase()))return!0;break;default:throw Error(s(365))}return!1}function Sb(m){switch(m.$$typeof){case vp:return"<"+(o(m.value)||"Unknown")+">";case Xo:return":has("+(Sb(m)||"")+")";case tr:return'[role="'+m.value+'"]';case gu:return'"'+m.value+'"';case Nl:return'[data-testname="'+m.value+'"]';default:throw Error(s(365))}}function Oa(m,g){var w=[];m=[m,0];for(var D=0;D<m.length;){var F=m[D++],$=F.tag,ot=m[D++],bt=g[ot];if($!==5&&$!==26&&$!==27||!ap(F)){for(;bt!=null&&Qc(F,bt);)ot++,bt=g[ot];if(ot===g.length)w.push(F);else for(F=F.child;F!==null;)m.push(F,ot),F=F.sibling}}return w}function qm(m,g){if(!lf)throw Error(s(363));m=Xd(m),m=Oa(m,g),g=[],m=Array.from(m);for(var w=0;w<m.length;){var D=m[w++],F=D.tag;if(F===5||F===26||F===27)ap(D)||g.push(D.stateNode);else for(D=D.child;D!==null;)m.push(D),D=D.sibling}return g}function Pr(){if((pi&2)!==0&&ri!==0)return ri&-ri;if(vn.T!==null){var m=lo;return m!==0?m:Ct()}return GE()}function Eb(){go===0&&(go=(ri&536870912)===0||li?L():536870912);var m=uo.current;return m!==null&&(m.flags|=32),go}function bs(m,g,w){(m===Mi&&Li===2||m.cancelPendingCommit!==null)&&(Ds(m,0),Ia(m,ri,go,!1)),B(m,w),((pi&2)===0||m!==Mi)&&(m===Mi&&((pi&2)===0&&(hc|=w),Gi===4&&Ia(m,ri,go,!1)),le(m))}function Jc(m,g,w){if((pi&6)!==0)throw Error(s(327));var D=!w&&(g&60)===0&&(g&m.expiredLanes)===0||k(m,g),F=D?wb(m,g):p0(m,g,!0),$=D;do{if(F===0){po&&!D&&Ia(m,g,0,!1);break}else if(F===6)Ia(m,g,0,!Ko);else{if(w=m.current.alternate,$&&!Yd(w)){F=p0(m,g,!1),$=!1;continue}if(F===2){if($=g,m.errorRecoveryDisabledLanes&$)var ot=0;else ot=m.pendingLanes&-536870913,ot=ot!==0?ot:ot&536870912?536870912:0;if(ot!==0){g=ot;t:{var bt=m;F=kh;var Nt=Ns&&bt.current.memoizedState.isDehydrated;if(Nt&&(Ds(bt,ot).flags|=256),ot=p0(bt,ot,!1),ot!==2){if(ls&&!Nt){bt.errorRecoveryDisabledLanes|=$,hc|=$,F=4;break t}$=Er,Er=F,$!==null&&$m($)}F=ot}if($=!1,F!==2)continue}}if(F===1){Ds(m,0),Ia(m,g,0,!0);break}t:{switch(D=m,F){case 0:case 1:throw Error(s(345));case 4:if((g&4194176)===g){Ia(D,g,go,!Ko);break t}break;case 2:Er=null;break;case 3:case 5:break;default:throw Error(s(329))}if(D.finishedWork=w,D.finishedLanes=g,(g&62914560)===g&&($=fa+300-Go(),10<$)){if(Ia(D,g,go,!Ko),I(D,0)!==0)break t;D.timeoutHandle=Yr(d0.bind(null,D,w,Er,mg,j0,g,go,hc,yu,Ko,2,-0,0),$);break t}d0(D,w,Er,mg,j0,g,go,hc,yu,Ko,0,-0,0)}}break}while(!0);le(m)}function $m(m){Er===null?Er=m:Er.push.apply(Er,m)}function d0(m,g,w,D,F,$,ot,bt,Nt,ae,be,Le,Be){var In=g.subtreeFlags;if((In&8192||(In&16785408)===16785408)&&(Ub(),f0(g),g=Kr(),g!==null)){m.cancelPendingCommit=g(ef.bind(null,m,w,D,F,ot,bt,Nt,1,Le,Be)),Ia(m,$,ot,!ae);return}ef(m,w,D,F,ot,bt,Nt,be,Le,Be)}function Yd(m){for(var g=m;;){var w=g.tag;if((w===0||w===11||w===15)&&g.flags&16384&&(w=g.updateQueue,w!==null&&(w=w.stores,w!==null)))for(var D=0;D<w.length;D++){var F=w[D],$=F.getSnapshot;F=F.value;try{if(!Da($(),F))return!1}catch{return!1}}if(w=g.child,g.subtreeFlags&16384&&w!==null)w.return=g,g=w;else{if(g===m)break;for(;g.sibling===null;){if(g.return===null||g.return===m)return!0;g=g.return}g.sibling.return=g.return,g=g.sibling}}return!0}function Ia(m,g,w,D){g&=~pg,g&=~hc,m.suspendedLanes|=g,m.pingedLanes&=~g,D&&(m.warmLanes|=g),D=m.expirationTimes;for(var F=g;0<F;){var $=31-ua(F),ot=1<<$;D[$]=-1,F&=~ot}w!==0&&V(m,w,g)}function Wm(){return(pi&6)===0?(lt(0),!1):!0}function Kd(){if(fn!==null){if(Li===0)var m=fn.return;else m=fn,fo=Dl=null,ra(m),pf=null,mf=0,m=fn;for(;m!==null;)NE(m.alternate,m),m=m.return;fn=null}}function Ds(m,g){m.finishedWork=null,m.finishedLanes=0;var w=m.timeoutHandle;w!==af&&(m.timeoutHandle=af,E0(w)),w=m.cancelPendingCommit,w!==null&&(m.cancelPendingCommit=null,w()),Kd(),Mi=m,fn=w=Fo(m.current,null),ri=g,Li=0,Ws=null,Ko=!1,po=k(m,g),ls=!1,yu=go=pg=hc=mo=Gi=0,Er=kh=null,j0=!1,(g&8)!==0&&(g|=g&32);var D=m.entangledLanes;if(D!==0)for(m=m.entanglements,D&=g;0<D;){var F=31-ua(D),$=1<<F;g|=m[F],D&=~$}return Xs=g,at(),w}function no(m,g){Hn=null,vn.H=xr,g===pp?(g=on(),Li=3):g===hg?(g=on(),Li=4):Li=g===V0?8:g!==null&&typeof g=="object"&&typeof g.then=="function"?6:1,Ws=g,fn===null&&(Gi=1,qu(m,nt(g,m.current)))}function tf(){var m=uo.current;return m===null?!0:(ri&4194176)===ri?Hi===null:(ri&62914560)===ri||(ri&536870912)!==0?m===Hi:!1}function ru(){var m=vn.H;return vn.H=xr,m===null?xr:m}function su(){var m=vn.A;return vn.A=yp,m}function Ju(){Gi=4,Ko||(ri&4194176)!==ri&&uo.current!==null||(po=!0),(mo&134217727)===0&&(hc&134217727)===0||Mi===null||Ia(Mi,ri,go,!1)}function p0(m,g,w){var D=pi;pi|=2;var F=ru(),$=su();(Mi!==m||ri!==g)&&(mg=null,Ds(m,g)),g=!1;var ot=Gi;t:do try{if(Li!==0&&fn!==null){var bt=fn,Nt=Ws;switch(Li){case 8:Kd(),ot=6;break t;case 3:case 2:case 6:uo.current===null&&(g=!0);var ae=Li;if(Li=0,Ws=null,Bo(m,bt,Nt,ae),w&&po){ot=0;break t}break;default:ae=Li,Li=0,Ws=null,Bo(m,bt,Nt,ae)}}Tb(),ot=Gi;break}catch(be){no(m,be)}while(!0);return g&&m.shellSuspendCounter++,fo=Dl=null,pi=D,vn.H=F,vn.A=$,fn===null&&(Mi=null,ri=0,at()),ot}function Tb(){for(;fn!==null;)pr(fn)}function wb(m,g){var w=pi;pi|=2;var D=ru(),F=su();Mi!==m||ri!==g?(mg=null,_p=Go()+500,Ds(m,g)):po=k(m,g);t:do try{if(Li!==0&&fn!==null){g=fn;var $=Ws;e:switch(Li){case 1:Li=0,Ws=null,Bo(m,g,$,1);break;case 2:if(se($)){Li=0,Ws=null,vi(g);break}g=function(){Li===2&&Mi===m&&(Li=7),le(m)},$.then(g,g);break t;case 3:Li=7;break t;case 4:Li=5;break t;case 7:se($)?(Li=0,Ws=null,vi(g)):(Li=0,Ws=null,Bo(m,g,$,7));break;case 5:var ot=null;switch(fn.tag){case 26:ot=fn.memoizedState;case 5:case 27:var bt=fn,Nt=bt.type,ae=bt.pendingProps;if(ot?Eh(ot):T0(Nt,ae)){Li=0,Ws=null;var be=bt.sibling;if(be!==null)fn=be;else{var Le=bt.return;Le!==null?(fn=Le,io(Le)):fn=null}break e}}Li=0,Ws=null,Bo(m,g,$,5);break;case 6:Li=0,Ws=null,Bo(m,g,$,6);break;case 8:Kd(),Gi=6;break t;default:throw Error(s(462))}}aa();break}catch(Be){no(m,Be)}while(!0);return fo=Dl=null,vn.H=D,vn.A=F,pi=w,fn!==null?0:(Mi=null,ri=0,at(),Gi)}function aa(){for(;fn!==null&&!TT();)pr(fn)}function pr(m){var g=Gs(m.alternate,m,Xs);m.memoizedProps=m.pendingProps,g===null?io(m):fn=g}function vi(m){var g=m,w=g.alternate;switch(g.tag){case 15:case 0:g=Wc(w,g,g.pendingProps,g.type,void 0,ri);break;case 11:g=Wc(w,g,g.pendingProps,g.type.render,g.ref,ri);break;case 5:ra(g);default:NE(w,g),g=fn=Ym(g,Xs),g=Gs(w,g,Xs)}m.memoizedProps=m.pendingProps,g===null?io(m):fn=g}function Bo(m,g,w,D){fo=Dl=null,ra(g),pf=null,mf=0;var F=g.return;try{if(db(m,F,g,w,ri)){Gi=1,qu(m,nt(w,m.current)),fn=null;return}}catch($){if(F!==null)throw fn=F,$;Gi=1,qu(m,nt(w,m.current)),fn=null;return}g.flags&32768?(li||D===1?m=!0:po||(ri&536870912)!==0?m=!1:(Ko=m=!0,(D===2||D===3||D===6)&&(D=uo.current,D!==null&&D.tag===13&&(D.flags|=16384))),m0(g,m)):io(g)}function io(m){var g=m;do{if((g.flags&32768)!==0){m0(g,Ko);return}m=g.return;var w=DE(g.alternate,g,Xs);if(w!==null){fn=w;return}if(g=g.sibling,g!==null){fn=g;return}fn=g=m}while(g!==null);Gi===0&&(Gi=5)}function m0(m,g){do{var w=oO(m.alternate,m);if(w!==null){w.flags&=32767,fn=w;return}if(w=m.return,w!==null&&(w.flags|=32768,w.subtreeFlags=0,w.deletions=null),!g&&(m=m.sibling,m!==null)){fn=m;return}fn=m=w}while(m!==null);Gi=6,fn=null}function ef(m,g,w,D,F,$,ot,bt,Nt,ae){var be=vn.T,Le=sc();try{$s(2),vn.T=null,zE(m,g,w,D,Le,F,$,ot,bt,Nt,ae)}finally{vn.T=be,$s(Le)}}function zE(m,g,w,D,F,$,ot,bt){do wl();while(vu!==null);if((pi&6)!==0)throw Error(s(327));var Nt=m.finishedWork;if(D=m.finishedLanes,Nt===null)return null;if(m.finishedWork=null,m.finishedLanes=0,Nt===m.current)throw Error(s(177));m.callbackNode=null,m.callbackPriority=0,m.cancelPendingCommit=null;var ae=Nt.lanes|Nt.childLanes;if(ae|=Il,H(m,D,ae,$,ot,bt),m===Mi&&(fn=Mi=null,ri=0),(Nt.subtreeFlags&10256)===0&&(Nt.flags&10256)===0||Ll||(Ll=!0,bf=ae,G0=w,ec(k0,function(){return wl(),null})),w=(Nt.flags&15990)!==0,(Nt.subtreeFlags&15990)!==0||w?(w=vn.T,vn.T=null,$=sc(),$s(2),ot=pi,pi|=4,Hm(m,Nt),_b(Nt,m),HE(m.containerInfo),m.current=Nt,l0(m,Nt.alternate,Nt),L0(),pi=ot,$s($),vn.T=w):m.current=Nt,Ll?(Ll=!1,vu=m,zh=D):Ab(m,ae),ae=m.pendingLanes,ae===0&&(_f=null),q(Nt.stateNode),le(m),g!==null)for(F=m.onRecoverableError,Nt=0;Nt<g.length;Nt++)ae=g[Nt],F(ae.value,{componentStack:ae.stack});return(zh&3)!==0&&wl(),ae=m.pendingLanes,(D&4194218)!==0&&(ae&42)!==0?m===q0?bp++:(bp=0,q0=m):bp=0,lt(0),null}function Ab(m,g){(m.pooledCacheLanes&=g)===0&&(g=m.pooledCache,g!=null&&(m.pooledCache=null,dr(g)))}function wl(){if(vu!==null){var m=vu,g=bf;bf=0;var w=et(zh),D=32>w?32:w;w=vn.T;var F=sc();try{if($s(D),vn.T=null,vu===null)var $=!1;else{D=G0,G0=null;var ot=vu,bt=zh;if(vu=null,zh=0,(pi&6)!==0)throw Error(s(331));var Nt=pi;if(pi|=4,h0(ot.current),bb(ot,ot.current,bt,D),pi=Nt,lt(0,!1),Pa&&typeof Pa.onPostCommitFiberRoot=="function")try{Pa.onPostCommitFiberRoot(Lr,ot)}catch{}$=!0}return $}finally{$s(F),vn.T=w,Ab(m,g)}}return!1}function Zd(m,g,w){g=nt(w,g),g=$u(m.stateNode,g,2),m=Oe(m,g,2),m!==null&&(B(m,2),le(m))}function wi(m,g,w){if(m.tag===3)Zd(m,m,w);else for(;g!==null;){if(g.tag===3){Zd(g,m,w);break}else if(g.tag===1){var D=g.stateNode;if(typeof g.type.getDerivedStateFromError=="function"||typeof D.componentDidCatch=="function"&&(_f===null||!_f.has(D))){m=nt(w,m),w=eo(2),D=Oe(g,w,2),D!==null&&(Dm(w,D,g,m),B(D,2),le(D));break}}g=g.return}}function bh(m,g,w){var D=m.pingCache;if(D===null){D=m.pingCache=new Yo;var F=new Set;D.set(g,F)}else F=D.get(g),F===void 0&&(F=new Set,D.set(g,F));F.has(w)||(ls=!0,F.add(w),m=Mb.bind(null,m,g,w),g.then(m,m))}function Mb(m,g,w){var D=m.pingCache;D!==null&&D.delete(g),m.pingedLanes|=m.suspendedLanes&w,m.warmLanes&=~w,Mi===m&&(ri&w)===w&&(Gi===4||Gi===3&&(ri&62914560)===ri&&300>Go()-fa?(pi&2)===0&&Ds(m,0):pg|=w,yu===ri&&(yu=0)),le(m)}function nf(m,g){g===0&&(g=U()),m=ne(m,g),m!==null&&(B(m,g),le(m))}function tc(m){var g=m.memoizedState,w=0;g!==null&&(w=g.retryLane),nf(m,w)}function rf(m,g){var w=0;switch(m.tag){case 13:var D=m.stateNode,F=m.memoizedState;F!==null&&(w=F.retryLane);break;case 19:D=m.stateNode;break;case 22:D=m.stateNode._retryCache;break;default:throw Error(s(314))}D!==null&&D.delete(g),nf(m,w)}function ec(m,g){return ug(m,g)}function Cb(m,g,w,D){this.tag=m,this.key=w,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=g,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=D,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xm(m){return m=m.prototype,!(!m||!m.isReactComponent)}function Fo(m,g){var w=m.alternate;return w===null?(w=n(m.tag,g,m.key,m.mode),w.elementType=m.elementType,w.type=m.type,w.stateNode=m.stateNode,w.alternate=m,m.alternate=w):(w.pendingProps=g,w.type=m.type,w.flags=0,w.subtreeFlags=0,w.deletions=null),w.flags=m.flags&31457280,w.childLanes=m.childLanes,w.lanes=m.lanes,w.child=m.child,w.memoizedProps=m.memoizedProps,w.memoizedState=m.memoizedState,w.updateQueue=m.updateQueue,g=m.dependencies,w.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext},w.sibling=m.sibling,w.index=m.index,w.ref=m.ref,w.refCleanup=m.refCleanup,w}function Ym(m,g){m.flags&=31457282;var w=m.alternate;return w===null?(m.childLanes=0,m.lanes=g,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=w.childLanes,m.lanes=w.lanes,m.child=w.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=w.memoizedProps,m.memoizedState=w.memoizedState,m.updateQueue=w.updateQueue,m.type=w.type,g=w.dependencies,m.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext}),m}function au(m,g,w,D,F,$){var ot=0;if(D=m,typeof m=="function")Xm(m)&&(ot=1);else if(typeof m=="string")ot=so&&Vi?ag(m,w,as.current)?26:lu(m)?27:5:so?ag(m,w,as.current)?26:5:Vi&&lu(m)?27:5;else t:switch(m){case sf:return br(w.children,F,$,g);case Jm:ot=8,F|=24;break;case _0:return m=n(12,w,g,F|2),m.elementType=_0,m.lanes=$,m;case b0:return m=n(13,w,g,F),m.elementType=b0,m.lanes=$,m;case ep:return m=n(19,w,g,F),m.elementType=ep,m.lanes=$,m;case Ib:return Km(w,F,$,g);default:if(typeof m=="object"&&m!==null)switch(m.$$typeof){case tg:case Al:ot=10;break t;case Ob:ot=9;break t;case eg:ot=11;break t;case x0:ot=14;break t;case Ho:ot=16,D=null;break t}ot=29,w=Error(s(130,m===null?"null":typeof m,"")),D=null}return g=n(ot,w,g,F),g.elementType=m,g.type=D,g.lanes=$,g}function br(m,g,w,D){return m=n(7,m,D,g),m.lanes=w,m}function Km(m,g,w,D){m=n(22,m,D,g),m.elementType=Ib,m.lanes=w;var F={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var $=F._current;if($===null)throw Error(s(456));if((F._pendingVisibility&2)===0){var ot=ne($,2);ot!==null&&(F._pendingVisibility|=2,bs(ot,$,2))}},attach:function(){var $=F._current;if($===null)throw Error(s(456));if((F._pendingVisibility&2)!==0){var ot=ne($,2);ot!==null&&(F._pendingVisibility&=-3,bs(ot,$,2))}}};return m.stateNode=F,m}function g0(m,g,w){return m=n(6,m,null,g),m.lanes=w,m}function Rb(m,g,w){return g=n(4,m.children!==null?m.children:[],m.key,g),g.lanes=w,g.stateNode={containerInfo:m.containerInfo,pendingChildren:null,implementation:m.implementation},g}function lO(m,g,w,D,F,$,ot,bt){this.tag=1,this.containerInfo=m,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=af,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=O(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=O(0),this.hiddenUpdates=O(null),this.identifierPrefix=D,this.onUncaughtError=F,this.onCaughtError=$,this.onRecoverableError=ot,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=bt,this.incompleteTransitions=new Map}function BE(m,g,w,D,F,$,ot,bt,Nt,ae,be,Le){return m=new lO(m,g,w,ot,bt,Nt,ae,Le),g=1,$===!0&&(g|=24),$=n(3,null,null,g),m.current=$,$.stateNode=m,g=ni(),g.refCount++,m.pooledCache=g,g.refCount++,$.memoizedState={element:D,isDehydrated:w,cache:g},Ht($),m}function Xr(m){return m?(m=ff,m):ff}function y0(m){var g=m._reactInternals;if(g===void 0)throw typeof m.render=="function"?Error(s(188)):(m=Object.keys(m).join(","),Error(s(268,m)));return m=_(g),m=m!==null?x(m):null,m===null?null:rp(m.stateNode)}function Qd(m,g,w,D,F,$){F=Xr(F),D.context===null?D.context=F:D.pendingContext=F,D=Re(g),D.payload={element:w},$=$===void 0?null:$,$!==null&&(D.callback=$),w=Oe(m,D,g),w!==null&&(bs(w,m,g),Zt(w,m,g))}function Jd(m,g){if(m=m.memoizedState,m!==null&&m.dehydrated!==null){var w=m.retryLane;m.retryLane=w!==0&&w<g?w:g}}function Zm(m,g){Jd(m,g),(m=m.alternate)&&Jd(m,g)}var Dn={},tp=q_(),ro=rj(),v0=Object.assign,uO=Symbol.for("react.element"),Qm=Symbol.for("react.transitional.element"),Vo=Symbol.for("react.portal"),sf=Symbol.for("react.fragment"),Jm=Symbol.for("react.strict_mode"),_0=Symbol.for("react.profiler"),tg=Symbol.for("react.provider"),Ob=Symbol.for("react.consumer"),Al=Symbol.for("react.context"),eg=Symbol.for("react.forward_ref"),b0=Symbol.for("react.suspense"),ep=Symbol.for("react.suspense_list"),x0=Symbol.for("react.memo"),Ho=Symbol.for("react.lazy"),Ib=Symbol.for("react.offscreen"),FE=Symbol.for("react.memo_cache_sentinel"),nc=Symbol.iterator,Pb=Symbol.for("react.client.reference"),vn=tp.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ou,ic,xh=!1,np=Array.isArray,Db=e.rendererVersion,ng=e.rendererPackageName,ip=e.extraDevToolsConfig,rp=e.getPublicInstance,VE=e.getRootHostContext,sp=e.getChildHostContext,S0=e.prepareForCommit,HE=e.resetAfterCommit,Nb=e.createInstance,ig=e.appendInitialChild,rc=e.finalizeInitialChildren,Nn=e.shouldSetTextContent,Ii=e.createTextInstance,Yr=e.scheduleTimeout,E0=e.cancelTimeout,af=e.noTimeout,oa=e.isPrimaryRenderer;e.warnsIfNotActing;var ss=e.supportsMutation,jo=e.supportsPersistence,Ns=e.supportsHydration,jE=e.getInstanceFromNode;e.beforeActiveInstanceBlur,e.afterActiveInstanceBlur;var Dr=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var $s=e.setCurrentUpdatePriority,sc=e.getCurrentUpdatePriority,GE=e.resolveUpdatePriority;e.resolveEventType,e.resolveEventTimeStamp;var qE=e.shouldAttemptEagerTransition,cO=e.detachDeletedInstance;e.requestPostPaintCallback;var Lb=e.maySuspendCommit,T0=e.preloadInstance,Ub=e.startSuspendingCommit,la=e.suspendInstance,Kr=e.waitForCommitToBeReady,of=e.NotPendingTransition,Ml=e.HostTransitionContext,w0=e.resetFormInstance;e.bindToConsole;var kb=e.supportsMicrotasks,ac=e.scheduleMicrotask,lf=e.supportsTestSelectors,zb=e.findFiberRoot,Bb=e.getBoundingRect,$E=e.getTextContent,ap=e.isHiddenSubtree,WE=e.matchAccessibilityRole,XE=e.setFocusIfFocusable,YE=e.setupIntersectionObserver,KE=e.appendChild,Fb=e.appendChildToContainer,ZE=e.commitTextUpdate,fO=e.commitMount,QE=e.commitUpdate,JE=e.insertBefore,tT=e.insertInContainerBefore,Vb=e.removeChild,eT=e.removeChildFromContainer,Hb=e.resetTextContent,nT=e.hideInstance,iT=e.hideTextInstance,rT=e.unhideInstance,hO=e.unhideTextInstance,sT=e.clearContainer,op=e.cloneInstance,rg=e.createContainerChildSet,jb=e.appendChildToContainerChildSet,A0=e.finalizeContainerChildren,lp=e.replaceContainerChildren,Gb=e.cloneHiddenInstance,qb=e.cloneHiddenTextInstance,M0=e.isSuspenseInstancePending,C0=e.isSuspenseInstanceFallback,aT=e.getSuspenseInstanceFallbackErrorDetails,oT=e.registerSuspenseInstanceRetry,$b=e.canHydrateFormStateMarker,lT=e.isFormStateMarkerMatching,Wb=e.getNextHydratableSibling,R0=e.getFirstHydratableChild,uT=e.getFirstHydratableChildWithinContainer,cT=e.getFirstHydratableChildWithinSuspenseInstance,dO=e.canHydrateInstance,Xb=e.canHydrateTextInstance,fT=e.canHydrateSuspenseInstance,hT=e.hydrateInstance,Yb=e.hydrateTextInstance,dT=e.hydrateSuspenseInstance,pT=e.getNextHydratableInstanceAfterSuspenseInstance,pO=e.commitHydratedContainer,mO=e.commitHydratedSuspenseInstance,mT=e.clearSuspenseBoundary,sg=e.clearSuspenseBoundaryFromContainer,O0=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var I0=e.validateHydratableInstance,gT=e.validateHydratableTextInstance,so=e.supportsResources,ag=e.isHostHoistableType,P0=e.getHoistableRoot,Kb=e.getResource,yT=e.acquireResource,Sh=e.releaseResource,og=e.hydrateHoistable,lg=e.mountHoistable,up=e.unmountHoistable,D0=e.createHoistableInstance,vT=e.prepareToCommitHoistables,_T=e.mayResourceSuspendCommit,Eh=e.preloadResource,bT=e.suspendResource,Vi=e.supportsSingletons,Cl=e.resolveSingletonInstance,uf=e.clearSingleton,xT=e.acquireSingletonInstance,cf=e.releaseSingletonInstance,lu=e.isHostSingletonType,Nr=[],oc=-1,ff={},ua=Math.clz32?Math.clz32:C,ST=Math.log,ET=Math.LN2,uu=128,Th=4194304,ug=ro.unstable_scheduleCallback,N0=ro.unstable_cancelCallback,TT=ro.unstable_shouldYield,L0=ro.unstable_requestPaint,Go=ro.unstable_now,U0=ro.unstable_ImmediatePriority,wT=ro.unstable_UserBlockingPriority,k0=ro.unstable_NormalPriority,gO=ro.unstable_IdlePriority,AT=ro.log,xs=ro.unstable_setDisableYieldValue,Lr=null,Pa=null,Da=typeof Object.is=="function"?Object.is:Z,Zb=new WeakMap,wh=[],Ah=0,Mh=null,cp=0,ao=[],oo=0,hf=null,Rl=1,Ol="",as=E(null),fp=E(null),cu=E(null),Ch=E(null),Ls=null,Us=null,li=!1,qo=null,Ss=!1,cg=Error(s(519)),$o=[],Rh=0,Il=0,fg=null,lc=null,Oh=!1,Wi=!1,Qb=!1,hp=0,dp=null,Ih=0,lo=0,Ph=null,uc=!1,Dh=!1,fu=Object.prototype.hasOwnProperty,pp=Error(s(460)),hg=Error(s(474)),dg={then:function(){}},df=null,pf=null,mf=0,gf=ye(!0),hu=ye(!1),Xi=E(null),mp=E(0),uo=E(null),Hi=null,os=E(0),cc=0,Hn=null,cn=null,di=null,Wo=!1,Nh=!1,yf=!1,z0=0,Lh=0,Es=null,Pl=0,B0=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},xr={readContext:Ot,use:jt,useCallback:fi,useContext:fi,useEffect:fi,useImperativeHandle:fi,useLayoutEffect:fi,useInsertionEffect:fi,useMemo:fi,useReducer:fi,useRef:fi,useState:fi,useDebugValue:fi,useDeferredValue:fi,useTransition:fi,useSyncExternalStore:fi,useId:fi};xr.useCacheRefresh=fi,xr.useMemoCache=fi,xr.useHostTransitionStatus=fi,xr.useFormState=fi,xr.useActionState=fi,xr.useOptimistic=fi;var vf={readContext:Ot,use:jt,useCallback:function(m,g){return rt().memoizedState=[m,g===void 0?null:g],m},useContext:Ot,useEffect:Ud,useImperativeHandle:function(m,g,w){w=w!=null?w.concat([m]):null,fh(4194308,4,eu.bind(null,g,m),w)},useLayoutEffect:function(m,g){return fh(4194308,4,m,g)},useInsertionEffect:function(m,g){fh(4,2,m,g)},useMemo:function(m,g){var w=rt();g=g===void 0?null:g;var D=m();if(yf){W(!0);try{m()}finally{W(!1)}}return w.memoizedState=[D,g],D},useReducer:function(m,g,w){var D=rt();if(w!==void 0){var F=w(g);if(yf){W(!0);try{w(g)}finally{W(!1)}}}else F=g;return D.memoizedState=D.baseState=F,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:m,lastRenderedState:F},D.queue=m,m=m.dispatch=Gu.bind(null,Hn,m),[D.memoizedState,m]},useRef:function(m){var g=rt();return m={current:m},g.memoizedState=m},useState:function(m){m=Vn(m);var g=m.queue,w=zd.bind(null,Hn,g);return g.dispatch=w,[m.memoizedState,w]},useDebugValue:bl,useDeferredValue:function(m,g){var w=rt();return Oo(w,m,g)},useTransition:function(){var m=Vn(!1);return m=Vc.bind(null,Hn,m.queue,!0,!1),rt().memoizedState=m,[!1,m]},useSyncExternalStore:function(m,g,w){var D=Hn,F=rt();if(li){if(w===void 0)throw Error(s(407));w=w()}else{if(w=g(),Mi===null)throw Error(s(349));(ri&60)!==0||en(D,g,w)}F.memoizedState=w;var $={value:w,getSnapshot:g};return F.queue=$,Ud(zn.bind(null,D,$,m),[m]),D.flags|=2048,Rr(9,We.bind(null,D,$,w,g),{destroy:void 0},null),w},useId:function(){var m=rt(),g=Mi.identifierPrefix;if(li){var w=Ol,D=Rl;w=(D&~(1<<32-ua(D)-1)).toString(32)+w,g=":"+g+"R"+w,w=z0++,0<w&&(g+="H"+w.toString(32)),g+=":"}else w=Pl++,g=":"+g+"r"+w.toString(32)+":";return m.memoizedState=g},useCacheRefresh:function(){return rt().memoizedState=jc.bind(null,Hn)}};vf.useMemoCache=It,vf.useHostTransitionStatus=wa,vf.useFormState=hi,vf.useActionState=hi,vf.useOptimistic=function(m){var g=rt();g.memoizedState=g.baseState=m;var w={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return g.queue=w,g=Po.bind(null,Hn,!0,w),w.dispatch=g,[m,g]};var ca={readContext:Ot,use:jt,useCallback:nu,useContext:Ot,useEffect:Om,useImperativeHandle:to,useInsertionEffect:i0,useLayoutEffect:hh,useMemo:kd,useReducer:Te,useRef:js,useState:function(){return Te(de)},useDebugValue:bl,useDeferredValue:function(m,g){var w=St();return Im(w,cn.memoizedState,m,g)},useTransition:function(){var m=Te(de)[0],g=St().memoizedState;return[typeof m=="boolean"?m:Bt(m),g]},useSyncExternalStore:un,useId:Hc};ca.useCacheRefresh=xl,ca.useMemoCache=It,ca.useHostTransitionStatus=wa,ca.useFormState=_r,ca.useActionState=_r,ca.useOptimistic=function(m,g){var w=St();return $n(w,cn,m,g)};var co={readContext:Ot,use:jt,useCallback:nu,useContext:Ot,useEffect:Om,useImperativeHandle:to,useInsertionEffect:i0,useLayoutEffect:hh,useMemo:kd,useReducer:ze,useRef:js,useState:function(){return ze(de)},useDebugValue:bl,useDeferredValue:function(m,g){var w=St();return cn===null?Oo(w,m,g):Im(w,cn.memoizedState,m,g)},useTransition:function(){var m=ze(de)[0],g=St().memoizedState;return[typeof m=="boolean"?m:Bt(m),g]},useSyncExternalStore:un,useId:Hc};co.useCacheRefresh=xl,co.useMemoCache=It,co.useHostTransitionStatus=wa,co.useFormState=fr,co.useActionState=fr,co.useOptimistic=function(m,g){var w=St();return cn!==null?$n(w,cn,m,g):(w.baseState=m,[m,w.queue.dispatch])};var du={isMounted:function(m){return(m=m._reactInternals)?p(m)===m:!1},enqueueSetState:function(m,g,w){m=m._reactInternals;var D=Pr(),F=Re(D);F.payload=g,w!=null&&(F.callback=w),g=Oe(m,F,D),g!==null&&(bs(g,m,D),Zt(g,m,D))},enqueueReplaceState:function(m,g,w){m=m._reactInternals;var D=Pr(),F=Re(D);F.tag=1,F.payload=g,w!=null&&(F.callback=w),g=Oe(m,F,D),g!==null&&(bs(g,m,D),Zt(g,m,D))},enqueueForceUpdate:function(m,g){m=m._reactInternals;var w=Pr(),D=Re(w);D.tag=2,g!=null&&(D.callback=g),g=Oe(m,D,w),g!==null&&(bs(g,m,w),Zt(g,m,w))}},F0=typeof reportError=="function"?reportError:function(m){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var g=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof m=="object"&&m!==null&&typeof m.message=="string"?String(m.message):String(m),error:m});if(!window.dispatchEvent(g))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",m);return}console.error(m)},V0=Error(s(461)),ji=!1,H0={dehydrated:null,treeContext:null,retryLane:0},fc=E(null),Dl=null,fo=null,gp=typeof AbortController<"u"?AbortController:function(){var m=[],g=this.signal={aborted:!1,addEventListener:function(w,D){m.push(D)}};this.abort=function(){g.aborted=!0,m.forEach(function(w){return w()})}},MT=ro.unstable_scheduleCallback,CT=ro.unstable_NormalPriority,Yi={$$typeof:Al,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},Jb=vn.S;vn.S=function(m,g){typeof g=="object"&&g!==null&&typeof g.then=="function"&&Lt(m,g),Jb!==null&&Jb(m,g)};var pu=E(null),mu=!1,Sr=!1,tx=!1,Ai=typeof WeakSet=="function"?WeakSet:Set,On=null,Zn=!1,an=null,Bn=!1,mr=null,ho=8192,yp={getCacheForType:function(m){var g=Ot(Yi),w=g.data.get(m);return w===void 0&&(w=m(),g.data.set(m,w)),w}},vp=0,Xo=1,tr=2,Nl=3,gu=4;if(typeof Symbol=="function"&&Symbol.for){var Uh=Symbol.for;vp=Uh("selector.component"),Xo=Uh("selector.has_pseudo_class"),tr=Uh("selector.role"),Nl=Uh("selector.test_id"),gu=Uh("selector.text")}var Yo=typeof WeakMap=="function"?WeakMap:Map,pi=0,Mi=null,fn=null,ri=0,Li=0,Ws=null,Ko=!1,po=!1,ls=!1,Xs=0,Gi=0,mo=0,hc=0,pg=0,go=0,yu=0,kh=null,Er=null,j0=!1,fa=0,_p=1/0,mg=null,_f=null,Ll=!1,vu=null,zh=0,bf=0,G0=null,bp=0,q0=null;return Dn.attemptContinuousHydration=function(m){if(m.tag===13){var g=ne(m,67108864);g!==null&&bs(g,m,67108864),Zm(m,67108864)}},Dn.attemptHydrationAtCurrentPriority=function(m){if(m.tag===13){var g=Pr(),w=ne(m,g);w!==null&&bs(w,m,g),Zm(m,g)}},Dn.attemptSynchronousHydration=function(m){switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var g=M(m.pendingLanes);if(g!==0){for(m.pendingLanes|=2,m.entangledLanes|=2;g;){var w=1<<31-ua(g);m.entanglements[1]|=w,g&=~w}le(m),(pi&6)===0&&(_p=Go()+500,lt(0))}}break;case 13:g=ne(m,2),g!==null&&bs(g,m,2),Wm(),Zm(m,2)}},Dn.batchedUpdates=function(m,g){return m(g)},Dn.createComponentSelector=function(m){return{$$typeof:vp,value:m}},Dn.createContainer=function(m,g,w,D,F,$,ot,bt,Nt,ae){return BE(m,g,!1,null,w,D,$,ot,bt,Nt,ae,null)},Dn.createHasPseudoClassSelector=function(m){return{$$typeof:Xo,value:m}},Dn.createHydrationContainer=function(m,g,w,D,F,$,ot,bt,Nt,ae,be,Le,Be){return m=BE(w,D,!0,m,F,$,bt,Nt,ae,be,Le,Be),m.context=Xr(null),w=m.current,D=Pr(),F=Re(D),F.callback=g??null,Oe(w,F,D),m.current.lanes=D,B(m,D),le(m),m},Dn.createPortal=function(m,g,w){var D=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vo,key:D==null?null:""+D,children:m,containerInfo:g,implementation:w}},Dn.createRoleSelector=function(m){return{$$typeof:tr,value:m}},Dn.createTestNameSelector=function(m){return{$$typeof:Nl,value:m}},Dn.createTextSelector=function(m){return{$$typeof:gu,value:m}},Dn.defaultOnCaughtError=function(m){console.error(m)},Dn.defaultOnRecoverableError=function(m){F0(m)},Dn.defaultOnUncaughtError=function(m){F0(m)},Dn.deferredUpdates=function(m){var g=vn.T,w=sc();try{return $s(32),vn.T=null,m()}finally{$s(w),vn.T=g}},Dn.discreteUpdates=function(m,g,w,D,F){var $=vn.T,ot=sc();try{return $s(2),vn.T=null,m(g,w,D,F)}finally{$s(ot),vn.T=$,pi===0&&(_p=Go()+500)}},Dn.findAllNodes=qm,Dn.findBoundingRects=function(m,g){if(!lf)throw Error(s(363));g=qm(m,g),m=[];for(var w=0;w<g.length;w++)m.push(Bb(g[w]));for(g=m.length-1;0<g;g--){w=m[g];for(var D=w.x,F=D+w.width,$=w.y,ot=$+w.height,bt=g-1;0<=bt;bt--)if(g!==bt){var Nt=m[bt],ae=Nt.x,be=ae+Nt.width,Le=Nt.y,Be=Le+Nt.height;if(D>=ae&&$>=Le&&F<=be&&ot<=Be){m.splice(g,1);break}else if(D!==ae||w.width!==Nt.width||Be<$||Le>ot){if(!($!==Le||w.height!==Nt.height||be<D||ae>F)){ae>D&&(Nt.width+=ae-D,Nt.x=D),be<F&&(Nt.width=F-ae),m.splice(g,1);break}}else{Le>$&&(Nt.height+=Le-$,Nt.y=$),Be<ot&&(Nt.height=ot-Le),m.splice(g,1);break}}}return m},Dn.findHostInstance=y0,Dn.findHostInstanceWithNoPortals=function(m){return m=_(m),m=m!==null?S(m):null,m===null?null:rp(m.stateNode)},Dn.findHostInstanceWithWarning=function(m){return y0(m)},Dn.flushPassiveEffects=wl,Dn.flushSyncFromReconciler=function(m){var g=pi;pi|=1;var w=vn.T,D=sc();try{if($s(2),vn.T=null,m)return m()}finally{$s(D),vn.T=w,pi=g,(pi&6)===0&&lt(0)}},Dn.flushSyncWork=Wm,Dn.focusWithin=function(m,g){if(!lf)throw Error(s(363));for(m=Xd(m),g=Oa(m,g),g=Array.from(g),m=0;m<g.length;){var w=g[m++],D=w.tag;if(!ap(w)){if((D===5||D===26||D===27)&&XE(w.stateNode))return!0;for(w=w.child;w!==null;)g.push(w),w=w.sibling}}return!1},Dn.getFindAllNodesFailureDescription=function(m,g){if(!lf)throw Error(s(363));var w=0,D=[];m=[Xd(m),0];for(var F=0;F<m.length;){var $=m[F++],ot=$.tag,bt=m[F++],Nt=g[bt];if((ot!==5&&ot!==26&&ot!==27||!ap($))&&(Qc($,Nt)&&(D.push(Sb(Nt)),bt++,bt>w&&(w=bt)),bt<g.length))for($=$.child;$!==null;)m.push($,bt),$=$.sibling}if(w<g.length){for(m=[];w<g.length;w++)m.push(Sb(g[w]));return`findAllNodes was able to match part of the selector:
  `+(D.join(" > ")+`

No matching component was found for:
  `)+m.join(" > ")}return null},Dn.getPublicRootInstance=function(m){if(m=m.current,!m.child)return null;switch(m.child.tag){case 27:case 5:return rp(m.child.stateNode);default:return m.child.stateNode}},Dn.injectIntoDevTools=function(){var m={bundleType:0,version:Db,rendererPackageName:ng,currentDispatcherRef:vn,findFiberByHostInstance:jE,reconcilerVersion:"19.0.0"};if(ip!==null&&(m.rendererConfig=ip),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")m=!1;else{var g=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(g.isDisabled||!g.supportsFiber)m=!0;else{try{Lr=g.inject(m),Pa=g}catch{}m=!!g.checkDCE}}return m},Dn.isAlreadyRendering=function(){return!1},Dn.observeVisibleRects=function(m,g,w,D){if(!lf)throw Error(s(363));m=qm(m,g);var F=YE(m,w,D).disconnect;return{disconnect:function(){F()}}},Dn.shouldError=function(){return null},Dn.shouldSuspend=function(){return!1},Dn.startHostTransition=function(m,g,w,D){if(m.tag!==5)throw Error(s(476));var F=Io(m).queue;Vc(m,F,g,of,w===null?r:function(){var $=Io(m).next.queue;return Aa(m,$,{},Pr()),w(D)})},Dn.updateContainer=function(m,g,w,D){var F=g.current,$=Pr();return Qd(F,$,m,g,w,D),$},Dn.updateContainerSync=function(m,g,w,D){return g.tag===0&&wl(),Qd(g.current,2,m,g,w,D),2},Dn},i.exports.default=i.exports,Object.defineProperty(i.exports,"__esModule",{value:!0})}(FI)),FI.exports}var Q5;function lat(){return Q5||(Q5=1,BI.exports=oat()),BI.exports}var uat=lat();const cat=oh(uat);var J5=rj();function VL(i,e,n){if(!i)return;if(n(i)===!0)return i;let r=e?i.return:i.child;for(;r;){const s=VL(r,e,n);if(s)return s;r=e?null:r.sibling}}function sj(i){try{return Object.defineProperties(i,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return i}}const HL=sj(tt.createContext(null));let aj=class extends tt.Component{render(){return tt.createElement(HL.Provider,{value:this._reactInternals},this.props.children)}};function oj(){const i=tt.useContext(HL);if(i===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=tt.useId();return tt.useMemo(()=>{for(const n of[i,i==null?void 0:i.alternate]){if(!n)continue;const r=VL(n,!1,s=>{let a=s.memoizedState;for(;a;){if(a.memoizedState===e)return!0;a=a.next}});if(r)return r}},[i,e])}const fat=Symbol.for("react.context"),hat=i=>i!==null&&typeof i=="object"&&"$$typeof"in i&&i.$$typeof===fat;function dat(){const i=oj(),[e]=tt.useState(()=>new Map);e.clear();let n=i;for(;n;){const r=n.type;hat(r)&&r!==HL&&!e.has(r)&&e.set(r,tt.use(sj(r))),n=n.return}return e}function pat(){const i=dat();return tt.useMemo(()=>Array.from(i.keys()).reduce((e,n)=>r=>tt.createElement(e,null,tt.createElement(n.Provider,{...r,value:i.get(n)})),e=>tt.createElement(aj,{...e})),[i])}function lj(i){let e=i.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const uj=i=>i&&i.isOrthographicCamera,mat=i=>i&&i.hasOwnProperty("current"),gat=i=>i!=null&&(typeof i=="string"||typeof i=="number"||i.isColor),aE=((i,e)=>typeof window<"u"&&(((i=window.document)==null?void 0:i.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?tt.useLayoutEffect:tt.useEffect;function cj(i){const e=tt.useRef(i);return aE(()=>void(e.current=i),[i]),e}function yat(){const i=oj(),e=pat();return tt.useMemo(()=>({children:n})=>{const s=!!VL(i,!0,a=>a.type===tt.StrictMode)?tt.StrictMode:tt.Fragment;return K.jsx(s,{children:K.jsx(e,{children:n})})},[i,e])}function vat({set:i}){return aE(()=>(i(new Promise(()=>null)),()=>i(!1)),[i]),null}const _at=(i=>(i=class extends tt.Component{constructor(...n){super(...n),this.state={error:!1}}componentDidCatch(n){this.props.set(n)}render(){return this.state.error?null:this.props.children}},i.getDerivedStateFromError=()=>({error:!0}),i))();function fj(i){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(i)?Math.min(Math.max(i[0],n),i[1]):i}function mv(i){var e;return(e=i.__r3f)==null?void 0:e.root.getState()}const zr={obj:i=>i===Object(i)&&!zr.arr(i)&&typeof i!="function",fun:i=>typeof i=="function",str:i=>typeof i=="string",num:i=>typeof i=="number",boo:i=>typeof i=="boolean",und:i=>i===void 0,nul:i=>i===null,arr:i=>Array.isArray(i),equ(i,e,{arrays:n="shallow",objects:r="reference",strict:s=!0}={}){if(typeof i!=typeof e||!!i!=!!e)return!1;if(zr.str(i)||zr.num(i)||zr.boo(i))return i===e;const a=zr.obj(i);if(a&&r==="reference")return i===e;const o=zr.arr(i);if(o&&n==="reference")return i===e;if((o||a)&&i===e)return!0;let l;for(l in i)if(!(l in e))return!1;if(a&&n==="shallow"&&r==="shallow"){for(l in s?e:i)if(!zr.equ(i[l],e[l],{strict:s,objects:"reference"}))return!1}else for(l in s?e:i)if(i[l]!==e[l])return!1;if(zr.und(l)){if(o&&i.length===0&&e.length===0||a&&Object.keys(i).length===0&&Object.keys(e).length===0)return!0;if(i!==e)return!1}return!0}};function bat(i){i.type!=="Scene"&&(i.dispose==null||i.dispose());for(const e in i){const n=i[e];(n==null?void 0:n.type)!=="Scene"&&(n==null||n.dispose==null||n.dispose())}}const hj=["children","key","ref"];function xat(i){const e={};for(const n in i)hj.includes(n)||(e[n]=i[n]);return e}function iC(i,e,n,r){const s=i;let a=s==null?void 0:s.__r3f;return a||(a={root:e,type:n,parent:null,children:[],props:xat(r),object:s,eventCount:0,handlers:{},isHidden:!1},s&&(s.__r3f=a)),a}function gS(i,e){let n=i[e];if(!e.includes("-"))return{root:i,key:e,target:n};n=i;for(const s of e.split("-")){var r;e=s,i=n,n=(r=n)==null?void 0:r[e]}return{root:i,key:e,target:n}}const tB=/-\d+$/;function rC(i,e){if(zr.str(e.props.attach)){if(tB.test(e.props.attach)){const s=e.props.attach.replace(tB,""),{root:a,key:o}=gS(i.object,s);Array.isArray(a[o])||(a[o]=[])}const{root:n,key:r}=gS(i.object,e.props.attach);e.previousAttach=n[r],n[r]=e.object}else zr.fun(e.props.attach)&&(e.previousAttach=e.props.attach(i.object,e.object))}function sC(i,e){if(zr.str(e.props.attach)){const{root:n,key:r}=gS(i.object,e.props.attach),s=e.previousAttach;s===void 0?delete n[r]:n[r]=s}else e.previousAttach==null||e.previousAttach(i.object,e.object);delete e.previousAttach}const HD=[...hj,"args","dispose","attach","object","onUpdate","dispose"],eB=new Map;function Sat(i){let e=eB.get(i.constructor);try{e||(e=new i.constructor,eB.set(i.constructor,e))}catch{}return e}function Eat(i,e){const n={};for(const r in e)if(!HD.includes(r)&&!zr.equ(e[r],i.props[r])){n[r]=e[r];for(const s in e)s.startsWith(`${r}-`)&&(n[s]=e[s])}for(const r in i.props){if(HD.includes(r)||e.hasOwnProperty(r))continue;const{root:s,key:a}=gS(i.object,r);if(s.constructor&&s.constructor.length===0){const o=Sat(s);zr.und(o)||(n[a]=o[a])}else n[a]=0}return n}const Tat=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],wat=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function Gp(i,e){var n;const r=i.__r3f,s=r&&lj(r).getState(),a=r==null?void 0:r.eventCount;for(const l in e){let u=e[l];if(HD.includes(l))continue;if(r&&wat.test(l)){typeof u=="function"?r.handlers[l]=u:delete r.handlers[l],r.eventCount=Object.keys(r.handlers).length;continue}if(u===void 0)continue;let{root:f,key:h,target:p}=gS(i,l);if(p instanceof d_&&u instanceof d_)p.mask=u.mask;else if(p instanceof Fe&&gat(u))p.set(u);else if(p!==null&&typeof p=="object"&&typeof p.set=="function"&&typeof p.copy=="function"&&u!=null&&u.constructor&&p.constructor===u.constructor)p.copy(u);else if(p!==null&&typeof p=="object"&&typeof p.set=="function"&&Array.isArray(u))typeof p.fromArray=="function"?p.fromArray(u):p.set(...u);else if(p!==null&&typeof p=="object"&&typeof p.set=="function"&&typeof u=="number")typeof p.setScalar=="function"?p.setScalar(u):p.set(u);else{var o;f[h]=u,s&&!s.linear&&Tat.includes(h)&&(o=f[h])!=null&&o.isTexture&&f[h].format===$a&&f[h].type===Ic&&(f[h].colorSpace=ma)}}if(r!=null&&r.parent&&s!=null&&s.internal&&(n=r.object)!=null&&n.isObject3D&&a!==r.eventCount){const l=r.object,u=s.internal.interaction.indexOf(l);u>-1&&s.internal.interaction.splice(u,1),r.eventCount&&l.raycast!==null&&s.internal.interaction.push(l)}return r&&r.props.attach===void 0&&(r.object.isBufferGeometry?r.props.attach="geometry":r.object.isMaterial&&(r.props.attach="material")),r&&Z_(r),i}function Z_(i){var e;if(!i.parent)return;i.props.onUpdate==null||i.props.onUpdate(i.object);const n=(e=i.root)==null||e.getState==null?void 0:e.getState();n&&n.internal.frames===0&&n.invalidate()}function Aat(i,e){i.manual||(uj(i)?(i.left=e.width/-2,i.right=e.width/2,i.top=e.height/2,i.bottom=e.height/-2):i.aspect=e.width/e.height,i.updateProjectionMatrix())}const el=i=>i==null?void 0:i.isObject3D;function Uw(i){return(i.eventObject||i.object).uuid+"/"+i.index+i.instanceId}function dj(i,e,n,r){const s=n.get(e);s&&(n.delete(e),n.size===0&&(i.delete(r),s.target.releasePointerCapture(r)))}function Mat(i,e){const{internal:n}=i.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,s)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(s)}),n.capturedMap.forEach((r,s)=>{dj(n.capturedMap,e,r,s)})}function Cat(i){function e(u){const{internal:f}=i.getState(),h=u.offsetX-f.initialClick[0],p=u.offsetY-f.initialClick[1];return Math.round(Math.sqrt(h*h+p*p))}function n(u){return u.filter(f=>["Move","Over","Enter","Out","Leave"].some(h=>{var p;return(p=f.__r3f)==null?void 0:p.handlers["onPointer"+h]}))}function r(u,f){const h=i.getState(),p=new Set,y=[],_=f?f(h.internal.interaction):h.internal.interaction;for(let b=0;b<_.length;b++){const A=mv(_[b]);A&&(A.raycaster.camera=void 0)}h.previousRoot||h.events.compute==null||h.events.compute(u,h);function x(b){const A=mv(b);if(!A||!A.events.enabled||A.raycaster.camera===null)return[];if(A.raycaster.camera===void 0){var C;A.events.compute==null||A.events.compute(u,A,(C=A.previousRoot)==null?void 0:C.getState()),A.raycaster.camera===void 0&&(A.raycaster.camera=null)}return A.raycaster.camera?A.raycaster.intersectObject(b,!0):[]}let S=_.flatMap(x).sort((b,A)=>{const C=mv(b.object),M=mv(A.object);return!C||!M?b.distance-A.distance:M.events.priority-C.events.priority||b.distance-A.distance}).filter(b=>{const A=Uw(b);return p.has(A)?!1:(p.add(A),!0)});h.events.filter&&(S=h.events.filter(S,h));for(const b of S){let A=b.object;for(;A;){var E;(E=A.__r3f)!=null&&E.eventCount&&y.push({...b,eventObject:A}),A=A.parent}}if("pointerId"in u&&h.internal.capturedMap.has(u.pointerId))for(let b of h.internal.capturedMap.get(u.pointerId).values())p.has(Uw(b.intersection))||y.push(b.intersection);return y}function s(u,f,h,p){if(u.length){const y={stopped:!1};for(const _ of u){let x=mv(_.object);if(x||_.object.traverseAncestors(S=>{const E=mv(S);if(E)return x=E,!1}),x){const{raycaster:S,pointer:E,camera:b,internal:A}=x,C=new pt(E.x,E.y,0).unproject(b),M=U=>{var O,B;return(O=(B=A.capturedMap.get(U))==null?void 0:B.has(_.eventObject))!=null?O:!1},I=U=>{const O={intersection:_,target:f.target};A.capturedMap.has(U)?A.capturedMap.get(U).set(_.eventObject,O):A.capturedMap.set(U,new Map([[_.eventObject,O]])),f.target.setPointerCapture(U)},k=U=>{const O=A.capturedMap.get(U);O&&dj(A.capturedMap,_.eventObject,O,U)};let N={};for(let U in f){let O=f[U];typeof O!="function"&&(N[U]=O)}let L={..._,...N,pointer:E,intersections:u,stopped:y.stopped,delta:h,unprojectedPoint:C,ray:S.ray,camera:b,stopPropagation(){const U="pointerId"in f&&A.capturedMap.get(f.pointerId);if((!U||U.has(_.eventObject))&&(L.stopped=y.stopped=!0,A.hovered.size&&Array.from(A.hovered.values()).find(O=>O.eventObject===_.eventObject))){const O=u.slice(0,u.indexOf(_));a([...O,_])}},target:{hasPointerCapture:M,setPointerCapture:I,releasePointerCapture:k},currentTarget:{hasPointerCapture:M,setPointerCapture:I,releasePointerCapture:k},nativeEvent:f};if(p(L),y.stopped===!0)break}}}return u}function a(u){const{internal:f}=i.getState();for(const h of f.hovered.values())if(!u.length||!u.find(p=>p.object===h.object&&p.index===h.index&&p.instanceId===h.instanceId)){const y=h.eventObject.__r3f;if(f.hovered.delete(Uw(h)),y!=null&&y.eventCount){const _=y.handlers,x={...h,intersections:u};_.onPointerOut==null||_.onPointerOut(x),_.onPointerLeave==null||_.onPointerLeave(x)}}}function o(u,f){for(let h=0;h<f.length;h++){const p=f[h].__r3f;p==null||p.handlers.onPointerMissed==null||p.handlers.onPointerMissed(u)}}function l(u){switch(u){case"onPointerLeave":case"onPointerCancel":return()=>a([]);case"onLostPointerCapture":return f=>{const{internal:h}=i.getState();"pointerId"in f&&h.capturedMap.has(f.pointerId)&&requestAnimationFrame(()=>{h.capturedMap.has(f.pointerId)&&(h.capturedMap.delete(f.pointerId),a([]))})}}return function(h){const{onPointerMissed:p,internal:y}=i.getState();y.lastEvent.current=h;const _=u==="onPointerMove",x=u==="onClick"||u==="onContextMenu"||u==="onDoubleClick",E=r(h,_?n:void 0),b=x?e(h):0;u==="onPointerDown"&&(y.initialClick=[h.offsetX,h.offsetY],y.initialHits=E.map(C=>C.eventObject)),x&&!E.length&&b<=2&&(o(h,y.interaction),p&&p(h)),_&&a(E);function A(C){const M=C.eventObject,I=M.__r3f;if(!(I!=null&&I.eventCount))return;const k=I.handlers;if(_){if(k.onPointerOver||k.onPointerEnter||k.onPointerOut||k.onPointerLeave){const N=Uw(C),L=y.hovered.get(N);L?L.stopped&&C.stopPropagation():(y.hovered.set(N,C),k.onPointerOver==null||k.onPointerOver(C),k.onPointerEnter==null||k.onPointerEnter(C))}k.onPointerMove==null||k.onPointerMove(C)}else{const N=k[u];N?(!x||y.initialHits.includes(M))&&(o(h,y.interaction.filter(L=>!y.initialHits.includes(L))),N(C)):x&&y.initialHits.includes(M)&&o(h,y.interaction.filter(L=>!y.initialHits.includes(L)))}}s(E,h,b,A)}}return{handlePointer:l}}const nB=i=>!!(i!=null&&i.render),pj=tt.createContext(null),Rat=(i,e)=>{const n=sat((l,u)=>{const f=new pt,h=new pt,p=new pt;function y(b=u().camera,A=h,C=u().size){const{width:M,height:I,top:k,left:N}=C,L=M/I;A.isVector3?p.copy(A):p.set(...A);const U=b.getWorldPosition(f).distanceTo(p);if(uj(b))return{width:M/b.zoom,height:I/b.zoom,top:k,left:N,factor:1,distance:U,aspect:L};{const O=b.fov*Math.PI/180,B=2*Math.tan(O/2)*U,H=B*(M/I);return{width:H,height:B,top:k,left:N,factor:M/H,distance:U,aspect:L}}}let _;const x=b=>l(A=>({performance:{...A.performance,current:b}})),S=new pe;return{set:l,get:u,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(b=1)=>i(u(),b),advance:(b,A)=>e(b,A,u()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new DL,pointer:S,mouse:S,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const b=u();_&&clearTimeout(_),b.performance.current!==b.performance.min&&x(b.performance.min),_=setTimeout(()=>x(u().performance.max),b.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:y},setEvents:b=>l(A=>({...A,events:{...A.events,...b}})),setSize:(b,A,C=0,M=0)=>{const I=u().camera,k={width:b,height:A,top:C,left:M};l(N=>({size:k,viewport:{...N.viewport,...y(I,h,k)}}))},setDpr:b=>l(A=>{const C=fj(b);return{viewport:{...A.viewport,dpr:C,initialDpr:A.viewport.initialDpr||C}}}),setFrameloop:(b="always")=>{const A=u().clock;A.stop(),A.elapsedTime=0,b!=="never"&&(A.start(),A.elapsedTime=0),l(()=>({frameloop:b}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:tt.createRef(),active:!1,frames:0,priority:0,subscribe:(b,A,C)=>{const M=u().internal;return M.priority=M.priority+(A>0?1:0),M.subscribers.push({ref:b,priority:A,store:C}),M.subscribers=M.subscribers.sort((I,k)=>I.priority-k.priority),()=>{const I=u().internal;I!=null&&I.subscribers&&(I.priority=I.priority-(A>0?1:0),I.subscribers=I.subscribers.filter(k=>k.ref!==b))}}}}}),r=n.getState();let s=r.size,a=r.viewport.dpr,o=r.camera;return n.subscribe(()=>{const{camera:l,size:u,viewport:f,gl:h,set:p}=n.getState();if(u.width!==s.width||u.height!==s.height||f.dpr!==a){s=u,a=f.dpr,Aat(l,u),f.dpr>0&&h.setPixelRatio(f.dpr);const y=typeof HTMLCanvasElement<"u"&&h.domElement instanceof HTMLCanvasElement;h.setSize(u.width,u.height,y)}l!==o&&(o=l,p(y=>({viewport:{...y.viewport,...y.viewport.getCurrentViewport(l)}})))}),n.subscribe(l=>i(l)),n};function mj(){const i=tt.useContext(pj);if(!i)throw new Error("R3F: Hooks can only be used within the Canvas component!");return i}function Np(i=n=>n,e){return mj()(i,e)}function jL(i,e=0){const n=mj(),r=n.getState().internal.subscribe,s=cj(i);return aE(()=>r(s,e,n),[e,r,n]),null}function Oat(i){const e=cat(i);return e.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:tt.version}),e}const gj=0,g_={},Iat=/^three(?=[A-Z])/,X2=i=>`${i[0].toUpperCase()}${i.slice(1)}`;let Pat=0;const Dat=i=>typeof i=="function";function yj(i){if(Dat(i)){const e=`${Pat++}`;return g_[e]=i,e}else Object.assign(g_,i)}function vj(i,e){const n=X2(i),r=g_[n];if(i!=="primitive"&&!r)throw new Error(`R3F: ${n} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(i==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function Nat(i,e,n){var r;return i=X2(i)in g_?i:i.replace(Iat,""),vj(i,e),i==="primitive"&&(r=e.object)!=null&&r.__r3f&&delete e.object.__r3f,iC(e.object,n,i,e)}function Lat(i){if(!i.isHidden){var e;i.props.attach&&(e=i.parent)!=null&&e.object?sC(i.parent,i):el(i.object)&&(i.object.visible=!1),i.isHidden=!0,Z_(i)}}function _j(i){if(i.isHidden){var e;i.props.attach&&(e=i.parent)!=null&&e.object?rC(i.parent,i):el(i.object)&&i.props.visible!==!1&&(i.object.visible=!0),i.isHidden=!1,Z_(i)}}function GL(i,e,n){const r=e.root.getState();if(!(!i.parent&&i.object!==r.scene)){if(!e.object){var s,a;const o=g_[X2(e.type)];e.object=(s=e.props.object)!=null?s:new o(...(a=e.props.args)!=null?a:[]),e.object.__r3f=e}if(Gp(e.object,e.props),e.props.attach)rC(i,e);else if(el(e.object)&&el(i.object)){const o=i.object.children.indexOf(n==null?void 0:n.object);if(n&&o!==-1){const l=i.object.children.indexOf(e.object);if(l!==-1){i.object.children.splice(l,1);const u=l<o?o-1:o;i.object.children.splice(u,0,e.object)}else e.object.parent=i.object,i.object.children.splice(o,0,e.object),e.object.dispatchEvent({type:"added"}),i.object.dispatchEvent({type:"childadded",child:e.object})}else i.object.add(e.object)}for(const o of e.children)GL(e,o);Z_(e)}}function jI(i,e){e&&(e.parent=i,i.children.push(e),GL(i,e))}function iB(i,e,n){if(!e||!n)return;e.parent=i;const r=i.children.indexOf(n);r!==-1?i.children.splice(r,0,e):i.children.push(e),GL(i,e,n)}function bj(i){if(typeof i.dispose=="function"){const e=()=>{try{i.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():J5.unstable_scheduleCallback(J5.unstable_IdlePriority,e)}}function jD(i,e,n){if(!e)return;e.parent=null;const r=i.children.indexOf(e);r!==-1&&i.children.splice(r,1),e.props.attach?sC(i,e):el(e.object)&&el(i.object)&&(i.object.remove(e.object),Mat(lj(e),e.object));const s=e.props.dispose!==null&&n!==!1;for(let a=e.children.length-1;a>=0;a--){const o=e.children[a];jD(e,o,s)}e.children.length=0,delete e.object.__r3f,s&&e.type!=="primitive"&&e.object.type!=="Scene"&&bj(e.object),n===void 0&&Z_(e)}function Uat(i,e){for(const n of[i,i.alternate])if(n!==null)if(typeof n.ref=="function"){n.refCleanup==null||n.refCleanup();const r=n.ref(e);typeof r=="function"&&(n.refCleanup=r)}else n.ref&&(n.ref.current=e)}const FA=[];function kat(){for(const[n]of FA){const r=n.parent;if(r){n.props.attach?sC(r,n):el(n.object)&&el(r.object)&&r.object.remove(n.object);for(const s of n.children)s.props.attach?sC(n,s):el(s.object)&&el(n.object)&&n.object.remove(s.object)}n.isHidden&&_j(n),n.object.__r3f&&delete n.object.__r3f,n.type!=="primitive"&&bj(n.object)}for(const[n,r,s]of FA){n.props=r;const a=n.parent;if(a){var i,e;const o=g_[X2(n.type)];n.object=(i=n.props.object)!=null?i:new o(...(e=n.props.args)!=null?e:[]),n.object.__r3f=n,Uat(s,n.object),Gp(n.object,n.props),n.props.attach?rC(a,n):el(n.object)&&el(a.object)&&a.object.add(n.object);for(const l of n.children)l.props.attach?rC(n,l):el(l.object)&&el(n.object)&&n.object.add(l.object);Z_(n)}}FA.length=0}const GI=()=>{},rB={};let kw=gj;const zat=0,Bat=4,GD=Oat({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:Nat,removeChild:jD,appendChild:jI,appendInitialChild:jI,insertBefore:iB,appendChildToContainer(i,e){const n=i.getState().scene.__r3f;!e||!n||jI(n,e)},removeChildFromContainer(i,e){const n=i.getState().scene.__r3f;!e||!n||jD(n,e)},insertInContainerBefore(i,e,n){const r=i.getState().scene.__r3f;!e||!n||!r||iB(r,e,n)},getRootHostContext:()=>rB,getChildHostContext:()=>rB,commitUpdate(i,e,n,r,s){var a,o,l;vj(e,r);let u=!1;if((i.type==="primitive"&&n.object!==r.object||((a=r.args)==null?void 0:a.length)!==((o=n.args)==null?void 0:o.length)||(l=r.args)!=null&&l.some((h,p)=>{var y;return h!==((y=n.args)==null?void 0:y[p])}))&&(u=!0),u)FA.push([i,{...r},s]);else{const h=Eat(i,r);Object.keys(h).length&&(Object.assign(i.props,h),Gp(i.object,h))}(s.sibling===null||(s.flags&Bat)===zat)&&kat()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:i=>i==null?void 0:i.object,prepareForCommit:()=>null,preparePortalMount:i=>iC(i.getState().scene,i,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:Lat,unhideInstance:_j,createTextInstance:GI,hideTextInstance:GI,unhideTextInstance:GI,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:tt.createContext(null),setCurrentUpdatePriority(i){kw=i},getCurrentUpdatePriority(){return kw},resolveUpdatePriority(){var i;if(kw!==gj)return kw;switch(typeof window<"u"&&((i=window.event)==null?void 0:i.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return BA.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return BA.ContinuousEventPriority;default:return BA.DefaultEventPriority}},resetFormInstance(){}}),Cy=new Map,gv={objects:"shallow",strict:!1};function Fat(i,e){if(!e&&typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement&&i.parentElement){const{width:n,height:r,top:s,left:a}=i.parentElement.getBoundingClientRect();return{width:n,height:r,top:s,left:a}}else if(!e&&typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas)return{width:i.width,height:i.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...e}}function Vat(i){const e=Cy.get(i),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const s=typeof reportError=="function"?reportError:console.error,a=r||Rat(WD,aB),o=n||GD.createContainer(a,BA.ConcurrentRoot,null,!1,null,"",s,s,s,null);e||Cy.set(i,{fiber:o,store:a});let l,u,f=!1,h=null;return{async configure(p={}){let y;h=new Promise(ht=>y=ht);let{gl:_,size:x,scene:S,events:E,onCreated:b,shadows:A=!1,linear:C=!1,flat:M=!1,legacy:I=!1,orthographic:k=!1,frameloop:N="always",dpr:L=[1,2],performance:U,raycaster:O,camera:B,onPointerMissed:H}=p,V=a.getState(),X=V.gl;if(!V.gl){const ht={canvas:i,powerPreference:"high-performance",antialias:!0,alpha:!0},yt=typeof _=="function"?await _(ht):_;nB(yt)?X=yt:X=new nj({...ht,..._}),V.set({gl:X})}let et=V.raycaster;et||V.set({raycaster:et=new kL});const{params:q,...W}=O||{};if(zr.equ(W,et,gv)||Gp(et,{...W}),zr.equ(q,et.params,gv)||Gp(et,{params:{...et.params,...q}}),!V.camera||V.camera===u&&!zr.equ(u,B,gv)){u=B;const ht=B==null?void 0:B.isCamera,yt=ht?B:k?new sE(0,0,0,0,.1,1e3):new Qs(75,0,.1,1e3);ht||(yt.position.z=5,B&&(Gp(yt,B),yt.manual||("aspect"in B||"left"in B||"right"in B||"bottom"in B||"top"in B)&&(yt.manual=!0,yt.updateProjectionMatrix())),!V.camera&&!(B!=null&&B.rotation)&&yt.lookAt(0,0,0)),V.set({camera:yt}),et.camera=yt}if(!V.scene){let ht;S!=null&&S.isScene?(ht=S,iC(ht,a,"",{})):(ht=new dL,iC(ht,a,"",{}),S&&Gp(ht,S)),V.set({scene:ht})}E&&!V.events.handlers&&V.set({events:E(a)});const Z=Fat(i,x);if(zr.equ(Z,V.size,gv)||V.setSize(Z.width,Z.height,Z.top,Z.left),L&&V.viewport.dpr!==fj(L)&&V.setDpr(L),V.frameloop!==N&&V.setFrameloop(N),V.onPointerMissed||V.set({onPointerMissed:H}),U&&!zr.equ(U,V.performance,gv)&&V.set(ht=>({performance:{...ht.performance,...U}})),!V.xr){var nt;const ht=(it,dt)=>{const ft=a.getState();ft.frameloop!=="never"&&aB(it,!0,ft,dt)},yt=()=>{const it=a.getState();it.gl.xr.enabled=it.gl.xr.isPresenting,it.gl.xr.setAnimationLoop(it.gl.xr.isPresenting?ht:null),it.gl.xr.isPresenting||WD(it)},xt={connect(){const it=a.getState().gl;it.xr.addEventListener("sessionstart",yt),it.xr.addEventListener("sessionend",yt)},disconnect(){const it=a.getState().gl;it.xr.removeEventListener("sessionstart",yt),it.xr.removeEventListener("sessionend",yt)}};typeof((nt=X.xr)==null?void 0:nt.addEventListener)=="function"&&xt.connect(),V.set({xr:xt})}if(X.shadowMap){const ht=X.shadowMap.enabled,yt=X.shadowMap.type;if(X.shadowMap.enabled=!!A,zr.boo(A))X.shadowMap.type=S1;else if(zr.str(A)){var Q;const xt={basic:oH,percentage:p2,soft:S1,variance:_c};X.shadowMap.type=(Q=xt[A])!=null?Q:S1}else zr.obj(A)&&Object.assign(X.shadowMap,A);(ht!==X.shadowMap.enabled||yt!==X.shadowMap.type)&&(X.shadowMap.needsUpdate=!0)}return mi.enabled=!I,f||(X.outputColorSpace=C?hm:ma,X.toneMapping=M?Gf:ZN),V.legacy!==I&&V.set(()=>({legacy:I})),V.linear!==C&&V.set(()=>({linear:C})),V.flat!==M&&V.set(()=>({flat:M})),_&&!zr.fun(_)&&!nB(_)&&!zr.equ(_,X,gv)&&Gp(X,_),l=b,f=!0,y(),this},render(p){return!f&&!h&&this.configure(),h.then(()=>{GD.updateContainer(K.jsx(Hat,{store:a,children:p,onCreated:l,rootElement:i}),o,null,()=>{})}),a},unmount(){xj(i)}}}function Hat({store:i,children:e,onCreated:n,rootElement:r}){return aE(()=>{const s=i.getState();s.set(a=>({internal:{...a.internal,active:!0}})),n&&n(s),i.getState().events.connected||s.events.connect==null||s.events.connect(r)},[]),K.jsx(pj.Provider,{value:i,children:e})}function xj(i,e){const n=Cy.get(i),r=n==null?void 0:n.fiber;if(r){const s=n==null?void 0:n.store.getState();s&&(s.internal.active=!1),GD.updateContainer(null,r,null,()=>{s&&setTimeout(()=>{try{var a,o,l,u;s.events.disconnect==null||s.events.disconnect(),(a=s.gl)==null||(o=a.renderLists)==null||o.dispose==null||o.dispose(),(l=s.gl)==null||l.forceContextLoss==null||l.forceContextLoss(),(u=s.gl)!=null&&u.xr&&s.xr.disconnect(),bat(s.scene),Cy.delete(i)}catch{}},500)})}}const jat=new Set,Gat=new Set,qat=new Set;function qI(i,e){if(i.size)for(const{callback:n}of i.values())n(e)}function P1(i,e){switch(i){case"before":return qI(jat,e);case"after":return qI(Gat,e);case"tail":return qI(qat,e)}}let $I,WI;function qD(i,e,n){let r=e.clock.getDelta();e.frameloop==="never"&&typeof i=="number"&&(r=i-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=i),$I=e.internal.subscribers;for(let s=0;s<$I.length;s++)WI=$I[s],WI.ref.current(WI.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let aC=!1,$D=!1,XI,sB,yv;function Sj(i){sB=requestAnimationFrame(Sj),aC=!0,XI=0,P1("before",i),$D=!0;for(const n of Cy.values()){var e;yv=n.store.getState(),yv.internal.active&&(yv.frameloop==="always"||yv.internal.frames>0)&&!((e=yv.gl.xr)!=null&&e.isPresenting)&&(XI+=qD(i,yv))}if($D=!1,P1("after",i),XI===0)return P1("tail",i),aC=!1,cancelAnimationFrame(sB)}function WD(i,e=1){var n;if(!i)return Cy.forEach(r=>WD(r.store.getState(),e));(n=i.gl.xr)!=null&&n.isPresenting||!i.internal.active||i.frameloop==="never"||(e>1?i.internal.frames=Math.min(60,i.internal.frames+e):$D?i.internal.frames=2:i.internal.frames=1,aC||(aC=!0,requestAnimationFrame(Sj)))}function aB(i,e=!0,n,r){if(e&&P1("before",i),n)qD(i,n,r);else for(const s of Cy.values())qD(i,s.store.getState());e&&P1("after",i)}const YI={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function $at(i){const{handlePointer:e}=Cat(i);return{priority:1,enabled:!0,compute(n,r,s){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(YI).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:s}=i.getState();(n=s.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(s.lastEvent.current)},connect:n=>{const{set:r,events:s}=i.getState();if(s.disconnect==null||s.disconnect(),r(a=>({events:{...a.events,connected:n}})),s.handlers)for(const a in s.handlers){const o=s.handlers[a],[l,u]=YI[a];n.addEventListener(l,o,{passive:u})}},disconnect:()=>{const{set:n,events:r}=i.getState();if(r.connected){if(r.handlers)for(const s in r.handlers){const a=r.handlers[s],[o]=YI[s];r.connected.removeEventListener(o,a)}n(s=>({events:{...s.events,connected:void 0}}))}}}}function oB(i,e){let n;return(...r)=>{window.clearTimeout(n),n=window.setTimeout(()=>i(...r),e)}}function Wat({debounce:i,scroll:e,polyfill:n,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const s=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[a,o]=tt.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=tt.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a,orientationHandler:null}),u=i?typeof i=="number"?i:i.scroll:null,f=i?typeof i=="number"?i:i.resize:null,h=tt.useRef(!1);tt.useEffect(()=>(h.current=!0,()=>void(h.current=!1)));const[p,y,_]=tt.useMemo(()=>{const b=()=>{if(!l.current.element)return;const{left:A,top:C,width:M,height:I,bottom:k,right:N,x:L,y:U}=l.current.element.getBoundingClientRect(),O={left:A,top:C,width:M,height:I,bottom:k,right:N,x:L,y:U};l.current.element instanceof HTMLElement&&r&&(O.height=l.current.element.offsetHeight,O.width=l.current.element.offsetWidth),Object.freeze(O),h.current&&!Zat(l.current.lastBounds,O)&&o(l.current.lastBounds=O)};return[b,f?oB(b,f):b,u?oB(b,u):b]},[o,r,u,f]);function x(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(b=>b.removeEventListener("scroll",_,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null),l.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",l.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",l.current.orientationHandler))}function S(){l.current.element&&(l.current.resizeObserver=new s(_),l.current.resizeObserver.observe(l.current.element),e&&l.current.scrollContainers&&l.current.scrollContainers.forEach(b=>b.addEventListener("scroll",_,{capture:!0,passive:!0})),l.current.orientationHandler=()=>{_()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",l.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",l.current.orientationHandler))}const E=b=>{!b||b===l.current.element||(x(),l.current.element=b,l.current.scrollContainers=Ej(b),S())};return Yat(_,!!e),Xat(y),tt.useEffect(()=>{x(),S()},[e,_,y]),tt.useEffect(()=>x,[]),[E,a,p]}function Xat(i){tt.useEffect(()=>{const e=i;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[i])}function Yat(i,e){tt.useEffect(()=>{if(e){const n=i;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[i,e])}function Ej(i){const e=[];if(!i||i===document.body)return e;const{overflow:n,overflowX:r,overflowY:s}=window.getComputedStyle(i);return[n,r,s].some(a=>a==="auto"||a==="scroll")&&e.push(i),[...e,...Ej(i.parentElement)]}const Kat=["x","y","top","bottom","left","right","width","height"],Zat=(i,e)=>Kat.every(n=>i[n]===e[n]);function Qat({ref:i,children:e,fallback:n,resize:r,style:s,gl:a,events:o=$at,eventSource:l,eventPrefix:u,shadows:f,linear:h,flat:p,legacy:y,orthographic:_,frameloop:x,dpr:S,performance:E,raycaster:b,camera:A,scene:C,onPointerMissed:M,onCreated:I,...k}){tt.useMemo(()=>yj(Wst),[]);const N=yat(),[L,U]=Wat({scroll:!0,debounce:{scroll:50,resize:0},...r}),O=tt.useRef(null),B=tt.useRef(null);tt.useImperativeHandle(i,()=>O.current);const H=cj(M),[V,X]=tt.useState(!1),[et,q]=tt.useState(!1);if(V)throw V;if(et)throw et;const W=tt.useRef(null);aE(()=>{const nt=O.current;if(U.width>0&&U.height>0&&nt){W.current||(W.current=Vat(nt));async function Q(){await W.current.configure({gl:a,scene:C,events:o,shadows:f,linear:h,flat:p,legacy:y,orthographic:_,frameloop:x,dpr:S,performance:E,raycaster:b,camera:A,size:U,onPointerMissed:(...ht)=>H.current==null?void 0:H.current(...ht),onCreated:ht=>{ht.events.connect==null||ht.events.connect(l?mat(l)?l.current:l:B.current),u&&ht.setEvents({compute:(yt,xt)=>{const it=yt[u+"X"],dt=yt[u+"Y"];xt.pointer.set(it/xt.size.width*2-1,-(dt/xt.size.height)*2+1),xt.raycaster.setFromCamera(xt.pointer,xt.camera)}}),I==null||I(ht)}}),W.current.render(K.jsx(N,{children:K.jsx(_at,{set:q,children:K.jsx(tt.Suspense,{fallback:K.jsx(vat,{set:X}),children:e??null})})}))}Q()}}),tt.useEffect(()=>{const nt=O.current;if(nt)return()=>xj(nt)},[]);const Z=l?"none":"auto";return K.jsx("div",{ref:B,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:Z,...s},...k,children:K.jsx("div",{ref:L,style:{width:"100%",height:"100%"},children:K.jsx("canvas",{ref:O,style:{display:"block"},children:n})})})}function Jat(i){return K.jsx(aj,{children:K.jsx(Qat,{...i})})}function yS(){return yS=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},yS.apply(null,arguments)}const tot=i=>i;function eot(i,e=tot){const n=hn.useSyncExternalStore(i.subscribe,()=>e(i.getState()),()=>e(i.getInitialState()));return hn.useDebugValue(n),n}const lB=i=>{const e=ij(i),n=r=>eot(e,r);return Object.assign(n,e),n},not=i=>i?lB(i):lB,iot=()=>parseInt(WS.replace(/\D+/g,"")),rot=iot();/*!
 * camera-controls
 * https://github.com/yomotsu/camera-controls
 * (c) 2017 @yomotsu
 * Released under the MIT License.
 */const kr={LEFT:1,RIGHT:2,MIDDLE:4},qt=Object.freeze({NONE:0,ROTATE:1,TRUCK:2,SCREEN_PAN:4,OFFSET:8,DOLLY:16,ZOOM:32,TOUCH_ROTATE:64,TOUCH_TRUCK:128,TOUCH_SCREEN_PAN:256,TOUCH_OFFSET:512,TOUCH_DOLLY:1024,TOUCH_ZOOM:2048,TOUCH_DOLLY_TRUCK:4096,TOUCH_DOLLY_SCREEN_PAN:8192,TOUCH_DOLLY_OFFSET:16384,TOUCH_DOLLY_ROTATE:32768,TOUCH_ZOOM_TRUCK:65536,TOUCH_ZOOM_OFFSET:131072,TOUCH_ZOOM_SCREEN_PAN:262144,TOUCH_ZOOM_ROTATE:524288}),vv={NONE:0,IN:1,OUT:-1};function Og(i){return i.isPerspectiveCamera}function Bp(i){return i.isOrthographicCamera}const _v=Math.PI*2,uB=Math.PI/2,Tj=1e-5,Cx=Math.PI/180;function yc(i,e,n){return Math.max(e,Math.min(n,i))}function lr(i,e=Tj){return Math.abs(i)<e}function Ui(i,e,n=Tj){return lr(i-e,n)}function cB(i,e){return Math.round(i/e)*e}function Rx(i){return isFinite(i)?i:i<0?-Number.MAX_VALUE:Number.MAX_VALUE}function Ox(i){return Math.abs(i)<Number.MAX_VALUE?i:i*(1/0)}function zw(i,e,n,r,s=1/0,a){r=Math.max(1e-4,r);const o=2/r,l=o*a,u=1/(1+l+.48*l*l+.235*l*l*l);let f=i-e;const h=e,p=s*r;f=yc(f,-p,p),e=i-f;const y=(n.value+o*f)*a;n.value=(n.value-o*y)*u;let _=e+(f+y)*u;return h-i>0==_>h&&(_=h,n.value=(_-h)/a),_}function fB(i,e,n,r,s=1/0,a,o){r=Math.max(1e-4,r);const l=2/r,u=l*a,f=1/(1+u+.48*u*u+.235*u*u*u);let h=e.x,p=e.y,y=e.z,_=i.x-h,x=i.y-p,S=i.z-y;const E=h,b=p,A=y,C=s*r,M=C*C,I=_*_+x*x+S*S;if(I>M){const et=Math.sqrt(I);_=_/et*C,x=x/et*C,S=S/et*C}h=i.x-_,p=i.y-x,y=i.z-S;const k=(n.x+l*_)*a,N=(n.y+l*x)*a,L=(n.z+l*S)*a;n.x=(n.x-l*k)*f,n.y=(n.y-l*N)*f,n.z=(n.z-l*L)*f,o.x=h+(_+k)*f,o.y=p+(x+N)*f,o.z=y+(S+L)*f;const U=E-i.x,O=b-i.y,B=A-i.z,H=o.x-E,V=o.y-b,X=o.z-A;return U*H+O*V+B*X>0&&(o.x=E,o.y=b,o.z=A,n.x=(o.x-E)/a,n.y=(o.y-b)/a,n.z=(o.z-A)/a),o}function KI(i,e){e.set(0,0),i.forEach(n=>{e.x+=n.clientX,e.y+=n.clientY}),e.x/=i.length,e.y/=i.length}function ZI(i,e){return Bp(i)?(console.warn(`${e} is not supported in OrthographicCamera`),!0):!1}class sot{constructor(){this._listeners={}}addEventListener(e,n){const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){const s=this._listeners[e];if(s!==void 0){const a=s.indexOf(n);a!==-1&&s.splice(a,1)}}removeAllEventListeners(e){if(!e){this._listeners={};return}Array.isArray(this._listeners[e])&&(this._listeners[e].length=0)}dispatchEvent(e){const r=this._listeners[e.type];if(r!==void 0){e.target=this;const s=r.slice(0);for(let a=0,o=s.length;a<o;a++)s[a].call(this,e)}}}var QI;const aot="2.10.1",Bw=1/8,oot=/Mac/.test((QI=globalThis==null?void 0:globalThis.navigator)===null||QI===void 0?void 0:QI.platform);let wn,hB,Fw,JI,Qo,Xn,Ri,bv,Ix,Tf,wf,Ig,dB,pB,Su,Px,xv,mB,tP,gB,eP,nP,Vw,iP=class XD extends sot{static install(e){wn=e.THREE,hB=Object.freeze(new wn.Vector3(0,0,0)),Fw=Object.freeze(new wn.Vector3(0,1,0)),JI=Object.freeze(new wn.Vector3(0,0,1)),Qo=new wn.Vector2,Xn=new wn.Vector3,Ri=new wn.Vector3,bv=new wn.Vector3,Ix=new wn.Vector3,Tf=new wn.Vector3,wf=new wn.Vector3,Ig=new wn.Vector3,dB=new wn.Vector3,pB=new wn.Vector3,Su=new wn.Spherical,Px=new wn.Spherical,xv=new wn.Box3,mB=new wn.Box3,tP=new wn.Sphere,gB=new wn.Quaternion,eP=new wn.Quaternion,nP=new wn.Matrix4,Vw=new wn.Raycaster}static get ACTION(){return qt}set verticalDragToForward(e){console.warn("camera-controls: `verticalDragToForward` was removed. Use `mouseButtons.left = CameraControls.ACTION.SCREEN_PAN` instead.")}constructor(e,n){super(),this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.minDistance=Number.EPSILON,this.maxDistance=1/0,this.infinityDolly=!1,this.minZoom=.01,this.maxZoom=1/0,this.smoothTime=.25,this.draggingSmoothTime=.125,this.maxSpeed=1/0,this.azimuthRotateSpeed=1,this.polarRotateSpeed=1,this.dollySpeed=1,this.dollyDragInverted=!1,this.truckSpeed=2,this.dollyToCursor=!1,this.dragToOffset=!1,this.boundaryFriction=0,this.restThreshold=.01,this.colliderMeshes=[],this.cancel=()=>{},this._enabled=!0,this._state=qt.NONE,this._viewport=null,this._changedDolly=0,this._changedZoom=0,this._hasRested=!0,this._boundaryEnclosesCamera=!1,this._needsUpdate=!0,this._updatedLastTime=!1,this._elementRect=new DOMRect,this._isDragging=!1,this._dragNeedsUpdate=!0,this._activePointers=[],this._lockedPointer=null,this._interactiveArea=new DOMRect(0,0,1,1),this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._isUserControllingOffset=!1,this._isUserControllingZoom=!1,this._lastDollyDirection=vv.NONE,this._thetaVelocity={value:0},this._phiVelocity={value:0},this._radiusVelocity={value:0},this._targetVelocity=new wn.Vector3,this._focalOffsetVelocity=new wn.Vector3,this._zoomVelocity={value:0},this._truckInternal=(b,A,C,M)=>{let I,k;if(Og(this._camera)){const N=Xn.copy(this._camera.position).sub(this._target),L=this._camera.getEffectiveFOV()*Cx,U=N.length()*Math.tan(L*.5);I=this.truckSpeed*b*U/this._elementRect.height,k=this.truckSpeed*A*U/this._elementRect.height}else if(Bp(this._camera)){const N=this._camera;I=this.truckSpeed*b*(N.right-N.left)/N.zoom/this._elementRect.width,k=this.truckSpeed*A*(N.top-N.bottom)/N.zoom/this._elementRect.height}else return;M?(C?this.setFocalOffset(this._focalOffsetEnd.x+I,this._focalOffsetEnd.y,this._focalOffsetEnd.z,!0):this.truck(I,0,!0),this.forward(-k,!0)):C?this.setFocalOffset(this._focalOffsetEnd.x+I,this._focalOffsetEnd.y+k,this._focalOffsetEnd.z,!0):this.truck(I,k,!0)},this._rotateInternal=(b,A)=>{const C=_v*this.azimuthRotateSpeed*b/this._elementRect.height,M=_v*this.polarRotateSpeed*A/this._elementRect.height;this.rotate(C,M,!0)},this._dollyInternal=(b,A,C)=>{const M=Math.pow(.95,-b*this.dollySpeed),I=this._sphericalEnd.radius,k=this._sphericalEnd.radius*M,N=yc(k,this.minDistance,this.maxDistance),L=N-k;this.infinityDolly&&this.dollyToCursor?this._dollyToNoClamp(k,!0):this.infinityDolly&&!this.dollyToCursor?(this.dollyInFixed(L,!0),this._dollyToNoClamp(N,!0)):this._dollyToNoClamp(N,!0),this.dollyToCursor&&(this._changedDolly+=(this.infinityDolly?k:N)-I,this._dollyControlCoord.set(A,C)),this._lastDollyDirection=Math.sign(-b)},this._zoomInternal=(b,A,C)=>{const M=Math.pow(.95,b*this.dollySpeed),I=this._zoom,k=this._zoom*M;this.zoomTo(k,!0),this.dollyToCursor&&(this._changedZoom+=k-I,this._dollyControlCoord.set(A,C))},typeof wn>"u"&&console.error("camera-controls: `THREE` is undefined. You must first run `CameraControls.install( { THREE: THREE } )`. Check the docs for further information."),this._camera=e,this._yAxisUpSpace=new wn.Quaternion().setFromUnitVectors(this._camera.up,Fw),this._yAxisUpSpaceInverse=this._yAxisUpSpace.clone().invert(),this._state=qt.NONE,this._target=new wn.Vector3,this._targetEnd=this._target.clone(),this._focalOffset=new wn.Vector3,this._focalOffsetEnd=this._focalOffset.clone(),this._spherical=new wn.Spherical().setFromVector3(Xn.copy(this._camera.position).applyQuaternion(this._yAxisUpSpace)),this._sphericalEnd=this._spherical.clone(),this._lastDistance=this._spherical.radius,this._zoom=this._camera.zoom,this._zoomEnd=this._zoom,this._lastZoom=this._zoom,this._nearPlaneCorners=[new wn.Vector3,new wn.Vector3,new wn.Vector3,new wn.Vector3],this._updateNearPlaneCorners(),this._boundary=new wn.Box3(new wn.Vector3(-1/0,-1/0,-1/0),new wn.Vector3(1/0,1/0,1/0)),this._cameraUp0=this._camera.up.clone(),this._target0=this._target.clone(),this._position0=this._camera.position.clone(),this._zoom0=this._zoom,this._focalOffset0=this._focalOffset.clone(),this._dollyControlCoord=new wn.Vector2,this.mouseButtons={left:qt.ROTATE,middle:qt.DOLLY,right:qt.TRUCK,wheel:Og(this._camera)?qt.DOLLY:Bp(this._camera)?qt.ZOOM:qt.NONE},this.touches={one:qt.TOUCH_ROTATE,two:Og(this._camera)?qt.TOUCH_DOLLY_TRUCK:Bp(this._camera)?qt.TOUCH_ZOOM_TRUCK:qt.NONE,three:qt.TOUCH_TRUCK};const r=new wn.Vector2,s=new wn.Vector2,a=new wn.Vector2,o=b=>{if(!this._enabled||!this._domElement)return;if(this._interactiveArea.left!==0||this._interactiveArea.top!==0||this._interactiveArea.width!==1||this._interactiveArea.height!==1){const M=this._domElement.getBoundingClientRect(),I=b.clientX/M.width,k=b.clientY/M.height;if(I<this._interactiveArea.left||I>this._interactiveArea.right||k<this._interactiveArea.top||k>this._interactiveArea.bottom)return}const A=b.pointerType!=="mouse"?null:(b.buttons&kr.LEFT)===kr.LEFT?kr.LEFT:(b.buttons&kr.MIDDLE)===kr.MIDDLE?kr.MIDDLE:(b.buttons&kr.RIGHT)===kr.RIGHT?kr.RIGHT:null;if(A!==null){const M=this._findPointerByMouseButton(A);M&&this._disposePointer(M)}if((b.buttons&kr.LEFT)===kr.LEFT&&this._lockedPointer)return;const C={pointerId:b.pointerId,clientX:b.clientX,clientY:b.clientY,deltaX:0,deltaY:0,mouseButton:A};this._activePointers.push(C),this._domElement.ownerDocument.removeEventListener("pointermove",l,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",u),this._domElement.ownerDocument.addEventListener("pointermove",l,{passive:!1}),this._domElement.ownerDocument.addEventListener("pointerup",u),this._isDragging=!0,y(b)},l=b=>{b.cancelable&&b.preventDefault();const A=b.pointerId,C=this._lockedPointer||this._findPointerById(A);if(C){if(C.clientX=b.clientX,C.clientY=b.clientY,C.deltaX=b.movementX,C.deltaY=b.movementY,this._state=0,b.pointerType==="touch")switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else(!this._isDragging&&this._lockedPointer||this._isDragging&&(b.buttons&kr.LEFT)===kr.LEFT)&&(this._state=this._state|this.mouseButtons.left),this._isDragging&&(b.buttons&kr.MIDDLE)===kr.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),this._isDragging&&(b.buttons&kr.RIGHT)===kr.RIGHT&&(this._state=this._state|this.mouseButtons.right);_()}},u=b=>{const A=this._findPointerById(b.pointerId);if(!(A&&A===this._lockedPointer)){if(A&&this._disposePointer(A),b.pointerType==="touch")switch(this._activePointers.length){case 0:this._state=qt.NONE;break;case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else this._state=qt.NONE;x()}};let f=-1;const h=b=>{if(!this._domElement||!this._enabled||this.mouseButtons.wheel===qt.NONE)return;if(this._interactiveArea.left!==0||this._interactiveArea.top!==0||this._interactiveArea.width!==1||this._interactiveArea.height!==1){const k=this._domElement.getBoundingClientRect(),N=b.clientX/k.width,L=b.clientY/k.height;if(N<this._interactiveArea.left||N>this._interactiveArea.right||L<this._interactiveArea.top||L>this._interactiveArea.bottom)return}if(b.preventDefault(),this.dollyToCursor||this.mouseButtons.wheel===qt.ROTATE||this.mouseButtons.wheel===qt.TRUCK){const k=performance.now();f-k<1e3&&this._getClientRect(this._elementRect),f=k}const A=oot?-1:-3,C=b.deltaMode===1||b.ctrlKey?b.deltaY/A:b.deltaY/(A*10),M=this.dollyToCursor?(b.clientX-this._elementRect.x)/this._elementRect.width*2-1:0,I=this.dollyToCursor?(b.clientY-this._elementRect.y)/this._elementRect.height*-2+1:0;switch(this.mouseButtons.wheel){case qt.ROTATE:{this._rotateInternal(b.deltaX,b.deltaY),this._isUserControllingRotate=!0;break}case qt.TRUCK:{this._truckInternal(b.deltaX,b.deltaY,!1,!1),this._isUserControllingTruck=!0;break}case qt.SCREEN_PAN:{this._truckInternal(b.deltaX,b.deltaY,!1,!0),this._isUserControllingTruck=!0;break}case qt.OFFSET:{this._truckInternal(b.deltaX,b.deltaY,!0,!1),this._isUserControllingOffset=!0;break}case qt.DOLLY:{this._dollyInternal(-C,M,I),this._isUserControllingDolly=!0;break}case qt.ZOOM:{this._zoomInternal(-C,M,I),this._isUserControllingZoom=!0;break}}this.dispatchEvent({type:"control"})},p=b=>{if(!(!this._domElement||!this._enabled)){if(this.mouseButtons.right===XD.ACTION.NONE){const A=b instanceof PointerEvent?b.pointerId:0,C=this._findPointerById(A);C&&this._disposePointer(C),this._domElement.ownerDocument.removeEventListener("pointermove",l,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",u);return}b.preventDefault()}},y=b=>{if(!this._enabled)return;if(KI(this._activePointers,Qo),this._getClientRect(this._elementRect),r.copy(Qo),s.copy(Qo),this._activePointers.length>=2){const C=Qo.x-this._activePointers[1].clientX,M=Qo.y-this._activePointers[1].clientY,I=Math.sqrt(C*C+M*M);a.set(0,I);const k=(this._activePointers[0].clientX+this._activePointers[1].clientX)*.5,N=(this._activePointers[0].clientY+this._activePointers[1].clientY)*.5;s.set(k,N)}if(this._state=0,!b)this._lockedPointer&&(this._state=this._state|this.mouseButtons.left);else if("pointerType"in b&&b.pointerType==="touch")switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else!this._lockedPointer&&(b.buttons&kr.LEFT)===kr.LEFT&&(this._state=this._state|this.mouseButtons.left),(b.buttons&kr.MIDDLE)===kr.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),(b.buttons&kr.RIGHT)===kr.RIGHT&&(this._state=this._state|this.mouseButtons.right);((this._state&qt.ROTATE)===qt.ROTATE||(this._state&qt.TOUCH_ROTATE)===qt.TOUCH_ROTATE||(this._state&qt.TOUCH_DOLLY_ROTATE)===qt.TOUCH_DOLLY_ROTATE||(this._state&qt.TOUCH_ZOOM_ROTATE)===qt.TOUCH_ZOOM_ROTATE)&&(this._sphericalEnd.theta=this._spherical.theta,this._sphericalEnd.phi=this._spherical.phi,this._thetaVelocity.value=0,this._phiVelocity.value=0),((this._state&qt.TRUCK)===qt.TRUCK||(this._state&qt.SCREEN_PAN)===qt.SCREEN_PAN||(this._state&qt.TOUCH_TRUCK)===qt.TOUCH_TRUCK||(this._state&qt.TOUCH_SCREEN_PAN)===qt.TOUCH_SCREEN_PAN||(this._state&qt.TOUCH_DOLLY_TRUCK)===qt.TOUCH_DOLLY_TRUCK||(this._state&qt.TOUCH_DOLLY_SCREEN_PAN)===qt.TOUCH_DOLLY_SCREEN_PAN||(this._state&qt.TOUCH_ZOOM_TRUCK)===qt.TOUCH_ZOOM_TRUCK||(this._state&qt.TOUCH_ZOOM_SCREEN_PAN)===qt.TOUCH_DOLLY_SCREEN_PAN)&&(this._targetEnd.copy(this._target),this._targetVelocity.set(0,0,0)),((this._state&qt.DOLLY)===qt.DOLLY||(this._state&qt.TOUCH_DOLLY)===qt.TOUCH_DOLLY||(this._state&qt.TOUCH_DOLLY_TRUCK)===qt.TOUCH_DOLLY_TRUCK||(this._state&qt.TOUCH_DOLLY_SCREEN_PAN)===qt.TOUCH_DOLLY_SCREEN_PAN||(this._state&qt.TOUCH_DOLLY_OFFSET)===qt.TOUCH_DOLLY_OFFSET||(this._state&qt.TOUCH_DOLLY_ROTATE)===qt.TOUCH_DOLLY_ROTATE)&&(this._sphericalEnd.radius=this._spherical.radius,this._radiusVelocity.value=0),((this._state&qt.ZOOM)===qt.ZOOM||(this._state&qt.TOUCH_ZOOM)===qt.TOUCH_ZOOM||(this._state&qt.TOUCH_ZOOM_TRUCK)===qt.TOUCH_ZOOM_TRUCK||(this._state&qt.TOUCH_ZOOM_SCREEN_PAN)===qt.TOUCH_ZOOM_SCREEN_PAN||(this._state&qt.TOUCH_ZOOM_OFFSET)===qt.TOUCH_ZOOM_OFFSET||(this._state&qt.TOUCH_ZOOM_ROTATE)===qt.TOUCH_ZOOM_ROTATE)&&(this._zoomEnd=this._zoom,this._zoomVelocity.value=0),((this._state&qt.OFFSET)===qt.OFFSET||(this._state&qt.TOUCH_OFFSET)===qt.TOUCH_OFFSET||(this._state&qt.TOUCH_DOLLY_OFFSET)===qt.TOUCH_DOLLY_OFFSET||(this._state&qt.TOUCH_ZOOM_OFFSET)===qt.TOUCH_ZOOM_OFFSET)&&(this._focalOffsetEnd.copy(this._focalOffset),this._focalOffsetVelocity.set(0,0,0)),this.dispatchEvent({type:"controlstart"})},_=()=>{if(!this._enabled||!this._dragNeedsUpdate)return;this._dragNeedsUpdate=!1,KI(this._activePointers,Qo);const A=this._domElement&&this._domElement.ownerDocument.pointerLockElement===this._domElement?this._lockedPointer||this._activePointers[0]:null,C=A?-A.deltaX:s.x-Qo.x,M=A?-A.deltaY:s.y-Qo.y;if(s.copy(Qo),((this._state&qt.ROTATE)===qt.ROTATE||(this._state&qt.TOUCH_ROTATE)===qt.TOUCH_ROTATE||(this._state&qt.TOUCH_DOLLY_ROTATE)===qt.TOUCH_DOLLY_ROTATE||(this._state&qt.TOUCH_ZOOM_ROTATE)===qt.TOUCH_ZOOM_ROTATE)&&(this._rotateInternal(C,M),this._isUserControllingRotate=!0),(this._state&qt.DOLLY)===qt.DOLLY||(this._state&qt.ZOOM)===qt.ZOOM){const I=this.dollyToCursor?(r.x-this._elementRect.x)/this._elementRect.width*2-1:0,k=this.dollyToCursor?(r.y-this._elementRect.y)/this._elementRect.height*-2+1:0,N=this.dollyDragInverted?-1:1;(this._state&qt.DOLLY)===qt.DOLLY?(this._dollyInternal(N*M*Bw,I,k),this._isUserControllingDolly=!0):(this._zoomInternal(N*M*Bw,I,k),this._isUserControllingZoom=!0)}if((this._state&qt.TOUCH_DOLLY)===qt.TOUCH_DOLLY||(this._state&qt.TOUCH_ZOOM)===qt.TOUCH_ZOOM||(this._state&qt.TOUCH_DOLLY_TRUCK)===qt.TOUCH_DOLLY_TRUCK||(this._state&qt.TOUCH_ZOOM_TRUCK)===qt.TOUCH_ZOOM_TRUCK||(this._state&qt.TOUCH_DOLLY_SCREEN_PAN)===qt.TOUCH_DOLLY_SCREEN_PAN||(this._state&qt.TOUCH_ZOOM_SCREEN_PAN)===qt.TOUCH_ZOOM_SCREEN_PAN||(this._state&qt.TOUCH_DOLLY_OFFSET)===qt.TOUCH_DOLLY_OFFSET||(this._state&qt.TOUCH_ZOOM_OFFSET)===qt.TOUCH_ZOOM_OFFSET||(this._state&qt.TOUCH_DOLLY_ROTATE)===qt.TOUCH_DOLLY_ROTATE||(this._state&qt.TOUCH_ZOOM_ROTATE)===qt.TOUCH_ZOOM_ROTATE){const I=Qo.x-this._activePointers[1].clientX,k=Qo.y-this._activePointers[1].clientY,N=Math.sqrt(I*I+k*k),L=a.y-N;a.set(0,N);const U=this.dollyToCursor?(s.x-this._elementRect.x)/this._elementRect.width*2-1:0,O=this.dollyToCursor?(s.y-this._elementRect.y)/this._elementRect.height*-2+1:0;(this._state&qt.TOUCH_DOLLY)===qt.TOUCH_DOLLY||(this._state&qt.TOUCH_DOLLY_ROTATE)===qt.TOUCH_DOLLY_ROTATE||(this._state&qt.TOUCH_DOLLY_TRUCK)===qt.TOUCH_DOLLY_TRUCK||(this._state&qt.TOUCH_DOLLY_SCREEN_PAN)===qt.TOUCH_DOLLY_SCREEN_PAN||(this._state&qt.TOUCH_DOLLY_OFFSET)===qt.TOUCH_DOLLY_OFFSET?(this._dollyInternal(L*Bw,U,O),this._isUserControllingDolly=!0):(this._zoomInternal(L*Bw,U,O),this._isUserControllingZoom=!0)}((this._state&qt.TRUCK)===qt.TRUCK||(this._state&qt.TOUCH_TRUCK)===qt.TOUCH_TRUCK||(this._state&qt.TOUCH_DOLLY_TRUCK)===qt.TOUCH_DOLLY_TRUCK||(this._state&qt.TOUCH_ZOOM_TRUCK)===qt.TOUCH_ZOOM_TRUCK)&&(this._truckInternal(C,M,!1,!1),this._isUserControllingTruck=!0),((this._state&qt.SCREEN_PAN)===qt.SCREEN_PAN||(this._state&qt.TOUCH_SCREEN_PAN)===qt.TOUCH_SCREEN_PAN||(this._state&qt.TOUCH_DOLLY_SCREEN_PAN)===qt.TOUCH_DOLLY_SCREEN_PAN||(this._state&qt.TOUCH_ZOOM_SCREEN_PAN)===qt.TOUCH_ZOOM_SCREEN_PAN)&&(this._truckInternal(C,M,!1,!0),this._isUserControllingTruck=!0),((this._state&qt.OFFSET)===qt.OFFSET||(this._state&qt.TOUCH_OFFSET)===qt.TOUCH_OFFSET||(this._state&qt.TOUCH_DOLLY_OFFSET)===qt.TOUCH_DOLLY_OFFSET||(this._state&qt.TOUCH_ZOOM_OFFSET)===qt.TOUCH_ZOOM_OFFSET)&&(this._truckInternal(C,M,!0,!1),this._isUserControllingOffset=!0),this.dispatchEvent({type:"control"})},x=()=>{KI(this._activePointers,Qo),s.copy(Qo),this._dragNeedsUpdate=!1,(this._activePointers.length===0||this._activePointers.length===1&&this._activePointers[0]===this._lockedPointer)&&(this._isDragging=!1),this._activePointers.length===0&&this._domElement&&(this._domElement.ownerDocument.removeEventListener("pointermove",l,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",u),this.dispatchEvent({type:"controlend"}))};this.lockPointer=()=>{!this._enabled||!this._domElement||(this.cancel(),this._lockedPointer={pointerId:-1,clientX:0,clientY:0,deltaX:0,deltaY:0,mouseButton:null},this._activePointers.push(this._lockedPointer),this._domElement.ownerDocument.removeEventListener("pointermove",l,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",u),this._domElement.requestPointerLock(),this._domElement.ownerDocument.addEventListener("pointerlockchange",S),this._domElement.ownerDocument.addEventListener("pointerlockerror",E),this._domElement.ownerDocument.addEventListener("pointermove",l,{passive:!1}),this._domElement.ownerDocument.addEventListener("pointerup",u),y())},this.unlockPointer=()=>{var b,A,C;this._lockedPointer!==null&&(this._disposePointer(this._lockedPointer),this._lockedPointer=null),(b=this._domElement)===null||b===void 0||b.ownerDocument.exitPointerLock(),(A=this._domElement)===null||A===void 0||A.ownerDocument.removeEventListener("pointerlockchange",S),(C=this._domElement)===null||C===void 0||C.ownerDocument.removeEventListener("pointerlockerror",E),this.cancel()};const S=()=>{this._domElement&&this._domElement.ownerDocument.pointerLockElement===this._domElement||this.unlockPointer()},E=()=>{this.unlockPointer()};this._addAllEventListeners=b=>{this._domElement=b,this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none",this._domElement.addEventListener("pointerdown",o),this._domElement.addEventListener("pointercancel",u),this._domElement.addEventListener("wheel",h,{passive:!1}),this._domElement.addEventListener("contextmenu",p)},this._removeAllEventListeners=()=>{this._domElement&&(this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect="",this._domElement.removeEventListener("pointerdown",o),this._domElement.removeEventListener("pointercancel",u),this._domElement.removeEventListener("wheel",h,{passive:!1}),this._domElement.removeEventListener("contextmenu",p),this._domElement.ownerDocument.removeEventListener("pointermove",l,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",u),this._domElement.ownerDocument.removeEventListener("pointerlockchange",S),this._domElement.ownerDocument.removeEventListener("pointerlockerror",E))},this.cancel=()=>{this._state!==qt.NONE&&(this._state=qt.NONE,this._activePointers.length=0,x())},n&&this.connect(n),this.update(0)}get camera(){return this._camera}set camera(e){this._camera=e,this.updateCameraUp(),this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._domElement&&(e?(this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none"):(this.cancel(),this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect=""))}get active(){return!this._hasRested}get currentAction(){return this._state}get distance(){return this._spherical.radius}set distance(e){this._spherical.radius===e&&this._sphericalEnd.radius===e||(this._spherical.radius=e,this._sphericalEnd.radius=e,this._needsUpdate=!0)}get azimuthAngle(){return this._spherical.theta}set azimuthAngle(e){this._spherical.theta===e&&this._sphericalEnd.theta===e||(this._spherical.theta=e,this._sphericalEnd.theta=e,this._needsUpdate=!0)}get polarAngle(){return this._spherical.phi}set polarAngle(e){this._spherical.phi===e&&this._sphericalEnd.phi===e||(this._spherical.phi=e,this._sphericalEnd.phi=e,this._needsUpdate=!0)}get boundaryEnclosesCamera(){return this._boundaryEnclosesCamera}set boundaryEnclosesCamera(e){this._boundaryEnclosesCamera=e,this._needsUpdate=!0}set interactiveArea(e){this._interactiveArea.width=yc(e.width,0,1),this._interactiveArea.height=yc(e.height,0,1),this._interactiveArea.x=yc(e.x,0,1-this._interactiveArea.width),this._interactiveArea.y=yc(e.y,0,1-this._interactiveArea.height)}addEventListener(e,n){super.addEventListener(e,n)}removeEventListener(e,n){super.removeEventListener(e,n)}rotate(e,n,r=!1){return this.rotateTo(this._sphericalEnd.theta+e,this._sphericalEnd.phi+n,r)}rotateAzimuthTo(e,n=!1){return this.rotateTo(e,this._sphericalEnd.phi,n)}rotatePolarTo(e,n=!1){return this.rotateTo(this._sphericalEnd.theta,e,n)}rotateTo(e,n,r=!1){this._isUserControllingRotate=!1;const s=yc(e,this.minAzimuthAngle,this.maxAzimuthAngle),a=yc(n,this.minPolarAngle,this.maxPolarAngle);this._sphericalEnd.theta=s,this._sphericalEnd.phi=a,this._sphericalEnd.makeSafe(),this._needsUpdate=!0,r||(this._spherical.theta=this._sphericalEnd.theta,this._spherical.phi=this._sphericalEnd.phi);const o=!r||Ui(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&Ui(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold);return this._createOnRestPromise(o)}dolly(e,n=!1){return this.dollyTo(this._sphericalEnd.radius-e,n)}dollyTo(e,n=!1){return this._isUserControllingDolly=!1,this._lastDollyDirection=vv.NONE,this._changedDolly=0,this._dollyToNoClamp(yc(e,this.minDistance,this.maxDistance),n)}_dollyToNoClamp(e,n=!1){const r=this._sphericalEnd.radius;if(this.colliderMeshes.length>=1){const o=this._collisionTest(),l=Ui(o,this._spherical.radius);if(!(r>e)&&l)return Promise.resolve();this._sphericalEnd.radius=Math.min(e,o)}else this._sphericalEnd.radius=e;this._needsUpdate=!0,n||(this._spherical.radius=this._sphericalEnd.radius);const a=!n||Ui(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(a)}dollyInFixed(e,n=!1){this._targetEnd.add(this._getCameraDirection(Ix).multiplyScalar(e)),n||this._target.copy(this._targetEnd);const r=!n||Ui(this._target.x,this._targetEnd.x,this.restThreshold)&&Ui(this._target.y,this._targetEnd.y,this.restThreshold)&&Ui(this._target.z,this._targetEnd.z,this.restThreshold);return this._createOnRestPromise(r)}zoom(e,n=!1){return this.zoomTo(this._zoomEnd+e,n)}zoomTo(e,n=!1){this._isUserControllingZoom=!1,this._zoomEnd=yc(e,this.minZoom,this.maxZoom),this._needsUpdate=!0,n||(this._zoom=this._zoomEnd);const r=!n||Ui(this._zoom,this._zoomEnd,this.restThreshold);return this._changedZoom=0,this._createOnRestPromise(r)}pan(e,n,r=!1){return console.warn("`pan` has been renamed to `truck`"),this.truck(e,n,r)}truck(e,n,r=!1){this._camera.updateMatrix(),Tf.setFromMatrixColumn(this._camera.matrix,0),wf.setFromMatrixColumn(this._camera.matrix,1),Tf.multiplyScalar(e),wf.multiplyScalar(-n);const s=Xn.copy(Tf).add(wf),a=Ri.copy(this._targetEnd).add(s);return this.moveTo(a.x,a.y,a.z,r)}forward(e,n=!1){Xn.setFromMatrixColumn(this._camera.matrix,0),Xn.crossVectors(this._camera.up,Xn),Xn.multiplyScalar(e);const r=Ri.copy(this._targetEnd).add(Xn);return this.moveTo(r.x,r.y,r.z,n)}elevate(e,n=!1){return Xn.copy(this._camera.up).multiplyScalar(e),this.moveTo(this._targetEnd.x+Xn.x,this._targetEnd.y+Xn.y,this._targetEnd.z+Xn.z,n)}moveTo(e,n,r,s=!1){this._isUserControllingTruck=!1;const a=Xn.set(e,n,r).sub(this._targetEnd);this._encloseToBoundary(this._targetEnd,a,this.boundaryFriction),this._needsUpdate=!0,s||this._target.copy(this._targetEnd);const o=!s||Ui(this._target.x,this._targetEnd.x,this.restThreshold)&&Ui(this._target.y,this._targetEnd.y,this.restThreshold)&&Ui(this._target.z,this._targetEnd.z,this.restThreshold);return this._createOnRestPromise(o)}lookInDirectionOf(e,n,r,s=!1){const l=Xn.set(e,n,r).sub(this._targetEnd).normalize().multiplyScalar(-this._sphericalEnd.radius).add(this._targetEnd);return this.setPosition(l.x,l.y,l.z,s)}fitToBox(e,n,{cover:r=!1,paddingLeft:s=0,paddingRight:a=0,paddingBottom:o=0,paddingTop:l=0}={}){const u=[],f=e.isBox3?xv.copy(e):xv.setFromObject(e);f.isEmpty()&&(console.warn("camera-controls: fitTo() cannot be used with an empty box. Aborting"),Promise.resolve());const h=cB(this._sphericalEnd.theta,uB),p=cB(this._sphericalEnd.phi,uB);u.push(this.rotateTo(h,p,n));const y=Xn.setFromSpherical(this._sphericalEnd).normalize(),_=gB.setFromUnitVectors(y,JI),x=Ui(Math.abs(y.y),1);x&&_.multiply(eP.setFromAxisAngle(Fw,h)),_.multiply(this._yAxisUpSpaceInverse);const S=mB.makeEmpty();Ri.copy(f.min).applyQuaternion(_),S.expandByPoint(Ri),Ri.copy(f.min).setX(f.max.x).applyQuaternion(_),S.expandByPoint(Ri),Ri.copy(f.min).setY(f.max.y).applyQuaternion(_),S.expandByPoint(Ri),Ri.copy(f.max).setZ(f.min.z).applyQuaternion(_),S.expandByPoint(Ri),Ri.copy(f.min).setZ(f.max.z).applyQuaternion(_),S.expandByPoint(Ri),Ri.copy(f.max).setY(f.min.y).applyQuaternion(_),S.expandByPoint(Ri),Ri.copy(f.max).setX(f.min.x).applyQuaternion(_),S.expandByPoint(Ri),Ri.copy(f.max).applyQuaternion(_),S.expandByPoint(Ri),S.min.x-=s,S.min.y-=o,S.max.x+=a,S.max.y+=l,_.setFromUnitVectors(JI,y),x&&_.premultiply(eP.invert()),_.premultiply(this._yAxisUpSpace);const E=S.getSize(Xn),b=S.getCenter(Ri).applyQuaternion(_);if(Og(this._camera)){const A=this.getDistanceToFitBox(E.x,E.y,E.z,r);u.push(this.moveTo(b.x,b.y,b.z,n)),u.push(this.dollyTo(A,n)),u.push(this.setFocalOffset(0,0,0,n))}else if(Bp(this._camera)){const A=this._camera,C=A.right-A.left,M=A.top-A.bottom,I=r?Math.max(C/E.x,M/E.y):Math.min(C/E.x,M/E.y);u.push(this.moveTo(b.x,b.y,b.z,n)),u.push(this.zoomTo(I,n)),u.push(this.setFocalOffset(0,0,0,n))}return Promise.all(u)}fitToSphere(e,n){const r=[],a="isObject3D"in e?XD.createBoundingSphere(e,tP):tP.copy(e);if(r.push(this.moveTo(a.center.x,a.center.y,a.center.z,n)),Og(this._camera)){const o=this.getDistanceToFitSphere(a.radius);r.push(this.dollyTo(o,n))}else if(Bp(this._camera)){const o=this._camera.right-this._camera.left,l=this._camera.top-this._camera.bottom,u=2*a.radius,f=Math.min(o/u,l/u);r.push(this.zoomTo(f,n))}return r.push(this.setFocalOffset(0,0,0,n)),Promise.all(r)}setLookAt(e,n,r,s,a,o,l=!1){this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._lastDollyDirection=vv.NONE,this._changedDolly=0;const u=Ri.set(s,a,o),f=Xn.set(e,n,r);this._targetEnd.copy(u),this._sphericalEnd.setFromVector3(f.sub(u).applyQuaternion(this._yAxisUpSpace)),this.normalizeRotations(),this._needsUpdate=!0,l||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));const h=!l||Ui(this._target.x,this._targetEnd.x,this.restThreshold)&&Ui(this._target.y,this._targetEnd.y,this.restThreshold)&&Ui(this._target.z,this._targetEnd.z,this.restThreshold)&&Ui(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&Ui(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&Ui(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(h)}lerpLookAt(e,n,r,s,a,o,l,u,f,h,p,y,_,x=!1){this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._lastDollyDirection=vv.NONE,this._changedDolly=0;const S=Xn.set(s,a,o),E=Ri.set(e,n,r);Su.setFromVector3(E.sub(S).applyQuaternion(this._yAxisUpSpace));const b=bv.set(h,p,y),A=Ri.set(l,u,f);Px.setFromVector3(A.sub(b).applyQuaternion(this._yAxisUpSpace)),this._targetEnd.copy(S.lerp(b,_));const C=Px.theta-Su.theta,M=Px.phi-Su.phi,I=Px.radius-Su.radius;this._sphericalEnd.set(Su.radius+I*_,Su.phi+M*_,Su.theta+C*_),this.normalizeRotations(),this._needsUpdate=!0,x||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));const k=!x||Ui(this._target.x,this._targetEnd.x,this.restThreshold)&&Ui(this._target.y,this._targetEnd.y,this.restThreshold)&&Ui(this._target.z,this._targetEnd.z,this.restThreshold)&&Ui(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&Ui(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&Ui(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(k)}setPosition(e,n,r,s=!1){return this.setLookAt(e,n,r,this._targetEnd.x,this._targetEnd.y,this._targetEnd.z,s)}setTarget(e,n,r,s=!1){const a=this.getPosition(Xn),o=this.setLookAt(a.x,a.y,a.z,e,n,r,s);return this._sphericalEnd.phi=yc(this._sphericalEnd.phi,this.minPolarAngle,this.maxPolarAngle),o}setFocalOffset(e,n,r,s=!1){this._isUserControllingOffset=!1,this._focalOffsetEnd.set(e,n,r),this._needsUpdate=!0,s||this._focalOffset.copy(this._focalOffsetEnd);const a=!s||Ui(this._focalOffset.x,this._focalOffsetEnd.x,this.restThreshold)&&Ui(this._focalOffset.y,this._focalOffsetEnd.y,this.restThreshold)&&Ui(this._focalOffset.z,this._focalOffsetEnd.z,this.restThreshold);return this._createOnRestPromise(a)}setOrbitPoint(e,n,r){this._camera.updateMatrixWorld(),Tf.setFromMatrixColumn(this._camera.matrixWorldInverse,0),wf.setFromMatrixColumn(this._camera.matrixWorldInverse,1),Ig.setFromMatrixColumn(this._camera.matrixWorldInverse,2);const s=Xn.set(e,n,r),a=s.distanceTo(this._camera.position),o=s.sub(this._camera.position);Tf.multiplyScalar(o.x),wf.multiplyScalar(o.y),Ig.multiplyScalar(o.z),Xn.copy(Tf).add(wf).add(Ig),Xn.z=Xn.z+a,this.dollyTo(a,!1),this.setFocalOffset(-Xn.x,Xn.y,-Xn.z,!1),this.moveTo(e,n,r,!1)}setBoundary(e){if(!e){this._boundary.min.set(-1/0,-1/0,-1/0),this._boundary.max.set(1/0,1/0,1/0),this._needsUpdate=!0;return}this._boundary.copy(e),this._boundary.clampPoint(this._targetEnd,this._targetEnd),this._needsUpdate=!0}setViewport(e,n,r,s){if(e===null){this._viewport=null;return}this._viewport=this._viewport||new wn.Vector4,typeof e=="number"?this._viewport.set(e,n,r,s):this._viewport.copy(e)}getDistanceToFitBox(e,n,r,s=!1){if(ZI(this._camera,"getDistanceToFitBox"))return this._spherical.radius;const a=e/n,o=this._camera.getEffectiveFOV()*Cx,l=this._camera.aspect;return((s?a>l:a<l)?n:e/l)*.5/Math.tan(o*.5)+r*.5}getDistanceToFitSphere(e){if(ZI(this._camera,"getDistanceToFitSphere"))return this._spherical.radius;const n=this._camera.getEffectiveFOV()*Cx,r=Math.atan(Math.tan(n*.5)*this._camera.aspect)*2,s=1<this._camera.aspect?n:r;return e/Math.sin(s*.5)}getTarget(e,n=!0){return(e&&e.isVector3?e:new wn.Vector3).copy(n?this._targetEnd:this._target)}getPosition(e,n=!0){return(e&&e.isVector3?e:new wn.Vector3).setFromSpherical(n?this._sphericalEnd:this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(n?this._targetEnd:this._target)}getSpherical(e,n=!0){return(e||new wn.Spherical).copy(n?this._sphericalEnd:this._spherical)}getFocalOffset(e,n=!0){return(e&&e.isVector3?e:new wn.Vector3).copy(n?this._focalOffsetEnd:this._focalOffset)}normalizeRotations(){this._sphericalEnd.theta=this._sphericalEnd.theta%_v,this._sphericalEnd.theta<0&&(this._sphericalEnd.theta+=_v),this._spherical.theta+=_v*Math.round((this._sphericalEnd.theta-this._spherical.theta)/_v)}stop(){this._focalOffset.copy(this._focalOffsetEnd),this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd),this._zoom=this._zoomEnd}reset(e=!1){if(!Ui(this._camera.up.x,this._cameraUp0.x)||!Ui(this._camera.up.y,this._cameraUp0.y)||!Ui(this._camera.up.z,this._cameraUp0.z)){this._camera.up.copy(this._cameraUp0);const r=this.getPosition(Xn);this.updateCameraUp(),this.setPosition(r.x,r.y,r.z)}const n=[this.setLookAt(this._position0.x,this._position0.y,this._position0.z,this._target0.x,this._target0.y,this._target0.z,e),this.setFocalOffset(this._focalOffset0.x,this._focalOffset0.y,this._focalOffset0.z,e),this.zoomTo(this._zoom0,e)];return Promise.all(n)}saveState(){this._cameraUp0.copy(this._camera.up),this.getTarget(this._target0),this.getPosition(this._position0),this._zoom0=this._zoom,this._focalOffset0.copy(this._focalOffset)}updateCameraUp(){this._yAxisUpSpace.setFromUnitVectors(this._camera.up,Fw),this._yAxisUpSpaceInverse.copy(this._yAxisUpSpace).invert()}applyCameraUp(){const e=Xn.subVectors(this._target,this._camera.position).normalize(),n=Ri.crossVectors(e,this._camera.up);this._camera.up.crossVectors(n,e).normalize(),this._camera.updateMatrixWorld();const r=this.getPosition(Xn);this.updateCameraUp(),this.setPosition(r.x,r.y,r.z)}update(e){const n=this._sphericalEnd.theta-this._spherical.theta,r=this._sphericalEnd.phi-this._spherical.phi,s=this._sphericalEnd.radius-this._spherical.radius,a=dB.subVectors(this._targetEnd,this._target),o=pB.subVectors(this._focalOffsetEnd,this._focalOffset),l=this._zoomEnd-this._zoom;if(lr(n))this._thetaVelocity.value=0,this._spherical.theta=this._sphericalEnd.theta;else{const p=this._isUserControllingRotate?this.draggingSmoothTime:this.smoothTime;this._spherical.theta=zw(this._spherical.theta,this._sphericalEnd.theta,this._thetaVelocity,p,1/0,e),this._needsUpdate=!0}if(lr(r))this._phiVelocity.value=0,this._spherical.phi=this._sphericalEnd.phi;else{const p=this._isUserControllingRotate?this.draggingSmoothTime:this.smoothTime;this._spherical.phi=zw(this._spherical.phi,this._sphericalEnd.phi,this._phiVelocity,p,1/0,e),this._needsUpdate=!0}if(lr(s))this._radiusVelocity.value=0,this._spherical.radius=this._sphericalEnd.radius;else{const p=this._isUserControllingDolly?this.draggingSmoothTime:this.smoothTime;this._spherical.radius=zw(this._spherical.radius,this._sphericalEnd.radius,this._radiusVelocity,p,this.maxSpeed,e),this._needsUpdate=!0}if(lr(a.x)&&lr(a.y)&&lr(a.z))this._targetVelocity.set(0,0,0),this._target.copy(this._targetEnd);else{const p=this._isUserControllingTruck?this.draggingSmoothTime:this.smoothTime;fB(this._target,this._targetEnd,this._targetVelocity,p,this.maxSpeed,e,this._target),this._needsUpdate=!0}if(lr(o.x)&&lr(o.y)&&lr(o.z))this._focalOffsetVelocity.set(0,0,0),this._focalOffset.copy(this._focalOffsetEnd);else{const p=this._isUserControllingOffset?this.draggingSmoothTime:this.smoothTime;fB(this._focalOffset,this._focalOffsetEnd,this._focalOffsetVelocity,p,this.maxSpeed,e,this._focalOffset),this._needsUpdate=!0}if(lr(l))this._zoomVelocity.value=0,this._zoom=this._zoomEnd;else{const p=this._isUserControllingZoom?this.draggingSmoothTime:this.smoothTime;this._zoom=zw(this._zoom,this._zoomEnd,this._zoomVelocity,p,1/0,e)}if(this.dollyToCursor){if(Og(this._camera)&&this._changedDolly!==0){const p=this._spherical.radius-this._lastDistance,y=this._camera,_=this._getCameraDirection(Ix),x=Xn.copy(_).cross(y.up).normalize();x.lengthSq()===0&&(x.x=1);const S=Ri.crossVectors(x,_),E=this._sphericalEnd.radius*Math.tan(y.getEffectiveFOV()*Cx*.5),A=(this._sphericalEnd.radius-p-this._sphericalEnd.radius)/this._sphericalEnd.radius,C=bv.copy(this._targetEnd).add(x.multiplyScalar(this._dollyControlCoord.x*E*y.aspect)).add(S.multiplyScalar(this._dollyControlCoord.y*E)),M=Xn.copy(this._targetEnd).lerp(C,A),I=this._lastDollyDirection===vv.IN&&this._spherical.radius<=this.minDistance,k=this._lastDollyDirection===vv.OUT&&this.maxDistance<=this._spherical.radius;if(this.infinityDolly&&(I||k)){this._sphericalEnd.radius-=p,this._spherical.radius-=p;const L=Ri.copy(_).multiplyScalar(-p);M.add(L)}this._boundary.clampPoint(M,M);const N=Ri.subVectors(M,this._targetEnd);this._targetEnd.copy(M),this._target.add(N),this._changedDolly-=p,lr(this._changedDolly)&&(this._changedDolly=0)}else if(Bp(this._camera)&&this._changedZoom!==0){const p=this._zoom-this._lastZoom,y=this._camera,_=Xn.set(this._dollyControlCoord.x,this._dollyControlCoord.y,(y.near+y.far)/(y.near-y.far)).unproject(y),x=Ri.set(0,0,-1).applyQuaternion(y.quaternion),S=bv.copy(_).add(x.multiplyScalar(-_.dot(y.up))),b=-(this._zoom-p-this._zoom)/this._zoom,A=this._getCameraDirection(Ix),C=this._targetEnd.dot(A),M=Xn.copy(this._targetEnd).lerp(S,b),I=M.dot(A),k=A.multiplyScalar(I-C);M.sub(k),this._boundary.clampPoint(M,M);const N=Ri.subVectors(M,this._targetEnd);this._targetEnd.copy(M),this._target.add(N),this._changedZoom-=p,lr(this._changedZoom)&&(this._changedZoom=0)}}this._camera.zoom!==this._zoom&&(this._camera.zoom=this._zoom,this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0),this._dragNeedsUpdate=!0;const u=this._collisionTest();this._spherical.radius=Math.min(this._spherical.radius,u),this._spherical.makeSafe(),this._camera.position.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(this._target),this._camera.lookAt(this._target),(!lr(this._focalOffset.x)||!lr(this._focalOffset.y)||!lr(this._focalOffset.z))&&(Tf.setFromMatrixColumn(this._camera.matrix,0),wf.setFromMatrixColumn(this._camera.matrix,1),Ig.setFromMatrixColumn(this._camera.matrix,2),Tf.multiplyScalar(this._focalOffset.x),wf.multiplyScalar(-this._focalOffset.y),Ig.multiplyScalar(this._focalOffset.z),Xn.copy(Tf).add(wf).add(Ig),this._camera.position.add(Xn),this._camera.updateMatrixWorld()),this._boundaryEnclosesCamera&&this._encloseToBoundary(this._camera.position.copy(this._target),Xn.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse),1);const h=this._needsUpdate;return h&&!this._updatedLastTime?(this._hasRested=!1,this.dispatchEvent({type:"wake"}),this.dispatchEvent({type:"update"})):h?(this.dispatchEvent({type:"update"}),lr(n,this.restThreshold)&&lr(r,this.restThreshold)&&lr(s,this.restThreshold)&&lr(a.x,this.restThreshold)&&lr(a.y,this.restThreshold)&&lr(a.z,this.restThreshold)&&lr(o.x,this.restThreshold)&&lr(o.y,this.restThreshold)&&lr(o.z,this.restThreshold)&&lr(l,this.restThreshold)&&!this._hasRested&&(this._hasRested=!0,this.dispatchEvent({type:"rest"}))):!h&&this._updatedLastTime&&this.dispatchEvent({type:"sleep"}),this._lastDistance=this._spherical.radius,this._lastZoom=this._zoom,this._updatedLastTime=h,this._needsUpdate=!1,h}toJSON(){return JSON.stringify({enabled:this._enabled,minDistance:this.minDistance,maxDistance:Rx(this.maxDistance),minZoom:this.minZoom,maxZoom:Rx(this.maxZoom),minPolarAngle:this.minPolarAngle,maxPolarAngle:Rx(this.maxPolarAngle),minAzimuthAngle:Rx(this.minAzimuthAngle),maxAzimuthAngle:Rx(this.maxAzimuthAngle),smoothTime:this.smoothTime,draggingSmoothTime:this.draggingSmoothTime,dollySpeed:this.dollySpeed,truckSpeed:this.truckSpeed,dollyToCursor:this.dollyToCursor,target:this._targetEnd.toArray(),position:Xn.setFromSpherical(this._sphericalEnd).add(this._targetEnd).toArray(),zoom:this._zoomEnd,focalOffset:this._focalOffsetEnd.toArray(),target0:this._target0.toArray(),position0:this._position0.toArray(),zoom0:this._zoom0,focalOffset0:this._focalOffset0.toArray()})}fromJSON(e,n=!1){const r=JSON.parse(e);this.enabled=r.enabled,this.minDistance=r.minDistance,this.maxDistance=Ox(r.maxDistance),this.minZoom=r.minZoom,this.maxZoom=Ox(r.maxZoom),this.minPolarAngle=r.minPolarAngle,this.maxPolarAngle=Ox(r.maxPolarAngle),this.minAzimuthAngle=Ox(r.minAzimuthAngle),this.maxAzimuthAngle=Ox(r.maxAzimuthAngle),this.smoothTime=r.smoothTime,this.draggingSmoothTime=r.draggingSmoothTime,this.dollySpeed=r.dollySpeed,this.truckSpeed=r.truckSpeed,this.dollyToCursor=r.dollyToCursor,this._target0.fromArray(r.target0),this._position0.fromArray(r.position0),this._zoom0=r.zoom0,this._focalOffset0.fromArray(r.focalOffset0),this.moveTo(r.target[0],r.target[1],r.target[2],n),Su.setFromVector3(Xn.fromArray(r.position).sub(this._targetEnd).applyQuaternion(this._yAxisUpSpace)),this.rotateTo(Su.theta,Su.phi,n),this.dollyTo(Su.radius,n),this.zoomTo(r.zoom,n),this.setFocalOffset(r.focalOffset[0],r.focalOffset[1],r.focalOffset[2],n),this._needsUpdate=!0}connect(e){if(this._domElement){console.warn("camera-controls is already connected.");return}e.setAttribute("data-camera-controls-version",aot),this._addAllEventListeners(e),this._getClientRect(this._elementRect)}disconnect(){this.cancel(),this._removeAllEventListeners(),this._domElement&&(this._domElement.removeAttribute("data-camera-controls-version"),this._domElement=void 0)}dispose(){this.removeAllEventListeners(),this.disconnect()}_getTargetDirection(e){return e.setFromSpherical(this._spherical).divideScalar(this._spherical.radius).applyQuaternion(this._yAxisUpSpaceInverse)}_getCameraDirection(e){return this._getTargetDirection(e).negate()}_findPointerById(e){return this._activePointers.find(n=>n.pointerId===e)}_findPointerByMouseButton(e){return this._activePointers.find(n=>n.mouseButton===e)}_disposePointer(e){this._activePointers.splice(this._activePointers.indexOf(e),1)}_encloseToBoundary(e,n,r){const s=n.lengthSq();if(s===0)return e;const a=Ri.copy(n).add(e),l=this._boundary.clampPoint(a,bv).sub(a),u=l.lengthSq();if(u===0)return e.add(n);if(u===s)return e;if(r===0)return e.add(n).add(l);{const f=1+r*u/n.dot(l);return e.add(Ri.copy(n).multiplyScalar(f)).add(l.multiplyScalar(1-r))}}_updateNearPlaneCorners(){if(Og(this._camera)){const e=this._camera,n=e.near,r=e.getEffectiveFOV()*Cx,s=Math.tan(r*.5)*n,a=s*e.aspect;this._nearPlaneCorners[0].set(-a,-s,0),this._nearPlaneCorners[1].set(a,-s,0),this._nearPlaneCorners[2].set(a,s,0),this._nearPlaneCorners[3].set(-a,s,0)}else if(Bp(this._camera)){const e=this._camera,n=1/e.zoom,r=e.left*n,s=e.right*n,a=e.top*n,o=e.bottom*n;this._nearPlaneCorners[0].set(r,a,0),this._nearPlaneCorners[1].set(s,a,0),this._nearPlaneCorners[2].set(s,o,0),this._nearPlaneCorners[3].set(r,o,0)}}_collisionTest(){let e=1/0;if(!(this.colliderMeshes.length>=1)||ZI(this._camera,"_collisionTest"))return e;const r=this._getTargetDirection(Ix);nP.lookAt(hB,r,this._camera.up);for(let s=0;s<4;s++){const a=Ri.copy(this._nearPlaneCorners[s]);a.applyMatrix4(nP);const o=bv.addVectors(this._target,a);Vw.set(o,r),Vw.far=this._spherical.radius+1;const l=Vw.intersectObjects(this.colliderMeshes);l.length!==0&&l[0].distance<e&&(e=l[0].distance)}return e}_getClientRect(e){if(!this._domElement)return;const n=this._domElement.getBoundingClientRect();return e.x=n.left,e.y=n.top,this._viewport?(e.x+=this._viewport.x,e.y+=n.height-this._viewport.w-this._viewport.y,e.width=this._viewport.z,e.height=this._viewport.w):(e.width=n.width,e.height=n.height),e}_createOnRestPromise(e){return e?Promise.resolve():(this._hasRested=!1,this.dispatchEvent({type:"transitionstart"}),new Promise(n=>{const r=()=>{this.removeEventListener("rest",r),n()};this.addEventListener("rest",r)}))}_addAllEventListeners(e){}_removeAllEventListeners(){}get dampingFactor(){return console.warn(".dampingFactor has been deprecated. use smoothTime (in seconds) instead."),0}set dampingFactor(e){console.warn(".dampingFactor has been deprecated. use smoothTime (in seconds) instead.")}get draggingDampingFactor(){return console.warn(".draggingDampingFactor has been deprecated. use draggingSmoothTime (in seconds) instead."),0}set draggingDampingFactor(e){console.warn(".draggingDampingFactor has been deprecated. use draggingSmoothTime (in seconds) instead.")}static createBoundingSphere(e,n=new wn.Sphere){const r=n,s=r.center;xv.makeEmpty(),e.traverseVisible(o=>{o.isMesh&&xv.expandByObject(o)}),xv.getCenter(s);let a=0;return e.traverseVisible(o=>{if(!o.isMesh)return;const l=o;if(!l.geometry)return;const u=l.geometry.clone();u.applyMatrix4(l.matrixWorld);const h=u.attributes.position;for(let p=0,y=h.count;p<y;p++)Xn.fromBufferAttribute(h,p),a=Math.max(a,s.distanceToSquared(Xn))}),r.radius=Math.sqrt(a),r}};const lot=tt.forwardRef((i,e)=>{tt.useMemo(()=>{const I={Box3:_a,MathUtils:{clamp:XH.clamp},Matrix4:gn,Quaternion:Ao,Raycaster:kL,Sphere:ba,Spherical:zL,Vector2:pe,Vector3:pt,Vector4:xi};iP.install({THREE:I}),yj({CameraControlsImpl:iP})},[]);const{camera:n,domElement:r,makeDefault:s,onStart:a,onEnd:o,onChange:l,regress:u,...f}=i,h=Np(I=>I.camera),p=Np(I=>I.gl),y=Np(I=>I.invalidate),_=Np(I=>I.events),x=Np(I=>I.setEvents),S=Np(I=>I.set),E=Np(I=>I.get),b=Np(I=>I.performance),A=n||h,C=r||_.connected||p.domElement,M=tt.useMemo(()=>new iP(A),[A]);return jL((I,k)=>{M.enabled&&M.update(k)},-1),tt.useEffect(()=>(M.connect(C),()=>void M.disconnect()),[C,M]),tt.useEffect(()=>{const I=L=>{y(),u&&b.regress(),l&&l(L)},k=L=>{a&&a(L)},N=L=>{o&&o(L)};return M.addEventListener("update",I),M.addEventListener("controlstart",k),M.addEventListener("controlend",N),M.addEventListener("control",I),M.addEventListener("transitionstart",I),M.addEventListener("wake",I),()=>{M.removeEventListener("update",I),M.removeEventListener("controlstart",k),M.removeEventListener("controlend",N),M.removeEventListener("control",I),M.removeEventListener("transitionstart",I),M.removeEventListener("wake",I)}},[M,a,o,y,x,u,l]),tt.useEffect(()=>{if(s){const I=E().controls;return S({controls:M}),()=>S({controls:I})}},[s,M]),tt.createElement("primitive",yS({ref:e,object:M},f))});class uot extends ku{constructor(){super({uniforms:{time:{value:0},fade:{value:1}},vertexShader:`
      uniform float time;
      attribute float size;
      varying vec3 vColor;
      void main() {
        vColor = color;
        vec4 mvPosition = modelViewMatrix * vec4(position, 0.5);
        gl_PointSize = size * (30.0 / -mvPosition.z) * (3.0 + sin(time + 100.0));
        gl_Position = projectionMatrix * mvPosition;
      }`,fragmentShader:`
      uniform sampler2D pointTexture;
      uniform float fade;
      varying vec3 vColor;
      void main() {
        float opacity = 1.0;
        if (fade == 1.0) {
          float d = distance(gl_PointCoord, vec2(0.5, 0.5));
          opacity = 1.0 / (1.0 + exp(16.0 * (d - 0.25)));
        }
        gl_FragColor = vec4(vColor, opacity);

        #include <tonemapping_fragment>
	      #include <${rot>=154?"colorspace_fragment":"encodings_fragment"}>
      }`})}}const cot=i=>new pt().setFromSpherical(new zL(i,Math.acos(1-Math.random()*2),Math.random()*2*Math.PI)),fot=tt.forwardRef(({radius:i=100,depth:e=50,count:n=5e3,saturation:r=0,factor:s=4,fade:a=!1,speed:o=1},l)=>{const u=tt.useRef(null),[f,h,p]=tt.useMemo(()=>{const _=[],x=[],S=Array.from({length:n},()=>(.5+.5*Math.random())*s),E=new Fe;let b=i+e;const A=e/n;for(let C=0;C<n;C++)b-=A*Math.random(),_.push(...cot(b).toArray()),E.setHSL(C/n,r,.9),x.push(E.r,E.g,E.b);return[new Float32Array(_),new Float32Array(x),new Float32Array(S)]},[n,e,s,i,r]);jL(_=>u.current&&(u.current.uniforms.time.value=_.clock.elapsedTime*o));const[y]=tt.useState(()=>new uot);return tt.createElement("points",{ref:l},tt.createElement("bufferGeometry",null,tt.createElement("bufferAttribute",{attach:"attributes-position",args:[f,3]}),tt.createElement("bufferAttribute",{attach:"attributes-color",args:[h,3]}),tt.createElement("bufferAttribute",{attach:"attributes-size",args:[p,1]})),tt.createElement("primitive",{ref:u,object:y,attach:"material",blending:yM,"uniforms-fade-value":a,depthWrite:!1,transparent:!0,vertexColors:!0}))}),hot={canvasBackgraundColor:"#002"},wj={genesis:"rgb(255, 255, 255)",submission:"rgb(255, 0, 0)51)",pass:"rgb(27, 250, 250)",switch:"rgb(255, 243, 17)",transition:"rgb(198, 122, 28)",control:"rgb(22, 123, 230)",tachi_waza:"rgb(125, 132, 255)",defence:"rgb(0, 255, 0)",guard:"rgb(234, 4, 255)"},Pg={fov:90,near:.1,far:1e3,position:[30,50,100],dollySpeed:4,minDistance:20,maxDistance:270},Sv={radius:180,depth:5,count:2e3,factor:7,saturation:1,speed:.5},Ff={nodes:"nodos",links:"links"};function Ad(i,...e){const n=new URL(`https://mui.com/production-error/?code=${i}`);return e.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${i}; visit ${n} for the full message.`}function dot(i){if(i.sheet)return i.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===i)return document.styleSheets[e]}function pot(i){var e=document.createElement("style");return e.setAttribute("data-emotion",i.key),i.nonce!==void 0&&e.setAttribute("nonce",i.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var mot=function(){function i(n){var r=this;this._insertTag=function(s){var a;r.tags.length===0?r.insertionPoint?a=r.insertionPoint.nextSibling:r.prepend?a=r.container.firstChild:a=r.before:a=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(s,a),r.tags.push(s)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=i.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(pot(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var a=dot(s);try{a.insertRule(r,a.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var s;return(s=r.parentNode)==null?void 0:s.removeChild(r)}),this.tags=[],this.ctr=0},i}(),Va="-ms-",oC="-moz-",Pi="-webkit-",Aj="comm",qL="rule",$L="decl",got="@import",Mj="@keyframes",yot="@layer",vot=Math.abs,Y2=String.fromCharCode,_ot=Object.assign;function bot(i,e){return ga(i,0)^45?(((e<<2^ga(i,0))<<2^ga(i,1))<<2^ga(i,2))<<2^ga(i,3):0}function Cj(i){return i.trim()}function xot(i,e){return(i=e.exec(i))?i[0]:i}function Di(i,e,n){return i.replace(e,n)}function YD(i,e){return i.indexOf(e)}function ga(i,e){return i.charCodeAt(e)|0}function vS(i,e,n){return i.slice(e,n)}function Nf(i){return i.length}function WL(i){return i.length}function Hw(i,e){return e.push(i),i}function Sot(i,e){return i.map(e).join("")}var K2=1,y_=1,Rj=0,pl=0,Cs=0,Q_="";function Z2(i,e,n,r,s,a,o){return{value:i,root:e,parent:n,type:r,props:s,children:a,line:K2,column:y_,length:o,return:""}}function Dx(i,e){return _ot(Z2("",null,null,"",null,null,0),i,{length:-i.length},e)}function Eot(){return Cs}function Tot(){return Cs=pl>0?ga(Q_,--pl):0,y_--,Cs===10&&(y_=1,K2--),Cs}function ql(){return Cs=pl<Rj?ga(Q_,pl++):0,y_++,Cs===10&&(y_=1,K2++),Cs}function Wf(){return ga(Q_,pl)}function VA(){return pl}function oE(i,e){return vS(Q_,i,e)}function _S(i){switch(i){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Oj(i){return K2=y_=1,Rj=Nf(Q_=i),pl=0,[]}function Ij(i){return Q_="",i}function HA(i){return Cj(oE(pl-1,KD(i===91?i+2:i===40?i+1:i)))}function wot(i){for(;(Cs=Wf())&&Cs<33;)ql();return _S(i)>2||_S(Cs)>3?"":" "}function Aot(i,e){for(;--e&&ql()&&!(Cs<48||Cs>102||Cs>57&&Cs<65||Cs>70&&Cs<97););return oE(i,VA()+(e<6&&Wf()==32&&ql()==32))}function KD(i){for(;ql();)switch(Cs){case i:return pl;case 34:case 39:i!==34&&i!==39&&KD(Cs);break;case 40:i===41&&KD(i);break;case 92:ql();break}return pl}function Mot(i,e){for(;ql()&&i+Cs!==57;)if(i+Cs===84&&Wf()===47)break;return"/*"+oE(e,pl-1)+"*"+Y2(i===47?i:ql())}function Cot(i){for(;!_S(Wf());)ql();return oE(i,pl)}function Rot(i){return Ij(jA("",null,null,null,[""],i=Oj(i),0,[0],i))}function jA(i,e,n,r,s,a,o,l,u){for(var f=0,h=0,p=o,y=0,_=0,x=0,S=1,E=1,b=1,A=0,C="",M=s,I=a,k=r,N=C;E;)switch(x=A,A=ql()){case 40:if(x!=108&&ga(N,p-1)==58){YD(N+=Di(HA(A),"&","&\f"),"&\f")!=-1&&(b=-1);break}case 34:case 39:case 91:N+=HA(A);break;case 9:case 10:case 13:case 32:N+=wot(x);break;case 92:N+=Aot(VA()-1,7);continue;case 47:switch(Wf()){case 42:case 47:Hw(Oot(Mot(ql(),VA()),e,n),u);break;default:N+="/"}break;case 123*S:l[f++]=Nf(N)*b;case 125*S:case 59:case 0:switch(A){case 0:case 125:E=0;case 59+h:b==-1&&(N=Di(N,/\f/g,"")),_>0&&Nf(N)-p&&Hw(_>32?vB(N+";",r,n,p-1):vB(Di(N," ","")+";",r,n,p-2),u);break;case 59:N+=";";default:if(Hw(k=yB(N,e,n,f,h,s,l,C,M=[],I=[],p),a),A===123)if(h===0)jA(N,e,k,k,M,a,p,l,I);else switch(y===99&&ga(N,3)===110?100:y){case 100:case 108:case 109:case 115:jA(i,k,k,r&&Hw(yB(i,k,k,0,0,s,l,C,s,M=[],p),I),s,I,p,l,r?M:I);break;default:jA(N,k,k,k,[""],I,0,l,I)}}f=h=_=0,S=b=1,C=N="",p=o;break;case 58:p=1+Nf(N),_=x;default:if(S<1){if(A==123)--S;else if(A==125&&S++==0&&Tot()==125)continue}switch(N+=Y2(A),A*S){case 38:b=h>0?1:(N+="\f",-1);break;case 44:l[f++]=(Nf(N)-1)*b,b=1;break;case 64:Wf()===45&&(N+=HA(ql())),y=Wf(),h=p=Nf(C=N+=Cot(VA())),A++;break;case 45:x===45&&Nf(N)==2&&(S=0)}}return a}function yB(i,e,n,r,s,a,o,l,u,f,h){for(var p=s-1,y=s===0?a:[""],_=WL(y),x=0,S=0,E=0;x<r;++x)for(var b=0,A=vS(i,p+1,p=vot(S=o[x])),C=i;b<_;++b)(C=Cj(S>0?y[b]+" "+A:Di(A,/&\f/g,y[b])))&&(u[E++]=C);return Z2(i,e,n,s===0?qL:l,u,f,h)}function Oot(i,e,n){return Z2(i,e,n,Aj,Y2(Eot()),vS(i,2,-2),0)}function vB(i,e,n,r){return Z2(i,e,n,$L,vS(i,0,r),vS(i,r+1,-1),r)}function Qv(i,e){for(var n="",r=WL(i),s=0;s<r;s++)n+=e(i[s],s,i,e)||"";return n}function Iot(i,e,n,r){switch(i.type){case yot:if(i.children.length)break;case got:case $L:return i.return=i.return||i.value;case Aj:return"";case Mj:return i.return=i.value+"{"+Qv(i.children,r)+"}";case qL:i.value=i.props.join(",")}return Nf(n=Qv(i.children,r))?i.return=i.value+"{"+n+"}":""}function Pot(i){var e=WL(i);return function(n,r,s,a){for(var o="",l=0;l<e;l++)o+=i[l](n,r,s,a)||"";return o}}function Dot(i){return function(e){e.root||(e=e.return)&&i(e)}}function Pj(i){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=i(n)),e[n]}}var Not=function(e,n,r){for(var s=0,a=0;s=a,a=Wf(),s===38&&a===12&&(n[r]=1),!_S(a);)ql();return oE(e,pl)},Lot=function(e,n){var r=-1,s=44;do switch(_S(s)){case 0:s===38&&Wf()===12&&(n[r]=1),e[r]+=Not(pl-1,n,r);break;case 2:e[r]+=HA(s);break;case 4:if(s===44){e[++r]=Wf()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Y2(s)}while(s=ql());return e},Uot=function(e,n){return Ij(Lot(Oj(e),n))},_B=new WeakMap,kot=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,s=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!_B.get(r))&&!s){_B.set(e,!0);for(var a=[],o=Uot(n,a),l=r.props,u=0,f=0;u<o.length;u++)for(var h=0;h<l.length;h++,f++)e.props[f]=a[u]?o[u].replace(/&\f/g,l[h]):l[h]+" "+o[u]}}},zot=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function Dj(i,e){switch(bot(i,e)){case 5103:return Pi+"print-"+i+i;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Pi+i+i;case 5349:case 4246:case 4810:case 6968:case 2756:return Pi+i+oC+i+Va+i+i;case 6828:case 4268:return Pi+i+Va+i+i;case 6165:return Pi+i+Va+"flex-"+i+i;case 5187:return Pi+i+Di(i,/(\w+).+(:[^]+)/,Pi+"box-$1$2"+Va+"flex-$1$2")+i;case 5443:return Pi+i+Va+"flex-item-"+Di(i,/flex-|-self/,"")+i;case 4675:return Pi+i+Va+"flex-line-pack"+Di(i,/align-content|flex-|-self/,"")+i;case 5548:return Pi+i+Va+Di(i,"shrink","negative")+i;case 5292:return Pi+i+Va+Di(i,"basis","preferred-size")+i;case 6060:return Pi+"box-"+Di(i,"-grow","")+Pi+i+Va+Di(i,"grow","positive")+i;case 4554:return Pi+Di(i,/([^-])(transform)/g,"$1"+Pi+"$2")+i;case 6187:return Di(Di(Di(i,/(zoom-|grab)/,Pi+"$1"),/(image-set)/,Pi+"$1"),i,"")+i;case 5495:case 3959:return Di(i,/(image-set\([^]*)/,Pi+"$1$`$1");case 4968:return Di(Di(i,/(.+:)(flex-)?(.*)/,Pi+"box-pack:$3"+Va+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Pi+i+i;case 4095:case 3583:case 4068:case 2532:return Di(i,/(.+)-inline(.+)/,Pi+"$1$2")+i;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Nf(i)-1-e>6)switch(ga(i,e+1)){case 109:if(ga(i,e+4)!==45)break;case 102:return Di(i,/(.+:)(.+)-([^]+)/,"$1"+Pi+"$2-$3$1"+oC+(ga(i,e+3)==108?"$3":"$2-$3"))+i;case 115:return~YD(i,"stretch")?Dj(Di(i,"stretch","fill-available"),e)+i:i}break;case 4949:if(ga(i,e+1)!==115)break;case 6444:switch(ga(i,Nf(i)-3-(~YD(i,"!important")&&10))){case 107:return Di(i,":",":"+Pi)+i;case 101:return Di(i,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Pi+(ga(i,14)===45?"inline-":"")+"box$3$1"+Pi+"$2$3$1"+Va+"$2box$3")+i}break;case 5936:switch(ga(i,e+11)){case 114:return Pi+i+Va+Di(i,/[svh]\w+-[tblr]{2}/,"tb")+i;case 108:return Pi+i+Va+Di(i,/[svh]\w+-[tblr]{2}/,"tb-rl")+i;case 45:return Pi+i+Va+Di(i,/[svh]\w+-[tblr]{2}/,"lr")+i}return Pi+i+Va+i+i}return i}var Bot=function(e,n,r,s){if(e.length>-1&&!e.return)switch(e.type){case $L:e.return=Dj(e.value,e.length);break;case Mj:return Qv([Dx(e,{value:Di(e.value,"@","@"+Pi)})],s);case qL:if(e.length)return Sot(e.props,function(a){switch(xot(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Qv([Dx(e,{props:[Di(a,/:(read-\w+)/,":"+oC+"$1")]})],s);case"::placeholder":return Qv([Dx(e,{props:[Di(a,/:(plac\w+)/,":"+Pi+"input-$1")]}),Dx(e,{props:[Di(a,/:(plac\w+)/,":"+oC+"$1")]}),Dx(e,{props:[Di(a,/:(plac\w+)/,Va+"input-$1")]})],s)}return""})}},Fot=[Bot],Vot=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(S){var E=S.getAttribute("data-emotion");E.indexOf(" ")!==-1&&(document.head.appendChild(S),S.setAttribute("data-s",""))})}var s=e.stylisPlugins||Fot,a={},o,l=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(S){for(var E=S.getAttribute("data-emotion").split(" "),b=1;b<E.length;b++)a[E[b]]=!0;l.push(S)});var u,f=[kot,zot];{var h,p=[Iot,Dot(function(S){h.insert(S)})],y=Pot(f.concat(s,p)),_=function(E){return Qv(Rot(E),y)};u=function(E,b,A,C){h=A,_(E?E+"{"+b.styles+"}":b.styles),C&&(x.inserted[b.name]=!0)}}var x={key:n,sheet:new mot({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:u};return x.sheet.hydrate(l),x},rP={exports:{}},ki={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bB;function Hot(){if(bB)return ki;bB=1;var i=typeof Symbol=="function"&&Symbol.for,e=i?Symbol.for("react.element"):60103,n=i?Symbol.for("react.portal"):60106,r=i?Symbol.for("react.fragment"):60107,s=i?Symbol.for("react.strict_mode"):60108,a=i?Symbol.for("react.profiler"):60114,o=i?Symbol.for("react.provider"):60109,l=i?Symbol.for("react.context"):60110,u=i?Symbol.for("react.async_mode"):60111,f=i?Symbol.for("react.concurrent_mode"):60111,h=i?Symbol.for("react.forward_ref"):60112,p=i?Symbol.for("react.suspense"):60113,y=i?Symbol.for("react.suspense_list"):60120,_=i?Symbol.for("react.memo"):60115,x=i?Symbol.for("react.lazy"):60116,S=i?Symbol.for("react.block"):60121,E=i?Symbol.for("react.fundamental"):60117,b=i?Symbol.for("react.responder"):60118,A=i?Symbol.for("react.scope"):60119;function C(I){if(typeof I=="object"&&I!==null){var k=I.$$typeof;switch(k){case e:switch(I=I.type,I){case u:case f:case r:case a:case s:case p:return I;default:switch(I=I&&I.$$typeof,I){case l:case h:case x:case _:case o:return I;default:return k}}case n:return k}}}function M(I){return C(I)===f}return ki.AsyncMode=u,ki.ConcurrentMode=f,ki.ContextConsumer=l,ki.ContextProvider=o,ki.Element=e,ki.ForwardRef=h,ki.Fragment=r,ki.Lazy=x,ki.Memo=_,ki.Portal=n,ki.Profiler=a,ki.StrictMode=s,ki.Suspense=p,ki.isAsyncMode=function(I){return M(I)||C(I)===u},ki.isConcurrentMode=M,ki.isContextConsumer=function(I){return C(I)===l},ki.isContextProvider=function(I){return C(I)===o},ki.isElement=function(I){return typeof I=="object"&&I!==null&&I.$$typeof===e},ki.isForwardRef=function(I){return C(I)===h},ki.isFragment=function(I){return C(I)===r},ki.isLazy=function(I){return C(I)===x},ki.isMemo=function(I){return C(I)===_},ki.isPortal=function(I){return C(I)===n},ki.isProfiler=function(I){return C(I)===a},ki.isStrictMode=function(I){return C(I)===s},ki.isSuspense=function(I){return C(I)===p},ki.isValidElementType=function(I){return typeof I=="string"||typeof I=="function"||I===r||I===f||I===a||I===s||I===p||I===y||typeof I=="object"&&I!==null&&(I.$$typeof===x||I.$$typeof===_||I.$$typeof===o||I.$$typeof===l||I.$$typeof===h||I.$$typeof===E||I.$$typeof===b||I.$$typeof===A||I.$$typeof===S)},ki.typeOf=C,ki}var xB;function jot(){return xB||(xB=1,rP.exports=Hot()),rP.exports}var sP,SB;function Got(){if(SB)return sP;SB=1;var i=jot(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};a[i.ForwardRef]=r,a[i.Memo]=s;function o(x){return i.isMemo(x)?s:a[x.$$typeof]||e}var l=Object.defineProperty,u=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,y=Object.prototype;function _(x,S,E){if(typeof S!="string"){if(y){var b=p(S);b&&b!==y&&_(x,b,E)}var A=u(S);f&&(A=A.concat(f(S)));for(var C=o(x),M=o(S),I=0;I<A.length;++I){var k=A[I];if(!n[k]&&!(E&&E[k])&&!(M&&M[k])&&!(C&&C[k])){var N=h(S,k);try{l(x,k,N)}catch{}}}}return x}return sP=_,sP}Got();var qot=!0;function Nj(i,e,n){var r="";return n.split(" ").forEach(function(s){i[s]!==void 0?e.push(i[s]+";"):s&&(r+=s+" ")}),r}var XL=function(e,n,r){var s=e.key+"-"+n.name;(r===!1||qot===!1)&&e.registered[s]===void 0&&(e.registered[s]=n.styles)},YL=function(e,n,r){XL(e,n,r);var s=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var a=n;do e.insert(n===a?"."+s:"",a,e.sheet,!0),a=a.next;while(a!==void 0)}};function $ot(i){for(var e=0,n,r=0,s=i.length;s>=4;++r,s-=4)n=i.charCodeAt(r)&255|(i.charCodeAt(++r)&255)<<8|(i.charCodeAt(++r)&255)<<16|(i.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(i.charCodeAt(r+2)&255)<<16;case 2:e^=(i.charCodeAt(r+1)&255)<<8;case 1:e^=i.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Wot={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Xot=/[A-Z]|^ms/g,Yot=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Lj=function(e){return e.charCodeAt(1)===45},EB=function(e){return e!=null&&typeof e!="boolean"},aP=Pj(function(i){return Lj(i)?i:i.replace(Xot,"-$&").toLowerCase()}),TB=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(Yot,function(r,s,a){return Lf={name:s,styles:a,next:Lf},s})}return Wot[e]!==1&&!Lj(e)&&typeof n=="number"&&n!==0?n+"px":n};function bS(i,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var s=n;if(s.anim===1)return Lf={name:s.name,styles:s.styles,next:Lf},s.name;var a=n;if(a.styles!==void 0){var o=a.next;if(o!==void 0)for(;o!==void 0;)Lf={name:o.name,styles:o.styles,next:Lf},o=o.next;var l=a.styles+";";return l}return Kot(i,e,n)}case"function":{if(i!==void 0){var u=Lf,f=n(i);return Lf=u,bS(i,e,f)}break}}var h=n;if(e==null)return h;var p=e[h];return p!==void 0?p:h}function Kot(i,e,n){var r="";if(Array.isArray(n))for(var s=0;s<n.length;s++)r+=bS(i,e,n[s])+";";else for(var a in n){var o=n[a];if(typeof o!="object"){var l=o;e!=null&&e[l]!==void 0?r+=a+"{"+e[l]+"}":EB(l)&&(r+=aP(a)+":"+TB(a,l)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var u=0;u<o.length;u++)EB(o[u])&&(r+=aP(a)+":"+TB(a,o[u])+";");else{var f=bS(i,e,o);switch(a){case"animation":case"animationName":{r+=aP(a)+":"+f+";";break}default:r+=a+"{"+f+"}"}}}return r}var wB=/label:\s*([^\s;{]+)\s*(;|$)/g,Lf;function lE(i,e,n){if(i.length===1&&typeof i[0]=="object"&&i[0]!==null&&i[0].styles!==void 0)return i[0];var r=!0,s="";Lf=void 0;var a=i[0];if(a==null||a.raw===void 0)r=!1,s+=bS(n,e,a);else{var o=a;s+=o[0]}for(var l=1;l<i.length;l++)if(s+=bS(n,e,i[l]),r){var u=a;s+=u[l]}wB.lastIndex=0;for(var f="",h;(h=wB.exec(s))!==null;)f+="-"+h[1];var p=$ot(s)+f;return{name:p,styles:s,next:Lf}}var Zot=function(e){return e()},Uj=AD.useInsertionEffect?AD.useInsertionEffect:!1,kj=Uj||Zot,AB=Uj||tt.useLayoutEffect,zj=tt.createContext(typeof HTMLElement<"u"?Vot({key:"css"}):null);zj.Provider;var KL=function(e){return tt.forwardRef(function(n,r){var s=tt.useContext(zj);return e(n,s,r)})},Q2=tt.createContext({}),ZL={}.hasOwnProperty,ZD="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Qot=function(e,n){var r={};for(var s in n)ZL.call(n,s)&&(r[s]=n[s]);return r[ZD]=e,r},Jot=function(e){var n=e.cache,r=e.serialized,s=e.isStringTag;return XL(n,r,s),kj(function(){return YL(n,r,s)}),null},tlt=KL(function(i,e,n){var r=i.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var s=i[ZD],a=[r],o="";typeof i.className=="string"?o=Nj(e.registered,a,i.className):i.className!=null&&(o=i.className+" ");var l=lE(a,void 0,tt.useContext(Q2));o+=e.key+"-"+l.name;var u={};for(var f in i)ZL.call(i,f)&&f!=="css"&&f!==ZD&&(u[f]=i[f]);return u.className=o,n&&(u.ref=n),tt.createElement(tt.Fragment,null,tt.createElement(Jot,{cache:e,serialized:l,isStringTag:typeof s=="string"}),tt.createElement(s,u))}),elt=tlt,MB=function(e,n){var r=arguments;if(n==null||!ZL.call(n,"css"))return tt.createElement.apply(void 0,r);var s=r.length,a=new Array(s);a[0]=elt,a[1]=Qot(e,n);for(var o=2;o<s;o++)a[o]=r[o];return tt.createElement.apply(null,a)};(function(i){var e;e||(e=i.JSX||(i.JSX={}))})(MB||(MB={}));var nlt=KL(function(i,e){var n=i.styles,r=lE([n],void 0,tt.useContext(Q2)),s=tt.useRef();return AB(function(){var a=e.key+"-global",o=new e.sheet.constructor({key:a,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),l=!1,u=document.querySelector('style[data-emotion="'+a+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),u!==null&&(l=!0,u.setAttribute("data-emotion",a),o.hydrate([u])),s.current=[o,l],function(){o.flush()}},[e]),AB(function(){var a=s.current,o=a[0],l=a[1];if(l){a[1]=!1;return}if(r.next!==void 0&&YL(e,r.next,!0),o.tags.length){var u=o.tags[o.tags.length-1].nextElementSibling;o.before=u,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function J_(){for(var i=arguments.length,e=new Array(i),n=0;n<i;n++)e[n]=arguments[n];return lE(e)}function Mm(){var i=J_.apply(void 0,arguments),e="animation-"+i.name;return{name:e,styles:"@keyframes "+e+"{"+i.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var ilt=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,rlt=Pj(function(i){return ilt.test(i)||i.charCodeAt(0)===111&&i.charCodeAt(1)===110&&i.charCodeAt(2)<91}),slt=rlt,alt=function(e){return e!=="theme"},CB=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?slt:alt},RB=function(e,n,r){var s;if(n){var a=n.shouldForwardProp;s=e.__emotion_forwardProp&&a?function(o){return e.__emotion_forwardProp(o)&&a(o)}:a}return typeof s!="function"&&r&&(s=e.__emotion_forwardProp),s},olt=function(e){var n=e.cache,r=e.serialized,s=e.isStringTag;return XL(n,r,s),kj(function(){return YL(n,r,s)}),null},llt=function i(e,n){var r=e.__emotion_real===e,s=r&&e.__emotion_base||e,a,o;n!==void 0&&(a=n.label,o=n.target);var l=RB(e,n,r),u=l||CB(s),f=!u("as");return function(){var h=arguments,p=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(a!==void 0&&p.push("label:"+a+";"),h[0]==null||h[0].raw===void 0)p.push.apply(p,h);else{var y=h[0];p.push(y[0]);for(var _=h.length,x=1;x<_;x++)p.push(h[x],y[x])}var S=KL(function(E,b,A){var C=f&&E.as||s,M="",I=[],k=E;if(E.theme==null){k={};for(var N in E)k[N]=E[N];k.theme=tt.useContext(Q2)}typeof E.className=="string"?M=Nj(b.registered,I,E.className):E.className!=null&&(M=E.className+" ");var L=lE(p.concat(I),b.registered,k);M+=b.key+"-"+L.name,o!==void 0&&(M+=" "+o);var U=f&&l===void 0?CB(C):u,O={};for(var B in E)f&&B==="as"||U(B)&&(O[B]=E[B]);return O.className=M,A&&(O.ref=A),tt.createElement(tt.Fragment,null,tt.createElement(olt,{cache:b,serialized:L,isStringTag:typeof C=="string"}),tt.createElement(C,O))});return S.displayName=a!==void 0?a:"Styled("+(typeof s=="string"?s:s.displayName||s.name||"Component")+")",S.defaultProps=e.defaultProps,S.__emotion_real=S,S.__emotion_base=s,S.__emotion_styles=p,S.__emotion_forwardProp=l,Object.defineProperty(S,"toString",{value:function(){return"."+o}}),S.withComponent=function(E,b){var A=i(E,yS({},n,b,{shouldForwardProp:RB(S,b,!0)}));return A.apply(void 0,p)},S}},ult=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],QD=llt.bind(null);ult.forEach(function(i){QD[i]=QD(i)});var oP={exports:{}},lP,OB;function clt(){if(OB)return lP;OB=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return lP=i,lP}var uP,IB;function flt(){if(IB)return uP;IB=1;var i=clt();function e(){}function n(){}return n.resetWarningCache=e,uP=function(){function r(o,l,u,f,h,p){if(p!==i){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}r.isRequired=r;function s(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},uP}var PB;function hlt(){return PB||(PB=1,oP.exports=flt()()),oP.exports}var dlt=hlt();const Mt=oh(dlt);function plt(i){return i==null||Object.keys(i).length===0}function mlt(i){const{styles:e,defaultTheme:n={}}=i,r=typeof e=="function"?s=>e(plt(s)?n:s):e;return K.jsx(nlt,{styles:r})}/**
 * @mui/styled-engine v6.4.11
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function Bj(i,e){return QD(i,e)}function glt(i,e){Array.isArray(i.__emotion_styles)&&(i.__emotion_styles=e(i.__emotion_styles))}const DB=[];function NB(i){return DB[0]=i,lE(DB)}var cP={exports:{}},Qi={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LB;function ylt(){if(LB)return Qi;LB=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),_=Symbol.for("react.client.reference");function x(S){if(typeof S=="object"&&S!==null){var E=S.$$typeof;switch(E){case i:switch(S=S.type,S){case n:case s:case r:case u:case f:case y:return S;default:switch(S=S&&S.$$typeof,S){case o:case l:case p:case h:return S;case a:return S;default:return E}}case e:return E}}}return Qi.ContextConsumer=a,Qi.ContextProvider=o,Qi.Element=i,Qi.ForwardRef=l,Qi.Fragment=n,Qi.Lazy=p,Qi.Memo=h,Qi.Portal=e,Qi.Profiler=s,Qi.StrictMode=r,Qi.Suspense=u,Qi.SuspenseList=f,Qi.isContextConsumer=function(S){return x(S)===a},Qi.isContextProvider=function(S){return x(S)===o},Qi.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===i},Qi.isForwardRef=function(S){return x(S)===l},Qi.isFragment=function(S){return x(S)===n},Qi.isLazy=function(S){return x(S)===p},Qi.isMemo=function(S){return x(S)===h},Qi.isPortal=function(S){return x(S)===e},Qi.isProfiler=function(S){return x(S)===s},Qi.isStrictMode=function(S){return x(S)===r},Qi.isSuspense=function(S){return x(S)===u},Qi.isSuspenseList=function(S){return x(S)===f},Qi.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===n||S===s||S===r||S===u||S===f||typeof S=="object"&&S!==null&&(S.$$typeof===p||S.$$typeof===h||S.$$typeof===o||S.$$typeof===a||S.$$typeof===l||S.$$typeof===_||S.getModuleId!==void 0)},Qi.typeOf=x,Qi}var UB;function vlt(){return UB||(UB=1,cP.exports=ylt()),cP.exports}var Fj=vlt();function kf(i){if(typeof i!="object"||i===null)return!1;const e=Object.getPrototypeOf(i);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)}function Vj(i){if(tt.isValidElement(i)||Fj.isValidElementType(i)||!kf(i))return i;const e={};return Object.keys(i).forEach(n=>{e[n]=Vj(i[n])}),e}function Js(i,e,n={clone:!0}){const r=n.clone?{...i}:i;return kf(i)&&kf(e)&&Object.keys(e).forEach(s=>{tt.isValidElement(e[s])||Fj.isValidElementType(e[s])?r[s]=e[s]:kf(e[s])&&Object.prototype.hasOwnProperty.call(i,s)&&kf(i[s])?r[s]=Js(i[s],e[s],n):n.clone?r[s]=kf(e[s])?Vj(e[s]):e[s]:r[s]=e[s]}),r}const _lt=i=>{const e=Object.keys(i).map(n=>({key:n,val:i[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function blt(i){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...s}=i,a=_lt(e),o=Object.keys(a);function l(y){return`@media (min-width:${typeof e[y]=="number"?e[y]:y}${n})`}function u(y){return`@media (max-width:${(typeof e[y]=="number"?e[y]:y)-r/100}${n})`}function f(y,_){const x=o.indexOf(_);return`@media (min-width:${typeof e[y]=="number"?e[y]:y}${n}) and (max-width:${(x!==-1&&typeof e[o[x]]=="number"?e[o[x]]:_)-r/100}${n})`}function h(y){return o.indexOf(y)+1<o.length?f(y,o[o.indexOf(y)+1]):l(y)}function p(y){const _=o.indexOf(y);return _===0?l(o[1]):_===o.length-1?u(o[_]):f(y,o[o.indexOf(y)+1]).replace("@media","@media not all and")}return{keys:o,values:a,up:l,down:u,between:f,only:h,not:p,unit:n,...s}}function xlt(i,e){if(!i.containerQueries)return e;const n=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,s)=>{var o,l;const a=/min-width:\s*([0-9.]+)/;return+(((o=r.match(a))==null?void 0:o[1])||0)-+(((l=s.match(a))==null?void 0:l[1])||0)});return n.length?n.reduce((r,s)=>{const a=e[s];return delete r[s],r[s]=a,r},{...e}):e}function Slt(i,e){return e==="@"||e.startsWith("@")&&(i.some(n=>e.startsWith(`@${n}`))||!!e.match(/^@\d/))}function Elt(i,e){const n=e.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,s]=n,a=Number.isNaN(+r)?r||0:+r;return i.containerQueries(s).up(a)}function Tlt(i){const e=(a,o)=>a.replace("@media",o?`@container ${o}`:"@container");function n(a,o){a.up=(...l)=>e(i.breakpoints.up(...l),o),a.down=(...l)=>e(i.breakpoints.down(...l),o),a.between=(...l)=>e(i.breakpoints.between(...l),o),a.only=(...l)=>e(i.breakpoints.only(...l),o),a.not=(...l)=>{const u=e(i.breakpoints.not(...l),o);return u.includes("not all and")?u.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):u}}const r={},s=a=>(n(r,a),r);return n(s),{...i,containerQueries:s}}const wlt={borderRadius:4};function D1(i,e){return e?Js(i,e,{clone:!1}):i}const J2={xs:0,sm:600,md:900,lg:1200,xl:1536},kB={keys:["xs","sm","md","lg","xl"],up:i=>`@media (min-width:${J2[i]}px)`},Alt={containerQueries:i=>({up:e=>{let n=typeof e=="number"?e:J2[e]||e;return typeof n=="number"&&(n=`${n}px`),i?`@container ${i} (min-width:${n})`:`@container (min-width:${n})`}})};function Pc(i,e,n){const r=i.theme||{};if(Array.isArray(e)){const a=r.breakpoints||kB;return e.reduce((o,l,u)=>(o[a.up(a.keys[u])]=n(e[u]),o),{})}if(typeof e=="object"){const a=r.breakpoints||kB;return Object.keys(e).reduce((o,l)=>{if(Slt(a.keys,l)){const u=Elt(r.containerQueries?r:Alt,l);u&&(o[u]=n(e[l],l))}else if(Object.keys(a.values||J2).includes(l)){const u=a.up(l);o[u]=n(e[l],l)}else{const u=l;o[u]=e[u]}return o},{})}return n(e)}function Hj(i={}){var n;return((n=i.keys)==null?void 0:n.reduce((r,s)=>{const a=i.up(s);return r[a]={},r},{}))||{}}function jj(i,e){return i.reduce((n,r)=>{const s=n[r];return(!s||Object.keys(s).length===0)&&delete n[r],n},e)}function Mlt(i,...e){const n=Hj(i),r=[n,...e].reduce((s,a)=>Js(s,a),{});return jj(Object.keys(n),r)}function Clt(i,e){if(typeof i!="object")return{};const n={},r=Object.keys(e);return Array.isArray(i)?r.forEach((s,a)=>{a<i.length&&(n[s]=!0)}):r.forEach(s=>{i[s]!=null&&(n[s]=!0)}),n}function fP({values:i,breakpoints:e,base:n}){const r=n||Clt(i,e),s=Object.keys(r);if(s.length===0)return i;let a;return s.reduce((o,l,u)=>(Array.isArray(i)?(o[l]=i[u]!=null?i[u]:i[a],a=u):typeof i=="object"?(o[l]=i[l]!=null?i[l]:i[a],a=l):o[l]=i,o),{})}function Ge(i){if(typeof i!="string")throw new Error(Ad(7));return i.charAt(0).toUpperCase()+i.slice(1)}function tR(i,e,n=!0){if(!e||typeof e!="string")return null;if(i&&i.vars&&n){const r=`vars.${e}`.split(".").reduce((s,a)=>s&&s[a]?s[a]:null,i);if(r!=null)return r}return e.split(".").reduce((r,s)=>r&&r[s]!=null?r[s]:null,i)}function lC(i,e,n,r=n){let s;return typeof i=="function"?s=i(n):Array.isArray(i)?s=i[n]||r:s=tR(i,n)||r,e&&(s=e(s,r,i)),s}function ms(i){const{prop:e,cssProperty:n=i.prop,themeKey:r,transform:s}=i,a=o=>{if(o[e]==null)return null;const l=o[e],u=o.theme,f=tR(u,r)||{};return Pc(o,l,p=>{let y=lC(f,s,p);return p===y&&typeof p=="string"&&(y=lC(f,s,`${e}${p==="default"?"":Ge(p)}`,p)),n===!1?y:{[n]:y}})};return a.propTypes={},a.filterProps=[e],a}function Rlt(i){const e={};return n=>(e[n]===void 0&&(e[n]=i(n)),e[n])}const Olt={m:"margin",p:"padding"},Ilt={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},zB={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Plt=Rlt(i=>{if(i.length>2)if(zB[i])i=zB[i];else return[i];const[e,n]=i.split(""),r=Olt[e],s=Ilt[n]||"";return Array.isArray(s)?s.map(a=>r+a):[r+s]}),QL=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],JL=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...QL,...JL];function uE(i,e,n,r){const s=tR(i,e,!0)??n;return typeof s=="number"||typeof s=="string"?a=>typeof a=="string"?a:typeof s=="string"?`calc(${a} * ${s})`:s*a:Array.isArray(s)?a=>{if(typeof a=="string")return a;const o=Math.abs(a),l=s[o];return a>=0?l:typeof l=="number"?-l:`-${l}`}:typeof s=="function"?s:()=>{}}function eR(i){return uE(i,"spacing",8)}function Ry(i,e){return typeof e=="string"||e==null?e:i(e)}function Dlt(i,e){return n=>i.reduce((r,s)=>(r[s]=Ry(e,n),r),{})}function Nlt(i,e,n,r){if(!e.includes(n))return null;const s=Plt(n),a=Dlt(s,r),o=i[n];return Pc(i,o,a)}function Gj(i,e){const n=eR(i.theme);return Object.keys(i).map(r=>Nlt(i,e,r,n)).reduce(D1,{})}function Qr(i){return Gj(i,QL)}Qr.propTypes={};Qr.filterProps=QL;function Jr(i){return Gj(i,JL)}Jr.propTypes={};Jr.filterProps=JL;function qj(i=8,e=eR({spacing:i})){if(i.mui)return i;const n=(...r)=>(r.length===0?[1]:r).map(a=>{const o=e(a);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function nR(...i){const e=i.reduce((r,s)=>(s.filterProps.forEach(a=>{r[a]=s}),r),{}),n=r=>Object.keys(r).reduce((s,a)=>e[a]?D1(s,e[a](r)):s,{});return n.propTypes={},n.filterProps=i.reduce((r,s)=>r.concat(s.filterProps),[]),n}function Cu(i){return typeof i!="number"?i:`${i}px solid`}function Fu(i,e){return ms({prop:i,themeKey:"borders",transform:e})}const Llt=Fu("border",Cu),Ult=Fu("borderTop",Cu),klt=Fu("borderRight",Cu),zlt=Fu("borderBottom",Cu),Blt=Fu("borderLeft",Cu),Flt=Fu("borderColor"),Vlt=Fu("borderTopColor"),Hlt=Fu("borderRightColor"),jlt=Fu("borderBottomColor"),Glt=Fu("borderLeftColor"),qlt=Fu("outline",Cu),$lt=Fu("outlineColor"),iR=i=>{if(i.borderRadius!==void 0&&i.borderRadius!==null){const e=uE(i.theme,"shape.borderRadius",4),n=r=>({borderRadius:Ry(e,r)});return Pc(i,i.borderRadius,n)}return null};iR.propTypes={};iR.filterProps=["borderRadius"];nR(Llt,Ult,klt,zlt,Blt,Flt,Vlt,Hlt,jlt,Glt,iR,qlt,$lt);const rR=i=>{if(i.gap!==void 0&&i.gap!==null){const e=uE(i.theme,"spacing",8),n=r=>({gap:Ry(e,r)});return Pc(i,i.gap,n)}return null};rR.propTypes={};rR.filterProps=["gap"];const sR=i=>{if(i.columnGap!==void 0&&i.columnGap!==null){const e=uE(i.theme,"spacing",8),n=r=>({columnGap:Ry(e,r)});return Pc(i,i.columnGap,n)}return null};sR.propTypes={};sR.filterProps=["columnGap"];const aR=i=>{if(i.rowGap!==void 0&&i.rowGap!==null){const e=uE(i.theme,"spacing",8),n=r=>({rowGap:Ry(e,r)});return Pc(i,i.rowGap,n)}return null};aR.propTypes={};aR.filterProps=["rowGap"];const Wlt=ms({prop:"gridColumn"}),Xlt=ms({prop:"gridRow"}),Ylt=ms({prop:"gridAutoFlow"}),Klt=ms({prop:"gridAutoColumns"}),Zlt=ms({prop:"gridAutoRows"}),Qlt=ms({prop:"gridTemplateColumns"}),Jlt=ms({prop:"gridTemplateRows"}),tut=ms({prop:"gridTemplateAreas"}),eut=ms({prop:"gridArea"});nR(rR,sR,aR,Wlt,Xlt,Ylt,Klt,Zlt,Qlt,Jlt,tut,eut);function Jv(i,e){return e==="grey"?e:i}const nut=ms({prop:"color",themeKey:"palette",transform:Jv}),iut=ms({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Jv}),rut=ms({prop:"backgroundColor",themeKey:"palette",transform:Jv});nR(nut,iut,rut);function Vl(i){return i<=1&&i!==0?`${i*100}%`:i}const sut=ms({prop:"width",transform:Vl}),tU=i=>{if(i.maxWidth!==void 0&&i.maxWidth!==null){const e=n=>{var s,a,o,l,u;const r=((o=(a=(s=i.theme)==null?void 0:s.breakpoints)==null?void 0:a.values)==null?void 0:o[n])||J2[n];return r?((u=(l=i.theme)==null?void 0:l.breakpoints)==null?void 0:u.unit)!=="px"?{maxWidth:`${r}${i.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Vl(n)}};return Pc(i,i.maxWidth,e)}return null};tU.filterProps=["maxWidth"];const aut=ms({prop:"minWidth",transform:Vl}),out=ms({prop:"height",transform:Vl}),lut=ms({prop:"maxHeight",transform:Vl}),uut=ms({prop:"minHeight",transform:Vl});ms({prop:"size",cssProperty:"width",transform:Vl});ms({prop:"size",cssProperty:"height",transform:Vl});const cut=ms({prop:"boxSizing"});nR(sut,tU,aut,out,lut,uut,cut);const cE={border:{themeKey:"borders",transform:Cu},borderTop:{themeKey:"borders",transform:Cu},borderRight:{themeKey:"borders",transform:Cu},borderBottom:{themeKey:"borders",transform:Cu},borderLeft:{themeKey:"borders",transform:Cu},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Cu},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:iR},color:{themeKey:"palette",transform:Jv},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Jv},backgroundColor:{themeKey:"palette",transform:Jv},p:{style:Jr},pt:{style:Jr},pr:{style:Jr},pb:{style:Jr},pl:{style:Jr},px:{style:Jr},py:{style:Jr},padding:{style:Jr},paddingTop:{style:Jr},paddingRight:{style:Jr},paddingBottom:{style:Jr},paddingLeft:{style:Jr},paddingX:{style:Jr},paddingY:{style:Jr},paddingInline:{style:Jr},paddingInlineStart:{style:Jr},paddingInlineEnd:{style:Jr},paddingBlock:{style:Jr},paddingBlockStart:{style:Jr},paddingBlockEnd:{style:Jr},m:{style:Qr},mt:{style:Qr},mr:{style:Qr},mb:{style:Qr},ml:{style:Qr},mx:{style:Qr},my:{style:Qr},margin:{style:Qr},marginTop:{style:Qr},marginRight:{style:Qr},marginBottom:{style:Qr},marginLeft:{style:Qr},marginX:{style:Qr},marginY:{style:Qr},marginInline:{style:Qr},marginInlineStart:{style:Qr},marginInlineEnd:{style:Qr},marginBlock:{style:Qr},marginBlockStart:{style:Qr},marginBlockEnd:{style:Qr},displayPrint:{cssProperty:!1,transform:i=>({"@media print":{display:i}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:rR},rowGap:{style:aR},columnGap:{style:sR},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Vl},maxWidth:{style:tU},minWidth:{transform:Vl},height:{transform:Vl},maxHeight:{transform:Vl},minHeight:{transform:Vl},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function fut(...i){const e=i.reduce((r,s)=>r.concat(Object.keys(s)),[]),n=new Set(e);return i.every(r=>n.size===Object.keys(r).length)}function hut(i,e){return typeof i=="function"?i(e):i}function dut(){function i(n,r,s,a){const o={[n]:r,theme:s},l=a[n];if(!l)return{[n]:r};const{cssProperty:u=n,themeKey:f,transform:h,style:p}=l;if(r==null)return null;if(f==="typography"&&r==="inherit")return{[n]:r};const y=tR(s,f)||{};return p?p(o):Pc(o,r,x=>{let S=lC(y,h,x);return x===S&&typeof x=="string"&&(S=lC(y,h,`${n}${x==="default"?"":Ge(x)}`,x)),u===!1?S:{[u]:S}})}function e(n){const{sx:r,theme:s={}}=n||{};if(!r)return null;const a=s.unstable_sxConfig??cE;function o(l){let u=l;if(typeof l=="function")u=l(s);else if(typeof l!="object")return l;if(!u)return null;const f=Hj(s.breakpoints),h=Object.keys(f);let p=f;return Object.keys(u).forEach(y=>{const _=hut(u[y],s);if(_!=null)if(typeof _=="object")if(a[y])p=D1(p,i(y,_,s,a));else{const x=Pc({theme:s},_,S=>({[y]:S}));fut(x,_)?p[y]=e({sx:_,theme:s}):p=D1(p,x)}else p=D1(p,i(y,_,s,a))}),xlt(s,jj(h,p))}return Array.isArray(r)?r.map(o):o(r)}return e}const Oy=dut();Oy.filterProps=["sx"];function put(i,e){var r;const n=this;if(n.vars){if(!((r=n.colorSchemes)!=null&&r[i])||typeof n.getColorSchemeSelector!="function")return{};let s=n.getColorSchemeSelector(i);return s==="&"?e:((s.includes("data-")||s.includes("."))&&(s=`*:where(${s.replace(/\s*&$/,"")}) &`),{[s]:e})}return n.palette.mode===i?e:{}}function fE(i={},...e){const{breakpoints:n={},palette:r={},spacing:s,shape:a={},...o}=i,l=blt(n),u=qj(s);let f=Js({breakpoints:l,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:u,shape:{...wlt,...a}},o);return f=Tlt(f),f.applyStyles=put,f=e.reduce((h,p)=>Js(h,p),f),f.unstable_sxConfig={...cE,...o==null?void 0:o.unstable_sxConfig},f.unstable_sx=function(p){return Oy({sx:p,theme:this})},f}function mut(i){return Object.keys(i).length===0}function gut(i=null){const e=tt.useContext(Q2);return!e||mut(e)?i:e}const yut=fE();function oR(i=yut){return gut(i)}function vut({styles:i,themeId:e,defaultTheme:n={}}){const r=oR(n),s=typeof i=="function"?i(e&&r[e]||r):i;return K.jsx(mlt,{styles:s})}const _ut=i=>{var r;const e={systemProps:{},otherProps:{}},n=((r=i==null?void 0:i.theme)==null?void 0:r.unstable_sxConfig)??cE;return Object.keys(i).forEach(s=>{n[s]?e.systemProps[s]=i[s]:e.otherProps[s]=i[s]}),e};function eU(i){const{sx:e,...n}=i,{systemProps:r,otherProps:s}=_ut(n);let a;return Array.isArray(e)?a=[r,...e]:typeof e=="function"?a=(...o)=>{const l=e(...o);return kf(l)?{...r,...l}:r}:a={...r,...e},{...s,sx:a}}const BB=i=>i,but=()=>{let i=BB;return{configure(e){i=e},generate(e){return i(e)},reset(){i=BB}}},$j=but();function Wj(i){var e,n,r="";if(typeof i=="string"||typeof i=="number")r+=i;else if(typeof i=="object")if(Array.isArray(i)){var s=i.length;for(e=0;e<s;e++)i[e]&&(n=Wj(i[e]))&&(r&&(r+=" "),r+=n)}else for(n in i)i[n]&&(r&&(r+=" "),r+=n);return r}function He(){for(var i,e,n=0,r="",s=arguments.length;n<s;n++)(i=arguments[n])&&(e=Wj(i))&&(r&&(r+=" "),r+=e);return r}function xut(i={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:s}=i,a=Bj("div",{shouldForwardProp:l=>l!=="theme"&&l!=="sx"&&l!=="as"})(Oy);return tt.forwardRef(function(u,f){const h=oR(n),{className:p,component:y="div",..._}=eU(u);return K.jsx(a,{as:y,ref:f,className:He(p,s?s(r):r),theme:e&&h[e]||h,..._})})}const Sut={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function bn(i,e,n="Mui"){const r=Sut[e];return r?`${n}-${r}`:`${$j.generate(i)}-${e}`}function yn(i,e,n="Mui"){const r={};return e.forEach(s=>{r[s]=bn(i,s,n)}),r}function Xj(i){const{variants:e,...n}=i,r={variants:e,style:NB(n),isProcessed:!0};return r.style===n||e&&e.forEach(s=>{typeof s.style!="function"&&(s.style=NB(s.style))}),r}const Eut=fE();function hP(i){return i!=="ownerState"&&i!=="theme"&&i!=="sx"&&i!=="as"}function Tut(i){return i?(e,n)=>n[i]:null}function wut(i,e,n){i.theme=Mut(i.theme)?n:i.theme[e]||i.theme}function GA(i,e){const n=typeof e=="function"?e(i):e;if(Array.isArray(n))return n.flatMap(r=>GA(i,r));if(Array.isArray(n==null?void 0:n.variants)){let r;if(n.isProcessed)r=n.style;else{const{variants:s,...a}=n;r=a}return Yj(i,n.variants,[r])}return n!=null&&n.isProcessed?n.style:n}function Yj(i,e,n=[]){var s;let r;t:for(let a=0;a<e.length;a+=1){const o=e[a];if(typeof o.props=="function"){if(r??(r={...i,...i.ownerState,ownerState:i.ownerState}),!o.props(r))continue}else for(const l in o.props)if(i[l]!==o.props[l]&&((s=i.ownerState)==null?void 0:s[l])!==o.props[l])continue t;typeof o.style=="function"?(r??(r={...i,...i.ownerState,ownerState:i.ownerState}),n.push(o.style(r))):n.push(o.style)}return n}function Kj(i={}){const{themeId:e,defaultTheme:n=Eut,rootShouldForwardProp:r=hP,slotShouldForwardProp:s=hP}=i;function a(l){wut(l,e,n)}return(l,u={})=>{glt(l,I=>I.filter(k=>k!==Oy));const{name:f,slot:h,skipVariantsResolver:p,skipSx:y,overridesResolver:_=Tut(Rut(h)),...x}=u,S=p!==void 0?p:h&&h!=="Root"&&h!=="root"||!1,E=y||!1;let b=hP;h==="Root"||h==="root"?b=r:h?b=s:Cut(l)&&(b=void 0);const A=Bj(l,{shouldForwardProp:b,label:Aut(),...x}),C=I=>{if(typeof I=="function"&&I.__emotion_real!==I)return function(N){return GA(N,I)};if(kf(I)){const k=Xj(I);return k.variants?function(L){return GA(L,k)}:k.style}return I},M=(...I)=>{const k=[],N=I.map(C),L=[];if(k.push(a),f&&_&&L.push(function(H){var q,W;const X=(W=(q=H.theme.components)==null?void 0:q[f])==null?void 0:W.styleOverrides;if(!X)return null;const et={};for(const Z in X)et[Z]=GA(H,X[Z]);return _(H,et)}),f&&!S&&L.push(function(H){var et,q;const V=H.theme,X=(q=(et=V==null?void 0:V.components)==null?void 0:et[f])==null?void 0:q.variants;return X?Yj(H,X):null}),E||L.push(Oy),Array.isArray(N[0])){const B=N.shift(),H=new Array(k.length).fill(""),V=new Array(L.length).fill("");let X;X=[...H,...B,...V],X.raw=[...H,...B.raw,...V],k.unshift(X)}const U=[...k,...N,...L],O=A(...U);return l.muiName&&(O.muiName=l.muiName),O};return A.withConfig&&(M.withConfig=A.withConfig),M}}function Aut(i,e){return void 0}function Mut(i){for(const e in i)return!1;return!0}function Cut(i){return typeof i=="string"&&i.charCodeAt(0)>96}function Rut(i){return i&&i.charAt(0).toLowerCase()+i.slice(1)}const Out=Kj();function v_(i,e){const n={...e};for(const r in i)if(Object.prototype.hasOwnProperty.call(i,r)){const s=r;if(s==="components"||s==="slots")n[s]={...i[s],...n[s]};else if(s==="componentsProps"||s==="slotProps"){const a=i[s],o=e[s];if(!o)n[s]=a||{};else if(!a)n[s]=o;else{n[s]={...o};for(const l in a)if(Object.prototype.hasOwnProperty.call(a,l)){const u=l;n[s][u]=v_(a[u],o[u])}}}else n[s]===void 0&&(n[s]=i[s])}return n}function Iut(i){const{theme:e,name:n,props:r}=i;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:v_(e.components[n].defaultProps,r)}function Put({props:i,name:e,defaultTheme:n,themeId:r}){let s=oR(n);return r&&(s=s[r]||s),Iut({theme:s,name:e,props:i})}const Dc=typeof window<"u"?tt.useLayoutEffect:tt.useEffect;function Dut(i,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(i,n))}function nU(i,e=0,n=1){return Dut(i,e,n)}function Nut(i){i=i.slice(1);const e=new RegExp(`.{1,${i.length>=6?2:1}}`,"g");let n=i.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,s)=>s<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function dm(i){if(i.type)return i;if(i.charAt(0)==="#")return dm(Nut(i));const e=i.indexOf("("),n=i.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(Ad(9,i));let r=i.substring(e+1,i.length-1),s;if(n==="color"){if(r=r.split(" "),s=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(s))throw new Error(Ad(10,s))}else r=r.split(",");return r=r.map(a=>parseFloat(a)),{type:n,values:r,colorSpace:s}}const Lut=i=>{const e=dm(i);return e.values.slice(0,3).map((n,r)=>e.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},c1=(i,e)=>{try{return Lut(i)}catch{return i}};function lR(i){const{type:e,colorSpace:n}=i;let{values:r}=i;return e.includes("rgb")?r=r.map((s,a)=>a<3?parseInt(s,10):s):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function Zj(i){i=dm(i);const{values:e}=i,n=e[0],r=e[1]/100,s=e[2]/100,a=r*Math.min(s,1-s),o=(f,h=(f+n/30)%12)=>s-a*Math.max(Math.min(h-3,9-h,1),-1);let l="rgb";const u=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return i.type==="hsla"&&(l+="a",u.push(e[3])),lR({type:l,values:u})}function JD(i){i=dm(i);let e=i.type==="hsl"||i.type==="hsla"?dm(Zj(i)).values:i.values;return e=e.map(n=>(i.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function Uut(i,e){const n=JD(i),r=JD(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function Ar(i,e){return i=dm(i),e=nU(e),(i.type==="rgb"||i.type==="hsl")&&(i.type+="a"),i.type==="color"?i.values[3]=`/${e}`:i.values[3]=e,lR(i)}function jw(i,e,n){try{return Ar(i,e)}catch{return i}}function Iy(i,e){if(i=dm(i),e=nU(e),i.type.includes("hsl"))i.values[2]*=1-e;else if(i.type.includes("rgb")||i.type.includes("color"))for(let n=0;n<3;n+=1)i.values[n]*=1-e;return lR(i)}function nr(i,e,n){try{return Iy(i,e)}catch{return i}}function Py(i,e){if(i=dm(i),e=nU(e),i.type.includes("hsl"))i.values[2]+=(100-i.values[2])*e;else if(i.type.includes("rgb"))for(let n=0;n<3;n+=1)i.values[n]+=(255-i.values[n])*e;else if(i.type.includes("color"))for(let n=0;n<3;n+=1)i.values[n]+=(1-i.values[n])*e;return lR(i)}function ir(i,e,n){try{return Py(i,e)}catch{return i}}function kut(i,e=.15){return JD(i)>.5?Iy(i,e):Py(i,e)}function Gw(i,e,n){try{return kut(i,e)}catch{return i}}function FB(...i){return i.reduce((e,n)=>n==null?e:function(...s){e.apply(this,s),n.apply(this,s)},()=>{})}function hE(i,e=166){let n;function r(...s){const a=()=>{i.apply(this,s)};clearTimeout(n),n=setTimeout(a,e)}return r.clear=()=>{clearTimeout(n)},r}function dP(i,e){var n,r,s;return tt.isValidElement(i)&&e.indexOf(i.type.muiName??((s=(r=(n=i.type)==null?void 0:n._payload)==null?void 0:r.value)==null?void 0:s.muiName))!==-1}function ml(i){return i&&i.ownerDocument||document}function Yl(i){return ml(i).defaultView||window}function VB(i,e){typeof i=="function"?i(e):i&&(i.current=e)}let HB=0;function zut(i){const[e,n]=tt.useState(i),r=i||e;return tt.useEffect(()=>{e==null&&(HB+=1,n(`mui-${HB}`))},[e]),r}const But={...AD},jB=But.useId;function tb(i){if(jB!==void 0){const e=jB();return i??e}return zut(i)}function uC({controlled:i,default:e,name:n,state:r="value"}){const{current:s}=tt.useRef(i!==void 0),[a,o]=tt.useState(e),l=s?i:a,u=tt.useCallback(f=>{s||o(f)},[]);return[l,u]}function Nu(i){const e=tt.useRef(i);return Dc(()=>{e.current=i}),tt.useRef((...n)=>(0,e.current)(...n)).current}function ps(...i){const e=tt.useRef(void 0),n=tt.useCallback(r=>{const s=i.map(a=>{if(a==null)return null;if(typeof a=="function"){const o=a,l=o(r);return typeof l=="function"?l:()=>{o(null)}}return a.current=r,()=>{a.current=null}});return()=>{s.forEach(a=>a==null?void 0:a())}},i);return tt.useMemo(()=>i.every(r=>r==null)?null:r=>{e.current&&(e.current(),e.current=void 0),r!=null&&(e.current=n(r))},i)}const GB={};function Qj(i,e){const n=tt.useRef(GB);return n.current===GB&&(n.current=i(e)),n}const Fut=[];function Vut(i){tt.useEffect(i,Fut)}class uR{constructor(){dx(this,"currentId",null);dx(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});dx(this,"disposeEffect",()=>this.clear)}static create(){return new uR}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}function Jg(){const i=Qj(uR.create).current;return Vut(i.disposeEffect),i}function cC(i){try{return i.matches(":focus-visible")}catch{}return!1}function Jj(i=window){const e=i.document.documentElement.clientWidth;return i.innerWidth-e}function Hut(i){return tt.Children.toArray(i).filter(e=>tt.isValidElement(e))}function xn(i,e,n=void 0){const r={};for(const s in i){const a=i[s];let o="",l=!0;for(let u=0;u<a.length;u+=1){const f=a[u];f&&(o+=(l===!0?"":" ")+e(f),l=!1,n&&n[f]&&(o+=" "+n[f]))}r[s]=o}return r}function jut(i){return typeof i=="string"}function tG(i,e,n){return i===void 0||jut(i)?e:{...e,ownerState:{...e.ownerState,...n}}}function eG(i,e=[]){if(i===void 0)return{};const n={};return Object.keys(i).filter(r=>r.match(/^on[A-Z]/)&&typeof i[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=i[r]}),n}function qB(i){if(i===void 0)return{};const e={};return Object.keys(i).filter(n=>!(n.match(/^on[A-Z]/)&&typeof i[n]=="function")).forEach(n=>{e[n]=i[n]}),e}function nG(i){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:s,className:a}=i;if(!e){const _=He(n==null?void 0:n.className,a,s==null?void 0:s.className,r==null?void 0:r.className),x={...n==null?void 0:n.style,...s==null?void 0:s.style,...r==null?void 0:r.style},S={...n,...s,...r};return _.length>0&&(S.className=_),Object.keys(x).length>0&&(S.style=x),{props:S,internalRef:void 0}}const o=eG({...s,...r}),l=qB(r),u=qB(s),f=e(o),h=He(f==null?void 0:f.className,n==null?void 0:n.className,a,s==null?void 0:s.className,r==null?void 0:r.className),p={...f==null?void 0:f.style,...n==null?void 0:n.style,...s==null?void 0:s.style,...r==null?void 0:r.style},y={...f,...n,...u,...l};return h.length>0&&(y.className=h),Object.keys(p).length>0&&(y.style=p),{props:y,internalRef:f.ref}}function iG(i,e,n){return typeof i=="function"?i(e,n):i}function __(i){var p;const{elementType:e,externalSlotProps:n,ownerState:r,skipResolvingSlotProps:s=!1,...a}=i,o=s?{}:iG(n,r),{props:l,internalRef:u}=nG({...a,externalSlotProps:o}),f=ps(u,o==null?void 0:o.ref,(p=i.additionalProps)==null?void 0:p.ref);return tG(e,{...l,ref:f},r)}function Wy(i){var e;return parseInt(tt.version,10)>=19?((e=i==null?void 0:i.props)==null?void 0:e.ref)||null:(i==null?void 0:i.ref)||null}const Gut=tt.createContext(),eb=()=>tt.useContext(Gut)??!1,qut=tt.createContext(void 0);function $ut(i){const{theme:e,name:n,props:r}=i;if(!e||!e.components||!e.components[n])return r;const s=e.components[n];return s.defaultProps?v_(s.defaultProps,r):!s.styleOverrides&&!s.variants?v_(s,r):r}function Wut({props:i,name:e}){const n=tt.useContext(qut);return $ut({props:i,name:e,theme:{components:n}})}const $B={theme:void 0};function Xut(i){let e,n;return function(s){let a=e;return(a===void 0||s.theme!==n)&&($B.theme=s.theme,a=Xj(i($B)),e=a,n=s.theme),a}}function Yut(i=""){function e(...r){if(!r.length)return"";const s=r[0];return typeof s=="string"&&!s.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${i?`${i}-`:""}${s}${e(...r.slice(1))})`:`, ${s}`}return(r,...s)=>`var(--${i?`${i}-`:""}${r}${e(...s)})`}const WB=(i,e,n,r=[])=>{let s=i;e.forEach((a,o)=>{o===e.length-1?Array.isArray(s)?s[Number(a)]=n:s&&typeof s=="object"&&(s[a]=n):s&&typeof s=="object"&&(s[a]||(s[a]=r.includes(a)?[]:{}),s=s[a])})},Kut=(i,e,n)=>{function r(s,a=[],o=[]){Object.entries(s).forEach(([l,u])=>{(!n||n&&!n([...a,l]))&&u!=null&&(typeof u=="object"&&Object.keys(u).length>0?r(u,[...a,l],Array.isArray(u)?[...o,l]:o):e([...a,l],u,o))})}r(i)},Zut=(i,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>i.includes(r))||i[i.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function pP(i,e){const{prefix:n,shouldSkipGeneratingVar:r}=e||{},s={},a={},o={};return Kut(i,(l,u,f)=>{if((typeof u=="string"||typeof u=="number")&&(!r||!r(l,u))){const h=`--${n?`${n}-`:""}${l.join("-")}`,p=Zut(l,u);Object.assign(s,{[h]:p}),WB(a,l,`var(${h})`,f),WB(o,l,`var(${h}, ${p})`,f)}},l=>l[0]==="vars"),{css:s,vars:a,varsWithDefaults:o}}function Qut(i,e={}){const{getSelector:n=E,disableCssColorScheme:r,colorSchemeSelector:s}=e,{colorSchemes:a={},components:o,defaultColorScheme:l="light",...u}=i,{vars:f,css:h,varsWithDefaults:p}=pP(u,e);let y=p;const _={},{[l]:x,...S}=a;if(Object.entries(S||{}).forEach(([C,M])=>{const{vars:I,css:k,varsWithDefaults:N}=pP(M,e);y=Js(y,N),_[C]={css:k,vars:I}}),x){const{css:C,vars:M,varsWithDefaults:I}=pP(x,e);y=Js(y,I),_[l]={css:C,vars:M}}function E(C,M){var k,N;let I=s;if(s==="class"&&(I=".%s"),s==="data"&&(I="[data-%s]"),s!=null&&s.startsWith("data-")&&!s.includes("%s")&&(I=`[${s}="%s"]`),C){if(I==="media")return i.defaultColorScheme===C?":root":{[`@media (prefers-color-scheme: ${((N=(k=a[C])==null?void 0:k.palette)==null?void 0:N.mode)||C})`]:{":root":M}};if(I)return i.defaultColorScheme===C?`:root, ${I.replace("%s",String(C))}`:I.replace("%s",String(C))}return":root"}return{vars:y,generateThemeVars:()=>{let C={...f};return Object.entries(_).forEach(([,{vars:M}])=>{C=Js(C,M)}),C},generateStyleSheets:()=>{var L,U;const C=[],M=i.defaultColorScheme||"light";function I(O,B){Object.keys(B).length&&C.push(typeof O=="string"?{[O]:{...B}}:O)}I(n(void 0,{...h}),h);const{[M]:k,...N}=_;if(k){const{css:O}=k,B=(U=(L=a[M])==null?void 0:L.palette)==null?void 0:U.mode,H=!r&&B?{colorScheme:B,...O}:{...O};I(n(M,{...H}),H)}return Object.entries(N).forEach(([O,{css:B}])=>{var X,et;const H=(et=(X=a[O])==null?void 0:X.palette)==null?void 0:et.mode,V=!r&&H?{colorScheme:H,...B}:{...B};I(n(O,{...V}),V)}),C}}}function Jut(i){return function(n){return i==="media"?`@media (prefers-color-scheme: ${n})`:i?i.startsWith("data-")&&!i.includes("%s")?`[${i}="${n}"] &`:i==="class"?`.${n} &`:i==="data"?`[data-${n}] &`:`${i.replace("%s",n)} &`:"&"}}const tct=fE(),ect=Out("div",{name:"MuiStack",slot:"Root",overridesResolver:(i,e)=>e.root});function nct(i){return Put({props:i,name:"MuiStack",defaultTheme:tct})}function ict(i,e){const n=tt.Children.toArray(i).filter(Boolean);return n.reduce((r,s,a)=>(r.push(s),a<n.length-1&&r.push(tt.cloneElement(e,{key:`separator-${a}`})),r),[])}const rct=i=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[i],sct=({ownerState:i,theme:e})=>{let n={display:"flex",flexDirection:"column",...Pc({theme:e},fP({values:i.direction,breakpoints:e.breakpoints.values}),r=>({flexDirection:r}))};if(i.spacing){const r=eR(e),s=Object.keys(e.breakpoints.values).reduce((u,f)=>((typeof i.spacing=="object"&&i.spacing[f]!=null||typeof i.direction=="object"&&i.direction[f]!=null)&&(u[f]=!0),u),{}),a=fP({values:i.direction,base:s}),o=fP({values:i.spacing,base:s});typeof a=="object"&&Object.keys(a).forEach((u,f,h)=>{if(!a[u]){const y=f>0?a[h[f-1]]:"column";a[u]=y}}),n=Js(n,Pc({theme:e},o,(u,f)=>i.useFlexGap?{gap:Ry(r,u)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${rct(f?a[f]:i.direction)}`]:Ry(r,u)}}))}return n=Mlt(e.breakpoints,n),n};function act(i={}){const{createStyledComponent:e=ect,useThemeProps:n=nct,componentName:r="MuiStack"}=i,s=()=>xn({root:["root"]},u=>bn(r,u),{}),a=e(sct);return tt.forwardRef(function(u,f){const h=n(u),p=eU(h),{component:y="div",direction:_="column",spacing:x=0,divider:S,children:E,className:b,useFlexGap:A=!1,...C}=p,M={direction:_,spacing:x,useFlexGap:A},I=s();return K.jsx(a,{as:y,ownerState:M,ref:f,className:He(I.root,b),...C,children:S?ict(E,S):E})})}const cR="$$material",xS={black:"#000",white:"#fff"},oct={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Ev={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Tv={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Nx={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},wv={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Av={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Mv={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function rG(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:xS.white,default:xS.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const lct=rG();function sG(){return{text:{primary:xS.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:xS.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const XB=sG();function YB(i,e,n,r){const s=r.light||r,a=r.dark||r*1.5;i[e]||(i.hasOwnProperty(n)?i[e]=i[n]:e==="light"?i.light=Py(i.main,s):e==="dark"&&(i.dark=Iy(i.main,a)))}function uct(i="light"){return i==="dark"?{main:wv[200],light:wv[50],dark:wv[400]}:{main:wv[700],light:wv[400],dark:wv[800]}}function cct(i="light"){return i==="dark"?{main:Ev[200],light:Ev[50],dark:Ev[400]}:{main:Ev[500],light:Ev[300],dark:Ev[700]}}function fct(i="light"){return i==="dark"?{main:Tv[500],light:Tv[300],dark:Tv[700]}:{main:Tv[700],light:Tv[400],dark:Tv[800]}}function hct(i="light"){return i==="dark"?{main:Av[400],light:Av[300],dark:Av[700]}:{main:Av[700],light:Av[500],dark:Av[900]}}function dct(i="light"){return i==="dark"?{main:Mv[400],light:Mv[300],dark:Mv[700]}:{main:Mv[800],light:Mv[500],dark:Mv[900]}}function pct(i="light"){return i==="dark"?{main:Nx[400],light:Nx[300],dark:Nx[700]}:{main:"#ed6c02",light:Nx[500],dark:Nx[900]}}function iU(i){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2,...s}=i,a=i.primary||uct(e),o=i.secondary||cct(e),l=i.error||fct(e),u=i.info||hct(e),f=i.success||dct(e),h=i.warning||pct(e);function p(S){return Uut(S,XB.text.primary)>=n?XB.text.primary:lct.text.primary}const y=({color:S,name:E,mainShade:b=500,lightShade:A=300,darkShade:C=700})=>{if(S={...S},!S.main&&S[b]&&(S.main=S[b]),!S.hasOwnProperty("main"))throw new Error(Ad(11,E?` (${E})`:"",b));if(typeof S.main!="string")throw new Error(Ad(12,E?` (${E})`:"",JSON.stringify(S.main)));return YB(S,"light",A,r),YB(S,"dark",C,r),S.contrastText||(S.contrastText=p(S.main)),S};let _;return e==="light"?_=rG():e==="dark"&&(_=sG()),Js({common:{...xS},mode:e,primary:y({color:a,name:"primary"}),secondary:y({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:y({color:l,name:"error"}),warning:y({color:h,name:"warning"}),info:y({color:u,name:"info"}),success:y({color:f,name:"success"}),grey:oct,contrastThreshold:n,getContrastText:p,augmentColor:y,tonalOffset:r,..._},s)}function mct(i){const e={};return Object.entries(i).forEach(r=>{const[s,a]=r;typeof a=="object"&&(e[s]=`${a.fontStyle?`${a.fontStyle} `:""}${a.fontVariant?`${a.fontVariant} `:""}${a.fontWeight?`${a.fontWeight} `:""}${a.fontStretch?`${a.fontStretch} `:""}${a.fontSize||""}${a.lineHeight?`/${a.lineHeight} `:""}${a.fontFamily||""}`)}),e}function gct(i,e){return{toolbar:{minHeight:56,[i.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[i.up("sm")]:{minHeight:64}},...e}}function yct(i){return Math.round(i*1e5)/1e5}const KB={textTransform:"uppercase"},ZB='"Roboto", "Helvetica", "Arial", sans-serif';function vct(i,e){const{fontFamily:n=ZB,fontSize:r=14,fontWeightLight:s=300,fontWeightRegular:a=400,fontWeightMedium:o=500,fontWeightBold:l=700,htmlFontSize:u=16,allVariants:f,pxToRem:h,...p}=typeof e=="function"?e(i):e,y=r/14,_=h||(E=>`${E/u*y}rem`),x=(E,b,A,C,M)=>({fontFamily:n,fontWeight:E,fontSize:_(b),lineHeight:A,...n===ZB?{letterSpacing:`${yct(C/b)}em`}:{},...M,...f}),S={h1:x(s,96,1.167,-1.5),h2:x(s,60,1.2,-.5),h3:x(a,48,1.167,0),h4:x(a,34,1.235,.25),h5:x(a,24,1.334,0),h6:x(o,20,1.6,.15),subtitle1:x(a,16,1.75,.15),subtitle2:x(o,14,1.57,.1),body1:x(a,16,1.5,.15),body2:x(a,14,1.43,.15),button:x(o,14,1.75,.4,KB),caption:x(a,12,1.66,.4),overline:x(a,12,2.66,1,KB),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Js({htmlFontSize:u,pxToRem:_,fontFamily:n,fontSize:r,fontWeightLight:s,fontWeightRegular:a,fontWeightMedium:o,fontWeightBold:l,...S},p,{clone:!1})}const _ct=.2,bct=.14,xct=.12;function Tr(...i){return[`${i[0]}px ${i[1]}px ${i[2]}px ${i[3]}px rgba(0,0,0,${_ct})`,`${i[4]}px ${i[5]}px ${i[6]}px ${i[7]}px rgba(0,0,0,${bct})`,`${i[8]}px ${i[9]}px ${i[10]}px ${i[11]}px rgba(0,0,0,${xct})`].join(",")}const Sct=["none",Tr(0,2,1,-1,0,1,1,0,0,1,3,0),Tr(0,3,1,-2,0,2,2,0,0,1,5,0),Tr(0,3,3,-2,0,3,4,0,0,1,8,0),Tr(0,2,4,-1,0,4,5,0,0,1,10,0),Tr(0,3,5,-1,0,5,8,0,0,1,14,0),Tr(0,3,5,-1,0,6,10,0,0,1,18,0),Tr(0,4,5,-2,0,7,10,1,0,2,16,1),Tr(0,5,5,-3,0,8,10,1,0,3,14,2),Tr(0,5,6,-3,0,9,12,1,0,3,16,2),Tr(0,6,6,-3,0,10,14,1,0,4,18,3),Tr(0,6,7,-4,0,11,15,1,0,4,20,3),Tr(0,7,8,-4,0,12,17,2,0,5,22,4),Tr(0,7,8,-4,0,13,19,2,0,5,24,4),Tr(0,7,9,-4,0,14,21,2,0,5,26,4),Tr(0,8,9,-5,0,15,22,2,0,6,28,5),Tr(0,8,10,-5,0,16,24,2,0,6,30,5),Tr(0,8,11,-5,0,17,26,2,0,6,32,5),Tr(0,9,11,-5,0,18,28,2,0,7,34,6),Tr(0,9,12,-6,0,19,29,2,0,7,36,6),Tr(0,10,13,-6,0,20,31,3,0,8,38,7),Tr(0,10,13,-6,0,21,33,3,0,8,40,7),Tr(0,10,14,-6,0,22,35,3,0,8,42,7),Tr(0,11,14,-7,0,23,36,3,0,9,44,8),Tr(0,11,15,-7,0,24,38,3,0,9,46,8)],Ect={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},aG={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function QB(i){return`${Math.round(i)}ms`}function Tct(i){if(!i)return 0;const e=i/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function wct(i){const e={...Ect,...i.easing},n={...aG,...i.duration};return{getAutoHeightDuration:Tct,create:(s=["all"],a={})=>{const{duration:o=n.standard,easing:l=e.easeInOut,delay:u=0,...f}=a;return(Array.isArray(s)?s:[s]).map(h=>`${h} ${typeof o=="string"?o:QB(o)} ${l} ${typeof u=="string"?u:QB(u)}`).join(",")},...i,easing:e,duration:n}}const Act={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function Mct(i){return kf(i)||typeof i>"u"||typeof i=="string"||typeof i=="boolean"||typeof i=="number"||Array.isArray(i)}function oG(i={}){const e={...i};function n(r){const s=Object.entries(r);for(let a=0;a<s.length;a++){const[o,l]=s[a];!Mct(l)||o.startsWith("unstable_")?delete r[o]:kf(l)&&(r[o]={...l},n(r[o]))}}return n(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function t3(i={},...e){const{breakpoints:n,mixins:r={},spacing:s,palette:a={},transitions:o={},typography:l={},shape:u,...f}=i;if(i.vars&&i.generateThemeVars===void 0)throw new Error(Ad(20));const h=iU(a),p=fE(i);let y=Js(p,{mixins:gct(p.breakpoints,r),palette:h,shadows:Sct.slice(),typography:vct(h,l),transitions:wct(o),zIndex:{...Act}});return y=Js(y,f),y=e.reduce((_,x)=>Js(_,x),y),y.unstable_sxConfig={...cE,...f==null?void 0:f.unstable_sxConfig},y.unstable_sx=function(x){return Oy({sx:x,theme:this})},y.toRuntimeSource=oG,y}function e3(i){let e;return i<1?e=5.11916*i**2:e=4.5*Math.log(i+1)+2,Math.round(e*10)/1e3}const Cct=[...Array(25)].map((i,e)=>{if(e===0)return"none";const n=e3(e);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function lG(i){return{inputPlaceholder:i==="dark"?.5:.42,inputUnderline:i==="dark"?.7:.42,switchTrackDisabled:i==="dark"?.2:.12,switchTrack:i==="dark"?.3:.38}}function uG(i){return i==="dark"?Cct:[]}function Rct(i){const{palette:e={mode:"light"},opacity:n,overlays:r,...s}=i,a=iU(e);return{palette:a,opacity:{...lG(a.mode),...n},overlays:r||uG(a.mode),...s}}function Oct(i){var e;return!!i[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!i[0].match(/sxConfig$/)||i[0]==="palette"&&!!((e=i[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const Ict=i=>[...[...Array(25)].map((e,n)=>`--${i?`${i}-`:""}overlays-${n}`),`--${i?`${i}-`:""}palette-AppBar-darkBg`,`--${i?`${i}-`:""}palette-AppBar-darkColor`],Pct=i=>(e,n)=>{const r=i.rootSelector||":root",s=i.colorSchemeSelector;let a=s;if(s==="class"&&(a=".%s"),s==="data"&&(a="[data-%s]"),s!=null&&s.startsWith("data-")&&!s.includes("%s")&&(a=`[${s}="%s"]`),i.defaultColorScheme===e){if(e==="dark"){const o={};return Ict(i.cssVarPrefix).forEach(l=>{o[l]=n[l],delete n[l]}),a==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:o}}:a?{[a.replace("%s",e)]:o,[`${r}, ${a.replace("%s",e)}`]:n}:{[r]:{...n,...o}}}if(a&&a!=="media")return`${r}, ${a.replace("%s",String(e))}`}else if(e){if(a==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:n}};if(a)return a.replace("%s",String(e))}return r};function Dct(i,e){e.forEach(n=>{i[n]||(i[n]={})})}function re(i,e,n){!i[e]&&n&&(i[e]=n)}function f1(i){return typeof i!="string"||!i.startsWith("hsl")?i:Zj(i)}function Wh(i,e){`${e}Channel`in i||(i[`${e}Channel`]=c1(f1(i[e])))}function Nct(i){return typeof i=="number"?`${i}px`:typeof i=="string"||typeof i=="function"||Array.isArray(i)?i:"8px"}const Af=i=>{try{return i()}catch{}},Lct=(i="mui")=>Yut(i);function mP(i,e,n,r){if(!e)return;e=e===!0?{}:e;const s=r==="dark"?"dark":"light";if(!n){i[r]=Rct({...e,palette:{mode:s,...e==null?void 0:e.palette}});return}const{palette:a,...o}=t3({...n,palette:{mode:s,...e==null?void 0:e.palette}});return i[r]={...e,palette:a,opacity:{...lG(s),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||uG(s)},o}function Uct(i={},...e){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:s=!1,cssVarPrefix:a="mui",shouldSkipGeneratingVar:o=Oct,colorSchemeSelector:l=n.light&&n.dark?"media":void 0,rootSelector:u=":root",...f}=i,h=Object.keys(n)[0],p=r||(n.light&&h!=="light"?"light":h),y=Lct(a),{[p]:_,light:x,dark:S,...E}=n,b={...E};let A=_;if((p==="dark"&&!("dark"in n)||p==="light"&&!("light"in n))&&(A=!0),!A)throw new Error(Ad(21,p));const C=mP(b,A,f,p);x&&!b.light&&mP(b,x,void 0,"light"),S&&!b.dark&&mP(b,S,void 0,"dark");let M={defaultColorScheme:p,...C,cssVarPrefix:a,colorSchemeSelector:l,rootSelector:u,getCssVar:y,colorSchemes:b,font:{...mct(C.typography),...C.font},spacing:Nct(f.spacing)};Object.keys(M.colorSchemes).forEach(U=>{const O=M.colorSchemes[U].palette,B=H=>{const V=H.split("-"),X=V[1],et=V[2];return y(H,O[X][et])};if(O.mode==="light"&&(re(O.common,"background","#fff"),re(O.common,"onBackground","#000")),O.mode==="dark"&&(re(O.common,"background","#000"),re(O.common,"onBackground","#fff")),Dct(O,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),O.mode==="light"){re(O.Alert,"errorColor",nr(O.error.light,.6)),re(O.Alert,"infoColor",nr(O.info.light,.6)),re(O.Alert,"successColor",nr(O.success.light,.6)),re(O.Alert,"warningColor",nr(O.warning.light,.6)),re(O.Alert,"errorFilledBg",B("palette-error-main")),re(O.Alert,"infoFilledBg",B("palette-info-main")),re(O.Alert,"successFilledBg",B("palette-success-main")),re(O.Alert,"warningFilledBg",B("palette-warning-main")),re(O.Alert,"errorFilledColor",Af(()=>O.getContrastText(O.error.main))),re(O.Alert,"infoFilledColor",Af(()=>O.getContrastText(O.info.main))),re(O.Alert,"successFilledColor",Af(()=>O.getContrastText(O.success.main))),re(O.Alert,"warningFilledColor",Af(()=>O.getContrastText(O.warning.main))),re(O.Alert,"errorStandardBg",ir(O.error.light,.9)),re(O.Alert,"infoStandardBg",ir(O.info.light,.9)),re(O.Alert,"successStandardBg",ir(O.success.light,.9)),re(O.Alert,"warningStandardBg",ir(O.warning.light,.9)),re(O.Alert,"errorIconColor",B("palette-error-main")),re(O.Alert,"infoIconColor",B("palette-info-main")),re(O.Alert,"successIconColor",B("palette-success-main")),re(O.Alert,"warningIconColor",B("palette-warning-main")),re(O.AppBar,"defaultBg",B("palette-grey-100")),re(O.Avatar,"defaultBg",B("palette-grey-400")),re(O.Button,"inheritContainedBg",B("palette-grey-300")),re(O.Button,"inheritContainedHoverBg",B("palette-grey-A100")),re(O.Chip,"defaultBorder",B("palette-grey-400")),re(O.Chip,"defaultAvatarColor",B("palette-grey-700")),re(O.Chip,"defaultIconColor",B("palette-grey-700")),re(O.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),re(O.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),re(O.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),re(O.LinearProgress,"primaryBg",ir(O.primary.main,.62)),re(O.LinearProgress,"secondaryBg",ir(O.secondary.main,.62)),re(O.LinearProgress,"errorBg",ir(O.error.main,.62)),re(O.LinearProgress,"infoBg",ir(O.info.main,.62)),re(O.LinearProgress,"successBg",ir(O.success.main,.62)),re(O.LinearProgress,"warningBg",ir(O.warning.main,.62)),re(O.Skeleton,"bg",`rgba(${B("palette-text-primaryChannel")} / 0.11)`),re(O.Slider,"primaryTrack",ir(O.primary.main,.62)),re(O.Slider,"secondaryTrack",ir(O.secondary.main,.62)),re(O.Slider,"errorTrack",ir(O.error.main,.62)),re(O.Slider,"infoTrack",ir(O.info.main,.62)),re(O.Slider,"successTrack",ir(O.success.main,.62)),re(O.Slider,"warningTrack",ir(O.warning.main,.62));const H=Gw(O.background.default,.8);re(O.SnackbarContent,"bg",H),re(O.SnackbarContent,"color",Af(()=>O.getContrastText(H))),re(O.SpeedDialAction,"fabHoverBg",Gw(O.background.paper,.15)),re(O.StepConnector,"border",B("palette-grey-400")),re(O.StepContent,"border",B("palette-grey-400")),re(O.Switch,"defaultColor",B("palette-common-white")),re(O.Switch,"defaultDisabledColor",B("palette-grey-100")),re(O.Switch,"primaryDisabledColor",ir(O.primary.main,.62)),re(O.Switch,"secondaryDisabledColor",ir(O.secondary.main,.62)),re(O.Switch,"errorDisabledColor",ir(O.error.main,.62)),re(O.Switch,"infoDisabledColor",ir(O.info.main,.62)),re(O.Switch,"successDisabledColor",ir(O.success.main,.62)),re(O.Switch,"warningDisabledColor",ir(O.warning.main,.62)),re(O.TableCell,"border",ir(jw(O.divider,1),.88)),re(O.Tooltip,"bg",jw(O.grey[700],.92))}if(O.mode==="dark"){re(O.Alert,"errorColor",ir(O.error.light,.6)),re(O.Alert,"infoColor",ir(O.info.light,.6)),re(O.Alert,"successColor",ir(O.success.light,.6)),re(O.Alert,"warningColor",ir(O.warning.light,.6)),re(O.Alert,"errorFilledBg",B("palette-error-dark")),re(O.Alert,"infoFilledBg",B("palette-info-dark")),re(O.Alert,"successFilledBg",B("palette-success-dark")),re(O.Alert,"warningFilledBg",B("palette-warning-dark")),re(O.Alert,"errorFilledColor",Af(()=>O.getContrastText(O.error.dark))),re(O.Alert,"infoFilledColor",Af(()=>O.getContrastText(O.info.dark))),re(O.Alert,"successFilledColor",Af(()=>O.getContrastText(O.success.dark))),re(O.Alert,"warningFilledColor",Af(()=>O.getContrastText(O.warning.dark))),re(O.Alert,"errorStandardBg",nr(O.error.light,.9)),re(O.Alert,"infoStandardBg",nr(O.info.light,.9)),re(O.Alert,"successStandardBg",nr(O.success.light,.9)),re(O.Alert,"warningStandardBg",nr(O.warning.light,.9)),re(O.Alert,"errorIconColor",B("palette-error-main")),re(O.Alert,"infoIconColor",B("palette-info-main")),re(O.Alert,"successIconColor",B("palette-success-main")),re(O.Alert,"warningIconColor",B("palette-warning-main")),re(O.AppBar,"defaultBg",B("palette-grey-900")),re(O.AppBar,"darkBg",B("palette-background-paper")),re(O.AppBar,"darkColor",B("palette-text-primary")),re(O.Avatar,"defaultBg",B("palette-grey-600")),re(O.Button,"inheritContainedBg",B("palette-grey-800")),re(O.Button,"inheritContainedHoverBg",B("palette-grey-700")),re(O.Chip,"defaultBorder",B("palette-grey-700")),re(O.Chip,"defaultAvatarColor",B("palette-grey-300")),re(O.Chip,"defaultIconColor",B("palette-grey-300")),re(O.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),re(O.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),re(O.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),re(O.LinearProgress,"primaryBg",nr(O.primary.main,.5)),re(O.LinearProgress,"secondaryBg",nr(O.secondary.main,.5)),re(O.LinearProgress,"errorBg",nr(O.error.main,.5)),re(O.LinearProgress,"infoBg",nr(O.info.main,.5)),re(O.LinearProgress,"successBg",nr(O.success.main,.5)),re(O.LinearProgress,"warningBg",nr(O.warning.main,.5)),re(O.Skeleton,"bg",`rgba(${B("palette-text-primaryChannel")} / 0.13)`),re(O.Slider,"primaryTrack",nr(O.primary.main,.5)),re(O.Slider,"secondaryTrack",nr(O.secondary.main,.5)),re(O.Slider,"errorTrack",nr(O.error.main,.5)),re(O.Slider,"infoTrack",nr(O.info.main,.5)),re(O.Slider,"successTrack",nr(O.success.main,.5)),re(O.Slider,"warningTrack",nr(O.warning.main,.5));const H=Gw(O.background.default,.98);re(O.SnackbarContent,"bg",H),re(O.SnackbarContent,"color",Af(()=>O.getContrastText(H))),re(O.SpeedDialAction,"fabHoverBg",Gw(O.background.paper,.15)),re(O.StepConnector,"border",B("palette-grey-600")),re(O.StepContent,"border",B("palette-grey-600")),re(O.Switch,"defaultColor",B("palette-grey-300")),re(O.Switch,"defaultDisabledColor",B("palette-grey-600")),re(O.Switch,"primaryDisabledColor",nr(O.primary.main,.55)),re(O.Switch,"secondaryDisabledColor",nr(O.secondary.main,.55)),re(O.Switch,"errorDisabledColor",nr(O.error.main,.55)),re(O.Switch,"infoDisabledColor",nr(O.info.main,.55)),re(O.Switch,"successDisabledColor",nr(O.success.main,.55)),re(O.Switch,"warningDisabledColor",nr(O.warning.main,.55)),re(O.TableCell,"border",nr(jw(O.divider,1),.68)),re(O.Tooltip,"bg",jw(O.grey[700],.92))}Wh(O.background,"default"),Wh(O.background,"paper"),Wh(O.common,"background"),Wh(O.common,"onBackground"),Wh(O,"divider"),Object.keys(O).forEach(H=>{const V=O[H];H!=="tonalOffset"&&V&&typeof V=="object"&&(V.main&&re(O[H],"mainChannel",c1(f1(V.main))),V.light&&re(O[H],"lightChannel",c1(f1(V.light))),V.dark&&re(O[H],"darkChannel",c1(f1(V.dark))),V.contrastText&&re(O[H],"contrastTextChannel",c1(f1(V.contrastText))),H==="text"&&(Wh(O[H],"primary"),Wh(O[H],"secondary")),H==="action"&&(V.active&&Wh(O[H],"active"),V.selected&&Wh(O[H],"selected")))})}),M=e.reduce((U,O)=>Js(U,O),M);const I={prefix:a,disableCssColorScheme:s,shouldSkipGeneratingVar:o,getSelector:Pct(M)},{vars:k,generateThemeVars:N,generateStyleSheets:L}=Qut(M,I);return M.vars=k,Object.entries(M.colorSchemes[M.defaultColorScheme]).forEach(([U,O])=>{M[U]=O}),M.generateThemeVars=N,M.generateStyleSheets=L,M.generateSpacing=function(){return qj(f.spacing,eR(this))},M.getColorSchemeSelector=Jut(l),M.spacing=M.generateSpacing(),M.shouldSkipGeneratingVar=o,M.unstable_sxConfig={...cE,...f==null?void 0:f.unstable_sxConfig},M.unstable_sx=function(O){return Oy({sx:O,theme:this})},M.toRuntimeSource=oG,M}function JB(i,e,n){i.colorSchemes&&n&&(i.colorSchemes[e]={...n!==!0&&n,palette:iU({...n===!0?{}:n.palette,mode:e})})}function cG(i={},...e){const{palette:n,cssVariables:r=!1,colorSchemes:s=n?void 0:{light:!0},defaultColorScheme:a=n==null?void 0:n.mode,...o}=i,l=a||"light",u=s==null?void 0:s[l],f={...s,...n?{[l]:{...typeof u!="boolean"&&u,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in i))return t3(i,...e);let h=n;"palette"in i||f[l]&&(f[l]!==!0?h=f[l].palette:l==="dark"&&(h={mode:"dark"}));const p=t3({...i,palette:h},...e);return p.defaultColorScheme=l,p.colorSchemes=f,p.palette.mode==="light"&&(p.colorSchemes.light={...f.light!==!0&&f.light,palette:p.palette},JB(p,"dark",f.dark)),p.palette.mode==="dark"&&(p.colorSchemes.dark={...f.dark!==!0&&f.dark,palette:p.palette},JB(p,"light",f.light)),p}return!n&&!("light"in f)&&l==="light"&&(f.light=!0),Uct({...o,colorSchemes:f,defaultColorScheme:l,...typeof r!="boolean"&&r},...e)}const rU=cG();function Xy(){const i=oR(rU);return i[cR]||i}function fG(i){return i!=="ownerState"&&i!=="theme"&&i!=="sx"&&i!=="as"}const Vu=i=>fG(i)&&i!=="classes",ge=Kj({themeId:cR,defaultTheme:rU,rootShouldForwardProp:Vu}),kct=yn("MuiBox",["root"]),zct=cG(),Oi=xut({themeId:cR,defaultTheme:zct,defaultClassName:kct.root,generateClassName:$j.generate});function Bct(i){return K.jsx(vut,{...i,defaultTheme:rU,themeId:cR})}function Fct(i){return function(n){return K.jsx(Bct,{styles:typeof i=="function"?r=>i({theme:r,...n}):i})}}function Vct(){return eU}const Rn=Xut;function Mn(i){return Wut(i)}function Hct(i){return bn("MuiSvgIcon",i)}yn("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const jct=i=>{const{color:e,fontSize:n,classes:r}=i,s={root:["root",e!=="inherit"&&`color${Ge(e)}`,`fontSize${Ge(n)}`]};return xn(s,Hct,r)},Gct=ge("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.root,n.color!=="inherit"&&e[`color${Ge(n.color)}`],e[`fontSize${Ge(n.fontSize)}`]]}})(Rn(({theme:i})=>{var e,n,r,s,a,o,l,u,f,h,p,y,_,x;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(s=(e=i.transitions)==null?void 0:e.create)==null?void 0:s.call(e,"fill",{duration:(r=(n=(i.vars??i).transitions)==null?void 0:n.duration)==null?void 0:r.shorter}),variants:[{props:S=>!S.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((o=(a=i.typography)==null?void 0:a.pxToRem)==null?void 0:o.call(a,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((u=(l=i.typography)==null?void 0:l.pxToRem)==null?void 0:u.call(l,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((h=(f=i.typography)==null?void 0:f.pxToRem)==null?void 0:h.call(f,35))||"2.1875rem"}},...Object.entries((i.vars??i).palette).filter(([,S])=>S&&S.main).map(([S])=>{var E,b;return{props:{color:S},style:{color:(b=(E=(i.vars??i).palette)==null?void 0:E[S])==null?void 0:b.main}}}),{props:{color:"action"},style:{color:(y=(p=(i.vars??i).palette)==null?void 0:p.action)==null?void 0:y.active}},{props:{color:"disabled"},style:{color:(x=(_=(i.vars??i).palette)==null?void 0:_.action)==null?void 0:x.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),fC=tt.forwardRef(function(e,n){const r=Mn({props:e,name:"MuiSvgIcon"}),{children:s,className:a,color:o="inherit",component:l="svg",fontSize:u="medium",htmlColor:f,inheritViewBox:h=!1,titleAccess:p,viewBox:y="0 0 24 24",..._}=r,x=tt.isValidElement(s)&&s.type==="svg",S={...r,color:o,component:l,fontSize:u,instanceFontSize:e.fontSize,inheritViewBox:h,viewBox:y,hasSvgAsChild:x},E={};h||(E.viewBox=y);const b=jct(S);return K.jsxs(Gct,{as:l,className:He(b.root,a),focusable:"false",color:f,"aria-hidden":p?void 0:!0,role:p?"img":void 0,ref:n,...E,..._,...x&&s.props,ownerState:S,children:[x?s.props.children:s,p?K.jsx("title",{children:p}):null]})});fC.muiName="SvgIcon";function gs(i,e){function n(r,s){return K.jsx(fC,{"data-testid":`${e}Icon`,ref:s,...r,children:i})}return n.muiName=fC.muiName,tt.memo(tt.forwardRef(n))}const qct=gs(K.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function $ct(i){return bn("MuiAvatar",i)}yn("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);function gi(i,e){const{className:n,elementType:r,ownerState:s,externalForwardedProps:a,internalForwardedProps:o,shouldForwardComponentProp:l=!1,...u}=e,{component:f,slots:h={[i]:void 0},slotProps:p={[i]:void 0},...y}=a,_=h[i]||r,x=iG(p[i],s),{props:{component:S,...E},internalRef:b}=nG({className:n,...u,externalForwardedProps:i==="root"?y:void 0,externalSlotProps:x}),A=ps(b,x==null?void 0:x.ref,e.ref),C=i==="root"?S||f:S,M=tG(_,{...i==="root"&&!f&&!h[i]&&o,...i!=="root"&&!h[i]&&o,...E,...C&&!l&&{as:C},...C&&l&&{component:C},ref:A},s);return[_,M]}const Wct=i=>{const{classes:e,variant:n,colorDefault:r}=i;return xn({root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]},$ct,e)},Xct=ge("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.root,e[n.variant],n.colorDefault&&e.colorDefault]}})(Rn(({theme:i})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:i.typography.fontFamily,fontSize:i.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(i.vars||i).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(i.vars||i).palette.background.default,...i.vars?{backgroundColor:i.vars.palette.Avatar.defaultBg}:{backgroundColor:i.palette.grey[400],...i.applyStyles("dark",{backgroundColor:i.palette.grey[600]})}}}]}))),Yct=ge("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(i,e)=>e.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),Kct=ge(qct,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(i,e)=>e.fallback})({width:"75%",height:"75%"});function Zct({crossOrigin:i,referrerPolicy:e,src:n,srcSet:r}){const[s,a]=tt.useState(!1);return tt.useEffect(()=>{if(!n&&!r)return;a(!1);let o=!0;const l=new Image;return l.onload=()=>{o&&a("loaded")},l.onerror=()=>{o&&a("error")},l.crossOrigin=i,l.referrerPolicy=e,l.src=n,r&&(l.srcset=r),()=>{o=!1}},[i,e,n,r]),s}const tF=tt.forwardRef(function(e,n){const r=Mn({props:e,name:"MuiAvatar"}),{alt:s,children:a,className:o,component:l="div",slots:u={},slotProps:f={},imgProps:h,sizes:p,src:y,srcSet:_,variant:x="circular",...S}=r;let E=null;const b={...r,component:l,variant:x},A=Zct({...h,...typeof f.img=="function"?f.img(b):f.img,src:y,srcSet:_}),C=y||_,M=C&&A!=="error";b.colorDefault=!M,delete b.ownerState;const I=Wct(b),[k,N]=gi("img",{className:I.img,elementType:Yct,externalForwardedProps:{slots:u,slotProps:{img:{...h,...f.img}}},additionalProps:{alt:s,src:y,srcSet:_,sizes:p},ownerState:b});return M?E=K.jsx(k,{...N}):a||a===0?E=a:C&&s?E=s[0]:E=K.jsx(Kct,{ownerState:b,className:I.fallback}),K.jsx(Xct,{as:l,className:He(I.root,o),ref:n,...S,ownerState:b,children:E})}),hC=tt.createContext({});function Qct(i){return bn("MuiList",i)}yn("MuiList",["root","padding","dense","subheader"]);const Jct=i=>{const{classes:e,disablePadding:n,dense:r,subheader:s}=i;return xn({root:["root",!n&&"padding",r&&"dense",s&&"subheader"]},Qct,e)},tft=ge("ul",{name:"MuiList",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:i})=>!i.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:i})=>i.subheader,style:{paddingTop:0}}]}),eft=tt.forwardRef(function(e,n){const r=Mn({props:e,name:"MuiList"}),{children:s,className:a,component:o="ul",dense:l=!1,disablePadding:u=!1,subheader:f,...h}=r,p=tt.useMemo(()=>({dense:l}),[l]),y={...r,component:o,dense:l,disablePadding:u},_=Jct(y);return K.jsx(hC.Provider,{value:p,children:K.jsxs(tft,{as:o,className:He(_.root,a),ref:n,ownerState:y,...h,children:[f,s]})})});function nft(i,e){if(!i)return e;if(typeof i=="function"||typeof e=="function")return s=>{const a=typeof e=="function"?e(s):e,o=typeof i=="function"?i({...s,...a}):i,l=He(s==null?void 0:s.className,a==null?void 0:a.className,o==null?void 0:o.className);return{...a,...o,...!!l&&{className:l},...(a==null?void 0:a.style)&&(o==null?void 0:o.style)&&{style:{...a.style,...o.style}},...(a==null?void 0:a.sx)&&(o==null?void 0:o.sx)&&{sx:[...Array.isArray(a.sx)?a.sx:[a.sx],...Array.isArray(o.sx)?o.sx:[o.sx]]}}};const n=e,r=He(n==null?void 0:n.className,i==null?void 0:i.className);return{...e,...i,...!!r&&{className:r},...(n==null?void 0:n.style)&&(i==null?void 0:i.style)&&{style:{...n.style,...i.style}},...(n==null?void 0:n.sx)&&(i==null?void 0:i.sx)&&{sx:[...Array.isArray(n.sx)?n.sx:[n.sx],...Array.isArray(i.sx)?i.sx:[i.sx]]}}}function gP(i,e,n){return i===e?i.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:i.firstChild}function eF(i,e,n){return i===e?n?i.firstChild:i.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:i.lastChild}function hG(i,e){if(e===void 0)return!0;let n=i.innerText;return n===void 0&&(n=i.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.startsWith(e.keys.join(""))}function Lx(i,e,n,r,s,a){let o=!1,l=s(i,e,e?n:!1);for(;l;){if(l===i.firstChild){if(o)return!1;o=!0}const u=r?!1:l.disabled||l.getAttribute("aria-disabled")==="true";if(!l.hasAttribute("tabindex")||!hG(l,a)||u)l=s(i,l,n);else return l.focus(),!0}return!1}const ift=tt.forwardRef(function(e,n){const{actions:r,autoFocus:s=!1,autoFocusItem:a=!1,children:o,className:l,disabledItemsFocusable:u=!1,disableListWrap:f=!1,onKeyDown:h,variant:p="selectedMenu",...y}=e,_=tt.useRef(null),x=tt.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Dc(()=>{s&&_.current.focus()},[s]),tt.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(C,{direction:M})=>{const I=!_.current.style.width;if(C.clientHeight<_.current.clientHeight&&I){const k=`${Jj(Yl(C))}px`;_.current.style[M==="rtl"?"paddingLeft":"paddingRight"]=k,_.current.style.width=`calc(100% + ${k})`}return _.current}}),[]);const S=C=>{const M=_.current,I=C.key;if(C.ctrlKey||C.metaKey||C.altKey){h&&h(C);return}const N=ml(M).activeElement;if(I==="ArrowDown")C.preventDefault(),Lx(M,N,f,u,gP);else if(I==="ArrowUp")C.preventDefault(),Lx(M,N,f,u,eF);else if(I==="Home")C.preventDefault(),Lx(M,null,f,u,gP);else if(I==="End")C.preventDefault(),Lx(M,null,f,u,eF);else if(I.length===1){const L=x.current,U=I.toLowerCase(),O=performance.now();L.keys.length>0&&(O-L.lastTime>500?(L.keys=[],L.repeating=!0,L.previousKeyMatched=!0):L.repeating&&U!==L.keys[0]&&(L.repeating=!1)),L.lastTime=O,L.keys.push(U);const B=N&&!L.repeating&&hG(N,L);L.previousKeyMatched&&(B||Lx(M,N,!1,u,gP,L))?C.preventDefault():L.previousKeyMatched=!1}h&&h(C)},E=ps(_,n);let b=-1;tt.Children.forEach(o,(C,M)=>{if(!tt.isValidElement(C)){b===M&&(b+=1,b>=o.length&&(b=-1));return}C.props.disabled||(p==="selectedMenu"&&C.props.selected||b===-1)&&(b=M),b===M&&(C.props.disabled||C.props.muiSkipListHighlight||C.type.muiSkipListHighlight)&&(b+=1,b>=o.length&&(b=-1))});const A=tt.Children.map(o,(C,M)=>{if(M===b){const I={};return a&&(I.autoFocus=!0),C.props.tabIndex===void 0&&p==="selectedMenu"&&(I.tabIndex=0),tt.cloneElement(C,I)}return C});return K.jsx(eft,{role:"menu",ref:E,className:l,onKeyDown:S,tabIndex:s?0:-1,...y,children:A})});function n3(i){return typeof i=="string"}function dG(i,e){if(i==null)return{};var n={};for(var r in i)if({}.hasOwnProperty.call(i,r)){if(e.indexOf(r)!==-1)continue;n[r]=i[r]}return n}function i3(i,e){return i3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},i3(i,e)}function pG(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i3(i,e)}var mG=rH();const qw=oh(mG),nF={disabled:!1},dC=hn.createContext(null);var rft=function(e){return e.scrollTop},h1="unmounted",Vg="exited",Hg="entering",zv="entered",r3="exiting",Hu=function(i){pG(e,i);function e(r,s){var a;a=i.call(this,r,s)||this;var o=s,l=o&&!o.isMounting?r.enter:r.appear,u;return a.appearStatus=null,r.in?l?(u=Vg,a.appearStatus=Hg):u=zv:r.unmountOnExit||r.mountOnEnter?u=h1:u=Vg,a.state={status:u},a.nextCallback=null,a}e.getDerivedStateFromProps=function(s,a){var o=s.in;return o&&a.status===h1?{status:Vg}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(s){var a=null;if(s!==this.props){var o=this.state.status;this.props.in?o!==Hg&&o!==zv&&(a=Hg):(o===Hg||o===zv)&&(a=r3)}this.updateStatus(!1,a)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var s=this.props.timeout,a,o,l;return a=o=l=s,s!=null&&typeof s!="number"&&(a=s.exit,o=s.enter,l=s.appear!==void 0?s.appear:o),{exit:a,enter:o,appear:l}},n.updateStatus=function(s,a){if(s===void 0&&(s=!1),a!==null)if(this.cancelNextCallback(),a===Hg){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:qw.findDOMNode(this);o&&rft(o)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Vg&&this.setState({status:h1})},n.performEnter=function(s){var a=this,o=this.props.enter,l=this.context?this.context.isMounting:s,u=this.props.nodeRef?[l]:[qw.findDOMNode(this),l],f=u[0],h=u[1],p=this.getTimeouts(),y=l?p.appear:p.enter;if(!s&&!o||nF.disabled){this.safeSetState({status:zv},function(){a.props.onEntered(f)});return}this.props.onEnter(f,h),this.safeSetState({status:Hg},function(){a.props.onEntering(f,h),a.onTransitionEnd(y,function(){a.safeSetState({status:zv},function(){a.props.onEntered(f,h)})})})},n.performExit=function(){var s=this,a=this.props.exit,o=this.getTimeouts(),l=this.props.nodeRef?void 0:qw.findDOMNode(this);if(!a||nF.disabled){this.safeSetState({status:Vg},function(){s.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:r3},function(){s.props.onExiting(l),s.onTransitionEnd(o.exit,function(){s.safeSetState({status:Vg},function(){s.props.onExited(l)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(s,a){a=this.setNextCallback(a),this.setState(s,a)},n.setNextCallback=function(s){var a=this,o=!0;return this.nextCallback=function(l){o&&(o=!1,a.nextCallback=null,s(l))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(s,a){this.setNextCallback(a);var o=this.props.nodeRef?this.props.nodeRef.current:qw.findDOMNode(this),l=s==null&&!this.props.addEndListener;if(!o||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],f=u[0],h=u[1];this.props.addEndListener(f,h)}s!=null&&setTimeout(this.nextCallback,s)},n.render=function(){var s=this.state.status;if(s===h1)return null;var a=this.props,o=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var l=dG(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return hn.createElement(dC.Provider,{value:null},typeof o=="function"?o(s,l):hn.cloneElement(hn.Children.only(o),l))},e}(hn.Component);Hu.contextType=dC;Hu.propTypes={};function Cv(){}Hu.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Cv,onEntering:Cv,onEntered:Cv,onExit:Cv,onExiting:Cv,onExited:Cv};Hu.UNMOUNTED=h1;Hu.EXITED=Vg;Hu.ENTERING=Hg;Hu.ENTERED=zv;Hu.EXITING=r3;function sft(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function sU(i,e){var n=function(a){return e&&tt.isValidElement(a)?e(a):a},r=Object.create(null);return i&&tt.Children.map(i,function(s){return s}).forEach(function(s){r[s.key]=n(s)}),r}function aft(i,e){i=i||{},e=e||{};function n(h){return h in e?e[h]:i[h]}var r=Object.create(null),s=[];for(var a in i)a in e?s.length&&(r[a]=s,s=[]):s.push(a);var o,l={};for(var u in e){if(r[u])for(o=0;o<r[u].length;o++){var f=r[u][o];l[r[u][o]]=n(f)}l[u]=n(u)}for(o=0;o<s.length;o++)l[s[o]]=n(s[o]);return l}function ty(i,e,n){return n[e]!=null?n[e]:i.props[e]}function oft(i,e){return sU(i.children,function(n){return tt.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:ty(n,"appear",i),enter:ty(n,"enter",i),exit:ty(n,"exit",i)})})}function lft(i,e,n){var r=sU(i.children),s=aft(e,r);return Object.keys(s).forEach(function(a){var o=s[a];if(tt.isValidElement(o)){var l=a in e,u=a in r,f=e[a],h=tt.isValidElement(f)&&!f.props.in;u&&(!l||h)?s[a]=tt.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:ty(o,"exit",i),enter:ty(o,"enter",i)}):!u&&l&&!h?s[a]=tt.cloneElement(o,{in:!1}):u&&l&&tt.isValidElement(f)&&(s[a]=tt.cloneElement(o,{onExited:n.bind(null,o),in:f.props.in,exit:ty(o,"exit",i),enter:ty(o,"enter",i)}))}}),s}var uft=Object.values||function(i){return Object.keys(i).map(function(e){return i[e]})},cft={component:"div",childFactory:function(e){return e}},aU=function(i){pG(e,i);function e(r,s){var a;a=i.call(this,r,s)||this;var o=a.handleExited.bind(sft(a));return a.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},a}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(s,a){var o=a.children,l=a.handleExited,u=a.firstRender;return{children:u?oft(s,l):lft(s,o,l),firstRender:!1}},n.handleExited=function(s,a){var o=sU(this.props.children);s.key in o||(s.props.onExited&&s.props.onExited(a),this.mounted&&this.setState(function(l){var u=yS({},l.children);return delete u[s.key],{children:u}}))},n.render=function(){var s=this.props,a=s.component,o=s.childFactory,l=dG(s,["component","childFactory"]),u=this.state.contextValue,f=uft(this.state.children).map(o);return delete l.appear,delete l.enter,delete l.exit,a===null?hn.createElement(dC.Provider,{value:u},f):hn.createElement(dC.Provider,{value:u},hn.createElement(a,l,f))},e}(hn.Component);aU.propTypes={};aU.defaultProps=cft;const oU=i=>i.scrollTop;function pm(i,e){const{timeout:n,easing:r,style:s={}}=i;return{duration:s.transitionDuration??(typeof n=="number"?n:n[e.mode]||0),easing:s.transitionTimingFunction??(typeof r=="object"?r[e.mode]:r),delay:s.transitionDelay}}function s3(i){return`scale(${i}, ${i**2})`}const fft={entering:{opacity:1,transform:s3(1)},entered:{opacity:1,transform:"none"}},yP=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),pC=tt.forwardRef(function(e,n){const{addEndListener:r,appear:s=!0,children:a,easing:o,in:l,onEnter:u,onEntered:f,onEntering:h,onExit:p,onExited:y,onExiting:_,style:x,timeout:S="auto",TransitionComponent:E=Hu,...b}=e,A=Jg(),C=tt.useRef(),M=Xy(),I=tt.useRef(null),k=ps(I,Wy(a),n),N=et=>q=>{if(et){const W=I.current;q===void 0?et(W):et(W,q)}},L=N(h),U=N((et,q)=>{oU(et);const{duration:W,delay:Z,easing:nt}=pm({style:x,timeout:S,easing:o},{mode:"enter"});let Q;S==="auto"?(Q=M.transitions.getAutoHeightDuration(et.clientHeight),C.current=Q):Q=W,et.style.transition=[M.transitions.create("opacity",{duration:Q,delay:Z}),M.transitions.create("transform",{duration:yP?Q:Q*.666,delay:Z,easing:nt})].join(","),u&&u(et,q)}),O=N(f),B=N(_),H=N(et=>{const{duration:q,delay:W,easing:Z}=pm({style:x,timeout:S,easing:o},{mode:"exit"});let nt;S==="auto"?(nt=M.transitions.getAutoHeightDuration(et.clientHeight),C.current=nt):nt=q,et.style.transition=[M.transitions.create("opacity",{duration:nt,delay:W}),M.transitions.create("transform",{duration:yP?nt:nt*.666,delay:yP?W:W||nt*.333,easing:Z})].join(","),et.style.opacity=0,et.style.transform=s3(.75),p&&p(et)}),V=N(y),X=et=>{S==="auto"&&A.start(C.current||0,et),r&&r(I.current,et)};return K.jsx(E,{appear:s,in:l,nodeRef:I,onEnter:U,onEntered:O,onEntering:L,onExit:H,onExited:V,onExiting:B,addEndListener:X,timeout:S==="auto"?null:S,...b,children:(et,{ownerState:q,...W})=>tt.cloneElement(a,{style:{opacity:0,transform:s3(.75),visibility:et==="exited"&&!l?"hidden":void 0,...fft[et],...x,...a.props.style},ref:k,...W})})});pC&&(pC.muiSupportAuto=!0);function hft(i){const e=ml(i);return e.body===i?Yl(i).innerWidth>e.documentElement.clientWidth:i.scrollHeight>i.clientHeight}function N1(i,e){e?i.setAttribute("aria-hidden","true"):i.removeAttribute("aria-hidden")}function iF(i){return parseInt(Yl(i).getComputedStyle(i).paddingRight,10)||0}function dft(i){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(i.tagName),r=i.tagName==="INPUT"&&i.getAttribute("type")==="hidden";return n||r}function rF(i,e,n,r,s){const a=[e,n,...r];[].forEach.call(i.children,o=>{const l=!a.includes(o),u=!dft(o);l&&u&&N1(o,s)})}function vP(i,e){let n=-1;return i.some((r,s)=>e(r)?(n=s,!0):!1),n}function pft(i,e){const n=[],r=i.container;if(!e.disableScrollLock){if(hft(r)){const o=Jj(Yl(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${iF(r)+o}px`;const l=ml(r).querySelectorAll(".mui-fixed");[].forEach.call(l,u=>{n.push({value:u.style.paddingRight,property:"padding-right",el:u}),u.style.paddingRight=`${iF(u)+o}px`})}let a;if(r.parentNode instanceof DocumentFragment)a=ml(r).body;else{const o=r.parentElement,l=Yl(r);a=(o==null?void 0:o.nodeName)==="HTML"&&l.getComputedStyle(o).overflowY==="scroll"?o:r}n.push({value:a.style.overflow,property:"overflow",el:a},{value:a.style.overflowX,property:"overflow-x",el:a},{value:a.style.overflowY,property:"overflow-y",el:a}),a.style.overflow="hidden"}return()=>{n.forEach(({value:a,el:o,property:l})=>{a?o.style.setProperty(l,a):o.style.removeProperty(l)})}}function mft(i){const e=[];return[].forEach.call(i.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class gft{constructor(){this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&N1(e.modalRef,!1);const s=mft(n);rF(n,e.mount,e.modalRef,s,!0);const a=vP(this.containers,o=>o.container===n);return a!==-1?(this.containers[a].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:s}),r)}mount(e,n){const r=vP(this.containers,a=>a.modals.includes(e)),s=this.containers[r];s.restore||(s.restore=pft(s,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const s=vP(this.containers,o=>o.modals.includes(e)),a=this.containers[s];if(a.modals.splice(a.modals.indexOf(e),1),this.modals.splice(r,1),a.modals.length===0)a.restore&&a.restore(),e.modalRef&&N1(e.modalRef,n),rF(a.container,e.mount,e.modalRef,a.hiddenSiblings,!1),this.containers.splice(s,1);else{const o=a.modals[a.modals.length-1];o.modalRef&&N1(o.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const yft=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function vft(i){const e=parseInt(i.getAttribute("tabindex")||"",10);return Number.isNaN(e)?i.contentEditable==="true"||(i.nodeName==="AUDIO"||i.nodeName==="VIDEO"||i.nodeName==="DETAILS")&&i.getAttribute("tabindex")===null?0:i.tabIndex:e}function _ft(i){if(i.tagName!=="INPUT"||i.type!=="radio"||!i.name)return!1;const e=r=>i.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${i.name}"]:checked`);return n||(n=e(`[name="${i.name}"]`)),n!==i}function bft(i){return!(i.disabled||i.tagName==="INPUT"&&i.type==="hidden"||_ft(i))}function xft(i){const e=[],n=[];return Array.from(i.querySelectorAll(yft)).forEach((r,s)=>{const a=vft(r);a===-1||!bft(r)||(a===0?e.push(r):n.push({documentOrder:s,tabIndex:a,node:r}))}),n.sort((r,s)=>r.tabIndex===s.tabIndex?r.documentOrder-s.documentOrder:r.tabIndex-s.tabIndex).map(r=>r.node).concat(e)}function Sft(){return!0}function Eft(i){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:s=!1,getTabbable:a=xft,isEnabled:o=Sft,open:l}=i,u=tt.useRef(!1),f=tt.useRef(null),h=tt.useRef(null),p=tt.useRef(null),y=tt.useRef(null),_=tt.useRef(!1),x=tt.useRef(null),S=ps(Wy(e),x),E=tt.useRef(null);tt.useEffect(()=>{!l||!x.current||(_.current=!n)},[n,l]),tt.useEffect(()=>{if(!l||!x.current)return;const C=ml(x.current);return x.current.contains(C.activeElement)||(x.current.hasAttribute("tabIndex")||x.current.setAttribute("tabIndex","-1"),_.current&&x.current.focus()),()=>{s||(p.current&&p.current.focus&&(u.current=!0,p.current.focus()),p.current=null)}},[l]),tt.useEffect(()=>{if(!l||!x.current)return;const C=ml(x.current),M=N=>{E.current=N,!(r||!o()||N.key!=="Tab")&&C.activeElement===x.current&&N.shiftKey&&(u.current=!0,h.current&&h.current.focus())},I=()=>{var U,O;const N=x.current;if(N===null)return;if(!C.hasFocus()||!o()||u.current){u.current=!1;return}if(N.contains(C.activeElement)||r&&C.activeElement!==f.current&&C.activeElement!==h.current)return;if(C.activeElement!==y.current)y.current=null;else if(y.current!==null)return;if(!_.current)return;let L=[];if((C.activeElement===f.current||C.activeElement===h.current)&&(L=a(x.current)),L.length>0){const B=!!((U=E.current)!=null&&U.shiftKey&&((O=E.current)==null?void 0:O.key)==="Tab"),H=L[0],V=L[L.length-1];typeof H!="string"&&typeof V!="string"&&(B?V.focus():H.focus())}else N.focus()};C.addEventListener("focusin",I),C.addEventListener("keydown",M,!0);const k=setInterval(()=>{C.activeElement&&C.activeElement.tagName==="BODY"&&I()},50);return()=>{clearInterval(k),C.removeEventListener("focusin",I),C.removeEventListener("keydown",M,!0)}},[n,r,s,o,l,a]);const b=C=>{p.current===null&&(p.current=C.relatedTarget),_.current=!0,y.current=C.target;const M=e.props.onFocus;M&&M(C)},A=C=>{p.current===null&&(p.current=C.relatedTarget),_.current=!0};return K.jsxs(tt.Fragment,{children:[K.jsx("div",{tabIndex:l?0:-1,onFocus:A,ref:f,"data-testid":"sentinelStart"}),tt.cloneElement(e,{ref:S,onFocus:b}),K.jsx("div",{tabIndex:l?0:-1,onFocus:A,ref:h,"data-testid":"sentinelEnd"})]})}function Tft(i){return typeof i=="function"?i():i}const gG=tt.forwardRef(function(e,n){const{children:r,container:s,disablePortal:a=!1}=e,[o,l]=tt.useState(null),u=ps(tt.isValidElement(r)?Wy(r):null,n);if(Dc(()=>{a||l(Tft(s)||document.body)},[s,a]),Dc(()=>{if(o&&!a)return VB(n,o),()=>{VB(n,null)}},[n,o,a]),a){if(tt.isValidElement(r)){const f={ref:u};return tt.cloneElement(r,f)}return r}return o&&mG.createPortal(r,o)}),wft={entering:{opacity:1},entered:{opacity:1}},Aft=tt.forwardRef(function(e,n){const r=Xy(),s={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:a,appear:o=!0,children:l,easing:u,in:f,onEnter:h,onEntered:p,onEntering:y,onExit:_,onExited:x,onExiting:S,style:E,timeout:b=s,TransitionComponent:A=Hu,...C}=e,M=tt.useRef(null),I=ps(M,Wy(l),n),k=X=>et=>{if(X){const q=M.current;et===void 0?X(q):X(q,et)}},N=k(y),L=k((X,et)=>{oU(X);const q=pm({style:E,timeout:b,easing:u},{mode:"enter"});X.style.webkitTransition=r.transitions.create("opacity",q),X.style.transition=r.transitions.create("opacity",q),h&&h(X,et)}),U=k(p),O=k(S),B=k(X=>{const et=pm({style:E,timeout:b,easing:u},{mode:"exit"});X.style.webkitTransition=r.transitions.create("opacity",et),X.style.transition=r.transitions.create("opacity",et),_&&_(X)}),H=k(x),V=X=>{a&&a(M.current,X)};return K.jsx(A,{appear:o,in:f,nodeRef:M,onEnter:L,onEntered:U,onEntering:N,onExit:B,onExited:H,onExiting:O,addEndListener:V,timeout:b,...C,children:(X,{ownerState:et,...q})=>tt.cloneElement(l,{style:{opacity:0,visibility:X==="exited"&&!f?"hidden":void 0,...wft[X],...E,...l.props.style},ref:I,...q})})});function Mft(i){return bn("MuiBackdrop",i)}yn("MuiBackdrop",["root","invisible"]);const Cft=i=>{const{classes:e,invisible:n}=i;return xn({root:["root",n&&"invisible"]},Mft,e)},Rft=ge("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.root,n.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),Oft=tt.forwardRef(function(e,n){const r=Mn({props:e,name:"MuiBackdrop"}),{children:s,className:a,component:o="div",invisible:l=!1,open:u,components:f={},componentsProps:h={},slotProps:p={},slots:y={},TransitionComponent:_,transitionDuration:x,...S}=r,E={...r,component:o,invisible:l},b=Cft(E),A={transition:_,root:f.Root,...y},C={...h,...p},M={slots:A,slotProps:C},[I,k]=gi("root",{elementType:Rft,externalForwardedProps:M,className:He(b.root,a),ownerState:E}),[N,L]=gi("transition",{elementType:Aft,externalForwardedProps:M,ownerState:E});return K.jsx(N,{in:u,timeout:x,...S,...L,children:K.jsx(I,{"aria-hidden":!0,...k,classes:b,ref:n,children:s})})});function Ift(i){return typeof i=="function"?i():i}function Pft(i){return i?i.props.hasOwnProperty("in"):!1}const sF=()=>{},$w=new gft;function Dft(i){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,closeAfterTransition:s=!1,onTransitionEnter:a,onTransitionExited:o,children:l,onClose:u,open:f,rootRef:h}=i,p=tt.useRef({}),y=tt.useRef(null),_=tt.useRef(null),x=ps(_,h),[S,E]=tt.useState(!f),b=Pft(l);let A=!0;(i["aria-hidden"]==="false"||i["aria-hidden"]===!1)&&(A=!1);const C=()=>ml(y.current),M=()=>(p.current.modalRef=_.current,p.current.mount=y.current,p.current),I=()=>{$w.mount(M(),{disableScrollLock:r}),_.current&&(_.current.scrollTop=0)},k=Nu(()=>{const et=Ift(e)||C().body;$w.add(M(),et),_.current&&I()}),N=()=>$w.isTopModal(M()),L=Nu(et=>{y.current=et,et&&(f&&N()?I():_.current&&N1(_.current,A))}),U=tt.useCallback(()=>{$w.remove(M(),A)},[A]);tt.useEffect(()=>()=>{U()},[U]),tt.useEffect(()=>{f?k():(!b||!s)&&U()},[f,U,b,s,k]);const O=et=>q=>{var W;(W=et.onKeyDown)==null||W.call(et,q),!(q.key!=="Escape"||q.which===229||!N())&&(n||(q.stopPropagation(),u&&u(q,"escapeKeyDown")))},B=et=>q=>{var W;(W=et.onClick)==null||W.call(et,q),q.target===q.currentTarget&&u&&u(q,"backdropClick")};return{getRootProps:(et={})=>{const q=eG(i);delete q.onTransitionEnter,delete q.onTransitionExited;const W={...q,...et};return{role:"presentation",...W,onKeyDown:O(W),ref:x}},getBackdropProps:(et={})=>{const q=et;return{"aria-hidden":!0,...q,onClick:B(q),open:f}},getTransitionProps:()=>{const et=()=>{E(!1),a&&a()},q=()=>{E(!0),o&&o(),s&&U()};return{onEnter:FB(et,(l==null?void 0:l.props.onEnter)??sF),onExited:FB(q,(l==null?void 0:l.props.onExited)??sF)}},rootRef:x,portalRef:L,isTopModal:N,exited:S,hasTransition:b}}function Nft(i){return bn("MuiModal",i)}yn("MuiModal",["root","hidden","backdrop"]);const Lft=i=>{const{open:e,exited:n,classes:r}=i;return xn({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},Nft,r)},Uft=ge("div",{name:"MuiModal",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.root,!n.open&&n.exited&&e.hidden]}})(Rn(({theme:i})=>({position:"fixed",zIndex:(i.vars||i).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),kft=ge(Oft,{name:"MuiModal",slot:"Backdrop",overridesResolver:(i,e)=>e.backdrop})({zIndex:-1}),zft=tt.forwardRef(function(e,n){const r=Mn({name:"MuiModal",props:e}),{BackdropComponent:s=kft,BackdropProps:a,classes:o,className:l,closeAfterTransition:u=!1,children:f,container:h,component:p,components:y={},componentsProps:_={},disableAutoFocus:x=!1,disableEnforceFocus:S=!1,disableEscapeKeyDown:E=!1,disablePortal:b=!1,disableRestoreFocus:A=!1,disableScrollLock:C=!1,hideBackdrop:M=!1,keepMounted:I=!1,onBackdropClick:k,onClose:N,onTransitionEnter:L,onTransitionExited:U,open:O,slotProps:B={},slots:H={},theme:V,...X}=r,et={...r,closeAfterTransition:u,disableAutoFocus:x,disableEnforceFocus:S,disableEscapeKeyDown:E,disablePortal:b,disableRestoreFocus:A,disableScrollLock:C,hideBackdrop:M,keepMounted:I},{getRootProps:q,getBackdropProps:W,getTransitionProps:Z,portalRef:nt,isTopModal:Q,exited:ht,hasTransition:yt}=Dft({...et,rootRef:n}),xt={...et,exited:ht},it=Lft(xt),dt={};if(f.props.tabIndex===void 0&&(dt.tabIndex="-1"),yt){const{onEnter:ee,onExited:Pt}=Z();dt.onEnter=ee,dt.onExited=Pt}const ft={slots:{root:y.Root,backdrop:y.Backdrop,...H},slotProps:{..._,...B}},[gt,wt]=gi("root",{ref:n,elementType:Uft,externalForwardedProps:{...ft,...X,component:p},getSlotProps:q,ownerState:xt,className:He(l,it==null?void 0:it.root,!xt.open&&xt.exited&&(it==null?void 0:it.hidden))}),[Kt,kt]=gi("backdrop",{ref:a==null?void 0:a.ref,elementType:s,externalForwardedProps:ft,shouldForwardComponentProp:!0,additionalProps:a,getSlotProps:ee=>W({...ee,onClick:Pt=>{k&&k(Pt),ee!=null&&ee.onClick&&ee.onClick(Pt)}}),className:He(a==null?void 0:a.className,it==null?void 0:it.backdrop),ownerState:xt});return!I&&!O&&(!yt||ht)?null:K.jsx(gG,{ref:nt,container:h,disablePortal:b,children:K.jsxs(gt,{...wt,children:[!M&&s?K.jsx(Kt,{...kt}):null,K.jsx(Eft,{disableEnforceFocus:S,disableAutoFocus:x,disableRestoreFocus:A,isEnabled:Q,open:O,children:tt.cloneElement(f,dt)})]})})});function Bft(i){return bn("MuiPaper",i)}yn("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const Fft=i=>{const{square:e,elevation:n,variant:r,classes:s}=i,a={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return xn(a,Bft,s)},Vft=ge("div",{name:"MuiPaper",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(Rn(({theme:i})=>({backgroundColor:(i.vars||i).palette.background.paper,color:(i.vars||i).palette.text.primary,transition:i.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:i.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(i.vars||i).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),fR=tt.forwardRef(function(e,n){var _;const r=Mn({props:e,name:"MuiPaper"}),s=Xy(),{className:a,component:o="div",elevation:l=1,square:u=!1,variant:f="elevation",...h}=r,p={...r,component:o,elevation:l,square:u,variant:f},y=Fft(p);return K.jsx(Vft,{as:o,ownerState:p,className:He(y.root,a),ref:n,...h,style:{...f==="elevation"&&{"--Paper-shadow":(s.vars||s).shadows[l],...s.vars&&{"--Paper-overlay":(_=s.vars.overlays)==null?void 0:_[l]},...!s.vars&&s.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${Ar("#fff",e3(l))}, ${Ar("#fff",e3(l))})`}},...h.style}})});function Hft(i){return bn("MuiPopover",i)}yn("MuiPopover",["root","paper"]);function aF(i,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=i.height/2:e==="bottom"&&(n=i.height),n}function oF(i,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=i.width/2:e==="right"&&(n=i.width),n}function lF(i){return[i.horizontal,i.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function Ww(i){return typeof i=="function"?i():i}const jft=i=>{const{classes:e}=i;return xn({root:["root"],paper:["paper"]},Hft,e)},Gft=ge(zft,{name:"MuiPopover",slot:"Root",overridesResolver:(i,e)=>e.root})({}),yG=ge(fR,{name:"MuiPopover",slot:"Paper",overridesResolver:(i,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),qft=tt.forwardRef(function(e,n){const r=Mn({props:e,name:"MuiPopover"}),{action:s,anchorEl:a,anchorOrigin:o={vertical:"top",horizontal:"left"},anchorPosition:l,anchorReference:u="anchorEl",children:f,className:h,container:p,elevation:y=8,marginThreshold:_=16,open:x,PaperProps:S={},slots:E={},slotProps:b={},transformOrigin:A={vertical:"top",horizontal:"left"},TransitionComponent:C,transitionDuration:M="auto",TransitionProps:I={},disableScrollLock:k=!1,...N}=r,L=tt.useRef(),U={...r,anchorOrigin:o,anchorReference:u,elevation:y,marginThreshold:_,transformOrigin:A,TransitionComponent:C,transitionDuration:M,TransitionProps:I},O=jft(U),B=tt.useCallback(()=>{if(u==="anchorPosition")return l;const kt=Ww(a),Pt=(kt&&kt.nodeType===1?kt:ml(L.current).body).getBoundingClientRect();return{top:Pt.top+aF(Pt,o.vertical),left:Pt.left+oF(Pt,o.horizontal)}},[a,o.horizontal,o.vertical,l,u]),H=tt.useCallback(kt=>({vertical:aF(kt,A.vertical),horizontal:oF(kt,A.horizontal)}),[A.horizontal,A.vertical]),V=tt.useCallback(kt=>{const ee={width:kt.offsetWidth,height:kt.offsetHeight},Pt=H(ee);if(u==="none")return{top:null,left:null,transformOrigin:lF(Pt)};const Vt=B();let at=Vt.top-Pt.vertical,ce=Vt.left-Pt.horizontal;const te=at+ee.height,ne=ce+ee.width,ie=Yl(Ww(a)),Me=ie.innerHeight-_,le=ie.innerWidth-_;if(_!==null&&at<_){const lt=at-_;at-=lt,Pt.vertical+=lt}else if(_!==null&&te>Me){const lt=te-Me;at-=lt,Pt.vertical+=lt}if(_!==null&&ce<_){const lt=ce-_;ce-=lt,Pt.horizontal+=lt}else if(ne>le){const lt=ne-le;ce-=lt,Pt.horizontal+=lt}return{top:`${Math.round(at)}px`,left:`${Math.round(ce)}px`,transformOrigin:lF(Pt)}},[a,u,B,H,_]),[X,et]=tt.useState(x),q=tt.useCallback(()=>{const kt=L.current;if(!kt)return;const ee=V(kt);ee.top!==null&&kt.style.setProperty("top",ee.top),ee.left!==null&&(kt.style.left=ee.left),kt.style.transformOrigin=ee.transformOrigin,et(!0)},[V]);tt.useEffect(()=>(k&&window.addEventListener("scroll",q),()=>window.removeEventListener("scroll",q)),[a,k,q]);const W=()=>{q()},Z=()=>{et(!1)};tt.useEffect(()=>{x&&q()}),tt.useImperativeHandle(s,()=>x?{updatePosition:()=>{q()}}:null,[x,q]),tt.useEffect(()=>{if(!x)return;const kt=hE(()=>{q()}),ee=Yl(Ww(a));return ee.addEventListener("resize",kt),()=>{kt.clear(),ee.removeEventListener("resize",kt)}},[a,x,q]);let nt=M;const Q={slots:{transition:C,...E},slotProps:{transition:I,paper:S,...b}},[ht,yt]=gi("transition",{elementType:pC,externalForwardedProps:Q,ownerState:U,getSlotProps:kt=>({...kt,onEntering:(ee,Pt)=>{var Vt;(Vt=kt.onEntering)==null||Vt.call(kt,ee,Pt),W()},onExited:ee=>{var Pt;(Pt=kt.onExited)==null||Pt.call(kt,ee),Z()}}),additionalProps:{appear:!0,in:x}});M==="auto"&&!ht.muiSupportAuto&&(nt=void 0);const xt=p||(a?ml(Ww(a)).body:void 0),[it,{slots:dt,slotProps:ft,...gt}]=gi("root",{ref:n,elementType:Gft,externalForwardedProps:{...Q,...N},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:E.backdrop},slotProps:{backdrop:nft(typeof b.backdrop=="function"?b.backdrop(U):b.backdrop,{invisible:!0})},container:xt,open:x},ownerState:U,className:He(O.root,h)}),[wt,Kt]=gi("paper",{ref:L,className:O.paper,elementType:yG,externalForwardedProps:Q,shouldForwardComponentProp:!0,additionalProps:{elevation:y,style:X?void 0:{opacity:0}},ownerState:U});return K.jsx(it,{...gt,...!n3(it)&&{slots:dt,slotProps:ft,disableScrollLock:k},children:K.jsx(ht,{...yt,timeout:nt,children:K.jsx(wt,{...Kt,children:f})})})});function $ft(i){return bn("MuiMenu",i)}yn("MuiMenu",["root","paper","list"]);const Wft={vertical:"top",horizontal:"right"},Xft={vertical:"top",horizontal:"left"},Yft=i=>{const{classes:e}=i;return xn({root:["root"],paper:["paper"],list:["list"]},$ft,e)},Kft=ge(qft,{shouldForwardProp:i=>Vu(i)||i==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(i,e)=>e.root})({}),Zft=ge(yG,{name:"MuiMenu",slot:"Paper",overridesResolver:(i,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Qft=ge(ift,{name:"MuiMenu",slot:"List",overridesResolver:(i,e)=>e.list})({outline:0}),vG=tt.forwardRef(function(e,n){const r=Mn({props:e,name:"MuiMenu"}),{autoFocus:s=!0,children:a,className:o,disableAutoFocusItem:l=!1,MenuListProps:u={},onClose:f,open:h,PaperProps:p={},PopoverClasses:y,transitionDuration:_="auto",TransitionProps:{onEntering:x,...S}={},variant:E="selectedMenu",slots:b={},slotProps:A={},...C}=r,M=eb(),I={...r,autoFocus:s,disableAutoFocusItem:l,MenuListProps:u,onEntering:x,PaperProps:p,transitionDuration:_,TransitionProps:S,variant:E},k=Yft(I),N=s&&!l&&h,L=tt.useRef(null),U=(nt,Q)=>{L.current&&L.current.adjustStyleForScrollbar(nt,{direction:M?"rtl":"ltr"}),x&&x(nt,Q)},O=nt=>{nt.key==="Tab"&&(nt.preventDefault(),f&&f(nt,"tabKeyDown"))};let B=-1;tt.Children.map(a,(nt,Q)=>{tt.isValidElement(nt)&&(nt.props.disabled||(E==="selectedMenu"&&nt.props.selected||B===-1)&&(B=Q))});const H={slots:b,slotProps:{list:u,transition:S,paper:p,...A}},V=__({elementType:b.root,externalSlotProps:A.root,ownerState:I,className:[k.root,o]}),[X,et]=gi("paper",{className:k.paper,elementType:Zft,externalForwardedProps:H,shouldForwardComponentProp:!0,ownerState:I}),[q,W]=gi("list",{className:He(k.list,u.className),elementType:Qft,shouldForwardComponentProp:!0,externalForwardedProps:H,getSlotProps:nt=>({...nt,onKeyDown:Q=>{var ht;O(Q),(ht=nt.onKeyDown)==null||ht.call(nt,Q)}}),ownerState:I}),Z=typeof H.slotProps.transition=="function"?H.slotProps.transition(I):H.slotProps.transition;return K.jsx(Kft,{onClose:f,anchorOrigin:{vertical:"bottom",horizontal:M?"right":"left"},transformOrigin:M?Wft:Xft,slots:{root:b.root,paper:X,backdrop:b.backdrop,...b.transition&&{transition:b.transition}},slotProps:{root:V,paper:et,backdrop:typeof A.backdrop=="function"?A.backdrop(I):A.backdrop,transition:{...Z,onEntering:(...nt)=>{var Q;U(...nt),(Q=Z==null?void 0:Z.onEntering)==null||Q.call(Z,...nt)}}},open:h,ref:n,transitionDuration:_,ownerState:I,...C,classes:y,children:K.jsx(q,{actions:L,autoFocus:s&&(B===-1||l),autoFocusItem:N,variant:E,...W,children:a})})});class mC{constructor(){dx(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new mC}static use(){const e=Qj(mC.create).current,[n,r]=tt.useState(!1);return e.shouldMount=n,e.setShouldMount=r,tt.useEffect(e.mountEffect,[n]),e}mount(){return this.mounted||(this.mounted=tht(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.start(...e)})}stop(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.stop(...e)})}pulsate(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.pulsate(...e)})}}function Jft(){return mC.use()}function tht(){let i,e;const n=new Promise((r,s)=>{i=r,e=s});return n.resolve=i,n.reject=e,n}function eht(i){const{className:e,classes:n,pulsate:r=!1,rippleX:s,rippleY:a,rippleSize:o,in:l,onExited:u,timeout:f}=i,[h,p]=tt.useState(!1),y=He(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),_={width:o,height:o,top:-(o/2)+a,left:-(o/2)+s},x=He(n.child,h&&n.childLeaving,r&&n.childPulsate);return!l&&!h&&p(!0),tt.useEffect(()=>{if(!l&&u!=null){const S=setTimeout(u,f);return()=>{clearTimeout(S)}}},[u,l,f]),K.jsx("span",{className:y,style:_,children:K.jsx("span",{className:x})})}const Mu=yn("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),a3=550,nht=80,iht=Mm`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,rht=Mm`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,sht=Mm`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,aht=ge("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),oht=ge(eht,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${Mu.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${iht};
    animation-duration: ${a3}ms;
    animation-timing-function: ${({theme:i})=>i.transitions.easing.easeInOut};
  }

  &.${Mu.ripplePulsate} {
    animation-duration: ${({theme:i})=>i.transitions.duration.shorter}ms;
  }

  & .${Mu.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${Mu.childLeaving} {
    opacity: 0;
    animation-name: ${rht};
    animation-duration: ${a3}ms;
    animation-timing-function: ${({theme:i})=>i.transitions.easing.easeInOut};
  }

  & .${Mu.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${sht};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:i})=>i.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,lht=tt.forwardRef(function(e,n){const r=Mn({props:e,name:"MuiTouchRipple"}),{center:s=!1,classes:a={},className:o,...l}=r,[u,f]=tt.useState([]),h=tt.useRef(0),p=tt.useRef(null);tt.useEffect(()=>{p.current&&(p.current(),p.current=null)},[u]);const y=tt.useRef(!1),_=Jg(),x=tt.useRef(null),S=tt.useRef(null),E=tt.useCallback(M=>{const{pulsate:I,rippleX:k,rippleY:N,rippleSize:L,cb:U}=M;f(O=>[...O,K.jsx(oht,{classes:{ripple:He(a.ripple,Mu.ripple),rippleVisible:He(a.rippleVisible,Mu.rippleVisible),ripplePulsate:He(a.ripplePulsate,Mu.ripplePulsate),child:He(a.child,Mu.child),childLeaving:He(a.childLeaving,Mu.childLeaving),childPulsate:He(a.childPulsate,Mu.childPulsate)},timeout:a3,pulsate:I,rippleX:k,rippleY:N,rippleSize:L},h.current)]),h.current+=1,p.current=U},[a]),b=tt.useCallback((M={},I={},k=()=>{})=>{const{pulsate:N=!1,center:L=s||I.pulsate,fakeElement:U=!1}=I;if((M==null?void 0:M.type)==="mousedown"&&y.current){y.current=!1;return}(M==null?void 0:M.type)==="touchstart"&&(y.current=!0);const O=U?null:S.current,B=O?O.getBoundingClientRect():{width:0,height:0,left:0,top:0};let H,V,X;if(L||M===void 0||M.clientX===0&&M.clientY===0||!M.clientX&&!M.touches)H=Math.round(B.width/2),V=Math.round(B.height/2);else{const{clientX:et,clientY:q}=M.touches&&M.touches.length>0?M.touches[0]:M;H=Math.round(et-B.left),V=Math.round(q-B.top)}if(L)X=Math.sqrt((2*B.width**2+B.height**2)/3),X%2===0&&(X+=1);else{const et=Math.max(Math.abs((O?O.clientWidth:0)-H),H)*2+2,q=Math.max(Math.abs((O?O.clientHeight:0)-V),V)*2+2;X=Math.sqrt(et**2+q**2)}M!=null&&M.touches?x.current===null&&(x.current=()=>{E({pulsate:N,rippleX:H,rippleY:V,rippleSize:X,cb:k})},_.start(nht,()=>{x.current&&(x.current(),x.current=null)})):E({pulsate:N,rippleX:H,rippleY:V,rippleSize:X,cb:k})},[s,E,_]),A=tt.useCallback(()=>{b({},{pulsate:!0})},[b]),C=tt.useCallback((M,I)=>{if(_.clear(),(M==null?void 0:M.type)==="touchend"&&x.current){x.current(),x.current=null,_.start(0,()=>{C(M,I)});return}x.current=null,f(k=>k.length>0?k.slice(1):k),p.current=I},[_]);return tt.useImperativeHandle(n,()=>({pulsate:A,start:b,stop:C}),[A,b,C]),K.jsx(aht,{className:He(Mu.root,a.root,o),ref:S,...l,children:K.jsx(aU,{component:null,exit:!0,children:u})})});function uht(i){return bn("MuiButtonBase",i)}const cht=yn("MuiButtonBase",["root","disabled","focusVisible"]),fht=i=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:s}=i,o=xn({root:["root",e&&"disabled",n&&"focusVisible"]},uht,s);return n&&r&&(o.root+=` ${r}`),o},hht=ge("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(i,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${cht.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),nb=tt.forwardRef(function(e,n){const r=Mn({props:e,name:"MuiButtonBase"}),{action:s,centerRipple:a=!1,children:o,className:l,component:u="button",disabled:f=!1,disableRipple:h=!1,disableTouchRipple:p=!1,focusRipple:y=!1,focusVisibleClassName:_,LinkComponent:x="a",onBlur:S,onClick:E,onContextMenu:b,onDragLeave:A,onFocus:C,onFocusVisible:M,onKeyDown:I,onKeyUp:k,onMouseDown:N,onMouseLeave:L,onMouseUp:U,onTouchEnd:O,onTouchMove:B,onTouchStart:H,tabIndex:V=0,TouchRippleProps:X,touchRippleRef:et,type:q,...W}=r,Z=tt.useRef(null),nt=Jft(),Q=ps(nt.ref,et),[ht,yt]=tt.useState(!1);f&&ht&&yt(!1),tt.useImperativeHandle(s,()=>({focusVisible:()=>{yt(!0),Z.current.focus()}}),[]);const xt=nt.shouldMount&&!h&&!f;tt.useEffect(()=>{ht&&y&&!h&&nt.pulsate()},[h,y,ht,nt]);const it=Xh(nt,"start",N,p),dt=Xh(nt,"stop",b,p),ft=Xh(nt,"stop",A,p),gt=Xh(nt,"stop",U,p),wt=Xh(nt,"stop",j=>{ht&&j.preventDefault(),L&&L(j)},p),Kt=Xh(nt,"start",H,p),kt=Xh(nt,"stop",O,p),ee=Xh(nt,"stop",B,p),Pt=Xh(nt,"stop",j=>{cC(j.target)||yt(!1),S&&S(j)},!1),Vt=Nu(j=>{Z.current||(Z.current=j.currentTarget),cC(j.target)&&(yt(!0),M&&M(j)),C&&C(j)}),at=()=>{const j=Z.current;return u&&u!=="button"&&!(j.tagName==="A"&&j.href)},ce=Nu(j=>{y&&!j.repeat&&ht&&j.key===" "&&nt.stop(j,()=>{nt.start(j)}),j.target===j.currentTarget&&at()&&j.key===" "&&j.preventDefault(),I&&I(j),j.target===j.currentTarget&&at()&&j.key==="Enter"&&!f&&(j.preventDefault(),E&&E(j))}),te=Nu(j=>{y&&j.key===" "&&ht&&!j.defaultPrevented&&nt.stop(j,()=>{nt.pulsate(j)}),k&&k(j),E&&j.target===j.currentTarget&&at()&&j.key===" "&&!j.defaultPrevented&&E(j)});let ne=u;ne==="button"&&(W.href||W.to)&&(ne=x);const ie={};ne==="button"?(ie.type=q===void 0?"button":q,ie.disabled=f):(!W.href&&!W.to&&(ie.role="button"),f&&(ie["aria-disabled"]=f));const Me=ps(n,Z),le={...r,centerRipple:a,component:u,disabled:f,disableRipple:h,disableTouchRipple:p,focusRipple:y,tabIndex:V,focusVisible:ht},lt=fht(le);return K.jsxs(hht,{as:ne,className:He(lt.root,l),ownerState:le,onBlur:Pt,onClick:E,onContextMenu:dt,onFocus:Vt,onKeyDown:ce,onKeyUp:te,onMouseDown:it,onMouseLeave:wt,onMouseUp:gt,onDragLeave:ft,onTouchEnd:kt,onTouchMove:ee,onTouchStart:Kt,ref:Me,tabIndex:f?-1:V,type:q,...ie,...W,children:[o,xt?K.jsx(lht,{ref:Q,center:a,...X}):null]})});function Xh(i,e,n,r=!1){return Nu(s=>(n&&n(s),r||i[e](s),!0))}function dht(i){return bn("MuiDivider",i)}const uF=yn("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),pht=i=>{const{absolute:e,children:n,classes:r,flexItem:s,light:a,orientation:o,textAlign:l,variant:u}=i;return xn({root:["root",e&&"absolute",u,a&&"light",o==="vertical"&&"vertical",s&&"flexItem",n&&"withChildren",n&&o==="vertical"&&"withChildrenVertical",l==="right"&&o!=="vertical"&&"textAlignRight",l==="left"&&o!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",o==="vertical"&&"wrapperVertical"]},dht,r)},mht=ge("div",{name:"MuiDivider",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.root,n.absolute&&e.absolute,e[n.variant],n.light&&e.light,n.orientation==="vertical"&&e.vertical,n.flexItem&&e.flexItem,n.children&&e.withChildren,n.children&&n.orientation==="vertical"&&e.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&e.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&e.textAlignLeft]}})(Rn(({theme:i})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(i.vars||i).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:i.vars?`rgba(${i.vars.palette.dividerChannel} / 0.08)`:Ar(i.palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:i.spacing(2),marginRight:i.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:i.spacing(1),marginBottom:i.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:e})=>!!e.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:e})=>e.children&&e.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(i.vars||i).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:e})=>e.orientation==="vertical"&&e.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(i.vars||i).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:e})=>e.textAlign==="right"&&e.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:e})=>e.textAlign==="left"&&e.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),ght=ge("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.wrapper,n.orientation==="vertical"&&e.wrapperVertical]}})(Rn(({theme:i})=>({display:"inline-block",paddingLeft:`calc(${i.spacing(1)} * 1.2)`,paddingRight:`calc(${i.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${i.spacing(1)} * 1.2)`,paddingBottom:`calc(${i.spacing(1)} * 1.2)`}}]}))),b_=tt.forwardRef(function(e,n){const r=Mn({props:e,name:"MuiDivider"}),{absolute:s=!1,children:a,className:o,orientation:l="horizontal",component:u=a||l==="vertical"?"div":"hr",flexItem:f=!1,light:h=!1,role:p=u!=="hr"?"separator":void 0,textAlign:y="center",variant:_="fullWidth",...x}=r,S={...r,absolute:s,component:u,flexItem:f,light:h,orientation:l,role:p,textAlign:y,variant:_},E=pht(S);return K.jsx(mht,{as:u,className:He(E.root,o),role:p,ref:n,ownerState:S,"aria-orientation":p==="separator"&&(u!=="hr"||l==="vertical")?l:void 0,...x,children:a?K.jsx(ght,{className:E.wrapper,ownerState:S,children:a}):null})});b_&&(b_.muiSkipListHighlight=!0);function yht(i){return bn("MuiListItemIcon",i)}const cF=yn("MuiListItemIcon",["root","alignItemsFlexStart"]),vht=i=>{const{alignItems:e,classes:n}=i;return xn({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},yht,n)},_ht=ge("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.root,n.alignItems==="flex-start"&&e.alignItemsFlexStart]}})(Rn(({theme:i})=>({minWidth:56,color:(i.vars||i).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}))),Ux=tt.forwardRef(function(e,n){const r=Mn({props:e,name:"MuiListItemIcon"}),{className:s,...a}=r,o=tt.useContext(hC),l={...r,alignItems:o.alignItems},u=vht(l);return K.jsx(_ht,{className:He(u.root,s),ownerState:l,ref:n,...a})});function bht(i){return typeof i.main=="string"}function xht(i,e=[]){if(!bht(i))return!1;for(const n of e)if(!i.hasOwnProperty(n)||typeof i[n]!="string")return!1;return!0}function ta(i=[]){return([,e])=>e&&xht(e,i)}function Sht(i){return bn("MuiTypography",i)}yn("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const Eht={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},Tht=Vct(),wht=i=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:s,variant:a,classes:o}=i,l={root:["root",a,i.align!=="inherit"&&`align${Ge(e)}`,n&&"gutterBottom",r&&"noWrap",s&&"paragraph"]};return xn(l,Sht,o)},Aht=ge("span",{name:"MuiTypography",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${Ge(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(Rn(({theme:i})=>{var e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(i.typography).filter(([n,r])=>n!=="inherit"&&r&&typeof r=="object").map(([n,r])=>({props:{variant:n},style:r})),...Object.entries(i.palette).filter(ta()).map(([n])=>({props:{color:n},style:{color:(i.vars||i).palette[n].main}})),...Object.entries(((e=i.palette)==null?void 0:e.text)||{}).filter(([,n])=>typeof n=="string").map(([n])=>({props:{color:`text${Ge(n)}`},style:{color:(i.vars||i).palette.text[n]}})),{props:({ownerState:n})=>n.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:n})=>n.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:n})=>n.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:n})=>n.paragraph,style:{marginBottom:16}}]}})),fF={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Mo=tt.forwardRef(function(e,n){const{color:r,...s}=Mn({props:e,name:"MuiTypography"}),a=!Eht[r],o=Tht({...s,...a&&{color:r}}),{align:l="inherit",className:u,component:f,gutterBottom:h=!1,noWrap:p=!1,paragraph:y=!1,variant:_="body1",variantMapping:x=fF,...S}=o,E={...o,align:l,color:r,className:u,component:f,gutterBottom:h,noWrap:p,paragraph:y,variant:_,variantMapping:x},b=f||(y?"p":x[_]||fF[_])||"span",A=wht(E);return K.jsx(Aht,{as:b,ref:n,className:He(A.root,u),...S,ownerState:E,style:{...l!=="inherit"&&{"--Typography-textAlign":l},...S.style}})}),hF=yn("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);function Mht(i){return bn("MuiMenuItem",i)}const kx=yn("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),Cht=(i,e)=>{const{ownerState:n}=i;return[e.root,n.dense&&e.dense,n.divider&&e.divider,!n.disableGutters&&e.gutters]},Rht=i=>{const{disabled:e,dense:n,divider:r,disableGutters:s,selected:a,classes:o}=i,u=xn({root:["root",n&&"dense",e&&"disabled",!s&&"gutters",r&&"divider",a&&"selected"]},Mht,o);return{...o,...u}},Oht=ge(nb,{shouldForwardProp:i=>Vu(i)||i==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:Cht})(Rn(({theme:i})=>({...i.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(i.vars||i).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${kx.selected}`]:{backgroundColor:i.vars?`rgba(${i.vars.palette.primary.mainChannel} / ${i.vars.palette.action.selectedOpacity})`:Ar(i.palette.primary.main,i.palette.action.selectedOpacity),[`&.${kx.focusVisible}`]:{backgroundColor:i.vars?`rgba(${i.vars.palette.primary.mainChannel} / calc(${i.vars.palette.action.selectedOpacity} + ${i.vars.palette.action.focusOpacity}))`:Ar(i.palette.primary.main,i.palette.action.selectedOpacity+i.palette.action.focusOpacity)}},[`&.${kx.selected}:hover`]:{backgroundColor:i.vars?`rgba(${i.vars.palette.primary.mainChannel} / calc(${i.vars.palette.action.selectedOpacity} + ${i.vars.palette.action.hoverOpacity}))`:Ar(i.palette.primary.main,i.palette.action.selectedOpacity+i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:i.vars?`rgba(${i.vars.palette.primary.mainChannel} / ${i.vars.palette.action.selectedOpacity})`:Ar(i.palette.primary.main,i.palette.action.selectedOpacity)}},[`&.${kx.focusVisible}`]:{backgroundColor:(i.vars||i).palette.action.focus},[`&.${kx.disabled}`]:{opacity:(i.vars||i).palette.action.disabledOpacity},[`& + .${uF.root}`]:{marginTop:i.spacing(1),marginBottom:i.spacing(1)},[`& + .${uF.inset}`]:{marginLeft:52},[`& .${hF.root}`]:{marginTop:0,marginBottom:0},[`& .${hF.inset}`]:{paddingLeft:36},[`& .${cF.root}`]:{minWidth:36},variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(i.vars||i).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>!e.dense,style:{[i.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:e})=>e.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...i.typography.body2,[`& .${cF.root} svg`]:{fontSize:"1.25rem"}}}]}))),zx=tt.forwardRef(function(e,n){const r=Mn({props:e,name:"MuiMenuItem"}),{autoFocus:s=!1,component:a="li",dense:o=!1,divider:l=!1,disableGutters:u=!1,focusVisibleClassName:f,role:h="menuitem",tabIndex:p,className:y,..._}=r,x=tt.useContext(hC),S=tt.useMemo(()=>({dense:o||x.dense||!1,disableGutters:u}),[x.dense,o,u]),E=tt.useRef(null);Dc(()=>{s&&E.current&&E.current.focus()},[s]);const b={...r,dense:S.dense,divider:l,disableGutters:u},A=Rht(r),C=ps(E,n);let M;return r.disabled||(M=p!==void 0?p:-1),K.jsx(hC.Provider,{value:S,children:K.jsx(Oht,{ref:C,role:h,tabIndex:M,component:a,focusVisibleClassName:He(A.focusVisible,f),className:He(A.root,y),..._,ownerState:b,classes:A})})});function Iht(i){return bn("MuiCircularProgress",i)}yn("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Lp=44,o3=Mm`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,l3=Mm`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,Pht=typeof o3!="string"?J_`
        animation: ${o3} 1.4s linear infinite;
      `:null,Dht=typeof l3!="string"?J_`
        animation: ${l3} 1.4s ease-in-out infinite;
      `:null,Nht=i=>{const{classes:e,variant:n,color:r,disableShrink:s}=i,a={root:["root",n,`color${Ge(r)}`],svg:["svg"],circle:["circle",`circle${Ge(n)}`,s&&"circleDisableShrink"]};return xn(a,Iht,e)},Lht=ge("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.root,e[n.variant],e[`color${Ge(n.color)}`]]}})(Rn(({theme:i})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:i.transitions.create("transform")}},{props:{variant:"indeterminate"},style:Pht||{animation:`${o3} 1.4s linear infinite`}},...Object.entries(i.palette).filter(ta()).map(([e])=>({props:{color:e},style:{color:(i.vars||i).palette[e].main}}))]}))),Uht=ge("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(i,e)=>e.svg})({display:"block"}),kht=ge("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.circle,e[`circle${Ge(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(Rn(({theme:i})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:i.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:Dht||{animation:`${l3} 1.4s ease-in-out infinite`}}]}))),lU=tt.forwardRef(function(e,n){const r=Mn({props:e,name:"MuiCircularProgress"}),{className:s,color:a="primary",disableShrink:o=!1,size:l=40,style:u,thickness:f=3.6,value:h=0,variant:p="indeterminate",...y}=r,_={...r,color:a,disableShrink:o,size:l,thickness:f,value:h,variant:p},x=Nht(_),S={},E={},b={};if(p==="determinate"){const A=2*Math.PI*((Lp-f)/2);S.strokeDasharray=A.toFixed(3),b["aria-valuenow"]=Math.round(h),S.strokeDashoffset=`${((100-h)/100*A).toFixed(3)}px`,E.transform="rotate(-90deg)"}return K.jsx(Lht,{className:He(x.root,s),style:{width:l,height:l,...E,...u},ownerState:_,ref:n,role:"progressbar",...b,...y,children:K.jsx(Uht,{className:x.svg,ownerState:_,viewBox:`${Lp/2} ${Lp/2} ${Lp} ${Lp}`,children:K.jsx(kht,{className:x.circle,style:S,ownerState:_,cx:Lp,cy:Lp,r:(Lp-f)/2,fill:"none",strokeWidth:f})})})});function zht(i){return bn("MuiIconButton",i)}const dF=yn("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),Bht=i=>{const{classes:e,disabled:n,color:r,edge:s,size:a,loading:o}=i,l={root:["root",o&&"loading",n&&"disabled",r!=="default"&&`color${Ge(r)}`,s&&`edge${Ge(s)}`,`size${Ge(a)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return xn(l,zht,e)},Fht=ge(nb,{name:"MuiIconButton",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.root,n.loading&&e.loading,n.color!=="default"&&e[`color${Ge(n.color)}`],n.edge&&e[`edge${Ge(n.edge)}`],e[`size${Ge(n.size)}`]]}})(Rn(({theme:i})=>({textAlign:"center",flex:"0 0 auto",fontSize:i.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(i.vars||i).palette.action.active,transition:i.transitions.create("background-color",{duration:i.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":i.vars?`rgba(${i.vars.palette.action.activeChannel} / ${i.vars.palette.action.hoverOpacity})`:Ar(i.palette.action.active,i.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),Rn(({theme:i})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(i.palette).filter(ta()).map(([e])=>({props:{color:e},style:{color:(i.vars||i).palette[e].main}})),...Object.entries(i.palette).filter(ta()).map(([e])=>({props:{color:e},style:{"--IconButton-hoverBg":i.vars?`rgba(${(i.vars||i).palette[e].mainChannel} / ${i.vars.palette.action.hoverOpacity})`:Ar((i.vars||i).palette[e].main,i.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:i.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:i.typography.pxToRem(28)}}],[`&.${dF.disabled}`]:{backgroundColor:"transparent",color:(i.vars||i).palette.action.disabled},[`&.${dF.loading}`]:{color:"transparent"}}))),Vht=ge("span",{name:"MuiIconButton",slot:"LoadingIndicator",overridesResolver:(i,e)=>e.loadingIndicator})(({theme:i})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(i.vars||i).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),Wg=tt.forwardRef(function(e,n){const r=Mn({props:e,name:"MuiIconButton"}),{edge:s=!1,children:a,className:o,color:l="default",disabled:u=!1,disableFocusRipple:f=!1,size:h="medium",id:p,loading:y=null,loadingIndicator:_,...x}=r,S=tb(p),E=_??K.jsx(lU,{"aria-labelledby":S,color:"inherit",size:16}),b={...r,edge:s,color:l,disabled:u,disableFocusRipple:f,loading:y,loadingIndicator:E,size:h},A=Bht(b);return K.jsxs(Fht,{id:y?S:p,className:He(A.root,o),centerRipple:!0,focusRipple:!f,disabled:u||y,ref:n,...x,ownerState:b,children:[typeof y=="boolean"&&K.jsx("span",{className:A.loadingWrapper,style:{display:"contents"},children:K.jsx(Vht,{className:A.loadingIndicator,ownerState:b,children:y&&E})}),a]})}),Hht=gs(K.jsx("path",{d:"M8.4 18.2c.38.5.6 1.12.6 1.8 0 1.66-1.34 3-3 3s-3-1.34-3-3 1.34-3 3-3c.44 0 .85.09 1.23.26l1.41-1.77c-.92-1.03-1.29-2.39-1.09-3.69l-2.03-.68c-.54.83-1.46 1.38-2.52 1.38-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3c0 .07 0 .14-.01.21l2.03.68c.64-1.21 1.82-2.09 3.22-2.32V5.91C9.96 5.57 9 4.4 9 3c0-1.66 1.34-3 3-3s3 1.34 3 3c0 1.4-.96 2.57-2.25 2.91v2.16c1.4.23 2.58 1.11 3.22 2.32L18 9.71V9.5c0-1.66 1.34-3 3-3s3 1.34 3 3-1.34 3-3 3c-1.06 0-1.98-.55-2.52-1.37l-2.03.68c.2 1.29-.16 2.65-1.09 3.69l1.41 1.77Q17.34 17 18 17c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3c0-.68.22-1.3.6-1.8l-1.41-1.77c-1.35.75-3.01.76-4.37 0z"}),"Hub");var ol="top",zu="bottom",Bu="right",ll="left",uU="auto",dE=[ol,zu,Bu,ll],x_="start",SS="end",jht="clippingParents",_G="viewport",Bx="popper",Ght="reference",pF=dE.reduce(function(i,e){return i.concat([e+"-"+x_,e+"-"+SS])},[]),bG=[].concat(dE,[uU]).reduce(function(i,e){return i.concat([e,e+"-"+x_,e+"-"+SS])},[]),qht="beforeRead",$ht="read",Wht="afterRead",Xht="beforeMain",Yht="main",Kht="afterMain",Zht="beforeWrite",Qht="write",Jht="afterWrite",tdt=[qht,$ht,Wht,Xht,Yht,Kht,Zht,Qht,Jht];function nh(i){return i?(i.nodeName||"").toLowerCase():null}function Kl(i){if(i==null)return window;if(i.toString()!=="[object Window]"){var e=i.ownerDocument;return e&&e.defaultView||window}return i}function Dy(i){var e=Kl(i).Element;return i instanceof e||i instanceof Element}function Lu(i){var e=Kl(i).HTMLElement;return i instanceof e||i instanceof HTMLElement}function cU(i){if(typeof ShadowRoot>"u")return!1;var e=Kl(i).ShadowRoot;return i instanceof e||i instanceof ShadowRoot}function edt(i){var e=i.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},s=e.attributes[n]||{},a=e.elements[n];!Lu(a)||!nh(a)||(Object.assign(a.style,r),Object.keys(s).forEach(function(o){var l=s[o];l===!1?a.removeAttribute(o):a.setAttribute(o,l===!0?"":l)}))})}function ndt(i){var e=i.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var s=e.elements[r],a=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),l=o.reduce(function(u,f){return u[f]="",u},{});!Lu(s)||!nh(s)||(Object.assign(s.style,l),Object.keys(a).forEach(function(u){s.removeAttribute(u)}))})}}const idt={name:"applyStyles",enabled:!0,phase:"write",fn:edt,effect:ndt,requires:["computeStyles"]};function Xf(i){return i.split("-")[0]}var dy=Math.max,gC=Math.min,S_=Math.round;function u3(){var i=navigator.userAgentData;return i!=null&&i.brands&&Array.isArray(i.brands)?i.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function xG(){return!/^((?!chrome|android).)*safari/i.test(u3())}function E_(i,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=i.getBoundingClientRect(),s=1,a=1;e&&Lu(i)&&(s=i.offsetWidth>0&&S_(r.width)/i.offsetWidth||1,a=i.offsetHeight>0&&S_(r.height)/i.offsetHeight||1);var o=Dy(i)?Kl(i):window,l=o.visualViewport,u=!xG()&&n,f=(r.left+(u&&l?l.offsetLeft:0))/s,h=(r.top+(u&&l?l.offsetTop:0))/a,p=r.width/s,y=r.height/a;return{width:p,height:y,top:h,right:f+p,bottom:h+y,left:f,x:f,y:h}}function fU(i){var e=E_(i),n=i.offsetWidth,r=i.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:i.offsetLeft,y:i.offsetTop,width:n,height:r}}function SG(i,e){var n=e.getRootNode&&e.getRootNode();if(i.contains(e))return!0;if(n&&cU(n)){var r=e;do{if(r&&i.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Md(i){return Kl(i).getComputedStyle(i)}function rdt(i){return["table","td","th"].indexOf(nh(i))>=0}function Cm(i){return((Dy(i)?i.ownerDocument:i.document)||window.document).documentElement}function hR(i){return nh(i)==="html"?i:i.assignedSlot||i.parentNode||(cU(i)?i.host:null)||Cm(i)}function mF(i){return!Lu(i)||Md(i).position==="fixed"?null:i.offsetParent}function sdt(i){var e=/firefox/i.test(u3()),n=/Trident/i.test(u3());if(n&&Lu(i)){var r=Md(i);if(r.position==="fixed")return null}var s=hR(i);for(cU(s)&&(s=s.host);Lu(s)&&["html","body"].indexOf(nh(s))<0;){var a=Md(s);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return s;s=s.parentNode}return null}function pE(i){for(var e=Kl(i),n=mF(i);n&&rdt(n)&&Md(n).position==="static";)n=mF(n);return n&&(nh(n)==="html"||nh(n)==="body"&&Md(n).position==="static")?e:n||sdt(i)||e}function hU(i){return["top","bottom"].indexOf(i)>=0?"x":"y"}function L1(i,e,n){return dy(i,gC(e,n))}function adt(i,e,n){var r=L1(i,e,n);return r>n?n:r}function EG(){return{top:0,right:0,bottom:0,left:0}}function TG(i){return Object.assign({},EG(),i)}function wG(i,e){return e.reduce(function(n,r){return n[r]=i,n},{})}var odt=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,TG(typeof e!="number"?e:wG(e,dE))};function ldt(i){var e,n=i.state,r=i.name,s=i.options,a=n.elements.arrow,o=n.modifiersData.popperOffsets,l=Xf(n.placement),u=hU(l),f=[ll,Bu].indexOf(l)>=0,h=f?"height":"width";if(!(!a||!o)){var p=odt(s.padding,n),y=fU(a),_=u==="y"?ol:ll,x=u==="y"?zu:Bu,S=n.rects.reference[h]+n.rects.reference[u]-o[u]-n.rects.popper[h],E=o[u]-n.rects.reference[u],b=pE(a),A=b?u==="y"?b.clientHeight||0:b.clientWidth||0:0,C=S/2-E/2,M=p[_],I=A-y[h]-p[x],k=A/2-y[h]/2+C,N=L1(M,k,I),L=u;n.modifiersData[r]=(e={},e[L]=N,e.centerOffset=N-k,e)}}function udt(i){var e=i.state,n=i.options,r=n.element,s=r===void 0?"[data-popper-arrow]":r;s!=null&&(typeof s=="string"&&(s=e.elements.popper.querySelector(s),!s)||SG(e.elements.popper,s)&&(e.elements.arrow=s))}const cdt={name:"arrow",enabled:!0,phase:"main",fn:ldt,effect:udt,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function T_(i){return i.split("-")[1]}var fdt={top:"auto",right:"auto",bottom:"auto",left:"auto"};function hdt(i,e){var n=i.x,r=i.y,s=e.devicePixelRatio||1;return{x:S_(n*s)/s||0,y:S_(r*s)/s||0}}function gF(i){var e,n=i.popper,r=i.popperRect,s=i.placement,a=i.variation,o=i.offsets,l=i.position,u=i.gpuAcceleration,f=i.adaptive,h=i.roundOffsets,p=i.isFixed,y=o.x,_=y===void 0?0:y,x=o.y,S=x===void 0?0:x,E=typeof h=="function"?h({x:_,y:S}):{x:_,y:S};_=E.x,S=E.y;var b=o.hasOwnProperty("x"),A=o.hasOwnProperty("y"),C=ll,M=ol,I=window;if(f){var k=pE(n),N="clientHeight",L="clientWidth";if(k===Kl(n)&&(k=Cm(n),Md(k).position!=="static"&&l==="absolute"&&(N="scrollHeight",L="scrollWidth")),k=k,s===ol||(s===ll||s===Bu)&&a===SS){M=zu;var U=p&&k===I&&I.visualViewport?I.visualViewport.height:k[N];S-=U-r.height,S*=u?1:-1}if(s===ll||(s===ol||s===zu)&&a===SS){C=Bu;var O=p&&k===I&&I.visualViewport?I.visualViewport.width:k[L];_-=O-r.width,_*=u?1:-1}}var B=Object.assign({position:l},f&&fdt),H=h===!0?hdt({x:_,y:S},Kl(n)):{x:_,y:S};if(_=H.x,S=H.y,u){var V;return Object.assign({},B,(V={},V[M]=A?"0":"",V[C]=b?"0":"",V.transform=(I.devicePixelRatio||1)<=1?"translate("+_+"px, "+S+"px)":"translate3d("+_+"px, "+S+"px, 0)",V))}return Object.assign({},B,(e={},e[M]=A?S+"px":"",e[C]=b?_+"px":"",e.transform="",e))}function ddt(i){var e=i.state,n=i.options,r=n.gpuAcceleration,s=r===void 0?!0:r,a=n.adaptive,o=a===void 0?!0:a,l=n.roundOffsets,u=l===void 0?!0:l,f={placement:Xf(e.placement),variation:T_(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,gF(Object.assign({},f,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:u})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,gF(Object.assign({},f,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const pdt={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:ddt,data:{}};var Xw={passive:!0};function mdt(i){var e=i.state,n=i.instance,r=i.options,s=r.scroll,a=s===void 0?!0:s,o=r.resize,l=o===void 0?!0:o,u=Kl(e.elements.popper),f=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&f.forEach(function(h){h.addEventListener("scroll",n.update,Xw)}),l&&u.addEventListener("resize",n.update,Xw),function(){a&&f.forEach(function(h){h.removeEventListener("scroll",n.update,Xw)}),l&&u.removeEventListener("resize",n.update,Xw)}}const gdt={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:mdt,data:{}};var ydt={left:"right",right:"left",bottom:"top",top:"bottom"};function qA(i){return i.replace(/left|right|bottom|top/g,function(e){return ydt[e]})}var vdt={start:"end",end:"start"};function yF(i){return i.replace(/start|end/g,function(e){return vdt[e]})}function dU(i){var e=Kl(i),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function pU(i){return E_(Cm(i)).left+dU(i).scrollLeft}function _dt(i,e){var n=Kl(i),r=Cm(i),s=n.visualViewport,a=r.clientWidth,o=r.clientHeight,l=0,u=0;if(s){a=s.width,o=s.height;var f=xG();(f||!f&&e==="fixed")&&(l=s.offsetLeft,u=s.offsetTop)}return{width:a,height:o,x:l+pU(i),y:u}}function bdt(i){var e,n=Cm(i),r=dU(i),s=(e=i.ownerDocument)==null?void 0:e.body,a=dy(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=dy(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),l=-r.scrollLeft+pU(i),u=-r.scrollTop;return Md(s||n).direction==="rtl"&&(l+=dy(n.clientWidth,s?s.clientWidth:0)-a),{width:a,height:o,x:l,y:u}}function mU(i){var e=Md(i),n=e.overflow,r=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+r)}function AG(i){return["html","body","#document"].indexOf(nh(i))>=0?i.ownerDocument.body:Lu(i)&&mU(i)?i:AG(hR(i))}function U1(i,e){var n;e===void 0&&(e=[]);var r=AG(i),s=r===((n=i.ownerDocument)==null?void 0:n.body),a=Kl(r),o=s?[a].concat(a.visualViewport||[],mU(r)?r:[]):r,l=e.concat(o);return s?l:l.concat(U1(hR(o)))}function c3(i){return Object.assign({},i,{left:i.x,top:i.y,right:i.x+i.width,bottom:i.y+i.height})}function xdt(i,e){var n=E_(i,!1,e==="fixed");return n.top=n.top+i.clientTop,n.left=n.left+i.clientLeft,n.bottom=n.top+i.clientHeight,n.right=n.left+i.clientWidth,n.width=i.clientWidth,n.height=i.clientHeight,n.x=n.left,n.y=n.top,n}function vF(i,e,n){return e===_G?c3(_dt(i,n)):Dy(e)?xdt(e,n):c3(bdt(Cm(i)))}function Sdt(i){var e=U1(hR(i)),n=["absolute","fixed"].indexOf(Md(i).position)>=0,r=n&&Lu(i)?pE(i):i;return Dy(r)?e.filter(function(s){return Dy(s)&&SG(s,r)&&nh(s)!=="body"}):[]}function Edt(i,e,n,r){var s=e==="clippingParents"?Sdt(i):[].concat(e),a=[].concat(s,[n]),o=a[0],l=a.reduce(function(u,f){var h=vF(i,f,r);return u.top=dy(h.top,u.top),u.right=gC(h.right,u.right),u.bottom=gC(h.bottom,u.bottom),u.left=dy(h.left,u.left),u},vF(i,o,r));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function MG(i){var e=i.reference,n=i.element,r=i.placement,s=r?Xf(r):null,a=r?T_(r):null,o=e.x+e.width/2-n.width/2,l=e.y+e.height/2-n.height/2,u;switch(s){case ol:u={x:o,y:e.y-n.height};break;case zu:u={x:o,y:e.y+e.height};break;case Bu:u={x:e.x+e.width,y:l};break;case ll:u={x:e.x-n.width,y:l};break;default:u={x:e.x,y:e.y}}var f=s?hU(s):null;if(f!=null){var h=f==="y"?"height":"width";switch(a){case x_:u[f]=u[f]-(e[h]/2-n[h]/2);break;case SS:u[f]=u[f]+(e[h]/2-n[h]/2);break}}return u}function ES(i,e){e===void 0&&(e={});var n=e,r=n.placement,s=r===void 0?i.placement:r,a=n.strategy,o=a===void 0?i.strategy:a,l=n.boundary,u=l===void 0?jht:l,f=n.rootBoundary,h=f===void 0?_G:f,p=n.elementContext,y=p===void 0?Bx:p,_=n.altBoundary,x=_===void 0?!1:_,S=n.padding,E=S===void 0?0:S,b=TG(typeof E!="number"?E:wG(E,dE)),A=y===Bx?Ght:Bx,C=i.rects.popper,M=i.elements[x?A:y],I=Edt(Dy(M)?M:M.contextElement||Cm(i.elements.popper),u,h,o),k=E_(i.elements.reference),N=MG({reference:k,element:C,placement:s}),L=c3(Object.assign({},C,N)),U=y===Bx?L:k,O={top:I.top-U.top+b.top,bottom:U.bottom-I.bottom+b.bottom,left:I.left-U.left+b.left,right:U.right-I.right+b.right},B=i.modifiersData.offset;if(y===Bx&&B){var H=B[s];Object.keys(O).forEach(function(V){var X=[Bu,zu].indexOf(V)>=0?1:-1,et=[ol,zu].indexOf(V)>=0?"y":"x";O[V]+=H[et]*X})}return O}function Tdt(i,e){e===void 0&&(e={});var n=e,r=n.placement,s=n.boundary,a=n.rootBoundary,o=n.padding,l=n.flipVariations,u=n.allowedAutoPlacements,f=u===void 0?bG:u,h=T_(r),p=h?l?pF:pF.filter(function(x){return T_(x)===h}):dE,y=p.filter(function(x){return f.indexOf(x)>=0});y.length===0&&(y=p);var _=y.reduce(function(x,S){return x[S]=ES(i,{placement:S,boundary:s,rootBoundary:a,padding:o})[Xf(S)],x},{});return Object.keys(_).sort(function(x,S){return _[x]-_[S]})}function wdt(i){if(Xf(i)===uU)return[];var e=qA(i);return[yF(i),e,yF(e)]}function Adt(i){var e=i.state,n=i.options,r=i.name;if(!e.modifiersData[r]._skip){for(var s=n.mainAxis,a=s===void 0?!0:s,o=n.altAxis,l=o===void 0?!0:o,u=n.fallbackPlacements,f=n.padding,h=n.boundary,p=n.rootBoundary,y=n.altBoundary,_=n.flipVariations,x=_===void 0?!0:_,S=n.allowedAutoPlacements,E=e.options.placement,b=Xf(E),A=b===E,C=u||(A||!x?[qA(E)]:wdt(E)),M=[E].concat(C).reduce(function(it,dt){return it.concat(Xf(dt)===uU?Tdt(e,{placement:dt,boundary:h,rootBoundary:p,padding:f,flipVariations:x,allowedAutoPlacements:S}):dt)},[]),I=e.rects.reference,k=e.rects.popper,N=new Map,L=!0,U=M[0],O=0;O<M.length;O++){var B=M[O],H=Xf(B),V=T_(B)===x_,X=[ol,zu].indexOf(H)>=0,et=X?"width":"height",q=ES(e,{placement:B,boundary:h,rootBoundary:p,altBoundary:y,padding:f}),W=X?V?Bu:ll:V?zu:ol;I[et]>k[et]&&(W=qA(W));var Z=qA(W),nt=[];if(a&&nt.push(q[H]<=0),l&&nt.push(q[W]<=0,q[Z]<=0),nt.every(function(it){return it})){U=B,L=!1;break}N.set(B,nt)}if(L)for(var Q=x?3:1,ht=function(dt){var ft=M.find(function(gt){var wt=N.get(gt);if(wt)return wt.slice(0,dt).every(function(Kt){return Kt})});if(ft)return U=ft,"break"},yt=Q;yt>0;yt--){var xt=ht(yt);if(xt==="break")break}e.placement!==U&&(e.modifiersData[r]._skip=!0,e.placement=U,e.reset=!0)}}const Mdt={name:"flip",enabled:!0,phase:"main",fn:Adt,requiresIfExists:["offset"],data:{_skip:!1}};function _F(i,e,n){return n===void 0&&(n={x:0,y:0}),{top:i.top-e.height-n.y,right:i.right-e.width+n.x,bottom:i.bottom-e.height+n.y,left:i.left-e.width-n.x}}function bF(i){return[ol,Bu,zu,ll].some(function(e){return i[e]>=0})}function Cdt(i){var e=i.state,n=i.name,r=e.rects.reference,s=e.rects.popper,a=e.modifiersData.preventOverflow,o=ES(e,{elementContext:"reference"}),l=ES(e,{altBoundary:!0}),u=_F(o,r),f=_F(l,s,a),h=bF(u),p=bF(f);e.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:f,isReferenceHidden:h,hasPopperEscaped:p},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":p})}const Rdt={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Cdt};function Odt(i,e,n){var r=Xf(i),s=[ll,ol].indexOf(r)>=0?-1:1,a=typeof n=="function"?n(Object.assign({},e,{placement:i})):n,o=a[0],l=a[1];return o=o||0,l=(l||0)*s,[ll,Bu].indexOf(r)>=0?{x:l,y:o}:{x:o,y:l}}function Idt(i){var e=i.state,n=i.options,r=i.name,s=n.offset,a=s===void 0?[0,0]:s,o=bG.reduce(function(h,p){return h[p]=Odt(p,e.rects,a),h},{}),l=o[e.placement],u=l.x,f=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=u,e.modifiersData.popperOffsets.y+=f),e.modifiersData[r]=o}const Pdt={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Idt};function Ddt(i){var e=i.state,n=i.name;e.modifiersData[n]=MG({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const Ndt={name:"popperOffsets",enabled:!0,phase:"read",fn:Ddt,data:{}};function Ldt(i){return i==="x"?"y":"x"}function Udt(i){var e=i.state,n=i.options,r=i.name,s=n.mainAxis,a=s===void 0?!0:s,o=n.altAxis,l=o===void 0?!1:o,u=n.boundary,f=n.rootBoundary,h=n.altBoundary,p=n.padding,y=n.tether,_=y===void 0?!0:y,x=n.tetherOffset,S=x===void 0?0:x,E=ES(e,{boundary:u,rootBoundary:f,padding:p,altBoundary:h}),b=Xf(e.placement),A=T_(e.placement),C=!A,M=hU(b),I=Ldt(M),k=e.modifiersData.popperOffsets,N=e.rects.reference,L=e.rects.popper,U=typeof S=="function"?S(Object.assign({},e.rects,{placement:e.placement})):S,O=typeof U=="number"?{mainAxis:U,altAxis:U}:Object.assign({mainAxis:0,altAxis:0},U),B=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,H={x:0,y:0};if(k){if(a){var V,X=M==="y"?ol:ll,et=M==="y"?zu:Bu,q=M==="y"?"height":"width",W=k[M],Z=W+E[X],nt=W-E[et],Q=_?-L[q]/2:0,ht=A===x_?N[q]:L[q],yt=A===x_?-L[q]:-N[q],xt=e.elements.arrow,it=_&&xt?fU(xt):{width:0,height:0},dt=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:EG(),ft=dt[X],gt=dt[et],wt=L1(0,N[q],it[q]),Kt=C?N[q]/2-Q-wt-ft-O.mainAxis:ht-wt-ft-O.mainAxis,kt=C?-N[q]/2+Q+wt+gt+O.mainAxis:yt+wt+gt+O.mainAxis,ee=e.elements.arrow&&pE(e.elements.arrow),Pt=ee?M==="y"?ee.clientTop||0:ee.clientLeft||0:0,Vt=(V=B==null?void 0:B[M])!=null?V:0,at=W+Kt-Vt-Pt,ce=W+kt-Vt,te=L1(_?gC(Z,at):Z,W,_?dy(nt,ce):nt);k[M]=te,H[M]=te-W}if(l){var ne,ie=M==="x"?ol:ll,Me=M==="x"?zu:Bu,le=k[I],lt=I==="y"?"height":"width",j=le+E[ie],ut=le-E[Me],mt=[ol,ll].indexOf(b)!==-1,Rt=(ne=B==null?void 0:B[I])!=null?ne:0,_t=mt?j:le-N[lt]-L[lt]-Rt+O.altAxis,Ct=mt?le+N[lt]+L[lt]-Rt-O.altAxis:ut,Lt=_&&mt?adt(_t,le,Ct):L1(_?_t:j,le,_?Ct:ut);k[I]=Lt,H[I]=Lt-le}e.modifiersData[r]=H}}const kdt={name:"preventOverflow",enabled:!0,phase:"main",fn:Udt,requiresIfExists:["offset"]};function zdt(i){return{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}}function Bdt(i){return i===Kl(i)||!Lu(i)?dU(i):zdt(i)}function Fdt(i){var e=i.getBoundingClientRect(),n=S_(e.width)/i.offsetWidth||1,r=S_(e.height)/i.offsetHeight||1;return n!==1||r!==1}function Vdt(i,e,n){n===void 0&&(n=!1);var r=Lu(e),s=Lu(e)&&Fdt(e),a=Cm(e),o=E_(i,s,n),l={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!n)&&((nh(e)!=="body"||mU(a))&&(l=Bdt(e)),Lu(e)?(u=E_(e,!0),u.x+=e.clientLeft,u.y+=e.clientTop):a&&(u.x=pU(a))),{x:o.left+l.scrollLeft-u.x,y:o.top+l.scrollTop-u.y,width:o.width,height:o.height}}function Hdt(i){var e=new Map,n=new Set,r=[];i.forEach(function(a){e.set(a.name,a)});function s(a){n.add(a.name);var o=[].concat(a.requires||[],a.requiresIfExists||[]);o.forEach(function(l){if(!n.has(l)){var u=e.get(l);u&&s(u)}}),r.push(a)}return i.forEach(function(a){n.has(a.name)||s(a)}),r}function jdt(i){var e=Hdt(i);return tdt.reduce(function(n,r){return n.concat(e.filter(function(s){return s.phase===r}))},[])}function Gdt(i){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(i())})})),e}}function qdt(i){var e=i.reduce(function(n,r){var s=n[r.name];return n[r.name]=s?Object.assign({},s,r,{options:Object.assign({},s.options,r.options),data:Object.assign({},s.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var xF={placement:"bottom",modifiers:[],strategy:"absolute"};function SF(){for(var i=arguments.length,e=new Array(i),n=0;n<i;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function $dt(i){i===void 0&&(i={});var e=i,n=e.defaultModifiers,r=n===void 0?[]:n,s=e.defaultOptions,a=s===void 0?xF:s;return function(l,u,f){f===void 0&&(f=a);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},xF,a),modifiersData:{},elements:{reference:l,popper:u},attributes:{},styles:{}},p=[],y=!1,_={state:h,setOptions:function(b){var A=typeof b=="function"?b(h.options):b;S(),h.options=Object.assign({},a,h.options,A),h.scrollParents={reference:Dy(l)?U1(l):l.contextElement?U1(l.contextElement):[],popper:U1(u)};var C=jdt(qdt([].concat(r,h.options.modifiers)));return h.orderedModifiers=C.filter(function(M){return M.enabled}),x(),_.update()},forceUpdate:function(){if(!y){var b=h.elements,A=b.reference,C=b.popper;if(SF(A,C)){h.rects={reference:Vdt(A,pE(C),h.options.strategy==="fixed"),popper:fU(C)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(O){return h.modifiersData[O.name]=Object.assign({},O.data)});for(var M=0;M<h.orderedModifiers.length;M++){if(h.reset===!0){h.reset=!1,M=-1;continue}var I=h.orderedModifiers[M],k=I.fn,N=I.options,L=N===void 0?{}:N,U=I.name;typeof k=="function"&&(h=k({state:h,options:L,name:U,instance:_})||h)}}}},update:Gdt(function(){return new Promise(function(E){_.forceUpdate(),E(h)})}),destroy:function(){S(),y=!0}};if(!SF(l,u))return _;_.setOptions(f).then(function(E){!y&&f.onFirstUpdate&&f.onFirstUpdate(E)});function x(){h.orderedModifiers.forEach(function(E){var b=E.name,A=E.options,C=A===void 0?{}:A,M=E.effect;if(typeof M=="function"){var I=M({state:h,name:b,instance:_,options:C}),k=function(){};p.push(I||k)}})}function S(){p.forEach(function(E){return E()}),p=[]}return _}}var Wdt=[gdt,Ndt,pdt,idt,Pdt,Mdt,kdt,cdt,Rdt],Xdt=$dt({defaultModifiers:Wdt});function Ydt(i){return bn("MuiPopper",i)}yn("MuiPopper",["root"]);function Kdt(i,e){if(e==="ltr")return i;switch(i){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return i}}function f3(i){return typeof i=="function"?i():i}function Zdt(i){return i.nodeType!==void 0}const Qdt=i=>{const{classes:e}=i;return xn({root:["root"]},Ydt,e)},Jdt={},tpt=tt.forwardRef(function(e,n){const{anchorEl:r,children:s,direction:a,disablePortal:o,modifiers:l,open:u,placement:f,popperOptions:h,popperRef:p,slotProps:y={},slots:_={},TransitionProps:x,ownerState:S,...E}=e,b=tt.useRef(null),A=ps(b,n),C=tt.useRef(null),M=ps(C,p),I=tt.useRef(M);Dc(()=>{I.current=M},[M]),tt.useImperativeHandle(p,()=>C.current,[]);const k=Kdt(f,a),[N,L]=tt.useState(k),[U,O]=tt.useState(f3(r));tt.useEffect(()=>{C.current&&C.current.forceUpdate()}),tt.useEffect(()=>{r&&O(f3(r))},[r]),Dc(()=>{if(!U||!u)return;const et=Z=>{L(Z.placement)};let q=[{name:"preventOverflow",options:{altBoundary:o}},{name:"flip",options:{altBoundary:o}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:Z})=>{et(Z)}}];l!=null&&(q=q.concat(l)),h&&h.modifiers!=null&&(q=q.concat(h.modifiers));const W=Xdt(U,b.current,{placement:k,...h,modifiers:q});return I.current(W),()=>{W.destroy(),I.current(null)}},[U,o,l,u,h,k]);const B={placement:N};x!==null&&(B.TransitionProps=x);const H=Qdt(e),V=_.root??"div",X=__({elementType:V,externalSlotProps:y.root,externalForwardedProps:E,additionalProps:{role:"tooltip",ref:A},ownerState:e,className:H.root});return K.jsx(V,{...X,children:typeof s=="function"?s(B):s})}),ept=tt.forwardRef(function(e,n){const{anchorEl:r,children:s,container:a,direction:o="ltr",disablePortal:l=!1,keepMounted:u=!1,modifiers:f,open:h,placement:p="bottom",popperOptions:y=Jdt,popperRef:_,style:x,transition:S=!1,slotProps:E={},slots:b={},...A}=e,[C,M]=tt.useState(!0),I=()=>{M(!1)},k=()=>{M(!0)};if(!u&&!h&&(!S||C))return null;let N;if(a)N=a;else if(r){const O=f3(r);N=O&&Zdt(O)?ml(O).body:ml(null).body}const L=!h&&u&&(!S||C)?"none":void 0,U=S?{in:h,onEnter:I,onExited:k}:void 0;return K.jsx(gG,{disablePortal:l,container:N,children:K.jsx(tpt,{anchorEl:r,direction:o,disablePortal:l,modifiers:f,ref:n,open:S?!C:h,placement:p,popperOptions:y,popperRef:_,slotProps:E,slots:b,...A,style:{position:"fixed",top:0,left:0,display:L,...x},TransitionProps:U,children:s})})}),npt=ge(ept,{name:"MuiPopper",slot:"Root",overridesResolver:(i,e)=>e.root})({}),CG=tt.forwardRef(function(e,n){const r=eb(),s=Mn({props:e,name:"MuiPopper"}),{anchorEl:a,component:o,components:l,componentsProps:u,container:f,disablePortal:h,keepMounted:p,modifiers:y,open:_,placement:x,popperOptions:S,popperRef:E,transition:b,slots:A,slotProps:C,...M}=s,I=(A==null?void 0:A.root)??(l==null?void 0:l.Root),k={anchorEl:a,container:f,disablePortal:h,keepMounted:p,modifiers:y,open:_,placement:x,popperOptions:S,popperRef:E,transition:b,...M};return K.jsx(npt,{as:o,direction:r?"rtl":"ltr",slots:{root:I},slotProps:C??u,...k,ref:n})});function ipt(i){return bn("MuiTooltip",i)}const ts=yn("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);function rpt(i){return Math.round(i*1e5)/1e5}const spt=i=>{const{classes:e,disableInteractive:n,arrow:r,touch:s,placement:a}=i,o={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",s&&"touch",`tooltipPlacement${Ge(a.split("-")[0])}`],arrow:["arrow"]};return xn(o,ipt,e)},apt=ge(CG,{name:"MuiTooltip",slot:"Popper",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.popper,!n.disableInteractive&&e.popperInteractive,n.arrow&&e.popperArrow,!n.open&&e.popperClose]}})(Rn(({theme:i})=>({zIndex:(i.vars||i).zIndex.tooltip,pointerEvents:"none",variants:[{props:({ownerState:e})=>!e.disableInteractive,style:{pointerEvents:"auto"}},{props:({open:e})=>!e,style:{pointerEvents:"none"}},{props:({ownerState:e})=>e.arrow,style:{[`&[data-popper-placement*="bottom"] .${ts.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${ts.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${ts.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},[`&[data-popper-placement*="left"] .${ts.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="right"] .${ts.arrow}`]:{left:0,marginLeft:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="right"] .${ts.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="left"] .${ts.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="left"] .${ts.arrow}`]:{left:0,marginLeft:"-0.71em"}}}]}))),opt=ge("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.tooltip,n.touch&&e.touch,n.arrow&&e.tooltipArrow,e[`tooltipPlacement${Ge(n.placement.split("-")[0])}`]]}})(Rn(({theme:i})=>({backgroundColor:i.vars?i.vars.palette.Tooltip.bg:Ar(i.palette.grey[700],.92),borderRadius:(i.vars||i).shape.borderRadius,color:(i.vars||i).palette.common.white,fontFamily:i.typography.fontFamily,padding:"4px 8px",fontSize:i.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:i.typography.fontWeightMedium,[`.${ts.popper}[data-popper-placement*="left"] &`]:{transformOrigin:"right center"},[`.${ts.popper}[data-popper-placement*="right"] &`]:{transformOrigin:"left center"},[`.${ts.popper}[data-popper-placement*="top"] &`]:{transformOrigin:"center bottom",marginBottom:"14px"},[`.${ts.popper}[data-popper-placement*="bottom"] &`]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:({ownerState:e})=>e.arrow,style:{position:"relative",margin:0}},{props:({ownerState:e})=>e.touch,style:{padding:"8px 16px",fontSize:i.typography.pxToRem(14),lineHeight:`${rpt(16/14)}em`,fontWeight:i.typography.fontWeightRegular}},{props:({ownerState:e})=>!e.isRtl,style:{[`.${ts.popper}[data-popper-placement*="left"] &`]:{marginRight:"14px"},[`.${ts.popper}[data-popper-placement*="right"] &`]:{marginLeft:"14px"}}},{props:({ownerState:e})=>!e.isRtl&&e.touch,style:{[`.${ts.popper}[data-popper-placement*="left"] &`]:{marginRight:"24px"},[`.${ts.popper}[data-popper-placement*="right"] &`]:{marginLeft:"24px"}}},{props:({ownerState:e})=>!!e.isRtl,style:{[`.${ts.popper}[data-popper-placement*="left"] &`]:{marginLeft:"14px"},[`.${ts.popper}[data-popper-placement*="right"] &`]:{marginRight:"14px"}}},{props:({ownerState:e})=>!!e.isRtl&&e.touch,style:{[`.${ts.popper}[data-popper-placement*="left"] &`]:{marginLeft:"24px"},[`.${ts.popper}[data-popper-placement*="right"] &`]:{marginRight:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${ts.popper}[data-popper-placement*="top"] &`]:{marginBottom:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${ts.popper}[data-popper-placement*="bottom"] &`]:{marginTop:"24px"}}}]}))),lpt=ge("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(i,e)=>e.arrow})(Rn(({theme:i})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:i.vars?i.vars.palette.Tooltip.bg:Ar(i.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})));let Yw=!1;const EF=new uR;let Fx={x:0,y:0};function Kw(i,e){return(n,...r)=>{e&&e(n,...r),i(n,...r)}}const Bv=tt.forwardRef(function(e,n){const r=Mn({props:e,name:"MuiTooltip"}),{arrow:s=!1,children:a,classes:o,components:l={},componentsProps:u={},describeChild:f=!1,disableFocusListener:h=!1,disableHoverListener:p=!1,disableInteractive:y=!1,disableTouchListener:_=!1,enterDelay:x=100,enterNextDelay:S=0,enterTouchDelay:E=700,followCursor:b=!1,id:A,leaveDelay:C=0,leaveTouchDelay:M=1500,onClose:I,onOpen:k,open:N,placement:L="bottom",PopperComponent:U,PopperProps:O={},slotProps:B={},slots:H={},title:V,TransitionComponent:X,TransitionProps:et,...q}=r,W=tt.isValidElement(a)?a:K.jsx("span",{children:a}),Z=Xy(),nt=eb(),[Q,ht]=tt.useState(),[yt,xt]=tt.useState(null),it=tt.useRef(!1),dt=y||b,ft=Jg(),gt=Jg(),wt=Jg(),Kt=Jg(),[kt,ee]=uC({controlled:N,default:!1,name:"Tooltip",state:"open"});let Pt=kt;const Vt=tb(A),at=tt.useRef(),ce=Nu(()=>{at.current!==void 0&&(document.body.style.WebkitUserSelect=at.current,at.current=void 0),Kt.clear()});tt.useEffect(()=>ce,[ce]);const te=Ve=>{EF.clear(),Yw=!0,ee(!0),k&&!Pt&&k(Ve)},ne=Nu(Ve=>{EF.start(800+C,()=>{Yw=!1}),ee(!1),I&&Pt&&I(Ve),ft.start(Z.transitions.duration.shortest,()=>{it.current=!1})}),ie=Ve=>{it.current&&Ve.type!=="touchstart"||(Q&&Q.removeAttribute("title"),gt.clear(),wt.clear(),x||Yw&&S?gt.start(Yw?S:x,()=>{te(Ve)}):te(Ve))},Me=Ve=>{gt.clear(),wt.start(C,()=>{ne(Ve)})},[,le]=tt.useState(!1),lt=Ve=>{cC(Ve.target)||(le(!1),Me(Ve))},j=Ve=>{Q||ht(Ve.currentTarget),cC(Ve.target)&&(le(!0),ie(Ve))},ut=Ve=>{it.current=!0;const tn=W.props;tn.onTouchStart&&tn.onTouchStart(Ve)},mt=Ve=>{ut(Ve),wt.clear(),ft.clear(),ce(),at.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",Kt.start(E,()=>{document.body.style.WebkitUserSelect=at.current,ie(Ve)})},Rt=Ve=>{W.props.onTouchEnd&&W.props.onTouchEnd(Ve),ce(),wt.start(M,()=>{ne(Ve)})};tt.useEffect(()=>{if(!Pt)return;function Ve(tn){tn.key==="Escape"&&ne(tn)}return document.addEventListener("keydown",Ve),()=>{document.removeEventListener("keydown",Ve)}},[ne,Pt]);const _t=ps(Wy(W),ht,n);!V&&V!==0&&(Pt=!1);const Ct=tt.useRef(),Lt=Ve=>{const tn=W.props;tn.onMouseMove&&tn.onMouseMove(Ve),Fx={x:Ve.clientX,y:Ve.clientY},Ct.current&&Ct.current.update()},Qt={},De=typeof V=="string";f?(Qt.title=!Pt&&De&&!p?V:null,Qt["aria-describedby"]=Pt?Vt:null):(Qt["aria-label"]=De?V:null,Qt["aria-labelledby"]=Pt&&!De?Vt:null);const Ht={...Qt,...q,...W.props,className:He(q.className,W.props.className),onTouchStart:ut,ref:_t,...b?{onMouseMove:Lt}:{}},_e={};_||(Ht.onTouchStart=mt,Ht.onTouchEnd=Rt),p||(Ht.onMouseOver=Kw(ie,Ht.onMouseOver),Ht.onMouseLeave=Kw(Me,Ht.onMouseLeave),dt||(_e.onMouseOver=ie,_e.onMouseLeave=Me)),h||(Ht.onFocus=Kw(j,Ht.onFocus),Ht.onBlur=Kw(lt,Ht.onBlur),dt||(_e.onFocus=j,_e.onBlur=lt));const Re={...r,isRtl:nt,arrow:s,disableInteractive:dt,placement:L,PopperComponentProp:U,touch:it.current},Oe=typeof B.popper=="function"?B.popper(Re):B.popper,Zt=tt.useMemo(()=>{var tn,Ee;let Ve=[{name:"arrow",enabled:!!yt,options:{element:yt,padding:4}}];return(tn=O.popperOptions)!=null&&tn.modifiers&&(Ve=Ve.concat(O.popperOptions.modifiers)),(Ee=Oe==null?void 0:Oe.popperOptions)!=null&&Ee.modifiers&&(Ve=Ve.concat(Oe.popperOptions.modifiers)),{...O.popperOptions,...Oe==null?void 0:Oe.popperOptions,modifiers:Ve}},[yt,O.popperOptions,Oe==null?void 0:Oe.popperOptions]),Pe=spt(Re),Ne=typeof B.transition=="function"?B.transition(Re):B.transition,sn={slots:{popper:l.Popper,transition:l.Transition??X,tooltip:l.Tooltip,arrow:l.Arrow,...H},slotProps:{arrow:B.arrow??u.arrow,popper:{...O,...Oe??u.popper},tooltip:B.tooltip??u.tooltip,transition:{...et,...Ne??u.transition}}},[Tt,Ce]=gi("popper",{elementType:apt,externalForwardedProps:sn,ownerState:Re,className:He(Pe.popper,O==null?void 0:O.className)}),[Xt,se]=gi("transition",{elementType:pC,externalForwardedProps:sn,ownerState:Re}),[Ie,Se]=gi("tooltip",{elementType:opt,className:Pe.tooltip,externalForwardedProps:sn,ownerState:Re}),[on,Kn]=gi("arrow",{elementType:lpt,className:Pe.arrow,externalForwardedProps:sn,ownerState:Re,ref:xt});return K.jsxs(tt.Fragment,{children:[tt.cloneElement(W,Ht),K.jsx(Tt,{as:U??CG,placement:L,anchorEl:b?{getBoundingClientRect:()=>({top:Fx.y,left:Fx.x,right:Fx.x,bottom:Fx.y,width:0,height:0})}:Q,popperRef:Ct,open:Q?Pt:!1,id:Vt,transition:!0,..._e,...Ce,popperOptions:Zt,children:({TransitionProps:Ve})=>K.jsx(Xt,{timeout:Z.transitions.duration.shorter,...Ve,...se,children:K.jsxs(Ie,{...Se,children:[V,s?K.jsx(on,{...Kn}):null]})})})]})}),upt=gs(K.jsx("path",{d:"M11 7 9.6 8.4l2.6 2.6H2v2h10.2l-2.6 2.6L11 17l5-5zm9 12h-8v2h8c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-8v2h8z"}),"Login"),cpt=gs(K.jsx("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings"),fpt=gs(K.jsx("path",{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4z"}),"Logout"),hpt=gs(K.jsx("path",{d:"M12 5.9c1.16 0 2.1.94 2.1 2.1s-.94 2.1-2.1 2.1S9.9 9.16 9.9 8s.94-2.1 2.1-2.1m0 9c2.97 0 6.1 1.46 6.1 2.1v1.1H5.9V17c0-.64 3.13-2.1 6.1-2.1M12 4C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 9c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4"}),"PersonOutlineOutlined"),Ya=fE({palette:{background:{paper:"#fff",form:"#f3f3f3",formInput:"#000"},text:{titleBig:"#173A5E",primary:"#fff",secondary:"#46505A",white:"#fff"},action:{progress:"#001E3C",success:"#1976d2",deactivate:"#d32f2f"},success:{dark:"#009688"},canvas:{canvasBackgraundColor:"#002"},buttons:{buttonHomeScreen:"#f1f1f1"},formStyles:{containerBackgroundColor:"#d1d1d1",cardBackgroundColor:"#f9f9f9",cardBoxShadow:"0 10px 30px rgba(0, 0, 0, 0.99)",buttonForm:"#001E3C",borderColor:"rgb(109, 109, 109)"}}}),RG=Ya.palette.buttons.buttonHomeScreen,dpt={display:"flex",alignItems:"center",textAlign:"center",position:"absolute",zIndex:10,top:"30px",right:"30px"},ppt={width:55,height:55,backgroundColor:"transparent",border:`2px solid ${RG}`},mpt={color:RG,fontSize:"2.5rem"},Un=not((i,e)=>({isAddNodeActive:!1,setIsAddNodeActive:n=>i({isAddNodeActive:n}),isLoginWindowActive:!1,setIsLoginWindowActive:n=>i({isLoginWindowActive:n}),isLoadingFirestore:!1,setIsLoadingFirestore:n=>i({isLoadingFirestore:n}),isUploadFirestore:!1,setIsUploadFirestore:n=>i({isUploadFirestore:n}),userLoginData:{displayName:"",email:"",photoURL:""},setUserLoginDAta:n=>i({userLoginData:n}),isUserLogin:!1,setIsUserLogin:n=>i({isUserLogin:n}),showAlert:!1,alertMessage:"",alertSeverity:"success",isNodeViewActive:!1,setIsNodeViewActive:n=>i({isNodeViewActive:n}),nodeViewData:{videoid:"",start:"",end:","},setNodeViewData:n=>i({nodeViewData:n}),test_end:"",setTest_end:n=>i({test_end:n}),triggerAlert:(n,r="success")=>{i({showAlert:!0,alertMessage:n,alertSeverity:r}),setTimeout(()=>i({showAlert:!1}),4e3)},activeStep:0,setActiveStep:n=>i({activeStep:n}),nextStep:()=>i(n=>({activeStep:n.activeStep+1})),prevStep:()=>i(n=>({activeStep:Math.max(0,n.activeStep-1)})),stepValidation:{step0:!1,step1:!1,step2:!1},validateFns:{},setValidateFn:(n,r)=>i(s=>({validateFns:{...s.validateFns,[n]:r}})),runValidation:async n=>{const r=e().validateFns[n];if(!r)return!1;const s=await r();return i(a=>({stepValidation:{...a.stepValidation,[n]:s}})),s},runSequentialValidation:async n=>{for(const r of n)if(!await e().runValidation(r))return!1;return!0},cameraBackup:null,setCameraBackup:(n,r)=>i({cameraBackup:{pos:n,target:r}}),clearCameraBackup:()=>i({cameraBackup:null})})),gpt=()=>{};var TF={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OG=function(i){const e=[];let n=0;for(let r=0;r<i.length;r++){let s=i.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(i.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},ypt=function(i){const e=[];let n=0,r=0;for(;n<i.length;){const s=i[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=i[n++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=i[n++],o=i[n++],l=i[n++],u=((s&7)<<18|(a&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const a=i[n++],o=i[n++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|o&63)}}return e.join("")},IG={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<i.length;s+=3){const a=i[s],o=s+1<i.length,l=o?i[s+1]:0,u=s+2<i.length,f=u?i[s+2]:0,h=a>>2,p=(a&3)<<4|l>>4;let y=(l&15)<<2|f>>6,_=f&63;u||(_=64,o||(y=64)),r.push(n[h],n[p],n[y],n[_])}return r.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(OG(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):ypt(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<i.length;){const a=n[i.charAt(s++)],l=s<i.length?n[i.charAt(s)]:0;++s;const f=s<i.length?n[i.charAt(s)]:64;++s;const p=s<i.length?n[i.charAt(s)]:64;if(++s,a==null||l==null||f==null||p==null)throw new vpt;const y=a<<2|l>>4;if(r.push(y),f!==64){const _=l<<4&240|f>>2;if(r.push(_),p!==64){const x=f<<6&192|p;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class vpt extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _pt=function(i){const e=OG(i);return IG.encodeByteArray(e,!0)},yC=function(i){return _pt(i).replace(/\./g,"")},PG=function(i){try{return IG.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bpt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xpt=()=>bpt().__FIREBASE_DEFAULTS__,Spt=()=>{if(typeof process>"u"||typeof TF>"u")return;const i=TF.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},Ept=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&PG(i[1]);return e&&JSON.parse(e)},dR=()=>{try{return gpt()||xpt()||Spt()||Ept()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},DG=i=>{var e,n;return(n=(e=dR())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},Tpt=i=>{const e=DG(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},NG=()=>{var i;return(i=dR())===null||i===void 0?void 0:i.config},LG=i=>{var e;return(e=dR())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wpt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Apt(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=i.iat||0,a=i.sub||i.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},i);return[yC(JSON.stringify(n)),yC(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ka(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Mpt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ka())}function Cpt(){var i;const e=(i=dR())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Rpt(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Opt(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function Ipt(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ppt(){const i=Ka();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function Dpt(){return!Cpt()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Npt(){try{return typeof indexedDB=="object"}catch{return!1}}function Lpt(){return new Promise((i,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),i(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Upt="FirebaseError";class Ld extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Upt,Object.setPrototypeOf(this,Ld.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mE.prototype.create)}}class mE{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],o=a?kpt(a,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new Ld(s,l,r)}}function kpt(i,e){return i.replace(zpt,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const zpt=/\{\$([^}]+)}/g;function Bpt(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Ny(i,e){if(i===e)return!0;const n=Object.keys(i),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const a=i[s],o=e[s];if(wF(a)&&wF(o)){if(!Ny(a,o))return!1}else if(a!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function wF(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(i){const e=[];for(const[n,r]of Object.entries(i))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Fpt(i,e){const n=new Vpt(i,e);return n.subscribe.bind(n)}class Vpt{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Hpt(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=_P),s.error===void 0&&(s.error=_P),s.complete===void 0&&(s.complete=_P);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Hpt(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function _P(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gl(i){return i&&i._delegate?i._delegate:i}class Ly{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jg="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jpt{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new wpt;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(qpt(e))try{this.getOrInitializeService({instanceIdentifier:jg})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=jg){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=jg){return this.instances.has(e)}getOptions(e=jg){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);r===l&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(s,a);const o=this.instances.get(s);return o&&e(o,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Gpt(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=jg){return this.component?this.component.multipleInstances?e:jg:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Gpt(i){return i===jg?void 0:i}function qpt(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $pt{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new jpt(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ui;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ui||(ui={}));const Wpt={debug:ui.DEBUG,verbose:ui.VERBOSE,info:ui.INFO,warn:ui.WARN,error:ui.ERROR,silent:ui.SILENT},Xpt=ui.INFO,Ypt={[ui.DEBUG]:"log",[ui.VERBOSE]:"log",[ui.INFO]:"info",[ui.WARN]:"warn",[ui.ERROR]:"error"},Kpt=(i,e,...n)=>{if(e<i.logLevel)return;const r=new Date().toISOString(),s=Ypt[e];if(s)console[s](`[${r}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class gU{constructor(e){this.name=e,this._logLevel=Xpt,this._logHandler=Kpt,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ui))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Wpt[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ui.DEBUG,...e),this._logHandler(this,ui.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ui.VERBOSE,...e),this._logHandler(this,ui.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ui.INFO,...e),this._logHandler(this,ui.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ui.WARN,...e),this._logHandler(this,ui.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ui.ERROR,...e),this._logHandler(this,ui.ERROR,...e)}}const Zpt=(i,e)=>e.some(n=>i instanceof n);let AF,MF;function Qpt(){return AF||(AF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Jpt(){return MF||(MF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const UG=new WeakMap,h3=new WeakMap,kG=new WeakMap,bP=new WeakMap,yU=new WeakMap;function tmt(i){const e=new Promise((n,r)=>{const s=()=>{i.removeEventListener("success",a),i.removeEventListener("error",o)},a=()=>{n(nm(i.result)),s()},o=()=>{r(i.error),s()};i.addEventListener("success",a),i.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&UG.set(n,i)}).catch(()=>{}),yU.set(e,i),e}function emt(i){if(h3.has(i))return;const e=new Promise((n,r)=>{const s=()=>{i.removeEventListener("complete",a),i.removeEventListener("error",o),i.removeEventListener("abort",o)},a=()=>{n(),s()},o=()=>{r(i.error||new DOMException("AbortError","AbortError")),s()};i.addEventListener("complete",a),i.addEventListener("error",o),i.addEventListener("abort",o)});h3.set(i,e)}let d3={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return h3.get(i);if(e==="objectStoreNames")return i.objectStoreNames||kG.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return nm(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function nmt(i){d3=i(d3)}function imt(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=i.call(xP(this),e,...n);return kG.set(r,e.sort?e.sort():[e]),nm(r)}:Jpt().includes(i)?function(...e){return i.apply(xP(this),e),nm(UG.get(this))}:function(...e){return nm(i.apply(xP(this),e))}}function rmt(i){return typeof i=="function"?imt(i):(i instanceof IDBTransaction&&emt(i),Zpt(i,Qpt())?new Proxy(i,d3):i)}function nm(i){if(i instanceof IDBRequest)return tmt(i);if(bP.has(i))return bP.get(i);const e=rmt(i);return e!==i&&(bP.set(i,e),yU.set(e,i)),e}const xP=i=>yU.get(i);function smt(i,e,{blocked:n,upgrade:r,blocking:s,terminated:a}={}){const o=indexedDB.open(i,e),l=nm(o);return r&&o.addEventListener("upgradeneeded",u=>{r(nm(o.result),u.oldVersion,u.newVersion,nm(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{a&&u.addEventListener("close",()=>a()),s&&u.addEventListener("versionchange",f=>s(f.oldVersion,f.newVersion,f))}).catch(()=>{}),l}const amt=["get","getKey","getAll","getAllKeys","count"],omt=["put","add","delete","clear"],SP=new Map;function CF(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(SP.get(e))return SP.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=omt.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||amt.includes(n)))return;const a=async function(o,...l){const u=this.transaction(o,s?"readwrite":"readonly");let f=u.store;return r&&(f=f.index(l.shift())),(await Promise.all([f[n](...l),s&&u.done]))[0]};return SP.set(e,a),a}nmt(i=>({...i,get:(e,n,r)=>CF(e,n)||i.get(e,n,r),has:(e,n)=>!!CF(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lmt{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(umt(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function umt(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const p3="@firebase/app",RF="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cd=new gU("@firebase/app"),cmt="@firebase/app-compat",fmt="@firebase/analytics-compat",hmt="@firebase/analytics",dmt="@firebase/app-check-compat",pmt="@firebase/app-check",mmt="@firebase/auth",gmt="@firebase/auth-compat",ymt="@firebase/database",vmt="@firebase/data-connect",_mt="@firebase/database-compat",bmt="@firebase/functions",xmt="@firebase/functions-compat",Smt="@firebase/installations",Emt="@firebase/installations-compat",Tmt="@firebase/messaging",wmt="@firebase/messaging-compat",Amt="@firebase/performance",Mmt="@firebase/performance-compat",Cmt="@firebase/remote-config",Rmt="@firebase/remote-config-compat",Omt="@firebase/storage",Imt="@firebase/storage-compat",Pmt="@firebase/firestore",Dmt="@firebase/vertexai",Nmt="@firebase/firestore-compat",Lmt="firebase",Umt="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3="[DEFAULT]",kmt={[p3]:"fire-core",[cmt]:"fire-core-compat",[hmt]:"fire-analytics",[fmt]:"fire-analytics-compat",[pmt]:"fire-app-check",[dmt]:"fire-app-check-compat",[mmt]:"fire-auth",[gmt]:"fire-auth-compat",[ymt]:"fire-rtdb",[vmt]:"fire-data-connect",[_mt]:"fire-rtdb-compat",[bmt]:"fire-fn",[xmt]:"fire-fn-compat",[Smt]:"fire-iid",[Emt]:"fire-iid-compat",[Tmt]:"fire-fcm",[wmt]:"fire-fcm-compat",[Amt]:"fire-perf",[Mmt]:"fire-perf-compat",[Cmt]:"fire-rc",[Rmt]:"fire-rc-compat",[Omt]:"fire-gcs",[Imt]:"fire-gcs-compat",[Pmt]:"fire-fst",[Nmt]:"fire-fst-compat",[Dmt]:"fire-vertex","fire-js":"fire-js",[Lmt]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=new Map,zmt=new Map,g3=new Map;function OF(i,e){try{i.container.addComponent(e)}catch(n){Cd.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function w_(i){const e=i.name;if(g3.has(e))return Cd.debug(`There were multiple attempts to register component ${e}.`),!1;g3.set(e,i);for(const n of vC.values())OF(n,i);for(const n of zmt.values())OF(n,i);return!0}function vU(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Sc(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bmt={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},im=new mE("app","Firebase",Bmt);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fmt{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ly("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw im.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib=Umt;function zG(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const r=Object.assign({name:m3,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw im.create("bad-app-name",{appName:String(s)});if(n||(n=NG()),!n)throw im.create("no-options");const a=vC.get(s);if(a){if(Ny(n,a.options)&&Ny(r,a.config))return a;throw im.create("duplicate-app",{appName:s})}const o=new $pt(s);for(const u of g3.values())o.addComponent(u);const l=new Fmt(n,r,o);return vC.set(s,l),l}function BG(i=m3){const e=vC.get(i);if(!e&&i===m3&&NG())return zG();if(!e)throw im.create("no-app",{appName:i});return e}function rm(i,e,n){var r;let s=(r=kmt[i])!==null&&r!==void 0?r:i;n&&(s+=`-${n}`);const a=s.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const l=[`Unable to register library "${s}" with version "${e}":`];a&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Cd.warn(l.join(" "));return}w_(new Ly(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vmt="firebase-heartbeat-database",Hmt=1,TS="firebase-heartbeat-store";let EP=null;function FG(){return EP||(EP=smt(Vmt,Hmt,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(TS)}catch(n){console.warn(n)}}}}).catch(i=>{throw im.create("idb-open",{originalErrorMessage:i.message})})),EP}async function jmt(i){try{const n=(await FG()).transaction(TS),r=await n.objectStore(TS).get(VG(i));return await n.done,r}catch(e){if(e instanceof Ld)Cd.warn(e.message);else{const n=im.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Cd.warn(n.message)}}}async function IF(i,e){try{const r=(await FG()).transaction(TS,"readwrite");await r.objectStore(TS).put(e,VG(i)),await r.done}catch(n){if(n instanceof Ld)Cd.warn(n.message);else{const r=im.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Cd.warn(r.message)}}}function VG(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gmt=1024,qmt=30;class $mt{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Xmt(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=PF();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>qmt){const o=Ymt(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Cd.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=PF(),{heartbeatsToSend:r,unsentEntries:s}=Wmt(this._heartbeatsCache.heartbeats),a=yC(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Cd.warn(n),""}}}function PF(){return new Date().toISOString().substring(0,10)}function Wmt(i,e=Gmt){const n=[];let r=i.slice();for(const s of i){const a=n.find(o=>o.agent===s.agent);if(a){if(a.dates.push(s.date),DF(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),DF(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Xmt{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Npt()?Lpt().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await jmt(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return IF(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return IF(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function DF(i){return yC(JSON.stringify({version:2,heartbeats:i})).length}function Ymt(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let r=1;r<i.length;r++)i[r].date<n&&(n=i[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kmt(i){w_(new Ly("platform-logger",e=>new lmt(e),"PRIVATE")),w_(new Ly("heartbeat",e=>new $mt(e),"PRIVATE")),rm(p3,RF,i),rm(p3,RF,"esm2017"),rm("fire-js","")}Kmt("");function _U(i,e){var n={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&e.indexOf(r)<0&&(n[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(i);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(i,r[s])&&(n[r[s]]=i[r[s]]);return n}function HG(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Zmt=HG,jG=new mE("auth","Firebase",HG());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C=new gU("@firebase/auth");function Qmt(i,...e){_C.logLevel<=ui.WARN&&_C.warn(`Auth (${ib}): ${i}`,...e)}function $A(i,...e){_C.logLevel<=ui.ERROR&&_C.error(`Auth (${ib}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ih(i,...e){throw xU(i,...e)}function Oc(i,...e){return xU(i,...e)}function bU(i,e,n){const r=Object.assign(Object.assign({},Zmt()),{[e]:n});return new mE("auth","Firebase",r).create(e,{appName:i.name})}function py(i){return bU(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Jmt(i,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ih(i,"argument-error"),bU(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function xU(i,...e){if(typeof i!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=i.name),i._errorFactory.create(n,...r)}return jG.create(i,...e)}function An(i,e,...n){if(!i)throw xU(e,...n)}function fd(i){const e="INTERNAL ASSERTION FAILED: "+i;throw $A(e),new Error(e)}function Rd(i,e){i||fd(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y3(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function tgt(){return NF()==="http:"||NF()==="https:"}function NF(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function egt(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(tgt()||Opt()||"connection"in navigator)?navigator.onLine:!0}function ngt(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(e,n){this.shortDelay=e,this.longDelay=n,Rd(n>e,"Short delay should be less than long delay!"),this.isMobile=Mpt()||Ipt()}get(){return egt()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SU(i,e){Rd(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GG{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fd("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fd("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fd("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const igt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rgt=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],sgt=new yE(3e4,6e4);function EU(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function rb(i,e,n,r,s={}){return qG(i,s,async()=>{let a={},o={};r&&(e==="GET"?o=r:a={body:JSON.stringify(r)});const l=gE(Object.assign({key:i.config.apiKey},o)).slice(1),u=await i._getAdditionalHeaders();u["Content-Type"]="application/json",i.languageCode&&(u["X-Firebase-Locale"]=i.languageCode);const f=Object.assign({method:e,headers:u},a);return Rpt()||(f.referrerPolicy="no-referrer"),GG.fetch()(await $G(i,i.config.apiHost,n,l),f)})}async function qG(i,e,n){i._canInitEmulator=!1;const r=Object.assign(Object.assign({},igt),e);try{const s=new ogt(i),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw Zw(i,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const l=a.ok?o.errorMessage:o.error.message,[u,f]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zw(i,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Zw(i,"email-already-in-use",o);if(u==="USER_DISABLED")throw Zw(i,"user-disabled",o);const h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw bU(i,h,f);ih(i,h)}}catch(s){if(s instanceof Ld)throw s;ih(i,"network-request-failed",{message:String(s)})}}async function agt(i,e,n,r,s={}){const a=await rb(i,e,n,r,s);return"mfaPendingCredential"in a&&ih(i,"multi-factor-auth-required",{_serverResponse:a}),a}async function $G(i,e,n,r){const s=`${e}${n}?${r}`,a=i,o=a.config.emulator?SU(i.config,s):`${i.config.apiScheme}://${s}`;return rgt.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}class ogt{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Oc(this.auth,"network-request-failed")),sgt.get())})}}function Zw(i,e,n){const r={appName:i.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Oc(i,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lgt(i,e){return rb(i,"POST","/v1/accounts:delete",e)}async function bC(i,e){return rb(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ugt(i,e=!1){const n=gl(i),r=await n.getIdToken(e),s=TU(r);An(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:s,token:r,authTime:k1(TP(s.auth_time)),issuedAtTime:k1(TP(s.iat)),expirationTime:k1(TP(s.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function TP(i){return Number(i)*1e3}function TU(i){const[e,n,r]=i.split(".");if(e===void 0||n===void 0||r===void 0)return $A("JWT malformed, contained fewer than 3 sections"),null;try{const s=PG(n);return s?JSON.parse(s):($A("Failed to decode base64 JWT payload"),null)}catch(s){return $A("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function LF(i){const e=TU(i);return An(e,"internal-error"),An(typeof e.exp<"u","internal-error"),An(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wS(i,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ld&&cgt(r)&&i.auth.currentUser===i&&await i.auth.signOut(),r}}function cgt({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fgt{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=k1(this.lastLoginAt),this.creationTime=k1(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xC(i){var e;const n=i.auth,r=await i.getIdToken(),s=await wS(i,bC(n,{idToken:r}));An(s==null?void 0:s.users.length,n,"internal-error");const a=s.users[0];i._notifyReloadListener(a);const o=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?WG(a.providerUserInfo):[],l=dgt(i.providerData,o),u=i.isAnonymous,f=!(i.email&&a.passwordHash)&&!(l!=null&&l.length),h=u?f:!1,p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new v3(a.createdAt,a.lastLoginAt),isAnonymous:h};Object.assign(i,p)}async function hgt(i){const e=gl(i);await xC(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function dgt(i,e){return[...i.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function WG(i){return i.map(e=>{var{providerId:n}=e,r=_U(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pgt(i,e){const n=await qG(i,{},async()=>{const r=gE({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=i.config,o=await $G(i,s,"/v1/token",`key=${a}`),l=await i._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",GG.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function mgt(i,e){return rb(i,"POST","/v2/accounts:revokeToken",EU(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){An(e.idToken,"internal-error"),An(typeof e.idToken<"u","internal-error"),An(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):LF(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){An(e.length!==0,"internal-error");const n=LF(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(An(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:a}=await pgt(e,n);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:a}=n,o=new t_;return r&&(An(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(An(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),a&&(An(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t_,this.toJSON())}_performRefresh(){return fd("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Up(i,e){An(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Mc{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,a=_U(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fgt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new v3(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await wS(this,this.stsTokenManager.getToken(this.auth,e));return An(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ugt(this,e)}reload(){return hgt(this)}_assign(e){this!==e&&(An(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Mc(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){An(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await xC(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Sc(this.auth.app))return Promise.reject(py(this.auth));const e=await this.getIdToken();return await wS(this,lgt(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,a,o,l,u,f,h;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(s=n.email)!==null&&s!==void 0?s:void 0,_=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,x=(o=n.photoURL)!==null&&o!==void 0?o:void 0,S=(l=n.tenantId)!==null&&l!==void 0?l:void 0,E=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,b=(f=n.createdAt)!==null&&f!==void 0?f:void 0,A=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:C,emailVerified:M,isAnonymous:I,providerData:k,stsTokenManager:N}=n;An(C&&N,e,"internal-error");const L=t_.fromJSON(this.name,N);An(typeof C=="string",e,"internal-error"),Up(p,e.name),Up(y,e.name),An(typeof M=="boolean",e,"internal-error"),An(typeof I=="boolean",e,"internal-error"),Up(_,e.name),Up(x,e.name),Up(S,e.name),Up(E,e.name),Up(b,e.name),Up(A,e.name);const U=new Mc({uid:C,auth:e,email:y,emailVerified:M,displayName:p,isAnonymous:I,photoURL:x,phoneNumber:_,tenantId:S,stsTokenManager:L,createdAt:b,lastLoginAt:A});return k&&Array.isArray(k)&&(U.providerData=k.map(O=>Object.assign({},O))),E&&(U._redirectEventId=E),U}static async _fromIdTokenResponse(e,n,r=!1){const s=new t_;s.updateFromServerResponse(n);const a=new Mc({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await xC(a),a}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];An(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?WG(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),l=new t_;l.updateFromIdToken(r);const u=new Mc({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:o}),f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new v3(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(u,f),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UF=new Map;function hd(i){Rd(i instanceof Function,"Expected a class definition");let e=UF.get(i);return e?(Rd(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,UF.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XG{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}XG.type="NONE";const kF=XG;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WA(i,e,n){return`firebase:${i}:${e}:${n}`}class e_{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=WA(this.userKey,s.apiKey,a),this.fullPersistenceKey=WA("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await bC(this.auth,{idToken:e}).catch(()=>{});return n?Mc._fromGetAccountInfoResponse(this.auth,n,e):null}return Mc._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new e_(hd(kF),e,r);const s=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=s[0]||hd(kF);const o=WA(r,e.config.apiKey,e.name);let l=null;for(const f of n)try{const h=await f._get(o);if(h){let p;if(typeof h=="string"){const y=await bC(e,{idToken:h}).catch(()=>{});if(!y)break;p=await Mc._fromGetAccountInfoResponse(e,y,h)}else p=Mc._fromJSON(e,h);f!==a&&(l=p),a=f;break}}catch{}const u=s.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!u.length?new e_(a,e,r):(a=u[0],l&&await a._set(o,l.toJSON()),await Promise.all(n.map(async f=>{if(f!==a)try{await f._remove(o)}catch{}})),new e_(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zF(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(QG(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(YG(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tq(e))return"Blackberry";if(eq(e))return"Webos";if(KG(e))return"Safari";if((e.includes("chrome/")||ZG(e))&&!e.includes("edge/"))return"Chrome";if(JG(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=i.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function YG(i=Ka()){return/firefox\//i.test(i)}function KG(i=Ka()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ZG(i=Ka()){return/crios\//i.test(i)}function QG(i=Ka()){return/iemobile/i.test(i)}function JG(i=Ka()){return/android/i.test(i)}function tq(i=Ka()){return/blackberry/i.test(i)}function eq(i=Ka()){return/webos/i.test(i)}function wU(i=Ka()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function ggt(i=Ka()){var e;return wU(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function ygt(){return Ppt()&&document.documentMode===10}function nq(i=Ka()){return wU(i)||JG(i)||eq(i)||tq(i)||/windows phone/i.test(i)||QG(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iq(i,e=[]){let n;switch(i){case"Browser":n=zF(Ka());break;case"Worker":n=`${zF(Ka())}-${i}`;break;default:n=i}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ib}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vgt{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((o,l)=>{try{const u=e(a);o(u)}catch(u){l(u)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _gt(i,e={}){return rb(i,"GET","/v2/passwordPolicy",EU(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bgt=6;class xgt{constructor(e){var n,r,s,a;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:bgt,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,a,o,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(s=u.containsLowercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsUppercaseLetter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sgt{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new BF(this),this.idTokenSubscription=new BF(this),this.beforeStateQueue=new vgt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jG,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=hd(n)),this._initializationPromise=this.queue(async()=>{var r,s,a;if(!this._deleted&&(this.persistenceManager=await e_.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await bC(this,{idToken:e}),r=await Mc._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Sc(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=s==null?void 0:s._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===l)&&(u!=null&&u.user)&&(s=u.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return An(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await xC(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ngt()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Sc(this.app))return Promise.reject(py(this));const n=e?gl(e):null;return n&&An(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&An(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Sc(this.app)?Promise.reject(py(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Sc(this.app)?Promise.reject(py(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hd(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await _gt(this),n=new xgt(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new mE("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await mgt(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&hd(e)||this._popupRedirectResolver;An(n,this,"argument-error"),this.redirectPersistenceManager=await e_.create(this,[hd(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(An(l,this,"internal-error"),l.then(()=>{o||a(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,s);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return An(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=iq(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(Sc(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Qmt(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function pR(i){return gl(i)}class BF{constructor(e){this.auth=e,this.observer=null,this.addObserver=Fpt(n=>this.observer=n)}get next(){return An(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let AU={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Egt(i){AU=i}function Tgt(i){return AU.loadJS(i)}function wgt(){return AU.gapiScript}function Agt(i){return`__${i}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mgt(i,e){const n=vU(i,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(Ny(a,e??{}))return s;ih(s,"already-initialized")}return n.initialize({options:e})}function Cgt(i,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(hd);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Rgt(i,e,n){const r=pR(i);An(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=rq(e),{host:o,port:l}=Ogt(e),u=l===null?"":`:${l}`,f={url:`${a}//${o}${u}/`},h=Object.freeze({host:o,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){An(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),An(Ny(f,r.config.emulator)&&Ny(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Igt()}function rq(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function Ogt(i){const e=rq(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:FF(r.substr(a.length+1))}}else{const[a,o]=r.split(":");return{host:a,port:FF(o)}}}function FF(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function Igt(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sq{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return fd("not implemented")}_getIdTokenResponse(e){return fd("not implemented")}_linkToIdToken(e,n){return fd("not implemented")}_getReauthenticationResolver(e){return fd("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n_(i,e){return agt(i,"POST","/v1/accounts:signInWithIdp",EU(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pgt="http://localhost";class Uy extends sq{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Uy(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ih("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,a=_U(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Uy(r,s);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return n_(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,n_(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,n_(e,n)}buildRequest(){const e={requestUri:Pgt,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=gE(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MU{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE extends MU{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp extends vE{constructor(){super("facebook.com")}static credential(e){return Uy._fromParams({providerId:qp.PROVIDER_ID,signInMethod:qp.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qp.credentialFromTaggedObject(e)}static credentialFromError(e){return qp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qp.credential(e.oauthAccessToken)}catch{return null}}}qp.FACEBOOK_SIGN_IN_METHOD="facebook.com";qp.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld extends vE{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Uy._fromParams({providerId:ld.PROVIDER_ID,signInMethod:ld.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ld.credentialFromTaggedObject(e)}static credentialFromError(e){return ld.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ld.credential(n,r)}catch{return null}}}ld.GOOGLE_SIGN_IN_METHOD="google.com";ld.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p extends vE{constructor(){super("github.com")}static credential(e){return Uy._fromParams({providerId:$p.PROVIDER_ID,signInMethod:$p.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $p.credentialFromTaggedObject(e)}static credentialFromError(e){return $p.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $p.credential(e.oauthAccessToken)}catch{return null}}}$p.GITHUB_SIGN_IN_METHOD="github.com";$p.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp extends vE{constructor(){super("twitter.com")}static credential(e,n){return Uy._fromParams({providerId:Wp.PROVIDER_ID,signInMethod:Wp.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Wp.credentialFromTaggedObject(e)}static credentialFromError(e){return Wp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Wp.credential(n,r)}catch{return null}}}Wp.TWITTER_SIGN_IN_METHOD="twitter.com";Wp.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const a=await Mc._fromIdTokenResponse(e,r,s),o=VF(r);return new A_({user:a,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=VF(r);return new A_({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function VF(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC extends Ld{constructor(e,n,r,s){var a;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,SC.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new SC(e,n,r,s)}}function aq(i,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?SC._fromErrorAndOperation(i,a,e,r):a})}async function Dgt(i,e,n=!1){const r=await wS(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return A_._forOperation(i,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ngt(i,e,n=!1){const{auth:r}=i;if(Sc(r.app))return Promise.reject(py(r));const s="reauthenticate";try{const a=await wS(i,aq(r,s,e,i),n);An(a.idToken,r,"internal-error");const o=TU(a.idToken);An(o,r,"internal-error");const{sub:l}=o;return An(i.uid===l,r,"user-mismatch"),A_._forOperation(i,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&ih(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lgt(i,e,n=!1){if(Sc(i.app))return Promise.reject(py(i));const r="signIn",s=await aq(i,r,e),a=await A_._fromIdTokenResponse(i,r,s);return n||await i._updateCurrentUser(a.user),a}function Ugt(i,e,n,r){return gl(i).onIdTokenChanged(e,n,r)}function kgt(i,e,n){return gl(i).beforeAuthStateChanged(e,n)}function zgt(i,e,n,r){return gl(i).onAuthStateChanged(e,n,r)}function Bgt(i){return gl(i).signOut()}const EC="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oq{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(EC,"1"),this.storage.removeItem(EC),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fgt=1e3,Vgt=10;class lq extends oq{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nq(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,u)=>{this.notifyListeners(o,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},a=this.storage.getItem(r);ygt()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Vgt):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Fgt)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}lq.type="LOCAL";const Hgt=lq;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uq extends oq{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}uq.type="SESSION";const cq=uq;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jgt(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new mR(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:a}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(o).map(async f=>f(n.origin,a)),u=await jgt(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mR.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CU(i="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ggt{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,o;return new Promise((l,u)=>{const f=CU("",20);s.port1.start();const h=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(p){const y=p;if(y.data.eventId===f)switch(y.data.status){case"ack":clearTimeout(h),a=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(y.data.response);break;default:clearTimeout(h),clearTimeout(a),u(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yf(){return window}function qgt(i){Yf().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fq(){return typeof Yf().WorkerGlobalScope<"u"&&typeof Yf().importScripts=="function"}async function $gt(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Wgt(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function Xgt(){return fq()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hq="firebaseLocalStorageDb",Ygt=1,TC="firebaseLocalStorage",dq="fbase_key";class _E{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function gR(i,e){return i.transaction([TC],e?"readwrite":"readonly").objectStore(TC)}function Kgt(){const i=indexedDB.deleteDatabase(hq);return new _E(i).toPromise()}function _3(){const i=indexedDB.open(hq,Ygt);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const r=i.result;try{r.createObjectStore(TC,{keyPath:dq})}catch(s){n(s)}}),i.addEventListener("success",async()=>{const r=i.result;r.objectStoreNames.contains(TC)?e(r):(r.close(),await Kgt(),e(await _3()))})})}async function HF(i,e,n){const r=gR(i,!0).put({[dq]:e,value:n});return new _E(r).toPromise()}async function Zgt(i,e){const n=gR(i,!1).get(e),r=await new _E(n).toPromise();return r===void 0?null:r.value}function jF(i,e){const n=gR(i,!0).delete(e);return new _E(n).toPromise()}const Qgt=800,Jgt=3;class pq{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _3(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Jgt)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return fq()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mR._getInstance(Xgt()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await $gt(),!this.activeServiceWorker)return;this.sender=new Ggt(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Wgt()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _3();return await HF(e,EC,"1"),await jF(e,EC),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>HF(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Zgt(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>jF(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=gR(s,!1).getAll();return new _E(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Qgt)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}pq.type="LOCAL";const tyt=pq;new yE(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mq(i,e){return e?hd(e):(An(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RU extends sq{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return n_(e,this._buildIdpRequest())}_linkToIdToken(e,n){return n_(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return n_(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function eyt(i){return Lgt(i.auth,new RU(i),i.bypassAuthState)}function nyt(i){const{auth:e,user:n}=i;return An(n,e,"internal-error"),Ngt(n,new RU(i),i.bypassAuthState)}async function iyt(i){const{auth:e,user:n}=i;return An(n,e,"internal-error"),Dgt(n,new RU(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gq{constructor(e,n,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:a,error:o,type:l}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return eyt;case"linkViaPopup":case"linkViaRedirect":return iyt;case"reauthViaPopup":case"reauthViaRedirect":return nyt;default:ih(this.auth,"internal-error")}}resolve(e){Rd(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Rd(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ryt=new yE(2e3,1e4);async function syt(i,e,n){if(Sc(i.app))return Promise.reject(Oc(i,"operation-not-supported-in-this-environment"));const r=pR(i);Jmt(i,e,MU);const s=mq(r,n);return new ey(r,"signInViaPopup",e,s).executeNotNull()}class ey extends gq{constructor(e,n,r,s,a){super(e,n,s,a),this.provider=r,this.authWindow=null,this.pollId=null,ey.currentPopupAction&&ey.currentPopupAction.cancel(),ey.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return An(e,this.auth,"internal-error"),e}async onExecution(){Rd(this.filter.length===1,"Popup operations only handle one event");const e=CU();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Oc(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Oc(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ey.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Oc(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ryt.get())};e()}}ey.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ayt="pendingRedirect",XA=new Map;class oyt extends gq{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=XA.get(this.auth._key());if(!e){try{const r=await lyt(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}XA.set(this.auth._key(),e)}return this.bypassAuthState||XA.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function lyt(i,e){const n=fyt(e),r=cyt(i);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function uyt(i,e){XA.set(i._key(),e)}function cyt(i){return hd(i._redirectPersistence)}function fyt(i){return WA(ayt,i.config.apiKey,i.name)}async function hyt(i,e,n=!1){if(Sc(i.app))return Promise.reject(py(i));const r=pR(i),s=mq(r,e),o=await new oyt(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dyt=10*60*1e3;class pyt{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!myt(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!yq(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Oc(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=dyt&&this.cachedEventUids.clear(),this.cachedEventUids.has(GF(e))}saveEventToCache(e){this.cachedEventUids.add(GF(e)),this.lastProcessedEventTime=Date.now()}}function GF(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function yq({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function myt(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yq(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gyt(i,e={}){return rb(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yyt=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vyt=/^https?/;async function _yt(i){if(i.config.emulator)return;const{authorizedDomains:e}=await gyt(i);for(const n of e)try{if(byt(n))return}catch{}ih(i,"unauthorized-domain")}function byt(i){const e=y3(),{protocol:n,hostname:r}=new URL(e);if(i.startsWith("chrome-extension://")){const o=new URL(i);return o.hostname===""&&r===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!vyt.test(n))return!1;if(yyt.test(i))return r===i;const s=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xyt=new yE(3e4,6e4);function qF(){const i=Yf().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function Syt(i){return new Promise((e,n)=>{var r,s,a;function o(){qF(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{qF(),n(Oc(i,"network-request-failed"))},timeout:xyt.get()})}if(!((s=(r=Yf().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=Yf().gapi)===null||a===void 0)&&a.load)o();else{const l=Agt("iframefcb");return Yf()[l]=()=>{gapi.load?o():n(Oc(i,"network-request-failed"))},Tgt(`${wgt()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw YA=null,e})}let YA=null;function Eyt(i){return YA=YA||Syt(i),YA}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tyt=new yE(5e3,15e3),wyt="__/auth/iframe",Ayt="emulator/auth/iframe",Myt={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Cyt=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ryt(i){const e=i.config;An(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?SU(e,Ayt):`https://${i.config.authDomain}/${wyt}`,r={apiKey:e.apiKey,appName:i.name,v:ib},s=Cyt.get(i.config.apiHost);s&&(r.eid=s);const a=i._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${gE(r).slice(1)}`}async function Oyt(i){const e=await Eyt(i),n=Yf().gapi;return An(n,i,"internal-error"),e.open({where:document.body,url:Ryt(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Myt,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const o=Oc(i,"network-request-failed"),l=Yf().setTimeout(()=>{a(o)},Tyt.get());function u(){Yf().clearTimeout(l),s(r)}r.ping(u).then(u,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iyt={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Pyt=500,Dyt=600,Nyt="_blank",Lyt="http://localhost";class $F{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Uyt(i,e,n,r=Pyt,s=Dyt){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const u=Object.assign(Object.assign({},Iyt),{width:r.toString(),height:s.toString(),top:a,left:o}),f=Ka().toLowerCase();n&&(l=ZG(f)?Nyt:n),YG(f)&&(e=e||Lyt,u.scrollbars="yes");const h=Object.entries(u).reduce((y,[_,x])=>`${y}${_}=${x},`,"");if(ggt(f)&&l!=="_self")return kyt(e||"",l),new $F(null);const p=window.open(e||"",l,h);An(p,i,"popup-blocked");try{p.focus()}catch{}return new $F(p)}function kyt(i,e){const n=document.createElement("a");n.href=i,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zyt="__/auth/handler",Byt="emulator/auth/handler",Fyt=encodeURIComponent("fac");async function WF(i,e,n,r,s,a){An(i.config.authDomain,i,"auth-domain-config-required"),An(i.config.apiKey,i,"invalid-api-key");const o={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:r,v:ib,eventId:s};if(e instanceof MU){e.setDefaultLanguage(i.languageCode),o.providerId=e.providerId||"",Bpt(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,p]of Object.entries({}))o[h]=p}if(e instanceof vE){const h=e.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}i.tenantId&&(o.tid=i.tenantId);const l=o;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const u=await i._getAppCheckToken(),f=u?`#${Fyt}=${encodeURIComponent(u)}`:"";return`${Vyt(i)}?${gE(l).slice(1)}${f}`}function Vyt({config:i}){return i.emulator?SU(i,Byt):`https://${i.authDomain}/${zyt}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP="webStorageSupport";class Hyt{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cq,this._completeRedirectFn=hyt,this._overrideRedirectResult=uyt}async _openPopup(e,n,r,s){var a;Rd((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await WF(e,n,r,y3(),s);return Uyt(e,o,CU())}async _openRedirect(e,n,r,s){await this._originValidation(e);const a=await WF(e,n,r,y3(),s);return qgt(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(Rd(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Oyt(e),r=new pyt(e);return n.register("authEvent",s=>(An(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(wP,{type:wP},s=>{var a;const o=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[wP];o!==void 0&&n(!!o),ih(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_yt(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return nq()||KG()||wU()}}const jyt=Hyt;var XF="@firebase/auth",YF="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gyt{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){An(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qyt(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $yt(i){w_(new Ly("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;An(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:l,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iq(i)},f=new Sgt(r,s,a,u);return Cgt(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),w_(new Ly("auth-internal",e=>{const n=pR(e.getProvider("auth").getImmediate());return(r=>new Gyt(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),rm(XF,YF,qyt(i)),rm(XF,YF,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wyt=5*60,Xyt=LG("authIdTokenMaxAge")||Wyt;let KF=null;const Yyt=i=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Xyt)return;const s=n==null?void 0:n.token;KF!==s&&(KF=s,await fetch(i,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Kyt(i=BG()){const e=vU(i,"auth");if(e.isInitialized())return e.getImmediate();const n=Mgt(i,{popupRedirectResolver:jyt,persistence:[tyt,Hgt,cq]}),r=LG("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const o=Yyt(a.toString());kgt(n,o,()=>o(n.currentUser)),Ugt(n,l=>o(l))}}const s=DG("auth");return s&&Rgt(n,`http://${s}`),n}function Zyt(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}Egt({loadJS(i){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",i),r.onload=e,r.onerror=s=>{const a=Oc("internal-error");a.customData=s,n(a)},r.type="text/javascript",r.charset="UTF-8",Zyt().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$yt("Browser");var Qyt="firebase",Jyt="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rm(Qyt,Jyt,"app");var ZF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sm,vq;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,L){function U(){}U.prototype=L.prototype,N.D=L.prototype,N.prototype=new U,N.prototype.constructor=N,N.C=function(O,B,H){for(var V=Array(arguments.length-2),X=2;X<arguments.length;X++)V[X-2]=arguments[X];return L.prototype[B].apply(O,V)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(N,L,U){U||(U=0);var O=Array(16);if(typeof L=="string")for(var B=0;16>B;++B)O[B]=L.charCodeAt(U++)|L.charCodeAt(U++)<<8|L.charCodeAt(U++)<<16|L.charCodeAt(U++)<<24;else for(B=0;16>B;++B)O[B]=L[U++]|L[U++]<<8|L[U++]<<16|L[U++]<<24;L=N.g[0],U=N.g[1],B=N.g[2];var H=N.g[3],V=L+(H^U&(B^H))+O[0]+3614090360&4294967295;L=U+(V<<7&4294967295|V>>>25),V=H+(B^L&(U^B))+O[1]+3905402710&4294967295,H=L+(V<<12&4294967295|V>>>20),V=B+(U^H&(L^U))+O[2]+606105819&4294967295,B=H+(V<<17&4294967295|V>>>15),V=U+(L^B&(H^L))+O[3]+3250441966&4294967295,U=B+(V<<22&4294967295|V>>>10),V=L+(H^U&(B^H))+O[4]+4118548399&4294967295,L=U+(V<<7&4294967295|V>>>25),V=H+(B^L&(U^B))+O[5]+1200080426&4294967295,H=L+(V<<12&4294967295|V>>>20),V=B+(U^H&(L^U))+O[6]+2821735955&4294967295,B=H+(V<<17&4294967295|V>>>15),V=U+(L^B&(H^L))+O[7]+4249261313&4294967295,U=B+(V<<22&4294967295|V>>>10),V=L+(H^U&(B^H))+O[8]+1770035416&4294967295,L=U+(V<<7&4294967295|V>>>25),V=H+(B^L&(U^B))+O[9]+2336552879&4294967295,H=L+(V<<12&4294967295|V>>>20),V=B+(U^H&(L^U))+O[10]+4294925233&4294967295,B=H+(V<<17&4294967295|V>>>15),V=U+(L^B&(H^L))+O[11]+2304563134&4294967295,U=B+(V<<22&4294967295|V>>>10),V=L+(H^U&(B^H))+O[12]+1804603682&4294967295,L=U+(V<<7&4294967295|V>>>25),V=H+(B^L&(U^B))+O[13]+4254626195&4294967295,H=L+(V<<12&4294967295|V>>>20),V=B+(U^H&(L^U))+O[14]+2792965006&4294967295,B=H+(V<<17&4294967295|V>>>15),V=U+(L^B&(H^L))+O[15]+1236535329&4294967295,U=B+(V<<22&4294967295|V>>>10),V=L+(B^H&(U^B))+O[1]+4129170786&4294967295,L=U+(V<<5&4294967295|V>>>27),V=H+(U^B&(L^U))+O[6]+3225465664&4294967295,H=L+(V<<9&4294967295|V>>>23),V=B+(L^U&(H^L))+O[11]+643717713&4294967295,B=H+(V<<14&4294967295|V>>>18),V=U+(H^L&(B^H))+O[0]+3921069994&4294967295,U=B+(V<<20&4294967295|V>>>12),V=L+(B^H&(U^B))+O[5]+3593408605&4294967295,L=U+(V<<5&4294967295|V>>>27),V=H+(U^B&(L^U))+O[10]+38016083&4294967295,H=L+(V<<9&4294967295|V>>>23),V=B+(L^U&(H^L))+O[15]+3634488961&4294967295,B=H+(V<<14&4294967295|V>>>18),V=U+(H^L&(B^H))+O[4]+3889429448&4294967295,U=B+(V<<20&4294967295|V>>>12),V=L+(B^H&(U^B))+O[9]+568446438&4294967295,L=U+(V<<5&4294967295|V>>>27),V=H+(U^B&(L^U))+O[14]+3275163606&4294967295,H=L+(V<<9&4294967295|V>>>23),V=B+(L^U&(H^L))+O[3]+4107603335&4294967295,B=H+(V<<14&4294967295|V>>>18),V=U+(H^L&(B^H))+O[8]+1163531501&4294967295,U=B+(V<<20&4294967295|V>>>12),V=L+(B^H&(U^B))+O[13]+2850285829&4294967295,L=U+(V<<5&4294967295|V>>>27),V=H+(U^B&(L^U))+O[2]+4243563512&4294967295,H=L+(V<<9&4294967295|V>>>23),V=B+(L^U&(H^L))+O[7]+1735328473&4294967295,B=H+(V<<14&4294967295|V>>>18),V=U+(H^L&(B^H))+O[12]+2368359562&4294967295,U=B+(V<<20&4294967295|V>>>12),V=L+(U^B^H)+O[5]+4294588738&4294967295,L=U+(V<<4&4294967295|V>>>28),V=H+(L^U^B)+O[8]+2272392833&4294967295,H=L+(V<<11&4294967295|V>>>21),V=B+(H^L^U)+O[11]+1839030562&4294967295,B=H+(V<<16&4294967295|V>>>16),V=U+(B^H^L)+O[14]+4259657740&4294967295,U=B+(V<<23&4294967295|V>>>9),V=L+(U^B^H)+O[1]+2763975236&4294967295,L=U+(V<<4&4294967295|V>>>28),V=H+(L^U^B)+O[4]+1272893353&4294967295,H=L+(V<<11&4294967295|V>>>21),V=B+(H^L^U)+O[7]+4139469664&4294967295,B=H+(V<<16&4294967295|V>>>16),V=U+(B^H^L)+O[10]+3200236656&4294967295,U=B+(V<<23&4294967295|V>>>9),V=L+(U^B^H)+O[13]+681279174&4294967295,L=U+(V<<4&4294967295|V>>>28),V=H+(L^U^B)+O[0]+3936430074&4294967295,H=L+(V<<11&4294967295|V>>>21),V=B+(H^L^U)+O[3]+3572445317&4294967295,B=H+(V<<16&4294967295|V>>>16),V=U+(B^H^L)+O[6]+76029189&4294967295,U=B+(V<<23&4294967295|V>>>9),V=L+(U^B^H)+O[9]+3654602809&4294967295,L=U+(V<<4&4294967295|V>>>28),V=H+(L^U^B)+O[12]+3873151461&4294967295,H=L+(V<<11&4294967295|V>>>21),V=B+(H^L^U)+O[15]+530742520&4294967295,B=H+(V<<16&4294967295|V>>>16),V=U+(B^H^L)+O[2]+3299628645&4294967295,U=B+(V<<23&4294967295|V>>>9),V=L+(B^(U|~H))+O[0]+4096336452&4294967295,L=U+(V<<6&4294967295|V>>>26),V=H+(U^(L|~B))+O[7]+1126891415&4294967295,H=L+(V<<10&4294967295|V>>>22),V=B+(L^(H|~U))+O[14]+2878612391&4294967295,B=H+(V<<15&4294967295|V>>>17),V=U+(H^(B|~L))+O[5]+4237533241&4294967295,U=B+(V<<21&4294967295|V>>>11),V=L+(B^(U|~H))+O[12]+1700485571&4294967295,L=U+(V<<6&4294967295|V>>>26),V=H+(U^(L|~B))+O[3]+2399980690&4294967295,H=L+(V<<10&4294967295|V>>>22),V=B+(L^(H|~U))+O[10]+4293915773&4294967295,B=H+(V<<15&4294967295|V>>>17),V=U+(H^(B|~L))+O[1]+2240044497&4294967295,U=B+(V<<21&4294967295|V>>>11),V=L+(B^(U|~H))+O[8]+1873313359&4294967295,L=U+(V<<6&4294967295|V>>>26),V=H+(U^(L|~B))+O[15]+4264355552&4294967295,H=L+(V<<10&4294967295|V>>>22),V=B+(L^(H|~U))+O[6]+2734768916&4294967295,B=H+(V<<15&4294967295|V>>>17),V=U+(H^(B|~L))+O[13]+1309151649&4294967295,U=B+(V<<21&4294967295|V>>>11),V=L+(B^(U|~H))+O[4]+4149444226&4294967295,L=U+(V<<6&4294967295|V>>>26),V=H+(U^(L|~B))+O[11]+3174756917&4294967295,H=L+(V<<10&4294967295|V>>>22),V=B+(L^(H|~U))+O[2]+718787259&4294967295,B=H+(V<<15&4294967295|V>>>17),V=U+(H^(B|~L))+O[9]+3951481745&4294967295,N.g[0]=N.g[0]+L&4294967295,N.g[1]=N.g[1]+(B+(V<<21&4294967295|V>>>11))&4294967295,N.g[2]=N.g[2]+B&4294967295,N.g[3]=N.g[3]+H&4294967295}r.prototype.u=function(N,L){L===void 0&&(L=N.length);for(var U=L-this.blockSize,O=this.B,B=this.h,H=0;H<L;){if(B==0)for(;H<=U;)s(this,N,H),H+=this.blockSize;if(typeof N=="string"){for(;H<L;)if(O[B++]=N.charCodeAt(H++),B==this.blockSize){s(this,O),B=0;break}}else for(;H<L;)if(O[B++]=N[H++],B==this.blockSize){s(this,O),B=0;break}}this.h=B,this.o+=L},r.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var L=1;L<N.length-8;++L)N[L]=0;var U=8*this.o;for(L=N.length-8;L<N.length;++L)N[L]=U&255,U/=256;for(this.u(N),N=Array(16),L=U=0;4>L;++L)for(var O=0;32>O;O+=8)N[U++]=this.g[L]>>>O&255;return N};function a(N,L){var U=l;return Object.prototype.hasOwnProperty.call(U,N)?U[N]:U[N]=L(N)}function o(N,L){this.h=L;for(var U=[],O=!0,B=N.length-1;0<=B;B--){var H=N[B]|0;O&&H==L||(U[B]=H,O=!1)}this.g=U}var l={};function u(N){return-128<=N&&128>N?a(N,function(L){return new o([L|0],0>L?-1:0)}):new o([N|0],0>N?-1:0)}function f(N){if(isNaN(N)||!isFinite(N))return p;if(0>N)return E(f(-N));for(var L=[],U=1,O=0;N>=U;O++)L[O]=N/U|0,U*=4294967296;return new o(L,0)}function h(N,L){if(N.length==0)throw Error("number format error: empty string");if(L=L||10,2>L||36<L)throw Error("radix out of range: "+L);if(N.charAt(0)=="-")return E(h(N.substring(1),L));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var U=f(Math.pow(L,8)),O=p,B=0;B<N.length;B+=8){var H=Math.min(8,N.length-B),V=parseInt(N.substring(B,B+H),L);8>H?(H=f(Math.pow(L,H)),O=O.j(H).add(f(V))):(O=O.j(U),O=O.add(f(V)))}return O}var p=u(0),y=u(1),_=u(16777216);i=o.prototype,i.m=function(){if(S(this))return-E(this).m();for(var N=0,L=1,U=0;U<this.g.length;U++){var O=this.i(U);N+=(0<=O?O:4294967296+O)*L,L*=4294967296}return N},i.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(x(this))return"0";if(S(this))return"-"+E(this).toString(N);for(var L=f(Math.pow(N,6)),U=this,O="";;){var B=M(U,L).g;U=b(U,B.j(L));var H=((0<U.g.length?U.g[0]:U.h)>>>0).toString(N);if(U=B,x(U))return H+O;for(;6>H.length;)H="0"+H;O=H+O}},i.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function x(N){if(N.h!=0)return!1;for(var L=0;L<N.g.length;L++)if(N.g[L]!=0)return!1;return!0}function S(N){return N.h==-1}i.l=function(N){return N=b(this,N),S(N)?-1:x(N)?0:1};function E(N){for(var L=N.g.length,U=[],O=0;O<L;O++)U[O]=~N.g[O];return new o(U,~N.h).add(y)}i.abs=function(){return S(this)?E(this):this},i.add=function(N){for(var L=Math.max(this.g.length,N.g.length),U=[],O=0,B=0;B<=L;B++){var H=O+(this.i(B)&65535)+(N.i(B)&65535),V=(H>>>16)+(this.i(B)>>>16)+(N.i(B)>>>16);O=V>>>16,H&=65535,V&=65535,U[B]=V<<16|H}return new o(U,U[U.length-1]&-2147483648?-1:0)};function b(N,L){return N.add(E(L))}i.j=function(N){if(x(this)||x(N))return p;if(S(this))return S(N)?E(this).j(E(N)):E(E(this).j(N));if(S(N))return E(this.j(E(N)));if(0>this.l(_)&&0>N.l(_))return f(this.m()*N.m());for(var L=this.g.length+N.g.length,U=[],O=0;O<2*L;O++)U[O]=0;for(O=0;O<this.g.length;O++)for(var B=0;B<N.g.length;B++){var H=this.i(O)>>>16,V=this.i(O)&65535,X=N.i(B)>>>16,et=N.i(B)&65535;U[2*O+2*B]+=V*et,A(U,2*O+2*B),U[2*O+2*B+1]+=H*et,A(U,2*O+2*B+1),U[2*O+2*B+1]+=V*X,A(U,2*O+2*B+1),U[2*O+2*B+2]+=H*X,A(U,2*O+2*B+2)}for(O=0;O<L;O++)U[O]=U[2*O+1]<<16|U[2*O];for(O=L;O<2*L;O++)U[O]=0;return new o(U,0)};function A(N,L){for(;(N[L]&65535)!=N[L];)N[L+1]+=N[L]>>>16,N[L]&=65535,L++}function C(N,L){this.g=N,this.h=L}function M(N,L){if(x(L))throw Error("division by zero");if(x(N))return new C(p,p);if(S(N))return L=M(E(N),L),new C(E(L.g),E(L.h));if(S(L))return L=M(N,E(L)),new C(E(L.g),L.h);if(30<N.g.length){if(S(N)||S(L))throw Error("slowDivide_ only works with positive integers.");for(var U=y,O=L;0>=O.l(N);)U=I(U),O=I(O);var B=k(U,1),H=k(O,1);for(O=k(O,2),U=k(U,2);!x(O);){var V=H.add(O);0>=V.l(N)&&(B=B.add(U),H=V),O=k(O,1),U=k(U,1)}return L=b(N,B.j(L)),new C(B,L)}for(B=p;0<=N.l(L);){for(U=Math.max(1,Math.floor(N.m()/L.m())),O=Math.ceil(Math.log(U)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),H=f(U),V=H.j(L);S(V)||0<V.l(N);)U-=O,H=f(U),V=H.j(L);x(H)&&(H=y),B=B.add(H),N=b(N,V)}return new C(B,N)}i.A=function(N){return M(this,N).h},i.and=function(N){for(var L=Math.max(this.g.length,N.g.length),U=[],O=0;O<L;O++)U[O]=this.i(O)&N.i(O);return new o(U,this.h&N.h)},i.or=function(N){for(var L=Math.max(this.g.length,N.g.length),U=[],O=0;O<L;O++)U[O]=this.i(O)|N.i(O);return new o(U,this.h|N.h)},i.xor=function(N){for(var L=Math.max(this.g.length,N.g.length),U=[],O=0;O<L;O++)U[O]=this.i(O)^N.i(O);return new o(U,this.h^N.h)};function I(N){for(var L=N.g.length+1,U=[],O=0;O<L;O++)U[O]=N.i(O)<<1|N.i(O-1)>>>31;return new o(U,N.h)}function k(N,L){var U=L>>5;L%=32;for(var O=N.g.length-U,B=[],H=0;H<O;H++)B[H]=0<L?N.i(H+U)>>>L|N.i(H+U+1)<<32-L:N.i(H+U);return new o(B,N.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,vq=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=f,o.fromString=h,sm=o}).apply(typeof ZF<"u"?ZF:typeof self<"u"?self:typeof window<"u"?window:{});var Qw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _q,d1,bq,KA,b3,xq,Sq,Eq;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(R,G,Y){return R==Array.prototype||R==Object.prototype||(R[G]=Y.value),R};function n(R){R=[typeof globalThis=="object"&&globalThis,R,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qw=="object"&&Qw];for(var G=0;G<R.length;++G){var Y=R[G];if(Y&&Y.Math==Math)return Y}throw Error("Cannot find global object")}var r=n(this);function s(R,G){if(G)t:{var Y=r;R=R.split(".");for(var ct=0;ct<R.length-1;ct++){var Ot=R[ct];if(!(Ot in Y))break t;Y=Y[Ot]}R=R[R.length-1],ct=Y[R],G=G(ct),G!=ct&&G!=null&&e(Y,R,{configurable:!0,writable:!0,value:G})}}function a(R,G){R instanceof String&&(R+="");var Y=0,ct=!1,Ot={next:function(){if(!ct&&Y<R.length){var Yt=Y++;return{value:G(Yt,R[Yt]),done:!1}}return ct=!0,{done:!0,value:void 0}}};return Ot[Symbol.iterator]=function(){return Ot},Ot}s("Array.prototype.values",function(R){return R||function(){return a(this,function(G,Y){return Y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function u(R){var G=typeof R;return G=G!="object"?G:R?Array.isArray(R)?"array":G:"null",G=="array"||G=="object"&&typeof R.length=="number"}function f(R){var G=typeof R;return G=="object"&&R!=null||G=="function"}function h(R,G,Y){return R.call.apply(R.bind,arguments)}function p(R,G,Y){if(!R)throw Error();if(2<arguments.length){var ct=Array.prototype.slice.call(arguments,2);return function(){var Ot=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Ot,ct),R.apply(G,Ot)}}return function(){return R.apply(G,arguments)}}function y(R,G,Y){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,y.apply(null,arguments)}function _(R,G){var Y=Array.prototype.slice.call(arguments,1);return function(){var ct=Y.slice();return ct.push.apply(ct,arguments),R.apply(this,ct)}}function x(R,G){function Y(){}Y.prototype=G.prototype,R.aa=G.prototype,R.prototype=new Y,R.prototype.constructor=R,R.Qb=function(ct,Ot,Yt){for(var Ae=Array(arguments.length-2),ni=2;ni<arguments.length;ni++)Ae[ni-2]=arguments[ni];return G.prototype[Ot].apply(ct,Ae)}}function S(R){const G=R.length;if(0<G){const Y=Array(G);for(let ct=0;ct<G;ct++)Y[ct]=R[ct];return Y}return[]}function E(R,G){for(let Y=1;Y<arguments.length;Y++){const ct=arguments[Y];if(u(ct)){const Ot=R.length||0,Yt=ct.length||0;R.length=Ot+Yt;for(let Ae=0;Ae<Yt;Ae++)R[Ot+Ae]=ct[Ae]}else R.push(ct)}}class b{constructor(G,Y){this.i=G,this.j=Y,this.h=0,this.g=null}get(){let G;return 0<this.h?(this.h--,G=this.g,this.g=G.next,G.next=null):G=this.i(),G}}function A(R){return/^[\s\xa0]*$/.test(R)}function C(){var R=l.navigator;return R&&(R=R.userAgent)?R:""}function M(R){return M[" "](R),R}M[" "]=function(){};var I=C().indexOf("Gecko")!=-1&&!(C().toLowerCase().indexOf("webkit")!=-1&&C().indexOf("Edge")==-1)&&!(C().indexOf("Trident")!=-1||C().indexOf("MSIE")!=-1)&&C().indexOf("Edge")==-1;function k(R,G,Y){for(const ct in R)G.call(Y,R[ct],ct,R)}function N(R,G){for(const Y in R)G.call(void 0,R[Y],Y,R)}function L(R){const G={};for(const Y in R)G[Y]=R[Y];return G}const U="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(R,G){let Y,ct;for(let Ot=1;Ot<arguments.length;Ot++){ct=arguments[Ot];for(Y in ct)R[Y]=ct[Y];for(let Yt=0;Yt<U.length;Yt++)Y=U[Yt],Object.prototype.hasOwnProperty.call(ct,Y)&&(R[Y]=ct[Y])}}function B(R){var G=1;R=R.split(":");const Y=[];for(;0<G&&R.length;)Y.push(R.shift()),G--;return R.length&&Y.push(R.join(":")),Y}function H(R){l.setTimeout(()=>{throw R},0)}function V(){var R=nt;let G=null;return R.g&&(G=R.g,R.g=R.g.next,R.g||(R.h=null),G.next=null),G}class X{constructor(){this.h=this.g=null}add(G,Y){const ct=et.get();ct.set(G,Y),this.h?this.h.next=ct:this.g=ct,this.h=ct}}var et=new b(()=>new q,R=>R.reset());class q{constructor(){this.next=this.g=this.h=null}set(G,Y){this.h=G,this.g=Y,this.next=null}reset(){this.next=this.g=this.h=null}}let W,Z=!1,nt=new X,Q=()=>{const R=l.Promise.resolve(void 0);W=()=>{R.then(ht)}};var ht=()=>{for(var R;R=V();){try{R.h.call(R.g)}catch(Y){H(Y)}var G=et;G.j(R),100>G.h&&(G.h++,R.next=G.g,G.g=R)}Z=!1};function yt(){this.s=this.s,this.C=this.C}yt.prototype.s=!1,yt.prototype.ma=function(){this.s||(this.s=!0,this.N())},yt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function xt(R,G){this.type=R,this.g=this.target=G,this.defaultPrevented=!1}xt.prototype.h=function(){this.defaultPrevented=!0};var it=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var R=!1,G=Object.defineProperty({},"passive",{get:function(){R=!0}});try{const Y=()=>{};l.addEventListener("test",Y,G),l.removeEventListener("test",Y,G)}catch{}return R}();function dt(R,G){if(xt.call(this,R?R.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,R){var Y=this.type=R.type,ct=R.changedTouches&&R.changedTouches.length?R.changedTouches[0]:null;if(this.target=R.target||R.srcElement,this.g=G,G=R.relatedTarget){if(I){t:{try{M(G.nodeName);var Ot=!0;break t}catch{}Ot=!1}Ot||(G=null)}}else Y=="mouseover"?G=R.fromElement:Y=="mouseout"&&(G=R.toElement);this.relatedTarget=G,ct?(this.clientX=ct.clientX!==void 0?ct.clientX:ct.pageX,this.clientY=ct.clientY!==void 0?ct.clientY:ct.pageY,this.screenX=ct.screenX||0,this.screenY=ct.screenY||0):(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0),this.button=R.button,this.key=R.key||"",this.ctrlKey=R.ctrlKey,this.altKey=R.altKey,this.shiftKey=R.shiftKey,this.metaKey=R.metaKey,this.pointerId=R.pointerId||0,this.pointerType=typeof R.pointerType=="string"?R.pointerType:ft[R.pointerType]||"",this.state=R.state,this.i=R,R.defaultPrevented&&dt.aa.h.call(this)}}x(dt,xt);var ft={2:"touch",3:"pen",4:"mouse"};dt.prototype.h=function(){dt.aa.h.call(this);var R=this.i;R.preventDefault?R.preventDefault():R.returnValue=!1};var gt="closure_listenable_"+(1e6*Math.random()|0),wt=0;function Kt(R,G,Y,ct,Ot){this.listener=R,this.proxy=null,this.src=G,this.type=Y,this.capture=!!ct,this.ha=Ot,this.key=++wt,this.da=this.fa=!1}function kt(R){R.da=!0,R.listener=null,R.proxy=null,R.src=null,R.ha=null}function ee(R){this.src=R,this.g={},this.h=0}ee.prototype.add=function(R,G,Y,ct,Ot){var Yt=R.toString();R=this.g[Yt],R||(R=this.g[Yt]=[],this.h++);var Ae=Vt(R,G,ct,Ot);return-1<Ae?(G=R[Ae],Y||(G.fa=!1)):(G=new Kt(G,this.src,Yt,!!ct,Ot),G.fa=Y,R.push(G)),G};function Pt(R,G){var Y=G.type;if(Y in R.g){var ct=R.g[Y],Ot=Array.prototype.indexOf.call(ct,G,void 0),Yt;(Yt=0<=Ot)&&Array.prototype.splice.call(ct,Ot,1),Yt&&(kt(G),R.g[Y].length==0&&(delete R.g[Y],R.h--))}}function Vt(R,G,Y,ct){for(var Ot=0;Ot<R.length;++Ot){var Yt=R[Ot];if(!Yt.da&&Yt.listener==G&&Yt.capture==!!Y&&Yt.ha==ct)return Ot}return-1}var at="closure_lm_"+(1e6*Math.random()|0),ce={};function te(R,G,Y,ct,Ot){if(Array.isArray(G)){for(var Yt=0;Yt<G.length;Yt++)te(R,G[Yt],Y,ct,Ot);return null}return Y=Rt(Y),R&&R[gt]?R.K(G,Y,f(ct)?!!ct.capture:!1,Ot):ne(R,G,Y,!1,ct,Ot)}function ne(R,G,Y,ct,Ot,Yt){if(!G)throw Error("Invalid event type");var Ae=f(Ot)?!!Ot.capture:!!Ot,ni=ut(R);if(ni||(R[at]=ni=new ee(R)),Y=ni.add(G,Y,ct,Ae,Yt),Y.proxy)return Y;if(ct=ie(),Y.proxy=ct,ct.src=R,ct.listener=Y,R.addEventListener)it||(Ot=Ae),Ot===void 0&&(Ot=!1),R.addEventListener(G.toString(),ct,Ot);else if(R.attachEvent)R.attachEvent(lt(G.toString()),ct);else if(R.addListener&&R.removeListener)R.addListener(ct);else throw Error("addEventListener and attachEvent are unavailable.");return Y}function ie(){function R(Y){return G.call(R.src,R.listener,Y)}const G=j;return R}function Me(R,G,Y,ct,Ot){if(Array.isArray(G))for(var Yt=0;Yt<G.length;Yt++)Me(R,G[Yt],Y,ct,Ot);else ct=f(ct)?!!ct.capture:!!ct,Y=Rt(Y),R&&R[gt]?(R=R.i,G=String(G).toString(),G in R.g&&(Yt=R.g[G],Y=Vt(Yt,Y,ct,Ot),-1<Y&&(kt(Yt[Y]),Array.prototype.splice.call(Yt,Y,1),Yt.length==0&&(delete R.g[G],R.h--)))):R&&(R=ut(R))&&(G=R.g[G.toString()],R=-1,G&&(R=Vt(G,Y,ct,Ot)),(Y=-1<R?G[R]:null)&&le(Y))}function le(R){if(typeof R!="number"&&R&&!R.da){var G=R.src;if(G&&G[gt])Pt(G.i,R);else{var Y=R.type,ct=R.proxy;G.removeEventListener?G.removeEventListener(Y,ct,R.capture):G.detachEvent?G.detachEvent(lt(Y),ct):G.addListener&&G.removeListener&&G.removeListener(ct),(Y=ut(G))?(Pt(Y,R),Y.h==0&&(Y.src=null,G[at]=null)):kt(R)}}}function lt(R){return R in ce?ce[R]:ce[R]="on"+R}function j(R,G){if(R.da)R=!0;else{G=new dt(G,this);var Y=R.listener,ct=R.ha||R.src;R.fa&&le(R),R=Y.call(ct,G)}return R}function ut(R){return R=R[at],R instanceof ee?R:null}var mt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Rt(R){return typeof R=="function"?R:(R[mt]||(R[mt]=function(G){return R.handleEvent(G)}),R[mt])}function _t(){yt.call(this),this.i=new ee(this),this.M=this,this.F=null}x(_t,yt),_t.prototype[gt]=!0,_t.prototype.removeEventListener=function(R,G,Y,ct){Me(this,R,G,Y,ct)};function Ct(R,G){var Y,ct=R.F;if(ct)for(Y=[];ct;ct=ct.F)Y.push(ct);if(R=R.M,ct=G.type||G,typeof G=="string")G=new xt(G,R);else if(G instanceof xt)G.target=G.target||R;else{var Ot=G;G=new xt(ct,R),O(G,Ot)}if(Ot=!0,Y)for(var Yt=Y.length-1;0<=Yt;Yt--){var Ae=G.g=Y[Yt];Ot=Lt(Ae,ct,!0,G)&&Ot}if(Ae=G.g=R,Ot=Lt(Ae,ct,!0,G)&&Ot,Ot=Lt(Ae,ct,!1,G)&&Ot,Y)for(Yt=0;Yt<Y.length;Yt++)Ae=G.g=Y[Yt],Ot=Lt(Ae,ct,!1,G)&&Ot}_t.prototype.N=function(){if(_t.aa.N.call(this),this.i){var R=this.i,G;for(G in R.g){for(var Y=R.g[G],ct=0;ct<Y.length;ct++)kt(Y[ct]);delete R.g[G],R.h--}}this.F=null},_t.prototype.K=function(R,G,Y,ct){return this.i.add(String(R),G,!1,Y,ct)},_t.prototype.L=function(R,G,Y,ct){return this.i.add(String(R),G,!0,Y,ct)};function Lt(R,G,Y,ct){if(G=R.i.g[String(G)],!G)return!0;G=G.concat();for(var Ot=!0,Yt=0;Yt<G.length;++Yt){var Ae=G[Yt];if(Ae&&!Ae.da&&Ae.capture==Y){var ni=Ae.listener,dr=Ae.ha||Ae.src;Ae.fa&&Pt(R.i,Ae),Ot=ni.call(dr,ct)!==!1&&Ot}}return Ot&&!ct.defaultPrevented}function Qt(R,G,Y){if(typeof R=="function")Y&&(R=y(R,Y));else if(R&&typeof R.handleEvent=="function")R=y(R.handleEvent,R);else throw Error("Invalid listener argument");return 2147483647<Number(G)?-1:l.setTimeout(R,G||0)}function De(R){R.g=Qt(()=>{R.g=null,R.i&&(R.i=!1,De(R))},R.l);const G=R.h;R.h=null,R.m.apply(null,G)}class Ht extends yt{constructor(G,Y){super(),this.m=G,this.l=Y,this.h=null,this.i=!1,this.g=null}j(G){this.h=arguments,this.g?this.i=!0:De(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _e(R){yt.call(this),this.h=R,this.g={}}x(_e,yt);var Re=[];function Oe(R){k(R.g,function(G,Y){this.g.hasOwnProperty(Y)&&le(G)},R),R.g={}}_e.prototype.N=function(){_e.aa.N.call(this),Oe(this)},_e.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zt=l.JSON.stringify,Pe=l.JSON.parse,Ne=class{stringify(R){return l.JSON.stringify(R,void 0)}parse(R){return l.JSON.parse(R,void 0)}};function sn(){}sn.prototype.h=null;function Tt(R){return R.h||(R.h=R.i())}function Ce(){}var Xt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function se(){xt.call(this,"d")}x(se,xt);function Ie(){xt.call(this,"c")}x(Ie,xt);var Se={},on=null;function Kn(){return on=on||new _t}Se.La="serverreachability";function Ve(R){xt.call(this,Se.La,R)}x(Ve,xt);function tn(R){const G=Kn();Ct(G,new Ve(G))}Se.STAT_EVENT="statevent";function Ee(R,G){xt.call(this,Se.STAT_EVENT,R),this.stat=G}x(Ee,xt);function ye(R){const G=Kn();Ct(G,new Ee(G,R))}Se.Ma="timingevent";function Qe(R,G){xt.call(this,Se.Ma,R),this.size=G}x(Qe,xt);function Ye(R,G){if(typeof R!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){R()},G)}function Tn(){this.g=!0}Tn.prototype.xa=function(){this.g=!1};function Fi(R,G,Y,ct,Ot,Yt){R.info(function(){if(R.g)if(Yt)for(var Ae="",ni=Yt.split("&"),dr=0;dr<ni.length;dr++){var ii=ni[dr].split("=");if(1<ii.length){var Or=ii[0];ii=ii[1];var Wr=Or.split("_");Ae=2<=Wr.length&&Wr[1]=="type"?Ae+(Or+"="+ii+"&"):Ae+(Or+"=redacted&")}}else Ae=null;else Ae=Yt;return"XMLHTTP REQ ("+ct+") [attempt "+Ot+"]: "+G+`
`+Y+`
`+Ae})}function na(R,G,Y,ct,Ot,Yt,Ae){R.info(function(){return"XMLHTTP RESP ("+ct+") [ attempt "+Ot+"]: "+G+`
`+Y+`
`+Yt+" "+Ae})}function ar(R,G,Y,ct){R.info(function(){return"XMLHTTP TEXT ("+G+"): "+Os(R,Y)+(ct?" "+ct:"")})}function Gr(R,G){R.info(function(){return"TIMEOUT: "+G})}Tn.prototype.info=function(){};function Os(R,G){if(!R.g)return G;if(!G)return null;try{var Y=JSON.parse(G);if(Y){for(R=0;R<Y.length;R++)if(Array.isArray(Y[R])){var ct=Y[R];if(!(2>ct.length)){var Ot=ct[1];if(Array.isArray(Ot)&&!(1>Ot.length)){var Yt=Ot[0];if(Yt!="noop"&&Yt!="stop"&&Yt!="close")for(var Ae=1;Ae<Ot.length;Ae++)Ot[Ae]=""}}}}return Zt(Y)}catch{return G}}var fi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ta={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ia;function Ja(){}x(Ja,sn),Ja.prototype.g=function(){return new XMLHttpRequest},Ja.prototype.i=function(){return{}},ia=new Ja;function ys(R,G,Y,ct){this.j=R,this.i=G,this.l=Y,this.R=ct||1,this.U=new _e(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ur}function ur(){this.i=null,this.g="",this.h=!1}var ju={},tu={};function ra(R,G,Y){R.L=1,R.v=fr($r(G)),R.m=Y,R.P=!0,rt(R,null)}function rt(R,G){R.F=Date.now(),jt(R),R.A=$r(R.v);var Y=R.A,ct=R.R;Array.isArray(ct)||(ct=[String(ct)]),kd(Y.i,"t",ct),R.C=0,Y=R.j.J,R.h=new ur,R.g=No(R.j,Y?G:null,!R.m),0<R.O&&(R.M=new Ht(y(R.Y,R,R.g),R.O)),G=R.U,Y=R.g,ct=R.ca;var Ot="readystatechange";Array.isArray(Ot)||(Ot&&(Re[0]=Ot.toString()),Ot=Re);for(var Yt=0;Yt<Ot.length;Yt++){var Ae=te(Y,Ot[Yt],ct||G.handleEvent,!1,G.h||G);if(!Ae)break;G.g[Ae.key]=Ae}G=R.H?L(R.H):{},R.m?(R.u||(R.u="POST"),G["Content-Type"]="application/x-www-form-urlencoded",R.g.ea(R.A,R.u,R.m,G)):(R.u="GET",R.g.ea(R.A,R.u,null,G)),tn(),Fi(R.i,R.u,R.A,R.l,R.R,R.m)}ys.prototype.ca=function(R){R=R.target;const G=this.M;G&&eo(R)==3?G.j():this.Y(R)},ys.prototype.Y=function(R){try{if(R==this.g)t:{const Wr=eo(this.g);var G=this.g.Ba();const Ir=this.g.Z();if(!(3>Wr)&&(Wr!=3||this.g&&(this.h.h||this.g.oa()||Dm(this.g)))){this.J||Wr!=4||G==7||(G==8||0>=Ir?tn(3):tn(2)),de(this);var Y=this.g.Z();this.X=Y;e:if(St(this)){var ct=Dm(this.g);R="";var Ot=ct.length,Yt=eo(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){we(this),Te(this);var Ae="";break e}this.h.i=new l.TextDecoder}for(G=0;G<Ot;G++)this.h.h=!0,R+=this.h.i.decode(ct[G],{stream:!(Yt&&G==Ot-1)});ct.length=0,this.h.g+=R,this.C=0,Ae=this.h.g}else Ae=this.g.oa();if(this.o=Y==200,na(this.i,this.u,this.A,this.l,this.R,Wr,Y),this.o){if(this.T&&!this.K){e:{if(this.g){var ni,dr=this.g;if((ni=dr.g?dr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(ni)){var ii=ni;break e}}ii=null}if(Y=ii)ar(this.i,this.l,Y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ze(this,Y);else{this.o=!1,this.s=3,ye(12),we(this),Te(this);break t}}if(this.P){Y=!0;let vs;for(;!this.J&&this.C<Ae.length;)if(vs=Bt(this,Ae),vs==tu){Wr==4&&(this.s=4,ye(14),Y=!1),ar(this.i,this.l,null,"[Incomplete Response]");break}else if(vs==ju){this.s=4,ye(15),ar(this.i,this.l,Ae,"[Invalid Chunk]"),Y=!1;break}else ar(this.i,this.l,vs,null),ze(this,vs);if(St(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Wr!=4||Ae.length!=0||this.h.h||(this.s=1,ye(16),Y=!1),this.o=this.o&&Y,!Y)ar(this.i,this.l,Ae,"[Invalid Chunked Response]"),we(this),Te(this);else if(0<Ae.length&&!this.W){this.W=!0;var Or=this.j;Or.g==this&&Or.ba&&!Or.M&&(Or.j.info("Great, no buffering proxy detected. Bytes received: "+Ae.length),Wu(Or),Or.M=!0,ye(11))}}else ar(this.i,this.l,Ae,null),ze(this,Ae);Wr==4&&we(this),this.o&&!this.J&&(Wr==4?Fd(this.j,this):(this.o=!1,jt(this)))}else db(this.g),Y==400&&0<Ae.indexOf("Unknown SID")?(this.s=3,ye(12)):(this.s=0,ye(13)),we(this),Te(this)}}}catch{}finally{}};function St(R){return R.g?R.u=="GET"&&R.L!=2&&R.j.Ca:!1}function Bt(R,G){var Y=R.C,ct=G.indexOf(`
`,Y);return ct==-1?tu:(Y=Number(G.substring(Y,ct)),isNaN(Y)?ju:(ct+=1,ct+Y>G.length?tu:(G=G.slice(ct,ct+Y),R.C=ct+Y,G)))}ys.prototype.cancel=function(){this.J=!0,we(this)};function jt(R){R.S=Date.now()+R.I,It(R,R.I)}function It(R,G){if(R.B!=null)throw Error("WatchDog timer not null");R.B=Ye(y(R.ba,R),G)}function de(R){R.B&&(l.clearTimeout(R.B),R.B=null)}ys.prototype.ba=function(){this.B=null;const R=Date.now();0<=R-this.S?(Gr(this.i,this.A),this.L!=2&&(tn(),ye(17)),we(this),this.s=2,Te(this)):It(this,this.S-R)};function Te(R){R.j.G==0||R.J||Fd(R.j,R)}function we(R){de(R);var G=R.M;G&&typeof G.ma=="function"&&G.ma(),R.M=null,Oe(R.U),R.g&&(G=R.g,R.g=null,G.abort(),G.ma())}function ze(R,G){try{var Y=R.j;if(Y.G!=0&&(Y.g==R||Qn(Y.h,R))){if(!R.K&&Qn(Y.h,R)&&Y.G==3){try{var ct=Y.Da.g.parse(G)}catch{ct=null}if(Array.isArray(ct)&&ct.length==3){var Ot=ct;if(Ot[0]==0){t:if(!Y.u){if(Y.g)if(Y.g.F+3e3<R.F)Xc(Y),ph(Y);else break t;vh(Y),ye(18)}}else Y.za=Ot[1],0<Y.za-Y.T&&37500>Ot[2]&&Y.F&&Y.v==0&&!Y.C&&(Y.C=Ye(y(Y.Za,Y),6e3));if(1>=zn(Y.h)&&Y.ca){try{Y.ca()}catch{}Y.ca=void 0}}else iu(Y,11)}else if((R.K||Y.g==R)&&Xc(Y),!A(G))for(Ot=Y.Da.g.parse(G),G=0;G<Ot.length;G++){let ii=Ot[G];if(Y.T=ii[0],ii=ii[1],Y.G==2)if(ii[0]=="c"){Y.K=ii[1],Y.ia=ii[2];const Or=ii[3];Or!=null&&(Y.la=Or,Y.j.info("VER="+Y.la));const Wr=ii[4];Wr!=null&&(Y.Aa=Wr,Y.j.info("SVER="+Y.Aa));const Ir=ii[5];Ir!=null&&typeof Ir=="number"&&0<Ir&&(ct=1.5*Ir,Y.L=ct,Y.j.info("backChannelRequestTimeoutMs_="+ct)),ct=Y;const vs=R.g;if(vs){const ko=vs.g?vs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ko){var Yt=ct.h;Yt.g||ko.indexOf("spdy")==-1&&ko.indexOf("quic")==-1&&ko.indexOf("h2")==-1||(Yt.j=Yt.l,Yt.g=new Set,Yt.h&&(Ni(Yt,Yt.h),Yt.h=null))}if(ct.D){const Gd=vs.g?vs.g.getResponseHeader("X-HTTP-Session-Id"):null;Gd&&(ct.ya=Gd,Cn(ct.I,ct.D,Gd))}}Y.G=3,Y.l&&Y.l.ua(),Y.ba&&(Y.R=Date.now()-R.F,Y.j.info("Handshake RTT: "+Y.R+"ms")),ct=Y;var Ae=R;if(ct.qa=zm(ct,ct.J?ct.ia:null,ct.W),Ae.K){Vn(ct.h,Ae);var ni=Ae,dr=ct.L;dr&&(ni.I=dr),ni.B&&(de(ni),jt(ni)),ct.g=Ae}else Um(ct);0<Y.i.length&&mh(Y)}else ii[0]!="stop"&&ii[0]!="close"||iu(Y,7);else Y.G==3&&(ii[0]=="stop"||ii[0]=="close"?ii[0]=="stop"?iu(Y,7):Bd(Y):ii[0]!="noop"&&Y.l&&Y.l.ta(ii),Y.v=0)}}tn(4)}catch{}}var un=class{constructor(R,G){this.g=R,this.map=G}};function en(R){this.l=R||10,l.PerformanceNavigationTiming?(R=l.performance.getEntriesByType("navigation"),R=0<R.length&&(R[0].nextHopProtocol=="hq"||R[0].nextHopProtocol=="h2")):R=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=R?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function We(R){return R.h?!0:R.g?R.g.size>=R.j:!1}function zn(R){return R.h?1:R.g?R.g.size:0}function Qn(R,G){return R.h?R.h==G:R.g?R.g.has(G):!1}function Ni(R,G){R.g?R.g.add(G):R.h=G}function Vn(R,G){R.h&&R.h==G?R.h=null:R.g&&R.g.has(G)&&R.g.delete(G)}en.prototype.cancel=function(){if(this.i=$n(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const R of this.g.values())R.cancel();this.g.clear()}};function $n(R){if(R.h!=null)return R.i.concat(R.h.D);if(R.g!=null&&R.g.size!==0){let G=R.i;for(const Y of R.g.values())G=G.concat(Y.D);return G}return S(R.i)}function nn(R){if(R.V&&typeof R.V=="function")return R.V();if(typeof Map<"u"&&R instanceof Map||typeof Set<"u"&&R instanceof Set)return Array.from(R.values());if(typeof R=="string")return R.split("");if(u(R)){for(var G=[],Y=R.length,ct=0;ct<Y;ct++)G.push(R[ct]);return G}G=[],Y=0;for(ct in R)G[Y++]=R[ct];return G}function Ji(R){if(R.na&&typeof R.na=="function")return R.na();if(!R.V||typeof R.V!="function"){if(typeof Map<"u"&&R instanceof Map)return Array.from(R.keys());if(!(typeof Set<"u"&&R instanceof Set)){if(u(R)||typeof R=="string"){var G=[];R=R.length;for(var Y=0;Y<R;Y++)G.push(Y);return G}G=[],Y=0;for(const ct in R)G[Y++]=ct;return G}}}function Jn(R,G){if(R.forEach&&typeof R.forEach=="function")R.forEach(G,void 0);else if(u(R)||typeof R=="string")Array.prototype.forEach.call(R,G,void 0);else for(var Y=Ji(R),ct=nn(R),Ot=ct.length,Yt=0;Yt<Ot;Yt++)G.call(void 0,ct[Yt],Y&&Y[Yt],R)}var qr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ro(R,G){if(R){R=R.split("&");for(var Y=0;Y<R.length;Y++){var ct=R[Y].indexOf("="),Ot=null;if(0<=ct){var Yt=R[Y].substring(0,ct);Ot=R[Y].substring(ct+1)}else Yt=R[Y];G(Yt,Ot?decodeURIComponent(Ot.replace(/\+/g," ")):"")}}}function ai(R){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,R instanceof ai){this.h=R.h,hi(this,R.j),this.o=R.o,this.g=R.g,_r(this,R.s),this.l=R.l;var G=R.i,Y=new eu;Y.i=G.i,G.g&&(Y.g=new Map(G.g),Y.h=G.h),cr(this,Y),this.m=R.m}else R&&(G=String(R).match(qr))?(this.h=!1,hi(this,G[1]||"",!0),this.o=Rr(G[2]||""),this.g=Rr(G[3]||"",!0),_r(this,G[4]),this.l=Rr(G[5]||"",!0),cr(this,G[6]||"",!0),this.m=Rr(G[7]||"")):(this.h=!1,this.i=new eu(null,this.h))}ai.prototype.toString=function(){var R=[],G=this.j;G&&R.push(js(G,Fc,!0),":");var Y=this.g;return(Y||G=="file")&&(R.push("//"),(G=this.o)&&R.push(js(G,Fc,!0),"@"),R.push(encodeURIComponent(String(Y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),Y=this.s,Y!=null&&R.push(":",String(Y))),(Y=this.l)&&(this.g&&Y.charAt(0)!="/"&&R.push("/"),R.push(js(Y,Y.charAt(0)=="/"?Om:Ud,!0))),(Y=this.i.toString())&&R.push("?",Y),(Y=this.m)&&R.push("#",js(Y,hh)),R.join("")};function $r(R){return new ai(R)}function hi(R,G,Y){R.j=Y?Rr(G,!0):G,R.j&&(R.j=R.j.replace(/:$/,""))}function _r(R,G){if(G){if(G=Number(G),isNaN(G)||0>G)throw Error("Bad port number "+G);R.s=G}else R.s=null}function cr(R,G,Y){G instanceof eu?(R.i=G,Im(R.i,R.h)):(Y||(G=js(G,i0)),R.i=new eu(G,R.h))}function Cn(R,G,Y){R.i.set(G,Y)}function fr(R){return Cn(R,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),R}function Rr(R,G){return R?G?decodeURI(R.replace(/%25/g,"%2525")):decodeURIComponent(R):""}function js(R,G,Y){return typeof R=="string"?(R=encodeURI(R).replace(G,fh),Y&&(R=R.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),R):null}function fh(R){return R=R.charCodeAt(0),"%"+(R>>4&15).toString(16)+(R&15).toString(16)}var Fc=/[#\/\?@]/g,Ud=/[#\?:]/g,Om=/[#\?]/g,i0=/[#\?@]/g,hh=/#/g;function eu(R,G){this.h=this.g=null,this.i=R||null,this.j=!!G}function to(R){R.g||(R.g=new Map,R.h=0,R.i&&Ro(R.i,function(G,Y){R.add(decodeURIComponent(G.replace(/\+/g," ")),Y)}))}i=eu.prototype,i.add=function(R,G){to(this),this.i=null,R=Oo(this,R);var Y=this.g.get(R);return Y||this.g.set(R,Y=[]),Y.push(G),this.h+=1,this};function bl(R,G){to(R),G=Oo(R,G),R.g.has(G)&&(R.i=null,R.h-=R.g.get(G).length,R.g.delete(G))}function nu(R,G){return to(R),G=Oo(R,G),R.g.has(G)}i.forEach=function(R,G){to(this),this.g.forEach(function(Y,ct){Y.forEach(function(Ot){R.call(G,Ot,ct,this)},this)},this)},i.na=function(){to(this);const R=Array.from(this.g.values()),G=Array.from(this.g.keys()),Y=[];for(let ct=0;ct<G.length;ct++){const Ot=R[ct];for(let Yt=0;Yt<Ot.length;Yt++)Y.push(G[ct])}return Y},i.V=function(R){to(this);let G=[];if(typeof R=="string")nu(this,R)&&(G=G.concat(this.g.get(Oo(this,R))));else{R=Array.from(this.g.values());for(let Y=0;Y<R.length;Y++)G=G.concat(R[Y])}return G},i.set=function(R,G){return to(this),this.i=null,R=Oo(this,R),nu(this,R)&&(this.h-=this.g.get(R).length),this.g.set(R,[G]),this.h+=1,this},i.get=function(R,G){return R?(R=this.V(R),0<R.length?String(R[0]):G):G};function kd(R,G,Y){bl(R,G),0<Y.length&&(R.i=null,R.g.set(Oo(R,G),S(Y)),R.h+=Y.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const R=[],G=Array.from(this.g.keys());for(var Y=0;Y<G.length;Y++){var ct=G[Y];const Yt=encodeURIComponent(String(ct)),Ae=this.V(ct);for(ct=0;ct<Ae.length;ct++){var Ot=Yt;Ae[ct]!==""&&(Ot+="="+encodeURIComponent(String(Ae[ct]))),R.push(Ot)}}return this.i=R.join("&")};function Oo(R,G){return G=String(G),R.j&&(G=G.toLowerCase()),G}function Im(R,G){G&&!R.j&&(to(R),R.i=null,R.g.forEach(function(Y,ct){var Ot=ct.toLowerCase();ct!=Ot&&(bl(this,ct),kd(this,Ot,Y))},R)),R.j=G}function Vc(R,G){const Y=new Tn;if(l.Image){const ct=new Image;ct.onload=_(wa,Y,"TestLoadImage: loaded",!0,G,ct),ct.onerror=_(wa,Y,"TestLoadImage: error",!1,G,ct),ct.onabort=_(wa,Y,"TestLoadImage: abort",!1,G,ct),ct.ontimeout=_(wa,Y,"TestLoadImage: timeout",!1,G,ct),l.setTimeout(function(){ct.ontimeout&&ct.ontimeout()},1e4),ct.src=R}else G(!1)}function Io(R,G){const Y=new Tn,ct=new AbortController,Ot=setTimeout(()=>{ct.abort(),wa(Y,"TestPingServer: timeout",!1,G)},1e4);fetch(R,{signal:ct.signal}).then(Yt=>{clearTimeout(Ot),Yt.ok?wa(Y,"TestPingServer: ok",!0,G):wa(Y,"TestPingServer: server error",!1,G)}).catch(()=>{clearTimeout(Ot),wa(Y,"TestPingServer: error",!1,G)})}function wa(R,G,Y,ct,Ot){try{Ot&&(Ot.onload=null,Ot.onerror=null,Ot.onabort=null,Ot.ontimeout=null),ct(Y)}catch{}}function Hc(){this.g=new Ne}function xl(R,G,Y){const ct=Y||"";try{Jn(R,function(Ot,Yt){let Ae=Ot;f(Ot)&&(Ae=Zt(Ot)),G.push(ct+Yt+"="+encodeURIComponent(Ae))})}catch(Ot){throw G.push(ct+"type="+encodeURIComponent("_badmap")),Ot}}function jc(R){this.l=R.Ub||null,this.j=R.eb||!1}x(jc,sn),jc.prototype.g=function(){return new Gu(this.l,this.j)},jc.prototype.i=function(R){return function(){return R}}({});function Gu(R,G){_t.call(this),this.D=R,this.o=G,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Gu,_t),i=Gu.prototype,i.open=function(R,G){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=R,this.A=G,this.readyState=1,Po(this)},i.send=function(R){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const G={headers:this.u,method:this.B,credentials:this.m,cache:void 0};R&&(G.body=R),(this.D||l).fetch(new Request(this.A,G)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Aa(this)),this.readyState=0},i.Sa=function(R){if(this.g&&(this.l=R,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=R.headers,this.readyState=2,Po(this)),this.g&&(this.readyState=3,Po(this),this.g)))if(this.responseType==="arraybuffer")R.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in R){if(this.j=R.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;zd(this)}else R.text().then(this.Ra.bind(this),this.ga.bind(this))};function zd(R){R.j.read().then(R.Pa.bind(R)).catch(R.ga.bind(R))}i.Pa=function(R){if(this.g){if(this.o&&R.value)this.response.push(R.value);else if(!this.o){var G=R.value?R.value:new Uint8Array(0);(G=this.v.decode(G,{stream:!R.done}))&&(this.response=this.responseText+=G)}R.done?Aa(this):Po(this),this.readyState==3&&zd(this)}},i.Ra=function(R){this.g&&(this.response=this.responseText=R,Aa(this))},i.Qa=function(R){this.g&&(this.response=R,Aa(this))},i.ga=function(){this.g&&Aa(this)};function Aa(R){R.readyState=4,R.l=null,R.j=null,R.v=null,Po(R)}i.setRequestHeader=function(R,G){this.u.append(R,G)},i.getResponseHeader=function(R){return this.h&&this.h.get(R.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const R=[],G=this.h.entries();for(var Y=G.next();!Y.done;)Y=Y.value,R.push(Y[0]+": "+Y[1]),Y=G.next();return R.join(`\r
`)};function Po(R){R.onreadystatechange&&R.onreadystatechange.call(R)}Object.defineProperty(Gu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(R){this.m=R?"include":"same-origin"}});function Gc(R){let G="";return k(R,function(Y,ct){G+=ct,G+=":",G+=Y,G+=`\r
`}),G}function rs(R,G,Y){t:{for(ct in Y){var ct=!1;break t}ct=!0}ct||(Y=Gc(Y),typeof R=="string"?Y!=null&&encodeURIComponent(String(Y)):Cn(R,G,Y))}function Si(R){_t.call(this),this.headers=new Map,this.o=R||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Si,_t);var qc=/^https?$/i,$c=["POST","PUT"];i=Si.prototype,i.Ha=function(R){this.J=R},i.ea=function(R,G,Y,ct){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+R);G=G?G.toUpperCase():"GET",this.D=R,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ia.g(),this.v=this.o?Tt(this.o):Tt(ia),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(G,String(R),!0),this.B=!1}catch(Yt){Pm(this,Yt);return}if(R=Y||"",Y=new Map(this.headers),ct)if(Object.getPrototypeOf(ct)===Object.prototype)for(var Ot in ct)Y.set(Ot,ct[Ot]);else if(typeof ct.keys=="function"&&typeof ct.get=="function")for(const Yt of ct.keys())Y.set(Yt,ct.get(Yt));else throw Error("Unknown input type for opt_headers: "+String(ct));ct=Array.from(Y.keys()).find(Yt=>Yt.toLowerCase()=="content-type"),Ot=l.FormData&&R instanceof l.FormData,!(0<=Array.prototype.indexOf.call($c,G,void 0))||ct||Ot||Y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Yt,Ae]of Y)this.g.setRequestHeader(Yt,Ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$u(this),this.u=!0,this.g.send(R),this.u=!1}catch(Yt){Pm(this,Yt)}};function Pm(R,G){R.h=!1,R.g&&(R.j=!0,R.g.abort(),R.j=!1),R.l=G,R.m=5,Do(R),Sl(R)}function Do(R){R.A||(R.A=!0,Ct(R,"complete"),Ct(R,"error"))}i.abort=function(R){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=R||7,Ct(this,"complete"),Ct(this,"abort"),Sl(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Sl(this,!0)),Si.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?qu(this):this.bb())},i.bb=function(){qu(this)};function qu(R){if(R.h&&typeof o<"u"&&(!R.v[1]||eo(R)!=4||R.Z()!=2)){if(R.u&&eo(R)==4)Qt(R.Ea,0,R);else if(Ct(R,"readystatechange"),eo(R)==4){R.h=!1;try{const Ae=R.Z();t:switch(Ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var G=!0;break t;default:G=!1}var Y;if(!(Y=G)){var ct;if(ct=Ae===0){var Ot=String(R.D).match(qr)[1]||null;!Ot&&l.self&&l.self.location&&(Ot=l.self.location.protocol.slice(0,-1)),ct=!qc.test(Ot?Ot.toLowerCase():"")}Y=ct}if(Y)Ct(R,"complete"),Ct(R,"success");else{R.m=6;try{var Yt=2<eo(R)?R.g.statusText:""}catch{Yt=""}R.l=Yt+" ["+R.Z()+"]",Do(R)}}finally{Sl(R)}}}}function Sl(R,G){if(R.g){$u(R);const Y=R.g,ct=R.v[0]?()=>{}:null;R.g=null,R.v=null,G||Ct(R,"ready");try{Y.onreadystatechange=ct}catch{}}}function $u(R){R.I&&(l.clearTimeout(R.I),R.I=null)}i.isActive=function(){return!!this.g};function eo(R){return R.g?R.g.readyState:0}i.Z=function(){try{return 2<eo(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(R){if(this.g){var G=this.g.responseText;return R&&G.indexOf(R)==0&&(G=G.substring(R.length)),Pe(G)}};function Dm(R){try{if(!R.g)return null;if("response"in R.g)return R.g.response;switch(R.H){case"":case"text":return R.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in R.g)return R.g.mozResponseArrayBuffer}return null}catch{return null}}function db(R){const G={};R=(R.g&&2<=eo(R)&&R.g.getAllResponseHeaders()||"").split(`\r
`);for(let ct=0;ct<R.length;ct++){if(A(R[ct]))continue;var Y=B(R[ct]);const Ot=Y[0];if(Y=Y[1],typeof Y!="string")continue;Y=Y.trim();const Yt=G[Ot]||[];G[Ot]=Yt,Yt.push(Y)}N(G,function(ct){return ct.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function hr(R,G,Y){return Y&&Y.internalChannelParams&&Y.internalChannelParams[R]||G}function dh(R){this.Aa=0,this.i=[],this.j=new Tn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=hr("failFast",!1,R),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=hr("baseRetryDelayMs",5e3,R),this.cb=hr("retryDelaySeedMs",1e4,R),this.Wa=hr("forwardChannelMaxRetries",2,R),this.wa=hr("forwardChannelRequestTimeoutMs",2e4,R),this.pa=R&&R.xmlHttpFactory||void 0,this.Xa=R&&R.Tb||void 0,this.Ca=R&&R.useFetchStreams||!1,this.L=void 0,this.J=R&&R.supportsCrossDomainXhr||!1,this.K="",this.h=new en(R&&R.concurrentRequestLimit),this.Da=new Hc,this.P=R&&R.fastHandshake||!1,this.O=R&&R.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=R&&R.Rb||!1,R&&R.xa&&this.j.xa(),R&&R.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&R&&R.detectBufferingProxy||!1,this.ja=void 0,R&&R.longPollingTimeout&&0<R.longPollingTimeout&&(this.ja=R.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=dh.prototype,i.la=8,i.G=1,i.connect=function(R,G,Y,ct){ye(0),this.W=R,this.H=G||{},Y&&ct!==void 0&&(this.H.OSID=Y,this.H.OAID=ct),this.F=this.X,this.I=zm(this,null,this.W),mh(this)};function Bd(R){if(Nm(R),R.G==3){var G=R.U++,Y=$r(R.I);if(Cn(Y,"SID",R.K),Cn(Y,"RID",G),Cn(Y,"TYPE","terminate"),Wc(R,Y),G=new ys(R,R.j,G),G.L=2,G.v=fr($r(Y)),Y=!1,l.navigator&&l.navigator.sendBeacon)try{Y=l.navigator.sendBeacon(G.v.toString(),"")}catch{}!Y&&l.Image&&(new Image().src=G.v,Y=!0),Y||(G.g=No(G.j,null),G.g.ea(G.v)),G.F=Date.now(),jt(G)}Vd(R)}function ph(R){R.g&&(Wu(R),R.g.cancel(),R.g=null)}function Nm(R){ph(R),R.u&&(l.clearTimeout(R.u),R.u=null),Xc(R),R.h.cancel(),R.s&&(typeof R.s=="number"&&l.clearTimeout(R.s),R.s=null)}function mh(R){if(!We(R.h)&&!R.s){R.s=!0;var G=R.Ga;W||Q(),Z||(W(),Z=!0),nt.add(G,R),R.B=0}}function gh(R,G){return zn(R.h)>=R.h.j-(R.s?1:0)?!1:R.s?(R.i=G.D.concat(R.i),!0):R.G==1||R.G==2||R.B>=(R.Va?0:R.Wa)?!1:(R.s=Ye(y(R.Ga,R,G),_h(R,R.B)),R.B++,!0)}i.Ga=function(R){if(this.s)if(this.s=null,this.G==1){if(!R){this.U=Math.floor(1e5*Math.random()),R=this.U++;const Ot=new ys(this,this.j,R);let Yt=this.o;if(this.S&&(Yt?(Yt=L(Yt),O(Yt,this.S)):Yt=this.S),this.m!==null||this.O||(Ot.H=Yt,Yt=null),this.P)t:{for(var G=0,Y=0;Y<this.i.length;Y++){e:{var ct=this.i[Y];if("__data__"in ct.map&&(ct=ct.map.__data__,typeof ct=="string")){ct=ct.length;break e}ct=void 0}if(ct===void 0)break;if(G+=ct,4096<G){G=Y;break t}if(G===4096||Y===this.i.length-1){G=Y+1;break t}}G=1e3}else G=1e3;G=Lm(this,Ot,G),Y=$r(this.I),Cn(Y,"RID",R),Cn(Y,"CVER",22),this.D&&Cn(Y,"X-HTTP-Session-Id",this.D),Wc(this,Y),Yt&&(this.O?G="headers="+encodeURIComponent(String(Gc(Yt)))+"&"+G:this.m&&rs(Y,this.m,Yt)),Ni(this.h,Ot),this.Ua&&Cn(Y,"TYPE","init"),this.P?(Cn(Y,"$req",G),Cn(Y,"SID","null"),Ot.T=!0,ra(Ot,Y,null)):ra(Ot,Y,G),this.G=2}}else this.G==3&&(R?yh(this,R):this.i.length==0||We(this.h)||yh(this))};function yh(R,G){var Y;G?Y=G.l:Y=R.U++;const ct=$r(R.I);Cn(ct,"SID",R.K),Cn(ct,"RID",Y),Cn(ct,"AID",R.T),Wc(R,ct),R.m&&R.o&&rs(ct,R.m,R.o),Y=new ys(R,R.j,Y,R.B+1),R.m===null&&(Y.H=R.o),G&&(R.i=G.D.concat(R.i)),G=Lm(R,Y,1e3),Y.I=Math.round(.5*R.wa)+Math.round(.5*R.wa*Math.random()),Ni(R.h,Y),ra(Y,ct,G)}function Wc(R,G){R.H&&k(R.H,function(Y,ct){Cn(G,ct,Y)}),R.l&&Jn({},function(Y,ct){Cn(G,ct,Y)})}function Lm(R,G,Y){Y=Math.min(R.i.length,Y);var ct=R.l?y(R.l.Na,R.l,R):null;t:{var Ot=R.i;let Yt=-1;for(;;){const Ae=["count="+Y];Yt==-1?0<Y?(Yt=Ot[0].g,Ae.push("ofs="+Yt)):Yt=0:Ae.push("ofs="+Yt);let ni=!0;for(let dr=0;dr<Y;dr++){let ii=Ot[dr].g;const Or=Ot[dr].map;if(ii-=Yt,0>ii)Yt=Math.max(0,Ot[dr].g-100),ni=!1;else try{xl(Or,Ae,"req"+ii+"_")}catch{ct&&ct(Or)}}if(ni){ct=Ae.join("&");break t}}}return R=R.i.splice(0,Y),G.D=R,ct}function Um(R){if(!R.g&&!R.u){R.Y=1;var G=R.Fa;W||Q(),Z||(W(),Z=!0),nt.add(G,R),R.v=0}}function vh(R){return R.g||R.u||3<=R.v?!1:(R.Y++,R.u=Ye(y(R.Fa,R),_h(R,R.v)),R.v++,!0)}i.Fa=function(){if(this.u=null,km(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var R=2*this.R;this.j.info("BP detection timer enabled: "+R),this.A=Ye(y(this.ab,this),R)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ye(10),ph(this),km(this))};function Wu(R){R.A!=null&&(l.clearTimeout(R.A),R.A=null)}function km(R){R.g=new ys(R,R.j,"rpc",R.Y),R.m===null&&(R.g.H=R.o),R.g.O=0;var G=$r(R.qa);Cn(G,"RID","rpc"),Cn(G,"SID",R.K),Cn(G,"AID",R.T),Cn(G,"CI",R.F?"0":"1"),!R.F&&R.ja&&Cn(G,"TO",R.ja),Cn(G,"TYPE","xmlhttp"),Wc(R,G),R.m&&R.o&&rs(G,R.m,R.o),R.L&&(R.g.I=R.L);var Y=R.g;R=R.ia,Y.L=1,Y.v=fr($r(G)),Y.m=null,Y.P=!0,rt(Y,R)}i.Za=function(){this.C!=null&&(this.C=null,ph(this),vh(this),ye(19))};function Xc(R){R.C!=null&&(l.clearTimeout(R.C),R.C=null)}function Fd(R,G){var Y=null;if(R.g==G){Xc(R),Wu(R),R.g=null;var ct=2}else if(Qn(R.h,G))Y=G.D,Vn(R.h,G),ct=1;else return;if(R.G!=0){if(G.o)if(ct==1){Y=G.m?G.m.length:0,G=Date.now()-G.F;var Ot=R.B;ct=Kn(),Ct(ct,new Qe(ct,Y)),mh(R)}else Um(R);else if(Ot=G.s,Ot==3||Ot==0&&0<G.X||!(ct==1&&gh(R,G)||ct==2&&vh(R)))switch(Y&&0<Y.length&&(G=R.h,G.i=G.i.concat(Y)),Ot){case 1:iu(R,5);break;case 4:iu(R,10);break;case 3:iu(R,6);break;default:iu(R,2)}}}function _h(R,G){let Y=R.Ta+Math.floor(Math.random()*R.cb);return R.isActive()||(Y*=2),Y*G}function iu(R,G){if(R.j.info("Error code "+G),G==2){var Y=y(R.fb,R),ct=R.Xa;const Ot=!ct;ct=new ai(ct||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||hi(ct,"https"),fr(ct),Ot?Vc(ct.toString(),Y):Io(ct.toString(),Y)}else ye(2);R.G=0,R.l&&R.l.sa(G),Vd(R),Nm(R)}i.fb=function(R){R?(this.j.info("Successfully pinged google.com"),ye(2)):(this.j.info("Failed to ping google.com"),ye(1))};function Vd(R){if(R.G=0,R.ka=[],R.l){const G=$n(R.h);(G.length!=0||R.i.length!=0)&&(E(R.ka,G),E(R.ka,R.i),R.h.i.length=0,S(R.i),R.i.length=0),R.l.ra()}}function zm(R,G,Y){var ct=Y instanceof ai?$r(Y):new ai(Y);if(ct.g!="")G&&(ct.g=G+"."+ct.g),_r(ct,ct.s);else{var Ot=l.location;ct=Ot.protocol,G=G?G+"."+Ot.hostname:Ot.hostname,Ot=+Ot.port;var Yt=new ai(null);ct&&hi(Yt,ct),G&&(Yt.g=G),Ot&&_r(Yt,Ot),Y&&(Yt.l=Y),ct=Yt}return Y=R.D,G=R.ya,Y&&G&&Cn(ct,Y,G),Cn(ct,"VER",R.la),Wc(R,ct),ct}function No(R,G,Y){if(G&&!R.J)throw Error("Can't create secondary domain capable XhrIo object.");return G=R.Ca&&!R.pa?new Si(new jc({eb:Y})):new Si(R.pa),G.Ha(R.J),G}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Hd(){}i=Hd.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function jd(){}jd.prototype.g=function(R,G){return new Gs(R,G)};function Gs(R,G){_t.call(this),this.g=new dh(G),this.l=R,this.h=G&&G.messageUrlParams||null,R=G&&G.messageHeaders||null,G&&G.clientProtocolHeaderRequired&&(R?R["X-Client-Protocol"]="webchannel":R={"X-Client-Protocol":"webchannel"}),this.g.o=R,R=G&&G.initMessageHeaders||null,G&&G.messageContentType&&(R?R["X-WebChannel-Content-Type"]=G.messageContentType:R={"X-WebChannel-Content-Type":G.messageContentType}),G&&G.va&&(R?R["X-WebChannel-Client-Profile"]=G.va:R={"X-WebChannel-Client-Profile":G.va}),this.g.S=R,(R=G&&G.Sb)&&!A(R)&&(this.g.m=R),this.v=G&&G.supportsCrossDomainXhr||!1,this.u=G&&G.sendRawJson||!1,(G=G&&G.httpSessionIdParam)&&!A(G)&&(this.g.D=G,R=this.h,R!==null&&G in R&&(R=this.h,G in R&&delete R[G])),this.j=new Uo(this)}x(Gs,_t),Gs.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Gs.prototype.close=function(){Bd(this.g)},Gs.prototype.o=function(R){var G=this.g;if(typeof R=="string"){var Y={};Y.__data__=R,R=Y}else this.u&&(Y={},Y.__data__=Zt(R),R=Y);G.i.push(new un(G.Ya++,R)),G.G==3&&mh(G)},Gs.prototype.N=function(){this.g.l=null,delete this.j,Bd(this.g),delete this.g,Gs.aa.N.call(this)};function El(R){se.call(this),R.__headers__&&(this.headers=R.__headers__,this.statusCode=R.__status__,delete R.__headers__,delete R.__status__);var G=R.__sm__;if(G){t:{for(const Y in G){R=Y;break t}R=void 0}(this.i=R)&&(R=this.i,G=G!==null&&R in G?G[R]:void 0),this.data=G}else this.data=R}x(El,se);function Lo(){Ie.call(this),this.status=1}x(Lo,Ie);function Uo(R){this.g=R}x(Uo,Hd),Uo.prototype.ua=function(){Ct(this.g,"a")},Uo.prototype.ta=function(R){Ct(this.g,new El(R))},Uo.prototype.sa=function(R){Ct(this.g,new Lo)},Uo.prototype.ra=function(){Ct(this.g,"b")},jd.prototype.createWebChannel=jd.prototype.g,Gs.prototype.send=Gs.prototype.o,Gs.prototype.open=Gs.prototype.m,Gs.prototype.close=Gs.prototype.close,Eq=function(){return new jd},Sq=function(){return Kn()},xq=Se,b3={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},fi.NO_ERROR=0,fi.TIMEOUT=8,fi.HTTP_ERROR=6,KA=fi,Ta.COMPLETE="complete",bq=Ta,Ce.EventType=Xt,Xt.OPEN="a",Xt.CLOSE="b",Xt.ERROR="c",Xt.MESSAGE="d",_t.prototype.listen=_t.prototype.K,d1=Ce,Si.prototype.listenOnce=Si.prototype.L,Si.prototype.getLastError=Si.prototype.Ka,Si.prototype.getLastErrorCode=Si.prototype.Ba,Si.prototype.getStatus=Si.prototype.Z,Si.prototype.getResponseJson=Si.prototype.Oa,Si.prototype.getResponseText=Si.prototype.oa,Si.prototype.send=Si.prototype.ea,Si.prototype.setWithCredentials=Si.prototype.Ha,_q=Si}).apply(typeof Qw<"u"?Qw:typeof self<"u"?self:typeof window<"u"?window:{});const QF="@firebase/firestore",JF="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ha.UNAUTHENTICATED=new Ha(null),Ha.GOOGLE_CREDENTIALS=new Ha("google-credentials-uid"),Ha.FIRST_PARTY=new Ha("first-party-uid"),Ha.MOCK_USER=new Ha("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sb="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky=new gU("@firebase/firestore");function Fv(){return ky.logLevel}function je(i,...e){if(ky.logLevel<=ui.DEBUG){const n=e.map(OU);ky.debug(`Firestore (${sb}): ${i}`,...n)}}function Od(i,...e){if(ky.logLevel<=ui.ERROR){const n=e.map(OU);ky.error(`Firestore (${sb}): ${i}`,...n)}}function M_(i,...e){if(ky.logLevel<=ui.WARN){const n=e.map(OU);ky.warn(`Firestore (${sb}): ${i}`,...n)}}function OU(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(i="Unexpected state"){const e=`FIRESTORE (${sb}) INTERNAL ASSERTION FAILED: `+i;throw Od(e),new Error(e)}function Bi(i,e){i||En()}function kn(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $e extends Ld{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tq{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class t0t{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ha.UNAUTHENTICATED))}shutdown(){}}class e0t{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class n0t{constructor(e){this.t=e,this.currentUser=Ha.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Bi(this.o===void 0);let r=this.i;const s=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let a=new am;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new am,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const u=a;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},l=u=>{je("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(je("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new am)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(je("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Bi(typeof r.accessToken=="string"),new Tq(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Bi(e===null||typeof e=="string"),new Ha(e)}}class i0t{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ha.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class r0t{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new i0t(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ha.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class tV{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class s0t{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Sc(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Bi(this.o===void 0);const r=a=>{a.error!=null&&je("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.R;return this.R=a.token,je("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{je("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?s(a):je("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new tV(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Bi(typeof n.token=="string"),this.R=n.token,new tV(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a0t(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<i;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wq(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aq{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=a0t(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<n&&(r+=e.charAt(s[a]%62))}return r}}function ei(i,e){return i<e?-1:i>e?1:0}function x3(i,e){let n=0;for(;n<i.length&&n<e.length;){const r=i.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return ei(r,s);{const a=wq(),o=o0t(a.encode(eV(i,n)),a.encode(eV(e,n)));return o!==0?o:ei(r,s)}}n+=r>65535?2:1}return ei(i.length,e.length)}function eV(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function o0t(i,e){for(let n=0;n<i.length&&n<e.length;++n)if(i[n]!==e[n])return ei(i[n],e[n]);return ei(i.length,e.length)}function C_(i,e,n){return i.length===e.length&&i.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nV=-62135596800,iV=1e6;class Bs{static now(){return Bs.fromMillis(Date.now())}static fromDate(e){return Bs.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*iV);return new Bs(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new $e(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new $e(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<nV)throw new $e(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $e(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/iV}_compareTo(e){return this.seconds===e.seconds?ei(this.nanoseconds,e.nanoseconds):ei(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-nV;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{static fromTimestamp(e){return new Pn(e)}static min(){return new Pn(new Bs(0,0))}static max(){return new Pn(new Bs(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rV="__name__";class Of{constructor(e,n,r){n===void 0?n=0:n>e.length&&En(),r===void 0?r=e.length-n:r>e.length-n&&En(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Of.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Of?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const a=Of.compareSegments(e.get(s),n.get(s));if(a!==0)return a}return ei(e.length,n.length)}static compareSegments(e,n){const r=Of.isNumericId(e),s=Of.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Of.extractNumericId(e).compare(Of.extractNumericId(n)):x3(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return sm.fromString(e.substring(4,e.length-2))}}class vr extends Of{construct(e,n,r){return new vr(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new $e(me.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new vr(n)}static emptyPath(){return new vr([])}}const l0t=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ya extends Of{construct(e,n,r){return new ya(e,n,r)}static isValidIdentifier(e){return l0t.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ya.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===rV}static keyField(){return new ya([rV])}static fromServerFormat(e){const n=[];let r="",s=0;const a=()=>{if(r.length===0)throw new $e(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new $e(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new $e(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,s+=2}else l==="`"?(o=!o,s++):l!=="."||o?(r+=l,s++):(a(),s++)}if(a(),o)throw new $e(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ya(n)}static emptyPath(){return new ya([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.path=e}static fromPath(e){return new ln(vr.fromString(e))}static fromName(e){return new ln(vr.fromString(e).popFirst(5))}static empty(){return new ln(vr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return vr.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ln(new vr(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS=-1;function u0t(i,e){const n=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,s=Pn.fromTimestamp(r===1e9?new Bs(n+1,0):new Bs(n,r));return new mm(s,ln.empty(),e)}function c0t(i){return new mm(i.readTime,i.key,AS)}class mm{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new mm(Pn.min(),ln.empty(),AS)}static max(){return new mm(Pn.max(),ln.empty(),AS)}}function f0t(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ln.comparator(i.documentKey,e.documentKey),n!==0?n:ei(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0t="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class d0t{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ab(i){if(i.code!==me.FAILED_PRECONDITION||i.message!==h0t)throw i;je("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&En(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new he((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof he?n:he.resolve(n)}catch(n){return he.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):he.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):he.reject(n)}static resolve(e){return new he((n,r)=>{n(e)})}static reject(e){return new he((n,r)=>{r(e)})}static waitFor(e){return new he((n,r)=>{let s=0,a=0,o=!1;e.forEach(l=>{++s,l.next(()=>{++a,o&&a===s&&n()},u=>r(u))}),o=!0,a===s&&n()})}static or(e){let n=he.resolve(!1);for(const r of e)n=n.next(s=>s?he.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,a)=>{r.push(n.call(this,s,a))}),this.waitFor(r)}static mapArray(e,n){return new he((r,s)=>{const a=e.length,o=new Array(a);let l=0;for(let u=0;u<a;u++){const f=u;n(e[f]).next(h=>{o[f]=h,++l,l===a&&r(o)},h=>s(h))}})}static doWhile(e,n){return new he((r,s)=>{const a=()=>{e()===!0?n().next(()=>{a()},s):r()};a()})}}function p0t(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ob(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}yR.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IU=-1;function vR(i){return i==null}function wC(i){return i===0&&1/i==-1/0}function m0t(i){return typeof i=="number"&&Number.isInteger(i)&&!wC(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mq="";function g0t(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=sV(e)),e=y0t(i.get(n),e);return sV(e)}function y0t(i,e){let n=e;const r=i.length;for(let s=0;s<r;s++){const a=i.charAt(s);switch(a){case"\0":n+="";break;case Mq:n+="";break;default:n+=a}}return n}function sV(i){return i+Mq+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aV(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Yy(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Cq(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e,n){this.comparator=e,this.root=n||pa.EMPTY}insert(e,n){return new jr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pa.BLACK,null,null))}remove(e){return new jr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pa.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jw(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jw(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jw(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jw(this.root,e,this.comparator,!0)}}class Jw{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pa{constructor(e,n,r,s,a){this.key=e,this.value=n,this.color=r??pa.RED,this.left=s??pa.EMPTY,this.right=a??pa.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,a){return new pa(e??this.key,n??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,n,r),null):a===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return pa.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return pa.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pa.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pa.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw En();const e=this.left.check();if(e!==this.right.check())throw En();return e+(this.isRed()?0:1)}}pa.EMPTY=null,pa.RED=!0,pa.BLACK=!1;pa.EMPTY=new class{constructor(){this.size=0}get key(){throw En()}get value(){throw En()}get color(){throw En()}get left(){throw En()}get right(){throw En()}copy(e,n,r,s,a){return this}insert(e,n,r){return new pa(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e){this.comparator=e,this.data=new jr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new oV(this.data.getIterator())}getIteratorFrom(e){return new oV(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Fs)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Fs(this.comparator);return n.data=e,n}}class oV{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e){this.fields=e,e.sort(ya.comparator)}static empty(){return new Cc([])}unionWith(e){let n=new Fs(ya.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Cc(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return C_(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rq extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Rq("Invalid base64 string: "+a):a}}(e);return new Sa(n)}static fromUint8Array(e){const n=function(s){let a="";for(let o=0;o<s.length;++o)a+=String.fromCharCode(s[o]);return a}(e);return new Sa(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ei(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Sa.EMPTY_BYTE_STRING=new Sa("");const v0t=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gm(i){if(Bi(!!i),typeof i=="string"){let e=0;const n=v0t.exec(i);if(Bi(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:cs(i.seconds),nanos:cs(i.nanos)}}function cs(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ym(i){return typeof i=="string"?Sa.fromBase64String(i):Sa.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oq="server_timestamp",Iq="__type__",Pq="__previous_value__",Dq="__local_write_time__";function PU(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[Iq])===null||n===void 0?void 0:n.stringValue)===Oq}function _R(i){const e=i.mapValue.fields[Pq];return PU(e)?_R(e):e}function MS(i){const e=gm(i.mapValue.fields[Dq].timestampValue);return new Bs(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0t{constructor(e,n,r,s,a,o,l,u,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=f}}const AC="(default)";class CS{constructor(e,n){this.projectId=e,this.database=n||AC}static empty(){return new CS("","")}get isDefaultDatabase(){return this.database===AC}isEqual(e){return e instanceof CS&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nq="__type__",b0t="__max__",tA={mapValue:{}},Lq="__vector__",MC="value";function vm(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?PU(i)?4:S0t(i)?9007199254740991:x0t(i)?10:11:En()}function rh(i,e){if(i===e)return!0;const n=vm(i);if(n!==vm(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return MS(i).isEqual(MS(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const o=gm(s.timestampValue),l=gm(a.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(s,a){return ym(s.bytesValue).isEqual(ym(a.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(s,a){return cs(s.geoPointValue.latitude)===cs(a.geoPointValue.latitude)&&cs(s.geoPointValue.longitude)===cs(a.geoPointValue.longitude)}(i,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return cs(s.integerValue)===cs(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const o=cs(s.doubleValue),l=cs(a.doubleValue);return o===l?wC(o)===wC(l):isNaN(o)&&isNaN(l)}return!1}(i,e);case 9:return C_(i.arrayValue.values||[],e.arrayValue.values||[],rh);case 10:case 11:return function(s,a){const o=s.mapValue.fields||{},l=a.mapValue.fields||{};if(aV(o)!==aV(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!rh(o[u],l[u])))return!1;return!0}(i,e);default:return En()}}function RS(i,e){return(i.values||[]).find(n=>rh(n,e))!==void 0}function R_(i,e){if(i===e)return 0;const n=vm(i),r=vm(e);if(n!==r)return ei(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ei(i.booleanValue,e.booleanValue);case 2:return function(a,o){const l=cs(a.integerValue||a.doubleValue),u=cs(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(i,e);case 3:return lV(i.timestampValue,e.timestampValue);case 4:return lV(MS(i),MS(e));case 5:return x3(i.stringValue,e.stringValue);case 6:return function(a,o){const l=ym(a),u=ym(o);return l.compareTo(u)}(i.bytesValue,e.bytesValue);case 7:return function(a,o){const l=a.split("/"),u=o.split("/");for(let f=0;f<l.length&&f<u.length;f++){const h=ei(l[f],u[f]);if(h!==0)return h}return ei(l.length,u.length)}(i.referenceValue,e.referenceValue);case 8:return function(a,o){const l=ei(cs(a.latitude),cs(o.latitude));return l!==0?l:ei(cs(a.longitude),cs(o.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return uV(i.arrayValue,e.arrayValue);case 10:return function(a,o){var l,u,f,h;const p=a.fields||{},y=o.fields||{},_=(l=p[MC])===null||l===void 0?void 0:l.arrayValue,x=(u=y[MC])===null||u===void 0?void 0:u.arrayValue,S=ei(((f=_==null?void 0:_.values)===null||f===void 0?void 0:f.length)||0,((h=x==null?void 0:x.values)===null||h===void 0?void 0:h.length)||0);return S!==0?S:uV(_,x)}(i.mapValue,e.mapValue);case 11:return function(a,o){if(a===tA.mapValue&&o===tA.mapValue)return 0;if(a===tA.mapValue)return 1;if(o===tA.mapValue)return-1;const l=a.fields||{},u=Object.keys(l),f=o.fields||{},h=Object.keys(f);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){const y=x3(u[p],h[p]);if(y!==0)return y;const _=R_(l[u[p]],f[h[p]]);if(_!==0)return _}return ei(u.length,h.length)}(i.mapValue,e.mapValue);default:throw En()}}function lV(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return ei(i,e);const n=gm(i),r=gm(e),s=ei(n.seconds,r.seconds);return s!==0?s:ei(n.nanos,r.nanos)}function uV(i,e){const n=i.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const a=R_(n[s],r[s]);if(a)return a}return ei(n.length,r.length)}function O_(i){return S3(i)}function S3(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const r=gm(n);return`time(${r.seconds},${r.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return ym(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return ln.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let r="[",s=!0;for(const a of n.values||[])s?s=!1:r+=",",r+=S3(a);return r+"]"}(i.arrayValue):"mapValue"in i?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",a=!0;for(const o of r)a?a=!1:s+=",",s+=`${o}:${S3(n.fields[o])}`;return s+"}"}(i.mapValue):En()}function ZA(i){switch(vm(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=_R(i);return e?16+ZA(e):16;case 5:return 2*i.stringValue.length;case 6:return ym(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,a)=>s+ZA(a),0)}(i.arrayValue);case 10:case 11:return function(r){let s=0;return Yy(r.fields,(a,o)=>{s+=a.length+ZA(o)}),s}(i.mapValue);default:throw En()}}function cV(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function E3(i){return!!i&&"integerValue"in i}function DU(i){return!!i&&"arrayValue"in i}function fV(i){return!!i&&"nullValue"in i}function hV(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function QA(i){return!!i&&"mapValue"in i}function x0t(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[Nq])===null||n===void 0?void 0:n.stringValue)===Lq}function z1(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Yy(i.mapValue.fields,(n,r)=>e.mapValue.fields[n]=z1(r)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=z1(i.arrayValue.values[n]);return e}return Object.assign({},i)}function S0t(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===b0t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e){this.value=e}static empty(){return new Ru({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!QA(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=z1(n)}setAll(e){let n=ya.emptyPath(),r={},s=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,s),r={},s=[],n=l.popLast()}o?r[l.lastSegment()]=z1(o):s.push(l.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,s)}delete(e){const n=this.field(e.popLast());QA(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return rh(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];QA(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Yy(n,(s,a)=>e[s]=a);for(const s of r)delete e[s]}clone(){return new Ru(z1(this.value))}}function Uq(i){const e=[];return Yy(i.fields,(n,r)=>{const s=new ya([n]);if(QA(r)){const a=Uq(r.mapValue).fields;if(a.length===0)e.push(s);else for(const o of a)e.push(s.child(o))}else e.push(s)}),new Cc(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e,n,r,s,a,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=a,this.data=o,this.documentState=l}static newInvalidDocument(e){return new ja(e,0,Pn.min(),Pn.min(),Pn.min(),Ru.empty(),0)}static newFoundDocument(e,n,r,s){return new ja(e,1,n,Pn.min(),r,s,0)}static newNoDocument(e,n){return new ja(e,2,n,Pn.min(),Pn.min(),Ru.empty(),0)}static newUnknownDocument(e,n){return new ja(e,3,n,Pn.min(),Pn.min(),Ru.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Pn.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ru.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ru.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ja&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ja(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e,n){this.position=e,this.inclusive=n}}function dV(i,e,n){let r=0;for(let s=0;s<i.position.length;s++){const a=e[s],o=i.position[s];if(a.field.isKeyField()?r=ln.comparator(ln.fromName(o.referenceValue),n.key):r=R_(o,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function pV(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!rh(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e,n="asc"){this.field=e,this.dir=n}}function E0t(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kq{}class Rs extends kq{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new w0t(e,n,r):n==="array-contains"?new C0t(e,r):n==="in"?new R0t(e,r):n==="not-in"?new O0t(e,r):n==="array-contains-any"?new I0t(e,r):new Rs(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new A0t(e,r):new M0t(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(R_(n,this.value)):n!==null&&vm(this.value)===vm(n)&&this.matchesComparison(R_(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return En()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Nc extends kq{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Nc(e,n)}matches(e){return zq(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function zq(i){return i.op==="and"}function Bq(i){return T0t(i)&&zq(i)}function T0t(i){for(const e of i.filters)if(e instanceof Nc)return!1;return!0}function T3(i){if(i instanceof Rs)return i.field.canonicalString()+i.op.toString()+O_(i.value);if(Bq(i))return i.filters.map(e=>T3(e)).join(",");{const e=i.filters.map(n=>T3(n)).join(",");return`${i.op}(${e})`}}function Fq(i,e){return i instanceof Rs?function(r,s){return s instanceof Rs&&r.op===s.op&&r.field.isEqual(s.field)&&rh(r.value,s.value)}(i,e):i instanceof Nc?function(r,s){return s instanceof Nc&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((a,o,l)=>a&&Fq(o,s.filters[l]),!0):!1}(i,e):void En()}function Vq(i){return i instanceof Rs?function(n){return`${n.field.canonicalString()} ${n.op} ${O_(n.value)}`}(i):i instanceof Nc?function(n){return n.op.toString()+" {"+n.getFilters().map(Vq).join(" ,")+"}"}(i):"Filter"}class w0t extends Rs{constructor(e,n,r){super(e,n,r),this.key=ln.fromName(r.referenceValue)}matches(e){const n=ln.comparator(e.key,this.key);return this.matchesComparison(n)}}class A0t extends Rs{constructor(e,n){super(e,"in",n),this.keys=Hq("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class M0t extends Rs{constructor(e,n){super(e,"not-in",n),this.keys=Hq("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Hq(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ln.fromName(r.referenceValue))}class C0t extends Rs{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return DU(n)&&RS(n.arrayValue,this.value)}}class R0t extends Rs{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&RS(this.value.arrayValue,n)}}class O0t extends Rs{constructor(e,n){super(e,"not-in",n)}matches(e){if(RS(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!RS(this.value.arrayValue,n)}}class I0t extends Rs{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!DU(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>RS(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0t{constructor(e,n=null,r=[],s=[],a=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=o,this.endAt=l,this.le=null}}function mV(i,e=null,n=[],r=[],s=null,a=null,o=null){return new P0t(i,e,n,r,s,a,o)}function NU(i){const e=kn(i);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>T3(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),vR(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>O_(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>O_(r)).join(",")),e.le=n}return e.le}function LU(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!E0t(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!Fq(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!pV(i.startAt,e.startAt)&&pV(i.endAt,e.endAt)}function w3(i){return ln.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(e,n=null,r=[],s=[],a=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=o,this.startAt=l,this.endAt=u,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function D0t(i,e,n,r,s,a,o,l){return new bE(i,e,n,r,s,a,o,l)}function jq(i){return new bE(i)}function gV(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function Gq(i){return i.collectionGroup!==null}function B1(i){const e=kn(i);if(e.he===null){e.he=[];const n=new Set;for(const a of e.explicitOrderBy)e.he.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Fs(ya.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(f=>{f.isInequality()&&(l=l.add(f.field))})}),l})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.he.push(new RC(a,r))}),n.has(ya.keyField().canonicalString())||e.he.push(new RC(ya.keyField(),r))}return e.he}function Kf(i){const e=kn(i);return e.Pe||(e.Pe=N0t(e,B1(i))),e.Pe}function N0t(i,e){if(i.limitType==="F")return mV(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new RC(s.field,a)});const n=i.endAt?new CC(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new CC(i.startAt.position,i.startAt.inclusive):null;return mV(i.path,i.collectionGroup,e,i.filters,i.limit,n,r)}}function A3(i,e){const n=i.filters.concat([e]);return new bE(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function M3(i,e,n){return new bE(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function bR(i,e){return LU(Kf(i),Kf(e))&&i.limitType===e.limitType}function qq(i){return`${NU(Kf(i))}|lt:${i.limitType}`}function Vv(i){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>Vq(s)).join(", ")}]`),vR(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>O_(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>O_(s)).join(",")),`Target(${r})`}(Kf(i))}; limitType=${i.limitType})`}function xR(i,e){return e.isFoundDocument()&&function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):ln.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(i,e)&&function(r,s){for(const a of B1(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(i,e)&&function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0}(i,e)&&function(r,s){return!(r.startAt&&!function(o,l,u){const f=dV(o,l,u);return o.inclusive?f<=0:f<0}(r.startAt,B1(r),s)||r.endAt&&!function(o,l,u){const f=dV(o,l,u);return o.inclusive?f>=0:f>0}(r.endAt,B1(r),s))}(i,e)}function L0t(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function $q(i){return(e,n)=>{let r=!1;for(const s of B1(i)){const a=U0t(s,e,n);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function U0t(i,e,n){const r=i.field.isKeyField()?ln.comparator(e.key,n.key):function(a,o,l){const u=o.data.field(a),f=l.data.field(a);return u!==null&&f!==null?R_(u,f):En()}(i.field,e,n);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return En()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Yy(this.inner,(n,r)=>{for(const[s,a]of r)e(s,a)})}isEmpty(){return Cq(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0t=new jr(ln.comparator);function Id(){return k0t}const Wq=new jr(ln.comparator);function p1(...i){let e=Wq;for(const n of i)e=e.insert(n.key,n);return e}function Xq(i){let e=Wq;return i.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ny(){return F1()}function Yq(){return F1()}function F1(){return new Ky(i=>i.toString(),(i,e)=>i.isEqual(e))}const z0t=new jr(ln.comparator),B0t=new Fs(ln.comparator);function ci(...i){let e=B0t;for(const n of i)e=e.add(n);return e}const F0t=new Fs(ei);function V0t(){return F0t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UU(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wC(e)?"-0":e}}function Kq(i){return{integerValue:""+i}}function H0t(i,e){return m0t(e)?Kq(e):UU(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(){this._=void 0}}function j0t(i,e,n){return i instanceof OC?function(s,a){const o={fields:{[Iq]:{stringValue:Oq},[Dq]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&PU(a)&&(a=_R(a)),a&&(o.fields[Pq]=a),{mapValue:o}}(n,e):i instanceof OS?Qq(i,e):i instanceof IS?Jq(i,e):function(s,a){const o=Zq(s,a),l=yV(o)+yV(s.Ie);return E3(o)&&E3(s.Ie)?Kq(l):UU(s.serializer,l)}(i,e)}function G0t(i,e,n){return i instanceof OS?Qq(i,e):i instanceof IS?Jq(i,e):n}function Zq(i,e){return i instanceof IC?function(r){return E3(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class OC extends SR{}class OS extends SR{constructor(e){super(),this.elements=e}}function Qq(i,e){const n=t$(e);for(const r of i.elements)n.some(s=>rh(s,r))||n.push(r);return{arrayValue:{values:n}}}class IS extends SR{constructor(e){super(),this.elements=e}}function Jq(i,e){let n=t$(e);for(const r of i.elements)n=n.filter(s=>!rh(s,r));return{arrayValue:{values:n}}}class IC extends SR{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function yV(i){return cs(i.integerValue||i.doubleValue)}function t$(i){return DU(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function q0t(i,e){return i.field.isEqual(e.field)&&function(r,s){return r instanceof OS&&s instanceof OS||r instanceof IS&&s instanceof IS?C_(r.elements,s.elements,rh):r instanceof IC&&s instanceof IC?rh(r.Ie,s.Ie):r instanceof OC&&s instanceof OC}(i.transform,e.transform)}class $0t{constructor(e,n){this.version=e,this.transformResults=n}}class vd{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new vd}static exists(e){return new vd(void 0,e)}static updateTime(e){return new vd(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function JA(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class ER{}function e$(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new i$(i.key,vd.none()):new xE(i.key,i.data,vd.none());{const n=i.data,r=Ru.empty();let s=new Fs(ya.comparator);for(let a of e.fields)if(!s.has(a)){let o=n.field(a);o===null&&a.length>1&&(a=a.popLast(),o=n.field(a)),o===null?r.delete(a):r.set(a,o),s=s.add(a)}return new Zy(i.key,r,new Cc(s.toArray()),vd.none())}}function W0t(i,e,n){i instanceof xE?function(s,a,o){const l=s.value.clone(),u=_V(s.fieldTransforms,a,o.transformResults);l.setAll(u),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(i,e,n):i instanceof Zy?function(s,a,o){if(!JA(s.precondition,a))return void a.convertToUnknownDocument(o.version);const l=_V(s.fieldTransforms,a,o.transformResults),u=a.data;u.setAll(n$(s)),u.setAll(l),a.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(i,e,n):function(s,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function V1(i,e,n,r){return i instanceof xE?function(a,o,l,u){if(!JA(a.precondition,o))return l;const f=a.value.clone(),h=bV(a.fieldTransforms,u,o);return f.setAll(h),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),null}(i,e,n,r):i instanceof Zy?function(a,o,l,u){if(!JA(a.precondition,o))return l;const f=bV(a.fieldTransforms,u,o),h=o.data;return h.setAll(n$(a)),h.setAll(f),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),l===null?null:l.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(p=>p.field))}(i,e,n,r):function(a,o,l){return JA(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(i,e,n)}function X0t(i,e){let n=null;for(const r of i.fieldTransforms){const s=e.data.field(r.field),a=Zq(r.transform,s||null);a!=null&&(n===null&&(n=Ru.empty()),n.set(r.field,a))}return n||null}function vV(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&C_(r,s,(a,o)=>q0t(a,o))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class xE extends ER{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Zy extends ER{constructor(e,n,r,s,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function n$(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=i.data.field(n);e.set(n,r)}}),e}function _V(i,e,n){const r=new Map;Bi(i.length===n.length);for(let s=0;s<n.length;s++){const a=i[s],o=a.transform,l=e.data.field(a.field);r.set(a.field,G0t(o,l,n[s]))}return r}function bV(i,e,n){const r=new Map;for(const s of i){const a=s.transform,o=n.data.field(s.field);r.set(s.field,j0t(a,o,e))}return r}class i$ extends ER{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Y0t extends ER{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0t{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&W0t(a,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=V1(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=V1(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Yq();return this.mutations.forEach(s=>{const a=e.get(s.key),o=a.overlayedDocument;let l=this.applyToLocalView(o,a.mutatedFields);l=n.has(s.key)?null:l;const u=e$(o,l);u!==null&&r.set(s.key,u),o.isValidDocument()||o.convertToNoDocument(Pn.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ci())}isEqual(e){return this.batchId===e.batchId&&C_(this.mutations,e.mutations,(n,r)=>vV(n,r))&&C_(this.baseMutations,e.baseMutations,(n,r)=>vV(n,r))}}class kU{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Bi(e.mutations.length===r.length);let s=function(){return z0t}();const a=e.mutations;for(let o=0;o<a.length;o++)s=s.insert(a[o].key,r[o].version);return new kU(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0t{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0t{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ws,bi;function J0t(i){switch(i){case me.OK:return En();case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0;default:return En()}}function r$(i){if(i===void 0)return Od("GRPC error has no .code"),me.UNKNOWN;switch(i){case ws.OK:return me.OK;case ws.CANCELLED:return me.CANCELLED;case ws.UNKNOWN:return me.UNKNOWN;case ws.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case ws.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case ws.INTERNAL:return me.INTERNAL;case ws.UNAVAILABLE:return me.UNAVAILABLE;case ws.UNAUTHENTICATED:return me.UNAUTHENTICATED;case ws.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case ws.NOT_FOUND:return me.NOT_FOUND;case ws.ALREADY_EXISTS:return me.ALREADY_EXISTS;case ws.PERMISSION_DENIED:return me.PERMISSION_DENIED;case ws.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case ws.ABORTED:return me.ABORTED;case ws.OUT_OF_RANGE:return me.OUT_OF_RANGE;case ws.UNIMPLEMENTED:return me.UNIMPLEMENTED;case ws.DATA_LOSS:return me.DATA_LOSS;default:return En()}}(bi=ws||(ws={}))[bi.OK=0]="OK",bi[bi.CANCELLED=1]="CANCELLED",bi[bi.UNKNOWN=2]="UNKNOWN",bi[bi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",bi[bi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",bi[bi.NOT_FOUND=5]="NOT_FOUND",bi[bi.ALREADY_EXISTS=6]="ALREADY_EXISTS",bi[bi.PERMISSION_DENIED=7]="PERMISSION_DENIED",bi[bi.UNAUTHENTICATED=16]="UNAUTHENTICATED",bi[bi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",bi[bi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",bi[bi.ABORTED=10]="ABORTED",bi[bi.OUT_OF_RANGE=11]="OUT_OF_RANGE",bi[bi.UNIMPLEMENTED=12]="UNIMPLEMENTED",bi[bi.INTERNAL=13]="INTERNAL",bi[bi.UNAVAILABLE=14]="UNAVAILABLE",bi[bi.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tvt=new sm([4294967295,4294967295],0);function xV(i){const e=wq().encode(i),n=new vq;return n.update(e),new Uint8Array(n.digest())}function SV(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new sm([n,r],0),new sm([s,a],0)]}class zU{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new m1(`Invalid padding: ${n}`);if(r<0)throw new m1(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new m1(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new m1(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=sm.fromNumber(this.Ee)}Ae(e,n,r){let s=e.add(n.multiply(sm.fromNumber(r)));return s.compare(tvt)===1&&(s=new sm([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=xV(e),[r,s]=SV(n);for(let a=0;a<this.hashCount;a++){const o=this.Ae(r,s,a);if(!this.Re(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new zU(a,s,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Ee===0)return;const n=xV(e),[r,s]=SV(n);for(let a=0;a<this.hashCount;a++){const o=this.Ae(r,s,a);this.Ve(o)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class m1 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e,n,r,s,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,SE.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new TR(Pn.min(),s,new jr(ei),Id(),ci())}}class SE{constructor(e,n,r,s,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new SE(r,n,ci(),ci(),ci())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(e,n,r,s){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=s}}class s${constructor(e,n){this.targetId=e,this.ge=n}}class a${constructor(e,n,r=Sa.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class EV{constructor(){this.pe=0,this.ye=TV(),this.we=Sa.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=ci(),n=ci(),r=ci();return this.ye.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:En()}}),new SE(this.we,this.Se,e,n,r)}Me(){this.be=!1,this.ye=TV()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Bi(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class evt{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Id(),this.$e=eA(),this.Ue=eA(),this.Ke=new jr(ei)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:En()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,s)=>{this.Je(s)&&n(s)})}Ze(e){const n=e.targetId,r=e.ge.count,s=this.Xe(n);if(s){const a=s.target;if(w3(a))if(r===0){const o=new ln(a.path);this.ze(n,o,ja.newNoDocument(o,Pn.min()))}else Bi(r===1);else{const o=this.et(n);if(o!==r){const l=this.tt(e),u=l?this.nt(l,e,o):1;if(u!==0){this.Ye(n);const f=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,f)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=n;let o,l;try{o=ym(r).toUint8Array()}catch(u){if(u instanceof Rq)return M_("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new zU(o,s,a)}catch(u){return M_(u instanceof m1?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.Ee===0?null:l}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.ke.getRemoteKeysForTarget(n);let s=0;return r.forEach(a=>{const o=this.ke.it(),l=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(l)||(this.ze(n,a,null),s++)}),s}ot(e){const n=new Map;this.qe.forEach((a,o)=>{const l=this.Xe(o);if(l){if(a.current&&w3(l.target)){const u=new ln(l.target.path);this._t(u).has(o)||this.ut(o,u)||this.ze(o,u,ja.newNoDocument(u,e))}a.ve&&(n.set(o,a.Fe()),a.Me())}});let r=ci();this.Ue.forEach((a,o)=>{let l=!0;o.forEachWhile(u=>{const f=this.Xe(u);return!f||f.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(a))}),this.Qe.forEach((a,o)=>o.setReadTime(e));const s=new TR(e,n,this.Ke,this.Qe,r);return this.Qe=Id(),this.$e=eA(),this.Ue=eA(),this.Ke=new jr(ei),s}Ge(e,n){if(!this.Je(e))return;const r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const s=this.He(e);this.ut(e,n)?s.xe(n,1):s.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new EV,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new Fs(ei),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Fs(ei),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||je("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new EV),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function eA(){return new jr(ln.comparator)}function TV(){return new jr(ln.comparator)}const nvt={asc:"ASCENDING",desc:"DESCENDING"},ivt={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rvt={and:"AND",or:"OR"};class svt{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function C3(i,e){return i.useProto3Json||vR(e)?e:{value:e}}function PC(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function o$(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function avt(i,e){return PC(i,e.toTimestamp())}function Zf(i){return Bi(!!i),Pn.fromTimestamp(function(n){const r=gm(n);return new Bs(r.seconds,r.nanos)}(i))}function BU(i,e){return R3(i,e).canonicalString()}function R3(i,e){const n=function(s){return new vr(["projects",s.projectId,"databases",s.database])}(i).child("documents");return e===void 0?n:n.child(e)}function l$(i){const e=vr.fromString(i);return Bi(d$(e)),e}function O3(i,e){return BU(i.databaseId,e.path)}function AP(i,e){const n=l$(e);if(n.get(1)!==i.databaseId.projectId)throw new $e(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new $e(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ln(c$(n))}function u$(i,e){return BU(i.databaseId,e)}function ovt(i){const e=l$(i);return e.length===4?vr.emptyPath():c$(e)}function I3(i){return new vr(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function c$(i){return Bi(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function wV(i,e,n){return{name:O3(i,e),fields:n.value.mapValue.fields}}function lvt(i,e){let n;if("targetChange"in e){e.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:En()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(f,h){return f.useProto3Json?(Bi(h===void 0||typeof h=="string"),Sa.fromBase64String(h||"")):(Bi(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Sa.fromUint8Array(h||new Uint8Array))}(i,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(f){const h=f.code===void 0?me.UNKNOWN:r$(f.code);return new $e(h,f.message||"")}(o);n=new a$(r,s,a,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=AP(i,r.document.name),a=Zf(r.document.updateTime),o=r.document.createTime?Zf(r.document.createTime):Pn.min(),l=new Ru({mapValue:{fields:r.document.fields}}),u=ja.newFoundDocument(s,a,o,l),f=r.targetIds||[],h=r.removedTargetIds||[];n=new tM(f,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=AP(i,r.document),a=r.readTime?Zf(r.readTime):Pn.min(),o=ja.newNoDocument(s,a),l=r.removedTargetIds||[];n=new tM([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=AP(i,r.document),a=r.removedTargetIds||[];n=new tM([],a,s,null)}else{if(!("filter"in e))return En();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,o=new Q0t(s,a),l=r.targetId;n=new s$(l,o)}}return n}function uvt(i,e){let n;if(e instanceof xE)n={update:wV(i,e.key,e.value)};else if(e instanceof i$)n={delete:O3(i,e.key)};else if(e instanceof Zy)n={update:wV(i,e.key,e.data),updateMask:vvt(e.fieldMask)};else{if(!(e instanceof Y0t))return En();n={verify:O3(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,o){const l=o.transform;if(l instanceof OC)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof OS)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof IS)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof IC)return{fieldPath:o.field.canonicalString(),increment:l.Ie};throw En()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:avt(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:En()}(i,e.precondition)),n}function cvt(i,e){return i&&i.length>0?(Bi(e!==void 0),i.map(n=>function(s,a){let o=s.updateTime?Zf(s.updateTime):Zf(a);return o.isEqual(Pn.min())&&(o=Zf(a)),new $0t(o,s.transformResults||[])}(n,e))):[]}function fvt(i,e){return{documents:[u$(i,e.path)]}}function hvt(i,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=u$(i,s);const a=function(f){if(f.length!==0)return h$(Nc.create(f,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const o=function(f){if(f.length!==0)return f.map(h=>function(y){return{field:Hv(y.field),direction:mvt(y.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=C3(i,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{ht:n,parent:s}}function dvt(i){let e=ovt(i.parent);const n=i.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Bi(r===1);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let a=[];n.where&&(a=function(p){const y=f$(p);return y instanceof Nc&&Bq(y)?y.getFilters():[y]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(y=>function(x){return new RC(jv(x.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(y))}(n.orderBy));let l=null;n.limit&&(l=function(p){let y;return y=typeof p=="object"?p.value:p,vR(y)?null:y}(n.limit));let u=null;n.startAt&&(u=function(p){const y=!!p.before,_=p.values||[];return new CC(_,y)}(n.startAt));let f=null;return n.endAt&&(f=function(p){const y=!p.before,_=p.values||[];return new CC(_,y)}(n.endAt)),D0t(e,s,o,a,l,"F",u,f)}function pvt(i,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return En()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function f$(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=jv(n.unaryFilter.field);return Rs.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=jv(n.unaryFilter.field);return Rs.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=jv(n.unaryFilter.field);return Rs.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=jv(n.unaryFilter.field);return Rs.create(o,"!=",{nullValue:"NULL_VALUE"});default:return En()}}(i):i.fieldFilter!==void 0?function(n){return Rs.create(jv(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return En()}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Nc.create(n.compositeFilter.filters.map(r=>f$(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return En()}}(n.compositeFilter.op))}(i):En()}function mvt(i){return nvt[i]}function gvt(i){return ivt[i]}function yvt(i){return rvt[i]}function Hv(i){return{fieldPath:i.canonicalString()}}function jv(i){return ya.fromServerFormat(i.fieldPath)}function h$(i){return i instanceof Rs?function(n){if(n.op==="=="){if(hV(n.value))return{unaryFilter:{field:Hv(n.field),op:"IS_NAN"}};if(fV(n.value))return{unaryFilter:{field:Hv(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(hV(n.value))return{unaryFilter:{field:Hv(n.field),op:"IS_NOT_NAN"}};if(fV(n.value))return{unaryFilter:{field:Hv(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hv(n.field),op:gvt(n.op),value:n.value}}}(i):i instanceof Nc?function(n){const r=n.getFilters().map(s=>h$(s));return r.length===1?r[0]:{compositeFilter:{op:yvt(n.op),filters:r}}}(i):En()}function vvt(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function d$(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e,n,r,s,a=Pn.min(),o=Pn.min(),l=Sa.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new Zp(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Zp(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _vt{constructor(e){this.Tt=e}}function bvt(i){const e=dvt({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?M3(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xvt{constructor(){this.Tn=new Svt}addToCollectionParentIndex(e,n){return this.Tn.add(n),he.resolve()}getCollectionParents(e,n){return he.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return he.resolve()}deleteFieldIndex(e,n){return he.resolve()}deleteAllFieldIndexes(e){return he.resolve()}createTargetIndexes(e,n){return he.resolve()}getDocumentsMatchingTarget(e,n){return he.resolve(null)}getIndexType(e,n){return he.resolve(0)}getFieldIndexes(e,n){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,n){return he.resolve(mm.min())}getMinOffsetFromCollectionGroup(e,n){return he.resolve(mm.min())}updateCollectionGroup(e,n,r){return he.resolve()}updateIndexEntries(e,n){return he.resolve()}}class Svt{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Fs(vr.comparator),a=!s.has(r);return this.index[n]=s.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Fs(vr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AV={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},p$=41943040;class nl{static withCacheSize(e){return new nl(e,nl.DEFAULT_COLLECTION_PERCENTILE,nl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nl.DEFAULT_COLLECTION_PERCENTILE=10,nl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nl.DEFAULT=new nl(p$,nl.DEFAULT_COLLECTION_PERCENTILE,nl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nl.DISABLED=new nl(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new I_(0)}static Kn(){return new I_(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MV="LruGarbageCollector",Evt=1048576;function CV([i,e],[n,r]){const s=ei(i,n);return s===0?ei(e,r):s}class Tvt{constructor(e){this.Hn=e,this.buffer=new Fs(CV),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();CV(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class wvt{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){je(MV,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ob(n)?je(MV,"Ignoring IndexedDB error during garbage collection: ",n):await ab(n)}await this.er(3e5)})}}class Avt{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return he.resolve(yR.ae);const r=new Tvt(n);return this.tr.forEachTarget(e,s=>r.Zn(s.sequenceNumber)).next(()=>this.tr.rr(e,s=>r.Zn(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(je("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(AV)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(je("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),AV):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,s,a,o,l,u,f;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(je("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),s=this.params.maximumSequenceNumbersToCollect):s=p,o=Date.now(),this.nthSequenceNumber(e,s))).next(p=>(r=p,l=Date.now(),this.removeTargets(e,r,n))).next(p=>(a=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(f=Date.now(),Fv()<=ui.DEBUG&&je("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(l-o)+`ms
	Removed ${a} targets in `+(u-l)+`ms
	Removed ${p} documents in `+(f-u)+`ms
Total Duration: ${f-h}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:p})))}}function Mvt(i,e){return new Avt(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cvt{constructor(){this.changes=new Ky(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ja.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?he.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rvt{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ovt{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&V1(r.mutation,s,Cc.empty(),Bs.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ci()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ci()){const s=ny();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(a=>{let o=p1();return a.forEach((l,u)=>{o=o.insert(l,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ny();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ci()))}populateOverlays(e,n,r){const s=[];return r.forEach(a=>{n.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,s){let a=Id();const o=F1(),l=function(){return F1()}();return n.forEach((u,f)=>{const h=r.get(f.key);s.has(f.key)&&(h===void 0||h.mutation instanceof Zy)?a=a.insert(f.key,f):h!==void 0?(o.set(f.key,h.mutation.getFieldMask()),V1(h.mutation,f,h.mutation.getFieldMask(),Bs.now())):o.set(f.key,Cc.empty())}),this.recalculateAndSaveOverlays(e,a).next(u=>(u.forEach((f,h)=>o.set(f,h)),n.forEach((f,h)=>{var p;return l.set(f,new Rvt(h,(p=o.get(f))!==null&&p!==void 0?p:null))}),l))}recalculateAndSaveOverlays(e,n){const r=F1();let s=new jr((o,l)=>o-l),a=ci();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(u=>{const f=n.get(u);if(f===null)return;let h=r.get(u)||Cc.empty();h=l.applyToLocalView(f,h),r.set(u,h);const p=(s.get(l.batchId)||ci()).add(u);s=s.insert(l.batchId,p)})}).next(()=>{const o=[],l=s.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),f=u.key,h=u.value,p=Yq();h.forEach(y=>{if(!a.has(y)){const _=e$(n.get(y),r.get(y));_!==null&&p.set(y,_),a=a.add(y)}}),o.push(this.documentOverlayCache.saveOverlays(e,f,p))}return he.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ln.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Gq(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(a=>{const o=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-a.size):he.resolve(ny());let l=AS,u=a;return o.next(f=>he.forEach(f,(h,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),a.get(h)?he.resolve():this.remoteDocumentCache.getEntry(e,h).next(y=>{u=u.insert(h,y)}))).next(()=>this.populateOverlays(e,f,a)).next(()=>this.computeViews(e,u,f,ci())).next(h=>({batchId:l,changes:Xq(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ln(n)).next(r=>{let s=p1();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const a=n.collectionGroup;let o=p1();return this.indexManager.getCollectionParents(e,a).next(l=>he.forEach(l,u=>{const f=function(p,y){return new bE(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(a));return this.getDocumentsMatchingCollectionQuery(e,f,r,s).next(h=>{h.forEach((p,y)=>{o=o.insert(p,y)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,s))).next(o=>{a.forEach((u,f)=>{const h=f.getKey();o.get(h)===null&&(o=o.insert(h,ja.newInvalidDocument(h)))});let l=p1();return o.forEach((u,f)=>{const h=a.get(u);h!==void 0&&V1(h.mutation,f,Cc.empty(),Bs.now()),xR(n,f)&&(l=l.insert(u,f))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ivt{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return he.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Zf(s.createTime)}}(n)),he.resolve()}getNamedQuery(e,n){return he.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(s){return{name:s.name,query:bvt(s.bundledQuery),readTime:Zf(s.readTime)}}(n)),he.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pvt{constructor(){this.overlays=new jr(ln.comparator),this.Rr=new Map}getOverlay(e,n){return he.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ny();return he.forEach(n,s=>this.getOverlay(e,s).next(a=>{a!==null&&r.set(s,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,a)=>{this.Et(e,n,a)}),he.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Rr.get(r);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.Rr.delete(r)),he.resolve()}getOverlaysForCollection(e,n,r){const s=ny(),a=n.length+1,o=new ln(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,f=u.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===a&&u.largestBatchId>r&&s.set(u.getKey(),u)}return he.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let a=new jr((f,h)=>f-h);const o=this.overlays.getIterator();for(;o.hasNext();){const f=o.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let h=a.get(f.largestBatchId);h===null&&(h=ny(),a=a.insert(f.largestBatchId,h)),h.set(f.getKey(),f)}}const l=ny(),u=a.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((f,h)=>l.set(f,h)),!(l.size()>=s)););return he.resolve(l)}Et(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Rr.get(s.largestBatchId).delete(r.key);this.Rr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Z0t(n,r));let a=this.Rr.get(n);a===void 0&&(a=ci(),this.Rr.set(n,a)),this.Rr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dvt{constructor(){this.sessionToken=Sa.EMPTY_BYTE_STRING}getSessionToken(e){return he.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,he.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FU{constructor(){this.Vr=new Fs(Zs.mr),this.gr=new Fs(Zs.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const r=new Zs(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new Zs(e,n))}Sr(e,n){e.forEach(r=>this.removeReference(r,n))}br(e){const n=new ln(new vr([])),r=new Zs(n,e),s=new Zs(n,e+1),a=[];return this.gr.forEachInRange([r,s],o=>{this.wr(o),a.push(o.key)}),a}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new ln(new vr([])),r=new Zs(n,e),s=new Zs(n,e+1);let a=ci();return this.gr.forEachInRange([r,s],o=>{a=a.add(o.key)}),a}containsKey(e){const n=new Zs(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Zs{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return ln.comparator(e.key,n.key)||ei(e.Cr,n.Cr)}static pr(e,n){return ei(e.Cr,n.Cr)||ln.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nvt{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Fs(Zs.mr)}checkEmpty(e){return he.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const a=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new K0t(a,n,r,s);this.mutationQueue.push(o);for(const l of s)this.Mr=this.Mr.add(new Zs(l.key,a)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return he.resolve(o)}lookupMutationBatch(e,n){return he.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Nr(r),a=s<0?0:s;return he.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(this.mutationQueue.length===0?IU:this.Fr-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Zs(n,0),s=new Zs(n,Number.POSITIVE_INFINITY),a=[];return this.Mr.forEachInRange([r,s],o=>{const l=this.Or(o.Cr);a.push(l)}),he.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Fs(ei);return n.forEach(s=>{const a=new Zs(s,0),o=new Zs(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([a,o],l=>{r=r.add(l.Cr)})}),he.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let a=r;ln.isDocumentKey(a)||(a=a.child(""));const o=new Zs(new ln(a),0);let l=new Fs(ei);return this.Mr.forEachWhile(u=>{const f=u.key.path;return!!r.isPrefixOf(f)&&(f.length===s&&(l=l.add(u.Cr)),!0)},o),he.resolve(this.Br(l))}Br(e){const n=[];return e.forEach(r=>{const s=this.Or(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Bi(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return he.forEach(n.mutations,s=>{const a=new Zs(s.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){const r=new Zs(n,0),s=this.Mr.firstAfterOrEqual(r);return he.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,he.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lvt{constructor(e){this.kr=e,this.docs=function(){return new jr(ln.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),a=s?s.size:0,o=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return he.resolve(r?r.document.mutableCopy():ja.newInvalidDocument(n))}getEntries(e,n){let r=Id();return n.forEach(s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():ja.newInvalidDocument(s))}),he.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let a=Id();const o=n.path,l=new ln(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:f,value:{document:h}}=u.getNext();if(!o.isPrefixOf(f.path))break;f.path.length>o.length+1||f0t(c0t(h),r)<=0||(s.has(h.key)||xR(n,h))&&(a=a.insert(h.key,h.mutableCopy()))}return he.resolve(a)}getAllFromCollectionGroup(e,n,r,s){En()}qr(e,n){return he.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Uvt(this)}getSize(e){return he.resolve(this.size)}}class Uvt extends Cvt{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Ir.addEntry(e,s)):this.Ir.removeEntry(r)}),he.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kvt{constructor(e){this.persistence=e,this.Qr=new Ky(n=>NU(n),LU),this.lastRemoteSnapshotVersion=Pn.min(),this.highestTargetId=0,this.$r=0,this.Ur=new FU,this.targetCount=0,this.Kr=I_.Un()}forEachTarget(e,n){return this.Qr.forEach((r,s)=>n(s)),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),he.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new I_(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,he.resolve()}updateTargetData(e,n){return this.zn(n),he.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,n,r){let s=0;const a=[];return this.Qr.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Qr.delete(o),a.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),he.waitFor(a).next(()=>s)}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,n){const r=this.Qr.get(n)||null;return he.resolve(r)}addMatchingKeys(e,n,r){return this.Ur.yr(n,r),he.resolve()}removeMatchingKeys(e,n,r){this.Ur.Sr(n,r);const s=this.persistence.referenceDelegate,a=[];return s&&n.forEach(o=>{a.push(s.markPotentiallyOrphaned(e,o))}),he.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),he.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ur.vr(n);return he.resolve(r)}containsKey(e,n){return he.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m${constructor(e,n){this.Wr={},this.overlays={},this.Gr=new yR(0),this.zr=!1,this.zr=!0,this.jr=new Dvt,this.referenceDelegate=e(this),this.Hr=new kvt(this),this.indexManager=new xvt,this.remoteDocumentCache=function(s){return new Lvt(s)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new _vt(n),this.Yr=new Ivt(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Pvt,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new Nvt(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){je("MemoryPersistence","Starting transaction:",e);const s=new zvt(this.Gr.next());return this.referenceDelegate.Zr(),r(s).next(a=>this.referenceDelegate.Xr(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}ei(e,n){return he.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}}class zvt extends d0t{constructor(e){super(),this.currentSequenceNumber=e}}class VU{constructor(e){this.persistence=e,this.ti=new FU,this.ni=null}static ri(e){return new VU(e)}get ii(){if(this.ni)return this.ni;throw En()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),he.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),he.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),he.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(s=>this.ii.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(a=>this.ii.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.ii,r=>{const s=ln.fromPath(r);return this.si(e,s).next(a=>{a||n.removeEntry(s,Pn.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return he.or([()=>he.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class DC{constructor(e,n){this.persistence=e,this.oi=new Ky(r=>g0t(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=Mvt(this,n)}static ri(e,n){return new DC(e,n)}Zr(){}Xr(e){return he.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return he.forEach(this.oi,(r,s)=>this.ar(e,r,s).next(a=>a?he.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.qr(e,o=>this.ar(e,o,n).next(l=>{l||(r++,a.removeEntry(o,Pn.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),he.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),he.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),he.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),he.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ZA(e.data.value)),n}ar(e,n,r){return he.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.oi.get(n);return he.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=s}static Yi(e,n){let r=ci(),s=ci();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new HU(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bvt{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fvt{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return Dpt()?8:p0t(Ka())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,s){const a={result:null};return this.rs(e,n).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.ss(e,n,s,r).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new Bvt;return this._s(e,n,o).next(l=>{if(a.result=l,this.Xi)return this.us(e,n,o,l.size)})}).next(()=>a.result)}us(e,n,r,s){return r.documentReadCount<this.es?(Fv()<=ui.DEBUG&&je("QueryEngine","SDK will not create cache indexes for query:",Vv(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),he.resolve()):(Fv()<=ui.DEBUG&&je("QueryEngine","Query:",Vv(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ts*s?(Fv()<=ui.DEBUG&&je("QueryEngine","The SDK decides to create cache indexes for query:",Vv(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Kf(n))):he.resolve())}rs(e,n){if(gV(n))return he.resolve(null);let r=Kf(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=M3(n,null,"F"),r=Kf(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const o=ci(...a);return this.ns.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const f=this.cs(n,l);return this.ls(n,f,o,u.readTime)?this.rs(e,M3(n,null,"F")):this.hs(e,f,n,u)}))})))}ss(e,n,r,s){return gV(n)||s.isEqual(Pn.min())?he.resolve(null):this.ns.getDocuments(e,r).next(a=>{const o=this.cs(n,a);return this.ls(n,o,r,s)?he.resolve(null):(Fv()<=ui.DEBUG&&je("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Vv(n)),this.hs(e,o,n,u0t(s,AS)).next(l=>l))})}cs(e,n){let r=new Fs($q(e));return n.forEach((s,a)=>{xR(e,a)&&(r=r.add(a))}),r}ls(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}_s(e,n,r){return Fv()<=ui.DEBUG&&je("QueryEngine","Using full collection scan to execute query:",Vv(n)),this.ns.getDocumentsMatchingQuery(e,n,mm.min(),r)}hs(e,n,r,s){return this.ns.getDocumentsMatchingQuery(e,r,s).next(a=>(n.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jU="LocalStore",Vvt=3e8;class Hvt{constructor(e,n,r,s){this.persistence=e,this.Ps=n,this.serializer=s,this.Ts=new jr(ei),this.Is=new Ky(a=>NU(a),LU),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ovt(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function jvt(i,e,n,r){return new Hvt(i,e,n,r)}async function g$(i,e){const n=kn(i);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(a=>(s=a,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const o=[],l=[];let u=ci();for(const f of s){o.push(f.batchId);for(const h of f.mutations)u=u.add(h.key)}for(const f of a){l.push(f.batchId);for(const h of f.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(f=>({Rs:f,removedBatchIds:o,addedBatchIds:l}))})})}function Gvt(i,e){const n=kn(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),a=n.ds.newChangeBuffer({trackRemovals:!0});return function(l,u,f,h){const p=f.batch,y=p.keys();let _=he.resolve();return y.forEach(x=>{_=_.next(()=>h.getEntry(u,x)).next(S=>{const E=f.docVersions.get(x);Bi(E!==null),S.version.compareTo(E)<0&&(p.applyToRemoteDocument(S,f),S.isValidDocument()&&(S.setReadTime(f.commitVersion),h.addEntry(S)))})}),_.next(()=>l.mutationQueue.removeMutationBatch(u,p))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=ci();for(let f=0;f<l.mutationResults.length;++f)l.mutationResults[f].transformResults.length>0&&(u=u.add(l.batch.mutations[f].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function y$(i){const e=kn(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function qvt(i,e){const n=kn(i),r=e.snapshotVersion;let s=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=n.ds.newChangeBuffer({trackRemovals:!0});s=n.Ts;const l=[];e.targetChanges.forEach((h,p)=>{const y=s.get(p);if(!y)return;l.push(n.Hr.removeMatchingKeys(a,h.removedDocuments,p).next(()=>n.Hr.addMatchingKeys(a,h.addedDocuments,p)));let _=y.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(p)!==null?_=_.withResumeToken(Sa.EMPTY_BYTE_STRING,Pn.min()).withLastLimboFreeSnapshotVersion(Pn.min()):h.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(h.resumeToken,r)),s=s.insert(p,_),function(S,E,b){return S.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=Vvt?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(y,_,h)&&l.push(n.Hr.updateTargetData(a,_))});let u=Id(),f=ci();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(a,h))}),l.push($vt(a,o,e.documentUpdates).next(h=>{u=h.Vs,f=h.fs})),!r.isEqual(Pn.min())){const h=n.Hr.getLastRemoteSnapshotVersion(a).next(p=>n.Hr.setTargetsMetadata(a,a.currentSequenceNumber,r));l.push(h)}return he.waitFor(l).next(()=>o.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,u,f)).next(()=>u)}).then(a=>(n.Ts=s,a))}function $vt(i,e,n){let r=ci(),s=ci();return n.forEach(a=>r=r.add(a)),e.getEntries(i,r).next(a=>{let o=Id();return n.forEach((l,u)=>{const f=a.get(l);u.isFoundDocument()!==f.isFoundDocument()&&(s=s.add(l)),u.isNoDocument()&&u.version.isEqual(Pn.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!f.isValidDocument()||u.version.compareTo(f.version)>0||u.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):je(jU,"Ignoring outdated watch update for ",l,". Current version:",f.version," Watch version:",u.version)}),{Vs:o,fs:s}})}function Wvt(i,e){const n=kn(i);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=IU),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Xvt(i,e){const n=kn(i);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Hr.getTargetData(r,e).next(a=>a?(s=a,he.resolve(s)):n.Hr.allocateTargetId(r).next(o=>(s=new Zp(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ts.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}async function P3(i,e,n){const r=kn(i),s=r.Ts.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!ob(o))throw o;je(jU,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ts=r.Ts.remove(e),r.Is.delete(s.target)}function RV(i,e,n){const r=kn(i);let s=Pn.min(),a=ci();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,f,h){const p=kn(u),y=p.Is.get(h);return y!==void 0?he.resolve(p.Ts.get(y)):p.Hr.getTargetData(f,h)}(r,o,Kf(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(o,l.targetId).next(u=>{a=u})}).next(()=>r.Ps.getDocumentsMatchingQuery(o,e,n?s:Pn.min(),n?a:ci())).next(l=>(Yvt(r,L0t(e),l),{documents:l,gs:a})))}function Yvt(i,e,n){let r=i.Es.get(e)||Pn.min();n.forEach((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),i.Es.set(e,r)}class OV{constructor(){this.activeTargetIds=V0t()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Kvt{constructor(){this.ho=new OV,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new OV,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zvt{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IV="ConnectivityMonitor";class PV{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){je(IV,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){je(IV,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nA=null;function D3(){return nA===null?nA=function(){return 268435456+Math.round(2147483648*Math.random())}():nA++,"0x"+nA.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MP="RestConnection",Qvt={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Jvt{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${s}`,this.wo=this.databaseId.database===AC?`project_id=${r}`:`project_id=${r}&database_id=${s}`}So(e,n,r,s,a){const o=D3(),l=this.bo(e,n.toUriEncodedString());je(MP,`Sending RPC '${e}' ${o}:`,l,r);const u={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(u,s,a),this.vo(e,l,u,r).then(f=>(je(MP,`Received RPC '${e}' ${o}: `,f),f),f=>{throw M_(MP,`RPC '${e}' ${o} failed with error: `,f,"url: ",l,"request:",r),f})}Co(e,n,r,s,a,o){return this.So(e,n,r,s,a)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+sb}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,a)=>e[a]=s),r&&r.headers.forEach((s,a)=>e[a]=s)}bo(e,n){const r=Qvt[e];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_t{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za="WebChannelConnection";class e_t extends Jvt{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,s){const a=D3();return new Promise((o,l)=>{const u=new _q;u.setWithCredentials(!0),u.listenOnce(bq.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case KA.NO_ERROR:const h=u.getResponseJson();je(za,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(h)),o(h);break;case KA.TIMEOUT:je(za,`RPC '${e}' ${a} timed out`),l(new $e(me.DEADLINE_EXCEEDED,"Request time out"));break;case KA.HTTP_ERROR:const p=u.getStatus();if(je(za,`RPC '${e}' ${a} failed with status:`,p,"response text:",u.getResponseText()),p>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);const _=y==null?void 0:y.error;if(_&&_.status&&_.message){const x=function(E){const b=E.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(b)>=0?b:me.UNKNOWN}(_.status);l(new $e(x,_.message))}else l(new $e(me.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new $e(me.UNAVAILABLE,"Connection failed."));break;default:En()}}finally{je(za,`RPC '${e}' ${a} completed.`)}});const f=JSON.stringify(s);je(za,`RPC '${e}' ${a} sending request:`,s),u.send(n,"POST",f,r,15)})}Wo(e,n,r){const s=D3(),a=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Eq(),l=Sq(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(u.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Do(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const h=a.join("");je(za,`Creating RPC '${e}' stream ${s}: ${h}`,u);const p=o.createWebChannel(h,u);let y=!1,_=!1;const x=new t_t({Fo:E=>{_?je(za,`Not sending because RPC '${e}' stream ${s} is closed:`,E):(y||(je(za,`Opening RPC '${e}' stream ${s} transport.`),p.open(),y=!0),je(za,`RPC '${e}' stream ${s} sending:`,E),p.send(E))},Mo:()=>p.close()}),S=(E,b,A)=>{E.listen(b,C=>{try{A(C)}catch(M){setTimeout(()=>{throw M},0)}})};return S(p,d1.EventType.OPEN,()=>{_||(je(za,`RPC '${e}' stream ${s} transport opened.`),x.Qo())}),S(p,d1.EventType.CLOSE,()=>{_||(_=!0,je(za,`RPC '${e}' stream ${s} transport closed`),x.Uo())}),S(p,d1.EventType.ERROR,E=>{_||(_=!0,M_(za,`RPC '${e}' stream ${s} transport errored:`,E),x.Uo(new $e(me.UNAVAILABLE,"The operation could not be completed")))}),S(p,d1.EventType.MESSAGE,E=>{var b;if(!_){const A=E.data[0];Bi(!!A);const C=A,M=(C==null?void 0:C.error)||((b=C[0])===null||b===void 0?void 0:b.error);if(M){je(za,`RPC '${e}' stream ${s} received error:`,M);const I=M.status;let k=function(U){const O=ws[U];if(O!==void 0)return r$(O)}(I),N=M.message;k===void 0&&(k=me.INTERNAL,N="Unknown error status: "+I+" with message "+M.message),_=!0,x.Uo(new $e(k,N)),p.close()}else je(za,`RPC '${e}' stream ${s} received:`,A),x.Ko(A)}}),S(l,xq.STAT_EVENT,E=>{E.stat===b3.PROXY?je(za,`RPC '${e}' stream ${s} detected buffering proxy`):E.stat===b3.NOPROXY&&je(za,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{x.$o()},0),x}}function CP(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(i){return new svt(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v${constructor(e,n,r=1e3,s=1.5,a=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=s,this.jo=a,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),s=Math.max(0,n-r);s>0&&je("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DV="PersistentStream";class _${constructor(e,n,r,s,a,o,l,u){this.Ti=e,this.n_=r,this.r_=s,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new v$(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===me.RESOURCE_EXHAUSTED?(Od(n.toString()),Od("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===me.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.i_===n&&this.V_(r,s)},r=>{e(()=>{const s=new $e(me.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(s)})})}V_(e,n){const r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(s=>{r(()=>this.m_(s))}),this.stream.onMessage(s=>{r(()=>++this.__==1?this.g_(s):this.onNext(s))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return je(DV,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(je(DV,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class n_t extends _${constructor(e,n,r,s,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=a}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=lvt(this.serializer,e),r=function(a){if(!("targetChange"in a))return Pn.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?Pn.min():o.readTime?Zf(o.readTime):Pn.min()}(e);return this.listener.p_(n,r)}y_(e){const n={};n.database=I3(this.serializer),n.addTarget=function(a,o){let l;const u=o.target;if(l=w3(u)?{documents:fvt(a,u)}:{query:hvt(a,u).ht},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=o$(a,o.resumeToken);const f=C3(a,o.expectedCount);f!==null&&(l.expectedCount=f)}else if(o.snapshotVersion.compareTo(Pn.min())>0){l.readTime=PC(a,o.snapshotVersion.toTimestamp());const f=C3(a,o.expectedCount);f!==null&&(l.expectedCount=f)}return l}(this.serializer,e);const r=pvt(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){const n={};n.database=I3(this.serializer),n.removeTarget=e,this.I_(n)}}class i_t extends _${constructor(e,n,r,s,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=a}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Bi(!!e.streamToken),this.lastStreamToken=e.streamToken,Bi(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Bi(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=cvt(e.writeResults,e.commitTime),r=Zf(e.commitTime);return this.listener.v_(r,n)}C_(){const e={};e.database=I3(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>uvt(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_t{}class s_t extends r_t{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new $e(me.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.So(e,R3(n,r),s,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new $e(me.UNKNOWN,a.toString())})}Co(e,n,r,s,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Co(e,R3(n,r),s,o,l,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new $e(me.UNKNOWN,o.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class a_t{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Od(n),this.N_=!1):je("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy="RemoteStore";class o_t{constructor(e,n,r,s,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=a,this.z_.To(o=>{r.enqueueAndForget(async()=>{Qy(this)&&(je(zy,"Restarting streams for network reachability change."),await async function(u){const f=kn(u);f.W_.add(4),await EE(f),f.j_.set("Unknown"),f.W_.delete(4),await AR(f)}(this))})}),this.j_=new a_t(r,s)}}async function AR(i){if(Qy(i))for(const e of i.G_)await e(!0)}async function EE(i){for(const e of i.G_)await e(!1)}function b$(i,e){const n=kn(i);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),WU(n)?$U(n):lb(n).c_()&&qU(n,e))}function GU(i,e){const n=kn(i),r=lb(n);n.K_.delete(e),r.c_()&&x$(n,e),n.K_.size===0&&(r.c_()?r.P_():Qy(n)&&n.j_.set("Unknown"))}function qU(i,e){if(i.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pn.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}lb(i).y_(e)}function x$(i,e){i.H_.Ne(e),lb(i).w_(e)}function $U(i){i.H_=new evt({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>i.K_.get(e)||null,it:()=>i.datastore.serializer.databaseId}),lb(i).start(),i.j_.B_()}function WU(i){return Qy(i)&&!lb(i).u_()&&i.K_.size>0}function Qy(i){return kn(i).W_.size===0}function S$(i){i.H_=void 0}async function l_t(i){i.j_.set("Online")}async function u_t(i){i.K_.forEach((e,n)=>{qU(i,e)})}async function c_t(i,e){S$(i),WU(i)?(i.j_.q_(e),$U(i)):i.j_.set("Unknown")}async function f_t(i,e,n){if(i.j_.set("Online"),e instanceof a$&&e.state===2&&e.cause)try{await async function(s,a){const o=a.cause;for(const l of a.targetIds)s.K_.has(l)&&(await s.remoteSyncer.rejectListen(l,o),s.K_.delete(l),s.H_.removeTarget(l))}(i,e)}catch(r){je(zy,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await NC(i,r)}else if(e instanceof tM?i.H_.We(e):e instanceof s$?i.H_.Ze(e):i.H_.je(e),!n.isEqual(Pn.min()))try{const r=await y$(i.localStore);n.compareTo(r)>=0&&await function(a,o){const l=a.H_.ot(o);return l.targetChanges.forEach((u,f)=>{if(u.resumeToken.approximateByteSize()>0){const h=a.K_.get(f);h&&a.K_.set(f,h.withResumeToken(u.resumeToken,o))}}),l.targetMismatches.forEach((u,f)=>{const h=a.K_.get(u);if(!h)return;a.K_.set(u,h.withResumeToken(Sa.EMPTY_BYTE_STRING,h.snapshotVersion)),x$(a,u);const p=new Zp(h.target,u,f,h.sequenceNumber);qU(a,p)}),a.remoteSyncer.applyRemoteEvent(l)}(i,n)}catch(r){je(zy,"Failed to raise snapshot:",r),await NC(i,r)}}async function NC(i,e,n){if(!ob(e))throw e;i.W_.add(1),await EE(i),i.j_.set("Offline"),n||(n=()=>y$(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{je(zy,"Retrying IndexedDB access"),await n(),i.W_.delete(1),await AR(i)})}function E$(i,e){return e().catch(n=>NC(i,n,e))}async function MR(i){const e=kn(i),n=_m(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:IU;for(;h_t(e);)try{const s=await Wvt(e.localStore,r);if(s===null){e.U_.length===0&&n.P_();break}r=s.batchId,d_t(e,s)}catch(s){await NC(e,s)}T$(e)&&w$(e)}function h_t(i){return Qy(i)&&i.U_.length<10}function d_t(i,e){i.U_.push(e);const n=_m(i);n.c_()&&n.S_&&n.b_(e.mutations)}function T$(i){return Qy(i)&&!_m(i).u_()&&i.U_.length>0}function w$(i){_m(i).start()}async function p_t(i){_m(i).C_()}async function m_t(i){const e=_m(i);for(const n of i.U_)e.b_(n.mutations)}async function g_t(i,e,n){const r=i.U_.shift(),s=kU.from(r,e,n);await E$(i,()=>i.remoteSyncer.applySuccessfulWrite(s)),await MR(i)}async function y_t(i,e){e&&_m(i).S_&&await async function(r,s){if(function(o){return J0t(o)&&o!==me.ABORTED}(s.code)){const a=r.U_.shift();_m(r).h_(),await E$(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s)),await MR(r)}}(i,e),T$(i)&&w$(i)}async function NV(i,e){const n=kn(i);n.asyncQueue.verifyOperationInProgress(),je(zy,"RemoteStore received new credentials");const r=Qy(n);n.W_.add(3),await EE(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await AR(n)}async function v_t(i,e){const n=kn(i);e?(n.W_.delete(2),await AR(n)):e||(n.W_.add(2),await EE(n),n.j_.set("Unknown"))}function lb(i){return i.J_||(i.J_=function(n,r,s){const a=kn(n);return a.M_(),new n_t(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(i.datastore,i.asyncQueue,{xo:l_t.bind(null,i),No:u_t.bind(null,i),Lo:c_t.bind(null,i),p_:f_t.bind(null,i)}),i.G_.push(async e=>{e?(i.J_.h_(),WU(i)?$U(i):i.j_.set("Unknown")):(await i.J_.stop(),S$(i))})),i.J_}function _m(i){return i.Y_||(i.Y_=function(n,r,s){const a=kn(n);return a.M_(),new i_t(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(i.datastore,i.asyncQueue,{xo:()=>Promise.resolve(),No:p_t.bind(null,i),Lo:y_t.bind(null,i),D_:m_t.bind(null,i),v_:g_t.bind(null,i)}),i.G_.push(async e=>{e?(i.Y_.h_(),await MR(i)):(await i.Y_.stop(),i.U_.length>0&&(je(zy,`Stopping write stream with ${i.U_.length} pending writes`),i.U_=[]))})),i.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XU{constructor(e,n,r,s,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new am,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,a){const o=Date.now()+r,l=new XU(e,n,o,s,a);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $e(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function YU(i,e){if(Od("AsyncQueue",`${e}: ${i}`),ob(i))return new $e(me.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{static emptySet(e){return new i_(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ln.comparator(n.key,r.key):(n,r)=>ln.comparator(n.key,r.key),this.keyedMap=p1(),this.sortedSet=new jr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof i_)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new i_;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(){this.Z_=new jr(ln.comparator)}track(e){const n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):En():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class P_{constructor(e,n,r,s,a,o,l,u,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,s,a){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new P_(e,n,i_.emptySet(n),o,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bR(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __t{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class b_t{constructor(){this.queries=UV(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const s=kn(n),a=s.queries;s.queries=UV(),a.forEach((o,l)=>{for(const u of l.ta)u.onError(r)})})(this,new $e(me.ABORTED,"Firestore shutting down"))}}function UV(){return new Ky(i=>qq(i),bR)}async function x_t(i,e){const n=kn(i);let r=3;const s=e.query;let a=n.queries.get(s);a?!a.na()&&e.ra()&&(r=2):(a=new __t,r=e.ra()?0:1);try{switch(r){case 0:a.ea=await n.onListen(s,!0);break;case 1:a.ea=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const l=YU(o,`Initialization of query '${Vv(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,a),a.ta.push(e),e.sa(n.onlineState),a.ea&&e.oa(a.ea)&&KU(n)}async function S_t(i,e){const n=kn(i),r=e.query;let s=3;const a=n.queries.get(r);if(a){const o=a.ta.indexOf(e);o>=0&&(a.ta.splice(o,1),a.ta.length===0?s=e.ra()?0:1:!a.na()&&e.ra()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function E_t(i,e){const n=kn(i);let r=!1;for(const s of e){const a=s.query,o=n.queries.get(a);if(o){for(const l of o.ta)l.oa(s)&&(r=!0);o.ea=s}}r&&KU(n)}function T_t(i,e,n){const r=kn(i),s=r.queries.get(e);if(s)for(const a of s.ta)a.onError(n);r.queries.delete(e)}function KU(i){i.ia.forEach(e=>{e.next()})}var N3,kV;(kV=N3||(N3={}))._a="default",kV.Cache="cache";class w_t{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new P_(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=P_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==N3.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A${constructor(e){this.key=e}}class M${constructor(e){this.key=e}}class A_t{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=ci(),this.mutatedKeys=ci(),this.ya=$q(e),this.wa=new i_(this.ya)}get Sa(){return this.fa}ba(e,n){const r=n?n.Da:new LV,s=n?n.wa:this.wa;let a=n?n.mutatedKeys:this.mutatedKeys,o=s,l=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,f=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,p)=>{const y=s.get(h),_=xR(this.query,p)?p:null,x=!!y&&this.mutatedKeys.has(y.key),S=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let E=!1;y&&_?y.data.isEqual(_.data)?x!==S&&(r.track({type:3,doc:_}),E=!0):this.va(y,_)||(r.track({type:2,doc:_}),E=!0,(u&&this.ya(_,u)>0||f&&this.ya(_,f)<0)&&(l=!0)):!y&&_?(r.track({type:0,doc:_}),E=!0):y&&!_&&(r.track({type:1,doc:y}),E=!0,(u||f)&&(l=!0)),E&&(_?(o=o.add(_),a=S?a.add(h):a.delete(h)):(o=o.delete(h),a=a.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),a=a.delete(h.key),r.track({type:1,doc:h})}return{wa:o,Da:r,ls:l,mutatedKeys:a}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const a=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const o=e.Da.X_();o.sort((h,p)=>function(_,x){const S=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return En()}};return S(_)-S(x)}(h.type,p.type)||this.ya(h.doc,p.doc)),this.Ca(r),s=s!=null&&s;const l=n&&!s?this.Fa():[],u=this.pa.size===0&&this.current&&!s?1:0,f=u!==this.ga;return this.ga=u,o.length!==0||f?{snapshot:new P_(this.query,e.wa,a,o,e.mutatedKeys,u===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:l}:{Ma:l}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new LV,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=ci(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new M$(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new A$(r))}),n}Oa(e){this.fa=e.gs,this.pa=ci();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return P_.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const ZU="SyncEngine";class M_t{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class C_t{constructor(e){this.key=e,this.Ba=!1}}class R_t{constructor(e,n,r,s,a,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new Ky(l=>qq(l),bR),this.qa=new Map,this.Qa=new Set,this.$a=new jr(ln.comparator),this.Ua=new Map,this.Ka=new FU,this.Wa={},this.Ga=new Map,this.za=I_.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function O_t(i,e,n=!0){const r=D$(i);let s;const a=r.ka.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.Na()):s=await C$(r,e,n,!0),s}async function I_t(i,e){const n=D$(i);await C$(n,e,!0,!1)}async function C$(i,e,n,r){const s=await Xvt(i.localStore,Kf(e)),a=s.targetId,o=i.sharedClientState.addLocalQueryTarget(a,n);let l;return r&&(l=await P_t(i,e,a,o==="current",s.resumeToken)),i.isPrimaryClient&&n&&b$(i.remoteStore,s),l}async function P_t(i,e,n,r,s){i.Ha=(p,y,_)=>async function(S,E,b,A){let C=E.view.ba(b);C.ls&&(C=await RV(S.localStore,E.query,!1).then(({documents:N})=>E.view.ba(N,C)));const M=A&&A.targetChanges.get(E.targetId),I=A&&A.targetMismatches.get(E.targetId)!=null,k=E.view.applyChanges(C,S.isPrimaryClient,M,I);return BV(S,E.targetId,k.Ma),k.snapshot}(i,p,y,_);const a=await RV(i.localStore,e,!0),o=new A_t(e,a.gs),l=o.ba(a.documents),u=SE.createSynthesizedTargetChangeForCurrentChange(n,r&&i.onlineState!=="Offline",s),f=o.applyChanges(l,i.isPrimaryClient,u);BV(i,n,f.Ma);const h=new M_t(e,n,o);return i.ka.set(e,h),i.qa.has(n)?i.qa.get(n).push(e):i.qa.set(n,[e]),f.snapshot}async function D_t(i,e,n){const r=kn(i),s=r.ka.get(e),a=r.qa.get(s.targetId);if(a.length>1)return r.qa.set(s.targetId,a.filter(o=>!bR(o,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await P3(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&GU(r.remoteStore,s.targetId),L3(r,s.targetId)}).catch(ab)):(L3(r,s.targetId),await P3(r.localStore,s.targetId,!0))}async function N_t(i,e){const n=kn(i),r=n.ka.get(e),s=n.qa.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),GU(n.remoteStore,r.targetId))}async function L_t(i,e,n){const r=H_t(i);try{const s=await function(o,l){const u=kn(o),f=Bs.now(),h=l.reduce((_,x)=>_.add(x.key),ci());let p,y;return u.persistence.runTransaction("Locally write mutations","readwrite",_=>{let x=Id(),S=ci();return u.ds.getEntries(_,h).next(E=>{x=E,x.forEach((b,A)=>{A.isValidDocument()||(S=S.add(b))})}).next(()=>u.localDocuments.getOverlayedDocuments(_,x)).next(E=>{p=E;const b=[];for(const A of l){const C=X0t(A,p.get(A.key).overlayedDocument);C!=null&&b.push(new Zy(A.key,C,Uq(C.value.mapValue),vd.exists(!0)))}return u.mutationQueue.addMutationBatch(_,f,b,l)}).next(E=>{y=E;const b=E.applyToLocalDocumentSet(p,S);return u.documentOverlayCache.saveOverlays(_,E.batchId,b)})}).then(()=>({batchId:y.batchId,changes:Xq(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,l,u){let f=o.Wa[o.currentUser.toKey()];f||(f=new jr(ei)),f=f.insert(l,u),o.Wa[o.currentUser.toKey()]=f}(r,s.batchId,n),await TE(r,s.changes),await MR(r.remoteStore)}catch(s){const a=YU(s,"Failed to persist write");n.reject(a)}}async function R$(i,e){const n=kn(i);try{const r=await qvt(n.localStore,e);e.targetChanges.forEach((s,a)=>{const o=n.Ua.get(a);o&&(Bi(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.Ba=!0:s.modifiedDocuments.size>0?Bi(o.Ba):s.removedDocuments.size>0&&(Bi(o.Ba),o.Ba=!1))}),await TE(n,r,e)}catch(r){await ab(r)}}function zV(i,e,n){const r=kn(i);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ka.forEach((a,o)=>{const l=o.view.sa(e);l.snapshot&&s.push(l.snapshot)}),function(o,l){const u=kn(o);u.onlineState=l;let f=!1;u.queries.forEach((h,p)=>{for(const y of p.ta)y.sa(l)&&(f=!0)}),f&&KU(u)}(r.eventManager,e),s.length&&r.La.p_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function U_t(i,e,n){const r=kn(i);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Ua.get(e),a=s&&s.key;if(a){let o=new jr(ln.comparator);o=o.insert(a,ja.newNoDocument(a,Pn.min()));const l=ci().add(a),u=new TR(Pn.min(),new Map,new jr(ei),o,l);await R$(r,u),r.$a=r.$a.remove(a),r.Ua.delete(e),QU(r)}else await P3(r.localStore,e,!1).then(()=>L3(r,e,n)).catch(ab)}async function k_t(i,e){const n=kn(i),r=e.batch.batchId;try{const s=await Gvt(n.localStore,e);I$(n,r,null),O$(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await TE(n,s)}catch(s){await ab(s)}}async function z_t(i,e,n){const r=kn(i);try{const s=await function(o,l){const u=kn(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let h;return u.mutationQueue.lookupMutationBatch(f,l).next(p=>(Bi(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(f,p))).next(()=>u.mutationQueue.performConsistencyCheck(f)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(f,h,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,h)).next(()=>u.localDocuments.getDocuments(f,h))})}(r.localStore,e);I$(r,e,n),O$(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await TE(r,s)}catch(s){await ab(s)}}function O$(i,e){(i.Ga.get(e)||[]).forEach(n=>{n.resolve()}),i.Ga.delete(e)}function I$(i,e,n){const r=kn(i);let s=r.Wa[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(n?a.reject(n):a.resolve(),s=s.remove(e)),r.Wa[r.currentUser.toKey()]=s}}function L3(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const r of i.qa.get(e))i.ka.delete(r),n&&i.La.Ja(r,n);i.qa.delete(e),i.isPrimaryClient&&i.Ka.br(e).forEach(r=>{i.Ka.containsKey(r)||P$(i,r)})}function P$(i,e){i.Qa.delete(e.path.canonicalString());const n=i.$a.get(e);n!==null&&(GU(i.remoteStore,n),i.$a=i.$a.remove(e),i.Ua.delete(n),QU(i))}function BV(i,e,n){for(const r of n)r instanceof A$?(i.Ka.addReference(r.key,e),B_t(i,r)):r instanceof M$?(je(ZU,"Document no longer in limbo: "+r.key),i.Ka.removeReference(r.key,e),i.Ka.containsKey(r.key)||P$(i,r.key)):En()}function B_t(i,e){const n=e.key,r=n.path.canonicalString();i.$a.get(n)||i.Qa.has(r)||(je(ZU,"New document in limbo: "+n),i.Qa.add(r),QU(i))}function QU(i){for(;i.Qa.size>0&&i.$a.size<i.maxConcurrentLimboResolutions;){const e=i.Qa.values().next().value;i.Qa.delete(e);const n=new ln(vr.fromString(e)),r=i.za.next();i.Ua.set(r,new C_t(n)),i.$a=i.$a.insert(n,r),b$(i.remoteStore,new Zp(Kf(jq(n.path)),r,"TargetPurposeLimboResolution",yR.ae))}}async function TE(i,e,n){const r=kn(i),s=[],a=[],o=[];r.ka.isEmpty()||(r.ka.forEach((l,u)=>{o.push(r.Ha(u,e,n).then(f=>{var h;if((f||n)&&r.isPrimaryClient){const p=f?!f.fromCache:(h=n==null?void 0:n.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(f){s.push(f);const p=HU.Yi(u.targetId,f);a.push(p)}}))}),await Promise.all(o),r.La.p_(s),await async function(u,f){const h=kn(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>he.forEach(f,y=>he.forEach(y.Hi,_=>h.persistence.referenceDelegate.addReference(p,y.targetId,_)).next(()=>he.forEach(y.Ji,_=>h.persistence.referenceDelegate.removeReference(p,y.targetId,_)))))}catch(p){if(!ob(p))throw p;je(jU,"Failed to update sequence numbers: "+p)}for(const p of f){const y=p.targetId;if(!p.fromCache){const _=h.Ts.get(y),x=_.snapshotVersion,S=_.withLastLimboFreeSnapshotVersion(x);h.Ts=h.Ts.insert(y,S)}}}(r.localStore,a))}async function F_t(i,e){const n=kn(i);if(!n.currentUser.isEqual(e)){je(ZU,"User change. New user:",e.toKey());const r=await g$(n.localStore,e);n.currentUser=e,function(a,o){a.Ga.forEach(l=>{l.forEach(u=>{u.reject(new $e(me.CANCELLED,o))})}),a.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await TE(n,r.Rs)}}function V_t(i,e){const n=kn(i),r=n.Ua.get(e);if(r&&r.Ba)return ci().add(r.key);{let s=ci();const a=n.qa.get(e);if(!a)return s;for(const o of a){const l=n.ka.get(o);s=s.unionWith(l.view.Sa)}return s}}function D$(i){const e=kn(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=R$.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=V_t.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=U_t.bind(null,e),e.La.p_=E_t.bind(null,e.eventManager),e.La.Ja=T_t.bind(null,e.eventManager),e}function H_t(i){const e=kn(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=k_t.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=z_t.bind(null,e),e}class LC{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wR(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return jvt(this.persistence,new Fvt,e.initialUser,this.serializer)}Xa(e){return new m$(VU.ri,this.serializer)}Za(e){return new Kvt}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}LC.provider={build:()=>new LC};class j_t extends LC{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Bi(this.persistence.referenceDelegate instanceof DC);const r=this.persistence.referenceDelegate.garbageCollector;return new wvt(r,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?nl.withCacheSize(this.cacheSizeBytes):nl.DEFAULT;return new m$(r=>DC.ri(r,n),this.serializer)}}class U3{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>zV(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=F_t.bind(null,this.syncEngine),await v_t(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new b_t}()}createDatastore(e){const n=wR(e.databaseInfo.databaseId),r=function(a){return new e_t(a)}(e.databaseInfo);return function(a,o,l,u){return new s_t(a,o,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,a,o,l){return new o_t(r,s,a,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>zV(this.syncEngine,n,0),function(){return PV.D()?new PV:new Zvt}())}createSyncEngine(e,n){return function(s,a,o,l,u,f,h){const p=new R_t(s,a,o,l,u,f);return h&&(p.ja=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const a=kn(s);je(zy,"RemoteStore shutting down."),a.W_.add(5),await EE(a),a.z_.shutdown(),a.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}U3.provider={build:()=>new U3};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_t{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Od("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm="FirestoreClient";class q_t{constructor(e,n,r,s,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Ha.UNAUTHENTICATED,this.clientId=Aq.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async o=>{je(bm,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(je(bm,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new am;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=YU(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function RP(i,e){i.asyncQueue.verifyOperationInProgress(),je(bm,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let r=n.initialUser;i.setCredentialChangeListener(async s=>{r.isEqual(s)||(await g$(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function FV(i,e){i.asyncQueue.verifyOperationInProgress();const n=await $_t(i);je(bm,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(r=>NV(e.remoteStore,r)),i.setAppCheckTokenChangeListener((r,s)=>NV(e.remoteStore,s)),i._onlineComponents=e}async function $_t(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){je(bm,"Using user provided OfflineComponentProvider");try{await RP(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===me.FAILED_PRECONDITION||s.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;M_("Error using user provided cache. Falling back to memory cache: "+n),await RP(i,new LC)}}else je(bm,"Using default OfflineComponentProvider"),await RP(i,new j_t(void 0));return i._offlineComponents}async function N$(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(je(bm,"Using user provided OnlineComponentProvider"),await FV(i,i._uninitializedComponentsProvider._online)):(je(bm,"Using default OnlineComponentProvider"),await FV(i,new U3))),i._onlineComponents}function W_t(i){return N$(i).then(e=>e.syncEngine)}async function X_t(i){const e=await N$(i),n=e.eventManager;return n.onListen=O_t.bind(null,e.syncEngine),n.onUnlisten=D_t.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=I_t.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=N_t.bind(null,e.syncEngine),n}function Y_t(i,e,n={}){const r=new am;return i.asyncQueue.enqueueAndForget(async()=>function(a,o,l,u,f){const h=new G_t({next:y=>{h.su(),o.enqueueAndForget(()=>S_t(a,p)),y.fromCache&&u.source==="server"?f.reject(new $e(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(y)},error:y=>f.reject(y)}),p=new w_t(l,h,{includeMetadataChanges:!0,Ta:!0});return x_t(a,p)}(await X_t(i),i.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L$(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VV=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U$(i,e,n){if(!n)throw new $e(me.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function K_t(i,e,n,r){if(e===!0&&r===!0)throw new $e(me.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function HV(i){if(!ln.isDocumentKey(i))throw new $e(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function jV(i){if(ln.isDocumentKey(i))throw new $e(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function CR(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":En()}function UC(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new $e(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=CR(i);throw new $e(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k$="firestore.googleapis.com",GV=!0;class qV{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new $e(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=k$,this.ssl=GV}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:GV;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=p$;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Evt)throw new $e(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}K_t("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=L$((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new $e(me.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new $e(me.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new $e(me.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class RR{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qV({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new $e(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new $e(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qV(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new t0t;switch(r.type){case"firstParty":return new r0t(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new $e(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=VV.get(n);r&&(je("ComponentProvider","Removing Datastore"),VV.delete(n),r.terminate())}(this),Promise.resolve()}}function Z_t(i,e,n,r={}){var s;const a=(i=UC(i,RR))._getSettings(),o=Object.assign(Object.assign({},a),{emulatorOptions:i._getEmulatorOptions()}),l=`${e}:${n}`;a.host!==k$&&a.host!==l&&M_("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},a),{host:l,ssl:!1,emulatorOptions:r});if(!Ny(u,o)&&(i._setSettings(u),r.mockUserToken)){let f,h;if(typeof r.mockUserToken=="string")f=r.mockUserToken,h=Ha.MOCK_USER;else{f=Apt(r.mockUserToken,(s=i._app)===null||s===void 0?void 0:s.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new $e(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Ha(p)}i._authCredentials=new e0t(new Tq(f,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ub(this.firestore,e,this._query)}}class Uu{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new om(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Uu(this.firestore,e,this._key)}}class om extends ub{constructor(e,n,r){super(e,n,jq(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Uu(this.firestore,null,new ln(e))}withConverter(e){return new om(this.firestore,e,this._path)}}function r_(i,e,...n){if(i=gl(i),U$("collection","path",e),i instanceof RR){const r=vr.fromString(e,...n);return jV(r),new om(i,null,r)}{if(!(i instanceof Uu||i instanceof om))throw new $e(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(vr.fromString(e,...n));return jV(r),new om(i.firestore,null,r)}}function Q_t(i,e,...n){if(i=gl(i),arguments.length===1&&(e=Aq.newId()),U$("doc","path",e),i instanceof RR){const r=vr.fromString(e,...n);return HV(r),new Uu(i,null,new ln(r))}{if(!(i instanceof Uu||i instanceof om))throw new $e(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(vr.fromString(e,...n));return HV(r),new Uu(i.firestore,i instanceof om?i.converter:null,new ln(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $V="AsyncQueue";class WV{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new v$(this,"async_queue_retry"),this.Su=()=>{const r=CP();r&&je($V,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const n=CP();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=CP();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new am;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!ob(e))throw e;je($V,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const s=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw Od("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const s=XU.createAndSchedule(this,e,n,r,a=>this.Fu(a));return this.fu.push(s),s}Du(){this.gu&&En()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class JU extends RR{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new WV,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new WV(e),this._firestoreClient=void 0,await e}}}function J_t(i,e){const n=typeof i=="object"?i:BG(),r=typeof i=="string"?i:AC,s=vU(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=Tpt("firestore");a&&Z_t(s,...a)}return s}function z$(i){if(i._terminated)throw new $e(me.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||tbt(i),i._firestoreClient}function tbt(i){var e,n,r;const s=i._freezeSettings(),a=function(l,u,f,h){return new _0t(l,u,f,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,L$(h.experimentalLongPollingOptions),h.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,s);i._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(i._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),i._firestoreClient=new q_t(i._authCredentials,i._appCheckCredentials,i._queue,a,i._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(e){this._byteString=e}static fromBase64String(e){try{return new D_(Sa.fromBase64String(e))}catch(n){throw new $e(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new D_(Sa.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new $e(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ya(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B${constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new $e(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new $e(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ei(this._lat,e._lat)||ei(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ebt=/^__.*__$/;class nbt{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Zy(e,this.data,this.fieldMask,n,this.fieldTransforms):new xE(e,this.data,n,this.fieldTransforms)}}function F$(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw En()}}class i4{constructor(e,n,r,s,a,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Bu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new i4(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ku({path:r,Qu:!1});return s.$u(e),s}Uu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ku({path:r,Qu:!1});return s.Bu(),s}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return kC(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(F$(this.Lu)&&ebt.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class ibt{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||wR(e)}ju(e,n,r,s=!1){return new i4({Lu:e,methodName:n,zu:r,path:ya.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function V$(i){const e=i._freezeSettings(),n=wR(i._databaseId);return new ibt(i._databaseId,!!e.ignoreUndefinedProperties,n)}function rbt(i,e,n,r,s,a={}){const o=i.ju(a.merge||a.mergeFields?2:0,e,n,s);G$("Data must be an object, but it was:",o,r);const l=H$(r,o);let u,f;if(a.merge)u=new Cc(o.fieldMask),f=o.fieldTransforms;else if(a.mergeFields){const h=[];for(const p of a.mergeFields){const y=abt(e,p,n);if(!o.contains(y))throw new $e(me.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);lbt(h,y)||h.push(y)}u=new Cc(h),f=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,f=o.fieldTransforms;return new nbt(new Ru(l),u,f)}function sbt(i,e,n,r=!1){return r4(n,i.ju(r?4:3,e))}function r4(i,e){if(j$(i=gl(i)))return G$("Unsupported field value:",e,i),H$(i,e);if(i instanceof B$)return function(r,s){if(!F$(s.Lu))throw s.Wu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,s){const a=[];let o=0;for(const l of r){let u=r4(l,s.Ku(o));u==null&&(u={nullValue:"NULL_VALUE"}),a.push(u),o++}return{arrayValue:{values:a}}}(i,e)}return function(r,s){if((r=gl(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return H0t(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Bs.fromDate(r);return{timestampValue:PC(s.serializer,a)}}if(r instanceof Bs){const a=new Bs(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:PC(s.serializer,a)}}if(r instanceof e4)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof D_)return{bytesValue:o$(s.serializer,r._byteString)};if(r instanceof Uu){const a=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(a))throw s.Wu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:BU(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof n4)return function(o,l){return{mapValue:{fields:{[Nq]:{stringValue:Lq},[MC]:{arrayValue:{values:o.toArray().map(f=>{if(typeof f!="number")throw l.Wu("VectorValues must only contain numeric values.");return UU(l.serializer,f)})}}}}}}(r,s);throw s.Wu(`Unsupported field value: ${CR(r)}`)}(i,e)}function H$(i,e){const n={};return Cq(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yy(i,(r,s)=>{const a=r4(s,e.qu(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function j$(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Bs||i instanceof e4||i instanceof D_||i instanceof Uu||i instanceof B$||i instanceof n4)}function G$(i,e,n){if(!j$(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=CR(n);throw r==="an object"?e.Wu(i+" a custom object"):e.Wu(i+" "+r)}}function abt(i,e,n){if((e=gl(e))instanceof t4)return e._internalPath;if(typeof e=="string")return q$(i,e);throw kC("Field path arguments must be of type string or ",i,!1,void 0,n)}const obt=new RegExp("[~\\*/\\[\\]]");function q$(i,e,n){if(e.search(obt)>=0)throw kC(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new t4(...e.split("."))._internalPath}catch{throw kC(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function kC(i,e,n,r,s){const a=r&&!r.isEmpty(),o=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(a||o)&&(u+=" (found",a&&(u+=` in field ${r}`),o&&(u+=` in document ${s}`),u+=")"),new $e(me.INVALID_ARGUMENT,l+i+u)}function lbt(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $${constructor(e,n,r,s,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Uu(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ubt(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(s4("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ubt extends $${data(){return super.data()}}function s4(i,e){return typeof e=="string"?q$(i,e):e instanceof t4?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cbt(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new $e(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class a4{}class fbt extends a4{}function hbt(i,e,...n){let r=[];e instanceof a4&&r.push(e),r=r.concat(n),function(a){const o=a.filter(u=>u instanceof o4).length,l=a.filter(u=>u instanceof OR).length;if(o>1||o>0&&l>0)throw new $e(me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)i=s._apply(i);return i}class OR extends fbt{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new OR(e,n,r)}_apply(e){const n=this._parse(e);return W$(e._query,n),new ub(e.firestore,e.converter,A3(e._query,n))}_parse(e){const n=V$(e.firestore);return function(a,o,l,u,f,h,p){let y;if(f.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new $e(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){YV(p,h);const x=[];for(const S of p)x.push(XV(u,a,S));y={arrayValue:{values:x}}}else y=XV(u,a,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||YV(p,h),y=sbt(l,o,p,h==="in"||h==="not-in");return Rs.create(f,h,y)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function dbt(i,e,n){const r=e,s=s4("where",i);return OR._create(s,r,n)}class o4 extends a4{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new o4(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Nc.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,a){let o=s;const l=a.getFlattenedFilters();for(const u of l)W$(o,u),o=A3(o,u)}(e._query,n),new ub(e.firestore,e.converter,A3(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function XV(i,e,n){if(typeof(n=gl(n))=="string"){if(n==="")throw new $e(me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Gq(e)&&n.indexOf("/")!==-1)throw new $e(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(vr.fromString(n));if(!ln.isDocumentKey(r))throw new $e(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return cV(i,new ln(r))}if(n instanceof Uu)return cV(i,n._key);throw new $e(me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${CR(n)}.`)}function YV(i,e){if(!Array.isArray(i)||i.length===0)throw new $e(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function W$(i,e){const n=function(s,a){for(const o of s)for(const l of o.getFlattenedFilters())if(a.indexOf(l.op)>=0)return l.op;return null}(i.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new $e(me.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new $e(me.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class pbt{convertValue(e,n="none"){switch(vm(e)){case 0:return null;case 1:return e.booleanValue;case 2:return cs(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ym(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw En()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Yy(e,(s,a)=>{r[s]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,s;const a=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[MC].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>cs(o.doubleValue));return new n4(a)}convertGeoPoint(e){return new e4(cs(e.latitude),cs(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=_R(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(MS(e));default:return null}}convertTimestamp(e){const n=gm(e);return new Bs(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=vr.fromString(e);Bi(d$(r));const s=new CS(r.get(1),r.get(3)),a=new ln(r.popFirst(5));return s.isEqual(n)||Od(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mbt(i,e,n){let r;return r=i?i.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gbt extends $${constructor(e,n,r,s,a,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new eM(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(s4("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class eM extends gbt{data(e={}){return super.data(e)}}class ybt{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new iA(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new eM(this._firestore,this._userDataWriter,r.key,r,new iA(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new $e(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(l=>{const u=new eM(s._firestore,s._userDataWriter,l.doc.key,l.doc,new iA(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>a||l.type!==3).map(l=>{const u=new eM(s._firestore,s._userDataWriter,l.doc.key,l.doc,new iA(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let f=-1,h=-1;return l.type!==0&&(f=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),h=o.indexOf(l.doc.key)),{type:vbt(l.type),doc:u,oldIndex:f,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function vbt(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return En()}}class _bt extends pbt{constructor(e){super(),this.firestore=e}convertBytes(e){return new D_(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Uu(this.firestore,null,n)}}function IR(i){i=UC(i,ub);const e=UC(i.firestore,JU),n=z$(e),r=new _bt(e);return cbt(i._query),Y_t(n,i._query).then(s=>new ybt(e,r,i,s))}function KV(i,e){const n=UC(i.firestore,JU),r=Q_t(i),s=mbt(i.converter,e);return bbt(n,[rbt(V$(i.firestore),"addDoc",r._key,s,i.converter!==null,{}).toMutation(r._key,vd.exists(!1))]).then(()=>r)}function bbt(i,e){return function(r,s){const a=new am;return r.asyncQueue.enqueueAndForget(async()=>L_t(await W_t(r),s,a)),a.promise}(z$(i),e)}(function(e,n=!0){(function(s){sb=s})(ib),w_(new Ly("firestore",(r,{instanceIdentifier:s,options:a})=>{const o=r.getProvider("app").getImmediate(),l=new JU(new n0t(r.getProvider("auth-internal")),new s0t(o,r.getProvider("app-check-internal")),function(f,h){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new $e(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new CS(f.options.projectId,h)}(o,s),o);return a=Object.assign({useFetchStreams:n},a),l._setSettings(a),l},"PUBLIC").setMultipleInstances(!0)),rm(QF,JF,e),rm(QF,JF,"esm2017")})();const xbt={apiKey:"AIzaSyD6drh2aoyblA6iwk80Ko26FHK2HK_cNmk",authDomain:"black-triangle-bjj.firebaseapp.com",projectId:"black-triangle-bjj",storageBucket:"black-triangle-bjj.firebasestorage.com",messagingSenderId:"128924794161",appId:"1:128924794161:web:7968a2a259fbc8899cc410",measurementId:"G-LBWF7DFVF5"},X$=zG(xbt),s_=J_t(X$),l4=Kyt(X$),Sbt=new ld,Ebt={displayName:"",email:"",photoURL:""},Tbt=async()=>{try{await Bgt(l4),Un.setState({userLoginData:Ebt,isUserLogin:!1})}catch(i){console.error("Error al cerrar sesin:",i)}};function wbt(){const i=Un(h=>h.isUserLogin),e=Un(h=>h.userLoginData),[n,r]=tt.useState(null),s=!!n,a=Un(h=>h.triggerAlert),o=h=>{r(h.currentTarget),Un.setState({isNodeViewActive:!1})},l=()=>{r(null)},u=()=>{Un.setState({isLoginWindowActive:!0})},f=()=>{i?Un.setState({isAddNodeActive:!0}):a("Sesin Cerrada","warning")};return K.jsxs(tt.Fragment,{children:[K.jsx(Oi,{sx:dpt,children:K.jsx(Bv,{title:"Menu Usuario",children:K.jsx(Wg,{onClick:o,size:"small","aria-controls":s?"menu-user":void 0,"aria-haspopup":"true","aria-expanded":s?"true":void 0,children:K.jsx(tF,{sx:ppt,children:K.jsx(hpt,{sx:mpt})})})})}),K.jsxs(vG,{anchorEl:n,id:"menu-user",open:s,onClose:l,onClick:l,slotProps:{paper:{elevation:0,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"& .MuiAvatar-root":{width:32,height:32,ml:-.5,mr:1},"&::before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[i?K.jsxs(zx,{onClick:l,children:[K.jsx(Ux,{children:K.jsx(tF,{alt:e.displayName||"User",src:e.photoURL||void 0})}),e.displayName]}):K.jsxs(zx,{onClick:u,children:[K.jsx(Ux,{children:K.jsx(upt,{fontSize:"small"})}),"Iniciar sesin"]}),K.jsx(b_,{}),K.jsxs(zx,{onClick:f,children:[K.jsx(Ux,{children:K.jsx(Hht,{fontSize:"small"})}),"Agregar Nodo"]}),K.jsx(b_,{}),K.jsxs(zx,{onClick:l,children:[K.jsx(Ux,{children:K.jsx(cpt,{fontSize:"small"})}),"Configuracin"]}),K.jsxs(zx,{onClick:Tbt,children:[K.jsx(Ux,{children:K.jsx(fpt,{fontSize:"small"})}),"Cerrar sesin"]})]})]})}function Abt(i){return bn("MuiAlert",i)}const ZV=yn("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),Mbt=gs(K.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),Cbt=gs(K.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),Rbt=gs(K.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),Obt=gs(K.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),Ibt=gs(K.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),Pbt=i=>{const{variant:e,color:n,severity:r,classes:s}=i,a={root:["root",`color${Ge(n||r)}`,`${e}${Ge(n||r)}`,`${e}`],icon:["icon"],message:["message"],action:["action"]};return xn(a,Abt,s)},Dbt=ge(fR,{name:"MuiAlert",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.root,e[n.variant],e[`${n.variant}${Ge(n.color||n.severity)}`]]}})(Rn(({theme:i})=>{const e=i.palette.mode==="light"?Iy:Py,n=i.palette.mode==="light"?Py:Iy;return{...i.typography.body2,backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(i.palette).filter(ta(["light"])).map(([r])=>({props:{colorSeverity:r,variant:"standard"},style:{color:i.vars?i.vars.palette.Alert[`${r}Color`]:e(i.palette[r].light,.6),backgroundColor:i.vars?i.vars.palette.Alert[`${r}StandardBg`]:n(i.palette[r].light,.9),[`& .${ZV.icon}`]:i.vars?{color:i.vars.palette.Alert[`${r}IconColor`]}:{color:i.palette[r].main}}})),...Object.entries(i.palette).filter(ta(["light"])).map(([r])=>({props:{colorSeverity:r,variant:"outlined"},style:{color:i.vars?i.vars.palette.Alert[`${r}Color`]:e(i.palette[r].light,.6),border:`1px solid ${(i.vars||i).palette[r].light}`,[`& .${ZV.icon}`]:i.vars?{color:i.vars.palette.Alert[`${r}IconColor`]}:{color:i.palette[r].main}}})),...Object.entries(i.palette).filter(ta(["dark"])).map(([r])=>({props:{colorSeverity:r,variant:"filled"},style:{fontWeight:i.typography.fontWeightMedium,...i.vars?{color:i.vars.palette.Alert[`${r}FilledColor`],backgroundColor:i.vars.palette.Alert[`${r}FilledBg`]}:{backgroundColor:i.palette.mode==="dark"?i.palette[r].dark:i.palette[r].main,color:i.palette.getContrastText(i.palette[r].main)}}}))]}})),Nbt=ge("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(i,e)=>e.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),Lbt=ge("div",{name:"MuiAlert",slot:"Message",overridesResolver:(i,e)=>e.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),Ubt=ge("div",{name:"MuiAlert",slot:"Action",overridesResolver:(i,e)=>e.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),QV={success:K.jsx(Mbt,{fontSize:"inherit"}),warning:K.jsx(Cbt,{fontSize:"inherit"}),error:K.jsx(Rbt,{fontSize:"inherit"}),info:K.jsx(Obt,{fontSize:"inherit"})},kbt=tt.forwardRef(function(e,n){const r=Mn({props:e,name:"MuiAlert"}),{action:s,children:a,className:o,closeText:l="Close",color:u,components:f={},componentsProps:h={},icon:p,iconMapping:y=QV,onClose:_,role:x="alert",severity:S="success",slotProps:E={},slots:b={},variant:A="standard",...C}=r,M={...r,color:u,severity:S,variant:A,colorSeverity:u||S},I=Pbt(M),k={slots:{closeButton:f.CloseButton,closeIcon:f.CloseIcon,...b},slotProps:{...h,...E}},[N,L]=gi("root",{ref:n,shouldForwardComponentProp:!0,className:He(I.root,o),elementType:Dbt,externalForwardedProps:{...k,...C},ownerState:M,additionalProps:{role:x,elevation:0}}),[U,O]=gi("icon",{className:I.icon,elementType:Nbt,externalForwardedProps:k,ownerState:M}),[B,H]=gi("message",{className:I.message,elementType:Lbt,externalForwardedProps:k,ownerState:M}),[V,X]=gi("action",{className:I.action,elementType:Ubt,externalForwardedProps:k,ownerState:M}),[et,q]=gi("closeButton",{elementType:Wg,externalForwardedProps:k,ownerState:M}),[W,Z]=gi("closeIcon",{elementType:Ibt,externalForwardedProps:k,ownerState:M});return K.jsxs(N,{...L,children:[p!==!1?K.jsx(U,{...O,children:p||y[S]||QV[S]}):null,K.jsx(B,{...H,children:a}),s!=null?K.jsx(V,{...X,children:s}):null,s==null&&_?K.jsx(V,{...X,children:K.jsx(et,{size:"small","aria-label":l,title:l,color:"inherit",onClick:_,...q,children:K.jsx(W,{fontSize:"small",...Z})})}):null]})}),Y$=act({createStyledComponent:ge("div",{name:"MuiStack",slot:"Root",overridesResolver:(i,e)=>e.root}),useThemeProps:i=>Mn({props:i,name:"MuiStack"})});function zbt(i,e,n){const r=e.getBoundingClientRect(),s=n&&n.getBoundingClientRect(),a=Yl(e);let o;if(e.fakeTransform)o=e.fakeTransform;else{const f=a.getComputedStyle(e);o=f.getPropertyValue("-webkit-transform")||f.getPropertyValue("transform")}let l=0,u=0;if(o&&o!=="none"&&typeof o=="string"){const f=o.split("(")[1].split(")")[0].split(",");l=parseInt(f[4],10),u=parseInt(f[5],10)}return i==="left"?s?`translateX(${s.right+l-r.left}px)`:`translateX(${a.innerWidth+l-r.left}px)`:i==="right"?s?`translateX(-${r.right-s.left-l}px)`:`translateX(-${r.left+r.width-l}px)`:i==="up"?s?`translateY(${s.bottom+u-r.top}px)`:`translateY(${a.innerHeight+u-r.top}px)`:s?`translateY(-${r.top-s.top+r.height-u}px)`:`translateY(-${r.top+r.height-u}px)`}function Bbt(i){return typeof i=="function"?i():i}function rA(i,e,n){const r=Bbt(n),s=zbt(i,e,r);s&&(e.style.webkitTransform=s,e.style.transform=s)}const Fbt=tt.forwardRef(function(e,n){const r=Xy(),s={enter:r.transitions.easing.easeOut,exit:r.transitions.easing.sharp},a={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:l=!0,children:u,container:f,direction:h="down",easing:p=s,in:y,onEnter:_,onEntered:x,onEntering:S,onExit:E,onExited:b,onExiting:A,style:C,timeout:M=a,TransitionComponent:I=Hu,...k}=e,N=tt.useRef(null),L=ps(Wy(u),N,n),U=Z=>nt=>{Z&&(nt===void 0?Z(N.current):Z(N.current,nt))},O=U((Z,nt)=>{rA(h,Z,f),oU(Z),_&&_(Z,nt)}),B=U((Z,nt)=>{const Q=pm({timeout:M,style:C,easing:p},{mode:"enter"});Z.style.webkitTransition=r.transitions.create("-webkit-transform",{...Q}),Z.style.transition=r.transitions.create("transform",{...Q}),Z.style.webkitTransform="none",Z.style.transform="none",S&&S(Z,nt)}),H=U(x),V=U(A),X=U(Z=>{const nt=pm({timeout:M,style:C,easing:p},{mode:"exit"});Z.style.webkitTransition=r.transitions.create("-webkit-transform",nt),Z.style.transition=r.transitions.create("transform",nt),rA(h,Z,f),E&&E(Z)}),et=U(Z=>{Z.style.webkitTransition="",Z.style.transition="",b&&b(Z)}),q=Z=>{o&&o(N.current,Z)},W=tt.useCallback(()=>{N.current&&rA(h,N.current,f)},[h,f]);return tt.useEffect(()=>{if(y||h==="down"||h==="right")return;const Z=hE(()=>{N.current&&rA(h,N.current,f)}),nt=Yl(N.current);return nt.addEventListener("resize",Z),()=>{Z.clear(),nt.removeEventListener("resize",Z)}},[h,y,f]),tt.useEffect(()=>{y||W()},[y,W]),K.jsx(I,{nodeRef:N,onEnter:O,onEntered:H,onEntering:B,onExit:X,onExited:et,onExiting:V,addEndListener:q,appear:l,in:y,timeout:M,...k,children:(Z,{ownerState:nt,...Q})=>tt.cloneElement(u,{ref:L,style:{visibility:Z==="exited"&&!y?"hidden":void 0,...C,...u.props.style},...Q})})});function Vbt(i){return bn("MuiCollapse",i)}yn("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const Hbt=i=>{const{orientation:e,classes:n}=i,r={root:["root",`${e}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${e}`],wrapperInner:["wrapperInner",`${e}`]};return xn(r,Vbt,n)},jbt=ge("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.root,e[n.orientation],n.state==="entered"&&e.entered,n.state==="exited"&&!n.in&&n.collapsedSize==="0px"&&e.hidden]}})(Rn(({theme:i})=>({height:0,overflow:"hidden",transition:i.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:i.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:({ownerState:e})=>e.state==="exited"&&!e.in&&e.collapsedSize==="0px",style:{visibility:"hidden"}}]}))),Gbt=ge("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(i,e)=>e.wrapper})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),qbt=ge("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(i,e)=>e.wrapperInner})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),k3=tt.forwardRef(function(e,n){const r=Mn({props:e,name:"MuiCollapse"}),{addEndListener:s,children:a,className:o,collapsedSize:l="0px",component:u,easing:f,in:h,onEnter:p,onEntered:y,onEntering:_,onExit:x,onExited:S,onExiting:E,orientation:b="vertical",style:A,timeout:C=aG.standard,TransitionComponent:M=Hu,...I}=r,k={...r,orientation:b,collapsedSize:l},N=Hbt(k),L=Xy(),U=Jg(),O=tt.useRef(null),B=tt.useRef(),H=typeof l=="number"?`${l}px`:l,V=b==="horizontal",X=V?"width":"height",et=tt.useRef(null),q=ps(n,et),W=ft=>gt=>{if(ft){const wt=et.current;gt===void 0?ft(wt):ft(wt,gt)}},Z=()=>O.current?O.current[V?"clientWidth":"clientHeight"]:0,nt=W((ft,gt)=>{O.current&&V&&(O.current.style.position="absolute"),ft.style[X]=H,p&&p(ft,gt)}),Q=W((ft,gt)=>{const wt=Z();O.current&&V&&(O.current.style.position="");const{duration:Kt,easing:kt}=pm({style:A,timeout:C,easing:f},{mode:"enter"});if(C==="auto"){const ee=L.transitions.getAutoHeightDuration(wt);ft.style.transitionDuration=`${ee}ms`,B.current=ee}else ft.style.transitionDuration=typeof Kt=="string"?Kt:`${Kt}ms`;ft.style[X]=`${wt}px`,ft.style.transitionTimingFunction=kt,_&&_(ft,gt)}),ht=W((ft,gt)=>{ft.style[X]="auto",y&&y(ft,gt)}),yt=W(ft=>{ft.style[X]=`${Z()}px`,x&&x(ft)}),xt=W(S),it=W(ft=>{const gt=Z(),{duration:wt,easing:Kt}=pm({style:A,timeout:C,easing:f},{mode:"exit"});if(C==="auto"){const kt=L.transitions.getAutoHeightDuration(gt);ft.style.transitionDuration=`${kt}ms`,B.current=kt}else ft.style.transitionDuration=typeof wt=="string"?wt:`${wt}ms`;ft.style[X]=H,ft.style.transitionTimingFunction=Kt,E&&E(ft)}),dt=ft=>{C==="auto"&&U.start(B.current||0,ft),s&&s(et.current,ft)};return K.jsx(M,{in:h,onEnter:nt,onEntered:ht,onEntering:Q,onExit:yt,onExited:xt,onExiting:it,addEndListener:dt,nodeRef:et,timeout:C==="auto"?null:C,...I,children:(ft,{ownerState:gt,...wt})=>K.jsx(jbt,{as:u,className:He(N.root,o,{entered:N.entered,exited:!h&&H==="0px"&&N.hidden}[ft]),style:{[V?"minWidth":"minHeight"]:H,...A},ref:q,ownerState:{...k,state:ft},...wt,children:K.jsx(Gbt,{ownerState:{...k,state:ft},className:N.wrapper,ref:O,children:K.jsx(qbt,{ownerState:{...k,state:ft},className:N.wrapperInner,children:a})})})})});k3&&(k3.muiSupportAuto=!0);function $bt(){const i=Un(r=>r.showAlert),e=Un(r=>r.alertMessage),n=Un(r=>r.alertSeverity);return K.jsx(Y$,{sx:{width:"80%",position:"absolute",bottom:20,zIndex:9999},spacing:2,children:K.jsx(Fbt,{direction:"left",in:i,mountOnEnter:!0,unmountOnExit:!0,children:K.jsx(k3,{in:i,children:K.jsx(kbt,{severity:n,children:e})})})})}function Wbt(i){return bn("MuiButton",i)}const Dg=yn("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),Xbt=tt.createContext({}),Ybt=tt.createContext(void 0),Kbt=i=>{const{color:e,disableElevation:n,fullWidth:r,size:s,variant:a,loading:o,loadingPosition:l,classes:u}=i,f={root:["root",o&&"loading",a,`${a}${Ge(e)}`,`size${Ge(s)}`,`${a}Size${Ge(s)}`,`color${Ge(e)}`,n&&"disableElevation",r&&"fullWidth",o&&`loadingPosition${Ge(l)}`],startIcon:["icon","startIcon",`iconSize${Ge(s)}`],endIcon:["icon","endIcon",`iconSize${Ge(s)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},h=xn(f,Wbt,u);return{...u,...h}},K$=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],Zbt=ge(nb,{shouldForwardProp:i=>Vu(i)||i==="classes",name:"MuiButton",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.root,e[n.variant],e[`${n.variant}${Ge(n.color)}`],e[`size${Ge(n.size)}`],e[`${n.variant}Size${Ge(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth,n.loading&&e.loading]}})(Rn(({theme:i})=>{const e=i.palette.mode==="light"?i.palette.grey[300]:i.palette.grey[800],n=i.palette.mode==="light"?i.palette.grey.A100:i.palette.grey[700];return{...i.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(i.vars||i).shape.borderRadius,transition:i.transitions.create(["background-color","box-shadow","border-color","color"],{duration:i.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${Dg.disabled}`]:{color:(i.vars||i).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(i.vars||i).shadows[2],"&:hover":{boxShadow:(i.vars||i).shadows[4],"@media (hover: none)":{boxShadow:(i.vars||i).shadows[2]}},"&:active":{boxShadow:(i.vars||i).shadows[8]},[`&.${Dg.focusVisible}`]:{boxShadow:(i.vars||i).shadows[6]},[`&.${Dg.disabled}`]:{color:(i.vars||i).palette.action.disabled,boxShadow:(i.vars||i).shadows[0],backgroundColor:(i.vars||i).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${Dg.disabled}`]:{border:`1px solid ${(i.vars||i).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(i.palette).filter(ta()).map(([r])=>({props:{color:r},style:{"--variant-textColor":(i.vars||i).palette[r].main,"--variant-outlinedColor":(i.vars||i).palette[r].main,"--variant-outlinedBorder":i.vars?`rgba(${i.vars.palette[r].mainChannel} / 0.5)`:Ar(i.palette[r].main,.5),"--variant-containedColor":(i.vars||i).palette[r].contrastText,"--variant-containedBg":(i.vars||i).palette[r].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(i.vars||i).palette[r].dark,"--variant-textBg":i.vars?`rgba(${i.vars.palette[r].mainChannel} / ${i.vars.palette.action.hoverOpacity})`:Ar(i.palette[r].main,i.palette.action.hoverOpacity),"--variant-outlinedBorder":(i.vars||i).palette[r].main,"--variant-outlinedBg":i.vars?`rgba(${i.vars.palette[r].mainChannel} / ${i.vars.palette.action.hoverOpacity})`:Ar(i.palette[r].main,i.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":i.vars?i.vars.palette.Button.inheritContainedBg:e,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":i.vars?i.vars.palette.Button.inheritContainedHoverBg:n,"--variant-textBg":i.vars?`rgba(${i.vars.palette.text.primaryChannel} / ${i.vars.palette.action.hoverOpacity})`:Ar(i.palette.text.primary,i.palette.action.hoverOpacity),"--variant-outlinedBg":i.vars?`rgba(${i.vars.palette.text.primaryChannel} / ${i.vars.palette.action.hoverOpacity})`:Ar(i.palette.text.primary,i.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:i.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:i.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:i.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:i.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:i.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:i.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Dg.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Dg.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:i.transitions.create(["background-color","box-shadow","border-color"],{duration:i.transitions.duration.short}),[`&.${Dg.loading}`]:{color:"transparent"}}}]}})),Qbt=ge("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.startIcon,n.loading&&e.startIconLoadingStart,e[`iconSize${Ge(n.size)}`]]}})(({theme:i})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:i.transitions.create(["opacity"],{duration:i.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...K$]})),Jbt=ge("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.endIcon,n.loading&&e.endIconLoadingEnd,e[`iconSize${Ge(n.size)}`]]}})(({theme:i})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:i.transitions.create(["opacity"],{duration:i.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...K$]})),txt=ge("span",{name:"MuiButton",slot:"LoadingIndicator",overridesResolver:(i,e)=>e.loadingIndicator})(({theme:i})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(i.vars||i).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),JV=ge("span",{name:"MuiButton",slot:"LoadingIconPlaceholder",overridesResolver:(i,e)=>e.loadingIconPlaceholder})({display:"inline-block",width:"1em",height:"1em"}),iy=tt.forwardRef(function(e,n){const r=tt.useContext(Xbt),s=tt.useContext(Ybt),a=v_(r,e),o=Mn({props:a,name:"MuiButton"}),{children:l,color:u="primary",component:f="button",className:h,disabled:p=!1,disableElevation:y=!1,disableFocusRipple:_=!1,endIcon:x,focusVisibleClassName:S,fullWidth:E=!1,id:b,loading:A=null,loadingIndicator:C,loadingPosition:M="center",size:I="medium",startIcon:k,type:N,variant:L="text",...U}=o,O=tb(b),B=C??K.jsx(lU,{"aria-labelledby":O,color:"inherit",size:16}),H={...o,color:u,component:f,disabled:p,disableElevation:y,disableFocusRipple:_,fullWidth:E,loading:A,loadingIndicator:B,loadingPosition:M,size:I,type:N,variant:L},V=Kbt(H),X=(k||A&&M==="start")&&K.jsx(Qbt,{className:V.startIcon,ownerState:H,children:k||K.jsx(JV,{className:V.loadingIconPlaceholder,ownerState:H})}),et=(x||A&&M==="end")&&K.jsx(Jbt,{className:V.endIcon,ownerState:H,children:x||K.jsx(JV,{className:V.loadingIconPlaceholder,ownerState:H})}),q=s||"",W=typeof A=="boolean"?K.jsx("span",{className:V.loadingWrapper,style:{display:"contents"},children:A&&K.jsx(txt,{className:V.loadingIndicator,ownerState:H,children:B})}):null;return K.jsxs(Zbt,{ownerState:H,className:He(r.className,V.root,h,q),component:f,disabled:p||A,focusRipple:!_,focusVisibleClassName:He(V.focusVisible,S),ref:n,type:N,id:A?O:b,...U,classes:V,children:[X,M!=="end"&&W,l,M==="end"&&W,et]})});Ya.palette.buttons.buttonHomeScreen;function sA(i){return parseInt(i,10)||0}const ext={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function nxt(i){for(const e in i)return!1;return!0}function t6(i){return nxt(i)||i.outerHeightStyle===0&&!i.overflowing}const ixt=tt.forwardRef(function(e,n){const{onChange:r,maxRows:s,minRows:a=1,style:o,value:l,...u}=e,{current:f}=tt.useRef(l!=null),h=tt.useRef(null),p=ps(n,h),y=tt.useRef(null),_=tt.useRef(null),x=tt.useCallback(()=>{const C=h.current,M=_.current;if(!C||!M)return;const k=Yl(C).getComputedStyle(C);if(k.width==="0px")return{outerHeightStyle:0,overflowing:!1};M.style.width=k.width,M.value=C.value||e.placeholder||"x",M.value.slice(-1)===`
`&&(M.value+=" ");const N=k.boxSizing,L=sA(k.paddingBottom)+sA(k.paddingTop),U=sA(k.borderBottomWidth)+sA(k.borderTopWidth),O=M.scrollHeight;M.value="x";const B=M.scrollHeight;let H=O;a&&(H=Math.max(Number(a)*B,H)),s&&(H=Math.min(Number(s)*B,H)),H=Math.max(H,B);const V=H+(N==="border-box"?L+U:0),X=Math.abs(H-O)<=1;return{outerHeightStyle:V,overflowing:X}},[s,a,e.placeholder]),S=Nu(()=>{const C=h.current,M=x();if(!C||!M||t6(M))return!1;const I=M.outerHeightStyle;return y.current!=null&&y.current!==I}),E=tt.useCallback(()=>{const C=h.current,M=x();if(!C||!M||t6(M))return;const I=M.outerHeightStyle;y.current!==I&&(y.current=I,C.style.height=`${I}px`),C.style.overflow=M.overflowing?"hidden":""},[x]),b=tt.useRef(-1);Dc(()=>{const C=hE(E),M=h==null?void 0:h.current;if(!M)return;const I=Yl(M);I.addEventListener("resize",C);let k;return typeof ResizeObserver<"u"&&(k=new ResizeObserver(()=>{S()&&(k.unobserve(M),cancelAnimationFrame(b.current),E(),b.current=requestAnimationFrame(()=>{k.observe(M)}))}),k.observe(M)),()=>{C.clear(),cancelAnimationFrame(b.current),I.removeEventListener("resize",C),k&&k.disconnect()}},[x,E,S]),Dc(()=>{E()});const A=C=>{f||E(),r&&r(C)};return K.jsxs(tt.Fragment,{children:[K.jsx("textarea",{value:l,onChange:A,ref:p,rows:a,style:o,...u}),K.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:_,tabIndex:-1,style:{...ext.shadow,...o,paddingTop:0,paddingBottom:0}})]})});function Jy({props:i,states:e,muiFormControl:n}){return e.reduce((r,s)=>(r[s]=i[s],n&&typeof i[s]>"u"&&(r[s]=n[s]),r),{})}const u4=tt.createContext(void 0);function t0(){return tt.useContext(u4)}function e6(i){return i!=null&&!(Array.isArray(i)&&i.length===0)}function zC(i,e=!1){return i&&(e6(i.value)&&i.value!==""||e&&e6(i.defaultValue)&&i.defaultValue!=="")}function rxt(i){return i.startAdornment}function sxt(i){return bn("MuiInputBase",i)}const N_=yn("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var n6;const PR=(i,e)=>{const{ownerState:n}=i;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${Ge(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},DR=(i,e)=>{const{ownerState:n}=i;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},axt=i=>{const{classes:e,color:n,disabled:r,error:s,endAdornment:a,focused:o,formControl:l,fullWidth:u,hiddenLabel:f,multiline:h,readOnly:p,size:y,startAdornment:_,type:x}=i,S={root:["root",`color${Ge(n)}`,r&&"disabled",s&&"error",u&&"fullWidth",o&&"focused",l&&"formControl",y&&y!=="medium"&&`size${Ge(y)}`,h&&"multiline",_&&"adornedStart",a&&"adornedEnd",f&&"hiddenLabel",p&&"readOnly"],input:["input",r&&"disabled",x==="search"&&"inputTypeSearch",h&&"inputMultiline",y==="small"&&"inputSizeSmall",f&&"inputHiddenLabel",_&&"inputAdornedStart",a&&"inputAdornedEnd",p&&"readOnly"]};return xn(S,sxt,e)},NR=ge("div",{name:"MuiInputBase",slot:"Root",overridesResolver:PR})(Rn(({theme:i})=>({...i.typography.body1,color:(i.vars||i).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${N_.disabled}`]:{color:(i.vars||i).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:e})=>e.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:e,size:n})=>e.multiline&&n==="small",style:{paddingTop:1}},{props:({ownerState:e})=>e.fullWidth,style:{width:"100%"}}]}))),LR=ge("input",{name:"MuiInputBase",slot:"Input",overridesResolver:DR})(Rn(({theme:i})=>{const e=i.palette.mode==="light",n={color:"currentColor",...i.vars?{opacity:i.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5},transition:i.transitions.create("opacity",{duration:i.transitions.duration.shorter})},r={opacity:"0 !important"},s=i.vars?{opacity:i.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${N_.formControl} &`]:{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus::-ms-input-placeholder":s},[`&.${N_.disabled}`]:{opacity:1,WebkitTextFillColor:(i.vars||i).palette.text.disabled},variants:[{props:({ownerState:a})=>!a.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:a})=>a.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),i6=Fct({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),c4=tt.forwardRef(function(e,n){const r=Mn({props:e,name:"MuiInputBase"}),{"aria-describedby":s,autoComplete:a,autoFocus:o,className:l,color:u,components:f={},componentsProps:h={},defaultValue:p,disabled:y,disableInjectingGlobalStyles:_,endAdornment:x,error:S,fullWidth:E=!1,id:b,inputComponent:A="input",inputProps:C={},inputRef:M,margin:I,maxRows:k,minRows:N,multiline:L=!1,name:U,onBlur:O,onChange:B,onClick:H,onFocus:V,onKeyDown:X,onKeyUp:et,placeholder:q,readOnly:W,renderSuffix:Z,rows:nt,size:Q,slotProps:ht={},slots:yt={},startAdornment:xt,type:it="text",value:dt,...ft}=r,gt=C.value!=null?C.value:dt,{current:wt}=tt.useRef(gt!=null),Kt=tt.useRef(),kt=tt.useCallback(Ht=>{},[]),ee=ps(Kt,M,C.ref,kt),[Pt,Vt]=tt.useState(!1),at=t0(),ce=Jy({props:r,muiFormControl:at,states:["color","disabled","error","hiddenLabel","size","required","filled"]});ce.focused=at?at.focused:Pt,tt.useEffect(()=>{!at&&y&&Pt&&(Vt(!1),O&&O())},[at,y,Pt,O]);const te=at&&at.onFilled,ne=at&&at.onEmpty,ie=tt.useCallback(Ht=>{zC(Ht)?te&&te():ne&&ne()},[te,ne]);Dc(()=>{wt&&ie({value:gt})},[gt,ie,wt]);const Me=Ht=>{V&&V(Ht),C.onFocus&&C.onFocus(Ht),at&&at.onFocus?at.onFocus(Ht):Vt(!0)},le=Ht=>{O&&O(Ht),C.onBlur&&C.onBlur(Ht),at&&at.onBlur?at.onBlur(Ht):Vt(!1)},lt=(Ht,..._e)=>{if(!wt){const Re=Ht.target||Kt.current;if(Re==null)throw new Error(Ad(1));ie({value:Re.value})}C.onChange&&C.onChange(Ht,..._e),B&&B(Ht,..._e)};tt.useEffect(()=>{ie(Kt.current)},[]);const j=Ht=>{Kt.current&&Ht.currentTarget===Ht.target&&Kt.current.focus(),H&&H(Ht)};let ut=A,mt=C;L&&ut==="input"&&(nt?mt={type:void 0,minRows:nt,maxRows:nt,...mt}:mt={type:void 0,maxRows:k,minRows:N,...mt},ut=ixt);const Rt=Ht=>{ie(Ht.animationName==="mui-auto-fill-cancel"?Kt.current:{value:"x"})};tt.useEffect(()=>{at&&at.setAdornedStart(!!xt)},[at,xt]);const _t={...r,color:ce.color||"primary",disabled:ce.disabled,endAdornment:x,error:ce.error,focused:ce.focused,formControl:at,fullWidth:E,hiddenLabel:ce.hiddenLabel,multiline:L,size:ce.size,startAdornment:xt,type:it},Ct=axt(_t),Lt=yt.root||f.Root||NR,Qt=ht.root||h.root||{},De=yt.input||f.Input||LR;return mt={...mt,...ht.input??h.input},K.jsxs(tt.Fragment,{children:[!_&&typeof i6=="function"&&(n6||(n6=K.jsx(i6,{}))),K.jsxs(Lt,{...Qt,ref:n,onClick:j,...ft,...!n3(Lt)&&{ownerState:{..._t,...Qt.ownerState}},className:He(Ct.root,Qt.className,l,W&&"MuiInputBase-readOnly"),children:[xt,K.jsx(u4.Provider,{value:null,children:K.jsx(De,{"aria-invalid":ce.error,"aria-describedby":s,autoComplete:a,autoFocus:o,defaultValue:p,disabled:ce.disabled,id:b,onAnimationStart:Rt,name:U,placeholder:q,readOnly:W,required:ce.required,rows:nt,value:gt,onKeyDown:X,onKeyUp:et,type:it,...mt,...!n3(De)&&{as:ut,ownerState:{..._t,...mt.ownerState}},ref:ee,className:He(Ct.input,mt.className,W&&"MuiInputBase-readOnly"),onBlur:le,onChange:lt,onFocus:Me})}),x,Z?Z({...ce,startAdornment:xt}):null]})]})});function oxt(i){return bn("MuiInput",i)}const Vx={...N_,...yn("MuiInput",["root","underline","input"])};function lxt(i){return bn("MuiOutlinedInput",i)}const Mf={...N_,...yn("MuiOutlinedInput",["root","notchedOutline","input"])};function uxt(i){return bn("MuiFilledInput",i)}const Ng={...N_,...yn("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},cxt=gs(K.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown");function fxt(i){return bn("MuiCard",i)}yn("MuiCard",["root"]);const hxt=i=>{const{classes:e}=i;return xn({root:["root"]},fxt,e)},dxt=ge(fR,{name:"MuiCard",slot:"Root",overridesResolver:(i,e)=>e.root})({overflow:"hidden"}),f4=tt.forwardRef(function(e,n){const r=Mn({props:e,name:"MuiCard"}),{className:s,raised:a=!1,...o}=r,l={...r,raised:a},u=hxt(l);return K.jsx(dxt,{className:He(u.root,s),elevation:a?8:void 0,ref:n,ownerState:l,...o})});function pxt(i){return bn("MuiCardContent",i)}yn("MuiCardContent",["root"]);const mxt=i=>{const{classes:e}=i;return xn({root:["root"]},pxt,e)},gxt=ge("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(i,e)=>e.root})({padding:16,"&:last-child":{paddingBottom:24}}),yxt=tt.forwardRef(function(e,n){const r=Mn({props:e,name:"MuiCardContent"}),{className:s,component:a="div",...o}=r,l={...r,component:a},u=mxt(l);return K.jsx(gxt,{as:a,className:He(u.root,s),ownerState:l,ref:n,...o})});function vxt(i){return bn("MuiCardMedia",i)}yn("MuiCardMedia",["root","media","img"]);const _xt=i=>{const{classes:e,isMediaComponent:n,isImageComponent:r}=i;return xn({root:["root",n&&"media",r&&"img"]},vxt,e)},bxt=ge("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:n}=i,{isMediaComponent:r,isImageComponent:s}=n;return[e.root,r&&e.media,s&&e.img]}})({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",variants:[{props:{isMediaComponent:!0},style:{width:"100%"}},{props:{isImageComponent:!0},style:{objectFit:"cover"}}]}),xxt=["video","audio","picture","iframe","img"],Sxt=["picture","img"],Ext=tt.forwardRef(function(e,n){const r=Mn({props:e,name:"MuiCardMedia"}),{children:s,className:a,component:o="div",image:l,src:u,style:f,...h}=r,p=xxt.includes(o),y=!p&&l?{backgroundImage:`url("${l}")`,...f}:f,_={...r,component:o,isMediaComponent:p,isImageComponent:Sxt.includes(o)},x=_xt(_);return K.jsx(bxt,{className:He(x.root,a),as:o,role:!p&&l?"img":void 0,ref:n,style:y,ownerState:_,src:p?l||u:void 0,...h,children:s})}),Txt=i=>{const{classes:e,disableUnderline:n,startAdornment:r,endAdornment:s,size:a,hiddenLabel:o,multiline:l}=i,u={root:["root",!n&&"underline",r&&"adornedStart",s&&"adornedEnd",a==="small"&&`size${Ge(a)}`,o&&"hiddenLabel",l&&"multiline"],input:["input"]},f=xn(u,uxt,e);return{...e,...f}},wxt=ge(NR,{shouldForwardProp:i=>Vu(i)||i==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[...PR(i,e),!n.disableUnderline&&e.underline]}})(Rn(({theme:i})=>{const e=i.palette.mode==="light",n=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",s=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:i.vars?i.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(i.vars||i).shape.borderRadius,borderTopRightRadius:(i.vars||i).shape.borderRadius,transition:i.transitions.create("background-color",{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut}),"&:hover":{backgroundColor:i.vars?i.vars.palette.FilledInput.hoverBg:s,"@media (hover: none)":{backgroundColor:i.vars?i.vars.palette.FilledInput.bg:r}},[`&.${Ng.focused}`]:{backgroundColor:i.vars?i.vars.palette.FilledInput.bg:r},[`&.${Ng.disabled}`]:{backgroundColor:i.vars?i.vars.palette.FilledInput.disabledBg:a},variants:[{props:({ownerState:o})=>!o.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:i.transitions.create("transform",{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Ng.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Ng.error}`]:{"&::before, &::after":{borderBottomColor:(i.vars||i).palette.error.main}},"&::before":{borderBottom:`1px solid ${i.vars?`rgba(${i.vars.palette.common.onBackgroundChannel} / ${i.vars.opacity.inputUnderline})`:n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:i.transitions.create("border-bottom-color",{duration:i.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Ng.disabled}, .${Ng.error}):before`]:{borderBottom:`1px solid ${(i.vars||i).palette.text.primary}`},[`&.${Ng.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(i.palette).filter(ta()).map(([o])=>{var l;return{props:{disableUnderline:!1,color:o},style:{"&::after":{borderBottom:`2px solid ${(l=(i.vars||i).palette[o])==null?void 0:l.main}`}}}}),{props:({ownerState:o})=>o.startAdornment,style:{paddingLeft:12}},{props:({ownerState:o})=>o.endAdornment,style:{paddingRight:12}},{props:({ownerState:o})=>o.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:o,size:l})=>o.multiline&&l==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:o})=>o.multiline&&o.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:o})=>o.multiline&&o.hiddenLabel&&o.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),Axt=ge(LR,{name:"MuiFilledInput",slot:"Input",overridesResolver:DR})(Rn(({theme:i})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!i.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:i.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:i.palette.mode==="light"?null:"#fff",caretColor:i.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...i.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[i.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:e})=>e.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}},{props:({ownerState:e})=>e.hiddenLabel&&e.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:e})=>e.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),h4=tt.forwardRef(function(e,n){const r=Mn({props:e,name:"MuiFilledInput"}),{disableUnderline:s=!1,components:a={},componentsProps:o,fullWidth:l=!1,hiddenLabel:u,inputComponent:f="input",multiline:h=!1,slotProps:p,slots:y={},type:_="text",...x}=r,S={...r,disableUnderline:s,fullWidth:l,inputComponent:f,multiline:h,type:_},E=Txt(r),b={root:{ownerState:S},input:{ownerState:S}},A=p??o?Js(b,p??o):b,C=y.root??a.Root??wxt,M=y.input??a.Input??Axt;return K.jsx(c4,{slots:{root:C,input:M},slotProps:A,fullWidth:l,inputComponent:f,multiline:h,ref:n,type:_,...x,classes:E})});h4.muiName="Input";function Mxt(i){return bn("MuiFormControl",i)}yn("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const Cxt=i=>{const{classes:e,margin:n,fullWidth:r}=i,s={root:["root",n!=="none"&&`margin${Ge(n)}`,r&&"fullWidth"]};return xn(s,Mxt,e)},Rxt=ge("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.root,e[`margin${Ge(n.margin)}`],n.fullWidth&&e.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),d4=tt.forwardRef(function(e,n){const r=Mn({props:e,name:"MuiFormControl"}),{children:s,className:a,color:o="primary",component:l="div",disabled:u=!1,error:f=!1,focused:h,fullWidth:p=!1,hiddenLabel:y=!1,margin:_="none",required:x=!1,size:S="medium",variant:E="outlined",...b}=r,A={...r,color:o,component:l,disabled:u,error:f,fullWidth:p,hiddenLabel:y,margin:_,required:x,size:S,variant:E},C=Cxt(A),[M,I]=tt.useState(()=>{let et=!1;return s&&tt.Children.forEach(s,q=>{if(!dP(q,["Input","Select"]))return;const W=dP(q,["Select"])?q.props.input:q;W&&rxt(W.props)&&(et=!0)}),et}),[k,N]=tt.useState(()=>{let et=!1;return s&&tt.Children.forEach(s,q=>{dP(q,["Input","Select"])&&(zC(q.props,!0)||zC(q.props.inputProps,!0))&&(et=!0)}),et}),[L,U]=tt.useState(!1);u&&L&&U(!1);const O=h!==void 0&&!u?h:L;let B;tt.useRef(!1);const H=tt.useCallback(()=>{N(!0)},[]),V=tt.useCallback(()=>{N(!1)},[]),X=tt.useMemo(()=>({adornedStart:M,setAdornedStart:I,color:o,disabled:u,error:f,filled:k,focused:O,fullWidth:p,hiddenLabel:y,size:S,onBlur:()=>{U(!1)},onFocus:()=>{U(!0)},onEmpty:V,onFilled:H,registerEffect:B,required:x,variant:E}),[M,o,u,f,k,O,p,y,B,V,H,x,S,E]);return K.jsx(u4.Provider,{value:X,children:K.jsx(Rxt,{as:l,ownerState:A,className:He(C.root,a),ref:n,...b,children:s})})});function Oxt(i){return bn("MuiFormGroup",i)}yn("MuiFormGroup",["root","row","error"]);const Ixt=i=>{const{classes:e,row:n,error:r}=i;return xn({root:["root",n&&"row",r&&"error"]},Oxt,e)},Pxt=ge("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.root,n.row&&e.row]}})({display:"flex",flexDirection:"column",flexWrap:"wrap",variants:[{props:{row:!0},style:{flexDirection:"row"}}]}),Dxt=tt.forwardRef(function(e,n){const r=Mn({props:e,name:"MuiFormGroup"}),{className:s,row:a=!1,...o}=r,l=t0(),u=Jy({props:r,muiFormControl:l,states:["error"]}),f={...r,row:a,error:u.error},h=Ixt(f);return K.jsx(Pxt,{className:He(h.root,s),ownerState:f,ref:n,...o})});function Nxt(i){return bn("MuiFormHelperText",i)}const r6=yn("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var s6;const Lxt=i=>{const{classes:e,contained:n,size:r,disabled:s,error:a,filled:o,focused:l,required:u}=i,f={root:["root",s&&"disabled",a&&"error",r&&`size${Ge(r)}`,n&&"contained",l&&"focused",o&&"filled",u&&"required"]};return xn(f,Nxt,e)},Uxt=ge("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.root,n.size&&e[`size${Ge(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(Rn(({theme:i})=>({color:(i.vars||i).palette.text.secondary,...i.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${r6.disabled}`]:{color:(i.vars||i).palette.text.disabled},[`&.${r6.error}`]:{color:(i.vars||i).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:e})=>e.contained,style:{marginLeft:14,marginRight:14}}]}))),kxt=tt.forwardRef(function(e,n){const r=Mn({props:e,name:"MuiFormHelperText"}),{children:s,className:a,component:o="p",disabled:l,error:u,filled:f,focused:h,margin:p,required:y,variant:_,...x}=r,S=t0(),E=Jy({props:r,muiFormControl:S,states:["variant","size","disabled","error","filled","focused","required"]}),b={...r,component:o,contained:E.variant==="filled"||E.variant==="outlined",variant:E.variant,size:E.size,disabled:E.disabled,error:E.error,filled:E.filled,focused:E.focused,required:E.required};delete b.ownerState;const A=Lxt(b);return K.jsx(Uxt,{as:o,className:He(A.root,a),ref:n,...x,ownerState:b,children:s===" "?s6||(s6=K.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):s})});function zxt(i){return bn("MuiFormLabel",i)}const H1=yn("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Bxt=i=>{const{classes:e,color:n,focused:r,disabled:s,error:a,filled:o,required:l}=i,u={root:["root",`color${Ge(n)}`,s&&"disabled",a&&"error",o&&"filled",r&&"focused",l&&"required"],asterisk:["asterisk",a&&"error"]};return xn(u,zxt,e)},Fxt=ge("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.root,n.color==="secondary"&&e.colorSecondary,n.filled&&e.filled]}})(Rn(({theme:i})=>({color:(i.vars||i).palette.text.secondary,...i.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(i.palette).filter(ta()).map(([e])=>({props:{color:e},style:{[`&.${H1.focused}`]:{color:(i.vars||i).palette[e].main}}})),{props:{},style:{[`&.${H1.disabled}`]:{color:(i.vars||i).palette.text.disabled},[`&.${H1.error}`]:{color:(i.vars||i).palette.error.main}}}]}))),Vxt=ge("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(i,e)=>e.asterisk})(Rn(({theme:i})=>({[`&.${H1.error}`]:{color:(i.vars||i).palette.error.main}}))),p4=tt.forwardRef(function(e,n){const r=Mn({props:e,name:"MuiFormLabel"}),{children:s,className:a,color:o,component:l="label",disabled:u,error:f,filled:h,focused:p,required:y,..._}=r,x=t0(),S=Jy({props:r,muiFormControl:x,states:["color","required","focused","disabled","error","filled"]}),E={...r,color:S.color||"primary",component:l,disabled:S.disabled,error:S.error,filled:S.filled,focused:S.focused,required:S.required},b=Bxt(E);return K.jsxs(Fxt,{as:l,ownerState:E,className:He(b.root,a),ref:n,..._,children:[s,S.required&&K.jsxs(Vxt,{ownerState:E,"aria-hidden":!0,className:b.asterisk,children:["","*"]})]})}),Hxt=i=>{const{classes:e,disableUnderline:n}=i,s=xn({root:["root",!n&&"underline"],input:["input"]},oxt,e);return{...e,...s}},jxt=ge(NR,{shouldForwardProp:i=>Vu(i)||i==="classes",name:"MuiInput",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[...PR(i,e),!n.disableUnderline&&e.underline]}})(Rn(({theme:i})=>{let n=i.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return i.vars&&(n=`rgba(${i.vars.palette.common.onBackgroundChannel} / ${i.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:({ownerState:r})=>r.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:r})=>!r.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:i.transitions.create("transform",{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Vx.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Vx.error}`]:{"&::before, &::after":{borderBottomColor:(i.vars||i).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:i.transitions.create("border-bottom-color",{duration:i.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Vx.disabled}, .${Vx.error}):before`]:{borderBottom:`2px solid ${(i.vars||i).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${Vx.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(i.palette).filter(ta()).map(([r])=>({props:{color:r,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(i.vars||i).palette[r].main}`}}}))]}})),Gxt=ge(LR,{name:"MuiInput",slot:"Input",overridesResolver:DR})({}),m4=tt.forwardRef(function(e,n){const r=Mn({props:e,name:"MuiInput"}),{disableUnderline:s=!1,components:a={},componentsProps:o,fullWidth:l=!1,inputComponent:u="input",multiline:f=!1,slotProps:h,slots:p={},type:y="text",..._}=r,x=Hxt(r),E={root:{ownerState:{disableUnderline:s}}},b=h??o?Js(h??o,E):E,A=p.root??a.Root??jxt,C=p.input??a.Input??Gxt;return K.jsx(c4,{slots:{root:A,input:C},slotProps:b,fullWidth:l,inputComponent:u,multiline:f,ref:n,type:y,..._,classes:x})});m4.muiName="Input";function qxt(i){return bn("MuiInputLabel",i)}yn("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const $xt=i=>{const{classes:e,formControl:n,size:r,shrink:s,disableAnimation:a,variant:o,required:l}=i,u={root:["root",n&&"formControl",!a&&"animated",s&&"shrink",r&&r!=="normal"&&`size${Ge(r)}`,o],asterisk:[l&&"asterisk"]},f=xn(u,qxt,e);return{...e,...f}},Wxt=ge(p4,{shouldForwardProp:i=>Vu(i)||i==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[{[`& .${H1.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(Rn(({theme:i})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:e})=>e.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:e})=>e.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:e})=>!e.disableAnimation,style:{transition:i.transitions.create(["color","transform","max-width"],{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:e,ownerState:n})=>e==="filled"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:e,ownerState:n,size:r})=>e==="filled"&&n.shrink&&r==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:e,ownerState:n})=>e==="outlined"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),Xxt=tt.forwardRef(function(e,n){const r=Mn({name:"MuiInputLabel",props:e}),{disableAnimation:s=!1,margin:a,shrink:o,variant:l,className:u,...f}=r,h=t0();let p=o;typeof p>"u"&&h&&(p=h.filled||h.focused||h.adornedStart);const y=Jy({props:r,muiFormControl:h,states:["size","variant","required","focused"]}),_={...r,disableAnimation:s,formControl:h,shrink:p,size:y.size,variant:y.variant,required:y.required,focused:y.focused},x=$xt(_);return K.jsx(Wxt,{"data-shrink":p,ref:n,className:He(x.root,u),...f,ownerState:_,classes:x})});function Yxt(i){return bn("MuiLinearProgress",i)}yn("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","bar1","bar2","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const z3=4,B3=Mm`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`,Kxt=typeof B3!="string"?J_`
        animation: ${B3} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
      `:null,F3=Mm`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`,Zxt=typeof F3!="string"?J_`
        animation: ${F3} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
      `:null,V3=Mm`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`,Qxt=typeof V3!="string"?J_`
        animation: ${V3} 3s infinite linear;
      `:null,Jxt=i=>{const{classes:e,variant:n,color:r}=i,s={root:["root",`color${Ge(r)}`,n],dashed:["dashed",`dashedColor${Ge(r)}`],bar1:["bar","bar1",`barColor${Ge(r)}`,(n==="indeterminate"||n==="query")&&"bar1Indeterminate",n==="determinate"&&"bar1Determinate",n==="buffer"&&"bar1Buffer"],bar2:["bar","bar2",n!=="buffer"&&`barColor${Ge(r)}`,n==="buffer"&&`color${Ge(r)}`,(n==="indeterminate"||n==="query")&&"bar2Indeterminate",n==="buffer"&&"bar2Buffer"]};return xn(s,Yxt,e)},g4=(i,e)=>i.vars?i.vars.palette.LinearProgress[`${e}Bg`]:i.palette.mode==="light"?Py(i.palette[e].main,.62):Iy(i.palette[e].main,.5),t1t=ge("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.root,e[`color${Ge(n.color)}`],e[n.variant]]}})(Rn(({theme:i})=>({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},variants:[...Object.entries(i.palette).filter(ta()).map(([e])=>({props:{color:e},style:{backgroundColor:g4(i,e)}})),{props:({ownerState:e})=>e.color==="inherit"&&e.variant!=="buffer",style:{"&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}}},{props:{variant:"buffer"},style:{backgroundColor:"transparent"}},{props:{variant:"query"},style:{transform:"rotate(180deg)"}}]}))),e1t=ge("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.dashed,e[`dashedColor${Ge(n.color)}`]]}})(Rn(({theme:i})=>({position:"absolute",marginTop:0,height:"100%",width:"100%",backgroundSize:"10px 10px",backgroundPosition:"0 -23px",variants:[{props:{color:"inherit"},style:{opacity:.3,backgroundImage:"radial-gradient(currentColor 0%, currentColor 16%, transparent 42%)"}},...Object.entries(i.palette).filter(ta()).map(([e])=>{const n=g4(i,e);return{props:{color:e},style:{backgroundImage:`radial-gradient(${n} 0%, ${n} 16%, transparent 42%)`}}})]})),Qxt||{animation:`${V3} 3s infinite linear`}),n1t=ge("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.bar,e.bar1,e[`barColor${Ge(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&e.bar1Indeterminate,n.variant==="determinate"&&e.bar1Determinate,n.variant==="buffer"&&e.bar1Buffer]}})(Rn(({theme:i})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[{props:{color:"inherit"},style:{backgroundColor:"currentColor"}},...Object.entries(i.palette).filter(ta()).map(([e])=>({props:{color:e},style:{backgroundColor:(i.vars||i).palette[e].main}})),{props:{variant:"determinate"},style:{transition:`transform .${z3}s linear`}},{props:{variant:"buffer"},style:{zIndex:1,transition:`transform .${z3}s linear`}},{props:({ownerState:e})=>e.variant==="indeterminate"||e.variant==="query",style:{width:"auto"}},{props:({ownerState:e})=>e.variant==="indeterminate"||e.variant==="query",style:Kxt||{animation:`${B3} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite`}}]}))),i1t=ge("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.bar,e.bar2,e[`barColor${Ge(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&e.bar2Indeterminate,n.variant==="buffer"&&e.bar2Buffer]}})(Rn(({theme:i})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[...Object.entries(i.palette).filter(ta()).map(([e])=>({props:{color:e},style:{"--LinearProgressBar2-barColor":(i.vars||i).palette[e].main}})),{props:({ownerState:e})=>e.variant!=="buffer"&&e.color!=="inherit",style:{backgroundColor:"var(--LinearProgressBar2-barColor, currentColor)"}},{props:({ownerState:e})=>e.variant!=="buffer"&&e.color==="inherit",style:{backgroundColor:"currentColor"}},{props:{color:"inherit"},style:{opacity:.3}},...Object.entries(i.palette).filter(ta()).map(([e])=>({props:{color:e,variant:"buffer"},style:{backgroundColor:g4(i,e),transition:`transform .${z3}s linear`}})),{props:({ownerState:e})=>e.variant==="indeterminate"||e.variant==="query",style:{width:"auto"}},{props:({ownerState:e})=>e.variant==="indeterminate"||e.variant==="query",style:Zxt||{animation:`${F3} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite`}}]}))),Gg=tt.forwardRef(function(e,n){const r=Mn({props:e,name:"MuiLinearProgress"}),{className:s,color:a="primary",value:o,valueBuffer:l,variant:u="indeterminate",...f}=r,h={...r,color:a,variant:u},p=Jxt(h),y=eb(),_={},x={bar1:{},bar2:{}};if((u==="determinate"||u==="buffer")&&o!==void 0){_["aria-valuenow"]=Math.round(o),_["aria-valuemin"]=0,_["aria-valuemax"]=100;let S=o-100;y&&(S=-S),x.bar1.transform=`translateX(${S}%)`}if(u==="buffer"&&l!==void 0){let S=(l||0)-100;y&&(S=-S),x.bar2.transform=`translateX(${S}%)`}return K.jsxs(t1t,{className:He(p.root,s),ownerState:h,role:"progressbar",..._,ref:n,...f,children:[u==="buffer"?K.jsx(e1t,{className:p.dashed,ownerState:h}):null,K.jsx(n1t,{className:p.bar1,ownerState:h,style:x.bar1}),u==="determinate"?null:K.jsx(i1t,{className:p.bar2,ownerState:h,style:x.bar2})]})});function r1t(i){return bn("MuiNativeSelect",i)}const y4=yn("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),s1t=i=>{const{classes:e,variant:n,disabled:r,multiple:s,open:a,error:o}=i,l={select:["select",n,r&&"disabled",s&&"multiple",o&&"error"],icon:["icon",`icon${Ge(n)}`,a&&"iconOpen",r&&"disabled"]};return xn(l,r1t,e)},Z$=ge("select")(({theme:i})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${y4.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(i.vars||i).palette.background.paper},variants:[{props:({ownerState:e})=>e.variant!=="filled"&&e.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(i.vars||i).shape.borderRadius,"&:focus":{borderRadius:(i.vars||i).shape.borderRadius},"&&&":{paddingRight:32}}}]})),a1t=ge(Z$,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Vu,overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.select,e[n.variant],n.error&&e.error,{[`&.${y4.multiple}`]:e.multiple}]}})({}),Q$=ge("svg")(({theme:i})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(i.vars||i).palette.action.active,[`&.${y4.disabled}`]:{color:(i.vars||i).palette.action.disabled},variants:[{props:({ownerState:e})=>e.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),o1t=ge(Q$,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.icon,n.variant&&e[`icon${Ge(n.variant)}`],n.open&&e.iconOpen]}})({}),l1t=tt.forwardRef(function(e,n){const{className:r,disabled:s,error:a,IconComponent:o,inputRef:l,variant:u="standard",...f}=e,h={...e,disabled:s,variant:u,error:a},p=s1t(h);return K.jsxs(tt.Fragment,{children:[K.jsx(a1t,{ownerState:h,className:He(p.select,r),disabled:s,ref:l||n,...f}),e.multiple?null:K.jsx(o1t,{as:o,ownerState:h,className:p.icon})]})});var a6;const u1t=ge("fieldset",{shouldForwardProp:Vu})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),c1t=ge("legend",{shouldForwardProp:Vu})(Rn(({theme:i})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:e})=>!e.withLabel,style:{padding:0,lineHeight:"11px",transition:i.transitions.create("width",{duration:150,easing:i.transitions.easing.easeOut})}},{props:({ownerState:e})=>e.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:i.transitions.create("max-width",{duration:50,easing:i.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:e})=>e.withLabel&&e.notched,style:{maxWidth:"100%",transition:i.transitions.create("max-width",{duration:100,easing:i.transitions.easing.easeOut,delay:50})}}]})));function f1t(i){const{children:e,classes:n,className:r,label:s,notched:a,...o}=i,l=s!=null&&s!=="",u={...i,notched:a,withLabel:l};return K.jsx(u1t,{"aria-hidden":!0,className:r,ownerState:u,...o,children:K.jsx(c1t,{ownerState:u,children:l?K.jsx("span",{children:s}):a6||(a6=K.jsx("span",{className:"notranslate","aria-hidden":!0,children:""}))})})}const h1t=i=>{const{classes:e}=i,r=xn({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},lxt,e);return{...e,...r}},d1t=ge(NR,{shouldForwardProp:i=>Vu(i)||i==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:PR})(Rn(({theme:i})=>{const e=i.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(i.vars||i).shape.borderRadius,[`&:hover .${Mf.notchedOutline}`]:{borderColor:(i.vars||i).palette.text.primary},"@media (hover: none)":{[`&:hover .${Mf.notchedOutline}`]:{borderColor:i.vars?`rgba(${i.vars.palette.common.onBackgroundChannel} / 0.23)`:e}},[`&.${Mf.focused} .${Mf.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(i.palette).filter(ta()).map(([n])=>({props:{color:n},style:{[`&.${Mf.focused} .${Mf.notchedOutline}`]:{borderColor:(i.vars||i).palette[n].main}}})),{props:{},style:{[`&.${Mf.error} .${Mf.notchedOutline}`]:{borderColor:(i.vars||i).palette.error.main},[`&.${Mf.disabled} .${Mf.notchedOutline}`]:{borderColor:(i.vars||i).palette.action.disabled}}},{props:({ownerState:n})=>n.startAdornment,style:{paddingLeft:14}},{props:({ownerState:n})=>n.endAdornment,style:{paddingRight:14}},{props:({ownerState:n})=>n.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:n,size:r})=>n.multiline&&r==="small",style:{padding:"8.5px 14px"}}]}})),p1t=ge(f1t,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(i,e)=>e.notchedOutline})(Rn(({theme:i})=>{const e=i.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:i.vars?`rgba(${i.vars.palette.common.onBackgroundChannel} / 0.23)`:e}})),m1t=ge(LR,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:DR})(Rn(({theme:i})=>({padding:"16.5px 14px",...!i.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:i.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:i.palette.mode==="light"?null:"#fff",caretColor:i.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...i.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[i.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:e})=>e.multiline,style:{padding:0}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}}]}))),v4=tt.forwardRef(function(e,n){var r;const s=Mn({props:e,name:"MuiOutlinedInput"}),{components:a={},fullWidth:o=!1,inputComponent:l="input",label:u,multiline:f=!1,notched:h,slots:p={},type:y="text",..._}=s,x=h1t(s),S=t0(),E=Jy({props:s,muiFormControl:S,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),b={...s,color:E.color||"primary",disabled:E.disabled,error:E.error,focused:E.focused,formControl:S,fullWidth:o,hiddenLabel:E.hiddenLabel,multiline:f,size:E.size,type:y},A=p.root??a.Root??d1t,C=p.input??a.Input??m1t;return K.jsx(c4,{slots:{root:A,input:C},renderSuffix:M=>K.jsx(p1t,{ownerState:b,className:x.notchedOutline,label:u!=null&&u!==""&&E.required?r||(r=K.jsxs(tt.Fragment,{children:[u,"","*"]})):u,notched:typeof h<"u"?h:!!(M.startAdornment||M.filled||M.focused)}),fullWidth:o,inputComponent:l,multiline:f,ref:n,type:y,..._,classes:{...x,notchedOutline:null}})});v4.muiName="Input";const g1t=tt.createContext(void 0);function y1t(i){return bn("MuiRadioGroup",i)}yn("MuiRadioGroup",["root","row","error"]);const v1t=i=>{const{classes:e,row:n,error:r}=i;return xn({root:["root",n&&"row",r&&"error"]},y1t,e)},_1t=tt.forwardRef(function(e,n){const{actions:r,children:s,className:a,defaultValue:o,name:l,onChange:u,value:f,...h}=e,p=tt.useRef(null),y=v1t(e),[_,x]=uC({controlled:f,default:o,name:"RadioGroup"});tt.useImperativeHandle(r,()=>({focus:()=>{let A=p.current.querySelector("input:not(:disabled):checked");A||(A=p.current.querySelector("input:not(:disabled)")),A&&A.focus()}}),[]);const S=ps(n,p),E=tb(l),b=tt.useMemo(()=>({name:E,onChange(A){x(A.target.value),u&&u(A,A.target.value)},value:_}),[E,u,x,_]);return K.jsx(g1t.Provider,{value:b,children:K.jsx(Dxt,{role:"radiogroup",ref:S,className:He(y.root,a),...h,children:s})})});function J$(i){return bn("MuiSelect",i)}const Hx=yn("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var o6;const b1t=ge(Z$,{name:"MuiSelect",slot:"Select",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[{[`&.${Hx.select}`]:e.select},{[`&.${Hx.select}`]:e[n.variant]},{[`&.${Hx.error}`]:e.error},{[`&.${Hx.multiple}`]:e.multiple}]}})({[`&.${Hx.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),x1t=ge(Q$,{name:"MuiSelect",slot:"Icon",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.icon,n.variant&&e[`icon${Ge(n.variant)}`],n.open&&e.iconOpen]}})({}),S1t=ge("input",{shouldForwardProp:i=>fG(i)&&i!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(i,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function l6(i,e){return typeof e=="object"&&e!==null?i===e:String(i)===String(e)}function E1t(i){return i==null||typeof i=="string"&&!i.trim()}const T1t=i=>{const{classes:e,variant:n,disabled:r,multiple:s,open:a,error:o}=i,l={select:["select",n,r&&"disabled",s&&"multiple",o&&"error"],icon:["icon",`icon${Ge(n)}`,a&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return xn(l,J$,e)},w1t=tt.forwardRef(function(e,n){var Oe;const{"aria-describedby":r,"aria-label":s,autoFocus:a,autoWidth:o,children:l,className:u,defaultOpen:f,defaultValue:h,disabled:p,displayEmpty:y,error:_=!1,IconComponent:x,inputRef:S,labelId:E,MenuProps:b={},multiple:A,name:C,onBlur:M,onChange:I,onClose:k,onFocus:N,onOpen:L,open:U,readOnly:O,renderValue:B,required:H,SelectDisplayProps:V={},tabIndex:X,type:et,value:q,variant:W="standard",...Z}=e,[nt,Q]=uC({controlled:q,default:h,name:"Select"}),[ht,yt]=uC({controlled:U,default:f,name:"Select"}),xt=tt.useRef(null),it=tt.useRef(null),[dt,ft]=tt.useState(null),{current:gt}=tt.useRef(U!=null),[wt,Kt]=tt.useState(),kt=ps(n,S),ee=tt.useCallback(Zt=>{it.current=Zt,Zt&&ft(Zt)},[]),Pt=dt==null?void 0:dt.parentNode;tt.useImperativeHandle(kt,()=>({focus:()=>{it.current.focus()},node:xt.current,value:nt}),[nt]),tt.useEffect(()=>{f&&ht&&dt&&!gt&&(Kt(o?null:Pt.clientWidth),it.current.focus())},[dt,o]),tt.useEffect(()=>{a&&it.current.focus()},[a]),tt.useEffect(()=>{if(!E)return;const Zt=ml(it.current).getElementById(E);if(Zt){const Pe=()=>{getSelection().isCollapsed&&it.current.focus()};return Zt.addEventListener("click",Pe),()=>{Zt.removeEventListener("click",Pe)}}},[E]);const Vt=(Zt,Pe)=>{Zt?L&&L(Pe):k&&k(Pe),gt||(Kt(o?null:Pt.clientWidth),yt(Zt))},at=Zt=>{Zt.button===0&&(Zt.preventDefault(),it.current.focus(),Vt(!0,Zt))},ce=Zt=>{Vt(!1,Zt)},te=tt.Children.toArray(l),ne=Zt=>{const Pe=te.find(Ne=>Ne.props.value===Zt.target.value);Pe!==void 0&&(Q(Pe.props.value),I&&I(Zt,Pe))},ie=Zt=>Pe=>{let Ne;if(Pe.currentTarget.hasAttribute("tabindex")){if(A){Ne=Array.isArray(nt)?nt.slice():[];const sn=nt.indexOf(Zt.props.value);sn===-1?Ne.push(Zt.props.value):Ne.splice(sn,1)}else Ne=Zt.props.value;if(Zt.props.onClick&&Zt.props.onClick(Pe),nt!==Ne&&(Q(Ne),I)){const sn=Pe.nativeEvent||Pe,Tt=new sn.constructor(sn.type,sn);Object.defineProperty(Tt,"target",{writable:!0,value:{value:Ne,name:C}}),I(Tt,Zt)}A||Vt(!1,Pe)}},Me=Zt=>{O||[" ","ArrowUp","ArrowDown","Enter"].includes(Zt.key)&&(Zt.preventDefault(),Vt(!0,Zt))},le=dt!==null&&ht,lt=Zt=>{!le&&M&&(Object.defineProperty(Zt,"target",{writable:!0,value:{value:nt,name:C}}),M(Zt))};delete Z["aria-invalid"];let j,ut;const mt=[];let Rt=!1;(zC({value:nt})||y)&&(B?j=B(nt):Rt=!0);const _t=te.map(Zt=>{if(!tt.isValidElement(Zt))return null;let Pe;if(A){if(!Array.isArray(nt))throw new Error(Ad(2));Pe=nt.some(Ne=>l6(Ne,Zt.props.value)),Pe&&Rt&&mt.push(Zt.props.children)}else Pe=l6(nt,Zt.props.value),Pe&&Rt&&(ut=Zt.props.children);return tt.cloneElement(Zt,{"aria-selected":Pe?"true":"false",onClick:ie(Zt),onKeyUp:Ne=>{Ne.key===" "&&Ne.preventDefault(),Zt.props.onKeyUp&&Zt.props.onKeyUp(Ne)},role:"option",selected:Pe,value:void 0,"data-value":Zt.props.value})});Rt&&(A?mt.length===0?j=null:j=mt.reduce((Zt,Pe,Ne)=>(Zt.push(Pe),Ne<mt.length-1&&Zt.push(", "),Zt),[]):j=ut);let Ct=wt;!o&&gt&&dt&&(Ct=Pt.clientWidth);let Lt;typeof X<"u"?Lt=X:Lt=p?null:0;const Qt=V.id||(C?`mui-component-select-${C}`:void 0),De={...e,variant:W,value:nt,open:le,error:_},Ht=T1t(De),_e={...b.PaperProps,...(Oe=b.slotProps)==null?void 0:Oe.paper},Re=tb();return K.jsxs(tt.Fragment,{children:[K.jsx(b1t,{as:"div",ref:ee,tabIndex:Lt,role:"combobox","aria-controls":le?Re:void 0,"aria-disabled":p?"true":void 0,"aria-expanded":le?"true":"false","aria-haspopup":"listbox","aria-label":s,"aria-labelledby":[E,Qt].filter(Boolean).join(" ")||void 0,"aria-describedby":r,"aria-required":H?"true":void 0,"aria-invalid":_?"true":void 0,onKeyDown:Me,onMouseDown:p||O?null:at,onBlur:lt,onFocus:N,...V,ownerState:De,className:He(V.className,Ht.select,u),id:Qt,children:E1t(j)?o6||(o6=K.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):j}),K.jsx(S1t,{"aria-invalid":_,value:Array.isArray(nt)?nt.join(","):nt,name:C,ref:xt,"aria-hidden":!0,onChange:ne,tabIndex:-1,disabled:p,className:Ht.nativeInput,autoFocus:a,required:H,...Z,ownerState:De}),K.jsx(x1t,{as:x,className:Ht.icon,ownerState:De}),K.jsx(vG,{id:`menu-${C||""}`,anchorEl:Pt,open:le,onClose:ce,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...b,slotProps:{...b.slotProps,list:{"aria-labelledby":E,role:"listbox","aria-multiselectable":A?"true":void 0,disableListWrap:!0,id:Re,...b.MenuListProps},paper:{..._e,style:{minWidth:Ct,..._e!=null?_e.style:null}}},children:_t})]})}),A1t=i=>{const{classes:e}=i,r=xn({root:["root"]},J$,e);return{...e,...r}},_4={name:"MuiSelect",overridesResolver:(i,e)=>e.root,shouldForwardProp:i=>Vu(i)&&i!=="variant",slot:"Root"},M1t=ge(m4,_4)(""),C1t=ge(v4,_4)(""),R1t=ge(h4,_4)(""),tW=tt.forwardRef(function(e,n){const r=Mn({name:"MuiSelect",props:e}),{autoWidth:s=!1,children:a,classes:o={},className:l,defaultOpen:u=!1,displayEmpty:f=!1,IconComponent:h=cxt,id:p,input:y,inputProps:_,label:x,labelId:S,MenuProps:E,multiple:b=!1,native:A=!1,onClose:C,onOpen:M,open:I,renderValue:k,SelectDisplayProps:N,variant:L="outlined",...U}=r,O=A?l1t:w1t,B=t0(),H=Jy({props:r,muiFormControl:B,states:["variant","error"]}),V=H.variant||L,X={...r,variant:V,classes:o},et=A1t(X),{root:q,...W}=et,Z=y||{standard:K.jsx(M1t,{ownerState:X}),outlined:K.jsx(C1t,{label:x,ownerState:X}),filled:K.jsx(R1t,{ownerState:X})}[V],nt=ps(n,Wy(Z));return K.jsx(tt.Fragment,{children:tt.cloneElement(Z,{inputComponent:O,inputProps:{children:a,error:H.error,IconComponent:h,variant:V,type:void 0,multiple:b,...A?{id:p}:{autoWidth:s,defaultOpen:u,displayEmpty:f,labelId:S,MenuProps:E,onClose:C,onOpen:M,open:I,renderValue:k,SelectDisplayProps:{id:p,...N}},..._,classes:_?Js(W,_.classes):W,...y?y.props.inputProps:{}},...(b&&A||f)&&V==="outlined"?{notched:!0}:{},ref:nt,className:He(Z.props.className,l,et.root),...!y&&{variant:V},...U})})});tW.muiName="Select";const UR=tt.createContext({}),b4=tt.createContext({});function O1t(i){return bn("MuiStep",i)}yn("MuiStep",["root","horizontal","vertical","alternativeLabel","completed"]);const I1t=i=>{const{classes:e,orientation:n,alternativeLabel:r,completed:s}=i;return xn({root:["root",n,r&&"alternativeLabel",s&&"completed"]},O1t,e)},P1t=ge("div",{name:"MuiStep",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.root,e[n.orientation],n.alternativeLabel&&e.alternativeLabel,n.completed&&e.completed]}})({variants:[{props:{orientation:"horizontal"},style:{paddingLeft:8,paddingRight:8}},{props:{alternativeLabel:!0},style:{flex:1,position:"relative"}}]}),D1t=tt.forwardRef(function(e,n){const r=Mn({props:e,name:"MuiStep"}),{active:s,children:a,className:o,component:l="div",completed:u,disabled:f,expanded:h=!1,index:p,last:y,..._}=r,{activeStep:x,connector:S,alternativeLabel:E,orientation:b,nonLinear:A}=tt.useContext(UR);let[C=!1,M=!1,I=!1]=[s,u,f];x===p?C=s!==void 0?s:!0:!A&&x>p?M=u!==void 0?u:!0:!A&&x<p&&(I=f!==void 0?f:!0);const k=tt.useMemo(()=>({index:p,last:y,expanded:h,icon:p+1,active:C,completed:M,disabled:I}),[p,y,h,C,M,I]),N={...r,active:C,orientation:b,alternativeLabel:E,completed:M,disabled:I,expanded:h,component:l},L=I1t(N),U=K.jsxs(P1t,{as:l,className:He(L.root,o),ref:n,ownerState:N,..._,children:[S&&E&&p!==0?S:null,a]});return K.jsx(b4.Provider,{value:k,children:S&&!E&&p!==0?K.jsxs(tt.Fragment,{children:[S,U]}):U})}),N1t=gs(K.jsx("path",{d:"M12 0a12 12 0 1 0 0 24 12 12 0 0 0 0-24zm-2 17l-5-5 1.4-1.4 3.6 3.6 7.6-7.6L19 8l-9 9z"}),"CheckCircle"),L1t=gs(K.jsx("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}),"Warning");function U1t(i){return bn("MuiStepIcon",i)}const OP=yn("MuiStepIcon",["root","active","completed","error","text"]);var u6;const k1t=i=>{const{classes:e,active:n,completed:r,error:s}=i;return xn({root:["root",n&&"active",r&&"completed",s&&"error"],text:["text"]},U1t,e)},IP=ge(fC,{name:"MuiStepIcon",slot:"Root",overridesResolver:(i,e)=>e.root})(Rn(({theme:i})=>({display:"block",transition:i.transitions.create("color",{duration:i.transitions.duration.shortest}),color:(i.vars||i).palette.text.disabled,[`&.${OP.completed}`]:{color:(i.vars||i).palette.primary.main},[`&.${OP.active}`]:{color:(i.vars||i).palette.primary.main},[`&.${OP.error}`]:{color:(i.vars||i).palette.error.main}}))),z1t=ge("text",{name:"MuiStepIcon",slot:"Text",overridesResolver:(i,e)=>e.text})(Rn(({theme:i})=>({fill:(i.vars||i).palette.primary.contrastText,fontSize:i.typography.caption.fontSize,fontFamily:i.typography.fontFamily}))),B1t=tt.forwardRef(function(e,n){const r=Mn({props:e,name:"MuiStepIcon"}),{active:s=!1,className:a,completed:o=!1,error:l=!1,icon:u,...f}=r,h={...r,active:s,completed:o,error:l},p=k1t(h);if(typeof u=="number"||typeof u=="string"){const y=He(a,p.root);return l?K.jsx(IP,{as:L1t,className:y,ref:n,ownerState:h,...f}):o?K.jsx(IP,{as:N1t,className:y,ref:n,ownerState:h,...f}):K.jsxs(IP,{className:y,ref:n,ownerState:h,...f,children:[u6||(u6=K.jsx("circle",{cx:"12",cy:"12",r:"12"})),K.jsx(z1t,{className:p.text,x:"12",y:"12",textAnchor:"middle",dominantBaseline:"central",ownerState:h,children:u})]})}return u});function F1t(i){return bn("MuiStepLabel",i)}const Qp=yn("MuiStepLabel",["root","horizontal","vertical","label","active","completed","error","disabled","iconContainer","alternativeLabel","labelContainer"]),V1t=i=>{const{classes:e,orientation:n,active:r,completed:s,error:a,disabled:o,alternativeLabel:l}=i;return xn({root:["root",n,a&&"error",o&&"disabled",l&&"alternativeLabel"],label:["label",r&&"active",s&&"completed",a&&"error",o&&"disabled",l&&"alternativeLabel"],iconContainer:["iconContainer",r&&"active",s&&"completed",a&&"error",o&&"disabled",l&&"alternativeLabel"],labelContainer:["labelContainer",l&&"alternativeLabel"]},F1t,e)},H1t=ge("span",{name:"MuiStepLabel",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.root,e[n.orientation]]}})({display:"flex",alignItems:"center",[`&.${Qp.alternativeLabel}`]:{flexDirection:"column"},[`&.${Qp.disabled}`]:{cursor:"default"},variants:[{props:{orientation:"vertical"},style:{textAlign:"left",padding:"8px 0"}}]}),j1t=ge("span",{name:"MuiStepLabel",slot:"Label",overridesResolver:(i,e)=>e.label})(Rn(({theme:i})=>({...i.typography.body2,display:"block",transition:i.transitions.create("color",{duration:i.transitions.duration.shortest}),[`&.${Qp.active}`]:{color:(i.vars||i).palette.text.primary,fontWeight:500},[`&.${Qp.completed}`]:{color:(i.vars||i).palette.text.primary,fontWeight:500},[`&.${Qp.alternativeLabel}`]:{marginTop:16},[`&.${Qp.error}`]:{color:(i.vars||i).palette.error.main}}))),G1t=ge("span",{name:"MuiStepLabel",slot:"IconContainer",overridesResolver:(i,e)=>e.iconContainer})({flexShrink:0,display:"flex",paddingRight:8,[`&.${Qp.alternativeLabel}`]:{paddingRight:0}}),q1t=ge("span",{name:"MuiStepLabel",slot:"LabelContainer",overridesResolver:(i,e)=>e.labelContainer})(Rn(({theme:i})=>({width:"100%",color:(i.vars||i).palette.text.secondary,[`&.${Qp.alternativeLabel}`]:{textAlign:"center"}}))),eW=tt.forwardRef(function(e,n){const r=Mn({props:e,name:"MuiStepLabel"}),{children:s,className:a,componentsProps:o={},error:l=!1,icon:u,optional:f,slots:h={},slotProps:p={},StepIconComponent:y,StepIconProps:_,...x}=r,{alternativeLabel:S,orientation:E}=tt.useContext(UR),{active:b,disabled:A,completed:C,icon:M}=tt.useContext(b4),I=u||M;let k=y;I&&!k&&(k=B1t);const N={...r,active:b,alternativeLabel:S,completed:C,disabled:A,error:l,orientation:E},L=V1t(N),U={slots:h,slotProps:{stepIcon:_,...o,...p}},[O,B]=gi("root",{elementType:H1t,externalForwardedProps:{...U,...x},ownerState:N,ref:n,className:He(L.root,a)}),[H,V]=gi("label",{elementType:j1t,externalForwardedProps:U,ownerState:N}),[X,et]=gi("stepIcon",{elementType:k,externalForwardedProps:U,ownerState:N});return K.jsxs(O,{...B,children:[I||X?K.jsx(G1t,{className:L.iconContainer,ownerState:N,children:K.jsx(X,{completed:C,active:b,error:l,icon:I,...et})}):null,K.jsxs(q1t,{className:L.labelContainer,ownerState:N,children:[s?K.jsx(H,{...V,className:He(L.label,V==null?void 0:V.className),children:s}):null,f]})]})});eW.muiName="StepLabel";function $1t(i){return bn("MuiStepConnector",i)}yn("MuiStepConnector",["root","horizontal","vertical","alternativeLabel","active","completed","disabled","line","lineHorizontal","lineVertical"]);const W1t=i=>{const{classes:e,orientation:n,alternativeLabel:r,active:s,completed:a,disabled:o}=i,l={root:["root",n,r&&"alternativeLabel",s&&"active",a&&"completed",o&&"disabled"],line:["line",`line${Ge(n)}`]};return xn(l,$1t,e)},X1t=ge("div",{name:"MuiStepConnector",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.root,e[n.orientation],n.alternativeLabel&&e.alternativeLabel,n.completed&&e.completed]}})({flex:"1 1 auto",variants:[{props:{orientation:"vertical"},style:{marginLeft:12}},{props:{alternativeLabel:!0},style:{position:"absolute",top:12,left:"calc(-50% + 20px)",right:"calc(50% + 20px)"}}]}),Y1t=ge("span",{name:"MuiStepConnector",slot:"Line",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.line,e[`line${Ge(n.orientation)}`]]}})(Rn(({theme:i})=>{const e=i.palette.mode==="light"?i.palette.grey[400]:i.palette.grey[600];return{display:"block",borderColor:i.vars?i.vars.palette.StepConnector.border:e,variants:[{props:{orientation:"horizontal"},style:{borderTopStyle:"solid",borderTopWidth:1}},{props:{orientation:"vertical"},style:{borderLeftStyle:"solid",borderLeftWidth:1,minHeight:24}}]}})),K1t=tt.forwardRef(function(e,n){const r=Mn({props:e,name:"MuiStepConnector"}),{className:s,...a}=r,{alternativeLabel:o,orientation:l="horizontal"}=tt.useContext(UR),{active:u,disabled:f,completed:h}=tt.useContext(b4),p={...r,alternativeLabel:o,orientation:l,active:u,completed:h,disabled:f},y=W1t(p);return K.jsx(X1t,{className:He(y.root,s),ref:n,ownerState:p,...a,children:K.jsx(Y1t,{className:y.line,ownerState:p})})});function Z1t(i){return bn("MuiStepper",i)}yn("MuiStepper",["root","horizontal","vertical","nonLinear","alternativeLabel"]);const Q1t=i=>{const{orientation:e,nonLinear:n,alternativeLabel:r,classes:s}=i;return xn({root:["root",e,n&&"nonLinear",r&&"alternativeLabel"]},Z1t,s)},J1t=ge("div",{name:"MuiStepper",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.root,e[n.orientation],n.alternativeLabel&&e.alternativeLabel,n.nonLinear&&e.nonLinear]}})({display:"flex",variants:[{props:{orientation:"horizontal"},style:{flexDirection:"row",alignItems:"center"}},{props:{orientation:"vertical"},style:{flexDirection:"column"}},{props:{alternativeLabel:!0},style:{alignItems:"flex-start"}}]}),tSt=K.jsx(K1t,{}),eSt=tt.forwardRef(function(e,n){const r=Mn({props:e,name:"MuiStepper"}),{activeStep:s=0,alternativeLabel:a=!1,children:o,className:l,component:u="div",connector:f=tSt,nonLinear:h=!1,orientation:p="horizontal",...y}=r,_={...r,nonLinear:h,alternativeLabel:a,orientation:p,component:u},x=Q1t(_),S=tt.Children.toArray(o).filter(Boolean),E=S.map((A,C)=>tt.cloneElement(A,{index:C,last:C+1===S.length,...A.props})),b=tt.useMemo(()=>({activeStep:s,alternativeLabel:a,connector:f,nonLinear:h,orientation:p}),[s,a,f,h,p]);return K.jsx(UR.Provider,{value:b,children:K.jsx(J1t,{as:u,ownerState:_,className:He(x.root,l),ref:n,...y,children:E})})});function nSt(i){return bn("MuiTab",i)}const Eu=yn("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper","icon"]),iSt=i=>{const{classes:e,textColor:n,fullWidth:r,wrapped:s,icon:a,label:o,selected:l,disabled:u}=i,f={root:["root",a&&o&&"labelIcon",`textColor${Ge(n)}`,r&&"fullWidth",s&&"wrapped",l&&"selected",u&&"disabled"],icon:["iconWrapper","icon"]};return xn(f,nSt,e)},rSt=ge(nb,{name:"MuiTab",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.root,n.label&&n.icon&&e.labelIcon,e[`textColor${Ge(n.textColor)}`],n.fullWidth&&e.fullWidth,n.wrapped&&e.wrapped,{[`& .${Eu.iconWrapper}`]:e.iconWrapper},{[`& .${Eu.icon}`]:e.icon}]}})(Rn(({theme:i})=>({...i.typography.button,maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center",lineHeight:1.25,variants:[{props:({ownerState:e})=>e.label&&(e.iconPosition==="top"||e.iconPosition==="bottom"),style:{flexDirection:"column"}},{props:({ownerState:e})=>e.label&&e.iconPosition!=="top"&&e.iconPosition!=="bottom",style:{flexDirection:"row"}},{props:({ownerState:e})=>e.icon&&e.label,style:{minHeight:72,paddingTop:9,paddingBottom:9}},{props:({ownerState:e,iconPosition:n})=>e.icon&&e.label&&n==="top",style:{[`& > .${Eu.icon}`]:{marginBottom:6}}},{props:({ownerState:e,iconPosition:n})=>e.icon&&e.label&&n==="bottom",style:{[`& > .${Eu.icon}`]:{marginTop:6}}},{props:({ownerState:e,iconPosition:n})=>e.icon&&e.label&&n==="start",style:{[`& > .${Eu.icon}`]:{marginRight:i.spacing(1)}}},{props:({ownerState:e,iconPosition:n})=>e.icon&&e.label&&n==="end",style:{[`& > .${Eu.icon}`]:{marginLeft:i.spacing(1)}}},{props:{textColor:"inherit"},style:{color:"inherit",opacity:.6,[`&.${Eu.selected}`]:{opacity:1},[`&.${Eu.disabled}`]:{opacity:(i.vars||i).palette.action.disabledOpacity}}},{props:{textColor:"primary"},style:{color:(i.vars||i).palette.text.secondary,[`&.${Eu.selected}`]:{color:(i.vars||i).palette.primary.main},[`&.${Eu.disabled}`]:{color:(i.vars||i).palette.text.disabled}}},{props:{textColor:"secondary"},style:{color:(i.vars||i).palette.text.secondary,[`&.${Eu.selected}`]:{color:(i.vars||i).palette.secondary.main},[`&.${Eu.disabled}`]:{color:(i.vars||i).palette.text.disabled}}},{props:({ownerState:e})=>e.fullWidth,style:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"}},{props:({ownerState:e})=>e.wrapped,style:{fontSize:i.typography.pxToRem(12)}}]}))),sSt=tt.forwardRef(function(e,n){const r=Mn({props:e,name:"MuiTab"}),{className:s,disabled:a=!1,disableFocusRipple:o=!1,fullWidth:l,icon:u,iconPosition:f="top",indicator:h,label:p,onChange:y,onClick:_,onFocus:x,selected:S,selectionFollowsFocus:E,textColor:b="inherit",value:A,wrapped:C=!1,...M}=r,I={...r,disabled:a,disableFocusRipple:o,selected:S,icon:!!u,iconPosition:f,label:!!p,fullWidth:l,textColor:b,wrapped:C},k=iSt(I),N=u&&p&&tt.isValidElement(u)?tt.cloneElement(u,{className:He(k.icon,u.props.className)}):u,L=O=>{!S&&y&&y(O,A),_&&_(O)},U=O=>{E&&!S&&y&&y(O,A),x&&x(O)};return K.jsxs(rSt,{focusRipple:!o,className:He(k.root,s),ref:n,role:"tab","aria-selected":S,disabled:a,onClick:L,onFocus:U,ownerState:I,tabIndex:S?0:-1,...M,children:[f==="top"||f==="start"?K.jsxs(tt.Fragment,{children:[N,p]}):K.jsxs(tt.Fragment,{children:[p,N]}),h]})}),aSt=gs(K.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),oSt=gs(K.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function lSt(i){return(1+Math.sin(Math.PI*i-Math.PI/2))/2}function uSt(i,e,n,r={},s=()=>{}){const{ease:a=lSt,duration:o=300}=r;let l=null;const u=e[i];let f=!1;const h=()=>{f=!0},p=y=>{if(f){s(new Error("Animation cancelled"));return}l===null&&(l=y);const _=Math.min(1,(y-l)/o);if(e[i]=a(_)*(n-u)+u,_>=1){requestAnimationFrame(()=>{s(null)});return}requestAnimationFrame(p)};return u===n?(s(new Error("Element already at target position")),h):(requestAnimationFrame(p),h)}const cSt={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function fSt(i){const{onChange:e,...n}=i,r=tt.useRef(),s=tt.useRef(null),a=()=>{r.current=s.current.offsetHeight-s.current.clientHeight};return Dc(()=>{const o=hE(()=>{const u=r.current;a(),u!==r.current&&e(r.current)}),l=Yl(s.current);return l.addEventListener("resize",o),()=>{o.clear(),l.removeEventListener("resize",o)}},[e]),tt.useEffect(()=>{a(),e(r.current)},[e]),K.jsx("div",{style:cSt,...n,ref:s})}function hSt(i){return bn("MuiTabScrollButton",i)}const dSt=yn("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),pSt=i=>{const{classes:e,orientation:n,disabled:r}=i;return xn({root:["root",n,r&&"disabled"]},hSt,e)},mSt=ge(nb,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.root,n.orientation&&e[n.orientation]]}})({width:40,flexShrink:0,opacity:.8,[`&.${dSt.disabled}`]:{opacity:0},variants:[{props:{orientation:"vertical"},style:{width:"100%",height:40,"& svg":{transform:"var(--TabScrollButton-svgRotate)"}}}]}),gSt=tt.forwardRef(function(e,n){const r=Mn({props:e,name:"MuiTabScrollButton"}),{className:s,slots:a={},slotProps:o={},direction:l,orientation:u,disabled:f,...h}=r,p=eb(),y={isRtl:p,...r},_=pSt(y),x=a.StartScrollButtonIcon??aSt,S=a.EndScrollButtonIcon??oSt,E=__({elementType:x,externalSlotProps:o.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:y}),b=__({elementType:S,externalSlotProps:o.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:y});return K.jsx(mSt,{component:"div",className:He(_.root,s),ref:n,role:null,ownerState:y,tabIndex:null,...h,style:{...h.style,...u==="vertical"&&{"--TabScrollButton-svgRotate":`rotate(${p?-90:90}deg)`}},children:l==="left"?K.jsx(x,{...E}):K.jsx(S,{...b})})});function ySt(i){return bn("MuiTabs",i)}const PP=yn("MuiTabs",["root","vertical","list","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),c6=(i,e)=>i===e?i.firstChild:e&&e.nextElementSibling?e.nextElementSibling:i.firstChild,f6=(i,e)=>i===e?i.lastChild:e&&e.previousElementSibling?e.previousElementSibling:i.lastChild,aA=(i,e,n)=>{let r=!1,s=n(i,e);for(;s;){if(s===i.firstChild){if(r)return;r=!0}const a=s.disabled||s.getAttribute("aria-disabled")==="true";if(!s.hasAttribute("tabindex")||a)s=n(i,s);else{s.focus();return}}},vSt=i=>{const{vertical:e,fixed:n,hideScrollbar:r,scrollableX:s,scrollableY:a,centered:o,scrollButtonsHideMobile:l,classes:u}=i;return xn({root:["root",e&&"vertical"],scroller:["scroller",n&&"fixed",r&&"hideScrollbar",s&&"scrollableX",a&&"scrollableY"],list:["list","flexContainer",e&&"flexContainerVertical",e&&"vertical",o&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",l&&"scrollButtonsHideMobile"],scrollableX:[s&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]},ySt,u)},_St=ge("div",{name:"MuiTabs",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[{[`& .${PP.scrollButtons}`]:e.scrollButtons},{[`& .${PP.scrollButtons}`]:n.scrollButtonsHideMobile&&e.scrollButtonsHideMobile},e.root,n.vertical&&e.vertical]}})(Rn(({theme:i})=>({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex",variants:[{props:({ownerState:e})=>e.vertical,style:{flexDirection:"column"}},{props:({ownerState:e})=>e.scrollButtonsHideMobile,style:{[`& .${PP.scrollButtons}`]:{[i.breakpoints.down("sm")]:{display:"none"}}}}]}))),bSt=ge("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.scroller,n.fixed&&e.fixed,n.hideScrollbar&&e.hideScrollbar,n.scrollableX&&e.scrollableX,n.scrollableY&&e.scrollableY]}})({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap",variants:[{props:({ownerState:i})=>i.fixed,style:{overflowX:"hidden",width:"100%"}},{props:({ownerState:i})=>i.hideScrollbar,style:{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}},{props:({ownerState:i})=>i.scrollableX,style:{overflowX:"auto",overflowY:"hidden"}},{props:({ownerState:i})=>i.scrollableY,style:{overflowY:"auto",overflowX:"hidden"}}]}),xSt=ge("div",{name:"MuiTabs",slot:"List",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.list,e.flexContainer,n.vertical&&e.flexContainerVertical,n.centered&&e.centered]}})({display:"flex",variants:[{props:({ownerState:i})=>i.vertical,style:{flexDirection:"column"}},{props:({ownerState:i})=>i.centered,style:{justifyContent:"center"}}]}),SSt=ge("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(i,e)=>e.indicator})(Rn(({theme:i})=>({position:"absolute",height:2,bottom:0,width:"100%",transition:i.transitions.create(),variants:[{props:{indicatorColor:"primary"},style:{backgroundColor:(i.vars||i).palette.primary.main}},{props:{indicatorColor:"secondary"},style:{backgroundColor:(i.vars||i).palette.secondary.main}},{props:({ownerState:e})=>e.vertical,style:{height:"100%",width:2,right:0}}]}))),ESt=ge(fSt)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),h6={},TSt=tt.forwardRef(function(e,n){const r=Mn({props:e,name:"MuiTabs"}),s=Xy(),a=eb(),{"aria-label":o,"aria-labelledby":l,action:u,centered:f=!1,children:h,className:p,component:y="div",allowScrollButtonsMobile:_=!1,indicatorColor:x="primary",onChange:S,orientation:E="horizontal",ScrollButtonComponent:b,scrollButtons:A="auto",selectionFollowsFocus:C,slots:M={},slotProps:I={},TabIndicatorProps:k={},TabScrollButtonProps:N={},textColor:L="primary",value:U,variant:O="standard",visibleScrollbar:B=!1,...H}=r,V=O==="scrollable",X=E==="vertical",et=X?"scrollTop":"scrollLeft",q=X?"top":"left",W=X?"bottom":"right",Z=X?"clientHeight":"clientWidth",nt=X?"height":"width",Q={...r,component:y,allowScrollButtonsMobile:_,indicatorColor:x,orientation:E,vertical:X,scrollButtons:A,textColor:L,variant:O,visibleScrollbar:B,fixed:!V,hideScrollbar:V&&!B,scrollableX:V&&!X,scrollableY:V&&X,centered:f&&!V,scrollButtonsHideMobile:!_},ht=vSt(Q),yt=__({elementType:M.StartScrollButtonIcon,externalSlotProps:I.startScrollButtonIcon,ownerState:Q}),xt=__({elementType:M.EndScrollButtonIcon,externalSlotProps:I.endScrollButtonIcon,ownerState:Q}),[it,dt]=tt.useState(!1),[ft,gt]=tt.useState(h6),[wt,Kt]=tt.useState(!1),[kt,ee]=tt.useState(!1),[Pt,Vt]=tt.useState(!1),[at,ce]=tt.useState({overflow:"hidden",scrollbarWidth:0}),te=new Map,ne=tt.useRef(null),ie=tt.useRef(null),Me={slots:M,slotProps:{indicator:k,scrollButton:N,...I}},le=()=>{const Ee=ne.current;let ye;if(Ee){const Ye=Ee.getBoundingClientRect();ye={clientWidth:Ee.clientWidth,scrollLeft:Ee.scrollLeft,scrollTop:Ee.scrollTop,scrollWidth:Ee.scrollWidth,top:Ye.top,bottom:Ye.bottom,left:Ye.left,right:Ye.right}}let Qe;if(Ee&&U!==!1){const Ye=ie.current.children;if(Ye.length>0){const Tn=Ye[te.get(U)];Qe=Tn?Tn.getBoundingClientRect():null}}return{tabsMeta:ye,tabMeta:Qe}},lt=Nu(()=>{const{tabsMeta:Ee,tabMeta:ye}=le();let Qe=0,Ye;X?(Ye="top",ye&&Ee&&(Qe=ye.top-Ee.top+Ee.scrollTop)):(Ye=a?"right":"left",ye&&Ee&&(Qe=(a?-1:1)*(ye[Ye]-Ee[Ye]+Ee.scrollLeft)));const Tn={[Ye]:Qe,[nt]:ye?ye[nt]:0};if(typeof ft[Ye]!="number"||typeof ft[nt]!="number")gt(Tn);else{const Fi=Math.abs(ft[Ye]-Tn[Ye]),na=Math.abs(ft[nt]-Tn[nt]);(Fi>=1||na>=1)&&gt(Tn)}}),j=(Ee,{animation:ye=!0}={})=>{ye?uSt(et,ne.current,Ee,{duration:s.transitions.duration.standard}):ne.current[et]=Ee},ut=Ee=>{let ye=ne.current[et];X?ye+=Ee:ye+=Ee*(a?-1:1),j(ye)},mt=()=>{const Ee=ne.current[Z];let ye=0;const Qe=Array.from(ie.current.children);for(let Ye=0;Ye<Qe.length;Ye+=1){const Tn=Qe[Ye];if(ye+Tn[Z]>Ee){Ye===0&&(ye=Ee);break}ye+=Tn[Z]}return ye},Rt=()=>{ut(-1*mt())},_t=()=>{ut(mt())},[Ct,{onChange:Lt,...Qt}]=gi("scrollbar",{className:He(ht.scrollableX,ht.hideScrollbar),elementType:ESt,shouldForwardComponentProp:!0,externalForwardedProps:Me,ownerState:Q}),De=tt.useCallback(Ee=>{Lt==null||Lt(Ee),ce({overflow:null,scrollbarWidth:Ee})},[Lt]),[Ht,_e]=gi("scrollButtons",{className:He(ht.scrollButtons,N.className),elementType:gSt,externalForwardedProps:Me,ownerState:Q,additionalProps:{orientation:E,slots:{StartScrollButtonIcon:M.startScrollButtonIcon||M.StartScrollButtonIcon,EndScrollButtonIcon:M.endScrollButtonIcon||M.EndScrollButtonIcon},slotProps:{startScrollButtonIcon:yt,endScrollButtonIcon:xt}}}),Re=()=>{const Ee={};Ee.scrollbarSizeListener=V?K.jsx(Ct,{...Qt,onChange:De}):null;const Qe=V&&(A==="auto"&&(wt||kt)||A===!0);return Ee.scrollButtonStart=Qe?K.jsx(Ht,{direction:a?"right":"left",onClick:Rt,disabled:!wt,..._e}):null,Ee.scrollButtonEnd=Qe?K.jsx(Ht,{direction:a?"left":"right",onClick:_t,disabled:!kt,..._e}):null,Ee},Oe=Nu(Ee=>{const{tabsMeta:ye,tabMeta:Qe}=le();if(!(!Qe||!ye)){if(Qe[q]<ye[q]){const Ye=ye[et]+(Qe[q]-ye[q]);j(Ye,{animation:Ee})}else if(Qe[W]>ye[W]){const Ye=ye[et]+(Qe[W]-ye[W]);j(Ye,{animation:Ee})}}}),Zt=Nu(()=>{V&&A!==!1&&Vt(!Pt)});tt.useEffect(()=>{const Ee=hE(()=>{ne.current&&lt()});let ye;const Qe=Fi=>{Fi.forEach(na=>{na.removedNodes.forEach(ar=>{ye==null||ye.unobserve(ar)}),na.addedNodes.forEach(ar=>{ye==null||ye.observe(ar)})}),Ee(),Zt()},Ye=Yl(ne.current);Ye.addEventListener("resize",Ee);let Tn;return typeof ResizeObserver<"u"&&(ye=new ResizeObserver(Ee),Array.from(ie.current.children).forEach(Fi=>{ye.observe(Fi)})),typeof MutationObserver<"u"&&(Tn=new MutationObserver(Qe),Tn.observe(ie.current,{childList:!0})),()=>{Ee.clear(),Ye.removeEventListener("resize",Ee),Tn==null||Tn.disconnect(),ye==null||ye.disconnect()}},[lt,Zt]),tt.useEffect(()=>{const Ee=Array.from(ie.current.children),ye=Ee.length;if(typeof IntersectionObserver<"u"&&ye>0&&V&&A!==!1){const Qe=Ee[0],Ye=Ee[ye-1],Tn={root:ne.current,threshold:.99},Fi=Os=>{Kt(!Os[0].isIntersecting)},na=new IntersectionObserver(Fi,Tn);na.observe(Qe);const ar=Os=>{ee(!Os[0].isIntersecting)},Gr=new IntersectionObserver(ar,Tn);return Gr.observe(Ye),()=>{na.disconnect(),Gr.disconnect()}}},[V,A,Pt,h==null?void 0:h.length]),tt.useEffect(()=>{dt(!0)},[]),tt.useEffect(()=>{lt()}),tt.useEffect(()=>{Oe(h6!==ft)},[Oe,ft]),tt.useImperativeHandle(u,()=>({updateIndicator:lt,updateScrollButtons:Zt}),[lt,Zt]);const[Pe,Ne]=gi("indicator",{className:He(ht.indicator,k.className),elementType:SSt,externalForwardedProps:Me,ownerState:Q,additionalProps:{style:ft}}),sn=K.jsx(Pe,{...Ne});let Tt=0;const Ce=tt.Children.map(h,Ee=>{if(!tt.isValidElement(Ee))return null;const ye=Ee.props.value===void 0?Tt:Ee.props.value;te.set(ye,Tt);const Qe=ye===U;return Tt+=1,tt.cloneElement(Ee,{fullWidth:O==="fullWidth",indicator:Qe&&!it&&sn,selected:Qe,selectionFollowsFocus:C,onChange:S,textColor:L,value:ye,...Tt===1&&U===!1&&!Ee.props.tabIndex?{tabIndex:0}:{}})}),Xt=Ee=>{if(Ee.altKey||Ee.shiftKey||Ee.ctrlKey||Ee.metaKey)return;const ye=ie.current,Qe=ml(ye).activeElement;if(Qe.getAttribute("role")!=="tab")return;let Tn=E==="horizontal"?"ArrowLeft":"ArrowUp",Fi=E==="horizontal"?"ArrowRight":"ArrowDown";switch(E==="horizontal"&&a&&(Tn="ArrowRight",Fi="ArrowLeft"),Ee.key){case Tn:Ee.preventDefault(),aA(ye,Qe,f6);break;case Fi:Ee.preventDefault(),aA(ye,Qe,c6);break;case"Home":Ee.preventDefault(),aA(ye,null,c6);break;case"End":Ee.preventDefault(),aA(ye,null,f6);break}},se=Re(),[Ie,Se]=gi("root",{ref:n,className:He(ht.root,p),elementType:_St,externalForwardedProps:{...Me,...H,component:y},ownerState:Q}),[on,Kn]=gi("scroller",{ref:ne,className:ht.scroller,elementType:bSt,externalForwardedProps:Me,ownerState:Q,additionalProps:{style:{overflow:at.overflow,[X?`margin${a?"Left":"Right"}`:"marginBottom"]:B?void 0:-at.scrollbarWidth}}}),[Ve,tn]=gi("list",{ref:ie,className:He(ht.list,ht.flexContainer),elementType:xSt,externalForwardedProps:Me,ownerState:Q,getSlotProps:Ee=>({...Ee,onKeyDown:ye=>{var Qe;Xt(ye),(Qe=Ee.onKeyDown)==null||Qe.call(Ee,ye)}})});return K.jsxs(Ie,{...Se,children:[se.scrollButtonStart,se.scrollbarSizeListener,K.jsxs(on,{...Kn,children:[K.jsx(Ve,{"aria-label":o,"aria-labelledby":l,"aria-orientation":E==="vertical"?"vertical":null,role:"tablist",...tn,children:Ce}),it&&sn]}),se.scrollButtonEnd]})});function wSt(i){return bn("MuiTextField",i)}yn("MuiTextField",["root"]);const ASt={standard:m4,filled:h4,outlined:v4},MSt=i=>{const{classes:e}=i;return xn({root:["root"]},wSt,e)},CSt=ge(d4,{name:"MuiTextField",slot:"Root",overridesResolver:(i,e)=>e.root})({}),nW=tt.forwardRef(function(e,n){const r=Mn({props:e,name:"MuiTextField"}),{autoComplete:s,autoFocus:a=!1,children:o,className:l,color:u="primary",defaultValue:f,disabled:h=!1,error:p=!1,FormHelperTextProps:y,fullWidth:_=!1,helperText:x,id:S,InputLabelProps:E,inputProps:b,InputProps:A,inputRef:C,label:M,maxRows:I,minRows:k,multiline:N=!1,name:L,onBlur:U,onChange:O,onFocus:B,placeholder:H,required:V=!1,rows:X,select:et=!1,SelectProps:q,slots:W={},slotProps:Z={},type:nt,value:Q,variant:ht="outlined",...yt}=r,xt={...r,autoFocus:a,color:u,disabled:h,error:p,fullWidth:_,multiline:N,required:V,select:et,variant:ht},it=MSt(xt),dt=tb(S),ft=x&&dt?`${dt}-helper-text`:void 0,gt=M&&dt?`${dt}-label`:void 0,wt=ASt[ht],Kt={slots:W,slotProps:{input:A,inputLabel:E,htmlInput:b,formHelperText:y,select:q,...Z}},kt={},ee=Kt.slotProps.inputLabel;ht==="outlined"&&(ee&&typeof ee.shrink<"u"&&(kt.notched=ee.shrink),kt.label=M),et&&((!q||!q.native)&&(kt.id=void 0),kt["aria-describedby"]=void 0);const[Pt,Vt]=gi("root",{elementType:CSt,shouldForwardComponentProp:!0,externalForwardedProps:{...Kt,...yt},ownerState:xt,className:He(it.root,l),ref:n,additionalProps:{disabled:h,error:p,fullWidth:_,required:V,color:u,variant:ht}}),[at,ce]=gi("input",{elementType:wt,externalForwardedProps:Kt,additionalProps:kt,ownerState:xt}),[te,ne]=gi("inputLabel",{elementType:Xxt,externalForwardedProps:Kt,ownerState:xt}),[ie,Me]=gi("htmlInput",{elementType:"input",externalForwardedProps:Kt,ownerState:xt}),[le,lt]=gi("formHelperText",{elementType:kxt,externalForwardedProps:Kt,ownerState:xt}),[j,ut]=gi("select",{elementType:tW,externalForwardedProps:Kt,ownerState:xt}),mt=K.jsx(at,{"aria-describedby":ft,autoComplete:s,autoFocus:a,defaultValue:f,fullWidth:_,multiline:N,name:L,rows:X,maxRows:I,minRows:k,type:nt,value:Q,id:dt,inputRef:C,onBlur:U,onChange:O,onFocus:B,placeholder:H,inputProps:Me,slots:{input:W.htmlInput?ie:void 0},...ce});return K.jsxs(Pt,{...Vt,children:[M!=null&&M!==""&&K.jsx(te,{htmlFor:dt,id:gt,...ne,children:M}),et?K.jsx(j,{"aria-describedby":ft,id:dt,labelId:gt,value:Q,input:mt,...ut,children:o}):mt,x&&K.jsx(le,{id:ft,...lt,children:x})]})});function RSt(i){return bn("MuiToggleButton",i)}const ry=yn("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),iW=tt.createContext({}),rW=tt.createContext(void 0);function OSt(i,e){return e===void 0||i===void 0?!1:Array.isArray(e)?e.includes(i):i===e}const ISt=i=>{const{classes:e,fullWidth:n,selected:r,disabled:s,size:a,color:o}=i,l={root:["root",r&&"selected",s&&"disabled",n&&"fullWidth",`size${Ge(a)}`,o]};return xn(l,RSt,e)},PSt=ge(nb,{name:"MuiToggleButton",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.root,e[`size${Ge(n.size)}`]]}})(Rn(({theme:i})=>({...i.typography.button,borderRadius:(i.vars||i).shape.borderRadius,padding:11,border:`1px solid ${(i.vars||i).palette.divider}`,color:(i.vars||i).palette.action.active,[`&.${ry.disabled}`]:{color:(i.vars||i).palette.action.disabled,border:`1px solid ${(i.vars||i).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:i.vars?`rgba(${i.vars.palette.text.primaryChannel} / ${i.vars.palette.action.hoverOpacity})`:Ar(i.palette.text.primary,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[{props:{color:"standard"},style:{[`&.${ry.selected}`]:{color:(i.vars||i).palette.text.primary,backgroundColor:i.vars?`rgba(${i.vars.palette.text.primaryChannel} / ${i.vars.palette.action.selectedOpacity})`:Ar(i.palette.text.primary,i.palette.action.selectedOpacity),"&:hover":{backgroundColor:i.vars?`rgba(${i.vars.palette.text.primaryChannel} / calc(${i.vars.palette.action.selectedOpacity} + ${i.vars.palette.action.hoverOpacity}))`:Ar(i.palette.text.primary,i.palette.action.selectedOpacity+i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:i.vars?`rgba(${i.vars.palette.text.primaryChannel} / ${i.vars.palette.action.selectedOpacity})`:Ar(i.palette.text.primary,i.palette.action.selectedOpacity)}}}}},...Object.entries(i.palette).filter(ta()).map(([e])=>({props:{color:e},style:{[`&.${ry.selected}`]:{color:(i.vars||i).palette[e].main,backgroundColor:i.vars?`rgba(${i.vars.palette[e].mainChannel} / ${i.vars.palette.action.selectedOpacity})`:Ar(i.palette[e].main,i.palette.action.selectedOpacity),"&:hover":{backgroundColor:i.vars?`rgba(${i.vars.palette[e].mainChannel} / calc(${i.vars.palette.action.selectedOpacity} + ${i.vars.palette.action.hoverOpacity}))`:Ar(i.palette[e].main,i.palette.action.selectedOpacity+i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:i.vars?`rgba(${i.vars.palette[e].mainChannel} / ${i.vars.palette.action.selectedOpacity})`:Ar(i.palette[e].main,i.palette.action.selectedOpacity)}}}}})),{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{padding:7,fontSize:i.typography.pxToRem(13)}},{props:{size:"large"},style:{padding:15,fontSize:i.typography.pxToRem(15)}}]}))),sW=tt.forwardRef(function(e,n){const{value:r,...s}=tt.useContext(iW),a=tt.useContext(rW),o=v_({...s,selected:OSt(e.value,r)},e),l=Mn({props:o,name:"MuiToggleButton"}),{children:u,className:f,color:h="standard",disabled:p=!1,disableFocusRipple:y=!1,fullWidth:_=!1,onChange:x,onClick:S,selected:E,size:b="medium",value:A,...C}=l,M={...l,color:h,disabled:p,disableFocusRipple:y,fullWidth:_,size:b},I=ISt(M),k=L=>{S&&(S(L,A),L.defaultPrevented)||x&&x(L,A)},N=a||"";return K.jsx(PSt,{className:He(s.className,I.root,f,N),disabled:p,focusRipple:!y,ref:n,onClick:k,onChange:x,value:A,ownerState:M,"aria-pressed":E,...C,children:u})});function DSt(i){return bn("MuiToggleButtonGroup",i)}const gr=yn("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]),NSt=i=>{const{classes:e,orientation:n,fullWidth:r,disabled:s}=i,a={root:["root",n,r&&"fullWidth"],grouped:["grouped",`grouped${Ge(n)}`,s&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return xn(a,DSt,e)},LSt=ge("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[{[`& .${gr.grouped}`]:e.grouped},{[`& .${gr.grouped}`]:e[`grouped${Ge(n.orientation)}`]},{[`& .${gr.firstButton}`]:e.firstButton},{[`& .${gr.lastButton}`]:e.lastButton},{[`& .${gr.middleButton}`]:e.middleButton},e.root,n.orientation==="vertical"&&e.vertical,n.fullWidth&&e.fullWidth]}})(Rn(({theme:i})=>({display:"inline-flex",borderRadius:(i.vars||i).shape.borderRadius,variants:[{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${gr.grouped}`]:{[`&.${gr.selected} + .${gr.grouped}.${gr.selected}`]:{borderTop:0,marginTop:0}},[`& .${gr.firstButton},& .${gr.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${gr.lastButton},& .${gr.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},[`& .${gr.lastButton}.${ry.disabled},& .${gr.middleButton}.${ry.disabled}`]:{borderTop:"1px solid transparent"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"horizontal"},style:{[`& .${gr.grouped}`]:{[`&.${gr.selected} + .${gr.grouped}.${gr.selected}`]:{borderLeft:0,marginLeft:0}},[`& .${gr.firstButton},& .${gr.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${gr.lastButton},& .${gr.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},[`& .${gr.lastButton}.${ry.disabled},& .${gr.middleButton}.${ry.disabled}`]:{borderLeft:"1px solid transparent"}}}]}))),aW=tt.forwardRef(function(e,n){const r=Mn({props:e,name:"MuiToggleButtonGroup"}),{children:s,className:a,color:o="standard",disabled:l=!1,exclusive:u=!1,fullWidth:f=!1,onChange:h,orientation:p="horizontal",size:y="medium",value:_,...x}=r,S={...r,disabled:l,fullWidth:f,orientation:p,size:y},E=NSt(S),b=tt.useCallback((N,L)=>{if(!h)return;const U=_&&_.indexOf(L);let O;_&&U>=0?(O=_.slice(),O.splice(U,1)):O=_?_.concat(L):[L],h(N,O)},[h,_]),A=tt.useCallback((N,L)=>{h&&h(N,_===L?null:L)},[h,_]),C=tt.useMemo(()=>({className:E.grouped,onChange:u?A:b,value:_,size:y,fullWidth:f,color:o,disabled:l}),[E.grouped,u,A,b,_,y,f,o,l]),M=Hut(s),I=M.length,k=N=>{const L=N===0,U=N===I-1;return L&&U?"":L?E.firstButton:U?E.lastButton:E.middleButton};return K.jsx(LSt,{role:"group",className:He(E.root,a),ref:n,ownerState:S,...x,children:K.jsx(iW.Provider,{value:C,children:M.map((N,L)=>K.jsx(rW.Provider,{value:k(L),children:N},L))})})}),USt=gs(K.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"CloseOutlined"),kSt=gs([K.jsx("path",{d:"M18 13c0 3.31-2.69 6-6 6s-6-2.69-6-6 2.69-6 6-6v4l5-5-5-5v4c-4.42 0-8 3.58-8 8s3.58 8 8 8 8-3.58 8-8z"},"0"),K.jsx("path",{d:"M12.03 15.38c-.44 0-.58-.31-.6-.56h-.84c.03.85.79 1.25 1.44 1.25.93 0 1.44-.63 1.44-1.43 0-1.33-.97-1.44-1.3-1.44-.2 0-.43.05-.64.16l.11-.92h1.7v-.71h-2.39l-.25 2.17.67.17c.13-.13.28-.23.57-.23.4 0 .69.23.69.75-.01.05.02.79-.6.79"},"1")],"Forward5"),zSt=gs(K.jsx("path",{d:"M6 19h4V5H6zm8-14v14h4V5z"}),"Pause"),BSt=gs(K.jsx("path",{d:"M8 5v14l11-7z"}),"PlayArrow"),FSt=gs([K.jsx("path",{d:"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8"},"0"),K.jsx("path",{d:"m10.69 13.9.25-2.17h2.39v.71h-1.7l-.11.92c.03-.02.07-.03.11-.05s.09-.04.15-.05.12-.03.18-.04.13-.02.2-.02c.21 0 .39.03.55.1s.3.16.41.28.2.27.25.45.09.38.09.6q0 .285-.09.54c-.09.255-.15.32-.27.45s-.27.24-.45.31-.39.12-.64.12c-.18 0-.36-.03-.53-.08s-.32-.14-.46-.24-.24-.24-.32-.39-.13-.33-.13-.53h.84c.02.18.08.32.19.41s.25.15.42.15q.165 0 .27-.06c.105-.06.14-.1.18-.17s.08-.15.11-.25.03-.2.03-.31-.01-.21-.04-.31-.07-.17-.13-.24-.13-.12-.21-.15-.19-.05-.3-.05c-.08 0-.15.01-.2.02s-.11.03-.15.05-.08.05-.12.07-.07.06-.1.09z"},"1")],"Replay5"),DP=Ya,x4=({buttonFunction:i,disabled:e})=>K.jsx(iy,{size:"medium",disabled:e,onClick:i,sx:{position:"absolute",top:10,right:10,backgroundColor:Py(DP.palette.formStyles.containerBackgroundColor,.4),"&:hover":{backgroundColor:DP.palette.formStyles.cardBackgroundColor,opacity:.8},color:DP.palette.action.deactivate},children:K.jsx(USt,{sx:{fontSize:"3em"}})});function VSt(i,e){var n=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(n!=null){var r,s,a,o,l=[],u=!0,f=!1;try{if(a=(n=n.call(i)).next,e===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(h){f=!0,s=h}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw s}}return l}}function HSt(i,e,n){return e=KSt(e),e in i?Object.defineProperty(i,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[e]=n,i}function d6(i,e){return qSt(i)||VSt(i,e)||oW(i,e)||XSt()}function jSt(i){return GSt(i)||$St(i)||oW(i)||WSt()}function GSt(i){if(Array.isArray(i))return H3(i)}function qSt(i){if(Array.isArray(i))return i}function $St(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function oW(i,e){if(i){if(typeof i=="string")return H3(i,e);var n=Object.prototype.toString.call(i).slice(8,-1);if(n==="Object"&&i.constructor&&(n=i.constructor.name),n==="Map"||n==="Set")return Array.from(i);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H3(i,e)}}function H3(i,e){(e==null||e>i.length)&&(e=i.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=i[n];return r}function WSt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XSt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YSt(i,e){if(typeof i!="object"||i===null)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var r=n.call(i,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function KSt(i){var e=YSt(i,"string");return typeof e=="symbol"?e:String(e)}var lW=function(e,n){var r=new Set(n);return Object.assign.apply(Object,[{}].concat(jSt(Object.entries(e).filter(function(s){var a=d6(s,1),o=a[0];return!r.has(o)}).map(function(s){var a=d6(s,2),o=a[0],l=a[1];return HSt({},o,l)}))))};function j3(i,e){(e==null||e>i.length)&&(e=i.length);for(var n=0,r=Array(e);n<e;n++)r[n]=i[n];return r}function ZSt(i){if(Array.isArray(i))return i}function QSt(i){if(Array.isArray(i))return j3(i)}function JSt(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function tEt(i,e){var n=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(n!=null){var r,s,a,o,l=[],u=!0,f=!1;try{if(a=(n=n.call(i)).next,e!==0)for(;!(u=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(h){f=!0,s=h}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw s}}return l}}function eEt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nEt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iEt(i,e){return ZSt(i)||tEt(i,e)||uW(i,e)||eEt()}function p6(i){return QSt(i)||JSt(i)||uW(i)||nEt()}function uW(i,e){if(i){if(typeof i=="string")return j3(i,e);var n={}.toString.call(i).slice(8,-1);return n==="Object"&&i.constructor&&(n=i.constructor.name),n==="Map"||n==="Set"?Array.from(i):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j3(i,e):void 0}}function rEt(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.wrapperElementType,r=n===void 0?"div":n,s=e.nodeMapper,a=s===void 0?function(h){return h}:s,o=e.methodNames,l=o===void 0?[]:o,u=e.initPropNames,f=u===void 0?[]:u;return tt.forwardRef(function(h,p){var y=tt.useRef(),_=tt.useMemo(function(){var E=Object.fromEntries(f.filter(function(b){return h.hasOwnProperty(b)}).map(function(b){return[b,h[b]]}));return i(E)},[]);m6(function(){_(a(y.current))},tt.useLayoutEffect),m6(function(){return _._destructor instanceof Function?_._destructor:void 0});var x=tt.useCallback(function(E){for(var b=arguments.length,A=new Array(b>1?b-1:0),C=1;C<b;C++)A[C-1]=arguments[C];return _[E]instanceof Function?_[E].apply(_,A):void 0},[_]),S=tt.useRef({});return Object.keys(lW(h,[].concat(p6(l),p6(f)))).filter(function(E){return S.current[E]!==h[E]}).forEach(function(E){return x(E,h[E])}),S.current=h,tt.useImperativeHandle(p,function(){return Object.fromEntries(l.map(function(E){return[E,function(){for(var b=arguments.length,A=new Array(b),C=0;C<b;C++)A[C]=arguments[C];return x.apply(void 0,[E].concat(A))}]}))},[x]),hn.createElement(r,{ref:y})})}function m6(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:tt.useEffect,n=tt.useRef(),r=tt.useRef(!1),s=tt.useRef(!1),a=tt.useState(0),o=iEt(a,2);o[0];var l=o[1];r.current&&(s.current=!0),e(function(){return r.current||(n.current=i(),r.current=!0),l(function(u){return u+1}),function(){s.current&&n.current&&n.current()}},[])}var G3="http://www.w3.org/1999/xhtml";const g6={svg:"http://www.w3.org/2000/svg",xhtml:G3,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function kR(i){var e=i+="",n=e.indexOf(":");return n>=0&&(e=i.slice(0,n))!=="xmlns"&&(i=i.slice(n+1)),g6.hasOwnProperty(e)?{space:g6[e],local:i}:i}function sEt(i){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===G3&&e.documentElement.namespaceURI===G3?e.createElement(i):e.createElementNS(n,i)}}function aEt(i){return function(){return this.ownerDocument.createElementNS(i.space,i.local)}}function cW(i){var e=kR(i);return(e.local?aEt:sEt)(e)}function oEt(){}function S4(i){return i==null?oEt:function(){return this.querySelector(i)}}function lEt(i){typeof i!="function"&&(i=S4(i));for(var e=this._groups,n=e.length,r=new Array(n),s=0;s<n;++s)for(var a=e[s],o=a.length,l=r[s]=new Array(o),u,f,h=0;h<o;++h)(u=a[h])&&(f=i.call(u,u.__data__,h,a))&&("__data__"in u&&(f.__data__=u.__data__),l[h]=f);return new Zl(r,this._parents)}function uEt(i){return i==null?[]:Array.isArray(i)?i:Array.from(i)}function cEt(){return[]}function fW(i){return i==null?cEt:function(){return this.querySelectorAll(i)}}function fEt(i){return function(){return uEt(i.apply(this,arguments))}}function hEt(i){typeof i=="function"?i=fEt(i):i=fW(i);for(var e=this._groups,n=e.length,r=[],s=[],a=0;a<n;++a)for(var o=e[a],l=o.length,u,f=0;f<l;++f)(u=o[f])&&(r.push(i.call(u,u.__data__,f,o)),s.push(u));return new Zl(r,s)}function hW(i){return function(){return this.matches(i)}}function dW(i){return function(e){return e.matches(i)}}var dEt=Array.prototype.find;function pEt(i){return function(){return dEt.call(this.children,i)}}function mEt(){return this.firstElementChild}function gEt(i){return this.select(i==null?mEt:pEt(typeof i=="function"?i:dW(i)))}var yEt=Array.prototype.filter;function vEt(){return Array.from(this.children)}function _Et(i){return function(){return yEt.call(this.children,i)}}function bEt(i){return this.selectAll(i==null?vEt:_Et(typeof i=="function"?i:dW(i)))}function xEt(i){typeof i!="function"&&(i=hW(i));for(var e=this._groups,n=e.length,r=new Array(n),s=0;s<n;++s)for(var a=e[s],o=a.length,l=r[s]=[],u,f=0;f<o;++f)(u=a[f])&&i.call(u,u.__data__,f,a)&&l.push(u);return new Zl(r,this._parents)}function pW(i){return new Array(i.length)}function SEt(){return new Zl(this._enter||this._groups.map(pW),this._parents)}function BC(i,e){this.ownerDocument=i.ownerDocument,this.namespaceURI=i.namespaceURI,this._next=null,this._parent=i,this.__data__=e}BC.prototype={constructor:BC,appendChild:function(i){return this._parent.insertBefore(i,this._next)},insertBefore:function(i,e){return this._parent.insertBefore(i,e)},querySelector:function(i){return this._parent.querySelector(i)},querySelectorAll:function(i){return this._parent.querySelectorAll(i)}};function EEt(i){return function(){return i}}function TEt(i,e,n,r,s,a){for(var o=0,l,u=e.length,f=a.length;o<f;++o)(l=e[o])?(l.__data__=a[o],r[o]=l):n[o]=new BC(i,a[o]);for(;o<u;++o)(l=e[o])&&(s[o]=l)}function wEt(i,e,n,r,s,a,o){var l,u,f=new Map,h=e.length,p=a.length,y=new Array(h),_;for(l=0;l<h;++l)(u=e[l])&&(y[l]=_=o.call(u,u.__data__,l,e)+"",f.has(_)?s[l]=u:f.set(_,u));for(l=0;l<p;++l)_=o.call(i,a[l],l,a)+"",(u=f.get(_))?(r[l]=u,u.__data__=a[l],f.delete(_)):n[l]=new BC(i,a[l]);for(l=0;l<h;++l)(u=e[l])&&f.get(y[l])===u&&(s[l]=u)}function AEt(i){return i.__data__}function MEt(i,e){if(!arguments.length)return Array.from(this,AEt);var n=e?wEt:TEt,r=this._parents,s=this._groups;typeof i!="function"&&(i=EEt(i));for(var a=s.length,o=new Array(a),l=new Array(a),u=new Array(a),f=0;f<a;++f){var h=r[f],p=s[f],y=p.length,_=CEt(i.call(h,h&&h.__data__,f,r)),x=_.length,S=l[f]=new Array(x),E=o[f]=new Array(x),b=u[f]=new Array(y);n(h,p,S,E,b,_,e);for(var A=0,C=0,M,I;A<x;++A)if(M=S[A]){for(A>=C&&(C=A+1);!(I=E[C])&&++C<x;);M._next=I||null}}return o=new Zl(o,r),o._enter=l,o._exit=u,o}function CEt(i){return typeof i=="object"&&"length"in i?i:Array.from(i)}function REt(){return new Zl(this._exit||this._groups.map(pW),this._parents)}function OEt(i,e,n){var r=this.enter(),s=this,a=this.exit();return typeof i=="function"?(r=i(r),r&&(r=r.selection())):r=r.append(i+""),e!=null&&(s=e(s),s&&(s=s.selection())),n==null?a.remove():n(a),r&&s?r.merge(s).order():s}function IEt(i){for(var e=i.selection?i.selection():i,n=this._groups,r=e._groups,s=n.length,a=r.length,o=Math.min(s,a),l=new Array(s),u=0;u<o;++u)for(var f=n[u],h=r[u],p=f.length,y=l[u]=new Array(p),_,x=0;x<p;++x)(_=f[x]||h[x])&&(y[x]=_);for(;u<s;++u)l[u]=n[u];return new Zl(l,this._parents)}function PEt(){for(var i=this._groups,e=-1,n=i.length;++e<n;)for(var r=i[e],s=r.length-1,a=r[s],o;--s>=0;)(o=r[s])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function DEt(i){i||(i=NEt);function e(p,y){return p&&y?i(p.__data__,y.__data__):!p-!y}for(var n=this._groups,r=n.length,s=new Array(r),a=0;a<r;++a){for(var o=n[a],l=o.length,u=s[a]=new Array(l),f,h=0;h<l;++h)(f=o[h])&&(u[h]=f);u.sort(e)}return new Zl(s,this._parents).order()}function NEt(i,e){return i<e?-1:i>e?1:i>=e?0:NaN}function LEt(){var i=arguments[0];return arguments[0]=this,i.apply(null,arguments),this}function UEt(){return Array.from(this)}function kEt(){for(var i=this._groups,e=0,n=i.length;e<n;++e)for(var r=i[e],s=0,a=r.length;s<a;++s){var o=r[s];if(o)return o}return null}function zEt(){let i=0;for(const e of this)++i;return i}function BEt(){return!this.node()}function FEt(i){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var s=e[n],a=0,o=s.length,l;a<o;++a)(l=s[a])&&i.call(l,l.__data__,a,s);return this}function VEt(i){return function(){this.removeAttribute(i)}}function HEt(i){return function(){this.removeAttributeNS(i.space,i.local)}}function jEt(i,e){return function(){this.setAttribute(i,e)}}function GEt(i,e){return function(){this.setAttributeNS(i.space,i.local,e)}}function qEt(i,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(i):this.setAttribute(i,n)}}function $Et(i,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(i.space,i.local):this.setAttributeNS(i.space,i.local,n)}}function WEt(i,e){var n=kR(i);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?HEt:VEt:typeof e=="function"?n.local?$Et:qEt:n.local?GEt:jEt)(n,e))}function mW(i){return i.ownerDocument&&i.ownerDocument.defaultView||i.document&&i||i.defaultView}function XEt(i){return function(){this.style.removeProperty(i)}}function YEt(i,e,n){return function(){this.style.setProperty(i,e,n)}}function KEt(i,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(i):this.style.setProperty(i,r,n)}}function ZEt(i,e,n){return arguments.length>1?this.each((e==null?XEt:typeof e=="function"?KEt:YEt)(i,e,n??"")):L_(this.node(),i)}function L_(i,e){return i.style.getPropertyValue(e)||mW(i).getComputedStyle(i,null).getPropertyValue(e)}function QEt(i){return function(){delete this[i]}}function JEt(i,e){return function(){this[i]=e}}function tTt(i,e){return function(){var n=e.apply(this,arguments);n==null?delete this[i]:this[i]=n}}function eTt(i,e){return arguments.length>1?this.each((e==null?QEt:typeof e=="function"?tTt:JEt)(i,e)):this.node()[i]}function gW(i){return i.trim().split(/^|\s+/)}function E4(i){return i.classList||new yW(i)}function yW(i){this._node=i,this._names=gW(i.getAttribute("class")||"")}yW.prototype={add:function(i){var e=this._names.indexOf(i);e<0&&(this._names.push(i),this._node.setAttribute("class",this._names.join(" ")))},remove:function(i){var e=this._names.indexOf(i);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(i){return this._names.indexOf(i)>=0}};function vW(i,e){for(var n=E4(i),r=-1,s=e.length;++r<s;)n.add(e[r])}function _W(i,e){for(var n=E4(i),r=-1,s=e.length;++r<s;)n.remove(e[r])}function nTt(i){return function(){vW(this,i)}}function iTt(i){return function(){_W(this,i)}}function rTt(i,e){return function(){(e.apply(this,arguments)?vW:_W)(this,i)}}function sTt(i,e){var n=gW(i+"");if(arguments.length<2){for(var r=E4(this.node()),s=-1,a=n.length;++s<a;)if(!r.contains(n[s]))return!1;return!0}return this.each((typeof e=="function"?rTt:e?nTt:iTt)(n,e))}function aTt(){this.textContent=""}function oTt(i){return function(){this.textContent=i}}function lTt(i){return function(){var e=i.apply(this,arguments);this.textContent=e??""}}function uTt(i){return arguments.length?this.each(i==null?aTt:(typeof i=="function"?lTt:oTt)(i)):this.node().textContent}function cTt(){this.innerHTML=""}function fTt(i){return function(){this.innerHTML=i}}function hTt(i){return function(){var e=i.apply(this,arguments);this.innerHTML=e??""}}function dTt(i){return arguments.length?this.each(i==null?cTt:(typeof i=="function"?hTt:fTt)(i)):this.node().innerHTML}function pTt(){this.nextSibling&&this.parentNode.appendChild(this)}function mTt(){return this.each(pTt)}function gTt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function yTt(){return this.each(gTt)}function vTt(i){var e=typeof i=="function"?i:cW(i);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function _Tt(){return null}function bTt(i,e){var n=typeof i=="function"?i:cW(i),r=e==null?_Tt:typeof e=="function"?e:S4(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function xTt(){var i=this.parentNode;i&&i.removeChild(this)}function STt(){return this.each(xTt)}function ETt(){var i=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(i,this.nextSibling):i}function TTt(){var i=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(i,this.nextSibling):i}function wTt(i){return this.select(i?TTt:ETt)}function ATt(i){return arguments.length?this.property("__data__",i):this.node().__data__}function MTt(i){return function(e){i.call(this,e,this.__data__)}}function CTt(i){return i.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function RTt(i){return function(){var e=this.__on;if(e){for(var n=0,r=-1,s=e.length,a;n<s;++n)a=e[n],(!i.type||a.type===i.type)&&a.name===i.name?this.removeEventListener(a.type,a.listener,a.options):e[++r]=a;++r?e.length=r:delete this.__on}}}function OTt(i,e,n){return function(){var r=this.__on,s,a=MTt(e);if(r){for(var o=0,l=r.length;o<l;++o)if((s=r[o]).type===i.type&&s.name===i.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=a,s.options=n),s.value=e;return}}this.addEventListener(i.type,a,n),s={type:i.type,name:i.name,value:e,listener:a,options:n},r?r.push(s):this.__on=[s]}}function ITt(i,e,n){var r=CTt(i+""),s,a=r.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var u=0,f=l.length,h;u<f;++u)for(s=0,h=l[u];s<a;++s)if((o=r[s]).type===h.type&&o.name===h.name)return h.value}return}for(l=e?OTt:RTt,s=0;s<a;++s)this.each(l(r[s],e,n));return this}function bW(i,e,n){var r=mW(i),s=r.CustomEvent;typeof s=="function"?s=new s(e,n):(s=r.document.createEvent("Event"),n?(s.initEvent(e,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(e,!1,!1)),i.dispatchEvent(s)}function PTt(i,e){return function(){return bW(this,i,e)}}function DTt(i,e){return function(){return bW(this,i,e.apply(this,arguments))}}function NTt(i,e){return this.each((typeof e=="function"?DTt:PTt)(i,e))}function*LTt(){for(var i=this._groups,e=0,n=i.length;e<n;++e)for(var r=i[e],s=0,a=r.length,o;s<a;++s)(o=r[s])&&(yield o)}var xW=[null];function Zl(i,e){this._groups=i,this._parents=e}function wE(){return new Zl([[document.documentElement]],xW)}function UTt(){return this}Zl.prototype=wE.prototype={constructor:Zl,select:lEt,selectAll:hEt,selectChild:gEt,selectChildren:bEt,filter:xEt,data:MEt,enter:SEt,exit:REt,join:OEt,merge:IEt,selection:UTt,order:PEt,sort:DEt,call:LEt,nodes:UEt,node:kEt,size:zEt,empty:BEt,each:FEt,attr:WEt,style:ZEt,property:eTt,classed:sTt,text:uTt,html:dTt,raise:mTt,lower:yTt,append:vTt,insert:bTt,remove:STt,clone:wTt,datum:ATt,on:ITt,dispatch:NTt,[Symbol.iterator]:LTt};function Ou(i){return typeof i=="string"?new Zl([[document.querySelector(i)]],[document.documentElement]):new Zl([[i]],xW)}function kTt(i){let e;for(;e=i.sourceEvent;)i=e;return i}function If(i,e){if(i=kTt(i),e===void 0&&(e=i.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=i.clientX,r.y=i.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var s=e.getBoundingClientRect();return[i.clientX-s.left-e.clientLeft,i.clientY-s.top-e.clientTop]}}return[i.pageX,i.pageY]}var zTt={value:()=>{}};function AE(){for(var i=0,e=arguments.length,n={},r;i<e;++i){if(!(r=arguments[i]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new nM(n)}function nM(i){this._=i}function BTt(i,e){return i.trim().split(/^|\s+/).map(function(n){var r="",s=n.indexOf(".");if(s>=0&&(r=n.slice(s+1),n=n.slice(0,s)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}nM.prototype=AE.prototype={constructor:nM,on:function(i,e){var n=this._,r=BTt(i+"",n),s,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((s=(i=r[a]).type)&&(s=FTt(n[s],i.name)))return s;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<o;)if(s=(i=r[a]).type)n[s]=y6(n[s],i.name,e);else if(e==null)for(s in n)n[s]=y6(n[s],i.name,null);return this},copy:function(){var i={},e=this._;for(var n in e)i[n]=e[n].slice();return new nM(i)},call:function(i,e){if((s=arguments.length-2)>0)for(var n=new Array(s),r=0,s,a;r<s;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(i))throw new Error("unknown type: "+i);for(a=this._[i],r=0,s=a.length;r<s;++r)a[r].value.apply(e,n)},apply:function(i,e,n){if(!this._.hasOwnProperty(i))throw new Error("unknown type: "+i);for(var r=this._[i],s=0,a=r.length;s<a;++s)r[s].value.apply(e,n)}};function FTt(i,e){for(var n=0,r=i.length,s;n<r;++n)if((s=i[n]).name===e)return s.value}function y6(i,e,n){for(var r=0,s=i.length;r<s;++r)if(i[r].name===e){i[r]=zTt,i=i.slice(0,r).concat(i.slice(r+1));break}return n!=null&&i.push({name:e,value:n}),i}const VTt={passive:!1},PS={capture:!0,passive:!1};function NP(i){i.stopImmediatePropagation()}function a_(i){i.preventDefault(),i.stopImmediatePropagation()}function SW(i){var e=i.document.documentElement,n=Ou(i).on("dragstart.drag",a_,PS);"onselectstart"in e?n.on("selectstart.drag",a_,PS):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function EW(i,e){var n=i.document.documentElement,r=Ou(i).on("dragstart.drag",null);e&&(r.on("click.drag",a_,PS),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const oA=i=>()=>i;function q3(i,{sourceEvent:e,subject:n,target:r,identifier:s,active:a,x:o,y:l,dx:u,dy:f,dispatch:h}){Object.defineProperties(this,{type:{value:i,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:f,enumerable:!0,configurable:!0},_:{value:h}})}q3.prototype.on=function(){var i=this._.on.apply(this._,arguments);return i===this._?this:i};function HTt(i){return!i.ctrlKey&&!i.button}function jTt(){return this.parentNode}function GTt(i,e){return e??{x:i.x,y:i.y}}function qTt(){return navigator.maxTouchPoints||"ontouchstart"in this}function $Tt(){var i=HTt,e=jTt,n=GTt,r=qTt,s={},a=AE("start","drag","end"),o=0,l,u,f,h,p=0;function y(M){M.on("mousedown.drag",_).filter(r).on("touchstart.drag",E).on("touchmove.drag",b,VTt).on("touchend.drag touchcancel.drag",A).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function _(M,I){if(!(h||!i.call(this,M,I))){var k=C(this,e.call(this,M,I),M,I,"mouse");k&&(Ou(M.view).on("mousemove.drag",x,PS).on("mouseup.drag",S,PS),SW(M.view),NP(M),f=!1,l=M.clientX,u=M.clientY,k("start",M))}}function x(M){if(a_(M),!f){var I=M.clientX-l,k=M.clientY-u;f=I*I+k*k>p}s.mouse("drag",M)}function S(M){Ou(M.view).on("mousemove.drag mouseup.drag",null),EW(M.view,f),a_(M),s.mouse("end",M)}function E(M,I){if(i.call(this,M,I)){var k=M.changedTouches,N=e.call(this,M,I),L=k.length,U,O;for(U=0;U<L;++U)(O=C(this,N,M,I,k[U].identifier,k[U]))&&(NP(M),O("start",M,k[U]))}}function b(M){var I=M.changedTouches,k=I.length,N,L;for(N=0;N<k;++N)(L=s[I[N].identifier])&&(a_(M),L("drag",M,I[N]))}function A(M){var I=M.changedTouches,k=I.length,N,L;for(h&&clearTimeout(h),h=setTimeout(function(){h=null},500),N=0;N<k;++N)(L=s[I[N].identifier])&&(NP(M),L("end",M,I[N]))}function C(M,I,k,N,L,U){var O=a.copy(),B=If(U||k,I),H,V,X;if((X=n.call(M,new q3("beforestart",{sourceEvent:k,target:y,identifier:L,active:o,x:B[0],y:B[1],dx:0,dy:0,dispatch:O}),N))!=null)return H=X.x-B[0]||0,V=X.y-B[1]||0,function et(q,W,Z){var nt=B,Q;switch(q){case"start":s[L]=et,Q=o++;break;case"end":delete s[L],--o;case"drag":B=If(Z||W,I),Q=o;break}O.call(q,M,new q3(q,{sourceEvent:W,subject:X,target:y,identifier:L,active:Q,x:B[0]+H,y:B[1]+V,dx:B[0]-nt[0],dy:B[1]-nt[1],dispatch:O}),N)}}return y.filter=function(M){return arguments.length?(i=typeof M=="function"?M:oA(!!M),y):i},y.container=function(M){return arguments.length?(e=typeof M=="function"?M:oA(M),y):e},y.subject=function(M){return arguments.length?(n=typeof M=="function"?M:oA(M),y):n},y.touchable=function(M){return arguments.length?(r=typeof M=="function"?M:oA(!!M),y):r},y.on=function(){var M=a.on.apply(a,arguments);return M===a?y:M},y.clickDistance=function(M){return arguments.length?(p=(M=+M)*M,y):Math.sqrt(p)},y}function T4(i,e,n){i.prototype=e.prototype=n,n.constructor=i}function TW(i,e){var n=Object.create(i.prototype);for(var r in e)n[r]=e[r];return n}function ME(){}var DS=.7,FC=1/DS,o_="\\s*([+-]?\\d+)\\s*",NS="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Qf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",WTt=/^#([0-9a-f]{3,8})$/,XTt=new RegExp(`^rgb\\(${o_},${o_},${o_}\\)$`),YTt=new RegExp(`^rgb\\(${Qf},${Qf},${Qf}\\)$`),KTt=new RegExp(`^rgba\\(${o_},${o_},${o_},${NS}\\)$`),ZTt=new RegExp(`^rgba\\(${Qf},${Qf},${Qf},${NS}\\)$`),QTt=new RegExp(`^hsl\\(${NS},${Qf},${Qf}\\)$`),JTt=new RegExp(`^hsla\\(${NS},${Qf},${Qf},${NS}\\)$`),v6={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};T4(ME,LS,{copy(i){return Object.assign(new this.constructor,this,i)},displayable(){return this.rgb().displayable()},hex:_6,formatHex:_6,formatHex8:twt,formatHsl:ewt,formatRgb:b6,toString:b6});function _6(){return this.rgb().formatHex()}function twt(){return this.rgb().formatHex8()}function ewt(){return wW(this).formatHsl()}function b6(){return this.rgb().formatRgb()}function LS(i){var e,n;return i=(i+"").trim().toLowerCase(),(e=WTt.exec(i))?(n=e[1].length,e=parseInt(e[1],16),n===6?x6(e):n===3?new al(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?lA(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?lA(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=XTt.exec(i))?new al(e[1],e[2],e[3],1):(e=YTt.exec(i))?new al(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=KTt.exec(i))?lA(e[1],e[2],e[3],e[4]):(e=ZTt.exec(i))?lA(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=QTt.exec(i))?T6(e[1],e[2]/100,e[3]/100,1):(e=JTt.exec(i))?T6(e[1],e[2]/100,e[3]/100,e[4]):v6.hasOwnProperty(i)?x6(v6[i]):i==="transparent"?new al(NaN,NaN,NaN,0):null}function x6(i){return new al(i>>16&255,i>>8&255,i&255,1)}function lA(i,e,n,r){return r<=0&&(i=e=n=NaN),new al(i,e,n,r)}function nwt(i){return i instanceof ME||(i=LS(i)),i?(i=i.rgb(),new al(i.r,i.g,i.b,i.opacity)):new al}function $3(i,e,n,r){return arguments.length===1?nwt(i):new al(i,e,n,r??1)}function al(i,e,n,r){this.r=+i,this.g=+e,this.b=+n,this.opacity=+r}T4(al,$3,TW(ME,{brighter(i){return i=i==null?FC:Math.pow(FC,i),new al(this.r*i,this.g*i,this.b*i,this.opacity)},darker(i){return i=i==null?DS:Math.pow(DS,i),new al(this.r*i,this.g*i,this.b*i,this.opacity)},rgb(){return this},clamp(){return new al(my(this.r),my(this.g),my(this.b),VC(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:S6,formatHex:S6,formatHex8:iwt,formatRgb:E6,toString:E6}));function S6(){return`#${sy(this.r)}${sy(this.g)}${sy(this.b)}`}function iwt(){return`#${sy(this.r)}${sy(this.g)}${sy(this.b)}${sy((isNaN(this.opacity)?1:this.opacity)*255)}`}function E6(){const i=VC(this.opacity);return`${i===1?"rgb(":"rgba("}${my(this.r)}, ${my(this.g)}, ${my(this.b)}${i===1?")":`, ${i})`}`}function VC(i){return isNaN(i)?1:Math.max(0,Math.min(1,i))}function my(i){return Math.max(0,Math.min(255,Math.round(i)||0))}function sy(i){return i=my(i),(i<16?"0":"")+i.toString(16)}function T6(i,e,n,r){return r<=0?i=e=n=NaN:n<=0||n>=1?i=e=NaN:e<=0&&(i=NaN),new Ec(i,e,n,r)}function wW(i){if(i instanceof Ec)return new Ec(i.h,i.s,i.l,i.opacity);if(i instanceof ME||(i=LS(i)),!i)return new Ec;if(i instanceof Ec)return i;i=i.rgb();var e=i.r/255,n=i.g/255,r=i.b/255,s=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,l=a-s,u=(a+s)/2;return l?(e===a?o=(n-r)/l+(n<r)*6:n===a?o=(r-e)/l+2:o=(e-n)/l+4,l/=u<.5?a+s:2-a-s,o*=60):l=u>0&&u<1?0:o,new Ec(o,l,u,i.opacity)}function rwt(i,e,n,r){return arguments.length===1?wW(i):new Ec(i,e,n,r??1)}function Ec(i,e,n,r){this.h=+i,this.s=+e,this.l=+n,this.opacity=+r}T4(Ec,rwt,TW(ME,{brighter(i){return i=i==null?FC:Math.pow(FC,i),new Ec(this.h,this.s,this.l*i,this.opacity)},darker(i){return i=i==null?DS:Math.pow(DS,i),new Ec(this.h,this.s,this.l*i,this.opacity)},rgb(){var i=this.h%360+(this.h<0)*360,e=isNaN(i)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,s=2*n-r;return new al(LP(i>=240?i-240:i+120,s,r),LP(i,s,r),LP(i<120?i+240:i-120,s,r),this.opacity)},clamp(){return new Ec(w6(this.h),uA(this.s),uA(this.l),VC(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const i=VC(this.opacity);return`${i===1?"hsl(":"hsla("}${w6(this.h)}, ${uA(this.s)*100}%, ${uA(this.l)*100}%${i===1?")":`, ${i})`}`}}));function w6(i){return i=(i||0)%360,i<0?i+360:i}function uA(i){return Math.max(0,Math.min(1,i||0))}function LP(i,e,n){return(i<60?e+(n-e)*i/60:i<180?n:i<240?e+(n-e)*(240-i)/60:e)*255}const AW=i=>()=>i;function swt(i,e){return function(n){return i+n*e}}function awt(i,e,n){return i=Math.pow(i,n),e=Math.pow(e,n)-i,n=1/n,function(r){return Math.pow(i+r*e,n)}}function owt(i){return(i=+i)==1?MW:function(e,n){return n-e?awt(e,n,i):AW(isNaN(e)?n:e)}}function MW(i,e){var n=e-i;return n?swt(i,n):AW(isNaN(i)?e:i)}const A6=function i(e){var n=owt(e);function r(s,a){var o=n((s=$3(s)).r,(a=$3(a)).r),l=n(s.g,a.g),u=n(s.b,a.b),f=MW(s.opacity,a.opacity);return function(h){return s.r=o(h),s.g=l(h),s.b=u(h),s.opacity=f(h),s+""}}return r.gamma=i,r}(1);function Hp(i,e){return i=+i,e=+e,function(n){return i*(1-n)+e*n}}var W3=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,UP=new RegExp(W3.source,"g");function lwt(i){return function(){return i}}function uwt(i){return function(e){return i(e)+""}}function cwt(i,e){var n=W3.lastIndex=UP.lastIndex=0,r,s,a,o=-1,l=[],u=[];for(i=i+"",e=e+"";(r=W3.exec(i))&&(s=UP.exec(e));)(a=s.index)>n&&(a=e.slice(n,a),l[o]?l[o]+=a:l[++o]=a),(r=r[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,u.push({i:o,x:Hp(r,s)})),n=UP.lastIndex;return n<e.length&&(a=e.slice(n),l[o]?l[o]+=a:l[++o]=a),l.length<2?u[0]?uwt(u[0].x):lwt(e):(e=u.length,function(f){for(var h=0,p;h<e;++h)l[(p=u[h]).i]=p.x(f);return l.join("")})}var M6=180/Math.PI,X3={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function CW(i,e,n,r,s,a){var o,l,u;return(o=Math.sqrt(i*i+e*e))&&(i/=o,e/=o),(u=i*n+e*r)&&(n-=i*u,r-=e*u),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,u/=l),i*r<e*n&&(i=-i,e=-e,u=-u,o=-o),{translateX:s,translateY:a,rotate:Math.atan2(e,i)*M6,skewX:Math.atan(u)*M6,scaleX:o,scaleY:l}}var cA;function fwt(i){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(i+"");return e.isIdentity?X3:CW(e.a,e.b,e.c,e.d,e.e,e.f)}function hwt(i){return i==null||(cA||(cA=document.createElementNS("http://www.w3.org/2000/svg","g")),cA.setAttribute("transform",i),!(i=cA.transform.baseVal.consolidate()))?X3:(i=i.matrix,CW(i.a,i.b,i.c,i.d,i.e,i.f))}function RW(i,e,n,r){function s(f){return f.length?f.pop()+" ":""}function a(f,h,p,y,_,x){if(f!==p||h!==y){var S=_.push("translate(",null,e,null,n);x.push({i:S-4,x:Hp(f,p)},{i:S-2,x:Hp(h,y)})}else(p||y)&&_.push("translate("+p+e+y+n)}function o(f,h,p,y){f!==h?(f-h>180?h+=360:h-f>180&&(f+=360),y.push({i:p.push(s(p)+"rotate(",null,r)-2,x:Hp(f,h)})):h&&p.push(s(p)+"rotate("+h+r)}function l(f,h,p,y){f!==h?y.push({i:p.push(s(p)+"skewX(",null,r)-2,x:Hp(f,h)}):h&&p.push(s(p)+"skewX("+h+r)}function u(f,h,p,y,_,x){if(f!==p||h!==y){var S=_.push(s(_)+"scale(",null,",",null,")");x.push({i:S-4,x:Hp(f,p)},{i:S-2,x:Hp(h,y)})}else(p!==1||y!==1)&&_.push(s(_)+"scale("+p+","+y+")")}return function(f,h){var p=[],y=[];return f=i(f),h=i(h),a(f.translateX,f.translateY,h.translateX,h.translateY,p,y),o(f.rotate,h.rotate,p,y),l(f.skewX,h.skewX,p,y),u(f.scaleX,f.scaleY,h.scaleX,h.scaleY,p,y),f=h=null,function(_){for(var x=-1,S=y.length,E;++x<S;)p[(E=y[x]).i]=E.x(_);return p.join("")}}}var dwt=RW(fwt,"px, ","px)","deg)"),pwt=RW(hwt,", ",")",")"),mwt=1e-12;function C6(i){return((i=Math.exp(i))+1/i)/2}function gwt(i){return((i=Math.exp(i))-1/i)/2}function ywt(i){return((i=Math.exp(2*i))-1)/(i+1)}const vwt=function i(e,n,r){function s(a,o){var l=a[0],u=a[1],f=a[2],h=o[0],p=o[1],y=o[2],_=h-l,x=p-u,S=_*_+x*x,E,b;if(S<mwt)b=Math.log(y/f)/e,E=function(N){return[l+N*_,u+N*x,f*Math.exp(e*N*b)]};else{var A=Math.sqrt(S),C=(y*y-f*f+r*S)/(2*f*n*A),M=(y*y-f*f-r*S)/(2*y*n*A),I=Math.log(Math.sqrt(C*C+1)-C),k=Math.log(Math.sqrt(M*M+1)-M);b=(k-I)/e,E=function(N){var L=N*b,U=C6(I),O=f/(n*A)*(U*ywt(e*L+I)-gwt(I));return[l+O*_,u+O*x,f*U/C6(e*L+I)]}}return E.duration=b*1e3*e/Math.SQRT2,E}return s.rho=function(a){var o=Math.max(.001,+a),l=o*o,u=l*l;return i(o,l,u)},s}(Math.SQRT2,2,4);var U_=0,g1=0,jx=0,OW=1e3,HC,y1,jC=0,By=0,zR=0,US=typeof performance=="object"&&performance.now?performance:Date,IW=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(i){setTimeout(i,17)};function w4(){return By||(IW(_wt),By=US.now()+zR)}function _wt(){By=0}function GC(){this._call=this._time=this._next=null}GC.prototype=A4.prototype={constructor:GC,restart:function(i,e,n){if(typeof i!="function")throw new TypeError("callback is not a function");n=(n==null?w4():+n)+(e==null?0:+e),!this._next&&y1!==this&&(y1?y1._next=this:HC=this,y1=this),this._call=i,this._time=n,Y3()},stop:function(){this._call&&(this._call=null,this._time=1/0,Y3())}};function A4(i,e,n){var r=new GC;return r.restart(i,e,n),r}function bwt(){w4(),++U_;for(var i=HC,e;i;)(e=By-i._time)>=0&&i._call.call(void 0,e),i=i._next;--U_}function R6(){By=(jC=US.now())+zR,U_=g1=0;try{bwt()}finally{U_=0,Swt(),By=0}}function xwt(){var i=US.now(),e=i-jC;e>OW&&(zR-=e,jC=i)}function Swt(){for(var i,e=HC,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),i=e,e=e._next):(n=e._next,e._next=null,e=i?i._next=n:HC=n);y1=i,Y3(r)}function Y3(i){if(!U_){g1&&(g1=clearTimeout(g1));var e=i-By;e>24?(i<1/0&&(g1=setTimeout(R6,i-US.now()-zR)),jx&&(jx=clearInterval(jx))):(jx||(jC=US.now(),jx=setInterval(xwt,OW)),U_=1,IW(R6))}}function O6(i,e,n){var r=new GC;return e=e==null?0:+e,r.restart(s=>{r.stop(),i(s+e)},e,n),r}var Ewt=AE("start","end","cancel","interrupt"),Twt=[],PW=0,I6=1,K3=2,iM=3,P6=4,Z3=5,rM=6;function BR(i,e,n,r,s,a){var o=i.__transition;if(!o)i.__transition={};else if(n in o)return;wwt(i,n,{name:e,index:r,group:s,on:Ewt,tween:Twt,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:PW})}function M4(i,e){var n=zc(i,e);if(n.state>PW)throw new Error("too late; already scheduled");return n}function ch(i,e){var n=zc(i,e);if(n.state>iM)throw new Error("too late; already running");return n}function zc(i,e){var n=i.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function wwt(i,e,n){var r=i.__transition,s;r[e]=n,n.timer=A4(a,0,n.time);function a(f){n.state=I6,n.timer.restart(o,n.delay,n.time),n.delay<=f&&o(f-n.delay)}function o(f){var h,p,y,_;if(n.state!==I6)return u();for(h in r)if(_=r[h],_.name===n.name){if(_.state===iM)return O6(o);_.state===P6?(_.state=rM,_.timer.stop(),_.on.call("interrupt",i,i.__data__,_.index,_.group),delete r[h]):+h<e&&(_.state=rM,_.timer.stop(),_.on.call("cancel",i,i.__data__,_.index,_.group),delete r[h])}if(O6(function(){n.state===iM&&(n.state=P6,n.timer.restart(l,n.delay,n.time),l(f))}),n.state=K3,n.on.call("start",i,i.__data__,n.index,n.group),n.state===K3){for(n.state=iM,s=new Array(y=n.tween.length),h=0,p=-1;h<y;++h)(_=n.tween[h].value.call(i,i.__data__,n.index,n.group))&&(s[++p]=_);s.length=p+1}}function l(f){for(var h=f<n.duration?n.ease.call(null,f/n.duration):(n.timer.restart(u),n.state=Z3,1),p=-1,y=s.length;++p<y;)s[p].call(i,h);n.state===Z3&&(n.on.call("end",i,i.__data__,n.index,n.group),u())}function u(){n.state=rM,n.timer.stop(),delete r[e];for(var f in r)return;delete i.__transition}}function sM(i,e){var n=i.__transition,r,s,a=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){a=!1;continue}s=r.state>K3&&r.state<Z3,r.state=rM,r.timer.stop(),r.on.call(s?"interrupt":"cancel",i,i.__data__,r.index,r.group),delete n[o]}a&&delete i.__transition}}function Awt(i){return this.each(function(){sM(this,i)})}function Mwt(i,e){var n,r;return function(){var s=ch(this,i),a=s.tween;if(a!==n){r=n=a;for(var o=0,l=r.length;o<l;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}s.tween=r}}function Cwt(i,e,n){var r,s;if(typeof n!="function")throw new Error;return function(){var a=ch(this,i),o=a.tween;if(o!==r){s=(r=o).slice();for(var l={name:e,value:n},u=0,f=s.length;u<f;++u)if(s[u].name===e){s[u]=l;break}u===f&&s.push(l)}a.tween=s}}function Rwt(i,e){var n=this._id;if(i+="",arguments.length<2){for(var r=zc(this.node(),n).tween,s=0,a=r.length,o;s<a;++s)if((o=r[s]).name===i)return o.value;return null}return this.each((e==null?Mwt:Cwt)(n,i,e))}function C4(i,e,n){var r=i._id;return i.each(function(){var s=ch(this,r);(s.value||(s.value={}))[e]=n.apply(this,arguments)}),function(s){return zc(s,r).value[e]}}function DW(i,e){var n;return(typeof e=="number"?Hp:e instanceof LS?A6:(n=LS(e))?(e=n,A6):cwt)(i,e)}function Owt(i){return function(){this.removeAttribute(i)}}function Iwt(i){return function(){this.removeAttributeNS(i.space,i.local)}}function Pwt(i,e,n){var r,s=n+"",a;return function(){var o=this.getAttribute(i);return o===s?null:o===r?a:a=e(r=o,n)}}function Dwt(i,e,n){var r,s=n+"",a;return function(){var o=this.getAttributeNS(i.space,i.local);return o===s?null:o===r?a:a=e(r=o,n)}}function Nwt(i,e,n){var r,s,a;return function(){var o,l=n(this),u;return l==null?void this.removeAttribute(i):(o=this.getAttribute(i),u=l+"",o===u?null:o===r&&u===s?a:(s=u,a=e(r=o,l)))}}function Lwt(i,e,n){var r,s,a;return function(){var o,l=n(this),u;return l==null?void this.removeAttributeNS(i.space,i.local):(o=this.getAttributeNS(i.space,i.local),u=l+"",o===u?null:o===r&&u===s?a:(s=u,a=e(r=o,l)))}}function Uwt(i,e){var n=kR(i),r=n==="transform"?pwt:DW;return this.attrTween(i,typeof e=="function"?(n.local?Lwt:Nwt)(n,r,C4(this,"attr."+i,e)):e==null?(n.local?Iwt:Owt)(n):(n.local?Dwt:Pwt)(n,r,e))}function kwt(i,e){return function(n){this.setAttribute(i,e.call(this,n))}}function zwt(i,e){return function(n){this.setAttributeNS(i.space,i.local,e.call(this,n))}}function Bwt(i,e){var n,r;function s(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&zwt(i,a)),n}return s._value=e,s}function Fwt(i,e){var n,r;function s(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&kwt(i,a)),n}return s._value=e,s}function Vwt(i,e){var n="attr."+i;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=kR(i);return this.tween(n,(r.local?Bwt:Fwt)(r,e))}function Hwt(i,e){return function(){M4(this,i).delay=+e.apply(this,arguments)}}function jwt(i,e){return e=+e,function(){M4(this,i).delay=e}}function Gwt(i){var e=this._id;return arguments.length?this.each((typeof i=="function"?Hwt:jwt)(e,i)):zc(this.node(),e).delay}function qwt(i,e){return function(){ch(this,i).duration=+e.apply(this,arguments)}}function $wt(i,e){return e=+e,function(){ch(this,i).duration=e}}function Wwt(i){var e=this._id;return arguments.length?this.each((typeof i=="function"?qwt:$wt)(e,i)):zc(this.node(),e).duration}function Xwt(i,e){if(typeof e!="function")throw new Error;return function(){ch(this,i).ease=e}}function Ywt(i){var e=this._id;return arguments.length?this.each(Xwt(e,i)):zc(this.node(),e).ease}function Kwt(i,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;ch(this,i).ease=n}}function Zwt(i){if(typeof i!="function")throw new Error;return this.each(Kwt(this._id,i))}function Qwt(i){typeof i!="function"&&(i=hW(i));for(var e=this._groups,n=e.length,r=new Array(n),s=0;s<n;++s)for(var a=e[s],o=a.length,l=r[s]=[],u,f=0;f<o;++f)(u=a[f])&&i.call(u,u.__data__,f,a)&&l.push(u);return new Pd(r,this._parents,this._name,this._id)}function Jwt(i){if(i._id!==this._id)throw new Error;for(var e=this._groups,n=i._groups,r=e.length,s=n.length,a=Math.min(r,s),o=new Array(r),l=0;l<a;++l)for(var u=e[l],f=n[l],h=u.length,p=o[l]=new Array(h),y,_=0;_<h;++_)(y=u[_]||f[_])&&(p[_]=y);for(;l<r;++l)o[l]=e[l];return new Pd(o,this._parents,this._name,this._id)}function tAt(i){return(i+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function eAt(i,e,n){var r,s,a=tAt(e)?M4:ch;return function(){var o=a(this,i),l=o.on;l!==r&&(s=(r=l).copy()).on(e,n),o.on=s}}function nAt(i,e){var n=this._id;return arguments.length<2?zc(this.node(),n).on.on(i):this.each(eAt(n,i,e))}function iAt(i){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==i)return;e&&e.removeChild(this)}}function rAt(){return this.on("end.remove",iAt(this._id))}function sAt(i){var e=this._name,n=this._id;typeof i!="function"&&(i=S4(i));for(var r=this._groups,s=r.length,a=new Array(s),o=0;o<s;++o)for(var l=r[o],u=l.length,f=a[o]=new Array(u),h,p,y=0;y<u;++y)(h=l[y])&&(p=i.call(h,h.__data__,y,l))&&("__data__"in h&&(p.__data__=h.__data__),f[y]=p,BR(f[y],e,n,y,f,zc(h,n)));return new Pd(a,this._parents,e,n)}function aAt(i){var e=this._name,n=this._id;typeof i!="function"&&(i=fW(i));for(var r=this._groups,s=r.length,a=[],o=[],l=0;l<s;++l)for(var u=r[l],f=u.length,h,p=0;p<f;++p)if(h=u[p]){for(var y=i.call(h,h.__data__,p,u),_,x=zc(h,n),S=0,E=y.length;S<E;++S)(_=y[S])&&BR(_,e,n,S,y,x);a.push(y),o.push(h)}return new Pd(a,o,e,n)}var oAt=wE.prototype.constructor;function lAt(){return new oAt(this._groups,this._parents)}function uAt(i,e){var n,r,s;return function(){var a=L_(this,i),o=(this.style.removeProperty(i),L_(this,i));return a===o?null:a===n&&o===r?s:s=e(n=a,r=o)}}function NW(i){return function(){this.style.removeProperty(i)}}function cAt(i,e,n){var r,s=n+"",a;return function(){var o=L_(this,i);return o===s?null:o===r?a:a=e(r=o,n)}}function fAt(i,e,n){var r,s,a;return function(){var o=L_(this,i),l=n(this),u=l+"";return l==null&&(u=l=(this.style.removeProperty(i),L_(this,i))),o===u?null:o===r&&u===s?a:(s=u,a=e(r=o,l))}}function hAt(i,e){var n,r,s,a="style."+e,o="end."+a,l;return function(){var u=ch(this,i),f=u.on,h=u.value[a]==null?l||(l=NW(e)):void 0;(f!==n||s!==h)&&(r=(n=f).copy()).on(o,s=h),u.on=r}}function dAt(i,e,n){var r=(i+="")=="transform"?dwt:DW;return e==null?this.styleTween(i,uAt(i,r)).on("end.style."+i,NW(i)):typeof e=="function"?this.styleTween(i,fAt(i,r,C4(this,"style."+i,e))).each(hAt(this._id,i)):this.styleTween(i,cAt(i,r,e),n).on("end.style."+i,null)}function pAt(i,e,n){return function(r){this.style.setProperty(i,e.call(this,r),n)}}function mAt(i,e,n){var r,s;function a(){var o=e.apply(this,arguments);return o!==s&&(r=(s=o)&&pAt(i,o,n)),r}return a._value=e,a}function gAt(i,e,n){var r="style."+(i+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,mAt(i,e,n??""))}function yAt(i){return function(){this.textContent=i}}function vAt(i){return function(){var e=i(this);this.textContent=e??""}}function _At(i){return this.tween("text",typeof i=="function"?vAt(C4(this,"text",i)):yAt(i==null?"":i+""))}function bAt(i){return function(e){this.textContent=i.call(this,e)}}function xAt(i){var e,n;function r(){var s=i.apply(this,arguments);return s!==n&&(e=(n=s)&&bAt(s)),e}return r._value=i,r}function SAt(i){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(i==null)return this.tween(e,null);if(typeof i!="function")throw new Error;return this.tween(e,xAt(i))}function EAt(){for(var i=this._name,e=this._id,n=LW(),r=this._groups,s=r.length,a=0;a<s;++a)for(var o=r[a],l=o.length,u,f=0;f<l;++f)if(u=o[f]){var h=zc(u,e);BR(u,i,n,f,o,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new Pd(r,this._parents,i,n)}function TAt(){var i,e,n=this,r=n._id,s=n.size();return new Promise(function(a,o){var l={value:o},u={value:function(){--s===0&&a()}};n.each(function(){var f=ch(this,r),h=f.on;h!==i&&(e=(i=h).copy(),e._.cancel.push(l),e._.interrupt.push(l),e._.end.push(u)),f.on=e}),s===0&&a()})}var wAt=0;function Pd(i,e,n,r){this._groups=i,this._parents=e,this._name=n,this._id=r}function LW(){return++wAt}var Yh=wE.prototype;Pd.prototype={constructor:Pd,select:sAt,selectAll:aAt,selectChild:Yh.selectChild,selectChildren:Yh.selectChildren,filter:Qwt,merge:Jwt,selection:lAt,transition:EAt,call:Yh.call,nodes:Yh.nodes,node:Yh.node,size:Yh.size,empty:Yh.empty,each:Yh.each,on:nAt,attr:Uwt,attrTween:Vwt,style:dAt,styleTween:gAt,text:_At,textTween:SAt,remove:rAt,tween:Rwt,delay:Gwt,duration:Wwt,ease:Ywt,easeVarying:Zwt,end:TAt,[Symbol.iterator]:Yh[Symbol.iterator]};function AAt(i){return((i*=2)<=1?i*i*i:(i-=2)*i*i+2)/2}var MAt={time:null,delay:0,duration:250,ease:AAt};function CAt(i,e){for(var n;!(n=i.__transition)||!(n=n[e]);)if(!(i=i.parentNode))throw new Error(`transition ${e} not found`);return n}function RAt(i){var e,n;i instanceof Pd?(e=i._id,i=i._name):(e=LW(),(n=MAt).time=w4(),i=i==null?null:i+"");for(var r=this._groups,s=r.length,a=0;a<s;++a)for(var o=r[a],l=o.length,u,f=0;f<l;++f)(u=o[f])&&BR(u,i,e,f,o,n||CAt(u,e));return new Pd(r,this._parents,i,e)}wE.prototype.interrupt=Awt;wE.prototype.transition=RAt;const fA=i=>()=>i;function OAt(i,{sourceEvent:e,target:n,transform:r,dispatch:s}){Object.defineProperties(this,{type:{value:i,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:s}})}function dd(i,e,n){this.k=i,this.x=e,this.y=n}dd.prototype={constructor:dd,scale:function(i){return i===1?this:new dd(this.k*i,this.x,this.y)},translate:function(i,e){return i===0&e===0?this:new dd(this.k,this.x+this.k*i,this.y+this.k*e)},apply:function(i){return[i[0]*this.k+this.x,i[1]*this.k+this.y]},applyX:function(i){return i*this.k+this.x},applyY:function(i){return i*this.k+this.y},invert:function(i){return[(i[0]-this.x)/this.k,(i[1]-this.y)/this.k]},invertX:function(i){return(i-this.x)/this.k},invertY:function(i){return(i-this.y)/this.k},rescaleX:function(i){return i.copy().domain(i.range().map(this.invertX,this).map(i.invert,i))},rescaleY:function(i){return i.copy().domain(i.range().map(this.invertY,this).map(i.invert,i))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var R4=new dd(1,0,0);Rf.prototype=dd.prototype;function Rf(i){for(;!i.__zoom;)if(!(i=i.parentNode))return R4;return i.__zoom}function kP(i){i.stopImmediatePropagation()}function Gx(i){i.preventDefault(),i.stopImmediatePropagation()}function IAt(i){return(!i.ctrlKey||i.type==="wheel")&&!i.button}function PAt(){var i=this;return i instanceof SVGElement?(i=i.ownerSVGElement||i,i.hasAttribute("viewBox")?(i=i.viewBox.baseVal,[[i.x,i.y],[i.x+i.width,i.y+i.height]]):[[0,0],[i.width.baseVal.value,i.height.baseVal.value]]):[[0,0],[i.clientWidth,i.clientHeight]]}function D6(){return this.__zoom||R4}function DAt(i){return-i.deltaY*(i.deltaMode===1?.05:i.deltaMode?1:.002)*(i.ctrlKey?10:1)}function NAt(){return navigator.maxTouchPoints||"ontouchstart"in this}function LAt(i,e,n){var r=i.invertX(e[0][0])-n[0][0],s=i.invertX(e[1][0])-n[1][0],a=i.invertY(e[0][1])-n[0][1],o=i.invertY(e[1][1])-n[1][1];return i.translate(s>r?(r+s)/2:Math.min(0,r)||Math.max(0,s),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}function UAt(){var i=IAt,e=PAt,n=LAt,r=DAt,s=NAt,a=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],l=250,u=vwt,f=AE("start","zoom","end"),h,p,y,_=500,x=150,S=0,E=10;function b(X){X.property("__zoom",D6).on("wheel.zoom",L,{passive:!1}).on("mousedown.zoom",U).on("dblclick.zoom",O).filter(s).on("touchstart.zoom",B).on("touchmove.zoom",H).on("touchend.zoom touchcancel.zoom",V).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}b.transform=function(X,et,q,W){var Z=X.selection?X.selection():X;Z.property("__zoom",D6),X!==Z?I(X,et,q,W):Z.interrupt().each(function(){k(this,arguments).event(W).start().zoom(null,typeof et=="function"?et.apply(this,arguments):et).end()})},b.scaleBy=function(X,et,q,W){b.scaleTo(X,function(){var Z=this.__zoom.k,nt=typeof et=="function"?et.apply(this,arguments):et;return Z*nt},q,W)},b.scaleTo=function(X,et,q,W){b.transform(X,function(){var Z=e.apply(this,arguments),nt=this.__zoom,Q=q==null?M(Z):typeof q=="function"?q.apply(this,arguments):q,ht=nt.invert(Q),yt=typeof et=="function"?et.apply(this,arguments):et;return n(C(A(nt,yt),Q,ht),Z,o)},q,W)},b.translateBy=function(X,et,q,W){b.transform(X,function(){return n(this.__zoom.translate(typeof et=="function"?et.apply(this,arguments):et,typeof q=="function"?q.apply(this,arguments):q),e.apply(this,arguments),o)},null,W)},b.translateTo=function(X,et,q,W,Z){b.transform(X,function(){var nt=e.apply(this,arguments),Q=this.__zoom,ht=W==null?M(nt):typeof W=="function"?W.apply(this,arguments):W;return n(R4.translate(ht[0],ht[1]).scale(Q.k).translate(typeof et=="function"?-et.apply(this,arguments):-et,typeof q=="function"?-q.apply(this,arguments):-q),nt,o)},W,Z)};function A(X,et){return et=Math.max(a[0],Math.min(a[1],et)),et===X.k?X:new dd(et,X.x,X.y)}function C(X,et,q){var W=et[0]-q[0]*X.k,Z=et[1]-q[1]*X.k;return W===X.x&&Z===X.y?X:new dd(X.k,W,Z)}function M(X){return[(+X[0][0]+ +X[1][0])/2,(+X[0][1]+ +X[1][1])/2]}function I(X,et,q,W){X.on("start.zoom",function(){k(this,arguments).event(W).start()}).on("interrupt.zoom end.zoom",function(){k(this,arguments).event(W).end()}).tween("zoom",function(){var Z=this,nt=arguments,Q=k(Z,nt).event(W),ht=e.apply(Z,nt),yt=q==null?M(ht):typeof q=="function"?q.apply(Z,nt):q,xt=Math.max(ht[1][0]-ht[0][0],ht[1][1]-ht[0][1]),it=Z.__zoom,dt=typeof et=="function"?et.apply(Z,nt):et,ft=u(it.invert(yt).concat(xt/it.k),dt.invert(yt).concat(xt/dt.k));return function(gt){if(gt===1)gt=dt;else{var wt=ft(gt),Kt=xt/wt[2];gt=new dd(Kt,yt[0]-wt[0]*Kt,yt[1]-wt[1]*Kt)}Q.zoom(null,gt)}})}function k(X,et,q){return!q&&X.__zooming||new N(X,et)}function N(X,et){this.that=X,this.args=et,this.active=0,this.sourceEvent=null,this.extent=e.apply(X,et),this.taps=0}N.prototype={event:function(X){return X&&(this.sourceEvent=X),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(X,et){return this.mouse&&X!=="mouse"&&(this.mouse[1]=et.invert(this.mouse[0])),this.touch0&&X!=="touch"&&(this.touch0[1]=et.invert(this.touch0[0])),this.touch1&&X!=="touch"&&(this.touch1[1]=et.invert(this.touch1[0])),this.that.__zoom=et,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(X){var et=Ou(this.that).datum();f.call(X,this.that,new OAt(X,{sourceEvent:this.sourceEvent,target:b,transform:this.that.__zoom,dispatch:f}),et)}};function L(X,...et){if(!i.apply(this,arguments))return;var q=k(this,et).event(X),W=this.__zoom,Z=Math.max(a[0],Math.min(a[1],W.k*Math.pow(2,r.apply(this,arguments)))),nt=If(X);if(q.wheel)(q.mouse[0][0]!==nt[0]||q.mouse[0][1]!==nt[1])&&(q.mouse[1]=W.invert(q.mouse[0]=nt)),clearTimeout(q.wheel);else{if(W.k===Z)return;q.mouse=[nt,W.invert(nt)],sM(this),q.start()}Gx(X),q.wheel=setTimeout(Q,x),q.zoom("mouse",n(C(A(W,Z),q.mouse[0],q.mouse[1]),q.extent,o));function Q(){q.wheel=null,q.end()}}function U(X,...et){if(y||!i.apply(this,arguments))return;var q=X.currentTarget,W=k(this,et,!0).event(X),Z=Ou(X.view).on("mousemove.zoom",yt,!0).on("mouseup.zoom",xt,!0),nt=If(X,q),Q=X.clientX,ht=X.clientY;SW(X.view),kP(X),W.mouse=[nt,this.__zoom.invert(nt)],sM(this),W.start();function yt(it){if(Gx(it),!W.moved){var dt=it.clientX-Q,ft=it.clientY-ht;W.moved=dt*dt+ft*ft>S}W.event(it).zoom("mouse",n(C(W.that.__zoom,W.mouse[0]=If(it,q),W.mouse[1]),W.extent,o))}function xt(it){Z.on("mousemove.zoom mouseup.zoom",null),EW(it.view,W.moved),Gx(it),W.event(it).end()}}function O(X,...et){if(i.apply(this,arguments)){var q=this.__zoom,W=If(X.changedTouches?X.changedTouches[0]:X,this),Z=q.invert(W),nt=q.k*(X.shiftKey?.5:2),Q=n(C(A(q,nt),W,Z),e.apply(this,et),o);Gx(X),l>0?Ou(this).transition().duration(l).call(I,Q,W,X):Ou(this).call(b.transform,Q,W,X)}}function B(X,...et){if(i.apply(this,arguments)){var q=X.touches,W=q.length,Z=k(this,et,X.changedTouches.length===W).event(X),nt,Q,ht,yt;for(kP(X),Q=0;Q<W;++Q)ht=q[Q],yt=If(ht,this),yt=[yt,this.__zoom.invert(yt),ht.identifier],Z.touch0?!Z.touch1&&Z.touch0[2]!==yt[2]&&(Z.touch1=yt,Z.taps=0):(Z.touch0=yt,nt=!0,Z.taps=1+!!h);h&&(h=clearTimeout(h)),nt&&(Z.taps<2&&(p=yt[0],h=setTimeout(function(){h=null},_)),sM(this),Z.start())}}function H(X,...et){if(this.__zooming){var q=k(this,et).event(X),W=X.changedTouches,Z=W.length,nt,Q,ht,yt;for(Gx(X),nt=0;nt<Z;++nt)Q=W[nt],ht=If(Q,this),q.touch0&&q.touch0[2]===Q.identifier?q.touch0[0]=ht:q.touch1&&q.touch1[2]===Q.identifier&&(q.touch1[0]=ht);if(Q=q.that.__zoom,q.touch1){var xt=q.touch0[0],it=q.touch0[1],dt=q.touch1[0],ft=q.touch1[1],gt=(gt=dt[0]-xt[0])*gt+(gt=dt[1]-xt[1])*gt,wt=(wt=ft[0]-it[0])*wt+(wt=ft[1]-it[1])*wt;Q=A(Q,Math.sqrt(gt/wt)),ht=[(xt[0]+dt[0])/2,(xt[1]+dt[1])/2],yt=[(it[0]+ft[0])/2,(it[1]+ft[1])/2]}else if(q.touch0)ht=q.touch0[0],yt=q.touch0[1];else return;q.zoom("touch",n(C(Q,ht,yt),q.extent,o))}}function V(X,...et){if(this.__zooming){var q=k(this,et).event(X),W=X.changedTouches,Z=W.length,nt,Q;for(kP(X),y&&clearTimeout(y),y=setTimeout(function(){y=null},_),nt=0;nt<Z;++nt)Q=W[nt],q.touch0&&q.touch0[2]===Q.identifier?delete q.touch0:q.touch1&&q.touch1[2]===Q.identifier&&delete q.touch1;if(q.touch1&&!q.touch0&&(q.touch0=q.touch1,delete q.touch1),q.touch0)q.touch0[1]=this.__zoom.invert(q.touch0[0]);else if(q.end(),q.taps===2&&(Q=If(Q,this),Math.hypot(p[0]-Q[0],p[1]-Q[1])<E)){var ht=Ou(this).on("dblclick.zoom");ht&&ht.apply(this,arguments)}}}return b.wheelDelta=function(X){return arguments.length?(r=typeof X=="function"?X:fA(+X),b):r},b.filter=function(X){return arguments.length?(i=typeof X=="function"?X:fA(!!X),b):i},b.touchable=function(X){return arguments.length?(s=typeof X=="function"?X:fA(!!X),b):s},b.extent=function(X){return arguments.length?(e=typeof X=="function"?X:fA([[+X[0][0],+X[0][1]],[+X[1][0],+X[1][1]]]),b):e},b.scaleExtent=function(X){return arguments.length?(a[0]=+X[0],a[1]=+X[1],b):[a[0],a[1]]},b.translateExtent=function(X){return arguments.length?(o[0][0]=+X[0][0],o[1][0]=+X[1][0],o[0][1]=+X[0][1],o[1][1]=+X[1][1],b):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},b.constrain=function(X){return arguments.length?(n=X,b):n},b.duration=function(X){return arguments.length?(l=+X,b):l},b.interpolate=function(X){return arguments.length?(u=X,b):u},b.on=function(){var X=f.on.apply(f,arguments);return X===f?b:X},b.clickDistance=function(X){return arguments.length?(S=(X=+X)*X,b):Math.sqrt(S)},b.tapDistance=function(X){return arguments.length?(E=+X,b):E},b}class N6 extends Map{constructor(e,n=BAt){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,s]of e)this.set(r,s)}get(e){return super.get(L6(this,e))}has(e){return super.has(L6(this,e))}set(e,n){return super.set(kAt(this,e),n)}delete(e){return super.delete(zAt(this,e))}}function L6({_intern:i,_key:e},n){const r=e(n);return i.has(r)?i.get(r):n}function kAt({_intern:i,_key:e},n){const r=e(n);return i.has(r)?i.get(r):(i.set(r,n),n)}function zAt({_intern:i,_key:e},n){const r=e(n);return i.has(r)&&(n=i.get(r),i.delete(r)),n}function BAt(i){return i!==null&&typeof i=="object"?i.valueOf():i}function Q3(i,e){let n;if(e===void 0)for(const r of i)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let s of i)(s=e(s,++r,i))!=null&&(n<s||n===void 0&&s>=s)&&(n=s)}return n}function J3(i,e){let n;if(e===void 0)for(const r of i)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let s of i)(s=e(s,++r,i))!=null&&(n>s||n===void 0&&s>=s)&&(n=s)}return n}function FAt(i,e){let n=0;for(let r of i)(r=+r)&&(n+=r);return n}var VAt=typeof global=="object"&&global&&global.Object===Object&&global,HAt=typeof self=="object"&&self&&self.Object===Object&&self,UW=VAt||HAt||Function("return this")(),qC=UW.Symbol,kW=Object.prototype,jAt=kW.hasOwnProperty,GAt=kW.toString,qx=qC?qC.toStringTag:void 0;function qAt(i){var e=jAt.call(i,qx),n=i[qx];try{i[qx]=void 0;var r=!0}catch{}var s=GAt.call(i);return r&&(e?i[qx]=n:delete i[qx]),s}var $At=Object.prototype,WAt=$At.toString;function XAt(i){return WAt.call(i)}var YAt="[object Null]",KAt="[object Undefined]",U6=qC?qC.toStringTag:void 0;function ZAt(i){return i==null?i===void 0?KAt:YAt:U6&&U6 in Object(i)?qAt(i):XAt(i)}function QAt(i){return i!=null&&typeof i=="object"}var JAt="[object Symbol]";function tMt(i){return typeof i=="symbol"||QAt(i)&&ZAt(i)==JAt}var eMt=/\s/;function nMt(i){for(var e=i.length;e--&&eMt.test(i.charAt(e)););return e}var iMt=/^\s+/;function rMt(i){return i&&i.slice(0,nMt(i)+1).replace(iMt,"")}function $C(i){var e=typeof i;return i!=null&&(e=="object"||e=="function")}var k6=NaN,sMt=/^[-+]0x[0-9a-f]+$/i,aMt=/^0b[01]+$/i,oMt=/^0o[0-7]+$/i,lMt=parseInt;function z6(i){if(typeof i=="number")return i;if(tMt(i))return k6;if($C(i)){var e=typeof i.valueOf=="function"?i.valueOf():i;i=$C(e)?e+"":e}if(typeof i!="string")return i===0?i:+i;i=rMt(i);var n=aMt.test(i);return n||oMt.test(i)?lMt(i.slice(2),n?2:8):sMt.test(i)?k6:+i}var zP=function(){return UW.Date.now()},uMt="Expected a function",cMt=Math.max,fMt=Math.min;function zW(i,e,n){var r,s,a,o,l,u,f=0,h=!1,p=!1,y=!0;if(typeof i!="function")throw new TypeError(uMt);e=z6(e)||0,$C(n)&&(h=!!n.leading,p="maxWait"in n,a=p?cMt(z6(n.maxWait)||0,e):a,y="trailing"in n?!!n.trailing:y);function _(k){var N=r,L=s;return r=s=void 0,f=k,o=i.apply(L,N),o}function x(k){return f=k,l=setTimeout(b,e),h?_(k):o}function S(k){var N=k-u,L=k-f,U=e-N;return p?fMt(U,a-L):U}function E(k){var N=k-u,L=k-f;return u===void 0||N>=e||N<0||p&&L>=a}function b(){var k=zP();if(E(k))return A(k);l=setTimeout(b,S(k))}function A(k){return l=void 0,y&&r?_(k):(r=s=void 0,o)}function C(){l!==void 0&&clearTimeout(l),f=0,r=u=s=l=void 0}function M(){return l===void 0?o:A(zP())}function I(){var k=zP(),N=E(k);if(r=arguments,s=this,u=k,N){if(l===void 0)return x(u);if(p)return clearTimeout(l),l=setTimeout(b,e),_(u)}return l===void 0&&(l=setTimeout(b,e)),o}return I.cancel=C,I.flush=M,I}var hMt="Expected a function";function dMt(i,e,n){var r=!0,s=!0;if(typeof i!="function")throw new TypeError(hMt);return $C(n)&&(r="leading"in n?!!n.leading:r,s="trailing"in n?!!n.trailing:s),zW(i,e,{leading:r,maxWait:e,trailing:s})}var gy=Object.freeze({Linear:Object.freeze({None:function(i){return i},In:function(i){return i},Out:function(i){return i},InOut:function(i){return i}}),Quadratic:Object.freeze({In:function(i){return i*i},Out:function(i){return i*(2-i)},InOut:function(i){return(i*=2)<1?.5*i*i:-.5*(--i*(i-2)-1)}}),Cubic:Object.freeze({In:function(i){return i*i*i},Out:function(i){return--i*i*i+1},InOut:function(i){return(i*=2)<1?.5*i*i*i:.5*((i-=2)*i*i+2)}}),Quartic:Object.freeze({In:function(i){return i*i*i*i},Out:function(i){return 1- --i*i*i*i},InOut:function(i){return(i*=2)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2)}}),Quintic:Object.freeze({In:function(i){return i*i*i*i*i},Out:function(i){return--i*i*i*i*i+1},InOut:function(i){return(i*=2)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2)}}),Sinusoidal:Object.freeze({In:function(i){return 1-Math.sin((1-i)*Math.PI/2)},Out:function(i){return Math.sin(i*Math.PI/2)},InOut:function(i){return .5*(1-Math.sin(Math.PI*(.5-i)))}}),Exponential:Object.freeze({In:function(i){return i===0?0:Math.pow(1024,i-1)},Out:function(i){return i===1?1:1-Math.pow(2,-10*i)},InOut:function(i){return i===0?0:i===1?1:(i*=2)<1?.5*Math.pow(1024,i-1):.5*(-Math.pow(2,-10*(i-1))+2)}}),Circular:Object.freeze({In:function(i){return 1-Math.sqrt(1-i*i)},Out:function(i){return Math.sqrt(1- --i*i)},InOut:function(i){return(i*=2)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1)}}),Elastic:Object.freeze({In:function(i){return i===0?0:i===1?1:-Math.pow(2,10*(i-1))*Math.sin((i-1.1)*5*Math.PI)},Out:function(i){return i===0?0:i===1?1:Math.pow(2,-10*i)*Math.sin((i-.1)*5*Math.PI)+1},InOut:function(i){return i===0?0:i===1?1:(i*=2,i<1?-.5*Math.pow(2,10*(i-1))*Math.sin((i-1.1)*5*Math.PI):.5*Math.pow(2,-10*(i-1))*Math.sin((i-1.1)*5*Math.PI)+1)}}),Back:Object.freeze({In:function(i){var e=1.70158;return i===1?1:i*i*((e+1)*i-e)},Out:function(i){var e=1.70158;return i===0?0:--i*i*((e+1)*i+e)+1},InOut:function(i){var e=2.5949095;return(i*=2)<1?.5*(i*i*((e+1)*i-e)):.5*((i-=2)*i*((e+1)*i+e)+2)}}),Bounce:Object.freeze({In:function(i){return 1-gy.Bounce.Out(1-i)},Out:function(i){return i<1/2.75?7.5625*i*i:i<2/2.75?7.5625*(i-=1.5/2.75)*i+.75:i<2.5/2.75?7.5625*(i-=2.25/2.75)*i+.9375:7.5625*(i-=2.625/2.75)*i+.984375},InOut:function(i){return i<.5?gy.Bounce.In(i*2)*.5:gy.Bounce.Out(i*2-1)*.5+.5}}),generatePow:function(i){return i===void 0&&(i=4),i=i<Number.EPSILON?Number.EPSILON:i,i=i>1e4?1e4:i,{In:function(e){return Math.pow(e,i)},Out:function(e){return 1-Math.pow(1-e,i)},InOut:function(e){return e<.5?Math.pow(e*2,i)/2:(1-Math.pow(2-e*2,i))/2+.5}}}}),v1=function(){return performance.now()},BW=function(){function i(){this._tweens={},this._tweensAddedDuringUpdate={}}return i.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map(function(n){return e._tweens[n]})},i.prototype.removeAll=function(){this._tweens={}},i.prototype.add=function(e){this._tweens[e.getId()]=e,this._tweensAddedDuringUpdate[e.getId()]=e},i.prototype.remove=function(e){delete this._tweens[e.getId()],delete this._tweensAddedDuringUpdate[e.getId()]},i.prototype.update=function(e,n){e===void 0&&(e=v1()),n===void 0&&(n=!1);var r=Object.keys(this._tweens);if(r.length===0)return!1;for(;r.length>0;){this._tweensAddedDuringUpdate={};for(var s=0;s<r.length;s++){var a=this._tweens[r[s]],o=!n;a&&a.update(e,o)===!1&&!n&&delete this._tweens[r[s]]}r=Object.keys(this._tweensAddedDuringUpdate)}return!0},i}(),tN={Linear:function(i,e){var n=i.length-1,r=n*e,s=Math.floor(r),a=tN.Utils.Linear;return e<0?a(i[0],i[1],r):e>1?a(i[n],i[n-1],n-r):a(i[s],i[s+1>n?n:s+1],r-s)},Utils:{Linear:function(i,e,n){return(e-i)*n+i}}},FW=function(){function i(){}return i.nextId=function(){return i._nextId++},i._nextId=0,i}(),eN=new BW,B6=function(){function i(e,n){n===void 0&&(n=eN),this._object=e,this._group=n,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._isDynamic=!1,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=gy.Linear.None,this._interpolationFunction=tN.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=FW.nextId(),this._isChainStopped=!1,this._propertiesAreSetUp=!1,this._goToEnd=!1}return i.prototype.getId=function(){return this._id},i.prototype.isPlaying=function(){return this._isPlaying},i.prototype.isPaused=function(){return this._isPaused},i.prototype.getDuration=function(){return this._duration},i.prototype.to=function(e,n){if(n===void 0&&(n=1e3),this._isPlaying)throw new Error("Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.");return this._valuesEnd=e,this._propertiesAreSetUp=!1,this._duration=n<0?0:n,this},i.prototype.duration=function(e){return e===void 0&&(e=1e3),this._duration=e<0?0:e,this},i.prototype.dynamic=function(e){return e===void 0&&(e=!1),this._isDynamic=e,this},i.prototype.start=function(e,n){if(e===void 0&&(e=v1()),n===void 0&&(n=!1),this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var r in this._valuesStartRepeat)this._swapEndStartRepeatValues(r),this._valuesStart[r]=this._valuesStartRepeat[r]}if(this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=e,this._startTime+=this._delayTime,!this._propertiesAreSetUp||n){if(this._propertiesAreSetUp=!0,!this._isDynamic){var s={};for(var a in this._valuesEnd)s[a]=this._valuesEnd[a];this._valuesEnd=s}this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,n)}return this},i.prototype.startFromCurrentValues=function(e){return this.start(e,!0)},i.prototype._setupProperties=function(e,n,r,s,a){for(var o in r){var l=e[o],u=Array.isArray(l),f=u?"array":typeof l,h=!u&&Array.isArray(r[o]);if(!(f==="undefined"||f==="function")){if(h){var p=r[o];if(p.length===0)continue;for(var y=[l],_=0,x=p.length;_<x;_+=1){var S=this._handleRelativeValue(l,p[_]);if(isNaN(S)){h=!1,console.warn("Found invalid interpolation list. Skipping.");break}y.push(S)}h&&(r[o]=y)}if((f==="object"||u)&&l&&!h){n[o]=u?[]:{};var E=l;for(var b in E)n[o][b]=E[b];s[o]=u?[]:{};var p=r[o];if(!this._isDynamic){var A={};for(var b in p)A[b]=p[b];r[o]=p=A}this._setupProperties(E,n[o],p,s[o],a)}else(typeof n[o]>"u"||a)&&(n[o]=l),u||(n[o]*=1),h?s[o]=r[o].slice().reverse():s[o]=n[o]||0}}},i.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},i.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},i.prototype.pause=function(e){return e===void 0&&(e=v1()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=e,this._group&&this._group.remove(this),this)},i.prototype.resume=function(e){return e===void 0&&(e=v1()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this)},i.prototype.stopChainedTweens=function(){for(var e=0,n=this._chainedTweens.length;e<n;e++)this._chainedTweens[e].stop();return this},i.prototype.group=function(e){return e===void 0&&(e=eN),this._group=e,this},i.prototype.delay=function(e){return e===void 0&&(e=0),this._delayTime=e,this},i.prototype.repeat=function(e){return e===void 0&&(e=0),this._initialRepeat=e,this._repeat=e,this},i.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},i.prototype.yoyo=function(e){return e===void 0&&(e=!1),this._yoyo=e,this},i.prototype.easing=function(e){return e===void 0&&(e=gy.Linear.None),this._easingFunction=e,this},i.prototype.interpolation=function(e){return e===void 0&&(e=tN.Linear),this._interpolationFunction=e,this},i.prototype.chain=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this._chainedTweens=e,this},i.prototype.onStart=function(e){return this._onStartCallback=e,this},i.prototype.onEveryStart=function(e){return this._onEveryStartCallback=e,this},i.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},i.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},i.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},i.prototype.onStop=function(e){return this._onStopCallback=e,this},i.prototype.update=function(e,n){var r=this,s;if(e===void 0&&(e=v1()),n===void 0&&(n=!0),this._isPaused)return!0;var a,o=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(e>o)return!1;n&&this.start(e,!0)}if(this._goToEnd=!1,e<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),this._onEveryStartCallbackFired===!1&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0);var l=e-this._startTime,u=this._duration+((s=this._repeatDelayTime)!==null&&s!==void 0?s:this._delayTime),f=this._duration+this._repeat*u,h=function(){if(r._duration===0||l>f)return 1;var E=Math.trunc(l/u),b=l-E*u,A=Math.min(b/r._duration,1);return A===0&&l===r._duration?1:A},p=h(),y=this._easingFunction(p);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,y),this._onUpdateCallback&&this._onUpdateCallback(this._object,p),this._duration===0||l>=this._duration)if(this._repeat>0){var _=Math.min(Math.trunc((l-this._duration)/u)+1,this._repeat);isFinite(this._repeat)&&(this._repeat-=_);for(a in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[a]=="string"&&(this._valuesStartRepeat[a]=this._valuesStartRepeat[a]+parseFloat(this._valuesEnd[a])),this._yoyo&&this._swapEndStartRepeatValues(a),this._valuesStart[a]=this._valuesStartRepeat[a];return this._yoyo&&(this._reversed=!this._reversed),this._startTime+=u*_,this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1,!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var x=0,S=this._chainedTweens.length;x<S;x++)this._chainedTweens[x].start(this._startTime+this._duration,!1);return this._isPlaying=!1,!1}return!0},i.prototype._updateProperties=function(e,n,r,s){for(var a in r)if(n[a]!==void 0){var o=n[a]||0,l=r[a],u=Array.isArray(e[a]),f=Array.isArray(l),h=!u&&f;h?e[a]=this._interpolationFunction(l,s):typeof l=="object"&&l?this._updateProperties(e[a],o,l,s):(l=this._handleRelativeValue(o,l),typeof l=="number"&&(e[a]=o+(l-o)*s))}},i.prototype._handleRelativeValue=function(e,n){return typeof n!="string"?n:n.charAt(0)==="+"||n.charAt(0)==="-"?e+parseFloat(n):parseFloat(n)},i.prototype._swapEndStartRepeatValues=function(e){var n=this._valuesStartRepeat[e],r=this._valuesEnd[e];typeof r=="string"?this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(r):this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=n},i}();FW.nextId;var sh=eN;sh.getAll.bind(sh);sh.removeAll.bind(sh);sh.add.bind(sh);sh.remove.bind(sh);sh.update.bind(sh);function F6(i,e){(e==null||e>i.length)&&(e=i.length);for(var n=0,r=Array(e);n<e;n++)r[n]=i[n];return r}function pMt(i){if(Array.isArray(i))return i}function mMt(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function gMt(i,e,n){return Object.defineProperty(i,"prototype",{writable:!1}),i}function yMt(i,e){var n=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(n!=null){var r,s,a,o,l=[],u=!0,f=!1;try{if(a=(n=n.call(i)).next,e!==0)for(;!(u=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(h){f=!0,s=h}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw s}}return l}}function vMt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Mt(i,e){return pMt(i)||yMt(i,e)||bMt(i,e)||vMt()}function bMt(i,e){if(i){if(typeof i=="string")return F6(i,e);var n={}.toString.call(i).slice(8,-1);return n==="Object"&&i.constructor&&(n=i.constructor.name),n==="Map"||n==="Set"?Array.from(i):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?F6(i,e):void 0}}var xMt=gMt(function i(e,n){var r=n.default,s=r===void 0?null:r,a=n.triggerUpdate,o=a===void 0?!0:a,l=n.onChange,u=l===void 0?function(f,h){}:l;mMt(this,i),this.name=e,this.defaultVal=s,this.triggerUpdate=o,this.onChange=u});function FR(i){var e=i.stateInit,n=e===void 0?function(){return{}}:e,r=i.props,s=r===void 0?{}:r,a=i.methods,o=a===void 0?{}:a,l=i.aliases,u=l===void 0?{}:l,f=i.init,h=f===void 0?function(){}:f,p=i.update,y=p===void 0?function(){}:p,_=Object.keys(s).map(function(x){return new xMt(x,s[x])});return function x(){for(var S=arguments.length,E=new Array(S),b=0;b<S;b++)E[b]=arguments[b];var A=!!(this instanceof x&&this.constructor),C=A?E.shift():void 0,M=E[0],I=M===void 0?{}:M,k=Object.assign({},n instanceof Function?n(I):n,{initialised:!1}),N={};function L(B){return U(B,I),O(),L}var U=function(H,V){h.call(L,H,k,V),k.initialised=!0},O=zW(function(){k.initialised&&(y.call(L,k,N),N={})},1);return _.forEach(function(B){L[B.name]=H(B);function H(V){var X=V.name,et=V.triggerUpdate,q=et===void 0?!1:et,W=V.onChange,Z=W===void 0?function(ht,yt){}:W,nt=V.defaultVal,Q=nt===void 0?null:nt;return function(ht){var yt=k[X];if(!arguments.length)return yt;var xt=ht===void 0?Q:ht;return k[X]=xt,Z.call(L,xt,k,yt),!N.hasOwnProperty(X)&&(N[X]=yt),q&&O(),L}}}),Object.keys(o).forEach(function(B){L[B]=function(){for(var H,V=arguments.length,X=new Array(V),et=0;et<V;et++)X[et]=arguments[et];return(H=o[B]).call.apply(H,[L,k].concat(X))}}),Object.entries(u).forEach(function(B){var H=_Mt(B,2),V=H[0],X=H[1];return L[V]=L[X]}),L.resetProps=function(){return _.forEach(function(B){L[B.name](B.defaultVal)}),L},L.resetProps(),k._rerender=O,A&&C&&L(C),L}}var Ke=function(i){return typeof i=="function"?i:typeof i=="string"?function(e){return e[i]}:function(e){return i}};function WC(i){"@babel/helpers - typeof";return WC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},WC(i)}var SMt=/^\s+/,EMt=/\s+$/;function Ze(i,e){if(i=i||"",e=e||{},i instanceof Ze)return i;if(!(this instanceof Ze))return new Ze(i,e);var n=TMt(i);this._originalInput=i,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}Ze.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),n,r,s,a,o,l;return n=e.r/255,r=e.g/255,s=e.b/255,n<=.03928?a=n/12.92:a=Math.pow((n+.055)/1.055,2.4),r<=.03928?o=r/12.92:o=Math.pow((r+.055)/1.055,2.4),s<=.03928?l=s/12.92:l=Math.pow((s+.055)/1.055,2.4),.2126*a+.7152*o+.0722*l},setAlpha:function(e){return this._a=VW(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=H6(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=H6(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),s=Math.round(e.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+s+"%)":"hsva("+n+", "+r+"%, "+s+"%, "+this._roundA+")"},toHsl:function(){var e=V6(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=V6(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),s=Math.round(e.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+s+"%)":"hsla("+n+", "+r+"%, "+s+"%, "+this._roundA+")"},toHex:function(e){return j6(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return CMt(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(wr(this._r,255)*100)+"%",g:Math.round(wr(this._g,255)*100)+"%",b:Math.round(wr(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(wr(this._r,255)*100)+"%, "+Math.round(wr(this._g,255)*100)+"%, "+Math.round(wr(this._b,255)*100)+"%)":"rgba("+Math.round(wr(this._r,255)*100)+"%, "+Math.round(wr(this._g,255)*100)+"%, "+Math.round(wr(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:FMt[j6(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var n="#"+G6(this._r,this._g,this._b,this._a),r=n,s=this._gradientType?"GradientType = 1, ":"";if(e){var a=Ze(e);r="#"+G6(a._r,a._g,a._b,a._a)}return"progid:DXImageTransform.Microsoft.gradient("+s+"startColorstr="+n+",endColorstr="+r+")"},toString:function(e){var n=!!e;e=e||this._format;var r=!1,s=this._a<1&&this._a>=0,a=!n&&s&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return a?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return Ze(this.toString())},_applyModification:function(e,n){var r=e.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(PMt,arguments)},brighten:function(){return this._applyModification(DMt,arguments)},darken:function(){return this._applyModification(NMt,arguments)},desaturate:function(){return this._applyModification(RMt,arguments)},saturate:function(){return this._applyModification(OMt,arguments)},greyscale:function(){return this._applyModification(IMt,arguments)},spin:function(){return this._applyModification(LMt,arguments)},_applyCombination:function(e,n){return e.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(zMt,arguments)},complement:function(){return this._applyCombination(UMt,arguments)},monochromatic:function(){return this._applyCombination(BMt,arguments)},splitcomplement:function(){return this._applyCombination(kMt,arguments)},triad:function(){return this._applyCombination(q6,[3])},tetrad:function(){return this._applyCombination(q6,[4])}};Ze.fromRatio=function(i,e){if(WC(i)=="object"){var n={};for(var r in i)i.hasOwnProperty(r)&&(r==="a"?n[r]=i[r]:n[r]=_1(i[r]));i=n}return Ze(i,e)};function TMt(i){var e={r:0,g:0,b:0},n=1,r=null,s=null,a=null,o=!1,l=!1;return typeof i=="string"&&(i=GMt(i)),WC(i)=="object"&&(Kh(i.r)&&Kh(i.g)&&Kh(i.b)?(e=wMt(i.r,i.g,i.b),o=!0,l=String(i.r).substr(-1)==="%"?"prgb":"rgb"):Kh(i.h)&&Kh(i.s)&&Kh(i.v)?(r=_1(i.s),s=_1(i.v),e=MMt(i.h,r,s),o=!0,l="hsv"):Kh(i.h)&&Kh(i.s)&&Kh(i.l)&&(r=_1(i.s),a=_1(i.l),e=AMt(i.h,r,a),o=!0,l="hsl"),i.hasOwnProperty("a")&&(n=i.a)),n=VW(n),{ok:o,format:i.format||l,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}function wMt(i,e,n){return{r:wr(i,255)*255,g:wr(e,255)*255,b:wr(n,255)*255}}function V6(i,e,n){i=wr(i,255),e=wr(e,255),n=wr(n,255);var r=Math.max(i,e,n),s=Math.min(i,e,n),a,o,l=(r+s)/2;if(r==s)a=o=0;else{var u=r-s;switch(o=l>.5?u/(2-r-s):u/(r+s),r){case i:a=(e-n)/u+(e<n?6:0);break;case e:a=(n-i)/u+2;break;case n:a=(i-e)/u+4;break}a/=6}return{h:a,s:o,l}}function AMt(i,e,n){var r,s,a;i=wr(i,360),e=wr(e,100),n=wr(n,100);function o(f,h,p){return p<0&&(p+=1),p>1&&(p-=1),p<1/6?f+(h-f)*6*p:p<1/2?h:p<2/3?f+(h-f)*(2/3-p)*6:f}if(e===0)r=s=a=n;else{var l=n<.5?n*(1+e):n+e-n*e,u=2*n-l;r=o(u,l,i+1/3),s=o(u,l,i),a=o(u,l,i-1/3)}return{r:r*255,g:s*255,b:a*255}}function H6(i,e,n){i=wr(i,255),e=wr(e,255),n=wr(n,255);var r=Math.max(i,e,n),s=Math.min(i,e,n),a,o,l=r,u=r-s;if(o=r===0?0:u/r,r==s)a=0;else{switch(r){case i:a=(e-n)/u+(e<n?6:0);break;case e:a=(n-i)/u+2;break;case n:a=(i-e)/u+4;break}a/=6}return{h:a,s:o,v:l}}function MMt(i,e,n){i=wr(i,360)*6,e=wr(e,100),n=wr(n,100);var r=Math.floor(i),s=i-r,a=n*(1-e),o=n*(1-s*e),l=n*(1-(1-s)*e),u=r%6,f=[n,o,a,a,l,n][u],h=[l,n,n,o,a,a][u],p=[a,a,l,n,n,o][u];return{r:f*255,g:h*255,b:p*255}}function j6(i,e,n,r){var s=[Rc(Math.round(i).toString(16)),Rc(Math.round(e).toString(16)),Rc(Math.round(n).toString(16))];return r&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0):s.join("")}function CMt(i,e,n,r,s){var a=[Rc(Math.round(i).toString(16)),Rc(Math.round(e).toString(16)),Rc(Math.round(n).toString(16)),Rc(HW(r))];return s&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}function G6(i,e,n,r){var s=[Rc(HW(r)),Rc(Math.round(i).toString(16)),Rc(Math.round(e).toString(16)),Rc(Math.round(n).toString(16))];return s.join("")}Ze.equals=function(i,e){return!i||!e?!1:Ze(i).toRgbString()==Ze(e).toRgbString()};Ze.random=function(){return Ze.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function RMt(i,e){e=e===0?0:e||10;var n=Ze(i).toHsl();return n.s-=e/100,n.s=VR(n.s),Ze(n)}function OMt(i,e){e=e===0?0:e||10;var n=Ze(i).toHsl();return n.s+=e/100,n.s=VR(n.s),Ze(n)}function IMt(i){return Ze(i).desaturate(100)}function PMt(i,e){e=e===0?0:e||10;var n=Ze(i).toHsl();return n.l+=e/100,n.l=VR(n.l),Ze(n)}function DMt(i,e){e=e===0?0:e||10;var n=Ze(i).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),Ze(n)}function NMt(i,e){e=e===0?0:e||10;var n=Ze(i).toHsl();return n.l-=e/100,n.l=VR(n.l),Ze(n)}function LMt(i,e){var n=Ze(i).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,Ze(n)}function UMt(i){var e=Ze(i).toHsl();return e.h=(e.h+180)%360,Ze(e)}function q6(i,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=Ze(i).toHsl(),r=[Ze(i)],s=360/e,a=1;a<e;a++)r.push(Ze({h:(n.h+a*s)%360,s:n.s,l:n.l}));return r}function kMt(i){var e=Ze(i).toHsl(),n=e.h;return[Ze(i),Ze({h:(n+72)%360,s:e.s,l:e.l}),Ze({h:(n+216)%360,s:e.s,l:e.l})]}function zMt(i,e,n){e=e||6,n=n||30;var r=Ze(i).toHsl(),s=360/n,a=[Ze(i)];for(r.h=(r.h-(s*e>>1)+720)%360;--e;)r.h=(r.h+s)%360,a.push(Ze(r));return a}function BMt(i,e){e=e||6;for(var n=Ze(i).toHsv(),r=n.h,s=n.s,a=n.v,o=[],l=1/e;e--;)o.push(Ze({h:r,s,v:a})),a=(a+l)%1;return o}Ze.mix=function(i,e,n){n=n===0?0:n||50;var r=Ze(i).toRgb(),s=Ze(e).toRgb(),a=n/100,o={r:(s.r-r.r)*a+r.r,g:(s.g-r.g)*a+r.g,b:(s.b-r.b)*a+r.b,a:(s.a-r.a)*a+r.a};return Ze(o)};Ze.readability=function(i,e){var n=Ze(i),r=Ze(e);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};Ze.isReadable=function(i,e,n){var r=Ze.readability(i,e),s,a;switch(a=!1,s=qMt(n),s.level+s.size){case"AAsmall":case"AAAlarge":a=r>=4.5;break;case"AAlarge":a=r>=3;break;case"AAAsmall":a=r>=7;break}return a};Ze.mostReadable=function(i,e,n){var r=null,s=0,a,o,l,u;n=n||{},o=n.includeFallbackColors,l=n.level,u=n.size;for(var f=0;f<e.length;f++)a=Ze.readability(i,e[f]),a>s&&(s=a,r=Ze(e[f]));return Ze.isReadable(i,r,{level:l,size:u})||!o?r:(n.includeFallbackColors=!1,Ze.mostReadable(i,["#fff","#000"],n))};var nN=Ze.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},FMt=Ze.hexNames=VMt(nN);function VMt(i){var e={};for(var n in i)i.hasOwnProperty(n)&&(e[i[n]]=n);return e}function VW(i){return i=parseFloat(i),(isNaN(i)||i<0||i>1)&&(i=1),i}function wr(i,e){HMt(i)&&(i="100%");var n=jMt(i);return i=Math.min(e,Math.max(0,parseFloat(i))),n&&(i=parseInt(i*e,10)/100),Math.abs(i-e)<1e-6?1:i%e/parseFloat(e)}function VR(i){return Math.min(1,Math.max(0,i))}function zl(i){return parseInt(i,16)}function HMt(i){return typeof i=="string"&&i.indexOf(".")!=-1&&parseFloat(i)===1}function jMt(i){return typeof i=="string"&&i.indexOf("%")!=-1}function Rc(i){return i.length==1?"0"+i:""+i}function _1(i){return i<=1&&(i=i*100+"%"),i}function HW(i){return Math.round(parseFloat(i)*255).toString(16)}function $6(i){return zl(i)/255}var vc=function(){var i="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+i+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",s="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+s),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+s),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+s),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Kh(i){return!!vc.CSS_UNIT.exec(i)}function GMt(i){i=i.replace(SMt,"").replace(EMt,"").toLowerCase();var e=!1;if(nN[i])i=nN[i],e=!0;else if(i=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=vc.rgb.exec(i))?{r:n[1],g:n[2],b:n[3]}:(n=vc.rgba.exec(i))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=vc.hsl.exec(i))?{h:n[1],s:n[2],l:n[3]}:(n=vc.hsla.exec(i))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=vc.hsv.exec(i))?{h:n[1],s:n[2],v:n[3]}:(n=vc.hsva.exec(i))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=vc.hex8.exec(i))?{r:zl(n[1]),g:zl(n[2]),b:zl(n[3]),a:$6(n[4]),format:e?"name":"hex8"}:(n=vc.hex6.exec(i))?{r:zl(n[1]),g:zl(n[2]),b:zl(n[3]),format:e?"name":"hex"}:(n=vc.hex4.exec(i))?{r:zl(n[1]+""+n[1]),g:zl(n[2]+""+n[2]),b:zl(n[3]+""+n[3]),a:$6(n[4]+""+n[4]),format:e?"name":"hex8"}:(n=vc.hex3.exec(i))?{r:zl(n[1]+""+n[1]),g:zl(n[2]+""+n[2]),b:zl(n[3]+""+n[3]),format:e?"name":"hex"}:!1}function qMt(i){var e,n;return i=i||{level:"AA",size:"small"},e=(i.level||"AA").toUpperCase(),n=(i.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:e,size:n}}function iN(i,e){(e==null||e>i.length)&&(e=i.length);for(var n=0,r=Array(e);n<e;n++)r[n]=i[n];return r}function $Mt(i){if(Array.isArray(i))return iN(i)}function jW(i,e,n){if(typeof i=="function"?i===e:i.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function WMt(i,e){if(e.has(i))throw new TypeError("Cannot initialize the same private elements twice on an object")}function XMt(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function Tu(i,e){return i.get(jW(i,e))}function W6(i,e,n){WMt(i,e),e.set(i,n)}function X6(i,e,n){return i.set(jW(i,e),n),n}function YMt(i,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,eCt(r.key),r)}}function KMt(i,e,n){return e&&YMt(i.prototype,e),Object.defineProperty(i,"prototype",{writable:!1}),i}function ZMt(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function QMt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JMt(i){return $Mt(i)||ZMt(i)||nCt(i)||QMt()}function tCt(i,e){if(typeof i!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var r=n.call(i,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}function eCt(i){var e=tCt(i,"string");return typeof e=="symbol"?e:e+""}function nCt(i,e){if(i){if(typeof i=="string")return iN(i,e);var n={}.toString.call(i).slice(8,-1);return n==="Object"&&i.constructor&&(n=i.constructor.name),n==="Map"||n==="Set"?Array.from(i):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?iN(i,e):void 0}}var iCt=123,rCt=function(e){return"#".concat(Math.min(e,Math.pow(2,24)).toString(16).padStart(6,"0"))},GW=function(e,n,r){return(e<<16)+(n<<8)+r},sCt=function(e){var n=Ze(e).toRgb(),r=n.r,s=n.g,a=n.b;return GW(r,s,a)},Y6=function(e,n){return e*iCt%Math.pow(2,n)},Lg=new WeakMap,Zh=new WeakMap,aCt=function(){function i(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:6;XMt(this,i),W6(this,Lg,void 0),W6(this,Zh,void 0),X6(Zh,this,e),this.reset()}return KMt(i,[{key:"reset",value:function(){X6(Lg,this,["__reserved for background__"])}},{key:"register",value:function(n){if(Tu(Lg,this).length>=Math.pow(2,24-Tu(Zh,this)))return null;var r=Tu(Lg,this).length,s=Y6(r,Tu(Zh,this)),a=rCt(r+(s<<24-Tu(Zh,this)));return Tu(Lg,this).push(n),a}},{key:"lookup",value:function(n){if(!n)return null;var r=typeof n=="string"?sCt(n):GW.apply(void 0,JMt(n));if(!r)return null;var s=r&Math.pow(2,24-Tu(Zh,this))-1,a=r>>24-Tu(Zh,this)&Math.pow(2,Tu(Zh,this))-1;return Y6(s,Tu(Zh,this))!==a||s>=Tu(Lg,this).length?null:Tu(Lg,this)[s]}}])}(),CE,Cr,qW,$W,Xg,K6,WW,XW,YW,O4,rN,sN,kS={},KW=[],oCt=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,HR=Array.isArray;function Vf(i,e){for(var n in e)i[n]=e[n];return i}function I4(i){i&&i.parentNode&&i.parentNode.removeChild(i)}function lCt(i,e,n){var r,s,a,o={};for(a in e)a=="key"?r=e[a]:a=="ref"?s=e[a]:o[a]=e[a];if(arguments.length>2&&(o.children=arguments.length>3?CE.call(arguments,2):n),typeof i=="function"&&i.defaultProps!=null)for(a in i.defaultProps)o[a]==null&&(o[a]=i.defaultProps[a]);return j1(i,o,r,s,null)}function j1(i,e,n,r,s){var a={type:i,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:s??++qW,__i:-1,__u:0};return s==null&&Cr.vnode!=null&&Cr.vnode(a),a}function jR(i){return i.children}function aM(i,e){this.props=i,this.context=e}function k_(i,e){if(e==null)return i.__?k_(i.__,i.__i+1):null;for(var n;e<i.__k.length;e++)if((n=i.__k[e])!=null&&n.__e!=null)return n.__e;return typeof i.type=="function"?k_(i):null}function ZW(i){var e,n;if((i=i.__)!=null&&i.__c!=null){for(i.__e=i.__c.base=null,e=0;e<i.__k.length;e++)if((n=i.__k[e])!=null&&n.__e!=null){i.__e=i.__c.base=n.__e;break}return ZW(i)}}function Z6(i){(!i.__d&&(i.__d=!0)&&Xg.push(i)&&!XC.__r++||K6!=Cr.debounceRendering)&&((K6=Cr.debounceRendering)||WW)(XC)}function XC(){for(var i,e,n,r,s,a,o,l=1;Xg.length;)Xg.length>l&&Xg.sort(XW),i=Xg.shift(),l=Xg.length,i.__d&&(n=void 0,s=(r=(e=i).__v).__e,a=[],o=[],e.__P&&((n=Vf({},r)).__v=r.__v+1,Cr.vnode&&Cr.vnode(n),P4(e.__P,n,r,e.__n,e.__P.namespaceURI,32&r.__u?[s]:null,a,s??k_(r),!!(32&r.__u),o),n.__v=r.__v,n.__.__k[n.__i]=n,tX(a,n,o),n.__e!=s&&ZW(n)));XC.__r=0}function QW(i,e,n,r,s,a,o,l,u,f,h){var p,y,_,x,S,E,b=r&&r.__k||KW,A=e.length;for(u=uCt(n,e,b,u,A),p=0;p<A;p++)(_=n.__k[p])!=null&&(y=_.__i==-1?kS:b[_.__i]||kS,_.__i=p,E=P4(i,_,y,s,a,o,l,u,f,h),x=_.__e,_.ref&&y.ref!=_.ref&&(y.ref&&D4(y.ref,null,_),h.push(_.ref,_.__c||x,_)),S==null&&x!=null&&(S=x),4&_.__u||y.__k===_.__k?u=JW(_,u,i):typeof _.type=="function"&&E!==void 0?u=E:x&&(u=x.nextSibling),_.__u&=-7);return n.__e=S,u}function uCt(i,e,n,r,s){var a,o,l,u,f,h=n.length,p=h,y=0;for(i.__k=new Array(s),a=0;a<s;a++)(o=e[a])!=null&&typeof o!="boolean"&&typeof o!="function"?(u=a+y,(o=i.__k[a]=typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?j1(null,o,null,null,null):HR(o)?j1(jR,{children:o},null,null,null):o.constructor==null&&o.__b>0?j1(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o).__=i,o.__b=i.__b+1,l=null,(f=o.__i=cCt(o,n,u,p))!=-1&&(p--,(l=n[f])&&(l.__u|=2)),l==null||l.__v==null?(f==-1&&(s>h?y--:s<h&&y++),typeof o.type!="function"&&(o.__u|=4)):f!=u&&(f==u-1?y--:f==u+1?y++:(f>u?y--:y++,o.__u|=4))):i.__k[a]=null;if(p)for(a=0;a<h;a++)(l=n[a])!=null&&(2&l.__u)==0&&(l.__e==r&&(r=k_(l)),nX(l,l));return r}function JW(i,e,n){var r,s;if(typeof i.type=="function"){for(r=i.__k,s=0;r&&s<r.length;s++)r[s]&&(r[s].__=i,e=JW(r[s],e,n));return e}i.__e!=e&&(e&&i.type&&!n.contains(e)&&(e=k_(i)),n.insertBefore(i.__e,e||null),e=i.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function cCt(i,e,n,r){var s,a,o=i.key,l=i.type,u=e[n];if(u===null&&i.key==null||u&&o==u.key&&l==u.type&&(2&u.__u)==0)return n;if(r>(u!=null&&(2&u.__u)==0?1:0))for(s=n-1,a=n+1;s>=0||a<e.length;){if(s>=0){if((u=e[s])&&(2&u.__u)==0&&o==u.key&&l==u.type)return s;s--}if(a<e.length){if((u=e[a])&&(2&u.__u)==0&&o==u.key&&l==u.type)return a;a++}}return-1}function Q6(i,e,n){e[0]=="-"?i.setProperty(e,n??""):i[e]=n==null?"":typeof n!="number"||oCt.test(e)?n:n+"px"}function hA(i,e,n,r,s){var a;t:if(e=="style")if(typeof n=="string")i.style.cssText=n;else{if(typeof r=="string"&&(i.style.cssText=r=""),r)for(e in r)n&&e in n||Q6(i.style,e,"");if(n)for(e in n)r&&n[e]==r[e]||Q6(i.style,e,n[e])}else if(e[0]=="o"&&e[1]=="n")a=e!=(e=e.replace(YW,"$1")),e=e.toLowerCase()in i||e=="onFocusOut"||e=="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),i.l||(i.l={}),i.l[e+a]=n,n?r?n.u=r.u:(n.u=O4,i.addEventListener(e,a?sN:rN,a)):i.removeEventListener(e,a?sN:rN,a);else{if(s=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in i)try{i[e]=n??"";break t}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!="-"?i.removeAttribute(e):i.setAttribute(e,e=="popover"&&n==1?"":n))}}function J6(i){return function(e){if(this.l){var n=this.l[e.type+i];if(e.t==null)e.t=O4++;else if(e.t<n.u)return;return n(Cr.event?Cr.event(e):e)}}}function P4(i,e,n,r,s,a,o,l,u,f){var h,p,y,_,x,S,E,b,A,C,M,I,k,N,L,U,O,B=e.type;if(e.constructor!=null)return null;128&n.__u&&(u=!!(32&n.__u),a=[l=e.__e=n.__e]),(h=Cr.__b)&&h(e);t:if(typeof B=="function")try{if(b=e.props,A="prototype"in B&&B.prototype.render,C=(h=B.contextType)&&r[h.__c],M=h?C?C.props.value:h.__:r,n.__c?E=(p=e.__c=n.__c).__=p.__E:(A?e.__c=p=new B(b,M):(e.__c=p=new aM(b,M),p.constructor=B,p.render=hCt),C&&C.sub(p),p.props=b,p.state||(p.state={}),p.context=M,p.__n=r,y=p.__d=!0,p.__h=[],p._sb=[]),A&&p.__s==null&&(p.__s=p.state),A&&B.getDerivedStateFromProps!=null&&(p.__s==p.state&&(p.__s=Vf({},p.__s)),Vf(p.__s,B.getDerivedStateFromProps(b,p.__s))),_=p.props,x=p.state,p.__v=e,y)A&&B.getDerivedStateFromProps==null&&p.componentWillMount!=null&&p.componentWillMount(),A&&p.componentDidMount!=null&&p.__h.push(p.componentDidMount);else{if(A&&B.getDerivedStateFromProps==null&&b!==_&&p.componentWillReceiveProps!=null&&p.componentWillReceiveProps(b,M),!p.__e&&p.shouldComponentUpdate!=null&&p.shouldComponentUpdate(b,p.__s,M)===!1||e.__v==n.__v){for(e.__v!=n.__v&&(p.props=b,p.state=p.__s,p.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function(H){H&&(H.__=e)}),I=0;I<p._sb.length;I++)p.__h.push(p._sb[I]);p._sb=[],p.__h.length&&o.push(p);break t}p.componentWillUpdate!=null&&p.componentWillUpdate(b,p.__s,M),A&&p.componentDidUpdate!=null&&p.__h.push(function(){p.componentDidUpdate(_,x,S)})}if(p.context=M,p.props=b,p.__P=i,p.__e=!1,k=Cr.__r,N=0,A){for(p.state=p.__s,p.__d=!1,k&&k(e),h=p.render(p.props,p.state,p.context),L=0;L<p._sb.length;L++)p.__h.push(p._sb[L]);p._sb=[]}else do p.__d=!1,k&&k(e),h=p.render(p.props,p.state,p.context),p.state=p.__s;while(p.__d&&++N<25);p.state=p.__s,p.getChildContext!=null&&(r=Vf(Vf({},r),p.getChildContext())),A&&!y&&p.getSnapshotBeforeUpdate!=null&&(S=p.getSnapshotBeforeUpdate(_,x)),U=h,h!=null&&h.type===jR&&h.key==null&&(U=eX(h.props.children)),l=QW(i,HR(U)?U:[U],e,n,r,s,a,o,l,u,f),p.base=e.__e,e.__u&=-161,p.__h.length&&o.push(p),E&&(p.__E=p.__=null)}catch(H){if(e.__v=null,u||a!=null)if(H.then){for(e.__u|=u?160:128;l&&l.nodeType==8&&l.nextSibling;)l=l.nextSibling;a[a.indexOf(l)]=null,e.__e=l}else for(O=a.length;O--;)I4(a[O]);else e.__e=n.__e,e.__k=n.__k;Cr.__e(H,e,n)}else a==null&&e.__v==n.__v?(e.__k=n.__k,e.__e=n.__e):l=e.__e=fCt(n.__e,e,n,r,s,a,o,u,f);return(h=Cr.diffed)&&h(e),128&e.__u?void 0:l}function tX(i,e,n){for(var r=0;r<n.length;r++)D4(n[r],n[++r],n[++r]);Cr.__c&&Cr.__c(e,i),i.some(function(s){try{i=s.__h,s.__h=[],i.some(function(a){a.call(s)})}catch(a){Cr.__e(a,s.__v)}})}function eX(i){return typeof i!="object"||i==null||i.__b&&i.__b>0?i:HR(i)?i.map(eX):Vf({},i)}function fCt(i,e,n,r,s,a,o,l,u){var f,h,p,y,_,x,S,E=n.props,b=e.props,A=e.type;if(A=="svg"?s="http://www.w3.org/2000/svg":A=="math"?s="http://www.w3.org/1998/Math/MathML":s||(s="http://www.w3.org/1999/xhtml"),a!=null){for(f=0;f<a.length;f++)if((_=a[f])&&"setAttribute"in _==!!A&&(A?_.localName==A:_.nodeType==3)){i=_,a[f]=null;break}}if(i==null){if(A==null)return document.createTextNode(b);i=document.createElementNS(s,A,b.is&&b),l&&(Cr.__m&&Cr.__m(e,a),l=!1),a=null}if(A==null)E===b||l&&i.data==b||(i.data=b);else{if(a=a&&CE.call(i.childNodes),E=n.props||kS,!l&&a!=null)for(E={},f=0;f<i.attributes.length;f++)E[(_=i.attributes[f]).name]=_.value;for(f in E)if(_=E[f],f!="children"){if(f=="dangerouslySetInnerHTML")p=_;else if(!(f in b)){if(f=="value"&&"defaultValue"in b||f=="checked"&&"defaultChecked"in b)continue;hA(i,f,null,_,s)}}for(f in b)_=b[f],f=="children"?y=_:f=="dangerouslySetInnerHTML"?h=_:f=="value"?x=_:f=="checked"?S=_:l&&typeof _!="function"||E[f]===_||hA(i,f,_,E[f],s);if(h)l||p&&(h.__html==p.__html||h.__html==i.innerHTML)||(i.innerHTML=h.__html),e.__k=[];else if(p&&(i.innerHTML=""),QW(e.type=="template"?i.content:i,HR(y)?y:[y],e,n,r,A=="foreignObject"?"http://www.w3.org/1999/xhtml":s,a,o,a?a[0]:n.__k&&k_(n,0),l,u),a!=null)for(f=a.length;f--;)I4(a[f]);l||(f="value",A=="progress"&&x==null?i.removeAttribute("value"):x!=null&&(x!==i[f]||A=="progress"&&!x||A=="option"&&x!=E[f])&&hA(i,f,x,E[f],s),f="checked",S!=null&&S!=i[f]&&hA(i,f,S,E[f],s))}return i}function D4(i,e,n){try{if(typeof i=="function"){var r=typeof i.__u=="function";r&&i.__u(),r&&e==null||(i.__u=i(e))}else i.current=e}catch(s){Cr.__e(s,n)}}function nX(i,e,n){var r,s;if(Cr.unmount&&Cr.unmount(i),(r=i.ref)&&(r.current&&r.current!=i.__e||D4(r,null,e)),(r=i.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(a){Cr.__e(a,e)}r.base=r.__P=null}if(r=i.__k)for(s=0;s<r.length;s++)r[s]&&nX(r[s],e,n||typeof i.type!="function");n||I4(i.__e),i.__c=i.__=i.__e=void 0}function hCt(i,e,n){return this.constructor(i,n)}function dCt(i,e,n){var r,s,a,o;e==document&&(e=document.documentElement),Cr.__&&Cr.__(i,e),s=(r=!1)?null:e.__k,a=[],o=[],P4(e,i=e.__k=lCt(jR,null,[i]),s||kS,kS,e.namespaceURI,s?null:e.firstChild?CE.call(e.childNodes):null,a,s?s.__e:e.firstChild,r,o),tX(a,i,o)}function iX(i,e,n){var r,s,a,o,l=Vf({},i.props);for(a in i.type&&i.type.defaultProps&&(o=i.type.defaultProps),e)a=="key"?r=e[a]:a=="ref"?s=e[a]:l[a]=e[a]==null&&o!=null?o[a]:e[a];return arguments.length>2&&(l.children=arguments.length>3?CE.call(arguments,2):n),j1(i.type,l,r||i.key,s||i.ref,null)}CE=KW.slice,Cr={__e:function(i,e,n,r){for(var s,a,o;e=e.__;)if((s=e.__c)&&!s.__)try{if((a=s.constructor)&&a.getDerivedStateFromError!=null&&(s.setState(a.getDerivedStateFromError(i)),o=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(i,r||{}),o=s.__d),o)return s.__E=s}catch(l){i=l}throw i}},qW=0,$W=function(i){return i!=null&&i.constructor==null},aM.prototype.setState=function(i,e){var n;n=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=Vf({},this.state),typeof i=="function"&&(i=i(Vf({},n),this.props)),i&&Vf(n,i),i!=null&&this.__v&&(e&&this._sb.push(e),Z6(this))},aM.prototype.forceUpdate=function(i){this.__v&&(this.__e=!0,i&&this.__h.push(i),Z6(this))},aM.prototype.render=jR,Xg=[],WW=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,XW=function(i,e){return i.__v.__b-e.__v.__b},XC.__r=0,YW=/(PointerCapture)$|Capture$/i,O4=0,rN=J6(!1),sN=J6(!0);function t8(i,e){(e==null||e>i.length)&&(e=i.length);for(var n=0,r=Array(e);n<e;n++)r[n]=i[n];return r}function pCt(i){if(Array.isArray(i))return i}function mCt(i,e,n){return(e=xCt(e))in i?Object.defineProperty(i,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[e]=n,i}function gCt(i,e){var n=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(n!=null){var r,s,a,o,l=[],u=!0,f=!1;try{if(a=(n=n.call(i)).next,e!==0)for(;!(u=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(h){f=!0,s=h}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw s}}return l}}function yCt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e8(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(i,s).enumerable})),n.push.apply(n,r)}return n}function vCt(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e8(Object(n),!0).forEach(function(r){mCt(i,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):e8(Object(n)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(n,r))})}return i}function _Ct(i,e){return pCt(i)||gCt(i,e)||SCt(i,e)||yCt()}function bCt(i,e){if(typeof i!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var r=n.call(i,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function xCt(i){var e=bCt(i,"string");return typeof e=="symbol"?e:e+""}function YC(i){"@babel/helpers - typeof";return YC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},YC(i)}function SCt(i,e){if(i){if(typeof i=="string")return t8(i,e);var n={}.toString.call(i).slice(8,-1);return n==="Object"&&i.constructor&&(n=i.constructor.name),n==="Map"||n==="Set"?Array.from(i):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t8(i,e):void 0}}var aN=function(e){if(YC(e)!=="object")return e;var n=iX(e);if(n.props){var r;n.props=vCt({},n.props),n!=null&&(r=n.props)!==null&&r!==void 0&&r.children&&(n.props.children=Array.isArray(n.props.children)?n.props.children.map(aN):aN(n.props.children))}return n},ECt=function(e){return $W(iX(e))},TCt=function(e,n){delete n.__k,dCt(aN(e),n)};function wCt(i,e){e===void 0&&(e={});var n=e.insertAt;if(!(typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",n==="top"&&r.firstChild?r.insertBefore(s,r.firstChild):r.appendChild(s),s.styleSheet?s.styleSheet.cssText=i:s.appendChild(document.createTextNode(i))}}var ACt=`.float-tooltip-kap {
  position: absolute;
  width: max-content; /* prevent shrinking near right edge */
  max-width: max(50%, 150px);
  padding: 3px 5px;
  border-radius: 3px;
  font: 12px sans-serif;
  color: #eee;
  background: rgba(0,0,0,0.6);
  pointer-events: none;
}
`;wCt(ACt);var MCt=FR({props:{content:{default:!1},offsetX:{triggerUpdate:!1},offsetY:{triggerUpdate:!1}},init:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=r.style,a=s===void 0?{}:s,o=!!e&&YC(e)==="object"&&!!e.node&&typeof e.node=="function",l=Ou(o?e.node():e);l.style("position")==="static"&&l.style("position","relative"),n.tooltipEl=l.append("div").attr("class","float-tooltip-kap"),Object.entries(a).forEach(function(f){var h=_Ct(f,2),p=h[0],y=h[1];return n.tooltipEl.style(p,y)}),n.tooltipEl.style("left","-10000px").style("display","none");var u="tooltip-".concat(Math.round(Math.random()*1e12));n.mouseInside=!1,l.on("mousemove.".concat(u),function(f){n.mouseInside=!0;var h=If(f),p=l.node(),y=p.offsetWidth,_=p.offsetHeight,x=[n.offsetX===null||n.offsetX===void 0?"-".concat(h[0]/y*100,"%"):typeof n.offsetX=="number"?"calc(-50% + ".concat(n.offsetX,"px)"):n.offsetX,n.offsetY===null||n.offsetY===void 0?_>130&&_-h[1]<100?"calc(-100% - 6px)":"21px":typeof n.offsetY=="number"?n.offsetY<0?"calc(-100% - ".concat(Math.abs(n.offsetY),"px)"):"".concat(n.offsetY,"px"):n.offsetY];n.tooltipEl.style("left",h[0]+"px").style("top",h[1]+"px").style("transform","translate(".concat(x.join(","),")")),n.content&&n.tooltipEl.style("display","inline")}),l.on("mouseover.".concat(u),function(){n.mouseInside=!0,n.content&&n.tooltipEl.style("display","inline")}),l.on("mouseout.".concat(u),function(){n.mouseInside=!1,n.tooltipEl.style("display","none")})},update:function(e){e.tooltipEl.style("display",e.content&&e.mouseInside?"inline":"none"),e.content?e.content instanceof HTMLElement?(e.tooltipEl.text(""),e.tooltipEl.append(function(){return e.content})):typeof e.content=="string"?e.tooltipEl.html(e.content):ECt(e.content)?(e.tooltipEl.text(""),TCt(e.content,e.tooltipEl.node())):(e.tooltipEl.style("display","none"),console.warn("Tooltip content is invalid, skipping.",e.content,e.content.toString())):e.tooltipEl.text("")}});function rX(i,e,n){var r,s=1;i==null&&(i=0),e==null&&(e=0),n==null&&(n=0);function a(){var o,l=r.length,u,f=0,h=0,p=0;for(o=0;o<l;++o)u=r[o],f+=u.x||0,h+=u.y||0,p+=u.z||0;for(f=(f/l-i)*s,h=(h/l-e)*s,p=(p/l-n)*s,o=0;o<l;++o)u=r[o],f&&(u.x-=f),h&&(u.y-=h),p&&(u.z-=p)}return a.initialize=function(o){r=o},a.x=function(o){return arguments.length?(i=+o,a):i},a.y=function(o){return arguments.length?(e=+o,a):e},a.z=function(o){return arguments.length?(n=+o,a):n},a.strength=function(o){return arguments.length?(s=+o,a):s},a}function CCt(i){const e=+this._x.call(null,i);return sX(this.cover(e),e,i)}function sX(i,e,n){if(isNaN(e))return i;var r,s=i._root,a={data:n},o=i._x0,l=i._x1,u,f,h,p,y;if(!s)return i._root=a,i;for(;s.length;)if((h=e>=(u=(o+l)/2))?o=u:l=u,r=s,!(s=s[p=+h]))return r[p]=a,i;if(f=+i._x.call(null,s.data),e===f)return a.next=s,r?r[p]=a:i._root=a,i;do r=r?r[p]=new Array(2):i._root=new Array(2),(h=e>=(u=(o+l)/2))?o=u:l=u;while((p=+h)==(y=+(f>=u)));return r[y]=s,r[p]=a,i}function RCt(i){Array.isArray(i)||(i=Array.from(i));const e=i.length,n=new Float64Array(e);let r=1/0,s=-1/0;for(let a=0,o;a<e;++a)isNaN(o=+this._x.call(null,i[a]))||(n[a]=o,o<r&&(r=o),o>s&&(s=o));if(r>s)return this;this.cover(r).cover(s);for(let a=0;a<e;++a)sX(this,n[a],i[a]);return this}function OCt(i){if(isNaN(i=+i))return this;var e=this._x0,n=this._x1;if(isNaN(e))n=(e=Math.floor(i))+1;else{for(var r=n-e||1,s=this._root,a,o;e>i||i>=n;)switch(o=+(i<e),a=new Array(2),a[o]=s,s=a,r*=2,o){case 0:n=e+r;break;case 1:e=n-r;break}this._root&&this._root.length&&(this._root=s)}return this._x0=e,this._x1=n,this}function ICt(){var i=[];return this.visit(function(e){if(!e.length)do i.push(e.data);while(e=e.next)}),i}function PCt(i){return arguments.length?this.cover(+i[0][0]).cover(+i[1][0]):isNaN(this._x0)?void 0:[[this._x0],[this._x1]]}function _d(i,e,n){this.node=i,this.x0=e,this.x1=n}function DCt(i,e){var n,r=this._x0,s,a,o=this._x1,l=[],u=this._root,f,h;for(u&&l.push(new _d(u,r,o)),e==null?e=1/0:(r=i-e,o=i+e);f=l.pop();)if(!(!(u=f.node)||(s=f.x0)>o||(a=f.x1)<r))if(u.length){var p=(s+a)/2;l.push(new _d(u[1],p,a),new _d(u[0],s,p)),(h=+(i>=p))&&(f=l[l.length-1],l[l.length-1]=l[l.length-1-h],l[l.length-1-h]=f)}else{var y=Math.abs(i-+this._x.call(null,u.data));y<e&&(e=y,r=i-y,o=i+y,n=u.data)}return n}function NCt(i){if(isNaN(u=+this._x.call(null,i)))return this;var e,n=this._root,r,s,a,o=this._x0,l=this._x1,u,f,h,p,y;if(!n)return this;if(n.length)for(;;){if((h=u>=(f=(o+l)/2))?o=f:l=f,e=n,!(n=n[p=+h]))return this;if(!n.length)break;e[p+1&1]&&(r=e,y=p)}for(;n.data!==i;)if(s=n,!(n=n.next))return this;return(a=n.next)&&delete n.next,s?(a?s.next=a:delete s.next,this):e?(a?e[p]=a:delete e[p],(n=e[0]||e[1])&&n===(e[1]||e[0])&&!n.length&&(r?r[y]=n:this._root=n),this):(this._root=a,this)}function LCt(i){for(var e=0,n=i.length;e<n;++e)this.remove(i[e]);return this}function UCt(){return this._root}function kCt(){var i=0;return this.visit(function(e){if(!e.length)do++i;while(e=e.next)}),i}function zCt(i){var e=[],n,r=this._root,s,a,o;for(r&&e.push(new _d(r,this._x0,this._x1));n=e.pop();)if(!i(r=n.node,a=n.x0,o=n.x1)&&r.length){var l=(a+o)/2;(s=r[1])&&e.push(new _d(s,l,o)),(s=r[0])&&e.push(new _d(s,a,l))}return this}function BCt(i){var e=[],n=[],r;for(this._root&&e.push(new _d(this._root,this._x0,this._x1));r=e.pop();){var s=r.node;if(s.length){var a,o=r.x0,l=r.x1,u=(o+l)/2;(a=s[0])&&e.push(new _d(a,o,u)),(a=s[1])&&e.push(new _d(a,u,l))}n.push(r)}for(;r=n.pop();)i(r.node,r.x0,r.x1);return this}function FCt(i){return i[0]}function VCt(i){return arguments.length?(this._x=i,this):this._x}function aX(i,e){var n=new N4(e??FCt,NaN,NaN);return i==null?n:n.addAll(i)}function N4(i,e,n){this._x=i,this._x0=e,this._x1=n,this._root=void 0}function n8(i){for(var e={data:i.data},n=e;i=i.next;)n=n.next={data:i.data};return e}var _l=aX.prototype=N4.prototype;_l.copy=function(){var i=new N4(this._x,this._x0,this._x1),e=this._root,n,r;if(!e)return i;if(!e.length)return i._root=n8(e),i;for(n=[{source:e,target:i._root=new Array(2)}];e=n.pop();)for(var s=0;s<2;++s)(r=e.source[s])&&(r.length?n.push({source:r,target:e.target[s]=new Array(2)}):e.target[s]=n8(r));return i};_l.add=CCt;_l.addAll=RCt;_l.cover=OCt;_l.data=ICt;_l.extent=PCt;_l.find=DCt;_l.remove=NCt;_l.removeAll=LCt;_l.root=UCt;_l.size=kCt;_l.visit=zCt;_l.visitAfter=BCt;_l.x=VCt;function HCt(i){const e=+this._x.call(null,i),n=+this._y.call(null,i);return oX(this.cover(e,n),e,n,i)}function oX(i,e,n,r){if(isNaN(e)||isNaN(n))return i;var s,a=i._root,o={data:r},l=i._x0,u=i._y0,f=i._x1,h=i._y1,p,y,_,x,S,E,b,A;if(!a)return i._root=o,i;for(;a.length;)if((S=e>=(p=(l+f)/2))?l=p:f=p,(E=n>=(y=(u+h)/2))?u=y:h=y,s=a,!(a=a[b=E<<1|S]))return s[b]=o,i;if(_=+i._x.call(null,a.data),x=+i._y.call(null,a.data),e===_&&n===x)return o.next=a,s?s[b]=o:i._root=o,i;do s=s?s[b]=new Array(4):i._root=new Array(4),(S=e>=(p=(l+f)/2))?l=p:f=p,(E=n>=(y=(u+h)/2))?u=y:h=y;while((b=E<<1|S)===(A=(x>=y)<<1|_>=p));return s[A]=a,s[b]=o,i}function jCt(i){var e,n,r=i.length,s,a,o=new Array(r),l=new Array(r),u=1/0,f=1/0,h=-1/0,p=-1/0;for(n=0;n<r;++n)isNaN(s=+this._x.call(null,e=i[n]))||isNaN(a=+this._y.call(null,e))||(o[n]=s,l[n]=a,s<u&&(u=s),s>h&&(h=s),a<f&&(f=a),a>p&&(p=a));if(u>h||f>p)return this;for(this.cover(u,f).cover(h,p),n=0;n<r;++n)oX(this,o[n],l[n],i[n]);return this}function GCt(i,e){if(isNaN(i=+i)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,s=this._x1,a=this._y1;if(isNaN(n))s=(n=Math.floor(i))+1,a=(r=Math.floor(e))+1;else{for(var o=s-n||1,l=this._root,u,f;n>i||i>=s||r>e||e>=a;)switch(f=(e<r)<<1|i<n,u=new Array(4),u[f]=l,l=u,o*=2,f){case 0:s=n+o,a=r+o;break;case 1:n=s-o,a=r+o;break;case 2:s=n+o,r=a-o;break;case 3:n=s-o,r=a-o;break}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=r,this._x1=s,this._y1=a,this}function qCt(){var i=[];return this.visit(function(e){if(!e.length)do i.push(e.data);while(e=e.next)}),i}function $Ct(i){return arguments.length?this.cover(+i[0][0],+i[0][1]).cover(+i[1][0],+i[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Eo(i,e,n,r,s){this.node=i,this.x0=e,this.y0=n,this.x1=r,this.y1=s}function WCt(i,e,n){var r,s=this._x0,a=this._y0,o,l,u,f,h=this._x1,p=this._y1,y=[],_=this._root,x,S;for(_&&y.push(new Eo(_,s,a,h,p)),n==null?n=1/0:(s=i-n,a=e-n,h=i+n,p=e+n,n*=n);x=y.pop();)if(!(!(_=x.node)||(o=x.x0)>h||(l=x.y0)>p||(u=x.x1)<s||(f=x.y1)<a))if(_.length){var E=(o+u)/2,b=(l+f)/2;y.push(new Eo(_[3],E,b,u,f),new Eo(_[2],o,b,E,f),new Eo(_[1],E,l,u,b),new Eo(_[0],o,l,E,b)),(S=(e>=b)<<1|i>=E)&&(x=y[y.length-1],y[y.length-1]=y[y.length-1-S],y[y.length-1-S]=x)}else{var A=i-+this._x.call(null,_.data),C=e-+this._y.call(null,_.data),M=A*A+C*C;if(M<n){var I=Math.sqrt(n=M);s=i-I,a=e-I,h=i+I,p=e+I,r=_.data}}return r}function XCt(i){if(isNaN(h=+this._x.call(null,i))||isNaN(p=+this._y.call(null,i)))return this;var e,n=this._root,r,s,a,o=this._x0,l=this._y0,u=this._x1,f=this._y1,h,p,y,_,x,S,E,b;if(!n)return this;if(n.length)for(;;){if((x=h>=(y=(o+u)/2))?o=y:u=y,(S=p>=(_=(l+f)/2))?l=_:f=_,e=n,!(n=n[E=S<<1|x]))return this;if(!n.length)break;(e[E+1&3]||e[E+2&3]||e[E+3&3])&&(r=e,b=E)}for(;n.data!==i;)if(s=n,!(n=n.next))return this;return(a=n.next)&&delete n.next,s?(a?s.next=a:delete s.next,this):e?(a?e[E]=a:delete e[E],(n=e[0]||e[1]||e[2]||e[3])&&n===(e[3]||e[2]||e[1]||e[0])&&!n.length&&(r?r[b]=n:this._root=n),this):(this._root=a,this)}function YCt(i){for(var e=0,n=i.length;e<n;++e)this.remove(i[e]);return this}function KCt(){return this._root}function ZCt(){var i=0;return this.visit(function(e){if(!e.length)do++i;while(e=e.next)}),i}function QCt(i){var e=[],n,r=this._root,s,a,o,l,u;for(r&&e.push(new Eo(r,this._x0,this._y0,this._x1,this._y1));n=e.pop();)if(!i(r=n.node,a=n.x0,o=n.y0,l=n.x1,u=n.y1)&&r.length){var f=(a+l)/2,h=(o+u)/2;(s=r[3])&&e.push(new Eo(s,f,h,l,u)),(s=r[2])&&e.push(new Eo(s,a,h,f,u)),(s=r[1])&&e.push(new Eo(s,f,o,l,h)),(s=r[0])&&e.push(new Eo(s,a,o,f,h))}return this}function JCt(i){var e=[],n=[],r;for(this._root&&e.push(new Eo(this._root,this._x0,this._y0,this._x1,this._y1));r=e.pop();){var s=r.node;if(s.length){var a,o=r.x0,l=r.y0,u=r.x1,f=r.y1,h=(o+u)/2,p=(l+f)/2;(a=s[0])&&e.push(new Eo(a,o,l,h,p)),(a=s[1])&&e.push(new Eo(a,h,l,u,p)),(a=s[2])&&e.push(new Eo(a,o,p,h,f)),(a=s[3])&&e.push(new Eo(a,h,p,u,f))}n.push(r)}for(;r=n.pop();)i(r.node,r.x0,r.y0,r.x1,r.y1);return this}function t2t(i){return i[0]}function e2t(i){return arguments.length?(this._x=i,this):this._x}function n2t(i){return i[1]}function i2t(i){return arguments.length?(this._y=i,this):this._y}function lX(i,e,n){var r=new L4(e??t2t,n??n2t,NaN,NaN,NaN,NaN);return i==null?r:r.addAll(i)}function L4(i,e,n,r,s,a){this._x=i,this._y=e,this._x0=n,this._y0=r,this._x1=s,this._y1=a,this._root=void 0}function i8(i){for(var e={data:i.data},n=e;i=i.next;)n=n.next={data:i.data};return e}var Co=lX.prototype=L4.prototype;Co.copy=function(){var i=new L4(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,n,r;if(!e)return i;if(!e.length)return i._root=i8(e),i;for(n=[{source:e,target:i._root=new Array(4)}];e=n.pop();)for(var s=0;s<4;++s)(r=e.source[s])&&(r.length?n.push({source:r,target:e.target[s]=new Array(4)}):e.target[s]=i8(r));return i};Co.add=HCt;Co.addAll=jCt;Co.cover=GCt;Co.data=qCt;Co.extent=$Ct;Co.find=WCt;Co.remove=XCt;Co.removeAll=YCt;Co.root=KCt;Co.size=ZCt;Co.visit=QCt;Co.visitAfter=JCt;Co.x=e2t;Co.y=i2t;function r2t(i){const e=+this._x.call(null,i),n=+this._y.call(null,i),r=+this._z.call(null,i);return uX(this.cover(e,n,r),e,n,r,i)}function uX(i,e,n,r,s){if(isNaN(e)||isNaN(n)||isNaN(r))return i;var a,o=i._root,l={data:s},u=i._x0,f=i._y0,h=i._z0,p=i._x1,y=i._y1,_=i._z1,x,S,E,b,A,C,M,I,k,N,L;if(!o)return i._root=l,i;for(;o.length;)if((M=e>=(x=(u+p)/2))?u=x:p=x,(I=n>=(S=(f+y)/2))?f=S:y=S,(k=r>=(E=(h+_)/2))?h=E:_=E,a=o,!(o=o[N=k<<2|I<<1|M]))return a[N]=l,i;if(b=+i._x.call(null,o.data),A=+i._y.call(null,o.data),C=+i._z.call(null,o.data),e===b&&n===A&&r===C)return l.next=o,a?a[N]=l:i._root=l,i;do a=a?a[N]=new Array(8):i._root=new Array(8),(M=e>=(x=(u+p)/2))?u=x:p=x,(I=n>=(S=(f+y)/2))?f=S:y=S,(k=r>=(E=(h+_)/2))?h=E:_=E;while((N=k<<2|I<<1|M)===(L=(C>=E)<<2|(A>=S)<<1|b>=x));return a[L]=o,a[N]=l,i}function s2t(i){Array.isArray(i)||(i=Array.from(i));const e=i.length,n=new Float64Array(e),r=new Float64Array(e),s=new Float64Array(e);let a=1/0,o=1/0,l=1/0,u=-1/0,f=-1/0,h=-1/0;for(let p=0,y,_,x,S;p<e;++p)isNaN(_=+this._x.call(null,y=i[p]))||isNaN(x=+this._y.call(null,y))||isNaN(S=+this._z.call(null,y))||(n[p]=_,r[p]=x,s[p]=S,_<a&&(a=_),_>u&&(u=_),x<o&&(o=x),x>f&&(f=x),S<l&&(l=S),S>h&&(h=S));if(a>u||o>f||l>h)return this;this.cover(a,o,l).cover(u,f,h);for(let p=0;p<e;++p)uX(this,n[p],r[p],s[p],i[p]);return this}function a2t(i,e,n){if(isNaN(i=+i)||isNaN(e=+e)||isNaN(n=+n))return this;var r=this._x0,s=this._y0,a=this._z0,o=this._x1,l=this._y1,u=this._z1;if(isNaN(r))o=(r=Math.floor(i))+1,l=(s=Math.floor(e))+1,u=(a=Math.floor(n))+1;else{for(var f=o-r||1,h=this._root,p,y;r>i||i>=o||s>e||e>=l||a>n||n>=u;)switch(y=(n<a)<<2|(e<s)<<1|i<r,p=new Array(8),p[y]=h,h=p,f*=2,y){case 0:o=r+f,l=s+f,u=a+f;break;case 1:r=o-f,l=s+f,u=a+f;break;case 2:o=r+f,s=l-f,u=a+f;break;case 3:r=o-f,s=l-f,u=a+f;break;case 4:o=r+f,l=s+f,a=u-f;break;case 5:r=o-f,l=s+f,a=u-f;break;case 6:o=r+f,s=l-f,a=u-f;break;case 7:r=o-f,s=l-f,a=u-f;break}this._root&&this._root.length&&(this._root=h)}return this._x0=r,this._y0=s,this._z0=a,this._x1=o,this._y1=l,this._z1=u,this}function o2t(){var i=[];return this.visit(function(e){if(!e.length)do i.push(e.data);while(e=e.next)}),i}function l2t(i){return arguments.length?this.cover(+i[0][0],+i[0][1],+i[0][2]).cover(+i[1][0],+i[1][1],+i[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]}function sr(i,e,n,r,s,a,o){this.node=i,this.x0=e,this.y0=n,this.z0=r,this.x1=s,this.y1=a,this.z1=o}function u2t(i,e,n,r){var s,a=this._x0,o=this._y0,l=this._z0,u,f,h,p,y,_,x=this._x1,S=this._y1,E=this._z1,b=[],A=this._root,C,M;for(A&&b.push(new sr(A,a,o,l,x,S,E)),r==null?r=1/0:(a=i-r,o=e-r,l=n-r,x=i+r,S=e+r,E=n+r,r*=r);C=b.pop();)if(!(!(A=C.node)||(u=C.x0)>x||(f=C.y0)>S||(h=C.z0)>E||(p=C.x1)<a||(y=C.y1)<o||(_=C.z1)<l))if(A.length){var I=(u+p)/2,k=(f+y)/2,N=(h+_)/2;b.push(new sr(A[7],I,k,N,p,y,_),new sr(A[6],u,k,N,I,y,_),new sr(A[5],I,f,N,p,k,_),new sr(A[4],u,f,N,I,k,_),new sr(A[3],I,k,h,p,y,N),new sr(A[2],u,k,h,I,y,N),new sr(A[1],I,f,h,p,k,N),new sr(A[0],u,f,h,I,k,N)),(M=(n>=N)<<2|(e>=k)<<1|i>=I)&&(C=b[b.length-1],b[b.length-1]=b[b.length-1-M],b[b.length-1-M]=C)}else{var L=i-+this._x.call(null,A.data),U=e-+this._y.call(null,A.data),O=n-+this._z.call(null,A.data),B=L*L+U*U+O*O;if(B<r){var H=Math.sqrt(r=B);a=i-H,o=e-H,l=n-H,x=i+H,S=e+H,E=n+H,s=A.data}}return s}const c2t=(i,e,n,r,s,a)=>Math.sqrt((i-r)**2+(e-s)**2+(n-a)**2);function f2t(i,e,n,r){const s=[],a=i-r,o=e-r,l=n-r,u=i+r,f=e+r,h=n+r;return this.visit((p,y,_,x,S,E,b)=>{if(!p.length)do{const A=p.data;c2t(i,e,n,this._x(A),this._y(A),this._z(A))<=r&&s.push(A)}while(p=p.next);return y>u||_>f||x>h||S<a||E<o||b<l}),s}function h2t(i){if(isNaN(y=+this._x.call(null,i))||isNaN(_=+this._y.call(null,i))||isNaN(x=+this._z.call(null,i)))return this;var e,n=this._root,r,s,a,o=this._x0,l=this._y0,u=this._z0,f=this._x1,h=this._y1,p=this._z1,y,_,x,S,E,b,A,C,M,I,k;if(!n)return this;if(n.length)for(;;){if((A=y>=(S=(o+f)/2))?o=S:f=S,(C=_>=(E=(l+h)/2))?l=E:h=E,(M=x>=(b=(u+p)/2))?u=b:p=b,e=n,!(n=n[I=M<<2|C<<1|A]))return this;if(!n.length)break;(e[I+1&7]||e[I+2&7]||e[I+3&7]||e[I+4&7]||e[I+5&7]||e[I+6&7]||e[I+7&7])&&(r=e,k=I)}for(;n.data!==i;)if(s=n,!(n=n.next))return this;return(a=n.next)&&delete n.next,s?(a?s.next=a:delete s.next,this):e?(a?e[I]=a:delete e[I],(n=e[0]||e[1]||e[2]||e[3]||e[4]||e[5]||e[6]||e[7])&&n===(e[7]||e[6]||e[5]||e[4]||e[3]||e[2]||e[1]||e[0])&&!n.length&&(r?r[k]=n:this._root=n),this):(this._root=a,this)}function d2t(i){for(var e=0,n=i.length;e<n;++e)this.remove(i[e]);return this}function p2t(){return this._root}function m2t(){var i=0;return this.visit(function(e){if(!e.length)do++i;while(e=e.next)}),i}function g2t(i){var e=[],n,r=this._root,s,a,o,l,u,f,h;for(r&&e.push(new sr(r,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));n=e.pop();)if(!i(r=n.node,a=n.x0,o=n.y0,l=n.z0,u=n.x1,f=n.y1,h=n.z1)&&r.length){var p=(a+u)/2,y=(o+f)/2,_=(l+h)/2;(s=r[7])&&e.push(new sr(s,p,y,_,u,f,h)),(s=r[6])&&e.push(new sr(s,a,y,_,p,f,h)),(s=r[5])&&e.push(new sr(s,p,o,_,u,y,h)),(s=r[4])&&e.push(new sr(s,a,o,_,p,y,h)),(s=r[3])&&e.push(new sr(s,p,y,l,u,f,_)),(s=r[2])&&e.push(new sr(s,a,y,l,p,f,_)),(s=r[1])&&e.push(new sr(s,p,o,l,u,y,_)),(s=r[0])&&e.push(new sr(s,a,o,l,p,y,_))}return this}function y2t(i){var e=[],n=[],r;for(this._root&&e.push(new sr(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));r=e.pop();){var s=r.node;if(s.length){var a,o=r.x0,l=r.y0,u=r.z0,f=r.x1,h=r.y1,p=r.z1,y=(o+f)/2,_=(l+h)/2,x=(u+p)/2;(a=s[0])&&e.push(new sr(a,o,l,u,y,_,x)),(a=s[1])&&e.push(new sr(a,y,l,u,f,_,x)),(a=s[2])&&e.push(new sr(a,o,_,u,y,h,x)),(a=s[3])&&e.push(new sr(a,y,_,u,f,h,x)),(a=s[4])&&e.push(new sr(a,o,l,x,y,_,p)),(a=s[5])&&e.push(new sr(a,y,l,x,f,_,p)),(a=s[6])&&e.push(new sr(a,o,_,x,y,h,p)),(a=s[7])&&e.push(new sr(a,y,_,x,f,h,p))}n.push(r)}for(;r=n.pop();)i(r.node,r.x0,r.y0,r.z0,r.x1,r.y1,r.z1);return this}function v2t(i){return i[0]}function _2t(i){return arguments.length?(this._x=i,this):this._x}function b2t(i){return i[1]}function x2t(i){return arguments.length?(this._y=i,this):this._y}function S2t(i){return i[2]}function E2t(i){return arguments.length?(this._z=i,this):this._z}function cX(i,e,n,r){var s=new U4(e??v2t,n??b2t,r??S2t,NaN,NaN,NaN,NaN,NaN,NaN);return i==null?s:s.addAll(i)}function U4(i,e,n,r,s,a,o,l,u){this._x=i,this._y=e,this._z=n,this._x0=r,this._y0=s,this._z0=a,this._x1=o,this._y1=l,this._z1=u,this._root=void 0}function r8(i){for(var e={data:i.data},n=e;i=i.next;)n=n.next={data:i.data};return e}var Ea=cX.prototype=U4.prototype;Ea.copy=function(){var i=new U4(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),e=this._root,n,r;if(!e)return i;if(!e.length)return i._root=r8(e),i;for(n=[{source:e,target:i._root=new Array(8)}];e=n.pop();)for(var s=0;s<8;++s)(r=e.source[s])&&(r.length?n.push({source:r,target:e.target[s]=new Array(8)}):e.target[s]=r8(r));return i};Ea.add=r2t;Ea.addAll=s2t;Ea.cover=a2t;Ea.data=o2t;Ea.extent=l2t;Ea.find=u2t;Ea.findAllWithinRadius=f2t;Ea.remove=h2t;Ea.removeAll=d2t;Ea.root=p2t;Ea.size=m2t;Ea.visit=g2t;Ea.visitAfter=y2t;Ea.x=_2t;Ea.y=x2t;Ea.z=E2t;function pd(i){return function(){return i}}function rd(i){return(i()-.5)*1e-6}function T2t(i){return i.index}function s8(i,e){var n=i.get(e);if(!n)throw new Error("node not found: "+e);return n}function fX(i){var e=T2t,n=y,r,s=pd(30),a,o,l,u,f,h,p=1;i==null&&(i=[]);function y(b){return 1/Math.min(u[b.source.index],u[b.target.index])}function _(b){for(var A=0,C=i.length;A<p;++A)for(var M=0,I,k,N,L=0,U=0,O=0,B,H;M<C;++M)I=i[M],k=I.source,N=I.target,L=N.x+N.vx-k.x-k.vx||rd(h),l>1&&(U=N.y+N.vy-k.y-k.vy||rd(h)),l>2&&(O=N.z+N.vz-k.z-k.vz||rd(h)),B=Math.sqrt(L*L+U*U+O*O),B=(B-a[M])/B*b*r[M],L*=B,U*=B,O*=B,N.vx-=L*(H=f[M]),l>1&&(N.vy-=U*H),l>2&&(N.vz-=O*H),k.vx+=L*(H=1-H),l>1&&(k.vy+=U*H),l>2&&(k.vz+=O*H)}function x(){if(o){var b,A=o.length,C=i.length,M=new Map(o.map((k,N)=>[e(k,N,o),k])),I;for(b=0,u=new Array(A);b<C;++b)I=i[b],I.index=b,typeof I.source!="object"&&(I.source=s8(M,I.source)),typeof I.target!="object"&&(I.target=s8(M,I.target)),u[I.source.index]=(u[I.source.index]||0)+1,u[I.target.index]=(u[I.target.index]||0)+1;for(b=0,f=new Array(C);b<C;++b)I=i[b],f[b]=u[I.source.index]/(u[I.source.index]+u[I.target.index]);r=new Array(C),S(),a=new Array(C),E()}}function S(){if(o)for(var b=0,A=i.length;b<A;++b)r[b]=+n(i[b],b,i)}function E(){if(o)for(var b=0,A=i.length;b<A;++b)a[b]=+s(i[b],b,i)}return _.initialize=function(b,...A){o=b,h=A.find(C=>typeof C=="function")||Math.random,l=A.find(C=>[1,2,3].includes(C))||2,x()},_.links=function(b){return arguments.length?(i=b,x(),_):i},_.id=function(b){return arguments.length?(e=b,_):e},_.iterations=function(b){return arguments.length?(p=+b,_):p},_.strength=function(b){return arguments.length?(n=typeof b=="function"?b:pd(+b),S(),_):n},_.distance=function(b){return arguments.length?(s=typeof b=="function"?b:pd(+b),E(),_):s},_}const w2t=1664525,A2t=1013904223,a8=4294967296;function M2t(){let i=1;return()=>(i=(w2t*i+A2t)%a8)/a8}var o8=3;function BP(i){return i.x}function l8(i){return i.y}function C2t(i){return i.z}var R2t=10,O2t=Math.PI*(3-Math.sqrt(5)),I2t=Math.PI*20/(9+Math.sqrt(221));function hX(i,e){e=e||2;var n=Math.min(o8,Math.max(1,Math.round(e))),r,s=1,a=.001,o=1-Math.pow(a,1/300),l=0,u=.6,f=new Map,h=A4(_),p=AE("tick","end"),y=M2t();i==null&&(i=[]);function _(){x(),p.call("tick",r),s<a&&(h.stop(),p.call("end",r))}function x(b){var A,C=i.length,M;b===void 0&&(b=1);for(var I=0;I<b;++I)for(s+=(l-s)*o,f.forEach(function(k){k(s)}),A=0;A<C;++A)M=i[A],M.fx==null?M.x+=M.vx*=u:(M.x=M.fx,M.vx=0),n>1&&(M.fy==null?M.y+=M.vy*=u:(M.y=M.fy,M.vy=0)),n>2&&(M.fz==null?M.z+=M.vz*=u:(M.z=M.fz,M.vz=0));return r}function S(){for(var b=0,A=i.length,C;b<A;++b){if(C=i[b],C.index=b,C.fx!=null&&(C.x=C.fx),C.fy!=null&&(C.y=C.fy),C.fz!=null&&(C.z=C.fz),isNaN(C.x)||n>1&&isNaN(C.y)||n>2&&isNaN(C.z)){var M=R2t*(n>2?Math.cbrt(.5+b):n>1?Math.sqrt(.5+b):b),I=b*O2t,k=b*I2t;n===1?C.x=M:n===2?(C.x=M*Math.cos(I),C.y=M*Math.sin(I)):(C.x=M*Math.sin(I)*Math.cos(k),C.y=M*Math.cos(I),C.z=M*Math.sin(I)*Math.sin(k))}(isNaN(C.vx)||n>1&&isNaN(C.vy)||n>2&&isNaN(C.vz))&&(C.vx=0,n>1&&(C.vy=0),n>2&&(C.vz=0))}}function E(b){return b.initialize&&b.initialize(i,y,n),b}return S(),r={tick:x,restart:function(){return h.restart(_),r},stop:function(){return h.stop(),r},numDimensions:function(b){return arguments.length?(n=Math.min(o8,Math.max(1,Math.round(b))),f.forEach(E),r):n},nodes:function(b){return arguments.length?(i=b,S(),f.forEach(E),r):i},alpha:function(b){return arguments.length?(s=+b,r):s},alphaMin:function(b){return arguments.length?(a=+b,r):a},alphaDecay:function(b){return arguments.length?(o=+b,r):+o},alphaTarget:function(b){return arguments.length?(l=+b,r):l},velocityDecay:function(b){return arguments.length?(u=1-b,r):1-u},randomSource:function(b){return arguments.length?(y=b,f.forEach(E),r):y},force:function(b,A){return arguments.length>1?(A==null?f.delete(b):f.set(b,E(A)),r):f.get(b)},find:function(){var b=Array.prototype.slice.call(arguments),A=b.shift()||0,C=(n>1?b.shift():null)||0,M=(n>2?b.shift():null)||0,I=b.shift()||1/0,k=0,N=i.length,L,U,O,B,H,V;for(I*=I,k=0;k<N;++k)H=i[k],L=A-H.x,U=C-(H.y||0),O=M-(H.z||0),B=L*L+U*U+O*O,B<I&&(V=H,I=B);return V},on:function(b,A){return arguments.length>1?(p.on(b,A),r):p.on(b)}}}function dX(){var i,e,n,r,s,a=pd(-30),o,l=1,u=1/0,f=.81;function h(x){var S,E=i.length,b=(e===1?aX(i,BP):e===2?lX(i,BP,l8):e===3?cX(i,BP,l8,C2t):null).visitAfter(y);for(s=x,S=0;S<E;++S)n=i[S],b.visit(_)}function p(){if(i){var x,S=i.length,E;for(o=new Array(S),x=0;x<S;++x)E=i[x],o[E.index]=+a(E,x,i)}}function y(x){var S=0,E,b,A=0,C,M,I,k,N=x.length;if(N){for(C=M=I=k=0;k<N;++k)(E=x[k])&&(b=Math.abs(E.value))&&(S+=E.value,A+=b,C+=b*(E.x||0),M+=b*(E.y||0),I+=b*(E.z||0));S*=Math.sqrt(4/N),x.x=C/A,e>1&&(x.y=M/A),e>2&&(x.z=I/A)}else{E=x,E.x=E.data.x,e>1&&(E.y=E.data.y),e>2&&(E.z=E.data.z);do S+=o[E.data.index];while(E=E.next)}x.value=S}function _(x,S,E,b,A){if(!x.value)return!0;var C=[E,b,A][e-1],M=x.x-n.x,I=e>1?x.y-n.y:0,k=e>2?x.z-n.z:0,N=C-S,L=M*M+I*I+k*k;if(N*N/f<L)return L<u&&(M===0&&(M=rd(r),L+=M*M),e>1&&I===0&&(I=rd(r),L+=I*I),e>2&&k===0&&(k=rd(r),L+=k*k),L<l&&(L=Math.sqrt(l*L)),n.vx+=M*x.value*s/L,e>1&&(n.vy+=I*x.value*s/L),e>2&&(n.vz+=k*x.value*s/L)),!0;if(x.length||L>=u)return;(x.data!==n||x.next)&&(M===0&&(M=rd(r),L+=M*M),e>1&&I===0&&(I=rd(r),L+=I*I),e>2&&k===0&&(k=rd(r),L+=k*k),L<l&&(L=Math.sqrt(l*L)));do x.data!==n&&(N=o[x.data.index]*s/L,n.vx+=M*N,e>1&&(n.vy+=I*N),e>2&&(n.vz+=k*N));while(x=x.next)}return h.initialize=function(x,...S){i=x,r=S.find(E=>typeof E=="function")||Math.random,e=S.find(E=>[1,2,3].includes(E))||2,p()},h.strength=function(x){return arguments.length?(a=typeof x=="function"?x:pd(+x),p(),h):a},h.distanceMin=function(x){return arguments.length?(l=x*x,h):Math.sqrt(l)},h.distanceMax=function(x){return arguments.length?(u=x*x,h):Math.sqrt(u)},h.theta=function(x){return arguments.length?(f=x*x,h):Math.sqrt(f)},h}function pX(i,e,n,r){var s,a,o=pd(.1),l,u;typeof i!="function"&&(i=pd(+i)),e==null&&(e=0),n==null&&(n=0),r==null&&(r=0);function f(p){for(var y=0,_=s.length;y<_;++y){var x=s[y],S=x.x-e||1e-6,E=(x.y||0)-n||1e-6,b=(x.z||0)-r||1e-6,A=Math.sqrt(S*S+E*E+b*b),C=(u[y]-A)*l[y]*p/A;x.vx+=S*C,a>1&&(x.vy+=E*C),a>2&&(x.vz+=b*C)}}function h(){if(s){var p,y=s.length;for(l=new Array(y),u=new Array(y),p=0;p<y;++p)u[p]=+i(s[p],p,s),l[p]=isNaN(u[p])?0:+o(s[p],p,s)}}return f.initialize=function(p,...y){s=p,a=y.find(_=>[1,2,3].includes(_))||2,h()},f.strength=function(p){return arguments.length?(o=typeof p=="function"?p:pd(+p),h(),f):o},f.radius=function(p){return arguments.length?(i=typeof p=="function"?p:pd(+p),h(),f):i},f.x=function(p){return arguments.length?(e=+p,f):e},f.y=function(p){return arguments.length?(n=+p,f):n},f.z=function(p){return arguments.length?(r=+p,f):r},f}const{abs:$x,cos:Qh,sin:Rv,acos:P2t,atan2:Wx,sqrt:kp,pow:wu}=Math;function Xx(i){return i<0?-wu(-i,1/3):wu(i,1/3)}const mX=Math.PI,dA=2*mX,zp=mX/2,D2t=1e-6,FP=Number.MAX_SAFE_INTEGER||9007199254740991,VP=Number.MIN_SAFE_INTEGER||-9007199254740991,N2t={x:0,y:0,z:0},xe={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(i,e){const n=e(i);let r=n.x*n.x+n.y*n.y;return typeof n.z<"u"&&(r+=n.z*n.z),kp(r)},compute:function(i,e,n){if(i===0)return e[0].t=0,e[0];const r=e.length-1;if(i===1)return e[r].t=1,e[r];const s=1-i;let a=e;if(r===0)return e[0].t=i,e[0];if(r===1){const l={x:s*a[0].x+i*a[1].x,y:s*a[0].y+i*a[1].y,t:i};return n&&(l.z=s*a[0].z+i*a[1].z),l}if(r<4){let l=s*s,u=i*i,f,h,p,y=0;r===2?(a=[a[0],a[1],a[2],N2t],f=l,h=s*i*2,p=u):r===3&&(f=l*s,h=l*i*3,p=s*u*3,y=i*u);const _={x:f*a[0].x+h*a[1].x+p*a[2].x+y*a[3].x,y:f*a[0].y+h*a[1].y+p*a[2].y+y*a[3].y,t:i};return n&&(_.z=f*a[0].z+h*a[1].z+p*a[2].z+y*a[3].z),_}const o=JSON.parse(JSON.stringify(e));for(;o.length>1;){for(let l=0;l<o.length-1;l++)o[l]={x:o[l].x+(o[l+1].x-o[l].x)*i,y:o[l].y+(o[l+1].y-o[l].y)*i},typeof o[l].z<"u"&&(o[l].z=o[l].z+(o[l+1].z-o[l].z)*i);o.splice(o.length-1,1)}return o[0].t=i,o[0]},computeWithRatios:function(i,e,n,r){const s=1-i,a=n,o=e;let l=a[0],u=a[1],f=a[2],h=a[3],p;if(l*=s,u*=i,o.length===2)return p=l+u,{x:(l*o[0].x+u*o[1].x)/p,y:(l*o[0].y+u*o[1].y)/p,z:r?(l*o[0].z+u*o[1].z)/p:!1,t:i};if(l*=s,u*=2*s,f*=i*i,o.length===3)return p=l+u+f,{x:(l*o[0].x+u*o[1].x+f*o[2].x)/p,y:(l*o[0].y+u*o[1].y+f*o[2].y)/p,z:r?(l*o[0].z+u*o[1].z+f*o[2].z)/p:!1,t:i};if(l*=s,u*=1.5*s,f*=3*s,h*=i*i*i,o.length===4)return p=l+u+f+h,{x:(l*o[0].x+u*o[1].x+f*o[2].x+h*o[3].x)/p,y:(l*o[0].y+u*o[1].y+f*o[2].y+h*o[3].y)/p,z:r?(l*o[0].z+u*o[1].z+f*o[2].z+h*o[3].z)/p:!1,t:i}},derive:function(i,e){const n=[];for(let r=i,s=r.length,a=s-1;s>1;s--,a--){const o=[];for(let l=0,u;l<a;l++)u={x:a*(r[l+1].x-r[l].x),y:a*(r[l+1].y-r[l].y)},e&&(u.z=a*(r[l+1].z-r[l].z)),o.push(u);n.push(o),r=o}return n},between:function(i,e,n){return e<=i&&i<=n||xe.approximately(i,e)||xe.approximately(i,n)},approximately:function(i,e,n){return $x(i-e)<=(n||D2t)},length:function(i){const n=xe.Tvalues.length;let r=0;for(let s=0,a;s<n;s++)a=.5*xe.Tvalues[s]+.5,r+=xe.Cvalues[s]*xe.arcfn(a,i);return .5*r},map:function(i,e,n,r,s){const a=n-e,o=s-r,l=i-e,u=l/a;return r+o*u},lerp:function(i,e,n){const r={x:e.x+i*(n.x-e.x),y:e.y+i*(n.y-e.y)};return e.z!==void 0&&n.z!==void 0&&(r.z=e.z+i*(n.z-e.z)),r},pointToString:function(i){let e=i.x+"/"+i.y;return typeof i.z<"u"&&(e+="/"+i.z),e},pointsToString:function(i){return"["+i.map(xe.pointToString).join(", ")+"]"},copy:function(i){return JSON.parse(JSON.stringify(i))},angle:function(i,e,n){const r=e.x-i.x,s=e.y-i.y,a=n.x-i.x,o=n.y-i.y,l=r*o-s*a,u=r*a+s*o;return Wx(l,u)},round:function(i,e){const n=""+i,r=n.indexOf(".");return parseFloat(n.substring(0,r+1+e))},dist:function(i,e){const n=i.x-e.x,r=i.y-e.y;return kp(n*n+r*r)},closest:function(i,e){let n=wu(2,63),r,s;return i.forEach(function(a,o){s=xe.dist(e,a),s<n&&(n=s,r=o)}),{mdist:n,mpos:r}},abcratio:function(i,e){if(e!==2&&e!==3)return!1;if(typeof i>"u")i=.5;else if(i===0||i===1)return i;const n=wu(i,e)+wu(1-i,e),r=n-1;return $x(r/n)},projectionratio:function(i,e){if(e!==2&&e!==3)return!1;if(typeof i>"u")i=.5;else if(i===0||i===1)return i;const n=wu(1-i,e),r=wu(i,e)+n;return n/r},lli8:function(i,e,n,r,s,a,o,l){const u=(i*r-e*n)*(s-o)-(i-n)*(s*l-a*o),f=(i*r-e*n)*(a-l)-(e-r)*(s*l-a*o),h=(i-n)*(a-l)-(e-r)*(s-o);return h==0?!1:{x:u/h,y:f/h}},lli4:function(i,e,n,r){const s=i.x,a=i.y,o=e.x,l=e.y,u=n.x,f=n.y,h=r.x,p=r.y;return xe.lli8(s,a,o,l,u,f,h,p)},lli:function(i,e){return xe.lli4(i,i.c,e,e.c)},makeline:function(i,e){return new yr(i.x,i.y,(i.x+e.x)/2,(i.y+e.y)/2,e.x,e.y)},findbbox:function(i){let e=FP,n=FP,r=VP,s=VP;return i.forEach(function(a){const o=a.bbox();e>o.x.min&&(e=o.x.min),n>o.y.min&&(n=o.y.min),r<o.x.max&&(r=o.x.max),s<o.y.max&&(s=o.y.max)}),{x:{min:e,mid:(e+r)/2,max:r,size:r-e},y:{min:n,mid:(n+s)/2,max:s,size:s-n}}},shapeintersections:function(i,e,n,r,s){if(!xe.bboxoverlap(e,r))return[];const a=[],o=[i.startcap,i.forward,i.back,i.endcap],l=[n.startcap,n.forward,n.back,n.endcap];return o.forEach(function(u){u.virtual||l.forEach(function(f){if(f.virtual)return;const h=u.intersects(f,s);h.length>0&&(h.c1=u,h.c2=f,h.s1=i,h.s2=n,a.push(h))})}),a},makeshape:function(i,e,n){const r=e.points.length,s=i.points.length,a=xe.makeline(e.points[r-1],i.points[0]),o=xe.makeline(i.points[s-1],e.points[0]),l={startcap:a,forward:i,back:e,endcap:o,bbox:xe.findbbox([a,i,e,o])};return l.intersections=function(u){return xe.shapeintersections(l,l.bbox,u,u.bbox,n)},l},getminmax:function(i,e,n){if(!n)return{min:0,max:0};let r=FP,s=VP,a,o;n.indexOf(0)===-1&&(n=[0].concat(n)),n.indexOf(1)===-1&&n.push(1);for(let l=0,u=n.length;l<u;l++)a=n[l],o=i.get(a),o[e]<r&&(r=o[e]),o[e]>s&&(s=o[e]);return{min:r,mid:(r+s)/2,max:s,size:s-r}},align:function(i,e){const n=e.p1.x,r=e.p1.y,s=-Wx(e.p2.y-r,e.p2.x-n),a=function(o){return{x:(o.x-n)*Qh(s)-(o.y-r)*Rv(s),y:(o.x-n)*Rv(s)+(o.y-r)*Qh(s)}};return i.map(a)},roots:function(i,e){e=e||{p1:{x:0,y:0},p2:{x:1,y:0}};const n=i.length-1,r=xe.align(i,e),s=function(N){return 0<=N&&N<=1};if(n===2){const N=r[0].y,L=r[1].y,U=r[2].y,O=N-2*L+U;if(O!==0){const B=-kp(L*L-N*U),H=-N+L,V=-(B+H)/O,X=-(-B+H)/O;return[V,X].filter(s)}else if(L!==U&&O===0)return[(2*L-U)/(2*L-2*U)].filter(s);return[]}const a=r[0].y,o=r[1].y,l=r[2].y,u=r[3].y;let f=-a+3*o-3*l+u,h=3*a-6*o+3*l,p=-3*a+3*o,y=a;if(xe.approximately(f,0)){if(xe.approximately(h,0))return xe.approximately(p,0)?[]:[-y/p].filter(s);const N=kp(p*p-4*h*y),L=2*h;return[(N-p)/L,(-p-N)/L].filter(s)}h/=f,p/=f,y/=f;const _=(3*p-h*h)/3,x=_/3,S=(2*h*h*h-9*h*p+27*y)/27,E=S/2,b=E*E+x*x*x;let A,C,M,I,k;if(b<0){const N=-_/3,L=N*N*N,U=kp(L),O=-S/(2*U),B=O<-1?-1:O>1?1:O,H=P2t(B),V=Xx(U),X=2*V;return M=X*Qh(H/3)-h/3,I=X*Qh((H+dA)/3)-h/3,k=X*Qh((H+2*dA)/3)-h/3,[M,I,k].filter(s)}else{if(b===0)return A=E<0?Xx(-E):-Xx(E),M=2*A-h/3,I=-A-h/3,[M,I].filter(s);{const N=kp(b);return A=Xx(-E+N),C=Xx(E+N),[A-C-h/3].filter(s)}}},droots:function(i){if(i.length===3){const e=i[0],n=i[1],r=i[2],s=e-2*n+r;if(s!==0){const a=-kp(n*n-e*r),o=-e+n,l=-(a+o)/s,u=-(-a+o)/s;return[l,u]}else if(n!==r&&s===0)return[(2*n-r)/(2*(n-r))];return[]}if(i.length===2){const e=i[0],n=i[1];return e!==n?[e/(e-n)]:[]}return[]},curvature:function(i,e,n,r,s){let a,o,l,u,f=0,h=0;const p=xe.compute(i,e),y=xe.compute(i,n),_=p.x*p.x+p.y*p.y;if(r?(a=kp(wu(p.y*y.z-y.y*p.z,2)+wu(p.z*y.x-y.z*p.x,2)+wu(p.x*y.y-y.x*p.y,2)),o=wu(_+p.z*p.z,3/2)):(a=p.x*y.y-p.y*y.x,o=wu(_,3/2)),a===0||o===0)return{k:0,r:0};if(f=a/o,h=o/a,!s){const x=xe.curvature(i-.001,e,n,r,!0).k,S=xe.curvature(i+.001,e,n,r,!0).k;u=(S-f+(f-x))/2,l=($x(S-f)+$x(f-x))/2}return{k:f,r:h,dk:u,adk:l}},inflections:function(i){if(i.length<4)return[];const e=xe.align(i,{p1:i[0],p2:i.slice(-1)[0]}),n=e[2].x*e[1].y,r=e[3].x*e[1].y,s=e[1].x*e[2].y,a=e[3].x*e[2].y,o=18*(-3*n+2*r+3*s-a),l=18*(3*n-r-3*s),u=18*(s-n);if(xe.approximately(o,0)){if(!xe.approximately(l,0)){let y=-u/l;if(0<=y&&y<=1)return[y]}return[]}const f=2*o;if(xe.approximately(f,0))return[];const h=l*l-4*o*u;if(h<0)return[];const p=Math.sqrt(h);return[(p-l)/f,-(l+p)/f].filter(function(y){return 0<=y&&y<=1})},bboxoverlap:function(i,e){const n=["x","y"],r=n.length;for(let s=0,a,o,l,u;s<r;s++)if(a=n[s],o=i[a].mid,l=e[a].mid,u=(i[a].size+e[a].size)/2,$x(o-l)>=u)return!1;return!0},expandbox:function(i,e){e.x.min<i.x.min&&(i.x.min=e.x.min),e.y.min<i.y.min&&(i.y.min=e.y.min),e.z&&e.z.min<i.z.min&&(i.z.min=e.z.min),e.x.max>i.x.max&&(i.x.max=e.x.max),e.y.max>i.y.max&&(i.y.max=e.y.max),e.z&&e.z.max>i.z.max&&(i.z.max=e.z.max),i.x.mid=(i.x.min+i.x.max)/2,i.y.mid=(i.y.min+i.y.max)/2,i.z&&(i.z.mid=(i.z.min+i.z.max)/2),i.x.size=i.x.max-i.x.min,i.y.size=i.y.max-i.y.min,i.z&&(i.z.size=i.z.max-i.z.min)},pairiteration:function(i,e,n){const r=i.bbox(),s=e.bbox(),a=1e5,o=n||.5;if(r.x.size+r.y.size<o&&s.x.size+s.y.size<o)return[(a*(i._t1+i._t2)/2|0)/a+"/"+(a*(e._t1+e._t2)/2|0)/a];let l=i.split(.5),u=e.split(.5),f=[{left:l.left,right:u.left},{left:l.left,right:u.right},{left:l.right,right:u.right},{left:l.right,right:u.left}];f=f.filter(function(p){return xe.bboxoverlap(p.left.bbox(),p.right.bbox())});let h=[];return f.length===0||(f.forEach(function(p){h=h.concat(xe.pairiteration(p.left,p.right,o))}),h=h.filter(function(p,y){return h.indexOf(p)===y})),h},getccenter:function(i,e,n){const r=e.x-i.x,s=e.y-i.y,a=n.x-e.x,o=n.y-e.y,l=r*Qh(zp)-s*Rv(zp),u=r*Rv(zp)+s*Qh(zp),f=a*Qh(zp)-o*Rv(zp),h=a*Rv(zp)+o*Qh(zp),p=(i.x+e.x)/2,y=(i.y+e.y)/2,_=(e.x+n.x)/2,x=(e.y+n.y)/2,S=p+l,E=y+u,b=_+f,A=x+h,C=xe.lli8(p,y,S,E,_,x,b,A),M=xe.dist(C,i);let I=Wx(i.y-C.y,i.x-C.x),k=Wx(e.y-C.y,e.x-C.x),N=Wx(n.y-C.y,n.x-C.x),L;return I<N?((I>k||k>N)&&(I+=dA),I>N&&(L=N,N=I,I=L)):N<k&&k<I?(L=N,N=I,I=L):N+=dA,C.s=I,C.e=N,C.r=M,C},numberSort:function(i,e){return i-e}};class G1{constructor(e){this.curves=[],this._3d=!1,e&&(this.curves=e,this._3d=this.curves[0]._3d)}valueOf(){return this.toString()}toString(){return"["+this.curves.map(function(e){return xe.pointsToString(e.points)}).join(", ")+"]"}addCurve(e){this.curves.push(e),this._3d=this._3d||e._3d}length(){return this.curves.map(function(e){return e.length()}).reduce(function(e,n){return e+n})}curve(e){return this.curves[e]}bbox(){const e=this.curves;for(var n=e[0].bbox(),r=1;r<e.length;r++)xe.expandbox(n,e[r].bbox());return n}offset(e){const n=[];return this.curves.forEach(function(r){n.push(...r.offset(e))}),new G1(n)}}const{abs:Yx,min:u8,max:c8,cos:L2t,sin:U2t,acos:k2t,sqrt:Kx}=Math,z2t=Math.PI;class yr{constructor(e){let n=e&&e.forEach?e:Array.from(arguments).slice(),r=!1;if(typeof n[0]=="object"){r=n.length;const _=[];n.forEach(function(x){["x","y","z"].forEach(function(S){typeof x[S]<"u"&&_.push(x[S])})}),n=_}let s=!1;const a=n.length;if(r){if(r>4){if(arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");s=!0}}else if(a!==6&&a!==8&&a!==9&&a!==12&&arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");const o=this._3d=!s&&(a===9||a===12)||e&&e[0]&&typeof e[0].z<"u",l=this.points=[];for(let _=0,x=o?3:2;_<a;_+=x){var u={x:n[_],y:n[_+1]};o&&(u.z=n[_+2]),l.push(u)}const f=this.order=l.length-1,h=this.dims=["x","y"];o&&h.push("z"),this.dimlen=h.length;const p=xe.align(l,{p1:l[0],p2:l[f]}),y=xe.dist(l[0],l[f]);this._linear=p.reduce((_,x)=>_+Yx(x.y),0)<y/50,this._lut=[],this._t1=0,this._t2=1,this.update()}static quadraticFromPoints(e,n,r,s){if(typeof s>"u"&&(s=.5),s===0)return new yr(n,n,r);if(s===1)return new yr(e,n,n);const a=yr.getABC(2,e,n,r,s);return new yr(e,a.A,r)}static cubicFromPoints(e,n,r,s,a){typeof s>"u"&&(s=.5);const o=yr.getABC(3,e,n,r,s);typeof a>"u"&&(a=xe.dist(n,o.C));const l=a*(1-s)/s,u=xe.dist(e,r),f=(r.x-e.x)/u,h=(r.y-e.y)/u,p=a*f,y=a*h,_=l*f,x=l*h,S={x:n.x-p,y:n.y-y},E={x:n.x+_,y:n.y+x},b=o.A,A={x:b.x+(S.x-b.x)/(1-s),y:b.y+(S.y-b.y)/(1-s)},C={x:b.x+(E.x-b.x)/s,y:b.y+(E.y-b.y)/s},M={x:e.x+(A.x-e.x)/s,y:e.y+(A.y-e.y)/s},I={x:r.x+(C.x-r.x)/(1-s),y:r.y+(C.y-r.y)/(1-s)};return new yr(e,M,I,r)}static getUtils(){return xe}getUtils(){return yr.getUtils()}static get PolyBezier(){return G1}valueOf(){return this.toString()}toString(){return xe.pointsToString(this.points)}toSVG(){if(this._3d)return!1;const e=this.points,n=e[0].x,r=e[0].y,s=["M",n,r,this.order===2?"Q":"C"];for(let a=1,o=e.length;a<o;a++)s.push(e[a].x),s.push(e[a].y);return s.join(" ")}setRatios(e){if(e.length!==this.points.length)throw new Error("incorrect number of ratio values");this.ratios=e,this._lut=[]}verify(){const e=this.coordDigest();e!==this._print&&(this._print=e,this.update())}coordDigest(){return this.points.map(function(e,n){return""+n+e.x+e.y+(e.z?e.z:0)}).join("")}update(){this._lut=[],this.dpoints=xe.derive(this.points,this._3d),this.computedirection()}computedirection(){const e=this.points,n=xe.angle(e[0],e[this.order],e[1]);this.clockwise=n>0}length(){return xe.length(this.derivative.bind(this))}static getABC(e=2,n,r,s,a=.5){const o=xe.projectionratio(a,e),l=1-o,u={x:o*n.x+l*s.x,y:o*n.y+l*s.y},f=xe.abcratio(a,e);return{A:{x:r.x+(r.x-u.x)/f,y:r.y+(r.y-u.y)/f},B:r,C:u,S:n,E:s}}getABC(e,n){n=n||this.get(e);let r=this.points[0],s=this.points[this.order];return yr.getABC(this.order,r,n,s,e)}getLUT(e){if(this.verify(),e=e||100,this._lut.length===e+1)return this._lut;this._lut=[],e++,this._lut=[];for(let n=0,r,s;n<e;n++)s=n/(e-1),r=this.compute(s),r.t=s,this._lut.push(r);return this._lut}on(e,n){n=n||5;const r=this.getLUT(),s=[];for(let a=0,o,l=0;a<r.length;a++)o=r[a],xe.dist(o,e)<n&&(s.push(o),l+=a/r.length);return s.length?t/=s.length:!1}project(e){const n=this.getLUT(),r=n.length-1,s=xe.closest(n,e),a=s.mpos,o=(a-1)/r,l=(a+1)/r,u=.1/r;let f=s.mdist,h=o,p=h,y;f+=1;for(let _;h<l+u;h+=u)y=this.compute(h),_=xe.dist(e,y),_<f&&(f=_,p=h);return p=p<0?0:p>1?1:p,y=this.compute(p),y.t=p,y.d=f,y}get(e){return this.compute(e)}point(e){return this.points[e]}compute(e){return this.ratios?xe.computeWithRatios(e,this.points,this.ratios,this._3d):xe.compute(e,this.points,this._3d,this.ratios)}raise(){const e=this.points,n=[e[0]],r=e.length;for(let s=1,a,o;s<r;s++)a=e[s],o=e[s-1],n[s]={x:(r-s)/r*a.x+s/r*o.x,y:(r-s)/r*a.y+s/r*o.y};return n[r]=e[r-1],new yr(n)}derivative(e){return xe.compute(e,this.dpoints[0],this._3d)}dderivative(e){return xe.compute(e,this.dpoints[1],this._3d)}align(){let e=this.points;return new yr(xe.align(e,{p1:e[0],p2:e[e.length-1]}))}curvature(e){return xe.curvature(e,this.dpoints[0],this.dpoints[1],this._3d)}inflections(){return xe.inflections(this.points)}normal(e){return this._3d?this.__normal3(e):this.__normal2(e)}__normal2(e){const n=this.derivative(e),r=Kx(n.x*n.x+n.y*n.y);return{t:e,x:-n.y/r,y:n.x/r}}__normal3(e){const n=this.derivative(e),r=this.derivative(e+.01),s=Kx(n.x*n.x+n.y*n.y+n.z*n.z),a=Kx(r.x*r.x+r.y*r.y+r.z*r.z);n.x/=s,n.y/=s,n.z/=s,r.x/=a,r.y/=a,r.z/=a;const o={x:r.y*n.z-r.z*n.y,y:r.z*n.x-r.x*n.z,z:r.x*n.y-r.y*n.x},l=Kx(o.x*o.x+o.y*o.y+o.z*o.z);o.x/=l,o.y/=l,o.z/=l;const u=[o.x*o.x,o.x*o.y-o.z,o.x*o.z+o.y,o.x*o.y+o.z,o.y*o.y,o.y*o.z-o.x,o.x*o.z-o.y,o.y*o.z+o.x,o.z*o.z];return{t:e,x:u[0]*n.x+u[1]*n.y+u[2]*n.z,y:u[3]*n.x+u[4]*n.y+u[5]*n.z,z:u[6]*n.x+u[7]*n.y+u[8]*n.z}}hull(e){let n=this.points,r=[],s=[],a=0;for(s[a++]=n[0],s[a++]=n[1],s[a++]=n[2],this.order===3&&(s[a++]=n[3]);n.length>1;){r=[];for(let o=0,l,u=n.length-1;o<u;o++)l=xe.lerp(e,n[o],n[o+1]),s[a++]=l,r.push(l);n=r}return s}split(e,n){if(e===0&&n)return this.split(n).left;if(n===1)return this.split(e).right;const r=this.hull(e),s={left:this.order===2?new yr([r[0],r[3],r[5]]):new yr([r[0],r[4],r[7],r[9]]),right:this.order===2?new yr([r[5],r[4],r[2]]):new yr([r[9],r[8],r[6],r[3]]),span:r};return s.left._t1=xe.map(0,0,1,this._t1,this._t2),s.left._t2=xe.map(e,0,1,this._t1,this._t2),s.right._t1=xe.map(e,0,1,this._t1,this._t2),s.right._t2=xe.map(1,0,1,this._t1,this._t2),n?(n=xe.map(n,e,1,0,1),s.right.split(n).left):s}extrema(){const e={};let n=[];return this.dims.forEach((function(r){let s=function(o){return o[r]},a=this.dpoints[0].map(s);e[r]=xe.droots(a),this.order===3&&(a=this.dpoints[1].map(s),e[r]=e[r].concat(xe.droots(a))),e[r]=e[r].filter(function(o){return o>=0&&o<=1}),n=n.concat(e[r].sort(xe.numberSort))}).bind(this)),e.values=n.sort(xe.numberSort).filter(function(r,s){return n.indexOf(r)===s}),e}bbox(){const e=this.extrema(),n={};return this.dims.forEach((function(r){n[r]=xe.getminmax(this,r,e[r])}).bind(this)),n}overlaps(e){const n=this.bbox(),r=e.bbox();return xe.bboxoverlap(n,r)}offset(e,n){if(typeof n<"u"){const r=this.get(e),s=this.normal(e),a={c:r,n:s,x:r.x+s.x*n,y:r.y+s.y*n};return this._3d&&(a.z=r.z+s.z*n),a}if(this._linear){const r=this.normal(0),s=this.points.map(function(a){const o={x:a.x+e*r.x,y:a.y+e*r.y};return a.z&&r.z&&(o.z=a.z+e*r.z),o});return[new yr(s)]}return this.reduce().map(function(r){return r._linear?r.offset(e)[0]:r.scale(e)})}simple(){if(this.order===3){const s=xe.angle(this.points[0],this.points[3],this.points[1]),a=xe.angle(this.points[0],this.points[3],this.points[2]);if(s>0&&a<0||s<0&&a>0)return!1}const e=this.normal(0),n=this.normal(1);let r=e.x*n.x+e.y*n.y;return this._3d&&(r+=e.z*n.z),Yx(k2t(r))<z2t/3}reduce(){let e,n=0,r=0,s=.01,a,o=[],l=[],u=this.extrema().values;for(u.indexOf(0)===-1&&(u=[0].concat(u)),u.indexOf(1)===-1&&u.push(1),n=u[0],e=1;e<u.length;e++)r=u[e],a=this.split(n,r),a._t1=n,a._t2=r,o.push(a),n=r;return o.forEach(function(f){for(n=0,r=0;r<=1;)for(r=n+s;r<=1+s;r+=s)if(a=f.split(n,r),!a.simple()){if(r-=s,Yx(n-r)<s)return[];a=f.split(n,r),a._t1=xe.map(n,0,1,f._t1,f._t2),a._t2=xe.map(r,0,1,f._t1,f._t2),l.push(a),n=r;break}n<1&&(a=f.split(n,1),a._t1=xe.map(n,0,1,f._t1,f._t2),a._t2=f._t2,l.push(a))}),l}translate(e,n,r){r=typeof r=="number"?r:n;const s=this.order;let a=this.points.map((o,l)=>(1-l/s)*n+l/s*r);return new yr(this.points.map((o,l)=>({x:o.x+e.x*a[l],y:o.y+e.y*a[l]})))}scale(e){const n=this.order;let r=!1;if(typeof e=="function"&&(r=e),r&&n===2)return this.raise().scale(r);const s=this.clockwise,a=this.points;if(this._linear)return this.translate(this.normal(0),r?r(0):e,r?r(1):e);const o=r?r(0):e,l=r?r(1):e,u=[this.offset(0,10),this.offset(1,10)],f=[],h=xe.lli4(u[0],u[0].c,u[1],u[1].c);if(!h)throw new Error("cannot scale this curve. Try reducing it first.");return[0,1].forEach(function(p){const y=f[p*n]=xe.copy(a[p*n]);y.x+=(p?l:o)*u[p].n.x,y.y+=(p?l:o)*u[p].n.y}),r?([0,1].forEach(function(p){if(!(n===2&&p)){var y=a[p+1],_={x:y.x-h.x,y:y.y-h.y},x=r?r((p+1)/n):e;r&&!s&&(x=-x);var S=Kx(_.x*_.x+_.y*_.y);_.x/=S,_.y/=S,f[p+1]={x:y.x+x*_.x,y:y.y+x*_.y}}}),new yr(f)):([0,1].forEach(p=>{if(n===2&&p)return;const y=f[p*n],_=this.derivative(p),x={x:y.x+_.x,y:y.y+_.y};f[p+1]=xe.lli4(y,x,h,a[p+1])}),new yr(f))}outline(e,n,r,s){if(n=n===void 0?e:n,this._linear){const I=this.normal(0),k=this.points[0],N=this.points[this.points.length-1];let L,U,O;r===void 0&&(r=e,s=n),L={x:k.x+I.x*e,y:k.y+I.y*e},O={x:N.x+I.x*r,y:N.y+I.y*r},U={x:(L.x+O.x)/2,y:(L.y+O.y)/2};const B=[L,U,O];L={x:k.x-I.x*n,y:k.y-I.y*n},O={x:N.x-I.x*s,y:N.y-I.y*s},U={x:(L.x+O.x)/2,y:(L.y+O.y)/2};const H=[O,U,L],V=xe.makeline(H[2],B[0]),X=xe.makeline(B[2],H[0]),et=[V,new yr(B),X,new yr(H)];return new G1(et)}const a=this.reduce(),o=a.length,l=[];let u=[],f,h=0,p=this.length();const y=typeof r<"u"&&typeof s<"u";function _(I,k,N,L,U){return function(O){const B=L/N,H=(L+U)/N,V=k-I;return xe.map(O,0,1,I+B*V,I+H*V)}}a.forEach(function(I){const k=I.length();y?(l.push(I.scale(_(e,r,p,h,k))),u.push(I.scale(_(-n,-s,p,h,k)))):(l.push(I.scale(e)),u.push(I.scale(-n))),h+=k}),u=u.map(function(I){return f=I.points,f[3]?I.points=[f[3],f[2],f[1],f[0]]:I.points=[f[2],f[1],f[0]],I}).reverse();const x=l[0].points[0],S=l[o-1].points[l[o-1].points.length-1],E=u[o-1].points[u[o-1].points.length-1],b=u[0].points[0],A=xe.makeline(E,x),C=xe.makeline(S,b),M=[A].concat(l).concat([C]).concat(u);return new G1(M)}outlineshapes(e,n,r){n=n||e;const s=this.outline(e,n).curves,a=[];for(let o=1,l=s.length;o<l/2;o++){const u=xe.makeshape(s[o],s[l-o],r);u.startcap.virtual=o>1,u.endcap.virtual=o<l/2-1,a.push(u)}return a}intersects(e,n){return e?e.p1&&e.p2?this.lineIntersects(e):(e instanceof yr&&(e=e.reduce()),this.curveintersects(this.reduce(),e,n)):this.selfintersects(n)}lineIntersects(e){const n=u8(e.p1.x,e.p2.x),r=u8(e.p1.y,e.p2.y),s=c8(e.p1.x,e.p2.x),a=c8(e.p1.y,e.p2.y);return xe.roots(this.points,e).filter(o=>{var l=this.get(o);return xe.between(l.x,n,s)&&xe.between(l.y,r,a)})}selfintersects(e){const n=this.reduce(),r=n.length-2,s=[];for(let a=0,o,l,u;a<r;a++)l=n.slice(a,a+1),u=n.slice(a+2),o=this.curveintersects(l,u,e),s.push(...o);return s}curveintersects(e,n,r){const s=[];e.forEach(function(o){n.forEach(function(l){o.overlaps(l)&&s.push({left:o,right:l})})});let a=[];return s.forEach(function(o){const l=xe.pairiteration(o.left,o.right,r);l.length>0&&(a=a.concat(l))}),a}arcs(e){return e=e||.5,this._iterate(e,[])}_error(e,n,r,s){const a=(s-r)/4,o=this.get(r+a),l=this.get(s-a),u=xe.dist(e,n),f=xe.dist(e,o),h=xe.dist(e,l);return Yx(f-u)+Yx(h-u)}_iterate(e,n){let r=0,s=1,a;do{a=0,s=1;let o=this.get(r),l,u,f,h,p=!1,y=!1,_,x=s,S=1;do if(y=p,h=f,x=(r+s)/2,l=this.get(x),u=this.get(s),f=xe.getccenter(o,l,u),f.interval={start:r,end:s},p=this._error(f,o,r,s)<=e,_=y&&!p,_||(S=s),p){if(s>=1){if(f.interval.end=S=1,h=f,s>1){let b={x:f.x+f.r*L2t(f.e),y:f.y+f.r*U2t(f.e)};f.e+=xe.angle({x:f.x,y:f.y},b,this.get(1))}break}s=s+(s-r)/2}else s=x;while(!_&&a++<100);if(a>=100)break;h=h||f,n.push(h),r=S}while(s<1);return n}}function oN(i,e){(e==null||e>i.length)&&(e=i.length);for(var n=0,r=Array(e);n<e;n++)r[n]=i[n];return r}function B2t(i){if(Array.isArray(i))return i}function F2t(i){if(Array.isArray(i))return oN(i)}function V2t(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function H2t(i,e){var n=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(n!=null){var r,s,a,o,l=[],u=!0,f=!1;try{if(a=(n=n.call(i)).next,e!==0)for(;!(u=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(h){f=!0,s=h}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw s}}return l}}function j2t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G2t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q2t(i,e){if(i==null)return{};var n,r,s=$2t(i,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(r=0;r<a.length;r++)n=a[r],e.includes(n)||{}.propertyIsEnumerable.call(i,n)&&(s[n]=i[n])}return s}function $2t(i,e){if(i==null)return{};var n={};for(var r in i)if({}.hasOwnProperty.call(i,r)){if(e.includes(r))continue;n[r]=i[r]}return n}function W2t(i,e){return B2t(i)||H2t(i,e)||gX(i,e)||j2t()}function X2t(i){return F2t(i)||V2t(i)||gX(i)||G2t()}function Y2t(i,e){if(typeof i!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var r=n.call(i,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}function K2t(i){var e=Y2t(i,"string");return typeof e=="symbol"?e:e+""}function gX(i,e){if(i){if(typeof i=="string")return oN(i,e);var n={}.toString.call(i).slice(8,-1);return n==="Object"&&i.constructor&&(n=i.constructor.name),n==="Map"||n==="Set"?Array.from(i):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oN(i,e):void 0}}var Z2t=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=(e instanceof Array?e.length?e:[void 0]:[e]).map(function(l){return{keyAccessor:l,isProp:!(l instanceof Function)}}),a=i.reduce(function(l,u){var f=l,h=u;return s.forEach(function(p,y){var _=p.keyAccessor,x=p.isProp,S;if(x){var E=h,b=E[_],A=q2t(E,[_].map(K2t));S=b,h=A}else S=_(h,y);y+1<s.length?(f.hasOwnProperty(S)||(f[S]={}),f=f[S]):n?(f.hasOwnProperty(S)||(f[S]=[]),f[S].push(h)):f[S]=h}),l},{});n instanceof Function&&function l(u){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;f===s.length?Object.keys(u).forEach(function(h){return u[h]=n(u[h])}):Object.values(u).forEach(function(h){return l(h,f+1)})}(a);var o=a;return r&&(o=[],function l(u){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];f.length===s.length?o.push({keys:f,vals:u}):Object.entries(u).forEach(function(h){var p=W2t(h,2),y=p[0],_=p[1];return l(_,[].concat(X2t(f),[y]))})}(a),e instanceof Array&&e.length===0&&o.length===1&&(o[0].keys=[])),o};function Q2t(i,e){switch(arguments.length){case 0:break;case 1:this.range(i);break;default:this.range(e).domain(i);break}return this}const f8=Symbol("implicit");function k4(){var i=new N6,e=[],n=[],r=f8;function s(a){let o=i.get(a);if(o===void 0){if(r!==f8)return r;i.set(a,o=e.push(a)-1)}return n[o%n.length]}return s.domain=function(a){if(!arguments.length)return e.slice();e=[],i=new N6;for(const o of a)i.has(o)||i.set(o,e.push(o)-1);return s},s.range=function(a){return arguments.length?(n=Array.from(a),s):n.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.copy=function(){return k4(e,n).unknown(r)},Q2t.apply(s,arguments),s}function J2t(i){for(var e=i.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+i.slice(r*6,++r*6);return n}const yX=J2t("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928");function tRt(i,e){e===void 0&&(e={});var n=e.insertAt;if(!(typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",n==="top"&&r.firstChild?r.insertBefore(s,r.firstChild):r.appendChild(s),s.styleSheet?s.styleSheet.cssText=i:s.appendChild(document.createTextNode(i))}}var eRt=`.force-graph-container canvas {
  display: block;
  user-select: none;
  outline: none;
  -webkit-tap-highlight-color: transparent;
}

.force-graph-container .clickable {
  cursor: pointer;
}

.force-graph-container .grabbable {
  cursor: move;
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}

.force-graph-container .grabbable:active {
  cursor: grabbing;
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
}
`;tRt(eRt);function lN(i,e){(e==null||e>i.length)&&(e=i.length);for(var n=0,r=Array(e);n<e;n++)r[n]=i[n];return r}function nRt(i){if(Array.isArray(i))return i}function iRt(i){if(Array.isArray(i))return lN(i)}function h8(i,e,n){if(vX())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var s=new(i.bind.apply(i,r));return s}function zS(i,e,n){return(e=uRt(e))in i?Object.defineProperty(i,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[e]=n,i}function vX(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vX=function(){return!!i})()}function rRt(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function sRt(i,e){var n=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(n!=null){var r,s,a,o,l=[],u=!0,f=!1;try{if(a=(n=n.call(i)).next,e!==0)for(;!(u=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(h){f=!0,s=h}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw s}}return l}}function aRt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oRt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d8(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(i,s).enumerable})),n.push.apply(n,r)}return n}function Ov(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?d8(Object(n),!0).forEach(function(r){zS(i,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):d8(Object(n)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(n,r))})}return i}function q1(i,e){return nRt(i)||sRt(i,e)||_X(i,e)||aRt()}function Iu(i){return iRt(i)||rRt(i)||_X(i)||oRt()}function lRt(i,e){if(typeof i!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var r=n.call(i,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function uRt(i){var e=lRt(i,"string");return typeof e=="symbol"?e:e+""}function uN(i){"@babel/helpers - typeof";return uN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uN(i)}function _X(i,e){if(i){if(typeof i=="string")return lN(i,e);var n={}.toString.call(i).slice(8,-1);return n==="Object"&&i.constructor&&(n=i.constructor.name),n==="Map"||n==="Set"?Array.from(i):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lN(i,e):void 0}}var cRt=k4(yX);function p8(i,e,n){!e||typeof n!="string"||i.filter(function(r){return!r[n]}).forEach(function(r){r[n]=cRt(e(r))})}function fRt(i,e){var n=i.nodes,r=i.links,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=s.nodeFilter,o=a===void 0?function(){return!0}:a,l=s.onLoopError,u=l===void 0?function(_){throw"Invalid DAG structure! Found cycle in node path: ".concat(_.join(" -> "),".")}:l,f={};n.forEach(function(_){return f[e(_)]={data:_,out:[],depth:-1,skip:!o(_)}}),r.forEach(function(_){var x=_.source,S=_.target,E=M(x),b=M(S);if(!f.hasOwnProperty(E))throw"Missing source node with id: ".concat(E);if(!f.hasOwnProperty(b))throw"Missing target node with id: ".concat(b);var A=f[E],C=f[b];A.out.push(C);function M(I){return uN(I)==="object"?e(I):I}});var h=[];y(Object.values(f));var p=Object.assign.apply(Object,[{}].concat(Iu(Object.entries(f).filter(function(_){var x=q1(_,2),S=x[1];return!S.skip}).map(function(_){var x=q1(_,2),S=x[0],E=x[1];return zS({},S,E.depth)}))));return p;function y(_){for(var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,E=function(){var M=_[b];if(x.indexOf(M)!==-1){var I=[].concat(Iu(x.slice(x.indexOf(M))),[M]).map(function(k){return e(k.data)});return h.some(function(k){return k.length===I.length&&k.every(function(N,L){return N===I[L]})})||(h.push(I),u(I)),1}S>M.depth&&(M.depth=S,y(M.out,[].concat(Iu(x),[M]),S+(M.skip?0:1)))},b=0,A=_.length;b<A;b++)E()}}var hRt=2,Ba=function(e,n){return n.onNeedsRedraw&&n.onNeedsRedraw()},m8=function(e,n){if(!n.isShadow){var r=Ke(n.linkDirectionalParticles);n.graphData.links.forEach(function(s){var a=Math.round(Math.abs(r(s)));a?s.__photons=Iu(Array(a)).map(function(){return{}}):delete s.__photons})}},KC=FR({props:{graphData:{default:{nodes:[],links:[]},onChange:function(e,n){n.engineRunning=!1,m8(e,n)}},dagMode:{onChange:function(e,n){!e&&(n.graphData.nodes||[]).forEach(function(r){return r.fx=r.fy=void 0})}},dagLevelDistance:{},dagNodeFilter:{default:function(e){return!0}},onDagError:{triggerUpdate:!1},nodeRelSize:{default:4,triggerUpdate:!1,onChange:Ba},nodeId:{default:"id"},nodeVal:{default:"val",triggerUpdate:!1,onChange:Ba},nodeColor:{default:"color",triggerUpdate:!1,onChange:Ba},nodeAutoColorBy:{},nodeCanvasObject:{triggerUpdate:!1,onChange:Ba},nodeCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:Ba},nodeVisibility:{default:!0,triggerUpdate:!1,onChange:Ba},linkSource:{default:"source"},linkTarget:{default:"target"},linkVisibility:{default:!0,triggerUpdate:!1,onChange:Ba},linkColor:{default:"color",triggerUpdate:!1,onChange:Ba},linkAutoColorBy:{},linkLineDash:{triggerUpdate:!1,onChange:Ba},linkWidth:{default:1,triggerUpdate:!1,onChange:Ba},linkCurvature:{default:0,triggerUpdate:!1,onChange:Ba},linkCanvasObject:{triggerUpdate:!1,onChange:Ba},linkCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:Ba},linkDirectionalArrowLength:{default:0,triggerUpdate:!1,onChange:Ba},linkDirectionalArrowColor:{triggerUpdate:!1,onChange:Ba},linkDirectionalArrowRelPos:{default:.5,triggerUpdate:!1,onChange:Ba},linkDirectionalParticles:{default:0,triggerUpdate:!1,onChange:m8},linkDirectionalParticleSpeed:{default:.01,triggerUpdate:!1},linkDirectionalParticleWidth:{default:4,triggerUpdate:!1},linkDirectionalParticleColor:{triggerUpdate:!1},globalScale:{default:1,triggerUpdate:!1},d3AlphaMin:{default:0,triggerUpdate:!1},d3AlphaDecay:{default:.0228,triggerUpdate:!1,onChange:function(e,n){n.forceLayout.alphaDecay(e)}},d3AlphaTarget:{default:0,triggerUpdate:!1,onChange:function(e,n){n.forceLayout.alphaTarget(e)}},d3VelocityDecay:{default:.4,triggerUpdate:!1,onChange:function(e,n){n.forceLayout.velocityDecay(e)}},warmupTicks:{default:0,triggerUpdate:!1},cooldownTicks:{default:1/0,triggerUpdate:!1},cooldownTime:{default:15e3,triggerUpdate:!1},onUpdate:{default:function(){},triggerUpdate:!1},onFinishUpdate:{default:function(){},triggerUpdate:!1},onEngineTick:{default:function(){},triggerUpdate:!1},onEngineStop:{default:function(){},triggerUpdate:!1},onNeedsRedraw:{triggerUpdate:!1},isShadow:{default:!1,triggerUpdate:!1}},methods:{d3Force:function(e,n,r){return r===void 0?e.forceLayout.force(n):(e.forceLayout.force(n,r),this)},d3ReheatSimulation:function(e){return e.forceLayout.alpha(1),this.resetCountdown(),this},resetCountdown:function(e){return e.cntTicks=0,e.startTickTime=new Date,e.engineRunning=!0,this},isEngineRunning:function(e){return!!e.engineRunning},tickFrame:function(e){return!e.isShadow&&n(),s(),!e.isShadow&&a(),!e.isShadow&&o(),r(),this;function n(){e.engineRunning&&(++e.cntTicks>e.cooldownTicks||new Date-e.startTickTime>e.cooldownTime||e.d3AlphaMin>0&&e.forceLayout.alpha()<e.d3AlphaMin?(e.engineRunning=!1,e.onEngineStop()):(e.forceLayout.tick(),e.onEngineTick()))}function r(){var l=Ke(e.nodeVisibility),u=Ke(e.nodeVal),f=Ke(e.nodeColor),h=Ke(e.nodeCanvasObjectMode),p=e.ctx,y=e.isShadow/e.globalScale,_=e.graphData.nodes.filter(l);p.save(),_.forEach(function(x){var S=h(x);if(e.nodeCanvasObject&&(S==="before"||S==="replace")&&(e.nodeCanvasObject(x,p,e.globalScale),S==="replace")){p.restore();return}var E=Math.sqrt(Math.max(0,u(x)||1))*e.nodeRelSize+y;p.beginPath(),p.arc(x.x,x.y,E,0,2*Math.PI,!1),p.fillStyle=f(x)||"rgba(31, 120, 180, 0.92)",p.fill(),e.nodeCanvasObject&&S==="after"&&e.nodeCanvasObject(x,e.ctx,e.globalScale)}),p.restore()}function s(){var l=Ke(e.linkVisibility),u=Ke(e.linkColor),f=Ke(e.linkWidth),h=Ke(e.linkLineDash),p=Ke(e.linkCurvature),y=Ke(e.linkCanvasObjectMode),_=e.ctx,x=e.isShadow*2,S=e.graphData.links.filter(l);S.forEach(k);var E=[],b=[],A=S;if(e.linkCanvasObject){var C=[],M=[];S.forEach(function(N){return({before:E,after:b,replace:C}[y(N)]||M).push(N)}),A=[].concat(Iu(E),b,M),E=E.concat(C)}_.save(),E.forEach(function(N){return e.linkCanvasObject(N,_,e.globalScale)}),_.restore();var I=Z2t(A,[u,f,h]);_.save(),Object.entries(I).forEach(function(N){var L=q1(N,2),U=L[0],O=L[1],B=!U||U==="undefined"?"rgba(0,0,0,0.15)":U;Object.entries(O).forEach(function(H){var V=q1(H,2),X=V[0],et=V[1],q=(X||1)/e.globalScale+x;Object.entries(et).forEach(function(W){var Z=q1(W,2);Z[0];var nt=Z[1],Q=h(nt[0]);_.beginPath(),nt.forEach(function(ht){var yt=ht.source,xt=ht.target;if(!(!yt||!xt||!yt.hasOwnProperty("x")||!xt.hasOwnProperty("x"))){_.moveTo(yt.x,yt.y);var it=ht.__controlPoints;it?_[it.length===2?"quadraticCurveTo":"bezierCurveTo"].apply(_,Iu(it).concat([xt.x,xt.y])):_.lineTo(xt.x,xt.y)}}),_.strokeStyle=B,_.lineWidth=q,_.setLineDash(Q||[]),_.stroke()})})}),_.restore(),_.save(),b.forEach(function(N){return e.linkCanvasObject(N,_,e.globalScale)}),_.restore();function k(N){var L=p(N);if(!L){N.__controlPoints=null;return}var U=N.source,O=N.target;if(!(!U||!O||!U.hasOwnProperty("x")||!O.hasOwnProperty("x"))){var B=Math.sqrt(Math.pow(O.x-U.x,2)+Math.pow(O.y-U.y,2));if(B>0){var H=Math.atan2(O.y-U.y,O.x-U.x),V=B*L,X={x:(U.x+O.x)/2+V*Math.cos(H-Math.PI/2),y:(U.y+O.y)/2+V*Math.sin(H-Math.PI/2)};N.__controlPoints=[X.x,X.y]}else{var et=L*70;N.__controlPoints=[O.x,O.y-et,O.x+et,O.y]}}}}function a(){var l=1.6,u=.2,f=Ke(e.linkDirectionalArrowLength),h=Ke(e.linkDirectionalArrowRelPos),p=Ke(e.linkVisibility),y=Ke(e.linkDirectionalArrowColor||e.linkColor),_=Ke(e.nodeVal),x=e.ctx;x.save(),e.graphData.links.filter(p).forEach(function(S){var E=f(S);if(!(!E||E<0)){var b=S.source,A=S.target;if(!(!b||!A||!b.hasOwnProperty("x")||!A.hasOwnProperty("x"))){var C=Math.sqrt(Math.max(0,_(b)||1))*e.nodeRelSize,M=Math.sqrt(Math.max(0,_(A)||1))*e.nodeRelSize,I=Math.min(1,Math.max(0,h(S))),k=y(S)||"rgba(0,0,0,0.28)",N=E/l/2,L=S.__controlPoints&&h8(yr,[b.x,b.y].concat(Iu(S.__controlPoints),[A.x,A.y])),U=L?function(q){return L.get(q)}:function(q){return{x:b.x+(A.x-b.x)*q||0,y:b.y+(A.y-b.y)*q||0}},O=L?L.length():Math.sqrt(Math.pow(A.x-b.x,2)+Math.pow(A.y-b.y,2)),B=C+E+(O-C-M-E)*I,H=U(B/O),V=U((B-E)/O),X=U((B-E*(1-u))/O),et=Math.atan2(H.y-V.y,H.x-V.x)-Math.PI/2;x.beginPath(),x.moveTo(H.x,H.y),x.lineTo(V.x+N*Math.cos(et),V.y+N*Math.sin(et)),x.lineTo(X.x,X.y),x.lineTo(V.x-N*Math.cos(et),V.y-N*Math.sin(et)),x.fillStyle=k,x.fill()}}}),x.restore()}function o(){var l=Ke(e.linkDirectionalParticles),u=Ke(e.linkDirectionalParticleSpeed),f=Ke(e.linkDirectionalParticleWidth),h=Ke(e.linkVisibility),p=Ke(e.linkDirectionalParticleColor||e.linkColor),y=e.ctx;y.save(),e.graphData.links.filter(h).forEach(function(_){var x=l(_);if(!(!_.hasOwnProperty("__photons")||!_.__photons.length)){var S=_.source,E=_.target;if(!(!S||!E||!S.hasOwnProperty("x")||!E.hasOwnProperty("x"))){var b=u(_),A=_.__photons||[],C=Math.max(0,f(_)/2)/Math.sqrt(e.globalScale),M=p(_)||"rgba(0,0,0,0.28)";y.fillStyle=M;var I=_.__controlPoints?h8(yr,[S.x,S.y].concat(Iu(_.__controlPoints),[E.x,E.y])):null,k=0,N=!1;A.forEach(function(L){var U=!!L.__singleHop;if(L.hasOwnProperty("__progressRatio")||(L.__progressRatio=U?0:k/x),!U&&k++,L.__progressRatio+=b,L.__progressRatio>=1)if(!U)L.__progressRatio=L.__progressRatio%1;else{N=!0;return}var O=L.__progressRatio,B=I?I.get(O):{x:S.x+(E.x-S.x)*O||0,y:S.y+(E.y-S.y)*O||0};y.beginPath(),y.arc(B.x,B.y,C,0,2*Math.PI,!1),y.fill()}),N&&(_.__photons=_.__photons.filter(function(L){return!L.__singleHop||L.__progressRatio<=1}))}}}),y.restore()}},emitParticle:function(e,n){return n&&(!n.__photons&&(n.__photons=[]),n.__photons.push({__singleHop:!0})),this}},stateInit:function(){return{forceLayout:hX().force("link",fX()).force("charge",dX()).force("center",rX()).force("dagRadial",null).stop(),engineRunning:!1}},init:function(e,n){n.ctx=e},update:function(e,n){e.engineRunning=!1,e.onUpdate(),e.nodeAutoColorBy!==null&&p8(e.graphData.nodes,Ke(e.nodeAutoColorBy),e.nodeColor),e.linkAutoColorBy!==null&&p8(e.graphData.links,Ke(e.linkAutoColorBy),e.linkColor),e.graphData.links.forEach(function(y){y.source=y[e.linkSource],y.target=y[e.linkTarget]}),e.forceLayout.stop().alpha(1).nodes(e.graphData.nodes);var r=e.forceLayout.force("link");r&&r.id(function(y){return y[e.nodeId]}).links(e.graphData.links);var s=e.dagMode&&fRt(e.graphData,function(y){return y[e.nodeId]},{nodeFilter:e.dagNodeFilter,onLoopError:e.onDagError||void 0}),a=Math.max.apply(Math,Iu(Object.values(s||[]))),o=e.dagLevelDistance||e.graphData.nodes.length/(a||1)*hRt*(["radialin","radialout"].indexOf(e.dagMode)!==-1?.7:1);if(["lr","rl","td","bu"].includes(n.dagMode)){var l=["lr","rl"].includes(n.dagMode)?"fx":"fy";e.graphData.nodes.filter(e.dagNodeFilter).forEach(function(y){return delete y[l]})}if(["lr","rl","td","bu"].includes(e.dagMode)){var u=["rl","bu"].includes(e.dagMode),f=function(_){return(s[_[e.nodeId]]-a/2)*o*(u?-1:1)},h=["lr","rl"].includes(e.dagMode)?"fx":"fy";e.graphData.nodes.filter(e.dagNodeFilter).forEach(function(y){return y[h]=f(y)})}e.forceLayout.force("dagRadial",["radialin","radialout"].indexOf(e.dagMode)!==-1?pX(function(y){var _=s[y[e.nodeId]]||-1;return(e.dagMode==="radialin"?a-_:_)*o}).strength(function(y){return e.dagNodeFilter(y)?1:0}):null);for(var p=0;p<e.warmupTicks&&!(e.d3AlphaMin>0&&e.forceLayout.alpha()<e.d3AlphaMin);p++)e.forceLayout.tick();this.resetCountdown(),e.onFinishUpdate()}});function bX(i,e){var n=i instanceof Array?i:[i],r=new e;return r._destructor&&r._destructor(),{linkProp:function(a){return{default:r[a](),onChange:function(l,u){n.forEach(function(f){return u[f][a](l)})},triggerUpdate:!1}},linkMethod:function(a){return function(o){for(var l=arguments.length,u=new Array(l>1?l-1:0),f=1;f<l;f++)u[f-1]=arguments[f];var h=[];return n.forEach(function(p){var y=o[p],_=y[a].apply(y,u);_!==y&&h.push(_)}),h.length?h[0]:this}}}}var dRt=800,pRt=4,mRt=5,xX=bX("forceGraph",KC),gRt=bX(["forceGraph","shadowGraph"],KC),yRt=Object.assign.apply(Object,Iu(["nodeColor","nodeAutoColorBy","nodeCanvasObject","nodeCanvasObjectMode","linkColor","linkAutoColorBy","linkLineDash","linkWidth","linkCanvasObject","linkCanvasObjectMode","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowRelPos","linkDirectionalParticles","linkDirectionalParticleSpeed","linkDirectionalParticleWidth","linkDirectionalParticleColor","dagMode","dagLevelDistance","dagNodeFilter","onDagError","d3AlphaMin","d3AlphaDecay","d3VelocityDecay","warmupTicks","cooldownTicks","cooldownTime","onEngineTick","onEngineStop"].map(function(i){return zS({},i,xX.linkProp(i))})).concat(Iu(["nodeRelSize","nodeId","nodeVal","nodeVisibility","linkSource","linkTarget","linkVisibility","linkCurvature"].map(function(i){return zS({},i,gRt.linkProp(i))})))),vRt=Object.assign.apply(Object,Iu(["d3Force","d3ReheatSimulation","emitParticle"].map(function(i){return zS({},i,xX.linkMethod(i))})));function HP(i){if(i.canvas){var e=i.canvas.width,n=i.canvas.height;e===300&&n===150&&(e=n=0);var r=window.devicePixelRatio;e/=r,n/=r,[i.canvas,i.shadowCanvas].forEach(function(a){a.style.width="".concat(i.width,"px"),a.style.height="".concat(i.height,"px"),a.width=i.width*r,a.height=i.height*r,!e&&!n&&a.getContext("2d").scale(r,r)});var s=Rf(i.canvas).k;i.zoom.translateBy(i.zoom.__baseElem,(i.width-e)/2/s,(i.height-n)/2/s),i.needsRedraw=!0}}function SX(i){var e=window.devicePixelRatio;i.setTransform(e,0,0,e,0,0)}function g8(i,e,n){i.save(),SX(i),i.clearRect(0,0,e,n),i.restore()}var _Rt=FR({props:Ov({width:{default:window.innerWidth,onChange:function(e,n){return HP(n)},triggerUpdate:!1},height:{default:window.innerHeight,onChange:function(e,n){return HP(n)},triggerUpdate:!1},graphData:{default:{nodes:[],links:[]},onChange:function(e,n){[e.nodes,e.links].every(function(s){return(s||[]).every(function(a){return!a.hasOwnProperty("__indexColor")})})&&n.colorTracker.reset(),[{type:"Node",objs:e.nodes},{type:"Link",objs:e.links}].forEach(r),n.forceGraph.graphData(e),n.shadowGraph.graphData(e);function r(s){var a=s.type,o=s.objs;o.filter(function(l){if(!l.hasOwnProperty("__indexColor"))return!0;var u=n.colorTracker.lookup(l.__indexColor);return!u||!u.hasOwnProperty("d")||u.d!==l}).forEach(function(l){l.__indexColor=n.colorTracker.register({type:a,d:l})})}},triggerUpdate:!1},backgroundColor:{onChange:function(e,n){n.canvas&&e&&(n.canvas.style.background=e)},triggerUpdate:!1},nodeLabel:{default:"name",triggerUpdate:!1},nodePointerAreaPaint:{onChange:function(e,n){n.shadowGraph.nodeCanvasObject(e?function(r,s,a){return e(r,r.__indexColor,s,a)}:null),n.flushShadowCanvas&&n.flushShadowCanvas()},triggerUpdate:!1},linkPointerAreaPaint:{onChange:function(e,n){n.shadowGraph.linkCanvasObject(e?function(r,s,a){return e(r,r.__indexColor,s,a)}:null),n.flushShadowCanvas&&n.flushShadowCanvas()},triggerUpdate:!1},linkLabel:{default:"name",triggerUpdate:!1},linkHoverPrecision:{default:4,triggerUpdate:!1},minZoom:{default:.01,onChange:function(e,n){n.zoom.scaleExtent([e,n.zoom.scaleExtent()[1]])},triggerUpdate:!1},maxZoom:{default:1e3,onChange:function(e,n){n.zoom.scaleExtent([n.zoom.scaleExtent()[0],e])},triggerUpdate:!1},enableNodeDrag:{default:!0,triggerUpdate:!1},enableZoomInteraction:{default:!0,triggerUpdate:!1},enablePanInteraction:{default:!0,triggerUpdate:!1},enableZoomPanInteraction:{default:!0,triggerUpdate:!1},enablePointerInteraction:{default:!0,onChange:function(e,n){n.hoverObj=null},triggerUpdate:!1},autoPauseRedraw:{default:!0,triggerUpdate:!1},onNodeDrag:{default:function(){},triggerUpdate:!1},onNodeDragEnd:{default:function(){},triggerUpdate:!1},onNodeClick:{triggerUpdate:!1},onNodeRightClick:{triggerUpdate:!1},onNodeHover:{triggerUpdate:!1},onLinkClick:{triggerUpdate:!1},onLinkRightClick:{triggerUpdate:!1},onLinkHover:{triggerUpdate:!1},onBackgroundClick:{triggerUpdate:!1},onBackgroundRightClick:{triggerUpdate:!1},onZoom:{triggerUpdate:!1},onZoomEnd:{triggerUpdate:!1},onRenderFramePre:{triggerUpdate:!1},onRenderFramePost:{triggerUpdate:!1}},yRt),aliases:{stopAnimation:"pauseAnimation"},methods:Ov({graph2ScreenCoords:function(e,n,r){var s=Rf(e.canvas);return{x:n*s.k+s.x,y:r*s.k+s.y}},screen2GraphCoords:function(e,n,r){var s=Rf(e.canvas);return{x:(n-s.x)/s.k,y:(r-s.y)/s.k}},centerAt:function(e,n,r,s){if(!e.canvas)return null;if(n!==void 0||r!==void 0){var a=Object.assign({},n!==void 0?{x:n}:{},r!==void 0?{y:r}:{});return s?e.tweenGroup.add(new B6(o()).to(a,s).easing(gy.Quadratic.Out).onUpdate(l).start()):l(a),this}return o();function o(){var u=Rf(e.canvas);return{x:(e.width/2-u.x)/u.k,y:(e.height/2-u.y)/u.k}}function l(u){var f=u.x,h=u.y;e.zoom.translateTo(e.zoom.__baseElem,f===void 0?o().x:f,h===void 0?o().y:h),e.needsRedraw=!0}},zoom:function(e,n,r){if(!e.canvas)return null;if(n!==void 0)return r?e.tweenGroup.add(new B6({k:s()}).to({k:n},r).easing(gy.Quadratic.Out).onUpdate(function(o){var l=o.k;return a(l)}).start()):a(n),this;return s();function s(){return Rf(e.canvas).k}function a(o){e.zoom.scaleTo(e.zoom.__baseElem,o),e.needsRedraw=!0}},zoomToFit:function(e){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,s=arguments.length,a=new Array(s>3?s-3:0),o=3;o<s;o++)a[o-3]=arguments[o];var l=this.getGraphBbox.apply(this,a);if(l){var u={x:(l.x[0]+l.x[1])/2,y:(l.y[0]+l.y[1])/2},f=Math.max(1e-12,Math.min(1e12,(e.width-r*2)/(l.x[1]-l.x[0]),(e.height-r*2)/(l.y[1]-l.y[0])));this.centerAt(u.x,u.y,n),this.zoom(f,n)}return this},getGraphBbox:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return!0},r=Ke(e.nodeVal),s=function(l){return Math.sqrt(Math.max(0,r(l)||1))*e.nodeRelSize},a=e.graphData.nodes.filter(n).map(function(o){return{x:o.x,y:o.y,r:s(o)}});return a.length?{x:[J3(a,function(o){return o.x-o.r}),Q3(a,function(o){return o.x+o.r})],y:[J3(a,function(o){return o.y-o.r}),Q3(a,function(o){return o.y+o.r})]}:null},pauseAnimation:function(e){return e.animationFrameRequestId&&(cancelAnimationFrame(e.animationFrameRequestId),e.animationFrameRequestId=null),this},resumeAnimation:function(e){return e.animationFrameRequestId||this._animationCycle(),this},_destructor:function(){this.pauseAnimation(),this.graphData({nodes:[],links:[]})}},vRt),stateInit:function(){return{lastSetZoom:1,zoom:UAt(),forceGraph:new KC,shadowGraph:new KC().cooldownTicks(0).nodeColor("__indexColor").linkColor("__indexColor").isShadow(!0),colorTracker:new aCt,tweenGroup:new BW}},init:function(e,n){var r=this;e.innerHTML="";var s=document.createElement("div");s.classList.add("force-graph-container"),s.style.position="relative",e.appendChild(s),n.canvas=document.createElement("canvas"),n.backgroundColor&&(n.canvas.style.background=n.backgroundColor),s.appendChild(n.canvas),n.shadowCanvas=document.createElement("canvas");var a=n.canvas.getContext("2d"),o=n.shadowCanvas.getContext("2d",{willReadFrequently:!0}),l={x:-1e12,y:-1e12},u=function(){var p=null,y=window.devicePixelRatio,_=l.x>0&&l.y>0?o.getImageData(l.x*y,l.y*y,1,1):null;return _&&(p=n.colorTracker.lookup(_.data)),p};Ou(n.canvas).call($Tt().subject(function(){if(!n.enableNodeDrag)return null;var h=u();return h&&h.type==="Node"?h.d:null}).on("start",function(h){var p=h.subject;p.__initialDragPos={x:p.x,y:p.y,fx:p.fx,fy:p.fy},h.active||(p.fx=p.x,p.fy=p.y),n.canvas.classList.add("grabbable")}).on("drag",function(h){var p=h.subject,y=p.__initialDragPos,_=h,x=Rf(n.canvas).k,S={x:y.x+(_.x-y.x)/x-p.x,y:y.y+(_.y-y.y)/x-p.y};["x","y"].forEach(function(E){return p["f".concat(E)]=p[E]=y[E]+(_[E]-y[E])/x}),!(!p.__dragged&&mRt>=Math.sqrt(FAt(["x","y"].map(function(E){return Math.pow(h[E]-y[E],2)}))))&&(n.forceGraph.d3AlphaTarget(.3).resetCountdown(),n.isPointerDragging=!0,p.__dragged=!0,n.onNodeDrag(p,S))}).on("end",function(h){var p=h.subject,y=p.__initialDragPos,_={x:p.x-y.x,y:p.y-y.y};y.fx===void 0&&(p.fx=void 0),y.fy===void 0&&(p.fy=void 0),delete p.__initialDragPos,n.forceGraph.d3AlphaTarget()&&n.forceGraph.d3AlphaTarget(0).resetCountdown(),n.canvas.classList.remove("grabbable"),n.isPointerDragging=!1,p.__dragged&&(delete p.__dragged,n.onNodeDragEnd(p,_))})),n.zoom(n.zoom.__baseElem=Ou(n.canvas)),n.zoom.__baseElem.on("dblclick.zoom",null),n.zoom.filter(function(h){return!h.button&&n.enableZoomPanInteraction&&(h.type!=="wheel"||Ke(n.enableZoomInteraction)(h))&&(h.type==="wheel"||Ke(n.enablePanInteraction)(h))}).on("zoom",function(h){var p=h.transform;[a,o].forEach(function(y){SX(y),y.translate(p.x,p.y),y.scale(p.k,p.k)}),n.isPointerDragging=!0,n.onZoom&&n.onZoom(Ov(Ov({},p),r.centerAt())),n.needsRedraw=!0}).on("end",function(h){n.isPointerDragging=!1,n.onZoomEnd&&n.onZoomEnd(Ov(Ov({},h.transform),r.centerAt()))}),HP(n),n.forceGraph.onNeedsRedraw(function(){return n.needsRedraw=!0}).onFinishUpdate(function(){Rf(n.canvas).k===n.lastSetZoom&&n.graphData.nodes.length&&(n.zoom.scaleTo(n.zoom.__baseElem,n.lastSetZoom=pRt/Math.cbrt(n.graphData.nodes.length)),n.needsRedraw=!0)}),n.tooltip=new MCt(s),["pointermove","pointerdown"].forEach(function(h){return s.addEventListener(h,function(p){h==="pointerdown"&&(n.isPointerPressed=!0,n.pointerDownEvent=p),!n.isPointerDragging&&p.type==="pointermove"&&n.onBackgroundClick&&(p.pressure>0||n.isPointerPressed)&&(p.pointerType!=="touch"||p.movementX===void 0||[p.movementX,p.movementY].some(function(x){return Math.abs(x)>1}))&&(n.isPointerDragging=!0);var y=_(s);l.x=p.pageX-y.left,l.y=p.pageY-y.top;function _(x){var S=x.getBoundingClientRect(),E=window.pageXOffset||document.documentElement.scrollLeft,b=window.pageYOffset||document.documentElement.scrollTop;return{top:S.top+b,left:S.left+E}}},{passive:!0})}),s.addEventListener("pointerup",function(h){if(n.isPointerPressed=!1,n.isPointerDragging){n.isPointerDragging=!1;return}var p=[h,n.pointerDownEvent];requestAnimationFrame(function(){if(h.button===0)if(n.hoverObj){var y=n["on".concat(n.hoverObj.type,"Click")];y&&y.apply(void 0,[n.hoverObj.d].concat(p))}else n.onBackgroundClick&&n.onBackgroundClick.apply(n,p);if(h.button===2)if(n.hoverObj){var _=n["on".concat(n.hoverObj.type,"RightClick")];_&&_.apply(void 0,[n.hoverObj.d].concat(p))}else n.onBackgroundRightClick&&n.onBackgroundRightClick.apply(n,p)})},{passive:!0}),s.addEventListener("contextmenu",function(h){return!n.onBackgroundRightClick&&!n.onNodeRightClick&&!n.onLinkRightClick?!0:(h.preventDefault(),!1)}),n.forceGraph(a),n.shadowGraph(o);var f=dMt(function(){g8(o,n.width,n.height),n.shadowGraph.linkWidth(function(p){return Ke(n.linkWidth)(p)+n.linkHoverPrecision});var h=Rf(n.canvas);n.shadowGraph.globalScale(h.k).tickFrame()},dRt);n.flushShadowCanvas=f.flush,(this._animationCycle=function h(){var p=!n.autoPauseRedraw||!!n.needsRedraw||n.forceGraph.isEngineRunning()||n.graphData.links.some(function(C){return C.__photons&&C.__photons.length});if(n.needsRedraw=!1,n.enablePointerInteraction){var y=n.isPointerDragging?null:u();if(y!==n.hoverObj){var _=n.hoverObj,x=_?_.type:null,S=y?y.type:null;if(x&&x!==S){var E=n["on".concat(x,"Hover")];E&&E(null,_.d)}if(S){var b=n["on".concat(S,"Hover")];b&&b(y.d,x===S?_.d:null)}n.tooltip.content(y&&Ke(n["".concat(y.type.toLowerCase(),"Label")])(y.d)||null),n.canvas.classList[y&&n["on".concat(S,"Click")]||!y&&n.onBackgroundClick?"add":"remove"]("clickable"),n.hoverObj=y}p&&f()}if(p){g8(a,n.width,n.height);var A=Rf(n.canvas).k;n.onRenderFramePre&&n.onRenderFramePre(a,A),n.forceGraph.globalScale(A).tickFrame(),n.onRenderFramePost&&n.onRenderFramePost(a,A)}n.tweenGroup.update(),n.animationFrameRequestId=requestAnimationFrame(h)})()},update:function(e){}});const GR={width:Mt.number,height:Mt.number,graphData:Mt.shape({nodes:Mt.arrayOf(Mt.object).isRequired,links:Mt.arrayOf(Mt.object).isRequired}),backgroundColor:Mt.string,nodeRelSize:Mt.number,nodeId:Mt.string,nodeLabel:Mt.oneOfType([Mt.string,Mt.func]),nodeVal:Mt.oneOfType([Mt.number,Mt.string,Mt.func]),nodeVisibility:Mt.oneOfType([Mt.bool,Mt.string,Mt.func]),nodeColor:Mt.oneOfType([Mt.string,Mt.func]),nodeAutoColorBy:Mt.oneOfType([Mt.string,Mt.func]),onNodeHover:Mt.func,onNodeClick:Mt.func,linkSource:Mt.string,linkTarget:Mt.string,linkLabel:Mt.oneOfType([Mt.string,Mt.func]),linkVisibility:Mt.oneOfType([Mt.bool,Mt.string,Mt.func]),linkColor:Mt.oneOfType([Mt.string,Mt.func]),linkAutoColorBy:Mt.oneOfType([Mt.string,Mt.func]),linkWidth:Mt.oneOfType([Mt.number,Mt.string,Mt.func]),linkCurvature:Mt.oneOfType([Mt.number,Mt.string,Mt.func]),linkDirectionalArrowLength:Mt.oneOfType([Mt.number,Mt.string,Mt.func]),linkDirectionalArrowColor:Mt.oneOfType([Mt.string,Mt.func]),linkDirectionalArrowRelPos:Mt.oneOfType([Mt.number,Mt.string,Mt.func]),linkDirectionalParticles:Mt.oneOfType([Mt.number,Mt.string,Mt.func]),linkDirectionalParticleSpeed:Mt.oneOfType([Mt.number,Mt.string,Mt.func]),linkDirectionalParticleWidth:Mt.oneOfType([Mt.number,Mt.string,Mt.func]),linkDirectionalParticleColor:Mt.oneOfType([Mt.string,Mt.func]),onLinkHover:Mt.func,onLinkClick:Mt.func,dagMode:Mt.oneOf(["td","bu","lr","rl","zin","zout","radialin","radialout"]),dagLevelDistance:Mt.number,dagNodeFilter:Mt.func,onDagError:Mt.func,d3AlphaMin:Mt.number,d3AlphaDecay:Mt.number,d3VelocityDecay:Mt.number,warmupTicks:Mt.number,cooldownTicks:Mt.number,cooldownTime:Mt.number,onEngineTick:Mt.func,onEngineStop:Mt.func,getGraphBbox:Mt.func},EX={zoomToFit:Mt.func,onNodeRightClick:Mt.func,onNodeDrag:Mt.func,onNodeDragEnd:Mt.func,onLinkRightClick:Mt.func,linkHoverPrecision:Mt.number,onBackgroundClick:Mt.func,onBackgroundRightClick:Mt.func,enablePointerInteraction:Mt.bool,enableNodeDrag:Mt.bool},z4={showNavInfo:Mt.bool,nodeOpacity:Mt.number,nodeResolution:Mt.number,nodeThreeObject:Mt.oneOfType([Mt.object,Mt.string,Mt.func]),nodeThreeObjectExtend:Mt.oneOfType([Mt.bool,Mt.string,Mt.func]),linkOpacity:Mt.number,linkResolution:Mt.number,linkCurveRotation:Mt.oneOfType([Mt.number,Mt.string,Mt.func]),linkMaterial:Mt.oneOfType([Mt.object,Mt.string,Mt.func]),linkThreeObject:Mt.oneOfType([Mt.object,Mt.string,Mt.func]),linkThreeObjectExtend:Mt.oneOfType([Mt.bool,Mt.string,Mt.func]),linkPositionUpdate:Mt.func,linkDirectionalArrowResolution:Mt.number,linkDirectionalParticleResolution:Mt.number,forceEngine:Mt.oneOf(["d3","ngraph"]),ngraphPhysics:Mt.object,numDimensions:Mt.oneOf([1,2,3])},bRt=Object.assign({},GR,EX,{linkLineDash:Mt.oneOfType([Mt.arrayOf(Mt.number),Mt.string,Mt.func]),nodeCanvasObjectMode:Mt.oneOfType([Mt.string,Mt.func]),nodeCanvasObject:Mt.func,nodePointerAreaPaint:Mt.func,linkCanvasObjectMode:Mt.oneOfType([Mt.string,Mt.func]),linkCanvasObject:Mt.func,linkPointerAreaPaint:Mt.func,autoPauseRedraw:Mt.bool,minZoom:Mt.number,maxZoom:Mt.number,enableZoomInteraction:Mt.oneOfType([Mt.bool,Mt.func]),enablePanInteraction:Mt.oneOfType([Mt.bool,Mt.func]),onZoom:Mt.func,onZoomEnd:Mt.func,onRenderFramePre:Mt.func,onRenderFramePost:Mt.func});Object.assign({},GR,EX,z4,{enableNavigationControls:Mt.bool,controlType:Mt.oneOf(["trackball","orbit","fly"]),rendererConfig:Mt.object,extraRenderers:Mt.arrayOf(Mt.shape({render:Mt.func.isRequired}))});Object.assign({},GR,z4,{nodeDesc:Mt.oneOfType([Mt.string,Mt.func]),linkDesc:Mt.oneOfType([Mt.string,Mt.func])});Object.assign({},GR,z4,{markerAttrs:Mt.object,yOffset:Mt.number,glScale:Mt.number});const B4=rEt(_Rt,{methodNames:["emitParticle","d3Force","d3ReheatSimulation","stopAnimation","pauseAnimation","resumeAnimation","centerAt","zoom","zoomToFit","getGraphBbox","screen2GraphCoords","graph2ScreenCoords"]});B4.displayName="ForceGraph2D";B4.propTypes=bRt;const bd=Ya,F4={display:"flex",justifyContent:"center",flexDirection:"column",height:"100%",alignItems:"center",backgroundColor:bd.palette.formStyles.containerBackgroundColor,"& .MuiFormLabel-root":{marginBottom:"3rem"},"& .MuiInputBase-root":{backgroundColor:bd.palette.formStyles.cardBackgroundColor},"& input":{}},xRt={backgroundColor:bd.palette.formStyles.cardBackgroundColor,padding:"40px",border:`2px solid ${bd.palette.formStyles.borderColor}`,borderRadius:"4px",marginTop:"20px","& .MuiFormGroup-root":{color:bd.palette.text.secondary,fontWeight:"600"}},SRt={fontSize:"1.5rem",fontWeight:"600",marginBottom:"2rem",textAlign:"center"},ERt=i=>({display:"flex",flexDirection:"column-reverse",justifyContent:"space-around",width:"100vw","& .MuiTypography-root":{fontSize:"0.75rem",textAlign:"center",display:i?"block":"none",color:bd.palette.action.deactivate,marginTop:"3px",fontWeight:"400"}});bd.palette.formStyles.containerBackgroundColor;const TRt=i=>({display:i?"none":"block","& .MuiLinearProgress-root":{marginTop:"1.8em",marginLeft:"2em",height:"1em",borderRadius:"5px"}}),wRt=i=>({display:i?"block":"none","& p":{marginTop:"1.8em",height:"1em",color:bd.palette.text.secondary}," & div":{paddingLeft:"2em",paddingTop:"1em",color:bd.palette.text.secondary}}),ARt=i=>({display:i?"none":"block",margin:"auto","& .MuiCircularProgress-root":{width:"100px !important",height:"100px !important"}}),MRt=i=>({display:i?"block":"none",margin:"auto"}),CRt=({graphStepFinalData:i,isUploadFirestore:e})=>{const n=tt.useRef(null);return tt.useEffect(()=>{var r;if(n.current&&((r=i==null?void 0:i.nodes)==null?void 0:r.length)>=2){const[s,a]=i.nodes,o=s.x!==void 0&&a.x!==void 0?(s.x+a.x)/2:0,l=s.y!==void 0&&a.y!==void 0?(s.y+a.y)/2:0;setTimeout(()=>{n.current.centerAt(o,l,1500)},300),setTimeout(()=>{n.current.zoom(8,1e3)},1800)}},[i]),K.jsxs(K.Fragment,{children:[K.jsx(Oi,{sx:ARt(e),children:K.jsx(lU,{})}),K.jsx(Oi,{sx:MRt(e),children:K.jsx(B4,{ref:n,graphData:i,nodeRelSize:3,linkWidth:10,dagMode:"td",enablePanInteraction:!1,enablePointerInteraction:!1,enableZoomInteraction:!1,minZoom:8,linkCurvature:.1,linkDirectionalParticles:4,height:150,nodeCanvasObject:(r,s,a)=>{const o=r.name,l=18/a,u=6;s.save(),s.translate(r.x,r.y),s.beginPath(),s.arc(0,0,u,0,2*Math.PI,!1),s.fillStyle="#1976d2",s.fill(),s.lineWidth=.4,s.strokeStyle="black",s.stroke(),s.font=`${l}px Sans-Serif`,s.textAlign="center",s.textBaseline="middle",s.strokeStyle="black",s.lineWidth=.2,s.strokeText(o,0,0),s.fillStyle="white",s.fillText(o,0,0),s.restore()}})})]})};var jP,y8;function V4(){if(y8)return jP;y8=1,jP=function(r){e(r);var s=i(r);return r.on=s.on,r.off=s.off,r.fire=s.fire,r};function i(n){var r=Object.create(null);return{on:function(s,a,o){if(typeof a!="function")throw new Error("callback is expected to be a function");var l=r[s];return l||(l=r[s]=[]),l.push({callback:a,ctx:o}),n},off:function(s,a){var o=typeof s>"u";if(o)return r=Object.create(null),n;if(r[s]){var l=typeof a!="function";if(l)delete r[s];else for(var u=r[s],f=0;f<u.length;++f)u[f].callback===a&&u.splice(f,1)}return n},fire:function(s){var a=r[s];if(!a)return n;var o;arguments.length>1&&(o=Array.prototype.splice.call(arguments,1));for(var l=0;l<a.length;++l){var u=a[l];u.callback.apply(u.ctx,o)}return n}}}function e(n){if(!n)throw new Error("Eventify cannot use falsy object as events subject");for(var r=["on","fire","off"],s=0;s<r.length;++s)if(n.hasOwnProperty(r[s]))throw new Error("Subject cannot be eventified, since it already has property '"+r[s]+"'")}return jP}var GP,v8;function RRt(){if(v8)return GP;v8=1,GP=e;var i=V4();function e(o){if(o=o||{},"uniqueLinkId"in o&&(console.warn("ngraph.graph: Starting from version 0.14 `uniqueLinkId` is deprecated.\nUse `multigraph` option instead\n",`
`,`Note: there is also change in default behavior: From now on each graph
is considered to be not a multigraph by default (each edge is unique).`),o.multigraph=o.uniqueLinkId),o.multigraph===void 0&&(o.multigraph=!1),typeof Map!="function")throw new Error("ngraph.graph requires `Map` to be defined. Please polyfill it before using ngraph");var l=new Map,u=new Map,f={},h=0,p=o.multigraph?O:U,y=[],_=yt,x=yt,S=yt,E=yt,b={version:20,addNode:I,addLink:L,removeLink:X,removeNode:N,getNode:k,getNodeCount:B,getLinkCount:H,getEdgeCount:H,getLinksCount:H,getNodesCount:B,getLinks:V,forEachNode:dt,forEachLinkedNode:nt,forEachLink:Z,beginUpdate:S,endUpdate:E,clear:W,hasLink:q,hasNode:k,getLink:q};return i(b),A(),b;function A(){var ft=b.on;b.on=gt;function gt(){return b.beginUpdate=S=xt,b.endUpdate=E=it,_=C,x=M,b.on=ft,ft.apply(b,arguments)}}function C(ft,gt){y.push({link:ft,changeType:gt})}function M(ft,gt){y.push({node:ft,changeType:gt})}function I(ft,gt){if(ft===void 0)throw new Error("Invalid node identifier");S();var wt=k(ft);return wt?(wt.data=gt,x(wt,"update")):(wt=new n(ft,gt),x(wt,"add")),l.set(ft,wt),E(),wt}function k(ft){return l.get(ft)}function N(ft){var gt=k(ft);if(!gt)return!1;S();var wt=gt.links;return wt&&(wt.forEach(et),gt.links=null),l.delete(ft),x(gt,"remove"),E(),!0}function L(ft,gt,wt){S();var Kt=k(ft)||I(ft),kt=k(gt)||I(gt),ee=p(ft,gt,wt),Pt=u.has(ee.id);return u.set(ee.id,ee),r(Kt,ee),ft!==gt&&r(kt,ee),_(ee,Pt?"update":"add"),E(),ee}function U(ft,gt,wt){var Kt=a(ft,gt),kt=u.get(Kt);return kt?(kt.data=wt,kt):new s(ft,gt,wt,Kt)}function O(ft,gt,wt){var Kt=a(ft,gt),kt=f.hasOwnProperty(Kt);if(kt||q(ft,gt)){kt||(f[Kt]=0);var ee="@"+ ++f[Kt];Kt=a(ft+ee,gt+ee)}return new s(ft,gt,wt,Kt)}function B(){return l.size}function H(){return u.size}function V(ft){var gt=k(ft);return gt?gt.links:null}function X(ft,gt){return gt!==void 0&&(ft=q(ft,gt)),et(ft)}function et(ft){if(!ft||!u.get(ft.id))return!1;S(),u.delete(ft.id);var gt=k(ft.fromId),wt=k(ft.toId);return gt&&gt.links.delete(ft),wt&&wt.links.delete(ft),_(ft,"remove"),E(),!0}function q(ft,gt){if(!(ft===void 0||gt===void 0))return u.get(a(ft,gt))}function W(){S(),dt(function(ft){N(ft.id)}),E()}function Z(ft){if(typeof ft=="function")for(var gt=u.values(),wt=gt.next();!wt.done;){if(ft(wt.value))return!0;wt=gt.next()}}function nt(ft,gt,wt){var Kt=k(ft);if(Kt&&Kt.links&&typeof gt=="function")return wt?ht(Kt.links,ft,gt):Q(Kt.links,ft,gt)}function Q(ft,gt,wt){for(var Kt,kt=ft.values(),ee=kt.next();!ee.done;){var Pt=ee.value,Vt=Pt.fromId===gt?Pt.toId:Pt.fromId;if(Kt=wt(l.get(Vt),Pt),Kt)return!0;ee=kt.next()}}function ht(ft,gt,wt){for(var Kt,kt=ft.values(),ee=kt.next();!ee.done;){var Pt=ee.value;if(Pt.fromId===gt&&(Kt=wt(l.get(Pt.toId),Pt),Kt))return!0;ee=kt.next()}}function yt(){}function xt(){h+=1}function it(){h-=1,h===0&&y.length>0&&(b.fire("changed",y),y.length=0)}function dt(ft){if(typeof ft!="function")throw new Error("Function is expected to iterate over graph nodes. You passed "+ft);for(var gt=l.values(),wt=gt.next();!wt.done;){if(ft(wt.value))return!0;wt=gt.next()}}}function n(o,l){this.id=o,this.links=null,this.data=l}function r(o,l){o.links?o.links.add(l):o.links=new Set([l])}function s(o,l,u,f){this.fromId=o,this.toId=l,this.data=u,this.id=f}function a(o,l){return o.toString()+" "+l.toString()}return GP}var ORt=RRt();const IRt=oh(ORt);var pA={exports:{}},Iv={exports:{}},qP,_8;function TX(){return _8||(_8=1,qP=function(e){return e===0?"x":e===1?"y":e===2?"z":"c"+(e+1)}),qP}var $P,b8;function cb(){if(b8)return $P;b8=1;const i=TX();return $P=function(n){return r;function r(s,a){let o=a&&a.indent||0,l=a&&a.join!==void 0?a.join:`
`,u=Array(o+1).join(" "),f=[];for(let h=0;h<n;++h){let p=i(h),y=h===0?"":u;f.push(y+s.replace(/{var}/g,p))}return f.join(l)}},$P}var x8;function PRt(){if(x8)return Iv.exports;x8=1;const i=cb();Iv.exports=e,Iv.exports.generateCreateBodyFunctionBody=n,Iv.exports.getVectorCode=s,Iv.exports.getBodyCode=r;function e(a,o){let l=n(a,o),{Body:u}=new Function(l)();return u}function n(a,o){return`
${s(a,o)}
${r(a)}
return {Body: Body, Vector: Vector};
`}function r(a){let o=i(a),l=o("{var}",{join:", "});return`
function Body(${l}) {
  this.isPinned = false;
  this.pos = new Vector(${l});
  this.force = new Vector();
  this.velocity = new Vector();
  this.mass = 1;

  this.springCount = 0;
  this.springLength = 0;
}

Body.prototype.reset = function() {
  this.force.reset();
  this.springCount = 0;
  this.springLength = 0;
}

Body.prototype.setPosition = function (${l}) {
  ${o("this.pos.{var} = {var} || 0;",{indent:2})}
};`}function s(a,o){let l=i(a),u="";return o&&(u=`${l(`
	   var v{var};
	Object.defineProperty(this, '{var}', {
	  set: function(v) { 
	    if (!Number.isFinite(v)) throw new Error('Cannot set non-numbers to {var}');
	    v{var} = v; 
	  },
	  get: function() { return v{var}; }
	});`)}`),`function Vector(${l("{var}",{join:", "})}) {
  ${u}
    if (typeof arguments[0] === 'object') {
      // could be another vector
      let v = arguments[0];
      ${l('if (!Number.isFinite(v.{var})) throw new Error("Expected value is not a finite number at Vector constructor ({var})");',{indent:4})}
      ${l("this.{var} = v.{var};",{indent:4})}
    } else {
      ${l('this.{var} = typeof {var} === "number" ? {var} : 0;',{indent:4})}
    }
  }
  
  Vector.prototype.reset = function () {
    ${l("this.{var} = ",{join:""})}0;
  };`}return Iv.exports}var Jh={exports:{}},S8;function DRt(){if(S8)return Jh.exports;S8=1;const i=cb(),e=TX();Jh.exports=n,Jh.exports.generateQuadTreeFunctionBody=r,Jh.exports.getInsertStackCode=u,Jh.exports.getQuadNodeCode=l,Jh.exports.isSamePosition=s,Jh.exports.getChildBodyCode=o,Jh.exports.setChildBodyCode=a;function n(f){let h=r(f);return new Function(h)()}function r(f){let h=i(f),p=Math.pow(2,f);return`
${u()}
${l(f)}
${s(f)}
${o(f)}
${a(f)}

function createQuadTree(options, random) {
  options = options || {};
  options.gravity = typeof options.gravity === 'number' ? options.gravity : -1;
  options.theta = typeof options.theta === 'number' ? options.theta : 0.8;

  var gravity = options.gravity;
  var updateQueue = [];
  var insertStack = new InsertStack();
  var theta = options.theta;

  var nodesCache = [];
  var currentInCache = 0;
  var root = newNode();

  return {
    insertBodies: insertBodies,

    /**
     * Gets root node if it is present
     */
    getRoot: function() {
      return root;
    },

    updateBodyForce: update,

    options: function(newOptions) {
      if (newOptions) {
        if (typeof newOptions.gravity === 'number') {
          gravity = newOptions.gravity;
        }
        if (typeof newOptions.theta === 'number') {
          theta = newOptions.theta;
        }

        return this;
      }

      return {
        gravity: gravity,
        theta: theta
      };
    }
  };

  function newNode() {
    // To avoid pressure on GC we reuse nodes.
    var node = nodesCache[currentInCache];
    if (node) {
${S("      node.")}
      node.body = null;
      node.mass = ${h("node.mass_{var} = ",{join:""})}0;
      ${h("node.min_{var} = node.max_{var} = ",{join:""})}0;
    } else {
      node = new QuadNode();
      nodesCache[currentInCache] = node;
    }

    ++currentInCache;
    return node;
  }

  function update(sourceBody) {
    var queue = updateQueue;
    var v;
    ${h("var d{var};",{indent:4})}
    var r; 
    ${h("var f{var} = 0;",{indent:4})}
    var queueLength = 1;
    var shiftIdx = 0;
    var pushIdx = 1;

    queue[0] = root;

    while (queueLength) {
      var node = queue[shiftIdx];
      var body = node.body;

      queueLength -= 1;
      shiftIdx += 1;
      var differentBody = (body !== sourceBody);
      if (body && differentBody) {
        // If the current node is a leaf node (and it is not source body),
        // calculate the force exerted by the current node on body, and add this
        // amount to body's net force.
        ${h("d{var} = body.pos.{var} - sourceBody.pos.{var};",{indent:8})}
        r = Math.sqrt(${h("d{var} * d{var}",{join:" + "})});

        if (r === 0) {
          // Poor man's protection against zero distance.
          ${h("d{var} = (random.nextDouble() - 0.5) / 50;",{indent:10})}
          r = Math.sqrt(${h("d{var} * d{var}",{join:" + "})});
        }

        // This is standard gravitation force calculation but we divide
        // by r^3 to save two operations when normalizing force vector.
        v = gravity * body.mass * sourceBody.mass / (r * r * r);
        ${h("f{var} += v * d{var};",{indent:8})}
      } else if (differentBody) {
        // Otherwise, calculate the ratio s / r,  where s is the width of the region
        // represented by the internal node, and r is the distance between the body
        // and the node's center-of-mass
        ${h("d{var} = node.mass_{var} / node.mass - sourceBody.pos.{var};",{indent:8})}
        r = Math.sqrt(${h("d{var} * d{var}",{join:" + "})});

        if (r === 0) {
          // Sorry about code duplication. I don't want to create many functions
          // right away. Just want to see performance first.
          ${h("d{var} = (random.nextDouble() - 0.5) / 50;",{indent:10})}
          r = Math.sqrt(${h("d{var} * d{var}",{join:" + "})});
        }
        // If s / r < , treat this internal node as a single body, and calculate the
        // force it exerts on sourceBody, and add this amount to sourceBody's net force.
        if ((node.max_${e(0)} - node.min_${e(0)}) / r < theta) {
          // in the if statement above we consider node's width only
          // because the region was made into square during tree creation.
          // Thus there is no difference between using width or height.
          v = gravity * node.mass * sourceBody.mass / (r * r * r);
          ${h("f{var} += v * d{var};",{indent:10})}
        } else {
          // Otherwise, run the procedure recursively on each of the current node's children.

          // I intentionally unfolded this loop, to save several CPU cycles.
${x()}
        }
      }
    }

    ${h("sourceBody.force.{var} += f{var};",{indent:4})}
  }

  function insertBodies(bodies) {
    ${h("var {var}min = Number.MAX_VALUE;",{indent:4})}
    ${h("var {var}max = Number.MIN_VALUE;",{indent:4})}
    var i = bodies.length;

    // To reduce quad tree depth we are looking for exact bounding box of all particles.
    while (i--) {
      var pos = bodies[i].pos;
      ${h("if (pos.{var} < {var}min) {var}min = pos.{var};",{indent:6})}
      ${h("if (pos.{var} > {var}max) {var}max = pos.{var};",{indent:6})}
    }

    // Makes the bounds square.
    var maxSideLength = -Infinity;
    ${h("if ({var}max - {var}min > maxSideLength) maxSideLength = {var}max - {var}min ;",{indent:4})}

    currentInCache = 0;
    root = newNode();
    ${h("root.min_{var} = {var}min;",{indent:4})}
    ${h("root.max_{var} = {var}min + maxSideLength;",{indent:4})}

    i = bodies.length - 1;
    if (i >= 0) {
      root.body = bodies[i];
    }
    while (i--) {
      insert(bodies[i], root);
    }
  }

  function insert(newBody) {
    insertStack.reset();
    insertStack.push(root, newBody);

    while (!insertStack.isEmpty()) {
      var stackItem = insertStack.pop();
      var node = stackItem.node;
      var body = stackItem.body;

      if (!node.body) {
        // This is internal node. Update the total mass of the node and center-of-mass.
        ${h("var {var} = body.pos.{var};",{indent:8})}
        node.mass += body.mass;
        ${h("node.mass_{var} += body.mass * {var};",{indent:8})}

        // Recursively insert the body in the appropriate quadrant.
        // But first find the appropriate quadrant.
        var quadIdx = 0; // Assume we are in the 0's quad.
        ${h("var min_{var} = node.min_{var};",{indent:8})}
        ${h("var max_{var} = (min_{var} + node.max_{var}) / 2;",{indent:8})}

${_(8)}

        var child = getChild(node, quadIdx);

        if (!child) {
          // The node is internal but this quadrant is not taken. Add
          // subnode to it.
          child = newNode();
          ${h("child.min_{var} = min_{var};",{indent:10})}
          ${h("child.max_{var} = max_{var};",{indent:10})}
          child.body = body;

          setChild(node, quadIdx, child);
        } else {
          // continue searching in this quadrant.
          insertStack.push(child, body);
        }
      } else {
        // We are trying to add to the leaf node.
        // We have to convert current leaf into internal node
        // and continue adding two nodes.
        var oldBody = node.body;
        node.body = null; // internal nodes do not cary bodies

        if (isSamePosition(oldBody.pos, body.pos)) {
          // Prevent infinite subdivision by bumping one node
          // anywhere in this quadrant
          var retriesCount = 3;
          do {
            var offset = random.nextDouble();
            ${h("var d{var} = (node.max_{var} - node.min_{var}) * offset;",{indent:12})}

            ${h("oldBody.pos.{var} = node.min_{var} + d{var};",{indent:12})}
            retriesCount -= 1;
            // Make sure we don't bump it out of the box. If we do, next iteration should fix it
          } while (retriesCount > 0 && isSamePosition(oldBody.pos, body.pos));

          if (retriesCount === 0 && isSamePosition(oldBody.pos, body.pos)) {
            // This is very bad, we ran out of precision.
            // if we do not return from the method we'll get into
            // infinite loop here. So we sacrifice correctness of layout, and keep the app running
            // Next layout iteration should get larger bounding box in the first step and fix this
            return;
          }
        }
        // Next iteration should subdivide node further.
        insertStack.push(node, oldBody);
        insertStack.push(node, body);
      }
    }
  }
}
return createQuadTree;

`;function _(E){let b=[],A=Array(E+1).join(" ");for(let C=0;C<f;++C)b.push(A+`if (${e(C)} > max_${e(C)}) {`),b.push(A+`  quadIdx = quadIdx + ${Math.pow(2,C)};`),b.push(A+`  min_${e(C)} = max_${e(C)};`),b.push(A+`  max_${e(C)} = node.max_${e(C)};`),b.push(A+"}");return b.join(`
`)}function x(){let E=Array(11).join(" "),b=[];for(let A=0;A<p;++A)b.push(E+`if (node.quad${A}) {`),b.push(E+`  queue[pushIdx] = node.quad${A};`),b.push(E+"  queueLength += 1;"),b.push(E+"  pushIdx += 1;"),b.push(E+"}");return b.join(`
`)}function S(E){let b=[];for(let A=0;A<p;++A)b.push(`${E}quad${A} = null;`);return b.join(`
`)}}function s(f){let h=i(f);return`
  function isSamePosition(point1, point2) {
    ${h("var d{var} = Math.abs(point1.{var} - point2.{var});",{indent:2})}
  
    return ${h("d{var} < 1e-8",{join:" && "})};
  }  
`}function a(f){var h=Math.pow(2,f);return`
function setChild(node, idx, child) {
  ${p()}
}`;function p(){let y=[];for(let _=0;_<h;++_){let x=_===0?"  ":"  else ";y.push(`${x}if (idx === ${_}) node.quad${_} = child;`)}return y.join(`
`)}}function o(f){return`function getChild(node, idx) {
${h()}
  return null;
}`;function h(){let p=[],y=Math.pow(2,f);for(let _=0;_<y;++_)p.push(`  if (idx === ${_}) return node.quad${_};`);return p.join(`
`)}}function l(f){let h=i(f),p=Math.pow(2,f);var y=`
function QuadNode() {
  // body stored inside this node. In quad tree only leaf nodes (by construction)
  // contain bodies:
  this.body = null;

  // Child nodes are stored in quads. Each quad is presented by number:
  // 0 | 1
  // -----
  // 2 | 3
${_("  this.")}

  // Total mass of current node
  this.mass = 0;

  // Center of mass coordinates
  ${h("this.mass_{var} = 0;",{indent:2})}

  // bounding box coordinates
  ${h("this.min_{var} = 0;",{indent:2})}
  ${h("this.max_{var} = 0;",{indent:2})}
}
`;return y;function _(x){let S=[];for(let E=0;E<p;++E)S.push(`${x}quad${E} = null;`);return S.join(`
`)}}function u(){return`
/**
 * Our implementation of QuadTree is non-recursive to avoid GC hit
 * This data structure represent stack of elements
 * which we are trying to insert into quad tree.
 */
function InsertStack () {
    this.stack = [];
    this.popIdx = 0;
}

InsertStack.prototype = {
    isEmpty: function() {
        return this.popIdx === 0;
    },
    push: function (node, body) {
        var item = this.stack[this.popIdx];
        if (!item) {
            // we are trying to avoid memory pressure: create new element
            // only when absolutely necessary
            this.stack[this.popIdx] = new InsertStackElement(node, body);
        } else {
            item.node = node;
            item.body = body;
        }
        ++this.popIdx;
    },
    pop: function () {
        if (this.popIdx > 0) {
            return this.stack[--this.popIdx];
        }
    },
    reset: function () {
        this.popIdx = 0;
    }
};

function InsertStackElement(node, body) {
    this.node = node; // QuadTree node
    this.body = body; // physical body which needs to be inserted to node
}
`}return Jh.exports}var mA={exports:{}},E8;function NRt(){if(E8)return mA.exports;E8=1,mA.exports=e,mA.exports.generateFunctionBody=n;const i=cb();function e(r){let s=n(r);return new Function("bodies","settings","random",s)}function n(r){let s=i(r);return`
  var boundingBox = {
    ${s("min_{var}: 0, max_{var}: 0,",{indent:4})}
  };

  return {
    box: boundingBox,

    update: updateBoundingBox,

    reset: resetBoundingBox,

    getBestNewPosition: function (neighbors) {
      var ${s("base_{var} = 0",{join:", "})};

      if (neighbors.length) {
        for (var i = 0; i < neighbors.length; ++i) {
          let neighborPos = neighbors[i].pos;
          ${s("base_{var} += neighborPos.{var};",{indent:10})}
        }

        ${s("base_{var} /= neighbors.length;",{indent:8})}
      } else {
        ${s("base_{var} = (boundingBox.min_{var} + boundingBox.max_{var}) / 2;",{indent:8})}
      }

      var springLength = settings.springLength;
      return {
        ${s("{var}: base_{var} + (random.nextDouble() - 0.5) * springLength,",{indent:8})}
      };
    }
  };

  function updateBoundingBox() {
    var i = bodies.length;
    if (i === 0) return; // No bodies - no borders.

    ${s("var max_{var} = -Infinity;",{indent:4})}
    ${s("var min_{var} = Infinity;",{indent:4})}

    while(i--) {
      // this is O(n), it could be done faster with quadtree, if we check the root node bounds
      var bodyPos = bodies[i].pos;
      ${s("if (bodyPos.{var} < min_{var}) min_{var} = bodyPos.{var};",{indent:6})}
      ${s("if (bodyPos.{var} > max_{var}) max_{var} = bodyPos.{var};",{indent:6})}
    }

    ${s("boundingBox.min_{var} = min_{var};",{indent:4})}
    ${s("boundingBox.max_{var} = max_{var};",{indent:4})}
  }

  function resetBoundingBox() {
    ${s("boundingBox.min_{var} = boundingBox.max_{var} = 0;",{indent:4})}
  }
`}return mA.exports}var gA={exports:{}},T8;function LRt(){if(T8)return gA.exports;T8=1;const i=cb();gA.exports=e,gA.exports.generateCreateDragForceFunctionBody=n;function e(r){let s=n(r);return new Function("options",s)}function n(r){return`
  if (!Number.isFinite(options.dragCoefficient)) throw new Error('dragCoefficient is not a finite number');

  return {
    update: function(body) {
      ${i(r)("body.force.{var} -= options.dragCoefficient * body.velocity.{var};",{indent:6})}
    }
  };
`}return gA.exports}var yA={exports:{}},w8;function URt(){if(w8)return yA.exports;w8=1;const i=cb();yA.exports=e,yA.exports.generateCreateSpringForceFunctionBody=n;function e(r){let s=n(r);return new Function("options","random",s)}function n(r){let s=i(r);return`
  if (!Number.isFinite(options.springCoefficient)) throw new Error('Spring coefficient is not a number');
  if (!Number.isFinite(options.springLength)) throw new Error('Spring length is not a number');

  return {
    /**
     * Updates forces acting on a spring
     */
    update: function (spring) {
      var body1 = spring.from;
      var body2 = spring.to;
      var length = spring.length < 0 ? options.springLength : spring.length;
      ${s("var d{var} = body2.pos.{var} - body1.pos.{var};",{indent:6})}
      var r = Math.sqrt(${s("d{var} * d{var}",{join:" + "})});

      if (r === 0) {
        ${s("d{var} = (random.nextDouble() - 0.5) / 50;",{indent:8})}
        r = Math.sqrt(${s("d{var} * d{var}",{join:" + "})});
      }

      var d = r - length;
      var coefficient = ((spring.coefficient > 0) ? spring.coefficient : options.springCoefficient) * d / r;

      ${s("body1.force.{var} += coefficient * d{var}",{indent:6})};
      body1.springCount += 1;
      body1.springLength += r;

      ${s("body2.force.{var} -= coefficient * d{var}",{indent:6})};
      body2.springCount += 1;
      body2.springLength += r;
    }
  };
`}return yA.exports}var vA={exports:{}},A8;function kRt(){if(A8)return vA.exports;A8=1;const i=cb();vA.exports=e,vA.exports.generateIntegratorFunctionBody=n;function e(r){let s=n(r);return new Function("bodies","timeStep","adaptiveTimeStepWeight",s)}function n(r){let s=i(r);return`
  var length = bodies.length;
  if (length === 0) return 0;

  ${s("var d{var} = 0, t{var} = 0;",{indent:2})}

  for (var i = 0; i < length; ++i) {
    var body = bodies[i];
    if (body.isPinned) continue;

    if (adaptiveTimeStepWeight && body.springCount) {
      timeStep = (adaptiveTimeStepWeight * body.springLength/body.springCount);
    }

    var coeff = timeStep / body.mass;

    ${s("body.velocity.{var} += coeff * body.force.{var};",{indent:4})}
    ${s("var v{var} = body.velocity.{var};",{indent:4})}
    var v = Math.sqrt(${s("v{var} * v{var}",{join:" + "})});

    if (v > 1) {
      // We normalize it so that we move within timeStep range. 
      // for the case when v <= 1 - we let velocity to fade out.
      ${s("body.velocity.{var} = v{var} / v;",{indent:6})}
    }

    ${s("d{var} = timeStep * body.velocity.{var};",{indent:4})}

    ${s("body.pos.{var} += d{var};",{indent:4})}

    ${s("t{var} += Math.abs(d{var});",{indent:4})}
  }

  return (${s("t{var} * t{var}",{join:" + "})})/length;
`}return vA.exports}var WP,M8;function zRt(){if(M8)return WP;M8=1,WP=i;function i(e,n,r,s){this.from=e,this.to=n,this.length=r,this.coefficient=s}return WP}var XP,C8;function BRt(){if(C8)return XP;C8=1,XP=i;function i(e,n){var r;if(e||(e={}),n){for(r in n)if(n.hasOwnProperty(r)){var s=e.hasOwnProperty(r),a=typeof n[r],o=!s||typeof e[r]!==a;o?e[r]=n[r]:a==="object"&&(e[r]=i(e[r],n[r]))}}return e}return XP}var Zx={exports:{}},R8;function FRt(){if(R8)return Zx.exports;R8=1,Zx.exports=i,Zx.exports.random=i,Zx.exports.randomIterator=l;function i(u){var f=typeof u=="number"?u:+new Date;return new e(f)}function e(u){this.seed=u}e.prototype.next=o,e.prototype.nextDouble=a,e.prototype.uniform=a,e.prototype.gaussian=n,e.prototype.random=a;function n(){var u,f,h;do f=this.nextDouble()*2-1,h=this.nextDouble()*2-1,u=f*f+h*h;while(u>=1||u===0);return f*Math.sqrt(-2*Math.log(u)/u)}e.prototype.levy=r;function r(){var u=1.5,f=Math.pow(s(1+u)*Math.sin(Math.PI*u/2)/(s((1+u)/2)*u*Math.pow(2,(u-1)/2)),1/u);return this.gaussian()*f/Math.pow(Math.abs(this.gaussian()),1/u)}function s(u){return Math.sqrt(2*Math.PI/u)*Math.pow(1/Math.E*(u+1/(12*u-1/(10*u))),u)}function a(){var u=this.seed;return u=u+2127912214+(u<<12)&4294967295,u=(u^3345072700^u>>>19)&4294967295,u=u+374761393+(u<<5)&4294967295,u=(u+3550635116^u<<9)&4294967295,u=u+4251993797+(u<<3)&4294967295,u=(u^3042594569^u>>>16)&4294967295,this.seed=u,(u&268435455)/268435456}function o(u){return Math.floor(this.nextDouble()*u)}function l(u,f){var h=f||i();if(typeof h.next!="function")throw new Error("customRandom does not match expected API: next() function is missing");return{forEach:y,shuffle:p};function p(){var _,x,S;for(_=u.length-1;_>0;--_)x=h.next(_+1),S=u[x],u[x]=u[_],u[_]=S;return u}function y(_){var x,S,E;for(x=u.length-1;x>0;--x)S=h.next(x+1),E=u[S],u[S]=u[x],u[x]=E,_(E);u.length&&_(u[0])}}return Zx.exports}var YP,O8;function I8(){if(O8)return YP;O8=1,YP=l;var i=PRt(),e=DRt(),n=NRt(),r=LRt(),s=URt(),a=kRt(),o={};function l(h){var p=zRt(),y=BRt(),_=V4();if(h){if(h.springCoeff!==void 0)throw new Error("springCoeff was renamed to springCoefficient");if(h.dragCoeff!==void 0)throw new Error("dragCoeff was renamed to dragCoefficient")}h=y(h,{springLength:10,springCoefficient:.8,gravity:-12,theta:.8,dragCoefficient:.9,timeStep:.5,adaptiveTimeStepWeight:0,dimensions:2,debug:!1});var x=o[h.dimensions];if(!x){var S=h.dimensions;x={Body:i(S,h.debug),createQuadTree:e(S),createBounds:n(S),createDragForce:r(S),createSpringForce:s(S),integrate:a(S)},o[S]=x}var E=x.Body,b=x.createQuadTree,A=x.createBounds,C=x.createDragForce,M=x.createSpringForce,I=x.integrate,k=dt=>new E(dt),N=FRt().random(42),L=[],U=[],O=b(h,N),B=A(L,h,N),H=M(h,N),V=C(h),X=0,et=[],q=new Map,W=0;Q("nbody",xt),Q("spring",it);var Z={bodies:L,quadTree:O,springs:U,settings:h,addForce:Q,removeForce:ht,getForces:yt,step:function(){for(var dt=0;dt<et.length;++dt)et[dt](W);var ft=I(L,h.timeStep,h.adaptiveTimeStepWeight);return W+=1,ft},addBody:function(dt){if(!dt)throw new Error("Body is required");return L.push(dt),dt},addBodyAt:function(dt){if(!dt)throw new Error("Body position is required");var ft=k(dt);return L.push(ft),ft},removeBody:function(dt){if(dt){var ft=L.indexOf(dt);if(!(ft<0))return L.splice(ft,1),L.length===0&&B.reset(),!0}},addSpring:function(dt,ft,gt,wt){if(!dt||!ft)throw new Error("Cannot add null spring to force simulator");typeof gt!="number"&&(gt=-1);var Kt=new p(dt,ft,gt,wt>=0?wt:-1);return U.push(Kt),Kt},getTotalMovement:function(){return X},removeSpring:function(dt){if(dt){var ft=U.indexOf(dt);if(ft>-1)return U.splice(ft,1),!0}},getBestNewBodyPosition:function(dt){return B.getBestNewPosition(dt)},getBBox:nt,getBoundingBox:nt,invalidateBBox:function(){console.warn("invalidateBBox() is deprecated, bounds always recomputed on `getBBox()` call")},gravity:function(dt){return dt!==void 0?(h.gravity=dt,O.options({gravity:dt}),this):h.gravity},theta:function(dt){return dt!==void 0?(h.theta=dt,O.options({theta:dt}),this):h.theta},random:N};return u(h,Z),_(Z),Z;function nt(){return B.update(),B.box}function Q(dt,ft){if(q.has(dt))throw new Error("Force "+dt+" is already added");q.set(dt,ft),et.push(ft)}function ht(dt){var ft=et.indexOf(q.get(dt));ft<0||(et.splice(ft,1),q.delete(dt))}function yt(){return q}function xt(){if(L.length!==0){O.insertBodies(L);for(var dt=L.length;dt--;){var ft=L[dt];ft.isPinned||(ft.reset(),O.updateBodyForce(ft),V.update(ft))}}}function it(){for(var dt=U.length;dt--;)H.update(U[dt])}}function u(h,p){for(var y in h)f(h,p,y)}function f(h,p,y){if(h.hasOwnProperty(y)&&typeof p[y]!="function"){var _=Number.isFinite(h[y]);_?p[y]=function(x){if(x!==void 0){if(!Number.isFinite(x))throw new Error("Value of "+y+" should be a valid number.");return h[y]=x,p}return h[y]}:p[y]=function(x){return x!==void 0?(h[y]=x,p):h[y]}}}return YP}var P8;function VRt(){if(P8)return pA.exports;P8=1,pA.exports=e,pA.exports.simulator=I8();var i=V4();function e(r,s){if(!r)throw new Error("Graph structure cannot be undefined");var a=s&&s.createSimulator||I8(),o=a(s);if(Array.isArray(s))throw new Error("Physics settings is expected to be an object");var l=r.version>19?q:et;s&&typeof s.nodeMass=="function"&&(l=s.nodeMass);var u=new Map,f={},h=0,p=o.settings.springTransform||n;k(),C();var y=!1,_={step:function(){if(h===0)return x(!0),!0;var W=o.step();_.lastMove=W,_.fire("step");var Z=W/h,nt=Z<=.01;return x(nt),nt},getNodePosition:function(W){return X(W).pos},setNodePosition:function(W){var Z=X(W);Z.setPosition.apply(Z,Array.prototype.slice.call(arguments,1))},getLinkPosition:function(W){var Z=f[W];if(Z)return{from:Z.from.pos,to:Z.to.pos}},getGraphRect:function(){return o.getBBox()},forEachBody:S,pinNode:function(W,Z){var nt=X(W.id);nt.isPinned=!!Z},isNodePinned:function(W){return X(W.id).isPinned},dispose:function(){r.off("changed",I),_.fire("disposed")},getBody:A,getSpring:b,getForceVectorLength:E,simulator:o,graph:r,lastMove:0};return i(_),_;function x(W){y!==W&&(y=W,M(W))}function S(W){u.forEach(W)}function E(){var W=0,Z=0;return S(function(nt){W+=Math.abs(nt.force.x),Z+=Math.abs(nt.force.y)}),Math.sqrt(W*W+Z*Z)}function b(W,Z){var nt;if(Z===void 0)typeof W!="object"?nt=W:nt=W.id;else{var Q=r.hasLink(W,Z);if(!Q)return;nt=Q.id}return f[nt]}function A(W){return u.get(W)}function C(){r.on("changed",I)}function M(W){_.fire("stable",W)}function I(W){for(var Z=0;Z<W.length;++Z){var nt=W[Z];nt.changeType==="add"?(nt.node&&N(nt.node.id),nt.link&&U(nt.link)):nt.changeType==="remove"&&(nt.node&&L(nt.node),nt.link&&O(nt.link))}h=r.getNodesCount()}function k(){h=0,r.forEachNode(function(W){N(W.id),h+=1}),r.forEachLink(U)}function N(W){var Z=u.get(W);if(!Z){var nt=r.getNode(W);if(!nt)throw new Error("initBody() was called with unknown node id");var Q=nt.position;if(!Q){var ht=B(nt);Q=o.getBestNewBodyPosition(ht)}Z=o.addBodyAt(Q),Z.id=W,u.set(W,Z),H(W),V(nt)&&(Z.isPinned=!0)}}function L(W){var Z=W.id,nt=u.get(Z);nt&&(u.delete(Z),o.removeBody(nt))}function U(W){H(W.fromId),H(W.toId);var Z=u.get(W.fromId),nt=u.get(W.toId),Q=o.addSpring(Z,nt,W.length);p(W,Q),f[W.id]=Q}function O(W){var Z=f[W.id];if(Z){var nt=r.getNode(W.fromId),Q=r.getNode(W.toId);nt&&H(nt.id),Q&&H(Q.id),delete f[W.id],o.removeSpring(Z)}}function B(W){var Z=[];if(!W.links)return Z;for(var nt=Math.min(W.links.length,2),Q=0;Q<nt;++Q){var ht=W.links[Q],yt=ht.fromId!==W.id?u.get(ht.fromId):u.get(ht.toId);yt&&yt.pos&&Z.push(yt)}return Z}function H(W){var Z=u.get(W);if(Z.mass=l(W),Number.isNaN(Z.mass))throw new Error("Node mass should be a number")}function V(W){return W&&(W.isPinned||W.data&&W.data.isPinned)}function X(W){var Z=u.get(W);return Z||(N(W),Z=u.get(W)),Z}function et(W){var Z=r.getLinks(W);return Z?1+Z.length/3:1}function q(W){var Z=r.getLinks(W);return Z?1+Z.size/3:1}}function n(){}return pA.exports}var HRt=VRt();const jRt=oh(HRt);function cN(i,e){(e==null||e>i.length)&&(e=i.length);for(var n=0,r=Array(e);n<e;n++)r[n]=i[n];return r}function GRt(i){if(Array.isArray(i))return i}function qRt(i){if(Array.isArray(i))return cN(i)}function wX(i,e,n){if(typeof i=="function"?i===e:i.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function $Rt(i,e){if(e.has(i))throw new TypeError("Cannot initialize the same private elements twice on an object")}function WRt(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function Fa(i,e){return i.get(wX(i,e))}function Pv(i,e,n){$Rt(i,e),e.set(i,n)}function _A(i,e,n){return i.set(wX(i,e),n),n}function XRt(i,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,iOt(r.key),r)}}function YRt(i,e,n){return e&&XRt(i.prototype,e),Object.defineProperty(i,"prototype",{writable:!1}),i}function KRt(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function ZRt(i,e){var n=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(n!=null){var r,s,a,o,l=[],u=!0,f=!1;try{if(a=(n=n.call(i)).next,e!==0)for(;!(u=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(h){f=!0,s=h}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw s}}return l}}function QRt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JRt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tOt(i,e){return GRt(i)||ZRt(i,e)||AX(i,e)||QRt()}function eOt(i){return qRt(i)||KRt(i)||AX(i)||JRt()}function nOt(i,e){if(typeof i!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var r=n.call(i,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}function iOt(i){var e=nOt(i,"string");return typeof e=="symbol"?e:e+""}function AX(i,e){if(i){if(typeof i=="string")return cN(i,e);var n={}.toString.call(i).slice(8,-1);return n==="Object"&&i.constructor&&(n=i.constructor.name),n==="Map"||n==="Set"?Array.from(i):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cN(i,e):void 0}}var Dv=new WeakMap,Qx=new WeakMap,Nv=new WeakMap,KP=new WeakMap,ZP=new WeakMap,QP=new WeakMap,rOt=function(){function i(){WRt(this,i),Pv(this,Dv,new Map),Pv(this,Qx,new Map),Pv(this,Nv,function(e){return e}),Pv(this,KP,function(){return{}}),Pv(this,ZP,function(){}),Pv(this,QP,function(){})}return YRt(i,[{key:"getObj",value:function(n){return Fa(Dv,this).get(Fa(Nv,this).call(this,n))}},{key:"getData",value:function(n){return Fa(Qx,this).get(n)}},{key:"entries",value:function(){return eOt(Fa(Qx,this).entries()).map(function(n){var r=tOt(n,2),s=r[0],a=r[1];return[a,s]})}},{key:"id",value:function(n){return _A(Nv,this,Ke(n)),this}},{key:"onCreateObj",value:function(n){return _A(KP,this,n),this}},{key:"onUpdateObj",value:function(n){return _A(ZP,this,n),this}},{key:"onRemoveObj",value:function(n){return _A(QP,this,n),this}},{key:"digest",value:function(n){var r=this;n.filter(function(a){return!Fa(Dv,r).has(Fa(Nv,r).call(r,a))}).forEach(function(a){var o=Fa(KP,r).call(r,a);Fa(Dv,r).set(Fa(Nv,r).call(r,a),o),Fa(Qx,r).set(o,a)});var s=new Map(n.map(function(a){return[Fa(Nv,r).call(r,a),a]}));return Fa(Dv,this).forEach(function(a,o){s.has(o)?Fa(ZP,r).call(r,a,s.get(o)):(Fa(QP,r).call(r,a,o),Fa(Dv,r).delete(o),Fa(Qx,r).delete(a))}),this}},{key:"clear",value:function(){return this.digest([]),this}}])}();function fN(i,e){(e==null||e>i.length)&&(e=i.length);for(var n=0,r=Array(e);n<e;n++)r[n]=i[n];return r}function sOt(i){if(Array.isArray(i))return i}function aOt(i){if(Array.isArray(i))return fN(i)}function MX(i,e,n){if(typeof i=="function"?i===e:i.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function oOt(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function CX(i,e,n){return e=z_(e),mOt(i,H4()?Reflect.construct(e,n||[],z_(i).constructor):e.apply(i,n))}function lOt(i,e){if(e.has(i))throw new TypeError("Cannot initialize the same private elements twice on an object")}function RX(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function JP(i,e){return i.get(MX(i,e))}function D8(i,e,n){lOt(i,e),e.set(i,n)}function N8(i,e,n){return i.set(MX(i,e),n),n}function OX(i,e,n){if(H4())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var s=new(i.bind.apply(i,r));return s}function uOt(i,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,DX(r.key),r)}}function IX(i,e,n){return e&&uOt(i.prototype,e),Object.defineProperty(i,"prototype",{writable:!1}),i}function qR(i,e,n){return(e=DX(e))in i?Object.defineProperty(i,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[e]=n,i}function hN(){return hN=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(i,e,n){var r=gOt(i,e);if(r){var s=Object.getOwnPropertyDescriptor(r,e);return s.get?s.get.call(arguments.length<3?i:n):s.value}},hN.apply(null,arguments)}function z_(i){return z_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},z_(i)}function PX(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),e&&dN(i,e)}function H4(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(H4=function(){return!!i})()}function cOt(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function fOt(i,e){var n=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(n!=null){var r,s,a,o,l=[],u=!0,f=!1;try{if(a=(n=n.call(i)).next,e!==0)for(;!(u=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(h){f=!0,s=h}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw s}}return l}}function hOt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dOt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L8(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(i,s).enumerable})),n.push.apply(n,r)}return n}function pOt(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L8(Object(n),!0).forEach(function(r){qR(i,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):L8(Object(n)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(n,r))})}return i}function mOt(i,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oOt(i)}function dN(i,e){return dN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},dN(i,e)}function $1(i,e){return sOt(i)||fOt(i,e)||NX(i,e)||hOt()}function gOt(i,e){for(;!{}.hasOwnProperty.call(i,e)&&(i=z_(i))!==null;);return i}function tD(i,e,n,r){var s=hN(z_(i.prototype),e,n);return typeof s=="function"?function(a){return s.apply(n,a)}:s}function bc(i){return aOt(i)||cOt(i)||NX(i)||dOt()}function yOt(i,e){if(typeof i!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var r=n.call(i,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function DX(i){var e=yOt(i,"string");return typeof e=="symbol"?e:e+""}function pN(i){"@babel/helpers - typeof";return pN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pN(i)}function NX(i,e){if(i){if(typeof i=="string")return fN(i,e);var n={}.toString.call(i).slice(8,-1);return n==="Object"&&i.constructor&&(n=i.constructor.name),n==="Map"||n==="Set"?Array.from(i):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fN(i,e):void 0}}var LX=function(e){e instanceof Array?e.forEach(LX):(e.map&&e.map.dispose(),e.dispose())},UX=function(e){e.geometry&&e.geometry.dispose(),e.material&&LX(e.material),e.texture&&e.texture.dispose(),e.children&&e.children.forEach(UX)},mN=function(e){for(;e.children.length;){var n=e.children[0];e.remove(n),UX(n)}},eD=new WeakMap,bA=new WeakMap,Jx=function(i){function e(n){var r,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=s.dataBindAttr,o=a===void 0?"__data":a,l=s.objBindAttr,u=l===void 0?"__threeObj":l;return RX(this,e),r=CX(this,e),qR(r,"scene",void 0),D8(r,eD,void 0),D8(r,bA,void 0),r.scene=n,N8(eD,r,o),N8(bA,r,u),r.onRemoveObj(function(){}),r}return PX(e,i),IX(e,[{key:"onCreateObj",value:function(r){var s=this;return tD(e,"onCreateObj",this)([function(a){var o=r(a);return a[JP(bA,s)]=o,o[JP(eD,s)]=a,s.scene.add(o),o}]),this}},{key:"onRemoveObj",value:function(r){var s=this;return tD(e,"onRemoveObj",this)([function(a,o){var l=tD(e,"getData",s)([a]);r(a,o),s.scene.remove(a),mN(a),delete l[JP(bA,s)]}]),this}}])}(rOt),t1=function(e){return isNaN(e)?parseInt(Ze(e).toHex(),16):e},nD=function(e){return isNaN(e)?Ze(e).getAlpha():1},vOt=k4(yX);function U8(i,e,n){!e||typeof n!="string"||i.filter(function(r){return!r[n]}).forEach(function(r){r[n]=vOt(e(r))})}function _Ot(i,e){var n=i.nodes,r=i.links,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=s.nodeFilter,o=a===void 0?function(){return!0}:a,l=s.onLoopError,u=l===void 0?function(_){throw"Invalid DAG structure! Found cycle in node path: ".concat(_.join(" -> "),".")}:l,f={};n.forEach(function(_){return f[e(_)]={data:_,out:[],depth:-1,skip:!o(_)}}),r.forEach(function(_){var x=_.source,S=_.target,E=M(x),b=M(S);if(!f.hasOwnProperty(E))throw"Missing source node with id: ".concat(E);if(!f.hasOwnProperty(b))throw"Missing target node with id: ".concat(b);var A=f[E],C=f[b];A.out.push(C);function M(I){return pN(I)==="object"?e(I):I}});var h=[];y(Object.values(f));var p=Object.assign.apply(Object,[{}].concat(bc(Object.entries(f).filter(function(_){var x=$1(_,2),S=x[1];return!S.skip}).map(function(_){var x=$1(_,2),S=x[0],E=x[1];return qR({},S,E.depth)}))));return p;function y(_){for(var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,E=function(){var M=_[b];if(x.indexOf(M)!==-1){var I=[].concat(bc(x.slice(x.indexOf(M))),[M]).map(function(k){return e(k.data)});return h.some(function(k){return k.length===I.length&&k.every(function(N,L){return N===I[L]})})||(h.push(I),u(I)),1}S>M.depth&&(M.depth=S,y(M.out,[].concat(bc(x),[M]),S+(M.skip?0:1)))},b=0,A=_.length;b<A;b++)E()}}var mn=window.THREE?window.THREE:{Group:ud,Mesh:es,MeshLambertMaterial:TL,Color:Fe,BufferGeometry:qn,BufferAttribute:$i,Matrix4:gn,Vector3:pt,SphereGeometry:Gy,CylinderGeometry:jy,TubeGeometry:nE,ConeGeometry:tE,Line:Td,LineBasicMaterial:Qa,QuadraticBezierCurve3:D2,CubicBezierCurve3:bL,Box3:_a},k8={graph:IRt,forcelayout:jRt},bOt=2,iD=new mn.BufferGeometry().setAttribute?"setAttribute":"addAttribute",xA=new mn.BufferGeometry().applyMatrix4?"applyMatrix4":"applyMatrix",xOt=FR({props:{jsonUrl:{onChange:function(e,n){var r=this;e&&!n.fetchingJson&&(n.fetchingJson=!0,n.onLoading(),fetch(e).then(function(s){return s.json()}).then(function(s){n.fetchingJson=!1,n.onFinishLoading(s),r.graphData(s)}))},triggerUpdate:!1},graphData:{default:{nodes:[],links:[]},onChange:function(e,n){n.engineRunning=!1}},numDimensions:{default:3,onChange:function(e,n){var r=n.d3ForceLayout.force("charge");r&&r.strength(e>2?-60:-30),e<3&&s(n.graphData.nodes,"z"),e<2&&s(n.graphData.nodes,"y");function s(a,o){a.forEach(function(l){delete l[o],delete l["v".concat(o)]})}}},dagMode:{onChange:function(e,n){!e&&n.forceEngine==="d3"&&(n.graphData.nodes||[]).forEach(function(r){return r.fx=r.fy=r.fz=void 0})}},dagLevelDistance:{},dagNodeFilter:{default:function(e){return!0}},onDagError:{triggerUpdate:!1},nodeRelSize:{default:4},nodeId:{default:"id"},nodeVal:{default:"val"},nodeResolution:{default:8},nodeColor:{default:"color"},nodeAutoColorBy:{},nodeOpacity:{default:.75},nodeVisibility:{default:!0},nodeThreeObject:{},nodeThreeObjectExtend:{default:!1},nodePositionUpdate:{triggerUpdate:!1},linkSource:{default:"source"},linkTarget:{default:"target"},linkVisibility:{default:!0},linkColor:{default:"color"},linkAutoColorBy:{},linkOpacity:{default:.2},linkWidth:{},linkResolution:{default:6},linkCurvature:{default:0,triggerUpdate:!1},linkCurveRotation:{default:0,triggerUpdate:!1},linkMaterial:{},linkThreeObject:{},linkThreeObjectExtend:{default:!1},linkPositionUpdate:{triggerUpdate:!1},linkDirectionalArrowLength:{default:0},linkDirectionalArrowColor:{},linkDirectionalArrowRelPos:{default:.5,triggerUpdate:!1},linkDirectionalArrowResolution:{default:8},linkDirectionalParticles:{default:0},linkDirectionalParticleSpeed:{default:.01,triggerUpdate:!1},linkDirectionalParticleWidth:{default:.5},linkDirectionalParticleColor:{},linkDirectionalParticleResolution:{default:4},forceEngine:{default:"d3"},d3AlphaMin:{default:0},d3AlphaDecay:{default:.0228,triggerUpdate:!1,onChange:function(e,n){n.d3ForceLayout.alphaDecay(e)}},d3AlphaTarget:{default:0,triggerUpdate:!1,onChange:function(e,n){n.d3ForceLayout.alphaTarget(e)}},d3VelocityDecay:{default:.4,triggerUpdate:!1,onChange:function(e,n){n.d3ForceLayout.velocityDecay(e)}},ngraphPhysics:{default:{timeStep:20,gravity:-1.2,theta:.8,springLength:30,springCoefficient:8e-4,dragCoefficient:.02}},warmupTicks:{default:0,triggerUpdate:!1},cooldownTicks:{default:1/0,triggerUpdate:!1},cooldownTime:{default:15e3,triggerUpdate:!1},onLoading:{default:function(){},triggerUpdate:!1},onFinishLoading:{default:function(){},triggerUpdate:!1},onUpdate:{default:function(){},triggerUpdate:!1},onFinishUpdate:{default:function(){},triggerUpdate:!1},onEngineTick:{default:function(){},triggerUpdate:!1},onEngineStop:{default:function(){},triggerUpdate:!1}},methods:{refresh:function(e){return e._flushObjects=!0,e._rerender(),this},d3Force:function(e,n,r){return r===void 0?e.d3ForceLayout.force(n):(e.d3ForceLayout.force(n,r),this)},d3ReheatSimulation:function(e){return e.d3ForceLayout.alpha(1),this.resetCountdown(),this},resetCountdown:function(e){return e.cntTicks=0,e.startTickTime=new Date,e.engineRunning=!0,this},tickFrame:function(e){var n=e.forceEngine!=="ngraph";return e.engineRunning&&r(),s(),a(),this;function r(){++e.cntTicks>e.cooldownTicks||new Date-e.startTickTime>e.cooldownTime||n&&e.d3AlphaMin>0&&e.d3ForceLayout.alpha()<e.d3AlphaMin?(e.engineRunning=!1,e.onEngineStop()):(e.layout[n?"tick":"step"](),e.onEngineTick());var o=Ke(e.nodeThreeObjectExtend);e.nodeDataMapper.entries().forEach(function(y){var _=$1(y,2),x=_[0],S=_[1];if(S){var E=n?x:e.layout.getNodePosition(x[e.nodeId]),b=o(x);(!e.nodePositionUpdate||!e.nodePositionUpdate(b?S.children[0]:S,{x:E.x,y:E.y,z:E.z},x)||b)&&(S.position.x=E.x,S.position.y=E.y||0,S.position.z=E.z||0)}});var l=Ke(e.linkWidth),u=Ke(e.linkCurvature),f=Ke(e.linkCurveRotation),h=Ke(e.linkThreeObjectExtend);e.linkDataMapper.entries().forEach(function(y){var _=$1(y,2),x=_[0],S=_[1];if(S){var E=n?x:e.layout.getLinkPosition(e.layout.graph.getLink(x.source,x.target).id),b=E[n?"source":"from"],A=E[n?"target":"to"];if(!(!b||!A||!b.hasOwnProperty("x")||!A.hasOwnProperty("x"))){p(x);var C=h(x);if(!(e.linkPositionUpdate&&e.linkPositionUpdate(C?S.children[1]:S,{start:{x:b.x,y:b.y,z:b.z},end:{x:A.x,y:A.y,z:A.z}},x)&&!C)){var M=30,I=x.__curve,k=S.children.length?S.children[0]:S;if(k.type==="Line"){if(I){var L=I.getPoints(M);k.geometry.getAttribute("position").array.length!==L.length*3&&k.geometry[iD]("position",new mn.BufferAttribute(new Float32Array(L.length*3),3)),k.geometry.setFromPoints(L)}else{var N=k.geometry.getAttribute("position");(!N||!N.array||N.array.length!==6)&&k.geometry[iD]("position",N=new mn.BufferAttribute(new Float32Array(2*3),3)),N.array[0]=b.x,N.array[1]=b.y||0,N.array[2]=b.z||0,N.array[3]=A.x,N.array[4]=A.y||0,N.array[5]=A.z||0,N.needsUpdate=!0}k.geometry.computeBoundingSphere()}else if(k.type==="Mesh")if(I){k.geometry.type.match(/^Tube(Buffer)?Geometry$/)||(k.position.set(0,0,0),k.rotation.set(0,0,0),k.scale.set(1,1,1));var et=Math.ceil(l(x)*10)/10,q=et/2,W=new mn.TubeGeometry(I,M,q,e.linkResolution,!1);k.geometry.dispose(),k.geometry=W}else{if(!k.geometry.type.match(/^Cylinder(Buffer)?Geometry$/)){var U=Math.ceil(l(x)*10)/10,O=U/2,B=new mn.CylinderGeometry(O,O,1,e.linkResolution,1,!1);B[xA](new mn.Matrix4().makeTranslation(0,1/2,0)),B[xA](new mn.Matrix4().makeRotationX(Math.PI/2)),k.geometry.dispose(),k.geometry=B}var H=new mn.Vector3(b.x,b.y||0,b.z||0),V=new mn.Vector3(A.x,A.y||0,A.z||0),X=H.distanceTo(V);k.position.x=H.x,k.position.y=H.y,k.position.z=H.z,k.scale.z=X,k.parent.localToWorld(V),k.lookAt(V)}}}}});function p(y){var _=n?y:e.layout.getLinkPosition(e.layout.graph.getLink(y.source,y.target).id),x=_[n?"source":"from"],S=_[n?"target":"to"];if(!(!x||!S||!x.hasOwnProperty("x")||!S.hasOwnProperty("x"))){var E=u(y);if(!E)y.__curve=null;else{var b=new mn.Vector3(x.x,x.y||0,x.z||0),A=new mn.Vector3(S.x,S.y||0,S.z||0),C=b.distanceTo(A),M,I=f(y);if(C>0){var k=S.x-x.x,N=S.y-x.y||0,L=new mn.Vector3().subVectors(A,b),U=L.clone().multiplyScalar(E).cross(k!==0||N!==0?new mn.Vector3(0,0,1):new mn.Vector3(0,1,0)).applyAxisAngle(L.normalize(),I).add(new mn.Vector3().addVectors(b,A).divideScalar(2));M=new mn.QuadraticBezierCurve3(b,U,A)}else{var O=E*70,B=-I,H=B+Math.PI/2;M=new mn.CubicBezierCurve3(b,new mn.Vector3(O*Math.cos(H),O*Math.sin(H),0).add(b),new mn.Vector3(O*Math.cos(B),O*Math.sin(B),0).add(b),A)}y.__curve=M}}}}function s(){var o=Ke(e.linkDirectionalArrowRelPos),l=Ke(e.linkDirectionalArrowLength),u=Ke(e.nodeVal);e.arrowDataMapper.entries().forEach(function(f){var h=$1(f,2),p=h[0],y=h[1];if(y){var _=n?p:e.layout.getLinkPosition(e.layout.graph.getLink(p.source,p.target).id),x=_[n?"source":"from"],S=_[n?"target":"to"];if(!(!x||!S||!x.hasOwnProperty("x")||!S.hasOwnProperty("x"))){var E=Math.cbrt(Math.max(0,u(x)||1))*e.nodeRelSize,b=Math.cbrt(Math.max(0,u(S)||1))*e.nodeRelSize,A=l(p),C=o(p),M=p.__curve?function(O){return p.__curve.getPoint(O)}:function(O){var B=function(V,X,et,q){return X[V]+(et[V]-X[V])*q||0};return{x:B("x",x,S,O),y:B("y",x,S,O),z:B("z",x,S,O)}},I=p.__curve?p.__curve.getLength():Math.sqrt(["x","y","z"].map(function(O){return Math.pow((S[O]||0)-(x[O]||0),2)}).reduce(function(O,B){return O+B},0)),k=E+A+(I-E-b-A)*C,N=M(k/I),L=M((k-A)/I);["x","y","z"].forEach(function(O){return y.position[O]=L[O]});var U=OX(mn.Vector3,bc(["x","y","z"].map(function(O){return N[O]})));y.parent.localToWorld(U),y.lookAt(U)}}})}function a(){var o=Ke(e.linkDirectionalParticleSpeed);e.graphData.links.forEach(function(l){var u=e.particlesDataMapper.getObj(l),f=u&&u.children,h=l.__singleHopPhotonsObj&&l.__singleHopPhotonsObj.children;if(!((!h||!h.length)&&(!f||!f.length))){var p=n?l:e.layout.getLinkPosition(e.layout.graph.getLink(l.source,l.target).id),y=p[n?"source":"from"],_=p[n?"target":"to"];if(!(!y||!_||!y.hasOwnProperty("x")||!_.hasOwnProperty("x"))){var x=o(l),S=l.__curve?function(b){return l.__curve.getPoint(b)}:function(b){var A=function(M,I,k,N){return I[M]+(k[M]-I[M])*N||0};return{x:A("x",y,_,b),y:A("y",y,_,b),z:A("z",y,_,b)}},E=[].concat(bc(f||[]),bc(h||[]));E.forEach(function(b,A){var C=b.parent.__linkThreeObjType==="singleHopPhotons";if(b.hasOwnProperty("__progressRatio")||(b.__progressRatio=C?0:A/f.length),b.__progressRatio+=x,b.__progressRatio>=1)if(!C)b.__progressRatio=b.__progressRatio%1;else{b.parent.remove(b),mN(b);return}var M=b.__progressRatio,I=S(M);["x","y","z"].forEach(function(k){return b.position[k]=I[k]})})}}})}},emitParticle:function(e,n){if(n&&e.graphData.links.includes(n)){if(!n.__singleHopPhotonsObj){var r=new mn.Group;r.__linkThreeObjType="singleHopPhotons",n.__singleHopPhotonsObj=r,e.graphScene.add(r)}var s=Ke(e.linkDirectionalParticleWidth),a=Math.ceil(s(n)*10)/10/2,o=e.linkDirectionalParticleResolution,l=new mn.SphereGeometry(a,o,o),u=Ke(e.linkColor),f=Ke(e.linkDirectionalParticleColor),h=f(n)||u(n)||"#f0f0f0",p=new mn.Color(t1(h)),y=e.linkOpacity*3,_=new mn.MeshLambertMaterial({color:p,transparent:!0,opacity:y});n.__singleHopPhotonsObj.add(new mn.Mesh(l,_))}return this},getGraphBbox:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return!0};if(!e.initialised)return null;var r=function s(a){var o=[];if(a.geometry){a.geometry.computeBoundingBox();var l=new mn.Box3;l.copy(a.geometry.boundingBox).applyMatrix4(a.matrixWorld),o.push(l)}return o.concat.apply(o,bc((a.children||[]).filter(function(u){return!u.hasOwnProperty("__graphObjType")||u.__graphObjType==="node"&&n(u.__data)}).map(s)))}(e.graphScene);return r.length?Object.assign.apply(Object,bc(["x","y","z"].map(function(s){return qR({},s,[J3(r,function(a){return a.min[s]}),Q3(r,function(a){return a.max[s]})])}))):null}},stateInit:function(){return{d3ForceLayout:hX().force("link",fX()).force("charge",dX()).force("center",rX()).force("dagRadial",null).stop(),engineRunning:!1}},init:function(e,n){n.graphScene=e,n.nodeDataMapper=new Jx(e,{objBindAttr:"__threeObj"}),n.linkDataMapper=new Jx(e,{objBindAttr:"__lineObj"}),n.arrowDataMapper=new Jx(e,{objBindAttr:"__arrowObj"}),n.particlesDataMapper=new Jx(e,{objBindAttr:"__photonsObj"})},update:function(e,n){var r=function(dt){return dt.some(function(ft){return n.hasOwnProperty(ft)})};if(e.engineRunning=!1,typeof e.onUpdate=="function"&&e.onUpdate(),e.nodeAutoColorBy!==null&&r(["nodeAutoColorBy","graphData","nodeColor"])&&U8(e.graphData.nodes,Ke(e.nodeAutoColorBy),e.nodeColor),e.linkAutoColorBy!==null&&r(["linkAutoColorBy","graphData","linkColor"])&&U8(e.graphData.links,Ke(e.linkAutoColorBy),e.linkColor),e._flushObjects||r(["graphData","nodeThreeObject","nodeThreeObjectExtend","nodeVal","nodeColor","nodeVisibility","nodeRelSize","nodeResolution","nodeOpacity"])){var s=Ke(e.nodeThreeObject),a=Ke(e.nodeThreeObjectExtend),o=Ke(e.nodeVal),l=Ke(e.nodeColor),u=Ke(e.nodeVisibility),f={},h={};(e._flushObjects||r(["nodeThreeObject","nodeThreeObjectExtend"]))&&e.nodeDataMapper.clear(),e.nodeDataMapper.onCreateObj(function(it){var dt=s(it),ft=a(it);dt&&e.nodeThreeObject===dt&&(dt=dt.clone());var gt;return dt&&!ft?gt=dt:(gt=new mn.Mesh,gt.__graphDefaultObj=!0,dt&&ft&&gt.add(dt)),gt.__graphObjType="node",gt}).onUpdateObj(function(it,dt){if(it.__graphDefaultObj){var ft=o(dt)||1,gt=Math.cbrt(ft)*e.nodeRelSize,wt=e.nodeResolution;(!it.geometry.type.match(/^Sphere(Buffer)?Geometry$/)||it.geometry.parameters.radius!==gt||it.geometry.parameters.widthSegments!==wt)&&(f.hasOwnProperty(ft)||(f[ft]=new mn.SphereGeometry(gt,wt,wt)),it.geometry.dispose(),it.geometry=f[ft]);var Kt=l(dt),kt=new mn.Color(t1(Kt||"#ffffaa")),ee=e.nodeOpacity*nD(Kt);(it.material.type!=="MeshLambertMaterial"||!it.material.color.equals(kt)||it.material.opacity!==ee)&&(h.hasOwnProperty(Kt)||(h[Kt]=new mn.MeshLambertMaterial({color:kt,transparent:!0,opacity:ee})),it.material.dispose(),it.material=h[Kt])}}).digest(e.graphData.nodes.filter(u))}if(e._flushObjects||r(["graphData","linkThreeObject","linkThreeObjectExtend","linkMaterial","linkColor","linkWidth","linkVisibility","linkResolution","linkOpacity","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowResolution","linkDirectionalParticles","linkDirectionalParticleWidth","linkDirectionalParticleColor","linkDirectionalParticleResolution"])){var p=Ke(e.linkThreeObject),y=Ke(e.linkThreeObjectExtend),_=Ke(e.linkMaterial),x=Ke(e.linkVisibility),S=Ke(e.linkColor),E=Ke(e.linkWidth),b={},A={},C={},M=e.graphData.links.filter(x);if((e._flushObjects||r(["linkThreeObject","linkThreeObjectExtend","linkWidth"]))&&e.linkDataMapper.clear(),e.linkDataMapper.onRemoveObj(function(it){var dt=it.__data&&it.__data.__singleHopPhotonsObj;dt&&(dt.parent.remove(dt),mN(dt),delete it.__data.__singleHopPhotonsObj)}).onCreateObj(function(it){var dt=p(it),ft=y(it);dt&&e.linkThreeObject===dt&&(dt=dt.clone());var gt;if(!dt||ft){var wt=!!E(it);if(wt)gt=new mn.Mesh;else{var Kt=new mn.BufferGeometry;Kt[iD]("position",new mn.BufferAttribute(new Float32Array(2*3),3)),gt=new mn.Line(Kt)}}var kt;return dt?ft?(kt=new mn.Group,kt.__graphDefaultObj=!0,kt.add(gt),kt.add(dt)):kt=dt:(kt=gt,kt.__graphDefaultObj=!0),kt.renderOrder=10,kt.__graphObjType="link",kt}).onUpdateObj(function(it,dt){if(it.__graphDefaultObj){var ft=it.children.length?it.children[0]:it,gt=Math.ceil(E(dt)*10)/10,wt=!!gt;if(wt){var Kt=gt/2,kt=e.linkResolution;if(!ft.geometry.type.match(/^Cylinder(Buffer)?Geometry$/)||ft.geometry.parameters.radiusTop!==Kt||ft.geometry.parameters.radialSegments!==kt){if(!b.hasOwnProperty(gt)){var ee=new mn.CylinderGeometry(Kt,Kt,1,kt,1,!1);ee[xA](new mn.Matrix4().makeTranslation(0,1/2,0)),ee[xA](new mn.Matrix4().makeRotationX(Math.PI/2)),b[gt]=ee}ft.geometry.dispose(),ft.geometry=b[gt]}}var Pt=_(dt);if(Pt)ft.material=Pt;else{var Vt=S(dt),at=new mn.Color(t1(Vt||"#f0f0f0")),ce=e.linkOpacity*nD(Vt),te=wt?"MeshLambertMaterial":"LineBasicMaterial";if(ft.material.type!==te||!ft.material.color.equals(at)||ft.material.opacity!==ce){var ne=wt?A:C;ne.hasOwnProperty(Vt)||(ne[Vt]=new mn[te]({color:at,transparent:ce<1,opacity:ce,depthWrite:ce>=1})),ft.material.dispose(),ft.material=ne[Vt]}}}}).digest(M),e.linkDirectionalArrowLength||n.hasOwnProperty("linkDirectionalArrowLength")){var I=Ke(e.linkDirectionalArrowLength),k=Ke(e.linkDirectionalArrowColor);e.arrowDataMapper.onCreateObj(function(){var it=new mn.Mesh(void 0,new mn.MeshLambertMaterial({transparent:!0}));return it.__linkThreeObjType="arrow",it}).onUpdateObj(function(it,dt){var ft=I(dt),gt=e.linkDirectionalArrowResolution;if(!it.geometry.type.match(/^Cone(Buffer)?Geometry$/)||it.geometry.parameters.height!==ft||it.geometry.parameters.radialSegments!==gt){var wt=new mn.ConeGeometry(ft*.25,ft,gt);wt.translate(0,ft/2,0),wt.rotateX(Math.PI/2),it.geometry.dispose(),it.geometry=wt}var Kt=k(dt)||S(dt)||"#f0f0f0";it.material.color=new mn.Color(t1(Kt)),it.material.opacity=e.linkOpacity*3*nD(Kt)}).digest(M.filter(I))}if(e.linkDirectionalParticles||n.hasOwnProperty("linkDirectionalParticles")){var N=Ke(e.linkDirectionalParticles),L=Ke(e.linkDirectionalParticleWidth),U=Ke(e.linkDirectionalParticleColor),O={},B={};e.particlesDataMapper.onCreateObj(function(){var it=new mn.Group;return it.__linkThreeObjType="photons",it.__photonDataMapper=new Jx(it),it}).onUpdateObj(function(it,dt){var ft=Math.round(Math.abs(N(dt))),gt=!!it.children.length&&it.children[0],wt=Math.ceil(L(dt)*10)/10/2,Kt=e.linkDirectionalParticleResolution,kt;gt&&gt.geometry.parameters.radius===wt&&gt.geometry.parameters.widthSegments===Kt?kt=gt.geometry:(B.hasOwnProperty(wt)||(B[wt]=new mn.SphereGeometry(wt,Kt,Kt)),kt=B[wt],gt&&gt.geometry.dispose());var ee=U(dt)||S(dt)||"#f0f0f0",Pt=new mn.Color(t1(ee)),Vt=e.linkOpacity*3,at;gt&&gt.material.color.equals(Pt)&&gt.material.opacity===Vt?at=gt.material:(O.hasOwnProperty(ee)||(O[ee]=new mn.MeshLambertMaterial({color:Pt,transparent:!0,opacity:Vt})),at=O[ee],gt&&gt.material.dispose()),it.__photonDataMapper.id(function(ce){return ce.idx}).onCreateObj(function(){return new mn.Mesh(kt,at)}).onUpdateObj(function(ce){ce.geometry=kt,ce.material=at}).digest(bc(new Array(ft)).map(function(ce,te){return{idx:te}}))}).digest(M.filter(N))}}if(e._flushObjects=!1,r(["graphData","nodeId","linkSource","linkTarget","numDimensions","forceEngine","dagMode","dagNodeFilter","dagLevelDistance"])){e.engineRunning=!1,e.graphData.links.forEach(function(it){it.source=it[e.linkSource],it.target=it[e.linkTarget]});var H=e.forceEngine!=="ngraph",V;if(H){(V=e.d3ForceLayout).stop().alpha(1).numDimensions(e.numDimensions).nodes(e.graphData.nodes);var X=e.d3ForceLayout.force("link");X&&X.id(function(it){return it[e.nodeId]}).links(e.graphData.links);var et=e.dagMode&&_Ot(e.graphData,function(it){return it[e.nodeId]},{nodeFilter:e.dagNodeFilter,onLoopError:e.onDagError||void 0}),q=Math.max.apply(Math,bc(Object.values(et||[]))),W=e.dagLevelDistance||e.graphData.nodes.length/(q||1)*bOt*(["radialin","radialout"].indexOf(e.dagMode)!==-1?.7:1);if(["lr","rl","td","bu","zin","zout"].includes(n.dagMode)){var Z=["lr","rl"].includes(n.dagMode)?"fx":["td","bu"].includes(n.dagMode)?"fy":"fz";e.graphData.nodes.filter(e.dagNodeFilter).forEach(function(it){return delete it[Z]})}if(["lr","rl","td","bu","zin","zout"].includes(e.dagMode)){var nt=["rl","td","zout"].includes(e.dagMode),Q=function(dt){return(et[dt[e.nodeId]]-q/2)*W*(nt?-1:1)},ht=["lr","rl"].includes(e.dagMode)?"fx":["td","bu"].includes(e.dagMode)?"fy":"fz";e.graphData.nodes.filter(e.dagNodeFilter).forEach(function(it){return it[ht]=Q(it)})}e.d3ForceLayout.force("dagRadial",["radialin","radialout"].indexOf(e.dagMode)!==-1?pX(function(it){var dt=et[it[e.nodeId]]||-1;return(e.dagMode==="radialin"?q-dt:dt)*W}).strength(function(it){return e.dagNodeFilter(it)?1:0}):null)}else{var yt=k8.graph();e.graphData.nodes.forEach(function(it){yt.addNode(it[e.nodeId])}),e.graphData.links.forEach(function(it){yt.addLink(it.source,it.target)}),V=k8.forcelayout(yt,pOt({dimensions:e.numDimensions},e.ngraphPhysics)),V.graph=yt}for(var xt=0;xt<e.warmupTicks&&!(H&&e.d3AlphaMin>0&&e.d3ForceLayout.alpha()<e.d3AlphaMin);xt++)V[H?"tick":"step"]();e.layout=V,this.resetCountdown()}e.engineRunning=!0,e.onFinishUpdate()}});function SOt(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Object,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=function(s){function a(){var o;RX(this,a);for(var l=arguments.length,u=new Array(l),f=0;f<l;f++)u[f]=arguments[f];return o=CX(this,a,[].concat(u)),o.__kapsuleInstance=OX(i,[].concat(bc(n?[o]:[]),u)),o}return PX(a,s),IX(a)}(e);return Object.keys(i()).forEach(function(s){return r.prototype[s]=function(){var a,o=(a=this.__kapsuleInstance)[s].apply(a,arguments);return o===this.__kapsuleInstance?this:o}}),r}var EOt=window.THREE?window.THREE:{Group:ud},TOt=SOt(xOt,EOt.Group,!0);function gN(i,e){(e==null||e>i.length)&&(e=i.length);for(var n=0,r=Array(e);n<e;n++)r[n]=i[n];return r}function wOt(i){if(Array.isArray(i))return i}function AOt(i){if(Array.isArray(i))return gN(i)}function MOt(i,e,n){return(e=UOt(e))in i?Object.defineProperty(i,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[e]=n,i}function COt(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function ROt(i,e){var n=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(n!=null){var r,s,a,o,l=[],u=!0,f=!1;try{if(a=(n=n.call(i)).next,e!==0)for(;!(u=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(h){f=!0,s=h}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw s}}return l}}function OOt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IOt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z8(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(i,s).enumerable})),n.push.apply(n,r)}return n}function ZC(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z8(Object(n),!0).forEach(function(r){MOt(i,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):z8(Object(n)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(n,r))})}return i}function POt(i,e){if(i==null)return{};var n,r,s=DOt(i,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(i,n)&&(s[n]=i[n])}return s}function DOt(i,e){if(i==null)return{};var n={};for(var r in i)if({}.hasOwnProperty.call(i,r)){if(e.indexOf(r)!==-1)continue;n[r]=i[r]}return n}function NOt(i,e){return wOt(i)||ROt(i,e)||kX(i,e)||OOt()}function rD(i){return AOt(i)||COt(i)||kX(i)||IOt()}function LOt(i,e){if(typeof i!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var r=n.call(i,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function UOt(i){var e=LOt(i,"string");return typeof e=="symbol"?e:e+""}function kX(i,e){if(i){if(typeof i=="string")return gN(i,e);var n={}.toString.call(i).slice(8,-1);return n==="Object"&&i.constructor&&(n=i.constructor.name),n==="Map"||n==="Set"?Array.from(i):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gN(i,e):void 0}}function kOt(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.methodNames,r=n===void 0?[]:n,s=e.initPropNames,a=s===void 0?[]:s;return tt.forwardRef(function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=arguments.length>1?arguments[1]:void 0,u=tt.useMemo(function(){return new i(Object.fromEntries(a.filter(function(y){return o.hasOwnProperty(y)}).map(function(y){return[y,o[y]]})))},[]);tt.useEffect(function(){return u._destructor instanceof Function?u._destructor:void 0},[u]);var f=tt.useCallback(function(y){for(var _=arguments.length,x=new Array(_>1?_-1:0),S=1;S<_;S++)x[S-1]=arguments[S];return u[y]instanceof Function?u[y].apply(u,x):void 0},[u]),h=Object.fromEntries(Object.entries(o).filter(function(y){var _=NOt(y,1),x=_[0];return!u[x]||!(u[x]instanceof Function)})),p=tt.useRef({});return Object.keys(lW(o,[].concat(rD(r),rD(a),rD(Object.keys(h))))).filter(function(y){return p.current[y]!==o[y]}).forEach(function(y){return f(y,o[y])}),p.current=o,tt.useImperativeHandle(l,function(){return Object.fromEntries(r.map(function(y){return[y,function(){for(var _=arguments.length,x=new Array(_),S=0;S<_;S++)x[S]=arguments[S];return f.apply(void 0,[y].concat(x))}]}))}),tt.createElement("primitive",ZC(ZC({},h),{},{object:u}))})}var zOt=["onNodeHover","onLinkHover","onNodeClick","onLinkClick"],BOt=kOt(TOt,{initPropNames:[],methodNames:["emitParticle","getGraphBbox","d3ReheatSimulation","d3Force","resetCountdown","tickFrame","refresh"]}),B8=function(e){var n,r=e.intersections,s=function(o){return o?o.hasOwnProperty("__graphObjType")?o:s(o.parent):null};return s((n=r.find(function(a){return s(a.object)}))===null||n===void 0?void 0:n.object)},SA=function(e){return e==null?void 0:e.__data},FOt=tt.forwardRef(function(i,e){var n=i.onNodeHover,r=i.onLinkHover,s=i.onNodeClick,a=i.onLinkClick,o=POt(i,zOt),l=tt.useRef(null),u=tt.useCallback(function(h){if(!(!n&&!r)){var p=B8(h);if(p!==l.current){var y=l.current;l.current=p,y&&(!p||p.__graphObjType!==y.__graphObjType)&&({node:n,link:r}[y==null?void 0:y.__graphObjType]||function(){})(null,SA(y)),({node:n,link:r}[p==null?void 0:p.__graphObjType]||function(){})(SA(p),(p==null?void 0:p.__graphObjType)===(y==null?void 0:y.__graphObjType)?SA(y):null)}}},[n,r]),f=tt.useCallback(function(h){var p=B8(h),y={node:s,link:a}[p==null?void 0:p.__graphObjType];p&&y&&(y(SA(p),h),h.stopPropagation())},[s,a]);return tt.createElement(BOt,ZC(ZC({},o),{},{ref:e,onPointerMove:u,onClick:f}))});const VOt=()=>{const i={displayName:"",email:"",photoURL:""};zgt(l4,e=>{e?Un.setState({userLoginData:e,isUserLogin:!0}):Un.setState({userLoginData:i,isUserLogin:!1})})};function id(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function zX(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.__proto__=e}/*!
 * GSAP 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var $l={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},B_={duration:.5,overwrite:!1,delay:0},j4,xa,Mr,Jf=1e8,Wa=1/Jf,yN=Math.PI*2,HOt=yN/4,jOt=0,BX=Math.sqrt,GOt=Math.cos,qOt=Math.sin,ea=function(e){return typeof e=="string"},ns=function(e){return typeof e=="function"},Dd=function(e){return typeof e=="number"},G4=function(e){return typeof e>"u"},ah=function(e){return typeof e=="object"},ul=function(e){return e!==!1},q4=function(){return typeof window<"u"},EA=function(e){return ns(e)||ea(e)},FX=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Xa=Array.isArray,vN=/(?:-?\.?\d|\.)+/gi,VX=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Xv=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,sD=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,HX=/[+-]=-?[.\d]+/,jX=/[^,'"\[\]\s]+/gi,$Ot=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Br,Pf,_N,$4,Ql={},QC={},GX,qX=function(e){return(QC=F_(e,Ql))&&yl},W4=function(e,n){return console.warn("Invalid property",e,"set to",n,"Missing plugin? gsap.registerPlugin()")},BS=function(e,n){return!n&&console.warn(e)},$X=function(e,n){return e&&(Ql[e]=n)&&QC&&(QC[e]=n)||Ql},FS=function(){return 0},WOt={suppressEvents:!0,isStart:!0,kill:!1},oM={suppressEvents:!0,kill:!1},XOt={suppressEvents:!0},X4={},lm=[],bN={},WX,Bl={},aD={},F8=30,lM=[],Y4="",K4=function(e){var n=e[0],r,s;if(ah(n)||ns(n)||(e=[e]),!(r=(n._gsap||{}).harness)){for(s=lM.length;s--&&!lM[s].targetTest(n););r=lM[s]}for(s=e.length;s--;)e[s]&&(e[s]._gsap||(e[s]._gsap=new yY(e[s],r)))||e.splice(s,1);return e},yy=function(e){return e._gsap||K4(Du(e))[0]._gsap},XX=function(e,n,r){return(r=e[n])&&ns(r)?e[n]():G4(r)&&e.getAttribute&&e.getAttribute(n)||r},cl=function(e,n){return(e=e.split(",")).forEach(n)||e},fs=function(e){return Math.round(e*1e5)/1e5||0},Ms=function(e){return Math.round(e*1e7)/1e7||0},l_=function(e,n){var r=n.charAt(0),s=parseFloat(n.substr(2));return e=parseFloat(e),r==="+"?e+s:r==="-"?e-s:r==="*"?e*s:e/s},YOt=function(e,n){for(var r=n.length,s=0;e.indexOf(n[s])<0&&++s<r;);return s<r},JC=function(){var e=lm.length,n=lm.slice(0),r,s;for(bN={},lm.length=0,r=0;r<e;r++)s=n[r],s&&s._lazy&&(s.render(s._lazy[0],s._lazy[1],!0)._lazy=0)},YX=function(e,n,r,s){lm.length&&!xa&&JC(),e.render(n,r,xa&&n<0&&(e._initted||e._startAt)),lm.length&&!xa&&JC()},KX=function(e){var n=parseFloat(e);return(n||n===0)&&(e+"").match(jX).length<2?n:ea(e)?e.trim():e},ZX=function(e){return e},Jl=function(e,n){for(var r in n)r in e||(e[r]=n[r]);return e},KOt=function(e){return function(n,r){for(var s in r)s in n||s==="duration"&&e||s==="ease"||(n[s]=r[s])}},F_=function(e,n){for(var r in n)e[r]=n[r];return e},V8=function i(e,n){for(var r in n)r!=="__proto__"&&r!=="constructor"&&r!=="prototype"&&(e[r]=ah(n[r])?i(e[r]||(e[r]={}),n[r]):n[r]);return e},t2=function(e,n){var r={},s;for(s in e)s in n||(r[s]=e[s]);return r},W1=function(e){var n=e.parent||Br,r=e.keyframes?KOt(Xa(e.keyframes)):Jl;if(ul(e.inherit))for(;n;)r(e,n.vars.defaults),n=n.parent||n._dp;return e},ZOt=function(e,n){for(var r=e.length,s=r===n.length;s&&r--&&e[r]===n[r];);return r<0},QX=function(e,n,r,s,a){var o=e[s],l;if(a)for(l=n[a];o&&o[a]>l;)o=o._prev;return o?(n._next=o._next,o._next=n):(n._next=e[r],e[r]=n),n._next?n._next._prev=n:e[s]=n,n._prev=o,n.parent=n._dp=e,n},$R=function(e,n,r,s){r===void 0&&(r="_first"),s===void 0&&(s="_last");var a=n._prev,o=n._next;a?a._next=o:e[r]===n&&(e[r]=o),o?o._prev=a:e[s]===n&&(e[s]=a),n._next=n._prev=n.parent=null},xm=function(e,n){e.parent&&(!n||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},vy=function(e,n){if(e&&(!n||n._end>e._dur||n._start<0))for(var r=e;r;)r._dirty=1,r=r.parent;return e},QOt=function(e){for(var n=e.parent;n&&n.parent;)n._dirty=1,n.totalDuration(),n=n.parent;return e},xN=function(e,n,r,s){return e._startAt&&(xa?e._startAt.revert(oM):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(n,!0,s))},JOt=function i(e){return!e||e._ts&&i(e.parent)},H8=function(e){return e._repeat?V_(e._tTime,e=e.duration()+e._rDelay)*e:0},V_=function(e,n){var r=Math.floor(e=Ms(e/n));return e&&r===e?r-1:r},e2=function(e,n){return(e-n._start)*n._ts+(n._ts>=0?0:n._dirty?n.totalDuration():n._tDur)},WR=function(e){return e._end=Ms(e._start+(e._tDur/Math.abs(e._ts||e._rts||Wa)||0))},XR=function(e,n){var r=e._dp;return r&&r.smoothChildTiming&&e._ts&&(e._start=Ms(r._time-(e._ts>0?n/e._ts:((e._dirty?e.totalDuration():e._tDur)-n)/-e._ts)),WR(e),r._dirty||vy(r,e)),e},JX=function(e,n){var r;if((n._time||!n._dur&&n._initted||n._start<e._time&&(n._dur||!n.add))&&(r=e2(e.rawTime(),n),(!n._dur||RE(0,n.totalDuration(),r)-n._tTime>Wa)&&n.render(r,!0)),vy(e,n)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(r=e;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;e._zTime=-1e-8}},zf=function(e,n,r,s){return n.parent&&xm(n),n._start=Ms((Dd(r)?r:r||e!==Br?Au(e,r,n):e._time)+n._delay),n._end=Ms(n._start+(n.totalDuration()/Math.abs(n.timeScale())||0)),QX(e,n,"_first","_last",e._sort?"_start":0),SN(n)||(e._recent=n),s||JX(e,n),e._ts<0&&XR(e,e._tTime),e},tY=function(e,n){return(Ql.ScrollTrigger||W4("scrollTrigger",n))&&Ql.ScrollTrigger.create(n,e)},eY=function(e,n,r,s,a){if(Q4(e,n,a),!e._initted)return 1;if(!r&&e._pt&&!xa&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&WX!==Hl.frame)return lm.push(e),e._lazy=[a,s],1},tIt=function i(e){var n=e.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||i(n))},SN=function(e){var n=e.data;return n==="isFromStart"||n==="isStart"},eIt=function(e,n,r,s){var a=e.ratio,o=n<0||!n&&(!e._start&&tIt(e)&&!(!e._initted&&SN(e))||(e._ts<0||e._dp._ts<0)&&!SN(e))?0:1,l=e._rDelay,u=0,f,h,p;if(l&&e._repeat&&(u=RE(0,e._tDur,n),h=V_(u,l),e._yoyo&&h&1&&(o=1-o),h!==V_(e._tTime,l)&&(a=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==a||xa||s||e._zTime===Wa||!n&&e._zTime){if(!e._initted&&eY(e,n,s,r,u))return;for(p=e._zTime,e._zTime=n||(r?Wa:0),r||(r=n&&!p),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=u,f=e._pt;f;)f.r(o,f.d),f=f._next;n<0&&xN(e,n,r,!0),e._onUpdate&&!r&&jl(e,"onUpdate"),u&&e._repeat&&!r&&e.parent&&jl(e,"onRepeat"),(n>=e._tDur||n<0)&&e.ratio===o&&(o&&xm(e,1),!r&&!xa&&(jl(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=n)},nIt=function(e,n,r){var s;if(r>n)for(s=e._first;s&&s._start<=r;){if(s.data==="isPause"&&s._start>n)return s;s=s._next}else for(s=e._last;s&&s._start>=r;){if(s.data==="isPause"&&s._start<n)return s;s=s._prev}},H_=function(e,n,r,s){var a=e._repeat,o=Ms(n)||0,l=e._tTime/e._tDur;return l&&!s&&(e._time*=o/e._dur),e._dur=o,e._tDur=a?a<0?1e10:Ms(o*(a+1)+e._rDelay*a):o,l>0&&!s&&XR(e,e._tTime=e._tDur*l),e.parent&&WR(e),r||vy(e.parent,e),e},j8=function(e){return e instanceof To?vy(e):H_(e,e._dur)},iIt={_start:0,endTime:FS,totalDuration:FS},Au=function i(e,n,r){var s=e.labels,a=e._recent||iIt,o=e.duration()>=Jf?a.endTime(!1):e._dur,l,u,f;return ea(n)&&(isNaN(n)||n in s)?(u=n.charAt(0),f=n.substr(-1)==="%",l=n.indexOf("="),u==="<"||u===">"?(l>=0&&(n=n.replace(/=/,"")),(u==="<"?a._start:a.endTime(a._repeat>=0))+(parseFloat(n.substr(1))||0)*(f?(l<0?a:r).totalDuration()/100:1)):l<0?(n in s||(s[n]=o),s[n]):(u=parseFloat(n.charAt(l-1)+n.substr(l+1)),f&&r&&(u=u/100*(Xa(r)?r[0]:r).totalDuration()),l>1?i(e,n.substr(0,l-1),r)+u:o+u)):n==null?o:+n},X1=function(e,n,r){var s=Dd(n[1]),a=(s?2:1)+(e<2?0:1),o=n[a],l,u;if(s&&(o.duration=n[1]),o.parent=r,e){for(l=o,u=r;u&&!("immediateRender"in l);)l=u.vars.defaults||{},u=ul(u.vars.inherit)&&u.parent;o.immediateRender=ul(l.immediateRender),e<2?o.runBackwards=1:o.startAt=n[a-1]}return new As(n[0],o,n[a+1])},Rm=function(e,n){return e||e===0?n(e):n},RE=function(e,n,r){return r<e?e:r>n?n:r},Ga=function(e,n){return!ea(e)||!(n=$Ot.exec(e))?"":n[1]},rIt=function(e,n,r){return Rm(r,function(s){return RE(e,n,s)})},EN=[].slice,nY=function(e,n){return e&&ah(e)&&"length"in e&&(!n&&!e.length||e.length-1 in e&&ah(e[0]))&&!e.nodeType&&e!==Pf},sIt=function(e,n,r){return r===void 0&&(r=[]),e.forEach(function(s){var a;return ea(s)&&!n||nY(s,1)?(a=r).push.apply(a,Du(s)):r.push(s)})||r},Du=function(e,n,r){return Mr&&!n&&Mr.selector?Mr.selector(e):ea(e)&&!r&&(_N||!j_())?EN.call((n||$4).querySelectorAll(e),0):Xa(e)?sIt(e,r):nY(e)?EN.call(e,0):e?[e]:[]},TN=function(e){return e=Du(e)[0]||BS("Invalid scope")||{},function(n){var r=e.current||e.nativeElement||e;return Du(n,r.querySelectorAll?r:r===e?BS("Invalid scope")||$4.createElement("div"):e)}},iY=function(e){return e.sort(function(){return .5-Math.random()})},rY=function(e){if(ns(e))return e;var n=ah(e)?e:{each:e},r=_y(n.ease),s=n.from||0,a=parseFloat(n.base)||0,o={},l=s>0&&s<1,u=isNaN(s)||l,f=n.axis,h=s,p=s;return ea(s)?h=p={center:.5,edges:.5,end:1}[s]||0:!l&&u&&(h=s[0],p=s[1]),function(y,_,x){var S=(x||n).length,E=o[S],b,A,C,M,I,k,N,L,U;if(!E){if(U=n.grid==="auto"?0:(n.grid||[1,Jf])[1],!U){for(N=-1e8;N<(N=x[U++].getBoundingClientRect().left)&&U<S;);U<S&&U--}for(E=o[S]=[],b=u?Math.min(U,S)*h-.5:s%U,A=U===Jf?0:u?S*p/U-.5:s/U|0,N=0,L=Jf,k=0;k<S;k++)C=k%U-b,M=A-(k/U|0),E[k]=I=f?Math.abs(f==="y"?M:C):BX(C*C+M*M),I>N&&(N=I),I<L&&(L=I);s==="random"&&iY(E),E.max=N-L,E.min=L,E.v=S=(parseFloat(n.amount)||parseFloat(n.each)*(U>S?S-1:f?f==="y"?S/U:U:Math.max(U,S/U))||0)*(s==="edges"?-1:1),E.b=S<0?a-S:a,E.u=Ga(n.amount||n.each)||0,r=r&&S<0?pY(r):r}return S=(E[y]-E.min)/E.max||0,Ms(E.b+(r?r(S):S)*E.v)+E.u}},wN=function(e){var n=Math.pow(10,((e+"").split(".")[1]||"").length);return function(r){var s=Ms(Math.round(parseFloat(r)/e)*e*n);return(s-s%1)/n+(Dd(r)?0:Ga(r))}},sY=function(e,n){var r=Xa(e),s,a;return!r&&ah(e)&&(s=r=e.radius||Jf,e.values?(e=Du(e.values),(a=!Dd(e[0]))&&(s*=s)):e=wN(e.increment)),Rm(n,r?ns(e)?function(o){return a=e(o),Math.abs(a-o)<=s?a:o}:function(o){for(var l=parseFloat(a?o.x:o),u=parseFloat(a?o.y:0),f=Jf,h=0,p=e.length,y,_;p--;)a?(y=e[p].x-l,_=e[p].y-u,y=y*y+_*_):y=Math.abs(e[p]-l),y<f&&(f=y,h=p);return h=!s||f<=s?e[h]:o,a||h===o||Dd(o)?h:h+Ga(o)}:wN(e))},aY=function(e,n,r,s){return Rm(Xa(e)?!n:r===!0?!!(r=0):!s,function(){return Xa(e)?e[~~(Math.random()*e.length)]:(r=r||1e-5)&&(s=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((e-r/2+Math.random()*(n-e+r*.99))/r)*r*s)/s})},aIt=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(s){return n.reduce(function(a,o){return o(a)},s)}},oIt=function(e,n){return function(r){return e(parseFloat(r))+(n||Ga(r))}},lIt=function(e,n,r){return lY(e,n,0,1,r)},oY=function(e,n,r){return Rm(r,function(s){return e[~~n(s)]})},uIt=function i(e,n,r){var s=n-e;return Xa(e)?oY(e,i(0,e.length),n):Rm(r,function(a){return(s+(a-e)%s)%s+e})},cIt=function i(e,n,r){var s=n-e,a=s*2;return Xa(e)?oY(e,i(0,e.length-1),n):Rm(r,function(o){return o=(a+(o-e)%a)%a||0,e+(o>s?a-o:o)})},VS=function(e){for(var n=0,r="",s,a,o,l;~(s=e.indexOf("random(",n));)o=e.indexOf(")",s),l=e.charAt(s+7)==="[",a=e.substr(s+7,o-s-7).match(l?jX:vN),r+=e.substr(n,s-n)+aY(l?a:+a[0],l?0:+a[1],+a[2]||1e-5),n=o+1;return r+e.substr(n,e.length-n)},lY=function(e,n,r,s,a){var o=n-e,l=s-r;return Rm(a,function(u){return r+((u-e)/o*l||0)})},fIt=function i(e,n,r,s){var a=isNaN(e+n)?0:function(_){return(1-_)*e+_*n};if(!a){var o=ea(e),l={},u,f,h,p,y;if(r===!0&&(s=1)&&(r=null),o)e={p:e},n={p:n};else if(Xa(e)&&!Xa(n)){for(h=[],p=e.length,y=p-2,f=1;f<p;f++)h.push(i(e[f-1],e[f]));p--,a=function(x){x*=p;var S=Math.min(y,~~x);return h[S](x-S)},r=n}else s||(e=F_(Xa(e)?[]:{},e));if(!h){for(u in n)Z4.call(l,e,u,"get",n[u]);a=function(x){return ek(x,l)||(o?e.p:e)}}}return Rm(r,a)},G8=function(e,n,r){var s=e.labels,a=Jf,o,l,u;for(o in s)l=s[o]-n,l<0==!!r&&l&&a>(l=Math.abs(l))&&(u=o,a=l);return u},jl=function(e,n,r){var s=e.vars,a=s[n],o=Mr,l=e._ctx,u,f,h;if(a)return u=s[n+"Params"],f=s.callbackScope||e,r&&lm.length&&JC(),l&&(Mr=l),h=u?a.apply(f,u):a.call(f),Mr=o,h},b1=function(e){return xm(e),e.scrollTrigger&&e.scrollTrigger.kill(!!xa),e.progress()<1&&jl(e,"onInterrupt"),e},Yv,uY=[],cY=function(e){if(e)if(e=!e.name&&e.default||e,q4()||e.headless){var n=e.name,r=ns(e),s=n&&!r&&e.init?function(){this._props=[]}:e,a={init:FS,render:ek,add:Z4,kill:MIt,modifier:AIt,rawVars:0},o={targetTest:0,get:0,getSetter:tk,aliases:{},register:0};if(j_(),e!==s){if(Bl[n])return;Jl(s,Jl(t2(e,a),o)),F_(s.prototype,F_(a,t2(e,o))),Bl[s.prop=n]=s,e.targetTest&&(lM.push(s),X4[n]=1),n=(n==="css"?"CSS":n.charAt(0).toUpperCase()+n.substr(1))+"Plugin"}$X(n,s),e.register&&e.register(yl,s,fl)}else uY.push(e)},rr=255,x1={aqua:[0,rr,rr],lime:[0,rr,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,rr],navy:[0,0,128],white:[rr,rr,rr],olive:[128,128,0],yellow:[rr,rr,0],orange:[rr,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[rr,0,0],pink:[rr,192,203],cyan:[0,rr,rr],transparent:[rr,rr,rr,0]},oD=function(e,n,r){return e+=e<0?1:e>1?-1:0,(e*6<1?n+(r-n)*e*6:e<.5?r:e*3<2?n+(r-n)*(2/3-e)*6:n)*rr+.5|0},fY=function(e,n,r){var s=e?Dd(e)?[e>>16,e>>8&rr,e&rr]:0:x1.black,a,o,l,u,f,h,p,y,_,x;if(!s){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),x1[e])s=x1[e];else if(e.charAt(0)==="#"){if(e.length<6&&(a=e.charAt(1),o=e.charAt(2),l=e.charAt(3),e="#"+a+a+o+o+l+l+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return s=parseInt(e.substr(1,6),16),[s>>16,s>>8&rr,s&rr,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),s=[e>>16,e>>8&rr,e&rr]}else if(e.substr(0,3)==="hsl"){if(s=x=e.match(vN),!n)u=+s[0]%360/360,f=+s[1]/100,h=+s[2]/100,o=h<=.5?h*(f+1):h+f-h*f,a=h*2-o,s.length>3&&(s[3]*=1),s[0]=oD(u+1/3,a,o),s[1]=oD(u,a,o),s[2]=oD(u-1/3,a,o);else if(~e.indexOf("="))return s=e.match(VX),r&&s.length<4&&(s[3]=1),s}else s=e.match(vN)||x1.transparent;s=s.map(Number)}return n&&!x&&(a=s[0]/rr,o=s[1]/rr,l=s[2]/rr,p=Math.max(a,o,l),y=Math.min(a,o,l),h=(p+y)/2,p===y?u=f=0:(_=p-y,f=h>.5?_/(2-p-y):_/(p+y),u=p===a?(o-l)/_+(o<l?6:0):p===o?(l-a)/_+2:(a-o)/_+4,u*=60),s[0]=~~(u+.5),s[1]=~~(f*100+.5),s[2]=~~(h*100+.5)),r&&s.length<4&&(s[3]=1),s},hY=function(e){var n=[],r=[],s=-1;return e.split(um).forEach(function(a){var o=a.match(Xv)||[];n.push.apply(n,o),r.push(s+=o.length+1)}),n.c=r,n},q8=function(e,n,r){var s="",a=(e+s).match(um),o=n?"hsla(":"rgba(",l=0,u,f,h,p;if(!a)return e;if(a=a.map(function(y){return(y=fY(y,n,1))&&o+(n?y[0]+","+y[1]+"%,"+y[2]+"%,"+y[3]:y.join(","))+")"}),r&&(h=hY(e),u=r.c,u.join(s)!==h.c.join(s)))for(f=e.replace(um,"1").split(Xv),p=f.length-1;l<p;l++)s+=f[l]+(~u.indexOf(l)?a.shift()||o+"0,0,0,0)":(h.length?h:a.length?a:r).shift());if(!f)for(f=e.split(um),p=f.length-1;l<p;l++)s+=f[l]+a[l];return s+f[p]},um=function(){var i="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in x1)i+="|"+e+"\\b";return new RegExp(i+")","gi")}(),hIt=/hsl[a]?\(/,dY=function(e){var n=e.join(" "),r;if(um.lastIndex=0,um.test(n))return r=hIt.test(n),e[1]=q8(e[1],r),e[0]=q8(e[0],r,hY(e[1])),!0},HS,Hl=function(){var i=Date.now,e=500,n=33,r=i(),s=r,a=1e3/240,o=a,l=[],u,f,h,p,y,_,x=function S(E){var b=i()-s,A=E===!0,C,M,I,k;if((b>e||b<0)&&(r+=b-n),s+=b,I=s-r,C=I-o,(C>0||A)&&(k=++p.frame,y=I-p.time*1e3,p.time=I=I/1e3,o+=C+(C>=a?4:a-C),M=1),A||(u=f(S)),M)for(_=0;_<l.length;_++)l[_](I,y,k,E)};return p={time:0,frame:0,tick:function(){x(!0)},deltaRatio:function(E){return y/(1e3/(E||60))},wake:function(){GX&&(!_N&&q4()&&(Pf=_N=window,$4=Pf.document||{},Ql.gsap=yl,(Pf.gsapVersions||(Pf.gsapVersions=[])).push(yl.version),qX(QC||Pf.GreenSockGlobals||!Pf.gsap&&Pf||{}),uY.forEach(cY)),h=typeof requestAnimationFrame<"u"&&requestAnimationFrame,u&&p.sleep(),f=h||function(E){return setTimeout(E,o-p.time*1e3+1|0)},HS=1,x(2))},sleep:function(){(h?cancelAnimationFrame:clearTimeout)(u),HS=0,f=FS},lagSmoothing:function(E,b){e=E||1/0,n=Math.min(b||33,e)},fps:function(E){a=1e3/(E||240),o=p.time*1e3+a},add:function(E,b,A){var C=b?function(M,I,k,N){E(M,I,k,N),p.remove(C)}:E;return p.remove(E),l[A?"unshift":"push"](C),j_(),C},remove:function(E,b){~(b=l.indexOf(E))&&l.splice(b,1)&&_>=b&&_--},_listeners:l},p}(),j_=function(){return!HS&&Hl.wake()},yi={},dIt=/^[\d.\-M][\d.\-,\s]/,pIt=/["']/g,mIt=function(e){for(var n={},r=e.substr(1,e.length-3).split(":"),s=r[0],a=1,o=r.length,l,u,f;a<o;a++)u=r[a],l=a!==o-1?u.lastIndexOf(","):u.length,f=u.substr(0,l),n[s]=isNaN(f)?f.replace(pIt,"").trim():+f,s=u.substr(l+1).trim();return n},gIt=function(e){var n=e.indexOf("(")+1,r=e.indexOf(")"),s=e.indexOf("(",n);return e.substring(n,~s&&s<r?e.indexOf(")",r+1):r)},yIt=function(e){var n=(e+"").split("("),r=yi[n[0]];return r&&n.length>1&&r.config?r.config.apply(null,~e.indexOf("{")?[mIt(n[1])]:gIt(e).split(",").map(KX)):yi._CE&&dIt.test(e)?yi._CE("",e):r},pY=function(e){return function(n){return 1-e(1-n)}},mY=function i(e,n){for(var r=e._first,s;r;)r instanceof To?i(r,n):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==n&&(r.timeline?i(r.timeline,n):(s=r._ease,r._ease=r._yEase,r._yEase=s,r._yoyo=n)),r=r._next},_y=function(e,n){return e&&(ns(e)?e:yi[e]||yIt(e))||n},e0=function(e,n,r,s){r===void 0&&(r=function(u){return 1-n(1-u)}),s===void 0&&(s=function(u){return u<.5?n(u*2)/2:1-n((1-u)*2)/2});var a={easeIn:n,easeOut:r,easeInOut:s},o;return cl(e,function(l){yi[l]=Ql[l]=a,yi[o=l.toLowerCase()]=r;for(var u in a)yi[o+(u==="easeIn"?".in":u==="easeOut"?".out":".inOut")]=yi[l+"."+u]=a[u]}),a},gY=function(e){return function(n){return n<.5?(1-e(1-n*2))/2:.5+e((n-.5)*2)/2}},lD=function i(e,n,r){var s=n>=1?n:1,a=(r||(e?.3:.45))/(n<1?n:1),o=a/yN*(Math.asin(1/s)||0),l=function(h){return h===1?1:s*Math.pow(2,-10*h)*qOt((h-o)*a)+1},u=e==="out"?l:e==="in"?function(f){return 1-l(1-f)}:gY(l);return a=yN/a,u.config=function(f,h){return i(e,f,h)},u},uD=function i(e,n){n===void 0&&(n=1.70158);var r=function(o){return o?--o*o*((n+1)*o+n)+1:0},s=e==="out"?r:e==="in"?function(a){return 1-r(1-a)}:gY(r);return s.config=function(a){return i(e,a)},s};cl("Linear,Quad,Cubic,Quart,Quint,Strong",function(i,e){var n=e<5?e+1:e;e0(i+",Power"+(n-1),e?function(r){return Math.pow(r,n)}:function(r){return r},function(r){return 1-Math.pow(1-r,n)},function(r){return r<.5?Math.pow(r*2,n)/2:1-Math.pow((1-r)*2,n)/2})});yi.Linear.easeNone=yi.none=yi.Linear.easeIn;e0("Elastic",lD("in"),lD("out"),lD());(function(i,e){var n=1/e,r=2*n,s=2.5*n,a=function(l){return l<n?i*l*l:l<r?i*Math.pow(l-1.5/e,2)+.75:l<s?i*(l-=2.25/e)*l+.9375:i*Math.pow(l-2.625/e,2)+.984375};e0("Bounce",function(o){return 1-a(1-o)},a)})(7.5625,2.75);e0("Expo",function(i){return Math.pow(2,10*(i-1))*i+i*i*i*i*i*i*(1-i)});e0("Circ",function(i){return-(BX(1-i*i)-1)});e0("Sine",function(i){return i===1?1:-GOt(i*HOt)+1});e0("Back",uD("in"),uD("out"),uD());yi.SteppedEase=yi.steps=Ql.SteppedEase={config:function(e,n){e===void 0&&(e=1);var r=1/e,s=e+(n?0:1),a=n?1:0,o=1-Wa;return function(l){return((s*RE(0,o,l)|0)+a)*r}}};B_.ease=yi["quad.out"];cl("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(i){return Y4+=i+","+i+"Params,"});var yY=function(e,n){this.id=jOt++,e._gsap=this,this.target=e,this.harness=n,this.get=n?n.get:XX,this.set=n?n.getSetter:tk},jS=function(){function i(n){this.vars=n,this._delay=+n.delay||0,(this._repeat=n.repeat===1/0?-2:n.repeat||0)&&(this._rDelay=n.repeatDelay||0,this._yoyo=!!n.yoyo||!!n.yoyoEase),this._ts=1,H_(this,+n.duration,1,1),this.data=n.data,Mr&&(this._ctx=Mr,Mr.data.push(this)),HS||Hl.wake()}var e=i.prototype;return e.delay=function(r){return r||r===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},e.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},e.totalDuration=function(r){return arguments.length?(this._dirty=0,H_(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(r,s){if(j_(),!arguments.length)return this._tTime;var a=this._dp;if(a&&a.smoothChildTiming&&this._ts){for(XR(this,r),!a._dp||a.parent||JX(a,this);a&&a.parent;)a.parent._time!==a._start+(a._ts>=0?a._tTime/a._ts:(a.totalDuration()-a._tTime)/-a._ts)&&a.totalTime(a._tTime,!0),a=a.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&zf(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!s||this._initted&&Math.abs(this._zTime)===Wa||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),YX(this,r,s)),this},e.time=function(r,s){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+H8(this))%(this._dur+this._rDelay)||(r?this._dur:0),s):this._time},e.totalProgress=function(r,s){return arguments.length?this.totalTime(this.totalDuration()*r,s):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(r,s){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-r:r)+H8(this),s):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(r,s){var a=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*a,s):this._repeat?V_(this._tTime,a)+1:1},e.timeScale=function(r,s){if(!arguments.length)return this._rts===-1e-8?0:this._rts;if(this._rts===r)return this;var a=this.parent&&this._ts?e2(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-1e-8?0:this._rts,this.totalTime(RE(-Math.abs(this._delay),this._tDur,a),s!==!1),WR(this),QOt(this)},e.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(j_(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Wa&&(this._tTime-=Wa)))),this):this._ps},e.startTime=function(r){if(arguments.length){this._start=r;var s=this.parent||this._dp;return s&&(s._sort||!this.parent)&&zf(s,this,r-this._delay),this}return this._start},e.endTime=function(r){return this._start+(ul(r)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(r){var s=this.parent||this._dp;return s?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?e2(s.rawTime(r),this):this._tTime:this._tTime},e.revert=function(r){r===void 0&&(r=XOt);var s=xa;return xa=r,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(r),this.totalTime(-.01,r.suppressEvents)),this.data!=="nested"&&r.kill!==!1&&this.kill(),xa=s,this},e.globalTime=function(r){for(var s=this,a=arguments.length?r:s.rawTime();s;)a=s._start+a/(Math.abs(s._ts)||1),s=s._dp;return!this.parent&&this._sat?this._sat.globalTime(r):a},e.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,j8(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(r){if(arguments.length){var s=this._time;return this._rDelay=r,j8(this),s?this.time(s):this}return this._rDelay},e.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},e.seek=function(r,s){return this.totalTime(Au(this,r),ul(s))},e.restart=function(r,s){return this.play().totalTime(r?-this._delay:0,ul(s)),this._dur||(this._zTime=-1e-8),this},e.play=function(r,s){return r!=null&&this.seek(r,s),this.reversed(!1).paused(!1)},e.reverse=function(r,s){return r!=null&&this.seek(r||this.totalDuration(),s),this.reversed(!0).paused(!1)},e.pause=function(r,s){return r!=null&&this.seek(r,s),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-1e-8:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},e.isActive=function(){var r=this.parent||this._dp,s=this._start,a;return!!(!r||this._ts&&this._initted&&r.isActive()&&(a=r.rawTime(!0))>=s&&a<this.endTime(!0)-Wa)},e.eventCallback=function(r,s,a){var o=this.vars;return arguments.length>1?(s?(o[r]=s,a&&(o[r+"Params"]=a),r==="onUpdate"&&(this._onUpdate=s)):delete o[r],this):o[r]},e.then=function(r){var s=this;return new Promise(function(a){var o=ns(r)?r:ZX,l=function(){var f=s.then;s.then=null,ns(o)&&(o=o(s))&&(o.then||o===s)&&(s.then=f),a(o),s.then=f};s._initted&&s.totalProgress()===1&&s._ts>=0||!s._tTime&&s._ts<0?l():s._prom=l})},e.kill=function(){b1(this)},i}();Jl(jS.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var To=function(i){zX(e,i);function e(r,s){var a;return r===void 0&&(r={}),a=i.call(this,r)||this,a.labels={},a.smoothChildTiming=!!r.smoothChildTiming,a.autoRemoveChildren=!!r.autoRemoveChildren,a._sort=ul(r.sortChildren),Br&&zf(r.parent||Br,id(a),s),r.reversed&&a.reverse(),r.paused&&a.paused(!0),r.scrollTrigger&&tY(id(a),r.scrollTrigger),a}var n=e.prototype;return n.to=function(s,a,o){return X1(0,arguments,this),this},n.from=function(s,a,o){return X1(1,arguments,this),this},n.fromTo=function(s,a,o,l){return X1(2,arguments,this),this},n.set=function(s,a,o){return a.duration=0,a.parent=this,W1(a).repeatDelay||(a.repeat=0),a.immediateRender=!!a.immediateRender,new As(s,a,Au(this,o),1),this},n.call=function(s,a,o){return zf(this,As.delayedCall(0,s,a),o)},n.staggerTo=function(s,a,o,l,u,f,h){return o.duration=a,o.stagger=o.stagger||l,o.onComplete=f,o.onCompleteParams=h,o.parent=this,new As(s,o,Au(this,u)),this},n.staggerFrom=function(s,a,o,l,u,f,h){return o.runBackwards=1,W1(o).immediateRender=ul(o.immediateRender),this.staggerTo(s,a,o,l,u,f,h)},n.staggerFromTo=function(s,a,o,l,u,f,h,p){return l.startAt=o,W1(l).immediateRender=ul(l.immediateRender),this.staggerTo(s,a,l,u,f,h,p)},n.render=function(s,a,o){var l=this._time,u=this._dirty?this.totalDuration():this._tDur,f=this._dur,h=s<=0?0:Ms(s),p=this._zTime<0!=s<0&&(this._initted||!f),y,_,x,S,E,b,A,C,M,I,k,N;if(this!==Br&&h>u&&s>=0&&(h=u),h!==this._tTime||o||p){if(l!==this._time&&f&&(h+=this._time-l,s+=this._time-l),y=h,M=this._start,C=this._ts,b=!C,p&&(f||(l=this._zTime),(s||!a)&&(this._zTime=s)),this._repeat){if(k=this._yoyo,E=f+this._rDelay,this._repeat<-1&&s<0)return this.totalTime(E*100+s,a,o);if(y=Ms(h%E),h===u?(S=this._repeat,y=f):(I=Ms(h/E),S=~~I,S&&S===I&&(y=f,S--),y>f&&(y=f)),I=V_(this._tTime,E),!l&&this._tTime&&I!==S&&this._tTime-I*E-this._dur<=0&&(I=S),k&&S&1&&(y=f-y,N=1),S!==I&&!this._lock){var L=k&&I&1,U=L===(k&&S&1);if(S<I&&(L=!L),l=L?0:h%f?f:h,this._lock=1,this.render(l||(N?0:Ms(S*E)),a,!f)._lock=0,this._tTime=h,!a&&this.parent&&jl(this,"onRepeat"),this.vars.repeatRefresh&&!N&&(this.invalidate()._lock=1),l&&l!==this._time||b!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(f=this._dur,u=this._tDur,U&&(this._lock=2,l=L?f:-1e-4,this.render(l,!0),this.vars.repeatRefresh&&!N&&this.invalidate()),this._lock=0,!this._ts&&!b)return this;mY(this,N)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(A=nIt(this,Ms(l),Ms(y)),A&&(h-=y-(y=A._start))),this._tTime=h,this._time=y,this._act=!C,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=s,l=0),!l&&y&&!a&&!S&&(jl(this,"onStart"),this._tTime!==h))return this;if(y>=l&&s>=0)for(_=this._first;_;){if(x=_._next,(_._act||y>=_._start)&&_._ts&&A!==_){if(_.parent!==this)return this.render(s,a,o);if(_.render(_._ts>0?(y-_._start)*_._ts:(_._dirty?_.totalDuration():_._tDur)+(y-_._start)*_._ts,a,o),y!==this._time||!this._ts&&!b){A=0,x&&(h+=this._zTime=-1e-8);break}}_=x}else{_=this._last;for(var O=s<0?s:y;_;){if(x=_._prev,(_._act||O<=_._end)&&_._ts&&A!==_){if(_.parent!==this)return this.render(s,a,o);if(_.render(_._ts>0?(O-_._start)*_._ts:(_._dirty?_.totalDuration():_._tDur)+(O-_._start)*_._ts,a,o||xa&&(_._initted||_._startAt)),y!==this._time||!this._ts&&!b){A=0,x&&(h+=this._zTime=O?-1e-8:Wa);break}}_=x}}if(A&&!a&&(this.pause(),A.render(y>=l?0:-1e-8)._zTime=y>=l?1:-1,this._ts))return this._start=M,WR(this),this.render(s,a,o);this._onUpdate&&!a&&jl(this,"onUpdate",!0),(h===u&&this._tTime>=this.totalDuration()||!h&&l)&&(M===this._start||Math.abs(C)!==Math.abs(this._ts))&&(this._lock||((s||!f)&&(h===u&&this._ts>0||!h&&this._ts<0)&&xm(this,1),!a&&!(s<0&&!l)&&(h||l||!u)&&(jl(this,h===u&&s>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(h<u&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(s,a){var o=this;if(Dd(a)||(a=Au(this,a,s)),!(s instanceof jS)){if(Xa(s))return s.forEach(function(l){return o.add(l,a)}),this;if(ea(s))return this.addLabel(s,a);if(ns(s))s=As.delayedCall(0,s);else return this}return this!==s?zf(this,s,a):this},n.getChildren=function(s,a,o,l){s===void 0&&(s=!0),a===void 0&&(a=!0),o===void 0&&(o=!0),l===void 0&&(l=-1e8);for(var u=[],f=this._first;f;)f._start>=l&&(f instanceof As?a&&u.push(f):(o&&u.push(f),s&&u.push.apply(u,f.getChildren(!0,a,o)))),f=f._next;return u},n.getById=function(s){for(var a=this.getChildren(1,1,1),o=a.length;o--;)if(a[o].vars.id===s)return a[o]},n.remove=function(s){return ea(s)?this.removeLabel(s):ns(s)?this.killTweensOf(s):(s.parent===this&&$R(this,s),s===this._recent&&(this._recent=this._last),vy(this))},n.totalTime=function(s,a){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Ms(Hl.time-(this._ts>0?s/this._ts:(this.totalDuration()-s)/-this._ts))),i.prototype.totalTime.call(this,s,a),this._forcing=0,this):this._tTime},n.addLabel=function(s,a){return this.labels[s]=Au(this,a),this},n.removeLabel=function(s){return delete this.labels[s],this},n.addPause=function(s,a,o){var l=As.delayedCall(0,a||FS,o);return l.data="isPause",this._hasPause=1,zf(this,l,Au(this,s))},n.removePause=function(s){var a=this._first;for(s=Au(this,s);a;)a._start===s&&a.data==="isPause"&&xm(a),a=a._next},n.killTweensOf=function(s,a,o){for(var l=this.getTweensOf(s,o),u=l.length;u--;)Jp!==l[u]&&l[u].kill(s,a);return this},n.getTweensOf=function(s,a){for(var o=[],l=Du(s),u=this._first,f=Dd(a),h;u;)u instanceof As?YOt(u._targets,l)&&(f?(!Jp||u._initted&&u._ts)&&u.globalTime(0)<=a&&u.globalTime(u.totalDuration())>a:!a||u.isActive())&&o.push(u):(h=u.getTweensOf(l,a)).length&&o.push.apply(o,h),u=u._next;return o},n.tweenTo=function(s,a){a=a||{};var o=this,l=Au(o,s),u=a,f=u.startAt,h=u.onStart,p=u.onStartParams,y=u.immediateRender,_,x=As.to(o,Jl({ease:a.ease||"none",lazy:!1,immediateRender:!1,time:l,overwrite:"auto",duration:a.duration||Math.abs((l-(f&&"time"in f?f.time:o._time))/o.timeScale())||Wa,onStart:function(){if(o.pause(),!_){var E=a.duration||Math.abs((l-(f&&"time"in f?f.time:o._time))/o.timeScale());x._dur!==E&&H_(x,E,0,1).render(x._time,!0,!0),_=1}h&&h.apply(x,p||[])}},a));return y?x.render(0):x},n.tweenFromTo=function(s,a,o){return this.tweenTo(a,Jl({startAt:{time:Au(this,s)}},o))},n.recent=function(){return this._recent},n.nextLabel=function(s){return s===void 0&&(s=this._time),G8(this,Au(this,s))},n.previousLabel=function(s){return s===void 0&&(s=this._time),G8(this,Au(this,s),1)},n.currentLabel=function(s){return arguments.length?this.seek(s,!0):this.previousLabel(this._time+Wa)},n.shiftChildren=function(s,a,o){o===void 0&&(o=0);for(var l=this._first,u=this.labels,f;l;)l._start>=o&&(l._start+=s,l._end+=s),l=l._next;if(a)for(f in u)u[f]>=o&&(u[f]+=s);return vy(this)},n.invalidate=function(s){var a=this._first;for(this._lock=0;a;)a.invalidate(s),a=a._next;return i.prototype.invalidate.call(this,s)},n.clear=function(s){s===void 0&&(s=!0);for(var a=this._first,o;a;)o=a._next,this.remove(a),a=o;return this._dp&&(this._time=this._tTime=this._pTime=0),s&&(this.labels={}),vy(this)},n.totalDuration=function(s){var a=0,o=this,l=o._last,u=Jf,f,h,p;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-s:s));if(o._dirty){for(p=o.parent;l;)f=l._prev,l._dirty&&l.totalDuration(),h=l._start,h>u&&o._sort&&l._ts&&!o._lock?(o._lock=1,zf(o,l,h-l._delay,1)._lock=0):u=h,h<0&&l._ts&&(a-=h,(!p&&!o._dp||p&&p.smoothChildTiming)&&(o._start+=h/o._ts,o._time-=h,o._tTime-=h),o.shiftChildren(-h,!1,-1/0),u=0),l._end>a&&l._ts&&(a=l._end),l=f;H_(o,o===Br&&o._time>a?o._time:a,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(s){if(Br._ts&&(YX(Br,e2(s,Br)),WX=Hl.frame),Hl.frame>=F8){F8+=$l.autoSleep||120;var a=Br._first;if((!a||!a._ts)&&$l.autoSleep&&Hl._listeners.length<2){for(;a&&!a._ts;)a=a._next;a||Hl.sleep()}}},e}(jS);Jl(To.prototype,{_lock:0,_hasPause:0,_forcing:0});var vIt=function(e,n,r,s,a,o,l){var u=new fl(this._pt,e,n,0,1,EY,null,a),f=0,h=0,p,y,_,x,S,E,b,A;for(u.b=r,u.e=s,r+="",s+="",(b=~s.indexOf("random("))&&(s=VS(s)),o&&(A=[r,s],o(A,e,n),r=A[0],s=A[1]),y=r.match(sD)||[];p=sD.exec(s);)x=p[0],S=s.substring(f,p.index),_?_=(_+1)%5:S.substr(-5)==="rgba("&&(_=1),x!==y[h++]&&(E=parseFloat(y[h-1])||0,u._pt={_next:u._pt,p:S||h===1?S:",",s:E,c:x.charAt(1)==="="?l_(E,x)-E:parseFloat(x)-E,m:_&&_<4?Math.round:0},f=sD.lastIndex);return u.c=f<s.length?s.substring(f,s.length):"",u.fp=l,(HX.test(s)||b)&&(u.e=0),this._pt=u,u},Z4=function(e,n,r,s,a,o,l,u,f,h){ns(s)&&(s=s(a||0,e,o));var p=e[n],y=r!=="get"?r:ns(p)?f?e[n.indexOf("set")||!ns(e["get"+n.substr(3)])?n:"get"+n.substr(3)](f):e[n]():p,_=ns(p)?f?EIt:xY:J4,x;if(ea(s)&&(~s.indexOf("random(")&&(s=VS(s)),s.charAt(1)==="="&&(x=l_(y,s)+(Ga(y)||0),(x||x===0)&&(s=x))),!h||y!==s||AN)return!isNaN(y*s)&&s!==""?(x=new fl(this._pt,e,n,+y||0,s-(y||0),typeof p=="boolean"?wIt:SY,0,_),f&&(x.fp=f),l&&x.modifier(l,this,e),this._pt=x):(!p&&!(n in e)&&W4(n,s),vIt.call(this,e,n,y,s,_,u||$l.stringFilter,f))},_It=function(e,n,r,s,a){if(ns(e)&&(e=Y1(e,a,n,r,s)),!ah(e)||e.style&&e.nodeType||Xa(e)||FX(e))return ea(e)?Y1(e,a,n,r,s):e;var o={},l;for(l in e)o[l]=Y1(e[l],a,n,r,s);return o},vY=function(e,n,r,s,a,o){var l,u,f,h;if(Bl[e]&&(l=new Bl[e]).init(a,l.rawVars?n[e]:_It(n[e],s,a,o,r),r,s,o)!==!1&&(r._pt=u=new fl(r._pt,a,e,0,1,l.render,l,0,l.priority),r!==Yv))for(f=r._ptLookup[r._targets.indexOf(a)],h=l._props.length;h--;)f[l._props[h]]=u;return l},Jp,AN,Q4=function i(e,n,r){var s=e.vars,a=s.ease,o=s.startAt,l=s.immediateRender,u=s.lazy,f=s.onUpdate,h=s.runBackwards,p=s.yoyoEase,y=s.keyframes,_=s.autoRevert,x=e._dur,S=e._startAt,E=e._targets,b=e.parent,A=b&&b.data==="nested"?b.vars.targets:E,C=e._overwrite==="auto"&&!j4,M=e.timeline,I,k,N,L,U,O,B,H,V,X,et,q,W;if(M&&(!y||!a)&&(a="none"),e._ease=_y(a,B_.ease),e._yEase=p?pY(_y(p===!0?a:p,B_.ease)):0,p&&e._yoyo&&!e._repeat&&(p=e._yEase,e._yEase=e._ease,e._ease=p),e._from=!M&&!!s.runBackwards,!M||y&&!s.stagger){if(H=E[0]?yy(E[0]).harness:0,q=H&&s[H.prop],I=t2(s,X4),S&&(S._zTime<0&&S.progress(1),n<0&&h&&l&&!_?S.render(-1,!0):S.revert(h&&x?oM:WOt),S._lazy=0),o){if(xm(e._startAt=As.set(E,Jl({data:"isStart",overwrite:!1,parent:b,immediateRender:!0,lazy:!S&&ul(u),startAt:null,delay:0,onUpdate:f&&function(){return jl(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,n<0&&(xa||!l&&!_)&&e._startAt.revert(oM),l&&x&&n<=0&&r<=0){n&&(e._zTime=n);return}}else if(h&&x&&!S){if(n&&(l=!1),N=Jl({overwrite:!1,data:"isFromStart",lazy:l&&!S&&ul(u),immediateRender:l,stagger:0,parent:b},I),q&&(N[H.prop]=q),xm(e._startAt=As.set(E,N)),e._startAt._dp=0,e._startAt._sat=e,n<0&&(xa?e._startAt.revert(oM):e._startAt.render(-1,!0)),e._zTime=n,!l)i(e._startAt,Wa,Wa);else if(!n)return}for(e._pt=e._ptCache=0,u=x&&ul(u)||u&&!x,k=0;k<E.length;k++){if(U=E[k],B=U._gsap||K4(E)[k]._gsap,e._ptLookup[k]=X={},bN[B.id]&&lm.length&&JC(),et=A===E?k:A.indexOf(U),H&&(V=new H).init(U,q||I,e,et,A)!==!1&&(e._pt=L=new fl(e._pt,U,V.name,0,1,V.render,V,0,V.priority),V._props.forEach(function(Z){X[Z]=L}),V.priority&&(O=1)),!H||q)for(N in I)Bl[N]&&(V=vY(N,I,e,et,U,A))?V.priority&&(O=1):X[N]=L=Z4.call(e,U,N,"get",I[N],et,A,0,s.stringFilter);e._op&&e._op[k]&&e.kill(U,e._op[k]),C&&e._pt&&(Jp=e,Br.killTweensOf(U,X,e.globalTime(n)),W=!e.parent,Jp=0),e._pt&&u&&(bN[B.id]=1)}O&&TY(e),e._onInit&&e._onInit(e)}e._onUpdate=f,e._initted=(!e._op||e._pt)&&!W,y&&n<=0&&M.render(Jf,!0,!0)},bIt=function(e,n,r,s,a,o,l,u){var f=(e._pt&&e._ptCache||(e._ptCache={}))[n],h,p,y,_;if(!f)for(f=e._ptCache[n]=[],y=e._ptLookup,_=e._targets.length;_--;){if(h=y[_][n],h&&h.d&&h.d._pt)for(h=h.d._pt;h&&h.p!==n&&h.fp!==n;)h=h._next;if(!h)return AN=1,e.vars[n]="+=0",Q4(e,l),AN=0,u?BS(n+" not eligible for reset"):1;f.push(h)}for(_=f.length;_--;)p=f[_],h=p._pt||p,h.s=(s||s===0)&&!a?s:h.s+(s||0)+o*h.c,h.c=r-h.s,p.e&&(p.e=fs(r)+Ga(p.e)),p.b&&(p.b=h.s+Ga(p.b))},xIt=function(e,n){var r=e[0]?yy(e[0]).harness:0,s=r&&r.aliases,a,o,l,u;if(!s)return n;a=F_({},n);for(o in s)if(o in a)for(u=s[o].split(","),l=u.length;l--;)a[u[l]]=a[o];return a},SIt=function(e,n,r,s){var a=n.ease||s||"power1.inOut",o,l;if(Xa(n))l=r[e]||(r[e]=[]),n.forEach(function(u,f){return l.push({t:f/(n.length-1)*100,v:u,e:a})});else for(o in n)l=r[o]||(r[o]=[]),o==="ease"||l.push({t:parseFloat(e),v:n[o],e:a})},Y1=function(e,n,r,s,a){return ns(e)?e.call(n,r,s,a):ea(e)&&~e.indexOf("random(")?VS(e):e},_Y=Y4+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",bY={};cl(_Y+",id,stagger,delay,duration,paused,scrollTrigger",function(i){return bY[i]=1});var As=function(i){zX(e,i);function e(r,s,a,o){var l;typeof s=="number"&&(a.duration=s,s=a,a=null),l=i.call(this,o?s:W1(s))||this;var u=l.vars,f=u.duration,h=u.delay,p=u.immediateRender,y=u.stagger,_=u.overwrite,x=u.keyframes,S=u.defaults,E=u.scrollTrigger,b=u.yoyoEase,A=s.parent||Br,C=(Xa(r)||FX(r)?Dd(r[0]):"length"in s)?[r]:Du(r),M,I,k,N,L,U,O,B;if(l._targets=C.length?K4(C):BS("GSAP target "+r+" not found. https://gsap.com",!$l.nullTargetWarn)||[],l._ptLookup=[],l._overwrite=_,x||y||EA(f)||EA(h)){if(s=l.vars,M=l.timeline=new To({data:"nested",defaults:S||{},targets:A&&A.data==="nested"?A.vars.targets:C}),M.kill(),M.parent=M._dp=id(l),M._start=0,y||EA(f)||EA(h)){if(N=C.length,O=y&&rY(y),ah(y))for(L in y)~_Y.indexOf(L)&&(B||(B={}),B[L]=y[L]);for(I=0;I<N;I++)k=t2(s,bY),k.stagger=0,b&&(k.yoyoEase=b),B&&F_(k,B),U=C[I],k.duration=+Y1(f,id(l),I,U,C),k.delay=(+Y1(h,id(l),I,U,C)||0)-l._delay,!y&&N===1&&k.delay&&(l._delay=h=k.delay,l._start+=h,k.delay=0),M.to(U,k,O?O(I,U,C):0),M._ease=yi.none;M.duration()?f=h=0:l.timeline=0}else if(x){W1(Jl(M.vars.defaults,{ease:"none"})),M._ease=_y(x.ease||s.ease||"none");var H=0,V,X,et;if(Xa(x))x.forEach(function(q){return M.to(C,q,">")}),M.duration();else{k={};for(L in x)L==="ease"||L==="easeEach"||SIt(L,x[L],k,x.easeEach);for(L in k)for(V=k[L].sort(function(q,W){return q.t-W.t}),H=0,I=0;I<V.length;I++)X=V[I],et={ease:X.e,duration:(X.t-(I?V[I-1].t:0))/100*f},et[L]=X.v,M.to(C,et,H),H+=et.duration;M.duration()<f&&M.to({},{duration:f-M.duration()})}}f||l.duration(f=M.duration())}else l.timeline=0;return _===!0&&!j4&&(Jp=id(l),Br.killTweensOf(C),Jp=0),zf(A,id(l),a),s.reversed&&l.reverse(),s.paused&&l.paused(!0),(p||!f&&!x&&l._start===Ms(A._time)&&ul(p)&&JOt(id(l))&&A.data!=="nested")&&(l._tTime=-1e-8,l.render(Math.max(0,-h)||0)),E&&tY(id(l),E),l}var n=e.prototype;return n.render=function(s,a,o){var l=this._time,u=this._tDur,f=this._dur,h=s<0,p=s>u-Wa&&!h?u:s<Wa?0:s,y,_,x,S,E,b,A,C,M;if(!f)eIt(this,s,a,o);else if(p!==this._tTime||!s||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==h||this._lazy){if(y=p,C=this.timeline,this._repeat){if(S=f+this._rDelay,this._repeat<-1&&h)return this.totalTime(S*100+s,a,o);if(y=Ms(p%S),p===u?(x=this._repeat,y=f):(E=Ms(p/S),x=~~E,x&&x===E?(y=f,x--):y>f&&(y=f)),b=this._yoyo&&x&1,b&&(M=this._yEase,y=f-y),E=V_(this._tTime,S),y===l&&!o&&this._initted&&x===E)return this._tTime=p,this;x!==E&&(C&&this._yEase&&mY(C,b),this.vars.repeatRefresh&&!b&&!this._lock&&y!==S&&this._initted&&(this._lock=o=1,this.render(Ms(S*x),!0).invalidate()._lock=0))}if(!this._initted){if(eY(this,h?s:y,o,a,p))return this._tTime=0,this;if(l!==this._time&&!(o&&this.vars.repeatRefresh&&x!==E))return this;if(f!==this._dur)return this.render(s,a,o)}if(this._tTime=p,this._time=y,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=A=(M||this._ease)(y/f),this._from&&(this.ratio=A=1-A),y&&!l&&!a&&!x&&(jl(this,"onStart"),this._tTime!==p))return this;for(_=this._pt;_;)_.r(A,_.d),_=_._next;C&&C.render(s<0?s:C._dur*C._ease(y/this._dur),a,o)||this._startAt&&(this._zTime=s),this._onUpdate&&!a&&(h&&xN(this,s,a,o),jl(this,"onUpdate")),this._repeat&&x!==E&&this.vars.onRepeat&&!a&&this.parent&&jl(this,"onRepeat"),(p===this._tDur||!p)&&this._tTime===p&&(h&&!this._onUpdate&&xN(this,s,!0,!0),(s||!f)&&(p===this._tDur&&this._ts>0||!p&&this._ts<0)&&xm(this,1),!a&&!(h&&!l)&&(p||l||b)&&(jl(this,p===u?"onComplete":"onReverseComplete",!0),this._prom&&!(p<u&&this.timeScale()>0)&&this._prom()))}return this},n.targets=function(){return this._targets},n.invalidate=function(s){return(!s||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(s),i.prototype.invalidate.call(this,s)},n.resetTo=function(s,a,o,l,u){HS||Hl.wake(),this._ts||this.play();var f=Math.min(this._dur,(this._dp._time-this._start)*this._ts),h;return this._initted||Q4(this,f),h=this._ease(f/this._dur),bIt(this,s,a,o,l,h,f,u)?this.resetTo(s,a,o,l,1):(XR(this,0),this.parent||QX(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(s,a){if(a===void 0&&(a="all"),!s&&(!a||a==="all"))return this._lazy=this._pt=0,this.parent?b1(this):this.scrollTrigger&&this.scrollTrigger.kill(!!xa),this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(s,a,Jp&&Jp.vars.overwrite!==!0)._first||b1(this),this.parent&&o!==this.timeline.totalDuration()&&H_(this,this._dur*this.timeline._tDur/o,0,1),this}var l=this._targets,u=s?Du(s):l,f=this._ptLookup,h=this._pt,p,y,_,x,S,E,b;if((!a||a==="all")&&ZOt(l,u))return a==="all"&&(this._pt=0),b1(this);for(p=this._op=this._op||[],a!=="all"&&(ea(a)&&(S={},cl(a,function(A){return S[A]=1}),a=S),a=xIt(l,a)),b=l.length;b--;)if(~u.indexOf(l[b])){y=f[b],a==="all"?(p[b]=a,x=y,_={}):(_=p[b]=p[b]||{},x=a);for(S in x)E=y&&y[S],E&&((!("kill"in E.d)||E.d.kill(S)===!0)&&$R(this,E,"_pt"),delete y[S]),_!=="all"&&(_[S]=1)}return this._initted&&!this._pt&&h&&b1(this),this},e.to=function(s,a){return new e(s,a,arguments[2])},e.from=function(s,a){return X1(1,arguments)},e.delayedCall=function(s,a,o,l){return new e(a,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:s,onComplete:a,onReverseComplete:a,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:l})},e.fromTo=function(s,a,o){return X1(2,arguments)},e.set=function(s,a){return a.duration=0,a.repeatDelay||(a.repeat=0),new e(s,a)},e.killTweensOf=function(s,a,o){return Br.killTweensOf(s,a,o)},e}(jS);Jl(As.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});cl("staggerTo,staggerFrom,staggerFromTo",function(i){As[i]=function(){var e=new To,n=EN.call(arguments,0);return n.splice(i==="staggerFromTo"?5:4,0,0),e[i].apply(e,n)}});var J4=function(e,n,r){return e[n]=r},xY=function(e,n,r){return e[n](r)},EIt=function(e,n,r,s){return e[n](s.fp,r)},TIt=function(e,n,r){return e.setAttribute(n,r)},tk=function(e,n){return ns(e[n])?xY:G4(e[n])&&e.setAttribute?TIt:J4},SY=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e6)/1e6,n)},wIt=function(e,n){return n.set(n.t,n.p,!!(n.s+n.c*e),n)},EY=function(e,n){var r=n._pt,s="";if(!e&&n.b)s=n.b;else if(e===1&&n.e)s=n.e;else{for(;r;)s=r.p+(r.m?r.m(r.s+r.c*e):Math.round((r.s+r.c*e)*1e4)/1e4)+s,r=r._next;s+=n.c}n.set(n.t,n.p,s,n)},ek=function(e,n){for(var r=n._pt;r;)r.r(e,r.d),r=r._next},AIt=function(e,n,r,s){for(var a=this._pt,o;a;)o=a._next,a.p===s&&a.modifier(e,n,r),a=o},MIt=function(e){for(var n=this._pt,r,s;n;)s=n._next,n.p===e&&!n.op||n.op===e?$R(this,n,"_pt"):n.dep||(r=1),n=s;return!r},CIt=function(e,n,r,s){s.mSet(e,n,s.m.call(s.tween,r,s.mt),s)},TY=function(e){for(var n=e._pt,r,s,a,o;n;){for(r=n._next,s=a;s&&s.pr>n.pr;)s=s._next;(n._prev=s?s._prev:o)?n._prev._next=n:a=n,(n._next=s)?s._prev=n:o=n,n=r}e._pt=a},fl=function(){function i(n,r,s,a,o,l,u,f,h){this.t=r,this.s=a,this.c=o,this.p=s,this.r=l||SY,this.d=u||this,this.set=f||J4,this.pr=h||0,this._next=n,n&&(n._prev=this)}var e=i.prototype;return e.modifier=function(r,s,a){this.mSet=this.mSet||this.set,this.set=CIt,this.m=r,this.mt=a,this.tween=s},i}();cl(Y4+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(i){return X4[i]=1});Ql.TweenMax=Ql.TweenLite=As;Ql.TimelineLite=Ql.TimelineMax=To;Br=new To({sortChildren:!1,defaults:B_,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});$l.stringFilter=dY;var by=[],uM={},RIt=[],$8=0,OIt=0,cD=function(e){return(uM[e]||RIt).map(function(n){return n()})},MN=function(){var e=Date.now(),n=[];e-$8>2&&(cD("matchMediaInit"),by.forEach(function(r){var s=r.queries,a=r.conditions,o,l,u,f;for(l in s)o=Pf.matchMedia(s[l]).matches,o&&(u=1),o!==a[l]&&(a[l]=o,f=1);f&&(r.revert(),u&&n.push(r))}),cD("matchMediaRevert"),n.forEach(function(r){return r.onMatch(r,function(s){return r.add(null,s)})}),$8=e,cD("matchMedia"))},wY=function(){function i(n,r){this.selector=r&&TN(r),this.data=[],this._r=[],this.isReverted=!1,this.id=OIt++,n&&this.add(n)}var e=i.prototype;return e.add=function(r,s,a){ns(r)&&(a=s,s=r,r=ns);var o=this,l=function(){var f=Mr,h=o.selector,p;return f&&f!==o&&f.data.push(o),a&&(o.selector=TN(a)),Mr=o,p=s.apply(o,arguments),ns(p)&&o._r.push(p),Mr=f,o.selector=h,o.isReverted=!1,p};return o.last=l,r===ns?l(o,function(u){return o.add(null,u)}):r?o[r]=l:l},e.ignore=function(r){var s=Mr;Mr=null,r(this),Mr=s},e.getTweens=function(){var r=[];return this.data.forEach(function(s){return s instanceof i?r.push.apply(r,s.getTweens()):s instanceof As&&!(s.parent&&s.parent.data==="nested")&&r.push(s)}),r},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(r,s){var a=this;if(r?function(){for(var l=a.getTweens(),u=a.data.length,f;u--;)f=a.data[u],f.data==="isFlip"&&(f.revert(),f.getChildren(!0,!0,!1).forEach(function(h){return l.splice(l.indexOf(h),1)}));for(l.map(function(h){return{g:h._dur||h._delay||h._sat&&!h._sat.vars.immediateRender?h.globalTime(0):-1/0,t:h}}).sort(function(h,p){return p.g-h.g||-1/0}).forEach(function(h){return h.t.revert(r)}),u=a.data.length;u--;)f=a.data[u],f instanceof To?f.data!=="nested"&&(f.scrollTrigger&&f.scrollTrigger.revert(),f.kill()):!(f instanceof As)&&f.revert&&f.revert(r);a._r.forEach(function(h){return h(r,a)}),a.isReverted=!0}():this.data.forEach(function(l){return l.kill&&l.kill()}),this.clear(),s)for(var o=by.length;o--;)by[o].id===this.id&&by.splice(o,1)},e.revert=function(r){this.kill(r||{})},i}(),IIt=function(){function i(n){this.contexts=[],this.scope=n,Mr&&Mr.data.push(this)}var e=i.prototype;return e.add=function(r,s,a){ah(r)||(r={matches:r});var o=new wY(0,a||this.scope),l=o.conditions={},u,f,h;Mr&&!o.selector&&(o.selector=Mr.selector),this.contexts.push(o),s=o.add("onMatch",s),o.queries=r;for(f in r)f==="all"?h=1:(u=Pf.matchMedia(r[f]),u&&(by.indexOf(o)<0&&by.push(o),(l[f]=u.matches)&&(h=1),u.addListener?u.addListener(MN):u.addEventListener("change",MN)));return h&&s(o,function(p){return o.add(null,p)}),this},e.revert=function(r){this.kill(r||{})},e.kill=function(r){this.contexts.forEach(function(s){return s.kill(r,!0)})},i}(),n2={registerPlugin:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];n.forEach(function(s){return cY(s)})},timeline:function(e){return new To(e)},getTweensOf:function(e,n){return Br.getTweensOf(e,n)},getProperty:function(e,n,r,s){ea(e)&&(e=Du(e)[0]);var a=yy(e||{}).get,o=r?ZX:KX;return r==="native"&&(r=""),e&&(n?o((Bl[n]&&Bl[n].get||a)(e,n,r,s)):function(l,u,f){return o((Bl[l]&&Bl[l].get||a)(e,l,u,f))})},quickSetter:function(e,n,r){if(e=Du(e),e.length>1){var s=e.map(function(h){return yl.quickSetter(h,n,r)}),a=s.length;return function(h){for(var p=a;p--;)s[p](h)}}e=e[0]||{};var o=Bl[n],l=yy(e),u=l.harness&&(l.harness.aliases||{})[n]||n,f=o?function(h){var p=new o;Yv._pt=0,p.init(e,r?h+r:h,Yv,0,[e]),p.render(1,p),Yv._pt&&ek(1,Yv)}:l.set(e,u);return o?f:function(h){return f(e,u,r?h+r:h,l,1)}},quickTo:function(e,n,r){var s,a=yl.to(e,Jl((s={},s[n]="+=0.1",s.paused=!0,s.stagger=0,s),r||{})),o=function(u,f,h){return a.resetTo(n,u,f,h)};return o.tween=a,o},isTweening:function(e){return Br.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=_y(e.ease,B_.ease)),V8(B_,e||{})},config:function(e){return V8($l,e||{})},registerEffect:function(e){var n=e.name,r=e.effect,s=e.plugins,a=e.defaults,o=e.extendTimeline;(s||"").split(",").forEach(function(l){return l&&!Bl[l]&&!Ql[l]&&BS(n+" effect requires "+l+" plugin.")}),aD[n]=function(l,u,f){return r(Du(l),Jl(u||{},a),f)},o&&(To.prototype[n]=function(l,u,f){return this.add(aD[n](l,ah(u)?u:(f=u)&&{},this),f)})},registerEase:function(e,n){yi[e]=_y(n)},parseEase:function(e,n){return arguments.length?_y(e,n):yi},getById:function(e){return Br.getById(e)},exportRoot:function(e,n){e===void 0&&(e={});var r=new To(e),s,a;for(r.smoothChildTiming=ul(e.smoothChildTiming),Br.remove(r),r._dp=0,r._time=r._tTime=Br._time,s=Br._first;s;)a=s._next,(n||!(!s._dur&&s instanceof As&&s.vars.onComplete===s._targets[0]))&&zf(r,s,s._start-s._delay),s=a;return zf(Br,r,0),r},context:function(e,n){return e?new wY(e,n):Mr},matchMedia:function(e){return new IIt(e)},matchMediaRefresh:function(){return by.forEach(function(e){var n=e.conditions,r,s;for(s in n)n[s]&&(n[s]=!1,r=1);r&&e.revert()})||MN()},addEventListener:function(e,n){var r=uM[e]||(uM[e]=[]);~r.indexOf(n)||r.push(n)},removeEventListener:function(e,n){var r=uM[e],s=r&&r.indexOf(n);s>=0&&r.splice(s,1)},utils:{wrap:uIt,wrapYoyo:cIt,distribute:rY,random:aY,snap:sY,normalize:lIt,getUnit:Ga,clamp:rIt,splitColor:fY,toArray:Du,selector:TN,mapRange:lY,pipe:aIt,unitize:oIt,interpolate:fIt,shuffle:iY},install:qX,effects:aD,ticker:Hl,updateRoot:To.updateRoot,plugins:Bl,globalTimeline:Br,core:{PropTween:fl,globals:$X,Tween:As,Timeline:To,Animation:jS,getCache:yy,_removeLinkedListItem:$R,reverting:function(){return xa},context:function(e){return e&&Mr&&(Mr.data.push(e),e._ctx=Mr),Mr},suppressOverwrites:function(e){return j4=e}}};cl("to,from,fromTo,delayedCall,set,killTweensOf",function(i){return n2[i]=As[i]});Hl.add(To.updateRoot);Yv=n2.to({},{duration:0});var PIt=function(e,n){for(var r=e._pt;r&&r.p!==n&&r.op!==n&&r.fp!==n;)r=r._next;return r},DIt=function(e,n){var r=e._targets,s,a,o;for(s in n)for(a=r.length;a--;)o=e._ptLookup[a][s],o&&(o=o.d)&&(o._pt&&(o=PIt(o,s)),o&&o.modifier&&o.modifier(n[s],e,r[a],s))},fD=function(e,n){return{name:e,rawVars:1,init:function(s,a,o){o._onInit=function(l){var u,f;if(ea(a)&&(u={},cl(a,function(h){return u[h]=1}),a=u),n){u={};for(f in a)u[f]=n(a[f]);a=u}DIt(l,a)}}}},yl=n2.registerPlugin({name:"attr",init:function(e,n,r,s,a){var o,l,u;this.tween=r;for(o in n)u=e.getAttribute(o)||"",l=this.add(e,"setAttribute",(u||0)+"",n[o],s,a,0,0,o),l.op=o,l.b=u,this._props.push(o)},render:function(e,n){for(var r=n._pt;r;)xa?r.set(r.t,r.p,r.b,r):r.r(e,r.d),r=r._next}},{name:"endArray",init:function(e,n){for(var r=n.length;r--;)this.add(e,r,e[r]||0,n[r],0,0,0,0,0,1)}},fD("roundProps",wN),fD("modifiers"),fD("snap",sY))||n2;As.version=To.version=yl.version="3.12.7";GX=1;q4()&&j_();yi.Power0;yi.Power1;yi.Power2;yi.Power3;yi.Power4;yi.Linear;yi.Quad;yi.Cubic;yi.Quart;yi.Quint;yi.Strong;yi.Elastic;yi.Back;yi.SteppedEase;yi.Bounce;yi.Sine;yi.Expo;yi.Circ;/*!
 * CSSPlugin 3.12.7
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var W8,tm,u_,nk,ay,X8,ik,NIt=function(){return typeof window<"u"},Nd={},qg=180/Math.PI,c_=Math.PI/180,Lv=Math.atan2,Y8=1e8,rk=/([A-Z])/g,LIt=/(left|right|width|margin|padding|x)/i,UIt=/[\s,\(]\S/,Hf={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},CN=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},kIt=function(e,n){return n.set(n.t,n.p,e===1?n.e:Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},zIt=function(e,n){return n.set(n.t,n.p,e?Math.round((n.s+n.c*e)*1e4)/1e4+n.u:n.b,n)},BIt=function(e,n){var r=n.s+n.c*e;n.set(n.t,n.p,~~(r+(r<0?-.5:.5))+n.u,n)},AY=function(e,n){return n.set(n.t,n.p,e?n.e:n.b,n)},MY=function(e,n){return n.set(n.t,n.p,e!==1?n.b:n.e,n)},FIt=function(e,n,r){return e.style[n]=r},VIt=function(e,n,r){return e.style.setProperty(n,r)},HIt=function(e,n,r){return e._gsap[n]=r},jIt=function(e,n,r){return e._gsap.scaleX=e._gsap.scaleY=r},GIt=function(e,n,r,s,a){var o=e._gsap;o.scaleX=o.scaleY=r,o.renderTransform(a,o)},qIt=function(e,n,r,s,a){var o=e._gsap;o[n]=r,o.renderTransform(a,o)},Vr="transform",hl=Vr+"Origin",$It=function i(e,n){var r=this,s=this.target,a=s.style,o=s._gsap;if(e in Nd&&a){if(this.tfm=this.tfm||{},e!=="transform")e=Hf[e]||e,~e.indexOf(",")?e.split(",").forEach(function(l){return r.tfm[l]=sd(s,l)}):this.tfm[e]=o.x?o[e]:sd(s,e),e===hl&&(this.tfm.zOrigin=o.zOrigin);else return Hf.transform.split(",").forEach(function(l){return i.call(r,l,n)});if(this.props.indexOf(Vr)>=0)return;o.svg&&(this.svgo=s.getAttribute("data-svg-origin"),this.props.push(hl,n,"")),e=Vr}(a||n)&&this.props.push(e,n,a[e])},CY=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},WIt=function(){var e=this.props,n=this.target,r=n.style,s=n._gsap,a,o;for(a=0;a<e.length;a+=3)e[a+1]?e[a+1]===2?n[e[a]](e[a+2]):n[e[a]]=e[a+2]:e[a+2]?r[e[a]]=e[a+2]:r.removeProperty(e[a].substr(0,2)==="--"?e[a]:e[a].replace(rk,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)s[o]=this.tfm[o];s.svg&&(s.renderTransform(),n.setAttribute("data-svg-origin",this.svgo||"")),a=ik(),(!a||!a.isStart)&&!r[Vr]&&(CY(r),s.zOrigin&&r[hl]&&(r[hl]+=" "+s.zOrigin+"px",s.zOrigin=0,s.renderTransform()),s.uncache=1)}},RY=function(e,n){var r={target:e,props:[],revert:WIt,save:$It};return e._gsap||yl.core.getCache(e),n&&e.style&&e.nodeType&&n.split(",").forEach(function(s){return r.save(s)}),r},OY,RN=function(e,n){var r=tm.createElementNS?tm.createElementNS((n||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):tm.createElement(e);return r&&r.style?r:tm.createElement(e)},th=function i(e,n,r){var s=getComputedStyle(e);return s[n]||s.getPropertyValue(n.replace(rk,"-$1").toLowerCase())||s.getPropertyValue(n)||!r&&i(e,G_(n)||n,1)||""},K8="O,Moz,ms,Ms,Webkit".split(","),G_=function(e,n,r){var s=n||ay,a=s.style,o=5;if(e in a&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(K8[o]+e in a););return o<0?null:(o===3?"ms":o>=0?K8[o]:"")+e},ON=function(){NIt()&&window.document&&(W8=window,tm=W8.document,u_=tm.documentElement,ay=RN("div")||{style:{}},RN("div"),Vr=G_(Vr),hl=Vr+"Origin",ay.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",OY=!!G_("perspective"),ik=yl.core.reverting,nk=1)},Z8=function(e){var n=e.ownerSVGElement,r=RN("svg",n&&n.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),s=e.cloneNode(!0),a;s.style.display="block",r.appendChild(s),u_.appendChild(r);try{a=s.getBBox()}catch{}return r.removeChild(s),u_.removeChild(r),a},Q8=function(e,n){for(var r=n.length;r--;)if(e.hasAttribute(n[r]))return e.getAttribute(n[r])},IY=function(e){var n,r;try{n=e.getBBox()}catch{n=Z8(e),r=1}return n&&(n.width||n.height)||r||(n=Z8(e)),n&&!n.width&&!n.x&&!n.y?{x:+Q8(e,["x","cx","x1"])||0,y:+Q8(e,["y","cy","y1"])||0,width:0,height:0}:n},PY=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&IY(e))},Fy=function(e,n){if(n){var r=e.style,s;n in Nd&&n!==hl&&(n=Vr),r.removeProperty?(s=n.substr(0,2),(s==="ms"||n.substr(0,6)==="webkit")&&(n="-"+n),r.removeProperty(s==="--"?n:n.replace(rk,"-$1").toLowerCase())):r.removeAttribute(n)}},em=function(e,n,r,s,a,o){var l=new fl(e._pt,n,r,0,1,o?MY:AY);return e._pt=l,l.b=s,l.e=a,e._props.push(r),l},J8={deg:1,rad:1,turn:1},XIt={grid:1,flex:1},Sm=function i(e,n,r,s){var a=parseFloat(r)||0,o=(r+"").trim().substr((a+"").length)||"px",l=ay.style,u=LIt.test(n),f=e.tagName.toLowerCase()==="svg",h=(f?"client":"offset")+(u?"Width":"Height"),p=100,y=s==="px",_=s==="%",x,S,E,b;if(s===o||!a||J8[s]||J8[o])return a;if(o!=="px"&&!y&&(a=i(e,n,r,"px")),b=e.getCTM&&PY(e),(_||o==="%")&&(Nd[n]||~n.indexOf("adius")))return x=b?e.getBBox()[u?"width":"height"]:e[h],fs(_?a/x*p:a/100*x);if(l[u?"width":"height"]=p+(y?o:s),S=s!=="rem"&&~n.indexOf("adius")||s==="em"&&e.appendChild&&!f?e:e.parentNode,b&&(S=(e.ownerSVGElement||{}).parentNode),(!S||S===tm||!S.appendChild)&&(S=tm.body),E=S._gsap,E&&_&&E.width&&u&&E.time===Hl.time&&!E.uncache)return fs(a/E.width*p);if(_&&(n==="height"||n==="width")){var A=e.style[n];e.style[n]=p+s,x=e[h],A?e.style[n]=A:Fy(e,n)}else(_||o==="%")&&!XIt[th(S,"display")]&&(l.position=th(e,"position")),S===e&&(l.position="static"),S.appendChild(ay),x=ay[h],S.removeChild(ay),l.position="absolute";return u&&_&&(E=yy(S),E.time=Hl.time,E.width=S[h]),fs(y?x*a/p:x&&a?p/x*a:0)},sd=function(e,n,r,s){var a;return nk||ON(),n in Hf&&n!=="transform"&&(n=Hf[n],~n.indexOf(",")&&(n=n.split(",")[0])),Nd[n]&&n!=="transform"?(a=qS(e,s),a=n!=="transformOrigin"?a[n]:a.svg?a.origin:r2(th(e,hl))+" "+a.zOrigin+"px"):(a=e.style[n],(!a||a==="auto"||s||~(a+"").indexOf("calc("))&&(a=i2[n]&&i2[n](e,n,r)||th(e,n)||XX(e,n)||(n==="opacity"?1:0))),r&&!~(a+"").trim().indexOf(" ")?Sm(e,n,a,r)+r:a},YIt=function(e,n,r,s){if(!r||r==="none"){var a=G_(n,e,1),o=a&&th(e,a,1);o&&o!==r?(n=a,r=o):n==="borderColor"&&(r=th(e,"borderTopColor"))}var l=new fl(this._pt,e.style,n,0,1,EY),u=0,f=0,h,p,y,_,x,S,E,b,A,C,M,I;if(l.b=r,l.e=s,r+="",s+="",s==="auto"&&(S=e.style[n],e.style[n]=s,s=th(e,n)||s,S?e.style[n]=S:Fy(e,n)),h=[r,s],dY(h),r=h[0],s=h[1],y=r.match(Xv)||[],I=s.match(Xv)||[],I.length){for(;p=Xv.exec(s);)E=p[0],A=s.substring(u,p.index),x?x=(x+1)%5:(A.substr(-5)==="rgba("||A.substr(-5)==="hsla(")&&(x=1),E!==(S=y[f++]||"")&&(_=parseFloat(S)||0,M=S.substr((_+"").length),E.charAt(1)==="="&&(E=l_(_,E)+M),b=parseFloat(E),C=E.substr((b+"").length),u=Xv.lastIndex-C.length,C||(C=C||$l.units[n]||M,u===s.length&&(s+=C,l.e+=C)),M!==C&&(_=Sm(e,n,S,C)||0),l._pt={_next:l._pt,p:A||f===1?A:",",s:_,c:b-_,m:x&&x<4||n==="zIndex"?Math.round:0});l.c=u<s.length?s.substring(u,s.length):""}else l.r=n==="display"&&s==="none"?MY:AY;return HX.test(s)&&(l.e=0),this._pt=l,l},t9={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},KIt=function(e){var n=e.split(" "),r=n[0],s=n[1]||"50%";return(r==="top"||r==="bottom"||s==="left"||s==="right")&&(e=r,r=s,s=e),n[0]=t9[r]||r,n[1]=t9[s]||s,n.join(" ")},ZIt=function(e,n){if(n.tween&&n.tween._time===n.tween._dur){var r=n.t,s=r.style,a=n.u,o=r._gsap,l,u,f;if(a==="all"||a===!0)s.cssText="",u=1;else for(a=a.split(","),f=a.length;--f>-1;)l=a[f],Nd[l]&&(u=1,l=l==="transformOrigin"?hl:Vr),Fy(r,l);u&&(Fy(r,Vr),o&&(o.svg&&r.removeAttribute("transform"),s.scale=s.rotate=s.translate="none",qS(r,1),o.uncache=1,CY(s)))}},i2={clearProps:function(e,n,r,s,a){if(a.data!=="isFromStart"){var o=e._pt=new fl(e._pt,n,r,0,0,ZIt);return o.u=s,o.pr=-10,o.tween=a,e._props.push(r),1}}},GS=[1,0,0,1,0,0],DY={},NY=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},e9=function(e){var n=th(e,Vr);return NY(n)?GS:n.substr(7).match(VX).map(fs)},sk=function(e,n){var r=e._gsap||yy(e),s=e.style,a=e9(e),o,l,u,f;return r.svg&&e.getAttribute("transform")?(u=e.transform.baseVal.consolidate().matrix,a=[u.a,u.b,u.c,u.d,u.e,u.f],a.join(",")==="1,0,0,1,0,0"?GS:a):(a===GS&&!e.offsetParent&&e!==u_&&!r.svg&&(u=s.display,s.display="block",o=e.parentNode,(!o||!e.offsetParent&&!e.getBoundingClientRect().width)&&(f=1,l=e.nextElementSibling,u_.appendChild(e)),a=e9(e),u?s.display=u:Fy(e,"display"),f&&(l?o.insertBefore(e,l):o?o.appendChild(e):u_.removeChild(e))),n&&a.length>6?[a[0],a[1],a[4],a[5],a[12],a[13]]:a)},IN=function(e,n,r,s,a,o){var l=e._gsap,u=a||sk(e,!0),f=l.xOrigin||0,h=l.yOrigin||0,p=l.xOffset||0,y=l.yOffset||0,_=u[0],x=u[1],S=u[2],E=u[3],b=u[4],A=u[5],C=n.split(" "),M=parseFloat(C[0])||0,I=parseFloat(C[1])||0,k,N,L,U;r?u!==GS&&(N=_*E-x*S)&&(L=M*(E/N)+I*(-S/N)+(S*A-E*b)/N,U=M*(-x/N)+I*(_/N)-(_*A-x*b)/N,M=L,I=U):(k=IY(e),M=k.x+(~C[0].indexOf("%")?M/100*k.width:M),I=k.y+(~(C[1]||C[0]).indexOf("%")?I/100*k.height:I)),s||s!==!1&&l.smooth?(b=M-f,A=I-h,l.xOffset=p+(b*_+A*S)-b,l.yOffset=y+(b*x+A*E)-A):l.xOffset=l.yOffset=0,l.xOrigin=M,l.yOrigin=I,l.smooth=!!s,l.origin=n,l.originIsAbsolute=!!r,e.style[hl]="0px 0px",o&&(em(o,l,"xOrigin",f,M),em(o,l,"yOrigin",h,I),em(o,l,"xOffset",p,l.xOffset),em(o,l,"yOffset",y,l.yOffset)),e.setAttribute("data-svg-origin",M+" "+I)},qS=function(e,n){var r=e._gsap||new yY(e);if("x"in r&&!n&&!r.uncache)return r;var s=e.style,a=r.scaleX<0,o="px",l="deg",u=getComputedStyle(e),f=th(e,hl)||"0",h,p,y,_,x,S,E,b,A,C,M,I,k,N,L,U,O,B,H,V,X,et,q,W,Z,nt,Q,ht,yt,xt,it,dt;return h=p=y=S=E=b=A=C=M=0,_=x=1,r.svg=!!(e.getCTM&&PY(e)),u.translate&&((u.translate!=="none"||u.scale!=="none"||u.rotate!=="none")&&(s[Vr]=(u.translate!=="none"?"translate3d("+(u.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(u.rotate!=="none"?"rotate("+u.rotate+") ":"")+(u.scale!=="none"?"scale("+u.scale.split(" ").join(",")+") ":"")+(u[Vr]!=="none"?u[Vr]:"")),s.scale=s.rotate=s.translate="none"),N=sk(e,r.svg),r.svg&&(r.uncache?(Z=e.getBBox(),f=r.xOrigin-Z.x+"px "+(r.yOrigin-Z.y)+"px",W=""):W=!n&&e.getAttribute("data-svg-origin"),IN(e,W||f,!!W||r.originIsAbsolute,r.smooth!==!1,N)),I=r.xOrigin||0,k=r.yOrigin||0,N!==GS&&(B=N[0],H=N[1],V=N[2],X=N[3],h=et=N[4],p=q=N[5],N.length===6?(_=Math.sqrt(B*B+H*H),x=Math.sqrt(X*X+V*V),S=B||H?Lv(H,B)*qg:0,A=V||X?Lv(V,X)*qg+S:0,A&&(x*=Math.abs(Math.cos(A*c_))),r.svg&&(h-=I-(I*B+k*V),p-=k-(I*H+k*X))):(dt=N[6],xt=N[7],Q=N[8],ht=N[9],yt=N[10],it=N[11],h=N[12],p=N[13],y=N[14],L=Lv(dt,yt),E=L*qg,L&&(U=Math.cos(-L),O=Math.sin(-L),W=et*U+Q*O,Z=q*U+ht*O,nt=dt*U+yt*O,Q=et*-O+Q*U,ht=q*-O+ht*U,yt=dt*-O+yt*U,it=xt*-O+it*U,et=W,q=Z,dt=nt),L=Lv(-V,yt),b=L*qg,L&&(U=Math.cos(-L),O=Math.sin(-L),W=B*U-Q*O,Z=H*U-ht*O,nt=V*U-yt*O,it=X*O+it*U,B=W,H=Z,V=nt),L=Lv(H,B),S=L*qg,L&&(U=Math.cos(L),O=Math.sin(L),W=B*U+H*O,Z=et*U+q*O,H=H*U-B*O,q=q*U-et*O,B=W,et=Z),E&&Math.abs(E)+Math.abs(S)>359.9&&(E=S=0,b=180-b),_=fs(Math.sqrt(B*B+H*H+V*V)),x=fs(Math.sqrt(q*q+dt*dt)),L=Lv(et,q),A=Math.abs(L)>2e-4?L*qg:0,M=it?1/(it<0?-it:it):0),r.svg&&(W=e.getAttribute("transform"),r.forceCSS=e.setAttribute("transform","")||!NY(th(e,Vr)),W&&e.setAttribute("transform",W))),Math.abs(A)>90&&Math.abs(A)<270&&(a?(_*=-1,A+=S<=0?180:-180,S+=S<=0?180:-180):(x*=-1,A+=A<=0?180:-180)),n=n||r.uncache,r.x=h-((r.xPercent=h&&(!n&&r.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-h)?-50:0)))?e.offsetWidth*r.xPercent/100:0)+o,r.y=p-((r.yPercent=p&&(!n&&r.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-p)?-50:0)))?e.offsetHeight*r.yPercent/100:0)+o,r.z=y+o,r.scaleX=fs(_),r.scaleY=fs(x),r.rotation=fs(S)+l,r.rotationX=fs(E)+l,r.rotationY=fs(b)+l,r.skewX=A+l,r.skewY=C+l,r.transformPerspective=M+o,(r.zOrigin=parseFloat(f.split(" ")[2])||!n&&r.zOrigin||0)&&(s[hl]=r2(f)),r.xOffset=r.yOffset=0,r.force3D=$l.force3D,r.renderTransform=r.svg?JIt:OY?LY:QIt,r.uncache=0,r},r2=function(e){return(e=e.split(" "))[0]+" "+e[1]},hD=function(e,n,r){var s=Ga(n);return fs(parseFloat(n)+parseFloat(Sm(e,"x",r+"px",s)))+s},QIt=function(e,n){n.z="0px",n.rotationY=n.rotationX="0deg",n.force3D=0,LY(e,n)},Ug="0deg",e1="0px",kg=") ",LY=function(e,n){var r=n||this,s=r.xPercent,a=r.yPercent,o=r.x,l=r.y,u=r.z,f=r.rotation,h=r.rotationY,p=r.rotationX,y=r.skewX,_=r.skewY,x=r.scaleX,S=r.scaleY,E=r.transformPerspective,b=r.force3D,A=r.target,C=r.zOrigin,M="",I=b==="auto"&&e&&e!==1||b===!0;if(C&&(p!==Ug||h!==Ug)){var k=parseFloat(h)*c_,N=Math.sin(k),L=Math.cos(k),U;k=parseFloat(p)*c_,U=Math.cos(k),o=hD(A,o,N*U*-C),l=hD(A,l,-Math.sin(k)*-C),u=hD(A,u,L*U*-C+C)}E!==e1&&(M+="perspective("+E+kg),(s||a)&&(M+="translate("+s+"%, "+a+"%) "),(I||o!==e1||l!==e1||u!==e1)&&(M+=u!==e1||I?"translate3d("+o+", "+l+", "+u+") ":"translate("+o+", "+l+kg),f!==Ug&&(M+="rotate("+f+kg),h!==Ug&&(M+="rotateY("+h+kg),p!==Ug&&(M+="rotateX("+p+kg),(y!==Ug||_!==Ug)&&(M+="skew("+y+", "+_+kg),(x!==1||S!==1)&&(M+="scale("+x+", "+S+kg),A.style[Vr]=M||"translate(0, 0)"},JIt=function(e,n){var r=n||this,s=r.xPercent,a=r.yPercent,o=r.x,l=r.y,u=r.rotation,f=r.skewX,h=r.skewY,p=r.scaleX,y=r.scaleY,_=r.target,x=r.xOrigin,S=r.yOrigin,E=r.xOffset,b=r.yOffset,A=r.forceCSS,C=parseFloat(o),M=parseFloat(l),I,k,N,L,U;u=parseFloat(u),f=parseFloat(f),h=parseFloat(h),h&&(h=parseFloat(h),f+=h,u+=h),u||f?(u*=c_,f*=c_,I=Math.cos(u)*p,k=Math.sin(u)*p,N=Math.sin(u-f)*-y,L=Math.cos(u-f)*y,f&&(h*=c_,U=Math.tan(f-h),U=Math.sqrt(1+U*U),N*=U,L*=U,h&&(U=Math.tan(h),U=Math.sqrt(1+U*U),I*=U,k*=U)),I=fs(I),k=fs(k),N=fs(N),L=fs(L)):(I=p,L=y,k=N=0),(C&&!~(o+"").indexOf("px")||M&&!~(l+"").indexOf("px"))&&(C=Sm(_,"x",o,"px"),M=Sm(_,"y",l,"px")),(x||S||E||b)&&(C=fs(C+x-(x*I+S*N)+E),M=fs(M+S-(x*k+S*L)+b)),(s||a)&&(U=_.getBBox(),C=fs(C+s/100*U.width),M=fs(M+a/100*U.height)),U="matrix("+I+","+k+","+N+","+L+","+C+","+M+")",_.setAttribute("transform",U),A&&(_.style[Vr]=U)},tPt=function(e,n,r,s,a){var o=360,l=ea(a),u=parseFloat(a)*(l&&~a.indexOf("rad")?qg:1),f=u-s,h=s+f+"deg",p,y;return l&&(p=a.split("_")[1],p==="short"&&(f%=o,f!==f%(o/2)&&(f+=f<0?o:-360)),p==="cw"&&f<0?f=(f+o*Y8)%o-~~(f/o)*o:p==="ccw"&&f>0&&(f=(f-o*Y8)%o-~~(f/o)*o)),e._pt=y=new fl(e._pt,n,r,s,f,kIt),y.e=h,y.u="deg",e._props.push(r),y},n9=function(e,n){for(var r in n)e[r]=n[r];return e},ePt=function(e,n,r){var s=n9({},r._gsap),a="perspective,force3D,transformOrigin,svgOrigin",o=r.style,l,u,f,h,p,y,_,x;s.svg?(f=r.getAttribute("transform"),r.setAttribute("transform",""),o[Vr]=n,l=qS(r,1),Fy(r,Vr),r.setAttribute("transform",f)):(f=getComputedStyle(r)[Vr],o[Vr]=n,l=qS(r,1),o[Vr]=f);for(u in Nd)f=s[u],h=l[u],f!==h&&a.indexOf(u)<0&&(_=Ga(f),x=Ga(h),p=_!==x?Sm(r,u,f,x):parseFloat(f),y=parseFloat(h),e._pt=new fl(e._pt,l,u,p,y-p,CN),e._pt.u=x||0,e._props.push(u));n9(l,s)};cl("padding,margin,Width,Radius",function(i,e){var n="Top",r="Right",s="Bottom",a="Left",o=(e<3?[n,r,s,a]:[n+a,n+r,s+r,s+a]).map(function(l){return e<2?i+l:"border"+l+i});i2[e>1?"border"+i:i]=function(l,u,f,h,p){var y,_;if(arguments.length<4)return y=o.map(function(x){return sd(l,x,f)}),_=y.join(" "),_.split(y[0]).length===5?y[0]:_;y=(h+"").split(" "),_={},o.forEach(function(x,S){return _[x]=y[S]=y[S]||y[(S-1)/2|0]}),l.init(u,_,p)}});var UY={name:"css",register:ON,targetTest:function(e){return e.style&&e.nodeType},init:function(e,n,r,s,a){var o=this._props,l=e.style,u=r.vars.startAt,f,h,p,y,_,x,S,E,b,A,C,M,I,k,N,L;nk||ON(),this.styles=this.styles||RY(e),L=this.styles.props,this.tween=r;for(S in n)if(S!=="autoRound"&&(h=n[S],!(Bl[S]&&vY(S,n,r,s,e,a)))){if(_=typeof h,x=i2[S],_==="function"&&(h=h.call(r,s,e,a),_=typeof h),_==="string"&&~h.indexOf("random(")&&(h=VS(h)),x)x(this,e,S,h,r)&&(N=1);else if(S.substr(0,2)==="--")f=(getComputedStyle(e).getPropertyValue(S)+"").trim(),h+="",um.lastIndex=0,um.test(f)||(E=Ga(f),b=Ga(h)),b?E!==b&&(f=Sm(e,S,f,b)+b):E&&(h+=E),this.add(l,"setProperty",f,h,s,a,0,0,S),o.push(S),L.push(S,0,l[S]);else if(_!=="undefined"){if(u&&S in u?(f=typeof u[S]=="function"?u[S].call(r,s,e,a):u[S],ea(f)&&~f.indexOf("random(")&&(f=VS(f)),Ga(f+"")||f==="auto"||(f+=$l.units[S]||Ga(sd(e,S))||""),(f+"").charAt(1)==="="&&(f=sd(e,S))):f=sd(e,S),y=parseFloat(f),A=_==="string"&&h.charAt(1)==="="&&h.substr(0,2),A&&(h=h.substr(2)),p=parseFloat(h),S in Hf&&(S==="autoAlpha"&&(y===1&&sd(e,"visibility")==="hidden"&&p&&(y=0),L.push("visibility",0,l.visibility),em(this,l,"visibility",y?"inherit":"hidden",p?"inherit":"hidden",!p)),S!=="scale"&&S!=="transform"&&(S=Hf[S],~S.indexOf(",")&&(S=S.split(",")[0]))),C=S in Nd,C){if(this.styles.save(S),M||(I=e._gsap,I.renderTransform&&!n.parseTransform||qS(e,n.parseTransform),k=n.smoothOrigin!==!1&&I.smooth,M=this._pt=new fl(this._pt,l,Vr,0,1,I.renderTransform,I,0,-1),M.dep=1),S==="scale")this._pt=new fl(this._pt,I,"scaleY",I.scaleY,(A?l_(I.scaleY,A+p):p)-I.scaleY||0,CN),this._pt.u=0,o.push("scaleY",S),S+="X";else if(S==="transformOrigin"){L.push(hl,0,l[hl]),h=KIt(h),I.svg?IN(e,h,0,k,0,this):(b=parseFloat(h.split(" ")[2])||0,b!==I.zOrigin&&em(this,I,"zOrigin",I.zOrigin,b),em(this,l,S,r2(f),r2(h)));continue}else if(S==="svgOrigin"){IN(e,h,1,k,0,this);continue}else if(S in DY){tPt(this,I,S,y,A?l_(y,A+h):h);continue}else if(S==="smoothOrigin"){em(this,I,"smooth",I.smooth,h);continue}else if(S==="force3D"){I[S]=h;continue}else if(S==="transform"){ePt(this,h,e);continue}}else S in l||(S=G_(S)||S);if(C||(p||p===0)&&(y||y===0)&&!UIt.test(h)&&S in l)E=(f+"").substr((y+"").length),p||(p=0),b=Ga(h)||(S in $l.units?$l.units[S]:E),E!==b&&(y=Sm(e,S,f,b)),this._pt=new fl(this._pt,C?I:l,S,y,(A?l_(y,A+p):p)-y,!C&&(b==="px"||S==="zIndex")&&n.autoRound!==!1?BIt:CN),this._pt.u=b||0,E!==b&&b!=="%"&&(this._pt.b=f,this._pt.r=zIt);else if(S in l)YIt.call(this,e,S,f,A?A+h:h);else if(S in e)this.add(e,S,f||e[S],A?A+h:h,s,a);else if(S!=="parseTransform"){W4(S,h);continue}C||(S in l?L.push(S,0,l[S]):typeof e[S]=="function"?L.push(S,2,e[S]()):L.push(S,1,f||e[S])),o.push(S)}}N&&TY(this)},render:function(e,n){if(n.tween._time||!ik())for(var r=n._pt;r;)r.r(e,r.d),r=r._next;else n.styles.revert()},get:sd,aliases:Hf,getSetter:function(e,n,r){var s=Hf[n];return s&&s.indexOf(",")<0&&(n=s),n in Nd&&n!==hl&&(e._gsap.x||sd(e,"x"))?r&&X8===r?n==="scale"?jIt:HIt:(X8=r||{})&&(n==="scale"?GIt:qIt):e.style&&!G4(e.style[n])?FIt:~n.indexOf("-")?VIt:tk(e,n)},core:{_removeProperty:Fy,_getMatrix:sk}};yl.utils.checkPrefix=G_;yl.core.getStyleSaver=RY;(function(i,e,n,r){var s=cl(i+","+e+","+n,function(a){Nd[a]=1});cl(e,function(a){$l.units[a]="deg",DY[a]=1}),Hf[s[13]]=i+","+e,cl(r,function(a){var o=a.split(":");Hf[o[1]]=s[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");cl("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(i){$l.units[i]="px"});yl.registerPlugin(UY);var ak=yl.registerPlugin(UY)||yl;ak.core.Tween;const nPt=(i,e,n=50)=>{if(!i)return;const r=new pt;i.getPosition(r);const s=new pt;i.getTarget(s);const a=new pt().subVectors(r,e).normalize(),o=new pt().copy(e).addScaledVector(a,n),l={x:r.x,y:r.y,z:r.z};ak.to(l,{x:o.x,y:o.y,z:o.z,duration:1.5,ease:"power2.out",onUpdate:()=>{i.setLookAt(l.x,l.y,l.z,e.x,e.y,e.z,!0)},onComplete:()=>{Un.setState({isNodeViewActive:!0,cameraBackup:{pos:r.toArray(),target:s.toArray()}})}})},iPt=i=>{const{cameraBackup:e}=Un.getState();if(!i||!e)return;const[n,r,s]=e.pos,[a,o,l]=e.target,u=new pt;i.getPosition(u);const f={x:u.x,y:u.y,z:u.z};ak.to(f,{x:n,y:r,z:s,duration:1.5,ease:"power2.inOut",onUpdate:()=>{i.setLookAt(f.x,f.y,f.z,a,o,l,!0)},onComplete:()=>{Un.setState({isNodeViewActive:!1,cameraBackup:null})}})};function PN(i="debug",...e){}const i9=(i,e,n,r)=>{n+1===r.length?(e(),i()):e()},YR=async i=>{try{const n=(await IR(r_(s_,i))).docs.map(r=>{const s=r.data();return{id:s.index,index:s.index,name:s.name,group:s.group,start:s.start,end:s.end,videoid:s.videoid}});return PN("debug","Documentos obtenidos desde firestone: ",n),n.length==0&&(kY(Ff.nodes,Ff.links,1,"Escoja Nodo de origen","",1,"","","",""),YR(Ff.nodes)),n}catch(e){console.error("Error obteniendo documentos desde Firestore:",e)}},rPt=async i=>{try{const n=(await IR(r_(s_,i))).docs.map(s=>s.data().index);return Math.max(...n.filter(s=>typeof s=="number"))}catch(e){return console.error("Error obteniendo el valor index: ",e),0}},kY=async(i,e,n,r,s,a,o,l,u,f)=>{try{const h=r_(s_,i),p=r.toLowerCase(),y=hbt(h,dbt("name","==",p));if(!(await IR(y)).empty){console.error(" Error: Ya existe un documento con este `name`.");return}await KV(r_(s_,i),{name:p,index:n,group:s,uploadedDate:f,videoid:o,start:l,end:u}),a!==1&&await KV(r_(s_,e),{target:n,source:a}),PN("info","Nodo agregado:",p,n),PN("info","Link  agregado: Source:",a!==1?a:"Nodo sin conexcin {1}")}catch(h){console.error("Error al agregar documento:",h)}finally{Un.setState({isUploadFirestore:!1})}},sPt=()=>{const[i,e]=tt.useState({nodes:[],links:[]});return tt.useEffect(()=>{Un.setState({isLoadingFirestore:!0}),(async()=>{try{const s=(await YR(Ff.nodes)).filter(l=>l.id!==1),o=(await IR(r_(s_,Ff.links))).docs.map(l=>{const u=l.data();return{source:u.source,target:u.target}});e({nodes:s,links:o})}catch(r){console.error("Error obteniendo datos:",r)}finally{Un.setState({isLoadingFirestore:!1})}})()},[]),i};function DN(i,e){(e==null||e>i.length)&&(e=i.length);for(var n=0,r=Array(e);n<e;n++)r[n]=i[n];return r}function aPt(i){if(Array.isArray(i))return i}function oPt(i){if(Array.isArray(i))return DN(i)}function lPt(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function uPt(i,e,n){return e=s2(e),vPt(i,zY()?Reflect.construct(e,n||[],s2(i).constructor):e.apply(i,n))}function cPt(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function fPt(i,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,bPt(r.key),r)}}function hPt(i,e,n){return e&&fPt(i.prototype,e),Object.defineProperty(i,"prototype",{writable:!1}),i}function s2(i){return s2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},s2(i)}function dPt(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),e&&NN(i,e)}function zY(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zY=function(){return!!i})()}function pPt(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function mPt(i,e){var n=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(n!=null){var r,s,a,o,l=[],u=!0,f=!1;try{if(a=(n=n.call(i)).next,e===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(h){f=!0,s=h}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw s}}return l}}function gPt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yPt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vPt(i,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lPt(i)}function NN(i,e){return NN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},NN(i,e)}function r9(i,e){return aPt(i)||mPt(i,e)||BY(i,e)||gPt()}function TA(i){return oPt(i)||pPt(i)||BY(i)||yPt()}function _Pt(i,e){if(typeof i!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var r=n.call(i,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}function bPt(i){var e=_Pt(i,"string");return typeof e=="symbol"?e:e+""}function BY(i,e){if(i){if(typeof i=="string")return DN(i,e);var n={}.toString.call(i).slice(8,-1);return n==="Object"&&i.constructor&&(n=i.constructor.name),n==="Map"||n==="Set"?Array.from(i):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?DN(i,e):void 0}}var n1=typeof window<"u"&&window.THREE?window.THREE:{CanvasTexture:f7,Sprite:pL,SpriteMaterial:R2,SRGBColorSpace:ma},xPt=function(i){function e(){var n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:10,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"rgba(255, 255, 255, 1)";return cPt(this,e),n=uPt(this,e,[new n1.SpriteMaterial]),n._text="".concat(r),n._textHeight=s,n._color=a,n._backgroundColor=!1,n._padding=0,n._borderWidth=0,n._borderRadius=0,n._borderColor="white",n._strokeWidth=0,n._strokeColor="white",n._fontFace="system-ui",n._fontSize=90,n._fontWeight="normal",n._canvas=document.createElement("canvas"),n._genCanvas(),n}return dPt(e,i),hPt(e,[{key:"text",get:function(){return this._text},set:function(r){this._text=r,this._genCanvas()}},{key:"textHeight",get:function(){return this._textHeight},set:function(r){this._textHeight=r,this._genCanvas()}},{key:"color",get:function(){return this._color},set:function(r){this._color=r,this._genCanvas()}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(r){this._backgroundColor=r,this._genCanvas()}},{key:"padding",get:function(){return this._padding},set:function(r){this._padding=r,this._genCanvas()}},{key:"borderWidth",get:function(){return this._borderWidth},set:function(r){this._borderWidth=r,this._genCanvas()}},{key:"borderRadius",get:function(){return this._borderRadius},set:function(r){this._borderRadius=r,this._genCanvas()}},{key:"borderColor",get:function(){return this._borderColor},set:function(r){this._borderColor=r,this._genCanvas()}},{key:"fontFace",get:function(){return this._fontFace},set:function(r){this._fontFace=r,this._genCanvas()}},{key:"fontSize",get:function(){return this._fontSize},set:function(r){this._fontSize=r,this._genCanvas()}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(r){this._fontWeight=r,this._genCanvas()}},{key:"strokeWidth",get:function(){return this._strokeWidth},set:function(r){this._strokeWidth=r,this._genCanvas()}},{key:"strokeColor",get:function(){return this._strokeColor},set:function(r){this._strokeColor=r,this._genCanvas()}},{key:"_genCanvas",value:function(){var r=this,s=this._canvas,a=s.getContext("2d"),o=1/this.textHeight,l=Array.isArray(this.borderWidth)?this.borderWidth:[this.borderWidth,this.borderWidth],u=l.map(function(L){return L*r.fontSize*o}),f=Array.isArray(this.borderRadius)?this.borderRadius:[this.borderRadius,this.borderRadius,this.borderRadius,this.borderRadius],h=f.map(function(L){return L*r.fontSize*o}),p=Array.isArray(this.padding)?this.padding:[this.padding,this.padding],y=p.map(function(L){return L*r.fontSize*o}),_=this.text.split(`
`),x="".concat(this.fontWeight," ").concat(this.fontSize,"px ").concat(this.fontFace);a.font=x;var S=Math.max.apply(Math,TA(_.map(function(L){return a.measureText(L).width}))),E=this.fontSize*_.length;if(s.width=S+u[0]*2+y[0]*2,s.height=E+u[1]*2+y[1]*2,this.borderWidth){if(a.strokeStyle=this.borderColor,u[0]){var b=u[0]/2;a.lineWidth=u[0],a.beginPath(),a.moveTo(b,h[0]),a.lineTo(b,s.height-h[3]),a.moveTo(s.width-b,h[1]),a.lineTo(s.width-b,s.height-h[2]),a.stroke()}if(u[1]){var A=u[1]/2;a.lineWidth=u[1],a.beginPath(),a.moveTo(Math.max(u[0],h[0]),A),a.lineTo(s.width-Math.max(u[0],h[1]),A),a.moveTo(Math.max(u[0],h[3]),s.height-A),a.lineTo(s.width-Math.max(u[0],h[2]),s.height-A),a.stroke()}if(this.borderRadius){var C=Math.max.apply(Math,TA(u)),M=C/2;a.lineWidth=C,a.beginPath(),[!!h[0]&&[h[0],M,M,h[0]],!!h[1]&&[s.width-h[1],s.width-M,M,h[1]],!!h[2]&&[s.width-h[2],s.width-M,s.height-M,s.height-h[2]],!!h[3]&&[h[3],M,s.height-M,s.height-h[3]]].filter(function(L){return L}).forEach(function(L){var U=r9(L,4),O=U[0],B=U[1],H=U[2],V=U[3];a.moveTo(O,H),a.quadraticCurveTo(B,H,B,V)}),a.stroke()}}this.backgroundColor&&(a.fillStyle=this.backgroundColor,this.borderRadius?(a.beginPath(),a.moveTo(u[0],h[0]),[[u[0],h[0],s.width-h[1],u[1],u[1],u[1]],[s.width-u[0],s.width-u[0],s.width-u[0],u[1],h[1],s.height-h[2]],[s.width-u[0],s.width-h[2],h[3],s.height-u[1],s.height-u[1],s.height-u[1]],[u[0],u[0],u[0],s.height-u[1],s.height-h[3],h[0]]].forEach(function(L){var U=r9(L,6),O=U[0],B=U[1],H=U[2],V=U[3],X=U[4],et=U[5];a.quadraticCurveTo(O,V,B,X),a.lineTo(H,et)}),a.closePath(),a.fill()):a.fillRect(u[0],u[1],s.width-u[0]*2,s.height-u[1]*2)),a.translate.apply(a,TA(u)),a.translate.apply(a,TA(y)),a.font=x,a.fillStyle=this.color,a.textBaseline="bottom";var I=this.strokeWidth>0;I&&(a.lineWidth=this.strokeWidth*this.fontSize/10,a.strokeStyle=this.strokeColor),_.forEach(function(L,U){var O=(S-a.measureText(L).width)/2,B=(U+1)*r.fontSize;I&&a.strokeText(L,O,B),a.fillText(L,O,B)}),this.material.map&&this.material.map.dispose();var k=this.material.map=new n1.CanvasTexture(s);k.colorSpace=n1.SRGBColorSpace;var N=this.textHeight*_.length+l[1]*2+p[1]*2;this.scale.set(N*s.width/s.height,N,0)}},{key:"clone",value:function(){return new this.constructor(this.text,this.textHeight,this.color).copy(this)}},{key:"copy",value:function(r){return n1.Sprite.prototype.copy.call(this,r),this.color=r.color,this.backgroundColor=r.backgroundColor,this.padding=r.padding,this.borderWidth=r.borderWidth,this.borderColor=r.borderColor,this.fontFace=r.fontFace,this.fontSize=r.fontSize,this.fontWeight=r.fontWeight,this.strokeWidth=r.strokeWidth,this.strokeColor=r.strokeColor,this}}])}(n1.Sprite);function SPt(i){const e=new ud,n=wj[i.group||"default"]||"gray",r=new es(new Gy(5,5),new q2({color:n})),s=new xPt(`${i.name} {${i.id}}`);return s.color="white",s.textHeight=3,s.position.set(0,7,0),s.backgroundColor="#000",e.add(r),e.add(s),e}function FY(i,e){return function(){return i.apply(e,arguments)}}const{toString:EPt}=Object.prototype,{getPrototypeOf:ok}=Object,KR=(i=>e=>{const n=EPt.call(e);return i[n]||(i[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Bc=i=>(i=i.toLowerCase(),e=>KR(e)===i),ZR=i=>e=>typeof e===i,{isArray:fb}=Array,$S=ZR("undefined");function TPt(i){return i!==null&&!$S(i)&&i.constructor!==null&&!$S(i.constructor)&&Wl(i.constructor.isBuffer)&&i.constructor.isBuffer(i)}const VY=Bc("ArrayBuffer");function wPt(i){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(i):e=i&&i.buffer&&VY(i.buffer),e}const APt=ZR("string"),Wl=ZR("function"),HY=ZR("number"),QR=i=>i!==null&&typeof i=="object",MPt=i=>i===!0||i===!1,cM=i=>{if(KR(i)!=="object")return!1;const e=ok(i);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},CPt=Bc("Date"),RPt=Bc("File"),OPt=Bc("Blob"),IPt=Bc("FileList"),PPt=i=>QR(i)&&Wl(i.pipe),DPt=i=>{let e;return i&&(typeof FormData=="function"&&i instanceof FormData||Wl(i.append)&&((e=KR(i))==="formdata"||e==="object"&&Wl(i.toString)&&i.toString()==="[object FormData]"))},NPt=Bc("URLSearchParams"),[LPt,UPt,kPt,zPt]=["ReadableStream","Request","Response","Headers"].map(Bc),BPt=i=>i.trim?i.trim():i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function OE(i,e,{allOwnKeys:n=!1}={}){if(i===null||typeof i>"u")return;let r,s;if(typeof i!="object"&&(i=[i]),fb(i))for(r=0,s=i.length;r<s;r++)e.call(null,i[r],r,i);else{const a=n?Object.getOwnPropertyNames(i):Object.keys(i),o=a.length;let l;for(r=0;r<o;r++)l=a[r],e.call(null,i[l],l,i)}}function jY(i,e){e=e.toLowerCase();const n=Object.keys(i);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const oy=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,GY=i=>!$S(i)&&i!==oy;function LN(){const{caseless:i}=GY(this)&&this||{},e={},n=(r,s)=>{const a=i&&jY(e,s)||s;cM(e[a])&&cM(r)?e[a]=LN(e[a],r):cM(r)?e[a]=LN({},r):fb(r)?e[a]=r.slice():e[a]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&OE(arguments[r],n);return e}const FPt=(i,e,n,{allOwnKeys:r}={})=>(OE(e,(s,a)=>{n&&Wl(s)?i[a]=FY(s,n):i[a]=s},{allOwnKeys:r}),i),VPt=i=>(i.charCodeAt(0)===65279&&(i=i.slice(1)),i),HPt=(i,e,n,r)=>{i.prototype=Object.create(e.prototype,r),i.prototype.constructor=i,Object.defineProperty(i,"super",{value:e.prototype}),n&&Object.assign(i.prototype,n)},jPt=(i,e,n,r)=>{let s,a,o;const l={};if(e=e||{},i==null)return e;do{for(s=Object.getOwnPropertyNames(i),a=s.length;a-- >0;)o=s[a],(!r||r(o,i,e))&&!l[o]&&(e[o]=i[o],l[o]=!0);i=n!==!1&&ok(i)}while(i&&(!n||n(i,e))&&i!==Object.prototype);return e},GPt=(i,e,n)=>{i=String(i),(n===void 0||n>i.length)&&(n=i.length),n-=e.length;const r=i.indexOf(e,n);return r!==-1&&r===n},qPt=i=>{if(!i)return null;if(fb(i))return i;let e=i.length;if(!HY(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=i[e];return n},$Pt=(i=>e=>i&&e instanceof i)(typeof Uint8Array<"u"&&ok(Uint8Array)),WPt=(i,e)=>{const r=(i&&i[Symbol.iterator]).call(i);let s;for(;(s=r.next())&&!s.done;){const a=s.value;e.call(i,a[0],a[1])}},XPt=(i,e)=>{let n;const r=[];for(;(n=i.exec(e))!==null;)r.push(n);return r},YPt=Bc("HTMLFormElement"),KPt=i=>i.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),s9=(({hasOwnProperty:i})=>(e,n)=>i.call(e,n))(Object.prototype),ZPt=Bc("RegExp"),qY=(i,e)=>{const n=Object.getOwnPropertyDescriptors(i),r={};OE(n,(s,a)=>{let o;(o=e(s,a,i))!==!1&&(r[a]=o||s)}),Object.defineProperties(i,r)},QPt=i=>{qY(i,(e,n)=>{if(Wl(i)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=i[n];if(Wl(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},JPt=(i,e)=>{const n={},r=s=>{s.forEach(a=>{n[a]=!0})};return fb(i)?r(i):r(String(i).split(e)),n},tDt=()=>{},eDt=(i,e)=>i!=null&&Number.isFinite(i=+i)?i:e;function nDt(i){return!!(i&&Wl(i.append)&&i[Symbol.toStringTag]==="FormData"&&i[Symbol.iterator])}const iDt=i=>{const e=new Array(10),n=(r,s)=>{if(QR(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const a=fb(r)?[]:{};return OE(r,(o,l)=>{const u=n(o,s+1);!$S(u)&&(a[l]=u)}),e[s]=void 0,a}}return r};return n(i,0)},rDt=Bc("AsyncFunction"),sDt=i=>i&&(QR(i)||Wl(i))&&Wl(i.then)&&Wl(i.catch),$Y=((i,e)=>i?setImmediate:e?((n,r)=>(oy.addEventListener("message",({source:s,data:a})=>{s===oy&&a===n&&r.length&&r.shift()()},!1),s=>{r.push(s),oy.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Wl(oy.postMessage)),aDt=typeof queueMicrotask<"u"?queueMicrotask.bind(oy):typeof process<"u"&&process.nextTick||$Y,Jt={isArray:fb,isArrayBuffer:VY,isBuffer:TPt,isFormData:DPt,isArrayBufferView:wPt,isString:APt,isNumber:HY,isBoolean:MPt,isObject:QR,isPlainObject:cM,isReadableStream:LPt,isRequest:UPt,isResponse:kPt,isHeaders:zPt,isUndefined:$S,isDate:CPt,isFile:RPt,isBlob:OPt,isRegExp:ZPt,isFunction:Wl,isStream:PPt,isURLSearchParams:NPt,isTypedArray:$Pt,isFileList:IPt,forEach:OE,merge:LN,extend:FPt,trim:BPt,stripBOM:VPt,inherits:HPt,toFlatObject:jPt,kindOf:KR,kindOfTest:Bc,endsWith:GPt,toArray:qPt,forEachEntry:WPt,matchAll:XPt,isHTMLForm:YPt,hasOwnProperty:s9,hasOwnProp:s9,reduceDescriptors:qY,freezeMethods:QPt,toObjectSet:JPt,toCamelCase:KPt,noop:tDt,toFiniteNumber:eDt,findKey:jY,global:oy,isContextDefined:GY,isSpecCompliantForm:nDt,toJSONObject:iDt,isAsyncFn:rDt,isThenable:sDt,setImmediate:$Y,asap:aDt};function Gn(i,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=i,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}Jt.inherits(Gn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Jt.toJSONObject(this.config),code:this.code,status:this.status}}});const WY=Gn.prototype,XY={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(i=>{XY[i]={value:i}});Object.defineProperties(Gn,XY);Object.defineProperty(WY,"isAxiosError",{value:!0});Gn.from=(i,e,n,r,s,a)=>{const o=Object.create(WY);return Jt.toFlatObject(i,o,function(u){return u!==Error.prototype},l=>l!=="isAxiosError"),Gn.call(o,i.message,e,n,r,s),o.cause=i,o.name=i.name,a&&Object.assign(o,a),o};const oDt=null;function UN(i){return Jt.isPlainObject(i)||Jt.isArray(i)}function YY(i){return Jt.endsWith(i,"[]")?i.slice(0,-2):i}function a9(i,e,n){return i?i.concat(e).map(function(s,a){return s=YY(s),!n&&a?"["+s+"]":s}).join(n?".":""):e}function lDt(i){return Jt.isArray(i)&&!i.some(UN)}const uDt=Jt.toFlatObject(Jt,{},null,function(e){return/^is[A-Z]/.test(e)});function JR(i,e,n){if(!Jt.isObject(i))throw new TypeError("target must be an object");e=e||new FormData,n=Jt.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,E){return!Jt.isUndefined(E[S])});const r=n.metaTokens,s=n.visitor||h,a=n.dots,o=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&Jt.isSpecCompliantForm(e);if(!Jt.isFunction(s))throw new TypeError("visitor must be a function");function f(x){if(x===null)return"";if(Jt.isDate(x))return x.toISOString();if(!u&&Jt.isBlob(x))throw new Gn("Blob is not supported. Use a Buffer instead.");return Jt.isArrayBuffer(x)||Jt.isTypedArray(x)?u&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function h(x,S,E){let b=x;if(x&&!E&&typeof x=="object"){if(Jt.endsWith(S,"{}"))S=r?S:S.slice(0,-2),x=JSON.stringify(x);else if(Jt.isArray(x)&&lDt(x)||(Jt.isFileList(x)||Jt.endsWith(S,"[]"))&&(b=Jt.toArray(x)))return S=YY(S),b.forEach(function(C,M){!(Jt.isUndefined(C)||C===null)&&e.append(o===!0?a9([S],M,a):o===null?S:S+"[]",f(C))}),!1}return UN(x)?!0:(e.append(a9(E,S,a),f(x)),!1)}const p=[],y=Object.assign(uDt,{defaultVisitor:h,convertValue:f,isVisitable:UN});function _(x,S){if(!Jt.isUndefined(x)){if(p.indexOf(x)!==-1)throw Error("Circular reference detected in "+S.join("."));p.push(x),Jt.forEach(x,function(b,A){(!(Jt.isUndefined(b)||b===null)&&s.call(e,b,Jt.isString(A)?A.trim():A,S,y))===!0&&_(b,S?S.concat(A):[A])}),p.pop()}}if(!Jt.isObject(i))throw new TypeError("data must be an object");return _(i),e}function o9(i){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(i).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function lk(i,e){this._pairs=[],i&&JR(i,this,e)}const KY=lk.prototype;KY.append=function(e,n){this._pairs.push([e,n])};KY.toString=function(e){const n=e?function(r){return e.call(this,r,o9)}:o9;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function cDt(i){return encodeURIComponent(i).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ZY(i,e,n){if(!e)return i;const r=n&&n.encode||cDt;Jt.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let a;if(s?a=s(e,n):a=Jt.isURLSearchParams(e)?e.toString():new lk(e,n).toString(r),a){const o=i.indexOf("#");o!==-1&&(i=i.slice(0,o)),i+=(i.indexOf("?")===-1?"?":"&")+a}return i}class l9{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Jt.forEach(this.handlers,function(r){r!==null&&e(r)})}}const QY={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},fDt=typeof URLSearchParams<"u"?URLSearchParams:lk,hDt=typeof FormData<"u"?FormData:null,dDt=typeof Blob<"u"?Blob:null,pDt={isBrowser:!0,classes:{URLSearchParams:fDt,FormData:hDt,Blob:dDt},protocols:["http","https","file","blob","url","data"]},uk=typeof window<"u"&&typeof document<"u",kN=typeof navigator=="object"&&navigator||void 0,mDt=uk&&(!kN||["ReactNative","NativeScript","NS"].indexOf(kN.product)<0),gDt=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",yDt=uk&&window.location.href||"http://localhost",vDt=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:uk,hasStandardBrowserEnv:mDt,hasStandardBrowserWebWorkerEnv:gDt,navigator:kN,origin:yDt},Symbol.toStringTag,{value:"Module"})),qa={...vDt,...pDt};function _Dt(i,e){return JR(i,new qa.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,a){return qa.isNode&&Jt.isBuffer(n)?(this.append(r,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}function bDt(i){return Jt.matchAll(/\w+|\[(\w*)]/g,i).map(e=>e[0]==="[]"?"":e[1]||e[0])}function xDt(i){const e={},n=Object.keys(i);let r;const s=n.length;let a;for(r=0;r<s;r++)a=n[r],e[a]=i[a];return e}function JY(i){function e(n,r,s,a){let o=n[a++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),u=a>=n.length;return o=!o&&Jt.isArray(s)?s.length:o,u?(Jt.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!l):((!s[o]||!Jt.isObject(s[o]))&&(s[o]=[]),e(n,r,s[o],a)&&Jt.isArray(s[o])&&(s[o]=xDt(s[o])),!l)}if(Jt.isFormData(i)&&Jt.isFunction(i.entries)){const n={};return Jt.forEachEntry(i,(r,s)=>{e(bDt(r),s,n,0)}),n}return null}function SDt(i,e,n){if(Jt.isString(i))try{return(e||JSON.parse)(i),Jt.trim(i)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(i)}const IE={transitional:QY,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,a=Jt.isObject(e);if(a&&Jt.isHTMLForm(e)&&(e=new FormData(e)),Jt.isFormData(e))return s?JSON.stringify(JY(e)):e;if(Jt.isArrayBuffer(e)||Jt.isBuffer(e)||Jt.isStream(e)||Jt.isFile(e)||Jt.isBlob(e)||Jt.isReadableStream(e))return e;if(Jt.isArrayBufferView(e))return e.buffer;if(Jt.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return _Dt(e,this.formSerializer).toString();if((l=Jt.isFileList(e))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return JR(l?{"files[]":e}:e,u&&new u,this.formSerializer)}}return a||s?(n.setContentType("application/json",!1),SDt(e)):e}],transformResponse:[function(e){const n=this.transitional||IE.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(Jt.isResponse(e)||Jt.isReadableStream(e))return e;if(e&&Jt.isString(e)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(l){if(o)throw l.name==="SyntaxError"?Gn.from(l,Gn.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:qa.classes.FormData,Blob:qa.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Jt.forEach(["delete","get","head","post","put","patch"],i=>{IE.headers[i]={}});const EDt=Jt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),TDt=i=>{const e={};let n,r,s;return i&&i.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||e[n]&&EDt[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},u9=Symbol("internals");function i1(i){return i&&String(i).trim().toLowerCase()}function fM(i){return i===!1||i==null?i:Jt.isArray(i)?i.map(fM):String(i)}function wDt(i){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(i);)e[r[1]]=r[2];return e}const ADt=i=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(i.trim());function dD(i,e,n,r,s){if(Jt.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!Jt.isString(e)){if(Jt.isString(r))return e.indexOf(r)!==-1;if(Jt.isRegExp(r))return r.test(e)}}function MDt(i){return i.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function CDt(i,e){const n=Jt.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(i,r+n,{value:function(s,a,o){return this[r].call(this,e,s,a,o)},configurable:!0})})}let dl=class{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function a(l,u,f){const h=i1(u);if(!h)throw new Error("header name must be a non-empty string");const p=Jt.findKey(s,h);(!p||s[p]===void 0||f===!0||f===void 0&&s[p]!==!1)&&(s[p||u]=fM(l))}const o=(l,u)=>Jt.forEach(l,(f,h)=>a(f,h,u));if(Jt.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(Jt.isString(e)&&(e=e.trim())&&!ADt(e))o(TDt(e),n);else if(Jt.isHeaders(e))for(const[l,u]of e.entries())a(u,l,r);else e!=null&&a(n,e,r);return this}get(e,n){if(e=i1(e),e){const r=Jt.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return wDt(s);if(Jt.isFunction(n))return n.call(this,s,r);if(Jt.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=i1(e),e){const r=Jt.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||dD(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function a(o){if(o=i1(o),o){const l=Jt.findKey(r,o);l&&(!n||dD(r,r[l],l,n))&&(delete r[l],s=!0)}}return Jt.isArray(e)?e.forEach(a):a(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const a=n[r];(!e||dD(this,this[a],a,e,!0))&&(delete this[a],s=!0)}return s}normalize(e){const n=this,r={};return Jt.forEach(this,(s,a)=>{const o=Jt.findKey(r,a);if(o){n[o]=fM(s),delete n[a];return}const l=e?MDt(a):String(a).trim();l!==a&&delete n[a],n[l]=fM(s),r[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return Jt.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&Jt.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[u9]=this[u9]={accessors:{}}).accessors,s=this.prototype;function a(o){const l=i1(o);r[l]||(CDt(s,o),r[l]=!0)}return Jt.isArray(e)?e.forEach(a):a(e),this}};dl.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Jt.reduceDescriptors(dl.prototype,({value:i},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>i,set(r){this[n]=r}}});Jt.freezeMethods(dl);function pD(i,e){const n=this||IE,r=e||n,s=dl.from(r.headers);let a=r.data;return Jt.forEach(i,function(l){a=l.call(n,a,s.normalize(),e?e.status:void 0)}),s.normalize(),a}function tK(i){return!!(i&&i.__CANCEL__)}function hb(i,e,n){Gn.call(this,i??"canceled",Gn.ERR_CANCELED,e,n),this.name="CanceledError"}Jt.inherits(hb,Gn,{__CANCEL__:!0});function eK(i,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?i(n):e(new Gn("Request failed with status code "+n.status,[Gn.ERR_BAD_REQUEST,Gn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function RDt(i){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(i);return e&&e[1]||""}function ODt(i,e){i=i||10;const n=new Array(i),r=new Array(i);let s=0,a=0,o;return e=e!==void 0?e:1e3,function(u){const f=Date.now(),h=r[a];o||(o=f),n[s]=u,r[s]=f;let p=a,y=0;for(;p!==s;)y+=n[p++],p=p%i;if(s=(s+1)%i,s===a&&(a=(a+1)%i),f-o<e)return;const _=h&&f-h;return _?Math.round(y*1e3/_):void 0}}function IDt(i,e){let n=0,r=1e3/e,s,a;const o=(f,h=Date.now())=>{n=h,s=null,a&&(clearTimeout(a),a=null),i.apply(null,f)};return[(...f)=>{const h=Date.now(),p=h-n;p>=r?o(f,h):(s=f,a||(a=setTimeout(()=>{a=null,o(s)},r-p)))},()=>s&&o(s)]}const a2=(i,e,n=3)=>{let r=0;const s=ODt(50,250);return IDt(a=>{const o=a.loaded,l=a.lengthComputable?a.total:void 0,u=o-r,f=s(u),h=o<=l;r=o;const p={loaded:o,total:l,progress:l?o/l:void 0,bytes:u,rate:f||void 0,estimated:f&&l&&h?(l-o)/f:void 0,event:a,lengthComputable:l!=null,[e?"download":"upload"]:!0};i(p)},n)},c9=(i,e)=>{const n=i!=null;return[r=>e[0]({lengthComputable:n,total:i,loaded:r}),e[1]]},f9=i=>(...e)=>Jt.asap(()=>i(...e)),PDt=qa.hasStandardBrowserEnv?((i,e)=>n=>(n=new URL(n,qa.origin),i.protocol===n.protocol&&i.host===n.host&&(e||i.port===n.port)))(new URL(qa.origin),qa.navigator&&/(msie|trident)/i.test(qa.navigator.userAgent)):()=>!0,DDt=qa.hasStandardBrowserEnv?{write(i,e,n,r,s,a){const o=[i+"="+encodeURIComponent(e)];Jt.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),Jt.isString(r)&&o.push("path="+r),Jt.isString(s)&&o.push("domain="+s),a===!0&&o.push("secure"),document.cookie=o.join("; ")},read(i){const e=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(i){this.write(i,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function NDt(i){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(i)}function LDt(i,e){return e?i.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):i}function nK(i,e,n){let r=!NDt(e);return i&&(r||n==!1)?LDt(i,e):e}const h9=i=>i instanceof dl?{...i}:i;function Vy(i,e){e=e||{};const n={};function r(f,h,p,y){return Jt.isPlainObject(f)&&Jt.isPlainObject(h)?Jt.merge.call({caseless:y},f,h):Jt.isPlainObject(h)?Jt.merge({},h):Jt.isArray(h)?h.slice():h}function s(f,h,p,y){if(Jt.isUndefined(h)){if(!Jt.isUndefined(f))return r(void 0,f,p,y)}else return r(f,h,p,y)}function a(f,h){if(!Jt.isUndefined(h))return r(void 0,h)}function o(f,h){if(Jt.isUndefined(h)){if(!Jt.isUndefined(f))return r(void 0,f)}else return r(void 0,h)}function l(f,h,p){if(p in e)return r(f,h);if(p in i)return r(void 0,f)}const u={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(f,h,p)=>s(h9(f),h9(h),p,!0)};return Jt.forEach(Object.keys(Object.assign({},i,e)),function(h){const p=u[h]||s,y=p(i[h],e[h],h);Jt.isUndefined(y)&&p!==l||(n[h]=y)}),n}const iK=i=>{const e=Vy({},i);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:a,headers:o,auth:l}=e;e.headers=o=dl.from(o),e.url=ZY(nK(e.baseURL,e.url,e.allowAbsoluteUrls),i.params,i.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let u;if(Jt.isFormData(n)){if(qa.hasStandardBrowserEnv||qa.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((u=o.getContentType())!==!1){const[f,...h]=u?u.split(";").map(p=>p.trim()).filter(Boolean):[];o.setContentType([f||"multipart/form-data",...h].join("; "))}}if(qa.hasStandardBrowserEnv&&(r&&Jt.isFunction(r)&&(r=r(e)),r||r!==!1&&PDt(e.url))){const f=s&&a&&DDt.read(a);f&&o.set(s,f)}return e},UDt=typeof XMLHttpRequest<"u",kDt=UDt&&function(i){return new Promise(function(n,r){const s=iK(i);let a=s.data;const o=dl.from(s.headers).normalize();let{responseType:l,onUploadProgress:u,onDownloadProgress:f}=s,h,p,y,_,x;function S(){_&&_(),x&&x(),s.cancelToken&&s.cancelToken.unsubscribe(h),s.signal&&s.signal.removeEventListener("abort",h)}let E=new XMLHttpRequest;E.open(s.method.toUpperCase(),s.url,!0),E.timeout=s.timeout;function b(){if(!E)return;const C=dl.from("getAllResponseHeaders"in E&&E.getAllResponseHeaders()),I={data:!l||l==="text"||l==="json"?E.responseText:E.response,status:E.status,statusText:E.statusText,headers:C,config:i,request:E};eK(function(N){n(N),S()},function(N){r(N),S()},I),E=null}"onloadend"in E?E.onloadend=b:E.onreadystatechange=function(){!E||E.readyState!==4||E.status===0&&!(E.responseURL&&E.responseURL.indexOf("file:")===0)||setTimeout(b)},E.onabort=function(){E&&(r(new Gn("Request aborted",Gn.ECONNABORTED,i,E)),E=null)},E.onerror=function(){r(new Gn("Network Error",Gn.ERR_NETWORK,i,E)),E=null},E.ontimeout=function(){let M=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const I=s.transitional||QY;s.timeoutErrorMessage&&(M=s.timeoutErrorMessage),r(new Gn(M,I.clarifyTimeoutError?Gn.ETIMEDOUT:Gn.ECONNABORTED,i,E)),E=null},a===void 0&&o.setContentType(null),"setRequestHeader"in E&&Jt.forEach(o.toJSON(),function(M,I){E.setRequestHeader(I,M)}),Jt.isUndefined(s.withCredentials)||(E.withCredentials=!!s.withCredentials),l&&l!=="json"&&(E.responseType=s.responseType),f&&([y,x]=a2(f,!0),E.addEventListener("progress",y)),u&&E.upload&&([p,_]=a2(u),E.upload.addEventListener("progress",p),E.upload.addEventListener("loadend",_)),(s.cancelToken||s.signal)&&(h=C=>{E&&(r(!C||C.type?new hb(null,i,E):C),E.abort(),E=null)},s.cancelToken&&s.cancelToken.subscribe(h),s.signal&&(s.signal.aborted?h():s.signal.addEventListener("abort",h)));const A=RDt(s.url);if(A&&qa.protocols.indexOf(A)===-1){r(new Gn("Unsupported protocol "+A+":",Gn.ERR_BAD_REQUEST,i));return}E.send(a||null)})},zDt=(i,e)=>{const{length:n}=i=i?i.filter(Boolean):[];if(e||n){let r=new AbortController,s;const a=function(f){if(!s){s=!0,l();const h=f instanceof Error?f:this.reason;r.abort(h instanceof Gn?h:new hb(h instanceof Error?h.message:h))}};let o=e&&setTimeout(()=>{o=null,a(new Gn(`timeout ${e} of ms exceeded`,Gn.ETIMEDOUT))},e);const l=()=>{i&&(o&&clearTimeout(o),o=null,i.forEach(f=>{f.unsubscribe?f.unsubscribe(a):f.removeEventListener("abort",a)}),i=null)};i.forEach(f=>f.addEventListener("abort",a));const{signal:u}=r;return u.unsubscribe=()=>Jt.asap(l),u}},BDt=function*(i,e){let n=i.byteLength;if(n<e){yield i;return}let r=0,s;for(;r<n;)s=r+e,yield i.slice(r,s),r=s},FDt=async function*(i,e){for await(const n of VDt(i))yield*BDt(n,e)},VDt=async function*(i){if(i[Symbol.asyncIterator]){yield*i;return}const e=i.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},d9=(i,e,n,r)=>{const s=FDt(i,e);let a=0,o,l=u=>{o||(o=!0,r&&r(u))};return new ReadableStream({async pull(u){try{const{done:f,value:h}=await s.next();if(f){l(),u.close();return}let p=h.byteLength;if(n){let y=a+=p;n(y)}u.enqueue(new Uint8Array(h))}catch(f){throw l(f),f}},cancel(u){return l(u),s.return()}},{highWaterMark:2})},tO=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",rK=tO&&typeof ReadableStream=="function",HDt=tO&&(typeof TextEncoder=="function"?(i=>e=>i.encode(e))(new TextEncoder):async i=>new Uint8Array(await new Response(i).arrayBuffer())),sK=(i,...e)=>{try{return!!i(...e)}catch{return!1}},jDt=rK&&sK(()=>{let i=!1;const e=new Request(qa.origin,{body:new ReadableStream,method:"POST",get duplex(){return i=!0,"half"}}).headers.has("Content-Type");return i&&!e}),p9=64*1024,zN=rK&&sK(()=>Jt.isReadableStream(new Response("").body)),o2={stream:zN&&(i=>i.body)};tO&&(i=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!o2[e]&&(o2[e]=Jt.isFunction(i[e])?n=>n[e]():(n,r)=>{throw new Gn(`Response type '${e}' is not supported`,Gn.ERR_NOT_SUPPORT,r)})})})(new Response);const GDt=async i=>{if(i==null)return 0;if(Jt.isBlob(i))return i.size;if(Jt.isSpecCompliantForm(i))return(await new Request(qa.origin,{method:"POST",body:i}).arrayBuffer()).byteLength;if(Jt.isArrayBufferView(i)||Jt.isArrayBuffer(i))return i.byteLength;if(Jt.isURLSearchParams(i)&&(i=i+""),Jt.isString(i))return(await HDt(i)).byteLength},qDt=async(i,e)=>{const n=Jt.toFiniteNumber(i.getContentLength());return n??GDt(e)},$Dt=tO&&(async i=>{let{url:e,method:n,data:r,signal:s,cancelToken:a,timeout:o,onDownloadProgress:l,onUploadProgress:u,responseType:f,headers:h,withCredentials:p="same-origin",fetchOptions:y}=iK(i);f=f?(f+"").toLowerCase():"text";let _=zDt([s,a&&a.toAbortSignal()],o),x;const S=_&&_.unsubscribe&&(()=>{_.unsubscribe()});let E;try{if(u&&jDt&&n!=="get"&&n!=="head"&&(E=await qDt(h,r))!==0){let I=new Request(e,{method:"POST",body:r,duplex:"half"}),k;if(Jt.isFormData(r)&&(k=I.headers.get("content-type"))&&h.setContentType(k),I.body){const[N,L]=c9(E,a2(f9(u)));r=d9(I.body,p9,N,L)}}Jt.isString(p)||(p=p?"include":"omit");const b="credentials"in Request.prototype;x=new Request(e,{...y,signal:_,method:n.toUpperCase(),headers:h.normalize().toJSON(),body:r,duplex:"half",credentials:b?p:void 0});let A=await fetch(x);const C=zN&&(f==="stream"||f==="response");if(zN&&(l||C&&S)){const I={};["status","statusText","headers"].forEach(U=>{I[U]=A[U]});const k=Jt.toFiniteNumber(A.headers.get("content-length")),[N,L]=l&&c9(k,a2(f9(l),!0))||[];A=new Response(d9(A.body,p9,N,()=>{L&&L(),S&&S()}),I)}f=f||"text";let M=await o2[Jt.findKey(o2,f)||"text"](A,i);return!C&&S&&S(),await new Promise((I,k)=>{eK(I,k,{data:M,headers:dl.from(A.headers),status:A.status,statusText:A.statusText,config:i,request:x})})}catch(b){throw S&&S(),b&&b.name==="TypeError"&&/fetch/i.test(b.message)?Object.assign(new Gn("Network Error",Gn.ERR_NETWORK,i,x),{cause:b.cause||b}):Gn.from(b,b&&b.code,i,x)}}),BN={http:oDt,xhr:kDt,fetch:$Dt};Jt.forEach(BN,(i,e)=>{if(i){try{Object.defineProperty(i,"name",{value:e})}catch{}Object.defineProperty(i,"adapterName",{value:e})}});const m9=i=>`- ${i}`,WDt=i=>Jt.isFunction(i)||i===null||i===!1,aK={getAdapter:i=>{i=Jt.isArray(i)?i:[i];const{length:e}=i;let n,r;const s={};for(let a=0;a<e;a++){n=i[a];let o;if(r=n,!WDt(n)&&(r=BN[(o=String(n)).toLowerCase()],r===void 0))throw new Gn(`Unknown adapter '${o}'`);if(r)break;s[o||"#"+a]=r}if(!r){const a=Object.entries(s).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=e?a.length>1?`since :
`+a.map(m9).join(`
`):" "+m9(a[0]):"as no adapter specified";throw new Gn("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:BN};function mD(i){if(i.cancelToken&&i.cancelToken.throwIfRequested(),i.signal&&i.signal.aborted)throw new hb(null,i)}function g9(i){return mD(i),i.headers=dl.from(i.headers),i.data=pD.call(i,i.transformRequest),["post","put","patch"].indexOf(i.method)!==-1&&i.headers.setContentType("application/x-www-form-urlencoded",!1),aK.getAdapter(i.adapter||IE.adapter)(i).then(function(r){return mD(i),r.data=pD.call(i,i.transformResponse,r),r.headers=dl.from(r.headers),r},function(r){return tK(r)||(mD(i),r&&r.response&&(r.response.data=pD.call(i,i.transformResponse,r.response),r.response.headers=dl.from(r.response.headers))),Promise.reject(r)})}const oK="1.8.4",eO={};["object","boolean","number","function","string","symbol"].forEach((i,e)=>{eO[i]=function(r){return typeof r===i||"a"+(e<1?"n ":" ")+i}});const y9={};eO.transitional=function(e,n,r){function s(a,o){return"[Axios v"+oK+"] Transitional option '"+a+"'"+o+(r?". "+r:"")}return(a,o,l)=>{if(e===!1)throw new Gn(s(o," has been removed"+(n?" in "+n:"")),Gn.ERR_DEPRECATED);return n&&!y9[o]&&(y9[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(a,o,l):!0}};eO.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function XDt(i,e,n){if(typeof i!="object")throw new Gn("options must be an object",Gn.ERR_BAD_OPTION_VALUE);const r=Object.keys(i);let s=r.length;for(;s-- >0;){const a=r[s],o=e[a];if(o){const l=i[a],u=l===void 0||o(l,a,i);if(u!==!0)throw new Gn("option "+a+" must be "+u,Gn.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Gn("Unknown option "+a,Gn.ERR_BAD_OPTION)}}const hM={assertOptions:XDt,validators:eO},Cf=hM.validators;let xy=class{constructor(e){this.defaults=e,this.interceptors={request:new l9,response:new l9}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const a=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Vy(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:a}=n;r!==void 0&&hM.assertOptions(r,{silentJSONParsing:Cf.transitional(Cf.boolean),forcedJSONParsing:Cf.transitional(Cf.boolean),clarifyTimeoutError:Cf.transitional(Cf.boolean)},!1),s!=null&&(Jt.isFunction(s)?n.paramsSerializer={serialize:s}:hM.assertOptions(s,{encode:Cf.function,serialize:Cf.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),hM.assertOptions(n,{baseUrl:Cf.spelling("baseURL"),withXsrfToken:Cf.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=a&&Jt.merge(a.common,a[n.method]);a&&Jt.forEach(["delete","get","head","post","put","patch","common"],x=>{delete a[x]}),n.headers=dl.concat(o,a);const l=[];let u=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(n)===!1||(u=u&&S.synchronous,l.unshift(S.fulfilled,S.rejected))});const f=[];this.interceptors.response.forEach(function(S){f.push(S.fulfilled,S.rejected)});let h,p=0,y;if(!u){const x=[g9.bind(this),void 0];for(x.unshift.apply(x,l),x.push.apply(x,f),y=x.length,h=Promise.resolve(n);p<y;)h=h.then(x[p++],x[p++]);return h}y=l.length;let _=n;for(p=0;p<y;){const x=l[p++],S=l[p++];try{_=x(_)}catch(E){S.call(this,E);break}}try{h=g9.call(this,_)}catch(x){return Promise.reject(x)}for(p=0,y=f.length;p<y;)h=h.then(f[p++],f[p++]);return h}getUri(e){e=Vy(this.defaults,e);const n=nK(e.baseURL,e.url,e.allowAbsoluteUrls);return ZY(n,e.params,e.paramsSerializer)}};Jt.forEach(["delete","get","head","options"],function(e){xy.prototype[e]=function(n,r){return this.request(Vy(r||{},{method:e,url:n,data:(r||{}).data}))}});Jt.forEach(["post","put","patch"],function(e){function n(r){return function(a,o,l){return this.request(Vy(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}xy.prototype[e]=n(),xy.prototype[e+"Form"]=n(!0)});let YDt=class lK{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const r=this;this.promise.then(s=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](s);r._listeners=null}),this.promise.then=s=>{let a;const o=new Promise(l=>{r.subscribe(l),a=l}).then(s);return o.cancel=function(){r.unsubscribe(a)},o},e(function(a,o,l){r.reason||(r.reason=new hb(a,o,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new lK(function(s){e=s}),cancel:e}}};function KDt(i){return function(n){return i.apply(null,n)}}function ZDt(i){return Jt.isObject(i)&&i.isAxiosError===!0}const FN={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(FN).forEach(([i,e])=>{FN[e]=i});function uK(i){const e=new xy(i),n=FY(xy.prototype.request,e);return Jt.extend(n,xy.prototype,e,{allOwnKeys:!0}),Jt.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return uK(Vy(i,s))},n}const Hr=uK(IE);Hr.Axios=xy;Hr.CanceledError=hb;Hr.CancelToken=YDt;Hr.isCancel=tK;Hr.VERSION=oK;Hr.toFormData=JR;Hr.AxiosError=Gn;Hr.Cancel=Hr.CanceledError;Hr.all=function(e){return Promise.all(e)};Hr.spread=KDt;Hr.isAxiosError=ZDt;Hr.mergeConfig=Vy;Hr.AxiosHeaders=dl;Hr.formToJSON=i=>JY(Jt.isHTMLForm(i)?new FormData(i):i);Hr.getAdapter=aK.getAdapter;Hr.HttpStatusCode=FN;Hr.default=Hr;const{Axios:$Lt,AxiosError:WLt,CanceledError:XLt,isCancel:YLt,CancelToken:KLt,VERSION:ZLt,all:QLt,Cancel:JLt,isAxiosError:tUt,spread:eUt,toFormData:nUt,AxiosHeaders:iUt,HttpStatusCode:rUt,formToJSON:sUt,getAdapter:aUt,mergeConfig:oUt}=Hr,v9="AIzaSyAa0gtKxf96As85G1LjaWLr3YzKz0DttGQ",_9=i=>{const e=i.match(/PT(?:(\d+)H)?(?:(\d+)M)?(?:(\d+)S)?/);if(!e)return["00:00","0"];const n=parseInt(e[1]||"0",10),r=parseInt(e[2]||"0",10),s=parseInt(e[3]||"0",10),a=f=>f.toString().padStart(2,"0"),o=`${n}:${a(r)}:${a(s)}`,l=`${r}:${a(s)}`,u=String(n*3600+r*60+s);return n>0?[o,u]:[l,u]},QDt=i=>i>=1e9?(i/1e9).toFixed(1)+" B":i>=1e6?(i/1e6).toFixed(1)+" M":i>=1e3?(i/1e3).toFixed(1)+" K":i.toString(),JDt=i=>{const e=new Date(i),r=Math.floor((new Date().getTime()-e.getTime())/1e3),s=Math.floor(r/60),a=Math.floor(s/60),o=Math.floor(a/24),l=Math.floor(o/30),u=Math.floor(o/365);return u>=1?`${u} ao${u>1?"s":""}`:l>=1?`${l} mes${l>1?"es":""}`:o>=1?`${o} da${o>1?"s":""}`:a>=1?`${a} hora${a>1?"s":""}`:s>=1?`${s} minuto${s>1?"s":""}`:`${r} segundo${r>1?"s":""}`},t3t=async(i,e)=>{var n,r,s,a,o,l,u,f;if(i)try{const p=(await Hr.get("https://www.googleapis.com/youtube/v3/search",{params:{part:"snippet",q:i,key:v9,type:"video",maxResults:10}})).data.items.map(x=>x.id.videoId),_=(await Hr.get("https://www.googleapis.com/youtube/v3/videos",{params:{part:"snippet,contentDetails,statistics",id:p.join(","),key:v9}})).data.items.map(x=>{const S=_9(x.contentDetails.duration)[0],E=_9(x.contentDetails.duration)[1],b=QDt(x.statistics.viewCount),A=JDt(x.snippet.publishedAt);return{videoId:x.id,videoTitle:x.snippet.title,publishedAt:A,viewCount:b,duration:S,secondsTotal:E,channelTitle:x.snippet.channelTitle,videoThumbnailUrl:x.snippet.thumbnails.high.url}});e(_)}catch(h){Hr.isAxiosError(h)?console.error("Error buscando en YouTube:",{status:(n=h.response)==null?void 0:n.status,statusText:(r=h.response)==null?void 0:r.statusText,message:((o=(a=(s=h.response)==null?void 0:s.data)==null?void 0:a.error)==null?void 0:o.message)||h.message,errors:(f=(u=(l=h.response)==null?void 0:l.data)==null?void 0:u.error)==null?void 0:f.errors}):console.error("Error inesperado:",h)}},e3t=({cameraControlsRef:i})=>{const e=tt.useRef(void 0);jL(()=>{var s;return(s=e.current)==null?void 0:s.tickFrame()});const n=sPt(),r=tt.useCallback(s=>{if(!s)return;if(!i.current){console.error("cameraControlsRef no est inicializado.");return}const a=new pt(s.x??0,s.y??0,s.z??0);nPt(i.current,a,30),Un.setState({nodeViewData:s})},[i]);return K.jsx(FOt,{ref:e,graphData:n,linkWidth:2,linkCurvature:.05,linkDirectionalParticles:4,linkDirectionalParticleWidth:2,onNodeClick:r,nodeAutoColorBy:s=>s.group?wj[s.group]:"gray",nodeThreeObject:s=>SPt(s)})},n3t=({cameraControlsRef:i})=>K.jsxs(K.Fragment,{children:[K.jsx(fot,{radius:Sv.radius,depth:Sv.depth,count:Sv.count,factor:Sv.factor,saturation:Sv.saturation,fade:!0,speed:Sv.speed}),K.jsx(e3t,{cameraControlsRef:i}),K.jsx("ambientLight",{intensity:.9}),K.jsx("directionalLight",{position:[100,20,10],color:"yellow"})]}),i3t=Ya.palette,r3t=i3t.text,s3t={display:"flex",alignItems:"center",justifyContent:"center"},a3t={color:r3t.titleBig,fontSize:"2rem",lineHeight:"1",fontWeight:600,fontFamily:"Poppins",fontStyle:"italic"},o3t={width:"120px",marginRight:"20px"};function cK(){return K.jsxs(Oi,{sx:s3t,children:[K.jsx("img",{src:"./logoApp.svg",alt:"Black Triangle BJJ Logo",style:o3t}),K.jsxs(Mo,{sx:a3t,children:["BLACK ",K.jsx("br",{})," TRIANGLE BJJ"]})]})}var PE=i=>i.type==="checkbox",ly=i=>i instanceof Date,xo=i=>i==null;const fK=i=>typeof i=="object";var ds=i=>!xo(i)&&!Array.isArray(i)&&fK(i)&&!ly(i),hK=i=>ds(i)&&i.target?PE(i.target)?i.target.checked:i.target.value:i,l3t=i=>i.substring(0,i.search(/\.\d+(\.|$)/))||i,dK=(i,e)=>i.has(l3t(e)),u3t=i=>{const e=i.constructor&&i.constructor.prototype;return ds(e)&&e.hasOwnProperty("isPrototypeOf")},ck=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function da(i){let e;const n=Array.isArray(i),r=typeof FileList<"u"?i instanceof FileList:!1;if(i instanceof Date)e=new Date(i);else if(i instanceof Set)e=new Set(i);else if(!(ck&&(i instanceof Blob||r))&&(n||ds(i)))if(e=n?[]:{},!n&&!u3t(i))e=i;else for(const s in i)i.hasOwnProperty(s)&&(e[s]=da(i[s]));else return i;return e}var nO=i=>Array.isArray(i)?i.filter(Boolean):[],hs=i=>i===void 0,ke=(i,e,n)=>{if(!e||!ds(i))return n;const r=nO(e.split(/[,[\].]+?/)).reduce((s,a)=>xo(s)?s:s[a],i);return hs(r)||r===i?hs(i[e])?n:i[e]:r},Fl=i=>typeof i=="boolean",fk=i=>/^\w*$/.test(i),pK=i=>nO(i.replace(/["|']|\]/g,"").split(/\.|\[/)),zi=(i,e,n)=>{let r=-1;const s=fk(e)?[e]:pK(e),a=s.length,o=a-1;for(;++r<a;){const l=s[r];let u=n;if(r!==o){const f=i[l];u=ds(f)||Array.isArray(f)?f:isNaN(+s[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;i[l]=u,i=i[l]}};const l2={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Tc={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},td={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},c3t=hn.createContext(null),hk=()=>hn.useContext(c3t);var mK=(i,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const a in i)Object.defineProperty(s,a,{get:()=>{const o=a;return e._proxyFormState[o]!==Tc.all&&(e._proxyFormState[o]=!r||Tc.all),n&&(n[o]=!0),i[o]}});return s};function f3t(i){const e=hk(),{control:n=e.control,disabled:r,name:s,exact:a}=i||{},[o,l]=hn.useState(n._formState),u=hn.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),f=hn.useRef(s);return f.current=s,hn.useEffect(()=>n._subscribe({name:f.current,formState:u.current,exact:a,callback:h=>{!r&&l({...n._formState,...h})}}),[n,r,a]),hn.useEffect(()=>{u.current.isValid&&n._setValid(!0)},[n]),hn.useMemo(()=>mK(o,n,u.current,!1),[o,n])}var jf=i=>typeof i=="string",gK=(i,e,n,r,s)=>jf(i)?(r&&e.watch.add(i),ke(n,i,s)):Array.isArray(i)?i.map(a=>(r&&e.watch.add(a),ke(n,a))):(r&&(e.watchAll=!0),n);function h3t(i){const e=hk(),{control:n=e.control,name:r,defaultValue:s,disabled:a,exact:o}=i||{},l=hn.useRef(r),u=hn.useRef(s);l.current=r,hn.useEffect(()=>n._subscribe({name:l.current,formState:{values:!0},exact:o,callback:p=>!a&&h(gK(l.current,n._names,p.values||n._formValues,!1,u.current))}),[n,a,o]);const[f,h]=hn.useState(n._getWatch(r,s));return hn.useEffect(()=>n._removeUnmounted()),f}function d3t(i){const e=hk(),{name:n,disabled:r,control:s=e.control,shouldUnregister:a}=i,o=dK(s._names.array,n),l=h3t({control:s,name:n,defaultValue:ke(s._formValues,n,ke(s._defaultValues,n,i.defaultValue)),exact:!0}),u=f3t({control:s,name:n,exact:!0}),f=hn.useRef(i),h=hn.useRef(s.register(n,{...i.rules,value:l,...Fl(i.disabled)?{disabled:i.disabled}:{}})),p=hn.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ke(u.errors,n)},isDirty:{enumerable:!0,get:()=>!!ke(u.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!ke(u.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!ke(u.validatingFields,n)},error:{enumerable:!0,get:()=>ke(u.errors,n)}}),[u,n]),y=hn.useCallback(E=>h.current.onChange({target:{value:hK(E),name:n},type:l2.CHANGE}),[n]),_=hn.useCallback(()=>h.current.onBlur({target:{value:ke(s._formValues,n),name:n},type:l2.BLUR}),[n,s._formValues]),x=hn.useCallback(E=>{const b=ke(s._fields,n);b&&E&&(b._f.ref={focus:()=>E.focus(),select:()=>E.select(),setCustomValidity:A=>E.setCustomValidity(A),reportValidity:()=>E.reportValidity()})},[s._fields,n]),S=hn.useMemo(()=>({name:n,value:l,...Fl(r)||u.disabled?{disabled:u.disabled||r}:{},onChange:y,onBlur:_,ref:x}),[n,r,u.disabled,y,_,x,l]);return hn.useEffect(()=>{const E=s._options.shouldUnregister||a;s.register(n,{...f.current.rules,...Fl(f.current.disabled)?{disabled:f.current.disabled}:{}});const b=(A,C)=>{const M=ke(s._fields,A);M&&M._f&&(M._f.mount=C)};if(b(n,!0),E){const A=da(ke(s._options.defaultValues,n));zi(s._defaultValues,n,A),hs(ke(s._formValues,n))&&zi(s._formValues,n,A)}return!o&&s.register(n),()=>{(o?E&&!s._state.action:E)?s.unregister(n):b(n,!1)}},[n,s,o,a]),hn.useEffect(()=>{s._setDisabledField({disabled:r,name:n})},[r,n,s]),hn.useMemo(()=>({field:S,formState:u,fieldState:p}),[S,u,p])}const VN=i=>i.render(d3t(i));var yK=(i,e,n,r,s)=>e?{...n[i],types:{...n[i]&&n[i].types?n[i].types:{},[r]:s||!0}}:{},K1=i=>Array.isArray(i)?i:[i],b9=()=>{let i=[];return{get observers(){return i},next:s=>{for(const a of i)a.next&&a.next(s)},subscribe:s=>(i.push(s),{unsubscribe:()=>{i=i.filter(a=>a!==s)}}),unsubscribe:()=>{i=[]}}},HN=i=>xo(i)||!fK(i);function Xp(i,e){if(HN(i)||HN(e))return i===e;if(ly(i)&&ly(e))return i.getTime()===e.getTime();const n=Object.keys(i),r=Object.keys(e);if(n.length!==r.length)return!1;for(const s of n){const a=i[s];if(!r.includes(s))return!1;if(s!=="ref"){const o=e[s];if(ly(a)&&ly(o)||ds(a)&&ds(o)||Array.isArray(a)&&Array.isArray(o)?!Xp(a,o):a!==o)return!1}}return!0}var bo=i=>ds(i)&&!Object.keys(i).length,dk=i=>i.type==="file",wc=i=>typeof i=="function",u2=i=>{if(!ck)return!1;const e=i?i.ownerDocument:0;return i instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},vK=i=>i.type==="select-multiple",pk=i=>i.type==="radio",p3t=i=>pk(i)||PE(i),gD=i=>u2(i)&&i.isConnected;function m3t(i,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)i=hs(i)?r++:i[e[r++]];return i}function g3t(i){for(const e in i)if(i.hasOwnProperty(e)&&!hs(i[e]))return!1;return!0}function ks(i,e){const n=Array.isArray(e)?e:fk(e)?[e]:pK(e),r=n.length===1?i:m3t(i,n),s=n.length-1,a=n[s];return r&&delete r[a],s!==0&&(ds(r)&&bo(r)||Array.isArray(r)&&g3t(r))&&ks(i,n.slice(0,-1)),i}var _K=i=>{for(const e in i)if(wc(i[e]))return!0;return!1};function c2(i,e={}){const n=Array.isArray(i);if(ds(i)||n)for(const r in i)Array.isArray(i[r])||ds(i[r])&&!_K(i[r])?(e[r]=Array.isArray(i[r])?[]:{},c2(i[r],e[r])):xo(i[r])||(e[r]=!0);return e}function bK(i,e,n){const r=Array.isArray(i);if(ds(i)||r)for(const s in i)Array.isArray(i[s])||ds(i[s])&&!_K(i[s])?hs(e)||HN(n[s])?n[s]=Array.isArray(i[s])?c2(i[s],[]):{...c2(i[s])}:bK(i[s],xo(e)?{}:e[s],n[s]):n[s]=!Xp(i[s],e[s]);return n}var r1=(i,e)=>bK(i,e,c2(e));const x9={value:!1,isValid:!1},S9={value:!0,isValid:!0};var xK=i=>{if(Array.isArray(i)){if(i.length>1){const e=i.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return i[0].checked&&!i[0].disabled?i[0].attributes&&!hs(i[0].attributes.value)?hs(i[0].value)||i[0].value===""?S9:{value:i[0].value,isValid:!0}:S9:x9}return x9},SK=(i,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>hs(i)?i:e?i===""?NaN:i&&+i:n&&jf(i)?new Date(i):r?r(i):i;const E9={isValid:!1,value:null};var EK=i=>Array.isArray(i)?i.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,E9):E9;function T9(i){const e=i.ref;return dk(e)?e.files:pk(e)?EK(i.refs).value:vK(e)?[...e.selectedOptions].map(({value:n})=>n):PE(e)?xK(i.refs).value:SK(hs(e.value)?i.ref.value:e.value,i)}var y3t=(i,e,n,r)=>{const s={};for(const a of i){const o=ke(e,a);o&&zi(s,a,o._f)}return{criteriaMode:n,names:[...i],fields:s,shouldUseNativeValidation:r}},f2=i=>i instanceof RegExp,s1=i=>hs(i)?i:f2(i)?i.source:ds(i)?f2(i.value)?i.value.source:i.value:i,w9=i=>({isOnSubmit:!i||i===Tc.onSubmit,isOnBlur:i===Tc.onBlur,isOnChange:i===Tc.onChange,isOnAll:i===Tc.all,isOnTouch:i===Tc.onTouched});const A9="AsyncFunction";var v3t=i=>!!i&&!!i.validate&&!!(wc(i.validate)&&i.validate.constructor.name===A9||ds(i.validate)&&Object.values(i.validate).find(e=>e.constructor.name===A9)),_3t=i=>i.mount&&(i.required||i.min||i.max||i.maxLength||i.minLength||i.pattern||i.validate),M9=(i,e,n)=>!n&&(e.watchAll||e.watch.has(i)||[...e.watch].some(r=>i.startsWith(r)&&/^\.\w+/.test(i.slice(r.length))));const Z1=(i,e,n,r)=>{for(const s of n||Object.keys(i)){const a=ke(i,s);if(a){const{_f:o,...l}=a;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],s)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(Z1(l,e))break}else if(ds(l)&&Z1(l,e))break}}};function C9(i,e,n){const r=ke(i,n);if(r||fk(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const a=s.join("."),o=ke(e,a),l=ke(i,a);if(o&&!Array.isArray(o)&&n!==a)return{name:n};if(l&&l.type)return{name:a,error:l};s.pop()}return{name:n}}var b3t=(i,e,n,r)=>{n(i);const{name:s,...a}=i;return bo(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(o=>e[o]===(!r||Tc.all))},x3t=(i,e,n)=>!i||!e||i===e||K1(i).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),S3t=(i,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||i):(n?r.isOnBlur:s.isOnBlur)?!i:(n?r.isOnChange:s.isOnChange)?i:!0,E3t=(i,e)=>!nO(ke(i,e)).length&&ks(i,e),T3t=(i,e,n)=>{const r=K1(ke(i,n));return zi(r,"root",e[n]),zi(i,n,r),i},dM=i=>jf(i);function R9(i,e,n="validate"){if(dM(i)||Array.isArray(i)&&i.every(dM)||Fl(i)&&!i)return{type:n,message:dM(i)?i:"",ref:e}}var Uv=i=>ds(i)&&!f2(i)?i:{value:i,message:""},O9=async(i,e,n,r,s,a)=>{const{ref:o,refs:l,required:u,maxLength:f,minLength:h,min:p,max:y,pattern:_,validate:x,name:S,valueAsNumber:E,mount:b}=i._f,A=ke(n,S);if(!b||e.has(S))return{};const C=l?l[0]:o,M=H=>{s&&C.reportValidity&&(C.setCustomValidity(Fl(H)?"":H||""),C.reportValidity())},I={},k=pk(o),N=PE(o),L=k||N,U=(E||dk(o))&&hs(o.value)&&hs(A)||u2(o)&&o.value===""||A===""||Array.isArray(A)&&!A.length,O=yK.bind(null,S,r,I),B=(H,V,X,et=td.maxLength,q=td.minLength)=>{const W=H?V:X;I[S]={type:H?et:q,message:W,ref:o,...O(H?et:q,W)}};if(a?!Array.isArray(A)||!A.length:u&&(!L&&(U||xo(A))||Fl(A)&&!A||N&&!xK(l).isValid||k&&!EK(l).isValid)){const{value:H,message:V}=dM(u)?{value:!!u,message:u}:Uv(u);if(H&&(I[S]={type:td.required,message:V,ref:C,...O(td.required,V)},!r))return M(V),I}if(!U&&(!xo(p)||!xo(y))){let H,V;const X=Uv(y),et=Uv(p);if(!xo(A)&&!isNaN(A)){const q=o.valueAsNumber||A&&+A;xo(X.value)||(H=q>X.value),xo(et.value)||(V=q<et.value)}else{const q=o.valueAsDate||new Date(A),W=Q=>new Date(new Date().toDateString()+" "+Q),Z=o.type=="time",nt=o.type=="week";jf(X.value)&&A&&(H=Z?W(A)>W(X.value):nt?A>X.value:q>new Date(X.value)),jf(et.value)&&A&&(V=Z?W(A)<W(et.value):nt?A<et.value:q<new Date(et.value))}if((H||V)&&(B(!!H,X.message,et.message,td.max,td.min),!r))return M(I[S].message),I}if((f||h)&&!U&&(jf(A)||a&&Array.isArray(A))){const H=Uv(f),V=Uv(h),X=!xo(H.value)&&A.length>+H.value,et=!xo(V.value)&&A.length<+V.value;if((X||et)&&(B(X,H.message,V.message),!r))return M(I[S].message),I}if(_&&!U&&jf(A)){const{value:H,message:V}=Uv(_);if(f2(H)&&!A.match(H)&&(I[S]={type:td.pattern,message:V,ref:o,...O(td.pattern,V)},!r))return M(V),I}if(x){if(wc(x)){const H=await x(A,n),V=R9(H,C);if(V&&(I[S]={...V,...O(td.validate,V.message)},!r))return M(V.message),I}else if(ds(x)){let H={};for(const V in x){if(!bo(H)&&!r)break;const X=R9(await x[V](A,n),C,V);X&&(H={...X,...O(V,X.message)},M(X.message),r&&(I[S]=H))}if(!bo(H)&&(I[S]={ref:C,...H},!r))return I}}return M(!0),I};const w3t={mode:Tc.onSubmit,reValidateMode:Tc.onChange,shouldFocusError:!0};function A3t(i={}){let e={...w3t,...i},n={submitCount:0,isDirty:!1,isLoading:wc(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const r={};let s=ds(e.defaultValues)||ds(e.values)?da(e.values||e.defaultValues)||{}:{},a=e.shouldUnregister?{}:da(s),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u,f=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let p={...h};const y={array:b9(),state:b9()},_=w9(e.mode),x=w9(e.reValidateMode),S=e.criteriaMode===Tc.all,E=j=>ut=>{clearTimeout(f),f=setTimeout(j,ut)},b=async j=>{if(!e.disabled&&(h.isValid||p.isValid||j)){const ut=e.resolver?bo((await U()).errors):await B(r,!0);ut!==n.isValid&&y.state.next({isValid:ut})}},A=(j,ut)=>{!e.disabled&&(h.isValidating||h.validatingFields||p.isValidating||p.validatingFields)&&((j||Array.from(l.mount)).forEach(mt=>{mt&&(ut?zi(n.validatingFields,mt,ut):ks(n.validatingFields,mt))}),y.state.next({validatingFields:n.validatingFields,isValidating:!bo(n.validatingFields)}))},C=(j,ut=[],mt,Rt,_t=!0,Ct=!0)=>{if(Rt&&mt&&!e.disabled){if(o.action=!0,Ct&&Array.isArray(ke(r,j))){const Lt=mt(ke(r,j),Rt.argA,Rt.argB);_t&&zi(r,j,Lt)}if(Ct&&Array.isArray(ke(n.errors,j))){const Lt=mt(ke(n.errors,j),Rt.argA,Rt.argB);_t&&zi(n.errors,j,Lt),E3t(n.errors,j)}if((h.touchedFields||p.touchedFields)&&Ct&&Array.isArray(ke(n.touchedFields,j))){const Lt=mt(ke(n.touchedFields,j),Rt.argA,Rt.argB);_t&&zi(n.touchedFields,j,Lt)}(h.dirtyFields||p.dirtyFields)&&(n.dirtyFields=r1(s,a)),y.state.next({name:j,isDirty:V(j,ut),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else zi(a,j,ut)},M=(j,ut)=>{zi(n.errors,j,ut),y.state.next({errors:n.errors})},I=j=>{n.errors=j,y.state.next({errors:n.errors,isValid:!1})},k=(j,ut,mt,Rt)=>{const _t=ke(r,j);if(_t){const Ct=ke(a,j,hs(mt)?ke(s,j):mt);hs(Ct)||Rt&&Rt.defaultChecked||ut?zi(a,j,ut?Ct:T9(_t._f)):q(j,Ct),o.mount&&b()}},N=(j,ut,mt,Rt,_t)=>{let Ct=!1,Lt=!1;const Qt={name:j};if(!e.disabled){if(!mt||Rt){(h.isDirty||p.isDirty)&&(Lt=n.isDirty,n.isDirty=Qt.isDirty=V(),Ct=Lt!==Qt.isDirty);const De=Xp(ke(s,j),ut);Lt=!!ke(n.dirtyFields,j),De?ks(n.dirtyFields,j):zi(n.dirtyFields,j,!0),Qt.dirtyFields=n.dirtyFields,Ct=Ct||(h.dirtyFields||p.dirtyFields)&&Lt!==!De}if(mt){const De=ke(n.touchedFields,j);De||(zi(n.touchedFields,j,mt),Qt.touchedFields=n.touchedFields,Ct=Ct||(h.touchedFields||p.touchedFields)&&De!==mt)}Ct&&_t&&y.state.next(Qt)}return Ct?Qt:{}},L=(j,ut,mt,Rt)=>{const _t=ke(n.errors,j),Ct=(h.isValid||p.isValid)&&Fl(ut)&&n.isValid!==ut;if(e.delayError&&mt?(u=E(()=>M(j,mt)),u(e.delayError)):(clearTimeout(f),u=null,mt?zi(n.errors,j,mt):ks(n.errors,j)),(mt?!Xp(_t,mt):_t)||!bo(Rt)||Ct){const Lt={...Rt,...Ct&&Fl(ut)?{isValid:ut}:{},errors:n.errors,name:j};n={...n,...Lt},y.state.next(Lt)}},U=async j=>{A(j,!0);const ut=await e.resolver(a,e.context,y3t(j||l.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return A(j),ut},O=async j=>{const{errors:ut}=await U(j);if(j)for(const mt of j){const Rt=ke(ut,mt);Rt?zi(n.errors,mt,Rt):ks(n.errors,mt)}else n.errors=ut;return ut},B=async(j,ut,mt={valid:!0})=>{for(const Rt in j){const _t=j[Rt];if(_t){const{_f:Ct,...Lt}=_t;if(Ct){const Qt=l.array.has(Ct.name),De=_t._f&&v3t(_t._f);De&&h.validatingFields&&A([Rt],!0);const Ht=await O9(_t,l.disabled,a,S,e.shouldUseNativeValidation&&!ut,Qt);if(De&&h.validatingFields&&A([Rt]),Ht[Ct.name]&&(mt.valid=!1,ut))break;!ut&&(ke(Ht,Ct.name)?Qt?T3t(n.errors,Ht,Ct.name):zi(n.errors,Ct.name,Ht[Ct.name]):ks(n.errors,Ct.name))}!bo(Lt)&&await B(Lt,ut,mt)}}return mt.valid},H=()=>{for(const j of l.unMount){const ut=ke(r,j);ut&&(ut._f.refs?ut._f.refs.every(mt=>!gD(mt)):!gD(ut._f.ref))&&Kt(j)}l.unMount=new Set},V=(j,ut)=>!e.disabled&&(j&&ut&&zi(a,j,ut),!Xp(yt(),s)),X=(j,ut,mt)=>gK(j,l,{...o.mount?a:hs(ut)?s:jf(j)?{[j]:ut}:ut},mt,ut),et=j=>nO(ke(o.mount?a:s,j,e.shouldUnregister?ke(s,j,[]):[])),q=(j,ut,mt={})=>{const Rt=ke(r,j);let _t=ut;if(Rt){const Ct=Rt._f;Ct&&(!Ct.disabled&&zi(a,j,SK(ut,Ct)),_t=u2(Ct.ref)&&xo(ut)?"":ut,vK(Ct.ref)?[...Ct.ref.options].forEach(Lt=>Lt.selected=_t.includes(Lt.value)):Ct.refs?PE(Ct.ref)?Ct.refs.length>1?Ct.refs.forEach(Lt=>(!Lt.defaultChecked||!Lt.disabled)&&(Lt.checked=Array.isArray(_t)?!!_t.find(Qt=>Qt===Lt.value):_t===Lt.value)):Ct.refs[0]&&(Ct.refs[0].checked=!!_t):Ct.refs.forEach(Lt=>Lt.checked=Lt.value===_t):dk(Ct.ref)?Ct.ref.value="":(Ct.ref.value=_t,Ct.ref.type||y.state.next({name:j,values:da(a)})))}(mt.shouldDirty||mt.shouldTouch)&&N(j,_t,mt.shouldTouch,mt.shouldDirty,!0),mt.shouldValidate&&ht(j)},W=(j,ut,mt)=>{for(const Rt in ut){const _t=ut[Rt],Ct=`${j}.${Rt}`,Lt=ke(r,Ct);(l.array.has(j)||ds(_t)||Lt&&!Lt._f)&&!ly(_t)?W(Ct,_t,mt):q(Ct,_t,mt)}},Z=(j,ut,mt={})=>{const Rt=ke(r,j),_t=l.array.has(j),Ct=da(ut);zi(a,j,Ct),_t?(y.array.next({name:j,values:da(a)}),(h.isDirty||h.dirtyFields||p.isDirty||p.dirtyFields)&&mt.shouldDirty&&y.state.next({name:j,dirtyFields:r1(s,a),isDirty:V(j,Ct)})):Rt&&!Rt._f&&!xo(Ct)?W(j,Ct,mt):q(j,Ct,mt),M9(j,l)&&y.state.next({...n}),y.state.next({name:o.mount?j:void 0,values:da(a)})},nt=async j=>{o.mount=!0;const ut=j.target;let mt=ut.name,Rt=!0;const _t=ke(r,mt),Ct=Lt=>{Rt=Number.isNaN(Lt)||ly(Lt)&&isNaN(Lt.getTime())||Xp(Lt,ke(a,mt,Lt))};if(_t){let Lt,Qt;const De=ut.type?T9(_t._f):hK(j),Ht=j.type===l2.BLUR||j.type===l2.FOCUS_OUT,_e=!_3t(_t._f)&&!e.resolver&&!ke(n.errors,mt)&&!_t._f.deps||S3t(Ht,ke(n.touchedFields,mt),n.isSubmitted,x,_),Re=M9(mt,l,Ht);zi(a,mt,De),Ht?(_t._f.onBlur&&_t._f.onBlur(j),u&&u(0)):_t._f.onChange&&_t._f.onChange(j);const Oe=N(mt,De,Ht),Zt=!bo(Oe)||Re;if(!Ht&&y.state.next({name:mt,type:j.type,values:da(a)}),_e)return(h.isValid||p.isValid)&&(e.mode==="onBlur"?Ht&&b():Ht||b()),Zt&&y.state.next({name:mt,...Re?{}:Oe});if(!Ht&&Re&&y.state.next({...n}),e.resolver){const{errors:Pe}=await U([mt]);if(Ct(De),Rt){const Ne=C9(n.errors,r,mt),sn=C9(Pe,r,Ne.name||mt);Lt=sn.error,mt=sn.name,Qt=bo(Pe)}}else A([mt],!0),Lt=(await O9(_t,l.disabled,a,S,e.shouldUseNativeValidation))[mt],A([mt]),Ct(De),Rt&&(Lt?Qt=!1:(h.isValid||p.isValid)&&(Qt=await B(r,!0)));Rt&&(_t._f.deps&&ht(_t._f.deps),L(mt,Qt,Lt,Oe))}},Q=(j,ut)=>{if(ke(n.errors,ut)&&j.focus)return j.focus(),1},ht=async(j,ut={})=>{let mt,Rt;const _t=K1(j);if(e.resolver){const Ct=await O(hs(j)?j:_t);mt=bo(Ct),Rt=j?!_t.some(Lt=>ke(Ct,Lt)):mt}else j?(Rt=(await Promise.all(_t.map(async Ct=>{const Lt=ke(r,Ct);return await B(Lt&&Lt._f?{[Ct]:Lt}:Lt)}))).every(Boolean),!(!Rt&&!n.isValid)&&b()):Rt=mt=await B(r);return y.state.next({...!jf(j)||(h.isValid||p.isValid)&&mt!==n.isValid?{}:{name:j},...e.resolver||!j?{isValid:mt}:{},errors:n.errors}),ut.shouldFocus&&!Rt&&Z1(r,Q,j?_t:l.mount),Rt},yt=j=>{const ut={...o.mount?a:s};return hs(j)?ut:jf(j)?ke(ut,j):j.map(mt=>ke(ut,mt))},xt=(j,ut)=>({invalid:!!ke((ut||n).errors,j),isDirty:!!ke((ut||n).dirtyFields,j),error:ke((ut||n).errors,j),isValidating:!!ke(n.validatingFields,j),isTouched:!!ke((ut||n).touchedFields,j)}),it=j=>{j&&K1(j).forEach(ut=>ks(n.errors,ut)),y.state.next({errors:j?n.errors:{}})},dt=(j,ut,mt)=>{const Rt=(ke(r,j,{_f:{}})._f||{}).ref,_t=ke(n.errors,j)||{},{ref:Ct,message:Lt,type:Qt,...De}=_t;zi(n.errors,j,{...De,...ut,ref:Rt}),y.state.next({name:j,errors:n.errors,isValid:!1}),mt&&mt.shouldFocus&&Rt&&Rt.focus&&Rt.focus()},ft=(j,ut)=>wc(j)?y.state.subscribe({next:mt=>j(X(void 0,ut),mt)}):X(j,ut,!0),gt=j=>y.state.subscribe({next:ut=>{x3t(j.name,ut.name,j.exact)&&b3t(ut,j.formState||h,Me,j.reRenderRoot)&&j.callback({values:{...a},...n,...ut})}}).unsubscribe,wt=j=>(o.mount=!0,p={...p,...j.formState},gt({...j,formState:p})),Kt=(j,ut={})=>{for(const mt of j?K1(j):l.mount)l.mount.delete(mt),l.array.delete(mt),ut.keepValue||(ks(r,mt),ks(a,mt)),!ut.keepError&&ks(n.errors,mt),!ut.keepDirty&&ks(n.dirtyFields,mt),!ut.keepTouched&&ks(n.touchedFields,mt),!ut.keepIsValidating&&ks(n.validatingFields,mt),!e.shouldUnregister&&!ut.keepDefaultValue&&ks(s,mt);y.state.next({values:da(a)}),y.state.next({...n,...ut.keepDirty?{isDirty:V()}:{}}),!ut.keepIsValid&&b()},kt=({disabled:j,name:ut})=>{(Fl(j)&&o.mount||j||l.disabled.has(ut))&&(j?l.disabled.add(ut):l.disabled.delete(ut))},ee=(j,ut={})=>{let mt=ke(r,j);const Rt=Fl(ut.disabled)||Fl(e.disabled);return zi(r,j,{...mt||{},_f:{...mt&&mt._f?mt._f:{ref:{name:j}},name:j,mount:!0,...ut}}),l.mount.add(j),mt?kt({disabled:Fl(ut.disabled)?ut.disabled:e.disabled,name:j}):k(j,!0,ut.value),{...Rt?{disabled:ut.disabled||e.disabled}:{},...e.progressive?{required:!!ut.required,min:s1(ut.min),max:s1(ut.max),minLength:s1(ut.minLength),maxLength:s1(ut.maxLength),pattern:s1(ut.pattern)}:{},name:j,onChange:nt,onBlur:nt,ref:_t=>{if(_t){ee(j,ut),mt=ke(r,j);const Ct=hs(_t.value)&&_t.querySelectorAll&&_t.querySelectorAll("input,select,textarea")[0]||_t,Lt=p3t(Ct),Qt=mt._f.refs||[];if(Lt?Qt.find(De=>De===Ct):Ct===mt._f.ref)return;zi(r,j,{_f:{...mt._f,...Lt?{refs:[...Qt.filter(gD),Ct,...Array.isArray(ke(s,j))?[{}]:[]],ref:{type:Ct.type,name:j}}:{ref:Ct}}}),k(j,!1,void 0,Ct)}else mt=ke(r,j,{}),mt._f&&(mt._f.mount=!1),(e.shouldUnregister||ut.shouldUnregister)&&!(dK(l.array,j)&&o.action)&&l.unMount.add(j)}}},Pt=()=>e.shouldFocusError&&Z1(r,Q,l.mount),Vt=j=>{Fl(j)&&(y.state.next({disabled:j}),Z1(r,(ut,mt)=>{const Rt=ke(r,mt);Rt&&(ut.disabled=Rt._f.disabled||j,Array.isArray(Rt._f.refs)&&Rt._f.refs.forEach(_t=>{_t.disabled=Rt._f.disabled||j}))},0,!1))},at=(j,ut)=>async mt=>{let Rt;mt&&(mt.preventDefault&&mt.preventDefault(),mt.persist&&mt.persist());let _t=da(a);if(y.state.next({isSubmitting:!0}),e.resolver){const{errors:Ct,values:Lt}=await U();n.errors=Ct,_t=Lt}else await B(r);if(l.disabled.size)for(const Ct of l.disabled)zi(_t,Ct,void 0);if(ks(n.errors,"root"),bo(n.errors)){y.state.next({errors:{}});try{await j(_t,mt)}catch(Ct){Rt=Ct}}else ut&&await ut({...n.errors},mt),Pt(),setTimeout(Pt);if(y.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:bo(n.errors)&&!Rt,submitCount:n.submitCount+1,errors:n.errors}),Rt)throw Rt},ce=(j,ut={})=>{ke(r,j)&&(hs(ut.defaultValue)?Z(j,da(ke(s,j))):(Z(j,ut.defaultValue),zi(s,j,da(ut.defaultValue))),ut.keepTouched||ks(n.touchedFields,j),ut.keepDirty||(ks(n.dirtyFields,j),n.isDirty=ut.defaultValue?V(j,da(ke(s,j))):V()),ut.keepError||(ks(n.errors,j),h.isValid&&b()),y.state.next({...n}))},te=(j,ut={})=>{const mt=j?da(j):s,Rt=da(mt),_t=bo(j),Ct=_t?s:Rt;if(ut.keepDefaultValues||(s=mt),!ut.keepValues){if(ut.keepDirtyValues){const Lt=new Set([...l.mount,...Object.keys(r1(s,a))]);for(const Qt of Array.from(Lt))ke(n.dirtyFields,Qt)?zi(Ct,Qt,ke(a,Qt)):Z(Qt,ke(Ct,Qt))}else{if(ck&&hs(j))for(const Lt of l.mount){const Qt=ke(r,Lt);if(Qt&&Qt._f){const De=Array.isArray(Qt._f.refs)?Qt._f.refs[0]:Qt._f.ref;if(u2(De)){const Ht=De.closest("form");if(Ht){Ht.reset();break}}}}for(const Lt of l.mount)Z(Lt,ke(Ct,Lt))}a=da(Ct),y.array.next({values:{...Ct}}),y.state.next({values:{...Ct}})}l={mount:ut.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!h.isValid||!!ut.keepIsValid||!!ut.keepDirtyValues,o.watch=!!e.shouldUnregister,y.state.next({submitCount:ut.keepSubmitCount?n.submitCount:0,isDirty:_t?!1:ut.keepDirty?n.isDirty:!!(ut.keepDefaultValues&&!Xp(j,s)),isSubmitted:ut.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:_t?{}:ut.keepDirtyValues?ut.keepDefaultValues&&a?r1(s,a):n.dirtyFields:ut.keepDefaultValues&&j?r1(s,j):ut.keepDirty?n.dirtyFields:{},touchedFields:ut.keepTouched?n.touchedFields:{},errors:ut.keepErrors?n.errors:{},isSubmitSuccessful:ut.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},ne=(j,ut)=>te(wc(j)?j(a):j,ut),ie=(j,ut={})=>{const mt=ke(r,j),Rt=mt&&mt._f;if(Rt){const _t=Rt.refs?Rt.refs[0]:Rt.ref;_t.focus&&(_t.focus(),ut.shouldSelect&&wc(_t.select)&&_t.select())}},Me=j=>{n={...n,...j}},lt={control:{register:ee,unregister:Kt,getFieldState:xt,handleSubmit:at,setError:dt,_subscribe:gt,_runSchema:U,_getWatch:X,_getDirty:V,_setValid:b,_setFieldArray:C,_setDisabledField:kt,_setErrors:I,_getFieldArray:et,_reset:te,_resetDefaultValues:()=>wc(e.defaultValues)&&e.defaultValues().then(j=>{ne(j,e.resetOptions),y.state.next({isLoading:!1})}),_removeUnmounted:H,_disableForm:Vt,_subjects:y,_proxyFormState:h,get _fields(){return r},get _formValues(){return a},get _state(){return o},set _state(j){o=j},get _defaultValues(){return s},get _names(){return l},set _names(j){l=j},get _formState(){return n},get _options(){return e},set _options(j){e={...e,...j}}},subscribe:wt,trigger:ht,register:ee,handleSubmit:at,watch:ft,setValue:Z,getValues:yt,reset:ne,resetField:ce,clearErrors:it,unregister:Kt,setError:dt,setFocus:ie,getFieldState:xt};return{...lt,formControl:lt}}function M3t(i={}){const e=hn.useRef(void 0),n=hn.useRef(void 0),[r,s]=hn.useState({isDirty:!1,isValidating:!1,isLoading:wc(i.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:i.errors||{},disabled:i.disabled||!1,defaultValues:wc(i.defaultValues)?void 0:i.defaultValues});e.current||(e.current={...i.formControl?i.formControl:A3t(i),formState:r},i.formControl&&i.defaultValues&&!wc(i.defaultValues)&&i.formControl.reset(i.defaultValues,i.resetOptions));const a=e.current.control;return a._options=i,hn.useLayoutEffect(()=>a._subscribe({formState:a._proxyFormState,callback:()=>s({...a._formState}),reRenderRoot:!0}),[a]),hn.useEffect(()=>a._disableForm(i.disabled),[a,i.disabled]),hn.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==r.isDirty&&a._subjects.state.next({isDirty:o})}},[a,r.isDirty]),hn.useEffect(()=>{i.values&&!Xp(i.values,n.current)?(a._reset(i.values,a._options.resetOptions),n.current=i.values,s(o=>({...o}))):a._resetDefaultValues()},[i.values,a]),hn.useEffect(()=>{i.errors&&!bo(i.errors)&&a._setErrors(i.errors)},[i.errors,a]),hn.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),hn.useEffect(()=>{i.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[i.shouldUnregister,a]),e.current.formState=mK(r,a),e.current}const I9=(i,e,n)=>{if(i&&"reportValidity"in i){const r=ke(n,e);i.setCustomValidity(r&&r.message||""),i.reportValidity()}},TK=(i,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?I9(r.ref,n,i):r&&r.refs&&r.refs.forEach(s=>I9(s,n,i))}},C3t=(i,e)=>{e.shouldUseNativeValidation&&TK(i,e);const n={};for(const r in i){const s=ke(e.fields,r),a=Object.assign(i[r]||{},{ref:s&&s.ref});if(R3t(e.names||Object.keys(i),r)){const o=Object.assign({},ke(n,r));zi(o,"root",a),zi(n,r,o)}else zi(n,r,a)}return n},R3t=(i,e)=>{const n=P9(e);return i.some(r=>P9(r).match(`^${n}\\.\\d+`))};function P9(i){return i.replace(/\]|\[/g,"")}function O3t(i,e,n){return n===void 0&&(n={}),function(r,s,a){try{return Promise.resolve(function(o,l){try{var u=(e!=null&&e.context,Promise.resolve(i[n.mode==="sync"?"validateSync":"validate"](r,Object.assign({abortEarly:!1},e,{context:s}))).then(function(f){return a.shouldUseNativeValidation&&TK({},a),{values:n.raw?Object.assign({},r):f,errors:{}}}))}catch(f){return l(f)}return u&&u.then?u.then(void 0,l):u}(0,function(o){if(!o.inner)throw o;return{values:{},errors:C3t((l=o,u=!a.shouldUseNativeValidation&&a.criteriaMode==="all",(l.inner||[]).reduce(function(f,h){if(f[h.path]||(f[h.path]={message:h.message,type:h.type}),u){var p=f[h.path].types,y=p&&p[h.type];f[h.path]=yK(h.path,u,f,h.type,y?[].concat(y,h.message):h.message)}return f},{})),a)};var l,u}))}catch(o){return Promise.reject(o)}}}var yD,D9;function I3t(){if(D9)return yD;D9=1;function i(b){this._maxSize=b,this.clear()}i.prototype.clear=function(){this._size=0,this._values=Object.create(null)},i.prototype.get=function(b){return this._values[b]},i.prototype.set=function(b,A){return this._size>=this._maxSize&&this.clear(),b in this._values||this._size++,this._values[b]=A};var e=/[^.^\]^[]+|(?=\[\]|\.\.)/g,n=/^\d+$/,r=/^\d/,s=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,a=/^\s*(['"]?)(.*?)(\1)\s*$/,o=512,l=new i(o),u=new i(o),f=new i(o);yD={Cache:i,split:p,normalizePath:h,setter:function(b){var A=h(b);return u.get(b)||u.set(b,function(M,I){for(var k=0,N=A.length,L=M;k<N-1;){var U=A[k];if(U==="__proto__"||U==="constructor"||U==="prototype")return M;L=L[A[k++]]}L[A[k]]=I})},getter:function(b,A){var C=h(b);return f.get(b)||f.set(b,function(I){for(var k=0,N=C.length;k<N;)if(I!=null||!A)I=I[C[k++]];else return;return I})},join:function(b){return b.reduce(function(A,C){return A+(_(C)||n.test(C)?"["+C+"]":(A?".":"")+C)},"")},forEach:function(b,A,C){y(Array.isArray(b)?b:p(b),A,C)}};function h(b){return l.get(b)||l.set(b,p(b).map(function(A){return A.replace(a,"$2")}))}function p(b){return b.match(e)||[""]}function y(b,A,C){var M=b.length,I,k,N,L;for(k=0;k<M;k++)I=b[k],I&&(E(I)&&(I='"'+I+'"'),L=_(I),N=!L&&/^\d+$/.test(I),A.call(C,I,L,N,k,b))}function _(b){return typeof b=="string"&&b&&["'",'"'].indexOf(b.charAt(0))!==-1}function x(b){return b.match(r)&&!b.match(n)}function S(b){return s.test(b)}function E(b){return!_(b)&&(x(b)||S(b))}return yD}var Sy=I3t(),vD,N9;function P3t(){if(N9)return vD;N9=1;const i=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,e=h=>h.match(i)||[],n=h=>h[0].toUpperCase()+h.slice(1),r=(h,p)=>e(h).join(p).toLowerCase(),s=h=>e(h).reduce((p,y)=>`${p}${p?y[0].toUpperCase()+y.slice(1).toLowerCase():y.toLowerCase()}`,"");return vD={words:e,upperFirst:n,camelCase:s,pascalCase:h=>n(s(h)),snakeCase:h=>r(h,"_"),kebabCase:h=>r(h,"-"),sentenceCase:h=>n(r(h," ")),titleCase:h=>e(h).map(n).join(" ")},vD}var _D=P3t(),wA={exports:{}},L9;function D3t(){if(L9)return wA.exports;L9=1,wA.exports=function(s){return i(e(s),s)},wA.exports.array=i;function i(s,a){var o=s.length,l=new Array(o),u={},f=o,h=n(a),p=r(s);for(a.forEach(function(_){if(!p.has(_[0])||!p.has(_[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});f--;)u[f]||y(s[f],f,new Set);return l;function y(_,x,S){if(S.has(_)){var E;try{E=", node was:"+JSON.stringify(_)}catch{E=""}throw new Error("Cyclic dependency"+E)}if(!p.has(_))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(_));if(!u[x]){u[x]=!0;var b=h.get(_)||new Set;if(b=Array.from(b),x=b.length){S.add(_);do{var A=b[--x];y(A,p.get(A),S)}while(x);S.delete(_)}l[--o]=_}}}function e(s){for(var a=new Set,o=0,l=s.length;o<l;o++){var u=s[o];a.add(u[0]),a.add(u[1])}return Array.from(a)}function n(s){for(var a=new Map,o=0,l=s.length;o<l;o++){var u=s[o];a.has(u[0])||a.set(u[0],new Set),a.has(u[1])||a.set(u[1],new Set),a.get(u[0]).add(u[1])}return a}function r(s){for(var a=new Map,o=0,l=s.length;o<l;o++)a.set(s[o],o);return a}return wA.exports}var N3t=D3t();const L3t=oh(N3t),U3t=Object.prototype.toString,k3t=Error.prototype.toString,z3t=RegExp.prototype.toString,B3t=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",F3t=/^Symbol\((.*)\)(.*)$/;function V3t(i){return i!=+i?"NaN":i===0&&1/i<0?"-0":""+i}function U9(i,e=!1){if(i==null||i===!0||i===!1)return""+i;const n=typeof i;if(n==="number")return V3t(i);if(n==="string")return e?`"${i}"`:i;if(n==="function")return"[Function "+(i.name||"anonymous")+"]";if(n==="symbol")return B3t.call(i).replace(F3t,"Symbol($1)");const r=U3t.call(i).slice(8,-1);return r==="Date"?isNaN(i.getTime())?""+i:i.toISOString(i):r==="Error"||i instanceof Error?"["+k3t.call(i)+"]":r==="RegExp"?z3t.call(i):null}function cm(i,e){let n=U9(i,e);return n!==null?n:JSON.stringify(i,function(r,s){let a=U9(this[r],e);return a!==null?a:s},2)}function wK(i){return i==null?[]:[].concat(i)}let AK,MK,CK,H3t=/\$\{\s*(\w+)\s*\}/g;AK=Symbol.toStringTag;class k9{constructor(e,n,r,s){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[AK]="Error",this.name="ValidationError",this.value=n,this.path=r,this.type=s,this.errors=[],this.inner=[],wK(e).forEach(a=>{if(il.isError(a)){this.errors.push(...a.errors);const o=a.inner.length?a.inner:[a];this.inner.push(...o)}else this.errors.push(a)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}MK=Symbol.hasInstance;CK=Symbol.toStringTag;class il extends Error{static formatError(e,n){const r=n.label||n.path||"this";return n=Object.assign({},n,{path:r,originalPath:n.path}),typeof e=="string"?e.replace(H3t,(s,a)=>cm(n[a])):typeof e=="function"?e(n):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,n,r,s,a){const o=new k9(e,n,r,s);if(a)return o;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[CK]="Error",this.name=o.name,this.message=o.message,this.type=o.type,this.value=o.value,this.path=o.path,this.errors=o.errors,this.inner=o.inner,Error.captureStackTrace&&Error.captureStackTrace(this,il)}static[MK](e){return k9[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let Df={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:i,type:e,value:n,originalValue:r})=>{const s=r!=null&&r!==n?` (cast from the value \`${cm(r,!0)}\`).`:".";return e!=="mixed"?`${i} must be a \`${e}\` type, but the final value was: \`${cm(n,!0)}\``+s:`${i} must match the configured type. The validated value was: \`${cm(n,!0)}\``+s}},tl={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},Fp={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},jN={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},j3t={isValue:"${path} field must be ${value}"},pM={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},G3t={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},q3t={notType:i=>{const{path:e,value:n,spec:r}=i,s=r.types.length;if(Array.isArray(n)){if(n.length<s)return`${e} tuple value has too few items, expected a length of ${s} but got ${n.length} for value: \`${cm(n,!0)}\``;if(n.length>s)return`${e} tuple value has too many items, expected a length of ${s} but got ${n.length} for value: \`${cm(n,!0)}\``}return il.formatError(Df.notType,i)}};Object.assign(Object.create(null),{mixed:Df,string:tl,number:Fp,date:jN,object:pM,array:G3t,boolean:j3t,tuple:q3t});const mk=i=>i&&i.__isYupSchema__;class h2{static fromOptions(e,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:s,otherwise:a}=n,o=typeof r=="function"?r:(...l)=>l.every(u=>u===r);return new h2(e,(l,u)=>{var f;let h=o(...l)?s:a;return(f=h==null?void 0:h(u))!=null?f:u})}constructor(e,n){this.fn=void 0,this.refs=e,this.refs=e,this.fn=n}resolve(e,n){let r=this.refs.map(a=>a.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),s=this.fn(r,e,n);if(s===void 0||s===e)return e;if(!mk(s))throw new TypeError("conditions must return a schema object");return s.resolve(n)}}const AA={context:"$",value:"."};class n0{constructor(e,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===AA.context,this.isValue=this.key[0]===AA.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?AA.context:this.isValue?AA.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&Sy.getter(this.path,!0),this.map=n.map}getValue(e,n,r){let s=this.isContext?r:this.isValue?e:n;return this.getter&&(s=this.getter(s||{})),this.map&&(s=this.map(s)),s}cast(e,n){return this.getValue(e,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}n0.prototype.__isYupRef=!0;const md=i=>i==null;function kv(i){function e({value:n,path:r="",options:s,originalValue:a,schema:o},l,u){const{name:f,test:h,params:p,message:y,skipAbsent:_}=i;let{parent:x,context:S,abortEarly:E=o.spec.abortEarly,disableStackTrace:b=o.spec.disableStackTrace}=s;function A(B){return n0.isRef(B)?B.getValue(n,x,S):B}function C(B={}){const H=Object.assign({value:n,originalValue:a,label:o.spec.label,path:B.path||r,spec:o.spec,disableStackTrace:B.disableStackTrace||b},p,B.params);for(const X of Object.keys(H))H[X]=A(H[X]);const V=new il(il.formatError(B.message||y,H),n,H.path,B.type||f,H.disableStackTrace);return V.params=H,V}const M=E?l:u;let I={path:r,parent:x,type:f,from:s.from,createError:C,resolve:A,options:s,originalValue:a,schema:o};const k=B=>{il.isError(B)?M(B):B?u(null):M(C())},N=B=>{il.isError(B)?M(B):l(B)};if(_&&md(n))return k(!0);let U;try{var O;if(U=h.call(I,n,I),typeof((O=U)==null?void 0:O.then)=="function"){if(s.sync)throw new Error(`Validation test of type: "${I.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(U).then(k,N)}}catch(B){N(B);return}k(U)}return e.OPTIONS=i,e}function $3t(i,e,n,r=n){let s,a,o;return e?(Sy.forEach(e,(l,u,f)=>{let h=u?l.slice(1,l.length-1):l;i=i.resolve({context:r,parent:s,value:n});let p=i.type==="tuple",y=f?parseInt(h,10):0;if(i.innerType||p){if(p&&!f)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(n&&y>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${l}, in the path: ${e}. because there is no value at that index. `);s=n,n=n&&n[y],i=p?i.spec.types[y]:i.innerType}if(!f){if(!i.fields||!i.fields[h])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${o} which is a type: "${i.type}")`);s=n,n=n&&n[h],i=i.fields[h]}a=h,o=u?"["+l+"]":"."+l}),{schema:i,parent:s,parentPath:a}):{parent:s,parentPath:e,schema:i}}class d2 extends Set{describe(){const e=[];for(const n of this.values())e.push(n0.isRef(n)?n.describe():n);return e}resolveAll(e){let n=[];for(const r of this.values())n.push(e(r));return n}clone(){return new d2(this.values())}merge(e,n){const r=this.clone();return e.forEach(s=>r.add(s)),n.forEach(s=>r.delete(s)),r}}function Kv(i,e=new Map){if(mk(i)||!i||typeof i!="object")return i;if(e.has(i))return e.get(i);let n;if(i instanceof Date)n=new Date(i.getTime()),e.set(i,n);else if(i instanceof RegExp)n=new RegExp(i),e.set(i,n);else if(Array.isArray(i)){n=new Array(i.length),e.set(i,n);for(let r=0;r<i.length;r++)n[r]=Kv(i[r],e)}else if(i instanceof Map){n=new Map,e.set(i,n);for(const[r,s]of i.entries())n.set(r,Kv(s,e))}else if(i instanceof Set){n=new Set,e.set(i,n);for(const r of i)n.add(Kv(r,e))}else if(i instanceof Object){n={},e.set(i,n);for(const[r,s]of Object.entries(i))n[r]=Kv(s,e)}else throw Error(`Unable to clone ${i}`);return n}class Lc{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new d2,this._blacklist=new d2,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Df.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=Kv(Object.assign({},this.spec,e)),n}label(e){let n=this.clone();return n.spec.label=e,n}meta(...e){if(e.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},e[0]),n}withMutation(e){let n=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=n,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let n=this,r=e.clone();const s=Object.assign({},n.spec,r.spec);return r.spec=s,r.internalTests=Object.assign({},n.internalTests,r.internalTests),r._whitelist=n._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=n._blacklist.merge(e._blacklist,e._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(a=>{e.tests.forEach(o=>{a.test(o.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((s,a)=>a.resolve(s,e),n),n=n.resolve(e)}return n}resolveOptions(e){var n,r,s,a;return Object.assign({},e,{from:e.from||[],strict:(n=e.strict)!=null?n:this.spec.strict,abortEarly:(r=e.abortEarly)!=null?r:this.spec.abortEarly,recursive:(s=e.recursive)!=null?s:this.spec.recursive,disableStackTrace:(a=e.disableStackTrace)!=null?a:this.spec.disableStackTrace})}cast(e,n={}){let r=this.resolve(Object.assign({value:e},n)),s=n.assert==="ignore-optionality",a=r._cast(e,n);if(n.assert!==!1&&!r.isType(a)){if(s&&md(a))return a;let o=cm(e),l=cm(a);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${o} 
`+(l!==o?`result of cast: ${l}`:""))}return a}_cast(e,n){let r=e===void 0?e:this.transforms.reduce((s,a)=>a.call(this,s,e,this),e);return r===void 0&&(r=this.getDefault(n)),r}_validate(e,n={},r,s){let{path:a,originalValue:o=e,strict:l=this.spec.strict}=n,u=e;l||(u=this._cast(u,Object.assign({assert:!1},n)));let f=[];for(let h of Object.values(this.internalTests))h&&f.push(h);this.runTests({path:a,value:u,originalValue:o,options:n,tests:f},r,h=>{if(h.length)return s(h,u);this.runTests({path:a,value:u,originalValue:o,options:n,tests:this.tests},r,s)})}runTests(e,n,r){let s=!1,{tests:a,value:o,originalValue:l,path:u,options:f}=e,h=S=>{s||(s=!0,n(S,o))},p=S=>{s||(s=!0,r(S,o))},y=a.length,_=[];if(!y)return p([]);let x={value:o,originalValue:l,path:u,options:f,schema:this};for(let S=0;S<a.length;S++){const E=a[S];E(x,h,function(A){A&&(Array.isArray(A)?_.push(...A):_.push(A)),--y<=0&&p(_)})}}asNestedTest({key:e,index:n,parent:r,parentPath:s,originalParent:a,options:o}){const l=e??n;if(l==null)throw TypeError("Must include `key` or `index` for nested validations");const u=typeof l=="number";let f=r[l];const h=Object.assign({},o,{strict:!0,parent:r,value:f,originalValue:a[l],key:void 0,[u?"index":"key"]:l,path:u||l.includes(".")?`${s||""}[${u?l:`"${l}"`}]`:(s?`${s}.`:"")+e});return(p,y,_)=>this.resolve(h)._validate(f,h,y,_)}validate(e,n){var r;let s=this.resolve(Object.assign({},n,{value:e})),a=(r=n==null?void 0:n.disableStackTrace)!=null?r:s.spec.disableStackTrace;return new Promise((o,l)=>s._validate(e,n,(u,f)=>{il.isError(u)&&(u.value=f),l(u)},(u,f)=>{u.length?l(new il(u,f,void 0,void 0,a)):o(f)}))}validateSync(e,n){var r;let s=this.resolve(Object.assign({},n,{value:e})),a,o=(r=n==null?void 0:n.disableStackTrace)!=null?r:s.spec.disableStackTrace;return s._validate(e,Object.assign({},n,{sync:!0}),(l,u)=>{throw il.isError(l)&&(l.value=u),l},(l,u)=>{if(l.length)throw new il(l,e,void 0,void 0,o);a=u}),a}isValid(e,n){return this.validate(e,n).then(()=>!0,r=>{if(il.isError(r))return!1;throw r})}isValidSync(e,n){try{return this.validateSync(e,n),!0}catch(r){if(il.isError(r))return!1;throw r}}_getDefault(e){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,e):Kv(n)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,n){const r=this.clone({nullable:e});return r.internalTests.nullable=kv({message:n,name:"nullable",test(s){return s===null?this.schema.spec.nullable:!0}}),r}optionality(e,n){const r=this.clone({optional:e});return r.internalTests.optionality=kv({message:n,name:"optionality",test(s){return s===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(e=Df.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=Df.notNull){return this.nullability(!1,e)}required(e=Df.required){return this.clone().withMutation(n=>n.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let n=this.clone();return n.transforms.push(e),n}test(...e){let n;if(e.length===1?typeof e[0]=="function"?n={test:e[0]}:n=e[0]:e.length===2?n={name:e[0],test:e[1]}:n={name:e[0],message:e[1],test:e[2]},n.message===void 0&&(n.message=Df.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),s=kv(n),a=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(o=>!(o.OPTIONS.name===n.name&&(a||o.OPTIONS.test===s.OPTIONS.test))),r.tests.push(s),r}when(e,n){!Array.isArray(e)&&typeof e!="string"&&(n=e,e=".");let r=this.clone(),s=wK(e).map(a=>new n0(a));return s.forEach(a=>{a.isSibling&&r.deps.push(a.key)}),r.conditions.push(typeof n=="function"?new h2(s,n):h2.fromOptions(s,n)),r}typeError(e){let n=this.clone();return n.internalTests.typeError=kv({message:e,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(e,n=Df.oneOf){let r=this.clone();return e.forEach(s=>{r._whitelist.add(s),r._blacklist.delete(s)}),r.internalTests.whiteList=kv({message:n,name:"oneOf",skipAbsent:!0,test(s){let a=this.schema._whitelist,o=a.resolveAll(this.resolve);return o.includes(s)?!0:this.createError({params:{values:Array.from(a).join(", "),resolved:o}})}}),r}notOneOf(e,n=Df.notOneOf){let r=this.clone();return e.forEach(s=>{r._blacklist.add(s),r._whitelist.delete(s)}),r.internalTests.blacklist=kv({message:n,name:"notOneOf",test(s){let a=this.schema._blacklist,o=a.resolveAll(this.resolve);return o.includes(s)?this.createError({params:{values:Array.from(a).join(", "),resolved:o}}):!0}}),r}strip(e=!0){let n=this.clone();return n.spec.strip=e,n}describe(e){const n=(e?this.resolve(e):this).clone(),{label:r,meta:s,optional:a,nullable:o}=n.spec;return{meta:s,label:r,optional:a,nullable:o,default:n.getDefault(e),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.map(u=>({name:u.OPTIONS.name,params:u.OPTIONS.params})).filter((u,f,h)=>h.findIndex(p=>p.name===u.name)===f)}}}Lc.prototype.__isYupSchema__=!0;for(const i of["validate","validateSync"])Lc.prototype[`${i}At`]=function(e,n,r={}){const{parent:s,parentPath:a,schema:o}=$3t(this,e,n,r.context);return o[i](s&&s[a],Object.assign({},r,{parent:s,path:e}))};for(const i of["equals","is"])Lc.prototype[i]=Lc.prototype.oneOf;for(const i of["not","nope"])Lc.prototype[i]=Lc.prototype.notOneOf;const W3t=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function X3t(i){const e=GN(i);if(!e)return Date.parse?Date.parse(i):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let n=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(n=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(n=0-n)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+n,e.second,e.millisecond)}function GN(i){var e,n;const r=W3t.exec(i);return r?{year:ed(r[1]),month:ed(r[2],1)-1,day:ed(r[3],1),hour:ed(r[4]),minute:ed(r[5]),second:ed(r[6]),millisecond:r[7]?ed(r[7].substring(0,3)):0,precision:(e=(n=r[7])==null?void 0:n.length)!=null?e:void 0,z:r[8]||void 0,plusMinus:r[9]||void 0,hourOffset:ed(r[10]),minuteOffset:ed(r[11])}:null}function ed(i,e=0){return Number(i)||e}let Y3t=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,K3t=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,Z3t=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Q3t="^\\d{4}-\\d{2}-\\d{2}",J3t="\\d{2}:\\d{2}:\\d{2}",tNt="(([+-]\\d{2}(:?\\d{2})?)|Z)",eNt=new RegExp(`${Q3t}T${J3t}(\\.\\d+)?${tNt}$`),nNt=i=>md(i)||i===i.trim(),iNt={}.toString();function qN(){return new RK}class RK extends Lc{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(!r.spec.coerce||r.isType(e)||Array.isArray(e))return e;const s=e!=null&&e.toString?e.toString():e;return s===iNt?e:s})})}required(e){return super.required(e).withMutation(n=>n.test({message:e||Df.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(n=>n.OPTIONS.name!=="required"),e))}length(e,n=tl.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,n=tl.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,n=tl.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}matches(e,n){let r=!1,s,a;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:s,name:a}=n:s=n),this.test({name:a||"matches",message:s||tl.matches,params:{regex:e},skipAbsent:!0,test:o=>o===""&&r||o.search(e)!==-1})}email(e=tl.email){return this.matches(Y3t,{name:"email",message:e,excludeEmptyString:!0})}url(e=tl.url){return this.matches(K3t,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=tl.uuid){return this.matches(Z3t,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let n="",r,s;return e&&(typeof e=="object"?{message:n="",allowOffset:r=!1,precision:s=void 0}=e:n=e),this.matches(eNt,{name:"datetime",message:n||tl.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:n||tl.datetime_offset,params:{allowOffset:r},skipAbsent:!0,test:a=>{if(!a||r)return!0;const o=GN(a);return o?!!o.z:!1}}).test({name:"datetime_precision",message:n||tl.datetime_precision,params:{precision:s},skipAbsent:!0,test:a=>{if(!a||s==null)return!0;const o=GN(a);return o?o.precision===s:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=tl.trim){return this.transform(n=>n!=null?n.trim():n).test({message:e,name:"trim",test:nNt})}lowercase(e=tl.lowercase){return this.transform(n=>md(n)?n:n.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>md(n)||n===n.toLowerCase()})}uppercase(e=tl.uppercase){return this.transform(n=>md(n)?n:n.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>md(n)||n===n.toUpperCase()})}}qN.prototype=RK.prototype;let rNt=i=>i!=+i;function $N(){return new OK}class OK extends Lc{constructor(){super({type:"number",check(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!rNt(e)}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(!r.spec.coerce)return e;let s=e;if(typeof s=="string"){if(s=s.replace(/\s/g,""),s==="")return NaN;s=+s}return r.isType(s)||s===null?s:parseFloat(s)})})}min(e,n=Fp.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r>=this.resolve(e)}})}max(e,n=Fp.max){return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(r){return r<=this.resolve(e)}})}lessThan(e,n=Fp.lessThan){return this.test({message:n,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(r){return r<this.resolve(e)}})}moreThan(e,n=Fp.moreThan){return this.test({message:n,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(r){return r>this.resolve(e)}})}positive(e=Fp.positive){return this.moreThan(0,e)}negative(e=Fp.negative){return this.lessThan(0,e)}integer(e=Fp.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:n=>Number.isInteger(n)})}truncate(){return this.transform(e=>md(e)?e:e|0)}round(e){var n;let r=["ceil","floor","round","trunc"];if(e=((n=e)==null?void 0:n.toLowerCase())||"round",e==="trunc")return this.truncate();if(r.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+r.join(", "));return this.transform(s=>md(s)?s:Math[e](s))}}$N.prototype=OK.prototype;let sNt=new Date(""),aNt=i=>Object.prototype.toString.call(i)==="[object Date]";class gk extends Lc{constructor(){super({type:"date",check(e){return aNt(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,n,r)=>!r.spec.coerce||r.isType(e)||e===null?e:(e=X3t(e),isNaN(e)?gk.INVALID_DATE:new Date(e)))})}prepareParam(e,n){let r;if(n0.isRef(e))r=e;else{let s=this.cast(e);if(!this._typeCheck(s))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=s}return r}min(e,n=jN.min){let r=this.prepareParam(e,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(s){return s>=this.resolve(r)}})}max(e,n=jN.max){let r=this.prepareParam(e,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(s){return s<=this.resolve(r)}})}}gk.INVALID_DATE=sNt;function oNt(i,e=[]){let n=[],r=new Set,s=new Set(e.map(([o,l])=>`${o}-${l}`));function a(o,l){let u=Sy.split(o)[0];r.add(u),s.has(`${l}-${u}`)||n.push([l,u])}for(const o of Object.keys(i)){let l=i[o];r.add(o),n0.isRef(l)&&l.isSibling?a(l.path,o):mk(l)&&"deps"in l&&l.deps.forEach(u=>a(u,o))}return L3t.array(Array.from(r),n).reverse()}function z9(i,e){let n=1/0;return i.some((r,s)=>{var a;if((a=e.path)!=null&&a.includes(r))return n=s,!0}),n}function IK(i){return(e,n)=>z9(i,e)-z9(i,n)}const lNt=(i,e,n)=>{if(typeof i!="string")return i;let r=i;try{r=JSON.parse(i)}catch{}return n.isType(r)?r:i};function mM(i){if("fields"in i){const e={};for(const[n,r]of Object.entries(i.fields))e[n]=mM(r);return i.setFields(e)}if(i.type==="array"){const e=i.optional();return e.innerType&&(e.innerType=mM(e.innerType)),e}return i.type==="tuple"?i.optional().clone({types:i.spec.types.map(mM)}):"optional"in i?i.optional():i}const uNt=(i,e)=>{const n=[...Sy.normalizePath(e)];if(n.length===1)return n[0]in i;let r=n.pop(),s=Sy.getter(Sy.join(n),!0)(i);return!!(s&&r in s)};let B9=i=>Object.prototype.toString.call(i)==="[object Object]";function F9(i,e){let n=Object.keys(i.fields);return Object.keys(e).filter(r=>n.indexOf(r)===-1)}const cNt=IK([]);function PK(i){return new DK(i)}class DK extends Lc{constructor(e){super({type:"object",check(n){return B9(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=cNt,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,n={}){var r;let s=super._cast(e,n);if(s===void 0)return this.getDefault(n);if(!this._typeCheck(s))return s;let a=this.fields,o=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,l=[].concat(this._nodes,Object.keys(s).filter(p=>!this._nodes.includes(p))),u={},f=Object.assign({},n,{parent:u,__validating:n.__validating||!1}),h=!1;for(const p of l){let y=a[p],_=p in s;if(y){let x,S=s[p];f.path=(n.path?`${n.path}.`:"")+p,y=y.resolve({value:S,context:n.context,parent:u});let E=y instanceof Lc?y.spec:void 0,b=E==null?void 0:E.strict;if(E!=null&&E.strip){h=h||p in s;continue}x=!n.__validating||!b?y.cast(s[p],f):s[p],x!==void 0&&(u[p]=x)}else _&&!o&&(u[p]=s[p]);(_!==p in u||u[p]!==s[p])&&(h=!0)}return h?u:s}_validate(e,n={},r,s){let{from:a=[],originalValue:o=e,recursive:l=this.spec.recursive}=n;n.from=[{schema:this,value:o},...a],n.__validating=!0,n.originalValue=o,super._validate(e,n,r,(u,f)=>{if(!l||!B9(f)){s(u,f);return}o=o||f;let h=[];for(let p of this._nodes){let y=this.fields[p];!y||n0.isRef(y)||h.push(y.asNestedTest({options:n,key:p,parent:f,parentPath:n.path,originalParent:o}))}this.runTests({tests:h,value:f,originalValue:o,options:n},r,p=>{s(p.sort(this._sortErrors).concat(u),f)})})}clone(e){const n=super.clone(e);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(e){let n=super.concat(e),r=n.fields;for(let[s,a]of Object.entries(this.fields)){const o=r[s];r[s]=o===void 0?a:o}return n.withMutation(s=>s.setFields(r,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let n={};return this._nodes.forEach(r=>{var s;const a=this.fields[r];let o=e;(s=o)!=null&&s.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[r]})),n[r]=a&&"getDefault"in a?a.getDefault(o):void 0}),n}setFields(e,n){let r=this.clone();return r.fields=e,r._nodes=oNt(e,n),r._sortErrors=IK(Object.keys(e)),n&&(r._excludedEdges=n),r}shape(e,n=[]){return this.clone().withMutation(r=>{let s=r._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),s=[...r._excludedEdges,...n]),r.setFields(Object.assign(r.fields,e),s)})}partial(){const e={};for(const[n,r]of Object.entries(this.fields))e[n]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(e)}deepPartial(){return mM(this)}pick(e){const n={};for(const r of e)this.fields[r]&&(n[r]=this.fields[r]);return this.setFields(n,this._excludedEdges.filter(([r,s])=>e.includes(r)&&e.includes(s)))}omit(e){const n=[];for(const r of Object.keys(this.fields))e.includes(r)||n.push(r);return this.pick(n)}from(e,n,r){let s=Sy.getter(e,!0);return this.transform(a=>{if(!a)return a;let o=a;return uNt(a,e)&&(o=Object.assign({},a),r||delete o[e],o[n]=s(a)),o})}json(){return this.transform(lNt)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||pM.exact,test(n){if(n==null)return!0;const r=F9(this.schema,n);return r.length===0||this.createError({params:{properties:r.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,n=pM.noUnknown){typeof e!="boolean"&&(n=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(s){if(s==null)return!0;const a=F9(this.schema,s);return!e||a.length===0||this.createError({params:{unknown:a.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(e=!0,n=pM.noUnknown){return this.noUnknown(!e,n)}transformKeys(e){return this.transform(n=>{if(!n)return n;const r={};for(const s of Object.keys(n))r[e(s)]=n[s];return r})}camelCase(){return this.transformKeys(_D.camelCase)}snakeCase(){return this.transformKeys(_D.snakeCase)}constantCase(){return this.transformKeys(e=>_D.snakeCase(e).toUpperCase())}describe(e){const n=(e?this.resolve(e):this).clone(),r=super.describe(e);r.fields={};for(const[a,o]of Object.entries(n.fields)){var s;let l=e;(s=l)!=null&&s.value&&(l=Object.assign({},l,{parent:l.value,value:l.value[a]})),r.fields[a]=o.describe(l)}return r}}PK.prototype=DK.prototype;const WN=Ya,fNt={color:WN.palette.text.primary,zIndex:20,width:"100%",height:"100%",position:"absolute",backgroundColor:WN.palette.formStyles.containerBackgroundColor,overflow:"auto",top:0,flexDirection:"column",justifyContent:"space-between",display:"flex"},hNt={padding:"2rem 0 ",backgroundColor:WN.palette.formStyles.containerBackgroundColor},dNt=PK({index:$N().required(),name:qN().min(3,"El nombre debe tener al menos 3 caracteres").required("El nombre es obligatorio"),group:qN().required("El tipo de nodo es obligatorio"),nodeSourceIndex:$N().required("El nodo origen es obligatorio")}),pNt=()=>{const[i,e]=tt.useState({index:0,name:"",group:"",nodeSourceIndex:1,videoid:"",start:"",end:""}),[n,r]=tt.useState({id:0,index:0,name:"",group:""}),{control:s,trigger:a,watch:o,reset:l,setValue:u,handleSubmit:f,formState:{errors:h}}=M3t({resolver:O3t(dNt),mode:"onChange",defaultValues:{index:0,name:"",group:"",nodeSourceIndex:1,videoid:"",start:"",end:""}}),p=Un(E=>E.activeStep),[y,_]=tt.useState([]);tt.useEffect(()=>{(async()=>{try{const b=await YR(Ff.nodes);_(b||[])}catch(b){console.error("Error al obtener nodos desde Firestore:",b),_([])}})()},[]);const x=async E=>{Un.setState({isUploadFirestore:!0});const b=await rPt(Ff.nodes)+1,A=new Date,C=new Date(A),M=E.nodeSourceIndex,I=y.find(k=>k.index===M);kY(Ff.nodes,Ff.links,E.index=b,E.name,E.group,E.nodeSourceIndex,E.videoid||"",E.start||"",E.end||"",E.uploadedDate=C.toLocaleDateString()),e({...E}),r({...I}),l()},S=async()=>{const E=[!1,!1,!0],b=await a(["name","group"]),A=o("nodeSourceIndex");return b&&(E[0]=!0),A!==1&&(E[1]=!0),E};return K.jsxs(Oi,{sx:fNt,children:[K.jsx(Oi,{sx:hNt,children:K.jsx(cK,{})}),K.jsx(b_,{sx:{width:"90%",mx:"auto"}}),p===0&&K.jsx(LNt,{control:s,errors:h}),p===1&&K.jsx(UNt,{control:s,errors:h,nodeOptions:y,isNot1Step2:o("nodeSourceIndex")}),p===2&&K.jsx(GNt,{control:s,setValue:u}),p===3&&K.jsx(qNt,{newNodeData:i,selectedSourceNodeData:n}),K.jsx(ANt,{onValidate:S,onHandleSubmit:f(x)})]})},V9=Ya,mNt=()=>{Un.setState({isAddNodeActive:!1}),Un.setState({activeStep:0})},iO=({title:i})=>{const e=Un(r=>r.activeStep),n=Un(r=>r.isUploadFirestore);return K.jsx(K.Fragment,{children:K.jsxs(Oi,{sx:{display:"flex",flexDirection:"column"},children:[K.jsx(x4,{buttonFunction:mNt,disabled:n}),K.jsx("h2",{style:{color:e==2?V9.palette.action.success:V9.palette.text.secondary,textAlign:"center"},children:i})]})})},nd=Ya,gNt=({color:i})=>K.jsx("div",{style:{marginRight:"8px"},children:K.jsxs("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"18pt",height:"18pt",viewBox:"0 0 186.000000 186.000000",preserveAspectRatio:"xMidYMid meet",children:['"',K.jsxs("g",{transform:"translate(0.000000,186.000000) scale(0.100000,-0.100000)",fill:i,stroke:"none",children:[K.jsx("path",{d:`M715 1714 c-100 -24 -228 -84 -315 -149 -105 -78 -222 -227 -273\r
        -350 -74 -177 -76 -448 -5 -615 28 -64 55 -90 95 -90 29 0 36 5 48 34 13 30\r
        13 48 -1 138 -52 346 120 655 462 826 78 39 114 81 114 131 0 24 -7 44 -19 55\r
        -20 18 -72 28 -106 20z`}),K.jsx("path",{d:`M1034 1696 c-21 -17 -28 -33 -28 -60 0 -47 36 -84 128 -132 243 -125\r
        399 -330 442 -579 16 -87 15 -136 -2 -302 -8 -76 10 -113 55 -113 40 0 74 37\r
        101 106 92 244 48 565 -105 770 -123 163 -304 289 -463 323 -76 16 -98 14\r
        -128 -13z`}),K.jsx("path",{d:`M850 1359 c-266 -30 -470 -256 -470 -522 0 -164 80 -326 197 -398 69\r
        -43 164 -15 198 57 27 57 15 97 -49 164 -63 65 -81 116 -73 198 11 102 86 187\r
        196 219 61 17 144 12 192 -12 89 -46 149 -140 149 -233 0 -69 -20 -115 -79\r
        -177 -57 -61 -66 -81 -52 -132 13 -46 18 -52 55 -81 42 -32 102 -30 152 6 124\r
        90 194 231 194 392 0 319 -278 556 -610 519z`}),K.jsx("path",{d:`M334 398 c-11 -17 48 -120 100 -172 28 -29 78 -66 111 -82 l60 -29\r
        325 0 325 0 55 27 c69 34 153 116 186 179 20 40 32 89 21 89 -1 0 -34 -7 -72\r
        -15 -96 -20 -934 -21 -1038 -1 -39 7 -70 9 -73 4z`})]})]})}),yNt=({color:i})=>K.jsx("div",{style:{marginRight:"8px"},children:K.jsx("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"18pt",height:"18pt",viewBox:"0 0 200.000000 190.000000",preserveAspectRatio:"xMidYMid meet",children:K.jsxs("g",{transform:"translate(0.000000,190.000000) scale(0.100000,-0.100000)",fill:i,stroke:"none",children:[K.jsx("path",{d:`M895 1830 c-354 -38 -659 -290 -768 -635 -30 -96 -50 -243 -45 -340\r
l3 -70 150 0 150 0 -5 30 c-3 17 -5 71 -4 120 0 163 60 302 179 420 115 114\r
249 172 416 182 253 15 481 -115 596 -340 49 -96 65 -177 61 -306 l-3 -111\r
148 0 147 0 0 119 c0 201 -37 342 -129 494 -151 249 -387 401 -681 437 -92 11\r
-110 11 -215 0z`}),K.jsx("path",{d:`M878 972 c-57 -38 -361 -347 -356 -362 2 -5 113 -120 248 -255 l244\r
-245 243 242 c134 134 243 247 243 251 0 24 -376 395 -387 383 -2 -2 7 -21 22\r
-41 21 -33 25 -49 25 -116 0 -103 -27 -175 -89 -240 -26 -27 -53 -49 -59 -49\r
-23 0 -92 73 -117 124 -52 106 -51 243 2 298 30 32 21 37 -19 10z`}),K.jsx("path",{d:`M90 266 c0 -91 1 -166 3 -166 1 0 174 -3 384 -7 338 -5 383 -4 383 9\r
0 9 -67 85 -149 169 l-148 154 -237 4 -236 3 0 -166z`}),K.jsx("path",{d:`M1325 265 c-82 -84 -151 -158 -153 -164 -2 -7 113 -10 370 -8 l373 2\r
3 163 2 162 -222 0 -223 -1 -150 -154z`})]})})}),vNt=({color:i})=>K.jsx("div",{style:{marginRight:"8px"},children:K.jsx("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"18pt",height:"18pt",viewBox:"0 0 231.000000 186.000000",preserveAspectRatio:"xMidYMid meet",children:K.jsxs("g",{transform:"translate(0.000000,186.000000) scale(0.100000,-0.100000)",fill:i,stroke:"none",children:[K.jsx("path",{d:`M245 1721 c-11 -5 -33 -23 -50 -41 l-30 -31 -3 -705 c-2 -624 -1\r
-708 13 -735 37 -70 137 -91 196 -42 61 51 59 29 59 760 0 409 -4 682 -10 704\r
-15 52 -59 91 -112 95 -24 2 -52 0 -63 -5z`}),K.jsx("path",{d:`M1959 1707 c-67 -45 -64 -10 -64 -772 0 -645 1 -692 18 -723 50 -92\r
181 -96 232 -8 18 29 19 69 16 735 -2 698 -2 705 -23 734 -41 57 -122 73 -179\r
34z`}),K.jsx("path",{d:`M625 1514 c-64 -33 -114 -105 -115 -164 0 -71 49 -154 111 -186 15\r
-7 55 -14 88 -14 52 0 65 4 103 33 51 38 88 106 88 160 0 67 -53 147 -116 173\r
-44 19 -122 18 -159 -2z`}),K.jsx("path",{d:`M1040 1222 l0 -297 29 -60 c34 -71 76 -113 151 -152 55 -28 56 -28\r
277 -31 247 -4 266 0 303 61 37 61 17 143 -46 184 -24 15 -52 18 -214 18 -143\r
0 -191 3 -203 14 -25 20 -37 76 -37 169 l0 82 203 0 c227 0 252 6 294 69 42\r
62 19 147 -48 183 -30 16 -62 18 -329 18 -270 0 -299 2 -337 20 l-43 19 0\r
-297z`}),K.jsx("path",{d:`M551 914 c-66 -56 -63 -162 7 -209 l37 -25 280 0 c249 1 278 2 260\r
15 -54 40 -100 97 -133 167 l-37 77 -192 0 -191 1 -31 -26z`})]})})}),_Nt=({color:i})=>K.jsx("div",{style:{marginRight:"8px"},children:K.jsx("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"18pt",height:"18pt",viewBox:"0 0 229.000000 167.000000",preserveAspectRatio:"xMidYMid meet",children:K.jsxs("g",{transform:"translate(0.000000,167.000000) scale(0.100000,-0.100000)",fill:i,stroke:"none",children:[K.jsx("path",{d:`M135 1516 c-17 -7 -43 -28 -58 -45 -33 -40 -36 -101 -7 -148 39 -64\r
31 -63 544 -63 l465 0 28 -24 28 -24 5 -252 5 -252 37 -34 c31 -28 45 -34 83\r
-34 55 0 95 19 121 57 17 25 19 52 22 258 2 147 -1 252 -8 290 -23 117 -90\r
202 -199 254 l-56 26 -490 2 c-395 2 -496 0 -520 -11z`}),K.jsx("path",{d:`M651 1133 c-74 -39 -90 -89 -80 -258 10 -182 65 -308 194 -440 76\r
-78 175 -142 269 -175 103 -35 178 -42 381 -34 l190 7 38 37 c33 34 37 43 37\r
90 0 47 -4 56 -39 91 l-39 39 -173 0 c-201 0 -272 9 -346 46 -81 39 -167 124\r
-205 201 -29 60 -32 76 -38 192 -4 97 -9 133 -23 154 -38 59 -109 80 -166 50z`}),K.jsx("path",{d:`M1875 515 c-72 -39 -108 -94 -108 -170 -1 -143 148 -238 272 -173\r
103 53 139 159 87 255 -37 67 -83 96 -160 101 -43 2 -70 -2 -91 -13z`})]})})}),bNt=({color:i})=>K.jsx("div",{style:{marginRight:"8px"},children:K.jsx("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"18pt",height:"18pt",viewBox:"0 0 159.000000 213.000000",preserveAspectRatio:"xMidYMid meet",children:K.jsxs("g",{transform:"translate(0.000000,213.000000) scale(0.100000,-0.100000)",fill:i,stroke:"none",children:[K.jsx("path",{d:`M787 1922 c-3 -4 -3 -69 0 -144 l6 -136 55 -68 c179 -223 305 -472\r
358 -709 24 -107 30 -372 10 -464 -17 -82 -60 -182 -102 -236 -35 -46 -16 -46\r
62 0 124 73 236 241 270 405 22 101 21 291 0 403 -37 191 -133 392 -275 572\r
-102 131 -373 396 -384 377z`}),K.jsx("path",{d:`M400 1920 c0 -3 -2 -309 -3 -680 -3 -732 -2 -711 -60 -826 -36 -72\r
-97 -145 -169 -205 -35 -28 -64 -56 -66 -60 -2 -5 187 -9 421 -9 l424 0 46 49\r
c107 115 150 274 127 481 -42 391 -238 765 -587 1120 -73 74 -133 133 -133\r
130z`})]})})}),bD=({color:i})=>K.jsx("div",{style:{marginRight:"8px"},children:K.jsx("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"18pt",height:"18pt",viewBox:"0 0 229.000000 197.000000",preserveAspectRatio:"xMidYMid meet",children:K.jsxs("g",{transform:"translate(0.000000,197.000000) scale(0.100000,-0.100000)",fill:i,stroke:"none",children:[K.jsx("path",{d:`M980 1837 c-193 -58 -349 -187 -434 -357 -154 -312 -64 -681 214\r
-873 51 -36 194 -97 226 -97 20 0 22 6 26 93 3 50 3 100 0 110 -3 10 -31 30\r
-66 46 -85 39 -140 90 -176 164 -96 197 -47 451 112 578 100 79 214 112 343\r
100 51 -5 67 -3 110 19 71 36 184 40 267 10 33 -12 63 -19 66 -15 4 4 -25 37\r
-63 73 -79 75 -185 133 -287 157 -95 22 -247 19 -338 -8z`}),K.jsx("path",{d:`M1398 1540 c-77 -41 -119 -133 -97 -213 46 -175 285 -199 367 -37 24\r
49 27 77 12 132 -32 113 -176 173 -282 118z`}),K.jsx("path",{d:`M1945 1411 c-51 -23 -101 -79 -116 -132 -25 -81 24 -180 112 -227 90\r
-48 207 -8 257 88 34 66 28 154 -14 207 -60 76 -157 102 -239 64z`}),K.jsx("path",{d:`M1695 1219 c-22 -22 -79 -70 -126 -105 -47 -36 -93 -78 -102 -94 -33\r
-55 -18 -128 37 -179 20 -19 40 -26 84 -29 55 -4 59 -2 117 41 33 25 82 68\r
109 96 l49 50 -31 36 c-46 52 -73 110 -79 171 -3 30 -9 54 -12 54 -4 0 -25\r
-18 -46 -41z`}),K.jsx("path",{d:`M830 1092 c-25 -26 -30 -38 -30 -79 0 -87 59 -150 200 -212 l85 -38\r
5 -274 c4 -192 9 -281 17 -296 24 -41 63 -63 112 -63 58 0 89 16 118 59 23 34\r
23 36 23 397 l0 362 -102 40 c-186 73 -329 123 -363 129 -29 5 -39 0 -65 -25z`}),K.jsx("path",{d:`M235 590 c-125 -29 -195 -149 -150 -258 42 -100 160 -150 258 -109\r
45 19 105 89 113 132 26 139 -92 265 -221 235z`})]})})}),xNt=({color:i})=>K.jsx("div",{style:{marginRight:"8px"},children:K.jsx("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"18pt",height:"18pt",viewBox:"0 0 208.000000 183.000000",preserveAspectRatio:"xMidYMid meet",children:K.jsxs("g",{transform:"translate(0.000000,183.000000) scale(0.100000,-0.100000)",fill:i,stroke:"none",children:[K.jsx("path",{d:`M835 1693 c-275 -38 -538 -249 -645 -516 -54 -134 -64 -190 -64 -337\r
0 -109 4 -151 22 -218 22 -80 68 -184 111 -246 40 -59 143 -154 199 -184 67\r
-36 191 -72 242 -71 34 0 34 1 10 11 -178 76 -274 182 -337 373 -24 72 -27 95\r
-27 225 0 133 2 152 28 225 71 208 220 366 414 443 59 23 82 26 187 27 112 0\r
124 -2 178 -29 69 -33 104 -77 143 -177 37 -93 87 -148 178 -195 57 -30 81\r
-49 107 -87 67 -98 130 -133 225 -125 95 8 175 81 196 179 18 92 -17 175 -100\r
233 -38 27 -53 31 -142 36 -93 6 -102 8 -130 35 -17 16 -43 52 -59 80 -84 147\r
-244 262 -424 305 -78 19 -225 25 -312 13z`}),K.jsx("path",{d:`M959 1236 c-177 -74 -319 -231 -364 -403 -31 -119 -14 -283 41 -383\r
87 -160 224 -254 389 -266 l60 -4 -41 13 c-131 44 -262 202 -295 357 -46 215\r
88 434 300 491 48 13 74 26 94 49 43 49 32 115 -25 150 -43 26 -90 25 -159 -4z`})]})})}),XN=[{value:"guard",label:"Guardia",icon:K.jsx(gNt,{color:nd.palette.text.secondary})},{value:"pass",label:"Pase",icon:K.jsx(vNt,{color:nd.palette.text.secondary})},{value:"submission",label:"Sumisin",icon:K.jsx(_Nt,{color:nd.palette.text.secondary})},{value:"switch",label:"Raspado",icon:K.jsx(bNt,{color:nd.palette.text.secondary})},{value:"transition",label:"Transicin",icon:K.jsx(xNt,{color:nd.palette.text.secondary})},{value:"control",label:"Control",icon:K.jsx(yNt,{color:nd.palette.text.secondary})},{value:"tachi_waza",label:"Tachi Waza",icon:K.jsx(bD,{color:nd.palette.text.secondary})},{value:"defence",label:"Defensa",icon:K.jsx(bD,{color:nd.palette.text.secondary})},{value:"genesis",label:"Genesis",icon:K.jsx(bD,{color:nd.palette.text.secondary})}],Yg=Ya,SNt={backgroundColor:"white",color:Yg.palette.text.secondary,"&.Mui-selected":{backgroundColor:Yg.palette.action.success,color:Yg.palette.text.primary,borderColor:Yg.palette.formStyles.borderColor},"&.Mui-selected:hover":{backgroundColor:Iy(Yg.palette.action.success,.2)}},ENt={display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:1.5,"& .MuiToggleButtonGroup-grouped":{margin:0,border:`2px solid ${Yg.palette.formStyles.borderColor}`,borderRadius:"8px !important"}},TNt=({value:i,onChange:e})=>{const n=(r,s)=>{s!==null&&e(s)};return K.jsx(aW,{value:i,exclusive:!0,onChange:n,"aria-label":"selectable options",sx:ENt,children:XN.map(r=>K.jsxs(sW,{value:r.value,"aria-label":r.label,sx:SNt,children:[r.icon&&hn.cloneElement(r.icon,{color:i===r.value?"#fff":Yg.palette.text.secondary}),r.label]},r.value))})},xD=Ya,wNt={paddingLeft:"1rem",paddingRight:"1rem",paddingBottom:"1rem",backgroundColor:xD.palette.formStyles.cardBackgroundColor,borderTop:`2px solid ${xD.palette.formStyles.borderColor}`,marginTop:"1rem",borderTopLeftRadius:"20px",borderTopRightRadius:"20px",boxShadow:xD.palette.formStyles.cardBoxShadow},a1=["Estas creando un nuevo nodo","Conecta el nodo","Carga un recurso al nodo"],ANt=({onValidate:i,onHandleSubmit:e})=>{const n=Un(p=>p.isUploadFirestore),r=Un(p=>p.activeStep),s=Un(p=>p.nextStep),a=Un(p=>p.prevStep),o=p=>p===1,l=async()=>{const p=i?await i():!0;(Array.isArray(p)?p[r]:p)&&i9(e,s,r,a1)},u=()=>{a()},f=()=>{Un.getState().setActiveStep(0)},h=()=>{i9(e,s,r,a1)};return K.jsxs(Oi,{sx:wNt,children:[r===a1.length?K.jsx(tt.Fragment,{children:K.jsxs(Oi,{sx:{display:"flex",flexDirection:"row",pt:2},children:[K.jsx(Oi,{sx:{flex:"1 1 auto"}}),K.jsx(iy,{disabled:n,onClick:f,children:"Volver"})]})}):K.jsx(tt.Fragment,{children:K.jsxs(Oi,{sx:{display:"flex",flexDirection:"row",pt:2},children:[K.jsx(iy,{color:"inherit",disabled:r===0,onClick:u,sx:{mr:1,color:Ya.palette.action.success},children:"Retroceder"}),K.jsx(Oi,{sx:{flex:"1 1 auto"}}),o(r)&&K.jsx(iy,{color:"inherit",onClick:h,sx:{mr:1,color:Ya.palette.action.success},children:"Saltar"}),K.jsx(iy,{onClick:l,children:r===a1.length-1?"Finalizar":"Siguiente"})]})}),K.jsx(eSt,{activeStep:r,children:a1.map((p,y)=>{const _={},x={};return o(y)&&(x.optional=K.jsx(Mo,{variant:"caption",children:"Opcional"})),K.jsx(D1t,{..._,children:K.jsx(eW,{...x,children:p})},p)})})]})},Yp=Ya,MNt={width:"100%",display:"flex",'& [role="tabpanel"]':{maxHeight:"60vh",overflow:"auto"}},CNt={borderRight:1,borderColor:Yp.palette.formStyles.borderColor,minWidth:"120px"},RNt={fontWeight:"800",borderBottom:`1px solid ${Yp.palette.formStyles.borderColor}`},ONt={backgroundColor:"#fff",color:Yp.palette.text.secondary,width:"100%",marginBottom:"5px",border:`1px solid ${Yp.palette.formStyles.borderColor}`,"&.Mui-selected":{backgroundColor:Yp.palette.action.success,color:Yp.palette.text.primary,borderColor:Yp.palette.formStyles.borderColor},"&.Mui-selected:hover":{backgroundColor:"primary.dark"}},INt=(i,e)=>({color:i==e?"#fff":Yp.palette.text.secondary});function PNt(i){const{children:e,value:n,index:r,...s}=i;return K.jsx("div",{role:"tabpanel",hidden:n!==r,id:`simple-tabpanel-${r}`,"aria-labelledby":`simple-tab-${r}`,...s,children:n===r&&K.jsx(Oi,{sx:{p:3},children:e})})}function DNt(i){return{id:`simple-tab-${i}`,"aria-controls":`simple-tabpanel-${i}`}}function NNt({onSelectionChange:i}){const[e,n]=tt.useState(0),[r,s]=tt.useState([]),[a,o]=tt.useState(!1),[l,u]=tt.useState(null),f=y=>{u(y),i(y)};tt.useEffect(()=>{(async()=>{o(!0);try{const _=await YR(Ff.nodes);s(_||[])}catch(_){console.error("Error al cargar datos:",_),s([])}finally{o(!1)}})()},[]);const h=tt.useMemo(()=>y=>{try{return r.filter(({group:x})=>x===y).map(({id:x,name:S,group:E})=>({id:x,name:S,group:E}))}catch{return[]}},[r]),p=(y,_)=>{console.log("evento",y),n(_)};return K.jsxs(Oi,{sx:MNt,children:[K.jsx(TSt,{value:e,onChange:p,"aria-label":"tabs",orientation:"vertical",sx:CNt,children:XN.map((y,_)=>K.jsx(sSt,{label:y.label,...DNt(_),sx:RNt},y.value))}),XN.map((y,_)=>K.jsx(PNt,{value:e,index:_,children:a?K.jsx(Mo,{children:"Cargando datos..."}):K.jsx(K.Fragment,{children:h(y.value).length>0?K.jsx(aW,{value:l,exclusive:!0,onChange:(x,S)=>f(S),orientation:"vertical",fullWidth:!0,children:h(y.value).map(x=>K.jsxs(sW,{value:x.id??"","aria-label":x.name,sx:ONt,children:[y.icon&&hn.cloneElement(y.icon,{sx:INt(x.id??"",l)}),x.name]},x.id))}):K.jsx(Mo,{children:"No hay datos para esta categora."})})},_))]})}const LNt=({control:i,errors:e})=>K.jsxs(Oi,{sx:F4,children:[K.jsx(iO,{title:"Crea una nueva conexcin"}),K.jsx(VN,{name:"name",control:i,rules:{required:"El nombre es obligatorio"},render:({field:n})=>{var r;return K.jsx(nW,{...n,label:"Nombre del nodo",error:!!e.name,helperText:typeof((r=e.name)==null?void 0:r.message)=="string"?e.name.message:void 0})}}),K.jsx(VN,{name:"group",control:i,render:({field:n})=>{var r;return K.jsxs(d4,{sx:xRt,children:[K.jsx(p4,{style:SRt,children:"Tipo de nodo"}),K.jsx(_1t,{...n,children:K.jsx(TNt,{value:n.value,onChange:n.onChange})}),e.group&&K.jsx(Mo,{color:"error",variant:"caption",children:typeof((r=e.group)==null?void 0:r.message)=="string"?e.group.message:""})]})}})]}),UNt=({control:i,errors:e,isNot1Step2:n})=>K.jsxs(Oi,{sx:F4,children:[K.jsx(iO,{title:"Agregar nuevo nodo"}),K.jsx(p4,{children:"Seleccionar nodo origen"}),K.jsx(VN,{name:"nodeSourceIndex",control:i,render:({field:r})=>{var s;return K.jsxs(d4,{error:!!e.nodeSource,children:[K.jsxs(Oi,{sx:ERt(n==1),children:[K.jsx(Mo,{children:"Elige una conexin de origen o presion en saltar"}),K.jsx(NNt,{onSelectionChange:a=>{r.onChange(a)}})]}),e.nodeSource&&K.jsx(Mo,{color:"error",variant:"caption",children:typeof((s=e.nodeSource)==null?void 0:s.message)=="string"?e.nodeSource.message:""})]})}})]}),kNt=Ya,zNt={display:"flex",flexDirection:"column",gap:2,maxHeight:"80vh",overflow:"auto"},BNt={display:"flex",gap:1},FNt={display:"grid",gridTemplateColumns:"repeat(1, 1fr)","@media (min-width: 600px)":{gridTemplateColumns:"repeat(2, 1fr)"},gap:2,"& .MuiPaper-root":{width:"90%",margin:"0 auto"},"& .MuiCardContent-root":{padding:"0em 0.5em 1em 0.5em",display:"flex"},"& .MuiCardContent-root .MuiTypography-subtitle2":{fontSize:"0.8em",fontFamily:"Poppins"},"& .MuiCardContent-root .MuiTypography-body2":{fontSize:"0.6em",fontFamily:"Poppins"},"& .MuiCardContent-root .MuiCardMedia-root":{width:"2em",height:"2em",borderRadius:"50%",marginRight:"0.5em",marginTop:"auto",marginBottom:"auto"}},VNt={display:"flex",flexDirection:"column",cursor:"pointer"},HNt={textAlign:"right",position:"relative",color:kNt.palette.text.primary,bottom:" 2rem",right:"0.7rem",fontFamily:"Poppins"},jNt={display:"flex",flexDirection:"column-reverse"},GNt=({control:i,setValue:e})=>{const[n,r]=tt.useState(""),[s,a]=tt.useState([]),o=Un(u=>u.isNodeViewActive),l=u=>{e("videoid",u.videoid),Un.setState({isNodeViewActive:!0}),Un.setState({nodeViewData:u})};return K.jsxs(Oi,{sx:zNt,children:[o&&K.jsx(LK,{isAddNode:!0,control:i,setValue:e}),K.jsx(iO,{title:"Buscar Video en YouTube"}),K.jsxs(Oi,{sx:BNt,children:[K.jsx(nW,{fullWidth:!0,label:"Buscar",value:n,onChange:u=>r(u.target.value)}),K.jsx(iy,{variant:"contained",onClick:()=>t3t(n,a),children:"Buscar"})]}),s.length>0&&K.jsx(Oi,{sx:FNt,children:s.map(u=>K.jsxs(f4,{onClick:()=>{l({videoid:u.videoId,start:"0",end:u.secondsTotal})},sx:VNt,children:[K.jsxs(Oi,{sx:jNt,children:[K.jsx(Mo,{sx:HNt,children:u.duration}),K.jsx(Ext,{component:"img",image:u.videoThumbnailUrl,alt:u.videoTitle})]}),K.jsx(yxt,{children:K.jsxs(Oi,{children:[K.jsx(Mo,{variant:"subtitle2",children:u.videoTitle}),K.jsxs(Mo,{variant:"body2",color:"text.secondary",children:[u.channelTitle," - ",u.viewCount," vistas - hace"," ",u.publishedAt]})]})})]},u.videoId))})]})},qNt=({newNodeData:i,selectedSourceNodeData:e})=>{const n=!Un(s=>s.isUploadFirestore),r={nodes:[{id:i.index,name:i.name},{id:i.nodeSourceIndex,name:e.name}],links:[{source:i.nodeSourceIndex,target:i.index}]};return K.jsxs(Oi,{sx:F4,children:[K.jsx(iO,{title:"paso final"}),K.jsxs(Oi,{sx:TRt(n),children:[K.jsx(Gg,{sx:{width:"60%"}}),K.jsx(Gg,{sx:{width:"25%"}}),K.jsx(Gg,{sx:{width:"32%"}}),K.jsx(Gg,{sx:{width:"20%"}}),K.jsx(Gg,{sx:{width:"50%"}}),K.jsx(Gg,{sx:{width:"54%"}})]}),K.jsx(Oi,{sx:wRt(n),children:K.jsxs("div",{children:[K.jsx("h3",{children:"Resumen del Nodo"}),K.jsxs("p",{children:[K.jsx("strong",{children:"ndice:"})," ",i.index]}),K.jsxs("p",{children:[K.jsx("strong",{children:"Nombre:"})," ",i.name]}),K.jsxs("p",{children:[K.jsx("strong",{children:"Posicin:"})," ",i.group]}),K.jsxs("p",{children:[K.jsx("strong",{children:"Nodo Origen:"})," "," {"+i.nodeSourceIndex+"}"]}),K.jsxs("p",{children:[K.jsx("strong",{children:"Fecha de subida:"})," ",i.uploadedDate??"Sin fecha an"]})]})}),K.jsx(CRt,{graphStepFinalData:r,isUploadFirestore:n})]})},NK=Ya.palette,rO=NK.formStyles,sO=NK.text,$Nt={position:"absolute",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",zIndex:10,width:"100%",height:"100%",backgroundColor:rO.containerBackgroundColor,top:"0"},WNt={backgroundColor:rO.cardBackgroundColor,width:"80%",maxWidth:"400px",borderRadius:"1rem",padding:"2rem",marginTop:"4rem"},XNt={color:sO.secondary,fontSize:"1.5rem",fontWeight:700,marginBottom:"2rem",textAlign:"center"};rO.buttonForm,sO.primary;sO.secondary;const YNt={display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",width:"100%",padding:"0.5rem",border:`1px solid ${rO.borderColor}`,borderRadius:"0.5rem",backgroundColor:"#fff",cursor:"pointer","& img":{width:"20px",height:"20px"}},KNt={color:sO.secondary,fontWeight:"500",fontSize:"0.9rem"};function ZNt(){const i=Sbt,e=l4,n=()=>{Un.setState({isLoginWindowActive:!1})},r=async()=>{try{const a=(await syt(e,i)).user;console.log("Usuario autenticado:",a)}catch(s){console.error("Error al iniciar sesin con Google:",s)}};return K.jsxs(Oi,{sx:$Nt,children:[K.jsx(x4,{buttonFunction:n,disabled:!1}),K.jsx(cK,{}),K.jsxs(f4,{elevation:10,sx:WNt,children:[K.jsx(Mo,{sx:XNt,children:"Login"}),K.jsxs(Oi,{children:[K.jsx(b_,{sx:{width:"100%",my:"1em",mx:"auto"},orientation:"horizontal",variant:"middle"}),K.jsxs(iy,{onClick:r,sx:YNt,children:[K.jsx("img",{src:"./google-logo.png",alt:"Google"}),K.jsx(Mo,{sx:KNt,children:"Iniciar sesin con Google"})]})]})]})]})}var SD,H9;function QNt(){return H9||(H9=1,SD=function i(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,s,a;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(s=r;s--!==0;)if(!i(e[s],n[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(a=Object.keys(e),r=a.length,r!==Object.keys(n).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,a[s]))return!1;for(s=r;s--!==0;){var o=a[s];if(!i(e[o],n[o]))return!1}return!0}return e!==e&&n!==n}),SD}var JNt=QNt();const tLt=oh(JNt);var MA={exports:{}},ED,j9;function eLt(){if(j9)return ED;j9=1;var i;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/return i=function(){var e={},n={};return e.on=function(r,s){var a={name:r,handler:s};return n[r]=n[r]||[],n[r].unshift(a),a},e.off=function(r){var s=n[r.name].indexOf(r);s!==-1&&n[r.name].splice(s,1)},e.trigger=function(r,s){var a=n[r],o;if(a)for(o=a.length;o--;)a[o].handler(s)},e},ED=i,ED}var CA={exports:{}},TD,G9;function nLt(){if(G9)return TD;G9=1,TD=function(s,a,o){var l=document.head||document.getElementsByTagName("head")[0],u=document.createElement("script");typeof a=="function"&&(o=a,a={}),a=a||{},o=o||function(){},u.type=a.type||"text/javascript",u.charset=a.charset||"utf8",u.async="async"in a?!!a.async:!0,u.src=s,a.attrs&&i(u,a.attrs),a.text&&(u.text=""+a.text);var f="onload"in u?e:n;f(u,o),u.onload||e(u,o),l.appendChild(u)};function i(r,s){for(var a in s)r.setAttribute(a,s[a])}function e(r,s){r.onload=function(){this.onerror=this.onload=null,s(null,r)},r.onerror=function(){this.onerror=this.onload=null,s(new Error("Failed to load "+this.src),r)}}function n(r,s){r.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,s(null,r))}}return TD}var q9;function iLt(){return q9||(q9=1,function(i,e){Object.defineProperty(e,"__esModule",{value:!0});var n=nLt(),r=s(n);function s(a){return a&&a.__esModule?a:{default:a}}e.default=function(a){var o=new Promise(function(l){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){l(window.YT);return}else{var u=window.location.protocol==="http:"?"http:":"https:";(0,r.default)(u+"//www.youtube.com/iframe_api",function(h){h&&a.trigger("error",h)})}var f=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){f&&f(),l(window.YT)}});return o},i.exports=e.default}(CA,CA.exports)),CA.exports}var RA={exports:{}},OA={exports:{}},IA={exports:{}},wD,$9;function rLt(){if($9)return wD;$9=1;var i=1e3,e=i*60,n=e*60,r=n*24,s=r*365.25;wD=function(f,h){h=h||{};var p=typeof f;if(p==="string"&&f.length>0)return a(f);if(p==="number"&&isNaN(f)===!1)return h.long?l(f):o(f);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(f))};function a(f){if(f=String(f),!(f.length>100)){var h=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(f);if(h){var p=parseFloat(h[1]),y=(h[2]||"ms").toLowerCase();switch(y){case"years":case"year":case"yrs":case"yr":case"y":return p*s;case"days":case"day":case"d":return p*r;case"hours":case"hour":case"hrs":case"hr":case"h":return p*n;case"minutes":case"minute":case"mins":case"min":case"m":return p*e;case"seconds":case"second":case"secs":case"sec":case"s":return p*i;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return p;default:return}}}}function o(f){return f>=r?Math.round(f/r)+"d":f>=n?Math.round(f/n)+"h":f>=e?Math.round(f/e)+"m":f>=i?Math.round(f/i)+"s":f+"ms"}function l(f){return u(f,r,"day")||u(f,n,"hour")||u(f,e,"minute")||u(f,i,"second")||f+" ms"}function u(f,h,p){if(!(f<h))return f<h*1.5?Math.floor(f/h)+" "+p:Math.ceil(f/h)+" "+p+"s"}return wD}var W9;function sLt(){return W9||(W9=1,function(i,e){e=i.exports=s.debug=s.default=s,e.coerce=u,e.disable=o,e.enable=a,e.enabled=l,e.humanize=rLt(),e.names=[],e.skips=[],e.formatters={};var n;function r(f){var h=0,p;for(p in f)h=(h<<5)-h+f.charCodeAt(p),h|=0;return e.colors[Math.abs(h)%e.colors.length]}function s(f){function h(){if(h.enabled){var p=h,y=+new Date,_=y-(n||y);p.diff=_,p.prev=n,p.curr=y,n=y;for(var x=new Array(arguments.length),S=0;S<x.length;S++)x[S]=arguments[S];x[0]=e.coerce(x[0]),typeof x[0]!="string"&&x.unshift("%O");var E=0;x[0]=x[0].replace(/%([a-zA-Z%])/g,function(A,C){if(A==="%%")return A;E++;var M=e.formatters[C];if(typeof M=="function"){var I=x[E];A=M.call(p,I),x.splice(E,1),E--}return A}),e.formatArgs.call(p,x);var b=h.log||e.log||console.log.bind(console);b.apply(p,x)}}return h.namespace=f,h.enabled=e.enabled(f),h.useColors=e.useColors(),h.color=r(f),typeof e.init=="function"&&e.init(h),h}function a(f){e.save(f),e.names=[],e.skips=[];for(var h=(typeof f=="string"?f:"").split(/[\s,]+/),p=h.length,y=0;y<p;y++)h[y]&&(f=h[y].replace(/\*/g,".*?"),f[0]==="-"?e.skips.push(new RegExp("^"+f.substr(1)+"$")):e.names.push(new RegExp("^"+f+"$")))}function o(){e.enable("")}function l(f){var h,p;for(h=0,p=e.skips.length;h<p;h++)if(e.skips[h].test(f))return!1;for(h=0,p=e.names.length;h<p;h++)if(e.names[h].test(f))return!0;return!1}function u(f){return f instanceof Error?f.stack||f.message:f}}(IA,IA.exports)),IA.exports}var X9;function aLt(){return X9||(X9=1,function(i,e){var n={};e=i.exports=sLt(),e.log=a,e.formatArgs=s,e.save=o,e.load=l,e.useColors=r,e.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:u(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function r(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}e.formatters.j=function(f){try{return JSON.stringify(f)}catch(h){return"[UnexpectedJSONParseError]: "+h.message}};function s(f){var h=this.useColors;if(f[0]=(h?"%c":"")+this.namespace+(h?" %c":" ")+f[0]+(h?"%c ":" ")+"+"+e.humanize(this.diff),!!h){var p="color: "+this.color;f.splice(1,0,p,"color: inherit");var y=0,_=0;f[0].replace(/%[a-zA-Z%]/g,function(x){x!=="%%"&&(y++,x==="%c"&&(_=y))}),f.splice(_,0,p)}}function a(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function o(f){try{f==null?e.storage.removeItem("debug"):e.storage.debug=f}catch{}}function l(){var f;try{f=e.storage.debug}catch{}return!f&&typeof process<"u"&&"env"in process&&(f=n.DEBUG),f}e.enable(l());function u(){try{return window.localStorage}catch{}}}(OA,OA.exports)),OA.exports}var PA={exports:{}},Y9;function oLt(){return Y9||(Y9=1,function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],i.exports=e.default}(PA,PA.exports)),PA.exports}var DA={exports:{}},K9;function lLt(){return K9||(K9=1,function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],i.exports=e.default}(DA,DA.exports)),DA.exports}var NA={exports:{}},LA={exports:{}},Z9;function uLt(){return Z9||(Z9=1,function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},i.exports=e.default}(LA,LA.exports)),LA.exports}var Q9;function cLt(){return Q9||(Q9=1,function(i,e){Object.defineProperty(e,"__esModule",{value:!0});var n=uLt(),r=s(n);function s(a){return a&&a.__esModule?a:{default:a}}e.default={pauseVideo:{acceptableStates:[r.default.ENDED,r.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[r.default.ENDED,r.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[r.default.ENDED,r.default.PLAYING,r.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},i.exports=e.default}(NA,NA.exports)),NA.exports}var J9;function fLt(){return J9||(J9=1,function(i,e){Object.defineProperty(e,"__esModule",{value:!0});var n=aLt(),r=h(n),s=oLt(),a=h(s),o=lLt(),l=h(o),u=cLt(),f=h(u);function h(_){return _&&_.__esModule?_:{default:_}}var p=(0,r.default)("youtube-player"),y={};y.proxyEvents=function(_){var x={},S=function(N){var L="on"+N.slice(0,1).toUpperCase()+N.slice(1);x[L]=function(U){p('event "%s"',L,U),_.trigger(N,U)}},E=!0,b=!1,A=void 0;try{for(var C=l.default[Symbol.iterator](),M;!(E=(M=C.next()).done);E=!0){var I=M.value;S(I)}}catch(k){b=!0,A=k}finally{try{!E&&C.return&&C.return()}finally{if(b)throw A}}return x},y.promisifyPlayer=function(_){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,S={},E=function(L){x&&f.default[L]?S[L]=function(){for(var U=arguments.length,O=Array(U),B=0;B<U;B++)O[B]=arguments[B];return _.then(function(H){var V=f.default[L],X=H.getPlayerState(),et=H[L].apply(H,O);return V.stateChangeRequired||Array.isArray(V.acceptableStates)&&V.acceptableStates.indexOf(X)===-1?new Promise(function(q){var W=function Z(){var nt=H.getPlayerState(),Q=void 0;typeof V.timeout=="number"&&(Q=setTimeout(function(){H.removeEventListener("onStateChange",Z),q()},V.timeout)),Array.isArray(V.acceptableStates)&&V.acceptableStates.indexOf(nt)!==-1&&(H.removeEventListener("onStateChange",Z),clearTimeout(Q),q())};H.addEventListener("onStateChange",W)}).then(function(){return et}):et})}:S[L]=function(){for(var U=arguments.length,O=Array(U),B=0;B<U;B++)O[B]=arguments[B];return _.then(function(H){return H[L].apply(H,O)})}},b=!0,A=!1,C=void 0;try{for(var M=a.default[Symbol.iterator](),I;!(b=(I=M.next()).done);b=!0){var k=I.value;E(k)}}catch(N){A=!0,C=N}finally{try{!b&&M.return&&M.return()}finally{if(A)throw C}}return S},e.default=y,i.exports=e.default}(RA,RA.exports)),RA.exports}var tH;function hLt(){return tH||(tH=1,function(i,e){Object.defineProperty(e,"__esModule",{value:!0});var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},r=eLt(),s=f(r),a=iLt(),o=f(a),l=fLt(),u=f(l);function f(p){return p&&p.__esModule?p:{default:p}}var h=void 0;e.default=function(p){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,x=(0,s.default)();if(h||(h=(0,o.default)(x)),y.events)throw new Error("Event handlers cannot be overwritten.");if(typeof p=="string"&&!document.getElementById(p))throw new Error('Element "'+p+'" does not exist.');y.events=u.default.proxyEvents(x);var S=new Promise(function(b){if((typeof p>"u"?"undefined":n(p))==="object"&&p.playVideo instanceof Function){var A=p;b(A)}else h.then(function(C){var M=new C.Player(p,y);return x.on("ready",function(){b(M)}),null})}),E=u.default.promisifyPlayer(S,_);return E.on=x.on,E.off=x.off,E},i.exports=e.default}(MA,MA.exports)),MA.exports}var dLt=hLt();const pLt=oh(dLt);var mLt=Object.defineProperty,gLt=Object.defineProperties,yLt=Object.getOwnPropertyDescriptors,eH=Object.getOwnPropertySymbols,vLt=Object.prototype.hasOwnProperty,_Lt=Object.prototype.propertyIsEnumerable,nH=(i,e,n)=>e in i?mLt(i,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):i[e]=n,YN=(i,e)=>{for(var n in e||(e={}))vLt.call(e,n)&&nH(i,n,e[n]);if(eH)for(var n of eH(e))_Lt.call(e,n)&&nH(i,n,e[n]);return i},KN=(i,e)=>gLt(i,yLt(e)),bLt=(i,e,n)=>new Promise((r,s)=>{var a=u=>{try{l(n.next(u))}catch(f){s(f)}},o=u=>{try{l(n.throw(u))}catch(f){s(f)}},l=u=>u.done?r(u.value):Promise.resolve(u.value).then(a,o);l((n=n.apply(i,e)).next())});function xLt(i,e){var n,r;if(i.videoId!==e.videoId)return!0;const s=((n=i.opts)==null?void 0:n.playerVars)||{},a=((r=e.opts)==null?void 0:r.playerVars)||{};return s.start!==a.start||s.end!==a.end}function iH(i={}){return KN(YN({},i),{height:0,width:0,playerVars:KN(YN({},i.playerVars),{autoplay:0,start:0,end:0})})}function SLt(i,e){return i.videoId!==e.videoId||!tLt(iH(i.opts),iH(e.opts))}function ELt(i,e){var n,r,s,a;return i.id!==e.id||i.className!==e.className||((n=i.opts)==null?void 0:n.width)!==((r=e.opts)==null?void 0:r.width)||((s=i.opts)==null?void 0:s.height)!==((a=e.opts)==null?void 0:a.height)||i.iframeClassName!==e.iframeClassName||i.title!==e.title}var TLt={videoId:"",id:"",className:"",iframeClassName:"",style:{},title:"",loading:void 0,opts:{},onReady:()=>{},onError:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onStateChange:()=>{},onPlaybackRateChange:()=>{},onPlaybackQualityChange:()=>{}},wLt={videoId:Mt.string,id:Mt.string,className:Mt.string,iframeClassName:Mt.string,style:Mt.object,title:Mt.string,loading:Mt.oneOf(["lazy","eager"]),opts:Mt.objectOf(Mt.any),onReady:Mt.func,onError:Mt.func,onPlay:Mt.func,onPause:Mt.func,onEnd:Mt.func,onStateChange:Mt.func,onPlaybackRateChange:Mt.func,onPlaybackQualityChange:Mt.func},gM=class extends hn.Component{constructor(i){super(i),this.destroyPlayerPromise=void 0,this.onPlayerReady=e=>{var n,r;return(r=(n=this.props).onReady)==null?void 0:r.call(n,e)},this.onPlayerError=e=>{var n,r;return(r=(n=this.props).onError)==null?void 0:r.call(n,e)},this.onPlayerStateChange=e=>{var n,r,s,a,o,l,u,f;switch((r=(n=this.props).onStateChange)==null||r.call(n,e),e.data){case gM.PlayerState.ENDED:(a=(s=this.props).onEnd)==null||a.call(s,e);break;case gM.PlayerState.PLAYING:(l=(o=this.props).onPlay)==null||l.call(o,e);break;case gM.PlayerState.PAUSED:(f=(u=this.props).onPause)==null||f.call(u,e);break}},this.onPlayerPlaybackRateChange=e=>{var n,r;return(r=(n=this.props).onPlaybackRateChange)==null?void 0:r.call(n,e)},this.onPlayerPlaybackQualityChange=e=>{var n,r;return(r=(n=this.props).onPlaybackQualityChange)==null?void 0:r.call(n,e)},this.destroyPlayer=()=>this.internalPlayer?(this.destroyPlayerPromise=this.internalPlayer.destroy().then(()=>this.destroyPlayerPromise=void 0),this.destroyPlayerPromise):Promise.resolve(),this.createPlayer=()=>{if(typeof document>"u")return;if(this.destroyPlayerPromise){this.destroyPlayerPromise.then(this.createPlayer);return}const e=KN(YN({},this.props.opts),{videoId:this.props.videoId});this.internalPlayer=pLt(this.container,e),this.internalPlayer.on("ready",this.onPlayerReady),this.internalPlayer.on("error",this.onPlayerError),this.internalPlayer.on("stateChange",this.onPlayerStateChange),this.internalPlayer.on("playbackRateChange",this.onPlayerPlaybackRateChange),this.internalPlayer.on("playbackQualityChange",this.onPlayerPlaybackQualityChange),(this.props.title||this.props.loading)&&this.internalPlayer.getIframe().then(n=>{this.props.title&&n.setAttribute("title",this.props.title),this.props.loading&&n.setAttribute("loading",this.props.loading)})},this.resetPlayer=()=>this.destroyPlayer().then(this.createPlayer),this.updatePlayer=()=>{var e;(e=this.internalPlayer)==null||e.getIframe().then(n=>{this.props.id?n.setAttribute("id",this.props.id):n.removeAttribute("id"),this.props.iframeClassName?n.setAttribute("class",this.props.iframeClassName):n.removeAttribute("class"),this.props.opts&&this.props.opts.width?n.setAttribute("width",this.props.opts.width.toString()):n.removeAttribute("width"),this.props.opts&&this.props.opts.height?n.setAttribute("height",this.props.opts.height.toString()):n.removeAttribute("height"),this.props.title?n.setAttribute("title",this.props.title):n.setAttribute("title","YouTube video player"),this.props.loading?n.setAttribute("loading",this.props.loading):n.removeAttribute("loading")})},this.getInternalPlayer=()=>this.internalPlayer,this.updateVideo=()=>{var e,n,r,s;if(typeof this.props.videoId>"u"||this.props.videoId===null){(e=this.internalPlayer)==null||e.stopVideo();return}let a=!1;const o={videoId:this.props.videoId};if((n=this.props.opts)!=null&&n.playerVars&&(a=this.props.opts.playerVars.autoplay===1,"start"in this.props.opts.playerVars&&(o.startSeconds=this.props.opts.playerVars.start),"end"in this.props.opts.playerVars&&(o.endSeconds=this.props.opts.playerVars.end)),a){(r=this.internalPlayer)==null||r.loadVideoById(o);return}(s=this.internalPlayer)==null||s.cueVideoById(o)},this.refContainer=e=>{this.container=e},this.container=null,this.internalPlayer=null}componentDidMount(){this.createPlayer()}componentDidUpdate(i){return bLt(this,null,function*(){ELt(i,this.props)&&this.updatePlayer(),SLt(i,this.props)&&(yield this.resetPlayer()),xLt(i,this.props)&&this.updateVideo()})}componentWillUnmount(){this.destroyPlayer()}render(){return hn.createElement("div",{className:this.props.className,style:this.props.style},hn.createElement("div",{id:this.props.id,className:this.props.iframeClassName,ref:this.refContainer}))}},aO=gM;aO.propTypes=wLt;aO.defaultProps=TLt;aO.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};var ALt=aO;const MLt={pointerEvents:"none",width:"100vw",height:"70vh",top:"0","& div iframe":{width:"100%",height:"100%"}},CLt=i=>i?{display:"flex",flexDirection:"column",zIndex:"20",position:"absolute",boxShadow:"0 0 10px rgb(247, 236, 236)",width:"100%",top:"0",height:"100vh"}:{display:"flex",flexDirection:"column",zIndex:"10",position:"absolute",boxShadow:"0 0 10px rgb(247, 236, 236)",height:"100vh"},LK=({controls:i,isAddNode:e,setValue:n})=>{const r=Un(x=>x.nodeViewData),[s,a]=tt.useState(null),o=x=>{n&&(x.videoid&&n("videoid",x.videoid),x.start&&n("start",x.start),x.end&&n("end",x.end))},l=r.videoid,u=r.start,f=r.end,h=(l==null?void 0:l.replace("shorts/",""))||"",p=x=>{a(x.target),x.target.playVideo()},y=()=>{i&&iPt(i),Un.setState({isNodeViewActive:!1})},_={playerVars:{start:u,...f&&{end:f},autoplay:1,mute:0,controls:0,modestbranding:1,rel:0,loop:1,playsinline:1,fs:0,disablekb:1,cc_load_policy:0,hl:"es"}};return K.jsxs(f4,{sx:CLt(e),children:[K.jsx(x4,{buttonFunction:y}),K.jsx(Oi,{sx:MLt,children:K.jsx(ALt,{style:{height:"100%"},videoId:h,opts:_,onReady:p})}),K.jsx(LLt,{player:s,start:parseInt(u||"0"),end:parseInt(f||"0"),isAddNode:e,onSendDataTimeNewNode:o})]})},UK=Ya,RLt={display:"flex",flexDirection:"column",width:"100%",mt:2,alignItems:"center","& .MuiPaper-root":{margin:"1rem 0"}},OLt={px:2,mb:1,width:"95%"},ILt={height:8,borderRadius:5,backgroundColor:"#eee",cursor:"pointer","& .MuiLinearProgress-bar":{backgroundColor:"#1976d2"}},o1={bgcolor:"white",border:`1px solid ${UK.palette.formStyles.borderColor}`,"&:hover":{bgcolor:"#e0e0e0"}},PLt={width:"100%",padding:"1rem",backgroundColor:UK.palette.formStyles.cardBackgroundColor},DLt=i=>({display:"grid",gridTemplateRows:i?"auto auto":"auto",rowGap:2,justifyItems:"center",alignItems:"center"}),NLt={display:"grid",gridAutoFlow:"column",columnGap:5,marginTop:2},LLt=({player:i,start:e,end:n,isAddNode:r,onSendDataTimeNewNode:s})=>{const[a,o]=tt.useState(!1),[l,u]=tt.useState(0),[f,h]=tt.useState(""),[p,y]=tt.useState(""),_=E=>{const b=Math.floor(E/3600),A=Math.floor(E%3600/60),C=Math.floor(E%60),M=[];return b>0&&M.push(b.toString()),M.push(A.toString().padStart(2,"0")),M.push(C.toString().padStart(2,"0")),M.join(":")};tt.useEffect(()=>{if(!i)return;const E=setInterval(()=>{const b=i.getPlayerState(),A=i.getCurrentTime();o(b===1);const C=Math.min(Math.max(A,e),n),M=n-e,I=(C-e)/M*100;u(I),A>=n&&i.pauseVideo()},100);return()=>clearInterval(E)},[i,e,n]);const x=E=>{if(i){let b=i.getCurrentTime()+E;b<e&&(b=e),b>n&&(b=n),i.seekTo(b,!0)}},S=()=>{if(!i)return;const E=i.getPlayerState(),b=i.getCurrentTime();E!==1&&b>=n||b<e?(i.seekTo(e,!0),i.playVideo()):E===1?i.pauseVideo():i.playVideo()};return K.jsxs(Oi,{sx:RLt,children:[K.jsx(Oi,{sx:OLt,onClick:E=>{if(!i)return;const b=E.currentTarget.getBoundingClientRect(),C=(E.clientX-b.left)/b.width,M=e+(n-e)*C;i.seekTo(M,!0)},children:K.jsx(Gg,{variant:"determinate",value:l,sx:ILt})}),K.jsxs(Mo,{children:[i?_(i.getCurrentTime()):"0:00"," /"," ",_(n)]}),K.jsx(fR,{elevation:3,sx:PLt,children:K.jsxs(Oi,{sx:DLt(r),children:[K.jsxs(Y$,{direction:"row",spacing:10,alignItems:"center",children:[K.jsx(Bv,{title:"Retroceder 5s",children:K.jsx(Wg,{sx:o1,color:"primary",onClick:()=>x(-5),children:K.jsx(FSt,{fontSize:"large"})})}),K.jsx(Bv,{title:a?"Pausar":"Reproducir",children:K.jsx(Wg,{color:"primary",onClick:S,sx:o1,children:a?K.jsx(zSt,{fontSize:"large"}):K.jsx(BSt,{fontSize:"large"})})}),K.jsx(Bv,{title:"Avanzar 5s",children:K.jsx(Wg,{sx:o1,color:"primary",onClick:()=>x(5),children:K.jsx(kSt,{fontSize:"large"})})})]}),r&&K.jsxs(Oi,{sx:NLt,children:[K.jsx(Bv,{title:"Tiempo inicio",children:K.jsx(Wg,{sx:o1,color:"primary",onClick:()=>{const E=Math.floor(i.getCurrentTime()).toString();y(E),s==null||s({start:E,videoid:i.getVideoData().video_id})},children:K.jsxs(Mo,{children:["Inicio: ",_(Number(p))]})})}),K.jsx(Bv,{title:"Tiempo final",children:K.jsx(Wg,{sx:o1,color:"primary",onClick:()=>{const E=Math.ceil(i.getCurrentTime()).toString();h(E),s==null||s({end:E})},children:K.jsxs(Mo,{children:["Fin: ",_(Number(f))]})})})]})]})})]})};function ULt(){const i=Un(l=>l.isAddNodeActive),e=Un(l=>l.isLoginWindowActive),n=Un(l=>l.isUserLogin),r=Un(l=>l.userLoginData),s=Un(l=>l.isNodeViewActive),a=tt.useRef(null),o=Un(l=>l.triggerAlert);return tt.useEffect(()=>{VOt()},[]),tt.useEffect(()=>{n?(o(`Sesin iniciada ${r.displayName}`,"success"),Un.setState({isLoginWindowActive:!1})):o("Sesin Cerrada","warning")},[n]),K.jsxs("div",{className:"appContainer",children:[i?K.jsx(pNt,{}):null,e?K.jsx(ZNt,{}):K.jsx(wbt,{}),s&&a.current?K.jsx(LK,{controls:a.current,isAddNode:!1}):null,K.jsx("div",{className:"canvasContainer",children:K.jsxs(Jat,{camera:{fov:Pg.fov,near:Pg.near,far:Pg.far,position:Pg.position},style:{backgroundColor:hot.canvasBackgraundColor},children:[K.jsx(n3t,{cameraControlsRef:a}),K.jsx(lot,{ref:a,dollySpeed:Pg.dollySpeed,maxDistance:Pg.maxDistance,minDistance:Pg.minDistance})]})}),K.jsx($bt,{})]})}DZ.createRoot(document.getElementById("root")).render(K.jsx(ULt,{}));
