var FQ=Object.defineProperty;var VQ=(i,e,n)=>e in i?FQ(i,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):i[e]=n;var Rx=(i,e,n)=>VQ(i,typeof e!="symbol"?e+"":e,n);function HQ(i,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in i)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(i,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function hh(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var yP={exports:{}},Ox={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zz;function jQ(){if(zz)return Ox;zz=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,s,a){var o=null;if(a!==void 0&&(o=""+a),s.key!==void 0&&(o=""+s.key),"key"in s){a={};for(var l in s)l!=="key"&&(a[l]=s[l])}else a=s;return s=a.ref,{$$typeof:i,type:r,key:o,ref:s!==void 0?s:null,props:a}}return Ox.Fragment=e,Ox.jsx=n,Ox.jsxs=n,Ox}var Bz;function GQ(){return Bz||(Bz=1,yP.exports=jQ()),yP.exports}var W=GQ(),vP={exports:{}},Yn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fz;function $Q(){if(Fz)return Yn;Fz=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;function g(Z){return Z===null||typeof Z!="object"?null:(Z=p&&Z[p]||Z["@@iterator"],typeof Z=="function"?Z:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,S={};function E(Z,dt,yt){this.props=Z,this.context=dt,this.refs=S,this.updater=yt||v}E.prototype.isReactComponent={},E.prototype.setState=function(Z,dt){if(typeof Z!="object"&&typeof Z!="function"&&Z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Z,dt,"setState")},E.prototype.forceUpdate=function(Z){this.updater.enqueueForceUpdate(this,Z,"forceUpdate")};function x(){}x.prototype=E.prototype;function A(Z,dt,yt){this.props=Z,this.context=dt,this.refs=S,this.updater=yt||v}var C=A.prototype=new x;C.constructor=A,b(C,E.prototype),C.isPureReactComponent=!0;var M=Array.isArray,P={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function D(Z,dt,yt,xt,it,ht){return yt=ht.ref,{$$typeof:i,type:Z,key:dt,ref:yt!==void 0?yt:null,props:ht}}function N(Z,dt){return D(Z.type,dt,void 0,void 0,void 0,Z.props)}function U(Z){return typeof Z=="object"&&Z!==null&&Z.$$typeof===i}function R(Z){var dt={"=":"=0",":":"=2"};return"$"+Z.replace(/[=:]/g,function(yt){return dt[yt]})}var B=/\/+/g;function H(Z,dt){return typeof Z=="object"&&Z!==null&&Z.key!=null?R(""+Z.key):dt.toString(36)}function V(){}function Y(Z){switch(Z.status){case"fulfilled":return Z.value;case"rejected":throw Z.reason;default:switch(typeof Z.status=="string"?Z.then(V,V):(Z.status="pending",Z.then(function(dt){Z.status==="pending"&&(Z.status="fulfilled",Z.value=dt)},function(dt){Z.status==="pending"&&(Z.status="rejected",Z.reason=dt)})),Z.status){case"fulfilled":return Z.value;case"rejected":throw Z.reason}}throw Z}function et(Z,dt,yt,xt,it){var ht=typeof Z;(ht==="undefined"||ht==="boolean")&&(Z=null);var lt=!1;if(Z===null)lt=!0;else switch(ht){case"bigint":case"string":case"number":lt=!0;break;case"object":switch(Z.$$typeof){case i:case e:lt=!0;break;case h:return lt=Z._init,et(lt(Z._payload),dt,yt,xt,it)}}if(lt)return it=it(Z),lt=xt===""?"."+H(Z,0):xt,M(it)?(yt="",lt!=null&&(yt=lt.replace(B,"$&/")+"/"),et(it,dt,yt,"",function(Kt){return Kt})):it!=null&&(U(it)&&(it=N(it,yt+(it.key==null||Z&&Z.key===it.key?"":(""+it.key).replace(B,"$&/")+"/")+lt)),dt.push(it)),1;lt=0;var gt=xt===""?".":xt+":";if(M(Z))for(var Tt=0;Tt<Z.length;Tt++)xt=Z[Tt],ht=gt+H(xt,Tt),lt+=et(xt,dt,yt,ht,it);else if(Tt=g(Z),typeof Tt=="function")for(Z=Tt.call(Z),Tt=0;!(xt=Z.next()).done;)xt=xt.value,ht=gt+H(xt,Tt++),lt+=et(xt,dt,yt,ht,it);else if(ht==="object"){if(typeof Z.then=="function")return et(Y(Z),dt,yt,xt,it);throw dt=String(Z),Error("Objects are not valid as a React child (found: "+(dt==="[object Object]"?"object with keys {"+Object.keys(Z).join(", ")+"}":dt)+"). If you meant to render a collection of children, use an array instead.")}return lt}function G(Z,dt,yt){if(Z==null)return Z;var xt=[],it=0;return et(Z,xt,"","",function(ht){return dt.call(yt,ht,it++)}),xt}function X(Z){if(Z._status===-1){var dt=Z._result;dt=dt(),dt.then(function(yt){(Z._status===0||Z._status===-1)&&(Z._status=1,Z._result=yt)},function(yt){(Z._status===0||Z._status===-1)&&(Z._status=2,Z._result=yt)}),Z._status===-1&&(Z._status=0,Z._result=dt)}if(Z._status===1)return Z._result.default;throw Z._result}var J=typeof reportError=="function"?reportError:function(Z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var dt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Z=="object"&&Z!==null&&typeof Z.message=="string"?String(Z.message):String(Z),error:Z});if(!window.dispatchEvent(dt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Z);return}console.error(Z)};function nt(){}return Yn.Children={map:G,forEach:function(Z,dt,yt){G(Z,function(){dt.apply(this,arguments)},yt)},count:function(Z){var dt=0;return G(Z,function(){dt++}),dt},toArray:function(Z){return G(Z,function(dt){return dt})||[]},only:function(Z){if(!U(Z))throw Error("React.Children.only expected to receive a single React element child.");return Z}},Yn.Component=E,Yn.Fragment=n,Yn.Profiler=s,Yn.PureComponent=A,Yn.StrictMode=r,Yn.Suspense=u,Yn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,Yn.__COMPILER_RUNTIME={__proto__:null,c:function(Z){return P.H.useMemoCache(Z)}},Yn.cache=function(Z){return function(){return Z.apply(null,arguments)}},Yn.cloneElement=function(Z,dt,yt){if(Z==null)throw Error("The argument must be a React element, but you passed "+Z+".");var xt=b({},Z.props),it=Z.key,ht=void 0;if(dt!=null)for(lt in dt.ref!==void 0&&(ht=void 0),dt.key!==void 0&&(it=""+dt.key),dt)!k.call(dt,lt)||lt==="key"||lt==="__self"||lt==="__source"||lt==="ref"&&dt.ref===void 0||(xt[lt]=dt[lt]);var lt=arguments.length-2;if(lt===1)xt.children=yt;else if(1<lt){for(var gt=Array(lt),Tt=0;Tt<lt;Tt++)gt[Tt]=arguments[Tt+2];xt.children=gt}return D(Z.type,it,void 0,void 0,ht,xt)},Yn.createContext=function(Z){return Z={$$typeof:o,_currentValue:Z,_currentValue2:Z,_threadCount:0,Provider:null,Consumer:null},Z.Provider=Z,Z.Consumer={$$typeof:a,_context:Z},Z},Yn.createElement=function(Z,dt,yt){var xt,it={},ht=null;if(dt!=null)for(xt in dt.key!==void 0&&(ht=""+dt.key),dt)k.call(dt,xt)&&xt!=="key"&&xt!=="__self"&&xt!=="__source"&&(it[xt]=dt[xt]);var lt=arguments.length-2;if(lt===1)it.children=yt;else if(1<lt){for(var gt=Array(lt),Tt=0;Tt<lt;Tt++)gt[Tt]=arguments[Tt+2];it.children=gt}if(Z&&Z.defaultProps)for(xt in lt=Z.defaultProps,lt)it[xt]===void 0&&(it[xt]=lt[xt]);return D(Z,ht,void 0,void 0,null,it)},Yn.createRef=function(){return{current:null}},Yn.forwardRef=function(Z){return{$$typeof:l,render:Z}},Yn.isValidElement=U,Yn.lazy=function(Z){return{$$typeof:h,_payload:{_status:-1,_result:Z},_init:X}},Yn.memo=function(Z,dt){return{$$typeof:c,type:Z,compare:dt===void 0?null:dt}},Yn.startTransition=function(Z){var dt=P.T,yt={};P.T=yt;try{var xt=Z(),it=P.S;it!==null&&it(yt,xt),typeof xt=="object"&&xt!==null&&typeof xt.then=="function"&&xt.then(nt,J)}catch(ht){J(ht)}finally{P.T=dt}},Yn.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},Yn.use=function(Z){return P.H.use(Z)},Yn.useActionState=function(Z,dt,yt){return P.H.useActionState(Z,dt,yt)},Yn.useCallback=function(Z,dt){return P.H.useCallback(Z,dt)},Yn.useContext=function(Z){return P.H.useContext(Z)},Yn.useDebugValue=function(){},Yn.useDeferredValue=function(Z,dt){return P.H.useDeferredValue(Z,dt)},Yn.useEffect=function(Z,dt,yt){var xt=P.H;if(typeof yt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return xt.useEffect(Z,dt)},Yn.useId=function(){return P.H.useId()},Yn.useImperativeHandle=function(Z,dt,yt){return P.H.useImperativeHandle(Z,dt,yt)},Yn.useInsertionEffect=function(Z,dt){return P.H.useInsertionEffect(Z,dt)},Yn.useLayoutEffect=function(Z,dt){return P.H.useLayoutEffect(Z,dt)},Yn.useMemo=function(Z,dt){return P.H.useMemo(Z,dt)},Yn.useOptimistic=function(Z,dt){return P.H.useOptimistic(Z,dt)},Yn.useReducer=function(Z,dt,yt){return P.H.useReducer(Z,dt,yt)},Yn.useRef=function(Z){return P.H.useRef(Z)},Yn.useState=function(Z){return P.H.useState(Z)},Yn.useSyncExternalStore=function(Z,dt,yt){return P.H.useSyncExternalStore(Z,dt,yt)},Yn.useTransition=function(){return P.H.useTransition()},Yn.version="19.1.0",Yn}var Vz;function lb(){return Vz||(Vz=1,vP.exports=$Q()),vP.exports}var Q=lb();const gn=hh(Q),s3=HQ({__proto__:null,default:gn},[Q]);var _P={exports:{}},Px={},bP={exports:{}},xP={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hz;function qQ(){return Hz||(Hz=1,function(i){function e(G,X){var J=G.length;G.push(X);t:for(;0<J;){var nt=J-1>>>1,Z=G[nt];if(0<s(Z,X))G[nt]=X,G[J]=Z,J=nt;else break t}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var X=G[0],J=G.pop();if(J!==X){G[0]=J;t:for(var nt=0,Z=G.length,dt=Z>>>1;nt<dt;){var yt=2*(nt+1)-1,xt=G[yt],it=yt+1,ht=G[it];if(0>s(xt,J))it<Z&&0>s(ht,xt)?(G[nt]=ht,G[it]=J,nt=it):(G[nt]=xt,G[yt]=J,nt=yt);else if(it<Z&&0>s(ht,J))G[nt]=ht,G[it]=J,nt=it;else break t}}return X}function s(G,X){var J=G.sortIndex-X.sortIndex;return J!==0?J:G.id-X.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;i.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();i.unstable_now=function(){return o.now()-l}}var u=[],c=[],h=1,p=null,g=3,v=!1,b=!1,S=!1,E=!1,x=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function M(G){for(var X=n(c);X!==null;){if(X.callback===null)r(c);else if(X.startTime<=G)r(c),X.sortIndex=X.expirationTime,e(u,X);else break;X=n(c)}}function P(G){if(S=!1,M(G),!b)if(n(u)!==null)b=!0,k||(k=!0,H());else{var X=n(c);X!==null&&et(P,X.startTime-G)}}var k=!1,D=-1,N=5,U=-1;function R(){return E?!0:!(i.unstable_now()-U<N)}function B(){if(E=!1,k){var G=i.unstable_now();U=G;var X=!0;try{t:{b=!1,S&&(S=!1,A(D),D=-1),v=!0;var J=g;try{e:{for(M(G),p=n(u);p!==null&&!(p.expirationTime>G&&R());){var nt=p.callback;if(typeof nt=="function"){p.callback=null,g=p.priorityLevel;var Z=nt(p.expirationTime<=G);if(G=i.unstable_now(),typeof Z=="function"){p.callback=Z,M(G),X=!0;break e}p===n(u)&&r(u),M(G)}else r(u);p=n(u)}if(p!==null)X=!0;else{var dt=n(c);dt!==null&&et(P,dt.startTime-G),X=!1}}break t}finally{p=null,g=J,v=!1}X=void 0}}finally{X?H():k=!1}}}var H;if(typeof C=="function")H=function(){C(B)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,Y=V.port2;V.port1.onmessage=B,H=function(){Y.postMessage(null)}}else H=function(){x(B,0)};function et(G,X){D=x(function(){G(i.unstable_now())},X)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(G){G.callback=null},i.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<G?Math.floor(1e3/G):5},i.unstable_getCurrentPriorityLevel=function(){return g},i.unstable_next=function(G){switch(g){case 1:case 2:case 3:var X=3;break;default:X=g}var J=g;g=X;try{return G()}finally{g=J}},i.unstable_requestPaint=function(){E=!0},i.unstable_runWithPriority=function(G,X){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var J=g;g=G;try{return X()}finally{g=J}},i.unstable_scheduleCallback=function(G,X,J){var nt=i.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?nt+J:nt):J=nt,G){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=J+Z,G={id:h++,callback:X,priorityLevel:G,startTime:J,expirationTime:Z,sortIndex:-1},J>nt?(G.sortIndex=J,e(c,G),n(u)===null&&G===n(c)&&(S?(A(D),D=-1):S=!0,et(P,J-nt))):(G.sortIndex=Z,e(u,G),b||v||(b=!0,k||(k=!0,H()))),G},i.unstable_shouldYield=R,i.unstable_wrapCallback=function(G){var X=g;return function(){var J=g;g=X;try{return G.apply(this,arguments)}finally{g=J}}}}(xP)),xP}var jz;function WQ(){return jz||(jz=1,bP.exports=qQ()),bP.exports}var SP={exports:{}},Ua={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gz;function XQ(){if(Gz)return Ua;Gz=1;var i=lb();function e(u){var c="https://react.dev/errors/"+u;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+u+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(u,c,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:p==null?null:""+p,children:u,containerInfo:c,implementation:h}}var o=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,c){if(u==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return Ua.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ua.createPortal=function(u,c){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(e(299));return a(u,c,null,h)},Ua.flushSync=function(u){var c=o.T,h=r.p;try{if(o.T=null,r.p=2,u)return u()}finally{o.T=c,r.p=h,r.d.f()}},Ua.preconnect=function(u,c){typeof u=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,r.d.C(u,c))},Ua.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},Ua.preinit=function(u,c){if(typeof u=="string"&&c&&typeof c.as=="string"){var h=c.as,p=l(h,c.crossOrigin),g=typeof c.integrity=="string"?c.integrity:void 0,v=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;h==="style"?r.d.S(u,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:p,integrity:g,fetchPriority:v}):h==="script"&&r.d.X(u,{crossOrigin:p,integrity:g,fetchPriority:v,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},Ua.preinitModule=function(u,c){if(typeof u=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var h=l(c.as,c.crossOrigin);r.d.M(u,{crossOrigin:h,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&r.d.M(u)},Ua.preload=function(u,c){if(typeof u=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var h=c.as,p=l(h,c.crossOrigin);r.d.L(u,h,{crossOrigin:p,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},Ua.preloadModule=function(u,c){if(typeof u=="string")if(c){var h=l(c.as,c.crossOrigin);r.d.m(u,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:h,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else r.d.m(u)},Ua.requestFormReset=function(u){r.d.r(u)},Ua.unstable_batchedUpdates=function(u,c){return u(c)},Ua.useFormState=function(u,c,h){return o.H.useFormState(u,c,h)},Ua.useFormStatus=function(){return o.H.useHostTransitionStatus()},Ua.version="19.1.0",Ua}var $z;function u7(){if($z)return SP.exports;$z=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),SP.exports=XQ(),SP.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qz;function YQ(){if(qz)return Px;qz=1;var i=WQ(),e=lb(),n=u7();function r(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)d+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(f){return!(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)}function a(f){var d=f,_=f;if(f.alternate)for(;d.return;)d=d.return;else{f=d;do d=f,(d.flags&4098)!==0&&(_=d.return),f=d.return;while(f)}return d.tag===3?_:null}function o(f){if(f.tag===13){var d=f.memoizedState;if(d===null&&(f=f.alternate,f!==null&&(d=f.memoizedState)),d!==null)return d.dehydrated}return null}function l(f){if(a(f)!==f)throw Error(r(188))}function u(f){var d=f.alternate;if(!d){if(d=a(f),d===null)throw Error(r(188));return d!==f?null:f}for(var _=f,T=d;;){var I=_.return;if(I===null)break;var z=I.alternate;if(z===null){if(T=I.return,T!==null){_=T;continue}break}if(I.child===z.child){for(z=I.child;z;){if(z===_)return l(I),f;if(z===T)return l(I),d;z=z.sibling}throw Error(r(188))}if(_.return!==T.return)_=I,T=z;else{for(var tt=!1,st=I.child;st;){if(st===_){tt=!0,_=I,T=z;break}if(st===T){tt=!0,T=I,_=z;break}st=st.sibling}if(!tt){for(st=z.child;st;){if(st===_){tt=!0,_=z,T=I;break}if(st===T){tt=!0,T=z,_=I;break}st=st.sibling}if(!tt)throw Error(r(189))}}if(_.alternate!==T)throw Error(r(190))}if(_.tag!==3)throw Error(r(188));return _.stateNode.current===_?f:d}function c(f){var d=f.tag;if(d===5||d===26||d===27||d===6)return f;for(f=f.child;f!==null;){if(d=c(f),d!==null)return d;f=f.sibling}return null}var h=Object.assign,p=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),A=Symbol.for("react.consumer"),C=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),R=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function H(f){return f===null||typeof f!="object"?null:(f=B&&f[B]||f["@@iterator"],typeof f=="function"?f:null)}var V=Symbol.for("react.client.reference");function Y(f){if(f==null)return null;if(typeof f=="function")return f.$$typeof===V?null:f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case b:return"Fragment";case E:return"Profiler";case S:return"StrictMode";case P:return"Suspense";case k:return"SuspenseList";case U:return"Activity"}if(typeof f=="object")switch(f.$$typeof){case v:return"Portal";case C:return(f.displayName||"Context")+".Provider";case A:return(f._context.displayName||"Context")+".Consumer";case M:var d=f.render;return f=f.displayName,f||(f=d.displayName||d.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case D:return d=f.displayName||null,d!==null?d:Y(f.type)||"Memo";case N:d=f._payload,f=f._init;try{return Y(f(d))}catch{}}return null}var et=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},nt=[],Z=-1;function dt(f){return{current:f}}function yt(f){0>Z||(f.current=nt[Z],nt[Z]=null,Z--)}function xt(f,d){Z++,nt[Z]=f.current,f.current=d}var it=dt(null),ht=dt(null),lt=dt(null),gt=dt(null);function Tt(f,d){switch(xt(lt,d),xt(ht,f),xt(it,null),d.nodeType){case 9:case 11:f=(f=d.documentElement)&&(f=f.namespaceURI)?hz(f):0;break;default:if(f=d.tagName,d=d.namespaceURI)d=hz(d),f=dz(d,f);else switch(f){case"svg":f=1;break;case"math":f=2;break;default:f=0}}yt(it),xt(it,f)}function Kt(){yt(it),yt(ht),yt(lt)}function Ut(f){f.memoizedState!==null&&xt(gt,f);var d=it.current,_=dz(d,f.type);d!==_&&(xt(ht,f),xt(it,_))}function te(f){ht.current===f&&(yt(it),yt(ht)),gt.current===f&&(yt(gt),Tx._currentValue=J)}var Pt=Object.prototype.hasOwnProperty,Bt=i.unstable_scheduleCallback,at=i.unstable_cancelCallback,ce=i.unstable_shouldYield,ee=i.unstable_requestPaint,ne=i.unstable_now,ie=i.unstable_getCurrentPriorityLevel,Me=i.unstable_ImmediatePriority,le=i.unstable_UserBlockingPriority,ut=i.unstable_NormalPriority,j=i.unstable_LowPriority,ct=i.unstable_IdlePriority,mt=i.log,Rt=i.unstable_setDisableYieldValue,_t=null,Ct=null;function Lt(f){if(typeof mt=="function"&&Rt(f),Ct&&typeof Ct.setStrictMode=="function")try{Ct.setStrictMode(_t,f)}catch{}}var Jt=Math.clz32?Math.clz32:_e,Le=Math.log,Ht=Math.LN2;function _e(f){return f>>>=0,f===0?32:31-(Le(f)/Ht|0)|0}var Re=256,Oe=4194304;function Zt(f){var d=f&42;if(d!==0)return d;switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return f&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return f}}function Ie(f,d,_){var T=f.pendingLanes;if(T===0)return 0;var I=0,z=f.suspendedLanes,tt=f.pingedLanes;f=f.warmLanes;var st=T&134217727;return st!==0?(T=st&~z,T!==0?I=Zt(T):(tt&=st,tt!==0?I=Zt(tt):_||(_=st&~f,_!==0&&(I=Zt(_))))):(st=T&~z,st!==0?I=Zt(st):tt!==0?I=Zt(tt):_||(_=T&~f,_!==0&&(I=Zt(_)))),I===0?0:d!==0&&d!==I&&(d&z)===0&&(z=I&-I,_=d&-d,z>=_||z===32&&(_&4194048)!==0)?d:I}function Ue(f,d){return(f.pendingLanes&~(f.suspendedLanes&~f.pingedLanes)&d)===0}function ln(f,d){switch(f){case 1:case 2:case 4:case 8:case 64:return d+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wt(){var f=Re;return Re<<=1,(Re&4194048)===0&&(Re=256),f}function Ce(){var f=Oe;return Oe<<=1,(Oe&62914560)===0&&(Oe=4194304),f}function Xt(f){for(var d=[],_=0;31>_;_++)d.push(f);return d}function se(f,d){f.pendingLanes|=d,d!==268435456&&(f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0)}function Pe(f,d,_,T,I,z){var tt=f.pendingLanes;f.pendingLanes=_,f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0,f.expiredLanes&=_,f.entangledLanes&=_,f.errorRecoveryDisabledLanes&=_,f.shellSuspendCounter=0;var st=f.entanglements,vt=f.expirationTimes,zt=f.hiddenUpdates;for(_=tt&~_;0<_;){var oe=31-Jt(_),fe=1<<oe;st[oe]=0,vt[oe]=-1;var Gt=zt[oe];if(Gt!==null)for(zt[oe]=null,oe=0;oe<Gt.length;oe++){var qt=Gt[oe];qt!==null&&(qt.lane&=-536870913)}_&=~fe}T!==0&&Se(f,T,0),z!==0&&I===0&&f.tag!==0&&(f.suspendedLanes|=z&~(tt&~d))}function Se(f,d,_){f.pendingLanes|=d,f.suspendedLanes&=~d;var T=31-Jt(d);f.entangledLanes|=d,f.entanglements[T]=f.entanglements[T]|1073741824|_&4194090}function cn(f,d){var _=f.entangledLanes|=d;for(f=f.entanglements;_;){var T=31-Jt(_),I=1<<T;I&d|f[T]&d&&(f[T]|=d),_&=~I}}function Qn(f){switch(f){case 2:f=1;break;case 8:f=4;break;case 32:f=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:f=128;break;case 268435456:f=134217728;break;default:f=0}return f}function je(f){return f&=-f,2<f?8<f?(f&134217727)!==0?32:268435456:8:2}function en(){var f=X.p;return f!==0?f:(f=window.event,f===void 0?32:Iz(f.type))}function Ee(f,d){var _=X.p;try{return X.p=f,d()}finally{X.p=_}}var ye=Math.random().toString(36).slice(2),Qe="__reactFiber$"+ye,Ye="__reactProps$"+ye,Mn="__reactContainer$"+ye,Hi="__reactEvents$"+ye,ra="__reactListeners$"+ye,lr="__reactHandles$"+ye,Wr="__reactResources$"+ye,Ds="__reactMarker$"+ye;function pi(f){delete f[Qe],delete f[Ye],delete f[Hi],delete f[ra],delete f[lr]}function Aa(f){var d=f[Qe];if(d)return d;for(var _=f.parentNode;_;){if(d=_[Mn]||_[Qe]){if(_=d.alternate,d.child!==null||_!==null&&_.child!==null)for(f=yz(f);f!==null;){if(_=f[Qe])return _;f=yz(f)}return d}f=_,_=f.parentNode}return null}function sa(f){if(f=f[Qe]||f[Mn]){var d=f.tag;if(d===5||d===6||d===13||d===26||d===27||d===3)return f}return null}function eo(f){var d=f.tag;if(d===5||d===26||d===27||d===6)return f.stateNode;throw Error(r(33))}function _s(f){var d=f[Wr];return d||(d=f[Wr]={hoistableStyles:new Map,hoistableScripts:new Map}),d}function hr(f){f[Ds]=!0}var Wu=new Set,iu={};function aa(f,d){rt(f,d),rt(f+"Capture",d)}function rt(f,d){for(iu[f]=d,f=0;f<d.length;f++)Wu.add(d[f])}var St=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ft={},jt={};function It(f){return Pt.call(jt,f)?!0:Pt.call(Ft,f)?!1:St.test(f)?jt[f]=!0:(Ft[f]=!0,!1)}function pe(f,d,_){if(It(d))if(_===null)f.removeAttribute(d);else{switch(typeof _){case"undefined":case"function":case"symbol":f.removeAttribute(d);return;case"boolean":var T=d.toLowerCase().slice(0,5);if(T!=="data-"&&T!=="aria-"){f.removeAttribute(d);return}}f.setAttribute(d,""+_)}}function Te(f,d,_){if(_===null)f.removeAttribute(d);else{switch(typeof _){case"undefined":case"function":case"symbol":case"boolean":f.removeAttribute(d);return}f.setAttribute(d,""+_)}}function we(f,d,_,T){if(T===null)f.removeAttribute(_);else{switch(typeof T){case"undefined":case"function":case"symbol":case"boolean":f.removeAttribute(_);return}f.setAttributeNS(d,_,""+T)}}var Fe,pn;function nn(f){if(Fe===void 0)try{throw Error()}catch(_){var d=_.stack.trim().match(/\n( *(at )?)/);Fe=d&&d[1]||"",pn=-1<_.stack.indexOf(`
    at`)?" (<anonymous>)":-1<_.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fe+f+pn}var We=!1;function Fn(f,d){if(!f||We)return"";We=!0;var _=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var T={DetermineComponentFrameRoot:function(){try{if(d){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(qt){var Gt=qt}Reflect.construct(f,[],fe)}else{try{fe.call()}catch(qt){Gt=qt}f.call(fe.prototype)}}else{try{throw Error()}catch(qt){Gt=qt}(fe=f())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(qt){if(qt&&Gt&&typeof qt.stack=="string")return[qt.stack,Gt.stack]}return[null,null]}};T.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var I=Object.getOwnPropertyDescriptor(T.DetermineComponentFrameRoot,"name");I&&I.configurable&&Object.defineProperty(T.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var z=T.DetermineComponentFrameRoot(),tt=z[0],st=z[1];if(tt&&st){var vt=tt.split(`
`),zt=st.split(`
`);for(I=T=0;T<vt.length&&!vt[T].includes("DetermineComponentFrameRoot");)T++;for(;I<zt.length&&!zt[I].includes("DetermineComponentFrameRoot");)I++;if(T===vt.length||I===zt.length)for(T=vt.length-1,I=zt.length-1;1<=T&&0<=I&&vt[T]!==zt[I];)I--;for(;1<=T&&0<=I;T--,I--)if(vt[T]!==zt[I]){if(T!==1||I!==1)do if(T--,I--,0>I||vt[T]!==zt[I]){var oe=`
`+vt[T].replace(" at new "," at ");return f.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",f.displayName)),oe}while(1<=T&&0<=I);break}}}finally{We=!1,Error.prepareStackTrace=_}return(_=f?f.displayName||f.name:"")?nn(_):""}function ti(f){switch(f.tag){case 26:case 27:case 5:return nn(f.type);case 16:return nn("Lazy");case 13:return nn("Suspense");case 19:return nn("SuspenseList");case 0:case 15:return Fn(f.type,!1);case 11:return Fn(f.type.render,!1);case 1:return Fn(f.type,!0);case 31:return nn("Activity");default:return""}}function Ui(f){try{var d="";do d+=ti(f),f=f.return;while(f);return d}catch(_){return`
Error generating stack: `+_.message+`
`+_.stack}}function jn(f){switch(typeof f){case"bigint":case"boolean":case"number":case"string":case"undefined":return f;case"object":return f;default:return""}}function Xn(f){var d=f.type;return(f=f.nodeName)&&f.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function rn(f){var d=Xn(f)?"checked":"value",_=Object.getOwnPropertyDescriptor(f.constructor.prototype,d),T=""+f[d];if(!f.hasOwnProperty(d)&&typeof _<"u"&&typeof _.get=="function"&&typeof _.set=="function"){var I=_.get,z=_.set;return Object.defineProperty(f,d,{configurable:!0,get:function(){return I.call(this)},set:function(tt){T=""+tt,z.call(this,tt)}}),Object.defineProperty(f,d,{enumerable:_.enumerable}),{getValue:function(){return T},setValue:function(tt){T=""+tt},stopTracking:function(){f._valueTracker=null,delete f[d]}}}}function er(f){f._valueTracker||(f._valueTracker=rn(f))}function ei(f){if(!f)return!1;var d=f._valueTracker;if(!d)return!0;var _=d.getValue(),T="";return f&&(T=Xn(f)?f.checked?"true":"false":f.value),f=T,f!==_?(d.setValue(f),!0):!1}function Xr(f){if(f=f||(typeof document<"u"?document:void 0),typeof f>"u")return null;try{return f.activeElement||f.body}catch{return f.body}}var Io=/[\n"\\]/g;function li(f){return f.replace(Io,function(d){return"\\"+d.charCodeAt(0).toString(16)+" "})}function Yr(f,d,_,T,I,z,tt,st){f.name="",tt!=null&&typeof tt!="function"&&typeof tt!="symbol"&&typeof tt!="boolean"?f.type=tt:f.removeAttribute("type"),d!=null?tt==="number"?(d===0&&f.value===""||f.value!=d)&&(f.value=""+jn(d)):f.value!==""+jn(d)&&(f.value=""+jn(d)):tt!=="submit"&&tt!=="reset"||f.removeAttribute("value"),d!=null?Sr(f,tt,jn(d)):_!=null?Sr(f,tt,jn(_)):T!=null&&f.removeAttribute("value"),I==null&&z!=null&&(f.defaultChecked=!!z),I!=null&&(f.checked=I&&typeof I!="function"&&typeof I!="symbol"),st!=null&&typeof st!="function"&&typeof st!="symbol"&&typeof st!="boolean"?f.name=""+jn(st):f.removeAttribute("name")}function mi(f,d,_,T,I,z,tt,st){if(z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"&&(f.type=z),d!=null||_!=null){if(!(z!=="submit"&&z!=="reset"||d!=null))return;_=_!=null?""+jn(_):"",d=d!=null?""+jn(d):_,st||d===f.value||(f.value=d),f.defaultValue=d}T=T??I,T=typeof T!="function"&&typeof T!="symbol"&&!!T,f.checked=st?f.checked:!!T,f.defaultChecked=!!T,tt!=null&&typeof tt!="function"&&typeof tt!="symbol"&&typeof tt!="boolean"&&(f.name=tt)}function Sr(f,d,_){d==="number"&&Xr(f.ownerDocument)===f||f.defaultValue===""+_||(f.defaultValue=""+_)}function dr(f,d,_,T){if(f=f.options,d){d={};for(var I=0;I<_.length;I++)d["$"+_[I]]=!0;for(_=0;_<f.length;_++)I=d.hasOwnProperty("$"+f[_].value),f[_].selected!==I&&(f[_].selected=I),I&&T&&(f[_].defaultSelected=!0)}else{for(_=""+jn(_),d=null,I=0;I<f.length;I++){if(f[I].value===_){f[I].selected=!0,T&&(f[I].defaultSelected=!0);return}d!==null||f[I].disabled||(d=f[I])}d!==null&&(d.selected=!0)}}function On(f,d,_){if(d!=null&&(d=""+jn(d),d!==f.value&&(f.value=d),_==null)){f.defaultValue!==d&&(f.defaultValue=d);return}f.defaultValue=_!=null?""+jn(_):""}function pr(f,d,_,T){if(d==null){if(T!=null){if(_!=null)throw Error(r(92));if(et(T)){if(1<T.length)throw Error(r(93));T=T[0]}_=T}_==null&&(_=""),d=_}_=jn(d),f.defaultValue=_,T=f.textContent,T===_&&T!==""&&T!==null&&(f.value=T)}function Ir(f,d){if(d){var _=f.firstChild;if(_&&_===f.lastChild&&_.nodeType===3){_.nodeValue=d;return}}f.textContent=d}var qs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gh(f,d,_){var T=d.indexOf("--")===0;_==null||typeof _=="boolean"||_===""?T?f.setProperty(d,""):d==="float"?f.cssFloat="":f[d]="":T?f.setProperty(d,_):typeof _!="number"||_===0||qs.has(d)?d==="float"?f.cssFloat=_:f[d]=(""+_).trim():f[d]=_+"px"}function Gc(f,d,_){if(d!=null&&typeof d!="object")throw Error(r(62));if(f=f.style,_!=null){for(var T in _)!_.hasOwnProperty(T)||d!=null&&d.hasOwnProperty(T)||(T.indexOf("--")===0?f.setProperty(T,""):T==="float"?f.cssFloat="":f[T]="");for(var I in d)T=d[I],d.hasOwnProperty(I)&&_[I]!==T&&gh(f,I,T)}else for(var z in d)d.hasOwnProperty(z)&&gh(f,z,d[z])}function $d(f){if(f.indexOf("-")===-1)return!1;switch(f){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),g0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yh(f){return g0.test(""+f)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":f}var ru=null;function no(f){return f=f.target||f.srcElement||window,f.correspondingUseElement&&(f=f.correspondingUseElement),f.nodeType===3?f.parentNode:f}var Tl=null,su=null;function qd(f){var d=sa(f);if(d&&(f=d.stateNode)){var _=f[Ye]||null;t:switch(f=d.stateNode,d.type){case"input":if(Yr(f,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name),d=_.name,_.type==="radio"&&d!=null){for(_=f;_.parentNode;)_=_.parentNode;for(_=_.querySelectorAll('input[name="'+li(""+d)+'"][type="radio"]'),d=0;d<_.length;d++){var T=_[d];if(T!==f&&T.form===f.form){var I=T[Ye]||null;if(!I)throw Error(r(90));Yr(T,I.value,I.defaultValue,I.defaultValue,I.checked,I.defaultChecked,I.type,I.name)}}for(d=0;d<_.length;d++)T=_[d],T.form===f.form&&ei(T)}break t;case"textarea":On(f,_.value,_.defaultValue);break t;case"select":d=_.value,d!=null&&dr(f,!!_.multiple,d,!1)}}}var Do=!1;function Gm(f,d,_){if(Do)return f(d,_);Do=!0;try{var T=f(d);return T}finally{if(Do=!1,(Tl!==null||su!==null)&&(xu(),Tl&&(d=Tl,f=su,su=Tl=null,qd(d),f)))for(d=0;d<f.length;d++)qd(f[d])}}function $c(f,d){var _=f.stateNode;if(_===null)return null;var T=_[Ye]||null;if(T===null)return null;_=T[d];t:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(T=!T.disabled)||(f=f.type,T=!(f==="button"||f==="input"||f==="select"||f==="textarea")),f=!T;break t;default:f=!1}if(f)return null;if(_&&typeof _!="function")throw Error(r(231,d,typeof _));return _}var No=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ma=!1;if(No)try{var qc={};Object.defineProperty(qc,"passive",{get:function(){Ma=!0}}),window.addEventListener("test",qc,qc),window.removeEventListener("test",qc,qc)}catch{Ma=!1}var wl=null,Wc=null,Xu=null;function Wd(){if(Xu)return Xu;var f,d=Wc,_=d.length,T,I="value"in wl?wl.value:wl.textContent,z=I.length;for(f=0;f<_&&d[f]===I[f];f++);var tt=_-f;for(T=1;T<=tt&&d[_-T]===I[z-T];T++);return Xu=I.slice(f,1<T?1-T:void 0)}function Ca(f){var d=f.keyCode;return"charCode"in f?(f=f.charCode,f===0&&d===13&&(f=13)):f=d,f===10&&(f=13),32<=f||f===13?f:0}function Lo(){return!0}function Xc(){return!1}function os(f){function d(_,T,I,z,tt){this._reactName=_,this._targetInst=I,this.type=T,this.nativeEvent=z,this.target=tt,this.currentTarget=null;for(var st in f)f.hasOwnProperty(st)&&(_=f[st],this[st]=_?_(z):z[st]);return this.isDefaultPrevented=(z.defaultPrevented!=null?z.defaultPrevented:z.returnValue===!1)?Lo:Xc,this.isPropagationStopped=Xc,this}return h(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var _=this.nativeEvent;_&&(_.preventDefault?_.preventDefault():typeof _.returnValue!="unknown"&&(_.returnValue=!1),this.isDefaultPrevented=Lo)},stopPropagation:function(){var _=this.nativeEvent;_&&(_.stopPropagation?_.stopPropagation():typeof _.cancelBubble!="unknown"&&(_.cancelBubble=!0),this.isPropagationStopped=Lo)},persist:function(){},isPersistent:Lo}),d}var Ti={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(f){return f.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yc=os(Ti),Kc=h({},Ti,{view:0,detail:0}),$m=os(Kc),Uo,Yu,Al,Ku=h({},Kc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zu,button:0,buttons:0,relatedTarget:function(f){return f.relatedTarget===void 0?f.fromElement===f.srcElement?f.toElement:f.fromElement:f.relatedTarget},movementX:function(f){return"movementX"in f?f.movementX:(f!==Al&&(Al&&f.type==="mousemove"?(Uo=f.screenX-Al.screenX,Yu=f.screenY-Al.screenY):Yu=Uo=0,Al=f),Uo)},movementY:function(f){return"movementY"in f?f.movementY:Yu}}),io=os(Ku),qm=h({},Ku,{dataTransfer:0}),Rb=os(qm),mr=h({},Kc,{relatedTarget:0}),vh=os(mr),Xd=h({},Ti,{animationName:0,elapsedTime:0,pseudoElement:0}),_h=os(Xd),Wm=h({},Ti,{clipboardData:function(f){return"clipboardData"in f?f.clipboardData:window.clipboardData}}),bh=os(Wm),xh=h({},Ti,{data:0}),Sh=os(xh),Zc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ym={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Eh(f){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(f):(f=Ym[f])?!!d[f]:!1}function Zu(){return Eh}var Km=h({},Kc,{key:function(f){if(f.key){var d=Zc[f.key]||f.key;if(d!=="Unidentified")return d}return f.type==="keypress"?(f=Ca(f),f===13?"Enter":String.fromCharCode(f)):f.type==="keydown"||f.type==="keyup"?Xm[f.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zu,charCode:function(f){return f.type==="keypress"?Ca(f):0},keyCode:function(f){return f.type==="keydown"||f.type==="keyup"?f.keyCode:0},which:function(f){return f.type==="keypress"?Ca(f):f.type==="keydown"||f.type==="keyup"?f.keyCode:0}}),Qc=os(Km),Yd=h({},Ku,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Th=os(Yd),au=h({},Kc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zu}),Kd=os(au),Zm=h({},Ti,{propertyName:0,elapsedTime:0,pseudoElement:0}),ko=os(Zm),Zd=h({},Ku,{deltaX:function(f){return"deltaX"in f?f.deltaX:"wheelDeltaX"in f?-f.wheelDeltaX:0},deltaY:function(f){return"deltaY"in f?f.deltaY:"wheelDeltaY"in f?-f.wheelDeltaY:"wheelDelta"in f?-f.wheelDelta:0},deltaZ:0,deltaMode:0}),Qd=os(Zd),Ws=h({},Ti,{newState:0,oldState:0}),Ml=os(Ws),zo=[9,13,27,32],Bo=No&&"CompositionEvent"in window,O=null;No&&"documentMode"in document&&(O=document.documentMode);var $=No&&"TextEvent"in window&&!O,K=No&&(!Bo||O&&8<O&&11>=O),ft=" ",Ot=!1;function Yt(f,d){switch(f){case"keyup":return zo.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ae(f){return f=f.detail,typeof f=="object"&&"data"in f?f.data:null}var ri=!1;function gr(f,d){switch(f){case"compositionend":return Ae(d);case"keypress":return d.which!==32?null:(Ot=!0,ft);case"textInput":return f=d.data,f===ft&&Ot?null:f;default:return null}}function si(f,d){if(ri)return f==="compositionend"||!Bo&&Yt(f,d)?(f=Wd(),Xu=Wc=wl=null,ri=!1,f):null;switch(f){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return K&&d.locale!=="ko"?null:d.data;default:return null}}var Dr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kr(f){var d=f&&f.nodeName&&f.nodeName.toLowerCase();return d==="input"?!!Dr[f.type]:d==="textarea"}function Nr(f,d,_,T){Tl?su?su.push(T):su=[T]:Tl=T,d=KT(d,"onChange"),0<d.length&&(_=new Yc("onChange","change",null,_,T),f.push({event:_,listeners:d}))}var bs=null,Fo=null;function Jd(f){oz(f,0)}function Qm(f){var d=eo(f);if(ei(d))return f}function y0(f,d){if(f==="change")return d}var v0=!1;if(No){var _0;if(No){var tp="oninput"in document;if(!tp){var ep=document.createElement("div");ep.setAttribute("oninput","return;"),tp=typeof ep.oninput=="function"}_0=tp}else _0=!1;v0=_0&&(!document.documentMode||9<document.documentMode)}function ur(){bs&&(bs.detachEvent("onpropertychange",JE),Fo=bs=null)}function JE(f){if(f.propertyName==="value"&&Qm(Fo)){var d=[];Nr(d,Fo,f,no(f)),Gm(Jd,d)}}function kO(f,d,_){f==="focusin"?(ur(),bs=d,Fo=_,bs.attachEvent("onpropertychange",JE)):f==="focusout"&&ur()}function tT(f){if(f==="selectionchange"||f==="keyup"||f==="keydown")return Qm(Fo)}function Jm(f,d){if(f==="click")return Qm(d)}function Jc(f,d){if(f==="input"||f==="change")return Qm(d)}function eT(f,d){return f===d&&(f!==0||1/f===1/d)||f!==f&&d!==d}var Ra=typeof Object.is=="function"?Object.is:eT;function Cl(f,d){if(Ra(f,d))return!0;if(typeof f!="object"||f===null||typeof d!="object"||d===null)return!1;var _=Object.keys(f),T=Object.keys(d);if(_.length!==T.length)return!1;for(T=0;T<_.length;T++){var I=_[T];if(!Pt.call(d,I)||!Ra(f[I],d[I]))return!1}return!0}function Oa(f){for(;f&&f.firstChild;)f=f.firstChild;return f}function Ob(f,d){var _=Oa(f);f=0;for(var T;_;){if(_.nodeType===3){if(T=f+_.textContent.length,f<=d&&T>=d)return{node:_,offset:d-f};f=T}t:{for(;_;){if(_.nextSibling){_=_.nextSibling;break t}_=_.parentNode}_=void 0}_=Oa(_)}}function Pb(f,d){return f&&d?f===d?!0:f&&f.nodeType===3?!1:d&&d.nodeType===3?Pb(f,d.parentNode):"contains"in f?f.contains(d):f.compareDocumentPosition?!!(f.compareDocumentPosition(d)&16):!1:!1}function Ib(f){f=f!=null&&f.ownerDocument!=null&&f.ownerDocument.defaultView!=null?f.ownerDocument.defaultView:window;for(var d=Xr(f.document);d instanceof f.HTMLIFrameElement;){try{var _=typeof d.contentWindow.location.href=="string"}catch{_=!1}if(_)f=d.contentWindow;else break;d=Xr(f.document)}return d}function tg(f){var d=f&&f.nodeName&&f.nodeName.toLowerCase();return d&&(d==="input"&&(f.type==="text"||f.type==="search"||f.type==="tel"||f.type==="url"||f.type==="password")||d==="textarea"||f.contentEditable==="true")}var Db=No&&"documentMode"in document&&11>=document.documentMode,Qu=null,b0=null,eg=null,x0=!1;function Nb(f,d,_){var T=_.window===_?_.document:_.nodeType===9?_:_.ownerDocument;x0||Qu==null||Qu!==Xr(T)||(T=Qu,"selectionStart"in T&&tg(T)?T={start:T.selectionStart,end:T.selectionEnd}:(T=(T.ownerDocument&&T.ownerDocument.defaultView||window).getSelection(),T={anchorNode:T.anchorNode,anchorOffset:T.anchorOffset,focusNode:T.focusNode,focusOffset:T.focusOffset}),eg&&Cl(eg,T)||(eg=T,T=KT(b0,"onSelect"),0<T.length&&(d=new Yc("onSelect","select",null,d,_),f.push({event:d,listeners:T}),d.target=Qu)))}function Ns(f,d){var _={};return _[f.toLowerCase()]=d.toLowerCase(),_["Webkit"+f]="webkit"+d,_["Moz"+f]="moz"+d,_}var tf={animationend:Ns("Animation","AnimationEnd"),animationiteration:Ns("Animation","AnimationIteration"),animationstart:Ns("Animation","AnimationStart"),transitionrun:Ns("Transition","TransitionRun"),transitionstart:Ns("Transition","TransitionStart"),transitioncancel:Ns("Transition","TransitionCancel"),transitionend:Ns("Transition","TransitionEnd")},S0={},nT={};No&&(nT=document.createElement("div").style,"AnimationEvent"in window||(delete tf.animationend.animation,delete tf.animationiteration.animation,delete tf.animationstart.animation),"TransitionEvent"in window||delete tf.transitionend.transition);function Ju(f){if(S0[f])return S0[f];if(!tf[f])return f;var d=tf[f],_;for(_ in d)if(d.hasOwnProperty(_)&&_ in nT)return S0[f]=d[_];return f}var oa=Ju("animationend"),Lb=Ju("animationiteration"),Pa=Ju("animationstart"),iT=Ju("transitionrun"),tc=Ju("transitionstart"),np=Ju("transitioncancel"),ec=Ju("transitionend"),E0=new Map,ng="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ng.push("scrollEnd");function xs(f,d){E0.set(f,d),aa(d,[f])}var Ub=new WeakMap;function Ls(f,d){if(typeof f=="object"&&f!==null){var _=Ub.get(f);return _!==void 0?_:(d={value:f,source:d,stack:Ui(d)},Ub.set(f,d),d)}return{value:f,source:d,stack:Ui(d)}}var Xs=[],Vo=0,T0=0;function ig(){for(var f=Vo,d=T0=Vo=0;d<f;){var _=Xs[d];Xs[d++]=null;var T=Xs[d];Xs[d++]=null;var I=Xs[d];Xs[d++]=null;var z=Xs[d];if(Xs[d++]=null,T!==null&&I!==null){var tt=T.pending;tt===null?I.next=I:(I.next=tt.next,tt.next=I),T.pending=I}z!==0&&kb(_,I,z)}}function ef(f,d,_,T){Xs[Vo++]=f,Xs[Vo++]=d,Xs[Vo++]=_,Xs[Vo++]=T,T0|=T,f.lanes|=T,f=f.alternate,f!==null&&(f.lanes|=T)}function w0(f,d,_,T){return ef(f,d,_,T),ip(f)}function nc(f,d){return ef(f,null,null,d),ip(f)}function kb(f,d,_){f.lanes|=_;var T=f.alternate;T!==null&&(T.lanes|=_);for(var I=!1,z=f.return;z!==null;)z.childLanes|=_,T=z.alternate,T!==null&&(T.childLanes|=_),z.tag===22&&(f=z.stateNode,f===null||f._visibility&1||(I=!0)),f=z,z=z.return;return f.tag===3?(z=f.stateNode,I&&d!==null&&(I=31-Jt(_),f=z.hiddenUpdates,T=f[I],T===null?f[I]=[d]:T.push(d),d.lane=_|536870912),z):null}function ip(f){if(50<bu)throw bu=0,Hh=null,Error(r(185));for(var d=f.return;d!==null;)f=d,d=f.return;return f.tag===3?f.stateNode:null}var nf={};function zb(f,d,_,T){this.tag=f,this.key=_,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=T,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ia(f,d,_,T){return new zb(f,d,_,T)}function rg(f){return f=f.prototype,!(!f||!f.isReactComponent)}function Lr(f,d){var _=f.alternate;return _===null?(_=Ia(f.tag,d,f.key,f.mode),_.elementType=f.elementType,_.type=f.type,_.stateNode=f.stateNode,_.alternate=f,f.alternate=_):(_.pendingProps=d,_.type=f.type,_.flags=0,_.subtreeFlags=0,_.deletions=null),_.flags=f.flags&65011712,_.childLanes=f.childLanes,_.lanes=f.lanes,_.child=f.child,_.memoizedProps=f.memoizedProps,_.memoizedState=f.memoizedState,_.updateQueue=f.updateQueue,d=f.dependencies,_.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},_.sibling=f.sibling,_.index=f.index,_.ref=f.ref,_.refCleanup=f.refCleanup,_}function Bb(f,d){f.flags&=65011714;var _=f.alternate;return _===null?(f.childLanes=0,f.lanes=d,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=_.childLanes,f.lanes=_.lanes,f.child=_.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=_.memoizedProps,f.memoizedState=_.memoizedState,f.updateQueue=_.updateQueue,f.type=_.type,d=_.dependencies,f.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),f}function Ss(f,d,_,T,I,z){var tt=0;if(T=f,typeof f=="function")rg(f)&&(tt=1);else if(typeof f=="string")tt=MQ(f,_,it.current)?26:f==="html"||f==="head"||f==="body"?27:5;else t:switch(f){case U:return f=Ia(31,_,d,I),f.elementType=U,f.lanes=z,f;case b:return rf(_.children,I,z,d);case S:tt=8,I|=24;break;case E:return f=Ia(12,_,d,I|2),f.elementType=E,f.lanes=z,f;case P:return f=Ia(13,_,d,I),f.elementType=P,f.lanes=z,f;case k:return f=Ia(19,_,d,I),f.elementType=k,f.lanes=z,f;default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case x:case C:tt=10;break t;case A:tt=9;break t;case M:tt=11;break t;case D:tt=14;break t;case N:tt=16,T=null;break t}tt=29,_=Error(r(130,f===null?"null":typeof f,"")),T=null}return d=Ia(tt,_,d,I),d.elementType=f,d.type=T,d.lanes=z,d}function rf(f,d,_,T){return f=Ia(7,f,T,d),f.lanes=_,f}function sg(f,d,_){return f=Ia(6,f,null,d),f.lanes=_,f}function A0(f,d,_){return d=Ia(4,f.children!==null?f.children:[],f.key,d),d.lanes=_,d.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},d}var rp=[],Da=0,ag=null,sp=0,Us=[],ro=0,sf=null,ou=1,lu="";function ic(f,d){rp[Da++]=sp,rp[Da++]=ag,ag=f,sp=d}function M0(f,d,_){Us[ro++]=ou,Us[ro++]=lu,Us[ro++]=sf,sf=f;var T=ou;f=lu;var I=32-Jt(T)-1;T&=~(1<<I),_+=1;var z=32-Jt(d)+I;if(30<z){var tt=I-I%5;z=(T&(1<<tt)-1).toString(32),T>>=tt,I-=tt,ou=1<<32-Jt(d)+I|_<<I|T,lu=z+f}else ou=1<<z|_<<I|T,lu=f}function Fb(f){f.return!==null&&(ic(f,1),M0(f,1,0))}function Vb(f){for(;f===ag;)ag=rp[--Da],rp[Da]=null,sp=rp[--Da],rp[Da]=null;for(;f===sf;)sf=Us[--ro],Us[ro]=null,lu=Us[--ro],Us[ro]=null,ou=Us[--ro],Us[ro]=null}var la=null,yr=null,bi=!1,Ho=null,so=!1,C0=Error(r(519));function af(f){var d=Error(r(418,""));throw wh(Ls(d,f)),C0}function rT(f){var d=f.stateNode,_=f.type,T=f.memoizedProps;switch(d[Qe]=f,d[Ye]=T,_){case"dialog":ui("cancel",d),ui("close",d);break;case"iframe":case"object":case"embed":ui("load",d);break;case"video":case"audio":for(_=0;_<vx.length;_++)ui(vx[_],d);break;case"source":ui("error",d);break;case"img":case"image":case"link":ui("error",d),ui("load",d);break;case"details":ui("toggle",d);break;case"input":ui("invalid",d),mi(d,T.value,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name,!0),er(d);break;case"select":ui("invalid",d);break;case"textarea":ui("invalid",d),pr(d,T.value,T.defaultValue,T.children),er(d)}_=T.children,typeof _!="string"&&typeof _!="number"&&typeof _!="bigint"||d.textContent===""+_||T.suppressHydrationWarning===!0||fz(d.textContent,_)?(T.popover!=null&&(ui("beforetoggle",d),ui("toggle",d)),T.onScroll!=null&&ui("scroll",d),T.onScrollEnd!=null&&ui("scrollend",d),T.onClick!=null&&(d.onclick=ZT),d=!0):d=!1,d||af(f)}function Hb(f){for(la=f.return;la;)switch(la.tag){case 5:case 13:so=!1;return;case 27:case 3:so=!0;return;default:la=la.return}}function Rl(f){if(f!==la)return!1;if(!bi)return Hb(f),bi=!0,!1;var d=f.tag,_;if((_=d!==3&&d!==27)&&((_=d===5)&&(_=f.type,_=!(_!=="form"&&_!=="button")||iP(f.type,f.memoizedProps)),_=!_),_&&yr&&af(f),Hb(f),d===13){if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));t:{for(f=f.nextSibling,d=0;f;){if(f.nodeType===8)if(_=f.data,_==="/$"){if(d===0){yr=yc(f.nextSibling);break t}d--}else _!=="$"&&_!=="$!"&&_!=="$?"||d++;f=f.nextSibling}yr=null}}else d===27?(d=yr,Op(f.type)?(f=oP,oP=null,yr=f):yr=d):yr=la?yc(f.stateNode.nextSibling):null;return!0}function ap(){yr=la=null,bi=!1}function Mi(){var f=Ho;return f!==null&&(yn===null?yn=f:yn.push.apply(yn,f),Ho=null),f}function wh(f){Ho===null?Ho=[f]:Ho.push(f)}var jb=dt(null),of=null,rc=null;function lf(f,d,_){xt(jb,d._currentValue),d._currentValue=_}function sc(f){f._currentValue=jb.current,yt(jb)}function Gb(f,d,_){for(;f!==null;){var T=f.alternate;if((f.childLanes&d)!==d?(f.childLanes|=d,T!==null&&(T.childLanes|=d)):T!==null&&(T.childLanes&d)!==d&&(T.childLanes|=d),f===_)break;f=f.return}}function og(f,d,_,T){var I=f.child;for(I!==null&&(I.return=f);I!==null;){var z=I.dependencies;if(z!==null){var tt=I.child;z=z.firstContext;t:for(;z!==null;){var st=z;z=I;for(var vt=0;vt<d.length;vt++)if(st.context===d[vt]){z.lanes|=_,st=z.alternate,st!==null&&(st.lanes|=_),Gb(z.return,_,f),T||(tt=null);break t}z=st.next}}else if(I.tag===18){if(tt=I.return,tt===null)throw Error(r(341));tt.lanes|=_,z=tt.alternate,z!==null&&(z.lanes|=_),Gb(tt,_,f),tt=null}else tt=I.child;if(tt!==null)tt.return=I;else for(tt=I;tt!==null;){if(tt===f){tt=null;break}if(I=tt.sibling,I!==null){I.return=tt.return,tt=I;break}tt=tt.return}I=tt}}function jo(f,d,_,T){f=null;for(var I=d,z=!1;I!==null;){if(!z){if((I.flags&524288)!==0)z=!0;else if((I.flags&262144)!==0)break}if(I.tag===10){var tt=I.alternate;if(tt===null)throw Error(r(387));if(tt=tt.memoizedProps,tt!==null){var st=I.type;Ra(I.pendingProps.value,tt.value)||(f!==null?f.push(st):f=[st])}}else if(I===gt.current){if(tt=I.alternate,tt===null)throw Error(r(387));tt.memoizedState.memoizedState!==I.memoizedState.memoizedState&&(f!==null?f.push(Tx):f=[Tx])}I=I.return}f!==null&&og(d,f,_,T),d.flags|=262144}function lg(f){for(f=f.firstContext;f!==null;){if(!Ra(f.context._currentValue,f.memoizedValue))return!0;f=f.next}return!1}function uu(f){of=f,rc=null,f=f.dependencies,f!==null&&(f.firstContext=null)}function Er(f){return R0(of,f)}function ug(f,d){return of===null&&uu(f),R0(f,d)}function R0(f,d){var _=d._currentValue;if(d={context:d,memoizedValue:_,next:null},rc===null){if(f===null)throw Error(r(308));rc=d,f.dependencies={lanes:0,firstContext:d},f.flags|=524288}else rc=rc.next=d;return _}var $b=typeof AbortController<"u"?AbortController:function(){var f=[],d=this.signal={aborted:!1,addEventListener:function(_,T){f.push(T)}};this.abort=function(){d.aborted=!0,f.forEach(function(_){return _()})}},zO=i.unstable_scheduleCallback,sT=i.unstable_NormalPriority,Zr={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function O0(){return{controller:new $b,data:new Map,refCount:0}}function op(f){f.refCount--,f.refCount===0&&zO(sT,function(){f.controller.abort()})}var lp=null,cg=0,Ln=0,up=null;function ao(f,d){if(lp===null){var _=lp=[];cg=0,Ln=XO(),up={status:"pending",value:void 0,then:function(T){_.push(T)}}}return cg++,d.then(P0,P0),d}function P0(){if(--cg===0&&lp!==null){up!==null&&(up.status="fulfilled");var f=lp;lp=null,Ln=0,up=null;for(var d=0;d<f.length;d++)(0,f[d])()}}function BO(f,d){var _=[],T={status:"pending",value:null,reason:null,then:function(I){_.push(I)}};return f.then(function(){T.status="fulfilled",T.value=d;for(var I=0;I<_.length;I++)(0,_[I])(d)},function(I){for(T.status="rejected",T.reason=I,I=0;I<_.length;I++)(0,_[I])(void 0)}),T}var fg=G.S;G.S=function(f,d){typeof d=="object"&&d!==null&&typeof d.then=="function"&&ao(f,d),fg!==null&&fg(f,d)};var Go=dt(null);function uf(){var f=Go.current;return f!==null?f:In.pooledCache}function hg(f,d){d===null?xt(Go,Go.current):xt(Go,d.pool)}function I0(){var f=uf();return f===null?null:{parent:Zr._currentValue,pool:f}}var dg=Error(r(460)),qb=Error(r(474)),Ol=Error(r(542)),pg={then:function(){}};function D0(f){return f=f.status,f==="fulfilled"||f==="rejected"}function cp(){}function N0(f,d,_){switch(_=f[_],_===void 0?f.push(d):_!==d&&(d.then(cp,cp),d=_),d.status){case"fulfilled":return d.value;case"rejected":throw f=d.reason,aT(f),f;default:if(typeof d.status=="string")d.then(cp,cp);else{if(f=In,f!==null&&100<f.shellSuspendCounter)throw Error(r(482));f=d,f.status="pending",f.then(function(T){if(d.status==="pending"){var I=d;I.status="fulfilled",I.value=T}},function(T){if(d.status==="pending"){var I=d;I.status="rejected",I.reason=T}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw f=d.reason,aT(f),f}throw $o=d,dg}}var $o=null;function Wb(){if($o===null)throw Error(r(459));var f=$o;return $o=null,f}function aT(f){if(f===dg||f===Ol)throw Error(r(483))}var ac=!1;function Xb(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function En(f,d){f=f.updateQueue,d.updateQueue===f&&(d.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,callbacks:null})}function cu(f){return{lane:f,tag:0,payload:null,callback:null,next:null}}function oc(f,d,_){var T=f.updateQueue;if(T===null)return null;if(T=T.shared,(Ci&2)!==0){var I=T.pending;return I===null?d.next=d:(d.next=I.next,I.next=d),T.pending=d,d=ip(f),kb(f,null,_),d}return ef(f,T,d,_),ip(f)}function Ah(f,d,_){if(d=d.updateQueue,d!==null&&(d=d.shared,(_&4194048)!==0)){var T=d.lanes;T&=f.pendingLanes,_|=T,d.lanes=_,cn(f,_)}}function fp(f,d){var _=f.updateQueue,T=f.alternate;if(T!==null&&(T=T.updateQueue,_===T)){var I=null,z=null;if(_=_.firstBaseUpdate,_!==null){do{var tt={lane:_.lane,tag:_.tag,payload:_.payload,callback:null,next:null};z===null?I=z=tt:z=z.next=tt,_=_.next}while(_!==null);z===null?I=z=d:z=z.next=d}else I=z=d;_={baseState:T.baseState,firstBaseUpdate:I,lastBaseUpdate:z,shared:T.shared,callbacks:T.callbacks},f.updateQueue=_;return}f=_.lastBaseUpdate,f===null?_.firstBaseUpdate=d:f.next=d,_.lastBaseUpdate=d}var Yb=!1;function mg(){if(Yb){var f=up;if(f!==null)throw f}}function hp(f,d,_,T){Yb=!1;var I=f.updateQueue;ac=!1;var z=I.firstBaseUpdate,tt=I.lastBaseUpdate,st=I.shared.pending;if(st!==null){I.shared.pending=null;var vt=st,zt=vt.next;vt.next=null,tt===null?z=zt:tt.next=zt,tt=vt;var oe=f.alternate;oe!==null&&(oe=oe.updateQueue,st=oe.lastBaseUpdate,st!==tt&&(st===null?oe.firstBaseUpdate=zt:st.next=zt,oe.lastBaseUpdate=vt))}if(z!==null){var fe=I.baseState;tt=0,oe=zt=vt=null,st=z;do{var Gt=st.lane&-536870913,qt=Gt!==st.lane;if(qt?(un&Gt)===Gt:(T&Gt)===Gt){Gt!==0&&Gt===Ln&&(Yb=!0),oe!==null&&(oe=oe.next={lane:0,tag:st.tag,payload:st.payload,callback:null,next:null});t:{var An=f,vn=st;Gt=d;var Ji=_;switch(vn.tag){case 1:if(An=vn.payload,typeof An=="function"){fe=An.call(Ji,fe,Gt);break t}fe=An;break t;case 3:An.flags=An.flags&-65537|128;case 0:if(An=vn.payload,Gt=typeof An=="function"?An.call(Ji,fe,Gt):An,Gt==null)break t;fe=h({},fe,Gt);break t;case 2:ac=!0}}Gt=st.callback,Gt!==null&&(f.flags|=64,qt&&(f.flags|=8192),qt=I.callbacks,qt===null?I.callbacks=[Gt]:qt.push(Gt))}else qt={lane:Gt,tag:st.tag,payload:st.payload,callback:st.callback,next:null},oe===null?(zt=oe=qt,vt=fe):oe=oe.next=qt,tt|=Gt;if(st=st.next,st===null){if(st=I.shared.pending,st===null)break;qt=st,st=qt.next,qt.next=null,I.lastBaseUpdate=qt,I.shared.pending=null}}while(!0);oe===null&&(vt=fe),I.baseState=vt,I.firstBaseUpdate=zt,I.lastBaseUpdate=oe,z===null&&(I.shared.lanes=0),zl|=tt,f.lanes=tt,f.memoizedState=fe}}function dp(f,d){if(typeof f!="function")throw Error(r(191,f));f.call(d)}function oT(f,d){var _=f.callbacks;if(_!==null)for(f.callbacks=null,f=0;f<_.length;f++)dp(_[f],d)}var pp=dt(null),L0=dt(0);function lT(f,d){f=Zo,xt(L0,f),xt(pp,d),Zo=f|d.baseLanes}function Kb(){xt(L0,Zo),xt(pp,pp.current)}function gg(){Zo=L0.current,yt(pp),yt(L0)}var lc=0,Un=null,Ii=null,Qr=null,U0=!1,cf=!1,ua=!1,ls=0,qo=0,ks=null,uT=0;function Ur(){throw Error(r(321))}function Ys(f,d){if(d===null)return!1;for(var _=0;_<d.length&&_<f.length;_++)if(!Ra(f[_],d[_]))return!1;return!0}function uc(f,d,_,T,I,z){return lc=z,Un=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,G.H=f===null||f.memoizedState===null?$0:hx,ua=!1,z=_(T,I),ua=!1,cf&&(z=fT(d,_,T,I)),cT(f),z}function cT(f){G.H=_g;var d=Ii!==null&&Ii.next!==null;if(lc=0,Qr=Ii=Un=null,U0=!1,qo=0,ks=null,d)throw Error(r(300));f===null||Es||(f=f.dependencies,f!==null&&lg(f)&&(Es=!0))}function fT(f,d,_,T){Un=f;var I=0;do{if(cf&&(ks=null),qo=0,cf=!1,25<=I)throw Error(r(301));if(I+=1,Qr=Ii=null,f.updateQueue!=null){var z=f.updateQueue;z.lastEffect=null,z.events=null,z.stores=null,z.memoCache!=null&&(z.memoCache.index=0)}G.H=kT,z=d(_,T)}while(cf);return z}function FO(){var f=G.H,d=f.useState()[0];return d=typeof d.then=="function"?Pl(d):d,f=f.useState()[0],(Ii!==null?Ii.memoizedState:null)!==f&&(Un.flags|=1024),d}function Zb(){var f=ls!==0;return ls=0,f}function k0(f,d,_){d.updateQueue=f.updateQueue,d.flags&=-2053,f.lanes&=~_}function Qb(f){if(U0){for(f=f.memoizedState;f!==null;){var d=f.queue;d!==null&&(d.pending=null),f=f.next}U0=!1}lc=0,Qr=Ii=Un=null,cf=!1,qo=ls=0,ks=null}function ca(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qr===null?Un.memoizedState=Qr=f:Qr=Qr.next=f,Qr}function Jr(){if(Ii===null){var f=Un.alternate;f=f!==null?f.memoizedState:null}else f=Ii.next;var d=Qr===null?Un.memoizedState:Qr.next;if(d!==null)Qr=d,Ii=f;else{if(f===null)throw Un.alternate===null?Error(r(467)):Error(r(310));Ii=f,f={memoizedState:Ii.memoizedState,baseState:Ii.baseState,baseQueue:Ii.baseQueue,queue:Ii.queue,next:null},Qr===null?Un.memoizedState=Qr=f:Qr=Qr.next=f}return Qr}function ff(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Pl(f){var d=qo;return qo+=1,ks===null&&(ks=[]),f=N0(ks,f,d),d=Un,(Qr===null?d.memoizedState:Qr.next)===null&&(d=d.alternate,G.H=d===null||d.memoizedState===null?$0:hx),f}function z0(f){if(f!==null&&typeof f=="object"){if(typeof f.then=="function")return Pl(f);if(f.$$typeof===C)return Er(f)}throw Error(r(438,String(f)))}function Jb(f){var d=null,_=Un.updateQueue;if(_!==null&&(d=_.memoCache),d==null){var T=Un.alternate;T!==null&&(T=T.updateQueue,T!==null&&(T=T.memoCache,T!=null&&(d={data:T.data.map(function(I){return I.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),_===null&&(_=ff(),Un.updateQueue=_),_.memoCache=d,_=d.data[d.index],_===void 0)for(_=d.data[d.index]=Array(f),T=0;T<f;T++)_[T]=R;return d.index++,_}function cc(f,d){return typeof d=="function"?d(f):d}function hf(f){var d=Jr();return tx(d,Ii,f)}function tx(f,d,_){var T=f.queue;if(T===null)throw Error(r(311));T.lastRenderedReducer=_;var I=f.baseQueue,z=T.pending;if(z!==null){if(I!==null){var tt=I.next;I.next=z.next,z.next=tt}d.baseQueue=I=z,T.pending=null}if(z=f.baseState,I===null)f.memoizedState=z;else{d=I.next;var st=tt=null,vt=null,zt=d,oe=!1;do{var fe=zt.lane&-536870913;if(fe!==zt.lane?(un&fe)===fe:(lc&fe)===fe){var Gt=zt.revertLane;if(Gt===0)vt!==null&&(vt=vt.next={lane:0,revertLane:0,action:zt.action,hasEagerState:zt.hasEagerState,eagerState:zt.eagerState,next:null}),fe===Ln&&(oe=!0);else if((lc&Gt)===Gt){zt=zt.next,Gt===Ln&&(oe=!0);continue}else fe={lane:0,revertLane:zt.revertLane,action:zt.action,hasEagerState:zt.hasEagerState,eagerState:zt.eagerState,next:null},vt===null?(st=vt=fe,tt=z):vt=vt.next=fe,Un.lanes|=Gt,zl|=Gt;fe=zt.action,ua&&_(z,fe),z=zt.hasEagerState?zt.eagerState:_(z,fe)}else Gt={lane:fe,revertLane:zt.revertLane,action:zt.action,hasEagerState:zt.hasEagerState,eagerState:zt.eagerState,next:null},vt===null?(st=vt=Gt,tt=z):vt=vt.next=Gt,Un.lanes|=fe,zl|=fe;zt=zt.next}while(zt!==null&&zt!==d);if(vt===null?tt=z:vt.next=st,!Ra(z,f.memoizedState)&&(Es=!0,oe&&(_=up,_!==null)))throw _;f.memoizedState=z,f.baseState=tt,f.baseQueue=vt,T.lastRenderedState=z}return I===null&&(T.lanes=0),[f.memoizedState,T.dispatch]}function ex(f){var d=Jr(),_=d.queue;if(_===null)throw Error(r(311));_.lastRenderedReducer=f;var T=_.dispatch,I=_.pending,z=d.memoizedState;if(I!==null){_.pending=null;var tt=I=I.next;do z=f(z,tt.action),tt=tt.next;while(tt!==I);Ra(z,d.memoizedState)||(Es=!0),d.memoizedState=z,d.baseQueue===null&&(d.baseState=z),_.lastRenderedState=z}return[z,T]}function hT(f,d,_){var T=Un,I=Jr(),z=bi;if(z){if(_===void 0)throw Error(r(407));_=_()}else _=d();var tt=!Ra((Ii||I).memoizedState,_);tt&&(I.memoizedState=_,Es=!0),I=I.queue;var st=pT.bind(null,T,I,f);if(yp(2048,8,st,[f]),I.getSnapshot!==d||tt||Qr!==null&&Qr.memoizedState.tag&1){if(T.flags|=2048,gp(9,yg(),dT.bind(null,T,I,_,d),null),In===null)throw Error(r(349));z||(lc&124)!==0||mp(T,d,_)}return _}function mp(f,d,_){f.flags|=16384,f={getSnapshot:d,value:_},d=Un.updateQueue,d===null?(d=ff(),Un.updateQueue=d,d.stores=[f]):(_=d.stores,_===null?d.stores=[f]:_.push(f))}function dT(f,d,_,T){d.value=_,d.getSnapshot=T,mT(d)&&gT(f)}function pT(f,d,_){return _(function(){mT(d)&&gT(f)})}function mT(f){var d=f.getSnapshot;f=f.value;try{var _=d();return!Ra(f,_)}catch{return!0}}function gT(f){var d=nc(f,2);d!==null&&da(d,f,2)}function nx(f){var d=ca();if(typeof f=="function"){var _=f;if(f=_(),ua){Lt(!0);try{_()}finally{Lt(!1)}}}return d.memoizedState=d.baseState=f,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cc,lastRenderedState:f},d}function yT(f,d,_,T){return f.baseState=_,tx(f,Ii,typeof T=="function"?T:cc)}function VO(f,d,_,T,I){if(G0(f))throw Error(r(485));if(f=d.action,f!==null){var z={payload:I,action:f,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(tt){z.listeners.push(tt)}};G.T!==null?_(!0):z.isTransition=!1,T(z),_=d.pending,_===null?(z.next=d.pending=z,vT(d,z)):(z.next=_.next,d.pending=_.next=z)}}function vT(f,d){var _=d.action,T=d.payload,I=f.state;if(d.isTransition){var z=G.T,tt={};G.T=tt;try{var st=_(I,T),vt=G.S;vt!==null&&vt(tt,st),_T(f,d,st)}catch(zt){ix(f,d,zt)}finally{G.T=z}}else try{z=_(I,T),_T(f,d,z)}catch(zt){ix(f,d,zt)}}function _T(f,d,_){_!==null&&typeof _=="object"&&typeof _.then=="function"?_.then(function(T){bT(f,d,T)},function(T){return ix(f,d,T)}):bT(f,d,_)}function bT(f,d,_){d.status="fulfilled",d.value=_,xT(d),f.state=_,d=f.pending,d!==null&&(_=d.next,_===d?f.pending=null:(_=_.next,d.next=_,vT(f,_)))}function ix(f,d,_){var T=f.pending;if(f.pending=null,T!==null){T=T.next;do d.status="rejected",d.reason=_,xT(d),d=d.next;while(d!==T)}f.action=null}function xT(f){f=f.listeners;for(var d=0;d<f.length;d++)(0,f[d])()}function rx(f,d){return d}function ST(f,d){if(bi){var _=In.formState;if(_!==null){t:{var T=Un;if(bi){if(yr){e:{for(var I=yr,z=so;I.nodeType!==8;){if(!z){I=null;break e}if(I=yc(I.nextSibling),I===null){I=null;break e}}z=I.data,I=z==="F!"||z==="F"?I:null}if(I){yr=yc(I.nextSibling),T=I.data==="F!";break t}}af(T)}T=!1}T&&(d=_[0])}}return _=ca(),_.memoizedState=_.baseState=d,T={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rx,lastRenderedState:d},_.queue=T,_=LT.bind(null,Un,T),T.dispatch=_,T=nx(!1),z=j0.bind(null,Un,!1,T.queue),T=ca(),I={state:d,dispatch:null,action:f,pending:null},T.queue=I,_=VO.bind(null,Un,I,z,_),I.dispatch=_,T.memoizedState=f,[d,_,!1]}function ET(f){var d=Jr();return TT(d,Ii,f)}function TT(f,d,_){if(d=tx(f,d,rx)[0],f=hf(cc)[0],typeof d=="object"&&d!==null&&typeof d.then=="function")try{var T=Pl(d)}catch(tt){throw tt===dg?Ol:tt}else T=d;d=Jr();var I=d.queue,z=I.dispatch;return _!==d.memoizedState&&(Un.flags|=2048,gp(9,yg(),HO.bind(null,I,_),null)),[T,z,f]}function HO(f,d){f.action=d}function wT(f){var d=Jr(),_=Ii;if(_!==null)return TT(d,_,f);Jr(),d=d.memoizedState,_=Jr();var T=_.queue.dispatch;return _.memoizedState=f,[d,T,!1]}function gp(f,d,_,T){return f={tag:f,create:_,deps:T,inst:d,next:null},d=Un.updateQueue,d===null&&(d=ff(),Un.updateQueue=d),_=d.lastEffect,_===null?d.lastEffect=f.next=f:(T=_.next,_.next=f,f.next=T,d.lastEffect=f),f}function yg(){return{destroy:void 0,resource:void 0}}function sx(){return Jr().memoizedState}function B0(f,d,_,T){var I=ca();T=T===void 0?null:T,Un.flags|=f,I.memoizedState=gp(1|d,yg(),_,T)}function yp(f,d,_,T){var I=Jr();T=T===void 0?null:T;var z=I.memoizedState.inst;Ii!==null&&T!==null&&Ys(T,Ii.memoizedState.deps)?I.memoizedState=gp(d,z,_,T):(Un.flags|=f,I.memoizedState=gp(1|d,z,_,T))}function ax(f,d){B0(8390656,8,f,d)}function ox(f,d){yp(2048,8,f,d)}function F0(f,d){return yp(4,2,f,d)}function V0(f,d){return yp(4,4,f,d)}function AT(f,d){if(typeof d=="function"){f=f();var _=d(f);return function(){typeof _=="function"?_():d(null)}}if(d!=null)return f=f(),d.current=f,function(){d.current=null}}function MT(f,d,_){_=_!=null?_.concat([f]):null,yp(4,4,AT.bind(null,d,f),_)}function lx(){}function CT(f,d){var _=Jr();d=d===void 0?null:d;var T=_.memoizedState;return d!==null&&Ys(d,T[1])?T[0]:(_.memoizedState=[f,d],f)}function ux(f,d){var _=Jr();d=d===void 0?null:d;var T=_.memoizedState;if(d!==null&&Ys(d,T[1]))return T[0];if(T=f(),ua){Lt(!0);try{f()}finally{Lt(!1)}}return _.memoizedState=[T,d],T}function H0(f,d,_){return _===void 0||(lc&1073741824)!==0?f.memoizedState=d:(f.memoizedState=_,f=nv(),Un.lanes|=f,zl|=f,_)}function RT(f,d,_,T){return Ra(_,d)?_:pp.current!==null?(f=H0(f,_,T),Ra(f,d)||(Es=!0),f):(lc&42)===0?(Es=!0,f.memoizedState=_):(f=nv(),Un.lanes|=f,zl|=f,d)}function OT(f,d,_,T,I){var z=X.p;X.p=z!==0&&8>z?z:8;var tt=G.T,st={};G.T=st,j0(f,!1,d,_);try{var vt=I(),zt=G.S;if(zt!==null&&zt(st,vt),vt!==null&&typeof vt=="object"&&typeof vt.then=="function"){var oe=BO(vt,T);vg(f,d,oe,Ar(f))}else vg(f,d,T,Ar(f))}catch(fe){vg(f,d,{then:function(){},status:"rejected",reason:fe},Ar())}finally{X.p=z,G.T=tt}}function jO(){}function cx(f,d,_,T){if(f.tag!==5)throw Error(r(476));var I=PT(f).queue;OT(f,I,d,J,_===null?jO:function(){return IT(f),_(T)})}function PT(f){var d=f.memoizedState;if(d!==null)return d;d={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cc,lastRenderedState:J},next:null};var _={};return d.next={memoizedState:_,baseState:_,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cc,lastRenderedState:_},next:null},f.memoizedState=d,f=f.alternate,f!==null&&(f.memoizedState=d),d}function IT(f){var d=PT(f).next.queue;vg(f,d,{},Ar())}function fx(){return Er(Tx)}function DT(){return Jr().memoizedState}function NT(){return Jr().memoizedState}function GO(f){for(var d=f.return;d!==null;){switch(d.tag){case 24:case 3:var _=Ar();f=cu(_);var T=oc(d,f,_);T!==null&&(da(T,d,_),Ah(T,d,_)),d={cache:O0()},f.payload=d;return}d=d.return}}function $O(f,d,_){var T=Ar();_={lane:T,revertLane:0,action:_,hasEagerState:!1,eagerState:null,next:null},G0(f)?UT(d,_):(_=w0(f,d,_,T),_!==null&&(da(_,f,T),oo(_,d,T)))}function LT(f,d,_){var T=Ar();vg(f,d,_,T)}function vg(f,d,_,T){var I={lane:T,revertLane:0,action:_,hasEagerState:!1,eagerState:null,next:null};if(G0(f))UT(d,I);else{var z=f.alternate;if(f.lanes===0&&(z===null||z.lanes===0)&&(z=d.lastRenderedReducer,z!==null))try{var tt=d.lastRenderedState,st=z(tt,_);if(I.hasEagerState=!0,I.eagerState=st,Ra(st,tt))return ef(f,d,I,0),In===null&&ig(),!1}catch{}finally{}if(_=w0(f,d,I,T),_!==null)return da(_,f,T),oo(_,d,T),!0}return!1}function j0(f,d,_,T){if(T={lane:2,revertLane:XO(),action:T,hasEagerState:!1,eagerState:null,next:null},G0(f)){if(d)throw Error(r(479))}else d=w0(f,_,T,2),d!==null&&da(d,f,2)}function G0(f){var d=f.alternate;return f===Un||d!==null&&d===Un}function UT(f,d){cf=U0=!0;var _=f.pending;_===null?d.next=d:(d.next=_.next,_.next=d),f.pending=d}function oo(f,d,_){if((_&4194048)!==0){var T=d.lanes;T&=f.pendingLanes,_|=T,d.lanes=_,cn(f,_)}}var _g={readContext:Er,use:z0,useCallback:Ur,useContext:Ur,useEffect:Ur,useImperativeHandle:Ur,useLayoutEffect:Ur,useInsertionEffect:Ur,useMemo:Ur,useReducer:Ur,useRef:Ur,useState:Ur,useDebugValue:Ur,useDeferredValue:Ur,useTransition:Ur,useSyncExternalStore:Ur,useId:Ur,useHostTransitionStatus:Ur,useFormState:Ur,useActionState:Ur,useOptimistic:Ur,useMemoCache:Ur,useCacheRefresh:Ur},$0={readContext:Er,use:z0,useCallback:function(f,d){return ca().memoizedState=[f,d===void 0?null:d],f},useContext:Er,useEffect:ax,useImperativeHandle:function(f,d,_){_=_!=null?_.concat([f]):null,B0(4194308,4,AT.bind(null,d,f),_)},useLayoutEffect:function(f,d){return B0(4194308,4,f,d)},useInsertionEffect:function(f,d){B0(4,2,f,d)},useMemo:function(f,d){var _=ca();d=d===void 0?null:d;var T=f();if(ua){Lt(!0);try{f()}finally{Lt(!1)}}return _.memoizedState=[T,d],T},useReducer:function(f,d,_){var T=ca();if(_!==void 0){var I=_(d);if(ua){Lt(!0);try{_(d)}finally{Lt(!1)}}}else I=d;return T.memoizedState=T.baseState=I,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:I},T.queue=f,f=f.dispatch=$O.bind(null,Un,f),[T.memoizedState,f]},useRef:function(f){var d=ca();return f={current:f},d.memoizedState=f},useState:function(f){f=nx(f);var d=f.queue,_=LT.bind(null,Un,d);return d.dispatch=_,[f.memoizedState,_]},useDebugValue:lx,useDeferredValue:function(f,d){var _=ca();return H0(_,f,d)},useTransition:function(){var f=nx(!1);return f=OT.bind(null,Un,f.queue,!0,!1),ca().memoizedState=f,[!1,f]},useSyncExternalStore:function(f,d,_){var T=Un,I=ca();if(bi){if(_===void 0)throw Error(r(407));_=_()}else{if(_=d(),In===null)throw Error(r(349));(un&124)!==0||mp(T,d,_)}I.memoizedState=_;var z={value:_,getSnapshot:d};return I.queue=z,ax(pT.bind(null,T,z,f),[f]),T.flags|=2048,gp(9,yg(),dT.bind(null,T,z,_,d),null),_},useId:function(){var f=ca(),d=In.identifierPrefix;if(bi){var _=lu,T=ou;_=(T&~(1<<32-Jt(T)-1)).toString(32)+_,d=""+d+"R"+_,_=ls++,0<_&&(d+="H"+_.toString(32)),d+=""}else _=uT++,d=""+d+"r"+_.toString(32)+"";return f.memoizedState=d},useHostTransitionStatus:fx,useFormState:ST,useActionState:ST,useOptimistic:function(f){var d=ca();d.memoizedState=d.baseState=f;var _={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=_,d=j0.bind(null,Un,!0,_),_.dispatch=d,[f,d]},useMemoCache:Jb,useCacheRefresh:function(){return ca().memoizedState=GO.bind(null,Un)}},hx={readContext:Er,use:z0,useCallback:CT,useContext:Er,useEffect:ox,useImperativeHandle:MT,useInsertionEffect:F0,useLayoutEffect:V0,useMemo:ux,useReducer:hf,useRef:sx,useState:function(){return hf(cc)},useDebugValue:lx,useDeferredValue:function(f,d){var _=Jr();return RT(_,Ii.memoizedState,f,d)},useTransition:function(){var f=hf(cc)[0],d=Jr().memoizedState;return[typeof f=="boolean"?f:Pl(f),d]},useSyncExternalStore:hT,useId:DT,useHostTransitionStatus:fx,useFormState:ET,useActionState:ET,useOptimistic:function(f,d){var _=Jr();return yT(_,Ii,f,d)},useMemoCache:Jb,useCacheRefresh:NT},kT={readContext:Er,use:z0,useCallback:CT,useContext:Er,useEffect:ox,useImperativeHandle:MT,useInsertionEffect:F0,useLayoutEffect:V0,useMemo:ux,useReducer:ex,useRef:sx,useState:function(){return ex(cc)},useDebugValue:lx,useDeferredValue:function(f,d){var _=Jr();return Ii===null?H0(_,f,d):RT(_,Ii.memoizedState,f,d)},useTransition:function(){var f=ex(cc)[0],d=Jr().memoizedState;return[typeof f=="boolean"?f:Pl(f),d]},useSyncExternalStore:hT,useId:DT,useHostTransitionStatus:fx,useFormState:wT,useActionState:wT,useOptimistic:function(f,d){var _=Jr();return Ii!==null?yT(_,Ii,f,d):(_.baseState=f,[f,_.queue.dispatch])},useMemoCache:Jb,useCacheRefresh:NT},Mh=null,bg=0;function xg(f){var d=bg;return bg+=1,Mh===null&&(Mh=[]),N0(Mh,f,d)}function vp(f,d){d=d.props.ref,f.ref=d!==void 0?d:null}function q0(f,d){throw d.$$typeof===p?Error(r(525)):(f=Object.prototype.toString.call(d),Error(r(31,f==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":f)))}function zT(f){var d=f._init;return d(f._payload)}function BT(f){function d(Dt,At){if(f){var kt=Dt.deletions;kt===null?(Dt.deletions=[At],Dt.flags|=16):kt.push(At)}}function _(Dt,At){if(!f)return null;for(;At!==null;)d(Dt,At),At=At.sibling;return null}function T(Dt){for(var At=new Map;Dt!==null;)Dt.key!==null?At.set(Dt.key,Dt):At.set(Dt.index,Dt),Dt=Dt.sibling;return At}function I(Dt,At){return Dt=Lr(Dt,At),Dt.index=0,Dt.sibling=null,Dt}function z(Dt,At,kt){return Dt.index=kt,f?(kt=Dt.alternate,kt!==null?(kt=kt.index,kt<At?(Dt.flags|=67108866,At):kt):(Dt.flags|=67108866,At)):(Dt.flags|=1048576,At)}function tt(Dt){return f&&Dt.alternate===null&&(Dt.flags|=67108866),Dt}function st(Dt,At,kt,ue){return At===null||At.tag!==6?(At=sg(kt,Dt.mode,ue),At.return=Dt,At):(At=I(At,kt),At.return=Dt,At)}function vt(Dt,At,kt,ue){var $e=kt.type;return $e===b?oe(Dt,At,kt.props.children,ue,kt.key):At!==null&&(At.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===N&&zT($e)===At.type)?(At=I(At,kt.props),vp(At,kt),At.return=Dt,At):(At=Ss(kt.type,kt.key,kt.props,null,Dt.mode,ue),vp(At,kt),At.return=Dt,At)}function zt(Dt,At,kt,ue){return At===null||At.tag!==4||At.stateNode.containerInfo!==kt.containerInfo||At.stateNode.implementation!==kt.implementation?(At=A0(kt,Dt.mode,ue),At.return=Dt,At):(At=I(At,kt.children||[]),At.return=Dt,At)}function oe(Dt,At,kt,ue,$e){return At===null||At.tag!==7?(At=rf(kt,Dt.mode,ue,$e),At.return=Dt,At):(At=I(At,kt),At.return=Dt,At)}function fe(Dt,At,kt){if(typeof At=="string"&&At!==""||typeof At=="number"||typeof At=="bigint")return At=sg(""+At,Dt.mode,kt),At.return=Dt,At;if(typeof At=="object"&&At!==null){switch(At.$$typeof){case g:return kt=Ss(At.type,At.key,At.props,null,Dt.mode,kt),vp(kt,At),kt.return=Dt,kt;case v:return At=A0(At,Dt.mode,kt),At.return=Dt,At;case N:var ue=At._init;return At=ue(At._payload),fe(Dt,At,kt)}if(et(At)||H(At))return At=rf(At,Dt.mode,kt,null),At.return=Dt,At;if(typeof At.then=="function")return fe(Dt,xg(At),kt);if(At.$$typeof===C)return fe(Dt,ug(Dt,At),kt);q0(Dt,At)}return null}function Gt(Dt,At,kt,ue){var $e=At!==null?At.key:null;if(typeof kt=="string"&&kt!==""||typeof kt=="number"||typeof kt=="bigint")return $e!==null?null:st(Dt,At,""+kt,ue);if(typeof kt=="object"&&kt!==null){switch(kt.$$typeof){case g:return kt.key===$e?vt(Dt,At,kt,ue):null;case v:return kt.key===$e?zt(Dt,At,kt,ue):null;case N:return $e=kt._init,kt=$e(kt._payload),Gt(Dt,At,kt,ue)}if(et(kt)||H(kt))return $e!==null?null:oe(Dt,At,kt,ue,null);if(typeof kt.then=="function")return Gt(Dt,At,xg(kt),ue);if(kt.$$typeof===C)return Gt(Dt,At,ug(Dt,kt),ue);q0(Dt,kt)}return null}function qt(Dt,At,kt,ue,$e){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return Dt=Dt.get(kt)||null,st(At,Dt,""+ue,$e);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case g:return Dt=Dt.get(ue.key===null?kt:ue.key)||null,vt(At,Dt,ue,$e);case v:return Dt=Dt.get(ue.key===null?kt:ue.key)||null,zt(At,Dt,ue,$e);case N:var oi=ue._init;return ue=oi(ue._payload),qt(Dt,At,kt,ue,$e)}if(et(ue)||H(ue))return Dt=Dt.get(kt)||null,oe(At,Dt,ue,$e,null);if(typeof ue.then=="function")return qt(Dt,At,kt,xg(ue),$e);if(ue.$$typeof===C)return qt(Dt,At,kt,ug(At,ue),$e);q0(At,ue)}return null}function An(Dt,At,kt,ue){for(var $e=null,oi=null,sn=At,bn=At=0,Qs=null;sn!==null&&bn<kt.length;bn++){sn.index>bn?(Qs=sn,sn=null):Qs=sn.sibling;var Oi=Gt(Dt,sn,kt[bn],ue);if(Oi===null){sn===null&&(sn=Qs);break}f&&sn&&Oi.alternate===null&&d(Dt,sn),At=z(Oi,At,bn),oi===null?$e=Oi:oi.sibling=Oi,oi=Oi,sn=Qs}if(bn===kt.length)return _(Dt,sn),bi&&ic(Dt,bn),$e;if(sn===null){for(;bn<kt.length;bn++)sn=fe(Dt,kt[bn],ue),sn!==null&&(At=z(sn,At,bn),oi===null?$e=sn:oi.sibling=sn,oi=sn);return bi&&ic(Dt,bn),$e}for(sn=T(sn);bn<kt.length;bn++)Qs=qt(sn,Dt,bn,kt[bn],ue),Qs!==null&&(f&&Qs.alternate!==null&&sn.delete(Qs.key===null?bn:Qs.key),At=z(Qs,At,bn),oi===null?$e=Qs:oi.sibling=Qs,oi=Qs);return f&&sn.forEach(function(Lp){return d(Dt,Lp)}),bi&&ic(Dt,bn),$e}function vn(Dt,At,kt,ue){if(kt==null)throw Error(r(151));for(var $e=null,oi=null,sn=At,bn=At=0,Qs=null,Oi=kt.next();sn!==null&&!Oi.done;bn++,Oi=kt.next()){sn.index>bn?(Qs=sn,sn=null):Qs=sn.sibling;var Lp=Gt(Dt,sn,Oi.value,ue);if(Lp===null){sn===null&&(sn=Qs);break}f&&sn&&Lp.alternate===null&&d(Dt,sn),At=z(Lp,At,bn),oi===null?$e=Lp:oi.sibling=Lp,oi=Lp,sn=Qs}if(Oi.done)return _(Dt,sn),bi&&ic(Dt,bn),$e;if(sn===null){for(;!Oi.done;bn++,Oi=kt.next())Oi=fe(Dt,Oi.value,ue),Oi!==null&&(At=z(Oi,At,bn),oi===null?$e=Oi:oi.sibling=Oi,oi=Oi);return bi&&ic(Dt,bn),$e}for(sn=T(sn);!Oi.done;bn++,Oi=kt.next())Oi=qt(sn,Dt,bn,Oi.value,ue),Oi!==null&&(f&&Oi.alternate!==null&&sn.delete(Oi.key===null?bn:Oi.key),At=z(Oi,At,bn),oi===null?$e=Oi:oi.sibling=Oi,oi=Oi);return f&&sn.forEach(function(BQ){return d(Dt,BQ)}),bi&&ic(Dt,bn),$e}function Ji(Dt,At,kt,ue){if(typeof kt=="object"&&kt!==null&&kt.type===b&&kt.key===null&&(kt=kt.props.children),typeof kt=="object"&&kt!==null){switch(kt.$$typeof){case g:t:{for(var $e=kt.key;At!==null;){if(At.key===$e){if($e=kt.type,$e===b){if(At.tag===7){_(Dt,At.sibling),ue=I(At,kt.props.children),ue.return=Dt,Dt=ue;break t}}else if(At.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===N&&zT($e)===At.type){_(Dt,At.sibling),ue=I(At,kt.props),vp(ue,kt),ue.return=Dt,Dt=ue;break t}_(Dt,At);break}else d(Dt,At);At=At.sibling}kt.type===b?(ue=rf(kt.props.children,Dt.mode,ue,kt.key),ue.return=Dt,Dt=ue):(ue=Ss(kt.type,kt.key,kt.props,null,Dt.mode,ue),vp(ue,kt),ue.return=Dt,Dt=ue)}return tt(Dt);case v:t:{for($e=kt.key;At!==null;){if(At.key===$e)if(At.tag===4&&At.stateNode.containerInfo===kt.containerInfo&&At.stateNode.implementation===kt.implementation){_(Dt,At.sibling),ue=I(At,kt.children||[]),ue.return=Dt,Dt=ue;break t}else{_(Dt,At);break}else d(Dt,At);At=At.sibling}ue=A0(kt,Dt.mode,ue),ue.return=Dt,Dt=ue}return tt(Dt);case N:return $e=kt._init,kt=$e(kt._payload),Ji(Dt,At,kt,ue)}if(et(kt))return An(Dt,At,kt,ue);if(H(kt)){if($e=H(kt),typeof $e!="function")throw Error(r(150));return kt=$e.call(kt),vn(Dt,At,kt,ue)}if(typeof kt.then=="function")return Ji(Dt,At,xg(kt),ue);if(kt.$$typeof===C)return Ji(Dt,At,ug(Dt,kt),ue);q0(Dt,kt)}return typeof kt=="string"&&kt!==""||typeof kt=="number"||typeof kt=="bigint"?(kt=""+kt,At!==null&&At.tag===6?(_(Dt,At.sibling),ue=I(At,kt),ue.return=Dt,Dt=ue):(_(Dt,At),ue=sg(kt,Dt.mode,ue),ue.return=Dt,Dt=ue),tt(Dt)):_(Dt,At)}return function(Dt,At,kt,ue){try{bg=0;var $e=Ji(Dt,At,kt,ue);return Mh=null,$e}catch(sn){if(sn===dg||sn===Ol)throw sn;var oi=Ia(29,sn,null,Dt.mode);return oi.lanes=ue,oi.return=Dt,oi}finally{}}}var Ch=BT(!0),FT=BT(!1),ji=dt(null),Il=null;function df(f){var d=f.alternate;xt(kr,kr.current&1),xt(ji,f),Il===null&&(d===null||pp.current!==null||d.memoizedState!==null)&&(Il=f)}function VT(f){if(f.tag===22){if(xt(kr,kr.current),xt(ji,f),Il===null){var d=f.alternate;d!==null&&d.memoizedState!==null&&(Il=f)}}else pf()}function pf(){xt(kr,kr.current),xt(ji,ji.current)}function fu(f){yt(ji),Il===f&&(Il=null),yt(kr)}var kr=dt(0);function fc(f){for(var d=f;d!==null;){if(d.tag===13){var _=d.memoizedState;if(_!==null&&(_=_.dehydrated,_===null||_.data==="$?"||aP(_)))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===f)break;for(;d.sibling===null;){if(d.return===null||d.return===f)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}function mf(f,d,_,T){d=f.memoizedState,_=_(T,d),_=_==null?d:h({},d,_),f.memoizedState=_,f.lanes===0&&(f.updateQueue.baseState=_)}var fa={enqueueSetState:function(f,d,_){f=f._reactInternals;var T=Ar(),I=cu(T);I.payload=d,_!=null&&(I.callback=_),d=oc(f,I,T),d!==null&&(da(d,f,T),Ah(d,f,T))},enqueueReplaceState:function(f,d,_){f=f._reactInternals;var T=Ar(),I=cu(T);I.tag=1,I.payload=d,_!=null&&(I.callback=_),d=oc(f,I,T),d!==null&&(da(d,f,T),Ah(d,f,T))},enqueueForceUpdate:function(f,d){f=f._reactInternals;var _=Ar(),T=cu(_);T.tag=2,d!=null&&(T.callback=d),d=oc(f,T,_),d!==null&&(da(d,f,_),Ah(d,f,_))}};function HT(f,d,_,T,I,z,tt){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(T,z,tt):d.prototype&&d.prototype.isPureReactComponent?!Cl(_,T)||!Cl(I,z):!0}function jT(f,d,_,T){f=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(_,T),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(_,T),d.state!==f&&fa.enqueueReplaceState(d,d.state,null)}function hu(f,d){var _=d;if("ref"in d){_={};for(var T in d)T!=="ref"&&(_[T]=d[T])}if(f=f.defaultProps){_===d&&(_=h({},_));for(var I in f)_[I]===void 0&&(_[I]=f[I])}return _}var Rh=typeof reportError=="function"?reportError:function(f){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof f=="object"&&f!==null&&typeof f.message=="string"?String(f.message):String(f),error:f});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",f);return}console.error(f)};function Sg(f){Rh(f)}function W0(f){console.error(f)}function GT(f){Rh(f)}function X0(f,d){try{var _=f.onUncaughtError;_(d.value,{componentStack:d.stack})}catch(T){setTimeout(function(){throw T})}}function Wo(f,d,_){try{var T=f.onCaughtError;T(_.value,{componentStack:_.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(I){setTimeout(function(){throw I})}}function Y0(f,d,_){return _=cu(_),_.tag=3,_.payload={element:null},_.callback=function(){X0(f,d)},_}function $T(f){return f=cu(f),f.tag=3,f}function K0(f,d,_,T){var I=_.type.getDerivedStateFromError;if(typeof I=="function"){var z=T.value;f.payload=function(){return I(z)},f.callback=function(){Wo(d,_,T)}}var tt=_.stateNode;tt!==null&&typeof tt.componentDidCatch=="function"&&(f.callback=function(){Wo(d,_,T),typeof I!="function"&&(go===null?go=new Set([this]):go.add(this));var st=T.stack;this.componentDidCatch(T.value,{componentStack:st!==null?st:""})})}function qO(f,d,_,T,I){if(_.flags|=32768,T!==null&&typeof T=="object"&&typeof T.then=="function"){if(d=_.alternate,d!==null&&jo(d,_,I,!0),_=ji.current,_!==null){switch(_.tag){case 13:return Il===null?m():_.alternate===null&&nr===0&&(nr=3),_.flags&=-257,_.flags|=65536,_.lanes=I,T===pg?_.flags|=16384:(d=_.updateQueue,d===null?_.updateQueue=new Set([T]):d.add(T),Wt(f,T,I)),!1;case 22:return _.flags|=65536,T===pg?_.flags|=16384:(d=_.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([T])},_.updateQueue=d):(_=d.retryQueue,_===null?d.retryQueue=new Set([T]):_.add(T)),Wt(f,T,I)),!1}throw Error(r(435,_.tag))}return Wt(f,T,I),m(),!1}if(bi)return d=ji.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=I,T!==C0&&(f=Error(r(422),{cause:T}),wh(Ls(f,_)))):(T!==C0&&(d=Error(r(423),{cause:T}),wh(Ls(d,_))),f=f.current.alternate,f.flags|=65536,I&=-I,f.lanes|=I,T=Ls(T,_),I=Y0(f.stateNode,T,I),fp(f,I),nr!==4&&(nr=2)),!1;var z=Error(r(520),{cause:T});if(z=Ls(z,_),Ri===null?Ri=[z]:Ri.push(z),nr!==4&&(nr=2),d===null)return!0;T=Ls(T,_),_=d;do{switch(_.tag){case 3:return _.flags|=65536,f=I&-I,_.lanes|=f,f=Y0(_.stateNode,T,f),fp(_,f),!1;case 1:if(d=_.type,z=_.stateNode,(_.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(go===null||!go.has(z))))return _.flags|=65536,I&=-I,_.lanes|=I,I=$T(I),K0(I,f,_,T),fp(_,I),!1}_=_.return}while(_!==null);return!1}var qT=Error(r(461)),Es=!1;function zr(f,d,_,T){d.child=f===null?FT(d,null,_,T):Ch(d,f.child,_,T)}function Na(f,d,_,T,I){_=_.render;var z=d.ref;if("ref"in T){var tt={};for(var st in T)st!=="ref"&&(tt[st]=T[st])}else tt=T;return uu(d),T=uc(f,d,_,tt,z,I),st=Zb(),f!==null&&!Es?(k0(f,d,I),Ts(f,d,I)):(bi&&st&&Fb(d),d.flags|=1,zr(f,d,T,I),d.child)}function La(f,d,_,T,I){if(f===null){var z=_.type;return typeof z=="function"&&!rg(z)&&z.defaultProps===void 0&&_.compare===null?(d.tag=15,d.type=z,dx(f,d,z,T,I)):(f=Ss(_.type,null,T,d,d.mode,I),f.ref=d.ref,f.return=d,d.child=f)}if(z=f.child,!Eg(f,I)){var tt=z.memoizedProps;if(_=_.compare,_=_!==null?_:Cl,_(tt,T)&&f.ref===d.ref)return Ts(f,d,I)}return d.flags|=1,f=Lr(z,T),f.ref=d.ref,f.return=d,d.child=f}function dx(f,d,_,T,I){if(f!==null){var z=f.memoizedProps;if(Cl(z,T)&&f.ref===d.ref)if(Es=!1,d.pendingProps=T=z,Eg(f,I))(f.flags&131072)!==0&&(Es=!0);else return d.lanes=f.lanes,Ts(f,d,I)}return _p(f,d,_,T,I)}function Oh(f,d,_){var T=d.pendingProps,I=T.children,z=f!==null?f.memoizedState:null;if(T.mode==="hidden"){if((d.flags&128)!==0){if(T=z!==null?z.baseLanes|_:_,f!==null){for(I=d.child=f.child,z=0;I!==null;)z=z|I.lanes|I.childLanes,I=I.sibling;d.childLanes=z&~T}else d.childLanes=0,d.child=null;return Ph(f,d,T,_)}if((_&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},f!==null&&hg(d,z!==null?z.cachePool:null),z!==null?lT(d,z):Kb(),VT(d);else return d.lanes=d.childLanes=536870912,Ph(f,d,z!==null?z.baseLanes|_:_,_)}else z!==null?(hg(d,z.cachePool),lT(d,z),pf(),d.memoizedState=null):(f!==null&&hg(d,null),Kb(),pf());return zr(f,d,I,_),d.child}function Ph(f,d,_,T){var I=uf();return I=I===null?null:{parent:Zr._currentValue,pool:I},d.memoizedState={baseLanes:_,cachePool:I},f!==null&&hg(d,null),Kb(),VT(d),f!==null&&jo(f,d,T,!0),null}function Ih(f,d){var _=d.ref;if(_===null)f!==null&&f.ref!==null&&(d.flags|=4194816);else{if(typeof _!="function"&&typeof _!="object")throw Error(r(284));(f===null||f.ref!==_)&&(d.flags|=4194816)}}function _p(f,d,_,T,I){return uu(d),_=uc(f,d,_,T,void 0,I),T=Zb(),f!==null&&!Es?(k0(f,d,I),Ts(f,d,I)):(bi&&T&&Fb(d),d.flags|=1,zr(f,d,_,I),d.child)}function lo(f,d,_,T,I,z){return uu(d),d.updateQueue=null,_=fT(d,T,_,I),cT(f),T=Zb(),f!==null&&!Es?(k0(f,d,z),Ts(f,d,z)):(bi&&T&&Fb(d),d.flags|=1,zr(f,d,_,z),d.child)}function uo(f,d,_,T,I){if(uu(d),d.stateNode===null){var z=nf,tt=_.contextType;typeof tt=="object"&&tt!==null&&(z=Er(tt)),z=new _(T,z),d.memoizedState=z.state!==null&&z.state!==void 0?z.state:null,z.updater=fa,d.stateNode=z,z._reactInternals=d,z=d.stateNode,z.props=T,z.state=d.memoizedState,z.refs={},Xb(d),tt=_.contextType,z.context=typeof tt=="object"&&tt!==null?Er(tt):nf,z.state=d.memoizedState,tt=_.getDerivedStateFromProps,typeof tt=="function"&&(mf(d,_,tt,T),z.state=d.memoizedState),typeof _.getDerivedStateFromProps=="function"||typeof z.getSnapshotBeforeUpdate=="function"||typeof z.UNSAFE_componentWillMount!="function"&&typeof z.componentWillMount!="function"||(tt=z.state,typeof z.componentWillMount=="function"&&z.componentWillMount(),typeof z.UNSAFE_componentWillMount=="function"&&z.UNSAFE_componentWillMount(),tt!==z.state&&fa.enqueueReplaceState(z,z.state,null),hp(d,T,z,I),mg(),z.state=d.memoizedState),typeof z.componentDidMount=="function"&&(d.flags|=4194308),T=!0}else if(f===null){z=d.stateNode;var st=d.memoizedProps,vt=hu(_,st);z.props=vt;var zt=z.context,oe=_.contextType;tt=nf,typeof oe=="object"&&oe!==null&&(tt=Er(oe));var fe=_.getDerivedStateFromProps;oe=typeof fe=="function"||typeof z.getSnapshotBeforeUpdate=="function",st=d.pendingProps!==st,oe||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(st||zt!==tt)&&jT(d,z,T,tt),ac=!1;var Gt=d.memoizedState;z.state=Gt,hp(d,T,z,I),mg(),zt=d.memoizedState,st||Gt!==zt||ac?(typeof fe=="function"&&(mf(d,_,fe,T),zt=d.memoizedState),(vt=ac||HT(d,_,vt,T,Gt,zt,tt))?(oe||typeof z.UNSAFE_componentWillMount!="function"&&typeof z.componentWillMount!="function"||(typeof z.componentWillMount=="function"&&z.componentWillMount(),typeof z.UNSAFE_componentWillMount=="function"&&z.UNSAFE_componentWillMount()),typeof z.componentDidMount=="function"&&(d.flags|=4194308)):(typeof z.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=T,d.memoizedState=zt),z.props=T,z.state=zt,z.context=tt,T=vt):(typeof z.componentDidMount=="function"&&(d.flags|=4194308),T=!1)}else{z=d.stateNode,En(f,d),tt=d.memoizedProps,oe=hu(_,tt),z.props=oe,fe=d.pendingProps,Gt=z.context,zt=_.contextType,vt=nf,typeof zt=="object"&&zt!==null&&(vt=Er(zt)),st=_.getDerivedStateFromProps,(zt=typeof st=="function"||typeof z.getSnapshotBeforeUpdate=="function")||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(tt!==fe||Gt!==vt)&&jT(d,z,T,vt),ac=!1,Gt=d.memoizedState,z.state=Gt,hp(d,T,z,I),mg();var qt=d.memoizedState;tt!==fe||Gt!==qt||ac||f!==null&&f.dependencies!==null&&lg(f.dependencies)?(typeof st=="function"&&(mf(d,_,st,T),qt=d.memoizedState),(oe=ac||HT(d,_,oe,T,Gt,qt,vt)||f!==null&&f.dependencies!==null&&lg(f.dependencies))?(zt||typeof z.UNSAFE_componentWillUpdate!="function"&&typeof z.componentWillUpdate!="function"||(typeof z.componentWillUpdate=="function"&&z.componentWillUpdate(T,qt,vt),typeof z.UNSAFE_componentWillUpdate=="function"&&z.UNSAFE_componentWillUpdate(T,qt,vt)),typeof z.componentDidUpdate=="function"&&(d.flags|=4),typeof z.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof z.componentDidUpdate!="function"||tt===f.memoizedProps&&Gt===f.memoizedState||(d.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||tt===f.memoizedProps&&Gt===f.memoizedState||(d.flags|=1024),d.memoizedProps=T,d.memoizedState=qt),z.props=T,z.state=qt,z.context=vt,T=oe):(typeof z.componentDidUpdate!="function"||tt===f.memoizedProps&&Gt===f.memoizedState||(d.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||tt===f.memoizedProps&&Gt===f.memoizedState||(d.flags|=1024),T=!1)}return z=T,Ih(f,d),T=(d.flags&128)!==0,z||T?(z=d.stateNode,_=T&&typeof _.getDerivedStateFromError!="function"?null:z.render(),d.flags|=1,f!==null&&T?(d.child=Ch(d,f.child,null,I),d.child=Ch(d,null,_,I)):zr(f,d,_,I),d.memoizedState=z.state,f=d.child):f=Ts(f,d,I),f}function gf(f,d,_,T){return ap(),d.flags|=256,zr(f,d,_,T),d.child}var Dl={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nl(f){return{baseLanes:f,cachePool:I0()}}function us(f,d,_){return f=f!==null?f.childLanes&~_:0,d&&(f|=Qo),f}function bp(f,d,_){var T=d.pendingProps,I=!1,z=(d.flags&128)!==0,tt;if((tt=z)||(tt=f!==null&&f.memoizedState===null?!1:(kr.current&2)!==0),tt&&(I=!0,d.flags&=-129),tt=(d.flags&32)!==0,d.flags&=-33,f===null){if(bi){if(I?df(d):pf(),bi){var st=yr,vt;if(vt=st){t:{for(vt=st,st=so;vt.nodeType!==8;){if(!st){st=null;break t}if(vt=yc(vt.nextSibling),vt===null){st=null;break t}}st=vt}st!==null?(d.memoizedState={dehydrated:st,treeContext:sf!==null?{id:ou,overflow:lu}:null,retryLane:536870912,hydrationErrors:null},vt=Ia(18,null,null,0),vt.stateNode=st,vt.return=d,d.child=vt,la=d,yr=null,vt=!0):vt=!1}vt||af(d)}if(st=d.memoizedState,st!==null&&(st=st.dehydrated,st!==null))return aP(st)?d.lanes=32:d.lanes=536870912,null;fu(d)}return st=T.children,T=T.fallback,I?(pf(),I=d.mode,st=Dh({mode:"hidden",children:st},I),T=rf(T,I,_,null),st.return=d,T.return=d,st.sibling=T,d.child=st,I=d.child,I.memoizedState=Nl(_),I.childLanes=us(f,tt,_),d.memoizedState=Dl,T):(df(d),du(d,st))}if(vt=f.memoizedState,vt!==null&&(st=vt.dehydrated,st!==null)){if(z)d.flags&256?(df(d),d.flags&=-257,d=zs(f,d,_)):d.memoizedState!==null?(pf(),d.child=f.child,d.flags|=128,d=null):(pf(),I=T.fallback,st=d.mode,T=Dh({mode:"visible",children:T.children},st),I=rf(I,st,_,null),I.flags|=2,T.return=d,I.return=d,T.sibling=I,d.child=T,Ch(d,f.child,null,_),T=d.child,T.memoizedState=Nl(_),T.childLanes=us(f,tt,_),d.memoizedState=Dl,d=I);else if(df(d),aP(st)){if(tt=st.nextSibling&&st.nextSibling.dataset,tt)var zt=tt.dgst;tt=zt,T=Error(r(419)),T.stack="",T.digest=tt,wh({value:T,source:null,stack:null}),d=zs(f,d,_)}else if(Es||jo(f,d,_,!1),tt=(_&f.childLanes)!==0,Es||tt){if(tt=In,tt!==null&&(T=_&-_,T=(T&42)!==0?1:Qn(T),T=(T&(tt.suspendedLanes|_))!==0?0:T,T!==0&&T!==vt.retryLane))throw vt.retryLane=T,nc(f,T),da(tt,f,T),qT;st.data==="$?"||m(),d=zs(f,d,_)}else st.data==="$?"?(d.flags|=192,d.child=f.child,d=null):(f=vt.treeContext,yr=yc(st.nextSibling),la=d,bi=!0,Ho=null,so=!1,f!==null&&(Us[ro++]=ou,Us[ro++]=lu,Us[ro++]=sf,ou=f.id,lu=f.overflow,sf=d),d=du(d,T.children),d.flags|=4096);return d}return I?(pf(),I=T.fallback,st=d.mode,vt=f.child,zt=vt.sibling,T=Lr(vt,{mode:"hidden",children:T.children}),T.subtreeFlags=vt.subtreeFlags&65011712,zt!==null?I=Lr(zt,I):(I=rf(I,st,_,null),I.flags|=2),I.return=d,T.return=d,T.sibling=I,d.child=T,T=I,I=d.child,st=f.child.memoizedState,st===null?st=Nl(_):(vt=st.cachePool,vt!==null?(zt=Zr._currentValue,vt=vt.parent!==zt?{parent:zt,pool:zt}:vt):vt=I0(),st={baseLanes:st.baseLanes|_,cachePool:vt}),I.memoizedState=st,I.childLanes=us(f,tt,_),d.memoizedState=Dl,T):(df(d),_=f.child,f=_.sibling,_=Lr(_,{mode:"visible",children:T.children}),_.return=d,_.sibling=null,f!==null&&(tt=d.deletions,tt===null?(d.deletions=[f],d.flags|=16):tt.push(f)),d.child=_,d.memoizedState=null,_)}function du(f,d){return d=Dh({mode:"visible",children:d},f.mode),d.return=f,f.child=d}function Dh(f,d){return f=Ia(22,f,null,d),f.lanes=0,f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},f}function zs(f,d,_){return Ch(d,f.child,null,_),f=du(d,d.pendingProps.children),f.flags|=2,d.memoizedState=null,f}function Bs(f,d,_){f.lanes|=d;var T=f.alternate;T!==null&&(T.lanes|=d),Gb(f.return,d,_)}function ci(f,d,_,T,I){var z=f.memoizedState;z===null?f.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:T,tail:_,tailMode:I}:(z.isBackwards=d,z.rendering=null,z.renderingStartTime=0,z.last=T,z.tail=_,z.tailMode=I)}function Xo(f,d,_){var T=d.pendingProps,I=T.revealOrder,z=T.tail;if(zr(f,d,T.children,_),T=kr.current,(T&2)!==0)T=T&1|2,d.flags|=128;else{if(f!==null&&(f.flags&128)!==0)t:for(f=d.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&Bs(f,_,d);else if(f.tag===19)Bs(f,_,d);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===d)break t;for(;f.sibling===null;){if(f.return===null||f.return===d)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}T&=1}switch(xt(kr,T),I){case"forwards":for(_=d.child,I=null;_!==null;)f=_.alternate,f!==null&&fc(f)===null&&(I=_),_=_.sibling;_=I,_===null?(I=d.child,d.child=null):(I=_.sibling,_.sibling=null),ci(d,!1,I,_,z);break;case"backwards":for(_=null,I=d.child,d.child=null;I!==null;){if(f=I.alternate,f!==null&&fc(f)===null){d.child=I;break}f=I.sibling,I.sibling=_,_=I,I=f}ci(d,!0,_,null,z);break;case"together":ci(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function Ts(f,d,_){if(f!==null&&(d.dependencies=f.dependencies),zl|=d.lanes,(_&d.childLanes)===0)if(f!==null){if(jo(f,d,_,!1),(_&d.childLanes)===0)return null}else return null;if(f!==null&&d.child!==f.child)throw Error(r(153));if(d.child!==null){for(f=d.child,_=Lr(f,f.pendingProps),d.child=_,_.return=d;f.sibling!==null;)f=f.sibling,_=_.sibling=Lr(f,f.pendingProps),_.return=d;_.sibling=null}return d.child}function Eg(f,d){return(f.lanes&d)!==0?!0:(f=f.dependencies,!!(f!==null&&lg(f)))}function Yo(f,d,_){switch(d.tag){case 3:Tt(d,d.stateNode.containerInfo),lf(d,Zr,f.memoizedState.cache),ap();break;case 27:case 5:Ut(d);break;case 4:Tt(d,d.stateNode.containerInfo);break;case 10:lf(d,d.type,d.memoizedProps.value);break;case 13:var T=d.memoizedState;if(T!==null)return T.dehydrated!==null?(df(d),d.flags|=128,null):(_&d.child.childLanes)!==0?bp(f,d,_):(df(d),f=Ts(f,d,_),f!==null?f.sibling:null);df(d);break;case 19:var I=(f.flags&128)!==0;if(T=(_&d.childLanes)!==0,T||(jo(f,d,_,!1),T=(_&d.childLanes)!==0),I){if(T)return Xo(f,d,_);d.flags|=128}if(I=d.memoizedState,I!==null&&(I.rendering=null,I.tail=null,I.lastEffect=null),xt(kr,kr.current),T)break;return null;case 22:case 23:return d.lanes=0,Oh(f,d,_);case 24:lf(d,Zr,f.memoizedState.cache)}return Ts(f,d,_)}function Nh(f,d,_){if(f!==null)if(f.memoizedProps!==d.pendingProps)Es=!0;else{if(!Eg(f,_)&&(d.flags&128)===0)return Es=!1,Yo(f,d,_);Es=(f.flags&131072)!==0}else Es=!1,bi&&(d.flags&1048576)!==0&&M0(d,sp,d.index);switch(d.lanes=0,d.tag){case 16:t:{f=d.pendingProps;var T=d.elementType,I=T._init;if(T=I(T._payload),d.type=T,typeof T=="function")rg(T)?(f=hu(T,f),d.tag=1,d=uo(null,d,T,f,_)):(d.tag=0,d=_p(null,d,T,f,_));else{if(T!=null){if(I=T.$$typeof,I===M){d.tag=11,d=Na(null,d,T,f,_);break t}else if(I===D){d.tag=14,d=La(null,d,T,f,_);break t}}throw d=Y(T)||T,Error(r(306,d,""))}}return d;case 0:return _p(f,d,d.type,d.pendingProps,_);case 1:return T=d.type,I=hu(T,d.pendingProps),uo(f,d,T,I,_);case 3:t:{if(Tt(d,d.stateNode.containerInfo),f===null)throw Error(r(387));T=d.pendingProps;var z=d.memoizedState;I=z.element,En(f,d),hp(d,T,null,_);var tt=d.memoizedState;if(T=tt.cache,lf(d,Zr,T),T!==z.cache&&og(d,[Zr],_,!0),mg(),T=tt.element,z.isDehydrated)if(z={element:T,isDehydrated:!1,cache:tt.cache},d.updateQueue.baseState=z,d.memoizedState=z,d.flags&256){d=gf(f,d,T,_);break t}else if(T!==I){I=Ls(Error(r(424)),d),wh(I),d=gf(f,d,T,_);break t}else{switch(f=d.stateNode.containerInfo,f.nodeType){case 9:f=f.body;break;default:f=f.nodeName==="HTML"?f.ownerDocument.body:f}for(yr=yc(f.firstChild),la=d,bi=!0,Ho=null,so=!0,_=FT(d,null,T,_),d.child=_;_;)_.flags=_.flags&-3|4096,_=_.sibling}else{if(ap(),T===I){d=Ts(f,d,_);break t}zr(f,d,T,_)}d=d.child}return d;case 26:return Ih(f,d),f===null?(_=xz(d.type,null,d.pendingProps,null))?d.memoizedState=_:bi||(_=d.type,f=d.pendingProps,T=QT(lt.current).createElement(_),T[Qe]=d,T[Ye]=f,pa(T,_,f),hr(T),d.stateNode=T):d.memoizedState=xz(d.type,f.memoizedProps,d.pendingProps,f.memoizedState),null;case 27:return Ut(d),f===null&&bi&&(T=d.stateNode=vz(d.type,d.pendingProps,lt.current),la=d,so=!0,I=yr,Op(d.type)?(oP=I,yr=yc(T.firstChild)):yr=I),zr(f,d,d.pendingProps.children,_),Ih(f,d),f===null&&(d.flags|=4194304),d.child;case 5:return f===null&&bi&&((I=T=yr)&&(T=pQ(T,d.type,d.pendingProps,so),T!==null?(d.stateNode=T,la=d,yr=yc(T.firstChild),so=!1,I=!0):I=!1),I||af(d)),Ut(d),I=d.type,z=d.pendingProps,tt=f!==null?f.memoizedProps:null,T=z.children,iP(I,z)?T=null:tt!==null&&iP(I,tt)&&(d.flags|=32),d.memoizedState!==null&&(I=uc(f,d,FO,null,null,_),Tx._currentValue=I),Ih(f,d),zr(f,d,T,_),d.child;case 6:return f===null&&bi&&((f=_=yr)&&(_=mQ(_,d.pendingProps,so),_!==null?(d.stateNode=_,la=d,yr=null,f=!0):f=!1),f||af(d)),null;case 13:return bp(f,d,_);case 4:return Tt(d,d.stateNode.containerInfo),T=d.pendingProps,f===null?d.child=Ch(d,null,T,_):zr(f,d,T,_),d.child;case 11:return Na(f,d,d.type,d.pendingProps,_);case 7:return zr(f,d,d.pendingProps,_),d.child;case 8:return zr(f,d,d.pendingProps.children,_),d.child;case 12:return zr(f,d,d.pendingProps.children,_),d.child;case 10:return T=d.pendingProps,lf(d,d.type,T.value),zr(f,d,T.children,_),d.child;case 9:return I=d.type._context,T=d.pendingProps.children,uu(d),I=Er(I),T=T(I),d.flags|=1,zr(f,d,T,_),d.child;case 14:return La(f,d,d.type,d.pendingProps,_);case 15:return dx(f,d,d.type,d.pendingProps,_);case 19:return Xo(f,d,_);case 31:return T=d.pendingProps,_=d.mode,T={mode:T.mode,children:T.children},f===null?(_=Dh(T,_),_.ref=d.ref,d.child=_,_.return=d,d=_):(_=Lr(f.child,T),_.ref=d.ref,d.child=_,_.return=d,d=_),d;case 22:return Oh(f,d,_);case 24:return uu(d),T=Er(Zr),f===null?(I=uf(),I===null&&(I=In,z=O0(),I.pooledCache=z,z.refCount++,z!==null&&(I.pooledCacheLanes|=_),I=z),d.memoizedState={parent:T,cache:I},Xb(d),lf(d,Zr,I)):((f.lanes&_)!==0&&(En(f,d),hp(d,null,null,_),mg()),I=f.memoizedState,z=d.memoizedState,I.parent!==T?(I={parent:T,cache:T},d.memoizedState=I,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=I),lf(d,Zr,T)):(T=z.cache,lf(d,Zr,T),T!==I.cache&&og(d,[Zr],_,!0))),zr(f,d,d.pendingProps.children,_),d.child;case 29:throw d.pendingProps}throw Error(r(156,d.tag))}function Ll(f){f.flags|=4}function Tg(f,d){if(d.type!=="stylesheet"||(d.state.loading&4)!==0)f.flags&=-16777217;else if(f.flags|=16777216,!Az(d)){if(d=ji.current,d!==null&&((un&4194048)===un?Il!==null:(un&62914560)!==un&&(un&536870912)===0||d!==Il))throw $o=pg,qb;f.flags|=8192}}function hc(f,d){d!==null&&(f.flags|=4),f.flags&16384&&(d=f.tag!==22?Ce():536870912,f.lanes|=d,yi|=d)}function Lh(f,d){if(!bi)switch(f.tailMode){case"hidden":d=f.tail;for(var _=null;d!==null;)d.alternate!==null&&(_=d),d=d.sibling;_===null?f.tail=null:_.sibling=null;break;case"collapsed":_=f.tail;for(var T=null;_!==null;)_.alternate!==null&&(T=_),_=_.sibling;T===null?d||f.tail===null?f.tail=null:f.tail.sibling=null:T.sibling=null}}function Yi(f){var d=f.alternate!==null&&f.alternate.child===f.child,_=0,T=0;if(d)for(var I=f.child;I!==null;)_|=I.lanes|I.childLanes,T|=I.subtreeFlags&65011712,T|=I.flags&65011712,I.return=f,I=I.sibling;else for(I=f.child;I!==null;)_|=I.lanes|I.childLanes,T|=I.subtreeFlags,T|=I.flags,I.return=f,I=I.sibling;return f.subtreeFlags|=T,f.childLanes=_,d}function px(f,d,_){var T=d.pendingProps;switch(Vb(d),d.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yi(d),null;case 1:return Yi(d),null;case 3:return _=d.stateNode,T=null,f!==null&&(T=f.memoizedState.cache),d.memoizedState.cache!==T&&(d.flags|=2048),sc(Zr),Kt(),_.pendingContext&&(_.context=_.pendingContext,_.pendingContext=null),(f===null||f.child===null)&&(Rl(d)?Ll(d):f===null||f.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,Mi())),Yi(d),null;case 26:return _=d.memoizedState,f===null?(Ll(d),_!==null?(Yi(d),Tg(d,_)):(Yi(d),d.flags&=-16777217)):_?_!==f.memoizedState?(Ll(d),Yi(d),Tg(d,_)):(Yi(d),d.flags&=-16777217):(f.memoizedProps!==T&&Ll(d),Yi(d),d.flags&=-16777217),null;case 27:te(d),_=lt.current;var I=d.type;if(f!==null&&d.stateNode!=null)f.memoizedProps!==T&&Ll(d);else{if(!T){if(d.stateNode===null)throw Error(r(166));return Yi(d),null}f=it.current,Rl(d)?rT(d):(f=vz(I,T,_),d.stateNode=f,Ll(d))}return Yi(d),null;case 5:if(te(d),_=d.type,f!==null&&d.stateNode!=null)f.memoizedProps!==T&&Ll(d);else{if(!T){if(d.stateNode===null)throw Error(r(166));return Yi(d),null}if(f=it.current,Rl(d))rT(d);else{switch(I=QT(lt.current),f){case 1:f=I.createElementNS("http://www.w3.org/2000/svg",_);break;case 2:f=I.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;default:switch(_){case"svg":f=I.createElementNS("http://www.w3.org/2000/svg",_);break;case"math":f=I.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;case"script":f=I.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof T.is=="string"?I.createElement("select",{is:T.is}):I.createElement("select"),T.multiple?f.multiple=!0:T.size&&(f.size=T.size);break;default:f=typeof T.is=="string"?I.createElement(_,{is:T.is}):I.createElement(_)}}f[Qe]=d,f[Ye]=T;t:for(I=d.child;I!==null;){if(I.tag===5||I.tag===6)f.appendChild(I.stateNode);else if(I.tag!==4&&I.tag!==27&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===d)break t;for(;I.sibling===null;){if(I.return===null||I.return===d)break t;I=I.return}I.sibling.return=I.return,I=I.sibling}d.stateNode=f;t:switch(pa(f,_,T),_){case"button":case"input":case"select":case"textarea":f=!!T.autoFocus;break t;case"img":f=!0;break t;default:f=!1}f&&Ll(d)}}return Yi(d),d.flags&=-16777217,null;case 6:if(f&&d.stateNode!=null)f.memoizedProps!==T&&Ll(d);else{if(typeof T!="string"&&d.stateNode===null)throw Error(r(166));if(f=lt.current,Rl(d)){if(f=d.stateNode,_=d.memoizedProps,T=null,I=la,I!==null)switch(I.tag){case 27:case 5:T=I.memoizedProps}f[Qe]=d,f=!!(f.nodeValue===_||T!==null&&T.suppressHydrationWarning===!0||fz(f.nodeValue,_)),f||af(d)}else f=QT(f).createTextNode(T),f[Qe]=d,d.stateNode=f}return Yi(d),null;case 13:if(T=d.memoizedState,f===null||f.memoizedState!==null&&f.memoizedState.dehydrated!==null){if(I=Rl(d),T!==null&&T.dehydrated!==null){if(f===null){if(!I)throw Error(r(318));if(I=d.memoizedState,I=I!==null?I.dehydrated:null,!I)throw Error(r(317));I[Qe]=d}else ap(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Yi(d),I=!1}else I=Mi(),f!==null&&f.memoizedState!==null&&(f.memoizedState.hydrationErrors=I),I=!0;if(!I)return d.flags&256?(fu(d),d):(fu(d),null)}if(fu(d),(d.flags&128)!==0)return d.lanes=_,d;if(_=T!==null,f=f!==null&&f.memoizedState!==null,_){T=d.child,I=null,T.alternate!==null&&T.alternate.memoizedState!==null&&T.alternate.memoizedState.cachePool!==null&&(I=T.alternate.memoizedState.cachePool.pool);var z=null;T.memoizedState!==null&&T.memoizedState.cachePool!==null&&(z=T.memoizedState.cachePool.pool),z!==I&&(T.flags|=2048)}return _!==f&&_&&(d.child.flags|=8192),hc(d,d.updateQueue),Yi(d),null;case 4:return Kt(),f===null&&QO(d.stateNode.containerInfo),Yi(d),null;case 10:return sc(d.type),Yi(d),null;case 19:if(yt(kr),I=d.memoizedState,I===null)return Yi(d),null;if(T=(d.flags&128)!==0,z=I.rendering,z===null)if(T)Lh(I,!1);else{if(nr!==0||f!==null&&(f.flags&128)!==0)for(f=d.child;f!==null;){if(z=fc(f),z!==null){for(d.flags|=128,Lh(I,!1),f=z.updateQueue,d.updateQueue=f,hc(d,f),d.subtreeFlags=0,f=_,_=d.child;_!==null;)Bb(_,f),_=_.sibling;return xt(kr,kr.current&1|2),d.child}f=f.sibling}I.tail!==null&&ne()>Ks&&(d.flags|=128,T=!0,Lh(I,!1),d.lanes=4194304)}else{if(!T)if(f=fc(z),f!==null){if(d.flags|=128,T=!0,f=f.updateQueue,d.updateQueue=f,hc(d,f),Lh(I,!0),I.tail===null&&I.tailMode==="hidden"&&!z.alternate&&!bi)return Yi(d),null}else 2*ne()-I.renderingStartTime>Ks&&_!==536870912&&(d.flags|=128,T=!0,Lh(I,!1),d.lanes=4194304);I.isBackwards?(z.sibling=d.child,d.child=z):(f=I.last,f!==null?f.sibling=z:d.child=z,I.last=z)}return I.tail!==null?(d=I.tail,I.rendering=d,I.tail=d.sibling,I.renderingStartTime=ne(),d.sibling=null,f=kr.current,xt(kr,T?f&1|2:f&1),d):(Yi(d),null);case 22:case 23:return fu(d),gg(),T=d.memoizedState!==null,f!==null?f.memoizedState!==null!==T&&(d.flags|=8192):T&&(d.flags|=8192),T?(_&536870912)!==0&&(d.flags&128)===0&&(Yi(d),d.subtreeFlags&6&&(d.flags|=8192)):Yi(d),_=d.updateQueue,_!==null&&hc(d,_.retryQueue),_=null,f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(_=f.memoizedState.cachePool.pool),T=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(T=d.memoizedState.cachePool.pool),T!==_&&(d.flags|=2048),f!==null&&yt(Go),null;case 24:return _=null,f!==null&&(_=f.memoizedState.cache),d.memoizedState.cache!==_&&(d.flags|=2048),sc(Zr),Yi(d),null;case 25:return null;case 30:return null}throw Error(r(156,d.tag))}function xp(f,d){switch(Vb(d),d.tag){case 1:return f=d.flags,f&65536?(d.flags=f&-65537|128,d):null;case 3:return sc(Zr),Kt(),f=d.flags,(f&65536)!==0&&(f&128)===0?(d.flags=f&-65537|128,d):null;case 26:case 27:case 5:return te(d),null;case 13:if(fu(d),f=d.memoizedState,f!==null&&f.dehydrated!==null){if(d.alternate===null)throw Error(r(340));ap()}return f=d.flags,f&65536?(d.flags=f&-65537|128,d):null;case 19:return yt(kr),null;case 4:return Kt(),null;case 10:return sc(d.type),null;case 22:case 23:return fu(d),gg(),f!==null&&yt(Go),f=d.flags,f&65536?(d.flags=f&-65537|128,d):null;case 24:return sc(Zr),null;case 25:return null;default:return null}}function Sp(f,d){switch(Vb(d),d.tag){case 3:sc(Zr),Kt();break;case 26:case 27:case 5:te(d);break;case 4:Kt();break;case 13:fu(d);break;case 19:yt(kr);break;case 10:sc(d.type);break;case 22:case 23:fu(d),gg(),f!==null&&yt(Go);break;case 24:sc(Zr)}}function Uh(f,d){try{var _=d.updateQueue,T=_!==null?_.lastEffect:null;if(T!==null){var I=T.next;_=I;do{if((_.tag&f)===f){T=void 0;var z=_.create,tt=_.inst;T=z(),tt.destroy=T}_=_.next}while(_!==I)}}catch(st){Et(d,d.return,st)}}function co(f,d,_){try{var T=d.updateQueue,I=T!==null?T.lastEffect:null;if(I!==null){var z=I.next;T=z;do{if((T.tag&f)===f){var tt=T.inst,st=tt.destroy;if(st!==void 0){tt.destroy=void 0,I=d;var vt=_,zt=st;try{zt()}catch(oe){Et(I,vt,oe)}}}T=T.next}while(T!==z)}}catch(oe){Et(d,d.return,oe)}}function kh(f){var d=f.updateQueue;if(d!==null){var _=f.stateNode;try{oT(d,_)}catch(T){Et(f,f.return,T)}}}function dc(f,d,_){_.props=hu(f.type,f.memoizedProps),_.state=f.memoizedState;try{_.componentWillUnmount()}catch(T){Et(f,d,T)}}function zh(f,d){try{var _=f.ref;if(_!==null){switch(f.tag){case 26:case 27:case 5:var T=f.stateNode;break;case 30:T=f.stateNode;break;default:T=f.stateNode}typeof _=="function"?f.refCleanup=_(T):_.current=T}}catch(I){Et(f,d,I)}}function pu(f,d){var _=f.ref,T=f.refCleanup;if(_!==null)if(typeof T=="function")try{T()}catch(I){Et(f,d,I)}finally{f.refCleanup=null,f=f.alternate,f!=null&&(f.refCleanup=null)}else if(typeof _=="function")try{_(null)}catch(I){Et(f,d,I)}else _.current=null}function Ep(f){var d=f.type,_=f.memoizedProps,T=f.stateNode;try{t:switch(d){case"button":case"input":case"select":case"textarea":_.autoFocus&&T.focus();break t;case"img":_.src?T.src=_.src:_.srcSet&&(T.srcset=_.srcSet)}}catch(I){Et(f,f.return,I)}}function wg(f,d,_){try{var T=f.stateNode;uQ(T,f.type,_,d),T[Ye]=d}catch(I){Et(f,f.return,I)}}function Ag(f){return f.tag===5||f.tag===3||f.tag===26||f.tag===27&&Op(f.type)||f.tag===4}function yf(f){t:for(;;){for(;f.sibling===null;){if(f.return===null||Ag(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(f.tag===27&&Op(f.type)||f.flags&2||f.child===null||f.tag===4)continue t;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function vf(f,d,_){var T=f.tag;if(T===5||T===6)f=f.stateNode,d?(_.nodeType===9?_.body:_.nodeName==="HTML"?_.ownerDocument.body:_).insertBefore(f,d):(d=_.nodeType===9?_.body:_.nodeName==="HTML"?_.ownerDocument.body:_,d.appendChild(f),_=_._reactRootContainer,_!=null||d.onclick!==null||(d.onclick=ZT));else if(T!==4&&(T===27&&Op(f.type)&&(_=f.stateNode,d=null),f=f.child,f!==null))for(vf(f,d,_),f=f.sibling;f!==null;)vf(f,d,_),f=f.sibling}function _f(f,d,_){var T=f.tag;if(T===5||T===6)f=f.stateNode,d?_.insertBefore(f,d):_.appendChild(f);else if(T!==4&&(T===27&&Op(f.type)&&(_=f.stateNode),f=f.child,f!==null))for(_f(f,d,_),f=f.sibling;f!==null;)_f(f,d,_),f=f.sibling}function bf(f){var d=f.stateNode,_=f.memoizedProps;try{for(var T=f.type,I=d.attributes;I.length;)d.removeAttributeNode(I[0]);pa(d,T,_),d[Qe]=f,d[Ye]=_}catch(z){Et(f,f.return,z)}}var mu=!1,Ki=!1,Tp=!1,fo=typeof WeakSet=="function"?WeakSet:Set,Gi=null;function cs(f,d){if(f=f.containerInfo,eP=rw,f=Ib(f),tg(f)){if("selectionStart"in f)var _={start:f.selectionStart,end:f.selectionEnd};else t:{_=(_=f.ownerDocument)&&_.defaultView||window;var T=_.getSelection&&_.getSelection();if(T&&T.rangeCount!==0){_=T.anchorNode;var I=T.anchorOffset,z=T.focusNode;T=T.focusOffset;try{_.nodeType,z.nodeType}catch{_=null;break t}var tt=0,st=-1,vt=-1,zt=0,oe=0,fe=f,Gt=null;e:for(;;){for(var qt;fe!==_||I!==0&&fe.nodeType!==3||(st=tt+I),fe!==z||T!==0&&fe.nodeType!==3||(vt=tt+T),fe.nodeType===3&&(tt+=fe.nodeValue.length),(qt=fe.firstChild)!==null;)Gt=fe,fe=qt;for(;;){if(fe===f)break e;if(Gt===_&&++zt===I&&(st=tt),Gt===z&&++oe===T&&(vt=tt),(qt=fe.nextSibling)!==null)break;fe=Gt,Gt=fe.parentNode}fe=qt}_=st===-1||vt===-1?null:{start:st,end:vt}}else _=null}_=_||{start:0,end:0}}else _=null;for(nP={focusedElem:f,selectionRange:_},rw=!1,Gi=d;Gi!==null;)if(d=Gi,f=d.child,(d.subtreeFlags&1024)!==0&&f!==null)f.return=d,Gi=f;else for(;Gi!==null;){switch(d=Gi,z=d.alternate,f=d.flags,d.tag){case 0:break;case 11:case 15:break;case 1:if((f&1024)!==0&&z!==null){f=void 0,_=d,I=z.memoizedProps,z=z.memoizedState,T=_.stateNode;try{var An=hu(_.type,I,_.elementType===_.type);f=T.getSnapshotBeforeUpdate(An,z),T.__reactInternalSnapshotBeforeUpdate=f}catch(vn){Et(_,_.return,vn)}}break;case 3:if((f&1024)!==0){if(f=d.stateNode.containerInfo,_=f.nodeType,_===9)sP(f);else if(_===1)switch(f.nodeName){case"HEAD":case"HTML":case"BODY":sP(f);break;default:f.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((f&1024)!==0)throw Error(r(163))}if(f=d.sibling,f!==null){f.return=d.return,Gi=f;break}Gi=d.return}}function pc(f,d,_){var T=_.flags;switch(_.tag){case 0:case 11:case 15:ha(f,_),T&4&&Uh(5,_);break;case 1:if(ha(f,_),T&4)if(f=_.stateNode,d===null)try{f.componentDidMount()}catch(tt){Et(_,_.return,tt)}else{var I=hu(_.type,d.memoizedProps);d=d.memoizedState;try{f.componentDidUpdate(I,d,f.__reactInternalSnapshotBeforeUpdate)}catch(tt){Et(_,_.return,tt)}}T&64&&kh(_),T&512&&zh(_,_.return);break;case 3:if(ha(f,_),T&64&&(f=_.updateQueue,f!==null)){if(d=null,_.child!==null)switch(_.child.tag){case 27:case 5:d=_.child.stateNode;break;case 1:d=_.child.stateNode}try{oT(f,d)}catch(tt){Et(_,_.return,tt)}}break;case 27:d===null&&T&4&&bf(_);case 26:case 5:ha(f,_),d===null&&T&4&&Ep(_),T&512&&zh(_,_.return);break;case 12:ha(f,_);break;case 13:ha(f,_),T&4&&xf(f,_),T&64&&(f=_.memoizedState,f!==null&&(f=f.dehydrated,f!==null&&(_=ir.bind(null,_),gQ(f,_))));break;case 22:if(T=_.memoizedState!==null||mu,!T){d=d!==null&&d.memoizedState!==null||Ki,I=mu;var z=Ki;mu=T,(Ki=d)&&!z?gu(f,_,(_.subtreeFlags&8772)!==0):ha(f,_),mu=I,Ki=z}break;case 30:break;default:ha(f,_)}}function Gn(f){var d=f.alternate;d!==null&&(f.alternate=null,Gn(d)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(d=f.stateNode,d!==null&&pi(d)),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}var mn=null,gi=!1;function Ko(f,d,_){for(_=_.child;_!==null;)Bh(f,d,_),_=_.sibling}function Bh(f,d,_){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(_t,_)}catch{}switch(_.tag){case 26:Ki||pu(_,d),Ko(f,d,_),_.memoizedState?_.memoizedState.count--:_.stateNode&&(_=_.stateNode,_.parentNode.removeChild(_));break;case 27:Ki||pu(_,d);var T=mn,I=gi;Op(_.type)&&(mn=_.stateNode,gi=!1),Ko(f,d,_),bx(_.stateNode),mn=T,gi=I;break;case 5:Ki||pu(_,d);case 6:if(T=mn,I=gi,mn=null,Ko(f,d,_),mn=T,gi=I,mn!==null)if(gi)try{(mn.nodeType===9?mn.body:mn.nodeName==="HTML"?mn.ownerDocument.body:mn).removeChild(_.stateNode)}catch(z){Et(_,d,z)}else try{mn.removeChild(_.stateNode)}catch(z){Et(_,d,z)}break;case 18:mn!==null&&(gi?(f=mn,gz(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,_.stateNode),Cx(f)):gz(mn,_.stateNode));break;case 4:T=mn,I=gi,mn=_.stateNode.containerInfo,gi=!0,Ko(f,d,_),mn=T,gi=I;break;case 0:case 11:case 14:case 15:Ki||co(2,_,d),Ki||co(4,_,d),Ko(f,d,_);break;case 1:Ki||(pu(_,d),T=_.stateNode,typeof T.componentWillUnmount=="function"&&dc(_,d,T)),Ko(f,d,_);break;case 21:Ko(f,d,_);break;case 22:Ki=(T=Ki)||_.memoizedState!==null,Ko(f,d,_),Ki=T;break;default:Ko(f,d,_)}}function xf(f,d){if(d.memoizedState===null&&(f=d.alternate,f!==null&&(f=f.memoizedState,f!==null&&(f=f.dehydrated,f!==null))))try{Cx(f)}catch(_){Et(d,d.return,_)}}function Z0(f){switch(f.tag){case 13:case 19:var d=f.stateNode;return d===null&&(d=f.stateNode=new fo),d;case 22:return f=f.stateNode,d=f._retryCache,d===null&&(d=f._retryCache=new fo),d;default:throw Error(r(435,f.tag))}}function Fh(f,d){var _=Z0(f);d.forEach(function(T){var I=Tn.bind(null,f,T);_.has(T)||(_.add(T),T.then(I,I))})}function ws(f,d){var _=d.deletions;if(_!==null)for(var T=0;T<_.length;T++){var I=_[T],z=f,tt=d,st=tt;t:for(;st!==null;){switch(st.tag){case 27:if(Op(st.type)){mn=st.stateNode,gi=!1;break t}break;case 5:mn=st.stateNode,gi=!1;break t;case 3:case 4:mn=st.stateNode.containerInfo,gi=!0;break t}st=st.return}if(mn===null)throw Error(r(160));Bh(z,tt,I),mn=null,gi=!1,z=I.alternate,z!==null&&(z.return=null),I.return=null}if(d.subtreeFlags&13878)for(d=d.child;d!==null;)Q0(d,f),d=d.sibling}var Ul=null;function Q0(f,d){var _=f.alternate,T=f.flags;switch(f.tag){case 0:case 11:case 14:case 15:ws(d,f),Tr(f),T&4&&(co(3,f,f.return),Uh(3,f),co(5,f,f.return));break;case 1:ws(d,f),Tr(f),T&512&&(Ki||_===null||pu(_,_.return)),T&64&&mu&&(f=f.updateQueue,f!==null&&(T=f.callbacks,T!==null&&(_=f.shared.hiddenCallbacks,f.shared.hiddenCallbacks=_===null?T:_.concat(T))));break;case 26:var I=Ul;if(ws(d,f),Tr(f),T&512&&(Ki||_===null||pu(_,_.return)),T&4){var z=_!==null?_.memoizedState:null;if(T=f.memoizedState,_===null)if(T===null)if(f.stateNode===null){t:{T=f.type,_=f.memoizedProps,I=I.ownerDocument||I;e:switch(T){case"title":z=I.getElementsByTagName("title")[0],(!z||z[Ds]||z[Qe]||z.namespaceURI==="http://www.w3.org/2000/svg"||z.hasAttribute("itemprop"))&&(z=I.createElement(T),I.head.insertBefore(z,I.querySelector("head > title"))),pa(z,T,_),z[Qe]=f,hr(z),T=z;break t;case"link":var tt=Tz("link","href",I).get(T+(_.href||""));if(tt){for(var st=0;st<tt.length;st++)if(z=tt[st],z.getAttribute("href")===(_.href==null||_.href===""?null:_.href)&&z.getAttribute("rel")===(_.rel==null?null:_.rel)&&z.getAttribute("title")===(_.title==null?null:_.title)&&z.getAttribute("crossorigin")===(_.crossOrigin==null?null:_.crossOrigin)){tt.splice(st,1);break e}}z=I.createElement(T),pa(z,T,_),I.head.appendChild(z);break;case"meta":if(tt=Tz("meta","content",I).get(T+(_.content||""))){for(st=0;st<tt.length;st++)if(z=tt[st],z.getAttribute("content")===(_.content==null?null:""+_.content)&&z.getAttribute("name")===(_.name==null?null:_.name)&&z.getAttribute("property")===(_.property==null?null:_.property)&&z.getAttribute("http-equiv")===(_.httpEquiv==null?null:_.httpEquiv)&&z.getAttribute("charset")===(_.charSet==null?null:_.charSet)){tt.splice(st,1);break e}}z=I.createElement(T),pa(z,T,_),I.head.appendChild(z);break;default:throw Error(r(468,T))}z[Qe]=f,hr(z),T=z}f.stateNode=T}else wz(I,f.type,f.stateNode);else f.stateNode=Ez(I,T,f.memoizedProps);else z!==T?(z===null?_.stateNode!==null&&(_=_.stateNode,_.parentNode.removeChild(_)):z.count--,T===null?wz(I,f.type,f.stateNode):Ez(I,T,f.memoizedProps)):T===null&&f.stateNode!==null&&wg(f,f.memoizedProps,_.memoizedProps)}break;case 27:ws(d,f),Tr(f),T&512&&(Ki||_===null||pu(_,_.return)),_!==null&&T&4&&wg(f,f.memoizedProps,_.memoizedProps);break;case 5:if(ws(d,f),Tr(f),T&512&&(Ki||_===null||pu(_,_.return)),f.flags&32){I=f.stateNode;try{Ir(I,"")}catch(qt){Et(f,f.return,qt)}}T&4&&f.stateNode!=null&&(I=f.memoizedProps,wg(f,I,_!==null?_.memoizedProps:I)),T&1024&&(Tp=!0);break;case 6:if(ws(d,f),Tr(f),T&4){if(f.stateNode===null)throw Error(r(162));T=f.memoizedProps,_=f.stateNode;try{_.nodeValue=T}catch(qt){Et(f,f.return,qt)}}break;case 3:if(ew=null,I=Ul,Ul=JT(d.containerInfo),ws(d,f),Ul=I,Tr(f),T&4&&_!==null&&_.memoizedState.isDehydrated)try{Cx(d.containerInfo)}catch(qt){Et(f,f.return,qt)}Tp&&(Tp=!1,Sf(f));break;case 4:T=Ul,Ul=JT(f.stateNode.containerInfo),ws(d,f),Tr(f),Ul=T;break;case 12:ws(d,f),Tr(f);break;case 13:ws(d,f),Tr(f),f.child.flags&8192&&f.memoizedState!==null!=(_!==null&&_.memoizedState!==null)&&(ki=ne()),T&4&&(T=f.updateQueue,T!==null&&(f.updateQueue=null,Fh(f,T)));break;case 22:I=f.memoizedState!==null;var vt=_!==null&&_.memoizedState!==null,zt=mu,oe=Ki;if(mu=zt||I,Ki=oe||vt,ws(d,f),Ki=oe,mu=zt,Tr(f),T&8192)t:for(d=f.stateNode,d._visibility=I?d._visibility&-2:d._visibility|1,I&&(_===null||vt||mu||Ki||ho(f)),_=null,d=f;;){if(d.tag===5||d.tag===26){if(_===null){vt=_=d;try{if(z=vt.stateNode,I)tt=z.style,typeof tt.setProperty=="function"?tt.setProperty("display","none","important"):tt.display="none";else{st=vt.stateNode;var fe=vt.memoizedProps.style,Gt=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;st.style.display=Gt==null||typeof Gt=="boolean"?"":(""+Gt).trim()}}catch(qt){Et(vt,vt.return,qt)}}}else if(d.tag===6){if(_===null){vt=d;try{vt.stateNode.nodeValue=I?"":vt.memoizedProps}catch(qt){Et(vt,vt.return,qt)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===f)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===f)break t;for(;d.sibling===null;){if(d.return===null||d.return===f)break t;_===d&&(_=null),d=d.return}_===d&&(_=null),d.sibling.return=d.return,d=d.sibling}T&4&&(T=f.updateQueue,T!==null&&(_=T.retryQueue,_!==null&&(T.retryQueue=null,Fh(f,_))));break;case 19:ws(d,f),Tr(f),T&4&&(T=f.updateQueue,T!==null&&(f.updateQueue=null,Fh(f,T)));break;case 30:break;case 21:break;default:ws(d,f),Tr(f)}}function Tr(f){var d=f.flags;if(d&2){try{for(var _,T=f.return;T!==null;){if(Ag(T)){_=T;break}T=T.return}if(_==null)throw Error(r(160));switch(_.tag){case 27:var I=_.stateNode,z=yf(f);_f(f,z,I);break;case 5:var tt=_.stateNode;_.flags&32&&(Ir(tt,""),_.flags&=-33);var st=yf(f);_f(f,st,tt);break;case 3:case 4:var vt=_.stateNode.containerInfo,zt=yf(f);vf(f,zt,vt);break;default:throw Error(r(161))}}catch(oe){Et(f,f.return,oe)}f.flags&=-3}d&4096&&(f.flags&=-4097)}function Sf(f){if(f.subtreeFlags&1024)for(f=f.child;f!==null;){var d=f;Sf(d),d.tag===5&&d.flags&1024&&d.stateNode.reset(),f=f.sibling}}function ha(f,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)pc(f,d.alternate,d),d=d.sibling}function ho(f){for(f=f.child;f!==null;){var d=f;switch(d.tag){case 0:case 11:case 14:case 15:co(4,d,d.return),ho(d);break;case 1:pu(d,d.return);var _=d.stateNode;typeof _.componentWillUnmount=="function"&&dc(d,d.return,_),ho(d);break;case 27:bx(d.stateNode);case 26:case 5:pu(d,d.return),ho(d);break;case 22:d.memoizedState===null&&ho(d);break;case 30:ho(d);break;default:ho(d)}f=f.sibling}}function gu(f,d,_){for(_=_&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var T=d.alternate,I=f,z=d,tt=z.flags;switch(z.tag){case 0:case 11:case 15:gu(I,z,_),Uh(4,z);break;case 1:if(gu(I,z,_),T=z,I=T.stateNode,typeof I.componentDidMount=="function")try{I.componentDidMount()}catch(zt){Et(T,T.return,zt)}if(T=z,I=T.updateQueue,I!==null){var st=T.stateNode;try{var vt=I.shared.hiddenCallbacks;if(vt!==null)for(I.shared.hiddenCallbacks=null,I=0;I<vt.length;I++)dp(vt[I],st)}catch(zt){Et(T,T.return,zt)}}_&&tt&64&&kh(z),zh(z,z.return);break;case 27:bf(z);case 26:case 5:gu(I,z,_),_&&T===null&&tt&4&&Ep(z),zh(z,z.return);break;case 12:gu(I,z,_);break;case 13:gu(I,z,_),_&&tt&4&&xf(I,z);break;case 22:z.memoizedState===null&&gu(I,z,_),zh(z,z.return);break;case 30:break;default:gu(I,z,_)}d=d.sibling}}function J0(f,d){var _=null;f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(_=f.memoizedState.cachePool.pool),f=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(f=d.memoizedState.cachePool.pool),f!==_&&(f!=null&&f.refCount++,_!=null&&op(_))}function tv(f,d){f=null,d.alternate!==null&&(f=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==f&&(d.refCount++,f!=null&&op(f))}function $i(f,d,_,T){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)ev(f,d,_,T),d=d.sibling}function ev(f,d,_,T){var I=d.flags;switch(d.tag){case 0:case 11:case 15:$i(f,d,_,T),I&2048&&Uh(9,d);break;case 1:$i(f,d,_,T);break;case 3:$i(f,d,_,T),I&2048&&(f=null,d.alternate!==null&&(f=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==f&&(d.refCount++,f!=null&&op(f)));break;case 12:if(I&2048){$i(f,d,_,T),f=d.stateNode;try{var z=d.memoizedProps,tt=z.id,st=z.onPostCommit;typeof st=="function"&&st(tt,d.alternate===null?"mount":"update",f.passiveEffectDuration,-0)}catch(vt){Et(d,d.return,vt)}}else $i(f,d,_,T);break;case 13:$i(f,d,_,T);break;case 23:break;case 22:z=d.stateNode,tt=d.alternate,d.memoizedState!==null?z._visibility&2?$i(f,d,_,T):kl(f,d):z._visibility&2?$i(f,d,_,T):(z._visibility|=2,mc(f,d,_,T,(d.subtreeFlags&10256)!==0)),I&2048&&J0(tt,d);break;case 24:$i(f,d,_,T),I&2048&&tv(d.alternate,d);break;default:$i(f,d,_,T)}}function mc(f,d,_,T,I){for(I=I&&(d.subtreeFlags&10256)!==0,d=d.child;d!==null;){var z=f,tt=d,st=_,vt=T,zt=tt.flags;switch(tt.tag){case 0:case 11:case 15:mc(z,tt,st,vt,I),Uh(8,tt);break;case 23:break;case 22:var oe=tt.stateNode;tt.memoizedState!==null?oe._visibility&2?mc(z,tt,st,vt,I):kl(z,tt):(oe._visibility|=2,mc(z,tt,st,vt,I)),I&&zt&2048&&J0(tt.alternate,tt);break;case 24:mc(z,tt,st,vt,I),I&&zt&2048&&tv(tt.alternate,tt);break;default:mc(z,tt,st,vt,I)}d=d.sibling}}function kl(f,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var _=f,T=d,I=T.flags;switch(T.tag){case 22:kl(_,T),I&2048&&J0(T.alternate,T);break;case 24:kl(_,T),I&2048&&tv(T.alternate,T);break;default:kl(_,T)}d=d.sibling}}var po=8192;function wp(f){if(f.subtreeFlags&po)for(f=f.child;f!==null;)WT(f),f=f.sibling}function WT(f){switch(f.tag){case 26:wp(f),f.flags&po&&f.memoizedState!==null&&RQ(Ul,f.memoizedState,f.memoizedProps);break;case 5:wp(f);break;case 3:case 4:var d=Ul;Ul=JT(f.stateNode.containerInfo),wp(f),Ul=d;break;case 22:f.memoizedState===null&&(d=f.alternate,d!==null&&d.memoizedState!==null?(d=po,po=16777216,wp(f),po=d):wp(f));break;default:wp(f)}}function XT(f){var d=f.alternate;if(d!==null&&(f=d.child,f!==null)){d.child=null;do d=f.sibling,f.sibling=null,f=d;while(f!==null)}}function Zi(f){var d=f.deletions;if((f.flags&16)!==0){if(d!==null)for(var _=0;_<d.length;_++){var T=d[_];Gi=T,vu(T,f)}XT(f)}if(f.subtreeFlags&10256)for(f=f.child;f!==null;)mx(f),f=f.sibling}function mx(f){switch(f.tag){case 0:case 11:case 15:Zi(f),f.flags&2048&&co(9,f,f.return);break;case 3:Zi(f);break;case 12:Zi(f);break;case 22:var d=f.stateNode;f.memoizedState!==null&&d._visibility&2&&(f.return===null||f.return.tag!==13)?(d._visibility&=-3,yu(f)):Zi(f);break;default:Zi(f)}}function yu(f){var d=f.deletions;if((f.flags&16)!==0){if(d!==null)for(var _=0;_<d.length;_++){var T=d[_];Gi=T,vu(T,f)}XT(f)}for(f=f.child;f!==null;){switch(d=f,d.tag){case 0:case 11:case 15:co(8,d,d.return),yu(d);break;case 22:_=d.stateNode,_._visibility&2&&(_._visibility&=-3,yu(d));break;default:yu(d)}f=f.sibling}}function vu(f,d){for(;Gi!==null;){var _=Gi;switch(_.tag){case 0:case 11:case 15:co(8,_,d);break;case 23:case 22:if(_.memoizedState!==null&&_.memoizedState.cachePool!==null){var T=_.memoizedState.cachePool.pool;T!=null&&T.refCount++}break;case 24:op(_.memoizedState.cache)}if(T=_.child,T!==null)T.return=_,Gi=T;else t:for(_=f;Gi!==null;){T=Gi;var I=T.sibling,z=T.return;if(Gn(T),T===_){Gi=null;break t}if(I!==null){I.return=z,Gi=I;break t}Gi=z}}}var wr={getCacheForType:function(f){var d=Er(Zr),_=d.data.get(f);return _===void 0&&(_=f(),d.data.set(f,_)),_}},gx=typeof WeakMap=="function"?WeakMap:Map,Ci=0,In=null,Jn=null,un=0,Vn=0,vr=null,mo=!1,Ap=!1,Mp=!1,Zo=0,nr=0,zl=0,_u=0,Vh=0,Qo=0,yi=0,Ri=null,yn=null,ai=!1,ki=0,Ks=1/0,Jo=null,go=null,fs=0,Zs=null,qi=null,yo=0,gc=0,Mg=null,vo=null,bu=0,Hh=null;function Ar(){if((Ci&2)!==0&&un!==0)return un&-un;if(G.T!==null){var f=Ln;return f!==0?f:XO()}return en()}function nv(){Qo===0&&(Qo=(un&536870912)===0||bi?wt():536870912);var f=ji.current;return f!==null&&(f.flags|=32),Qo}function da(f,d,_){(f===In&&(Vn===2||Vn===9)||f.cancelPendingCommit!==null)&&(Tf(f,0),Bl(f,un,Qo,!1)),se(f,_),((Ci&2)===0||f!==In)&&(f===In&&((Ci&2)===0&&(_u|=_),nr===4&&Bl(f,un,Qo,!1)),Mf(f))}function Cp(f,d,_){if((Ci&6)!==0)throw Error(r(327));var T=!_&&(d&124)===0&&(d&f.expiredLanes)===0||Ue(f,d),I=T?L(f,d):y(f,d,!0),z=T;do{if(I===0){Ap&&!T&&Bl(f,d,0,!1);break}else{if(_=f.current.alternate,z&&!Ef(_)){I=y(f,d,!1),z=!1;continue}if(I===2){if(z=d,f.errorRecoveryDisabledLanes&z)var tt=0;else tt=f.pendingLanes&-536870913,tt=tt!==0?tt:tt&536870912?536870912:0;if(tt!==0){d=tt;t:{var st=f;I=Ri;var vt=st.current.memoizedState.isDehydrated;if(vt&&(Tf(st,tt).flags|=256),tt=y(st,tt,!1),tt!==2){if(Mp&&!vt){st.errorRecoveryDisabledLanes|=z,_u|=z,I=4;break t}z=yn,yn=I,z!==null&&(yn===null?yn=z:yn.push.apply(yn,z))}I=tt}if(z=!1,I!==2)continue}}if(I===1){Tf(f,0),Bl(f,d,0,!0);break}t:{switch(T=f,z=I,z){case 0:case 1:throw Error(r(345));case 4:if((d&4194048)!==d)break;case 6:Bl(T,d,Qo,!mo);break t;case 2:yn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((d&62914560)===d&&(I=ki+300-ne(),10<I)){if(Bl(T,d,Qo,!mo),Ie(T,0,!0)!==0)break t;T.timeoutHandle=pz(Cg.bind(null,T,_,yn,Jo,ai,d,Qo,_u,yi,mo,z,2,-0,0),I);break t}Cg(T,_,yn,Jo,ai,d,Qo,_u,yi,mo,z,0,-0,0)}}break}while(!0);Mf(f)}function Cg(f,d,_,T,I,z,tt,st,vt,zt,oe,fe,Gt,qt){if(f.timeoutHandle=-1,fe=d.subtreeFlags,(fe&8192||(fe&16785408)===16785408)&&(Ex={stylesheets:null,count:0,unsuspend:CQ},WT(d),fe=OQ(),fe!==null)){f.cancelPendingCommit=fe(be.bind(null,f,d,z,_,T,I,tt,st,vt,oe,1,Gt,qt)),Bl(f,z,tt,!zt);return}be(f,d,z,_,T,I,tt,st,vt)}function Ef(f){for(var d=f;;){var _=d.tag;if((_===0||_===11||_===15)&&d.flags&16384&&(_=d.updateQueue,_!==null&&(_=_.stores,_!==null)))for(var T=0;T<_.length;T++){var I=_[T],z=I.getSnapshot;I=I.value;try{if(!Ra(z(),I))return!1}catch{return!1}}if(_=d.child,d.subtreeFlags&16384&&_!==null)_.return=d,d=_;else{if(d===f)break;for(;d.sibling===null;){if(d.return===null||d.return===f)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function Bl(f,d,_,T){d&=~Vh,d&=~_u,f.suspendedLanes|=d,f.pingedLanes&=~d,T&&(f.warmLanes|=d),T=f.expirationTimes;for(var I=d;0<I;){var z=31-Jt(I),tt=1<<z;T[z]=-1,I&=~tt}_!==0&&Se(f,_,d)}function xu(){return(Ci&6)===0?(yx(0),!1):!0}function jh(){if(Jn!==null){if(Vn===0)var f=Jn.return;else f=Jn,rc=of=null,Qb(f),Mh=null,bg=0,f=Jn;for(;f!==null;)Sp(f.alternate,f),f=f.return;Jn=null}}function Tf(f,d){var _=f.timeoutHandle;_!==-1&&(f.timeoutHandle=-1,fQ(_)),_=f.cancelPendingCommit,_!==null&&(f.cancelPendingCommit=null,_()),jh(),In=f,Jn=_=Lr(f.current,null),un=d,Vn=0,vr=null,mo=!1,Ap=Ue(f,d),Mp=!1,yi=Qo=Vh=_u=zl=nr=0,yn=Ri=null,ai=!1,(d&8)!==0&&(d|=d&32);var T=f.entangledLanes;if(T!==0)for(f=f.entanglements,T&=d;0<T;){var I=31-Jt(T),z=1<<I;d|=f[I],T&=~z}return Zo=d,ig(),_}function iv(f,d){Un=null,G.H=_g,d===dg||d===Ol?(d=Wb(),Vn=3):d===qb?(d=Wb(),Vn=4):Vn=d===qT?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,vr=d,Jn===null&&(nr=1,X0(f,Ls(d,f.current)))}function Rp(){var f=G.H;return G.H=_g,f===null?_g:f}function rv(){var f=G.A;return G.A=wr,f}function m(){nr=4,mo||(un&4194048)!==un&&ji.current!==null||(Ap=!0),(zl&134217727)===0&&(_u&134217727)===0||In===null||Bl(In,un,Qo,!1)}function y(f,d,_){var T=Ci;Ci|=2;var I=Rp(),z=rv();(In!==f||un!==d)&&(Jo=null,Tf(f,d)),d=!1;var tt=nr;t:do try{if(Vn!==0&&Jn!==null){var st=Jn,vt=vr;switch(Vn){case 8:jh(),tt=6;break t;case 3:case 2:case 9:case 6:ji.current===null&&(d=!0);var zt=Vn;if(Vn=0,vr=null,bt(f,st,vt,zt),_&&Ap){tt=0;break t}break;default:zt=Vn,Vn=0,vr=null,bt(f,st,vt,zt)}}w(),tt=nr;break}catch(oe){iv(f,oe)}while(!0);return d&&f.shellSuspendCounter++,rc=of=null,Ci=T,G.H=I,G.A=z,Jn===null&&(In=null,un=0,ig()),tt}function w(){for(;Jn!==null;)q(Jn)}function L(f,d){var _=Ci;Ci|=2;var T=Rp(),I=rv();In!==f||un!==d?(Jo=null,Ks=ne()+500,Tf(f,d)):Ap=Ue(f,d);t:do try{if(Vn!==0&&Jn!==null){d=Jn;var z=vr;e:switch(Vn){case 1:Vn=0,vr=null,bt(f,d,z,1);break;case 2:case 9:if(D0(z)){Vn=0,vr=null,ot(d);break}d=function(){Vn!==2&&Vn!==9||In!==f||(Vn=7),Mf(f)},z.then(d,d);break t;case 3:Vn=7;break t;case 4:Vn=5;break t;case 7:D0(z)?(Vn=0,vr=null,ot(d)):(Vn=0,vr=null,bt(f,d,z,7));break;case 5:var tt=null;switch(Jn.tag){case 26:tt=Jn.memoizedState;case 5:case 27:var st=Jn;if(!tt||Az(tt)){Vn=0,vr=null;var vt=st.sibling;if(vt!==null)Jn=vt;else{var zt=st.return;zt!==null?(Jn=zt,Nt(zt)):Jn=null}break e}}Vn=0,vr=null,bt(f,d,z,5);break;case 6:Vn=0,vr=null,bt(f,d,z,6);break;case 8:jh(),nr=6;break t;default:throw Error(r(462))}}F();break}catch(oe){iv(f,oe)}while(!0);return rc=of=null,G.H=T,G.A=I,Ci=_,Jn!==null?0:(In=null,un=0,ig(),nr)}function F(){for(;Jn!==null&&!ce();)q(Jn)}function q(f){var d=Nh(f.alternate,f,Zo);f.memoizedProps=f.pendingProps,d===null?Nt(f):Jn=d}function ot(f){var d=f,_=d.alternate;switch(d.tag){case 15:case 0:d=lo(_,d,d.pendingProps,d.type,void 0,un);break;case 11:d=lo(_,d,d.pendingProps,d.type.render,d.ref,un);break;case 5:Qb(d);default:Sp(_,d),d=Jn=Bb(d,Zo),d=Nh(_,d,Zo)}f.memoizedProps=f.pendingProps,d===null?Nt(f):Jn=d}function bt(f,d,_,T){rc=of=null,Qb(d),Mh=null,bg=0;var I=d.return;try{if(qO(f,I,d,_,un)){nr=1,X0(f,Ls(_,f.current)),Jn=null;return}}catch(z){if(I!==null)throw Jn=I,z;nr=1,X0(f,Ls(_,f.current)),Jn=null;return}d.flags&32768?(bi||T===1?f=!0:Ap||(un&536870912)!==0?f=!1:(mo=f=!0,(T===2||T===9||T===3||T===6)&&(T=ji.current,T!==null&&T.tag===13&&(T.flags|=16384))),ae(d,f)):Nt(d)}function Nt(f){var d=f;do{if((d.flags&32768)!==0){ae(d,mo);return}f=d.return;var _=px(d.alternate,d,Zo);if(_!==null){Jn=_;return}if(d=d.sibling,d!==null){Jn=d;return}Jn=d=f}while(d!==null);nr===0&&(nr=5)}function ae(f,d){do{var _=xp(f.alternate,f);if(_!==null){_.flags&=32767,Jn=_;return}if(_=f.return,_!==null&&(_.flags|=32768,_.subtreeFlags=0,_.deletions=null),!d&&(f=f.sibling,f!==null)){Jn=f;return}Jn=f=_}while(f!==null);nr=6,Jn=null}function be(f,d,_,T,I,z,tt,st,vt){f.cancelPendingCommit=null;do wf();while(fs!==0);if((Ci&6)!==0)throw Error(r(327));if(d!==null){if(d===f.current)throw Error(r(177));if(z=d.lanes|d.childLanes,z|=T0,Pe(f,_,z,tt,st,vt),f===In&&(Jn=In=null,un=0),qi=d,Zs=f,yo=_,gc=z,Mg=I,vo=T,(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?(f.callbackNode=null,f.callbackPriority=0,xi(ut,function(){return Af(),null})):(f.callbackNode=null,f.callbackPriority=0),T=(d.flags&13878)!==0,(d.subtreeFlags&13878)!==0||T){T=G.T,G.T=null,I=X.p,X.p=2,tt=Ci,Ci|=4;try{cs(f,d,_)}finally{Ci=tt,X.p=I,G.T=T}}fs=1,ke(),Ve(),Dn()}}function ke(){if(fs===1){fs=0;var f=Zs,d=qi,_=(d.flags&13878)!==0;if((d.subtreeFlags&13878)!==0||_){_=G.T,G.T=null;var T=X.p;X.p=2;var I=Ci;Ci|=4;try{Q0(d,f);var z=nP,tt=Ib(f.containerInfo),st=z.focusedElem,vt=z.selectionRange;if(tt!==st&&st&&st.ownerDocument&&Pb(st.ownerDocument.documentElement,st)){if(vt!==null&&tg(st)){var zt=vt.start,oe=vt.end;if(oe===void 0&&(oe=zt),"selectionStart"in st)st.selectionStart=zt,st.selectionEnd=Math.min(oe,st.value.length);else{var fe=st.ownerDocument||document,Gt=fe&&fe.defaultView||window;if(Gt.getSelection){var qt=Gt.getSelection(),An=st.textContent.length,vn=Math.min(vt.start,An),Ji=vt.end===void 0?vn:Math.min(vt.end,An);!qt.extend&&vn>Ji&&(tt=Ji,Ji=vn,vn=tt);var Dt=Ob(st,vn),At=Ob(st,Ji);if(Dt&&At&&(qt.rangeCount!==1||qt.anchorNode!==Dt.node||qt.anchorOffset!==Dt.offset||qt.focusNode!==At.node||qt.focusOffset!==At.offset)){var kt=fe.createRange();kt.setStart(Dt.node,Dt.offset),qt.removeAllRanges(),vn>Ji?(qt.addRange(kt),qt.extend(At.node,At.offset)):(kt.setEnd(At.node,At.offset),qt.addRange(kt))}}}}for(fe=[],qt=st;qt=qt.parentNode;)qt.nodeType===1&&fe.push({element:qt,left:qt.scrollLeft,top:qt.scrollTop});for(typeof st.focus=="function"&&st.focus(),st=0;st<fe.length;st++){var ue=fe[st];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}rw=!!eP,nP=eP=null}finally{Ci=I,X.p=T,G.T=_}}f.current=d,fs=2}}function Ve(){if(fs===2){fs=0;var f=Zs,d=qi,_=(d.flags&8772)!==0;if((d.subtreeFlags&8772)!==0||_){_=G.T,G.T=null;var T=X.p;X.p=2;var I=Ci;Ci|=4;try{pc(f,d.alternate,d)}finally{Ci=I,X.p=T,G.T=_}}fs=3}}function Dn(){if(fs===4||fs===3){fs=0,ee();var f=Zs,d=qi,_=yo,T=vo;(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?fs=5:(fs=0,qi=Zs=null,_o(f,f.pendingLanes));var I=f.pendingLanes;if(I===0&&(go=null),je(_),d=d.stateNode,Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(_t,d,void 0,(d.current.flags&128)===128)}catch{}if(T!==null){d=G.T,I=X.p,X.p=2,G.T=null;try{for(var z=f.onRecoverableError,tt=0;tt<T.length;tt++){var st=T[tt];z(st.value,{componentStack:st.stack})}}finally{G.T=d,X.p=I}}(yo&3)!==0&&wf(),Mf(f),I=f.pendingLanes,(_&4194090)!==0&&(I&42)!==0?f===Hh?bu++:(bu=0,Hh=f):bu=0,yx(0)}}function _o(f,d){(f.pooledCacheLanes&=d)===0&&(d=f.pooledCache,d!=null&&(f.pooledCache=null,op(d)))}function wf(f){return ke(),Ve(),Dn(),Af()}function Af(){if(fs!==5)return!1;var f=Zs,d=gc;gc=0;var _=je(yo),T=G.T,I=X.p;try{X.p=32>_?32:_,G.T=null,_=Mg,Mg=null;var z=Zs,tt=yo;if(fs=0,qi=Zs=null,yo=0,(Ci&6)!==0)throw Error(r(331));var st=Ci;if(Ci|=4,mx(z.current),ev(z,z.current,tt,_),Ci=st,yx(0,!1),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(_t,z)}catch{}return!0}finally{X.p=I,G.T=T,_o(f,d)}}function Vt(f,d,_){d=Ls(_,d),d=Y0(f.stateNode,d,2),f=oc(f,d,2),f!==null&&(se(f,2),Mf(f))}function Et(f,d,_){if(f.tag===3)Vt(f,f,_);else for(;d!==null;){if(d.tag===3){Vt(d,f,_);break}else if(d.tag===1){var T=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof T.componentDidCatch=="function"&&(go===null||!go.has(T))){f=Ls(_,f),_=$T(2),T=oc(d,_,2),T!==null&&(K0(_,T,d,f),se(T,2),Mf(T));break}}d=d.return}}function Wt(f,d,_){var T=f.pingCache;if(T===null){T=f.pingCache=new gx;var I=new Set;T.set(d,I)}else I=T.get(d),I===void 0&&(I=new Set,T.set(d,I));I.has(_)||(Mp=!0,I.add(_),f=ve.bind(null,f,d,_),d.then(f,f))}function ve(f,d,_){var T=f.pingCache;T!==null&&T.delete(d),f.pingedLanes|=f.suspendedLanes&_,f.warmLanes&=~_,In===f&&(un&_)===_&&(nr===4||nr===3&&(un&62914560)===un&&300>ne()-ki?(Ci&2)===0&&Tf(f,0):Vh|=_,yi===un&&(yi=0)),Mf(f)}function Je(f,d){d===0&&(d=Ce()),f=nc(f,d),f!==null&&(se(f,d),Mf(f))}function ir(f){var d=f.memoizedState,_=0;d!==null&&(_=d.retryLane),Je(f,_)}function Tn(f,d){var _=0;switch(f.tag){case 13:var T=f.stateNode,I=f.memoizedState;I!==null&&(_=I.retryLane);break;case 19:T=f.stateNode;break;case 22:T=f.stateNode._retryCache;break;default:throw Error(r(314))}T!==null&&T.delete(d),Je(f,_)}function xi(f,d){return Bt(f,d)}var Br=null,ni=null,Su=!1,sv=!1,WO=!1,Rg=0;function Mf(f){f!==ni&&f.next===null&&(ni===null?Br=ni=f:ni=ni.next=f),sv=!0,Su||(Su=!0,nQ())}function yx(f,d){if(!WO&&sv){WO=!0;do for(var _=!1,T=Br;T!==null;){if(f!==0){var I=T.pendingLanes;if(I===0)var z=0;else{var tt=T.suspendedLanes,st=T.pingedLanes;z=(1<<31-Jt(42|f)+1)-1,z&=I&~(tt&~st),z=z&201326741?z&201326741|1:z?z|2:0}z!==0&&(_=!0,rz(T,z))}else z=un,z=Ie(T,T===In?z:0,T.cancelPendingCommit!==null||T.timeoutHandle!==-1),(z&3)===0||Ue(T,z)||(_=!0,rz(T,z));T=T.next}while(_);WO=!1}}function eQ(){ez()}function ez(){sv=Su=!1;var f=0;Rg!==0&&(cQ()&&(f=Rg),Rg=0);for(var d=ne(),_=null,T=Br;T!==null;){var I=T.next,z=nz(T,d);z===0?(T.next=null,_===null?Br=I:_.next=I,I===null&&(ni=_)):(_=T,(f!==0||(z&3)!==0)&&(sv=!0)),T=I}yx(f)}function nz(f,d){for(var _=f.suspendedLanes,T=f.pingedLanes,I=f.expirationTimes,z=f.pendingLanes&-62914561;0<z;){var tt=31-Jt(z),st=1<<tt,vt=I[tt];vt===-1?((st&_)===0||(st&T)!==0)&&(I[tt]=ln(st,d)):vt<=d&&(f.expiredLanes|=st),z&=~st}if(d=In,_=un,_=Ie(f,f===d?_:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),T=f.callbackNode,_===0||f===d&&(Vn===2||Vn===9)||f.cancelPendingCommit!==null)return T!==null&&T!==null&&at(T),f.callbackNode=null,f.callbackPriority=0;if((_&3)===0||Ue(f,_)){if(d=_&-_,d===f.callbackPriority)return d;switch(T!==null&&at(T),je(_)){case 2:case 8:_=le;break;case 32:_=ut;break;case 268435456:_=ct;break;default:_=ut}return T=iz.bind(null,f),_=Bt(_,T),f.callbackPriority=d,f.callbackNode=_,d}return T!==null&&T!==null&&at(T),f.callbackPriority=2,f.callbackNode=null,2}function iz(f,d){if(fs!==0&&fs!==5)return f.callbackNode=null,f.callbackPriority=0,null;var _=f.callbackNode;if(wf()&&f.callbackNode!==_)return null;var T=un;return T=Ie(f,f===In?T:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),T===0?null:(Cp(f,T,d),nz(f,ne()),f.callbackNode!=null&&f.callbackNode===_?iz.bind(null,f):null)}function rz(f,d){if(wf())return null;Cp(f,d,!0)}function nQ(){hQ(function(){(Ci&6)!==0?Bt(Me,eQ):ez()})}function XO(){return Rg===0&&(Rg=wt()),Rg}function sz(f){return f==null||typeof f=="symbol"||typeof f=="boolean"?null:typeof f=="function"?f:yh(""+f)}function az(f,d){var _=d.ownerDocument.createElement("input");return _.name=d.name,_.value=d.value,f.id&&_.setAttribute("form",f.id),d.parentNode.insertBefore(_,d),f=new FormData(f),_.parentNode.removeChild(_),f}function iQ(f,d,_,T,I){if(d==="submit"&&_&&_.stateNode===I){var z=sz((I[Ye]||null).action),tt=T.submitter;tt&&(d=(d=tt[Ye]||null)?sz(d.formAction):tt.getAttribute("formAction"),d!==null&&(z=d,tt=null));var st=new Yc("action","action",null,T,I);f.push({event:st,listeners:[{instance:null,listener:function(){if(T.defaultPrevented){if(Rg!==0){var vt=tt?az(I,tt):new FormData(I);cx(_,{pending:!0,data:vt,method:I.method,action:z},null,vt)}}else typeof z=="function"&&(st.preventDefault(),vt=tt?az(I,tt):new FormData(I),cx(_,{pending:!0,data:vt,method:I.method,action:z},z,vt))},currentTarget:I}]})}}for(var YO=0;YO<ng.length;YO++){var KO=ng[YO],rQ=KO.toLowerCase(),sQ=KO[0].toUpperCase()+KO.slice(1);xs(rQ,"on"+sQ)}xs(oa,"onAnimationEnd"),xs(Lb,"onAnimationIteration"),xs(Pa,"onAnimationStart"),xs("dblclick","onDoubleClick"),xs("focusin","onFocus"),xs("focusout","onBlur"),xs(iT,"onTransitionRun"),xs(tc,"onTransitionStart"),xs(np,"onTransitionCancel"),xs(ec,"onTransitionEnd"),rt("onMouseEnter",["mouseout","mouseover"]),rt("onMouseLeave",["mouseout","mouseover"]),rt("onPointerEnter",["pointerout","pointerover"]),rt("onPointerLeave",["pointerout","pointerover"]),aa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),aa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),aa("onBeforeInput",["compositionend","keypress","textInput","paste"]),aa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),aa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),aa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vx="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aQ=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vx));function oz(f,d){d=(d&4)!==0;for(var _=0;_<f.length;_++){var T=f[_],I=T.event;T=T.listeners;t:{var z=void 0;if(d)for(var tt=T.length-1;0<=tt;tt--){var st=T[tt],vt=st.instance,zt=st.currentTarget;if(st=st.listener,vt!==z&&I.isPropagationStopped())break t;z=st,I.currentTarget=zt;try{z(I)}catch(oe){Rh(oe)}I.currentTarget=null,z=vt}else for(tt=0;tt<T.length;tt++){if(st=T[tt],vt=st.instance,zt=st.currentTarget,st=st.listener,vt!==z&&I.isPropagationStopped())break t;z=st,I.currentTarget=zt;try{z(I)}catch(oe){Rh(oe)}I.currentTarget=null,z=vt}}}}function ui(f,d){var _=d[Hi];_===void 0&&(_=d[Hi]=new Set);var T=f+"__bubble";_.has(T)||(lz(d,f,2,!1),_.add(T))}function ZO(f,d,_){var T=0;d&&(T|=4),lz(_,f,T,d)}var YT="_reactListening"+Math.random().toString(36).slice(2);function QO(f){if(!f[YT]){f[YT]=!0,Wu.forEach(function(_){_!=="selectionchange"&&(aQ.has(_)||ZO(_,!1,f),ZO(_,!0,f))});var d=f.nodeType===9?f:f.ownerDocument;d===null||d[YT]||(d[YT]=!0,ZO("selectionchange",!1,d))}}function lz(f,d,_,T){switch(Iz(d)){case 2:var I=DQ;break;case 8:I=NQ;break;default:I=hP}_=I.bind(null,d,_,f),I=void 0,!Ma||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(I=!0),T?I!==void 0?f.addEventListener(d,_,{capture:!0,passive:I}):f.addEventListener(d,_,!0):I!==void 0?f.addEventListener(d,_,{passive:I}):f.addEventListener(d,_,!1)}function JO(f,d,_,T,I){var z=T;if((d&1)===0&&(d&2)===0&&T!==null)t:for(;;){if(T===null)return;var tt=T.tag;if(tt===3||tt===4){var st=T.stateNode.containerInfo;if(st===I)break;if(tt===4)for(tt=T.return;tt!==null;){var vt=tt.tag;if((vt===3||vt===4)&&tt.stateNode.containerInfo===I)return;tt=tt.return}for(;st!==null;){if(tt=Aa(st),tt===null)return;if(vt=tt.tag,vt===5||vt===6||vt===26||vt===27){T=z=tt;continue t}st=st.parentNode}}T=T.return}Gm(function(){var zt=z,oe=no(_),fe=[];t:{var Gt=E0.get(f);if(Gt!==void 0){var qt=Yc,An=f;switch(f){case"keypress":if(Ca(_)===0)break t;case"keydown":case"keyup":qt=Qc;break;case"focusin":An="focus",qt=vh;break;case"focusout":An="blur",qt=vh;break;case"beforeblur":case"afterblur":qt=vh;break;case"click":if(_.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":qt=io;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":qt=Rb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":qt=Kd;break;case oa:case Lb:case Pa:qt=_h;break;case ec:qt=ko;break;case"scroll":case"scrollend":qt=$m;break;case"wheel":qt=Qd;break;case"copy":case"cut":case"paste":qt=bh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":qt=Th;break;case"toggle":case"beforetoggle":qt=Ml}var vn=(d&4)!==0,Ji=!vn&&(f==="scroll"||f==="scrollend"),Dt=vn?Gt!==null?Gt+"Capture":null:Gt;vn=[];for(var At=zt,kt;At!==null;){var ue=At;if(kt=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||kt===null||Dt===null||(ue=$c(At,Dt),ue!=null&&vn.push(_x(At,ue,kt))),Ji)break;At=At.return}0<vn.length&&(Gt=new qt(Gt,An,null,_,oe),fe.push({event:Gt,listeners:vn}))}}if((d&7)===0){t:{if(Gt=f==="mouseover"||f==="pointerover",qt=f==="mouseout"||f==="pointerout",Gt&&_!==ru&&(An=_.relatedTarget||_.fromElement)&&(Aa(An)||An[Mn]))break t;if((qt||Gt)&&(Gt=oe.window===oe?oe:(Gt=oe.ownerDocument)?Gt.defaultView||Gt.parentWindow:window,qt?(An=_.relatedTarget||_.toElement,qt=zt,An=An?Aa(An):null,An!==null&&(Ji=a(An),vn=An.tag,An!==Ji||vn!==5&&vn!==27&&vn!==6)&&(An=null)):(qt=null,An=zt),qt!==An)){if(vn=io,ue="onMouseLeave",Dt="onMouseEnter",At="mouse",(f==="pointerout"||f==="pointerover")&&(vn=Th,ue="onPointerLeave",Dt="onPointerEnter",At="pointer"),Ji=qt==null?Gt:eo(qt),kt=An==null?Gt:eo(An),Gt=new vn(ue,At+"leave",qt,_,oe),Gt.target=Ji,Gt.relatedTarget=kt,ue=null,Aa(oe)===zt&&(vn=new vn(Dt,At+"enter",An,_,oe),vn.target=kt,vn.relatedTarget=Ji,ue=vn),Ji=ue,qt&&An)e:{for(vn=qt,Dt=An,At=0,kt=vn;kt;kt=av(kt))At++;for(kt=0,ue=Dt;ue;ue=av(ue))kt++;for(;0<At-kt;)vn=av(vn),At--;for(;0<kt-At;)Dt=av(Dt),kt--;for(;At--;){if(vn===Dt||Dt!==null&&vn===Dt.alternate)break e;vn=av(vn),Dt=av(Dt)}vn=null}else vn=null;qt!==null&&uz(fe,Gt,qt,vn,!1),An!==null&&Ji!==null&&uz(fe,Ji,An,vn,!0)}}t:{if(Gt=zt?eo(zt):window,qt=Gt.nodeName&&Gt.nodeName.toLowerCase(),qt==="select"||qt==="input"&&Gt.type==="file")var $e=y0;else if(Kr(Gt))if(v0)$e=Jc;else{$e=tT;var oi=kO}else qt=Gt.nodeName,!qt||qt.toLowerCase()!=="input"||Gt.type!=="checkbox"&&Gt.type!=="radio"?zt&&$d(zt.elementType)&&($e=y0):$e=Jm;if($e&&($e=$e(f,zt))){Nr(fe,$e,_,oe);break t}oi&&oi(f,Gt,zt),f==="focusout"&&zt&&Gt.type==="number"&&zt.memoizedProps.value!=null&&Sr(Gt,"number",Gt.value)}switch(oi=zt?eo(zt):window,f){case"focusin":(Kr(oi)||oi.contentEditable==="true")&&(Qu=oi,b0=zt,eg=null);break;case"focusout":eg=b0=Qu=null;break;case"mousedown":x0=!0;break;case"contextmenu":case"mouseup":case"dragend":x0=!1,Nb(fe,_,oe);break;case"selectionchange":if(Db)break;case"keydown":case"keyup":Nb(fe,_,oe)}var sn;if(Bo)t:{switch(f){case"compositionstart":var bn="onCompositionStart";break t;case"compositionend":bn="onCompositionEnd";break t;case"compositionupdate":bn="onCompositionUpdate";break t}bn=void 0}else ri?Yt(f,_)&&(bn="onCompositionEnd"):f==="keydown"&&_.keyCode===229&&(bn="onCompositionStart");bn&&(K&&_.locale!=="ko"&&(ri||bn!=="onCompositionStart"?bn==="onCompositionEnd"&&ri&&(sn=Wd()):(wl=oe,Wc="value"in wl?wl.value:wl.textContent,ri=!0)),oi=KT(zt,bn),0<oi.length&&(bn=new Sh(bn,f,null,_,oe),fe.push({event:bn,listeners:oi}),sn?bn.data=sn:(sn=Ae(_),sn!==null&&(bn.data=sn)))),(sn=$?gr(f,_):si(f,_))&&(bn=KT(zt,"onBeforeInput"),0<bn.length&&(oi=new Sh("onBeforeInput","beforeinput",null,_,oe),fe.push({event:oi,listeners:bn}),oi.data=sn)),iQ(fe,f,zt,_,oe)}oz(fe,d)})}function _x(f,d,_){return{instance:f,listener:d,currentTarget:_}}function KT(f,d){for(var _=d+"Capture",T=[];f!==null;){var I=f,z=I.stateNode;if(I=I.tag,I!==5&&I!==26&&I!==27||z===null||(I=$c(f,_),I!=null&&T.unshift(_x(f,I,z)),I=$c(f,d),I!=null&&T.push(_x(f,I,z))),f.tag===3)return T;f=f.return}return[]}function av(f){if(f===null)return null;do f=f.return;while(f&&f.tag!==5&&f.tag!==27);return f||null}function uz(f,d,_,T,I){for(var z=d._reactName,tt=[];_!==null&&_!==T;){var st=_,vt=st.alternate,zt=st.stateNode;if(st=st.tag,vt!==null&&vt===T)break;st!==5&&st!==26&&st!==27||zt===null||(vt=zt,I?(zt=$c(_,z),zt!=null&&tt.unshift(_x(_,zt,vt))):I||(zt=$c(_,z),zt!=null&&tt.push(_x(_,zt,vt)))),_=_.return}tt.length!==0&&f.push({event:d,listeners:tt})}var oQ=/\r\n?/g,lQ=/\u0000|\uFFFD/g;function cz(f){return(typeof f=="string"?f:""+f).replace(oQ,`
`).replace(lQ,"")}function fz(f,d){return d=cz(d),cz(f)===d}function ZT(){}function Qi(f,d,_,T,I,z){switch(_){case"children":typeof T=="string"?d==="body"||d==="textarea"&&T===""||Ir(f,T):(typeof T=="number"||typeof T=="bigint")&&d!=="body"&&Ir(f,""+T);break;case"className":Te(f,"class",T);break;case"tabIndex":Te(f,"tabindex",T);break;case"dir":case"role":case"viewBox":case"width":case"height":Te(f,_,T);break;case"style":Gc(f,T,z);break;case"data":if(d!=="object"){Te(f,"data",T);break}case"src":case"href":if(T===""&&(d!=="a"||_!=="href")){f.removeAttribute(_);break}if(T==null||typeof T=="function"||typeof T=="symbol"||typeof T=="boolean"){f.removeAttribute(_);break}T=yh(""+T),f.setAttribute(_,T);break;case"action":case"formAction":if(typeof T=="function"){f.setAttribute(_,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof z=="function"&&(_==="formAction"?(d!=="input"&&Qi(f,d,"name",I.name,I,null),Qi(f,d,"formEncType",I.formEncType,I,null),Qi(f,d,"formMethod",I.formMethod,I,null),Qi(f,d,"formTarget",I.formTarget,I,null)):(Qi(f,d,"encType",I.encType,I,null),Qi(f,d,"method",I.method,I,null),Qi(f,d,"target",I.target,I,null)));if(T==null||typeof T=="symbol"||typeof T=="boolean"){f.removeAttribute(_);break}T=yh(""+T),f.setAttribute(_,T);break;case"onClick":T!=null&&(f.onclick=ZT);break;case"onScroll":T!=null&&ui("scroll",f);break;case"onScrollEnd":T!=null&&ui("scrollend",f);break;case"dangerouslySetInnerHTML":if(T!=null){if(typeof T!="object"||!("__html"in T))throw Error(r(61));if(_=T.__html,_!=null){if(I.children!=null)throw Error(r(60));f.innerHTML=_}}break;case"multiple":f.multiple=T&&typeof T!="function"&&typeof T!="symbol";break;case"muted":f.muted=T&&typeof T!="function"&&typeof T!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(T==null||typeof T=="function"||typeof T=="boolean"||typeof T=="symbol"){f.removeAttribute("xlink:href");break}_=yh(""+T),f.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",_);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":T!=null&&typeof T!="function"&&typeof T!="symbol"?f.setAttribute(_,""+T):f.removeAttribute(_);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":T&&typeof T!="function"&&typeof T!="symbol"?f.setAttribute(_,""):f.removeAttribute(_);break;case"capture":case"download":T===!0?f.setAttribute(_,""):T!==!1&&T!=null&&typeof T!="function"&&typeof T!="symbol"?f.setAttribute(_,T):f.removeAttribute(_);break;case"cols":case"rows":case"size":case"span":T!=null&&typeof T!="function"&&typeof T!="symbol"&&!isNaN(T)&&1<=T?f.setAttribute(_,T):f.removeAttribute(_);break;case"rowSpan":case"start":T==null||typeof T=="function"||typeof T=="symbol"||isNaN(T)?f.removeAttribute(_):f.setAttribute(_,T);break;case"popover":ui("beforetoggle",f),ui("toggle",f),pe(f,"popover",T);break;case"xlinkActuate":we(f,"http://www.w3.org/1999/xlink","xlink:actuate",T);break;case"xlinkArcrole":we(f,"http://www.w3.org/1999/xlink","xlink:arcrole",T);break;case"xlinkRole":we(f,"http://www.w3.org/1999/xlink","xlink:role",T);break;case"xlinkShow":we(f,"http://www.w3.org/1999/xlink","xlink:show",T);break;case"xlinkTitle":we(f,"http://www.w3.org/1999/xlink","xlink:title",T);break;case"xlinkType":we(f,"http://www.w3.org/1999/xlink","xlink:type",T);break;case"xmlBase":we(f,"http://www.w3.org/XML/1998/namespace","xml:base",T);break;case"xmlLang":we(f,"http://www.w3.org/XML/1998/namespace","xml:lang",T);break;case"xmlSpace":we(f,"http://www.w3.org/XML/1998/namespace","xml:space",T);break;case"is":pe(f,"is",T);break;case"innerText":case"textContent":break;default:(!(2<_.length)||_[0]!=="o"&&_[0]!=="O"||_[1]!=="n"&&_[1]!=="N")&&(_=jm.get(_)||_,pe(f,_,T))}}function tP(f,d,_,T,I,z){switch(_){case"style":Gc(f,T,z);break;case"dangerouslySetInnerHTML":if(T!=null){if(typeof T!="object"||!("__html"in T))throw Error(r(61));if(_=T.__html,_!=null){if(I.children!=null)throw Error(r(60));f.innerHTML=_}}break;case"children":typeof T=="string"?Ir(f,T):(typeof T=="number"||typeof T=="bigint")&&Ir(f,""+T);break;case"onScroll":T!=null&&ui("scroll",f);break;case"onScrollEnd":T!=null&&ui("scrollend",f);break;case"onClick":T!=null&&(f.onclick=ZT);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!iu.hasOwnProperty(_))t:{if(_[0]==="o"&&_[1]==="n"&&(I=_.endsWith("Capture"),d=_.slice(2,I?_.length-7:void 0),z=f[Ye]||null,z=z!=null?z[_]:null,typeof z=="function"&&f.removeEventListener(d,z,I),typeof T=="function")){typeof z!="function"&&z!==null&&(_ in f?f[_]=null:f.hasAttribute(_)&&f.removeAttribute(_)),f.addEventListener(d,T,I);break t}_ in f?f[_]=T:T===!0?f.setAttribute(_,""):pe(f,_,T)}}}function pa(f,d,_){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ui("error",f),ui("load",f);var T=!1,I=!1,z;for(z in _)if(_.hasOwnProperty(z)){var tt=_[z];if(tt!=null)switch(z){case"src":T=!0;break;case"srcSet":I=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,d));default:Qi(f,d,z,tt,_,null)}}I&&Qi(f,d,"srcSet",_.srcSet,_,null),T&&Qi(f,d,"src",_.src,_,null);return;case"input":ui("invalid",f);var st=z=tt=I=null,vt=null,zt=null;for(T in _)if(_.hasOwnProperty(T)){var oe=_[T];if(oe!=null)switch(T){case"name":I=oe;break;case"type":tt=oe;break;case"checked":vt=oe;break;case"defaultChecked":zt=oe;break;case"value":z=oe;break;case"defaultValue":st=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(137,d));break;default:Qi(f,d,T,oe,_,null)}}mi(f,z,st,vt,zt,tt,I,!1),er(f);return;case"select":ui("invalid",f),T=tt=z=null;for(I in _)if(_.hasOwnProperty(I)&&(st=_[I],st!=null))switch(I){case"value":z=st;break;case"defaultValue":tt=st;break;case"multiple":T=st;default:Qi(f,d,I,st,_,null)}d=z,_=tt,f.multiple=!!T,d!=null?dr(f,!!T,d,!1):_!=null&&dr(f,!!T,_,!0);return;case"textarea":ui("invalid",f),z=I=T=null;for(tt in _)if(_.hasOwnProperty(tt)&&(st=_[tt],st!=null))switch(tt){case"value":T=st;break;case"defaultValue":I=st;break;case"children":z=st;break;case"dangerouslySetInnerHTML":if(st!=null)throw Error(r(91));break;default:Qi(f,d,tt,st,_,null)}pr(f,T,I,z),er(f);return;case"option":for(vt in _)if(_.hasOwnProperty(vt)&&(T=_[vt],T!=null))switch(vt){case"selected":f.selected=T&&typeof T!="function"&&typeof T!="symbol";break;default:Qi(f,d,vt,T,_,null)}return;case"dialog":ui("beforetoggle",f),ui("toggle",f),ui("cancel",f),ui("close",f);break;case"iframe":case"object":ui("load",f);break;case"video":case"audio":for(T=0;T<vx.length;T++)ui(vx[T],f);break;case"image":ui("error",f),ui("load",f);break;case"details":ui("toggle",f);break;case"embed":case"source":case"link":ui("error",f),ui("load",f);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(zt in _)if(_.hasOwnProperty(zt)&&(T=_[zt],T!=null))switch(zt){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,d));default:Qi(f,d,zt,T,_,null)}return;default:if($d(d)){for(oe in _)_.hasOwnProperty(oe)&&(T=_[oe],T!==void 0&&tP(f,d,oe,T,_,void 0));return}}for(st in _)_.hasOwnProperty(st)&&(T=_[st],T!=null&&Qi(f,d,st,T,_,null))}function uQ(f,d,_,T){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var I=null,z=null,tt=null,st=null,vt=null,zt=null,oe=null;for(qt in _){var fe=_[qt];if(_.hasOwnProperty(qt)&&fe!=null)switch(qt){case"checked":break;case"value":break;case"defaultValue":vt=fe;default:T.hasOwnProperty(qt)||Qi(f,d,qt,null,T,fe)}}for(var Gt in T){var qt=T[Gt];if(fe=_[Gt],T.hasOwnProperty(Gt)&&(qt!=null||fe!=null))switch(Gt){case"type":z=qt;break;case"name":I=qt;break;case"checked":zt=qt;break;case"defaultChecked":oe=qt;break;case"value":tt=qt;break;case"defaultValue":st=qt;break;case"children":case"dangerouslySetInnerHTML":if(qt!=null)throw Error(r(137,d));break;default:qt!==fe&&Qi(f,d,Gt,qt,T,fe)}}Yr(f,tt,st,vt,zt,oe,z,I);return;case"select":qt=tt=st=Gt=null;for(z in _)if(vt=_[z],_.hasOwnProperty(z)&&vt!=null)switch(z){case"value":break;case"multiple":qt=vt;default:T.hasOwnProperty(z)||Qi(f,d,z,null,T,vt)}for(I in T)if(z=T[I],vt=_[I],T.hasOwnProperty(I)&&(z!=null||vt!=null))switch(I){case"value":Gt=z;break;case"defaultValue":st=z;break;case"multiple":tt=z;default:z!==vt&&Qi(f,d,I,z,T,vt)}d=st,_=tt,T=qt,Gt!=null?dr(f,!!_,Gt,!1):!!T!=!!_&&(d!=null?dr(f,!!_,d,!0):dr(f,!!_,_?[]:"",!1));return;case"textarea":qt=Gt=null;for(st in _)if(I=_[st],_.hasOwnProperty(st)&&I!=null&&!T.hasOwnProperty(st))switch(st){case"value":break;case"children":break;default:Qi(f,d,st,null,T,I)}for(tt in T)if(I=T[tt],z=_[tt],T.hasOwnProperty(tt)&&(I!=null||z!=null))switch(tt){case"value":Gt=I;break;case"defaultValue":qt=I;break;case"children":break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(r(91));break;default:I!==z&&Qi(f,d,tt,I,T,z)}On(f,Gt,qt);return;case"option":for(var An in _)if(Gt=_[An],_.hasOwnProperty(An)&&Gt!=null&&!T.hasOwnProperty(An))switch(An){case"selected":f.selected=!1;break;default:Qi(f,d,An,null,T,Gt)}for(vt in T)if(Gt=T[vt],qt=_[vt],T.hasOwnProperty(vt)&&Gt!==qt&&(Gt!=null||qt!=null))switch(vt){case"selected":f.selected=Gt&&typeof Gt!="function"&&typeof Gt!="symbol";break;default:Qi(f,d,vt,Gt,T,qt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vn in _)Gt=_[vn],_.hasOwnProperty(vn)&&Gt!=null&&!T.hasOwnProperty(vn)&&Qi(f,d,vn,null,T,Gt);for(zt in T)if(Gt=T[zt],qt=_[zt],T.hasOwnProperty(zt)&&Gt!==qt&&(Gt!=null||qt!=null))switch(zt){case"children":case"dangerouslySetInnerHTML":if(Gt!=null)throw Error(r(137,d));break;default:Qi(f,d,zt,Gt,T,qt)}return;default:if($d(d)){for(var Ji in _)Gt=_[Ji],_.hasOwnProperty(Ji)&&Gt!==void 0&&!T.hasOwnProperty(Ji)&&tP(f,d,Ji,void 0,T,Gt);for(oe in T)Gt=T[oe],qt=_[oe],!T.hasOwnProperty(oe)||Gt===qt||Gt===void 0&&qt===void 0||tP(f,d,oe,Gt,T,qt);return}}for(var Dt in _)Gt=_[Dt],_.hasOwnProperty(Dt)&&Gt!=null&&!T.hasOwnProperty(Dt)&&Qi(f,d,Dt,null,T,Gt);for(fe in T)Gt=T[fe],qt=_[fe],!T.hasOwnProperty(fe)||Gt===qt||Gt==null&&qt==null||Qi(f,d,fe,Gt,T,qt)}var eP=null,nP=null;function QT(f){return f.nodeType===9?f:f.ownerDocument}function hz(f){switch(f){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function dz(f,d){if(f===0)switch(d){case"svg":return 1;case"math":return 2;default:return 0}return f===1&&d==="foreignObject"?0:f}function iP(f,d){return f==="textarea"||f==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.children=="bigint"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var rP=null;function cQ(){var f=window.event;return f&&f.type==="popstate"?f===rP?!1:(rP=f,!0):(rP=null,!1)}var pz=typeof setTimeout=="function"?setTimeout:void 0,fQ=typeof clearTimeout=="function"?clearTimeout:void 0,mz=typeof Promise=="function"?Promise:void 0,hQ=typeof queueMicrotask=="function"?queueMicrotask:typeof mz<"u"?function(f){return mz.resolve(null).then(f).catch(dQ)}:pz;function dQ(f){setTimeout(function(){throw f})}function Op(f){return f==="head"}function gz(f,d){var _=d,T=0,I=0;do{var z=_.nextSibling;if(f.removeChild(_),z&&z.nodeType===8)if(_=z.data,_==="/$"){if(0<T&&8>T){_=T;var tt=f.ownerDocument;if(_&1&&bx(tt.documentElement),_&2&&bx(tt.body),_&4)for(_=tt.head,bx(_),tt=_.firstChild;tt;){var st=tt.nextSibling,vt=tt.nodeName;tt[Ds]||vt==="SCRIPT"||vt==="STYLE"||vt==="LINK"&&tt.rel.toLowerCase()==="stylesheet"||_.removeChild(tt),tt=st}}if(I===0){f.removeChild(z),Cx(d);return}I--}else _==="$"||_==="$?"||_==="$!"?I++:T=_.charCodeAt(0)-48;else T=0;_=z}while(_);Cx(d)}function sP(f){var d=f.firstChild;for(d&&d.nodeType===10&&(d=d.nextSibling);d;){var _=d;switch(d=d.nextSibling,_.nodeName){case"HTML":case"HEAD":case"BODY":sP(_),pi(_);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(_.rel.toLowerCase()==="stylesheet")continue}f.removeChild(_)}}function pQ(f,d,_,T){for(;f.nodeType===1;){var I=_;if(f.nodeName.toLowerCase()!==d.toLowerCase()){if(!T&&(f.nodeName!=="INPUT"||f.type!=="hidden"))break}else if(T){if(!f[Ds])switch(d){case"meta":if(!f.hasAttribute("itemprop"))break;return f;case"link":if(z=f.getAttribute("rel"),z==="stylesheet"&&f.hasAttribute("data-precedence"))break;if(z!==I.rel||f.getAttribute("href")!==(I.href==null||I.href===""?null:I.href)||f.getAttribute("crossorigin")!==(I.crossOrigin==null?null:I.crossOrigin)||f.getAttribute("title")!==(I.title==null?null:I.title))break;return f;case"style":if(f.hasAttribute("data-precedence"))break;return f;case"script":if(z=f.getAttribute("src"),(z!==(I.src==null?null:I.src)||f.getAttribute("type")!==(I.type==null?null:I.type)||f.getAttribute("crossorigin")!==(I.crossOrigin==null?null:I.crossOrigin))&&z&&f.hasAttribute("async")&&!f.hasAttribute("itemprop"))break;return f;default:return f}}else if(d==="input"&&f.type==="hidden"){var z=I.name==null?null:""+I.name;if(I.type==="hidden"&&f.getAttribute("name")===z)return f}else return f;if(f=yc(f.nextSibling),f===null)break}return null}function mQ(f,d,_){if(d==="")return null;for(;f.nodeType!==3;)if((f.nodeType!==1||f.nodeName!=="INPUT"||f.type!=="hidden")&&!_||(f=yc(f.nextSibling),f===null))return null;return f}function aP(f){return f.data==="$!"||f.data==="$?"&&f.ownerDocument.readyState==="complete"}function gQ(f,d){var _=f.ownerDocument;if(f.data!=="$?"||_.readyState==="complete")d();else{var T=function(){d(),_.removeEventListener("DOMContentLoaded",T)};_.addEventListener("DOMContentLoaded",T),f._reactRetry=T}}function yc(f){for(;f!=null;f=f.nextSibling){var d=f.nodeType;if(d===1||d===3)break;if(d===8){if(d=f.data,d==="$"||d==="$!"||d==="$?"||d==="F!"||d==="F")break;if(d==="/$")return null}}return f}var oP=null;function yz(f){f=f.previousSibling;for(var d=0;f;){if(f.nodeType===8){var _=f.data;if(_==="$"||_==="$!"||_==="$?"){if(d===0)return f;d--}else _==="/$"&&d++}f=f.previousSibling}return null}function vz(f,d,_){switch(d=QT(_),f){case"html":if(f=d.documentElement,!f)throw Error(r(452));return f;case"head":if(f=d.head,!f)throw Error(r(453));return f;case"body":if(f=d.body,!f)throw Error(r(454));return f;default:throw Error(r(451))}}function bx(f){for(var d=f.attributes;d.length;)f.removeAttributeNode(d[0]);pi(f)}var Eu=new Map,_z=new Set;function JT(f){return typeof f.getRootNode=="function"?f.getRootNode():f.nodeType===9?f:f.ownerDocument}var Gh=X.d;X.d={f:yQ,r:vQ,D:_Q,C:bQ,L:xQ,m:SQ,X:TQ,S:EQ,M:wQ};function yQ(){var f=Gh.f(),d=xu();return f||d}function vQ(f){var d=sa(f);d!==null&&d.tag===5&&d.type==="form"?IT(d):Gh.r(f)}var ov=typeof document>"u"?null:document;function bz(f,d,_){var T=ov;if(T&&typeof d=="string"&&d){var I=li(d);I='link[rel="'+f+'"][href="'+I+'"]',typeof _=="string"&&(I+='[crossorigin="'+_+'"]'),_z.has(I)||(_z.add(I),f={rel:f,crossOrigin:_,href:d},T.querySelector(I)===null&&(d=T.createElement("link"),pa(d,"link",f),hr(d),T.head.appendChild(d)))}}function _Q(f){Gh.D(f),bz("dns-prefetch",f,null)}function bQ(f,d){Gh.C(f,d),bz("preconnect",f,d)}function xQ(f,d,_){Gh.L(f,d,_);var T=ov;if(T&&f&&d){var I='link[rel="preload"][as="'+li(d)+'"]';d==="image"&&_&&_.imageSrcSet?(I+='[imagesrcset="'+li(_.imageSrcSet)+'"]',typeof _.imageSizes=="string"&&(I+='[imagesizes="'+li(_.imageSizes)+'"]')):I+='[href="'+li(f)+'"]';var z=I;switch(d){case"style":z=lv(f);break;case"script":z=uv(f)}Eu.has(z)||(f=h({rel:"preload",href:d==="image"&&_&&_.imageSrcSet?void 0:f,as:d},_),Eu.set(z,f),T.querySelector(I)!==null||d==="style"&&T.querySelector(xx(z))||d==="script"&&T.querySelector(Sx(z))||(d=T.createElement("link"),pa(d,"link",f),hr(d),T.head.appendChild(d)))}}function SQ(f,d){Gh.m(f,d);var _=ov;if(_&&f){var T=d&&typeof d.as=="string"?d.as:"script",I='link[rel="modulepreload"][as="'+li(T)+'"][href="'+li(f)+'"]',z=I;switch(T){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":z=uv(f)}if(!Eu.has(z)&&(f=h({rel:"modulepreload",href:f},d),Eu.set(z,f),_.querySelector(I)===null)){switch(T){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(_.querySelector(Sx(z)))return}T=_.createElement("link"),pa(T,"link",f),hr(T),_.head.appendChild(T)}}}function EQ(f,d,_){Gh.S(f,d,_);var T=ov;if(T&&f){var I=_s(T).hoistableStyles,z=lv(f);d=d||"default";var tt=I.get(z);if(!tt){var st={loading:0,preload:null};if(tt=T.querySelector(xx(z)))st.loading=5;else{f=h({rel:"stylesheet",href:f,"data-precedence":d},_),(_=Eu.get(z))&&lP(f,_);var vt=tt=T.createElement("link");hr(vt),pa(vt,"link",f),vt._p=new Promise(function(zt,oe){vt.onload=zt,vt.onerror=oe}),vt.addEventListener("load",function(){st.loading|=1}),vt.addEventListener("error",function(){st.loading|=2}),st.loading|=4,tw(tt,d,T)}tt={type:"stylesheet",instance:tt,count:1,state:st},I.set(z,tt)}}}function TQ(f,d){Gh.X(f,d);var _=ov;if(_&&f){var T=_s(_).hoistableScripts,I=uv(f),z=T.get(I);z||(z=_.querySelector(Sx(I)),z||(f=h({src:f,async:!0},d),(d=Eu.get(I))&&uP(f,d),z=_.createElement("script"),hr(z),pa(z,"link",f),_.head.appendChild(z)),z={type:"script",instance:z,count:1,state:null},T.set(I,z))}}function wQ(f,d){Gh.M(f,d);var _=ov;if(_&&f){var T=_s(_).hoistableScripts,I=uv(f),z=T.get(I);z||(z=_.querySelector(Sx(I)),z||(f=h({src:f,async:!0,type:"module"},d),(d=Eu.get(I))&&uP(f,d),z=_.createElement("script"),hr(z),pa(z,"link",f),_.head.appendChild(z)),z={type:"script",instance:z,count:1,state:null},T.set(I,z))}}function xz(f,d,_,T){var I=(I=lt.current)?JT(I):null;if(!I)throw Error(r(446));switch(f){case"meta":case"title":return null;case"style":return typeof _.precedence=="string"&&typeof _.href=="string"?(d=lv(_.href),_=_s(I).hoistableStyles,T=_.get(d),T||(T={type:"style",instance:null,count:0,state:null},_.set(d,T)),T):{type:"void",instance:null,count:0,state:null};case"link":if(_.rel==="stylesheet"&&typeof _.href=="string"&&typeof _.precedence=="string"){f=lv(_.href);var z=_s(I).hoistableStyles,tt=z.get(f);if(tt||(I=I.ownerDocument||I,tt={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},z.set(f,tt),(z=I.querySelector(xx(f)))&&!z._p&&(tt.instance=z,tt.state.loading=5),Eu.has(f)||(_={rel:"preload",as:"style",href:_.href,crossOrigin:_.crossOrigin,integrity:_.integrity,media:_.media,hrefLang:_.hrefLang,referrerPolicy:_.referrerPolicy},Eu.set(f,_),z||AQ(I,f,_,tt.state))),d&&T===null)throw Error(r(528,""));return tt}if(d&&T!==null)throw Error(r(529,""));return null;case"script":return d=_.async,_=_.src,typeof _=="string"&&d&&typeof d!="function"&&typeof d!="symbol"?(d=uv(_),_=_s(I).hoistableScripts,T=_.get(d),T||(T={type:"script",instance:null,count:0,state:null},_.set(d,T)),T):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,f))}}function lv(f){return'href="'+li(f)+'"'}function xx(f){return'link[rel="stylesheet"]['+f+"]"}function Sz(f){return h({},f,{"data-precedence":f.precedence,precedence:null})}function AQ(f,d,_,T){f.querySelector('link[rel="preload"][as="style"]['+d+"]")?T.loading=1:(d=f.createElement("link"),T.preload=d,d.addEventListener("load",function(){return T.loading|=1}),d.addEventListener("error",function(){return T.loading|=2}),pa(d,"link",_),hr(d),f.head.appendChild(d))}function uv(f){return'[src="'+li(f)+'"]'}function Sx(f){return"script[async]"+f}function Ez(f,d,_){if(d.count++,d.instance===null)switch(d.type){case"style":var T=f.querySelector('style[data-href~="'+li(_.href)+'"]');if(T)return d.instance=T,hr(T),T;var I=h({},_,{"data-href":_.href,"data-precedence":_.precedence,href:null,precedence:null});return T=(f.ownerDocument||f).createElement("style"),hr(T),pa(T,"style",I),tw(T,_.precedence,f),d.instance=T;case"stylesheet":I=lv(_.href);var z=f.querySelector(xx(I));if(z)return d.state.loading|=4,d.instance=z,hr(z),z;T=Sz(_),(I=Eu.get(I))&&lP(T,I),z=(f.ownerDocument||f).createElement("link"),hr(z);var tt=z;return tt._p=new Promise(function(st,vt){tt.onload=st,tt.onerror=vt}),pa(z,"link",T),d.state.loading|=4,tw(z,_.precedence,f),d.instance=z;case"script":return z=uv(_.src),(I=f.querySelector(Sx(z)))?(d.instance=I,hr(I),I):(T=_,(I=Eu.get(z))&&(T=h({},_),uP(T,I)),f=f.ownerDocument||f,I=f.createElement("script"),hr(I),pa(I,"link",T),f.head.appendChild(I),d.instance=I);case"void":return null;default:throw Error(r(443,d.type))}else d.type==="stylesheet"&&(d.state.loading&4)===0&&(T=d.instance,d.state.loading|=4,tw(T,_.precedence,f));return d.instance}function tw(f,d,_){for(var T=_.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),I=T.length?T[T.length-1]:null,z=I,tt=0;tt<T.length;tt++){var st=T[tt];if(st.dataset.precedence===d)z=st;else if(z!==I)break}z?z.parentNode.insertBefore(f,z.nextSibling):(d=_.nodeType===9?_.head:_,d.insertBefore(f,d.firstChild))}function lP(f,d){f.crossOrigin==null&&(f.crossOrigin=d.crossOrigin),f.referrerPolicy==null&&(f.referrerPolicy=d.referrerPolicy),f.title==null&&(f.title=d.title)}function uP(f,d){f.crossOrigin==null&&(f.crossOrigin=d.crossOrigin),f.referrerPolicy==null&&(f.referrerPolicy=d.referrerPolicy),f.integrity==null&&(f.integrity=d.integrity)}var ew=null;function Tz(f,d,_){if(ew===null){var T=new Map,I=ew=new Map;I.set(_,T)}else I=ew,T=I.get(_),T||(T=new Map,I.set(_,T));if(T.has(f))return T;for(T.set(f,null),_=_.getElementsByTagName(f),I=0;I<_.length;I++){var z=_[I];if(!(z[Ds]||z[Qe]||f==="link"&&z.getAttribute("rel")==="stylesheet")&&z.namespaceURI!=="http://www.w3.org/2000/svg"){var tt=z.getAttribute(d)||"";tt=f+tt;var st=T.get(tt);st?st.push(z):T.set(tt,[z])}}return T}function wz(f,d,_){f=f.ownerDocument||f,f.head.insertBefore(_,d==="title"?f.querySelector("head > title"):null)}function MQ(f,d,_){if(_===1||d.itemProp!=null)return!1;switch(f){case"meta":case"title":return!0;case"style":if(typeof d.precedence!="string"||typeof d.href!="string"||d.href==="")break;return!0;case"link":if(typeof d.rel!="string"||typeof d.href!="string"||d.href===""||d.onLoad||d.onError)break;switch(d.rel){case"stylesheet":return f=d.disabled,typeof d.precedence=="string"&&f==null;default:return!0}case"script":if(d.async&&typeof d.async!="function"&&typeof d.async!="symbol"&&!d.onLoad&&!d.onError&&d.src&&typeof d.src=="string")return!0}return!1}function Az(f){return!(f.type==="stylesheet"&&(f.state.loading&3)===0)}var Ex=null;function CQ(){}function RQ(f,d,_){if(Ex===null)throw Error(r(475));var T=Ex;if(d.type==="stylesheet"&&(typeof _.media!="string"||matchMedia(_.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var I=lv(_.href),z=f.querySelector(xx(I));if(z){f=z._p,f!==null&&typeof f=="object"&&typeof f.then=="function"&&(T.count++,T=nw.bind(T),f.then(T,T)),d.state.loading|=4,d.instance=z,hr(z);return}z=f.ownerDocument||f,_=Sz(_),(I=Eu.get(I))&&lP(_,I),z=z.createElement("link"),hr(z);var tt=z;tt._p=new Promise(function(st,vt){tt.onload=st,tt.onerror=vt}),pa(z,"link",_),d.instance=z}T.stylesheets===null&&(T.stylesheets=new Map),T.stylesheets.set(d,f),(f=d.state.preload)&&(d.state.loading&3)===0&&(T.count++,d=nw.bind(T),f.addEventListener("load",d),f.addEventListener("error",d))}}function OQ(){if(Ex===null)throw Error(r(475));var f=Ex;return f.stylesheets&&f.count===0&&cP(f,f.stylesheets),0<f.count?function(d){var _=setTimeout(function(){if(f.stylesheets&&cP(f,f.stylesheets),f.unsuspend){var T=f.unsuspend;f.unsuspend=null,T()}},6e4);return f.unsuspend=d,function(){f.unsuspend=null,clearTimeout(_)}}:null}function nw(){if(this.count--,this.count===0){if(this.stylesheets)cP(this,this.stylesheets);else if(this.unsuspend){var f=this.unsuspend;this.unsuspend=null,f()}}}var iw=null;function cP(f,d){f.stylesheets=null,f.unsuspend!==null&&(f.count++,iw=new Map,d.forEach(PQ,f),iw=null,nw.call(f))}function PQ(f,d){if(!(d.state.loading&4)){var _=iw.get(f);if(_)var T=_.get(null);else{_=new Map,iw.set(f,_);for(var I=f.querySelectorAll("link[data-precedence],style[data-precedence]"),z=0;z<I.length;z++){var tt=I[z];(tt.nodeName==="LINK"||tt.getAttribute("media")!=="not all")&&(_.set(tt.dataset.precedence,tt),T=tt)}T&&_.set(null,T)}I=d.instance,tt=I.getAttribute("data-precedence"),z=_.get(tt)||T,z===T&&_.set(null,I),_.set(tt,I),this.count++,T=nw.bind(this),I.addEventListener("load",T),I.addEventListener("error",T),z?z.parentNode.insertBefore(I,z.nextSibling):(f=f.nodeType===9?f.head:f,f.insertBefore(I,f.firstChild)),d.state.loading|=4}}var Tx={$$typeof:C,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function IQ(f,d,_,T,I,z,tt,st){this.tag=1,this.containerInfo=f,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xt(0),this.hiddenUpdates=Xt(null),this.identifierPrefix=T,this.onUncaughtError=I,this.onCaughtError=z,this.onRecoverableError=tt,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=st,this.incompleteTransitions=new Map}function Mz(f,d,_,T,I,z,tt,st,vt,zt,oe,fe){return f=new IQ(f,d,_,tt,st,vt,zt,fe),d=1,z===!0&&(d|=24),z=Ia(3,null,null,d),f.current=z,z.stateNode=f,d=O0(),d.refCount++,f.pooledCache=d,d.refCount++,z.memoizedState={element:T,isDehydrated:_,cache:d},Xb(z),f}function Cz(f){return f?(f=nf,f):nf}function Rz(f,d,_,T,I,z){I=Cz(I),T.context===null?T.context=I:T.pendingContext=I,T=cu(d),T.payload={element:_},z=z===void 0?null:z,z!==null&&(T.callback=z),_=oc(f,T,d),_!==null&&(da(_,f,d),Ah(_,f,d))}function Oz(f,d){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var _=f.retryLane;f.retryLane=_!==0&&_<d?_:d}}function fP(f,d){Oz(f,d),(f=f.alternate)&&Oz(f,d)}function Pz(f){if(f.tag===13){var d=nc(f,67108864);d!==null&&da(d,f,67108864),fP(f,67108864)}}var rw=!0;function DQ(f,d,_,T){var I=G.T;G.T=null;var z=X.p;try{X.p=2,hP(f,d,_,T)}finally{X.p=z,G.T=I}}function NQ(f,d,_,T){var I=G.T;G.T=null;var z=X.p;try{X.p=8,hP(f,d,_,T)}finally{X.p=z,G.T=I}}function hP(f,d,_,T){if(rw){var I=dP(T);if(I===null)JO(f,d,T,sw,_),Dz(f,T);else if(UQ(I,f,d,_,T))T.stopPropagation();else if(Dz(f,T),d&4&&-1<LQ.indexOf(f)){for(;I!==null;){var z=sa(I);if(z!==null)switch(z.tag){case 3:if(z=z.stateNode,z.current.memoizedState.isDehydrated){var tt=Zt(z.pendingLanes);if(tt!==0){var st=z;for(st.pendingLanes|=2,st.entangledLanes|=2;tt;){var vt=1<<31-Jt(tt);st.entanglements[1]|=vt,tt&=~vt}Mf(z),(Ci&6)===0&&(Ks=ne()+500,yx(0))}}break;case 13:st=nc(z,2),st!==null&&da(st,z,2),xu(),fP(z,2)}if(z=dP(T),z===null&&JO(f,d,T,sw,_),z===I)break;I=z}I!==null&&T.stopPropagation()}else JO(f,d,T,null,_)}}function dP(f){return f=no(f),pP(f)}var sw=null;function pP(f){if(sw=null,f=Aa(f),f!==null){var d=a(f);if(d===null)f=null;else{var _=d.tag;if(_===13){if(f=o(d),f!==null)return f;f=null}else if(_===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;f=null}else d!==f&&(f=null)}}return sw=f,null}function Iz(f){switch(f){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ie()){case Me:return 2;case le:return 8;case ut:case j:return 32;case ct:return 268435456;default:return 32}default:return 32}}var mP=!1,Pp=null,Ip=null,Dp=null,wx=new Map,Ax=new Map,Np=[],LQ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Dz(f,d){switch(f){case"focusin":case"focusout":Pp=null;break;case"dragenter":case"dragleave":Ip=null;break;case"mouseover":case"mouseout":Dp=null;break;case"pointerover":case"pointerout":wx.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ax.delete(d.pointerId)}}function Mx(f,d,_,T,I,z){return f===null||f.nativeEvent!==z?(f={blockedOn:d,domEventName:_,eventSystemFlags:T,nativeEvent:z,targetContainers:[I]},d!==null&&(d=sa(d),d!==null&&Pz(d)),f):(f.eventSystemFlags|=T,d=f.targetContainers,I!==null&&d.indexOf(I)===-1&&d.push(I),f)}function UQ(f,d,_,T,I){switch(d){case"focusin":return Pp=Mx(Pp,f,d,_,T,I),!0;case"dragenter":return Ip=Mx(Ip,f,d,_,T,I),!0;case"mouseover":return Dp=Mx(Dp,f,d,_,T,I),!0;case"pointerover":var z=I.pointerId;return wx.set(z,Mx(wx.get(z)||null,f,d,_,T,I)),!0;case"gotpointercapture":return z=I.pointerId,Ax.set(z,Mx(Ax.get(z)||null,f,d,_,T,I)),!0}return!1}function Nz(f){var d=Aa(f.target);if(d!==null){var _=a(d);if(_!==null){if(d=_.tag,d===13){if(d=o(_),d!==null){f.blockedOn=d,Ee(f.priority,function(){if(_.tag===13){var T=Ar();T=Qn(T);var I=nc(_,T);I!==null&&da(I,_,T),fP(_,T)}});return}}else if(d===3&&_.stateNode.current.memoizedState.isDehydrated){f.blockedOn=_.tag===3?_.stateNode.containerInfo:null;return}}}f.blockedOn=null}function aw(f){if(f.blockedOn!==null)return!1;for(var d=f.targetContainers;0<d.length;){var _=dP(f.nativeEvent);if(_===null){_=f.nativeEvent;var T=new _.constructor(_.type,_);ru=T,_.target.dispatchEvent(T),ru=null}else return d=sa(_),d!==null&&Pz(d),f.blockedOn=_,!1;d.shift()}return!0}function Lz(f,d,_){aw(f)&&_.delete(d)}function kQ(){mP=!1,Pp!==null&&aw(Pp)&&(Pp=null),Ip!==null&&aw(Ip)&&(Ip=null),Dp!==null&&aw(Dp)&&(Dp=null),wx.forEach(Lz),Ax.forEach(Lz)}function ow(f,d){f.blockedOn===d&&(f.blockedOn=null,mP||(mP=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,kQ)))}var lw=null;function Uz(f){lw!==f&&(lw=f,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){lw===f&&(lw=null);for(var d=0;d<f.length;d+=3){var _=f[d],T=f[d+1],I=f[d+2];if(typeof T!="function"){if(pP(T||_)===null)continue;break}var z=sa(_);z!==null&&(f.splice(d,3),d-=3,cx(z,{pending:!0,data:I,method:_.method,action:T},T,I))}}))}function Cx(f){function d(vt){return ow(vt,f)}Pp!==null&&ow(Pp,f),Ip!==null&&ow(Ip,f),Dp!==null&&ow(Dp,f),wx.forEach(d),Ax.forEach(d);for(var _=0;_<Np.length;_++){var T=Np[_];T.blockedOn===f&&(T.blockedOn=null)}for(;0<Np.length&&(_=Np[0],_.blockedOn===null);)Nz(_),_.blockedOn===null&&Np.shift();if(_=(f.ownerDocument||f).$$reactFormReplay,_!=null)for(T=0;T<_.length;T+=3){var I=_[T],z=_[T+1],tt=I[Ye]||null;if(typeof z=="function")tt||Uz(_);else if(tt){var st=null;if(z&&z.hasAttribute("formAction")){if(I=z,tt=z[Ye]||null)st=tt.formAction;else if(pP(I)!==null)continue}else st=tt.action;typeof st=="function"?_[T+1]=st:(_.splice(T,3),T-=3),Uz(_)}}}function gP(f){this._internalRoot=f}uw.prototype.render=gP.prototype.render=function(f){var d=this._internalRoot;if(d===null)throw Error(r(409));var _=d.current,T=Ar();Rz(_,T,f,d,null,null)},uw.prototype.unmount=gP.prototype.unmount=function(){var f=this._internalRoot;if(f!==null){this._internalRoot=null;var d=f.containerInfo;Rz(f.current,2,null,f,null,null),xu(),d[Mn]=null}};function uw(f){this._internalRoot=f}uw.prototype.unstable_scheduleHydration=function(f){if(f){var d=en();f={blockedOn:null,target:f,priority:d};for(var _=0;_<Np.length&&d!==0&&d<Np[_].priority;_++);Np.splice(_,0,f),_===0&&Nz(f)}};var kz=e.version;if(kz!=="19.1.0")throw Error(r(527,kz,"19.1.0"));X.findDOMNode=function(f){var d=f._reactInternals;if(d===void 0)throw typeof f.render=="function"?Error(r(188)):(f=Object.keys(f).join(","),Error(r(268,f)));return f=u(d),f=f!==null?c(f):null,f=f===null?null:f.stateNode,f};var zQ={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cw=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cw.isDisabled&&cw.supportsFiber)try{_t=cw.inject(zQ),Ct=cw}catch{}}return Px.createRoot=function(f,d){if(!s(f))throw Error(r(299));var _=!1,T="",I=Sg,z=W0,tt=GT,st=null;return d!=null&&(d.unstable_strictMode===!0&&(_=!0),d.identifierPrefix!==void 0&&(T=d.identifierPrefix),d.onUncaughtError!==void 0&&(I=d.onUncaughtError),d.onCaughtError!==void 0&&(z=d.onCaughtError),d.onRecoverableError!==void 0&&(tt=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(st=d.unstable_transitionCallbacks)),d=Mz(f,1,!1,null,null,_,T,I,z,tt,st,null),f[Mn]=d.current,QO(f),new gP(d)},Px.hydrateRoot=function(f,d,_){if(!s(f))throw Error(r(299));var T=!1,I="",z=Sg,tt=W0,st=GT,vt=null,zt=null;return _!=null&&(_.unstable_strictMode===!0&&(T=!0),_.identifierPrefix!==void 0&&(I=_.identifierPrefix),_.onUncaughtError!==void 0&&(z=_.onUncaughtError),_.onCaughtError!==void 0&&(tt=_.onCaughtError),_.onRecoverableError!==void 0&&(st=_.onRecoverableError),_.unstable_transitionCallbacks!==void 0&&(vt=_.unstable_transitionCallbacks),_.formState!==void 0&&(zt=_.formState)),d=Mz(f,1,!0,d,_??null,T,I,z,tt,st,vt,zt),d.context=Cz(null),_=d.current,T=Ar(),T=Qn(T),I=cu(T),I.callback=null,oc(_,I,T),_=T,d.current.lanes=_,se(d,_),Mf(d),f[Mn]=d.current,QO(f),new uw(d)},Px.version="19.1.0",Px}var Wz;function KQ(){if(Wz)return _P.exports;Wz=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),_P.exports=YQ(),_P.exports}var ZQ=KQ();/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const dE="174",QQ={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},JQ={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},c7=0,a3=1,f7=2,tJ=3,h7=0,V2=1,B1=2,Ec=3,Rd=0,Mo=1,Vf=2,Td=0,Sy=1,VM=2,o3=3,l3=4,d7=5,tm=100,p7=101,m7=102,g7=103,y7=104,v7=200,_7=201,b7=202,x7=203,HM=204,jM=205,S7=206,E7=207,T7=208,w7=209,A7=210,M7=211,C7=212,R7=213,O7=214,GM=0,$M=1,qM=2,ky=3,WM=4,XM=5,YM=6,KM=7,pE=0,P7=1,I7=2,Kf=0,D7=1,N7=2,L7=3,LL=4,U7=5,k7=6,z7=7,u3="attached",B7="detached",H2=300,Od=301,Sm=302,gS=303,yS=304,ub=306,vS=1e3,Lu=1001,_S=1002,ba=1003,UL=1004,eJ=1004,o_=1005,nJ=1005,Vs=1006,F1=1007,iJ=1007,Gf=1008,rJ=1008,Lc=1009,kL=1010,zL=1011,C_=1012,j2=1013,Pd=1014,ll=1015,cb=1016,G2=1017,$2=1018,zy=1020,BL=35902,FL=1021,VL=1022,Xa=1023,HL=1024,jL=1025,Ey=1026,By=1027,q2=1028,mE=1029,GL=1030,W2=1031,sJ=1032,X2=1033,V1=33776,H1=33777,j1=33778,G1=33779,ZM=35840,QM=35841,JM=35842,tC=35843,eC=36196,nC=37492,iC=37496,rC=37808,sC=37809,aC=37810,oC=37811,lC=37812,uC=37813,cC=37814,fC=37815,hC=37816,dC=37817,pC=37818,mC=37819,gC=37820,yC=37821,$1=36492,vC=36494,_C=36495,$L=36283,bC=36284,xC=36285,SC=36286,F7=2200,V7=2201,H7=2202,bS=2300,EC=2301,sM=2302,cy=2400,fy=2401,xS=2402,Y2=2500,qL=2501,aJ=0,oJ=1,lJ=2,j7=3200,G7=3201,uJ=3202,cJ=3203,Nm=0,$7=1,hd="",ya="srgb",Em="srgb-linear",SS="linear",Wi="srgb",fJ=0,Zg=7680,hJ=7681,dJ=7682,pJ=7683,mJ=34055,gJ=34056,yJ=5386,vJ=512,_J=513,bJ=514,xJ=515,SJ=516,EJ=517,TJ=518,c3=519,q7=512,W7=513,X7=514,WL=515,Y7=516,K7=517,Z7=518,Q7=519,ES=35044,wJ=35048,AJ=35040,MJ=35045,CJ=35049,RJ=35041,OJ=35046,PJ=35050,IJ=35042,DJ="100",f3="300 es",Oc=2e3,TS=2001,NJ={COMPUTE:"compute",RENDER:"render"};let dh=class{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){const r=this._listeners;return r===void 0?!1:r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){const r=this._listeners;if(r===void 0)return;const s=r[e];if(s!==void 0){const a=s.indexOf(n);a!==-1&&s.splice(a,1)}}dispatchEvent(e){const n=this._listeners;if(n===void 0)return;const r=n[e.type];if(r!==void 0){e.target=this;const s=r.slice(0);for(let a=0,o=s.length;a<o;a++)s[a].call(this,e);e.target=null}}};const ka=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let Xz=1234567;const Ty=Math.PI/180,R_=180/Math.PI;function Xl(){const i=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(ka[i&255]+ka[i>>8&255]+ka[i>>16&255]+ka[i>>24&255]+"-"+ka[e&255]+ka[e>>8&255]+"-"+ka[e>>16&15|64]+ka[e>>24&255]+"-"+ka[n&63|128]+ka[n>>8&255]+"-"+ka[n>>16&255]+ka[n>>24&255]+ka[r&255]+ka[r>>8&255]+ka[r>>16&255]+ka[r>>24&255]).toLowerCase()}function kn(i,e,n){return Math.max(e,Math.min(n,i))}function XL(i,e){return(i%e+e)%e}function LJ(i,e,n,r,s){return r+(i-e)*(s-r)/(n-e)}function UJ(i,e,n){return i!==e?(n-i)/(e-i):0}function q1(i,e,n){return(1-n)*i+n*e}function kJ(i,e,n,r){return q1(i,e,1-Math.exp(-n*r))}function zJ(i,e=1){return e-Math.abs(XL(i,e*2)-e)}function BJ(i,e,n){return i<=e?0:i>=n?1:(i=(i-e)/(n-e),i*i*(3-2*i))}function FJ(i,e,n){return i<=e?0:i>=n?1:(i=(i-e)/(n-e),i*i*i*(i*(i*6-15)+10))}function VJ(i,e){return i+Math.floor(Math.random()*(e-i+1))}function HJ(i,e){return i+Math.random()*(e-i)}function jJ(i){return i*(.5-Math.random())}function GJ(i){i!==void 0&&(Xz=i);let e=Xz+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function $J(i){return i*Ty}function qJ(i){return i*R_}function WJ(i){return(i&i-1)===0&&i!==0}function XJ(i){return Math.pow(2,Math.ceil(Math.log(i)/Math.LN2))}function YJ(i){return Math.pow(2,Math.floor(Math.log(i)/Math.LN2))}function KJ(i,e,n,r,s){const a=Math.cos,o=Math.sin,l=a(n/2),u=o(n/2),c=a((e+r)/2),h=o((e+r)/2),p=a((e-r)/2),g=o((e-r)/2),v=a((r-e)/2),b=o((r-e)/2);switch(s){case"XYX":i.set(l*h,u*p,u*g,l*c);break;case"YZY":i.set(u*g,l*h,u*p,l*c);break;case"ZXZ":i.set(u*p,u*g,l*h,l*c);break;case"XZX":i.set(l*h,u*b,u*v,l*c);break;case"YXY":i.set(u*v,l*h,u*b,l*c);break;case"ZYZ":i.set(u*b,u*v,l*h,l*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+s)}}function To(i,e){switch(e.constructor){case Float32Array:return i;case Uint32Array:return i/4294967295;case Uint16Array:return i/65535;case Uint8Array:return i/255;case Int32Array:return Math.max(i/2147483647,-1);case Int16Array:return Math.max(i/32767,-1);case Int8Array:return Math.max(i/127,-1);default:throw new Error("Invalid component type.")}}function $n(i,e){switch(e.constructor){case Float32Array:return i;case Uint32Array:return Math.round(i*4294967295);case Uint16Array:return Math.round(i*65535);case Uint8Array:return Math.round(i*255);case Int32Array:return Math.round(i*2147483647);case Int16Array:return Math.round(i*32767);case Int8Array:return Math.round(i*127);default:throw new Error("Invalid component type.")}}const J7={DEG2RAD:Ty,RAD2DEG:R_,generateUUID:Xl,clamp:kn,euclideanModulo:XL,mapLinear:LJ,inverseLerp:UJ,lerp:q1,damp:kJ,pingpong:zJ,smoothstep:BJ,smootherstep:FJ,randInt:VJ,randFloat:HJ,randFloatSpread:jJ,seededRandom:GJ,degToRad:$J,radToDeg:qJ,isPowerOfTwo:WJ,ceilPowerOfTwo:XJ,floorPowerOfTwo:YJ,setQuaternionFromProperEuler:KJ,normalize:$n,denormalize:To};class me{constructor(e=0,n=0){me.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,s=e.elements;return this.x=s[0]*n+s[3]*r+s[6],this.y=s[1]*n+s[4]*r+s[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=kn(this.x,e.x,n.x),this.y=kn(this.y,e.y,n.y),this}clampScalar(e,n){return this.x=kn(this.x,e,n),this.y=kn(this.y,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(kn(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(kn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),s=Math.sin(n),a=this.x-e.x,o=this.y-e.y;return this.x=a*r-o*s+e.x,this.y=a*s+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Hn{constructor(e,n,r,s,a,o,l,u,c){Hn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,s,a,o,l,u,c)}set(e,n,r,s,a,o,l,u,c){const h=this.elements;return h[0]=e,h[1]=s,h[2]=l,h[3]=n,h[4]=a,h[5]=u,h[6]=r,h[7]=o,h[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,s=n.elements,a=this.elements,o=r[0],l=r[3],u=r[6],c=r[1],h=r[4],p=r[7],g=r[2],v=r[5],b=r[8],S=s[0],E=s[3],x=s[6],A=s[1],C=s[4],M=s[7],P=s[2],k=s[5],D=s[8];return a[0]=o*S+l*A+u*P,a[3]=o*E+l*C+u*k,a[6]=o*x+l*M+u*D,a[1]=c*S+h*A+p*P,a[4]=c*E+h*C+p*k,a[7]=c*x+h*M+p*D,a[2]=g*S+v*A+b*P,a[5]=g*E+v*C+b*k,a[8]=g*x+v*M+b*D,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],s=e[2],a=e[3],o=e[4],l=e[5],u=e[6],c=e[7],h=e[8];return n*o*h-n*l*c-r*a*h+r*l*u+s*a*c-s*o*u}invert(){const e=this.elements,n=e[0],r=e[1],s=e[2],a=e[3],o=e[4],l=e[5],u=e[6],c=e[7],h=e[8],p=h*o-l*c,g=l*u-h*a,v=c*a-o*u,b=n*p+r*g+s*v;if(b===0)return this.set(0,0,0,0,0,0,0,0,0);const S=1/b;return e[0]=p*S,e[1]=(s*c-h*r)*S,e[2]=(l*r-s*o)*S,e[3]=g*S,e[4]=(h*n-s*u)*S,e[5]=(s*a-l*n)*S,e[6]=v*S,e[7]=(r*u-c*n)*S,e[8]=(o*n-r*a)*S,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,s,a,o,l){const u=Math.cos(a),c=Math.sin(a);return this.set(r*u,r*c,-r*(u*o+c*l)+o+e,-s*c,s*u,-s*(-c*o+u*l)+l+n,0,0,1),this}scale(e,n){return this.premultiply(EP.makeScale(e,n)),this}rotate(e){return this.premultiply(EP.makeRotation(-e)),this}translate(e,n){return this.premultiply(EP.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let s=0;s<9;s++)if(n[s]!==r[s])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const EP=new Hn;function tj(i){for(let e=i.length-1;e>=0;--e)if(i[e]>=65535)return!0;return!1}const ZJ={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function l_(i,e){return new ZJ[i](e)}function wS(i){return document.createElementNS("http://www.w3.org/1999/xhtml",i)}function ej(){const i=wS("canvas");return i.style.display="block",i}const Yz={};function Qg(i){i in Yz||(Yz[i]=!0,console.warn(i))}function QJ(i,e,n){return new Promise(function(r,s){function a(){switch(i.clientWaitSync(e,i.SYNC_FLUSH_COMMANDS_BIT,0)){case i.WAIT_FAILED:s();break;case i.TIMEOUT_EXPIRED:setTimeout(a,n);break;default:r()}}setTimeout(a,n)})}function JJ(i){const e=i.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function ttt(i){const e=i.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const Kz=new Hn().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),Zz=new Hn().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function ett(){const i={enabled:!0,workingColorSpace:Em,spaces:{},convert:function(s,a,o){return this.enabled===!1||a===o||!a||!o||(this.spaces[a].transfer===Wi&&(s.r=wd(s.r),s.g=wd(s.g),s.b=wd(s.b)),this.spaces[a].primaries!==this.spaces[o].primaries&&(s.applyMatrix3(this.spaces[a].toXYZ),s.applyMatrix3(this.spaces[o].fromXYZ)),this.spaces[o].transfer===Wi&&(s.r=p_(s.r),s.g=p_(s.g),s.b=p_(s.b))),s},fromWorkingColorSpace:function(s,a){return this.convert(s,this.workingColorSpace,a)},toWorkingColorSpace:function(s,a){return this.convert(s,a,this.workingColorSpace)},getPrimaries:function(s){return this.spaces[s].primaries},getTransfer:function(s){return s===hd?SS:this.spaces[s].transfer},getLuminanceCoefficients:function(s,a=this.workingColorSpace){return s.fromArray(this.spaces[a].luminanceCoefficients)},define:function(s){Object.assign(this.spaces,s)},_getMatrix:function(s,a,o){return s.copy(this.spaces[a].toXYZ).multiply(this.spaces[o].fromXYZ)},_getDrawingBufferColorSpace:function(s){return this.spaces[s].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(s=this.workingColorSpace){return this.spaces[s].workingColorSpaceConfig.unpackColorSpace}},e=[.64,.33,.3,.6,.15,.06],n=[.2126,.7152,.0722],r=[.3127,.329];return i.define({[Em]:{primaries:e,whitePoint:r,transfer:SS,toXYZ:Kz,fromXYZ:Zz,luminanceCoefficients:n,workingColorSpaceConfig:{unpackColorSpace:ya},outputColorSpaceConfig:{drawingBufferColorSpace:ya}},[ya]:{primaries:e,whitePoint:r,transfer:Wi,toXYZ:Kz,fromXYZ:Zz,luminanceCoefficients:n,outputColorSpaceConfig:{drawingBufferColorSpace:ya}}}),i}const vi=ett();function wd(i){return i<.04045?i*.0773993808:Math.pow(i*.9478672986+.0521327014,2.4)}function p_(i){return i<.0031308?i*12.92:1.055*Math.pow(i,.41666)-.055}let cv;class nj{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{cv===void 0&&(cv=wS("canvas")),cv.width=e.width,cv.height=e.height;const r=cv.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=cv}return n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=wS("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const s=r.getImageData(0,0,e.width,e.height),a=s.data;for(let o=0;o<a.length;o++)a[o]=wd(a[o]/255)*255;return r.putImageData(s,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(wd(n[r]/255)*255):n[r]=wd(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let ntt=0;class am{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:ntt++}),this.uuid=Xl(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},s=this.data;if(s!==null){let a;if(Array.isArray(s)){a=[];for(let o=0,l=s.length;o<l;o++)s[o].isDataTexture?a.push(TP(s[o].image)):a.push(TP(s[o]))}else a=TP(s);r.url=a}return n||(e.images[this.uuid]=r),r}}function TP(i){return typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&i instanceof ImageBitmap?nj.getDataURL(i):i.data?{data:Array.from(i.data),width:i.width,height:i.height,type:i.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let itt=0;class as extends dh{constructor(e=as.DEFAULT_IMAGE,n=as.DEFAULT_MAPPING,r=Lu,s=Lu,a=Vs,o=Gf,l=Xa,u=Lc,c=as.DEFAULT_ANISOTROPY,h=hd){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:itt++}),this.uuid=Xl(),this.name="",this.source=new am(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=s,this.magFilter=a,this.minFilter=o,this.anisotropy=c,this.format=l,this.internalFormat=null,this.type=u,this.offset=new me(0,0),this.repeat=new me(1,1),this.center=new me(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Hn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=h,this.userData={},this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==H2)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case vS:e.x=e.x-Math.floor(e.x);break;case Lu:e.x=e.x<0?0:1;break;case _S:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case vS:e.y=e.y-Math.floor(e.y);break;case Lu:e.y=e.y<0?0:1;break;case _S:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}as.DEFAULT_IMAGE=null;as.DEFAULT_MAPPING=H2;as.DEFAULT_ANISOTROPY=1;class Ei{constructor(e=0,n=0,r=0,s=1){Ei.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=s}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,s){return this.x=e,this.y=n,this.z=r,this.w=s,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,s=this.z,a=this.w,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*s+o[12]*a,this.y=o[1]*n+o[5]*r+o[9]*s+o[13]*a,this.z=o[2]*n+o[6]*r+o[10]*s+o[14]*a,this.w=o[3]*n+o[7]*r+o[11]*s+o[15]*a,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,s,a;const u=e.elements,c=u[0],h=u[4],p=u[8],g=u[1],v=u[5],b=u[9],S=u[2],E=u[6],x=u[10];if(Math.abs(h-g)<.01&&Math.abs(p-S)<.01&&Math.abs(b-E)<.01){if(Math.abs(h+g)<.1&&Math.abs(p+S)<.1&&Math.abs(b+E)<.1&&Math.abs(c+v+x-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const C=(c+1)/2,M=(v+1)/2,P=(x+1)/2,k=(h+g)/4,D=(p+S)/4,N=(b+E)/4;return C>M&&C>P?C<.01?(r=0,s=.707106781,a=.707106781):(r=Math.sqrt(C),s=k/r,a=D/r):M>P?M<.01?(r=.707106781,s=0,a=.707106781):(s=Math.sqrt(M),r=k/s,a=N/s):P<.01?(r=.707106781,s=.707106781,a=0):(a=Math.sqrt(P),r=D/a,s=N/a),this.set(r,s,a,n),this}let A=Math.sqrt((E-b)*(E-b)+(p-S)*(p-S)+(g-h)*(g-h));return Math.abs(A)<.001&&(A=1),this.x=(E-b)/A,this.y=(p-S)/A,this.z=(g-h)/A,this.w=Math.acos((c+v+x-1)/2),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=kn(this.x,e.x,n.x),this.y=kn(this.y,e.y,n.y),this.z=kn(this.z,e.z,n.z),this.w=kn(this.w,e.w,n.w),this}clampScalar(e,n){return this.x=kn(this.x,e,n),this.y=kn(this.y,e,n),this.z=kn(this.z,e,n),this.w=kn(this.w,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(kn(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class K2 extends dh{constructor(e=1,n=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new Ei(0,0,e,n),this.scissorTest=!1,this.viewport=new Ei(0,0,e,n);const s={width:e,height:n,depth:1};r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Vs,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},r);const a=new as(s,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace);a.flipY=!1,a.generateMipmaps=r.generateMipmaps,a.internalFormat=r.internalFormat,this.textures=[];const o=r.count;for(let l=0;l<o;l++)this.textures[l]=a.clone(),this.textures[l].isRenderTargetTexture=!0,this.textures[l].renderTarget=this;this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=r.depthTexture,this.samples=r.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let s=0,a=this.textures.length;s<a;s++)this.textures[s].image.width=e,this.textures[s].image.height=n,this.textures[s].image.depth=r;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let n=0,r=e.textures.length;n<r;n++){this.textures[n]=e.textures[n].clone(),this.textures[n].isRenderTargetTexture=!0,this.textures[n].renderTarget=this;const s=Object.assign({},e.textures[n].image);this.textures[n].source=new am(s)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class ah extends K2{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class gE extends as{constructor(e=null,n=1,r=1,s=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:s},this.magFilter=ba,this.minFilter=ba,this.wrapR=Lu,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class rtt extends ah{constructor(e=1,n=1,r=1,s={}){super(e,n,s),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new gE(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class Z2 extends as{constructor(e=null,n=1,r=1,s=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:s},this.magFilter=ba,this.minFilter=ba,this.wrapR=Lu,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class stt extends ah{constructor(e=1,n=1,r=1,s={}){super(e,n,s),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new Z2(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class Co{constructor(e=0,n=0,r=0,s=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=s}static slerpFlat(e,n,r,s,a,o,l){let u=r[s+0],c=r[s+1],h=r[s+2],p=r[s+3];const g=a[o+0],v=a[o+1],b=a[o+2],S=a[o+3];if(l===0){e[n+0]=u,e[n+1]=c,e[n+2]=h,e[n+3]=p;return}if(l===1){e[n+0]=g,e[n+1]=v,e[n+2]=b,e[n+3]=S;return}if(p!==S||u!==g||c!==v||h!==b){let E=1-l;const x=u*g+c*v+h*b+p*S,A=x>=0?1:-1,C=1-x*x;if(C>Number.EPSILON){const P=Math.sqrt(C),k=Math.atan2(P,x*A);E=Math.sin(E*k)/P,l=Math.sin(l*k)/P}const M=l*A;if(u=u*E+g*M,c=c*E+v*M,h=h*E+b*M,p=p*E+S*M,E===1-l){const P=1/Math.sqrt(u*u+c*c+h*h+p*p);u*=P,c*=P,h*=P,p*=P}}e[n]=u,e[n+1]=c,e[n+2]=h,e[n+3]=p}static multiplyQuaternionsFlat(e,n,r,s,a,o){const l=r[s],u=r[s+1],c=r[s+2],h=r[s+3],p=a[o],g=a[o+1],v=a[o+2],b=a[o+3];return e[n]=l*b+h*p+u*v-c*g,e[n+1]=u*b+h*g+c*p-l*v,e[n+2]=c*b+h*v+l*g-u*p,e[n+3]=h*b-l*p-u*g-c*v,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,s){return this._x=e,this._y=n,this._z=r,this._w=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,s=e._y,a=e._z,o=e._order,l=Math.cos,u=Math.sin,c=l(r/2),h=l(s/2),p=l(a/2),g=u(r/2),v=u(s/2),b=u(a/2);switch(o){case"XYZ":this._x=g*h*p+c*v*b,this._y=c*v*p-g*h*b,this._z=c*h*b+g*v*p,this._w=c*h*p-g*v*b;break;case"YXZ":this._x=g*h*p+c*v*b,this._y=c*v*p-g*h*b,this._z=c*h*b-g*v*p,this._w=c*h*p+g*v*b;break;case"ZXY":this._x=g*h*p-c*v*b,this._y=c*v*p+g*h*b,this._z=c*h*b+g*v*p,this._w=c*h*p-g*v*b;break;case"ZYX":this._x=g*h*p-c*v*b,this._y=c*v*p+g*h*b,this._z=c*h*b-g*v*p,this._w=c*h*p+g*v*b;break;case"YZX":this._x=g*h*p+c*v*b,this._y=c*v*p+g*h*b,this._z=c*h*b-g*v*p,this._w=c*h*p-g*v*b;break;case"XZY":this._x=g*h*p-c*v*b,this._y=c*v*p-g*h*b,this._z=c*h*b+g*v*p,this._w=c*h*p+g*v*b;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,s=Math.sin(r);return this._x=e.x*s,this._y=e.y*s,this._z=e.z*s,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],s=n[4],a=n[8],o=n[1],l=n[5],u=n[9],c=n[2],h=n[6],p=n[10],g=r+l+p;if(g>0){const v=.5/Math.sqrt(g+1);this._w=.25/v,this._x=(h-u)*v,this._y=(a-c)*v,this._z=(o-s)*v}else if(r>l&&r>p){const v=2*Math.sqrt(1+r-l-p);this._w=(h-u)/v,this._x=.25*v,this._y=(s+o)/v,this._z=(a+c)/v}else if(l>p){const v=2*Math.sqrt(1+l-r-p);this._w=(a-c)/v,this._x=(s+o)/v,this._y=.25*v,this._z=(u+h)/v}else{const v=2*Math.sqrt(1+p-r-l);this._w=(o-s)/v,this._x=(a+c)/v,this._y=(u+h)/v,this._z=.25*v}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(kn(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const s=Math.min(1,n/r);return this.slerp(e,s),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,s=e._y,a=e._z,o=e._w,l=n._x,u=n._y,c=n._z,h=n._w;return this._x=r*h+o*l+s*c-a*u,this._y=s*h+o*u+a*l-r*c,this._z=a*h+o*c+r*u-s*l,this._w=o*h-r*l-s*u-a*c,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,s=this._y,a=this._z,o=this._w;let l=o*e._w+r*e._x+s*e._y+a*e._z;if(l<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,l=-l):this.copy(e),l>=1)return this._w=o,this._x=r,this._y=s,this._z=a,this;const u=1-l*l;if(u<=Number.EPSILON){const v=1-n;return this._w=v*o+n*this._w,this._x=v*r+n*this._x,this._y=v*s+n*this._y,this._z=v*a+n*this._z,this.normalize(),this}const c=Math.sqrt(u),h=Math.atan2(c,l),p=Math.sin((1-n)*h)/c,g=Math.sin(n*h)/c;return this._w=o*p+this._w*g,this._x=r*p+this._x*g,this._y=s*p+this._y*g,this._z=a*p+this._z*g,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),r=Math.random(),s=Math.sqrt(1-r),a=Math.sqrt(r);return this.set(s*Math.sin(e),s*Math.cos(e),a*Math.sin(n),a*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class pt{constructor(e=0,n=0,r=0){pt.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(Qz.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(Qz.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,s=this.z,a=e.elements;return this.x=a[0]*n+a[3]*r+a[6]*s,this.y=a[1]*n+a[4]*r+a[7]*s,this.z=a[2]*n+a[5]*r+a[8]*s,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,s=this.z,a=e.elements,o=1/(a[3]*n+a[7]*r+a[11]*s+a[15]);return this.x=(a[0]*n+a[4]*r+a[8]*s+a[12])*o,this.y=(a[1]*n+a[5]*r+a[9]*s+a[13])*o,this.z=(a[2]*n+a[6]*r+a[10]*s+a[14])*o,this}applyQuaternion(e){const n=this.x,r=this.y,s=this.z,a=e.x,o=e.y,l=e.z,u=e.w,c=2*(o*s-l*r),h=2*(l*n-a*s),p=2*(a*r-o*n);return this.x=n+u*c+o*p-l*h,this.y=r+u*h+l*c-a*p,this.z=s+u*p+a*h-o*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,s=this.z,a=e.elements;return this.x=a[0]*n+a[4]*r+a[8]*s,this.y=a[1]*n+a[5]*r+a[9]*s,this.z=a[2]*n+a[6]*r+a[10]*s,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=kn(this.x,e.x,n.x),this.y=kn(this.y,e.y,n.y),this.z=kn(this.z,e.z,n.z),this}clampScalar(e,n){return this.x=kn(this.x,e,n),this.y=kn(this.y,e,n),this.z=kn(this.z,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(kn(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,s=e.y,a=e.z,o=n.x,l=n.y,u=n.z;return this.x=s*u-a*l,this.y=a*o-r*u,this.z=r*l-s*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return wP.copy(this).projectOnVector(e),this.sub(wP)}reflect(e){return this.sub(wP.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(kn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,s=this.z-e.z;return n*n+r*r+s*s}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const s=Math.sin(n)*e;return this.x=s*Math.sin(r),this.y=Math.cos(n)*e,this.z=s*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),s=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=s,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,r=Math.sqrt(1-n*n);return this.x=r*Math.cos(e),this.y=n,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const wP=new pt,Qz=new Co;class xa{constructor(e=new pt(1/0,1/0,1/0),n=new pt(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(vc.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(vc.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=vc.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const a=r.getAttribute("position");if(n===!0&&a!==void 0&&e.isInstancedMesh!==!0)for(let o=0,l=a.count;o<l;o++)e.isMesh===!0?e.getVertexPosition(o,vc):vc.fromBufferAttribute(a,o),vc.applyMatrix4(e.matrixWorld),this.expandByPoint(vc);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),fw.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),fw.copy(r.boundingBox)),fw.applyMatrix4(e.matrixWorld),this.union(fw)}const s=e.children;for(let a=0,o=s.length;a<o;a++)this.expandByObject(s[a],n);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,vc),vc.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Ix),hw.subVectors(this.max,Ix),fv.subVectors(e.a,Ix),hv.subVectors(e.b,Ix),dv.subVectors(e.c,Ix),Up.subVectors(hv,fv),kp.subVectors(dv,hv),Og.subVectors(fv,dv);let n=[0,-Up.z,Up.y,0,-kp.z,kp.y,0,-Og.z,Og.y,Up.z,0,-Up.x,kp.z,0,-kp.x,Og.z,0,-Og.x,-Up.y,Up.x,0,-kp.y,kp.x,0,-Og.y,Og.x,0];return!AP(n,fv,hv,dv,hw)||(n=[1,0,0,0,1,0,0,0,1],!AP(n,fv,hv,dv,hw))?!1:(dw.crossVectors(Up,kp),n=[dw.x,dw.y,dw.z],AP(n,fv,hv,dv,hw))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,vc).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(vc).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:($h[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),$h[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),$h[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),$h[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),$h[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),$h[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),$h[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),$h[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints($h),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const $h=[new pt,new pt,new pt,new pt,new pt,new pt,new pt,new pt],vc=new pt,fw=new xa,fv=new pt,hv=new pt,dv=new pt,Up=new pt,kp=new pt,Og=new pt,Ix=new pt,hw=new pt,dw=new pt,Pg=new pt;function AP(i,e,n,r,s){for(let a=0,o=i.length-3;a<=o;a+=3){Pg.fromArray(i,a);const l=s.x*Math.abs(Pg.x)+s.y*Math.abs(Pg.y)+s.z*Math.abs(Pg.z),u=e.dot(Pg),c=n.dot(Pg),h=r.dot(Pg);if(Math.max(-Math.max(u,c,h),Math.min(u,c,h))>l)return!1}return!0}const att=new xa,Dx=new pt,MP=new pt;class Sa{constructor(e=new pt,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):att.setFromPoints(e).getCenter(r);let s=0;for(let a=0,o=e.length;a<o;a++)s=Math.max(s,r.distanceToSquared(e[a]));return this.radius=Math.sqrt(s),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Dx.subVectors(e,this.center);const n=Dx.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),s=(r-this.radius)*.5;this.center.addScaledVector(Dx,s/r),this.radius+=s}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(MP.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Dx.copy(e.center).add(MP)),this.expandByPoint(Dx.copy(e.center).sub(MP))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const qh=new pt,CP=new pt,pw=new pt,zp=new pt,RP=new pt,mw=new pt,OP=new pt;class fb{constructor(e=new pt,n=new pt(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,qh)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=qh.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(qh.copy(this.origin).addScaledVector(this.direction,n),qh.distanceToSquared(e))}distanceSqToSegment(e,n,r,s){CP.copy(e).add(n).multiplyScalar(.5),pw.copy(n).sub(e).normalize(),zp.copy(this.origin).sub(CP);const a=e.distanceTo(n)*.5,o=-this.direction.dot(pw),l=zp.dot(this.direction),u=-zp.dot(pw),c=zp.lengthSq(),h=Math.abs(1-o*o);let p,g,v,b;if(h>0)if(p=o*u-l,g=o*l-u,b=a*h,p>=0)if(g>=-b)if(g<=b){const S=1/h;p*=S,g*=S,v=p*(p+o*g+2*l)+g*(o*p+g+2*u)+c}else g=a,p=Math.max(0,-(o*g+l)),v=-p*p+g*(g+2*u)+c;else g=-a,p=Math.max(0,-(o*g+l)),v=-p*p+g*(g+2*u)+c;else g<=-b?(p=Math.max(0,-(-o*a+l)),g=p>0?-a:Math.min(Math.max(-a,-u),a),v=-p*p+g*(g+2*u)+c):g<=b?(p=0,g=Math.min(Math.max(-a,-u),a),v=g*(g+2*u)+c):(p=Math.max(0,-(o*a+l)),g=p>0?a:Math.min(Math.max(-a,-u),a),v=-p*p+g*(g+2*u)+c);else g=o>0?-a:a,p=Math.max(0,-(o*g+l)),v=-p*p+g*(g+2*u)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,p),s&&s.copy(CP).addScaledVector(pw,g),v}intersectSphere(e,n){qh.subVectors(e.center,this.origin);const r=qh.dot(this.direction),s=qh.dot(qh)-r*r,a=e.radius*e.radius;if(s>a)return null;const o=Math.sqrt(a-s),l=r-o,u=r+o;return u<0?null:l<0?this.at(u,n):this.at(l,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,s,a,o,l,u;const c=1/this.direction.x,h=1/this.direction.y,p=1/this.direction.z,g=this.origin;return c>=0?(r=(e.min.x-g.x)*c,s=(e.max.x-g.x)*c):(r=(e.max.x-g.x)*c,s=(e.min.x-g.x)*c),h>=0?(a=(e.min.y-g.y)*h,o=(e.max.y-g.y)*h):(a=(e.max.y-g.y)*h,o=(e.min.y-g.y)*h),r>o||a>s||((a>r||isNaN(r))&&(r=a),(o<s||isNaN(s))&&(s=o),p>=0?(l=(e.min.z-g.z)*p,u=(e.max.z-g.z)*p):(l=(e.max.z-g.z)*p,u=(e.min.z-g.z)*p),r>u||l>s)||((l>r||r!==r)&&(r=l),(u<s||s!==s)&&(s=u),s<0)?null:this.at(r>=0?r:s,n)}intersectsBox(e){return this.intersectBox(e,qh)!==null}intersectTriangle(e,n,r,s,a){RP.subVectors(n,e),mw.subVectors(r,e),OP.crossVectors(RP,mw);let o=this.direction.dot(OP),l;if(o>0){if(s)return null;l=1}else if(o<0)l=-1,o=-o;else return null;zp.subVectors(this.origin,e);const u=l*this.direction.dot(mw.crossVectors(zp,mw));if(u<0)return null;const c=l*this.direction.dot(RP.cross(zp));if(c<0||u+c>o)return null;const h=-l*zp.dot(OP);return h<0?null:this.at(h/o,a)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Sn{constructor(e,n,r,s,a,o,l,u,c,h,p,g,v,b,S,E){Sn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,s,a,o,l,u,c,h,p,g,v,b,S,E)}set(e,n,r,s,a,o,l,u,c,h,p,g,v,b,S,E){const x=this.elements;return x[0]=e,x[4]=n,x[8]=r,x[12]=s,x[1]=a,x[5]=o,x[9]=l,x[13]=u,x[2]=c,x[6]=h,x[10]=p,x[14]=g,x[3]=v,x[7]=b,x[11]=S,x[15]=E,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Sn().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,s=1/pv.setFromMatrixColumn(e,0).length(),a=1/pv.setFromMatrixColumn(e,1).length(),o=1/pv.setFromMatrixColumn(e,2).length();return n[0]=r[0]*s,n[1]=r[1]*s,n[2]=r[2]*s,n[3]=0,n[4]=r[4]*a,n[5]=r[5]*a,n[6]=r[6]*a,n[7]=0,n[8]=r[8]*o,n[9]=r[9]*o,n[10]=r[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,s=e.y,a=e.z,o=Math.cos(r),l=Math.sin(r),u=Math.cos(s),c=Math.sin(s),h=Math.cos(a),p=Math.sin(a);if(e.order==="XYZ"){const g=o*h,v=o*p,b=l*h,S=l*p;n[0]=u*h,n[4]=-u*p,n[8]=c,n[1]=v+b*c,n[5]=g-S*c,n[9]=-l*u,n[2]=S-g*c,n[6]=b+v*c,n[10]=o*u}else if(e.order==="YXZ"){const g=u*h,v=u*p,b=c*h,S=c*p;n[0]=g+S*l,n[4]=b*l-v,n[8]=o*c,n[1]=o*p,n[5]=o*h,n[9]=-l,n[2]=v*l-b,n[6]=S+g*l,n[10]=o*u}else if(e.order==="ZXY"){const g=u*h,v=u*p,b=c*h,S=c*p;n[0]=g-S*l,n[4]=-o*p,n[8]=b+v*l,n[1]=v+b*l,n[5]=o*h,n[9]=S-g*l,n[2]=-o*c,n[6]=l,n[10]=o*u}else if(e.order==="ZYX"){const g=o*h,v=o*p,b=l*h,S=l*p;n[0]=u*h,n[4]=b*c-v,n[8]=g*c+S,n[1]=u*p,n[5]=S*c+g,n[9]=v*c-b,n[2]=-c,n[6]=l*u,n[10]=o*u}else if(e.order==="YZX"){const g=o*u,v=o*c,b=l*u,S=l*c;n[0]=u*h,n[4]=S-g*p,n[8]=b*p+v,n[1]=p,n[5]=o*h,n[9]=-l*h,n[2]=-c*h,n[6]=v*p+b,n[10]=g-S*p}else if(e.order==="XZY"){const g=o*u,v=o*c,b=l*u,S=l*c;n[0]=u*h,n[4]=-p,n[8]=c*h,n[1]=g*p+S,n[5]=o*h,n[9]=v*p-b,n[2]=b*p-v,n[6]=l*h,n[10]=S*p+g}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(ott,e,ltt)}lookAt(e,n,r){const s=this.elements;return Fl.subVectors(e,n),Fl.lengthSq()===0&&(Fl.z=1),Fl.normalize(),Bp.crossVectors(r,Fl),Bp.lengthSq()===0&&(Math.abs(r.z)===1?Fl.x+=1e-4:Fl.z+=1e-4,Fl.normalize(),Bp.crossVectors(r,Fl)),Bp.normalize(),gw.crossVectors(Fl,Bp),s[0]=Bp.x,s[4]=gw.x,s[8]=Fl.x,s[1]=Bp.y,s[5]=gw.y,s[9]=Fl.y,s[2]=Bp.z,s[6]=gw.z,s[10]=Fl.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,s=n.elements,a=this.elements,o=r[0],l=r[4],u=r[8],c=r[12],h=r[1],p=r[5],g=r[9],v=r[13],b=r[2],S=r[6],E=r[10],x=r[14],A=r[3],C=r[7],M=r[11],P=r[15],k=s[0],D=s[4],N=s[8],U=s[12],R=s[1],B=s[5],H=s[9],V=s[13],Y=s[2],et=s[6],G=s[10],X=s[14],J=s[3],nt=s[7],Z=s[11],dt=s[15];return a[0]=o*k+l*R+u*Y+c*J,a[4]=o*D+l*B+u*et+c*nt,a[8]=o*N+l*H+u*G+c*Z,a[12]=o*U+l*V+u*X+c*dt,a[1]=h*k+p*R+g*Y+v*J,a[5]=h*D+p*B+g*et+v*nt,a[9]=h*N+p*H+g*G+v*Z,a[13]=h*U+p*V+g*X+v*dt,a[2]=b*k+S*R+E*Y+x*J,a[6]=b*D+S*B+E*et+x*nt,a[10]=b*N+S*H+E*G+x*Z,a[14]=b*U+S*V+E*X+x*dt,a[3]=A*k+C*R+M*Y+P*J,a[7]=A*D+C*B+M*et+P*nt,a[11]=A*N+C*H+M*G+P*Z,a[15]=A*U+C*V+M*X+P*dt,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],s=e[8],a=e[12],o=e[1],l=e[5],u=e[9],c=e[13],h=e[2],p=e[6],g=e[10],v=e[14],b=e[3],S=e[7],E=e[11],x=e[15];return b*(+a*u*p-s*c*p-a*l*g+r*c*g+s*l*v-r*u*v)+S*(+n*u*v-n*c*g+a*o*g-s*o*v+s*c*h-a*u*h)+E*(+n*c*p-n*l*v-a*o*p+r*o*v+a*l*h-r*c*h)+x*(-s*l*h-n*u*p+n*l*g+s*o*p-r*o*g+r*u*h)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const s=this.elements;return e.isVector3?(s[12]=e.x,s[13]=e.y,s[14]=e.z):(s[12]=e,s[13]=n,s[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],s=e[2],a=e[3],o=e[4],l=e[5],u=e[6],c=e[7],h=e[8],p=e[9],g=e[10],v=e[11],b=e[12],S=e[13],E=e[14],x=e[15],A=p*E*c-S*g*c+S*u*v-l*E*v-p*u*x+l*g*x,C=b*g*c-h*E*c-b*u*v+o*E*v+h*u*x-o*g*x,M=h*S*c-b*p*c+b*l*v-o*S*v-h*l*x+o*p*x,P=b*p*u-h*S*u-b*l*g+o*S*g+h*l*E-o*p*E,k=n*A+r*C+s*M+a*P;if(k===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const D=1/k;return e[0]=A*D,e[1]=(S*g*a-p*E*a-S*s*v+r*E*v+p*s*x-r*g*x)*D,e[2]=(l*E*a-S*u*a+S*s*c-r*E*c-l*s*x+r*u*x)*D,e[3]=(p*u*a-l*g*a-p*s*c+r*g*c+l*s*v-r*u*v)*D,e[4]=C*D,e[5]=(h*E*a-b*g*a+b*s*v-n*E*v-h*s*x+n*g*x)*D,e[6]=(b*u*a-o*E*a-b*s*c+n*E*c+o*s*x-n*u*x)*D,e[7]=(o*g*a-h*u*a+h*s*c-n*g*c-o*s*v+n*u*v)*D,e[8]=M*D,e[9]=(b*p*a-h*S*a-b*r*v+n*S*v+h*r*x-n*p*x)*D,e[10]=(o*S*a-b*l*a+b*r*c-n*S*c-o*r*x+n*l*x)*D,e[11]=(h*l*a-o*p*a-h*r*c+n*p*c+o*r*v-n*l*v)*D,e[12]=P*D,e[13]=(h*S*s-b*p*s+b*r*g-n*S*g-h*r*E+n*p*E)*D,e[14]=(b*l*s-o*S*s-b*r*u+n*S*u+o*r*E-n*l*E)*D,e[15]=(o*p*s-h*l*s+h*r*u-n*p*u-o*r*g+n*l*g)*D,this}scale(e){const n=this.elements,r=e.x,s=e.y,a=e.z;return n[0]*=r,n[4]*=s,n[8]*=a,n[1]*=r,n[5]*=s,n[9]*=a,n[2]*=r,n[6]*=s,n[10]*=a,n[3]*=r,n[7]*=s,n[11]*=a,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],s=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,s))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),s=Math.sin(n),a=1-r,o=e.x,l=e.y,u=e.z,c=a*o,h=a*l;return this.set(c*o+r,c*l-s*u,c*u+s*l,0,c*l+s*u,h*l+r,h*u-s*o,0,c*u-s*l,h*u+s*o,a*u*u+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,s,a,o){return this.set(1,r,a,0,e,1,o,0,n,s,1,0,0,0,0,1),this}compose(e,n,r){const s=this.elements,a=n._x,o=n._y,l=n._z,u=n._w,c=a+a,h=o+o,p=l+l,g=a*c,v=a*h,b=a*p,S=o*h,E=o*p,x=l*p,A=u*c,C=u*h,M=u*p,P=r.x,k=r.y,D=r.z;return s[0]=(1-(S+x))*P,s[1]=(v+M)*P,s[2]=(b-C)*P,s[3]=0,s[4]=(v-M)*k,s[5]=(1-(g+x))*k,s[6]=(E+A)*k,s[7]=0,s[8]=(b+C)*D,s[9]=(E-A)*D,s[10]=(1-(g+S))*D,s[11]=0,s[12]=e.x,s[13]=e.y,s[14]=e.z,s[15]=1,this}decompose(e,n,r){const s=this.elements;let a=pv.set(s[0],s[1],s[2]).length();const o=pv.set(s[4],s[5],s[6]).length(),l=pv.set(s[8],s[9],s[10]).length();this.determinant()<0&&(a=-a),e.x=s[12],e.y=s[13],e.z=s[14],_c.copy(this);const c=1/a,h=1/o,p=1/l;return _c.elements[0]*=c,_c.elements[1]*=c,_c.elements[2]*=c,_c.elements[4]*=h,_c.elements[5]*=h,_c.elements[6]*=h,_c.elements[8]*=p,_c.elements[9]*=p,_c.elements[10]*=p,n.setFromRotationMatrix(_c),r.x=a,r.y=o,r.z=l,this}makePerspective(e,n,r,s,a,o,l=Oc){const u=this.elements,c=2*a/(n-e),h=2*a/(r-s),p=(n+e)/(n-e),g=(r+s)/(r-s);let v,b;if(l===Oc)v=-(o+a)/(o-a),b=-2*o*a/(o-a);else if(l===TS)v=-o/(o-a),b=-o*a/(o-a);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+l);return u[0]=c,u[4]=0,u[8]=p,u[12]=0,u[1]=0,u[5]=h,u[9]=g,u[13]=0,u[2]=0,u[6]=0,u[10]=v,u[14]=b,u[3]=0,u[7]=0,u[11]=-1,u[15]=0,this}makeOrthographic(e,n,r,s,a,o,l=Oc){const u=this.elements,c=1/(n-e),h=1/(r-s),p=1/(o-a),g=(n+e)*c,v=(r+s)*h;let b,S;if(l===Oc)b=(o+a)*p,S=-2*p;else if(l===TS)b=a*p,S=-1*p;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+l);return u[0]=2*c,u[4]=0,u[8]=0,u[12]=-g,u[1]=0,u[5]=2*h,u[9]=0,u[13]=-v,u[2]=0,u[6]=0,u[10]=S,u[14]=-b,u[3]=0,u[7]=0,u[11]=0,u[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let s=0;s<16;s++)if(n[s]!==r[s])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const pv=new pt,_c=new Sn,ott=new pt(0,0,0),ltt=new pt(1,1,1),Bp=new pt,gw=new pt,Fl=new pt,Jz=new Sn,t5=new Co;class Zl{constructor(e=0,n=0,r=0,s=Zl.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=s}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,s=this._order){return this._x=e,this._y=n,this._z=r,this._order=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const s=e.elements,a=s[0],o=s[4],l=s[8],u=s[1],c=s[5],h=s[9],p=s[2],g=s[6],v=s[10];switch(n){case"XYZ":this._y=Math.asin(kn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-h,v),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(g,c),this._z=0);break;case"YXZ":this._x=Math.asin(-kn(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(l,v),this._z=Math.atan2(u,c)):(this._y=Math.atan2(-p,a),this._z=0);break;case"ZXY":this._x=Math.asin(kn(g,-1,1)),Math.abs(g)<.9999999?(this._y=Math.atan2(-p,v),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(u,a));break;case"ZYX":this._y=Math.asin(-kn(p,-1,1)),Math.abs(p)<.9999999?(this._x=Math.atan2(g,v),this._z=Math.atan2(u,a)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(kn(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-h,c),this._y=Math.atan2(-p,a)):(this._x=0,this._y=Math.atan2(l,v));break;case"XZY":this._z=Math.asin(-kn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(g,c),this._y=Math.atan2(l,a)):(this._x=Math.atan2(-h,v),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return Jz.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Jz,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return t5.setFromEuler(this),this.setFromQuaternion(t5,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Zl.DEFAULT_ORDER="XYZ";class O_{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let utt=0;const e5=new pt,mv=new Co,Wh=new Sn,yw=new pt,Nx=new pt,ctt=new pt,ftt=new Co,n5=new pt(1,0,0),i5=new pt(0,1,0),r5=new pt(0,0,1),s5={type:"added"},htt={type:"removed"},gv={type:"childadded",child:null},PP={type:"childremoved",child:null};class Ai extends dh{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:utt++}),this.uuid=Xl(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Ai.DEFAULT_UP.clone();const e=new pt,n=new Zl,r=new Co,s=new pt(1,1,1);function a(){r.setFromEuler(n,!1)}function o(){n.setFromQuaternion(r,void 0,!1)}n._onChange(a),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:s},modelViewMatrix:{value:new Sn},normalMatrix:{value:new Hn}}),this.matrix=new Sn,this.matrixWorld=new Sn,this.matrixAutoUpdate=Ai.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Ai.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new O_,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return mv.setFromAxisAngle(e,n),this.quaternion.multiply(mv),this}rotateOnWorldAxis(e,n){return mv.setFromAxisAngle(e,n),this.quaternion.premultiply(mv),this}rotateX(e){return this.rotateOnAxis(n5,e)}rotateY(e){return this.rotateOnAxis(i5,e)}rotateZ(e){return this.rotateOnAxis(r5,e)}translateOnAxis(e,n){return e5.copy(e).applyQuaternion(this.quaternion),this.position.add(e5.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(n5,e)}translateY(e){return this.translateOnAxis(i5,e)}translateZ(e){return this.translateOnAxis(r5,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Wh.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?yw.copy(e):yw.set(e,n,r);const s=this.parent;this.updateWorldMatrix(!0,!1),Nx.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Wh.lookAt(Nx,yw,this.up):Wh.lookAt(yw,Nx,this.up),this.quaternion.setFromRotationMatrix(Wh),s&&(Wh.extractRotation(s.matrixWorld),mv.setFromRotationMatrix(Wh),this.quaternion.premultiply(mv.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(s5),gv.child=e,this.dispatchEvent(gv),gv.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(htt),PP.child=e,this.dispatchEvent(PP),PP.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Wh.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Wh.multiply(e.parent.matrixWorld)),e.applyMatrix4(Wh),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(s5),gv.child=e,this.dispatchEvent(gv),gv.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,s=this.children.length;r<s;r++){const o=this.children[r].getObjectByProperty(e,n);if(o!==void 0)return o}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const s=this.children;for(let a=0,o=s.length;a<o;a++)s[a].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Nx,e,ctt),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Nx,ftt,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,s=n.length;r<s;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,s=n.length;r<s;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,s=n.length;r<s;r++)n[r].updateMatrixWorld(e)}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){const s=this.children;for(let a=0,o=s.length;a<o;a++)s[a].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const s={};s.uuid=this.uuid,s.type=this.type,this.name!==""&&(s.name=this.name),this.castShadow===!0&&(s.castShadow=!0),this.receiveShadow===!0&&(s.receiveShadow=!0),this.visible===!1&&(s.visible=!1),this.frustumCulled===!1&&(s.frustumCulled=!1),this.renderOrder!==0&&(s.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(s.userData=this.userData),s.layers=this.layers.mask,s.matrix=this.matrix.toArray(),s.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(s.matrixAutoUpdate=!1),this.isInstancedMesh&&(s.type="InstancedMesh",s.count=this.count,s.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(s.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(s.type="BatchedMesh",s.perObjectFrustumCulled=this.perObjectFrustumCulled,s.sortObjects=this.sortObjects,s.drawRanges=this._drawRanges,s.reservedRanges=this._reservedRanges,s.visibility=this._visibility,s.active=this._active,s.bounds=this._bounds.map(l=>({boxInitialized:l.boxInitialized,boxMin:l.box.min.toArray(),boxMax:l.box.max.toArray(),sphereInitialized:l.sphereInitialized,sphereRadius:l.sphere.radius,sphereCenter:l.sphere.center.toArray()})),s.maxInstanceCount=this._maxInstanceCount,s.maxVertexCount=this._maxVertexCount,s.maxIndexCount=this._maxIndexCount,s.geometryInitialized=this._geometryInitialized,s.geometryCount=this._geometryCount,s.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(s.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(s.boundingSphere={center:s.boundingSphere.center.toArray(),radius:s.boundingSphere.radius}),this.boundingBox!==null&&(s.boundingBox={min:s.boundingBox.min.toArray(),max:s.boundingBox.max.toArray()}));function a(l,u){return l[u.uuid]===void 0&&(l[u.uuid]=u.toJSON(e)),u.uuid}if(this.isScene)this.background&&(this.background.isColor?s.background=this.background.toJSON():this.background.isTexture&&(s.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(s.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){s.geometry=a(e.geometries,this.geometry);const l=this.geometry.parameters;if(l!==void 0&&l.shapes!==void 0){const u=l.shapes;if(Array.isArray(u))for(let c=0,h=u.length;c<h;c++){const p=u[c];a(e.shapes,p)}else a(e.shapes,u)}}if(this.isSkinnedMesh&&(s.bindMode=this.bindMode,s.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(e.skeletons,this.skeleton),s.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const l=[];for(let u=0,c=this.material.length;u<c;u++)l.push(a(e.materials,this.material[u]));s.material=l}else s.material=a(e.materials,this.material);if(this.children.length>0){s.children=[];for(let l=0;l<this.children.length;l++)s.children.push(this.children[l].toJSON(e).object)}if(this.animations.length>0){s.animations=[];for(let l=0;l<this.animations.length;l++){const u=this.animations[l];s.animations.push(a(e.animations,u))}}if(n){const l=o(e.geometries),u=o(e.materials),c=o(e.textures),h=o(e.images),p=o(e.shapes),g=o(e.skeletons),v=o(e.animations),b=o(e.nodes);l.length>0&&(r.geometries=l),u.length>0&&(r.materials=u),c.length>0&&(r.textures=c),h.length>0&&(r.images=h),p.length>0&&(r.shapes=p),g.length>0&&(r.skeletons=g),v.length>0&&(r.animations=v),b.length>0&&(r.nodes=b)}return r.object=s,r;function o(l){const u=[];for(const c in l){const h=l[c];delete h.metadata,u.push(h)}return u}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const s=e.children[r];this.add(s.clone())}return this}}Ai.DEFAULT_UP=new pt(0,1,0);Ai.DEFAULT_MATRIX_AUTO_UPDATE=!0;Ai.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const bc=new pt,Xh=new pt,IP=new pt,Yh=new pt,yv=new pt,vv=new pt,a5=new pt,DP=new pt,NP=new pt,LP=new pt,UP=new Ei,kP=new Ei,zP=new Ei;class ol{constructor(e=new pt,n=new pt,r=new pt){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,s){s.subVectors(r,n),bc.subVectors(e,n),s.cross(bc);const a=s.lengthSq();return a>0?s.multiplyScalar(1/Math.sqrt(a)):s.set(0,0,0)}static getBarycoord(e,n,r,s,a){bc.subVectors(s,n),Xh.subVectors(r,n),IP.subVectors(e,n);const o=bc.dot(bc),l=bc.dot(Xh),u=bc.dot(IP),c=Xh.dot(Xh),h=Xh.dot(IP),p=o*c-l*l;if(p===0)return a.set(0,0,0),null;const g=1/p,v=(c*u-l*h)*g,b=(o*h-l*u)*g;return a.set(1-v-b,b,v)}static containsPoint(e,n,r,s){return this.getBarycoord(e,n,r,s,Yh)===null?!1:Yh.x>=0&&Yh.y>=0&&Yh.x+Yh.y<=1}static getInterpolation(e,n,r,s,a,o,l,u){return this.getBarycoord(e,n,r,s,Yh)===null?(u.x=0,u.y=0,"z"in u&&(u.z=0),"w"in u&&(u.w=0),null):(u.setScalar(0),u.addScaledVector(a,Yh.x),u.addScaledVector(o,Yh.y),u.addScaledVector(l,Yh.z),u)}static getInterpolatedAttribute(e,n,r,s,a,o){return UP.setScalar(0),kP.setScalar(0),zP.setScalar(0),UP.fromBufferAttribute(e,n),kP.fromBufferAttribute(e,r),zP.fromBufferAttribute(e,s),o.setScalar(0),o.addScaledVector(UP,a.x),o.addScaledVector(kP,a.y),o.addScaledVector(zP,a.z),o}static isFrontFacing(e,n,r,s){return bc.subVectors(r,n),Xh.subVectors(e,n),bc.cross(Xh).dot(s)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,s){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[s]),this}setFromAttributeAndIndices(e,n,r,s){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,s),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return bc.subVectors(this.c,this.b),Xh.subVectors(this.a,this.b),bc.cross(Xh).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return ol.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return ol.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,r,s,a){return ol.getInterpolation(e,this.a,this.b,this.c,n,r,s,a)}containsPoint(e){return ol.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return ol.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,s=this.b,a=this.c;let o,l;yv.subVectors(s,r),vv.subVectors(a,r),DP.subVectors(e,r);const u=yv.dot(DP),c=vv.dot(DP);if(u<=0&&c<=0)return n.copy(r);NP.subVectors(e,s);const h=yv.dot(NP),p=vv.dot(NP);if(h>=0&&p<=h)return n.copy(s);const g=u*p-h*c;if(g<=0&&u>=0&&h<=0)return o=u/(u-h),n.copy(r).addScaledVector(yv,o);LP.subVectors(e,a);const v=yv.dot(LP),b=vv.dot(LP);if(b>=0&&v<=b)return n.copy(a);const S=v*c-u*b;if(S<=0&&c>=0&&b<=0)return l=c/(c-b),n.copy(r).addScaledVector(vv,l);const E=h*b-v*p;if(E<=0&&p-h>=0&&v-b>=0)return a5.subVectors(a,s),l=(p-h)/(p-h+(v-b)),n.copy(s).addScaledVector(a5,l);const x=1/(E+S+g);return o=S*x,l=g*x,n.copy(r).addScaledVector(yv,o).addScaledVector(vv,l)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const ij={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Fp={h:0,s:0,l:0},vw={h:0,s:0,l:0};function BP(i,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?i+(e-i)*6*n:n<1/2?e:n<2/3?i+(e-i)*6*(2/3-n):i}let He=class{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const s=e;s&&s.isColor?this.copy(s):typeof s=="number"?this.setHex(s):typeof s=="string"&&this.setStyle(s)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=ya){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,vi.toWorkingColorSpace(this,n),this}setRGB(e,n,r,s=vi.workingColorSpace){return this.r=e,this.g=n,this.b=r,vi.toWorkingColorSpace(this,s),this}setHSL(e,n,r,s=vi.workingColorSpace){if(e=XL(e,1),n=kn(n,0,1),r=kn(r,0,1),n===0)this.r=this.g=this.b=r;else{const a=r<=.5?r*(1+n):r+n-r*n,o=2*r-a;this.r=BP(o,a,e+1/3),this.g=BP(o,a,e),this.b=BP(o,a,e-1/3)}return vi.toWorkingColorSpace(this,s),this}setStyle(e,n=ya){function r(a){a!==void 0&&parseFloat(a)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let s;if(s=/^(\w+)\(([^\)]*)\)/.exec(e)){let a;const o=s[1],l=s[2];switch(o){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return r(a[4]),this.setRGB(Math.min(255,parseInt(a[1],10))/255,Math.min(255,parseInt(a[2],10))/255,Math.min(255,parseInt(a[3],10))/255,n);if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return r(a[4]),this.setRGB(Math.min(100,parseInt(a[1],10))/100,Math.min(100,parseInt(a[2],10))/100,Math.min(100,parseInt(a[3],10))/100,n);break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return r(a[4]),this.setHSL(parseFloat(a[1])/360,parseFloat(a[2])/100,parseFloat(a[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(s=/^\#([A-Fa-f\d]+)$/.exec(e)){const a=s[1],o=a.length;if(o===3)return this.setRGB(parseInt(a.charAt(0),16)/15,parseInt(a.charAt(1),16)/15,parseInt(a.charAt(2),16)/15,n);if(o===6)return this.setHex(parseInt(a,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=ya){const r=ij[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=wd(e.r),this.g=wd(e.g),this.b=wd(e.b),this}copyLinearToSRGB(e){return this.r=p_(e.r),this.g=p_(e.g),this.b=p_(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=ya){return vi.fromWorkingColorSpace(za.copy(this),e),Math.round(kn(za.r*255,0,255))*65536+Math.round(kn(za.g*255,0,255))*256+Math.round(kn(za.b*255,0,255))}getHexString(e=ya){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=vi.workingColorSpace){vi.fromWorkingColorSpace(za.copy(this),n);const r=za.r,s=za.g,a=za.b,o=Math.max(r,s,a),l=Math.min(r,s,a);let u,c;const h=(l+o)/2;if(l===o)u=0,c=0;else{const p=o-l;switch(c=h<=.5?p/(o+l):p/(2-o-l),o){case r:u=(s-a)/p+(s<a?6:0);break;case s:u=(a-r)/p+2;break;case a:u=(r-s)/p+4;break}u/=6}return e.h=u,e.s=c,e.l=h,e}getRGB(e,n=vi.workingColorSpace){return vi.fromWorkingColorSpace(za.copy(this),n),e.r=za.r,e.g=za.g,e.b=za.b,e}getStyle(e=ya){vi.fromWorkingColorSpace(za.copy(this),e);const n=za.r,r=za.g,s=za.b;return e!==ya?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${s.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(s*255)})`}offsetHSL(e,n,r){return this.getHSL(Fp),this.setHSL(Fp.h+e,Fp.s+n,Fp.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(Fp),e.getHSL(vw);const r=q1(Fp.h,vw.h,n),s=q1(Fp.s,vw.s,n),a=q1(Fp.l,vw.l,n);return this.setHSL(r,s,a),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,s=this.b,a=e.elements;return this.r=a[0]*n+a[3]*r+a[6]*s,this.g=a[1]*n+a[4]*r+a[7]*s,this.b=a[2]*n+a[5]*r+a[8]*s,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const za=new He;He.NAMES=ij;let dtt=0;class Qa extends dh{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:dtt++}),this.uuid=Xl(),this.name="",this.type="Material",this.blending=Sy,this.side=Rd,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=HM,this.blendDst=jM,this.blendEquation=tm,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new He(0,0,0),this.blendAlpha=0,this.depthFunc=ky,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=c3,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Zg,this.stencilZFail=Zg,this.stencilZPass=Zg,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const s=this[n];if(s===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}s&&s.isColor?s.set(r):s&&s.isVector3&&r&&r.isVector3?s.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Sy&&(r.blending=this.blending),this.side!==Rd&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==HM&&(r.blendSrc=this.blendSrc),this.blendDst!==jM&&(r.blendDst=this.blendDst),this.blendEquation!==tm&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==ky&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==c3&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Zg&&(r.stencilFail=this.stencilFail),this.stencilZFail!==Zg&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==Zg&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function s(a){const o=[];for(const l in a){const u=a[l];delete u.metadata,o.push(u)}return o}if(n){const a=s(e.textures),o=s(e.images);a.length>0&&(r.textures=a),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const s=n.length;r=new Array(s);for(let a=0;a!==s;++a)r[a]=n[a].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class Lm extends Qa{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new He(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Zl,this.combine=pE,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const dd=ptt();function ptt(){const i=new ArrayBuffer(4),e=new Float32Array(i),n=new Uint32Array(i),r=new Uint32Array(512),s=new Uint32Array(512);for(let u=0;u<256;++u){const c=u-127;c<-27?(r[u]=0,r[u|256]=32768,s[u]=24,s[u|256]=24):c<-14?(r[u]=1024>>-c-14,r[u|256]=1024>>-c-14|32768,s[u]=-c-1,s[u|256]=-c-1):c<=15?(r[u]=c+15<<10,r[u|256]=c+15<<10|32768,s[u]=13,s[u|256]=13):c<128?(r[u]=31744,r[u|256]=64512,s[u]=24,s[u|256]=24):(r[u]=31744,r[u|256]=64512,s[u]=13,s[u|256]=13)}const a=new Uint32Array(2048),o=new Uint32Array(64),l=new Uint32Array(64);for(let u=1;u<1024;++u){let c=u<<13,h=0;for(;(c&8388608)===0;)c<<=1,h-=8388608;c&=-8388609,h+=947912704,a[u]=c|h}for(let u=1024;u<2048;++u)a[u]=939524096+(u-1024<<13);for(let u=1;u<31;++u)o[u]=u<<23;o[31]=1199570944,o[32]=2147483648;for(let u=33;u<63;++u)o[u]=2147483648+(u-32<<23);o[63]=3347054592;for(let u=1;u<64;++u)u!==32&&(l[u]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:s,mantissaTable:a,exponentTable:o,offsetTable:l}}function nl(i){Math.abs(i)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),i=kn(i,-65504,65504),dd.floatView[0]=i;const e=dd.uint32View[0],n=e>>23&511;return dd.baseTable[n]+((e&8388607)>>dd.shiftTable[n])}function T1(i){const e=i>>10;return dd.uint32View[0]=dd.mantissaTable[dd.offsetTable[e]+(i&1023)]+dd.exponentTable[e],dd.floatView[0]}class mtt{static toHalfFloat(e){return nl(e)}static fromHalfFloat(e){return T1(e)}}const As=new pt,_w=new me;let gtt=0;class Xi{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:gtt++}),this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=ES,this.updateRanges=[],this.gpuType=ll,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let s=0,a=this.itemSize;s<a;s++)this.array[e+s]=n.array[r+s];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)_w.fromBufferAttribute(this,n),_w.applyMatrix3(e),this.setXY(n,_w.x,_w.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)As.fromBufferAttribute(this,n),As.applyMatrix3(e),this.setXYZ(n,As.x,As.y,As.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)As.fromBufferAttribute(this,n),As.applyMatrix4(e),this.setXYZ(n,As.x,As.y,As.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)As.fromBufferAttribute(this,n),As.applyNormalMatrix(e),this.setXYZ(n,As.x,As.y,As.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)As.fromBufferAttribute(this,n),As.transformDirection(e),this.setXYZ(n,As.x,As.y,As.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=To(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=$n(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=To(n,this.array)),n}setX(e,n){return this.normalized&&(n=$n(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=To(n,this.array)),n}setY(e,n){return this.normalized&&(n=$n(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=To(n,this.array)),n}setZ(e,n){return this.normalized&&(n=$n(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=To(n,this.array)),n}setW(e,n){return this.normalized&&(n=$n(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=$n(n,this.array),r=$n(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,s){return e*=this.itemSize,this.normalized&&(n=$n(n,this.array),r=$n(r,this.array),s=$n(s,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=s,this}setXYZW(e,n,r,s,a){return e*=this.itemSize,this.normalized&&(n=$n(n,this.array),r=$n(r,this.array),s=$n(s,this.array),a=$n(a,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=s,this.array[e+3]=a,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==ES&&(e.usage=this.usage),e}}class ytt extends Xi{constructor(e,n,r){super(new Int8Array(e),n,r)}}class vtt extends Xi{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class _tt extends Xi{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class btt extends Xi{constructor(e,n,r){super(new Int16Array(e),n,r)}}class YL extends Xi{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class xtt extends Xi{constructor(e,n,r){super(new Int32Array(e),n,r)}}class KL extends Xi{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class Stt extends Xi{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=T1(this.array[e*this.itemSize]);return this.normalized&&(n=To(n,this.array)),n}setX(e,n){return this.normalized&&(n=$n(n,this.array)),this.array[e*this.itemSize]=nl(n),this}getY(e){let n=T1(this.array[e*this.itemSize+1]);return this.normalized&&(n=To(n,this.array)),n}setY(e,n){return this.normalized&&(n=$n(n,this.array)),this.array[e*this.itemSize+1]=nl(n),this}getZ(e){let n=T1(this.array[e*this.itemSize+2]);return this.normalized&&(n=To(n,this.array)),n}setZ(e,n){return this.normalized&&(n=$n(n,this.array)),this.array[e*this.itemSize+2]=nl(n),this}getW(e){let n=T1(this.array[e*this.itemSize+3]);return this.normalized&&(n=To(n,this.array)),n}setW(e,n){return this.normalized&&(n=$n(n,this.array)),this.array[e*this.itemSize+3]=nl(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=$n(n,this.array),r=$n(r,this.array)),this.array[e+0]=nl(n),this.array[e+1]=nl(r),this}setXYZ(e,n,r,s){return e*=this.itemSize,this.normalized&&(n=$n(n,this.array),r=$n(r,this.array),s=$n(s,this.array)),this.array[e+0]=nl(n),this.array[e+1]=nl(r),this.array[e+2]=nl(s),this}setXYZW(e,n,r,s,a){return e*=this.itemSize,this.normalized&&(n=$n(n,this.array),r=$n(r,this.array),s=$n(s,this.array),a=$n(a,this.array)),this.array[e+0]=nl(n),this.array[e+1]=nl(r),this.array[e+2]=nl(s),this.array[e+3]=nl(a),this}}class Xe extends Xi{constructor(e,n,r){super(new Float32Array(e),n,r)}}let Ett=0;const Tu=new Sn,FP=new Ai,_v=new pt,Vl=new xa,Lx=new xa,Js=new pt;class Wn extends dh{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Ett++}),this.uuid=Xl(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(tj(e)?KL:YL)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const a=new Hn().getNormalMatrix(e);r.applyNormalMatrix(a),r.needsUpdate=!0}const s=this.attributes.tangent;return s!==void 0&&(s.transformDirection(e),s.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Tu.makeRotationFromQuaternion(e),this.applyMatrix4(Tu),this}rotateX(e){return Tu.makeRotationX(e),this.applyMatrix4(Tu),this}rotateY(e){return Tu.makeRotationY(e),this.applyMatrix4(Tu),this}rotateZ(e){return Tu.makeRotationZ(e),this.applyMatrix4(Tu),this}translate(e,n,r){return Tu.makeTranslation(e,n,r),this.applyMatrix4(Tu),this}scale(e,n,r){return Tu.makeScale(e,n,r),this.applyMatrix4(Tu),this}lookAt(e){return FP.lookAt(e),FP.updateMatrix(),this.applyMatrix4(FP.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(_v).negate(),this.translate(_v.x,_v.y,_v.z),this}setFromPoints(e){const n=this.getAttribute("position");if(n===void 0){const r=[];for(let s=0,a=e.length;s<a;s++){const o=e[s];r.push(o.x,o.y,o.z||0)}this.setAttribute("position",new Xe(r,3))}else{const r=Math.min(e.length,n.count);for(let s=0;s<r;s++){const a=e[s];n.setXYZ(s,a.x,a.y,a.z||0)}e.length>n.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),n.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new xa);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new pt(-1/0,-1/0,-1/0),new pt(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,s=n.length;r<s;r++){const a=n[r];Vl.setFromBufferAttribute(a),this.morphTargetsRelative?(Js.addVectors(this.boundingBox.min,Vl.min),this.boundingBox.expandByPoint(Js),Js.addVectors(this.boundingBox.max,Vl.max),this.boundingBox.expandByPoint(Js)):(this.boundingBox.expandByPoint(Vl.min),this.boundingBox.expandByPoint(Vl.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Sa);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new pt,1/0);return}if(e){const r=this.boundingSphere.center;if(Vl.setFromBufferAttribute(e),n)for(let a=0,o=n.length;a<o;a++){const l=n[a];Lx.setFromBufferAttribute(l),this.morphTargetsRelative?(Js.addVectors(Vl.min,Lx.min),Vl.expandByPoint(Js),Js.addVectors(Vl.max,Lx.max),Vl.expandByPoint(Js)):(Vl.expandByPoint(Lx.min),Vl.expandByPoint(Lx.max))}Vl.getCenter(r);let s=0;for(let a=0,o=e.count;a<o;a++)Js.fromBufferAttribute(e,a),s=Math.max(s,r.distanceToSquared(Js));if(n)for(let a=0,o=n.length;a<o;a++){const l=n[a],u=this.morphTargetsRelative;for(let c=0,h=l.count;c<h;c++)Js.fromBufferAttribute(l,c),u&&(_v.fromBufferAttribute(e,c),Js.add(_v)),s=Math.max(s,r.distanceToSquared(Js))}this.boundingSphere.radius=Math.sqrt(s),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=n.position,s=n.normal,a=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Xi(new Float32Array(4*r.count),4));const o=this.getAttribute("tangent"),l=[],u=[];for(let N=0;N<r.count;N++)l[N]=new pt,u[N]=new pt;const c=new pt,h=new pt,p=new pt,g=new me,v=new me,b=new me,S=new pt,E=new pt;function x(N,U,R){c.fromBufferAttribute(r,N),h.fromBufferAttribute(r,U),p.fromBufferAttribute(r,R),g.fromBufferAttribute(a,N),v.fromBufferAttribute(a,U),b.fromBufferAttribute(a,R),h.sub(c),p.sub(c),v.sub(g),b.sub(g);const B=1/(v.x*b.y-b.x*v.y);isFinite(B)&&(S.copy(h).multiplyScalar(b.y).addScaledVector(p,-v.y).multiplyScalar(B),E.copy(p).multiplyScalar(v.x).addScaledVector(h,-b.x).multiplyScalar(B),l[N].add(S),l[U].add(S),l[R].add(S),u[N].add(E),u[U].add(E),u[R].add(E))}let A=this.groups;A.length===0&&(A=[{start:0,count:e.count}]);for(let N=0,U=A.length;N<U;++N){const R=A[N],B=R.start,H=R.count;for(let V=B,Y=B+H;V<Y;V+=3)x(e.getX(V+0),e.getX(V+1),e.getX(V+2))}const C=new pt,M=new pt,P=new pt,k=new pt;function D(N){P.fromBufferAttribute(s,N),k.copy(P);const U=l[N];C.copy(U),C.sub(P.multiplyScalar(P.dot(U))).normalize(),M.crossVectors(k,U);const B=M.dot(u[N])<0?-1:1;o.setXYZW(N,C.x,C.y,C.z,B)}for(let N=0,U=A.length;N<U;++N){const R=A[N],B=R.start,H=R.count;for(let V=B,Y=B+H;V<Y;V+=3)D(e.getX(V+0)),D(e.getX(V+1)),D(e.getX(V+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Xi(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let g=0,v=r.count;g<v;g++)r.setXYZ(g,0,0,0);const s=new pt,a=new pt,o=new pt,l=new pt,u=new pt,c=new pt,h=new pt,p=new pt;if(e)for(let g=0,v=e.count;g<v;g+=3){const b=e.getX(g+0),S=e.getX(g+1),E=e.getX(g+2);s.fromBufferAttribute(n,b),a.fromBufferAttribute(n,S),o.fromBufferAttribute(n,E),h.subVectors(o,a),p.subVectors(s,a),h.cross(p),l.fromBufferAttribute(r,b),u.fromBufferAttribute(r,S),c.fromBufferAttribute(r,E),l.add(h),u.add(h),c.add(h),r.setXYZ(b,l.x,l.y,l.z),r.setXYZ(S,u.x,u.y,u.z),r.setXYZ(E,c.x,c.y,c.z)}else for(let g=0,v=n.count;g<v;g+=3)s.fromBufferAttribute(n,g+0),a.fromBufferAttribute(n,g+1),o.fromBufferAttribute(n,g+2),h.subVectors(o,a),p.subVectors(s,a),h.cross(p),r.setXYZ(g+0,h.x,h.y,h.z),r.setXYZ(g+1,h.x,h.y,h.z),r.setXYZ(g+2,h.x,h.y,h.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)Js.fromBufferAttribute(e,n),Js.normalize(),e.setXYZ(n,Js.x,Js.y,Js.z)}toNonIndexed(){function e(l,u){const c=l.array,h=l.itemSize,p=l.normalized,g=new c.constructor(u.length*h);let v=0,b=0;for(let S=0,E=u.length;S<E;S++){l.isInterleavedBufferAttribute?v=u[S]*l.data.stride+l.offset:v=u[S]*h;for(let x=0;x<h;x++)g[b++]=c[v++]}return new Xi(g,h,p)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new Wn,r=this.index.array,s=this.attributes;for(const l in s){const u=s[l],c=e(u,r);n.setAttribute(l,c)}const a=this.morphAttributes;for(const l in a){const u=[],c=a[l];for(let h=0,p=c.length;h<p;h++){const g=c[h],v=e(g,r);u.push(v)}n.morphAttributes[l]=u}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let l=0,u=o.length;l<u;l++){const c=o[l];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const u=this.parameters;for(const c in u)u[c]!==void 0&&(e[c]=u[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const u in r){const c=r[u];e.data.attributes[u]=c.toJSON(e.data)}const s={};let a=!1;for(const u in this.morphAttributes){const c=this.morphAttributes[u],h=[];for(let p=0,g=c.length;p<g;p++){const v=c[p];h.push(v.toJSON(e.data))}h.length>0&&(s[u]=h,a=!0)}a&&(e.data.morphAttributes=s,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const l=this.boundingSphere;return l!==null&&(e.data.boundingSphere={center:l.center.toArray(),radius:l.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const s=e.attributes;for(const c in s){const h=s[c];this.setAttribute(c,h.clone(n))}const a=e.morphAttributes;for(const c in a){const h=[],p=a[c];for(let g=0,v=p.length;g<v;g++)h.push(p[g].clone(n));this.morphAttributes[c]=h}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,h=o.length;c<h;c++){const p=o[c];this.addGroup(p.start,p.count,p.materialIndex)}const l=e.boundingBox;l!==null&&(this.boundingBox=l.clone());const u=e.boundingSphere;return u!==null&&(this.boundingSphere=u.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const o5=new Sn,Ig=new fb,bw=new Sa,l5=new pt,xw=new pt,Sw=new pt,Ew=new pt,VP=new pt,Tw=new pt,u5=new pt,ww=new pt;class rs extends Ai{constructor(e=new Wn,n=new Lm){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const s=n[r[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=s.length;a<o;a++){const l=s[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=a}}}}getVertexPosition(e,n){const r=this.geometry,s=r.attributes.position,a=r.morphAttributes.position,o=r.morphTargetsRelative;n.fromBufferAttribute(s,e);const l=this.morphTargetInfluences;if(a&&l){Tw.set(0,0,0);for(let u=0,c=a.length;u<c;u++){const h=l[u],p=a[u];h!==0&&(VP.fromBufferAttribute(p,e),o?Tw.addScaledVector(VP,h):Tw.addScaledVector(VP.sub(n),h))}n.add(Tw)}return n}raycast(e,n){const r=this.geometry,s=this.material,a=this.matrixWorld;s!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),bw.copy(r.boundingSphere),bw.applyMatrix4(a),Ig.copy(e.ray).recast(e.near),!(bw.containsPoint(Ig.origin)===!1&&(Ig.intersectSphere(bw,l5)===null||Ig.origin.distanceToSquared(l5)>(e.far-e.near)**2))&&(o5.copy(a).invert(),Ig.copy(e.ray).applyMatrix4(o5),!(r.boundingBox!==null&&Ig.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,Ig)))}_computeIntersections(e,n,r){let s;const a=this.geometry,o=this.material,l=a.index,u=a.attributes.position,c=a.attributes.uv,h=a.attributes.uv1,p=a.attributes.normal,g=a.groups,v=a.drawRange;if(l!==null)if(Array.isArray(o))for(let b=0,S=g.length;b<S;b++){const E=g[b],x=o[E.materialIndex],A=Math.max(E.start,v.start),C=Math.min(l.count,Math.min(E.start+E.count,v.start+v.count));for(let M=A,P=C;M<P;M+=3){const k=l.getX(M),D=l.getX(M+1),N=l.getX(M+2);s=Aw(this,x,e,r,c,h,p,k,D,N),s&&(s.faceIndex=Math.floor(M/3),s.face.materialIndex=E.materialIndex,n.push(s))}}else{const b=Math.max(0,v.start),S=Math.min(l.count,v.start+v.count);for(let E=b,x=S;E<x;E+=3){const A=l.getX(E),C=l.getX(E+1),M=l.getX(E+2);s=Aw(this,o,e,r,c,h,p,A,C,M),s&&(s.faceIndex=Math.floor(E/3),n.push(s))}}else if(u!==void 0)if(Array.isArray(o))for(let b=0,S=g.length;b<S;b++){const E=g[b],x=o[E.materialIndex],A=Math.max(E.start,v.start),C=Math.min(u.count,Math.min(E.start+E.count,v.start+v.count));for(let M=A,P=C;M<P;M+=3){const k=M,D=M+1,N=M+2;s=Aw(this,x,e,r,c,h,p,k,D,N),s&&(s.faceIndex=Math.floor(M/3),s.face.materialIndex=E.materialIndex,n.push(s))}}else{const b=Math.max(0,v.start),S=Math.min(u.count,v.start+v.count);for(let E=b,x=S;E<x;E+=3){const A=E,C=E+1,M=E+2;s=Aw(this,o,e,r,c,h,p,A,C,M),s&&(s.faceIndex=Math.floor(E/3),n.push(s))}}}}function Ttt(i,e,n,r,s,a,o,l){let u;if(e.side===Mo?u=r.intersectTriangle(o,a,s,!0,l):u=r.intersectTriangle(s,a,o,e.side===Rd,l),u===null)return null;ww.copy(l),ww.applyMatrix4(i.matrixWorld);const c=n.ray.origin.distanceTo(ww);return c<n.near||c>n.far?null:{distance:c,point:ww.clone(),object:i}}function Aw(i,e,n,r,s,a,o,l,u,c){i.getVertexPosition(l,xw),i.getVertexPosition(u,Sw),i.getVertexPosition(c,Ew);const h=Ttt(i,e,n,r,xw,Sw,Ew,u5);if(h){const p=new pt;ol.getBarycoord(u5,xw,Sw,Ew,p),s&&(h.uv=ol.getInterpolatedAttribute(s,l,u,c,p,new me)),a&&(h.uv1=ol.getInterpolatedAttribute(a,l,u,c,p,new me)),o&&(h.normal=ol.getInterpolatedAttribute(o,l,u,c,p,new pt),h.normal.dot(r.direction)>0&&h.normal.multiplyScalar(-1));const g={a:l,b:u,c,normal:new pt,materialIndex:0};ol.getNormal(xw,Sw,Ew,g.normal),h.face=g,h.barycoord=p}return h}class n0 extends Wn{constructor(e=1,n=1,r=1,s=1,a=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:s,heightSegments:a,depthSegments:o};const l=this;s=Math.floor(s),a=Math.floor(a),o=Math.floor(o);const u=[],c=[],h=[],p=[];let g=0,v=0;b("z","y","x",-1,-1,r,n,e,o,a,0),b("z","y","x",1,-1,r,n,-e,o,a,1),b("x","z","y",1,1,e,r,n,s,o,2),b("x","z","y",1,-1,e,r,-n,s,o,3),b("x","y","z",1,-1,e,n,r,s,a,4),b("x","y","z",-1,-1,e,n,-r,s,a,5),this.setIndex(u),this.setAttribute("position",new Xe(c,3)),this.setAttribute("normal",new Xe(h,3)),this.setAttribute("uv",new Xe(p,2));function b(S,E,x,A,C,M,P,k,D,N,U){const R=M/D,B=P/N,H=M/2,V=P/2,Y=k/2,et=D+1,G=N+1;let X=0,J=0;const nt=new pt;for(let Z=0;Z<G;Z++){const dt=Z*B-V;for(let yt=0;yt<et;yt++){const xt=yt*R-H;nt[S]=xt*A,nt[E]=dt*C,nt[x]=Y,c.push(nt.x,nt.y,nt.z),nt[S]=0,nt[E]=0,nt[x]=k>0?1:-1,h.push(nt.x,nt.y,nt.z),p.push(yt/D),p.push(1-Z/N),X+=1}}for(let Z=0;Z<N;Z++)for(let dt=0;dt<D;dt++){const yt=g+dt+et*Z,xt=g+dt+et*(Z+1),it=g+(dt+1)+et*(Z+1),ht=g+(dt+1)+et*Z;u.push(yt,xt,ht),u.push(xt,it,ht),J+=6}l.addGroup(v,J,U),v+=J,g+=X}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new n0(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function P_(i){const e={};for(const n in i){e[n]={};for(const r in i[n]){const s=i[n][r];s&&(s.isColor||s.isMatrix3||s.isMatrix4||s.isVector2||s.isVector3||s.isVector4||s.isTexture||s.isQuaternion)?s.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=s.clone():Array.isArray(s)?e[n][r]=s.slice():e[n][r]=s}}return e}function xo(i){const e={};for(let n=0;n<i.length;n++){const r=P_(i[n]);for(const s in r)e[s]=r[s]}return e}function wtt(i){const e=[];for(let n=0;n<i.length;n++)e.push(i[n].clone());return e}function rj(i){const e=i.getRenderTarget();return e===null?i.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:vi.workingColorSpace}const sj={clone:P_,merge:xo};var Att=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Mtt=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Vu extends Qa{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Att,this.fragmentShader=Mtt,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=P_(e.uniforms),this.uniformsGroups=wtt(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const s in this.uniforms){const o=this.uniforms[s].value;o&&o.isTexture?n.uniforms[s]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[s]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[s]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[s]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[s]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[s]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[s]={type:"m4",value:o.toArray()}:n.uniforms[s]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const s in this.extensions)this.extensions[s]===!0&&(r[s]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class Q2 extends Ai{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Sn,this.projectionMatrix=new Sn,this.projectionMatrixInverse=new Sn,this.coordinateSystem=Oc}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Vp=new pt,c5=new me,f5=new me;class ea extends Q2{constructor(e=50,n=1,r=.1,s=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=s,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=R_*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Ty*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return R_*2*Math.atan(Math.tan(Ty*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,r){Vp.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(Vp.x,Vp.y).multiplyScalar(-e/Vp.z),Vp.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(Vp.x,Vp.y).multiplyScalar(-e/Vp.z)}getViewSize(e,n){return this.getViewBounds(e,c5,f5),n.subVectors(f5,c5)}setViewOffset(e,n,r,s,a,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=s,this.view.width=a,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(Ty*.5*this.fov)/this.zoom,r=2*n,s=this.aspect*r,a=-.5*s;const o=this.view;if(this.view!==null&&this.view.enabled){const u=o.fullWidth,c=o.fullHeight;a+=o.offsetX*s/u,n-=o.offsetY*r/c,s*=o.width/u,r*=o.height/c}const l=this.filmOffset;l!==0&&(a+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+s,n,n-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const bv=-90,xv=1;class aj extends Ai{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const s=new ea(bv,xv,e,n);s.layers=this.layers,this.add(s);const a=new ea(bv,xv,e,n);a.layers=this.layers,this.add(a);const o=new ea(bv,xv,e,n);o.layers=this.layers,this.add(o);const l=new ea(bv,xv,e,n);l.layers=this.layers,this.add(l);const u=new ea(bv,xv,e,n);u.layers=this.layers,this.add(u);const c=new ea(bv,xv,e,n);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,s,a,o,l,u]=n;for(const c of n)this.remove(c);if(e===Oc)r.up.set(0,1,0),r.lookAt(1,0,0),s.up.set(0,1,0),s.lookAt(-1,0,0),a.up.set(0,0,-1),a.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),l.up.set(0,1,0),l.lookAt(0,0,1),u.up.set(0,1,0),u.lookAt(0,0,-1);else if(e===TS)r.up.set(0,-1,0),r.lookAt(-1,0,0),s.up.set(0,-1,0),s.lookAt(1,0,0),a.up.set(0,0,1),a.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),l.up.set(0,-1,0),l.lookAt(0,0,1),u.up.set(0,-1,0),u.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of n)this.add(c),c.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:s}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[a,o,l,u,c,h]=this.children,p=e.getRenderTarget(),g=e.getActiveCubeFace(),v=e.getActiveMipmapLevel(),b=e.xr.enabled;e.xr.enabled=!1;const S=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,s),e.render(n,a),e.setRenderTarget(r,1,s),e.render(n,o),e.setRenderTarget(r,2,s),e.render(n,l),e.setRenderTarget(r,3,s),e.render(n,u),e.setRenderTarget(r,4,s),e.render(n,c),r.texture.generateMipmaps=S,e.setRenderTarget(r,5,s),e.render(n,h),e.setRenderTarget(p,g,v),e.xr.enabled=b,r.texture.needsPMREMUpdate=!0}}class yE extends as{constructor(e,n,r,s,a,o,l,u,c,h){e=e!==void 0?e:[],n=n!==void 0?n:Od,super(e,n,r,s,a,o,l,u,c,h),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class oj extends ah{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},s=[r,r,r,r,r,r];this.texture=new yE(s,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:Vs}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},s=new n0(5,5,5),a=new Vu({name:"CubemapFromEquirect",uniforms:P_(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Mo,blending:Td});a.uniforms.tEquirect.value=n;const o=new rs(s,a),l=n.minFilter;return n.minFilter===Gf&&(n.minFilter=Vs),new aj(1,10,this).update(e,o),n.minFilter=l,o.geometry.dispose(),o.material.dispose(),this}clear(e,n,r,s){const a=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,r,s);e.setRenderTarget(a)}}let gd=class extends Ai{constructor(){super(),this.isGroup=!0,this.type="Group"}};const Ctt={type:"move"};class aM{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new gd,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new gd,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new pt,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new pt),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new gd,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new pt,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new pt),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let s=null,a=null,o=null;const l=this._targetRay,u=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const S of e.hand.values()){const E=n.getJointPose(S,r),x=this._getHandJoint(c,S);E!==null&&(x.matrix.fromArray(E.transform.matrix),x.matrix.decompose(x.position,x.rotation,x.scale),x.matrixWorldNeedsUpdate=!0,x.jointRadius=E.radius),x.visible=E!==null}const h=c.joints["index-finger-tip"],p=c.joints["thumb-tip"],g=h.position.distanceTo(p.position),v=.02,b=.005;c.inputState.pinching&&g>v+b?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&g<=v-b&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else u!==null&&e.gripSpace&&(a=n.getPose(e.gripSpace,r),a!==null&&(u.matrix.fromArray(a.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),u.matrixWorldNeedsUpdate=!0,a.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(a.linearVelocity)):u.hasLinearVelocity=!1,a.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(a.angularVelocity)):u.hasAngularVelocity=!1));l!==null&&(s=n.getPose(e.targetRaySpace,r),s===null&&a!==null&&(s=a),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1,this.dispatchEvent(Ctt)))}return l!==null&&(l.visible=s!==null),u!==null&&(u.visible=a!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new gd;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}class J2{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new He(e),this.density=n}clone(){return new J2(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class tR{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new He(e),this.near=n,this.far=r}clone(){return new tR(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class ZL extends Ai{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Zl,this.environmentIntensity=1,this.environmentRotation=new Zl,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class eR{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=ES,this.updateRanges=[],this.version=0,this.uuid=Xl()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let s=0,a=this.stride;s<a;s++)this.array[e+s]=n.array[r+s];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Xl()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Xl()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const bo=new pt;class Fy{constructor(e,n,r,s=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=s}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)bo.fromBufferAttribute(this,n),bo.applyMatrix4(e),this.setXYZ(n,bo.x,bo.y,bo.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)bo.fromBufferAttribute(this,n),bo.applyNormalMatrix(e),this.setXYZ(n,bo.x,bo.y,bo.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)bo.fromBufferAttribute(this,n),bo.transformDirection(e),this.setXYZ(n,bo.x,bo.y,bo.z);return this}getComponent(e,n){let r=this.array[e*this.data.stride+this.offset+n];return this.normalized&&(r=To(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=$n(r,this.array)),this.data.array[e*this.data.stride+this.offset+n]=r,this}setX(e,n){return this.normalized&&(n=$n(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=$n(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=$n(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=$n(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=To(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=To(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=To(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=To(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=$n(n,this.array),r=$n(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(n=$n(n,this.array),r=$n(r,this.array),s=$n(s,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=s,this}setXYZW(e,n,r,s,a){return e=e*this.data.stride+this.offset,this.normalized&&(n=$n(n,this.array),r=$n(r,this.array),s=$n(s,this.array),a=$n(a,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=s,this.data.array[e+3]=a,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const s=r*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)n.push(this.data.array[s+a])}return new Xi(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Fy(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const s=r*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)n.push(this.data.array[s+a])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class nR extends Qa{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new He(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Sv;const Ux=new pt,Ev=new pt,Tv=new pt,wv=new me,kx=new me,lj=new Sn,Mw=new pt,zx=new pt,Cw=new pt,h5=new me,HP=new me,d5=new me;class QL extends Ai{constructor(e=new nR){if(super(),this.isSprite=!0,this.type="Sprite",Sv===void 0){Sv=new Wn;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new eR(n,5);Sv.setIndex([0,1,2,0,2,3]),Sv.setAttribute("position",new Fy(r,3,0,!1)),Sv.setAttribute("uv",new Fy(r,2,3,!1))}this.geometry=Sv,this.material=e,this.center=new me(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Ev.setFromMatrixScale(this.matrixWorld),lj.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Tv.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Ev.multiplyScalar(-Tv.z);const r=this.material.rotation;let s,a;r!==0&&(a=Math.cos(r),s=Math.sin(r));const o=this.center;Rw(Mw.set(-.5,-.5,0),Tv,o,Ev,s,a),Rw(zx.set(.5,-.5,0),Tv,o,Ev,s,a),Rw(Cw.set(.5,.5,0),Tv,o,Ev,s,a),h5.set(0,0),HP.set(1,0),d5.set(1,1);let l=e.ray.intersectTriangle(Mw,zx,Cw,!1,Ux);if(l===null&&(Rw(zx.set(-.5,.5,0),Tv,o,Ev,s,a),HP.set(0,1),l=e.ray.intersectTriangle(Mw,Cw,zx,!1,Ux),l===null))return;const u=e.ray.origin.distanceTo(Ux);u<e.near||u>e.far||n.push({distance:u,point:Ux.clone(),uv:ol.getInterpolation(Ux,Mw,zx,Cw,h5,HP,d5,new me),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Rw(i,e,n,r,s,a){wv.subVectors(i,n).addScalar(.5).multiply(r),s!==void 0?(kx.x=a*wv.x-s*wv.y,kx.y=s*wv.x+a*wv.y):kx.copy(wv),i.copy(e),i.x+=kx.x,i.y+=kx.y,i.applyMatrix4(lj)}const Ow=new pt,p5=new pt;class uj extends Ai{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,s=n.length;r<s;r++){const a=n[r];this.addLevel(a.object.clone(),a.distance,a.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const s=this.levels;let a;for(a=0;a<s.length&&!(n<s[a].distance);a++);return s.splice(a,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}removeLevel(e){const n=this.levels;for(let r=0;r<n.length;r++)if(n[r].distance===e){const s=n.splice(r,1);return this.remove(s[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,s;for(r=1,s=n.length;r<s;r++){let a=n[r].distance;if(n[r].object.visible&&(a-=a*n[r].hysteresis),e<a)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){Ow.setFromMatrixPosition(this.matrixWorld);const s=e.ray.origin.distanceTo(Ow);this.getObjectForDistance(s).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){Ow.setFromMatrixPosition(e.matrixWorld),p5.setFromMatrixPosition(this.matrixWorld);const r=Ow.distanceTo(p5)/e.zoom;n[0].object.visible=!0;let s,a;for(s=1,a=n.length;s<a;s++){let o=n[s].distance;if(n[s].object.visible&&(o-=o*n[s].hysteresis),r>=o)n[s-1].object.visible=!1,n[s].object.visible=!0;else break}for(this._currentLevel=s-1;s<a;s++)n[s].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let s=0,a=r.length;s<a;s++){const o=r[s];n.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return n}}const m5=new pt,g5=new Ei,y5=new Ei,Rtt=new pt,v5=new Sn,Pw=new pt,jP=new Sa,_5=new Sn,GP=new fb;class cj extends rs{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=u3,this.bindMatrix=new Sn,this.bindMatrixInverse=new Sn,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new xa),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,Pw),this.boundingBox.expandByPoint(Pw)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Sa),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,Pw),this.boundingSphere.expandByPoint(Pw)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const r=this.material,s=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),jP.copy(this.boundingSphere),jP.applyMatrix4(s),e.ray.intersectsSphere(jP)!==!1&&(_5.copy(s).invert(),GP.copy(e.ray).applyMatrix4(_5),!(this.boundingBox!==null&&GP.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,GP)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Ei,n=this.geometry.attributes.skinWeight;for(let r=0,s=n.count;r<s;r++){e.fromBufferAttribute(n,r);const a=1/e.manhattanLength();a!==1/0?e.multiplyScalar(a):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===u3?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===B7?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,s=this.geometry;g5.fromBufferAttribute(s.attributes.skinIndex,e),y5.fromBufferAttribute(s.attributes.skinWeight,e),m5.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let a=0;a<4;a++){const o=y5.getComponent(a);if(o!==0){const l=g5.getComponent(a);v5.multiplyMatrices(r.bones[l].matrixWorld,r.boneInverses[l]),n.addScaledVector(Rtt.copy(m5).applyMatrix4(v5),o)}}return n.applyMatrix4(this.bindMatrixInverse)}}class JL extends Ai{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Zf extends as{constructor(e=null,n=1,r=1,s,a,o,l,u,c=ba,h=ba,p,g){super(null,o,l,u,c,h,s,a,p,g),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const b5=new Sn,Ott=new Sn;class iR{constructor(e=[],n=[]){this.uuid=Xl(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,s=this.bones.length;r<s;r++)this.boneInverses.push(new Sn)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new Sn;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,s=this.boneTexture;for(let a=0,o=e.length;a<o;a++){const l=e[a]?e[a].matrixWorld:Ott;b5.multiplyMatrices(l,n[a]),b5.toArray(r,a*16)}s!==null&&(s.needsUpdate=!0)}clone(){return new iR(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new Zf(n,e,e,Xa,ll);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const s=this.bones[n];if(s.name===e)return s}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,s=e.bones.length;r<s;r++){const a=e.bones[r];let o=n[a];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",a),o=new JL),this.bones.push(o),this.boneInverses.push(new Sn().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let s=0,a=n.length;s<a;s++){const o=n[s];e.bones.push(o.uuid);const l=r[s];e.boneInverses.push(l.toArray())}return e}}class I_ extends Xi{constructor(e,n,r,s=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=s}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Av=new Sn,x5=new Sn,Iw=[],S5=new xa,Ptt=new Sn,Bx=new rs,Fx=new Sa;class fj extends rs{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new I_(new Float32Array(r*16),16),this.instanceColor=null,this.morphTexture=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let s=0;s<r;s++)this.setMatrixAt(s,Ptt)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new xa),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,Av),S5.copy(e.boundingBox).applyMatrix4(Av),this.boundingBox.union(S5)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new Sa),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,Av),Fx.copy(e.boundingSphere).applyMatrix4(Av),this.boundingSphere.union(Fx)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,n){const r=n.morphTargetInfluences,s=this.morphTexture.source.data.data,a=r.length+1,o=e*a+1;for(let l=0;l<r.length;l++)r[l]=s[o+l]}raycast(e,n){const r=this.matrixWorld,s=this.count;if(Bx.geometry=this.geometry,Bx.material=this.material,Bx.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Fx.copy(this.boundingSphere),Fx.applyMatrix4(r),e.ray.intersectsSphere(Fx)!==!1))for(let a=0;a<s;a++){this.getMatrixAt(a,Av),x5.multiplyMatrices(r,Av),Bx.matrixWorld=x5,Bx.raycast(e,Iw);for(let o=0,l=Iw.length;o<l;o++){const u=Iw[o];u.instanceId=a,u.object=this,n.push(u)}Iw.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new I_(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,n){const r=n.morphTargetInfluences,s=r.length+1;this.morphTexture===null&&(this.morphTexture=new Zf(new Float32Array(s*this.count),s,this.count,q2,ll));const a=this.morphTexture.source.data.data;let o=0;for(let c=0;c<r.length;c++)o+=r[c];const l=this.geometry.morphTargetsRelative?1:1-o,u=s*e;a[u]=l,a.set(r,u+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const $P=new pt,Itt=new pt,Dtt=new Hn;class Zp{constructor(e=new pt(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,s){return this.normal.set(e,n,r),this.constant=s,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const s=$P.subVectors(r,n).cross(Itt.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(s,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta($P),s=this.normal.dot(r);if(s===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const a=-(e.start.dot(this.normal)+this.constant)/s;return a<0||a>1?null:n.copy(e.start).addScaledVector(r,a)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||Dtt.getNormalMatrix(e),s=this.coplanarPoint($P).applyMatrix4(e),a=this.normal.applyMatrix3(r).normalize();return this.constant=-s.dot(a),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Dg=new Sa,Dw=new pt;class vE{constructor(e=new Zp,n=new Zp,r=new Zp,s=new Zp,a=new Zp,o=new Zp){this.planes=[e,n,r,s,a,o]}set(e,n,r,s,a,o){const l=this.planes;return l[0].copy(e),l[1].copy(n),l[2].copy(r),l[3].copy(s),l[4].copy(a),l[5].copy(o),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=Oc){const r=this.planes,s=e.elements,a=s[0],o=s[1],l=s[2],u=s[3],c=s[4],h=s[5],p=s[6],g=s[7],v=s[8],b=s[9],S=s[10],E=s[11],x=s[12],A=s[13],C=s[14],M=s[15];if(r[0].setComponents(u-a,g-c,E-v,M-x).normalize(),r[1].setComponents(u+a,g+c,E+v,M+x).normalize(),r[2].setComponents(u+o,g+h,E+b,M+A).normalize(),r[3].setComponents(u-o,g-h,E-b,M-A).normalize(),r[4].setComponents(u-l,g-p,E-S,M-C).normalize(),n===Oc)r[5].setComponents(u+l,g+p,E+S,M+C).normalize();else if(n===TS)r[5].setComponents(l,p,S,C).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Dg.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),Dg.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Dg)}intersectsSprite(e){return Dg.center.set(0,0,0),Dg.radius=.7071067811865476,Dg.applyMatrix4(e.matrixWorld),this.intersectsSphere(Dg)}intersectsSphere(e){const n=this.planes,r=e.center,s=-e.radius;for(let a=0;a<6;a++)if(n[a].distanceToPoint(r)<s)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const s=n[r];if(Dw.x=s.normal.x>0?e.max.x:e.min.x,Dw.y=s.normal.y>0?e.max.y:e.min.y,Dw.z=s.normal.z>0?e.max.z:e.min.z,s.distanceToPoint(Dw)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function qP(i,e){return i-e}function Ntt(i,e){return i.z-e.z}function Ltt(i,e){return e.z-i.z}class Utt{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n,r,s){const a=this.pool,o=this.list;this.index>=a.length&&a.push({start:-1,count:-1,z:-1,index:-1});const l=a[this.index];o.push(l),this.index++,l.start=e,l.count=n,l.z=r,l.index=s}reset(){this.list.length=0,this.index=0}}const tl=new Sn,ktt=new He(1,1,1),WP=new vE,Nw=new xa,Ng=new Sa,Vx=new pt,E5=new pt,ztt=new pt,XP=new Utt,Ba=new rs,Lw=[];function Btt(i,e,n=0){const r=e.itemSize;if(i.isInterleavedBufferAttribute||i.array.constructor!==e.array.constructor){const s=i.count;for(let a=0;a<s;a++)for(let o=0;o<r;o++)e.setComponent(a+n,o,i.getComponent(a,o))}else e.array.set(i.array,n*r);e.needsUpdate=!0}function Lg(i,e){if(i.constructor!==e.constructor){const n=Math.min(i.length,e.length);for(let r=0;r<n;r++)e[r]=i[r]}else{const n=Math.min(i.length,e.length);e.set(new i.constructor(i.buffer,0,n))}}class hj extends rs{constructor(e,n,r=n*2,s){super(new Wn,s),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=n,this._maxIndexCount=r,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),r=new Zf(n,e,e,Xa,ll);this._matricesTexture=r}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Uint32Array(e*e),r=new Zf(n,e,e,mE,Pd);this._indirectTexture=r}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Float32Array(e*e*4).fill(1),r=new Zf(n,e,e,Xa,ll);r.colorSpace=vi.workingColorSpace,this._colorsTexture=r}_initializeGeometry(e){const n=this.geometry,r=this._maxVertexCount,s=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in e.attributes){const o=e.getAttribute(a),{array:l,itemSize:u,normalized:c}=o,h=new l.constructor(r*u),p=new Xi(h,u,c);n.setAttribute(a,p)}if(e.getIndex()!==null){const a=r>65535?new Uint32Array(s):new Uint16Array(s);n.setIndex(new Xi(a,1))}this._geometryInitialized=!0}}_validateGeometry(e){const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const r in n.attributes){if(!e.hasAttribute(r))throw new Error(`THREE.BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const s=e.getAttribute(r),a=n.getAttribute(r);if(s.itemSize!==a.itemSize||s.normalized!==a.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const n=this._instanceInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const n=this._geometryInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new xa);const e=this.boundingBox,n=this._instanceInfo;e.makeEmpty();for(let r=0,s=n.length;r<s;r++){if(n[r].active===!1)continue;const a=n[r].geometryIndex;this.getMatrixAt(r,tl),this.getBoundingBoxAt(a,Nw).applyMatrix4(tl),e.union(Nw)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Sa);const e=this.boundingSphere,n=this._instanceInfo;e.makeEmpty();for(let r=0,s=n.length;r<s;r++){if(n[r].active===!1)continue;const a=n[r].geometryIndex;this.getMatrixAt(r,tl),this.getBoundingSphereAt(a,Ng).applyMatrix4(tl),e.union(Ng)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const r={visible:!0,active:!0,geometryIndex:e};let s=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(qP),s=this._availableInstanceIds.shift(),this._instanceInfo[s]=r):(s=this._instanceInfo.length,this._instanceInfo.push(r));const a=this._matricesTexture;tl.identity().toArray(a.image.data,s*16),a.needsUpdate=!0;const o=this._colorsTexture;return o&&(ktt.toArray(o.image.data,s*4),o.needsUpdate=!0),this._visibilityChanged=!0,s}addGeometry(e,n=-1,r=-1){this._initializeGeometry(e),this._validateGeometry(e);const s={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},a=this._geometryInfo;s.vertexStart=this._nextVertexStart,s.reservedVertexCount=n===-1?e.getAttribute("position").count:n;const o=e.getIndex();if(o!==null&&(s.indexStart=this._nextIndexStart,s.reservedIndexCount=r===-1?o.count:r),s.indexStart!==-1&&s.indexStart+s.reservedIndexCount>this._maxIndexCount||s.vertexStart+s.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let u;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(qP),u=this._availableGeometryIds.shift(),a[u]=s):(u=this._geometryCount,this._geometryCount++,a.push(s)),this.setGeometryAt(u,e),this._nextIndexStart=s.indexStart+s.reservedIndexCount,this._nextVertexStart=s.vertexStart+s.reservedVertexCount,u}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const r=this.geometry,s=r.getIndex()!==null,a=r.getIndex(),o=n.getIndex(),l=this._geometryInfo[e];if(s&&o.count>l.reservedIndexCount||n.attributes.position.count>l.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const u=l.vertexStart,c=l.reservedVertexCount;l.vertexCount=n.getAttribute("position").count;for(const h in r.attributes){const p=n.getAttribute(h),g=r.getAttribute(h);Btt(p,g,u);const v=p.itemSize;for(let b=p.count,S=c;b<S;b++){const E=u+b;for(let x=0;x<v;x++)g.setComponent(E,x,0)}g.needsUpdate=!0,g.addUpdateRange(u*v,c*v)}if(s){const h=l.indexStart,p=l.reservedIndexCount;l.indexCount=n.getIndex().count;for(let g=0;g<o.count;g++)a.setX(h+g,u+o.getX(g));for(let g=o.count,v=p;g<v;g++)a.setX(h+g,u);a.needsUpdate=!0,a.addUpdateRange(h,l.reservedIndexCount)}return l.start=s?l.indexStart:l.vertexStart,l.count=s?l.indexCount:l.vertexCount,l.boundingBox=null,n.boundingBox!==null&&(l.boundingBox=n.boundingBox.clone()),l.boundingSphere=null,n.boundingSphere!==null&&(l.boundingSphere=n.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const n=this._geometryInfo;if(e>=n.length||n[e].active===!1)return this;const r=this._instanceInfo;for(let s=0,a=r.length;s<a;s++)r[s].active&&r[s].geometryIndex===e&&this.deleteInstance(s);return n[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,n=0;const r=this._geometryInfo,s=r.map((o,l)=>l).sort((o,l)=>r[o].vertexStart-r[l].vertexStart),a=this.geometry;for(let o=0,l=r.length;o<l;o++){const u=s[o],c=r[u];if(c.active!==!1){if(a.index!==null){if(c.indexStart!==n){const{indexStart:h,vertexStart:p,reservedIndexCount:g}=c,v=a.index,b=v.array,S=e-p;for(let E=h;E<h+g;E++)b[E]=b[E]+S;v.array.copyWithin(n,h,h+g),v.addUpdateRange(n,g),c.indexStart=n}n+=c.reservedIndexCount}if(c.vertexStart!==e){const{vertexStart:h,reservedVertexCount:p}=c,g=a.attributes;for(const v in g){const b=g[v],{array:S,itemSize:E}=b;S.copyWithin(e*E,h*E,(h+p)*E),b.addUpdateRange(e*E,p*E)}c.vertexStart=e}e+=c.reservedVertexCount,c.start=a.index?c.indexStart:c.vertexStart,this._nextIndexStart=a.index?c.indexStart+c.reservedIndexCount:0,this._nextVertexStart=c.vertexStart+c.reservedVertexCount}}return this}getBoundingBoxAt(e,n){if(e>=this._geometryCount)return null;const r=this.geometry,s=this._geometryInfo[e];if(s.boundingBox===null){const a=new xa,o=r.index,l=r.attributes.position;for(let u=s.start,c=s.start+s.count;u<c;u++){let h=u;o&&(h=o.getX(h)),a.expandByPoint(Vx.fromBufferAttribute(l,h))}s.boundingBox=a}return n.copy(s.boundingBox),n}getBoundingSphereAt(e,n){if(e>=this._geometryCount)return null;const r=this.geometry,s=this._geometryInfo[e];if(s.boundingSphere===null){const a=new Sa;this.getBoundingBoxAt(e,Nw),Nw.getCenter(a.center);const o=r.index,l=r.attributes.position;let u=0;for(let c=s.start,h=s.start+s.count;c<h;c++){let p=c;o&&(p=o.getX(p)),Vx.fromBufferAttribute(l,p),u=Math.max(u,a.center.distanceToSquared(Vx))}a.radius=Math.sqrt(u),s.boundingSphere=a}return n.copy(s.boundingSphere),n}setMatrixAt(e,n){this.validateInstanceId(e);const r=this._matricesTexture,s=this._matricesTexture.image.data;return n.toArray(s,e*16),r.needsUpdate=!0,this}getMatrixAt(e,n){return this.validateInstanceId(e),n.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,n){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),n.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,n){return this.validateInstanceId(e),n.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,n){return this.validateInstanceId(e),this._instanceInfo[e].visible===n?this:(this._instanceInfo[e].visible=n,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,n){return this.validateInstanceId(e),this.validateGeometryId(n),this._instanceInfo[e].geometryIndex=n,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,n={}){this.validateGeometryId(e);const r=this._geometryInfo[e];return n.vertexStart=r.vertexStart,n.vertexCount=r.vertexCount,n.reservedVertexCount=r.reservedVertexCount,n.indexStart=r.indexStart,n.indexCount=r.indexCount,n.reservedIndexCount=r.reservedIndexCount,n.start=r.start,n.count=r.count,n}setInstanceCount(e){const n=this._availableInstanceIds,r=this._instanceInfo;for(n.sort(qP);n[n.length-1]===r.length;)r.pop(),n.pop();if(e<r.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const s=new Int32Array(e),a=new Int32Array(e);Lg(this._multiDrawCounts,s),Lg(this._multiDrawStarts,a),this._multiDrawCounts=s,this._multiDrawStarts=a,this._maxInstanceCount=e;const o=this._indirectTexture,l=this._matricesTexture,u=this._colorsTexture;o.dispose(),this._initIndirectTexture(),Lg(o.image.data,this._indirectTexture.image.data),l.dispose(),this._initMatricesTexture(),Lg(l.image.data,this._matricesTexture.image.data),u&&(u.dispose(),this._initColorsTexture(),Lg(u.image.data,this._colorsTexture.image.data))}setGeometrySize(e,n){const r=[...this._geometryInfo].filter(l=>l.active);if(Math.max(...r.map(l=>l.vertexStart+l.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${n}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...r.map(u=>u.indexStart+u.reservedIndexCount))>n)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${n}. Cannot shrink further.`);const a=this.geometry;a.dispose(),this._maxVertexCount=e,this._maxIndexCount=n,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new Wn,this._initializeGeometry(a));const o=this.geometry;a.index&&Lg(a.index.array,o.index.array);for(const l in a.attributes)Lg(a.attributes[l].array,o.attributes[l].array)}raycast(e,n){const r=this._instanceInfo,s=this._geometryInfo,a=this.matrixWorld,o=this.geometry;Ba.material=this.material,Ba.geometry.index=o.index,Ba.geometry.attributes=o.attributes,Ba.geometry.boundingBox===null&&(Ba.geometry.boundingBox=new xa),Ba.geometry.boundingSphere===null&&(Ba.geometry.boundingSphere=new Sa);for(let l=0,u=r.length;l<u;l++){if(!r[l].visible||!r[l].active)continue;const c=r[l].geometryIndex,h=s[c];Ba.geometry.setDrawRange(h.start,h.count),this.getMatrixAt(l,Ba.matrixWorld).premultiply(a),this.getBoundingBoxAt(c,Ba.geometry.boundingBox),this.getBoundingSphereAt(c,Ba.geometry.boundingSphere),Ba.raycast(e,Lw);for(let p=0,g=Lw.length;p<g;p++){const v=Lw[p];v.object=this,v.batchId=l,n.push(v)}Lw.length=0}Ba.material=null,Ba.geometry.index=null,Ba.geometry.attributes={},Ba.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(n=>({...n,boundingBox:n.boundingBox!==null?n.boundingBox.clone():null,boundingSphere:n.boundingSphere!==null?n.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(n=>({...n})),this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,n,r,s,a){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=s.getIndex(),l=o===null?1:o.array.BYTES_PER_ELEMENT,u=this._instanceInfo,c=this._multiDrawStarts,h=this._multiDrawCounts,p=this._geometryInfo,g=this.perObjectFrustumCulled,v=this._indirectTexture,b=v.image.data;g&&(tl.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),WP.setFromProjectionMatrix(tl,e.coordinateSystem));let S=0;if(this.sortObjects){tl.copy(this.matrixWorld).invert(),Vx.setFromMatrixPosition(r.matrixWorld).applyMatrix4(tl),E5.set(0,0,-1).transformDirection(r.matrixWorld).transformDirection(tl);for(let A=0,C=u.length;A<C;A++)if(u[A].visible&&u[A].active){const M=u[A].geometryIndex;this.getMatrixAt(A,tl),this.getBoundingSphereAt(M,Ng).applyMatrix4(tl);let P=!1;if(g&&(P=!WP.intersectsSphere(Ng)),!P){const k=p[M],D=ztt.subVectors(Ng.center,Vx).dot(E5);XP.push(k.start,k.count,D,A)}}const E=XP.list,x=this.customSort;x===null?E.sort(a.transparent?Ltt:Ntt):x.call(this,E,r);for(let A=0,C=E.length;A<C;A++){const M=E[A];c[S]=M.start*l,h[S]=M.count,b[S]=M.index,S++}XP.reset()}else for(let E=0,x=u.length;E<x;E++)if(u[E].visible&&u[E].active){const A=u[E].geometryIndex;let C=!1;if(g&&(this.getMatrixAt(E,tl),this.getBoundingSphereAt(A,Ng).applyMatrix4(tl),C=!WP.intersectsSphere(Ng)),!C){const M=p[A];c[S]=M.start*l,h[S]=M.count,b[S]=E,S++}}v.needsUpdate=!0,this._multiDrawCount=S,this._visibilityChanged=!1}onBeforeShadow(e,n,r,s,a,o){this.onBeforeRender(e,null,s,a,o)}}class Ja extends Qa{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new He(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const TC=new pt,wC=new pt,T5=new Sn,Hx=new fb,Uw=new Sa,YP=new pt,w5=new pt;class Id extends Ai{constructor(e=new Wn,n=new Ja){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let s=1,a=n.count;s<a;s++)TC.fromBufferAttribute(n,s-1),wC.fromBufferAttribute(n,s),r[s]=r[s-1],r[s]+=TC.distanceTo(wC);e.setAttribute("lineDistance",new Xe(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,s=this.matrixWorld,a=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Uw.copy(r.boundingSphere),Uw.applyMatrix4(s),Uw.radius+=a,e.ray.intersectsSphere(Uw)===!1)return;T5.copy(s).invert(),Hx.copy(e.ray).applyMatrix4(T5);const l=a/((this.scale.x+this.scale.y+this.scale.z)/3),u=l*l,c=this.isLineSegments?2:1,h=r.index,g=r.attributes.position;if(h!==null){const v=Math.max(0,o.start),b=Math.min(h.count,o.start+o.count);for(let S=v,E=b-1;S<E;S+=c){const x=h.getX(S),A=h.getX(S+1),C=kw(this,e,Hx,u,x,A,S);C&&n.push(C)}if(this.isLineLoop){const S=h.getX(b-1),E=h.getX(v),x=kw(this,e,Hx,u,S,E,b-1);x&&n.push(x)}}else{const v=Math.max(0,o.start),b=Math.min(g.count,o.start+o.count);for(let S=v,E=b-1;S<E;S+=c){const x=kw(this,e,Hx,u,S,S+1,S);x&&n.push(x)}if(this.isLineLoop){const S=kw(this,e,Hx,u,b-1,v,b-1);S&&n.push(S)}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const s=n[r[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=s.length;a<o;a++){const l=s[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=a}}}}}function kw(i,e,n,r,s,a,o){const l=i.geometry.attributes.position;if(TC.fromBufferAttribute(l,s),wC.fromBufferAttribute(l,a),n.distanceSqToSegment(TC,wC,YP,w5)>r)return;YP.applyMatrix4(i.matrixWorld);const c=e.ray.origin.distanceTo(YP);if(!(c<e.near||c>e.far))return{distance:c,point:w5.clone().applyMatrix4(i.matrixWorld),index:o,face:null,faceIndex:null,barycoord:null,object:i}}const A5=new pt,M5=new pt;class ph extends Id{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let s=0,a=n.count;s<a;s+=2)A5.fromBufferAttribute(n,s),M5.fromBufferAttribute(n,s+1),r[s]=s===0?0:r[s-1],r[s+1]=r[s]+A5.distanceTo(M5);e.setAttribute("lineDistance",new Xe(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class dj extends Id{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class tU extends Qa{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new He(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const C5=new Sn,h3=new fb,zw=new Sa,Bw=new pt;class pj extends Ai{constructor(e=new Wn,n=new tU){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,s=this.matrixWorld,a=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),zw.copy(r.boundingSphere),zw.applyMatrix4(s),zw.radius+=a,e.ray.intersectsSphere(zw)===!1)return;C5.copy(s).invert(),h3.copy(e.ray).applyMatrix4(C5);const l=a/((this.scale.x+this.scale.y+this.scale.z)/3),u=l*l,c=r.index,p=r.attributes.position;if(c!==null){const g=Math.max(0,o.start),v=Math.min(c.count,o.start+o.count);for(let b=g,S=v;b<S;b++){const E=c.getX(b);Bw.fromBufferAttribute(p,E),R5(Bw,E,u,s,e,n,this)}}else{const g=Math.max(0,o.start),v=Math.min(p.count,o.start+o.count);for(let b=g,S=v;b<S;b++)Bw.fromBufferAttribute(p,b),R5(Bw,b,u,s,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const s=n[r[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=s.length;a<o;a++){const l=s[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=a}}}}}function R5(i,e,n,r,s,a,o){const l=h3.distanceSqToPoint(i);if(l<n){const u=new pt;h3.closestPointToPoint(i,u),u.applyMatrix4(r);const c=s.ray.origin.distanceTo(u);if(c<s.near||c>s.far)return;a.push({distance:c,distanceToRay:Math.sqrt(l),point:u,index:e,face:null,faceIndex:null,barycoord:null,object:o})}}class mj extends as{constructor(e,n,r,s,a,o,l,u,c){super(e,n,r,s,a,o,l,u,c),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:Vs,this.magFilter=a!==void 0?a:Vs,this.generateMipmaps=!1;const h=this;function p(){h.needsUpdate=!0,e.requestVideoFrameCallback(p)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(p)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Ftt extends mj{constructor(e,n,r,s,a,o,l,u){super({},e,n,r,s,a,o,l,u),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class Vtt extends as{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=ba,this.minFilter=ba,this.generateMipmaps=!1,this.needsUpdate=!0}}class rR extends as{constructor(e,n,r,s,a,o,l,u,c,h,p,g){super(null,o,l,u,c,h,s,a,p,g),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class Htt extends rR{constructor(e,n,r,s,a,o){super(e,n,r,a,o),this.isCompressedArrayTexture=!0,this.image.depth=s,this.wrapR=Lu,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class jtt extends rR{constructor(e,n,r){super(void 0,e[0].width,e[0].height,n,r,Od),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class gj extends as{constructor(e,n,r,s,a,o,l,u,c){super(e,n,r,s,a,o,l,u,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class eU extends as{constructor(e,n,r,s,a,o,l,u,c,h=Ey){if(h!==Ey&&h!==By)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&h===Ey&&(r=Pd),r===void 0&&h===By&&(r=zy),super(null,s,a,o,l,u,h,r,c),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=l!==void 0?l:ba,this.minFilter=u!==void 0?u:ba,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new am(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}class Fc{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,s=this.getPoint(0),a=0;n.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),a+=r.distanceTo(s),n.push(a),s=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n=null){const r=this.getLengths();let s=0;const a=r.length;let o;n?o=n:o=e*r[a-1];let l=0,u=a-1,c;for(;l<=u;)if(s=Math.floor(l+(u-l)/2),c=r[s]-o,c<0)l=s+1;else if(c>0)u=s-1;else{u=s;break}if(s=u,r[s]===o)return s/(a-1);const h=r[s],g=r[s+1]-h,v=(o-h)/g;return(s+v)/(a-1)}getTangent(e,n){let s=e-1e-4,a=e+1e-4;s<0&&(s=0),a>1&&(a=1);const o=this.getPoint(s),l=this.getPoint(a),u=n||(o.isVector2?new me:new pt);return u.copy(l).sub(o).normalize(),u}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n=!1){const r=new pt,s=[],a=[],o=[],l=new pt,u=new Sn;for(let v=0;v<=e;v++){const b=v/e;s[v]=this.getTangentAt(b,new pt)}a[0]=new pt,o[0]=new pt;let c=Number.MAX_VALUE;const h=Math.abs(s[0].x),p=Math.abs(s[0].y),g=Math.abs(s[0].z);h<=c&&(c=h,r.set(1,0,0)),p<=c&&(c=p,r.set(0,1,0)),g<=c&&r.set(0,0,1),l.crossVectors(s[0],r).normalize(),a[0].crossVectors(s[0],l),o[0].crossVectors(s[0],a[0]);for(let v=1;v<=e;v++){if(a[v]=a[v-1].clone(),o[v]=o[v-1].clone(),l.crossVectors(s[v-1],s[v]),l.length()>Number.EPSILON){l.normalize();const b=Math.acos(kn(s[v-1].dot(s[v]),-1,1));a[v].applyMatrix4(u.makeRotationAxis(l,b))}o[v].crossVectors(s[v],a[v])}if(n===!0){let v=Math.acos(kn(a[0].dot(a[e]),-1,1));v/=e,s[0].dot(l.crossVectors(a[0],a[e]))>0&&(v=-v);for(let b=1;b<=e;b++)a[b].applyMatrix4(u.makeRotationAxis(s[b],v*b)),o[b].crossVectors(s[b],a[b])}return{tangents:s,normals:a,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class sR extends Fc{constructor(e=0,n=0,r=1,s=1,a=0,o=Math.PI*2,l=!1,u=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=s,this.aStartAngle=a,this.aEndAngle=o,this.aClockwise=l,this.aRotation=u}getPoint(e,n=new me){const r=n,s=Math.PI*2;let a=this.aEndAngle-this.aStartAngle;const o=Math.abs(a)<Number.EPSILON;for(;a<0;)a+=s;for(;a>s;)a-=s;a<Number.EPSILON&&(o?a=0:a=s),this.aClockwise===!0&&!o&&(a===s?a=-s:a=a-s);const l=this.aStartAngle+e*a;let u=this.aX+this.xRadius*Math.cos(l),c=this.aY+this.yRadius*Math.sin(l);if(this.aRotation!==0){const h=Math.cos(this.aRotation),p=Math.sin(this.aRotation),g=u-this.aX,v=c-this.aY;u=g*h-v*p+this.aX,c=g*p+v*h+this.aY}return r.set(u,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class yj extends sR{constructor(e,n,r,s,a,o){super(e,n,r,r,s,a,o),this.isArcCurve=!0,this.type="ArcCurve"}}function nU(){let i=0,e=0,n=0,r=0;function s(a,o,l,u){i=a,e=l,n=-3*a+3*o-2*l-u,r=2*a-2*o+l+u}return{initCatmullRom:function(a,o,l,u,c){s(o,l,c*(l-a),c*(u-o))},initNonuniformCatmullRom:function(a,o,l,u,c,h,p){let g=(o-a)/c-(l-a)/(c+h)+(l-o)/h,v=(l-o)/h-(u-o)/(h+p)+(u-l)/p;g*=h,v*=h,s(o,l,g,v)},calc:function(a){const o=a*a,l=o*a;return i+e*a+n*o+r*l}}}const Fw=new pt,KP=new nU,ZP=new nU,QP=new nU;class vj extends Fc{constructor(e=[],n=!1,r="centripetal",s=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=s}getPoint(e,n=new pt){const r=n,s=this.points,a=s.length,o=(a-(this.closed?0:1))*e;let l=Math.floor(o),u=o-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/a)+1)*a:u===0&&l===a-1&&(l=a-2,u=1);let c,h;this.closed||l>0?c=s[(l-1)%a]:(Fw.subVectors(s[0],s[1]).add(s[0]),c=Fw);const p=s[l%a],g=s[(l+1)%a];if(this.closed||l+2<a?h=s[(l+2)%a]:(Fw.subVectors(s[a-1],s[a-2]).add(s[a-1]),h=Fw),this.curveType==="centripetal"||this.curveType==="chordal"){const v=this.curveType==="chordal"?.5:.25;let b=Math.pow(c.distanceToSquared(p),v),S=Math.pow(p.distanceToSquared(g),v),E=Math.pow(g.distanceToSquared(h),v);S<1e-4&&(S=1),b<1e-4&&(b=S),E<1e-4&&(E=S),KP.initNonuniformCatmullRom(c.x,p.x,g.x,h.x,b,S,E),ZP.initNonuniformCatmullRom(c.y,p.y,g.y,h.y,b,S,E),QP.initNonuniformCatmullRom(c.z,p.z,g.z,h.z,b,S,E)}else this.curveType==="catmullrom"&&(KP.initCatmullRom(c.x,p.x,g.x,h.x,this.tension),ZP.initCatmullRom(c.y,p.y,g.y,h.y,this.tension),QP.initCatmullRom(c.z,p.z,g.z,h.z,this.tension));return r.set(KP.calc(u),ZP.calc(u),QP.calc(u)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const s=e.points[n];this.points.push(s.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const s=this.points[n];e.points.push(s.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const s=e.points[n];this.points.push(new pt().fromArray(s))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function O5(i,e,n,r,s){const a=(r-e)*.5,o=(s-n)*.5,l=i*i,u=i*l;return(2*n-2*r+a+o)*u+(-3*n+3*r-2*a-o)*l+a*i+n}function Gtt(i,e){const n=1-i;return n*n*e}function $tt(i,e){return 2*(1-i)*i*e}function qtt(i,e){return i*i*e}function W1(i,e,n,r){return Gtt(i,e)+$tt(i,n)+qtt(i,r)}function Wtt(i,e){const n=1-i;return n*n*n*e}function Xtt(i,e){const n=1-i;return 3*n*n*i*e}function Ytt(i,e){return 3*(1-i)*i*i*e}function Ktt(i,e){return i*i*i*e}function X1(i,e,n,r,s){return Wtt(i,e)+Xtt(i,n)+Ytt(i,r)+Ktt(i,s)}class iU extends Fc{constructor(e=new me,n=new me,r=new me,s=new me){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=s}getPoint(e,n=new me){const r=n,s=this.v0,a=this.v1,o=this.v2,l=this.v3;return r.set(X1(e,s.x,a.x,o.x,l.x),X1(e,s.y,a.y,o.y,l.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class rU extends Fc{constructor(e=new pt,n=new pt,r=new pt,s=new pt){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=s}getPoint(e,n=new pt){const r=n,s=this.v0,a=this.v1,o=this.v2,l=this.v3;return r.set(X1(e,s.x,a.x,o.x,l.x),X1(e,s.y,a.y,o.y,l.y),X1(e,s.z,a.z,o.z,l.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class sU extends Fc{constructor(e=new me,n=new me){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new me){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new me){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class _j extends Fc{constructor(e=new pt,n=new pt){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new pt){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new pt){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class aU extends Fc{constructor(e=new me,n=new me,r=new me){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new me){const r=n,s=this.v0,a=this.v1,o=this.v2;return r.set(W1(e,s.x,a.x,o.x),W1(e,s.y,a.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class aR extends Fc{constructor(e=new pt,n=new pt,r=new pt){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new pt){const r=n,s=this.v0,a=this.v1,o=this.v2;return r.set(W1(e,s.x,a.x,o.x),W1(e,s.y,a.y,o.y),W1(e,s.z,a.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class oU extends Fc{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new me){const r=n,s=this.points,a=(s.length-1)*e,o=Math.floor(a),l=a-o,u=s[o===0?o:o-1],c=s[o],h=s[o>s.length-2?s.length-1:o+1],p=s[o>s.length-3?s.length-1:o+2];return r.set(O5(l,u.x,c.x,h.x,p.x),O5(l,u.y,c.y,h.y,p.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const s=e.points[n];this.points.push(s.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const s=this.points[n];e.points.push(s.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const s=e.points[n];this.points.push(new me().fromArray(s))}return this}}var AC=Object.freeze({__proto__:null,ArcCurve:yj,CatmullRomCurve3:vj,CubicBezierCurve:iU,CubicBezierCurve3:rU,EllipseCurve:sR,LineCurve:sU,LineCurve3:_j,QuadraticBezierCurve:aU,QuadraticBezierCurve3:aR,SplineCurve:oU});class bj extends Fc{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new AC[r](n,e))}return this}getPoint(e,n){const r=e*this.getLength(),s=this.getCurveLengths();let a=0;for(;a<s.length;){if(s[a]>=r){const o=s[a]-r,l=this.curves[a],u=l.getLength(),c=u===0?0:1-o/u;return l.getPointAt(c,n)}a++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,s=this.curves.length;r<s;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let s=0,a=this.curves;s<a.length;s++){const o=a[s],l=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,u=o.getPoints(l);for(let c=0;c<u.length;c++){const h=u[c];r&&r.equals(h)||(n.push(h),r=h)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const s=e.curves[n];this.curves.push(s.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const s=this.curves[n];e.curves.push(s.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const s=e.curves[n];this.curves.push(new AC[s.type]().fromJSON(s))}return this}}class AS extends bj{constructor(e){super(),this.type="Path",this.currentPoint=new me,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new sU(this.currentPoint.clone(),new me(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,s){const a=new aU(this.currentPoint.clone(),new me(e,n),new me(r,s));return this.curves.push(a),this.currentPoint.set(r,s),this}bezierCurveTo(e,n,r,s,a,o){const l=new iU(this.currentPoint.clone(),new me(e,n),new me(r,s),new me(a,o));return this.curves.push(l),this.currentPoint.set(a,o),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new oU(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,s,a,o){const l=this.currentPoint.x,u=this.currentPoint.y;return this.absarc(e+l,n+u,r,s,a,o),this}absarc(e,n,r,s,a,o){return this.absellipse(e,n,r,r,s,a,o),this}ellipse(e,n,r,s,a,o,l,u){const c=this.currentPoint.x,h=this.currentPoint.y;return this.absellipse(e+c,n+h,r,s,a,o,l,u),this}absellipse(e,n,r,s,a,o,l,u){const c=new sR(e,n,r,s,a,o,l,u);if(this.curves.length>0){const p=c.getPoint(0);p.equals(this.currentPoint)||this.lineTo(p.x,p.y)}this.curves.push(c);const h=c.getPoint(1);return this.currentPoint.copy(h),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class _E extends Wn{constructor(e=[new me(0,-.5),new me(.5,0),new me(0,.5)],n=12,r=0,s=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:s},n=Math.floor(n),s=kn(s,0,Math.PI*2);const a=[],o=[],l=[],u=[],c=[],h=1/n,p=new pt,g=new me,v=new pt,b=new pt,S=new pt;let E=0,x=0;for(let A=0;A<=e.length-1;A++)switch(A){case 0:E=e[A+1].x-e[A].x,x=e[A+1].y-e[A].y,v.x=x*1,v.y=-E,v.z=x*0,S.copy(v),v.normalize(),u.push(v.x,v.y,v.z);break;case e.length-1:u.push(S.x,S.y,S.z);break;default:E=e[A+1].x-e[A].x,x=e[A+1].y-e[A].y,v.x=x*1,v.y=-E,v.z=x*0,b.copy(v),v.x+=S.x,v.y+=S.y,v.z+=S.z,v.normalize(),u.push(v.x,v.y,v.z),S.copy(b)}for(let A=0;A<=n;A++){const C=r+A*h*s,M=Math.sin(C),P=Math.cos(C);for(let k=0;k<=e.length-1;k++){p.x=e[k].x*M,p.y=e[k].y,p.z=e[k].x*P,o.push(p.x,p.y,p.z),g.x=A/n,g.y=k/(e.length-1),l.push(g.x,g.y);const D=u[3*k+0]*M,N=u[3*k+1],U=u[3*k+0]*P;c.push(D,N,U)}}for(let A=0;A<n;A++)for(let C=0;C<e.length-1;C++){const M=C+A*e.length,P=M,k=M+e.length,D=M+e.length+1,N=M+1;a.push(P,k,N),a.push(D,N,k)}this.setIndex(a),this.setAttribute("position",new Xe(o,3)),this.setAttribute("uv",new Xe(l,2)),this.setAttribute("normal",new Xe(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new _E(e.points,e.segments,e.phiStart,e.phiLength)}}class oR extends _E{constructor(e=1,n=1,r=4,s=8){const a=new AS;a.absarc(0,-n/2,e,Math.PI*1.5,0),a.absarc(0,n/2,e,0,Math.PI*.5),super(a.getPoints(r),s),this.type="CapsuleGeometry",this.parameters={radius:e,length:n,capSegments:r,radialSegments:s}}static fromJSON(e){return new oR(e.radius,e.length,e.capSegments,e.radialSegments)}}class lR extends Wn{constructor(e=1,n=32,r=0,s=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:s},n=Math.max(3,n);const a=[],o=[],l=[],u=[],c=new pt,h=new me;o.push(0,0,0),l.push(0,0,1),u.push(.5,.5);for(let p=0,g=3;p<=n;p++,g+=3){const v=r+p/n*s;c.x=e*Math.cos(v),c.y=e*Math.sin(v),o.push(c.x,c.y,c.z),l.push(0,0,1),h.x=(o[g]/e+1)/2,h.y=(o[g+1]/e+1)/2,u.push(h.x,h.y)}for(let p=1;p<=n;p++)a.push(p,p+1,0);this.setIndex(a),this.setAttribute("position",new Xe(o,3)),this.setAttribute("normal",new Xe(l,3)),this.setAttribute("uv",new Xe(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new lR(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class i0 extends Wn{constructor(e=1,n=1,r=1,s=32,a=1,o=!1,l=0,u=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:s,heightSegments:a,openEnded:o,thetaStart:l,thetaLength:u};const c=this;s=Math.floor(s),a=Math.floor(a);const h=[],p=[],g=[],v=[];let b=0;const S=[],E=r/2;let x=0;A(),o===!1&&(e>0&&C(!0),n>0&&C(!1)),this.setIndex(h),this.setAttribute("position",new Xe(p,3)),this.setAttribute("normal",new Xe(g,3)),this.setAttribute("uv",new Xe(v,2));function A(){const M=new pt,P=new pt;let k=0;const D=(n-e)/r;for(let N=0;N<=a;N++){const U=[],R=N/a,B=R*(n-e)+e;for(let H=0;H<=s;H++){const V=H/s,Y=V*u+l,et=Math.sin(Y),G=Math.cos(Y);P.x=B*et,P.y=-R*r+E,P.z=B*G,p.push(P.x,P.y,P.z),M.set(et,D,G).normalize(),g.push(M.x,M.y,M.z),v.push(V,1-R),U.push(b++)}S.push(U)}for(let N=0;N<s;N++)for(let U=0;U<a;U++){const R=S[U][N],B=S[U+1][N],H=S[U+1][N+1],V=S[U][N+1];(e>0||U!==0)&&(h.push(R,B,V),k+=3),(n>0||U!==a-1)&&(h.push(B,H,V),k+=3)}c.addGroup(x,k,0),x+=k}function C(M){const P=b,k=new me,D=new pt;let N=0;const U=M===!0?e:n,R=M===!0?1:-1;for(let H=1;H<=s;H++)p.push(0,E*R,0),g.push(0,R,0),v.push(.5,.5),b++;const B=b;for(let H=0;H<=s;H++){const Y=H/s*u+l,et=Math.cos(Y),G=Math.sin(Y);D.x=U*G,D.y=E*R,D.z=U*et,p.push(D.x,D.y,D.z),g.push(0,R,0),k.x=et*.5+.5,k.y=G*.5*R+.5,v.push(k.x,k.y),b++}for(let H=0;H<s;H++){const V=P+H,Y=B+H;M===!0?h.push(Y,Y+1,V):h.push(Y+1,Y,V),N+=3}c.addGroup(x,N,M===!0?1:2),x+=N}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new i0(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class bE extends i0{constructor(e=1,n=1,r=32,s=1,a=!1,o=0,l=Math.PI*2){super(0,e,n,r,s,a,o,l),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:s,openEnded:a,thetaStart:o,thetaLength:l}}static fromJSON(e){return new bE(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Um extends Wn{constructor(e=[],n=[],r=1,s=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:s};const a=[],o=[];l(s),c(r),h(),this.setAttribute("position",new Xe(a,3)),this.setAttribute("normal",new Xe(a.slice(),3)),this.setAttribute("uv",new Xe(o,2)),s===0?this.computeVertexNormals():this.normalizeNormals();function l(A){const C=new pt,M=new pt,P=new pt;for(let k=0;k<n.length;k+=3)v(n[k+0],C),v(n[k+1],M),v(n[k+2],P),u(C,M,P,A)}function u(A,C,M,P){const k=P+1,D=[];for(let N=0;N<=k;N++){D[N]=[];const U=A.clone().lerp(M,N/k),R=C.clone().lerp(M,N/k),B=k-N;for(let H=0;H<=B;H++)H===0&&N===k?D[N][H]=U:D[N][H]=U.clone().lerp(R,H/B)}for(let N=0;N<k;N++)for(let U=0;U<2*(k-N)-1;U++){const R=Math.floor(U/2);U%2===0?(g(D[N][R+1]),g(D[N+1][R]),g(D[N][R])):(g(D[N][R+1]),g(D[N+1][R+1]),g(D[N+1][R]))}}function c(A){const C=new pt;for(let M=0;M<a.length;M+=3)C.x=a[M+0],C.y=a[M+1],C.z=a[M+2],C.normalize().multiplyScalar(A),a[M+0]=C.x,a[M+1]=C.y,a[M+2]=C.z}function h(){const A=new pt;for(let C=0;C<a.length;C+=3){A.x=a[C+0],A.y=a[C+1],A.z=a[C+2];const M=E(A)/2/Math.PI+.5,P=x(A)/Math.PI+.5;o.push(M,1-P)}b(),p()}function p(){for(let A=0;A<o.length;A+=6){const C=o[A+0],M=o[A+2],P=o[A+4],k=Math.max(C,M,P),D=Math.min(C,M,P);k>.9&&D<.1&&(C<.2&&(o[A+0]+=1),M<.2&&(o[A+2]+=1),P<.2&&(o[A+4]+=1))}}function g(A){a.push(A.x,A.y,A.z)}function v(A,C){const M=A*3;C.x=e[M+0],C.y=e[M+1],C.z=e[M+2]}function b(){const A=new pt,C=new pt,M=new pt,P=new pt,k=new me,D=new me,N=new me;for(let U=0,R=0;U<a.length;U+=9,R+=6){A.set(a[U+0],a[U+1],a[U+2]),C.set(a[U+3],a[U+4],a[U+5]),M.set(a[U+6],a[U+7],a[U+8]),k.set(o[R+0],o[R+1]),D.set(o[R+2],o[R+3]),N.set(o[R+4],o[R+5]),P.copy(A).add(C).add(M).divideScalar(3);const B=E(P);S(k,R+0,A,B),S(D,R+2,C,B),S(N,R+4,M,B)}}function S(A,C,M,P){P<0&&A.x===1&&(o[C]=A.x-1),M.x===0&&M.z===0&&(o[C]=P/2/Math.PI+.5)}function E(A){return Math.atan2(A.z,-A.x)}function x(A){return Math.atan2(-A.y,Math.sqrt(A.x*A.x+A.z*A.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Um(e.vertices,e.indices,e.radius,e.details)}}class uR extends Um{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,s=1/r,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-s,-r,0,-s,r,0,s,-r,0,s,r,-s,-r,0,-s,r,0,s,-r,0,s,r,0,-r,0,-s,r,0,-s,-r,0,s,r,0,s],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(a,o,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new uR(e.radius,e.detail)}}const Vw=new pt,Hw=new pt,JP=new pt,jw=new ol;class xj extends Wn{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const s=Math.pow(10,4),a=Math.cos(Ty*n),o=e.getIndex(),l=e.getAttribute("position"),u=o?o.count:l.count,c=[0,0,0],h=["a","b","c"],p=new Array(3),g={},v=[];for(let b=0;b<u;b+=3){o?(c[0]=o.getX(b),c[1]=o.getX(b+1),c[2]=o.getX(b+2)):(c[0]=b,c[1]=b+1,c[2]=b+2);const{a:S,b:E,c:x}=jw;if(S.fromBufferAttribute(l,c[0]),E.fromBufferAttribute(l,c[1]),x.fromBufferAttribute(l,c[2]),jw.getNormal(JP),p[0]=`${Math.round(S.x*s)},${Math.round(S.y*s)},${Math.round(S.z*s)}`,p[1]=`${Math.round(E.x*s)},${Math.round(E.y*s)},${Math.round(E.z*s)}`,p[2]=`${Math.round(x.x*s)},${Math.round(x.y*s)},${Math.round(x.z*s)}`,!(p[0]===p[1]||p[1]===p[2]||p[2]===p[0]))for(let A=0;A<3;A++){const C=(A+1)%3,M=p[A],P=p[C],k=jw[h[A]],D=jw[h[C]],N=`${M}_${P}`,U=`${P}_${M}`;U in g&&g[U]?(JP.dot(g[U].normal)<=a&&(v.push(k.x,k.y,k.z),v.push(D.x,D.y,D.z)),g[U]=null):N in g||(g[N]={index0:c[A],index1:c[C],normal:JP.clone()})}}for(const b in g)if(g[b]){const{index0:S,index1:E}=g[b];Vw.fromBufferAttribute(l,S),Hw.fromBufferAttribute(l,E),v.push(Vw.x,Vw.y,Vw.z),v.push(Hw.x,Hw.y,Hw.z)}this.setAttribute("position",new Xe(v,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class wy extends AS{constructor(e){super(e),this.uuid=Xl(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,s=this.holes.length;r<s;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const s=e.holes[n];this.holes.push(s.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const s=this.holes[n];e.holes.push(s.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const s=e.holes[n];this.holes.push(new AS().fromJSON(s))}return this}}class Ztt{static triangulate(e,n,r=2){const s=n&&n.length,a=s?n[0]*r:e.length;let o=Sj(e,0,a,r,!0);const l=[];if(!o||o.next===o.prev)return l;let u,c,h,p,g,v,b;if(s&&(o=net(e,n,o,r)),e.length>80*r){u=h=e[0],c=p=e[1];for(let S=r;S<a;S+=r)g=e[S],v=e[S+1],g<u&&(u=g),v<c&&(c=v),g>h&&(h=g),v>p&&(p=v);b=Math.max(h-u,p-c),b=b!==0?32767/b:0}return MS(o,l,r,u,c,b,0),l}}function Sj(i,e,n,r,s){let a,o;if(s===pet(i,e,n,r)>0)for(a=e;a<n;a+=r)o=P5(a,i[a],i[a+1],o);else for(a=n-r;a>=e;a-=r)o=P5(a,i[a],i[a+1],o);return o&&cR(o,o.next)&&(RS(o),o=o.next),o}function Vy(i,e){if(!i)return i;e||(e=i);let n=i,r;do if(r=!1,!n.steiner&&(cR(n,n.next)||jr(n.prev,n,n.next)===0)){if(RS(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function MS(i,e,n,r,s,a,o){if(!i)return;!o&&a&&oet(i,r,s,a);let l=i,u,c;for(;i.prev!==i.next;){if(u=i.prev,c=i.next,a?Jtt(i,r,s,a):Qtt(i)){e.push(u.i/n|0),e.push(i.i/n|0),e.push(c.i/n|0),RS(i),i=c.next,l=c.next;continue}if(i=c,i===l){o?o===1?(i=tet(Vy(i),e,n),MS(i,e,n,r,s,a,2)):o===2&&eet(i,e,n,r,s,a):MS(Vy(i),e,n,r,s,a,1);break}}}function Qtt(i){const e=i.prev,n=i,r=i.next;if(jr(e,n,r)>=0)return!1;const s=e.x,a=n.x,o=r.x,l=e.y,u=n.y,c=r.y,h=s<a?s<o?s:o:a<o?a:o,p=l<u?l<c?l:c:u<c?u:c,g=s>a?s>o?s:o:a>o?a:o,v=l>u?l>c?l:c:u>c?u:c;let b=r.next;for(;b!==e;){if(b.x>=h&&b.x<=g&&b.y>=p&&b.y<=v&&u_(s,l,a,u,o,c,b.x,b.y)&&jr(b.prev,b,b.next)>=0)return!1;b=b.next}return!0}function Jtt(i,e,n,r){const s=i.prev,a=i,o=i.next;if(jr(s,a,o)>=0)return!1;const l=s.x,u=a.x,c=o.x,h=s.y,p=a.y,g=o.y,v=l<u?l<c?l:c:u<c?u:c,b=h<p?h<g?h:g:p<g?p:g,S=l>u?l>c?l:c:u>c?u:c,E=h>p?h>g?h:g:p>g?p:g,x=d3(v,b,e,n,r),A=d3(S,E,e,n,r);let C=i.prevZ,M=i.nextZ;for(;C&&C.z>=x&&M&&M.z<=A;){if(C.x>=v&&C.x<=S&&C.y>=b&&C.y<=E&&C!==s&&C!==o&&u_(l,h,u,p,c,g,C.x,C.y)&&jr(C.prev,C,C.next)>=0||(C=C.prevZ,M.x>=v&&M.x<=S&&M.y>=b&&M.y<=E&&M!==s&&M!==o&&u_(l,h,u,p,c,g,M.x,M.y)&&jr(M.prev,M,M.next)>=0))return!1;M=M.nextZ}for(;C&&C.z>=x;){if(C.x>=v&&C.x<=S&&C.y>=b&&C.y<=E&&C!==s&&C!==o&&u_(l,h,u,p,c,g,C.x,C.y)&&jr(C.prev,C,C.next)>=0)return!1;C=C.prevZ}for(;M&&M.z<=A;){if(M.x>=v&&M.x<=S&&M.y>=b&&M.y<=E&&M!==s&&M!==o&&u_(l,h,u,p,c,g,M.x,M.y)&&jr(M.prev,M,M.next)>=0)return!1;M=M.nextZ}return!0}function tet(i,e,n){let r=i;do{const s=r.prev,a=r.next.next;!cR(s,a)&&Ej(s,r,r.next,a)&&CS(s,a)&&CS(a,s)&&(e.push(s.i/n|0),e.push(r.i/n|0),e.push(a.i/n|0),RS(r),RS(r.next),r=i=a),r=r.next}while(r!==i);return Vy(r)}function eet(i,e,n,r,s,a){let o=i;do{let l=o.next.next;for(;l!==o.prev;){if(o.i!==l.i&&fet(o,l)){let u=Tj(o,l);o=Vy(o,o.next),u=Vy(u,u.next),MS(o,e,n,r,s,a,0),MS(u,e,n,r,s,a,0);return}l=l.next}o=o.next}while(o!==i)}function net(i,e,n,r){const s=[];let a,o,l,u,c;for(a=0,o=e.length;a<o;a++)l=e[a]*r,u=a<o-1?e[a+1]*r:i.length,c=Sj(i,l,u,r,!1),c===c.next&&(c.steiner=!0),s.push(cet(c));for(s.sort(iet),a=0;a<s.length;a++)n=ret(s[a],n);return n}function iet(i,e){return i.x-e.x}function ret(i,e){const n=set(i,e);if(!n)return e;const r=Tj(n,i);return Vy(r,r.next),Vy(n,n.next)}function set(i,e){let n=e,r=-1/0,s;const a=i.x,o=i.y;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){const g=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(g<=a&&g>r&&(r=g,s=n.x<n.next.x?n:n.next,g===a))return s}n=n.next}while(n!==e);if(!s)return null;const l=s,u=s.x,c=s.y;let h=1/0,p;n=s;do a>=n.x&&n.x>=u&&a!==n.x&&u_(o<c?a:r,o,u,c,o<c?r:a,o,n.x,n.y)&&(p=Math.abs(o-n.y)/(a-n.x),CS(n,i)&&(p<h||p===h&&(n.x>s.x||n.x===s.x&&aet(s,n)))&&(s=n,h=p)),n=n.next;while(n!==l);return s}function aet(i,e){return jr(i.prev,i,e.prev)<0&&jr(e.next,i,i.next)<0}function oet(i,e,n,r){let s=i;do s.z===0&&(s.z=d3(s.x,s.y,e,n,r)),s.prevZ=s.prev,s.nextZ=s.next,s=s.next;while(s!==i);s.prevZ.nextZ=null,s.prevZ=null,uet(s)}function uet(i){let e,n,r,s,a,o,l,u,c=1;do{for(n=i,i=null,a=null,o=0;n;){for(o++,r=n,l=0,e=0;e<c&&(l++,r=r.nextZ,!!r);e++);for(u=c;l>0||u>0&&r;)l!==0&&(u===0||!r||n.z<=r.z)?(s=n,n=n.nextZ,l--):(s=r,r=r.nextZ,u--),a?a.nextZ=s:i=s,s.prevZ=a,a=s;n=r}a.nextZ=null,c*=2}while(o>1);return i}function d3(i,e,n,r,s){return i=(i-n)*s|0,e=(e-r)*s|0,i=(i|i<<8)&16711935,i=(i|i<<4)&252645135,i=(i|i<<2)&858993459,i=(i|i<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,i|e<<1}function cet(i){let e=i,n=i;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==i);return n}function u_(i,e,n,r,s,a,o,l){return(s-o)*(e-l)>=(i-o)*(a-l)&&(i-o)*(r-l)>=(n-o)*(e-l)&&(n-o)*(a-l)>=(s-o)*(r-l)}function fet(i,e){return i.next.i!==e.i&&i.prev.i!==e.i&&!het(i,e)&&(CS(i,e)&&CS(e,i)&&det(i,e)&&(jr(i.prev,i,e.prev)||jr(i,e.prev,e))||cR(i,e)&&jr(i.prev,i,i.next)>0&&jr(e.prev,e,e.next)>0)}function jr(i,e,n){return(e.y-i.y)*(n.x-e.x)-(e.x-i.x)*(n.y-e.y)}function cR(i,e){return i.x===e.x&&i.y===e.y}function Ej(i,e,n,r){const s=$w(jr(i,e,n)),a=$w(jr(i,e,r)),o=$w(jr(n,r,i)),l=$w(jr(n,r,e));return!!(s!==a&&o!==l||s===0&&Gw(i,n,e)||a===0&&Gw(i,r,e)||o===0&&Gw(n,i,r)||l===0&&Gw(n,e,r))}function Gw(i,e,n){return e.x<=Math.max(i.x,n.x)&&e.x>=Math.min(i.x,n.x)&&e.y<=Math.max(i.y,n.y)&&e.y>=Math.min(i.y,n.y)}function $w(i){return i>0?1:i<0?-1:0}function het(i,e){let n=i;do{if(n.i!==i.i&&n.next.i!==i.i&&n.i!==e.i&&n.next.i!==e.i&&Ej(n,n.next,i,e))return!0;n=n.next}while(n!==i);return!1}function CS(i,e){return jr(i.prev,i,i.next)<0?jr(i,e,i.next)>=0&&jr(i,i.prev,e)>=0:jr(i,e,i.prev)<0||jr(i,i.next,e)<0}function det(i,e){let n=i,r=!1;const s=(i.x+e.x)/2,a=(i.y+e.y)/2;do n.y>a!=n.next.y>a&&n.next.y!==n.y&&s<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==i);return r}function Tj(i,e){const n=new p3(i.i,i.x,i.y),r=new p3(e.i,e.x,e.y),s=i.next,a=e.prev;return i.next=e,e.prev=i,n.next=s,s.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function P5(i,e,n,r){const s=new p3(i,e,n);return r?(s.next=r.next,s.prev=r,r.next.prev=s,r.next=s):(s.prev=s,s.next=s),s}function RS(i){i.next.prev=i.prev,i.prev.next=i.next,i.prevZ&&(i.prevZ.nextZ=i.nextZ),i.nextZ&&(i.nextZ.prevZ=i.prevZ)}function p3(i,e,n){this.i=i,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function pet(i,e,n,r){let s=0;for(let a=e,o=n-r;a<n;a+=r)s+=(i[o]-i[a])*(i[a+1]+i[o+1]),o=a;return s}class Qf{static area(e){const n=e.length;let r=0;for(let s=n-1,a=0;a<n;s=a++)r+=e[s].x*e[a].y-e[a].x*e[s].y;return r*.5}static isClockWise(e){return Qf.area(e)<0}static triangulateShape(e,n){const r=[],s=[],a=[];I5(e),D5(r,e);let o=e.length;n.forEach(I5);for(let u=0;u<n.length;u++)s.push(o),o+=n[u].length,D5(r,n[u]);const l=Ztt.triangulate(r,s);for(let u=0;u<l.length;u+=3)a.push(l.slice(u,u+3));return a}}function I5(i){const e=i.length;e>2&&i[e-1].equals(i[0])&&i.pop()}function D5(i,e){for(let n=0;n<e.length;n++)i.push(e[n].x),i.push(e[n].y)}class fR extends Wn{constructor(e=new wy([new me(.5,.5),new me(-.5,.5),new me(-.5,-.5),new me(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,s=[],a=[];for(let l=0,u=e.length;l<u;l++){const c=e[l];o(c)}this.setAttribute("position",new Xe(s,3)),this.setAttribute("uv",new Xe(a,2)),this.computeVertexNormals();function o(l){const u=[],c=n.curveSegments!==void 0?n.curveSegments:12,h=n.steps!==void 0?n.steps:1,p=n.depth!==void 0?n.depth:1;let g=n.bevelEnabled!==void 0?n.bevelEnabled:!0,v=n.bevelThickness!==void 0?n.bevelThickness:.2,b=n.bevelSize!==void 0?n.bevelSize:v-.1,S=n.bevelOffset!==void 0?n.bevelOffset:0,E=n.bevelSegments!==void 0?n.bevelSegments:3;const x=n.extrudePath,A=n.UVGenerator!==void 0?n.UVGenerator:met;let C,M=!1,P,k,D,N;x&&(C=x.getSpacedPoints(h),M=!0,g=!1,P=x.computeFrenetFrames(h,!1),k=new pt,D=new pt,N=new pt),g||(E=0,v=0,b=0,S=0);const U=l.extractPoints(c);let R=U.shape;const B=U.holes;if(!Qf.isClockWise(R)){R=R.reverse();for(let Pt=0,Bt=B.length;Pt<Bt;Pt++){const at=B[Pt];Qf.isClockWise(at)&&(B[Pt]=at.reverse())}}const V=Qf.triangulateShape(R,B),Y=R;for(let Pt=0,Bt=B.length;Pt<Bt;Pt++){const at=B[Pt];R=R.concat(at)}function et(Pt,Bt,at){return Bt||console.error("THREE.ExtrudeGeometry: vec does not exist"),Pt.clone().addScaledVector(Bt,at)}const G=R.length,X=V.length;function J(Pt,Bt,at){let ce,ee,ne;const ie=Pt.x-Bt.x,Me=Pt.y-Bt.y,le=at.x-Pt.x,ut=at.y-Pt.y,j=ie*ie+Me*Me,ct=ie*ut-Me*le;if(Math.abs(ct)>Number.EPSILON){const mt=Math.sqrt(j),Rt=Math.sqrt(le*le+ut*ut),_t=Bt.x-Me/mt,Ct=Bt.y+ie/mt,Lt=at.x-ut/Rt,Jt=at.y+le/Rt,Le=((Lt-_t)*ut-(Jt-Ct)*le)/(ie*ut-Me*le);ce=_t+ie*Le-Pt.x,ee=Ct+Me*Le-Pt.y;const Ht=ce*ce+ee*ee;if(Ht<=2)return new me(ce,ee);ne=Math.sqrt(Ht/2)}else{let mt=!1;ie>Number.EPSILON?le>Number.EPSILON&&(mt=!0):ie<-Number.EPSILON?le<-Number.EPSILON&&(mt=!0):Math.sign(Me)===Math.sign(ut)&&(mt=!0),mt?(ce=-Me,ee=ie,ne=Math.sqrt(j)):(ce=ie,ee=Me,ne=Math.sqrt(j/2))}return new me(ce/ne,ee/ne)}const nt=[];for(let Pt=0,Bt=Y.length,at=Bt-1,ce=Pt+1;Pt<Bt;Pt++,at++,ce++)at===Bt&&(at=0),ce===Bt&&(ce=0),nt[Pt]=J(Y[Pt],Y[at],Y[ce]);const Z=[];let dt,yt=nt.concat();for(let Pt=0,Bt=B.length;Pt<Bt;Pt++){const at=B[Pt];dt=[];for(let ce=0,ee=at.length,ne=ee-1,ie=ce+1;ce<ee;ce++,ne++,ie++)ne===ee&&(ne=0),ie===ee&&(ie=0),dt[ce]=J(at[ce],at[ne],at[ie]);Z.push(dt),yt=yt.concat(dt)}for(let Pt=0;Pt<E;Pt++){const Bt=Pt/E,at=v*Math.cos(Bt*Math.PI/2),ce=b*Math.sin(Bt*Math.PI/2)+S;for(let ee=0,ne=Y.length;ee<ne;ee++){const ie=et(Y[ee],nt[ee],ce);gt(ie.x,ie.y,-at)}for(let ee=0,ne=B.length;ee<ne;ee++){const ie=B[ee];dt=Z[ee];for(let Me=0,le=ie.length;Me<le;Me++){const ut=et(ie[Me],dt[Me],ce);gt(ut.x,ut.y,-at)}}}const xt=b+S;for(let Pt=0;Pt<G;Pt++){const Bt=g?et(R[Pt],yt[Pt],xt):R[Pt];M?(D.copy(P.normals[0]).multiplyScalar(Bt.x),k.copy(P.binormals[0]).multiplyScalar(Bt.y),N.copy(C[0]).add(D).add(k),gt(N.x,N.y,N.z)):gt(Bt.x,Bt.y,0)}for(let Pt=1;Pt<=h;Pt++)for(let Bt=0;Bt<G;Bt++){const at=g?et(R[Bt],yt[Bt],xt):R[Bt];M?(D.copy(P.normals[Pt]).multiplyScalar(at.x),k.copy(P.binormals[Pt]).multiplyScalar(at.y),N.copy(C[Pt]).add(D).add(k),gt(N.x,N.y,N.z)):gt(at.x,at.y,p/h*Pt)}for(let Pt=E-1;Pt>=0;Pt--){const Bt=Pt/E,at=v*Math.cos(Bt*Math.PI/2),ce=b*Math.sin(Bt*Math.PI/2)+S;for(let ee=0,ne=Y.length;ee<ne;ee++){const ie=et(Y[ee],nt[ee],ce);gt(ie.x,ie.y,p+at)}for(let ee=0,ne=B.length;ee<ne;ee++){const ie=B[ee];dt=Z[ee];for(let Me=0,le=ie.length;Me<le;Me++){const ut=et(ie[Me],dt[Me],ce);M?gt(ut.x,ut.y+C[h-1].y,C[h-1].x+at):gt(ut.x,ut.y,p+at)}}}it(),ht();function it(){const Pt=s.length/3;if(g){let Bt=0,at=G*Bt;for(let ce=0;ce<X;ce++){const ee=V[ce];Tt(ee[2]+at,ee[1]+at,ee[0]+at)}Bt=h+E*2,at=G*Bt;for(let ce=0;ce<X;ce++){const ee=V[ce];Tt(ee[0]+at,ee[1]+at,ee[2]+at)}}else{for(let Bt=0;Bt<X;Bt++){const at=V[Bt];Tt(at[2],at[1],at[0])}for(let Bt=0;Bt<X;Bt++){const at=V[Bt];Tt(at[0]+G*h,at[1]+G*h,at[2]+G*h)}}r.addGroup(Pt,s.length/3-Pt,0)}function ht(){const Pt=s.length/3;let Bt=0;lt(Y,Bt),Bt+=Y.length;for(let at=0,ce=B.length;at<ce;at++){const ee=B[at];lt(ee,Bt),Bt+=ee.length}r.addGroup(Pt,s.length/3-Pt,1)}function lt(Pt,Bt){let at=Pt.length;for(;--at>=0;){const ce=at;let ee=at-1;ee<0&&(ee=Pt.length-1);for(let ne=0,ie=h+E*2;ne<ie;ne++){const Me=G*ne,le=G*(ne+1),ut=Bt+ce+Me,j=Bt+ee+Me,ct=Bt+ee+le,mt=Bt+ce+le;Kt(ut,j,ct,mt)}}}function gt(Pt,Bt,at){u.push(Pt),u.push(Bt),u.push(at)}function Tt(Pt,Bt,at){Ut(Pt),Ut(Bt),Ut(at);const ce=s.length/3,ee=A.generateTopUV(r,s,ce-3,ce-2,ce-1);te(ee[0]),te(ee[1]),te(ee[2])}function Kt(Pt,Bt,at,ce){Ut(Pt),Ut(Bt),Ut(ce),Ut(Bt),Ut(at),Ut(ce);const ee=s.length/3,ne=A.generateSideWallUV(r,s,ee-6,ee-3,ee-2,ee-1);te(ne[0]),te(ne[1]),te(ne[3]),te(ne[1]),te(ne[2]),te(ne[3])}function Ut(Pt){s.push(u[Pt*3+0]),s.push(u[Pt*3+1]),s.push(u[Pt*3+2])}function te(Pt){a.push(Pt.x),a.push(Pt.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return get(n,r,e)}static fromJSON(e,n){const r=[];for(let a=0,o=e.shapes.length;a<o;a++){const l=n[e.shapes[a]];r.push(l)}const s=e.options.extrudePath;return s!==void 0&&(e.options.extrudePath=new AC[s.type]().fromJSON(s)),new fR(r,e.options)}}const met={generateTopUV:function(i,e,n,r,s){const a=e[n*3],o=e[n*3+1],l=e[r*3],u=e[r*3+1],c=e[s*3],h=e[s*3+1];return[new me(a,o),new me(l,u),new me(c,h)]},generateSideWallUV:function(i,e,n,r,s,a){const o=e[n*3],l=e[n*3+1],u=e[n*3+2],c=e[r*3],h=e[r*3+1],p=e[r*3+2],g=e[s*3],v=e[s*3+1],b=e[s*3+2],S=e[a*3],E=e[a*3+1],x=e[a*3+2];return Math.abs(l-h)<Math.abs(o-c)?[new me(o,1-u),new me(c,1-p),new me(g,1-b),new me(S,1-x)]:[new me(l,1-u),new me(h,1-p),new me(v,1-b),new me(E,1-x)]}};function get(i,e,n){if(n.shapes=[],Array.isArray(i))for(let r=0,s=i.length;r<s;r++){const a=i[r];n.shapes.push(a.uuid)}else n.shapes.push(i.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class hR extends Um{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,s=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],a=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(s,a,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new hR(e.radius,e.detail)}}class xE extends Um{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],s=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,s,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new xE(e.radius,e.detail)}}class hb extends Wn{constructor(e=1,n=1,r=1,s=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:s};const a=e/2,o=n/2,l=Math.floor(r),u=Math.floor(s),c=l+1,h=u+1,p=e/l,g=n/u,v=[],b=[],S=[],E=[];for(let x=0;x<h;x++){const A=x*g-o;for(let C=0;C<c;C++){const M=C*p-a;b.push(M,-A,0),S.push(0,0,1),E.push(C/l),E.push(1-x/u)}}for(let x=0;x<u;x++)for(let A=0;A<l;A++){const C=A+c*x,M=A+c*(x+1),P=A+1+c*(x+1),k=A+1+c*x;v.push(C,M,k),v.push(M,P,k)}this.setIndex(v),this.setAttribute("position",new Xe(b,3)),this.setAttribute("normal",new Xe(S,3)),this.setAttribute("uv",new Xe(E,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new hb(e.width,e.height,e.widthSegments,e.heightSegments)}}class dR extends Wn{constructor(e=.5,n=1,r=32,s=1,a=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:s,thetaStart:a,thetaLength:o},r=Math.max(3,r),s=Math.max(1,s);const l=[],u=[],c=[],h=[];let p=e;const g=(n-e)/s,v=new pt,b=new me;for(let S=0;S<=s;S++){for(let E=0;E<=r;E++){const x=a+E/r*o;v.x=p*Math.cos(x),v.y=p*Math.sin(x),u.push(v.x,v.y,v.z),c.push(0,0,1),b.x=(v.x/n+1)/2,b.y=(v.y/n+1)/2,h.push(b.x,b.y)}p+=g}for(let S=0;S<s;S++){const E=S*(r+1);for(let x=0;x<r;x++){const A=x+E,C=A,M=A+r+1,P=A+r+2,k=A+1;l.push(C,M,k),l.push(M,P,k)}}this.setIndex(l),this.setAttribute("position",new Xe(u,3)),this.setAttribute("normal",new Xe(c,3)),this.setAttribute("uv",new Xe(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new dR(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class pR extends Wn{constructor(e=new wy([new me(0,.5),new me(-.5,-.5),new me(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],s=[],a=[],o=[];let l=0,u=0;if(Array.isArray(e)===!1)c(e);else for(let h=0;h<e.length;h++)c(e[h]),this.addGroup(l,u,h),l+=u,u=0;this.setIndex(r),this.setAttribute("position",new Xe(s,3)),this.setAttribute("normal",new Xe(a,3)),this.setAttribute("uv",new Xe(o,2));function c(h){const p=s.length/3,g=h.extractPoints(n);let v=g.shape;const b=g.holes;Qf.isClockWise(v)===!1&&(v=v.reverse());for(let E=0,x=b.length;E<x;E++){const A=b[E];Qf.isClockWise(A)===!0&&(b[E]=A.reverse())}const S=Qf.triangulateShape(v,b);for(let E=0,x=b.length;E<x;E++){const A=b[E];v=v.concat(A)}for(let E=0,x=v.length;E<x;E++){const A=v[E];s.push(A.x,A.y,0),a.push(0,0,1),o.push(A.x,A.y)}for(let E=0,x=S.length;E<x;E++){const A=S[E],C=A[0]+p,M=A[1]+p,P=A[2]+p;r.push(C,M,P),u+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return yet(n,e)}static fromJSON(e,n){const r=[];for(let s=0,a=e.shapes.length;s<a;s++){const o=n[e.shapes[s]];r.push(o)}return new pR(r,e.curveSegments)}}function yet(i,e){if(e.shapes=[],Array.isArray(i))for(let n=0,r=i.length;n<r;n++){const s=i[n];e.shapes.push(s.uuid)}else e.shapes.push(i.uuid);return e}class r0 extends Wn{constructor(e=1,n=32,r=16,s=0,a=Math.PI*2,o=0,l=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:s,phiLength:a,thetaStart:o,thetaLength:l},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const u=Math.min(o+l,Math.PI);let c=0;const h=[],p=new pt,g=new pt,v=[],b=[],S=[],E=[];for(let x=0;x<=r;x++){const A=[],C=x/r;let M=0;x===0&&o===0?M=.5/n:x===r&&u===Math.PI&&(M=-.5/n);for(let P=0;P<=n;P++){const k=P/n;p.x=-e*Math.cos(s+k*a)*Math.sin(o+C*l),p.y=e*Math.cos(o+C*l),p.z=e*Math.sin(s+k*a)*Math.sin(o+C*l),b.push(p.x,p.y,p.z),g.copy(p).normalize(),S.push(g.x,g.y,g.z),E.push(k+M,1-C),A.push(c++)}h.push(A)}for(let x=0;x<r;x++)for(let A=0;A<n;A++){const C=h[x][A+1],M=h[x][A],P=h[x+1][A],k=h[x+1][A+1];(x!==0||o>0)&&v.push(C,M,k),(x!==r-1||u<Math.PI)&&v.push(M,P,k)}this.setIndex(v),this.setAttribute("position",new Xe(b,3)),this.setAttribute("normal",new Xe(S,3)),this.setAttribute("uv",new Xe(E,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new r0(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class mR extends Um{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],s=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,s,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new mR(e.radius,e.detail)}}class gR extends Wn{constructor(e=1,n=.4,r=12,s=48,a=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:s,arc:a},r=Math.floor(r),s=Math.floor(s);const o=[],l=[],u=[],c=[],h=new pt,p=new pt,g=new pt;for(let v=0;v<=r;v++)for(let b=0;b<=s;b++){const S=b/s*a,E=v/r*Math.PI*2;p.x=(e+n*Math.cos(E))*Math.cos(S),p.y=(e+n*Math.cos(E))*Math.sin(S),p.z=n*Math.sin(E),l.push(p.x,p.y,p.z),h.x=e*Math.cos(S),h.y=e*Math.sin(S),g.subVectors(p,h).normalize(),u.push(g.x,g.y,g.z),c.push(b/s),c.push(v/r)}for(let v=1;v<=r;v++)for(let b=1;b<=s;b++){const S=(s+1)*v+b-1,E=(s+1)*(v-1)+b-1,x=(s+1)*(v-1)+b,A=(s+1)*v+b;o.push(S,E,A),o.push(E,x,A)}this.setIndex(o),this.setAttribute("position",new Xe(l,3)),this.setAttribute("normal",new Xe(u,3)),this.setAttribute("uv",new Xe(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new gR(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class yR extends Wn{constructor(e=1,n=.4,r=64,s=8,a=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:s,p:a,q:o},r=Math.floor(r),s=Math.floor(s);const l=[],u=[],c=[],h=[],p=new pt,g=new pt,v=new pt,b=new pt,S=new pt,E=new pt,x=new pt;for(let C=0;C<=r;++C){const M=C/r*a*Math.PI*2;A(M,a,o,e,v),A(M+.01,a,o,e,b),E.subVectors(b,v),x.addVectors(b,v),S.crossVectors(E,x),x.crossVectors(S,E),S.normalize(),x.normalize();for(let P=0;P<=s;++P){const k=P/s*Math.PI*2,D=-n*Math.cos(k),N=n*Math.sin(k);p.x=v.x+(D*x.x+N*S.x),p.y=v.y+(D*x.y+N*S.y),p.z=v.z+(D*x.z+N*S.z),u.push(p.x,p.y,p.z),g.subVectors(p,v).normalize(),c.push(g.x,g.y,g.z),h.push(C/r),h.push(P/s)}}for(let C=1;C<=r;C++)for(let M=1;M<=s;M++){const P=(s+1)*(C-1)+(M-1),k=(s+1)*C+(M-1),D=(s+1)*C+M,N=(s+1)*(C-1)+M;l.push(P,k,N),l.push(k,D,N)}this.setIndex(l),this.setAttribute("position",new Xe(u,3)),this.setAttribute("normal",new Xe(c,3)),this.setAttribute("uv",new Xe(h,2));function A(C,M,P,k,D){const N=Math.cos(C),U=Math.sin(C),R=P/M*C,B=Math.cos(R);D.x=k*(2+B)*.5*N,D.y=k*(2+B)*U*.5,D.z=k*Math.sin(R)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new yR(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class SE extends Wn{constructor(e=new aR(new pt(-1,-1,0),new pt(-1,1,0),new pt(1,1,0)),n=64,r=1,s=8,a=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:s,closed:a};const o=e.computeFrenetFrames(n,a);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const l=new pt,u=new pt,c=new me;let h=new pt;const p=[],g=[],v=[],b=[];S(),this.setIndex(b),this.setAttribute("position",new Xe(p,3)),this.setAttribute("normal",new Xe(g,3)),this.setAttribute("uv",new Xe(v,2));function S(){for(let C=0;C<n;C++)E(C);E(a===!1?n:0),A(),x()}function E(C){h=e.getPointAt(C/n,h);const M=o.normals[C],P=o.binormals[C];for(let k=0;k<=s;k++){const D=k/s*Math.PI*2,N=Math.sin(D),U=-Math.cos(D);u.x=U*M.x+N*P.x,u.y=U*M.y+N*P.y,u.z=U*M.z+N*P.z,u.normalize(),g.push(u.x,u.y,u.z),l.x=h.x+r*u.x,l.y=h.y+r*u.y,l.z=h.z+r*u.z,p.push(l.x,l.y,l.z)}}function x(){for(let C=1;C<=n;C++)for(let M=1;M<=s;M++){const P=(s+1)*(C-1)+(M-1),k=(s+1)*C+(M-1),D=(s+1)*C+M,N=(s+1)*(C-1)+M;b.push(P,k,N),b.push(k,D,N)}}function A(){for(let C=0;C<=n;C++)for(let M=0;M<=s;M++)c.x=C/n,c.y=M/s,v.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new SE(new AC[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class wj extends Wn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,s=new pt,a=new pt;if(e.index!==null){const o=e.attributes.position,l=e.index;let u=e.groups;u.length===0&&(u=[{start:0,count:l.count,materialIndex:0}]);for(let c=0,h=u.length;c<h;++c){const p=u[c],g=p.start,v=p.count;for(let b=g,S=g+v;b<S;b+=3)for(let E=0;E<3;E++){const x=l.getX(b+E),A=l.getX(b+(E+1)%3);s.fromBufferAttribute(o,x),a.fromBufferAttribute(o,A),N5(s,a,r)===!0&&(n.push(s.x,s.y,s.z),n.push(a.x,a.y,a.z))}}}else{const o=e.attributes.position;for(let l=0,u=o.count/3;l<u;l++)for(let c=0;c<3;c++){const h=3*l+c,p=3*l+(c+1)%3;s.fromBufferAttribute(o,h),a.fromBufferAttribute(o,p),N5(s,a,r)===!0&&(n.push(s.x,s.y,s.z),n.push(a.x,a.y,a.z))}}this.setAttribute("position",new Xe(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function N5(i,e,n){const r=`${i.x},${i.y},${i.z}-${e.x},${e.y},${e.z}`,s=`${e.x},${e.y},${e.z}-${i.x},${i.y},${i.z}`;return n.has(r)===!0||n.has(s)===!0?!1:(n.add(r),n.add(s),!0)}var L5=Object.freeze({__proto__:null,BoxGeometry:n0,CapsuleGeometry:oR,CircleGeometry:lR,ConeGeometry:bE,CylinderGeometry:i0,DodecahedronGeometry:uR,EdgesGeometry:xj,ExtrudeGeometry:fR,IcosahedronGeometry:hR,LatheGeometry:_E,OctahedronGeometry:xE,PlaneGeometry:hb,PolyhedronGeometry:Um,RingGeometry:dR,ShapeGeometry:pR,SphereGeometry:r0,TetrahedronGeometry:mR,TorusGeometry:gR,TorusKnotGeometry:yR,TubeGeometry:SE,WireframeGeometry:wj});class Aj extends Qa{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new He(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class Mj extends Vu{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class vR extends Qa{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new He(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new He(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Nm,this.normalScale=new me(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Zl,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Cj extends vR{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new me(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return kn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new He(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new He(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new He(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class Rj extends Qa{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new He(16777215),this.specular=new He(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new He(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Nm,this.normalScale=new me(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Zl,this.combine=pE,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Oj extends Qa{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new He(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new He(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Nm,this.normalScale=new me(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class Pj extends Qa{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Nm,this.normalScale=new me(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class lU extends Qa{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new He(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new He(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Nm,this.normalScale=new me(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Zl,this.combine=pE,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class uU extends Qa{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=j7,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class cU extends Qa{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class Ij extends Qa{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new He(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Nm,this.normalScale=new me(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Dj extends Ja{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function hy(i,e,n){return!i||!n&&i.constructor===e?i:typeof e.BYTES_PER_ELEMENT=="number"?new e(i):Array.prototype.slice.call(i)}function Nj(i){return ArrayBuffer.isView(i)&&!(i instanceof DataView)}function Lj(i){function e(s,a){return i[s]-i[a]}const n=i.length,r=new Array(n);for(let s=0;s!==n;++s)r[s]=s;return r.sort(e),r}function m3(i,e,n){const r=i.length,s=new i.constructor(r);for(let a=0,o=0;o!==r;++a){const l=n[a]*e;for(let u=0;u!==e;++u)s[o++]=i[l+u]}return s}function fU(i,e,n,r){let s=1,a=i[0];for(;a!==void 0&&a[r]===void 0;)a=i[s++];if(a===void 0)return;let o=a[r];if(o!==void 0)if(Array.isArray(o))do o=a[r],o!==void 0&&(e.push(a.time),n.push(...o)),a=i[s++];while(a!==void 0);else if(o.toArray!==void 0)do o=a[r],o!==void 0&&(e.push(a.time),o.toArray(n,n.length)),a=i[s++];while(a!==void 0);else do o=a[r],o!==void 0&&(e.push(a.time),n.push(o)),a=i[s++];while(a!==void 0)}function vet(i,e,n,r,s=30){const a=i.clone();a.name=e;const o=[];for(let u=0;u<a.tracks.length;++u){const c=a.tracks[u],h=c.getValueSize(),p=[],g=[];for(let v=0;v<c.times.length;++v){const b=c.times[v]*s;if(!(b<n||b>=r)){p.push(c.times[v]);for(let S=0;S<h;++S)g.push(c.values[v*h+S])}}p.length!==0&&(c.times=hy(p,c.times.constructor),c.values=hy(g,c.values.constructor),o.push(c))}a.tracks=o;let l=1/0;for(let u=0;u<a.tracks.length;++u)l>a.tracks[u].times[0]&&(l=a.tracks[u].times[0]);for(let u=0;u<a.tracks.length;++u)a.tracks[u].shift(-1*l);return a.resetDuration(),a}function _et(i,e=0,n=i,r=30){r<=0&&(r=30);const s=n.tracks.length,a=e/r;for(let o=0;o<s;++o){const l=n.tracks[o],u=l.ValueTypeName;if(u==="bool"||u==="string")continue;const c=i.tracks.find(function(x){return x.name===l.name&&x.ValueTypeName===u});if(c===void 0)continue;let h=0;const p=l.getValueSize();l.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=p/3);let g=0;const v=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(g=v/3);const b=l.times.length-1;let S;if(a<=l.times[0]){const x=h,A=p-h;S=l.values.slice(x,A)}else if(a>=l.times[b]){const x=b*p+h,A=x+p-h;S=l.values.slice(x,A)}else{const x=l.createInterpolant(),A=h,C=p-h;x.evaluate(a),S=x.resultBuffer.slice(A,C)}u==="quaternion"&&new Co().fromArray(S).normalize().conjugate().toArray(S);const E=c.times.length;for(let x=0;x<E;++x){const A=x*v+g;if(u==="quaternion")Co.multiplyQuaternionsFlat(c.values,A,S,0,c.values,A);else{const C=v-g*2;for(let M=0;M<C;++M)c.values[A+M]-=S[M]}}}return i.blendMode=qL,i}const bet={convertArray:hy,isTypedArray:Nj,getKeyframeOrder:Lj,sortedArray:m3,flattenJSON:fU,subclip:vet,makeClipAdditive:_et};class EE{constructor(e,n,r,s){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=s!==void 0?s:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,s=n[r],a=n[r-1];t:{e:{let o;n:{i:if(!(e<s)){for(let l=r+2;;){if(s===void 0){if(e<a)break i;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===l)break;if(a=s,s=n[++r],e<s)break e}o=n.length;break n}if(!(e>=a)){const l=n[1];e<l&&(r=2,a=l);for(let u=r-2;;){if(a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===u)break;if(s=a,a=n[--r-1],e>=a)break e}o=r,r=0;break n}break t}for(;r<o;){const l=r+o>>>1;e<n[l]?o=l:r=l+1}if(s=n[r],a=n[r-1],a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(s===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,a,s)}return this.interpolate_(r,a,e,s)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,s=this.valueSize,a=e*s;for(let o=0;o!==s;++o)n[o]=r[a+o];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class Uj extends EE{constructor(e,n,r,s){super(e,n,r,s),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:cy,endingEnd:cy}}intervalChanged_(e,n,r){const s=this.parameterPositions;let a=e-2,o=e+1,l=s[a],u=s[o];if(l===void 0)switch(this.getSettings_().endingStart){case fy:a=e,l=2*n-r;break;case xS:a=s.length-2,l=n+s[a]-s[a+1];break;default:a=e,l=r}if(u===void 0)switch(this.getSettings_().endingEnd){case fy:o=e,u=2*r-n;break;case xS:o=1,u=r+s[1]-s[0];break;default:o=e-1,u=n}const c=(r-n)*.5,h=this.valueSize;this._weightPrev=c/(n-l),this._weightNext=c/(u-r),this._offsetPrev=a*h,this._offsetNext=o*h}interpolate_(e,n,r,s){const a=this.resultBuffer,o=this.sampleValues,l=this.valueSize,u=e*l,c=u-l,h=this._offsetPrev,p=this._offsetNext,g=this._weightPrev,v=this._weightNext,b=(r-n)/(s-n),S=b*b,E=S*b,x=-g*E+2*g*S-g*b,A=(1+g)*E+(-1.5-2*g)*S+(-.5+g)*b+1,C=(-1-v)*E+(1.5+v)*S+.5*b,M=v*E-v*S;for(let P=0;P!==l;++P)a[P]=x*o[h+P]+A*o[c+P]+C*o[u+P]+M*o[p+P];return a}}class hU extends EE{constructor(e,n,r,s){super(e,n,r,s)}interpolate_(e,n,r,s){const a=this.resultBuffer,o=this.sampleValues,l=this.valueSize,u=e*l,c=u-l,h=(r-n)/(s-n),p=1-h;for(let g=0;g!==l;++g)a[g]=o[c+g]*p+o[u+g]*h;return a}}class kj extends EE{constructor(e,n,r,s){super(e,n,r,s)}interpolate_(e){return this.copySampleValue_(e-1)}}class Vc{constructor(e,n,r,s){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=hy(n,this.TimeBufferType),this.values=hy(r,this.ValueBufferType),this.setInterpolation(s||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:hy(e.times,Array),values:hy(e.values,Array)};const s=e.getInterpolation();s!==e.DefaultInterpolation&&(r.interpolation=s)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new kj(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new hU(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new Uj(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case bS:n=this.InterpolantFactoryMethodDiscrete;break;case EC:n=this.InterpolantFactoryMethodLinear;break;case sM:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return bS;case this.InterpolantFactoryMethodLinear:return EC;case this.InterpolantFactoryMethodSmooth:return sM}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,s=n.length;r!==s;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,s=n.length;r!==s;++r)n[r]*=e}return this}trim(e,n){const r=this.times,s=r.length;let a=0,o=s-1;for(;a!==s&&r[a]<e;)++a;for(;o!==-1&&r[o]>n;)--o;if(++o,a!==0||o!==s){a>=o&&(o=Math.max(o,1),a=o-1);const l=this.getValueSize();this.times=r.slice(a,o),this.values=this.values.slice(a*l,o*l)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,s=this.values,a=r.length;a===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let l=0;l!==a;l++){const u=r[l];if(typeof u=="number"&&isNaN(u)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,l,u),e=!1;break}if(o!==null&&o>u){console.error("THREE.KeyframeTrack: Out of order keys.",this,l,u,o),e=!1;break}o=u}if(s!==void 0&&Nj(s))for(let l=0,u=s.length;l!==u;++l){const c=s[l];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,l,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),r=this.getValueSize(),s=this.getInterpolation()===sM,a=e.length-1;let o=1;for(let l=1;l<a;++l){let u=!1;const c=e[l],h=e[l+1];if(c!==h&&(l!==1||c!==e[0]))if(s)u=!0;else{const p=l*r,g=p-r,v=p+r;for(let b=0;b!==r;++b){const S=n[p+b];if(S!==n[g+b]||S!==n[v+b]){u=!0;break}}}if(u){if(l!==o){e[o]=e[l];const p=l*r,g=o*r;for(let v=0;v!==r;++v)n[g+v]=n[p+v]}++o}}if(a>0){e[o]=e[a];for(let l=a*r,u=o*r,c=0;c!==r;++c)n[u+c]=n[l+c];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=n.slice(0,o*r)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),r=this.constructor,s=new r(this.name,e,n);return s.createInterpolant=this.createInterpolant,s}}Vc.prototype.TimeBufferType=Float32Array;Vc.prototype.ValueBufferType=Float32Array;Vc.prototype.DefaultInterpolation=EC;class s0 extends Vc{constructor(e,n,r){super(e,n,r)}}s0.prototype.ValueTypeName="bool";s0.prototype.ValueBufferType=Array;s0.prototype.DefaultInterpolation=bS;s0.prototype.InterpolantFactoryMethodLinear=void 0;s0.prototype.InterpolantFactoryMethodSmooth=void 0;class dU extends Vc{}dU.prototype.ValueTypeName="color";class OS extends Vc{}OS.prototype.ValueTypeName="number";class zj extends EE{constructor(e,n,r,s){super(e,n,r,s)}interpolate_(e,n,r,s){const a=this.resultBuffer,o=this.sampleValues,l=this.valueSize,u=(r-n)/(s-n);let c=e*l;for(let h=c+l;c!==h;c+=4)Co.slerpFlat(a,0,o,c-l,o,c,u);return a}}class TE extends Vc{InterpolantFactoryMethodLinear(e){return new zj(this.times,this.values,this.getValueSize(),e)}}TE.prototype.ValueTypeName="quaternion";TE.prototype.InterpolantFactoryMethodSmooth=void 0;class a0 extends Vc{constructor(e,n,r){super(e,n,r)}}a0.prototype.ValueTypeName="string";a0.prototype.ValueBufferType=Array;a0.prototype.DefaultInterpolation=bS;a0.prototype.InterpolantFactoryMethodLinear=void 0;a0.prototype.InterpolantFactoryMethodSmooth=void 0;class PS extends Vc{}PS.prototype.ValueTypeName="vector";class IS{constructor(e="",n=-1,r=[],s=Y2){this.name=e,this.tracks=r,this.duration=n,this.blendMode=s,this.uuid=Xl(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,s=1/(e.fps||1);for(let o=0,l=r.length;o!==l;++o)n.push(Eet(r[o]).scale(s));const a=new this(e.name,e.duration,n,e.blendMode);return a.uuid=e.uuid,a}static toJSON(e){const n=[],r=e.tracks,s={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let a=0,o=r.length;a!==o;++a)n.push(Vc.toJSON(r[a]));return s}static CreateFromMorphTargetSequence(e,n,r,s){const a=n.length,o=[];for(let l=0;l<a;l++){let u=[],c=[];u.push((l+a-1)%a,l,(l+1)%a),c.push(0,1,0);const h=Lj(u);u=m3(u,1,h),c=m3(c,1,h),!s&&u[0]===0&&(u.push(a),c.push(c[0])),o.push(new OS(".morphTargetInfluences["+n[l].name+"]",u,c).scale(1/r))}return new this(e,-1,o)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const s=e;r=s.geometry&&s.geometry.animations||s.animations}for(let s=0;s<r.length;s++)if(r[s].name===n)return r[s];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const s={},a=/^([\w-]*?)([\d]+)$/;for(let l=0,u=e.length;l<u;l++){const c=e[l],h=c.name.match(a);if(h&&h.length>1){const p=h[1];let g=s[p];g||(s[p]=g=[]),g.push(c)}}const o=[];for(const l in s)o.push(this.CreateFromMorphTargetSequence(l,s[l],n,r));return o}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(p,g,v,b,S){if(v.length!==0){const E=[],x=[];fU(v,E,x,b),E.length!==0&&S.push(new p(g,E,x))}},s=[],a=e.name||"default",o=e.fps||30,l=e.blendMode;let u=e.length||-1;const c=e.hierarchy||[];for(let p=0;p<c.length;p++){const g=c[p].keys;if(!(!g||g.length===0))if(g[0].morphTargets){const v={};let b;for(b=0;b<g.length;b++)if(g[b].morphTargets)for(let S=0;S<g[b].morphTargets.length;S++)v[g[b].morphTargets[S]]=-1;for(const S in v){const E=[],x=[];for(let A=0;A!==g[b].morphTargets.length;++A){const C=g[b];E.push(C.time),x.push(C.morphTarget===S?1:0)}s.push(new OS(".morphTargetInfluence["+S+"]",E,x))}u=v.length*o}else{const v=".bones["+n[p].name+"]";r(PS,v+".position",g,"pos",s),r(TE,v+".quaternion",g,"rot",s),r(PS,v+".scale",g,"scl",s)}}return s.length===0?null:new this(a,u,s,l)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,s=e.length;r!==s;++r){const a=this.tracks[r];n=Math.max(n,a.times[a.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function xet(i){switch(i.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return OS;case"vector":case"vector2":case"vector3":case"vector4":return PS;case"color":return dU;case"quaternion":return TE;case"bool":case"boolean":return s0;case"string":return a0}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+i)}function Eet(i){if(i.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=xet(i.type);if(i.times===void 0){const n=[],r=[];fU(i.keys,n,r,"value"),i.times=n,i.values=r}return e.parse!==void 0?e.parse(i):new e(i.name,i.times,i.values,i.interpolation)}const yd={enabled:!1,files:{},add:function(i,e){this.enabled!==!1&&(this.files[i]=e)},get:function(i){if(this.enabled!==!1)return this.files[i]},remove:function(i){delete this.files[i]},clear:function(){this.files={}}};class pU{constructor(e,n,r){const s=this;let a=!1,o=0,l=0,u;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(h){l++,a===!1&&s.onStart!==void 0&&s.onStart(h,o,l),a=!0},this.itemEnd=function(h){o++,s.onProgress!==void 0&&s.onProgress(h,o,l),o===l&&(a=!1,s.onLoad!==void 0&&s.onLoad())},this.itemError=function(h){s.onError!==void 0&&s.onError(h)},this.resolveURL=function(h){return u?u(h):h},this.setURLModifier=function(h){return u=h,this},this.addHandler=function(h,p){return c.push(h,p),this},this.removeHandler=function(h){const p=c.indexOf(h);return p!==-1&&c.splice(p,2),this},this.getHandler=function(h){for(let p=0,g=c.length;p<g;p+=2){const v=c[p],b=c[p+1];if(v.global&&(v.lastIndex=0),v.test(h))return b}return null}}}const Bj=new pU;class Sl{constructor(e){this.manager=e!==void 0?e:Bj,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(s,a){r.load(e,s,n,a)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Sl.DEFAULT_MATERIAL_NAME="__DEFAULT";const Kh={};class Tet extends Error{constructor(e,n){super(e),this.response=n}}class Dd extends Sl{constructor(e){super(e)}load(e,n,r,s){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=yd.get(e);if(a!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(a),this.manager.itemEnd(e)},0),a;if(Kh[e]!==void 0){Kh[e].push({onLoad:n,onProgress:r,onError:s});return}Kh[e]=[],Kh[e].push({onLoad:n,onProgress:r,onError:s});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),l=this.mimeType,u=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const h=Kh[e],p=c.body.getReader(),g=c.headers.get("X-File-Size")||c.headers.get("Content-Length"),v=g?parseInt(g):0,b=v!==0;let S=0;const E=new ReadableStream({start(x){A();function A(){p.read().then(({done:C,value:M})=>{if(C)x.close();else{S+=M.byteLength;const P=new ProgressEvent("progress",{lengthComputable:b,loaded:S,total:v});for(let k=0,D=h.length;k<D;k++){const N=h[k];N.onProgress&&N.onProgress(P)}x.enqueue(M),A()}},C=>{x.error(C)})}}});return new Response(E)}else throw new Tet(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(u){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(h=>new DOMParser().parseFromString(h,l));case"json":return c.json();default:if(l===void 0)return c.text();{const p=/charset="?([^;"\s]*)"?/i.exec(l),g=p&&p[1]?p[1].toLowerCase():void 0,v=new TextDecoder(g);return c.arrayBuffer().then(b=>v.decode(b))}}}).then(c=>{yd.add(e,c);const h=Kh[e];delete Kh[e];for(let p=0,g=h.length;p<g;p++){const v=h[p];v.onLoad&&v.onLoad(c)}}).catch(c=>{const h=Kh[e];if(h===void 0)throw this.manager.itemError(e),c;delete Kh[e];for(let p=0,g=h.length;p<g;p++){const v=h[p];v.onError&&v.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class wet extends Sl{constructor(e){super(e)}load(e,n,r,s){const a=this,o=new Dd(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{n(a.parse(JSON.parse(l)))}catch(u){s?s(u):console.error(u),a.manager.itemError(e)}},r,s)}parse(e){const n=[];for(let r=0;r<e.length;r++){const s=IS.parse(e[r]);n.push(s)}return n}}class Aet extends Sl{constructor(e){super(e)}load(e,n,r,s){const a=this,o=[],l=new rR,u=new Dd(this.manager);u.setPath(this.path),u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setWithCredentials(a.withCredentials);let c=0;function h(p){u.load(e[p],function(g){const v=a.parse(g,!0);o[p]={width:v.width,height:v.height,format:v.format,mipmaps:v.mipmaps},c+=1,c===6&&(v.mipmapCount===1&&(l.minFilter=Vs),l.image=o,l.format=v.format,l.needsUpdate=!0,n&&n(l))},r,s)}if(Array.isArray(e))for(let p=0,g=e.length;p<g;++p)h(p);else u.load(e,function(p){const g=a.parse(p,!0);if(g.isCubemap){const v=g.mipmaps.length/g.mipmapCount;for(let b=0;b<v;b++){o[b]={mipmaps:[]};for(let S=0;S<g.mipmapCount;S++)o[b].mipmaps.push(g.mipmaps[b*g.mipmapCount+S]),o[b].format=g.format,o[b].width=g.width,o[b].height=g.height}l.image=o}else l.image.width=g.width,l.image.height=g.height,l.mipmaps=g.mipmaps;g.mipmapCount===1&&(l.minFilter=Vs),l.format=g.format,l.needsUpdate=!0,n&&n(l)},r,s);return l}}class DS extends Sl{constructor(e){super(e)}load(e,n,r,s){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,o=yd.get(e);if(o!==void 0)return a.manager.itemStart(e),setTimeout(function(){n&&n(o),a.manager.itemEnd(e)},0),o;const l=wS("img");function u(){h(),yd.add(e,this),n&&n(this),a.manager.itemEnd(e)}function c(p){h(),s&&s(p),a.manager.itemError(e),a.manager.itemEnd(e)}function h(){l.removeEventListener("load",u,!1),l.removeEventListener("error",c,!1)}return l.addEventListener("load",u,!1),l.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(l.crossOrigin=this.crossOrigin),a.manager.itemStart(e),l.src=e,l}}class Met extends Sl{constructor(e){super(e)}load(e,n,r,s){const a=new yE;a.colorSpace=ya;const o=new DS(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let l=0;function u(c){o.load(e[c],function(h){a.images[c]=h,l++,l===6&&(a.needsUpdate=!0,n&&n(a))},void 0,s)}for(let c=0;c<e.length;++c)u(c);return a}}class Cet extends Sl{constructor(e){super(e)}load(e,n,r,s){const a=this,o=new Zf,l=new Dd(this.manager);return l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setPath(this.path),l.setWithCredentials(a.withCredentials),l.load(e,function(u){let c;try{c=a.parse(u)}catch(h){if(s!==void 0)s(h);else{console.error(h);return}}c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:Lu,o.wrapT=c.wrapT!==void 0?c.wrapT:Lu,o.magFilter=c.magFilter!==void 0?c.magFilter:Vs,o.minFilter=c.minFilter!==void 0?c.minFilter:Vs,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0&&(o.colorSpace=c.colorSpace),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=Gf),c.mipmapCount===1&&(o.minFilter=Vs),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,n&&n(o,c)},r,s),o}}class Ret extends Sl{constructor(e){super(e)}load(e,n,r,s){const a=new as,o=new DS(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(l){a.image=l,a.needsUpdate=!0,n!==void 0&&n(a)},r,s),a}}class km extends Ai{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new He(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(n.object.target=this.target.uuid),n}}class Fj extends km{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Ai.DEFAULT_UP),this.updateMatrix(),this.groundColor=new He(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const tI=new Sn,U5=new pt,k5=new pt;class mU{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new me(512,512),this.map=null,this.mapPass=null,this.matrix=new Sn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new vE,this._frameExtents=new me(1,1),this._viewportCount=1,this._viewports=[new Ei(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;U5.setFromMatrixPosition(e.matrixWorld),n.position.copy(U5),k5.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(k5),n.updateMatrixWorld(),tI.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(tI),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(tI)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Oet extends mU{constructor(){super(new ea(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,r=R_*2*e.angle*this.focus,s=this.mapSize.width/this.mapSize.height,a=e.distance||n.far;(r!==n.fov||s!==n.aspect||a!==n.far)&&(n.fov=r,n.aspect=s,n.far=a,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class Vj extends km{constructor(e,n,r=0,s=Math.PI/3,a=0,o=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Ai.DEFAULT_UP),this.updateMatrix(),this.target=new Ai,this.distance=r,this.angle=s,this.penumbra=a,this.decay=o,this.map=null,this.shadow=new Oet}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const z5=new Sn,jx=new pt,eI=new pt;class Pet extends mU{constructor(){super(new ea(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new me(4,2),this._viewportCount=6,this._viewports=[new Ei(2,1,1,1),new Ei(0,1,1,1),new Ei(3,1,1,1),new Ei(1,1,1,1),new Ei(3,0,1,1),new Ei(1,0,1,1)],this._cubeDirections=[new pt(1,0,0),new pt(-1,0,0),new pt(0,0,1),new pt(0,0,-1),new pt(0,1,0),new pt(0,-1,0)],this._cubeUps=[new pt(0,1,0),new pt(0,1,0),new pt(0,1,0),new pt(0,1,0),new pt(0,0,1),new pt(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,s=this.matrix,a=e.distance||r.far;a!==r.far&&(r.far=a,r.updateProjectionMatrix()),jx.setFromMatrixPosition(e.matrixWorld),r.position.copy(jx),eI.copy(r.position),eI.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(eI),r.updateMatrixWorld(),s.makeTranslation(-jx.x,-jx.y,-jx.z),z5.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(z5)}}class Hj extends km{constructor(e,n,r=0,s=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=s,this.shadow=new Pet}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class wE extends Q2{constructor(e=-1,n=1,r=1,s=-1,a=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=s,this.near=a,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,s,a,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=s,this.view.width=a,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,s=(this.top+this.bottom)/2;let a=r-e,o=r+e,l=s+n,u=s-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,h=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=c*this.view.offsetX,o=a+c*this.view.width,l-=h*this.view.offsetY,u=l-h*this.view.height}this.projectionMatrix.makeOrthographic(a,o,l,u,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}class Iet extends mU{constructor(){super(new wE(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class jj extends km{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Ai.DEFAULT_UP),this.updateMatrix(),this.target=new Ai,this.shadow=new Iet}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class Gj extends km{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class $j extends km{constructor(e,n,r=10,s=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=s}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class qj{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new pt)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,s=e.y,a=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.282095),n.addScaledVector(o[1],.488603*s),n.addScaledVector(o[2],.488603*a),n.addScaledVector(o[3],.488603*r),n.addScaledVector(o[4],1.092548*(r*s)),n.addScaledVector(o[5],1.092548*(s*a)),n.addScaledVector(o[6],.315392*(3*a*a-1)),n.addScaledVector(o[7],1.092548*(r*a)),n.addScaledVector(o[8],.546274*(r*r-s*s)),n}getIrradianceAt(e,n){const r=e.x,s=e.y,a=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.886227),n.addScaledVector(o[1],2*.511664*s),n.addScaledVector(o[2],2*.511664*a),n.addScaledVector(o[3],2*.511664*r),n.addScaledVector(o[4],2*.429043*r*s),n.addScaledVector(o[5],2*.429043*s*a),n.addScaledVector(o[6],.743125*a*a-.247708),n.addScaledVector(o[7],2*.429043*r*a),n.addScaledVector(o[8],.429043*(r*r-s*s)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let s=0;s<9;s++)r[s].fromArray(e,n+s*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let s=0;s<9;s++)r[s].toArray(e,n+s*3);return e}static getBasisAt(e,n){const r=e.x,s=e.y,a=e.z;n[0]=.282095,n[1]=.488603*s,n[2]=.488603*a,n[3]=.488603*r,n[4]=1.092548*r*s,n[5]=1.092548*s*a,n[6]=.315392*(3*a*a-1),n[7]=1.092548*r*a,n[8]=.546274*(r*r-s*s)}}class Wj extends km{constructor(e=new qj,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class _R extends Sl{constructor(e){super(e),this.textures={}}load(e,n,r,s){const a=this,o=new Dd(a.manager);o.setPath(a.path),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(e,function(l){try{n(a.parse(JSON.parse(l)))}catch(u){s?s(u):console.error(u),a.manager.itemError(e)}},r,s)}parse(e){const n=this.textures;function r(a){return n[a]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",a),n[a]}const s=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(s.uuid=e.uuid),e.name!==void 0&&(s.name=e.name),e.color!==void 0&&s.color!==void 0&&s.color.setHex(e.color),e.roughness!==void 0&&(s.roughness=e.roughness),e.metalness!==void 0&&(s.metalness=e.metalness),e.sheen!==void 0&&(s.sheen=e.sheen),e.sheenColor!==void 0&&(s.sheenColor=new He().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(s.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&s.emissive!==void 0&&s.emissive.setHex(e.emissive),e.specular!==void 0&&s.specular!==void 0&&s.specular.setHex(e.specular),e.specularIntensity!==void 0&&(s.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&s.specularColor!==void 0&&s.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(s.shininess=e.shininess),e.clearcoat!==void 0&&(s.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(s.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(s.dispersion=e.dispersion),e.iridescence!==void 0&&(s.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(s.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(s.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(s.transmission=e.transmission),e.thickness!==void 0&&(s.thickness=e.thickness),e.attenuationDistance!==void 0&&(s.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&s.attenuationColor!==void 0&&s.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(s.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(s.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(s.fog=e.fog),e.flatShading!==void 0&&(s.flatShading=e.flatShading),e.blending!==void 0&&(s.blending=e.blending),e.combine!==void 0&&(s.combine=e.combine),e.side!==void 0&&(s.side=e.side),e.shadowSide!==void 0&&(s.shadowSide=e.shadowSide),e.opacity!==void 0&&(s.opacity=e.opacity),e.transparent!==void 0&&(s.transparent=e.transparent),e.alphaTest!==void 0&&(s.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(s.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(s.depthFunc=e.depthFunc),e.depthTest!==void 0&&(s.depthTest=e.depthTest),e.depthWrite!==void 0&&(s.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(s.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(s.blendSrc=e.blendSrc),e.blendDst!==void 0&&(s.blendDst=e.blendDst),e.blendEquation!==void 0&&(s.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(s.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(s.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(s.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&s.blendColor!==void 0&&s.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(s.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(s.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(s.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(s.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(s.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(s.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(s.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(s.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(s.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(s.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(s.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(s.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(s.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(s.rotation=e.rotation),e.linewidth!==void 0&&(s.linewidth=e.linewidth),e.dashSize!==void 0&&(s.dashSize=e.dashSize),e.gapSize!==void 0&&(s.gapSize=e.gapSize),e.scale!==void 0&&(s.scale=e.scale),e.polygonOffset!==void 0&&(s.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(s.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(s.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(s.dithering=e.dithering),e.alphaToCoverage!==void 0&&(s.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(s.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(s.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(s.visible=e.visible),e.toneMapped!==void 0&&(s.toneMapped=e.toneMapped),e.userData!==void 0&&(s.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?s.vertexColors=e.vertexColors>0:s.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const a in e.uniforms){const o=e.uniforms[a];switch(s.uniforms[a]={},o.type){case"t":s.uniforms[a].value=r(o.value);break;case"c":s.uniforms[a].value=new He().setHex(o.value);break;case"v2":s.uniforms[a].value=new me().fromArray(o.value);break;case"v3":s.uniforms[a].value=new pt().fromArray(o.value);break;case"v4":s.uniforms[a].value=new Ei().fromArray(o.value);break;case"m3":s.uniforms[a].value=new Hn().fromArray(o.value);break;case"m4":s.uniforms[a].value=new Sn().fromArray(o.value);break;default:s.uniforms[a].value=o.value}}if(e.defines!==void 0&&(s.defines=e.defines),e.vertexShader!==void 0&&(s.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(s.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(s.glslVersion=e.glslVersion),e.extensions!==void 0)for(const a in e.extensions)s.extensions[a]=e.extensions[a];if(e.lights!==void 0&&(s.lights=e.lights),e.clipping!==void 0&&(s.clipping=e.clipping),e.size!==void 0&&(s.size=e.size),e.sizeAttenuation!==void 0&&(s.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(s.map=r(e.map)),e.matcap!==void 0&&(s.matcap=r(e.matcap)),e.alphaMap!==void 0&&(s.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(s.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(s.bumpScale=e.bumpScale),e.normalMap!==void 0&&(s.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(s.normalMapType=e.normalMapType),e.normalScale!==void 0){let a=e.normalScale;Array.isArray(a)===!1&&(a=[a,a]),s.normalScale=new me().fromArray(a)}return e.displacementMap!==void 0&&(s.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(s.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(s.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(s.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(s.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(s.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(s.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(s.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(s.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(s.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(s.envMap=r(e.envMap)),e.envMapRotation!==void 0&&s.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(s.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(s.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(s.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(s.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(s.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(s.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(s.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(s.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(s.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(s.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(s.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(s.clearcoatNormalScale=new me().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(s.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(s.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(s.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(s.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(s.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(s.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(s.sheenRoughnessMap=r(e.sheenRoughnessMap)),s}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return _R.createMaterialFromType(e)}static createMaterialFromType(e){const n={ShadowMaterial:Aj,SpriteMaterial:nR,RawShaderMaterial:Mj,ShaderMaterial:Vu,PointsMaterial:tU,MeshPhysicalMaterial:Cj,MeshStandardMaterial:vR,MeshPhongMaterial:Rj,MeshToonMaterial:Oj,MeshNormalMaterial:Pj,MeshLambertMaterial:lU,MeshDepthMaterial:uU,MeshDistanceMaterial:cU,MeshBasicMaterial:Lm,MeshMatcapMaterial:Ij,LineDashedMaterial:Dj,LineBasicMaterial:Ja,Material:Qa};return new n[e]}}class g3{static decodeText(e){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let r=0,s=e.length;r<s;r++)n+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class Xj extends Wn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class Yj extends Sl{constructor(e){super(e)}load(e,n,r,s){const a=this,o=new Dd(a.manager);o.setPath(a.path),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(e,function(l){try{n(a.parse(JSON.parse(l)))}catch(u){s?s(u):console.error(u),a.manager.itemError(e)}},r,s)}parse(e){const n={},r={};function s(v,b){if(n[b]!==void 0)return n[b];const E=v.interleavedBuffers[b],x=a(v,E.buffer),A=l_(E.type,x),C=new eR(A,E.stride);return C.uuid=E.uuid,n[b]=C,C}function a(v,b){if(r[b]!==void 0)return r[b];const E=v.arrayBuffers[b],x=new Uint32Array(E).buffer;return r[b]=x,x}const o=e.isInstancedBufferGeometry?new Xj:new Wn,l=e.data.index;if(l!==void 0){const v=l_(l.type,l.array);o.setIndex(new Xi(v,1))}const u=e.data.attributes;for(const v in u){const b=u[v];let S;if(b.isInterleavedBufferAttribute){const E=s(e.data,b.data);S=new Fy(E,b.itemSize,b.offset,b.normalized)}else{const E=l_(b.type,b.array),x=b.isInstancedBufferAttribute?I_:Xi;S=new x(E,b.itemSize,b.normalized)}b.name!==void 0&&(S.name=b.name),b.usage!==void 0&&S.setUsage(b.usage),o.setAttribute(v,S)}const c=e.data.morphAttributes;if(c)for(const v in c){const b=c[v],S=[];for(let E=0,x=b.length;E<x;E++){const A=b[E];let C;if(A.isInterleavedBufferAttribute){const M=s(e.data,A.data);C=new Fy(M,A.itemSize,A.offset,A.normalized)}else{const M=l_(A.type,A.array);C=new Xi(M,A.itemSize,A.normalized)}A.name!==void 0&&(C.name=A.name),S.push(C)}o.morphAttributes[v]=S}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const p=e.data.groups||e.data.drawcalls||e.data.offsets;if(p!==void 0)for(let v=0,b=p.length;v!==b;++v){const S=p[v];o.addGroup(S.start,S.count,S.materialIndex)}const g=e.data.boundingSphere;if(g!==void 0){const v=new pt;g.center!==void 0&&v.fromArray(g.center),o.boundingSphere=new Sa(v,g.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class Det extends Sl{constructor(e){super(e)}load(e,n,r,s){const a=this,o=this.path===""?g3.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const l=new Dd(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(u){let c=null;try{c=JSON.parse(u)}catch(p){s!==void 0&&s(p),console.error("THREE:ObjectLoader: Can't parse "+e+".",p.message);return}const h=c.metadata;if(h===void 0||h.type===void 0||h.type.toLowerCase()==="geometry"){s!==void 0&&s(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}a.parse(c,n)},r,s)}async loadAsync(e,n){const r=this,s=this.path===""?g3.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||s;const a=new Dd(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials);const o=await a.loadAsync(e,n),l=JSON.parse(o),u=l.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(l)}parse(e,n){const r=this.parseAnimations(e.animations),s=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,s),o=this.parseImages(e.images,function(){n!==void 0&&n(c)}),l=this.parseTextures(e.textures,o),u=this.parseMaterials(e.materials,l),c=this.parseObject(e.object,a,u,l,r),h=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,h),this.bindLightTargets(c),n!==void 0){let p=!1;for(const g in o)if(o[g].data instanceof HTMLImageElement){p=!0;break}p===!1&&n(c)}return c}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),a=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,a),l=this.parseMaterials(e.materials,o),u=this.parseObject(e.object,s,l,o,n),c=this.parseSkeletons(e.skeletons,u);return this.bindSkeletons(u,c),this.bindLightTargets(u),u}parseShapes(e){const n={};if(e!==void 0)for(let r=0,s=e.length;r<s;r++){const a=new wy().fromJSON(e[r]);n[a.uuid]=a}return n}parseSkeletons(e,n){const r={},s={};if(n.traverse(function(a){a.isBone&&(s[a.uuid]=a)}),e!==void 0)for(let a=0,o=e.length;a<o;a++){const l=new iR().fromJSON(e[a],s);r[l.uuid]=l}return r}parseGeometries(e,n){const r={};if(e!==void 0){const s=new Yj;for(let a=0,o=e.length;a<o;a++){let l;const u=e[a];switch(u.type){case"BufferGeometry":case"InstancedBufferGeometry":l=s.parse(u);break;default:u.type in L5?l=L5[u.type].fromJSON(u,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${u.type}"`)}l.uuid=u.uuid,u.name!==void 0&&(l.name=u.name),u.userData!==void 0&&(l.userData=u.userData),r[u.uuid]=l}}return r}parseMaterials(e,n){const r={},s={};if(e!==void 0){const a=new _R;a.setTextures(n);for(let o=0,l=e.length;o<l;o++){const u=e[o];r[u.uuid]===void 0&&(r[u.uuid]=a.parse(u)),s[u.uuid]=r[u.uuid]}}return s}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const s=e[r],a=IS.parse(s);n[a.uuid]=a}return n}parseImages(e,n){const r=this,s={};let a;function o(u){return r.manager.itemStart(u),a.load(u,function(){r.manager.itemEnd(u)},void 0,function(){r.manager.itemError(u),r.manager.itemEnd(u)})}function l(u){if(typeof u=="string"){const c=u,h=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return o(h)}else return u.data?{data:l_(u.type,u.data),width:u.width,height:u.height}:null}if(e!==void 0&&e.length>0){const u=new pU(n);a=new DS(u),a.setCrossOrigin(this.crossOrigin);for(let c=0,h=e.length;c<h;c++){const p=e[c],g=p.url;if(Array.isArray(g)){const v=[];for(let b=0,S=g.length;b<S;b++){const E=g[b],x=l(E);x!==null&&(x instanceof HTMLImageElement?v.push(x):v.push(new Zf(x.data,x.width,x.height)))}s[p.uuid]=new am(v)}else{const v=l(p.url);s[p.uuid]=new am(v)}}}return s}async parseImagesAsync(e){const n=this,r={};let s;async function a(o){if(typeof o=="string"){const l=o,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l)?l:n.resourcePath+l;return await s.loadAsync(u)}else return o.data?{data:l_(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){s=new DS(this.manager),s.setCrossOrigin(this.crossOrigin);for(let o=0,l=e.length;o<l;o++){const u=e[o],c=u.url;if(Array.isArray(c)){const h=[];for(let p=0,g=c.length;p<g;p++){const v=c[p],b=await a(v);b!==null&&(b instanceof HTMLImageElement?h.push(b):h.push(new Zf(b.data,b.width,b.height)))}r[u.uuid]=new am(h)}else{const h=await a(u.url);r[u.uuid]=new am(h)}}}return r}parseTextures(e,n){function r(a,o){return typeof a=="number"?a:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",a),o[a])}const s={};if(e!==void 0)for(let a=0,o=e.length;a<o;a++){const l=e[a];l.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',l.uuid),n[l.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",l.image);const u=n[l.image],c=u.data;let h;Array.isArray(c)?(h=new yE,c.length===6&&(h.needsUpdate=!0)):(c&&c.data?h=new Zf:h=new as,c&&(h.needsUpdate=!0)),h.source=u,h.uuid=l.uuid,l.name!==void 0&&(h.name=l.name),l.mapping!==void 0&&(h.mapping=r(l.mapping,Net)),l.channel!==void 0&&(h.channel=l.channel),l.offset!==void 0&&h.offset.fromArray(l.offset),l.repeat!==void 0&&h.repeat.fromArray(l.repeat),l.center!==void 0&&h.center.fromArray(l.center),l.rotation!==void 0&&(h.rotation=l.rotation),l.wrap!==void 0&&(h.wrapS=r(l.wrap[0],B5),h.wrapT=r(l.wrap[1],B5)),l.format!==void 0&&(h.format=l.format),l.internalFormat!==void 0&&(h.internalFormat=l.internalFormat),l.type!==void 0&&(h.type=l.type),l.colorSpace!==void 0&&(h.colorSpace=l.colorSpace),l.minFilter!==void 0&&(h.minFilter=r(l.minFilter,F5)),l.magFilter!==void 0&&(h.magFilter=r(l.magFilter,F5)),l.anisotropy!==void 0&&(h.anisotropy=l.anisotropy),l.flipY!==void 0&&(h.flipY=l.flipY),l.generateMipmaps!==void 0&&(h.generateMipmaps=l.generateMipmaps),l.premultiplyAlpha!==void 0&&(h.premultiplyAlpha=l.premultiplyAlpha),l.unpackAlignment!==void 0&&(h.unpackAlignment=l.unpackAlignment),l.compareFunction!==void 0&&(h.compareFunction=l.compareFunction),l.userData!==void 0&&(h.userData=l.userData),s[l.uuid]=h}return s}parseObject(e,n,r,s,a){let o;function l(g){return n[g]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",g),n[g]}function u(g){if(g!==void 0){if(Array.isArray(g)){const v=[];for(let b=0,S=g.length;b<S;b++){const E=g[b];r[E]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",E),v.push(r[E])}return v}return r[g]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",g),r[g]}}function c(g){return s[g]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",g),s[g]}let h,p;switch(e.type){case"Scene":o=new ZL,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new He(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new tR(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new J2(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&o.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(o.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&o.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":o=new ea(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new wE(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new Gj(e.color,e.intensity);break;case"DirectionalLight":o=new jj(e.color,e.intensity),o.target=e.target||"";break;case"PointLight":o=new Hj(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new $j(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new Vj(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),o.target=e.target||"";break;case"HemisphereLight":o=new Fj(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new Wj().fromJSON(e);break;case"SkinnedMesh":h=l(e.geometry),p=u(e.material),o=new cj(h,p),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":h=l(e.geometry),p=u(e.material),o=new rs(h,p);break;case"InstancedMesh":h=l(e.geometry),p=u(e.material);const g=e.count,v=e.instanceMatrix,b=e.instanceColor;o=new fj(h,p,g),o.instanceMatrix=new I_(new Float32Array(v.array),16),b!==void 0&&(o.instanceColor=new I_(new Float32Array(b.array),b.itemSize));break;case"BatchedMesh":h=l(e.geometry),p=u(e.material),o=new hj(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,p),o.geometry=h,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._visibility=e.visibility,o._active=e.active,o._bounds=e.bounds.map(S=>{const E=new xa;E.min.fromArray(S.boxMin),E.max.fromArray(S.boxMax);const x=new Sa;return x.radius=S.sphereRadius,x.center.fromArray(S.sphereCenter),{boxInitialized:S.boxInitialized,box:E,sphereInitialized:S.sphereInitialized,sphere:x}}),o._maxInstanceCount=e.maxInstanceCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._geometryCount=e.geometryCount,o._matricesTexture=c(e.matricesTexture.uuid),e.colorsTexture!==void 0&&(o._colorsTexture=c(e.colorsTexture.uuid));break;case"LOD":o=new uj;break;case"Line":o=new Id(l(e.geometry),u(e.material));break;case"LineLoop":o=new dj(l(e.geometry),u(e.material));break;case"LineSegments":o=new ph(l(e.geometry),u(e.material));break;case"PointCloud":case"Points":o=new pj(l(e.geometry),u(e.material));break;case"Sprite":o=new QL(u(e.material));break;case"Group":o=new gd;break;case"Bone":o=new JL;break;default:o=new Ai}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(o.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const g=e.children;for(let v=0;v<g.length;v++)o.add(this.parseObject(g[v],n,r,s,a))}if(e.animations!==void 0){const g=e.animations;for(let v=0;v<g.length;v++){const b=g[v];o.animations.push(a[b])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const g=e.levels;for(let v=0;v<g.length;v++){const b=g[v],S=o.getObjectByProperty("uuid",b.object);S!==void 0&&o.addLevel(S,b.distance,b.hysteresis)}}return o}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const s=n[r.skeleton];s===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(s,r.bindMatrix)}})}bindLightTargets(e){e.traverse(function(n){if(n.isDirectionalLight||n.isSpotLight){const r=n.target,s=e.getObjectByProperty("uuid",r);s!==void 0?n.target=s:n.target=new Ai}})}}const Net={UVMapping:H2,CubeReflectionMapping:Od,CubeRefractionMapping:Sm,EquirectangularReflectionMapping:gS,EquirectangularRefractionMapping:yS,CubeUVReflectionMapping:ub},B5={RepeatWrapping:vS,ClampToEdgeWrapping:Lu,MirroredRepeatWrapping:_S},F5={NearestFilter:ba,NearestMipmapNearestFilter:UL,NearestMipmapLinearFilter:o_,LinearFilter:Vs,LinearMipmapNearestFilter:F1,LinearMipmapLinearFilter:Gf};class Let extends Sl{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,s){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,o=yd.get(e);if(o!==void 0){if(a.manager.itemStart(e),o.then){o.then(c=>{n&&n(c),a.manager.itemEnd(e)}).catch(c=>{s&&s(c)});return}return setTimeout(function(){n&&n(o),a.manager.itemEnd(e)},0),o}const l={};l.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",l.headers=this.requestHeader;const u=fetch(e,l).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(a.options,{colorSpaceConversion:"none"}))}).then(function(c){return yd.add(e,c),n&&n(c),a.manager.itemEnd(e),c}).catch(function(c){s&&s(c),yd.remove(e),a.manager.itemError(e),a.manager.itemEnd(e)});yd.add(e,u),a.manager.itemStart(e)}}let qw;class gU{static getContext(){return qw===void 0&&(qw=new(window.AudioContext||window.webkitAudioContext)),qw}static setContext(e){qw=e}}class Uet extends Sl{constructor(e){super(e)}load(e,n,r,s){const a=this,o=new Dd(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(u){try{const c=u.slice(0);gU.getContext().decodeAudioData(c,function(p){n(p)}).catch(l)}catch(c){l(c)}},r,s);function l(u){s?s(u):console.error(u),a.manager.itemError(e)}}}const V5=new Sn,H5=new Sn,Ug=new Sn;class ket{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new ea,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new ea,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,Ug.copy(e.projectionMatrix);const s=n.eyeSep/2,a=s*n.near/n.focus,o=n.near*Math.tan(Ty*n.fov*.5)/n.zoom;let l,u;H5.elements[12]=-s,V5.elements[12]=s,l=-o*n.aspect+a,u=o*n.aspect+a,Ug.elements[0]=2*n.near/(u-l),Ug.elements[8]=(u+l)/(u-l),this.cameraL.projectionMatrix.copy(Ug),l=-o*n.aspect-a,u=o*n.aspect-a,Ug.elements[0]=2*n.near/(u-l),Ug.elements[8]=(u+l)/(u-l),this.cameraR.projectionMatrix.copy(Ug)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(H5),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(V5)}}class Kj extends ea{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e,this.index=0}}class yU{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=j5(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=j5();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function j5(){return performance.now()}const kg=new pt,G5=new Co,zet=new pt,zg=new pt;class Bet extends Ai{constructor(){super(),this.type="AudioListener",this.context=gU.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new yU}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(kg,G5,zet),zg.set(0,0,-1).applyQuaternion(G5),n.positionX){const s=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(kg.x,s),n.positionY.linearRampToValueAtTime(kg.y,s),n.positionZ.linearRampToValueAtTime(kg.z,s),n.forwardX.linearRampToValueAtTime(zg.x,s),n.forwardY.linearRampToValueAtTime(zg.y,s),n.forwardZ.linearRampToValueAtTime(zg.z,s),n.upX.linearRampToValueAtTime(r.x,s),n.upY.linearRampToValueAtTime(r.y,s),n.upZ.linearRampToValueAtTime(r.z,s)}else n.setPosition(kg.x,kg.y,kg.z),n.setOrientation(zg.x,zg.y,zg.z,r.x,r.y,r.z)}}class Zj extends Ai{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,n){return super.copy(e,n),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const Bg=new pt,$5=new Co,Fet=new pt,Fg=new pt;class Vet extends Zj{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Bg,$5,Fet),Fg.set(0,0,1).applyQuaternion($5);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(Bg.x,r),n.positionY.linearRampToValueAtTime(Bg.y,r),n.positionZ.linearRampToValueAtTime(Bg.z,r),n.orientationX.linearRampToValueAtTime(Fg.x,r),n.orientationY.linearRampToValueAtTime(Fg.y,r),n.orientationZ.linearRampToValueAtTime(Fg.z,r)}else n.setPosition(Bg.x,Bg.y,Bg.z),n.setOrientation(Fg.x,Fg.y,Fg.z)}}class Het{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class Qj{constructor(e,n,r){this.binding=e,this.valueSize=r;let s,a,o;switch(n){case"quaternion":s=this._slerp,a=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":s=this._select,a=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:s=this._lerp,a=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=s,this._mixBufferRegionAdditive=a,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,s=this.valueSize,a=e*s+s;let o=this.cumulativeWeight;if(o===0){for(let l=0;l!==s;++l)r[a+l]=r[l];o=n}else{o+=n;const l=n/o;this._mixBufferRegion(r,a,0,l,s)}this.cumulativeWeight=o}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,s=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,s,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,s=e*n+n,a=this.cumulativeWeight,o=this.cumulativeWeightAdditive,l=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,a<1){const u=n*this._origIndex;this._mixBufferRegion(r,s,u,1-a,n)}o>0&&this._mixBufferRegionAdditive(r,s,this._addIndex*n,1,n);for(let u=n,c=n+n;u!==c;++u)if(r[u]!==r[u+n]){l.setValue(r,s);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,s=r*this._origIndex;e.getValue(n,s);for(let a=r,o=s;a!==o;++a)n[a]=n[s+a%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,s,a){if(s>=.5)for(let o=0;o!==a;++o)e[n+o]=e[r+o]}_slerp(e,n,r,s){Co.slerpFlat(e,n,e,n,e,r,s)}_slerpAdditive(e,n,r,s,a){const o=this._workIndex*a;Co.multiplyQuaternionsFlat(e,o,e,n,e,r),Co.slerpFlat(e,n,e,n,e,o,s)}_lerp(e,n,r,s,a){const o=1-s;for(let l=0;l!==a;++l){const u=n+l;e[u]=e[u]*o+e[r+l]*s}}_lerpAdditive(e,n,r,s,a){for(let o=0;o!==a;++o){const l=n+o;e[l]=e[l]+e[r+o]*s}}}const vU="\\[\\]\\.:\\/",jet=new RegExp("["+vU+"]","g"),_U="[^"+vU+"]",Get="[^"+vU.replace("\\.","")+"]",$et=/((?:WC+[\/:])*)/.source.replace("WC",_U),qet=/(WCOD+)?/.source.replace("WCOD",Get),Wet=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",_U),Xet=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",_U),Yet=new RegExp("^"+$et+qet+Wet+Xet+"$"),Ket=["material","materials","bones","map"];class Zet{constructor(e,n,r){const s=r||wi.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,s)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,s=this._bindings[r];s!==void 0&&s.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let s=this._targetGroup.nCachedObjects_,a=r.length;s!==a;++s)r[s].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class wi{constructor(e,n,r){this.path=n,this.parsedPath=r||wi.parseTrackName(n),this.node=wi.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new wi.Composite(e,n,r):new wi(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(jet,"")}static parseTrackName(e){const n=Yet.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},s=r.nodeName&&r.nodeName.lastIndexOf(".");if(s!==void 0&&s!==-1){const a=r.nodeName.substring(s+1);Ket.indexOf(a)!==-1&&(r.nodeName=r.nodeName.substring(0,s),r.objectName=a)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(a){for(let o=0;o<a.length;o++){const l=a[o];if(l.name===n||l.uuid===n)return l;const u=r(l.children);if(u)return u}return null},s=r(e.children);if(s)return s}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let s=0,a=r.length;s!==a;++s)e[n++]=r[s]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let s=0,a=r.length;s!==a;++s)r[s]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let s=0,a=r.length;s!==a;++s)r[s]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let s=0,a=r.length;s!==a;++s)r[s]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,s=n.propertyName;let a=n.propertyIndex;if(e||(e=wi.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let c=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let h=0;h<e.length;h++)if(e[h].name===c){c=h;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[s];if(o===void 0){const c=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+s+" but it wasn't found.",e);return}let l=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?l=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(l=this.Versioning.MatrixWorldNeedsUpdate);let u=this.BindingType.Direct;if(a!==void 0){if(s==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[a]!==void 0&&(a=e.morphTargetDictionary[a])}u=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=a}else o.fromArray!==void 0&&o.toArray!==void 0?(u=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(u=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=s;this.getValue=this.GetterByBindingType[u],this.setValue=this.SetterByBindingTypeAndVersioning[u][l]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}wi.Composite=Zet;wi.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};wi.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};wi.prototype.GetterByBindingType=[wi.prototype._getValue_direct,wi.prototype._getValue_array,wi.prototype._getValue_arrayElement,wi.prototype._getValue_toArray];wi.prototype.SetterByBindingTypeAndVersioning=[[wi.prototype._setValue_direct,wi.prototype._setValue_direct_setNeedsUpdate,wi.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[wi.prototype._setValue_array,wi.prototype._setValue_array_setNeedsUpdate,wi.prototype._setValue_array_setMatrixWorldNeedsUpdate],[wi.prototype._setValue_arrayElement,wi.prototype._setValue_arrayElement_setNeedsUpdate,wi.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[wi.prototype._setValue_fromArray,wi.prototype._setValue_fromArray_setNeedsUpdate,wi.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Qet{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Xl(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,s=arguments.length;r!==s;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,s=this._parsedPaths,a=this._bindings,o=a.length;let l,u=e.length,c=this.nCachedObjects_;for(let h=0,p=arguments.length;h!==p;++h){const g=arguments[h],v=g.uuid;let b=n[v];if(b===void 0){b=u++,n[v]=b,e.push(g);for(let S=0,E=o;S!==E;++S)a[S].push(new wi(g,r[S],s[S]))}else if(b<c){l=e[b];const S=--c,E=e[S];n[E.uuid]=b,e[b]=E,n[v]=S,e[S]=g;for(let x=0,A=o;x!==A;++x){const C=a[x],M=C[S];let P=C[b];C[b]=M,P===void 0&&(P=new wi(g,r[x],s[x])),C[S]=P}}else e[b]!==l&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,s=r.length;let a=this.nCachedObjects_;for(let o=0,l=arguments.length;o!==l;++o){const u=arguments[o],c=u.uuid,h=n[c];if(h!==void 0&&h>=a){const p=a++,g=e[p];n[g.uuid]=h,e[h]=g,n[c]=p,e[p]=u;for(let v=0,b=s;v!==b;++v){const S=r[v],E=S[p],x=S[h];S[h]=E,S[p]=x}}}this.nCachedObjects_=a}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,s=r.length;let a=this.nCachedObjects_,o=e.length;for(let l=0,u=arguments.length;l!==u;++l){const c=arguments[l],h=c.uuid,p=n[h];if(p!==void 0)if(delete n[h],p<a){const g=--a,v=e[g],b=--o,S=e[b];n[v.uuid]=p,e[p]=v,n[S.uuid]=g,e[g]=S,e.pop();for(let E=0,x=s;E!==x;++E){const A=r[E],C=A[g],M=A[b];A[p]=C,A[g]=M,A.pop()}}else{const g=--o,v=e[g];g>0&&(n[v.uuid]=p),e[p]=v,e.pop();for(let b=0,S=s;b!==S;++b){const E=r[b];E[p]=E[g],E.pop()}}}this.nCachedObjects_=a}subscribe_(e,n){const r=this._bindingsIndicesByPath;let s=r[e];const a=this._bindings;if(s!==void 0)return a[s];const o=this._paths,l=this._parsedPaths,u=this._objects,c=u.length,h=this.nCachedObjects_,p=new Array(c);s=a.length,r[e]=s,o.push(e),l.push(n),a.push(p);for(let g=h,v=u.length;g!==v;++g){const b=u[g];p[g]=new wi(b,e,n)}return p}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const s=this._paths,a=this._parsedPaths,o=this._bindings,l=o.length-1,u=o[l],c=e[l];n[c]=r,o[r]=u,o.pop(),a[r]=a[l],a.pop(),s[r]=s[l],s.pop()}}}class Jj{constructor(e,n,r=null,s=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=s;const a=n.tracks,o=a.length,l=new Array(o),u={endingStart:cy,endingEnd:cy};for(let c=0;c!==o;++c){const h=a[c].createInterpolant(null);l[c]=h,h.settings=u}this._interpolantSettings=u,this._interpolants=l,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=V7,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r){if(e.fadeOut(n),this.fadeIn(n),r){const s=this._clip.duration,a=e._clip.duration,o=a/s,l=s/a;e.warp(1,o,n),this.warp(l,1,n)}return this}crossFadeTo(e,n,r){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const s=this._mixer,a=s.time,o=this.timeScale;let l=this._timeScaleInterpolant;l===null&&(l=s._lendControlInterpolant(),this._timeScaleInterpolant=l);const u=l.parameterPositions,c=l.sampleValues;return u[0]=a,u[1]=a+r,c[0]=e/o,c[1]=n/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,s){if(!this.enabled){this._updateWeight(e);return}const a=this._startTime;if(a!==null){const u=(e-a)*r;u<0||r===0?n=0:(this._startTime=null,n=r*u)}n*=this._updateTimeScale(e);const o=this._updateTime(n),l=this._updateWeight(e);if(l>0){const u=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case qL:for(let h=0,p=u.length;h!==p;++h)u[h].evaluate(o),c[h].accumulateAdditive(l);break;case Y2:default:for(let h=0,p=u.length;h!==p;++h)u[h].evaluate(o),c[h].accumulate(s,l)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const s=r.evaluate(e)[0];n*=s,e>r.parameterPositions[1]&&(this.stopFading(),s===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const s=r.evaluate(e)[0];n*=s,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let s=this.time+e,a=this._loopCount;const o=r===H7;if(e===0)return a===-1?s:o&&(a&1)===1?n-s:s;if(r===F7){a===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(s>=n)s=n;else if(s<0)s=0;else{this.time=s;break t}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=s,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(a===-1&&(e>=0?(a=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),s>=n||s<0){const l=Math.floor(s/n);s-=n*l,a+=Math.abs(l);const u=this.repetitions-a;if(u<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,s=e>0?n:0,this.time=s,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(u===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=a,this.time=s,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:l})}}else this.time=s;if(o&&(a&1)===1)return n-s}return s}_setEndings(e,n,r){const s=this._interpolantSettings;r?(s.endingStart=fy,s.endingEnd=fy):(e?s.endingStart=this.zeroSlopeAtStart?fy:cy:s.endingStart=xS,n?s.endingEnd=this.zeroSlopeAtEnd?fy:cy:s.endingEnd=xS)}_scheduleFading(e,n,r){const s=this._mixer,a=s.time;let o=this._weightInterpolant;o===null&&(o=s._lendControlInterpolant(),this._weightInterpolant=o);const l=o.parameterPositions,u=o.sampleValues;return l[0]=a,u[0]=n,l[1]=a+e,u[1]=r,this}}const Jet=new Float32Array(1);class tnt extends dh{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,s=e._clip.tracks,a=s.length,o=e._propertyBindings,l=e._interpolants,u=r.uuid,c=this._bindingsByRootAndName;let h=c[u];h===void 0&&(h={},c[u]=h);for(let p=0;p!==a;++p){const g=s[p],v=g.name;let b=h[v];if(b!==void 0)++b.referenceCount,o[p]=b;else{if(b=o[p],b!==void 0){b._cacheIndex===null&&(++b.referenceCount,this._addInactiveBinding(b,u,v));continue}const S=n&&n._propertyBindings[p].binding.parsedPath;b=new Qj(wi.create(r,v,S),g.ValueTypeName,g.getValueSize()),++b.referenceCount,this._addInactiveBinding(b,u,v),o[p]=b}l[p].resultBuffer=b.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,s=e._clip.uuid,a=this._actionsByClip[s];this._bindAction(e,a&&a.knownActions[0]),this._addInactiveAction(e,s,r)}const n=e._propertyBindings;for(let r=0,s=n.length;r!==s;++r){const a=n[r];a.useCount++===0&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,s=n.length;r!==s;++r){const a=n[r];--a.useCount===0&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const s=this._actions,a=this._actionsByClip;let o=a[n];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,a[n]=o;else{const l=o.knownActions;e._byClipCacheIndex=l.length,l.push(e)}e._cacheIndex=s.length,s.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],s=e._cacheIndex;r._cacheIndex=s,n[s]=r,n.pop(),e._cacheIndex=null;const a=e._clip.uuid,o=this._actionsByClip,l=o[a],u=l.knownActions,c=u[u.length-1],h=e._byClipCacheIndex;c._byClipCacheIndex=h,u[h]=c,u.pop(),e._byClipCacheIndex=null;const p=l.actionByRoot,g=(e._localRoot||this._root).uuid;delete p[g],u.length===0&&delete o[a],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,s=n.length;r!==s;++r){const a=n[r];--a.referenceCount===0&&this._removeInactiveBinding(a)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,s=this._nActiveActions++,a=n[s];e._cacheIndex=s,n[s]=e,a._cacheIndex=r,n[r]=a}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,s=--this._nActiveActions,a=n[s];e._cacheIndex=s,n[s]=e,a._cacheIndex=r,n[r]=a}_addInactiveBinding(e,n,r){const s=this._bindingsByRootAndName,a=this._bindings;let o=s[n];o===void 0&&(o={},s[n]=o),o[r]=e,e._cacheIndex=a.length,a.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,s=r.rootNode.uuid,a=r.path,o=this._bindingsByRootAndName,l=o[s],u=n[n.length-1],c=e._cacheIndex;u._cacheIndex=c,n[c]=u,n.pop(),delete l[a],Object.keys(l).length===0&&delete o[s]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,s=this._nActiveBindings++,a=n[s];e._cacheIndex=s,n[s]=e,a._cacheIndex=r,n[r]=a}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,s=--this._nActiveBindings,a=n[s];e._cacheIndex=s,n[s]=e,a._cacheIndex=r,n[r]=a}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new hU(new Float32Array(2),new Float32Array(2),1,Jet),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,s=--this._nActiveControlInterpolants,a=n[s];e.__cacheIndex=s,n[s]=e,a.__cacheIndex=r,n[r]=a}clipAction(e,n,r){const s=n||this._root,a=s.uuid;let o=typeof e=="string"?IS.findByName(s,e):e;const l=o!==null?o.uuid:e,u=this._actionsByClip[l];let c=null;if(r===void 0&&(o!==null?r=o.blendMode:r=Y2),u!==void 0){const p=u.actionByRoot[a];if(p!==void 0&&p.blendMode===r)return p;c=u.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const h=new Jj(this,o,n,r);return this._bindAction(h,c),this._addInactiveAction(h,l,a),h}existingAction(e,n){const r=n||this._root,s=r.uuid,a=typeof e=="string"?IS.findByName(r,e):e,o=a?a.uuid:e,l=this._actionsByClip[o];return l!==void 0&&l.actionByRoot[s]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,s=this.time+=e,a=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==r;++c)n[c]._update(s,e,a,o);const l=this._bindings,u=this._nActiveBindings;for(let c=0;c!==u;++c)l[c].apply(o);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,s=this._actionsByClip,a=s[r];if(a!==void 0){const o=a.knownActions;for(let l=0,u=o.length;l!==u;++l){const c=o[l];this._deactivateAction(c);const h=c._cacheIndex,p=n[n.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,p._cacheIndex=h,n[h]=p,n.pop(),this._removeInactiveBindingsForAction(c)}delete s[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const o in r){const l=r[o].actionByRoot,u=l[n];u!==void 0&&(this._deactivateAction(u),this._removeInactiveAction(u))}const s=this._bindingsByRootAndName,a=s[n];if(a!==void 0)for(const o in a){const l=a[o];l.restoreOriginalState(),this._removeInactiveBinding(l)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class ent extends K2{constructor(e=1,n=1,r=1,s={}){super(e,n,s),this.isRenderTarget3D=!0,this.depth=r,this.texture=new Z2(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class nnt extends K2{constructor(e=1,n=1,r=1,s={}){super(e,n,s),this.isRenderTargetArray=!0,this.depth=r,this.texture=new gE(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class bU{constructor(e){this.value=e}clone(){return new bU(this.value.clone===void 0?this.value:this.value.clone())}}let int=0;class rnt extends dh{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:int++}),this.name="",this.usage=ES,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,s=n.length;r<s;r++){const a=Array.isArray(n[r])?n[r]:[n[r]];for(let o=0;o<a.length;o++)this.uniforms.push(a[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class snt extends eR{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class ant{constructor(e,n,r,s,a){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=s,this.count=a,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const q5=new Sn;class xU{constructor(e,n,r=0,s=1/0){this.ray=new fb(e,n),this.near=r,this.far=s,this.camera=null,this.layers=new O_,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}setFromXRController(e){return q5.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(q5),this}intersectObject(e,n=!0,r=[]){return y3(e,this,r,n),r.sort(W5),r}intersectObjects(e,n=!0,r=[]){for(let s=0,a=e.length;s<a;s++)y3(e[s],this,r,n);return r.sort(W5),r}}function W5(i,e){return i.distance-e.distance}function y3(i,e,n,r){let s=!0;if(i.layers.test(e.layers)&&i.raycast(e,n)===!1&&(s=!1),s===!0&&r===!0){const a=i.children;for(let o=0,l=a.length;o<l;o++)y3(a[o],e,n,!0)}}class SU{constructor(e=1,n=0,r=0){this.radius=e,this.phi=n,this.theta=r}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=kn(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(kn(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class ont{constructor(e=1,n=0,r=0){this.radius=e,this.theta=n,this.y=r}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}class EU{constructor(e,n,r,s){EU.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,n,r,s)}identity(){return this.set(1,0,0,1),this}fromArray(e,n=0){for(let r=0;r<4;r++)this.elements[r]=e[r+n];return this}set(e,n,r,s){const a=this.elements;return a[0]=e,a[2]=n,a[1]=r,a[3]=s,this}}const X5=new me;class lnt{constructor(e=new me(1/0,1/0),n=new me(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=X5.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,X5).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Y5=new pt,Ww=new pt;class unt{constructor(e=new pt,n=new pt){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){Y5.subVectors(e,this.start),Ww.subVectors(this.end,this.start);const r=Ww.dot(Ww);let a=Ww.dot(Y5)/r;return n&&(a=kn(a,0,1)),a}closestPointToPoint(e,n,r){const s=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(s).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const K5=new pt;class cnt extends Ai{constructor(e,n){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new Wn,s=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,l=1,u=32;o<u;o++,l++){const c=o/u*Math.PI*2,h=l/u*Math.PI*2;s.push(Math.cos(c),Math.sin(c),1,Math.cos(h),Math.sin(h),1)}r.setAttribute("position",new Xe(s,3));const a=new Ja({fog:!1,toneMapped:!1});this.cone=new ph(r,a),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),K5.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(K5),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Hp=new pt,Xw=new Sn,nI=new Sn;class fnt extends ph{constructor(e){const n=tG(e),r=new Wn,s=[],a=[],o=new He(0,0,1),l=new He(0,1,0);for(let c=0;c<n.length;c++){const h=n[c];h.parent&&h.parent.isBone&&(s.push(0,0,0),s.push(0,0,0),a.push(o.r,o.g,o.b),a.push(l.r,l.g,l.b))}r.setAttribute("position",new Xe(s,3)),r.setAttribute("color",new Xe(a,3));const u=new Ja({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,u),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,r=this.geometry,s=r.getAttribute("position");nI.copy(this.root.matrixWorld).invert();for(let a=0,o=0;a<n.length;a++){const l=n[a];l.parent&&l.parent.isBone&&(Xw.multiplyMatrices(nI,l.matrixWorld),Hp.setFromMatrixPosition(Xw),s.setXYZ(o,Hp.x,Hp.y,Hp.z),Xw.multiplyMatrices(nI,l.parent.matrixWorld),Hp.setFromMatrixPosition(Xw),s.setXYZ(o+1,Hp.x,Hp.y,Hp.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function tG(i){const e=[];i.isBone===!0&&e.push(i);for(let n=0;n<i.children.length;n++)e.push(...tG(i.children[n]));return e}class hnt extends rs{constructor(e,n,r){const s=new r0(n,4,2),a=new Lm({wireframe:!0,fog:!1,toneMapped:!1});super(s,a),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const dnt=new pt,Z5=new He,Q5=new He;class pnt extends Ai{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const s=new xE(n);s.rotateY(Math.PI*.5),this.material=new Lm({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const a=s.getAttribute("position"),o=new Float32Array(a.count*3);s.setAttribute("color",new Xi(o,3)),this.add(new rs(s,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");Z5.copy(this.light.color),Q5.copy(this.light.groundColor);for(let r=0,s=n.count;r<s;r++){const a=r<s/2?Z5:Q5;n.setXYZ(r,a.r,a.g,a.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(dnt.setFromMatrixPosition(this.light.matrixWorld).negate())}}class mnt extends ph{constructor(e=10,n=10,r=4473924,s=8947848){r=new He(r),s=new He(s);const a=n/2,o=e/n,l=e/2,u=[],c=[];for(let g=0,v=0,b=-l;g<=n;g++,b+=o){u.push(-l,0,b,l,0,b),u.push(b,0,-l,b,0,l);const S=g===a?r:s;S.toArray(c,v),v+=3,S.toArray(c,v),v+=3,S.toArray(c,v),v+=3,S.toArray(c,v),v+=3}const h=new Wn;h.setAttribute("position",new Xe(u,3)),h.setAttribute("color",new Xe(c,3));const p=new Ja({vertexColors:!0,toneMapped:!1});super(h,p),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class gnt extends ph{constructor(e=10,n=16,r=8,s=64,a=4473924,o=8947848){a=new He(a),o=new He(o);const l=[],u=[];if(n>1)for(let p=0;p<n;p++){const g=p/n*(Math.PI*2),v=Math.sin(g)*e,b=Math.cos(g)*e;l.push(0,0,0),l.push(v,0,b);const S=p&1?a:o;u.push(S.r,S.g,S.b),u.push(S.r,S.g,S.b)}for(let p=0;p<r;p++){const g=p&1?a:o,v=e-e/r*p;for(let b=0;b<s;b++){let S=b/s*(Math.PI*2),E=Math.sin(S)*v,x=Math.cos(S)*v;l.push(E,0,x),u.push(g.r,g.g,g.b),S=(b+1)/s*(Math.PI*2),E=Math.sin(S)*v,x=Math.cos(S)*v,l.push(E,0,x),u.push(g.r,g.g,g.b)}}const c=new Wn;c.setAttribute("position",new Xe(l,3)),c.setAttribute("color",new Xe(u,3));const h=new Ja({vertexColors:!0,toneMapped:!1});super(c,h),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const J5=new pt,Yw=new pt,tB=new pt;class ynt extends Ai{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let s=new Wn;s.setAttribute("position",new Xe([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const a=new Ja({fog:!1,toneMapped:!1});this.lightPlane=new Id(s,a),this.add(this.lightPlane),s=new Wn,s.setAttribute("position",new Xe([0,0,0,0,0,1],3)),this.targetLine=new Id(s,a),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),J5.setFromMatrixPosition(this.light.matrixWorld),Yw.setFromMatrixPosition(this.light.target.matrixWorld),tB.subVectors(Yw,J5),this.lightPlane.lookAt(Yw),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Yw),this.targetLine.scale.z=tB.length()}}const Kw=new pt,ts=new Q2;class vnt extends ph{constructor(e){const n=new Wn,r=new Ja({color:16777215,vertexColors:!0,toneMapped:!1}),s=[],a=[],o={};l("n1","n2"),l("n2","n4"),l("n4","n3"),l("n3","n1"),l("f1","f2"),l("f2","f4"),l("f4","f3"),l("f3","f1"),l("n1","f1"),l("n2","f2"),l("n3","f3"),l("n4","f4"),l("p","n1"),l("p","n2"),l("p","n3"),l("p","n4"),l("u1","u2"),l("u2","u3"),l("u3","u1"),l("c","t"),l("p","c"),l("cn1","cn2"),l("cn3","cn4"),l("cf1","cf2"),l("cf3","cf4");function l(b,S){u(b),u(S)}function u(b){s.push(0,0,0),a.push(0,0,0),o[b]===void 0&&(o[b]=[]),o[b].push(s.length/3-1)}n.setAttribute("position",new Xe(s,3)),n.setAttribute("color",new Xe(a,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new He(16755200),h=new He(16711680),p=new He(43775),g=new He(16777215),v=new He(3355443);this.setColors(c,h,p,g,v)}setColors(e,n,r,s,a){const l=this.geometry.getAttribute("color");l.setXYZ(0,e.r,e.g,e.b),l.setXYZ(1,e.r,e.g,e.b),l.setXYZ(2,e.r,e.g,e.b),l.setXYZ(3,e.r,e.g,e.b),l.setXYZ(4,e.r,e.g,e.b),l.setXYZ(5,e.r,e.g,e.b),l.setXYZ(6,e.r,e.g,e.b),l.setXYZ(7,e.r,e.g,e.b),l.setXYZ(8,e.r,e.g,e.b),l.setXYZ(9,e.r,e.g,e.b),l.setXYZ(10,e.r,e.g,e.b),l.setXYZ(11,e.r,e.g,e.b),l.setXYZ(12,e.r,e.g,e.b),l.setXYZ(13,e.r,e.g,e.b),l.setXYZ(14,e.r,e.g,e.b),l.setXYZ(15,e.r,e.g,e.b),l.setXYZ(16,e.r,e.g,e.b),l.setXYZ(17,e.r,e.g,e.b),l.setXYZ(18,e.r,e.g,e.b),l.setXYZ(19,e.r,e.g,e.b),l.setXYZ(20,e.r,e.g,e.b),l.setXYZ(21,e.r,e.g,e.b),l.setXYZ(22,e.r,e.g,e.b),l.setXYZ(23,e.r,e.g,e.b),l.setXYZ(24,n.r,n.g,n.b),l.setXYZ(25,n.r,n.g,n.b),l.setXYZ(26,n.r,n.g,n.b),l.setXYZ(27,n.r,n.g,n.b),l.setXYZ(28,n.r,n.g,n.b),l.setXYZ(29,n.r,n.g,n.b),l.setXYZ(30,n.r,n.g,n.b),l.setXYZ(31,n.r,n.g,n.b),l.setXYZ(32,r.r,r.g,r.b),l.setXYZ(33,r.r,r.g,r.b),l.setXYZ(34,r.r,r.g,r.b),l.setXYZ(35,r.r,r.g,r.b),l.setXYZ(36,r.r,r.g,r.b),l.setXYZ(37,r.r,r.g,r.b),l.setXYZ(38,s.r,s.g,s.b),l.setXYZ(39,s.r,s.g,s.b),l.setXYZ(40,a.r,a.g,a.b),l.setXYZ(41,a.r,a.g,a.b),l.setXYZ(42,a.r,a.g,a.b),l.setXYZ(43,a.r,a.g,a.b),l.setXYZ(44,a.r,a.g,a.b),l.setXYZ(45,a.r,a.g,a.b),l.setXYZ(46,a.r,a.g,a.b),l.setXYZ(47,a.r,a.g,a.b),l.setXYZ(48,a.r,a.g,a.b),l.setXYZ(49,a.r,a.g,a.b),l.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,r=1,s=1;ts.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const a=this.camera.coordinateSystem===Oc?-1:0;hs("c",n,e,ts,0,0,a),hs("t",n,e,ts,0,0,1),hs("n1",n,e,ts,-1,-1,a),hs("n2",n,e,ts,r,-1,a),hs("n3",n,e,ts,-1,s,a),hs("n4",n,e,ts,r,s,a),hs("f1",n,e,ts,-1,-1,1),hs("f2",n,e,ts,r,-1,1),hs("f3",n,e,ts,-1,s,1),hs("f4",n,e,ts,r,s,1),hs("u1",n,e,ts,r*.7,s*1.1,a),hs("u2",n,e,ts,-1*.7,s*1.1,a),hs("u3",n,e,ts,0,s*2,a),hs("cf1",n,e,ts,-1,0,1),hs("cf2",n,e,ts,r,0,1),hs("cf3",n,e,ts,0,-1,1),hs("cf4",n,e,ts,0,s,1),hs("cn1",n,e,ts,-1,0,a),hs("cn2",n,e,ts,r,0,a),hs("cn3",n,e,ts,0,-1,a),hs("cn4",n,e,ts,0,s,a),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function hs(i,e,n,r,s,a,o){Kw.set(s,a,o).unproject(r);const l=e[i];if(l!==void 0){const u=n.getAttribute("position");for(let c=0,h=l.length;c<h;c++)u.setXYZ(l[c],Kw.x,Kw.y,Kw.z)}}const Zw=new xa;class _nt extends ph{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),s=new Float32Array(8*3),a=new Wn;a.setIndex(new Xi(r,1)),a.setAttribute("position",new Xi(s,3)),super(a,new Ja({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&Zw.setFromObject(this.object),Zw.isEmpty())return;const e=Zw.min,n=Zw.max,r=this.geometry.attributes.position,s=r.array;s[0]=n.x,s[1]=n.y,s[2]=n.z,s[3]=e.x,s[4]=n.y,s[5]=n.z,s[6]=e.x,s[7]=e.y,s[8]=n.z,s[9]=n.x,s[10]=e.y,s[11]=n.z,s[12]=n.x,s[13]=n.y,s[14]=e.z,s[15]=e.x,s[16]=n.y,s[17]=e.z,s[18]=e.x,s[19]=e.y,s[20]=e.z,s[21]=n.x,s[22]=e.y,s[23]=e.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class bnt extends ph{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),s=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],a=new Wn;a.setIndex(new Xi(r,1)),a.setAttribute("position",new Xe(s,3)),super(a,new Ja({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class xnt extends Id{constructor(e,n=1,r=16776960){const s=r,a=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new Wn;o.setAttribute("position",new Xe(a,3)),o.computeBoundingSphere(),super(o,new Ja({color:s,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const l=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],u=new Wn;u.setAttribute("position",new Xe(l,3)),u.computeBoundingSphere(),this.add(new rs(u,new Lm({color:s,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const eB=new pt;let Qw,iI;class Snt extends Ai{constructor(e=new pt(0,0,1),n=new pt(0,0,0),r=1,s=16776960,a=r*.2,o=a*.2){super(),this.type="ArrowHelper",Qw===void 0&&(Qw=new Wn,Qw.setAttribute("position",new Xe([0,0,0,0,1,0],3)),iI=new i0(0,.5,1,5,1),iI.translate(0,-.5,0)),this.position.copy(n),this.line=new Id(Qw,new Ja({color:s,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new rs(iI,new Lm({color:s,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,a,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{eB.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(eB,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class Ent extends ph{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],s=new Wn;s.setAttribute("position",new Xe(n,3)),s.setAttribute("color",new Xe(r,3));const a=new Ja({vertexColors:!0,toneMapped:!1});super(s,a),this.type="AxesHelper"}setColors(e,n,r){const s=new He,a=this.geometry.attributes.color.array;return s.set(e),s.toArray(a,0),s.toArray(a,3),s.set(n),s.toArray(a,6),s.toArray(a,9),s.set(r),s.toArray(a,12),s.toArray(a,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Tnt{constructor(){this.type="ShapePath",this.color=new He,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new AS,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,s){return this.currentPath.quadraticCurveTo(e,n,r,s),this}bezierCurveTo(e,n,r,s,a,o){return this.currentPath.bezierCurveTo(e,n,r,s,a,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(x){const A=[];for(let C=0,M=x.length;C<M;C++){const P=x[C],k=new wy;k.curves=P.curves,A.push(k)}return A}function r(x,A){const C=A.length;let M=!1;for(let P=C-1,k=0;k<C;P=k++){let D=A[P],N=A[k],U=N.x-D.x,R=N.y-D.y;if(Math.abs(R)>Number.EPSILON){if(R<0&&(D=A[k],U=-U,N=A[P],R=-R),x.y<D.y||x.y>N.y)continue;if(x.y===D.y){if(x.x===D.x)return!0}else{const B=R*(x.x-D.x)-U*(x.y-D.y);if(B===0)return!0;if(B<0)continue;M=!M}}else{if(x.y!==D.y)continue;if(N.x<=x.x&&x.x<=D.x||D.x<=x.x&&x.x<=N.x)return!0}}return M}const s=Qf.isClockWise,a=this.subPaths;if(a.length===0)return[];let o,l,u;const c=[];if(a.length===1)return l=a[0],u=new wy,u.curves=l.curves,c.push(u),c;let h=!s(a[0].getPoints());h=e?!h:h;const p=[],g=[];let v=[],b=0,S;g[b]=void 0,v[b]=[];for(let x=0,A=a.length;x<A;x++)l=a[x],S=l.getPoints(),o=s(S),o=e?!o:o,o?(!h&&g[b]&&b++,g[b]={s:new wy,p:S},g[b].s.curves=l.curves,h&&b++,v[b]=[]):v[b].push({h:l,p:S[0]});if(!g[0])return n(a);if(g.length>1){let x=!1,A=0;for(let C=0,M=g.length;C<M;C++)p[C]=[];for(let C=0,M=g.length;C<M;C++){const P=v[C];for(let k=0;k<P.length;k++){const D=P[k];let N=!0;for(let U=0;U<g.length;U++)r(D.p,g[U].p)&&(C!==U&&A++,N?(N=!1,p[U].push(D)):x=!0);N&&p[C].push(D)}}A>0&&x===!1&&(v=p)}let E;for(let x=0,A=g.length;x<A;x++){u=g[x].s,c.push(u),E=v[x];for(let C=0,M=E.length;C<M;C++)u.holes.push(E[C].h)}return c}}class wnt extends dh{constructor(e,n=null){super(),this.object=e,this.domElement=n,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(){}disconnect(){}dispose(){}update(){}}function Ant(i,e){const n=i.image&&i.image.width?i.image.width/i.image.height:1;return n>e?(i.repeat.x=1,i.repeat.y=n/e,i.offset.x=0,i.offset.y=(1-i.repeat.y)/2):(i.repeat.x=e/n,i.repeat.y=1,i.offset.x=(1-i.repeat.x)/2,i.offset.y=0),i}function Mnt(i,e){const n=i.image&&i.image.width?i.image.width/i.image.height:1;return n>e?(i.repeat.x=e/n,i.repeat.y=1,i.offset.x=(1-i.repeat.x)/2,i.offset.y=0):(i.repeat.x=1,i.repeat.y=n/e,i.offset.x=0,i.offset.y=(1-i.repeat.y)/2),i}function Cnt(i){return i.repeat.x=1,i.repeat.y=1,i.offset.x=0,i.offset.y=0,i}function v3(i,e,n,r){const s=Rnt(r);switch(n){case FL:return i*e;case HL:return i*e;case jL:return i*e*2;case q2:return i*e/s.components*s.byteLength;case mE:return i*e/s.components*s.byteLength;case GL:return i*e*2/s.components*s.byteLength;case W2:return i*e*2/s.components*s.byteLength;case VL:return i*e*3/s.components*s.byteLength;case Xa:return i*e*4/s.components*s.byteLength;case X2:return i*e*4/s.components*s.byteLength;case V1:case H1:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*8;case j1:case G1:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*16;case QM:case tC:return Math.max(i,16)*Math.max(e,8)/4;case ZM:case JM:return Math.max(i,8)*Math.max(e,8)/2;case eC:case nC:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*8;case iC:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*16;case rC:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*16;case sC:return Math.floor((i+4)/5)*Math.floor((e+3)/4)*16;case aC:return Math.floor((i+4)/5)*Math.floor((e+4)/5)*16;case oC:return Math.floor((i+5)/6)*Math.floor((e+4)/5)*16;case lC:return Math.floor((i+5)/6)*Math.floor((e+5)/6)*16;case uC:return Math.floor((i+7)/8)*Math.floor((e+4)/5)*16;case cC:return Math.floor((i+7)/8)*Math.floor((e+5)/6)*16;case fC:return Math.floor((i+7)/8)*Math.floor((e+7)/8)*16;case hC:return Math.floor((i+9)/10)*Math.floor((e+4)/5)*16;case dC:return Math.floor((i+9)/10)*Math.floor((e+5)/6)*16;case pC:return Math.floor((i+9)/10)*Math.floor((e+7)/8)*16;case mC:return Math.floor((i+9)/10)*Math.floor((e+9)/10)*16;case gC:return Math.floor((i+11)/12)*Math.floor((e+9)/10)*16;case yC:return Math.floor((i+11)/12)*Math.floor((e+11)/12)*16;case $1:case vC:case _C:return Math.ceil(i/4)*Math.ceil(e/4)*16;case $L:case bC:return Math.ceil(i/4)*Math.ceil(e/4)*8;case xC:case SC:return Math.ceil(i/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function Rnt(i){switch(i){case Lc:case kL:return{byteLength:1,components:1};case C_:case zL:case cb:return{byteLength:2,components:1};case G2:case $2:return{byteLength:2,components:4};case Pd:case j2:case ll:return{byteLength:4,components:1};case BL:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${i}.`)}class Ont{static contain(e,n){return Ant(e,n)}static cover(e,n){return Mnt(e,n)}static fill(e){return Cnt(e)}static getByteLength(e,n,r,s){return v3(e,n,r,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:dE}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=dE);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function eG(){let i=null,e=!1,n=null,r=null;function s(a,o){n(a,o),r=i.requestAnimationFrame(s)}return{start:function(){e!==!0&&n!==null&&(r=i.requestAnimationFrame(s),e=!0)},stop:function(){i.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(a){n=a},setContext:function(a){i=a}}}function Pnt(i){const e=new WeakMap;function n(l,u){const c=l.array,h=l.usage,p=c.byteLength,g=i.createBuffer();i.bindBuffer(u,g),i.bufferData(u,c,h),l.onUploadCallback();let v;if(c instanceof Float32Array)v=i.FLOAT;else if(c instanceof Uint16Array)l.isFloat16BufferAttribute?v=i.HALF_FLOAT:v=i.UNSIGNED_SHORT;else if(c instanceof Int16Array)v=i.SHORT;else if(c instanceof Uint32Array)v=i.UNSIGNED_INT;else if(c instanceof Int32Array)v=i.INT;else if(c instanceof Int8Array)v=i.BYTE;else if(c instanceof Uint8Array)v=i.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)v=i.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:g,type:v,bytesPerElement:c.BYTES_PER_ELEMENT,version:l.version,size:p}}function r(l,u,c){const h=u.array,p=u.updateRanges;if(i.bindBuffer(c,l),p.length===0)i.bufferSubData(c,0,h);else{p.sort((v,b)=>v.start-b.start);let g=0;for(let v=1;v<p.length;v++){const b=p[g],S=p[v];S.start<=b.start+b.count+1?b.count=Math.max(b.count,S.start+S.count-b.start):(++g,p[g]=S)}p.length=g+1;for(let v=0,b=p.length;v<b;v++){const S=p[v];i.bufferSubData(c,S.start*h.BYTES_PER_ELEMENT,h,S.start,S.count)}u.clearUpdateRanges()}u.onUploadCallback()}function s(l){return l.isInterleavedBufferAttribute&&(l=l.data),e.get(l)}function a(l){l.isInterleavedBufferAttribute&&(l=l.data);const u=e.get(l);u&&(i.deleteBuffer(u.buffer),e.delete(l))}function o(l,u){if(l.isInterleavedBufferAttribute&&(l=l.data),l.isGLBufferAttribute){const h=e.get(l);(!h||h.version<l.version)&&e.set(l,{buffer:l.buffer,type:l.type,bytesPerElement:l.elementSize,version:l.version});return}const c=e.get(l);if(c===void 0)e.set(l,n(l,u));else if(c.version<l.version){if(c.size!==l.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(c.buffer,l,u),c.version=l.version}}return{get:s,remove:a,update:o}}var Int=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,Dnt=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,Nnt=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,Lnt=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Unt=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,knt=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,znt=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Bnt=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Fnt=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,Vnt=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,Hnt=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,jnt=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Gnt=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,$nt=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,qnt=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,Wnt=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,Xnt=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Ynt=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Knt=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Znt=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Qnt=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Jnt=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,tit=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,eit=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,nit=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,iit=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,rit=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,sit=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,ait=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,oit=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,lit="gl_FragColor = linearToOutputTexel( gl_FragColor );",uit=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,cit=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,fit=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,hit=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,dit=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,pit=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,mit=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,git=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,yit=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,vit=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,_it=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,bit=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,xit=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Sit=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Eit=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Tit=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,wit=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Ait=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Mit=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Cit=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,Rit=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,Oit=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Pit=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Iit=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Dit=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,Nit=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Lit=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Uit=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,kit=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,zit=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Bit=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Fit=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Vit=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Hit=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,jit=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Git=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,$it=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,qit=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Wit=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,Xit=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Yit=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,Kit=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Zit=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Qit=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Jit=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,trt=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,ert=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,nrt=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,irt=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,rrt=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,srt=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,art=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,ort=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,lrt=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,urt=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,crt=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,frt=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,hrt=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,drt=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,prt=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,mrt=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,grt=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,yrt=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,vrt=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,_rt=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,brt=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,xrt=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Srt=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Ert=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Trt=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,wrt=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Art=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Mrt=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Crt=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Rrt=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,Ort=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Prt=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Irt=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Drt=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Nrt=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Lrt=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Urt=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,krt=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,zrt=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,Brt=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Frt=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Vrt=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Hrt=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,jrt=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Grt=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,$rt=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,qrt=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Wrt=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Xrt=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Yrt=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Krt=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Zrt=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Qrt=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Jrt=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,tst=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,est=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,nst=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ist=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,rst=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,sst=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,ast=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,ost=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,lst=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,ust=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,cst=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Zn={alphahash_fragment:Int,alphahash_pars_fragment:Dnt,alphamap_fragment:Nnt,alphamap_pars_fragment:Lnt,alphatest_fragment:Unt,alphatest_pars_fragment:knt,aomap_fragment:znt,aomap_pars_fragment:Bnt,batching_pars_vertex:Fnt,batching_vertex:Vnt,begin_vertex:Hnt,beginnormal_vertex:jnt,bsdfs:Gnt,iridescence_fragment:$nt,bumpmap_pars_fragment:qnt,clipping_planes_fragment:Wnt,clipping_planes_pars_fragment:Xnt,clipping_planes_pars_vertex:Ynt,clipping_planes_vertex:Knt,color_fragment:Znt,color_pars_fragment:Qnt,color_pars_vertex:Jnt,color_vertex:tit,common:eit,cube_uv_reflection_fragment:nit,defaultnormal_vertex:iit,displacementmap_pars_vertex:rit,displacementmap_vertex:sit,emissivemap_fragment:ait,emissivemap_pars_fragment:oit,colorspace_fragment:lit,colorspace_pars_fragment:uit,envmap_fragment:cit,envmap_common_pars_fragment:fit,envmap_pars_fragment:hit,envmap_pars_vertex:dit,envmap_physical_pars_fragment:Tit,envmap_vertex:pit,fog_vertex:mit,fog_pars_vertex:git,fog_fragment:yit,fog_pars_fragment:vit,gradientmap_pars_fragment:_it,lightmap_pars_fragment:bit,lights_lambert_fragment:xit,lights_lambert_pars_fragment:Sit,lights_pars_begin:Eit,lights_toon_fragment:wit,lights_toon_pars_fragment:Ait,lights_phong_fragment:Mit,lights_phong_pars_fragment:Cit,lights_physical_fragment:Rit,lights_physical_pars_fragment:Oit,lights_fragment_begin:Pit,lights_fragment_maps:Iit,lights_fragment_end:Dit,logdepthbuf_fragment:Nit,logdepthbuf_pars_fragment:Lit,logdepthbuf_pars_vertex:Uit,logdepthbuf_vertex:kit,map_fragment:zit,map_pars_fragment:Bit,map_particle_fragment:Fit,map_particle_pars_fragment:Vit,metalnessmap_fragment:Hit,metalnessmap_pars_fragment:jit,morphinstance_vertex:Git,morphcolor_vertex:$it,morphnormal_vertex:qit,morphtarget_pars_vertex:Wit,morphtarget_vertex:Xit,normal_fragment_begin:Yit,normal_fragment_maps:Kit,normal_pars_fragment:Zit,normal_pars_vertex:Qit,normal_vertex:Jit,normalmap_pars_fragment:trt,clearcoat_normal_fragment_begin:ert,clearcoat_normal_fragment_maps:nrt,clearcoat_pars_fragment:irt,iridescence_pars_fragment:rrt,opaque_fragment:srt,packing:art,premultiplied_alpha_fragment:ort,project_vertex:lrt,dithering_fragment:urt,dithering_pars_fragment:crt,roughnessmap_fragment:frt,roughnessmap_pars_fragment:hrt,shadowmap_pars_fragment:drt,shadowmap_pars_vertex:prt,shadowmap_vertex:mrt,shadowmask_pars_fragment:grt,skinbase_vertex:yrt,skinning_pars_vertex:vrt,skinning_vertex:_rt,skinnormal_vertex:brt,specularmap_fragment:xrt,specularmap_pars_fragment:Srt,tonemapping_fragment:Ert,tonemapping_pars_fragment:Trt,transmission_fragment:wrt,transmission_pars_fragment:Art,uv_pars_fragment:Mrt,uv_pars_vertex:Crt,uv_vertex:Rrt,worldpos_vertex:Ort,background_vert:Prt,background_frag:Irt,backgroundCube_vert:Drt,backgroundCube_frag:Nrt,cube_vert:Lrt,cube_frag:Urt,depth_vert:krt,depth_frag:zrt,distanceRGBA_vert:Brt,distanceRGBA_frag:Frt,equirect_vert:Vrt,equirect_frag:Hrt,linedashed_vert:jrt,linedashed_frag:Grt,meshbasic_vert:$rt,meshbasic_frag:qrt,meshlambert_vert:Wrt,meshlambert_frag:Xrt,meshmatcap_vert:Yrt,meshmatcap_frag:Krt,meshnormal_vert:Zrt,meshnormal_frag:Qrt,meshphong_vert:Jrt,meshphong_frag:tst,meshphysical_vert:est,meshphysical_frag:nst,meshtoon_vert:ist,meshtoon_frag:rst,points_vert:sst,points_frag:ast,shadow_vert:ost,shadow_frag:lst,sprite_vert:ust,sprite_frag:cst},ze={common:{diffuse:{value:new He(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Hn},alphaMap:{value:null},alphaMapTransform:{value:new Hn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Hn}},envmap:{envMap:{value:null},envMapRotation:{value:new Hn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Hn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Hn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Hn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Hn},normalScale:{value:new me(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Hn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Hn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Hn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Hn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new He(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new He(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Hn},alphaTest:{value:0},uvTransform:{value:new Hn}},sprite:{diffuse:{value:new He(16777215)},opacity:{value:1},center:{value:new me(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Hn},alphaMap:{value:null},alphaMapTransform:{value:new Hn},alphaTest:{value:0}}},wc={basic:{uniforms:xo([ze.common,ze.specularmap,ze.envmap,ze.aomap,ze.lightmap,ze.fog]),vertexShader:Zn.meshbasic_vert,fragmentShader:Zn.meshbasic_frag},lambert:{uniforms:xo([ze.common,ze.specularmap,ze.envmap,ze.aomap,ze.lightmap,ze.emissivemap,ze.bumpmap,ze.normalmap,ze.displacementmap,ze.fog,ze.lights,{emissive:{value:new He(0)}}]),vertexShader:Zn.meshlambert_vert,fragmentShader:Zn.meshlambert_frag},phong:{uniforms:xo([ze.common,ze.specularmap,ze.envmap,ze.aomap,ze.lightmap,ze.emissivemap,ze.bumpmap,ze.normalmap,ze.displacementmap,ze.fog,ze.lights,{emissive:{value:new He(0)},specular:{value:new He(1118481)},shininess:{value:30}}]),vertexShader:Zn.meshphong_vert,fragmentShader:Zn.meshphong_frag},standard:{uniforms:xo([ze.common,ze.envmap,ze.aomap,ze.lightmap,ze.emissivemap,ze.bumpmap,ze.normalmap,ze.displacementmap,ze.roughnessmap,ze.metalnessmap,ze.fog,ze.lights,{emissive:{value:new He(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Zn.meshphysical_vert,fragmentShader:Zn.meshphysical_frag},toon:{uniforms:xo([ze.common,ze.aomap,ze.lightmap,ze.emissivemap,ze.bumpmap,ze.normalmap,ze.displacementmap,ze.gradientmap,ze.fog,ze.lights,{emissive:{value:new He(0)}}]),vertexShader:Zn.meshtoon_vert,fragmentShader:Zn.meshtoon_frag},matcap:{uniforms:xo([ze.common,ze.bumpmap,ze.normalmap,ze.displacementmap,ze.fog,{matcap:{value:null}}]),vertexShader:Zn.meshmatcap_vert,fragmentShader:Zn.meshmatcap_frag},points:{uniforms:xo([ze.points,ze.fog]),vertexShader:Zn.points_vert,fragmentShader:Zn.points_frag},dashed:{uniforms:xo([ze.common,ze.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Zn.linedashed_vert,fragmentShader:Zn.linedashed_frag},depth:{uniforms:xo([ze.common,ze.displacementmap]),vertexShader:Zn.depth_vert,fragmentShader:Zn.depth_frag},normal:{uniforms:xo([ze.common,ze.bumpmap,ze.normalmap,ze.displacementmap,{opacity:{value:1}}]),vertexShader:Zn.meshnormal_vert,fragmentShader:Zn.meshnormal_frag},sprite:{uniforms:xo([ze.sprite,ze.fog]),vertexShader:Zn.sprite_vert,fragmentShader:Zn.sprite_frag},background:{uniforms:{uvTransform:{value:new Hn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Zn.background_vert,fragmentShader:Zn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Hn}},vertexShader:Zn.backgroundCube_vert,fragmentShader:Zn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Zn.cube_vert,fragmentShader:Zn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Zn.equirect_vert,fragmentShader:Zn.equirect_frag},distanceRGBA:{uniforms:xo([ze.common,ze.displacementmap,{referencePosition:{value:new pt},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Zn.distanceRGBA_vert,fragmentShader:Zn.distanceRGBA_frag},shadow:{uniforms:xo([ze.lights,ze.fog,{color:{value:new He(0)},opacity:{value:1}}]),vertexShader:Zn.shadow_vert,fragmentShader:Zn.shadow_frag}};wc.physical={uniforms:xo([wc.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Hn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Hn},clearcoatNormalScale:{value:new me(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Hn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Hn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Hn},sheen:{value:0},sheenColor:{value:new He(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Hn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Hn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Hn},transmissionSamplerSize:{value:new me},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Hn},attenuationDistance:{value:0},attenuationColor:{value:new He(0)},specularColor:{value:new He(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Hn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Hn},anisotropyVector:{value:new me},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Hn}}]),vertexShader:Zn.meshphysical_vert,fragmentShader:Zn.meshphysical_frag};const Jw={r:0,b:0,g:0},Vg=new Zl,fst=new Sn;function hst(i,e,n,r,s,a,o){const l=new He(0);let u=a===!0?0:1,c,h,p=null,g=0,v=null;function b(C){let M=C.isScene===!0?C.background:null;return M&&M.isTexture&&(M=(C.backgroundBlurriness>0?n:e).get(M)),M}function S(C){let M=!1;const P=b(C);P===null?x(l,u):P&&P.isColor&&(x(P,1),M=!0);const k=i.xr.getEnvironmentBlendMode();k==="additive"?r.buffers.color.setClear(0,0,0,1,o):k==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,o),(i.autoClear||M)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),i.clear(i.autoClearColor,i.autoClearDepth,i.autoClearStencil))}function E(C,M){const P=b(M);P&&(P.isCubeTexture||P.mapping===ub)?(h===void 0&&(h=new rs(new n0(1,1,1),new Vu({name:"BackgroundCubeMaterial",uniforms:P_(wc.backgroundCube.uniforms),vertexShader:wc.backgroundCube.vertexShader,fragmentShader:wc.backgroundCube.fragmentShader,side:Mo,depthTest:!1,depthWrite:!1,fog:!1})),h.geometry.deleteAttribute("normal"),h.geometry.deleteAttribute("uv"),h.onBeforeRender=function(k,D,N){this.matrixWorld.copyPosition(N.matrixWorld)},Object.defineProperty(h.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),s.update(h)),Vg.copy(M.backgroundRotation),Vg.x*=-1,Vg.y*=-1,Vg.z*=-1,P.isCubeTexture&&P.isRenderTargetTexture===!1&&(Vg.y*=-1,Vg.z*=-1),h.material.uniforms.envMap.value=P,h.material.uniforms.flipEnvMap.value=P.isCubeTexture&&P.isRenderTargetTexture===!1?-1:1,h.material.uniforms.backgroundBlurriness.value=M.backgroundBlurriness,h.material.uniforms.backgroundIntensity.value=M.backgroundIntensity,h.material.uniforms.backgroundRotation.value.setFromMatrix4(fst.makeRotationFromEuler(Vg)),h.material.toneMapped=vi.getTransfer(P.colorSpace)!==Wi,(p!==P||g!==P.version||v!==i.toneMapping)&&(h.material.needsUpdate=!0,p=P,g=P.version,v=i.toneMapping),h.layers.enableAll(),C.unshift(h,h.geometry,h.material,0,0,null)):P&&P.isTexture&&(c===void 0&&(c=new rs(new hb(2,2),new Vu({name:"BackgroundMaterial",uniforms:P_(wc.background.uniforms),vertexShader:wc.background.vertexShader,fragmentShader:wc.background.fragmentShader,side:Rd,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),s.update(c)),c.material.uniforms.t2D.value=P,c.material.uniforms.backgroundIntensity.value=M.backgroundIntensity,c.material.toneMapped=vi.getTransfer(P.colorSpace)!==Wi,P.matrixAutoUpdate===!0&&P.updateMatrix(),c.material.uniforms.uvTransform.value.copy(P.matrix),(p!==P||g!==P.version||v!==i.toneMapping)&&(c.material.needsUpdate=!0,p=P,g=P.version,v=i.toneMapping),c.layers.enableAll(),C.unshift(c,c.geometry,c.material,0,0,null))}function x(C,M){C.getRGB(Jw,rj(i)),r.buffers.color.setClear(Jw.r,Jw.g,Jw.b,M,o)}function A(){h!==void 0&&(h.geometry.dispose(),h.material.dispose(),h=void 0),c!==void 0&&(c.geometry.dispose(),c.material.dispose(),c=void 0)}return{getClearColor:function(){return l},setClearColor:function(C,M=1){l.set(C),u=M,x(l,u)},getClearAlpha:function(){return u},setClearAlpha:function(C){u=C,x(l,u)},render:S,addToRenderList:E,dispose:A}}function dst(i,e){const n=i.getParameter(i.MAX_VERTEX_ATTRIBS),r={},s=g(null);let a=s,o=!1;function l(R,B,H,V,Y){let et=!1;const G=p(V,H,B);a!==G&&(a=G,c(a.object)),et=v(R,V,H,Y),et&&b(R,V,H,Y),Y!==null&&e.update(Y,i.ELEMENT_ARRAY_BUFFER),(et||o)&&(o=!1,M(R,B,H,V),Y!==null&&i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,e.get(Y).buffer))}function u(){return i.createVertexArray()}function c(R){return i.bindVertexArray(R)}function h(R){return i.deleteVertexArray(R)}function p(R,B,H){const V=H.wireframe===!0;let Y=r[R.id];Y===void 0&&(Y={},r[R.id]=Y);let et=Y[B.id];et===void 0&&(et={},Y[B.id]=et);let G=et[V];return G===void 0&&(G=g(u()),et[V]=G),G}function g(R){const B=[],H=[],V=[];for(let Y=0;Y<n;Y++)B[Y]=0,H[Y]=0,V[Y]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:B,enabledAttributes:H,attributeDivisors:V,object:R,attributes:{},index:null}}function v(R,B,H,V){const Y=a.attributes,et=B.attributes;let G=0;const X=H.getAttributes();for(const J in X)if(X[J].location>=0){const Z=Y[J];let dt=et[J];if(dt===void 0&&(J==="instanceMatrix"&&R.instanceMatrix&&(dt=R.instanceMatrix),J==="instanceColor"&&R.instanceColor&&(dt=R.instanceColor)),Z===void 0||Z.attribute!==dt||dt&&Z.data!==dt.data)return!0;G++}return a.attributesNum!==G||a.index!==V}function b(R,B,H,V){const Y={},et=B.attributes;let G=0;const X=H.getAttributes();for(const J in X)if(X[J].location>=0){let Z=et[J];Z===void 0&&(J==="instanceMatrix"&&R.instanceMatrix&&(Z=R.instanceMatrix),J==="instanceColor"&&R.instanceColor&&(Z=R.instanceColor));const dt={};dt.attribute=Z,Z&&Z.data&&(dt.data=Z.data),Y[J]=dt,G++}a.attributes=Y,a.attributesNum=G,a.index=V}function S(){const R=a.newAttributes;for(let B=0,H=R.length;B<H;B++)R[B]=0}function E(R){x(R,0)}function x(R,B){const H=a.newAttributes,V=a.enabledAttributes,Y=a.attributeDivisors;H[R]=1,V[R]===0&&(i.enableVertexAttribArray(R),V[R]=1),Y[R]!==B&&(i.vertexAttribDivisor(R,B),Y[R]=B)}function A(){const R=a.newAttributes,B=a.enabledAttributes;for(let H=0,V=B.length;H<V;H++)B[H]!==R[H]&&(i.disableVertexAttribArray(H),B[H]=0)}function C(R,B,H,V,Y,et,G){G===!0?i.vertexAttribIPointer(R,B,H,Y,et):i.vertexAttribPointer(R,B,H,V,Y,et)}function M(R,B,H,V){S();const Y=V.attributes,et=H.getAttributes(),G=B.defaultAttributeValues;for(const X in et){const J=et[X];if(J.location>=0){let nt=Y[X];if(nt===void 0&&(X==="instanceMatrix"&&R.instanceMatrix&&(nt=R.instanceMatrix),X==="instanceColor"&&R.instanceColor&&(nt=R.instanceColor)),nt!==void 0){const Z=nt.normalized,dt=nt.itemSize,yt=e.get(nt);if(yt===void 0)continue;const xt=yt.buffer,it=yt.type,ht=yt.bytesPerElement,lt=it===i.INT||it===i.UNSIGNED_INT||nt.gpuType===j2;if(nt.isInterleavedBufferAttribute){const gt=nt.data,Tt=gt.stride,Kt=nt.offset;if(gt.isInstancedInterleavedBuffer){for(let Ut=0;Ut<J.locationSize;Ut++)x(J.location+Ut,gt.meshPerAttribute);R.isInstancedMesh!==!0&&V._maxInstanceCount===void 0&&(V._maxInstanceCount=gt.meshPerAttribute*gt.count)}else for(let Ut=0;Ut<J.locationSize;Ut++)E(J.location+Ut);i.bindBuffer(i.ARRAY_BUFFER,xt);for(let Ut=0;Ut<J.locationSize;Ut++)C(J.location+Ut,dt/J.locationSize,it,Z,Tt*ht,(Kt+dt/J.locationSize*Ut)*ht,lt)}else{if(nt.isInstancedBufferAttribute){for(let gt=0;gt<J.locationSize;gt++)x(J.location+gt,nt.meshPerAttribute);R.isInstancedMesh!==!0&&V._maxInstanceCount===void 0&&(V._maxInstanceCount=nt.meshPerAttribute*nt.count)}else for(let gt=0;gt<J.locationSize;gt++)E(J.location+gt);i.bindBuffer(i.ARRAY_BUFFER,xt);for(let gt=0;gt<J.locationSize;gt++)C(J.location+gt,dt/J.locationSize,it,Z,dt*ht,dt/J.locationSize*gt*ht,lt)}}else if(G!==void 0){const Z=G[X];if(Z!==void 0)switch(Z.length){case 2:i.vertexAttrib2fv(J.location,Z);break;case 3:i.vertexAttrib3fv(J.location,Z);break;case 4:i.vertexAttrib4fv(J.location,Z);break;default:i.vertexAttrib1fv(J.location,Z)}}}}A()}function P(){N();for(const R in r){const B=r[R];for(const H in B){const V=B[H];for(const Y in V)h(V[Y].object),delete V[Y];delete B[H]}delete r[R]}}function k(R){if(r[R.id]===void 0)return;const B=r[R.id];for(const H in B){const V=B[H];for(const Y in V)h(V[Y].object),delete V[Y];delete B[H]}delete r[R.id]}function D(R){for(const B in r){const H=r[B];if(H[R.id]===void 0)continue;const V=H[R.id];for(const Y in V)h(V[Y].object),delete V[Y];delete H[R.id]}}function N(){U(),o=!0,a!==s&&(a=s,c(a.object))}function U(){s.geometry=null,s.program=null,s.wireframe=!1}return{setup:l,reset:N,resetDefaultState:U,dispose:P,releaseStatesOfGeometry:k,releaseStatesOfProgram:D,initAttributes:S,enableAttribute:E,disableUnusedAttributes:A}}function pst(i,e,n){let r;function s(c){r=c}function a(c,h){i.drawArrays(r,c,h),n.update(h,r,1)}function o(c,h,p){p!==0&&(i.drawArraysInstanced(r,c,h,p),n.update(h,r,p))}function l(c,h,p){if(p===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,c,0,h,0,p);let v=0;for(let b=0;b<p;b++)v+=h[b];n.update(v,r,1)}function u(c,h,p,g){if(p===0)return;const v=e.get("WEBGL_multi_draw");if(v===null)for(let b=0;b<c.length;b++)o(c[b],h[b],g[b]);else{v.multiDrawArraysInstancedWEBGL(r,c,0,h,0,g,0,p);let b=0;for(let S=0;S<p;S++)b+=h[S]*g[S];n.update(b,r,1)}}this.setMode=s,this.render=a,this.renderInstances=o,this.renderMultiDraw=l,this.renderMultiDrawInstances=u}function mst(i,e,n,r){let s;function a(){if(s!==void 0)return s;if(e.has("EXT_texture_filter_anisotropic")===!0){const D=e.get("EXT_texture_filter_anisotropic");s=i.getParameter(D.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else s=0;return s}function o(D){return!(D!==Xa&&r.convert(D)!==i.getParameter(i.IMPLEMENTATION_COLOR_READ_FORMAT))}function l(D){const N=D===cb&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(D!==Lc&&r.convert(D)!==i.getParameter(i.IMPLEMENTATION_COLOR_READ_TYPE)&&D!==ll&&!N)}function u(D){if(D==="highp"){if(i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.HIGH_FLOAT).precision>0&&i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT).precision>0)return"highp";D="mediump"}return D==="mediump"&&i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.MEDIUM_FLOAT).precision>0&&i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=n.precision!==void 0?n.precision:"highp";const h=u(c);h!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",h,"instead."),c=h);const p=n.logarithmicDepthBuffer===!0,g=n.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),v=i.getParameter(i.MAX_TEXTURE_IMAGE_UNITS),b=i.getParameter(i.MAX_VERTEX_TEXTURE_IMAGE_UNITS),S=i.getParameter(i.MAX_TEXTURE_SIZE),E=i.getParameter(i.MAX_CUBE_MAP_TEXTURE_SIZE),x=i.getParameter(i.MAX_VERTEX_ATTRIBS),A=i.getParameter(i.MAX_VERTEX_UNIFORM_VECTORS),C=i.getParameter(i.MAX_VARYING_VECTORS),M=i.getParameter(i.MAX_FRAGMENT_UNIFORM_VECTORS),P=b>0,k=i.getParameter(i.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:a,getMaxPrecision:u,textureFormatReadable:o,textureTypeReadable:l,precision:c,logarithmicDepthBuffer:p,reverseDepthBuffer:g,maxTextures:v,maxVertexTextures:b,maxTextureSize:S,maxCubemapSize:E,maxAttributes:x,maxVertexUniforms:A,maxVaryings:C,maxFragmentUniforms:M,vertexTextures:P,maxSamples:k}}function gst(i){const e=this;let n=null,r=0,s=!1,a=!1;const o=new Zp,l=new Hn,u={value:null,needsUpdate:!1};this.uniform=u,this.numPlanes=0,this.numIntersection=0,this.init=function(p,g){const v=p.length!==0||g||r!==0||s;return s=g,r=p.length,v},this.beginShadows=function(){a=!0,h(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(p,g){n=h(p,g,0)},this.setState=function(p,g,v){const b=p.clippingPlanes,S=p.clipIntersection,E=p.clipShadows,x=i.get(p);if(!s||b===null||b.length===0||a&&!E)a?h(null):c();else{const A=a?0:r,C=A*4;let M=x.clippingState||null;u.value=M,M=h(b,g,C,v);for(let P=0;P!==C;++P)M[P]=n[P];x.clippingState=M,this.numIntersection=S?this.numPlanes:0,this.numPlanes+=A}};function c(){u.value!==n&&(u.value=n,u.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function h(p,g,v,b){const S=p!==null?p.length:0;let E=null;if(S!==0){if(E=u.value,b!==!0||E===null){const x=v+S*4,A=g.matrixWorldInverse;l.getNormalMatrix(A),(E===null||E.length<x)&&(E=new Float32Array(x));for(let C=0,M=v;C!==S;++C,M+=4)o.copy(p[C]).applyMatrix4(A,l),o.normal.toArray(E,M),E[M+3]=o.constant}u.value=E,u.needsUpdate=!0}return e.numPlanes=S,e.numIntersection=0,E}}function yst(i){let e=new WeakMap;function n(o,l){return l===gS?o.mapping=Od:l===yS&&(o.mapping=Sm),o}function r(o){if(o&&o.isTexture){const l=o.mapping;if(l===gS||l===yS)if(e.has(o)){const u=e.get(o).texture;return n(u,o.mapping)}else{const u=o.image;if(u&&u.height>0){const c=new oj(u.height);return c.fromEquirectangularTexture(i,o),e.set(o,c),o.addEventListener("dispose",s),n(c.texture,o.mapping)}else return null}}return o}function s(o){const l=o.target;l.removeEventListener("dispose",s);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function a(){e=new WeakMap}return{get:r,dispose:a}}const c_=4,nB=[.125,.215,.35,.446,.526,.582],sy=20,rI=new wE,iB=new He;let sI=null,aI=0,oI=0,lI=!1;const Jg=(1+Math.sqrt(5))/2,Mv=1/Jg,rB=[new pt(-Jg,Mv,0),new pt(Jg,Mv,0),new pt(-Mv,0,Jg),new pt(Mv,0,Jg),new pt(0,Jg,-Mv),new pt(0,Jg,Mv),new pt(-1,1,-1),new pt(1,1,-1),new pt(-1,1,1),new pt(1,1,1)],vst=new pt;class _3{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,s=100,a={}){const{size:o=256,position:l=vst}=a;sI=this._renderer.getRenderTarget(),aI=this._renderer.getActiveCubeFace(),oI=this._renderer.getActiveMipmapLevel(),lI=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(o);const u=this._allocateTargets();return u.depthBuffer=!0,this._sceneToCubeUV(e,r,s,u,l),n>0&&this._blur(u,0,0,n),this._applyPMREM(u),this._cleanup(u),u}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=oB(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=aB(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(sI,aI,oI),this._renderer.xr.enabled=lI,e.scissorTest=!1,tA(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===Od||e.mapping===Sm?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),sI=this._renderer.getRenderTarget(),aI=this._renderer.getActiveCubeFace(),oI=this._renderer.getActiveMipmapLevel(),lI=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:Vs,minFilter:Vs,generateMipmaps:!1,type:cb,format:Xa,colorSpace:Em,depthBuffer:!1},s=sB(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=sB(e,n,r);const{_lodMax:a}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=_st(a)),this._blurMaterial=bst(a,e,n)}return s}_compileMaterial(e){const n=new rs(this._lodPlanes[0],e);this._renderer.compile(n,rI)}_sceneToCubeUV(e,n,r,s,a){const u=new ea(90,1,n,r),c=[1,-1,1,1,1,1],h=[1,1,1,-1,-1,-1],p=this._renderer,g=p.autoClear,v=p.toneMapping;p.getClearColor(iB),p.toneMapping=Kf,p.autoClear=!1;const b=new Lm({name:"PMREM.Background",side:Mo,depthWrite:!1,depthTest:!1}),S=new rs(new n0,b);let E=!1;const x=e.background;x?x.isColor&&(b.color.copy(x),e.background=null,E=!0):(b.color.copy(iB),E=!0);for(let A=0;A<6;A++){const C=A%3;C===0?(u.up.set(0,c[A],0),u.position.set(a.x,a.y,a.z),u.lookAt(a.x+h[A],a.y,a.z)):C===1?(u.up.set(0,0,c[A]),u.position.set(a.x,a.y,a.z),u.lookAt(a.x,a.y+h[A],a.z)):(u.up.set(0,c[A],0),u.position.set(a.x,a.y,a.z),u.lookAt(a.x,a.y,a.z+h[A]));const M=this._cubeSize;tA(s,C*M,A>2?M:0,M,M),p.setRenderTarget(s),E&&p.render(S,u),p.render(e,u)}S.geometry.dispose(),S.material.dispose(),p.toneMapping=v,p.autoClear=g,e.background=x}_textureToCubeUV(e,n){const r=this._renderer,s=e.mapping===Od||e.mapping===Sm;s?(this._cubemapMaterial===null&&(this._cubemapMaterial=oB()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=aB());const a=s?this._cubemapMaterial:this._equirectMaterial,o=new rs(this._lodPlanes[0],a),l=a.uniforms;l.envMap.value=e;const u=this._cubeSize;tA(n,0,0,3*u,2*u),r.setRenderTarget(n),r.render(o,rI)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;const s=this._lodPlanes.length;for(let a=1;a<s;a++){const o=Math.sqrt(this._sigmas[a]*this._sigmas[a]-this._sigmas[a-1]*this._sigmas[a-1]),l=rB[(s-a-1)%rB.length];this._blur(e,a-1,a,o,l)}n.autoClear=r}_blur(e,n,r,s,a){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,r,s,"latitudinal",a),this._halfBlur(o,e,r,r,s,"longitudinal",a)}_halfBlur(e,n,r,s,a,o,l){const u=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const h=3,p=new rs(this._lodPlanes[s],c),g=c.uniforms,v=this._sizeLods[r]-1,b=isFinite(a)?Math.PI/(2*v):2*Math.PI/(2*sy-1),S=a/b,E=isFinite(a)?1+Math.floor(h*S):sy;E>sy&&console.warn(`sigmaRadians, ${a}, is too large and will clip, as it requested ${E} samples when the maximum is set to ${sy}`);const x=[];let A=0;for(let D=0;D<sy;++D){const N=D/S,U=Math.exp(-N*N/2);x.push(U),D===0?A+=U:D<E&&(A+=2*U)}for(let D=0;D<x.length;D++)x[D]=x[D]/A;g.envMap.value=e.texture,g.samples.value=E,g.weights.value=x,g.latitudinal.value=o==="latitudinal",l&&(g.poleAxis.value=l);const{_lodMax:C}=this;g.dTheta.value=b,g.mipInt.value=C-r;const M=this._sizeLods[s],P=3*M*(s>C-c_?s-C+c_:0),k=4*(this._cubeSize-M);tA(n,P,k,3*M,2*M),u.setRenderTarget(n),u.render(p,rI)}}function _st(i){const e=[],n=[],r=[];let s=i;const a=i-c_+1+nB.length;for(let o=0;o<a;o++){const l=Math.pow(2,s);n.push(l);let u=1/l;o>i-c_?u=nB[o-i+c_-1]:o===0&&(u=0),r.push(u);const c=1/(l-2),h=-c,p=1+c,g=[h,h,p,h,p,p,h,h,p,p,h,p],v=6,b=6,S=3,E=2,x=1,A=new Float32Array(S*b*v),C=new Float32Array(E*b*v),M=new Float32Array(x*b*v);for(let k=0;k<v;k++){const D=k%3*2/3-1,N=k>2?0:-1,U=[D,N,0,D+2/3,N,0,D+2/3,N+1,0,D,N,0,D+2/3,N+1,0,D,N+1,0];A.set(U,S*b*k),C.set(g,E*b*k);const R=[k,k,k,k,k,k];M.set(R,x*b*k)}const P=new Wn;P.setAttribute("position",new Xi(A,S)),P.setAttribute("uv",new Xi(C,E)),P.setAttribute("faceIndex",new Xi(M,x)),e.push(P),s>c_&&s--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function sB(i,e,n){const r=new ah(i,e,n);return r.texture.mapping=ub,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function tA(i,e,n,r,s){i.viewport.set(e,n,r,s),i.scissor.set(e,n,r,s)}function bst(i,e,n){const r=new Float32Array(sy),s=new pt(0,1,0);return new Vu({name:"SphericalGaussianBlur",defines:{n:sy,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${i}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:s}},vertexShader:TU(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Td,depthTest:!1,depthWrite:!1})}function aB(){return new Vu({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:TU(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Td,depthTest:!1,depthWrite:!1})}function oB(){return new Vu({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:TU(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Td,depthTest:!1,depthWrite:!1})}function TU(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function xst(i){let e=new WeakMap,n=null;function r(l){if(l&&l.isTexture){const u=l.mapping,c=u===gS||u===yS,h=u===Od||u===Sm;if(c||h){let p=e.get(l);const g=p!==void 0?p.texture.pmremVersion:0;if(l.isRenderTargetTexture&&l.pmremVersion!==g)return n===null&&(n=new _3(i)),p=c?n.fromEquirectangular(l,p):n.fromCubemap(l,p),p.texture.pmremVersion=l.pmremVersion,e.set(l,p),p.texture;if(p!==void 0)return p.texture;{const v=l.image;return c&&v&&v.height>0||h&&v&&s(v)?(n===null&&(n=new _3(i)),p=c?n.fromEquirectangular(l):n.fromCubemap(l),p.texture.pmremVersion=l.pmremVersion,e.set(l,p),l.addEventListener("dispose",a),p.texture):null}}}return l}function s(l){let u=0;const c=6;for(let h=0;h<c;h++)l[h]!==void 0&&u++;return u===c}function a(l){const u=l.target;u.removeEventListener("dispose",a);const c=e.get(u);c!==void 0&&(e.delete(u),c.dispose())}function o(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:o}}function Sst(i){const e={};function n(r){if(e[r]!==void 0)return e[r];let s;switch(r){case"WEBGL_depth_texture":s=i.getExtension("WEBGL_depth_texture")||i.getExtension("MOZ_WEBGL_depth_texture")||i.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":s=i.getExtension("EXT_texture_filter_anisotropic")||i.getExtension("MOZ_EXT_texture_filter_anisotropic")||i.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":s=i.getExtension("WEBGL_compressed_texture_s3tc")||i.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":s=i.getExtension("WEBGL_compressed_texture_pvrtc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:s=i.getExtension(r)}return e[r]=s,s}return{has:function(r){return n(r)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(r){const s=n(r);return s===null&&Qg("THREE.WebGLRenderer: "+r+" extension not supported."),s}}}function Est(i,e,n,r){const s={},a=new WeakMap;function o(p){const g=p.target;g.index!==null&&e.remove(g.index);for(const b in g.attributes)e.remove(g.attributes[b]);g.removeEventListener("dispose",o),delete s[g.id];const v=a.get(g);v&&(e.remove(v),a.delete(g)),r.releaseStatesOfGeometry(g),g.isInstancedBufferGeometry===!0&&delete g._maxInstanceCount,n.memory.geometries--}function l(p,g){return s[g.id]===!0||(g.addEventListener("dispose",o),s[g.id]=!0,n.memory.geometries++),g}function u(p){const g=p.attributes;for(const v in g)e.update(g[v],i.ARRAY_BUFFER)}function c(p){const g=[],v=p.index,b=p.attributes.position;let S=0;if(v!==null){const A=v.array;S=v.version;for(let C=0,M=A.length;C<M;C+=3){const P=A[C+0],k=A[C+1],D=A[C+2];g.push(P,k,k,D,D,P)}}else if(b!==void 0){const A=b.array;S=b.version;for(let C=0,M=A.length/3-1;C<M;C+=3){const P=C+0,k=C+1,D=C+2;g.push(P,k,k,D,D,P)}}else return;const E=new(tj(g)?KL:YL)(g,1);E.version=S;const x=a.get(p);x&&e.remove(x),a.set(p,E)}function h(p){const g=a.get(p);if(g){const v=p.index;v!==null&&g.version<v.version&&c(p)}else c(p);return a.get(p)}return{get:l,update:u,getWireframeAttribute:h}}function Tst(i,e,n){let r;function s(g){r=g}let a,o;function l(g){a=g.type,o=g.bytesPerElement}function u(g,v){i.drawElements(r,v,a,g*o),n.update(v,r,1)}function c(g,v,b){b!==0&&(i.drawElementsInstanced(r,v,a,g*o,b),n.update(v,r,b))}function h(g,v,b){if(b===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,v,0,a,g,0,b);let E=0;for(let x=0;x<b;x++)E+=v[x];n.update(E,r,1)}function p(g,v,b,S){if(b===0)return;const E=e.get("WEBGL_multi_draw");if(E===null)for(let x=0;x<g.length;x++)c(g[x]/o,v[x],S[x]);else{E.multiDrawElementsInstancedWEBGL(r,v,0,a,g,0,S,0,b);let x=0;for(let A=0;A<b;A++)x+=v[A]*S[A];n.update(x,r,1)}}this.setMode=s,this.setIndex=l,this.render=u,this.renderInstances=c,this.renderMultiDraw=h,this.renderMultiDrawInstances=p}function wst(i){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(a,o,l){switch(n.calls++,o){case i.TRIANGLES:n.triangles+=l*(a/3);break;case i.LINES:n.lines+=l*(a/2);break;case i.LINE_STRIP:n.lines+=l*(a-1);break;case i.LINE_LOOP:n.lines+=l*a;break;case i.POINTS:n.points+=l*a;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function s(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:s,update:r}}function Ast(i,e,n){const r=new WeakMap,s=new Ei;function a(o,l,u){const c=o.morphTargetInfluences,h=l.morphAttributes.position||l.morphAttributes.normal||l.morphAttributes.color,p=h!==void 0?h.length:0;let g=r.get(l);if(g===void 0||g.count!==p){let R=function(){N.dispose(),r.delete(l),l.removeEventListener("dispose",R)};var v=R;g!==void 0&&g.texture.dispose();const b=l.morphAttributes.position!==void 0,S=l.morphAttributes.normal!==void 0,E=l.morphAttributes.color!==void 0,x=l.morphAttributes.position||[],A=l.morphAttributes.normal||[],C=l.morphAttributes.color||[];let M=0;b===!0&&(M=1),S===!0&&(M=2),E===!0&&(M=3);let P=l.attributes.position.count*M,k=1;P>e.maxTextureSize&&(k=Math.ceil(P/e.maxTextureSize),P=e.maxTextureSize);const D=new Float32Array(P*k*4*p),N=new gE(D,P,k,p);N.type=ll,N.needsUpdate=!0;const U=M*4;for(let B=0;B<p;B++){const H=x[B],V=A[B],Y=C[B],et=P*k*4*B;for(let G=0;G<H.count;G++){const X=G*U;b===!0&&(s.fromBufferAttribute(H,G),D[et+X+0]=s.x,D[et+X+1]=s.y,D[et+X+2]=s.z,D[et+X+3]=0),S===!0&&(s.fromBufferAttribute(V,G),D[et+X+4]=s.x,D[et+X+5]=s.y,D[et+X+6]=s.z,D[et+X+7]=0),E===!0&&(s.fromBufferAttribute(Y,G),D[et+X+8]=s.x,D[et+X+9]=s.y,D[et+X+10]=s.z,D[et+X+11]=Y.itemSize===4?s.w:1)}}g={count:p,texture:N,size:new me(P,k)},r.set(l,g),l.addEventListener("dispose",R)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)u.getUniforms().setValue(i,"morphTexture",o.morphTexture,n);else{let b=0;for(let E=0;E<c.length;E++)b+=c[E];const S=l.morphTargetsRelative?1:1-b;u.getUniforms().setValue(i,"morphTargetBaseInfluence",S),u.getUniforms().setValue(i,"morphTargetInfluences",c)}u.getUniforms().setValue(i,"morphTargetsTexture",g.texture,n),u.getUniforms().setValue(i,"morphTargetsTextureSize",g.size)}return{update:a}}function Mst(i,e,n,r){let s=new WeakMap;function a(u){const c=r.render.frame,h=u.geometry,p=e.get(u,h);if(s.get(p)!==c&&(e.update(p),s.set(p,c)),u.isInstancedMesh&&(u.hasEventListener("dispose",l)===!1&&u.addEventListener("dispose",l),s.get(u)!==c&&(n.update(u.instanceMatrix,i.ARRAY_BUFFER),u.instanceColor!==null&&n.update(u.instanceColor,i.ARRAY_BUFFER),s.set(u,c))),u.isSkinnedMesh){const g=u.skeleton;s.get(g)!==c&&(g.update(),s.set(g,c))}return p}function o(){s=new WeakMap}function l(u){const c=u.target;c.removeEventListener("dispose",l),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:a,dispose:o}}const nG=new as,lB=new eU(1,1),iG=new gE,rG=new Z2,sG=new yE,uB=[],cB=[],fB=new Float32Array(16),hB=new Float32Array(9),dB=new Float32Array(4);function db(i,e,n){const r=i[0];if(r<=0||r>0)return i;const s=e*n;let a=uB[s];if(a===void 0&&(a=new Float32Array(s),uB[s]=a),e!==0){r.toArray(a,0);for(let o=1,l=0;o!==e;++o)l+=n,i[o].toArray(a,l)}return a}function Gs(i,e){if(i.length!==e.length)return!1;for(let n=0,r=i.length;n<r;n++)if(i[n]!==e[n])return!1;return!0}function $s(i,e){for(let n=0,r=e.length;n<r;n++)i[n]=e[n]}function bR(i,e){let n=cB[e];n===void 0&&(n=new Int32Array(e),cB[e]=n);for(let r=0;r!==e;++r)n[r]=i.allocateTextureUnit();return n}function Cst(i,e){const n=this.cache;n[0]!==e&&(i.uniform1f(this.addr,e),n[0]=e)}function Rst(i,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(i.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Gs(n,e))return;i.uniform2fv(this.addr,e),$s(n,e)}}function Ost(i,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(i.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(i.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Gs(n,e))return;i.uniform3fv(this.addr,e),$s(n,e)}}function Pst(i,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(i.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Gs(n,e))return;i.uniform4fv(this.addr,e),$s(n,e)}}function Ist(i,e){const n=this.cache,r=e.elements;if(r===void 0){if(Gs(n,e))return;i.uniformMatrix2fv(this.addr,!1,e),$s(n,e)}else{if(Gs(n,r))return;dB.set(r),i.uniformMatrix2fv(this.addr,!1,dB),$s(n,r)}}function Dst(i,e){const n=this.cache,r=e.elements;if(r===void 0){if(Gs(n,e))return;i.uniformMatrix3fv(this.addr,!1,e),$s(n,e)}else{if(Gs(n,r))return;hB.set(r),i.uniformMatrix3fv(this.addr,!1,hB),$s(n,r)}}function Nst(i,e){const n=this.cache,r=e.elements;if(r===void 0){if(Gs(n,e))return;i.uniformMatrix4fv(this.addr,!1,e),$s(n,e)}else{if(Gs(n,r))return;fB.set(r),i.uniformMatrix4fv(this.addr,!1,fB),$s(n,r)}}function Lst(i,e){const n=this.cache;n[0]!==e&&(i.uniform1i(this.addr,e),n[0]=e)}function Ust(i,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(i.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Gs(n,e))return;i.uniform2iv(this.addr,e),$s(n,e)}}function kst(i,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(i.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Gs(n,e))return;i.uniform3iv(this.addr,e),$s(n,e)}}function zst(i,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(i.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Gs(n,e))return;i.uniform4iv(this.addr,e),$s(n,e)}}function Bst(i,e){const n=this.cache;n[0]!==e&&(i.uniform1ui(this.addr,e),n[0]=e)}function Fst(i,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(i.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Gs(n,e))return;i.uniform2uiv(this.addr,e),$s(n,e)}}function Vst(i,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(i.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Gs(n,e))return;i.uniform3uiv(this.addr,e),$s(n,e)}}function Hst(i,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(i.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Gs(n,e))return;i.uniform4uiv(this.addr,e),$s(n,e)}}function jst(i,e,n){const r=this.cache,s=n.allocateTextureUnit();r[0]!==s&&(i.uniform1i(this.addr,s),r[0]=s);let a;this.type===i.SAMPLER_2D_SHADOW?(lB.compareFunction=WL,a=lB):a=nG,n.setTexture2D(e||a,s)}function Gst(i,e,n){const r=this.cache,s=n.allocateTextureUnit();r[0]!==s&&(i.uniform1i(this.addr,s),r[0]=s),n.setTexture3D(e||rG,s)}function $st(i,e,n){const r=this.cache,s=n.allocateTextureUnit();r[0]!==s&&(i.uniform1i(this.addr,s),r[0]=s),n.setTextureCube(e||sG,s)}function qst(i,e,n){const r=this.cache,s=n.allocateTextureUnit();r[0]!==s&&(i.uniform1i(this.addr,s),r[0]=s),n.setTexture2DArray(e||iG,s)}function Wst(i){switch(i){case 5126:return Cst;case 35664:return Rst;case 35665:return Ost;case 35666:return Pst;case 35674:return Ist;case 35675:return Dst;case 35676:return Nst;case 5124:case 35670:return Lst;case 35667:case 35671:return Ust;case 35668:case 35672:return kst;case 35669:case 35673:return zst;case 5125:return Bst;case 36294:return Fst;case 36295:return Vst;case 36296:return Hst;case 35678:case 36198:case 36298:case 36306:case 35682:return jst;case 35679:case 36299:case 36307:return Gst;case 35680:case 36300:case 36308:case 36293:return $st;case 36289:case 36303:case 36311:case 36292:return qst}}function Xst(i,e){i.uniform1fv(this.addr,e)}function Yst(i,e){const n=db(e,this.size,2);i.uniform2fv(this.addr,n)}function Kst(i,e){const n=db(e,this.size,3);i.uniform3fv(this.addr,n)}function Zst(i,e){const n=db(e,this.size,4);i.uniform4fv(this.addr,n)}function Qst(i,e){const n=db(e,this.size,4);i.uniformMatrix2fv(this.addr,!1,n)}function Jst(i,e){const n=db(e,this.size,9);i.uniformMatrix3fv(this.addr,!1,n)}function tat(i,e){const n=db(e,this.size,16);i.uniformMatrix4fv(this.addr,!1,n)}function eat(i,e){i.uniform1iv(this.addr,e)}function nat(i,e){i.uniform2iv(this.addr,e)}function iat(i,e){i.uniform3iv(this.addr,e)}function rat(i,e){i.uniform4iv(this.addr,e)}function sat(i,e){i.uniform1uiv(this.addr,e)}function aat(i,e){i.uniform2uiv(this.addr,e)}function oat(i,e){i.uniform3uiv(this.addr,e)}function lat(i,e){i.uniform4uiv(this.addr,e)}function uat(i,e,n){const r=this.cache,s=e.length,a=bR(n,s);Gs(r,a)||(i.uniform1iv(this.addr,a),$s(r,a));for(let o=0;o!==s;++o)n.setTexture2D(e[o]||nG,a[o])}function cat(i,e,n){const r=this.cache,s=e.length,a=bR(n,s);Gs(r,a)||(i.uniform1iv(this.addr,a),$s(r,a));for(let o=0;o!==s;++o)n.setTexture3D(e[o]||rG,a[o])}function fat(i,e,n){const r=this.cache,s=e.length,a=bR(n,s);Gs(r,a)||(i.uniform1iv(this.addr,a),$s(r,a));for(let o=0;o!==s;++o)n.setTextureCube(e[o]||sG,a[o])}function hat(i,e,n){const r=this.cache,s=e.length,a=bR(n,s);Gs(r,a)||(i.uniform1iv(this.addr,a),$s(r,a));for(let o=0;o!==s;++o)n.setTexture2DArray(e[o]||iG,a[o])}function dat(i){switch(i){case 5126:return Xst;case 35664:return Yst;case 35665:return Kst;case 35666:return Zst;case 35674:return Qst;case 35675:return Jst;case 35676:return tat;case 5124:case 35670:return eat;case 35667:case 35671:return nat;case 35668:case 35672:return iat;case 35669:case 35673:return rat;case 5125:return sat;case 36294:return aat;case 36295:return oat;case 36296:return lat;case 35678:case 36198:case 36298:case 36306:case 35682:return uat;case 35679:case 36299:case 36307:return cat;case 35680:case 36300:case 36308:case 36293:return fat;case 36289:case 36303:case 36311:case 36292:return hat}}class pat{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=Wst(n.type)}}class mat{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=dat(n.type)}}class gat{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const s=this.seq;for(let a=0,o=s.length;a!==o;++a){const l=s[a];l.setValue(e,n[l.id],r)}}}const uI=/(\w+)(\])?(\[|\.)?/g;function pB(i,e){i.seq.push(e),i.map[e.id]=e}function yat(i,e,n){const r=i.name,s=r.length;for(uI.lastIndex=0;;){const a=uI.exec(r),o=uI.lastIndex;let l=a[1];const u=a[2]==="]",c=a[3];if(u&&(l=l|0),c===void 0||c==="["&&o+2===s){pB(n,c===void 0?new pat(l,i,e):new mat(l,i,e));break}else{let p=n.map[l];p===void 0&&(p=new gat(l),pB(n,p)),n=p}}}class oM{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let s=0;s<r;++s){const a=e.getActiveUniform(n,s),o=e.getUniformLocation(n,a.name);yat(a,o,this)}}setValue(e,n,r,s){const a=this.map[n];a!==void 0&&a.setValue(e,r,s)}setOptional(e,n,r){const s=n[r];s!==void 0&&this.setValue(e,r,s)}static upload(e,n,r,s){for(let a=0,o=n.length;a!==o;++a){const l=n[a],u=r[l.id];u.needsUpdate!==!1&&l.setValue(e,u.value,s)}}static seqWithValue(e,n){const r=[];for(let s=0,a=e.length;s!==a;++s){const o=e[s];o.id in n&&r.push(o)}return r}}function mB(i,e,n){const r=i.createShader(e);return i.shaderSource(r,n),i.compileShader(r),r}const vat=37297;let _at=0;function bat(i,e){const n=i.split(`
`),r=[],s=Math.max(e-6,0),a=Math.min(e+6,n.length);for(let o=s;o<a;o++){const l=o+1;r.push(`${l===e?">":" "} ${l}: ${n[o]}`)}return r.join(`
`)}const gB=new Hn;function xat(i){vi._getMatrix(gB,vi.workingColorSpace,i);const e=`mat3( ${gB.elements.map(n=>n.toFixed(4))} )`;switch(vi.getTransfer(i)){case SS:return[e,"LinearTransferOETF"];case Wi:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",i),[e,"LinearTransferOETF"]}}function yB(i,e,n){const r=i.getShaderParameter(e,i.COMPILE_STATUS),s=i.getShaderInfoLog(e).trim();if(r&&s==="")return"";const a=/ERROR: 0:(\d+)/.exec(s);if(a){const o=parseInt(a[1]);return n.toUpperCase()+`

`+s+`

`+bat(i.getShaderSource(e),o)}else return s}function Sat(i,e){const n=xat(e);return[`vec4 ${i}( vec4 value ) {`,`	return ${n[1]}( vec4( value.rgb * ${n[0]}, value.a ) );`,"}"].join(`
`)}function Eat(i,e){let n;switch(e){case D7:n="Linear";break;case N7:n="Reinhard";break;case L7:n="Cineon";break;case LL:n="ACESFilmic";break;case k7:n="AgX";break;case z7:n="Neutral";break;case U7:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+i+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const eA=new pt;function Tat(){vi.getLuminanceCoefficients(eA);const i=eA.x.toFixed(4),e=eA.y.toFixed(4),n=eA.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${i}, ${e}, ${n} );`,"	return dot( weights, rgb );","}"].join(`
`)}function wat(i){return[i.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",i.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(w1).join(`
`)}function Aat(i){const e=[];for(const n in i){const r=i[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function Mat(i,e){const n={},r=i.getProgramParameter(e,i.ACTIVE_ATTRIBUTES);for(let s=0;s<r;s++){const a=i.getActiveAttrib(e,s),o=a.name;let l=1;a.type===i.FLOAT_MAT2&&(l=2),a.type===i.FLOAT_MAT3&&(l=3),a.type===i.FLOAT_MAT4&&(l=4),n[o]={type:a.type,location:i.getAttribLocation(e,o),locationSize:l}}return n}function w1(i){return i!==""}function vB(i,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return i.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function _B(i,e){return i.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Cat=/^[ \t]*#include +<([\w\d./]+)>/gm;function b3(i){return i.replace(Cat,Oat)}const Rat=new Map;function Oat(i,e){let n=Zn[e];if(n===void 0){const r=Rat.get(e);if(r!==void 0)n=Zn[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return b3(n)}const Pat=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function bB(i){return i.replace(Pat,Iat)}function Iat(i,e,n,r){let s="";for(let a=parseInt(e);a<parseInt(n);a++)s+=r.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return s}function xB(i){let e=`precision ${i.precision} float;
	precision ${i.precision} int;
	precision ${i.precision} sampler2D;
	precision ${i.precision} samplerCube;
	precision ${i.precision} sampler3D;
	precision ${i.precision} sampler2DArray;
	precision ${i.precision} sampler2DShadow;
	precision ${i.precision} samplerCubeShadow;
	precision ${i.precision} sampler2DArrayShadow;
	precision ${i.precision} isampler2D;
	precision ${i.precision} isampler3D;
	precision ${i.precision} isamplerCube;
	precision ${i.precision} isampler2DArray;
	precision ${i.precision} usampler2D;
	precision ${i.precision} usampler3D;
	precision ${i.precision} usamplerCube;
	precision ${i.precision} usampler2DArray;
	`;return i.precision==="highp"?e+=`
#define HIGH_PRECISION`:i.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:i.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function Dat(i){let e="SHADOWMAP_TYPE_BASIC";return i.shadowMapType===V2?e="SHADOWMAP_TYPE_PCF":i.shadowMapType===B1?e="SHADOWMAP_TYPE_PCF_SOFT":i.shadowMapType===Ec&&(e="SHADOWMAP_TYPE_VSM"),e}function Nat(i){let e="ENVMAP_TYPE_CUBE";if(i.envMap)switch(i.envMapMode){case Od:case Sm:e="ENVMAP_TYPE_CUBE";break;case ub:e="ENVMAP_TYPE_CUBE_UV";break}return e}function Lat(i){let e="ENVMAP_MODE_REFLECTION";if(i.envMap)switch(i.envMapMode){case Sm:e="ENVMAP_MODE_REFRACTION";break}return e}function Uat(i){let e="ENVMAP_BLENDING_NONE";if(i.envMap)switch(i.combine){case pE:e="ENVMAP_BLENDING_MULTIPLY";break;case P7:e="ENVMAP_BLENDING_MIX";break;case I7:e="ENVMAP_BLENDING_ADD";break}return e}function kat(i){const e=i.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function zat(i,e,n,r){const s=i.getContext(),a=n.defines;let o=n.vertexShader,l=n.fragmentShader;const u=Dat(n),c=Nat(n),h=Lat(n),p=Uat(n),g=kat(n),v=wat(n),b=Aat(a),S=s.createProgram();let E,x,A=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(E=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,b].filter(w1).join(`
`),E.length>0&&(E+=`
`),x=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,b].filter(w1).join(`
`),x.length>0&&(x+=`
`)):(E=[xB(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,b,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+h:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+u:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(w1).join(`
`),x=[xB(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,b,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+h:"",n.envMap?"#define "+p:"",g?"#define CUBEUV_TEXEL_WIDTH "+g.texelWidth:"",g?"#define CUBEUV_TEXEL_HEIGHT "+g.texelHeight:"",g?"#define CUBEUV_MAX_MIP "+g.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+u:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Kf?"#define TONE_MAPPING":"",n.toneMapping!==Kf?Zn.tonemapping_pars_fragment:"",n.toneMapping!==Kf?Eat("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Zn.colorspace_pars_fragment,Sat("linearToOutputTexel",n.outputColorSpace),Tat(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(w1).join(`
`)),o=b3(o),o=vB(o,n),o=_B(o,n),l=b3(l),l=vB(l,n),l=_B(l,n),o=bB(o),l=bB(l),n.isRawShaderMaterial!==!0&&(A=`#version 300 es
`,E=[v,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+E,x=["#define varying in",n.glslVersion===f3?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===f3?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+x);const C=A+E+o,M=A+x+l,P=mB(s,s.VERTEX_SHADER,C),k=mB(s,s.FRAGMENT_SHADER,M);s.attachShader(S,P),s.attachShader(S,k),n.index0AttributeName!==void 0?s.bindAttribLocation(S,0,n.index0AttributeName):n.morphTargets===!0&&s.bindAttribLocation(S,0,"position"),s.linkProgram(S);function D(B){if(i.debug.checkShaderErrors){const H=s.getProgramInfoLog(S).trim(),V=s.getShaderInfoLog(P).trim(),Y=s.getShaderInfoLog(k).trim();let et=!0,G=!0;if(s.getProgramParameter(S,s.LINK_STATUS)===!1)if(et=!1,typeof i.debug.onShaderError=="function")i.debug.onShaderError(s,S,P,k);else{const X=yB(s,P,"vertex"),J=yB(s,k,"fragment");console.error("THREE.WebGLProgram: Shader Error "+s.getError()+" - VALIDATE_STATUS "+s.getProgramParameter(S,s.VALIDATE_STATUS)+`

Material Name: `+B.name+`
Material Type: `+B.type+`

Program Info Log: `+H+`
`+X+`
`+J)}else H!==""?console.warn("THREE.WebGLProgram: Program Info Log:",H):(V===""||Y==="")&&(G=!1);G&&(B.diagnostics={runnable:et,programLog:H,vertexShader:{log:V,prefix:E},fragmentShader:{log:Y,prefix:x}})}s.deleteShader(P),s.deleteShader(k),N=new oM(s,S),U=Mat(s,S)}let N;this.getUniforms=function(){return N===void 0&&D(this),N};let U;this.getAttributes=function(){return U===void 0&&D(this),U};let R=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return R===!1&&(R=s.getProgramParameter(S,vat)),R},this.destroy=function(){r.releaseStatesOfProgram(this),s.deleteProgram(S),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=_at++,this.cacheKey=e,this.usedTimes=1,this.program=S,this.vertexShader=P,this.fragmentShader=k,this}let Bat=0;class Fat{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,s=this._getShaderStage(n),a=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(s)===!1&&(o.add(s),s.usedTimes++),o.has(a)===!1&&(o.add(a),a.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new Vat(e),n.set(e,r)),r}}class Vat{constructor(e){this.id=Bat++,this.code=e,this.usedTimes=0}}function Hat(i,e,n,r,s,a,o){const l=new O_,u=new Fat,c=new Set,h=[],p=s.logarithmicDepthBuffer,g=s.vertexTextures;let v=s.precision;const b={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function S(U){return c.add(U),U===0?"uv":`uv${U}`}function E(U,R,B,H,V){const Y=H.fog,et=V.geometry,G=U.isMeshStandardMaterial?H.environment:null,X=(U.isMeshStandardMaterial?n:e).get(U.envMap||G),J=X&&X.mapping===ub?X.image.height:null,nt=b[U.type];U.precision!==null&&(v=s.getMaxPrecision(U.precision),v!==U.precision&&console.warn("THREE.WebGLProgram.getParameters:",U.precision,"not supported, using",v,"instead."));const Z=et.morphAttributes.position||et.morphAttributes.normal||et.morphAttributes.color,dt=Z!==void 0?Z.length:0;let yt=0;et.morphAttributes.position!==void 0&&(yt=1),et.morphAttributes.normal!==void 0&&(yt=2),et.morphAttributes.color!==void 0&&(yt=3);let xt,it,ht,lt;if(nt){const en=wc[nt];xt=en.vertexShader,it=en.fragmentShader}else xt=U.vertexShader,it=U.fragmentShader,u.update(U),ht=u.getVertexShaderID(U),lt=u.getFragmentShaderID(U);const gt=i.getRenderTarget(),Tt=i.state.buffers.depth.getReversed(),Kt=V.isInstancedMesh===!0,Ut=V.isBatchedMesh===!0,te=!!U.map,Pt=!!U.matcap,Bt=!!X,at=!!U.aoMap,ce=!!U.lightMap,ee=!!U.bumpMap,ne=!!U.normalMap,ie=!!U.displacementMap,Me=!!U.emissiveMap,le=!!U.metalnessMap,ut=!!U.roughnessMap,j=U.anisotropy>0,ct=U.clearcoat>0,mt=U.dispersion>0,Rt=U.iridescence>0,_t=U.sheen>0,Ct=U.transmission>0,Lt=j&&!!U.anisotropyMap,Jt=ct&&!!U.clearcoatMap,Le=ct&&!!U.clearcoatNormalMap,Ht=ct&&!!U.clearcoatRoughnessMap,_e=Rt&&!!U.iridescenceMap,Re=Rt&&!!U.iridescenceThicknessMap,Oe=_t&&!!U.sheenColorMap,Zt=_t&&!!U.sheenRoughnessMap,Ie=!!U.specularMap,Ue=!!U.specularColorMap,ln=!!U.specularIntensityMap,wt=Ct&&!!U.transmissionMap,Ce=Ct&&!!U.thicknessMap,Xt=!!U.gradientMap,se=!!U.alphaMap,Pe=U.alphaTest>0,Se=!!U.alphaHash,cn=!!U.extensions;let Qn=Kf;U.toneMapped&&(gt===null||gt.isXRRenderTarget===!0)&&(Qn=i.toneMapping);const je={shaderID:nt,shaderType:U.type,shaderName:U.name,vertexShader:xt,fragmentShader:it,defines:U.defines,customVertexShaderID:ht,customFragmentShaderID:lt,isRawShaderMaterial:U.isRawShaderMaterial===!0,glslVersion:U.glslVersion,precision:v,batching:Ut,batchingColor:Ut&&V._colorsTexture!==null,instancing:Kt,instancingColor:Kt&&V.instanceColor!==null,instancingMorph:Kt&&V.morphTexture!==null,supportsVertexTextures:g,outputColorSpace:gt===null?i.outputColorSpace:gt.isXRRenderTarget===!0?gt.texture.colorSpace:Em,alphaToCoverage:!!U.alphaToCoverage,map:te,matcap:Pt,envMap:Bt,envMapMode:Bt&&X.mapping,envMapCubeUVHeight:J,aoMap:at,lightMap:ce,bumpMap:ee,normalMap:ne,displacementMap:g&&ie,emissiveMap:Me,normalMapObjectSpace:ne&&U.normalMapType===$7,normalMapTangentSpace:ne&&U.normalMapType===Nm,metalnessMap:le,roughnessMap:ut,anisotropy:j,anisotropyMap:Lt,clearcoat:ct,clearcoatMap:Jt,clearcoatNormalMap:Le,clearcoatRoughnessMap:Ht,dispersion:mt,iridescence:Rt,iridescenceMap:_e,iridescenceThicknessMap:Re,sheen:_t,sheenColorMap:Oe,sheenRoughnessMap:Zt,specularMap:Ie,specularColorMap:Ue,specularIntensityMap:ln,transmission:Ct,transmissionMap:wt,thicknessMap:Ce,gradientMap:Xt,opaque:U.transparent===!1&&U.blending===Sy&&U.alphaToCoverage===!1,alphaMap:se,alphaTest:Pe,alphaHash:Se,combine:U.combine,mapUv:te&&S(U.map.channel),aoMapUv:at&&S(U.aoMap.channel),lightMapUv:ce&&S(U.lightMap.channel),bumpMapUv:ee&&S(U.bumpMap.channel),normalMapUv:ne&&S(U.normalMap.channel),displacementMapUv:ie&&S(U.displacementMap.channel),emissiveMapUv:Me&&S(U.emissiveMap.channel),metalnessMapUv:le&&S(U.metalnessMap.channel),roughnessMapUv:ut&&S(U.roughnessMap.channel),anisotropyMapUv:Lt&&S(U.anisotropyMap.channel),clearcoatMapUv:Jt&&S(U.clearcoatMap.channel),clearcoatNormalMapUv:Le&&S(U.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Ht&&S(U.clearcoatRoughnessMap.channel),iridescenceMapUv:_e&&S(U.iridescenceMap.channel),iridescenceThicknessMapUv:Re&&S(U.iridescenceThicknessMap.channel),sheenColorMapUv:Oe&&S(U.sheenColorMap.channel),sheenRoughnessMapUv:Zt&&S(U.sheenRoughnessMap.channel),specularMapUv:Ie&&S(U.specularMap.channel),specularColorMapUv:Ue&&S(U.specularColorMap.channel),specularIntensityMapUv:ln&&S(U.specularIntensityMap.channel),transmissionMapUv:wt&&S(U.transmissionMap.channel),thicknessMapUv:Ce&&S(U.thicknessMap.channel),alphaMapUv:se&&S(U.alphaMap.channel),vertexTangents:!!et.attributes.tangent&&(ne||j),vertexColors:U.vertexColors,vertexAlphas:U.vertexColors===!0&&!!et.attributes.color&&et.attributes.color.itemSize===4,pointsUvs:V.isPoints===!0&&!!et.attributes.uv&&(te||se),fog:!!Y,useFog:U.fog===!0,fogExp2:!!Y&&Y.isFogExp2,flatShading:U.flatShading===!0,sizeAttenuation:U.sizeAttenuation===!0,logarithmicDepthBuffer:p,reverseDepthBuffer:Tt,skinning:V.isSkinnedMesh===!0,morphTargets:et.morphAttributes.position!==void 0,morphNormals:et.morphAttributes.normal!==void 0,morphColors:et.morphAttributes.color!==void 0,morphTargetsCount:dt,morphTextureStride:yt,numDirLights:R.directional.length,numPointLights:R.point.length,numSpotLights:R.spot.length,numSpotLightMaps:R.spotLightMap.length,numRectAreaLights:R.rectArea.length,numHemiLights:R.hemi.length,numDirLightShadows:R.directionalShadowMap.length,numPointLightShadows:R.pointShadowMap.length,numSpotLightShadows:R.spotShadowMap.length,numSpotLightShadowsWithMaps:R.numSpotLightShadowsWithMaps,numLightProbes:R.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:U.dithering,shadowMapEnabled:i.shadowMap.enabled&&B.length>0,shadowMapType:i.shadowMap.type,toneMapping:Qn,decodeVideoTexture:te&&U.map.isVideoTexture===!0&&vi.getTransfer(U.map.colorSpace)===Wi,decodeVideoTextureEmissive:Me&&U.emissiveMap.isVideoTexture===!0&&vi.getTransfer(U.emissiveMap.colorSpace)===Wi,premultipliedAlpha:U.premultipliedAlpha,doubleSided:U.side===Vf,flipSided:U.side===Mo,useDepthPacking:U.depthPacking>=0,depthPacking:U.depthPacking||0,index0AttributeName:U.index0AttributeName,extensionClipCullDistance:cn&&U.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(cn&&U.extensions.multiDraw===!0||Ut)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:U.customProgramCacheKey()};return je.vertexUv1s=c.has(1),je.vertexUv2s=c.has(2),je.vertexUv3s=c.has(3),c.clear(),je}function x(U){const R=[];if(U.shaderID?R.push(U.shaderID):(R.push(U.customVertexShaderID),R.push(U.customFragmentShaderID)),U.defines!==void 0)for(const B in U.defines)R.push(B),R.push(U.defines[B]);return U.isRawShaderMaterial===!1&&(A(R,U),C(R,U),R.push(i.outputColorSpace)),R.push(U.customProgramCacheKey),R.join()}function A(U,R){U.push(R.precision),U.push(R.outputColorSpace),U.push(R.envMapMode),U.push(R.envMapCubeUVHeight),U.push(R.mapUv),U.push(R.alphaMapUv),U.push(R.lightMapUv),U.push(R.aoMapUv),U.push(R.bumpMapUv),U.push(R.normalMapUv),U.push(R.displacementMapUv),U.push(R.emissiveMapUv),U.push(R.metalnessMapUv),U.push(R.roughnessMapUv),U.push(R.anisotropyMapUv),U.push(R.clearcoatMapUv),U.push(R.clearcoatNormalMapUv),U.push(R.clearcoatRoughnessMapUv),U.push(R.iridescenceMapUv),U.push(R.iridescenceThicknessMapUv),U.push(R.sheenColorMapUv),U.push(R.sheenRoughnessMapUv),U.push(R.specularMapUv),U.push(R.specularColorMapUv),U.push(R.specularIntensityMapUv),U.push(R.transmissionMapUv),U.push(R.thicknessMapUv),U.push(R.combine),U.push(R.fogExp2),U.push(R.sizeAttenuation),U.push(R.morphTargetsCount),U.push(R.morphAttributeCount),U.push(R.numDirLights),U.push(R.numPointLights),U.push(R.numSpotLights),U.push(R.numSpotLightMaps),U.push(R.numHemiLights),U.push(R.numRectAreaLights),U.push(R.numDirLightShadows),U.push(R.numPointLightShadows),U.push(R.numSpotLightShadows),U.push(R.numSpotLightShadowsWithMaps),U.push(R.numLightProbes),U.push(R.shadowMapType),U.push(R.toneMapping),U.push(R.numClippingPlanes),U.push(R.numClipIntersection),U.push(R.depthPacking)}function C(U,R){l.disableAll(),R.supportsVertexTextures&&l.enable(0),R.instancing&&l.enable(1),R.instancingColor&&l.enable(2),R.instancingMorph&&l.enable(3),R.matcap&&l.enable(4),R.envMap&&l.enable(5),R.normalMapObjectSpace&&l.enable(6),R.normalMapTangentSpace&&l.enable(7),R.clearcoat&&l.enable(8),R.iridescence&&l.enable(9),R.alphaTest&&l.enable(10),R.vertexColors&&l.enable(11),R.vertexAlphas&&l.enable(12),R.vertexUv1s&&l.enable(13),R.vertexUv2s&&l.enable(14),R.vertexUv3s&&l.enable(15),R.vertexTangents&&l.enable(16),R.anisotropy&&l.enable(17),R.alphaHash&&l.enable(18),R.batching&&l.enable(19),R.dispersion&&l.enable(20),R.batchingColor&&l.enable(21),U.push(l.mask),l.disableAll(),R.fog&&l.enable(0),R.useFog&&l.enable(1),R.flatShading&&l.enable(2),R.logarithmicDepthBuffer&&l.enable(3),R.reverseDepthBuffer&&l.enable(4),R.skinning&&l.enable(5),R.morphTargets&&l.enable(6),R.morphNormals&&l.enable(7),R.morphColors&&l.enable(8),R.premultipliedAlpha&&l.enable(9),R.shadowMapEnabled&&l.enable(10),R.doubleSided&&l.enable(11),R.flipSided&&l.enable(12),R.useDepthPacking&&l.enable(13),R.dithering&&l.enable(14),R.transmission&&l.enable(15),R.sheen&&l.enable(16),R.opaque&&l.enable(17),R.pointsUvs&&l.enable(18),R.decodeVideoTexture&&l.enable(19),R.decodeVideoTextureEmissive&&l.enable(20),R.alphaToCoverage&&l.enable(21),U.push(l.mask)}function M(U){const R=b[U.type];let B;if(R){const H=wc[R];B=sj.clone(H.uniforms)}else B=U.uniforms;return B}function P(U,R){let B;for(let H=0,V=h.length;H<V;H++){const Y=h[H];if(Y.cacheKey===R){B=Y,++B.usedTimes;break}}return B===void 0&&(B=new zat(i,R,U,a),h.push(B)),B}function k(U){if(--U.usedTimes===0){const R=h.indexOf(U);h[R]=h[h.length-1],h.pop(),U.destroy()}}function D(U){u.remove(U)}function N(){u.dispose()}return{getParameters:E,getProgramCacheKey:x,getUniforms:M,acquireProgram:P,releaseProgram:k,releaseShaderCache:D,programs:h,dispose:N}}function jat(){let i=new WeakMap;function e(o){return i.has(o)}function n(o){let l=i.get(o);return l===void 0&&(l={},i.set(o,l)),l}function r(o){i.delete(o)}function s(o,l,u){i.get(o)[l]=u}function a(){i=new WeakMap}return{has:e,get:n,remove:r,update:s,dispose:a}}function Gat(i,e){return i.groupOrder!==e.groupOrder?i.groupOrder-e.groupOrder:i.renderOrder!==e.renderOrder?i.renderOrder-e.renderOrder:i.material.id!==e.material.id?i.material.id-e.material.id:i.z!==e.z?i.z-e.z:i.id-e.id}function SB(i,e){return i.groupOrder!==e.groupOrder?i.groupOrder-e.groupOrder:i.renderOrder!==e.renderOrder?i.renderOrder-e.renderOrder:i.z!==e.z?e.z-i.z:i.id-e.id}function EB(){const i=[];let e=0;const n=[],r=[],s=[];function a(){e=0,n.length=0,r.length=0,s.length=0}function o(p,g,v,b,S,E){let x=i[e];return x===void 0?(x={id:p.id,object:p,geometry:g,material:v,groupOrder:b,renderOrder:p.renderOrder,z:S,group:E},i[e]=x):(x.id=p.id,x.object=p,x.geometry=g,x.material=v,x.groupOrder=b,x.renderOrder=p.renderOrder,x.z=S,x.group=E),e++,x}function l(p,g,v,b,S,E){const x=o(p,g,v,b,S,E);v.transmission>0?r.push(x):v.transparent===!0?s.push(x):n.push(x)}function u(p,g,v,b,S,E){const x=o(p,g,v,b,S,E);v.transmission>0?r.unshift(x):v.transparent===!0?s.unshift(x):n.unshift(x)}function c(p,g){n.length>1&&n.sort(p||Gat),r.length>1&&r.sort(g||SB),s.length>1&&s.sort(g||SB)}function h(){for(let p=e,g=i.length;p<g;p++){const v=i[p];if(v.id===null)break;v.id=null,v.object=null,v.geometry=null,v.material=null,v.group=null}}return{opaque:n,transmissive:r,transparent:s,init:a,push:l,unshift:u,finish:h,sort:c}}function $at(){let i=new WeakMap;function e(r,s){const a=i.get(r);let o;return a===void 0?(o=new EB,i.set(r,[o])):s>=a.length?(o=new EB,a.push(o)):o=a[s],o}function n(){i=new WeakMap}return{get:e,dispose:n}}function qat(){const i={};return{get:function(e){if(i[e.id]!==void 0)return i[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new pt,color:new He};break;case"SpotLight":n={position:new pt,direction:new pt,color:new He,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new pt,color:new He,distance:0,decay:0};break;case"HemisphereLight":n={direction:new pt,skyColor:new He,groundColor:new He};break;case"RectAreaLight":n={color:new He,position:new pt,halfWidth:new pt,halfHeight:new pt};break}return i[e.id]=n,n}}}function Wat(){const i={};return{get:function(e){if(i[e.id]!==void 0)return i[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new me};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new me};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new me,shadowCameraNear:1,shadowCameraFar:1e3};break}return i[e.id]=n,n}}}let Xat=0;function Yat(i,e){return(e.castShadow?2:0)-(i.castShadow?2:0)+(e.map?1:0)-(i.map?1:0)}function Kat(i){const e=new qat,n=Wat(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)r.probe.push(new pt);const s=new pt,a=new Sn,o=new Sn;function l(c){let h=0,p=0,g=0;for(let U=0;U<9;U++)r.probe[U].set(0,0,0);let v=0,b=0,S=0,E=0,x=0,A=0,C=0,M=0,P=0,k=0,D=0;c.sort(Yat);for(let U=0,R=c.length;U<R;U++){const B=c[U],H=B.color,V=B.intensity,Y=B.distance,et=B.shadow&&B.shadow.map?B.shadow.map.texture:null;if(B.isAmbientLight)h+=H.r*V,p+=H.g*V,g+=H.b*V;else if(B.isLightProbe){for(let G=0;G<9;G++)r.probe[G].addScaledVector(B.sh.coefficients[G],V);D++}else if(B.isDirectionalLight){const G=e.get(B);if(G.color.copy(B.color).multiplyScalar(B.intensity),B.castShadow){const X=B.shadow,J=n.get(B);J.shadowIntensity=X.intensity,J.shadowBias=X.bias,J.shadowNormalBias=X.normalBias,J.shadowRadius=X.radius,J.shadowMapSize=X.mapSize,r.directionalShadow[v]=J,r.directionalShadowMap[v]=et,r.directionalShadowMatrix[v]=B.shadow.matrix,A++}r.directional[v]=G,v++}else if(B.isSpotLight){const G=e.get(B);G.position.setFromMatrixPosition(B.matrixWorld),G.color.copy(H).multiplyScalar(V),G.distance=Y,G.coneCos=Math.cos(B.angle),G.penumbraCos=Math.cos(B.angle*(1-B.penumbra)),G.decay=B.decay,r.spot[S]=G;const X=B.shadow;if(B.map&&(r.spotLightMap[P]=B.map,P++,X.updateMatrices(B),B.castShadow&&k++),r.spotLightMatrix[S]=X.matrix,B.castShadow){const J=n.get(B);J.shadowIntensity=X.intensity,J.shadowBias=X.bias,J.shadowNormalBias=X.normalBias,J.shadowRadius=X.radius,J.shadowMapSize=X.mapSize,r.spotShadow[S]=J,r.spotShadowMap[S]=et,M++}S++}else if(B.isRectAreaLight){const G=e.get(B);G.color.copy(H).multiplyScalar(V),G.halfWidth.set(B.width*.5,0,0),G.halfHeight.set(0,B.height*.5,0),r.rectArea[E]=G,E++}else if(B.isPointLight){const G=e.get(B);if(G.color.copy(B.color).multiplyScalar(B.intensity),G.distance=B.distance,G.decay=B.decay,B.castShadow){const X=B.shadow,J=n.get(B);J.shadowIntensity=X.intensity,J.shadowBias=X.bias,J.shadowNormalBias=X.normalBias,J.shadowRadius=X.radius,J.shadowMapSize=X.mapSize,J.shadowCameraNear=X.camera.near,J.shadowCameraFar=X.camera.far,r.pointShadow[b]=J,r.pointShadowMap[b]=et,r.pointShadowMatrix[b]=B.shadow.matrix,C++}r.point[b]=G,b++}else if(B.isHemisphereLight){const G=e.get(B);G.skyColor.copy(B.color).multiplyScalar(V),G.groundColor.copy(B.groundColor).multiplyScalar(V),r.hemi[x]=G,x++}}E>0&&(i.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=ze.LTC_FLOAT_1,r.rectAreaLTC2=ze.LTC_FLOAT_2):(r.rectAreaLTC1=ze.LTC_HALF_1,r.rectAreaLTC2=ze.LTC_HALF_2)),r.ambient[0]=h,r.ambient[1]=p,r.ambient[2]=g;const N=r.hash;(N.directionalLength!==v||N.pointLength!==b||N.spotLength!==S||N.rectAreaLength!==E||N.hemiLength!==x||N.numDirectionalShadows!==A||N.numPointShadows!==C||N.numSpotShadows!==M||N.numSpotMaps!==P||N.numLightProbes!==D)&&(r.directional.length=v,r.spot.length=S,r.rectArea.length=E,r.point.length=b,r.hemi.length=x,r.directionalShadow.length=A,r.directionalShadowMap.length=A,r.pointShadow.length=C,r.pointShadowMap.length=C,r.spotShadow.length=M,r.spotShadowMap.length=M,r.directionalShadowMatrix.length=A,r.pointShadowMatrix.length=C,r.spotLightMatrix.length=M+P-k,r.spotLightMap.length=P,r.numSpotLightShadowsWithMaps=k,r.numLightProbes=D,N.directionalLength=v,N.pointLength=b,N.spotLength=S,N.rectAreaLength=E,N.hemiLength=x,N.numDirectionalShadows=A,N.numPointShadows=C,N.numSpotShadows=M,N.numSpotMaps=P,N.numLightProbes=D,r.version=Xat++)}function u(c,h){let p=0,g=0,v=0,b=0,S=0;const E=h.matrixWorldInverse;for(let x=0,A=c.length;x<A;x++){const C=c[x];if(C.isDirectionalLight){const M=r.directional[p];M.direction.setFromMatrixPosition(C.matrixWorld),s.setFromMatrixPosition(C.target.matrixWorld),M.direction.sub(s),M.direction.transformDirection(E),p++}else if(C.isSpotLight){const M=r.spot[v];M.position.setFromMatrixPosition(C.matrixWorld),M.position.applyMatrix4(E),M.direction.setFromMatrixPosition(C.matrixWorld),s.setFromMatrixPosition(C.target.matrixWorld),M.direction.sub(s),M.direction.transformDirection(E),v++}else if(C.isRectAreaLight){const M=r.rectArea[b];M.position.setFromMatrixPosition(C.matrixWorld),M.position.applyMatrix4(E),o.identity(),a.copy(C.matrixWorld),a.premultiply(E),o.extractRotation(a),M.halfWidth.set(C.width*.5,0,0),M.halfHeight.set(0,C.height*.5,0),M.halfWidth.applyMatrix4(o),M.halfHeight.applyMatrix4(o),b++}else if(C.isPointLight){const M=r.point[g];M.position.setFromMatrixPosition(C.matrixWorld),M.position.applyMatrix4(E),g++}else if(C.isHemisphereLight){const M=r.hemi[S];M.direction.setFromMatrixPosition(C.matrixWorld),M.direction.transformDirection(E),S++}}}return{setup:l,setupView:u,state:r}}function TB(i){const e=new Kat(i),n=[],r=[];function s(h){c.camera=h,n.length=0,r.length=0}function a(h){n.push(h)}function o(h){r.push(h)}function l(){e.setup(n)}function u(h){e.setupView(n,h)}const c={lightsArray:n,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:s,state:c,setupLights:l,setupLightsView:u,pushLight:a,pushShadow:o}}function Zat(i){let e=new WeakMap;function n(s,a=0){const o=e.get(s);let l;return o===void 0?(l=new TB(i),e.set(s,[l])):a>=o.length?(l=new TB(i),o.push(l)):l=o[a],l}function r(){e=new WeakMap}return{get:n,dispose:r}}const Qat=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Jat=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function tot(i,e,n){let r=new vE;const s=new me,a=new me,o=new Ei,l=new uU({depthPacking:G7}),u=new cU,c={},h=n.maxTextureSize,p={[Rd]:Mo,[Mo]:Rd,[Vf]:Vf},g=new Vu({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new me},radius:{value:4}},vertexShader:Qat,fragmentShader:Jat}),v=g.clone();v.defines.HORIZONTAL_PASS=1;const b=new Wn;b.setAttribute("position",new Xi(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const S=new rs(b,g),E=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=V2;let x=this.type;this.render=function(k,D,N){if(E.enabled===!1||E.autoUpdate===!1&&E.needsUpdate===!1||k.length===0)return;const U=i.getRenderTarget(),R=i.getActiveCubeFace(),B=i.getActiveMipmapLevel(),H=i.state;H.setBlending(Td),H.buffers.color.setClear(1,1,1,1),H.buffers.depth.setTest(!0),H.setScissorTest(!1);const V=x!==Ec&&this.type===Ec,Y=x===Ec&&this.type!==Ec;for(let et=0,G=k.length;et<G;et++){const X=k[et],J=X.shadow;if(J===void 0){console.warn("THREE.WebGLShadowMap:",X,"has no shadow.");continue}if(J.autoUpdate===!1&&J.needsUpdate===!1)continue;s.copy(J.mapSize);const nt=J.getFrameExtents();if(s.multiply(nt),a.copy(J.mapSize),(s.x>h||s.y>h)&&(s.x>h&&(a.x=Math.floor(h/nt.x),s.x=a.x*nt.x,J.mapSize.x=a.x),s.y>h&&(a.y=Math.floor(h/nt.y),s.y=a.y*nt.y,J.mapSize.y=a.y)),J.map===null||V===!0||Y===!0){const dt=this.type!==Ec?{minFilter:ba,magFilter:ba}:{};J.map!==null&&J.map.dispose(),J.map=new ah(s.x,s.y,dt),J.map.texture.name=X.name+".shadowMap",J.camera.updateProjectionMatrix()}i.setRenderTarget(J.map),i.clear();const Z=J.getViewportCount();for(let dt=0;dt<Z;dt++){const yt=J.getViewport(dt);o.set(a.x*yt.x,a.y*yt.y,a.x*yt.z,a.y*yt.w),H.viewport(o),J.updateMatrices(X,dt),r=J.getFrustum(),M(D,N,J.camera,X,this.type)}J.isPointLightShadow!==!0&&this.type===Ec&&A(J,N),J.needsUpdate=!1}x=this.type,E.needsUpdate=!1,i.setRenderTarget(U,R,B)};function A(k,D){const N=e.update(S);g.defines.VSM_SAMPLES!==k.blurSamples&&(g.defines.VSM_SAMPLES=k.blurSamples,v.defines.VSM_SAMPLES=k.blurSamples,g.needsUpdate=!0,v.needsUpdate=!0),k.mapPass===null&&(k.mapPass=new ah(s.x,s.y)),g.uniforms.shadow_pass.value=k.map.texture,g.uniforms.resolution.value=k.mapSize,g.uniforms.radius.value=k.radius,i.setRenderTarget(k.mapPass),i.clear(),i.renderBufferDirect(D,null,N,g,S,null),v.uniforms.shadow_pass.value=k.mapPass.texture,v.uniforms.resolution.value=k.mapSize,v.uniforms.radius.value=k.radius,i.setRenderTarget(k.map),i.clear(),i.renderBufferDirect(D,null,N,v,S,null)}function C(k,D,N,U){let R=null;const B=N.isPointLight===!0?k.customDistanceMaterial:k.customDepthMaterial;if(B!==void 0)R=B;else if(R=N.isPointLight===!0?u:l,i.localClippingEnabled&&D.clipShadows===!0&&Array.isArray(D.clippingPlanes)&&D.clippingPlanes.length!==0||D.displacementMap&&D.displacementScale!==0||D.alphaMap&&D.alphaTest>0||D.map&&D.alphaTest>0){const H=R.uuid,V=D.uuid;let Y=c[H];Y===void 0&&(Y={},c[H]=Y);let et=Y[V];et===void 0&&(et=R.clone(),Y[V]=et,D.addEventListener("dispose",P)),R=et}if(R.visible=D.visible,R.wireframe=D.wireframe,U===Ec?R.side=D.shadowSide!==null?D.shadowSide:D.side:R.side=D.shadowSide!==null?D.shadowSide:p[D.side],R.alphaMap=D.alphaMap,R.alphaTest=D.alphaTest,R.map=D.map,R.clipShadows=D.clipShadows,R.clippingPlanes=D.clippingPlanes,R.clipIntersection=D.clipIntersection,R.displacementMap=D.displacementMap,R.displacementScale=D.displacementScale,R.displacementBias=D.displacementBias,R.wireframeLinewidth=D.wireframeLinewidth,R.linewidth=D.linewidth,N.isPointLight===!0&&R.isMeshDistanceMaterial===!0){const H=i.properties.get(R);H.light=N}return R}function M(k,D,N,U,R){if(k.visible===!1)return;if(k.layers.test(D.layers)&&(k.isMesh||k.isLine||k.isPoints)&&(k.castShadow||k.receiveShadow&&R===Ec)&&(!k.frustumCulled||r.intersectsObject(k))){k.modelViewMatrix.multiplyMatrices(N.matrixWorldInverse,k.matrixWorld);const V=e.update(k),Y=k.material;if(Array.isArray(Y)){const et=V.groups;for(let G=0,X=et.length;G<X;G++){const J=et[G],nt=Y[J.materialIndex];if(nt&&nt.visible){const Z=C(k,nt,U,R);k.onBeforeShadow(i,k,D,N,V,Z,J),i.renderBufferDirect(N,null,V,Z,k,J),k.onAfterShadow(i,k,D,N,V,Z,J)}}}else if(Y.visible){const et=C(k,Y,U,R);k.onBeforeShadow(i,k,D,N,V,et,null),i.renderBufferDirect(N,null,V,et,k,null),k.onAfterShadow(i,k,D,N,V,et,null)}}const H=k.children;for(let V=0,Y=H.length;V<Y;V++)M(H[V],D,N,U,R)}function P(k){k.target.removeEventListener("dispose",P);for(const N in c){const U=c[N],R=k.target.uuid;R in U&&(U[R].dispose(),delete U[R])}}}const eot={[GM]:$M,[qM]:YM,[WM]:KM,[ky]:XM,[$M]:GM,[YM]:qM,[KM]:WM,[XM]:ky};function not(i,e){function n(){let wt=!1;const Ce=new Ei;let Xt=null;const se=new Ei(0,0,0,0);return{setMask:function(Pe){Xt!==Pe&&!wt&&(i.colorMask(Pe,Pe,Pe,Pe),Xt=Pe)},setLocked:function(Pe){wt=Pe},setClear:function(Pe,Se,cn,Qn,je){je===!0&&(Pe*=Qn,Se*=Qn,cn*=Qn),Ce.set(Pe,Se,cn,Qn),se.equals(Ce)===!1&&(i.clearColor(Pe,Se,cn,Qn),se.copy(Ce))},reset:function(){wt=!1,Xt=null,se.set(-1,0,0,0)}}}function r(){let wt=!1,Ce=!1,Xt=null,se=null,Pe=null;return{setReversed:function(Se){if(Ce!==Se){const cn=e.get("EXT_clip_control");Ce?cn.clipControlEXT(cn.LOWER_LEFT_EXT,cn.ZERO_TO_ONE_EXT):cn.clipControlEXT(cn.LOWER_LEFT_EXT,cn.NEGATIVE_ONE_TO_ONE_EXT);const Qn=Pe;Pe=null,this.setClear(Qn)}Ce=Se},getReversed:function(){return Ce},setTest:function(Se){Se?gt(i.DEPTH_TEST):Tt(i.DEPTH_TEST)},setMask:function(Se){Xt!==Se&&!wt&&(i.depthMask(Se),Xt=Se)},setFunc:function(Se){if(Ce&&(Se=eot[Se]),se!==Se){switch(Se){case GM:i.depthFunc(i.NEVER);break;case $M:i.depthFunc(i.ALWAYS);break;case qM:i.depthFunc(i.LESS);break;case ky:i.depthFunc(i.LEQUAL);break;case WM:i.depthFunc(i.EQUAL);break;case XM:i.depthFunc(i.GEQUAL);break;case YM:i.depthFunc(i.GREATER);break;case KM:i.depthFunc(i.NOTEQUAL);break;default:i.depthFunc(i.LEQUAL)}se=Se}},setLocked:function(Se){wt=Se},setClear:function(Se){Pe!==Se&&(Ce&&(Se=1-Se),i.clearDepth(Se),Pe=Se)},reset:function(){wt=!1,Xt=null,se=null,Pe=null,Ce=!1}}}function s(){let wt=!1,Ce=null,Xt=null,se=null,Pe=null,Se=null,cn=null,Qn=null,je=null;return{setTest:function(en){wt||(en?gt(i.STENCIL_TEST):Tt(i.STENCIL_TEST))},setMask:function(en){Ce!==en&&!wt&&(i.stencilMask(en),Ce=en)},setFunc:function(en,Ee,ye){(Xt!==en||se!==Ee||Pe!==ye)&&(i.stencilFunc(en,Ee,ye),Xt=en,se=Ee,Pe=ye)},setOp:function(en,Ee,ye){(Se!==en||cn!==Ee||Qn!==ye)&&(i.stencilOp(en,Ee,ye),Se=en,cn=Ee,Qn=ye)},setLocked:function(en){wt=en},setClear:function(en){je!==en&&(i.clearStencil(en),je=en)},reset:function(){wt=!1,Ce=null,Xt=null,se=null,Pe=null,Se=null,cn=null,Qn=null,je=null}}}const a=new n,o=new r,l=new s,u=new WeakMap,c=new WeakMap;let h={},p={},g=new WeakMap,v=[],b=null,S=!1,E=null,x=null,A=null,C=null,M=null,P=null,k=null,D=new He(0,0,0),N=0,U=!1,R=null,B=null,H=null,V=null,Y=null;const et=i.getParameter(i.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let G=!1,X=0;const J=i.getParameter(i.VERSION);J.indexOf("WebGL")!==-1?(X=parseFloat(/^WebGL (\d)/.exec(J)[1]),G=X>=1):J.indexOf("OpenGL ES")!==-1&&(X=parseFloat(/^OpenGL ES (\d)/.exec(J)[1]),G=X>=2);let nt=null,Z={};const dt=i.getParameter(i.SCISSOR_BOX),yt=i.getParameter(i.VIEWPORT),xt=new Ei().fromArray(dt),it=new Ei().fromArray(yt);function ht(wt,Ce,Xt,se){const Pe=new Uint8Array(4),Se=i.createTexture();i.bindTexture(wt,Se),i.texParameteri(wt,i.TEXTURE_MIN_FILTER,i.NEAREST),i.texParameteri(wt,i.TEXTURE_MAG_FILTER,i.NEAREST);for(let cn=0;cn<Xt;cn++)wt===i.TEXTURE_3D||wt===i.TEXTURE_2D_ARRAY?i.texImage3D(Ce,0,i.RGBA,1,1,se,0,i.RGBA,i.UNSIGNED_BYTE,Pe):i.texImage2D(Ce+cn,0,i.RGBA,1,1,0,i.RGBA,i.UNSIGNED_BYTE,Pe);return Se}const lt={};lt[i.TEXTURE_2D]=ht(i.TEXTURE_2D,i.TEXTURE_2D,1),lt[i.TEXTURE_CUBE_MAP]=ht(i.TEXTURE_CUBE_MAP,i.TEXTURE_CUBE_MAP_POSITIVE_X,6),lt[i.TEXTURE_2D_ARRAY]=ht(i.TEXTURE_2D_ARRAY,i.TEXTURE_2D_ARRAY,1,1),lt[i.TEXTURE_3D]=ht(i.TEXTURE_3D,i.TEXTURE_3D,1,1),a.setClear(0,0,0,1),o.setClear(1),l.setClear(0),gt(i.DEPTH_TEST),o.setFunc(ky),ee(!1),ne(a3),gt(i.CULL_FACE),at(Td);function gt(wt){h[wt]!==!0&&(i.enable(wt),h[wt]=!0)}function Tt(wt){h[wt]!==!1&&(i.disable(wt),h[wt]=!1)}function Kt(wt,Ce){return p[wt]!==Ce?(i.bindFramebuffer(wt,Ce),p[wt]=Ce,wt===i.DRAW_FRAMEBUFFER&&(p[i.FRAMEBUFFER]=Ce),wt===i.FRAMEBUFFER&&(p[i.DRAW_FRAMEBUFFER]=Ce),!0):!1}function Ut(wt,Ce){let Xt=v,se=!1;if(wt){Xt=g.get(Ce),Xt===void 0&&(Xt=[],g.set(Ce,Xt));const Pe=wt.textures;if(Xt.length!==Pe.length||Xt[0]!==i.COLOR_ATTACHMENT0){for(let Se=0,cn=Pe.length;Se<cn;Se++)Xt[Se]=i.COLOR_ATTACHMENT0+Se;Xt.length=Pe.length,se=!0}}else Xt[0]!==i.BACK&&(Xt[0]=i.BACK,se=!0);se&&i.drawBuffers(Xt)}function te(wt){return b!==wt?(i.useProgram(wt),b=wt,!0):!1}const Pt={[tm]:i.FUNC_ADD,[p7]:i.FUNC_SUBTRACT,[m7]:i.FUNC_REVERSE_SUBTRACT};Pt[g7]=i.MIN,Pt[y7]=i.MAX;const Bt={[v7]:i.ZERO,[_7]:i.ONE,[b7]:i.SRC_COLOR,[HM]:i.SRC_ALPHA,[A7]:i.SRC_ALPHA_SATURATE,[T7]:i.DST_COLOR,[S7]:i.DST_ALPHA,[x7]:i.ONE_MINUS_SRC_COLOR,[jM]:i.ONE_MINUS_SRC_ALPHA,[w7]:i.ONE_MINUS_DST_COLOR,[E7]:i.ONE_MINUS_DST_ALPHA,[M7]:i.CONSTANT_COLOR,[C7]:i.ONE_MINUS_CONSTANT_COLOR,[R7]:i.CONSTANT_ALPHA,[O7]:i.ONE_MINUS_CONSTANT_ALPHA};function at(wt,Ce,Xt,se,Pe,Se,cn,Qn,je,en){if(wt===Td){S===!0&&(Tt(i.BLEND),S=!1);return}if(S===!1&&(gt(i.BLEND),S=!0),wt!==d7){if(wt!==E||en!==U){if((x!==tm||M!==tm)&&(i.blendEquation(i.FUNC_ADD),x=tm,M=tm),en)switch(wt){case Sy:i.blendFuncSeparate(i.ONE,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case VM:i.blendFunc(i.ONE,i.ONE);break;case o3:i.blendFuncSeparate(i.ZERO,i.ONE_MINUS_SRC_COLOR,i.ZERO,i.ONE);break;case l3:i.blendFuncSeparate(i.ZERO,i.SRC_COLOR,i.ZERO,i.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",wt);break}else switch(wt){case Sy:i.blendFuncSeparate(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case VM:i.blendFunc(i.SRC_ALPHA,i.ONE);break;case o3:i.blendFuncSeparate(i.ZERO,i.ONE_MINUS_SRC_COLOR,i.ZERO,i.ONE);break;case l3:i.blendFunc(i.ZERO,i.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",wt);break}A=null,C=null,P=null,k=null,D.set(0,0,0),N=0,E=wt,U=en}return}Pe=Pe||Ce,Se=Se||Xt,cn=cn||se,(Ce!==x||Pe!==M)&&(i.blendEquationSeparate(Pt[Ce],Pt[Pe]),x=Ce,M=Pe),(Xt!==A||se!==C||Se!==P||cn!==k)&&(i.blendFuncSeparate(Bt[Xt],Bt[se],Bt[Se],Bt[cn]),A=Xt,C=se,P=Se,k=cn),(Qn.equals(D)===!1||je!==N)&&(i.blendColor(Qn.r,Qn.g,Qn.b,je),D.copy(Qn),N=je),E=wt,U=!1}function ce(wt,Ce){wt.side===Vf?Tt(i.CULL_FACE):gt(i.CULL_FACE);let Xt=wt.side===Mo;Ce&&(Xt=!Xt),ee(Xt),wt.blending===Sy&&wt.transparent===!1?at(Td):at(wt.blending,wt.blendEquation,wt.blendSrc,wt.blendDst,wt.blendEquationAlpha,wt.blendSrcAlpha,wt.blendDstAlpha,wt.blendColor,wt.blendAlpha,wt.premultipliedAlpha),o.setFunc(wt.depthFunc),o.setTest(wt.depthTest),o.setMask(wt.depthWrite),a.setMask(wt.colorWrite);const se=wt.stencilWrite;l.setTest(se),se&&(l.setMask(wt.stencilWriteMask),l.setFunc(wt.stencilFunc,wt.stencilRef,wt.stencilFuncMask),l.setOp(wt.stencilFail,wt.stencilZFail,wt.stencilZPass)),Me(wt.polygonOffset,wt.polygonOffsetFactor,wt.polygonOffsetUnits),wt.alphaToCoverage===!0?gt(i.SAMPLE_ALPHA_TO_COVERAGE):Tt(i.SAMPLE_ALPHA_TO_COVERAGE)}function ee(wt){R!==wt&&(wt?i.frontFace(i.CW):i.frontFace(i.CCW),R=wt)}function ne(wt){wt!==c7?(gt(i.CULL_FACE),wt!==B&&(wt===a3?i.cullFace(i.BACK):wt===f7?i.cullFace(i.FRONT):i.cullFace(i.FRONT_AND_BACK))):Tt(i.CULL_FACE),B=wt}function ie(wt){wt!==H&&(G&&i.lineWidth(wt),H=wt)}function Me(wt,Ce,Xt){wt?(gt(i.POLYGON_OFFSET_FILL),(V!==Ce||Y!==Xt)&&(i.polygonOffset(Ce,Xt),V=Ce,Y=Xt)):Tt(i.POLYGON_OFFSET_FILL)}function le(wt){wt?gt(i.SCISSOR_TEST):Tt(i.SCISSOR_TEST)}function ut(wt){wt===void 0&&(wt=i.TEXTURE0+et-1),nt!==wt&&(i.activeTexture(wt),nt=wt)}function j(wt,Ce,Xt){Xt===void 0&&(nt===null?Xt=i.TEXTURE0+et-1:Xt=nt);let se=Z[Xt];se===void 0&&(se={type:void 0,texture:void 0},Z[Xt]=se),(se.type!==wt||se.texture!==Ce)&&(nt!==Xt&&(i.activeTexture(Xt),nt=Xt),i.bindTexture(wt,Ce||lt[wt]),se.type=wt,se.texture=Ce)}function ct(){const wt=Z[nt];wt!==void 0&&wt.type!==void 0&&(i.bindTexture(wt.type,null),wt.type=void 0,wt.texture=void 0)}function mt(){try{i.compressedTexImage2D(...arguments)}catch(wt){console.error("THREE.WebGLState:",wt)}}function Rt(){try{i.compressedTexImage3D(...arguments)}catch(wt){console.error("THREE.WebGLState:",wt)}}function _t(){try{i.texSubImage2D(...arguments)}catch(wt){console.error("THREE.WebGLState:",wt)}}function Ct(){try{i.texSubImage3D(...arguments)}catch(wt){console.error("THREE.WebGLState:",wt)}}function Lt(){try{i.compressedTexSubImage2D(...arguments)}catch(wt){console.error("THREE.WebGLState:",wt)}}function Jt(){try{i.compressedTexSubImage3D(...arguments)}catch(wt){console.error("THREE.WebGLState:",wt)}}function Le(){try{i.texStorage2D(...arguments)}catch(wt){console.error("THREE.WebGLState:",wt)}}function Ht(){try{i.texStorage3D(...arguments)}catch(wt){console.error("THREE.WebGLState:",wt)}}function _e(){try{i.texImage2D(...arguments)}catch(wt){console.error("THREE.WebGLState:",wt)}}function Re(){try{i.texImage3D(...arguments)}catch(wt){console.error("THREE.WebGLState:",wt)}}function Oe(wt){xt.equals(wt)===!1&&(i.scissor(wt.x,wt.y,wt.z,wt.w),xt.copy(wt))}function Zt(wt){it.equals(wt)===!1&&(i.viewport(wt.x,wt.y,wt.z,wt.w),it.copy(wt))}function Ie(wt,Ce){let Xt=c.get(Ce);Xt===void 0&&(Xt=new WeakMap,c.set(Ce,Xt));let se=Xt.get(wt);se===void 0&&(se=i.getUniformBlockIndex(Ce,wt.name),Xt.set(wt,se))}function Ue(wt,Ce){const se=c.get(Ce).get(wt);u.get(Ce)!==se&&(i.uniformBlockBinding(Ce,se,wt.__bindingPointIndex),u.set(Ce,se))}function ln(){i.disable(i.BLEND),i.disable(i.CULL_FACE),i.disable(i.DEPTH_TEST),i.disable(i.POLYGON_OFFSET_FILL),i.disable(i.SCISSOR_TEST),i.disable(i.STENCIL_TEST),i.disable(i.SAMPLE_ALPHA_TO_COVERAGE),i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ONE,i.ZERO),i.blendFuncSeparate(i.ONE,i.ZERO,i.ONE,i.ZERO),i.blendColor(0,0,0,0),i.colorMask(!0,!0,!0,!0),i.clearColor(0,0,0,0),i.depthMask(!0),i.depthFunc(i.LESS),o.setReversed(!1),i.clearDepth(1),i.stencilMask(4294967295),i.stencilFunc(i.ALWAYS,0,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.KEEP),i.clearStencil(0),i.cullFace(i.BACK),i.frontFace(i.CCW),i.polygonOffset(0,0),i.activeTexture(i.TEXTURE0),i.bindFramebuffer(i.FRAMEBUFFER,null),i.bindFramebuffer(i.DRAW_FRAMEBUFFER,null),i.bindFramebuffer(i.READ_FRAMEBUFFER,null),i.useProgram(null),i.lineWidth(1),i.scissor(0,0,i.canvas.width,i.canvas.height),i.viewport(0,0,i.canvas.width,i.canvas.height),h={},nt=null,Z={},p={},g=new WeakMap,v=[],b=null,S=!1,E=null,x=null,A=null,C=null,M=null,P=null,k=null,D=new He(0,0,0),N=0,U=!1,R=null,B=null,H=null,V=null,Y=null,xt.set(0,0,i.canvas.width,i.canvas.height),it.set(0,0,i.canvas.width,i.canvas.height),a.reset(),o.reset(),l.reset()}return{buffers:{color:a,depth:o,stencil:l},enable:gt,disable:Tt,bindFramebuffer:Kt,drawBuffers:Ut,useProgram:te,setBlending:at,setMaterial:ce,setFlipSided:ee,setCullFace:ne,setLineWidth:ie,setPolygonOffset:Me,setScissorTest:le,activeTexture:ut,bindTexture:j,unbindTexture:ct,compressedTexImage2D:mt,compressedTexImage3D:Rt,texImage2D:_e,texImage3D:Re,updateUBOMapping:Ie,uniformBlockBinding:Ue,texStorage2D:Le,texStorage3D:Ht,texSubImage2D:_t,texSubImage3D:Ct,compressedTexSubImage2D:Lt,compressedTexSubImage3D:Jt,scissor:Oe,viewport:Zt,reset:ln}}function iot(i,e,n,r,s,a,o){const l=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,u=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new me,h=new WeakMap;let p;const g=new WeakMap;let v=!1;try{v=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function b(ut,j){return v?new OffscreenCanvas(ut,j):wS("canvas")}function S(ut,j,ct){let mt=1;const Rt=le(ut);if((Rt.width>ct||Rt.height>ct)&&(mt=ct/Math.max(Rt.width,Rt.height)),mt<1)if(typeof HTMLImageElement<"u"&&ut instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&ut instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&ut instanceof ImageBitmap||typeof VideoFrame<"u"&&ut instanceof VideoFrame){const _t=Math.floor(mt*Rt.width),Ct=Math.floor(mt*Rt.height);p===void 0&&(p=b(_t,Ct));const Lt=j?b(_t,Ct):p;return Lt.width=_t,Lt.height=Ct,Lt.getContext("2d").drawImage(ut,0,0,_t,Ct),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Rt.width+"x"+Rt.height+") to ("+_t+"x"+Ct+")."),Lt}else return"data"in ut&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Rt.width+"x"+Rt.height+")."),ut;return ut}function E(ut){return ut.generateMipmaps}function x(ut){i.generateMipmap(ut)}function A(ut){return ut.isWebGLCubeRenderTarget?i.TEXTURE_CUBE_MAP:ut.isWebGL3DRenderTarget?i.TEXTURE_3D:ut.isWebGLArrayRenderTarget||ut.isCompressedArrayTexture?i.TEXTURE_2D_ARRAY:i.TEXTURE_2D}function C(ut,j,ct,mt,Rt=!1){if(ut!==null){if(i[ut]!==void 0)return i[ut];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+ut+"'")}let _t=j;if(j===i.RED&&(ct===i.FLOAT&&(_t=i.R32F),ct===i.HALF_FLOAT&&(_t=i.R16F),ct===i.UNSIGNED_BYTE&&(_t=i.R8)),j===i.RED_INTEGER&&(ct===i.UNSIGNED_BYTE&&(_t=i.R8UI),ct===i.UNSIGNED_SHORT&&(_t=i.R16UI),ct===i.UNSIGNED_INT&&(_t=i.R32UI),ct===i.BYTE&&(_t=i.R8I),ct===i.SHORT&&(_t=i.R16I),ct===i.INT&&(_t=i.R32I)),j===i.RG&&(ct===i.FLOAT&&(_t=i.RG32F),ct===i.HALF_FLOAT&&(_t=i.RG16F),ct===i.UNSIGNED_BYTE&&(_t=i.RG8)),j===i.RG_INTEGER&&(ct===i.UNSIGNED_BYTE&&(_t=i.RG8UI),ct===i.UNSIGNED_SHORT&&(_t=i.RG16UI),ct===i.UNSIGNED_INT&&(_t=i.RG32UI),ct===i.BYTE&&(_t=i.RG8I),ct===i.SHORT&&(_t=i.RG16I),ct===i.INT&&(_t=i.RG32I)),j===i.RGB_INTEGER&&(ct===i.UNSIGNED_BYTE&&(_t=i.RGB8UI),ct===i.UNSIGNED_SHORT&&(_t=i.RGB16UI),ct===i.UNSIGNED_INT&&(_t=i.RGB32UI),ct===i.BYTE&&(_t=i.RGB8I),ct===i.SHORT&&(_t=i.RGB16I),ct===i.INT&&(_t=i.RGB32I)),j===i.RGBA_INTEGER&&(ct===i.UNSIGNED_BYTE&&(_t=i.RGBA8UI),ct===i.UNSIGNED_SHORT&&(_t=i.RGBA16UI),ct===i.UNSIGNED_INT&&(_t=i.RGBA32UI),ct===i.BYTE&&(_t=i.RGBA8I),ct===i.SHORT&&(_t=i.RGBA16I),ct===i.INT&&(_t=i.RGBA32I)),j===i.RGB&&ct===i.UNSIGNED_INT_5_9_9_9_REV&&(_t=i.RGB9_E5),j===i.RGBA){const Ct=Rt?SS:vi.getTransfer(mt);ct===i.FLOAT&&(_t=i.RGBA32F),ct===i.HALF_FLOAT&&(_t=i.RGBA16F),ct===i.UNSIGNED_BYTE&&(_t=Ct===Wi?i.SRGB8_ALPHA8:i.RGBA8),ct===i.UNSIGNED_SHORT_4_4_4_4&&(_t=i.RGBA4),ct===i.UNSIGNED_SHORT_5_5_5_1&&(_t=i.RGB5_A1)}return(_t===i.R16F||_t===i.R32F||_t===i.RG16F||_t===i.RG32F||_t===i.RGBA16F||_t===i.RGBA32F)&&e.get("EXT_color_buffer_float"),_t}function M(ut,j){let ct;return ut?j===null||j===Pd||j===zy?ct=i.DEPTH24_STENCIL8:j===ll?ct=i.DEPTH32F_STENCIL8:j===C_&&(ct=i.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):j===null||j===Pd||j===zy?ct=i.DEPTH_COMPONENT24:j===ll?ct=i.DEPTH_COMPONENT32F:j===C_&&(ct=i.DEPTH_COMPONENT16),ct}function P(ut,j){return E(ut)===!0||ut.isFramebufferTexture&&ut.minFilter!==ba&&ut.minFilter!==Vs?Math.log2(Math.max(j.width,j.height))+1:ut.mipmaps!==void 0&&ut.mipmaps.length>0?ut.mipmaps.length:ut.isCompressedTexture&&Array.isArray(ut.image)?j.mipmaps.length:1}function k(ut){const j=ut.target;j.removeEventListener("dispose",k),N(j),j.isVideoTexture&&h.delete(j)}function D(ut){const j=ut.target;j.removeEventListener("dispose",D),R(j)}function N(ut){const j=r.get(ut);if(j.__webglInit===void 0)return;const ct=ut.source,mt=g.get(ct);if(mt){const Rt=mt[j.__cacheKey];Rt.usedTimes--,Rt.usedTimes===0&&U(ut),Object.keys(mt).length===0&&g.delete(ct)}r.remove(ut)}function U(ut){const j=r.get(ut);i.deleteTexture(j.__webglTexture);const ct=ut.source,mt=g.get(ct);delete mt[j.__cacheKey],o.memory.textures--}function R(ut){const j=r.get(ut);if(ut.depthTexture&&(ut.depthTexture.dispose(),r.remove(ut.depthTexture)),ut.isWebGLCubeRenderTarget)for(let mt=0;mt<6;mt++){if(Array.isArray(j.__webglFramebuffer[mt]))for(let Rt=0;Rt<j.__webglFramebuffer[mt].length;Rt++)i.deleteFramebuffer(j.__webglFramebuffer[mt][Rt]);else i.deleteFramebuffer(j.__webglFramebuffer[mt]);j.__webglDepthbuffer&&i.deleteRenderbuffer(j.__webglDepthbuffer[mt])}else{if(Array.isArray(j.__webglFramebuffer))for(let mt=0;mt<j.__webglFramebuffer.length;mt++)i.deleteFramebuffer(j.__webglFramebuffer[mt]);else i.deleteFramebuffer(j.__webglFramebuffer);if(j.__webglDepthbuffer&&i.deleteRenderbuffer(j.__webglDepthbuffer),j.__webglMultisampledFramebuffer&&i.deleteFramebuffer(j.__webglMultisampledFramebuffer),j.__webglColorRenderbuffer)for(let mt=0;mt<j.__webglColorRenderbuffer.length;mt++)j.__webglColorRenderbuffer[mt]&&i.deleteRenderbuffer(j.__webglColorRenderbuffer[mt]);j.__webglDepthRenderbuffer&&i.deleteRenderbuffer(j.__webglDepthRenderbuffer)}const ct=ut.textures;for(let mt=0,Rt=ct.length;mt<Rt;mt++){const _t=r.get(ct[mt]);_t.__webglTexture&&(i.deleteTexture(_t.__webglTexture),o.memory.textures--),r.remove(ct[mt])}r.remove(ut)}let B=0;function H(){B=0}function V(){const ut=B;return ut>=s.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+ut+" texture units while this GPU supports only "+s.maxTextures),B+=1,ut}function Y(ut){const j=[];return j.push(ut.wrapS),j.push(ut.wrapT),j.push(ut.wrapR||0),j.push(ut.magFilter),j.push(ut.minFilter),j.push(ut.anisotropy),j.push(ut.internalFormat),j.push(ut.format),j.push(ut.type),j.push(ut.generateMipmaps),j.push(ut.premultiplyAlpha),j.push(ut.flipY),j.push(ut.unpackAlignment),j.push(ut.colorSpace),j.join()}function et(ut,j){const ct=r.get(ut);if(ut.isVideoTexture&&ie(ut),ut.isRenderTargetTexture===!1&&ut.version>0&&ct.__version!==ut.version){const mt=ut.image;if(mt===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(mt.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{it(ct,ut,j);return}}n.bindTexture(i.TEXTURE_2D,ct.__webglTexture,i.TEXTURE0+j)}function G(ut,j){const ct=r.get(ut);if(ut.version>0&&ct.__version!==ut.version){it(ct,ut,j);return}n.bindTexture(i.TEXTURE_2D_ARRAY,ct.__webglTexture,i.TEXTURE0+j)}function X(ut,j){const ct=r.get(ut);if(ut.version>0&&ct.__version!==ut.version){it(ct,ut,j);return}n.bindTexture(i.TEXTURE_3D,ct.__webglTexture,i.TEXTURE0+j)}function J(ut,j){const ct=r.get(ut);if(ut.version>0&&ct.__version!==ut.version){ht(ct,ut,j);return}n.bindTexture(i.TEXTURE_CUBE_MAP,ct.__webglTexture,i.TEXTURE0+j)}const nt={[vS]:i.REPEAT,[Lu]:i.CLAMP_TO_EDGE,[_S]:i.MIRRORED_REPEAT},Z={[ba]:i.NEAREST,[UL]:i.NEAREST_MIPMAP_NEAREST,[o_]:i.NEAREST_MIPMAP_LINEAR,[Vs]:i.LINEAR,[F1]:i.LINEAR_MIPMAP_NEAREST,[Gf]:i.LINEAR_MIPMAP_LINEAR},dt={[q7]:i.NEVER,[Q7]:i.ALWAYS,[W7]:i.LESS,[WL]:i.LEQUAL,[X7]:i.EQUAL,[Z7]:i.GEQUAL,[Y7]:i.GREATER,[K7]:i.NOTEQUAL};function yt(ut,j){if(j.type===ll&&e.has("OES_texture_float_linear")===!1&&(j.magFilter===Vs||j.magFilter===F1||j.magFilter===o_||j.magFilter===Gf||j.minFilter===Vs||j.minFilter===F1||j.minFilter===o_||j.minFilter===Gf)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),i.texParameteri(ut,i.TEXTURE_WRAP_S,nt[j.wrapS]),i.texParameteri(ut,i.TEXTURE_WRAP_T,nt[j.wrapT]),(ut===i.TEXTURE_3D||ut===i.TEXTURE_2D_ARRAY)&&i.texParameteri(ut,i.TEXTURE_WRAP_R,nt[j.wrapR]),i.texParameteri(ut,i.TEXTURE_MAG_FILTER,Z[j.magFilter]),i.texParameteri(ut,i.TEXTURE_MIN_FILTER,Z[j.minFilter]),j.compareFunction&&(i.texParameteri(ut,i.TEXTURE_COMPARE_MODE,i.COMPARE_REF_TO_TEXTURE),i.texParameteri(ut,i.TEXTURE_COMPARE_FUNC,dt[j.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(j.magFilter===ba||j.minFilter!==o_&&j.minFilter!==Gf||j.type===ll&&e.has("OES_texture_float_linear")===!1)return;if(j.anisotropy>1||r.get(j).__currentAnisotropy){const ct=e.get("EXT_texture_filter_anisotropic");i.texParameterf(ut,ct.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(j.anisotropy,s.getMaxAnisotropy())),r.get(j).__currentAnisotropy=j.anisotropy}}}function xt(ut,j){let ct=!1;ut.__webglInit===void 0&&(ut.__webglInit=!0,j.addEventListener("dispose",k));const mt=j.source;let Rt=g.get(mt);Rt===void 0&&(Rt={},g.set(mt,Rt));const _t=Y(j);if(_t!==ut.__cacheKey){Rt[_t]===void 0&&(Rt[_t]={texture:i.createTexture(),usedTimes:0},o.memory.textures++,ct=!0),Rt[_t].usedTimes++;const Ct=Rt[ut.__cacheKey];Ct!==void 0&&(Rt[ut.__cacheKey].usedTimes--,Ct.usedTimes===0&&U(j)),ut.__cacheKey=_t,ut.__webglTexture=Rt[_t].texture}return ct}function it(ut,j,ct){let mt=i.TEXTURE_2D;(j.isDataArrayTexture||j.isCompressedArrayTexture)&&(mt=i.TEXTURE_2D_ARRAY),j.isData3DTexture&&(mt=i.TEXTURE_3D);const Rt=xt(ut,j),_t=j.source;n.bindTexture(mt,ut.__webglTexture,i.TEXTURE0+ct);const Ct=r.get(_t);if(_t.version!==Ct.__version||Rt===!0){n.activeTexture(i.TEXTURE0+ct);const Lt=vi.getPrimaries(vi.workingColorSpace),Jt=j.colorSpace===hd?null:vi.getPrimaries(j.colorSpace),Le=j.colorSpace===hd||Lt===Jt?i.NONE:i.BROWSER_DEFAULT_WEBGL;i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,j.flipY),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,j.premultiplyAlpha),i.pixelStorei(i.UNPACK_ALIGNMENT,j.unpackAlignment),i.pixelStorei(i.UNPACK_COLORSPACE_CONVERSION_WEBGL,Le);let Ht=S(j.image,!1,s.maxTextureSize);Ht=Me(j,Ht);const _e=a.convert(j.format,j.colorSpace),Re=a.convert(j.type);let Oe=C(j.internalFormat,_e,Re,j.colorSpace,j.isVideoTexture);yt(mt,j);let Zt;const Ie=j.mipmaps,Ue=j.isVideoTexture!==!0,ln=Ct.__version===void 0||Rt===!0,wt=_t.dataReady,Ce=P(j,Ht);if(j.isDepthTexture)Oe=M(j.format===By,j.type),ln&&(Ue?n.texStorage2D(i.TEXTURE_2D,1,Oe,Ht.width,Ht.height):n.texImage2D(i.TEXTURE_2D,0,Oe,Ht.width,Ht.height,0,_e,Re,null));else if(j.isDataTexture)if(Ie.length>0){Ue&&ln&&n.texStorage2D(i.TEXTURE_2D,Ce,Oe,Ie[0].width,Ie[0].height);for(let Xt=0,se=Ie.length;Xt<se;Xt++)Zt=Ie[Xt],Ue?wt&&n.texSubImage2D(i.TEXTURE_2D,Xt,0,0,Zt.width,Zt.height,_e,Re,Zt.data):n.texImage2D(i.TEXTURE_2D,Xt,Oe,Zt.width,Zt.height,0,_e,Re,Zt.data);j.generateMipmaps=!1}else Ue?(ln&&n.texStorage2D(i.TEXTURE_2D,Ce,Oe,Ht.width,Ht.height),wt&&n.texSubImage2D(i.TEXTURE_2D,0,0,0,Ht.width,Ht.height,_e,Re,Ht.data)):n.texImage2D(i.TEXTURE_2D,0,Oe,Ht.width,Ht.height,0,_e,Re,Ht.data);else if(j.isCompressedTexture)if(j.isCompressedArrayTexture){Ue&&ln&&n.texStorage3D(i.TEXTURE_2D_ARRAY,Ce,Oe,Ie[0].width,Ie[0].height,Ht.depth);for(let Xt=0,se=Ie.length;Xt<se;Xt++)if(Zt=Ie[Xt],j.format!==Xa)if(_e!==null)if(Ue){if(wt)if(j.layerUpdates.size>0){const Pe=v3(Zt.width,Zt.height,j.format,j.type);for(const Se of j.layerUpdates){const cn=Zt.data.subarray(Se*Pe/Zt.data.BYTES_PER_ELEMENT,(Se+1)*Pe/Zt.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(i.TEXTURE_2D_ARRAY,Xt,0,0,Se,Zt.width,Zt.height,1,_e,cn)}j.clearLayerUpdates()}else n.compressedTexSubImage3D(i.TEXTURE_2D_ARRAY,Xt,0,0,0,Zt.width,Zt.height,Ht.depth,_e,Zt.data)}else n.compressedTexImage3D(i.TEXTURE_2D_ARRAY,Xt,Oe,Zt.width,Zt.height,Ht.depth,0,Zt.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Ue?wt&&n.texSubImage3D(i.TEXTURE_2D_ARRAY,Xt,0,0,0,Zt.width,Zt.height,Ht.depth,_e,Re,Zt.data):n.texImage3D(i.TEXTURE_2D_ARRAY,Xt,Oe,Zt.width,Zt.height,Ht.depth,0,_e,Re,Zt.data)}else{Ue&&ln&&n.texStorage2D(i.TEXTURE_2D,Ce,Oe,Ie[0].width,Ie[0].height);for(let Xt=0,se=Ie.length;Xt<se;Xt++)Zt=Ie[Xt],j.format!==Xa?_e!==null?Ue?wt&&n.compressedTexSubImage2D(i.TEXTURE_2D,Xt,0,0,Zt.width,Zt.height,_e,Zt.data):n.compressedTexImage2D(i.TEXTURE_2D,Xt,Oe,Zt.width,Zt.height,0,Zt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ue?wt&&n.texSubImage2D(i.TEXTURE_2D,Xt,0,0,Zt.width,Zt.height,_e,Re,Zt.data):n.texImage2D(i.TEXTURE_2D,Xt,Oe,Zt.width,Zt.height,0,_e,Re,Zt.data)}else if(j.isDataArrayTexture)if(Ue){if(ln&&n.texStorage3D(i.TEXTURE_2D_ARRAY,Ce,Oe,Ht.width,Ht.height,Ht.depth),wt)if(j.layerUpdates.size>0){const Xt=v3(Ht.width,Ht.height,j.format,j.type);for(const se of j.layerUpdates){const Pe=Ht.data.subarray(se*Xt/Ht.data.BYTES_PER_ELEMENT,(se+1)*Xt/Ht.data.BYTES_PER_ELEMENT);n.texSubImage3D(i.TEXTURE_2D_ARRAY,0,0,0,se,Ht.width,Ht.height,1,_e,Re,Pe)}j.clearLayerUpdates()}else n.texSubImage3D(i.TEXTURE_2D_ARRAY,0,0,0,0,Ht.width,Ht.height,Ht.depth,_e,Re,Ht.data)}else n.texImage3D(i.TEXTURE_2D_ARRAY,0,Oe,Ht.width,Ht.height,Ht.depth,0,_e,Re,Ht.data);else if(j.isData3DTexture)Ue?(ln&&n.texStorage3D(i.TEXTURE_3D,Ce,Oe,Ht.width,Ht.height,Ht.depth),wt&&n.texSubImage3D(i.TEXTURE_3D,0,0,0,0,Ht.width,Ht.height,Ht.depth,_e,Re,Ht.data)):n.texImage3D(i.TEXTURE_3D,0,Oe,Ht.width,Ht.height,Ht.depth,0,_e,Re,Ht.data);else if(j.isFramebufferTexture){if(ln)if(Ue)n.texStorage2D(i.TEXTURE_2D,Ce,Oe,Ht.width,Ht.height);else{let Xt=Ht.width,se=Ht.height;for(let Pe=0;Pe<Ce;Pe++)n.texImage2D(i.TEXTURE_2D,Pe,Oe,Xt,se,0,_e,Re,null),Xt>>=1,se>>=1}}else if(Ie.length>0){if(Ue&&ln){const Xt=le(Ie[0]);n.texStorage2D(i.TEXTURE_2D,Ce,Oe,Xt.width,Xt.height)}for(let Xt=0,se=Ie.length;Xt<se;Xt++)Zt=Ie[Xt],Ue?wt&&n.texSubImage2D(i.TEXTURE_2D,Xt,0,0,_e,Re,Zt):n.texImage2D(i.TEXTURE_2D,Xt,Oe,_e,Re,Zt);j.generateMipmaps=!1}else if(Ue){if(ln){const Xt=le(Ht);n.texStorage2D(i.TEXTURE_2D,Ce,Oe,Xt.width,Xt.height)}wt&&n.texSubImage2D(i.TEXTURE_2D,0,0,0,_e,Re,Ht)}else n.texImage2D(i.TEXTURE_2D,0,Oe,_e,Re,Ht);E(j)&&x(mt),Ct.__version=_t.version,j.onUpdate&&j.onUpdate(j)}ut.__version=j.version}function ht(ut,j,ct){if(j.image.length!==6)return;const mt=xt(ut,j),Rt=j.source;n.bindTexture(i.TEXTURE_CUBE_MAP,ut.__webglTexture,i.TEXTURE0+ct);const _t=r.get(Rt);if(Rt.version!==_t.__version||mt===!0){n.activeTexture(i.TEXTURE0+ct);const Ct=vi.getPrimaries(vi.workingColorSpace),Lt=j.colorSpace===hd?null:vi.getPrimaries(j.colorSpace),Jt=j.colorSpace===hd||Ct===Lt?i.NONE:i.BROWSER_DEFAULT_WEBGL;i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,j.flipY),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,j.premultiplyAlpha),i.pixelStorei(i.UNPACK_ALIGNMENT,j.unpackAlignment),i.pixelStorei(i.UNPACK_COLORSPACE_CONVERSION_WEBGL,Jt);const Le=j.isCompressedTexture||j.image[0].isCompressedTexture,Ht=j.image[0]&&j.image[0].isDataTexture,_e=[];for(let se=0;se<6;se++)!Le&&!Ht?_e[se]=S(j.image[se],!0,s.maxCubemapSize):_e[se]=Ht?j.image[se].image:j.image[se],_e[se]=Me(j,_e[se]);const Re=_e[0],Oe=a.convert(j.format,j.colorSpace),Zt=a.convert(j.type),Ie=C(j.internalFormat,Oe,Zt,j.colorSpace),Ue=j.isVideoTexture!==!0,ln=_t.__version===void 0||mt===!0,wt=Rt.dataReady;let Ce=P(j,Re);yt(i.TEXTURE_CUBE_MAP,j);let Xt;if(Le){Ue&&ln&&n.texStorage2D(i.TEXTURE_CUBE_MAP,Ce,Ie,Re.width,Re.height);for(let se=0;se<6;se++){Xt=_e[se].mipmaps;for(let Pe=0;Pe<Xt.length;Pe++){const Se=Xt[Pe];j.format!==Xa?Oe!==null?Ue?wt&&n.compressedTexSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+se,Pe,0,0,Se.width,Se.height,Oe,Se.data):n.compressedTexImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+se,Pe,Ie,Se.width,Se.height,0,Se.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Ue?wt&&n.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+se,Pe,0,0,Se.width,Se.height,Oe,Zt,Se.data):n.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+se,Pe,Ie,Se.width,Se.height,0,Oe,Zt,Se.data)}}}else{if(Xt=j.mipmaps,Ue&&ln){Xt.length>0&&Ce++;const se=le(_e[0]);n.texStorage2D(i.TEXTURE_CUBE_MAP,Ce,Ie,se.width,se.height)}for(let se=0;se<6;se++)if(Ht){Ue?wt&&n.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+se,0,0,0,_e[se].width,_e[se].height,Oe,Zt,_e[se].data):n.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+se,0,Ie,_e[se].width,_e[se].height,0,Oe,Zt,_e[se].data);for(let Pe=0;Pe<Xt.length;Pe++){const cn=Xt[Pe].image[se].image;Ue?wt&&n.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+se,Pe+1,0,0,cn.width,cn.height,Oe,Zt,cn.data):n.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+se,Pe+1,Ie,cn.width,cn.height,0,Oe,Zt,cn.data)}}else{Ue?wt&&n.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+se,0,0,0,Oe,Zt,_e[se]):n.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+se,0,Ie,Oe,Zt,_e[se]);for(let Pe=0;Pe<Xt.length;Pe++){const Se=Xt[Pe];Ue?wt&&n.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+se,Pe+1,0,0,Oe,Zt,Se.image[se]):n.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+se,Pe+1,Ie,Oe,Zt,Se.image[se])}}}E(j)&&x(i.TEXTURE_CUBE_MAP),_t.__version=Rt.version,j.onUpdate&&j.onUpdate(j)}ut.__version=j.version}function lt(ut,j,ct,mt,Rt,_t){const Ct=a.convert(ct.format,ct.colorSpace),Lt=a.convert(ct.type),Jt=C(ct.internalFormat,Ct,Lt,ct.colorSpace),Le=r.get(j),Ht=r.get(ct);if(Ht.__renderTarget=j,!Le.__hasExternalTextures){const _e=Math.max(1,j.width>>_t),Re=Math.max(1,j.height>>_t);Rt===i.TEXTURE_3D||Rt===i.TEXTURE_2D_ARRAY?n.texImage3D(Rt,_t,Jt,_e,Re,j.depth,0,Ct,Lt,null):n.texImage2D(Rt,_t,Jt,_e,Re,0,Ct,Lt,null)}n.bindFramebuffer(i.FRAMEBUFFER,ut),ne(j)?l.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,mt,Rt,Ht.__webglTexture,0,ee(j)):(Rt===i.TEXTURE_2D||Rt>=i.TEXTURE_CUBE_MAP_POSITIVE_X&&Rt<=i.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&i.framebufferTexture2D(i.FRAMEBUFFER,mt,Rt,Ht.__webglTexture,_t),n.bindFramebuffer(i.FRAMEBUFFER,null)}function gt(ut,j,ct){if(i.bindRenderbuffer(i.RENDERBUFFER,ut),j.depthBuffer){const mt=j.depthTexture,Rt=mt&&mt.isDepthTexture?mt.type:null,_t=M(j.stencilBuffer,Rt),Ct=j.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,Lt=ee(j);ne(j)?l.renderbufferStorageMultisampleEXT(i.RENDERBUFFER,Lt,_t,j.width,j.height):ct?i.renderbufferStorageMultisample(i.RENDERBUFFER,Lt,_t,j.width,j.height):i.renderbufferStorage(i.RENDERBUFFER,_t,j.width,j.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,Ct,i.RENDERBUFFER,ut)}else{const mt=j.textures;for(let Rt=0;Rt<mt.length;Rt++){const _t=mt[Rt],Ct=a.convert(_t.format,_t.colorSpace),Lt=a.convert(_t.type),Jt=C(_t.internalFormat,Ct,Lt,_t.colorSpace),Le=ee(j);ct&&ne(j)===!1?i.renderbufferStorageMultisample(i.RENDERBUFFER,Le,Jt,j.width,j.height):ne(j)?l.renderbufferStorageMultisampleEXT(i.RENDERBUFFER,Le,Jt,j.width,j.height):i.renderbufferStorage(i.RENDERBUFFER,Jt,j.width,j.height)}}i.bindRenderbuffer(i.RENDERBUFFER,null)}function Tt(ut,j){if(j&&j.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(i.FRAMEBUFFER,ut),!(j.depthTexture&&j.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const mt=r.get(j.depthTexture);mt.__renderTarget=j,(!mt.__webglTexture||j.depthTexture.image.width!==j.width||j.depthTexture.image.height!==j.height)&&(j.depthTexture.image.width=j.width,j.depthTexture.image.height=j.height,j.depthTexture.needsUpdate=!0),et(j.depthTexture,0);const Rt=mt.__webglTexture,_t=ee(j);if(j.depthTexture.format===Ey)ne(j)?l.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,Rt,0,_t):i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,Rt,0);else if(j.depthTexture.format===By)ne(j)?l.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.TEXTURE_2D,Rt,0,_t):i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.TEXTURE_2D,Rt,0);else throw new Error("Unknown depthTexture format")}function Kt(ut){const j=r.get(ut),ct=ut.isWebGLCubeRenderTarget===!0;if(j.__boundDepthTexture!==ut.depthTexture){const mt=ut.depthTexture;if(j.__depthDisposeCallback&&j.__depthDisposeCallback(),mt){const Rt=()=>{delete j.__boundDepthTexture,delete j.__depthDisposeCallback,mt.removeEventListener("dispose",Rt)};mt.addEventListener("dispose",Rt),j.__depthDisposeCallback=Rt}j.__boundDepthTexture=mt}if(ut.depthTexture&&!j.__autoAllocateDepthBuffer){if(ct)throw new Error("target.depthTexture not supported in Cube render targets");Tt(j.__webglFramebuffer,ut)}else if(ct){j.__webglDepthbuffer=[];for(let mt=0;mt<6;mt++)if(n.bindFramebuffer(i.FRAMEBUFFER,j.__webglFramebuffer[mt]),j.__webglDepthbuffer[mt]===void 0)j.__webglDepthbuffer[mt]=i.createRenderbuffer(),gt(j.__webglDepthbuffer[mt],ut,!1);else{const Rt=ut.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,_t=j.__webglDepthbuffer[mt];i.bindRenderbuffer(i.RENDERBUFFER,_t),i.framebufferRenderbuffer(i.FRAMEBUFFER,Rt,i.RENDERBUFFER,_t)}}else if(n.bindFramebuffer(i.FRAMEBUFFER,j.__webglFramebuffer),j.__webglDepthbuffer===void 0)j.__webglDepthbuffer=i.createRenderbuffer(),gt(j.__webglDepthbuffer,ut,!1);else{const mt=ut.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,Rt=j.__webglDepthbuffer;i.bindRenderbuffer(i.RENDERBUFFER,Rt),i.framebufferRenderbuffer(i.FRAMEBUFFER,mt,i.RENDERBUFFER,Rt)}n.bindFramebuffer(i.FRAMEBUFFER,null)}function Ut(ut,j,ct){const mt=r.get(ut);j!==void 0&&lt(mt.__webglFramebuffer,ut,ut.texture,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,0),ct!==void 0&&Kt(ut)}function te(ut){const j=ut.texture,ct=r.get(ut),mt=r.get(j);ut.addEventListener("dispose",D);const Rt=ut.textures,_t=ut.isWebGLCubeRenderTarget===!0,Ct=Rt.length>1;if(Ct||(mt.__webglTexture===void 0&&(mt.__webglTexture=i.createTexture()),mt.__version=j.version,o.memory.textures++),_t){ct.__webglFramebuffer=[];for(let Lt=0;Lt<6;Lt++)if(j.mipmaps&&j.mipmaps.length>0){ct.__webglFramebuffer[Lt]=[];for(let Jt=0;Jt<j.mipmaps.length;Jt++)ct.__webglFramebuffer[Lt][Jt]=i.createFramebuffer()}else ct.__webglFramebuffer[Lt]=i.createFramebuffer()}else{if(j.mipmaps&&j.mipmaps.length>0){ct.__webglFramebuffer=[];for(let Lt=0;Lt<j.mipmaps.length;Lt++)ct.__webglFramebuffer[Lt]=i.createFramebuffer()}else ct.__webglFramebuffer=i.createFramebuffer();if(Ct)for(let Lt=0,Jt=Rt.length;Lt<Jt;Lt++){const Le=r.get(Rt[Lt]);Le.__webglTexture===void 0&&(Le.__webglTexture=i.createTexture(),o.memory.textures++)}if(ut.samples>0&&ne(ut)===!1){ct.__webglMultisampledFramebuffer=i.createFramebuffer(),ct.__webglColorRenderbuffer=[],n.bindFramebuffer(i.FRAMEBUFFER,ct.__webglMultisampledFramebuffer);for(let Lt=0;Lt<Rt.length;Lt++){const Jt=Rt[Lt];ct.__webglColorRenderbuffer[Lt]=i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,ct.__webglColorRenderbuffer[Lt]);const Le=a.convert(Jt.format,Jt.colorSpace),Ht=a.convert(Jt.type),_e=C(Jt.internalFormat,Le,Ht,Jt.colorSpace,ut.isXRRenderTarget===!0),Re=ee(ut);i.renderbufferStorageMultisample(i.RENDERBUFFER,Re,_e,ut.width,ut.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+Lt,i.RENDERBUFFER,ct.__webglColorRenderbuffer[Lt])}i.bindRenderbuffer(i.RENDERBUFFER,null),ut.depthBuffer&&(ct.__webglDepthRenderbuffer=i.createRenderbuffer(),gt(ct.__webglDepthRenderbuffer,ut,!0)),n.bindFramebuffer(i.FRAMEBUFFER,null)}}if(_t){n.bindTexture(i.TEXTURE_CUBE_MAP,mt.__webglTexture),yt(i.TEXTURE_CUBE_MAP,j);for(let Lt=0;Lt<6;Lt++)if(j.mipmaps&&j.mipmaps.length>0)for(let Jt=0;Jt<j.mipmaps.length;Jt++)lt(ct.__webglFramebuffer[Lt][Jt],ut,j,i.COLOR_ATTACHMENT0,i.TEXTURE_CUBE_MAP_POSITIVE_X+Lt,Jt);else lt(ct.__webglFramebuffer[Lt],ut,j,i.COLOR_ATTACHMENT0,i.TEXTURE_CUBE_MAP_POSITIVE_X+Lt,0);E(j)&&x(i.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(Ct){for(let Lt=0,Jt=Rt.length;Lt<Jt;Lt++){const Le=Rt[Lt],Ht=r.get(Le);n.bindTexture(i.TEXTURE_2D,Ht.__webglTexture),yt(i.TEXTURE_2D,Le),lt(ct.__webglFramebuffer,ut,Le,i.COLOR_ATTACHMENT0+Lt,i.TEXTURE_2D,0),E(Le)&&x(i.TEXTURE_2D)}n.unbindTexture()}else{let Lt=i.TEXTURE_2D;if((ut.isWebGL3DRenderTarget||ut.isWebGLArrayRenderTarget)&&(Lt=ut.isWebGL3DRenderTarget?i.TEXTURE_3D:i.TEXTURE_2D_ARRAY),n.bindTexture(Lt,mt.__webglTexture),yt(Lt,j),j.mipmaps&&j.mipmaps.length>0)for(let Jt=0;Jt<j.mipmaps.length;Jt++)lt(ct.__webglFramebuffer[Jt],ut,j,i.COLOR_ATTACHMENT0,Lt,Jt);else lt(ct.__webglFramebuffer,ut,j,i.COLOR_ATTACHMENT0,Lt,0);E(j)&&x(Lt),n.unbindTexture()}ut.depthBuffer&&Kt(ut)}function Pt(ut){const j=ut.textures;for(let ct=0,mt=j.length;ct<mt;ct++){const Rt=j[ct];if(E(Rt)){const _t=A(ut),Ct=r.get(Rt).__webglTexture;n.bindTexture(_t,Ct),x(_t),n.unbindTexture()}}}const Bt=[],at=[];function ce(ut){if(ut.samples>0){if(ne(ut)===!1){const j=ut.textures,ct=ut.width,mt=ut.height;let Rt=i.COLOR_BUFFER_BIT;const _t=ut.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,Ct=r.get(ut),Lt=j.length>1;if(Lt)for(let Jt=0;Jt<j.length;Jt++)n.bindFramebuffer(i.FRAMEBUFFER,Ct.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+Jt,i.RENDERBUFFER,null),n.bindFramebuffer(i.FRAMEBUFFER,Ct.__webglFramebuffer),i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0+Jt,i.TEXTURE_2D,null,0);n.bindFramebuffer(i.READ_FRAMEBUFFER,Ct.__webglMultisampledFramebuffer),n.bindFramebuffer(i.DRAW_FRAMEBUFFER,Ct.__webglFramebuffer);for(let Jt=0;Jt<j.length;Jt++){if(ut.resolveDepthBuffer&&(ut.depthBuffer&&(Rt|=i.DEPTH_BUFFER_BIT),ut.stencilBuffer&&ut.resolveStencilBuffer&&(Rt|=i.STENCIL_BUFFER_BIT)),Lt){i.framebufferRenderbuffer(i.READ_FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.RENDERBUFFER,Ct.__webglColorRenderbuffer[Jt]);const Le=r.get(j[Jt]).__webglTexture;i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,Le,0)}i.blitFramebuffer(0,0,ct,mt,0,0,ct,mt,Rt,i.NEAREST),u===!0&&(Bt.length=0,at.length=0,Bt.push(i.COLOR_ATTACHMENT0+Jt),ut.depthBuffer&&ut.resolveDepthBuffer===!1&&(Bt.push(_t),at.push(_t),i.invalidateFramebuffer(i.DRAW_FRAMEBUFFER,at)),i.invalidateFramebuffer(i.READ_FRAMEBUFFER,Bt))}if(n.bindFramebuffer(i.READ_FRAMEBUFFER,null),n.bindFramebuffer(i.DRAW_FRAMEBUFFER,null),Lt)for(let Jt=0;Jt<j.length;Jt++){n.bindFramebuffer(i.FRAMEBUFFER,Ct.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+Jt,i.RENDERBUFFER,Ct.__webglColorRenderbuffer[Jt]);const Le=r.get(j[Jt]).__webglTexture;n.bindFramebuffer(i.FRAMEBUFFER,Ct.__webglFramebuffer),i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0+Jt,i.TEXTURE_2D,Le,0)}n.bindFramebuffer(i.DRAW_FRAMEBUFFER,Ct.__webglMultisampledFramebuffer)}else if(ut.depthBuffer&&ut.resolveDepthBuffer===!1&&u){const j=ut.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT;i.invalidateFramebuffer(i.DRAW_FRAMEBUFFER,[j])}}}function ee(ut){return Math.min(s.maxSamples,ut.samples)}function ne(ut){const j=r.get(ut);return ut.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&j.__useRenderToTexture!==!1}function ie(ut){const j=o.render.frame;h.get(ut)!==j&&(h.set(ut,j),ut.update())}function Me(ut,j){const ct=ut.colorSpace,mt=ut.format,Rt=ut.type;return ut.isCompressedTexture===!0||ut.isVideoTexture===!0||ct!==Em&&ct!==hd&&(vi.getTransfer(ct)===Wi?(mt!==Xa||Rt!==Lc)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ct)),j}function le(ut){return typeof HTMLImageElement<"u"&&ut instanceof HTMLImageElement?(c.width=ut.naturalWidth||ut.width,c.height=ut.naturalHeight||ut.height):typeof VideoFrame<"u"&&ut instanceof VideoFrame?(c.width=ut.displayWidth,c.height=ut.displayHeight):(c.width=ut.width,c.height=ut.height),c}this.allocateTextureUnit=V,this.resetTextureUnits=H,this.setTexture2D=et,this.setTexture2DArray=G,this.setTexture3D=X,this.setTextureCube=J,this.rebindTextures=Ut,this.setupRenderTarget=te,this.updateRenderTargetMipmap=Pt,this.updateMultisampleRenderTarget=ce,this.setupDepthRenderbuffer=Kt,this.setupFrameBufferTexture=lt,this.useMultisampledRTT=ne}function aG(i,e){function n(r,s=hd){let a;const o=vi.getTransfer(s);if(r===Lc)return i.UNSIGNED_BYTE;if(r===G2)return i.UNSIGNED_SHORT_4_4_4_4;if(r===$2)return i.UNSIGNED_SHORT_5_5_5_1;if(r===BL)return i.UNSIGNED_INT_5_9_9_9_REV;if(r===kL)return i.BYTE;if(r===zL)return i.SHORT;if(r===C_)return i.UNSIGNED_SHORT;if(r===j2)return i.INT;if(r===Pd)return i.UNSIGNED_INT;if(r===ll)return i.FLOAT;if(r===cb)return i.HALF_FLOAT;if(r===FL)return i.ALPHA;if(r===VL)return i.RGB;if(r===Xa)return i.RGBA;if(r===HL)return i.LUMINANCE;if(r===jL)return i.LUMINANCE_ALPHA;if(r===Ey)return i.DEPTH_COMPONENT;if(r===By)return i.DEPTH_STENCIL;if(r===q2)return i.RED;if(r===mE)return i.RED_INTEGER;if(r===GL)return i.RG;if(r===W2)return i.RG_INTEGER;if(r===X2)return i.RGBA_INTEGER;if(r===V1||r===H1||r===j1||r===G1)if(o===Wi)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(r===V1)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===H1)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===j1)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===G1)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(r===V1)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===H1)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===j1)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===G1)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===ZM||r===QM||r===JM||r===tC)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(r===ZM)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===QM)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===JM)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===tC)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===eC||r===nC||r===iC)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(r===eC||r===nC)return o===Wi?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(r===iC)return o===Wi?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===rC||r===sC||r===aC||r===oC||r===lC||r===uC||r===cC||r===fC||r===hC||r===dC||r===pC||r===mC||r===gC||r===yC)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(r===rC)return o===Wi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===sC)return o===Wi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===aC)return o===Wi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===oC)return o===Wi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===lC)return o===Wi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===uC)return o===Wi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===cC)return o===Wi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===fC)return o===Wi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===hC)return o===Wi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===dC)return o===Wi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===pC)return o===Wi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===mC)return o===Wi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===gC)return o===Wi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===yC)return o===Wi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===$1||r===vC||r===_C)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(r===$1)return o===Wi?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===vC)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===_C)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===$L||r===bC||r===xC||r===SC)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(r===$1)return a.COMPRESSED_RED_RGTC1_EXT;if(r===bC)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===xC)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===SC)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===zy?i.UNSIGNED_INT_24_8:i[r]!==void 0?i[r]:null}return{convert:n}}const rot=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,sot=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class aot{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n,r){if(this.texture===null){const s=new as,a=e.properties.get(s);a.__webglTexture=n.texture,(n.depthNear!==r.depthNear||n.depthFar!==r.depthFar)&&(this.depthNear=n.depthNear,this.depthFar=n.depthFar),this.texture=s}}getMesh(e){if(this.texture!==null&&this.mesh===null){const n=e.cameras[0].viewport,r=new Vu({vertexShader:rot,fragmentShader:sot,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new rs(new hb(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class oot extends dh{constructor(e,n){super();const r=this;let s=null,a=1,o=null,l="local-floor",u=1,c=null,h=null,p=null,g=null,v=null,b=null;const S=new aot,E=n.getContextAttributes();let x=null,A=null;const C=[],M=[],P=new me;let k=null;const D=new ea;D.viewport=new Ei;const N=new ea;N.viewport=new Ei;const U=[D,N],R=new Kj;let B=null,H=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(it){let ht=C[it];return ht===void 0&&(ht=new aM,C[it]=ht),ht.getTargetRaySpace()},this.getControllerGrip=function(it){let ht=C[it];return ht===void 0&&(ht=new aM,C[it]=ht),ht.getGripSpace()},this.getHand=function(it){let ht=C[it];return ht===void 0&&(ht=new aM,C[it]=ht),ht.getHandSpace()};function V(it){const ht=M.indexOf(it.inputSource);if(ht===-1)return;const lt=C[ht];lt!==void 0&&(lt.update(it.inputSource,it.frame,c||o),lt.dispatchEvent({type:it.type,data:it.inputSource}))}function Y(){s.removeEventListener("select",V),s.removeEventListener("selectstart",V),s.removeEventListener("selectend",V),s.removeEventListener("squeeze",V),s.removeEventListener("squeezestart",V),s.removeEventListener("squeezeend",V),s.removeEventListener("end",Y),s.removeEventListener("inputsourceschange",et);for(let it=0;it<C.length;it++){const ht=M[it];ht!==null&&(M[it]=null,C[it].disconnect(ht))}B=null,H=null,S.reset(),e.setRenderTarget(x),v=null,g=null,p=null,s=null,A=null,xt.stop(),r.isPresenting=!1,e.setPixelRatio(k),e.setSize(P.width,P.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(it){a=it,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(it){l=it,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(it){c=it},this.getBaseLayer=function(){return g!==null?g:v},this.getBinding=function(){return p},this.getFrame=function(){return b},this.getSession=function(){return s},this.setSession=async function(it){if(s=it,s!==null){if(x=e.getRenderTarget(),s.addEventListener("select",V),s.addEventListener("selectstart",V),s.addEventListener("selectend",V),s.addEventListener("squeeze",V),s.addEventListener("squeezestart",V),s.addEventListener("squeezeend",V),s.addEventListener("end",Y),s.addEventListener("inputsourceschange",et),E.xrCompatible!==!0&&await n.makeXRCompatible(),k=e.getPixelRatio(),e.getSize(P),typeof XRWebGLBinding<"u"&&"createProjectionLayer"in XRWebGLBinding.prototype){let lt=null,gt=null,Tt=null;E.depth&&(Tt=E.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,lt=E.stencil?By:Ey,gt=E.stencil?zy:Pd);const Kt={colorFormat:n.RGBA8,depthFormat:Tt,scaleFactor:a};p=new XRWebGLBinding(s,n),g=p.createProjectionLayer(Kt),s.updateRenderState({layers:[g]}),e.setPixelRatio(1),e.setSize(g.textureWidth,g.textureHeight,!1),A=new ah(g.textureWidth,g.textureHeight,{format:Xa,type:Lc,depthTexture:new eU(g.textureWidth,g.textureHeight,gt,void 0,void 0,void 0,void 0,void 0,void 0,lt),stencilBuffer:E.stencil,colorSpace:e.outputColorSpace,samples:E.antialias?4:0,resolveDepthBuffer:g.ignoreDepthValues===!1,resolveStencilBuffer:g.ignoreDepthValues===!1})}else{const lt={antialias:E.antialias,alpha:!0,depth:E.depth,stencil:E.stencil,framebufferScaleFactor:a};v=new XRWebGLLayer(s,n,lt),s.updateRenderState({baseLayer:v}),e.setPixelRatio(1),e.setSize(v.framebufferWidth,v.framebufferHeight,!1),A=new ah(v.framebufferWidth,v.framebufferHeight,{format:Xa,type:Lc,colorSpace:e.outputColorSpace,stencilBuffer:E.stencil,resolveDepthBuffer:v.ignoreDepthValues===!1,resolveStencilBuffer:v.ignoreDepthValues===!1})}A.isXRRenderTarget=!0,this.setFoveation(u),c=null,o=await s.requestReferenceSpace(l),xt.setContext(s),xt.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(s!==null)return s.environmentBlendMode},this.getDepthTexture=function(){return S.getDepthTexture()};function et(it){for(let ht=0;ht<it.removed.length;ht++){const lt=it.removed[ht],gt=M.indexOf(lt);gt>=0&&(M[gt]=null,C[gt].disconnect(lt))}for(let ht=0;ht<it.added.length;ht++){const lt=it.added[ht];let gt=M.indexOf(lt);if(gt===-1){for(let Kt=0;Kt<C.length;Kt++)if(Kt>=M.length){M.push(lt),gt=Kt;break}else if(M[Kt]===null){M[Kt]=lt,gt=Kt;break}if(gt===-1)break}const Tt=C[gt];Tt&&Tt.connect(lt)}}const G=new pt,X=new pt;function J(it,ht,lt){G.setFromMatrixPosition(ht.matrixWorld),X.setFromMatrixPosition(lt.matrixWorld);const gt=G.distanceTo(X),Tt=ht.projectionMatrix.elements,Kt=lt.projectionMatrix.elements,Ut=Tt[14]/(Tt[10]-1),te=Tt[14]/(Tt[10]+1),Pt=(Tt[9]+1)/Tt[5],Bt=(Tt[9]-1)/Tt[5],at=(Tt[8]-1)/Tt[0],ce=(Kt[8]+1)/Kt[0],ee=Ut*at,ne=Ut*ce,ie=gt/(-at+ce),Me=ie*-at;if(ht.matrixWorld.decompose(it.position,it.quaternion,it.scale),it.translateX(Me),it.translateZ(ie),it.matrixWorld.compose(it.position,it.quaternion,it.scale),it.matrixWorldInverse.copy(it.matrixWorld).invert(),Tt[10]===-1)it.projectionMatrix.copy(ht.projectionMatrix),it.projectionMatrixInverse.copy(ht.projectionMatrixInverse);else{const le=Ut+ie,ut=te+ie,j=ee-Me,ct=ne+(gt-Me),mt=Pt*te/ut*le,Rt=Bt*te/ut*le;it.projectionMatrix.makePerspective(j,ct,mt,Rt,le,ut),it.projectionMatrixInverse.copy(it.projectionMatrix).invert()}}function nt(it,ht){ht===null?it.matrixWorld.copy(it.matrix):it.matrixWorld.multiplyMatrices(ht.matrixWorld,it.matrix),it.matrixWorldInverse.copy(it.matrixWorld).invert()}this.updateCamera=function(it){if(s===null)return;let ht=it.near,lt=it.far;S.texture!==null&&(S.depthNear>0&&(ht=S.depthNear),S.depthFar>0&&(lt=S.depthFar)),R.near=N.near=D.near=ht,R.far=N.far=D.far=lt,(B!==R.near||H!==R.far)&&(s.updateRenderState({depthNear:R.near,depthFar:R.far}),B=R.near,H=R.far),D.layers.mask=it.layers.mask|2,N.layers.mask=it.layers.mask|4,R.layers.mask=D.layers.mask|N.layers.mask;const gt=it.parent,Tt=R.cameras;nt(R,gt);for(let Kt=0;Kt<Tt.length;Kt++)nt(Tt[Kt],gt);Tt.length===2?J(R,D,N):R.projectionMatrix.copy(D.projectionMatrix),Z(it,R,gt)};function Z(it,ht,lt){lt===null?it.matrix.copy(ht.matrixWorld):(it.matrix.copy(lt.matrixWorld),it.matrix.invert(),it.matrix.multiply(ht.matrixWorld)),it.matrix.decompose(it.position,it.quaternion,it.scale),it.updateMatrixWorld(!0),it.projectionMatrix.copy(ht.projectionMatrix),it.projectionMatrixInverse.copy(ht.projectionMatrixInverse),it.isPerspectiveCamera&&(it.fov=R_*2*Math.atan(1/it.projectionMatrix.elements[5]),it.zoom=1)}this.getCamera=function(){return R},this.getFoveation=function(){if(!(g===null&&v===null))return u},this.setFoveation=function(it){u=it,g!==null&&(g.fixedFoveation=it),v!==null&&v.fixedFoveation!==void 0&&(v.fixedFoveation=it)},this.hasDepthSensing=function(){return S.texture!==null},this.getDepthSensingMesh=function(){return S.getMesh(R)};let dt=null;function yt(it,ht){if(h=ht.getViewerPose(c||o),b=ht,h!==null){const lt=h.views;v!==null&&(e.setRenderTargetFramebuffer(A,v.framebuffer),e.setRenderTarget(A));let gt=!1;lt.length!==R.cameras.length&&(R.cameras.length=0,gt=!0);for(let Ut=0;Ut<lt.length;Ut++){const te=lt[Ut];let Pt=null;if(v!==null)Pt=v.getViewport(te);else{const at=p.getViewSubImage(g,te);Pt=at.viewport,Ut===0&&(e.setRenderTargetTextures(A,at.colorTexture,g.ignoreDepthValues?void 0:at.depthStencilTexture),e.setRenderTarget(A))}let Bt=U[Ut];Bt===void 0&&(Bt=new ea,Bt.layers.enable(Ut),Bt.viewport=new Ei,U[Ut]=Bt),Bt.matrix.fromArray(te.transform.matrix),Bt.matrix.decompose(Bt.position,Bt.quaternion,Bt.scale),Bt.projectionMatrix.fromArray(te.projectionMatrix),Bt.projectionMatrixInverse.copy(Bt.projectionMatrix).invert(),Bt.viewport.set(Pt.x,Pt.y,Pt.width,Pt.height),Ut===0&&(R.matrix.copy(Bt.matrix),R.matrix.decompose(R.position,R.quaternion,R.scale)),gt===!0&&R.cameras.push(Bt)}const Tt=s.enabledFeatures;if(Tt&&Tt.includes("depth-sensing")&&s.depthUsage=="gpu-optimized"&&p){const Ut=p.getDepthInformation(lt[0]);Ut&&Ut.isValid&&Ut.texture&&S.init(e,Ut,s.renderState)}}for(let lt=0;lt<C.length;lt++){const gt=M[lt],Tt=C[lt];gt!==null&&Tt!==void 0&&Tt.update(gt,ht,c||o)}dt&&dt(it,ht),ht.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:ht}),b=null}const xt=new eG;xt.setAnimationLoop(yt),this.setAnimationLoop=function(it){dt=it},this.dispose=function(){}}}const Hg=new Zl,lot=new Sn;function uot(i,e){function n(E,x){E.matrixAutoUpdate===!0&&E.updateMatrix(),x.value.copy(E.matrix)}function r(E,x){x.color.getRGB(E.fogColor.value,rj(i)),x.isFog?(E.fogNear.value=x.near,E.fogFar.value=x.far):x.isFogExp2&&(E.fogDensity.value=x.density)}function s(E,x,A,C,M){x.isMeshBasicMaterial||x.isMeshLambertMaterial?a(E,x):x.isMeshToonMaterial?(a(E,x),p(E,x)):x.isMeshPhongMaterial?(a(E,x),h(E,x)):x.isMeshStandardMaterial?(a(E,x),g(E,x),x.isMeshPhysicalMaterial&&v(E,x,M)):x.isMeshMatcapMaterial?(a(E,x),b(E,x)):x.isMeshDepthMaterial?a(E,x):x.isMeshDistanceMaterial?(a(E,x),S(E,x)):x.isMeshNormalMaterial?a(E,x):x.isLineBasicMaterial?(o(E,x),x.isLineDashedMaterial&&l(E,x)):x.isPointsMaterial?u(E,x,A,C):x.isSpriteMaterial?c(E,x):x.isShadowMaterial?(E.color.value.copy(x.color),E.opacity.value=x.opacity):x.isShaderMaterial&&(x.uniformsNeedUpdate=!1)}function a(E,x){E.opacity.value=x.opacity,x.color&&E.diffuse.value.copy(x.color),x.emissive&&E.emissive.value.copy(x.emissive).multiplyScalar(x.emissiveIntensity),x.map&&(E.map.value=x.map,n(x.map,E.mapTransform)),x.alphaMap&&(E.alphaMap.value=x.alphaMap,n(x.alphaMap,E.alphaMapTransform)),x.bumpMap&&(E.bumpMap.value=x.bumpMap,n(x.bumpMap,E.bumpMapTransform),E.bumpScale.value=x.bumpScale,x.side===Mo&&(E.bumpScale.value*=-1)),x.normalMap&&(E.normalMap.value=x.normalMap,n(x.normalMap,E.normalMapTransform),E.normalScale.value.copy(x.normalScale),x.side===Mo&&E.normalScale.value.negate()),x.displacementMap&&(E.displacementMap.value=x.displacementMap,n(x.displacementMap,E.displacementMapTransform),E.displacementScale.value=x.displacementScale,E.displacementBias.value=x.displacementBias),x.emissiveMap&&(E.emissiveMap.value=x.emissiveMap,n(x.emissiveMap,E.emissiveMapTransform)),x.specularMap&&(E.specularMap.value=x.specularMap,n(x.specularMap,E.specularMapTransform)),x.alphaTest>0&&(E.alphaTest.value=x.alphaTest);const A=e.get(x),C=A.envMap,M=A.envMapRotation;C&&(E.envMap.value=C,Hg.copy(M),Hg.x*=-1,Hg.y*=-1,Hg.z*=-1,C.isCubeTexture&&C.isRenderTargetTexture===!1&&(Hg.y*=-1,Hg.z*=-1),E.envMapRotation.value.setFromMatrix4(lot.makeRotationFromEuler(Hg)),E.flipEnvMap.value=C.isCubeTexture&&C.isRenderTargetTexture===!1?-1:1,E.reflectivity.value=x.reflectivity,E.ior.value=x.ior,E.refractionRatio.value=x.refractionRatio),x.lightMap&&(E.lightMap.value=x.lightMap,E.lightMapIntensity.value=x.lightMapIntensity,n(x.lightMap,E.lightMapTransform)),x.aoMap&&(E.aoMap.value=x.aoMap,E.aoMapIntensity.value=x.aoMapIntensity,n(x.aoMap,E.aoMapTransform))}function o(E,x){E.diffuse.value.copy(x.color),E.opacity.value=x.opacity,x.map&&(E.map.value=x.map,n(x.map,E.mapTransform))}function l(E,x){E.dashSize.value=x.dashSize,E.totalSize.value=x.dashSize+x.gapSize,E.scale.value=x.scale}function u(E,x,A,C){E.diffuse.value.copy(x.color),E.opacity.value=x.opacity,E.size.value=x.size*A,E.scale.value=C*.5,x.map&&(E.map.value=x.map,n(x.map,E.uvTransform)),x.alphaMap&&(E.alphaMap.value=x.alphaMap,n(x.alphaMap,E.alphaMapTransform)),x.alphaTest>0&&(E.alphaTest.value=x.alphaTest)}function c(E,x){E.diffuse.value.copy(x.color),E.opacity.value=x.opacity,E.rotation.value=x.rotation,x.map&&(E.map.value=x.map,n(x.map,E.mapTransform)),x.alphaMap&&(E.alphaMap.value=x.alphaMap,n(x.alphaMap,E.alphaMapTransform)),x.alphaTest>0&&(E.alphaTest.value=x.alphaTest)}function h(E,x){E.specular.value.copy(x.specular),E.shininess.value=Math.max(x.shininess,1e-4)}function p(E,x){x.gradientMap&&(E.gradientMap.value=x.gradientMap)}function g(E,x){E.metalness.value=x.metalness,x.metalnessMap&&(E.metalnessMap.value=x.metalnessMap,n(x.metalnessMap,E.metalnessMapTransform)),E.roughness.value=x.roughness,x.roughnessMap&&(E.roughnessMap.value=x.roughnessMap,n(x.roughnessMap,E.roughnessMapTransform)),x.envMap&&(E.envMapIntensity.value=x.envMapIntensity)}function v(E,x,A){E.ior.value=x.ior,x.sheen>0&&(E.sheenColor.value.copy(x.sheenColor).multiplyScalar(x.sheen),E.sheenRoughness.value=x.sheenRoughness,x.sheenColorMap&&(E.sheenColorMap.value=x.sheenColorMap,n(x.sheenColorMap,E.sheenColorMapTransform)),x.sheenRoughnessMap&&(E.sheenRoughnessMap.value=x.sheenRoughnessMap,n(x.sheenRoughnessMap,E.sheenRoughnessMapTransform))),x.clearcoat>0&&(E.clearcoat.value=x.clearcoat,E.clearcoatRoughness.value=x.clearcoatRoughness,x.clearcoatMap&&(E.clearcoatMap.value=x.clearcoatMap,n(x.clearcoatMap,E.clearcoatMapTransform)),x.clearcoatRoughnessMap&&(E.clearcoatRoughnessMap.value=x.clearcoatRoughnessMap,n(x.clearcoatRoughnessMap,E.clearcoatRoughnessMapTransform)),x.clearcoatNormalMap&&(E.clearcoatNormalMap.value=x.clearcoatNormalMap,n(x.clearcoatNormalMap,E.clearcoatNormalMapTransform),E.clearcoatNormalScale.value.copy(x.clearcoatNormalScale),x.side===Mo&&E.clearcoatNormalScale.value.negate())),x.dispersion>0&&(E.dispersion.value=x.dispersion),x.iridescence>0&&(E.iridescence.value=x.iridescence,E.iridescenceIOR.value=x.iridescenceIOR,E.iridescenceThicknessMinimum.value=x.iridescenceThicknessRange[0],E.iridescenceThicknessMaximum.value=x.iridescenceThicknessRange[1],x.iridescenceMap&&(E.iridescenceMap.value=x.iridescenceMap,n(x.iridescenceMap,E.iridescenceMapTransform)),x.iridescenceThicknessMap&&(E.iridescenceThicknessMap.value=x.iridescenceThicknessMap,n(x.iridescenceThicknessMap,E.iridescenceThicknessMapTransform))),x.transmission>0&&(E.transmission.value=x.transmission,E.transmissionSamplerMap.value=A.texture,E.transmissionSamplerSize.value.set(A.width,A.height),x.transmissionMap&&(E.transmissionMap.value=x.transmissionMap,n(x.transmissionMap,E.transmissionMapTransform)),E.thickness.value=x.thickness,x.thicknessMap&&(E.thicknessMap.value=x.thicknessMap,n(x.thicknessMap,E.thicknessMapTransform)),E.attenuationDistance.value=x.attenuationDistance,E.attenuationColor.value.copy(x.attenuationColor)),x.anisotropy>0&&(E.anisotropyVector.value.set(x.anisotropy*Math.cos(x.anisotropyRotation),x.anisotropy*Math.sin(x.anisotropyRotation)),x.anisotropyMap&&(E.anisotropyMap.value=x.anisotropyMap,n(x.anisotropyMap,E.anisotropyMapTransform))),E.specularIntensity.value=x.specularIntensity,E.specularColor.value.copy(x.specularColor),x.specularColorMap&&(E.specularColorMap.value=x.specularColorMap,n(x.specularColorMap,E.specularColorMapTransform)),x.specularIntensityMap&&(E.specularIntensityMap.value=x.specularIntensityMap,n(x.specularIntensityMap,E.specularIntensityMapTransform))}function b(E,x){x.matcap&&(E.matcap.value=x.matcap)}function S(E,x){const A=e.get(x).light;E.referencePosition.value.setFromMatrixPosition(A.matrixWorld),E.nearDistance.value=A.shadow.camera.near,E.farDistance.value=A.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:s}}function cot(i,e,n,r){let s={},a={},o=[];const l=i.getParameter(i.MAX_UNIFORM_BUFFER_BINDINGS);function u(A,C){const M=C.program;r.uniformBlockBinding(A,M)}function c(A,C){let M=s[A.id];M===void 0&&(b(A),M=h(A),s[A.id]=M,A.addEventListener("dispose",E));const P=C.program;r.updateUBOMapping(A,P);const k=e.render.frame;a[A.id]!==k&&(g(A),a[A.id]=k)}function h(A){const C=p();A.__bindingPointIndex=C;const M=i.createBuffer(),P=A.__size,k=A.usage;return i.bindBuffer(i.UNIFORM_BUFFER,M),i.bufferData(i.UNIFORM_BUFFER,P,k),i.bindBuffer(i.UNIFORM_BUFFER,null),i.bindBufferBase(i.UNIFORM_BUFFER,C,M),M}function p(){for(let A=0;A<l;A++)if(o.indexOf(A)===-1)return o.push(A),A;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function g(A){const C=s[A.id],M=A.uniforms,P=A.__cache;i.bindBuffer(i.UNIFORM_BUFFER,C);for(let k=0,D=M.length;k<D;k++){const N=Array.isArray(M[k])?M[k]:[M[k]];for(let U=0,R=N.length;U<R;U++){const B=N[U];if(v(B,k,U,P)===!0){const H=B.__offset,V=Array.isArray(B.value)?B.value:[B.value];let Y=0;for(let et=0;et<V.length;et++){const G=V[et],X=S(G);typeof G=="number"||typeof G=="boolean"?(B.__data[0]=G,i.bufferSubData(i.UNIFORM_BUFFER,H+Y,B.__data)):G.isMatrix3?(B.__data[0]=G.elements[0],B.__data[1]=G.elements[1],B.__data[2]=G.elements[2],B.__data[3]=0,B.__data[4]=G.elements[3],B.__data[5]=G.elements[4],B.__data[6]=G.elements[5],B.__data[7]=0,B.__data[8]=G.elements[6],B.__data[9]=G.elements[7],B.__data[10]=G.elements[8],B.__data[11]=0):(G.toArray(B.__data,Y),Y+=X.storage/Float32Array.BYTES_PER_ELEMENT)}i.bufferSubData(i.UNIFORM_BUFFER,H,B.__data)}}}i.bindBuffer(i.UNIFORM_BUFFER,null)}function v(A,C,M,P){const k=A.value,D=C+"_"+M;if(P[D]===void 0)return typeof k=="number"||typeof k=="boolean"?P[D]=k:P[D]=k.clone(),!0;{const N=P[D];if(typeof k=="number"||typeof k=="boolean"){if(N!==k)return P[D]=k,!0}else if(N.equals(k)===!1)return N.copy(k),!0}return!1}function b(A){const C=A.uniforms;let M=0;const P=16;for(let D=0,N=C.length;D<N;D++){const U=Array.isArray(C[D])?C[D]:[C[D]];for(let R=0,B=U.length;R<B;R++){const H=U[R],V=Array.isArray(H.value)?H.value:[H.value];for(let Y=0,et=V.length;Y<et;Y++){const G=V[Y],X=S(G),J=M%P,nt=J%X.boundary,Z=J+nt;M+=nt,Z!==0&&P-Z<X.storage&&(M+=P-Z),H.__data=new Float32Array(X.storage/Float32Array.BYTES_PER_ELEMENT),H.__offset=M,M+=X.storage}}}const k=M%P;return k>0&&(M+=P-k),A.__size=M,A.__cache={},this}function S(A){const C={boundary:0,storage:0};return typeof A=="number"||typeof A=="boolean"?(C.boundary=4,C.storage=4):A.isVector2?(C.boundary=8,C.storage=8):A.isVector3||A.isColor?(C.boundary=16,C.storage=12):A.isVector4?(C.boundary=16,C.storage=16):A.isMatrix3?(C.boundary=48,C.storage=48):A.isMatrix4?(C.boundary=64,C.storage=64):A.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",A),C}function E(A){const C=A.target;C.removeEventListener("dispose",E);const M=o.indexOf(C.__bindingPointIndex);o.splice(M,1),i.deleteBuffer(s[C.id]),delete s[C.id],delete a[C.id]}function x(){for(const A in s)i.deleteBuffer(s[A]);o=[],s={},a={}}return{bind:u,update:c,dispose:x}}class oG{constructor(e={}){const{canvas:n=ej(),context:r=null,depth:s=!0,stencil:a=!1,alpha:o=!1,antialias:l=!1,premultipliedAlpha:u=!0,preserveDrawingBuffer:c=!1,powerPreference:h="default",failIfMajorPerformanceCaveat:p=!1,reverseDepthBuffer:g=!1}=e;this.isWebGLRenderer=!0;let v;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");v=r.getContextAttributes().alpha}else v=o;const b=new Uint32Array(4),S=new Int32Array(4);let E=null,x=null;const A=[],C=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=ya,this.toneMapping=Kf,this.toneMappingExposure=1;const M=this;let P=!1,k=0,D=0,N=null,U=-1,R=null;const B=new Ei,H=new Ei;let V=null;const Y=new He(0);let et=0,G=n.width,X=n.height,J=1,nt=null,Z=null;const dt=new Ei(0,0,G,X),yt=new Ei(0,0,G,X);let xt=!1;const it=new vE;let ht=!1,lt=!1;this.transmissionResolutionScale=1;const gt=new Sn,Tt=new Sn,Kt=new pt,Ut=new Ei,te={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Pt=!1;function Bt(){return N===null?J:1}let at=r;function ce(rt,St){return n.getContext(rt,St)}try{const rt={alpha:!0,depth:s,stencil:a,antialias:l,premultipliedAlpha:u,preserveDrawingBuffer:c,powerPreference:h,failIfMajorPerformanceCaveat:p};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${dE}`),n.addEventListener("webglcontextlost",se,!1),n.addEventListener("webglcontextrestored",Pe,!1),n.addEventListener("webglcontextcreationerror",Se,!1),at===null){const St="webgl2";if(at=ce(St,rt),at===null)throw ce(St)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(rt){throw console.error("THREE.WebGLRenderer: "+rt.message),rt}let ee,ne,ie,Me,le,ut,j,ct,mt,Rt,_t,Ct,Lt,Jt,Le,Ht,_e,Re,Oe,Zt,Ie,Ue,ln,wt;function Ce(){ee=new Sst(at),ee.init(),Ue=new aG(at,ee),ne=new mst(at,ee,e,Ue),ie=new not(at,ee),ne.reverseDepthBuffer&&g&&ie.buffers.depth.setReversed(!0),Me=new wst(at),le=new jat,ut=new iot(at,ee,ie,le,ne,Ue,Me),j=new yst(M),ct=new xst(M),mt=new Pnt(at),ln=new dst(at,mt),Rt=new Est(at,mt,Me,ln),_t=new Mst(at,Rt,mt,Me),Oe=new Ast(at,ne,ut),Ht=new gst(le),Ct=new Hat(M,j,ct,ee,ne,ln,Ht),Lt=new uot(M,le),Jt=new $at,Le=new Zat(ee),Re=new hst(M,j,ct,ie,_t,v,u),_e=new tot(M,_t,ne),wt=new cot(at,Me,ne,ie),Zt=new pst(at,ee,Me),Ie=new Tst(at,ee,Me),Me.programs=Ct.programs,M.capabilities=ne,M.extensions=ee,M.properties=le,M.renderLists=Jt,M.shadowMap=_e,M.state=ie,M.info=Me}Ce();const Xt=new oot(M,at);this.xr=Xt,this.getContext=function(){return at},this.getContextAttributes=function(){return at.getContextAttributes()},this.forceContextLoss=function(){const rt=ee.get("WEBGL_lose_context");rt&&rt.loseContext()},this.forceContextRestore=function(){const rt=ee.get("WEBGL_lose_context");rt&&rt.restoreContext()},this.getPixelRatio=function(){return J},this.setPixelRatio=function(rt){rt!==void 0&&(J=rt,this.setSize(G,X,!1))},this.getSize=function(rt){return rt.set(G,X)},this.setSize=function(rt,St,Ft=!0){if(Xt.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}G=rt,X=St,n.width=Math.floor(rt*J),n.height=Math.floor(St*J),Ft===!0&&(n.style.width=rt+"px",n.style.height=St+"px"),this.setViewport(0,0,rt,St)},this.getDrawingBufferSize=function(rt){return rt.set(G*J,X*J).floor()},this.setDrawingBufferSize=function(rt,St,Ft){G=rt,X=St,J=Ft,n.width=Math.floor(rt*Ft),n.height=Math.floor(St*Ft),this.setViewport(0,0,rt,St)},this.getCurrentViewport=function(rt){return rt.copy(B)},this.getViewport=function(rt){return rt.copy(dt)},this.setViewport=function(rt,St,Ft,jt){rt.isVector4?dt.set(rt.x,rt.y,rt.z,rt.w):dt.set(rt,St,Ft,jt),ie.viewport(B.copy(dt).multiplyScalar(J).round())},this.getScissor=function(rt){return rt.copy(yt)},this.setScissor=function(rt,St,Ft,jt){rt.isVector4?yt.set(rt.x,rt.y,rt.z,rt.w):yt.set(rt,St,Ft,jt),ie.scissor(H.copy(yt).multiplyScalar(J).round())},this.getScissorTest=function(){return xt},this.setScissorTest=function(rt){ie.setScissorTest(xt=rt)},this.setOpaqueSort=function(rt){nt=rt},this.setTransparentSort=function(rt){Z=rt},this.getClearColor=function(rt){return rt.copy(Re.getClearColor())},this.setClearColor=function(){Re.setClearColor(...arguments)},this.getClearAlpha=function(){return Re.getClearAlpha()},this.setClearAlpha=function(){Re.setClearAlpha(...arguments)},this.clear=function(rt=!0,St=!0,Ft=!0){let jt=0;if(rt){let It=!1;if(N!==null){const pe=N.texture.format;It=pe===X2||pe===W2||pe===mE}if(It){const pe=N.texture.type,Te=pe===Lc||pe===Pd||pe===C_||pe===zy||pe===G2||pe===$2,we=Re.getClearColor(),Fe=Re.getClearAlpha(),pn=we.r,nn=we.g,We=we.b;Te?(b[0]=pn,b[1]=nn,b[2]=We,b[3]=Fe,at.clearBufferuiv(at.COLOR,0,b)):(S[0]=pn,S[1]=nn,S[2]=We,S[3]=Fe,at.clearBufferiv(at.COLOR,0,S))}else jt|=at.COLOR_BUFFER_BIT}St&&(jt|=at.DEPTH_BUFFER_BIT),Ft&&(jt|=at.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),at.clear(jt)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",se,!1),n.removeEventListener("webglcontextrestored",Pe,!1),n.removeEventListener("webglcontextcreationerror",Se,!1),Re.dispose(),Jt.dispose(),Le.dispose(),le.dispose(),j.dispose(),ct.dispose(),_t.dispose(),ln.dispose(),wt.dispose(),Ct.dispose(),Xt.dispose(),Xt.removeEventListener("sessionstart",Qe),Xt.removeEventListener("sessionend",Ye),Mn.stop()};function se(rt){rt.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),P=!0}function Pe(){console.log("THREE.WebGLRenderer: Context Restored."),P=!1;const rt=Me.autoReset,St=_e.enabled,Ft=_e.autoUpdate,jt=_e.needsUpdate,It=_e.type;Ce(),Me.autoReset=rt,_e.enabled=St,_e.autoUpdate=Ft,_e.needsUpdate=jt,_e.type=It}function Se(rt){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",rt.statusMessage)}function cn(rt){const St=rt.target;St.removeEventListener("dispose",cn),Qn(St)}function Qn(rt){je(rt),le.remove(rt)}function je(rt){const St=le.get(rt).programs;St!==void 0&&(St.forEach(function(Ft){Ct.releaseProgram(Ft)}),rt.isShaderMaterial&&Ct.releaseShaderCache(rt))}this.renderBufferDirect=function(rt,St,Ft,jt,It,pe){St===null&&(St=te);const Te=It.isMesh&&It.matrixWorld.determinant()<0,we=eo(rt,St,Ft,jt,It);ie.setMaterial(jt,Te);let Fe=Ft.index,pn=1;if(jt.wireframe===!0){if(Fe=Rt.getWireframeAttribute(Ft),Fe===void 0)return;pn=2}const nn=Ft.drawRange,We=Ft.attributes.position;let Fn=nn.start*pn,ti=(nn.start+nn.count)*pn;pe!==null&&(Fn=Math.max(Fn,pe.start*pn),ti=Math.min(ti,(pe.start+pe.count)*pn)),Fe!==null?(Fn=Math.max(Fn,0),ti=Math.min(ti,Fe.count)):We!=null&&(Fn=Math.max(Fn,0),ti=Math.min(ti,We.count));const Ui=ti-Fn;if(Ui<0||Ui===1/0)return;ln.setup(It,jt,we,Ft,Fe);let jn,Xn=Zt;if(Fe!==null&&(jn=mt.get(Fe),Xn=Ie,Xn.setIndex(jn)),It.isMesh)jt.wireframe===!0?(ie.setLineWidth(jt.wireframeLinewidth*Bt()),Xn.setMode(at.LINES)):Xn.setMode(at.TRIANGLES);else if(It.isLine){let rn=jt.linewidth;rn===void 0&&(rn=1),ie.setLineWidth(rn*Bt()),It.isLineSegments?Xn.setMode(at.LINES):It.isLineLoop?Xn.setMode(at.LINE_LOOP):Xn.setMode(at.LINE_STRIP)}else It.isPoints?Xn.setMode(at.POINTS):It.isSprite&&Xn.setMode(at.TRIANGLES);if(It.isBatchedMesh)if(It._multiDrawInstances!==null)Qg("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),Xn.renderMultiDrawInstances(It._multiDrawStarts,It._multiDrawCounts,It._multiDrawCount,It._multiDrawInstances);else if(ee.get("WEBGL_multi_draw"))Xn.renderMultiDraw(It._multiDrawStarts,It._multiDrawCounts,It._multiDrawCount);else{const rn=It._multiDrawStarts,er=It._multiDrawCounts,ei=It._multiDrawCount,Xr=Fe?mt.get(Fe).bytesPerElement:1,Io=le.get(jt).currentProgram.getUniforms();for(let li=0;li<ei;li++)Io.setValue(at,"_gl_DrawID",li),Xn.render(rn[li]/Xr,er[li])}else if(It.isInstancedMesh)Xn.renderInstances(Fn,Ui,It.count);else if(Ft.isInstancedBufferGeometry){const rn=Ft._maxInstanceCount!==void 0?Ft._maxInstanceCount:1/0,er=Math.min(Ft.instanceCount,rn);Xn.renderInstances(Fn,Ui,er)}else Xn.render(Fn,Ui)};function en(rt,St,Ft){rt.transparent===!0&&rt.side===Vf&&rt.forceSinglePass===!1?(rt.side=Mo,rt.needsUpdate=!0,pi(rt,St,Ft),rt.side=Rd,rt.needsUpdate=!0,pi(rt,St,Ft),rt.side=Vf):pi(rt,St,Ft)}this.compile=function(rt,St,Ft=null){Ft===null&&(Ft=rt),x=Le.get(Ft),x.init(St),C.push(x),Ft.traverseVisible(function(It){It.isLight&&It.layers.test(St.layers)&&(x.pushLight(It),It.castShadow&&x.pushShadow(It))}),rt!==Ft&&rt.traverseVisible(function(It){It.isLight&&It.layers.test(St.layers)&&(x.pushLight(It),It.castShadow&&x.pushShadow(It))}),x.setupLights();const jt=new Set;return rt.traverse(function(It){if(!(It.isMesh||It.isPoints||It.isLine||It.isSprite))return;const pe=It.material;if(pe)if(Array.isArray(pe))for(let Te=0;Te<pe.length;Te++){const we=pe[Te];en(we,Ft,It),jt.add(we)}else en(pe,Ft,It),jt.add(pe)}),x=C.pop(),jt},this.compileAsync=function(rt,St,Ft=null){const jt=this.compile(rt,St,Ft);return new Promise(It=>{function pe(){if(jt.forEach(function(Te){le.get(Te).currentProgram.isReady()&&jt.delete(Te)}),jt.size===0){It(rt);return}setTimeout(pe,10)}ee.get("KHR_parallel_shader_compile")!==null?pe():setTimeout(pe,10)})};let Ee=null;function ye(rt){Ee&&Ee(rt)}function Qe(){Mn.stop()}function Ye(){Mn.start()}const Mn=new eG;Mn.setAnimationLoop(ye),typeof self<"u"&&Mn.setContext(self),this.setAnimationLoop=function(rt){Ee=rt,Xt.setAnimationLoop(rt),rt===null?Mn.stop():Mn.start()},Xt.addEventListener("sessionstart",Qe),Xt.addEventListener("sessionend",Ye),this.render=function(rt,St){if(St!==void 0&&St.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(P===!0)return;if(rt.matrixWorldAutoUpdate===!0&&rt.updateMatrixWorld(),St.parent===null&&St.matrixWorldAutoUpdate===!0&&St.updateMatrixWorld(),Xt.enabled===!0&&Xt.isPresenting===!0&&(Xt.cameraAutoUpdate===!0&&Xt.updateCamera(St),St=Xt.getCamera()),rt.isScene===!0&&rt.onBeforeRender(M,rt,St,N),x=Le.get(rt,C.length),x.init(St),C.push(x),Tt.multiplyMatrices(St.projectionMatrix,St.matrixWorldInverse),it.setFromProjectionMatrix(Tt),lt=this.localClippingEnabled,ht=Ht.init(this.clippingPlanes,lt),E=Jt.get(rt,A.length),E.init(),A.push(E),Xt.enabled===!0&&Xt.isPresenting===!0){const pe=M.xr.getDepthSensingMesh();pe!==null&&Hi(pe,St,-1/0,M.sortObjects)}Hi(rt,St,0,M.sortObjects),E.finish(),M.sortObjects===!0&&E.sort(nt,Z),Pt=Xt.enabled===!1||Xt.isPresenting===!1||Xt.hasDepthSensing()===!1,Pt&&Re.addToRenderList(E,rt),this.info.render.frame++,ht===!0&&Ht.beginShadows();const Ft=x.state.shadowsArray;_e.render(Ft,rt,St),ht===!0&&Ht.endShadows(),this.info.autoReset===!0&&this.info.reset();const jt=E.opaque,It=E.transmissive;if(x.setupLights(),St.isArrayCamera){const pe=St.cameras;if(It.length>0)for(let Te=0,we=pe.length;Te<we;Te++){const Fe=pe[Te];lr(jt,It,rt,Fe)}Pt&&Re.render(rt);for(let Te=0,we=pe.length;Te<we;Te++){const Fe=pe[Te];ra(E,rt,Fe,Fe.viewport)}}else It.length>0&&lr(jt,It,rt,St),Pt&&Re.render(rt),ra(E,rt,St);N!==null&&D===0&&(ut.updateMultisampleRenderTarget(N),ut.updateRenderTargetMipmap(N)),rt.isScene===!0&&rt.onAfterRender(M,rt,St),ln.resetDefaultState(),U=-1,R=null,C.pop(),C.length>0?(x=C[C.length-1],ht===!0&&Ht.setGlobalState(M.clippingPlanes,x.state.camera)):x=null,A.pop(),A.length>0?E=A[A.length-1]:E=null};function Hi(rt,St,Ft,jt){if(rt.visible===!1)return;if(rt.layers.test(St.layers)){if(rt.isGroup)Ft=rt.renderOrder;else if(rt.isLOD)rt.autoUpdate===!0&&rt.update(St);else if(rt.isLight)x.pushLight(rt),rt.castShadow&&x.pushShadow(rt);else if(rt.isSprite){if(!rt.frustumCulled||it.intersectsSprite(rt)){jt&&Ut.setFromMatrixPosition(rt.matrixWorld).applyMatrix4(Tt);const Te=_t.update(rt),we=rt.material;we.visible&&E.push(rt,Te,we,Ft,Ut.z,null)}}else if((rt.isMesh||rt.isLine||rt.isPoints)&&(!rt.frustumCulled||it.intersectsObject(rt))){const Te=_t.update(rt),we=rt.material;if(jt&&(rt.boundingSphere!==void 0?(rt.boundingSphere===null&&rt.computeBoundingSphere(),Ut.copy(rt.boundingSphere.center)):(Te.boundingSphere===null&&Te.computeBoundingSphere(),Ut.copy(Te.boundingSphere.center)),Ut.applyMatrix4(rt.matrixWorld).applyMatrix4(Tt)),Array.isArray(we)){const Fe=Te.groups;for(let pn=0,nn=Fe.length;pn<nn;pn++){const We=Fe[pn],Fn=we[We.materialIndex];Fn&&Fn.visible&&E.push(rt,Te,Fn,Ft,Ut.z,We)}}else we.visible&&E.push(rt,Te,we,Ft,Ut.z,null)}}const pe=rt.children;for(let Te=0,we=pe.length;Te<we;Te++)Hi(pe[Te],St,Ft,jt)}function ra(rt,St,Ft,jt){const It=rt.opaque,pe=rt.transmissive,Te=rt.transparent;x.setupLightsView(Ft),ht===!0&&Ht.setGlobalState(M.clippingPlanes,Ft),jt&&ie.viewport(B.copy(jt)),It.length>0&&Wr(It,St,Ft),pe.length>0&&Wr(pe,St,Ft),Te.length>0&&Wr(Te,St,Ft),ie.buffers.depth.setTest(!0),ie.buffers.depth.setMask(!0),ie.buffers.color.setMask(!0),ie.setPolygonOffset(!1)}function lr(rt,St,Ft,jt){if((Ft.isScene===!0?Ft.overrideMaterial:null)!==null)return;x.state.transmissionRenderTarget[jt.id]===void 0&&(x.state.transmissionRenderTarget[jt.id]=new ah(1,1,{generateMipmaps:!0,type:ee.has("EXT_color_buffer_half_float")||ee.has("EXT_color_buffer_float")?cb:Lc,minFilter:Gf,samples:4,stencilBuffer:a,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:vi.workingColorSpace}));const pe=x.state.transmissionRenderTarget[jt.id],Te=jt.viewport||B;pe.setSize(Te.z*M.transmissionResolutionScale,Te.w*M.transmissionResolutionScale);const we=M.getRenderTarget();M.setRenderTarget(pe),M.getClearColor(Y),et=M.getClearAlpha(),et<1&&M.setClearColor(16777215,.5),M.clear(),Pt&&Re.render(Ft);const Fe=M.toneMapping;M.toneMapping=Kf;const pn=jt.viewport;if(jt.viewport!==void 0&&(jt.viewport=void 0),x.setupLightsView(jt),ht===!0&&Ht.setGlobalState(M.clippingPlanes,jt),Wr(rt,Ft,jt),ut.updateMultisampleRenderTarget(pe),ut.updateRenderTargetMipmap(pe),ee.has("WEBGL_multisampled_render_to_texture")===!1){let nn=!1;for(let We=0,Fn=St.length;We<Fn;We++){const ti=St[We],Ui=ti.object,jn=ti.geometry,Xn=ti.material,rn=ti.group;if(Xn.side===Vf&&Ui.layers.test(jt.layers)){const er=Xn.side;Xn.side=Mo,Xn.needsUpdate=!0,Ds(Ui,Ft,jt,jn,Xn,rn),Xn.side=er,Xn.needsUpdate=!0,nn=!0}}nn===!0&&(ut.updateMultisampleRenderTarget(pe),ut.updateRenderTargetMipmap(pe))}M.setRenderTarget(we),M.setClearColor(Y,et),pn!==void 0&&(jt.viewport=pn),M.toneMapping=Fe}function Wr(rt,St,Ft){const jt=St.isScene===!0?St.overrideMaterial:null;for(let It=0,pe=rt.length;It<pe;It++){const Te=rt[It],we=Te.object,Fe=Te.geometry,pn=jt===null?Te.material:jt,nn=Te.group;we.layers.test(Ft.layers)&&Ds(we,St,Ft,Fe,pn,nn)}}function Ds(rt,St,Ft,jt,It,pe){rt.onBeforeRender(M,St,Ft,jt,It,pe),rt.modelViewMatrix.multiplyMatrices(Ft.matrixWorldInverse,rt.matrixWorld),rt.normalMatrix.getNormalMatrix(rt.modelViewMatrix),It.onBeforeRender(M,St,Ft,jt,rt,pe),It.transparent===!0&&It.side===Vf&&It.forceSinglePass===!1?(It.side=Mo,It.needsUpdate=!0,M.renderBufferDirect(Ft,St,jt,It,rt,pe),It.side=Rd,It.needsUpdate=!0,M.renderBufferDirect(Ft,St,jt,It,rt,pe),It.side=Vf):M.renderBufferDirect(Ft,St,jt,It,rt,pe),rt.onAfterRender(M,St,Ft,jt,It,pe)}function pi(rt,St,Ft){St.isScene!==!0&&(St=te);const jt=le.get(rt),It=x.state.lights,pe=x.state.shadowsArray,Te=It.state.version,we=Ct.getParameters(rt,It.state,pe,St,Ft),Fe=Ct.getProgramCacheKey(we);let pn=jt.programs;jt.environment=rt.isMeshStandardMaterial?St.environment:null,jt.fog=St.fog,jt.envMap=(rt.isMeshStandardMaterial?ct:j).get(rt.envMap||jt.environment),jt.envMapRotation=jt.environment!==null&&rt.envMap===null?St.environmentRotation:rt.envMapRotation,pn===void 0&&(rt.addEventListener("dispose",cn),pn=new Map,jt.programs=pn);let nn=pn.get(Fe);if(nn!==void 0){if(jt.currentProgram===nn&&jt.lightsStateVersion===Te)return sa(rt,we),nn}else we.uniforms=Ct.getUniforms(rt),rt.onBeforeCompile(we,M),nn=Ct.acquireProgram(we,Fe),pn.set(Fe,nn),jt.uniforms=we.uniforms;const We=jt.uniforms;return(!rt.isShaderMaterial&&!rt.isRawShaderMaterial||rt.clipping===!0)&&(We.clippingPlanes=Ht.uniform),sa(rt,we),jt.needsLights=hr(rt),jt.lightsStateVersion=Te,jt.needsLights&&(We.ambientLightColor.value=It.state.ambient,We.lightProbe.value=It.state.probe,We.directionalLights.value=It.state.directional,We.directionalLightShadows.value=It.state.directionalShadow,We.spotLights.value=It.state.spot,We.spotLightShadows.value=It.state.spotShadow,We.rectAreaLights.value=It.state.rectArea,We.ltc_1.value=It.state.rectAreaLTC1,We.ltc_2.value=It.state.rectAreaLTC2,We.pointLights.value=It.state.point,We.pointLightShadows.value=It.state.pointShadow,We.hemisphereLights.value=It.state.hemi,We.directionalShadowMap.value=It.state.directionalShadowMap,We.directionalShadowMatrix.value=It.state.directionalShadowMatrix,We.spotShadowMap.value=It.state.spotShadowMap,We.spotLightMatrix.value=It.state.spotLightMatrix,We.spotLightMap.value=It.state.spotLightMap,We.pointShadowMap.value=It.state.pointShadowMap,We.pointShadowMatrix.value=It.state.pointShadowMatrix),jt.currentProgram=nn,jt.uniformsList=null,nn}function Aa(rt){if(rt.uniformsList===null){const St=rt.currentProgram.getUniforms();rt.uniformsList=oM.seqWithValue(St.seq,rt.uniforms)}return rt.uniformsList}function sa(rt,St){const Ft=le.get(rt);Ft.outputColorSpace=St.outputColorSpace,Ft.batching=St.batching,Ft.batchingColor=St.batchingColor,Ft.instancing=St.instancing,Ft.instancingColor=St.instancingColor,Ft.instancingMorph=St.instancingMorph,Ft.skinning=St.skinning,Ft.morphTargets=St.morphTargets,Ft.morphNormals=St.morphNormals,Ft.morphColors=St.morphColors,Ft.morphTargetsCount=St.morphTargetsCount,Ft.numClippingPlanes=St.numClippingPlanes,Ft.numIntersection=St.numClipIntersection,Ft.vertexAlphas=St.vertexAlphas,Ft.vertexTangents=St.vertexTangents,Ft.toneMapping=St.toneMapping}function eo(rt,St,Ft,jt,It){St.isScene!==!0&&(St=te),ut.resetTextureUnits();const pe=St.fog,Te=jt.isMeshStandardMaterial?St.environment:null,we=N===null?M.outputColorSpace:N.isXRRenderTarget===!0?N.texture.colorSpace:Em,Fe=(jt.isMeshStandardMaterial?ct:j).get(jt.envMap||Te),pn=jt.vertexColors===!0&&!!Ft.attributes.color&&Ft.attributes.color.itemSize===4,nn=!!Ft.attributes.tangent&&(!!jt.normalMap||jt.anisotropy>0),We=!!Ft.morphAttributes.position,Fn=!!Ft.morphAttributes.normal,ti=!!Ft.morphAttributes.color;let Ui=Kf;jt.toneMapped&&(N===null||N.isXRRenderTarget===!0)&&(Ui=M.toneMapping);const jn=Ft.morphAttributes.position||Ft.morphAttributes.normal||Ft.morphAttributes.color,Xn=jn!==void 0?jn.length:0,rn=le.get(jt),er=x.state.lights;if(ht===!0&&(lt===!0||rt!==R)){const On=rt===R&&jt.id===U;Ht.setState(jt,rt,On)}let ei=!1;jt.version===rn.__version?(rn.needsLights&&rn.lightsStateVersion!==er.state.version||rn.outputColorSpace!==we||It.isBatchedMesh&&rn.batching===!1||!It.isBatchedMesh&&rn.batching===!0||It.isBatchedMesh&&rn.batchingColor===!0&&It.colorTexture===null||It.isBatchedMesh&&rn.batchingColor===!1&&It.colorTexture!==null||It.isInstancedMesh&&rn.instancing===!1||!It.isInstancedMesh&&rn.instancing===!0||It.isSkinnedMesh&&rn.skinning===!1||!It.isSkinnedMesh&&rn.skinning===!0||It.isInstancedMesh&&rn.instancingColor===!0&&It.instanceColor===null||It.isInstancedMesh&&rn.instancingColor===!1&&It.instanceColor!==null||It.isInstancedMesh&&rn.instancingMorph===!0&&It.morphTexture===null||It.isInstancedMesh&&rn.instancingMorph===!1&&It.morphTexture!==null||rn.envMap!==Fe||jt.fog===!0&&rn.fog!==pe||rn.numClippingPlanes!==void 0&&(rn.numClippingPlanes!==Ht.numPlanes||rn.numIntersection!==Ht.numIntersection)||rn.vertexAlphas!==pn||rn.vertexTangents!==nn||rn.morphTargets!==We||rn.morphNormals!==Fn||rn.morphColors!==ti||rn.toneMapping!==Ui||rn.morphTargetsCount!==Xn)&&(ei=!0):(ei=!0,rn.__version=jt.version);let Xr=rn.currentProgram;ei===!0&&(Xr=pi(jt,St,It));let Io=!1,li=!1,Yr=!1;const mi=Xr.getUniforms(),Sr=rn.uniforms;if(ie.useProgram(Xr.program)&&(Io=!0,li=!0,Yr=!0),jt.id!==U&&(U=jt.id,li=!0),Io||R!==rt){ie.buffers.depth.getReversed()?(gt.copy(rt.projectionMatrix),JJ(gt),ttt(gt),mi.setValue(at,"projectionMatrix",gt)):mi.setValue(at,"projectionMatrix",rt.projectionMatrix),mi.setValue(at,"viewMatrix",rt.matrixWorldInverse);const pr=mi.map.cameraPosition;pr!==void 0&&pr.setValue(at,Kt.setFromMatrixPosition(rt.matrixWorld)),ne.logarithmicDepthBuffer&&mi.setValue(at,"logDepthBufFC",2/(Math.log(rt.far+1)/Math.LN2)),(jt.isMeshPhongMaterial||jt.isMeshToonMaterial||jt.isMeshLambertMaterial||jt.isMeshBasicMaterial||jt.isMeshStandardMaterial||jt.isShaderMaterial)&&mi.setValue(at,"isOrthographic",rt.isOrthographicCamera===!0),R!==rt&&(R=rt,li=!0,Yr=!0)}if(It.isSkinnedMesh){mi.setOptional(at,It,"bindMatrix"),mi.setOptional(at,It,"bindMatrixInverse");const On=It.skeleton;On&&(On.boneTexture===null&&On.computeBoneTexture(),mi.setValue(at,"boneTexture",On.boneTexture,ut))}It.isBatchedMesh&&(mi.setOptional(at,It,"batchingTexture"),mi.setValue(at,"batchingTexture",It._matricesTexture,ut),mi.setOptional(at,It,"batchingIdTexture"),mi.setValue(at,"batchingIdTexture",It._indirectTexture,ut),mi.setOptional(at,It,"batchingColorTexture"),It._colorsTexture!==null&&mi.setValue(at,"batchingColorTexture",It._colorsTexture,ut));const dr=Ft.morphAttributes;if((dr.position!==void 0||dr.normal!==void 0||dr.color!==void 0)&&Oe.update(It,Ft,Xr),(li||rn.receiveShadow!==It.receiveShadow)&&(rn.receiveShadow=It.receiveShadow,mi.setValue(at,"receiveShadow",It.receiveShadow)),jt.isMeshGouraudMaterial&&jt.envMap!==null&&(Sr.envMap.value=Fe,Sr.flipEnvMap.value=Fe.isCubeTexture&&Fe.isRenderTargetTexture===!1?-1:1),jt.isMeshStandardMaterial&&jt.envMap===null&&St.environment!==null&&(Sr.envMapIntensity.value=St.environmentIntensity),li&&(mi.setValue(at,"toneMappingExposure",M.toneMappingExposure),rn.needsLights&&_s(Sr,Yr),pe&&jt.fog===!0&&Lt.refreshFogUniforms(Sr,pe),Lt.refreshMaterialUniforms(Sr,jt,J,X,x.state.transmissionRenderTarget[rt.id]),oM.upload(at,Aa(rn),Sr,ut)),jt.isShaderMaterial&&jt.uniformsNeedUpdate===!0&&(oM.upload(at,Aa(rn),Sr,ut),jt.uniformsNeedUpdate=!1),jt.isSpriteMaterial&&mi.setValue(at,"center",It.center),mi.setValue(at,"modelViewMatrix",It.modelViewMatrix),mi.setValue(at,"normalMatrix",It.normalMatrix),mi.setValue(at,"modelMatrix",It.matrixWorld),jt.isShaderMaterial||jt.isRawShaderMaterial){const On=jt.uniformsGroups;for(let pr=0,Ir=On.length;pr<Ir;pr++){const qs=On[pr];wt.update(qs,Xr),wt.bind(qs,Xr)}}return Xr}function _s(rt,St){rt.ambientLightColor.needsUpdate=St,rt.lightProbe.needsUpdate=St,rt.directionalLights.needsUpdate=St,rt.directionalLightShadows.needsUpdate=St,rt.pointLights.needsUpdate=St,rt.pointLightShadows.needsUpdate=St,rt.spotLights.needsUpdate=St,rt.spotLightShadows.needsUpdate=St,rt.rectAreaLights.needsUpdate=St,rt.hemisphereLights.needsUpdate=St}function hr(rt){return rt.isMeshLambertMaterial||rt.isMeshToonMaterial||rt.isMeshPhongMaterial||rt.isMeshStandardMaterial||rt.isShadowMaterial||rt.isShaderMaterial&&rt.lights===!0}this.getActiveCubeFace=function(){return k},this.getActiveMipmapLevel=function(){return D},this.getRenderTarget=function(){return N},this.setRenderTargetTextures=function(rt,St,Ft){le.get(rt.texture).__webglTexture=St,le.get(rt.depthTexture).__webglTexture=Ft;const jt=le.get(rt);jt.__hasExternalTextures=!0,jt.__autoAllocateDepthBuffer=Ft===void 0,jt.__autoAllocateDepthBuffer||ee.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),jt.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(rt,St){const Ft=le.get(rt);Ft.__webglFramebuffer=St,Ft.__useDefaultFramebuffer=St===void 0};const Wu=at.createFramebuffer();this.setRenderTarget=function(rt,St=0,Ft=0){N=rt,k=St,D=Ft;let jt=!0,It=null,pe=!1,Te=!1;if(rt){const Fe=le.get(rt);if(Fe.__useDefaultFramebuffer!==void 0)ie.bindFramebuffer(at.FRAMEBUFFER,null),jt=!1;else if(Fe.__webglFramebuffer===void 0)ut.setupRenderTarget(rt);else if(Fe.__hasExternalTextures)ut.rebindTextures(rt,le.get(rt.texture).__webglTexture,le.get(rt.depthTexture).__webglTexture);else if(rt.depthBuffer){const We=rt.depthTexture;if(Fe.__boundDepthTexture!==We){if(We!==null&&le.has(We)&&(rt.width!==We.image.width||rt.height!==We.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");ut.setupDepthRenderbuffer(rt)}}const pn=rt.texture;(pn.isData3DTexture||pn.isDataArrayTexture||pn.isCompressedArrayTexture)&&(Te=!0);const nn=le.get(rt).__webglFramebuffer;rt.isWebGLCubeRenderTarget?(Array.isArray(nn[St])?It=nn[St][Ft]:It=nn[St],pe=!0):rt.samples>0&&ut.useMultisampledRTT(rt)===!1?It=le.get(rt).__webglMultisampledFramebuffer:Array.isArray(nn)?It=nn[Ft]:It=nn,B.copy(rt.viewport),H.copy(rt.scissor),V=rt.scissorTest}else B.copy(dt).multiplyScalar(J).floor(),H.copy(yt).multiplyScalar(J).floor(),V=xt;if(Ft!==0&&(It=Wu),ie.bindFramebuffer(at.FRAMEBUFFER,It)&&jt&&ie.drawBuffers(rt,It),ie.viewport(B),ie.scissor(H),ie.setScissorTest(V),pe){const Fe=le.get(rt.texture);at.framebufferTexture2D(at.FRAMEBUFFER,at.COLOR_ATTACHMENT0,at.TEXTURE_CUBE_MAP_POSITIVE_X+St,Fe.__webglTexture,Ft)}else if(Te){const Fe=le.get(rt.texture),pn=St;at.framebufferTextureLayer(at.FRAMEBUFFER,at.COLOR_ATTACHMENT0,Fe.__webglTexture,Ft,pn)}else if(rt!==null&&Ft!==0){const Fe=le.get(rt.texture);at.framebufferTexture2D(at.FRAMEBUFFER,at.COLOR_ATTACHMENT0,at.TEXTURE_2D,Fe.__webglTexture,Ft)}U=-1},this.readRenderTargetPixels=function(rt,St,Ft,jt,It,pe,Te){if(!(rt&&rt.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let we=le.get(rt).__webglFramebuffer;if(rt.isWebGLCubeRenderTarget&&Te!==void 0&&(we=we[Te]),we){ie.bindFramebuffer(at.FRAMEBUFFER,we);try{const Fe=rt.texture,pn=Fe.format,nn=Fe.type;if(!ne.textureFormatReadable(pn)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!ne.textureTypeReadable(nn)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}St>=0&&St<=rt.width-jt&&Ft>=0&&Ft<=rt.height-It&&at.readPixels(St,Ft,jt,It,Ue.convert(pn),Ue.convert(nn),pe)}finally{const Fe=N!==null?le.get(N).__webglFramebuffer:null;ie.bindFramebuffer(at.FRAMEBUFFER,Fe)}}},this.readRenderTargetPixelsAsync=async function(rt,St,Ft,jt,It,pe,Te){if(!(rt&&rt.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let we=le.get(rt).__webglFramebuffer;if(rt.isWebGLCubeRenderTarget&&Te!==void 0&&(we=we[Te]),we){const Fe=rt.texture,pn=Fe.format,nn=Fe.type;if(!ne.textureFormatReadable(pn))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!ne.textureTypeReadable(nn))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(St>=0&&St<=rt.width-jt&&Ft>=0&&Ft<=rt.height-It){ie.bindFramebuffer(at.FRAMEBUFFER,we);const We=at.createBuffer();at.bindBuffer(at.PIXEL_PACK_BUFFER,We),at.bufferData(at.PIXEL_PACK_BUFFER,pe.byteLength,at.STREAM_READ),at.readPixels(St,Ft,jt,It,Ue.convert(pn),Ue.convert(nn),0);const Fn=N!==null?le.get(N).__webglFramebuffer:null;ie.bindFramebuffer(at.FRAMEBUFFER,Fn);const ti=at.fenceSync(at.SYNC_GPU_COMMANDS_COMPLETE,0);return at.flush(),await QJ(at,ti,4),at.bindBuffer(at.PIXEL_PACK_BUFFER,We),at.getBufferSubData(at.PIXEL_PACK_BUFFER,0,pe),at.deleteBuffer(We),at.deleteSync(ti),pe}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(rt,St=null,Ft=0){rt.isTexture!==!0&&(Qg("WebGLRenderer: copyFramebufferToTexture function signature has changed."),St=arguments[0]||null,rt=arguments[1]);const jt=Math.pow(2,-Ft),It=Math.floor(rt.image.width*jt),pe=Math.floor(rt.image.height*jt),Te=St!==null?St.x:0,we=St!==null?St.y:0;ut.setTexture2D(rt,0),at.copyTexSubImage2D(at.TEXTURE_2D,Ft,0,0,Te,we,It,pe),ie.unbindTexture()};const iu=at.createFramebuffer(),aa=at.createFramebuffer();this.copyTextureToTexture=function(rt,St,Ft=null,jt=null,It=0,pe=null){rt.isTexture!==!0&&(Qg("WebGLRenderer: copyTextureToTexture function signature has changed."),jt=arguments[0]||null,rt=arguments[1],St=arguments[2],pe=arguments[3]||0,Ft=null),pe===null&&(It!==0?(Qg("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),pe=It,It=0):pe=0);let Te,we,Fe,pn,nn,We,Fn,ti,Ui;const jn=rt.isCompressedTexture?rt.mipmaps[pe]:rt.image;if(Ft!==null)Te=Ft.max.x-Ft.min.x,we=Ft.max.y-Ft.min.y,Fe=Ft.isBox3?Ft.max.z-Ft.min.z:1,pn=Ft.min.x,nn=Ft.min.y,We=Ft.isBox3?Ft.min.z:0;else{const dr=Math.pow(2,-It);Te=Math.floor(jn.width*dr),we=Math.floor(jn.height*dr),rt.isDataArrayTexture?Fe=jn.depth:rt.isData3DTexture?Fe=Math.floor(jn.depth*dr):Fe=1,pn=0,nn=0,We=0}jt!==null?(Fn=jt.x,ti=jt.y,Ui=jt.z):(Fn=0,ti=0,Ui=0);const Xn=Ue.convert(St.format),rn=Ue.convert(St.type);let er;St.isData3DTexture?(ut.setTexture3D(St,0),er=at.TEXTURE_3D):St.isDataArrayTexture||St.isCompressedArrayTexture?(ut.setTexture2DArray(St,0),er=at.TEXTURE_2D_ARRAY):(ut.setTexture2D(St,0),er=at.TEXTURE_2D),at.pixelStorei(at.UNPACK_FLIP_Y_WEBGL,St.flipY),at.pixelStorei(at.UNPACK_PREMULTIPLY_ALPHA_WEBGL,St.premultiplyAlpha),at.pixelStorei(at.UNPACK_ALIGNMENT,St.unpackAlignment);const ei=at.getParameter(at.UNPACK_ROW_LENGTH),Xr=at.getParameter(at.UNPACK_IMAGE_HEIGHT),Io=at.getParameter(at.UNPACK_SKIP_PIXELS),li=at.getParameter(at.UNPACK_SKIP_ROWS),Yr=at.getParameter(at.UNPACK_SKIP_IMAGES);at.pixelStorei(at.UNPACK_ROW_LENGTH,jn.width),at.pixelStorei(at.UNPACK_IMAGE_HEIGHT,jn.height),at.pixelStorei(at.UNPACK_SKIP_PIXELS,pn),at.pixelStorei(at.UNPACK_SKIP_ROWS,nn),at.pixelStorei(at.UNPACK_SKIP_IMAGES,We);const mi=rt.isDataArrayTexture||rt.isData3DTexture,Sr=St.isDataArrayTexture||St.isData3DTexture;if(rt.isDepthTexture){const dr=le.get(rt),On=le.get(St),pr=le.get(dr.__renderTarget),Ir=le.get(On.__renderTarget);ie.bindFramebuffer(at.READ_FRAMEBUFFER,pr.__webglFramebuffer),ie.bindFramebuffer(at.DRAW_FRAMEBUFFER,Ir.__webglFramebuffer);for(let qs=0;qs<Fe;qs++)mi&&(at.framebufferTextureLayer(at.READ_FRAMEBUFFER,at.COLOR_ATTACHMENT0,le.get(rt).__webglTexture,It,We+qs),at.framebufferTextureLayer(at.DRAW_FRAMEBUFFER,at.COLOR_ATTACHMENT0,le.get(St).__webglTexture,pe,Ui+qs)),at.blitFramebuffer(pn,nn,Te,we,Fn,ti,Te,we,at.DEPTH_BUFFER_BIT,at.NEAREST);ie.bindFramebuffer(at.READ_FRAMEBUFFER,null),ie.bindFramebuffer(at.DRAW_FRAMEBUFFER,null)}else if(It!==0||rt.isRenderTargetTexture||le.has(rt)){const dr=le.get(rt),On=le.get(St);ie.bindFramebuffer(at.READ_FRAMEBUFFER,iu),ie.bindFramebuffer(at.DRAW_FRAMEBUFFER,aa);for(let pr=0;pr<Fe;pr++)mi?at.framebufferTextureLayer(at.READ_FRAMEBUFFER,at.COLOR_ATTACHMENT0,dr.__webglTexture,It,We+pr):at.framebufferTexture2D(at.READ_FRAMEBUFFER,at.COLOR_ATTACHMENT0,at.TEXTURE_2D,dr.__webglTexture,It),Sr?at.framebufferTextureLayer(at.DRAW_FRAMEBUFFER,at.COLOR_ATTACHMENT0,On.__webglTexture,pe,Ui+pr):at.framebufferTexture2D(at.DRAW_FRAMEBUFFER,at.COLOR_ATTACHMENT0,at.TEXTURE_2D,On.__webglTexture,pe),It!==0?at.blitFramebuffer(pn,nn,Te,we,Fn,ti,Te,we,at.COLOR_BUFFER_BIT,at.NEAREST):Sr?at.copyTexSubImage3D(er,pe,Fn,ti,Ui+pr,pn,nn,Te,we):at.copyTexSubImage2D(er,pe,Fn,ti,pn,nn,Te,we);ie.bindFramebuffer(at.READ_FRAMEBUFFER,null),ie.bindFramebuffer(at.DRAW_FRAMEBUFFER,null)}else Sr?rt.isDataTexture||rt.isData3DTexture?at.texSubImage3D(er,pe,Fn,ti,Ui,Te,we,Fe,Xn,rn,jn.data):St.isCompressedArrayTexture?at.compressedTexSubImage3D(er,pe,Fn,ti,Ui,Te,we,Fe,Xn,jn.data):at.texSubImage3D(er,pe,Fn,ti,Ui,Te,we,Fe,Xn,rn,jn):rt.isDataTexture?at.texSubImage2D(at.TEXTURE_2D,pe,Fn,ti,Te,we,Xn,rn,jn.data):rt.isCompressedTexture?at.compressedTexSubImage2D(at.TEXTURE_2D,pe,Fn,ti,jn.width,jn.height,Xn,jn.data):at.texSubImage2D(at.TEXTURE_2D,pe,Fn,ti,Te,we,Xn,rn,jn);at.pixelStorei(at.UNPACK_ROW_LENGTH,ei),at.pixelStorei(at.UNPACK_IMAGE_HEIGHT,Xr),at.pixelStorei(at.UNPACK_SKIP_PIXELS,Io),at.pixelStorei(at.UNPACK_SKIP_ROWS,li),at.pixelStorei(at.UNPACK_SKIP_IMAGES,Yr),pe===0&&St.generateMipmaps&&at.generateMipmap(er),ie.unbindTexture()},this.copyTextureToTexture3D=function(rt,St,Ft=null,jt=null,It=0){return rt.isTexture!==!0&&(Qg("WebGLRenderer: copyTextureToTexture3D function signature has changed."),Ft=arguments[0]||null,jt=arguments[1]||null,rt=arguments[2],St=arguments[3],It=arguments[4]||0),Qg('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(rt,St,Ft,jt,It)},this.initRenderTarget=function(rt){le.get(rt).__webglFramebuffer===void 0&&ut.setupRenderTarget(rt)},this.initTexture=function(rt){rt.isCubeTexture?ut.setTextureCube(rt,0):rt.isData3DTexture?ut.setTexture3D(rt,0):rt.isDataArrayTexture||rt.isCompressedArrayTexture?ut.setTexture2DArray(rt,0):ut.setTexture2D(rt,0),ie.unbindTexture()},this.resetState=function(){k=0,D=0,N=null,ie.reset(),ln.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Oc}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorspace=vi._getDrawingBufferColorSpace(e),n.unpackColorSpace=vi._getUnpackColorSpace()}}const fot=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:LL,AddEquation:tm,AddOperation:I7,AdditiveAnimationBlendMode:qL,AdditiveBlending:VM,AgXToneMapping:k7,AlphaFormat:FL,AlwaysCompare:Q7,AlwaysDepth:$M,AlwaysStencilFunc:c3,AmbientLight:Gj,AnimationAction:Jj,AnimationClip:IS,AnimationLoader:wet,AnimationMixer:tnt,AnimationObjectGroup:Qet,AnimationUtils:bet,ArcCurve:yj,ArrayCamera:Kj,ArrowHelper:Snt,AttachedBindMode:u3,Audio:Zj,AudioAnalyser:Het,AudioContext:gU,AudioListener:Bet,AudioLoader:Uet,AxesHelper:Ent,BackSide:Mo,BasicDepthPacking:j7,BasicShadowMap:h7,BatchedMesh:hj,Bone:JL,BooleanKeyframeTrack:s0,Box2:lnt,Box3:xa,Box3Helper:bnt,BoxGeometry:n0,BoxHelper:_nt,BufferAttribute:Xi,BufferGeometry:Wn,BufferGeometryLoader:Yj,ByteType:kL,Cache:yd,Camera:Q2,CameraHelper:vnt,CanvasTexture:gj,CapsuleGeometry:oR,CatmullRomCurve3:vj,CineonToneMapping:L7,CircleGeometry:lR,ClampToEdgeWrapping:Lu,Clock:yU,Color:He,ColorKeyframeTrack:dU,ColorManagement:vi,CompressedArrayTexture:Htt,CompressedCubeTexture:jtt,CompressedTexture:rR,CompressedTextureLoader:Aet,ConeGeometry:bE,ConstantAlphaFactor:R7,ConstantColorFactor:M7,Controls:wnt,CubeCamera:aj,CubeReflectionMapping:Od,CubeRefractionMapping:Sm,CubeTexture:yE,CubeTextureLoader:Met,CubeUVReflectionMapping:ub,CubicBezierCurve:iU,CubicBezierCurve3:rU,CubicInterpolant:Uj,CullFaceBack:a3,CullFaceFront:f7,CullFaceFrontBack:tJ,CullFaceNone:c7,Curve:Fc,CurvePath:bj,CustomBlending:d7,CustomToneMapping:U7,CylinderGeometry:i0,Cylindrical:ont,Data3DTexture:Z2,DataArrayTexture:gE,DataTexture:Zf,DataTextureLoader:Cet,DataUtils:mtt,DecrementStencilOp:pJ,DecrementWrapStencilOp:gJ,DefaultLoadingManager:Bj,DepthFormat:Ey,DepthStencilFormat:By,DepthTexture:eU,DetachedBindMode:B7,DirectionalLight:jj,DirectionalLightHelper:ynt,DiscreteInterpolant:kj,DodecahedronGeometry:uR,DoubleSide:Vf,DstAlphaFactor:S7,DstColorFactor:T7,DynamicCopyUsage:PJ,DynamicDrawUsage:wJ,DynamicReadUsage:CJ,EdgesGeometry:xj,EllipseCurve:sR,EqualCompare:X7,EqualDepth:WM,EqualStencilFunc:bJ,EquirectangularReflectionMapping:gS,EquirectangularRefractionMapping:yS,Euler:Zl,EventDispatcher:dh,ExtrudeGeometry:fR,FileLoader:Dd,Float16BufferAttribute:Stt,Float32BufferAttribute:Xe,FloatType:ll,Fog:tR,FogExp2:J2,FramebufferTexture:Vtt,FrontSide:Rd,Frustum:vE,GLBufferAttribute:ant,GLSL1:DJ,GLSL3:f3,GreaterCompare:Y7,GreaterDepth:YM,GreaterEqualCompare:Z7,GreaterEqualDepth:XM,GreaterEqualStencilFunc:TJ,GreaterStencilFunc:SJ,GridHelper:mnt,Group:gd,HalfFloatType:cb,HemisphereLight:Fj,HemisphereLightHelper:pnt,IcosahedronGeometry:hR,ImageBitmapLoader:Let,ImageLoader:DS,ImageUtils:nj,IncrementStencilOp:dJ,IncrementWrapStencilOp:mJ,InstancedBufferAttribute:I_,InstancedBufferGeometry:Xj,InstancedInterleavedBuffer:snt,InstancedMesh:fj,Int16BufferAttribute:btt,Int32BufferAttribute:xtt,Int8BufferAttribute:ytt,IntType:j2,InterleavedBuffer:eR,InterleavedBufferAttribute:Fy,Interpolant:EE,InterpolateDiscrete:bS,InterpolateLinear:EC,InterpolateSmooth:sM,InvertStencilOp:yJ,KeepStencilOp:Zg,KeyframeTrack:Vc,LOD:uj,LatheGeometry:_E,Layers:O_,LessCompare:W7,LessDepth:qM,LessEqualCompare:WL,LessEqualDepth:ky,LessEqualStencilFunc:xJ,LessStencilFunc:_J,Light:km,LightProbe:Wj,Line:Id,Line3:unt,LineBasicMaterial:Ja,LineCurve:sU,LineCurve3:_j,LineDashedMaterial:Dj,LineLoop:dj,LineSegments:ph,LinearFilter:Vs,LinearInterpolant:hU,LinearMipMapLinearFilter:rJ,LinearMipMapNearestFilter:iJ,LinearMipmapLinearFilter:Gf,LinearMipmapNearestFilter:F1,LinearSRGBColorSpace:Em,LinearToneMapping:D7,LinearTransfer:SS,Loader:Sl,LoaderUtils:g3,LoadingManager:pU,LoopOnce:F7,LoopPingPong:H7,LoopRepeat:V7,LuminanceAlphaFormat:jL,LuminanceFormat:HL,MOUSE:QQ,Material:Qa,MaterialLoader:_R,MathUtils:J7,Matrix2:EU,Matrix3:Hn,Matrix4:Sn,MaxEquation:y7,Mesh:rs,MeshBasicMaterial:Lm,MeshDepthMaterial:uU,MeshDistanceMaterial:cU,MeshLambertMaterial:lU,MeshMatcapMaterial:Ij,MeshNormalMaterial:Pj,MeshPhongMaterial:Rj,MeshPhysicalMaterial:Cj,MeshStandardMaterial:vR,MeshToonMaterial:Oj,MinEquation:g7,MirroredRepeatWrapping:_S,MixOperation:P7,MultiplyBlending:l3,MultiplyOperation:pE,NearestFilter:ba,NearestMipMapLinearFilter:nJ,NearestMipMapNearestFilter:eJ,NearestMipmapLinearFilter:o_,NearestMipmapNearestFilter:UL,NeutralToneMapping:z7,NeverCompare:q7,NeverDepth:GM,NeverStencilFunc:vJ,NoBlending:Td,NoColorSpace:hd,NoToneMapping:Kf,NormalAnimationBlendMode:Y2,NormalBlending:Sy,NotEqualCompare:K7,NotEqualDepth:KM,NotEqualStencilFunc:EJ,NumberKeyframeTrack:OS,Object3D:Ai,ObjectLoader:Det,ObjectSpaceNormalMap:$7,OctahedronGeometry:xE,OneFactor:_7,OneMinusConstantAlphaFactor:O7,OneMinusConstantColorFactor:C7,OneMinusDstAlphaFactor:E7,OneMinusDstColorFactor:w7,OneMinusSrcAlphaFactor:jM,OneMinusSrcColorFactor:x7,OrthographicCamera:wE,PCFShadowMap:V2,PCFSoftShadowMap:B1,PMREMGenerator:_3,Path:AS,PerspectiveCamera:ea,Plane:Zp,PlaneGeometry:hb,PlaneHelper:xnt,PointLight:Hj,PointLightHelper:hnt,Points:pj,PointsMaterial:tU,PolarGridHelper:gnt,PolyhedronGeometry:Um,PositionalAudio:Vet,PropertyBinding:wi,PropertyMixer:Qj,QuadraticBezierCurve:aU,QuadraticBezierCurve3:aR,Quaternion:Co,QuaternionKeyframeTrack:TE,QuaternionLinearInterpolant:zj,RED_GREEN_RGTC2_Format:xC,RED_RGTC1_Format:$L,REVISION:dE,RGBADepthPacking:G7,RGBAFormat:Xa,RGBAIntegerFormat:X2,RGBA_ASTC_10x10_Format:mC,RGBA_ASTC_10x5_Format:hC,RGBA_ASTC_10x6_Format:dC,RGBA_ASTC_10x8_Format:pC,RGBA_ASTC_12x10_Format:gC,RGBA_ASTC_12x12_Format:yC,RGBA_ASTC_4x4_Format:rC,RGBA_ASTC_5x4_Format:sC,RGBA_ASTC_5x5_Format:aC,RGBA_ASTC_6x5_Format:oC,RGBA_ASTC_6x6_Format:lC,RGBA_ASTC_8x5_Format:uC,RGBA_ASTC_8x6_Format:cC,RGBA_ASTC_8x8_Format:fC,RGBA_BPTC_Format:$1,RGBA_ETC2_EAC_Format:iC,RGBA_PVRTC_2BPPV1_Format:tC,RGBA_PVRTC_4BPPV1_Format:JM,RGBA_S3TC_DXT1_Format:H1,RGBA_S3TC_DXT3_Format:j1,RGBA_S3TC_DXT5_Format:G1,RGBDepthPacking:uJ,RGBFormat:VL,RGBIntegerFormat:sJ,RGB_BPTC_SIGNED_Format:vC,RGB_BPTC_UNSIGNED_Format:_C,RGB_ETC1_Format:eC,RGB_ETC2_Format:nC,RGB_PVRTC_2BPPV1_Format:QM,RGB_PVRTC_4BPPV1_Format:ZM,RGB_S3TC_DXT1_Format:V1,RGDepthPacking:cJ,RGFormat:GL,RGIntegerFormat:W2,RawShaderMaterial:Mj,Ray:fb,Raycaster:xU,RectAreaLight:$j,RedFormat:q2,RedIntegerFormat:mE,ReinhardToneMapping:N7,RenderTarget:K2,RenderTarget3D:ent,RenderTargetArray:nnt,RepeatWrapping:vS,ReplaceStencilOp:hJ,ReverseSubtractEquation:m7,RingGeometry:dR,SIGNED_RED_GREEN_RGTC2_Format:SC,SIGNED_RED_RGTC1_Format:bC,SRGBColorSpace:ya,SRGBTransfer:Wi,Scene:ZL,ShaderChunk:Zn,ShaderLib:wc,ShaderMaterial:Vu,ShadowMaterial:Aj,Shape:wy,ShapeGeometry:pR,ShapePath:Tnt,ShapeUtils:Qf,ShortType:zL,Skeleton:iR,SkeletonHelper:fnt,SkinnedMesh:cj,Source:am,Sphere:Sa,SphereGeometry:r0,Spherical:SU,SphericalHarmonics3:qj,SplineCurve:oU,SpotLight:Vj,SpotLightHelper:cnt,Sprite:QL,SpriteMaterial:nR,SrcAlphaFactor:HM,SrcAlphaSaturateFactor:A7,SrcColorFactor:b7,StaticCopyUsage:OJ,StaticDrawUsage:ES,StaticReadUsage:MJ,StereoCamera:ket,StreamCopyUsage:IJ,StreamDrawUsage:AJ,StreamReadUsage:RJ,StringKeyframeTrack:a0,SubtractEquation:p7,SubtractiveBlending:o3,TOUCH:JQ,TangentSpaceNormalMap:Nm,TetrahedronGeometry:mR,Texture:as,TextureLoader:Ret,TextureUtils:Ont,TimestampQuery:NJ,TorusGeometry:gR,TorusKnotGeometry:yR,Triangle:ol,TriangleFanDrawMode:lJ,TriangleStripDrawMode:oJ,TrianglesDrawMode:aJ,TubeGeometry:SE,UVMapping:H2,Uint16BufferAttribute:YL,Uint32BufferAttribute:KL,Uint8BufferAttribute:vtt,Uint8ClampedBufferAttribute:_tt,Uniform:bU,UniformsGroup:rnt,UniformsLib:ze,UniformsUtils:sj,UnsignedByteType:Lc,UnsignedInt248Type:zy,UnsignedInt5999Type:BL,UnsignedIntType:Pd,UnsignedShort4444Type:G2,UnsignedShort5551Type:$2,UnsignedShortType:C_,VSMShadowMap:Ec,Vector2:me,Vector3:pt,Vector4:Ei,VectorKeyframeTrack:PS,VideoFrameTexture:Ftt,VideoTexture:mj,WebGL3DRenderTarget:stt,WebGLArrayRenderTarget:rtt,WebGLCoordinateSystem:Oc,WebGLCubeRenderTarget:oj,WebGLRenderTarget:ah,WebGLRenderer:oG,WebGLUtils:aG,WebGPUCoordinateSystem:TS,WebXRController:aM,WireframeGeometry:wj,WrapAroundEnding:xS,ZeroCurvatureEnding:cy,ZeroFactor:v7,ZeroSlopeEnding:fy,ZeroStencilOp:fJ,createCanvasElement:ej},Symbol.toStringTag,{value:"Module"}));var cI={exports:{}},Zh={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wB;function hot(){return wB||(wB=1,Zh.ConcurrentRoot=1,Zh.ContinuousEventPriority=8,Zh.DefaultEventPriority=32,Zh.DiscreteEventPriority=2,Zh.IdleEventPriority=268435456,Zh.LegacyRoot=0,Zh.NoEventPriority=0),Zh}var AB;function dot(){return AB||(AB=1,cI.exports=hot()),cI.exports}var lM=dot(),fI={exports:{}},hI={},dI={exports:{}},pI={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MB;function pot(){if(MB)return pI;MB=1;var i=lb();function e(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var n=typeof Object.is=="function"?Object.is:e,r=i.useState,s=i.useEffect,a=i.useLayoutEffect,o=i.useDebugValue;function l(p,g){var v=g(),b=r({inst:{value:v,getSnapshot:g}}),S=b[0].inst,E=b[1];return a(function(){S.value=v,S.getSnapshot=g,u(S)&&E({inst:S})},[p,v,g]),s(function(){return u(S)&&E({inst:S}),p(function(){u(S)&&E({inst:S})})},[p]),o(v),v}function u(p){var g=p.getSnapshot;p=p.value;try{var v=g();return!n(p,v)}catch{return!0}}function c(p,g){return g()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:l;return pI.useSyncExternalStore=i.useSyncExternalStore!==void 0?i.useSyncExternalStore:h,pI}var CB;function mot(){return CB||(CB=1,dI.exports=pot()),dI.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RB;function got(){if(RB)return hI;RB=1;var i=lb(),e=mot();function n(c,h){return c===h&&(c!==0||1/c===1/h)||c!==c&&h!==h}var r=typeof Object.is=="function"?Object.is:n,s=e.useSyncExternalStore,a=i.useRef,o=i.useEffect,l=i.useMemo,u=i.useDebugValue;return hI.useSyncExternalStoreWithSelector=function(c,h,p,g,v){var b=a(null);if(b.current===null){var S={hasValue:!1,value:null};b.current=S}else S=b.current;b=l(function(){function x(k){if(!A){if(A=!0,C=k,k=g(k),v!==void 0&&S.hasValue){var D=S.value;if(v(D,k))return M=D}return M=k}if(D=M,r(C,k))return D;var N=g(k);return v!==void 0&&v(D,N)?(C=k,D):(C=k,M=N)}var A=!1,C,M,P=p===void 0?null:p;return[function(){return x(h())},P===null?void 0:function(){return x(P())}]},[h,p,g,v]);var E=s(c,b[0],b[1]);return o(function(){S.hasValue=!0,S.value=E},[E]),u(E),E},hI}var OB;function yot(){return OB||(OB=1,fI.exports=got()),fI.exports}var vot=yot();const _ot=hh(vot),PB=i=>{let e;const n=new Set,r=(c,h)=>{const p=typeof c=="function"?c(e):c;if(!Object.is(p,e)){const g=e;e=h??(typeof p!="object"||p===null)?p:Object.assign({},e,p),n.forEach(v=>v(e,g))}},s=()=>e,l={setState:r,getState:s,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c))},u=e=i(r,s,l);return l},lG=i=>i?PB(i):PB,{useSyncExternalStoreWithSelector:bot}=_ot,xot=i=>i;function Sot(i,e=xot,n){const r=bot(i.subscribe,i.getState,i.getInitialState,e,n);return gn.useDebugValue(r),r}const IB=(i,e)=>{const n=lG(i),r=(s,a=e)=>Sot(n,s,a);return Object.assign(r,n),r},Eot=(i,e)=>i?IB(i,e):IB;var mI={exports:{}},gI={exports:{}},yI={exports:{}},vI={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DB;function Tot(){return DB||(DB=1,function(i){function e(G,X){var J=G.length;G.push(X);t:for(;0<J;){var nt=J-1>>>1,Z=G[nt];if(0<s(Z,X))G[nt]=X,G[J]=Z,J=nt;else break t}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var X=G[0],J=G.pop();if(J!==X){G[0]=J;t:for(var nt=0,Z=G.length,dt=Z>>>1;nt<dt;){var yt=2*(nt+1)-1,xt=G[yt],it=yt+1,ht=G[it];if(0>s(xt,J))it<Z&&0>s(ht,xt)?(G[nt]=ht,G[it]=J,nt=it):(G[nt]=xt,G[yt]=J,nt=yt);else if(it<Z&&0>s(ht,J))G[nt]=ht,G[it]=J,nt=it;else break t}}return X}function s(G,X){var J=G.sortIndex-X.sortIndex;return J!==0?J:G.id-X.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;i.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();i.unstable_now=function(){return o.now()-l}}var u=[],c=[],h=1,p=null,g=3,v=!1,b=!1,S=!1,E=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function C(G){for(var X=n(c);X!==null;){if(X.callback===null)r(c);else if(X.startTime<=G)r(c),X.sortIndex=X.expirationTime,e(u,X);else break;X=n(c)}}function M(G){if(S=!1,C(G),!b)if(n(u)!==null)b=!0,Y();else{var X=n(c);X!==null&&et(M,X.startTime-G)}}var P=!1,k=-1,D=5,N=-1;function U(){return!(i.unstable_now()-N<D)}function R(){if(P){var G=i.unstable_now();N=G;var X=!0;try{t:{b=!1,S&&(S=!1,x(k),k=-1),v=!0;var J=g;try{e:{for(C(G),p=n(u);p!==null&&!(p.expirationTime>G&&U());){var nt=p.callback;if(typeof nt=="function"){p.callback=null,g=p.priorityLevel;var Z=nt(p.expirationTime<=G);if(G=i.unstable_now(),typeof Z=="function"){p.callback=Z,C(G),X=!0;break e}p===n(u)&&r(u),C(G)}else r(u);p=n(u)}if(p!==null)X=!0;else{var dt=n(c);dt!==null&&et(M,dt.startTime-G),X=!1}}break t}finally{p=null,g=J,v=!1}X=void 0}}finally{X?B():P=!1}}}var B;if(typeof A=="function")B=function(){A(R)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,V=H.port2;H.port1.onmessage=R,B=function(){V.postMessage(null)}}else B=function(){E(R,0)};function Y(){P||(P=!0,B())}function et(G,X){k=E(function(){G(i.unstable_now())},X)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(G){G.callback=null},i.unstable_continueExecution=function(){b||v||(b=!0,Y())},i.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<G?Math.floor(1e3/G):5},i.unstable_getCurrentPriorityLevel=function(){return g},i.unstable_getFirstCallbackNode=function(){return n(u)},i.unstable_next=function(G){switch(g){case 1:case 2:case 3:var X=3;break;default:X=g}var J=g;g=X;try{return G()}finally{g=J}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(G,X){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var J=g;g=G;try{return X()}finally{g=J}},i.unstable_scheduleCallback=function(G,X,J){var nt=i.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?nt+J:nt):J=nt,G){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=J+Z,G={id:h++,callback:X,priorityLevel:G,startTime:J,expirationTime:Z,sortIndex:-1},J>nt?(G.sortIndex=J,e(c,G),n(u)===null&&G===n(c)&&(S?(x(k),k=-1):S=!0,et(M,J-nt))):(G.sortIndex=Z,e(u,G),b||v||(b=!0,Y())),G},i.unstable_shouldYield=U,i.unstable_wrapCallback=function(G){var X=g;return function(){var J=g;g=X;try{return G.apply(this,arguments)}finally{g=J}}}}(vI)),vI}var NB;function uG(){return NB||(NB=1,yI.exports=Tot()),yI.exports}/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LB;function wot(){return LB||(LB=1,function(i){i.exports=function(e){function n(m,y,w,L){return new Gb(m,y,w,L)}function r(){}function s(m){var y="https://react.dev/errors/"+m;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)y+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+m+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(m){return m===null||typeof m!="object"?null:(m=ac&&m[ac]||m["@@iterator"],typeof m=="function"?m:null)}function o(m){if(m==null)return null;if(typeof m=="function")return m.$$typeof===Xb?null:m.displayName||m.name||null;if(typeof m=="string")return m;switch(m){case uf:return"Fragment";case Go:return"Portal";case I0:return"Profiler";case hg:return"StrictMode";case D0:return"Suspense";case cp:return"SuspenseList"}if(typeof m=="object")switch(m.$$typeof){case Ol:return(m.displayName||"Context")+".Provider";case qb:return(m._context.displayName||"Context")+".Consumer";case pg:var y=m.render;return m=m.displayName,m||(m=y.displayName||y.name||"",m=m!==""?"ForwardRef("+m+")":"ForwardRef"),m;case N0:return y=m.displayName||null,y!==null?y:o(m.type)||"Memo";case $o:y=m._payload,m=m._init;try{return o(m(y))}catch{}}return null}function l(m){if(cu===void 0)try{throw Error()}catch(w){var y=w.stack.trim().match(/\n( *(at )?)/);cu=y&&y[1]||"",oc=-1<w.stack.indexOf(`
    at`)?" (<anonymous>)":-1<w.stack.indexOf("@")?"@unknown:0:0":""}return`
`+cu+m+oc}function u(m,y){if(!m||Ah)return"";Ah=!0;var w=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var L={DetermineComponentFrameRoot:function(){try{if(y){var ke=function(){throw Error()};if(Object.defineProperty(ke.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ke,[])}catch(Dn){var Ve=Dn}Reflect.construct(m,[],ke)}else{try{ke.call()}catch(Dn){Ve=Dn}m.call(ke.prototype)}}else{try{throw Error()}catch(Dn){Ve=Dn}(ke=m())&&typeof ke.catch=="function"&&ke.catch(function(){})}}catch(Dn){if(Dn&&Ve&&typeof Dn.stack=="string")return[Dn.stack,Ve.stack]}return[null,null]}};L.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var F=Object.getOwnPropertyDescriptor(L.DetermineComponentFrameRoot,"name");F&&F.configurable&&Object.defineProperty(L.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var q=L.DetermineComponentFrameRoot(),ot=q[0],bt=q[1];if(ot&&bt){var Nt=ot.split(`
`),ae=bt.split(`
`);for(F=L=0;L<Nt.length&&!Nt[L].includes("DetermineComponentFrameRoot");)L++;for(;F<ae.length&&!ae[F].includes("DetermineComponentFrameRoot");)F++;if(L===Nt.length||F===ae.length)for(L=Nt.length-1,F=ae.length-1;1<=L&&0<=F&&Nt[L]!==ae[F];)F--;for(;1<=L&&0<=F;L--,F--)if(Nt[L]!==ae[F]){if(L!==1||F!==1)do if(L--,F--,0>F||Nt[L]!==ae[F]){var be=`
`+Nt[L].replace(" at new "," at ");return m.displayName&&be.includes("<anonymous>")&&(be=be.replace("<anonymous>",m.displayName)),be}while(1<=L&&0<=F);break}}}finally{Ah=!1,Error.prepareStackTrace=w}return(w=m?m.displayName||m.name:"")?l(w):""}function c(m){switch(m.tag){case 26:case 27:case 5:return l(m.type);case 16:return l("Lazy");case 13:return l("Suspense");case 19:return l("SuspenseList");case 0:case 15:return m=u(m.type,!1),m;case 11:return m=u(m.type.render,!1),m;case 1:return m=u(m.type,!0),m;default:return""}}function h(m){try{var y="";do y+=c(m),m=m.return;while(m);return y}catch(w){return`
Error generating stack: `+w.message+`
`+w.stack}}function p(m){var y=m,w=m;if(m.alternate)for(;y.return;)y=y.return;else{m=y;do y=m,(y.flags&4098)!==0&&(w=y.return),m=y.return;while(m)}return y.tag===3?w:null}function g(m){if(p(m)!==m)throw Error(s(188))}function v(m){var y=m.alternate;if(!y){if(y=p(m),y===null)throw Error(s(188));return y!==m?null:m}for(var w=m,L=y;;){var F=w.return;if(F===null)break;var q=F.alternate;if(q===null){if(L=F.return,L!==null){w=L;continue}break}if(F.child===q.child){for(q=F.child;q;){if(q===w)return g(F),m;if(q===L)return g(F),y;q=q.sibling}throw Error(s(188))}if(w.return!==L.return)w=F,L=q;else{for(var ot=!1,bt=F.child;bt;){if(bt===w){ot=!0,w=F,L=q;break}if(bt===L){ot=!0,L=F,w=q;break}bt=bt.sibling}if(!ot){for(bt=q.child;bt;){if(bt===w){ot=!0,w=q,L=F;break}if(bt===L){ot=!0,L=q,w=F;break}bt=bt.sibling}if(!ot)throw Error(s(189))}}if(w.alternate!==L)throw Error(s(190))}if(w.tag!==3)throw Error(s(188));return w.stateNode.current===w?m:y}function b(m){var y=m.tag;if(y===5||y===26||y===27||y===6)return m;for(m=m.child;m!==null;){if(y=b(m),y!==null)return y;m=m.sibling}return null}function S(m){var y=m.tag;if(y===5||y===26||y===27||y===6)return m;for(m=m.child;m!==null;){if(m.tag!==4&&(y=S(m),y!==null))return y;m=m.sibling}return null}function E(m){return{current:m}}function x(m){0>fc||(m.current=kr[fc],kr[fc]=null,fc--)}function A(m,y){fc++,kr[fc]=m.current,m.current=y}function C(m){return m>>>=0,m===0?32:31-(HT(m)/jT|0)|0}function M(m){var y=m&42;if(y!==0)return y;switch(m&-m){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return m&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return m}}function P(m,y){var w=m.pendingLanes;if(w===0)return 0;var L=0,F=m.suspendedLanes,q=m.pingedLanes,ot=m.warmLanes;m=m.finishedLanes!==0;var bt=w&134217727;return bt!==0?(w=bt&~F,w!==0?L=M(w):(q&=bt,q!==0?L=M(q):m||(ot=bt&~ot,ot!==0&&(L=M(ot))))):(bt=w&~F,bt!==0?L=M(bt):q!==0?L=M(q):m||(ot=w&~ot,ot!==0&&(L=M(ot)))),L===0?0:y!==0&&y!==L&&(y&F)===0&&(F=L&-L,ot=y&-y,F>=ot||F===32&&(ot&4194176)!==0)?y:L}function k(m,y){return(m.pendingLanes&~(m.suspendedLanes&~m.pingedLanes)&y)===0}function D(m,y){switch(m){case 1:case 2:case 4:case 8:return y+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return y+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function N(){var m=hu;return hu<<=1,(hu&4194176)===0&&(hu=128),m}function U(){var m=Rh;return Rh<<=1,(Rh&62914560)===0&&(Rh=4194304),m}function R(m){for(var y=[],w=0;31>w;w++)y.push(m);return y}function B(m,y){m.pendingLanes|=y,y!==268435456&&(m.suspendedLanes=0,m.pingedLanes=0,m.warmLanes=0)}function H(m,y,w,L,F,q){var ot=m.pendingLanes;m.pendingLanes=w,m.suspendedLanes=0,m.pingedLanes=0,m.warmLanes=0,m.expiredLanes&=w,m.entangledLanes&=w,m.errorRecoveryDisabledLanes&=w,m.shellSuspendCounter=0;var bt=m.entanglements,Nt=m.expirationTimes,ae=m.hiddenUpdates;for(w=ot&~w;0<w;){var be=31-fa(w),ke=1<<be;bt[be]=0,Nt[be]=-1;var Ve=ae[be];if(Ve!==null)for(ae[be]=null,be=0;be<Ve.length;be++){var Dn=Ve[be];Dn!==null&&(Dn.lane&=-536870913)}w&=~ke}L!==0&&V(m,L,0),q!==0&&F===0&&m.tag!==0&&(m.suspendedLanes|=q&~(ot&~y))}function V(m,y,w){m.pendingLanes|=y,m.suspendedLanes&=~y;var L=31-fa(y);m.entangledLanes|=y,m.entanglements[L]=m.entanglements[L]|1073741824|w&4194218}function Y(m,y){var w=m.entangledLanes|=y;for(m=m.entanglements;w;){var L=31-fa(w),F=1<<L;F&y|m[L]&y&&(m[L]|=y),w&=~F}}function et(m){return m&=-m,2<m?8<m?(m&134217727)!==0?32:268435456:8:2}function G(m){if(Na&&typeof Na.onCommitFiberRoot=="function")try{Na.onCommitFiberRoot(zr,m,void 0,(m.current.flags&128)===128)}catch{}}function X(m){if(typeof qT=="function"&&Es(m),Na&&typeof Na.setStrictMode=="function")try{Na.setStrictMode(zr,m)}catch{}}function J(m,y){return m===y&&(m!==0||1/m===1/y)||m!==m&&y!==y}function nt(m,y){if(typeof m=="object"&&m!==null){var w=dx.get(m);return w!==void 0?w:(y={value:m,source:y,stack:h(y)},dx.set(m,y),y)}return{value:m,source:y,stack:h(y)}}function Z(m,y){Oh[Ph++]=_p,Oh[Ph++]=Ih,Ih=m,_p=y}function dt(m,y,w){lo[uo++]=Dl,lo[uo++]=Nl,lo[uo++]=gf,gf=m;var L=Dl;m=Nl;var F=32-fa(L)-1;L&=~(1<<F),w+=1;var q=32-fa(y)+F;if(30<q){var ot=F-F%5;q=(L&(1<<ot)-1).toString(32),L>>=ot,F-=ot,Dl=1<<32-fa(y)+F|w<<F|L,Nl=q+m}else Dl=1<<q|w<<F|L,Nl=m}function yt(m){m.return!==null&&(Z(m,1),dt(m,1,0))}function xt(m){for(;m===Ih;)Ih=Oh[--Ph],Oh[Ph]=null,_p=Oh[--Ph],Oh[Ph]=null;for(;m===gf;)gf=lo[--uo],lo[uo]=null,Nl=lo[--uo],lo[uo]=null,Dl=lo[--uo],lo[uo]=null}function it(m,y){A(du,y),A(bp,m),A(us,null),m=oT(y),x(us),A(us,m)}function ht(){x(us),x(bp),x(du)}function lt(m){m.memoizedState!==null&&A(Dh,m);var y=us.current,w=pp(y,m.type);y!==w&&(A(bp,m),A(us,w))}function gt(m){bp.current===m&&(x(us),x(bp)),Dh.current===m&&(x(Dh),ua?Pl._currentValue=ff:Pl._currentValue2=ff)}function Tt(m){var y=Error(s(418,""));throw Bt(nt(y,m)),Eg}function Kt(m,y){if(!ks)throw Error(s(175));IT(m.stateNode,m.type,m.memoizedProps,y,m)||Tt(m)}function Ut(m){for(zs=m.return;zs;)switch(zs.tag){case 3:case 27:Ts=!0;return;case 5:case 13:Ts=!1;return;default:zs=zs.return}}function te(m){if(!ks||m!==zs)return!1;if(!ci)return Ut(m),ci=!0,!1;var y=!1;if(ji?m.tag!==3&&m.tag!==27&&(m.tag!==5||j0(m.type)&&!Un(m.type,m.memoizedProps))&&(y=!0):m.tag!==3&&(m.tag!==5||j0(m.type)&&!Un(m.type,m.memoizedProps))&&(y=!0),y&&Bs&&Tt(m),Ut(m),m.tag===13){if(!ks)throw Error(s(316));if(m=m.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(s(317));Bs=NT(m)}else Bs=zs?ux(m.stateNode):null;return!0}function Pt(){ks&&(Bs=zs=null,ci=!1)}function Bt(m){Xo===null?Xo=[m]:Xo.push(m)}function at(){for(var m=Nh,y=Ll=Nh=0;y<m;){var w=Yo[y];Yo[y++]=null;var L=Yo[y];Yo[y++]=null;var F=Yo[y];Yo[y++]=null;var q=Yo[y];if(Yo[y++]=null,L!==null&&F!==null){var ot=L.pending;ot===null?F.next=F:(F.next=ot.next,ot.next=F),L.pending=F}q!==0&&ie(w,F,q)}}function ce(m,y,w,L){Yo[Nh++]=m,Yo[Nh++]=y,Yo[Nh++]=w,Yo[Nh++]=L,Ll|=L,m.lanes|=L,m=m.alternate,m!==null&&(m.lanes|=L)}function ee(m,y,w,L){return ce(m,y,w,L),Me(m)}function ne(m,y){return ce(m,null,null,y),Me(m)}function ie(m,y,w){m.lanes|=w;var L=m.alternate;L!==null&&(L.lanes|=w);for(var F=!1,q=m.return;q!==null;)q.childLanes|=w,L=q.alternate,L!==null&&(L.childLanes|=w),q.tag===22&&(m=q.stateNode,m===null||m._visibility&1||(F=!0)),m=q,q=q.return;F&&y!==null&&m.tag===3&&(q=m.stateNode,F=31-fa(w),q=q.hiddenUpdates,m=q[F],m===null?q[F]=[y]:m.push(y),y.lane=w|536870912)}function Me(m){if(50<Rp)throw Rp=0,rv=null,Error(s(185));for(var y=m.return;y!==null;)m=y,y=m.return;return m.tag===3?m.stateNode:null}function le(m){m!==hc&&m.next===null&&(hc===null?Tg=hc=m:hc=hc.next=m),Yi=!0,Lh||(Lh=!0,_t(j))}function ut(m,y){if(!px&&Yi){px=!0;do for(var w=!1,L=Tg;L!==null;){if(m!==0){var F=L.pendingLanes;if(F===0)var q=0;else{var ot=L.suspendedLanes,bt=L.pingedLanes;q=(1<<31-fa(42|m)+1)-1,q&=F&~(ot&~bt),q=q&201326677?q&201326677|1:q?q|2:0}q!==0&&(w=!0,Rt(L,q))}else q=ai,q=P(L,L===Ri?q:0),(q&3)===0||k(L,q)||(w=!0,Rt(L,q));L=L.next}while(w);px=!1}}function j(){Yi=Lh=!1;var m=0;xp!==0&&(fT()&&(m=xp),xp=0);for(var y=Wo(),w=null,L=Tg;L!==null;){var F=L.next,q=ct(L,y);q===0?(L.next=null,w===null?Tg=F:w.next=F,F===null&&(hc=w)):(w=L,(m!==0||(q&3)!==0)&&(Yi=!0)),L=F}ut(m)}function ct(m,y){for(var w=m.suspendedLanes,L=m.pingedLanes,F=m.expirationTimes,q=m.pendingLanes&-62914561;0<q;){var ot=31-fa(q),bt=1<<ot,Nt=F[ot];Nt===-1?((bt&w)===0||(bt&L)!==0)&&(F[ot]=D(bt,y)):Nt<=y&&(m.expiredLanes|=bt),q&=~bt}if(y=Ri,w=ai,w=P(m,m===y?w:0),L=m.callbackNode,w===0||m===y&&ki===2||m.cancelPendingCommit!==null)return L!==null&&L!==null&&W0(L),m.callbackNode=null,m.callbackPriority=0;if((w&3)===0||k(m,w)){if(y=w&-w,y===m.callbackPriority)return y;switch(L!==null&&W0(L),et(w)){case 2:case 8:w=$T;break;case 32:w=K0;break;case 268435456:w=qO;break;default:w=K0}return L=mt.bind(null,m),w=Sg(w,L),m.callbackPriority=y,m.callbackNode=w,y}return L!==null&&L!==null&&W0(L),m.callbackPriority=2,m.callbackNode=null,2}function mt(m,y){var w=m.callbackNode;if(Rl()&&m.callbackNode!==w)return null;var L=ai;return L=P(m,m===Ri?L:0),L===0?null:(rf(m,L,y),ct(m,Wo()),m.callbackNode!=null&&m.callbackNode===w?mt.bind(null,m):null)}function Rt(m,y){if(Rl())return null;rf(m,y,!0)}function _t(m){Jb?cc(function(){(yi&6)!==0?Sg(Y0,m):m()}):Sg(Y0,m)}function Ct(){return xp===0&&(xp=N()),xp}function Lt(m,y){if(Sp===null){var w=Sp=[];Uh=0,co=Ct(),kh={status:"pending",value:void 0,then:function(L){w.push(L)}}}return Uh++,y.then(Jt,Jt),y}function Jt(){if(--Uh===0&&Sp!==null){kh!==null&&(kh.status="fulfilled");var m=Sp;Sp=null,co=0,kh=null;for(var y=0;y<m.length;y++)(0,m[y])()}}function Le(m,y){var w=[],L={status:"pending",value:null,reason:null,then:function(F){w.push(F)}};return m.then(function(){L.status="fulfilled",L.value=y;for(var F=0;F<w.length;F++)(0,w[F])(y)},function(F){for(L.status="rejected",L.reason=F,F=0;F<w.length;F++)(0,w[F])(void 0)}),L}function Ht(m){m.updateQueue={baseState:m.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _e(m,y){m=m.updateQueue,y.updateQueue===m&&(y.updateQueue={baseState:m.baseState,firstBaseUpdate:m.firstBaseUpdate,lastBaseUpdate:m.lastBaseUpdate,shared:m.shared,callbacks:null})}function Re(m){return{lane:m,tag:0,payload:null,callback:null,next:null}}function Oe(m,y,w){var L=m.updateQueue;if(L===null)return null;if(L=L.shared,(yi&2)!==0){var F=L.pending;return F===null?y.next=y:(y.next=F.next,F.next=y),L.pending=y,y=Me(m),ie(m,null,w),y}return ce(m,L,y,w),Me(m)}function Zt(m,y,w){if(y=y.updateQueue,y!==null&&(y=y.shared,(w&4194176)!==0)){var L=y.lanes;L&=m.pendingLanes,w|=L,y.lanes=w,Y(m,w)}}function Ie(m,y){var w=m.updateQueue,L=m.alternate;if(L!==null&&(L=L.updateQueue,w===L)){var F=null,q=null;if(w=w.firstBaseUpdate,w!==null){do{var ot={lane:w.lane,tag:w.tag,payload:w.payload,callback:null,next:null};q===null?F=q=ot:q=q.next=ot,w=w.next}while(w!==null);q===null?F=q=y:q=q.next=y}else F=q=y;w={baseState:L.baseState,firstBaseUpdate:F,lastBaseUpdate:q,shared:L.shared,callbacks:L.callbacks},m.updateQueue=w;return}m=w.lastBaseUpdate,m===null?w.firstBaseUpdate=y:m.next=y,w.lastBaseUpdate=y}function Ue(){if(zh){var m=kh;if(m!==null)throw m}}function ln(m,y,w,L){zh=!1;var F=m.updateQueue;dc=!1;var q=F.firstBaseUpdate,ot=F.lastBaseUpdate,bt=F.shared.pending;if(bt!==null){F.shared.pending=null;var Nt=bt,ae=Nt.next;Nt.next=null,ot===null?q=ae:ot.next=ae,ot=Nt;var be=m.alternate;be!==null&&(be=be.updateQueue,bt=be.lastBaseUpdate,bt!==ot&&(bt===null?be.firstBaseUpdate=ae:bt.next=ae,be.lastBaseUpdate=Nt))}if(q!==null){var ke=F.baseState;ot=0,be=ae=Nt=null,bt=q;do{var Ve=bt.lane&-536870913,Dn=Ve!==bt.lane;if(Dn?(ai&Ve)===Ve:(L&Ve)===Ve){Ve!==0&&Ve===co&&(zh=!0),be!==null&&(be=be.next={lane:0,tag:bt.tag,payload:bt.payload,callback:null,next:null});t:{var _o=m,wf=bt;Ve=y;var Af=w;switch(wf.tag){case 1:if(_o=wf.payload,typeof _o=="function"){ke=_o.call(Af,ke,Ve);break t}ke=_o;break t;case 3:_o.flags=_o.flags&-65537|128;case 0:if(_o=wf.payload,Ve=typeof _o=="function"?_o.call(Af,ke,Ve):_o,Ve==null)break t;ke=P0({},ke,Ve);break t;case 2:dc=!0}}Ve=bt.callback,Ve!==null&&(m.flags|=64,Dn&&(m.flags|=8192),Dn=F.callbacks,Dn===null?F.callbacks=[Ve]:Dn.push(Ve))}else Dn={lane:Ve,tag:bt.tag,payload:bt.payload,callback:bt.callback,next:null},be===null?(ae=be=Dn,Nt=ke):be=be.next=Dn,ot|=Ve;if(bt=bt.next,bt===null){if(bt=F.shared.pending,bt===null)break;Dn=bt,bt=Dn.next,Dn.next=null,F.lastBaseUpdate=Dn,F.shared.pending=null}}while(!0);be===null&&(Nt=ke),F.baseState=Nt,F.firstBaseUpdate=ae,F.lastBaseUpdate=be,q===null&&(F.shared.lanes=0),yo|=ot,m.lanes=ot,m.memoizedState=ke}}function wt(m,y){if(typeof m!="function")throw Error(s(191,m));m.call(y)}function Ce(m,y){var w=m.callbacks;if(w!==null)for(m.callbacks=null,m=0;m<w.length;m++)wt(w[m],y)}function Xt(m,y){if(La(m,y))return!0;if(typeof m!="object"||m===null||typeof y!="object"||y===null)return!1;var w=Object.keys(m),L=Object.keys(y);if(w.length!==L.length)return!1;for(L=0;L<w.length;L++){var F=w[L];if(!pu.call(y,F)||!La(m[F],y[F]))return!1}return!0}function se(m){return m=m.status,m==="fulfilled"||m==="rejected"}function Pe(){}function Se(m,y,w){switch(w=m[w],w===void 0?m.push(y):w!==y&&(y.then(Pe,Pe),y=w),y.status){case"fulfilled":return y.value;case"rejected":throw m=y.reason,m===Ep?Error(s(483)):m;default:if(typeof y.status=="string")y.then(Pe,Pe);else{if(m=Ri,m!==null&&100<m.shellSuspendCounter)throw Error(s(482));m=y,m.status="pending",m.then(function(L){if(y.status==="pending"){var F=y;F.status="fulfilled",F.value=L}},function(L){if(y.status==="pending"){var F=y;F.status="rejected",F.reason=L}})}switch(y.status){case"fulfilled":return y.value;case"rejected":throw m=y.reason,m===Ep?Error(s(483)):m}throw yf=y,Ep}}function cn(){if(yf===null)throw Error(s(459));var m=yf;return yf=null,m}function Qn(m){var y=_f;return _f+=1,vf===null&&(vf=[]),Se(vf,m,y)}function je(m,y){y=y.props.ref,m.ref=y!==void 0?y:null}function en(m,y){throw y.$$typeof===BO?Error(s(525)):(m=Object.prototype.toString.call(y),Error(s(31,m==="[object Object]"?"object with keys {"+Object.keys(y).join(", ")+"}":m)))}function Ee(m){var y=m._init;return y(m._payload)}function ye(m){function y(Vt,Et){if(m){var Wt=Vt.deletions;Wt===null?(Vt.deletions=[Et],Vt.flags|=16):Wt.push(Et)}}function w(Vt,Et){if(!m)return null;for(;Et!==null;)y(Vt,Et),Et=Et.sibling;return null}function L(Vt){for(var Et=new Map;Vt!==null;)Vt.key!==null?Et.set(Vt.key,Vt):Et.set(Vt.index,Vt),Vt=Vt.sibling;return Et}function F(Vt,Et){return Vt=jo(Vt,Et),Vt.index=0,Vt.sibling=null,Vt}function q(Vt,Et,Wt){return Vt.index=Wt,m?(Wt=Vt.alternate,Wt!==null?(Wt=Wt.index,Wt<Et?(Vt.flags|=33554434,Et):Wt):(Vt.flags|=33554434,Et)):(Vt.flags|=1048576,Et)}function ot(Vt){return m&&Vt.alternate===null&&(Vt.flags|=33554434),Vt}function bt(Vt,Et,Wt,ve){return Et===null||Et.tag!==6?(Et=R0(Wt,Vt.mode,ve),Et.return=Vt,Et):(Et=F(Et,Wt),Et.return=Vt,Et)}function Nt(Vt,Et,Wt,ve){var Je=Wt.type;return Je===uf?be(Vt,Et,Wt.props.children,ve,Wt.key):Et!==null&&(Et.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===$o&&Ee(Je)===Et.type)?(Et=F(Et,Wt.props),je(Et,Wt),Et.return=Vt,Et):(Et=uu(Wt.type,Wt.key,Wt.props,null,Vt.mode,ve),je(Et,Wt),Et.return=Vt,Et)}function ae(Vt,Et,Wt,ve){return Et===null||Et.tag!==4||Et.stateNode.containerInfo!==Wt.containerInfo||Et.stateNode.implementation!==Wt.implementation?(Et=$b(Wt,Vt.mode,ve),Et.return=Vt,Et):(Et=F(Et,Wt.children||[]),Et.return=Vt,Et)}function be(Vt,Et,Wt,ve,Je){return Et===null||Et.tag!==7?(Et=Er(Wt,Vt.mode,ve,Je),Et.return=Vt,Et):(Et=F(Et,Wt),Et.return=Vt,Et)}function ke(Vt,Et,Wt){if(typeof Et=="string"&&Et!==""||typeof Et=="number"||typeof Et=="bigint")return Et=R0(""+Et,Vt.mode,Wt),Et.return=Vt,Et;if(typeof Et=="object"&&Et!==null){switch(Et.$$typeof){case fg:return Wt=uu(Et.type,Et.key,Et.props,null,Vt.mode,Wt),je(Wt,Et),Wt.return=Vt,Wt;case Go:return Et=$b(Et,Vt.mode,Wt),Et.return=Vt,Et;case $o:var ve=Et._init;return Et=ve(Et._payload),ke(Vt,Et,Wt)}if(fp(Et)||a(Et))return Et=Er(Et,Vt.mode,Wt,null),Et.return=Vt,Et;if(typeof Et.then=="function")return ke(Vt,Qn(Et),Wt);if(Et.$$typeof===Ol)return ke(Vt,Yt(Vt,Et),Wt);en(Vt,Et)}return null}function Ve(Vt,Et,Wt,ve){var Je=Et!==null?Et.key:null;if(typeof Wt=="string"&&Wt!==""||typeof Wt=="number"||typeof Wt=="bigint")return Je!==null?null:bt(Vt,Et,""+Wt,ve);if(typeof Wt=="object"&&Wt!==null){switch(Wt.$$typeof){case fg:return Wt.key===Je?Nt(Vt,Et,Wt,ve):null;case Go:return Wt.key===Je?ae(Vt,Et,Wt,ve):null;case $o:return Je=Wt._init,Wt=Je(Wt._payload),Ve(Vt,Et,Wt,ve)}if(fp(Wt)||a(Wt))return Je!==null?null:be(Vt,Et,Wt,ve,null);if(typeof Wt.then=="function")return Ve(Vt,Et,Qn(Wt),ve);if(Wt.$$typeof===Ol)return Ve(Vt,Et,Yt(Vt,Wt),ve);en(Vt,Wt)}return null}function Dn(Vt,Et,Wt,ve,Je){if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return Vt=Vt.get(Wt)||null,bt(Et,Vt,""+ve,Je);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case fg:return Vt=Vt.get(ve.key===null?Wt:ve.key)||null,Nt(Et,Vt,ve,Je);case Go:return Vt=Vt.get(ve.key===null?Wt:ve.key)||null,ae(Et,Vt,ve,Je);case $o:var ir=ve._init;return ve=ir(ve._payload),Dn(Vt,Et,Wt,ve,Je)}if(fp(ve)||a(ve))return Vt=Vt.get(Wt)||null,be(Et,Vt,ve,Je,null);if(typeof ve.then=="function")return Dn(Vt,Et,Wt,Qn(ve),Je);if(ve.$$typeof===Ol)return Dn(Vt,Et,Wt,Yt(Et,ve),Je);en(Et,ve)}return null}function _o(Vt,Et,Wt,ve){for(var Je=null,ir=null,Tn=Et,xi=Et=0,Br=null;Tn!==null&&xi<Wt.length;xi++){Tn.index>xi?(Br=Tn,Tn=null):Br=Tn.sibling;var ni=Ve(Vt,Tn,Wt[xi],ve);if(ni===null){Tn===null&&(Tn=Br);break}m&&Tn&&ni.alternate===null&&y(Vt,Tn),Et=q(ni,Et,xi),ir===null?Je=ni:ir.sibling=ni,ir=ni,Tn=Br}if(xi===Wt.length)return w(Vt,Tn),ci&&Z(Vt,xi),Je;if(Tn===null){for(;xi<Wt.length;xi++)Tn=ke(Vt,Wt[xi],ve),Tn!==null&&(Et=q(Tn,Et,xi),ir===null?Je=Tn:ir.sibling=Tn,ir=Tn);return ci&&Z(Vt,xi),Je}for(Tn=L(Tn);xi<Wt.length;xi++)Br=Dn(Tn,Vt,xi,Wt[xi],ve),Br!==null&&(m&&Br.alternate!==null&&Tn.delete(Br.key===null?xi:Br.key),Et=q(Br,Et,xi),ir===null?Je=Br:ir.sibling=Br,ir=Br);return m&&Tn.forEach(function(Su){return y(Vt,Su)}),ci&&Z(Vt,xi),Je}function wf(Vt,Et,Wt,ve){if(Wt==null)throw Error(s(151));for(var Je=null,ir=null,Tn=Et,xi=Et=0,Br=null,ni=Wt.next();Tn!==null&&!ni.done;xi++,ni=Wt.next()){Tn.index>xi?(Br=Tn,Tn=null):Br=Tn.sibling;var Su=Ve(Vt,Tn,ni.value,ve);if(Su===null){Tn===null&&(Tn=Br);break}m&&Tn&&Su.alternate===null&&y(Vt,Tn),Et=q(Su,Et,xi),ir===null?Je=Su:ir.sibling=Su,ir=Su,Tn=Br}if(ni.done)return w(Vt,Tn),ci&&Z(Vt,xi),Je;if(Tn===null){for(;!ni.done;xi++,ni=Wt.next())ni=ke(Vt,ni.value,ve),ni!==null&&(Et=q(ni,Et,xi),ir===null?Je=ni:ir.sibling=ni,ir=ni);return ci&&Z(Vt,xi),Je}for(Tn=L(Tn);!ni.done;xi++,ni=Wt.next())ni=Dn(Tn,Vt,xi,ni.value,ve),ni!==null&&(m&&ni.alternate!==null&&Tn.delete(ni.key===null?xi:ni.key),Et=q(ni,Et,xi),ir===null?Je=ni:ir.sibling=ni,ir=ni);return m&&Tn.forEach(function(sv){return y(Vt,sv)}),ci&&Z(Vt,xi),Je}function Af(Vt,Et,Wt,ve){if(typeof Wt=="object"&&Wt!==null&&Wt.type===uf&&Wt.key===null&&(Wt=Wt.props.children),typeof Wt=="object"&&Wt!==null){switch(Wt.$$typeof){case fg:t:{for(var Je=Wt.key;Et!==null;){if(Et.key===Je){if(Je=Wt.type,Je===uf){if(Et.tag===7){w(Vt,Et.sibling),ve=F(Et,Wt.props.children),ve.return=Vt,Vt=ve;break t}}else if(Et.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===$o&&Ee(Je)===Et.type){w(Vt,Et.sibling),ve=F(Et,Wt.props),je(ve,Wt),ve.return=Vt,Vt=ve;break t}w(Vt,Et);break}else y(Vt,Et);Et=Et.sibling}Wt.type===uf?(ve=Er(Wt.props.children,Vt.mode,ve,Wt.key),ve.return=Vt,Vt=ve):(ve=uu(Wt.type,Wt.key,Wt.props,null,Vt.mode,ve),je(ve,Wt),ve.return=Vt,Vt=ve)}return ot(Vt);case Go:t:{for(Je=Wt.key;Et!==null;){if(Et.key===Je)if(Et.tag===4&&Et.stateNode.containerInfo===Wt.containerInfo&&Et.stateNode.implementation===Wt.implementation){w(Vt,Et.sibling),ve=F(Et,Wt.children||[]),ve.return=Vt,Vt=ve;break t}else{w(Vt,Et);break}else y(Vt,Et);Et=Et.sibling}ve=$b(Wt,Vt.mode,ve),ve.return=Vt,Vt=ve}return ot(Vt);case $o:return Je=Wt._init,Wt=Je(Wt._payload),Af(Vt,Et,Wt,ve)}if(fp(Wt))return _o(Vt,Et,Wt,ve);if(a(Wt)){if(Je=a(Wt),typeof Je!="function")throw Error(s(150));return Wt=Je.call(Wt),wf(Vt,Et,Wt,ve)}if(typeof Wt.then=="function")return Af(Vt,Et,Qn(Wt),ve);if(Wt.$$typeof===Ol)return Af(Vt,Et,Yt(Vt,Wt),ve);en(Vt,Wt)}return typeof Wt=="string"&&Wt!==""||typeof Wt=="number"||typeof Wt=="bigint"?(Wt=""+Wt,Et!==null&&Et.tag===6?(w(Vt,Et.sibling),ve=F(Et,Wt),ve.return=Vt,Vt=ve):(w(Vt,Et),ve=R0(Wt,Vt.mode,ve),ve.return=Vt,Vt=ve),ot(Vt)):w(Vt,Et)}return function(Vt,Et,Wt,ve){try{_f=0;var Je=Af(Vt,Et,Wt,ve);return vf=null,Je}catch(Tn){if(Tn===Ep)throw Tn;var ir=n(29,Tn,null,Vt.mode);return ir.lanes=ve,ir.return=Vt,ir}finally{}}}function Qe(m,y){m=Zs,A(Tp,m),A(Ki,y),Zs=m|y.baseLanes}function Ye(){A(Tp,Zs),A(Ki,Ki.current)}function Mn(){Zs=Tp.current,x(Ki),x(Tp)}function Hi(m){var y=m.alternate;A(cs,cs.current&1),A(fo,m),Gi===null&&(y===null||Ki.current!==null||y.memoizedState!==null)&&(Gi=m)}function ra(m){if(m.tag===22){if(A(cs,cs.current),A(fo,m),Gi===null){var y=m.alternate;y!==null&&y.memoizedState!==null&&(Gi=m)}}else lr()}function lr(){A(cs,cs.current),A(fo,fo.current)}function Wr(m){x(fo),Gi===m&&(Gi=null),x(cs)}function Ds(m){for(var y=m;y!==null;){if(y.tag===13){var w=y.memoizedState;if(w!==null&&(w=w.dehydrated,w===null||F0(w)||V0(w)))return y}else if(y.tag===19&&y.memoizedProps.revealOrder!==void 0){if((y.flags&128)!==0)return y}else if(y.child!==null){y.child.return=y,y=y.child;continue}if(y===m)break;for(;y.sibling===null;){if(y.return===null||y.return===m)return null;y=y.return}y.sibling.return=y.return,y=y.sibling}return null}function pi(){throw Error(s(321))}function Aa(m,y){if(y===null)return!1;for(var w=0;w<y.length&&w<m.length;w++)if(!La(m[w],y[w]))return!1;return!0}function sa(m,y,w,L,F,q){return pc=q,Gn=y,y.memoizedState=null,y.updateQueue=null,y.lanes=0,En.H=m===null||m.memoizedState===null?Sf:ha,xf=!1,q=w(L,F),xf=!1,Bh&&(q=_s(y,w,L,F)),eo(m),q}function eo(m){En.H=Tr;var y=mn!==null&&mn.next!==null;if(pc=0,gi=mn=Gn=null,Ko=!1,Fh=0,ws=null,y)throw Error(s(300));m===null||$i||(m=m.dependencies,m!==null&&K(m)&&($i=!0))}function _s(m,y,w,L){Gn=m;var F=0;do{if(Bh&&(ws=null),Fh=0,Bh=!1,25<=F)throw Error(s(301));if(F+=1,gi=mn=null,m.updateQueue!=null){var q=m.updateQueue;q.lastEffect=null,q.events=null,q.stores=null,q.memoCache!=null&&(q.memoCache.index=0)}En.H=ho,q=y(w,L)}while(Bh);return q}function hr(){var m=En.H,y=m.useState()[0];return y=typeof y.then=="function"?Ft(y):y,m=m.useState()[0],(mn!==null?mn.memoizedState:null)!==m&&(Gn.flags|=1024),y}function Wu(){var m=Z0!==0;return Z0=0,m}function iu(m,y,w){y.updateQueue=m.updateQueue,y.flags&=-2053,m.lanes&=~w}function aa(m){if(Ko){for(m=m.memoizedState;m!==null;){var y=m.queue;y!==null&&(y.pending=null),m=m.next}Ko=!1}pc=0,gi=mn=Gn=null,Bh=!1,Fh=Z0=0,ws=null}function rt(){var m={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gi===null?Gn.memoizedState=gi=m:gi=gi.next=m,gi}function St(){if(mn===null){var m=Gn.alternate;m=m!==null?m.memoizedState:null}else m=mn.next;var y=gi===null?Gn.memoizedState:gi.next;if(y!==null)gi=y,mn=m;else{if(m===null)throw Gn.alternate===null?Error(s(467)):Error(s(310));mn=m,m={memoizedState:mn.memoizedState,baseState:mn.baseState,baseQueue:mn.baseQueue,queue:mn.queue,next:null},gi===null?Gn.memoizedState=gi=m:gi=gi.next=m}return gi}function Ft(m){var y=Fh;return Fh+=1,ws===null&&(ws=[]),m=Se(ws,m,y),y=Gn,(gi===null?y.memoizedState:gi.next)===null&&(y=y.alternate,En.H=y===null||y.memoizedState===null?Sf:ha),m}function jt(m){if(m!==null&&typeof m=="object"){if(typeof m.then=="function")return Ft(m);if(m.$$typeof===Ol)return Ot(m)}throw Error(s(438,String(m)))}function It(m){var y=null,w=Gn.updateQueue;if(w!==null&&(y=w.memoCache),y==null){var L=Gn.alternate;L!==null&&(L=L.updateQueue,L!==null&&(L=L.memoCache,L!=null&&(y={data:L.data.map(function(F){return F.slice()}),index:0})))}if(y==null&&(y={data:[],index:0}),w===null&&(w=Q0(),Gn.updateQueue=w),w.memoCache=y,w=y.data[y.index],w===void 0)for(w=y.data[y.index]=Array(m),L=0;L<m;L++)w[L]=aT;return y.index++,w}function pe(m,y){return typeof y=="function"?y(m):y}function Te(m){var y=St();return we(y,mn,m)}function we(m,y,w){var L=m.queue;if(L===null)throw Error(s(311));L.lastRenderedReducer=w;var F=m.baseQueue,q=L.pending;if(q!==null){if(F!==null){var ot=F.next;F.next=q.next,q.next=ot}y.baseQueue=F=q,L.pending=null}if(q=m.baseState,F===null)m.memoizedState=q;else{y=F.next;var bt=ot=null,Nt=null,ae=y,be=!1;do{var ke=ae.lane&-536870913;if(ke!==ae.lane?(ai&ke)===ke:(pc&ke)===ke){var Ve=ae.revertLane;if(Ve===0)Nt!==null&&(Nt=Nt.next={lane:0,revertLane:0,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),ke===co&&(be=!0);else if((pc&Ve)===Ve){ae=ae.next,Ve===co&&(be=!0);continue}else ke={lane:0,revertLane:ae.revertLane,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},Nt===null?(bt=Nt=ke,ot=q):Nt=Nt.next=ke,Gn.lanes|=Ve,yo|=Ve;ke=ae.action,xf&&w(q,ke),q=ae.hasEagerState?ae.eagerState:w(q,ke)}else Ve={lane:ke,revertLane:ae.revertLane,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},Nt===null?(bt=Nt=Ve,ot=q):Nt=Nt.next=Ve,Gn.lanes|=ke,yo|=ke;ae=ae.next}while(ae!==null&&ae!==y);if(Nt===null?ot=q:Nt.next=bt,!La(q,m.memoizedState)&&($i=!0,be&&(w=kh,w!==null)))throw w;m.memoizedState=q,m.baseState=ot,m.baseQueue=Nt,L.lastRenderedState=q}return F===null&&(L.lanes=0),[m.memoizedState,L.dispatch]}function Fe(m){var y=St(),w=y.queue;if(w===null)throw Error(s(311));w.lastRenderedReducer=m;var L=w.dispatch,F=w.pending,q=y.memoizedState;if(F!==null){w.pending=null;var ot=F=F.next;do q=m(q,ot.action),ot=ot.next;while(ot!==F);La(q,y.memoizedState)||($i=!0),y.memoizedState=q,y.baseQueue===null&&(y.baseState=q),w.lastRenderedState=q}return[q,L]}function pn(m,y,w){var L=Gn,F=St(),q=ci;if(q){if(w===void 0)throw Error(s(407));w=w()}else w=y();var ot=!La((mn||F).memoizedState,w);if(ot&&(F.memoizedState=w,$i=!0),F=F.queue,jm(Fn.bind(null,L,F,m),[m]),F.getSnapshot!==y||ot||gi!==null&&gi.memoizedState.tag&1){if(L.flags|=2048,Ir(9,We.bind(null,L,F,w,y),{destroy:void 0},null),Ri===null)throw Error(s(349));q||(pc&60)!==0||nn(L,y,w)}return w}function nn(m,y,w){m.flags|=16384,m={getSnapshot:y,value:w},y=Gn.updateQueue,y===null?(y=Q0(),Gn.updateQueue=y,y.stores=[m]):(w=y.stores,w===null?y.stores=[m]:w.push(m))}function We(m,y,w,L){y.value=w,y.getSnapshot=L,ti(y)&&Ui(m)}function Fn(m,y,w){return w(function(){ti(y)&&Ui(m)})}function ti(m){var y=m.getSnapshot;m=m.value;try{var w=y();return!La(m,w)}catch{return!0}}function Ui(m){var y=ne(m,2);y!==null&&Ss(y,m,2)}function jn(m){var y=rt();if(typeof m=="function"){var w=m;if(m=w(),xf){X(!0);try{w()}finally{X(!1)}}}return y.memoizedState=y.baseState=m,y.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pe,lastRenderedState:m},y}function Xn(m,y,w,L){return m.baseState=w,we(m,mn,typeof L=="function"?L:pe)}function rn(m,y,w,L,F){if(Xc(m))throw Error(s(485));if(m=y.action,m!==null){var q={payload:F,action:m,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ot){q.listeners.push(ot)}};En.T!==null?w(!0):q.isTransition=!1,L(q),w=y.pending,w===null?(q.next=y.pending=q,er(y,q)):(q.next=w.next,y.pending=w.next=q)}}function er(m,y){var w=y.action,L=y.payload,F=m.state;if(y.isTransition){var q=En.T,ot={};En.T=ot;try{var bt=w(F,L),Nt=En.S;Nt!==null&&Nt(ot,bt),ei(m,y,bt)}catch(ae){Io(m,y,ae)}finally{En.T=q}}else try{q=w(F,L),ei(m,y,q)}catch(ae){Io(m,y,ae)}}function ei(m,y,w){w!==null&&typeof w=="object"&&typeof w.then=="function"?w.then(function(L){Xr(m,y,L)},function(L){return Io(m,y,L)}):Xr(m,y,w)}function Xr(m,y,w){y.status="fulfilled",y.value=w,li(y),m.state=w,y=m.pending,y!==null&&(w=y.next,w===y?m.pending=null:(w=w.next,y.next=w,er(m,w)))}function Io(m,y,w){var L=m.pending;if(m.pending=null,L!==null){L=L.next;do y.status="rejected",y.reason=w,li(y),y=y.next;while(y!==L)}m.action=null}function li(m){m=m.listeners;for(var y=0;y<m.length;y++)(0,m[y])()}function Yr(m,y){return y}function mi(m,y){if(ci){var w=Ri.formState;if(w!==null){t:{var L=Gn;if(ci){if(Bs){var F=lx(Bs,Ts);if(F){Bs=ux(F),L=CT(F);break t}}Tt(L)}L=!1}L&&(y=w[0])}}w=rt(),w.memoizedState=w.baseState=y,L={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:y},w.queue=L,w=Wd.bind(null,Gn,L),L.dispatch=w,L=jn(!1);var q=Lo.bind(null,Gn,!1,L.queue);return L=rt(),F={state:y,dispatch:null,action:m,pending:null},L.queue=F,w=rn.bind(null,Gn,F,q,w),F.dispatch=w,L.memoizedState=m,[y,w,!1]}function Sr(m){var y=St();return dr(y,mn,m)}function dr(m,y,w){y=we(m,y,Yr)[0],m=Te(pe)[0],y=typeof y=="object"&&y!==null&&typeof y.then=="function"?Ft(y):y;var L=St(),F=L.queue,q=F.dispatch;return w!==L.memoizedState&&(Gn.flags|=2048,Ir(9,On.bind(null,F,w),{destroy:void 0},null)),[y,q,m]}function On(m,y){m.action=y}function pr(m){var y=St(),w=mn;if(w!==null)return dr(y,w,m);St(),y=y.memoizedState,w=St();var L=w.queue.dispatch;return w.memoizedState=m,[y,L,!1]}function Ir(m,y,w,L){return m={tag:m,create:y,inst:w,deps:L,next:null},y=Gn.updateQueue,y===null&&(y=Q0(),Gn.updateQueue=y),w=y.lastEffect,w===null?y.lastEffect=m.next=m:(L=w.next,w.next=m,m.next=L,y.lastEffect=m),m}function qs(){return St().memoizedState}function gh(m,y,w,L){var F=rt();Gn.flags|=m,F.memoizedState=Ir(1|y,w,{destroy:void 0},L===void 0?null:L)}function Gc(m,y,w,L){var F=St();L=L===void 0?null:L;var q=F.memoizedState.inst;mn!==null&&L!==null&&Aa(L,mn.memoizedState.deps)?F.memoizedState=Ir(y,w,q,L):(Gn.flags|=m,F.memoizedState=Ir(1|y,w,q,L))}function $d(m,y){gh(8390656,8,m,y)}function jm(m,y){Gc(2048,8,m,y)}function g0(m,y){return Gc(4,2,m,y)}function yh(m,y){return Gc(4,4,m,y)}function ru(m,y){if(typeof y=="function"){m=m();var w=y(m);return function(){typeof w=="function"?w():y(null)}}if(y!=null)return m=m(),y.current=m,function(){y.current=null}}function no(m,y,w){w=w!=null?w.concat([m]):null,Gc(4,4,ru.bind(null,y,m),w)}function Tl(){}function su(m,y){var w=St();y=y===void 0?null:y;var L=w.memoizedState;return y!==null&&Aa(y,L[1])?L[0]:(w.memoizedState=[m,y],m)}function qd(m,y){var w=St();y=y===void 0?null:y;var L=w.memoizedState;if(y!==null&&Aa(y,L[1]))return L[0];if(L=m(),xf){X(!0);try{m()}finally{X(!1)}}return w.memoizedState=[L,y],L}function Do(m,y,w){return w===void 0||(pc&1073741824)!==0?m.memoizedState=y:(m.memoizedState=w,m=Bb(),Gn.lanes|=m,yo|=m,w)}function Gm(m,y,w,L){return La(w,y)?w:Ki.current!==null?(m=Do(m,w,L),La(m,y)||($i=!0),m):(pc&42)===0?($i=!0,m.memoizedState=w):(m=Bb(),Gn.lanes|=m,yo|=m,y)}function $c(m,y,w,L,F){var q=uc();Ys(q!==0&&8>q?q:8);var ot=En.T,bt={};En.T=bt,Lo(m,!1,y,w);try{var Nt=F(),ae=En.S;if(ae!==null&&ae(bt,Nt),Nt!==null&&typeof Nt=="object"&&typeof Nt.then=="function"){var be=Le(Nt,L);Ca(m,y,be,Lr(m))}else Ca(m,y,L,Lr(m))}catch(ke){Ca(m,y,{then:function(){},status:"rejected",reason:ke},Lr())}finally{Ys(q),En.T=ot}}function No(m){var y=m.memoizedState;if(y!==null)return y;y={memoizedState:ff,baseState:ff,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pe,lastRenderedState:ff},next:null};var w={};return y.next={memoizedState:w,baseState:w,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pe,lastRenderedState:w},next:null},m.memoizedState=y,m=m.alternate,m!==null&&(m.memoizedState=y),y}function Ma(){return Ot(Pl)}function qc(){return St().memoizedState}function wl(){return St().memoizedState}function Wc(m){for(var y=m.return;y!==null;){switch(y.tag){case 24:case 3:var w=Lr();m=Re(w);var L=Oe(y,m,w);L!==null&&(Ss(L,y,w),Zt(L,y,w)),y={cache:ri()},m.payload=y;return}y=y.return}}function Xu(m,y,w){var L=Lr();w={lane:L,revertLane:0,action:w,hasEagerState:!1,eagerState:null,next:null},Xc(m)?os(y,w):(w=ee(m,y,w,L),w!==null&&(Ss(w,m,L),Ti(w,y,L)))}function Wd(m,y,w){var L=Lr();Ca(m,y,w,L)}function Ca(m,y,w,L){var F={lane:L,revertLane:0,action:w,hasEagerState:!1,eagerState:null,next:null};if(Xc(m))os(y,F);else{var q=m.alternate;if(m.lanes===0&&(q===null||q.lanes===0)&&(q=y.lastRenderedReducer,q!==null))try{var ot=y.lastRenderedState,bt=q(ot,w);if(F.hasEagerState=!0,F.eagerState=bt,La(bt,ot))return ce(m,y,F,0),Ri===null&&at(),!1}catch{}finally{}if(w=ee(m,y,F,L),w!==null)return Ss(w,m,L),Ti(w,y,L),!0}return!1}function Lo(m,y,w,L){if(L={lane:2,revertLane:Ct(),action:L,hasEagerState:!1,eagerState:null,next:null},Xc(m)){if(y)throw Error(s(479))}else y=ee(m,w,L,2),y!==null&&Ss(y,m,2)}function Xc(m){var y=m.alternate;return m===Gn||y!==null&&y===Gn}function os(m,y){Bh=Ko=!0;var w=m.pending;w===null?y.next=y:(y.next=w.next,w.next=y),m.pending=y}function Ti(m,y,w){if((w&4194176)!==0){var L=y.lanes;L&=m.pendingLanes,w|=L,y.lanes=w,Y(m,w)}}function Yc(m,y,w,L){y=m.memoizedState,w=w(L,y),w=w==null?y:P0({},y,w),m.memoizedState=w,m.lanes===0&&(m.updateQueue.baseState=w)}function Kc(m,y,w,L,F,q,ot){return m=m.stateNode,typeof m.shouldComponentUpdate=="function"?m.shouldComponentUpdate(L,q,ot):y.prototype&&y.prototype.isPureReactComponent?!Xt(w,L)||!Xt(F,q):!0}function $m(m,y,w,L){m=y.state,typeof y.componentWillReceiveProps=="function"&&y.componentWillReceiveProps(w,L),typeof y.UNSAFE_componentWillReceiveProps=="function"&&y.UNSAFE_componentWillReceiveProps(w,L),y.state!==m&&gu.enqueueReplaceState(y,y.state,null)}function Uo(m,y){var w=y;if("ref"in y){w={};for(var L in y)L!=="ref"&&(w[L]=y[L])}if(m=m.defaultProps){w===y&&(w=P0({},w));for(var F in m)w[F]===void 0&&(w[F]=m[F])}return w}function Yu(m,y){try{var w=m.onUncaughtError;w(y.value,{componentStack:y.stack})}catch(L){setTimeout(function(){throw L})}}function Al(m,y,w){try{var L=m.onCaughtError;L(w.value,{componentStack:w.stack,errorBoundary:y.tag===1?y.stateNode:null})}catch(F){setTimeout(function(){throw F})}}function Ku(m,y,w){return w=Re(w),w.tag=3,w.payload={element:null},w.callback=function(){Yu(m,y)},w}function io(m){return m=Re(m),m.tag=3,m}function qm(m,y,w,L){var F=w.type.getDerivedStateFromError;if(typeof F=="function"){var q=L.value;m.payload=function(){return F(q)},m.callback=function(){Al(y,w,L)}}var ot=w.stateNode;ot!==null&&typeof ot.componentDidCatch=="function"&&(m.callback=function(){Al(y,w,L),typeof F!="function"&&(Ef===null?Ef=new Set([this]):Ef.add(this));var bt=L.stack;this.componentDidCatch(L.value,{componentStack:bt!==null?bt:""})})}function Rb(m,y,w,L,F){if(w.flags|=32768,L!==null&&typeof L=="object"&&typeof L.then=="function"){if(y=w.alternate,y!==null&&$(y,w,F,!0),w=fo.current,w!==null){switch(w.tag){case 13:return Gi===null?ic():w.alternate===null&&qi===0&&(qi=3),w.flags&=-257,w.flags|=65536,w.lanes=F,L===Ag?w.flags|=16384:(y=w.updateQueue,y===null?w.updateQueue=new Set([L]):y.add(L),wh(m,L,F)),!1;case 22:return w.flags|=65536,L===Ag?w.flags|=16384:(y=w.updateQueue,y===null?(y={transitions:null,markerInstances:null,retryQueue:new Set([L])},w.updateQueue=y):(w=y.retryQueue,w===null?y.retryQueue=new Set([L]):w.add(L)),wh(m,L,F)),!1}throw Error(s(435,w.tag))}return wh(m,L,F),ic(),!1}if(ci)return y=fo.current,y!==null?((y.flags&65536)===0&&(y.flags|=256),y.flags|=65536,y.lanes=F,L!==Eg&&(m=Error(s(422),{cause:L}),Bt(nt(m,w)))):(L!==Eg&&(y=Error(s(423),{cause:L}),Bt(nt(y,w))),m=m.current.alternate,m.flags|=65536,F&=-F,m.lanes|=F,L=nt(L,w),F=Ku(m.stateNode,L,F),Ie(m,F),qi!==4&&(qi=2)),!1;var q=Error(s(520),{cause:L});if(q=nt(q,w),Hh===null?Hh=[q]:Hh.push(q),qi!==4&&(qi=2),y===null)return!0;L=nt(L,w),w=y;do{switch(w.tag){case 3:return w.flags|=65536,m=F&-F,w.lanes|=m,m=Ku(w.stateNode,L,m),Ie(w,m),!1;case 1:if(y=w.type,q=w.stateNode,(w.flags&128)===0&&(typeof y.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(Ef===null||!Ef.has(q))))return w.flags|=65536,F&=-F,w.lanes|=F,F=io(F),qm(F,m,w,L),Ie(w,F),!1}w=w.return}while(w!==null);return!1}function mr(m,y,w,L){y.child=m===null?mu(y,null,w,L):bf(y,m.child,w,L)}function vh(m,y,w,L,F){w=w.render;var q=y.ref;if("ref"in L){var ot={};for(var bt in L)bt!=="ref"&&(ot[bt]=L[bt])}else ot=L;return ft(y),L=sa(m,y,w,ot,q,F),bt=Wu(),m!==null&&!$i?(iu(m,y,F),ko(m,y,F)):(ci&&bt&&yt(y),y.flags|=1,mr(m,y,L,F),y.child)}function Xd(m,y,w,L,F){if(m===null){var q=w.type;return typeof q=="function"&&!og(q)&&q.defaultProps===void 0&&w.compare===null?(y.tag=15,y.type=q,_h(m,y,q,L,F)):(m=uu(w.type,null,L,y,y.mode,F),m.ref=y.ref,m.return=y,y.child=m)}if(q=m.child,!Zd(m,F)){var ot=q.memoizedProps;if(w=w.compare,w=w!==null?w:Xt,w(ot,L)&&m.ref===y.ref)return ko(m,y,F)}return y.flags|=1,m=jo(q,L),m.ref=y.ref,m.return=y,y.child=m}function _h(m,y,w,L,F){if(m!==null){var q=m.memoizedProps;if(Xt(q,L)&&m.ref===y.ref)if($i=!1,y.pendingProps=L=q,Zd(m,F))(m.flags&131072)!==0&&($i=!0);else return y.lanes=m.lanes,ko(m,y,F)}return Sh(m,y,w,L,F)}function Wm(m,y,w){var L=y.pendingProps,F=L.children,q=(y.stateNode._pendingVisibility&2)!==0,ot=m!==null?m.memoizedState:null;if(xh(m,y),L.mode==="hidden"||q){if((y.flags&128)!==0){if(L=ot!==null?ot.baseLanes|w:w,m!==null){for(F=y.child=m.child,q=0;F!==null;)q=q|F.lanes|F.childLanes,F=F.sibling;y.childLanes=q&~L}else y.childLanes=0,y.child=null;return bh(m,y,L,w)}if((w&536870912)!==0)y.memoizedState={baseLanes:0,cachePool:null},m!==null&&Dr(y,ot!==null?ot.cachePool:null),ot!==null?Qe(y,ot):Ye(),ra(y);else return y.lanes=y.childLanes=536870912,bh(m,y,ot!==null?ot.baseLanes|w:w,w)}else ot!==null?(Dr(y,ot.cachePool),Qe(y,ot),lr(),y.memoizedState=null):(m!==null&&Dr(y,null),Ye(),lr());return mr(m,y,F,w),y.child}function bh(m,y,w,L){var F=si();return F=F===null?null:{parent:ua?Zi._currentValue:Zi._currentValue2,pool:F},y.memoizedState={baseLanes:w,cachePool:F},m!==null&&Dr(y,null),Ye(),ra(y),m!==null&&$(m,y,L,!0),null}function xh(m,y){var w=y.ref;if(w===null)m!==null&&m.ref!==null&&(y.flags|=2097664);else{if(typeof w!="function"&&typeof w!="object")throw Error(s(284));(m===null||m.ref!==w)&&(y.flags|=2097664)}}function Sh(m,y,w,L,F){return ft(y),w=sa(m,y,w,L,void 0,F),L=Wu(),m!==null&&!$i?(iu(m,y,F),ko(m,y,F)):(ci&&L&&yt(y),y.flags|=1,mr(m,y,w,F),y.child)}function Zc(m,y,w,L,F,q){return ft(y),y.updateQueue=null,w=_s(y,L,w,F),eo(m),L=Wu(),m!==null&&!$i?(iu(m,y,q),ko(m,y,q)):(ci&&L&&yt(y),y.flags|=1,mr(m,y,w,q),y.child)}function Xm(m,y,w,L,F){if(ft(y),y.stateNode===null){var q=mf,ot=w.contextType;typeof ot=="object"&&ot!==null&&(q=Ot(ot)),q=new w(L,q),y.memoizedState=q.state!==null&&q.state!==void 0?q.state:null,q.updater=gu,y.stateNode=q,q._reactInternals=y,q=y.stateNode,q.props=L,q.state=y.memoizedState,q.refs={},Ht(y),ot=w.contextType,q.context=typeof ot=="object"&&ot!==null?Ot(ot):mf,q.state=y.memoizedState,ot=w.getDerivedStateFromProps,typeof ot=="function"&&(Yc(y,w,ot,L),q.state=y.memoizedState),typeof w.getDerivedStateFromProps=="function"||typeof q.getSnapshotBeforeUpdate=="function"||typeof q.UNSAFE_componentWillMount!="function"&&typeof q.componentWillMount!="function"||(ot=q.state,typeof q.componentWillMount=="function"&&q.componentWillMount(),typeof q.UNSAFE_componentWillMount=="function"&&q.UNSAFE_componentWillMount(),ot!==q.state&&gu.enqueueReplaceState(q,q.state,null),ln(y,L,q,F),Ue(),q.state=y.memoizedState),typeof q.componentDidMount=="function"&&(y.flags|=4194308),L=!0}else if(m===null){q=y.stateNode;var bt=y.memoizedProps,Nt=Uo(w,bt);q.props=Nt;var ae=q.context,be=w.contextType;ot=mf,typeof be=="object"&&be!==null&&(ot=Ot(be));var ke=w.getDerivedStateFromProps;be=typeof ke=="function"||typeof q.getSnapshotBeforeUpdate=="function",bt=y.pendingProps!==bt,be||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(bt||ae!==ot)&&$m(y,q,L,ot),dc=!1;var Ve=y.memoizedState;q.state=Ve,ln(y,L,q,F),Ue(),ae=y.memoizedState,bt||Ve!==ae||dc?(typeof ke=="function"&&(Yc(y,w,ke,L),ae=y.memoizedState),(Nt=dc||Kc(y,w,Nt,L,Ve,ae,ot))?(be||typeof q.UNSAFE_componentWillMount!="function"&&typeof q.componentWillMount!="function"||(typeof q.componentWillMount=="function"&&q.componentWillMount(),typeof q.UNSAFE_componentWillMount=="function"&&q.UNSAFE_componentWillMount()),typeof q.componentDidMount=="function"&&(y.flags|=4194308)):(typeof q.componentDidMount=="function"&&(y.flags|=4194308),y.memoizedProps=L,y.memoizedState=ae),q.props=L,q.state=ae,q.context=ot,L=Nt):(typeof q.componentDidMount=="function"&&(y.flags|=4194308),L=!1)}else{q=y.stateNode,_e(m,y),ot=y.memoizedProps,be=Uo(w,ot),q.props=be,ke=y.pendingProps,Ve=q.context,ae=w.contextType,Nt=mf,typeof ae=="object"&&ae!==null&&(Nt=Ot(ae)),bt=w.getDerivedStateFromProps,(ae=typeof bt=="function"||typeof q.getSnapshotBeforeUpdate=="function")||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(ot!==ke||Ve!==Nt)&&$m(y,q,L,Nt),dc=!1,Ve=y.memoizedState,q.state=Ve,ln(y,L,q,F),Ue();var Dn=y.memoizedState;ot!==ke||Ve!==Dn||dc||m!==null&&m.dependencies!==null&&K(m.dependencies)?(typeof bt=="function"&&(Yc(y,w,bt,L),Dn=y.memoizedState),(be=dc||Kc(y,w,be,L,Ve,Dn,Nt)||m!==null&&m.dependencies!==null&&K(m.dependencies))?(ae||typeof q.UNSAFE_componentWillUpdate!="function"&&typeof q.componentWillUpdate!="function"||(typeof q.componentWillUpdate=="function"&&q.componentWillUpdate(L,Dn,Nt),typeof q.UNSAFE_componentWillUpdate=="function"&&q.UNSAFE_componentWillUpdate(L,Dn,Nt)),typeof q.componentDidUpdate=="function"&&(y.flags|=4),typeof q.getSnapshotBeforeUpdate=="function"&&(y.flags|=1024)):(typeof q.componentDidUpdate!="function"||ot===m.memoizedProps&&Ve===m.memoizedState||(y.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||ot===m.memoizedProps&&Ve===m.memoizedState||(y.flags|=1024),y.memoizedProps=L,y.memoizedState=Dn),q.props=L,q.state=Dn,q.context=Nt,L=be):(typeof q.componentDidUpdate!="function"||ot===m.memoizedProps&&Ve===m.memoizedState||(y.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||ot===m.memoizedProps&&Ve===m.memoizedState||(y.flags|=1024),L=!1)}return q=L,xh(m,y),L=(y.flags&128)!==0,q||L?(q=y.stateNode,w=L&&typeof w.getDerivedStateFromError!="function"?null:q.render(),y.flags|=1,m!==null&&L?(y.child=bf(y,m.child,null,F),y.child=bf(y,null,w,F)):mr(m,y,w,F),y.memoizedState=q.state,m=y.child):m=ko(m,y,F),m}function Ym(m,y,w,L){return Pt(),y.flags|=256,mr(m,y,w,L),y.child}function Eh(m){return{baseLanes:m,cachePool:Kr()}}function Zu(m,y,w){return m=m!==null?m.childLanes&~w:0,y&&(m|=vo),m}function Km(m,y,w){var L=y.pendingProps,F=!1,q=(y.flags&128)!==0,ot;if((ot=q)||(ot=m!==null&&m.memoizedState===null?!1:(cs.current&2)!==0),ot&&(F=!0,y.flags&=-129),ot=(y.flags&32)!==0,y.flags&=-33,m===null){if(ci){if(F?Hi(y):lr(),ci){var bt=Bs,Nt;(Nt=bt)&&(bt=PT(bt,Ts),bt!==null?(y.memoizedState={dehydrated:bt,treeContext:gf!==null?{id:Dl,overflow:Nl}:null,retryLane:536870912},Nt=n(18,null,null,0),Nt.stateNode=bt,Nt.return=y,y.child=Nt,zs=y,Bs=null,Nt=!0):Nt=!1),Nt||Tt(y)}if(bt=y.memoizedState,bt!==null&&(bt=bt.dehydrated,bt!==null))return V0(bt)?y.lanes=16:y.lanes=536870912,null;Wr(y)}return bt=L.children,L=L.fallback,F?(lr(),F=y.mode,bt=Yd({mode:"hidden",children:bt},F),L=Er(L,F,w,null),bt.return=y,L.return=y,bt.sibling=L,y.child=bt,F=y.child,F.memoizedState=Eh(w),F.childLanes=Zu(m,ot,w),y.memoizedState=ev,L):(Hi(y),Qc(y,bt))}if(Nt=m.memoizedState,Nt!==null&&(bt=Nt.dehydrated,bt!==null)){if(q)y.flags&256?(Hi(y),y.flags&=-257,y=Th(m,y,w)):y.memoizedState!==null?(lr(),y.child=m.child,y.flags|=128,y=null):(lr(),F=L.fallback,bt=y.mode,L=Yd({mode:"visible",children:L.children},bt),F=Er(F,bt,w,null),F.flags|=2,L.return=y,F.return=y,L.sibling=F,y.child=L,bf(y,m.child,null,w),L=y.child,L.memoizedState=Eh(w),L.childLanes=Zu(m,ot,w),y.memoizedState=ev,y=F);else if(Hi(y),V0(bt))ot=AT(bt).digest,L=Error(s(419)),L.stack="",L.digest=ot,Bt({value:L,source:null,stack:null}),y=Th(m,y,w);else if($i||$(m,y,w,!1),ot=(w&m.childLanes)!==0,$i||ot){if(ot=Ri,ot!==null){if(L=w&-w,(L&42)!==0)L=1;else switch(L){case 2:L=1;break;case 8:L=4;break;case 32:L=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:L=64;break;case 268435456:L=134217728;break;default:L=0}if(L=(L&(ot.suspendedLanes|w))!==0?0:L,L!==0&&L!==Nt.retryLane)throw Nt.retryLane=L,ne(m,L),Ss(ot,m,L),tv}F0(bt)||ic(),y=Th(m,y,w)}else F0(bt)?(y.flags|=128,y.child=m.child,y=rc.bind(null,m),MT(bt,y),y=null):(m=Nt.treeContext,ks&&(Bs=OT(bt),zs=y,ci=!0,Xo=null,Ts=!1,m!==null&&(lo[uo++]=Dl,lo[uo++]=Nl,lo[uo++]=gf,Dl=m.id,Nl=m.overflow,gf=y)),y=Qc(y,L.children),y.flags|=4096);return y}return F?(lr(),F=L.fallback,bt=y.mode,Nt=m.child,q=Nt.sibling,L=jo(Nt,{mode:"hidden",children:L.children}),L.subtreeFlags=Nt.subtreeFlags&31457280,q!==null?F=jo(q,F):(F=Er(F,bt,w,null),F.flags|=2),F.return=y,L.return=y,L.sibling=F,y.child=L,L=F,F=y.child,bt=m.child.memoizedState,bt===null?bt=Eh(w):(Nt=bt.cachePool,Nt!==null?(q=ua?Zi._currentValue:Zi._currentValue2,Nt=Nt.parent!==q?{parent:q,pool:q}:Nt):Nt=Kr(),bt={baseLanes:bt.baseLanes|w,cachePool:Nt}),F.memoizedState=bt,F.childLanes=Zu(m,ot,w),y.memoizedState=ev,L):(Hi(y),w=m.child,m=w.sibling,w=jo(w,{mode:"visible",children:L.children}),w.return=y,w.sibling=null,m!==null&&(ot=y.deletions,ot===null?(y.deletions=[m],y.flags|=16):ot.push(m)),y.child=w,y.memoizedState=null,w)}function Qc(m,y){return y=Yd({mode:"visible",children:y},m.mode),y.return=m,m.child=y}function Yd(m,y){return ug(m,y,0,null)}function Th(m,y,w){return bf(y,m.child,null,w),m=Qc(y,y.pendingProps.children),m.flags|=2,y.memoizedState=null,m}function au(m,y,w){m.lanes|=y;var L=m.alternate;L!==null&&(L.lanes|=y),Bo(m.return,y,w)}function Kd(m,y,w,L,F){var q=m.memoizedState;q===null?m.memoizedState={isBackwards:y,rendering:null,renderingStartTime:0,last:L,tail:w,tailMode:F}:(q.isBackwards=y,q.rendering=null,q.renderingStartTime=0,q.last=L,q.tail=w,q.tailMode=F)}function Zm(m,y,w){var L=y.pendingProps,F=L.revealOrder,q=L.tail;if(mr(m,y,L.children,w),L=cs.current,(L&2)!==0)L=L&1|2,y.flags|=128;else{if(m!==null&&(m.flags&128)!==0)t:for(m=y.child;m!==null;){if(m.tag===13)m.memoizedState!==null&&au(m,w,y);else if(m.tag===19)au(m,w,y);else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===y)break t;for(;m.sibling===null;){if(m.return===null||m.return===y)break t;m=m.return}m.sibling.return=m.return,m=m.sibling}L&=1}switch(A(cs,L),F){case"forwards":for(w=y.child,F=null;w!==null;)m=w.alternate,m!==null&&Ds(m)===null&&(F=w),w=w.sibling;w=F,w===null?(F=y.child,y.child=null):(F=w.sibling,w.sibling=null),Kd(y,!1,F,w,q);break;case"backwards":for(w=null,F=y.child,y.child=null;F!==null;){if(m=F.alternate,m!==null&&Ds(m)===null){y.child=F;break}m=F.sibling,F.sibling=w,w=F,F=m}Kd(y,!0,w,null,q);break;case"together":Kd(y,!1,null,null,void 0);break;default:y.memoizedState=null}return y.child}function ko(m,y,w){if(m!==null&&(y.dependencies=m.dependencies),yo|=y.lanes,(w&y.childLanes)===0)if(m!==null){if($(m,y,w,!1),(w&y.childLanes)===0)return null}else return null;if(m!==null&&y.child!==m.child)throw Error(s(153));if(y.child!==null){for(m=y.child,w=jo(m,m.pendingProps),y.child=w,w.return=y;m.sibling!==null;)m=m.sibling,w=w.sibling=jo(m,m.pendingProps),w.return=y;w.sibling=null}return y.child}function Zd(m,y){return(m.lanes&y)!==0?!0:(m=m.dependencies,!!(m!==null&&K(m)))}function Qd(m,y,w){switch(y.tag){case 3:it(y,y.stateNode.containerInfo),Ml(y,Zi,m.memoizedState.cache),Pt();break;case 27:case 5:lt(y);break;case 4:it(y,y.stateNode.containerInfo);break;case 10:Ml(y,y.type,y.memoizedProps.value);break;case 13:var L=y.memoizedState;if(L!==null)return L.dehydrated!==null?(Hi(y),y.flags|=128,null):(w&y.child.childLanes)!==0?Km(m,y,w):(Hi(y),m=ko(m,y,w),m!==null?m.sibling:null);Hi(y);break;case 19:var F=(m.flags&128)!==0;if(L=(w&y.childLanes)!==0,L||($(m,y,w,!1),L=(w&y.childLanes)!==0),F){if(L)return Zm(m,y,w);y.flags|=128}if(F=y.memoizedState,F!==null&&(F.rendering=null,F.tail=null,F.lastEffect=null),A(cs,cs.current),L)break;return null;case 22:case 23:return y.lanes=0,Wm(m,y,w);case 24:Ml(y,Zi,m.memoizedState.cache)}return ko(m,y,w)}function Ws(m,y,w){if(m!==null)if(m.memoizedProps!==y.pendingProps)$i=!0;else{if(!Zd(m,w)&&(y.flags&128)===0)return $i=!1,Qd(m,y,w);$i=(m.flags&131072)!==0}else $i=!1,ci&&(y.flags&1048576)!==0&&dt(y,_p,y.index);switch(y.lanes=0,y.tag){case 16:t:{m=y.pendingProps;var L=y.elementType,F=L._init;if(L=F(L._payload),y.type=L,typeof L=="function")og(L)?(m=Uo(L,m),y.tag=1,y=Xm(null,y,L,m,w)):(y.tag=0,y=Sh(null,y,L,m,w));else{if(L!=null){if(F=L.$$typeof,F===pg){y.tag=11,y=vh(null,y,L,m,w);break t}else if(F===N0){y.tag=14,y=Xd(null,y,L,m,w);break t}}throw y=o(L)||L,Error(s(306,y,""))}}return y;case 0:return Sh(m,y,y.type,y.pendingProps,w);case 1:return L=y.type,F=Uo(L,y.pendingProps),Xm(m,y,L,F,w);case 3:t:{if(it(y,y.stateNode.containerInfo),m===null)throw Error(s(387));var q=y.pendingProps;F=y.memoizedState,L=F.element,_e(m,y),ln(y,q,null,w);var ot=y.memoizedState;if(q=ot.cache,Ml(y,Zi,q),q!==F.cache&&O(y,[Zi],w,!0),Ue(),q=ot.element,ks&&F.isDehydrated)if(F={element:q,isDehydrated:!1,cache:ot.cache},y.updateQueue.baseState=F,y.memoizedState=F,y.flags&256){y=Ym(m,y,q,w);break t}else if(q!==L){L=nt(Error(s(424)),y),Bt(L),y=Ym(m,y,q,w);break t}else for(ks&&(Bs=RT(y.stateNode.containerInfo),zs=y,ci=!0,Xo=null,Ts=!0),w=mu(y,null,q,w),y.child=w;w;)w.flags=w.flags&-3|4096,w=w.sibling;else{if(Pt(),q===L){y=ko(m,y,w);break t}mr(m,y,q,w)}y=y.child}return y;case 26:if(oo)return xh(m,y),m===null?(w=hx(y.type,null,y.pendingProps,null))?y.memoizedState=w:ci||(y.stateNode=q0(y.type,y.pendingProps,du.current,y)):y.memoizedState=hx(y.type,m.memoizedProps,y.pendingProps,m.memoizedState),null;case 27:if(ji)return lt(y),m===null&&ji&&ci&&(L=y.stateNode=Il(y.type,y.pendingProps,du.current,us.current,!1),zs=y,Ts=!0,Bs=H0(L)),L=y.pendingProps.children,m!==null||ci?mr(m,y,L,w):y.child=bf(y,null,L,w),xh(m,y),y.child;case 5:return m===null&&ci&&(G0(y.type,y.pendingProps,us.current),(F=L=Bs)&&(L=jO(L,y.type,y.pendingProps,Ts),L!==null?(y.stateNode=L,zs=y,Bs=H0(L),Ts=!1,F=!0):F=!1),F||Tt(y)),lt(y),F=y.type,q=y.pendingProps,ot=m!==null?m.memoizedProps:null,L=q.children,Un(F,q)?L=null:ot!==null&&Un(F,ot)&&(y.flags|=32),y.memoizedState!==null&&(F=sa(m,y,hr,null,null,w),ua?Pl._currentValue=F:Pl._currentValue2=F),xh(m,y),mr(m,y,L,w),y.child;case 6:return m===null&&ci&&(UT(y.pendingProps,us.current),(m=w=Bs)&&(w=cx(w,y.pendingProps,Ts),w!==null?(y.stateNode=w,zs=y,Bs=null,m=!0):m=!1),m||Tt(y)),null;case 13:return Km(m,y,w);case 4:return it(y,y.stateNode.containerInfo),L=y.pendingProps,m===null?y.child=bf(y,null,L,w):mr(m,y,L,w),y.child;case 11:return vh(m,y,y.type,y.pendingProps,w);case 7:return mr(m,y,y.pendingProps,w),y.child;case 8:return mr(m,y,y.pendingProps.children,w),y.child;case 12:return mr(m,y,y.pendingProps.children,w),y.child;case 10:return L=y.pendingProps,Ml(y,y.type,L.value),mr(m,y,L.children,w),y.child;case 9:return F=y.type._context,L=y.pendingProps.children,ft(y),F=Ot(F),L=L(F),y.flags|=1,mr(m,y,L,w),y.child;case 14:return Xd(m,y,y.type,y.pendingProps,w);case 15:return _h(m,y,y.type,y.pendingProps,w);case 19:return Zm(m,y,w);case 22:return Wm(m,y,w);case 24:return ft(y),L=Ot(Zi),m===null?(F=si(),F===null&&(F=Ri,q=ri(),F.pooledCache=q,q.refCount++,q!==null&&(F.pooledCacheLanes|=w),F=q),y.memoizedState={parent:L,cache:F},Ht(y),Ml(y,Zi,F)):((m.lanes&w)!==0&&(_e(m,y),ln(y,null,null,w),Ue()),F=m.memoizedState,q=y.memoizedState,F.parent!==L?(F={parent:L,cache:L},y.memoizedState=F,y.lanes===0&&(y.memoizedState=y.updateQueue.baseState=F),Ml(y,Zi,L)):(L=q.cache,Ml(y,Zi,L),L!==F.cache&&O(y,[Zi],w,!0))),mr(m,y,y.pendingProps.children,w),y.child;case 29:throw y.pendingProps}throw Error(s(156,y.tag))}function Ml(m,y,w){ua?(A(mc,y._currentValue),y._currentValue=w):(A(mc,y._currentValue2),y._currentValue2=w)}function zo(m){var y=mc.current;ua?m._currentValue=y:m._currentValue2=y,x(mc)}function Bo(m,y,w){for(;m!==null;){var L=m.alternate;if((m.childLanes&y)!==y?(m.childLanes|=y,L!==null&&(L.childLanes|=y)):L!==null&&(L.childLanes&y)!==y&&(L.childLanes|=y),m===w)break;m=m.return}}function O(m,y,w,L){var F=m.child;for(F!==null&&(F.return=m);F!==null;){var q=F.dependencies;if(q!==null){var ot=F.child;q=q.firstContext;t:for(;q!==null;){var bt=q;q=F;for(var Nt=0;Nt<y.length;Nt++)if(bt.context===y[Nt]){q.lanes|=w,bt=q.alternate,bt!==null&&(bt.lanes|=w),Bo(q.return,w,m),L||(ot=null);break t}q=bt.next}}else if(F.tag===18){if(ot=F.return,ot===null)throw Error(s(341));ot.lanes|=w,q=ot.alternate,q!==null&&(q.lanes|=w),Bo(ot,w,m),ot=null}else ot=F.child;if(ot!==null)ot.return=F;else for(ot=F;ot!==null;){if(ot===m){ot=null;break}if(F=ot.sibling,F!==null){F.return=ot.return,ot=F;break}ot=ot.return}F=ot}}function $(m,y,w,L){m=null;for(var F=y,q=!1;F!==null;){if(!q){if((F.flags&524288)!==0)q=!0;else if((F.flags&262144)!==0)break}if(F.tag===10){var ot=F.alternate;if(ot===null)throw Error(s(387));if(ot=ot.memoizedProps,ot!==null){var bt=F.type;La(F.pendingProps.value,ot.value)||(m!==null?m.push(bt):m=[bt])}}else if(F===Dh.current){if(ot=F.alternate,ot===null)throw Error(s(387));ot.memoizedState.memoizedState!==F.memoizedState.memoizedState&&(m!==null?m.push(Pl):m=[Pl])}F=F.return}m!==null&&O(y,m,w,L),y.flags|=262144}function K(m){for(m=m.firstContext;m!==null;){var y=m.context;if(!La(ua?y._currentValue:y._currentValue2,m.memoizedValue))return!0;m=m.next}return!1}function ft(m){kl=m,po=null,m=m.dependencies,m!==null&&(m.firstContext=null)}function Ot(m){return Ae(kl,m)}function Yt(m,y){return kl===null&&ft(m),Ae(m,y)}function Ae(m,y){var w=ua?y._currentValue:y._currentValue2;if(y={context:y,memoizedValue:w,next:null},po===null){if(m===null)throw Error(s(308));po=y,m.dependencies={lanes:0,firstContext:y},m.flags|=524288}else po=po.next=y;return w}function ri(){return{controller:new wp,data:new Map,refCount:0}}function gr(m){m.refCount--,m.refCount===0&&WT(XT,function(){m.controller.abort()})}function si(){var m=yu.current;return m!==null?m:Ri.pooledCache}function Dr(m,y){y===null?A(yu,yu.current):A(yu,y.pool)}function Kr(){var m=si();return m===null?null:{parent:ua?Zi._currentValue:Zi._currentValue2,pool:m}}function Nr(m){m.flags|=4}function bs(m,y){if(m!==null&&m.child===y.child)return!1;if((y.flags&16)!==0)return!0;for(m=y.child;m!==null;){if((m.flags&13878)!==0||(m.subtreeFlags&13878)!==0)return!0;m=m.sibling}return!1}function Fo(m,y,w,L){if(ls)for(w=y.child;w!==null;){if(w.tag===5||w.tag===6)gg(m,w.stateNode);else if(!(w.tag===4||ji&&w.tag===27)&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===y)break;for(;w.sibling===null;){if(w.return===null||w.return===y)return;w=w.return}w.sibling.return=w.return,w=w.sibling}else if(qo)for(var F=y.child;F!==null;){if(F.tag===5){var q=F.stateNode;w&&L&&(q=ax(q,F.type,F.memoizedProps)),gg(m,q)}else if(F.tag===6)q=F.stateNode,w&&L&&(q=ox(q,F.memoizedProps)),gg(m,q);else if(F.tag!==4){if(F.tag===22&&F.memoizedState!==null)q=F.child,q!==null&&(q.return=F),Fo(m,F,!0,!0);else if(F.child!==null){F.child.return=F,F=F.child;continue}}if(F===y)break;for(;F.sibling===null;){if(F.return===null||F.return===y)return;F=F.return}F.sibling.return=F.return,F=F.sibling}}function Jd(m,y,w,L){if(qo)for(var F=y.child;F!==null;){if(F.tag===5){var q=F.stateNode;w&&L&&(q=ax(q,F.type,F.memoizedProps)),sx(m,q)}else if(F.tag===6)q=F.stateNode,w&&L&&(q=ox(q,F.memoizedProps)),sx(m,q);else if(F.tag!==4){if(F.tag===22&&F.memoizedState!==null)q=F.child,q!==null&&(q.return=F),Jd(m,F,!(F.memoizedProps!==null&&F.memoizedProps.mode==="manual"),!0);else if(F.child!==null){F.child.return=F,F=F.child;continue}}if(F===y)break;for(;F.sibling===null;){if(F.return===null||F.return===y)return;F=F.return}F.sibling.return=F.return,F=F.sibling}}function Qm(m,y){if(qo&&bs(m,y)){m=y.stateNode;var w=m.containerInfo,L=yg();Jd(L,y,!1,!1),m.pendingChildren=L,Nr(y),B0(w,L)}}function y0(m,y,w,L){if(ls)m.memoizedProps!==L&&Nr(y);else if(qo){var F=m.stateNode,q=m.memoizedProps;if((m=bs(m,y))||q!==L){var ot=us.current;q=gp(F,w,q,L,!m,null),q===F?y.stateNode=F:(lc(q,w,L,ot)&&Nr(y),y.stateNode=q,m?Fo(q,y,!1,!1):Nr(y))}else y.stateNode=F}}function v0(m,y,w){if(Zb(y,w)){if(m.flags|=16777216,!k0(y,w))if(sf())m.flags|=8192;else throw yf=Ag,wg}else m.flags&=-16777217}function _0(m,y){if(BT(y)){if(m.flags|=16777216,!Ch(y))if(sf())m.flags|=8192;else throw yf=Ag,wg}else m.flags&=-16777217}function tp(m,y){y!==null&&(m.flags|=4),m.flags&16384&&(y=m.tag!==22?U():536870912,m.lanes|=y,bu|=y)}function ep(m,y){if(!ci)switch(m.tailMode){case"hidden":y=m.tail;for(var w=null;y!==null;)y.alternate!==null&&(w=y),y=y.sibling;w===null?m.tail=null:w.sibling=null;break;case"collapsed":w=m.tail;for(var L=null;w!==null;)w.alternate!==null&&(L=w),w=w.sibling;L===null?y||m.tail===null?m.tail=null:m.tail.sibling=null:L.sibling=null}}function ur(m){var y=m.alternate!==null&&m.alternate.child===m.child,w=0,L=0;if(y)for(var F=m.child;F!==null;)w|=F.lanes|F.childLanes,L|=F.subtreeFlags&31457280,L|=F.flags&31457280,F.return=m,F=F.sibling;else for(F=m.child;F!==null;)w|=F.lanes|F.childLanes,L|=F.subtreeFlags,L|=F.flags,F.return=m,F=F.sibling;return m.subtreeFlags|=L,m.childLanes=w,y}function JE(m,y,w){var L=y.pendingProps;switch(xt(y),y.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ur(y),null;case 1:return ur(y),null;case 3:return w=y.stateNode,L=null,m!==null&&(L=m.memoizedState.cache),y.memoizedState.cache!==L&&(y.flags|=2048),zo(Zi),ht(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(m===null||m.child===null)&&(te(y)?Nr(y):m===null||m.memoizedState.isDehydrated&&(y.flags&256)===0||(y.flags|=1024,Xo!==null&&(sg(Xo),Xo=null))),Qm(m,y),ur(y),null;case 26:if(oo){w=y.type;var F=y.memoizedState;return m===null?(Nr(y),F!==null?(ur(y),_0(y,F)):(ur(y),v0(y,w,L))):F?F!==m.memoizedState?(Nr(y),ur(y),_0(y,F)):(ur(y),y.flags&=-16777217):(ls?m.memoizedProps!==L&&Nr(y):y0(m,y,w,L),ur(y),v0(y,w,L)),null}case 27:if(ji){if(gt(y),w=du.current,F=y.type,m!==null&&y.stateNode!=null)ls?m.memoizedProps!==L&&Nr(y):y0(m,y,F,L);else{if(!L){if(y.stateNode===null)throw Error(s(166));return ur(y),null}m=us.current,te(y)?Kt(y,m):(m=Il(F,L,w,m,!0),y.stateNode=m,Nr(y))}return ur(y),null}case 5:if(gt(y),w=y.type,m!==null&&y.stateNode!=null)y0(m,y,w,L);else{if(!L){if(y.stateNode===null)throw Error(s(166));return ur(y),null}m=us.current,te(y)?Kt(y,m):(F=Kb(w,L,du.current,m,y),Fo(F,y,!1,!1),y.stateNode=F,lc(F,w,L,m)&&Nr(y))}return ur(y),v0(y,y.type,y.pendingProps),null;case 6:if(m&&y.stateNode!=null)w=m.memoizedProps,ls?w!==L&&Nr(y):qo&&(w!==L?(y.stateNode=Ii(L,du.current,us.current,y),Nr(y)):y.stateNode=m.stateNode);else{if(typeof L!="string"&&y.stateNode===null)throw Error(s(166));if(m=du.current,w=us.current,te(y)){if(!ks)throw Error(s(176));if(m=y.stateNode,w=y.memoizedProps,L=null,F=zs,F!==null)switch(F.tag){case 27:case 5:L=F.memoizedProps}fx(m,w,y,L)||Tt(y)}else y.stateNode=Ii(L,m,w,y)}return ur(y),null;case 13:if(L=y.memoizedState,m===null||m.memoizedState!==null&&m.memoizedState.dehydrated!==null){if(F=te(y),L!==null&&L.dehydrated!==null){if(m===null){if(!F)throw Error(s(318));if(!ks)throw Error(s(344));if(F=y.memoizedState,F=F!==null?F.dehydrated:null,!F)throw Error(s(317));DT(F,y)}else Pt(),(y.flags&128)===0&&(y.memoizedState=null),y.flags|=4;ur(y),F=!1}else Xo!==null&&(sg(Xo),Xo=null),F=!0;if(!F)return y.flags&256?(Wr(y),y):(Wr(y),null)}if(Wr(y),(y.flags&128)!==0)return y.lanes=w,y;if(w=L!==null,m=m!==null&&m.memoizedState!==null,w){L=y.child,F=null,L.alternate!==null&&L.alternate.memoizedState!==null&&L.alternate.memoizedState.cachePool!==null&&(F=L.alternate.memoizedState.cachePool.pool);var q=null;L.memoizedState!==null&&L.memoizedState.cachePool!==null&&(q=L.memoizedState.cachePool.pool),q!==F&&(L.flags|=2048)}return w!==m&&w&&(y.child.flags|=8192),tp(y,y.updateQueue),ur(y),null;case 4:return ht(),Qm(m,y),m===null&&Ur(y.stateNode.containerInfo),ur(y),null;case 10:return zo(y.type),ur(y),null;case 19:if(x(cs),F=y.memoizedState,F===null)return ur(y),null;if(L=(y.flags&128)!==0,q=F.rendering,q===null)if(L)ep(F,!1);else{if(qi!==0||m!==null&&(m.flags&128)!==0)for(m=y.child;m!==null;){if(q=Ds(m),q!==null){for(y.flags|=128,ep(F,!1),m=q.updateQueue,y.updateQueue=m,tp(y,m),y.subtreeFlags=0,m=w,w=y.child;w!==null;)lg(w,m),w=w.sibling;return A(cs,cs.current&1|2),y.child}m=m.sibling}F.tail!==null&&Wo()>Cp&&(y.flags|=128,L=!0,ep(F,!1),y.lanes=4194304)}else{if(!L)if(m=Ds(q),m!==null){if(y.flags|=128,L=!0,m=m.updateQueue,y.updateQueue=m,tp(y,m),ep(F,!0),F.tail===null&&F.tailMode==="hidden"&&!q.alternate&&!ci)return ur(y),null}else 2*Wo()-F.renderingStartTime>Cp&&w!==536870912&&(y.flags|=128,L=!0,ep(F,!1),y.lanes=4194304);F.isBackwards?(q.sibling=y.child,y.child=q):(m=F.last,m!==null?m.sibling=q:y.child=q,F.last=q)}return F.tail!==null?(y=F.tail,F.rendering=y,F.tail=y.sibling,F.renderingStartTime=Wo(),y.sibling=null,m=cs.current,A(cs,L?m&1|2:m&1),y):(ur(y),null);case 22:case 23:return Wr(y),Mn(),L=y.memoizedState!==null,m!==null?m.memoizedState!==null!==L&&(y.flags|=8192):L&&(y.flags|=8192),L?(w&536870912)!==0&&(y.flags&128)===0&&(ur(y),y.subtreeFlags&6&&(y.flags|=8192)):ur(y),w=y.updateQueue,w!==null&&tp(y,w.retryQueue),w=null,m!==null&&m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(w=m.memoizedState.cachePool.pool),L=null,y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(L=y.memoizedState.cachePool.pool),L!==w&&(y.flags|=2048),m!==null&&x(yu),null;case 24:return w=null,m!==null&&(w=m.memoizedState.cache),y.memoizedState.cache!==w&&(y.flags|=2048),zo(Zi),ur(y),null;case 25:return null}throw Error(s(156,y.tag))}function kO(m,y){switch(xt(y),y.tag){case 1:return m=y.flags,m&65536?(y.flags=m&-65537|128,y):null;case 3:return zo(Zi),ht(),m=y.flags,(m&65536)!==0&&(m&128)===0?(y.flags=m&-65537|128,y):null;case 26:case 27:case 5:return gt(y),null;case 13:if(Wr(y),m=y.memoizedState,m!==null&&m.dehydrated!==null){if(y.alternate===null)throw Error(s(340));Pt()}return m=y.flags,m&65536?(y.flags=m&-65537|128,y):null;case 19:return x(cs),null;case 4:return ht(),null;case 10:return zo(y.type),null;case 22:case 23:return Wr(y),Mn(),m!==null&&x(yu),m=y.flags,m&65536?(y.flags=m&-65537|128,y):null;case 24:return zo(Zi),null;case 25:return null;default:return null}}function tT(m,y){switch(xt(y),y.tag){case 3:zo(Zi),ht();break;case 26:case 27:case 5:gt(y);break;case 4:ht();break;case 13:Wr(y);break;case 19:x(cs);break;case 10:zo(y.type);break;case 22:case 23:Wr(y),Mn(),m!==null&&x(yu);break;case 24:zo(Zi)}}function Jm(m,y){try{var w=y.updateQueue,L=w!==null?w.lastEffect:null;if(L!==null){var F=L.next;w=F;do{if((w.tag&m)===m){L=void 0;var q=w.create,ot=w.inst;L=q(),ot.destroy=L}w=w.next}while(w!==F)}}catch(bt){Mi(y,y.return,bt)}}function Jc(m,y,w){try{var L=y.updateQueue,F=L!==null?L.lastEffect:null;if(F!==null){var q=F.next;L=q;do{if((L.tag&m)===m){var ot=L.inst,bt=ot.destroy;if(bt!==void 0){ot.destroy=void 0,F=y;var Nt=w;try{bt()}catch(ae){Mi(F,Nt,ae)}}}L=L.next}while(L!==q)}}catch(ae){Mi(y,y.return,ae)}}function eT(m){var y=m.updateQueue;if(y!==null){var w=m.stateNode;try{Ce(y,w)}catch(L){Mi(m,m.return,L)}}}function Ra(m,y,w){w.props=Uo(m.type,m.memoizedProps),w.state=m.memoizedState;try{w.componentWillUnmount()}catch(L){Mi(m,y,L)}}function Cl(m,y){try{var w=m.ref;if(w!==null){var L=m.stateNode;switch(m.tag){case 26:case 27:case 5:var F=dp(L);break;default:F=L}typeof w=="function"?m.refCleanup=w(F):w.current=F}}catch(q){Mi(m,y,q)}}function Oa(m,y){var w=m.ref,L=m.refCleanup;if(w!==null)if(typeof L=="function")try{L()}catch(F){Mi(m,y,F)}finally{m.refCleanup=null,m=m.alternate,m!=null&&(m.refCleanup=null)}else if(typeof w=="function")try{w(null)}catch(F){Mi(m,y,F)}else w.current=null}function Ob(m){var y=m.type,w=m.memoizedProps,L=m.stateNode;try{VO(L,y,w,m)}catch(F){Mi(m,m.return,F)}}function Pb(m,y,w){try{vT(m.stateNode,m.type,w,y,m)}catch(L){Mi(m,m.return,L)}}function Ib(m){return m.tag===5||m.tag===3||(oo?m.tag===26:!1)||(ji?m.tag===27:!1)||m.tag===4}function tg(m){t:for(;;){for(;m.sibling===null;){if(m.return===null||Ib(m.return))return null;m=m.return}for(m.sibling.return=m.return,m=m.sibling;m.tag!==5&&m.tag!==6&&(!ji||m.tag!==27)&&m.tag!==18;){if(m.flags&2||m.child===null||m.tag===4)continue t;m.child.return=m,m=m.child}if(!(m.flags&2))return m.stateNode}}function Db(m,y,w){var L=m.tag;if(L===5||L===6)m=m.stateNode,y?bT(w,m,y):nx(w,m);else if(!(L===4||ji&&L===27)&&(m=m.child,m!==null))for(Db(m,y,w),m=m.sibling;m!==null;)Db(m,y,w),m=m.sibling}function Qu(m,y,w){var L=m.tag;if(L===5||L===6)m=m.stateNode,y?_T(w,m,y):gT(w,m);else if(!(L===4||ji&&L===27)&&(m=m.child,m!==null))for(Qu(m,y,w),m=m.sibling;m!==null;)Qu(m,y,w),m=m.sibling}function b0(m,y,w){m=m.containerInfo;try{yp(m,w)}catch(L){Mi(y,y.return,L)}}function eg(m,y){for(L0(m.containerInfo),In=y;In!==null;)if(m=In,y=m.child,(m.subtreeFlags&1028)!==0&&y!==null)y.return=m,In=y;else for(;In!==null;){m=In;var w=m.alternate;switch(y=m.flags,m.tag){case 0:break;case 11:case 15:break;case 1:if((y&1024)!==0&&w!==null){y=void 0;var L=m,F=w.memoizedProps;w=w.memoizedState;var q=L.stateNode;try{var ot=Uo(L.type,F,L.elementType===L.type);y=q.getSnapshotBeforeUpdate(ot,w),q.__reactInternalSnapshotBeforeUpdate=y}catch(bt){Mi(L,L.return,bt)}}break;case 3:(y&1024)!==0&&ls&&wT(m.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((y&1024)!==0)throw Error(s(163))}if(y=m.sibling,y!==null){y.return=m.return,In=y;break}In=m.return}return ot=Jn,Jn=!1,ot}function x0(m,y,w){var L=w.flags;switch(w.tag){case 0:case 11:case 15:tc(m,w),L&4&&Jm(5,w);break;case 1:if(tc(m,w),L&4)if(m=w.stateNode,y===null)try{m.componentDidMount()}catch(bt){Mi(w,w.return,bt)}else{var F=Uo(w.type,y.memoizedProps);y=y.memoizedState;try{m.componentDidUpdate(F,y,m.__reactInternalSnapshotBeforeUpdate)}catch(bt){Mi(w,w.return,bt)}}L&64&&eT(w),L&512&&Cl(w,w.return);break;case 3:if(tc(m,w),L&64&&(L=w.updateQueue,L!==null)){if(m=null,w.child!==null)switch(w.child.tag){case 27:case 5:m=dp(w.child.stateNode);break;case 1:m=w.child.stateNode}try{Ce(L,m)}catch(bt){Mi(w,w.return,bt)}}break;case 26:if(oo){tc(m,w),L&512&&Cl(w,w.return);break}case 27:case 5:tc(m,w),y===null&&L&4&&Ob(w),L&512&&Cl(w,w.return);break;case 12:tc(m,w);break;case 13:tc(m,w),L&4&&S0(m,w);break;case 22:if(F=w.memoizedState!==null||vu,!F){y=y!==null&&y.memoizedState!==null||wr;var q=vu,ot=wr;vu=F,(wr=y)&&!ot?ec(m,w,(w.subtreeFlags&8772)!==0):tc(m,w),vu=q,wr=ot}L&512&&(w.memoizedProps.mode==="manual"?Cl(w,w.return):Oa(w,w.return));break;default:tc(m,w)}}function Nb(m){var y=m.alternate;y!==null&&(m.alternate=null,Nb(y)),m.child=null,m.deletions=null,m.sibling=null,m.tag===5&&(y=m.stateNode,y!==null&&FO(y)),m.stateNode=null,m.return=null,m.dependencies=null,m.memoizedProps=null,m.memoizedState=null,m.pendingProps=null,m.stateNode=null,m.updateQueue=null}function Ns(m,y,w){for(w=w.child;w!==null;)tf(m,y,w),w=w.sibling}function tf(m,y,w){if(Na&&typeof Na.onCommitFiberUnmount=="function")try{Na.onCommitFiberUnmount(zr,w)}catch{}switch(w.tag){case 26:if(oo){wr||Oa(w,y),Ns(m,y,w),w.memoizedState?Mh(w.memoizedState):w.stateNode&&vp(w.stateNode);break}case 27:if(ji){wr||Oa(w,y);var L=un,F=Vn;un=w.stateNode,Ns(m,y,w),pf(w.stateNode),un=L,Vn=F;break}case 5:wr||Oa(w,y);case 6:if(ls){if(L=un,F=Vn,un=null,Ns(m,y,w),un=L,Vn=F,un!==null)if(Vn)try{xT(un,w.stateNode)}catch(q){Mi(w,y,q)}else try{ix(un,w.stateNode)}catch(q){Mi(w,y,q)}}else Ns(m,y,w);break;case 18:ls&&un!==null&&(Vn?vg(un,w.stateNode):LT(un,w.stateNode));break;case 4:ls?(L=un,F=Vn,un=w.stateNode.containerInfo,Vn=!0,Ns(m,y,w),un=L,Vn=F):(qo&&b0(w.stateNode,w,yg()),Ns(m,y,w));break;case 0:case 11:case 14:case 15:wr||Jc(2,w,y),wr||Jc(4,w,y),Ns(m,y,w);break;case 1:wr||(Oa(w,y),L=w.stateNode,typeof L.componentWillUnmount=="function"&&Ra(w,y,L)),Ns(m,y,w);break;case 21:Ns(m,y,w);break;case 22:wr||Oa(w,y),wr=(L=wr)||w.memoizedState!==null,Ns(m,y,w),wr=L;break;default:Ns(m,y,w)}}function S0(m,y){if(ks&&y.memoizedState===null&&(m=y.alternate,m!==null&&(m=m.memoizedState,m!==null&&(m=m.dehydrated,m!==null))))try{$O(m)}catch(w){Mi(y,y.return,w)}}function nT(m){switch(m.tag){case 13:case 19:var y=m.stateNode;return y===null&&(y=m.stateNode=new Ci),y;case 22:return m=m.stateNode,y=m._retryCache,y===null&&(y=m._retryCache=new Ci),y;default:throw Error(s(435,m.tag))}}function Ju(m,y){var w=nT(m);y.forEach(function(L){var F=lf.bind(null,m,L);w.has(L)||(w.add(L),L.then(F,F))})}function oa(m,y){var w=y.deletions;if(w!==null)for(var L=0;L<w.length;L++){var F=w[L],q=m,ot=y;if(ls){var bt=ot;t:for(;bt!==null;){switch(bt.tag){case 27:case 5:un=bt.stateNode,Vn=!1;break t;case 3:un=bt.stateNode.containerInfo,Vn=!0;break t;case 4:un=bt.stateNode.containerInfo,Vn=!0;break t}bt=bt.return}if(un===null)throw Error(s(160));tf(q,ot,F),un=null,Vn=!1}else tf(q,ot,F);q=F.alternate,q!==null&&(q.return=null),F.return=null}if(y.subtreeFlags&13878)for(y=y.child;y!==null;)Lb(y,m),y=y.sibling}function Lb(m,y){var w=m.alternate,L=m.flags;switch(m.tag){case 0:case 11:case 14:case 15:oa(y,m),Pa(m),L&4&&(Jc(3,m,m.return),Jm(3,m),Jc(5,m,m.return));break;case 1:oa(y,m),Pa(m),L&512&&(wr||w===null||Oa(w,w.return)),L&64&&vu&&(m=m.updateQueue,m!==null&&(L=m.callbacks,L!==null&&(w=m.shared.hiddenCallbacks,m.shared.hiddenCallbacks=w===null?L:w.concat(L))));break;case 26:if(oo){var F=vr;oa(y,m),Pa(m),L&512&&(wr||w===null||Oa(w,w.return)),L&4&&(L=w!==null?w.memoizedState:null,y=m.memoizedState,w===null?y===null?m.stateNode===null?m.stateNode=bg(F,m.type,m.memoizedProps,m):xg(F,m.type,m.stateNode):m.stateNode=kT(F,y,m.memoizedProps):L!==y?(L===null?w.stateNode!==null&&vp(w.stateNode):Mh(L),y===null?xg(F,m.type,m.stateNode):kT(F,y,m.memoizedProps)):y===null&&m.stateNode!==null&&Pb(m,m.memoizedProps,w.memoizedProps));break}case 27:if(ji&&L&4&&m.alternate===null){F=m.stateNode;var q=m.memoizedProps;try{df(F),VT(m.type,q,F,m)}catch(be){Mi(m,m.return,be)}}case 5:if(oa(y,m),Pa(m),L&512&&(wr||w===null||Oa(w,w.return)),ls){if(m.flags&32){y=m.stateNode;try{rx(y)}catch(be){Mi(m,m.return,be)}}L&4&&m.stateNode!=null&&(y=m.memoizedProps,Pb(m,y,w!==null?w.memoizedProps:y)),L&1024&&(gx=!0)}break;case 6:if(oa(y,m),Pa(m),L&4&&ls){if(m.stateNode===null)throw Error(s(162));L=m.memoizedProps,w=w!==null?w.memoizedProps:L,y=m.stateNode;try{yT(y,w,L)}catch(be){Mi(m,m.return,be)}}break;case 3:if(oo?(zT(),F=vr,vr=$0(y.containerInfo),oa(y,m),vr=F):oa(y,m),Pa(m),L&4){if(ls&&ks&&w!==null&&w.memoizedState.isDehydrated)try{GO(y.containerInfo)}catch(be){Mi(m,m.return,be)}if(qo){L=y.containerInfo,w=y.pendingChildren;try{yp(L,w)}catch(be){Mi(m,m.return,be)}}}gx&&(gx=!1,iT(m));break;case 4:oo?(w=vr,vr=$0(m.stateNode.containerInfo),oa(y,m),Pa(m),vr=w):(oa(y,m),Pa(m)),L&4&&qo&&b0(m.stateNode,m,m.stateNode.pendingChildren);break;case 12:oa(y,m),Pa(m);break;case 13:oa(y,m),Pa(m),m.child.flags&8192&&m.memoizedState!==null!=(w!==null&&w.memoizedState!==null)&&(da=Wo()),L&4&&(L=m.updateQueue,L!==null&&(m.updateQueue=null,Ju(m,L)));break;case 22:L&512&&(wr||w===null||Oa(w,w.return)),F=m.memoizedState!==null;var ot=w!==null&&w.memoizedState!==null,bt=vu,Nt=wr;if(vu=bt||F,wr=Nt||ot,oa(y,m),wr=Nt,vu=bt,Pa(m),y=m.stateNode,y._current=m,y._visibility&=-3,y._visibility|=y._pendingVisibility&2,L&8192&&(y._visibility=F?y._visibility&-2:y._visibility|1,F&&(y=vu||wr,w===null||ot||y||np(m)),ls&&(m.memoizedProps===null||m.memoizedProps.mode!=="manual"))){t:if(w=null,ls)for(y=m;;){if(y.tag===5||oo&&y.tag===26||ji&&y.tag===27){if(w===null){ot=w=y;try{q=ot.stateNode,F?ST(q):TT(ot.stateNode,ot.memoizedProps)}catch(be){Mi(ot,ot.return,be)}}}else if(y.tag===6){if(w===null){ot=y;try{var ae=ot.stateNode;F?ET(ae):HO(ae,ot.memoizedProps)}catch(be){Mi(ot,ot.return,be)}}}else if((y.tag!==22&&y.tag!==23||y.memoizedState===null||y===m)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===m)break t;for(;y.sibling===null;){if(y.return===null||y.return===m)break t;w===y&&(w=null),y=y.return}w===y&&(w=null),y.sibling.return=y.return,y=y.sibling}}L&4&&(L=m.updateQueue,L!==null&&(w=L.retryQueue,w!==null&&(L.retryQueue=null,Ju(m,w))));break;case 19:oa(y,m),Pa(m),L&4&&(L=m.updateQueue,L!==null&&(m.updateQueue=null,Ju(m,L)));break;case 21:break;default:oa(y,m),Pa(m)}}function Pa(m){var y=m.flags;if(y&2){try{if(ls&&(!ji||m.tag!==27)){t:{for(var w=m.return;w!==null;){if(Ib(w)){var L=w;break t}w=w.return}throw Error(s(160))}switch(L.tag){case 27:if(ji){var F=L.stateNode,q=tg(m);Qu(m,q,F);break}case 5:var ot=L.stateNode;L.flags&32&&(rx(ot),L.flags&=-33);var bt=tg(m);Qu(m,bt,ot);break;case 3:case 4:var Nt=L.stateNode.containerInfo,ae=tg(m);Db(m,ae,Nt);break;default:throw Error(s(161))}}}catch(be){Mi(m,m.return,be)}m.flags&=-3}y&4096&&(m.flags&=-4097)}function iT(m){if(m.subtreeFlags&1024)for(m=m.child;m!==null;){var y=m;iT(y),y.tag===5&&y.flags&1024&&z0(y.stateNode),m=m.sibling}}function tc(m,y){if(y.subtreeFlags&8772)for(y=y.child;y!==null;)x0(m,y.alternate,y),y=y.sibling}function np(m){for(m=m.child;m!==null;){var y=m;switch(y.tag){case 0:case 11:case 14:case 15:Jc(4,y,y.return),np(y);break;case 1:Oa(y,y.return);var w=y.stateNode;typeof w.componentWillUnmount=="function"&&Ra(y,y.return,w),np(y);break;case 26:case 27:case 5:Oa(y,y.return),np(y);break;case 22:Oa(y,y.return),y.memoizedState===null&&np(y);break;default:np(y)}m=m.sibling}}function ec(m,y,w){for(w=w&&(y.subtreeFlags&8772)!==0,y=y.child;y!==null;){var L=y.alternate,F=m,q=y,ot=q.flags;switch(q.tag){case 0:case 11:case 15:ec(F,q,w),Jm(4,q);break;case 1:if(ec(F,q,w),L=q,F=L.stateNode,typeof F.componentDidMount=="function")try{F.componentDidMount()}catch(ae){Mi(L,L.return,ae)}if(L=q,F=L.updateQueue,F!==null){var bt=L.stateNode;try{var Nt=F.shared.hiddenCallbacks;if(Nt!==null)for(F.shared.hiddenCallbacks=null,F=0;F<Nt.length;F++)wt(Nt[F],bt)}catch(ae){Mi(L,L.return,ae)}}w&&ot&64&&eT(q),Cl(q,q.return);break;case 26:case 27:case 5:ec(F,q,w),w&&L===null&&ot&4&&Ob(q),Cl(q,q.return);break;case 12:ec(F,q,w);break;case 13:ec(F,q,w),w&&ot&4&&S0(F,q);break;case 22:q.memoizedState===null&&ec(F,q,w),Cl(q,q.return);break;default:ec(F,q,w)}y=y.sibling}}function E0(m,y){var w=null;m!==null&&m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(w=m.memoizedState.cachePool.pool),m=null,y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(m=y.memoizedState.cachePool.pool),m!==w&&(m!=null&&m.refCount++,w!=null&&gr(w))}function ng(m,y){m=null,y.alternate!==null&&(m=y.alternate.memoizedState.cache),y=y.memoizedState.cache,y!==m&&(y.refCount++,m!=null&&gr(m))}function xs(m,y,w,L){if(y.subtreeFlags&10256)for(y=y.child;y!==null;)Ub(m,y,w,L),y=y.sibling}function Ub(m,y,w,L){var F=y.flags;switch(y.tag){case 0:case 11:case 15:xs(m,y,w,L),F&2048&&Jm(9,y);break;case 3:xs(m,y,w,L),F&2048&&(m=null,y.alternate!==null&&(m=y.alternate.memoizedState.cache),y=y.memoizedState.cache,y!==m&&(y.refCount++,m!=null&&gr(m)));break;case 12:if(F&2048){xs(m,y,w,L),m=y.stateNode;try{var q=y.memoizedProps,ot=q.id,bt=q.onPostCommit;typeof bt=="function"&&bt(ot,y.alternate===null?"mount":"update",m.passiveEffectDuration,-0)}catch(Nt){Mi(y,y.return,Nt)}}else xs(m,y,w,L);break;case 23:break;case 22:q=y.stateNode,y.memoizedState!==null?q._visibility&4?xs(m,y,w,L):Xs(m,y):q._visibility&4?xs(m,y,w,L):(q._visibility|=4,Ls(m,y,w,L,(y.subtreeFlags&10256)!==0)),F&2048&&E0(y.alternate,y);break;case 24:xs(m,y,w,L),F&2048&&ng(y.alternate,y);break;default:xs(m,y,w,L)}}function Ls(m,y,w,L,F){for(F=F&&(y.subtreeFlags&10256)!==0,y=y.child;y!==null;){var q=m,ot=y,bt=w,Nt=L,ae=ot.flags;switch(ot.tag){case 0:case 11:case 15:Ls(q,ot,bt,Nt,F),Jm(8,ot);break;case 23:break;case 22:var be=ot.stateNode;ot.memoizedState!==null?be._visibility&4?Ls(q,ot,bt,Nt,F):Xs(q,ot):(be._visibility|=4,Ls(q,ot,bt,Nt,F)),F&&ae&2048&&E0(ot.alternate,ot);break;case 24:Ls(q,ot,bt,Nt,F),F&&ae&2048&&ng(ot.alternate,ot);break;default:Ls(q,ot,bt,Nt,F)}y=y.sibling}}function Xs(m,y){if(y.subtreeFlags&10256)for(y=y.child;y!==null;){var w=m,L=y,F=L.flags;switch(L.tag){case 22:Xs(w,L),F&2048&&E0(L.alternate,L);break;case 24:Xs(w,L),F&2048&&ng(L.alternate,L);break;default:Xs(w,L)}y=y.sibling}}function Vo(m){if(m.subtreeFlags&mo)for(m=m.child;m!==null;)T0(m),m=m.sibling}function T0(m){switch(m.tag){case 26:Vo(m),m.flags&mo&&(m.memoizedState!==null?FT(vr,m.memoizedState,m.memoizedProps):ca(m.type,m.memoizedProps));break;case 5:Vo(m),m.flags&mo&&ca(m.type,m.memoizedProps);break;case 3:case 4:if(oo){var y=vr;vr=$0(m.stateNode.containerInfo),Vo(m),vr=y}else Vo(m);break;case 22:m.memoizedState===null&&(y=m.alternate,y!==null&&y.memoizedState!==null?(y=mo,mo=16777216,Vo(m),mo=y):Vo(m));break;default:Vo(m)}}function ig(m){var y=m.alternate;if(y!==null&&(m=y.child,m!==null)){y.child=null;do y=m.sibling,m.sibling=null,m=y;while(m!==null)}}function ef(m){var y=m.deletions;if((m.flags&16)!==0){if(y!==null)for(var w=0;w<y.length;w++){var L=y[w];In=L,kb(L,m)}ig(m)}if(m.subtreeFlags&10256)for(m=m.child;m!==null;)w0(m),m=m.sibling}function w0(m){switch(m.tag){case 0:case 11:case 15:ef(m),m.flags&2048&&Jc(9,m,m.return);break;case 3:ef(m);break;case 12:ef(m);break;case 22:var y=m.stateNode;m.memoizedState!==null&&y._visibility&4&&(m.return===null||m.return.tag!==13)?(y._visibility&=-5,nc(m)):ef(m);break;default:ef(m)}}function nc(m){var y=m.deletions;if((m.flags&16)!==0){if(y!==null)for(var w=0;w<y.length;w++){var L=y[w];In=L,kb(L,m)}ig(m)}for(m=m.child;m!==null;){switch(y=m,y.tag){case 0:case 11:case 15:Jc(8,y,y.return),nc(y);break;case 22:w=y.stateNode,w._visibility&4&&(w._visibility&=-5,nc(y));break;default:nc(y)}m=m.sibling}}function kb(m,y){for(;In!==null;){var w=In;switch(w.tag){case 0:case 11:case 15:Jc(8,w,y);break;case 23:case 22:if(w.memoizedState!==null&&w.memoizedState.cachePool!==null){var L=w.memoizedState.cachePool.pool;L!=null&&L.refCount++}break;case 24:gr(w.memoizedState.cache)}if(L=w.child,L!==null)L.return=w,In=L;else t:for(w=m;In!==null;){L=In;var F=L.sibling,q=L.return;if(Nb(L),L===w){In=null;break t}if(F!==null){F.return=q,In=F;break t}In=q}}}function ip(m){var y=uT(m);if(y!=null){if(typeof y.memoizedProps["data-testname"]!="string")throw Error(s(364));return y}if(m=tx(m),m===null)throw Error(s(362));return m.stateNode.current}function nf(m,y){var w=m.tag;switch(y.$$typeof){case Mp:if(m.type===y.value)return!0;break;case Zo:t:{for(y=y.value,m=[m,0],w=0;w<m.length;){var L=m[w++],F=L.tag,q=m[w++],ot=y[q];if(F!==5&&F!==26&&F!==27||!mp(L)){for(;ot!=null&&nf(L,ot);)q++,ot=y[q];if(q===y.length){y=!0;break t}else for(L=L.child;L!==null;)m.push(L,q),L=L.sibling}}y=!1}return y;case nr:if((w===5||w===26||w===27)&&dT(m.stateNode,y.value))return!0;break;case _u:if((w===5||w===6||w===26||w===27)&&(m=hT(m),m!==null&&0<=m.indexOf(y.value)))return!0;break;case zl:if((w===5||w===26||w===27)&&(m=m.memoizedProps["data-testname"],typeof m=="string"&&m.toLowerCase()===y.value.toLowerCase()))return!0;break;default:throw Error(s(365))}return!1}function zb(m){switch(m.$$typeof){case Mp:return"<"+(o(m.value)||"Unknown")+">";case Zo:return":has("+(zb(m)||"")+")";case nr:return'[role="'+m.value+'"]';case _u:return'"'+m.value+'"';case zl:return'[data-testname="'+m.value+'"]';default:throw Error(s(365))}}function Ia(m,y){var w=[];m=[m,0];for(var L=0;L<m.length;){var F=m[L++],q=F.tag,ot=m[L++],bt=y[ot];if(q!==5&&q!==26&&q!==27||!mp(F)){for(;bt!=null&&nf(F,bt);)ot++,bt=y[ot];if(ot===y.length)w.push(F);else for(F=F.child;F!==null;)m.push(F,ot),F=F.sibling}}return w}function rg(m,y){if(!hf)throw Error(s(363));m=ip(m),m=Ia(m,y),y=[],m=Array.from(m);for(var w=0;w<m.length;){var L=m[w++],F=L.tag;if(F===5||F===26||F===27)mp(L)||y.push(L.stateNode);else for(L=L.child;L!==null;)m.push(L),L=L.sibling}return y}function Lr(){if((yi&2)!==0&&ai!==0)return ai&-ai;if(En.T!==null){var m=co;return m!==0?m:Ct()}return cT()}function Bb(){vo===0&&(vo=(ai&536870912)===0||ci?N():536870912);var m=fo.current;return m!==null&&(m.flags|=32),vo}function Ss(m,y,w){(m===Ri&&ki===2||m.cancelPendingCommit!==null)&&(Us(m,0),Da(m,ai,vo,!1)),B(m,w),((yi&2)===0||m!==Ri)&&(m===Ri&&((yi&2)===0&&(gc|=w),qi===4&&Da(m,ai,vo,!1)),le(m))}function rf(m,y,w){if((yi&6)!==0)throw Error(s(327));var L=!w&&(y&60)===0&&(y&m.expiredLanes)===0||k(m,y),F=L?Vb(m,y):M0(m,y,!0),q=L;do{if(F===0){go&&!L&&Da(m,y,0,!1);break}else if(F===6)Da(m,y,0,!Jo);else{if(w=m.current.alternate,q&&!rp(w)){F=M0(m,y,!1),q=!1;continue}if(F===2){if(q=y,m.errorRecoveryDisabledLanes&q)var ot=0;else ot=m.pendingLanes&-536870913,ot=ot!==0?ot:ot&536870912?536870912:0;if(ot!==0){y=ot;t:{var bt=m;F=Hh;var Nt=ks&&bt.current.memoizedState.isDehydrated;if(Nt&&(Us(bt,ot).flags|=256),ot=M0(bt,ot,!1),ot!==2){if(fs&&!Nt){bt.errorRecoveryDisabledLanes|=q,gc|=q,F=4;break t}q=Ar,Ar=F,q!==null&&sg(q)}F=ot}if(q=!1,F!==2)continue}}if(F===1){Us(m,0),Da(m,y,0,!0);break}t:{switch(L=m,F){case 0:case 1:throw Error(s(345));case 4:if((y&4194176)===y){Da(L,y,vo,!Jo);break t}break;case 2:Ar=null;break;case 3:case 5:break;default:throw Error(s(329))}if(L.finishedWork=w,L.finishedLanes=y,(y&62914560)===y&&(q=da+300-Wo(),10<q)){if(Da(L,y,vo,!Jo),P(L,0)!==0)break t;L.timeoutHandle=Qr(A0.bind(null,L,w,Ar,Cg,nv,y,vo,gc,bu,Jo,2,-0,0),q);break t}A0(L,w,Ar,Cg,nv,y,vo,gc,bu,Jo,0,-0,0)}}break}while(!0);le(m)}function sg(m){Ar===null?Ar=m:Ar.push.apply(Ar,m)}function A0(m,y,w,L,F,q,ot,bt,Nt,ae,be,ke,Ve){var Dn=y.subtreeFlags;if((Dn&8192||(Dn&16785408)===16785408)&&(Qb(),T0(y),y=Jr(),y!==null)){m.cancelPendingCommit=y(af.bind(null,m,w,L,F,ot,bt,Nt,1,ke,Ve)),Da(m,q,ot,!ae);return}af(m,w,L,F,ot,bt,Nt,be,ke,Ve)}function rp(m){for(var y=m;;){var w=y.tag;if((w===0||w===11||w===15)&&y.flags&16384&&(w=y.updateQueue,w!==null&&(w=w.stores,w!==null)))for(var L=0;L<w.length;L++){var F=w[L],q=F.getSnapshot;F=F.value;try{if(!La(q(),F))return!1}catch{return!1}}if(w=y.child,y.subtreeFlags&16384&&w!==null)w.return=y,y=w;else{if(y===m)break;for(;y.sibling===null;){if(y.return===null||y.return===m)return!0;y=y.return}y.sibling.return=y.return,y=y.sibling}}return!0}function Da(m,y,w,L){y&=~Mg,y&=~gc,m.suspendedLanes|=y,m.pingedLanes&=~y,L&&(m.warmLanes|=y),L=m.expirationTimes;for(var F=y;0<F;){var q=31-fa(F),ot=1<<q;L[q]=-1,F&=~ot}w!==0&&V(m,w,y)}function ag(){return(yi&6)===0?(ut(0),!1):!0}function sp(){if(yn!==null){if(ki===0)var m=yn.return;else m=yn,po=kl=null,aa(m),vf=null,_f=0,m=yn;for(;m!==null;)tT(m.alternate,m),m=m.return;yn=null}}function Us(m,y){m.finishedWork=null,m.finishedLanes=0;var w=m.timeoutHandle;w!==cf&&(m.timeoutHandle=cf,U0(w)),w=m.cancelPendingCommit,w!==null&&(m.cancelPendingCommit=null,w()),sp(),Ri=m,yn=w=jo(m.current,null),ai=y,ki=0,Ks=null,Jo=!1,go=k(m,y),fs=!1,bu=vo=Mg=gc=yo=qi=0,Ar=Hh=null,nv=!1,(y&8)!==0&&(y|=y&32);var L=m.entangledLanes;if(L!==0)for(m=m.entanglements,L&=y;0<L;){var F=31-fa(L),q=1<<F;y|=m[F],L&=~q}return Zs=y,at(),w}function ro(m,y){Gn=null,En.H=Tr,y===Ep?(y=cn(),ki=3):y===wg?(y=cn(),ki=4):ki=y===tv?8:y!==null&&typeof y=="object"&&typeof y.then=="function"?6:1,Ks=y,yn===null&&(qi=1,Yu(m,nt(y,m.current)))}function sf(){var m=fo.current;return m===null?!0:(ai&4194176)===ai?Gi===null:(ai&62914560)===ai||(ai&536870912)!==0?m===Gi:!1}function ou(){var m=En.H;return En.H=Tr,m===null?Tr:m}function lu(){var m=En.A;return En.A=Ap,m}function ic(){qi=4,Jo||(ai&4194176)!==ai&&fo.current!==null||(go=!0),(yo&134217727)===0&&(gc&134217727)===0||Ri===null||Da(Ri,ai,vo,!1)}function M0(m,y,w){var L=yi;yi|=2;var F=ou(),q=lu();(Ri!==m||ai!==y)&&(Cg=null,Us(m,y)),y=!1;var ot=qi;t:do try{if(ki!==0&&yn!==null){var bt=yn,Nt=Ks;switch(ki){case 8:sp(),ot=6;break t;case 3:case 2:case 6:fo.current===null&&(y=!0);var ae=ki;if(ki=0,Ks=null,Ho(m,bt,Nt,ae),w&&go){ot=0;break t}break;default:ae=ki,ki=0,Ks=null,Ho(m,bt,Nt,ae)}}Fb(),ot=qi;break}catch(be){ro(m,be)}while(!0);return y&&m.shellSuspendCounter++,po=kl=null,yi=L,En.H=F,En.A=q,yn===null&&(Ri=null,ai=0,at()),ot}function Fb(){for(;yn!==null;)yr(yn)}function Vb(m,y){var w=yi;yi|=2;var L=ou(),F=lu();Ri!==m||ai!==y?(Cg=null,Cp=Wo()+500,Us(m,y)):go=k(m,y);t:do try{if(ki!==0&&yn!==null){y=yn;var q=Ks;e:switch(ki){case 1:ki=0,Ks=null,Ho(m,y,q,1);break;case 2:if(se(q)){ki=0,Ks=null,bi(y);break}y=function(){ki===2&&Ri===m&&(ki=7),le(m)},q.then(y,y);break t;case 3:ki=7;break t;case 4:ki=5;break t;case 7:se(q)?(ki=0,Ks=null,bi(y)):(ki=0,Ks=null,Ho(m,y,q,7));break;case 5:var ot=null;switch(yn.tag){case 26:ot=yn.memoizedState;case 5:case 27:var bt=yn,Nt=bt.type,ae=bt.pendingProps;if(ot?Ch(ot):k0(Nt,ae)){ki=0,Ks=null;var be=bt.sibling;if(be!==null)yn=be;else{var ke=bt.return;ke!==null?(yn=ke,so(ke)):yn=null}break e}}ki=0,Ks=null,Ho(m,y,q,5);break;case 6:ki=0,Ks=null,Ho(m,y,q,6);break;case 8:sp(),qi=6;break t;default:throw Error(s(462))}}la();break}catch(Ve){ro(m,Ve)}while(!0);return po=kl=null,En.H=L,En.A=F,yi=w,yn!==null?0:(Ri=null,ai=0,at(),qi)}function la(){for(;yn!==null&&!GT();)yr(yn)}function yr(m){var y=Ws(m.alternate,m,Zs);m.memoizedProps=m.pendingProps,y===null?so(m):yn=y}function bi(m){var y=m,w=y.alternate;switch(y.tag){case 15:case 0:y=Zc(w,y,y.pendingProps,y.type,void 0,ai);break;case 11:y=Zc(w,y,y.pendingProps,y.type.render,y.ref,ai);break;case 5:aa(y);default:tT(w,y),y=yn=lg(y,Zs),y=Ws(w,y,Zs)}m.memoizedProps=m.pendingProps,y===null?so(m):yn=y}function Ho(m,y,w,L){po=kl=null,aa(y),vf=null,_f=0;var F=y.return;try{if(Rb(m,F,y,w,ai)){qi=1,Yu(m,nt(w,m.current)),yn=null;return}}catch(q){if(F!==null)throw yn=F,q;qi=1,Yu(m,nt(w,m.current)),yn=null;return}y.flags&32768?(ci||L===1?m=!0:go||(ai&536870912)!==0?m=!1:(Jo=m=!0,(L===2||L===3||L===6)&&(L=fo.current,L!==null&&L.tag===13&&(L.flags|=16384))),C0(y,m)):so(y)}function so(m){var y=m;do{if((y.flags&32768)!==0){C0(y,Jo);return}m=y.return;var w=JE(y.alternate,y,Zs);if(w!==null){yn=w;return}if(y=y.sibling,y!==null){yn=y;return}yn=y=m}while(y!==null);qi===0&&(qi=5)}function C0(m,y){do{var w=kO(m.alternate,m);if(w!==null){w.flags&=32767,yn=w;return}if(w=m.return,w!==null&&(w.flags|=32768,w.subtreeFlags=0,w.deletions=null),!y&&(m=m.sibling,m!==null)){yn=m;return}yn=m=w}while(m!==null);qi=6,yn=null}function af(m,y,w,L,F,q,ot,bt,Nt,ae){var be=En.T,ke=uc();try{Ys(2),En.T=null,rT(m,y,w,L,ke,F,q,ot,bt,Nt,ae)}finally{En.T=be,Ys(ke)}}function rT(m,y,w,L,F,q,ot,bt){do Rl();while(xu!==null);if((yi&6)!==0)throw Error(s(327));var Nt=m.finishedWork;if(L=m.finishedLanes,Nt===null)return null;if(m.finishedWork=null,m.finishedLanes=0,Nt===m.current)throw Error(s(177));m.callbackNode=null,m.callbackPriority=0,m.cancelPendingCommit=null;var ae=Nt.lanes|Nt.childLanes;if(ae|=Ll,H(m,L,ae,q,ot,bt),m===Ri&&(yn=Ri=null,ai=0),(Nt.subtreeFlags&10256)===0&&(Nt.flags&10256)===0||Bl||(Bl=!0,Tf=ae,iv=w,sc(K0,function(){return Rl(),null})),w=(Nt.flags&15990)!==0,(Nt.subtreeFlags&15990)!==0||w?(w=En.T,En.T=null,q=uc(),Ys(2),ot=yi,yi|=4,eg(m,Nt),Lb(Nt,m),lT(m.containerInfo),m.current=Nt,x0(m,Nt.alternate,Nt),X0(),yi=ot,Ys(q),En.T=w):m.current=Nt,Bl?(Bl=!1,xu=m,jh=L):Hb(m,ae),ae=m.pendingLanes,ae===0&&(Ef=null),G(Nt.stateNode),le(m),y!==null)for(F=m.onRecoverableError,Nt=0;Nt<y.length;Nt++)ae=y[Nt],F(ae.value,{componentStack:ae.stack});return(jh&3)!==0&&Rl(),ae=m.pendingLanes,(L&4194218)!==0&&(ae&42)!==0?m===rv?Rp++:(Rp=0,rv=m):Rp=0,ut(0),null}function Hb(m,y){(m.pooledCacheLanes&=y)===0&&(y=m.pooledCache,y!=null&&(m.pooledCache=null,gr(y)))}function Rl(){if(xu!==null){var m=xu,y=Tf;Tf=0;var w=et(jh),L=32>w?32:w;w=En.T;var F=uc();try{if(Ys(L),En.T=null,xu===null)var q=!1;else{L=iv,iv=null;var ot=xu,bt=jh;if(xu=null,jh=0,(yi&6)!==0)throw Error(s(331));var Nt=yi;if(yi|=4,w0(ot.current),Ub(ot,ot.current,bt,L),yi=Nt,ut(0,!1),Na&&typeof Na.onPostCommitFiberRoot=="function")try{Na.onPostCommitFiberRoot(zr,ot)}catch{}q=!0}return q}finally{Ys(F),En.T=w,Hb(m,y)}}return!1}function ap(m,y,w){y=nt(w,y),y=Ku(m.stateNode,y,2),m=Oe(m,y,2),m!==null&&(B(m,2),le(m))}function Mi(m,y,w){if(m.tag===3)ap(m,m,w);else for(;y!==null;){if(y.tag===3){ap(y,m,w);break}else if(y.tag===1){var L=y.stateNode;if(typeof y.type.getDerivedStateFromError=="function"||typeof L.componentDidCatch=="function"&&(Ef===null||!Ef.has(L))){m=nt(w,m),w=io(2),L=Oe(y,w,2),L!==null&&(qm(w,L,y,m),B(L,2),le(L));break}}y=y.return}}function wh(m,y,w){var L=m.pingCache;if(L===null){L=m.pingCache=new Qo;var F=new Set;L.set(y,F)}else F=L.get(y),F===void 0&&(F=new Set,L.set(y,F));F.has(w)||(fs=!0,F.add(w),m=jb.bind(null,m,y,w),y.then(m,m))}function jb(m,y,w){var L=m.pingCache;L!==null&&L.delete(y),m.pingedLanes|=m.suspendedLanes&w,m.warmLanes&=~w,Ri===m&&(ai&w)===w&&(qi===4||qi===3&&(ai&62914560)===ai&&300>Wo()-da?(yi&2)===0&&Us(m,0):Mg|=w,bu===ai&&(bu=0)),le(m)}function of(m,y){y===0&&(y=U()),m=ne(m,y),m!==null&&(B(m,y),le(m))}function rc(m){var y=m.memoizedState,w=0;y!==null&&(w=y.retryLane),of(m,w)}function lf(m,y){var w=0;switch(m.tag){case 13:var L=m.stateNode,F=m.memoizedState;F!==null&&(w=F.retryLane);break;case 19:L=m.stateNode;break;case 22:L=m.stateNode._retryCache;break;default:throw Error(s(314))}L!==null&&L.delete(y),of(m,w)}function sc(m,y){return Sg(m,y)}function Gb(m,y,w,L){this.tag=m,this.key=w,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=y,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=L,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function og(m){return m=m.prototype,!(!m||!m.isReactComponent)}function jo(m,y){var w=m.alternate;return w===null?(w=n(m.tag,y,m.key,m.mode),w.elementType=m.elementType,w.type=m.type,w.stateNode=m.stateNode,w.alternate=m,m.alternate=w):(w.pendingProps=y,w.type=m.type,w.flags=0,w.subtreeFlags=0,w.deletions=null),w.flags=m.flags&31457280,w.childLanes=m.childLanes,w.lanes=m.lanes,w.child=m.child,w.memoizedProps=m.memoizedProps,w.memoizedState=m.memoizedState,w.updateQueue=m.updateQueue,y=m.dependencies,w.dependencies=y===null?null:{lanes:y.lanes,firstContext:y.firstContext},w.sibling=m.sibling,w.index=m.index,w.ref=m.ref,w.refCleanup=m.refCleanup,w}function lg(m,y){m.flags&=31457282;var w=m.alternate;return w===null?(m.childLanes=0,m.lanes=y,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=w.childLanes,m.lanes=w.lanes,m.child=w.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=w.memoizedProps,m.memoizedState=w.memoizedState,m.updateQueue=w.updateQueue,m.type=w.type,y=w.dependencies,m.dependencies=y===null?null:{lanes:y.lanes,firstContext:y.firstContext}),m}function uu(m,y,w,L,F,q){var ot=0;if(L=m,typeof m=="function")og(m)&&(ot=1);else if(typeof m=="string")ot=oo&&ji?_g(m,w,us.current)?26:fu(m)?27:5:oo?_g(m,w,us.current)?26:5:ji&&fu(m)?27:5;else t:switch(m){case uf:return Er(w.children,F,q,y);case hg:ot=8,F|=24;break;case I0:return m=n(12,w,y,F|2),m.elementType=I0,m.lanes=q,m;case D0:return m=n(13,w,y,F),m.elementType=D0,m.lanes=q,m;case cp:return m=n(19,w,y,F),m.elementType=cp,m.lanes=q,m;case Wb:return ug(w,F,q,y);default:if(typeof m=="object"&&m!==null)switch(m.$$typeof){case dg:case Ol:ot=10;break t;case qb:ot=9;break t;case pg:ot=11;break t;case N0:ot=14;break t;case $o:ot=16,L=null;break t}ot=29,w=Error(s(130,m===null?"null":typeof m,"")),L=null}return y=n(ot,w,y,F),y.elementType=m,y.type=L,y.lanes=q,y}function Er(m,y,w,L){return m=n(7,m,L,y),m.lanes=w,m}function ug(m,y,w,L){m=n(22,m,L,y),m.elementType=Wb,m.lanes=w;var F={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var q=F._current;if(q===null)throw Error(s(456));if((F._pendingVisibility&2)===0){var ot=ne(q,2);ot!==null&&(F._pendingVisibility|=2,Ss(ot,q,2))}},attach:function(){var q=F._current;if(q===null)throw Error(s(456));if((F._pendingVisibility&2)!==0){var ot=ne(q,2);ot!==null&&(F._pendingVisibility&=-3,Ss(ot,q,2))}}};return m.stateNode=F,m}function R0(m,y,w){return m=n(6,m,null,y),m.lanes=w,m}function $b(m,y,w){return y=n(4,m.children!==null?m.children:[],m.key,y),y.lanes=w,y.stateNode={containerInfo:m.containerInfo,pendingChildren:null,implementation:m.implementation},y}function zO(m,y,w,L,F,q,ot,bt){this.tag=1,this.containerInfo=m,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=cf,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=R(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=R(0),this.hiddenUpdates=R(null),this.identifierPrefix=L,this.onUncaughtError=F,this.onCaughtError=q,this.onRecoverableError=ot,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=bt,this.incompleteTransitions=new Map}function sT(m,y,w,L,F,q,ot,bt,Nt,ae,be,ke){return m=new zO(m,y,w,ot,bt,Nt,ae,ke),y=1,q===!0&&(y|=24),q=n(3,null,null,y),m.current=q,q.stateNode=m,y=ri(),y.refCount++,m.pooledCache=y,y.refCount++,q.memoizedState={element:L,isDehydrated:w,cache:y},Ht(q),m}function Zr(m){return m?(m=mf,m):mf}function O0(m){var y=m._reactInternals;if(y===void 0)throw typeof m.render=="function"?Error(s(188)):(m=Object.keys(m).join(","),Error(s(268,m)));return m=v(y),m=m!==null?b(m):null,m===null?null:dp(m.stateNode)}function op(m,y,w,L,F,q){F=Zr(F),L.context===null?L.context=F:L.pendingContext=F,L=Re(y),L.payload={element:w},q=q===void 0?null:q,q!==null&&(L.callback=q),w=Oe(m,L,y),w!==null&&(Ss(w,m,y),Zt(w,m,y))}function lp(m,y){if(m=m.memoizedState,m!==null&&m.dehydrated!==null){var w=m.retryLane;m.retryLane=w!==0&&w<y?w:y}}function cg(m,y){lp(m,y),(m=m.alternate)&&lp(m,y)}var Ln={},up=lb(),ao=uG(),P0=Object.assign,BO=Symbol.for("react.element"),fg=Symbol.for("react.transitional.element"),Go=Symbol.for("react.portal"),uf=Symbol.for("react.fragment"),hg=Symbol.for("react.strict_mode"),I0=Symbol.for("react.profiler"),dg=Symbol.for("react.provider"),qb=Symbol.for("react.consumer"),Ol=Symbol.for("react.context"),pg=Symbol.for("react.forward_ref"),D0=Symbol.for("react.suspense"),cp=Symbol.for("react.suspense_list"),N0=Symbol.for("react.memo"),$o=Symbol.for("react.lazy"),Wb=Symbol.for("react.offscreen"),aT=Symbol.for("react.memo_cache_sentinel"),ac=Symbol.iterator,Xb=Symbol.for("react.client.reference"),En=up.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,cu,oc,Ah=!1,fp=Array.isArray,Yb=e.rendererVersion,mg=e.rendererPackageName,hp=e.extraDevToolsConfig,dp=e.getPublicInstance,oT=e.getRootHostContext,pp=e.getChildHostContext,L0=e.prepareForCommit,lT=e.resetAfterCommit,Kb=e.createInstance,gg=e.appendInitialChild,lc=e.finalizeInitialChildren,Un=e.shouldSetTextContent,Ii=e.createTextInstance,Qr=e.scheduleTimeout,U0=e.cancelTimeout,cf=e.noTimeout,ua=e.isPrimaryRenderer;e.warnsIfNotActing;var ls=e.supportsMutation,qo=e.supportsPersistence,ks=e.supportsHydration,uT=e.getInstanceFromNode;e.beforeActiveInstanceBlur,e.afterActiveInstanceBlur;var Ur=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var Ys=e.setCurrentUpdatePriority,uc=e.getCurrentUpdatePriority,cT=e.resolveUpdatePriority;e.resolveEventType,e.resolveEventTimeStamp;var fT=e.shouldAttemptEagerTransition,FO=e.detachDeletedInstance;e.requestPostPaintCallback;var Zb=e.maySuspendCommit,k0=e.preloadInstance,Qb=e.startSuspendingCommit,ca=e.suspendInstance,Jr=e.waitForCommitToBeReady,ff=e.NotPendingTransition,Pl=e.HostTransitionContext,z0=e.resetFormInstance;e.bindToConsole;var Jb=e.supportsMicrotasks,cc=e.scheduleMicrotask,hf=e.supportsTestSelectors,tx=e.findFiberRoot,ex=e.getBoundingRect,hT=e.getTextContent,mp=e.isHiddenSubtree,dT=e.matchAccessibilityRole,pT=e.setFocusIfFocusable,mT=e.setupIntersectionObserver,gT=e.appendChild,nx=e.appendChildToContainer,yT=e.commitTextUpdate,VO=e.commitMount,vT=e.commitUpdate,_T=e.insertBefore,bT=e.insertInContainerBefore,ix=e.removeChild,xT=e.removeChildFromContainer,rx=e.resetTextContent,ST=e.hideInstance,ET=e.hideTextInstance,TT=e.unhideInstance,HO=e.unhideTextInstance,wT=e.clearContainer,gp=e.cloneInstance,yg=e.createContainerChildSet,sx=e.appendChildToContainerChildSet,B0=e.finalizeContainerChildren,yp=e.replaceContainerChildren,ax=e.cloneHiddenInstance,ox=e.cloneHiddenTextInstance,F0=e.isSuspenseInstancePending,V0=e.isSuspenseInstanceFallback,AT=e.getSuspenseInstanceFallbackErrorDetails,MT=e.registerSuspenseInstanceRetry,lx=e.canHydrateFormStateMarker,CT=e.isFormStateMarkerMatching,ux=e.getNextHydratableSibling,H0=e.getFirstHydratableChild,RT=e.getFirstHydratableChildWithinContainer,OT=e.getFirstHydratableChildWithinSuspenseInstance,jO=e.canHydrateInstance,cx=e.canHydrateTextInstance,PT=e.canHydrateSuspenseInstance,IT=e.hydrateInstance,fx=e.hydrateTextInstance,DT=e.hydrateSuspenseInstance,NT=e.getNextHydratableInstanceAfterSuspenseInstance,GO=e.commitHydratedContainer,$O=e.commitHydratedSuspenseInstance,LT=e.clearSuspenseBoundary,vg=e.clearSuspenseBoundaryFromContainer,j0=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var G0=e.validateHydratableInstance,UT=e.validateHydratableTextInstance,oo=e.supportsResources,_g=e.isHostHoistableType,$0=e.getHoistableRoot,hx=e.getResource,kT=e.acquireResource,Mh=e.releaseResource,bg=e.hydrateHoistable,xg=e.mountHoistable,vp=e.unmountHoistable,q0=e.createHoistableInstance,zT=e.prepareToCommitHoistables,BT=e.mayResourceSuspendCommit,Ch=e.preloadResource,FT=e.suspendResource,ji=e.supportsSingletons,Il=e.resolveSingletonInstance,df=e.clearSingleton,VT=e.acquireSingletonInstance,pf=e.releaseSingletonInstance,fu=e.isHostSingletonType,kr=[],fc=-1,mf={},fa=Math.clz32?Math.clz32:C,HT=Math.log,jT=Math.LN2,hu=128,Rh=4194304,Sg=ao.unstable_scheduleCallback,W0=ao.unstable_cancelCallback,GT=ao.unstable_shouldYield,X0=ao.unstable_requestPaint,Wo=ao.unstable_now,Y0=ao.unstable_ImmediatePriority,$T=ao.unstable_UserBlockingPriority,K0=ao.unstable_NormalPriority,qO=ao.unstable_IdlePriority,qT=ao.log,Es=ao.unstable_setDisableYieldValue,zr=null,Na=null,La=typeof Object.is=="function"?Object.is:J,dx=new WeakMap,Oh=[],Ph=0,Ih=null,_p=0,lo=[],uo=0,gf=null,Dl=1,Nl="",us=E(null),bp=E(null),du=E(null),Dh=E(null),zs=null,Bs=null,ci=!1,Xo=null,Ts=!1,Eg=Error(s(519)),Yo=[],Nh=0,Ll=0,Tg=null,hc=null,Lh=!1,Yi=!1,px=!1,xp=0,Sp=null,Uh=0,co=0,kh=null,dc=!1,zh=!1,pu=Object.prototype.hasOwnProperty,Ep=Error(s(460)),wg=Error(s(474)),Ag={then:function(){}},yf=null,vf=null,_f=0,bf=ye(!0),mu=ye(!1),Ki=E(null),Tp=E(0),fo=E(null),Gi=null,cs=E(0),pc=0,Gn=null,mn=null,gi=null,Ko=!1,Bh=!1,xf=!1,Z0=0,Fh=0,ws=null,Ul=0,Q0=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},Tr={readContext:Ot,use:jt,useCallback:pi,useContext:pi,useEffect:pi,useImperativeHandle:pi,useLayoutEffect:pi,useInsertionEffect:pi,useMemo:pi,useReducer:pi,useRef:pi,useState:pi,useDebugValue:pi,useDeferredValue:pi,useTransition:pi,useSyncExternalStore:pi,useId:pi};Tr.useCacheRefresh=pi,Tr.useMemoCache=pi,Tr.useHostTransitionStatus=pi,Tr.useFormState=pi,Tr.useActionState=pi,Tr.useOptimistic=pi;var Sf={readContext:Ot,use:jt,useCallback:function(m,y){return rt().memoizedState=[m,y===void 0?null:y],m},useContext:Ot,useEffect:$d,useImperativeHandle:function(m,y,w){w=w!=null?w.concat([m]):null,gh(4194308,4,ru.bind(null,y,m),w)},useLayoutEffect:function(m,y){return gh(4194308,4,m,y)},useInsertionEffect:function(m,y){gh(4,2,m,y)},useMemo:function(m,y){var w=rt();y=y===void 0?null:y;var L=m();if(xf){X(!0);try{m()}finally{X(!1)}}return w.memoizedState=[L,y],L},useReducer:function(m,y,w){var L=rt();if(w!==void 0){var F=w(y);if(xf){X(!0);try{w(y)}finally{X(!1)}}}else F=y;return L.memoizedState=L.baseState=F,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:m,lastRenderedState:F},L.queue=m,m=m.dispatch=Xu.bind(null,Gn,m),[L.memoizedState,m]},useRef:function(m){var y=rt();return m={current:m},y.memoizedState=m},useState:function(m){m=jn(m);var y=m.queue,w=Wd.bind(null,Gn,y);return y.dispatch=w,[m.memoizedState,w]},useDebugValue:Tl,useDeferredValue:function(m,y){var w=rt();return Do(w,m,y)},useTransition:function(){var m=jn(!1);return m=$c.bind(null,Gn,m.queue,!0,!1),rt().memoizedState=m,[!1,m]},useSyncExternalStore:function(m,y,w){var L=Gn,F=rt();if(ci){if(w===void 0)throw Error(s(407));w=w()}else{if(w=y(),Ri===null)throw Error(s(349));(ai&60)!==0||nn(L,y,w)}F.memoizedState=w;var q={value:w,getSnapshot:y};return F.queue=q,$d(Fn.bind(null,L,q,m),[m]),L.flags|=2048,Ir(9,We.bind(null,L,q,w,y),{destroy:void 0},null),w},useId:function(){var m=rt(),y=Ri.identifierPrefix;if(ci){var w=Nl,L=Dl;w=(L&~(1<<32-fa(L)-1)).toString(32)+w,y=":"+y+"R"+w,w=Z0++,0<w&&(y+="H"+w.toString(32)),y+=":"}else w=Ul++,y=":"+y+"r"+w.toString(32)+":";return m.memoizedState=y},useCacheRefresh:function(){return rt().memoizedState=Wc.bind(null,Gn)}};Sf.useMemoCache=It,Sf.useHostTransitionStatus=Ma,Sf.useFormState=mi,Sf.useActionState=mi,Sf.useOptimistic=function(m){var y=rt();y.memoizedState=y.baseState=m;var w={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return y.queue=w,y=Lo.bind(null,Gn,!0,w),w.dispatch=y,[m,y]};var ha={readContext:Ot,use:jt,useCallback:su,useContext:Ot,useEffect:jm,useImperativeHandle:no,useInsertionEffect:g0,useLayoutEffect:yh,useMemo:qd,useReducer:Te,useRef:qs,useState:function(){return Te(pe)},useDebugValue:Tl,useDeferredValue:function(m,y){var w=St();return Gm(w,mn.memoizedState,m,y)},useTransition:function(){var m=Te(pe)[0],y=St().memoizedState;return[typeof m=="boolean"?m:Ft(m),y]},useSyncExternalStore:pn,useId:qc};ha.useCacheRefresh=wl,ha.useMemoCache=It,ha.useHostTransitionStatus=Ma,ha.useFormState=Sr,ha.useActionState=Sr,ha.useOptimistic=function(m,y){var w=St();return Xn(w,mn,m,y)};var ho={readContext:Ot,use:jt,useCallback:su,useContext:Ot,useEffect:jm,useImperativeHandle:no,useInsertionEffect:g0,useLayoutEffect:yh,useMemo:qd,useReducer:Fe,useRef:qs,useState:function(){return Fe(pe)},useDebugValue:Tl,useDeferredValue:function(m,y){var w=St();return mn===null?Do(w,m,y):Gm(w,mn.memoizedState,m,y)},useTransition:function(){var m=Fe(pe)[0],y=St().memoizedState;return[typeof m=="boolean"?m:Ft(m),y]},useSyncExternalStore:pn,useId:qc};ho.useCacheRefresh=wl,ho.useMemoCache=It,ho.useHostTransitionStatus=Ma,ho.useFormState=pr,ho.useActionState=pr,ho.useOptimistic=function(m,y){var w=St();return mn!==null?Xn(w,mn,m,y):(w.baseState=m,[m,w.queue.dispatch])};var gu={isMounted:function(m){return(m=m._reactInternals)?p(m)===m:!1},enqueueSetState:function(m,y,w){m=m._reactInternals;var L=Lr(),F=Re(L);F.payload=y,w!=null&&(F.callback=w),y=Oe(m,F,L),y!==null&&(Ss(y,m,L),Zt(y,m,L))},enqueueReplaceState:function(m,y,w){m=m._reactInternals;var L=Lr(),F=Re(L);F.tag=1,F.payload=y,w!=null&&(F.callback=w),y=Oe(m,F,L),y!==null&&(Ss(y,m,L),Zt(y,m,L))},enqueueForceUpdate:function(m,y){m=m._reactInternals;var w=Lr(),L=Re(w);L.tag=2,y!=null&&(L.callback=y),y=Oe(m,L,w),y!==null&&(Ss(y,m,w),Zt(y,m,w))}},J0=typeof reportError=="function"?reportError:function(m){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof m=="object"&&m!==null&&typeof m.message=="string"?String(m.message):String(m),error:m});if(!window.dispatchEvent(y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",m);return}console.error(m)},tv=Error(s(461)),$i=!1,ev={dehydrated:null,treeContext:null,retryLane:0},mc=E(null),kl=null,po=null,wp=typeof AbortController<"u"?AbortController:function(){var m=[],y=this.signal={aborted:!1,addEventListener:function(w,L){m.push(L)}};this.abort=function(){y.aborted=!0,m.forEach(function(w){return w()})}},WT=ao.unstable_scheduleCallback,XT=ao.unstable_NormalPriority,Zi={$$typeof:Ol,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},mx=En.S;En.S=function(m,y){typeof y=="object"&&y!==null&&typeof y.then=="function"&&Lt(m,y),mx!==null&&mx(m,y)};var yu=E(null),vu=!1,wr=!1,gx=!1,Ci=typeof WeakSet=="function"?WeakSet:Set,In=null,Jn=!1,un=null,Vn=!1,vr=null,mo=8192,Ap={getCacheForType:function(m){var y=Ot(Zi),w=y.data.get(m);return w===void 0&&(w=m(),y.data.set(m,w)),w}},Mp=0,Zo=1,nr=2,zl=3,_u=4;if(typeof Symbol=="function"&&Symbol.for){var Vh=Symbol.for;Mp=Vh("selector.component"),Zo=Vh("selector.has_pseudo_class"),nr=Vh("selector.role"),zl=Vh("selector.test_id"),_u=Vh("selector.text")}var Qo=typeof WeakMap=="function"?WeakMap:Map,yi=0,Ri=null,yn=null,ai=0,ki=0,Ks=null,Jo=!1,go=!1,fs=!1,Zs=0,qi=0,yo=0,gc=0,Mg=0,vo=0,bu=0,Hh=null,Ar=null,nv=!1,da=0,Cp=1/0,Cg=null,Ef=null,Bl=!1,xu=null,jh=0,Tf=0,iv=null,Rp=0,rv=null;return Ln.attemptContinuousHydration=function(m){if(m.tag===13){var y=ne(m,67108864);y!==null&&Ss(y,m,67108864),cg(m,67108864)}},Ln.attemptHydrationAtCurrentPriority=function(m){if(m.tag===13){var y=Lr(),w=ne(m,y);w!==null&&Ss(w,m,y),cg(m,y)}},Ln.attemptSynchronousHydration=function(m){switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var y=M(m.pendingLanes);if(y!==0){for(m.pendingLanes|=2,m.entangledLanes|=2;y;){var w=1<<31-fa(y);m.entanglements[1]|=w,y&=~w}le(m),(yi&6)===0&&(Cp=Wo()+500,ut(0))}}break;case 13:y=ne(m,2),y!==null&&Ss(y,m,2),ag(),cg(m,2)}},Ln.batchedUpdates=function(m,y){return m(y)},Ln.createComponentSelector=function(m){return{$$typeof:Mp,value:m}},Ln.createContainer=function(m,y,w,L,F,q,ot,bt,Nt,ae){return sT(m,y,!1,null,w,L,q,ot,bt,Nt,ae,null)},Ln.createHasPseudoClassSelector=function(m){return{$$typeof:Zo,value:m}},Ln.createHydrationContainer=function(m,y,w,L,F,q,ot,bt,Nt,ae,be,ke,Ve){return m=sT(w,L,!0,m,F,q,bt,Nt,ae,be,ke,Ve),m.context=Zr(null),w=m.current,L=Lr(),F=Re(L),F.callback=y??null,Oe(w,F,L),m.current.lanes=L,B(m,L),le(m),m},Ln.createPortal=function(m,y,w){var L=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Go,key:L==null?null:""+L,children:m,containerInfo:y,implementation:w}},Ln.createRoleSelector=function(m){return{$$typeof:nr,value:m}},Ln.createTestNameSelector=function(m){return{$$typeof:zl,value:m}},Ln.createTextSelector=function(m){return{$$typeof:_u,value:m}},Ln.defaultOnCaughtError=function(m){console.error(m)},Ln.defaultOnRecoverableError=function(m){J0(m)},Ln.defaultOnUncaughtError=function(m){J0(m)},Ln.deferredUpdates=function(m){var y=En.T,w=uc();try{return Ys(32),En.T=null,m()}finally{Ys(w),En.T=y}},Ln.discreteUpdates=function(m,y,w,L,F){var q=En.T,ot=uc();try{return Ys(2),En.T=null,m(y,w,L,F)}finally{Ys(ot),En.T=q,yi===0&&(Cp=Wo()+500)}},Ln.findAllNodes=rg,Ln.findBoundingRects=function(m,y){if(!hf)throw Error(s(363));y=rg(m,y),m=[];for(var w=0;w<y.length;w++)m.push(ex(y[w]));for(y=m.length-1;0<y;y--){w=m[y];for(var L=w.x,F=L+w.width,q=w.y,ot=q+w.height,bt=y-1;0<=bt;bt--)if(y!==bt){var Nt=m[bt],ae=Nt.x,be=ae+Nt.width,ke=Nt.y,Ve=ke+Nt.height;if(L>=ae&&q>=ke&&F<=be&&ot<=Ve){m.splice(y,1);break}else if(L!==ae||w.width!==Nt.width||Ve<q||ke>ot){if(!(q!==ke||w.height!==Nt.height||be<L||ae>F)){ae>L&&(Nt.width+=ae-L,Nt.x=L),be<F&&(Nt.width=F-ae),m.splice(y,1);break}}else{ke>q&&(Nt.height+=ke-q,Nt.y=q),Ve<ot&&(Nt.height=ot-ke),m.splice(y,1);break}}}return m},Ln.findHostInstance=O0,Ln.findHostInstanceWithNoPortals=function(m){return m=v(m),m=m!==null?S(m):null,m===null?null:dp(m.stateNode)},Ln.findHostInstanceWithWarning=function(m){return O0(m)},Ln.flushPassiveEffects=Rl,Ln.flushSyncFromReconciler=function(m){var y=yi;yi|=1;var w=En.T,L=uc();try{if(Ys(2),En.T=null,m)return m()}finally{Ys(L),En.T=w,yi=y,(yi&6)===0&&ut(0)}},Ln.flushSyncWork=ag,Ln.focusWithin=function(m,y){if(!hf)throw Error(s(363));for(m=ip(m),y=Ia(m,y),y=Array.from(y),m=0;m<y.length;){var w=y[m++],L=w.tag;if(!mp(w)){if((L===5||L===26||L===27)&&pT(w.stateNode))return!0;for(w=w.child;w!==null;)y.push(w),w=w.sibling}}return!1},Ln.getFindAllNodesFailureDescription=function(m,y){if(!hf)throw Error(s(363));var w=0,L=[];m=[ip(m),0];for(var F=0;F<m.length;){var q=m[F++],ot=q.tag,bt=m[F++],Nt=y[bt];if((ot!==5&&ot!==26&&ot!==27||!mp(q))&&(nf(q,Nt)&&(L.push(zb(Nt)),bt++,bt>w&&(w=bt)),bt<y.length))for(q=q.child;q!==null;)m.push(q,bt),q=q.sibling}if(w<y.length){for(m=[];w<y.length;w++)m.push(zb(y[w]));return`findAllNodes was able to match part of the selector:
  `+(L.join(" > ")+`

No matching component was found for:
  `)+m.join(" > ")}return null},Ln.getPublicRootInstance=function(m){if(m=m.current,!m.child)return null;switch(m.child.tag){case 27:case 5:return dp(m.child.stateNode);default:return m.child.stateNode}},Ln.injectIntoDevTools=function(){var m={bundleType:0,version:Yb,rendererPackageName:mg,currentDispatcherRef:En,findFiberByHostInstance:uT,reconcilerVersion:"19.0.0"};if(hp!==null&&(m.rendererConfig=hp),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")m=!1;else{var y=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(y.isDisabled||!y.supportsFiber)m=!0;else{try{zr=y.inject(m),Na=y}catch{}m=!!y.checkDCE}}return m},Ln.isAlreadyRendering=function(){return!1},Ln.observeVisibleRects=function(m,y,w,L){if(!hf)throw Error(s(363));m=rg(m,y);var F=mT(m,w,L).disconnect;return{disconnect:function(){F()}}},Ln.shouldError=function(){return null},Ln.shouldSuspend=function(){return!1},Ln.startHostTransition=function(m,y,w,L){if(m.tag!==5)throw Error(s(476));var F=No(m).queue;$c(m,F,y,ff,w===null?r:function(){var q=No(m).next.queue;return Ca(m,q,{},Lr()),w(L)})},Ln.updateContainer=function(m,y,w,L){var F=y.current,q=Lr();return op(F,q,m,y,w,L),q},Ln.updateContainerSync=function(m,y,w,L){return y.tag===0&&Rl(),op(y.current,2,m,y,w,L),2},Ln},i.exports.default=i.exports,Object.defineProperty(i.exports,"__esModule",{value:!0})}(gI)),gI.exports}var UB;function Aot(){return UB||(UB=1,mI.exports=wot()),mI.exports}var Mot=Aot();const Cot=hh(Mot);var kB=uG();function wU(i,e,n){if(!i)return;if(n(i)===!0)return i;let r=e?i.return:i.child;for(;r;){const s=wU(r,e,n);if(s)return s;r=e?null:r.sibling}}function cG(i){try{return Object.defineProperties(i,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return i}}const AU=cG(Q.createContext(null));let fG=class extends Q.Component{render(){return Q.createElement(AU.Provider,{value:this._reactInternals},this.props.children)}};function hG(){const i=Q.useContext(AU);if(i===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=Q.useId();return Q.useMemo(()=>{for(const n of[i,i==null?void 0:i.alternate]){if(!n)continue;const r=wU(n,!1,s=>{let a=s.memoizedState;for(;a;){if(a.memoizedState===e)return!0;a=a.next}});if(r)return r}},[i,e])}const Rot=Symbol.for("react.context"),Oot=i=>i!==null&&typeof i=="object"&&"$$typeof"in i&&i.$$typeof===Rot;function Pot(){const i=hG(),[e]=Q.useState(()=>new Map);e.clear();let n=i;for(;n;){const r=n.type;Oot(r)&&r!==AU&&!e.has(r)&&e.set(r,Q.use(cG(r))),n=n.return}return e}function Iot(){const i=Pot();return Q.useMemo(()=>Array.from(i.keys()).reduce((e,n)=>r=>Q.createElement(e,null,Q.createElement(n.Provider,{...r,value:i.get(n)})),e=>Q.createElement(fG,{...e})),[i])}function dG(i){let e=i.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const pG=i=>i&&i.isOrthographicCamera,Dot=i=>i&&i.hasOwnProperty("current"),Not=i=>i!=null&&(typeof i=="string"||typeof i=="number"||i.isColor),AE=((i,e)=>typeof window<"u"&&(((i=window.document)==null?void 0:i.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?Q.useLayoutEffect:Q.useEffect;function mG(i){const e=Q.useRef(i);return AE(()=>void(e.current=i),[i]),e}function Lot(){const i=hG(),e=Iot();return Q.useMemo(()=>({children:n})=>{const s=!!wU(i,!0,a=>a.type===Q.StrictMode)?Q.StrictMode:Q.Fragment;return W.jsx(s,{children:W.jsx(e,{children:n})})},[i,e])}function Uot({set:i}){return AE(()=>(i(new Promise(()=>null)),()=>i(!1)),[i]),null}const kot=(i=>(i=class extends Q.Component{constructor(...n){super(...n),this.state={error:!1}}componentDidCatch(n){this.props.set(n)}render(){return this.state.error?null:this.props.children}},i.getDerivedStateFromError=()=>({error:!0}),i))();function gG(i){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(i)?Math.min(Math.max(i[0],n),i[1]):i}function Cv(i){var e;return(e=i.__r3f)==null?void 0:e.root.getState()}const Vr={obj:i=>i===Object(i)&&!Vr.arr(i)&&typeof i!="function",fun:i=>typeof i=="function",str:i=>typeof i=="string",num:i=>typeof i=="number",boo:i=>typeof i=="boolean",und:i=>i===void 0,nul:i=>i===null,arr:i=>Array.isArray(i),equ(i,e,{arrays:n="shallow",objects:r="reference",strict:s=!0}={}){if(typeof i!=typeof e||!!i!=!!e)return!1;if(Vr.str(i)||Vr.num(i)||Vr.boo(i))return i===e;const a=Vr.obj(i);if(a&&r==="reference")return i===e;const o=Vr.arr(i);if(o&&n==="reference")return i===e;if((o||a)&&i===e)return!0;let l;for(l in i)if(!(l in e))return!1;if(a&&n==="shallow"&&r==="shallow"){for(l in s?e:i)if(!Vr.equ(i[l],e[l],{strict:s,objects:"reference"}))return!1}else for(l in s?e:i)if(i[l]!==e[l])return!1;if(Vr.und(l)){if(o&&i.length===0&&e.length===0||a&&Object.keys(i).length===0&&Object.keys(e).length===0)return!0;if(i!==e)return!1}return!0}};function zot(i){i.type!=="Scene"&&(i.dispose==null||i.dispose());for(const e in i){const n=i[e];(n==null?void 0:n.type)!=="Scene"&&(n==null||n.dispose==null||n.dispose())}}const yG=["children","key","ref"];function Bot(i){const e={};for(const n in i)yG.includes(n)||(e[n]=i[n]);return e}function MC(i,e,n,r){const s=i;let a=s==null?void 0:s.__r3f;return a||(a={root:e,type:n,parent:null,children:[],props:Bot(r),object:s,eventCount:0,handlers:{},isHidden:!1},s&&(s.__r3f=a)),a}function NS(i,e){let n=i[e];if(!e.includes("-"))return{root:i,key:e,target:n};n=i;for(const s of e.split("-")){var r;e=s,i=n,n=(r=n)==null?void 0:r[e]}return{root:i,key:e,target:n}}const zB=/-\d+$/;function CC(i,e){if(Vr.str(e.props.attach)){if(zB.test(e.props.attach)){const s=e.props.attach.replace(zB,""),{root:a,key:o}=NS(i.object,s);Array.isArray(a[o])||(a[o]=[])}const{root:n,key:r}=NS(i.object,e.props.attach);e.previousAttach=n[r],n[r]=e.object}else Vr.fun(e.props.attach)&&(e.previousAttach=e.props.attach(i.object,e.object))}function RC(i,e){if(Vr.str(e.props.attach)){const{root:n,key:r}=NS(i.object,e.props.attach),s=e.previousAttach;s===void 0?delete n[r]:n[r]=s}else e.previousAttach==null||e.previousAttach(i.object,e.object);delete e.previousAttach}const x3=[...yG,"args","dispose","attach","object","onUpdate","dispose"],BB=new Map;function Fot(i){let e=BB.get(i.constructor);try{e||(e=new i.constructor,BB.set(i.constructor,e))}catch{}return e}function Vot(i,e){const n={};for(const r in e)if(!x3.includes(r)&&!Vr.equ(e[r],i.props[r])){n[r]=e[r];for(const s in e)s.startsWith(`${r}-`)&&(n[s]=e[s])}for(const r in i.props){if(x3.includes(r)||e.hasOwnProperty(r))continue;const{root:s,key:a}=NS(i.object,r);if(s.constructor&&s.constructor.length===0){const o=Fot(s);Vr.und(o)||(n[a]=o[a])}else n[a]=0}return n}const Hot=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],jot=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function em(i,e){var n;const r=i.__r3f,s=r&&dG(r).getState(),a=r==null?void 0:r.eventCount;for(const l in e){let u=e[l];if(x3.includes(l))continue;if(r&&jot.test(l)){typeof u=="function"?r.handlers[l]=u:delete r.handlers[l],r.eventCount=Object.keys(r.handlers).length;continue}if(u===void 0)continue;let{root:c,key:h,target:p}=NS(i,l);if(p instanceof O_&&u instanceof O_)p.mask=u.mask;else if(p instanceof He&&Not(u))p.set(u);else if(p!==null&&typeof p=="object"&&typeof p.set=="function"&&typeof p.copy=="function"&&u!=null&&u.constructor&&p.constructor===u.constructor)p.copy(u);else if(p!==null&&typeof p=="object"&&typeof p.set=="function"&&Array.isArray(u))typeof p.fromArray=="function"?p.fromArray(u):p.set(...u);else if(p!==null&&typeof p=="object"&&typeof p.set=="function"&&typeof u=="number")typeof p.setScalar=="function"?p.setScalar(u):p.set(u);else{var o;c[h]=u,s&&!s.linear&&Hot.includes(h)&&(o=c[h])!=null&&o.isTexture&&c[h].format===Xa&&c[h].type===Lc&&(c[h].colorSpace=ya)}}if(r!=null&&r.parent&&s!=null&&s.internal&&(n=r.object)!=null&&n.isObject3D&&a!==r.eventCount){const l=r.object,u=s.internal.interaction.indexOf(l);u>-1&&s.internal.interaction.splice(u,1),r.eventCount&&l.raycast!==null&&s.internal.interaction.push(l)}return r&&r.props.attach===void 0&&(r.object.isBufferGeometry?r.props.attach="geometry":r.object.isMaterial&&(r.props.attach="material")),r&&pb(r),i}function pb(i){var e;if(!i.parent)return;i.props.onUpdate==null||i.props.onUpdate(i.object);const n=(e=i.root)==null||e.getState==null?void 0:e.getState();n&&n.internal.frames===0&&n.invalidate()}function Got(i,e){i.manual||(pG(i)?(i.left=e.width/-2,i.right=e.width/2,i.top=e.height/2,i.bottom=e.height/-2):i.aspect=e.width/e.height,i.updateProjectionMatrix())}const rl=i=>i==null?void 0:i.isObject3D;function nA(i){return(i.eventObject||i.object).uuid+"/"+i.index+i.instanceId}function vG(i,e,n,r){const s=n.get(e);s&&(n.delete(e),n.size===0&&(i.delete(r),s.target.releasePointerCapture(r)))}function $ot(i,e){const{internal:n}=i.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,s)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(s)}),n.capturedMap.forEach((r,s)=>{vG(n.capturedMap,e,r,s)})}function qot(i){function e(u){const{internal:c}=i.getState(),h=u.offsetX-c.initialClick[0],p=u.offsetY-c.initialClick[1];return Math.round(Math.sqrt(h*h+p*p))}function n(u){return u.filter(c=>["Move","Over","Enter","Out","Leave"].some(h=>{var p;return(p=c.__r3f)==null?void 0:p.handlers["onPointer"+h]}))}function r(u,c){const h=i.getState(),p=new Set,g=[],v=c?c(h.internal.interaction):h.internal.interaction;for(let x=0;x<v.length;x++){const A=Cv(v[x]);A&&(A.raycaster.camera=void 0)}h.previousRoot||h.events.compute==null||h.events.compute(u,h);function b(x){const A=Cv(x);if(!A||!A.events.enabled||A.raycaster.camera===null)return[];if(A.raycaster.camera===void 0){var C;A.events.compute==null||A.events.compute(u,A,(C=A.previousRoot)==null?void 0:C.getState()),A.raycaster.camera===void 0&&(A.raycaster.camera=null)}return A.raycaster.camera?A.raycaster.intersectObject(x,!0):[]}let S=v.flatMap(b).sort((x,A)=>{const C=Cv(x.object),M=Cv(A.object);return!C||!M?x.distance-A.distance:M.events.priority-C.events.priority||x.distance-A.distance}).filter(x=>{const A=nA(x);return p.has(A)?!1:(p.add(A),!0)});h.events.filter&&(S=h.events.filter(S,h));for(const x of S){let A=x.object;for(;A;){var E;(E=A.__r3f)!=null&&E.eventCount&&g.push({...x,eventObject:A}),A=A.parent}}if("pointerId"in u&&h.internal.capturedMap.has(u.pointerId))for(let x of h.internal.capturedMap.get(u.pointerId).values())p.has(nA(x.intersection))||g.push(x.intersection);return g}function s(u,c,h,p){if(u.length){const g={stopped:!1};for(const v of u){let b=Cv(v.object);if(b||v.object.traverseAncestors(S=>{const E=Cv(S);if(E)return b=E,!1}),b){const{raycaster:S,pointer:E,camera:x,internal:A}=b,C=new pt(E.x,E.y,0).unproject(x),M=U=>{var R,B;return(R=(B=A.capturedMap.get(U))==null?void 0:B.has(v.eventObject))!=null?R:!1},P=U=>{const R={intersection:v,target:c.target};A.capturedMap.has(U)?A.capturedMap.get(U).set(v.eventObject,R):A.capturedMap.set(U,new Map([[v.eventObject,R]])),c.target.setPointerCapture(U)},k=U=>{const R=A.capturedMap.get(U);R&&vG(A.capturedMap,v.eventObject,R,U)};let D={};for(let U in c){let R=c[U];typeof R!="function"&&(D[U]=R)}let N={...v,...D,pointer:E,intersections:u,stopped:g.stopped,delta:h,unprojectedPoint:C,ray:S.ray,camera:x,stopPropagation(){const U="pointerId"in c&&A.capturedMap.get(c.pointerId);if((!U||U.has(v.eventObject))&&(N.stopped=g.stopped=!0,A.hovered.size&&Array.from(A.hovered.values()).find(R=>R.eventObject===v.eventObject))){const R=u.slice(0,u.indexOf(v));a([...R,v])}},target:{hasPointerCapture:M,setPointerCapture:P,releasePointerCapture:k},currentTarget:{hasPointerCapture:M,setPointerCapture:P,releasePointerCapture:k},nativeEvent:c};if(p(N),g.stopped===!0)break}}}return u}function a(u){const{internal:c}=i.getState();for(const h of c.hovered.values())if(!u.length||!u.find(p=>p.object===h.object&&p.index===h.index&&p.instanceId===h.instanceId)){const g=h.eventObject.__r3f;if(c.hovered.delete(nA(h)),g!=null&&g.eventCount){const v=g.handlers,b={...h,intersections:u};v.onPointerOut==null||v.onPointerOut(b),v.onPointerLeave==null||v.onPointerLeave(b)}}}function o(u,c){for(let h=0;h<c.length;h++){const p=c[h].__r3f;p==null||p.handlers.onPointerMissed==null||p.handlers.onPointerMissed(u)}}function l(u){switch(u){case"onPointerLeave":case"onPointerCancel":return()=>a([]);case"onLostPointerCapture":return c=>{const{internal:h}=i.getState();"pointerId"in c&&h.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{h.capturedMap.has(c.pointerId)&&(h.capturedMap.delete(c.pointerId),a([]))})}}return function(h){const{onPointerMissed:p,internal:g}=i.getState();g.lastEvent.current=h;const v=u==="onPointerMove",b=u==="onClick"||u==="onContextMenu"||u==="onDoubleClick",E=r(h,v?n:void 0),x=b?e(h):0;u==="onPointerDown"&&(g.initialClick=[h.offsetX,h.offsetY],g.initialHits=E.map(C=>C.eventObject)),b&&!E.length&&x<=2&&(o(h,g.interaction),p&&p(h)),v&&a(E);function A(C){const M=C.eventObject,P=M.__r3f;if(!(P!=null&&P.eventCount))return;const k=P.handlers;if(v){if(k.onPointerOver||k.onPointerEnter||k.onPointerOut||k.onPointerLeave){const D=nA(C),N=g.hovered.get(D);N?N.stopped&&C.stopPropagation():(g.hovered.set(D,C),k.onPointerOver==null||k.onPointerOver(C),k.onPointerEnter==null||k.onPointerEnter(C))}k.onPointerMove==null||k.onPointerMove(C)}else{const D=k[u];D?(!b||g.initialHits.includes(M))&&(o(h,g.interaction.filter(N=>!g.initialHits.includes(N))),D(C)):b&&g.initialHits.includes(M)&&o(h,g.interaction.filter(N=>!g.initialHits.includes(N)))}}s(E,h,x,A)}}return{handlePointer:l}}const FB=i=>!!(i!=null&&i.render),_G=Q.createContext(null),Wot=(i,e)=>{const n=Eot((l,u)=>{const c=new pt,h=new pt,p=new pt;function g(x=u().camera,A=h,C=u().size){const{width:M,height:P,top:k,left:D}=C,N=M/P;A.isVector3?p.copy(A):p.set(...A);const U=x.getWorldPosition(c).distanceTo(p);if(pG(x))return{width:M/x.zoom,height:P/x.zoom,top:k,left:D,factor:1,distance:U,aspect:N};{const R=x.fov*Math.PI/180,B=2*Math.tan(R/2)*U,H=B*(M/P);return{width:H,height:B,top:k,left:D,factor:M/H,distance:U,aspect:N}}}let v;const b=x=>l(A=>({performance:{...A.performance,current:x}})),S=new me;return{set:l,get:u,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(x=1)=>i(u(),x),advance:(x,A)=>e(x,A,u()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new yU,pointer:S,mouse:S,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const x=u();v&&clearTimeout(v),x.performance.current!==x.performance.min&&b(x.performance.min),v=setTimeout(()=>b(u().performance.max),x.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:g},setEvents:x=>l(A=>({...A,events:{...A.events,...x}})),setSize:(x,A,C=0,M=0)=>{const P=u().camera,k={width:x,height:A,top:C,left:M};l(D=>({size:k,viewport:{...D.viewport,...g(P,h,k)}}))},setDpr:x=>l(A=>{const C=gG(x);return{viewport:{...A.viewport,dpr:C,initialDpr:A.viewport.initialDpr||C}}}),setFrameloop:(x="always")=>{const A=u().clock;A.stop(),A.elapsedTime=0,x!=="never"&&(A.start(),A.elapsedTime=0),l(()=>({frameloop:x}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:Q.createRef(),active:!1,frames:0,priority:0,subscribe:(x,A,C)=>{const M=u().internal;return M.priority=M.priority+(A>0?1:0),M.subscribers.push({ref:x,priority:A,store:C}),M.subscribers=M.subscribers.sort((P,k)=>P.priority-k.priority),()=>{const P=u().internal;P!=null&&P.subscribers&&(P.priority=P.priority-(A>0?1:0),P.subscribers=P.subscribers.filter(k=>k.ref!==x))}}}}}),r=n.getState();let s=r.size,a=r.viewport.dpr,o=r.camera;return n.subscribe(()=>{const{camera:l,size:u,viewport:c,gl:h,set:p}=n.getState();if(u.width!==s.width||u.height!==s.height||c.dpr!==a){s=u,a=c.dpr,Got(l,u),c.dpr>0&&h.setPixelRatio(c.dpr);const g=typeof HTMLCanvasElement<"u"&&h.domElement instanceof HTMLCanvasElement;h.setSize(u.width,u.height,g)}l!==o&&(o=l,p(g=>({viewport:{...g.viewport,...g.viewport.getCurrentViewport(l)}})))}),n.subscribe(l=>i(l)),n};function bG(){const i=Q.useContext(_G);if(!i)throw new Error("R3F: Hooks can only be used within the Canvas component!");return i}function jp(i=n=>n,e){return bG()(i,e)}function MU(i,e=0){const n=bG(),r=n.getState().internal.subscribe,s=mG(i);return AE(()=>r(s,e,n),[e,r,n]),null}function Xot(i){const e=Cot(i);return e.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:Q.version}),e}const xG=0,D_={},Yot=/^three(?=[A-Z])/,xR=i=>`${i[0].toUpperCase()}${i.slice(1)}`;let Kot=0;const Zot=i=>typeof i=="function";function SG(i){if(Zot(i)){const e=`${Kot++}`;return D_[e]=i,e}else Object.assign(D_,i)}function EG(i,e){const n=xR(i),r=D_[n];if(i!=="primitive"&&!r)throw new Error(`R3F: ${n} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(i==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function Qot(i,e,n){var r;return i=xR(i)in D_?i:i.replace(Yot,""),EG(i,e),i==="primitive"&&(r=e.object)!=null&&r.__r3f&&delete e.object.__r3f,MC(e.object,n,i,e)}function Jot(i){if(!i.isHidden){var e;i.props.attach&&(e=i.parent)!=null&&e.object?RC(i.parent,i):rl(i.object)&&(i.object.visible=!1),i.isHidden=!0,pb(i)}}function TG(i){if(i.isHidden){var e;i.props.attach&&(e=i.parent)!=null&&e.object?CC(i.parent,i):rl(i.object)&&i.props.visible!==!1&&(i.object.visible=!0),i.isHidden=!1,pb(i)}}function CU(i,e,n){const r=e.root.getState();if(!(!i.parent&&i.object!==r.scene)){if(!e.object){var s,a;const o=D_[xR(e.type)];e.object=(s=e.props.object)!=null?s:new o(...(a=e.props.args)!=null?a:[]),e.object.__r3f=e}if(em(e.object,e.props),e.props.attach)CC(i,e);else if(rl(e.object)&&rl(i.object)){const o=i.object.children.indexOf(n==null?void 0:n.object);if(n&&o!==-1){const l=i.object.children.indexOf(e.object);if(l!==-1){i.object.children.splice(l,1);const u=l<o?o-1:o;i.object.children.splice(u,0,e.object)}else e.object.parent=i.object,i.object.children.splice(o,0,e.object),e.object.dispatchEvent({type:"added"}),i.object.dispatchEvent({type:"childadded",child:e.object})}else i.object.add(e.object)}for(const o of e.children)CU(e,o);pb(e)}}function _I(i,e){e&&(e.parent=i,i.children.push(e),CU(i,e))}function VB(i,e,n){if(!e||!n)return;e.parent=i;const r=i.children.indexOf(n);r!==-1?i.children.splice(r,0,e):i.children.push(e),CU(i,e,n)}function wG(i){if(typeof i.dispose=="function"){const e=()=>{try{i.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():kB.unstable_scheduleCallback(kB.unstable_IdlePriority,e)}}function S3(i,e,n){if(!e)return;e.parent=null;const r=i.children.indexOf(e);r!==-1&&i.children.splice(r,1),e.props.attach?RC(i,e):rl(e.object)&&rl(i.object)&&(i.object.remove(e.object),$ot(dG(e),e.object));const s=e.props.dispose!==null&&n!==!1;for(let a=e.children.length-1;a>=0;a--){const o=e.children[a];S3(e,o,s)}e.children.length=0,delete e.object.__r3f,s&&e.type!=="primitive"&&e.object.type!=="Scene"&&wG(e.object),n===void 0&&pb(e)}function tlt(i,e){for(const n of[i,i.alternate])if(n!==null)if(typeof n.ref=="function"){n.refCleanup==null||n.refCleanup();const r=n.ref(e);typeof r=="function"&&(n.refCleanup=r)}else n.ref&&(n.ref.current=e)}const uM=[];function elt(){for(const[n]of uM){const r=n.parent;if(r){n.props.attach?RC(r,n):rl(n.object)&&rl(r.object)&&r.object.remove(n.object);for(const s of n.children)s.props.attach?RC(n,s):rl(s.object)&&rl(n.object)&&n.object.remove(s.object)}n.isHidden&&TG(n),n.object.__r3f&&delete n.object.__r3f,n.type!=="primitive"&&wG(n.object)}for(const[n,r,s]of uM){n.props=r;const a=n.parent;if(a){var i,e;const o=D_[xR(n.type)];n.object=(i=n.props.object)!=null?i:new o(...(e=n.props.args)!=null?e:[]),n.object.__r3f=n,tlt(s,n.object),em(n.object,n.props),n.props.attach?CC(a,n):rl(n.object)&&rl(a.object)&&a.object.add(n.object);for(const l of n.children)l.props.attach?CC(n,l):rl(l.object)&&rl(n.object)&&n.object.add(l.object);pb(n)}}uM.length=0}const bI=()=>{},HB={};let iA=xG;const nlt=0,ilt=4,E3=Xot({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:Qot,removeChild:S3,appendChild:_I,appendInitialChild:_I,insertBefore:VB,appendChildToContainer(i,e){const n=i.getState().scene.__r3f;!e||!n||_I(n,e)},removeChildFromContainer(i,e){const n=i.getState().scene.__r3f;!e||!n||S3(n,e)},insertInContainerBefore(i,e,n){const r=i.getState().scene.__r3f;!e||!n||!r||VB(r,e,n)},getRootHostContext:()=>HB,getChildHostContext:()=>HB,commitUpdate(i,e,n,r,s){var a,o,l;EG(e,r);let u=!1;if((i.type==="primitive"&&n.object!==r.object||((a=r.args)==null?void 0:a.length)!==((o=n.args)==null?void 0:o.length)||(l=r.args)!=null&&l.some((h,p)=>{var g;return h!==((g=n.args)==null?void 0:g[p])}))&&(u=!0),u)uM.push([i,{...r},s]);else{const h=Vot(i,r);Object.keys(h).length&&(Object.assign(i.props,h),em(i.object,h))}(s.sibling===null||(s.flags&ilt)===nlt)&&elt()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:i=>i==null?void 0:i.object,prepareForCommit:()=>null,preparePortalMount:i=>MC(i.getState().scene,i,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:Jot,unhideInstance:TG,createTextInstance:bI,hideTextInstance:bI,unhideTextInstance:bI,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:Q.createContext(null),setCurrentUpdatePriority(i){iA=i},getCurrentUpdatePriority(){return iA},resolveUpdatePriority(){var i;if(iA!==xG)return iA;switch(typeof window<"u"&&((i=window.event)==null?void 0:i.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return lM.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return lM.ContinuousEventPriority;default:return lM.DefaultEventPriority}},resetFormInstance(){}}),Hy=new Map,Rv={objects:"shallow",strict:!1};function rlt(i,e){if(!e&&typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement&&i.parentElement){const{width:n,height:r,top:s,left:a}=i.parentElement.getBoundingClientRect();return{width:n,height:r,top:s,left:a}}else if(!e&&typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas)return{width:i.width,height:i.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...e}}function slt(i){const e=Hy.get(i),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const s=typeof reportError=="function"?reportError:console.error,a=r||Wot(A3,GB),o=n||E3.createContainer(a,lM.ConcurrentRoot,null,!1,null,"",s,s,s,null);e||Hy.set(i,{fiber:o,store:a});let l,u,c=!1,h=null;return{async configure(p={}){let g;h=new Promise(dt=>g=dt);let{gl:v,size:b,scene:S,events:E,onCreated:x,shadows:A=!1,linear:C=!1,flat:M=!1,legacy:P=!1,orthographic:k=!1,frameloop:D="always",dpr:N=[1,2],performance:U,raycaster:R,camera:B,onPointerMissed:H}=p,V=a.getState(),Y=V.gl;if(!V.gl){const dt={canvas:i,powerPreference:"high-performance",antialias:!0,alpha:!0},yt=typeof v=="function"?await v(dt):v;FB(yt)?Y=yt:Y=new oG({...dt,...v}),V.set({gl:Y})}let et=V.raycaster;et||V.set({raycaster:et=new xU});const{params:G,...X}=R||{};if(Vr.equ(X,et,Rv)||em(et,{...X}),Vr.equ(G,et.params,Rv)||em(et,{params:{...et.params,...G}}),!V.camera||V.camera===u&&!Vr.equ(u,B,Rv)){u=B;const dt=B==null?void 0:B.isCamera,yt=dt?B:k?new wE(0,0,0,0,.1,1e3):new ea(75,0,.1,1e3);dt||(yt.position.z=5,B&&(em(yt,B),yt.manual||("aspect"in B||"left"in B||"right"in B||"bottom"in B||"top"in B)&&(yt.manual=!0,yt.updateProjectionMatrix())),!V.camera&&!(B!=null&&B.rotation)&&yt.lookAt(0,0,0)),V.set({camera:yt}),et.camera=yt}if(!V.scene){let dt;S!=null&&S.isScene?(dt=S,MC(dt,a,"",{})):(dt=new ZL,MC(dt,a,"",{}),S&&em(dt,S)),V.set({scene:dt})}E&&!V.events.handlers&&V.set({events:E(a)});const J=rlt(i,b);if(Vr.equ(J,V.size,Rv)||V.setSize(J.width,J.height,J.top,J.left),N&&V.viewport.dpr!==gG(N)&&V.setDpr(N),V.frameloop!==D&&V.setFrameloop(D),V.onPointerMissed||V.set({onPointerMissed:H}),U&&!Vr.equ(U,V.performance,Rv)&&V.set(dt=>({performance:{...dt.performance,...U}})),!V.xr){var nt;const dt=(it,ht)=>{const lt=a.getState();lt.frameloop!=="never"&&GB(it,!0,lt,ht)},yt=()=>{const it=a.getState();it.gl.xr.enabled=it.gl.xr.isPresenting,it.gl.xr.setAnimationLoop(it.gl.xr.isPresenting?dt:null),it.gl.xr.isPresenting||A3(it)},xt={connect(){const it=a.getState().gl;it.xr.addEventListener("sessionstart",yt),it.xr.addEventListener("sessionend",yt)},disconnect(){const it=a.getState().gl;it.xr.removeEventListener("sessionstart",yt),it.xr.removeEventListener("sessionend",yt)}};typeof((nt=Y.xr)==null?void 0:nt.addEventListener)=="function"&&xt.connect(),V.set({xr:xt})}if(Y.shadowMap){const dt=Y.shadowMap.enabled,yt=Y.shadowMap.type;if(Y.shadowMap.enabled=!!A,Vr.boo(A))Y.shadowMap.type=B1;else if(Vr.str(A)){var Z;const xt={basic:h7,percentage:V2,soft:B1,variance:Ec};Y.shadowMap.type=(Z=xt[A])!=null?Z:B1}else Vr.obj(A)&&Object.assign(Y.shadowMap,A);(dt!==Y.shadowMap.enabled||yt!==Y.shadowMap.type)&&(Y.shadowMap.needsUpdate=!0)}return vi.enabled=!P,c||(Y.outputColorSpace=C?Em:ya,Y.toneMapping=M?Kf:LL),V.legacy!==P&&V.set(()=>({legacy:P})),V.linear!==C&&V.set(()=>({linear:C})),V.flat!==M&&V.set(()=>({flat:M})),v&&!Vr.fun(v)&&!FB(v)&&!Vr.equ(v,Y,Rv)&&em(Y,v),l=x,c=!0,g(),this},render(p){return!c&&!h&&this.configure(),h.then(()=>{E3.updateContainer(W.jsx(alt,{store:a,children:p,onCreated:l,rootElement:i}),o,null,()=>{})}),a},unmount(){AG(i)}}}function alt({store:i,children:e,onCreated:n,rootElement:r}){return AE(()=>{const s=i.getState();s.set(a=>({internal:{...a.internal,active:!0}})),n&&n(s),i.getState().events.connected||s.events.connect==null||s.events.connect(r)},[]),W.jsx(_G.Provider,{value:i,children:e})}function AG(i,e){const n=Hy.get(i),r=n==null?void 0:n.fiber;if(r){const s=n==null?void 0:n.store.getState();s&&(s.internal.active=!1),E3.updateContainer(null,r,null,()=>{s&&setTimeout(()=>{try{var a,o,l,u;s.events.disconnect==null||s.events.disconnect(),(a=s.gl)==null||(o=a.renderLists)==null||o.dispose==null||o.dispose(),(l=s.gl)==null||l.forceContextLoss==null||l.forceContextLoss(),(u=s.gl)!=null&&u.xr&&s.xr.disconnect(),zot(s.scene),Hy.delete(i)}catch{}},500)})}}const olt=new Set,llt=new Set,ult=new Set;function xI(i,e){if(i.size)for(const{callback:n}of i.values())n(e)}function Y1(i,e){switch(i){case"before":return xI(olt,e);case"after":return xI(llt,e);case"tail":return xI(ult,e)}}let SI,EI;function T3(i,e,n){let r=e.clock.getDelta();e.frameloop==="never"&&typeof i=="number"&&(r=i-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=i),SI=e.internal.subscribers;for(let s=0;s<SI.length;s++)EI=SI[s],EI.ref.current(EI.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let OC=!1,w3=!1,TI,jB,Ov;function MG(i){jB=requestAnimationFrame(MG),OC=!0,TI=0,Y1("before",i),w3=!0;for(const n of Hy.values()){var e;Ov=n.store.getState(),Ov.internal.active&&(Ov.frameloop==="always"||Ov.internal.frames>0)&&!((e=Ov.gl.xr)!=null&&e.isPresenting)&&(TI+=T3(i,Ov))}if(w3=!1,Y1("after",i),TI===0)return Y1("tail",i),OC=!1,cancelAnimationFrame(jB)}function A3(i,e=1){var n;if(!i)return Hy.forEach(r=>A3(r.store.getState(),e));(n=i.gl.xr)!=null&&n.isPresenting||!i.internal.active||i.frameloop==="never"||(e>1?i.internal.frames=Math.min(60,i.internal.frames+e):w3?i.internal.frames=2:i.internal.frames=1,OC||(OC=!0,requestAnimationFrame(MG)))}function GB(i,e=!0,n,r){if(e&&Y1("before",i),n)T3(i,n,r);else for(const s of Hy.values())T3(i,s.store.getState());e&&Y1("after",i)}const wI={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function clt(i){const{handlePointer:e}=qot(i);return{priority:1,enabled:!0,compute(n,r,s){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(wI).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:s}=i.getState();(n=s.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(s.lastEvent.current)},connect:n=>{const{set:r,events:s}=i.getState();if(s.disconnect==null||s.disconnect(),r(a=>({events:{...a.events,connected:n}})),s.handlers)for(const a in s.handlers){const o=s.handlers[a],[l,u]=wI[a];n.addEventListener(l,o,{passive:u})}},disconnect:()=>{const{set:n,events:r}=i.getState();if(r.connected){if(r.handlers)for(const s in r.handlers){const a=r.handlers[s],[o]=wI[s];r.connected.removeEventListener(o,a)}n(s=>({events:{...s.events,connected:void 0}}))}}}}function $B(i,e){let n;return(...r)=>{window.clearTimeout(n),n=window.setTimeout(()=>i(...r),e)}}function flt({debounce:i,scroll:e,polyfill:n,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const s=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[a,o]=Q.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=Q.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a,orientationHandler:null}),u=i?typeof i=="number"?i:i.scroll:null,c=i?typeof i=="number"?i:i.resize:null,h=Q.useRef(!1);Q.useEffect(()=>(h.current=!0,()=>void(h.current=!1)));const[p,g,v]=Q.useMemo(()=>{const x=()=>{if(!l.current.element)return;const{left:A,top:C,width:M,height:P,bottom:k,right:D,x:N,y:U}=l.current.element.getBoundingClientRect(),R={left:A,top:C,width:M,height:P,bottom:k,right:D,x:N,y:U};l.current.element instanceof HTMLElement&&r&&(R.height=l.current.element.offsetHeight,R.width=l.current.element.offsetWidth),Object.freeze(R),h.current&&!mlt(l.current.lastBounds,R)&&o(l.current.lastBounds=R)};return[x,c?$B(x,c):x,u?$B(x,u):x]},[o,r,u,c]);function b(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(x=>x.removeEventListener("scroll",v,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null),l.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",l.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",l.current.orientationHandler))}function S(){l.current.element&&(l.current.resizeObserver=new s(v),l.current.resizeObserver.observe(l.current.element),e&&l.current.scrollContainers&&l.current.scrollContainers.forEach(x=>x.addEventListener("scroll",v,{capture:!0,passive:!0})),l.current.orientationHandler=()=>{v()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",l.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",l.current.orientationHandler))}const E=x=>{!x||x===l.current.element||(b(),l.current.element=x,l.current.scrollContainers=CG(x),S())};return dlt(v,!!e),hlt(g),Q.useEffect(()=>{b(),S()},[e,v,g]),Q.useEffect(()=>b,[]),[E,a,p]}function hlt(i){Q.useEffect(()=>{const e=i;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[i])}function dlt(i,e){Q.useEffect(()=>{if(e){const n=i;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[i,e])}function CG(i){const e=[];if(!i||i===document.body)return e;const{overflow:n,overflowX:r,overflowY:s}=window.getComputedStyle(i);return[n,r,s].some(a=>a==="auto"||a==="scroll")&&e.push(i),[...e,...CG(i.parentElement)]}const plt=["x","y","top","bottom","left","right","width","height"],mlt=(i,e)=>plt.every(n=>i[n]===e[n]);function glt({ref:i,children:e,fallback:n,resize:r,style:s,gl:a,events:o=clt,eventSource:l,eventPrefix:u,shadows:c,linear:h,flat:p,legacy:g,orthographic:v,frameloop:b,dpr:S,performance:E,raycaster:x,camera:A,scene:C,onPointerMissed:M,onCreated:P,...k}){Q.useMemo(()=>SG(fot),[]);const D=Lot(),[N,U]=flt({scroll:!0,debounce:{scroll:50,resize:0},...r}),R=Q.useRef(null),B=Q.useRef(null);Q.useImperativeHandle(i,()=>R.current);const H=mG(M),[V,Y]=Q.useState(!1),[et,G]=Q.useState(!1);if(V)throw V;if(et)throw et;const X=Q.useRef(null);AE(()=>{const nt=R.current;if(U.width>0&&U.height>0&&nt){X.current||(X.current=slt(nt));async function Z(){await X.current.configure({gl:a,scene:C,events:o,shadows:c,linear:h,flat:p,legacy:g,orthographic:v,frameloop:b,dpr:S,performance:E,raycaster:x,camera:A,size:U,onPointerMissed:(...dt)=>H.current==null?void 0:H.current(...dt),onCreated:dt=>{dt.events.connect==null||dt.events.connect(l?Dot(l)?l.current:l:B.current),u&&dt.setEvents({compute:(yt,xt)=>{const it=yt[u+"X"],ht=yt[u+"Y"];xt.pointer.set(it/xt.size.width*2-1,-(ht/xt.size.height)*2+1),xt.raycaster.setFromCamera(xt.pointer,xt.camera)}}),P==null||P(dt)}}),X.current.render(W.jsx(D,{children:W.jsx(kot,{set:G,children:W.jsx(Q.Suspense,{fallback:W.jsx(Uot,{set:Y}),children:e??null})})}))}Z()}}),Q.useEffect(()=>{const nt=R.current;if(nt)return()=>AG(nt)},[]);const J=l?"none":"auto";return W.jsx("div",{ref:B,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:J,...s},...k,children:W.jsx("div",{ref:N,style:{width:"100%",height:"100%"},children:W.jsx("canvas",{ref:R,style:{display:"block"},children:n})})})}function ylt(i){return W.jsx(fG,{children:W.jsx(glt,{...i})})}function LS(){return LS=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},LS.apply(null,arguments)}const vlt=i=>i;function _lt(i,e=vlt){const n=gn.useSyncExternalStore(i.subscribe,()=>e(i.getState()),()=>e(i.getInitialState()));return gn.useDebugValue(n),n}const qB=i=>{const e=lG(i),n=r=>_lt(e,r);return Object.assign(n,e),n},blt=i=>i?qB(i):qB,xlt=()=>parseInt(dE.replace(/\D+/g,"")),Slt=xlt();/*!
 * camera-controls
 * https://github.com/yomotsu/camera-controls
 * (c) 2017 @yomotsu
 * Released under the MIT License.
 */const Fr={LEFT:1,RIGHT:2,MIDDLE:4},$t=Object.freeze({NONE:0,ROTATE:1,TRUCK:2,SCREEN_PAN:4,OFFSET:8,DOLLY:16,ZOOM:32,TOUCH_ROTATE:64,TOUCH_TRUCK:128,TOUCH_SCREEN_PAN:256,TOUCH_OFFSET:512,TOUCH_DOLLY:1024,TOUCH_ZOOM:2048,TOUCH_DOLLY_TRUCK:4096,TOUCH_DOLLY_SCREEN_PAN:8192,TOUCH_DOLLY_OFFSET:16384,TOUCH_DOLLY_ROTATE:32768,TOUCH_ZOOM_TRUCK:65536,TOUCH_ZOOM_OFFSET:131072,TOUCH_ZOOM_SCREEN_PAN:262144,TOUCH_ZOOM_ROTATE:524288}),Pv={NONE:0,IN:1,OUT:-1};function jg(i){return i.isPerspectiveCamera}function Yp(i){return i.isOrthographicCamera}const Iv=Math.PI*2,WB=Math.PI/2,RG=1e-5,Gx=Math.PI/180;function xc(i,e,n){return Math.max(e,Math.min(n,i))}function cr(i,e=RG){return Math.abs(i)<e}function zi(i,e,n=RG){return cr(i-e,n)}function XB(i,e){return Math.round(i/e)*e}function $x(i){return isFinite(i)?i:i<0?-Number.MAX_VALUE:Number.MAX_VALUE}function qx(i){return Math.abs(i)<Number.MAX_VALUE?i:i*(1/0)}function rA(i,e,n,r,s=1/0,a){r=Math.max(1e-4,r);const o=2/r,l=o*a,u=1/(1+l+.48*l*l+.235*l*l*l);let c=i-e;const h=e,p=s*r;c=xc(c,-p,p),e=i-c;const g=(n.value+o*c)*a;n.value=(n.value-o*g)*u;let v=e+(c+g)*u;return h-i>0==v>h&&(v=h,n.value=(v-h)/a),v}function YB(i,e,n,r,s=1/0,a,o){r=Math.max(1e-4,r);const l=2/r,u=l*a,c=1/(1+u+.48*u*u+.235*u*u*u);let h=e.x,p=e.y,g=e.z,v=i.x-h,b=i.y-p,S=i.z-g;const E=h,x=p,A=g,C=s*r,M=C*C,P=v*v+b*b+S*S;if(P>M){const et=Math.sqrt(P);v=v/et*C,b=b/et*C,S=S/et*C}h=i.x-v,p=i.y-b,g=i.z-S;const k=(n.x+l*v)*a,D=(n.y+l*b)*a,N=(n.z+l*S)*a;n.x=(n.x-l*k)*c,n.y=(n.y-l*D)*c,n.z=(n.z-l*N)*c,o.x=h+(v+k)*c,o.y=p+(b+D)*c,o.z=g+(S+N)*c;const U=E-i.x,R=x-i.y,B=A-i.z,H=o.x-E,V=o.y-x,Y=o.z-A;return U*H+R*V+B*Y>0&&(o.x=E,o.y=x,o.z=A,n.x=(o.x-E)/a,n.y=(o.y-x)/a,n.z=(o.z-A)/a),o}function AI(i,e){e.set(0,0),i.forEach(n=>{e.x+=n.clientX,e.y+=n.clientY}),e.x/=i.length,e.y/=i.length}function MI(i,e){return Yp(i)?(console.warn(`${e} is not supported in OrthographicCamera`),!0):!1}class Elt{constructor(){this._listeners={}}addEventListener(e,n){const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){const s=this._listeners[e];if(s!==void 0){const a=s.indexOf(n);a!==-1&&s.splice(a,1)}}removeAllEventListeners(e){if(!e){this._listeners={};return}Array.isArray(this._listeners[e])&&(this._listeners[e].length=0)}dispatchEvent(e){const r=this._listeners[e.type];if(r!==void 0){e.target=this;const s=r.slice(0);for(let a=0,o=s.length;a<o;a++)s[a].call(this,e)}}}var CI;const Tlt="2.10.1",sA=1/8,wlt=/Mac/.test((CI=globalThis==null?void 0:globalThis.navigator)===null||CI===void 0?void 0:CI.platform);let Cn,KB,aA,RI,el,Kn,Pi,Dv,Wx,Cf,Rf,Gg,ZB,QB,wu,Xx,Nv,JB,OI,tF,PI,II,oA,DI=class M3 extends Elt{static install(e){Cn=e.THREE,KB=Object.freeze(new Cn.Vector3(0,0,0)),aA=Object.freeze(new Cn.Vector3(0,1,0)),RI=Object.freeze(new Cn.Vector3(0,0,1)),el=new Cn.Vector2,Kn=new Cn.Vector3,Pi=new Cn.Vector3,Dv=new Cn.Vector3,Wx=new Cn.Vector3,Cf=new Cn.Vector3,Rf=new Cn.Vector3,Gg=new Cn.Vector3,ZB=new Cn.Vector3,QB=new Cn.Vector3,wu=new Cn.Spherical,Xx=new Cn.Spherical,Nv=new Cn.Box3,JB=new Cn.Box3,OI=new Cn.Sphere,tF=new Cn.Quaternion,PI=new Cn.Quaternion,II=new Cn.Matrix4,oA=new Cn.Raycaster}static get ACTION(){return $t}set verticalDragToForward(e){console.warn("camera-controls: `verticalDragToForward` was removed. Use `mouseButtons.left = CameraControls.ACTION.SCREEN_PAN` instead.")}constructor(e,n){super(),this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.minDistance=Number.EPSILON,this.maxDistance=1/0,this.infinityDolly=!1,this.minZoom=.01,this.maxZoom=1/0,this.smoothTime=.25,this.draggingSmoothTime=.125,this.maxSpeed=1/0,this.azimuthRotateSpeed=1,this.polarRotateSpeed=1,this.dollySpeed=1,this.dollyDragInverted=!1,this.truckSpeed=2,this.dollyToCursor=!1,this.dragToOffset=!1,this.boundaryFriction=0,this.restThreshold=.01,this.colliderMeshes=[],this.cancel=()=>{},this._enabled=!0,this._state=$t.NONE,this._viewport=null,this._changedDolly=0,this._changedZoom=0,this._hasRested=!0,this._boundaryEnclosesCamera=!1,this._needsUpdate=!0,this._updatedLastTime=!1,this._elementRect=new DOMRect,this._isDragging=!1,this._dragNeedsUpdate=!0,this._activePointers=[],this._lockedPointer=null,this._interactiveArea=new DOMRect(0,0,1,1),this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._isUserControllingOffset=!1,this._isUserControllingZoom=!1,this._lastDollyDirection=Pv.NONE,this._thetaVelocity={value:0},this._phiVelocity={value:0},this._radiusVelocity={value:0},this._targetVelocity=new Cn.Vector3,this._focalOffsetVelocity=new Cn.Vector3,this._zoomVelocity={value:0},this._truckInternal=(x,A,C,M)=>{let P,k;if(jg(this._camera)){const D=Kn.copy(this._camera.position).sub(this._target),N=this._camera.getEffectiveFOV()*Gx,U=D.length()*Math.tan(N*.5);P=this.truckSpeed*x*U/this._elementRect.height,k=this.truckSpeed*A*U/this._elementRect.height}else if(Yp(this._camera)){const D=this._camera;P=this.truckSpeed*x*(D.right-D.left)/D.zoom/this._elementRect.width,k=this.truckSpeed*A*(D.top-D.bottom)/D.zoom/this._elementRect.height}else return;M?(C?this.setFocalOffset(this._focalOffsetEnd.x+P,this._focalOffsetEnd.y,this._focalOffsetEnd.z,!0):this.truck(P,0,!0),this.forward(-k,!0)):C?this.setFocalOffset(this._focalOffsetEnd.x+P,this._focalOffsetEnd.y+k,this._focalOffsetEnd.z,!0):this.truck(P,k,!0)},this._rotateInternal=(x,A)=>{const C=Iv*this.azimuthRotateSpeed*x/this._elementRect.height,M=Iv*this.polarRotateSpeed*A/this._elementRect.height;this.rotate(C,M,!0)},this._dollyInternal=(x,A,C)=>{const M=Math.pow(.95,-x*this.dollySpeed),P=this._sphericalEnd.radius,k=this._sphericalEnd.radius*M,D=xc(k,this.minDistance,this.maxDistance),N=D-k;this.infinityDolly&&this.dollyToCursor?this._dollyToNoClamp(k,!0):this.infinityDolly&&!this.dollyToCursor?(this.dollyInFixed(N,!0),this._dollyToNoClamp(D,!0)):this._dollyToNoClamp(D,!0),this.dollyToCursor&&(this._changedDolly+=(this.infinityDolly?k:D)-P,this._dollyControlCoord.set(A,C)),this._lastDollyDirection=Math.sign(-x)},this._zoomInternal=(x,A,C)=>{const M=Math.pow(.95,x*this.dollySpeed),P=this._zoom,k=this._zoom*M;this.zoomTo(k,!0),this.dollyToCursor&&(this._changedZoom+=k-P,this._dollyControlCoord.set(A,C))},typeof Cn>"u"&&console.error("camera-controls: `THREE` is undefined. You must first run `CameraControls.install( { THREE: THREE } )`. Check the docs for further information."),this._camera=e,this._yAxisUpSpace=new Cn.Quaternion().setFromUnitVectors(this._camera.up,aA),this._yAxisUpSpaceInverse=this._yAxisUpSpace.clone().invert(),this._state=$t.NONE,this._target=new Cn.Vector3,this._targetEnd=this._target.clone(),this._focalOffset=new Cn.Vector3,this._focalOffsetEnd=this._focalOffset.clone(),this._spherical=new Cn.Spherical().setFromVector3(Kn.copy(this._camera.position).applyQuaternion(this._yAxisUpSpace)),this._sphericalEnd=this._spherical.clone(),this._lastDistance=this._spherical.radius,this._zoom=this._camera.zoom,this._zoomEnd=this._zoom,this._lastZoom=this._zoom,this._nearPlaneCorners=[new Cn.Vector3,new Cn.Vector3,new Cn.Vector3,new Cn.Vector3],this._updateNearPlaneCorners(),this._boundary=new Cn.Box3(new Cn.Vector3(-1/0,-1/0,-1/0),new Cn.Vector3(1/0,1/0,1/0)),this._cameraUp0=this._camera.up.clone(),this._target0=this._target.clone(),this._position0=this._camera.position.clone(),this._zoom0=this._zoom,this._focalOffset0=this._focalOffset.clone(),this._dollyControlCoord=new Cn.Vector2,this.mouseButtons={left:$t.ROTATE,middle:$t.DOLLY,right:$t.TRUCK,wheel:jg(this._camera)?$t.DOLLY:Yp(this._camera)?$t.ZOOM:$t.NONE},this.touches={one:$t.TOUCH_ROTATE,two:jg(this._camera)?$t.TOUCH_DOLLY_TRUCK:Yp(this._camera)?$t.TOUCH_ZOOM_TRUCK:$t.NONE,three:$t.TOUCH_TRUCK};const r=new Cn.Vector2,s=new Cn.Vector2,a=new Cn.Vector2,o=x=>{if(!this._enabled||!this._domElement)return;if(this._interactiveArea.left!==0||this._interactiveArea.top!==0||this._interactiveArea.width!==1||this._interactiveArea.height!==1){const M=this._domElement.getBoundingClientRect(),P=x.clientX/M.width,k=x.clientY/M.height;if(P<this._interactiveArea.left||P>this._interactiveArea.right||k<this._interactiveArea.top||k>this._interactiveArea.bottom)return}const A=x.pointerType!=="mouse"?null:(x.buttons&Fr.LEFT)===Fr.LEFT?Fr.LEFT:(x.buttons&Fr.MIDDLE)===Fr.MIDDLE?Fr.MIDDLE:(x.buttons&Fr.RIGHT)===Fr.RIGHT?Fr.RIGHT:null;if(A!==null){const M=this._findPointerByMouseButton(A);M&&this._disposePointer(M)}if((x.buttons&Fr.LEFT)===Fr.LEFT&&this._lockedPointer)return;const C={pointerId:x.pointerId,clientX:x.clientX,clientY:x.clientY,deltaX:0,deltaY:0,mouseButton:A};this._activePointers.push(C),this._domElement.ownerDocument.removeEventListener("pointermove",l,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",u),this._domElement.ownerDocument.addEventListener("pointermove",l,{passive:!1}),this._domElement.ownerDocument.addEventListener("pointerup",u),this._isDragging=!0,g(x)},l=x=>{x.cancelable&&x.preventDefault();const A=x.pointerId,C=this._lockedPointer||this._findPointerById(A);if(C){if(C.clientX=x.clientX,C.clientY=x.clientY,C.deltaX=x.movementX,C.deltaY=x.movementY,this._state=0,x.pointerType==="touch")switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else(!this._isDragging&&this._lockedPointer||this._isDragging&&(x.buttons&Fr.LEFT)===Fr.LEFT)&&(this._state=this._state|this.mouseButtons.left),this._isDragging&&(x.buttons&Fr.MIDDLE)===Fr.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),this._isDragging&&(x.buttons&Fr.RIGHT)===Fr.RIGHT&&(this._state=this._state|this.mouseButtons.right);v()}},u=x=>{const A=this._findPointerById(x.pointerId);if(!(A&&A===this._lockedPointer)){if(A&&this._disposePointer(A),x.pointerType==="touch")switch(this._activePointers.length){case 0:this._state=$t.NONE;break;case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else this._state=$t.NONE;b()}};let c=-1;const h=x=>{if(!this._domElement||!this._enabled||this.mouseButtons.wheel===$t.NONE)return;if(this._interactiveArea.left!==0||this._interactiveArea.top!==0||this._interactiveArea.width!==1||this._interactiveArea.height!==1){const k=this._domElement.getBoundingClientRect(),D=x.clientX/k.width,N=x.clientY/k.height;if(D<this._interactiveArea.left||D>this._interactiveArea.right||N<this._interactiveArea.top||N>this._interactiveArea.bottom)return}if(x.preventDefault(),this.dollyToCursor||this.mouseButtons.wheel===$t.ROTATE||this.mouseButtons.wheel===$t.TRUCK){const k=performance.now();c-k<1e3&&this._getClientRect(this._elementRect),c=k}const A=wlt?-1:-3,C=x.deltaMode===1||x.ctrlKey?x.deltaY/A:x.deltaY/(A*10),M=this.dollyToCursor?(x.clientX-this._elementRect.x)/this._elementRect.width*2-1:0,P=this.dollyToCursor?(x.clientY-this._elementRect.y)/this._elementRect.height*-2+1:0;switch(this.mouseButtons.wheel){case $t.ROTATE:{this._rotateInternal(x.deltaX,x.deltaY),this._isUserControllingRotate=!0;break}case $t.TRUCK:{this._truckInternal(x.deltaX,x.deltaY,!1,!1),this._isUserControllingTruck=!0;break}case $t.SCREEN_PAN:{this._truckInternal(x.deltaX,x.deltaY,!1,!0),this._isUserControllingTruck=!0;break}case $t.OFFSET:{this._truckInternal(x.deltaX,x.deltaY,!0,!1),this._isUserControllingOffset=!0;break}case $t.DOLLY:{this._dollyInternal(-C,M,P),this._isUserControllingDolly=!0;break}case $t.ZOOM:{this._zoomInternal(-C,M,P),this._isUserControllingZoom=!0;break}}this.dispatchEvent({type:"control"})},p=x=>{if(!(!this._domElement||!this._enabled)){if(this.mouseButtons.right===M3.ACTION.NONE){const A=x instanceof PointerEvent?x.pointerId:0,C=this._findPointerById(A);C&&this._disposePointer(C),this._domElement.ownerDocument.removeEventListener("pointermove",l,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",u);return}x.preventDefault()}},g=x=>{if(!this._enabled)return;if(AI(this._activePointers,el),this._getClientRect(this._elementRect),r.copy(el),s.copy(el),this._activePointers.length>=2){const C=el.x-this._activePointers[1].clientX,M=el.y-this._activePointers[1].clientY,P=Math.sqrt(C*C+M*M);a.set(0,P);const k=(this._activePointers[0].clientX+this._activePointers[1].clientX)*.5,D=(this._activePointers[0].clientY+this._activePointers[1].clientY)*.5;s.set(k,D)}if(this._state=0,!x)this._lockedPointer&&(this._state=this._state|this.mouseButtons.left);else if("pointerType"in x&&x.pointerType==="touch")switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else!this._lockedPointer&&(x.buttons&Fr.LEFT)===Fr.LEFT&&(this._state=this._state|this.mouseButtons.left),(x.buttons&Fr.MIDDLE)===Fr.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),(x.buttons&Fr.RIGHT)===Fr.RIGHT&&(this._state=this._state|this.mouseButtons.right);((this._state&$t.ROTATE)===$t.ROTATE||(this._state&$t.TOUCH_ROTATE)===$t.TOUCH_ROTATE||(this._state&$t.TOUCH_DOLLY_ROTATE)===$t.TOUCH_DOLLY_ROTATE||(this._state&$t.TOUCH_ZOOM_ROTATE)===$t.TOUCH_ZOOM_ROTATE)&&(this._sphericalEnd.theta=this._spherical.theta,this._sphericalEnd.phi=this._spherical.phi,this._thetaVelocity.value=0,this._phiVelocity.value=0),((this._state&$t.TRUCK)===$t.TRUCK||(this._state&$t.SCREEN_PAN)===$t.SCREEN_PAN||(this._state&$t.TOUCH_TRUCK)===$t.TOUCH_TRUCK||(this._state&$t.TOUCH_SCREEN_PAN)===$t.TOUCH_SCREEN_PAN||(this._state&$t.TOUCH_DOLLY_TRUCK)===$t.TOUCH_DOLLY_TRUCK||(this._state&$t.TOUCH_DOLLY_SCREEN_PAN)===$t.TOUCH_DOLLY_SCREEN_PAN||(this._state&$t.TOUCH_ZOOM_TRUCK)===$t.TOUCH_ZOOM_TRUCK||(this._state&$t.TOUCH_ZOOM_SCREEN_PAN)===$t.TOUCH_DOLLY_SCREEN_PAN)&&(this._targetEnd.copy(this._target),this._targetVelocity.set(0,0,0)),((this._state&$t.DOLLY)===$t.DOLLY||(this._state&$t.TOUCH_DOLLY)===$t.TOUCH_DOLLY||(this._state&$t.TOUCH_DOLLY_TRUCK)===$t.TOUCH_DOLLY_TRUCK||(this._state&$t.TOUCH_DOLLY_SCREEN_PAN)===$t.TOUCH_DOLLY_SCREEN_PAN||(this._state&$t.TOUCH_DOLLY_OFFSET)===$t.TOUCH_DOLLY_OFFSET||(this._state&$t.TOUCH_DOLLY_ROTATE)===$t.TOUCH_DOLLY_ROTATE)&&(this._sphericalEnd.radius=this._spherical.radius,this._radiusVelocity.value=0),((this._state&$t.ZOOM)===$t.ZOOM||(this._state&$t.TOUCH_ZOOM)===$t.TOUCH_ZOOM||(this._state&$t.TOUCH_ZOOM_TRUCK)===$t.TOUCH_ZOOM_TRUCK||(this._state&$t.TOUCH_ZOOM_SCREEN_PAN)===$t.TOUCH_ZOOM_SCREEN_PAN||(this._state&$t.TOUCH_ZOOM_OFFSET)===$t.TOUCH_ZOOM_OFFSET||(this._state&$t.TOUCH_ZOOM_ROTATE)===$t.TOUCH_ZOOM_ROTATE)&&(this._zoomEnd=this._zoom,this._zoomVelocity.value=0),((this._state&$t.OFFSET)===$t.OFFSET||(this._state&$t.TOUCH_OFFSET)===$t.TOUCH_OFFSET||(this._state&$t.TOUCH_DOLLY_OFFSET)===$t.TOUCH_DOLLY_OFFSET||(this._state&$t.TOUCH_ZOOM_OFFSET)===$t.TOUCH_ZOOM_OFFSET)&&(this._focalOffsetEnd.copy(this._focalOffset),this._focalOffsetVelocity.set(0,0,0)),this.dispatchEvent({type:"controlstart"})},v=()=>{if(!this._enabled||!this._dragNeedsUpdate)return;this._dragNeedsUpdate=!1,AI(this._activePointers,el);const A=this._domElement&&this._domElement.ownerDocument.pointerLockElement===this._domElement?this._lockedPointer||this._activePointers[0]:null,C=A?-A.deltaX:s.x-el.x,M=A?-A.deltaY:s.y-el.y;if(s.copy(el),((this._state&$t.ROTATE)===$t.ROTATE||(this._state&$t.TOUCH_ROTATE)===$t.TOUCH_ROTATE||(this._state&$t.TOUCH_DOLLY_ROTATE)===$t.TOUCH_DOLLY_ROTATE||(this._state&$t.TOUCH_ZOOM_ROTATE)===$t.TOUCH_ZOOM_ROTATE)&&(this._rotateInternal(C,M),this._isUserControllingRotate=!0),(this._state&$t.DOLLY)===$t.DOLLY||(this._state&$t.ZOOM)===$t.ZOOM){const P=this.dollyToCursor?(r.x-this._elementRect.x)/this._elementRect.width*2-1:0,k=this.dollyToCursor?(r.y-this._elementRect.y)/this._elementRect.height*-2+1:0,D=this.dollyDragInverted?-1:1;(this._state&$t.DOLLY)===$t.DOLLY?(this._dollyInternal(D*M*sA,P,k),this._isUserControllingDolly=!0):(this._zoomInternal(D*M*sA,P,k),this._isUserControllingZoom=!0)}if((this._state&$t.TOUCH_DOLLY)===$t.TOUCH_DOLLY||(this._state&$t.TOUCH_ZOOM)===$t.TOUCH_ZOOM||(this._state&$t.TOUCH_DOLLY_TRUCK)===$t.TOUCH_DOLLY_TRUCK||(this._state&$t.TOUCH_ZOOM_TRUCK)===$t.TOUCH_ZOOM_TRUCK||(this._state&$t.TOUCH_DOLLY_SCREEN_PAN)===$t.TOUCH_DOLLY_SCREEN_PAN||(this._state&$t.TOUCH_ZOOM_SCREEN_PAN)===$t.TOUCH_ZOOM_SCREEN_PAN||(this._state&$t.TOUCH_DOLLY_OFFSET)===$t.TOUCH_DOLLY_OFFSET||(this._state&$t.TOUCH_ZOOM_OFFSET)===$t.TOUCH_ZOOM_OFFSET||(this._state&$t.TOUCH_DOLLY_ROTATE)===$t.TOUCH_DOLLY_ROTATE||(this._state&$t.TOUCH_ZOOM_ROTATE)===$t.TOUCH_ZOOM_ROTATE){const P=el.x-this._activePointers[1].clientX,k=el.y-this._activePointers[1].clientY,D=Math.sqrt(P*P+k*k),N=a.y-D;a.set(0,D);const U=this.dollyToCursor?(s.x-this._elementRect.x)/this._elementRect.width*2-1:0,R=this.dollyToCursor?(s.y-this._elementRect.y)/this._elementRect.height*-2+1:0;(this._state&$t.TOUCH_DOLLY)===$t.TOUCH_DOLLY||(this._state&$t.TOUCH_DOLLY_ROTATE)===$t.TOUCH_DOLLY_ROTATE||(this._state&$t.TOUCH_DOLLY_TRUCK)===$t.TOUCH_DOLLY_TRUCK||(this._state&$t.TOUCH_DOLLY_SCREEN_PAN)===$t.TOUCH_DOLLY_SCREEN_PAN||(this._state&$t.TOUCH_DOLLY_OFFSET)===$t.TOUCH_DOLLY_OFFSET?(this._dollyInternal(N*sA,U,R),this._isUserControllingDolly=!0):(this._zoomInternal(N*sA,U,R),this._isUserControllingZoom=!0)}((this._state&$t.TRUCK)===$t.TRUCK||(this._state&$t.TOUCH_TRUCK)===$t.TOUCH_TRUCK||(this._state&$t.TOUCH_DOLLY_TRUCK)===$t.TOUCH_DOLLY_TRUCK||(this._state&$t.TOUCH_ZOOM_TRUCK)===$t.TOUCH_ZOOM_TRUCK)&&(this._truckInternal(C,M,!1,!1),this._isUserControllingTruck=!0),((this._state&$t.SCREEN_PAN)===$t.SCREEN_PAN||(this._state&$t.TOUCH_SCREEN_PAN)===$t.TOUCH_SCREEN_PAN||(this._state&$t.TOUCH_DOLLY_SCREEN_PAN)===$t.TOUCH_DOLLY_SCREEN_PAN||(this._state&$t.TOUCH_ZOOM_SCREEN_PAN)===$t.TOUCH_ZOOM_SCREEN_PAN)&&(this._truckInternal(C,M,!1,!0),this._isUserControllingTruck=!0),((this._state&$t.OFFSET)===$t.OFFSET||(this._state&$t.TOUCH_OFFSET)===$t.TOUCH_OFFSET||(this._state&$t.TOUCH_DOLLY_OFFSET)===$t.TOUCH_DOLLY_OFFSET||(this._state&$t.TOUCH_ZOOM_OFFSET)===$t.TOUCH_ZOOM_OFFSET)&&(this._truckInternal(C,M,!0,!1),this._isUserControllingOffset=!0),this.dispatchEvent({type:"control"})},b=()=>{AI(this._activePointers,el),s.copy(el),this._dragNeedsUpdate=!1,(this._activePointers.length===0||this._activePointers.length===1&&this._activePointers[0]===this._lockedPointer)&&(this._isDragging=!1),this._activePointers.length===0&&this._domElement&&(this._domElement.ownerDocument.removeEventListener("pointermove",l,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",u),this.dispatchEvent({type:"controlend"}))};this.lockPointer=()=>{!this._enabled||!this._domElement||(this.cancel(),this._lockedPointer={pointerId:-1,clientX:0,clientY:0,deltaX:0,deltaY:0,mouseButton:null},this._activePointers.push(this._lockedPointer),this._domElement.ownerDocument.removeEventListener("pointermove",l,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",u),this._domElement.requestPointerLock(),this._domElement.ownerDocument.addEventListener("pointerlockchange",S),this._domElement.ownerDocument.addEventListener("pointerlockerror",E),this._domElement.ownerDocument.addEventListener("pointermove",l,{passive:!1}),this._domElement.ownerDocument.addEventListener("pointerup",u),g())},this.unlockPointer=()=>{var x,A,C;this._lockedPointer!==null&&(this._disposePointer(this._lockedPointer),this._lockedPointer=null),(x=this._domElement)===null||x===void 0||x.ownerDocument.exitPointerLock(),(A=this._domElement)===null||A===void 0||A.ownerDocument.removeEventListener("pointerlockchange",S),(C=this._domElement)===null||C===void 0||C.ownerDocument.removeEventListener("pointerlockerror",E),this.cancel()};const S=()=>{this._domElement&&this._domElement.ownerDocument.pointerLockElement===this._domElement||this.unlockPointer()},E=()=>{this.unlockPointer()};this._addAllEventListeners=x=>{this._domElement=x,this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none",this._domElement.addEventListener("pointerdown",o),this._domElement.addEventListener("pointercancel",u),this._domElement.addEventListener("wheel",h,{passive:!1}),this._domElement.addEventListener("contextmenu",p)},this._removeAllEventListeners=()=>{this._domElement&&(this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect="",this._domElement.removeEventListener("pointerdown",o),this._domElement.removeEventListener("pointercancel",u),this._domElement.removeEventListener("wheel",h,{passive:!1}),this._domElement.removeEventListener("contextmenu",p),this._domElement.ownerDocument.removeEventListener("pointermove",l,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",u),this._domElement.ownerDocument.removeEventListener("pointerlockchange",S),this._domElement.ownerDocument.removeEventListener("pointerlockerror",E))},this.cancel=()=>{this._state!==$t.NONE&&(this._state=$t.NONE,this._activePointers.length=0,b())},n&&this.connect(n),this.update(0)}get camera(){return this._camera}set camera(e){this._camera=e,this.updateCameraUp(),this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._domElement&&(e?(this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none"):(this.cancel(),this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect=""))}get active(){return!this._hasRested}get currentAction(){return this._state}get distance(){return this._spherical.radius}set distance(e){this._spherical.radius===e&&this._sphericalEnd.radius===e||(this._spherical.radius=e,this._sphericalEnd.radius=e,this._needsUpdate=!0)}get azimuthAngle(){return this._spherical.theta}set azimuthAngle(e){this._spherical.theta===e&&this._sphericalEnd.theta===e||(this._spherical.theta=e,this._sphericalEnd.theta=e,this._needsUpdate=!0)}get polarAngle(){return this._spherical.phi}set polarAngle(e){this._spherical.phi===e&&this._sphericalEnd.phi===e||(this._spherical.phi=e,this._sphericalEnd.phi=e,this._needsUpdate=!0)}get boundaryEnclosesCamera(){return this._boundaryEnclosesCamera}set boundaryEnclosesCamera(e){this._boundaryEnclosesCamera=e,this._needsUpdate=!0}set interactiveArea(e){this._interactiveArea.width=xc(e.width,0,1),this._interactiveArea.height=xc(e.height,0,1),this._interactiveArea.x=xc(e.x,0,1-this._interactiveArea.width),this._interactiveArea.y=xc(e.y,0,1-this._interactiveArea.height)}addEventListener(e,n){super.addEventListener(e,n)}removeEventListener(e,n){super.removeEventListener(e,n)}rotate(e,n,r=!1){return this.rotateTo(this._sphericalEnd.theta+e,this._sphericalEnd.phi+n,r)}rotateAzimuthTo(e,n=!1){return this.rotateTo(e,this._sphericalEnd.phi,n)}rotatePolarTo(e,n=!1){return this.rotateTo(this._sphericalEnd.theta,e,n)}rotateTo(e,n,r=!1){this._isUserControllingRotate=!1;const s=xc(e,this.minAzimuthAngle,this.maxAzimuthAngle),a=xc(n,this.minPolarAngle,this.maxPolarAngle);this._sphericalEnd.theta=s,this._sphericalEnd.phi=a,this._sphericalEnd.makeSafe(),this._needsUpdate=!0,r||(this._spherical.theta=this._sphericalEnd.theta,this._spherical.phi=this._sphericalEnd.phi);const o=!r||zi(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&zi(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold);return this._createOnRestPromise(o)}dolly(e,n=!1){return this.dollyTo(this._sphericalEnd.radius-e,n)}dollyTo(e,n=!1){return this._isUserControllingDolly=!1,this._lastDollyDirection=Pv.NONE,this._changedDolly=0,this._dollyToNoClamp(xc(e,this.minDistance,this.maxDistance),n)}_dollyToNoClamp(e,n=!1){const r=this._sphericalEnd.radius;if(this.colliderMeshes.length>=1){const o=this._collisionTest(),l=zi(o,this._spherical.radius);if(!(r>e)&&l)return Promise.resolve();this._sphericalEnd.radius=Math.min(e,o)}else this._sphericalEnd.radius=e;this._needsUpdate=!0,n||(this._spherical.radius=this._sphericalEnd.radius);const a=!n||zi(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(a)}dollyInFixed(e,n=!1){this._targetEnd.add(this._getCameraDirection(Wx).multiplyScalar(e)),n||this._target.copy(this._targetEnd);const r=!n||zi(this._target.x,this._targetEnd.x,this.restThreshold)&&zi(this._target.y,this._targetEnd.y,this.restThreshold)&&zi(this._target.z,this._targetEnd.z,this.restThreshold);return this._createOnRestPromise(r)}zoom(e,n=!1){return this.zoomTo(this._zoomEnd+e,n)}zoomTo(e,n=!1){this._isUserControllingZoom=!1,this._zoomEnd=xc(e,this.minZoom,this.maxZoom),this._needsUpdate=!0,n||(this._zoom=this._zoomEnd);const r=!n||zi(this._zoom,this._zoomEnd,this.restThreshold);return this._changedZoom=0,this._createOnRestPromise(r)}pan(e,n,r=!1){return console.warn("`pan` has been renamed to `truck`"),this.truck(e,n,r)}truck(e,n,r=!1){this._camera.updateMatrix(),Cf.setFromMatrixColumn(this._camera.matrix,0),Rf.setFromMatrixColumn(this._camera.matrix,1),Cf.multiplyScalar(e),Rf.multiplyScalar(-n);const s=Kn.copy(Cf).add(Rf),a=Pi.copy(this._targetEnd).add(s);return this.moveTo(a.x,a.y,a.z,r)}forward(e,n=!1){Kn.setFromMatrixColumn(this._camera.matrix,0),Kn.crossVectors(this._camera.up,Kn),Kn.multiplyScalar(e);const r=Pi.copy(this._targetEnd).add(Kn);return this.moveTo(r.x,r.y,r.z,n)}elevate(e,n=!1){return Kn.copy(this._camera.up).multiplyScalar(e),this.moveTo(this._targetEnd.x+Kn.x,this._targetEnd.y+Kn.y,this._targetEnd.z+Kn.z,n)}moveTo(e,n,r,s=!1){this._isUserControllingTruck=!1;const a=Kn.set(e,n,r).sub(this._targetEnd);this._encloseToBoundary(this._targetEnd,a,this.boundaryFriction),this._needsUpdate=!0,s||this._target.copy(this._targetEnd);const o=!s||zi(this._target.x,this._targetEnd.x,this.restThreshold)&&zi(this._target.y,this._targetEnd.y,this.restThreshold)&&zi(this._target.z,this._targetEnd.z,this.restThreshold);return this._createOnRestPromise(o)}lookInDirectionOf(e,n,r,s=!1){const l=Kn.set(e,n,r).sub(this._targetEnd).normalize().multiplyScalar(-this._sphericalEnd.radius).add(this._targetEnd);return this.setPosition(l.x,l.y,l.z,s)}fitToBox(e,n,{cover:r=!1,paddingLeft:s=0,paddingRight:a=0,paddingBottom:o=0,paddingTop:l=0}={}){const u=[],c=e.isBox3?Nv.copy(e):Nv.setFromObject(e);c.isEmpty()&&(console.warn("camera-controls: fitTo() cannot be used with an empty box. Aborting"),Promise.resolve());const h=XB(this._sphericalEnd.theta,WB),p=XB(this._sphericalEnd.phi,WB);u.push(this.rotateTo(h,p,n));const g=Kn.setFromSpherical(this._sphericalEnd).normalize(),v=tF.setFromUnitVectors(g,RI),b=zi(Math.abs(g.y),1);b&&v.multiply(PI.setFromAxisAngle(aA,h)),v.multiply(this._yAxisUpSpaceInverse);const S=JB.makeEmpty();Pi.copy(c.min).applyQuaternion(v),S.expandByPoint(Pi),Pi.copy(c.min).setX(c.max.x).applyQuaternion(v),S.expandByPoint(Pi),Pi.copy(c.min).setY(c.max.y).applyQuaternion(v),S.expandByPoint(Pi),Pi.copy(c.max).setZ(c.min.z).applyQuaternion(v),S.expandByPoint(Pi),Pi.copy(c.min).setZ(c.max.z).applyQuaternion(v),S.expandByPoint(Pi),Pi.copy(c.max).setY(c.min.y).applyQuaternion(v),S.expandByPoint(Pi),Pi.copy(c.max).setX(c.min.x).applyQuaternion(v),S.expandByPoint(Pi),Pi.copy(c.max).applyQuaternion(v),S.expandByPoint(Pi),S.min.x-=s,S.min.y-=o,S.max.x+=a,S.max.y+=l,v.setFromUnitVectors(RI,g),b&&v.premultiply(PI.invert()),v.premultiply(this._yAxisUpSpace);const E=S.getSize(Kn),x=S.getCenter(Pi).applyQuaternion(v);if(jg(this._camera)){const A=this.getDistanceToFitBox(E.x,E.y,E.z,r);u.push(this.moveTo(x.x,x.y,x.z,n)),u.push(this.dollyTo(A,n)),u.push(this.setFocalOffset(0,0,0,n))}else if(Yp(this._camera)){const A=this._camera,C=A.right-A.left,M=A.top-A.bottom,P=r?Math.max(C/E.x,M/E.y):Math.min(C/E.x,M/E.y);u.push(this.moveTo(x.x,x.y,x.z,n)),u.push(this.zoomTo(P,n)),u.push(this.setFocalOffset(0,0,0,n))}return Promise.all(u)}fitToSphere(e,n){const r=[],a="isObject3D"in e?M3.createBoundingSphere(e,OI):OI.copy(e);if(r.push(this.moveTo(a.center.x,a.center.y,a.center.z,n)),jg(this._camera)){const o=this.getDistanceToFitSphere(a.radius);r.push(this.dollyTo(o,n))}else if(Yp(this._camera)){const o=this._camera.right-this._camera.left,l=this._camera.top-this._camera.bottom,u=2*a.radius,c=Math.min(o/u,l/u);r.push(this.zoomTo(c,n))}return r.push(this.setFocalOffset(0,0,0,n)),Promise.all(r)}setLookAt(e,n,r,s,a,o,l=!1){this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._lastDollyDirection=Pv.NONE,this._changedDolly=0;const u=Pi.set(s,a,o),c=Kn.set(e,n,r);this._targetEnd.copy(u),this._sphericalEnd.setFromVector3(c.sub(u).applyQuaternion(this._yAxisUpSpace)),this.normalizeRotations(),this._needsUpdate=!0,l||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));const h=!l||zi(this._target.x,this._targetEnd.x,this.restThreshold)&&zi(this._target.y,this._targetEnd.y,this.restThreshold)&&zi(this._target.z,this._targetEnd.z,this.restThreshold)&&zi(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&zi(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&zi(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(h)}lerpLookAt(e,n,r,s,a,o,l,u,c,h,p,g,v,b=!1){this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._lastDollyDirection=Pv.NONE,this._changedDolly=0;const S=Kn.set(s,a,o),E=Pi.set(e,n,r);wu.setFromVector3(E.sub(S).applyQuaternion(this._yAxisUpSpace));const x=Dv.set(h,p,g),A=Pi.set(l,u,c);Xx.setFromVector3(A.sub(x).applyQuaternion(this._yAxisUpSpace)),this._targetEnd.copy(S.lerp(x,v));const C=Xx.theta-wu.theta,M=Xx.phi-wu.phi,P=Xx.radius-wu.radius;this._sphericalEnd.set(wu.radius+P*v,wu.phi+M*v,wu.theta+C*v),this.normalizeRotations(),this._needsUpdate=!0,b||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));const k=!b||zi(this._target.x,this._targetEnd.x,this.restThreshold)&&zi(this._target.y,this._targetEnd.y,this.restThreshold)&&zi(this._target.z,this._targetEnd.z,this.restThreshold)&&zi(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&zi(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&zi(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(k)}setPosition(e,n,r,s=!1){return this.setLookAt(e,n,r,this._targetEnd.x,this._targetEnd.y,this._targetEnd.z,s)}setTarget(e,n,r,s=!1){const a=this.getPosition(Kn),o=this.setLookAt(a.x,a.y,a.z,e,n,r,s);return this._sphericalEnd.phi=xc(this._sphericalEnd.phi,this.minPolarAngle,this.maxPolarAngle),o}setFocalOffset(e,n,r,s=!1){this._isUserControllingOffset=!1,this._focalOffsetEnd.set(e,n,r),this._needsUpdate=!0,s||this._focalOffset.copy(this._focalOffsetEnd);const a=!s||zi(this._focalOffset.x,this._focalOffsetEnd.x,this.restThreshold)&&zi(this._focalOffset.y,this._focalOffsetEnd.y,this.restThreshold)&&zi(this._focalOffset.z,this._focalOffsetEnd.z,this.restThreshold);return this._createOnRestPromise(a)}setOrbitPoint(e,n,r){this._camera.updateMatrixWorld(),Cf.setFromMatrixColumn(this._camera.matrixWorldInverse,0),Rf.setFromMatrixColumn(this._camera.matrixWorldInverse,1),Gg.setFromMatrixColumn(this._camera.matrixWorldInverse,2);const s=Kn.set(e,n,r),a=s.distanceTo(this._camera.position),o=s.sub(this._camera.position);Cf.multiplyScalar(o.x),Rf.multiplyScalar(o.y),Gg.multiplyScalar(o.z),Kn.copy(Cf).add(Rf).add(Gg),Kn.z=Kn.z+a,this.dollyTo(a,!1),this.setFocalOffset(-Kn.x,Kn.y,-Kn.z,!1),this.moveTo(e,n,r,!1)}setBoundary(e){if(!e){this._boundary.min.set(-1/0,-1/0,-1/0),this._boundary.max.set(1/0,1/0,1/0),this._needsUpdate=!0;return}this._boundary.copy(e),this._boundary.clampPoint(this._targetEnd,this._targetEnd),this._needsUpdate=!0}setViewport(e,n,r,s){if(e===null){this._viewport=null;return}this._viewport=this._viewport||new Cn.Vector4,typeof e=="number"?this._viewport.set(e,n,r,s):this._viewport.copy(e)}getDistanceToFitBox(e,n,r,s=!1){if(MI(this._camera,"getDistanceToFitBox"))return this._spherical.radius;const a=e/n,o=this._camera.getEffectiveFOV()*Gx,l=this._camera.aspect;return((s?a>l:a<l)?n:e/l)*.5/Math.tan(o*.5)+r*.5}getDistanceToFitSphere(e){if(MI(this._camera,"getDistanceToFitSphere"))return this._spherical.radius;const n=this._camera.getEffectiveFOV()*Gx,r=Math.atan(Math.tan(n*.5)*this._camera.aspect)*2,s=1<this._camera.aspect?n:r;return e/Math.sin(s*.5)}getTarget(e,n=!0){return(e&&e.isVector3?e:new Cn.Vector3).copy(n?this._targetEnd:this._target)}getPosition(e,n=!0){return(e&&e.isVector3?e:new Cn.Vector3).setFromSpherical(n?this._sphericalEnd:this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(n?this._targetEnd:this._target)}getSpherical(e,n=!0){return(e||new Cn.Spherical).copy(n?this._sphericalEnd:this._spherical)}getFocalOffset(e,n=!0){return(e&&e.isVector3?e:new Cn.Vector3).copy(n?this._focalOffsetEnd:this._focalOffset)}normalizeRotations(){this._sphericalEnd.theta=this._sphericalEnd.theta%Iv,this._sphericalEnd.theta<0&&(this._sphericalEnd.theta+=Iv),this._spherical.theta+=Iv*Math.round((this._sphericalEnd.theta-this._spherical.theta)/Iv)}stop(){this._focalOffset.copy(this._focalOffsetEnd),this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd),this._zoom=this._zoomEnd}reset(e=!1){if(!zi(this._camera.up.x,this._cameraUp0.x)||!zi(this._camera.up.y,this._cameraUp0.y)||!zi(this._camera.up.z,this._cameraUp0.z)){this._camera.up.copy(this._cameraUp0);const r=this.getPosition(Kn);this.updateCameraUp(),this.setPosition(r.x,r.y,r.z)}const n=[this.setLookAt(this._position0.x,this._position0.y,this._position0.z,this._target0.x,this._target0.y,this._target0.z,e),this.setFocalOffset(this._focalOffset0.x,this._focalOffset0.y,this._focalOffset0.z,e),this.zoomTo(this._zoom0,e)];return Promise.all(n)}saveState(){this._cameraUp0.copy(this._camera.up),this.getTarget(this._target0),this.getPosition(this._position0),this._zoom0=this._zoom,this._focalOffset0.copy(this._focalOffset)}updateCameraUp(){this._yAxisUpSpace.setFromUnitVectors(this._camera.up,aA),this._yAxisUpSpaceInverse.copy(this._yAxisUpSpace).invert()}applyCameraUp(){const e=Kn.subVectors(this._target,this._camera.position).normalize(),n=Pi.crossVectors(e,this._camera.up);this._camera.up.crossVectors(n,e).normalize(),this._camera.updateMatrixWorld();const r=this.getPosition(Kn);this.updateCameraUp(),this.setPosition(r.x,r.y,r.z)}update(e){const n=this._sphericalEnd.theta-this._spherical.theta,r=this._sphericalEnd.phi-this._spherical.phi,s=this._sphericalEnd.radius-this._spherical.radius,a=ZB.subVectors(this._targetEnd,this._target),o=QB.subVectors(this._focalOffsetEnd,this._focalOffset),l=this._zoomEnd-this._zoom;if(cr(n))this._thetaVelocity.value=0,this._spherical.theta=this._sphericalEnd.theta;else{const p=this._isUserControllingRotate?this.draggingSmoothTime:this.smoothTime;this._spherical.theta=rA(this._spherical.theta,this._sphericalEnd.theta,this._thetaVelocity,p,1/0,e),this._needsUpdate=!0}if(cr(r))this._phiVelocity.value=0,this._spherical.phi=this._sphericalEnd.phi;else{const p=this._isUserControllingRotate?this.draggingSmoothTime:this.smoothTime;this._spherical.phi=rA(this._spherical.phi,this._sphericalEnd.phi,this._phiVelocity,p,1/0,e),this._needsUpdate=!0}if(cr(s))this._radiusVelocity.value=0,this._spherical.radius=this._sphericalEnd.radius;else{const p=this._isUserControllingDolly?this.draggingSmoothTime:this.smoothTime;this._spherical.radius=rA(this._spherical.radius,this._sphericalEnd.radius,this._radiusVelocity,p,this.maxSpeed,e),this._needsUpdate=!0}if(cr(a.x)&&cr(a.y)&&cr(a.z))this._targetVelocity.set(0,0,0),this._target.copy(this._targetEnd);else{const p=this._isUserControllingTruck?this.draggingSmoothTime:this.smoothTime;YB(this._target,this._targetEnd,this._targetVelocity,p,this.maxSpeed,e,this._target),this._needsUpdate=!0}if(cr(o.x)&&cr(o.y)&&cr(o.z))this._focalOffsetVelocity.set(0,0,0),this._focalOffset.copy(this._focalOffsetEnd);else{const p=this._isUserControllingOffset?this.draggingSmoothTime:this.smoothTime;YB(this._focalOffset,this._focalOffsetEnd,this._focalOffsetVelocity,p,this.maxSpeed,e,this._focalOffset),this._needsUpdate=!0}if(cr(l))this._zoomVelocity.value=0,this._zoom=this._zoomEnd;else{const p=this._isUserControllingZoom?this.draggingSmoothTime:this.smoothTime;this._zoom=rA(this._zoom,this._zoomEnd,this._zoomVelocity,p,1/0,e)}if(this.dollyToCursor){if(jg(this._camera)&&this._changedDolly!==0){const p=this._spherical.radius-this._lastDistance,g=this._camera,v=this._getCameraDirection(Wx),b=Kn.copy(v).cross(g.up).normalize();b.lengthSq()===0&&(b.x=1);const S=Pi.crossVectors(b,v),E=this._sphericalEnd.radius*Math.tan(g.getEffectiveFOV()*Gx*.5),A=(this._sphericalEnd.radius-p-this._sphericalEnd.radius)/this._sphericalEnd.radius,C=Dv.copy(this._targetEnd).add(b.multiplyScalar(this._dollyControlCoord.x*E*g.aspect)).add(S.multiplyScalar(this._dollyControlCoord.y*E)),M=Kn.copy(this._targetEnd).lerp(C,A),P=this._lastDollyDirection===Pv.IN&&this._spherical.radius<=this.minDistance,k=this._lastDollyDirection===Pv.OUT&&this.maxDistance<=this._spherical.radius;if(this.infinityDolly&&(P||k)){this._sphericalEnd.radius-=p,this._spherical.radius-=p;const N=Pi.copy(v).multiplyScalar(-p);M.add(N)}this._boundary.clampPoint(M,M);const D=Pi.subVectors(M,this._targetEnd);this._targetEnd.copy(M),this._target.add(D),this._changedDolly-=p,cr(this._changedDolly)&&(this._changedDolly=0)}else if(Yp(this._camera)&&this._changedZoom!==0){const p=this._zoom-this._lastZoom,g=this._camera,v=Kn.set(this._dollyControlCoord.x,this._dollyControlCoord.y,(g.near+g.far)/(g.near-g.far)).unproject(g),b=Pi.set(0,0,-1).applyQuaternion(g.quaternion),S=Dv.copy(v).add(b.multiplyScalar(-v.dot(g.up))),x=-(this._zoom-p-this._zoom)/this._zoom,A=this._getCameraDirection(Wx),C=this._targetEnd.dot(A),M=Kn.copy(this._targetEnd).lerp(S,x),P=M.dot(A),k=A.multiplyScalar(P-C);M.sub(k),this._boundary.clampPoint(M,M);const D=Pi.subVectors(M,this._targetEnd);this._targetEnd.copy(M),this._target.add(D),this._changedZoom-=p,cr(this._changedZoom)&&(this._changedZoom=0)}}this._camera.zoom!==this._zoom&&(this._camera.zoom=this._zoom,this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0),this._dragNeedsUpdate=!0;const u=this._collisionTest();this._spherical.radius=Math.min(this._spherical.radius,u),this._spherical.makeSafe(),this._camera.position.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(this._target),this._camera.lookAt(this._target),(!cr(this._focalOffset.x)||!cr(this._focalOffset.y)||!cr(this._focalOffset.z))&&(Cf.setFromMatrixColumn(this._camera.matrix,0),Rf.setFromMatrixColumn(this._camera.matrix,1),Gg.setFromMatrixColumn(this._camera.matrix,2),Cf.multiplyScalar(this._focalOffset.x),Rf.multiplyScalar(-this._focalOffset.y),Gg.multiplyScalar(this._focalOffset.z),Kn.copy(Cf).add(Rf).add(Gg),this._camera.position.add(Kn),this._camera.updateMatrixWorld()),this._boundaryEnclosesCamera&&this._encloseToBoundary(this._camera.position.copy(this._target),Kn.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse),1);const h=this._needsUpdate;return h&&!this._updatedLastTime?(this._hasRested=!1,this.dispatchEvent({type:"wake"}),this.dispatchEvent({type:"update"})):h?(this.dispatchEvent({type:"update"}),cr(n,this.restThreshold)&&cr(r,this.restThreshold)&&cr(s,this.restThreshold)&&cr(a.x,this.restThreshold)&&cr(a.y,this.restThreshold)&&cr(a.z,this.restThreshold)&&cr(o.x,this.restThreshold)&&cr(o.y,this.restThreshold)&&cr(o.z,this.restThreshold)&&cr(l,this.restThreshold)&&!this._hasRested&&(this._hasRested=!0,this.dispatchEvent({type:"rest"}))):!h&&this._updatedLastTime&&this.dispatchEvent({type:"sleep"}),this._lastDistance=this._spherical.radius,this._lastZoom=this._zoom,this._updatedLastTime=h,this._needsUpdate=!1,h}toJSON(){return JSON.stringify({enabled:this._enabled,minDistance:this.minDistance,maxDistance:$x(this.maxDistance),minZoom:this.minZoom,maxZoom:$x(this.maxZoom),minPolarAngle:this.minPolarAngle,maxPolarAngle:$x(this.maxPolarAngle),minAzimuthAngle:$x(this.minAzimuthAngle),maxAzimuthAngle:$x(this.maxAzimuthAngle),smoothTime:this.smoothTime,draggingSmoothTime:this.draggingSmoothTime,dollySpeed:this.dollySpeed,truckSpeed:this.truckSpeed,dollyToCursor:this.dollyToCursor,target:this._targetEnd.toArray(),position:Kn.setFromSpherical(this._sphericalEnd).add(this._targetEnd).toArray(),zoom:this._zoomEnd,focalOffset:this._focalOffsetEnd.toArray(),target0:this._target0.toArray(),position0:this._position0.toArray(),zoom0:this._zoom0,focalOffset0:this._focalOffset0.toArray()})}fromJSON(e,n=!1){const r=JSON.parse(e);this.enabled=r.enabled,this.minDistance=r.minDistance,this.maxDistance=qx(r.maxDistance),this.minZoom=r.minZoom,this.maxZoom=qx(r.maxZoom),this.minPolarAngle=r.minPolarAngle,this.maxPolarAngle=qx(r.maxPolarAngle),this.minAzimuthAngle=qx(r.minAzimuthAngle),this.maxAzimuthAngle=qx(r.maxAzimuthAngle),this.smoothTime=r.smoothTime,this.draggingSmoothTime=r.draggingSmoothTime,this.dollySpeed=r.dollySpeed,this.truckSpeed=r.truckSpeed,this.dollyToCursor=r.dollyToCursor,this._target0.fromArray(r.target0),this._position0.fromArray(r.position0),this._zoom0=r.zoom0,this._focalOffset0.fromArray(r.focalOffset0),this.moveTo(r.target[0],r.target[1],r.target[2],n),wu.setFromVector3(Kn.fromArray(r.position).sub(this._targetEnd).applyQuaternion(this._yAxisUpSpace)),this.rotateTo(wu.theta,wu.phi,n),this.dollyTo(wu.radius,n),this.zoomTo(r.zoom,n),this.setFocalOffset(r.focalOffset[0],r.focalOffset[1],r.focalOffset[2],n),this._needsUpdate=!0}connect(e){if(this._domElement){console.warn("camera-controls is already connected.");return}e.setAttribute("data-camera-controls-version",Tlt),this._addAllEventListeners(e),this._getClientRect(this._elementRect)}disconnect(){this.cancel(),this._removeAllEventListeners(),this._domElement&&(this._domElement.removeAttribute("data-camera-controls-version"),this._domElement=void 0)}dispose(){this.removeAllEventListeners(),this.disconnect()}_getTargetDirection(e){return e.setFromSpherical(this._spherical).divideScalar(this._spherical.radius).applyQuaternion(this._yAxisUpSpaceInverse)}_getCameraDirection(e){return this._getTargetDirection(e).negate()}_findPointerById(e){return this._activePointers.find(n=>n.pointerId===e)}_findPointerByMouseButton(e){return this._activePointers.find(n=>n.mouseButton===e)}_disposePointer(e){this._activePointers.splice(this._activePointers.indexOf(e),1)}_encloseToBoundary(e,n,r){const s=n.lengthSq();if(s===0)return e;const a=Pi.copy(n).add(e),l=this._boundary.clampPoint(a,Dv).sub(a),u=l.lengthSq();if(u===0)return e.add(n);if(u===s)return e;if(r===0)return e.add(n).add(l);{const c=1+r*u/n.dot(l);return e.add(Pi.copy(n).multiplyScalar(c)).add(l.multiplyScalar(1-r))}}_updateNearPlaneCorners(){if(jg(this._camera)){const e=this._camera,n=e.near,r=e.getEffectiveFOV()*Gx,s=Math.tan(r*.5)*n,a=s*e.aspect;this._nearPlaneCorners[0].set(-a,-s,0),this._nearPlaneCorners[1].set(a,-s,0),this._nearPlaneCorners[2].set(a,s,0),this._nearPlaneCorners[3].set(-a,s,0)}else if(Yp(this._camera)){const e=this._camera,n=1/e.zoom,r=e.left*n,s=e.right*n,a=e.top*n,o=e.bottom*n;this._nearPlaneCorners[0].set(r,a,0),this._nearPlaneCorners[1].set(s,a,0),this._nearPlaneCorners[2].set(s,o,0),this._nearPlaneCorners[3].set(r,o,0)}}_collisionTest(){let e=1/0;if(!(this.colliderMeshes.length>=1)||MI(this._camera,"_collisionTest"))return e;const r=this._getTargetDirection(Wx);II.lookAt(KB,r,this._camera.up);for(let s=0;s<4;s++){const a=Pi.copy(this._nearPlaneCorners[s]);a.applyMatrix4(II);const o=Dv.addVectors(this._target,a);oA.set(o,r),oA.far=this._spherical.radius+1;const l=oA.intersectObjects(this.colliderMeshes);l.length!==0&&l[0].distance<e&&(e=l[0].distance)}return e}_getClientRect(e){if(!this._domElement)return;const n=this._domElement.getBoundingClientRect();return e.x=n.left,e.y=n.top,this._viewport?(e.x+=this._viewport.x,e.y+=n.height-this._viewport.w-this._viewport.y,e.width=this._viewport.z,e.height=this._viewport.w):(e.width=n.width,e.height=n.height),e}_createOnRestPromise(e){return e?Promise.resolve():(this._hasRested=!1,this.dispatchEvent({type:"transitionstart"}),new Promise(n=>{const r=()=>{this.removeEventListener("rest",r),n()};this.addEventListener("rest",r)}))}_addAllEventListeners(e){}_removeAllEventListeners(){}get dampingFactor(){return console.warn(".dampingFactor has been deprecated. use smoothTime (in seconds) instead."),0}set dampingFactor(e){console.warn(".dampingFactor has been deprecated. use smoothTime (in seconds) instead.")}get draggingDampingFactor(){return console.warn(".draggingDampingFactor has been deprecated. use draggingSmoothTime (in seconds) instead."),0}set draggingDampingFactor(e){console.warn(".draggingDampingFactor has been deprecated. use draggingSmoothTime (in seconds) instead.")}static createBoundingSphere(e,n=new Cn.Sphere){const r=n,s=r.center;Nv.makeEmpty(),e.traverseVisible(o=>{o.isMesh&&Nv.expandByObject(o)}),Nv.getCenter(s);let a=0;return e.traverseVisible(o=>{if(!o.isMesh)return;const l=o;if(!l.geometry)return;const u=l.geometry.clone();u.applyMatrix4(l.matrixWorld);const h=u.attributes.position;for(let p=0,g=h.count;p<g;p++)Kn.fromBufferAttribute(h,p),a=Math.max(a,s.distanceToSquared(Kn))}),r.radius=Math.sqrt(a),r}};const Alt=Q.forwardRef((i,e)=>{Q.useMemo(()=>{const P={Box3:xa,MathUtils:{clamp:J7.clamp},Matrix4:Sn,Quaternion:Co,Raycaster:xU,Sphere:Sa,Spherical:SU,Vector2:me,Vector3:pt,Vector4:Ei};DI.install({THREE:P}),SG({CameraControlsImpl:DI})},[]);const{camera:n,domElement:r,makeDefault:s,onStart:a,onEnd:o,onChange:l,regress:u,...c}=i,h=jp(P=>P.camera),p=jp(P=>P.gl),g=jp(P=>P.invalidate),v=jp(P=>P.events),b=jp(P=>P.setEvents),S=jp(P=>P.set),E=jp(P=>P.get),x=jp(P=>P.performance),A=n||h,C=r||v.connected||p.domElement,M=Q.useMemo(()=>new DI(A),[A]);return MU((P,k)=>{M.enabled&&M.update(k)},-1),Q.useEffect(()=>(M.connect(C),()=>void M.disconnect()),[C,M]),Q.useEffect(()=>{const P=N=>{g(),u&&x.regress(),l&&l(N)},k=N=>{a&&a(N)},D=N=>{o&&o(N)};return M.addEventListener("update",P),M.addEventListener("controlstart",k),M.addEventListener("controlend",D),M.addEventListener("control",P),M.addEventListener("transitionstart",P),M.addEventListener("wake",P),()=>{M.removeEventListener("update",P),M.removeEventListener("controlstart",k),M.removeEventListener("controlend",D),M.removeEventListener("control",P),M.removeEventListener("transitionstart",P),M.removeEventListener("wake",P)}},[M,a,o,g,b,u,l]),Q.useEffect(()=>{if(s){const P=E().controls;return S({controls:M}),()=>S({controls:P})}},[s,M]),Q.createElement("primitive",LS({ref:e,object:M},c))});class Mlt extends Vu{constructor(){super({uniforms:{time:{value:0},fade:{value:1}},vertexShader:`
      uniform float time;
      attribute float size;
      varying vec3 vColor;
      void main() {
        vColor = color;
        vec4 mvPosition = modelViewMatrix * vec4(position, 0.5);
        gl_PointSize = size * (30.0 / -mvPosition.z) * (3.0 + sin(time + 100.0));
        gl_Position = projectionMatrix * mvPosition;
      }`,fragmentShader:`
      uniform sampler2D pointTexture;
      uniform float fade;
      varying vec3 vColor;
      void main() {
        float opacity = 1.0;
        if (fade == 1.0) {
          float d = distance(gl_PointCoord, vec2(0.5, 0.5));
          opacity = 1.0 / (1.0 + exp(16.0 * (d - 0.25)));
        }
        gl_FragColor = vec4(vColor, opacity);

        #include <tonemapping_fragment>
	      #include <${Slt>=154?"colorspace_fragment":"encodings_fragment"}>
      }`})}}const Clt=i=>new pt().setFromSpherical(new SU(i,Math.acos(1-Math.random()*2),Math.random()*2*Math.PI)),Rlt=Q.forwardRef(({radius:i=100,depth:e=50,count:n=5e3,saturation:r=0,factor:s=4,fade:a=!1,speed:o=1},l)=>{const u=Q.useRef(null),[c,h,p]=Q.useMemo(()=>{const v=[],b=[],S=Array.from({length:n},()=>(.5+.5*Math.random())*s),E=new He;let x=i+e;const A=e/n;for(let C=0;C<n;C++)x-=A*Math.random(),v.push(...Clt(x).toArray()),E.setHSL(C/n,r,.9),b.push(E.r,E.g,E.b);return[new Float32Array(v),new Float32Array(b),new Float32Array(S)]},[n,e,s,i,r]);MU(v=>u.current&&(u.current.uniforms.time.value=v.clock.elapsedTime*o));const[g]=Q.useState(()=>new Mlt);return Q.createElement("points",{ref:l},Q.createElement("bufferGeometry",null,Q.createElement("bufferAttribute",{attach:"attributes-position",args:[c,3]}),Q.createElement("bufferAttribute",{attach:"attributes-color",args:[h,3]}),Q.createElement("bufferAttribute",{attach:"attributes-size",args:[p,1]})),Q.createElement("primitive",{ref:u,object:g,attach:"material",blending:VM,"uniforms-fade-value":a,depthWrite:!1,transparent:!0,vertexColors:!0}))}),US={black:"#000",white:"#fff"},Lv={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Uv={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},kv={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},zv={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Bv={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},Yx={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},Olt={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Nd(i,...e){const n=new URL(`https://mui.com/production-error/?code=${i}`);return e.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${i}; visit ${n} for the full message.`}const SR="$$material";function Plt(i){if(i.sheet)return i.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===i)return document.styleSheets[e]}function Ilt(i){var e=document.createElement("style");return e.setAttribute("data-emotion",i.key),i.nonce!==void 0&&e.setAttribute("nonce",i.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var Dlt=function(){function i(n){var r=this;this._insertTag=function(s){var a;r.tags.length===0?r.insertionPoint?a=r.insertionPoint.nextSibling:r.prepend?a=r.container.firstChild:a=r.before:a=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(s,a),r.tags.push(s)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=i.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Ilt(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var a=Plt(s);try{a.insertRule(r,a.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var s;return(s=r.parentNode)==null?void 0:s.removeChild(r)}),this.tags=[],this.ctr=0},i}(),ja="-ms-",PC="-moz-",Di="-webkit-",OG="comm",RU="rule",OU="decl",Nlt="@import",PG="@keyframes",Llt="@layer",Ult=Math.abs,ER=String.fromCharCode,klt=Object.assign;function zlt(i,e){return va(i,0)^45?(((e<<2^va(i,0))<<2^va(i,1))<<2^va(i,2))<<2^va(i,3):0}function IG(i){return i.trim()}function Blt(i,e){return(i=e.exec(i))?i[0]:i}function Ni(i,e,n){return i.replace(e,n)}function C3(i,e){return i.indexOf(e)}function va(i,e){return i.charCodeAt(e)|0}function kS(i,e,n){return i.slice(e,n)}function Bf(i){return i.length}function PU(i){return i.length}function lA(i,e){return e.push(i),i}function Flt(i,e){return i.map(e).join("")}var TR=1,N_=1,DG=0,vl=0,Os=0,mb="";function wR(i,e,n,r,s,a,o){return{value:i,root:e,parent:n,type:r,props:s,children:a,line:TR,column:N_,length:o,return:""}}function Kx(i,e){return klt(wR("",null,null,"",null,null,0),i,{length:-i.length},e)}function Vlt(){return Os}function Hlt(){return Os=vl>0?va(mb,--vl):0,N_--,Os===10&&(N_=1,TR--),Os}function Yl(){return Os=vl<DG?va(mb,vl++):0,N_++,Os===10&&(N_=1,TR++),Os}function Jf(){return va(mb,vl)}function cM(){return vl}function ME(i,e){return kS(mb,i,e)}function zS(i){switch(i){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function NG(i){return TR=N_=1,DG=Bf(mb=i),vl=0,[]}function LG(i){return mb="",i}function fM(i){return IG(ME(vl-1,R3(i===91?i+2:i===40?i+1:i)))}function jlt(i){for(;(Os=Jf())&&Os<33;)Yl();return zS(i)>2||zS(Os)>3?"":" "}function Glt(i,e){for(;--e&&Yl()&&!(Os<48||Os>102||Os>57&&Os<65||Os>70&&Os<97););return ME(i,cM()+(e<6&&Jf()==32&&Yl()==32))}function R3(i){for(;Yl();)switch(Os){case i:return vl;case 34:case 39:i!==34&&i!==39&&R3(Os);break;case 40:i===41&&R3(i);break;case 92:Yl();break}return vl}function $lt(i,e){for(;Yl()&&i+Os!==57;)if(i+Os===84&&Jf()===47)break;return"/*"+ME(e,vl-1)+"*"+ER(i===47?i:Yl())}function qlt(i){for(;!zS(Jf());)Yl();return ME(i,vl)}function Wlt(i){return LG(hM("",null,null,null,[""],i=NG(i),0,[0],i))}function hM(i,e,n,r,s,a,o,l,u){for(var c=0,h=0,p=o,g=0,v=0,b=0,S=1,E=1,x=1,A=0,C="",M=s,P=a,k=r,D=C;E;)switch(b=A,A=Yl()){case 40:if(b!=108&&va(D,p-1)==58){C3(D+=Ni(fM(A),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:D+=fM(A);break;case 9:case 10:case 13:case 32:D+=jlt(b);break;case 92:D+=Glt(cM()-1,7);continue;case 47:switch(Jf()){case 42:case 47:lA(Xlt($lt(Yl(),cM()),e,n),u);break;default:D+="/"}break;case 123*S:l[c++]=Bf(D)*x;case 125*S:case 59:case 0:switch(A){case 0:case 125:E=0;case 59+h:x==-1&&(D=Ni(D,/\f/g,"")),v>0&&Bf(D)-p&&lA(v>32?nF(D+";",r,n,p-1):nF(Ni(D," ","")+";",r,n,p-2),u);break;case 59:D+=";";default:if(lA(k=eF(D,e,n,c,h,s,l,C,M=[],P=[],p),a),A===123)if(h===0)hM(D,e,k,k,M,a,p,l,P);else switch(g===99&&va(D,3)===110?100:g){case 100:case 108:case 109:case 115:hM(i,k,k,r&&lA(eF(i,k,k,0,0,s,l,C,s,M=[],p),P),s,P,p,l,r?M:P);break;default:hM(D,k,k,k,[""],P,0,l,P)}}c=h=v=0,S=x=1,C=D="",p=o;break;case 58:p=1+Bf(D),v=b;default:if(S<1){if(A==123)--S;else if(A==125&&S++==0&&Hlt()==125)continue}switch(D+=ER(A),A*S){case 38:x=h>0?1:(D+="\f",-1);break;case 44:l[c++]=(Bf(D)-1)*x,x=1;break;case 64:Jf()===45&&(D+=fM(Yl())),g=Jf(),h=p=Bf(C=D+=qlt(cM())),A++;break;case 45:b===45&&Bf(D)==2&&(S=0)}}return a}function eF(i,e,n,r,s,a,o,l,u,c,h){for(var p=s-1,g=s===0?a:[""],v=PU(g),b=0,S=0,E=0;b<r;++b)for(var x=0,A=kS(i,p+1,p=Ult(S=o[b])),C=i;x<v;++x)(C=IG(S>0?g[x]+" "+A:Ni(A,/&\f/g,g[x])))&&(u[E++]=C);return wR(i,e,n,s===0?RU:l,u,c,h)}function Xlt(i,e,n){return wR(i,e,n,OG,ER(Vlt()),kS(i,2,-2),0)}function nF(i,e,n,r){return wR(i,e,n,OU,kS(i,0,r),kS(i,r+1,-1),r)}function m_(i,e){for(var n="",r=PU(i),s=0;s<r;s++)n+=e(i[s],s,i,e)||"";return n}function Ylt(i,e,n,r){switch(i.type){case Llt:if(i.children.length)break;case Nlt:case OU:return i.return=i.return||i.value;case OG:return"";case PG:return i.return=i.value+"{"+m_(i.children,r)+"}";case RU:i.value=i.props.join(",")}return Bf(n=m_(i.children,r))?i.return=i.value+"{"+n+"}":""}function Klt(i){var e=PU(i);return function(n,r,s,a){for(var o="",l=0;l<e;l++)o+=i[l](n,r,s,a)||"";return o}}function Zlt(i){return function(e){e.root||(e=e.return)&&i(e)}}function UG(i){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=i(n)),e[n]}}var Qlt=function(e,n,r){for(var s=0,a=0;s=a,a=Jf(),s===38&&a===12&&(n[r]=1),!zS(a);)Yl();return ME(e,vl)},Jlt=function(e,n){var r=-1,s=44;do switch(zS(s)){case 0:s===38&&Jf()===12&&(n[r]=1),e[r]+=Qlt(vl-1,n,r);break;case 2:e[r]+=fM(s);break;case 4:if(s===44){e[++r]=Jf()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=ER(s)}while(s=Yl());return e},tut=function(e,n){return LG(Jlt(NG(e),n))},iF=new WeakMap,eut=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,s=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!iF.get(r))&&!s){iF.set(e,!0);for(var a=[],o=tut(n,a),l=r.props,u=0,c=0;u<o.length;u++)for(var h=0;h<l.length;h++,c++)e.props[c]=a[u]?o[u].replace(/&\f/g,l[h]):l[h]+" "+o[u]}}},nut=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function kG(i,e){switch(zlt(i,e)){case 5103:return Di+"print-"+i+i;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Di+i+i;case 5349:case 4246:case 4810:case 6968:case 2756:return Di+i+PC+i+ja+i+i;case 6828:case 4268:return Di+i+ja+i+i;case 6165:return Di+i+ja+"flex-"+i+i;case 5187:return Di+i+Ni(i,/(\w+).+(:[^]+)/,Di+"box-$1$2"+ja+"flex-$1$2")+i;case 5443:return Di+i+ja+"flex-item-"+Ni(i,/flex-|-self/,"")+i;case 4675:return Di+i+ja+"flex-line-pack"+Ni(i,/align-content|flex-|-self/,"")+i;case 5548:return Di+i+ja+Ni(i,"shrink","negative")+i;case 5292:return Di+i+ja+Ni(i,"basis","preferred-size")+i;case 6060:return Di+"box-"+Ni(i,"-grow","")+Di+i+ja+Ni(i,"grow","positive")+i;case 4554:return Di+Ni(i,/([^-])(transform)/g,"$1"+Di+"$2")+i;case 6187:return Ni(Ni(Ni(i,/(zoom-|grab)/,Di+"$1"),/(image-set)/,Di+"$1"),i,"")+i;case 5495:case 3959:return Ni(i,/(image-set\([^]*)/,Di+"$1$`$1");case 4968:return Ni(Ni(i,/(.+:)(flex-)?(.*)/,Di+"box-pack:$3"+ja+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Di+i+i;case 4095:case 3583:case 4068:case 2532:return Ni(i,/(.+)-inline(.+)/,Di+"$1$2")+i;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Bf(i)-1-e>6)switch(va(i,e+1)){case 109:if(va(i,e+4)!==45)break;case 102:return Ni(i,/(.+:)(.+)-([^]+)/,"$1"+Di+"$2-$3$1"+PC+(va(i,e+3)==108?"$3":"$2-$3"))+i;case 115:return~C3(i,"stretch")?kG(Ni(i,"stretch","fill-available"),e)+i:i}break;case 4949:if(va(i,e+1)!==115)break;case 6444:switch(va(i,Bf(i)-3-(~C3(i,"!important")&&10))){case 107:return Ni(i,":",":"+Di)+i;case 101:return Ni(i,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Di+(va(i,14)===45?"inline-":"")+"box$3$1"+Di+"$2$3$1"+ja+"$2box$3")+i}break;case 5936:switch(va(i,e+11)){case 114:return Di+i+ja+Ni(i,/[svh]\w+-[tblr]{2}/,"tb")+i;case 108:return Di+i+ja+Ni(i,/[svh]\w+-[tblr]{2}/,"tb-rl")+i;case 45:return Di+i+ja+Ni(i,/[svh]\w+-[tblr]{2}/,"lr")+i}return Di+i+ja+i+i}return i}var iut=function(e,n,r,s){if(e.length>-1&&!e.return)switch(e.type){case OU:e.return=kG(e.value,e.length);break;case PG:return m_([Kx(e,{value:Ni(e.value,"@","@"+Di)})],s);case RU:if(e.length)return Flt(e.props,function(a){switch(Blt(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return m_([Kx(e,{props:[Ni(a,/:(read-\w+)/,":"+PC+"$1")]})],s);case"::placeholder":return m_([Kx(e,{props:[Ni(a,/:(plac\w+)/,":"+Di+"input-$1")]}),Kx(e,{props:[Ni(a,/:(plac\w+)/,":"+PC+"$1")]}),Kx(e,{props:[Ni(a,/:(plac\w+)/,ja+"input-$1")]})],s)}return""})}},rut=[iut],sut=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(S){var E=S.getAttribute("data-emotion");E.indexOf(" ")!==-1&&(document.head.appendChild(S),S.setAttribute("data-s",""))})}var s=e.stylisPlugins||rut,a={},o,l=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(S){for(var E=S.getAttribute("data-emotion").split(" "),x=1;x<E.length;x++)a[E[x]]=!0;l.push(S)});var u,c=[eut,nut];{var h,p=[Ylt,Zlt(function(S){h.insert(S)})],g=Klt(c.concat(s,p)),v=function(E){return m_(Wlt(E),g)};u=function(E,x,A,C){h=A,v(E?E+"{"+x.styles+"}":x.styles),C&&(b.inserted[x.name]=!0)}}var b={key:n,sheet:new Dlt({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:u};return b.sheet.hydrate(l),b},NI={exports:{}},Bi={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rF;function aut(){if(rF)return Bi;rF=1;var i=typeof Symbol=="function"&&Symbol.for,e=i?Symbol.for("react.element"):60103,n=i?Symbol.for("react.portal"):60106,r=i?Symbol.for("react.fragment"):60107,s=i?Symbol.for("react.strict_mode"):60108,a=i?Symbol.for("react.profiler"):60114,o=i?Symbol.for("react.provider"):60109,l=i?Symbol.for("react.context"):60110,u=i?Symbol.for("react.async_mode"):60111,c=i?Symbol.for("react.concurrent_mode"):60111,h=i?Symbol.for("react.forward_ref"):60112,p=i?Symbol.for("react.suspense"):60113,g=i?Symbol.for("react.suspense_list"):60120,v=i?Symbol.for("react.memo"):60115,b=i?Symbol.for("react.lazy"):60116,S=i?Symbol.for("react.block"):60121,E=i?Symbol.for("react.fundamental"):60117,x=i?Symbol.for("react.responder"):60118,A=i?Symbol.for("react.scope"):60119;function C(P){if(typeof P=="object"&&P!==null){var k=P.$$typeof;switch(k){case e:switch(P=P.type,P){case u:case c:case r:case a:case s:case p:return P;default:switch(P=P&&P.$$typeof,P){case l:case h:case b:case v:case o:return P;default:return k}}case n:return k}}}function M(P){return C(P)===c}return Bi.AsyncMode=u,Bi.ConcurrentMode=c,Bi.ContextConsumer=l,Bi.ContextProvider=o,Bi.Element=e,Bi.ForwardRef=h,Bi.Fragment=r,Bi.Lazy=b,Bi.Memo=v,Bi.Portal=n,Bi.Profiler=a,Bi.StrictMode=s,Bi.Suspense=p,Bi.isAsyncMode=function(P){return M(P)||C(P)===u},Bi.isConcurrentMode=M,Bi.isContextConsumer=function(P){return C(P)===l},Bi.isContextProvider=function(P){return C(P)===o},Bi.isElement=function(P){return typeof P=="object"&&P!==null&&P.$$typeof===e},Bi.isForwardRef=function(P){return C(P)===h},Bi.isFragment=function(P){return C(P)===r},Bi.isLazy=function(P){return C(P)===b},Bi.isMemo=function(P){return C(P)===v},Bi.isPortal=function(P){return C(P)===n},Bi.isProfiler=function(P){return C(P)===a},Bi.isStrictMode=function(P){return C(P)===s},Bi.isSuspense=function(P){return C(P)===p},Bi.isValidElementType=function(P){return typeof P=="string"||typeof P=="function"||P===r||P===c||P===a||P===s||P===p||P===g||typeof P=="object"&&P!==null&&(P.$$typeof===b||P.$$typeof===v||P.$$typeof===o||P.$$typeof===l||P.$$typeof===h||P.$$typeof===E||P.$$typeof===x||P.$$typeof===A||P.$$typeof===S)},Bi.typeOf=C,Bi}var sF;function out(){return sF||(sF=1,NI.exports=aut()),NI.exports}var LI,aF;function lut(){if(aF)return LI;aF=1;var i=out(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};a[i.ForwardRef]=r,a[i.Memo]=s;function o(b){return i.isMemo(b)?s:a[b.$$typeof]||e}var l=Object.defineProperty,u=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,g=Object.prototype;function v(b,S,E){if(typeof S!="string"){if(g){var x=p(S);x&&x!==g&&v(b,x,E)}var A=u(S);c&&(A=A.concat(c(S)));for(var C=o(b),M=o(S),P=0;P<A.length;++P){var k=A[P];if(!n[k]&&!(E&&E[k])&&!(M&&M[k])&&!(C&&C[k])){var D=h(S,k);try{l(b,k,D)}catch{}}}}return b}return LI=v,LI}lut();var uut=!0;function zG(i,e,n){var r="";return n.split(" ").forEach(function(s){i[s]!==void 0?e.push(i[s]+";"):s&&(r+=s+" ")}),r}var IU=function(e,n,r){var s=e.key+"-"+n.name;(r===!1||uut===!1)&&e.registered[s]===void 0&&(e.registered[s]=n.styles)},DU=function(e,n,r){IU(e,n,r);var s=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var a=n;do e.insert(n===a?"."+s:"",a,e.sheet,!0),a=a.next;while(a!==void 0)}};function cut(i){for(var e=0,n,r=0,s=i.length;s>=4;++r,s-=4)n=i.charCodeAt(r)&255|(i.charCodeAt(++r)&255)<<8|(i.charCodeAt(++r)&255)<<16|(i.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(i.charCodeAt(r+2)&255)<<16;case 2:e^=(i.charCodeAt(r+1)&255)<<8;case 1:e^=i.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var fut={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hut=/[A-Z]|^ms/g,dut=/_EMO_([^_]+?)_([^]*?)_EMO_/g,BG=function(e){return e.charCodeAt(1)===45},oF=function(e){return e!=null&&typeof e!="boolean"},UI=UG(function(i){return BG(i)?i:i.replace(hut,"-$&").toLowerCase()}),lF=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(dut,function(r,s,a){return Ff={name:s,styles:a,next:Ff},s})}return fut[e]!==1&&!BG(e)&&typeof n=="number"&&n!==0?n+"px":n};function BS(i,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var s=n;if(s.anim===1)return Ff={name:s.name,styles:s.styles,next:Ff},s.name;var a=n;if(a.styles!==void 0){var o=a.next;if(o!==void 0)for(;o!==void 0;)Ff={name:o.name,styles:o.styles,next:Ff},o=o.next;var l=a.styles+";";return l}return put(i,e,n)}case"function":{if(i!==void 0){var u=Ff,c=n(i);return Ff=u,BS(i,e,c)}break}}var h=n;if(e==null)return h;var p=e[h];return p!==void 0?p:h}function put(i,e,n){var r="";if(Array.isArray(n))for(var s=0;s<n.length;s++)r+=BS(i,e,n[s])+";";else for(var a in n){var o=n[a];if(typeof o!="object"){var l=o;e!=null&&e[l]!==void 0?r+=a+"{"+e[l]+"}":oF(l)&&(r+=UI(a)+":"+lF(a,l)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var u=0;u<o.length;u++)oF(o[u])&&(r+=UI(a)+":"+lF(a,o[u])+";");else{var c=BS(i,e,o);switch(a){case"animation":case"animationName":{r+=UI(a)+":"+c+";";break}default:r+=a+"{"+c+"}"}}}return r}var uF=/label:\s*([^\s;{]+)\s*(;|$)/g,Ff;function CE(i,e,n){if(i.length===1&&typeof i[0]=="object"&&i[0]!==null&&i[0].styles!==void 0)return i[0];var r=!0,s="";Ff=void 0;var a=i[0];if(a==null||a.raw===void 0)r=!1,s+=BS(n,e,a);else{var o=a;s+=o[0]}for(var l=1;l<i.length;l++)if(s+=BS(n,e,i[l]),r){var u=a;s+=u[l]}uF.lastIndex=0;for(var c="",h;(h=uF.exec(s))!==null;)c+="-"+h[1];var p=cut(s)+c;return{name:p,styles:s,next:Ff}}var mut=function(e){return e()},FG=s3.useInsertionEffect?s3.useInsertionEffect:!1,VG=FG||mut,cF=FG||Q.useLayoutEffect,HG=Q.createContext(typeof HTMLElement<"u"?sut({key:"css"}):null);HG.Provider;var NU=function(e){return Q.forwardRef(function(n,r){var s=Q.useContext(HG);return e(n,s,r)})},AR=Q.createContext({}),LU={}.hasOwnProperty,O3="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",gut=function(e,n){var r={};for(var s in n)LU.call(n,s)&&(r[s]=n[s]);return r[O3]=e,r},yut=function(e){var n=e.cache,r=e.serialized,s=e.isStringTag;return IU(n,r,s),VG(function(){return DU(n,r,s)}),null},vut=NU(function(i,e,n){var r=i.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var s=i[O3],a=[r],o="";typeof i.className=="string"?o=zG(e.registered,a,i.className):i.className!=null&&(o=i.className+" ");var l=CE(a,void 0,Q.useContext(AR));o+=e.key+"-"+l.name;var u={};for(var c in i)LU.call(i,c)&&c!=="css"&&c!==O3&&(u[c]=i[c]);return u.className=o,n&&(u.ref=n),Q.createElement(Q.Fragment,null,Q.createElement(yut,{cache:e,serialized:l,isStringTag:typeof s=="string"}),Q.createElement(s,u))}),_ut=vut,fF=function(e,n){var r=arguments;if(n==null||!LU.call(n,"css"))return Q.createElement.apply(void 0,r);var s=r.length,a=new Array(s);a[0]=_ut,a[1]=gut(e,n);for(var o=2;o<s;o++)a[o]=r[o];return Q.createElement.apply(null,a)};(function(i){var e;e||(e=i.JSX||(i.JSX={}))})(fF||(fF={}));var but=NU(function(i,e){var n=i.styles,r=CE([n],void 0,Q.useContext(AR)),s=Q.useRef();return cF(function(){var a=e.key+"-global",o=new e.sheet.constructor({key:a,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),l=!1,u=document.querySelector('style[data-emotion="'+a+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),u!==null&&(l=!0,u.setAttribute("data-emotion",a),o.hydrate([u])),s.current=[o,l],function(){o.flush()}},[e]),cF(function(){var a=s.current,o=a[0],l=a[1];if(l){a[1]=!1;return}if(r.next!==void 0&&DU(e,r.next,!0),o.tags.length){var u=o.tags[o.tags.length-1].nextElementSibling;o.before=u,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function gb(){for(var i=arguments.length,e=new Array(i),n=0;n<i;n++)e[n]=arguments[n];return CE(e)}function zm(){var i=gb.apply(void 0,arguments),e="animation-"+i.name;return{name:e,styles:"@keyframes "+e+"{"+i.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var xut=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Sut=UG(function(i){return xut.test(i)||i.charCodeAt(0)===111&&i.charCodeAt(1)===110&&i.charCodeAt(2)<91}),Eut=Sut,Tut=function(e){return e!=="theme"},hF=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?Eut:Tut},dF=function(e,n,r){var s;if(n){var a=n.shouldForwardProp;s=e.__emotion_forwardProp&&a?function(o){return e.__emotion_forwardProp(o)&&a(o)}:a}return typeof s!="function"&&r&&(s=e.__emotion_forwardProp),s},wut=function(e){var n=e.cache,r=e.serialized,s=e.isStringTag;return IU(n,r,s),VG(function(){return DU(n,r,s)}),null},Aut=function i(e,n){var r=e.__emotion_real===e,s=r&&e.__emotion_base||e,a,o;n!==void 0&&(a=n.label,o=n.target);var l=dF(e,n,r),u=l||hF(s),c=!u("as");return function(){var h=arguments,p=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(a!==void 0&&p.push("label:"+a+";"),h[0]==null||h[0].raw===void 0)p.push.apply(p,h);else{var g=h[0];p.push(g[0]);for(var v=h.length,b=1;b<v;b++)p.push(h[b],g[b])}var S=NU(function(E,x,A){var C=c&&E.as||s,M="",P=[],k=E;if(E.theme==null){k={};for(var D in E)k[D]=E[D];k.theme=Q.useContext(AR)}typeof E.className=="string"?M=zG(x.registered,P,E.className):E.className!=null&&(M=E.className+" ");var N=CE(p.concat(P),x.registered,k);M+=x.key+"-"+N.name,o!==void 0&&(M+=" "+o);var U=c&&l===void 0?hF(C):u,R={};for(var B in E)c&&B==="as"||U(B)&&(R[B]=E[B]);return R.className=M,A&&(R.ref=A),Q.createElement(Q.Fragment,null,Q.createElement(wut,{cache:x,serialized:N,isStringTag:typeof C=="string"}),Q.createElement(C,R))});return S.displayName=a!==void 0?a:"Styled("+(typeof s=="string"?s:s.displayName||s.name||"Component")+")",S.defaultProps=e.defaultProps,S.__emotion_real=S,S.__emotion_base=s,S.__emotion_styles=p,S.__emotion_forwardProp=l,Object.defineProperty(S,"toString",{value:function(){return"."+o}}),S.withComponent=function(E,x){var A=i(E,LS({},n,x,{shouldForwardProp:dF(S,x,!0)}));return A.apply(void 0,p)},S}},Mut=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],P3=Aut.bind(null);Mut.forEach(function(i){P3[i]=P3(i)});var kI={exports:{}},zI,pF;function Cut(){if(pF)return zI;pF=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return zI=i,zI}var BI,mF;function Rut(){if(mF)return BI;mF=1;var i=Cut();function e(){}function n(){}return n.resetWarningCache=e,BI=function(){function r(o,l,u,c,h,p){if(p!==i){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function s(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},BI}var gF;function Out(){return gF||(gF=1,kI.exports=Rut()()),kI.exports}var Put=Out();const Mt=hh(Put);function Iut(i){return i==null||Object.keys(i).length===0}function Dut(i){const{styles:e,defaultTheme:n={}}=i,r=typeof e=="function"?s=>e(Iut(s)?n:s):e;return W.jsx(but,{styles:r})}/**
 * @mui/styled-engine v6.4.11
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function jG(i,e){return P3(i,e)}function Nut(i,e){Array.isArray(i.__emotion_styles)&&(i.__emotion_styles=e(i.__emotion_styles))}const yF=[];function vF(i){return yF[0]=i,CE(yF)}var FI={exports:{}},tr={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _F;function Lut(){if(_F)return tr;_F=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),c=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),v=Symbol.for("react.client.reference");function b(S){if(typeof S=="object"&&S!==null){var E=S.$$typeof;switch(E){case i:switch(S=S.type,S){case n:case s:case r:case u:case c:case g:return S;default:switch(S=S&&S.$$typeof,S){case o:case l:case p:case h:return S;case a:return S;default:return E}}case e:return E}}}return tr.ContextConsumer=a,tr.ContextProvider=o,tr.Element=i,tr.ForwardRef=l,tr.Fragment=n,tr.Lazy=p,tr.Memo=h,tr.Portal=e,tr.Profiler=s,tr.StrictMode=r,tr.Suspense=u,tr.SuspenseList=c,tr.isContextConsumer=function(S){return b(S)===a},tr.isContextProvider=function(S){return b(S)===o},tr.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===i},tr.isForwardRef=function(S){return b(S)===l},tr.isFragment=function(S){return b(S)===n},tr.isLazy=function(S){return b(S)===p},tr.isMemo=function(S){return b(S)===h},tr.isPortal=function(S){return b(S)===e},tr.isProfiler=function(S){return b(S)===s},tr.isStrictMode=function(S){return b(S)===r},tr.isSuspense=function(S){return b(S)===u},tr.isSuspenseList=function(S){return b(S)===c},tr.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===n||S===s||S===r||S===u||S===c||typeof S=="object"&&S!==null&&(S.$$typeof===p||S.$$typeof===h||S.$$typeof===o||S.$$typeof===a||S.$$typeof===l||S.$$typeof===v||S.getModuleId!==void 0)},tr.typeOf=b,tr}var bF;function Uut(){return bF||(bF=1,FI.exports=Lut()),FI.exports}var GG=Uut();function Hf(i){if(typeof i!="object"||i===null)return!1;const e=Object.getPrototypeOf(i);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)}function $G(i){if(Q.isValidElement(i)||GG.isValidElementType(i)||!Hf(i))return i;const e={};return Object.keys(i).forEach(n=>{e[n]=$G(i[n])}),e}function na(i,e,n={clone:!0}){const r=n.clone?{...i}:i;return Hf(i)&&Hf(e)&&Object.keys(e).forEach(s=>{Q.isValidElement(e[s])||GG.isValidElementType(e[s])?r[s]=e[s]:Hf(e[s])&&Object.prototype.hasOwnProperty.call(i,s)&&Hf(i[s])?r[s]=na(i[s],e[s],n):n.clone?r[s]=Hf(e[s])?$G(e[s]):e[s]:r[s]=e[s]}),r}const kut=i=>{const e=Object.keys(i).map(n=>({key:n,val:i[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function zut(i){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...s}=i,a=kut(e),o=Object.keys(a);function l(g){return`@media (min-width:${typeof e[g]=="number"?e[g]:g}${n})`}function u(g){return`@media (max-width:${(typeof e[g]=="number"?e[g]:g)-r/100}${n})`}function c(g,v){const b=o.indexOf(v);return`@media (min-width:${typeof e[g]=="number"?e[g]:g}${n}) and (max-width:${(b!==-1&&typeof e[o[b]]=="number"?e[o[b]]:v)-r/100}${n})`}function h(g){return o.indexOf(g)+1<o.length?c(g,o[o.indexOf(g)+1]):l(g)}function p(g){const v=o.indexOf(g);return v===0?l(o[1]):v===o.length-1?u(o[v]):c(g,o[o.indexOf(g)+1]).replace("@media","@media not all and")}return{keys:o,values:a,up:l,down:u,between:c,only:h,not:p,unit:n,...s}}function But(i,e){if(!i.containerQueries)return e;const n=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,s)=>{var o,l;const a=/min-width:\s*([0-9.]+)/;return+(((o=r.match(a))==null?void 0:o[1])||0)-+(((l=s.match(a))==null?void 0:l[1])||0)});return n.length?n.reduce((r,s)=>{const a=e[s];return delete r[s],r[s]=a,r},{...e}):e}function Fut(i,e){return e==="@"||e.startsWith("@")&&(i.some(n=>e.startsWith(`@${n}`))||!!e.match(/^@\d/))}function Vut(i,e){const n=e.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,s]=n,a=Number.isNaN(+r)?r||0:+r;return i.containerQueries(s).up(a)}function Hut(i){const e=(a,o)=>a.replace("@media",o?`@container ${o}`:"@container");function n(a,o){a.up=(...l)=>e(i.breakpoints.up(...l),o),a.down=(...l)=>e(i.breakpoints.down(...l),o),a.between=(...l)=>e(i.breakpoints.between(...l),o),a.only=(...l)=>e(i.breakpoints.only(...l),o),a.not=(...l)=>{const u=e(i.breakpoints.not(...l),o);return u.includes("not all and")?u.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):u}}const r={},s=a=>(n(r,a),r);return n(s),{...i,containerQueries:s}}const jut={borderRadius:4};function K1(i,e){return e?na(i,e,{clone:!1}):i}const MR={xs:0,sm:600,md:900,lg:1200,xl:1536},xF={keys:["xs","sm","md","lg","xl"],up:i=>`@media (min-width:${MR[i]}px)`},Gut={containerQueries:i=>({up:e=>{let n=typeof e=="number"?e:MR[e]||e;return typeof n=="number"&&(n=`${n}px`),i?`@container ${i} (min-width:${n})`:`@container (min-width:${n})`}})};function Uc(i,e,n){const r=i.theme||{};if(Array.isArray(e)){const a=r.breakpoints||xF;return e.reduce((o,l,u)=>(o[a.up(a.keys[u])]=n(e[u]),o),{})}if(typeof e=="object"){const a=r.breakpoints||xF;return Object.keys(e).reduce((o,l)=>{if(Fut(a.keys,l)){const u=Vut(r.containerQueries?r:Gut,l);u&&(o[u]=n(e[l],l))}else if(Object.keys(a.values||MR).includes(l)){const u=a.up(l);o[u]=n(e[l],l)}else{const u=l;o[u]=e[u]}return o},{})}return n(e)}function qG(i={}){var n;return((n=i.keys)==null?void 0:n.reduce((r,s)=>{const a=i.up(s);return r[a]={},r},{}))||{}}function WG(i,e){return i.reduce((n,r)=>{const s=n[r];return(!s||Object.keys(s).length===0)&&delete n[r],n},e)}function $ut(i,...e){const n=qG(i),r=[n,...e].reduce((s,a)=>na(s,a),{});return WG(Object.keys(n),r)}function qut(i,e){if(typeof i!="object")return{};const n={},r=Object.keys(e);return Array.isArray(i)?r.forEach((s,a)=>{a<i.length&&(n[s]=!0)}):r.forEach(s=>{i[s]!=null&&(n[s]=!0)}),n}function VI({values:i,breakpoints:e,base:n}){const r=n||qut(i,e),s=Object.keys(r);if(s.length===0)return i;let a;return s.reduce((o,l,u)=>(Array.isArray(i)?(o[l]=i[u]!=null?i[u]:i[a],a=u):typeof i=="object"?(o[l]=i[l]!=null?i[l]:i[a],a=l):o[l]=i,o),{})}function De(i){if(typeof i!="string")throw new Error(Nd(7));return i.charAt(0).toUpperCase()+i.slice(1)}function CR(i,e,n=!0){if(!e||typeof e!="string")return null;if(i&&i.vars&&n){const r=`vars.${e}`.split(".").reduce((s,a)=>s&&s[a]?s[a]:null,i);if(r!=null)return r}return e.split(".").reduce((r,s)=>r&&r[s]!=null?r[s]:null,i)}function IC(i,e,n,r=n){let s;return typeof i=="function"?s=i(n):Array.isArray(i)?s=i[n]||r:s=CR(i,n)||r,e&&(s=e(s,r,i)),s}function vs(i){const{prop:e,cssProperty:n=i.prop,themeKey:r,transform:s}=i,a=o=>{if(o[e]==null)return null;const l=o[e],u=o.theme,c=CR(u,r)||{};return Uc(o,l,p=>{let g=IC(c,s,p);return p===g&&typeof p=="string"&&(g=IC(c,s,`${e}${p==="default"?"":De(p)}`,p)),n===!1?g:{[n]:g}})};return a.propTypes={},a.filterProps=[e],a}function Wut(i){const e={};return n=>(e[n]===void 0&&(e[n]=i(n)),e[n])}const Xut={m:"margin",p:"padding"},Yut={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},SF={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Kut=Wut(i=>{if(i.length>2)if(SF[i])i=SF[i];else return[i];const[e,n]=i.split(""),r=Xut[e],s=Yut[n]||"";return Array.isArray(s)?s.map(a=>r+a):[r+s]}),UU=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],kU=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...UU,...kU];function RE(i,e,n,r){const s=CR(i,e,!0)??n;return typeof s=="number"||typeof s=="string"?a=>typeof a=="string"?a:typeof s=="string"?`calc(${a} * ${s})`:s*a:Array.isArray(s)?a=>{if(typeof a=="string")return a;const o=Math.abs(a),l=s[o];return a>=0?l:typeof l=="number"?-l:`-${l}`}:typeof s=="function"?s:()=>{}}function RR(i){return RE(i,"spacing",8)}function jy(i,e){return typeof e=="string"||e==null?e:i(e)}function Zut(i,e){return n=>i.reduce((r,s)=>(r[s]=jy(e,n),r),{})}function Qut(i,e,n,r){if(!e.includes(n))return null;const s=Kut(n),a=Zut(s,r),o=i[n];return Uc(i,o,a)}function XG(i,e){const n=RR(i.theme);return Object.keys(i).map(r=>Qut(i,e,r,n)).reduce(K1,{})}function es(i){return XG(i,UU)}es.propTypes={};es.filterProps=UU;function ns(i){return XG(i,kU)}ns.propTypes={};ns.filterProps=kU;function YG(i=8,e=RR({spacing:i})){if(i.mui)return i;const n=(...r)=>(r.length===0?[1]:r).map(a=>{const o=e(a);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function OR(...i){const e=i.reduce((r,s)=>(s.filterProps.forEach(a=>{r[a]=s}),r),{}),n=r=>Object.keys(r).reduce((s,a)=>e[a]?K1(s,e[a](r)):s,{});return n.propTypes={},n.filterProps=i.reduce((r,s)=>r.concat(s.filterProps),[]),n}function Pu(i){return typeof i!="number"?i:`${i}px solid`}function Gu(i,e){return vs({prop:i,themeKey:"borders",transform:e})}const Jut=Gu("border",Pu),tct=Gu("borderTop",Pu),ect=Gu("borderRight",Pu),nct=Gu("borderBottom",Pu),ict=Gu("borderLeft",Pu),rct=Gu("borderColor"),sct=Gu("borderTopColor"),act=Gu("borderRightColor"),oct=Gu("borderBottomColor"),lct=Gu("borderLeftColor"),uct=Gu("outline",Pu),cct=Gu("outlineColor"),PR=i=>{if(i.borderRadius!==void 0&&i.borderRadius!==null){const e=RE(i.theme,"shape.borderRadius",4),n=r=>({borderRadius:jy(e,r)});return Uc(i,i.borderRadius,n)}return null};PR.propTypes={};PR.filterProps=["borderRadius"];OR(Jut,tct,ect,nct,ict,rct,sct,act,oct,lct,PR,uct,cct);const IR=i=>{if(i.gap!==void 0&&i.gap!==null){const e=RE(i.theme,"spacing",8),n=r=>({gap:jy(e,r)});return Uc(i,i.gap,n)}return null};IR.propTypes={};IR.filterProps=["gap"];const DR=i=>{if(i.columnGap!==void 0&&i.columnGap!==null){const e=RE(i.theme,"spacing",8),n=r=>({columnGap:jy(e,r)});return Uc(i,i.columnGap,n)}return null};DR.propTypes={};DR.filterProps=["columnGap"];const NR=i=>{if(i.rowGap!==void 0&&i.rowGap!==null){const e=RE(i.theme,"spacing",8),n=r=>({rowGap:jy(e,r)});return Uc(i,i.rowGap,n)}return null};NR.propTypes={};NR.filterProps=["rowGap"];const fct=vs({prop:"gridColumn"}),hct=vs({prop:"gridRow"}),dct=vs({prop:"gridAutoFlow"}),pct=vs({prop:"gridAutoColumns"}),mct=vs({prop:"gridAutoRows"}),gct=vs({prop:"gridTemplateColumns"}),yct=vs({prop:"gridTemplateRows"}),vct=vs({prop:"gridTemplateAreas"}),_ct=vs({prop:"gridArea"});OR(IR,DR,NR,fct,hct,dct,pct,mct,gct,yct,vct,_ct);function g_(i,e){return e==="grey"?e:i}const bct=vs({prop:"color",themeKey:"palette",transform:g_}),xct=vs({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:g_}),Sct=vs({prop:"backgroundColor",themeKey:"palette",transform:g_});OR(bct,xct,Sct);function $l(i){return i<=1&&i!==0?`${i*100}%`:i}const Ect=vs({prop:"width",transform:$l}),zU=i=>{if(i.maxWidth!==void 0&&i.maxWidth!==null){const e=n=>{var s,a,o,l,u;const r=((o=(a=(s=i.theme)==null?void 0:s.breakpoints)==null?void 0:a.values)==null?void 0:o[n])||MR[n];return r?((u=(l=i.theme)==null?void 0:l.breakpoints)==null?void 0:u.unit)!=="px"?{maxWidth:`${r}${i.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:$l(n)}};return Uc(i,i.maxWidth,e)}return null};zU.filterProps=["maxWidth"];const Tct=vs({prop:"minWidth",transform:$l}),wct=vs({prop:"height",transform:$l}),Act=vs({prop:"maxHeight",transform:$l}),Mct=vs({prop:"minHeight",transform:$l});vs({prop:"size",cssProperty:"width",transform:$l});vs({prop:"size",cssProperty:"height",transform:$l});const Cct=vs({prop:"boxSizing"});OR(Ect,zU,Tct,wct,Act,Mct,Cct);const OE={border:{themeKey:"borders",transform:Pu},borderTop:{themeKey:"borders",transform:Pu},borderRight:{themeKey:"borders",transform:Pu},borderBottom:{themeKey:"borders",transform:Pu},borderLeft:{themeKey:"borders",transform:Pu},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Pu},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:PR},color:{themeKey:"palette",transform:g_},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:g_},backgroundColor:{themeKey:"palette",transform:g_},p:{style:ns},pt:{style:ns},pr:{style:ns},pb:{style:ns},pl:{style:ns},px:{style:ns},py:{style:ns},padding:{style:ns},paddingTop:{style:ns},paddingRight:{style:ns},paddingBottom:{style:ns},paddingLeft:{style:ns},paddingX:{style:ns},paddingY:{style:ns},paddingInline:{style:ns},paddingInlineStart:{style:ns},paddingInlineEnd:{style:ns},paddingBlock:{style:ns},paddingBlockStart:{style:ns},paddingBlockEnd:{style:ns},m:{style:es},mt:{style:es},mr:{style:es},mb:{style:es},ml:{style:es},mx:{style:es},my:{style:es},margin:{style:es},marginTop:{style:es},marginRight:{style:es},marginBottom:{style:es},marginLeft:{style:es},marginX:{style:es},marginY:{style:es},marginInline:{style:es},marginInlineStart:{style:es},marginInlineEnd:{style:es},marginBlock:{style:es},marginBlockStart:{style:es},marginBlockEnd:{style:es},displayPrint:{cssProperty:!1,transform:i=>({"@media print":{display:i}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:IR},rowGap:{style:NR},columnGap:{style:DR},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:$l},maxWidth:{style:zU},minWidth:{transform:$l},height:{transform:$l},maxHeight:{transform:$l},minHeight:{transform:$l},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function Rct(...i){const e=i.reduce((r,s)=>r.concat(Object.keys(s)),[]),n=new Set(e);return i.every(r=>n.size===Object.keys(r).length)}function Oct(i,e){return typeof i=="function"?i(e):i}function Pct(){function i(n,r,s,a){const o={[n]:r,theme:s},l=a[n];if(!l)return{[n]:r};const{cssProperty:u=n,themeKey:c,transform:h,style:p}=l;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const g=CR(s,c)||{};return p?p(o):Uc(o,r,b=>{let S=IC(g,h,b);return b===S&&typeof b=="string"&&(S=IC(g,h,`${n}${b==="default"?"":De(b)}`,b)),u===!1?S:{[u]:S}})}function e(n){const{sx:r,theme:s={}}=n||{};if(!r)return null;const a=s.unstable_sxConfig??OE;function o(l){let u=l;if(typeof l=="function")u=l(s);else if(typeof l!="object")return l;if(!u)return null;const c=qG(s.breakpoints),h=Object.keys(c);let p=c;return Object.keys(u).forEach(g=>{const v=Oct(u[g],s);if(v!=null)if(typeof v=="object")if(a[g])p=K1(p,i(g,v,s,a));else{const b=Uc({theme:s},v,S=>({[g]:S}));Rct(b,v)?p[g]=e({sx:v,theme:s}):p=K1(p,b)}else p=K1(p,i(g,v,s,a))}),But(s,WG(h,p))}return Array.isArray(r)?r.map(o):o(r)}return e}const Gy=Pct();Gy.filterProps=["sx"];function Ict(i,e){var r;const n=this;if(n.vars){if(!((r=n.colorSchemes)!=null&&r[i])||typeof n.getColorSchemeSelector!="function")return{};let s=n.getColorSchemeSelector(i);return s==="&"?e:((s.includes("data-")||s.includes("."))&&(s=`*:where(${s.replace(/\s*&$/,"")}) &`),{[s]:e})}return n.palette.mode===i?e:{}}function PE(i={},...e){const{breakpoints:n={},palette:r={},spacing:s,shape:a={},...o}=i,l=zut(n),u=YG(s);let c=na({breakpoints:l,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:u,shape:{...jut,...a}},o);return c=Hut(c),c.applyStyles=Ict,c=e.reduce((h,p)=>na(h,p),c),c.unstable_sxConfig={...OE,...o==null?void 0:o.unstable_sxConfig},c.unstable_sx=function(p){return Gy({sx:p,theme:this})},c}function Dct(i){return Object.keys(i).length===0}function Nct(i=null){const e=Q.useContext(AR);return!e||Dct(e)?i:e}const Lct=PE();function LR(i=Lct){return Nct(i)}function Uct({styles:i,themeId:e,defaultTheme:n={}}){const r=LR(n),s=typeof i=="function"?i(e&&r[e]||r):i;return W.jsx(Dut,{styles:s})}const kct=i=>{var r;const e={systemProps:{},otherProps:{}},n=((r=i==null?void 0:i.theme)==null?void 0:r.unstable_sxConfig)??OE;return Object.keys(i).forEach(s=>{n[s]?e.systemProps[s]=i[s]:e.otherProps[s]=i[s]}),e};function BU(i){const{sx:e,...n}=i,{systemProps:r,otherProps:s}=kct(n);let a;return Array.isArray(e)?a=[r,...e]:typeof e=="function"?a=(...o)=>{const l=e(...o);return Hf(l)?{...r,...l}:r}:a={...r,...e},{...s,sx:a}}const EF=i=>i,zct=()=>{let i=EF;return{configure(e){i=e},generate(e){return i(e)},reset(){i=EF}}},KG=zct();function ZG(i){var e,n,r="";if(typeof i=="string"||typeof i=="number")r+=i;else if(typeof i=="object")if(Array.isArray(i)){var s=i.length;for(e=0;e<s;e++)i[e]&&(n=ZG(i[e]))&&(r&&(r+=" "),r+=n)}else for(n in i)i[n]&&(r&&(r+=" "),r+=n);return r}function Ne(){for(var i,e,n=0,r="",s=arguments.length;n<s;n++)(i=arguments[n])&&(e=ZG(i))&&(r&&(r+=" "),r+=e);return r}function Bct(i={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:s}=i,a=jG("div",{shouldForwardProp:l=>l!=="theme"&&l!=="sx"&&l!=="as"})(Gy);return Q.forwardRef(function(u,c){const h=LR(n),{className:p,component:g="div",...v}=BU(u);return W.jsx(a,{as:g,ref:c,className:Ne(p,s?s(r):r),theme:e&&h[e]||h,...v})})}const Fct={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function an(i,e,n="Mui"){const r=Fct[e];return r?`${n}-${r}`:`${KG.generate(i)}-${e}`}function tn(i,e,n="Mui"){const r={};return e.forEach(s=>{r[s]=an(i,s,n)}),r}function QG(i){const{variants:e,...n}=i,r={variants:e,style:vF(n),isProcessed:!0};return r.style===n||e&&e.forEach(s=>{typeof s.style!="function"&&(s.style=vF(s.style))}),r}const Vct=PE();function HI(i){return i!=="ownerState"&&i!=="theme"&&i!=="sx"&&i!=="as"}function Hct(i){return i?(e,n)=>n[i]:null}function jct(i,e,n){i.theme=$ct(i.theme)?n:i.theme[e]||i.theme}function dM(i,e){const n=typeof e=="function"?e(i):e;if(Array.isArray(n))return n.flatMap(r=>dM(i,r));if(Array.isArray(n==null?void 0:n.variants)){let r;if(n.isProcessed)r=n.style;else{const{variants:s,...a}=n;r=a}return JG(i,n.variants,[r])}return n!=null&&n.isProcessed?n.style:n}function JG(i,e,n=[]){var s;let r;t:for(let a=0;a<e.length;a+=1){const o=e[a];if(typeof o.props=="function"){if(r??(r={...i,...i.ownerState,ownerState:i.ownerState}),!o.props(r))continue}else for(const l in o.props)if(i[l]!==o.props[l]&&((s=i.ownerState)==null?void 0:s[l])!==o.props[l])continue t;typeof o.style=="function"?(r??(r={...i,...i.ownerState,ownerState:i.ownerState}),n.push(o.style(r))):n.push(o.style)}return n}function t$(i={}){const{themeId:e,defaultTheme:n=Vct,rootShouldForwardProp:r=HI,slotShouldForwardProp:s=HI}=i;function a(l){jct(l,e,n)}return(l,u={})=>{Nut(l,P=>P.filter(k=>k!==Gy));const{name:c,slot:h,skipVariantsResolver:p,skipSx:g,overridesResolver:v=Hct(Wct(h)),...b}=u,S=p!==void 0?p:h&&h!=="Root"&&h!=="root"||!1,E=g||!1;let x=HI;h==="Root"||h==="root"?x=r:h?x=s:qct(l)&&(x=void 0);const A=jG(l,{shouldForwardProp:x,label:Gct(),...b}),C=P=>{if(typeof P=="function"&&P.__emotion_real!==P)return function(D){return dM(D,P)};if(Hf(P)){const k=QG(P);return k.variants?function(N){return dM(N,k)}:k.style}return P},M=(...P)=>{const k=[],D=P.map(C),N=[];if(k.push(a),c&&v&&N.push(function(H){var G,X;const Y=(X=(G=H.theme.components)==null?void 0:G[c])==null?void 0:X.styleOverrides;if(!Y)return null;const et={};for(const J in Y)et[J]=dM(H,Y[J]);return v(H,et)}),c&&!S&&N.push(function(H){var et,G;const V=H.theme,Y=(G=(et=V==null?void 0:V.components)==null?void 0:et[c])==null?void 0:G.variants;return Y?JG(H,Y):null}),E||N.push(Gy),Array.isArray(D[0])){const B=D.shift(),H=new Array(k.length).fill(""),V=new Array(N.length).fill("");let Y;Y=[...H,...B,...V],Y.raw=[...H,...B.raw,...V],k.unshift(Y)}const U=[...k,...D,...N],R=A(...U);return l.muiName&&(R.muiName=l.muiName),R};return A.withConfig&&(M.withConfig=A.withConfig),M}}function Gct(i,e){return void 0}function $ct(i){for(const e in i)return!1;return!0}function qct(i){return typeof i=="string"&&i.charCodeAt(0)>96}function Wct(i){return i&&i.charAt(0).toLowerCase()+i.slice(1)}const Xct=t$();function L_(i,e){const n={...e};for(const r in i)if(Object.prototype.hasOwnProperty.call(i,r)){const s=r;if(s==="components"||s==="slots")n[s]={...i[s],...n[s]};else if(s==="componentsProps"||s==="slotProps"){const a=i[s],o=e[s];if(!o)n[s]=a||{};else if(!a)n[s]=o;else{n[s]={...o};for(const l in a)if(Object.prototype.hasOwnProperty.call(a,l)){const u=l;n[s][u]=L_(a[u],o[u])}}}else n[s]===void 0&&(n[s]=i[s])}return n}function Yct(i){const{theme:e,name:n,props:r}=i;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:L_(e.components[n].defaultProps,r)}function Kct({props:i,name:e,defaultTheme:n,themeId:r}){let s=LR(n);return r&&(s=s[r]||s),Yct({theme:s,name:e,props:i})}const kc=typeof window<"u"?Q.useLayoutEffect:Q.useEffect;function Zct(i,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(i,n))}function FU(i,e=0,n=1){return Zct(i,e,n)}function Qct(i){i=i.slice(1);const e=new RegExp(`.{1,${i.length>=6?2:1}}`,"g");let n=i.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,s)=>s<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Tm(i){if(i.type)return i;if(i.charAt(0)==="#")return Tm(Qct(i));const e=i.indexOf("("),n=i.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(Nd(9,i));let r=i.substring(e+1,i.length-1),s;if(n==="color"){if(r=r.split(" "),s=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(s))throw new Error(Nd(10,s))}else r=r.split(",");return r=r.map(a=>parseFloat(a)),{type:n,values:r,colorSpace:s}}const Jct=i=>{const e=Tm(i);return e.values.slice(0,3).map((n,r)=>e.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},A1=(i,e)=>{try{return Jct(i)}catch{return i}};function UR(i){const{type:e,colorSpace:n}=i;let{values:r}=i;return e.includes("rgb")?r=r.map((s,a)=>a<3?parseInt(s,10):s):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function e$(i){i=Tm(i);const{values:e}=i,n=e[0],r=e[1]/100,s=e[2]/100,a=r*Math.min(s,1-s),o=(c,h=(c+n/30)%12)=>s-a*Math.max(Math.min(h-3,9-h,1),-1);let l="rgb";const u=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return i.type==="hsla"&&(l+="a",u.push(e[3])),UR({type:l,values:u})}function I3(i){i=Tm(i);let e=i.type==="hsl"||i.type==="hsla"?Tm(e$(i)).values:i.values;return e=e.map(n=>(i.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function tft(i,e){const n=I3(i),r=I3(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function fr(i,e){return i=Tm(i),e=FU(e),(i.type==="rgb"||i.type==="hsl")&&(i.type+="a"),i.type==="color"?i.values[3]=`/${e}`:i.values[3]=e,UR(i)}function uA(i,e,n){try{return fr(i,e)}catch{return i}}function $y(i,e){if(i=Tm(i),e=FU(e),i.type.includes("hsl"))i.values[2]*=1-e;else if(i.type.includes("rgb")||i.type.includes("color"))for(let n=0;n<3;n+=1)i.values[n]*=1-e;return UR(i)}function rr(i,e,n){try{return $y(i,e)}catch{return i}}function qy(i,e){if(i=Tm(i),e=FU(e),i.type.includes("hsl"))i.values[2]+=(100-i.values[2])*e;else if(i.type.includes("rgb"))for(let n=0;n<3;n+=1)i.values[n]+=(255-i.values[n])*e;else if(i.type.includes("color"))for(let n=0;n<3;n+=1)i.values[n]+=(1-i.values[n])*e;return UR(i)}function sr(i,e,n){try{return qy(i,e)}catch{return i}}function eft(i,e=.15){return I3(i)>.5?$y(i,e):qy(i,e)}function cA(i,e,n){try{return eft(i,e)}catch{return i}}function TF(...i){return i.reduce((e,n)=>n==null?e:function(...s){e.apply(this,s),n.apply(this,s)},()=>{})}function IE(i,e=166){let n;function r(...s){const a=()=>{i.apply(this,s)};clearTimeout(n),n=setTimeout(a,e)}return r.clear=()=>{clearTimeout(n)},r}function jI(i,e){var n,r,s;return Q.isValidElement(i)&&e.indexOf(i.type.muiName??((s=(r=(n=i.type)==null?void 0:n._payload)==null?void 0:r.value)==null?void 0:s.muiName))!==-1}function _l(i){return i&&i.ownerDocument||document}function Ql(i){return _l(i).defaultView||window}function wF(i,e){typeof i=="function"?i(e):i&&(i.current=e)}let AF=0;function nft(i){const[e,n]=Q.useState(i),r=i||e;return Q.useEffect(()=>{e==null&&(AF+=1,n(`mui-${AF}`))},[e]),r}const ift={...s3},MF=ift.useId;function o0(i){if(MF!==void 0){const e=MF();return i??e}return nft(i)}function FS({controlled:i,default:e,name:n,state:r="value"}){const{current:s}=Q.useRef(i!==void 0),[a,o]=Q.useState(e),l=s?i:a,u=Q.useCallback(c=>{s||o(c)},[]);return[l,u]}function zu(i){const e=Q.useRef(i);return kc(()=>{e.current=i}),Q.useRef((...n)=>(0,e.current)(...n)).current}function ys(...i){const e=Q.useRef(void 0),n=Q.useCallback(r=>{const s=i.map(a=>{if(a==null)return null;if(typeof a=="function"){const o=a,l=o(r);return typeof l=="function"?l:()=>{o(null)}}return a.current=r,()=>{a.current=null}});return()=>{s.forEach(a=>a==null?void 0:a())}},i);return Q.useMemo(()=>i.every(r=>r==null)?null:r=>{e.current&&(e.current(),e.current=void 0),r!=null&&(e.current=n(r))},i)}const CF={};function n$(i,e){const n=Q.useRef(CF);return n.current===CF&&(n.current=i(e)),n}const rft=[];function sft(i){Q.useEffect(i,rft)}class kR{constructor(){Rx(this,"currentId",null);Rx(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});Rx(this,"disposeEffect",()=>this.clear)}static create(){return new kR}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}function dy(){const i=n$(kR.create).current;return sft(i.disposeEffect),i}function DC(i){try{return i.matches(":focus-visible")}catch{}return!1}function i$(i=window){const e=i.document.documentElement.clientWidth;return i.innerWidth-e}function aft(i){return Q.Children.toArray(i).filter(e=>Q.isValidElement(e))}function on(i,e,n=void 0){const r={};for(const s in i){const a=i[s];let o="",l=!0;for(let u=0;u<a.length;u+=1){const c=a[u];c&&(o+=(l===!0?"":" ")+e(c),l=!1,n&&n[c]&&(o+=" "+n[c]))}r[s]=o}return r}function oft(i){return typeof i=="string"}function r$(i,e,n){return i===void 0||oft(i)?e:{...e,ownerState:{...e.ownerState,...n}}}function s$(i,e=[]){if(i===void 0)return{};const n={};return Object.keys(i).filter(r=>r.match(/^on[A-Z]/)&&typeof i[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=i[r]}),n}function RF(i){if(i===void 0)return{};const e={};return Object.keys(i).filter(n=>!(n.match(/^on[A-Z]/)&&typeof i[n]=="function")).forEach(n=>{e[n]=i[n]}),e}function a$(i){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:s,className:a}=i;if(!e){const v=Ne(n==null?void 0:n.className,a,s==null?void 0:s.className,r==null?void 0:r.className),b={...n==null?void 0:n.style,...s==null?void 0:s.style,...r==null?void 0:r.style},S={...n,...s,...r};return v.length>0&&(S.className=v),Object.keys(b).length>0&&(S.style=b),{props:S,internalRef:void 0}}const o=s$({...s,...r}),l=RF(r),u=RF(s),c=e(o),h=Ne(c==null?void 0:c.className,n==null?void 0:n.className,a,s==null?void 0:s.className,r==null?void 0:r.className),p={...c==null?void 0:c.style,...n==null?void 0:n.style,...s==null?void 0:s.style,...r==null?void 0:r.style},g={...c,...n,...u,...l};return h.length>0&&(g.className=h),Object.keys(p).length>0&&(g.style=p),{props:g,internalRef:c.ref}}function o$(i,e,n){return typeof i=="function"?i(e,n):i}function U_(i){var p;const{elementType:e,externalSlotProps:n,ownerState:r,skipResolvingSlotProps:s=!1,...a}=i,o=s?{}:o$(n,r),{props:l,internalRef:u}=a$({...a,externalSlotProps:o}),c=ys(u,o==null?void 0:o.ref,(p=i.additionalProps)==null?void 0:p.ref);return r$(e,{...l,ref:c},r)}function l0(i){var e;return parseInt(Q.version,10)>=19?((e=i==null?void 0:i.props)==null?void 0:e.ref)||null:(i==null?void 0:i.ref)||null}const lft=Q.createContext(),yb=()=>Q.useContext(lft)??!1,uft=Q.createContext(void 0);function cft(i){const{theme:e,name:n,props:r}=i;if(!e||!e.components||!e.components[n])return r;const s=e.components[n];return s.defaultProps?L_(s.defaultProps,r):!s.styleOverrides&&!s.variants?L_(s,r):r}function fft({props:i,name:e}){const n=Q.useContext(uft);return cft({props:i,name:e,theme:{components:n}})}const OF={theme:void 0};function hft(i){let e,n;return function(s){let a=e;return(a===void 0||s.theme!==n)&&(OF.theme=s.theme,a=QG(i(OF)),e=a,n=s.theme),a}}function dft(i=""){function e(...r){if(!r.length)return"";const s=r[0];return typeof s=="string"&&!s.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${i?`${i}-`:""}${s}${e(...r.slice(1))})`:`, ${s}`}return(r,...s)=>`var(--${i?`${i}-`:""}${r}${e(...s)})`}const PF=(i,e,n,r=[])=>{let s=i;e.forEach((a,o)=>{o===e.length-1?Array.isArray(s)?s[Number(a)]=n:s&&typeof s=="object"&&(s[a]=n):s&&typeof s=="object"&&(s[a]||(s[a]=r.includes(a)?[]:{}),s=s[a])})},pft=(i,e,n)=>{function r(s,a=[],o=[]){Object.entries(s).forEach(([l,u])=>{(!n||n&&!n([...a,l]))&&u!=null&&(typeof u=="object"&&Object.keys(u).length>0?r(u,[...a,l],Array.isArray(u)?[...o,l]:o):e([...a,l],u,o))})}r(i)},mft=(i,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>i.includes(r))||i[i.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function GI(i,e){const{prefix:n,shouldSkipGeneratingVar:r}=e||{},s={},a={},o={};return pft(i,(l,u,c)=>{if((typeof u=="string"||typeof u=="number")&&(!r||!r(l,u))){const h=`--${n?`${n}-`:""}${l.join("-")}`,p=mft(l,u);Object.assign(s,{[h]:p}),PF(a,l,`var(${h})`,c),PF(o,l,`var(${h}, ${p})`,c)}},l=>l[0]==="vars"),{css:s,vars:a,varsWithDefaults:o}}function gft(i,e={}){const{getSelector:n=E,disableCssColorScheme:r,colorSchemeSelector:s}=e,{colorSchemes:a={},components:o,defaultColorScheme:l="light",...u}=i,{vars:c,css:h,varsWithDefaults:p}=GI(u,e);let g=p;const v={},{[l]:b,...S}=a;if(Object.entries(S||{}).forEach(([C,M])=>{const{vars:P,css:k,varsWithDefaults:D}=GI(M,e);g=na(g,D),v[C]={css:k,vars:P}}),b){const{css:C,vars:M,varsWithDefaults:P}=GI(b,e);g=na(g,P),v[l]={css:C,vars:M}}function E(C,M){var k,D;let P=s;if(s==="class"&&(P=".%s"),s==="data"&&(P="[data-%s]"),s!=null&&s.startsWith("data-")&&!s.includes("%s")&&(P=`[${s}="%s"]`),C){if(P==="media")return i.defaultColorScheme===C?":root":{[`@media (prefers-color-scheme: ${((D=(k=a[C])==null?void 0:k.palette)==null?void 0:D.mode)||C})`]:{":root":M}};if(P)return i.defaultColorScheme===C?`:root, ${P.replace("%s",String(C))}`:P.replace("%s",String(C))}return":root"}return{vars:g,generateThemeVars:()=>{let C={...c};return Object.entries(v).forEach(([,{vars:M}])=>{C=na(C,M)}),C},generateStyleSheets:()=>{var N,U;const C=[],M=i.defaultColorScheme||"light";function P(R,B){Object.keys(B).length&&C.push(typeof R=="string"?{[R]:{...B}}:R)}P(n(void 0,{...h}),h);const{[M]:k,...D}=v;if(k){const{css:R}=k,B=(U=(N=a[M])==null?void 0:N.palette)==null?void 0:U.mode,H=!r&&B?{colorScheme:B,...R}:{...R};P(n(M,{...H}),H)}return Object.entries(D).forEach(([R,{css:B}])=>{var Y,et;const H=(et=(Y=a[R])==null?void 0:Y.palette)==null?void 0:et.mode,V=!r&&H?{colorScheme:H,...B}:{...B};P(n(R,{...V}),V)}),C}}}function yft(i){return function(n){return i==="media"?`@media (prefers-color-scheme: ${n})`:i?i.startsWith("data-")&&!i.includes("%s")?`[${i}="${n}"] &`:i==="class"?`.${n} &`:i==="data"?`[data-${n}] &`:`${i.replace("%s",n)} &`:"&"}}const vft=PE(),_ft=Xct("div",{name:"MuiStack",slot:"Root",overridesResolver:(i,e)=>e.root});function bft(i){return Kct({props:i,name:"MuiStack",defaultTheme:vft})}function xft(i,e){const n=Q.Children.toArray(i).filter(Boolean);return n.reduce((r,s,a)=>(r.push(s),a<n.length-1&&r.push(Q.cloneElement(e,{key:`separator-${a}`})),r),[])}const Sft=i=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[i],Eft=({ownerState:i,theme:e})=>{let n={display:"flex",flexDirection:"column",...Uc({theme:e},VI({values:i.direction,breakpoints:e.breakpoints.values}),r=>({flexDirection:r}))};if(i.spacing){const r=RR(e),s=Object.keys(e.breakpoints.values).reduce((u,c)=>((typeof i.spacing=="object"&&i.spacing[c]!=null||typeof i.direction=="object"&&i.direction[c]!=null)&&(u[c]=!0),u),{}),a=VI({values:i.direction,base:s}),o=VI({values:i.spacing,base:s});typeof a=="object"&&Object.keys(a).forEach((u,c,h)=>{if(!a[u]){const g=c>0?a[h[c-1]]:"column";a[u]=g}}),n=na(n,Uc({theme:e},o,(u,c)=>i.useFlexGap?{gap:jy(r,u)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${Sft(c?a[c]:i.direction)}`]:jy(r,u)}}))}return n=$ut(e.breakpoints,n),n};function Tft(i={}){const{createStyledComponent:e=_ft,useThemeProps:n=bft,componentName:r="MuiStack"}=i,s=()=>on({root:["root"]},u=>an(r,u),{}),a=e(Eft);return Q.forwardRef(function(u,c){const h=n(u),p=BU(h),{component:g="div",direction:v="column",spacing:b=0,divider:S,children:E,className:x,useFlexGap:A=!1,...C}=p,M={direction:v,spacing:b,useFlexGap:A},P=s();return W.jsx(a,{as:g,ownerState:M,ref:c,className:Ne(P.root,x),...C,children:S?xft(E,S):E})})}function l$(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:US.white,default:US.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const wft=l$();function u$(){return{text:{primary:US.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:US.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const IF=u$();function DF(i,e,n,r){const s=r.light||r,a=r.dark||r*1.5;i[e]||(i.hasOwnProperty(n)?i[e]=i[n]:e==="light"?i.light=qy(i.main,s):e==="dark"&&(i.dark=$y(i.main,a)))}function Aft(i="light"){return i==="dark"?{main:kv[200],light:kv[50],dark:kv[400]}:{main:kv[700],light:kv[400],dark:kv[800]}}function Mft(i="light"){return i==="dark"?{main:Uv[200],light:Uv[50],dark:Uv[400]}:{main:Uv[500],light:Uv[300],dark:Uv[700]}}function Cft(i="light"){return i==="dark"?{main:Lv[500],light:Lv[300],dark:Lv[700]}:{main:Lv[700],light:Lv[400],dark:Lv[800]}}function Rft(i="light"){return i==="dark"?{main:zv[400],light:zv[300],dark:zv[700]}:{main:zv[700],light:zv[500],dark:zv[900]}}function Oft(i="light"){return i==="dark"?{main:Bv[400],light:Bv[300],dark:Bv[700]}:{main:Bv[800],light:Bv[500],dark:Bv[900]}}function Pft(i="light"){return i==="dark"?{main:Yx[400],light:Yx[300],dark:Yx[700]}:{main:"#ed6c02",light:Yx[500],dark:Yx[900]}}function VU(i){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2,...s}=i,a=i.primary||Aft(e),o=i.secondary||Mft(e),l=i.error||Cft(e),u=i.info||Rft(e),c=i.success||Oft(e),h=i.warning||Pft(e);function p(S){return tft(S,IF.text.primary)>=n?IF.text.primary:wft.text.primary}const g=({color:S,name:E,mainShade:x=500,lightShade:A=300,darkShade:C=700})=>{if(S={...S},!S.main&&S[x]&&(S.main=S[x]),!S.hasOwnProperty("main"))throw new Error(Nd(11,E?` (${E})`:"",x));if(typeof S.main!="string")throw new Error(Nd(12,E?` (${E})`:"",JSON.stringify(S.main)));return DF(S,"light",A,r),DF(S,"dark",C,r),S.contrastText||(S.contrastText=p(S.main)),S};let v;return e==="light"?v=l$():e==="dark"&&(v=u$()),na({common:{...US},mode:e,primary:g({color:a,name:"primary"}),secondary:g({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:g({color:l,name:"error"}),warning:g({color:h,name:"warning"}),info:g({color:u,name:"info"}),success:g({color:c,name:"success"}),grey:Olt,contrastThreshold:n,getContrastText:p,augmentColor:g,tonalOffset:r,...v},s)}function Ift(i){const e={};return Object.entries(i).forEach(r=>{const[s,a]=r;typeof a=="object"&&(e[s]=`${a.fontStyle?`${a.fontStyle} `:""}${a.fontVariant?`${a.fontVariant} `:""}${a.fontWeight?`${a.fontWeight} `:""}${a.fontStretch?`${a.fontStretch} `:""}${a.fontSize||""}${a.lineHeight?`/${a.lineHeight} `:""}${a.fontFamily||""}`)}),e}function Dft(i,e){return{toolbar:{minHeight:56,[i.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[i.up("sm")]:{minHeight:64}},...e}}function Nft(i){return Math.round(i*1e5)/1e5}const NF={textTransform:"uppercase"},LF='"Roboto", "Helvetica", "Arial", sans-serif';function Lft(i,e){const{fontFamily:n=LF,fontSize:r=14,fontWeightLight:s=300,fontWeightRegular:a=400,fontWeightMedium:o=500,fontWeightBold:l=700,htmlFontSize:u=16,allVariants:c,pxToRem:h,...p}=typeof e=="function"?e(i):e,g=r/14,v=h||(E=>`${E/u*g}rem`),b=(E,x,A,C,M)=>({fontFamily:n,fontWeight:E,fontSize:v(x),lineHeight:A,...n===LF?{letterSpacing:`${Nft(C/x)}em`}:{},...M,...c}),S={h1:b(s,96,1.167,-1.5),h2:b(s,60,1.2,-.5),h3:b(a,48,1.167,0),h4:b(a,34,1.235,.25),h5:b(a,24,1.334,0),h6:b(o,20,1.6,.15),subtitle1:b(a,16,1.75,.15),subtitle2:b(o,14,1.57,.1),body1:b(a,16,1.5,.15),body2:b(a,14,1.43,.15),button:b(o,14,1.75,.4,NF),caption:b(a,12,1.66,.4),overline:b(a,12,2.66,1,NF),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return na({htmlFontSize:u,pxToRem:v,fontFamily:n,fontSize:r,fontWeightLight:s,fontWeightRegular:a,fontWeightMedium:o,fontWeightBold:l,...S},p,{clone:!1})}const Uft=.2,kft=.14,zft=.12;function Mr(...i){return[`${i[0]}px ${i[1]}px ${i[2]}px ${i[3]}px rgba(0,0,0,${Uft})`,`${i[4]}px ${i[5]}px ${i[6]}px ${i[7]}px rgba(0,0,0,${kft})`,`${i[8]}px ${i[9]}px ${i[10]}px ${i[11]}px rgba(0,0,0,${zft})`].join(",")}const Bft=["none",Mr(0,2,1,-1,0,1,1,0,0,1,3,0),Mr(0,3,1,-2,0,2,2,0,0,1,5,0),Mr(0,3,3,-2,0,3,4,0,0,1,8,0),Mr(0,2,4,-1,0,4,5,0,0,1,10,0),Mr(0,3,5,-1,0,5,8,0,0,1,14,0),Mr(0,3,5,-1,0,6,10,0,0,1,18,0),Mr(0,4,5,-2,0,7,10,1,0,2,16,1),Mr(0,5,5,-3,0,8,10,1,0,3,14,2),Mr(0,5,6,-3,0,9,12,1,0,3,16,2),Mr(0,6,6,-3,0,10,14,1,0,4,18,3),Mr(0,6,7,-4,0,11,15,1,0,4,20,3),Mr(0,7,8,-4,0,12,17,2,0,5,22,4),Mr(0,7,8,-4,0,13,19,2,0,5,24,4),Mr(0,7,9,-4,0,14,21,2,0,5,26,4),Mr(0,8,9,-5,0,15,22,2,0,6,28,5),Mr(0,8,10,-5,0,16,24,2,0,6,30,5),Mr(0,8,11,-5,0,17,26,2,0,6,32,5),Mr(0,9,11,-5,0,18,28,2,0,7,34,6),Mr(0,9,12,-6,0,19,29,2,0,7,36,6),Mr(0,10,13,-6,0,20,31,3,0,8,38,7),Mr(0,10,13,-6,0,21,33,3,0,8,40,7),Mr(0,10,14,-6,0,22,35,3,0,8,42,7),Mr(0,11,14,-7,0,23,36,3,0,9,44,8),Mr(0,11,15,-7,0,24,38,3,0,9,46,8)],Fft={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},c$={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function UF(i){return`${Math.round(i)}ms`}function Vft(i){if(!i)return 0;const e=i/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function Hft(i){const e={...Fft,...i.easing},n={...c$,...i.duration};return{getAutoHeightDuration:Vft,create:(s=["all"],a={})=>{const{duration:o=n.standard,easing:l=e.easeInOut,delay:u=0,...c}=a;return(Array.isArray(s)?s:[s]).map(h=>`${h} ${typeof o=="string"?o:UF(o)} ${l} ${typeof u=="string"?u:UF(u)}`).join(",")},...i,easing:e,duration:n}}const jft={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function Gft(i){return Hf(i)||typeof i>"u"||typeof i=="string"||typeof i=="boolean"||typeof i=="number"||Array.isArray(i)}function f$(i={}){const e={...i};function n(r){const s=Object.entries(r);for(let a=0;a<s.length;a++){const[o,l]=s[a];!Gft(l)||o.startsWith("unstable_")?delete r[o]:Hf(l)&&(r[o]={...l},n(r[o]))}}return n(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function D3(i={},...e){const{breakpoints:n,mixins:r={},spacing:s,palette:a={},transitions:o={},typography:l={},shape:u,...c}=i;if(i.vars&&i.generateThemeVars===void 0)throw new Error(Nd(20));const h=VU(a),p=PE(i);let g=na(p,{mixins:Dft(p.breakpoints,r),palette:h,shadows:Bft.slice(),typography:Lft(h,l),transitions:Hft(o),zIndex:{...jft}});return g=na(g,c),g=e.reduce((v,b)=>na(v,b),g),g.unstable_sxConfig={...OE,...c==null?void 0:c.unstable_sxConfig},g.unstable_sx=function(b){return Gy({sx:b,theme:this})},g.toRuntimeSource=f$,g}function N3(i){let e;return i<1?e=5.11916*i**2:e=4.5*Math.log(i+1)+2,Math.round(e*10)/1e3}const $ft=[...Array(25)].map((i,e)=>{if(e===0)return"none";const n=N3(e);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function h$(i){return{inputPlaceholder:i==="dark"?.5:.42,inputUnderline:i==="dark"?.7:.42,switchTrackDisabled:i==="dark"?.2:.12,switchTrack:i==="dark"?.3:.38}}function d$(i){return i==="dark"?$ft:[]}function qft(i){const{palette:e={mode:"light"},opacity:n,overlays:r,...s}=i,a=VU(e);return{palette:a,opacity:{...h$(a.mode),...n},overlays:r||d$(a.mode),...s}}function Wft(i){var e;return!!i[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!i[0].match(/sxConfig$/)||i[0]==="palette"&&!!((e=i[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const Xft=i=>[...[...Array(25)].map((e,n)=>`--${i?`${i}-`:""}overlays-${n}`),`--${i?`${i}-`:""}palette-AppBar-darkBg`,`--${i?`${i}-`:""}palette-AppBar-darkColor`],Yft=i=>(e,n)=>{const r=i.rootSelector||":root",s=i.colorSchemeSelector;let a=s;if(s==="class"&&(a=".%s"),s==="data"&&(a="[data-%s]"),s!=null&&s.startsWith("data-")&&!s.includes("%s")&&(a=`[${s}="%s"]`),i.defaultColorScheme===e){if(e==="dark"){const o={};return Xft(i.cssVarPrefix).forEach(l=>{o[l]=n[l],delete n[l]}),a==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:o}}:a?{[a.replace("%s",e)]:o,[`${r}, ${a.replace("%s",e)}`]:n}:{[r]:{...n,...o}}}if(a&&a!=="media")return`${r}, ${a.replace("%s",String(e))}`}else if(e){if(a==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:n}};if(a)return a.replace("%s",String(e))}return r};function Kft(i,e){e.forEach(n=>{i[n]||(i[n]={})})}function re(i,e,n){!i[e]&&n&&(i[e]=n)}function M1(i){return typeof i!="string"||!i.startsWith("hsl")?i:e$(i)}function Qh(i,e){`${e}Channel`in i||(i[`${e}Channel`]=A1(M1(i[e])))}function Zft(i){return typeof i=="number"?`${i}px`:typeof i=="string"||typeof i=="function"||Array.isArray(i)?i:"8px"}const Of=i=>{try{return i()}catch{}},Qft=(i="mui")=>dft(i);function $I(i,e,n,r){if(!e)return;e=e===!0?{}:e;const s=r==="dark"?"dark":"light";if(!n){i[r]=qft({...e,palette:{mode:s,...e==null?void 0:e.palette}});return}const{palette:a,...o}=D3({...n,palette:{mode:s,...e==null?void 0:e.palette}});return i[r]={...e,palette:a,opacity:{...h$(s),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||d$(s)},o}function Jft(i={},...e){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:s=!1,cssVarPrefix:a="mui",shouldSkipGeneratingVar:o=Wft,colorSchemeSelector:l=n.light&&n.dark?"media":void 0,rootSelector:u=":root",...c}=i,h=Object.keys(n)[0],p=r||(n.light&&h!=="light"?"light":h),g=Qft(a),{[p]:v,light:b,dark:S,...E}=n,x={...E};let A=v;if((p==="dark"&&!("dark"in n)||p==="light"&&!("light"in n))&&(A=!0),!A)throw new Error(Nd(21,p));const C=$I(x,A,c,p);b&&!x.light&&$I(x,b,void 0,"light"),S&&!x.dark&&$I(x,S,void 0,"dark");let M={defaultColorScheme:p,...C,cssVarPrefix:a,colorSchemeSelector:l,rootSelector:u,getCssVar:g,colorSchemes:x,font:{...Ift(C.typography),...C.font},spacing:Zft(c.spacing)};Object.keys(M.colorSchemes).forEach(U=>{const R=M.colorSchemes[U].palette,B=H=>{const V=H.split("-"),Y=V[1],et=V[2];return g(H,R[Y][et])};if(R.mode==="light"&&(re(R.common,"background","#fff"),re(R.common,"onBackground","#000")),R.mode==="dark"&&(re(R.common,"background","#000"),re(R.common,"onBackground","#fff")),Kft(R,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),R.mode==="light"){re(R.Alert,"errorColor",rr(R.error.light,.6)),re(R.Alert,"infoColor",rr(R.info.light,.6)),re(R.Alert,"successColor",rr(R.success.light,.6)),re(R.Alert,"warningColor",rr(R.warning.light,.6)),re(R.Alert,"errorFilledBg",B("palette-error-main")),re(R.Alert,"infoFilledBg",B("palette-info-main")),re(R.Alert,"successFilledBg",B("palette-success-main")),re(R.Alert,"warningFilledBg",B("palette-warning-main")),re(R.Alert,"errorFilledColor",Of(()=>R.getContrastText(R.error.main))),re(R.Alert,"infoFilledColor",Of(()=>R.getContrastText(R.info.main))),re(R.Alert,"successFilledColor",Of(()=>R.getContrastText(R.success.main))),re(R.Alert,"warningFilledColor",Of(()=>R.getContrastText(R.warning.main))),re(R.Alert,"errorStandardBg",sr(R.error.light,.9)),re(R.Alert,"infoStandardBg",sr(R.info.light,.9)),re(R.Alert,"successStandardBg",sr(R.success.light,.9)),re(R.Alert,"warningStandardBg",sr(R.warning.light,.9)),re(R.Alert,"errorIconColor",B("palette-error-main")),re(R.Alert,"infoIconColor",B("palette-info-main")),re(R.Alert,"successIconColor",B("palette-success-main")),re(R.Alert,"warningIconColor",B("palette-warning-main")),re(R.AppBar,"defaultBg",B("palette-grey-100")),re(R.Avatar,"defaultBg",B("palette-grey-400")),re(R.Button,"inheritContainedBg",B("palette-grey-300")),re(R.Button,"inheritContainedHoverBg",B("palette-grey-A100")),re(R.Chip,"defaultBorder",B("palette-grey-400")),re(R.Chip,"defaultAvatarColor",B("palette-grey-700")),re(R.Chip,"defaultIconColor",B("palette-grey-700")),re(R.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),re(R.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),re(R.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),re(R.LinearProgress,"primaryBg",sr(R.primary.main,.62)),re(R.LinearProgress,"secondaryBg",sr(R.secondary.main,.62)),re(R.LinearProgress,"errorBg",sr(R.error.main,.62)),re(R.LinearProgress,"infoBg",sr(R.info.main,.62)),re(R.LinearProgress,"successBg",sr(R.success.main,.62)),re(R.LinearProgress,"warningBg",sr(R.warning.main,.62)),re(R.Skeleton,"bg",`rgba(${B("palette-text-primaryChannel")} / 0.11)`),re(R.Slider,"primaryTrack",sr(R.primary.main,.62)),re(R.Slider,"secondaryTrack",sr(R.secondary.main,.62)),re(R.Slider,"errorTrack",sr(R.error.main,.62)),re(R.Slider,"infoTrack",sr(R.info.main,.62)),re(R.Slider,"successTrack",sr(R.success.main,.62)),re(R.Slider,"warningTrack",sr(R.warning.main,.62));const H=cA(R.background.default,.8);re(R.SnackbarContent,"bg",H),re(R.SnackbarContent,"color",Of(()=>R.getContrastText(H))),re(R.SpeedDialAction,"fabHoverBg",cA(R.background.paper,.15)),re(R.StepConnector,"border",B("palette-grey-400")),re(R.StepContent,"border",B("palette-grey-400")),re(R.Switch,"defaultColor",B("palette-common-white")),re(R.Switch,"defaultDisabledColor",B("palette-grey-100")),re(R.Switch,"primaryDisabledColor",sr(R.primary.main,.62)),re(R.Switch,"secondaryDisabledColor",sr(R.secondary.main,.62)),re(R.Switch,"errorDisabledColor",sr(R.error.main,.62)),re(R.Switch,"infoDisabledColor",sr(R.info.main,.62)),re(R.Switch,"successDisabledColor",sr(R.success.main,.62)),re(R.Switch,"warningDisabledColor",sr(R.warning.main,.62)),re(R.TableCell,"border",sr(uA(R.divider,1),.88)),re(R.Tooltip,"bg",uA(R.grey[700],.92))}if(R.mode==="dark"){re(R.Alert,"errorColor",sr(R.error.light,.6)),re(R.Alert,"infoColor",sr(R.info.light,.6)),re(R.Alert,"successColor",sr(R.success.light,.6)),re(R.Alert,"warningColor",sr(R.warning.light,.6)),re(R.Alert,"errorFilledBg",B("palette-error-dark")),re(R.Alert,"infoFilledBg",B("palette-info-dark")),re(R.Alert,"successFilledBg",B("palette-success-dark")),re(R.Alert,"warningFilledBg",B("palette-warning-dark")),re(R.Alert,"errorFilledColor",Of(()=>R.getContrastText(R.error.dark))),re(R.Alert,"infoFilledColor",Of(()=>R.getContrastText(R.info.dark))),re(R.Alert,"successFilledColor",Of(()=>R.getContrastText(R.success.dark))),re(R.Alert,"warningFilledColor",Of(()=>R.getContrastText(R.warning.dark))),re(R.Alert,"errorStandardBg",rr(R.error.light,.9)),re(R.Alert,"infoStandardBg",rr(R.info.light,.9)),re(R.Alert,"successStandardBg",rr(R.success.light,.9)),re(R.Alert,"warningStandardBg",rr(R.warning.light,.9)),re(R.Alert,"errorIconColor",B("palette-error-main")),re(R.Alert,"infoIconColor",B("palette-info-main")),re(R.Alert,"successIconColor",B("palette-success-main")),re(R.Alert,"warningIconColor",B("palette-warning-main")),re(R.AppBar,"defaultBg",B("palette-grey-900")),re(R.AppBar,"darkBg",B("palette-background-paper")),re(R.AppBar,"darkColor",B("palette-text-primary")),re(R.Avatar,"defaultBg",B("palette-grey-600")),re(R.Button,"inheritContainedBg",B("palette-grey-800")),re(R.Button,"inheritContainedHoverBg",B("palette-grey-700")),re(R.Chip,"defaultBorder",B("palette-grey-700")),re(R.Chip,"defaultAvatarColor",B("palette-grey-300")),re(R.Chip,"defaultIconColor",B("palette-grey-300")),re(R.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),re(R.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),re(R.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),re(R.LinearProgress,"primaryBg",rr(R.primary.main,.5)),re(R.LinearProgress,"secondaryBg",rr(R.secondary.main,.5)),re(R.LinearProgress,"errorBg",rr(R.error.main,.5)),re(R.LinearProgress,"infoBg",rr(R.info.main,.5)),re(R.LinearProgress,"successBg",rr(R.success.main,.5)),re(R.LinearProgress,"warningBg",rr(R.warning.main,.5)),re(R.Skeleton,"bg",`rgba(${B("palette-text-primaryChannel")} / 0.13)`),re(R.Slider,"primaryTrack",rr(R.primary.main,.5)),re(R.Slider,"secondaryTrack",rr(R.secondary.main,.5)),re(R.Slider,"errorTrack",rr(R.error.main,.5)),re(R.Slider,"infoTrack",rr(R.info.main,.5)),re(R.Slider,"successTrack",rr(R.success.main,.5)),re(R.Slider,"warningTrack",rr(R.warning.main,.5));const H=cA(R.background.default,.98);re(R.SnackbarContent,"bg",H),re(R.SnackbarContent,"color",Of(()=>R.getContrastText(H))),re(R.SpeedDialAction,"fabHoverBg",cA(R.background.paper,.15)),re(R.StepConnector,"border",B("palette-grey-600")),re(R.StepContent,"border",B("palette-grey-600")),re(R.Switch,"defaultColor",B("palette-grey-300")),re(R.Switch,"defaultDisabledColor",B("palette-grey-600")),re(R.Switch,"primaryDisabledColor",rr(R.primary.main,.55)),re(R.Switch,"secondaryDisabledColor",rr(R.secondary.main,.55)),re(R.Switch,"errorDisabledColor",rr(R.error.main,.55)),re(R.Switch,"infoDisabledColor",rr(R.info.main,.55)),re(R.Switch,"successDisabledColor",rr(R.success.main,.55)),re(R.Switch,"warningDisabledColor",rr(R.warning.main,.55)),re(R.TableCell,"border",rr(uA(R.divider,1),.68)),re(R.Tooltip,"bg",uA(R.grey[700],.92))}Qh(R.background,"default"),Qh(R.background,"paper"),Qh(R.common,"background"),Qh(R.common,"onBackground"),Qh(R,"divider"),Object.keys(R).forEach(H=>{const V=R[H];H!=="tonalOffset"&&V&&typeof V=="object"&&(V.main&&re(R[H],"mainChannel",A1(M1(V.main))),V.light&&re(R[H],"lightChannel",A1(M1(V.light))),V.dark&&re(R[H],"darkChannel",A1(M1(V.dark))),V.contrastText&&re(R[H],"contrastTextChannel",A1(M1(V.contrastText))),H==="text"&&(Qh(R[H],"primary"),Qh(R[H],"secondary")),H==="action"&&(V.active&&Qh(R[H],"active"),V.selected&&Qh(R[H],"selected")))})}),M=e.reduce((U,R)=>na(U,R),M);const P={prefix:a,disableCssColorScheme:s,shouldSkipGeneratingVar:o,getSelector:Yft(M)},{vars:k,generateThemeVars:D,generateStyleSheets:N}=gft(M,P);return M.vars=k,Object.entries(M.colorSchemes[M.defaultColorScheme]).forEach(([U,R])=>{M[U]=R}),M.generateThemeVars=D,M.generateStyleSheets=N,M.generateSpacing=function(){return YG(c.spacing,RR(this))},M.getColorSchemeSelector=yft(l),M.spacing=M.generateSpacing(),M.shouldSkipGeneratingVar=o,M.unstable_sxConfig={...OE,...c==null?void 0:c.unstable_sxConfig},M.unstable_sx=function(R){return Gy({sx:R,theme:this})},M.toRuntimeSource=f$,M}function kF(i,e,n){i.colorSchemes&&n&&(i.colorSchemes[e]={...n!==!0&&n,palette:VU({...n===!0?{}:n.palette,mode:e})})}function p$(i={},...e){const{palette:n,cssVariables:r=!1,colorSchemes:s=n?void 0:{light:!0},defaultColorScheme:a=n==null?void 0:n.mode,...o}=i,l=a||"light",u=s==null?void 0:s[l],c={...s,...n?{[l]:{...typeof u!="boolean"&&u,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in i))return D3(i,...e);let h=n;"palette"in i||c[l]&&(c[l]!==!0?h=c[l].palette:l==="dark"&&(h={mode:"dark"}));const p=D3({...i,palette:h},...e);return p.defaultColorScheme=l,p.colorSchemes=c,p.palette.mode==="light"&&(p.colorSchemes.light={...c.light!==!0&&c.light,palette:p.palette},kF(p,"dark",c.dark)),p.palette.mode==="dark"&&(p.colorSchemes.dark={...c.dark!==!0&&c.dark,palette:p.palette},kF(p,"light",c.light)),p}return!n&&!("light"in c)&&l==="light"&&(c.light=!0),Jft({...o,colorSchemes:c,defaultColorScheme:l,...typeof r!="boolean"&&r},...e)}const HU=p$();function Bm(){const i=LR(HU);return i[SR]||i}function m$(i){return i!=="ownerState"&&i!=="theme"&&i!=="sx"&&i!=="as"}const Oo=i=>m$(i)&&i!=="classes",de=t$({themeId:SR,defaultTheme:HU,rootShouldForwardProp:Oo});function g$(i){return W.jsx(Uct,{...i,defaultTheme:HU,themeId:SR})}function tht(i){return function(n){return W.jsx(g$,{styles:typeof i=="function"?r=>i({theme:r,...n}):i})}}function eht(){return BU}const _n=hft;function dn(i){return fft(i)}function nht(i){return an("MuiSvgIcon",i)}tn("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const iht=i=>{const{color:e,fontSize:n,classes:r}=i,s={root:["root",e!=="inherit"&&`color${De(e)}`,`fontSize${De(n)}`]};return on(s,nht,r)},rht=de("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.root,n.color!=="inherit"&&e[`color${De(n.color)}`],e[`fontSize${De(n.fontSize)}`]]}})(_n(({theme:i})=>{var e,n,r,s,a,o,l,u,c,h,p,g,v,b;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(s=(e=i.transitions)==null?void 0:e.create)==null?void 0:s.call(e,"fill",{duration:(r=(n=(i.vars??i).transitions)==null?void 0:n.duration)==null?void 0:r.shorter}),variants:[{props:S=>!S.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((o=(a=i.typography)==null?void 0:a.pxToRem)==null?void 0:o.call(a,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((u=(l=i.typography)==null?void 0:l.pxToRem)==null?void 0:u.call(l,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((h=(c=i.typography)==null?void 0:c.pxToRem)==null?void 0:h.call(c,35))||"2.1875rem"}},...Object.entries((i.vars??i).palette).filter(([,S])=>S&&S.main).map(([S])=>{var E,x;return{props:{color:S},style:{color:(x=(E=(i.vars??i).palette)==null?void 0:E[S])==null?void 0:x.main}}}),{props:{color:"action"},style:{color:(g=(p=(i.vars??i).palette)==null?void 0:p.action)==null?void 0:g.active}},{props:{color:"disabled"},style:{color:(b=(v=(i.vars??i).palette)==null?void 0:v.action)==null?void 0:b.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),NC=Q.forwardRef(function(e,n){const r=dn({props:e,name:"MuiSvgIcon"}),{children:s,className:a,color:o="inherit",component:l="svg",fontSize:u="medium",htmlColor:c,inheritViewBox:h=!1,titleAccess:p,viewBox:g="0 0 24 24",...v}=r,b=Q.isValidElement(s)&&s.type==="svg",S={...r,color:o,component:l,fontSize:u,instanceFontSize:e.fontSize,inheritViewBox:h,viewBox:g,hasSvgAsChild:b},E={};h||(E.viewBox=g);const x=iht(S);return W.jsxs(rht,{as:l,className:Ne(x.root,a),focusable:"false",color:c,"aria-hidden":p?void 0:!0,role:p?"img":void 0,ref:n,...E,...v,...b&&s.props,ownerState:S,children:[b?s.props.children:s,p?W.jsx("title",{children:p}):null]})});NC.muiName="SvgIcon";function Pr(i,e){function n(r,s){return W.jsx(NC,{"data-testid":`${e}Icon`,ref:s,...r,children:i})}return n.muiName=NC.muiName,Q.memo(Q.forwardRef(n))}function y$(i,e){if(!i)return e;if(typeof i=="function"||typeof e=="function")return s=>{const a=typeof e=="function"?e(s):e,o=typeof i=="function"?i({...s,...a}):i,l=Ne(s==null?void 0:s.className,a==null?void 0:a.className,o==null?void 0:o.className);return{...a,...o,...!!l&&{className:l},...(a==null?void 0:a.style)&&(o==null?void 0:o.style)&&{style:{...a.style,...o.style}},...(a==null?void 0:a.sx)&&(o==null?void 0:o.sx)&&{sx:[...Array.isArray(a.sx)?a.sx:[a.sx],...Array.isArray(o.sx)?o.sx:[o.sx]]}}};const n=e,r=Ne(n==null?void 0:n.className,i==null?void 0:i.className);return{...e,...i,...!!r&&{className:r},...(n==null?void 0:n.style)&&(i==null?void 0:i.style)&&{style:{...n.style,...i.style}},...(n==null?void 0:n.sx)&&(i==null?void 0:i.sx)&&{sx:[...Array.isArray(n.sx)?n.sx:[n.sx],...Array.isArray(i.sx)?i.sx:[i.sx]]}}}function v$(i,e){if(i==null)return{};var n={};for(var r in i)if({}.hasOwnProperty.call(i,r)){if(e.indexOf(r)!==-1)continue;n[r]=i[r]}return n}function L3(i,e){return L3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},L3(i,e)}function _$(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,L3(i,e)}var b$=u7();const fA=hh(b$),zF={disabled:!1},LC=gn.createContext(null);var sht=function(e){return e.scrollTop},C1="unmounted",ty="exited",ey="entering",e_="entered",U3="exiting",$u=function(i){_$(e,i);function e(r,s){var a;a=i.call(this,r,s)||this;var o=s,l=o&&!o.isMounting?r.enter:r.appear,u;return a.appearStatus=null,r.in?l?(u=ty,a.appearStatus=ey):u=e_:r.unmountOnExit||r.mountOnEnter?u=C1:u=ty,a.state={status:u},a.nextCallback=null,a}e.getDerivedStateFromProps=function(s,a){var o=s.in;return o&&a.status===C1?{status:ty}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(s){var a=null;if(s!==this.props){var o=this.state.status;this.props.in?o!==ey&&o!==e_&&(a=ey):(o===ey||o===e_)&&(a=U3)}this.updateStatus(!1,a)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var s=this.props.timeout,a,o,l;return a=o=l=s,s!=null&&typeof s!="number"&&(a=s.exit,o=s.enter,l=s.appear!==void 0?s.appear:o),{exit:a,enter:o,appear:l}},n.updateStatus=function(s,a){if(s===void 0&&(s=!1),a!==null)if(this.cancelNextCallback(),a===ey){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:fA.findDOMNode(this);o&&sht(o)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ty&&this.setState({status:C1})},n.performEnter=function(s){var a=this,o=this.props.enter,l=this.context?this.context.isMounting:s,u=this.props.nodeRef?[l]:[fA.findDOMNode(this),l],c=u[0],h=u[1],p=this.getTimeouts(),g=l?p.appear:p.enter;if(!s&&!o||zF.disabled){this.safeSetState({status:e_},function(){a.props.onEntered(c)});return}this.props.onEnter(c,h),this.safeSetState({status:ey},function(){a.props.onEntering(c,h),a.onTransitionEnd(g,function(){a.safeSetState({status:e_},function(){a.props.onEntered(c,h)})})})},n.performExit=function(){var s=this,a=this.props.exit,o=this.getTimeouts(),l=this.props.nodeRef?void 0:fA.findDOMNode(this);if(!a||zF.disabled){this.safeSetState({status:ty},function(){s.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:U3},function(){s.props.onExiting(l),s.onTransitionEnd(o.exit,function(){s.safeSetState({status:ty},function(){s.props.onExited(l)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(s,a){a=this.setNextCallback(a),this.setState(s,a)},n.setNextCallback=function(s){var a=this,o=!0;return this.nextCallback=function(l){o&&(o=!1,a.nextCallback=null,s(l))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(s,a){this.setNextCallback(a);var o=this.props.nodeRef?this.props.nodeRef.current:fA.findDOMNode(this),l=s==null&&!this.props.addEndListener;if(!o||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=u[0],h=u[1];this.props.addEndListener(c,h)}s!=null&&setTimeout(this.nextCallback,s)},n.render=function(){var s=this.state.status;if(s===C1)return null;var a=this.props,o=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var l=v$(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return gn.createElement(LC.Provider,{value:null},typeof o=="function"?o(s,l):gn.cloneElement(gn.Children.only(o),l))},e}(gn.Component);$u.contextType=LC;$u.propTypes={};function Fv(){}$u.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Fv,onEntering:Fv,onEntered:Fv,onExit:Fv,onExiting:Fv,onExited:Fv};$u.UNMOUNTED=C1;$u.EXITED=ty;$u.ENTERING=ey;$u.ENTERED=e_;$u.EXITING=U3;function aht(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function jU(i,e){var n=function(a){return e&&Q.isValidElement(a)?e(a):a},r=Object.create(null);return i&&Q.Children.map(i,function(s){return s}).forEach(function(s){r[s.key]=n(s)}),r}function oht(i,e){i=i||{},e=e||{};function n(h){return h in e?e[h]:i[h]}var r=Object.create(null),s=[];for(var a in i)a in e?s.length&&(r[a]=s,s=[]):s.push(a);var o,l={};for(var u in e){if(r[u])for(o=0;o<r[u].length;o++){var c=r[u][o];l[r[u][o]]=n(c)}l[u]=n(u)}for(o=0;o<s.length;o++)l[s[o]]=n(s[o]);return l}function py(i,e,n){return n[e]!=null?n[e]:i.props[e]}function lht(i,e){return jU(i.children,function(n){return Q.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:py(n,"appear",i),enter:py(n,"enter",i),exit:py(n,"exit",i)})})}function uht(i,e,n){var r=jU(i.children),s=oht(e,r);return Object.keys(s).forEach(function(a){var o=s[a];if(Q.isValidElement(o)){var l=a in e,u=a in r,c=e[a],h=Q.isValidElement(c)&&!c.props.in;u&&(!l||h)?s[a]=Q.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:py(o,"exit",i),enter:py(o,"enter",i)}):!u&&l&&!h?s[a]=Q.cloneElement(o,{in:!1}):u&&l&&Q.isValidElement(c)&&(s[a]=Q.cloneElement(o,{onExited:n.bind(null,o),in:c.props.in,exit:py(o,"exit",i),enter:py(o,"enter",i)}))}}),s}var cht=Object.values||function(i){return Object.keys(i).map(function(e){return i[e]})},fht={component:"div",childFactory:function(e){return e}},GU=function(i){_$(e,i);function e(r,s){var a;a=i.call(this,r,s)||this;var o=a.handleExited.bind(aht(a));return a.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},a}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(s,a){var o=a.children,l=a.handleExited,u=a.firstRender;return{children:u?lht(s,l):uht(s,o,l),firstRender:!1}},n.handleExited=function(s,a){var o=jU(this.props.children);s.key in o||(s.props.onExited&&s.props.onExited(a),this.mounted&&this.setState(function(l){var u=LS({},l.children);return delete u[s.key],{children:u}}))},n.render=function(){var s=this.props,a=s.component,o=s.childFactory,l=v$(s,["component","childFactory"]),u=this.state.contextValue,c=cht(this.state.children).map(o);return delete l.appear,delete l.enter,delete l.exit,a===null?gn.createElement(LC.Provider,{value:u},c):gn.createElement(LC.Provider,{value:u},gn.createElement(a,l,c))},e}(gn.Component);GU.propTypes={};GU.defaultProps=fht;const $U=i=>i.scrollTop;function wm(i,e){const{timeout:n,easing:r,style:s={}}=i;return{duration:s.transitionDuration??(typeof n=="number"?n:n[e.mode]||0),easing:s.transitionTimingFunction??(typeof r=="object"?r[e.mode]:r),delay:s.transitionDelay}}function hht(i){return an("MuiCollapse",i)}tn("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const dht=i=>{const{orientation:e,classes:n}=i,r={root:["root",`${e}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${e}`],wrapperInner:["wrapperInner",`${e}`]};return on(r,hht,n)},pht=de("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.root,e[n.orientation],n.state==="entered"&&e.entered,n.state==="exited"&&!n.in&&n.collapsedSize==="0px"&&e.hidden]}})(_n(({theme:i})=>({height:0,overflow:"hidden",transition:i.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:i.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:({ownerState:e})=>e.state==="exited"&&!e.in&&e.collapsedSize==="0px",style:{visibility:"hidden"}}]}))),mht=de("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(i,e)=>e.wrapper})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),ght=de("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(i,e)=>e.wrapperInner})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),k3=Q.forwardRef(function(e,n){const r=dn({props:e,name:"MuiCollapse"}),{addEndListener:s,children:a,className:o,collapsedSize:l="0px",component:u,easing:c,in:h,onEnter:p,onEntered:g,onEntering:v,onExit:b,onExited:S,onExiting:E,orientation:x="vertical",style:A,timeout:C=c$.standard,TransitionComponent:M=$u,...P}=r,k={...r,orientation:x,collapsedSize:l},D=dht(k),N=Bm(),U=dy(),R=Q.useRef(null),B=Q.useRef(),H=typeof l=="number"?`${l}px`:l,V=x==="horizontal",Y=V?"width":"height",et=Q.useRef(null),G=ys(n,et),X=lt=>gt=>{if(lt){const Tt=et.current;gt===void 0?lt(Tt):lt(Tt,gt)}},J=()=>R.current?R.current[V?"clientWidth":"clientHeight"]:0,nt=X((lt,gt)=>{R.current&&V&&(R.current.style.position="absolute"),lt.style[Y]=H,p&&p(lt,gt)}),Z=X((lt,gt)=>{const Tt=J();R.current&&V&&(R.current.style.position="");const{duration:Kt,easing:Ut}=wm({style:A,timeout:C,easing:c},{mode:"enter"});if(C==="auto"){const te=N.transitions.getAutoHeightDuration(Tt);lt.style.transitionDuration=`${te}ms`,B.current=te}else lt.style.transitionDuration=typeof Kt=="string"?Kt:`${Kt}ms`;lt.style[Y]=`${Tt}px`,lt.style.transitionTimingFunction=Ut,v&&v(lt,gt)}),dt=X((lt,gt)=>{lt.style[Y]="auto",g&&g(lt,gt)}),yt=X(lt=>{lt.style[Y]=`${J()}px`,b&&b(lt)}),xt=X(S),it=X(lt=>{const gt=J(),{duration:Tt,easing:Kt}=wm({style:A,timeout:C,easing:c},{mode:"exit"});if(C==="auto"){const Ut=N.transitions.getAutoHeightDuration(gt);lt.style.transitionDuration=`${Ut}ms`,B.current=Ut}else lt.style.transitionDuration=typeof Tt=="string"?Tt:`${Tt}ms`;lt.style[Y]=H,lt.style.transitionTimingFunction=Kt,E&&E(lt)}),ht=lt=>{C==="auto"&&U.start(B.current||0,lt),s&&s(et.current,lt)};return W.jsx(M,{in:h,onEnter:nt,onEntered:dt,onEntering:Z,onExit:yt,onExited:xt,onExiting:it,addEndListener:ht,nodeRef:et,timeout:C==="auto"?null:C,...P,children:(lt,{ownerState:gt,...Tt})=>W.jsx(pht,{as:u,className:Ne(D.root,o,{entered:D.entered,exited:!h&&H==="0px"&&D.hidden}[lt]),style:{[V?"minWidth":"minHeight"]:H,...A},ref:G,ownerState:{...k,state:lt},...Tt,children:W.jsx(mht,{ownerState:{...k,state:lt},className:D.wrapper,ref:R,children:W.jsx(ght,{ownerState:{...k,state:lt},className:D.wrapperInner,children:a})})})})});k3&&(k3.muiSupportAuto=!0);function yht(i){return an("MuiPaper",i)}tn("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const vht=i=>{const{square:e,elevation:n,variant:r,classes:s}=i,a={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return on(a,yht,s)},_ht=de("div",{name:"MuiPaper",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(_n(({theme:i})=>({backgroundColor:(i.vars||i).palette.background.paper,color:(i.vars||i).palette.text.primary,transition:i.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:i.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(i.vars||i).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),vb=Q.forwardRef(function(e,n){var v;const r=dn({props:e,name:"MuiPaper"}),s=Bm(),{className:a,component:o="div",elevation:l=1,square:u=!1,variant:c="elevation",...h}=r,p={...r,component:o,elevation:l,square:u,variant:c},g=vht(p);return W.jsx(_ht,{as:o,ownerState:p,className:Ne(g.root,a),ref:n,...h,style:{...c==="elevation"&&{"--Paper-shadow":(s.vars||s).shadows[l],...s.vars&&{"--Paper-overlay":(v=s.vars.overlays)==null?void 0:v[l]},...!s.vars&&s.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${fr("#fff",N3(l))}, ${fr("#fff",N3(l))})`}},...h.style}})});function zn(i,e){const{className:n,elementType:r,ownerState:s,externalForwardedProps:a,internalForwardedProps:o,shouldForwardComponentProp:l=!1,...u}=e,{component:c,slots:h={[i]:void 0},slotProps:p={[i]:void 0},...g}=a,v=h[i]||r,b=o$(p[i],s),{props:{component:S,...E},internalRef:x}=a$({className:n,...u,externalForwardedProps:i==="root"?g:void 0,externalSlotProps:b}),A=ys(x,b==null?void 0:b.ref,e.ref),C=i==="root"?S||c:S,M=r$(v,{...i==="root"&&!c&&!h[i]&&o,...i!=="root"&&!h[i]&&o,...E,...C&&!l&&{as:C},...C&&l&&{component:C},ref:A},s);return[v,M]}class UC{constructor(){Rx(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new UC}static use(){const e=n$(UC.create).current,[n,r]=Q.useState(!1);return e.shouldMount=n,e.setShouldMount=r,Q.useEffect(e.mountEffect,[n]),e}mount(){return this.mounted||(this.mounted=xht(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.start(...e)})}stop(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.stop(...e)})}pulsate(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.pulsate(...e)})}}function bht(){return UC.use()}function xht(){let i,e;const n=new Promise((r,s)=>{i=r,e=s});return n.resolve=i,n.reject=e,n}function Sht(i){const{className:e,classes:n,pulsate:r=!1,rippleX:s,rippleY:a,rippleSize:o,in:l,onExited:u,timeout:c}=i,[h,p]=Q.useState(!1),g=Ne(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),v={width:o,height:o,top:-(o/2)+a,left:-(o/2)+s},b=Ne(n.child,h&&n.childLeaving,r&&n.childPulsate);return!l&&!h&&p(!0),Q.useEffect(()=>{if(!l&&u!=null){const S=setTimeout(u,c);return()=>{clearTimeout(S)}}},[u,l,c]),W.jsx("span",{className:g,style:v,children:W.jsx("span",{className:b})})}const Ou=tn("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),z3=550,Eht=80,Tht=zm`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,wht=zm`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,Aht=zm`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,Mht=de("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Cht=de(Sht,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${Ou.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${Tht};
    animation-duration: ${z3}ms;
    animation-timing-function: ${({theme:i})=>i.transitions.easing.easeInOut};
  }

  &.${Ou.ripplePulsate} {
    animation-duration: ${({theme:i})=>i.transitions.duration.shorter}ms;
  }

  & .${Ou.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${Ou.childLeaving} {
    opacity: 0;
    animation-name: ${wht};
    animation-duration: ${z3}ms;
    animation-timing-function: ${({theme:i})=>i.transitions.easing.easeInOut};
  }

  & .${Ou.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${Aht};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:i})=>i.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,Rht=Q.forwardRef(function(e,n){const r=dn({props:e,name:"MuiTouchRipple"}),{center:s=!1,classes:a={},className:o,...l}=r,[u,c]=Q.useState([]),h=Q.useRef(0),p=Q.useRef(null);Q.useEffect(()=>{p.current&&(p.current(),p.current=null)},[u]);const g=Q.useRef(!1),v=dy(),b=Q.useRef(null),S=Q.useRef(null),E=Q.useCallback(M=>{const{pulsate:P,rippleX:k,rippleY:D,rippleSize:N,cb:U}=M;c(R=>[...R,W.jsx(Cht,{classes:{ripple:Ne(a.ripple,Ou.ripple),rippleVisible:Ne(a.rippleVisible,Ou.rippleVisible),ripplePulsate:Ne(a.ripplePulsate,Ou.ripplePulsate),child:Ne(a.child,Ou.child),childLeaving:Ne(a.childLeaving,Ou.childLeaving),childPulsate:Ne(a.childPulsate,Ou.childPulsate)},timeout:z3,pulsate:P,rippleX:k,rippleY:D,rippleSize:N},h.current)]),h.current+=1,p.current=U},[a]),x=Q.useCallback((M={},P={},k=()=>{})=>{const{pulsate:D=!1,center:N=s||P.pulsate,fakeElement:U=!1}=P;if((M==null?void 0:M.type)==="mousedown"&&g.current){g.current=!1;return}(M==null?void 0:M.type)==="touchstart"&&(g.current=!0);const R=U?null:S.current,B=R?R.getBoundingClientRect():{width:0,height:0,left:0,top:0};let H,V,Y;if(N||M===void 0||M.clientX===0&&M.clientY===0||!M.clientX&&!M.touches)H=Math.round(B.width/2),V=Math.round(B.height/2);else{const{clientX:et,clientY:G}=M.touches&&M.touches.length>0?M.touches[0]:M;H=Math.round(et-B.left),V=Math.round(G-B.top)}if(N)Y=Math.sqrt((2*B.width**2+B.height**2)/3),Y%2===0&&(Y+=1);else{const et=Math.max(Math.abs((R?R.clientWidth:0)-H),H)*2+2,G=Math.max(Math.abs((R?R.clientHeight:0)-V),V)*2+2;Y=Math.sqrt(et**2+G**2)}M!=null&&M.touches?b.current===null&&(b.current=()=>{E({pulsate:D,rippleX:H,rippleY:V,rippleSize:Y,cb:k})},v.start(Eht,()=>{b.current&&(b.current(),b.current=null)})):E({pulsate:D,rippleX:H,rippleY:V,rippleSize:Y,cb:k})},[s,E,v]),A=Q.useCallback(()=>{x({},{pulsate:!0})},[x]),C=Q.useCallback((M,P)=>{if(v.clear(),(M==null?void 0:M.type)==="touchend"&&b.current){b.current(),b.current=null,v.start(0,()=>{C(M,P)});return}b.current=null,c(k=>k.length>0?k.slice(1):k),p.current=P},[v]);return Q.useImperativeHandle(n,()=>({pulsate:A,start:x,stop:C}),[A,x,C]),W.jsx(Mht,{className:Ne(Ou.root,a.root,o),ref:S,...l,children:W.jsx(GU,{component:null,exit:!0,children:u})})});function Oht(i){return an("MuiButtonBase",i)}const Pht=tn("MuiButtonBase",["root","disabled","focusVisible"]),Iht=i=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:s}=i,o=on({root:["root",e&&"disabled",n&&"focusVisible"]},Oht,s);return n&&r&&(o.root+=` ${r}`),o},Dht=de("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(i,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Pht.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),u0=Q.forwardRef(function(e,n){const r=dn({props:e,name:"MuiButtonBase"}),{action:s,centerRipple:a=!1,children:o,className:l,component:u="button",disabled:c=!1,disableRipple:h=!1,disableTouchRipple:p=!1,focusRipple:g=!1,focusVisibleClassName:v,LinkComponent:b="a",onBlur:S,onClick:E,onContextMenu:x,onDragLeave:A,onFocus:C,onFocusVisible:M,onKeyDown:P,onKeyUp:k,onMouseDown:D,onMouseLeave:N,onMouseUp:U,onTouchEnd:R,onTouchMove:B,onTouchStart:H,tabIndex:V=0,TouchRippleProps:Y,touchRippleRef:et,type:G,...X}=r,J=Q.useRef(null),nt=bht(),Z=ys(nt.ref,et),[dt,yt]=Q.useState(!1);c&&dt&&yt(!1),Q.useImperativeHandle(s,()=>({focusVisible:()=>{yt(!0),J.current.focus()}}),[]);const xt=nt.shouldMount&&!h&&!c;Q.useEffect(()=>{dt&&g&&!h&&nt.pulsate()},[h,g,dt,nt]);const it=Jh(nt,"start",D,p),ht=Jh(nt,"stop",x,p),lt=Jh(nt,"stop",A,p),gt=Jh(nt,"stop",U,p),Tt=Jh(nt,"stop",j=>{dt&&j.preventDefault(),N&&N(j)},p),Kt=Jh(nt,"start",H,p),Ut=Jh(nt,"stop",R,p),te=Jh(nt,"stop",B,p),Pt=Jh(nt,"stop",j=>{DC(j.target)||yt(!1),S&&S(j)},!1),Bt=zu(j=>{J.current||(J.current=j.currentTarget),DC(j.target)&&(yt(!0),M&&M(j)),C&&C(j)}),at=()=>{const j=J.current;return u&&u!=="button"&&!(j.tagName==="A"&&j.href)},ce=zu(j=>{g&&!j.repeat&&dt&&j.key===" "&&nt.stop(j,()=>{nt.start(j)}),j.target===j.currentTarget&&at()&&j.key===" "&&j.preventDefault(),P&&P(j),j.target===j.currentTarget&&at()&&j.key==="Enter"&&!c&&(j.preventDefault(),E&&E(j))}),ee=zu(j=>{g&&j.key===" "&&dt&&!j.defaultPrevented&&nt.stop(j,()=>{nt.pulsate(j)}),k&&k(j),E&&j.target===j.currentTarget&&at()&&j.key===" "&&!j.defaultPrevented&&E(j)});let ne=u;ne==="button"&&(X.href||X.to)&&(ne=b);const ie={};ne==="button"?(ie.type=G===void 0?"button":G,ie.disabled=c):(!X.href&&!X.to&&(ie.role="button"),c&&(ie["aria-disabled"]=c));const Me=ys(n,J),le={...r,centerRipple:a,component:u,disabled:c,disableRipple:h,disableTouchRipple:p,focusRipple:g,tabIndex:V,focusVisible:dt},ut=Iht(le);return W.jsxs(Dht,{as:ne,className:Ne(ut.root,l),ownerState:le,onBlur:Pt,onClick:E,onContextMenu:ht,onFocus:Bt,onKeyDown:ce,onKeyUp:ee,onMouseDown:it,onMouseLeave:Tt,onMouseUp:gt,onDragLeave:lt,onTouchEnd:Ut,onTouchMove:te,onTouchStart:Kt,ref:Me,tabIndex:c?-1:V,type:G,...ie,...X,children:[o,xt?W.jsx(Rht,{ref:Z,center:a,...Y}):null]})});function Jh(i,e,n,r=!1){return zu(s=>(n&&n(s),r||i[e](s),!0))}function Nht(i){return typeof i.main=="string"}function Lht(i,e=[]){if(!Nht(i))return!1;for(const n of e)if(!i.hasOwnProperty(n)||typeof i[n]!="string")return!1;return!0}function Is(i=[]){return([,e])=>e&&Lht(e,i)}function Uht(i){return an("MuiAlert",i)}const BF=tn("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function kht(i){return an("MuiCircularProgress",i)}tn("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Gp=44,B3=zm`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,F3=zm`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,zht=typeof B3!="string"?gb`
        animation: ${B3} 1.4s linear infinite;
      `:null,Bht=typeof F3!="string"?gb`
        animation: ${F3} 1.4s ease-in-out infinite;
      `:null,Fht=i=>{const{classes:e,variant:n,color:r,disableShrink:s}=i,a={root:["root",n,`color${De(r)}`],svg:["svg"],circle:["circle",`circle${De(n)}`,s&&"circleDisableShrink"]};return on(a,kht,e)},Vht=de("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.root,e[n.variant],e[`color${De(n.color)}`]]}})(_n(({theme:i})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:i.transitions.create("transform")}},{props:{variant:"indeterminate"},style:zht||{animation:`${B3} 1.4s linear infinite`}},...Object.entries(i.palette).filter(Is()).map(([e])=>({props:{color:e},style:{color:(i.vars||i).palette[e].main}}))]}))),Hht=de("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(i,e)=>e.svg})({display:"block"}),jht=de("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.circle,e[`circle${De(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(_n(({theme:i})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:i.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:Bht||{animation:`${F3} 1.4s ease-in-out infinite`}}]}))),qU=Q.forwardRef(function(e,n){const r=dn({props:e,name:"MuiCircularProgress"}),{className:s,color:a="primary",disableShrink:o=!1,size:l=40,style:u,thickness:c=3.6,value:h=0,variant:p="indeterminate",...g}=r,v={...r,color:a,disableShrink:o,size:l,thickness:c,value:h,variant:p},b=Fht(v),S={},E={},x={};if(p==="determinate"){const A=2*Math.PI*((Gp-c)/2);S.strokeDasharray=A.toFixed(3),x["aria-valuenow"]=Math.round(h),S.strokeDashoffset=`${((100-h)/100*A).toFixed(3)}px`,E.transform="rotate(-90deg)"}return W.jsx(Vht,{className:Ne(b.root,s),style:{width:l,height:l,...E,...u},ownerState:v,ref:n,role:"progressbar",...x,...g,children:W.jsx(Hht,{className:b.svg,ownerState:v,viewBox:`${Gp/2} ${Gp/2} ${Gp} ${Gp}`,children:W.jsx(jht,{className:b.circle,style:S,ownerState:v,cx:Gp,cy:Gp,r:(Gp-c)/2,fill:"none",strokeWidth:c})})})});function Ght(i){return an("MuiIconButton",i)}const FF=tn("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),$ht=i=>{const{classes:e,disabled:n,color:r,edge:s,size:a,loading:o}=i,l={root:["root",o&&"loading",n&&"disabled",r!=="default"&&`color${De(r)}`,s&&`edge${De(s)}`,`size${De(a)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return on(l,Ght,e)},qht=de(u0,{name:"MuiIconButton",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.root,n.loading&&e.loading,n.color!=="default"&&e[`color${De(n.color)}`],n.edge&&e[`edge${De(n.edge)}`],e[`size${De(n.size)}`]]}})(_n(({theme:i})=>({textAlign:"center",flex:"0 0 auto",fontSize:i.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(i.vars||i).palette.action.active,transition:i.transitions.create("background-color",{duration:i.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":i.vars?`rgba(${i.vars.palette.action.activeChannel} / ${i.vars.palette.action.hoverOpacity})`:fr(i.palette.action.active,i.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),_n(({theme:i})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(i.palette).filter(Is()).map(([e])=>({props:{color:e},style:{color:(i.vars||i).palette[e].main}})),...Object.entries(i.palette).filter(Is()).map(([e])=>({props:{color:e},style:{"--IconButton-hoverBg":i.vars?`rgba(${(i.vars||i).palette[e].mainChannel} / ${i.vars.palette.action.hoverOpacity})`:fr((i.vars||i).palette[e].main,i.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:i.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:i.typography.pxToRem(28)}}],[`&.${FF.disabled}`]:{backgroundColor:"transparent",color:(i.vars||i).palette.action.disabled},[`&.${FF.loading}`]:{color:"transparent"}}))),Wht=de("span",{name:"MuiIconButton",slot:"LoadingIndicator",overridesResolver:(i,e)=>e.loadingIndicator})(({theme:i})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(i.vars||i).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),ay=Q.forwardRef(function(e,n){const r=dn({props:e,name:"MuiIconButton"}),{edge:s=!1,children:a,className:o,color:l="default",disabled:u=!1,disableFocusRipple:c=!1,size:h="medium",id:p,loading:g=null,loadingIndicator:v,...b}=r,S=o0(p),E=v??W.jsx(qU,{"aria-labelledby":S,color:"inherit",size:16}),x={...r,edge:s,color:l,disabled:u,disableFocusRipple:c,loading:g,loadingIndicator:E,size:h},A=$ht(x);return W.jsxs(qht,{id:g?S:p,className:Ne(A.root,o),centerRipple:!0,focusRipple:!c,disabled:u||g,ref:n,...b,ownerState:x,children:[typeof g=="boolean"&&W.jsx("span",{className:A.loadingWrapper,style:{display:"contents"},children:W.jsx(Wht,{className:A.loadingIndicator,ownerState:x,children:g&&E})}),a]})}),Xht=Pr(W.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),Yht=Pr(W.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),Kht=Pr(W.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),Zht=Pr(W.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),Qht=Pr(W.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),Jht=i=>{const{variant:e,color:n,severity:r,classes:s}=i,a={root:["root",`color${De(n||r)}`,`${e}${De(n||r)}`,`${e}`],icon:["icon"],message:["message"],action:["action"]};return on(a,Uht,s)},tdt=de(vb,{name:"MuiAlert",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.root,e[n.variant],e[`${n.variant}${De(n.color||n.severity)}`]]}})(_n(({theme:i})=>{const e=i.palette.mode==="light"?$y:qy,n=i.palette.mode==="light"?qy:$y;return{...i.typography.body2,backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(i.palette).filter(Is(["light"])).map(([r])=>({props:{colorSeverity:r,variant:"standard"},style:{color:i.vars?i.vars.palette.Alert[`${r}Color`]:e(i.palette[r].light,.6),backgroundColor:i.vars?i.vars.palette.Alert[`${r}StandardBg`]:n(i.palette[r].light,.9),[`& .${BF.icon}`]:i.vars?{color:i.vars.palette.Alert[`${r}IconColor`]}:{color:i.palette[r].main}}})),...Object.entries(i.palette).filter(Is(["light"])).map(([r])=>({props:{colorSeverity:r,variant:"outlined"},style:{color:i.vars?i.vars.palette.Alert[`${r}Color`]:e(i.palette[r].light,.6),border:`1px solid ${(i.vars||i).palette[r].light}`,[`& .${BF.icon}`]:i.vars?{color:i.vars.palette.Alert[`${r}IconColor`]}:{color:i.palette[r].main}}})),...Object.entries(i.palette).filter(Is(["dark"])).map(([r])=>({props:{colorSeverity:r,variant:"filled"},style:{fontWeight:i.typography.fontWeightMedium,...i.vars?{color:i.vars.palette.Alert[`${r}FilledColor`],backgroundColor:i.vars.palette.Alert[`${r}FilledBg`]}:{backgroundColor:i.palette.mode==="dark"?i.palette[r].dark:i.palette[r].main,color:i.palette.getContrastText(i.palette[r].main)}}}))]}})),edt=de("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(i,e)=>e.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),ndt=de("div",{name:"MuiAlert",slot:"Message",overridesResolver:(i,e)=>e.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),idt=de("div",{name:"MuiAlert",slot:"Action",overridesResolver:(i,e)=>e.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),VF={success:W.jsx(Xht,{fontSize:"inherit"}),warning:W.jsx(Yht,{fontSize:"inherit"}),error:W.jsx(Kht,{fontSize:"inherit"}),info:W.jsx(Zht,{fontSize:"inherit"})},rdt=Q.forwardRef(function(e,n){const r=dn({props:e,name:"MuiAlert"}),{action:s,children:a,className:o,closeText:l="Close",color:u,components:c={},componentsProps:h={},icon:p,iconMapping:g=VF,onClose:v,role:b="alert",severity:S="success",slotProps:E={},slots:x={},variant:A="standard",...C}=r,M={...r,color:u,severity:S,variant:A,colorSeverity:u||S},P=Jht(M),k={slots:{closeButton:c.CloseButton,closeIcon:c.CloseIcon,...x},slotProps:{...h,...E}},[D,N]=zn("root",{ref:n,shouldForwardComponentProp:!0,className:Ne(P.root,o),elementType:tdt,externalForwardedProps:{...k,...C},ownerState:M,additionalProps:{role:b,elevation:0}}),[U,R]=zn("icon",{className:P.icon,elementType:edt,externalForwardedProps:k,ownerState:M}),[B,H]=zn("message",{className:P.message,elementType:ndt,externalForwardedProps:k,ownerState:M}),[V,Y]=zn("action",{className:P.action,elementType:idt,externalForwardedProps:k,ownerState:M}),[et,G]=zn("closeButton",{elementType:ay,externalForwardedProps:k,ownerState:M}),[X,J]=zn("closeIcon",{elementType:Qht,externalForwardedProps:k,ownerState:M});return W.jsxs(D,{...N,children:[p!==!1?W.jsx(U,{...R,children:p||g[S]||VF[S]}):null,W.jsx(B,{...H,children:a}),s!=null?W.jsx(V,{...Y,children:s}):null,s==null&&v?W.jsx(V,{...Y,children:W.jsx(et,{size:"small","aria-label":l,title:l,color:"inherit",onClick:v,...G,children:W.jsx(X,{fontSize:"small",...J})})}):null]})});function sdt(i){return an("MuiTypography",i)}tn("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const adt={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},odt=eht(),ldt=i=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:s,variant:a,classes:o}=i,l={root:["root",a,i.align!=="inherit"&&`align${De(e)}`,n&&"gutterBottom",r&&"noWrap",s&&"paragraph"]};return on(l,sdt,o)},udt=de("span",{name:"MuiTypography",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${De(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(_n(({theme:i})=>{var e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(i.typography).filter(([n,r])=>n!=="inherit"&&r&&typeof r=="object").map(([n,r])=>({props:{variant:n},style:r})),...Object.entries(i.palette).filter(Is()).map(([n])=>({props:{color:n},style:{color:(i.vars||i).palette[n].main}})),...Object.entries(((e=i.palette)==null?void 0:e.text)||{}).filter(([,n])=>typeof n=="string").map(([n])=>({props:{color:`text${De(n)}`},style:{color:(i.vars||i).palette.text[n]}})),{props:({ownerState:n})=>n.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:n})=>n.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:n})=>n.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:n})=>n.paragraph,style:{marginBottom:16}}]}})),HF={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Li=Q.forwardRef(function(e,n){const{color:r,...s}=dn({props:e,name:"MuiTypography"}),a=!adt[r],o=odt({...s,...a&&{color:r}}),{align:l="inherit",className:u,component:c,gutterBottom:h=!1,noWrap:p=!1,paragraph:g=!1,variant:v="body1",variantMapping:b=HF,...S}=o,E={...o,align:l,color:r,className:u,component:c,gutterBottom:h,noWrap:p,paragraph:g,variant:v,variantMapping:b},x=c||(g?"p":b[v]||HF[v])||"span",A=ldt(E);return W.jsx(udt,{as:x,ref:n,className:Ne(A.root,u),...S,ownerState:E,style:{...l!=="inherit"&&{"--Typography-textAlign":l},...S.style}})});var cl="top",Hu="bottom",ju="right",fl="left",WU="auto",DE=[cl,Hu,ju,fl],k_="start",VS="end",cdt="clippingParents",x$="viewport",Zx="popper",fdt="reference",jF=DE.reduce(function(i,e){return i.concat([e+"-"+k_,e+"-"+VS])},[]),S$=[].concat(DE,[WU]).reduce(function(i,e){return i.concat([e,e+"-"+k_,e+"-"+VS])},[]),hdt="beforeRead",ddt="read",pdt="afterRead",mdt="beforeMain",gdt="main",ydt="afterMain",vdt="beforeWrite",_dt="write",bdt="afterWrite",xdt=[hdt,ddt,pdt,mdt,gdt,ydt,vdt,_dt,bdt];function oh(i){return i?(i.nodeName||"").toLowerCase():null}function Jl(i){if(i==null)return window;if(i.toString()!=="[object Window]"){var e=i.ownerDocument;return e&&e.defaultView||window}return i}function Wy(i){var e=Jl(i).Element;return i instanceof e||i instanceof Element}function Bu(i){var e=Jl(i).HTMLElement;return i instanceof e||i instanceof HTMLElement}function XU(i){if(typeof ShadowRoot>"u")return!1;var e=Jl(i).ShadowRoot;return i instanceof e||i instanceof ShadowRoot}function Sdt(i){var e=i.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},s=e.attributes[n]||{},a=e.elements[n];!Bu(a)||!oh(a)||(Object.assign(a.style,r),Object.keys(s).forEach(function(o){var l=s[o];l===!1?a.removeAttribute(o):a.setAttribute(o,l===!0?"":l)}))})}function Edt(i){var e=i.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var s=e.elements[r],a=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),l=o.reduce(function(u,c){return u[c]="",u},{});!Bu(s)||!oh(s)||(Object.assign(s.style,l),Object.keys(a).forEach(function(u){s.removeAttribute(u)}))})}}const Tdt={name:"applyStyles",enabled:!0,phase:"write",fn:Sdt,effect:Edt,requires:["computeStyles"]};function th(i){return i.split("-")[0]}var Ay=Math.max,kC=Math.min,z_=Math.round;function V3(){var i=navigator.userAgentData;return i!=null&&i.brands&&Array.isArray(i.brands)?i.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function E$(){return!/^((?!chrome|android).)*safari/i.test(V3())}function B_(i,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=i.getBoundingClientRect(),s=1,a=1;e&&Bu(i)&&(s=i.offsetWidth>0&&z_(r.width)/i.offsetWidth||1,a=i.offsetHeight>0&&z_(r.height)/i.offsetHeight||1);var o=Wy(i)?Jl(i):window,l=o.visualViewport,u=!E$()&&n,c=(r.left+(u&&l?l.offsetLeft:0))/s,h=(r.top+(u&&l?l.offsetTop:0))/a,p=r.width/s,g=r.height/a;return{width:p,height:g,top:h,right:c+p,bottom:h+g,left:c,x:c,y:h}}function YU(i){var e=B_(i),n=i.offsetWidth,r=i.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:i.offsetLeft,y:i.offsetTop,width:n,height:r}}function T$(i,e){var n=e.getRootNode&&e.getRootNode();if(i.contains(e))return!0;if(n&&XU(n)){var r=e;do{if(r&&i.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Ld(i){return Jl(i).getComputedStyle(i)}function wdt(i){return["table","td","th"].indexOf(oh(i))>=0}function Fm(i){return((Wy(i)?i.ownerDocument:i.document)||window.document).documentElement}function zR(i){return oh(i)==="html"?i:i.assignedSlot||i.parentNode||(XU(i)?i.host:null)||Fm(i)}function GF(i){return!Bu(i)||Ld(i).position==="fixed"?null:i.offsetParent}function Adt(i){var e=/firefox/i.test(V3()),n=/Trident/i.test(V3());if(n&&Bu(i)){var r=Ld(i);if(r.position==="fixed")return null}var s=zR(i);for(XU(s)&&(s=s.host);Bu(s)&&["html","body"].indexOf(oh(s))<0;){var a=Ld(s);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return s;s=s.parentNode}return null}function NE(i){for(var e=Jl(i),n=GF(i);n&&wdt(n)&&Ld(n).position==="static";)n=GF(n);return n&&(oh(n)==="html"||oh(n)==="body"&&Ld(n).position==="static")?e:n||Adt(i)||e}function KU(i){return["top","bottom"].indexOf(i)>=0?"x":"y"}function Z1(i,e,n){return Ay(i,kC(e,n))}function Mdt(i,e,n){var r=Z1(i,e,n);return r>n?n:r}function w$(){return{top:0,right:0,bottom:0,left:0}}function A$(i){return Object.assign({},w$(),i)}function M$(i,e){return e.reduce(function(n,r){return n[r]=i,n},{})}var Cdt=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,A$(typeof e!="number"?e:M$(e,DE))};function Rdt(i){var e,n=i.state,r=i.name,s=i.options,a=n.elements.arrow,o=n.modifiersData.popperOffsets,l=th(n.placement),u=KU(l),c=[fl,ju].indexOf(l)>=0,h=c?"height":"width";if(!(!a||!o)){var p=Cdt(s.padding,n),g=YU(a),v=u==="y"?cl:fl,b=u==="y"?Hu:ju,S=n.rects.reference[h]+n.rects.reference[u]-o[u]-n.rects.popper[h],E=o[u]-n.rects.reference[u],x=NE(a),A=x?u==="y"?x.clientHeight||0:x.clientWidth||0:0,C=S/2-E/2,M=p[v],P=A-g[h]-p[b],k=A/2-g[h]/2+C,D=Z1(M,k,P),N=u;n.modifiersData[r]=(e={},e[N]=D,e.centerOffset=D-k,e)}}function Odt(i){var e=i.state,n=i.options,r=n.element,s=r===void 0?"[data-popper-arrow]":r;s!=null&&(typeof s=="string"&&(s=e.elements.popper.querySelector(s),!s)||T$(e.elements.popper,s)&&(e.elements.arrow=s))}const Pdt={name:"arrow",enabled:!0,phase:"main",fn:Rdt,effect:Odt,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function F_(i){return i.split("-")[1]}var Idt={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Ddt(i,e){var n=i.x,r=i.y,s=e.devicePixelRatio||1;return{x:z_(n*s)/s||0,y:z_(r*s)/s||0}}function $F(i){var e,n=i.popper,r=i.popperRect,s=i.placement,a=i.variation,o=i.offsets,l=i.position,u=i.gpuAcceleration,c=i.adaptive,h=i.roundOffsets,p=i.isFixed,g=o.x,v=g===void 0?0:g,b=o.y,S=b===void 0?0:b,E=typeof h=="function"?h({x:v,y:S}):{x:v,y:S};v=E.x,S=E.y;var x=o.hasOwnProperty("x"),A=o.hasOwnProperty("y"),C=fl,M=cl,P=window;if(c){var k=NE(n),D="clientHeight",N="clientWidth";if(k===Jl(n)&&(k=Fm(n),Ld(k).position!=="static"&&l==="absolute"&&(D="scrollHeight",N="scrollWidth")),k=k,s===cl||(s===fl||s===ju)&&a===VS){M=Hu;var U=p&&k===P&&P.visualViewport?P.visualViewport.height:k[D];S-=U-r.height,S*=u?1:-1}if(s===fl||(s===cl||s===Hu)&&a===VS){C=ju;var R=p&&k===P&&P.visualViewport?P.visualViewport.width:k[N];v-=R-r.width,v*=u?1:-1}}var B=Object.assign({position:l},c&&Idt),H=h===!0?Ddt({x:v,y:S},Jl(n)):{x:v,y:S};if(v=H.x,S=H.y,u){var V;return Object.assign({},B,(V={},V[M]=A?"0":"",V[C]=x?"0":"",V.transform=(P.devicePixelRatio||1)<=1?"translate("+v+"px, "+S+"px)":"translate3d("+v+"px, "+S+"px, 0)",V))}return Object.assign({},B,(e={},e[M]=A?S+"px":"",e[C]=x?v+"px":"",e.transform="",e))}function Ndt(i){var e=i.state,n=i.options,r=n.gpuAcceleration,s=r===void 0?!0:r,a=n.adaptive,o=a===void 0?!0:a,l=n.roundOffsets,u=l===void 0?!0:l,c={placement:th(e.placement),variation:F_(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,$F(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:u})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,$F(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Ldt={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Ndt,data:{}};var hA={passive:!0};function Udt(i){var e=i.state,n=i.instance,r=i.options,s=r.scroll,a=s===void 0?!0:s,o=r.resize,l=o===void 0?!0:o,u=Jl(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&c.forEach(function(h){h.addEventListener("scroll",n.update,hA)}),l&&u.addEventListener("resize",n.update,hA),function(){a&&c.forEach(function(h){h.removeEventListener("scroll",n.update,hA)}),l&&u.removeEventListener("resize",n.update,hA)}}const kdt={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Udt,data:{}};var zdt={left:"right",right:"left",bottom:"top",top:"bottom"};function pM(i){return i.replace(/left|right|bottom|top/g,function(e){return zdt[e]})}var Bdt={start:"end",end:"start"};function qF(i){return i.replace(/start|end/g,function(e){return Bdt[e]})}function ZU(i){var e=Jl(i),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function QU(i){return B_(Fm(i)).left+ZU(i).scrollLeft}function Fdt(i,e){var n=Jl(i),r=Fm(i),s=n.visualViewport,a=r.clientWidth,o=r.clientHeight,l=0,u=0;if(s){a=s.width,o=s.height;var c=E$();(c||!c&&e==="fixed")&&(l=s.offsetLeft,u=s.offsetTop)}return{width:a,height:o,x:l+QU(i),y:u}}function Vdt(i){var e,n=Fm(i),r=ZU(i),s=(e=i.ownerDocument)==null?void 0:e.body,a=Ay(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=Ay(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),l=-r.scrollLeft+QU(i),u=-r.scrollTop;return Ld(s||n).direction==="rtl"&&(l+=Ay(n.clientWidth,s?s.clientWidth:0)-a),{width:a,height:o,x:l,y:u}}function JU(i){var e=Ld(i),n=e.overflow,r=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+r)}function C$(i){return["html","body","#document"].indexOf(oh(i))>=0?i.ownerDocument.body:Bu(i)&&JU(i)?i:C$(zR(i))}function Q1(i,e){var n;e===void 0&&(e=[]);var r=C$(i),s=r===((n=i.ownerDocument)==null?void 0:n.body),a=Jl(r),o=s?[a].concat(a.visualViewport||[],JU(r)?r:[]):r,l=e.concat(o);return s?l:l.concat(Q1(zR(o)))}function H3(i){return Object.assign({},i,{left:i.x,top:i.y,right:i.x+i.width,bottom:i.y+i.height})}function Hdt(i,e){var n=B_(i,!1,e==="fixed");return n.top=n.top+i.clientTop,n.left=n.left+i.clientLeft,n.bottom=n.top+i.clientHeight,n.right=n.left+i.clientWidth,n.width=i.clientWidth,n.height=i.clientHeight,n.x=n.left,n.y=n.top,n}function WF(i,e,n){return e===x$?H3(Fdt(i,n)):Wy(e)?Hdt(e,n):H3(Vdt(Fm(i)))}function jdt(i){var e=Q1(zR(i)),n=["absolute","fixed"].indexOf(Ld(i).position)>=0,r=n&&Bu(i)?NE(i):i;return Wy(r)?e.filter(function(s){return Wy(s)&&T$(s,r)&&oh(s)!=="body"}):[]}function Gdt(i,e,n,r){var s=e==="clippingParents"?jdt(i):[].concat(e),a=[].concat(s,[n]),o=a[0],l=a.reduce(function(u,c){var h=WF(i,c,r);return u.top=Ay(h.top,u.top),u.right=kC(h.right,u.right),u.bottom=kC(h.bottom,u.bottom),u.left=Ay(h.left,u.left),u},WF(i,o,r));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function R$(i){var e=i.reference,n=i.element,r=i.placement,s=r?th(r):null,a=r?F_(r):null,o=e.x+e.width/2-n.width/2,l=e.y+e.height/2-n.height/2,u;switch(s){case cl:u={x:o,y:e.y-n.height};break;case Hu:u={x:o,y:e.y+e.height};break;case ju:u={x:e.x+e.width,y:l};break;case fl:u={x:e.x-n.width,y:l};break;default:u={x:e.x,y:e.y}}var c=s?KU(s):null;if(c!=null){var h=c==="y"?"height":"width";switch(a){case k_:u[c]=u[c]-(e[h]/2-n[h]/2);break;case VS:u[c]=u[c]+(e[h]/2-n[h]/2);break}}return u}function HS(i,e){e===void 0&&(e={});var n=e,r=n.placement,s=r===void 0?i.placement:r,a=n.strategy,o=a===void 0?i.strategy:a,l=n.boundary,u=l===void 0?cdt:l,c=n.rootBoundary,h=c===void 0?x$:c,p=n.elementContext,g=p===void 0?Zx:p,v=n.altBoundary,b=v===void 0?!1:v,S=n.padding,E=S===void 0?0:S,x=A$(typeof E!="number"?E:M$(E,DE)),A=g===Zx?fdt:Zx,C=i.rects.popper,M=i.elements[b?A:g],P=Gdt(Wy(M)?M:M.contextElement||Fm(i.elements.popper),u,h,o),k=B_(i.elements.reference),D=R$({reference:k,element:C,placement:s}),N=H3(Object.assign({},C,D)),U=g===Zx?N:k,R={top:P.top-U.top+x.top,bottom:U.bottom-P.bottom+x.bottom,left:P.left-U.left+x.left,right:U.right-P.right+x.right},B=i.modifiersData.offset;if(g===Zx&&B){var H=B[s];Object.keys(R).forEach(function(V){var Y=[ju,Hu].indexOf(V)>=0?1:-1,et=[cl,Hu].indexOf(V)>=0?"y":"x";R[V]+=H[et]*Y})}return R}function $dt(i,e){e===void 0&&(e={});var n=e,r=n.placement,s=n.boundary,a=n.rootBoundary,o=n.padding,l=n.flipVariations,u=n.allowedAutoPlacements,c=u===void 0?S$:u,h=F_(r),p=h?l?jF:jF.filter(function(b){return F_(b)===h}):DE,g=p.filter(function(b){return c.indexOf(b)>=0});g.length===0&&(g=p);var v=g.reduce(function(b,S){return b[S]=HS(i,{placement:S,boundary:s,rootBoundary:a,padding:o})[th(S)],b},{});return Object.keys(v).sort(function(b,S){return v[b]-v[S]})}function qdt(i){if(th(i)===WU)return[];var e=pM(i);return[qF(i),e,qF(e)]}function Wdt(i){var e=i.state,n=i.options,r=i.name;if(!e.modifiersData[r]._skip){for(var s=n.mainAxis,a=s===void 0?!0:s,o=n.altAxis,l=o===void 0?!0:o,u=n.fallbackPlacements,c=n.padding,h=n.boundary,p=n.rootBoundary,g=n.altBoundary,v=n.flipVariations,b=v===void 0?!0:v,S=n.allowedAutoPlacements,E=e.options.placement,x=th(E),A=x===E,C=u||(A||!b?[pM(E)]:qdt(E)),M=[E].concat(C).reduce(function(it,ht){return it.concat(th(ht)===WU?$dt(e,{placement:ht,boundary:h,rootBoundary:p,padding:c,flipVariations:b,allowedAutoPlacements:S}):ht)},[]),P=e.rects.reference,k=e.rects.popper,D=new Map,N=!0,U=M[0],R=0;R<M.length;R++){var B=M[R],H=th(B),V=F_(B)===k_,Y=[cl,Hu].indexOf(H)>=0,et=Y?"width":"height",G=HS(e,{placement:B,boundary:h,rootBoundary:p,altBoundary:g,padding:c}),X=Y?V?ju:fl:V?Hu:cl;P[et]>k[et]&&(X=pM(X));var J=pM(X),nt=[];if(a&&nt.push(G[H]<=0),l&&nt.push(G[X]<=0,G[J]<=0),nt.every(function(it){return it})){U=B,N=!1;break}D.set(B,nt)}if(N)for(var Z=b?3:1,dt=function(ht){var lt=M.find(function(gt){var Tt=D.get(gt);if(Tt)return Tt.slice(0,ht).every(function(Kt){return Kt})});if(lt)return U=lt,"break"},yt=Z;yt>0;yt--){var xt=dt(yt);if(xt==="break")break}e.placement!==U&&(e.modifiersData[r]._skip=!0,e.placement=U,e.reset=!0)}}const Xdt={name:"flip",enabled:!0,phase:"main",fn:Wdt,requiresIfExists:["offset"],data:{_skip:!1}};function XF(i,e,n){return n===void 0&&(n={x:0,y:0}),{top:i.top-e.height-n.y,right:i.right-e.width+n.x,bottom:i.bottom-e.height+n.y,left:i.left-e.width-n.x}}function YF(i){return[cl,ju,Hu,fl].some(function(e){return i[e]>=0})}function Ydt(i){var e=i.state,n=i.name,r=e.rects.reference,s=e.rects.popper,a=e.modifiersData.preventOverflow,o=HS(e,{elementContext:"reference"}),l=HS(e,{altBoundary:!0}),u=XF(o,r),c=XF(l,s,a),h=YF(u),p=YF(c);e.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:c,isReferenceHidden:h,hasPopperEscaped:p},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":p})}const Kdt={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Ydt};function Zdt(i,e,n){var r=th(i),s=[fl,cl].indexOf(r)>=0?-1:1,a=typeof n=="function"?n(Object.assign({},e,{placement:i})):n,o=a[0],l=a[1];return o=o||0,l=(l||0)*s,[fl,ju].indexOf(r)>=0?{x:l,y:o}:{x:o,y:l}}function Qdt(i){var e=i.state,n=i.options,r=i.name,s=n.offset,a=s===void 0?[0,0]:s,o=S$.reduce(function(h,p){return h[p]=Zdt(p,e.rects,a),h},{}),l=o[e.placement],u=l.x,c=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=u,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=o}const Jdt={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Qdt};function tpt(i){var e=i.state,n=i.name;e.modifiersData[n]=R$({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const ept={name:"popperOffsets",enabled:!0,phase:"read",fn:tpt,data:{}};function npt(i){return i==="x"?"y":"x"}function ipt(i){var e=i.state,n=i.options,r=i.name,s=n.mainAxis,a=s===void 0?!0:s,o=n.altAxis,l=o===void 0?!1:o,u=n.boundary,c=n.rootBoundary,h=n.altBoundary,p=n.padding,g=n.tether,v=g===void 0?!0:g,b=n.tetherOffset,S=b===void 0?0:b,E=HS(e,{boundary:u,rootBoundary:c,padding:p,altBoundary:h}),x=th(e.placement),A=F_(e.placement),C=!A,M=KU(x),P=npt(M),k=e.modifiersData.popperOffsets,D=e.rects.reference,N=e.rects.popper,U=typeof S=="function"?S(Object.assign({},e.rects,{placement:e.placement})):S,R=typeof U=="number"?{mainAxis:U,altAxis:U}:Object.assign({mainAxis:0,altAxis:0},U),B=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,H={x:0,y:0};if(k){if(a){var V,Y=M==="y"?cl:fl,et=M==="y"?Hu:ju,G=M==="y"?"height":"width",X=k[M],J=X+E[Y],nt=X-E[et],Z=v?-N[G]/2:0,dt=A===k_?D[G]:N[G],yt=A===k_?-N[G]:-D[G],xt=e.elements.arrow,it=v&&xt?YU(xt):{width:0,height:0},ht=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:w$(),lt=ht[Y],gt=ht[et],Tt=Z1(0,D[G],it[G]),Kt=C?D[G]/2-Z-Tt-lt-R.mainAxis:dt-Tt-lt-R.mainAxis,Ut=C?-D[G]/2+Z+Tt+gt+R.mainAxis:yt+Tt+gt+R.mainAxis,te=e.elements.arrow&&NE(e.elements.arrow),Pt=te?M==="y"?te.clientTop||0:te.clientLeft||0:0,Bt=(V=B==null?void 0:B[M])!=null?V:0,at=X+Kt-Bt-Pt,ce=X+Ut-Bt,ee=Z1(v?kC(J,at):J,X,v?Ay(nt,ce):nt);k[M]=ee,H[M]=ee-X}if(l){var ne,ie=M==="x"?cl:fl,Me=M==="x"?Hu:ju,le=k[P],ut=P==="y"?"height":"width",j=le+E[ie],ct=le-E[Me],mt=[cl,fl].indexOf(x)!==-1,Rt=(ne=B==null?void 0:B[P])!=null?ne:0,_t=mt?j:le-D[ut]-N[ut]-Rt+R.altAxis,Ct=mt?le+D[ut]+N[ut]-Rt-R.altAxis:ct,Lt=v&&mt?Mdt(_t,le,Ct):Z1(v?_t:j,le,v?Ct:ct);k[P]=Lt,H[P]=Lt-le}e.modifiersData[r]=H}}const rpt={name:"preventOverflow",enabled:!0,phase:"main",fn:ipt,requiresIfExists:["offset"]};function spt(i){return{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}}function apt(i){return i===Jl(i)||!Bu(i)?ZU(i):spt(i)}function opt(i){var e=i.getBoundingClientRect(),n=z_(e.width)/i.offsetWidth||1,r=z_(e.height)/i.offsetHeight||1;return n!==1||r!==1}function lpt(i,e,n){n===void 0&&(n=!1);var r=Bu(e),s=Bu(e)&&opt(e),a=Fm(e),o=B_(i,s,n),l={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!n)&&((oh(e)!=="body"||JU(a))&&(l=apt(e)),Bu(e)?(u=B_(e,!0),u.x+=e.clientLeft,u.y+=e.clientTop):a&&(u.x=QU(a))),{x:o.left+l.scrollLeft-u.x,y:o.top+l.scrollTop-u.y,width:o.width,height:o.height}}function upt(i){var e=new Map,n=new Set,r=[];i.forEach(function(a){e.set(a.name,a)});function s(a){n.add(a.name);var o=[].concat(a.requires||[],a.requiresIfExists||[]);o.forEach(function(l){if(!n.has(l)){var u=e.get(l);u&&s(u)}}),r.push(a)}return i.forEach(function(a){n.has(a.name)||s(a)}),r}function cpt(i){var e=upt(i);return xdt.reduce(function(n,r){return n.concat(e.filter(function(s){return s.phase===r}))},[])}function fpt(i){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(i())})})),e}}function hpt(i){var e=i.reduce(function(n,r){var s=n[r.name];return n[r.name]=s?Object.assign({},s,r,{options:Object.assign({},s.options,r.options),data:Object.assign({},s.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var KF={placement:"bottom",modifiers:[],strategy:"absolute"};function ZF(){for(var i=arguments.length,e=new Array(i),n=0;n<i;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function dpt(i){i===void 0&&(i={});var e=i,n=e.defaultModifiers,r=n===void 0?[]:n,s=e.defaultOptions,a=s===void 0?KF:s;return function(l,u,c){c===void 0&&(c=a);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},KF,a),modifiersData:{},elements:{reference:l,popper:u},attributes:{},styles:{}},p=[],g=!1,v={state:h,setOptions:function(x){var A=typeof x=="function"?x(h.options):x;S(),h.options=Object.assign({},a,h.options,A),h.scrollParents={reference:Wy(l)?Q1(l):l.contextElement?Q1(l.contextElement):[],popper:Q1(u)};var C=cpt(hpt([].concat(r,h.options.modifiers)));return h.orderedModifiers=C.filter(function(M){return M.enabled}),b(),v.update()},forceUpdate:function(){if(!g){var x=h.elements,A=x.reference,C=x.popper;if(ZF(A,C)){h.rects={reference:lpt(A,NE(C),h.options.strategy==="fixed"),popper:YU(C)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(R){return h.modifiersData[R.name]=Object.assign({},R.data)});for(var M=0;M<h.orderedModifiers.length;M++){if(h.reset===!0){h.reset=!1,M=-1;continue}var P=h.orderedModifiers[M],k=P.fn,D=P.options,N=D===void 0?{}:D,U=P.name;typeof k=="function"&&(h=k({state:h,options:N,name:U,instance:v})||h)}}}},update:fpt(function(){return new Promise(function(E){v.forceUpdate(),E(h)})}),destroy:function(){S(),g=!0}};if(!ZF(l,u))return v;v.setOptions(c).then(function(E){!g&&c.onFirstUpdate&&c.onFirstUpdate(E)});function b(){h.orderedModifiers.forEach(function(E){var x=E.name,A=E.options,C=A===void 0?{}:A,M=E.effect;if(typeof M=="function"){var P=M({state:h,name:x,instance:v,options:C}),k=function(){};p.push(P||k)}})}function S(){p.forEach(function(E){return E()}),p=[]}return v}}var ppt=[kdt,ept,Ldt,Tdt,Jdt,Xdt,rpt,Pdt,Kdt],mpt=dpt({defaultModifiers:ppt});function gpt(i){return typeof i=="function"?i():i}const O$=Q.forwardRef(function(e,n){const{children:r,container:s,disablePortal:a=!1}=e,[o,l]=Q.useState(null),u=ys(Q.isValidElement(r)?l0(r):null,n);if(kc(()=>{a||l(gpt(s)||document.body)},[s,a]),kc(()=>{if(o&&!a)return wF(n,o),()=>{wF(n,null)}},[n,o,a]),a){if(Q.isValidElement(r)){const c={ref:u};return Q.cloneElement(r,c)}return r}return o&&b$.createPortal(r,o)});function ypt(i){return an("MuiPopper",i)}tn("MuiPopper",["root"]);function vpt(i,e){if(e==="ltr")return i;switch(i){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return i}}function j3(i){return typeof i=="function"?i():i}function _pt(i){return i.nodeType!==void 0}const bpt=i=>{const{classes:e}=i;return on({root:["root"]},ypt,e)},xpt={},Spt=Q.forwardRef(function(e,n){const{anchorEl:r,children:s,direction:a,disablePortal:o,modifiers:l,open:u,placement:c,popperOptions:h,popperRef:p,slotProps:g={},slots:v={},TransitionProps:b,ownerState:S,...E}=e,x=Q.useRef(null),A=ys(x,n),C=Q.useRef(null),M=ys(C,p),P=Q.useRef(M);kc(()=>{P.current=M},[M]),Q.useImperativeHandle(p,()=>C.current,[]);const k=vpt(c,a),[D,N]=Q.useState(k),[U,R]=Q.useState(j3(r));Q.useEffect(()=>{C.current&&C.current.forceUpdate()}),Q.useEffect(()=>{r&&R(j3(r))},[r]),kc(()=>{if(!U||!u)return;const et=J=>{N(J.placement)};let G=[{name:"preventOverflow",options:{altBoundary:o}},{name:"flip",options:{altBoundary:o}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:J})=>{et(J)}}];l!=null&&(G=G.concat(l)),h&&h.modifiers!=null&&(G=G.concat(h.modifiers));const X=mpt(U,x.current,{placement:k,...h,modifiers:G});return P.current(X),()=>{X.destroy(),P.current(null)}},[U,o,l,u,h,k]);const B={placement:D};b!==null&&(B.TransitionProps=b);const H=bpt(e),V=v.root??"div",Y=U_({elementType:V,externalSlotProps:g.root,externalForwardedProps:E,additionalProps:{role:"tooltip",ref:A},ownerState:e,className:H.root});return W.jsx(V,{...Y,children:typeof s=="function"?s(B):s})}),Ept=Q.forwardRef(function(e,n){const{anchorEl:r,children:s,container:a,direction:o="ltr",disablePortal:l=!1,keepMounted:u=!1,modifiers:c,open:h,placement:p="bottom",popperOptions:g=xpt,popperRef:v,style:b,transition:S=!1,slotProps:E={},slots:x={},...A}=e,[C,M]=Q.useState(!0),P=()=>{M(!1)},k=()=>{M(!0)};if(!u&&!h&&(!S||C))return null;let D;if(a)D=a;else if(r){const R=j3(r);D=R&&_pt(R)?_l(R).body:_l(null).body}const N=!h&&u&&(!S||C)?"none":void 0,U=S?{in:h,onEnter:P,onExited:k}:void 0;return W.jsx(O$,{disablePortal:l,container:D,children:W.jsx(Spt,{anchorEl:r,direction:o,disablePortal:l,modifiers:c,ref:n,open:S?!C:h,placement:p,popperOptions:g,popperRef:v,slotProps:E,slots:x,...A,style:{position:"fixed",top:0,left:0,display:N,...b},TransitionProps:U,children:s})})}),Tpt=de(Ept,{name:"MuiPopper",slot:"Root",overridesResolver:(i,e)=>e.root})({}),P$=Q.forwardRef(function(e,n){const r=yb(),s=dn({props:e,name:"MuiPopper"}),{anchorEl:a,component:o,components:l,componentsProps:u,container:c,disablePortal:h,keepMounted:p,modifiers:g,open:v,placement:b,popperOptions:S,popperRef:E,transition:x,slots:A,slotProps:C,...M}=s,P=(A==null?void 0:A.root)??(l==null?void 0:l.Root),k={anchorEl:a,container:c,disablePortal:h,keepMounted:p,modifiers:g,open:v,placement:b,popperOptions:S,popperRef:E,transition:x,...M};return W.jsx(Tpt,{as:o,direction:r?"rtl":"ltr",slots:{root:P},slotProps:C??u,...k,ref:n})});function dA(i){return parseInt(i,10)||0}const wpt={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function Apt(i){for(const e in i)return!1;return!0}function QF(i){return Apt(i)||i.outerHeightStyle===0&&!i.overflowing}const Mpt=Q.forwardRef(function(e,n){const{onChange:r,maxRows:s,minRows:a=1,style:o,value:l,...u}=e,{current:c}=Q.useRef(l!=null),h=Q.useRef(null),p=ys(n,h),g=Q.useRef(null),v=Q.useRef(null),b=Q.useCallback(()=>{const C=h.current,M=v.current;if(!C||!M)return;const k=Ql(C).getComputedStyle(C);if(k.width==="0px")return{outerHeightStyle:0,overflowing:!1};M.style.width=k.width,M.value=C.value||e.placeholder||"x",M.value.slice(-1)===`
`&&(M.value+=" ");const D=k.boxSizing,N=dA(k.paddingBottom)+dA(k.paddingTop),U=dA(k.borderBottomWidth)+dA(k.borderTopWidth),R=M.scrollHeight;M.value="x";const B=M.scrollHeight;let H=R;a&&(H=Math.max(Number(a)*B,H)),s&&(H=Math.min(Number(s)*B,H)),H=Math.max(H,B);const V=H+(D==="border-box"?N+U:0),Y=Math.abs(H-R)<=1;return{outerHeightStyle:V,overflowing:Y}},[s,a,e.placeholder]),S=zu(()=>{const C=h.current,M=b();if(!C||!M||QF(M))return!1;const P=M.outerHeightStyle;return g.current!=null&&g.current!==P}),E=Q.useCallback(()=>{const C=h.current,M=b();if(!C||!M||QF(M))return;const P=M.outerHeightStyle;g.current!==P&&(g.current=P,C.style.height=`${P}px`),C.style.overflow=M.overflowing?"hidden":""},[b]),x=Q.useRef(-1);kc(()=>{const C=IE(E),M=h==null?void 0:h.current;if(!M)return;const P=Ql(M);P.addEventListener("resize",C);let k;return typeof ResizeObserver<"u"&&(k=new ResizeObserver(()=>{S()&&(k.unobserve(M),cancelAnimationFrame(x.current),E(),x.current=requestAnimationFrame(()=>{k.observe(M)}))}),k.observe(M)),()=>{C.clear(),cancelAnimationFrame(x.current),P.removeEventListener("resize",C),k&&k.disconnect()}},[b,E,S]),kc(()=>{E()});const A=C=>{c||E(),r&&r(C)};return W.jsxs(Q.Fragment,{children:[W.jsx("textarea",{value:l,onChange:A,ref:p,rows:a,style:o,...u}),W.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:v,tabIndex:-1,style:{...wpt.shadow,...o,paddingTop:0,paddingBottom:0}})]})});function G3(i){return typeof i=="string"}function Vm({props:i,states:e,muiFormControl:n}){return e.reduce((r,s)=>(r[s]=i[s],n&&typeof i[s]>"u"&&(r[s]=n[s]),r),{})}const t4=Q.createContext(void 0);function jd(){return Q.useContext(t4)}function JF(i){return i!=null&&!(Array.isArray(i)&&i.length===0)}function zC(i,e=!1){return i&&(JF(i.value)&&i.value!==""||e&&JF(i.defaultValue)&&i.defaultValue!=="")}function Cpt(i){return i.startAdornment}function Rpt(i){return an("MuiInputBase",i)}const V_=tn("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var tV;const BR=(i,e)=>{const{ownerState:n}=i;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${De(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},FR=(i,e)=>{const{ownerState:n}=i;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},Opt=i=>{const{classes:e,color:n,disabled:r,error:s,endAdornment:a,focused:o,formControl:l,fullWidth:u,hiddenLabel:c,multiline:h,readOnly:p,size:g,startAdornment:v,type:b}=i,S={root:["root",`color${De(n)}`,r&&"disabled",s&&"error",u&&"fullWidth",o&&"focused",l&&"formControl",g&&g!=="medium"&&`size${De(g)}`,h&&"multiline",v&&"adornedStart",a&&"adornedEnd",c&&"hiddenLabel",p&&"readOnly"],input:["input",r&&"disabled",b==="search"&&"inputTypeSearch",h&&"inputMultiline",g==="small"&&"inputSizeSmall",c&&"inputHiddenLabel",v&&"inputAdornedStart",a&&"inputAdornedEnd",p&&"readOnly"]};return on(S,Rpt,e)},VR=de("div",{name:"MuiInputBase",slot:"Root",overridesResolver:BR})(_n(({theme:i})=>({...i.typography.body1,color:(i.vars||i).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${V_.disabled}`]:{color:(i.vars||i).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:e})=>e.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:e,size:n})=>e.multiline&&n==="small",style:{paddingTop:1}},{props:({ownerState:e})=>e.fullWidth,style:{width:"100%"}}]}))),HR=de("input",{name:"MuiInputBase",slot:"Input",overridesResolver:FR})(_n(({theme:i})=>{const e=i.palette.mode==="light",n={color:"currentColor",...i.vars?{opacity:i.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5},transition:i.transitions.create("opacity",{duration:i.transitions.duration.shorter})},r={opacity:"0 !important"},s=i.vars?{opacity:i.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${V_.formControl} &`]:{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus::-ms-input-placeholder":s},[`&.${V_.disabled}`]:{opacity:1,WebkitTextFillColor:(i.vars||i).palette.text.disabled},variants:[{props:({ownerState:a})=>!a.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:a})=>a.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),eV=tht({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),e4=Q.forwardRef(function(e,n){const r=dn({props:e,name:"MuiInputBase"}),{"aria-describedby":s,autoComplete:a,autoFocus:o,className:l,color:u,components:c={},componentsProps:h={},defaultValue:p,disabled:g,disableInjectingGlobalStyles:v,endAdornment:b,error:S,fullWidth:E=!1,id:x,inputComponent:A="input",inputProps:C={},inputRef:M,margin:P,maxRows:k,minRows:D,multiline:N=!1,name:U,onBlur:R,onChange:B,onClick:H,onFocus:V,onKeyDown:Y,onKeyUp:et,placeholder:G,readOnly:X,renderSuffix:J,rows:nt,size:Z,slotProps:dt={},slots:yt={},startAdornment:xt,type:it="text",value:ht,...lt}=r,gt=C.value!=null?C.value:ht,{current:Tt}=Q.useRef(gt!=null),Kt=Q.useRef(),Ut=Q.useCallback(Ht=>{},[]),te=ys(Kt,M,C.ref,Ut),[Pt,Bt]=Q.useState(!1),at=jd(),ce=Vm({props:r,muiFormControl:at,states:["color","disabled","error","hiddenLabel","size","required","filled"]});ce.focused=at?at.focused:Pt,Q.useEffect(()=>{!at&&g&&Pt&&(Bt(!1),R&&R())},[at,g,Pt,R]);const ee=at&&at.onFilled,ne=at&&at.onEmpty,ie=Q.useCallback(Ht=>{zC(Ht)?ee&&ee():ne&&ne()},[ee,ne]);kc(()=>{Tt&&ie({value:gt})},[gt,ie,Tt]);const Me=Ht=>{V&&V(Ht),C.onFocus&&C.onFocus(Ht),at&&at.onFocus?at.onFocus(Ht):Bt(!0)},le=Ht=>{R&&R(Ht),C.onBlur&&C.onBlur(Ht),at&&at.onBlur?at.onBlur(Ht):Bt(!1)},ut=(Ht,..._e)=>{if(!Tt){const Re=Ht.target||Kt.current;if(Re==null)throw new Error(Nd(1));ie({value:Re.value})}C.onChange&&C.onChange(Ht,..._e),B&&B(Ht,..._e)};Q.useEffect(()=>{ie(Kt.current)},[]);const j=Ht=>{Kt.current&&Ht.currentTarget===Ht.target&&Kt.current.focus(),H&&H(Ht)};let ct=A,mt=C;N&&ct==="input"&&(nt?mt={type:void 0,minRows:nt,maxRows:nt,...mt}:mt={type:void 0,maxRows:k,minRows:D,...mt},ct=Mpt);const Rt=Ht=>{ie(Ht.animationName==="mui-auto-fill-cancel"?Kt.current:{value:"x"})};Q.useEffect(()=>{at&&at.setAdornedStart(!!xt)},[at,xt]);const _t={...r,color:ce.color||"primary",disabled:ce.disabled,endAdornment:b,error:ce.error,focused:ce.focused,formControl:at,fullWidth:E,hiddenLabel:ce.hiddenLabel,multiline:N,size:ce.size,startAdornment:xt,type:it},Ct=Opt(_t),Lt=yt.root||c.Root||VR,Jt=dt.root||h.root||{},Le=yt.input||c.Input||HR;return mt={...mt,...dt.input??h.input},W.jsxs(Q.Fragment,{children:[!v&&typeof eV=="function"&&(tV||(tV=W.jsx(eV,{}))),W.jsxs(Lt,{...Jt,ref:n,onClick:j,...lt,...!G3(Lt)&&{ownerState:{..._t,...Jt.ownerState}},className:Ne(Ct.root,Jt.className,l,X&&"MuiInputBase-readOnly"),children:[xt,W.jsx(t4.Provider,{value:null,children:W.jsx(Le,{"aria-invalid":ce.error,"aria-describedby":s,autoComplete:a,autoFocus:o,defaultValue:p,disabled:ce.disabled,id:x,onAnimationStart:Rt,name:U,placeholder:G,readOnly:X,required:ce.required,rows:nt,value:gt,onKeyDown:Y,onKeyUp:et,type:it,...mt,...!G3(Le)&&{as:ct,ownerState:{..._t,...mt.ownerState}},ref:te,className:Ne(Ct.input,mt.className,X&&"MuiInputBase-readOnly"),onBlur:le,onChange:ut,onFocus:Me})}),b,J?J({...ce,startAdornment:xt}):null]})]})});function Ppt(i){return an("MuiInput",i)}const Qx={...V_,...tn("MuiInput",["root","underline","input"])};function Ipt(i){return an("MuiOutlinedInput",i)}const Pf={...V_,...tn("MuiOutlinedInput",["root","notchedOutline","input"])};function Dpt(i){return an("MuiFilledInput",i)}const $g={...V_,...tn("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},Npt=Pr(W.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Lpt=Pr(W.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function Upt(i){return an("MuiAvatar",i)}tn("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const kpt=i=>{const{classes:e,variant:n,colorDefault:r}=i;return on({root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]},Upt,e)},zpt=de("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.root,e[n.variant],n.colorDefault&&e.colorDefault]}})(_n(({theme:i})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:i.typography.fontFamily,fontSize:i.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(i.vars||i).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(i.vars||i).palette.background.default,...i.vars?{backgroundColor:i.vars.palette.Avatar.defaultBg}:{backgroundColor:i.palette.grey[400],...i.applyStyles("dark",{backgroundColor:i.palette.grey[600]})}}}]}))),Bpt=de("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(i,e)=>e.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),Fpt=de(Lpt,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(i,e)=>e.fallback})({width:"75%",height:"75%"});function Vpt({crossOrigin:i,referrerPolicy:e,src:n,srcSet:r}){const[s,a]=Q.useState(!1);return Q.useEffect(()=>{if(!n&&!r)return;a(!1);let o=!0;const l=new Image;return l.onload=()=>{o&&a("loaded")},l.onerror=()=>{o&&a("error")},l.crossOrigin=i,l.referrerPolicy=e,l.src=n,r&&(l.srcset=r),()=>{o=!1}},[i,e,n,r]),s}const nV=Q.forwardRef(function(e,n){const r=dn({props:e,name:"MuiAvatar"}),{alt:s,children:a,className:o,component:l="div",slots:u={},slotProps:c={},imgProps:h,sizes:p,src:g,srcSet:v,variant:b="circular",...S}=r;let E=null;const x={...r,component:l,variant:b},A=Vpt({...h,...typeof c.img=="function"?c.img(x):c.img,src:g,srcSet:v}),C=g||v,M=C&&A!=="error";x.colorDefault=!M,delete x.ownerState;const P=kpt(x),[k,D]=zn("img",{className:P.img,elementType:Bpt,externalForwardedProps:{slots:u,slotProps:{img:{...h,...c.img}}},additionalProps:{alt:s,src:g,srcSet:v,sizes:p},ownerState:x});return M?E=W.jsx(k,{...D}):a||a===0?E=a:C&&s?E=s[0]:E=W.jsx(Fpt,{ownerState:x,className:P.fallback}),W.jsx(zpt,{as:l,className:Ne(P.root,o),ref:n,...S,ownerState:x,children:E})}),Hpt={entering:{opacity:1},entered:{opacity:1}},$3=Q.forwardRef(function(e,n){const r=Bm(),s={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:a,appear:o=!0,children:l,easing:u,in:c,onEnter:h,onEntered:p,onEntering:g,onExit:v,onExited:b,onExiting:S,style:E,timeout:x=s,TransitionComponent:A=$u,...C}=e,M=Q.useRef(null),P=ys(M,l0(l),n),k=Y=>et=>{if(Y){const G=M.current;et===void 0?Y(G):Y(G,et)}},D=k(g),N=k((Y,et)=>{$U(Y);const G=wm({style:E,timeout:x,easing:u},{mode:"enter"});Y.style.webkitTransition=r.transitions.create("opacity",G),Y.style.transition=r.transitions.create("opacity",G),h&&h(Y,et)}),U=k(p),R=k(S),B=k(Y=>{const et=wm({style:E,timeout:x,easing:u},{mode:"exit"});Y.style.webkitTransition=r.transitions.create("opacity",et),Y.style.transition=r.transitions.create("opacity",et),v&&v(Y)}),H=k(b),V=Y=>{a&&a(M.current,Y)};return W.jsx(A,{appear:o,in:c,nodeRef:M,onEnter:N,onEntered:U,onEntering:D,onExit:B,onExited:H,onExiting:R,addEndListener:V,timeout:x,...C,children:(Y,{ownerState:et,...G})=>Q.cloneElement(l,{style:{opacity:0,visibility:Y==="exited"&&!c?"hidden":void 0,...Hpt[Y],...E,...l.props.style},ref:P,...G})})});function jpt(i){return an("MuiBackdrop",i)}tn("MuiBackdrop",["root","invisible"]);const Gpt=i=>{const{classes:e,invisible:n}=i;return on({root:["root",n&&"invisible"]},jpt,e)},$pt=de("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.root,n.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),I$=Q.forwardRef(function(e,n){const r=dn({props:e,name:"MuiBackdrop"}),{children:s,className:a,component:o="div",invisible:l=!1,open:u,components:c={},componentsProps:h={},slotProps:p={},slots:g={},TransitionComponent:v,transitionDuration:b,...S}=r,E={...r,component:o,invisible:l},x=Gpt(E),A={transition:v,root:c.Root,...g},C={...h,...p},M={slots:A,slotProps:C},[P,k]=zn("root",{elementType:$pt,externalForwardedProps:M,className:Ne(x.root,a),ownerState:E}),[D,N]=zn("transition",{elementType:$3,externalForwardedProps:M,ownerState:E});return W.jsx(D,{in:u,timeout:b,...S,...N,children:W.jsx(P,{"aria-hidden":!0,...k,classes:x,ref:n,children:s})})}),qpt=tn("MuiBox",["root"]),Wpt=p$(),di=Bct({themeId:SR,defaultTheme:Wpt,defaultClassName:qpt.root,generateClassName:KG.generate});function Xpt(i){return an("MuiButton",i)}const qg=tn("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),Ypt=Q.createContext({}),Kpt=Q.createContext(void 0),Zpt=i=>{const{color:e,disableElevation:n,fullWidth:r,size:s,variant:a,loading:o,loadingPosition:l,classes:u}=i,c={root:["root",o&&"loading",a,`${a}${De(e)}`,`size${De(s)}`,`${a}Size${De(s)}`,`color${De(e)}`,n&&"disableElevation",r&&"fullWidth",o&&`loadingPosition${De(l)}`],startIcon:["icon","startIcon",`iconSize${De(s)}`],endIcon:["icon","endIcon",`iconSize${De(s)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},h=on(c,Xpt,u);return{...u,...h}},D$=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],Qpt=de(u0,{shouldForwardProp:i=>Oo(i)||i==="classes",name:"MuiButton",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.root,e[n.variant],e[`${n.variant}${De(n.color)}`],e[`size${De(n.size)}`],e[`${n.variant}Size${De(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth,n.loading&&e.loading]}})(_n(({theme:i})=>{const e=i.palette.mode==="light"?i.palette.grey[300]:i.palette.grey[800],n=i.palette.mode==="light"?i.palette.grey.A100:i.palette.grey[700];return{...i.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(i.vars||i).shape.borderRadius,transition:i.transitions.create(["background-color","box-shadow","border-color","color"],{duration:i.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${qg.disabled}`]:{color:(i.vars||i).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(i.vars||i).shadows[2],"&:hover":{boxShadow:(i.vars||i).shadows[4],"@media (hover: none)":{boxShadow:(i.vars||i).shadows[2]}},"&:active":{boxShadow:(i.vars||i).shadows[8]},[`&.${qg.focusVisible}`]:{boxShadow:(i.vars||i).shadows[6]},[`&.${qg.disabled}`]:{color:(i.vars||i).palette.action.disabled,boxShadow:(i.vars||i).shadows[0],backgroundColor:(i.vars||i).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${qg.disabled}`]:{border:`1px solid ${(i.vars||i).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(i.palette).filter(Is()).map(([r])=>({props:{color:r},style:{"--variant-textColor":(i.vars||i).palette[r].main,"--variant-outlinedColor":(i.vars||i).palette[r].main,"--variant-outlinedBorder":i.vars?`rgba(${i.vars.palette[r].mainChannel} / 0.5)`:fr(i.palette[r].main,.5),"--variant-containedColor":(i.vars||i).palette[r].contrastText,"--variant-containedBg":(i.vars||i).palette[r].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(i.vars||i).palette[r].dark,"--variant-textBg":i.vars?`rgba(${i.vars.palette[r].mainChannel} / ${i.vars.palette.action.hoverOpacity})`:fr(i.palette[r].main,i.palette.action.hoverOpacity),"--variant-outlinedBorder":(i.vars||i).palette[r].main,"--variant-outlinedBg":i.vars?`rgba(${i.vars.palette[r].mainChannel} / ${i.vars.palette.action.hoverOpacity})`:fr(i.palette[r].main,i.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":i.vars?i.vars.palette.Button.inheritContainedBg:e,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":i.vars?i.vars.palette.Button.inheritContainedHoverBg:n,"--variant-textBg":i.vars?`rgba(${i.vars.palette.text.primaryChannel} / ${i.vars.palette.action.hoverOpacity})`:fr(i.palette.text.primary,i.palette.action.hoverOpacity),"--variant-outlinedBg":i.vars?`rgba(${i.vars.palette.text.primaryChannel} / ${i.vars.palette.action.hoverOpacity})`:fr(i.palette.text.primary,i.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:i.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:i.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:i.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:i.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:i.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:i.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${qg.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${qg.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:i.transitions.create(["background-color","box-shadow","border-color"],{duration:i.transitions.duration.short}),[`&.${qg.loading}`]:{color:"transparent"}}}]}})),Jpt=de("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.startIcon,n.loading&&e.startIconLoadingStart,e[`iconSize${De(n.size)}`]]}})(({theme:i})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:i.transitions.create(["opacity"],{duration:i.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...D$]})),tmt=de("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.endIcon,n.loading&&e.endIconLoadingEnd,e[`iconSize${De(n.size)}`]]}})(({theme:i})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:i.transitions.create(["opacity"],{duration:i.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...D$]})),emt=de("span",{name:"MuiButton",slot:"LoadingIndicator",overridesResolver:(i,e)=>e.loadingIndicator})(({theme:i})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(i.vars||i).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),iV=de("span",{name:"MuiButton",slot:"LoadingIconPlaceholder",overridesResolver:(i,e)=>e.loadingIconPlaceholder})({display:"inline-block",width:"1em",height:"1em"}),vd=Q.forwardRef(function(e,n){const r=Q.useContext(Ypt),s=Q.useContext(Kpt),a=L_(r,e),o=dn({props:a,name:"MuiButton"}),{children:l,color:u="primary",component:c="button",className:h,disabled:p=!1,disableElevation:g=!1,disableFocusRipple:v=!1,endIcon:b,focusVisibleClassName:S,fullWidth:E=!1,id:x,loading:A=null,loadingIndicator:C,loadingPosition:M="center",size:P="medium",startIcon:k,type:D,variant:N="text",...U}=o,R=o0(x),B=C??W.jsx(qU,{"aria-labelledby":R,color:"inherit",size:16}),H={...o,color:u,component:c,disabled:p,disableElevation:g,disableFocusRipple:v,fullWidth:E,loading:A,loadingIndicator:B,loadingPosition:M,size:P,type:D,variant:N},V=Zpt(H),Y=(k||A&&M==="start")&&W.jsx(Jpt,{className:V.startIcon,ownerState:H,children:k||W.jsx(iV,{className:V.loadingIconPlaceholder,ownerState:H})}),et=(b||A&&M==="end")&&W.jsx(tmt,{className:V.endIcon,ownerState:H,children:b||W.jsx(iV,{className:V.loadingIconPlaceholder,ownerState:H})}),G=s||"",X=typeof A=="boolean"?W.jsx("span",{className:V.loadingWrapper,style:{display:"contents"},children:A&&W.jsx(emt,{className:V.loadingIndicator,ownerState:H,children:B})}):null;return W.jsxs(Qpt,{ownerState:H,className:Ne(r.className,V.root,h,G),component:c,disabled:p||A,focusRipple:!v,focusVisibleClassName:Ne(V.focusVisible,S),ref:n,type:D,id:A?R:x,...U,classes:V,children:[Y,M!=="end"&&X,l,M==="end"&&X,et]})});function nmt(i){return an("MuiCard",i)}tn("MuiCard",["root"]);const imt=i=>{const{classes:e}=i;return on({root:["root"]},nmt,e)},rmt=de(vb,{name:"MuiCard",slot:"Root",overridesResolver:(i,e)=>e.root})({overflow:"hidden"}),n4=Q.forwardRef(function(e,n){const r=dn({props:e,name:"MuiCard"}),{className:s,raised:a=!1,...o}=r,l={...r,raised:a},u=imt(l);return W.jsx(rmt,{className:Ne(u.root,s),elevation:a?8:void 0,ref:n,ownerState:l,...o})});function smt(i){return an("MuiCardContent",i)}tn("MuiCardContent",["root"]);const amt=i=>{const{classes:e}=i;return on({root:["root"]},smt,e)},omt=de("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(i,e)=>e.root})({padding:16,"&:last-child":{paddingBottom:24}}),lmt=Q.forwardRef(function(e,n){const r=dn({props:e,name:"MuiCardContent"}),{className:s,component:a="div",...o}=r,l={...r,component:a},u=amt(l);return W.jsx(omt,{as:a,className:Ne(u.root,s),ownerState:l,ref:n,...o})});function umt(i){return an("MuiCardMedia",i)}tn("MuiCardMedia",["root","media","img"]);const cmt=i=>{const{classes:e,isMediaComponent:n,isImageComponent:r}=i;return on({root:["root",n&&"media",r&&"img"]},umt,e)},fmt=de("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:n}=i,{isMediaComponent:r,isImageComponent:s}=n;return[e.root,r&&e.media,s&&e.img]}})({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",variants:[{props:{isMediaComponent:!0},style:{width:"100%"}},{props:{isImageComponent:!0},style:{objectFit:"cover"}}]}),hmt=["video","audio","picture","iframe","img"],dmt=["picture","img"],pmt=Q.forwardRef(function(e,n){const r=dn({props:e,name:"MuiCardMedia"}),{children:s,className:a,component:o="div",image:l,src:u,style:c,...h}=r,p=hmt.includes(o),g=!p&&l?{backgroundImage:`url("${l}")`,...c}:c,v={...r,component:o,isMediaComponent:p,isImageComponent:dmt.includes(o)},b=cmt(v);return W.jsx(fmt,{className:Ne(b.root,a),as:o,role:!p&&l?"img":void 0,ref:n,style:g,ownerState:v,src:p?l||u:void 0,...h,children:s})});function mmt(i){return an("PrivateSwitchBase",i)}tn("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const gmt=i=>{const{classes:e,checked:n,disabled:r,edge:s}=i,a={root:["root",n&&"checked",r&&"disabled",s&&`edge${De(s)}`],input:["input"]};return on(a,mmt,e)},ymt=de(u0)({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:i,ownerState:e})=>i==="start"&&e.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:i,ownerState:e})=>i==="end"&&e.size!=="small",style:{marginRight:-12}}]}),vmt=de("input",{shouldForwardProp:Oo})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),_mt=Q.forwardRef(function(e,n){const{autoFocus:r,checked:s,checkedIcon:a,defaultChecked:o,disabled:l,disableFocusRipple:u=!1,edge:c=!1,icon:h,id:p,inputProps:g,inputRef:v,name:b,onBlur:S,onChange:E,onFocus:x,readOnly:A,required:C=!1,tabIndex:M,type:P,value:k,slots:D={},slotProps:N={},...U}=e,[R,B]=FS({controlled:s,default:!!o,name:"SwitchBase",state:"checked"}),H=jd(),V=ht=>{x&&x(ht),H&&H.onFocus&&H.onFocus(ht)},Y=ht=>{S&&S(ht),H&&H.onBlur&&H.onBlur(ht)},et=ht=>{if(ht.nativeEvent.defaultPrevented)return;const lt=ht.target.checked;B(lt),E&&E(ht,lt)};let G=l;H&&typeof G>"u"&&(G=H.disabled);const X=P==="checkbox"||P==="radio",J={...e,checked:R,disabled:G,disableFocusRipple:u,edge:c},nt=gmt(J),Z={slots:D,slotProps:{input:g,...N}},[dt,yt]=zn("root",{ref:n,elementType:ymt,className:nt.root,shouldForwardComponentProp:!0,externalForwardedProps:{...Z,component:"span",...U},getSlotProps:ht=>({...ht,onFocus:lt=>{var gt;(gt=ht.onFocus)==null||gt.call(ht,lt),V(lt)},onBlur:lt=>{var gt;(gt=ht.onBlur)==null||gt.call(ht,lt),Y(lt)}}),ownerState:J,additionalProps:{centerRipple:!0,focusRipple:!u,disabled:G,role:void 0,tabIndex:null}}),[xt,it]=zn("input",{ref:v,elementType:vmt,className:nt.input,externalForwardedProps:Z,getSlotProps:ht=>({onChange:lt=>{var gt;(gt=ht.onChange)==null||gt.call(ht,lt),et(lt)}}),ownerState:J,additionalProps:{autoFocus:r,checked:s,defaultChecked:o,disabled:G,id:X?p:void 0,name:b,readOnly:A,required:C,tabIndex:M,type:P,...P==="checkbox"&&k===void 0?{}:{value:k}}});return W.jsxs(dt,{...yt,children:[W.jsx(xt,{...it}),R?a:h]})}),bmt=Pr(W.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),xmt=Pr(W.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),Smt=Pr(W.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function Emt(i){return an("MuiCheckbox",i)}const qI=tn("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),Tmt=i=>{const{classes:e,indeterminate:n,color:r,size:s}=i,a={root:["root",n&&"indeterminate",`color${De(r)}`,`size${De(s)}`]},o=on(a,Emt,e);return{...e,...o}},wmt=de(_mt,{shouldForwardProp:i=>Oo(i)||i==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.root,n.indeterminate&&e.indeterminate,e[`size${De(n.size)}`],n.color!=="default"&&e[`color${De(n.color)}`]]}})(_n(({theme:i})=>({color:(i.vars||i).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:i.vars?`rgba(${i.vars.palette.action.activeChannel} / ${i.vars.palette.action.hoverOpacity})`:fr(i.palette.action.active,i.palette.action.hoverOpacity)}}},...Object.entries(i.palette).filter(Is()).map(([e])=>({props:{color:e,disableRipple:!1},style:{"&:hover":{backgroundColor:i.vars?`rgba(${i.vars.palette[e].mainChannel} / ${i.vars.palette.action.hoverOpacity})`:fr(i.palette[e].main,i.palette.action.hoverOpacity)}}})),...Object.entries(i.palette).filter(Is()).map(([e])=>({props:{color:e},style:{[`&.${qI.checked}, &.${qI.indeterminate}`]:{color:(i.vars||i).palette[e].main},[`&.${qI.disabled}`]:{color:(i.vars||i).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),Amt=W.jsx(xmt,{}),Mmt=W.jsx(bmt,{}),Cmt=W.jsx(Smt,{}),Rmt=Q.forwardRef(function(e,n){const r=dn({props:e,name:"MuiCheckbox"}),{checkedIcon:s=Amt,color:a="primary",icon:o=Mmt,indeterminate:l=!1,indeterminateIcon:u=Cmt,inputProps:c,size:h="medium",disableRipple:p=!1,className:g,slots:v={},slotProps:b={},...S}=r,E=l?u:o,x=l?u:s,A={...r,disableRipple:p,color:a,indeterminate:l,size:h},C=Tmt(A),M=b.input??c,[P,k]=zn("root",{ref:n,elementType:wmt,className:Ne(C.root,g),shouldForwardComponentProp:!0,externalForwardedProps:{slots:v,slotProps:b,...S},ownerState:A,additionalProps:{type:"checkbox",icon:Q.cloneElement(E,{fontSize:E.props.fontSize??h}),checkedIcon:Q.cloneElement(x,{fontSize:x.props.fontSize??h}),disableRipple:p,slots:v,slotProps:{input:y$(typeof M=="function"?M(A):M,{"data-indeterminate":l})}}});return W.jsx(P,{...k,classes:C})});function Omt(i){const e=_l(i);return e.body===i?Ql(i).innerWidth>e.documentElement.clientWidth:i.scrollHeight>i.clientHeight}function J1(i,e){e?i.setAttribute("aria-hidden","true"):i.removeAttribute("aria-hidden")}function rV(i){return parseInt(Ql(i).getComputedStyle(i).paddingRight,10)||0}function Pmt(i){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(i.tagName),r=i.tagName==="INPUT"&&i.getAttribute("type")==="hidden";return n||r}function sV(i,e,n,r,s){const a=[e,n,...r];[].forEach.call(i.children,o=>{const l=!a.includes(o),u=!Pmt(o);l&&u&&J1(o,s)})}function WI(i,e){let n=-1;return i.some((r,s)=>e(r)?(n=s,!0):!1),n}function Imt(i,e){const n=[],r=i.container;if(!e.disableScrollLock){if(Omt(r)){const o=i$(Ql(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${rV(r)+o}px`;const l=_l(r).querySelectorAll(".mui-fixed");[].forEach.call(l,u=>{n.push({value:u.style.paddingRight,property:"padding-right",el:u}),u.style.paddingRight=`${rV(u)+o}px`})}let a;if(r.parentNode instanceof DocumentFragment)a=_l(r).body;else{const o=r.parentElement,l=Ql(r);a=(o==null?void 0:o.nodeName)==="HTML"&&l.getComputedStyle(o).overflowY==="scroll"?o:r}n.push({value:a.style.overflow,property:"overflow",el:a},{value:a.style.overflowX,property:"overflow-x",el:a},{value:a.style.overflowY,property:"overflow-y",el:a}),a.style.overflow="hidden"}return()=>{n.forEach(({value:a,el:o,property:l})=>{a?o.style.setProperty(l,a):o.style.removeProperty(l)})}}function Dmt(i){const e=[];return[].forEach.call(i.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class Nmt{constructor(){this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&J1(e.modalRef,!1);const s=Dmt(n);sV(n,e.mount,e.modalRef,s,!0);const a=WI(this.containers,o=>o.container===n);return a!==-1?(this.containers[a].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:s}),r)}mount(e,n){const r=WI(this.containers,a=>a.modals.includes(e)),s=this.containers[r];s.restore||(s.restore=Imt(s,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const s=WI(this.containers,o=>o.modals.includes(e)),a=this.containers[s];if(a.modals.splice(a.modals.indexOf(e),1),this.modals.splice(r,1),a.modals.length===0)a.restore&&a.restore(),e.modalRef&&J1(e.modalRef,n),sV(a.container,e.mount,e.modalRef,a.hiddenSiblings,!1),this.containers.splice(s,1);else{const o=a.modals[a.modals.length-1];o.modalRef&&J1(o.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const Lmt=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Umt(i){const e=parseInt(i.getAttribute("tabindex")||"",10);return Number.isNaN(e)?i.contentEditable==="true"||(i.nodeName==="AUDIO"||i.nodeName==="VIDEO"||i.nodeName==="DETAILS")&&i.getAttribute("tabindex")===null?0:i.tabIndex:e}function kmt(i){if(i.tagName!=="INPUT"||i.type!=="radio"||!i.name)return!1;const e=r=>i.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${i.name}"]:checked`);return n||(n=e(`[name="${i.name}"]`)),n!==i}function zmt(i){return!(i.disabled||i.tagName==="INPUT"&&i.type==="hidden"||kmt(i))}function Bmt(i){const e=[],n=[];return Array.from(i.querySelectorAll(Lmt)).forEach((r,s)=>{const a=Umt(r);a===-1||!zmt(r)||(a===0?e.push(r):n.push({documentOrder:s,tabIndex:a,node:r}))}),n.sort((r,s)=>r.tabIndex===s.tabIndex?r.documentOrder-s.documentOrder:r.tabIndex-s.tabIndex).map(r=>r.node).concat(e)}function Fmt(){return!0}function Vmt(i){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:s=!1,getTabbable:a=Bmt,isEnabled:o=Fmt,open:l}=i,u=Q.useRef(!1),c=Q.useRef(null),h=Q.useRef(null),p=Q.useRef(null),g=Q.useRef(null),v=Q.useRef(!1),b=Q.useRef(null),S=ys(l0(e),b),E=Q.useRef(null);Q.useEffect(()=>{!l||!b.current||(v.current=!n)},[n,l]),Q.useEffect(()=>{if(!l||!b.current)return;const C=_l(b.current);return b.current.contains(C.activeElement)||(b.current.hasAttribute("tabIndex")||b.current.setAttribute("tabIndex","-1"),v.current&&b.current.focus()),()=>{s||(p.current&&p.current.focus&&(u.current=!0,p.current.focus()),p.current=null)}},[l]),Q.useEffect(()=>{if(!l||!b.current)return;const C=_l(b.current),M=D=>{E.current=D,!(r||!o()||D.key!=="Tab")&&C.activeElement===b.current&&D.shiftKey&&(u.current=!0,h.current&&h.current.focus())},P=()=>{var U,R;const D=b.current;if(D===null)return;if(!C.hasFocus()||!o()||u.current){u.current=!1;return}if(D.contains(C.activeElement)||r&&C.activeElement!==c.current&&C.activeElement!==h.current)return;if(C.activeElement!==g.current)g.current=null;else if(g.current!==null)return;if(!v.current)return;let N=[];if((C.activeElement===c.current||C.activeElement===h.current)&&(N=a(b.current)),N.length>0){const B=!!((U=E.current)!=null&&U.shiftKey&&((R=E.current)==null?void 0:R.key)==="Tab"),H=N[0],V=N[N.length-1];typeof H!="string"&&typeof V!="string"&&(B?V.focus():H.focus())}else D.focus()};C.addEventListener("focusin",P),C.addEventListener("keydown",M,!0);const k=setInterval(()=>{C.activeElement&&C.activeElement.tagName==="BODY"&&P()},50);return()=>{clearInterval(k),C.removeEventListener("focusin",P),C.removeEventListener("keydown",M,!0)}},[n,r,s,o,l,a]);const x=C=>{p.current===null&&(p.current=C.relatedTarget),v.current=!0,g.current=C.target;const M=e.props.onFocus;M&&M(C)},A=C=>{p.current===null&&(p.current=C.relatedTarget),v.current=!0};return W.jsxs(Q.Fragment,{children:[W.jsx("div",{tabIndex:l?0:-1,onFocus:A,ref:c,"data-testid":"sentinelStart"}),Q.cloneElement(e,{ref:S,onFocus:x}),W.jsx("div",{tabIndex:l?0:-1,onFocus:A,ref:h,"data-testid":"sentinelEnd"})]})}function Hmt(i){return typeof i=="function"?i():i}function jmt(i){return i?i.props.hasOwnProperty("in"):!1}const aV=()=>{},pA=new Nmt;function Gmt(i){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,closeAfterTransition:s=!1,onTransitionEnter:a,onTransitionExited:o,children:l,onClose:u,open:c,rootRef:h}=i,p=Q.useRef({}),g=Q.useRef(null),v=Q.useRef(null),b=ys(v,h),[S,E]=Q.useState(!c),x=jmt(l);let A=!0;(i["aria-hidden"]==="false"||i["aria-hidden"]===!1)&&(A=!1);const C=()=>_l(g.current),M=()=>(p.current.modalRef=v.current,p.current.mount=g.current,p.current),P=()=>{pA.mount(M(),{disableScrollLock:r}),v.current&&(v.current.scrollTop=0)},k=zu(()=>{const et=Hmt(e)||C().body;pA.add(M(),et),v.current&&P()}),D=()=>pA.isTopModal(M()),N=zu(et=>{g.current=et,et&&(c&&D()?P():v.current&&J1(v.current,A))}),U=Q.useCallback(()=>{pA.remove(M(),A)},[A]);Q.useEffect(()=>()=>{U()},[U]),Q.useEffect(()=>{c?k():(!x||!s)&&U()},[c,U,x,s,k]);const R=et=>G=>{var X;(X=et.onKeyDown)==null||X.call(et,G),!(G.key!=="Escape"||G.which===229||!D())&&(n||(G.stopPropagation(),u&&u(G,"escapeKeyDown")))},B=et=>G=>{var X;(X=et.onClick)==null||X.call(et,G),G.target===G.currentTarget&&u&&u(G,"backdropClick")};return{getRootProps:(et={})=>{const G=s$(i);delete G.onTransitionEnter,delete G.onTransitionExited;const X={...G,...et};return{role:"presentation",...X,onKeyDown:R(X),ref:b}},getBackdropProps:(et={})=>{const G=et;return{"aria-hidden":!0,...G,onClick:B(G),open:c}},getTransitionProps:()=>{const et=()=>{E(!1),a&&a()},G=()=>{E(!0),o&&o(),s&&U()};return{onEnter:TF(et,(l==null?void 0:l.props.onEnter)??aV),onExited:TF(G,(l==null?void 0:l.props.onExited)??aV)}},rootRef:b,portalRef:N,isTopModal:D,exited:S,hasTransition:x}}function $mt(i){return an("MuiModal",i)}tn("MuiModal",["root","hidden","backdrop"]);const qmt=i=>{const{open:e,exited:n,classes:r}=i;return on({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},$mt,r)},Wmt=de("div",{name:"MuiModal",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.root,!n.open&&n.exited&&e.hidden]}})(_n(({theme:i})=>({position:"fixed",zIndex:(i.vars||i).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),Xmt=de(I$,{name:"MuiModal",slot:"Backdrop",overridesResolver:(i,e)=>e.backdrop})({zIndex:-1}),N$=Q.forwardRef(function(e,n){const r=dn({name:"MuiModal",props:e}),{BackdropComponent:s=Xmt,BackdropProps:a,classes:o,className:l,closeAfterTransition:u=!1,children:c,container:h,component:p,components:g={},componentsProps:v={},disableAutoFocus:b=!1,disableEnforceFocus:S=!1,disableEscapeKeyDown:E=!1,disablePortal:x=!1,disableRestoreFocus:A=!1,disableScrollLock:C=!1,hideBackdrop:M=!1,keepMounted:P=!1,onBackdropClick:k,onClose:D,onTransitionEnter:N,onTransitionExited:U,open:R,slotProps:B={},slots:H={},theme:V,...Y}=r,et={...r,closeAfterTransition:u,disableAutoFocus:b,disableEnforceFocus:S,disableEscapeKeyDown:E,disablePortal:x,disableRestoreFocus:A,disableScrollLock:C,hideBackdrop:M,keepMounted:P},{getRootProps:G,getBackdropProps:X,getTransitionProps:J,portalRef:nt,isTopModal:Z,exited:dt,hasTransition:yt}=Gmt({...et,rootRef:n}),xt={...et,exited:dt},it=qmt(xt),ht={};if(c.props.tabIndex===void 0&&(ht.tabIndex="-1"),yt){const{onEnter:te,onExited:Pt}=J();ht.onEnter=te,ht.onExited=Pt}const lt={slots:{root:g.Root,backdrop:g.Backdrop,...H},slotProps:{...v,...B}},[gt,Tt]=zn("root",{ref:n,elementType:Wmt,externalForwardedProps:{...lt,...Y,component:p},getSlotProps:G,ownerState:xt,className:Ne(l,it==null?void 0:it.root,!xt.open&&xt.exited&&(it==null?void 0:it.hidden))}),[Kt,Ut]=zn("backdrop",{ref:a==null?void 0:a.ref,elementType:s,externalForwardedProps:lt,shouldForwardComponentProp:!0,additionalProps:a,getSlotProps:te=>X({...te,onClick:Pt=>{k&&k(Pt),te!=null&&te.onClick&&te.onClick(Pt)}}),className:Ne(a==null?void 0:a.className,it==null?void 0:it.backdrop),ownerState:xt});return!P&&!R&&(!yt||dt)?null:W.jsx(O$,{ref:nt,container:h,disablePortal:x,children:W.jsxs(gt,{...Tt,children:[!M&&s?W.jsx(Kt,{...Ut}):null,W.jsx(Vmt,{disableEnforceFocus:S,disableAutoFocus:b,disableRestoreFocus:A,isEnabled:Z,open:R,children:Q.cloneElement(c,ht)})]})})});function Ymt(i){return an("MuiDialog",i)}const XI=tn("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),L$=Q.createContext({}),Kmt=de(I$,{name:"MuiDialog",slot:"Backdrop",overrides:(i,e)=>e.backdrop})({zIndex:-1}),Zmt=i=>{const{classes:e,scroll:n,maxWidth:r,fullWidth:s,fullScreen:a}=i,o={root:["root"],container:["container",`scroll${De(n)}`],paper:["paper",`paperScroll${De(n)}`,`paperWidth${De(String(r))}`,s&&"paperFullWidth",a&&"paperFullScreen"]};return on(o,Ymt,e)},Qmt=de(N$,{name:"MuiDialog",slot:"Root",overridesResolver:(i,e)=>e.root})({"@media print":{position:"absolute !important"}}),Jmt=de("div",{name:"MuiDialog",slot:"Container",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.container,e[`scroll${De(n.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),tgt=de(vb,{name:"MuiDialog",slot:"Paper",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.paper,e[`scrollPaper${De(n.scroll)}`],e[`paperWidth${De(String(n.maxWidth))}`],n.fullWidth&&e.paperFullWidth,n.fullScreen&&e.paperFullScreen]}})(_n(({theme:i})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:e})=>!e.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:i.breakpoints.unit==="px"?Math.max(i.breakpoints.values.xs,444):`max(${i.breakpoints.values.xs}${i.breakpoints.unit}, 444px)`,[`&.${XI.paperScrollBody}`]:{[i.breakpoints.down(Math.max(i.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(i.breakpoints.values).filter(e=>e!=="xs").map(e=>({props:{maxWidth:e},style:{maxWidth:`${i.breakpoints.values[e]}${i.breakpoints.unit}`,[`&.${XI.paperScrollBody}`]:{[i.breakpoints.down(i.breakpoints.values[e]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:e})=>e.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:e})=>e.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${XI.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),egt=Q.forwardRef(function(e,n){const r=dn({props:e,name:"MuiDialog"}),s=Bm(),a={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{"aria-describedby":o,"aria-labelledby":l,"aria-modal":u=!0,BackdropComponent:c,BackdropProps:h,children:p,className:g,disableEscapeKeyDown:v=!1,fullScreen:b=!1,fullWidth:S=!1,maxWidth:E="sm",onBackdropClick:x,onClick:A,onClose:C,open:M,PaperComponent:P=vb,PaperProps:k={},scroll:D="paper",slots:N={},slotProps:U={},TransitionComponent:R=$3,transitionDuration:B=a,TransitionProps:H,...V}=r,Y={...r,disableEscapeKeyDown:v,fullScreen:b,fullWidth:S,maxWidth:E,scroll:D},et=Zmt(Y),G=Q.useRef(),X=at=>{G.current=at.target===at.currentTarget},J=at=>{A&&A(at),G.current&&(G.current=null,x&&x(at),C&&C(at,"backdropClick"))},nt=o0(l),Z=Q.useMemo(()=>({titleId:nt}),[nt]),dt={transition:R,...N},yt={transition:H,paper:k,backdrop:h,...U},xt={slots:dt,slotProps:yt},[it,ht]=zn("root",{elementType:Qmt,shouldForwardComponentProp:!0,externalForwardedProps:xt,ownerState:Y,className:Ne(et.root,g),ref:n}),[lt,gt]=zn("backdrop",{elementType:Kmt,shouldForwardComponentProp:!0,externalForwardedProps:xt,ownerState:Y}),[Tt,Kt]=zn("paper",{elementType:tgt,shouldForwardComponentProp:!0,externalForwardedProps:xt,ownerState:Y,className:Ne(et.paper,k.className)}),[Ut,te]=zn("container",{elementType:Jmt,externalForwardedProps:xt,ownerState:Y,className:Ne(et.container)}),[Pt,Bt]=zn("transition",{elementType:$3,externalForwardedProps:xt,ownerState:Y,additionalProps:{appear:!0,in:M,timeout:B,role:"presentation"}});return W.jsx(it,{closeAfterTransition:!0,slots:{backdrop:lt},slotProps:{backdrop:{transitionDuration:B,as:c,...gt}},disableEscapeKeyDown:v,onClose:C,open:M,onClick:J,...ht,...V,children:W.jsx(Pt,{...Bt,children:W.jsx(Ut,{onMouseDown:X,...te,children:W.jsx(Tt,{as:P,elevation:24,role:"dialog","aria-describedby":o,"aria-labelledby":nt,"aria-modal":u,...Kt,children:W.jsx(L$.Provider,{value:Z,children:p})})})})})});function ngt(i){return an("MuiDialogActions",i)}tn("MuiDialogActions",["root","spacing"]);const igt=i=>{const{classes:e,disableSpacing:n}=i;return on({root:["root",!n&&"spacing"]},ngt,e)},rgt=de("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.root,!n.disableSpacing&&e.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:i})=>!i.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),sgt=Q.forwardRef(function(e,n){const r=dn({props:e,name:"MuiDialogActions"}),{className:s,disableSpacing:a=!1,...o}=r,l={...r,disableSpacing:a},u=igt(l);return W.jsx(rgt,{className:Ne(u.root,s),ownerState:l,ref:n,...o})});function agt(i){return an("MuiDialogContent",i)}tn("MuiDialogContent",["root","dividers"]);function ogt(i){return an("MuiDialogTitle",i)}const lgt=tn("MuiDialogTitle",["root"]),ugt=i=>{const{classes:e,dividers:n}=i;return on({root:["root",n&&"dividers"]},agt,e)},cgt=de("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.root,n.dividers&&e.dividers]}})(_n(({theme:i})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:e})=>e.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(i.vars||i).palette.divider}`,borderBottom:`1px solid ${(i.vars||i).palette.divider}`}},{props:({ownerState:e})=>!e.dividers,style:{[`.${lgt.root} + &`]:{paddingTop:0}}}]}))),fgt=Q.forwardRef(function(e,n){const r=dn({props:e,name:"MuiDialogContent"}),{className:s,dividers:a=!1,...o}=r,l={...r,dividers:a},u=ugt(l);return W.jsx(cgt,{className:Ne(u.root,s),ownerState:l,ref:n,...o})});function hgt(i){return an("MuiDialogContentText",i)}tn("MuiDialogContentText",["root"]);const dgt=i=>{const{classes:e}=i,r=on({root:["root"]},hgt,e);return{...e,...r}},pgt=de(Li,{shouldForwardProp:i=>Oo(i)||i==="classes",name:"MuiDialogContentText",slot:"Root",overridesResolver:(i,e)=>e.root})({}),mgt=Q.forwardRef(function(e,n){const r=dn({props:e,name:"MuiDialogContentText"}),{children:s,className:a,...o}=r,l=dgt(o);return W.jsx(pgt,{component:"p",variant:"body1",color:"textSecondary",ref:n,ownerState:o,className:Ne(l.root,a),...r,classes:l})}),ggt=i=>{const{classes:e}=i;return on({root:["root"]},ogt,e)},ygt=de(Li,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(i,e)=>e.root})({padding:"16px 24px",flex:"0 0 auto"}),vgt=Q.forwardRef(function(e,n){const r=dn({props:e,name:"MuiDialogTitle"}),{className:s,id:a,...o}=r,l=r,u=ggt(l),{titleId:c=a}=Q.useContext(L$);return W.jsx(ygt,{component:"h2",className:Ne(u.root,s),ownerState:l,ref:n,variant:"h6",id:a??c,...o})});function _gt(i){return an("MuiDivider",i)}const oV=tn("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),bgt=i=>{const{absolute:e,children:n,classes:r,flexItem:s,light:a,orientation:o,textAlign:l,variant:u}=i;return on({root:["root",e&&"absolute",u,a&&"light",o==="vertical"&&"vertical",s&&"flexItem",n&&"withChildren",n&&o==="vertical"&&"withChildrenVertical",l==="right"&&o!=="vertical"&&"textAlignRight",l==="left"&&o!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",o==="vertical"&&"wrapperVertical"]},_gt,r)},xgt=de("div",{name:"MuiDivider",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.root,n.absolute&&e.absolute,e[n.variant],n.light&&e.light,n.orientation==="vertical"&&e.vertical,n.flexItem&&e.flexItem,n.children&&e.withChildren,n.children&&n.orientation==="vertical"&&e.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&e.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&e.textAlignLeft]}})(_n(({theme:i})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(i.vars||i).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:i.vars?`rgba(${i.vars.palette.dividerChannel} / 0.08)`:fr(i.palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:i.spacing(2),marginRight:i.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:i.spacing(1),marginBottom:i.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:e})=>!!e.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:e})=>e.children&&e.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(i.vars||i).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:e})=>e.orientation==="vertical"&&e.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(i.vars||i).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:e})=>e.textAlign==="right"&&e.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:e})=>e.textAlign==="left"&&e.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),Sgt=de("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.wrapper,n.orientation==="vertical"&&e.wrapperVertical]}})(_n(({theme:i})=>({display:"inline-block",paddingLeft:`calc(${i.spacing(1)} * 1.2)`,paddingRight:`calc(${i.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${i.spacing(1)} * 1.2)`,paddingBottom:`calc(${i.spacing(1)} * 1.2)`}}]}))),H_=Q.forwardRef(function(e,n){const r=dn({props:e,name:"MuiDivider"}),{absolute:s=!1,children:a,className:o,orientation:l="horizontal",component:u=a||l==="vertical"?"div":"hr",flexItem:c=!1,light:h=!1,role:p=u!=="hr"?"separator":void 0,textAlign:g="center",variant:v="fullWidth",...b}=r,S={...r,absolute:s,component:u,flexItem:c,light:h,orientation:l,role:p,textAlign:g,variant:v},E=bgt(S);return W.jsx(xgt,{as:u,className:Ne(E.root,o),role:p,ref:n,ownerState:S,"aria-orientation":p==="separator"&&(u!=="hr"||l==="vertical")?l:void 0,...b,children:a?W.jsx(Sgt,{className:E.wrapper,ownerState:S,children:a}):null})});H_&&(H_.muiSkipListHighlight=!0);function Egt(i,e,n){const r=e.getBoundingClientRect(),s=n&&n.getBoundingClientRect(),a=Ql(e);let o;if(e.fakeTransform)o=e.fakeTransform;else{const c=a.getComputedStyle(e);o=c.getPropertyValue("-webkit-transform")||c.getPropertyValue("transform")}let l=0,u=0;if(o&&o!=="none"&&typeof o=="string"){const c=o.split("(")[1].split(")")[0].split(",");l=parseInt(c[4],10),u=parseInt(c[5],10)}return i==="left"?s?`translateX(${s.right+l-r.left}px)`:`translateX(${a.innerWidth+l-r.left}px)`:i==="right"?s?`translateX(-${r.right-s.left-l}px)`:`translateX(-${r.left+r.width-l}px)`:i==="up"?s?`translateY(${s.bottom+u-r.top}px)`:`translateY(${a.innerHeight+u-r.top}px)`:s?`translateY(-${r.top-s.top+r.height-u}px)`:`translateY(-${r.top+r.height-u}px)`}function Tgt(i){return typeof i=="function"?i():i}function mA(i,e,n){const r=Tgt(n),s=Egt(i,e,r);s&&(e.style.webkitTransform=s,e.style.transform=s)}const U$=Q.forwardRef(function(e,n){const r=Bm(),s={enter:r.transitions.easing.easeOut,exit:r.transitions.easing.sharp},a={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:l=!0,children:u,container:c,direction:h="down",easing:p=s,in:g,onEnter:v,onEntered:b,onEntering:S,onExit:E,onExited:x,onExiting:A,style:C,timeout:M=a,TransitionComponent:P=$u,...k}=e,D=Q.useRef(null),N=ys(l0(u),D,n),U=J=>nt=>{J&&(nt===void 0?J(D.current):J(D.current,nt))},R=U((J,nt)=>{mA(h,J,c),$U(J),v&&v(J,nt)}),B=U((J,nt)=>{const Z=wm({timeout:M,style:C,easing:p},{mode:"enter"});J.style.webkitTransition=r.transitions.create("-webkit-transform",{...Z}),J.style.transition=r.transitions.create("transform",{...Z}),J.style.webkitTransform="none",J.style.transform="none",S&&S(J,nt)}),H=U(b),V=U(A),Y=U(J=>{const nt=wm({timeout:M,style:C,easing:p},{mode:"exit"});J.style.webkitTransition=r.transitions.create("-webkit-transform",nt),J.style.transition=r.transitions.create("transform",nt),mA(h,J,c),E&&E(J)}),et=U(J=>{J.style.webkitTransition="",J.style.transition="",x&&x(J)}),G=J=>{o&&o(D.current,J)},X=Q.useCallback(()=>{D.current&&mA(h,D.current,c)},[h,c]);return Q.useEffect(()=>{if(g||h==="down"||h==="right")return;const J=IE(()=>{D.current&&mA(h,D.current,c)}),nt=Ql(D.current);return nt.addEventListener("resize",J),()=>{J.clear(),nt.removeEventListener("resize",J)}},[h,g,c]),Q.useEffect(()=>{g||X()},[g,X]),W.jsx(P,{nodeRef:D,onEnter:R,onEntered:H,onEntering:B,onExit:Y,onExited:et,onExiting:V,addEndListener:G,appear:l,in:g,timeout:M,...k,children:(J,{ownerState:nt,...Z})=>Q.cloneElement(u,{ref:N,style:{visibility:J==="exited"&&!g?"hidden":void 0,...C,...u.props.style},...Z})})}),wgt=i=>{const{classes:e,disableUnderline:n,startAdornment:r,endAdornment:s,size:a,hiddenLabel:o,multiline:l}=i,u={root:["root",!n&&"underline",r&&"adornedStart",s&&"adornedEnd",a==="small"&&`size${De(a)}`,o&&"hiddenLabel",l&&"multiline"],input:["input"]},c=on(u,Dpt,e);return{...e,...c}},Agt=de(VR,{shouldForwardProp:i=>Oo(i)||i==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[...BR(i,e),!n.disableUnderline&&e.underline]}})(_n(({theme:i})=>{const e=i.palette.mode==="light",n=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",s=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:i.vars?i.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(i.vars||i).shape.borderRadius,borderTopRightRadius:(i.vars||i).shape.borderRadius,transition:i.transitions.create("background-color",{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut}),"&:hover":{backgroundColor:i.vars?i.vars.palette.FilledInput.hoverBg:s,"@media (hover: none)":{backgroundColor:i.vars?i.vars.palette.FilledInput.bg:r}},[`&.${$g.focused}`]:{backgroundColor:i.vars?i.vars.palette.FilledInput.bg:r},[`&.${$g.disabled}`]:{backgroundColor:i.vars?i.vars.palette.FilledInput.disabledBg:a},variants:[{props:({ownerState:o})=>!o.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:i.transitions.create("transform",{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${$g.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${$g.error}`]:{"&::before, &::after":{borderBottomColor:(i.vars||i).palette.error.main}},"&::before":{borderBottom:`1px solid ${i.vars?`rgba(${i.vars.palette.common.onBackgroundChannel} / ${i.vars.opacity.inputUnderline})`:n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:i.transitions.create("border-bottom-color",{duration:i.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${$g.disabled}, .${$g.error}):before`]:{borderBottom:`1px solid ${(i.vars||i).palette.text.primary}`},[`&.${$g.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(i.palette).filter(Is()).map(([o])=>{var l;return{props:{disableUnderline:!1,color:o},style:{"&::after":{borderBottom:`2px solid ${(l=(i.vars||i).palette[o])==null?void 0:l.main}`}}}}),{props:({ownerState:o})=>o.startAdornment,style:{paddingLeft:12}},{props:({ownerState:o})=>o.endAdornment,style:{paddingRight:12}},{props:({ownerState:o})=>o.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:o,size:l})=>o.multiline&&l==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:o})=>o.multiline&&o.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:o})=>o.multiline&&o.hiddenLabel&&o.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),Mgt=de(HR,{name:"MuiFilledInput",slot:"Input",overridesResolver:FR})(_n(({theme:i})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!i.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:i.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:i.palette.mode==="light"?null:"#fff",caretColor:i.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...i.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[i.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:e})=>e.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}},{props:({ownerState:e})=>e.hiddenLabel&&e.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:e})=>e.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),i4=Q.forwardRef(function(e,n){const r=dn({props:e,name:"MuiFilledInput"}),{disableUnderline:s=!1,components:a={},componentsProps:o,fullWidth:l=!1,hiddenLabel:u,inputComponent:c="input",multiline:h=!1,slotProps:p,slots:g={},type:v="text",...b}=r,S={...r,disableUnderline:s,fullWidth:l,inputComponent:c,multiline:h,type:v},E=wgt(r),x={root:{ownerState:S},input:{ownerState:S}},A=p??o?na(x,p??o):x,C=g.root??a.Root??Agt,M=g.input??a.Input??Mgt;return W.jsx(e4,{slots:{root:C,input:M},slotProps:A,fullWidth:l,inputComponent:c,multiline:h,ref:n,type:v,...b,classes:E})});i4.muiName="Input";function Cgt(i){return an("MuiFormControl",i)}tn("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const Rgt=i=>{const{classes:e,margin:n,fullWidth:r}=i,s={root:["root",n!=="none"&&`margin${De(n)}`,r&&"fullWidth"]};return on(s,Cgt,e)},Ogt=de("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.root,e[`margin${De(n.margin)}`],n.fullWidth&&e.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),jR=Q.forwardRef(function(e,n){const r=dn({props:e,name:"MuiFormControl"}),{children:s,className:a,color:o="primary",component:l="div",disabled:u=!1,error:c=!1,focused:h,fullWidth:p=!1,hiddenLabel:g=!1,margin:v="none",required:b=!1,size:S="medium",variant:E="outlined",...x}=r,A={...r,color:o,component:l,disabled:u,error:c,fullWidth:p,hiddenLabel:g,margin:v,required:b,size:S,variant:E},C=Rgt(A),[M,P]=Q.useState(()=>{let et=!1;return s&&Q.Children.forEach(s,G=>{if(!jI(G,["Input","Select"]))return;const X=jI(G,["Select"])?G.props.input:G;X&&Cpt(X.props)&&(et=!0)}),et}),[k,D]=Q.useState(()=>{let et=!1;return s&&Q.Children.forEach(s,G=>{jI(G,["Input","Select"])&&(zC(G.props,!0)||zC(G.props.inputProps,!0))&&(et=!0)}),et}),[N,U]=Q.useState(!1);u&&N&&U(!1);const R=h!==void 0&&!u?h:N;let B;Q.useRef(!1);const H=Q.useCallback(()=>{D(!0)},[]),V=Q.useCallback(()=>{D(!1)},[]),Y=Q.useMemo(()=>({adornedStart:M,setAdornedStart:P,color:o,disabled:u,error:c,filled:k,focused:R,fullWidth:p,hiddenLabel:g,size:S,onBlur:()=>{U(!1)},onFocus:()=>{U(!0)},onEmpty:V,onFilled:H,registerEffect:B,required:b,variant:E}),[M,o,u,c,k,R,p,g,B,V,H,b,S,E]);return W.jsx(t4.Provider,{value:Y,children:W.jsx(Ogt,{as:l,ownerState:A,className:Ne(C.root,a),ref:n,...x,children:s})})});function Pgt(i){return an("MuiFormControlLabel",i)}const R1=tn("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),Igt=i=>{const{classes:e,disabled:n,labelPlacement:r,error:s,required:a}=i,o={root:["root",n&&"disabled",`labelPlacement${De(r)}`,s&&"error",a&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",s&&"error"]};return on(o,Pgt,e)},Dgt=de("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[{[`& .${R1.label}`]:e.label},e.root,e[`labelPlacement${De(n.labelPlacement)}`]]}})(_n(({theme:i})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${R1.disabled}`]:{cursor:"default"},[`& .${R1.label}`]:{[`&.${R1.disabled}`]:{color:(i.vars||i).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:e})=>e==="start"||e==="top"||e==="bottom",style:{marginLeft:16}}]}))),Ngt=de("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(i,e)=>e.asterisk})(_n(({theme:i})=>({[`&.${R1.error}`]:{color:(i.vars||i).palette.error.main}}))),Lgt=Q.forwardRef(function(e,n){const r=dn({props:e,name:"MuiFormControlLabel"}),{checked:s,className:a,componentsProps:o={},control:l,disabled:u,disableTypography:c,inputRef:h,label:p,labelPlacement:g="end",name:v,onChange:b,required:S,slots:E={},slotProps:x={},value:A,...C}=r,M=jd(),P=u??l.props.disabled??(M==null?void 0:M.disabled),k=S??l.props.required,D={disabled:P,required:k};["checked","name","onChange","value","inputRef"].forEach(et=>{typeof l.props[et]>"u"&&typeof r[et]<"u"&&(D[et]=r[et])});const N=Vm({props:r,muiFormControl:M,states:["error"]}),U={...r,disabled:P,labelPlacement:g,required:k,error:N.error},R=Igt(U),B={slots:E,slotProps:{...o,...x}},[H,V]=zn("typography",{elementType:Li,externalForwardedProps:B,ownerState:U});let Y=p;return Y!=null&&Y.type!==Li&&!c&&(Y=W.jsx(H,{component:"span",...V,className:Ne(R.label,V==null?void 0:V.className),children:Y})),W.jsxs(Dgt,{className:Ne(R.root,a),ownerState:U,ref:n,...C,children:[Q.cloneElement(l,D),k?W.jsxs("div",{children:[Y,W.jsxs(Ngt,{ownerState:U,"aria-hidden":!0,className:R.asterisk,children:["","*"]})]}):Y]})});function Ugt(i){return an("MuiFormGroup",i)}tn("MuiFormGroup",["root","row","error"]);const kgt=i=>{const{classes:e,row:n,error:r}=i;return on({root:["root",n&&"row",r&&"error"]},Ugt,e)},zgt=de("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.root,n.row&&e.row]}})({display:"flex",flexDirection:"column",flexWrap:"wrap",variants:[{props:{row:!0},style:{flexDirection:"row"}}]}),Bgt=Q.forwardRef(function(e,n){const r=dn({props:e,name:"MuiFormGroup"}),{className:s,row:a=!1,...o}=r,l=jd(),u=Vm({props:r,muiFormControl:l,states:["error"]}),c={...r,row:a,error:u.error},h=kgt(c);return W.jsx(zgt,{className:Ne(h.root,s),ownerState:c,ref:n,...o})});function Fgt(i){return an("MuiFormHelperText",i)}const lV=tn("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var uV;const Vgt=i=>{const{classes:e,contained:n,size:r,disabled:s,error:a,filled:o,focused:l,required:u}=i,c={root:["root",s&&"disabled",a&&"error",r&&`size${De(r)}`,n&&"contained",l&&"focused",o&&"filled",u&&"required"]};return on(c,Fgt,e)},Hgt=de("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.root,n.size&&e[`size${De(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(_n(({theme:i})=>({color:(i.vars||i).palette.text.secondary,...i.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${lV.disabled}`]:{color:(i.vars||i).palette.text.disabled},[`&.${lV.error}`]:{color:(i.vars||i).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:e})=>e.contained,style:{marginLeft:14,marginRight:14}}]}))),jgt=Q.forwardRef(function(e,n){const r=dn({props:e,name:"MuiFormHelperText"}),{children:s,className:a,component:o="p",disabled:l,error:u,filled:c,focused:h,margin:p,required:g,variant:v,...b}=r,S=jd(),E=Vm({props:r,muiFormControl:S,states:["variant","size","disabled","error","filled","focused","required"]}),x={...r,component:o,contained:E.variant==="filled"||E.variant==="outlined",variant:E.variant,size:E.size,disabled:E.disabled,error:E.error,filled:E.filled,focused:E.focused,required:E.required};delete x.ownerState;const A=Vgt(x);return W.jsx(Hgt,{as:o,className:Ne(A.root,a),ref:n,...b,ownerState:x,children:s===" "?uV||(uV=W.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):s})});function Ggt(i){return an("MuiFormLabel",i)}const tS=tn("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),$gt=i=>{const{classes:e,color:n,focused:r,disabled:s,error:a,filled:o,required:l}=i,u={root:["root",`color${De(n)}`,s&&"disabled",a&&"error",o&&"filled",r&&"focused",l&&"required"],asterisk:["asterisk",a&&"error"]};return on(u,Ggt,e)},qgt=de("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.root,n.color==="secondary"&&e.colorSecondary,n.filled&&e.filled]}})(_n(({theme:i})=>({color:(i.vars||i).palette.text.secondary,...i.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(i.palette).filter(Is()).map(([e])=>({props:{color:e},style:{[`&.${tS.focused}`]:{color:(i.vars||i).palette[e].main}}})),{props:{},style:{[`&.${tS.disabled}`]:{color:(i.vars||i).palette.text.disabled},[`&.${tS.error}`]:{color:(i.vars||i).palette.error.main}}}]}))),Wgt=de("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(i,e)=>e.asterisk})(_n(({theme:i})=>({[`&.${tS.error}`]:{color:(i.vars||i).palette.error.main}}))),r4=Q.forwardRef(function(e,n){const r=dn({props:e,name:"MuiFormLabel"}),{children:s,className:a,color:o,component:l="label",disabled:u,error:c,filled:h,focused:p,required:g,...v}=r,b=jd(),S=Vm({props:r,muiFormControl:b,states:["color","required","focused","disabled","error","filled"]}),E={...r,color:S.color||"primary",component:l,disabled:S.disabled,error:S.error,filled:S.filled,focused:S.focused,required:S.required},x=$gt(E);return W.jsxs(qgt,{as:l,ownerState:E,className:Ne(x.root,a),ref:n,...v,children:[s,S.required&&W.jsxs(Wgt,{ownerState:E,"aria-hidden":!0,className:x.asterisk,children:["","*"]})]})});function q3(i){return`scale(${i}, ${i**2})`}const Xgt={entering:{opacity:1,transform:q3(1)},entered:{opacity:1,transform:"none"}},YI=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),BC=Q.forwardRef(function(e,n){const{addEndListener:r,appear:s=!0,children:a,easing:o,in:l,onEnter:u,onEntered:c,onEntering:h,onExit:p,onExited:g,onExiting:v,style:b,timeout:S="auto",TransitionComponent:E=$u,...x}=e,A=dy(),C=Q.useRef(),M=Bm(),P=Q.useRef(null),k=ys(P,l0(a),n),D=et=>G=>{if(et){const X=P.current;G===void 0?et(X):et(X,G)}},N=D(h),U=D((et,G)=>{$U(et);const{duration:X,delay:J,easing:nt}=wm({style:b,timeout:S,easing:o},{mode:"enter"});let Z;S==="auto"?(Z=M.transitions.getAutoHeightDuration(et.clientHeight),C.current=Z):Z=X,et.style.transition=[M.transitions.create("opacity",{duration:Z,delay:J}),M.transitions.create("transform",{duration:YI?Z:Z*.666,delay:J,easing:nt})].join(","),u&&u(et,G)}),R=D(c),B=D(v),H=D(et=>{const{duration:G,delay:X,easing:J}=wm({style:b,timeout:S,easing:o},{mode:"exit"});let nt;S==="auto"?(nt=M.transitions.getAutoHeightDuration(et.clientHeight),C.current=nt):nt=G,et.style.transition=[M.transitions.create("opacity",{duration:nt,delay:X}),M.transitions.create("transform",{duration:YI?nt:nt*.666,delay:YI?X:X||nt*.333,easing:J})].join(","),et.style.opacity=0,et.style.transform=q3(.75),p&&p(et)}),V=D(g),Y=et=>{S==="auto"&&A.start(C.current||0,et),r&&r(P.current,et)};return W.jsx(E,{appear:s,in:l,nodeRef:P,onEnter:U,onEntered:R,onEntering:N,onExit:H,onExited:V,onExiting:B,addEndListener:Y,timeout:S==="auto"?null:S,...x,children:(et,{ownerState:G,...X})=>Q.cloneElement(a,{style:{opacity:0,transform:q3(.75),visibility:et==="exited"&&!l?"hidden":void 0,...Xgt[et],...b,...a.props.style},ref:k,...X})})});BC&&(BC.muiSupportAuto=!0);const Ygt=i=>{const{classes:e,disableUnderline:n}=i,s=on({root:["root",!n&&"underline"],input:["input"]},Ppt,e);return{...e,...s}},Kgt=de(VR,{shouldForwardProp:i=>Oo(i)||i==="classes",name:"MuiInput",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[...BR(i,e),!n.disableUnderline&&e.underline]}})(_n(({theme:i})=>{let n=i.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return i.vars&&(n=`rgba(${i.vars.palette.common.onBackgroundChannel} / ${i.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:({ownerState:r})=>r.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:r})=>!r.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:i.transitions.create("transform",{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Qx.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Qx.error}`]:{"&::before, &::after":{borderBottomColor:(i.vars||i).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:i.transitions.create("border-bottom-color",{duration:i.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Qx.disabled}, .${Qx.error}):before`]:{borderBottom:`2px solid ${(i.vars||i).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${Qx.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(i.palette).filter(Is()).map(([r])=>({props:{color:r,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(i.vars||i).palette[r].main}`}}}))]}})),Zgt=de(HR,{name:"MuiInput",slot:"Input",overridesResolver:FR})({}),s4=Q.forwardRef(function(e,n){const r=dn({props:e,name:"MuiInput"}),{disableUnderline:s=!1,components:a={},componentsProps:o,fullWidth:l=!1,inputComponent:u="input",multiline:c=!1,slotProps:h,slots:p={},type:g="text",...v}=r,b=Ygt(r),E={root:{ownerState:{disableUnderline:s}}},x=h??o?na(h??o,E):E,A=p.root??a.Root??Kgt,C=p.input??a.Input??Zgt;return W.jsx(e4,{slots:{root:A,input:C},slotProps:x,fullWidth:l,inputComponent:u,multiline:c,ref:n,type:g,...v,classes:b})});s4.muiName="Input";function Qgt(i){return an("MuiInputLabel",i)}tn("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const Jgt=i=>{const{classes:e,formControl:n,size:r,shrink:s,disableAnimation:a,variant:o,required:l}=i,u={root:["root",n&&"formControl",!a&&"animated",s&&"shrink",r&&r!=="normal"&&`size${De(r)}`,o],asterisk:[l&&"asterisk"]},c=on(u,Qgt,e);return{...e,...c}},tyt=de(r4,{shouldForwardProp:i=>Oo(i)||i==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[{[`& .${tS.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(_n(({theme:i})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:e})=>e.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:e})=>e.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:e})=>!e.disableAnimation,style:{transition:i.transitions.create(["color","transform","max-width"],{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:e,ownerState:n})=>e==="filled"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:e,ownerState:n,size:r})=>e==="filled"&&n.shrink&&r==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:e,ownerState:n})=>e==="outlined"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),k$=Q.forwardRef(function(e,n){const r=dn({name:"MuiInputLabel",props:e}),{disableAnimation:s=!1,margin:a,shrink:o,variant:l,className:u,...c}=r,h=jd();let p=o;typeof p>"u"&&h&&(p=h.filled||h.focused||h.adornedStart);const g=Vm({props:r,muiFormControl:h,states:["size","variant","required","focused"]}),v={...r,disableAnimation:s,formControl:h,shrink:p,size:g.size,variant:g.variant,required:g.required,focused:g.focused},b=Jgt(v);return W.jsx(tyt,{"data-shrink":p,ref:n,className:Ne(b.root,u),...c,ownerState:v,classes:b})});function eyt(i){return an("MuiLinearProgress",i)}tn("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","bar1","bar2","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const W3=4,X3=zm`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`,nyt=typeof X3!="string"?gb`
        animation: ${X3} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
      `:null,Y3=zm`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`,iyt=typeof Y3!="string"?gb`
        animation: ${Y3} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
      `:null,K3=zm`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`,ryt=typeof K3!="string"?gb`
        animation: ${K3} 3s infinite linear;
      `:null,syt=i=>{const{classes:e,variant:n,color:r}=i,s={root:["root",`color${De(r)}`,n],dashed:["dashed",`dashedColor${De(r)}`],bar1:["bar","bar1",`barColor${De(r)}`,(n==="indeterminate"||n==="query")&&"bar1Indeterminate",n==="determinate"&&"bar1Determinate",n==="buffer"&&"bar1Buffer"],bar2:["bar","bar2",n!=="buffer"&&`barColor${De(r)}`,n==="buffer"&&`color${De(r)}`,(n==="indeterminate"||n==="query")&&"bar2Indeterminate",n==="buffer"&&"bar2Buffer"]};return on(s,eyt,e)},a4=(i,e)=>i.vars?i.vars.palette.LinearProgress[`${e}Bg`]:i.palette.mode==="light"?qy(i.palette[e].main,.62):$y(i.palette[e].main,.5),ayt=de("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.root,e[`color${De(n.color)}`],e[n.variant]]}})(_n(({theme:i})=>({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},variants:[...Object.entries(i.palette).filter(Is()).map(([e])=>({props:{color:e},style:{backgroundColor:a4(i,e)}})),{props:({ownerState:e})=>e.color==="inherit"&&e.variant!=="buffer",style:{"&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}}},{props:{variant:"buffer"},style:{backgroundColor:"transparent"}},{props:{variant:"query"},style:{transform:"rotate(180deg)"}}]}))),oyt=de("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.dashed,e[`dashedColor${De(n.color)}`]]}})(_n(({theme:i})=>({position:"absolute",marginTop:0,height:"100%",width:"100%",backgroundSize:"10px 10px",backgroundPosition:"0 -23px",variants:[{props:{color:"inherit"},style:{opacity:.3,backgroundImage:"radial-gradient(currentColor 0%, currentColor 16%, transparent 42%)"}},...Object.entries(i.palette).filter(Is()).map(([e])=>{const n=a4(i,e);return{props:{color:e},style:{backgroundImage:`radial-gradient(${n} 0%, ${n} 16%, transparent 42%)`}}})]})),ryt||{animation:`${K3} 3s infinite linear`}),lyt=de("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.bar,e.bar1,e[`barColor${De(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&e.bar1Indeterminate,n.variant==="determinate"&&e.bar1Determinate,n.variant==="buffer"&&e.bar1Buffer]}})(_n(({theme:i})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[{props:{color:"inherit"},style:{backgroundColor:"currentColor"}},...Object.entries(i.palette).filter(Is()).map(([e])=>({props:{color:e},style:{backgroundColor:(i.vars||i).palette[e].main}})),{props:{variant:"determinate"},style:{transition:`transform .${W3}s linear`}},{props:{variant:"buffer"},style:{zIndex:1,transition:`transform .${W3}s linear`}},{props:({ownerState:e})=>e.variant==="indeterminate"||e.variant==="query",style:{width:"auto"}},{props:({ownerState:e})=>e.variant==="indeterminate"||e.variant==="query",style:nyt||{animation:`${X3} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite`}}]}))),uyt=de("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.bar,e.bar2,e[`barColor${De(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&e.bar2Indeterminate,n.variant==="buffer"&&e.bar2Buffer]}})(_n(({theme:i})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[...Object.entries(i.palette).filter(Is()).map(([e])=>({props:{color:e},style:{"--LinearProgressBar2-barColor":(i.vars||i).palette[e].main}})),{props:({ownerState:e})=>e.variant!=="buffer"&&e.color!=="inherit",style:{backgroundColor:"var(--LinearProgressBar2-barColor, currentColor)"}},{props:({ownerState:e})=>e.variant!=="buffer"&&e.color==="inherit",style:{backgroundColor:"currentColor"}},{props:{color:"inherit"},style:{opacity:.3}},...Object.entries(i.palette).filter(Is()).map(([e])=>({props:{color:e,variant:"buffer"},style:{backgroundColor:a4(i,e),transition:`transform .${W3}s linear`}})),{props:({ownerState:e})=>e.variant==="indeterminate"||e.variant==="query",style:{width:"auto"}},{props:({ownerState:e})=>e.variant==="indeterminate"||e.variant==="query",style:iyt||{animation:`${Y3} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite`}}]}))),ny=Q.forwardRef(function(e,n){const r=dn({props:e,name:"MuiLinearProgress"}),{className:s,color:a="primary",value:o,valueBuffer:l,variant:u="indeterminate",...c}=r,h={...r,color:a,variant:u},p=syt(h),g=yb(),v={},b={bar1:{},bar2:{}};if((u==="determinate"||u==="buffer")&&o!==void 0){v["aria-valuenow"]=Math.round(o),v["aria-valuemin"]=0,v["aria-valuemax"]=100;let S=o-100;g&&(S=-S),b.bar1.transform=`translateX(${S}%)`}if(u==="buffer"&&l!==void 0){let S=(l||0)-100;g&&(S=-S),b.bar2.transform=`translateX(${S}%)`}return W.jsxs(ayt,{className:Ne(p.root,s),ownerState:h,role:"progressbar",...v,ref:n,...c,children:[u==="buffer"?W.jsx(oyt,{className:p.dashed,ownerState:h}):null,W.jsx(lyt,{className:p.bar1,ownerState:h,style:b.bar1}),u==="determinate"?null:W.jsx(uyt,{className:p.bar2,ownerState:h,style:b.bar2})]})}),FC=Q.createContext({});function cyt(i){return an("MuiList",i)}tn("MuiList",["root","padding","dense","subheader"]);const fyt=i=>{const{classes:e,disablePadding:n,dense:r,subheader:s}=i;return on({root:["root",!n&&"padding",r&&"dense",s&&"subheader"]},cyt,e)},hyt=de("ul",{name:"MuiList",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:i})=>!i.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:i})=>i.subheader,style:{paddingTop:0}}]}),dyt=Q.forwardRef(function(e,n){const r=dn({props:e,name:"MuiList"}),{children:s,className:a,component:o="ul",dense:l=!1,disablePadding:u=!1,subheader:c,...h}=r,p=Q.useMemo(()=>({dense:l}),[l]),g={...r,component:o,dense:l,disablePadding:u},v=fyt(g);return W.jsx(FC.Provider,{value:p,children:W.jsxs(hyt,{as:o,className:Ne(v.root,a),ref:n,ownerState:g,...h,children:[c,s]})})});function pyt(i){return an("MuiListItemIcon",i)}const cV=tn("MuiListItemIcon",["root","alignItemsFlexStart"]),myt=i=>{const{alignItems:e,classes:n}=i;return on({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},pyt,n)},gyt=de("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.root,n.alignItems==="flex-start"&&e.alignItemsFlexStart]}})(_n(({theme:i})=>({minWidth:56,color:(i.vars||i).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}))),Jx=Q.forwardRef(function(e,n){const r=dn({props:e,name:"MuiListItemIcon"}),{className:s,...a}=r,o=Q.useContext(FC),l={...r,alignItems:o.alignItems},u=myt(l);return W.jsx(gyt,{className:Ne(u.root,s),ownerState:l,ref:n,...a})}),fV=tn("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);function KI(i,e,n){return i===e?i.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:i.firstChild}function hV(i,e,n){return i===e?n?i.firstChild:i.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:i.lastChild}function z$(i,e){if(e===void 0)return!0;let n=i.innerText;return n===void 0&&(n=i.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.startsWith(e.keys.join(""))}function t1(i,e,n,r,s,a){let o=!1,l=s(i,e,e?n:!1);for(;l;){if(l===i.firstChild){if(o)return!1;o=!0}const u=r?!1:l.disabled||l.getAttribute("aria-disabled")==="true";if(!l.hasAttribute("tabindex")||!z$(l,a)||u)l=s(i,l,n);else return l.focus(),!0}return!1}const yyt=Q.forwardRef(function(e,n){const{actions:r,autoFocus:s=!1,autoFocusItem:a=!1,children:o,className:l,disabledItemsFocusable:u=!1,disableListWrap:c=!1,onKeyDown:h,variant:p="selectedMenu",...g}=e,v=Q.useRef(null),b=Q.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});kc(()=>{s&&v.current.focus()},[s]),Q.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(C,{direction:M})=>{const P=!v.current.style.width;if(C.clientHeight<v.current.clientHeight&&P){const k=`${i$(Ql(C))}px`;v.current.style[M==="rtl"?"paddingLeft":"paddingRight"]=k,v.current.style.width=`calc(100% + ${k})`}return v.current}}),[]);const S=C=>{const M=v.current,P=C.key;if(C.ctrlKey||C.metaKey||C.altKey){h&&h(C);return}const D=_l(M).activeElement;if(P==="ArrowDown")C.preventDefault(),t1(M,D,c,u,KI);else if(P==="ArrowUp")C.preventDefault(),t1(M,D,c,u,hV);else if(P==="Home")C.preventDefault(),t1(M,null,c,u,KI);else if(P==="End")C.preventDefault(),t1(M,null,c,u,hV);else if(P.length===1){const N=b.current,U=P.toLowerCase(),R=performance.now();N.keys.length>0&&(R-N.lastTime>500?(N.keys=[],N.repeating=!0,N.previousKeyMatched=!0):N.repeating&&U!==N.keys[0]&&(N.repeating=!1)),N.lastTime=R,N.keys.push(U);const B=D&&!N.repeating&&z$(D,N);N.previousKeyMatched&&(B||t1(M,D,!1,u,KI,N))?C.preventDefault():N.previousKeyMatched=!1}h&&h(C)},E=ys(v,n);let x=-1;Q.Children.forEach(o,(C,M)=>{if(!Q.isValidElement(C)){x===M&&(x+=1,x>=o.length&&(x=-1));return}C.props.disabled||(p==="selectedMenu"&&C.props.selected||x===-1)&&(x=M),x===M&&(C.props.disabled||C.props.muiSkipListHighlight||C.type.muiSkipListHighlight)&&(x+=1,x>=o.length&&(x=-1))});const A=Q.Children.map(o,(C,M)=>{if(M===x){const P={};return a&&(P.autoFocus=!0),C.props.tabIndex===void 0&&p==="selectedMenu"&&(P.tabIndex=0),Q.cloneElement(C,P)}return C});return W.jsx(dyt,{role:"menu",ref:E,className:l,onKeyDown:S,tabIndex:s?0:-1,...g,children:A})});function vyt(i){return an("MuiPopover",i)}tn("MuiPopover",["root","paper"]);function dV(i,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=i.height/2:e==="bottom"&&(n=i.height),n}function pV(i,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=i.width/2:e==="right"&&(n=i.width),n}function mV(i){return[i.horizontal,i.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function gA(i){return typeof i=="function"?i():i}const _yt=i=>{const{classes:e}=i;return on({root:["root"],paper:["paper"]},vyt,e)},byt=de(N$,{name:"MuiPopover",slot:"Root",overridesResolver:(i,e)=>e.root})({}),B$=de(vb,{name:"MuiPopover",slot:"Paper",overridesResolver:(i,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),xyt=Q.forwardRef(function(e,n){const r=dn({props:e,name:"MuiPopover"}),{action:s,anchorEl:a,anchorOrigin:o={vertical:"top",horizontal:"left"},anchorPosition:l,anchorReference:u="anchorEl",children:c,className:h,container:p,elevation:g=8,marginThreshold:v=16,open:b,PaperProps:S={},slots:E={},slotProps:x={},transformOrigin:A={vertical:"top",horizontal:"left"},TransitionComponent:C,transitionDuration:M="auto",TransitionProps:P={},disableScrollLock:k=!1,...D}=r,N=Q.useRef(),U={...r,anchorOrigin:o,anchorReference:u,elevation:g,marginThreshold:v,transformOrigin:A,TransitionComponent:C,transitionDuration:M,TransitionProps:P},R=_yt(U),B=Q.useCallback(()=>{if(u==="anchorPosition")return l;const Ut=gA(a),Pt=(Ut&&Ut.nodeType===1?Ut:_l(N.current).body).getBoundingClientRect();return{top:Pt.top+dV(Pt,o.vertical),left:Pt.left+pV(Pt,o.horizontal)}},[a,o.horizontal,o.vertical,l,u]),H=Q.useCallback(Ut=>({vertical:dV(Ut,A.vertical),horizontal:pV(Ut,A.horizontal)}),[A.horizontal,A.vertical]),V=Q.useCallback(Ut=>{const te={width:Ut.offsetWidth,height:Ut.offsetHeight},Pt=H(te);if(u==="none")return{top:null,left:null,transformOrigin:mV(Pt)};const Bt=B();let at=Bt.top-Pt.vertical,ce=Bt.left-Pt.horizontal;const ee=at+te.height,ne=ce+te.width,ie=Ql(gA(a)),Me=ie.innerHeight-v,le=ie.innerWidth-v;if(v!==null&&at<v){const ut=at-v;at-=ut,Pt.vertical+=ut}else if(v!==null&&ee>Me){const ut=ee-Me;at-=ut,Pt.vertical+=ut}if(v!==null&&ce<v){const ut=ce-v;ce-=ut,Pt.horizontal+=ut}else if(ne>le){const ut=ne-le;ce-=ut,Pt.horizontal+=ut}return{top:`${Math.round(at)}px`,left:`${Math.round(ce)}px`,transformOrigin:mV(Pt)}},[a,u,B,H,v]),[Y,et]=Q.useState(b),G=Q.useCallback(()=>{const Ut=N.current;if(!Ut)return;const te=V(Ut);te.top!==null&&Ut.style.setProperty("top",te.top),te.left!==null&&(Ut.style.left=te.left),Ut.style.transformOrigin=te.transformOrigin,et(!0)},[V]);Q.useEffect(()=>(k&&window.addEventListener("scroll",G),()=>window.removeEventListener("scroll",G)),[a,k,G]);const X=()=>{G()},J=()=>{et(!1)};Q.useEffect(()=>{b&&G()}),Q.useImperativeHandle(s,()=>b?{updatePosition:()=>{G()}}:null,[b,G]),Q.useEffect(()=>{if(!b)return;const Ut=IE(()=>{G()}),te=Ql(gA(a));return te.addEventListener("resize",Ut),()=>{Ut.clear(),te.removeEventListener("resize",Ut)}},[a,b,G]);let nt=M;const Z={slots:{transition:C,...E},slotProps:{transition:P,paper:S,...x}},[dt,yt]=zn("transition",{elementType:BC,externalForwardedProps:Z,ownerState:U,getSlotProps:Ut=>({...Ut,onEntering:(te,Pt)=>{var Bt;(Bt=Ut.onEntering)==null||Bt.call(Ut,te,Pt),X()},onExited:te=>{var Pt;(Pt=Ut.onExited)==null||Pt.call(Ut,te),J()}}),additionalProps:{appear:!0,in:b}});M==="auto"&&!dt.muiSupportAuto&&(nt=void 0);const xt=p||(a?_l(gA(a)).body:void 0),[it,{slots:ht,slotProps:lt,...gt}]=zn("root",{ref:n,elementType:byt,externalForwardedProps:{...Z,...D},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:E.backdrop},slotProps:{backdrop:y$(typeof x.backdrop=="function"?x.backdrop(U):x.backdrop,{invisible:!0})},container:xt,open:b},ownerState:U,className:Ne(R.root,h)}),[Tt,Kt]=zn("paper",{ref:N,className:R.paper,elementType:B$,externalForwardedProps:Z,shouldForwardComponentProp:!0,additionalProps:{elevation:g,style:Y?void 0:{opacity:0}},ownerState:U});return W.jsx(it,{...gt,...!G3(it)&&{slots:ht,slotProps:lt,disableScrollLock:k},children:W.jsx(dt,{...yt,timeout:nt,children:W.jsx(Tt,{...Kt,children:c})})})});function Syt(i){return an("MuiMenu",i)}tn("MuiMenu",["root","paper","list"]);const Eyt={vertical:"top",horizontal:"right"},Tyt={vertical:"top",horizontal:"left"},wyt=i=>{const{classes:e}=i;return on({root:["root"],paper:["paper"],list:["list"]},Syt,e)},Ayt=de(xyt,{shouldForwardProp:i=>Oo(i)||i==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(i,e)=>e.root})({}),Myt=de(B$,{name:"MuiMenu",slot:"Paper",overridesResolver:(i,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Cyt=de(yyt,{name:"MuiMenu",slot:"List",overridesResolver:(i,e)=>e.list})({outline:0}),F$=Q.forwardRef(function(e,n){const r=dn({props:e,name:"MuiMenu"}),{autoFocus:s=!0,children:a,className:o,disableAutoFocusItem:l=!1,MenuListProps:u={},onClose:c,open:h,PaperProps:p={},PopoverClasses:g,transitionDuration:v="auto",TransitionProps:{onEntering:b,...S}={},variant:E="selectedMenu",slots:x={},slotProps:A={},...C}=r,M=yb(),P={...r,autoFocus:s,disableAutoFocusItem:l,MenuListProps:u,onEntering:b,PaperProps:p,transitionDuration:v,TransitionProps:S,variant:E},k=wyt(P),D=s&&!l&&h,N=Q.useRef(null),U=(nt,Z)=>{N.current&&N.current.adjustStyleForScrollbar(nt,{direction:M?"rtl":"ltr"}),b&&b(nt,Z)},R=nt=>{nt.key==="Tab"&&(nt.preventDefault(),c&&c(nt,"tabKeyDown"))};let B=-1;Q.Children.map(a,(nt,Z)=>{Q.isValidElement(nt)&&(nt.props.disabled||(E==="selectedMenu"&&nt.props.selected||B===-1)&&(B=Z))});const H={slots:x,slotProps:{list:u,transition:S,paper:p,...A}},V=U_({elementType:x.root,externalSlotProps:A.root,ownerState:P,className:[k.root,o]}),[Y,et]=zn("paper",{className:k.paper,elementType:Myt,externalForwardedProps:H,shouldForwardComponentProp:!0,ownerState:P}),[G,X]=zn("list",{className:Ne(k.list,u.className),elementType:Cyt,shouldForwardComponentProp:!0,externalForwardedProps:H,getSlotProps:nt=>({...nt,onKeyDown:Z=>{var dt;R(Z),(dt=nt.onKeyDown)==null||dt.call(nt,Z)}}),ownerState:P}),J=typeof H.slotProps.transition=="function"?H.slotProps.transition(P):H.slotProps.transition;return W.jsx(Ayt,{onClose:c,anchorOrigin:{vertical:"bottom",horizontal:M?"right":"left"},transformOrigin:M?Eyt:Tyt,slots:{root:x.root,paper:Y,backdrop:x.backdrop,...x.transition&&{transition:x.transition}},slotProps:{root:V,paper:et,backdrop:typeof A.backdrop=="function"?A.backdrop(P):A.backdrop,transition:{...J,onEntering:(...nt)=>{var Z;U(...nt),(Z=J==null?void 0:J.onEntering)==null||Z.call(J,...nt)}}},open:h,ref:n,transitionDuration:v,ownerState:P,...C,classes:g,children:W.jsx(G,{actions:N,autoFocus:s&&(B===-1||l),autoFocusItem:D,variant:E,...X,children:a})})});function Ryt(i){return an("MuiMenuItem",i)}const e1=tn("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),Oyt=(i,e)=>{const{ownerState:n}=i;return[e.root,n.dense&&e.dense,n.divider&&e.divider,!n.disableGutters&&e.gutters]},Pyt=i=>{const{disabled:e,dense:n,divider:r,disableGutters:s,selected:a,classes:o}=i,u=on({root:["root",n&&"dense",e&&"disabled",!s&&"gutters",r&&"divider",a&&"selected"]},Ryt,o);return{...o,...u}},Iyt=de(u0,{shouldForwardProp:i=>Oo(i)||i==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:Oyt})(_n(({theme:i})=>({...i.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(i.vars||i).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${e1.selected}`]:{backgroundColor:i.vars?`rgba(${i.vars.palette.primary.mainChannel} / ${i.vars.palette.action.selectedOpacity})`:fr(i.palette.primary.main,i.palette.action.selectedOpacity),[`&.${e1.focusVisible}`]:{backgroundColor:i.vars?`rgba(${i.vars.palette.primary.mainChannel} / calc(${i.vars.palette.action.selectedOpacity} + ${i.vars.palette.action.focusOpacity}))`:fr(i.palette.primary.main,i.palette.action.selectedOpacity+i.palette.action.focusOpacity)}},[`&.${e1.selected}:hover`]:{backgroundColor:i.vars?`rgba(${i.vars.palette.primary.mainChannel} / calc(${i.vars.palette.action.selectedOpacity} + ${i.vars.palette.action.hoverOpacity}))`:fr(i.palette.primary.main,i.palette.action.selectedOpacity+i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:i.vars?`rgba(${i.vars.palette.primary.mainChannel} / ${i.vars.palette.action.selectedOpacity})`:fr(i.palette.primary.main,i.palette.action.selectedOpacity)}},[`&.${e1.focusVisible}`]:{backgroundColor:(i.vars||i).palette.action.focus},[`&.${e1.disabled}`]:{opacity:(i.vars||i).palette.action.disabledOpacity},[`& + .${oV.root}`]:{marginTop:i.spacing(1),marginBottom:i.spacing(1)},[`& + .${oV.inset}`]:{marginLeft:52},[`& .${fV.root}`]:{marginTop:0,marginBottom:0},[`& .${fV.inset}`]:{paddingLeft:36},[`& .${cV.root}`]:{minWidth:36},variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(i.vars||i).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>!e.dense,style:{[i.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:e})=>e.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...i.typography.body2,[`& .${cV.root} svg`]:{fontSize:"1.25rem"}}}]}))),oy=Q.forwardRef(function(e,n){const r=dn({props:e,name:"MuiMenuItem"}),{autoFocus:s=!1,component:a="li",dense:o=!1,divider:l=!1,disableGutters:u=!1,focusVisibleClassName:c,role:h="menuitem",tabIndex:p,className:g,...v}=r,b=Q.useContext(FC),S=Q.useMemo(()=>({dense:o||b.dense||!1,disableGutters:u}),[b.dense,o,u]),E=Q.useRef(null);kc(()=>{s&&E.current&&E.current.focus()},[s]);const x={...r,dense:S.dense,divider:l,disableGutters:u},A=Pyt(r),C=ys(E,n);let M;return r.disabled||(M=p!==void 0?p:-1),W.jsx(FC.Provider,{value:S,children:W.jsx(Iyt,{ref:C,role:h,tabIndex:M,component:a,focusVisibleClassName:Ne(A.focusVisible,c),className:Ne(A.root,g),...v,ownerState:x,classes:A})})});function Dyt(i){return an("MuiNativeSelect",i)}const o4=tn("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),Nyt=i=>{const{classes:e,variant:n,disabled:r,multiple:s,open:a,error:o}=i,l={select:["select",n,r&&"disabled",s&&"multiple",o&&"error"],icon:["icon",`icon${De(n)}`,a&&"iconOpen",r&&"disabled"]};return on(l,Dyt,e)},V$=de("select")(({theme:i})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${o4.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(i.vars||i).palette.background.paper},variants:[{props:({ownerState:e})=>e.variant!=="filled"&&e.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(i.vars||i).shape.borderRadius,"&:focus":{borderRadius:(i.vars||i).shape.borderRadius},"&&&":{paddingRight:32}}}]})),Lyt=de(V$,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Oo,overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.select,e[n.variant],n.error&&e.error,{[`&.${o4.multiple}`]:e.multiple}]}})({}),H$=de("svg")(({theme:i})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(i.vars||i).palette.action.active,[`&.${o4.disabled}`]:{color:(i.vars||i).palette.action.disabled},variants:[{props:({ownerState:e})=>e.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),Uyt=de(H$,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.icon,n.variant&&e[`icon${De(n.variant)}`],n.open&&e.iconOpen]}})({}),kyt=Q.forwardRef(function(e,n){const{className:r,disabled:s,error:a,IconComponent:o,inputRef:l,variant:u="standard",...c}=e,h={...e,disabled:s,variant:u,error:a},p=Nyt(h);return W.jsxs(Q.Fragment,{children:[W.jsx(Lyt,{ownerState:h,className:Ne(p.select,r),disabled:s,ref:l||n,...c}),e.multiple?null:W.jsx(Uyt,{as:o,ownerState:h,className:p.icon})]})});var gV;const zyt=de("fieldset",{shouldForwardProp:Oo})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),Byt=de("legend",{shouldForwardProp:Oo})(_n(({theme:i})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:e})=>!e.withLabel,style:{padding:0,lineHeight:"11px",transition:i.transitions.create("width",{duration:150,easing:i.transitions.easing.easeOut})}},{props:({ownerState:e})=>e.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:i.transitions.create("max-width",{duration:50,easing:i.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:e})=>e.withLabel&&e.notched,style:{maxWidth:"100%",transition:i.transitions.create("max-width",{duration:100,easing:i.transitions.easing.easeOut,delay:50})}}]})));function Fyt(i){const{children:e,classes:n,className:r,label:s,notched:a,...o}=i,l=s!=null&&s!=="",u={...i,notched:a,withLabel:l};return W.jsx(zyt,{"aria-hidden":!0,className:r,ownerState:u,...o,children:W.jsx(Byt,{ownerState:u,children:l?W.jsx("span",{children:s}):gV||(gV=W.jsx("span",{className:"notranslate","aria-hidden":!0,children:""}))})})}const Vyt=i=>{const{classes:e}=i,r=on({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Ipt,e);return{...e,...r}},Hyt=de(VR,{shouldForwardProp:i=>Oo(i)||i==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:BR})(_n(({theme:i})=>{const e=i.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(i.vars||i).shape.borderRadius,[`&:hover .${Pf.notchedOutline}`]:{borderColor:(i.vars||i).palette.text.primary},"@media (hover: none)":{[`&:hover .${Pf.notchedOutline}`]:{borderColor:i.vars?`rgba(${i.vars.palette.common.onBackgroundChannel} / 0.23)`:e}},[`&.${Pf.focused} .${Pf.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(i.palette).filter(Is()).map(([n])=>({props:{color:n},style:{[`&.${Pf.focused} .${Pf.notchedOutline}`]:{borderColor:(i.vars||i).palette[n].main}}})),{props:{},style:{[`&.${Pf.error} .${Pf.notchedOutline}`]:{borderColor:(i.vars||i).palette.error.main},[`&.${Pf.disabled} .${Pf.notchedOutline}`]:{borderColor:(i.vars||i).palette.action.disabled}}},{props:({ownerState:n})=>n.startAdornment,style:{paddingLeft:14}},{props:({ownerState:n})=>n.endAdornment,style:{paddingRight:14}},{props:({ownerState:n})=>n.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:n,size:r})=>n.multiline&&r==="small",style:{padding:"8.5px 14px"}}]}})),jyt=de(Fyt,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(i,e)=>e.notchedOutline})(_n(({theme:i})=>{const e=i.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:i.vars?`rgba(${i.vars.palette.common.onBackgroundChannel} / 0.23)`:e}})),Gyt=de(HR,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:FR})(_n(({theme:i})=>({padding:"16.5px 14px",...!i.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:i.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:i.palette.mode==="light"?null:"#fff",caretColor:i.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...i.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[i.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:e})=>e.multiline,style:{padding:0}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}}]}))),l4=Q.forwardRef(function(e,n){var r;const s=dn({props:e,name:"MuiOutlinedInput"}),{components:a={},fullWidth:o=!1,inputComponent:l="input",label:u,multiline:c=!1,notched:h,slots:p={},type:g="text",...v}=s,b=Vyt(s),S=jd(),E=Vm({props:s,muiFormControl:S,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),x={...s,color:E.color||"primary",disabled:E.disabled,error:E.error,focused:E.focused,formControl:S,fullWidth:o,hiddenLabel:E.hiddenLabel,multiline:c,size:E.size,type:g},A=p.root??a.Root??Hyt,C=p.input??a.Input??Gyt;return W.jsx(e4,{slots:{root:A,input:C},renderSuffix:M=>W.jsx(jyt,{ownerState:x,className:b.notchedOutline,label:u!=null&&u!==""&&E.required?r||(r=W.jsxs(Q.Fragment,{children:[u,"","*"]})):u,notched:typeof h<"u"?h:!!(M.startAdornment||M.filled||M.focused)}),fullWidth:o,inputComponent:l,multiline:c,ref:n,type:g,...v,classes:{...b,notchedOutline:null}})});l4.muiName="Input";const $yt=Q.createContext(void 0);function qyt(i){return an("MuiRadioGroup",i)}tn("MuiRadioGroup",["root","row","error"]);const Wyt=i=>{const{classes:e,row:n,error:r}=i;return on({root:["root",n&&"row",r&&"error"]},qyt,e)},Xyt=Q.forwardRef(function(e,n){const{actions:r,children:s,className:a,defaultValue:o,name:l,onChange:u,value:c,...h}=e,p=Q.useRef(null),g=Wyt(e),[v,b]=FS({controlled:c,default:o,name:"RadioGroup"});Q.useImperativeHandle(r,()=>({focus:()=>{let A=p.current.querySelector("input:not(:disabled):checked");A||(A=p.current.querySelector("input:not(:disabled)")),A&&A.focus()}}),[]);const S=ys(n,p),E=o0(l),x=Q.useMemo(()=>({name:E,onChange(A){b(A.target.value),u&&u(A,A.target.value)},value:v}),[E,u,b,v]);return W.jsx($yt.Provider,{value:x,children:W.jsx(Bgt,{role:"radiogroup",ref:S,className:Ne(g.root,a),...h,children:s})})});function j$(i){return an("MuiSelect",i)}const n1=tn("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var yV;const Yyt=de(V$,{name:"MuiSelect",slot:"Select",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[{[`&.${n1.select}`]:e.select},{[`&.${n1.select}`]:e[n.variant]},{[`&.${n1.error}`]:e.error},{[`&.${n1.multiple}`]:e.multiple}]}})({[`&.${n1.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),Kyt=de(H$,{name:"MuiSelect",slot:"Icon",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.icon,n.variant&&e[`icon${De(n.variant)}`],n.open&&e.iconOpen]}})({}),Zyt=de("input",{shouldForwardProp:i=>m$(i)&&i!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(i,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function vV(i,e){return typeof e=="object"&&e!==null?i===e:String(i)===String(e)}function Qyt(i){return i==null||typeof i=="string"&&!i.trim()}const Jyt=i=>{const{classes:e,variant:n,disabled:r,multiple:s,open:a,error:o}=i,l={select:["select",n,r&&"disabled",s&&"multiple",o&&"error"],icon:["icon",`icon${De(n)}`,a&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return on(l,j$,e)},t0t=Q.forwardRef(function(e,n){var Oe;const{"aria-describedby":r,"aria-label":s,autoFocus:a,autoWidth:o,children:l,className:u,defaultOpen:c,defaultValue:h,disabled:p,displayEmpty:g,error:v=!1,IconComponent:b,inputRef:S,labelId:E,MenuProps:x={},multiple:A,name:C,onBlur:M,onChange:P,onClose:k,onFocus:D,onOpen:N,open:U,readOnly:R,renderValue:B,required:H,SelectDisplayProps:V={},tabIndex:Y,type:et,value:G,variant:X="standard",...J}=e,[nt,Z]=FS({controlled:G,default:h,name:"Select"}),[dt,yt]=FS({controlled:U,default:c,name:"Select"}),xt=Q.useRef(null),it=Q.useRef(null),[ht,lt]=Q.useState(null),{current:gt}=Q.useRef(U!=null),[Tt,Kt]=Q.useState(),Ut=ys(n,S),te=Q.useCallback(Zt=>{it.current=Zt,Zt&&lt(Zt)},[]),Pt=ht==null?void 0:ht.parentNode;Q.useImperativeHandle(Ut,()=>({focus:()=>{it.current.focus()},node:xt.current,value:nt}),[nt]),Q.useEffect(()=>{c&&dt&&ht&&!gt&&(Kt(o?null:Pt.clientWidth),it.current.focus())},[ht,o]),Q.useEffect(()=>{a&&it.current.focus()},[a]),Q.useEffect(()=>{if(!E)return;const Zt=_l(it.current).getElementById(E);if(Zt){const Ie=()=>{getSelection().isCollapsed&&it.current.focus()};return Zt.addEventListener("click",Ie),()=>{Zt.removeEventListener("click",Ie)}}},[E]);const Bt=(Zt,Ie)=>{Zt?N&&N(Ie):k&&k(Ie),gt||(Kt(o?null:Pt.clientWidth),yt(Zt))},at=Zt=>{Zt.button===0&&(Zt.preventDefault(),it.current.focus(),Bt(!0,Zt))},ce=Zt=>{Bt(!1,Zt)},ee=Q.Children.toArray(l),ne=Zt=>{const Ie=ee.find(Ue=>Ue.props.value===Zt.target.value);Ie!==void 0&&(Z(Ie.props.value),P&&P(Zt,Ie))},ie=Zt=>Ie=>{let Ue;if(Ie.currentTarget.hasAttribute("tabindex")){if(A){Ue=Array.isArray(nt)?nt.slice():[];const ln=nt.indexOf(Zt.props.value);ln===-1?Ue.push(Zt.props.value):Ue.splice(ln,1)}else Ue=Zt.props.value;if(Zt.props.onClick&&Zt.props.onClick(Ie),nt!==Ue&&(Z(Ue),P)){const ln=Ie.nativeEvent||Ie,wt=new ln.constructor(ln.type,ln);Object.defineProperty(wt,"target",{writable:!0,value:{value:Ue,name:C}}),P(wt,Zt)}A||Bt(!1,Ie)}},Me=Zt=>{R||[" ","ArrowUp","ArrowDown","Enter"].includes(Zt.key)&&(Zt.preventDefault(),Bt(!0,Zt))},le=ht!==null&&dt,ut=Zt=>{!le&&M&&(Object.defineProperty(Zt,"target",{writable:!0,value:{value:nt,name:C}}),M(Zt))};delete J["aria-invalid"];let j,ct;const mt=[];let Rt=!1;(zC({value:nt})||g)&&(B?j=B(nt):Rt=!0);const _t=ee.map(Zt=>{if(!Q.isValidElement(Zt))return null;let Ie;if(A){if(!Array.isArray(nt))throw new Error(Nd(2));Ie=nt.some(Ue=>vV(Ue,Zt.props.value)),Ie&&Rt&&mt.push(Zt.props.children)}else Ie=vV(nt,Zt.props.value),Ie&&Rt&&(ct=Zt.props.children);return Q.cloneElement(Zt,{"aria-selected":Ie?"true":"false",onClick:ie(Zt),onKeyUp:Ue=>{Ue.key===" "&&Ue.preventDefault(),Zt.props.onKeyUp&&Zt.props.onKeyUp(Ue)},role:"option",selected:Ie,value:void 0,"data-value":Zt.props.value})});Rt&&(A?mt.length===0?j=null:j=mt.reduce((Zt,Ie,Ue)=>(Zt.push(Ie),Ue<mt.length-1&&Zt.push(", "),Zt),[]):j=ct);let Ct=Tt;!o&&gt&&ht&&(Ct=Pt.clientWidth);let Lt;typeof Y<"u"?Lt=Y:Lt=p?null:0;const Jt=V.id||(C?`mui-component-select-${C}`:void 0),Le={...e,variant:X,value:nt,open:le,error:v},Ht=Jyt(Le),_e={...x.PaperProps,...(Oe=x.slotProps)==null?void 0:Oe.paper},Re=o0();return W.jsxs(Q.Fragment,{children:[W.jsx(Yyt,{as:"div",ref:te,tabIndex:Lt,role:"combobox","aria-controls":le?Re:void 0,"aria-disabled":p?"true":void 0,"aria-expanded":le?"true":"false","aria-haspopup":"listbox","aria-label":s,"aria-labelledby":[E,Jt].filter(Boolean).join(" ")||void 0,"aria-describedby":r,"aria-required":H?"true":void 0,"aria-invalid":v?"true":void 0,onKeyDown:Me,onMouseDown:p||R?null:at,onBlur:ut,onFocus:D,...V,ownerState:Le,className:Ne(V.className,Ht.select,u),id:Jt,children:Qyt(j)?yV||(yV=W.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):j}),W.jsx(Zyt,{"aria-invalid":v,value:Array.isArray(nt)?nt.join(","):nt,name:C,ref:xt,"aria-hidden":!0,onChange:ne,tabIndex:-1,disabled:p,className:Ht.nativeInput,autoFocus:a,required:H,...J,ownerState:Le}),W.jsx(Kyt,{as:b,className:Ht.icon,ownerState:Le}),W.jsx(F$,{id:`menu-${C||""}`,anchorEl:Pt,open:le,onClose:ce,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...x,slotProps:{...x.slotProps,list:{"aria-labelledby":E,role:"listbox","aria-multiselectable":A?"true":void 0,disableListWrap:!0,id:Re,...x.MenuListProps},paper:{..._e,style:{minWidth:Ct,..._e!=null?_e.style:null}}},children:_t})]})}),e0t=i=>{const{classes:e}=i,r=on({root:["root"]},j$,e);return{...e,...r}},u4={name:"MuiSelect",overridesResolver:(i,e)=>e.root,shouldForwardProp:i=>Oo(i)&&i!=="variant",slot:"Root"},n0t=de(s4,u4)(""),i0t=de(l4,u4)(""),r0t=de(i4,u4)(""),c4=Q.forwardRef(function(e,n){const r=dn({name:"MuiSelect",props:e}),{autoWidth:s=!1,children:a,classes:o={},className:l,defaultOpen:u=!1,displayEmpty:c=!1,IconComponent:h=Npt,id:p,input:g,inputProps:v,label:b,labelId:S,MenuProps:E,multiple:x=!1,native:A=!1,onClose:C,onOpen:M,open:P,renderValue:k,SelectDisplayProps:D,variant:N="outlined",...U}=r,R=A?kyt:t0t,B=jd(),H=Vm({props:r,muiFormControl:B,states:["variant","error"]}),V=H.variant||N,Y={...r,variant:V,classes:o},et=e0t(Y),{root:G,...X}=et,J=g||{standard:W.jsx(n0t,{ownerState:Y}),outlined:W.jsx(i0t,{label:b,ownerState:Y}),filled:W.jsx(r0t,{ownerState:Y})}[V],nt=ys(n,l0(J));return W.jsx(Q.Fragment,{children:Q.cloneElement(J,{inputComponent:R,inputProps:{children:a,error:H.error,IconComponent:h,variant:V,type:void 0,multiple:x,...A?{id:p}:{autoWidth:s,defaultOpen:u,displayEmpty:c,labelId:S,MenuProps:E,onClose:C,onOpen:M,open:P,renderValue:k,SelectDisplayProps:{id:p,...D}},...v,classes:v?na(X,v.classes):X,...g?g.props.inputProps:{}},...(x&&A||c)&&V==="outlined"?{notched:!0}:{},ref:nt,className:Ne(J.props.className,l,et.root),...!g&&{variant:V},...U})})});c4.muiName="Select";function s0t(i){return an("MuiTooltip",i)}const is=tn("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);function a0t(i){return Math.round(i*1e5)/1e5}const o0t=i=>{const{classes:e,disableInteractive:n,arrow:r,touch:s,placement:a}=i,o={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",s&&"touch",`tooltipPlacement${De(a.split("-")[0])}`],arrow:["arrow"]};return on(o,s0t,e)},l0t=de(P$,{name:"MuiTooltip",slot:"Popper",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.popper,!n.disableInteractive&&e.popperInteractive,n.arrow&&e.popperArrow,!n.open&&e.popperClose]}})(_n(({theme:i})=>({zIndex:(i.vars||i).zIndex.tooltip,pointerEvents:"none",variants:[{props:({ownerState:e})=>!e.disableInteractive,style:{pointerEvents:"auto"}},{props:({open:e})=>!e,style:{pointerEvents:"none"}},{props:({ownerState:e})=>e.arrow,style:{[`&[data-popper-placement*="bottom"] .${is.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${is.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${is.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},[`&[data-popper-placement*="left"] .${is.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="right"] .${is.arrow}`]:{left:0,marginLeft:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="right"] .${is.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="left"] .${is.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="left"] .${is.arrow}`]:{left:0,marginLeft:"-0.71em"}}}]}))),u0t=de("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.tooltip,n.touch&&e.touch,n.arrow&&e.tooltipArrow,e[`tooltipPlacement${De(n.placement.split("-")[0])}`]]}})(_n(({theme:i})=>({backgroundColor:i.vars?i.vars.palette.Tooltip.bg:fr(i.palette.grey[700],.92),borderRadius:(i.vars||i).shape.borderRadius,color:(i.vars||i).palette.common.white,fontFamily:i.typography.fontFamily,padding:"4px 8px",fontSize:i.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:i.typography.fontWeightMedium,[`.${is.popper}[data-popper-placement*="left"] &`]:{transformOrigin:"right center"},[`.${is.popper}[data-popper-placement*="right"] &`]:{transformOrigin:"left center"},[`.${is.popper}[data-popper-placement*="top"] &`]:{transformOrigin:"center bottom",marginBottom:"14px"},[`.${is.popper}[data-popper-placement*="bottom"] &`]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:({ownerState:e})=>e.arrow,style:{position:"relative",margin:0}},{props:({ownerState:e})=>e.touch,style:{padding:"8px 16px",fontSize:i.typography.pxToRem(14),lineHeight:`${a0t(16/14)}em`,fontWeight:i.typography.fontWeightRegular}},{props:({ownerState:e})=>!e.isRtl,style:{[`.${is.popper}[data-popper-placement*="left"] &`]:{marginRight:"14px"},[`.${is.popper}[data-popper-placement*="right"] &`]:{marginLeft:"14px"}}},{props:({ownerState:e})=>!e.isRtl&&e.touch,style:{[`.${is.popper}[data-popper-placement*="left"] &`]:{marginRight:"24px"},[`.${is.popper}[data-popper-placement*="right"] &`]:{marginLeft:"24px"}}},{props:({ownerState:e})=>!!e.isRtl,style:{[`.${is.popper}[data-popper-placement*="left"] &`]:{marginLeft:"14px"},[`.${is.popper}[data-popper-placement*="right"] &`]:{marginRight:"14px"}}},{props:({ownerState:e})=>!!e.isRtl&&e.touch,style:{[`.${is.popper}[data-popper-placement*="left"] &`]:{marginLeft:"24px"},[`.${is.popper}[data-popper-placement*="right"] &`]:{marginRight:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${is.popper}[data-popper-placement*="top"] &`]:{marginBottom:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${is.popper}[data-popper-placement*="bottom"] &`]:{marginTop:"24px"}}}]}))),c0t=de("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(i,e)=>e.arrow})(_n(({theme:i})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:i.vars?i.vars.palette.Tooltip.bg:fr(i.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})));let yA=!1;const _V=new kR;let i1={x:0,y:0};function vA(i,e){return(n,...r)=>{e&&e(n,...r),i(n,...r)}}const n_=Q.forwardRef(function(e,n){const r=dn({props:e,name:"MuiTooltip"}),{arrow:s=!1,children:a,classes:o,components:l={},componentsProps:u={},describeChild:c=!1,disableFocusListener:h=!1,disableHoverListener:p=!1,disableInteractive:g=!1,disableTouchListener:v=!1,enterDelay:b=100,enterNextDelay:S=0,enterTouchDelay:E=700,followCursor:x=!1,id:A,leaveDelay:C=0,leaveTouchDelay:M=1500,onClose:P,onOpen:k,open:D,placement:N="bottom",PopperComponent:U,PopperProps:R={},slotProps:B={},slots:H={},title:V,TransitionComponent:Y,TransitionProps:et,...G}=r,X=Q.isValidElement(a)?a:W.jsx("span",{children:a}),J=Bm(),nt=yb(),[Z,dt]=Q.useState(),[yt,xt]=Q.useState(null),it=Q.useRef(!1),ht=g||x,lt=dy(),gt=dy(),Tt=dy(),Kt=dy(),[Ut,te]=FS({controlled:D,default:!1,name:"Tooltip",state:"open"});let Pt=Ut;const Bt=o0(A),at=Q.useRef(),ce=zu(()=>{at.current!==void 0&&(document.body.style.WebkitUserSelect=at.current,at.current=void 0),Kt.clear()});Q.useEffect(()=>ce,[ce]);const ee=je=>{_V.clear(),yA=!0,te(!0),k&&!Pt&&k(je)},ne=zu(je=>{_V.start(800+C,()=>{yA=!1}),te(!1),P&&Pt&&P(je),lt.start(J.transitions.duration.shortest,()=>{it.current=!1})}),ie=je=>{it.current&&je.type!=="touchstart"||(Z&&Z.removeAttribute("title"),gt.clear(),Tt.clear(),b||yA&&S?gt.start(yA?S:b,()=>{ee(je)}):ee(je))},Me=je=>{gt.clear(),Tt.start(C,()=>{ne(je)})},[,le]=Q.useState(!1),ut=je=>{DC(je.target)||(le(!1),Me(je))},j=je=>{Z||dt(je.currentTarget),DC(je.target)&&(le(!0),ie(je))},ct=je=>{it.current=!0;const en=X.props;en.onTouchStart&&en.onTouchStart(je)},mt=je=>{ct(je),Tt.clear(),lt.clear(),ce(),at.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",Kt.start(E,()=>{document.body.style.WebkitUserSelect=at.current,ie(je)})},Rt=je=>{X.props.onTouchEnd&&X.props.onTouchEnd(je),ce(),Tt.start(M,()=>{ne(je)})};Q.useEffect(()=>{if(!Pt)return;function je(en){en.key==="Escape"&&ne(en)}return document.addEventListener("keydown",je),()=>{document.removeEventListener("keydown",je)}},[ne,Pt]);const _t=ys(l0(X),dt,n);!V&&V!==0&&(Pt=!1);const Ct=Q.useRef(),Lt=je=>{const en=X.props;en.onMouseMove&&en.onMouseMove(je),i1={x:je.clientX,y:je.clientY},Ct.current&&Ct.current.update()},Jt={},Le=typeof V=="string";c?(Jt.title=!Pt&&Le&&!p?V:null,Jt["aria-describedby"]=Pt?Bt:null):(Jt["aria-label"]=Le?V:null,Jt["aria-labelledby"]=Pt&&!Le?Bt:null);const Ht={...Jt,...G,...X.props,className:Ne(G.className,X.props.className),onTouchStart:ct,ref:_t,...x?{onMouseMove:Lt}:{}},_e={};v||(Ht.onTouchStart=mt,Ht.onTouchEnd=Rt),p||(Ht.onMouseOver=vA(ie,Ht.onMouseOver),Ht.onMouseLeave=vA(Me,Ht.onMouseLeave),ht||(_e.onMouseOver=ie,_e.onMouseLeave=Me)),h||(Ht.onFocus=vA(j,Ht.onFocus),Ht.onBlur=vA(ut,Ht.onBlur),ht||(_e.onFocus=j,_e.onBlur=ut));const Re={...r,isRtl:nt,arrow:s,disableInteractive:ht,placement:N,PopperComponentProp:U,touch:it.current},Oe=typeof B.popper=="function"?B.popper(Re):B.popper,Zt=Q.useMemo(()=>{var en,Ee;let je=[{name:"arrow",enabled:!!yt,options:{element:yt,padding:4}}];return(en=R.popperOptions)!=null&&en.modifiers&&(je=je.concat(R.popperOptions.modifiers)),(Ee=Oe==null?void 0:Oe.popperOptions)!=null&&Ee.modifiers&&(je=je.concat(Oe.popperOptions.modifiers)),{...R.popperOptions,...Oe==null?void 0:Oe.popperOptions,modifiers:je}},[yt,R.popperOptions,Oe==null?void 0:Oe.popperOptions]),Ie=o0t(Re),Ue=typeof B.transition=="function"?B.transition(Re):B.transition,ln={slots:{popper:l.Popper,transition:l.Transition??Y,tooltip:l.Tooltip,arrow:l.Arrow,...H},slotProps:{arrow:B.arrow??u.arrow,popper:{...R,...Oe??u.popper},tooltip:B.tooltip??u.tooltip,transition:{...et,...Ue??u.transition}}},[wt,Ce]=zn("popper",{elementType:l0t,externalForwardedProps:ln,ownerState:Re,className:Ne(Ie.popper,R==null?void 0:R.className)}),[Xt,se]=zn("transition",{elementType:BC,externalForwardedProps:ln,ownerState:Re}),[Pe,Se]=zn("tooltip",{elementType:u0t,className:Ie.tooltip,externalForwardedProps:ln,ownerState:Re}),[cn,Qn]=zn("arrow",{elementType:c0t,className:Ie.arrow,externalForwardedProps:ln,ownerState:Re,ref:xt});return W.jsxs(Q.Fragment,{children:[Q.cloneElement(X,Ht),W.jsx(wt,{as:U??P$,placement:N,anchorEl:x?{getBoundingClientRect:()=>({top:i1.y,left:i1.x,right:i1.x,bottom:i1.y,width:0,height:0})}:Z,popperRef:Ct,open:Z?Pt:!1,id:Bt,transition:!0,..._e,...Ce,popperOptions:Zt,children:({TransitionProps:je})=>W.jsx(Xt,{timeout:J.transitions.duration.shorter,...je,...se,children:W.jsxs(Pe,{...Se,children:[V,s?W.jsx(cn,{...Qn}):null]})})})]})}),Qp=Tft({createStyledComponent:de("div",{name:"MuiStack",slot:"Root",overridesResolver:(i,e)=>e.root}),useThemeProps:i=>dn({props:i,name:"MuiStack"})}),GR=Q.createContext({}),f4=Q.createContext({});function f0t(i){return an("MuiStep",i)}tn("MuiStep",["root","horizontal","vertical","alternativeLabel","completed"]);const h0t=i=>{const{classes:e,orientation:n,alternativeLabel:r,completed:s}=i;return on({root:["root",n,r&&"alternativeLabel",s&&"completed"]},f0t,e)},d0t=de("div",{name:"MuiStep",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.root,e[n.orientation],n.alternativeLabel&&e.alternativeLabel,n.completed&&e.completed]}})({variants:[{props:{orientation:"horizontal"},style:{paddingLeft:8,paddingRight:8}},{props:{alternativeLabel:!0},style:{flex:1,position:"relative"}}]}),p0t=Q.forwardRef(function(e,n){const r=dn({props:e,name:"MuiStep"}),{active:s,children:a,className:o,component:l="div",completed:u,disabled:c,expanded:h=!1,index:p,last:g,...v}=r,{activeStep:b,connector:S,alternativeLabel:E,orientation:x,nonLinear:A}=Q.useContext(GR);let[C=!1,M=!1,P=!1]=[s,u,c];b===p?C=s!==void 0?s:!0:!A&&b>p?M=u!==void 0?u:!0:!A&&b<p&&(P=c!==void 0?c:!0);const k=Q.useMemo(()=>({index:p,last:g,expanded:h,icon:p+1,active:C,completed:M,disabled:P}),[p,g,h,C,M,P]),D={...r,active:C,orientation:x,alternativeLabel:E,completed:M,disabled:P,expanded:h,component:l},N=h0t(D),U=W.jsxs(d0t,{as:l,className:Ne(N.root,o),ref:n,ownerState:D,...v,children:[S&&E&&p!==0?S:null,a]});return W.jsx(f4.Provider,{value:k,children:S&&!E&&p!==0?W.jsxs(Q.Fragment,{children:[S,U]}):U})}),m0t=Pr(W.jsx("path",{d:"M12 0a12 12 0 1 0 0 24 12 12 0 0 0 0-24zm-2 17l-5-5 1.4-1.4 3.6 3.6 7.6-7.6L19 8l-9 9z"}),"CheckCircle"),g0t=Pr(W.jsx("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}),"Warning");function y0t(i){return an("MuiStepIcon",i)}const ZI=tn("MuiStepIcon",["root","active","completed","error","text"]);var bV;const v0t=i=>{const{classes:e,active:n,completed:r,error:s}=i;return on({root:["root",n&&"active",r&&"completed",s&&"error"],text:["text"]},y0t,e)},QI=de(NC,{name:"MuiStepIcon",slot:"Root",overridesResolver:(i,e)=>e.root})(_n(({theme:i})=>({display:"block",transition:i.transitions.create("color",{duration:i.transitions.duration.shortest}),color:(i.vars||i).palette.text.disabled,[`&.${ZI.completed}`]:{color:(i.vars||i).palette.primary.main},[`&.${ZI.active}`]:{color:(i.vars||i).palette.primary.main},[`&.${ZI.error}`]:{color:(i.vars||i).palette.error.main}}))),_0t=de("text",{name:"MuiStepIcon",slot:"Text",overridesResolver:(i,e)=>e.text})(_n(({theme:i})=>({fill:(i.vars||i).palette.primary.contrastText,fontSize:i.typography.caption.fontSize,fontFamily:i.typography.fontFamily}))),b0t=Q.forwardRef(function(e,n){const r=dn({props:e,name:"MuiStepIcon"}),{active:s=!1,className:a,completed:o=!1,error:l=!1,icon:u,...c}=r,h={...r,active:s,completed:o,error:l},p=v0t(h);if(typeof u=="number"||typeof u=="string"){const g=Ne(a,p.root);return l?W.jsx(QI,{as:g0t,className:g,ref:n,ownerState:h,...c}):o?W.jsx(QI,{as:m0t,className:g,ref:n,ownerState:h,...c}):W.jsxs(QI,{className:g,ref:n,ownerState:h,...c,children:[bV||(bV=W.jsx("circle",{cx:"12",cy:"12",r:"12"})),W.jsx(_0t,{className:p.text,x:"12",y:"12",textAnchor:"middle",dominantBaseline:"central",ownerState:h,children:u})]})}return u});function x0t(i){return an("MuiStepLabel",i)}const om=tn("MuiStepLabel",["root","horizontal","vertical","label","active","completed","error","disabled","iconContainer","alternativeLabel","labelContainer"]),S0t=i=>{const{classes:e,orientation:n,active:r,completed:s,error:a,disabled:o,alternativeLabel:l}=i;return on({root:["root",n,a&&"error",o&&"disabled",l&&"alternativeLabel"],label:["label",r&&"active",s&&"completed",a&&"error",o&&"disabled",l&&"alternativeLabel"],iconContainer:["iconContainer",r&&"active",s&&"completed",a&&"error",o&&"disabled",l&&"alternativeLabel"],labelContainer:["labelContainer",l&&"alternativeLabel"]},x0t,e)},E0t=de("span",{name:"MuiStepLabel",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.root,e[n.orientation]]}})({display:"flex",alignItems:"center",[`&.${om.alternativeLabel}`]:{flexDirection:"column"},[`&.${om.disabled}`]:{cursor:"default"},variants:[{props:{orientation:"vertical"},style:{textAlign:"left",padding:"8px 0"}}]}),T0t=de("span",{name:"MuiStepLabel",slot:"Label",overridesResolver:(i,e)=>e.label})(_n(({theme:i})=>({...i.typography.body2,display:"block",transition:i.transitions.create("color",{duration:i.transitions.duration.shortest}),[`&.${om.active}`]:{color:(i.vars||i).palette.text.primary,fontWeight:500},[`&.${om.completed}`]:{color:(i.vars||i).palette.text.primary,fontWeight:500},[`&.${om.alternativeLabel}`]:{marginTop:16},[`&.${om.error}`]:{color:(i.vars||i).palette.error.main}}))),w0t=de("span",{name:"MuiStepLabel",slot:"IconContainer",overridesResolver:(i,e)=>e.iconContainer})({flexShrink:0,display:"flex",paddingRight:8,[`&.${om.alternativeLabel}`]:{paddingRight:0}}),A0t=de("span",{name:"MuiStepLabel",slot:"LabelContainer",overridesResolver:(i,e)=>e.labelContainer})(_n(({theme:i})=>({width:"100%",color:(i.vars||i).palette.text.secondary,[`&.${om.alternativeLabel}`]:{textAlign:"center"}}))),G$=Q.forwardRef(function(e,n){const r=dn({props:e,name:"MuiStepLabel"}),{children:s,className:a,componentsProps:o={},error:l=!1,icon:u,optional:c,slots:h={},slotProps:p={},StepIconComponent:g,StepIconProps:v,...b}=r,{alternativeLabel:S,orientation:E}=Q.useContext(GR),{active:x,disabled:A,completed:C,icon:M}=Q.useContext(f4),P=u||M;let k=g;P&&!k&&(k=b0t);const D={...r,active:x,alternativeLabel:S,completed:C,disabled:A,error:l,orientation:E},N=S0t(D),U={slots:h,slotProps:{stepIcon:v,...o,...p}},[R,B]=zn("root",{elementType:E0t,externalForwardedProps:{...U,...b},ownerState:D,ref:n,className:Ne(N.root,a)}),[H,V]=zn("label",{elementType:T0t,externalForwardedProps:U,ownerState:D}),[Y,et]=zn("stepIcon",{elementType:k,externalForwardedProps:U,ownerState:D});return W.jsxs(R,{...B,children:[P||Y?W.jsx(w0t,{className:N.iconContainer,ownerState:D,children:W.jsx(Y,{completed:C,active:x,error:l,icon:P,...et})}):null,W.jsxs(A0t,{className:N.labelContainer,ownerState:D,children:[s?W.jsx(H,{...V,className:Ne(N.label,V==null?void 0:V.className),children:s}):null,c]})]})});G$.muiName="StepLabel";function M0t(i){return an("MuiStepConnector",i)}tn("MuiStepConnector",["root","horizontal","vertical","alternativeLabel","active","completed","disabled","line","lineHorizontal","lineVertical"]);const C0t=i=>{const{classes:e,orientation:n,alternativeLabel:r,active:s,completed:a,disabled:o}=i,l={root:["root",n,r&&"alternativeLabel",s&&"active",a&&"completed",o&&"disabled"],line:["line",`line${De(n)}`]};return on(l,M0t,e)},R0t=de("div",{name:"MuiStepConnector",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.root,e[n.orientation],n.alternativeLabel&&e.alternativeLabel,n.completed&&e.completed]}})({flex:"1 1 auto",variants:[{props:{orientation:"vertical"},style:{marginLeft:12}},{props:{alternativeLabel:!0},style:{position:"absolute",top:12,left:"calc(-50% + 20px)",right:"calc(50% + 20px)"}}]}),O0t=de("span",{name:"MuiStepConnector",slot:"Line",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.line,e[`line${De(n.orientation)}`]]}})(_n(({theme:i})=>{const e=i.palette.mode==="light"?i.palette.grey[400]:i.palette.grey[600];return{display:"block",borderColor:i.vars?i.vars.palette.StepConnector.border:e,variants:[{props:{orientation:"horizontal"},style:{borderTopStyle:"solid",borderTopWidth:1}},{props:{orientation:"vertical"},style:{borderLeftStyle:"solid",borderLeftWidth:1,minHeight:24}}]}})),P0t=Q.forwardRef(function(e,n){const r=dn({props:e,name:"MuiStepConnector"}),{className:s,...a}=r,{alternativeLabel:o,orientation:l="horizontal"}=Q.useContext(GR),{active:u,disabled:c,completed:h}=Q.useContext(f4),p={...r,alternativeLabel:o,orientation:l,active:u,completed:h,disabled:c},g=C0t(p);return W.jsx(R0t,{className:Ne(g.root,s),ref:n,ownerState:p,...a,children:W.jsx(O0t,{className:g.line,ownerState:p})})});function I0t(i){return an("MuiStepper",i)}tn("MuiStepper",["root","horizontal","vertical","nonLinear","alternativeLabel"]);const D0t=i=>{const{orientation:e,nonLinear:n,alternativeLabel:r,classes:s}=i;return on({root:["root",e,n&&"nonLinear",r&&"alternativeLabel"]},I0t,s)},N0t=de("div",{name:"MuiStepper",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.root,e[n.orientation],n.alternativeLabel&&e.alternativeLabel,n.nonLinear&&e.nonLinear]}})({display:"flex",variants:[{props:{orientation:"horizontal"},style:{flexDirection:"row",alignItems:"center"}},{props:{orientation:"vertical"},style:{flexDirection:"column"}},{props:{alternativeLabel:!0},style:{alignItems:"flex-start"}}]}),L0t=W.jsx(P0t,{}),U0t=Q.forwardRef(function(e,n){const r=dn({props:e,name:"MuiStepper"}),{activeStep:s=0,alternativeLabel:a=!1,children:o,className:l,component:u="div",connector:c=L0t,nonLinear:h=!1,orientation:p="horizontal",...g}=r,v={...r,nonLinear:h,alternativeLabel:a,orientation:p,component:u},b=D0t(v),S=Q.Children.toArray(o).filter(Boolean),E=S.map((A,C)=>Q.cloneElement(A,{index:C,last:C+1===S.length,...A.props})),x=Q.useMemo(()=>({activeStep:s,alternativeLabel:a,connector:c,nonLinear:h,orientation:p}),[s,a,c,h,p]);return W.jsx(GR.Provider,{value:x,children:W.jsx(N0t,{as:u,ownerState:v,className:Ne(b.root,l),ref:n,...g,children:E})})});function k0t(i){return an("MuiTab",i)}const Au=tn("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper","icon"]),z0t=i=>{const{classes:e,textColor:n,fullWidth:r,wrapped:s,icon:a,label:o,selected:l,disabled:u}=i,c={root:["root",a&&o&&"labelIcon",`textColor${De(n)}`,r&&"fullWidth",s&&"wrapped",l&&"selected",u&&"disabled"],icon:["iconWrapper","icon"]};return on(c,k0t,e)},B0t=de(u0,{name:"MuiTab",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.root,n.label&&n.icon&&e.labelIcon,e[`textColor${De(n.textColor)}`],n.fullWidth&&e.fullWidth,n.wrapped&&e.wrapped,{[`& .${Au.iconWrapper}`]:e.iconWrapper},{[`& .${Au.icon}`]:e.icon}]}})(_n(({theme:i})=>({...i.typography.button,maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center",lineHeight:1.25,variants:[{props:({ownerState:e})=>e.label&&(e.iconPosition==="top"||e.iconPosition==="bottom"),style:{flexDirection:"column"}},{props:({ownerState:e})=>e.label&&e.iconPosition!=="top"&&e.iconPosition!=="bottom",style:{flexDirection:"row"}},{props:({ownerState:e})=>e.icon&&e.label,style:{minHeight:72,paddingTop:9,paddingBottom:9}},{props:({ownerState:e,iconPosition:n})=>e.icon&&e.label&&n==="top",style:{[`& > .${Au.icon}`]:{marginBottom:6}}},{props:({ownerState:e,iconPosition:n})=>e.icon&&e.label&&n==="bottom",style:{[`& > .${Au.icon}`]:{marginTop:6}}},{props:({ownerState:e,iconPosition:n})=>e.icon&&e.label&&n==="start",style:{[`& > .${Au.icon}`]:{marginRight:i.spacing(1)}}},{props:({ownerState:e,iconPosition:n})=>e.icon&&e.label&&n==="end",style:{[`& > .${Au.icon}`]:{marginLeft:i.spacing(1)}}},{props:{textColor:"inherit"},style:{color:"inherit",opacity:.6,[`&.${Au.selected}`]:{opacity:1},[`&.${Au.disabled}`]:{opacity:(i.vars||i).palette.action.disabledOpacity}}},{props:{textColor:"primary"},style:{color:(i.vars||i).palette.text.secondary,[`&.${Au.selected}`]:{color:(i.vars||i).palette.primary.main},[`&.${Au.disabled}`]:{color:(i.vars||i).palette.text.disabled}}},{props:{textColor:"secondary"},style:{color:(i.vars||i).palette.text.secondary,[`&.${Au.selected}`]:{color:(i.vars||i).palette.secondary.main},[`&.${Au.disabled}`]:{color:(i.vars||i).palette.text.disabled}}},{props:({ownerState:e})=>e.fullWidth,style:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"}},{props:({ownerState:e})=>e.wrapped,style:{fontSize:i.typography.pxToRem(12)}}]}))),F0t=Q.forwardRef(function(e,n){const r=dn({props:e,name:"MuiTab"}),{className:s,disabled:a=!1,disableFocusRipple:o=!1,fullWidth:l,icon:u,iconPosition:c="top",indicator:h,label:p,onChange:g,onClick:v,onFocus:b,selected:S,selectionFollowsFocus:E,textColor:x="inherit",value:A,wrapped:C=!1,...M}=r,P={...r,disabled:a,disableFocusRipple:o,selected:S,icon:!!u,iconPosition:c,label:!!p,fullWidth:l,textColor:x,wrapped:C},k=z0t(P),D=u&&p&&Q.isValidElement(u)?Q.cloneElement(u,{className:Ne(k.icon,u.props.className)}):u,N=R=>{!S&&g&&g(R,A),v&&v(R)},U=R=>{E&&!S&&g&&g(R,A),b&&b(R)};return W.jsxs(B0t,{focusRipple:!o,className:Ne(k.root,s),ref:n,role:"tab","aria-selected":S,disabled:a,onClick:N,onFocus:U,ownerState:P,tabIndex:S?0:-1,...M,children:[c==="top"||c==="start"?W.jsxs(Q.Fragment,{children:[D,p]}):W.jsxs(Q.Fragment,{children:[p,D]}),h]})}),V0t=Pr(W.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),H0t=Pr(W.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function j0t(i){return(1+Math.sin(Math.PI*i-Math.PI/2))/2}function G0t(i,e,n,r={},s=()=>{}){const{ease:a=j0t,duration:o=300}=r;let l=null;const u=e[i];let c=!1;const h=()=>{c=!0},p=g=>{if(c){s(new Error("Animation cancelled"));return}l===null&&(l=g);const v=Math.min(1,(g-l)/o);if(e[i]=a(v)*(n-u)+u,v>=1){requestAnimationFrame(()=>{s(null)});return}requestAnimationFrame(p)};return u===n?(s(new Error("Element already at target position")),h):(requestAnimationFrame(p),h)}const $0t={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function q0t(i){const{onChange:e,...n}=i,r=Q.useRef(),s=Q.useRef(null),a=()=>{r.current=s.current.offsetHeight-s.current.clientHeight};return kc(()=>{const o=IE(()=>{const u=r.current;a(),u!==r.current&&e(r.current)}),l=Ql(s.current);return l.addEventListener("resize",o),()=>{o.clear(),l.removeEventListener("resize",o)}},[e]),Q.useEffect(()=>{a(),e(r.current)},[e]),W.jsx("div",{style:$0t,...n,ref:s})}function W0t(i){return an("MuiTabScrollButton",i)}const X0t=tn("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),Y0t=i=>{const{classes:e,orientation:n,disabled:r}=i;return on({root:["root",n,r&&"disabled"]},W0t,e)},K0t=de(u0,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.root,n.orientation&&e[n.orientation]]}})({width:40,flexShrink:0,opacity:.8,[`&.${X0t.disabled}`]:{opacity:0},variants:[{props:{orientation:"vertical"},style:{width:"100%",height:40,"& svg":{transform:"var(--TabScrollButton-svgRotate)"}}}]}),Z0t=Q.forwardRef(function(e,n){const r=dn({props:e,name:"MuiTabScrollButton"}),{className:s,slots:a={},slotProps:o={},direction:l,orientation:u,disabled:c,...h}=r,p=yb(),g={isRtl:p,...r},v=Y0t(g),b=a.StartScrollButtonIcon??V0t,S=a.EndScrollButtonIcon??H0t,E=U_({elementType:b,externalSlotProps:o.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:g}),x=U_({elementType:S,externalSlotProps:o.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:g});return W.jsx(K0t,{component:"div",className:Ne(v.root,s),ref:n,role:null,ownerState:g,tabIndex:null,...h,style:{...h.style,...u==="vertical"&&{"--TabScrollButton-svgRotate":`rotate(${p?-90:90}deg)`}},children:l==="left"?W.jsx(b,{...E}):W.jsx(S,{...x})})});function Q0t(i){return an("MuiTabs",i)}const JI=tn("MuiTabs",["root","vertical","list","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),xV=(i,e)=>i===e?i.firstChild:e&&e.nextElementSibling?e.nextElementSibling:i.firstChild,SV=(i,e)=>i===e?i.lastChild:e&&e.previousElementSibling?e.previousElementSibling:i.lastChild,_A=(i,e,n)=>{let r=!1,s=n(i,e);for(;s;){if(s===i.firstChild){if(r)return;r=!0}const a=s.disabled||s.getAttribute("aria-disabled")==="true";if(!s.hasAttribute("tabindex")||a)s=n(i,s);else{s.focus();return}}},J0t=i=>{const{vertical:e,fixed:n,hideScrollbar:r,scrollableX:s,scrollableY:a,centered:o,scrollButtonsHideMobile:l,classes:u}=i;return on({root:["root",e&&"vertical"],scroller:["scroller",n&&"fixed",r&&"hideScrollbar",s&&"scrollableX",a&&"scrollableY"],list:["list","flexContainer",e&&"flexContainerVertical",e&&"vertical",o&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",l&&"scrollButtonsHideMobile"],scrollableX:[s&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]},Q0t,u)},tvt=de("div",{name:"MuiTabs",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[{[`& .${JI.scrollButtons}`]:e.scrollButtons},{[`& .${JI.scrollButtons}`]:n.scrollButtonsHideMobile&&e.scrollButtonsHideMobile},e.root,n.vertical&&e.vertical]}})(_n(({theme:i})=>({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex",variants:[{props:({ownerState:e})=>e.vertical,style:{flexDirection:"column"}},{props:({ownerState:e})=>e.scrollButtonsHideMobile,style:{[`& .${JI.scrollButtons}`]:{[i.breakpoints.down("sm")]:{display:"none"}}}}]}))),evt=de("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.scroller,n.fixed&&e.fixed,n.hideScrollbar&&e.hideScrollbar,n.scrollableX&&e.scrollableX,n.scrollableY&&e.scrollableY]}})({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap",variants:[{props:({ownerState:i})=>i.fixed,style:{overflowX:"hidden",width:"100%"}},{props:({ownerState:i})=>i.hideScrollbar,style:{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}},{props:({ownerState:i})=>i.scrollableX,style:{overflowX:"auto",overflowY:"hidden"}},{props:({ownerState:i})=>i.scrollableY,style:{overflowY:"auto",overflowX:"hidden"}}]}),nvt=de("div",{name:"MuiTabs",slot:"List",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.list,e.flexContainer,n.vertical&&e.flexContainerVertical,n.centered&&e.centered]}})({display:"flex",variants:[{props:({ownerState:i})=>i.vertical,style:{flexDirection:"column"}},{props:({ownerState:i})=>i.centered,style:{justifyContent:"center"}}]}),ivt=de("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(i,e)=>e.indicator})(_n(({theme:i})=>({position:"absolute",height:2,bottom:0,width:"100%",transition:i.transitions.create(),variants:[{props:{indicatorColor:"primary"},style:{backgroundColor:(i.vars||i).palette.primary.main}},{props:{indicatorColor:"secondary"},style:{backgroundColor:(i.vars||i).palette.secondary.main}},{props:({ownerState:e})=>e.vertical,style:{height:"100%",width:2,right:0}}]}))),rvt=de(q0t)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),EV={},svt=Q.forwardRef(function(e,n){const r=dn({props:e,name:"MuiTabs"}),s=Bm(),a=yb(),{"aria-label":o,"aria-labelledby":l,action:u,centered:c=!1,children:h,className:p,component:g="div",allowScrollButtonsMobile:v=!1,indicatorColor:b="primary",onChange:S,orientation:E="horizontal",ScrollButtonComponent:x,scrollButtons:A="auto",selectionFollowsFocus:C,slots:M={},slotProps:P={},TabIndicatorProps:k={},TabScrollButtonProps:D={},textColor:N="primary",value:U,variant:R="standard",visibleScrollbar:B=!1,...H}=r,V=R==="scrollable",Y=E==="vertical",et=Y?"scrollTop":"scrollLeft",G=Y?"top":"left",X=Y?"bottom":"right",J=Y?"clientHeight":"clientWidth",nt=Y?"height":"width",Z={...r,component:g,allowScrollButtonsMobile:v,indicatorColor:b,orientation:E,vertical:Y,scrollButtons:A,textColor:N,variant:R,visibleScrollbar:B,fixed:!V,hideScrollbar:V&&!B,scrollableX:V&&!Y,scrollableY:V&&Y,centered:c&&!V,scrollButtonsHideMobile:!v},dt=J0t(Z),yt=U_({elementType:M.StartScrollButtonIcon,externalSlotProps:P.startScrollButtonIcon,ownerState:Z}),xt=U_({elementType:M.EndScrollButtonIcon,externalSlotProps:P.endScrollButtonIcon,ownerState:Z}),[it,ht]=Q.useState(!1),[lt,gt]=Q.useState(EV),[Tt,Kt]=Q.useState(!1),[Ut,te]=Q.useState(!1),[Pt,Bt]=Q.useState(!1),[at,ce]=Q.useState({overflow:"hidden",scrollbarWidth:0}),ee=new Map,ne=Q.useRef(null),ie=Q.useRef(null),Me={slots:M,slotProps:{indicator:k,scrollButton:D,...P}},le=()=>{const Ee=ne.current;let ye;if(Ee){const Ye=Ee.getBoundingClientRect();ye={clientWidth:Ee.clientWidth,scrollLeft:Ee.scrollLeft,scrollTop:Ee.scrollTop,scrollWidth:Ee.scrollWidth,top:Ye.top,bottom:Ye.bottom,left:Ye.left,right:Ye.right}}let Qe;if(Ee&&U!==!1){const Ye=ie.current.children;if(Ye.length>0){const Mn=Ye[ee.get(U)];Qe=Mn?Mn.getBoundingClientRect():null}}return{tabsMeta:ye,tabMeta:Qe}},ut=zu(()=>{const{tabsMeta:Ee,tabMeta:ye}=le();let Qe=0,Ye;Y?(Ye="top",ye&&Ee&&(Qe=ye.top-Ee.top+Ee.scrollTop)):(Ye=a?"right":"left",ye&&Ee&&(Qe=(a?-1:1)*(ye[Ye]-Ee[Ye]+Ee.scrollLeft)));const Mn={[Ye]:Qe,[nt]:ye?ye[nt]:0};if(typeof lt[Ye]!="number"||typeof lt[nt]!="number")gt(Mn);else{const Hi=Math.abs(lt[Ye]-Mn[Ye]),ra=Math.abs(lt[nt]-Mn[nt]);(Hi>=1||ra>=1)&&gt(Mn)}}),j=(Ee,{animation:ye=!0}={})=>{ye?G0t(et,ne.current,Ee,{duration:s.transitions.duration.standard}):ne.current[et]=Ee},ct=Ee=>{let ye=ne.current[et];Y?ye+=Ee:ye+=Ee*(a?-1:1),j(ye)},mt=()=>{const Ee=ne.current[J];let ye=0;const Qe=Array.from(ie.current.children);for(let Ye=0;Ye<Qe.length;Ye+=1){const Mn=Qe[Ye];if(ye+Mn[J]>Ee){Ye===0&&(ye=Ee);break}ye+=Mn[J]}return ye},Rt=()=>{ct(-1*mt())},_t=()=>{ct(mt())},[Ct,{onChange:Lt,...Jt}]=zn("scrollbar",{className:Ne(dt.scrollableX,dt.hideScrollbar),elementType:rvt,shouldForwardComponentProp:!0,externalForwardedProps:Me,ownerState:Z}),Le=Q.useCallback(Ee=>{Lt==null||Lt(Ee),ce({overflow:null,scrollbarWidth:Ee})},[Lt]),[Ht,_e]=zn("scrollButtons",{className:Ne(dt.scrollButtons,D.className),elementType:Z0t,externalForwardedProps:Me,ownerState:Z,additionalProps:{orientation:E,slots:{StartScrollButtonIcon:M.startScrollButtonIcon||M.StartScrollButtonIcon,EndScrollButtonIcon:M.endScrollButtonIcon||M.EndScrollButtonIcon},slotProps:{startScrollButtonIcon:yt,endScrollButtonIcon:xt}}}),Re=()=>{const Ee={};Ee.scrollbarSizeListener=V?W.jsx(Ct,{...Jt,onChange:Le}):null;const Qe=V&&(A==="auto"&&(Tt||Ut)||A===!0);return Ee.scrollButtonStart=Qe?W.jsx(Ht,{direction:a?"right":"left",onClick:Rt,disabled:!Tt,..._e}):null,Ee.scrollButtonEnd=Qe?W.jsx(Ht,{direction:a?"left":"right",onClick:_t,disabled:!Ut,..._e}):null,Ee},Oe=zu(Ee=>{const{tabsMeta:ye,tabMeta:Qe}=le();if(!(!Qe||!ye)){if(Qe[G]<ye[G]){const Ye=ye[et]+(Qe[G]-ye[G]);j(Ye,{animation:Ee})}else if(Qe[X]>ye[X]){const Ye=ye[et]+(Qe[X]-ye[X]);j(Ye,{animation:Ee})}}}),Zt=zu(()=>{V&&A!==!1&&Bt(!Pt)});Q.useEffect(()=>{const Ee=IE(()=>{ne.current&&ut()});let ye;const Qe=Hi=>{Hi.forEach(ra=>{ra.removedNodes.forEach(lr=>{ye==null||ye.unobserve(lr)}),ra.addedNodes.forEach(lr=>{ye==null||ye.observe(lr)})}),Ee(),Zt()},Ye=Ql(ne.current);Ye.addEventListener("resize",Ee);let Mn;return typeof ResizeObserver<"u"&&(ye=new ResizeObserver(Ee),Array.from(ie.current.children).forEach(Hi=>{ye.observe(Hi)})),typeof MutationObserver<"u"&&(Mn=new MutationObserver(Qe),Mn.observe(ie.current,{childList:!0})),()=>{Ee.clear(),Ye.removeEventListener("resize",Ee),Mn==null||Mn.disconnect(),ye==null||ye.disconnect()}},[ut,Zt]),Q.useEffect(()=>{const Ee=Array.from(ie.current.children),ye=Ee.length;if(typeof IntersectionObserver<"u"&&ye>0&&V&&A!==!1){const Qe=Ee[0],Ye=Ee[ye-1],Mn={root:ne.current,threshold:.99},Hi=Ds=>{Kt(!Ds[0].isIntersecting)},ra=new IntersectionObserver(Hi,Mn);ra.observe(Qe);const lr=Ds=>{te(!Ds[0].isIntersecting)},Wr=new IntersectionObserver(lr,Mn);return Wr.observe(Ye),()=>{ra.disconnect(),Wr.disconnect()}}},[V,A,Pt,h==null?void 0:h.length]),Q.useEffect(()=>{ht(!0)},[]),Q.useEffect(()=>{ut()}),Q.useEffect(()=>{Oe(EV!==lt)},[Oe,lt]),Q.useImperativeHandle(u,()=>({updateIndicator:ut,updateScrollButtons:Zt}),[ut,Zt]);const[Ie,Ue]=zn("indicator",{className:Ne(dt.indicator,k.className),elementType:ivt,externalForwardedProps:Me,ownerState:Z,additionalProps:{style:lt}}),ln=W.jsx(Ie,{...Ue});let wt=0;const Ce=Q.Children.map(h,Ee=>{if(!Q.isValidElement(Ee))return null;const ye=Ee.props.value===void 0?wt:Ee.props.value;ee.set(ye,wt);const Qe=ye===U;return wt+=1,Q.cloneElement(Ee,{fullWidth:R==="fullWidth",indicator:Qe&&!it&&ln,selected:Qe,selectionFollowsFocus:C,onChange:S,textColor:N,value:ye,...wt===1&&U===!1&&!Ee.props.tabIndex?{tabIndex:0}:{}})}),Xt=Ee=>{if(Ee.altKey||Ee.shiftKey||Ee.ctrlKey||Ee.metaKey)return;const ye=ie.current,Qe=_l(ye).activeElement;if(Qe.getAttribute("role")!=="tab")return;let Mn=E==="horizontal"?"ArrowLeft":"ArrowUp",Hi=E==="horizontal"?"ArrowRight":"ArrowDown";switch(E==="horizontal"&&a&&(Mn="ArrowRight",Hi="ArrowLeft"),Ee.key){case Mn:Ee.preventDefault(),_A(ye,Qe,SV);break;case Hi:Ee.preventDefault(),_A(ye,Qe,xV);break;case"Home":Ee.preventDefault(),_A(ye,null,xV);break;case"End":Ee.preventDefault(),_A(ye,null,SV);break}},se=Re(),[Pe,Se]=zn("root",{ref:n,className:Ne(dt.root,p),elementType:tvt,externalForwardedProps:{...Me,...H,component:g},ownerState:Z}),[cn,Qn]=zn("scroller",{ref:ne,className:dt.scroller,elementType:evt,externalForwardedProps:Me,ownerState:Z,additionalProps:{style:{overflow:at.overflow,[Y?`margin${a?"Left":"Right"}`:"marginBottom"]:B?void 0:-at.scrollbarWidth}}}),[je,en]=zn("list",{ref:ie,className:Ne(dt.list,dt.flexContainer),elementType:nvt,externalForwardedProps:Me,ownerState:Z,getSlotProps:Ee=>({...Ee,onKeyDown:ye=>{var Qe;Xt(ye),(Qe=Ee.onKeyDown)==null||Qe.call(Ee,ye)}})});return W.jsxs(Pe,{...Se,children:[se.scrollButtonStart,se.scrollbarSizeListener,W.jsxs(cn,{...Qn,children:[W.jsx(je,{"aria-label":o,"aria-labelledby":l,"aria-orientation":E==="vertical"?"vertical":null,role:"tablist",...en,children:Ce}),it&&ln]}),se.scrollButtonEnd]})});function avt(i){return an("MuiTextField",i)}tn("MuiTextField",["root"]);const ovt={standard:s4,filled:i4,outlined:l4},lvt=i=>{const{classes:e}=i;return on({root:["root"]},avt,e)},uvt=de(jR,{name:"MuiTextField",slot:"Root",overridesResolver:(i,e)=>e.root})({}),$$=Q.forwardRef(function(e,n){const r=dn({props:e,name:"MuiTextField"}),{autoComplete:s,autoFocus:a=!1,children:o,className:l,color:u="primary",defaultValue:c,disabled:h=!1,error:p=!1,FormHelperTextProps:g,fullWidth:v=!1,helperText:b,id:S,InputLabelProps:E,inputProps:x,InputProps:A,inputRef:C,label:M,maxRows:P,minRows:k,multiline:D=!1,name:N,onBlur:U,onChange:R,onFocus:B,placeholder:H,required:V=!1,rows:Y,select:et=!1,SelectProps:G,slots:X={},slotProps:J={},type:nt,value:Z,variant:dt="outlined",...yt}=r,xt={...r,autoFocus:a,color:u,disabled:h,error:p,fullWidth:v,multiline:D,required:V,select:et,variant:dt},it=lvt(xt),ht=o0(S),lt=b&&ht?`${ht}-helper-text`:void 0,gt=M&&ht?`${ht}-label`:void 0,Tt=ovt[dt],Kt={slots:X,slotProps:{input:A,inputLabel:E,htmlInput:x,formHelperText:g,select:G,...J}},Ut={},te=Kt.slotProps.inputLabel;dt==="outlined"&&(te&&typeof te.shrink<"u"&&(Ut.notched=te.shrink),Ut.label=M),et&&((!G||!G.native)&&(Ut.id=void 0),Ut["aria-describedby"]=void 0);const[Pt,Bt]=zn("root",{elementType:uvt,shouldForwardComponentProp:!0,externalForwardedProps:{...Kt,...yt},ownerState:xt,className:Ne(it.root,l),ref:n,additionalProps:{disabled:h,error:p,fullWidth:v,required:V,color:u,variant:dt}}),[at,ce]=zn("input",{elementType:Tt,externalForwardedProps:Kt,additionalProps:Ut,ownerState:xt}),[ee,ne]=zn("inputLabel",{elementType:k$,externalForwardedProps:Kt,ownerState:xt}),[ie,Me]=zn("htmlInput",{elementType:"input",externalForwardedProps:Kt,ownerState:xt}),[le,ut]=zn("formHelperText",{elementType:jgt,externalForwardedProps:Kt,ownerState:xt}),[j,ct]=zn("select",{elementType:c4,externalForwardedProps:Kt,ownerState:xt}),mt=W.jsx(at,{"aria-describedby":lt,autoComplete:s,autoFocus:a,defaultValue:c,fullWidth:v,multiline:D,name:N,rows:Y,maxRows:P,minRows:k,type:nt,value:Z,id:ht,inputRef:C,onBlur:U,onChange:R,onFocus:B,placeholder:H,inputProps:Me,slots:{input:X.htmlInput?ie:void 0},...ce});return W.jsxs(Pt,{...Bt,children:[M!=null&&M!==""&&W.jsx(ee,{htmlFor:ht,id:gt,...ne,children:M}),et?W.jsx(j,{"aria-describedby":lt,id:ht,labelId:gt,value:Z,input:mt,...ct,children:o}):mt,b&&W.jsx(le,{id:lt,...ut,children:b})]})});function cvt(i){return an("MuiToggleButton",i)}const my=tn("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),q$=Q.createContext({}),W$=Q.createContext(void 0);function fvt(i,e){return e===void 0||i===void 0?!1:Array.isArray(e)?e.includes(i):i===e}const hvt=i=>{const{classes:e,fullWidth:n,selected:r,disabled:s,size:a,color:o}=i,l={root:["root",r&&"selected",s&&"disabled",n&&"fullWidth",`size${De(a)}`,o]};return on(l,cvt,e)},dvt=de(u0,{name:"MuiToggleButton",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[e.root,e[`size${De(n.size)}`]]}})(_n(({theme:i})=>({...i.typography.button,borderRadius:(i.vars||i).shape.borderRadius,padding:11,border:`1px solid ${(i.vars||i).palette.divider}`,color:(i.vars||i).palette.action.active,[`&.${my.disabled}`]:{color:(i.vars||i).palette.action.disabled,border:`1px solid ${(i.vars||i).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:i.vars?`rgba(${i.vars.palette.text.primaryChannel} / ${i.vars.palette.action.hoverOpacity})`:fr(i.palette.text.primary,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[{props:{color:"standard"},style:{[`&.${my.selected}`]:{color:(i.vars||i).palette.text.primary,backgroundColor:i.vars?`rgba(${i.vars.palette.text.primaryChannel} / ${i.vars.palette.action.selectedOpacity})`:fr(i.palette.text.primary,i.palette.action.selectedOpacity),"&:hover":{backgroundColor:i.vars?`rgba(${i.vars.palette.text.primaryChannel} / calc(${i.vars.palette.action.selectedOpacity} + ${i.vars.palette.action.hoverOpacity}))`:fr(i.palette.text.primary,i.palette.action.selectedOpacity+i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:i.vars?`rgba(${i.vars.palette.text.primaryChannel} / ${i.vars.palette.action.selectedOpacity})`:fr(i.palette.text.primary,i.palette.action.selectedOpacity)}}}}},...Object.entries(i.palette).filter(Is()).map(([e])=>({props:{color:e},style:{[`&.${my.selected}`]:{color:(i.vars||i).palette[e].main,backgroundColor:i.vars?`rgba(${i.vars.palette[e].mainChannel} / ${i.vars.palette.action.selectedOpacity})`:fr(i.palette[e].main,i.palette.action.selectedOpacity),"&:hover":{backgroundColor:i.vars?`rgba(${i.vars.palette[e].mainChannel} / calc(${i.vars.palette.action.selectedOpacity} + ${i.vars.palette.action.hoverOpacity}))`:fr(i.palette[e].main,i.palette.action.selectedOpacity+i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:i.vars?`rgba(${i.vars.palette[e].mainChannel} / ${i.vars.palette.action.selectedOpacity})`:fr(i.palette[e].main,i.palette.action.selectedOpacity)}}}}})),{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{padding:7,fontSize:i.typography.pxToRem(13)}},{props:{size:"large"},style:{padding:15,fontSize:i.typography.pxToRem(15)}}]}))),X$=Q.forwardRef(function(e,n){const{value:r,...s}=Q.useContext(q$),a=Q.useContext(W$),o=L_({...s,selected:fvt(e.value,r)},e),l=dn({props:o,name:"MuiToggleButton"}),{children:u,className:c,color:h="standard",disabled:p=!1,disableFocusRipple:g=!1,fullWidth:v=!1,onChange:b,onClick:S,selected:E,size:x="medium",value:A,...C}=l,M={...l,color:h,disabled:p,disableFocusRipple:g,fullWidth:v,size:x},P=hvt(M),k=N=>{S&&(S(N,A),N.defaultPrevented)||b&&b(N,A)},D=a||"";return W.jsx(dvt,{className:Ne(s.className,P.root,c,D),disabled:p,focusRipple:!g,ref:n,onClick:k,onChange:b,value:A,ownerState:M,"aria-pressed":E,...C,children:u})});function pvt(i){return an("MuiToggleButtonGroup",i)}const _r=tn("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]),mvt=i=>{const{classes:e,orientation:n,fullWidth:r,disabled:s}=i,a={root:["root",n,r&&"fullWidth"],grouped:["grouped",`grouped${De(n)}`,s&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return on(a,pvt,e)},gvt=de("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(i,e)=>{const{ownerState:n}=i;return[{[`& .${_r.grouped}`]:e.grouped},{[`& .${_r.grouped}`]:e[`grouped${De(n.orientation)}`]},{[`& .${_r.firstButton}`]:e.firstButton},{[`& .${_r.lastButton}`]:e.lastButton},{[`& .${_r.middleButton}`]:e.middleButton},e.root,n.orientation==="vertical"&&e.vertical,n.fullWidth&&e.fullWidth]}})(_n(({theme:i})=>({display:"inline-flex",borderRadius:(i.vars||i).shape.borderRadius,variants:[{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${_r.grouped}`]:{[`&.${_r.selected} + .${_r.grouped}.${_r.selected}`]:{borderTop:0,marginTop:0}},[`& .${_r.firstButton},& .${_r.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${_r.lastButton},& .${_r.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},[`& .${_r.lastButton}.${my.disabled},& .${_r.middleButton}.${my.disabled}`]:{borderTop:"1px solid transparent"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"horizontal"},style:{[`& .${_r.grouped}`]:{[`&.${_r.selected} + .${_r.grouped}.${_r.selected}`]:{borderLeft:0,marginLeft:0}},[`& .${_r.firstButton},& .${_r.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${_r.lastButton},& .${_r.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},[`& .${_r.lastButton}.${my.disabled},& .${_r.middleButton}.${my.disabled}`]:{borderLeft:"1px solid transparent"}}}]}))),Y$=Q.forwardRef(function(e,n){const r=dn({props:e,name:"MuiToggleButtonGroup"}),{children:s,className:a,color:o="standard",disabled:l=!1,exclusive:u=!1,fullWidth:c=!1,onChange:h,orientation:p="horizontal",size:g="medium",value:v,...b}=r,S={...r,disabled:l,fullWidth:c,orientation:p,size:g},E=mvt(S),x=Q.useCallback((D,N)=>{if(!h)return;const U=v&&v.indexOf(N);let R;v&&U>=0?(R=v.slice(),R.splice(U,1)):R=v?v.concat(N):[N],h(D,R)},[h,v]),A=Q.useCallback((D,N)=>{h&&h(D,v===N?null:N)},[h,v]),C=Q.useMemo(()=>({className:E.grouped,onChange:u?A:x,value:v,size:g,fullWidth:c,color:o,disabled:l}),[E.grouped,u,A,x,v,g,c,o,l]),M=aft(s),P=M.length,k=D=>{const N=D===0,U=D===P-1;return N&&U?"":N?E.firstButton:U?E.lastButton:E.middleButton};return W.jsx(gvt,{role:"group",className:Ne(E.root,a),ref:n,ownerState:S,...b,children:W.jsx(q$.Provider,{value:C,children:M.map((D,N)=>W.jsx(W$.Provider,{value:k(N),children:D},N))})})}),yvt=Pr(W.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"CloseOutlined"),vvt=Pr([W.jsx("path",{d:"M18 13c0 3.31-2.69 6-6 6s-6-2.69-6-6 2.69-6 6-6v4l5-5-5-5v4c-4.42 0-8 3.58-8 8s3.58 8 8 8 8-3.58 8-8z"},"0"),W.jsx("path",{d:"M12.03 15.38c-.44 0-.58-.31-.6-.56h-.84c.03.85.79 1.25 1.44 1.25.93 0 1.44-.63 1.44-1.43 0-1.33-.97-1.44-1.3-1.44-.2 0-.43.05-.64.16l.11-.92h1.7v-.71h-2.39l-.25 2.17.67.17c.13-.13.28-.23.57-.23.4 0 .69.23.69.75-.01.05.02.79-.6.79"},"1")],"Forward5"),_vt=Pr(W.jsx("path",{d:"M8.4 18.2c.38.5.6 1.12.6 1.8 0 1.66-1.34 3-3 3s-3-1.34-3-3 1.34-3 3-3c.44 0 .85.09 1.23.26l1.41-1.77c-.92-1.03-1.29-2.39-1.09-3.69l-2.03-.68c-.54.83-1.46 1.38-2.52 1.38-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3c0 .07 0 .14-.01.21l2.03.68c.64-1.21 1.82-2.09 3.22-2.32V5.91C9.96 5.57 9 4.4 9 3c0-1.66 1.34-3 3-3s3 1.34 3 3c0 1.4-.96 2.57-2.25 2.91v2.16c1.4.23 2.58 1.11 3.22 2.32L18 9.71V9.5c0-1.66 1.34-3 3-3s3 1.34 3 3-1.34 3-3 3c-1.06 0-1.98-.55-2.52-1.37l-2.03.68c.2 1.29-.16 2.65-1.09 3.69l1.41 1.77Q17.34 17 18 17c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3c0-.68.22-1.3.6-1.8l-1.41-1.77c-1.35.75-3.01.76-4.37 0z"}),"Hub"),bvt=Pr(W.jsx("path",{d:"M11 7 9.6 8.4l2.6 2.6H2v2h10.2l-2.6 2.6L11 17l5-5zm9 12h-8v2h8c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-8v2h8z"}),"Login"),xvt=Pr(W.jsx("path",{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4z"}),"Logout"),Svt=Pr(W.jsx("path",{d:"M6 19h4V5H6zm8-14v14h4V5z"}),"Pause"),Evt=Pr(W.jsx("path",{d:"M12 5.9c1.16 0 2.1.94 2.1 2.1s-.94 2.1-2.1 2.1S9.9 9.16 9.9 8s.94-2.1 2.1-2.1m0 9c2.97 0 6.1 1.46 6.1 2.1v1.1H5.9V17c0-.64 3.13-2.1 6.1-2.1M12 4C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 9c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4"}),"PersonOutlineOutlined"),Tvt=Pr(W.jsx("path",{d:"M8 5v14l11-7z"}),"PlayArrow"),wvt=Pr([W.jsx("path",{d:"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8"},"0"),W.jsx("path",{d:"m10.69 13.9.25-2.17h2.39v.71h-1.7l-.11.92c.03-.02.07-.03.11-.05s.09-.04.15-.05.12-.03.18-.04.13-.02.2-.02c.21 0 .39.03.55.1s.3.16.41.28.2.27.25.45.09.38.09.6q0 .285-.09.54c-.09.255-.15.32-.27.45s-.27.24-.45.31-.39.12-.64.12c-.18 0-.36-.03-.53-.08s-.32-.14-.46-.24-.24-.24-.32-.39-.13-.33-.13-.53h.84c.02.18.08.32.19.41s.25.15.42.15q.165 0 .27-.06c.105-.06.14-.1.18-.17s.08-.15.11-.25.03-.2.03-.31-.01-.21-.04-.31-.07-.17-.13-.24-.13-.12-.21-.15-.19-.05-.3-.05c-.08 0-.15.01-.2.02s-.11.03-.15.05-.08.05-.12.07-.07.06-.1.09z"},"1")],"Replay5"),Avt=Pr(W.jsx("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings"),Mvt=(i,e,n,r)=>{var a,o,l,u;const s=[n,{code:e,...r||{}}];if((o=(a=i==null?void 0:i.services)==null?void 0:a.logger)!=null&&o.forward)return i.services.logger.forward(s,"warn","react-i18next::",!0);My(s[0])&&(s[0]=`react-i18next:: ${s[0]}`),(u=(l=i==null?void 0:i.services)==null?void 0:l.logger)!=null&&u.warn?i.services.logger.warn(...s):console!=null&&console.warn&&console.warn(...s)},TV={},Z3=(i,e,n,r)=>{My(n)&&TV[n]||(My(n)&&(TV[n]=new Date),Mvt(i,e,n,r))},K$=(i,e)=>()=>{if(i.isInitialized)e();else{const n=()=>{setTimeout(()=>{i.off("initialized",n)},0),e()};i.on("initialized",n)}},Q3=(i,e,n)=>{i.loadNamespaces(e,K$(i,n))},wV=(i,e,n,r)=>{if(My(n)&&(n=[n]),i.options.preload&&i.options.preload.indexOf(e)>-1)return Q3(i,n,r);n.forEach(s=>{i.options.ns.indexOf(s)<0&&i.options.ns.push(s)}),i.loadLanguages(e,K$(i,r))},Cvt=(i,e,n={})=>!e.languages||!e.languages.length?(Z3(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(i,{lng:n.lng,precheck:(r,s)=>{var a;if(((a=n.bindI18n)==null?void 0:a.indexOf("languageChanging"))>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!s(r.isLanguageChangingTo,i))return!1}}),My=i=>typeof i=="string",Rvt=i=>typeof i=="object"&&i!==null,Ovt=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Pvt={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},Ivt=i=>Pvt[i],Dvt=i=>i.replace(Ovt,Ivt);let J3={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Dvt};const Nvt=(i={})=>{J3={...J3,...i}},Lvt=()=>J3;let Z$;const Uvt=i=>{Z$=i},kvt=()=>Z$,zvt={type:"3rdParty",init(i){Nvt(i.options.react),Uvt(i)}},Bvt=Q.createContext();class Fvt{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const Vvt=(i,e)=>{const n=Q.useRef();return Q.useEffect(()=>{n.current=i},[i,e]),n.current},Q$=(i,e,n,r)=>i.getFixedT(e,n,r),Hvt=(i,e,n,r)=>Q.useCallback(Q$(i,e,n,r),[i,e,n,r]),qu=(i,e={})=>{var M,P,k,D;const{i18n:n}=e,{i18n:r,defaultNS:s}=Q.useContext(Bvt)||{},a=n||r||kvt();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new Fvt),!a){Z3(a,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const N=(R,B)=>My(B)?B:Rvt(B)&&My(B.defaultValue)?B.defaultValue:Array.isArray(R)?R[R.length-1]:R,U=[N,{},!1];return U.t=N,U.i18n={},U.ready=!1,U}(M=a.options.react)!=null&&M.wait&&Z3(a,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...Lvt(),...a.options.react,...e},{useSuspense:l,keyPrefix:u}=o;let c=s||((P=a.options)==null?void 0:P.defaultNS);c=My(c)?[c]:c||["translation"],(D=(k=a.reportNamespaces).addUsedNamespaces)==null||D.call(k,c);const h=(a.isInitialized||a.initializedStoreOnce)&&c.every(N=>Cvt(N,a,o)),p=Hvt(a,e.lng||null,o.nsMode==="fallback"?c:c[0],u),g=()=>p,v=()=>Q$(a,e.lng||null,o.nsMode==="fallback"?c:c[0],u),[b,S]=Q.useState(g);let E=c.join();e.lng&&(E=`${e.lng}${E}`);const x=Vvt(E),A=Q.useRef(!0);Q.useEffect(()=>{const{bindI18n:N,bindI18nStore:U}=o;A.current=!0,!h&&!l&&(e.lng?wV(a,e.lng,c,()=>{A.current&&S(v)}):Q3(a,c,()=>{A.current&&S(v)})),h&&x&&x!==E&&A.current&&S(v);const R=()=>{A.current&&S(v)};return N&&(a==null||a.on(N,R)),U&&(a==null||a.store.on(U,R)),()=>{A.current=!1,a&&(N==null||N.split(" ").forEach(B=>a.off(B,R))),U&&a&&U.split(" ").forEach(B=>a.store.off(B,R))}},[a,E]),Q.useEffect(()=>{A.current&&h&&S(g)},[a,u,h]);const C=[b,a,h];if(C.t=b,C.i18n=a,C.ready=h,h||!h&&!l)return C;throw new Promise(N=>{e.lng?wV(a,e.lng,c,()=>N()):Q3(a,c,()=>N())})},fn=blt((i,e)=>({isAddNodeActive:!1,setIsAddNodeActive:n=>i({isAddNodeActive:n}),isLoginWindowActive:!1,setIsLoginWindowActive:n=>i({isLoginWindowActive:n}),isLoadingFirestore:!1,setIsLoadingFirestore:n=>i({isLoadingFirestore:n}),isUploadFirestore:!1,setIsUploadFirestore:n=>i({isUploadFirestore:n}),userLoginData:{displayName:"",email:"",photoURL:""},setUserLoginDAta:n=>i({userLoginData:n}),isUserLogin:!1,setIsUserLogin:n=>i({isUserLogin:n}),showAlert:!1,alertMessage:"",alertSeverity:"success",isNodeViewActive:!1,setIsNodeViewActive:n=>i({isNodeViewActive:n}),overlayDontShowAgain:!1,setOverlayDontShowAgain:n=>i({overlayDontShowAgain:n}),languageGlobal:"",setLanguageGlobal:n=>i({languageGlobal:n}),isConfigWindowActive:!1,setIsconfigWindowActive:n=>i({isConfigWindowActive:n}),nodeViewData:{videoid:"",start:"",end:","},setNodeViewData:n=>i({nodeViewData:n}),triggerAlert:(n,r="success")=>{i({showAlert:!0,alertMessage:n,alertSeverity:r}),setTimeout(()=>i({showAlert:!1}),4e3)},activeStep:0,setActiveStep:n=>i({activeStep:n}),nextStep:()=>i(n=>({activeStep:n.activeStep+1})),prevStep:()=>i(n=>({activeStep:Math.max(0,n.activeStep-1)})),stepValidation:{step0:!1,step1:!1,step2:!1},validateFns:{},setValidateFn:(n,r)=>i(s=>({validateFns:{...s.validateFns,[n]:r}})),runValidation:async n=>{const r=e().validateFns[n];if(!r)return!1;const s=await r();return i(a=>({stepValidation:{...a.stepValidation,[n]:s}})),s},runSequentialValidation:async n=>{for(const r of n)if(!await e().runValidation(r))return!1;return!0},cameraBackup:null,setCameraBackup:(n,r)=>i({cameraBackup:{pos:n,target:r}}),clearCameraBackup:()=>i({cameraBackup:null})})),Ro=PE({palette:{background:{paper:"#fff",form:"#f3f3f3",formInput:"#000"},text:{titleBig:"#173A5E",primary:"#fff",secondary:"#46505A",white:"#fff"},action:{progress:"#001E3C",success:"#1976d2",deactivate:"#d32f2f"},success:{dark:"#009688"},canvas:{canvasBackgraundColor:"#002"},buttons:{buttonHomeScreen:"#f1f1f1"},formStyles:{containerBackgroundColor:"#d1d1d1",cardBackgroundColor:"#f9f9f9",cardBoxShadow:"0 10px 30px rgba(0, 0, 0, 0.99)",buttonForm:"#001E3C",borderColor:"rgb(109, 109, 109)"}}}),J$=Ro.palette.buttons.buttonHomeScreen,jvt={display:"flex",alignItems:"center",textAlign:"center",position:"absolute",zIndex:10,top:"30px",right:"30px"},Gvt={width:55,height:55,backgroundColor:"transparent",border:`2px solid ${J$}`},$vt={color:J$,fontSize:"2.5rem"},qvt=()=>{};var AV={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tq=function(i){const e=[];let n=0;for(let r=0;r<i.length;r++){let s=i.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(i.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Wvt=function(i){const e=[];let n=0,r=0;for(;n<i.length;){const s=i[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=i[n++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=i[n++],o=i[n++],l=i[n++],u=((s&7)<<18|(a&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const a=i[n++],o=i[n++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|o&63)}}return e.join("")},eq={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<i.length;s+=3){const a=i[s],o=s+1<i.length,l=o?i[s+1]:0,u=s+2<i.length,c=u?i[s+2]:0,h=a>>2,p=(a&3)<<4|l>>4;let g=(l&15)<<2|c>>6,v=c&63;u||(v=64,o||(g=64)),r.push(n[h],n[p],n[g],n[v])}return r.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(tq(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):Wvt(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<i.length;){const a=n[i.charAt(s++)],l=s<i.length?n[i.charAt(s)]:0;++s;const c=s<i.length?n[i.charAt(s)]:64;++s;const p=s<i.length?n[i.charAt(s)]:64;if(++s,a==null||l==null||c==null||p==null)throw new Xvt;const g=a<<2|l>>4;if(r.push(g),c!==64){const v=l<<4&240|c>>2;if(r.push(v),p!==64){const b=c<<6&192|p;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class Xvt extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Yvt=function(i){const e=tq(i);return eq.encodeByteArray(e,!0)},VC=function(i){return Yvt(i).replace(/\./g,"")},nq=function(i){try{return eq.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kvt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zvt=()=>Kvt().__FIREBASE_DEFAULTS__,Qvt=()=>{if(typeof process>"u"||typeof AV>"u")return;const i=AV.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},Jvt=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&nq(i[1]);return e&&JSON.parse(e)},$R=()=>{try{return qvt()||Zvt()||Qvt()||Jvt()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},iq=i=>{var e,n;return(n=(e=$R())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},t_t=i=>{const e=iq(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},rq=()=>{var i;return(i=$R())===null||i===void 0?void 0:i.config},sq=i=>{var e;return(e=$R())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_t{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n_t(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=i.iat||0,a=i.sub||i.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},i);return[VC(JSON.stringify(n)),VC(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Za(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function i_t(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Za())}function r_t(){var i;const e=(i=$R())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function s_t(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function a_t(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function o_t(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function l_t(){const i=Za();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function u_t(){return!r_t()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function c_t(){try{return typeof indexedDB=="object"}catch{return!1}}function f_t(){return new Promise((i,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),i(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_t="FirebaseError";class Gd extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=h_t,Object.setPrototypeOf(this,Gd.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,LE.prototype.create)}}class LE{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],o=a?d_t(a,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new Gd(s,l,r)}}function d_t(i,e){return i.replace(p_t,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const p_t=/\{\$([^}]+)}/g;function m_t(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Xy(i,e){if(i===e)return!0;const n=Object.keys(i),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const a=i[s],o=e[s];if(MV(a)&&MV(o)){if(!Xy(a,o))return!1}else if(a!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function MV(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(i){const e=[];for(const[n,r]of Object.entries(i))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function g_t(i,e){const n=new y_t(i,e);return n.subscribe.bind(n)}class y_t{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");v_t(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=tD),s.error===void 0&&(s.error=tD),s.complete===void 0&&(s.complete=tD);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function v_t(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function tD(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bl(i){return i&&i._delegate?i._delegate:i}class Yy{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iy="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __t{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new e_t;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(x_t(e))try{this.getOrInitializeService({instanceIdentifier:iy})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=iy){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=iy){return this.instances.has(e)}getOptions(e=iy){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);r===l&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(s,a);const o=this.instances.get(s);return o&&e(o,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:b_t(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=iy){return this.component?this.component.multipleInstances?e:iy:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function b_t(i){return i===iy?void 0:i}function x_t(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_t{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new __t(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fi;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(fi||(fi={}));const E_t={debug:fi.DEBUG,verbose:fi.VERBOSE,info:fi.INFO,warn:fi.WARN,error:fi.ERROR,silent:fi.SILENT},T_t=fi.INFO,w_t={[fi.DEBUG]:"log",[fi.VERBOSE]:"log",[fi.INFO]:"info",[fi.WARN]:"warn",[fi.ERROR]:"error"},A_t=(i,e,...n)=>{if(e<i.logLevel)return;const r=new Date().toISOString(),s=w_t[e];if(s)console[s](`[${r}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let h4=class{constructor(e){this.name=e,this._logLevel=T_t,this._logHandler=A_t,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fi))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?E_t[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fi.DEBUG,...e),this._logHandler(this,fi.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fi.VERBOSE,...e),this._logHandler(this,fi.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fi.INFO,...e),this._logHandler(this,fi.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fi.WARN,...e),this._logHandler(this,fi.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fi.ERROR,...e),this._logHandler(this,fi.ERROR,...e)}};const M_t=(i,e)=>e.some(n=>i instanceof n);let CV,RV;function C_t(){return CV||(CV=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function R_t(){return RV||(RV=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const aq=new WeakMap,tN=new WeakMap,oq=new WeakMap,eD=new WeakMap,d4=new WeakMap;function O_t(i){const e=new Promise((n,r)=>{const s=()=>{i.removeEventListener("success",a),i.removeEventListener("error",o)},a=()=>{n(hm(i.result)),s()},o=()=>{r(i.error),s()};i.addEventListener("success",a),i.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&aq.set(n,i)}).catch(()=>{}),d4.set(e,i),e}function P_t(i){if(tN.has(i))return;const e=new Promise((n,r)=>{const s=()=>{i.removeEventListener("complete",a),i.removeEventListener("error",o),i.removeEventListener("abort",o)},a=()=>{n(),s()},o=()=>{r(i.error||new DOMException("AbortError","AbortError")),s()};i.addEventListener("complete",a),i.addEventListener("error",o),i.addEventListener("abort",o)});tN.set(i,e)}let eN={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return tN.get(i);if(e==="objectStoreNames")return i.objectStoreNames||oq.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hm(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function I_t(i){eN=i(eN)}function D_t(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=i.call(nD(this),e,...n);return oq.set(r,e.sort?e.sort():[e]),hm(r)}:R_t().includes(i)?function(...e){return i.apply(nD(this),e),hm(aq.get(this))}:function(...e){return hm(i.apply(nD(this),e))}}function N_t(i){return typeof i=="function"?D_t(i):(i instanceof IDBTransaction&&P_t(i),M_t(i,C_t())?new Proxy(i,eN):i)}function hm(i){if(i instanceof IDBRequest)return O_t(i);if(eD.has(i))return eD.get(i);const e=N_t(i);return e!==i&&(eD.set(i,e),d4.set(e,i)),e}const nD=i=>d4.get(i);function L_t(i,e,{blocked:n,upgrade:r,blocking:s,terminated:a}={}){const o=indexedDB.open(i,e),l=hm(o);return r&&o.addEventListener("upgradeneeded",u=>{r(hm(o.result),u.oldVersion,u.newVersion,hm(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{a&&u.addEventListener("close",()=>a()),s&&u.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const U_t=["get","getKey","getAll","getAllKeys","count"],k_t=["put","add","delete","clear"],iD=new Map;function OV(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(iD.get(e))return iD.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=k_t.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||U_t.includes(n)))return;const a=async function(o,...l){const u=this.transaction(o,s?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),s&&u.done]))[0]};return iD.set(e,a),a}I_t(i=>({...i,get:(e,n,r)=>OV(e,n)||i.get(e,n,r),has:(e,n)=>!!OV(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_t{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(B_t(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function B_t(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const nN="@firebase/app",PV="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud=new h4("@firebase/app"),F_t="@firebase/app-compat",V_t="@firebase/analytics-compat",H_t="@firebase/analytics",j_t="@firebase/app-check-compat",G_t="@firebase/app-check",$_t="@firebase/auth",q_t="@firebase/auth-compat",W_t="@firebase/database",X_t="@firebase/data-connect",Y_t="@firebase/database-compat",K_t="@firebase/functions",Z_t="@firebase/functions-compat",Q_t="@firebase/installations",J_t="@firebase/installations-compat",tbt="@firebase/messaging",ebt="@firebase/messaging-compat",nbt="@firebase/performance",ibt="@firebase/performance-compat",rbt="@firebase/remote-config",sbt="@firebase/remote-config-compat",abt="@firebase/storage",obt="@firebase/storage-compat",lbt="@firebase/firestore",ubt="@firebase/vertexai",cbt="@firebase/firestore-compat",fbt="firebase",hbt="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN="[DEFAULT]",dbt={[nN]:"fire-core",[F_t]:"fire-core-compat",[H_t]:"fire-analytics",[V_t]:"fire-analytics-compat",[G_t]:"fire-app-check",[j_t]:"fire-app-check-compat",[$_t]:"fire-auth",[q_t]:"fire-auth-compat",[W_t]:"fire-rtdb",[X_t]:"fire-data-connect",[Y_t]:"fire-rtdb-compat",[K_t]:"fire-fn",[Z_t]:"fire-fn-compat",[Q_t]:"fire-iid",[J_t]:"fire-iid-compat",[tbt]:"fire-fcm",[ebt]:"fire-fcm-compat",[nbt]:"fire-perf",[ibt]:"fire-perf-compat",[rbt]:"fire-rc",[sbt]:"fire-rc-compat",[abt]:"fire-gcs",[obt]:"fire-gcs-compat",[lbt]:"fire-fst",[cbt]:"fire-fst-compat",[ubt]:"fire-vertex","fire-js":"fire-js",[fbt]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC=new Map,pbt=new Map,rN=new Map;function IV(i,e){try{i.container.addComponent(e)}catch(n){Ud.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function j_(i){const e=i.name;if(rN.has(e))return Ud.debug(`There were multiple attempts to register component ${e}.`),!1;rN.set(e,i);for(const n of HC.values())IV(n,i);for(const n of pbt.values())IV(n,i);return!0}function p4(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Ac(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mbt={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},dm=new LE("app","Firebase",mbt);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gbt{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Yy("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw dm.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b=hbt;function lq(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const r=Object.assign({name:iN,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw dm.create("bad-app-name",{appName:String(s)});if(n||(n=rq()),!n)throw dm.create("no-options");const a=HC.get(s);if(a){if(Xy(n,a.options)&&Xy(r,a.config))return a;throw dm.create("duplicate-app",{appName:s})}const o=new S_t(s);for(const u of rN.values())o.addComponent(u);const l=new gbt(n,r,o);return HC.set(s,l),l}function uq(i=iN){const e=HC.get(i);if(!e&&i===iN&&rq())return lq();if(!e)throw dm.create("no-app",{appName:i});return e}function pm(i,e,n){var r;let s=(r=dbt[i])!==null&&r!==void 0?r:i;n&&(s+=`-${n}`);const a=s.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const l=[`Unable to register library "${s}" with version "${e}":`];a&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ud.warn(l.join(" "));return}j_(new Yy(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ybt="firebase-heartbeat-database",vbt=1,jS="firebase-heartbeat-store";let rD=null;function cq(){return rD||(rD=L_t(ybt,vbt,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(jS)}catch(n){console.warn(n)}}}}).catch(i=>{throw dm.create("idb-open",{originalErrorMessage:i.message})})),rD}async function _bt(i){try{const n=(await cq()).transaction(jS),r=await n.objectStore(jS).get(fq(i));return await n.done,r}catch(e){if(e instanceof Gd)Ud.warn(e.message);else{const n=dm.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ud.warn(n.message)}}}async function DV(i,e){try{const r=(await cq()).transaction(jS,"readwrite");await r.objectStore(jS).put(e,fq(i)),await r.done}catch(n){if(n instanceof Gd)Ud.warn(n.message);else{const r=dm.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ud.warn(r.message)}}}function fq(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bbt=1024,xbt=30;class Sbt{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Tbt(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=NV();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>xbt){const o=wbt(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ud.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=NV(),{heartbeatsToSend:r,unsentEntries:s}=Ebt(this._heartbeatsCache.heartbeats),a=VC(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Ud.warn(n),""}}}function NV(){return new Date().toISOString().substring(0,10)}function Ebt(i,e=bbt){const n=[];let r=i.slice();for(const s of i){const a=n.find(o=>o.agent===s.agent);if(a){if(a.dates.push(s.date),LV(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),LV(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Tbt{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return c_t()?f_t().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await _bt(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return DV(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return DV(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function LV(i){return VC(JSON.stringify({version:2,heartbeats:i})).length}function wbt(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let r=1;r<i.length;r++)i[r].date<n&&(n=i[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Abt(i){j_(new Yy("platform-logger",e=>new z_t(e),"PRIVATE")),j_(new Yy("heartbeat",e=>new Sbt(e),"PRIVATE")),pm(nN,PV,i),pm(nN,PV,"esm2017"),pm("fire-js","")}Abt("");function m4(i,e){var n={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&e.indexOf(r)<0&&(n[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(i);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(i,r[s])&&(n[r[s]]=i[r[s]]);return n}function hq(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Mbt=hq,dq=new LE("auth","Firebase",hq());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC=new h4("@firebase/auth");function Cbt(i,...e){jC.logLevel<=fi.WARN&&jC.warn(`Auth (${_b}): ${i}`,...e)}function mM(i,...e){jC.logLevel<=fi.ERROR&&jC.error(`Auth (${_b}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lh(i,...e){throw y4(i,...e)}function Nc(i,...e){return y4(i,...e)}function g4(i,e,n){const r=Object.assign(Object.assign({},Mbt()),{[e]:n});return new LE("auth","Firebase",r).create(e,{appName:i.name})}function Cy(i){return g4(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Rbt(i,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&lh(i,"argument-error"),g4(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function y4(i,...e){if(typeof i!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=i.name),i._errorFactory.create(n,...r)}return dq.create(i,...e)}function Rn(i,e,...n){if(!i)throw y4(e,...n)}function _d(i){const e="INTERNAL ASSERTION FAILED: "+i;throw mM(e),new Error(e)}function kd(i,e){i||_d(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sN(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function Obt(){return UV()==="http:"||UV()==="https:"}function UV(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pbt(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Obt()||a_t()||"connection"in navigator)?navigator.onLine:!0}function Ibt(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(e,n){this.shortDelay=e,this.longDelay=n,kd(n>e,"Short delay should be less than long delay!"),this.isMobile=i_t()||o_t()}get(){return Pbt()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v4(i,e){kd(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pq{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_d("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_d("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_d("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dbt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nbt=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Lbt=new kE(3e4,6e4);function _4(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function bb(i,e,n,r,s={}){return mq(i,s,async()=>{let a={},o={};r&&(e==="GET"?o=r:a={body:JSON.stringify(r)});const l=UE(Object.assign({key:i.config.apiKey},o)).slice(1),u=await i._getAdditionalHeaders();u["Content-Type"]="application/json",i.languageCode&&(u["X-Firebase-Locale"]=i.languageCode);const c=Object.assign({method:e,headers:u},a);return s_t()||(c.referrerPolicy="no-referrer"),pq.fetch()(await gq(i,i.config.apiHost,n,l),c)})}async function mq(i,e,n){i._canInitEmulator=!1;const r=Object.assign(Object.assign({},Dbt),e);try{const s=new kbt(i),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw bA(i,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const l=a.ok?o.errorMessage:o.error.message,[u,c]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw bA(i,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw bA(i,"email-already-in-use",o);if(u==="USER_DISABLED")throw bA(i,"user-disabled",o);const h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw g4(i,h,c);lh(i,h)}}catch(s){if(s instanceof Gd)throw s;lh(i,"network-request-failed",{message:String(s)})}}async function Ubt(i,e,n,r,s={}){const a=await bb(i,e,n,r,s);return"mfaPendingCredential"in a&&lh(i,"multi-factor-auth-required",{_serverResponse:a}),a}async function gq(i,e,n,r){const s=`${e}${n}?${r}`,a=i,o=a.config.emulator?v4(i.config,s):`${i.config.apiScheme}://${s}`;return Nbt.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}class kbt{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Nc(this.auth,"network-request-failed")),Lbt.get())})}}function bA(i,e,n){const r={appName:i.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Nc(i,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zbt(i,e){return bb(i,"POST","/v1/accounts:delete",e)}async function GC(i,e){return bb(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eS(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Bbt(i,e=!1){const n=bl(i),r=await n.getIdToken(e),s=b4(r);Rn(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:s,token:r,authTime:eS(sD(s.auth_time)),issuedAtTime:eS(sD(s.iat)),expirationTime:eS(sD(s.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function sD(i){return Number(i)*1e3}function b4(i){const[e,n,r]=i.split(".");if(e===void 0||n===void 0||r===void 0)return mM("JWT malformed, contained fewer than 3 sections"),null;try{const s=nq(n);return s?JSON.parse(s):(mM("Failed to decode base64 JWT payload"),null)}catch(s){return mM("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function kV(i){const e=b4(i);return Rn(e,"internal-error"),Rn(typeof e.exp<"u","internal-error"),Rn(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GS(i,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Gd&&Fbt(r)&&i.auth.currentUser===i&&await i.auth.signOut(),r}}function Fbt({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vbt{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=eS(this.lastLoginAt),this.creationTime=eS(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $C(i){var e;const n=i.auth,r=await i.getIdToken(),s=await GS(i,GC(n,{idToken:r}));Rn(s==null?void 0:s.users.length,n,"internal-error");const a=s.users[0];i._notifyReloadListener(a);const o=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?yq(a.providerUserInfo):[],l=jbt(i.providerData,o),u=i.isAnonymous,c=!(i.email&&a.passwordHash)&&!(l!=null&&l.length),h=u?c:!1,p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new aN(a.createdAt,a.lastLoginAt),isAnonymous:h};Object.assign(i,p)}async function Hbt(i){const e=bl(i);await $C(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function jbt(i,e){return[...i.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function yq(i){return i.map(e=>{var{providerId:n}=e,r=m4(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gbt(i,e){const n=await mq(i,{},async()=>{const r=UE({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=i.config,o=await gq(i,s,"/v1/token",`key=${a}`),l=await i._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",pq.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function $bt(i,e){return bb(i,"POST","/v2/accounts:revokeToken",_4(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Rn(e.idToken,"internal-error"),Rn(typeof e.idToken<"u","internal-error"),Rn(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):kV(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Rn(e.length!==0,"internal-error");const n=kV(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Rn(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:a}=await Gbt(e,n);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:a}=n,o=new y_;return r&&(Rn(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Rn(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),a&&(Rn(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new y_,this.toJSON())}_performRefresh(){return _d("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $p(i,e){Rn(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Pc{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,a=m4(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Vbt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new aN(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await GS(this,this.stsTokenManager.getToken(this.auth,e));return Rn(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Bbt(this,e)}reload(){return Hbt(this)}_assign(e){this!==e&&(Rn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Pc(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Rn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await $C(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ac(this.auth.app))return Promise.reject(Cy(this.auth));const e=await this.getIdToken();return await GS(this,zbt(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,a,o,l,u,c,h;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(s=n.email)!==null&&s!==void 0?s:void 0,v=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,b=(o=n.photoURL)!==null&&o!==void 0?o:void 0,S=(l=n.tenantId)!==null&&l!==void 0?l:void 0,E=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,x=(c=n.createdAt)!==null&&c!==void 0?c:void 0,A=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:C,emailVerified:M,isAnonymous:P,providerData:k,stsTokenManager:D}=n;Rn(C&&D,e,"internal-error");const N=y_.fromJSON(this.name,D);Rn(typeof C=="string",e,"internal-error"),$p(p,e.name),$p(g,e.name),Rn(typeof M=="boolean",e,"internal-error"),Rn(typeof P=="boolean",e,"internal-error"),$p(v,e.name),$p(b,e.name),$p(S,e.name),$p(E,e.name),$p(x,e.name),$p(A,e.name);const U=new Pc({uid:C,auth:e,email:g,emailVerified:M,displayName:p,isAnonymous:P,photoURL:b,phoneNumber:v,tenantId:S,stsTokenManager:N,createdAt:x,lastLoginAt:A});return k&&Array.isArray(k)&&(U.providerData=k.map(R=>Object.assign({},R))),E&&(U._redirectEventId=E),U}static async _fromIdTokenResponse(e,n,r=!1){const s=new y_;s.updateFromServerResponse(n);const a=new Pc({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await $C(a),a}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Rn(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?yq(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),l=new y_;l.updateFromIdToken(r);const u=new Pc({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new aN(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zV=new Map;function bd(i){kd(i instanceof Function,"Expected a class definition");let e=zV.get(i);return e?(kd(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,zV.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vq{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}vq.type="NONE";const BV=vq;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gM(i,e,n){return`firebase:${i}:${e}:${n}`}class v_{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=gM(this.userKey,s.apiKey,a),this.fullPersistenceKey=gM("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await GC(this.auth,{idToken:e}).catch(()=>{});return n?Pc._fromGetAccountInfoResponse(this.auth,n,e):null}return Pc._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new v_(bd(BV),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let a=s[0]||bd(BV);const o=gM(r,e.config.apiKey,e.name);let l=null;for(const c of n)try{const h=await c._get(o);if(h){let p;if(typeof h=="string"){const g=await GC(e,{idToken:h}).catch(()=>{});if(!g)break;p=await Pc._fromGetAccountInfoResponse(e,g,h)}else p=Pc._fromJSON(e,h);c!==a&&(l=p),a=c;break}}catch{}const u=s.filter(c=>c._shouldAllowMigration);return!a._shouldAllowMigration||!u.length?new v_(a,e,r):(a=u[0],l&&await a._set(o,l.toJSON()),await Promise.all(n.map(async c=>{if(c!==a)try{await c._remove(o)}catch{}})),new v_(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FV(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Sq(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_q(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Tq(e))return"Blackberry";if(wq(e))return"Webos";if(bq(e))return"Safari";if((e.includes("chrome/")||xq(e))&&!e.includes("edge/"))return"Chrome";if(Eq(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=i.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function _q(i=Za()){return/firefox\//i.test(i)}function bq(i=Za()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function xq(i=Za()){return/crios\//i.test(i)}function Sq(i=Za()){return/iemobile/i.test(i)}function Eq(i=Za()){return/android/i.test(i)}function Tq(i=Za()){return/blackberry/i.test(i)}function wq(i=Za()){return/webos/i.test(i)}function x4(i=Za()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function qbt(i=Za()){var e;return x4(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Wbt(){return l_t()&&document.documentMode===10}function Aq(i=Za()){return x4(i)||Eq(i)||wq(i)||Tq(i)||/windows phone/i.test(i)||Sq(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mq(i,e=[]){let n;switch(i){case"Browser":n=FV(Za());break;case"Worker":n=`${FV(Za())}-${i}`;break;default:n=i}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${_b}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xbt{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((o,l)=>{try{const u=e(a);o(u)}catch(u){l(u)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ybt(i,e={}){return bb(i,"GET","/v2/passwordPolicy",_4(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kbt=6;class Zbt{constructor(e){var n,r,s,a;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Kbt,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,a,o,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(s=u.containsLowercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsUppercaseLetter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qbt{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new VV(this),this.idTokenSubscription=new VV(this),this.beforeStateQueue=new Xbt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dq,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=bd(n)),this._initializationPromise=this.queue(async()=>{var r,s,a;if(!this._deleted&&(this.persistenceManager=await v_.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await GC(this,{idToken:e}),r=await Pc._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ac(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=s==null?void 0:s._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===l)&&(u!=null&&u.user)&&(s=u.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Rn(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await $C(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Ibt()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ac(this.app))return Promise.reject(Cy(this));const n=e?bl(e):null;return n&&Rn(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Rn(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ac(this.app)?Promise.reject(Cy(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ac(this.app)?Promise.reject(Cy(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(bd(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Ybt(this),n=new Zbt(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new LE("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await $bt(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&bd(e)||this._popupRedirectResolver;Rn(n,this,"argument-error"),this.redirectPersistenceManager=await v_.create(this,[bd(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Rn(l,this,"internal-error"),l.then(()=>{o||a(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,s);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Rn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Mq(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(Ac(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Cbt(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function qR(i){return bl(i)}class VV{constructor(e){this.auth=e,this.observer=null,this.addObserver=g_t(n=>this.observer=n)}get next(){return Rn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let S4={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Jbt(i){S4=i}function txt(i){return S4.loadJS(i)}function ext(){return S4.gapiScript}function nxt(i){return`__${i}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ixt(i,e){const n=p4(i,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(Xy(a,e??{}))return s;lh(s,"already-initialized")}return n.initialize({options:e})}function rxt(i,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(bd);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function sxt(i,e,n){const r=qR(i);Rn(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=Cq(e),{host:o,port:l}=axt(e),u=l===null?"":`:${l}`,c={url:`${a}//${o}${u}/`},h=Object.freeze({host:o,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Rn(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Rn(Xy(c,r.config.emulator)&&Xy(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,oxt()}function Cq(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function axt(i){const e=Cq(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:HV(r.substr(a.length+1))}}else{const[a,o]=r.split(":");return{host:a,port:HV(o)}}}function HV(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function oxt(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rq{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return _d("not implemented")}_getIdTokenResponse(e){return _d("not implemented")}_linkToIdToken(e,n){return _d("not implemented")}_getReauthenticationResolver(e){return _d("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function __(i,e){return Ubt(i,"POST","/v1/accounts:signInWithIdp",_4(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lxt="http://localhost";class Ky extends Rq{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ky(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):lh("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,a=m4(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Ky(r,s);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return __(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,__(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,__(e,n)}buildRequest(){const e={requestUri:lxt,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=UE(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE extends E4{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm extends zE{constructor(){super("facebook.com")}static credential(e){return Ky._fromParams({providerId:nm.PROVIDER_ID,signInMethod:nm.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return nm.credentialFromTaggedObject(e)}static credentialFromError(e){return nm.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return nm.credential(e.oauthAccessToken)}catch{return null}}}nm.FACEBOOK_SIGN_IN_METHOD="facebook.com";nm.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd extends zE{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ky._fromParams({providerId:pd.PROVIDER_ID,signInMethod:pd.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return pd.credentialFromTaggedObject(e)}static credentialFromError(e){return pd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return pd.credential(n,r)}catch{return null}}}pd.GOOGLE_SIGN_IN_METHOD="google.com";pd.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im extends zE{constructor(){super("github.com")}static credential(e){return Ky._fromParams({providerId:im.PROVIDER_ID,signInMethod:im.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return im.credentialFromTaggedObject(e)}static credentialFromError(e){return im.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return im.credential(e.oauthAccessToken)}catch{return null}}}im.GITHUB_SIGN_IN_METHOD="github.com";im.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm extends zE{constructor(){super("twitter.com")}static credential(e,n){return Ky._fromParams({providerId:rm.PROVIDER_ID,signInMethod:rm.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return rm.credentialFromTaggedObject(e)}static credentialFromError(e){return rm.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return rm.credential(n,r)}catch{return null}}}rm.TWITTER_SIGN_IN_METHOD="twitter.com";rm.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const a=await Pc._fromIdTokenResponse(e,r,s),o=jV(r);return new G_({user:a,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=jV(r);return new G_({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function jV(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC extends Gd{constructor(e,n,r,s){var a;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,qC.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new qC(e,n,r,s)}}function Oq(i,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?qC._fromErrorAndOperation(i,a,e,r):a})}async function uxt(i,e,n=!1){const r=await GS(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return G_._forOperation(i,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cxt(i,e,n=!1){const{auth:r}=i;if(Ac(r.app))return Promise.reject(Cy(r));const s="reauthenticate";try{const a=await GS(i,Oq(r,s,e,i),n);Rn(a.idToken,r,"internal-error");const o=b4(a.idToken);Rn(o,r,"internal-error");const{sub:l}=o;return Rn(i.uid===l,r,"user-mismatch"),G_._forOperation(i,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&lh(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fxt(i,e,n=!1){if(Ac(i.app))return Promise.reject(Cy(i));const r="signIn",s=await Oq(i,r,e),a=await G_._fromIdTokenResponse(i,r,s);return n||await i._updateCurrentUser(a.user),a}function hxt(i,e,n,r){return bl(i).onIdTokenChanged(e,n,r)}function dxt(i,e,n){return bl(i).beforeAuthStateChanged(e,n)}function pxt(i,e,n,r){return bl(i).onAuthStateChanged(e,n,r)}function mxt(i){return bl(i).signOut()}const WC="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pq{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(WC,"1"),this.storage.removeItem(WC),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gxt=1e3,yxt=10;class Iq extends Pq{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Aq(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,u)=>{this.notifyListeners(o,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},a=this.storage.getItem(r);Wbt()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,yxt):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},gxt)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Iq.type="LOCAL";const vxt=Iq;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dq extends Pq{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Dq.type="SESSION";const Nq=Dq;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _xt(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new WR(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:a}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(o).map(async c=>c(n.origin,a)),u=await _xt(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}WR.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T4(i="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bxt{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,o;return new Promise((l,u)=>{const c=T4("",20);s.port1.start();const h=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(p){const g=p;if(g.data.eventId===c)switch(g.data.status){case"ack":clearTimeout(h),a=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(g.data.response);break;default:clearTimeout(h),clearTimeout(a),u(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(){return window}function xxt(i){eh().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lq(){return typeof eh().WorkerGlobalScope<"u"&&typeof eh().importScripts=="function"}async function Sxt(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Ext(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function Txt(){return Lq()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uq="firebaseLocalStorageDb",wxt=1,XC="firebaseLocalStorage",kq="fbase_key";class BE{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function XR(i,e){return i.transaction([XC],e?"readwrite":"readonly").objectStore(XC)}function Axt(){const i=indexedDB.deleteDatabase(Uq);return new BE(i).toPromise()}function oN(){const i=indexedDB.open(Uq,wxt);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const r=i.result;try{r.createObjectStore(XC,{keyPath:kq})}catch(s){n(s)}}),i.addEventListener("success",async()=>{const r=i.result;r.objectStoreNames.contains(XC)?e(r):(r.close(),await Axt(),e(await oN()))})})}async function GV(i,e,n){const r=XR(i,!0).put({[kq]:e,value:n});return new BE(r).toPromise()}async function Mxt(i,e){const n=XR(i,!1).get(e),r=await new BE(n).toPromise();return r===void 0?null:r.value}function $V(i,e){const n=XR(i,!0).delete(e);return new BE(n).toPromise()}const Cxt=800,Rxt=3;class zq{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await oN(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Rxt)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Lq()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=WR._getInstance(Txt()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Sxt(),!this.activeServiceWorker)return;this.sender=new bxt(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Ext()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await oN();return await GV(e,WC,"1"),await $V(e,WC),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>GV(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Mxt(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>$V(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=XR(s,!1).getAll();return new BE(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Cxt)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}zq.type="LOCAL";const Oxt=zq;new kE(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bq(i,e){return e?bd(e):(Rn(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4 extends Rq{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return __(e,this._buildIdpRequest())}_linkToIdToken(e,n){return __(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return __(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Pxt(i){return fxt(i.auth,new w4(i),i.bypassAuthState)}function Ixt(i){const{auth:e,user:n}=i;return Rn(n,e,"internal-error"),cxt(n,new w4(i),i.bypassAuthState)}async function Dxt(i){const{auth:e,user:n}=i;return Rn(n,e,"internal-error"),uxt(n,new w4(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fq{constructor(e,n,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:a,error:o,type:l}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Pxt;case"linkViaPopup":case"linkViaRedirect":return Dxt;case"reauthViaPopup":case"reauthViaRedirect":return Ixt;default:lh(this.auth,"internal-error")}}resolve(e){kd(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){kd(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nxt=new kE(2e3,1e4);async function Lxt(i,e,n){if(Ac(i.app))return Promise.reject(Nc(i,"operation-not-supported-in-this-environment"));const r=qR(i);Rbt(i,e,E4);const s=Bq(r,n);return new gy(r,"signInViaPopup",e,s).executeNotNull()}class gy extends Fq{constructor(e,n,r,s,a){super(e,n,s,a),this.provider=r,this.authWindow=null,this.pollId=null,gy.currentPopupAction&&gy.currentPopupAction.cancel(),gy.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Rn(e,this.auth,"internal-error"),e}async onExecution(){kd(this.filter.length===1,"Popup operations only handle one event");const e=T4();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Nc(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Nc(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,gy.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Nc(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Nxt.get())};e()}}gy.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uxt="pendingRedirect",yM=new Map;class kxt extends Fq{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=yM.get(this.auth._key());if(!e){try{const r=await zxt(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}yM.set(this.auth._key(),e)}return this.bypassAuthState||yM.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function zxt(i,e){const n=Vxt(e),r=Fxt(i);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function Bxt(i,e){yM.set(i._key(),e)}function Fxt(i){return bd(i._redirectPersistence)}function Vxt(i){return gM(Uxt,i.config.apiKey,i.name)}async function Hxt(i,e,n=!1){if(Ac(i.app))return Promise.reject(Cy(i));const r=qR(i),s=Bq(r,e),o=await new kxt(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jxt=10*60*1e3;class Gxt{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$xt(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Vq(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Nc(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=jxt&&this.cachedEventUids.clear(),this.cachedEventUids.has(qV(e))}saveEventToCache(e){this.cachedEventUids.add(qV(e)),this.lastProcessedEventTime=Date.now()}}function qV(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function Vq({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function $xt(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Vq(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qxt(i,e={}){return bb(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wxt=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Xxt=/^https?/;async function Yxt(i){if(i.config.emulator)return;const{authorizedDomains:e}=await qxt(i);for(const n of e)try{if(Kxt(n))return}catch{}lh(i,"unauthorized-domain")}function Kxt(i){const e=sN(),{protocol:n,hostname:r}=new URL(e);if(i.startsWith("chrome-extension://")){const o=new URL(i);return o.hostname===""&&r===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Xxt.test(n))return!1;if(Wxt.test(i))return r===i;const s=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zxt=new kE(3e4,6e4);function WV(){const i=eh().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function Qxt(i){return new Promise((e,n)=>{var r,s,a;function o(){WV(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{WV(),n(Nc(i,"network-request-failed"))},timeout:Zxt.get()})}if(!((s=(r=eh().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=eh().gapi)===null||a===void 0)&&a.load)o();else{const l=nxt("iframefcb");return eh()[l]=()=>{gapi.load?o():n(Nc(i,"network-request-failed"))},txt(`${ext()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw vM=null,e})}let vM=null;function Jxt(i){return vM=vM||Qxt(i),vM}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1t=new kE(5e3,15e3),e1t="__/auth/iframe",n1t="emulator/auth/iframe",i1t={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},r1t=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function s1t(i){const e=i.config;Rn(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?v4(e,n1t):`https://${i.config.authDomain}/${e1t}`,r={apiKey:e.apiKey,appName:i.name,v:_b},s=r1t.get(i.config.apiHost);s&&(r.eid=s);const a=i._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${UE(r).slice(1)}`}async function a1t(i){const e=await Jxt(i),n=eh().gapi;return Rn(n,i,"internal-error"),e.open({where:document.body,url:s1t(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:i1t,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const o=Nc(i,"network-request-failed"),l=eh().setTimeout(()=>{a(o)},t1t.get());function u(){eh().clearTimeout(l),s(r)}r.ping(u).then(u,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1t={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},l1t=500,u1t=600,c1t="_blank",f1t="http://localhost";class XV{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function h1t(i,e,n,r=l1t,s=u1t){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const u=Object.assign(Object.assign({},o1t),{width:r.toString(),height:s.toString(),top:a,left:o}),c=Za().toLowerCase();n&&(l=xq(c)?c1t:n),_q(c)&&(e=e||f1t,u.scrollbars="yes");const h=Object.entries(u).reduce((g,[v,b])=>`${g}${v}=${b},`,"");if(qbt(c)&&l!=="_self")return d1t(e||"",l),new XV(null);const p=window.open(e||"",l,h);Rn(p,i,"popup-blocked");try{p.focus()}catch{}return new XV(p)}function d1t(i,e){const n=document.createElement("a");n.href=i,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1t="__/auth/handler",m1t="emulator/auth/handler",g1t=encodeURIComponent("fac");async function YV(i,e,n,r,s,a){Rn(i.config.authDomain,i,"auth-domain-config-required"),Rn(i.config.apiKey,i,"invalid-api-key");const o={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:r,v:_b,eventId:s};if(e instanceof E4){e.setDefaultLanguage(i.languageCode),o.providerId=e.providerId||"",m_t(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,p]of Object.entries({}))o[h]=p}if(e instanceof zE){const h=e.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}i.tenantId&&(o.tid=i.tenantId);const l=o;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const u=await i._getAppCheckToken(),c=u?`#${g1t}=${encodeURIComponent(u)}`:"";return`${y1t(i)}?${UE(l).slice(1)}${c}`}function y1t({config:i}){return i.emulator?v4(i,m1t):`https://${i.authDomain}/${p1t}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD="webStorageSupport";class v1t{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Nq,this._completeRedirectFn=Hxt,this._overrideRedirectResult=Bxt}async _openPopup(e,n,r,s){var a;kd((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await YV(e,n,r,sN(),s);return h1t(e,o,T4())}async _openRedirect(e,n,r,s){await this._originValidation(e);const a=await YV(e,n,r,sN(),s);return xxt(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(kd(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await a1t(e),r=new Gxt(e);return n.register("authEvent",s=>(Rn(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(aD,{type:aD},s=>{var a;const o=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[aD];o!==void 0&&n(!!o),lh(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Yxt(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Aq()||bq()||x4()}}const _1t=v1t;var KV="@firebase/auth",ZV="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1t{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Rn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1t(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function S1t(i){j_(new Yy("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;Rn(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:l,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Mq(i)},c=new Qbt(r,s,a,u);return rxt(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),j_(new Yy("auth-internal",e=>{const n=qR(e.getProvider("auth").getImmediate());return(r=>new b1t(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),pm(KV,ZV,x1t(i)),pm(KV,ZV,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1t=5*60,T1t=sq("authIdTokenMaxAge")||E1t;let QV=null;const w1t=i=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>T1t)return;const s=n==null?void 0:n.token;QV!==s&&(QV=s,await fetch(i,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function A1t(i=uq()){const e=p4(i,"auth");if(e.isInitialized())return e.getImmediate();const n=ixt(i,{popupRedirectResolver:_1t,persistence:[Oxt,vxt,Nq]}),r=sq("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const o=w1t(a.toString());dxt(n,o,()=>o(n.currentUser)),hxt(n,l=>o(l))}}const s=iq("auth");return s&&sxt(n,`http://${s}`),n}function M1t(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}Jbt({loadJS(i){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",i),r.onload=e,r.onerror=s=>{const a=Nc("internal-error");a.customData=s,n(a)},r.type="text/javascript",r.charset="UTF-8",M1t().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});S1t("Browser");var C1t="firebase",R1t="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pm(C1t,R1t,"app");var JV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mm,Hq;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,N){function U(){}U.prototype=N.prototype,D.D=N.prototype,D.prototype=new U,D.prototype.constructor=D,D.C=function(R,B,H){for(var V=Array(arguments.length-2),Y=2;Y<arguments.length;Y++)V[Y-2]=arguments[Y];return N.prototype[B].apply(R,V)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(D,N,U){U||(U=0);var R=Array(16);if(typeof N=="string")for(var B=0;16>B;++B)R[B]=N.charCodeAt(U++)|N.charCodeAt(U++)<<8|N.charCodeAt(U++)<<16|N.charCodeAt(U++)<<24;else for(B=0;16>B;++B)R[B]=N[U++]|N[U++]<<8|N[U++]<<16|N[U++]<<24;N=D.g[0],U=D.g[1],B=D.g[2];var H=D.g[3],V=N+(H^U&(B^H))+R[0]+3614090360&4294967295;N=U+(V<<7&4294967295|V>>>25),V=H+(B^N&(U^B))+R[1]+3905402710&4294967295,H=N+(V<<12&4294967295|V>>>20),V=B+(U^H&(N^U))+R[2]+606105819&4294967295,B=H+(V<<17&4294967295|V>>>15),V=U+(N^B&(H^N))+R[3]+3250441966&4294967295,U=B+(V<<22&4294967295|V>>>10),V=N+(H^U&(B^H))+R[4]+4118548399&4294967295,N=U+(V<<7&4294967295|V>>>25),V=H+(B^N&(U^B))+R[5]+1200080426&4294967295,H=N+(V<<12&4294967295|V>>>20),V=B+(U^H&(N^U))+R[6]+2821735955&4294967295,B=H+(V<<17&4294967295|V>>>15),V=U+(N^B&(H^N))+R[7]+4249261313&4294967295,U=B+(V<<22&4294967295|V>>>10),V=N+(H^U&(B^H))+R[8]+1770035416&4294967295,N=U+(V<<7&4294967295|V>>>25),V=H+(B^N&(U^B))+R[9]+2336552879&4294967295,H=N+(V<<12&4294967295|V>>>20),V=B+(U^H&(N^U))+R[10]+4294925233&4294967295,B=H+(V<<17&4294967295|V>>>15),V=U+(N^B&(H^N))+R[11]+2304563134&4294967295,U=B+(V<<22&4294967295|V>>>10),V=N+(H^U&(B^H))+R[12]+1804603682&4294967295,N=U+(V<<7&4294967295|V>>>25),V=H+(B^N&(U^B))+R[13]+4254626195&4294967295,H=N+(V<<12&4294967295|V>>>20),V=B+(U^H&(N^U))+R[14]+2792965006&4294967295,B=H+(V<<17&4294967295|V>>>15),V=U+(N^B&(H^N))+R[15]+1236535329&4294967295,U=B+(V<<22&4294967295|V>>>10),V=N+(B^H&(U^B))+R[1]+4129170786&4294967295,N=U+(V<<5&4294967295|V>>>27),V=H+(U^B&(N^U))+R[6]+3225465664&4294967295,H=N+(V<<9&4294967295|V>>>23),V=B+(N^U&(H^N))+R[11]+643717713&4294967295,B=H+(V<<14&4294967295|V>>>18),V=U+(H^N&(B^H))+R[0]+3921069994&4294967295,U=B+(V<<20&4294967295|V>>>12),V=N+(B^H&(U^B))+R[5]+3593408605&4294967295,N=U+(V<<5&4294967295|V>>>27),V=H+(U^B&(N^U))+R[10]+38016083&4294967295,H=N+(V<<9&4294967295|V>>>23),V=B+(N^U&(H^N))+R[15]+3634488961&4294967295,B=H+(V<<14&4294967295|V>>>18),V=U+(H^N&(B^H))+R[4]+3889429448&4294967295,U=B+(V<<20&4294967295|V>>>12),V=N+(B^H&(U^B))+R[9]+568446438&4294967295,N=U+(V<<5&4294967295|V>>>27),V=H+(U^B&(N^U))+R[14]+3275163606&4294967295,H=N+(V<<9&4294967295|V>>>23),V=B+(N^U&(H^N))+R[3]+4107603335&4294967295,B=H+(V<<14&4294967295|V>>>18),V=U+(H^N&(B^H))+R[8]+1163531501&4294967295,U=B+(V<<20&4294967295|V>>>12),V=N+(B^H&(U^B))+R[13]+2850285829&4294967295,N=U+(V<<5&4294967295|V>>>27),V=H+(U^B&(N^U))+R[2]+4243563512&4294967295,H=N+(V<<9&4294967295|V>>>23),V=B+(N^U&(H^N))+R[7]+1735328473&4294967295,B=H+(V<<14&4294967295|V>>>18),V=U+(H^N&(B^H))+R[12]+2368359562&4294967295,U=B+(V<<20&4294967295|V>>>12),V=N+(U^B^H)+R[5]+4294588738&4294967295,N=U+(V<<4&4294967295|V>>>28),V=H+(N^U^B)+R[8]+2272392833&4294967295,H=N+(V<<11&4294967295|V>>>21),V=B+(H^N^U)+R[11]+1839030562&4294967295,B=H+(V<<16&4294967295|V>>>16),V=U+(B^H^N)+R[14]+4259657740&4294967295,U=B+(V<<23&4294967295|V>>>9),V=N+(U^B^H)+R[1]+2763975236&4294967295,N=U+(V<<4&4294967295|V>>>28),V=H+(N^U^B)+R[4]+1272893353&4294967295,H=N+(V<<11&4294967295|V>>>21),V=B+(H^N^U)+R[7]+4139469664&4294967295,B=H+(V<<16&4294967295|V>>>16),V=U+(B^H^N)+R[10]+3200236656&4294967295,U=B+(V<<23&4294967295|V>>>9),V=N+(U^B^H)+R[13]+681279174&4294967295,N=U+(V<<4&4294967295|V>>>28),V=H+(N^U^B)+R[0]+3936430074&4294967295,H=N+(V<<11&4294967295|V>>>21),V=B+(H^N^U)+R[3]+3572445317&4294967295,B=H+(V<<16&4294967295|V>>>16),V=U+(B^H^N)+R[6]+76029189&4294967295,U=B+(V<<23&4294967295|V>>>9),V=N+(U^B^H)+R[9]+3654602809&4294967295,N=U+(V<<4&4294967295|V>>>28),V=H+(N^U^B)+R[12]+3873151461&4294967295,H=N+(V<<11&4294967295|V>>>21),V=B+(H^N^U)+R[15]+530742520&4294967295,B=H+(V<<16&4294967295|V>>>16),V=U+(B^H^N)+R[2]+3299628645&4294967295,U=B+(V<<23&4294967295|V>>>9),V=N+(B^(U|~H))+R[0]+4096336452&4294967295,N=U+(V<<6&4294967295|V>>>26),V=H+(U^(N|~B))+R[7]+1126891415&4294967295,H=N+(V<<10&4294967295|V>>>22),V=B+(N^(H|~U))+R[14]+2878612391&4294967295,B=H+(V<<15&4294967295|V>>>17),V=U+(H^(B|~N))+R[5]+4237533241&4294967295,U=B+(V<<21&4294967295|V>>>11),V=N+(B^(U|~H))+R[12]+1700485571&4294967295,N=U+(V<<6&4294967295|V>>>26),V=H+(U^(N|~B))+R[3]+2399980690&4294967295,H=N+(V<<10&4294967295|V>>>22),V=B+(N^(H|~U))+R[10]+4293915773&4294967295,B=H+(V<<15&4294967295|V>>>17),V=U+(H^(B|~N))+R[1]+2240044497&4294967295,U=B+(V<<21&4294967295|V>>>11),V=N+(B^(U|~H))+R[8]+1873313359&4294967295,N=U+(V<<6&4294967295|V>>>26),V=H+(U^(N|~B))+R[15]+4264355552&4294967295,H=N+(V<<10&4294967295|V>>>22),V=B+(N^(H|~U))+R[6]+2734768916&4294967295,B=H+(V<<15&4294967295|V>>>17),V=U+(H^(B|~N))+R[13]+1309151649&4294967295,U=B+(V<<21&4294967295|V>>>11),V=N+(B^(U|~H))+R[4]+4149444226&4294967295,N=U+(V<<6&4294967295|V>>>26),V=H+(U^(N|~B))+R[11]+3174756917&4294967295,H=N+(V<<10&4294967295|V>>>22),V=B+(N^(H|~U))+R[2]+718787259&4294967295,B=H+(V<<15&4294967295|V>>>17),V=U+(H^(B|~N))+R[9]+3951481745&4294967295,D.g[0]=D.g[0]+N&4294967295,D.g[1]=D.g[1]+(B+(V<<21&4294967295|V>>>11))&4294967295,D.g[2]=D.g[2]+B&4294967295,D.g[3]=D.g[3]+H&4294967295}r.prototype.u=function(D,N){N===void 0&&(N=D.length);for(var U=N-this.blockSize,R=this.B,B=this.h,H=0;H<N;){if(B==0)for(;H<=U;)s(this,D,H),H+=this.blockSize;if(typeof D=="string"){for(;H<N;)if(R[B++]=D.charCodeAt(H++),B==this.blockSize){s(this,R),B=0;break}}else for(;H<N;)if(R[B++]=D[H++],B==this.blockSize){s(this,R),B=0;break}}this.h=B,this.o+=N},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var N=1;N<D.length-8;++N)D[N]=0;var U=8*this.o;for(N=D.length-8;N<D.length;++N)D[N]=U&255,U/=256;for(this.u(D),D=Array(16),N=U=0;4>N;++N)for(var R=0;32>R;R+=8)D[U++]=this.g[N]>>>R&255;return D};function a(D,N){var U=l;return Object.prototype.hasOwnProperty.call(U,D)?U[D]:U[D]=N(D)}function o(D,N){this.h=N;for(var U=[],R=!0,B=D.length-1;0<=B;B--){var H=D[B]|0;R&&H==N||(U[B]=H,R=!1)}this.g=U}var l={};function u(D){return-128<=D&&128>D?a(D,function(N){return new o([N|0],0>N?-1:0)}):new o([D|0],0>D?-1:0)}function c(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return E(c(-D));for(var N=[],U=1,R=0;D>=U;R++)N[R]=D/U|0,U*=4294967296;return new o(N,0)}function h(D,N){if(D.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(D.charAt(0)=="-")return E(h(D.substring(1),N));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var U=c(Math.pow(N,8)),R=p,B=0;B<D.length;B+=8){var H=Math.min(8,D.length-B),V=parseInt(D.substring(B,B+H),N);8>H?(H=c(Math.pow(N,H)),R=R.j(H).add(c(V))):(R=R.j(U),R=R.add(c(V)))}return R}var p=u(0),g=u(1),v=u(16777216);i=o.prototype,i.m=function(){if(S(this))return-E(this).m();for(var D=0,N=1,U=0;U<this.g.length;U++){var R=this.i(U);D+=(0<=R?R:4294967296+R)*N,N*=4294967296}return D},i.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(b(this))return"0";if(S(this))return"-"+E(this).toString(D);for(var N=c(Math.pow(D,6)),U=this,R="";;){var B=M(U,N).g;U=x(U,B.j(N));var H=((0<U.g.length?U.g[0]:U.h)>>>0).toString(D);if(U=B,b(U))return H+R;for(;6>H.length;)H="0"+H;R=H+R}},i.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function b(D){if(D.h!=0)return!1;for(var N=0;N<D.g.length;N++)if(D.g[N]!=0)return!1;return!0}function S(D){return D.h==-1}i.l=function(D){return D=x(this,D),S(D)?-1:b(D)?0:1};function E(D){for(var N=D.g.length,U=[],R=0;R<N;R++)U[R]=~D.g[R];return new o(U,~D.h).add(g)}i.abs=function(){return S(this)?E(this):this},i.add=function(D){for(var N=Math.max(this.g.length,D.g.length),U=[],R=0,B=0;B<=N;B++){var H=R+(this.i(B)&65535)+(D.i(B)&65535),V=(H>>>16)+(this.i(B)>>>16)+(D.i(B)>>>16);R=V>>>16,H&=65535,V&=65535,U[B]=V<<16|H}return new o(U,U[U.length-1]&-2147483648?-1:0)};function x(D,N){return D.add(E(N))}i.j=function(D){if(b(this)||b(D))return p;if(S(this))return S(D)?E(this).j(E(D)):E(E(this).j(D));if(S(D))return E(this.j(E(D)));if(0>this.l(v)&&0>D.l(v))return c(this.m()*D.m());for(var N=this.g.length+D.g.length,U=[],R=0;R<2*N;R++)U[R]=0;for(R=0;R<this.g.length;R++)for(var B=0;B<D.g.length;B++){var H=this.i(R)>>>16,V=this.i(R)&65535,Y=D.i(B)>>>16,et=D.i(B)&65535;U[2*R+2*B]+=V*et,A(U,2*R+2*B),U[2*R+2*B+1]+=H*et,A(U,2*R+2*B+1),U[2*R+2*B+1]+=V*Y,A(U,2*R+2*B+1),U[2*R+2*B+2]+=H*Y,A(U,2*R+2*B+2)}for(R=0;R<N;R++)U[R]=U[2*R+1]<<16|U[2*R];for(R=N;R<2*N;R++)U[R]=0;return new o(U,0)};function A(D,N){for(;(D[N]&65535)!=D[N];)D[N+1]+=D[N]>>>16,D[N]&=65535,N++}function C(D,N){this.g=D,this.h=N}function M(D,N){if(b(N))throw Error("division by zero");if(b(D))return new C(p,p);if(S(D))return N=M(E(D),N),new C(E(N.g),E(N.h));if(S(N))return N=M(D,E(N)),new C(E(N.g),N.h);if(30<D.g.length){if(S(D)||S(N))throw Error("slowDivide_ only works with positive integers.");for(var U=g,R=N;0>=R.l(D);)U=P(U),R=P(R);var B=k(U,1),H=k(R,1);for(R=k(R,2),U=k(U,2);!b(R);){var V=H.add(R);0>=V.l(D)&&(B=B.add(U),H=V),R=k(R,1),U=k(U,1)}return N=x(D,B.j(N)),new C(B,N)}for(B=p;0<=D.l(N);){for(U=Math.max(1,Math.floor(D.m()/N.m())),R=Math.ceil(Math.log(U)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),H=c(U),V=H.j(N);S(V)||0<V.l(D);)U-=R,H=c(U),V=H.j(N);b(H)&&(H=g),B=B.add(H),D=x(D,V)}return new C(B,D)}i.A=function(D){return M(this,D).h},i.and=function(D){for(var N=Math.max(this.g.length,D.g.length),U=[],R=0;R<N;R++)U[R]=this.i(R)&D.i(R);return new o(U,this.h&D.h)},i.or=function(D){for(var N=Math.max(this.g.length,D.g.length),U=[],R=0;R<N;R++)U[R]=this.i(R)|D.i(R);return new o(U,this.h|D.h)},i.xor=function(D){for(var N=Math.max(this.g.length,D.g.length),U=[],R=0;R<N;R++)U[R]=this.i(R)^D.i(R);return new o(U,this.h^D.h)};function P(D){for(var N=D.g.length+1,U=[],R=0;R<N;R++)U[R]=D.i(R)<<1|D.i(R-1)>>>31;return new o(U,D.h)}function k(D,N){var U=N>>5;N%=32;for(var R=D.g.length-U,B=[],H=0;H<R;H++)B[H]=0<N?D.i(H+U)>>>N|D.i(H+U+1)<<32-N:D.i(H+U);return new o(B,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Hq=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,mm=o}).apply(typeof JV<"u"?JV:typeof self<"u"?self:typeof window<"u"?window:{});var xA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jq,O1,Gq,_M,lN,$q,qq,Wq;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(O,$,K){return O==Array.prototype||O==Object.prototype||(O[$]=K.value),O};function n(O){O=[typeof globalThis=="object"&&globalThis,O,typeof window=="object"&&window,typeof self=="object"&&self,typeof xA=="object"&&xA];for(var $=0;$<O.length;++$){var K=O[$];if(K&&K.Math==Math)return K}throw Error("Cannot find global object")}var r=n(this);function s(O,$){if($)t:{var K=r;O=O.split(".");for(var ft=0;ft<O.length-1;ft++){var Ot=O[ft];if(!(Ot in K))break t;K=K[Ot]}O=O[O.length-1],ft=K[O],$=$(ft),$!=ft&&$!=null&&e(K,O,{configurable:!0,writable:!0,value:$})}}function a(O,$){O instanceof String&&(O+="");var K=0,ft=!1,Ot={next:function(){if(!ft&&K<O.length){var Yt=K++;return{value:$(Yt,O[Yt]),done:!1}}return ft=!0,{done:!0,value:void 0}}};return Ot[Symbol.iterator]=function(){return Ot},Ot}s("Array.prototype.values",function(O){return O||function(){return a(this,function($,K){return K})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function u(O){var $=typeof O;return $=$!="object"?$:O?Array.isArray(O)?"array":$:"null",$=="array"||$=="object"&&typeof O.length=="number"}function c(O){var $=typeof O;return $=="object"&&O!=null||$=="function"}function h(O,$,K){return O.call.apply(O.bind,arguments)}function p(O,$,K){if(!O)throw Error();if(2<arguments.length){var ft=Array.prototype.slice.call(arguments,2);return function(){var Ot=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Ot,ft),O.apply($,Ot)}}return function(){return O.apply($,arguments)}}function g(O,$,K){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,g.apply(null,arguments)}function v(O,$){var K=Array.prototype.slice.call(arguments,1);return function(){var ft=K.slice();return ft.push.apply(ft,arguments),O.apply(this,ft)}}function b(O,$){function K(){}K.prototype=$.prototype,O.aa=$.prototype,O.prototype=new K,O.prototype.constructor=O,O.Qb=function(ft,Ot,Yt){for(var Ae=Array(arguments.length-2),ri=2;ri<arguments.length;ri++)Ae[ri-2]=arguments[ri];return $.prototype[Ot].apply(ft,Ae)}}function S(O){const $=O.length;if(0<$){const K=Array($);for(let ft=0;ft<$;ft++)K[ft]=O[ft];return K}return[]}function E(O,$){for(let K=1;K<arguments.length;K++){const ft=arguments[K];if(u(ft)){const Ot=O.length||0,Yt=ft.length||0;O.length=Ot+Yt;for(let Ae=0;Ae<Yt;Ae++)O[Ot+Ae]=ft[Ae]}else O.push(ft)}}class x{constructor($,K){this.i=$,this.j=K,this.h=0,this.g=null}get(){let $;return 0<this.h?(this.h--,$=this.g,this.g=$.next,$.next=null):$=this.i(),$}}function A(O){return/^[\s\xa0]*$/.test(O)}function C(){var O=l.navigator;return O&&(O=O.userAgent)?O:""}function M(O){return M[" "](O),O}M[" "]=function(){};var P=C().indexOf("Gecko")!=-1&&!(C().toLowerCase().indexOf("webkit")!=-1&&C().indexOf("Edge")==-1)&&!(C().indexOf("Trident")!=-1||C().indexOf("MSIE")!=-1)&&C().indexOf("Edge")==-1;function k(O,$,K){for(const ft in O)$.call(K,O[ft],ft,O)}function D(O,$){for(const K in O)$.call(void 0,O[K],K,O)}function N(O){const $={};for(const K in O)$[K]=O[K];return $}const U="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(O,$){let K,ft;for(let Ot=1;Ot<arguments.length;Ot++){ft=arguments[Ot];for(K in ft)O[K]=ft[K];for(let Yt=0;Yt<U.length;Yt++)K=U[Yt],Object.prototype.hasOwnProperty.call(ft,K)&&(O[K]=ft[K])}}function B(O){var $=1;O=O.split(":");const K=[];for(;0<$&&O.length;)K.push(O.shift()),$--;return O.length&&K.push(O.join(":")),K}function H(O){l.setTimeout(()=>{throw O},0)}function V(){var O=nt;let $=null;return O.g&&($=O.g,O.g=O.g.next,O.g||(O.h=null),$.next=null),$}class Y{constructor(){this.h=this.g=null}add($,K){const ft=et.get();ft.set($,K),this.h?this.h.next=ft:this.g=ft,this.h=ft}}var et=new x(()=>new G,O=>O.reset());class G{constructor(){this.next=this.g=this.h=null}set($,K){this.h=$,this.g=K,this.next=null}reset(){this.next=this.g=this.h=null}}let X,J=!1,nt=new Y,Z=()=>{const O=l.Promise.resolve(void 0);X=()=>{O.then(dt)}};var dt=()=>{for(var O;O=V();){try{O.h.call(O.g)}catch(K){H(K)}var $=et;$.j(O),100>$.h&&($.h++,O.next=$.g,$.g=O)}J=!1};function yt(){this.s=this.s,this.C=this.C}yt.prototype.s=!1,yt.prototype.ma=function(){this.s||(this.s=!0,this.N())},yt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function xt(O,$){this.type=O,this.g=this.target=$,this.defaultPrevented=!1}xt.prototype.h=function(){this.defaultPrevented=!0};var it=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var O=!1,$=Object.defineProperty({},"passive",{get:function(){O=!0}});try{const K=()=>{};l.addEventListener("test",K,$),l.removeEventListener("test",K,$)}catch{}return O}();function ht(O,$){if(xt.call(this,O?O.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,O){var K=this.type=O.type,ft=O.changedTouches&&O.changedTouches.length?O.changedTouches[0]:null;if(this.target=O.target||O.srcElement,this.g=$,$=O.relatedTarget){if(P){t:{try{M($.nodeName);var Ot=!0;break t}catch{}Ot=!1}Ot||($=null)}}else K=="mouseover"?$=O.fromElement:K=="mouseout"&&($=O.toElement);this.relatedTarget=$,ft?(this.clientX=ft.clientX!==void 0?ft.clientX:ft.pageX,this.clientY=ft.clientY!==void 0?ft.clientY:ft.pageY,this.screenX=ft.screenX||0,this.screenY=ft.screenY||0):(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0),this.button=O.button,this.key=O.key||"",this.ctrlKey=O.ctrlKey,this.altKey=O.altKey,this.shiftKey=O.shiftKey,this.metaKey=O.metaKey,this.pointerId=O.pointerId||0,this.pointerType=typeof O.pointerType=="string"?O.pointerType:lt[O.pointerType]||"",this.state=O.state,this.i=O,O.defaultPrevented&&ht.aa.h.call(this)}}b(ht,xt);var lt={2:"touch",3:"pen",4:"mouse"};ht.prototype.h=function(){ht.aa.h.call(this);var O=this.i;O.preventDefault?O.preventDefault():O.returnValue=!1};var gt="closure_listenable_"+(1e6*Math.random()|0),Tt=0;function Kt(O,$,K,ft,Ot){this.listener=O,this.proxy=null,this.src=$,this.type=K,this.capture=!!ft,this.ha=Ot,this.key=++Tt,this.da=this.fa=!1}function Ut(O){O.da=!0,O.listener=null,O.proxy=null,O.src=null,O.ha=null}function te(O){this.src=O,this.g={},this.h=0}te.prototype.add=function(O,$,K,ft,Ot){var Yt=O.toString();O=this.g[Yt],O||(O=this.g[Yt]=[],this.h++);var Ae=Bt(O,$,ft,Ot);return-1<Ae?($=O[Ae],K||($.fa=!1)):($=new Kt($,this.src,Yt,!!ft,Ot),$.fa=K,O.push($)),$};function Pt(O,$){var K=$.type;if(K in O.g){var ft=O.g[K],Ot=Array.prototype.indexOf.call(ft,$,void 0),Yt;(Yt=0<=Ot)&&Array.prototype.splice.call(ft,Ot,1),Yt&&(Ut($),O.g[K].length==0&&(delete O.g[K],O.h--))}}function Bt(O,$,K,ft){for(var Ot=0;Ot<O.length;++Ot){var Yt=O[Ot];if(!Yt.da&&Yt.listener==$&&Yt.capture==!!K&&Yt.ha==ft)return Ot}return-1}var at="closure_lm_"+(1e6*Math.random()|0),ce={};function ee(O,$,K,ft,Ot){if(Array.isArray($)){for(var Yt=0;Yt<$.length;Yt++)ee(O,$[Yt],K,ft,Ot);return null}return K=Rt(K),O&&O[gt]?O.K($,K,c(ft)?!!ft.capture:!1,Ot):ne(O,$,K,!1,ft,Ot)}function ne(O,$,K,ft,Ot,Yt){if(!$)throw Error("Invalid event type");var Ae=c(Ot)?!!Ot.capture:!!Ot,ri=ct(O);if(ri||(O[at]=ri=new te(O)),K=ri.add($,K,ft,Ae,Yt),K.proxy)return K;if(ft=ie(),K.proxy=ft,ft.src=O,ft.listener=K,O.addEventListener)it||(Ot=Ae),Ot===void 0&&(Ot=!1),O.addEventListener($.toString(),ft,Ot);else if(O.attachEvent)O.attachEvent(ut($.toString()),ft);else if(O.addListener&&O.removeListener)O.addListener(ft);else throw Error("addEventListener and attachEvent are unavailable.");return K}function ie(){function O(K){return $.call(O.src,O.listener,K)}const $=j;return O}function Me(O,$,K,ft,Ot){if(Array.isArray($))for(var Yt=0;Yt<$.length;Yt++)Me(O,$[Yt],K,ft,Ot);else ft=c(ft)?!!ft.capture:!!ft,K=Rt(K),O&&O[gt]?(O=O.i,$=String($).toString(),$ in O.g&&(Yt=O.g[$],K=Bt(Yt,K,ft,Ot),-1<K&&(Ut(Yt[K]),Array.prototype.splice.call(Yt,K,1),Yt.length==0&&(delete O.g[$],O.h--)))):O&&(O=ct(O))&&($=O.g[$.toString()],O=-1,$&&(O=Bt($,K,ft,Ot)),(K=-1<O?$[O]:null)&&le(K))}function le(O){if(typeof O!="number"&&O&&!O.da){var $=O.src;if($&&$[gt])Pt($.i,O);else{var K=O.type,ft=O.proxy;$.removeEventListener?$.removeEventListener(K,ft,O.capture):$.detachEvent?$.detachEvent(ut(K),ft):$.addListener&&$.removeListener&&$.removeListener(ft),(K=ct($))?(Pt(K,O),K.h==0&&(K.src=null,$[at]=null)):Ut(O)}}}function ut(O){return O in ce?ce[O]:ce[O]="on"+O}function j(O,$){if(O.da)O=!0;else{$=new ht($,this);var K=O.listener,ft=O.ha||O.src;O.fa&&le(O),O=K.call(ft,$)}return O}function ct(O){return O=O[at],O instanceof te?O:null}var mt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Rt(O){return typeof O=="function"?O:(O[mt]||(O[mt]=function($){return O.handleEvent($)}),O[mt])}function _t(){yt.call(this),this.i=new te(this),this.M=this,this.F=null}b(_t,yt),_t.prototype[gt]=!0,_t.prototype.removeEventListener=function(O,$,K,ft){Me(this,O,$,K,ft)};function Ct(O,$){var K,ft=O.F;if(ft)for(K=[];ft;ft=ft.F)K.push(ft);if(O=O.M,ft=$.type||$,typeof $=="string")$=new xt($,O);else if($ instanceof xt)$.target=$.target||O;else{var Ot=$;$=new xt(ft,O),R($,Ot)}if(Ot=!0,K)for(var Yt=K.length-1;0<=Yt;Yt--){var Ae=$.g=K[Yt];Ot=Lt(Ae,ft,!0,$)&&Ot}if(Ae=$.g=O,Ot=Lt(Ae,ft,!0,$)&&Ot,Ot=Lt(Ae,ft,!1,$)&&Ot,K)for(Yt=0;Yt<K.length;Yt++)Ae=$.g=K[Yt],Ot=Lt(Ae,ft,!1,$)&&Ot}_t.prototype.N=function(){if(_t.aa.N.call(this),this.i){var O=this.i,$;for($ in O.g){for(var K=O.g[$],ft=0;ft<K.length;ft++)Ut(K[ft]);delete O.g[$],O.h--}}this.F=null},_t.prototype.K=function(O,$,K,ft){return this.i.add(String(O),$,!1,K,ft)},_t.prototype.L=function(O,$,K,ft){return this.i.add(String(O),$,!0,K,ft)};function Lt(O,$,K,ft){if($=O.i.g[String($)],!$)return!0;$=$.concat();for(var Ot=!0,Yt=0;Yt<$.length;++Yt){var Ae=$[Yt];if(Ae&&!Ae.da&&Ae.capture==K){var ri=Ae.listener,gr=Ae.ha||Ae.src;Ae.fa&&Pt(O.i,Ae),Ot=ri.call(gr,ft)!==!1&&Ot}}return Ot&&!ft.defaultPrevented}function Jt(O,$,K){if(typeof O=="function")K&&(O=g(O,K));else if(O&&typeof O.handleEvent=="function")O=g(O.handleEvent,O);else throw Error("Invalid listener argument");return 2147483647<Number($)?-1:l.setTimeout(O,$||0)}function Le(O){O.g=Jt(()=>{O.g=null,O.i&&(O.i=!1,Le(O))},O.l);const $=O.h;O.h=null,O.m.apply(null,$)}class Ht extends yt{constructor($,K){super(),this.m=$,this.l=K,this.h=null,this.i=!1,this.g=null}j($){this.h=arguments,this.g?this.i=!0:Le(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _e(O){yt.call(this),this.h=O,this.g={}}b(_e,yt);var Re=[];function Oe(O){k(O.g,function($,K){this.g.hasOwnProperty(K)&&le($)},O),O.g={}}_e.prototype.N=function(){_e.aa.N.call(this),Oe(this)},_e.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zt=l.JSON.stringify,Ie=l.JSON.parse,Ue=class{stringify(O){return l.JSON.stringify(O,void 0)}parse(O){return l.JSON.parse(O,void 0)}};function ln(){}ln.prototype.h=null;function wt(O){return O.h||(O.h=O.i())}function Ce(){}var Xt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function se(){xt.call(this,"d")}b(se,xt);function Pe(){xt.call(this,"c")}b(Pe,xt);var Se={},cn=null;function Qn(){return cn=cn||new _t}Se.La="serverreachability";function je(O){xt.call(this,Se.La,O)}b(je,xt);function en(O){const $=Qn();Ct($,new je($))}Se.STAT_EVENT="statevent";function Ee(O,$){xt.call(this,Se.STAT_EVENT,O),this.stat=$}b(Ee,xt);function ye(O){const $=Qn();Ct($,new Ee($,O))}Se.Ma="timingevent";function Qe(O,$){xt.call(this,Se.Ma,O),this.size=$}b(Qe,xt);function Ye(O,$){if(typeof O!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){O()},$)}function Mn(){this.g=!0}Mn.prototype.xa=function(){this.g=!1};function Hi(O,$,K,ft,Ot,Yt){O.info(function(){if(O.g)if(Yt)for(var Ae="",ri=Yt.split("&"),gr=0;gr<ri.length;gr++){var si=ri[gr].split("=");if(1<si.length){var Dr=si[0];si=si[1];var Kr=Dr.split("_");Ae=2<=Kr.length&&Kr[1]=="type"?Ae+(Dr+"="+si+"&"):Ae+(Dr+"=redacted&")}}else Ae=null;else Ae=Yt;return"XMLHTTP REQ ("+ft+") [attempt "+Ot+"]: "+$+`
`+K+`
`+Ae})}function ra(O,$,K,ft,Ot,Yt,Ae){O.info(function(){return"XMLHTTP RESP ("+ft+") [ attempt "+Ot+"]: "+$+`
`+K+`
`+Yt+" "+Ae})}function lr(O,$,K,ft){O.info(function(){return"XMLHTTP TEXT ("+$+"): "+Ds(O,K)+(ft?" "+ft:"")})}function Wr(O,$){O.info(function(){return"TIMEOUT: "+$})}Mn.prototype.info=function(){};function Ds(O,$){if(!O.g)return $;if(!$)return null;try{var K=JSON.parse($);if(K){for(O=0;O<K.length;O++)if(Array.isArray(K[O])){var ft=K[O];if(!(2>ft.length)){var Ot=ft[1];if(Array.isArray(Ot)&&!(1>Ot.length)){var Yt=Ot[0];if(Yt!="noop"&&Yt!="stop"&&Yt!="close")for(var Ae=1;Ae<Ot.length;Ae++)Ot[Ae]=""}}}}return Zt(K)}catch{return $}}var pi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Aa={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},sa;function eo(){}b(eo,ln),eo.prototype.g=function(){return new XMLHttpRequest},eo.prototype.i=function(){return{}},sa=new eo;function _s(O,$,K,ft){this.j=O,this.i=$,this.l=K,this.R=ft||1,this.U=new _e(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new hr}function hr(){this.i=null,this.g="",this.h=!1}var Wu={},iu={};function aa(O,$,K){O.L=1,O.v=pr(Yr($)),O.m=K,O.P=!0,rt(O,null)}function rt(O,$){O.F=Date.now(),jt(O),O.A=Yr(O.v);var K=O.A,ft=O.R;Array.isArray(ft)||(ft=[String(ft)]),qd(K.i,"t",ft),O.C=0,K=O.j.J,O.h=new hr,O.g=ko(O.j,K?$:null,!O.m),0<O.O&&(O.M=new Ht(g(O.Y,O,O.g),O.O)),$=O.U,K=O.g,ft=O.ca;var Ot="readystatechange";Array.isArray(Ot)||(Ot&&(Re[0]=Ot.toString()),Ot=Re);for(var Yt=0;Yt<Ot.length;Yt++){var Ae=ee(K,Ot[Yt],ft||$.handleEvent,!1,$.h||$);if(!Ae)break;$.g[Ae.key]=Ae}$=O.H?N(O.H):{},O.m?(O.u||(O.u="POST"),$["Content-Type"]="application/x-www-form-urlencoded",O.g.ea(O.A,O.u,O.m,$)):(O.u="GET",O.g.ea(O.A,O.u,null,$)),en(),Hi(O.i,O.u,O.A,O.l,O.R,O.m)}_s.prototype.ca=function(O){O=O.target;const $=this.M;$&&io(O)==3?$.j():this.Y(O)},_s.prototype.Y=function(O){try{if(O==this.g)t:{const Kr=io(this.g);var $=this.g.Ba();const Nr=this.g.Z();if(!(3>Kr)&&(Kr!=3||this.g&&(this.h.h||this.g.oa()||qm(this.g)))){this.J||Kr!=4||$==7||($==8||0>=Nr?en(3):en(2)),pe(this);var K=this.g.Z();this.X=K;e:if(St(this)){var ft=qm(this.g);O="";var Ot=ft.length,Yt=io(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){we(this),Te(this);var Ae="";break e}this.h.i=new l.TextDecoder}for($=0;$<Ot;$++)this.h.h=!0,O+=this.h.i.decode(ft[$],{stream:!(Yt&&$==Ot-1)});ft.length=0,this.h.g+=O,this.C=0,Ae=this.h.g}else Ae=this.g.oa();if(this.o=K==200,ra(this.i,this.u,this.A,this.l,this.R,Kr,K),this.o){if(this.T&&!this.K){e:{if(this.g){var ri,gr=this.g;if((ri=gr.g?gr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(ri)){var si=ri;break e}}si=null}if(K=si)lr(this.i,this.l,K,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fe(this,K);else{this.o=!1,this.s=3,ye(12),we(this),Te(this);break t}}if(this.P){K=!0;let bs;for(;!this.J&&this.C<Ae.length;)if(bs=Ft(this,Ae),bs==iu){Kr==4&&(this.s=4,ye(14),K=!1),lr(this.i,this.l,null,"[Incomplete Response]");break}else if(bs==Wu){this.s=4,ye(15),lr(this.i,this.l,Ae,"[Invalid Chunk]"),K=!1;break}else lr(this.i,this.l,bs,null),Fe(this,bs);if(St(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Kr!=4||Ae.length!=0||this.h.h||(this.s=1,ye(16),K=!1),this.o=this.o&&K,!K)lr(this.i,this.l,Ae,"[Invalid Chunked Response]"),we(this),Te(this);else if(0<Ae.length&&!this.W){this.W=!0;var Dr=this.j;Dr.g==this&&Dr.ba&&!Dr.M&&(Dr.j.info("Great, no buffering proxy detected. Bytes received: "+Ae.length),Zu(Dr),Dr.M=!0,ye(11))}}else lr(this.i,this.l,Ae,null),Fe(this,Ae);Kr==4&&we(this),this.o&&!this.J&&(Kr==4?Yd(this.j,this):(this.o=!1,jt(this)))}else Rb(this.g),K==400&&0<Ae.indexOf("Unknown SID")?(this.s=3,ye(12)):(this.s=0,ye(13)),we(this),Te(this)}}}catch{}finally{}};function St(O){return O.g?O.u=="GET"&&O.L!=2&&O.j.Ca:!1}function Ft(O,$){var K=O.C,ft=$.indexOf(`
`,K);return ft==-1?iu:(K=Number($.substring(K,ft)),isNaN(K)?Wu:(ft+=1,ft+K>$.length?iu:($=$.slice(ft,ft+K),O.C=ft+K,$)))}_s.prototype.cancel=function(){this.J=!0,we(this)};function jt(O){O.S=Date.now()+O.I,It(O,O.I)}function It(O,$){if(O.B!=null)throw Error("WatchDog timer not null");O.B=Ye(g(O.ba,O),$)}function pe(O){O.B&&(l.clearTimeout(O.B),O.B=null)}_s.prototype.ba=function(){this.B=null;const O=Date.now();0<=O-this.S?(Wr(this.i,this.A),this.L!=2&&(en(),ye(17)),we(this),this.s=2,Te(this)):It(this,this.S-O)};function Te(O){O.j.G==0||O.J||Yd(O.j,O)}function we(O){pe(O);var $=O.M;$&&typeof $.ma=="function"&&$.ma(),O.M=null,Oe(O.U),O.g&&($=O.g,O.g=null,$.abort(),$.ma())}function Fe(O,$){try{var K=O.j;if(K.G!=0&&(K.g==O||ti(K.h,O))){if(!O.K&&ti(K.h,O)&&K.G==3){try{var ft=K.Da.g.parse($)}catch{ft=null}if(Array.isArray(ft)&&ft.length==3){var Ot=ft;if(Ot[0]==0){t:if(!K.u){if(K.g)if(K.g.F+3e3<O.F)Qc(K),_h(K);else break t;Eh(K),ye(18)}}else K.za=Ot[1],0<K.za-K.T&&37500>Ot[2]&&K.F&&K.v==0&&!K.C&&(K.C=Ye(g(K.Za,K),6e3));if(1>=Fn(K.h)&&K.ca){try{K.ca()}catch{}K.ca=void 0}}else au(K,11)}else if((O.K||K.g==O)&&Qc(K),!A($))for(Ot=K.Da.g.parse($),$=0;$<Ot.length;$++){let si=Ot[$];if(K.T=si[0],si=si[1],K.G==2)if(si[0]=="c"){K.K=si[1],K.ia=si[2];const Dr=si[3];Dr!=null&&(K.la=Dr,K.j.info("VER="+K.la));const Kr=si[4];Kr!=null&&(K.Aa=Kr,K.j.info("SVER="+K.Aa));const Nr=si[5];Nr!=null&&typeof Nr=="number"&&0<Nr&&(ft=1.5*Nr,K.L=ft,K.j.info("backChannelRequestTimeoutMs_="+ft)),ft=K;const bs=O.g;if(bs){const Fo=bs.g?bs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fo){var Yt=ft.h;Yt.g||Fo.indexOf("spdy")==-1&&Fo.indexOf("quic")==-1&&Fo.indexOf("h2")==-1||(Yt.j=Yt.l,Yt.g=new Set,Yt.h&&(Ui(Yt,Yt.h),Yt.h=null))}if(ft.D){const Jd=bs.g?bs.g.getResponseHeader("X-HTTP-Session-Id"):null;Jd&&(ft.ya=Jd,On(ft.I,ft.D,Jd))}}K.G=3,K.l&&K.l.ua(),K.ba&&(K.R=Date.now()-O.F,K.j.info("Handshake RTT: "+K.R+"ms")),ft=K;var Ae=O;if(ft.qa=Zm(ft,ft.J?ft.ia:null,ft.W),Ae.K){jn(ft.h,Ae);var ri=Ae,gr=ft.L;gr&&(ri.I=gr),ri.B&&(pe(ri),jt(ri)),ft.g=Ae}else Ym(ft);0<K.i.length&&bh(K)}else si[0]!="stop"&&si[0]!="close"||au(K,7);else K.G==3&&(si[0]=="stop"||si[0]=="close"?si[0]=="stop"?au(K,7):Xd(K):si[0]!="noop"&&K.l&&K.l.ta(si),K.v=0)}}en(4)}catch{}}var pn=class{constructor(O,$){this.g=O,this.map=$}};function nn(O){this.l=O||10,l.PerformanceNavigationTiming?(O=l.performance.getEntriesByType("navigation"),O=0<O.length&&(O[0].nextHopProtocol=="hq"||O[0].nextHopProtocol=="h2")):O=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=O?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function We(O){return O.h?!0:O.g?O.g.size>=O.j:!1}function Fn(O){return O.h?1:O.g?O.g.size:0}function ti(O,$){return O.h?O.h==$:O.g?O.g.has($):!1}function Ui(O,$){O.g?O.g.add($):O.h=$}function jn(O,$){O.h&&O.h==$?O.h=null:O.g&&O.g.has($)&&O.g.delete($)}nn.prototype.cancel=function(){if(this.i=Xn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const O of this.g.values())O.cancel();this.g.clear()}};function Xn(O){if(O.h!=null)return O.i.concat(O.h.D);if(O.g!=null&&O.g.size!==0){let $=O.i;for(const K of O.g.values())$=$.concat(K.D);return $}return S(O.i)}function rn(O){if(O.V&&typeof O.V=="function")return O.V();if(typeof Map<"u"&&O instanceof Map||typeof Set<"u"&&O instanceof Set)return Array.from(O.values());if(typeof O=="string")return O.split("");if(u(O)){for(var $=[],K=O.length,ft=0;ft<K;ft++)$.push(O[ft]);return $}$=[],K=0;for(ft in O)$[K++]=O[ft];return $}function er(O){if(O.na&&typeof O.na=="function")return O.na();if(!O.V||typeof O.V!="function"){if(typeof Map<"u"&&O instanceof Map)return Array.from(O.keys());if(!(typeof Set<"u"&&O instanceof Set)){if(u(O)||typeof O=="string"){var $=[];O=O.length;for(var K=0;K<O;K++)$.push(K);return $}$=[],K=0;for(const ft in O)$[K++]=ft;return $}}}function ei(O,$){if(O.forEach&&typeof O.forEach=="function")O.forEach($,void 0);else if(u(O)||typeof O=="string")Array.prototype.forEach.call(O,$,void 0);else for(var K=er(O),ft=rn(O),Ot=ft.length,Yt=0;Yt<Ot;Yt++)$.call(void 0,ft[Yt],K&&K[Yt],O)}var Xr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Io(O,$){if(O){O=O.split("&");for(var K=0;K<O.length;K++){var ft=O[K].indexOf("="),Ot=null;if(0<=ft){var Yt=O[K].substring(0,ft);Ot=O[K].substring(ft+1)}else Yt=O[K];$(Yt,Ot?decodeURIComponent(Ot.replace(/\+/g," ")):"")}}}function li(O){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,O instanceof li){this.h=O.h,mi(this,O.j),this.o=O.o,this.g=O.g,Sr(this,O.s),this.l=O.l;var $=O.i,K=new ru;K.i=$.i,$.g&&(K.g=new Map($.g),K.h=$.h),dr(this,K),this.m=O.m}else O&&($=String(O).match(Xr))?(this.h=!1,mi(this,$[1]||"",!0),this.o=Ir($[2]||""),this.g=Ir($[3]||"",!0),Sr(this,$[4]),this.l=Ir($[5]||"",!0),dr(this,$[6]||"",!0),this.m=Ir($[7]||"")):(this.h=!1,this.i=new ru(null,this.h))}li.prototype.toString=function(){var O=[],$=this.j;$&&O.push(qs($,Gc,!0),":");var K=this.g;return(K||$=="file")&&(O.push("//"),($=this.o)&&O.push(qs($,Gc,!0),"@"),O.push(encodeURIComponent(String(K)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),K=this.s,K!=null&&O.push(":",String(K))),(K=this.l)&&(this.g&&K.charAt(0)!="/"&&O.push("/"),O.push(qs(K,K.charAt(0)=="/"?jm:$d,!0))),(K=this.i.toString())&&O.push("?",K),(K=this.m)&&O.push("#",qs(K,yh)),O.join("")};function Yr(O){return new li(O)}function mi(O,$,K){O.j=K?Ir($,!0):$,O.j&&(O.j=O.j.replace(/:$/,""))}function Sr(O,$){if($){if($=Number($),isNaN($)||0>$)throw Error("Bad port number "+$);O.s=$}else O.s=null}function dr(O,$,K){$ instanceof ru?(O.i=$,Gm(O.i,O.h)):(K||($=qs($,g0)),O.i=new ru($,O.h))}function On(O,$,K){O.i.set($,K)}function pr(O){return On(O,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),O}function Ir(O,$){return O?$?decodeURI(O.replace(/%25/g,"%2525")):decodeURIComponent(O):""}function qs(O,$,K){return typeof O=="string"?(O=encodeURI(O).replace($,gh),K&&(O=O.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),O):null}function gh(O){return O=O.charCodeAt(0),"%"+(O>>4&15).toString(16)+(O&15).toString(16)}var Gc=/[#\/\?@]/g,$d=/[#\?:]/g,jm=/[#\?]/g,g0=/[#\?@]/g,yh=/#/g;function ru(O,$){this.h=this.g=null,this.i=O||null,this.j=!!$}function no(O){O.g||(O.g=new Map,O.h=0,O.i&&Io(O.i,function($,K){O.add(decodeURIComponent($.replace(/\+/g," ")),K)}))}i=ru.prototype,i.add=function(O,$){no(this),this.i=null,O=Do(this,O);var K=this.g.get(O);return K||this.g.set(O,K=[]),K.push($),this.h+=1,this};function Tl(O,$){no(O),$=Do(O,$),O.g.has($)&&(O.i=null,O.h-=O.g.get($).length,O.g.delete($))}function su(O,$){return no(O),$=Do(O,$),O.g.has($)}i.forEach=function(O,$){no(this),this.g.forEach(function(K,ft){K.forEach(function(Ot){O.call($,Ot,ft,this)},this)},this)},i.na=function(){no(this);const O=Array.from(this.g.values()),$=Array.from(this.g.keys()),K=[];for(let ft=0;ft<$.length;ft++){const Ot=O[ft];for(let Yt=0;Yt<Ot.length;Yt++)K.push($[ft])}return K},i.V=function(O){no(this);let $=[];if(typeof O=="string")su(this,O)&&($=$.concat(this.g.get(Do(this,O))));else{O=Array.from(this.g.values());for(let K=0;K<O.length;K++)$=$.concat(O[K])}return $},i.set=function(O,$){return no(this),this.i=null,O=Do(this,O),su(this,O)&&(this.h-=this.g.get(O).length),this.g.set(O,[$]),this.h+=1,this},i.get=function(O,$){return O?(O=this.V(O),0<O.length?String(O[0]):$):$};function qd(O,$,K){Tl(O,$),0<K.length&&(O.i=null,O.g.set(Do(O,$),S(K)),O.h+=K.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const O=[],$=Array.from(this.g.keys());for(var K=0;K<$.length;K++){var ft=$[K];const Yt=encodeURIComponent(String(ft)),Ae=this.V(ft);for(ft=0;ft<Ae.length;ft++){var Ot=Yt;Ae[ft]!==""&&(Ot+="="+encodeURIComponent(String(Ae[ft]))),O.push(Ot)}}return this.i=O.join("&")};function Do(O,$){return $=String($),O.j&&($=$.toLowerCase()),$}function Gm(O,$){$&&!O.j&&(no(O),O.i=null,O.g.forEach(function(K,ft){var Ot=ft.toLowerCase();ft!=Ot&&(Tl(this,ft),qd(this,Ot,K))},O)),O.j=$}function $c(O,$){const K=new Mn;if(l.Image){const ft=new Image;ft.onload=v(Ma,K,"TestLoadImage: loaded",!0,$,ft),ft.onerror=v(Ma,K,"TestLoadImage: error",!1,$,ft),ft.onabort=v(Ma,K,"TestLoadImage: abort",!1,$,ft),ft.ontimeout=v(Ma,K,"TestLoadImage: timeout",!1,$,ft),l.setTimeout(function(){ft.ontimeout&&ft.ontimeout()},1e4),ft.src=O}else $(!1)}function No(O,$){const K=new Mn,ft=new AbortController,Ot=setTimeout(()=>{ft.abort(),Ma(K,"TestPingServer: timeout",!1,$)},1e4);fetch(O,{signal:ft.signal}).then(Yt=>{clearTimeout(Ot),Yt.ok?Ma(K,"TestPingServer: ok",!0,$):Ma(K,"TestPingServer: server error",!1,$)}).catch(()=>{clearTimeout(Ot),Ma(K,"TestPingServer: error",!1,$)})}function Ma(O,$,K,ft,Ot){try{Ot&&(Ot.onload=null,Ot.onerror=null,Ot.onabort=null,Ot.ontimeout=null),ft(K)}catch{}}function qc(){this.g=new Ue}function wl(O,$,K){const ft=K||"";try{ei(O,function(Ot,Yt){let Ae=Ot;c(Ot)&&(Ae=Zt(Ot)),$.push(ft+Yt+"="+encodeURIComponent(Ae))})}catch(Ot){throw $.push(ft+"type="+encodeURIComponent("_badmap")),Ot}}function Wc(O){this.l=O.Ub||null,this.j=O.eb||!1}b(Wc,ln),Wc.prototype.g=function(){return new Xu(this.l,this.j)},Wc.prototype.i=function(O){return function(){return O}}({});function Xu(O,$){_t.call(this),this.D=O,this.o=$,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(Xu,_t),i=Xu.prototype,i.open=function(O,$){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=O,this.A=$,this.readyState=1,Lo(this)},i.send=function(O){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const $={headers:this.u,method:this.B,credentials:this.m,cache:void 0};O&&($.body=O),(this.D||l).fetch(new Request(this.A,$)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ca(this)),this.readyState=0},i.Sa=function(O){if(this.g&&(this.l=O,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=O.headers,this.readyState=2,Lo(this)),this.g&&(this.readyState=3,Lo(this),this.g)))if(this.responseType==="arraybuffer")O.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in O){if(this.j=O.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Wd(this)}else O.text().then(this.Ra.bind(this),this.ga.bind(this))};function Wd(O){O.j.read().then(O.Pa.bind(O)).catch(O.ga.bind(O))}i.Pa=function(O){if(this.g){if(this.o&&O.value)this.response.push(O.value);else if(!this.o){var $=O.value?O.value:new Uint8Array(0);($=this.v.decode($,{stream:!O.done}))&&(this.response=this.responseText+=$)}O.done?Ca(this):Lo(this),this.readyState==3&&Wd(this)}},i.Ra=function(O){this.g&&(this.response=this.responseText=O,Ca(this))},i.Qa=function(O){this.g&&(this.response=O,Ca(this))},i.ga=function(){this.g&&Ca(this)};function Ca(O){O.readyState=4,O.l=null,O.j=null,O.v=null,Lo(O)}i.setRequestHeader=function(O,$){this.u.append(O,$)},i.getResponseHeader=function(O){return this.h&&this.h.get(O.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const O=[],$=this.h.entries();for(var K=$.next();!K.done;)K=K.value,O.push(K[0]+": "+K[1]),K=$.next();return O.join(`\r
`)};function Lo(O){O.onreadystatechange&&O.onreadystatechange.call(O)}Object.defineProperty(Xu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(O){this.m=O?"include":"same-origin"}});function Xc(O){let $="";return k(O,function(K,ft){$+=ft,$+=":",$+=K,$+=`\r
`}),$}function os(O,$,K){t:{for(ft in K){var ft=!1;break t}ft=!0}ft||(K=Xc(K),typeof O=="string"?K!=null&&encodeURIComponent(String(K)):On(O,$,K))}function Ti(O){_t.call(this),this.headers=new Map,this.o=O||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(Ti,_t);var Yc=/^https?$/i,Kc=["POST","PUT"];i=Ti.prototype,i.Ha=function(O){this.J=O},i.ea=function(O,$,K,ft){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+O);$=$?$.toUpperCase():"GET",this.D=O,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():sa.g(),this.v=this.o?wt(this.o):wt(sa),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open($,String(O),!0),this.B=!1}catch(Yt){$m(this,Yt);return}if(O=K||"",K=new Map(this.headers),ft)if(Object.getPrototypeOf(ft)===Object.prototype)for(var Ot in ft)K.set(Ot,ft[Ot]);else if(typeof ft.keys=="function"&&typeof ft.get=="function")for(const Yt of ft.keys())K.set(Yt,ft.get(Yt));else throw Error("Unknown input type for opt_headers: "+String(ft));ft=Array.from(K.keys()).find(Yt=>Yt.toLowerCase()=="content-type"),Ot=l.FormData&&O instanceof l.FormData,!(0<=Array.prototype.indexOf.call(Kc,$,void 0))||ft||Ot||K.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Yt,Ae]of K)this.g.setRequestHeader(Yt,Ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ku(this),this.u=!0,this.g.send(O),this.u=!1}catch(Yt){$m(this,Yt)}};function $m(O,$){O.h=!1,O.g&&(O.j=!0,O.g.abort(),O.j=!1),O.l=$,O.m=5,Uo(O),Al(O)}function Uo(O){O.A||(O.A=!0,Ct(O,"complete"),Ct(O,"error"))}i.abort=function(O){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=O||7,Ct(this,"complete"),Ct(this,"abort"),Al(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Al(this,!0)),Ti.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Yu(this):this.bb())},i.bb=function(){Yu(this)};function Yu(O){if(O.h&&typeof o<"u"&&(!O.v[1]||io(O)!=4||O.Z()!=2)){if(O.u&&io(O)==4)Jt(O.Ea,0,O);else if(Ct(O,"readystatechange"),io(O)==4){O.h=!1;try{const Ae=O.Z();t:switch(Ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var $=!0;break t;default:$=!1}var K;if(!(K=$)){var ft;if(ft=Ae===0){var Ot=String(O.D).match(Xr)[1]||null;!Ot&&l.self&&l.self.location&&(Ot=l.self.location.protocol.slice(0,-1)),ft=!Yc.test(Ot?Ot.toLowerCase():"")}K=ft}if(K)Ct(O,"complete"),Ct(O,"success");else{O.m=6;try{var Yt=2<io(O)?O.g.statusText:""}catch{Yt=""}O.l=Yt+" ["+O.Z()+"]",Uo(O)}}finally{Al(O)}}}}function Al(O,$){if(O.g){Ku(O);const K=O.g,ft=O.v[0]?()=>{}:null;O.g=null,O.v=null,$||Ct(O,"ready");try{K.onreadystatechange=ft}catch{}}}function Ku(O){O.I&&(l.clearTimeout(O.I),O.I=null)}i.isActive=function(){return!!this.g};function io(O){return O.g?O.g.readyState:0}i.Z=function(){try{return 2<io(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(O){if(this.g){var $=this.g.responseText;return O&&$.indexOf(O)==0&&($=$.substring(O.length)),Ie($)}};function qm(O){try{if(!O.g)return null;if("response"in O.g)return O.g.response;switch(O.H){case"":case"text":return O.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in O.g)return O.g.mozResponseArrayBuffer}return null}catch{return null}}function Rb(O){const $={};O=(O.g&&2<=io(O)&&O.g.getAllResponseHeaders()||"").split(`\r
`);for(let ft=0;ft<O.length;ft++){if(A(O[ft]))continue;var K=B(O[ft]);const Ot=K[0];if(K=K[1],typeof K!="string")continue;K=K.trim();const Yt=$[Ot]||[];$[Ot]=Yt,Yt.push(K)}D($,function(ft){return ft.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function mr(O,$,K){return K&&K.internalChannelParams&&K.internalChannelParams[O]||$}function vh(O){this.Aa=0,this.i=[],this.j=new Mn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=mr("failFast",!1,O),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=mr("baseRetryDelayMs",5e3,O),this.cb=mr("retryDelaySeedMs",1e4,O),this.Wa=mr("forwardChannelMaxRetries",2,O),this.wa=mr("forwardChannelRequestTimeoutMs",2e4,O),this.pa=O&&O.xmlHttpFactory||void 0,this.Xa=O&&O.Tb||void 0,this.Ca=O&&O.useFetchStreams||!1,this.L=void 0,this.J=O&&O.supportsCrossDomainXhr||!1,this.K="",this.h=new nn(O&&O.concurrentRequestLimit),this.Da=new qc,this.P=O&&O.fastHandshake||!1,this.O=O&&O.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=O&&O.Rb||!1,O&&O.xa&&this.j.xa(),O&&O.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&O&&O.detectBufferingProxy||!1,this.ja=void 0,O&&O.longPollingTimeout&&0<O.longPollingTimeout&&(this.ja=O.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=vh.prototype,i.la=8,i.G=1,i.connect=function(O,$,K,ft){ye(0),this.W=O,this.H=$||{},K&&ft!==void 0&&(this.H.OSID=K,this.H.OAID=ft),this.F=this.X,this.I=Zm(this,null,this.W),bh(this)};function Xd(O){if(Wm(O),O.G==3){var $=O.U++,K=Yr(O.I);if(On(K,"SID",O.K),On(K,"RID",$),On(K,"TYPE","terminate"),Zc(O,K),$=new _s(O,O.j,$),$.L=2,$.v=pr(Yr(K)),K=!1,l.navigator&&l.navigator.sendBeacon)try{K=l.navigator.sendBeacon($.v.toString(),"")}catch{}!K&&l.Image&&(new Image().src=$.v,K=!0),K||($.g=ko($.j,null),$.g.ea($.v)),$.F=Date.now(),jt($)}Kd(O)}function _h(O){O.g&&(Zu(O),O.g.cancel(),O.g=null)}function Wm(O){_h(O),O.u&&(l.clearTimeout(O.u),O.u=null),Qc(O),O.h.cancel(),O.s&&(typeof O.s=="number"&&l.clearTimeout(O.s),O.s=null)}function bh(O){if(!We(O.h)&&!O.s){O.s=!0;var $=O.Ga;X||Z(),J||(X(),J=!0),nt.add($,O),O.B=0}}function xh(O,$){return Fn(O.h)>=O.h.j-(O.s?1:0)?!1:O.s?(O.i=$.D.concat(O.i),!0):O.G==1||O.G==2||O.B>=(O.Va?0:O.Wa)?!1:(O.s=Ye(g(O.Ga,O,$),Th(O,O.B)),O.B++,!0)}i.Ga=function(O){if(this.s)if(this.s=null,this.G==1){if(!O){this.U=Math.floor(1e5*Math.random()),O=this.U++;const Ot=new _s(this,this.j,O);let Yt=this.o;if(this.S&&(Yt?(Yt=N(Yt),R(Yt,this.S)):Yt=this.S),this.m!==null||this.O||(Ot.H=Yt,Yt=null),this.P)t:{for(var $=0,K=0;K<this.i.length;K++){e:{var ft=this.i[K];if("__data__"in ft.map&&(ft=ft.map.__data__,typeof ft=="string")){ft=ft.length;break e}ft=void 0}if(ft===void 0)break;if($+=ft,4096<$){$=K;break t}if($===4096||K===this.i.length-1){$=K+1;break t}}$=1e3}else $=1e3;$=Xm(this,Ot,$),K=Yr(this.I),On(K,"RID",O),On(K,"CVER",22),this.D&&On(K,"X-HTTP-Session-Id",this.D),Zc(this,K),Yt&&(this.O?$="headers="+encodeURIComponent(String(Xc(Yt)))+"&"+$:this.m&&os(K,this.m,Yt)),Ui(this.h,Ot),this.Ua&&On(K,"TYPE","init"),this.P?(On(K,"$req",$),On(K,"SID","null"),Ot.T=!0,aa(Ot,K,null)):aa(Ot,K,$),this.G=2}}else this.G==3&&(O?Sh(this,O):this.i.length==0||We(this.h)||Sh(this))};function Sh(O,$){var K;$?K=$.l:K=O.U++;const ft=Yr(O.I);On(ft,"SID",O.K),On(ft,"RID",K),On(ft,"AID",O.T),Zc(O,ft),O.m&&O.o&&os(ft,O.m,O.o),K=new _s(O,O.j,K,O.B+1),O.m===null&&(K.H=O.o),$&&(O.i=$.D.concat(O.i)),$=Xm(O,K,1e3),K.I=Math.round(.5*O.wa)+Math.round(.5*O.wa*Math.random()),Ui(O.h,K),aa(K,ft,$)}function Zc(O,$){O.H&&k(O.H,function(K,ft){On($,ft,K)}),O.l&&ei({},function(K,ft){On($,ft,K)})}function Xm(O,$,K){K=Math.min(O.i.length,K);var ft=O.l?g(O.l.Na,O.l,O):null;t:{var Ot=O.i;let Yt=-1;for(;;){const Ae=["count="+K];Yt==-1?0<K?(Yt=Ot[0].g,Ae.push("ofs="+Yt)):Yt=0:Ae.push("ofs="+Yt);let ri=!0;for(let gr=0;gr<K;gr++){let si=Ot[gr].g;const Dr=Ot[gr].map;if(si-=Yt,0>si)Yt=Math.max(0,Ot[gr].g-100),ri=!1;else try{wl(Dr,Ae,"req"+si+"_")}catch{ft&&ft(Dr)}}if(ri){ft=Ae.join("&");break t}}}return O=O.i.splice(0,K),$.D=O,ft}function Ym(O){if(!O.g&&!O.u){O.Y=1;var $=O.Fa;X||Z(),J||(X(),J=!0),nt.add($,O),O.v=0}}function Eh(O){return O.g||O.u||3<=O.v?!1:(O.Y++,O.u=Ye(g(O.Fa,O),Th(O,O.v)),O.v++,!0)}i.Fa=function(){if(this.u=null,Km(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var O=2*this.R;this.j.info("BP detection timer enabled: "+O),this.A=Ye(g(this.ab,this),O)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ye(10),_h(this),Km(this))};function Zu(O){O.A!=null&&(l.clearTimeout(O.A),O.A=null)}function Km(O){O.g=new _s(O,O.j,"rpc",O.Y),O.m===null&&(O.g.H=O.o),O.g.O=0;var $=Yr(O.qa);On($,"RID","rpc"),On($,"SID",O.K),On($,"AID",O.T),On($,"CI",O.F?"0":"1"),!O.F&&O.ja&&On($,"TO",O.ja),On($,"TYPE","xmlhttp"),Zc(O,$),O.m&&O.o&&os($,O.m,O.o),O.L&&(O.g.I=O.L);var K=O.g;O=O.ia,K.L=1,K.v=pr(Yr($)),K.m=null,K.P=!0,rt(K,O)}i.Za=function(){this.C!=null&&(this.C=null,_h(this),Eh(this),ye(19))};function Qc(O){O.C!=null&&(l.clearTimeout(O.C),O.C=null)}function Yd(O,$){var K=null;if(O.g==$){Qc(O),Zu(O),O.g=null;var ft=2}else if(ti(O.h,$))K=$.D,jn(O.h,$),ft=1;else return;if(O.G!=0){if($.o)if(ft==1){K=$.m?$.m.length:0,$=Date.now()-$.F;var Ot=O.B;ft=Qn(),Ct(ft,new Qe(ft,K)),bh(O)}else Ym(O);else if(Ot=$.s,Ot==3||Ot==0&&0<$.X||!(ft==1&&xh(O,$)||ft==2&&Eh(O)))switch(K&&0<K.length&&($=O.h,$.i=$.i.concat(K)),Ot){case 1:au(O,5);break;case 4:au(O,10);break;case 3:au(O,6);break;default:au(O,2)}}}function Th(O,$){let K=O.Ta+Math.floor(Math.random()*O.cb);return O.isActive()||(K*=2),K*$}function au(O,$){if(O.j.info("Error code "+$),$==2){var K=g(O.fb,O),ft=O.Xa;const Ot=!ft;ft=new li(ft||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||mi(ft,"https"),pr(ft),Ot?$c(ft.toString(),K):No(ft.toString(),K)}else ye(2);O.G=0,O.l&&O.l.sa($),Kd(O),Wm(O)}i.fb=function(O){O?(this.j.info("Successfully pinged google.com"),ye(2)):(this.j.info("Failed to ping google.com"),ye(1))};function Kd(O){if(O.G=0,O.ka=[],O.l){const $=Xn(O.h);($.length!=0||O.i.length!=0)&&(E(O.ka,$),E(O.ka,O.i),O.h.i.length=0,S(O.i),O.i.length=0),O.l.ra()}}function Zm(O,$,K){var ft=K instanceof li?Yr(K):new li(K);if(ft.g!="")$&&(ft.g=$+"."+ft.g),Sr(ft,ft.s);else{var Ot=l.location;ft=Ot.protocol,$=$?$+"."+Ot.hostname:Ot.hostname,Ot=+Ot.port;var Yt=new li(null);ft&&mi(Yt,ft),$&&(Yt.g=$),Ot&&Sr(Yt,Ot),K&&(Yt.l=K),ft=Yt}return K=O.D,$=O.ya,K&&$&&On(ft,K,$),On(ft,"VER",O.la),Zc(O,ft),ft}function ko(O,$,K){if($&&!O.J)throw Error("Can't create secondary domain capable XhrIo object.");return $=O.Ca&&!O.pa?new Ti(new Wc({eb:K})):new Ti(O.pa),$.Ha(O.J),$}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Zd(){}i=Zd.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Qd(){}Qd.prototype.g=function(O,$){return new Ws(O,$)};function Ws(O,$){_t.call(this),this.g=new vh($),this.l=O,this.h=$&&$.messageUrlParams||null,O=$&&$.messageHeaders||null,$&&$.clientProtocolHeaderRequired&&(O?O["X-Client-Protocol"]="webchannel":O={"X-Client-Protocol":"webchannel"}),this.g.o=O,O=$&&$.initMessageHeaders||null,$&&$.messageContentType&&(O?O["X-WebChannel-Content-Type"]=$.messageContentType:O={"X-WebChannel-Content-Type":$.messageContentType}),$&&$.va&&(O?O["X-WebChannel-Client-Profile"]=$.va:O={"X-WebChannel-Client-Profile":$.va}),this.g.S=O,(O=$&&$.Sb)&&!A(O)&&(this.g.m=O),this.v=$&&$.supportsCrossDomainXhr||!1,this.u=$&&$.sendRawJson||!1,($=$&&$.httpSessionIdParam)&&!A($)&&(this.g.D=$,O=this.h,O!==null&&$ in O&&(O=this.h,$ in O&&delete O[$])),this.j=new Bo(this)}b(Ws,_t),Ws.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ws.prototype.close=function(){Xd(this.g)},Ws.prototype.o=function(O){var $=this.g;if(typeof O=="string"){var K={};K.__data__=O,O=K}else this.u&&(K={},K.__data__=Zt(O),O=K);$.i.push(new pn($.Ya++,O)),$.G==3&&bh($)},Ws.prototype.N=function(){this.g.l=null,delete this.j,Xd(this.g),delete this.g,Ws.aa.N.call(this)};function Ml(O){se.call(this),O.__headers__&&(this.headers=O.__headers__,this.statusCode=O.__status__,delete O.__headers__,delete O.__status__);var $=O.__sm__;if($){t:{for(const K in $){O=K;break t}O=void 0}(this.i=O)&&(O=this.i,$=$!==null&&O in $?$[O]:void 0),this.data=$}else this.data=O}b(Ml,se);function zo(){Pe.call(this),this.status=1}b(zo,Pe);function Bo(O){this.g=O}b(Bo,Zd),Bo.prototype.ua=function(){Ct(this.g,"a")},Bo.prototype.ta=function(O){Ct(this.g,new Ml(O))},Bo.prototype.sa=function(O){Ct(this.g,new zo)},Bo.prototype.ra=function(){Ct(this.g,"b")},Qd.prototype.createWebChannel=Qd.prototype.g,Ws.prototype.send=Ws.prototype.o,Ws.prototype.open=Ws.prototype.m,Ws.prototype.close=Ws.prototype.close,Wq=function(){return new Qd},qq=function(){return Qn()},$q=Se,lN={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},pi.NO_ERROR=0,pi.TIMEOUT=8,pi.HTTP_ERROR=6,_M=pi,Aa.COMPLETE="complete",Gq=Aa,Ce.EventType=Xt,Xt.OPEN="a",Xt.CLOSE="b",Xt.ERROR="c",Xt.MESSAGE="d",_t.prototype.listen=_t.prototype.K,O1=Ce,Ti.prototype.listenOnce=Ti.prototype.L,Ti.prototype.getLastError=Ti.prototype.Ka,Ti.prototype.getLastErrorCode=Ti.prototype.Ba,Ti.prototype.getStatus=Ti.prototype.Z,Ti.prototype.getResponseJson=Ti.prototype.Oa,Ti.prototype.getResponseText=Ti.prototype.oa,Ti.prototype.send=Ti.prototype.ea,Ti.prototype.setWithCredentials=Ti.prototype.Ha,jq=Ti}).apply(typeof xA<"u"?xA:typeof self<"u"?self:typeof window<"u"?window:{});const t6="@firebase/firestore",e6="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ga.UNAUTHENTICATED=new Ga(null),Ga.GOOGLE_CREDENTIALS=new Ga("google-credentials-uid"),Ga.FIRST_PARTY=new Ga("first-party-uid"),Ga.MOCK_USER=new Ga("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xb="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy=new h4("@firebase/firestore");function i_(){return Zy.logLevel}function Ge(i,...e){if(Zy.logLevel<=fi.DEBUG){const n=e.map(A4);Zy.debug(`Firestore (${xb}): ${i}`,...n)}}function zd(i,...e){if(Zy.logLevel<=fi.ERROR){const n=e.map(A4);Zy.error(`Firestore (${xb}): ${i}`,...n)}}function $_(i,...e){if(Zy.logLevel<=fi.WARN){const n=e.map(A4);Zy.warn(`Firestore (${xb}): ${i}`,...n)}}function A4(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(i,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Xq(i,r,n)}function Xq(i,e,n){let r=`FIRESTORE (${xb}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw zd(r),new Error(r)}function Vi(i,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,i||Xq(e,s,r)}function Bn(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class qe extends Gd{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yq{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class O1t{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ga.UNAUTHENTICATED))}shutdown(){}}class P1t{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class I1t{constructor(e){this.t=e,this.currentUser=Ga.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Vi(this.o===void 0,42304);let r=this.i;const s=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let a=new gm;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new gm,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const u=a;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},l=u=>{Ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(Ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new gm)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Vi(typeof r.accessToken=="string",31837,{l:r}),new Yq(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Vi(e===null||typeof e=="string",2055,{h:e}),new Ga(e)}}class D1t{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Ga.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class N1t{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new D1t(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Ga.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class n6{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class L1t{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ac(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Vi(this.o===void 0,3512);const r=a=>{a.error!=null&&Ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,Ge("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{Ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):Ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new n6(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Vi(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new n6(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1t(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<i;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kq(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zq{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=U1t(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<n&&(r+=e.charAt(s[a]%62))}return r}}function ii(i,e){return i<e?-1:i>e?1:0}function uN(i,e){let n=0;for(;n<i.length&&n<e.length;){const r=i.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return ii(r,s);{const a=Kq(),o=k1t(a.encode(i6(i,n)),a.encode(i6(e,n)));return o!==0?o:ii(r,s)}}n+=r>65535?2:1}return ii(i.length,e.length)}function i6(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function k1t(i,e){for(let n=0;n<i.length&&n<e.length;++n)if(i[n]!==e[n])return ii(i[n],e[n]);return ii(i.length,e.length)}function q_(i,e,n){return i.length===e.length&&i.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r6=-62135596800,s6=1e6;class Hs{static now(){return Hs.fromMillis(Date.now())}static fromDate(e){return Hs.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*s6);return new Hs(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new qe(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new qe(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<r6)throw new qe(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new qe(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/s6}_compareTo(e){return this.seconds===e.seconds?ii(this.nanoseconds,e.nanoseconds):ii(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-r6;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{static fromTimestamp(e){return new Nn(e)}static min(){return new Nn(new Hs(0,0))}static max(){return new Nn(new Hs(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a6="__name__";class Lf{constructor(e,n,r){n===void 0?n=0:n>e.length&&wn(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&wn(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Lf.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Lf?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const a=Lf.compareSegments(e.get(s),n.get(s));if(a!==0)return a}return ii(e.length,n.length)}static compareSegments(e,n){const r=Lf.isNumericId(e),s=Lf.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Lf.extractNumericId(e).compare(Lf.extractNumericId(n)):uN(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return mm.fromString(e.substring(4,e.length-2))}}class xr extends Lf{construct(e,n,r){return new xr(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new qe(ge.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new xr(n)}static emptyPath(){return new xr([])}}const z1t=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _a extends Lf{construct(e,n,r){return new _a(e,n,r)}static isValidIdentifier(e){return z1t.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_a.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===a6}static keyField(){return new _a([a6])}static fromServerFormat(e){const n=[];let r="",s=0;const a=()=>{if(r.length===0)throw new qe(ge.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new qe(ge.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new qe(ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,s+=2}else l==="`"?(o=!o,s++):l!=="."||o?(r+=l,s++):(a(),s++)}if(a(),o)throw new qe(ge.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _a(n)}static emptyPath(){return new _a([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.path=e}static fromPath(e){return new hn(xr.fromString(e))}static fromName(e){return new hn(xr.fromString(e).popFirst(5))}static empty(){return new hn(xr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return xr.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new hn(new xr(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S=-1;function B1t(i,e){const n=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,s=Nn.fromTimestamp(r===1e9?new Hs(n+1,0):new Hs(n,r));return new Am(s,hn.empty(),e)}function F1t(i){return new Am(i.readTime,i.key,$S)}class Am{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Am(Nn.min(),hn.empty(),$S)}static max(){return new Am(Nn.max(),hn.empty(),$S)}}function V1t(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=hn.comparator(i.documentKey,e.documentKey),n!==0?n:ii(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1t="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class j1t{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sb(i){if(i.code!==ge.FAILED_PRECONDITION||i.message!==H1t)throw i;Ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&wn(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new he((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof he?n:he.resolve(n)}catch(n){return he.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):he.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):he.reject(n)}static resolve(e){return new he((n,r)=>{n(e)})}static reject(e){return new he((n,r)=>{r(e)})}static waitFor(e){return new he((n,r)=>{let s=0,a=0,o=!1;e.forEach(l=>{++s,l.next(()=>{++a,o&&a===s&&n()},u=>r(u))}),o=!0,a===s&&n()})}static or(e){let n=he.resolve(!1);for(const r of e)n=n.next(s=>s?he.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,a)=>{r.push(n.call(this,s,a))}),this.waitFor(r)}static mapArray(e,n){return new he((r,s)=>{const a=e.length,o=new Array(a);let l=0;for(let u=0;u<a;u++){const c=u;n(e[c]).next(h=>{o[c]=h,++l,l===a&&r(o)},h=>s(h))}})}static doWhile(e,n){return new he((r,s)=>{const a=()=>{e()===!0?n().next(()=>{a()},s):r()};a()})}}function G1t(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Eb(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}YR.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4=-1;function KR(i){return i==null}function YC(i){return i===0&&1/i==-1/0}function $1t(i){return typeof i=="number"&&Number.isInteger(i)&&!YC(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qq="";function q1t(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=o6(e)),e=W1t(i.get(n),e);return o6(e)}function W1t(i,e){let n=e;const r=i.length;for(let s=0;s<r;s++){const a=i.charAt(s);switch(a){case"\0":n+="";break;case Qq:n+="";break;default:n+=a}}return n}function o6(i){return i+Qq+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l6(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function c0(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Jq(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e,n){this.comparator=e,this.root=n||ga.EMPTY}insert(e,n){return new qr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ga.BLACK,null,null))}remove(e){return new qr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ga.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new SA(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new SA(this.root,e,this.comparator,!1)}getReverseIterator(){return new SA(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new SA(this.root,e,this.comparator,!0)}}class SA{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ga{constructor(e,n,r,s,a){this.key=e,this.value=n,this.color=r??ga.RED,this.left=s??ga.EMPTY,this.right=a??ga.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,a){return new ga(e??this.key,n??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,n,r),null):a===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ga.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return ga.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ga.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ga.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw wn(43730,{key:this.key,value:this.value});if(this.right.isRed())throw wn(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw wn(27949);return e+(this.isRed()?0:1)}}ga.EMPTY=null,ga.RED=!0,ga.BLACK=!1;ga.EMPTY=new class{constructor(){this.size=0}get key(){throw wn(57766)}get value(){throw wn(16141)}get color(){throw wn(16727)}get left(){throw wn(29726)}get right(){throw wn(36894)}copy(e,n,r,s,a){return this}insert(e,n,r){return new ga(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e){this.comparator=e,this.data=new qr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new u6(this.data.getIterator())}getIteratorFrom(e){return new u6(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof js)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new js(this.comparator);return n.data=e,n}}class u6{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e){this.fields=e,e.sort(_a.comparator)}static empty(){return new Ic([])}unionWith(e){let n=new js(_a.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ic(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return q_(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tW extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new tW("Invalid base64 string: "+a):a}}(e);return new Ta(n)}static fromUint8Array(e){const n=function(s){let a="";for(let o=0;o<s.length;++o)a+=String.fromCharCode(s[o]);return a}(e);return new Ta(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ii(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ta.EMPTY_BYTE_STRING=new Ta("");const X1t=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mm(i){if(Vi(!!i,39018),typeof i=="string"){let e=0;const n=X1t.exec(i);if(Vi(!!n,46558,{timestamp:i}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ds(i.seconds),nanos:ds(i.nanos)}}function ds(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Cm(i){return typeof i=="string"?Ta.fromBase64String(i):Ta.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eW="server_timestamp",nW="__type__",iW="__previous_value__",rW="__local_write_time__";function C4(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[nW])===null||n===void 0?void 0:n.stringValue)===eW}function ZR(i){const e=i.mapValue.fields[iW];return C4(e)?ZR(e):e}function qS(i){const e=Mm(i.mapValue.fields[rW].timestampValue);return new Hs(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1t{constructor(e,n,r,s,a,o,l,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=c}}const KC="(default)";class WS{constructor(e,n){this.projectId=e,this.database=n||KC}static empty(){return new WS("","")}get isDefaultDatabase(){return this.database===KC}isEqual(e){return e instanceof WS&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sW="__type__",K1t="__max__",EA={mapValue:{}},aW="__vector__",ZC="value";function Rm(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?C4(i)?4:Q1t(i)?9007199254740991:Z1t(i)?10:11:wn(28295,{value:i})}function uh(i,e){if(i===e)return!0;const n=Rm(i);if(n!==Rm(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return qS(i).isEqual(qS(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const o=Mm(s.timestampValue),l=Mm(a.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(s,a){return Cm(s.bytesValue).isEqual(Cm(a.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(s,a){return ds(s.geoPointValue.latitude)===ds(a.geoPointValue.latitude)&&ds(s.geoPointValue.longitude)===ds(a.geoPointValue.longitude)}(i,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return ds(s.integerValue)===ds(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const o=ds(s.doubleValue),l=ds(a.doubleValue);return o===l?YC(o)===YC(l):isNaN(o)&&isNaN(l)}return!1}(i,e);case 9:return q_(i.arrayValue.values||[],e.arrayValue.values||[],uh);case 10:case 11:return function(s,a){const o=s.mapValue.fields||{},l=a.mapValue.fields||{};if(l6(o)!==l6(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!uh(o[u],l[u])))return!1;return!0}(i,e);default:return wn(52216,{left:i})}}function XS(i,e){return(i.values||[]).find(n=>uh(n,e))!==void 0}function W_(i,e){if(i===e)return 0;const n=Rm(i),r=Rm(e);if(n!==r)return ii(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ii(i.booleanValue,e.booleanValue);case 2:return function(a,o){const l=ds(a.integerValue||a.doubleValue),u=ds(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(i,e);case 3:return c6(i.timestampValue,e.timestampValue);case 4:return c6(qS(i),qS(e));case 5:return uN(i.stringValue,e.stringValue);case 6:return function(a,o){const l=Cm(a),u=Cm(o);return l.compareTo(u)}(i.bytesValue,e.bytesValue);case 7:return function(a,o){const l=a.split("/"),u=o.split("/");for(let c=0;c<l.length&&c<u.length;c++){const h=ii(l[c],u[c]);if(h!==0)return h}return ii(l.length,u.length)}(i.referenceValue,e.referenceValue);case 8:return function(a,o){const l=ii(ds(a.latitude),ds(o.latitude));return l!==0?l:ii(ds(a.longitude),ds(o.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return f6(i.arrayValue,e.arrayValue);case 10:return function(a,o){var l,u,c,h;const p=a.fields||{},g=o.fields||{},v=(l=p[ZC])===null||l===void 0?void 0:l.arrayValue,b=(u=g[ZC])===null||u===void 0?void 0:u.arrayValue,S=ii(((c=v==null?void 0:v.values)===null||c===void 0?void 0:c.length)||0,((h=b==null?void 0:b.values)===null||h===void 0?void 0:h.length)||0);return S!==0?S:f6(v,b)}(i.mapValue,e.mapValue);case 11:return function(a,o){if(a===EA.mapValue&&o===EA.mapValue)return 0;if(a===EA.mapValue)return 1;if(o===EA.mapValue)return-1;const l=a.fields||{},u=Object.keys(l),c=o.fields||{},h=Object.keys(c);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){const g=uN(u[p],h[p]);if(g!==0)return g;const v=W_(l[u[p]],c[h[p]]);if(v!==0)return v}return ii(u.length,h.length)}(i.mapValue,e.mapValue);default:throw wn(23264,{Pe:n})}}function c6(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return ii(i,e);const n=Mm(i),r=Mm(e),s=ii(n.seconds,r.seconds);return s!==0?s:ii(n.nanos,r.nanos)}function f6(i,e){const n=i.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const a=W_(n[s],r[s]);if(a)return a}return ii(n.length,r.length)}function X_(i){return cN(i)}function cN(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const r=Mm(n);return`time(${r.seconds},${r.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return Cm(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return hn.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let r="[",s=!0;for(const a of n.values||[])s?s=!1:r+=",",r+=cN(a);return r+"]"}(i.arrayValue):"mapValue"in i?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",a=!0;for(const o of r)a?a=!1:s+=",",s+=`${o}:${cN(n.fields[o])}`;return s+"}"}(i.mapValue):wn(61005,{value:i})}function bM(i){switch(Rm(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ZR(i);return e?16+bM(e):16;case 5:return 2*i.stringValue.length;case 6:return Cm(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,a)=>s+bM(a),0)}(i.arrayValue);case 10:case 11:return function(r){let s=0;return c0(r.fields,(a,o)=>{s+=a.length+bM(o)}),s}(i.mapValue);default:throw wn(13486,{value:i})}}function h6(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function fN(i){return!!i&&"integerValue"in i}function R4(i){return!!i&&"arrayValue"in i}function d6(i){return!!i&&"nullValue"in i}function p6(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function xM(i){return!!i&&"mapValue"in i}function Z1t(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[sW])===null||n===void 0?void 0:n.stringValue)===aW}function nS(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return c0(i.mapValue.fields,(n,r)=>e.mapValue.fields[n]=nS(r)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=nS(i.arrayValue.values[n]);return e}return Object.assign({},i)}function Q1t(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===K1t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e){this.value=e}static empty(){return new Iu({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!xM(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=nS(n)}setAll(e){let n=_a.emptyPath(),r={},s=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,s),r={},s=[],n=l.popLast()}o?r[l.lastSegment()]=nS(o):s.push(l.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,s)}delete(e){const n=this.field(e.popLast());xM(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return uh(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];xM(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){c0(n,(s,a)=>e[s]=a);for(const s of r)delete e[s]}clone(){return new Iu(nS(this.value))}}function oW(i){const e=[];return c0(i.fields,(n,r)=>{const s=new _a([n]);if(xM(r)){const a=oW(r.mapValue).fields;if(a.length===0)e.push(s);else for(const o of a)e.push(s.child(o))}else e.push(s)}),new Ic(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e,n,r,s,a,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=a,this.data=o,this.documentState=l}static newInvalidDocument(e){return new $a(e,0,Nn.min(),Nn.min(),Nn.min(),Iu.empty(),0)}static newFoundDocument(e,n,r,s){return new $a(e,1,n,Nn.min(),r,s,0)}static newNoDocument(e,n){return new $a(e,2,n,Nn.min(),Nn.min(),Iu.empty(),0)}static newUnknownDocument(e,n){return new $a(e,3,n,Nn.min(),Nn.min(),Iu.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Nn.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Iu.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Iu.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Nn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $a&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $a(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e,n){this.position=e,this.inclusive=n}}function m6(i,e,n){let r=0;for(let s=0;s<i.position.length;s++){const a=e[s],o=i.position[s];if(a.field.isKeyField()?r=hn.comparator(hn.fromName(o.referenceValue),n.key):r=W_(o,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function g6(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!uh(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e,n="asc"){this.field=e,this.dir=n}}function J1t(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lW{}class Ps extends lW{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new eSt(e,n,r):n==="array-contains"?new rSt(e,r):n==="in"?new sSt(e,r):n==="not-in"?new aSt(e,r):n==="array-contains-any"?new oSt(e,r):new Ps(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new nSt(e,r):new iSt(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(W_(n,this.value)):n!==null&&Rm(this.value)===Rm(n)&&this.matchesComparison(W_(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return wn(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zc extends lW{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new zc(e,n)}matches(e){return uW(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function uW(i){return i.op==="and"}function cW(i){return tSt(i)&&uW(i)}function tSt(i){for(const e of i.filters)if(e instanceof zc)return!1;return!0}function hN(i){if(i instanceof Ps)return i.field.canonicalString()+i.op.toString()+X_(i.value);if(cW(i))return i.filters.map(e=>hN(e)).join(",");{const e=i.filters.map(n=>hN(n)).join(",");return`${i.op}(${e})`}}function fW(i,e){return i instanceof Ps?function(r,s){return s instanceof Ps&&r.op===s.op&&r.field.isEqual(s.field)&&uh(r.value,s.value)}(i,e):i instanceof zc?function(r,s){return s instanceof zc&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((a,o,l)=>a&&fW(o,s.filters[l]),!0):!1}(i,e):void wn(19439)}function hW(i){return i instanceof Ps?function(n){return`${n.field.canonicalString()} ${n.op} ${X_(n.value)}`}(i):i instanceof zc?function(n){return n.op.toString()+" {"+n.getFilters().map(hW).join(" ,")+"}"}(i):"Filter"}class eSt extends Ps{constructor(e,n,r){super(e,n,r),this.key=hn.fromName(r.referenceValue)}matches(e){const n=hn.comparator(e.key,this.key);return this.matchesComparison(n)}}class nSt extends Ps{constructor(e,n){super(e,"in",n),this.keys=dW("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class iSt extends Ps{constructor(e,n){super(e,"not-in",n),this.keys=dW("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function dW(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>hn.fromName(r.referenceValue))}class rSt extends Ps{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return R4(n)&&XS(n.arrayValue,this.value)}}class sSt extends Ps{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&XS(this.value.arrayValue,n)}}class aSt extends Ps{constructor(e,n){super(e,"not-in",n)}matches(e){if(XS(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!XS(this.value.arrayValue,n)}}class oSt extends Ps{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!R4(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>XS(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lSt{constructor(e,n=null,r=[],s=[],a=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=o,this.endAt=l,this.Ie=null}}function y6(i,e=null,n=[],r=[],s=null,a=null,o=null){return new lSt(i,e,n,r,s,a,o)}function O4(i){const e=Bn(i);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>hN(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),KR(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>X_(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>X_(r)).join(",")),e.Ie=n}return e.Ie}function P4(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!J1t(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!fW(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!g6(i.startAt,e.startAt)&&g6(i.endAt,e.endAt)}function dN(i){return hn.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e,n=null,r=[],s=[],a=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=o,this.startAt=l,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function uSt(i,e,n,r,s,a,o,l){return new FE(i,e,n,r,s,a,o,l)}function pW(i){return new FE(i)}function v6(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function mW(i){return i.collectionGroup!==null}function iS(i){const e=Bn(i);if(e.Ee===null){e.Ee=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new js(_a.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(l=l.add(c.field))})}),l})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new JC(a,r))}),n.has(_a.keyField().canonicalString())||e.Ee.push(new JC(_a.keyField(),r))}return e.Ee}function nh(i){const e=Bn(i);return e.de||(e.de=cSt(e,iS(i))),e.de}function cSt(i,e){if(i.limitType==="F")return y6(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new JC(s.field,a)});const n=i.endAt?new QC(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new QC(i.startAt.position,i.startAt.inclusive):null;return y6(i.path,i.collectionGroup,e,i.filters,i.limit,n,r)}}function pN(i,e){const n=i.filters.concat([e]);return new FE(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function mN(i,e,n){return new FE(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function QR(i,e){return P4(nh(i),nh(e))&&i.limitType===e.limitType}function gW(i){return`${O4(nh(i))}|lt:${i.limitType}`}function r_(i){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>hW(s)).join(", ")}]`),KR(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>X_(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>X_(s)).join(",")),`Target(${r})`}(nh(i))}; limitType=${i.limitType})`}function JR(i,e){return e.isFoundDocument()&&function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):hn.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(i,e)&&function(r,s){for(const a of iS(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(i,e)&&function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0}(i,e)&&function(r,s){return!(r.startAt&&!function(o,l,u){const c=m6(o,l,u);return o.inclusive?c<=0:c<0}(r.startAt,iS(r),s)||r.endAt&&!function(o,l,u){const c=m6(o,l,u);return o.inclusive?c>=0:c>0}(r.endAt,iS(r),s))}(i,e)}function fSt(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function yW(i){return(e,n)=>{let r=!1;for(const s of iS(i)){const a=hSt(s,e,n);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function hSt(i,e,n){const r=i.field.isKeyField()?hn.comparator(e.key,n.key):function(a,o,l){const u=o.data.field(a),c=l.data.field(a);return u!==null&&c!==null?W_(u,c):wn(42886)}(i.field,e,n);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return wn(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){c0(this.inner,(n,r)=>{for(const[s,a]of r)e(s,a)})}isEmpty(){return Jq(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dSt=new qr(hn.comparator);function Bd(){return dSt}const vW=new qr(hn.comparator);function P1(...i){let e=vW;for(const n of i)e=e.insert(n.key,n);return e}function _W(i){let e=vW;return i.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function yy(){return rS()}function bW(){return rS()}function rS(){return new f0(i=>i.toString(),(i,e)=>i.isEqual(e))}const pSt=new qr(hn.comparator),mSt=new js(hn.comparator);function hi(...i){let e=mSt;for(const n of i)e=e.add(n);return e}const gSt=new js(ii);function ySt(){return gSt}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I4(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:YC(e)?"-0":e}}function xW(i){return{integerValue:""+i}}function vSt(i,e){return $1t(e)?xW(e):I4(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(){this._=void 0}}function _St(i,e,n){return i instanceof t2?function(s,a){const o={fields:{[nW]:{stringValue:eW},[rW]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&C4(a)&&(a=ZR(a)),a&&(o.fields[iW]=a),{mapValue:o}}(n,e):i instanceof YS?EW(i,e):i instanceof KS?TW(i,e):function(s,a){const o=SW(s,a),l=_6(o)+_6(s.Re);return fN(o)&&fN(s.Re)?xW(l):I4(s.serializer,l)}(i,e)}function bSt(i,e,n){return i instanceof YS?EW(i,e):i instanceof KS?TW(i,e):n}function SW(i,e){return i instanceof e2?function(r){return fN(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class t2 extends tO{}class YS extends tO{constructor(e){super(),this.elements=e}}function EW(i,e){const n=wW(e);for(const r of i.elements)n.some(s=>uh(s,r))||n.push(r);return{arrayValue:{values:n}}}class KS extends tO{constructor(e){super(),this.elements=e}}function TW(i,e){let n=wW(e);for(const r of i.elements)n=n.filter(s=>!uh(s,r));return{arrayValue:{values:n}}}class e2 extends tO{constructor(e,n){super(),this.serializer=e,this.Re=n}}function _6(i){return ds(i.integerValue||i.doubleValue)}function wW(i){return R4(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function xSt(i,e){return i.field.isEqual(e.field)&&function(r,s){return r instanceof YS&&s instanceof YS||r instanceof KS&&s instanceof KS?q_(r.elements,s.elements,uh):r instanceof e2&&s instanceof e2?uh(r.Re,s.Re):r instanceof t2&&s instanceof t2}(i.transform,e.transform)}class SSt{constructor(e,n){this.version=e,this.transformResults=n}}class Ad{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ad}static exists(e){return new Ad(void 0,e)}static updateTime(e){return new Ad(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function SM(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class eO{}function AW(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new CW(i.key,Ad.none()):new VE(i.key,i.data,Ad.none());{const n=i.data,r=Iu.empty();let s=new js(_a.comparator);for(let a of e.fields)if(!s.has(a)){let o=n.field(a);o===null&&a.length>1&&(a=a.popLast(),o=n.field(a)),o===null?r.delete(a):r.set(a,o),s=s.add(a)}return new h0(i.key,r,new Ic(s.toArray()),Ad.none())}}function ESt(i,e,n){i instanceof VE?function(s,a,o){const l=s.value.clone(),u=x6(s.fieldTransforms,a,o.transformResults);l.setAll(u),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(i,e,n):i instanceof h0?function(s,a,o){if(!SM(s.precondition,a))return void a.convertToUnknownDocument(o.version);const l=x6(s.fieldTransforms,a,o.transformResults),u=a.data;u.setAll(MW(s)),u.setAll(l),a.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(i,e,n):function(s,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function sS(i,e,n,r){return i instanceof VE?function(a,o,l,u){if(!SM(a.precondition,o))return l;const c=a.value.clone(),h=S6(a.fieldTransforms,u,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(i,e,n,r):i instanceof h0?function(a,o,l,u){if(!SM(a.precondition,o))return l;const c=S6(a.fieldTransforms,u,o),h=o.data;return h.setAll(MW(a)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),l===null?null:l.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(p=>p.field))}(i,e,n,r):function(a,o,l){return SM(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(i,e,n)}function TSt(i,e){let n=null;for(const r of i.fieldTransforms){const s=e.data.field(r.field),a=SW(r.transform,s||null);a!=null&&(n===null&&(n=Iu.empty()),n.set(r.field,a))}return n||null}function b6(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&q_(r,s,(a,o)=>xSt(a,o))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class VE extends eO{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class h0 extends eO{constructor(e,n,r,s,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function MW(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=i.data.field(n);e.set(n,r)}}),e}function x6(i,e,n){const r=new Map;Vi(i.length===n.length,32656,{Ve:n.length,me:i.length});for(let s=0;s<n.length;s++){const a=i[s],o=a.transform,l=e.data.field(a.field);r.set(a.field,bSt(o,l,n[s]))}return r}function S6(i,e,n){const r=new Map;for(const s of i){const a=s.transform,o=n.data.field(s.field);r.set(s.field,_St(a,o,e))}return r}class CW extends eO{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wSt extends eO{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ASt{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&ESt(a,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=sS(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=sS(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=bW();return this.mutations.forEach(s=>{const a=e.get(s.key),o=a.overlayedDocument;let l=this.applyToLocalView(o,a.mutatedFields);l=n.has(s.key)?null:l;const u=AW(o,l);u!==null&&r.set(s.key,u),o.isValidDocument()||o.convertToNoDocument(Nn.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),hi())}isEqual(e){return this.batchId===e.batchId&&q_(this.mutations,e.mutations,(n,r)=>b6(n,r))&&q_(this.baseMutations,e.baseMutations,(n,r)=>b6(n,r))}}class D4{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Vi(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return pSt}();const a=e.mutations;for(let o=0;o<a.length;o++)s=s.insert(a[o].key,r[o].version);return new D4(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MSt{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CSt{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ms,Si;function RSt(i){switch(i){case ge.OK:return wn(64938);case ge.CANCELLED:case ge.UNKNOWN:case ge.DEADLINE_EXCEEDED:case ge.RESOURCE_EXHAUSTED:case ge.INTERNAL:case ge.UNAVAILABLE:case ge.UNAUTHENTICATED:return!1;case ge.INVALID_ARGUMENT:case ge.NOT_FOUND:case ge.ALREADY_EXISTS:case ge.PERMISSION_DENIED:case ge.FAILED_PRECONDITION:case ge.ABORTED:case ge.OUT_OF_RANGE:case ge.UNIMPLEMENTED:case ge.DATA_LOSS:return!0;default:return wn(15467,{code:i})}}function RW(i){if(i===void 0)return zd("GRPC error has no .code"),ge.UNKNOWN;switch(i){case Ms.OK:return ge.OK;case Ms.CANCELLED:return ge.CANCELLED;case Ms.UNKNOWN:return ge.UNKNOWN;case Ms.DEADLINE_EXCEEDED:return ge.DEADLINE_EXCEEDED;case Ms.RESOURCE_EXHAUSTED:return ge.RESOURCE_EXHAUSTED;case Ms.INTERNAL:return ge.INTERNAL;case Ms.UNAVAILABLE:return ge.UNAVAILABLE;case Ms.UNAUTHENTICATED:return ge.UNAUTHENTICATED;case Ms.INVALID_ARGUMENT:return ge.INVALID_ARGUMENT;case Ms.NOT_FOUND:return ge.NOT_FOUND;case Ms.ALREADY_EXISTS:return ge.ALREADY_EXISTS;case Ms.PERMISSION_DENIED:return ge.PERMISSION_DENIED;case Ms.FAILED_PRECONDITION:return ge.FAILED_PRECONDITION;case Ms.ABORTED:return ge.ABORTED;case Ms.OUT_OF_RANGE:return ge.OUT_OF_RANGE;case Ms.UNIMPLEMENTED:return ge.UNIMPLEMENTED;case Ms.DATA_LOSS:return ge.DATA_LOSS;default:return wn(39323,{code:i})}}(Si=Ms||(Ms={}))[Si.OK=0]="OK",Si[Si.CANCELLED=1]="CANCELLED",Si[Si.UNKNOWN=2]="UNKNOWN",Si[Si.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Si[Si.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Si[Si.NOT_FOUND=5]="NOT_FOUND",Si[Si.ALREADY_EXISTS=6]="ALREADY_EXISTS",Si[Si.PERMISSION_DENIED=7]="PERMISSION_DENIED",Si[Si.UNAUTHENTICATED=16]="UNAUTHENTICATED",Si[Si.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Si[Si.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Si[Si.ABORTED=10]="ABORTED",Si[Si.OUT_OF_RANGE=11]="OUT_OF_RANGE",Si[Si.UNIMPLEMENTED=12]="UNIMPLEMENTED",Si[Si.INTERNAL=13]="INTERNAL",Si[Si.UNAVAILABLE=14]="UNAVAILABLE",Si[Si.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OSt=new mm([4294967295,4294967295],0);function E6(i){const e=Kq().encode(i),n=new Hq;return n.update(e),new Uint8Array(n.digest())}function T6(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new mm([n,r],0),new mm([s,a],0)]}class N4{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new I1(`Invalid padding: ${n}`);if(r<0)throw new I1(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new I1(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new I1(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=mm.fromNumber(this.pe)}we(e,n,r){let s=e.add(n.multiply(mm.fromNumber(r)));return s.compare(OSt)===1&&(s=new mm([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=E6(e),[r,s]=T6(n);for(let a=0;a<this.hashCount;a++){const o=this.we(r,s,a);if(!this.be(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new N4(a,s,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.pe===0)return;const n=E6(e),[r,s]=T6(n);for(let a=0;a<this.hashCount;a++){const o=this.we(r,s,a);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class I1 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e,n,r,s,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,HE.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new nO(Nn.min(),s,new qr(ii),Bd(),hi())}}class HE{constructor(e,n,r,s,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new HE(r,n,hi(),hi(),hi())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(e,n,r,s){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=s}}class OW{constructor(e,n){this.targetId=e,this.Ce=n}}class PW{constructor(e,n,r=Ta.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class w6{constructor(){this.Fe=0,this.Me=A6(),this.xe=Ta.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=hi(),n=hi(),r=hi();return this.Me.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:wn(38017,{changeType:a})}}),new HE(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=A6()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Vi(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class PSt{constructor(e){this.ze=e,this.je=new Map,this.He=Bd(),this.Je=TA(),this.Ye=TA(),this.Ze=new qr(ii)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:wn(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,s)=>{this.it(s)&&n(s)})}ot(e){const n=e.targetId,r=e.Ce.count,s=this._t(n);if(s){const a=s.target;if(dN(a))if(r===0){const o=new hn(a.path);this.tt(n,o,$a.newNoDocument(o,Nn.min()))}else Vi(r===1,20013,{expectedCount:r});else{const o=this.ut(n);if(o!==r){const l=this.ct(e),u=l?this.lt(l,e,o):1;if(u!==0){this.st(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,c)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=n;let o,l;try{o=Cm(r).toUint8Array()}catch(u){if(u instanceof tW)return $_("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new N4(o,s,a)}catch(u){return $_(u instanceof I1?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.pe===0?null:l}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let s=0;return r.forEach(a=>{const o=this.ze.Pt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(l)||(this.tt(n,a,null),s++)}),s}It(e){const n=new Map;this.je.forEach((a,o)=>{const l=this._t(o);if(l){if(a.current&&dN(l.target)){const u=new hn(l.target.path);this.Et(u).has(o)||this.dt(o,u)||this.tt(o,u,$a.newNoDocument(u,e))}a.Le&&(n.set(o,a.qe()),a.Qe())}});let r=hi();this.Ye.forEach((a,o)=>{let l=!0;o.forEachWhile(u=>{const c=this._t(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(a))}),this.He.forEach((a,o)=>o.setReadTime(e));const s=new nO(e,n,this.Ze,this.He,r);return this.He=Bd(),this.Je=TA(),this.Ye=TA(),this.Ze=new qr(ii),s}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new w6,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new js(ii),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new js(ii),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||Ge("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new w6),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function TA(){return new qr(hn.comparator)}function A6(){return new qr(hn.comparator)}const ISt={asc:"ASCENDING",desc:"DESCENDING"},DSt={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NSt={and:"AND",or:"OR"};class LSt{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function gN(i,e){return i.useProto3Json||KR(e)?e:{value:e}}function n2(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function IW(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function USt(i,e){return n2(i,e.toTimestamp())}function ih(i){return Vi(!!i,49232),Nn.fromTimestamp(function(n){const r=Mm(n);return new Hs(r.seconds,r.nanos)}(i))}function L4(i,e){return yN(i,e).canonicalString()}function yN(i,e){const n=function(s){return new xr(["projects",s.projectId,"databases",s.database])}(i).child("documents");return e===void 0?n:n.child(e)}function DW(i){const e=xr.fromString(i);return Vi(zW(e),10190,{key:e.toString()}),e}function vN(i,e){return L4(i.databaseId,e.path)}function oD(i,e){const n=DW(e);if(n.get(1)!==i.databaseId.projectId)throw new qe(ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new qe(ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new hn(LW(n))}function NW(i,e){return L4(i.databaseId,e)}function kSt(i){const e=DW(i);return e.length===4?xr.emptyPath():LW(e)}function _N(i){return new xr(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function LW(i){return Vi(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function M6(i,e,n){return{name:vN(i,e),fields:n.value.mapValue.fields}}function zSt(i,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:wn(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(c,h){return c.useProto3Json?(Vi(h===void 0||typeof h=="string",58123),Ta.fromBase64String(h||"")):(Vi(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Ta.fromUint8Array(h||new Uint8Array))}(i,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(c){const h=c.code===void 0?ge.UNKNOWN:RW(c.code);return new qe(h,c.message||"")}(o);n=new PW(r,s,a,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=oD(i,r.document.name),a=ih(r.document.updateTime),o=r.document.createTime?ih(r.document.createTime):Nn.min(),l=new Iu({mapValue:{fields:r.document.fields}}),u=$a.newFoundDocument(s,a,o,l),c=r.targetIds||[],h=r.removedTargetIds||[];n=new EM(c,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=oD(i,r.document),a=r.readTime?ih(r.readTime):Nn.min(),o=$a.newNoDocument(s,a),l=r.removedTargetIds||[];n=new EM([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=oD(i,r.document),a=r.removedTargetIds||[];n=new EM([],a,s,null)}else{if(!("filter"in e))return wn(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,o=new CSt(s,a),l=r.targetId;n=new OW(l,o)}}return n}function BSt(i,e){let n;if(e instanceof VE)n={update:M6(i,e.key,e.value)};else if(e instanceof CW)n={delete:vN(i,e.key)};else if(e instanceof h0)n={update:M6(i,e.key,e.data),updateMask:XSt(e.fieldMask)};else{if(!(e instanceof wSt))return wn(16599,{ft:e.type});n={verify:vN(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,o){const l=o.transform;if(l instanceof t2)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof YS)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof KS)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof e2)return{fieldPath:o.field.canonicalString(),increment:l.Re};throw wn(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:USt(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:wn(27497)}(i,e.precondition)),n}function FSt(i,e){return i&&i.length>0?(Vi(e!==void 0,14353),i.map(n=>function(s,a){let o=s.updateTime?ih(s.updateTime):ih(a);return o.isEqual(Nn.min())&&(o=ih(a)),new SSt(o,s.transformResults||[])}(n,e))):[]}function VSt(i,e){return{documents:[NW(i,e.path)]}}function HSt(i,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=NW(i,s);const a=function(c){if(c.length!==0)return kW(zc.create(c,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const o=function(c){if(c.length!==0)return c.map(h=>function(g){return{field:s_(g.field),direction:$St(g.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=gN(i,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{gt:n,parent:s}}function jSt(i){let e=kSt(i.parent);const n=i.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Vi(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let a=[];n.where&&(a=function(p){const g=UW(p);return g instanceof zc&&cW(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(g=>function(b){return new JC(a_(b.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(g))}(n.orderBy));let l=null;n.limit&&(l=function(p){let g;return g=typeof p=="object"?p.value:p,KR(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(p){const g=!!p.before,v=p.values||[];return new QC(v,g)}(n.startAt));let c=null;return n.endAt&&(c=function(p){const g=!p.before,v=p.values||[];return new QC(v,g)}(n.endAt)),uSt(e,s,o,a,l,"F",u,c)}function GSt(i,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return wn(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function UW(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=a_(n.unaryFilter.field);return Ps.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=a_(n.unaryFilter.field);return Ps.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=a_(n.unaryFilter.field);return Ps.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=a_(n.unaryFilter.field);return Ps.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return wn(61313);default:return wn(60726)}}(i):i.fieldFilter!==void 0?function(n){return Ps.create(a_(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return wn(58110);default:return wn(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return zc.create(n.compositeFilter.filters.map(r=>UW(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return wn(1026)}}(n.compositeFilter.op))}(i):wn(30097,{filter:i})}function $St(i){return ISt[i]}function qSt(i){return DSt[i]}function WSt(i){return NSt[i]}function s_(i){return{fieldPath:i.canonicalString()}}function a_(i){return _a.fromServerFormat(i.fieldPath)}function kW(i){return i instanceof Ps?function(n){if(n.op==="=="){if(p6(n.value))return{unaryFilter:{field:s_(n.field),op:"IS_NAN"}};if(d6(n.value))return{unaryFilter:{field:s_(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(p6(n.value))return{unaryFilter:{field:s_(n.field),op:"IS_NOT_NAN"}};if(d6(n.value))return{unaryFilter:{field:s_(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:s_(n.field),op:qSt(n.op),value:n.value}}}(i):i instanceof zc?function(n){const r=n.getFilters().map(s=>kW(s));return r.length===1?r[0]:{compositeFilter:{op:WSt(n.op),filters:r}}}(i):wn(54877,{filter:i})}function XSt(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function zW(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e,n,r,s,a=Nn.min(),o=Nn.min(),l=Ta.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new lm(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new lm(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new lm(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new lm(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YSt{constructor(e){this.wt=e}}function KSt(i){const e=jSt({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?mN(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZSt{constructor(){this.yn=new QSt}addToCollectionParentIndex(e,n){return this.yn.add(n),he.resolve()}getCollectionParents(e,n){return he.resolve(this.yn.getEntries(n))}addFieldIndex(e,n){return he.resolve()}deleteFieldIndex(e,n){return he.resolve()}deleteAllFieldIndexes(e){return he.resolve()}createTargetIndexes(e,n){return he.resolve()}getDocumentsMatchingTarget(e,n){return he.resolve(null)}getIndexType(e,n){return he.resolve(0)}getFieldIndexes(e,n){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,n){return he.resolve(Am.min())}getMinOffsetFromCollectionGroup(e,n){return he.resolve(Am.min())}updateCollectionGroup(e,n,r){return he.resolve()}updateIndexEntries(e,n){return he.resolve()}}class QSt{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new js(xr.comparator),a=!s.has(r);return this.index[n]=s.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new js(xr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C6={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},BW=41943040;class sl{static withCacheSize(e){return new sl(e,sl.DEFAULT_COLLECTION_PERCENTILE,sl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sl.DEFAULT_COLLECTION_PERCENTILE=10,sl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sl.DEFAULT=new sl(BW,sl.DEFAULT_COLLECTION_PERCENTILE,sl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sl.DISABLED=new sl(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new Y_(0)}static ir(){return new Y_(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R6="LruGarbageCollector",JSt=1048576;function O6([i,e],[n,r]){const s=ii(i,n);return s===0?ii(e,r):s}class tEt{constructor(e){this.cr=e,this.buffer=new js(O6),this.lr=0}hr(){return++this.lr}Pr(e){const n=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();O6(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class eEt{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){Ge(R6,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Eb(n)?Ge(R6,"Ignoring IndexedDB error during garbage collection: ",n):await Sb(n)}await this.Ir(3e5)})}}class nEt{constructor(e,n){this.Er=e,this.params=n}calculateTargetCount(e,n){return this.Er.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return he.resolve(YR.le);const r=new tEt(n);return this.Er.forEachTarget(e,s=>r.Pr(s.sequenceNumber)).next(()=>this.Er.Ar(e,s=>r.Pr(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Er.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Er.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ge("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(C6)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),C6):this.Rr(e,n))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,n){let r,s,a,o,l,u,c;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(Ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),s=this.params.maximumSequenceNumbersToCollect):s=p,o=Date.now(),this.nthSequenceNumber(e,s))).next(p=>(r=p,l=Date.now(),this.removeTargets(e,r,n))).next(p=>(a=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(c=Date.now(),i_()<=fi.DEBUG&&Ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(l-o)+`ms
	Removed ${a} targets in `+(u-l)+`ms
	Removed ${p} documents in `+(c-u)+`ms
Total Duration: ${c-h}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:p})))}}function iEt(i,e){return new nEt(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rEt{constructor(){this.changes=new f0(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,$a.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?he.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sEt{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aEt{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&sS(r.mutation,s,Ic.empty(),Hs.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,hi()).next(()=>r))}getLocalViewOfDocuments(e,n,r=hi()){const s=yy();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(a=>{let o=P1();return a.forEach((l,u)=>{o=o.insert(l,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=yy();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,hi()))}populateOverlays(e,n,r){const s=[];return r.forEach(a=>{n.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,s){let a=Bd();const o=rS(),l=function(){return rS()}();return n.forEach((u,c)=>{const h=r.get(c.key);s.has(c.key)&&(h===void 0||h.mutation instanceof h0)?a=a.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),sS(h.mutation,c,h.mutation.getFieldMask(),Hs.now())):o.set(c.key,Ic.empty())}),this.recalculateAndSaveOverlays(e,a).next(u=>(u.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>{var p;return l.set(c,new sEt(h,(p=o.get(c))!==null&&p!==void 0?p:null))}),l))}recalculateAndSaveOverlays(e,n){const r=rS();let s=new qr((o,l)=>o-l),a=hi();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let h=r.get(u)||Ic.empty();h=l.applyToLocalView(c,h),r.set(u,h);const p=(s.get(l.batchId)||hi()).add(u);s=s.insert(l.batchId,p)})}).next(()=>{const o=[],l=s.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),c=u.key,h=u.value,p=bW();h.forEach(g=>{if(!a.has(g)){const v=AW(n.get(g),r.get(g));v!==null&&p.set(g,v),a=a.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,p))}return he.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return hn.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):mW(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(a=>{const o=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-a.size):he.resolve(yy());let l=$S,u=a;return o.next(c=>he.forEach(c,(h,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),a.get(h)?he.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{u=u.insert(h,g)}))).next(()=>this.populateOverlays(e,c,a)).next(()=>this.computeViews(e,u,c,hi())).next(h=>({batchId:l,changes:_W(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new hn(n)).next(r=>{let s=P1();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const a=n.collectionGroup;let o=P1();return this.indexManager.getCollectionParents(e,a).next(l=>he.forEach(l,u=>{const c=function(p,g){return new FE(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(a));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(h=>{h.forEach((p,g)=>{o=o.insert(p,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,s))).next(o=>{a.forEach((u,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,$a.newInvalidDocument(h)))});let l=P1();return o.forEach((u,c)=>{const h=a.get(u);h!==void 0&&sS(h.mutation,c,Ic.empty(),Hs.now()),JR(n,c)&&(l=l.insert(u,c))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oEt{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,n){return he.resolve(this.Fr.get(n))}saveBundleMetadata(e,n){return this.Fr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:ih(s.createTime)}}(n)),he.resolve()}getNamedQuery(e,n){return he.resolve(this.Mr.get(n))}saveNamedQuery(e,n){return this.Mr.set(n.name,function(s){return{name:s.name,query:KSt(s.bundledQuery),readTime:ih(s.readTime)}}(n)),he.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lEt{constructor(){this.overlays=new qr(hn.comparator),this.Or=new Map}getOverlay(e,n){return he.resolve(this.overlays.get(n))}getOverlays(e,n){const r=yy();return he.forEach(n,s=>this.getOverlay(e,s).next(a=>{a!==null&&r.set(s,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,a)=>{this.St(e,n,a)}),he.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Or.get(r);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.Or.delete(r)),he.resolve()}getOverlaysForCollection(e,n,r){const s=yy(),a=n.length+1,o=new hn(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===a&&u.largestBatchId>r&&s.set(u.getKey(),u)}return he.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let a=new qr((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=a.get(c.largestBatchId);h===null&&(h=yy(),a=a.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const l=yy(),u=a.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,h)=>l.set(c,h)),!(l.size()>=s)););return he.resolve(l)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Or.get(s.largestBatchId).delete(r.key);this.Or.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new MSt(n,r));let a=this.Or.get(n);a===void 0&&(a=hi(),this.Or.set(n,a)),this.Or.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uEt{constructor(){this.sessionToken=Ta.EMPTY_BYTE_STRING}getSessionToken(e){return he.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,he.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(){this.Nr=new js(ta.Br),this.Lr=new js(ta.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,n){const r=new ta(e,n);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Qr(new ta(e,n))}$r(e,n){e.forEach(r=>this.removeReference(r,n))}Ur(e){const n=new hn(new xr([])),r=new ta(n,e),s=new ta(n,e+1),a=[];return this.Lr.forEachInRange([r,s],o=>{this.Qr(o),a.push(o.key)}),a}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const n=new hn(new xr([])),r=new ta(n,e),s=new ta(n,e+1);let a=hi();return this.Lr.forEachInRange([r,s],o=>{a=a.add(o.key)}),a}containsKey(e){const n=new ta(e,0),r=this.Nr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ta{constructor(e,n){this.key=e,this.Gr=n}static Br(e,n){return hn.comparator(e.key,n.key)||ii(e.Gr,n.Gr)}static kr(e,n){return ii(e.Gr,n.Gr)||hn.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cEt{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new js(ta.Br)}checkEmpty(e){return he.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const a=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new ASt(a,n,r,s);this.mutationQueue.push(o);for(const l of s)this.zr=this.zr.add(new ta(l.key,a)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return he.resolve(o)}lookupMutationBatch(e,n){return he.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Hr(r),a=s<0?0:s;return he.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(this.mutationQueue.length===0?M4:this.Jn-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ta(n,0),s=new ta(n,Number.POSITIVE_INFINITY),a=[];return this.zr.forEachInRange([r,s],o=>{const l=this.jr(o.Gr);a.push(l)}),he.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new js(ii);return n.forEach(s=>{const a=new ta(s,0),o=new ta(s,Number.POSITIVE_INFINITY);this.zr.forEachInRange([a,o],l=>{r=r.add(l.Gr)})}),he.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let a=r;hn.isDocumentKey(a)||(a=a.child(""));const o=new ta(new hn(a),0);let l=new js(ii);return this.zr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(l=l.add(u.Gr)),!0)},o),he.resolve(this.Jr(l))}Jr(e){const n=[];return e.forEach(r=>{const s=this.jr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Vi(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return he.forEach(n.mutations,s=>{const a=new ta(s.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,n){const r=new ta(n,0),s=this.zr.firstAfterOrEqual(r);return he.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,he.resolve()}Yr(e,n){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const n=this.Hr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fEt{constructor(e){this.Zr=e,this.docs=function(){return new qr(hn.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),a=s?s.size:0,o=this.Zr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return he.resolve(r?r.document.mutableCopy():$a.newInvalidDocument(n))}getEntries(e,n){let r=Bd();return n.forEach(s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():$a.newInvalidDocument(s))}),he.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let a=Bd();const o=n.path,l=new hn(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:c,value:{document:h}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||V1t(F1t(h),r)<=0||(s.has(h.key)||JR(n,h))&&(a=a.insert(h.key,h.mutableCopy()))}return he.resolve(a)}getAllFromCollectionGroup(e,n,r,s){wn(9500)}Xr(e,n){return he.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new hEt(this)}getSize(e){return he.resolve(this.size)}}class hEt extends rEt{constructor(e){super(),this.vr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.vr.addEntry(e,s)):this.vr.removeEntry(r)}),he.waitFor(n)}getFromCache(e,n){return this.vr.getEntry(e,n)}getAllFromCache(e,n){return this.vr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dEt{constructor(e){this.persistence=e,this.ei=new f0(n=>O4(n),P4),this.lastRemoteSnapshotVersion=Nn.min(),this.highestTargetId=0,this.ti=0,this.ni=new U4,this.targetCount=0,this.ri=Y_.rr()}forEachTarget(e,n){return this.ei.forEach((r,s)=>n(s)),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ti&&(this.ti=n),he.resolve()}ar(e){this.ei.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ri=new Y_(n),this.highestTargetId=n),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,n){return this.ar(n),this.targetCount+=1,he.resolve()}updateTargetData(e,n){return this.ar(n),he.resolve()}removeTargetData(e,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,n,r){let s=0;const a=[];return this.ei.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.ei.delete(o),a.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),he.waitFor(a).next(()=>s)}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,n){const r=this.ei.get(n)||null;return he.resolve(r)}addMatchingKeys(e,n,r){return this.ni.qr(n,r),he.resolve()}removeMatchingKeys(e,n,r){this.ni.$r(n,r);const s=this.persistence.referenceDelegate,a=[];return s&&n.forEach(o=>{a.push(s.markPotentiallyOrphaned(e,o))}),he.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.ni.Ur(n),he.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ni.Wr(n);return he.resolve(r)}containsKey(e,n){return he.resolve(this.ni.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FW{constructor(e,n){this.ii={},this.overlays={},this.si=new YR(0),this.oi=!1,this.oi=!0,this._i=new uEt,this.referenceDelegate=e(this),this.ai=new dEt(this),this.indexManager=new ZSt,this.remoteDocumentCache=function(s){return new fEt(s)}(r=>this.referenceDelegate.ui(r)),this.serializer=new YSt(n),this.ci=new oEt(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new lEt,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ii[e.toKey()];return r||(r=new cEt(n,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,n,r){Ge("MemoryPersistence","Starting transaction:",e);const s=new pEt(this.si.next());return this.referenceDelegate.li(),r(s).next(a=>this.referenceDelegate.hi(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Pi(e,n){return he.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,n)))}}class pEt extends j1t{constructor(e){super(),this.currentSequenceNumber=e}}class k4{constructor(e){this.persistence=e,this.Ti=new U4,this.Ii=null}static Ei(e){return new k4(e)}get di(){if(this.Ii)return this.Ii;throw wn(60996)}addReference(e,n,r){return this.Ti.addReference(r,n),this.di.delete(r.toString()),he.resolve()}removeReference(e,n,r){return this.Ti.removeReference(r,n),this.di.add(r.toString()),he.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),he.resolve()}removeTarget(e,n){this.Ti.Ur(n.targetId).forEach(s=>this.di.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(a=>this.di.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}li(){this.Ii=new Set}hi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.di,r=>{const s=hn.fromPath(r);return this.Ai(e,s).next(a=>{a||n.removeEntry(s,Nn.min())})}).next(()=>(this.Ii=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ai(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(e){return 0}Ai(e,n){return he.or([()=>he.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Pi(e,n)])}}class i2{constructor(e,n){this.persistence=e,this.Ri=new f0(r=>q1t(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=iEt(this,n)}static Ei(e,n){return new i2(e,n)}li(){}hi(e){return he.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}Vr(e){let n=0;return this.Ar(e,r=>{n++}).next(()=>n)}Ar(e,n){return he.forEach(this.Ri,(r,s)=>this.gr(e,r,s).next(a=>a?he.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.Xr(e,o=>this.gr(e,o,n).next(l=>{l||(r++,a.removeEntry(o,Nn.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.Ri.set(n,e.currentSequenceNumber),he.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),he.resolve()}removeReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),he.resolve()}updateLimboDocument(e,n){return this.Ri.set(n,e.currentSequenceNumber),he.resolve()}ui(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=bM(e.data.value)),n}gr(e,n,r){return he.or([()=>this.persistence.Pi(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.Ri.get(n);return he.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ls=r,this.hs=s}static Ps(e,n){let r=hi(),s=hi();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new z4(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mEt{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gEt{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return u_t()?8:G1t(Za())>0?6:4}()}initialize(e,n){this.As=e,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(e,n,r,s){const a={result:null};return this.Rs(e,n).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.Vs(e,n,s,r).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new mEt;return this.fs(e,n,o).next(l=>{if(a.result=l,this.Is)return this.gs(e,n,o,l.size)})}).next(()=>a.result)}gs(e,n,r,s){return r.documentReadCount<this.Es?(i_()<=fi.DEBUG&&Ge("QueryEngine","SDK will not create cache indexes for query:",r_(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),he.resolve()):(i_()<=fi.DEBUG&&Ge("QueryEngine","Query:",r_(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ds*s?(i_()<=fi.DEBUG&&Ge("QueryEngine","The SDK decides to create cache indexes for query:",r_(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,nh(n))):he.resolve())}Rs(e,n){if(v6(n))return he.resolve(null);let r=nh(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=mN(n,null,"F"),r=nh(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const o=hi(...a);return this.As.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ps(n,l);return this.ys(n,c,o,u.readTime)?this.Rs(e,mN(n,null,"F")):this.ws(e,c,n,u)}))})))}Vs(e,n,r,s){return v6(n)||s.isEqual(Nn.min())?he.resolve(null):this.As.getDocuments(e,r).next(a=>{const o=this.ps(n,a);return this.ys(n,o,r,s)?he.resolve(null):(i_()<=fi.DEBUG&&Ge("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),r_(n)),this.ws(e,o,n,B1t(s,$S)).next(l=>l))})}ps(e,n){let r=new js(yW(e));return n.forEach((s,a)=>{JR(e,a)&&(r=r.add(a))}),r}ys(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}fs(e,n,r){return i_()<=fi.DEBUG&&Ge("QueryEngine","Using full collection scan to execute query:",r_(n)),this.As.getDocumentsMatchingQuery(e,n,Am.min(),r)}ws(e,n,r,s){return this.As.getDocumentsMatchingQuery(e,r,s).next(a=>(n.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B4="LocalStore",yEt=3e8;class vEt{constructor(e,n,r,s){this.persistence=e,this.bs=n,this.serializer=s,this.Ss=new qr(ii),this.Ds=new f0(a=>O4(a),P4),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new aEt(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ss))}}function _Et(i,e,n,r){return new vEt(i,e,n,r)}async function VW(i,e){const n=Bn(i);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(a=>(s=a,n.Fs(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const o=[],l=[];let u=hi();for(const c of s){o.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}for(const c of a){l.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(c=>({Ms:c,removedBatchIds:o,addedBatchIds:l}))})})}function bEt(i,e){const n=Bn(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),a=n.Cs.newChangeBuffer({trackRemovals:!0});return function(l,u,c,h){const p=c.batch,g=p.keys();let v=he.resolve();return g.forEach(b=>{v=v.next(()=>h.getEntry(u,b)).next(S=>{const E=c.docVersions.get(b);Vi(E!==null,48541),S.version.compareTo(E)<0&&(p.applyToRemoteDocument(S,c),S.isValidDocument()&&(S.setReadTime(c.commitVersion),h.addEntry(S)))})}),v.next(()=>l.mutationQueue.removeMutationBatch(u,p))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=hi();for(let c=0;c<l.mutationResults.length;++c)l.mutationResults[c].transformResults.length>0&&(u=u.add(l.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function HW(i){const e=Bn(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ai.getLastRemoteSnapshotVersion(n))}function xEt(i,e){const n=Bn(i),r=e.snapshotVersion;let s=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=n.Cs.newChangeBuffer({trackRemovals:!0});s=n.Ss;const l=[];e.targetChanges.forEach((h,p)=>{const g=s.get(p);if(!g)return;l.push(n.ai.removeMatchingKeys(a,h.removedDocuments,p).next(()=>n.ai.addMatchingKeys(a,h.addedDocuments,p)));let v=g.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(Ta.EMPTY_BYTE_STRING,Nn.min()).withLastLimboFreeSnapshotVersion(Nn.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),s=s.insert(p,v),function(S,E,x){return S.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=yEt?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(g,v,h)&&l.push(n.ai.updateTargetData(a,v))});let u=Bd(),c=hi();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(a,h))}),l.push(SEt(a,o,e.documentUpdates).next(h=>{u=h.xs,c=h.Os})),!r.isEqual(Nn.min())){const h=n.ai.getLastRemoteSnapshotVersion(a).next(p=>n.ai.setTargetsMetadata(a,a.currentSequenceNumber,r));l.push(h)}return he.waitFor(l).next(()=>o.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,u,c)).next(()=>u)}).then(a=>(n.Ss=s,a))}function SEt(i,e,n){let r=hi(),s=hi();return n.forEach(a=>r=r.add(a)),e.getEntries(i,r).next(a=>{let o=Bd();return n.forEach((l,u)=>{const c=a.get(l);u.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(l)),u.isNoDocument()&&u.version.isEqual(Nn.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):Ge(B4,"Ignoring outdated watch update for ",l,". Current version:",c.version," Watch version:",u.version)}),{xs:o,Os:s}})}function EEt(i,e){const n=Bn(i);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=M4),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function TEt(i,e){const n=Bn(i);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.ai.getTargetData(r,e).next(a=>a?(s=a,he.resolve(s)):n.ai.allocateTargetId(r).next(o=>(s=new lm(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.ai.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ss.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(r.targetId,r),n.Ds.set(e,r.targetId)),r})}async function bN(i,e,n){const r=Bn(i),s=r.Ss.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Eb(o))throw o;Ge(B4,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(s.target)}function P6(i,e,n){const r=Bn(i);let s=Nn.min(),a=hi();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,h){const p=Bn(u),g=p.Ds.get(h);return g!==void 0?he.resolve(p.Ss.get(g)):p.ai.getTargetData(c,h)}(r,o,nh(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(o,l.targetId).next(u=>{a=u})}).next(()=>r.bs.getDocumentsMatchingQuery(o,e,n?s:Nn.min(),n?a:hi())).next(l=>(wEt(r,fSt(e),l),{documents:l,Ns:a})))}function wEt(i,e,n){let r=i.vs.get(e)||Nn.min();n.forEach((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),i.vs.set(e,r)}class I6{constructor(){this.activeTargetIds=ySt()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class AEt{constructor(){this.So=new I6,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,n,r){this.Do[e]=n}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new I6,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MEt{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D6="ConnectivityMonitor";class N6{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){Ge(D6,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){Ge(D6,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wA=null;function xN(){return wA===null?wA=function(){return 268435456+Math.round(2147483648*Math.random())}():wA++,"0x"+wA.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD="RestConnection",CEt={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class REt{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+e.host,this.ko=`projects/${r}/databases/${s}`,this.qo=this.databaseId.database===KC?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Qo(e,n,r,s,a){const o=xN(),l=this.$o(e,n.toUriEncodedString());Ge(lD,`Sending RPC '${e}' ${o}:`,l,r);const u={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(u,s,a),this.Ko(e,l,u,r).then(c=>(Ge(lD,`Received RPC '${e}' ${o}: `,c),c),c=>{throw $_(lD,`RPC '${e}' ${o} failed with error: `,c,"url: ",l,"request:",r),c})}Wo(e,n,r,s,a,o){return this.Qo(e,n,r,s,a)}Uo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+xb}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,a)=>e[a]=s),r&&r.headers.forEach((s,a)=>e[a]=s)}$o(e,n){const r=CEt[e];return`${this.Lo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OEt{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa="WebChannelConnection";class PEt extends REt{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,n,r,s){const a=xN();return new Promise((o,l)=>{const u=new jq;u.setWithCredentials(!0),u.listenOnce(Gq.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case _M.NO_ERROR:const h=u.getResponseJson();Ge(Fa,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(h)),o(h);break;case _M.TIMEOUT:Ge(Fa,`RPC '${e}' ${a} timed out`),l(new qe(ge.DEADLINE_EXCEEDED,"Request time out"));break;case _M.HTTP_ERROR:const p=u.getStatus();if(Ge(Fa,`RPC '${e}' ${a} failed with status:`,p,"response text:",u.getResponseText()),p>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const v=g==null?void 0:g.error;if(v&&v.status&&v.message){const b=function(E){const x=E.toLowerCase().replace(/_/g,"-");return Object.values(ge).indexOf(x)>=0?x:ge.UNKNOWN}(v.status);l(new qe(b,v.message))}else l(new qe(ge.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new qe(ge.UNAVAILABLE,"Connection failed."));break;default:wn(9055,{s_:e,streamId:a,o_:u.getLastErrorCode(),__:u.getLastError()})}}finally{Ge(Fa,`RPC '${e}' ${a} completed.`)}});const c=JSON.stringify(s);Ge(Fa,`RPC '${e}' ${a} sending request:`,s),u.send(n,"POST",c,r,15)})}a_(e,n,r){const s=xN(),a=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Wq(),l=qq(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Uo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const h=a.join("");Ge(Fa,`Creating RPC '${e}' stream ${s}: ${h}`,u);const p=o.createWebChannel(h,u);let g=!1,v=!1;const b=new OEt({Go:E=>{v?Ge(Fa,`Not sending because RPC '${e}' stream ${s} is closed:`,E):(g||(Ge(Fa,`Opening RPC '${e}' stream ${s} transport.`),p.open(),g=!0),Ge(Fa,`RPC '${e}' stream ${s} sending:`,E),p.send(E))},zo:()=>p.close()}),S=(E,x,A)=>{E.listen(x,C=>{try{A(C)}catch(M){setTimeout(()=>{throw M},0)}})};return S(p,O1.EventType.OPEN,()=>{v||(Ge(Fa,`RPC '${e}' stream ${s} transport opened.`),b.t_())}),S(p,O1.EventType.CLOSE,()=>{v||(v=!0,Ge(Fa,`RPC '${e}' stream ${s} transport closed`),b.r_())}),S(p,O1.EventType.ERROR,E=>{v||(v=!0,$_(Fa,`RPC '${e}' stream ${s} transport errored. Name:`,E.name,"Message:",E.message),b.r_(new qe(ge.UNAVAILABLE,"The operation could not be completed")))}),S(p,O1.EventType.MESSAGE,E=>{var x;if(!v){const A=E.data[0];Vi(!!A,16349);const C=A,M=(C==null?void 0:C.error)||((x=C[0])===null||x===void 0?void 0:x.error);if(M){Ge(Fa,`RPC '${e}' stream ${s} received error:`,M);const P=M.status;let k=function(U){const R=Ms[U];if(R!==void 0)return RW(R)}(P),D=M.message;k===void 0&&(k=ge.INTERNAL,D="Unknown error status: "+P+" with message "+M.message),v=!0,b.r_(new qe(k,D)),p.close()}else Ge(Fa,`RPC '${e}' stream ${s} received:`,A),b.i_(A)}}),S(l,$q.STAT_EVENT,E=>{E.stat===lN.PROXY?Ge(Fa,`RPC '${e}' stream ${s} detected buffering proxy`):E.stat===lN.NOPROXY&&Ge(Fa,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{b.n_()},0),b}}function uD(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iO(i){return new LSt(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jW{constructor(e,n,r=1e3,s=1.5,a=6e4){this.bi=e,this.timerId=n,this.u_=r,this.c_=s,this.l_=a,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const n=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),s=Math.max(0,n-r);s>0&&Ge("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,s,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L6="PersistentStream";class GW{constructor(e,n,r,s,a,o,l,u){this.bi=e,this.R_=r,this.V_=s,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new jW(e,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,n){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():n&&n.code===ge.RESOURCE_EXHAUSTED?(zd(n.toString()),zd("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===ge.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(n)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.m_===n&&this.B_(r,s)},r=>{e(()=>{const s=new qe(ge.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(s)})})}B_(e,n){const r=this.N_(this.m_);this.stream=this.k_(e,n),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(s=>{r(()=>this.L_(s))}),this.stream.onMessage(s=>{r(()=>++this.p_==1?this.q_(s):this.onNext(s))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return Ge(L6,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return n=>{this.bi.enqueueAndForget(()=>this.m_===e?n():(Ge(L6,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class IEt extends GW{constructor(e,n,r,s,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=a}k_(e,n){return this.connection.a_("Listen",e,n)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const n=zSt(this.serializer,e),r=function(a){if(!("targetChange"in a))return Nn.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?Nn.min():o.readTime?ih(o.readTime):Nn.min()}(e);return this.listener.Q_(n,r)}U_(e){const n={};n.database=_N(this.serializer),n.addTarget=function(a,o){let l;const u=o.target;if(l=dN(u)?{documents:VSt(a,u)}:{query:HSt(a,u).gt},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=IW(a,o.resumeToken);const c=gN(a,o.expectedCount);c!==null&&(l.expectedCount=c)}else if(o.snapshotVersion.compareTo(Nn.min())>0){l.readTime=n2(a,o.snapshotVersion.toTimestamp());const c=gN(a,o.expectedCount);c!==null&&(l.expectedCount=c)}return l}(this.serializer,e);const r=GSt(this.serializer,e);r&&(n.labels=r),this.F_(n)}K_(e){const n={};n.database=_N(this.serializer),n.removeTarget=e,this.F_(n)}}class DEt extends GW{constructor(e,n,r,s,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=a}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,n){return this.connection.a_("Write",e,n)}q_(e){return Vi(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Vi(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){Vi(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const n=FSt(e.writeResults,e.commitTime),r=ih(e.commitTime);return this.listener.j_(r,n)}H_(){const e={};e.database=_N(this.serializer),this.F_(e)}G_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>BSt(this.serializer,r))};this.F_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NEt{}class LEt extends NEt{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.J_=!1}Y_(){if(this.J_)throw new qe(ge.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,n,r,s){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Qo(e,yN(n,r),s,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new qe(ge.UNKNOWN,a.toString())})}Wo(e,n,r,s,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Wo(e,yN(n,r),s,o,l,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new qe(ge.UNKNOWN,o.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class UEt{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(zd(n),this.ea=!1):Ge("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy="RemoteStore";class kEt{constructor(e,n,r,s,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=a,this.ca.vo(o=>{r.enqueueAndForget(async()=>{d0(this)&&(Ge(Qy,"Restarting streams for network reachability change."),await async function(u){const c=Bn(u);c.aa.add(4),await jE(c),c.la.set("Unknown"),c.aa.delete(4),await rO(c)}(this))})}),this.la=new UEt(r,s)}}async function rO(i){if(d0(i))for(const e of i.ua)await e(!0)}async function jE(i){for(const e of i.ua)await e(!1)}function $W(i,e){const n=Bn(i);n._a.has(e.targetId)||(n._a.set(e.targetId,e),j4(n)?H4(n):Tb(n).b_()&&V4(n,e))}function F4(i,e){const n=Bn(i),r=Tb(n);n._a.delete(e),r.b_()&&qW(n,e),n._a.size===0&&(r.b_()?r.v_():d0(n)&&n.la.set("Unknown"))}function V4(i,e){if(i.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Nn.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Tb(i).U_(e)}function qW(i,e){i.ha.Ke(e),Tb(i).K_(e)}function H4(i){i.ha=new PSt({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>i._a.get(e)||null,Pt:()=>i.datastore.serializer.databaseId}),Tb(i).start(),i.la.ta()}function j4(i){return d0(i)&&!Tb(i).w_()&&i._a.size>0}function d0(i){return Bn(i).aa.size===0}function WW(i){i.ha=void 0}async function zEt(i){i.la.set("Online")}async function BEt(i){i._a.forEach((e,n)=>{V4(i,e)})}async function FEt(i,e){WW(i),j4(i)?(i.la.ia(e),H4(i)):i.la.set("Unknown")}async function VEt(i,e,n){if(i.la.set("Online"),e instanceof PW&&e.state===2&&e.cause)try{await async function(s,a){const o=a.cause;for(const l of a.targetIds)s._a.has(l)&&(await s.remoteSyncer.rejectListen(l,o),s._a.delete(l),s.ha.removeTarget(l))}(i,e)}catch(r){Ge(Qy,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await r2(i,r)}else if(e instanceof EM?i.ha.Xe(e):e instanceof OW?i.ha.ot(e):i.ha.nt(e),!n.isEqual(Nn.min()))try{const r=await HW(i.localStore);n.compareTo(r)>=0&&await function(a,o){const l=a.ha.It(o);return l.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const h=a._a.get(c);h&&a._a.set(c,h.withResumeToken(u.resumeToken,o))}}),l.targetMismatches.forEach((u,c)=>{const h=a._a.get(u);if(!h)return;a._a.set(u,h.withResumeToken(Ta.EMPTY_BYTE_STRING,h.snapshotVersion)),qW(a,u);const p=new lm(h.target,u,c,h.sequenceNumber);V4(a,p)}),a.remoteSyncer.applyRemoteEvent(l)}(i,n)}catch(r){Ge(Qy,"Failed to raise snapshot:",r),await r2(i,r)}}async function r2(i,e,n){if(!Eb(e))throw e;i.aa.add(1),await jE(i),i.la.set("Offline"),n||(n=()=>HW(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{Ge(Qy,"Retrying IndexedDB access"),await n(),i.aa.delete(1),await rO(i)})}function XW(i,e){return e().catch(n=>r2(i,n,e))}async function sO(i){const e=Bn(i),n=Om(e);let r=e.oa.length>0?e.oa[e.oa.length-1].batchId:M4;for(;HEt(e);)try{const s=await EEt(e.localStore,r);if(s===null){e.oa.length===0&&n.v_();break}r=s.batchId,jEt(e,s)}catch(s){await r2(e,s)}YW(e)&&KW(e)}function HEt(i){return d0(i)&&i.oa.length<10}function jEt(i,e){i.oa.push(e);const n=Om(i);n.b_()&&n.W_&&n.G_(e.mutations)}function YW(i){return d0(i)&&!Om(i).w_()&&i.oa.length>0}function KW(i){Om(i).start()}async function GEt(i){Om(i).H_()}async function $Et(i){const e=Om(i);for(const n of i.oa)e.G_(n.mutations)}async function qEt(i,e,n){const r=i.oa.shift(),s=D4.from(r,e,n);await XW(i,()=>i.remoteSyncer.applySuccessfulWrite(s)),await sO(i)}async function WEt(i,e){e&&Om(i).W_&&await async function(r,s){if(function(o){return RSt(o)&&o!==ge.ABORTED}(s.code)){const a=r.oa.shift();Om(r).D_(),await XW(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s)),await sO(r)}}(i,e),YW(i)&&KW(i)}async function U6(i,e){const n=Bn(i);n.asyncQueue.verifyOperationInProgress(),Ge(Qy,"RemoteStore received new credentials");const r=d0(n);n.aa.add(3),await jE(n),r&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.aa.delete(3),await rO(n)}async function XEt(i,e){const n=Bn(i);e?(n.aa.delete(2),await rO(n)):e||(n.aa.add(2),await jE(n),n.la.set("Unknown"))}function Tb(i){return i.Pa||(i.Pa=function(n,r,s){const a=Bn(n);return a.Y_(),new IEt(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(i.datastore,i.asyncQueue,{jo:zEt.bind(null,i),Jo:BEt.bind(null,i),Zo:FEt.bind(null,i),Q_:VEt.bind(null,i)}),i.ua.push(async e=>{e?(i.Pa.D_(),j4(i)?H4(i):i.la.set("Unknown")):(await i.Pa.stop(),WW(i))})),i.Pa}function Om(i){return i.Ta||(i.Ta=function(n,r,s){const a=Bn(n);return a.Y_(),new DEt(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(i.datastore,i.asyncQueue,{jo:()=>Promise.resolve(),Jo:GEt.bind(null,i),Zo:WEt.bind(null,i),z_:$Et.bind(null,i),j_:qEt.bind(null,i)}),i.ua.push(async e=>{e?(i.Ta.D_(),await sO(i)):(await i.Ta.stop(),i.oa.length>0&&(Ge(Qy,`Stopping write stream with ${i.oa.length} pending writes`),i.oa=[]))})),i.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(e,n,r,s,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new gm,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,a){const o=Date.now()+r,l=new G4(e,n,o,s,a);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new qe(ge.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $4(i,e){if(zd("AsyncQueue",`${e}: ${i}`),Eb(i))return new qe(ge.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{static emptySet(e){return new b_(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||hn.comparator(n.key,r.key):(n,r)=>hn.comparator(n.key,r.key),this.keyedMap=P1(),this.sortedSet=new qr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof b_)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new b_;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(){this.Ia=new qr(hn.comparator)}track(e){const n=e.doc.key,r=this.Ia.get(n);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(n,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(n):e.type===1&&r.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):wn(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(n,e)}da(){const e=[];return this.Ia.inorderTraversal((n,r)=>{e.push(r)}),e}}class K_{constructor(e,n,r,s,a,o,l,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,a){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new K_(e,n,b_.emptySet(n),o,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&QR(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YEt{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class KEt{constructor(){this.queries=z6(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,r){const s=Bn(n),a=s.queries;s.queries=z6(),a.forEach((o,l)=>{for(const u of l.Ra)u.onError(r)})})(this,new qe(ge.ABORTED,"Firestore shutting down"))}}function z6(){return new f0(i=>gW(i),QR)}async function ZEt(i,e){const n=Bn(i);let r=3;const s=e.query;let a=n.queries.get(s);a?!a.Va()&&e.ma()&&(r=2):(a=new YEt,r=e.ma()?0:1);try{switch(r){case 0:a.Aa=await n.onListen(s,!0);break;case 1:a.Aa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const l=$4(o,`Initialization of query '${r_(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,a),a.Ra.push(e),e.ga(n.onlineState),a.Aa&&e.pa(a.Aa)&&q4(n)}async function QEt(i,e){const n=Bn(i),r=e.query;let s=3;const a=n.queries.get(r);if(a){const o=a.Ra.indexOf(e);o>=0&&(a.Ra.splice(o,1),a.Ra.length===0?s=e.ma()?0:1:!a.Va()&&e.ma()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function JEt(i,e){const n=Bn(i);let r=!1;for(const s of e){const a=s.query,o=n.queries.get(a);if(o){for(const l of o.Ra)l.pa(s)&&(r=!0);o.Aa=s}}r&&q4(n)}function tTt(i,e,n){const r=Bn(i),s=r.queries.get(e);if(s)for(const a of s.Ra)a.onError(n);r.queries.delete(e)}function q4(i){i.fa.forEach(e=>{e.next()})}var SN,B6;(B6=SN||(SN={})).ya="default",B6.Cache="cache";class eTt{constructor(e,n,r){this.query=e,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new K_(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ba?this.Da(e)&&(this.wa.next(e),n=!0):this.va(e,this.onlineState)&&(this.Ca(e),n=!0),this.Sa=e,n}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),n=!0),n}va(e,n){if(!e.fromCache||!this.ma())return!0;const r=n!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const n=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(e){e=K_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==SN.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZW{constructor(e){this.key=e}}class QW{constructor(e){this.key=e}}class nTt{constructor(e,n){this.query=e,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=hi(),this.mutatedKeys=hi(),this.Ua=yW(e),this.Ka=new b_(this.Ua)}get Wa(){return this.qa}Ga(e,n){const r=n?n.za:new k6,s=n?n.Ka:this.Ka;let a=n?n.mutatedKeys:this.mutatedKeys,o=s,l=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,p)=>{const g=s.get(h),v=JR(this.query,p)?p:null,b=!!g&&this.mutatedKeys.has(g.key),S=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let E=!1;g&&v?g.data.isEqual(v.data)?b!==S&&(r.track({type:3,doc:v}),E=!0):this.ja(g,v)||(r.track({type:2,doc:v}),E=!0,(u&&this.Ua(v,u)>0||c&&this.Ua(v,c)<0)&&(l=!0)):!g&&v?(r.track({type:0,doc:v}),E=!0):g&&!v&&(r.track({type:1,doc:g}),E=!0,(u||c)&&(l=!0)),E&&(v?(o=o.add(v),a=S?a.add(h):a.delete(h)):(o=o.delete(h),a=a.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),a=a.delete(h.key),r.track({type:1,doc:h})}return{Ka:o,za:r,ys:l,mutatedKeys:a}}ja(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const a=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const o=e.za.da();o.sort((h,p)=>function(v,b){const S=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wn(20277,{Vt:E})}};return S(v)-S(b)}(h.type,p.type)||this.Ua(h.doc,p.doc)),this.Ha(r),s=s!=null&&s;const l=n&&!s?this.Ja():[],u=this.$a.size===0&&this.current&&!s?1:0,c=u!==this.Qa;return this.Qa=u,o.length!==0||c?{snapshot:new K_(this.query,e.Ka,a,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:l}:{Ya:l}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new k6,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=hi(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const n=[];return e.forEach(r=>{this.$a.has(r)||n.push(new QW(r))}),this.$a.forEach(r=>{e.has(r)||n.push(new ZW(r))}),n}Xa(e){this.qa=e.Ns,this.$a=hi();const n=this.Ga(e.documents);return this.applyChanges(n,!0)}eu(){return K_.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const W4="SyncEngine";class iTt{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class rTt{constructor(e){this.key=e,this.tu=!1}}class sTt{constructor(e,n,r,s,a,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.nu={},this.ru=new f0(l=>gW(l),QR),this.iu=new Map,this.su=new Set,this.ou=new qr(hn.comparator),this._u=new Map,this.au=new U4,this.uu={},this.cu=new Map,this.lu=Y_.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function aTt(i,e,n=!0){const r=rX(i);let s;const a=r.ru.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.eu()):s=await JW(r,e,n,!0),s}async function oTt(i,e){const n=rX(i);await JW(n,e,!0,!1)}async function JW(i,e,n,r){const s=await TEt(i.localStore,nh(e)),a=s.targetId,o=i.sharedClientState.addLocalQueryTarget(a,n);let l;return r&&(l=await lTt(i,e,a,o==="current",s.resumeToken)),i.isPrimaryClient&&n&&$W(i.remoteStore,s),l}async function lTt(i,e,n,r,s){i.Pu=(p,g,v)=>async function(S,E,x,A){let C=E.view.Ga(x);C.ys&&(C=await P6(S.localStore,E.query,!1).then(({documents:D})=>E.view.Ga(D,C)));const M=A&&A.targetChanges.get(E.targetId),P=A&&A.targetMismatches.get(E.targetId)!=null,k=E.view.applyChanges(C,S.isPrimaryClient,M,P);return V6(S,E.targetId,k.Ya),k.snapshot}(i,p,g,v);const a=await P6(i.localStore,e,!0),o=new nTt(e,a.Ns),l=o.Ga(a.documents),u=HE.createSynthesizedTargetChangeForCurrentChange(n,r&&i.onlineState!=="Offline",s),c=o.applyChanges(l,i.isPrimaryClient,u);V6(i,n,c.Ya);const h=new iTt(e,n,o);return i.ru.set(e,h),i.iu.has(n)?i.iu.get(n).push(e):i.iu.set(n,[e]),c.snapshot}async function uTt(i,e,n){const r=Bn(i),s=r.ru.get(e),a=r.iu.get(s.targetId);if(a.length>1)return r.iu.set(s.targetId,a.filter(o=>!QR(o,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await bN(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&F4(r.remoteStore,s.targetId),EN(r,s.targetId)}).catch(Sb)):(EN(r,s.targetId),await bN(r.localStore,s.targetId,!0))}async function cTt(i,e){const n=Bn(i),r=n.ru.get(e),s=n.iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),F4(n.remoteStore,r.targetId))}async function fTt(i,e,n){const r=vTt(i);try{const s=await function(o,l){const u=Bn(o),c=Hs.now(),h=l.reduce((v,b)=>v.add(b.key),hi());let p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let b=Bd(),S=hi();return u.Cs.getEntries(v,h).next(E=>{b=E,b.forEach((x,A)=>{A.isValidDocument()||(S=S.add(x))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,b)).next(E=>{p=E;const x=[];for(const A of l){const C=TSt(A,p.get(A.key).overlayedDocument);C!=null&&x.push(new h0(A.key,C,oW(C.value.mapValue),Ad.exists(!0)))}return u.mutationQueue.addMutationBatch(v,c,x,l)}).next(E=>{g=E;const x=E.applyToLocalDocumentSet(p,S);return u.documentOverlayCache.saveOverlays(v,E.batchId,x)})}).then(()=>({batchId:g.batchId,changes:_W(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,l,u){let c=o.uu[o.currentUser.toKey()];c||(c=new qr(ii)),c=c.insert(l,u),o.uu[o.currentUser.toKey()]=c}(r,s.batchId,n),await GE(r,s.changes),await sO(r.remoteStore)}catch(s){const a=$4(s,"Failed to persist write");n.reject(a)}}async function tX(i,e){const n=Bn(i);try{const r=await xEt(n.localStore,e);e.targetChanges.forEach((s,a)=>{const o=n._u.get(a);o&&(Vi(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.tu=!0:s.modifiedDocuments.size>0?Vi(o.tu,14607):s.removedDocuments.size>0&&(Vi(o.tu,42227),o.tu=!1))}),await GE(n,r,e)}catch(r){await Sb(r)}}function F6(i,e,n){const r=Bn(i);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ru.forEach((a,o)=>{const l=o.view.ga(e);l.snapshot&&s.push(l.snapshot)}),function(o,l){const u=Bn(o);u.onlineState=l;let c=!1;u.queries.forEach((h,p)=>{for(const g of p.Ra)g.ga(l)&&(c=!0)}),c&&q4(u)}(r.eventManager,e),s.length&&r.nu.Q_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function hTt(i,e,n){const r=Bn(i);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r._u.get(e),a=s&&s.key;if(a){let o=new qr(hn.comparator);o=o.insert(a,$a.newNoDocument(a,Nn.min()));const l=hi().add(a),u=new nO(Nn.min(),new Map,new qr(ii),o,l);await tX(r,u),r.ou=r.ou.remove(a),r._u.delete(e),X4(r)}else await bN(r.localStore,e,!1).then(()=>EN(r,e,n)).catch(Sb)}async function dTt(i,e){const n=Bn(i),r=e.batch.batchId;try{const s=await bEt(n.localStore,e);nX(n,r,null),eX(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await GE(n,s)}catch(s){await Sb(s)}}async function pTt(i,e,n){const r=Bn(i);try{const s=await function(o,l){const u=Bn(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return u.mutationQueue.lookupMutationBatch(c,l).next(p=>(Vi(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(c,p))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,h,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>u.localDocuments.getDocuments(c,h))})}(r.localStore,e);nX(r,e,n),eX(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await GE(r,s)}catch(s){await Sb(s)}}function eX(i,e){(i.cu.get(e)||[]).forEach(n=>{n.resolve()}),i.cu.delete(e)}function nX(i,e,n){const r=Bn(i);let s=r.uu[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(n?a.reject(n):a.resolve(),s=s.remove(e)),r.uu[r.currentUser.toKey()]=s}}function EN(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const r of i.iu.get(e))i.ru.delete(r),n&&i.nu.Tu(r,n);i.iu.delete(e),i.isPrimaryClient&&i.au.Ur(e).forEach(r=>{i.au.containsKey(r)||iX(i,r)})}function iX(i,e){i.su.delete(e.path.canonicalString());const n=i.ou.get(e);n!==null&&(F4(i.remoteStore,n),i.ou=i.ou.remove(e),i._u.delete(n),X4(i))}function V6(i,e,n){for(const r of n)r instanceof ZW?(i.au.addReference(r.key,e),mTt(i,r)):r instanceof QW?(Ge(W4,"Document no longer in limbo: "+r.key),i.au.removeReference(r.key,e),i.au.containsKey(r.key)||iX(i,r.key)):wn(19791,{Iu:r})}function mTt(i,e){const n=e.key,r=n.path.canonicalString();i.ou.get(n)||i.su.has(r)||(Ge(W4,"New document in limbo: "+n),i.su.add(r),X4(i))}function X4(i){for(;i.su.size>0&&i.ou.size<i.maxConcurrentLimboResolutions;){const e=i.su.values().next().value;i.su.delete(e);const n=new hn(xr.fromString(e)),r=i.lu.next();i._u.set(r,new rTt(n)),i.ou=i.ou.insert(n,r),$W(i.remoteStore,new lm(nh(pW(n.path)),r,"TargetPurposeLimboResolution",YR.le))}}async function GE(i,e,n){const r=Bn(i),s=[],a=[],o=[];r.ru.isEmpty()||(r.ru.forEach((l,u)=>{o.push(r.Pu(u,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const p=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(c){s.push(c);const p=z4.Ps(u.targetId,c);a.push(p)}}))}),await Promise.all(o),r.nu.Q_(s),await async function(u,c){const h=Bn(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>he.forEach(c,g=>he.forEach(g.ls,v=>h.persistence.referenceDelegate.addReference(p,g.targetId,v)).next(()=>he.forEach(g.hs,v=>h.persistence.referenceDelegate.removeReference(p,g.targetId,v)))))}catch(p){if(!Eb(p))throw p;Ge(B4,"Failed to update sequence numbers: "+p)}for(const p of c){const g=p.targetId;if(!p.fromCache){const v=h.Ss.get(g),b=v.snapshotVersion,S=v.withLastLimboFreeSnapshotVersion(b);h.Ss=h.Ss.insert(g,S)}}}(r.localStore,a))}async function gTt(i,e){const n=Bn(i);if(!n.currentUser.isEqual(e)){Ge(W4,"User change. New user:",e.toKey());const r=await VW(n.localStore,e);n.currentUser=e,function(a,o){a.cu.forEach(l=>{l.forEach(u=>{u.reject(new qe(ge.CANCELLED,o))})}),a.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await GE(n,r.Ms)}}function yTt(i,e){const n=Bn(i),r=n._u.get(e);if(r&&r.tu)return hi().add(r.key);{let s=hi();const a=n.iu.get(e);if(!a)return s;for(const o of a){const l=n.ru.get(o);s=s.unionWith(l.view.Wa)}return s}}function rX(i){const e=Bn(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=tX.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yTt.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hTt.bind(null,e),e.nu.Q_=JEt.bind(null,e.eventManager),e.nu.Tu=tTt.bind(null,e.eventManager),e}function vTt(i){const e=Bn(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dTt.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=pTt.bind(null,e),e}class s2{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=iO(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,n){return null}fu(e,n){return null}Vu(e){return _Et(this.persistence,new gEt,e.initialUser,this.serializer)}Ru(e){return new FW(k4.Ei,this.serializer)}Au(e){return new AEt}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}s2.provider={build:()=>new s2};class _Tt extends s2{constructor(e){super(),this.cacheSizeBytes=e}mu(e,n){Vi(this.persistence.referenceDelegate instanceof i2,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new eEt(r,e.asyncQueue,n)}Ru(e){const n=this.cacheSizeBytes!==void 0?sl.withCacheSize(this.cacheSizeBytes):sl.DEFAULT;return new FW(r=>i2.Ei(r,n),this.serializer)}}class TN{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>F6(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=gTt.bind(null,this.syncEngine),await XEt(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new KEt}()}createDatastore(e){const n=iO(e.databaseInfo.databaseId),r=function(a){return new PEt(a)}(e.databaseInfo);return function(a,o,l,u){return new LEt(a,o,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,a,o,l){return new kEt(r,s,a,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>F6(this.syncEngine,n,0),function(){return N6.C()?new N6:new MEt}())}createSyncEngine(e,n){return function(s,a,o,l,u,c,h){const p=new sTt(s,a,o,l,u,c);return h&&(p.hu=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const a=Bn(s);Ge(Qy,"RemoteStore shutting down."),a.aa.add(5),await jE(a),a.ca.shutdown(),a.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}TN.provider={build:()=>new TN};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bTt{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):zd("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pm="FirestoreClient";class xTt{constructor(e,n,r,s,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Ga.UNAUTHENTICATED,this.clientId=Zq.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async o=>{Ge(Pm,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Ge(Pm,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gm;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=$4(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function cD(i,e){i.asyncQueue.verifyOperationInProgress(),Ge(Pm,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let r=n.initialUser;i.setCredentialChangeListener(async s=>{r.isEqual(s)||(await VW(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function H6(i,e){i.asyncQueue.verifyOperationInProgress();const n=await STt(i);Ge(Pm,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(r=>U6(e.remoteStore,r)),i.setAppCheckTokenChangeListener((r,s)=>U6(e.remoteStore,s)),i._onlineComponents=e}async function STt(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){Ge(Pm,"Using user provided OfflineComponentProvider");try{await cD(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===ge.FAILED_PRECONDITION||s.code===ge.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;$_("Error using user provided cache. Falling back to memory cache: "+n),await cD(i,new s2)}}else Ge(Pm,"Using default OfflineComponentProvider"),await cD(i,new _Tt(void 0));return i._offlineComponents}async function sX(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(Ge(Pm,"Using user provided OnlineComponentProvider"),await H6(i,i._uninitializedComponentsProvider._online)):(Ge(Pm,"Using default OnlineComponentProvider"),await H6(i,new TN))),i._onlineComponents}function ETt(i){return sX(i).then(e=>e.syncEngine)}async function TTt(i){const e=await sX(i),n=e.eventManager;return n.onListen=aTt.bind(null,e.syncEngine),n.onUnlisten=uTt.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=oTt.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=cTt.bind(null,e.syncEngine),n}function wTt(i,e,n={}){const r=new gm;return i.asyncQueue.enqueueAndForget(async()=>function(a,o,l,u,c){const h=new bTt({next:g=>{h.yu(),o.enqueueAndForget(()=>QEt(a,p)),g.fromCache&&u.source==="server"?c.reject(new qe(ge.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(g)},error:g=>c.reject(g)}),p=new eTt(l,h,{includeMetadataChanges:!0,Fa:!0});return ZEt(a,p)}(await TTt(i),i.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aX(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j6=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oX(i,e,n){if(!n)throw new qe(ge.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function ATt(i,e,n,r){if(e===!0&&r===!0)throw new qe(ge.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function G6(i){if(!hn.isDocumentKey(i))throw new qe(ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function $6(i){if(hn.isDocumentKey(i))throw new qe(ge.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function aO(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":wn(12329,{type:typeof i})}function a2(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new qe(ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=aO(i);throw new qe(ge.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lX="firestore.googleapis.com",q6=!0;class W6{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new qe(ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=lX,this.ssl=q6}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:q6;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=BW;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<JSt)throw new qe(ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ATt("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=aX((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new qe(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new qe(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new qe(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class oO{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new W6({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new qe(ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new qe(ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new W6(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new O1t;switch(r.type){case"firstParty":return new N1t(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new qe(ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=j6.get(n);r&&(Ge("ComponentProvider","Removing Datastore"),j6.delete(n),r.terminate())}(this),Promise.resolve()}}function MTt(i,e,n,r={}){var s;const a=(i=a2(i,oO))._getSettings(),o=Object.assign(Object.assign({},a),{emulatorOptions:i._getEmulatorOptions()}),l=`${e}:${n}`;a.host!==lX&&a.host!==l&&$_("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},a),{host:l,ssl:!1,emulatorOptions:r});if(!Xy(u,o)&&(i._setSettings(u),r.mockUserToken)){let c,h;if(typeof r.mockUserToken=="string")c=r.mockUserToken,h=Ga.MOCK_USER;else{c=n_t(r.mockUserToken,(s=i._app)===null||s===void 0?void 0:s.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new qe(ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Ga(p)}i._authCredentials=new P1t(new Yq(c,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new wb(this.firestore,e,this._query)}}class Fu{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ym(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Fu(this.firestore,e,this._key)}}class ym extends wb{constructor(e,n,r){super(e,n,pW(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Fu(this.firestore,null,new hn(e))}withConverter(e){return new ym(this.firestore,e,this._path)}}function x_(i,e,...n){if(i=bl(i),oX("collection","path",e),i instanceof oO){const r=xr.fromString(e,...n);return $6(r),new ym(i,null,r)}{if(!(i instanceof Fu||i instanceof ym))throw new qe(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(xr.fromString(e,...n));return $6(r),new ym(i.firestore,null,r)}}function CTt(i,e,...n){if(i=bl(i),arguments.length===1&&(e=Zq.newId()),oX("doc","path",e),i instanceof oO){const r=xr.fromString(e,...n);return G6(r),new Fu(i,null,new hn(r))}{if(!(i instanceof Fu||i instanceof ym))throw new qe(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(xr.fromString(e,...n));return G6(r),new Fu(i.firestore,i instanceof ym?i.converter:null,new hn(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X6="AsyncQueue";class Y6{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new jW(this,"async_queue_retry"),this.ju=()=>{const r=uD();r&&Ge(X6,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const n=uD();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const n=uD();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new gm;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!Eb(e))throw e;Ge(X6,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const n=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,zd("INTERNAL UNHANDLED ERROR: ",K6(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=n,n}enqueueAfterDelay(e,n,r){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);const s=G4.createAndSchedule(this,e,n,r,a=>this.Xu(a));return this.Uu.push(s),s}Ju(){this.Ku&&wn(47125,{ec:K6(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const n=this.Uu.indexOf(e);this.Uu.splice(n,1)}}function K6(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class Y4 extends oO{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new Y6,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Y6(e),this._firestoreClient=void 0,await e}}}function RTt(i,e){const n=typeof i=="object"?i:uq(),r=typeof i=="string"?i:KC,s=p4(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=t_t("firestore");a&&MTt(s,...a)}return s}function uX(i){if(i._terminated)throw new qe(ge.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||OTt(i),i._firestoreClient}function OTt(i){var e,n,r;const s=i._freezeSettings(),a=function(l,u,c,h){return new Y1t(l,u,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,aX(h.experimentalLongPollingOptions),h.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,s);i._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(i._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),i._firestoreClient=new xTt(i._authCredentials,i._appCheckCredentials,i._queue,a,i._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Z_(Ta.fromBase64String(e))}catch(n){throw new qe(ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Z_(Ta.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new qe(ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _a(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cX{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new qe(ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new qe(ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ii(this._lat,e._lat)||ii(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PTt=/^__.*__$/;class ITt{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new h0(e,this.data,this.fieldMask,n,this.fieldTransforms):new VE(e,this.data,n,this.fieldTransforms)}}function fX(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wn(40011,{oc:i})}}class J4{constructor(e,n,r,s,a,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this._c(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new J4(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ac({path:r,cc:!1});return s.lc(e),s}hc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ac({path:r,cc:!1});return s._c(),s}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return o2(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(fX(this.oc)&&PTt.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class DTt{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||iO(e)}dc(e,n,r,s=!1){return new J4({oc:e,methodName:n,Ec:r,path:_a.emptyPath(),cc:!1,Ic:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hX(i){const e=i._freezeSettings(),n=iO(i._databaseId);return new DTt(i._databaseId,!!e.ignoreUndefinedProperties,n)}function NTt(i,e,n,r,s,a={}){const o=i.dc(a.merge||a.mergeFields?2:0,e,n,s);mX("Data must be an object, but it was:",o,r);const l=dX(r,o);let u,c;if(a.merge)u=new Ic(o.fieldMask),c=o.fieldTransforms;else if(a.mergeFields){const h=[];for(const p of a.mergeFields){const g=UTt(e,p,n);if(!o.contains(g))throw new qe(ge.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);zTt(h,g)||h.push(g)}u=new Ic(h),c=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,c=o.fieldTransforms;return new ITt(new Iu(l),u,c)}function LTt(i,e,n,r=!1){return tk(n,i.dc(r?4:3,e))}function tk(i,e){if(pX(i=bl(i)))return mX("Unsupported field value:",e,i),dX(i,e);if(i instanceof cX)return function(r,s){if(!fX(s.oc))throw s.Tc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Tc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,s){const a=[];let o=0;for(const l of r){let u=tk(l,s.Pc(o));u==null&&(u={nullValue:"NULL_VALUE"}),a.push(u),o++}return{arrayValue:{values:a}}}(i,e)}return function(r,s){if((r=bl(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return vSt(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Hs.fromDate(r);return{timestampValue:n2(s.serializer,a)}}if(r instanceof Hs){const a=new Hs(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:n2(s.serializer,a)}}if(r instanceof Z4)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Z_)return{bytesValue:IW(s.serializer,r._byteString)};if(r instanceof Fu){const a=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(a))throw s.Tc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:L4(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Q4)return function(o,l){return{mapValue:{fields:{[sW]:{stringValue:aW},[ZC]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw l.Tc("VectorValues must only contain numeric values.");return I4(l.serializer,c)})}}}}}}(r,s);throw s.Tc(`Unsupported field value: ${aO(r)}`)}(i,e)}function dX(i,e){const n={};return Jq(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):c0(i,(r,s)=>{const a=tk(s,e.uc(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function pX(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Hs||i instanceof Z4||i instanceof Z_||i instanceof Fu||i instanceof cX||i instanceof Q4)}function mX(i,e,n){if(!pX(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=aO(n);throw r==="an object"?e.Tc(i+" a custom object"):e.Tc(i+" "+r)}}function UTt(i,e,n){if((e=bl(e))instanceof K4)return e._internalPath;if(typeof e=="string")return gX(i,e);throw o2("Field path arguments must be of type string or ",i,!1,void 0,n)}const kTt=new RegExp("[~\\*/\\[\\]]");function gX(i,e,n){if(e.search(kTt)>=0)throw o2(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new K4(...e.split("."))._internalPath}catch{throw o2(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function o2(i,e,n,r,s){const a=r&&!r.isEmpty(),o=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(a||o)&&(u+=" (found",a&&(u+=` in field ${r}`),o&&(u+=` in document ${s}`),u+=")"),new qe(ge.INVALID_ARGUMENT,l+i+u)}function zTt(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yX{constructor(e,n,r,s,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Fu(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new BTt(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ek("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class BTt extends yX{data(){return super.data()}}function ek(i,e){return typeof e=="string"?gX(i,e):e instanceof K4?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FTt(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new qe(ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class nk{}class VTt extends nk{}function HTt(i,e,...n){let r=[];e instanceof nk&&r.push(e),r=r.concat(n),function(a){const o=a.filter(u=>u instanceof ik).length,l=a.filter(u=>u instanceof lO).length;if(o>1||o>0&&l>0)throw new qe(ge.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)i=s._apply(i);return i}class lO extends VTt{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new lO(e,n,r)}_apply(e){const n=this._parse(e);return vX(e._query,n),new wb(e.firestore,e.converter,pN(e._query,n))}_parse(e){const n=hX(e.firestore);return function(a,o,l,u,c,h,p){let g;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new qe(ge.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){Q6(p,h);const b=[];for(const S of p)b.push(Z6(u,a,S));g={arrayValue:{values:b}}}else g=Z6(u,a,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||Q6(p,h),g=LTt(l,o,p,h==="in"||h==="not-in");return Ps.create(c,h,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function jTt(i,e,n){const r=e,s=ek("where",i);return lO._create(s,r,n)}class ik extends nk{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ik(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:zc.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,a){let o=s;const l=a.getFlattenedFilters();for(const u of l)vX(o,u),o=pN(o,u)}(e._query,n),new wb(e.firestore,e.converter,pN(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Z6(i,e,n){if(typeof(n=bl(n))=="string"){if(n==="")throw new qe(ge.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mW(e)&&n.indexOf("/")!==-1)throw new qe(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(xr.fromString(n));if(!hn.isDocumentKey(r))throw new qe(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return h6(i,new hn(r))}if(n instanceof Fu)return h6(i,n._key);throw new qe(ge.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${aO(n)}.`)}function Q6(i,e){if(!Array.isArray(i)||i.length===0)throw new qe(ge.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function vX(i,e){const n=function(s,a){for(const o of s)for(const l of o.getFlattenedFilters())if(a.indexOf(l.op)>=0)return l.op;return null}(i.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new qe(ge.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new qe(ge.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class GTt{convertValue(e,n="none"){switch(Rm(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ds(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Cm(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw wn(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return c0(e,(s,a)=>{r[s]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,s;const a=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[ZC].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>ds(o.doubleValue));return new Q4(a)}convertGeoPoint(e){return new Z4(ds(e.latitude),ds(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ZR(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(qS(e));default:return null}}convertTimestamp(e){const n=Mm(e);return new Hs(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=xr.fromString(e);Vi(zW(r),9688,{name:e});const s=new WS(r.get(1),r.get(3)),a=new hn(r.popFirst(5));return s.isEqual(n)||zd(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $Tt(i,e,n){let r;return r=i?i.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qTt extends yX{constructor(e,n,r,s,a,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new TM(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ek("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class TM extends qTt{data(e={}){return super.data(e)}}class WTt{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new AA(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new TM(this._firestore,this._userDataWriter,r.key,r,new AA(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new qe(ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(l=>{const u=new TM(s._firestore,s._userDataWriter,l.doc.key,l.doc,new AA(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>a||l.type!==3).map(l=>{const u=new TM(s._firestore,s._userDataWriter,l.doc.key,l.doc,new AA(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,h=-1;return l.type!==0&&(c=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),h=o.indexOf(l.doc.key)),{type:XTt(l.type),doc:u,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function XTt(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wn(61501,{type:i})}}class YTt extends GTt{constructor(e){super(),this.firestore=e}convertBytes(e){return new Z_(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Fu(this.firestore,null,n)}}function uO(i){i=a2(i,wb);const e=a2(i.firestore,Y4),n=uX(e),r=new YTt(e);return FTt(i._query),wTt(n,i._query).then(s=>new WTt(e,r,i,s))}function J6(i,e){const n=a2(i.firestore,Y4),r=CTt(i),s=$Tt(i.converter,e);return KTt(n,[NTt(hX(i.firestore),"addDoc",r._key,s,i.converter!==null,{}).toMutation(r._key,Ad.exists(!1))]).then(()=>r)}function KTt(i,e){return function(r,s){const a=new gm;return r.asyncQueue.enqueueAndForget(async()=>fTt(await ETt(r),s,a)),a.promise}(uX(i),e)}(function(e,n=!0){(function(s){xb=s})(_b),j_(new Yy("firestore",(r,{instanceIdentifier:s,options:a})=>{const o=r.getProvider("app").getImmediate(),l=new Y4(new I1t(r.getProvider("auth-internal")),new L1t(o,r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new qe(ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new WS(c.options.projectId,h)}(o,s),o);return a=Object.assign({useFetchStreams:n},a),l._setSettings(a),l},"PUBLIC").setMultipleInstances(!0)),pm(t6,e6,e),pm(t6,e6,"esm2017")})();const ZTt={apiKey:"AIzaSyD6drh2aoyblA6iwk80Ko26FHK2HK_cNmk",authDomain:"black-triangle-bjj.firebaseapp.com",projectId:"black-triangle-bjj",storageBucket:"black-triangle-bjj.firebasestorage.com",messagingSenderId:"128924794161",appId:"1:128924794161:web:7968a2a259fbc8899cc410",measurementId:"G-LBWF7DFVF5"},_X=lq(ZTt),S_=RTt(_X),rk=A1t(_X),QTt=new pd,JTt=()=>{const i={displayName:"",email:"",photoURL:""};pxt(rk,e=>{e?fn.setState({userLoginData:e,isUserLogin:!0}):fn.setState({userLoginData:i,isUserLogin:!1})})},twt={displayName:"",email:"",photoURL:""},ewt=async()=>{try{await mxt(rk),fn.setState({userLoginData:twt,isUserLogin:!1})}catch(i){console.error("Error al cerrar sesin:",i)}};function ud(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function bX(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.__proto__=e}/*!
 * GSAP 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Kl={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Q_={duration:.5,overwrite:!1,delay:0},sk,Ea,Rr,rh=1e8,Ya=1/rh,wN=Math.PI*2,nwt=wN/4,iwt=0,xX=Math.sqrt,rwt=Math.cos,swt=Math.sin,ia=function(e){return typeof e=="string"},ss=function(e){return typeof e=="function"},Fd=function(e){return typeof e=="number"},ak=function(e){return typeof e>"u"},ch=function(e){return typeof e=="object"},hl=function(e){return e!==!1},ok=function(){return typeof window<"u"},MA=function(e){return ss(e)||ia(e)},SX=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Ka=Array.isArray,AN=/(?:-?\.?\d|\.)+/gi,EX=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,f_=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,fD=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,TX=/[+-]=-?[.\d]+/,wX=/[^,'"\[\]\s]+/gi,awt=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Hr,Uf,MN,lk,tu={},l2={},AX,MX=function(e){return(l2=J_(e,tu))&&xl},uk=function(e,n){return console.warn("Invalid property",e,"set to",n,"Missing plugin? gsap.registerPlugin()")},ZS=function(e,n){return!n&&console.warn(e)},CX=function(e,n){return e&&(tu[e]=n)&&l2&&(l2[e]=n)||tu},QS=function(){return 0},owt={suppressEvents:!0,isStart:!0,kill:!1},wM={suppressEvents:!0,kill:!1},lwt={suppressEvents:!0},ck={},vm=[],CN={},RX,jl={},hD={},t8=30,AM=[],fk="",hk=function(e){var n=e[0],r,s;if(ch(n)||ss(n)||(e=[e]),!(r=(n._gsap||{}).harness)){for(s=AM.length;s--&&!AM[s].targetTest(n););r=AM[s]}for(s=e.length;s--;)e[s]&&(e[s]._gsap||(e[s]._gsap=new JX(e[s],r)))||e.splice(s,1);return e},Ry=function(e){return e._gsap||hk(Uu(e))[0]._gsap},OX=function(e,n,r){return(r=e[n])&&ss(r)?e[n]():ak(r)&&e.getAttribute&&e.getAttribute(n)||r},dl=function(e,n){return(e=e.split(",")).forEach(n)||e},ps=function(e){return Math.round(e*1e5)/1e5||0},Rs=function(e){return Math.round(e*1e7)/1e7||0},E_=function(e,n){var r=n.charAt(0),s=parseFloat(n.substr(2));return e=parseFloat(e),r==="+"?e+s:r==="-"?e-s:r==="*"?e*s:e/s},uwt=function(e,n){for(var r=n.length,s=0;e.indexOf(n[s])<0&&++s<r;);return s<r},u2=function(){var e=vm.length,n=vm.slice(0),r,s;for(CN={},vm.length=0,r=0;r<e;r++)s=n[r],s&&s._lazy&&(s.render(s._lazy[0],s._lazy[1],!0)._lazy=0)},dk=function(e){return!!(e._initted||e._startAt||e.add)},PX=function(e,n,r,s){vm.length&&!Ea&&u2(),e.render(n,r,!!(Ea&&n<0&&dk(e))),vm.length&&!Ea&&u2()},IX=function(e){var n=parseFloat(e);return(n||n===0)&&(e+"").match(wX).length<2?n:ia(e)?e.trim():e},DX=function(e){return e},eu=function(e,n){for(var r in n)r in e||(e[r]=n[r]);return e},cwt=function(e){return function(n,r){for(var s in r)s in n||s==="duration"&&e||s==="ease"||(n[s]=r[s])}},J_=function(e,n){for(var r in n)e[r]=n[r];return e},e8=function i(e,n){for(var r in n)r!=="__proto__"&&r!=="constructor"&&r!=="prototype"&&(e[r]=ch(n[r])?i(e[r]||(e[r]={}),n[r]):n[r]);return e},c2=function(e,n){var r={},s;for(s in e)s in n||(r[s]=e[s]);return r},aS=function(e){var n=e.parent||Hr,r=e.keyframes?cwt(Ka(e.keyframes)):eu;if(hl(e.inherit))for(;n;)r(e,n.vars.defaults),n=n.parent||n._dp;return e},fwt=function(e,n){for(var r=e.length,s=r===n.length;s&&r--&&e[r]===n[r];);return r<0},NX=function(e,n,r,s,a){var o=e[s],l;if(a)for(l=n[a];o&&o[a]>l;)o=o._prev;return o?(n._next=o._next,o._next=n):(n._next=e[r],e[r]=n),n._next?n._next._prev=n:e[s]=n,n._prev=o,n.parent=n._dp=e,n},cO=function(e,n,r,s){r===void 0&&(r="_first"),s===void 0&&(s="_last");var a=n._prev,o=n._next;a?a._next=o:e[r]===n&&(e[r]=o),o?o._prev=a:e[s]===n&&(e[s]=a),n._next=n._prev=n.parent=null},Im=function(e,n){e.parent&&(!n||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Oy=function(e,n){if(e&&(!n||n._end>e._dur||n._start<0))for(var r=e;r;)r._dirty=1,r=r.parent;return e},hwt=function(e){for(var n=e.parent;n&&n.parent;)n._dirty=1,n.totalDuration(),n=n.parent;return e},RN=function(e,n,r,s){return e._startAt&&(Ea?e._startAt.revert(wM):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(n,!0,s))},dwt=function i(e){return!e||e._ts&&i(e.parent)},n8=function(e){return e._repeat?tb(e._tTime,e=e.duration()+e._rDelay)*e:0},tb=function(e,n){var r=Math.floor(e=Rs(e/n));return e&&r===e?r-1:r},f2=function(e,n){return(e-n._start)*n._ts+(n._ts>=0?0:n._dirty?n.totalDuration():n._tDur)},fO=function(e){return e._end=Rs(e._start+(e._tDur/Math.abs(e._ts||e._rts||Ya)||0))},hO=function(e,n){var r=e._dp;return r&&r.smoothChildTiming&&e._ts&&(e._start=Rs(r._time-(e._ts>0?n/e._ts:((e._dirty?e.totalDuration():e._tDur)-n)/-e._ts)),fO(e),r._dirty||Oy(r,e)),e},LX=function(e,n){var r;if((n._time||!n._dur&&n._initted||n._start<e._time&&(n._dur||!n.add))&&(r=f2(e.rawTime(),n),(!n._dur||$E(0,n.totalDuration(),r)-n._tTime>Ya)&&n.render(r,!0)),Oy(e,n)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(r=e;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;e._zTime=-1e-8}},jf=function(e,n,r,s){return n.parent&&Im(n),n._start=Rs((Fd(r)?r:r||e!==Hr?Cu(e,r,n):e._time)+n._delay),n._end=Rs(n._start+(n.totalDuration()/Math.abs(n.timeScale())||0)),NX(e,n,"_first","_last",e._sort?"_start":0),ON(n)||(e._recent=n),s||LX(e,n),e._ts<0&&hO(e,e._tTime),e},UX=function(e,n){return(tu.ScrollTrigger||uk("scrollTrigger",n))&&tu.ScrollTrigger.create(n,e)},kX=function(e,n,r,s,a){if(mk(e,n,a),!e._initted)return 1;if(!r&&e._pt&&!Ea&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&RX!==ql.frame)return vm.push(e),e._lazy=[a,s],1},pwt=function i(e){var n=e.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||i(n))},ON=function(e){var n=e.data;return n==="isFromStart"||n==="isStart"},mwt=function(e,n,r,s){var a=e.ratio,o=n<0||!n&&(!e._start&&pwt(e)&&!(!e._initted&&ON(e))||(e._ts<0||e._dp._ts<0)&&!ON(e))?0:1,l=e._rDelay,u=0,c,h,p;if(l&&e._repeat&&(u=$E(0,e._tDur,n),h=tb(u,l),e._yoyo&&h&1&&(o=1-o),h!==tb(e._tTime,l)&&(a=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==a||Ea||s||e._zTime===Ya||!n&&e._zTime){if(!e._initted&&kX(e,n,s,r,u))return;for(p=e._zTime,e._zTime=n||(r?Ya:0),r||(r=n&&!p),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=u,c=e._pt;c;)c.r(o,c.d),c=c._next;n<0&&RN(e,n,r,!0),e._onUpdate&&!r&&Wl(e,"onUpdate"),u&&e._repeat&&!r&&e.parent&&Wl(e,"onRepeat"),(n>=e._tDur||n<0)&&e.ratio===o&&(o&&Im(e,1),!r&&!Ea&&(Wl(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=n)},gwt=function(e,n,r){var s;if(r>n)for(s=e._first;s&&s._start<=r;){if(s.data==="isPause"&&s._start>n)return s;s=s._next}else for(s=e._last;s&&s._start>=r;){if(s.data==="isPause"&&s._start<n)return s;s=s._prev}},eb=function(e,n,r,s){var a=e._repeat,o=Rs(n)||0,l=e._tTime/e._tDur;return l&&!s&&(e._time*=o/e._dur),e._dur=o,e._tDur=a?a<0?1e10:Rs(o*(a+1)+e._rDelay*a):o,l>0&&!s&&hO(e,e._tTime=e._tDur*l),e.parent&&fO(e),r||Oy(e.parent,e),e},i8=function(e){return e instanceof wo?Oy(e):eb(e,e._dur)},ywt={_start:0,endTime:QS,totalDuration:QS},Cu=function i(e,n,r){var s=e.labels,a=e._recent||ywt,o=e.duration()>=rh?a.endTime(!1):e._dur,l,u,c;return ia(n)&&(isNaN(n)||n in s)?(u=n.charAt(0),c=n.substr(-1)==="%",l=n.indexOf("="),u==="<"||u===">"?(l>=0&&(n=n.replace(/=/,"")),(u==="<"?a._start:a.endTime(a._repeat>=0))+(parseFloat(n.substr(1))||0)*(c?(l<0?a:r).totalDuration()/100:1)):l<0?(n in s||(s[n]=o),s[n]):(u=parseFloat(n.charAt(l-1)+n.substr(l+1)),c&&r&&(u=u/100*(Ka(r)?r[0]:r).totalDuration()),l>1?i(e,n.substr(0,l-1),r)+u:o+u)):n==null?o:+n},oS=function(e,n,r){var s=Fd(n[1]),a=(s?2:1)+(e<2?0:1),o=n[a],l,u;if(s&&(o.duration=n[1]),o.parent=r,e){for(l=o,u=r;u&&!("immediateRender"in l);)l=u.vars.defaults||{},u=hl(u.vars.inherit)&&u.parent;o.immediateRender=hl(l.immediateRender),e<2?o.runBackwards=1:o.startAt=n[a-1]}return new Cs(n[0],o,n[a+1])},Hm=function(e,n){return e||e===0?n(e):n},$E=function(e,n,r){return r<e?e:r>n?n:r},qa=function(e,n){return!ia(e)||!(n=awt.exec(e))?"":n[1]},vwt=function(e,n,r){return Hm(r,function(s){return $E(e,n,s)})},PN=[].slice,zX=function(e,n){return e&&ch(e)&&"length"in e&&(!n&&!e.length||e.length-1 in e&&ch(e[0]))&&!e.nodeType&&e!==Uf},_wt=function(e,n,r){return r===void 0&&(r=[]),e.forEach(function(s){var a;return ia(s)&&!n||zX(s,1)?(a=r).push.apply(a,Uu(s)):r.push(s)})||r},Uu=function(e,n,r){return Rr&&!n&&Rr.selector?Rr.selector(e):ia(e)&&!r&&(MN||!nb())?PN.call((n||lk).querySelectorAll(e),0):Ka(e)?_wt(e,r):zX(e)?PN.call(e,0):e?[e]:[]},IN=function(e){return e=Uu(e)[0]||ZS("Invalid scope")||{},function(n){var r=e.current||e.nativeElement||e;return Uu(n,r.querySelectorAll?r:r===e?ZS("Invalid scope")||lk.createElement("div"):e)}},BX=function(e){return e.sort(function(){return .5-Math.random()})},FX=function(e){if(ss(e))return e;var n=ch(e)?e:{each:e},r=Py(n.ease),s=n.from||0,a=parseFloat(n.base)||0,o={},l=s>0&&s<1,u=isNaN(s)||l,c=n.axis,h=s,p=s;return ia(s)?h=p={center:.5,edges:.5,end:1}[s]||0:!l&&u&&(h=s[0],p=s[1]),function(g,v,b){var S=(b||n).length,E=o[S],x,A,C,M,P,k,D,N,U;if(!E){if(U=n.grid==="auto"?0:(n.grid||[1,rh])[1],!U){for(D=-1e8;D<(D=b[U++].getBoundingClientRect().left)&&U<S;);U<S&&U--}for(E=o[S]=[],x=u?Math.min(U,S)*h-.5:s%U,A=U===rh?0:u?S*p/U-.5:s/U|0,D=0,N=rh,k=0;k<S;k++)C=k%U-x,M=A-(k/U|0),E[k]=P=c?Math.abs(c==="y"?M:C):xX(C*C+M*M),P>D&&(D=P),P<N&&(N=P);s==="random"&&BX(E),E.max=D-N,E.min=N,E.v=S=(parseFloat(n.amount)||parseFloat(n.each)*(U>S?S-1:c?c==="y"?S/U:U:Math.max(U,S/U))||0)*(s==="edges"?-1:1),E.b=S<0?a-S:a,E.u=qa(n.amount||n.each)||0,r=r&&S<0?KX(r):r}return S=(E[g]-E.min)/E.max||0,Rs(E.b+(r?r(S):S)*E.v)+E.u}},DN=function(e){var n=Math.pow(10,((e+"").split(".")[1]||"").length);return function(r){var s=Rs(Math.round(parseFloat(r)/e)*e*n);return(s-s%1)/n+(Fd(r)?0:qa(r))}},VX=function(e,n){var r=Ka(e),s,a;return!r&&ch(e)&&(s=r=e.radius||rh,e.values?(e=Uu(e.values),(a=!Fd(e[0]))&&(s*=s)):e=DN(e.increment)),Hm(n,r?ss(e)?function(o){return a=e(o),Math.abs(a-o)<=s?a:o}:function(o){for(var l=parseFloat(a?o.x:o),u=parseFloat(a?o.y:0),c=rh,h=0,p=e.length,g,v;p--;)a?(g=e[p].x-l,v=e[p].y-u,g=g*g+v*v):g=Math.abs(e[p]-l),g<c&&(c=g,h=p);return h=!s||c<=s?e[h]:o,a||h===o||Fd(o)?h:h+qa(o)}:DN(e))},HX=function(e,n,r,s){return Hm(Ka(e)?!n:r===!0?!!(r=0):!s,function(){return Ka(e)?e[~~(Math.random()*e.length)]:(r=r||1e-5)&&(s=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((e-r/2+Math.random()*(n-e+r*.99))/r)*r*s)/s})},bwt=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(s){return n.reduce(function(a,o){return o(a)},s)}},xwt=function(e,n){return function(r){return e(parseFloat(r))+(n||qa(r))}},Swt=function(e,n,r){return GX(e,n,0,1,r)},jX=function(e,n,r){return Hm(r,function(s){return e[~~n(s)]})},Ewt=function i(e,n,r){var s=n-e;return Ka(e)?jX(e,i(0,e.length),n):Hm(r,function(a){return(s+(a-e)%s)%s+e})},Twt=function i(e,n,r){var s=n-e,a=s*2;return Ka(e)?jX(e,i(0,e.length-1),n):Hm(r,function(o){return o=(a+(o-e)%a)%a||0,e+(o>s?a-o:o)})},JS=function(e){for(var n=0,r="",s,a,o,l;~(s=e.indexOf("random(",n));)o=e.indexOf(")",s),l=e.charAt(s+7)==="[",a=e.substr(s+7,o-s-7).match(l?wX:AN),r+=e.substr(n,s-n)+HX(l?a:+a[0],l?0:+a[1],+a[2]||1e-5),n=o+1;return r+e.substr(n,e.length-n)},GX=function(e,n,r,s,a){var o=n-e,l=s-r;return Hm(a,function(u){return r+((u-e)/o*l||0)})},wwt=function i(e,n,r,s){var a=isNaN(e+n)?0:function(v){return(1-v)*e+v*n};if(!a){var o=ia(e),l={},u,c,h,p,g;if(r===!0&&(s=1)&&(r=null),o)e={p:e},n={p:n};else if(Ka(e)&&!Ka(n)){for(h=[],p=e.length,g=p-2,c=1;c<p;c++)h.push(i(e[c-1],e[c]));p--,a=function(b){b*=p;var S=Math.min(g,~~b);return h[S](b-S)},r=n}else s||(e=J_(Ka(e)?[]:{},e));if(!h){for(u in n)pk.call(l,e,u,"get",n[u]);a=function(b){return vk(b,l)||(o?e.p:e)}}}return Hm(r,a)},r8=function(e,n,r){var s=e.labels,a=rh,o,l,u;for(o in s)l=s[o]-n,l<0==!!r&&l&&a>(l=Math.abs(l))&&(u=o,a=l);return u},Wl=function(e,n,r){var s=e.vars,a=s[n],o=Rr,l=e._ctx,u,c,h;if(a)return u=s[n+"Params"],c=s.callbackScope||e,r&&vm.length&&u2(),l&&(Rr=l),h=u?a.apply(c,u):a.call(c),Rr=o,h},D1=function(e){return Im(e),e.scrollTrigger&&e.scrollTrigger.kill(!!Ea),e.progress()<1&&Wl(e,"onInterrupt"),e},h_,$X=[],qX=function(e){if(e)if(e=!e.name&&e.default||e,ok()||e.headless){var n=e.name,r=ss(e),s=n&&!r&&e.init?function(){this._props=[]}:e,a={init:QS,render:vk,add:pk,kill:Vwt,modifier:Fwt,rawVars:0},o={targetTest:0,get:0,getSetter:yk,aliases:{},register:0};if(nb(),e!==s){if(jl[n])return;eu(s,eu(c2(e,a),o)),J_(s.prototype,J_(a,c2(e,o))),jl[s.prop=n]=s,e.targetTest&&(AM.push(s),ck[n]=1),n=(n==="css"?"CSS":n.charAt(0).toUpperCase()+n.substr(1))+"Plugin"}CX(n,s),e.register&&e.register(xl,s,pl)}else $X.push(e)},ar=255,N1={aqua:[0,ar,ar],lime:[0,ar,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,ar],navy:[0,0,128],white:[ar,ar,ar],olive:[128,128,0],yellow:[ar,ar,0],orange:[ar,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[ar,0,0],pink:[ar,192,203],cyan:[0,ar,ar],transparent:[ar,ar,ar,0]},dD=function(e,n,r){return e+=e<0?1:e>1?-1:0,(e*6<1?n+(r-n)*e*6:e<.5?r:e*3<2?n+(r-n)*(2/3-e)*6:n)*ar+.5|0},WX=function(e,n,r){var s=e?Fd(e)?[e>>16,e>>8&ar,e&ar]:0:N1.black,a,o,l,u,c,h,p,g,v,b;if(!s){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),N1[e])s=N1[e];else if(e.charAt(0)==="#"){if(e.length<6&&(a=e.charAt(1),o=e.charAt(2),l=e.charAt(3),e="#"+a+a+o+o+l+l+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return s=parseInt(e.substr(1,6),16),[s>>16,s>>8&ar,s&ar,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),s=[e>>16,e>>8&ar,e&ar]}else if(e.substr(0,3)==="hsl"){if(s=b=e.match(AN),!n)u=+s[0]%360/360,c=+s[1]/100,h=+s[2]/100,o=h<=.5?h*(c+1):h+c-h*c,a=h*2-o,s.length>3&&(s[3]*=1),s[0]=dD(u+1/3,a,o),s[1]=dD(u,a,o),s[2]=dD(u-1/3,a,o);else if(~e.indexOf("="))return s=e.match(EX),r&&s.length<4&&(s[3]=1),s}else s=e.match(AN)||N1.transparent;s=s.map(Number)}return n&&!b&&(a=s[0]/ar,o=s[1]/ar,l=s[2]/ar,p=Math.max(a,o,l),g=Math.min(a,o,l),h=(p+g)/2,p===g?u=c=0:(v=p-g,c=h>.5?v/(2-p-g):v/(p+g),u=p===a?(o-l)/v+(o<l?6:0):p===o?(l-a)/v+2:(a-o)/v+4,u*=60),s[0]=~~(u+.5),s[1]=~~(c*100+.5),s[2]=~~(h*100+.5)),r&&s.length<4&&(s[3]=1),s},XX=function(e){var n=[],r=[],s=-1;return e.split(_m).forEach(function(a){var o=a.match(f_)||[];n.push.apply(n,o),r.push(s+=o.length+1)}),n.c=r,n},s8=function(e,n,r){var s="",a=(e+s).match(_m),o=n?"hsla(":"rgba(",l=0,u,c,h,p;if(!a)return e;if(a=a.map(function(g){return(g=WX(g,n,1))&&o+(n?g[0]+","+g[1]+"%,"+g[2]+"%,"+g[3]:g.join(","))+")"}),r&&(h=XX(e),u=r.c,u.join(s)!==h.c.join(s)))for(c=e.replace(_m,"1").split(f_),p=c.length-1;l<p;l++)s+=c[l]+(~u.indexOf(l)?a.shift()||o+"0,0,0,0)":(h.length?h:a.length?a:r).shift());if(!c)for(c=e.split(_m),p=c.length-1;l<p;l++)s+=c[l]+a[l];return s+c[p]},_m=function(){var i="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in N1)i+="|"+e+"\\b";return new RegExp(i+")","gi")}(),Awt=/hsl[a]?\(/,YX=function(e){var n=e.join(" "),r;if(_m.lastIndex=0,_m.test(n))return r=Awt.test(n),e[1]=s8(e[1],r),e[0]=s8(e[0],r,XX(e[1])),!0},tE,ql=function(){var i=Date.now,e=500,n=33,r=i(),s=r,a=1e3/240,o=a,l=[],u,c,h,p,g,v,b=function S(E){var x=i()-s,A=E===!0,C,M,P,k;if((x>e||x<0)&&(r+=x-n),s+=x,P=s-r,C=P-o,(C>0||A)&&(k=++p.frame,g=P-p.time*1e3,p.time=P=P/1e3,o+=C+(C>=a?4:a-C),M=1),A||(u=c(S)),M)for(v=0;v<l.length;v++)l[v](P,g,k,E)};return p={time:0,frame:0,tick:function(){b(!0)},deltaRatio:function(E){return g/(1e3/(E||60))},wake:function(){AX&&(!MN&&ok()&&(Uf=MN=window,lk=Uf.document||{},tu.gsap=xl,(Uf.gsapVersions||(Uf.gsapVersions=[])).push(xl.version),MX(l2||Uf.GreenSockGlobals||!Uf.gsap&&Uf||{}),$X.forEach(qX)),h=typeof requestAnimationFrame<"u"&&requestAnimationFrame,u&&p.sleep(),c=h||function(E){return setTimeout(E,o-p.time*1e3+1|0)},tE=1,b(2))},sleep:function(){(h?cancelAnimationFrame:clearTimeout)(u),tE=0,c=QS},lagSmoothing:function(E,x){e=E||1/0,n=Math.min(x||33,e)},fps:function(E){a=1e3/(E||240),o=p.time*1e3+a},add:function(E,x,A){var C=x?function(M,P,k,D){E(M,P,k,D),p.remove(C)}:E;return p.remove(E),l[A?"unshift":"push"](C),nb(),C},remove:function(E,x){~(x=l.indexOf(E))&&l.splice(x,1)&&v>=x&&v--},_listeners:l},p}(),nb=function(){return!tE&&ql.wake()},_i={},Mwt=/^[\d.\-M][\d.\-,\s]/,Cwt=/["']/g,Rwt=function(e){for(var n={},r=e.substr(1,e.length-3).split(":"),s=r[0],a=1,o=r.length,l,u,c;a<o;a++)u=r[a],l=a!==o-1?u.lastIndexOf(","):u.length,c=u.substr(0,l),n[s]=isNaN(c)?c.replace(Cwt,"").trim():+c,s=u.substr(l+1).trim();return n},Owt=function(e){var n=e.indexOf("(")+1,r=e.indexOf(")"),s=e.indexOf("(",n);return e.substring(n,~s&&s<r?e.indexOf(")",r+1):r)},Pwt=function(e){var n=(e+"").split("("),r=_i[n[0]];return r&&n.length>1&&r.config?r.config.apply(null,~e.indexOf("{")?[Rwt(n[1])]:Owt(e).split(",").map(IX)):_i._CE&&Mwt.test(e)?_i._CE("",e):r},KX=function(e){return function(n){return 1-e(1-n)}},ZX=function i(e,n){for(var r=e._first,s;r;)r instanceof wo?i(r,n):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==n&&(r.timeline?i(r.timeline,n):(s=r._ease,r._ease=r._yEase,r._yEase=s,r._yoyo=n)),r=r._next},Py=function(e,n){return e&&(ss(e)?e:_i[e]||Pwt(e))||n},p0=function(e,n,r,s){r===void 0&&(r=function(u){return 1-n(1-u)}),s===void 0&&(s=function(u){return u<.5?n(u*2)/2:1-n((1-u)*2)/2});var a={easeIn:n,easeOut:r,easeInOut:s},o;return dl(e,function(l){_i[l]=tu[l]=a,_i[o=l.toLowerCase()]=r;for(var u in a)_i[o+(u==="easeIn"?".in":u==="easeOut"?".out":".inOut")]=_i[l+"."+u]=a[u]}),a},QX=function(e){return function(n){return n<.5?(1-e(1-n*2))/2:.5+e((n-.5)*2)/2}},pD=function i(e,n,r){var s=n>=1?n:1,a=(r||(e?.3:.45))/(n<1?n:1),o=a/wN*(Math.asin(1/s)||0),l=function(h){return h===1?1:s*Math.pow(2,-10*h)*swt((h-o)*a)+1},u=e==="out"?l:e==="in"?function(c){return 1-l(1-c)}:QX(l);return a=wN/a,u.config=function(c,h){return i(e,c,h)},u},mD=function i(e,n){n===void 0&&(n=1.70158);var r=function(o){return o?--o*o*((n+1)*o+n)+1:0},s=e==="out"?r:e==="in"?function(a){return 1-r(1-a)}:QX(r);return s.config=function(a){return i(e,a)},s};dl("Linear,Quad,Cubic,Quart,Quint,Strong",function(i,e){var n=e<5?e+1:e;p0(i+",Power"+(n-1),e?function(r){return Math.pow(r,n)}:function(r){return r},function(r){return 1-Math.pow(1-r,n)},function(r){return r<.5?Math.pow(r*2,n)/2:1-Math.pow((1-r)*2,n)/2})});_i.Linear.easeNone=_i.none=_i.Linear.easeIn;p0("Elastic",pD("in"),pD("out"),pD());(function(i,e){var n=1/e,r=2*n,s=2.5*n,a=function(l){return l<n?i*l*l:l<r?i*Math.pow(l-1.5/e,2)+.75:l<s?i*(l-=2.25/e)*l+.9375:i*Math.pow(l-2.625/e,2)+.984375};p0("Bounce",function(o){return 1-a(1-o)},a)})(7.5625,2.75);p0("Expo",function(i){return Math.pow(2,10*(i-1))*i+i*i*i*i*i*i*(1-i)});p0("Circ",function(i){return-(xX(1-i*i)-1)});p0("Sine",function(i){return i===1?1:-rwt(i*nwt)+1});p0("Back",mD("in"),mD("out"),mD());_i.SteppedEase=_i.steps=tu.SteppedEase={config:function(e,n){e===void 0&&(e=1);var r=1/e,s=e+(n?0:1),a=n?1:0,o=1-Ya;return function(l){return((s*$E(0,o,l)|0)+a)*r}}};Q_.ease=_i["quad.out"];dl("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(i){return fk+=i+","+i+"Params,"});var JX=function(e,n){this.id=iwt++,e._gsap=this,this.target=e,this.harness=n,this.get=n?n.get:OX,this.set=n?n.getSetter:yk},eE=function(){function i(n){this.vars=n,this._delay=+n.delay||0,(this._repeat=n.repeat===1/0?-2:n.repeat||0)&&(this._rDelay=n.repeatDelay||0,this._yoyo=!!n.yoyo||!!n.yoyoEase),this._ts=1,eb(this,+n.duration,1,1),this.data=n.data,Rr&&(this._ctx=Rr,Rr.data.push(this)),tE||ql.wake()}var e=i.prototype;return e.delay=function(r){return r||r===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},e.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},e.totalDuration=function(r){return arguments.length?(this._dirty=0,eb(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(r,s){if(nb(),!arguments.length)return this._tTime;var a=this._dp;if(a&&a.smoothChildTiming&&this._ts){for(hO(this,r),!a._dp||a.parent||LX(a,this);a&&a.parent;)a.parent._time!==a._start+(a._ts>=0?a._tTime/a._ts:(a.totalDuration()-a._tTime)/-a._ts)&&a.totalTime(a._tTime,!0),a=a.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&jf(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!s||this._initted&&Math.abs(this._zTime)===Ya||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),PX(this,r,s)),this},e.time=function(r,s){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+n8(this))%(this._dur+this._rDelay)||(r?this._dur:0),s):this._time},e.totalProgress=function(r,s){return arguments.length?this.totalTime(this.totalDuration()*r,s):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(r,s){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-r:r)+n8(this),s):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(r,s){var a=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*a,s):this._repeat?tb(this._tTime,a)+1:1},e.timeScale=function(r,s){if(!arguments.length)return this._rts===-1e-8?0:this._rts;if(this._rts===r)return this;var a=this.parent&&this._ts?f2(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-1e-8?0:this._rts,this.totalTime($E(-Math.abs(this._delay),this.totalDuration(),a),s!==!1),fO(this),hwt(this)},e.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(nb(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Ya&&(this._tTime-=Ya)))),this):this._ps},e.startTime=function(r){if(arguments.length){this._start=r;var s=this.parent||this._dp;return s&&(s._sort||!this.parent)&&jf(s,this,r-this._delay),this}return this._start},e.endTime=function(r){return this._start+(hl(r)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(r){var s=this.parent||this._dp;return s?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?f2(s.rawTime(r),this):this._tTime:this._tTime},e.revert=function(r){r===void 0&&(r=lwt);var s=Ea;return Ea=r,dk(this)&&(this.timeline&&this.timeline.revert(r),this.totalTime(-.01,r.suppressEvents)),this.data!=="nested"&&r.kill!==!1&&this.kill(),Ea=s,this},e.globalTime=function(r){for(var s=this,a=arguments.length?r:s.rawTime();s;)a=s._start+a/(Math.abs(s._ts)||1),s=s._dp;return!this.parent&&this._sat?this._sat.globalTime(r):a},e.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,i8(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(r){if(arguments.length){var s=this._time;return this._rDelay=r,i8(this),s?this.time(s):this}return this._rDelay},e.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},e.seek=function(r,s){return this.totalTime(Cu(this,r),hl(s))},e.restart=function(r,s){return this.play().totalTime(r?-this._delay:0,hl(s)),this._dur||(this._zTime=-1e-8),this},e.play=function(r,s){return r!=null&&this.seek(r,s),this.reversed(!1).paused(!1)},e.reverse=function(r,s){return r!=null&&this.seek(r||this.totalDuration(),s),this.reversed(!0).paused(!1)},e.pause=function(r,s){return r!=null&&this.seek(r,s),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-1e-8:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},e.isActive=function(){var r=this.parent||this._dp,s=this._start,a;return!!(!r||this._ts&&this._initted&&r.isActive()&&(a=r.rawTime(!0))>=s&&a<this.endTime(!0)-Ya)},e.eventCallback=function(r,s,a){var o=this.vars;return arguments.length>1?(s?(o[r]=s,a&&(o[r+"Params"]=a),r==="onUpdate"&&(this._onUpdate=s)):delete o[r],this):o[r]},e.then=function(r){var s=this;return new Promise(function(a){var o=ss(r)?r:DX,l=function(){var c=s.then;s.then=null,ss(o)&&(o=o(s))&&(o.then||o===s)&&(s.then=c),a(o),s.then=c};s._initted&&s.totalProgress()===1&&s._ts>=0||!s._tTime&&s._ts<0?l():s._prom=l})},e.kill=function(){D1(this)},i}();eu(eE.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var wo=function(i){bX(e,i);function e(r,s){var a;return r===void 0&&(r={}),a=i.call(this,r)||this,a.labels={},a.smoothChildTiming=!!r.smoothChildTiming,a.autoRemoveChildren=!!r.autoRemoveChildren,a._sort=hl(r.sortChildren),Hr&&jf(r.parent||Hr,ud(a),s),r.reversed&&a.reverse(),r.paused&&a.paused(!0),r.scrollTrigger&&UX(ud(a),r.scrollTrigger),a}var n=e.prototype;return n.to=function(s,a,o){return oS(0,arguments,this),this},n.from=function(s,a,o){return oS(1,arguments,this),this},n.fromTo=function(s,a,o,l){return oS(2,arguments,this),this},n.set=function(s,a,o){return a.duration=0,a.parent=this,aS(a).repeatDelay||(a.repeat=0),a.immediateRender=!!a.immediateRender,new Cs(s,a,Cu(this,o),1),this},n.call=function(s,a,o){return jf(this,Cs.delayedCall(0,s,a),o)},n.staggerTo=function(s,a,o,l,u,c,h){return o.duration=a,o.stagger=o.stagger||l,o.onComplete=c,o.onCompleteParams=h,o.parent=this,new Cs(s,o,Cu(this,u)),this},n.staggerFrom=function(s,a,o,l,u,c,h){return o.runBackwards=1,aS(o).immediateRender=hl(o.immediateRender),this.staggerTo(s,a,o,l,u,c,h)},n.staggerFromTo=function(s,a,o,l,u,c,h,p){return l.startAt=o,aS(l).immediateRender=hl(l.immediateRender),this.staggerTo(s,a,l,u,c,h,p)},n.render=function(s,a,o){var l=this._time,u=this._dirty?this.totalDuration():this._tDur,c=this._dur,h=s<=0?0:Rs(s),p=this._zTime<0!=s<0&&(this._initted||!c),g,v,b,S,E,x,A,C,M,P,k,D;if(this!==Hr&&h>u&&s>=0&&(h=u),h!==this._tTime||o||p){if(l!==this._time&&c&&(h+=this._time-l,s+=this._time-l),g=h,M=this._start,C=this._ts,x=!C,p&&(c||(l=this._zTime),(s||!a)&&(this._zTime=s)),this._repeat){if(k=this._yoyo,E=c+this._rDelay,this._repeat<-1&&s<0)return this.totalTime(E*100+s,a,o);if(g=Rs(h%E),h===u?(S=this._repeat,g=c):(P=Rs(h/E),S=~~P,S&&S===P&&(g=c,S--),g>c&&(g=c)),P=tb(this._tTime,E),!l&&this._tTime&&P!==S&&this._tTime-P*E-this._dur<=0&&(P=S),k&&S&1&&(g=c-g,D=1),S!==P&&!this._lock){var N=k&&P&1,U=N===(k&&S&1);if(S<P&&(N=!N),l=N?0:h%c?c:h,this._lock=1,this.render(l||(D?0:Rs(S*E)),a,!c)._lock=0,this._tTime=h,!a&&this.parent&&Wl(this,"onRepeat"),this.vars.repeatRefresh&&!D&&(this.invalidate()._lock=1),l&&l!==this._time||x!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(c=this._dur,u=this._tDur,U&&(this._lock=2,l=N?c:-1e-4,this.render(l,!0),this.vars.repeatRefresh&&!D&&this.invalidate()),this._lock=0,!this._ts&&!x)return this;ZX(this,D)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(A=gwt(this,Rs(l),Rs(g)),A&&(h-=g-(g=A._start))),this._tTime=h,this._time=g,this._act=!C,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=s,l=0),!l&&h&&!a&&!P&&(Wl(this,"onStart"),this._tTime!==h))return this;if(g>=l&&s>=0)for(v=this._first;v;){if(b=v._next,(v._act||g>=v._start)&&v._ts&&A!==v){if(v.parent!==this)return this.render(s,a,o);if(v.render(v._ts>0?(g-v._start)*v._ts:(v._dirty?v.totalDuration():v._tDur)+(g-v._start)*v._ts,a,o),g!==this._time||!this._ts&&!x){A=0,b&&(h+=this._zTime=-1e-8);break}}v=b}else{v=this._last;for(var R=s<0?s:g;v;){if(b=v._prev,(v._act||R<=v._end)&&v._ts&&A!==v){if(v.parent!==this)return this.render(s,a,o);if(v.render(v._ts>0?(R-v._start)*v._ts:(v._dirty?v.totalDuration():v._tDur)+(R-v._start)*v._ts,a,o||Ea&&dk(v)),g!==this._time||!this._ts&&!x){A=0,b&&(h+=this._zTime=R?-1e-8:Ya);break}}v=b}}if(A&&!a&&(this.pause(),A.render(g>=l?0:-1e-8)._zTime=g>=l?1:-1,this._ts))return this._start=M,fO(this),this.render(s,a,o);this._onUpdate&&!a&&Wl(this,"onUpdate",!0),(h===u&&this._tTime>=this.totalDuration()||!h&&l)&&(M===this._start||Math.abs(C)!==Math.abs(this._ts))&&(this._lock||((s||!c)&&(h===u&&this._ts>0||!h&&this._ts<0)&&Im(this,1),!a&&!(s<0&&!l)&&(h||l||!u)&&(Wl(this,h===u&&s>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(h<u&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(s,a){var o=this;if(Fd(a)||(a=Cu(this,a,s)),!(s instanceof eE)){if(Ka(s))return s.forEach(function(l){return o.add(l,a)}),this;if(ia(s))return this.addLabel(s,a);if(ss(s))s=Cs.delayedCall(0,s);else return this}return this!==s?jf(this,s,a):this},n.getChildren=function(s,a,o,l){s===void 0&&(s=!0),a===void 0&&(a=!0),o===void 0&&(o=!0),l===void 0&&(l=-1e8);for(var u=[],c=this._first;c;)c._start>=l&&(c instanceof Cs?a&&u.push(c):(o&&u.push(c),s&&u.push.apply(u,c.getChildren(!0,a,o)))),c=c._next;return u},n.getById=function(s){for(var a=this.getChildren(1,1,1),o=a.length;o--;)if(a[o].vars.id===s)return a[o]},n.remove=function(s){return ia(s)?this.removeLabel(s):ss(s)?this.killTweensOf(s):(s.parent===this&&cO(this,s),s===this._recent&&(this._recent=this._last),Oy(this))},n.totalTime=function(s,a){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Rs(ql.time-(this._ts>0?s/this._ts:(this.totalDuration()-s)/-this._ts))),i.prototype.totalTime.call(this,s,a),this._forcing=0,this):this._tTime},n.addLabel=function(s,a){return this.labels[s]=Cu(this,a),this},n.removeLabel=function(s){return delete this.labels[s],this},n.addPause=function(s,a,o){var l=Cs.delayedCall(0,a||QS,o);return l.data="isPause",this._hasPause=1,jf(this,l,Cu(this,s))},n.removePause=function(s){var a=this._first;for(s=Cu(this,s);a;)a._start===s&&a.data==="isPause"&&Im(a),a=a._next},n.killTweensOf=function(s,a,o){for(var l=this.getTweensOf(s,o),u=l.length;u--;)um!==l[u]&&l[u].kill(s,a);return this},n.getTweensOf=function(s,a){for(var o=[],l=Uu(s),u=this._first,c=Fd(a),h;u;)u instanceof Cs?uwt(u._targets,l)&&(c?(!um||u._initted&&u._ts)&&u.globalTime(0)<=a&&u.globalTime(u.totalDuration())>a:!a||u.isActive())&&o.push(u):(h=u.getTweensOf(l,a)).length&&o.push.apply(o,h),u=u._next;return o},n.tweenTo=function(s,a){a=a||{};var o=this,l=Cu(o,s),u=a,c=u.startAt,h=u.onStart,p=u.onStartParams,g=u.immediateRender,v,b=Cs.to(o,eu({ease:a.ease||"none",lazy:!1,immediateRender:!1,time:l,overwrite:"auto",duration:a.duration||Math.abs((l-(c&&"time"in c?c.time:o._time))/o.timeScale())||Ya,onStart:function(){if(o.pause(),!v){var E=a.duration||Math.abs((l-(c&&"time"in c?c.time:o._time))/o.timeScale());b._dur!==E&&eb(b,E,0,1).render(b._time,!0,!0),v=1}h&&h.apply(b,p||[])}},a));return g?b.render(0):b},n.tweenFromTo=function(s,a,o){return this.tweenTo(a,eu({startAt:{time:Cu(this,s)}},o))},n.recent=function(){return this._recent},n.nextLabel=function(s){return s===void 0&&(s=this._time),r8(this,Cu(this,s))},n.previousLabel=function(s){return s===void 0&&(s=this._time),r8(this,Cu(this,s),1)},n.currentLabel=function(s){return arguments.length?this.seek(s,!0):this.previousLabel(this._time+Ya)},n.shiftChildren=function(s,a,o){o===void 0&&(o=0);for(var l=this._first,u=this.labels,c;l;)l._start>=o&&(l._start+=s,l._end+=s),l=l._next;if(a)for(c in u)u[c]>=o&&(u[c]+=s);return Oy(this)},n.invalidate=function(s){var a=this._first;for(this._lock=0;a;)a.invalidate(s),a=a._next;return i.prototype.invalidate.call(this,s)},n.clear=function(s){s===void 0&&(s=!0);for(var a=this._first,o;a;)o=a._next,this.remove(a),a=o;return this._dp&&(this._time=this._tTime=this._pTime=0),s&&(this.labels={}),Oy(this)},n.totalDuration=function(s){var a=0,o=this,l=o._last,u=rh,c,h,p;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-s:s));if(o._dirty){for(p=o.parent;l;)c=l._prev,l._dirty&&l.totalDuration(),h=l._start,h>u&&o._sort&&l._ts&&!o._lock?(o._lock=1,jf(o,l,h-l._delay,1)._lock=0):u=h,h<0&&l._ts&&(a-=h,(!p&&!o._dp||p&&p.smoothChildTiming)&&(o._start+=h/o._ts,o._time-=h,o._tTime-=h),o.shiftChildren(-h,!1,-1/0),u=0),l._end>a&&l._ts&&(a=l._end),l=c;eb(o,o===Hr&&o._time>a?o._time:a,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(s){if(Hr._ts&&(PX(Hr,f2(s,Hr)),RX=ql.frame),ql.frame>=t8){t8+=Kl.autoSleep||120;var a=Hr._first;if((!a||!a._ts)&&Kl.autoSleep&&ql._listeners.length<2){for(;a&&!a._ts;)a=a._next;a||ql.sleep()}}},e}(eE);eu(wo.prototype,{_lock:0,_hasPause:0,_forcing:0});var Iwt=function(e,n,r,s,a,o,l){var u=new pl(this._pt,e,n,0,1,sY,null,a),c=0,h=0,p,g,v,b,S,E,x,A;for(u.b=r,u.e=s,r+="",s+="",(x=~s.indexOf("random("))&&(s=JS(s)),o&&(A=[r,s],o(A,e,n),r=A[0],s=A[1]),g=r.match(fD)||[];p=fD.exec(s);)b=p[0],S=s.substring(c,p.index),v?v=(v+1)%5:S.substr(-5)==="rgba("&&(v=1),b!==g[h++]&&(E=parseFloat(g[h-1])||0,u._pt={_next:u._pt,p:S||h===1?S:",",s:E,c:b.charAt(1)==="="?E_(E,b)-E:parseFloat(b)-E,m:v&&v<4?Math.round:0},c=fD.lastIndex);return u.c=c<s.length?s.substring(c,s.length):"",u.fp=l,(TX.test(s)||x)&&(u.e=0),this._pt=u,u},pk=function(e,n,r,s,a,o,l,u,c,h){ss(s)&&(s=s(a||0,e,o));var p=e[n],g=r!=="get"?r:ss(p)?c?e[n.indexOf("set")||!ss(e["get"+n.substr(3)])?n:"get"+n.substr(3)](c):e[n]():p,v=ss(p)?c?kwt:iY:gk,b;if(ia(s)&&(~s.indexOf("random(")&&(s=JS(s)),s.charAt(1)==="="&&(b=E_(g,s)+(qa(g)||0),(b||b===0)&&(s=b))),!h||g!==s||NN)return!isNaN(g*s)&&s!==""?(b=new pl(this._pt,e,n,+g||0,s-(g||0),typeof p=="boolean"?Bwt:rY,0,v),c&&(b.fp=c),l&&b.modifier(l,this,e),this._pt=b):(!p&&!(n in e)&&uk(n,s),Iwt.call(this,e,n,g,s,v,u||Kl.stringFilter,c))},Dwt=function(e,n,r,s,a){if(ss(e)&&(e=lS(e,a,n,r,s)),!ch(e)||e.style&&e.nodeType||Ka(e)||SX(e))return ia(e)?lS(e,a,n,r,s):e;var o={},l;for(l in e)o[l]=lS(e[l],a,n,r,s);return o},tY=function(e,n,r,s,a,o){var l,u,c,h;if(jl[e]&&(l=new jl[e]).init(a,l.rawVars?n[e]:Dwt(n[e],s,a,o,r),r,s,o)!==!1&&(r._pt=u=new pl(r._pt,a,e,0,1,l.render,l,0,l.priority),r!==h_))for(c=r._ptLookup[r._targets.indexOf(a)],h=l._props.length;h--;)c[l._props[h]]=u;return l},um,NN,mk=function i(e,n,r){var s=e.vars,a=s.ease,o=s.startAt,l=s.immediateRender,u=s.lazy,c=s.onUpdate,h=s.runBackwards,p=s.yoyoEase,g=s.keyframes,v=s.autoRevert,b=e._dur,S=e._startAt,E=e._targets,x=e.parent,A=x&&x.data==="nested"?x.vars.targets:E,C=e._overwrite==="auto"&&!sk,M=e.timeline,P,k,D,N,U,R,B,H,V,Y,et,G,X;if(M&&(!g||!a)&&(a="none"),e._ease=Py(a,Q_.ease),e._yEase=p?KX(Py(p===!0?a:p,Q_.ease)):0,p&&e._yoyo&&!e._repeat&&(p=e._yEase,e._yEase=e._ease,e._ease=p),e._from=!M&&!!s.runBackwards,!M||g&&!s.stagger){if(H=E[0]?Ry(E[0]).harness:0,G=H&&s[H.prop],P=c2(s,ck),S&&(S._zTime<0&&S.progress(1),n<0&&h&&l&&!v?S.render(-1,!0):S.revert(h&&b?wM:owt),S._lazy=0),o){if(Im(e._startAt=Cs.set(E,eu({data:"isStart",overwrite:!1,parent:x,immediateRender:!0,lazy:!S&&hl(u),startAt:null,delay:0,onUpdate:c&&function(){return Wl(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,n<0&&(Ea||!l&&!v)&&e._startAt.revert(wM),l&&b&&n<=0&&r<=0){n&&(e._zTime=n);return}}else if(h&&b&&!S){if(n&&(l=!1),D=eu({overwrite:!1,data:"isFromStart",lazy:l&&!S&&hl(u),immediateRender:l,stagger:0,parent:x},P),G&&(D[H.prop]=G),Im(e._startAt=Cs.set(E,D)),e._startAt._dp=0,e._startAt._sat=e,n<0&&(Ea?e._startAt.revert(wM):e._startAt.render(-1,!0)),e._zTime=n,!l)i(e._startAt,Ya,Ya);else if(!n)return}for(e._pt=e._ptCache=0,u=b&&hl(u)||u&&!b,k=0;k<E.length;k++){if(U=E[k],B=U._gsap||hk(E)[k]._gsap,e._ptLookup[k]=Y={},CN[B.id]&&vm.length&&u2(),et=A===E?k:A.indexOf(U),H&&(V=new H).init(U,G||P,e,et,A)!==!1&&(e._pt=N=new pl(e._pt,U,V.name,0,1,V.render,V,0,V.priority),V._props.forEach(function(J){Y[J]=N}),V.priority&&(R=1)),!H||G)for(D in P)jl[D]&&(V=tY(D,P,e,et,U,A))?V.priority&&(R=1):Y[D]=N=pk.call(e,U,D,"get",P[D],et,A,0,s.stringFilter);e._op&&e._op[k]&&e.kill(U,e._op[k]),C&&e._pt&&(um=e,Hr.killTweensOf(U,Y,e.globalTime(n)),X=!e.parent,um=0),e._pt&&u&&(CN[B.id]=1)}R&&aY(e),e._onInit&&e._onInit(e)}e._onUpdate=c,e._initted=(!e._op||e._pt)&&!X,g&&n<=0&&M.render(rh,!0,!0)},Nwt=function(e,n,r,s,a,o,l,u){var c=(e._pt&&e._ptCache||(e._ptCache={}))[n],h,p,g,v;if(!c)for(c=e._ptCache[n]=[],g=e._ptLookup,v=e._targets.length;v--;){if(h=g[v][n],h&&h.d&&h.d._pt)for(h=h.d._pt;h&&h.p!==n&&h.fp!==n;)h=h._next;if(!h)return NN=1,e.vars[n]="+=0",mk(e,l),NN=0,u?ZS(n+" not eligible for reset"):1;c.push(h)}for(v=c.length;v--;)p=c[v],h=p._pt||p,h.s=(s||s===0)&&!a?s:h.s+(s||0)+o*h.c,h.c=r-h.s,p.e&&(p.e=ps(r)+qa(p.e)),p.b&&(p.b=h.s+qa(p.b))},Lwt=function(e,n){var r=e[0]?Ry(e[0]).harness:0,s=r&&r.aliases,a,o,l,u;if(!s)return n;a=J_({},n);for(o in s)if(o in a)for(u=s[o].split(","),l=u.length;l--;)a[u[l]]=a[o];return a},Uwt=function(e,n,r,s){var a=n.ease||s||"power1.inOut",o,l;if(Ka(n))l=r[e]||(r[e]=[]),n.forEach(function(u,c){return l.push({t:c/(n.length-1)*100,v:u,e:a})});else for(o in n)l=r[o]||(r[o]=[]),o==="ease"||l.push({t:parseFloat(e),v:n[o],e:a})},lS=function(e,n,r,s,a){return ss(e)?e.call(n,r,s,a):ia(e)&&~e.indexOf("random(")?JS(e):e},eY=fk+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",nY={};dl(eY+",id,stagger,delay,duration,paused,scrollTrigger",function(i){return nY[i]=1});var Cs=function(i){bX(e,i);function e(r,s,a,o){var l;typeof s=="number"&&(a.duration=s,s=a,a=null),l=i.call(this,o?s:aS(s))||this;var u=l.vars,c=u.duration,h=u.delay,p=u.immediateRender,g=u.stagger,v=u.overwrite,b=u.keyframes,S=u.defaults,E=u.scrollTrigger,x=u.yoyoEase,A=s.parent||Hr,C=(Ka(r)||SX(r)?Fd(r[0]):"length"in s)?[r]:Uu(r),M,P,k,D,N,U,R,B;if(l._targets=C.length?hk(C):ZS("GSAP target "+r+" not found. https://gsap.com",!Kl.nullTargetWarn)||[],l._ptLookup=[],l._overwrite=v,b||g||MA(c)||MA(h)){if(s=l.vars,M=l.timeline=new wo({data:"nested",defaults:S||{},targets:A&&A.data==="nested"?A.vars.targets:C}),M.kill(),M.parent=M._dp=ud(l),M._start=0,g||MA(c)||MA(h)){if(D=C.length,R=g&&FX(g),ch(g))for(N in g)~eY.indexOf(N)&&(B||(B={}),B[N]=g[N]);for(P=0;P<D;P++)k=c2(s,nY),k.stagger=0,x&&(k.yoyoEase=x),B&&J_(k,B),U=C[P],k.duration=+lS(c,ud(l),P,U,C),k.delay=(+lS(h,ud(l),P,U,C)||0)-l._delay,!g&&D===1&&k.delay&&(l._delay=h=k.delay,l._start+=h,k.delay=0),M.to(U,k,R?R(P,U,C):0),M._ease=_i.none;M.duration()?c=h=0:l.timeline=0}else if(b){aS(eu(M.vars.defaults,{ease:"none"})),M._ease=Py(b.ease||s.ease||"none");var H=0,V,Y,et;if(Ka(b))b.forEach(function(G){return M.to(C,G,">")}),M.duration();else{k={};for(N in b)N==="ease"||N==="easeEach"||Uwt(N,b[N],k,b.easeEach);for(N in k)for(V=k[N].sort(function(G,X){return G.t-X.t}),H=0,P=0;P<V.length;P++)Y=V[P],et={ease:Y.e,duration:(Y.t-(P?V[P-1].t:0))/100*c},et[N]=Y.v,M.to(C,et,H),H+=et.duration;M.duration()<c&&M.to({},{duration:c-M.duration()})}}c||l.duration(c=M.duration())}else l.timeline=0;return v===!0&&!sk&&(um=ud(l),Hr.killTweensOf(C),um=0),jf(A,ud(l),a),s.reversed&&l.reverse(),s.paused&&l.paused(!0),(p||!c&&!b&&l._start===Rs(A._time)&&hl(p)&&dwt(ud(l))&&A.data!=="nested")&&(l._tTime=-1e-8,l.render(Math.max(0,-h)||0)),E&&UX(ud(l),E),l}var n=e.prototype;return n.render=function(s,a,o){var l=this._time,u=this._tDur,c=this._dur,h=s<0,p=s>u-Ya&&!h?u:s<Ya?0:s,g,v,b,S,E,x,A,C,M;if(!c)mwt(this,s,a,o);else if(p!==this._tTime||!s||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==h||this._lazy){if(g=p,C=this.timeline,this._repeat){if(S=c+this._rDelay,this._repeat<-1&&h)return this.totalTime(S*100+s,a,o);if(g=Rs(p%S),p===u?(b=this._repeat,g=c):(E=Rs(p/S),b=~~E,b&&b===E?(g=c,b--):g>c&&(g=c)),x=this._yoyo&&b&1,x&&(M=this._yEase,g=c-g),E=tb(this._tTime,S),g===l&&!o&&this._initted&&b===E)return this._tTime=p,this;b!==E&&(C&&this._yEase&&ZX(C,x),this.vars.repeatRefresh&&!x&&!this._lock&&g!==S&&this._initted&&(this._lock=o=1,this.render(Rs(S*b),!0).invalidate()._lock=0))}if(!this._initted){if(kX(this,h?s:g,o,a,p))return this._tTime=0,this;if(l!==this._time&&!(o&&this.vars.repeatRefresh&&b!==E))return this;if(c!==this._dur)return this.render(s,a,o)}if(this._tTime=p,this._time=g,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=A=(M||this._ease)(g/c),this._from&&(this.ratio=A=1-A),!l&&p&&!a&&!E&&(Wl(this,"onStart"),this._tTime!==p))return this;for(v=this._pt;v;)v.r(A,v.d),v=v._next;C&&C.render(s<0?s:C._dur*C._ease(g/this._dur),a,o)||this._startAt&&(this._zTime=s),this._onUpdate&&!a&&(h&&RN(this,s,a,o),Wl(this,"onUpdate")),this._repeat&&b!==E&&this.vars.onRepeat&&!a&&this.parent&&Wl(this,"onRepeat"),(p===this._tDur||!p)&&this._tTime===p&&(h&&!this._onUpdate&&RN(this,s,!0,!0),(s||!c)&&(p===this._tDur&&this._ts>0||!p&&this._ts<0)&&Im(this,1),!a&&!(h&&!l)&&(p||l||x)&&(Wl(this,p===u?"onComplete":"onReverseComplete",!0),this._prom&&!(p<u&&this.timeScale()>0)&&this._prom()))}return this},n.targets=function(){return this._targets},n.invalidate=function(s){return(!s||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(s),i.prototype.invalidate.call(this,s)},n.resetTo=function(s,a,o,l,u){tE||ql.wake(),this._ts||this.play();var c=Math.min(this._dur,(this._dp._time-this._start)*this._ts),h;return this._initted||mk(this,c),h=this._ease(c/this._dur),Nwt(this,s,a,o,l,h,c,u)?this.resetTo(s,a,o,l,1):(hO(this,0),this.parent||NX(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(s,a){if(a===void 0&&(a="all"),!s&&(!a||a==="all"))return this._lazy=this._pt=0,this.parent?D1(this):this.scrollTrigger&&this.scrollTrigger.kill(!!Ea),this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(s,a,um&&um.vars.overwrite!==!0)._first||D1(this),this.parent&&o!==this.timeline.totalDuration()&&eb(this,this._dur*this.timeline._tDur/o,0,1),this}var l=this._targets,u=s?Uu(s):l,c=this._ptLookup,h=this._pt,p,g,v,b,S,E,x;if((!a||a==="all")&&fwt(l,u))return a==="all"&&(this._pt=0),D1(this);for(p=this._op=this._op||[],a!=="all"&&(ia(a)&&(S={},dl(a,function(A){return S[A]=1}),a=S),a=Lwt(l,a)),x=l.length;x--;)if(~u.indexOf(l[x])){g=c[x],a==="all"?(p[x]=a,b=g,v={}):(v=p[x]=p[x]||{},b=a);for(S in b)E=g&&g[S],E&&((!("kill"in E.d)||E.d.kill(S)===!0)&&cO(this,E,"_pt"),delete g[S]),v!=="all"&&(v[S]=1)}return this._initted&&!this._pt&&h&&D1(this),this},e.to=function(s,a){return new e(s,a,arguments[2])},e.from=function(s,a){return oS(1,arguments)},e.delayedCall=function(s,a,o,l){return new e(a,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:s,onComplete:a,onReverseComplete:a,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:l})},e.fromTo=function(s,a,o){return oS(2,arguments)},e.set=function(s,a){return a.duration=0,a.repeatDelay||(a.repeat=0),new e(s,a)},e.killTweensOf=function(s,a,o){return Hr.killTweensOf(s,a,o)},e}(eE);eu(Cs.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});dl("staggerTo,staggerFrom,staggerFromTo",function(i){Cs[i]=function(){var e=new wo,n=PN.call(arguments,0);return n.splice(i==="staggerFromTo"?5:4,0,0),e[i].apply(e,n)}});var gk=function(e,n,r){return e[n]=r},iY=function(e,n,r){return e[n](r)},kwt=function(e,n,r,s){return e[n](s.fp,r)},zwt=function(e,n,r){return e.setAttribute(n,r)},yk=function(e,n){return ss(e[n])?iY:ak(e[n])&&e.setAttribute?zwt:gk},rY=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e6)/1e6,n)},Bwt=function(e,n){return n.set(n.t,n.p,!!(n.s+n.c*e),n)},sY=function(e,n){var r=n._pt,s="";if(!e&&n.b)s=n.b;else if(e===1&&n.e)s=n.e;else{for(;r;)s=r.p+(r.m?r.m(r.s+r.c*e):Math.round((r.s+r.c*e)*1e4)/1e4)+s,r=r._next;s+=n.c}n.set(n.t,n.p,s,n)},vk=function(e,n){for(var r=n._pt;r;)r.r(e,r.d),r=r._next},Fwt=function(e,n,r,s){for(var a=this._pt,o;a;)o=a._next,a.p===s&&a.modifier(e,n,r),a=o},Vwt=function(e){for(var n=this._pt,r,s;n;)s=n._next,n.p===e&&!n.op||n.op===e?cO(this,n,"_pt"):n.dep||(r=1),n=s;return!r},Hwt=function(e,n,r,s){s.mSet(e,n,s.m.call(s.tween,r,s.mt),s)},aY=function(e){for(var n=e._pt,r,s,a,o;n;){for(r=n._next,s=a;s&&s.pr>n.pr;)s=s._next;(n._prev=s?s._prev:o)?n._prev._next=n:a=n,(n._next=s)?s._prev=n:o=n,n=r}e._pt=a},pl=function(){function i(n,r,s,a,o,l,u,c,h){this.t=r,this.s=a,this.c=o,this.p=s,this.r=l||rY,this.d=u||this,this.set=c||gk,this.pr=h||0,this._next=n,n&&(n._prev=this)}var e=i.prototype;return e.modifier=function(r,s,a){this.mSet=this.mSet||this.set,this.set=Hwt,this.m=r,this.mt=a,this.tween=s},i}();dl(fk+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(i){return ck[i]=1});tu.TweenMax=tu.TweenLite=Cs;tu.TimelineLite=tu.TimelineMax=wo;Hr=new wo({sortChildren:!1,defaults:Q_,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Kl.stringFilter=YX;var Iy=[],MM={},jwt=[],a8=0,Gwt=0,gD=function(e){return(MM[e]||jwt).map(function(n){return n()})},LN=function(){var e=Date.now(),n=[];e-a8>2&&(gD("matchMediaInit"),Iy.forEach(function(r){var s=r.queries,a=r.conditions,o,l,u,c;for(l in s)o=Uf.matchMedia(s[l]).matches,o&&(u=1),o!==a[l]&&(a[l]=o,c=1);c&&(r.revert(),u&&n.push(r))}),gD("matchMediaRevert"),n.forEach(function(r){return r.onMatch(r,function(s){return r.add(null,s)})}),a8=e,gD("matchMedia"))},oY=function(){function i(n,r){this.selector=r&&IN(r),this.data=[],this._r=[],this.isReverted=!1,this.id=Gwt++,n&&this.add(n)}var e=i.prototype;return e.add=function(r,s,a){ss(r)&&(a=s,s=r,r=ss);var o=this,l=function(){var c=Rr,h=o.selector,p;return c&&c!==o&&c.data.push(o),a&&(o.selector=IN(a)),Rr=o,p=s.apply(o,arguments),ss(p)&&o._r.push(p),Rr=c,o.selector=h,o.isReverted=!1,p};return o.last=l,r===ss?l(o,function(u){return o.add(null,u)}):r?o[r]=l:l},e.ignore=function(r){var s=Rr;Rr=null,r(this),Rr=s},e.getTweens=function(){var r=[];return this.data.forEach(function(s){return s instanceof i?r.push.apply(r,s.getTweens()):s instanceof Cs&&!(s.parent&&s.parent.data==="nested")&&r.push(s)}),r},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(r,s){var a=this;if(r?function(){for(var l=a.getTweens(),u=a.data.length,c;u--;)c=a.data[u],c.data==="isFlip"&&(c.revert(),c.getChildren(!0,!0,!1).forEach(function(h){return l.splice(l.indexOf(h),1)}));for(l.map(function(h){return{g:h._dur||h._delay||h._sat&&!h._sat.vars.immediateRender?h.globalTime(0):-1/0,t:h}}).sort(function(h,p){return p.g-h.g||-1/0}).forEach(function(h){return h.t.revert(r)}),u=a.data.length;u--;)c=a.data[u],c instanceof wo?c.data!=="nested"&&(c.scrollTrigger&&c.scrollTrigger.revert(),c.kill()):!(c instanceof Cs)&&c.revert&&c.revert(r);a._r.forEach(function(h){return h(r,a)}),a.isReverted=!0}():this.data.forEach(function(l){return l.kill&&l.kill()}),this.clear(),s)for(var o=Iy.length;o--;)Iy[o].id===this.id&&Iy.splice(o,1)},e.revert=function(r){this.kill(r||{})},i}(),$wt=function(){function i(n){this.contexts=[],this.scope=n,Rr&&Rr.data.push(this)}var e=i.prototype;return e.add=function(r,s,a){ch(r)||(r={matches:r});var o=new oY(0,a||this.scope),l=o.conditions={},u,c,h;Rr&&!o.selector&&(o.selector=Rr.selector),this.contexts.push(o),s=o.add("onMatch",s),o.queries=r;for(c in r)c==="all"?h=1:(u=Uf.matchMedia(r[c]),u&&(Iy.indexOf(o)<0&&Iy.push(o),(l[c]=u.matches)&&(h=1),u.addListener?u.addListener(LN):u.addEventListener("change",LN)));return h&&s(o,function(p){return o.add(null,p)}),this},e.revert=function(r){this.kill(r||{})},e.kill=function(r){this.contexts.forEach(function(s){return s.kill(r,!0)})},i}(),h2={registerPlugin:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];n.forEach(function(s){return qX(s)})},timeline:function(e){return new wo(e)},getTweensOf:function(e,n){return Hr.getTweensOf(e,n)},getProperty:function(e,n,r,s){ia(e)&&(e=Uu(e)[0]);var a=Ry(e||{}).get,o=r?DX:IX;return r==="native"&&(r=""),e&&(n?o((jl[n]&&jl[n].get||a)(e,n,r,s)):function(l,u,c){return o((jl[l]&&jl[l].get||a)(e,l,u,c))})},quickSetter:function(e,n,r){if(e=Uu(e),e.length>1){var s=e.map(function(h){return xl.quickSetter(h,n,r)}),a=s.length;return function(h){for(var p=a;p--;)s[p](h)}}e=e[0]||{};var o=jl[n],l=Ry(e),u=l.harness&&(l.harness.aliases||{})[n]||n,c=o?function(h){var p=new o;h_._pt=0,p.init(e,r?h+r:h,h_,0,[e]),p.render(1,p),h_._pt&&vk(1,h_)}:l.set(e,u);return o?c:function(h){return c(e,u,r?h+r:h,l,1)}},quickTo:function(e,n,r){var s,a=xl.to(e,eu((s={},s[n]="+=0.1",s.paused=!0,s.stagger=0,s),r||{})),o=function(u,c,h){return a.resetTo(n,u,c,h)};return o.tween=a,o},isTweening:function(e){return Hr.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Py(e.ease,Q_.ease)),e8(Q_,e||{})},config:function(e){return e8(Kl,e||{})},registerEffect:function(e){var n=e.name,r=e.effect,s=e.plugins,a=e.defaults,o=e.extendTimeline;(s||"").split(",").forEach(function(l){return l&&!jl[l]&&!tu[l]&&ZS(n+" effect requires "+l+" plugin.")}),hD[n]=function(l,u,c){return r(Uu(l),eu(u||{},a),c)},o&&(wo.prototype[n]=function(l,u,c){return this.add(hD[n](l,ch(u)?u:(c=u)&&{},this),c)})},registerEase:function(e,n){_i[e]=Py(n)},parseEase:function(e,n){return arguments.length?Py(e,n):_i},getById:function(e){return Hr.getById(e)},exportRoot:function(e,n){e===void 0&&(e={});var r=new wo(e),s,a;for(r.smoothChildTiming=hl(e.smoothChildTiming),Hr.remove(r),r._dp=0,r._time=r._tTime=Hr._time,s=Hr._first;s;)a=s._next,(n||!(!s._dur&&s instanceof Cs&&s.vars.onComplete===s._targets[0]))&&jf(r,s,s._start-s._delay),s=a;return jf(Hr,r,0),r},context:function(e,n){return e?new oY(e,n):Rr},matchMedia:function(e){return new $wt(e)},matchMediaRefresh:function(){return Iy.forEach(function(e){var n=e.conditions,r,s;for(s in n)n[s]&&(n[s]=!1,r=1);r&&e.revert()})||LN()},addEventListener:function(e,n){var r=MM[e]||(MM[e]=[]);~r.indexOf(n)||r.push(n)},removeEventListener:function(e,n){var r=MM[e],s=r&&r.indexOf(n);s>=0&&r.splice(s,1)},utils:{wrap:Ewt,wrapYoyo:Twt,distribute:FX,random:HX,snap:VX,normalize:Swt,getUnit:qa,clamp:vwt,splitColor:WX,toArray:Uu,selector:IN,mapRange:GX,pipe:bwt,unitize:xwt,interpolate:wwt,shuffle:BX},install:MX,effects:hD,ticker:ql,updateRoot:wo.updateRoot,plugins:jl,globalTimeline:Hr,core:{PropTween:pl,globals:CX,Tween:Cs,Timeline:wo,Animation:eE,getCache:Ry,_removeLinkedListItem:cO,reverting:function(){return Ea},context:function(e){return e&&Rr&&(Rr.data.push(e),e._ctx=Rr),Rr},suppressOverwrites:function(e){return sk=e}}};dl("to,from,fromTo,delayedCall,set,killTweensOf",function(i){return h2[i]=Cs[i]});ql.add(wo.updateRoot);h_=h2.to({},{duration:0});var qwt=function(e,n){for(var r=e._pt;r&&r.p!==n&&r.op!==n&&r.fp!==n;)r=r._next;return r},Wwt=function(e,n){var r=e._targets,s,a,o;for(s in n)for(a=r.length;a--;)o=e._ptLookup[a][s],o&&(o=o.d)&&(o._pt&&(o=qwt(o,s)),o&&o.modifier&&o.modifier(n[s],e,r[a],s))},yD=function(e,n){return{name:e,headless:1,rawVars:1,init:function(s,a,o){o._onInit=function(l){var u,c;if(ia(a)&&(u={},dl(a,function(h){return u[h]=1}),a=u),n){u={};for(c in a)u[c]=n(a[c]);a=u}Wwt(l,a)}}}},xl=h2.registerPlugin({name:"attr",init:function(e,n,r,s,a){var o,l,u;this.tween=r;for(o in n)u=e.getAttribute(o)||"",l=this.add(e,"setAttribute",(u||0)+"",n[o],s,a,0,0,o),l.op=o,l.b=u,this._props.push(o)},render:function(e,n){for(var r=n._pt;r;)Ea?r.set(r.t,r.p,r.b,r):r.r(e,r.d),r=r._next}},{name:"endArray",headless:1,init:function(e,n){for(var r=n.length;r--;)this.add(e,r,e[r]||0,n[r],0,0,0,0,0,1)}},yD("roundProps",DN),yD("modifiers"),yD("snap",VX))||h2;Cs.version=wo.version=xl.version="3.13.0";AX=1;ok()&&nb();_i.Power0;_i.Power1;_i.Power2;_i.Power3;_i.Power4;_i.Linear;_i.Quad;_i.Cubic;_i.Quart;_i.Quint;_i.Strong;_i.Elastic;_i.Back;_i.SteppedEase;_i.Bounce;_i.Sine;_i.Expo;_i.Circ;/*!
 * CSSPlugin 3.13.0
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var o8,cm,T_,_k,vy,l8,bk,Xwt=function(){return typeof window<"u"},Vd={},ry=180/Math.PI,w_=Math.PI/180,Vv=Math.atan2,u8=1e8,xk=/([A-Z])/g,Ywt=/(left|right|width|margin|padding|x)/i,Kwt=/[\s,\(]\S/,$f={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},UN=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},Zwt=function(e,n){return n.set(n.t,n.p,e===1?n.e:Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},Qwt=function(e,n){return n.set(n.t,n.p,e?Math.round((n.s+n.c*e)*1e4)/1e4+n.u:n.b,n)},Jwt=function(e,n){var r=n.s+n.c*e;n.set(n.t,n.p,~~(r+(r<0?-.5:.5))+n.u,n)},lY=function(e,n){return n.set(n.t,n.p,e?n.e:n.b,n)},uY=function(e,n){return n.set(n.t,n.p,e!==1?n.b:n.e,n)},tAt=function(e,n,r){return e.style[n]=r},eAt=function(e,n,r){return e.style.setProperty(n,r)},nAt=function(e,n,r){return e._gsap[n]=r},iAt=function(e,n,r){return e._gsap.scaleX=e._gsap.scaleY=r},rAt=function(e,n,r,s,a){var o=e._gsap;o.scaleX=o.scaleY=r,o.renderTransform(a,o)},sAt=function(e,n,r,s,a){var o=e._gsap;o[n]=r,o.renderTransform(a,o)},Gr="transform",ml=Gr+"Origin",aAt=function i(e,n){var r=this,s=this.target,a=s.style,o=s._gsap;if(e in Vd&&a){if(this.tfm=this.tfm||{},e!=="transform")e=$f[e]||e,~e.indexOf(",")?e.split(",").forEach(function(l){return r.tfm[l]=cd(s,l)}):this.tfm[e]=o.x?o[e]:cd(s,e),e===ml&&(this.tfm.zOrigin=o.zOrigin);else return $f.transform.split(",").forEach(function(l){return i.call(r,l,n)});if(this.props.indexOf(Gr)>=0)return;o.svg&&(this.svgo=s.getAttribute("data-svg-origin"),this.props.push(ml,n,"")),e=Gr}(a||n)&&this.props.push(e,n,a[e])},cY=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},oAt=function(){var e=this.props,n=this.target,r=n.style,s=n._gsap,a,o;for(a=0;a<e.length;a+=3)e[a+1]?e[a+1]===2?n[e[a]](e[a+2]):n[e[a]]=e[a+2]:e[a+2]?r[e[a]]=e[a+2]:r.removeProperty(e[a].substr(0,2)==="--"?e[a]:e[a].replace(xk,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)s[o]=this.tfm[o];s.svg&&(s.renderTransform(),n.setAttribute("data-svg-origin",this.svgo||"")),a=bk(),(!a||!a.isStart)&&!r[Gr]&&(cY(r),s.zOrigin&&r[ml]&&(r[ml]+=" "+s.zOrigin+"px",s.zOrigin=0,s.renderTransform()),s.uncache=1)}},fY=function(e,n){var r={target:e,props:[],revert:oAt,save:aAt};return e._gsap||xl.core.getCache(e),n&&e.style&&e.nodeType&&n.split(",").forEach(function(s){return r.save(s)}),r},hY,kN=function(e,n){var r=cm.createElementNS?cm.createElementNS((n||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):cm.createElement(e);return r&&r.style?r:cm.createElement(e)},ku=function i(e,n,r){var s=getComputedStyle(e);return s[n]||s.getPropertyValue(n.replace(xk,"-$1").toLowerCase())||s.getPropertyValue(n)||!r&&i(e,ib(n)||n,1)||""},c8="O,Moz,ms,Ms,Webkit".split(","),ib=function(e,n,r){var s=n||vy,a=s.style,o=5;if(e in a&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(c8[o]+e in a););return o<0?null:(o===3?"ms":o>=0?c8[o]:"")+e},zN=function(){Xwt()&&window.document&&(o8=window,cm=o8.document,T_=cm.documentElement,vy=kN("div")||{style:{}},kN("div"),Gr=ib(Gr),ml=Gr+"Origin",vy.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",hY=!!ib("perspective"),bk=xl.core.reverting,_k=1)},f8=function(e){var n=e.ownerSVGElement,r=kN("svg",n&&n.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),s=e.cloneNode(!0),a;s.style.display="block",r.appendChild(s),T_.appendChild(r);try{a=s.getBBox()}catch{}return r.removeChild(s),T_.removeChild(r),a},h8=function(e,n){for(var r=n.length;r--;)if(e.hasAttribute(n[r]))return e.getAttribute(n[r])},dY=function(e){var n,r;try{n=e.getBBox()}catch{n=f8(e),r=1}return n&&(n.width||n.height)||r||(n=f8(e)),n&&!n.width&&!n.x&&!n.y?{x:+h8(e,["x","cx","x1"])||0,y:+h8(e,["y","cy","y1"])||0,width:0,height:0}:n},pY=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&dY(e))},Jy=function(e,n){if(n){var r=e.style,s;n in Vd&&n!==ml&&(n=Gr),r.removeProperty?(s=n.substr(0,2),(s==="ms"||n.substr(0,6)==="webkit")&&(n="-"+n),r.removeProperty(s==="--"?n:n.replace(xk,"-$1").toLowerCase())):r.removeAttribute(n)}},fm=function(e,n,r,s,a,o){var l=new pl(e._pt,n,r,0,1,o?uY:lY);return e._pt=l,l.b=s,l.e=a,e._props.push(r),l},d8={deg:1,rad:1,turn:1},lAt={grid:1,flex:1},Dm=function i(e,n,r,s){var a=parseFloat(r)||0,o=(r+"").trim().substr((a+"").length)||"px",l=vy.style,u=Ywt.test(n),c=e.tagName.toLowerCase()==="svg",h=(c?"client":"offset")+(u?"Width":"Height"),p=100,g=s==="px",v=s==="%",b,S,E,x;if(s===o||!a||d8[s]||d8[o])return a;if(o!=="px"&&!g&&(a=i(e,n,r,"px")),x=e.getCTM&&pY(e),(v||o==="%")&&(Vd[n]||~n.indexOf("adius")))return b=x?e.getBBox()[u?"width":"height"]:e[h],ps(v?a/b*p:a/100*b);if(l[u?"width":"height"]=p+(g?o:s),S=s!=="rem"&&~n.indexOf("adius")||s==="em"&&e.appendChild&&!c?e:e.parentNode,x&&(S=(e.ownerSVGElement||{}).parentNode),(!S||S===cm||!S.appendChild)&&(S=cm.body),E=S._gsap,E&&v&&E.width&&u&&E.time===ql.time&&!E.uncache)return ps(a/E.width*p);if(v&&(n==="height"||n==="width")){var A=e.style[n];e.style[n]=p+s,b=e[h],A?e.style[n]=A:Jy(e,n)}else(v||o==="%")&&!lAt[ku(S,"display")]&&(l.position=ku(e,"position")),S===e&&(l.position="static"),S.appendChild(vy),b=vy[h],S.removeChild(vy),l.position="absolute";return u&&v&&(E=Ry(S),E.time=ql.time,E.width=S[h]),ps(g?b*a/p:b&&a?p/b*a:0)},cd=function(e,n,r,s){var a;return _k||zN(),n in $f&&n!=="transform"&&(n=$f[n],~n.indexOf(",")&&(n=n.split(",")[0])),Vd[n]&&n!=="transform"?(a=iE(e,s),a=n!=="transformOrigin"?a[n]:a.svg?a.origin:p2(ku(e,ml))+" "+a.zOrigin+"px"):(a=e.style[n],(!a||a==="auto"||s||~(a+"").indexOf("calc("))&&(a=d2[n]&&d2[n](e,n,r)||ku(e,n)||OX(e,n)||(n==="opacity"?1:0))),r&&!~(a+"").trim().indexOf(" ")?Dm(e,n,a,r)+r:a},uAt=function(e,n,r,s){if(!r||r==="none"){var a=ib(n,e,1),o=a&&ku(e,a,1);o&&o!==r?(n=a,r=o):n==="borderColor"&&(r=ku(e,"borderTopColor"))}var l=new pl(this._pt,e.style,n,0,1,sY),u=0,c=0,h,p,g,v,b,S,E,x,A,C,M,P;if(l.b=r,l.e=s,r+="",s+="",s.substring(0,6)==="var(--"&&(s=ku(e,s.substring(4,s.indexOf(")")))),s==="auto"&&(S=e.style[n],e.style[n]=s,s=ku(e,n)||s,S?e.style[n]=S:Jy(e,n)),h=[r,s],YX(h),r=h[0],s=h[1],g=r.match(f_)||[],P=s.match(f_)||[],P.length){for(;p=f_.exec(s);)E=p[0],A=s.substring(u,p.index),b?b=(b+1)%5:(A.substr(-5)==="rgba("||A.substr(-5)==="hsla(")&&(b=1),E!==(S=g[c++]||"")&&(v=parseFloat(S)||0,M=S.substr((v+"").length),E.charAt(1)==="="&&(E=E_(v,E)+M),x=parseFloat(E),C=E.substr((x+"").length),u=f_.lastIndex-C.length,C||(C=C||Kl.units[n]||M,u===s.length&&(s+=C,l.e+=C)),M!==C&&(v=Dm(e,n,S,C)||0),l._pt={_next:l._pt,p:A||c===1?A:",",s:v,c:x-v,m:b&&b<4||n==="zIndex"?Math.round:0});l.c=u<s.length?s.substring(u,s.length):""}else l.r=n==="display"&&s==="none"?uY:lY;return TX.test(s)&&(l.e=0),this._pt=l,l},p8={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},cAt=function(e){var n=e.split(" "),r=n[0],s=n[1]||"50%";return(r==="top"||r==="bottom"||s==="left"||s==="right")&&(e=r,r=s,s=e),n[0]=p8[r]||r,n[1]=p8[s]||s,n.join(" ")},fAt=function(e,n){if(n.tween&&n.tween._time===n.tween._dur){var r=n.t,s=r.style,a=n.u,o=r._gsap,l,u,c;if(a==="all"||a===!0)s.cssText="",u=1;else for(a=a.split(","),c=a.length;--c>-1;)l=a[c],Vd[l]&&(u=1,l=l==="transformOrigin"?ml:Gr),Jy(r,l);u&&(Jy(r,Gr),o&&(o.svg&&r.removeAttribute("transform"),s.scale=s.rotate=s.translate="none",iE(r,1),o.uncache=1,cY(s)))}},d2={clearProps:function(e,n,r,s,a){if(a.data!=="isFromStart"){var o=e._pt=new pl(e._pt,n,r,0,0,fAt);return o.u=s,o.pr=-10,o.tween=a,e._props.push(r),1}}},nE=[1,0,0,1,0,0],mY={},gY=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},m8=function(e){var n=ku(e,Gr);return gY(n)?nE:n.substr(7).match(EX).map(ps)},Sk=function(e,n){var r=e._gsap||Ry(e),s=e.style,a=m8(e),o,l,u,c;return r.svg&&e.getAttribute("transform")?(u=e.transform.baseVal.consolidate().matrix,a=[u.a,u.b,u.c,u.d,u.e,u.f],a.join(",")==="1,0,0,1,0,0"?nE:a):(a===nE&&!e.offsetParent&&e!==T_&&!r.svg&&(u=s.display,s.display="block",o=e.parentNode,(!o||!e.offsetParent&&!e.getBoundingClientRect().width)&&(c=1,l=e.nextElementSibling,T_.appendChild(e)),a=m8(e),u?s.display=u:Jy(e,"display"),c&&(l?o.insertBefore(e,l):o?o.appendChild(e):T_.removeChild(e))),n&&a.length>6?[a[0],a[1],a[4],a[5],a[12],a[13]]:a)},BN=function(e,n,r,s,a,o){var l=e._gsap,u=a||Sk(e,!0),c=l.xOrigin||0,h=l.yOrigin||0,p=l.xOffset||0,g=l.yOffset||0,v=u[0],b=u[1],S=u[2],E=u[3],x=u[4],A=u[5],C=n.split(" "),M=parseFloat(C[0])||0,P=parseFloat(C[1])||0,k,D,N,U;r?u!==nE&&(D=v*E-b*S)&&(N=M*(E/D)+P*(-S/D)+(S*A-E*x)/D,U=M*(-b/D)+P*(v/D)-(v*A-b*x)/D,M=N,P=U):(k=dY(e),M=k.x+(~C[0].indexOf("%")?M/100*k.width:M),P=k.y+(~(C[1]||C[0]).indexOf("%")?P/100*k.height:P)),s||s!==!1&&l.smooth?(x=M-c,A=P-h,l.xOffset=p+(x*v+A*S)-x,l.yOffset=g+(x*b+A*E)-A):l.xOffset=l.yOffset=0,l.xOrigin=M,l.yOrigin=P,l.smooth=!!s,l.origin=n,l.originIsAbsolute=!!r,e.style[ml]="0px 0px",o&&(fm(o,l,"xOrigin",c,M),fm(o,l,"yOrigin",h,P),fm(o,l,"xOffset",p,l.xOffset),fm(o,l,"yOffset",g,l.yOffset)),e.setAttribute("data-svg-origin",M+" "+P)},iE=function(e,n){var r=e._gsap||new JX(e);if("x"in r&&!n&&!r.uncache)return r;var s=e.style,a=r.scaleX<0,o="px",l="deg",u=getComputedStyle(e),c=ku(e,ml)||"0",h,p,g,v,b,S,E,x,A,C,M,P,k,D,N,U,R,B,H,V,Y,et,G,X,J,nt,Z,dt,yt,xt,it,ht;return h=p=g=S=E=x=A=C=M=0,v=b=1,r.svg=!!(e.getCTM&&pY(e)),u.translate&&((u.translate!=="none"||u.scale!=="none"||u.rotate!=="none")&&(s[Gr]=(u.translate!=="none"?"translate3d("+(u.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(u.rotate!=="none"?"rotate("+u.rotate+") ":"")+(u.scale!=="none"?"scale("+u.scale.split(" ").join(",")+") ":"")+(u[Gr]!=="none"?u[Gr]:"")),s.scale=s.rotate=s.translate="none"),D=Sk(e,r.svg),r.svg&&(r.uncache?(J=e.getBBox(),c=r.xOrigin-J.x+"px "+(r.yOrigin-J.y)+"px",X=""):X=!n&&e.getAttribute("data-svg-origin"),BN(e,X||c,!!X||r.originIsAbsolute,r.smooth!==!1,D)),P=r.xOrigin||0,k=r.yOrigin||0,D!==nE&&(B=D[0],H=D[1],V=D[2],Y=D[3],h=et=D[4],p=G=D[5],D.length===6?(v=Math.sqrt(B*B+H*H),b=Math.sqrt(Y*Y+V*V),S=B||H?Vv(H,B)*ry:0,A=V||Y?Vv(V,Y)*ry+S:0,A&&(b*=Math.abs(Math.cos(A*w_))),r.svg&&(h-=P-(P*B+k*V),p-=k-(P*H+k*Y))):(ht=D[6],xt=D[7],Z=D[8],dt=D[9],yt=D[10],it=D[11],h=D[12],p=D[13],g=D[14],N=Vv(ht,yt),E=N*ry,N&&(U=Math.cos(-N),R=Math.sin(-N),X=et*U+Z*R,J=G*U+dt*R,nt=ht*U+yt*R,Z=et*-R+Z*U,dt=G*-R+dt*U,yt=ht*-R+yt*U,it=xt*-R+it*U,et=X,G=J,ht=nt),N=Vv(-V,yt),x=N*ry,N&&(U=Math.cos(-N),R=Math.sin(-N),X=B*U-Z*R,J=H*U-dt*R,nt=V*U-yt*R,it=Y*R+it*U,B=X,H=J,V=nt),N=Vv(H,B),S=N*ry,N&&(U=Math.cos(N),R=Math.sin(N),X=B*U+H*R,J=et*U+G*R,H=H*U-B*R,G=G*U-et*R,B=X,et=J),E&&Math.abs(E)+Math.abs(S)>359.9&&(E=S=0,x=180-x),v=ps(Math.sqrt(B*B+H*H+V*V)),b=ps(Math.sqrt(G*G+ht*ht)),N=Vv(et,G),A=Math.abs(N)>2e-4?N*ry:0,M=it?1/(it<0?-it:it):0),r.svg&&(X=e.getAttribute("transform"),r.forceCSS=e.setAttribute("transform","")||!gY(ku(e,Gr)),X&&e.setAttribute("transform",X))),Math.abs(A)>90&&Math.abs(A)<270&&(a?(v*=-1,A+=S<=0?180:-180,S+=S<=0?180:-180):(b*=-1,A+=A<=0?180:-180)),n=n||r.uncache,r.x=h-((r.xPercent=h&&(!n&&r.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-h)?-50:0)))?e.offsetWidth*r.xPercent/100:0)+o,r.y=p-((r.yPercent=p&&(!n&&r.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-p)?-50:0)))?e.offsetHeight*r.yPercent/100:0)+o,r.z=g+o,r.scaleX=ps(v),r.scaleY=ps(b),r.rotation=ps(S)+l,r.rotationX=ps(E)+l,r.rotationY=ps(x)+l,r.skewX=A+l,r.skewY=C+l,r.transformPerspective=M+o,(r.zOrigin=parseFloat(c.split(" ")[2])||!n&&r.zOrigin||0)&&(s[ml]=p2(c)),r.xOffset=r.yOffset=0,r.force3D=Kl.force3D,r.renderTransform=r.svg?dAt:hY?yY:hAt,r.uncache=0,r},p2=function(e){return(e=e.split(" "))[0]+" "+e[1]},vD=function(e,n,r){var s=qa(n);return ps(parseFloat(n)+parseFloat(Dm(e,"x",r+"px",s)))+s},hAt=function(e,n){n.z="0px",n.rotationY=n.rotationX="0deg",n.force3D=0,yY(e,n)},Wg="0deg",r1="0px",Xg=") ",yY=function(e,n){var r=n||this,s=r.xPercent,a=r.yPercent,o=r.x,l=r.y,u=r.z,c=r.rotation,h=r.rotationY,p=r.rotationX,g=r.skewX,v=r.skewY,b=r.scaleX,S=r.scaleY,E=r.transformPerspective,x=r.force3D,A=r.target,C=r.zOrigin,M="",P=x==="auto"&&e&&e!==1||x===!0;if(C&&(p!==Wg||h!==Wg)){var k=parseFloat(h)*w_,D=Math.sin(k),N=Math.cos(k),U;k=parseFloat(p)*w_,U=Math.cos(k),o=vD(A,o,D*U*-C),l=vD(A,l,-Math.sin(k)*-C),u=vD(A,u,N*U*-C+C)}E!==r1&&(M+="perspective("+E+Xg),(s||a)&&(M+="translate("+s+"%, "+a+"%) "),(P||o!==r1||l!==r1||u!==r1)&&(M+=u!==r1||P?"translate3d("+o+", "+l+", "+u+") ":"translate("+o+", "+l+Xg),c!==Wg&&(M+="rotate("+c+Xg),h!==Wg&&(M+="rotateY("+h+Xg),p!==Wg&&(M+="rotateX("+p+Xg),(g!==Wg||v!==Wg)&&(M+="skew("+g+", "+v+Xg),(b!==1||S!==1)&&(M+="scale("+b+", "+S+Xg),A.style[Gr]=M||"translate(0, 0)"},dAt=function(e,n){var r=n||this,s=r.xPercent,a=r.yPercent,o=r.x,l=r.y,u=r.rotation,c=r.skewX,h=r.skewY,p=r.scaleX,g=r.scaleY,v=r.target,b=r.xOrigin,S=r.yOrigin,E=r.xOffset,x=r.yOffset,A=r.forceCSS,C=parseFloat(o),M=parseFloat(l),P,k,D,N,U;u=parseFloat(u),c=parseFloat(c),h=parseFloat(h),h&&(h=parseFloat(h),c+=h,u+=h),u||c?(u*=w_,c*=w_,P=Math.cos(u)*p,k=Math.sin(u)*p,D=Math.sin(u-c)*-g,N=Math.cos(u-c)*g,c&&(h*=w_,U=Math.tan(c-h),U=Math.sqrt(1+U*U),D*=U,N*=U,h&&(U=Math.tan(h),U=Math.sqrt(1+U*U),P*=U,k*=U)),P=ps(P),k=ps(k),D=ps(D),N=ps(N)):(P=p,N=g,k=D=0),(C&&!~(o+"").indexOf("px")||M&&!~(l+"").indexOf("px"))&&(C=Dm(v,"x",o,"px"),M=Dm(v,"y",l,"px")),(b||S||E||x)&&(C=ps(C+b-(b*P+S*D)+E),M=ps(M+S-(b*k+S*N)+x)),(s||a)&&(U=v.getBBox(),C=ps(C+s/100*U.width),M=ps(M+a/100*U.height)),U="matrix("+P+","+k+","+D+","+N+","+C+","+M+")",v.setAttribute("transform",U),A&&(v.style[Gr]=U)},pAt=function(e,n,r,s,a){var o=360,l=ia(a),u=parseFloat(a)*(l&&~a.indexOf("rad")?ry:1),c=u-s,h=s+c+"deg",p,g;return l&&(p=a.split("_")[1],p==="short"&&(c%=o,c!==c%(o/2)&&(c+=c<0?o:-360)),p==="cw"&&c<0?c=(c+o*u8)%o-~~(c/o)*o:p==="ccw"&&c>0&&(c=(c-o*u8)%o-~~(c/o)*o)),e._pt=g=new pl(e._pt,n,r,s,c,Zwt),g.e=h,g.u="deg",e._props.push(r),g},g8=function(e,n){for(var r in n)e[r]=n[r];return e},mAt=function(e,n,r){var s=g8({},r._gsap),a="perspective,force3D,transformOrigin,svgOrigin",o=r.style,l,u,c,h,p,g,v,b;s.svg?(c=r.getAttribute("transform"),r.setAttribute("transform",""),o[Gr]=n,l=iE(r,1),Jy(r,Gr),r.setAttribute("transform",c)):(c=getComputedStyle(r)[Gr],o[Gr]=n,l=iE(r,1),o[Gr]=c);for(u in Vd)c=s[u],h=l[u],c!==h&&a.indexOf(u)<0&&(v=qa(c),b=qa(h),p=v!==b?Dm(r,u,c,b):parseFloat(c),g=parseFloat(h),e._pt=new pl(e._pt,l,u,p,g-p,UN),e._pt.u=b||0,e._props.push(u));g8(l,s)};dl("padding,margin,Width,Radius",function(i,e){var n="Top",r="Right",s="Bottom",a="Left",o=(e<3?[n,r,s,a]:[n+a,n+r,s+r,s+a]).map(function(l){return e<2?i+l:"border"+l+i});d2[e>1?"border"+i:i]=function(l,u,c,h,p){var g,v;if(arguments.length<4)return g=o.map(function(b){return cd(l,b,c)}),v=g.join(" "),v.split(g[0]).length===5?g[0]:v;g=(h+"").split(" "),v={},o.forEach(function(b,S){return v[b]=g[S]=g[S]||g[(S-1)/2|0]}),l.init(u,v,p)}});var vY={name:"css",register:zN,targetTest:function(e){return e.style&&e.nodeType},init:function(e,n,r,s,a){var o=this._props,l=e.style,u=r.vars.startAt,c,h,p,g,v,b,S,E,x,A,C,M,P,k,D,N;_k||zN(),this.styles=this.styles||fY(e),N=this.styles.props,this.tween=r;for(S in n)if(S!=="autoRound"&&(h=n[S],!(jl[S]&&tY(S,n,r,s,e,a)))){if(v=typeof h,b=d2[S],v==="function"&&(h=h.call(r,s,e,a),v=typeof h),v==="string"&&~h.indexOf("random(")&&(h=JS(h)),b)b(this,e,S,h,r)&&(D=1);else if(S.substr(0,2)==="--")c=(getComputedStyle(e).getPropertyValue(S)+"").trim(),h+="",_m.lastIndex=0,_m.test(c)||(E=qa(c),x=qa(h)),x?E!==x&&(c=Dm(e,S,c,x)+x):E&&(h+=E),this.add(l,"setProperty",c,h,s,a,0,0,S),o.push(S),N.push(S,0,l[S]);else if(v!=="undefined"){if(u&&S in u?(c=typeof u[S]=="function"?u[S].call(r,s,e,a):u[S],ia(c)&&~c.indexOf("random(")&&(c=JS(c)),qa(c+"")||c==="auto"||(c+=Kl.units[S]||qa(cd(e,S))||""),(c+"").charAt(1)==="="&&(c=cd(e,S))):c=cd(e,S),g=parseFloat(c),A=v==="string"&&h.charAt(1)==="="&&h.substr(0,2),A&&(h=h.substr(2)),p=parseFloat(h),S in $f&&(S==="autoAlpha"&&(g===1&&cd(e,"visibility")==="hidden"&&p&&(g=0),N.push("visibility",0,l.visibility),fm(this,l,"visibility",g?"inherit":"hidden",p?"inherit":"hidden",!p)),S!=="scale"&&S!=="transform"&&(S=$f[S],~S.indexOf(",")&&(S=S.split(",")[0]))),C=S in Vd,C){if(this.styles.save(S),v==="string"&&h.substring(0,6)==="var(--"&&(h=ku(e,h.substring(4,h.indexOf(")"))),p=parseFloat(h)),M||(P=e._gsap,P.renderTransform&&!n.parseTransform||iE(e,n.parseTransform),k=n.smoothOrigin!==!1&&P.smooth,M=this._pt=new pl(this._pt,l,Gr,0,1,P.renderTransform,P,0,-1),M.dep=1),S==="scale")this._pt=new pl(this._pt,P,"scaleY",P.scaleY,(A?E_(P.scaleY,A+p):p)-P.scaleY||0,UN),this._pt.u=0,o.push("scaleY",S),S+="X";else if(S==="transformOrigin"){N.push(ml,0,l[ml]),h=cAt(h),P.svg?BN(e,h,0,k,0,this):(x=parseFloat(h.split(" ")[2])||0,x!==P.zOrigin&&fm(this,P,"zOrigin",P.zOrigin,x),fm(this,l,S,p2(c),p2(h)));continue}else if(S==="svgOrigin"){BN(e,h,1,k,0,this);continue}else if(S in mY){pAt(this,P,S,g,A?E_(g,A+h):h);continue}else if(S==="smoothOrigin"){fm(this,P,"smooth",P.smooth,h);continue}else if(S==="force3D"){P[S]=h;continue}else if(S==="transform"){mAt(this,h,e);continue}}else S in l||(S=ib(S)||S);if(C||(p||p===0)&&(g||g===0)&&!Kwt.test(h)&&S in l)E=(c+"").substr((g+"").length),p||(p=0),x=qa(h)||(S in Kl.units?Kl.units[S]:E),E!==x&&(g=Dm(e,S,c,x)),this._pt=new pl(this._pt,C?P:l,S,g,(A?E_(g,A+p):p)-g,!C&&(x==="px"||S==="zIndex")&&n.autoRound!==!1?Jwt:UN),this._pt.u=x||0,E!==x&&x!=="%"&&(this._pt.b=c,this._pt.r=Qwt);else if(S in l)uAt.call(this,e,S,c,A?A+h:h);else if(S in e)this.add(e,S,c||e[S],A?A+h:h,s,a);else if(S!=="parseTransform"){uk(S,h);continue}C||(S in l?N.push(S,0,l[S]):typeof e[S]=="function"?N.push(S,2,e[S]()):N.push(S,1,c||e[S])),o.push(S)}}D&&aY(this)},render:function(e,n){if(n.tween._time||!bk())for(var r=n._pt;r;)r.r(e,r.d),r=r._next;else n.styles.revert()},get:cd,aliases:$f,getSetter:function(e,n,r){var s=$f[n];return s&&s.indexOf(",")<0&&(n=s),n in Vd&&n!==ml&&(e._gsap.x||cd(e,"x"))?r&&l8===r?n==="scale"?iAt:nAt:(l8=r||{})&&(n==="scale"?rAt:sAt):e.style&&!ak(e.style[n])?tAt:~n.indexOf("-")?eAt:yk(e,n)},core:{_removeProperty:Jy,_getMatrix:Sk}};xl.utils.checkPrefix=ib;xl.core.getStyleSaver=fY;(function(i,e,n,r){var s=dl(i+","+e+","+n,function(a){Vd[a]=1});dl(e,function(a){Kl.units[a]="deg",mY[a]=1}),$f[s[13]]=i+","+e,dl(r,function(a){var o=a.split(":");$f[o[1]]=s[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");dl("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(i){Kl.units[i]="px"});xl.registerPlugin(vY);var Ek=xl.registerPlugin(vY)||xl;Ek.core.Tween;const gAt=(i,e,n=50)=>{if(!i)return;const r=new pt;i.getPosition(r);const s=new pt;i.getTarget(s);const a=new pt().subVectors(r,e).normalize(),o=new pt().copy(e).addScaledVector(a,n),l={x:r.x,y:r.y,z:r.z};Ek.to(l,{x:o.x,y:o.y,z:o.z,duration:1.5,ease:"power2.out",onUpdate:()=>{i.setLookAt(l.x,l.y,l.z,e.x,e.y,e.z,!0)},onComplete:()=>{fn.setState({isNodeViewActive:!0,cameraBackup:{pos:r.toArray(),target:s.toArray()}})}})},yAt=i=>{const{cameraBackup:e}=fn.getState();if(!i||!e)return;const[n,r,s]=e.pos,[a,o,l]=e.target,u=new pt;i.getPosition(u);const c={x:u.x,y:u.y,z:u.z};Ek.to(c,{x:n,y:r,z:s,duration:1.5,ease:"power2.inOut",onUpdate:()=>{i.setLookAt(c.x,c.y,c.z,a,o,l,!0)},onComplete:()=>{fn.setState({isNodeViewActive:!1,cameraBackup:null})}})},s1="components.accoundMenu.";function vAt(){const{t:i}=qu(),e=fn(g=>g.isUserLogin),n=fn(g=>g.userLoginData),[r,s]=gn.useState(null),a=!!r,o=fn(g=>g.triggerAlert),l=g=>{s(g.currentTarget),fn.setState({isNodeViewActive:!1})},u=()=>{s(null)},c=()=>{fn.setState({isLoginWindowActive:!0})},h=()=>{e?fn.setState({isAddNodeActive:!0}):o("Sesin Cerrada","warning")},p=()=>{fn.setState({isConfigWindowActive:!0})};return W.jsxs(gn.Fragment,{children:[W.jsx(di,{sx:jvt,children:W.jsx(n_,{title:i(s1+"title"),children:W.jsx(ay,{onClick:l,size:"small","aria-controls":a?"menu-user":void 0,"aria-haspopup":"true","aria-expanded":a?"true":void 0,children:W.jsx(nV,{sx:Gvt,children:W.jsx(Evt,{sx:$vt})})})})}),W.jsxs(F$,{anchorEl:r,id:"menu-user",open:a,onClose:u,onClick:u,slotProps:{paper:{elevation:0,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"& .MuiAvatar-root":{width:32,height:32,ml:-.5,mr:1},"&::before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[e?W.jsxs(oy,{onClick:u,children:[W.jsx(Jx,{children:W.jsx(nV,{alt:n.displayName??"User",src:n.photoURL??void 0})}),n.displayName]}):W.jsxs(oy,{onClick:c,children:[W.jsx(Jx,{children:W.jsx(bvt,{fontSize:"small"})}),i(s1+"optionsMenu.login")]}),W.jsx(H_,{}),W.jsxs(oy,{onClick:h,children:[W.jsx(Jx,{children:W.jsx(_vt,{fontSize:"small"})}),i(s1+"optionsMenu.addNode")]}),W.jsx(H_,{}),W.jsxs(oy,{onClick:p,children:[W.jsx(Jx,{children:W.jsx(Avt,{fontSize:"small"})}),i(s1+"optionsMenu.configuration")]}),W.jsxs(oy,{onClick:ewt,children:[W.jsx(Jx,{children:W.jsx(xvt,{fontSize:"small"})}),i(s1+"optionsMenu.logOut")]})]})]})}function _At(){const i=fn(r=>r.showAlert),e=fn(r=>r.alertMessage),n=fn(r=>r.alertSeverity);return W.jsx(Qp,{sx:{width:"80%",position:"absolute",bottom:20,zIndex:9999},spacing:2,children:W.jsx(U$,{direction:"left",in:i,mountOnEnter:!0,unmountOnExit:!0,children:W.jsx(k3,{in:i,children:W.jsx(rdt,{severity:n,children:e})})})})}const _D=Ro,dO=({buttonFunction:i,disabled:e})=>W.jsx(vd,{size:"medium",disabled:e,onClick:i,sx:{position:"absolute",top:10,right:10,backgroundColor:qy(_D.palette.formStyles.containerBackgroundColor,.4),"&:hover":{backgroundColor:_D.palette.formStyles.cardBackgroundColor,opacity:.8},color:_D.palette.action.deactivate},children:W.jsx(yvt,{sx:{fontSize:"3em"}})});function bAt(i,e){var n=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(n!=null){var r,s,a,o,l=[],u=!0,c=!1;try{if(a=(n=n.call(i)).next,e===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(h){c=!0,s=h}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw s}}return l}}function xAt(i,e,n){return e=RAt(e),e in i?Object.defineProperty(i,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[e]=n,i}function y8(i,e){return TAt(i)||bAt(i,e)||_Y(i,e)||MAt()}function SAt(i){return EAt(i)||wAt(i)||_Y(i)||AAt()}function EAt(i){if(Array.isArray(i))return FN(i)}function TAt(i){if(Array.isArray(i))return i}function wAt(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function _Y(i,e){if(i){if(typeof i=="string")return FN(i,e);var n=Object.prototype.toString.call(i).slice(8,-1);if(n==="Object"&&i.constructor&&(n=i.constructor.name),n==="Map"||n==="Set")return Array.from(i);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FN(i,e)}}function FN(i,e){(e==null||e>i.length)&&(e=i.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=i[n];return r}function AAt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MAt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CAt(i,e){if(typeof i!="object"||i===null)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var r=n.call(i,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function RAt(i){var e=CAt(i,"string");return typeof e=="symbol"?e:String(e)}var bY=function(e,n){var r=new Set(n);return Object.assign.apply(Object,[{}].concat(SAt(Object.entries(e).filter(function(s){var a=y8(s,1),o=a[0];return!r.has(o)}).map(function(s){var a=y8(s,2),o=a[0],l=a[1];return xAt({},o,l)}))))};function VN(i,e){(e==null||e>i.length)&&(e=i.length);for(var n=0,r=Array(e);n<e;n++)r[n]=i[n];return r}function OAt(i){if(Array.isArray(i))return i}function PAt(i){if(Array.isArray(i))return VN(i)}function IAt(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function DAt(i,e){var n=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(n!=null){var r,s,a,o,l=[],u=!0,c=!1;try{if(a=(n=n.call(i)).next,e!==0)for(;!(u=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(h){c=!0,s=h}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw s}}return l}}function NAt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LAt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UAt(i,e){return OAt(i)||DAt(i,e)||xY(i,e)||NAt()}function v8(i){return PAt(i)||IAt(i)||xY(i)||LAt()}function xY(i,e){if(i){if(typeof i=="string")return VN(i,e);var n={}.toString.call(i).slice(8,-1);return n==="Object"&&i.constructor&&(n=i.constructor.name),n==="Map"||n==="Set"?Array.from(i):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?VN(i,e):void 0}}function kAt(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.wrapperElementType,r=n===void 0?"div":n,s=e.nodeMapper,a=s===void 0?function(h){return h}:s,o=e.methodNames,l=o===void 0?[]:o,u=e.initPropNames,c=u===void 0?[]:u;return Q.forwardRef(function(h,p){var g=Q.useRef(),v=Q.useMemo(function(){var E=Object.fromEntries(c.filter(function(x){return h.hasOwnProperty(x)}).map(function(x){return[x,h[x]]}));return i(E)},[]);_8(function(){v(a(g.current))},Q.useLayoutEffect),_8(function(){return v._destructor instanceof Function?v._destructor:void 0});var b=Q.useCallback(function(E){for(var x=arguments.length,A=new Array(x>1?x-1:0),C=1;C<x;C++)A[C-1]=arguments[C];return v[E]instanceof Function?v[E].apply(v,A):void 0},[v]),S=Q.useRef({});return Object.keys(bY(h,[].concat(v8(l),v8(c)))).filter(function(E){return S.current[E]!==h[E]}).forEach(function(E){return b(E,h[E])}),S.current=h,Q.useImperativeHandle(p,function(){return Object.fromEntries(l.map(function(E){return[E,function(){for(var x=arguments.length,A=new Array(x),C=0;C<x;C++)A[C]=arguments[C];return b.apply(void 0,[E].concat(A))}]}))},[b]),gn.createElement(r,{ref:g})})}function _8(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Q.useEffect,n=Q.useRef(),r=Q.useRef(!1),s=Q.useRef(!1),a=Q.useState(0),o=UAt(a,2);o[0];var l=o[1];r.current&&(s.current=!0),e(function(){return r.current||(n.current=i(),r.current=!0),l(function(u){return u+1}),function(){s.current&&n.current&&n.current()}},[])}var HN="http://www.w3.org/1999/xhtml";const b8={svg:"http://www.w3.org/2000/svg",xhtml:HN,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function pO(i){var e=i+="",n=e.indexOf(":");return n>=0&&(e=i.slice(0,n))!=="xmlns"&&(i=i.slice(n+1)),b8.hasOwnProperty(e)?{space:b8[e],local:i}:i}function zAt(i){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===HN&&e.documentElement.namespaceURI===HN?e.createElement(i):e.createElementNS(n,i)}}function BAt(i){return function(){return this.ownerDocument.createElementNS(i.space,i.local)}}function SY(i){var e=pO(i);return(e.local?BAt:zAt)(e)}function FAt(){}function Tk(i){return i==null?FAt:function(){return this.querySelector(i)}}function VAt(i){typeof i!="function"&&(i=Tk(i));for(var e=this._groups,n=e.length,r=new Array(n),s=0;s<n;++s)for(var a=e[s],o=a.length,l=r[s]=new Array(o),u,c,h=0;h<o;++h)(u=a[h])&&(c=i.call(u,u.__data__,h,a))&&("__data__"in u&&(c.__data__=u.__data__),l[h]=c);return new nu(r,this._parents)}function HAt(i){return i==null?[]:Array.isArray(i)?i:Array.from(i)}function jAt(){return[]}function EY(i){return i==null?jAt:function(){return this.querySelectorAll(i)}}function GAt(i){return function(){return HAt(i.apply(this,arguments))}}function $At(i){typeof i=="function"?i=GAt(i):i=EY(i);for(var e=this._groups,n=e.length,r=[],s=[],a=0;a<n;++a)for(var o=e[a],l=o.length,u,c=0;c<l;++c)(u=o[c])&&(r.push(i.call(u,u.__data__,c,o)),s.push(u));return new nu(r,s)}function TY(i){return function(){return this.matches(i)}}function wY(i){return function(e){return e.matches(i)}}var qAt=Array.prototype.find;function WAt(i){return function(){return qAt.call(this.children,i)}}function XAt(){return this.firstElementChild}function YAt(i){return this.select(i==null?XAt:WAt(typeof i=="function"?i:wY(i)))}var KAt=Array.prototype.filter;function ZAt(){return Array.from(this.children)}function QAt(i){return function(){return KAt.call(this.children,i)}}function JAt(i){return this.selectAll(i==null?ZAt:QAt(typeof i=="function"?i:wY(i)))}function tMt(i){typeof i!="function"&&(i=TY(i));for(var e=this._groups,n=e.length,r=new Array(n),s=0;s<n;++s)for(var a=e[s],o=a.length,l=r[s]=[],u,c=0;c<o;++c)(u=a[c])&&i.call(u,u.__data__,c,a)&&l.push(u);return new nu(r,this._parents)}function AY(i){return new Array(i.length)}function eMt(){return new nu(this._enter||this._groups.map(AY),this._parents)}function m2(i,e){this.ownerDocument=i.ownerDocument,this.namespaceURI=i.namespaceURI,this._next=null,this._parent=i,this.__data__=e}m2.prototype={constructor:m2,appendChild:function(i){return this._parent.insertBefore(i,this._next)},insertBefore:function(i,e){return this._parent.insertBefore(i,e)},querySelector:function(i){return this._parent.querySelector(i)},querySelectorAll:function(i){return this._parent.querySelectorAll(i)}};function nMt(i){return function(){return i}}function iMt(i,e,n,r,s,a){for(var o=0,l,u=e.length,c=a.length;o<c;++o)(l=e[o])?(l.__data__=a[o],r[o]=l):n[o]=new m2(i,a[o]);for(;o<u;++o)(l=e[o])&&(s[o]=l)}function rMt(i,e,n,r,s,a,o){var l,u,c=new Map,h=e.length,p=a.length,g=new Array(h),v;for(l=0;l<h;++l)(u=e[l])&&(g[l]=v=o.call(u,u.__data__,l,e)+"",c.has(v)?s[l]=u:c.set(v,u));for(l=0;l<p;++l)v=o.call(i,a[l],l,a)+"",(u=c.get(v))?(r[l]=u,u.__data__=a[l],c.delete(v)):n[l]=new m2(i,a[l]);for(l=0;l<h;++l)(u=e[l])&&c.get(g[l])===u&&(s[l]=u)}function sMt(i){return i.__data__}function aMt(i,e){if(!arguments.length)return Array.from(this,sMt);var n=e?rMt:iMt,r=this._parents,s=this._groups;typeof i!="function"&&(i=nMt(i));for(var a=s.length,o=new Array(a),l=new Array(a),u=new Array(a),c=0;c<a;++c){var h=r[c],p=s[c],g=p.length,v=oMt(i.call(h,h&&h.__data__,c,r)),b=v.length,S=l[c]=new Array(b),E=o[c]=new Array(b),x=u[c]=new Array(g);n(h,p,S,E,x,v,e);for(var A=0,C=0,M,P;A<b;++A)if(M=S[A]){for(A>=C&&(C=A+1);!(P=E[C])&&++C<b;);M._next=P||null}}return o=new nu(o,r),o._enter=l,o._exit=u,o}function oMt(i){return typeof i=="object"&&"length"in i?i:Array.from(i)}function lMt(){return new nu(this._exit||this._groups.map(AY),this._parents)}function uMt(i,e,n){var r=this.enter(),s=this,a=this.exit();return typeof i=="function"?(r=i(r),r&&(r=r.selection())):r=r.append(i+""),e!=null&&(s=e(s),s&&(s=s.selection())),n==null?a.remove():n(a),r&&s?r.merge(s).order():s}function cMt(i){for(var e=i.selection?i.selection():i,n=this._groups,r=e._groups,s=n.length,a=r.length,o=Math.min(s,a),l=new Array(s),u=0;u<o;++u)for(var c=n[u],h=r[u],p=c.length,g=l[u]=new Array(p),v,b=0;b<p;++b)(v=c[b]||h[b])&&(g[b]=v);for(;u<s;++u)l[u]=n[u];return new nu(l,this._parents)}function fMt(){for(var i=this._groups,e=-1,n=i.length;++e<n;)for(var r=i[e],s=r.length-1,a=r[s],o;--s>=0;)(o=r[s])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function hMt(i){i||(i=dMt);function e(p,g){return p&&g?i(p.__data__,g.__data__):!p-!g}for(var n=this._groups,r=n.length,s=new Array(r),a=0;a<r;++a){for(var o=n[a],l=o.length,u=s[a]=new Array(l),c,h=0;h<l;++h)(c=o[h])&&(u[h]=c);u.sort(e)}return new nu(s,this._parents).order()}function dMt(i,e){return i<e?-1:i>e?1:i>=e?0:NaN}function pMt(){var i=arguments[0];return arguments[0]=this,i.apply(null,arguments),this}function mMt(){return Array.from(this)}function gMt(){for(var i=this._groups,e=0,n=i.length;e<n;++e)for(var r=i[e],s=0,a=r.length;s<a;++s){var o=r[s];if(o)return o}return null}function yMt(){let i=0;for(const e of this)++i;return i}function vMt(){return!this.node()}function _Mt(i){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var s=e[n],a=0,o=s.length,l;a<o;++a)(l=s[a])&&i.call(l,l.__data__,a,s);return this}function bMt(i){return function(){this.removeAttribute(i)}}function xMt(i){return function(){this.removeAttributeNS(i.space,i.local)}}function SMt(i,e){return function(){this.setAttribute(i,e)}}function EMt(i,e){return function(){this.setAttributeNS(i.space,i.local,e)}}function TMt(i,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(i):this.setAttribute(i,n)}}function wMt(i,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(i.space,i.local):this.setAttributeNS(i.space,i.local,n)}}function AMt(i,e){var n=pO(i);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?xMt:bMt:typeof e=="function"?n.local?wMt:TMt:n.local?EMt:SMt)(n,e))}function MY(i){return i.ownerDocument&&i.ownerDocument.defaultView||i.document&&i||i.defaultView}function MMt(i){return function(){this.style.removeProperty(i)}}function CMt(i,e,n){return function(){this.style.setProperty(i,e,n)}}function RMt(i,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(i):this.style.setProperty(i,r,n)}}function OMt(i,e,n){return arguments.length>1?this.each((e==null?MMt:typeof e=="function"?RMt:CMt)(i,e,n??"")):rb(this.node(),i)}function rb(i,e){return i.style.getPropertyValue(e)||MY(i).getComputedStyle(i,null).getPropertyValue(e)}function PMt(i){return function(){delete this[i]}}function IMt(i,e){return function(){this[i]=e}}function DMt(i,e){return function(){var n=e.apply(this,arguments);n==null?delete this[i]:this[i]=n}}function NMt(i,e){return arguments.length>1?this.each((e==null?PMt:typeof e=="function"?DMt:IMt)(i,e)):this.node()[i]}function CY(i){return i.trim().split(/^|\s+/)}function wk(i){return i.classList||new RY(i)}function RY(i){this._node=i,this._names=CY(i.getAttribute("class")||"")}RY.prototype={add:function(i){var e=this._names.indexOf(i);e<0&&(this._names.push(i),this._node.setAttribute("class",this._names.join(" ")))},remove:function(i){var e=this._names.indexOf(i);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(i){return this._names.indexOf(i)>=0}};function OY(i,e){for(var n=wk(i),r=-1,s=e.length;++r<s;)n.add(e[r])}function PY(i,e){for(var n=wk(i),r=-1,s=e.length;++r<s;)n.remove(e[r])}function LMt(i){return function(){OY(this,i)}}function UMt(i){return function(){PY(this,i)}}function kMt(i,e){return function(){(e.apply(this,arguments)?OY:PY)(this,i)}}function zMt(i,e){var n=CY(i+"");if(arguments.length<2){for(var r=wk(this.node()),s=-1,a=n.length;++s<a;)if(!r.contains(n[s]))return!1;return!0}return this.each((typeof e=="function"?kMt:e?LMt:UMt)(n,e))}function BMt(){this.textContent=""}function FMt(i){return function(){this.textContent=i}}function VMt(i){return function(){var e=i.apply(this,arguments);this.textContent=e??""}}function HMt(i){return arguments.length?this.each(i==null?BMt:(typeof i=="function"?VMt:FMt)(i)):this.node().textContent}function jMt(){this.innerHTML=""}function GMt(i){return function(){this.innerHTML=i}}function $Mt(i){return function(){var e=i.apply(this,arguments);this.innerHTML=e??""}}function qMt(i){return arguments.length?this.each(i==null?jMt:(typeof i=="function"?$Mt:GMt)(i)):this.node().innerHTML}function WMt(){this.nextSibling&&this.parentNode.appendChild(this)}function XMt(){return this.each(WMt)}function YMt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function KMt(){return this.each(YMt)}function ZMt(i){var e=typeof i=="function"?i:SY(i);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function QMt(){return null}function JMt(i,e){var n=typeof i=="function"?i:SY(i),r=e==null?QMt:typeof e=="function"?e:Tk(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function tCt(){var i=this.parentNode;i&&i.removeChild(this)}function eCt(){return this.each(tCt)}function nCt(){var i=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(i,this.nextSibling):i}function iCt(){var i=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(i,this.nextSibling):i}function rCt(i){return this.select(i?iCt:nCt)}function sCt(i){return arguments.length?this.property("__data__",i):this.node().__data__}function aCt(i){return function(e){i.call(this,e,this.__data__)}}function oCt(i){return i.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function lCt(i){return function(){var e=this.__on;if(e){for(var n=0,r=-1,s=e.length,a;n<s;++n)a=e[n],(!i.type||a.type===i.type)&&a.name===i.name?this.removeEventListener(a.type,a.listener,a.options):e[++r]=a;++r?e.length=r:delete this.__on}}}function uCt(i,e,n){return function(){var r=this.__on,s,a=aCt(e);if(r){for(var o=0,l=r.length;o<l;++o)if((s=r[o]).type===i.type&&s.name===i.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=a,s.options=n),s.value=e;return}}this.addEventListener(i.type,a,n),s={type:i.type,name:i.name,value:e,listener:a,options:n},r?r.push(s):this.__on=[s]}}function cCt(i,e,n){var r=oCt(i+""),s,a=r.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var u=0,c=l.length,h;u<c;++u)for(s=0,h=l[u];s<a;++s)if((o=r[s]).type===h.type&&o.name===h.name)return h.value}return}for(l=e?uCt:lCt,s=0;s<a;++s)this.each(l(r[s],e,n));return this}function IY(i,e,n){var r=MY(i),s=r.CustomEvent;typeof s=="function"?s=new s(e,n):(s=r.document.createEvent("Event"),n?(s.initEvent(e,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(e,!1,!1)),i.dispatchEvent(s)}function fCt(i,e){return function(){return IY(this,i,e)}}function hCt(i,e){return function(){return IY(this,i,e.apply(this,arguments))}}function dCt(i,e){return this.each((typeof e=="function"?hCt:fCt)(i,e))}function*pCt(){for(var i=this._groups,e=0,n=i.length;e<n;++e)for(var r=i[e],s=0,a=r.length,o;s<a;++s)(o=r[s])&&(yield o)}var DY=[null];function nu(i,e){this._groups=i,this._parents=e}function qE(){return new nu([[document.documentElement]],DY)}function mCt(){return this}nu.prototype=qE.prototype={constructor:nu,select:VAt,selectAll:$At,selectChild:YAt,selectChildren:JAt,filter:tMt,data:aMt,enter:eMt,exit:lMt,join:uMt,merge:cMt,selection:mCt,order:fMt,sort:hMt,call:pMt,nodes:mMt,node:gMt,size:yMt,empty:vMt,each:_Mt,attr:AMt,style:OMt,property:NMt,classed:zMt,text:HMt,html:qMt,raise:XMt,lower:KMt,append:ZMt,insert:JMt,remove:eCt,clone:rCt,datum:sCt,on:cCt,dispatch:dCt,[Symbol.iterator]:pCt};function Du(i){return typeof i=="string"?new nu([[document.querySelector(i)]],[document.documentElement]):new nu([[i]],DY)}function gCt(i){let e;for(;e=i.sourceEvent;)i=e;return i}function kf(i,e){if(i=gCt(i),e===void 0&&(e=i.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=i.clientX,r.y=i.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var s=e.getBoundingClientRect();return[i.clientX-s.left-e.clientLeft,i.clientY-s.top-e.clientTop]}}return[i.pageX,i.pageY]}var yCt={value:()=>{}};function WE(){for(var i=0,e=arguments.length,n={},r;i<e;++i){if(!(r=arguments[i]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new CM(n)}function CM(i){this._=i}function vCt(i,e){return i.trim().split(/^|\s+/).map(function(n){var r="",s=n.indexOf(".");if(s>=0&&(r=n.slice(s+1),n=n.slice(0,s)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}CM.prototype=WE.prototype={constructor:CM,on:function(i,e){var n=this._,r=vCt(i+"",n),s,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((s=(i=r[a]).type)&&(s=_Ct(n[s],i.name)))return s;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<o;)if(s=(i=r[a]).type)n[s]=x8(n[s],i.name,e);else if(e==null)for(s in n)n[s]=x8(n[s],i.name,null);return this},copy:function(){var i={},e=this._;for(var n in e)i[n]=e[n].slice();return new CM(i)},call:function(i,e){if((s=arguments.length-2)>0)for(var n=new Array(s),r=0,s,a;r<s;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(i))throw new Error("unknown type: "+i);for(a=this._[i],r=0,s=a.length;r<s;++r)a[r].value.apply(e,n)},apply:function(i,e,n){if(!this._.hasOwnProperty(i))throw new Error("unknown type: "+i);for(var r=this._[i],s=0,a=r.length;s<a;++s)r[s].value.apply(e,n)}};function _Ct(i,e){for(var n=0,r=i.length,s;n<r;++n)if((s=i[n]).name===e)return s.value}function x8(i,e,n){for(var r=0,s=i.length;r<s;++r)if(i[r].name===e){i[r]=yCt,i=i.slice(0,r).concat(i.slice(r+1));break}return n!=null&&i.push({name:e,value:n}),i}const bCt={passive:!1},rE={capture:!0,passive:!1};function bD(i){i.stopImmediatePropagation()}function A_(i){i.preventDefault(),i.stopImmediatePropagation()}function NY(i){var e=i.document.documentElement,n=Du(i).on("dragstart.drag",A_,rE);"onselectstart"in e?n.on("selectstart.drag",A_,rE):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function LY(i,e){var n=i.document.documentElement,r=Du(i).on("dragstart.drag",null);e&&(r.on("click.drag",A_,rE),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const CA=i=>()=>i;function jN(i,{sourceEvent:e,subject:n,target:r,identifier:s,active:a,x:o,y:l,dx:u,dy:c,dispatch:h}){Object.defineProperties(this,{type:{value:i,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:h}})}jN.prototype.on=function(){var i=this._.on.apply(this._,arguments);return i===this._?this:i};function xCt(i){return!i.ctrlKey&&!i.button}function SCt(){return this.parentNode}function ECt(i,e){return e??{x:i.x,y:i.y}}function TCt(){return navigator.maxTouchPoints||"ontouchstart"in this}function wCt(){var i=xCt,e=SCt,n=ECt,r=TCt,s={},a=WE("start","drag","end"),o=0,l,u,c,h,p=0;function g(M){M.on("mousedown.drag",v).filter(r).on("touchstart.drag",E).on("touchmove.drag",x,bCt).on("touchend.drag touchcancel.drag",A).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function v(M,P){if(!(h||!i.call(this,M,P))){var k=C(this,e.call(this,M,P),M,P,"mouse");k&&(Du(M.view).on("mousemove.drag",b,rE).on("mouseup.drag",S,rE),NY(M.view),bD(M),c=!1,l=M.clientX,u=M.clientY,k("start",M))}}function b(M){if(A_(M),!c){var P=M.clientX-l,k=M.clientY-u;c=P*P+k*k>p}s.mouse("drag",M)}function S(M){Du(M.view).on("mousemove.drag mouseup.drag",null),LY(M.view,c),A_(M),s.mouse("end",M)}function E(M,P){if(i.call(this,M,P)){var k=M.changedTouches,D=e.call(this,M,P),N=k.length,U,R;for(U=0;U<N;++U)(R=C(this,D,M,P,k[U].identifier,k[U]))&&(bD(M),R("start",M,k[U]))}}function x(M){var P=M.changedTouches,k=P.length,D,N;for(D=0;D<k;++D)(N=s[P[D].identifier])&&(A_(M),N("drag",M,P[D]))}function A(M){var P=M.changedTouches,k=P.length,D,N;for(h&&clearTimeout(h),h=setTimeout(function(){h=null},500),D=0;D<k;++D)(N=s[P[D].identifier])&&(bD(M),N("end",M,P[D]))}function C(M,P,k,D,N,U){var R=a.copy(),B=kf(U||k,P),H,V,Y;if((Y=n.call(M,new jN("beforestart",{sourceEvent:k,target:g,identifier:N,active:o,x:B[0],y:B[1],dx:0,dy:0,dispatch:R}),D))!=null)return H=Y.x-B[0]||0,V=Y.y-B[1]||0,function et(G,X,J){var nt=B,Z;switch(G){case"start":s[N]=et,Z=o++;break;case"end":delete s[N],--o;case"drag":B=kf(J||X,P),Z=o;break}R.call(G,M,new jN(G,{sourceEvent:X,subject:Y,target:g,identifier:N,active:Z,x:B[0]+H,y:B[1]+V,dx:B[0]-nt[0],dy:B[1]-nt[1],dispatch:R}),D)}}return g.filter=function(M){return arguments.length?(i=typeof M=="function"?M:CA(!!M),g):i},g.container=function(M){return arguments.length?(e=typeof M=="function"?M:CA(M),g):e},g.subject=function(M){return arguments.length?(n=typeof M=="function"?M:CA(M),g):n},g.touchable=function(M){return arguments.length?(r=typeof M=="function"?M:CA(!!M),g):r},g.on=function(){var M=a.on.apply(a,arguments);return M===a?g:M},g.clickDistance=function(M){return arguments.length?(p=(M=+M)*M,g):Math.sqrt(p)},g}function Ak(i,e,n){i.prototype=e.prototype=n,n.constructor=i}function UY(i,e){var n=Object.create(i.prototype);for(var r in e)n[r]=e[r];return n}function XE(){}var sE=.7,g2=1/sE,M_="\\s*([+-]?\\d+)\\s*",aE="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",sh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ACt=/^#([0-9a-f]{3,8})$/,MCt=new RegExp(`^rgb\\(${M_},${M_},${M_}\\)$`),CCt=new RegExp(`^rgb\\(${sh},${sh},${sh}\\)$`),RCt=new RegExp(`^rgba\\(${M_},${M_},${M_},${aE}\\)$`),OCt=new RegExp(`^rgba\\(${sh},${sh},${sh},${aE}\\)$`),PCt=new RegExp(`^hsl\\(${aE},${sh},${sh}\\)$`),ICt=new RegExp(`^hsla\\(${aE},${sh},${sh},${aE}\\)$`),S8={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ak(XE,oE,{copy(i){return Object.assign(new this.constructor,this,i)},displayable(){return this.rgb().displayable()},hex:E8,formatHex:E8,formatHex8:DCt,formatHsl:NCt,formatRgb:T8,toString:T8});function E8(){return this.rgb().formatHex()}function DCt(){return this.rgb().formatHex8()}function NCt(){return kY(this).formatHsl()}function T8(){return this.rgb().formatRgb()}function oE(i){var e,n;return i=(i+"").trim().toLowerCase(),(e=ACt.exec(i))?(n=e[1].length,e=parseInt(e[1],16),n===6?w8(e):n===3?new ul(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?RA(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?RA(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=MCt.exec(i))?new ul(e[1],e[2],e[3],1):(e=CCt.exec(i))?new ul(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=RCt.exec(i))?RA(e[1],e[2],e[3],e[4]):(e=OCt.exec(i))?RA(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=PCt.exec(i))?C8(e[1],e[2]/100,e[3]/100,1):(e=ICt.exec(i))?C8(e[1],e[2]/100,e[3]/100,e[4]):S8.hasOwnProperty(i)?w8(S8[i]):i==="transparent"?new ul(NaN,NaN,NaN,0):null}function w8(i){return new ul(i>>16&255,i>>8&255,i&255,1)}function RA(i,e,n,r){return r<=0&&(i=e=n=NaN),new ul(i,e,n,r)}function LCt(i){return i instanceof XE||(i=oE(i)),i?(i=i.rgb(),new ul(i.r,i.g,i.b,i.opacity)):new ul}function GN(i,e,n,r){return arguments.length===1?LCt(i):new ul(i,e,n,r??1)}function ul(i,e,n,r){this.r=+i,this.g=+e,this.b=+n,this.opacity=+r}Ak(ul,GN,UY(XE,{brighter(i){return i=i==null?g2:Math.pow(g2,i),new ul(this.r*i,this.g*i,this.b*i,this.opacity)},darker(i){return i=i==null?sE:Math.pow(sE,i),new ul(this.r*i,this.g*i,this.b*i,this.opacity)},rgb(){return this},clamp(){return new ul(Dy(this.r),Dy(this.g),Dy(this.b),y2(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:A8,formatHex:A8,formatHex8:UCt,formatRgb:M8,toString:M8}));function A8(){return`#${_y(this.r)}${_y(this.g)}${_y(this.b)}`}function UCt(){return`#${_y(this.r)}${_y(this.g)}${_y(this.b)}${_y((isNaN(this.opacity)?1:this.opacity)*255)}`}function M8(){const i=y2(this.opacity);return`${i===1?"rgb(":"rgba("}${Dy(this.r)}, ${Dy(this.g)}, ${Dy(this.b)}${i===1?")":`, ${i})`}`}function y2(i){return isNaN(i)?1:Math.max(0,Math.min(1,i))}function Dy(i){return Math.max(0,Math.min(255,Math.round(i)||0))}function _y(i){return i=Dy(i),(i<16?"0":"")+i.toString(16)}function C8(i,e,n,r){return r<=0?i=e=n=NaN:n<=0||n>=1?i=e=NaN:e<=0&&(i=NaN),new Mc(i,e,n,r)}function kY(i){if(i instanceof Mc)return new Mc(i.h,i.s,i.l,i.opacity);if(i instanceof XE||(i=oE(i)),!i)return new Mc;if(i instanceof Mc)return i;i=i.rgb();var e=i.r/255,n=i.g/255,r=i.b/255,s=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,l=a-s,u=(a+s)/2;return l?(e===a?o=(n-r)/l+(n<r)*6:n===a?o=(r-e)/l+2:o=(e-n)/l+4,l/=u<.5?a+s:2-a-s,o*=60):l=u>0&&u<1?0:o,new Mc(o,l,u,i.opacity)}function kCt(i,e,n,r){return arguments.length===1?kY(i):new Mc(i,e,n,r??1)}function Mc(i,e,n,r){this.h=+i,this.s=+e,this.l=+n,this.opacity=+r}Ak(Mc,kCt,UY(XE,{brighter(i){return i=i==null?g2:Math.pow(g2,i),new Mc(this.h,this.s,this.l*i,this.opacity)},darker(i){return i=i==null?sE:Math.pow(sE,i),new Mc(this.h,this.s,this.l*i,this.opacity)},rgb(){var i=this.h%360+(this.h<0)*360,e=isNaN(i)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,s=2*n-r;return new ul(xD(i>=240?i-240:i+120,s,r),xD(i,s,r),xD(i<120?i+240:i-120,s,r),this.opacity)},clamp(){return new Mc(R8(this.h),OA(this.s),OA(this.l),y2(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const i=y2(this.opacity);return`${i===1?"hsl(":"hsla("}${R8(this.h)}, ${OA(this.s)*100}%, ${OA(this.l)*100}%${i===1?")":`, ${i})`}`}}));function R8(i){return i=(i||0)%360,i<0?i+360:i}function OA(i){return Math.max(0,Math.min(1,i||0))}function xD(i,e,n){return(i<60?e+(n-e)*i/60:i<180?n:i<240?e+(n-e)*(240-i)/60:e)*255}const zY=i=>()=>i;function zCt(i,e){return function(n){return i+n*e}}function BCt(i,e,n){return i=Math.pow(i,n),e=Math.pow(e,n)-i,n=1/n,function(r){return Math.pow(i+r*e,n)}}function FCt(i){return(i=+i)==1?BY:function(e,n){return n-e?BCt(e,n,i):zY(isNaN(e)?n:e)}}function BY(i,e){var n=e-i;return n?zCt(i,n):zY(isNaN(i)?e:i)}const O8=function i(e){var n=FCt(e);function r(s,a){var o=n((s=GN(s)).r,(a=GN(a)).r),l=n(s.g,a.g),u=n(s.b,a.b),c=BY(s.opacity,a.opacity);return function(h){return s.r=o(h),s.g=l(h),s.b=u(h),s.opacity=c(h),s+""}}return r.gamma=i,r}(1);function Jp(i,e){return i=+i,e=+e,function(n){return i*(1-n)+e*n}}var $N=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,SD=new RegExp($N.source,"g");function VCt(i){return function(){return i}}function HCt(i){return function(e){return i(e)+""}}function jCt(i,e){var n=$N.lastIndex=SD.lastIndex=0,r,s,a,o=-1,l=[],u=[];for(i=i+"",e=e+"";(r=$N.exec(i))&&(s=SD.exec(e));)(a=s.index)>n&&(a=e.slice(n,a),l[o]?l[o]+=a:l[++o]=a),(r=r[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,u.push({i:o,x:Jp(r,s)})),n=SD.lastIndex;return n<e.length&&(a=e.slice(n),l[o]?l[o]+=a:l[++o]=a),l.length<2?u[0]?HCt(u[0].x):VCt(e):(e=u.length,function(c){for(var h=0,p;h<e;++h)l[(p=u[h]).i]=p.x(c);return l.join("")})}var P8=180/Math.PI,qN={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function FY(i,e,n,r,s,a){var o,l,u;return(o=Math.sqrt(i*i+e*e))&&(i/=o,e/=o),(u=i*n+e*r)&&(n-=i*u,r-=e*u),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,u/=l),i*r<e*n&&(i=-i,e=-e,u=-u,o=-o),{translateX:s,translateY:a,rotate:Math.atan2(e,i)*P8,skewX:Math.atan(u)*P8,scaleX:o,scaleY:l}}var PA;function GCt(i){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(i+"");return e.isIdentity?qN:FY(e.a,e.b,e.c,e.d,e.e,e.f)}function $Ct(i){return i==null||(PA||(PA=document.createElementNS("http://www.w3.org/2000/svg","g")),PA.setAttribute("transform",i),!(i=PA.transform.baseVal.consolidate()))?qN:(i=i.matrix,FY(i.a,i.b,i.c,i.d,i.e,i.f))}function VY(i,e,n,r){function s(c){return c.length?c.pop()+" ":""}function a(c,h,p,g,v,b){if(c!==p||h!==g){var S=v.push("translate(",null,e,null,n);b.push({i:S-4,x:Jp(c,p)},{i:S-2,x:Jp(h,g)})}else(p||g)&&v.push("translate("+p+e+g+n)}function o(c,h,p,g){c!==h?(c-h>180?h+=360:h-c>180&&(c+=360),g.push({i:p.push(s(p)+"rotate(",null,r)-2,x:Jp(c,h)})):h&&p.push(s(p)+"rotate("+h+r)}function l(c,h,p,g){c!==h?g.push({i:p.push(s(p)+"skewX(",null,r)-2,x:Jp(c,h)}):h&&p.push(s(p)+"skewX("+h+r)}function u(c,h,p,g,v,b){if(c!==p||h!==g){var S=v.push(s(v)+"scale(",null,",",null,")");b.push({i:S-4,x:Jp(c,p)},{i:S-2,x:Jp(h,g)})}else(p!==1||g!==1)&&v.push(s(v)+"scale("+p+","+g+")")}return function(c,h){var p=[],g=[];return c=i(c),h=i(h),a(c.translateX,c.translateY,h.translateX,h.translateY,p,g),o(c.rotate,h.rotate,p,g),l(c.skewX,h.skewX,p,g),u(c.scaleX,c.scaleY,h.scaleX,h.scaleY,p,g),c=h=null,function(v){for(var b=-1,S=g.length,E;++b<S;)p[(E=g[b]).i]=E.x(v);return p.join("")}}}var qCt=VY(GCt,"px, ","px)","deg)"),WCt=VY($Ct,", ",")",")"),XCt=1e-12;function I8(i){return((i=Math.exp(i))+1/i)/2}function YCt(i){return((i=Math.exp(i))-1/i)/2}function KCt(i){return((i=Math.exp(2*i))-1)/(i+1)}const ZCt=function i(e,n,r){function s(a,o){var l=a[0],u=a[1],c=a[2],h=o[0],p=o[1],g=o[2],v=h-l,b=p-u,S=v*v+b*b,E,x;if(S<XCt)x=Math.log(g/c)/e,E=function(D){return[l+D*v,u+D*b,c*Math.exp(e*D*x)]};else{var A=Math.sqrt(S),C=(g*g-c*c+r*S)/(2*c*n*A),M=(g*g-c*c-r*S)/(2*g*n*A),P=Math.log(Math.sqrt(C*C+1)-C),k=Math.log(Math.sqrt(M*M+1)-M);x=(k-P)/e,E=function(D){var N=D*x,U=I8(P),R=c/(n*A)*(U*KCt(e*N+P)-YCt(P));return[l+R*v,u+R*b,c*U/I8(e*N+P)]}}return E.duration=x*1e3*e/Math.SQRT2,E}return s.rho=function(a){var o=Math.max(.001,+a),l=o*o,u=l*l;return i(o,l,u)},s}(Math.SQRT2,2,4);var sb=0,L1=0,a1=0,HY=1e3,v2,U1,_2=0,t0=0,mO=0,lE=typeof performance=="object"&&performance.now?performance:Date,jY=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(i){setTimeout(i,17)};function Mk(){return t0||(jY(QCt),t0=lE.now()+mO)}function QCt(){t0=0}function b2(){this._call=this._time=this._next=null}b2.prototype=Ck.prototype={constructor:b2,restart:function(i,e,n){if(typeof i!="function")throw new TypeError("callback is not a function");n=(n==null?Mk():+n)+(e==null?0:+e),!this._next&&U1!==this&&(U1?U1._next=this:v2=this,U1=this),this._call=i,this._time=n,WN()},stop:function(){this._call&&(this._call=null,this._time=1/0,WN())}};function Ck(i,e,n){var r=new b2;return r.restart(i,e,n),r}function JCt(){Mk(),++sb;for(var i=v2,e;i;)(e=t0-i._time)>=0&&i._call.call(void 0,e),i=i._next;--sb}function D8(){t0=(_2=lE.now())+mO,sb=L1=0;try{JCt()}finally{sb=0,e2t(),t0=0}}function t2t(){var i=lE.now(),e=i-_2;e>HY&&(mO-=e,_2=i)}function e2t(){for(var i,e=v2,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),i=e,e=e._next):(n=e._next,e._next=null,e=i?i._next=n:v2=n);U1=i,WN(r)}function WN(i){if(!sb){L1&&(L1=clearTimeout(L1));var e=i-t0;e>24?(i<1/0&&(L1=setTimeout(D8,i-lE.now()-mO)),a1&&(a1=clearInterval(a1))):(a1||(_2=lE.now(),a1=setInterval(t2t,HY)),sb=1,jY(D8))}}function N8(i,e,n){var r=new b2;return e=e==null?0:+e,r.restart(s=>{r.stop(),i(s+e)},e,n),r}var n2t=WE("start","end","cancel","interrupt"),i2t=[],GY=0,L8=1,XN=2,RM=3,U8=4,YN=5,OM=6;function gO(i,e,n,r,s,a){var o=i.__transition;if(!o)i.__transition={};else if(n in o)return;r2t(i,n,{name:e,index:r,group:s,on:n2t,tween:i2t,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:GY})}function Rk(i,e){var n=Hc(i,e);if(n.state>GY)throw new Error("too late; already scheduled");return n}function mh(i,e){var n=Hc(i,e);if(n.state>RM)throw new Error("too late; already running");return n}function Hc(i,e){var n=i.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function r2t(i,e,n){var r=i.__transition,s;r[e]=n,n.timer=Ck(a,0,n.time);function a(c){n.state=L8,n.timer.restart(o,n.delay,n.time),n.delay<=c&&o(c-n.delay)}function o(c){var h,p,g,v;if(n.state!==L8)return u();for(h in r)if(v=r[h],v.name===n.name){if(v.state===RM)return N8(o);v.state===U8?(v.state=OM,v.timer.stop(),v.on.call("interrupt",i,i.__data__,v.index,v.group),delete r[h]):+h<e&&(v.state=OM,v.timer.stop(),v.on.call("cancel",i,i.__data__,v.index,v.group),delete r[h])}if(N8(function(){n.state===RM&&(n.state=U8,n.timer.restart(l,n.delay,n.time),l(c))}),n.state=XN,n.on.call("start",i,i.__data__,n.index,n.group),n.state===XN){for(n.state=RM,s=new Array(g=n.tween.length),h=0,p=-1;h<g;++h)(v=n.tween[h].value.call(i,i.__data__,n.index,n.group))&&(s[++p]=v);s.length=p+1}}function l(c){for(var h=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(u),n.state=YN,1),p=-1,g=s.length;++p<g;)s[p].call(i,h);n.state===YN&&(n.on.call("end",i,i.__data__,n.index,n.group),u())}function u(){n.state=OM,n.timer.stop(),delete r[e];for(var c in r)return;delete i.__transition}}function PM(i,e){var n=i.__transition,r,s,a=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){a=!1;continue}s=r.state>XN&&r.state<YN,r.state=OM,r.timer.stop(),r.on.call(s?"interrupt":"cancel",i,i.__data__,r.index,r.group),delete n[o]}a&&delete i.__transition}}function s2t(i){return this.each(function(){PM(this,i)})}function a2t(i,e){var n,r;return function(){var s=mh(this,i),a=s.tween;if(a!==n){r=n=a;for(var o=0,l=r.length;o<l;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}s.tween=r}}function o2t(i,e,n){var r,s;if(typeof n!="function")throw new Error;return function(){var a=mh(this,i),o=a.tween;if(o!==r){s=(r=o).slice();for(var l={name:e,value:n},u=0,c=s.length;u<c;++u)if(s[u].name===e){s[u]=l;break}u===c&&s.push(l)}a.tween=s}}function l2t(i,e){var n=this._id;if(i+="",arguments.length<2){for(var r=Hc(this.node(),n).tween,s=0,a=r.length,o;s<a;++s)if((o=r[s]).name===i)return o.value;return null}return this.each((e==null?a2t:o2t)(n,i,e))}function Ok(i,e,n){var r=i._id;return i.each(function(){var s=mh(this,r);(s.value||(s.value={}))[e]=n.apply(this,arguments)}),function(s){return Hc(s,r).value[e]}}function $Y(i,e){var n;return(typeof e=="number"?Jp:e instanceof oE?O8:(n=oE(e))?(e=n,O8):jCt)(i,e)}function u2t(i){return function(){this.removeAttribute(i)}}function c2t(i){return function(){this.removeAttributeNS(i.space,i.local)}}function f2t(i,e,n){var r,s=n+"",a;return function(){var o=this.getAttribute(i);return o===s?null:o===r?a:a=e(r=o,n)}}function h2t(i,e,n){var r,s=n+"",a;return function(){var o=this.getAttributeNS(i.space,i.local);return o===s?null:o===r?a:a=e(r=o,n)}}function d2t(i,e,n){var r,s,a;return function(){var o,l=n(this),u;return l==null?void this.removeAttribute(i):(o=this.getAttribute(i),u=l+"",o===u?null:o===r&&u===s?a:(s=u,a=e(r=o,l)))}}function p2t(i,e,n){var r,s,a;return function(){var o,l=n(this),u;return l==null?void this.removeAttributeNS(i.space,i.local):(o=this.getAttributeNS(i.space,i.local),u=l+"",o===u?null:o===r&&u===s?a:(s=u,a=e(r=o,l)))}}function m2t(i,e){var n=pO(i),r=n==="transform"?WCt:$Y;return this.attrTween(i,typeof e=="function"?(n.local?p2t:d2t)(n,r,Ok(this,"attr."+i,e)):e==null?(n.local?c2t:u2t)(n):(n.local?h2t:f2t)(n,r,e))}function g2t(i,e){return function(n){this.setAttribute(i,e.call(this,n))}}function y2t(i,e){return function(n){this.setAttributeNS(i.space,i.local,e.call(this,n))}}function v2t(i,e){var n,r;function s(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&y2t(i,a)),n}return s._value=e,s}function _2t(i,e){var n,r;function s(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&g2t(i,a)),n}return s._value=e,s}function b2t(i,e){var n="attr."+i;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=pO(i);return this.tween(n,(r.local?v2t:_2t)(r,e))}function x2t(i,e){return function(){Rk(this,i).delay=+e.apply(this,arguments)}}function S2t(i,e){return e=+e,function(){Rk(this,i).delay=e}}function E2t(i){var e=this._id;return arguments.length?this.each((typeof i=="function"?x2t:S2t)(e,i)):Hc(this.node(),e).delay}function T2t(i,e){return function(){mh(this,i).duration=+e.apply(this,arguments)}}function w2t(i,e){return e=+e,function(){mh(this,i).duration=e}}function A2t(i){var e=this._id;return arguments.length?this.each((typeof i=="function"?T2t:w2t)(e,i)):Hc(this.node(),e).duration}function M2t(i,e){if(typeof e!="function")throw new Error;return function(){mh(this,i).ease=e}}function C2t(i){var e=this._id;return arguments.length?this.each(M2t(e,i)):Hc(this.node(),e).ease}function R2t(i,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;mh(this,i).ease=n}}function O2t(i){if(typeof i!="function")throw new Error;return this.each(R2t(this._id,i))}function P2t(i){typeof i!="function"&&(i=TY(i));for(var e=this._groups,n=e.length,r=new Array(n),s=0;s<n;++s)for(var a=e[s],o=a.length,l=r[s]=[],u,c=0;c<o;++c)(u=a[c])&&i.call(u,u.__data__,c,a)&&l.push(u);return new Hd(r,this._parents,this._name,this._id)}function I2t(i){if(i._id!==this._id)throw new Error;for(var e=this._groups,n=i._groups,r=e.length,s=n.length,a=Math.min(r,s),o=new Array(r),l=0;l<a;++l)for(var u=e[l],c=n[l],h=u.length,p=o[l]=new Array(h),g,v=0;v<h;++v)(g=u[v]||c[v])&&(p[v]=g);for(;l<r;++l)o[l]=e[l];return new Hd(o,this._parents,this._name,this._id)}function D2t(i){return(i+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function N2t(i,e,n){var r,s,a=D2t(e)?Rk:mh;return function(){var o=a(this,i),l=o.on;l!==r&&(s=(r=l).copy()).on(e,n),o.on=s}}function L2t(i,e){var n=this._id;return arguments.length<2?Hc(this.node(),n).on.on(i):this.each(N2t(n,i,e))}function U2t(i){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==i)return;e&&e.removeChild(this)}}function k2t(){return this.on("end.remove",U2t(this._id))}function z2t(i){var e=this._name,n=this._id;typeof i!="function"&&(i=Tk(i));for(var r=this._groups,s=r.length,a=new Array(s),o=0;o<s;++o)for(var l=r[o],u=l.length,c=a[o]=new Array(u),h,p,g=0;g<u;++g)(h=l[g])&&(p=i.call(h,h.__data__,g,l))&&("__data__"in h&&(p.__data__=h.__data__),c[g]=p,gO(c[g],e,n,g,c,Hc(h,n)));return new Hd(a,this._parents,e,n)}function B2t(i){var e=this._name,n=this._id;typeof i!="function"&&(i=EY(i));for(var r=this._groups,s=r.length,a=[],o=[],l=0;l<s;++l)for(var u=r[l],c=u.length,h,p=0;p<c;++p)if(h=u[p]){for(var g=i.call(h,h.__data__,p,u),v,b=Hc(h,n),S=0,E=g.length;S<E;++S)(v=g[S])&&gO(v,e,n,S,g,b);a.push(g),o.push(h)}return new Hd(a,o,e,n)}var F2t=qE.prototype.constructor;function V2t(){return new F2t(this._groups,this._parents)}function H2t(i,e){var n,r,s;return function(){var a=rb(this,i),o=(this.style.removeProperty(i),rb(this,i));return a===o?null:a===n&&o===r?s:s=e(n=a,r=o)}}function qY(i){return function(){this.style.removeProperty(i)}}function j2t(i,e,n){var r,s=n+"",a;return function(){var o=rb(this,i);return o===s?null:o===r?a:a=e(r=o,n)}}function G2t(i,e,n){var r,s,a;return function(){var o=rb(this,i),l=n(this),u=l+"";return l==null&&(u=l=(this.style.removeProperty(i),rb(this,i))),o===u?null:o===r&&u===s?a:(s=u,a=e(r=o,l))}}function $2t(i,e){var n,r,s,a="style."+e,o="end."+a,l;return function(){var u=mh(this,i),c=u.on,h=u.value[a]==null?l||(l=qY(e)):void 0;(c!==n||s!==h)&&(r=(n=c).copy()).on(o,s=h),u.on=r}}function q2t(i,e,n){var r=(i+="")=="transform"?qCt:$Y;return e==null?this.styleTween(i,H2t(i,r)).on("end.style."+i,qY(i)):typeof e=="function"?this.styleTween(i,G2t(i,r,Ok(this,"style."+i,e))).each($2t(this._id,i)):this.styleTween(i,j2t(i,r,e),n).on("end.style."+i,null)}function W2t(i,e,n){return function(r){this.style.setProperty(i,e.call(this,r),n)}}function X2t(i,e,n){var r,s;function a(){var o=e.apply(this,arguments);return o!==s&&(r=(s=o)&&W2t(i,o,n)),r}return a._value=e,a}function Y2t(i,e,n){var r="style."+(i+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,X2t(i,e,n??""))}function K2t(i){return function(){this.textContent=i}}function Z2t(i){return function(){var e=i(this);this.textContent=e??""}}function Q2t(i){return this.tween("text",typeof i=="function"?Z2t(Ok(this,"text",i)):K2t(i==null?"":i+""))}function J2t(i){return function(e){this.textContent=i.call(this,e)}}function tRt(i){var e,n;function r(){var s=i.apply(this,arguments);return s!==n&&(e=(n=s)&&J2t(s)),e}return r._value=i,r}function eRt(i){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(i==null)return this.tween(e,null);if(typeof i!="function")throw new Error;return this.tween(e,tRt(i))}function nRt(){for(var i=this._name,e=this._id,n=WY(),r=this._groups,s=r.length,a=0;a<s;++a)for(var o=r[a],l=o.length,u,c=0;c<l;++c)if(u=o[c]){var h=Hc(u,e);gO(u,i,n,c,o,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new Hd(r,this._parents,i,n)}function iRt(){var i,e,n=this,r=n._id,s=n.size();return new Promise(function(a,o){var l={value:o},u={value:function(){--s===0&&a()}};n.each(function(){var c=mh(this,r),h=c.on;h!==i&&(e=(i=h).copy(),e._.cancel.push(l),e._.interrupt.push(l),e._.end.push(u)),c.on=e}),s===0&&a()})}var rRt=0;function Hd(i,e,n,r){this._groups=i,this._parents=e,this._name=n,this._id=r}function WY(){return++rRt}var td=qE.prototype;Hd.prototype={constructor:Hd,select:z2t,selectAll:B2t,selectChild:td.selectChild,selectChildren:td.selectChildren,filter:P2t,merge:I2t,selection:V2t,transition:nRt,call:td.call,nodes:td.nodes,node:td.node,size:td.size,empty:td.empty,each:td.each,on:L2t,attr:m2t,attrTween:b2t,style:q2t,styleTween:Y2t,text:Q2t,textTween:eRt,remove:k2t,tween:l2t,delay:E2t,duration:A2t,ease:C2t,easeVarying:O2t,end:iRt,[Symbol.iterator]:td[Symbol.iterator]};function sRt(i){return((i*=2)<=1?i*i*i:(i-=2)*i*i+2)/2}var aRt={time:null,delay:0,duration:250,ease:sRt};function oRt(i,e){for(var n;!(n=i.__transition)||!(n=n[e]);)if(!(i=i.parentNode))throw new Error(`transition ${e} not found`);return n}function lRt(i){var e,n;i instanceof Hd?(e=i._id,i=i._name):(e=WY(),(n=aRt).time=Mk(),i=i==null?null:i+"");for(var r=this._groups,s=r.length,a=0;a<s;++a)for(var o=r[a],l=o.length,u,c=0;c<l;++c)(u=o[c])&&gO(u,i,e,c,o,n||oRt(u,e));return new Hd(r,this._parents,i,e)}qE.prototype.interrupt=s2t;qE.prototype.transition=lRt;const IA=i=>()=>i;function uRt(i,{sourceEvent:e,target:n,transform:r,dispatch:s}){Object.defineProperties(this,{type:{value:i,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:s}})}function xd(i,e,n){this.k=i,this.x=e,this.y=n}xd.prototype={constructor:xd,scale:function(i){return i===1?this:new xd(this.k*i,this.x,this.y)},translate:function(i,e){return i===0&e===0?this:new xd(this.k,this.x+this.k*i,this.y+this.k*e)},apply:function(i){return[i[0]*this.k+this.x,i[1]*this.k+this.y]},applyX:function(i){return i*this.k+this.x},applyY:function(i){return i*this.k+this.y},invert:function(i){return[(i[0]-this.x)/this.k,(i[1]-this.y)/this.k]},invertX:function(i){return(i-this.x)/this.k},invertY:function(i){return(i-this.y)/this.k},rescaleX:function(i){return i.copy().domain(i.range().map(this.invertX,this).map(i.invert,i))},rescaleY:function(i){return i.copy().domain(i.range().map(this.invertY,this).map(i.invert,i))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Pk=new xd(1,0,0);Nf.prototype=xd.prototype;function Nf(i){for(;!i.__zoom;)if(!(i=i.parentNode))return Pk;return i.__zoom}function ED(i){i.stopImmediatePropagation()}function o1(i){i.preventDefault(),i.stopImmediatePropagation()}function cRt(i){return(!i.ctrlKey||i.type==="wheel")&&!i.button}function fRt(){var i=this;return i instanceof SVGElement?(i=i.ownerSVGElement||i,i.hasAttribute("viewBox")?(i=i.viewBox.baseVal,[[i.x,i.y],[i.x+i.width,i.y+i.height]]):[[0,0],[i.width.baseVal.value,i.height.baseVal.value]]):[[0,0],[i.clientWidth,i.clientHeight]]}function k8(){return this.__zoom||Pk}function hRt(i){return-i.deltaY*(i.deltaMode===1?.05:i.deltaMode?1:.002)*(i.ctrlKey?10:1)}function dRt(){return navigator.maxTouchPoints||"ontouchstart"in this}function pRt(i,e,n){var r=i.invertX(e[0][0])-n[0][0],s=i.invertX(e[1][0])-n[1][0],a=i.invertY(e[0][1])-n[0][1],o=i.invertY(e[1][1])-n[1][1];return i.translate(s>r?(r+s)/2:Math.min(0,r)||Math.max(0,s),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}function mRt(){var i=cRt,e=fRt,n=pRt,r=hRt,s=dRt,a=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],l=250,u=ZCt,c=WE("start","zoom","end"),h,p,g,v=500,b=150,S=0,E=10;function x(Y){Y.property("__zoom",k8).on("wheel.zoom",N,{passive:!1}).on("mousedown.zoom",U).on("dblclick.zoom",R).filter(s).on("touchstart.zoom",B).on("touchmove.zoom",H).on("touchend.zoom touchcancel.zoom",V).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}x.transform=function(Y,et,G,X){var J=Y.selection?Y.selection():Y;J.property("__zoom",k8),Y!==J?P(Y,et,G,X):J.interrupt().each(function(){k(this,arguments).event(X).start().zoom(null,typeof et=="function"?et.apply(this,arguments):et).end()})},x.scaleBy=function(Y,et,G,X){x.scaleTo(Y,function(){var J=this.__zoom.k,nt=typeof et=="function"?et.apply(this,arguments):et;return J*nt},G,X)},x.scaleTo=function(Y,et,G,X){x.transform(Y,function(){var J=e.apply(this,arguments),nt=this.__zoom,Z=G==null?M(J):typeof G=="function"?G.apply(this,arguments):G,dt=nt.invert(Z),yt=typeof et=="function"?et.apply(this,arguments):et;return n(C(A(nt,yt),Z,dt),J,o)},G,X)},x.translateBy=function(Y,et,G,X){x.transform(Y,function(){return n(this.__zoom.translate(typeof et=="function"?et.apply(this,arguments):et,typeof G=="function"?G.apply(this,arguments):G),e.apply(this,arguments),o)},null,X)},x.translateTo=function(Y,et,G,X,J){x.transform(Y,function(){var nt=e.apply(this,arguments),Z=this.__zoom,dt=X==null?M(nt):typeof X=="function"?X.apply(this,arguments):X;return n(Pk.translate(dt[0],dt[1]).scale(Z.k).translate(typeof et=="function"?-et.apply(this,arguments):-et,typeof G=="function"?-G.apply(this,arguments):-G),nt,o)},X,J)};function A(Y,et){return et=Math.max(a[0],Math.min(a[1],et)),et===Y.k?Y:new xd(et,Y.x,Y.y)}function C(Y,et,G){var X=et[0]-G[0]*Y.k,J=et[1]-G[1]*Y.k;return X===Y.x&&J===Y.y?Y:new xd(Y.k,X,J)}function M(Y){return[(+Y[0][0]+ +Y[1][0])/2,(+Y[0][1]+ +Y[1][1])/2]}function P(Y,et,G,X){Y.on("start.zoom",function(){k(this,arguments).event(X).start()}).on("interrupt.zoom end.zoom",function(){k(this,arguments).event(X).end()}).tween("zoom",function(){var J=this,nt=arguments,Z=k(J,nt).event(X),dt=e.apply(J,nt),yt=G==null?M(dt):typeof G=="function"?G.apply(J,nt):G,xt=Math.max(dt[1][0]-dt[0][0],dt[1][1]-dt[0][1]),it=J.__zoom,ht=typeof et=="function"?et.apply(J,nt):et,lt=u(it.invert(yt).concat(xt/it.k),ht.invert(yt).concat(xt/ht.k));return function(gt){if(gt===1)gt=ht;else{var Tt=lt(gt),Kt=xt/Tt[2];gt=new xd(Kt,yt[0]-Tt[0]*Kt,yt[1]-Tt[1]*Kt)}Z.zoom(null,gt)}})}function k(Y,et,G){return!G&&Y.__zooming||new D(Y,et)}function D(Y,et){this.that=Y,this.args=et,this.active=0,this.sourceEvent=null,this.extent=e.apply(Y,et),this.taps=0}D.prototype={event:function(Y){return Y&&(this.sourceEvent=Y),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(Y,et){return this.mouse&&Y!=="mouse"&&(this.mouse[1]=et.invert(this.mouse[0])),this.touch0&&Y!=="touch"&&(this.touch0[1]=et.invert(this.touch0[0])),this.touch1&&Y!=="touch"&&(this.touch1[1]=et.invert(this.touch1[0])),this.that.__zoom=et,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(Y){var et=Du(this.that).datum();c.call(Y,this.that,new uRt(Y,{sourceEvent:this.sourceEvent,target:x,transform:this.that.__zoom,dispatch:c}),et)}};function N(Y,...et){if(!i.apply(this,arguments))return;var G=k(this,et).event(Y),X=this.__zoom,J=Math.max(a[0],Math.min(a[1],X.k*Math.pow(2,r.apply(this,arguments)))),nt=kf(Y);if(G.wheel)(G.mouse[0][0]!==nt[0]||G.mouse[0][1]!==nt[1])&&(G.mouse[1]=X.invert(G.mouse[0]=nt)),clearTimeout(G.wheel);else{if(X.k===J)return;G.mouse=[nt,X.invert(nt)],PM(this),G.start()}o1(Y),G.wheel=setTimeout(Z,b),G.zoom("mouse",n(C(A(X,J),G.mouse[0],G.mouse[1]),G.extent,o));function Z(){G.wheel=null,G.end()}}function U(Y,...et){if(g||!i.apply(this,arguments))return;var G=Y.currentTarget,X=k(this,et,!0).event(Y),J=Du(Y.view).on("mousemove.zoom",yt,!0).on("mouseup.zoom",xt,!0),nt=kf(Y,G),Z=Y.clientX,dt=Y.clientY;NY(Y.view),ED(Y),X.mouse=[nt,this.__zoom.invert(nt)],PM(this),X.start();function yt(it){if(o1(it),!X.moved){var ht=it.clientX-Z,lt=it.clientY-dt;X.moved=ht*ht+lt*lt>S}X.event(it).zoom("mouse",n(C(X.that.__zoom,X.mouse[0]=kf(it,G),X.mouse[1]),X.extent,o))}function xt(it){J.on("mousemove.zoom mouseup.zoom",null),LY(it.view,X.moved),o1(it),X.event(it).end()}}function R(Y,...et){if(i.apply(this,arguments)){var G=this.__zoom,X=kf(Y.changedTouches?Y.changedTouches[0]:Y,this),J=G.invert(X),nt=G.k*(Y.shiftKey?.5:2),Z=n(C(A(G,nt),X,J),e.apply(this,et),o);o1(Y),l>0?Du(this).transition().duration(l).call(P,Z,X,Y):Du(this).call(x.transform,Z,X,Y)}}function B(Y,...et){if(i.apply(this,arguments)){var G=Y.touches,X=G.length,J=k(this,et,Y.changedTouches.length===X).event(Y),nt,Z,dt,yt;for(ED(Y),Z=0;Z<X;++Z)dt=G[Z],yt=kf(dt,this),yt=[yt,this.__zoom.invert(yt),dt.identifier],J.touch0?!J.touch1&&J.touch0[2]!==yt[2]&&(J.touch1=yt,J.taps=0):(J.touch0=yt,nt=!0,J.taps=1+!!h);h&&(h=clearTimeout(h)),nt&&(J.taps<2&&(p=yt[0],h=setTimeout(function(){h=null},v)),PM(this),J.start())}}function H(Y,...et){if(this.__zooming){var G=k(this,et).event(Y),X=Y.changedTouches,J=X.length,nt,Z,dt,yt;for(o1(Y),nt=0;nt<J;++nt)Z=X[nt],dt=kf(Z,this),G.touch0&&G.touch0[2]===Z.identifier?G.touch0[0]=dt:G.touch1&&G.touch1[2]===Z.identifier&&(G.touch1[0]=dt);if(Z=G.that.__zoom,G.touch1){var xt=G.touch0[0],it=G.touch0[1],ht=G.touch1[0],lt=G.touch1[1],gt=(gt=ht[0]-xt[0])*gt+(gt=ht[1]-xt[1])*gt,Tt=(Tt=lt[0]-it[0])*Tt+(Tt=lt[1]-it[1])*Tt;Z=A(Z,Math.sqrt(gt/Tt)),dt=[(xt[0]+ht[0])/2,(xt[1]+ht[1])/2],yt=[(it[0]+lt[0])/2,(it[1]+lt[1])/2]}else if(G.touch0)dt=G.touch0[0],yt=G.touch0[1];else return;G.zoom("touch",n(C(Z,dt,yt),G.extent,o))}}function V(Y,...et){if(this.__zooming){var G=k(this,et).event(Y),X=Y.changedTouches,J=X.length,nt,Z;for(ED(Y),g&&clearTimeout(g),g=setTimeout(function(){g=null},v),nt=0;nt<J;++nt)Z=X[nt],G.touch0&&G.touch0[2]===Z.identifier?delete G.touch0:G.touch1&&G.touch1[2]===Z.identifier&&delete G.touch1;if(G.touch1&&!G.touch0&&(G.touch0=G.touch1,delete G.touch1),G.touch0)G.touch0[1]=this.__zoom.invert(G.touch0[0]);else if(G.end(),G.taps===2&&(Z=kf(Z,this),Math.hypot(p[0]-Z[0],p[1]-Z[1])<E)){var dt=Du(this).on("dblclick.zoom");dt&&dt.apply(this,arguments)}}}return x.wheelDelta=function(Y){return arguments.length?(r=typeof Y=="function"?Y:IA(+Y),x):r},x.filter=function(Y){return arguments.length?(i=typeof Y=="function"?Y:IA(!!Y),x):i},x.touchable=function(Y){return arguments.length?(s=typeof Y=="function"?Y:IA(!!Y),x):s},x.extent=function(Y){return arguments.length?(e=typeof Y=="function"?Y:IA([[+Y[0][0],+Y[0][1]],[+Y[1][0],+Y[1][1]]]),x):e},x.scaleExtent=function(Y){return arguments.length?(a[0]=+Y[0],a[1]=+Y[1],x):[a[0],a[1]]},x.translateExtent=function(Y){return arguments.length?(o[0][0]=+Y[0][0],o[1][0]=+Y[1][0],o[0][1]=+Y[0][1],o[1][1]=+Y[1][1],x):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},x.constrain=function(Y){return arguments.length?(n=Y,x):n},x.duration=function(Y){return arguments.length?(l=+Y,x):l},x.interpolate=function(Y){return arguments.length?(u=Y,x):u},x.on=function(){var Y=c.on.apply(c,arguments);return Y===c?x:Y},x.clickDistance=function(Y){return arguments.length?(S=(Y=+Y)*Y,x):Math.sqrt(S)},x.tapDistance=function(Y){return arguments.length?(E=+Y,x):E},x}class z8 extends Map{constructor(e,n=vRt){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,s]of e)this.set(r,s)}get(e){return super.get(B8(this,e))}has(e){return super.has(B8(this,e))}set(e,n){return super.set(gRt(this,e),n)}delete(e){return super.delete(yRt(this,e))}}function B8({_intern:i,_key:e},n){const r=e(n);return i.has(r)?i.get(r):n}function gRt({_intern:i,_key:e},n){const r=e(n);return i.has(r)?i.get(r):(i.set(r,n),n)}function yRt({_intern:i,_key:e},n){const r=e(n);return i.has(r)&&(n=i.get(r),i.delete(r)),n}function vRt(i){return i!==null&&typeof i=="object"?i.valueOf():i}function KN(i,e){let n;if(e===void 0)for(const r of i)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let s of i)(s=e(s,++r,i))!=null&&(n<s||n===void 0&&s>=s)&&(n=s)}return n}function ZN(i,e){let n;if(e===void 0)for(const r of i)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let s of i)(s=e(s,++r,i))!=null&&(n>s||n===void 0&&s>=s)&&(n=s)}return n}function _Rt(i,e){let n=0;for(let r of i)(r=+r)&&(n+=r);return n}var bRt=typeof global=="object"&&global&&global.Object===Object&&global,xRt=typeof self=="object"&&self&&self.Object===Object&&self,XY=bRt||xRt||Function("return this")(),x2=XY.Symbol,YY=Object.prototype,SRt=YY.hasOwnProperty,ERt=YY.toString,l1=x2?x2.toStringTag:void 0;function TRt(i){var e=SRt.call(i,l1),n=i[l1];try{i[l1]=void 0;var r=!0}catch{}var s=ERt.call(i);return r&&(e?i[l1]=n:delete i[l1]),s}var wRt=Object.prototype,ARt=wRt.toString;function MRt(i){return ARt.call(i)}var CRt="[object Null]",RRt="[object Undefined]",F8=x2?x2.toStringTag:void 0;function ORt(i){return i==null?i===void 0?RRt:CRt:F8&&F8 in Object(i)?TRt(i):MRt(i)}function PRt(i){return i!=null&&typeof i=="object"}var IRt="[object Symbol]";function DRt(i){return typeof i=="symbol"||PRt(i)&&ORt(i)==IRt}var NRt=/\s/;function LRt(i){for(var e=i.length;e--&&NRt.test(i.charAt(e)););return e}var URt=/^\s+/;function kRt(i){return i&&i.slice(0,LRt(i)+1).replace(URt,"")}function S2(i){var e=typeof i;return i!=null&&(e=="object"||e=="function")}var V8=NaN,zRt=/^[-+]0x[0-9a-f]+$/i,BRt=/^0b[01]+$/i,FRt=/^0o[0-7]+$/i,VRt=parseInt;function H8(i){if(typeof i=="number")return i;if(DRt(i))return V8;if(S2(i)){var e=typeof i.valueOf=="function"?i.valueOf():i;i=S2(e)?e+"":e}if(typeof i!="string")return i===0?i:+i;i=kRt(i);var n=BRt.test(i);return n||FRt.test(i)?VRt(i.slice(2),n?2:8):zRt.test(i)?V8:+i}var TD=function(){return XY.Date.now()},HRt="Expected a function",jRt=Math.max,GRt=Math.min;function KY(i,e,n){var r,s,a,o,l,u,c=0,h=!1,p=!1,g=!0;if(typeof i!="function")throw new TypeError(HRt);e=H8(e)||0,S2(n)&&(h=!!n.leading,p="maxWait"in n,a=p?jRt(H8(n.maxWait)||0,e):a,g="trailing"in n?!!n.trailing:g);function v(k){var D=r,N=s;return r=s=void 0,c=k,o=i.apply(N,D),o}function b(k){return c=k,l=setTimeout(x,e),h?v(k):o}function S(k){var D=k-u,N=k-c,U=e-D;return p?GRt(U,a-N):U}function E(k){var D=k-u,N=k-c;return u===void 0||D>=e||D<0||p&&N>=a}function x(){var k=TD();if(E(k))return A(k);l=setTimeout(x,S(k))}function A(k){return l=void 0,g&&r?v(k):(r=s=void 0,o)}function C(){l!==void 0&&clearTimeout(l),c=0,r=u=s=l=void 0}function M(){return l===void 0?o:A(TD())}function P(){var k=TD(),D=E(k);if(r=arguments,s=this,u=k,D){if(l===void 0)return b(u);if(p)return clearTimeout(l),l=setTimeout(x,e),v(u)}return l===void 0&&(l=setTimeout(x,e)),o}return P.cancel=C,P.flush=M,P}var $Rt="Expected a function";function qRt(i,e,n){var r=!0,s=!0;if(typeof i!="function")throw new TypeError($Rt);return S2(n)&&(r="leading"in n?!!n.leading:r,s="trailing"in n?!!n.trailing:s),KY(i,e,{leading:r,maxWait:e,trailing:s})}var Ny=Object.freeze({Linear:Object.freeze({None:function(i){return i},In:function(i){return i},Out:function(i){return i},InOut:function(i){return i}}),Quadratic:Object.freeze({In:function(i){return i*i},Out:function(i){return i*(2-i)},InOut:function(i){return(i*=2)<1?.5*i*i:-.5*(--i*(i-2)-1)}}),Cubic:Object.freeze({In:function(i){return i*i*i},Out:function(i){return--i*i*i+1},InOut:function(i){return(i*=2)<1?.5*i*i*i:.5*((i-=2)*i*i+2)}}),Quartic:Object.freeze({In:function(i){return i*i*i*i},Out:function(i){return 1- --i*i*i*i},InOut:function(i){return(i*=2)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2)}}),Quintic:Object.freeze({In:function(i){return i*i*i*i*i},Out:function(i){return--i*i*i*i*i+1},InOut:function(i){return(i*=2)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2)}}),Sinusoidal:Object.freeze({In:function(i){return 1-Math.sin((1-i)*Math.PI/2)},Out:function(i){return Math.sin(i*Math.PI/2)},InOut:function(i){return .5*(1-Math.sin(Math.PI*(.5-i)))}}),Exponential:Object.freeze({In:function(i){return i===0?0:Math.pow(1024,i-1)},Out:function(i){return i===1?1:1-Math.pow(2,-10*i)},InOut:function(i){return i===0?0:i===1?1:(i*=2)<1?.5*Math.pow(1024,i-1):.5*(-Math.pow(2,-10*(i-1))+2)}}),Circular:Object.freeze({In:function(i){return 1-Math.sqrt(1-i*i)},Out:function(i){return Math.sqrt(1- --i*i)},InOut:function(i){return(i*=2)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1)}}),Elastic:Object.freeze({In:function(i){return i===0?0:i===1?1:-Math.pow(2,10*(i-1))*Math.sin((i-1.1)*5*Math.PI)},Out:function(i){return i===0?0:i===1?1:Math.pow(2,-10*i)*Math.sin((i-.1)*5*Math.PI)+1},InOut:function(i){return i===0?0:i===1?1:(i*=2,i<1?-.5*Math.pow(2,10*(i-1))*Math.sin((i-1.1)*5*Math.PI):.5*Math.pow(2,-10*(i-1))*Math.sin((i-1.1)*5*Math.PI)+1)}}),Back:Object.freeze({In:function(i){var e=1.70158;return i===1?1:i*i*((e+1)*i-e)},Out:function(i){var e=1.70158;return i===0?0:--i*i*((e+1)*i+e)+1},InOut:function(i){var e=2.5949095;return(i*=2)<1?.5*(i*i*((e+1)*i-e)):.5*((i-=2)*i*((e+1)*i+e)+2)}}),Bounce:Object.freeze({In:function(i){return 1-Ny.Bounce.Out(1-i)},Out:function(i){return i<1/2.75?7.5625*i*i:i<2/2.75?7.5625*(i-=1.5/2.75)*i+.75:i<2.5/2.75?7.5625*(i-=2.25/2.75)*i+.9375:7.5625*(i-=2.625/2.75)*i+.984375},InOut:function(i){return i<.5?Ny.Bounce.In(i*2)*.5:Ny.Bounce.Out(i*2-1)*.5+.5}}),generatePow:function(i){return i===void 0&&(i=4),i=i<Number.EPSILON?Number.EPSILON:i,i=i>1e4?1e4:i,{In:function(e){return Math.pow(e,i)},Out:function(e){return 1-Math.pow(1-e,i)},InOut:function(e){return e<.5?Math.pow(e*2,i)/2:(1-Math.pow(2-e*2,i))/2+.5}}}}),k1=function(){return performance.now()},ZY=function(){function i(){this._tweens={},this._tweensAddedDuringUpdate={}}return i.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map(function(n){return e._tweens[n]})},i.prototype.removeAll=function(){this._tweens={}},i.prototype.add=function(e){this._tweens[e.getId()]=e,this._tweensAddedDuringUpdate[e.getId()]=e},i.prototype.remove=function(e){delete this._tweens[e.getId()],delete this._tweensAddedDuringUpdate[e.getId()]},i.prototype.update=function(e,n){e===void 0&&(e=k1()),n===void 0&&(n=!1);var r=Object.keys(this._tweens);if(r.length===0)return!1;for(;r.length>0;){this._tweensAddedDuringUpdate={};for(var s=0;s<r.length;s++){var a=this._tweens[r[s]],o=!n;a&&a.update(e,o)===!1&&!n&&delete this._tweens[r[s]]}r=Object.keys(this._tweensAddedDuringUpdate)}return!0},i}(),QN={Linear:function(i,e){var n=i.length-1,r=n*e,s=Math.floor(r),a=QN.Utils.Linear;return e<0?a(i[0],i[1],r):e>1?a(i[n],i[n-1],n-r):a(i[s],i[s+1>n?n:s+1],r-s)},Utils:{Linear:function(i,e,n){return(e-i)*n+i}}},QY=function(){function i(){}return i.nextId=function(){return i._nextId++},i._nextId=0,i}(),JN=new ZY,j8=function(){function i(e,n){n===void 0&&(n=JN),this._object=e,this._group=n,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._isDynamic=!1,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=Ny.Linear.None,this._interpolationFunction=QN.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=QY.nextId(),this._isChainStopped=!1,this._propertiesAreSetUp=!1,this._goToEnd=!1}return i.prototype.getId=function(){return this._id},i.prototype.isPlaying=function(){return this._isPlaying},i.prototype.isPaused=function(){return this._isPaused},i.prototype.getDuration=function(){return this._duration},i.prototype.to=function(e,n){if(n===void 0&&(n=1e3),this._isPlaying)throw new Error("Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.");return this._valuesEnd=e,this._propertiesAreSetUp=!1,this._duration=n<0?0:n,this},i.prototype.duration=function(e){return e===void 0&&(e=1e3),this._duration=e<0?0:e,this},i.prototype.dynamic=function(e){return e===void 0&&(e=!1),this._isDynamic=e,this},i.prototype.start=function(e,n){if(e===void 0&&(e=k1()),n===void 0&&(n=!1),this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var r in this._valuesStartRepeat)this._swapEndStartRepeatValues(r),this._valuesStart[r]=this._valuesStartRepeat[r]}if(this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=e,this._startTime+=this._delayTime,!this._propertiesAreSetUp||n){if(this._propertiesAreSetUp=!0,!this._isDynamic){var s={};for(var a in this._valuesEnd)s[a]=this._valuesEnd[a];this._valuesEnd=s}this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,n)}return this},i.prototype.startFromCurrentValues=function(e){return this.start(e,!0)},i.prototype._setupProperties=function(e,n,r,s,a){for(var o in r){var l=e[o],u=Array.isArray(l),c=u?"array":typeof l,h=!u&&Array.isArray(r[o]);if(!(c==="undefined"||c==="function")){if(h){var p=r[o];if(p.length===0)continue;for(var g=[l],v=0,b=p.length;v<b;v+=1){var S=this._handleRelativeValue(l,p[v]);if(isNaN(S)){h=!1,console.warn("Found invalid interpolation list. Skipping.");break}g.push(S)}h&&(r[o]=g)}if((c==="object"||u)&&l&&!h){n[o]=u?[]:{};var E=l;for(var x in E)n[o][x]=E[x];s[o]=u?[]:{};var p=r[o];if(!this._isDynamic){var A={};for(var x in p)A[x]=p[x];r[o]=p=A}this._setupProperties(E,n[o],p,s[o],a)}else(typeof n[o]>"u"||a)&&(n[o]=l),u||(n[o]*=1),h?s[o]=r[o].slice().reverse():s[o]=n[o]||0}}},i.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},i.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},i.prototype.pause=function(e){return e===void 0&&(e=k1()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=e,this._group&&this._group.remove(this),this)},i.prototype.resume=function(e){return e===void 0&&(e=k1()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this)},i.prototype.stopChainedTweens=function(){for(var e=0,n=this._chainedTweens.length;e<n;e++)this._chainedTweens[e].stop();return this},i.prototype.group=function(e){return e===void 0&&(e=JN),this._group=e,this},i.prototype.delay=function(e){return e===void 0&&(e=0),this._delayTime=e,this},i.prototype.repeat=function(e){return e===void 0&&(e=0),this._initialRepeat=e,this._repeat=e,this},i.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},i.prototype.yoyo=function(e){return e===void 0&&(e=!1),this._yoyo=e,this},i.prototype.easing=function(e){return e===void 0&&(e=Ny.Linear.None),this._easingFunction=e,this},i.prototype.interpolation=function(e){return e===void 0&&(e=QN.Linear),this._interpolationFunction=e,this},i.prototype.chain=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this._chainedTweens=e,this},i.prototype.onStart=function(e){return this._onStartCallback=e,this},i.prototype.onEveryStart=function(e){return this._onEveryStartCallback=e,this},i.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},i.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},i.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},i.prototype.onStop=function(e){return this._onStopCallback=e,this},i.prototype.update=function(e,n){var r=this,s;if(e===void 0&&(e=k1()),n===void 0&&(n=!0),this._isPaused)return!0;var a,o=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(e>o)return!1;n&&this.start(e,!0)}if(this._goToEnd=!1,e<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),this._onEveryStartCallbackFired===!1&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0);var l=e-this._startTime,u=this._duration+((s=this._repeatDelayTime)!==null&&s!==void 0?s:this._delayTime),c=this._duration+this._repeat*u,h=function(){if(r._duration===0||l>c)return 1;var E=Math.trunc(l/u),x=l-E*u,A=Math.min(x/r._duration,1);return A===0&&l===r._duration?1:A},p=h(),g=this._easingFunction(p);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,g),this._onUpdateCallback&&this._onUpdateCallback(this._object,p),this._duration===0||l>=this._duration)if(this._repeat>0){var v=Math.min(Math.trunc((l-this._duration)/u)+1,this._repeat);isFinite(this._repeat)&&(this._repeat-=v);for(a in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[a]=="string"&&(this._valuesStartRepeat[a]=this._valuesStartRepeat[a]+parseFloat(this._valuesEnd[a])),this._yoyo&&this._swapEndStartRepeatValues(a),this._valuesStart[a]=this._valuesStartRepeat[a];return this._yoyo&&(this._reversed=!this._reversed),this._startTime+=u*v,this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1,!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var b=0,S=this._chainedTweens.length;b<S;b++)this._chainedTweens[b].start(this._startTime+this._duration,!1);return this._isPlaying=!1,!1}return!0},i.prototype._updateProperties=function(e,n,r,s){for(var a in r)if(n[a]!==void 0){var o=n[a]||0,l=r[a],u=Array.isArray(e[a]),c=Array.isArray(l),h=!u&&c;h?e[a]=this._interpolationFunction(l,s):typeof l=="object"&&l?this._updateProperties(e[a],o,l,s):(l=this._handleRelativeValue(o,l),typeof l=="number"&&(e[a]=o+(l-o)*s))}},i.prototype._handleRelativeValue=function(e,n){return typeof n!="string"?n:n.charAt(0)==="+"||n.charAt(0)==="-"?e+parseFloat(n):parseFloat(n)},i.prototype._swapEndStartRepeatValues=function(e){var n=this._valuesStartRepeat[e],r=this._valuesEnd[e];typeof r=="string"?this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(r):this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=n},i}();QY.nextId;var fh=JN;fh.getAll.bind(fh);fh.removeAll.bind(fh);fh.add.bind(fh);fh.remove.bind(fh);fh.update.bind(fh);function G8(i,e){(e==null||e>i.length)&&(e=i.length);for(var n=0,r=Array(e);n<e;n++)r[n]=i[n];return r}function WRt(i){if(Array.isArray(i))return i}function XRt(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function YRt(i,e,n){return Object.defineProperty(i,"prototype",{writable:!1}),i}function KRt(i,e){var n=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(n!=null){var r,s,a,o,l=[],u=!0,c=!1;try{if(a=(n=n.call(i)).next,e!==0)for(;!(u=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(h){c=!0,s=h}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw s}}return l}}function ZRt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QRt(i,e){return WRt(i)||KRt(i,e)||JRt(i,e)||ZRt()}function JRt(i,e){if(i){if(typeof i=="string")return G8(i,e);var n={}.toString.call(i).slice(8,-1);return n==="Object"&&i.constructor&&(n=i.constructor.name),n==="Map"||n==="Set"?Array.from(i):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?G8(i,e):void 0}}var tOt=YRt(function i(e,n){var r=n.default,s=r===void 0?null:r,a=n.triggerUpdate,o=a===void 0?!0:a,l=n.onChange,u=l===void 0?function(c,h){}:l;XRt(this,i),this.name=e,this.defaultVal=s,this.triggerUpdate=o,this.onChange=u});function yO(i){var e=i.stateInit,n=e===void 0?function(){return{}}:e,r=i.props,s=r===void 0?{}:r,a=i.methods,o=a===void 0?{}:a,l=i.aliases,u=l===void 0?{}:l,c=i.init,h=c===void 0?function(){}:c,p=i.update,g=p===void 0?function(){}:p,v=Object.keys(s).map(function(b){return new tOt(b,s[b])});return function b(){for(var S=arguments.length,E=new Array(S),x=0;x<S;x++)E[x]=arguments[x];var A=!!(this instanceof b&&this.constructor),C=A?E.shift():void 0,M=E[0],P=M===void 0?{}:M,k=Object.assign({},n instanceof Function?n(P):n,{initialised:!1}),D={};function N(B){return U(B,P),R(),N}var U=function(H,V){h.call(N,H,k,V),k.initialised=!0},R=KY(function(){k.initialised&&(g.call(N,k,D),D={})},1);return v.forEach(function(B){N[B.name]=H(B);function H(V){var Y=V.name,et=V.triggerUpdate,G=et===void 0?!1:et,X=V.onChange,J=X===void 0?function(dt,yt){}:X,nt=V.defaultVal,Z=nt===void 0?null:nt;return function(dt){var yt=k[Y];if(!arguments.length)return yt;var xt=dt===void 0?Z:dt;return k[Y]=xt,J.call(N,xt,k,yt),!D.hasOwnProperty(Y)&&(D[Y]=yt),G&&R(),N}}}),Object.keys(o).forEach(function(B){N[B]=function(){for(var H,V=arguments.length,Y=new Array(V),et=0;et<V;et++)Y[et]=arguments[et];return(H=o[B]).call.apply(H,[N,k].concat(Y))}}),Object.entries(u).forEach(function(B){var H=QRt(B,2),V=H[0],Y=H[1];return N[V]=N[Y]}),N.resetProps=function(){return v.forEach(function(B){N[B.name](B.defaultVal)}),N},N.resetProps(),k._rerender=R,A&&C&&N(C),N}}var Ke=function(i){return typeof i=="function"?i:typeof i=="string"?function(e){return e[i]}:function(e){return i}};function E2(i){"@babel/helpers - typeof";return E2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E2(i)}var eOt=/^\s+/,nOt=/\s+$/;function Ze(i,e){if(i=i||"",e=e||{},i instanceof Ze)return i;if(!(this instanceof Ze))return new Ze(i,e);var n=iOt(i);this._originalInput=i,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}Ze.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),n,r,s,a,o,l;return n=e.r/255,r=e.g/255,s=e.b/255,n<=.03928?a=n/12.92:a=Math.pow((n+.055)/1.055,2.4),r<=.03928?o=r/12.92:o=Math.pow((r+.055)/1.055,2.4),s<=.03928?l=s/12.92:l=Math.pow((s+.055)/1.055,2.4),.2126*a+.7152*o+.0722*l},setAlpha:function(e){return this._a=JY(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=q8(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=q8(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),s=Math.round(e.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+s+"%)":"hsva("+n+", "+r+"%, "+s+"%, "+this._roundA+")"},toHsl:function(){var e=$8(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=$8(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),s=Math.round(e.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+s+"%)":"hsla("+n+", "+r+"%, "+s+"%, "+this._roundA+")"},toHex:function(e){return W8(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return oOt(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Cr(this._r,255)*100)+"%",g:Math.round(Cr(this._g,255)*100)+"%",b:Math.round(Cr(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Cr(this._r,255)*100)+"%, "+Math.round(Cr(this._g,255)*100)+"%, "+Math.round(Cr(this._b,255)*100)+"%)":"rgba("+Math.round(Cr(this._r,255)*100)+"%, "+Math.round(Cr(this._g,255)*100)+"%, "+Math.round(Cr(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:_Ot[W8(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var n="#"+X8(this._r,this._g,this._b,this._a),r=n,s=this._gradientType?"GradientType = 1, ":"";if(e){var a=Ze(e);r="#"+X8(a._r,a._g,a._b,a._a)}return"progid:DXImageTransform.Microsoft.gradient("+s+"startColorstr="+n+",endColorstr="+r+")"},toString:function(e){var n=!!e;e=e||this._format;var r=!1,s=this._a<1&&this._a>=0,a=!n&&s&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return a?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return Ze(this.toString())},_applyModification:function(e,n){var r=e.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(fOt,arguments)},brighten:function(){return this._applyModification(hOt,arguments)},darken:function(){return this._applyModification(dOt,arguments)},desaturate:function(){return this._applyModification(lOt,arguments)},saturate:function(){return this._applyModification(uOt,arguments)},greyscale:function(){return this._applyModification(cOt,arguments)},spin:function(){return this._applyModification(pOt,arguments)},_applyCombination:function(e,n){return e.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(yOt,arguments)},complement:function(){return this._applyCombination(mOt,arguments)},monochromatic:function(){return this._applyCombination(vOt,arguments)},splitcomplement:function(){return this._applyCombination(gOt,arguments)},triad:function(){return this._applyCombination(Y8,[3])},tetrad:function(){return this._applyCombination(Y8,[4])}};Ze.fromRatio=function(i,e){if(E2(i)=="object"){var n={};for(var r in i)i.hasOwnProperty(r)&&(r==="a"?n[r]=i[r]:n[r]=z1(i[r]));i=n}return Ze(i,e)};function iOt(i){var e={r:0,g:0,b:0},n=1,r=null,s=null,a=null,o=!1,l=!1;return typeof i=="string"&&(i=EOt(i)),E2(i)=="object"&&(ed(i.r)&&ed(i.g)&&ed(i.b)?(e=rOt(i.r,i.g,i.b),o=!0,l=String(i.r).substr(-1)==="%"?"prgb":"rgb"):ed(i.h)&&ed(i.s)&&ed(i.v)?(r=z1(i.s),s=z1(i.v),e=aOt(i.h,r,s),o=!0,l="hsv"):ed(i.h)&&ed(i.s)&&ed(i.l)&&(r=z1(i.s),a=z1(i.l),e=sOt(i.h,r,a),o=!0,l="hsl"),i.hasOwnProperty("a")&&(n=i.a)),n=JY(n),{ok:o,format:i.format||l,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}function rOt(i,e,n){return{r:Cr(i,255)*255,g:Cr(e,255)*255,b:Cr(n,255)*255}}function $8(i,e,n){i=Cr(i,255),e=Cr(e,255),n=Cr(n,255);var r=Math.max(i,e,n),s=Math.min(i,e,n),a,o,l=(r+s)/2;if(r==s)a=o=0;else{var u=r-s;switch(o=l>.5?u/(2-r-s):u/(r+s),r){case i:a=(e-n)/u+(e<n?6:0);break;case e:a=(n-i)/u+2;break;case n:a=(i-e)/u+4;break}a/=6}return{h:a,s:o,l}}function sOt(i,e,n){var r,s,a;i=Cr(i,360),e=Cr(e,100),n=Cr(n,100);function o(c,h,p){return p<0&&(p+=1),p>1&&(p-=1),p<1/6?c+(h-c)*6*p:p<1/2?h:p<2/3?c+(h-c)*(2/3-p)*6:c}if(e===0)r=s=a=n;else{var l=n<.5?n*(1+e):n+e-n*e,u=2*n-l;r=o(u,l,i+1/3),s=o(u,l,i),a=o(u,l,i-1/3)}return{r:r*255,g:s*255,b:a*255}}function q8(i,e,n){i=Cr(i,255),e=Cr(e,255),n=Cr(n,255);var r=Math.max(i,e,n),s=Math.min(i,e,n),a,o,l=r,u=r-s;if(o=r===0?0:u/r,r==s)a=0;else{switch(r){case i:a=(e-n)/u+(e<n?6:0);break;case e:a=(n-i)/u+2;break;case n:a=(i-e)/u+4;break}a/=6}return{h:a,s:o,v:l}}function aOt(i,e,n){i=Cr(i,360)*6,e=Cr(e,100),n=Cr(n,100);var r=Math.floor(i),s=i-r,a=n*(1-e),o=n*(1-s*e),l=n*(1-(1-s)*e),u=r%6,c=[n,o,a,a,l,n][u],h=[l,n,n,o,a,a][u],p=[a,a,l,n,n,o][u];return{r:c*255,g:h*255,b:p*255}}function W8(i,e,n,r){var s=[Dc(Math.round(i).toString(16)),Dc(Math.round(e).toString(16)),Dc(Math.round(n).toString(16))];return r&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0):s.join("")}function oOt(i,e,n,r,s){var a=[Dc(Math.round(i).toString(16)),Dc(Math.round(e).toString(16)),Dc(Math.round(n).toString(16)),Dc(tK(r))];return s&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}function X8(i,e,n,r){var s=[Dc(tK(r)),Dc(Math.round(i).toString(16)),Dc(Math.round(e).toString(16)),Dc(Math.round(n).toString(16))];return s.join("")}Ze.equals=function(i,e){return!i||!e?!1:Ze(i).toRgbString()==Ze(e).toRgbString()};Ze.random=function(){return Ze.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function lOt(i,e){e=e===0?0:e||10;var n=Ze(i).toHsl();return n.s-=e/100,n.s=vO(n.s),Ze(n)}function uOt(i,e){e=e===0?0:e||10;var n=Ze(i).toHsl();return n.s+=e/100,n.s=vO(n.s),Ze(n)}function cOt(i){return Ze(i).desaturate(100)}function fOt(i,e){e=e===0?0:e||10;var n=Ze(i).toHsl();return n.l+=e/100,n.l=vO(n.l),Ze(n)}function hOt(i,e){e=e===0?0:e||10;var n=Ze(i).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),Ze(n)}function dOt(i,e){e=e===0?0:e||10;var n=Ze(i).toHsl();return n.l-=e/100,n.l=vO(n.l),Ze(n)}function pOt(i,e){var n=Ze(i).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,Ze(n)}function mOt(i){var e=Ze(i).toHsl();return e.h=(e.h+180)%360,Ze(e)}function Y8(i,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=Ze(i).toHsl(),r=[Ze(i)],s=360/e,a=1;a<e;a++)r.push(Ze({h:(n.h+a*s)%360,s:n.s,l:n.l}));return r}function gOt(i){var e=Ze(i).toHsl(),n=e.h;return[Ze(i),Ze({h:(n+72)%360,s:e.s,l:e.l}),Ze({h:(n+216)%360,s:e.s,l:e.l})]}function yOt(i,e,n){e=e||6,n=n||30;var r=Ze(i).toHsl(),s=360/n,a=[Ze(i)];for(r.h=(r.h-(s*e>>1)+720)%360;--e;)r.h=(r.h+s)%360,a.push(Ze(r));return a}function vOt(i,e){e=e||6;for(var n=Ze(i).toHsv(),r=n.h,s=n.s,a=n.v,o=[],l=1/e;e--;)o.push(Ze({h:r,s,v:a})),a=(a+l)%1;return o}Ze.mix=function(i,e,n){n=n===0?0:n||50;var r=Ze(i).toRgb(),s=Ze(e).toRgb(),a=n/100,o={r:(s.r-r.r)*a+r.r,g:(s.g-r.g)*a+r.g,b:(s.b-r.b)*a+r.b,a:(s.a-r.a)*a+r.a};return Ze(o)};Ze.readability=function(i,e){var n=Ze(i),r=Ze(e);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};Ze.isReadable=function(i,e,n){var r=Ze.readability(i,e),s,a;switch(a=!1,s=TOt(n),s.level+s.size){case"AAsmall":case"AAAlarge":a=r>=4.5;break;case"AAlarge":a=r>=3;break;case"AAAsmall":a=r>=7;break}return a};Ze.mostReadable=function(i,e,n){var r=null,s=0,a,o,l,u;n=n||{},o=n.includeFallbackColors,l=n.level,u=n.size;for(var c=0;c<e.length;c++)a=Ze.readability(i,e[c]),a>s&&(s=a,r=Ze(e[c]));return Ze.isReadable(i,r,{level:l,size:u})||!o?r:(n.includeFallbackColors=!1,Ze.mostReadable(i,["#fff","#000"],n))};var tL=Ze.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},_Ot=Ze.hexNames=bOt(tL);function bOt(i){var e={};for(var n in i)i.hasOwnProperty(n)&&(e[i[n]]=n);return e}function JY(i){return i=parseFloat(i),(isNaN(i)||i<0||i>1)&&(i=1),i}function Cr(i,e){xOt(i)&&(i="100%");var n=SOt(i);return i=Math.min(e,Math.max(0,parseFloat(i))),n&&(i=parseInt(i*e,10)/100),Math.abs(i-e)<1e-6?1:i%e/parseFloat(e)}function vO(i){return Math.min(1,Math.max(0,i))}function Hl(i){return parseInt(i,16)}function xOt(i){return typeof i=="string"&&i.indexOf(".")!=-1&&parseFloat(i)===1}function SOt(i){return typeof i=="string"&&i.indexOf("%")!=-1}function Dc(i){return i.length==1?"0"+i:""+i}function z1(i){return i<=1&&(i=i*100+"%"),i}function tK(i){return Math.round(parseFloat(i)*255).toString(16)}function K8(i){return Hl(i)/255}var Sc=function(){var i="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+i+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",s="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+s),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+s),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+s),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function ed(i){return!!Sc.CSS_UNIT.exec(i)}function EOt(i){i=i.replace(eOt,"").replace(nOt,"").toLowerCase();var e=!1;if(tL[i])i=tL[i],e=!0;else if(i=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=Sc.rgb.exec(i))?{r:n[1],g:n[2],b:n[3]}:(n=Sc.rgba.exec(i))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Sc.hsl.exec(i))?{h:n[1],s:n[2],l:n[3]}:(n=Sc.hsla.exec(i))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Sc.hsv.exec(i))?{h:n[1],s:n[2],v:n[3]}:(n=Sc.hsva.exec(i))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Sc.hex8.exec(i))?{r:Hl(n[1]),g:Hl(n[2]),b:Hl(n[3]),a:K8(n[4]),format:e?"name":"hex8"}:(n=Sc.hex6.exec(i))?{r:Hl(n[1]),g:Hl(n[2]),b:Hl(n[3]),format:e?"name":"hex"}:(n=Sc.hex4.exec(i))?{r:Hl(n[1]+""+n[1]),g:Hl(n[2]+""+n[2]),b:Hl(n[3]+""+n[3]),a:K8(n[4]+""+n[4]),format:e?"name":"hex8"}:(n=Sc.hex3.exec(i))?{r:Hl(n[1]+""+n[1]),g:Hl(n[2]+""+n[2]),b:Hl(n[3]+""+n[3]),format:e?"name":"hex"}:!1}function TOt(i){var e,n;return i=i||{level:"AA",size:"small"},e=(i.level||"AA").toUpperCase(),n=(i.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:e,size:n}}function eL(i,e){(e==null||e>i.length)&&(e=i.length);for(var n=0,r=Array(e);n<e;n++)r[n]=i[n];return r}function wOt(i){if(Array.isArray(i))return eL(i)}function eK(i,e,n){if(typeof i=="function"?i===e:i.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function AOt(i,e){if(e.has(i))throw new TypeError("Cannot initialize the same private elements twice on an object")}function MOt(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function Mu(i,e){return i.get(eK(i,e))}function Z8(i,e,n){AOt(i,e),e.set(i,n)}function Q8(i,e,n){return i.set(eK(i,e),n),n}function COt(i,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,NOt(r.key),r)}}function ROt(i,e,n){return e&&COt(i.prototype,e),Object.defineProperty(i,"prototype",{writable:!1}),i}function OOt(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function POt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IOt(i){return wOt(i)||OOt(i)||LOt(i)||POt()}function DOt(i,e){if(typeof i!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var r=n.call(i,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}function NOt(i){var e=DOt(i,"string");return typeof e=="symbol"?e:e+""}function LOt(i,e){if(i){if(typeof i=="string")return eL(i,e);var n={}.toString.call(i).slice(8,-1);return n==="Object"&&i.constructor&&(n=i.constructor.name),n==="Map"||n==="Set"?Array.from(i):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eL(i,e):void 0}}var UOt=123,kOt=function(e){return"#".concat(Math.min(e,Math.pow(2,24)).toString(16).padStart(6,"0"))},nK=function(e,n,r){return(e<<16)+(n<<8)+r},zOt=function(e){var n=Ze(e).toRgb(),r=n.r,s=n.g,a=n.b;return nK(r,s,a)},J8=function(e,n){return e*UOt%Math.pow(2,n)},Yg=new WeakMap,nd=new WeakMap,BOt=function(){function i(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:6;MOt(this,i),Z8(this,Yg,void 0),Z8(this,nd,void 0),Q8(nd,this,e),this.reset()}return ROt(i,[{key:"reset",value:function(){Q8(Yg,this,["__reserved for background__"])}},{key:"register",value:function(n){if(Mu(Yg,this).length>=Math.pow(2,24-Mu(nd,this)))return null;var r=Mu(Yg,this).length,s=J8(r,Mu(nd,this)),a=kOt(r+(s<<24-Mu(nd,this)));return Mu(Yg,this).push(n),a}},{key:"lookup",value:function(n){if(!n)return null;var r=typeof n=="string"?zOt(n):nK.apply(void 0,IOt(n));if(!r)return null;var s=r&Math.pow(2,24-Mu(nd,this))-1,a=r>>24-Mu(nd,this)&Math.pow(2,Mu(nd,this))-1;return J8(s,Mu(nd,this))!==a||s>=Mu(Yg,this).length?null:Mu(Yg,this)[s]}}])}(),YE,Or,iK,rK,ly,t9,sK,aK,oK,Ik,nL,iL,uE={},lK=[],FOt=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,_O=Array.isArray;function qf(i,e){for(var n in e)i[n]=e[n];return i}function Dk(i){i&&i.parentNode&&i.parentNode.removeChild(i)}function VOt(i,e,n){var r,s,a,o={};for(a in e)a=="key"?r=e[a]:a=="ref"?s=e[a]:o[a]=e[a];if(arguments.length>2&&(o.children=arguments.length>3?YE.call(arguments,2):n),typeof i=="function"&&i.defaultProps!=null)for(a in i.defaultProps)o[a]==null&&(o[a]=i.defaultProps[a]);return uS(i,o,r,s,null)}function uS(i,e,n,r,s){var a={type:i,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:s??++iK,__i:-1,__u:0};return s==null&&Or.vnode!=null&&Or.vnode(a),a}function bO(i){return i.children}function IM(i,e){this.props=i,this.context=e}function ab(i,e){if(e==null)return i.__?ab(i.__,i.__i+1):null;for(var n;e<i.__k.length;e++)if((n=i.__k[e])!=null&&n.__e!=null)return n.__e;return typeof i.type=="function"?ab(i):null}function uK(i){var e,n;if((i=i.__)!=null&&i.__c!=null){for(i.__e=i.__c.base=null,e=0;e<i.__k.length;e++)if((n=i.__k[e])!=null&&n.__e!=null){i.__e=i.__c.base=n.__e;break}return uK(i)}}function e9(i){(!i.__d&&(i.__d=!0)&&ly.push(i)&&!T2.__r++||t9!=Or.debounceRendering)&&((t9=Or.debounceRendering)||sK)(T2)}function T2(){for(var i,e,n,r,s,a,o,l=1;ly.length;)ly.length>l&&ly.sort(aK),i=ly.shift(),l=ly.length,i.__d&&(n=void 0,s=(r=(e=i).__v).__e,a=[],o=[],e.__P&&((n=qf({},r)).__v=r.__v+1,Or.vnode&&Or.vnode(n),Nk(e.__P,n,r,e.__n,e.__P.namespaceURI,32&r.__u?[s]:null,a,s??ab(r),!!(32&r.__u),o),n.__v=r.__v,n.__.__k[n.__i]=n,hK(a,n,o),n.__e!=s&&uK(n)));T2.__r=0}function cK(i,e,n,r,s,a,o,l,u,c,h){var p,g,v,b,S,E,x=r&&r.__k||lK,A=e.length;for(u=HOt(n,e,x,u,A),p=0;p<A;p++)(v=n.__k[p])!=null&&(g=v.__i==-1?uE:x[v.__i]||uE,v.__i=p,E=Nk(i,v,g,s,a,o,l,u,c,h),b=v.__e,v.ref&&g.ref!=v.ref&&(g.ref&&Lk(g.ref,null,v),h.push(v.ref,v.__c||b,v)),S==null&&b!=null&&(S=b),4&v.__u||g.__k===v.__k?u=fK(v,u,i):typeof v.type=="function"&&E!==void 0?u=E:b&&(u=b.nextSibling),v.__u&=-7);return n.__e=S,u}function HOt(i,e,n,r,s){var a,o,l,u,c,h=n.length,p=h,g=0;for(i.__k=new Array(s),a=0;a<s;a++)(o=e[a])!=null&&typeof o!="boolean"&&typeof o!="function"?(u=a+g,(o=i.__k[a]=typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?uS(null,o,null,null,null):_O(o)?uS(bO,{children:o},null,null,null):o.constructor==null&&o.__b>0?uS(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o).__=i,o.__b=i.__b+1,l=null,(c=o.__i=jOt(o,n,u,p))!=-1&&(p--,(l=n[c])&&(l.__u|=2)),l==null||l.__v==null?(c==-1&&(s>h?g--:s<h&&g++),typeof o.type!="function"&&(o.__u|=4)):c!=u&&(c==u-1?g--:c==u+1?g++:(c>u?g--:g++,o.__u|=4))):i.__k[a]=null;if(p)for(a=0;a<h;a++)(l=n[a])!=null&&(2&l.__u)==0&&(l.__e==r&&(r=ab(l)),pK(l,l));return r}function fK(i,e,n){var r,s;if(typeof i.type=="function"){for(r=i.__k,s=0;r&&s<r.length;s++)r[s]&&(r[s].__=i,e=fK(r[s],e,n));return e}i.__e!=e&&(e&&i.type&&!n.contains(e)&&(e=ab(i)),n.insertBefore(i.__e,e||null),e=i.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function jOt(i,e,n,r){var s,a,o=i.key,l=i.type,u=e[n];if(u===null&&i.key==null||u&&o==u.key&&l==u.type&&(2&u.__u)==0)return n;if(r>(u!=null&&(2&u.__u)==0?1:0))for(s=n-1,a=n+1;s>=0||a<e.length;){if(s>=0){if((u=e[s])&&(2&u.__u)==0&&o==u.key&&l==u.type)return s;s--}if(a<e.length){if((u=e[a])&&(2&u.__u)==0&&o==u.key&&l==u.type)return a;a++}}return-1}function n9(i,e,n){e[0]=="-"?i.setProperty(e,n??""):i[e]=n==null?"":typeof n!="number"||FOt.test(e)?n:n+"px"}function DA(i,e,n,r,s){var a;t:if(e=="style")if(typeof n=="string")i.style.cssText=n;else{if(typeof r=="string"&&(i.style.cssText=r=""),r)for(e in r)n&&e in n||n9(i.style,e,"");if(n)for(e in n)r&&n[e]==r[e]||n9(i.style,e,n[e])}else if(e[0]=="o"&&e[1]=="n")a=e!=(e=e.replace(oK,"$1")),e=e.toLowerCase()in i||e=="onFocusOut"||e=="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),i.l||(i.l={}),i.l[e+a]=n,n?r?n.u=r.u:(n.u=Ik,i.addEventListener(e,a?iL:nL,a)):i.removeEventListener(e,a?iL:nL,a);else{if(s=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in i)try{i[e]=n??"";break t}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!="-"?i.removeAttribute(e):i.setAttribute(e,e=="popover"&&n==1?"":n))}}function i9(i){return function(e){if(this.l){var n=this.l[e.type+i];if(e.t==null)e.t=Ik++;else if(e.t<n.u)return;return n(Or.event?Or.event(e):e)}}}function Nk(i,e,n,r,s,a,o,l,u,c){var h,p,g,v,b,S,E,x,A,C,M,P,k,D,N,U,R,B=e.type;if(e.constructor!=null)return null;128&n.__u&&(u=!!(32&n.__u),a=[l=e.__e=n.__e]),(h=Or.__b)&&h(e);t:if(typeof B=="function")try{if(x=e.props,A="prototype"in B&&B.prototype.render,C=(h=B.contextType)&&r[h.__c],M=h?C?C.props.value:h.__:r,n.__c?E=(p=e.__c=n.__c).__=p.__E:(A?e.__c=p=new B(x,M):(e.__c=p=new IM(x,M),p.constructor=B,p.render=$Ot),C&&C.sub(p),p.props=x,p.state||(p.state={}),p.context=M,p.__n=r,g=p.__d=!0,p.__h=[],p._sb=[]),A&&p.__s==null&&(p.__s=p.state),A&&B.getDerivedStateFromProps!=null&&(p.__s==p.state&&(p.__s=qf({},p.__s)),qf(p.__s,B.getDerivedStateFromProps(x,p.__s))),v=p.props,b=p.state,p.__v=e,g)A&&B.getDerivedStateFromProps==null&&p.componentWillMount!=null&&p.componentWillMount(),A&&p.componentDidMount!=null&&p.__h.push(p.componentDidMount);else{if(A&&B.getDerivedStateFromProps==null&&x!==v&&p.componentWillReceiveProps!=null&&p.componentWillReceiveProps(x,M),!p.__e&&p.shouldComponentUpdate!=null&&p.shouldComponentUpdate(x,p.__s,M)===!1||e.__v==n.__v){for(e.__v!=n.__v&&(p.props=x,p.state=p.__s,p.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function(H){H&&(H.__=e)}),P=0;P<p._sb.length;P++)p.__h.push(p._sb[P]);p._sb=[],p.__h.length&&o.push(p);break t}p.componentWillUpdate!=null&&p.componentWillUpdate(x,p.__s,M),A&&p.componentDidUpdate!=null&&p.__h.push(function(){p.componentDidUpdate(v,b,S)})}if(p.context=M,p.props=x,p.__P=i,p.__e=!1,k=Or.__r,D=0,A){for(p.state=p.__s,p.__d=!1,k&&k(e),h=p.render(p.props,p.state,p.context),N=0;N<p._sb.length;N++)p.__h.push(p._sb[N]);p._sb=[]}else do p.__d=!1,k&&k(e),h=p.render(p.props,p.state,p.context),p.state=p.__s;while(p.__d&&++D<25);p.state=p.__s,p.getChildContext!=null&&(r=qf(qf({},r),p.getChildContext())),A&&!g&&p.getSnapshotBeforeUpdate!=null&&(S=p.getSnapshotBeforeUpdate(v,b)),U=h,h!=null&&h.type===bO&&h.key==null&&(U=dK(h.props.children)),l=cK(i,_O(U)?U:[U],e,n,r,s,a,o,l,u,c),p.base=e.__e,e.__u&=-161,p.__h.length&&o.push(p),E&&(p.__E=p.__=null)}catch(H){if(e.__v=null,u||a!=null)if(H.then){for(e.__u|=u?160:128;l&&l.nodeType==8&&l.nextSibling;)l=l.nextSibling;a[a.indexOf(l)]=null,e.__e=l}else for(R=a.length;R--;)Dk(a[R]);else e.__e=n.__e,e.__k=n.__k;Or.__e(H,e,n)}else a==null&&e.__v==n.__v?(e.__k=n.__k,e.__e=n.__e):l=e.__e=GOt(n.__e,e,n,r,s,a,o,u,c);return(h=Or.diffed)&&h(e),128&e.__u?void 0:l}function hK(i,e,n){for(var r=0;r<n.length;r++)Lk(n[r],n[++r],n[++r]);Or.__c&&Or.__c(e,i),i.some(function(s){try{i=s.__h,s.__h=[],i.some(function(a){a.call(s)})}catch(a){Or.__e(a,s.__v)}})}function dK(i){return typeof i!="object"||i==null||i.__b&&i.__b>0?i:_O(i)?i.map(dK):qf({},i)}function GOt(i,e,n,r,s,a,o,l,u){var c,h,p,g,v,b,S,E=n.props,x=e.props,A=e.type;if(A=="svg"?s="http://www.w3.org/2000/svg":A=="math"?s="http://www.w3.org/1998/Math/MathML":s||(s="http://www.w3.org/1999/xhtml"),a!=null){for(c=0;c<a.length;c++)if((v=a[c])&&"setAttribute"in v==!!A&&(A?v.localName==A:v.nodeType==3)){i=v,a[c]=null;break}}if(i==null){if(A==null)return document.createTextNode(x);i=document.createElementNS(s,A,x.is&&x),l&&(Or.__m&&Or.__m(e,a),l=!1),a=null}if(A==null)E===x||l&&i.data==x||(i.data=x);else{if(a=a&&YE.call(i.childNodes),E=n.props||uE,!l&&a!=null)for(E={},c=0;c<i.attributes.length;c++)E[(v=i.attributes[c]).name]=v.value;for(c in E)if(v=E[c],c!="children"){if(c=="dangerouslySetInnerHTML")p=v;else if(!(c in x)){if(c=="value"&&"defaultValue"in x||c=="checked"&&"defaultChecked"in x)continue;DA(i,c,null,v,s)}}for(c in x)v=x[c],c=="children"?g=v:c=="dangerouslySetInnerHTML"?h=v:c=="value"?b=v:c=="checked"?S=v:l&&typeof v!="function"||E[c]===v||DA(i,c,v,E[c],s);if(h)l||p&&(h.__html==p.__html||h.__html==i.innerHTML)||(i.innerHTML=h.__html),e.__k=[];else if(p&&(i.innerHTML=""),cK(e.type=="template"?i.content:i,_O(g)?g:[g],e,n,r,A=="foreignObject"?"http://www.w3.org/1999/xhtml":s,a,o,a?a[0]:n.__k&&ab(n,0),l,u),a!=null)for(c=a.length;c--;)Dk(a[c]);l||(c="value",A=="progress"&&b==null?i.removeAttribute("value"):b!=null&&(b!==i[c]||A=="progress"&&!b||A=="option"&&b!=E[c])&&DA(i,c,b,E[c],s),c="checked",S!=null&&S!=i[c]&&DA(i,c,S,E[c],s))}return i}function Lk(i,e,n){try{if(typeof i=="function"){var r=typeof i.__u=="function";r&&i.__u(),r&&e==null||(i.__u=i(e))}else i.current=e}catch(s){Or.__e(s,n)}}function pK(i,e,n){var r,s;if(Or.unmount&&Or.unmount(i),(r=i.ref)&&(r.current&&r.current!=i.__e||Lk(r,null,e)),(r=i.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(a){Or.__e(a,e)}r.base=r.__P=null}if(r=i.__k)for(s=0;s<r.length;s++)r[s]&&pK(r[s],e,n||typeof i.type!="function");n||Dk(i.__e),i.__c=i.__=i.__e=void 0}function $Ot(i,e,n){return this.constructor(i,n)}function qOt(i,e,n){var r,s,a,o;e==document&&(e=document.documentElement),Or.__&&Or.__(i,e),s=(r=!1)?null:e.__k,a=[],o=[],Nk(e,i=e.__k=VOt(bO,null,[i]),s||uE,uE,e.namespaceURI,s?null:e.firstChild?YE.call(e.childNodes):null,a,s?s.__e:e.firstChild,r,o),hK(a,i,o)}function mK(i,e,n){var r,s,a,o,l=qf({},i.props);for(a in i.type&&i.type.defaultProps&&(o=i.type.defaultProps),e)a=="key"?r=e[a]:a=="ref"?s=e[a]:l[a]=e[a]==null&&o!=null?o[a]:e[a];return arguments.length>2&&(l.children=arguments.length>3?YE.call(arguments,2):n),uS(i.type,l,r||i.key,s||i.ref,null)}YE=lK.slice,Or={__e:function(i,e,n,r){for(var s,a,o;e=e.__;)if((s=e.__c)&&!s.__)try{if((a=s.constructor)&&a.getDerivedStateFromError!=null&&(s.setState(a.getDerivedStateFromError(i)),o=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(i,r||{}),o=s.__d),o)return s.__E=s}catch(l){i=l}throw i}},iK=0,rK=function(i){return i!=null&&i.constructor==null},IM.prototype.setState=function(i,e){var n;n=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=qf({},this.state),typeof i=="function"&&(i=i(qf({},n),this.props)),i&&qf(n,i),i!=null&&this.__v&&(e&&this._sb.push(e),e9(this))},IM.prototype.forceUpdate=function(i){this.__v&&(this.__e=!0,i&&this.__h.push(i),e9(this))},IM.prototype.render=bO,ly=[],sK=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,aK=function(i,e){return i.__v.__b-e.__v.__b},T2.__r=0,oK=/(PointerCapture)$|Capture$/i,Ik=0,nL=i9(!1),iL=i9(!0);function r9(i,e){(e==null||e>i.length)&&(e=i.length);for(var n=0,r=Array(e);n<e;n++)r[n]=i[n];return r}function WOt(i){if(Array.isArray(i))return i}function XOt(i,e,n){return(e=tPt(e))in i?Object.defineProperty(i,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[e]=n,i}function YOt(i,e){var n=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(n!=null){var r,s,a,o,l=[],u=!0,c=!1;try{if(a=(n=n.call(i)).next,e!==0)for(;!(u=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(h){c=!0,s=h}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw s}}return l}}function KOt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s9(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(i,s).enumerable})),n.push.apply(n,r)}return n}function ZOt(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s9(Object(n),!0).forEach(function(r){XOt(i,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):s9(Object(n)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(n,r))})}return i}function QOt(i,e){return WOt(i)||YOt(i,e)||ePt(i,e)||KOt()}function JOt(i,e){if(typeof i!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var r=n.call(i,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function tPt(i){var e=JOt(i,"string");return typeof e=="symbol"?e:e+""}function w2(i){"@babel/helpers - typeof";return w2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w2(i)}function ePt(i,e){if(i){if(typeof i=="string")return r9(i,e);var n={}.toString.call(i).slice(8,-1);return n==="Object"&&i.constructor&&(n=i.constructor.name),n==="Map"||n==="Set"?Array.from(i):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r9(i,e):void 0}}var rL=function(e){if(w2(e)!=="object")return e;var n=mK(e);if(n.props){var r;n.props=ZOt({},n.props),n!=null&&(r=n.props)!==null&&r!==void 0&&r.children&&(n.props.children=Array.isArray(n.props.children)?n.props.children.map(rL):rL(n.props.children))}return n},nPt=function(e){return rK(mK(e))},iPt=function(e,n){delete n.__k,qOt(rL(e),n)};function rPt(i,e){e===void 0&&(e={});var n=e.insertAt;if(!(typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",n==="top"&&r.firstChild?r.insertBefore(s,r.firstChild):r.appendChild(s),s.styleSheet?s.styleSheet.cssText=i:s.appendChild(document.createTextNode(i))}}var sPt=`.float-tooltip-kap {
  position: absolute;
  width: max-content; /* prevent shrinking near right edge */
  max-width: max(50%, 150px);
  padding: 3px 5px;
  border-radius: 3px;
  font: 12px sans-serif;
  color: #eee;
  background: rgba(0,0,0,0.6);
  pointer-events: none;
}
`;rPt(sPt);var aPt=yO({props:{content:{default:!1},offsetX:{triggerUpdate:!1},offsetY:{triggerUpdate:!1}},init:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=r.style,a=s===void 0?{}:s,o=!!e&&w2(e)==="object"&&!!e.node&&typeof e.node=="function",l=Du(o?e.node():e);l.style("position")==="static"&&l.style("position","relative"),n.tooltipEl=l.append("div").attr("class","float-tooltip-kap"),Object.entries(a).forEach(function(c){var h=QOt(c,2),p=h[0],g=h[1];return n.tooltipEl.style(p,g)}),n.tooltipEl.style("left","-10000px").style("display","none");var u="tooltip-".concat(Math.round(Math.random()*1e12));n.mouseInside=!1,l.on("mousemove.".concat(u),function(c){n.mouseInside=!0;var h=kf(c),p=l.node(),g=p.offsetWidth,v=p.offsetHeight,b=[n.offsetX===null||n.offsetX===void 0?"-".concat(h[0]/g*100,"%"):typeof n.offsetX=="number"?"calc(-50% + ".concat(n.offsetX,"px)"):n.offsetX,n.offsetY===null||n.offsetY===void 0?v>130&&v-h[1]<100?"calc(-100% - 6px)":"21px":typeof n.offsetY=="number"?n.offsetY<0?"calc(-100% - ".concat(Math.abs(n.offsetY),"px)"):"".concat(n.offsetY,"px"):n.offsetY];n.tooltipEl.style("left",h[0]+"px").style("top",h[1]+"px").style("transform","translate(".concat(b.join(","),")")),n.content&&n.tooltipEl.style("display","inline")}),l.on("mouseover.".concat(u),function(){n.mouseInside=!0,n.content&&n.tooltipEl.style("display","inline")}),l.on("mouseout.".concat(u),function(){n.mouseInside=!1,n.tooltipEl.style("display","none")})},update:function(e){e.tooltipEl.style("display",e.content&&e.mouseInside?"inline":"none"),e.content?e.content instanceof HTMLElement?(e.tooltipEl.text(""),e.tooltipEl.append(function(){return e.content})):typeof e.content=="string"?e.tooltipEl.html(e.content):nPt(e.content)?(e.tooltipEl.text(""),iPt(e.content,e.tooltipEl.node())):(e.tooltipEl.style("display","none"),console.warn("Tooltip content is invalid, skipping.",e.content,e.content.toString())):e.tooltipEl.text("")}});function gK(i,e,n){var r,s=1;i==null&&(i=0),e==null&&(e=0),n==null&&(n=0);function a(){var o,l=r.length,u,c=0,h=0,p=0;for(o=0;o<l;++o)u=r[o],c+=u.x||0,h+=u.y||0,p+=u.z||0;for(c=(c/l-i)*s,h=(h/l-e)*s,p=(p/l-n)*s,o=0;o<l;++o)u=r[o],c&&(u.x-=c),h&&(u.y-=h),p&&(u.z-=p)}return a.initialize=function(o){r=o},a.x=function(o){return arguments.length?(i=+o,a):i},a.y=function(o){return arguments.length?(e=+o,a):e},a.z=function(o){return arguments.length?(n=+o,a):n},a.strength=function(o){return arguments.length?(s=+o,a):s},a}function oPt(i){const e=+this._x.call(null,i);return yK(this.cover(e),e,i)}function yK(i,e,n){if(isNaN(e))return i;var r,s=i._root,a={data:n},o=i._x0,l=i._x1,u,c,h,p,g;if(!s)return i._root=a,i;for(;s.length;)if((h=e>=(u=(o+l)/2))?o=u:l=u,r=s,!(s=s[p=+h]))return r[p]=a,i;if(c=+i._x.call(null,s.data),e===c)return a.next=s,r?r[p]=a:i._root=a,i;do r=r?r[p]=new Array(2):i._root=new Array(2),(h=e>=(u=(o+l)/2))?o=u:l=u;while((p=+h)==(g=+(c>=u)));return r[g]=s,r[p]=a,i}function lPt(i){Array.isArray(i)||(i=Array.from(i));const e=i.length,n=new Float64Array(e);let r=1/0,s=-1/0;for(let a=0,o;a<e;++a)isNaN(o=+this._x.call(null,i[a]))||(n[a]=o,o<r&&(r=o),o>s&&(s=o));if(r>s)return this;this.cover(r).cover(s);for(let a=0;a<e;++a)yK(this,n[a],i[a]);return this}function uPt(i){if(isNaN(i=+i))return this;var e=this._x0,n=this._x1;if(isNaN(e))n=(e=Math.floor(i))+1;else{for(var r=n-e||1,s=this._root,a,o;e>i||i>=n;)switch(o=+(i<e),a=new Array(2),a[o]=s,s=a,r*=2,o){case 0:n=e+r;break;case 1:e=n-r;break}this._root&&this._root.length&&(this._root=s)}return this._x0=e,this._x1=n,this}function cPt(){var i=[];return this.visit(function(e){if(!e.length)do i.push(e.data);while(e=e.next)}),i}function fPt(i){return arguments.length?this.cover(+i[0][0]).cover(+i[1][0]):isNaN(this._x0)?void 0:[[this._x0],[this._x1]]}function Md(i,e,n){this.node=i,this.x0=e,this.x1=n}function hPt(i,e){var n,r=this._x0,s,a,o=this._x1,l=[],u=this._root,c,h;for(u&&l.push(new Md(u,r,o)),e==null?e=1/0:(r=i-e,o=i+e);c=l.pop();)if(!(!(u=c.node)||(s=c.x0)>o||(a=c.x1)<r))if(u.length){var p=(s+a)/2;l.push(new Md(u[1],p,a),new Md(u[0],s,p)),(h=+(i>=p))&&(c=l[l.length-1],l[l.length-1]=l[l.length-1-h],l[l.length-1-h]=c)}else{var g=Math.abs(i-+this._x.call(null,u.data));g<e&&(e=g,r=i-g,o=i+g,n=u.data)}return n}function dPt(i){if(isNaN(u=+this._x.call(null,i)))return this;var e,n=this._root,r,s,a,o=this._x0,l=this._x1,u,c,h,p,g;if(!n)return this;if(n.length)for(;;){if((h=u>=(c=(o+l)/2))?o=c:l=c,e=n,!(n=n[p=+h]))return this;if(!n.length)break;e[p+1&1]&&(r=e,g=p)}for(;n.data!==i;)if(s=n,!(n=n.next))return this;return(a=n.next)&&delete n.next,s?(a?s.next=a:delete s.next,this):e?(a?e[p]=a:delete e[p],(n=e[0]||e[1])&&n===(e[1]||e[0])&&!n.length&&(r?r[g]=n:this._root=n),this):(this._root=a,this)}function pPt(i){for(var e=0,n=i.length;e<n;++e)this.remove(i[e]);return this}function mPt(){return this._root}function gPt(){var i=0;return this.visit(function(e){if(!e.length)do++i;while(e=e.next)}),i}function yPt(i){var e=[],n,r=this._root,s,a,o;for(r&&e.push(new Md(r,this._x0,this._x1));n=e.pop();)if(!i(r=n.node,a=n.x0,o=n.x1)&&r.length){var l=(a+o)/2;(s=r[1])&&e.push(new Md(s,l,o)),(s=r[0])&&e.push(new Md(s,a,l))}return this}function vPt(i){var e=[],n=[],r;for(this._root&&e.push(new Md(this._root,this._x0,this._x1));r=e.pop();){var s=r.node;if(s.length){var a,o=r.x0,l=r.x1,u=(o+l)/2;(a=s[0])&&e.push(new Md(a,o,u)),(a=s[1])&&e.push(new Md(a,u,l))}n.push(r)}for(;r=n.pop();)i(r.node,r.x0,r.x1);return this}function _Pt(i){return i[0]}function bPt(i){return arguments.length?(this._x=i,this):this._x}function vK(i,e){var n=new Uk(e??_Pt,NaN,NaN);return i==null?n:n.addAll(i)}function Uk(i,e,n){this._x=i,this._x0=e,this._x1=n,this._root=void 0}function a9(i){for(var e={data:i.data},n=e;i=i.next;)n=n.next={data:i.data};return e}var El=vK.prototype=Uk.prototype;El.copy=function(){var i=new Uk(this._x,this._x0,this._x1),e=this._root,n,r;if(!e)return i;if(!e.length)return i._root=a9(e),i;for(n=[{source:e,target:i._root=new Array(2)}];e=n.pop();)for(var s=0;s<2;++s)(r=e.source[s])&&(r.length?n.push({source:r,target:e.target[s]=new Array(2)}):e.target[s]=a9(r));return i};El.add=oPt;El.addAll=lPt;El.cover=uPt;El.data=cPt;El.extent=fPt;El.find=hPt;El.remove=dPt;El.removeAll=pPt;El.root=mPt;El.size=gPt;El.visit=yPt;El.visitAfter=vPt;El.x=bPt;function xPt(i){const e=+this._x.call(null,i),n=+this._y.call(null,i);return _K(this.cover(e,n),e,n,i)}function _K(i,e,n,r){if(isNaN(e)||isNaN(n))return i;var s,a=i._root,o={data:r},l=i._x0,u=i._y0,c=i._x1,h=i._y1,p,g,v,b,S,E,x,A;if(!a)return i._root=o,i;for(;a.length;)if((S=e>=(p=(l+c)/2))?l=p:c=p,(E=n>=(g=(u+h)/2))?u=g:h=g,s=a,!(a=a[x=E<<1|S]))return s[x]=o,i;if(v=+i._x.call(null,a.data),b=+i._y.call(null,a.data),e===v&&n===b)return o.next=a,s?s[x]=o:i._root=o,i;do s=s?s[x]=new Array(4):i._root=new Array(4),(S=e>=(p=(l+c)/2))?l=p:c=p,(E=n>=(g=(u+h)/2))?u=g:h=g;while((x=E<<1|S)===(A=(b>=g)<<1|v>=p));return s[A]=a,s[x]=o,i}function SPt(i){var e,n,r=i.length,s,a,o=new Array(r),l=new Array(r),u=1/0,c=1/0,h=-1/0,p=-1/0;for(n=0;n<r;++n)isNaN(s=+this._x.call(null,e=i[n]))||isNaN(a=+this._y.call(null,e))||(o[n]=s,l[n]=a,s<u&&(u=s),s>h&&(h=s),a<c&&(c=a),a>p&&(p=a));if(u>h||c>p)return this;for(this.cover(u,c).cover(h,p),n=0;n<r;++n)_K(this,o[n],l[n],i[n]);return this}function EPt(i,e){if(isNaN(i=+i)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,s=this._x1,a=this._y1;if(isNaN(n))s=(n=Math.floor(i))+1,a=(r=Math.floor(e))+1;else{for(var o=s-n||1,l=this._root,u,c;n>i||i>=s||r>e||e>=a;)switch(c=(e<r)<<1|i<n,u=new Array(4),u[c]=l,l=u,o*=2,c){case 0:s=n+o,a=r+o;break;case 1:n=s-o,a=r+o;break;case 2:s=n+o,r=a-o;break;case 3:n=s-o,r=a-o;break}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=r,this._x1=s,this._y1=a,this}function TPt(){var i=[];return this.visit(function(e){if(!e.length)do i.push(e.data);while(e=e.next)}),i}function wPt(i){return arguments.length?this.cover(+i[0][0],+i[0][1]).cover(+i[1][0],+i[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Ao(i,e,n,r,s){this.node=i,this.x0=e,this.y0=n,this.x1=r,this.y1=s}function APt(i,e,n){var r,s=this._x0,a=this._y0,o,l,u,c,h=this._x1,p=this._y1,g=[],v=this._root,b,S;for(v&&g.push(new Ao(v,s,a,h,p)),n==null?n=1/0:(s=i-n,a=e-n,h=i+n,p=e+n,n*=n);b=g.pop();)if(!(!(v=b.node)||(o=b.x0)>h||(l=b.y0)>p||(u=b.x1)<s||(c=b.y1)<a))if(v.length){var E=(o+u)/2,x=(l+c)/2;g.push(new Ao(v[3],E,x,u,c),new Ao(v[2],o,x,E,c),new Ao(v[1],E,l,u,x),new Ao(v[0],o,l,E,x)),(S=(e>=x)<<1|i>=E)&&(b=g[g.length-1],g[g.length-1]=g[g.length-1-S],g[g.length-1-S]=b)}else{var A=i-+this._x.call(null,v.data),C=e-+this._y.call(null,v.data),M=A*A+C*C;if(M<n){var P=Math.sqrt(n=M);s=i-P,a=e-P,h=i+P,p=e+P,r=v.data}}return r}function MPt(i){if(isNaN(h=+this._x.call(null,i))||isNaN(p=+this._y.call(null,i)))return this;var e,n=this._root,r,s,a,o=this._x0,l=this._y0,u=this._x1,c=this._y1,h,p,g,v,b,S,E,x;if(!n)return this;if(n.length)for(;;){if((b=h>=(g=(o+u)/2))?o=g:u=g,(S=p>=(v=(l+c)/2))?l=v:c=v,e=n,!(n=n[E=S<<1|b]))return this;if(!n.length)break;(e[E+1&3]||e[E+2&3]||e[E+3&3])&&(r=e,x=E)}for(;n.data!==i;)if(s=n,!(n=n.next))return this;return(a=n.next)&&delete n.next,s?(a?s.next=a:delete s.next,this):e?(a?e[E]=a:delete e[E],(n=e[0]||e[1]||e[2]||e[3])&&n===(e[3]||e[2]||e[1]||e[0])&&!n.length&&(r?r[x]=n:this._root=n),this):(this._root=a,this)}function CPt(i){for(var e=0,n=i.length;e<n;++e)this.remove(i[e]);return this}function RPt(){return this._root}function OPt(){var i=0;return this.visit(function(e){if(!e.length)do++i;while(e=e.next)}),i}function PPt(i){var e=[],n,r=this._root,s,a,o,l,u;for(r&&e.push(new Ao(r,this._x0,this._y0,this._x1,this._y1));n=e.pop();)if(!i(r=n.node,a=n.x0,o=n.y0,l=n.x1,u=n.y1)&&r.length){var c=(a+l)/2,h=(o+u)/2;(s=r[3])&&e.push(new Ao(s,c,h,l,u)),(s=r[2])&&e.push(new Ao(s,a,h,c,u)),(s=r[1])&&e.push(new Ao(s,c,o,l,h)),(s=r[0])&&e.push(new Ao(s,a,o,c,h))}return this}function IPt(i){var e=[],n=[],r;for(this._root&&e.push(new Ao(this._root,this._x0,this._y0,this._x1,this._y1));r=e.pop();){var s=r.node;if(s.length){var a,o=r.x0,l=r.y0,u=r.x1,c=r.y1,h=(o+u)/2,p=(l+c)/2;(a=s[0])&&e.push(new Ao(a,o,l,h,p)),(a=s[1])&&e.push(new Ao(a,h,l,u,p)),(a=s[2])&&e.push(new Ao(a,o,p,h,c)),(a=s[3])&&e.push(new Ao(a,h,p,u,c))}n.push(r)}for(;r=n.pop();)i(r.node,r.x0,r.y0,r.x1,r.y1);return this}function DPt(i){return i[0]}function NPt(i){return arguments.length?(this._x=i,this):this._x}function LPt(i){return i[1]}function UPt(i){return arguments.length?(this._y=i,this):this._y}function bK(i,e,n){var r=new kk(e??DPt,n??LPt,NaN,NaN,NaN,NaN);return i==null?r:r.addAll(i)}function kk(i,e,n,r,s,a){this._x=i,this._y=e,this._x0=n,this._y0=r,this._x1=s,this._y1=a,this._root=void 0}function o9(i){for(var e={data:i.data},n=e;i=i.next;)n=n.next={data:i.data};return e}var Po=bK.prototype=kk.prototype;Po.copy=function(){var i=new kk(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,n,r;if(!e)return i;if(!e.length)return i._root=o9(e),i;for(n=[{source:e,target:i._root=new Array(4)}];e=n.pop();)for(var s=0;s<4;++s)(r=e.source[s])&&(r.length?n.push({source:r,target:e.target[s]=new Array(4)}):e.target[s]=o9(r));return i};Po.add=xPt;Po.addAll=SPt;Po.cover=EPt;Po.data=TPt;Po.extent=wPt;Po.find=APt;Po.remove=MPt;Po.removeAll=CPt;Po.root=RPt;Po.size=OPt;Po.visit=PPt;Po.visitAfter=IPt;Po.x=NPt;Po.y=UPt;function kPt(i){const e=+this._x.call(null,i),n=+this._y.call(null,i),r=+this._z.call(null,i);return xK(this.cover(e,n,r),e,n,r,i)}function xK(i,e,n,r,s){if(isNaN(e)||isNaN(n)||isNaN(r))return i;var a,o=i._root,l={data:s},u=i._x0,c=i._y0,h=i._z0,p=i._x1,g=i._y1,v=i._z1,b,S,E,x,A,C,M,P,k,D,N;if(!o)return i._root=l,i;for(;o.length;)if((M=e>=(b=(u+p)/2))?u=b:p=b,(P=n>=(S=(c+g)/2))?c=S:g=S,(k=r>=(E=(h+v)/2))?h=E:v=E,a=o,!(o=o[D=k<<2|P<<1|M]))return a[D]=l,i;if(x=+i._x.call(null,o.data),A=+i._y.call(null,o.data),C=+i._z.call(null,o.data),e===x&&n===A&&r===C)return l.next=o,a?a[D]=l:i._root=l,i;do a=a?a[D]=new Array(8):i._root=new Array(8),(M=e>=(b=(u+p)/2))?u=b:p=b,(P=n>=(S=(c+g)/2))?c=S:g=S,(k=r>=(E=(h+v)/2))?h=E:v=E;while((D=k<<2|P<<1|M)===(N=(C>=E)<<2|(A>=S)<<1|x>=b));return a[N]=o,a[D]=l,i}function zPt(i){Array.isArray(i)||(i=Array.from(i));const e=i.length,n=new Float64Array(e),r=new Float64Array(e),s=new Float64Array(e);let a=1/0,o=1/0,l=1/0,u=-1/0,c=-1/0,h=-1/0;for(let p=0,g,v,b,S;p<e;++p)isNaN(v=+this._x.call(null,g=i[p]))||isNaN(b=+this._y.call(null,g))||isNaN(S=+this._z.call(null,g))||(n[p]=v,r[p]=b,s[p]=S,v<a&&(a=v),v>u&&(u=v),b<o&&(o=b),b>c&&(c=b),S<l&&(l=S),S>h&&(h=S));if(a>u||o>c||l>h)return this;this.cover(a,o,l).cover(u,c,h);for(let p=0;p<e;++p)xK(this,n[p],r[p],s[p],i[p]);return this}function BPt(i,e,n){if(isNaN(i=+i)||isNaN(e=+e)||isNaN(n=+n))return this;var r=this._x0,s=this._y0,a=this._z0,o=this._x1,l=this._y1,u=this._z1;if(isNaN(r))o=(r=Math.floor(i))+1,l=(s=Math.floor(e))+1,u=(a=Math.floor(n))+1;else{for(var c=o-r||1,h=this._root,p,g;r>i||i>=o||s>e||e>=l||a>n||n>=u;)switch(g=(n<a)<<2|(e<s)<<1|i<r,p=new Array(8),p[g]=h,h=p,c*=2,g){case 0:o=r+c,l=s+c,u=a+c;break;case 1:r=o-c,l=s+c,u=a+c;break;case 2:o=r+c,s=l-c,u=a+c;break;case 3:r=o-c,s=l-c,u=a+c;break;case 4:o=r+c,l=s+c,a=u-c;break;case 5:r=o-c,l=s+c,a=u-c;break;case 6:o=r+c,s=l-c,a=u-c;break;case 7:r=o-c,s=l-c,a=u-c;break}this._root&&this._root.length&&(this._root=h)}return this._x0=r,this._y0=s,this._z0=a,this._x1=o,this._y1=l,this._z1=u,this}function FPt(){var i=[];return this.visit(function(e){if(!e.length)do i.push(e.data);while(e=e.next)}),i}function VPt(i){return arguments.length?this.cover(+i[0][0],+i[0][1],+i[0][2]).cover(+i[1][0],+i[1][1],+i[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]}function or(i,e,n,r,s,a,o){this.node=i,this.x0=e,this.y0=n,this.z0=r,this.x1=s,this.y1=a,this.z1=o}function HPt(i,e,n,r){var s,a=this._x0,o=this._y0,l=this._z0,u,c,h,p,g,v,b=this._x1,S=this._y1,E=this._z1,x=[],A=this._root,C,M;for(A&&x.push(new or(A,a,o,l,b,S,E)),r==null?r=1/0:(a=i-r,o=e-r,l=n-r,b=i+r,S=e+r,E=n+r,r*=r);C=x.pop();)if(!(!(A=C.node)||(u=C.x0)>b||(c=C.y0)>S||(h=C.z0)>E||(p=C.x1)<a||(g=C.y1)<o||(v=C.z1)<l))if(A.length){var P=(u+p)/2,k=(c+g)/2,D=(h+v)/2;x.push(new or(A[7],P,k,D,p,g,v),new or(A[6],u,k,D,P,g,v),new or(A[5],P,c,D,p,k,v),new or(A[4],u,c,D,P,k,v),new or(A[3],P,k,h,p,g,D),new or(A[2],u,k,h,P,g,D),new or(A[1],P,c,h,p,k,D),new or(A[0],u,c,h,P,k,D)),(M=(n>=D)<<2|(e>=k)<<1|i>=P)&&(C=x[x.length-1],x[x.length-1]=x[x.length-1-M],x[x.length-1-M]=C)}else{var N=i-+this._x.call(null,A.data),U=e-+this._y.call(null,A.data),R=n-+this._z.call(null,A.data),B=N*N+U*U+R*R;if(B<r){var H=Math.sqrt(r=B);a=i-H,o=e-H,l=n-H,b=i+H,S=e+H,E=n+H,s=A.data}}return s}const jPt=(i,e,n,r,s,a)=>Math.sqrt((i-r)**2+(e-s)**2+(n-a)**2);function GPt(i,e,n,r){const s=[],a=i-r,o=e-r,l=n-r,u=i+r,c=e+r,h=n+r;return this.visit((p,g,v,b,S,E,x)=>{if(!p.length)do{const A=p.data;jPt(i,e,n,this._x(A),this._y(A),this._z(A))<=r&&s.push(A)}while(p=p.next);return g>u||v>c||b>h||S<a||E<o||x<l}),s}function $Pt(i){if(isNaN(g=+this._x.call(null,i))||isNaN(v=+this._y.call(null,i))||isNaN(b=+this._z.call(null,i)))return this;var e,n=this._root,r,s,a,o=this._x0,l=this._y0,u=this._z0,c=this._x1,h=this._y1,p=this._z1,g,v,b,S,E,x,A,C,M,P,k;if(!n)return this;if(n.length)for(;;){if((A=g>=(S=(o+c)/2))?o=S:c=S,(C=v>=(E=(l+h)/2))?l=E:h=E,(M=b>=(x=(u+p)/2))?u=x:p=x,e=n,!(n=n[P=M<<2|C<<1|A]))return this;if(!n.length)break;(e[P+1&7]||e[P+2&7]||e[P+3&7]||e[P+4&7]||e[P+5&7]||e[P+6&7]||e[P+7&7])&&(r=e,k=P)}for(;n.data!==i;)if(s=n,!(n=n.next))return this;return(a=n.next)&&delete n.next,s?(a?s.next=a:delete s.next,this):e?(a?e[P]=a:delete e[P],(n=e[0]||e[1]||e[2]||e[3]||e[4]||e[5]||e[6]||e[7])&&n===(e[7]||e[6]||e[5]||e[4]||e[3]||e[2]||e[1]||e[0])&&!n.length&&(r?r[k]=n:this._root=n),this):(this._root=a,this)}function qPt(i){for(var e=0,n=i.length;e<n;++e)this.remove(i[e]);return this}function WPt(){return this._root}function XPt(){var i=0;return this.visit(function(e){if(!e.length)do++i;while(e=e.next)}),i}function YPt(i){var e=[],n,r=this._root,s,a,o,l,u,c,h;for(r&&e.push(new or(r,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));n=e.pop();)if(!i(r=n.node,a=n.x0,o=n.y0,l=n.z0,u=n.x1,c=n.y1,h=n.z1)&&r.length){var p=(a+u)/2,g=(o+c)/2,v=(l+h)/2;(s=r[7])&&e.push(new or(s,p,g,v,u,c,h)),(s=r[6])&&e.push(new or(s,a,g,v,p,c,h)),(s=r[5])&&e.push(new or(s,p,o,v,u,g,h)),(s=r[4])&&e.push(new or(s,a,o,v,p,g,h)),(s=r[3])&&e.push(new or(s,p,g,l,u,c,v)),(s=r[2])&&e.push(new or(s,a,g,l,p,c,v)),(s=r[1])&&e.push(new or(s,p,o,l,u,g,v)),(s=r[0])&&e.push(new or(s,a,o,l,p,g,v))}return this}function KPt(i){var e=[],n=[],r;for(this._root&&e.push(new or(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));r=e.pop();){var s=r.node;if(s.length){var a,o=r.x0,l=r.y0,u=r.z0,c=r.x1,h=r.y1,p=r.z1,g=(o+c)/2,v=(l+h)/2,b=(u+p)/2;(a=s[0])&&e.push(new or(a,o,l,u,g,v,b)),(a=s[1])&&e.push(new or(a,g,l,u,c,v,b)),(a=s[2])&&e.push(new or(a,o,v,u,g,h,b)),(a=s[3])&&e.push(new or(a,g,v,u,c,h,b)),(a=s[4])&&e.push(new or(a,o,l,b,g,v,p)),(a=s[5])&&e.push(new or(a,g,l,b,c,v,p)),(a=s[6])&&e.push(new or(a,o,v,b,g,h,p)),(a=s[7])&&e.push(new or(a,g,v,b,c,h,p))}n.push(r)}for(;r=n.pop();)i(r.node,r.x0,r.y0,r.z0,r.x1,r.y1,r.z1);return this}function ZPt(i){return i[0]}function QPt(i){return arguments.length?(this._x=i,this):this._x}function JPt(i){return i[1]}function tIt(i){return arguments.length?(this._y=i,this):this._y}function eIt(i){return i[2]}function nIt(i){return arguments.length?(this._z=i,this):this._z}function SK(i,e,n,r){var s=new zk(e??ZPt,n??JPt,r??eIt,NaN,NaN,NaN,NaN,NaN,NaN);return i==null?s:s.addAll(i)}function zk(i,e,n,r,s,a,o,l,u){this._x=i,this._y=e,this._z=n,this._x0=r,this._y0=s,this._z0=a,this._x1=o,this._y1=l,this._z1=u,this._root=void 0}function l9(i){for(var e={data:i.data},n=e;i=i.next;)n=n.next={data:i.data};return e}var wa=SK.prototype=zk.prototype;wa.copy=function(){var i=new zk(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),e=this._root,n,r;if(!e)return i;if(!e.length)return i._root=l9(e),i;for(n=[{source:e,target:i._root=new Array(8)}];e=n.pop();)for(var s=0;s<8;++s)(r=e.source[s])&&(r.length?n.push({source:r,target:e.target[s]=new Array(8)}):e.target[s]=l9(r));return i};wa.add=kPt;wa.addAll=zPt;wa.cover=BPt;wa.data=FPt;wa.extent=VPt;wa.find=HPt;wa.findAllWithinRadius=GPt;wa.remove=$Pt;wa.removeAll=qPt;wa.root=WPt;wa.size=XPt;wa.visit=YPt;wa.visitAfter=KPt;wa.x=QPt;wa.y=tIt;wa.z=nIt;function Sd(i){return function(){return i}}function fd(i){return(i()-.5)*1e-6}function iIt(i){return i.index}function u9(i,e){var n=i.get(e);if(!n)throw new Error("node not found: "+e);return n}function EK(i){var e=iIt,n=g,r,s=Sd(30),a,o,l,u,c,h,p=1;i==null&&(i=[]);function g(x){return 1/Math.min(u[x.source.index],u[x.target.index])}function v(x){for(var A=0,C=i.length;A<p;++A)for(var M=0,P,k,D,N=0,U=0,R=0,B,H;M<C;++M)P=i[M],k=P.source,D=P.target,N=D.x+D.vx-k.x-k.vx||fd(h),l>1&&(U=D.y+D.vy-k.y-k.vy||fd(h)),l>2&&(R=D.z+D.vz-k.z-k.vz||fd(h)),B=Math.sqrt(N*N+U*U+R*R),B=(B-a[M])/B*x*r[M],N*=B,U*=B,R*=B,D.vx-=N*(H=c[M]),l>1&&(D.vy-=U*H),l>2&&(D.vz-=R*H),k.vx+=N*(H=1-H),l>1&&(k.vy+=U*H),l>2&&(k.vz+=R*H)}function b(){if(o){var x,A=o.length,C=i.length,M=new Map(o.map((k,D)=>[e(k,D,o),k])),P;for(x=0,u=new Array(A);x<C;++x)P=i[x],P.index=x,typeof P.source!="object"&&(P.source=u9(M,P.source)),typeof P.target!="object"&&(P.target=u9(M,P.target)),u[P.source.index]=(u[P.source.index]||0)+1,u[P.target.index]=(u[P.target.index]||0)+1;for(x=0,c=new Array(C);x<C;++x)P=i[x],c[x]=u[P.source.index]/(u[P.source.index]+u[P.target.index]);r=new Array(C),S(),a=new Array(C),E()}}function S(){if(o)for(var x=0,A=i.length;x<A;++x)r[x]=+n(i[x],x,i)}function E(){if(o)for(var x=0,A=i.length;x<A;++x)a[x]=+s(i[x],x,i)}return v.initialize=function(x,...A){o=x,h=A.find(C=>typeof C=="function")||Math.random,l=A.find(C=>[1,2,3].includes(C))||2,b()},v.links=function(x){return arguments.length?(i=x,b(),v):i},v.id=function(x){return arguments.length?(e=x,v):e},v.iterations=function(x){return arguments.length?(p=+x,v):p},v.strength=function(x){return arguments.length?(n=typeof x=="function"?x:Sd(+x),S(),v):n},v.distance=function(x){return arguments.length?(s=typeof x=="function"?x:Sd(+x),E(),v):s},v}const rIt=1664525,sIt=1013904223,c9=4294967296;function aIt(){let i=1;return()=>(i=(rIt*i+sIt)%c9)/c9}var f9=3;function wD(i){return i.x}function h9(i){return i.y}function oIt(i){return i.z}var lIt=10,uIt=Math.PI*(3-Math.sqrt(5)),cIt=Math.PI*20/(9+Math.sqrt(221));function TK(i,e){e=e||2;var n=Math.min(f9,Math.max(1,Math.round(e))),r,s=1,a=.001,o=1-Math.pow(a,1/300),l=0,u=.6,c=new Map,h=Ck(v),p=WE("tick","end"),g=aIt();i==null&&(i=[]);function v(){b(),p.call("tick",r),s<a&&(h.stop(),p.call("end",r))}function b(x){var A,C=i.length,M;x===void 0&&(x=1);for(var P=0;P<x;++P)for(s+=(l-s)*o,c.forEach(function(k){k(s)}),A=0;A<C;++A)M=i[A],M.fx==null?M.x+=M.vx*=u:(M.x=M.fx,M.vx=0),n>1&&(M.fy==null?M.y+=M.vy*=u:(M.y=M.fy,M.vy=0)),n>2&&(M.fz==null?M.z+=M.vz*=u:(M.z=M.fz,M.vz=0));return r}function S(){for(var x=0,A=i.length,C;x<A;++x){if(C=i[x],C.index=x,C.fx!=null&&(C.x=C.fx),C.fy!=null&&(C.y=C.fy),C.fz!=null&&(C.z=C.fz),isNaN(C.x)||n>1&&isNaN(C.y)||n>2&&isNaN(C.z)){var M=lIt*(n>2?Math.cbrt(.5+x):n>1?Math.sqrt(.5+x):x),P=x*uIt,k=x*cIt;n===1?C.x=M:n===2?(C.x=M*Math.cos(P),C.y=M*Math.sin(P)):(C.x=M*Math.sin(P)*Math.cos(k),C.y=M*Math.cos(P),C.z=M*Math.sin(P)*Math.sin(k))}(isNaN(C.vx)||n>1&&isNaN(C.vy)||n>2&&isNaN(C.vz))&&(C.vx=0,n>1&&(C.vy=0),n>2&&(C.vz=0))}}function E(x){return x.initialize&&x.initialize(i,g,n),x}return S(),r={tick:b,restart:function(){return h.restart(v),r},stop:function(){return h.stop(),r},numDimensions:function(x){return arguments.length?(n=Math.min(f9,Math.max(1,Math.round(x))),c.forEach(E),r):n},nodes:function(x){return arguments.length?(i=x,S(),c.forEach(E),r):i},alpha:function(x){return arguments.length?(s=+x,r):s},alphaMin:function(x){return arguments.length?(a=+x,r):a},alphaDecay:function(x){return arguments.length?(o=+x,r):+o},alphaTarget:function(x){return arguments.length?(l=+x,r):l},velocityDecay:function(x){return arguments.length?(u=1-x,r):1-u},randomSource:function(x){return arguments.length?(g=x,c.forEach(E),r):g},force:function(x,A){return arguments.length>1?(A==null?c.delete(x):c.set(x,E(A)),r):c.get(x)},find:function(){var x=Array.prototype.slice.call(arguments),A=x.shift()||0,C=(n>1?x.shift():null)||0,M=(n>2?x.shift():null)||0,P=x.shift()||1/0,k=0,D=i.length,N,U,R,B,H,V;for(P*=P,k=0;k<D;++k)H=i[k],N=A-H.x,U=C-(H.y||0),R=M-(H.z||0),B=N*N+U*U+R*R,B<P&&(V=H,P=B);return V},on:function(x,A){return arguments.length>1?(p.on(x,A),r):p.on(x)}}}function wK(){var i,e,n,r,s,a=Sd(-30),o,l=1,u=1/0,c=.81;function h(b){var S,E=i.length,x=(e===1?vK(i,wD):e===2?bK(i,wD,h9):e===3?SK(i,wD,h9,oIt):null).visitAfter(g);for(s=b,S=0;S<E;++S)n=i[S],x.visit(v)}function p(){if(i){var b,S=i.length,E;for(o=new Array(S),b=0;b<S;++b)E=i[b],o[E.index]=+a(E,b,i)}}function g(b){var S=0,E,x,A=0,C,M,P,k,D=b.length;if(D){for(C=M=P=k=0;k<D;++k)(E=b[k])&&(x=Math.abs(E.value))&&(S+=E.value,A+=x,C+=x*(E.x||0),M+=x*(E.y||0),P+=x*(E.z||0));S*=Math.sqrt(4/D),b.x=C/A,e>1&&(b.y=M/A),e>2&&(b.z=P/A)}else{E=b,E.x=E.data.x,e>1&&(E.y=E.data.y),e>2&&(E.z=E.data.z);do S+=o[E.data.index];while(E=E.next)}b.value=S}function v(b,S,E,x,A){if(!b.value)return!0;var C=[E,x,A][e-1],M=b.x-n.x,P=e>1?b.y-n.y:0,k=e>2?b.z-n.z:0,D=C-S,N=M*M+P*P+k*k;if(D*D/c<N)return N<u&&(M===0&&(M=fd(r),N+=M*M),e>1&&P===0&&(P=fd(r),N+=P*P),e>2&&k===0&&(k=fd(r),N+=k*k),N<l&&(N=Math.sqrt(l*N)),n.vx+=M*b.value*s/N,e>1&&(n.vy+=P*b.value*s/N),e>2&&(n.vz+=k*b.value*s/N)),!0;if(b.length||N>=u)return;(b.data!==n||b.next)&&(M===0&&(M=fd(r),N+=M*M),e>1&&P===0&&(P=fd(r),N+=P*P),e>2&&k===0&&(k=fd(r),N+=k*k),N<l&&(N=Math.sqrt(l*N)));do b.data!==n&&(D=o[b.data.index]*s/N,n.vx+=M*D,e>1&&(n.vy+=P*D),e>2&&(n.vz+=k*D));while(b=b.next)}return h.initialize=function(b,...S){i=b,r=S.find(E=>typeof E=="function")||Math.random,e=S.find(E=>[1,2,3].includes(E))||2,p()},h.strength=function(b){return arguments.length?(a=typeof b=="function"?b:Sd(+b),p(),h):a},h.distanceMin=function(b){return arguments.length?(l=b*b,h):Math.sqrt(l)},h.distanceMax=function(b){return arguments.length?(u=b*b,h):Math.sqrt(u)},h.theta=function(b){return arguments.length?(c=b*b,h):Math.sqrt(c)},h}function AK(i,e,n,r){var s,a,o=Sd(.1),l,u;typeof i!="function"&&(i=Sd(+i)),e==null&&(e=0),n==null&&(n=0),r==null&&(r=0);function c(p){for(var g=0,v=s.length;g<v;++g){var b=s[g],S=b.x-e||1e-6,E=(b.y||0)-n||1e-6,x=(b.z||0)-r||1e-6,A=Math.sqrt(S*S+E*E+x*x),C=(u[g]-A)*l[g]*p/A;b.vx+=S*C,a>1&&(b.vy+=E*C),a>2&&(b.vz+=x*C)}}function h(){if(s){var p,g=s.length;for(l=new Array(g),u=new Array(g),p=0;p<g;++p)u[p]=+i(s[p],p,s),l[p]=isNaN(u[p])?0:+o(s[p],p,s)}}return c.initialize=function(p,...g){s=p,a=g.find(v=>[1,2,3].includes(v))||2,h()},c.strength=function(p){return arguments.length?(o=typeof p=="function"?p:Sd(+p),h(),c):o},c.radius=function(p){return arguments.length?(i=typeof p=="function"?p:Sd(+p),h(),c):i},c.x=function(p){return arguments.length?(e=+p,c):e},c.y=function(p){return arguments.length?(n=+p,c):n},c.z=function(p){return arguments.length?(r=+p,c):r},c}const{abs:u1,cos:id,sin:Hv,acos:fIt,atan2:c1,sqrt:qp,pow:Ru}=Math;function f1(i){return i<0?-Ru(-i,1/3):Ru(i,1/3)}const MK=Math.PI,NA=2*MK,Wp=MK/2,hIt=1e-6,AD=Number.MAX_SAFE_INTEGER||9007199254740991,MD=Number.MIN_SAFE_INTEGER||-9007199254740991,dIt={x:0,y:0,z:0},xe={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(i,e){const n=e(i);let r=n.x*n.x+n.y*n.y;return typeof n.z<"u"&&(r+=n.z*n.z),qp(r)},compute:function(i,e,n){if(i===0)return e[0].t=0,e[0];const r=e.length-1;if(i===1)return e[r].t=1,e[r];const s=1-i;let a=e;if(r===0)return e[0].t=i,e[0];if(r===1){const l={x:s*a[0].x+i*a[1].x,y:s*a[0].y+i*a[1].y,t:i};return n&&(l.z=s*a[0].z+i*a[1].z),l}if(r<4){let l=s*s,u=i*i,c,h,p,g=0;r===2?(a=[a[0],a[1],a[2],dIt],c=l,h=s*i*2,p=u):r===3&&(c=l*s,h=l*i*3,p=s*u*3,g=i*u);const v={x:c*a[0].x+h*a[1].x+p*a[2].x+g*a[3].x,y:c*a[0].y+h*a[1].y+p*a[2].y+g*a[3].y,t:i};return n&&(v.z=c*a[0].z+h*a[1].z+p*a[2].z+g*a[3].z),v}const o=JSON.parse(JSON.stringify(e));for(;o.length>1;){for(let l=0;l<o.length-1;l++)o[l]={x:o[l].x+(o[l+1].x-o[l].x)*i,y:o[l].y+(o[l+1].y-o[l].y)*i},typeof o[l].z<"u"&&(o[l].z=o[l].z+(o[l+1].z-o[l].z)*i);o.splice(o.length-1,1)}return o[0].t=i,o[0]},computeWithRatios:function(i,e,n,r){const s=1-i,a=n,o=e;let l=a[0],u=a[1],c=a[2],h=a[3],p;if(l*=s,u*=i,o.length===2)return p=l+u,{x:(l*o[0].x+u*o[1].x)/p,y:(l*o[0].y+u*o[1].y)/p,z:r?(l*o[0].z+u*o[1].z)/p:!1,t:i};if(l*=s,u*=2*s,c*=i*i,o.length===3)return p=l+u+c,{x:(l*o[0].x+u*o[1].x+c*o[2].x)/p,y:(l*o[0].y+u*o[1].y+c*o[2].y)/p,z:r?(l*o[0].z+u*o[1].z+c*o[2].z)/p:!1,t:i};if(l*=s,u*=1.5*s,c*=3*s,h*=i*i*i,o.length===4)return p=l+u+c+h,{x:(l*o[0].x+u*o[1].x+c*o[2].x+h*o[3].x)/p,y:(l*o[0].y+u*o[1].y+c*o[2].y+h*o[3].y)/p,z:r?(l*o[0].z+u*o[1].z+c*o[2].z+h*o[3].z)/p:!1,t:i}},derive:function(i,e){const n=[];for(let r=i,s=r.length,a=s-1;s>1;s--,a--){const o=[];for(let l=0,u;l<a;l++)u={x:a*(r[l+1].x-r[l].x),y:a*(r[l+1].y-r[l].y)},e&&(u.z=a*(r[l+1].z-r[l].z)),o.push(u);n.push(o),r=o}return n},between:function(i,e,n){return e<=i&&i<=n||xe.approximately(i,e)||xe.approximately(i,n)},approximately:function(i,e,n){return u1(i-e)<=(n||hIt)},length:function(i){const n=xe.Tvalues.length;let r=0;for(let s=0,a;s<n;s++)a=.5*xe.Tvalues[s]+.5,r+=xe.Cvalues[s]*xe.arcfn(a,i);return .5*r},map:function(i,e,n,r,s){const a=n-e,o=s-r,l=i-e,u=l/a;return r+o*u},lerp:function(i,e,n){const r={x:e.x+i*(n.x-e.x),y:e.y+i*(n.y-e.y)};return e.z!==void 0&&n.z!==void 0&&(r.z=e.z+i*(n.z-e.z)),r},pointToString:function(i){let e=i.x+"/"+i.y;return typeof i.z<"u"&&(e+="/"+i.z),e},pointsToString:function(i){return"["+i.map(xe.pointToString).join(", ")+"]"},copy:function(i){return JSON.parse(JSON.stringify(i))},angle:function(i,e,n){const r=e.x-i.x,s=e.y-i.y,a=n.x-i.x,o=n.y-i.y,l=r*o-s*a,u=r*a+s*o;return c1(l,u)},round:function(i,e){const n=""+i,r=n.indexOf(".");return parseFloat(n.substring(0,r+1+e))},dist:function(i,e){const n=i.x-e.x,r=i.y-e.y;return qp(n*n+r*r)},closest:function(i,e){let n=Ru(2,63),r,s;return i.forEach(function(a,o){s=xe.dist(e,a),s<n&&(n=s,r=o)}),{mdist:n,mpos:r}},abcratio:function(i,e){if(e!==2&&e!==3)return!1;if(typeof i>"u")i=.5;else if(i===0||i===1)return i;const n=Ru(i,e)+Ru(1-i,e),r=n-1;return u1(r/n)},projectionratio:function(i,e){if(e!==2&&e!==3)return!1;if(typeof i>"u")i=.5;else if(i===0||i===1)return i;const n=Ru(1-i,e),r=Ru(i,e)+n;return n/r},lli8:function(i,e,n,r,s,a,o,l){const u=(i*r-e*n)*(s-o)-(i-n)*(s*l-a*o),c=(i*r-e*n)*(a-l)-(e-r)*(s*l-a*o),h=(i-n)*(a-l)-(e-r)*(s-o);return h==0?!1:{x:u/h,y:c/h}},lli4:function(i,e,n,r){const s=i.x,a=i.y,o=e.x,l=e.y,u=n.x,c=n.y,h=r.x,p=r.y;return xe.lli8(s,a,o,l,u,c,h,p)},lli:function(i,e){return xe.lli4(i,i.c,e,e.c)},makeline:function(i,e){return new br(i.x,i.y,(i.x+e.x)/2,(i.y+e.y)/2,e.x,e.y)},findbbox:function(i){let e=AD,n=AD,r=MD,s=MD;return i.forEach(function(a){const o=a.bbox();e>o.x.min&&(e=o.x.min),n>o.y.min&&(n=o.y.min),r<o.x.max&&(r=o.x.max),s<o.y.max&&(s=o.y.max)}),{x:{min:e,mid:(e+r)/2,max:r,size:r-e},y:{min:n,mid:(n+s)/2,max:s,size:s-n}}},shapeintersections:function(i,e,n,r,s){if(!xe.bboxoverlap(e,r))return[];const a=[],o=[i.startcap,i.forward,i.back,i.endcap],l=[n.startcap,n.forward,n.back,n.endcap];return o.forEach(function(u){u.virtual||l.forEach(function(c){if(c.virtual)return;const h=u.intersects(c,s);h.length>0&&(h.c1=u,h.c2=c,h.s1=i,h.s2=n,a.push(h))})}),a},makeshape:function(i,e,n){const r=e.points.length,s=i.points.length,a=xe.makeline(e.points[r-1],i.points[0]),o=xe.makeline(i.points[s-1],e.points[0]),l={startcap:a,forward:i,back:e,endcap:o,bbox:xe.findbbox([a,i,e,o])};return l.intersections=function(u){return xe.shapeintersections(l,l.bbox,u,u.bbox,n)},l},getminmax:function(i,e,n){if(!n)return{min:0,max:0};let r=AD,s=MD,a,o;n.indexOf(0)===-1&&(n=[0].concat(n)),n.indexOf(1)===-1&&n.push(1);for(let l=0,u=n.length;l<u;l++)a=n[l],o=i.get(a),o[e]<r&&(r=o[e]),o[e]>s&&(s=o[e]);return{min:r,mid:(r+s)/2,max:s,size:s-r}},align:function(i,e){const n=e.p1.x,r=e.p1.y,s=-c1(e.p2.y-r,e.p2.x-n),a=function(o){return{x:(o.x-n)*id(s)-(o.y-r)*Hv(s),y:(o.x-n)*Hv(s)+(o.y-r)*id(s)}};return i.map(a)},roots:function(i,e){e=e||{p1:{x:0,y:0},p2:{x:1,y:0}};const n=i.length-1,r=xe.align(i,e),s=function(D){return 0<=D&&D<=1};if(n===2){const D=r[0].y,N=r[1].y,U=r[2].y,R=D-2*N+U;if(R!==0){const B=-qp(N*N-D*U),H=-D+N,V=-(B+H)/R,Y=-(-B+H)/R;return[V,Y].filter(s)}else if(N!==U&&R===0)return[(2*N-U)/(2*N-2*U)].filter(s);return[]}const a=r[0].y,o=r[1].y,l=r[2].y,u=r[3].y;let c=-a+3*o-3*l+u,h=3*a-6*o+3*l,p=-3*a+3*o,g=a;if(xe.approximately(c,0)){if(xe.approximately(h,0))return xe.approximately(p,0)?[]:[-g/p].filter(s);const D=qp(p*p-4*h*g),N=2*h;return[(D-p)/N,(-p-D)/N].filter(s)}h/=c,p/=c,g/=c;const v=(3*p-h*h)/3,b=v/3,S=(2*h*h*h-9*h*p+27*g)/27,E=S/2,x=E*E+b*b*b;let A,C,M,P,k;if(x<0){const D=-v/3,N=D*D*D,U=qp(N),R=-S/(2*U),B=R<-1?-1:R>1?1:R,H=fIt(B),V=f1(U),Y=2*V;return M=Y*id(H/3)-h/3,P=Y*id((H+NA)/3)-h/3,k=Y*id((H+2*NA)/3)-h/3,[M,P,k].filter(s)}else{if(x===0)return A=E<0?f1(-E):-f1(E),M=2*A-h/3,P=-A-h/3,[M,P].filter(s);{const D=qp(x);return A=f1(-E+D),C=f1(E+D),[A-C-h/3].filter(s)}}},droots:function(i){if(i.length===3){const e=i[0],n=i[1],r=i[2],s=e-2*n+r;if(s!==0){const a=-qp(n*n-e*r),o=-e+n,l=-(a+o)/s,u=-(-a+o)/s;return[l,u]}else if(n!==r&&s===0)return[(2*n-r)/(2*(n-r))];return[]}if(i.length===2){const e=i[0],n=i[1];return e!==n?[e/(e-n)]:[]}return[]},curvature:function(i,e,n,r,s){let a,o,l,u,c=0,h=0;const p=xe.compute(i,e),g=xe.compute(i,n),v=p.x*p.x+p.y*p.y;if(r?(a=qp(Ru(p.y*g.z-g.y*p.z,2)+Ru(p.z*g.x-g.z*p.x,2)+Ru(p.x*g.y-g.x*p.y,2)),o=Ru(v+p.z*p.z,3/2)):(a=p.x*g.y-p.y*g.x,o=Ru(v,3/2)),a===0||o===0)return{k:0,r:0};if(c=a/o,h=o/a,!s){const b=xe.curvature(i-.001,e,n,r,!0).k,S=xe.curvature(i+.001,e,n,r,!0).k;u=(S-c+(c-b))/2,l=(u1(S-c)+u1(c-b))/2}return{k:c,r:h,dk:u,adk:l}},inflections:function(i){if(i.length<4)return[];const e=xe.align(i,{p1:i[0],p2:i.slice(-1)[0]}),n=e[2].x*e[1].y,r=e[3].x*e[1].y,s=e[1].x*e[2].y,a=e[3].x*e[2].y,o=18*(-3*n+2*r+3*s-a),l=18*(3*n-r-3*s),u=18*(s-n);if(xe.approximately(o,0)){if(!xe.approximately(l,0)){let g=-u/l;if(0<=g&&g<=1)return[g]}return[]}const c=2*o;if(xe.approximately(c,0))return[];const h=l*l-4*o*u;if(h<0)return[];const p=Math.sqrt(h);return[(p-l)/c,-(l+p)/c].filter(function(g){return 0<=g&&g<=1})},bboxoverlap:function(i,e){const n=["x","y"],r=n.length;for(let s=0,a,o,l,u;s<r;s++)if(a=n[s],o=i[a].mid,l=e[a].mid,u=(i[a].size+e[a].size)/2,u1(o-l)>=u)return!1;return!0},expandbox:function(i,e){e.x.min<i.x.min&&(i.x.min=e.x.min),e.y.min<i.y.min&&(i.y.min=e.y.min),e.z&&e.z.min<i.z.min&&(i.z.min=e.z.min),e.x.max>i.x.max&&(i.x.max=e.x.max),e.y.max>i.y.max&&(i.y.max=e.y.max),e.z&&e.z.max>i.z.max&&(i.z.max=e.z.max),i.x.mid=(i.x.min+i.x.max)/2,i.y.mid=(i.y.min+i.y.max)/2,i.z&&(i.z.mid=(i.z.min+i.z.max)/2),i.x.size=i.x.max-i.x.min,i.y.size=i.y.max-i.y.min,i.z&&(i.z.size=i.z.max-i.z.min)},pairiteration:function(i,e,n){const r=i.bbox(),s=e.bbox(),a=1e5,o=n||.5;if(r.x.size+r.y.size<o&&s.x.size+s.y.size<o)return[(a*(i._t1+i._t2)/2|0)/a+"/"+(a*(e._t1+e._t2)/2|0)/a];let l=i.split(.5),u=e.split(.5),c=[{left:l.left,right:u.left},{left:l.left,right:u.right},{left:l.right,right:u.right},{left:l.right,right:u.left}];c=c.filter(function(p){return xe.bboxoverlap(p.left.bbox(),p.right.bbox())});let h=[];return c.length===0||(c.forEach(function(p){h=h.concat(xe.pairiteration(p.left,p.right,o))}),h=h.filter(function(p,g){return h.indexOf(p)===g})),h},getccenter:function(i,e,n){const r=e.x-i.x,s=e.y-i.y,a=n.x-e.x,o=n.y-e.y,l=r*id(Wp)-s*Hv(Wp),u=r*Hv(Wp)+s*id(Wp),c=a*id(Wp)-o*Hv(Wp),h=a*Hv(Wp)+o*id(Wp),p=(i.x+e.x)/2,g=(i.y+e.y)/2,v=(e.x+n.x)/2,b=(e.y+n.y)/2,S=p+l,E=g+u,x=v+c,A=b+h,C=xe.lli8(p,g,S,E,v,b,x,A),M=xe.dist(C,i);let P=c1(i.y-C.y,i.x-C.x),k=c1(e.y-C.y,e.x-C.x),D=c1(n.y-C.y,n.x-C.x),N;return P<D?((P>k||k>D)&&(P+=NA),P>D&&(N=D,D=P,P=N)):D<k&&k<P?(N=D,D=P,P=N):D+=NA,C.s=P,C.e=D,C.r=M,C},numberSort:function(i,e){return i-e}};class cS{constructor(e){this.curves=[],this._3d=!1,e&&(this.curves=e,this._3d=this.curves[0]._3d)}valueOf(){return this.toString()}toString(){return"["+this.curves.map(function(e){return xe.pointsToString(e.points)}).join(", ")+"]"}addCurve(e){this.curves.push(e),this._3d=this._3d||e._3d}length(){return this.curves.map(function(e){return e.length()}).reduce(function(e,n){return e+n})}curve(e){return this.curves[e]}bbox(){const e=this.curves;for(var n=e[0].bbox(),r=1;r<e.length;r++)xe.expandbox(n,e[r].bbox());return n}offset(e){const n=[];return this.curves.forEach(function(r){n.push(...r.offset(e))}),new cS(n)}}const{abs:h1,min:d9,max:p9,cos:pIt,sin:mIt,acos:gIt,sqrt:d1}=Math,yIt=Math.PI;class br{constructor(e){let n=e&&e.forEach?e:Array.from(arguments).slice(),r=!1;if(typeof n[0]=="object"){r=n.length;const v=[];n.forEach(function(b){["x","y","z"].forEach(function(S){typeof b[S]<"u"&&v.push(b[S])})}),n=v}let s=!1;const a=n.length;if(r){if(r>4){if(arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");s=!0}}else if(a!==6&&a!==8&&a!==9&&a!==12&&arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");const o=this._3d=!s&&(a===9||a===12)||e&&e[0]&&typeof e[0].z<"u",l=this.points=[];for(let v=0,b=o?3:2;v<a;v+=b){var u={x:n[v],y:n[v+1]};o&&(u.z=n[v+2]),l.push(u)}const c=this.order=l.length-1,h=this.dims=["x","y"];o&&h.push("z"),this.dimlen=h.length;const p=xe.align(l,{p1:l[0],p2:l[c]}),g=xe.dist(l[0],l[c]);this._linear=p.reduce((v,b)=>v+h1(b.y),0)<g/50,this._lut=[],this._t1=0,this._t2=1,this.update()}static quadraticFromPoints(e,n,r,s){if(typeof s>"u"&&(s=.5),s===0)return new br(n,n,r);if(s===1)return new br(e,n,n);const a=br.getABC(2,e,n,r,s);return new br(e,a.A,r)}static cubicFromPoints(e,n,r,s,a){typeof s>"u"&&(s=.5);const o=br.getABC(3,e,n,r,s);typeof a>"u"&&(a=xe.dist(n,o.C));const l=a*(1-s)/s,u=xe.dist(e,r),c=(r.x-e.x)/u,h=(r.y-e.y)/u,p=a*c,g=a*h,v=l*c,b=l*h,S={x:n.x-p,y:n.y-g},E={x:n.x+v,y:n.y+b},x=o.A,A={x:x.x+(S.x-x.x)/(1-s),y:x.y+(S.y-x.y)/(1-s)},C={x:x.x+(E.x-x.x)/s,y:x.y+(E.y-x.y)/s},M={x:e.x+(A.x-e.x)/s,y:e.y+(A.y-e.y)/s},P={x:r.x+(C.x-r.x)/(1-s),y:r.y+(C.y-r.y)/(1-s)};return new br(e,M,P,r)}static getUtils(){return xe}getUtils(){return br.getUtils()}static get PolyBezier(){return cS}valueOf(){return this.toString()}toString(){return xe.pointsToString(this.points)}toSVG(){if(this._3d)return!1;const e=this.points,n=e[0].x,r=e[0].y,s=["M",n,r,this.order===2?"Q":"C"];for(let a=1,o=e.length;a<o;a++)s.push(e[a].x),s.push(e[a].y);return s.join(" ")}setRatios(e){if(e.length!==this.points.length)throw new Error("incorrect number of ratio values");this.ratios=e,this._lut=[]}verify(){const e=this.coordDigest();e!==this._print&&(this._print=e,this.update())}coordDigest(){return this.points.map(function(e,n){return""+n+e.x+e.y+(e.z?e.z:0)}).join("")}update(){this._lut=[],this.dpoints=xe.derive(this.points,this._3d),this.computedirection()}computedirection(){const e=this.points,n=xe.angle(e[0],e[this.order],e[1]);this.clockwise=n>0}length(){return xe.length(this.derivative.bind(this))}static getABC(e=2,n,r,s,a=.5){const o=xe.projectionratio(a,e),l=1-o,u={x:o*n.x+l*s.x,y:o*n.y+l*s.y},c=xe.abcratio(a,e);return{A:{x:r.x+(r.x-u.x)/c,y:r.y+(r.y-u.y)/c},B:r,C:u,S:n,E:s}}getABC(e,n){n=n||this.get(e);let r=this.points[0],s=this.points[this.order];return br.getABC(this.order,r,n,s,e)}getLUT(e){if(this.verify(),e=e||100,this._lut.length===e+1)return this._lut;this._lut=[],e++,this._lut=[];for(let n=0,r,s;n<e;n++)s=n/(e-1),r=this.compute(s),r.t=s,this._lut.push(r);return this._lut}on(e,n){n=n||5;const r=this.getLUT(),s=[];for(let a=0,o,l=0;a<r.length;a++)o=r[a],xe.dist(o,e)<n&&(s.push(o),l+=a/r.length);return s.length?t/=s.length:!1}project(e){const n=this.getLUT(),r=n.length-1,s=xe.closest(n,e),a=s.mpos,o=(a-1)/r,l=(a+1)/r,u=.1/r;let c=s.mdist,h=o,p=h,g;c+=1;for(let v;h<l+u;h+=u)g=this.compute(h),v=xe.dist(e,g),v<c&&(c=v,p=h);return p=p<0?0:p>1?1:p,g=this.compute(p),g.t=p,g.d=c,g}get(e){return this.compute(e)}point(e){return this.points[e]}compute(e){return this.ratios?xe.computeWithRatios(e,this.points,this.ratios,this._3d):xe.compute(e,this.points,this._3d,this.ratios)}raise(){const e=this.points,n=[e[0]],r=e.length;for(let s=1,a,o;s<r;s++)a=e[s],o=e[s-1],n[s]={x:(r-s)/r*a.x+s/r*o.x,y:(r-s)/r*a.y+s/r*o.y};return n[r]=e[r-1],new br(n)}derivative(e){return xe.compute(e,this.dpoints[0],this._3d)}dderivative(e){return xe.compute(e,this.dpoints[1],this._3d)}align(){let e=this.points;return new br(xe.align(e,{p1:e[0],p2:e[e.length-1]}))}curvature(e){return xe.curvature(e,this.dpoints[0],this.dpoints[1],this._3d)}inflections(){return xe.inflections(this.points)}normal(e){return this._3d?this.__normal3(e):this.__normal2(e)}__normal2(e){const n=this.derivative(e),r=d1(n.x*n.x+n.y*n.y);return{t:e,x:-n.y/r,y:n.x/r}}__normal3(e){const n=this.derivative(e),r=this.derivative(e+.01),s=d1(n.x*n.x+n.y*n.y+n.z*n.z),a=d1(r.x*r.x+r.y*r.y+r.z*r.z);n.x/=s,n.y/=s,n.z/=s,r.x/=a,r.y/=a,r.z/=a;const o={x:r.y*n.z-r.z*n.y,y:r.z*n.x-r.x*n.z,z:r.x*n.y-r.y*n.x},l=d1(o.x*o.x+o.y*o.y+o.z*o.z);o.x/=l,o.y/=l,o.z/=l;const u=[o.x*o.x,o.x*o.y-o.z,o.x*o.z+o.y,o.x*o.y+o.z,o.y*o.y,o.y*o.z-o.x,o.x*o.z-o.y,o.y*o.z+o.x,o.z*o.z];return{t:e,x:u[0]*n.x+u[1]*n.y+u[2]*n.z,y:u[3]*n.x+u[4]*n.y+u[5]*n.z,z:u[6]*n.x+u[7]*n.y+u[8]*n.z}}hull(e){let n=this.points,r=[],s=[],a=0;for(s[a++]=n[0],s[a++]=n[1],s[a++]=n[2],this.order===3&&(s[a++]=n[3]);n.length>1;){r=[];for(let o=0,l,u=n.length-1;o<u;o++)l=xe.lerp(e,n[o],n[o+1]),s[a++]=l,r.push(l);n=r}return s}split(e,n){if(e===0&&n)return this.split(n).left;if(n===1)return this.split(e).right;const r=this.hull(e),s={left:this.order===2?new br([r[0],r[3],r[5]]):new br([r[0],r[4],r[7],r[9]]),right:this.order===2?new br([r[5],r[4],r[2]]):new br([r[9],r[8],r[6],r[3]]),span:r};return s.left._t1=xe.map(0,0,1,this._t1,this._t2),s.left._t2=xe.map(e,0,1,this._t1,this._t2),s.right._t1=xe.map(e,0,1,this._t1,this._t2),s.right._t2=xe.map(1,0,1,this._t1,this._t2),n?(n=xe.map(n,e,1,0,1),s.right.split(n).left):s}extrema(){const e={};let n=[];return this.dims.forEach((function(r){let s=function(o){return o[r]},a=this.dpoints[0].map(s);e[r]=xe.droots(a),this.order===3&&(a=this.dpoints[1].map(s),e[r]=e[r].concat(xe.droots(a))),e[r]=e[r].filter(function(o){return o>=0&&o<=1}),n=n.concat(e[r].sort(xe.numberSort))}).bind(this)),e.values=n.sort(xe.numberSort).filter(function(r,s){return n.indexOf(r)===s}),e}bbox(){const e=this.extrema(),n={};return this.dims.forEach((function(r){n[r]=xe.getminmax(this,r,e[r])}).bind(this)),n}overlaps(e){const n=this.bbox(),r=e.bbox();return xe.bboxoverlap(n,r)}offset(e,n){if(typeof n<"u"){const r=this.get(e),s=this.normal(e),a={c:r,n:s,x:r.x+s.x*n,y:r.y+s.y*n};return this._3d&&(a.z=r.z+s.z*n),a}if(this._linear){const r=this.normal(0),s=this.points.map(function(a){const o={x:a.x+e*r.x,y:a.y+e*r.y};return a.z&&r.z&&(o.z=a.z+e*r.z),o});return[new br(s)]}return this.reduce().map(function(r){return r._linear?r.offset(e)[0]:r.scale(e)})}simple(){if(this.order===3){const s=xe.angle(this.points[0],this.points[3],this.points[1]),a=xe.angle(this.points[0],this.points[3],this.points[2]);if(s>0&&a<0||s<0&&a>0)return!1}const e=this.normal(0),n=this.normal(1);let r=e.x*n.x+e.y*n.y;return this._3d&&(r+=e.z*n.z),h1(gIt(r))<yIt/3}reduce(){let e,n=0,r=0,s=.01,a,o=[],l=[],u=this.extrema().values;for(u.indexOf(0)===-1&&(u=[0].concat(u)),u.indexOf(1)===-1&&u.push(1),n=u[0],e=1;e<u.length;e++)r=u[e],a=this.split(n,r),a._t1=n,a._t2=r,o.push(a),n=r;return o.forEach(function(c){for(n=0,r=0;r<=1;)for(r=n+s;r<=1+s;r+=s)if(a=c.split(n,r),!a.simple()){if(r-=s,h1(n-r)<s)return[];a=c.split(n,r),a._t1=xe.map(n,0,1,c._t1,c._t2),a._t2=xe.map(r,0,1,c._t1,c._t2),l.push(a),n=r;break}n<1&&(a=c.split(n,1),a._t1=xe.map(n,0,1,c._t1,c._t2),a._t2=c._t2,l.push(a))}),l}translate(e,n,r){r=typeof r=="number"?r:n;const s=this.order;let a=this.points.map((o,l)=>(1-l/s)*n+l/s*r);return new br(this.points.map((o,l)=>({x:o.x+e.x*a[l],y:o.y+e.y*a[l]})))}scale(e){const n=this.order;let r=!1;if(typeof e=="function"&&(r=e),r&&n===2)return this.raise().scale(r);const s=this.clockwise,a=this.points;if(this._linear)return this.translate(this.normal(0),r?r(0):e,r?r(1):e);const o=r?r(0):e,l=r?r(1):e,u=[this.offset(0,10),this.offset(1,10)],c=[],h=xe.lli4(u[0],u[0].c,u[1],u[1].c);if(!h)throw new Error("cannot scale this curve. Try reducing it first.");return[0,1].forEach(function(p){const g=c[p*n]=xe.copy(a[p*n]);g.x+=(p?l:o)*u[p].n.x,g.y+=(p?l:o)*u[p].n.y}),r?([0,1].forEach(function(p){if(!(n===2&&p)){var g=a[p+1],v={x:g.x-h.x,y:g.y-h.y},b=r?r((p+1)/n):e;r&&!s&&(b=-b);var S=d1(v.x*v.x+v.y*v.y);v.x/=S,v.y/=S,c[p+1]={x:g.x+b*v.x,y:g.y+b*v.y}}}),new br(c)):([0,1].forEach(p=>{if(n===2&&p)return;const g=c[p*n],v=this.derivative(p),b={x:g.x+v.x,y:g.y+v.y};c[p+1]=xe.lli4(g,b,h,a[p+1])}),new br(c))}outline(e,n,r,s){if(n=n===void 0?e:n,this._linear){const P=this.normal(0),k=this.points[0],D=this.points[this.points.length-1];let N,U,R;r===void 0&&(r=e,s=n),N={x:k.x+P.x*e,y:k.y+P.y*e},R={x:D.x+P.x*r,y:D.y+P.y*r},U={x:(N.x+R.x)/2,y:(N.y+R.y)/2};const B=[N,U,R];N={x:k.x-P.x*n,y:k.y-P.y*n},R={x:D.x-P.x*s,y:D.y-P.y*s},U={x:(N.x+R.x)/2,y:(N.y+R.y)/2};const H=[R,U,N],V=xe.makeline(H[2],B[0]),Y=xe.makeline(B[2],H[0]),et=[V,new br(B),Y,new br(H)];return new cS(et)}const a=this.reduce(),o=a.length,l=[];let u=[],c,h=0,p=this.length();const g=typeof r<"u"&&typeof s<"u";function v(P,k,D,N,U){return function(R){const B=N/D,H=(N+U)/D,V=k-P;return xe.map(R,0,1,P+B*V,P+H*V)}}a.forEach(function(P){const k=P.length();g?(l.push(P.scale(v(e,r,p,h,k))),u.push(P.scale(v(-n,-s,p,h,k)))):(l.push(P.scale(e)),u.push(P.scale(-n))),h+=k}),u=u.map(function(P){return c=P.points,c[3]?P.points=[c[3],c[2],c[1],c[0]]:P.points=[c[2],c[1],c[0]],P}).reverse();const b=l[0].points[0],S=l[o-1].points[l[o-1].points.length-1],E=u[o-1].points[u[o-1].points.length-1],x=u[0].points[0],A=xe.makeline(E,b),C=xe.makeline(S,x),M=[A].concat(l).concat([C]).concat(u);return new cS(M)}outlineshapes(e,n,r){n=n||e;const s=this.outline(e,n).curves,a=[];for(let o=1,l=s.length;o<l/2;o++){const u=xe.makeshape(s[o],s[l-o],r);u.startcap.virtual=o>1,u.endcap.virtual=o<l/2-1,a.push(u)}return a}intersects(e,n){return e?e.p1&&e.p2?this.lineIntersects(e):(e instanceof br&&(e=e.reduce()),this.curveintersects(this.reduce(),e,n)):this.selfintersects(n)}lineIntersects(e){const n=d9(e.p1.x,e.p2.x),r=d9(e.p1.y,e.p2.y),s=p9(e.p1.x,e.p2.x),a=p9(e.p1.y,e.p2.y);return xe.roots(this.points,e).filter(o=>{var l=this.get(o);return xe.between(l.x,n,s)&&xe.between(l.y,r,a)})}selfintersects(e){const n=this.reduce(),r=n.length-2,s=[];for(let a=0,o,l,u;a<r;a++)l=n.slice(a,a+1),u=n.slice(a+2),o=this.curveintersects(l,u,e),s.push(...o);return s}curveintersects(e,n,r){const s=[];e.forEach(function(o){n.forEach(function(l){o.overlaps(l)&&s.push({left:o,right:l})})});let a=[];return s.forEach(function(o){const l=xe.pairiteration(o.left,o.right,r);l.length>0&&(a=a.concat(l))}),a}arcs(e){return e=e||.5,this._iterate(e,[])}_error(e,n,r,s){const a=(s-r)/4,o=this.get(r+a),l=this.get(s-a),u=xe.dist(e,n),c=xe.dist(e,o),h=xe.dist(e,l);return h1(c-u)+h1(h-u)}_iterate(e,n){let r=0,s=1,a;do{a=0,s=1;let o=this.get(r),l,u,c,h,p=!1,g=!1,v,b=s,S=1;do if(g=p,h=c,b=(r+s)/2,l=this.get(b),u=this.get(s),c=xe.getccenter(o,l,u),c.interval={start:r,end:s},p=this._error(c,o,r,s)<=e,v=g&&!p,v||(S=s),p){if(s>=1){if(c.interval.end=S=1,h=c,s>1){let x={x:c.x+c.r*pIt(c.e),y:c.y+c.r*mIt(c.e)};c.e+=xe.angle({x:c.x,y:c.y},x,this.get(1))}break}s=s+(s-r)/2}else s=b;while(!v&&a++<100);if(a>=100)break;h=h||c,n.push(h),r=S}while(s<1);return n}}function sL(i,e){(e==null||e>i.length)&&(e=i.length);for(var n=0,r=Array(e);n<e;n++)r[n]=i[n];return r}function vIt(i){if(Array.isArray(i))return i}function _It(i){if(Array.isArray(i))return sL(i)}function bIt(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function xIt(i,e){var n=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(n!=null){var r,s,a,o,l=[],u=!0,c=!1;try{if(a=(n=n.call(i)).next,e!==0)for(;!(u=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(h){c=!0,s=h}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw s}}return l}}function SIt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EIt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TIt(i,e){if(i==null)return{};var n,r,s=wIt(i,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(r=0;r<a.length;r++)n=a[r],e.includes(n)||{}.propertyIsEnumerable.call(i,n)&&(s[n]=i[n])}return s}function wIt(i,e){if(i==null)return{};var n={};for(var r in i)if({}.hasOwnProperty.call(i,r)){if(e.includes(r))continue;n[r]=i[r]}return n}function AIt(i,e){return vIt(i)||xIt(i,e)||CK(i,e)||SIt()}function MIt(i){return _It(i)||bIt(i)||CK(i)||EIt()}function CIt(i,e){if(typeof i!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var r=n.call(i,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}function RIt(i){var e=CIt(i,"string");return typeof e=="symbol"?e:e+""}function CK(i,e){if(i){if(typeof i=="string")return sL(i,e);var n={}.toString.call(i).slice(8,-1);return n==="Object"&&i.constructor&&(n=i.constructor.name),n==="Map"||n==="Set"?Array.from(i):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sL(i,e):void 0}}var OIt=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=(e instanceof Array?e.length?e:[void 0]:[e]).map(function(l){return{keyAccessor:l,isProp:!(l instanceof Function)}}),a=i.reduce(function(l,u){var c=l,h=u;return s.forEach(function(p,g){var v=p.keyAccessor,b=p.isProp,S;if(b){var E=h,x=E[v],A=TIt(E,[v].map(RIt));S=x,h=A}else S=v(h,g);g+1<s.length?(c.hasOwnProperty(S)||(c[S]={}),c=c[S]):n?(c.hasOwnProperty(S)||(c[S]=[]),c[S].push(h)):c[S]=h}),l},{});n instanceof Function&&function l(u){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;c===s.length?Object.keys(u).forEach(function(h){return u[h]=n(u[h])}):Object.values(u).forEach(function(h){return l(h,c+1)})}(a);var o=a;return r&&(o=[],function l(u){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];c.length===s.length?o.push({keys:c,vals:u}):Object.entries(u).forEach(function(h){var p=AIt(h,2),g=p[0],v=p[1];return l(v,[].concat(MIt(c),[g]))})}(a),e instanceof Array&&e.length===0&&o.length===1&&(o[0].keys=[])),o};function PIt(i,e){switch(arguments.length){case 0:break;case 1:this.range(i);break;default:this.range(e).domain(i);break}return this}const m9=Symbol("implicit");function Bk(){var i=new z8,e=[],n=[],r=m9;function s(a){let o=i.get(a);if(o===void 0){if(r!==m9)return r;i.set(a,o=e.push(a)-1)}return n[o%n.length]}return s.domain=function(a){if(!arguments.length)return e.slice();e=[],i=new z8;for(const o of a)i.has(o)||i.set(o,e.push(o)-1);return s},s.range=function(a){return arguments.length?(n=Array.from(a),s):n.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.copy=function(){return Bk(e,n).unknown(r)},PIt.apply(s,arguments),s}function IIt(i){for(var e=i.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+i.slice(r*6,++r*6);return n}const RK=IIt("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928");function DIt(i,e){e===void 0&&(e={});var n=e.insertAt;if(!(typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",n==="top"&&r.firstChild?r.insertBefore(s,r.firstChild):r.appendChild(s),s.styleSheet?s.styleSheet.cssText=i:s.appendChild(document.createTextNode(i))}}var NIt=`.force-graph-container canvas {
  display: block;
  user-select: none;
  outline: none;
  -webkit-tap-highlight-color: transparent;
}

.force-graph-container .clickable {
  cursor: pointer;
}

.force-graph-container .grabbable {
  cursor: move;
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}

.force-graph-container .grabbable:active {
  cursor: grabbing;
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
}
`;DIt(NIt);function aL(i,e){(e==null||e>i.length)&&(e=i.length);for(var n=0,r=Array(e);n<e;n++)r[n]=i[n];return r}function LIt(i){if(Array.isArray(i))return i}function UIt(i){if(Array.isArray(i))return aL(i)}function g9(i,e,n){if(OK())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var s=new(i.bind.apply(i,r));return s}function cE(i,e,n){return(e=HIt(e))in i?Object.defineProperty(i,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[e]=n,i}function OK(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OK=function(){return!!i})()}function kIt(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function zIt(i,e){var n=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(n!=null){var r,s,a,o,l=[],u=!0,c=!1;try{if(a=(n=n.call(i)).next,e!==0)for(;!(u=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(h){c=!0,s=h}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw s}}return l}}function BIt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FIt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y9(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(i,s).enumerable})),n.push.apply(n,r)}return n}function jv(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y9(Object(n),!0).forEach(function(r){cE(i,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):y9(Object(n)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(n,r))})}return i}function fS(i,e){return LIt(i)||zIt(i,e)||PK(i,e)||BIt()}function Nu(i){return UIt(i)||kIt(i)||PK(i)||FIt()}function VIt(i,e){if(typeof i!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var r=n.call(i,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function HIt(i){var e=VIt(i,"string");return typeof e=="symbol"?e:e+""}function oL(i){"@babel/helpers - typeof";return oL=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oL(i)}function PK(i,e){if(i){if(typeof i=="string")return aL(i,e);var n={}.toString.call(i).slice(8,-1);return n==="Object"&&i.constructor&&(n=i.constructor.name),n==="Map"||n==="Set"?Array.from(i):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?aL(i,e):void 0}}var jIt=Bk(RK);function v9(i,e,n){!e||typeof n!="string"||i.filter(function(r){return!r[n]}).forEach(function(r){r[n]=jIt(e(r))})}function GIt(i,e){var n=i.nodes,r=i.links,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=s.nodeFilter,o=a===void 0?function(){return!0}:a,l=s.onLoopError,u=l===void 0?function(v){throw"Invalid DAG structure! Found cycle in node path: ".concat(v.join(" -> "),".")}:l,c={};n.forEach(function(v){return c[e(v)]={data:v,out:[],depth:-1,skip:!o(v)}}),r.forEach(function(v){var b=v.source,S=v.target,E=M(b),x=M(S);if(!c.hasOwnProperty(E))throw"Missing source node with id: ".concat(E);if(!c.hasOwnProperty(x))throw"Missing target node with id: ".concat(x);var A=c[E],C=c[x];A.out.push(C);function M(P){return oL(P)==="object"?e(P):P}});var h=[];g(Object.values(c));var p=Object.assign.apply(Object,[{}].concat(Nu(Object.entries(c).filter(function(v){var b=fS(v,2),S=b[1];return!S.skip}).map(function(v){var b=fS(v,2),S=b[0],E=b[1];return cE({},S,E.depth)}))));return p;function g(v){for(var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,E=function(){var M=v[x];if(b.indexOf(M)!==-1){var P=[].concat(Nu(b.slice(b.indexOf(M))),[M]).map(function(k){return e(k.data)});return h.some(function(k){return k.length===P.length&&k.every(function(D,N){return D===P[N]})})||(h.push(P),u(P)),1}S>M.depth&&(M.depth=S,g(M.out,[].concat(Nu(b),[M]),S+(M.skip?0:1)))},x=0,A=v.length;x<A;x++)E()}}var $It=2,Va=function(e,n){return n.onNeedsRedraw&&n.onNeedsRedraw()},_9=function(e,n){if(!n.isShadow){var r=Ke(n.linkDirectionalParticles);n.graphData.links.forEach(function(s){var a=Math.round(Math.abs(r(s)));a?s.__photons=Nu(Array(a)).map(function(){return{}}):delete s.__photons})}},A2=yO({props:{graphData:{default:{nodes:[],links:[]},onChange:function(e,n){n.engineRunning=!1,_9(e,n)}},dagMode:{onChange:function(e,n){!e&&(n.graphData.nodes||[]).forEach(function(r){return r.fx=r.fy=void 0})}},dagLevelDistance:{},dagNodeFilter:{default:function(e){return!0}},onDagError:{triggerUpdate:!1},nodeRelSize:{default:4,triggerUpdate:!1,onChange:Va},nodeId:{default:"id"},nodeVal:{default:"val",triggerUpdate:!1,onChange:Va},nodeColor:{default:"color",triggerUpdate:!1,onChange:Va},nodeAutoColorBy:{},nodeCanvasObject:{triggerUpdate:!1,onChange:Va},nodeCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:Va},nodeVisibility:{default:!0,triggerUpdate:!1,onChange:Va},linkSource:{default:"source"},linkTarget:{default:"target"},linkVisibility:{default:!0,triggerUpdate:!1,onChange:Va},linkColor:{default:"color",triggerUpdate:!1,onChange:Va},linkAutoColorBy:{},linkLineDash:{triggerUpdate:!1,onChange:Va},linkWidth:{default:1,triggerUpdate:!1,onChange:Va},linkCurvature:{default:0,triggerUpdate:!1,onChange:Va},linkCanvasObject:{triggerUpdate:!1,onChange:Va},linkCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:Va},linkDirectionalArrowLength:{default:0,triggerUpdate:!1,onChange:Va},linkDirectionalArrowColor:{triggerUpdate:!1,onChange:Va},linkDirectionalArrowRelPos:{default:.5,triggerUpdate:!1,onChange:Va},linkDirectionalParticles:{default:0,triggerUpdate:!1,onChange:_9},linkDirectionalParticleSpeed:{default:.01,triggerUpdate:!1},linkDirectionalParticleWidth:{default:4,triggerUpdate:!1},linkDirectionalParticleColor:{triggerUpdate:!1},globalScale:{default:1,triggerUpdate:!1},d3AlphaMin:{default:0,triggerUpdate:!1},d3AlphaDecay:{default:.0228,triggerUpdate:!1,onChange:function(e,n){n.forceLayout.alphaDecay(e)}},d3AlphaTarget:{default:0,triggerUpdate:!1,onChange:function(e,n){n.forceLayout.alphaTarget(e)}},d3VelocityDecay:{default:.4,triggerUpdate:!1,onChange:function(e,n){n.forceLayout.velocityDecay(e)}},warmupTicks:{default:0,triggerUpdate:!1},cooldownTicks:{default:1/0,triggerUpdate:!1},cooldownTime:{default:15e3,triggerUpdate:!1},onUpdate:{default:function(){},triggerUpdate:!1},onFinishUpdate:{default:function(){},triggerUpdate:!1},onEngineTick:{default:function(){},triggerUpdate:!1},onEngineStop:{default:function(){},triggerUpdate:!1},onNeedsRedraw:{triggerUpdate:!1},isShadow:{default:!1,triggerUpdate:!1}},methods:{d3Force:function(e,n,r){return r===void 0?e.forceLayout.force(n):(e.forceLayout.force(n,r),this)},d3ReheatSimulation:function(e){return e.forceLayout.alpha(1),this.resetCountdown(),this},resetCountdown:function(e){return e.cntTicks=0,e.startTickTime=new Date,e.engineRunning=!0,this},isEngineRunning:function(e){return!!e.engineRunning},tickFrame:function(e){return!e.isShadow&&n(),s(),!e.isShadow&&a(),!e.isShadow&&o(),r(),this;function n(){e.engineRunning&&(++e.cntTicks>e.cooldownTicks||new Date-e.startTickTime>e.cooldownTime||e.d3AlphaMin>0&&e.forceLayout.alpha()<e.d3AlphaMin?(e.engineRunning=!1,e.onEngineStop()):(e.forceLayout.tick(),e.onEngineTick()))}function r(){var l=Ke(e.nodeVisibility),u=Ke(e.nodeVal),c=Ke(e.nodeColor),h=Ke(e.nodeCanvasObjectMode),p=e.ctx,g=e.isShadow/e.globalScale,v=e.graphData.nodes.filter(l);p.save(),v.forEach(function(b){var S=h(b);if(e.nodeCanvasObject&&(S==="before"||S==="replace")&&(e.nodeCanvasObject(b,p,e.globalScale),S==="replace")){p.restore();return}var E=Math.sqrt(Math.max(0,u(b)||1))*e.nodeRelSize+g;p.beginPath(),p.arc(b.x,b.y,E,0,2*Math.PI,!1),p.fillStyle=c(b)||"rgba(31, 120, 180, 0.92)",p.fill(),e.nodeCanvasObject&&S==="after"&&e.nodeCanvasObject(b,e.ctx,e.globalScale)}),p.restore()}function s(){var l=Ke(e.linkVisibility),u=Ke(e.linkColor),c=Ke(e.linkWidth),h=Ke(e.linkLineDash),p=Ke(e.linkCurvature),g=Ke(e.linkCanvasObjectMode),v=e.ctx,b=e.isShadow*2,S=e.graphData.links.filter(l);S.forEach(k);var E=[],x=[],A=S;if(e.linkCanvasObject){var C=[],M=[];S.forEach(function(D){return({before:E,after:x,replace:C}[g(D)]||M).push(D)}),A=[].concat(Nu(E),x,M),E=E.concat(C)}v.save(),E.forEach(function(D){return e.linkCanvasObject(D,v,e.globalScale)}),v.restore();var P=OIt(A,[u,c,h]);v.save(),Object.entries(P).forEach(function(D){var N=fS(D,2),U=N[0],R=N[1],B=!U||U==="undefined"?"rgba(0,0,0,0.15)":U;Object.entries(R).forEach(function(H){var V=fS(H,2),Y=V[0],et=V[1],G=(Y||1)/e.globalScale+b;Object.entries(et).forEach(function(X){var J=fS(X,2);J[0];var nt=J[1],Z=h(nt[0]);v.beginPath(),nt.forEach(function(dt){var yt=dt.source,xt=dt.target;if(!(!yt||!xt||!yt.hasOwnProperty("x")||!xt.hasOwnProperty("x"))){v.moveTo(yt.x,yt.y);var it=dt.__controlPoints;it?v[it.length===2?"quadraticCurveTo":"bezierCurveTo"].apply(v,Nu(it).concat([xt.x,xt.y])):v.lineTo(xt.x,xt.y)}}),v.strokeStyle=B,v.lineWidth=G,v.setLineDash(Z||[]),v.stroke()})})}),v.restore(),v.save(),x.forEach(function(D){return e.linkCanvasObject(D,v,e.globalScale)}),v.restore();function k(D){var N=p(D);if(!N){D.__controlPoints=null;return}var U=D.source,R=D.target;if(!(!U||!R||!U.hasOwnProperty("x")||!R.hasOwnProperty("x"))){var B=Math.sqrt(Math.pow(R.x-U.x,2)+Math.pow(R.y-U.y,2));if(B>0){var H=Math.atan2(R.y-U.y,R.x-U.x),V=B*N,Y={x:(U.x+R.x)/2+V*Math.cos(H-Math.PI/2),y:(U.y+R.y)/2+V*Math.sin(H-Math.PI/2)};D.__controlPoints=[Y.x,Y.y]}else{var et=N*70;D.__controlPoints=[R.x,R.y-et,R.x+et,R.y]}}}}function a(){var l=1.6,u=.2,c=Ke(e.linkDirectionalArrowLength),h=Ke(e.linkDirectionalArrowRelPos),p=Ke(e.linkVisibility),g=Ke(e.linkDirectionalArrowColor||e.linkColor),v=Ke(e.nodeVal),b=e.ctx;b.save(),e.graphData.links.filter(p).forEach(function(S){var E=c(S);if(!(!E||E<0)){var x=S.source,A=S.target;if(!(!x||!A||!x.hasOwnProperty("x")||!A.hasOwnProperty("x"))){var C=Math.sqrt(Math.max(0,v(x)||1))*e.nodeRelSize,M=Math.sqrt(Math.max(0,v(A)||1))*e.nodeRelSize,P=Math.min(1,Math.max(0,h(S))),k=g(S)||"rgba(0,0,0,0.28)",D=E/l/2,N=S.__controlPoints&&g9(br,[x.x,x.y].concat(Nu(S.__controlPoints),[A.x,A.y])),U=N?function(G){return N.get(G)}:function(G){return{x:x.x+(A.x-x.x)*G||0,y:x.y+(A.y-x.y)*G||0}},R=N?N.length():Math.sqrt(Math.pow(A.x-x.x,2)+Math.pow(A.y-x.y,2)),B=C+E+(R-C-M-E)*P,H=U(B/R),V=U((B-E)/R),Y=U((B-E*(1-u))/R),et=Math.atan2(H.y-V.y,H.x-V.x)-Math.PI/2;b.beginPath(),b.moveTo(H.x,H.y),b.lineTo(V.x+D*Math.cos(et),V.y+D*Math.sin(et)),b.lineTo(Y.x,Y.y),b.lineTo(V.x-D*Math.cos(et),V.y-D*Math.sin(et)),b.fillStyle=k,b.fill()}}}),b.restore()}function o(){var l=Ke(e.linkDirectionalParticles),u=Ke(e.linkDirectionalParticleSpeed),c=Ke(e.linkDirectionalParticleWidth),h=Ke(e.linkVisibility),p=Ke(e.linkDirectionalParticleColor||e.linkColor),g=e.ctx;g.save(),e.graphData.links.filter(h).forEach(function(v){var b=l(v);if(!(!v.hasOwnProperty("__photons")||!v.__photons.length)){var S=v.source,E=v.target;if(!(!S||!E||!S.hasOwnProperty("x")||!E.hasOwnProperty("x"))){var x=u(v),A=v.__photons||[],C=Math.max(0,c(v)/2)/Math.sqrt(e.globalScale),M=p(v)||"rgba(0,0,0,0.28)";g.fillStyle=M;var P=v.__controlPoints?g9(br,[S.x,S.y].concat(Nu(v.__controlPoints),[E.x,E.y])):null,k=0,D=!1;A.forEach(function(N){var U=!!N.__singleHop;if(N.hasOwnProperty("__progressRatio")||(N.__progressRatio=U?0:k/b),!U&&k++,N.__progressRatio+=x,N.__progressRatio>=1)if(!U)N.__progressRatio=N.__progressRatio%1;else{D=!0;return}var R=N.__progressRatio,B=P?P.get(R):{x:S.x+(E.x-S.x)*R||0,y:S.y+(E.y-S.y)*R||0};g.beginPath(),g.arc(B.x,B.y,C,0,2*Math.PI,!1),g.fill()}),D&&(v.__photons=v.__photons.filter(function(N){return!N.__singleHop||N.__progressRatio<=1}))}}}),g.restore()}},emitParticle:function(e,n){return n&&(!n.__photons&&(n.__photons=[]),n.__photons.push({__singleHop:!0})),this}},stateInit:function(){return{forceLayout:TK().force("link",EK()).force("charge",wK()).force("center",gK()).force("dagRadial",null).stop(),engineRunning:!1}},init:function(e,n){n.ctx=e},update:function(e,n){e.engineRunning=!1,e.onUpdate(),e.nodeAutoColorBy!==null&&v9(e.graphData.nodes,Ke(e.nodeAutoColorBy),e.nodeColor),e.linkAutoColorBy!==null&&v9(e.graphData.links,Ke(e.linkAutoColorBy),e.linkColor),e.graphData.links.forEach(function(g){g.source=g[e.linkSource],g.target=g[e.linkTarget]}),e.forceLayout.stop().alpha(1).nodes(e.graphData.nodes);var r=e.forceLayout.force("link");r&&r.id(function(g){return g[e.nodeId]}).links(e.graphData.links);var s=e.dagMode&&GIt(e.graphData,function(g){return g[e.nodeId]},{nodeFilter:e.dagNodeFilter,onLoopError:e.onDagError||void 0}),a=Math.max.apply(Math,Nu(Object.values(s||[]))),o=e.dagLevelDistance||e.graphData.nodes.length/(a||1)*$It*(["radialin","radialout"].indexOf(e.dagMode)!==-1?.7:1);if(["lr","rl","td","bu"].includes(n.dagMode)){var l=["lr","rl"].includes(n.dagMode)?"fx":"fy";e.graphData.nodes.filter(e.dagNodeFilter).forEach(function(g){return delete g[l]})}if(["lr","rl","td","bu"].includes(e.dagMode)){var u=["rl","bu"].includes(e.dagMode),c=function(v){return(s[v[e.nodeId]]-a/2)*o*(u?-1:1)},h=["lr","rl"].includes(e.dagMode)?"fx":"fy";e.graphData.nodes.filter(e.dagNodeFilter).forEach(function(g){return g[h]=c(g)})}e.forceLayout.force("dagRadial",["radialin","radialout"].indexOf(e.dagMode)!==-1?AK(function(g){var v=s[g[e.nodeId]]||-1;return(e.dagMode==="radialin"?a-v:v)*o}).strength(function(g){return e.dagNodeFilter(g)?1:0}):null);for(var p=0;p<e.warmupTicks&&!(e.d3AlphaMin>0&&e.forceLayout.alpha()<e.d3AlphaMin);p++)e.forceLayout.tick();this.resetCountdown(),e.onFinishUpdate()}});function IK(i,e){var n=i instanceof Array?i:[i],r=new e;return r._destructor&&r._destructor(),{linkProp:function(a){return{default:r[a](),onChange:function(l,u){n.forEach(function(c){return u[c][a](l)})},triggerUpdate:!1}},linkMethod:function(a){return function(o){for(var l=arguments.length,u=new Array(l>1?l-1:0),c=1;c<l;c++)u[c-1]=arguments[c];var h=[];return n.forEach(function(p){var g=o[p],v=g[a].apply(g,u);v!==g&&h.push(v)}),h.length?h[0]:this}}}}var qIt=800,WIt=4,XIt=5,DK=IK("forceGraph",A2),YIt=IK(["forceGraph","shadowGraph"],A2),KIt=Object.assign.apply(Object,Nu(["nodeColor","nodeAutoColorBy","nodeCanvasObject","nodeCanvasObjectMode","linkColor","linkAutoColorBy","linkLineDash","linkWidth","linkCanvasObject","linkCanvasObjectMode","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowRelPos","linkDirectionalParticles","linkDirectionalParticleSpeed","linkDirectionalParticleWidth","linkDirectionalParticleColor","dagMode","dagLevelDistance","dagNodeFilter","onDagError","d3AlphaMin","d3AlphaDecay","d3VelocityDecay","warmupTicks","cooldownTicks","cooldownTime","onEngineTick","onEngineStop"].map(function(i){return cE({},i,DK.linkProp(i))})).concat(Nu(["nodeRelSize","nodeId","nodeVal","nodeVisibility","linkSource","linkTarget","linkVisibility","linkCurvature"].map(function(i){return cE({},i,YIt.linkProp(i))})))),ZIt=Object.assign.apply(Object,Nu(["d3Force","d3ReheatSimulation","emitParticle"].map(function(i){return cE({},i,DK.linkMethod(i))})));function CD(i){if(i.canvas){var e=i.canvas.width,n=i.canvas.height;e===300&&n===150&&(e=n=0);var r=window.devicePixelRatio;e/=r,n/=r,[i.canvas,i.shadowCanvas].forEach(function(a){a.style.width="".concat(i.width,"px"),a.style.height="".concat(i.height,"px"),a.width=i.width*r,a.height=i.height*r,!e&&!n&&a.getContext("2d").scale(r,r)});var s=Nf(i.canvas).k;i.zoom.translateBy(i.zoom.__baseElem,(i.width-e)/2/s,(i.height-n)/2/s),i.needsRedraw=!0}}function NK(i){var e=window.devicePixelRatio;i.setTransform(e,0,0,e,0,0)}function b9(i,e,n){i.save(),NK(i),i.clearRect(0,0,e,n),i.restore()}var QIt=yO({props:jv({width:{default:window.innerWidth,onChange:function(e,n){return CD(n)},triggerUpdate:!1},height:{default:window.innerHeight,onChange:function(e,n){return CD(n)},triggerUpdate:!1},graphData:{default:{nodes:[],links:[]},onChange:function(e,n){[e.nodes,e.links].every(function(s){return(s||[]).every(function(a){return!a.hasOwnProperty("__indexColor")})})&&n.colorTracker.reset(),[{type:"Node",objs:e.nodes},{type:"Link",objs:e.links}].forEach(r),n.forceGraph.graphData(e),n.shadowGraph.graphData(e);function r(s){var a=s.type,o=s.objs;o.filter(function(l){if(!l.hasOwnProperty("__indexColor"))return!0;var u=n.colorTracker.lookup(l.__indexColor);return!u||!u.hasOwnProperty("d")||u.d!==l}).forEach(function(l){l.__indexColor=n.colorTracker.register({type:a,d:l})})}},triggerUpdate:!1},backgroundColor:{onChange:function(e,n){n.canvas&&e&&(n.canvas.style.background=e)},triggerUpdate:!1},nodeLabel:{default:"name",triggerUpdate:!1},nodePointerAreaPaint:{onChange:function(e,n){n.shadowGraph.nodeCanvasObject(e?function(r,s,a){return e(r,r.__indexColor,s,a)}:null),n.flushShadowCanvas&&n.flushShadowCanvas()},triggerUpdate:!1},linkPointerAreaPaint:{onChange:function(e,n){n.shadowGraph.linkCanvasObject(e?function(r,s,a){return e(r,r.__indexColor,s,a)}:null),n.flushShadowCanvas&&n.flushShadowCanvas()},triggerUpdate:!1},linkLabel:{default:"name",triggerUpdate:!1},linkHoverPrecision:{default:4,triggerUpdate:!1},minZoom:{default:.01,onChange:function(e,n){n.zoom.scaleExtent([e,n.zoom.scaleExtent()[1]])},triggerUpdate:!1},maxZoom:{default:1e3,onChange:function(e,n){n.zoom.scaleExtent([n.zoom.scaleExtent()[0],e])},triggerUpdate:!1},enableNodeDrag:{default:!0,triggerUpdate:!1},enableZoomInteraction:{default:!0,triggerUpdate:!1},enablePanInteraction:{default:!0,triggerUpdate:!1},enableZoomPanInteraction:{default:!0,triggerUpdate:!1},enablePointerInteraction:{default:!0,onChange:function(e,n){n.hoverObj=null},triggerUpdate:!1},autoPauseRedraw:{default:!0,triggerUpdate:!1},onNodeDrag:{default:function(){},triggerUpdate:!1},onNodeDragEnd:{default:function(){},triggerUpdate:!1},onNodeClick:{triggerUpdate:!1},onNodeRightClick:{triggerUpdate:!1},onNodeHover:{triggerUpdate:!1},onLinkClick:{triggerUpdate:!1},onLinkRightClick:{triggerUpdate:!1},onLinkHover:{triggerUpdate:!1},onBackgroundClick:{triggerUpdate:!1},onBackgroundRightClick:{triggerUpdate:!1},onZoom:{triggerUpdate:!1},onZoomEnd:{triggerUpdate:!1},onRenderFramePre:{triggerUpdate:!1},onRenderFramePost:{triggerUpdate:!1}},KIt),aliases:{stopAnimation:"pauseAnimation"},methods:jv({graph2ScreenCoords:function(e,n,r){var s=Nf(e.canvas);return{x:n*s.k+s.x,y:r*s.k+s.y}},screen2GraphCoords:function(e,n,r){var s=Nf(e.canvas);return{x:(n-s.x)/s.k,y:(r-s.y)/s.k}},centerAt:function(e,n,r,s){if(!e.canvas)return null;if(n!==void 0||r!==void 0){var a=Object.assign({},n!==void 0?{x:n}:{},r!==void 0?{y:r}:{});return s?e.tweenGroup.add(new j8(o()).to(a,s).easing(Ny.Quadratic.Out).onUpdate(l).start()):l(a),this}return o();function o(){var u=Nf(e.canvas);return{x:(e.width/2-u.x)/u.k,y:(e.height/2-u.y)/u.k}}function l(u){var c=u.x,h=u.y;e.zoom.translateTo(e.zoom.__baseElem,c===void 0?o().x:c,h===void 0?o().y:h),e.needsRedraw=!0}},zoom:function(e,n,r){if(!e.canvas)return null;if(n!==void 0)return r?e.tweenGroup.add(new j8({k:s()}).to({k:n},r).easing(Ny.Quadratic.Out).onUpdate(function(o){var l=o.k;return a(l)}).start()):a(n),this;return s();function s(){return Nf(e.canvas).k}function a(o){e.zoom.scaleTo(e.zoom.__baseElem,o),e.needsRedraw=!0}},zoomToFit:function(e){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,s=arguments.length,a=new Array(s>3?s-3:0),o=3;o<s;o++)a[o-3]=arguments[o];var l=this.getGraphBbox.apply(this,a);if(l){var u={x:(l.x[0]+l.x[1])/2,y:(l.y[0]+l.y[1])/2},c=Math.max(1e-12,Math.min(1e12,(e.width-r*2)/(l.x[1]-l.x[0]),(e.height-r*2)/(l.y[1]-l.y[0])));this.centerAt(u.x,u.y,n),this.zoom(c,n)}return this},getGraphBbox:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return!0},r=Ke(e.nodeVal),s=function(l){return Math.sqrt(Math.max(0,r(l)||1))*e.nodeRelSize},a=e.graphData.nodes.filter(n).map(function(o){return{x:o.x,y:o.y,r:s(o)}});return a.length?{x:[ZN(a,function(o){return o.x-o.r}),KN(a,function(o){return o.x+o.r})],y:[ZN(a,function(o){return o.y-o.r}),KN(a,function(o){return o.y+o.r})]}:null},pauseAnimation:function(e){return e.animationFrameRequestId&&(cancelAnimationFrame(e.animationFrameRequestId),e.animationFrameRequestId=null),this},resumeAnimation:function(e){return e.animationFrameRequestId||this._animationCycle(),this},_destructor:function(){this.pauseAnimation(),this.graphData({nodes:[],links:[]})}},ZIt),stateInit:function(){return{lastSetZoom:1,zoom:mRt(),forceGraph:new A2,shadowGraph:new A2().cooldownTicks(0).nodeColor("__indexColor").linkColor("__indexColor").isShadow(!0),colorTracker:new BOt,tweenGroup:new ZY}},init:function(e,n){var r=this;e.innerHTML="";var s=document.createElement("div");s.classList.add("force-graph-container"),s.style.position="relative",e.appendChild(s),n.canvas=document.createElement("canvas"),n.backgroundColor&&(n.canvas.style.background=n.backgroundColor),s.appendChild(n.canvas),n.shadowCanvas=document.createElement("canvas");var a=n.canvas.getContext("2d"),o=n.shadowCanvas.getContext("2d",{willReadFrequently:!0}),l={x:-1e12,y:-1e12},u=function(){var p=null,g=window.devicePixelRatio,v=l.x>0&&l.y>0?o.getImageData(l.x*g,l.y*g,1,1):null;return v&&(p=n.colorTracker.lookup(v.data)),p};Du(n.canvas).call(wCt().subject(function(){if(!n.enableNodeDrag)return null;var h=u();return h&&h.type==="Node"?h.d:null}).on("start",function(h){var p=h.subject;p.__initialDragPos={x:p.x,y:p.y,fx:p.fx,fy:p.fy},h.active||(p.fx=p.x,p.fy=p.y),n.canvas.classList.add("grabbable")}).on("drag",function(h){var p=h.subject,g=p.__initialDragPos,v=h,b=Nf(n.canvas).k,S={x:g.x+(v.x-g.x)/b-p.x,y:g.y+(v.y-g.y)/b-p.y};["x","y"].forEach(function(E){return p["f".concat(E)]=p[E]=g[E]+(v[E]-g[E])/b}),!(!p.__dragged&&XIt>=Math.sqrt(_Rt(["x","y"].map(function(E){return Math.pow(h[E]-g[E],2)}))))&&(n.forceGraph.d3AlphaTarget(.3).resetCountdown(),n.isPointerDragging=!0,p.__dragged=!0,n.onNodeDrag(p,S))}).on("end",function(h){var p=h.subject,g=p.__initialDragPos,v={x:p.x-g.x,y:p.y-g.y};g.fx===void 0&&(p.fx=void 0),g.fy===void 0&&(p.fy=void 0),delete p.__initialDragPos,n.forceGraph.d3AlphaTarget()&&n.forceGraph.d3AlphaTarget(0).resetCountdown(),n.canvas.classList.remove("grabbable"),n.isPointerDragging=!1,p.__dragged&&(delete p.__dragged,n.onNodeDragEnd(p,v))})),n.zoom(n.zoom.__baseElem=Du(n.canvas)),n.zoom.__baseElem.on("dblclick.zoom",null),n.zoom.filter(function(h){return!h.button&&n.enableZoomPanInteraction&&(h.type!=="wheel"||Ke(n.enableZoomInteraction)(h))&&(h.type==="wheel"||Ke(n.enablePanInteraction)(h))}).on("zoom",function(h){var p=h.transform;[a,o].forEach(function(g){NK(g),g.translate(p.x,p.y),g.scale(p.k,p.k)}),n.isPointerDragging=!0,n.onZoom&&n.onZoom(jv(jv({},p),r.centerAt())),n.needsRedraw=!0}).on("end",function(h){n.isPointerDragging=!1,n.onZoomEnd&&n.onZoomEnd(jv(jv({},h.transform),r.centerAt()))}),CD(n),n.forceGraph.onNeedsRedraw(function(){return n.needsRedraw=!0}).onFinishUpdate(function(){Nf(n.canvas).k===n.lastSetZoom&&n.graphData.nodes.length&&(n.zoom.scaleTo(n.zoom.__baseElem,n.lastSetZoom=WIt/Math.cbrt(n.graphData.nodes.length)),n.needsRedraw=!0)}),n.tooltip=new aPt(s),["pointermove","pointerdown"].forEach(function(h){return s.addEventListener(h,function(p){h==="pointerdown"&&(n.isPointerPressed=!0,n.pointerDownEvent=p),!n.isPointerDragging&&p.type==="pointermove"&&n.onBackgroundClick&&(p.pressure>0||n.isPointerPressed)&&(p.pointerType!=="touch"||p.movementX===void 0||[p.movementX,p.movementY].some(function(b){return Math.abs(b)>1}))&&(n.isPointerDragging=!0);var g=v(s);l.x=p.pageX-g.left,l.y=p.pageY-g.top;function v(b){var S=b.getBoundingClientRect(),E=window.pageXOffset||document.documentElement.scrollLeft,x=window.pageYOffset||document.documentElement.scrollTop;return{top:S.top+x,left:S.left+E}}},{passive:!0})}),s.addEventListener("pointerup",function(h){if(n.isPointerPressed=!1,n.isPointerDragging){n.isPointerDragging=!1;return}var p=[h,n.pointerDownEvent];requestAnimationFrame(function(){if(h.button===0)if(n.hoverObj){var g=n["on".concat(n.hoverObj.type,"Click")];g&&g.apply(void 0,[n.hoverObj.d].concat(p))}else n.onBackgroundClick&&n.onBackgroundClick.apply(n,p);if(h.button===2)if(n.hoverObj){var v=n["on".concat(n.hoverObj.type,"RightClick")];v&&v.apply(void 0,[n.hoverObj.d].concat(p))}else n.onBackgroundRightClick&&n.onBackgroundRightClick.apply(n,p)})},{passive:!0}),s.addEventListener("contextmenu",function(h){return!n.onBackgroundRightClick&&!n.onNodeRightClick&&!n.onLinkRightClick?!0:(h.preventDefault(),!1)}),n.forceGraph(a),n.shadowGraph(o);var c=qRt(function(){b9(o,n.width,n.height),n.shadowGraph.linkWidth(function(p){return Ke(n.linkWidth)(p)+n.linkHoverPrecision});var h=Nf(n.canvas);n.shadowGraph.globalScale(h.k).tickFrame()},qIt);n.flushShadowCanvas=c.flush,(this._animationCycle=function h(){var p=!n.autoPauseRedraw||!!n.needsRedraw||n.forceGraph.isEngineRunning()||n.graphData.links.some(function(C){return C.__photons&&C.__photons.length});if(n.needsRedraw=!1,n.enablePointerInteraction){var g=n.isPointerDragging?null:u();if(g!==n.hoverObj){var v=n.hoverObj,b=v?v.type:null,S=g?g.type:null;if(b&&b!==S){var E=n["on".concat(b,"Hover")];E&&E(null,v.d)}if(S){var x=n["on".concat(S,"Hover")];x&&x(g.d,b===S?v.d:null)}n.tooltip.content(g&&Ke(n["".concat(g.type.toLowerCase(),"Label")])(g.d)||null),n.canvas.classList[g&&n["on".concat(S,"Click")]||!g&&n.onBackgroundClick?"add":"remove"]("clickable"),n.hoverObj=g}p&&c()}if(p){b9(a,n.width,n.height);var A=Nf(n.canvas).k;n.onRenderFramePre&&n.onRenderFramePre(a,A),n.forceGraph.globalScale(A).tickFrame(),n.onRenderFramePost&&n.onRenderFramePost(a,A)}n.tweenGroup.update(),n.animationFrameRequestId=requestAnimationFrame(h)})()},update:function(e){}});const xO={width:Mt.number,height:Mt.number,graphData:Mt.shape({nodes:Mt.arrayOf(Mt.object).isRequired,links:Mt.arrayOf(Mt.object).isRequired}),backgroundColor:Mt.string,nodeRelSize:Mt.number,nodeId:Mt.string,nodeLabel:Mt.oneOfType([Mt.string,Mt.func]),nodeVal:Mt.oneOfType([Mt.number,Mt.string,Mt.func]),nodeVisibility:Mt.oneOfType([Mt.bool,Mt.string,Mt.func]),nodeColor:Mt.oneOfType([Mt.string,Mt.func]),nodeAutoColorBy:Mt.oneOfType([Mt.string,Mt.func]),onNodeHover:Mt.func,onNodeClick:Mt.func,linkSource:Mt.string,linkTarget:Mt.string,linkLabel:Mt.oneOfType([Mt.string,Mt.func]),linkVisibility:Mt.oneOfType([Mt.bool,Mt.string,Mt.func]),linkColor:Mt.oneOfType([Mt.string,Mt.func]),linkAutoColorBy:Mt.oneOfType([Mt.string,Mt.func]),linkWidth:Mt.oneOfType([Mt.number,Mt.string,Mt.func]),linkCurvature:Mt.oneOfType([Mt.number,Mt.string,Mt.func]),linkDirectionalArrowLength:Mt.oneOfType([Mt.number,Mt.string,Mt.func]),linkDirectionalArrowColor:Mt.oneOfType([Mt.string,Mt.func]),linkDirectionalArrowRelPos:Mt.oneOfType([Mt.number,Mt.string,Mt.func]),linkDirectionalParticles:Mt.oneOfType([Mt.number,Mt.string,Mt.func]),linkDirectionalParticleSpeed:Mt.oneOfType([Mt.number,Mt.string,Mt.func]),linkDirectionalParticleWidth:Mt.oneOfType([Mt.number,Mt.string,Mt.func]),linkDirectionalParticleColor:Mt.oneOfType([Mt.string,Mt.func]),onLinkHover:Mt.func,onLinkClick:Mt.func,dagMode:Mt.oneOf(["td","bu","lr","rl","zin","zout","radialin","radialout"]),dagLevelDistance:Mt.number,dagNodeFilter:Mt.func,onDagError:Mt.func,d3AlphaMin:Mt.number,d3AlphaDecay:Mt.number,d3VelocityDecay:Mt.number,warmupTicks:Mt.number,cooldownTicks:Mt.number,cooldownTime:Mt.number,onEngineTick:Mt.func,onEngineStop:Mt.func,getGraphBbox:Mt.func},LK={zoomToFit:Mt.func,onNodeRightClick:Mt.func,onNodeDrag:Mt.func,onNodeDragEnd:Mt.func,onLinkRightClick:Mt.func,linkHoverPrecision:Mt.number,onBackgroundClick:Mt.func,onBackgroundRightClick:Mt.func,enablePointerInteraction:Mt.bool,enableNodeDrag:Mt.bool},Fk={showNavInfo:Mt.bool,nodeOpacity:Mt.number,nodeResolution:Mt.number,nodeThreeObject:Mt.oneOfType([Mt.object,Mt.string,Mt.func]),nodeThreeObjectExtend:Mt.oneOfType([Mt.bool,Mt.string,Mt.func]),linkOpacity:Mt.number,linkResolution:Mt.number,linkCurveRotation:Mt.oneOfType([Mt.number,Mt.string,Mt.func]),linkMaterial:Mt.oneOfType([Mt.object,Mt.string,Mt.func]),linkThreeObject:Mt.oneOfType([Mt.object,Mt.string,Mt.func]),linkThreeObjectExtend:Mt.oneOfType([Mt.bool,Mt.string,Mt.func]),linkPositionUpdate:Mt.func,linkDirectionalArrowResolution:Mt.number,linkDirectionalParticleResolution:Mt.number,forceEngine:Mt.oneOf(["d3","ngraph"]),ngraphPhysics:Mt.object,numDimensions:Mt.oneOf([1,2,3])},JIt=Object.assign({},xO,LK,{linkLineDash:Mt.oneOfType([Mt.arrayOf(Mt.number),Mt.string,Mt.func]),nodeCanvasObjectMode:Mt.oneOfType([Mt.string,Mt.func]),nodeCanvasObject:Mt.func,nodePointerAreaPaint:Mt.func,linkCanvasObjectMode:Mt.oneOfType([Mt.string,Mt.func]),linkCanvasObject:Mt.func,linkPointerAreaPaint:Mt.func,autoPauseRedraw:Mt.bool,minZoom:Mt.number,maxZoom:Mt.number,enableZoomInteraction:Mt.oneOfType([Mt.bool,Mt.func]),enablePanInteraction:Mt.oneOfType([Mt.bool,Mt.func]),onZoom:Mt.func,onZoomEnd:Mt.func,onRenderFramePre:Mt.func,onRenderFramePost:Mt.func});Object.assign({},xO,LK,Fk,{enableNavigationControls:Mt.bool,controlType:Mt.oneOf(["trackball","orbit","fly"]),rendererConfig:Mt.object,extraRenderers:Mt.arrayOf(Mt.shape({render:Mt.func.isRequired}))});Object.assign({},xO,Fk,{nodeDesc:Mt.oneOfType([Mt.string,Mt.func]),linkDesc:Mt.oneOfType([Mt.string,Mt.func])});Object.assign({},xO,Fk,{markerAttrs:Mt.object,yOffset:Mt.number,glScale:Mt.number});const Vk=kAt(QIt,{methodNames:["emitParticle","d3Force","d3ReheatSimulation","stopAnimation","pauseAnimation","resumeAnimation","centerAt","zoom","zoomToFit","getGraphBbox","screen2GraphCoords","graph2ScreenCoords"]});Vk.displayName="ForceGraph2D";Vk.propTypes=JIt;const Cd=Ro,Hk={display:"flex",justifyContent:"center",flexDirection:"column",height:"100%",alignItems:"center",backgroundColor:Cd.palette.formStyles.containerBackgroundColor,"& .MuiFormLabel-root":{marginBottom:"3rem"},"& .MuiInputBase-root":{backgroundColor:Cd.palette.formStyles.cardBackgroundColor},"& input":{}},tDt={backgroundColor:Cd.palette.formStyles.cardBackgroundColor,padding:"40px",border:`2px solid ${Cd.palette.formStyles.borderColor}`,borderRadius:"4px",marginTop:"20px","& .MuiFormGroup-root":{color:Cd.palette.text.secondary,fontWeight:"600"}},eDt={fontSize:"1.5rem",fontWeight:"600",marginBottom:"2rem",textAlign:"center"},nDt=i=>({display:"flex",flexDirection:"column-reverse",justifyContent:"space-around",width:"100vw","& .MuiTypography-root":{fontSize:"0.75rem",textAlign:"center",display:i?"block":"none",color:Cd.palette.action.deactivate,marginTop:"3px",fontWeight:"400"}});Cd.palette.formStyles.containerBackgroundColor;const iDt=i=>({display:i?"none":"block","& .MuiLinearProgress-root":{marginTop:"1.8em",marginLeft:"2em",height:"1em",borderRadius:"5px"}}),rDt=i=>({display:i?"block":"none","& p":{marginTop:"1.8em",height:"1em",color:Cd.palette.text.secondary}," & div":{paddingLeft:"2em",paddingTop:"1em",color:Cd.palette.text.secondary}}),sDt=i=>({display:i?"none":"block",margin:"auto","& .MuiCircularProgress-root":{width:"100px !important",height:"100px !important"}}),aDt=i=>({display:i?"block":"none",margin:"auto"}),oDt=({graphStepFinalData:i,isUploadFirestore:e})=>{const n=Q.useRef(null);return Q.useEffect(()=>{var r;if(n.current&&((r=i==null?void 0:i.nodes)==null?void 0:r.length)>=2){const[s,a]=i.nodes,o=s.x!==void 0&&a.x!==void 0?(s.x+a.x)/2:0,l=s.y!==void 0&&a.y!==void 0?(s.y+a.y)/2:0;setTimeout(()=>{n.current.centerAt(o,l,1500)},300),setTimeout(()=>{n.current.zoom(8,1e3)},1800)}},[i]),W.jsxs(W.Fragment,{children:[W.jsx(di,{sx:sDt(e),children:W.jsx(qU,{})}),W.jsx(di,{sx:aDt(e),children:W.jsx(Vk,{ref:n,graphData:i,nodeRelSize:3,linkWidth:10,dagMode:"td",enablePanInteraction:!1,enablePointerInteraction:!1,enableZoomInteraction:!1,minZoom:8,linkCurvature:.1,linkDirectionalParticles:4,height:150,nodeCanvasObject:(r,s,a)=>{const o=r.name,l=18/a,u=6;s.save(),typeof r.x=="number"&&typeof r.y=="number"&&s.translate(r.x,r.y),s.beginPath(),s.arc(0,0,u,0,2*Math.PI,!1),s.fillStyle="#1976d2",s.fill(),s.lineWidth=.4,s.strokeStyle="black",s.stroke(),s.font=`${l}px Sans-Serif`,s.textAlign="center",s.textBaseline="middle",s.strokeStyle="black",s.lineWidth=.2,s.strokeText(o,0,0),s.fillStyle="white",s.fillText(o,0,0),s.restore()}})})]})},DM={canvasBackgraundColor:"#002",intensity:.7,colorLight:"#fff",position:[100,20,10]},UK={genesis:"rgb(255, 255, 255)",submission:"rgb(255, 0, 0)",pass:"rgb(27, 250, 250)",switch:"rgb(255, 243, 17)",transition:"rgb(198, 122, 28)",control:"rgb(22, 123, 230)",tachi_waza:"rgb(125, 132, 255)",defence:"rgb(0, 255, 0)",guard:"rgb(234, 4, 255)"},Kg={fov:90,near:.1,far:1e3,position:[30,50,100],dollySpeed:4,minDistance:20,maxDistance:270},Gv={radius:180,depth:5,count:2e3,factor:7,saturation:1,speed:.5},Wf={nodes:"nodos",links:"links"},bm={languageDefault:"es",languageUser:"languageApp",navigationsGestures:"hideNavigationGestures"},lDt=({cameraControlsRef:i})=>W.jsxs(W.Fragment,{children:[W.jsx(Rlt,{radius:Gv.radius,depth:Gv.depth,count:Gv.count,factor:Gv.factor,saturation:Gv.saturation,fade:!0,speed:Gv.speed}),W.jsx(TLt,{cameraControlsRef:i}),W.jsx("ambientLight",{intensity:DM.intensity}),W.jsx("directionalLight",{position:DM.position,color:DM.colorLight})]}),uDt=Ro.palette,cDt=uDt.text,fDt={display:"flex",alignItems:"center",justifyContent:"center"},hDt={color:cDt.titleBig,fontSize:"2rem",lineHeight:"1",fontWeight:600,fontFamily:"Poppins",fontStyle:"italic"},dDt={width:"120px",marginRight:"20px"};function kK(){return W.jsxs(di,{sx:fDt,children:[W.jsx("img",{src:"./logoApp.svg",alt:"Black Triangle BJJ Logo",style:dDt}),W.jsxs(Li,{sx:hDt,children:["BLACK ",W.jsx("br",{})," TRIANGLE BJJ"]})]})}var RD,x9;function jk(){if(x9)return RD;x9=1,RD=function(r){e(r);var s=i(r);return r.on=s.on,r.off=s.off,r.fire=s.fire,r};function i(n){var r=Object.create(null);return{on:function(s,a,o){if(typeof a!="function")throw new Error("callback is expected to be a function");var l=r[s];return l||(l=r[s]=[]),l.push({callback:a,ctx:o}),n},off:function(s,a){var o=typeof s>"u";if(o)return r=Object.create(null),n;if(r[s]){var l=typeof a!="function";if(l)delete r[s];else for(var u=r[s],c=0;c<u.length;++c)u[c].callback===a&&u.splice(c,1)}return n},fire:function(s){var a=r[s];if(!a)return n;var o;arguments.length>1&&(o=Array.prototype.splice.call(arguments,1));for(var l=0;l<a.length;++l){var u=a[l];u.callback.apply(u.ctx,o)}return n}}}function e(n){if(!n)throw new Error("Eventify cannot use falsy object as events subject");for(var r=["on","fire","off"],s=0;s<r.length;++s)if(n.hasOwnProperty(r[s]))throw new Error("Subject cannot be eventified, since it already has property '"+r[s]+"'")}return RD}var OD,S9;function pDt(){if(S9)return OD;S9=1,OD=e;var i=jk();function e(o){if(o=o||{},"uniqueLinkId"in o&&(console.warn("ngraph.graph: Starting from version 0.14 `uniqueLinkId` is deprecated.\nUse `multigraph` option instead\n",`
`,`Note: there is also change in default behavior: From now on each graph
is considered to be not a multigraph by default (each edge is unique).`),o.multigraph=o.uniqueLinkId),o.multigraph===void 0&&(o.multigraph=!1),typeof Map!="function")throw new Error("ngraph.graph requires `Map` to be defined. Please polyfill it before using ngraph");var l=new Map,u=new Map,c={},h=0,p=o.multigraph?R:U,g=[],v=yt,b=yt,S=yt,E=yt,x={version:20,addNode:P,addLink:N,removeLink:Y,removeNode:D,getNode:k,getNodeCount:B,getLinkCount:H,getEdgeCount:H,getLinksCount:H,getNodesCount:B,getLinks:V,forEachNode:ht,forEachLinkedNode:nt,forEachLink:J,beginUpdate:S,endUpdate:E,clear:X,hasLink:G,hasNode:k,getLink:G};return i(x),A(),x;function A(){var lt=x.on;x.on=gt;function gt(){return x.beginUpdate=S=xt,x.endUpdate=E=it,v=C,b=M,x.on=lt,lt.apply(x,arguments)}}function C(lt,gt){g.push({link:lt,changeType:gt})}function M(lt,gt){g.push({node:lt,changeType:gt})}function P(lt,gt){if(lt===void 0)throw new Error("Invalid node identifier");S();var Tt=k(lt);return Tt?(Tt.data=gt,b(Tt,"update")):(Tt=new n(lt,gt),b(Tt,"add")),l.set(lt,Tt),E(),Tt}function k(lt){return l.get(lt)}function D(lt){var gt=k(lt);if(!gt)return!1;S();var Tt=gt.links;return Tt&&(Tt.forEach(et),gt.links=null),l.delete(lt),b(gt,"remove"),E(),!0}function N(lt,gt,Tt){S();var Kt=k(lt)||P(lt),Ut=k(gt)||P(gt),te=p(lt,gt,Tt),Pt=u.has(te.id);return u.set(te.id,te),r(Kt,te),lt!==gt&&r(Ut,te),v(te,Pt?"update":"add"),E(),te}function U(lt,gt,Tt){var Kt=a(lt,gt),Ut=u.get(Kt);return Ut?(Ut.data=Tt,Ut):new s(lt,gt,Tt,Kt)}function R(lt,gt,Tt){var Kt=a(lt,gt),Ut=c.hasOwnProperty(Kt);if(Ut||G(lt,gt)){Ut||(c[Kt]=0);var te="@"+ ++c[Kt];Kt=a(lt+te,gt+te)}return new s(lt,gt,Tt,Kt)}function B(){return l.size}function H(){return u.size}function V(lt){var gt=k(lt);return gt?gt.links:null}function Y(lt,gt){return gt!==void 0&&(lt=G(lt,gt)),et(lt)}function et(lt){if(!lt||!u.get(lt.id))return!1;S(),u.delete(lt.id);var gt=k(lt.fromId),Tt=k(lt.toId);return gt&&gt.links.delete(lt),Tt&&Tt.links.delete(lt),v(lt,"remove"),E(),!0}function G(lt,gt){if(!(lt===void 0||gt===void 0))return u.get(a(lt,gt))}function X(){S(),ht(function(lt){D(lt.id)}),E()}function J(lt){if(typeof lt=="function")for(var gt=u.values(),Tt=gt.next();!Tt.done;){if(lt(Tt.value))return!0;Tt=gt.next()}}function nt(lt,gt,Tt){var Kt=k(lt);if(Kt&&Kt.links&&typeof gt=="function")return Tt?dt(Kt.links,lt,gt):Z(Kt.links,lt,gt)}function Z(lt,gt,Tt){for(var Kt,Ut=lt.values(),te=Ut.next();!te.done;){var Pt=te.value,Bt=Pt.fromId===gt?Pt.toId:Pt.fromId;if(Kt=Tt(l.get(Bt),Pt),Kt)return!0;te=Ut.next()}}function dt(lt,gt,Tt){for(var Kt,Ut=lt.values(),te=Ut.next();!te.done;){var Pt=te.value;if(Pt.fromId===gt&&(Kt=Tt(l.get(Pt.toId),Pt),Kt))return!0;te=Ut.next()}}function yt(){}function xt(){h+=1}function it(){h-=1,h===0&&g.length>0&&(x.fire("changed",g),g.length=0)}function ht(lt){if(typeof lt!="function")throw new Error("Function is expected to iterate over graph nodes. You passed "+lt);for(var gt=l.values(),Tt=gt.next();!Tt.done;){if(lt(Tt.value))return!0;Tt=gt.next()}}}function n(o,l){this.id=o,this.links=null,this.data=l}function r(o,l){o.links?o.links.add(l):o.links=new Set([l])}function s(o,l,u,c){this.fromId=o,this.toId=l,this.data=u,this.id=c}function a(o,l){return o.toString()+" "+l.toString()}return OD}var mDt=pDt();const gDt=hh(mDt);var LA={exports:{}},$v={exports:{}},PD,E9;function zK(){return E9||(E9=1,PD=function(e){return e===0?"x":e===1?"y":e===2?"z":"c"+(e+1)}),PD}var ID,T9;function Ab(){if(T9)return ID;T9=1;const i=zK();return ID=function(n){return r;function r(s,a){let o=a&&a.indent||0,l=a&&a.join!==void 0?a.join:`
`,u=Array(o+1).join(" "),c=[];for(let h=0;h<n;++h){let p=i(h),g=h===0?"":u;c.push(g+s.replace(/{var}/g,p))}return c.join(l)}},ID}var w9;function yDt(){if(w9)return $v.exports;w9=1;const i=Ab();$v.exports=e,$v.exports.generateCreateBodyFunctionBody=n,$v.exports.getVectorCode=s,$v.exports.getBodyCode=r;function e(a,o){let l=n(a,o),{Body:u}=new Function(l)();return u}function n(a,o){return`
${s(a,o)}
${r(a)}
return {Body: Body, Vector: Vector};
`}function r(a){let o=i(a),l=o("{var}",{join:", "});return`
function Body(${l}) {
  this.isPinned = false;
  this.pos = new Vector(${l});
  this.force = new Vector();
  this.velocity = new Vector();
  this.mass = 1;

  this.springCount = 0;
  this.springLength = 0;
}

Body.prototype.reset = function() {
  this.force.reset();
  this.springCount = 0;
  this.springLength = 0;
}

Body.prototype.setPosition = function (${l}) {
  ${o("this.pos.{var} = {var} || 0;",{indent:2})}
};`}function s(a,o){let l=i(a),u="";return o&&(u=`${l(`
	   var v{var};
	Object.defineProperty(this, '{var}', {
	  set: function(v) { 
	    if (!Number.isFinite(v)) throw new Error('Cannot set non-numbers to {var}');
	    v{var} = v; 
	  },
	  get: function() { return v{var}; }
	});`)}`),`function Vector(${l("{var}",{join:", "})}) {
  ${u}
    if (typeof arguments[0] === 'object') {
      // could be another vector
      let v = arguments[0];
      ${l('if (!Number.isFinite(v.{var})) throw new Error("Expected value is not a finite number at Vector constructor ({var})");',{indent:4})}
      ${l("this.{var} = v.{var};",{indent:4})}
    } else {
      ${l('this.{var} = typeof {var} === "number" ? {var} : 0;',{indent:4})}
    }
  }
  
  Vector.prototype.reset = function () {
    ${l("this.{var} = ",{join:""})}0;
  };`}return $v.exports}var rd={exports:{}},A9;function vDt(){if(A9)return rd.exports;A9=1;const i=Ab(),e=zK();rd.exports=n,rd.exports.generateQuadTreeFunctionBody=r,rd.exports.getInsertStackCode=u,rd.exports.getQuadNodeCode=l,rd.exports.isSamePosition=s,rd.exports.getChildBodyCode=o,rd.exports.setChildBodyCode=a;function n(c){let h=r(c);return new Function(h)()}function r(c){let h=i(c),p=Math.pow(2,c);return`
${u()}
${l(c)}
${s(c)}
${o(c)}
${a(c)}

function createQuadTree(options, random) {
  options = options || {};
  options.gravity = typeof options.gravity === 'number' ? options.gravity : -1;
  options.theta = typeof options.theta === 'number' ? options.theta : 0.8;

  var gravity = options.gravity;
  var updateQueue = [];
  var insertStack = new InsertStack();
  var theta = options.theta;

  var nodesCache = [];
  var currentInCache = 0;
  var root = newNode();

  return {
    insertBodies: insertBodies,

    /**
     * Gets root node if it is present
     */
    getRoot: function() {
      return root;
    },

    updateBodyForce: update,

    options: function(newOptions) {
      if (newOptions) {
        if (typeof newOptions.gravity === 'number') {
          gravity = newOptions.gravity;
        }
        if (typeof newOptions.theta === 'number') {
          theta = newOptions.theta;
        }

        return this;
      }

      return {
        gravity: gravity,
        theta: theta
      };
    }
  };

  function newNode() {
    // To avoid pressure on GC we reuse nodes.
    var node = nodesCache[currentInCache];
    if (node) {
${S("      node.")}
      node.body = null;
      node.mass = ${h("node.mass_{var} = ",{join:""})}0;
      ${h("node.min_{var} = node.max_{var} = ",{join:""})}0;
    } else {
      node = new QuadNode();
      nodesCache[currentInCache] = node;
    }

    ++currentInCache;
    return node;
  }

  function update(sourceBody) {
    var queue = updateQueue;
    var v;
    ${h("var d{var};",{indent:4})}
    var r; 
    ${h("var f{var} = 0;",{indent:4})}
    var queueLength = 1;
    var shiftIdx = 0;
    var pushIdx = 1;

    queue[0] = root;

    while (queueLength) {
      var node = queue[shiftIdx];
      var body = node.body;

      queueLength -= 1;
      shiftIdx += 1;
      var differentBody = (body !== sourceBody);
      if (body && differentBody) {
        // If the current node is a leaf node (and it is not source body),
        // calculate the force exerted by the current node on body, and add this
        // amount to body's net force.
        ${h("d{var} = body.pos.{var} - sourceBody.pos.{var};",{indent:8})}
        r = Math.sqrt(${h("d{var} * d{var}",{join:" + "})});

        if (r === 0) {
          // Poor man's protection against zero distance.
          ${h("d{var} = (random.nextDouble() - 0.5) / 50;",{indent:10})}
          r = Math.sqrt(${h("d{var} * d{var}",{join:" + "})});
        }

        // This is standard gravitation force calculation but we divide
        // by r^3 to save two operations when normalizing force vector.
        v = gravity * body.mass * sourceBody.mass / (r * r * r);
        ${h("f{var} += v * d{var};",{indent:8})}
      } else if (differentBody) {
        // Otherwise, calculate the ratio s / r,  where s is the width of the region
        // represented by the internal node, and r is the distance between the body
        // and the node's center-of-mass
        ${h("d{var} = node.mass_{var} / node.mass - sourceBody.pos.{var};",{indent:8})}
        r = Math.sqrt(${h("d{var} * d{var}",{join:" + "})});

        if (r === 0) {
          // Sorry about code duplication. I don't want to create many functions
          // right away. Just want to see performance first.
          ${h("d{var} = (random.nextDouble() - 0.5) / 50;",{indent:10})}
          r = Math.sqrt(${h("d{var} * d{var}",{join:" + "})});
        }
        // If s / r < , treat this internal node as a single body, and calculate the
        // force it exerts on sourceBody, and add this amount to sourceBody's net force.
        if ((node.max_${e(0)} - node.min_${e(0)}) / r < theta) {
          // in the if statement above we consider node's width only
          // because the region was made into square during tree creation.
          // Thus there is no difference between using width or height.
          v = gravity * node.mass * sourceBody.mass / (r * r * r);
          ${h("f{var} += v * d{var};",{indent:10})}
        } else {
          // Otherwise, run the procedure recursively on each of the current node's children.

          // I intentionally unfolded this loop, to save several CPU cycles.
${b()}
        }
      }
    }

    ${h("sourceBody.force.{var} += f{var};",{indent:4})}
  }

  function insertBodies(bodies) {
    ${h("var {var}min = Number.MAX_VALUE;",{indent:4})}
    ${h("var {var}max = Number.MIN_VALUE;",{indent:4})}
    var i = bodies.length;

    // To reduce quad tree depth we are looking for exact bounding box of all particles.
    while (i--) {
      var pos = bodies[i].pos;
      ${h("if (pos.{var} < {var}min) {var}min = pos.{var};",{indent:6})}
      ${h("if (pos.{var} > {var}max) {var}max = pos.{var};",{indent:6})}
    }

    // Makes the bounds square.
    var maxSideLength = -Infinity;
    ${h("if ({var}max - {var}min > maxSideLength) maxSideLength = {var}max - {var}min ;",{indent:4})}

    currentInCache = 0;
    root = newNode();
    ${h("root.min_{var} = {var}min;",{indent:4})}
    ${h("root.max_{var} = {var}min + maxSideLength;",{indent:4})}

    i = bodies.length - 1;
    if (i >= 0) {
      root.body = bodies[i];
    }
    while (i--) {
      insert(bodies[i], root);
    }
  }

  function insert(newBody) {
    insertStack.reset();
    insertStack.push(root, newBody);

    while (!insertStack.isEmpty()) {
      var stackItem = insertStack.pop();
      var node = stackItem.node;
      var body = stackItem.body;

      if (!node.body) {
        // This is internal node. Update the total mass of the node and center-of-mass.
        ${h("var {var} = body.pos.{var};",{indent:8})}
        node.mass += body.mass;
        ${h("node.mass_{var} += body.mass * {var};",{indent:8})}

        // Recursively insert the body in the appropriate quadrant.
        // But first find the appropriate quadrant.
        var quadIdx = 0; // Assume we are in the 0's quad.
        ${h("var min_{var} = node.min_{var};",{indent:8})}
        ${h("var max_{var} = (min_{var} + node.max_{var}) / 2;",{indent:8})}

${v(8)}

        var child = getChild(node, quadIdx);

        if (!child) {
          // The node is internal but this quadrant is not taken. Add
          // subnode to it.
          child = newNode();
          ${h("child.min_{var} = min_{var};",{indent:10})}
          ${h("child.max_{var} = max_{var};",{indent:10})}
          child.body = body;

          setChild(node, quadIdx, child);
        } else {
          // continue searching in this quadrant.
          insertStack.push(child, body);
        }
      } else {
        // We are trying to add to the leaf node.
        // We have to convert current leaf into internal node
        // and continue adding two nodes.
        var oldBody = node.body;
        node.body = null; // internal nodes do not cary bodies

        if (isSamePosition(oldBody.pos, body.pos)) {
          // Prevent infinite subdivision by bumping one node
          // anywhere in this quadrant
          var retriesCount = 3;
          do {
            var offset = random.nextDouble();
            ${h("var d{var} = (node.max_{var} - node.min_{var}) * offset;",{indent:12})}

            ${h("oldBody.pos.{var} = node.min_{var} + d{var};",{indent:12})}
            retriesCount -= 1;
            // Make sure we don't bump it out of the box. If we do, next iteration should fix it
          } while (retriesCount > 0 && isSamePosition(oldBody.pos, body.pos));

          if (retriesCount === 0 && isSamePosition(oldBody.pos, body.pos)) {
            // This is very bad, we ran out of precision.
            // if we do not return from the method we'll get into
            // infinite loop here. So we sacrifice correctness of layout, and keep the app running
            // Next layout iteration should get larger bounding box in the first step and fix this
            return;
          }
        }
        // Next iteration should subdivide node further.
        insertStack.push(node, oldBody);
        insertStack.push(node, body);
      }
    }
  }
}
return createQuadTree;

`;function v(E){let x=[],A=Array(E+1).join(" ");for(let C=0;C<c;++C)x.push(A+`if (${e(C)} > max_${e(C)}) {`),x.push(A+`  quadIdx = quadIdx + ${Math.pow(2,C)};`),x.push(A+`  min_${e(C)} = max_${e(C)};`),x.push(A+`  max_${e(C)} = node.max_${e(C)};`),x.push(A+"}");return x.join(`
`)}function b(){let E=Array(11).join(" "),x=[];for(let A=0;A<p;++A)x.push(E+`if (node.quad${A}) {`),x.push(E+`  queue[pushIdx] = node.quad${A};`),x.push(E+"  queueLength += 1;"),x.push(E+"  pushIdx += 1;"),x.push(E+"}");return x.join(`
`)}function S(E){let x=[];for(let A=0;A<p;++A)x.push(`${E}quad${A} = null;`);return x.join(`
`)}}function s(c){let h=i(c);return`
  function isSamePosition(point1, point2) {
    ${h("var d{var} = Math.abs(point1.{var} - point2.{var});",{indent:2})}
  
    return ${h("d{var} < 1e-8",{join:" && "})};
  }  
`}function a(c){var h=Math.pow(2,c);return`
function setChild(node, idx, child) {
  ${p()}
}`;function p(){let g=[];for(let v=0;v<h;++v){let b=v===0?"  ":"  else ";g.push(`${b}if (idx === ${v}) node.quad${v} = child;`)}return g.join(`
`)}}function o(c){return`function getChild(node, idx) {
${h()}
  return null;
}`;function h(){let p=[],g=Math.pow(2,c);for(let v=0;v<g;++v)p.push(`  if (idx === ${v}) return node.quad${v};`);return p.join(`
`)}}function l(c){let h=i(c),p=Math.pow(2,c);var g=`
function QuadNode() {
  // body stored inside this node. In quad tree only leaf nodes (by construction)
  // contain bodies:
  this.body = null;

  // Child nodes are stored in quads. Each quad is presented by number:
  // 0 | 1
  // -----
  // 2 | 3
${v("  this.")}

  // Total mass of current node
  this.mass = 0;

  // Center of mass coordinates
  ${h("this.mass_{var} = 0;",{indent:2})}

  // bounding box coordinates
  ${h("this.min_{var} = 0;",{indent:2})}
  ${h("this.max_{var} = 0;",{indent:2})}
}
`;return g;function v(b){let S=[];for(let E=0;E<p;++E)S.push(`${b}quad${E} = null;`);return S.join(`
`)}}function u(){return`
/**
 * Our implementation of QuadTree is non-recursive to avoid GC hit
 * This data structure represent stack of elements
 * which we are trying to insert into quad tree.
 */
function InsertStack () {
    this.stack = [];
    this.popIdx = 0;
}

InsertStack.prototype = {
    isEmpty: function() {
        return this.popIdx === 0;
    },
    push: function (node, body) {
        var item = this.stack[this.popIdx];
        if (!item) {
            // we are trying to avoid memory pressure: create new element
            // only when absolutely necessary
            this.stack[this.popIdx] = new InsertStackElement(node, body);
        } else {
            item.node = node;
            item.body = body;
        }
        ++this.popIdx;
    },
    pop: function () {
        if (this.popIdx > 0) {
            return this.stack[--this.popIdx];
        }
    },
    reset: function () {
        this.popIdx = 0;
    }
};

function InsertStackElement(node, body) {
    this.node = node; // QuadTree node
    this.body = body; // physical body which needs to be inserted to node
}
`}return rd.exports}var UA={exports:{}},M9;function _Dt(){if(M9)return UA.exports;M9=1,UA.exports=e,UA.exports.generateFunctionBody=n;const i=Ab();function e(r){let s=n(r);return new Function("bodies","settings","random",s)}function n(r){let s=i(r);return`
  var boundingBox = {
    ${s("min_{var}: 0, max_{var}: 0,",{indent:4})}
  };

  return {
    box: boundingBox,

    update: updateBoundingBox,

    reset: resetBoundingBox,

    getBestNewPosition: function (neighbors) {
      var ${s("base_{var} = 0",{join:", "})};

      if (neighbors.length) {
        for (var i = 0; i < neighbors.length; ++i) {
          let neighborPos = neighbors[i].pos;
          ${s("base_{var} += neighborPos.{var};",{indent:10})}
        }

        ${s("base_{var} /= neighbors.length;",{indent:8})}
      } else {
        ${s("base_{var} = (boundingBox.min_{var} + boundingBox.max_{var}) / 2;",{indent:8})}
      }

      var springLength = settings.springLength;
      return {
        ${s("{var}: base_{var} + (random.nextDouble() - 0.5) * springLength,",{indent:8})}
      };
    }
  };

  function updateBoundingBox() {
    var i = bodies.length;
    if (i === 0) return; // No bodies - no borders.

    ${s("var max_{var} = -Infinity;",{indent:4})}
    ${s("var min_{var} = Infinity;",{indent:4})}

    while(i--) {
      // this is O(n), it could be done faster with quadtree, if we check the root node bounds
      var bodyPos = bodies[i].pos;
      ${s("if (bodyPos.{var} < min_{var}) min_{var} = bodyPos.{var};",{indent:6})}
      ${s("if (bodyPos.{var} > max_{var}) max_{var} = bodyPos.{var};",{indent:6})}
    }

    ${s("boundingBox.min_{var} = min_{var};",{indent:4})}
    ${s("boundingBox.max_{var} = max_{var};",{indent:4})}
  }

  function resetBoundingBox() {
    ${s("boundingBox.min_{var} = boundingBox.max_{var} = 0;",{indent:4})}
  }
`}return UA.exports}var kA={exports:{}},C9;function bDt(){if(C9)return kA.exports;C9=1;const i=Ab();kA.exports=e,kA.exports.generateCreateDragForceFunctionBody=n;function e(r){let s=n(r);return new Function("options",s)}function n(r){return`
  if (!Number.isFinite(options.dragCoefficient)) throw new Error('dragCoefficient is not a finite number');

  return {
    update: function(body) {
      ${i(r)("body.force.{var} -= options.dragCoefficient * body.velocity.{var};",{indent:6})}
    }
  };
`}return kA.exports}var zA={exports:{}},R9;function xDt(){if(R9)return zA.exports;R9=1;const i=Ab();zA.exports=e,zA.exports.generateCreateSpringForceFunctionBody=n;function e(r){let s=n(r);return new Function("options","random",s)}function n(r){let s=i(r);return`
  if (!Number.isFinite(options.springCoefficient)) throw new Error('Spring coefficient is not a number');
  if (!Number.isFinite(options.springLength)) throw new Error('Spring length is not a number');

  return {
    /**
     * Updates forces acting on a spring
     */
    update: function (spring) {
      var body1 = spring.from;
      var body2 = spring.to;
      var length = spring.length < 0 ? options.springLength : spring.length;
      ${s("var d{var} = body2.pos.{var} - body1.pos.{var};",{indent:6})}
      var r = Math.sqrt(${s("d{var} * d{var}",{join:" + "})});

      if (r === 0) {
        ${s("d{var} = (random.nextDouble() - 0.5) / 50;",{indent:8})}
        r = Math.sqrt(${s("d{var} * d{var}",{join:" + "})});
      }

      var d = r - length;
      var coefficient = ((spring.coefficient > 0) ? spring.coefficient : options.springCoefficient) * d / r;

      ${s("body1.force.{var} += coefficient * d{var}",{indent:6})};
      body1.springCount += 1;
      body1.springLength += r;

      ${s("body2.force.{var} -= coefficient * d{var}",{indent:6})};
      body2.springCount += 1;
      body2.springLength += r;
    }
  };
`}return zA.exports}var BA={exports:{}},O9;function SDt(){if(O9)return BA.exports;O9=1;const i=Ab();BA.exports=e,BA.exports.generateIntegratorFunctionBody=n;function e(r){let s=n(r);return new Function("bodies","timeStep","adaptiveTimeStepWeight",s)}function n(r){let s=i(r);return`
  var length = bodies.length;
  if (length === 0) return 0;

  ${s("var d{var} = 0, t{var} = 0;",{indent:2})}

  for (var i = 0; i < length; ++i) {
    var body = bodies[i];
    if (body.isPinned) continue;

    if (adaptiveTimeStepWeight && body.springCount) {
      timeStep = (adaptiveTimeStepWeight * body.springLength/body.springCount);
    }

    var coeff = timeStep / body.mass;

    ${s("body.velocity.{var} += coeff * body.force.{var};",{indent:4})}
    ${s("var v{var} = body.velocity.{var};",{indent:4})}
    var v = Math.sqrt(${s("v{var} * v{var}",{join:" + "})});

    if (v > 1) {
      // We normalize it so that we move within timeStep range. 
      // for the case when v <= 1 - we let velocity to fade out.
      ${s("body.velocity.{var} = v{var} / v;",{indent:6})}
    }

    ${s("d{var} = timeStep * body.velocity.{var};",{indent:4})}

    ${s("body.pos.{var} += d{var};",{indent:4})}

    ${s("t{var} += Math.abs(d{var});",{indent:4})}
  }

  return (${s("t{var} * t{var}",{join:" + "})})/length;
`}return BA.exports}var DD,P9;function EDt(){if(P9)return DD;P9=1,DD=i;function i(e,n,r,s){this.from=e,this.to=n,this.length=r,this.coefficient=s}return DD}var ND,I9;function TDt(){if(I9)return ND;I9=1,ND=i;function i(e,n){var r;if(e||(e={}),n){for(r in n)if(n.hasOwnProperty(r)){var s=e.hasOwnProperty(r),a=typeof n[r],o=!s||typeof e[r]!==a;o?e[r]=n[r]:a==="object"&&(e[r]=i(e[r],n[r]))}}return e}return ND}var p1={exports:{}},D9;function wDt(){if(D9)return p1.exports;D9=1,p1.exports=i,p1.exports.random=i,p1.exports.randomIterator=l;function i(u){var c=typeof u=="number"?u:+new Date;return new e(c)}function e(u){this.seed=u}e.prototype.next=o,e.prototype.nextDouble=a,e.prototype.uniform=a,e.prototype.gaussian=n,e.prototype.random=a;function n(){var u,c,h;do c=this.nextDouble()*2-1,h=this.nextDouble()*2-1,u=c*c+h*h;while(u>=1||u===0);return c*Math.sqrt(-2*Math.log(u)/u)}e.prototype.levy=r;function r(){var u=1.5,c=Math.pow(s(1+u)*Math.sin(Math.PI*u/2)/(s((1+u)/2)*u*Math.pow(2,(u-1)/2)),1/u);return this.gaussian()*c/Math.pow(Math.abs(this.gaussian()),1/u)}function s(u){return Math.sqrt(2*Math.PI/u)*Math.pow(1/Math.E*(u+1/(12*u-1/(10*u))),u)}function a(){var u=this.seed;return u=u+2127912214+(u<<12)&4294967295,u=(u^3345072700^u>>>19)&4294967295,u=u+374761393+(u<<5)&4294967295,u=(u+3550635116^u<<9)&4294967295,u=u+4251993797+(u<<3)&4294967295,u=(u^3042594569^u>>>16)&4294967295,this.seed=u,(u&268435455)/268435456}function o(u){return Math.floor(this.nextDouble()*u)}function l(u,c){var h=c||i();if(typeof h.next!="function")throw new Error("customRandom does not match expected API: next() function is missing");return{forEach:g,shuffle:p};function p(){var v,b,S;for(v=u.length-1;v>0;--v)b=h.next(v+1),S=u[b],u[b]=u[v],u[v]=S;return u}function g(v){var b,S,E;for(b=u.length-1;b>0;--b)S=h.next(b+1),E=u[S],u[S]=u[b],u[b]=E,v(E);u.length&&v(u[0])}}return p1.exports}var LD,N9;function L9(){if(N9)return LD;N9=1,LD=l;var i=yDt(),e=vDt(),n=_Dt(),r=bDt(),s=xDt(),a=SDt(),o={};function l(h){var p=EDt(),g=TDt(),v=jk();if(h){if(h.springCoeff!==void 0)throw new Error("springCoeff was renamed to springCoefficient");if(h.dragCoeff!==void 0)throw new Error("dragCoeff was renamed to dragCoefficient")}h=g(h,{springLength:10,springCoefficient:.8,gravity:-12,theta:.8,dragCoefficient:.9,timeStep:.5,adaptiveTimeStepWeight:0,dimensions:2,debug:!1});var b=o[h.dimensions];if(!b){var S=h.dimensions;b={Body:i(S,h.debug),createQuadTree:e(S),createBounds:n(S),createDragForce:r(S),createSpringForce:s(S),integrate:a(S)},o[S]=b}var E=b.Body,x=b.createQuadTree,A=b.createBounds,C=b.createDragForce,M=b.createSpringForce,P=b.integrate,k=ht=>new E(ht),D=wDt().random(42),N=[],U=[],R=x(h,D),B=A(N,h,D),H=M(h,D),V=C(h),Y=0,et=[],G=new Map,X=0;Z("nbody",xt),Z("spring",it);var J={bodies:N,quadTree:R,springs:U,settings:h,addForce:Z,removeForce:dt,getForces:yt,step:function(){for(var ht=0;ht<et.length;++ht)et[ht](X);var lt=P(N,h.timeStep,h.adaptiveTimeStepWeight);return X+=1,lt},addBody:function(ht){if(!ht)throw new Error("Body is required");return N.push(ht),ht},addBodyAt:function(ht){if(!ht)throw new Error("Body position is required");var lt=k(ht);return N.push(lt),lt},removeBody:function(ht){if(ht){var lt=N.indexOf(ht);if(!(lt<0))return N.splice(lt,1),N.length===0&&B.reset(),!0}},addSpring:function(ht,lt,gt,Tt){if(!ht||!lt)throw new Error("Cannot add null spring to force simulator");typeof gt!="number"&&(gt=-1);var Kt=new p(ht,lt,gt,Tt>=0?Tt:-1);return U.push(Kt),Kt},getTotalMovement:function(){return Y},removeSpring:function(ht){if(ht){var lt=U.indexOf(ht);if(lt>-1)return U.splice(lt,1),!0}},getBestNewBodyPosition:function(ht){return B.getBestNewPosition(ht)},getBBox:nt,getBoundingBox:nt,invalidateBBox:function(){console.warn("invalidateBBox() is deprecated, bounds always recomputed on `getBBox()` call")},gravity:function(ht){return ht!==void 0?(h.gravity=ht,R.options({gravity:ht}),this):h.gravity},theta:function(ht){return ht!==void 0?(h.theta=ht,R.options({theta:ht}),this):h.theta},random:D};return u(h,J),v(J),J;function nt(){return B.update(),B.box}function Z(ht,lt){if(G.has(ht))throw new Error("Force "+ht+" is already added");G.set(ht,lt),et.push(lt)}function dt(ht){var lt=et.indexOf(G.get(ht));lt<0||(et.splice(lt,1),G.delete(ht))}function yt(){return G}function xt(){if(N.length!==0){R.insertBodies(N);for(var ht=N.length;ht--;){var lt=N[ht];lt.isPinned||(lt.reset(),R.updateBodyForce(lt),V.update(lt))}}}function it(){for(var ht=U.length;ht--;)H.update(U[ht])}}function u(h,p){for(var g in h)c(h,p,g)}function c(h,p,g){if(h.hasOwnProperty(g)&&typeof p[g]!="function"){var v=Number.isFinite(h[g]);v?p[g]=function(b){if(b!==void 0){if(!Number.isFinite(b))throw new Error("Value of "+g+" should be a valid number.");return h[g]=b,p}return h[g]}:p[g]=function(b){return b!==void 0?(h[g]=b,p):h[g]}}}return LD}var U9;function ADt(){if(U9)return LA.exports;U9=1,LA.exports=e,LA.exports.simulator=L9();var i=jk();function e(r,s){if(!r)throw new Error("Graph structure cannot be undefined");var a=s&&s.createSimulator||L9(),o=a(s);if(Array.isArray(s))throw new Error("Physics settings is expected to be an object");var l=r.version>19?G:et;s&&typeof s.nodeMass=="function"&&(l=s.nodeMass);var u=new Map,c={},h=0,p=o.settings.springTransform||n;k(),C();var g=!1,v={step:function(){if(h===0)return b(!0),!0;var X=o.step();v.lastMove=X,v.fire("step");var J=X/h,nt=J<=.01;return b(nt),nt},getNodePosition:function(X){return Y(X).pos},setNodePosition:function(X){var J=Y(X);J.setPosition.apply(J,Array.prototype.slice.call(arguments,1))},getLinkPosition:function(X){var J=c[X];if(J)return{from:J.from.pos,to:J.to.pos}},getGraphRect:function(){return o.getBBox()},forEachBody:S,pinNode:function(X,J){var nt=Y(X.id);nt.isPinned=!!J},isNodePinned:function(X){return Y(X.id).isPinned},dispose:function(){r.off("changed",P),v.fire("disposed")},getBody:A,getSpring:x,getForceVectorLength:E,simulator:o,graph:r,lastMove:0};return i(v),v;function b(X){g!==X&&(g=X,M(X))}function S(X){u.forEach(X)}function E(){var X=0,J=0;return S(function(nt){X+=Math.abs(nt.force.x),J+=Math.abs(nt.force.y)}),Math.sqrt(X*X+J*J)}function x(X,J){var nt;if(J===void 0)typeof X!="object"?nt=X:nt=X.id;else{var Z=r.hasLink(X,J);if(!Z)return;nt=Z.id}return c[nt]}function A(X){return u.get(X)}function C(){r.on("changed",P)}function M(X){v.fire("stable",X)}function P(X){for(var J=0;J<X.length;++J){var nt=X[J];nt.changeType==="add"?(nt.node&&D(nt.node.id),nt.link&&U(nt.link)):nt.changeType==="remove"&&(nt.node&&N(nt.node),nt.link&&R(nt.link))}h=r.getNodesCount()}function k(){h=0,r.forEachNode(function(X){D(X.id),h+=1}),r.forEachLink(U)}function D(X){var J=u.get(X);if(!J){var nt=r.getNode(X);if(!nt)throw new Error("initBody() was called with unknown node id");var Z=nt.position;if(!Z){var dt=B(nt);Z=o.getBestNewBodyPosition(dt)}J=o.addBodyAt(Z),J.id=X,u.set(X,J),H(X),V(nt)&&(J.isPinned=!0)}}function N(X){var J=X.id,nt=u.get(J);nt&&(u.delete(J),o.removeBody(nt))}function U(X){H(X.fromId),H(X.toId);var J=u.get(X.fromId),nt=u.get(X.toId),Z=o.addSpring(J,nt,X.length);p(X,Z),c[X.id]=Z}function R(X){var J=c[X.id];if(J){var nt=r.getNode(X.fromId),Z=r.getNode(X.toId);nt&&H(nt.id),Z&&H(Z.id),delete c[X.id],o.removeSpring(J)}}function B(X){var J=[];if(!X.links)return J;for(var nt=Math.min(X.links.length,2),Z=0;Z<nt;++Z){var dt=X.links[Z],yt=dt.fromId!==X.id?u.get(dt.fromId):u.get(dt.toId);yt&&yt.pos&&J.push(yt)}return J}function H(X){var J=u.get(X);if(J.mass=l(X),Number.isNaN(J.mass))throw new Error("Node mass should be a number")}function V(X){return X&&(X.isPinned||X.data&&X.data.isPinned)}function Y(X){var J=u.get(X);return J||(D(X),J=u.get(X)),J}function et(X){var J=r.getLinks(X);return J?1+J.length/3:1}function G(X){var J=r.getLinks(X);return J?1+J.size/3:1}}function n(){}return LA.exports}var MDt=ADt();const CDt=hh(MDt);function lL(i,e){(e==null||e>i.length)&&(e=i.length);for(var n=0,r=Array(e);n<e;n++)r[n]=i[n];return r}function RDt(i){if(Array.isArray(i))return i}function ODt(i){if(Array.isArray(i))return lL(i)}function BK(i,e,n){if(typeof i=="function"?i===e:i.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function PDt(i,e){if(e.has(i))throw new TypeError("Cannot initialize the same private elements twice on an object")}function IDt(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function Ha(i,e){return i.get(BK(i,e))}function qv(i,e,n){PDt(i,e),e.set(i,n)}function FA(i,e,n){return i.set(BK(i,e),n),n}function DDt(i,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,HDt(r.key),r)}}function NDt(i,e,n){return e&&DDt(i.prototype,e),Object.defineProperty(i,"prototype",{writable:!1}),i}function LDt(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function UDt(i,e){var n=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(n!=null){var r,s,a,o,l=[],u=!0,c=!1;try{if(a=(n=n.call(i)).next,e!==0)for(;!(u=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(h){c=!0,s=h}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw s}}return l}}function kDt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zDt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BDt(i,e){return RDt(i)||UDt(i,e)||FK(i,e)||kDt()}function FDt(i){return ODt(i)||LDt(i)||FK(i)||zDt()}function VDt(i,e){if(typeof i!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var r=n.call(i,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}function HDt(i){var e=VDt(i,"string");return typeof e=="symbol"?e:e+""}function FK(i,e){if(i){if(typeof i=="string")return lL(i,e);var n={}.toString.call(i).slice(8,-1);return n==="Object"&&i.constructor&&(n=i.constructor.name),n==="Map"||n==="Set"?Array.from(i):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lL(i,e):void 0}}var Wv=new WeakMap,m1=new WeakMap,Xv=new WeakMap,UD=new WeakMap,kD=new WeakMap,zD=new WeakMap,jDt=function(){function i(){IDt(this,i),qv(this,Wv,new Map),qv(this,m1,new Map),qv(this,Xv,function(e){return e}),qv(this,UD,function(){return{}}),qv(this,kD,function(){}),qv(this,zD,function(){})}return NDt(i,[{key:"getObj",value:function(n){return Ha(Wv,this).get(Ha(Xv,this).call(this,n))}},{key:"getData",value:function(n){return Ha(m1,this).get(n)}},{key:"entries",value:function(){return FDt(Ha(m1,this).entries()).map(function(n){var r=BDt(n,2),s=r[0],a=r[1];return[a,s]})}},{key:"id",value:function(n){return FA(Xv,this,Ke(n)),this}},{key:"onCreateObj",value:function(n){return FA(UD,this,n),this}},{key:"onUpdateObj",value:function(n){return FA(kD,this,n),this}},{key:"onRemoveObj",value:function(n){return FA(zD,this,n),this}},{key:"digest",value:function(n){var r=this;n.filter(function(a){return!Ha(Wv,r).has(Ha(Xv,r).call(r,a))}).forEach(function(a){var o=Ha(UD,r).call(r,a);Ha(Wv,r).set(Ha(Xv,r).call(r,a),o),Ha(m1,r).set(o,a)});var s=new Map(n.map(function(a){return[Ha(Xv,r).call(r,a),a]}));return Ha(Wv,this).forEach(function(a,o){s.has(o)?Ha(kD,r).call(r,a,s.get(o)):(Ha(zD,r).call(r,a,o),Ha(Wv,r).delete(o),Ha(m1,r).delete(a))}),this}},{key:"clear",value:function(){return this.digest([]),this}}])}();function uL(i,e){(e==null||e>i.length)&&(e=i.length);for(var n=0,r=Array(e);n<e;n++)r[n]=i[n];return r}function GDt(i){if(Array.isArray(i))return i}function $Dt(i){if(Array.isArray(i))return uL(i)}function VK(i,e,n){if(typeof i=="function"?i===e:i.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function qDt(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function HK(i,e,n){return e=ob(e),t3t(i,Gk()?Reflect.construct(e,n||[],ob(i).constructor):e.apply(i,n))}function WDt(i,e){if(e.has(i))throw new TypeError("Cannot initialize the same private elements twice on an object")}function jK(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function BD(i,e){return i.get(VK(i,e))}function k9(i,e,n){WDt(i,e),e.set(i,n)}function z9(i,e,n){return i.set(VK(i,e),n),n}function GK(i,e,n){if(Gk())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var s=new(i.bind.apply(i,r));return s}function XDt(i,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,WK(r.key),r)}}function $K(i,e,n){return e&&XDt(i.prototype,e),Object.defineProperty(i,"prototype",{writable:!1}),i}function SO(i,e,n){return(e=WK(e))in i?Object.defineProperty(i,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[e]=n,i}function cL(){return cL=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(i,e,n){var r=e3t(i,e);if(r){var s=Object.getOwnPropertyDescriptor(r,e);return s.get?s.get.call(arguments.length<3?i:n):s.value}},cL.apply(null,arguments)}function ob(i){return ob=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ob(i)}function qK(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),e&&fL(i,e)}function Gk(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Gk=function(){return!!i})()}function YDt(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function KDt(i,e){var n=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(n!=null){var r,s,a,o,l=[],u=!0,c=!1;try{if(a=(n=n.call(i)).next,e!==0)for(;!(u=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(h){c=!0,s=h}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw s}}return l}}function ZDt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QDt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B9(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(i,s).enumerable})),n.push.apply(n,r)}return n}function JDt(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B9(Object(n),!0).forEach(function(r){SO(i,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):B9(Object(n)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(n,r))})}return i}function t3t(i,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qDt(i)}function fL(i,e){return fL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},fL(i,e)}function hS(i,e){return GDt(i)||KDt(i,e)||XK(i,e)||ZDt()}function e3t(i,e){for(;!{}.hasOwnProperty.call(i,e)&&(i=ob(i))!==null;);return i}function FD(i,e,n,r){var s=cL(ob(i.prototype),e,n);return typeof s=="function"?function(a){return s.apply(n,a)}:s}function Tc(i){return $Dt(i)||YDt(i)||XK(i)||QDt()}function n3t(i,e){if(typeof i!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var r=n.call(i,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function WK(i){var e=n3t(i,"string");return typeof e=="symbol"?e:e+""}function hL(i){"@babel/helpers - typeof";return hL=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hL(i)}function XK(i,e){if(i){if(typeof i=="string")return uL(i,e);var n={}.toString.call(i).slice(8,-1);return n==="Object"&&i.constructor&&(n=i.constructor.name),n==="Map"||n==="Set"?Array.from(i):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?uL(i,e):void 0}}var YK=function(e){e instanceof Array?e.forEach(YK):(e.map&&e.map.dispose(),e.dispose())},KK=function(e){e.geometry&&e.geometry.dispose(),e.material&&YK(e.material),e.texture&&e.texture.dispose(),e.children&&e.children.forEach(KK)},dL=function(e){for(;e.children.length;){var n=e.children[0];e.remove(n),KK(n)}},VD=new WeakMap,VA=new WeakMap,g1=function(i){function e(n){var r,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=s.dataBindAttr,o=a===void 0?"__data":a,l=s.objBindAttr,u=l===void 0?"__threeObj":l;return jK(this,e),r=HK(this,e),SO(r,"scene",void 0),k9(r,VD,void 0),k9(r,VA,void 0),r.scene=n,z9(VD,r,o),z9(VA,r,u),r.onRemoveObj(function(){}),r}return qK(e,i),$K(e,[{key:"onCreateObj",value:function(r){var s=this;return FD(e,"onCreateObj",this)([function(a){var o=r(a);return a[BD(VA,s)]=o,o[BD(VD,s)]=a,s.scene.add(o),o}]),this}},{key:"onRemoveObj",value:function(r){var s=this;return FD(e,"onRemoveObj",this)([function(a,o){var l=FD(e,"getData",s)([a]);r(a,o),s.scene.remove(a),dL(a),delete l[BD(VA,s)]}]),this}}])}(jDt),y1=function(e){return isNaN(e)?parseInt(Ze(e).toHex(),16):e},HD=function(e){return isNaN(e)?Ze(e).getAlpha():1},i3t=Bk(RK);function F9(i,e,n){!e||typeof n!="string"||i.filter(function(r){return!r[n]}).forEach(function(r){r[n]=i3t(e(r))})}function r3t(i,e){var n=i.nodes,r=i.links,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=s.nodeFilter,o=a===void 0?function(){return!0}:a,l=s.onLoopError,u=l===void 0?function(v){throw"Invalid DAG structure! Found cycle in node path: ".concat(v.join(" -> "),".")}:l,c={};n.forEach(function(v){return c[e(v)]={data:v,out:[],depth:-1,skip:!o(v)}}),r.forEach(function(v){var b=v.source,S=v.target,E=M(b),x=M(S);if(!c.hasOwnProperty(E))throw"Missing source node with id: ".concat(E);if(!c.hasOwnProperty(x))throw"Missing target node with id: ".concat(x);var A=c[E],C=c[x];A.out.push(C);function M(P){return hL(P)==="object"?e(P):P}});var h=[];g(Object.values(c));var p=Object.assign.apply(Object,[{}].concat(Tc(Object.entries(c).filter(function(v){var b=hS(v,2),S=b[1];return!S.skip}).map(function(v){var b=hS(v,2),S=b[0],E=b[1];return SO({},S,E.depth)}))));return p;function g(v){for(var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,E=function(){var M=v[x];if(b.indexOf(M)!==-1){var P=[].concat(Tc(b.slice(b.indexOf(M))),[M]).map(function(k){return e(k.data)});return h.some(function(k){return k.length===P.length&&k.every(function(D,N){return D===P[N]})})||(h.push(P),u(P)),1}S>M.depth&&(M.depth=S,g(M.out,[].concat(Tc(b),[M]),S+(M.skip?0:1)))},x=0,A=v.length;x<A;x++)E()}}var xn=window.THREE?window.THREE:{Group:gd,Mesh:rs,MeshLambertMaterial:lU,Color:He,BufferGeometry:Wn,BufferAttribute:Xi,Matrix4:Sn,Vector3:pt,SphereGeometry:r0,CylinderGeometry:i0,TubeGeometry:SE,ConeGeometry:bE,Line:Id,LineBasicMaterial:Ja,QuadraticBezierCurve3:aR,CubicBezierCurve3:rU,Box3:xa},V9={graph:gDt,forcelayout:CDt},s3t=2,jD=new xn.BufferGeometry().setAttribute?"setAttribute":"addAttribute",HA=new xn.BufferGeometry().applyMatrix4?"applyMatrix4":"applyMatrix",a3t=yO({props:{jsonUrl:{onChange:function(e,n){var r=this;e&&!n.fetchingJson&&(n.fetchingJson=!0,n.onLoading(),fetch(e).then(function(s){return s.json()}).then(function(s){n.fetchingJson=!1,n.onFinishLoading(s),r.graphData(s)}))},triggerUpdate:!1},graphData:{default:{nodes:[],links:[]},onChange:function(e,n){n.engineRunning=!1}},numDimensions:{default:3,onChange:function(e,n){var r=n.d3ForceLayout.force("charge");r&&r.strength(e>2?-60:-30),e<3&&s(n.graphData.nodes,"z"),e<2&&s(n.graphData.nodes,"y");function s(a,o){a.forEach(function(l){delete l[o],delete l["v".concat(o)]})}}},dagMode:{onChange:function(e,n){!e&&n.forceEngine==="d3"&&(n.graphData.nodes||[]).forEach(function(r){return r.fx=r.fy=r.fz=void 0})}},dagLevelDistance:{},dagNodeFilter:{default:function(e){return!0}},onDagError:{triggerUpdate:!1},nodeRelSize:{default:4},nodeId:{default:"id"},nodeVal:{default:"val"},nodeResolution:{default:8},nodeColor:{default:"color"},nodeAutoColorBy:{},nodeOpacity:{default:.75},nodeVisibility:{default:!0},nodeThreeObject:{},nodeThreeObjectExtend:{default:!1},nodePositionUpdate:{triggerUpdate:!1},linkSource:{default:"source"},linkTarget:{default:"target"},linkVisibility:{default:!0},linkColor:{default:"color"},linkAutoColorBy:{},linkOpacity:{default:.2},linkWidth:{},linkResolution:{default:6},linkCurvature:{default:0,triggerUpdate:!1},linkCurveRotation:{default:0,triggerUpdate:!1},linkMaterial:{},linkThreeObject:{},linkThreeObjectExtend:{default:!1},linkPositionUpdate:{triggerUpdate:!1},linkDirectionalArrowLength:{default:0},linkDirectionalArrowColor:{},linkDirectionalArrowRelPos:{default:.5,triggerUpdate:!1},linkDirectionalArrowResolution:{default:8},linkDirectionalParticles:{default:0},linkDirectionalParticleSpeed:{default:.01,triggerUpdate:!1},linkDirectionalParticleWidth:{default:.5},linkDirectionalParticleColor:{},linkDirectionalParticleResolution:{default:4},forceEngine:{default:"d3"},d3AlphaMin:{default:0},d3AlphaDecay:{default:.0228,triggerUpdate:!1,onChange:function(e,n){n.d3ForceLayout.alphaDecay(e)}},d3AlphaTarget:{default:0,triggerUpdate:!1,onChange:function(e,n){n.d3ForceLayout.alphaTarget(e)}},d3VelocityDecay:{default:.4,triggerUpdate:!1,onChange:function(e,n){n.d3ForceLayout.velocityDecay(e)}},ngraphPhysics:{default:{timeStep:20,gravity:-1.2,theta:.8,springLength:30,springCoefficient:8e-4,dragCoefficient:.02}},warmupTicks:{default:0,triggerUpdate:!1},cooldownTicks:{default:1/0,triggerUpdate:!1},cooldownTime:{default:15e3,triggerUpdate:!1},onLoading:{default:function(){},triggerUpdate:!1},onFinishLoading:{default:function(){},triggerUpdate:!1},onUpdate:{default:function(){},triggerUpdate:!1},onFinishUpdate:{default:function(){},triggerUpdate:!1},onEngineTick:{default:function(){},triggerUpdate:!1},onEngineStop:{default:function(){},triggerUpdate:!1}},methods:{refresh:function(e){return e._flushObjects=!0,e._rerender(),this},d3Force:function(e,n,r){return r===void 0?e.d3ForceLayout.force(n):(e.d3ForceLayout.force(n,r),this)},d3ReheatSimulation:function(e){return e.d3ForceLayout.alpha(1),this.resetCountdown(),this},resetCountdown:function(e){return e.cntTicks=0,e.startTickTime=new Date,e.engineRunning=!0,this},tickFrame:function(e){var n=e.forceEngine!=="ngraph";return e.engineRunning&&r(),s(),a(),this;function r(){++e.cntTicks>e.cooldownTicks||new Date-e.startTickTime>e.cooldownTime||n&&e.d3AlphaMin>0&&e.d3ForceLayout.alpha()<e.d3AlphaMin?(e.engineRunning=!1,e.onEngineStop()):(e.layout[n?"tick":"step"](),e.onEngineTick());var o=Ke(e.nodeThreeObjectExtend);e.nodeDataMapper.entries().forEach(function(g){var v=hS(g,2),b=v[0],S=v[1];if(S){var E=n?b:e.layout.getNodePosition(b[e.nodeId]),x=o(b);(!e.nodePositionUpdate||!e.nodePositionUpdate(x?S.children[0]:S,{x:E.x,y:E.y,z:E.z},b)||x)&&(S.position.x=E.x,S.position.y=E.y||0,S.position.z=E.z||0)}});var l=Ke(e.linkWidth),u=Ke(e.linkCurvature),c=Ke(e.linkCurveRotation),h=Ke(e.linkThreeObjectExtend);e.linkDataMapper.entries().forEach(function(g){var v=hS(g,2),b=v[0],S=v[1];if(S){var E=n?b:e.layout.getLinkPosition(e.layout.graph.getLink(b.source,b.target).id),x=E[n?"source":"from"],A=E[n?"target":"to"];if(!(!x||!A||!x.hasOwnProperty("x")||!A.hasOwnProperty("x"))){p(b);var C=h(b);if(!(e.linkPositionUpdate&&e.linkPositionUpdate(C?S.children[1]:S,{start:{x:x.x,y:x.y,z:x.z},end:{x:A.x,y:A.y,z:A.z}},b)&&!C)){var M=30,P=b.__curve,k=S.children.length?S.children[0]:S;if(k.type==="Line"){if(P){var N=P.getPoints(M);k.geometry.getAttribute("position").array.length!==N.length*3&&k.geometry[jD]("position",new xn.BufferAttribute(new Float32Array(N.length*3),3)),k.geometry.setFromPoints(N)}else{var D=k.geometry.getAttribute("position");(!D||!D.array||D.array.length!==6)&&k.geometry[jD]("position",D=new xn.BufferAttribute(new Float32Array(2*3),3)),D.array[0]=x.x,D.array[1]=x.y||0,D.array[2]=x.z||0,D.array[3]=A.x,D.array[4]=A.y||0,D.array[5]=A.z||0,D.needsUpdate=!0}k.geometry.computeBoundingSphere()}else if(k.type==="Mesh")if(P){k.geometry.type.match(/^Tube(Buffer)?Geometry$/)||(k.position.set(0,0,0),k.rotation.set(0,0,0),k.scale.set(1,1,1));var et=Math.ceil(l(b)*10)/10,G=et/2,X=new xn.TubeGeometry(P,M,G,e.linkResolution,!1);k.geometry.dispose(),k.geometry=X}else{if(!k.geometry.type.match(/^Cylinder(Buffer)?Geometry$/)){var U=Math.ceil(l(b)*10)/10,R=U/2,B=new xn.CylinderGeometry(R,R,1,e.linkResolution,1,!1);B[HA](new xn.Matrix4().makeTranslation(0,1/2,0)),B[HA](new xn.Matrix4().makeRotationX(Math.PI/2)),k.geometry.dispose(),k.geometry=B}var H=new xn.Vector3(x.x,x.y||0,x.z||0),V=new xn.Vector3(A.x,A.y||0,A.z||0),Y=H.distanceTo(V);k.position.x=H.x,k.position.y=H.y,k.position.z=H.z,k.scale.z=Y,k.parent.localToWorld(V),k.lookAt(V)}}}}});function p(g){var v=n?g:e.layout.getLinkPosition(e.layout.graph.getLink(g.source,g.target).id),b=v[n?"source":"from"],S=v[n?"target":"to"];if(!(!b||!S||!b.hasOwnProperty("x")||!S.hasOwnProperty("x"))){var E=u(g);if(!E)g.__curve=null;else{var x=new xn.Vector3(b.x,b.y||0,b.z||0),A=new xn.Vector3(S.x,S.y||0,S.z||0),C=x.distanceTo(A),M,P=c(g);if(C>0){var k=S.x-b.x,D=S.y-b.y||0,N=new xn.Vector3().subVectors(A,x),U=N.clone().multiplyScalar(E).cross(k!==0||D!==0?new xn.Vector3(0,0,1):new xn.Vector3(0,1,0)).applyAxisAngle(N.normalize(),P).add(new xn.Vector3().addVectors(x,A).divideScalar(2));M=new xn.QuadraticBezierCurve3(x,U,A)}else{var R=E*70,B=-P,H=B+Math.PI/2;M=new xn.CubicBezierCurve3(x,new xn.Vector3(R*Math.cos(H),R*Math.sin(H),0).add(x),new xn.Vector3(R*Math.cos(B),R*Math.sin(B),0).add(x),A)}g.__curve=M}}}}function s(){var o=Ke(e.linkDirectionalArrowRelPos),l=Ke(e.linkDirectionalArrowLength),u=Ke(e.nodeVal);e.arrowDataMapper.entries().forEach(function(c){var h=hS(c,2),p=h[0],g=h[1];if(g){var v=n?p:e.layout.getLinkPosition(e.layout.graph.getLink(p.source,p.target).id),b=v[n?"source":"from"],S=v[n?"target":"to"];if(!(!b||!S||!b.hasOwnProperty("x")||!S.hasOwnProperty("x"))){var E=Math.cbrt(Math.max(0,u(b)||1))*e.nodeRelSize,x=Math.cbrt(Math.max(0,u(S)||1))*e.nodeRelSize,A=l(p),C=o(p),M=p.__curve?function(R){return p.__curve.getPoint(R)}:function(R){var B=function(V,Y,et,G){return Y[V]+(et[V]-Y[V])*G||0};return{x:B("x",b,S,R),y:B("y",b,S,R),z:B("z",b,S,R)}},P=p.__curve?p.__curve.getLength():Math.sqrt(["x","y","z"].map(function(R){return Math.pow((S[R]||0)-(b[R]||0),2)}).reduce(function(R,B){return R+B},0)),k=E+A+(P-E-x-A)*C,D=M(k/P),N=M((k-A)/P);["x","y","z"].forEach(function(R){return g.position[R]=N[R]});var U=GK(xn.Vector3,Tc(["x","y","z"].map(function(R){return D[R]})));g.parent.localToWorld(U),g.lookAt(U)}}})}function a(){var o=Ke(e.linkDirectionalParticleSpeed);e.graphData.links.forEach(function(l){var u=e.particlesDataMapper.getObj(l),c=u&&u.children,h=l.__singleHopPhotonsObj&&l.__singleHopPhotonsObj.children;if(!((!h||!h.length)&&(!c||!c.length))){var p=n?l:e.layout.getLinkPosition(e.layout.graph.getLink(l.source,l.target).id),g=p[n?"source":"from"],v=p[n?"target":"to"];if(!(!g||!v||!g.hasOwnProperty("x")||!v.hasOwnProperty("x"))){var b=o(l),S=l.__curve?function(x){return l.__curve.getPoint(x)}:function(x){var A=function(M,P,k,D){return P[M]+(k[M]-P[M])*D||0};return{x:A("x",g,v,x),y:A("y",g,v,x),z:A("z",g,v,x)}},E=[].concat(Tc(c||[]),Tc(h||[]));E.forEach(function(x,A){var C=x.parent.__linkThreeObjType==="singleHopPhotons";if(x.hasOwnProperty("__progressRatio")||(x.__progressRatio=C?0:A/c.length),x.__progressRatio+=b,x.__progressRatio>=1)if(!C)x.__progressRatio=x.__progressRatio%1;else{x.parent.remove(x),dL(x);return}var M=x.__progressRatio,P=S(M);["x","y","z"].forEach(function(k){return x.position[k]=P[k]})})}}})}},emitParticle:function(e,n){if(n&&e.graphData.links.includes(n)){if(!n.__singleHopPhotonsObj){var r=new xn.Group;r.__linkThreeObjType="singleHopPhotons",n.__singleHopPhotonsObj=r,e.graphScene.add(r)}var s=Ke(e.linkDirectionalParticleWidth),a=Math.ceil(s(n)*10)/10/2,o=e.linkDirectionalParticleResolution,l=new xn.SphereGeometry(a,o,o),u=Ke(e.linkColor),c=Ke(e.linkDirectionalParticleColor),h=c(n)||u(n)||"#f0f0f0",p=new xn.Color(y1(h)),g=e.linkOpacity*3,v=new xn.MeshLambertMaterial({color:p,transparent:!0,opacity:g});n.__singleHopPhotonsObj.add(new xn.Mesh(l,v))}return this},getGraphBbox:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return!0};if(!e.initialised)return null;var r=function s(a){var o=[];if(a.geometry){a.geometry.computeBoundingBox();var l=new xn.Box3;l.copy(a.geometry.boundingBox).applyMatrix4(a.matrixWorld),o.push(l)}return o.concat.apply(o,Tc((a.children||[]).filter(function(u){return!u.hasOwnProperty("__graphObjType")||u.__graphObjType==="node"&&n(u.__data)}).map(s)))}(e.graphScene);return r.length?Object.assign.apply(Object,Tc(["x","y","z"].map(function(s){return SO({},s,[ZN(r,function(a){return a.min[s]}),KN(r,function(a){return a.max[s]})])}))):null}},stateInit:function(){return{d3ForceLayout:TK().force("link",EK()).force("charge",wK()).force("center",gK()).force("dagRadial",null).stop(),engineRunning:!1}},init:function(e,n){n.graphScene=e,n.nodeDataMapper=new g1(e,{objBindAttr:"__threeObj"}),n.linkDataMapper=new g1(e,{objBindAttr:"__lineObj"}),n.arrowDataMapper=new g1(e,{objBindAttr:"__arrowObj"}),n.particlesDataMapper=new g1(e,{objBindAttr:"__photonsObj"})},update:function(e,n){var r=function(ht){return ht.some(function(lt){return n.hasOwnProperty(lt)})};if(e.engineRunning=!1,typeof e.onUpdate=="function"&&e.onUpdate(),e.nodeAutoColorBy!==null&&r(["nodeAutoColorBy","graphData","nodeColor"])&&F9(e.graphData.nodes,Ke(e.nodeAutoColorBy),e.nodeColor),e.linkAutoColorBy!==null&&r(["linkAutoColorBy","graphData","linkColor"])&&F9(e.graphData.links,Ke(e.linkAutoColorBy),e.linkColor),e._flushObjects||r(["graphData","nodeThreeObject","nodeThreeObjectExtend","nodeVal","nodeColor","nodeVisibility","nodeRelSize","nodeResolution","nodeOpacity"])){var s=Ke(e.nodeThreeObject),a=Ke(e.nodeThreeObjectExtend),o=Ke(e.nodeVal),l=Ke(e.nodeColor),u=Ke(e.nodeVisibility),c={},h={};(e._flushObjects||r(["nodeThreeObject","nodeThreeObjectExtend"]))&&e.nodeDataMapper.clear(),e.nodeDataMapper.onCreateObj(function(it){var ht=s(it),lt=a(it);ht&&e.nodeThreeObject===ht&&(ht=ht.clone());var gt;return ht&&!lt?gt=ht:(gt=new xn.Mesh,gt.__graphDefaultObj=!0,ht&&lt&&gt.add(ht)),gt.__graphObjType="node",gt}).onUpdateObj(function(it,ht){if(it.__graphDefaultObj){var lt=o(ht)||1,gt=Math.cbrt(lt)*e.nodeRelSize,Tt=e.nodeResolution;(!it.geometry.type.match(/^Sphere(Buffer)?Geometry$/)||it.geometry.parameters.radius!==gt||it.geometry.parameters.widthSegments!==Tt)&&(c.hasOwnProperty(lt)||(c[lt]=new xn.SphereGeometry(gt,Tt,Tt)),it.geometry.dispose(),it.geometry=c[lt]);var Kt=l(ht),Ut=new xn.Color(y1(Kt||"#ffffaa")),te=e.nodeOpacity*HD(Kt);(it.material.type!=="MeshLambertMaterial"||!it.material.color.equals(Ut)||it.material.opacity!==te)&&(h.hasOwnProperty(Kt)||(h[Kt]=new xn.MeshLambertMaterial({color:Ut,transparent:!0,opacity:te})),it.material.dispose(),it.material=h[Kt])}}).digest(e.graphData.nodes.filter(u))}if(e._flushObjects||r(["graphData","linkThreeObject","linkThreeObjectExtend","linkMaterial","linkColor","linkWidth","linkVisibility","linkResolution","linkOpacity","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowResolution","linkDirectionalParticles","linkDirectionalParticleWidth","linkDirectionalParticleColor","linkDirectionalParticleResolution"])){var p=Ke(e.linkThreeObject),g=Ke(e.linkThreeObjectExtend),v=Ke(e.linkMaterial),b=Ke(e.linkVisibility),S=Ke(e.linkColor),E=Ke(e.linkWidth),x={},A={},C={},M=e.graphData.links.filter(b);if((e._flushObjects||r(["linkThreeObject","linkThreeObjectExtend","linkWidth"]))&&e.linkDataMapper.clear(),e.linkDataMapper.onRemoveObj(function(it){var ht=it.__data&&it.__data.__singleHopPhotonsObj;ht&&(ht.parent.remove(ht),dL(ht),delete it.__data.__singleHopPhotonsObj)}).onCreateObj(function(it){var ht=p(it),lt=g(it);ht&&e.linkThreeObject===ht&&(ht=ht.clone());var gt;if(!ht||lt){var Tt=!!E(it);if(Tt)gt=new xn.Mesh;else{var Kt=new xn.BufferGeometry;Kt[jD]("position",new xn.BufferAttribute(new Float32Array(2*3),3)),gt=new xn.Line(Kt)}}var Ut;return ht?lt?(Ut=new xn.Group,Ut.__graphDefaultObj=!0,Ut.add(gt),Ut.add(ht)):Ut=ht:(Ut=gt,Ut.__graphDefaultObj=!0),Ut.renderOrder=10,Ut.__graphObjType="link",Ut}).onUpdateObj(function(it,ht){if(it.__graphDefaultObj){var lt=it.children.length?it.children[0]:it,gt=Math.ceil(E(ht)*10)/10,Tt=!!gt;if(Tt){var Kt=gt/2,Ut=e.linkResolution;if(!lt.geometry.type.match(/^Cylinder(Buffer)?Geometry$/)||lt.geometry.parameters.radiusTop!==Kt||lt.geometry.parameters.radialSegments!==Ut){if(!x.hasOwnProperty(gt)){var te=new xn.CylinderGeometry(Kt,Kt,1,Ut,1,!1);te[HA](new xn.Matrix4().makeTranslation(0,1/2,0)),te[HA](new xn.Matrix4().makeRotationX(Math.PI/2)),x[gt]=te}lt.geometry.dispose(),lt.geometry=x[gt]}}var Pt=v(ht);if(Pt)lt.material=Pt;else{var Bt=S(ht),at=new xn.Color(y1(Bt||"#f0f0f0")),ce=e.linkOpacity*HD(Bt),ee=Tt?"MeshLambertMaterial":"LineBasicMaterial";if(lt.material.type!==ee||!lt.material.color.equals(at)||lt.material.opacity!==ce){var ne=Tt?A:C;ne.hasOwnProperty(Bt)||(ne[Bt]=new xn[ee]({color:at,transparent:ce<1,opacity:ce,depthWrite:ce>=1})),lt.material.dispose(),lt.material=ne[Bt]}}}}).digest(M),e.linkDirectionalArrowLength||n.hasOwnProperty("linkDirectionalArrowLength")){var P=Ke(e.linkDirectionalArrowLength),k=Ke(e.linkDirectionalArrowColor);e.arrowDataMapper.onCreateObj(function(){var it=new xn.Mesh(void 0,new xn.MeshLambertMaterial({transparent:!0}));return it.__linkThreeObjType="arrow",it}).onUpdateObj(function(it,ht){var lt=P(ht),gt=e.linkDirectionalArrowResolution;if(!it.geometry.type.match(/^Cone(Buffer)?Geometry$/)||it.geometry.parameters.height!==lt||it.geometry.parameters.radialSegments!==gt){var Tt=new xn.ConeGeometry(lt*.25,lt,gt);Tt.translate(0,lt/2,0),Tt.rotateX(Math.PI/2),it.geometry.dispose(),it.geometry=Tt}var Kt=k(ht)||S(ht)||"#f0f0f0";it.material.color=new xn.Color(y1(Kt)),it.material.opacity=e.linkOpacity*3*HD(Kt)}).digest(M.filter(P))}if(e.linkDirectionalParticles||n.hasOwnProperty("linkDirectionalParticles")){var D=Ke(e.linkDirectionalParticles),N=Ke(e.linkDirectionalParticleWidth),U=Ke(e.linkDirectionalParticleColor),R={},B={};e.particlesDataMapper.onCreateObj(function(){var it=new xn.Group;return it.__linkThreeObjType="photons",it.__photonDataMapper=new g1(it),it}).onUpdateObj(function(it,ht){var lt=Math.round(Math.abs(D(ht))),gt=!!it.children.length&&it.children[0],Tt=Math.ceil(N(ht)*10)/10/2,Kt=e.linkDirectionalParticleResolution,Ut;gt&&gt.geometry.parameters.radius===Tt&&gt.geometry.parameters.widthSegments===Kt?Ut=gt.geometry:(B.hasOwnProperty(Tt)||(B[Tt]=new xn.SphereGeometry(Tt,Kt,Kt)),Ut=B[Tt],gt&&gt.geometry.dispose());var te=U(ht)||S(ht)||"#f0f0f0",Pt=new xn.Color(y1(te)),Bt=e.linkOpacity*3,at;gt&&gt.material.color.equals(Pt)&&gt.material.opacity===Bt?at=gt.material:(R.hasOwnProperty(te)||(R[te]=new xn.MeshLambertMaterial({color:Pt,transparent:!0,opacity:Bt})),at=R[te],gt&&gt.material.dispose()),it.__photonDataMapper.id(function(ce){return ce.idx}).onCreateObj(function(){return new xn.Mesh(Ut,at)}).onUpdateObj(function(ce){ce.geometry=Ut,ce.material=at}).digest(Tc(new Array(lt)).map(function(ce,ee){return{idx:ee}}))}).digest(M.filter(D))}}if(e._flushObjects=!1,r(["graphData","nodeId","linkSource","linkTarget","numDimensions","forceEngine","dagMode","dagNodeFilter","dagLevelDistance"])){e.engineRunning=!1,e.graphData.links.forEach(function(it){it.source=it[e.linkSource],it.target=it[e.linkTarget]});var H=e.forceEngine!=="ngraph",V;if(H){(V=e.d3ForceLayout).stop().alpha(1).numDimensions(e.numDimensions).nodes(e.graphData.nodes);var Y=e.d3ForceLayout.force("link");Y&&Y.id(function(it){return it[e.nodeId]}).links(e.graphData.links);var et=e.dagMode&&r3t(e.graphData,function(it){return it[e.nodeId]},{nodeFilter:e.dagNodeFilter,onLoopError:e.onDagError||void 0}),G=Math.max.apply(Math,Tc(Object.values(et||[]))),X=e.dagLevelDistance||e.graphData.nodes.length/(G||1)*s3t*(["radialin","radialout"].indexOf(e.dagMode)!==-1?.7:1);if(["lr","rl","td","bu","zin","zout"].includes(n.dagMode)){var J=["lr","rl"].includes(n.dagMode)?"fx":["td","bu"].includes(n.dagMode)?"fy":"fz";e.graphData.nodes.filter(e.dagNodeFilter).forEach(function(it){return delete it[J]})}if(["lr","rl","td","bu","zin","zout"].includes(e.dagMode)){var nt=["rl","td","zout"].includes(e.dagMode),Z=function(ht){return(et[ht[e.nodeId]]-G/2)*X*(nt?-1:1)},dt=["lr","rl"].includes(e.dagMode)?"fx":["td","bu"].includes(e.dagMode)?"fy":"fz";e.graphData.nodes.filter(e.dagNodeFilter).forEach(function(it){return it[dt]=Z(it)})}e.d3ForceLayout.force("dagRadial",["radialin","radialout"].indexOf(e.dagMode)!==-1?AK(function(it){var ht=et[it[e.nodeId]]||-1;return(e.dagMode==="radialin"?G-ht:ht)*X}).strength(function(it){return e.dagNodeFilter(it)?1:0}):null)}else{var yt=V9.graph();e.graphData.nodes.forEach(function(it){yt.addNode(it[e.nodeId])}),e.graphData.links.forEach(function(it){yt.addLink(it.source,it.target)}),V=V9.forcelayout(yt,JDt({dimensions:e.numDimensions},e.ngraphPhysics)),V.graph=yt}for(var xt=0;xt<e.warmupTicks&&!(H&&e.d3AlphaMin>0&&e.d3ForceLayout.alpha()<e.d3AlphaMin);xt++)V[H?"tick":"step"]();e.layout=V,this.resetCountdown()}e.engineRunning=!0,e.onFinishUpdate()}});function o3t(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Object,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=function(s){function a(){var o;jK(this,a);for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];return o=HK(this,a,[].concat(u)),o.__kapsuleInstance=GK(i,[].concat(Tc(n?[o]:[]),u)),o}return qK(a,s),$K(a)}(e);return Object.keys(i()).forEach(function(s){return r.prototype[s]=function(){var a,o=(a=this.__kapsuleInstance)[s].apply(a,arguments);return o===this.__kapsuleInstance?this:o}}),r}var l3t=window.THREE?window.THREE:{Group:gd},u3t=o3t(a3t,l3t.Group,!0);function pL(i,e){(e==null||e>i.length)&&(e=i.length);for(var n=0,r=Array(e);n<e;n++)r[n]=i[n];return r}function c3t(i){if(Array.isArray(i))return i}function f3t(i){if(Array.isArray(i))return pL(i)}function h3t(i,e,n){return(e=x3t(e))in i?Object.defineProperty(i,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[e]=n,i}function d3t(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function p3t(i,e){var n=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(n!=null){var r,s,a,o,l=[],u=!0,c=!1;try{if(a=(n=n.call(i)).next,e!==0)for(;!(u=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(h){c=!0,s=h}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw s}}return l}}function m3t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g3t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H9(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(i,s).enumerable})),n.push.apply(n,r)}return n}function M2(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H9(Object(n),!0).forEach(function(r){h3t(i,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):H9(Object(n)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(n,r))})}return i}function y3t(i,e){if(i==null)return{};var n,r,s=v3t(i,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(i,n)&&(s[n]=i[n])}return s}function v3t(i,e){if(i==null)return{};var n={};for(var r in i)if({}.hasOwnProperty.call(i,r)){if(e.indexOf(r)!==-1)continue;n[r]=i[r]}return n}function _3t(i,e){return c3t(i)||p3t(i,e)||ZK(i,e)||m3t()}function GD(i){return f3t(i)||d3t(i)||ZK(i)||g3t()}function b3t(i,e){if(typeof i!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var r=n.call(i,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function x3t(i){var e=b3t(i,"string");return typeof e=="symbol"?e:e+""}function ZK(i,e){if(i){if(typeof i=="string")return pL(i,e);var n={}.toString.call(i).slice(8,-1);return n==="Object"&&i.constructor&&(n=i.constructor.name),n==="Map"||n==="Set"?Array.from(i):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pL(i,e):void 0}}function S3t(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.methodNames,r=n===void 0?[]:n,s=e.initPropNames,a=s===void 0?[]:s;return Q.forwardRef(function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=arguments.length>1?arguments[1]:void 0,u=Q.useMemo(function(){return new i(Object.fromEntries(a.filter(function(g){return o.hasOwnProperty(g)}).map(function(g){return[g,o[g]]})))},[]);Q.useEffect(function(){return u._destructor instanceof Function?u._destructor:void 0},[u]);var c=Q.useCallback(function(g){for(var v=arguments.length,b=new Array(v>1?v-1:0),S=1;S<v;S++)b[S-1]=arguments[S];return u[g]instanceof Function?u[g].apply(u,b):void 0},[u]),h=Object.fromEntries(Object.entries(o).filter(function(g){var v=_3t(g,1),b=v[0];return!u[b]||!(u[b]instanceof Function)})),p=Q.useRef({});return Object.keys(bY(o,[].concat(GD(r),GD(a),GD(Object.keys(h))))).filter(function(g){return p.current[g]!==o[g]}).forEach(function(g){return c(g,o[g])}),p.current=o,Q.useImperativeHandle(l,function(){return Object.fromEntries(r.map(function(g){return[g,function(){for(var v=arguments.length,b=new Array(v),S=0;S<v;S++)b[S]=arguments[S];return c.apply(void 0,[g].concat(b))}]}))}),Q.createElement("primitive",M2(M2({},h),{},{object:u}))})}var E3t=["onNodeHover","onLinkHover","onNodeClick","onLinkClick"],T3t=S3t(u3t,{initPropNames:[],methodNames:["emitParticle","getGraphBbox","d3ReheatSimulation","d3Force","resetCountdown","tickFrame","refresh"]}),j9=function(e){var n,r=e.intersections,s=function(o){return o?o.hasOwnProperty("__graphObjType")?o:s(o.parent):null};return s((n=r.find(function(a){return s(a.object)}))===null||n===void 0?void 0:n.object)},jA=function(e){return e==null?void 0:e.__data},w3t=Q.forwardRef(function(i,e){var n=i.onNodeHover,r=i.onLinkHover,s=i.onNodeClick,a=i.onLinkClick,o=y3t(i,E3t),l=Q.useRef(null),u=Q.useCallback(function(h){if(!(!n&&!r)){var p=j9(h);if(p!==l.current){var g=l.current;l.current=p,g&&(!p||p.__graphObjType!==g.__graphObjType)&&({node:n,link:r}[g==null?void 0:g.__graphObjType]||function(){})(null,jA(g)),({node:n,link:r}[p==null?void 0:p.__graphObjType]||function(){})(jA(p),(p==null?void 0:p.__graphObjType)===(g==null?void 0:g.__graphObjType)?jA(g):null)}}},[n,r]),c=Q.useCallback(function(h){var p=j9(h),g={node:s,link:a}[p==null?void 0:p.__graphObjType];p&&g&&(g(jA(p),h),h.stopPropagation())},[s,a]);return Q.createElement(T3t,M2(M2({},o),{},{ref:e,onPointerMove:u,onClick:c}))});function mL(i="debug",...e){}const G9=(i,e,n,r)=>{n+1===r.length?(e(),i()):e()},EO=async i=>{try{const n=(await uO(x_(S_,i))).docs.map(r=>{const s=r.data();return{id:s.index,index:s.index,name:s.name,group:s.group,start:s.start,end:s.end,videoid:s.videoid}});return mL("debug","Documentos obtenidos desde firestone: ",n),n.length==0&&(QK({dbNodesName:Wf.nodes,dbLinksName:Wf.links,index:1,name:"Escoja Nodo de origen",group:"",nodeSource:1,videoid:"",start:"",end:"",uploadedDate:""}),EO(Wf.nodes)),n}catch(e){console.error("Error obteniendo documentos desde Firestore:",e)}},A3t=async i=>{try{const n=(await uO(x_(S_,i))).docs.map(s=>s.data().index);return Math.max(...n.filter(s=>typeof s=="number"))}catch(e){return console.error("Error obteniendo el valor index: ",e),0}},QK=async i=>{const{dbNodesName:e,dbLinksName:n,index:r,name:s,group:a,nodeSource:o,videoid:l,start:u,end:c,uploadedDate:h}=i;try{const p=x_(S_,e),g=s.toLowerCase(),v=HTt(p,jTt("name","==",g));if(!(await uO(v)).empty){console.error(" Error: Ya existe un documento con este `name`.");return}await J6(x_(S_,e),{name:g,index:r,group:a,uploadedDate:h,videoid:l,start:u,end:c}),o!==1&&await J6(x_(S_,n),{target:r,source:o}),mL("info","Nodo agregado:",g,r),mL("info","Link agregado: Source:",o!==1?o:"Nodo sin conexin {1}")}catch(p){console.error("Error al agregar documento:",p)}finally{fn.setState({isUploadFirestore:!1})}},M3t=()=>{const[i,e]=Q.useState({nodes:[],links:[]});return Q.useEffect(()=>{fn.setState({isLoadingFirestore:!0}),(async()=>{try{const s=(await EO(Wf.nodes)).filter(l=>l.id!==1),o=(await uO(x_(S_,Wf.links))).docs.map(l=>{const u=l.data();return{source:u.source,target:u.target}});e({nodes:s,links:o})}catch(r){console.error("Error obteniendo datos:",r)}finally{fn.setState({isLoadingFirestore:!1})}})()},[]),i};function gL(i,e){(e==null||e>i.length)&&(e=i.length);for(var n=0,r=Array(e);n<e;n++)r[n]=i[n];return r}function C3t(i){if(Array.isArray(i))return i}function R3t(i){if(Array.isArray(i))return gL(i)}function O3t(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function P3t(i,e,n){return e=C2(e),F3t(i,JK()?Reflect.construct(e,n||[],C2(i).constructor):e.apply(i,n))}function I3t(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function D3t(i,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,H3t(r.key),r)}}function N3t(i,e,n){return e&&D3t(i.prototype,e),Object.defineProperty(i,"prototype",{writable:!1}),i}function C2(i){return C2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},C2(i)}function L3t(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),e&&yL(i,e)}function JK(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JK=function(){return!!i})()}function U3t(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function k3t(i,e){var n=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(n!=null){var r,s,a,o,l=[],u=!0,c=!1;try{if(a=(n=n.call(i)).next,e===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(h){c=!0,s=h}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw s}}return l}}function z3t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B3t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F3t(i,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O3t(i)}function yL(i,e){return yL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},yL(i,e)}function $9(i,e){return C3t(i)||k3t(i,e)||tZ(i,e)||z3t()}function GA(i){return R3t(i)||U3t(i)||tZ(i)||B3t()}function V3t(i,e){if(typeof i!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var r=n.call(i,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}function H3t(i){var e=V3t(i,"string");return typeof e=="symbol"?e:e+""}function tZ(i,e){if(i){if(typeof i=="string")return gL(i,e);var n={}.toString.call(i).slice(8,-1);return n==="Object"&&i.constructor&&(n=i.constructor.name),n==="Map"||n==="Set"?Array.from(i):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gL(i,e):void 0}}var v1=typeof window<"u"&&window.THREE?window.THREE:{CanvasTexture:gj,Sprite:QL,SpriteMaterial:nR,SRGBColorSpace:ya},j3t=function(i){function e(){var n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:10,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"rgba(255, 255, 255, 1)";return I3t(this,e),n=P3t(this,e,[new v1.SpriteMaterial]),n._text="".concat(r),n._textHeight=s,n._color=a,n._backgroundColor=!1,n._padding=0,n._borderWidth=0,n._borderRadius=0,n._borderColor="white",n._strokeWidth=0,n._strokeColor="white",n._fontFace="system-ui",n._fontSize=90,n._fontWeight="normal",n._canvas=document.createElement("canvas"),n._genCanvas(),n}return L3t(e,i),N3t(e,[{key:"text",get:function(){return this._text},set:function(r){this._text=r,this._genCanvas()}},{key:"textHeight",get:function(){return this._textHeight},set:function(r){this._textHeight=r,this._genCanvas()}},{key:"color",get:function(){return this._color},set:function(r){this._color=r,this._genCanvas()}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(r){this._backgroundColor=r,this._genCanvas()}},{key:"padding",get:function(){return this._padding},set:function(r){this._padding=r,this._genCanvas()}},{key:"borderWidth",get:function(){return this._borderWidth},set:function(r){this._borderWidth=r,this._genCanvas()}},{key:"borderRadius",get:function(){return this._borderRadius},set:function(r){this._borderRadius=r,this._genCanvas()}},{key:"borderColor",get:function(){return this._borderColor},set:function(r){this._borderColor=r,this._genCanvas()}},{key:"fontFace",get:function(){return this._fontFace},set:function(r){this._fontFace=r,this._genCanvas()}},{key:"fontSize",get:function(){return this._fontSize},set:function(r){this._fontSize=r,this._genCanvas()}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(r){this._fontWeight=r,this._genCanvas()}},{key:"strokeWidth",get:function(){return this._strokeWidth},set:function(r){this._strokeWidth=r,this._genCanvas()}},{key:"strokeColor",get:function(){return this._strokeColor},set:function(r){this._strokeColor=r,this._genCanvas()}},{key:"_genCanvas",value:function(){var r=this,s=this._canvas,a=s.getContext("2d"),o=1/this.textHeight,l=Array.isArray(this.borderWidth)?this.borderWidth:[this.borderWidth,this.borderWidth],u=l.map(function(N){return N*r.fontSize*o}),c=Array.isArray(this.borderRadius)?this.borderRadius:[this.borderRadius,this.borderRadius,this.borderRadius,this.borderRadius],h=c.map(function(N){return N*r.fontSize*o}),p=Array.isArray(this.padding)?this.padding:[this.padding,this.padding],g=p.map(function(N){return N*r.fontSize*o}),v=this.text.split(`
`),b="".concat(this.fontWeight," ").concat(this.fontSize,"px ").concat(this.fontFace);a.font=b;var S=Math.max.apply(Math,GA(v.map(function(N){return a.measureText(N).width}))),E=this.fontSize*v.length;if(s.width=S+u[0]*2+g[0]*2,s.height=E+u[1]*2+g[1]*2,this.borderWidth){if(a.strokeStyle=this.borderColor,u[0]){var x=u[0]/2;a.lineWidth=u[0],a.beginPath(),a.moveTo(x,h[0]),a.lineTo(x,s.height-h[3]),a.moveTo(s.width-x,h[1]),a.lineTo(s.width-x,s.height-h[2]),a.stroke()}if(u[1]){var A=u[1]/2;a.lineWidth=u[1],a.beginPath(),a.moveTo(Math.max(u[0],h[0]),A),a.lineTo(s.width-Math.max(u[0],h[1]),A),a.moveTo(Math.max(u[0],h[3]),s.height-A),a.lineTo(s.width-Math.max(u[0],h[2]),s.height-A),a.stroke()}if(this.borderRadius){var C=Math.max.apply(Math,GA(u)),M=C/2;a.lineWidth=C,a.beginPath(),[!!h[0]&&[h[0],M,M,h[0]],!!h[1]&&[s.width-h[1],s.width-M,M,h[1]],!!h[2]&&[s.width-h[2],s.width-M,s.height-M,s.height-h[2]],!!h[3]&&[h[3],M,s.height-M,s.height-h[3]]].filter(function(N){return N}).forEach(function(N){var U=$9(N,4),R=U[0],B=U[1],H=U[2],V=U[3];a.moveTo(R,H),a.quadraticCurveTo(B,H,B,V)}),a.stroke()}}this.backgroundColor&&(a.fillStyle=this.backgroundColor,this.borderRadius?(a.beginPath(),a.moveTo(u[0],h[0]),[[u[0],h[0],s.width-h[1],u[1],u[1],u[1]],[s.width-u[0],s.width-u[0],s.width-u[0],u[1],h[1],s.height-h[2]],[s.width-u[0],s.width-h[2],h[3],s.height-u[1],s.height-u[1],s.height-u[1]],[u[0],u[0],u[0],s.height-u[1],s.height-h[3],h[0]]].forEach(function(N){var U=$9(N,6),R=U[0],B=U[1],H=U[2],V=U[3],Y=U[4],et=U[5];a.quadraticCurveTo(R,V,B,Y),a.lineTo(H,et)}),a.closePath(),a.fill()):a.fillRect(u[0],u[1],s.width-u[0]*2,s.height-u[1]*2)),a.translate.apply(a,GA(u)),a.translate.apply(a,GA(g)),a.font=b,a.fillStyle=this.color,a.textBaseline="bottom";var P=this.strokeWidth>0;P&&(a.lineWidth=this.strokeWidth*this.fontSize/10,a.strokeStyle=this.strokeColor),v.forEach(function(N,U){var R=(S-a.measureText(N).width)/2,B=(U+1)*r.fontSize;P&&a.strokeText(N,R,B),a.fillText(N,R,B)}),this.material.map&&this.material.map.dispose();var k=this.material.map=new v1.CanvasTexture(s);k.colorSpace=v1.SRGBColorSpace;var D=this.textHeight*v.length+l[1]*2+p[1]*2;this.scale.set(D*s.width/s.height,D,0)}},{key:"clone",value:function(){return new this.constructor(this.text,this.textHeight,this.color).copy(this)}},{key:"copy",value:function(r){return v1.Sprite.prototype.copy.call(this,r),this.color=r.color,this.backgroundColor=r.backgroundColor,this.padding=r.padding,this.borderWidth=r.borderWidth,this.borderColor=r.borderColor,this.fontFace=r.fontFace,this.fontSize=r.fontSize,this.fontWeight=r.fontWeight,this.strokeWidth=r.strokeWidth,this.strokeColor=r.strokeColor,this}}])}(v1.Sprite);function G3t(i){const e=new gd,n=UK[i.group??"default"]??"gray",r=new rs(new r0(5,5),new vR({color:n})),s=new j3t(`${i.name} {${i.id}}`);return s.color="white",s.textHeight=3,s.position.set(0,7,0),s.backgroundColor="#000",e.add(r),e.add(s),e}function eZ(i,e){return function(){return i.apply(e,arguments)}}const{toString:$3t}=Object.prototype,{getPrototypeOf:$k}=Object,{iterator:TO,toStringTag:nZ}=Symbol,wO=(i=>e=>{const n=$3t.call(e);return i[n]||(i[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),jc=i=>(i=i.toLowerCase(),e=>wO(e)===i),AO=i=>e=>typeof e===i,{isArray:Mb}=Array,fE=AO("undefined");function q3t(i){return i!==null&&!fE(i)&&i.constructor!==null&&!fE(i.constructor)&&gl(i.constructor.isBuffer)&&i.constructor.isBuffer(i)}const iZ=jc("ArrayBuffer");function W3t(i){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(i):e=i&&i.buffer&&iZ(i.buffer),e}const X3t=AO("string"),gl=AO("function"),rZ=AO("number"),MO=i=>i!==null&&typeof i=="object",Y3t=i=>i===!0||i===!1,NM=i=>{if(wO(i)!=="object")return!1;const e=$k(i);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(nZ in i)&&!(TO in i)},K3t=jc("Date"),Z3t=jc("File"),Q3t=jc("Blob"),J3t=jc("FileList"),tNt=i=>MO(i)&&gl(i.pipe),eNt=i=>{let e;return i&&(typeof FormData=="function"&&i instanceof FormData||gl(i.append)&&((e=wO(i))==="formdata"||e==="object"&&gl(i.toString)&&i.toString()==="[object FormData]"))},nNt=jc("URLSearchParams"),[iNt,rNt,sNt,aNt]=["ReadableStream","Request","Response","Headers"].map(jc),oNt=i=>i.trim?i.trim():i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function KE(i,e,{allOwnKeys:n=!1}={}){if(i===null||typeof i>"u")return;let r,s;if(typeof i!="object"&&(i=[i]),Mb(i))for(r=0,s=i.length;r<s;r++)e.call(null,i[r],r,i);else{const a=n?Object.getOwnPropertyNames(i):Object.keys(i),o=a.length;let l;for(r=0;r<o;r++)l=a[r],e.call(null,i[l],l,i)}}function sZ(i,e){e=e.toLowerCase();const n=Object.keys(i);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const by=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,aZ=i=>!fE(i)&&i!==by;function vL(){const{caseless:i}=aZ(this)&&this||{},e={},n=(r,s)=>{const a=i&&sZ(e,s)||s;NM(e[a])&&NM(r)?e[a]=vL(e[a],r):NM(r)?e[a]=vL({},r):Mb(r)?e[a]=r.slice():e[a]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&KE(arguments[r],n);return e}const lNt=(i,e,n,{allOwnKeys:r}={})=>(KE(e,(s,a)=>{n&&gl(s)?i[a]=eZ(s,n):i[a]=s},{allOwnKeys:r}),i),uNt=i=>(i.charCodeAt(0)===65279&&(i=i.slice(1)),i),cNt=(i,e,n,r)=>{i.prototype=Object.create(e.prototype,r),i.prototype.constructor=i,Object.defineProperty(i,"super",{value:e.prototype}),n&&Object.assign(i.prototype,n)},fNt=(i,e,n,r)=>{let s,a,o;const l={};if(e=e||{},i==null)return e;do{for(s=Object.getOwnPropertyNames(i),a=s.length;a-- >0;)o=s[a],(!r||r(o,i,e))&&!l[o]&&(e[o]=i[o],l[o]=!0);i=n!==!1&&$k(i)}while(i&&(!n||n(i,e))&&i!==Object.prototype);return e},hNt=(i,e,n)=>{i=String(i),(n===void 0||n>i.length)&&(n=i.length),n-=e.length;const r=i.indexOf(e,n);return r!==-1&&r===n},dNt=i=>{if(!i)return null;if(Mb(i))return i;let e=i.length;if(!rZ(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=i[e];return n},pNt=(i=>e=>i&&e instanceof i)(typeof Uint8Array<"u"&&$k(Uint8Array)),mNt=(i,e)=>{const r=(i&&i[TO]).call(i);let s;for(;(s=r.next())&&!s.done;){const a=s.value;e.call(i,a[0],a[1])}},gNt=(i,e)=>{let n;const r=[];for(;(n=i.exec(e))!==null;)r.push(n);return r},yNt=jc("HTMLFormElement"),vNt=i=>i.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),q9=(({hasOwnProperty:i})=>(e,n)=>i.call(e,n))(Object.prototype),_Nt=jc("RegExp"),oZ=(i,e)=>{const n=Object.getOwnPropertyDescriptors(i),r={};KE(n,(s,a)=>{let o;(o=e(s,a,i))!==!1&&(r[a]=o||s)}),Object.defineProperties(i,r)},bNt=i=>{oZ(i,(e,n)=>{if(gl(i)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=i[n];if(gl(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},xNt=(i,e)=>{const n={},r=s=>{s.forEach(a=>{n[a]=!0})};return Mb(i)?r(i):r(String(i).split(e)),n},SNt=()=>{},ENt=(i,e)=>i!=null&&Number.isFinite(i=+i)?i:e;function TNt(i){return!!(i&&gl(i.append)&&i[nZ]==="FormData"&&i[TO])}const wNt=i=>{const e=new Array(10),n=(r,s)=>{if(MO(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const a=Mb(r)?[]:{};return KE(r,(o,l)=>{const u=n(o,s+1);!fE(u)&&(a[l]=u)}),e[s]=void 0,a}}return r};return n(i,0)},ANt=jc("AsyncFunction"),MNt=i=>i&&(MO(i)||gl(i))&&gl(i.then)&&gl(i.catch),lZ=((i,e)=>i?setImmediate:e?((n,r)=>(by.addEventListener("message",({source:s,data:a})=>{s===by&&a===n&&r.length&&r.shift()()},!1),s=>{r.push(s),by.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",gl(by.postMessage)),CNt=typeof queueMicrotask<"u"?queueMicrotask.bind(by):typeof process<"u"&&process.nextTick||lZ,RNt=i=>i!=null&&gl(i[TO]),Qt={isArray:Mb,isArrayBuffer:iZ,isBuffer:q3t,isFormData:eNt,isArrayBufferView:W3t,isString:X3t,isNumber:rZ,isBoolean:Y3t,isObject:MO,isPlainObject:NM,isReadableStream:iNt,isRequest:rNt,isResponse:sNt,isHeaders:aNt,isUndefined:fE,isDate:K3t,isFile:Z3t,isBlob:Q3t,isRegExp:_Nt,isFunction:gl,isStream:tNt,isURLSearchParams:nNt,isTypedArray:pNt,isFileList:J3t,forEach:KE,merge:vL,extend:lNt,trim:oNt,stripBOM:uNt,inherits:cNt,toFlatObject:fNt,kindOf:wO,kindOfTest:jc,endsWith:hNt,toArray:dNt,forEachEntry:mNt,matchAll:gNt,isHTMLForm:yNt,hasOwnProperty:q9,hasOwnProp:q9,reduceDescriptors:oZ,freezeMethods:bNt,toObjectSet:xNt,toCamelCase:vNt,noop:SNt,toFiniteNumber:ENt,findKey:sZ,global:by,isContextDefined:aZ,isSpecCompliantForm:TNt,toJSONObject:wNt,isAsyncFn:ANt,isThenable:MNt,setImmediate:lZ,asap:CNt,isIterable:RNt};function qn(i,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=i,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}Qt.inherits(qn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Qt.toJSONObject(this.config),code:this.code,status:this.status}}});const uZ=qn.prototype,cZ={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(i=>{cZ[i]={value:i}});Object.defineProperties(qn,cZ);Object.defineProperty(uZ,"isAxiosError",{value:!0});qn.from=(i,e,n,r,s,a)=>{const o=Object.create(uZ);return Qt.toFlatObject(i,o,function(u){return u!==Error.prototype},l=>l!=="isAxiosError"),qn.call(o,i.message,e,n,r,s),o.cause=i,o.name=i.name,a&&Object.assign(o,a),o};const ONt=null;function _L(i){return Qt.isPlainObject(i)||Qt.isArray(i)}function fZ(i){return Qt.endsWith(i,"[]")?i.slice(0,-2):i}function W9(i,e,n){return i?i.concat(e).map(function(s,a){return s=fZ(s),!n&&a?"["+s+"]":s}).join(n?".":""):e}function PNt(i){return Qt.isArray(i)&&!i.some(_L)}const INt=Qt.toFlatObject(Qt,{},null,function(e){return/^is[A-Z]/.test(e)});function CO(i,e,n){if(!Qt.isObject(i))throw new TypeError("target must be an object");e=e||new FormData,n=Qt.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,E){return!Qt.isUndefined(E[S])});const r=n.metaTokens,s=n.visitor||h,a=n.dots,o=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&Qt.isSpecCompliantForm(e);if(!Qt.isFunction(s))throw new TypeError("visitor must be a function");function c(b){if(b===null)return"";if(Qt.isDate(b))return b.toISOString();if(!u&&Qt.isBlob(b))throw new qn("Blob is not supported. Use a Buffer instead.");return Qt.isArrayBuffer(b)||Qt.isTypedArray(b)?u&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function h(b,S,E){let x=b;if(b&&!E&&typeof b=="object"){if(Qt.endsWith(S,"{}"))S=r?S:S.slice(0,-2),b=JSON.stringify(b);else if(Qt.isArray(b)&&PNt(b)||(Qt.isFileList(b)||Qt.endsWith(S,"[]"))&&(x=Qt.toArray(b)))return S=fZ(S),x.forEach(function(C,M){!(Qt.isUndefined(C)||C===null)&&e.append(o===!0?W9([S],M,a):o===null?S:S+"[]",c(C))}),!1}return _L(b)?!0:(e.append(W9(E,S,a),c(b)),!1)}const p=[],g=Object.assign(INt,{defaultVisitor:h,convertValue:c,isVisitable:_L});function v(b,S){if(!Qt.isUndefined(b)){if(p.indexOf(b)!==-1)throw Error("Circular reference detected in "+S.join("."));p.push(b),Qt.forEach(b,function(x,A){(!(Qt.isUndefined(x)||x===null)&&s.call(e,x,Qt.isString(A)?A.trim():A,S,g))===!0&&v(x,S?S.concat(A):[A])}),p.pop()}}if(!Qt.isObject(i))throw new TypeError("data must be an object");return v(i),e}function X9(i){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(i).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function qk(i,e){this._pairs=[],i&&CO(i,this,e)}const hZ=qk.prototype;hZ.append=function(e,n){this._pairs.push([e,n])};hZ.toString=function(e){const n=e?function(r){return e.call(this,r,X9)}:X9;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function DNt(i){return encodeURIComponent(i).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function dZ(i,e,n){if(!e)return i;const r=n&&n.encode||DNt;Qt.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let a;if(s?a=s(e,n):a=Qt.isURLSearchParams(e)?e.toString():new qk(e,n).toString(r),a){const o=i.indexOf("#");o!==-1&&(i=i.slice(0,o)),i+=(i.indexOf("?")===-1?"?":"&")+a}return i}class Y9{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Qt.forEach(this.handlers,function(r){r!==null&&e(r)})}}const pZ={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},NNt=typeof URLSearchParams<"u"?URLSearchParams:qk,LNt=typeof FormData<"u"?FormData:null,UNt=typeof Blob<"u"?Blob:null,kNt={isBrowser:!0,classes:{URLSearchParams:NNt,FormData:LNt,Blob:UNt},protocols:["http","https","file","blob","url","data"]},Wk=typeof window<"u"&&typeof document<"u",bL=typeof navigator=="object"&&navigator||void 0,zNt=Wk&&(!bL||["ReactNative","NativeScript","NS"].indexOf(bL.product)<0),BNt=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",FNt=Wk&&window.location.href||"http://localhost",VNt=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Wk,hasStandardBrowserEnv:zNt,hasStandardBrowserWebWorkerEnv:BNt,navigator:bL,origin:FNt},Symbol.toStringTag,{value:"Module"})),Wa={...VNt,...kNt};function HNt(i,e){return CO(i,new Wa.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,a){return Wa.isNode&&Qt.isBuffer(n)?(this.append(r,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}function jNt(i){return Qt.matchAll(/\w+|\[(\w*)]/g,i).map(e=>e[0]==="[]"?"":e[1]||e[0])}function GNt(i){const e={},n=Object.keys(i);let r;const s=n.length;let a;for(r=0;r<s;r++)a=n[r],e[a]=i[a];return e}function mZ(i){function e(n,r,s,a){let o=n[a++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),u=a>=n.length;return o=!o&&Qt.isArray(s)?s.length:o,u?(Qt.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!l):((!s[o]||!Qt.isObject(s[o]))&&(s[o]=[]),e(n,r,s[o],a)&&Qt.isArray(s[o])&&(s[o]=GNt(s[o])),!l)}if(Qt.isFormData(i)&&Qt.isFunction(i.entries)){const n={};return Qt.forEachEntry(i,(r,s)=>{e(jNt(r),s,n,0)}),n}return null}function $Nt(i,e,n){if(Qt.isString(i))try{return(e||JSON.parse)(i),Qt.trim(i)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(i)}const ZE={transitional:pZ,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,a=Qt.isObject(e);if(a&&Qt.isHTMLForm(e)&&(e=new FormData(e)),Qt.isFormData(e))return s?JSON.stringify(mZ(e)):e;if(Qt.isArrayBuffer(e)||Qt.isBuffer(e)||Qt.isStream(e)||Qt.isFile(e)||Qt.isBlob(e)||Qt.isReadableStream(e))return e;if(Qt.isArrayBufferView(e))return e.buffer;if(Qt.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return HNt(e,this.formSerializer).toString();if((l=Qt.isFileList(e))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return CO(l?{"files[]":e}:e,u&&new u,this.formSerializer)}}return a||s?(n.setContentType("application/json",!1),$Nt(e)):e}],transformResponse:[function(e){const n=this.transitional||ZE.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(Qt.isResponse(e)||Qt.isReadableStream(e))return e;if(e&&Qt.isString(e)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(l){if(o)throw l.name==="SyntaxError"?qn.from(l,qn.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Wa.classes.FormData,Blob:Wa.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Qt.forEach(["delete","get","head","post","put","patch"],i=>{ZE.headers[i]={}});const qNt=Qt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),WNt=i=>{const e={};let n,r,s;return i&&i.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||e[n]&&qNt[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},K9=Symbol("internals");function _1(i){return i&&String(i).trim().toLowerCase()}function LM(i){return i===!1||i==null?i:Qt.isArray(i)?i.map(LM):String(i)}function XNt(i){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(i);)e[r[1]]=r[2];return e}const YNt=i=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(i.trim());function $D(i,e,n,r,s){if(Qt.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!Qt.isString(e)){if(Qt.isString(r))return e.indexOf(r)!==-1;if(Qt.isRegExp(r))return r.test(e)}}function KNt(i){return i.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function ZNt(i,e){const n=Qt.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(i,r+n,{value:function(s,a,o){return this[r].call(this,e,s,a,o)},configurable:!0})})}let yl=class{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function a(l,u,c){const h=_1(u);if(!h)throw new Error("header name must be a non-empty string");const p=Qt.findKey(s,h);(!p||s[p]===void 0||c===!0||c===void 0&&s[p]!==!1)&&(s[p||u]=LM(l))}const o=(l,u)=>Qt.forEach(l,(c,h)=>a(c,h,u));if(Qt.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(Qt.isString(e)&&(e=e.trim())&&!YNt(e))o(WNt(e),n);else if(Qt.isObject(e)&&Qt.isIterable(e)){let l={},u,c;for(const h of e){if(!Qt.isArray(h))throw TypeError("Object iterator must return a key-value pair");l[c=h[0]]=(u=l[c])?Qt.isArray(u)?[...u,h[1]]:[u,h[1]]:h[1]}o(l,n)}else e!=null&&a(n,e,r);return this}get(e,n){if(e=_1(e),e){const r=Qt.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return XNt(s);if(Qt.isFunction(n))return n.call(this,s,r);if(Qt.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=_1(e),e){const r=Qt.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||$D(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function a(o){if(o=_1(o),o){const l=Qt.findKey(r,o);l&&(!n||$D(r,r[l],l,n))&&(delete r[l],s=!0)}}return Qt.isArray(e)?e.forEach(a):a(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const a=n[r];(!e||$D(this,this[a],a,e,!0))&&(delete this[a],s=!0)}return s}normalize(e){const n=this,r={};return Qt.forEach(this,(s,a)=>{const o=Qt.findKey(r,a);if(o){n[o]=LM(s),delete n[a];return}const l=e?KNt(a):String(a).trim();l!==a&&delete n[a],n[l]=LM(s),r[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return Qt.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&Qt.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[K9]=this[K9]={accessors:{}}).accessors,s=this.prototype;function a(o){const l=_1(o);r[l]||(ZNt(s,o),r[l]=!0)}return Qt.isArray(e)?e.forEach(a):a(e),this}};yl.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Qt.reduceDescriptors(yl.prototype,({value:i},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>i,set(r){this[n]=r}}});Qt.freezeMethods(yl);function qD(i,e){const n=this||ZE,r=e||n,s=yl.from(r.headers);let a=r.data;return Qt.forEach(i,function(l){a=l.call(n,a,s.normalize(),e?e.status:void 0)}),s.normalize(),a}function gZ(i){return!!(i&&i.__CANCEL__)}function Cb(i,e,n){qn.call(this,i??"canceled",qn.ERR_CANCELED,e,n),this.name="CanceledError"}Qt.inherits(Cb,qn,{__CANCEL__:!0});function yZ(i,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?i(n):e(new qn("Request failed with status code "+n.status,[qn.ERR_BAD_REQUEST,qn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function QNt(i){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(i);return e&&e[1]||""}function JNt(i,e){i=i||10;const n=new Array(i),r=new Array(i);let s=0,a=0,o;return e=e!==void 0?e:1e3,function(u){const c=Date.now(),h=r[a];o||(o=c),n[s]=u,r[s]=c;let p=a,g=0;for(;p!==s;)g+=n[p++],p=p%i;if(s=(s+1)%i,s===a&&(a=(a+1)%i),c-o<e)return;const v=h&&c-h;return v?Math.round(g*1e3/v):void 0}}function tLt(i,e){let n=0,r=1e3/e,s,a;const o=(c,h=Date.now())=>{n=h,s=null,a&&(clearTimeout(a),a=null),i.apply(null,c)};return[(...c)=>{const h=Date.now(),p=h-n;p>=r?o(c,h):(s=c,a||(a=setTimeout(()=>{a=null,o(s)},r-p)))},()=>s&&o(s)]}const R2=(i,e,n=3)=>{let r=0;const s=JNt(50,250);return tLt(a=>{const o=a.loaded,l=a.lengthComputable?a.total:void 0,u=o-r,c=s(u),h=o<=l;r=o;const p={loaded:o,total:l,progress:l?o/l:void 0,bytes:u,rate:c||void 0,estimated:c&&l&&h?(l-o)/c:void 0,event:a,lengthComputable:l!=null,[e?"download":"upload"]:!0};i(p)},n)},Z9=(i,e)=>{const n=i!=null;return[r=>e[0]({lengthComputable:n,total:i,loaded:r}),e[1]]},Q9=i=>(...e)=>Qt.asap(()=>i(...e)),eLt=Wa.hasStandardBrowserEnv?((i,e)=>n=>(n=new URL(n,Wa.origin),i.protocol===n.protocol&&i.host===n.host&&(e||i.port===n.port)))(new URL(Wa.origin),Wa.navigator&&/(msie|trident)/i.test(Wa.navigator.userAgent)):()=>!0,nLt=Wa.hasStandardBrowserEnv?{write(i,e,n,r,s,a){const o=[i+"="+encodeURIComponent(e)];Qt.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),Qt.isString(r)&&o.push("path="+r),Qt.isString(s)&&o.push("domain="+s),a===!0&&o.push("secure"),document.cookie=o.join("; ")},read(i){const e=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(i){this.write(i,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function iLt(i){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(i)}function rLt(i,e){return e?i.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):i}function vZ(i,e,n){let r=!iLt(e);return i&&(r||n==!1)?rLt(i,e):e}const J9=i=>i instanceof yl?{...i}:i;function e0(i,e){e=e||{};const n={};function r(c,h,p,g){return Qt.isPlainObject(c)&&Qt.isPlainObject(h)?Qt.merge.call({caseless:g},c,h):Qt.isPlainObject(h)?Qt.merge({},h):Qt.isArray(h)?h.slice():h}function s(c,h,p,g){if(Qt.isUndefined(h)){if(!Qt.isUndefined(c))return r(void 0,c,p,g)}else return r(c,h,p,g)}function a(c,h){if(!Qt.isUndefined(h))return r(void 0,h)}function o(c,h){if(Qt.isUndefined(h)){if(!Qt.isUndefined(c))return r(void 0,c)}else return r(void 0,h)}function l(c,h,p){if(p in e)return r(c,h);if(p in i)return r(void 0,c)}const u={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(c,h,p)=>s(J9(c),J9(h),p,!0)};return Qt.forEach(Object.keys(Object.assign({},i,e)),function(h){const p=u[h]||s,g=p(i[h],e[h],h);Qt.isUndefined(g)&&p!==l||(n[h]=g)}),n}const _Z=i=>{const e=e0({},i);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:a,headers:o,auth:l}=e;e.headers=o=yl.from(o),e.url=dZ(vZ(e.baseURL,e.url,e.allowAbsoluteUrls),i.params,i.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let u;if(Qt.isFormData(n)){if(Wa.hasStandardBrowserEnv||Wa.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((u=o.getContentType())!==!1){const[c,...h]=u?u.split(";").map(p=>p.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...h].join("; "))}}if(Wa.hasStandardBrowserEnv&&(r&&Qt.isFunction(r)&&(r=r(e)),r||r!==!1&&eLt(e.url))){const c=s&&a&&nLt.read(a);c&&o.set(s,c)}return e},sLt=typeof XMLHttpRequest<"u",aLt=sLt&&function(i){return new Promise(function(n,r){const s=_Z(i);let a=s.data;const o=yl.from(s.headers).normalize();let{responseType:l,onUploadProgress:u,onDownloadProgress:c}=s,h,p,g,v,b;function S(){v&&v(),b&&b(),s.cancelToken&&s.cancelToken.unsubscribe(h),s.signal&&s.signal.removeEventListener("abort",h)}let E=new XMLHttpRequest;E.open(s.method.toUpperCase(),s.url,!0),E.timeout=s.timeout;function x(){if(!E)return;const C=yl.from("getAllResponseHeaders"in E&&E.getAllResponseHeaders()),P={data:!l||l==="text"||l==="json"?E.responseText:E.response,status:E.status,statusText:E.statusText,headers:C,config:i,request:E};yZ(function(D){n(D),S()},function(D){r(D),S()},P),E=null}"onloadend"in E?E.onloadend=x:E.onreadystatechange=function(){!E||E.readyState!==4||E.status===0&&!(E.responseURL&&E.responseURL.indexOf("file:")===0)||setTimeout(x)},E.onabort=function(){E&&(r(new qn("Request aborted",qn.ECONNABORTED,i,E)),E=null)},E.onerror=function(){r(new qn("Network Error",qn.ERR_NETWORK,i,E)),E=null},E.ontimeout=function(){let M=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const P=s.transitional||pZ;s.timeoutErrorMessage&&(M=s.timeoutErrorMessage),r(new qn(M,P.clarifyTimeoutError?qn.ETIMEDOUT:qn.ECONNABORTED,i,E)),E=null},a===void 0&&o.setContentType(null),"setRequestHeader"in E&&Qt.forEach(o.toJSON(),function(M,P){E.setRequestHeader(P,M)}),Qt.isUndefined(s.withCredentials)||(E.withCredentials=!!s.withCredentials),l&&l!=="json"&&(E.responseType=s.responseType),c&&([g,b]=R2(c,!0),E.addEventListener("progress",g)),u&&E.upload&&([p,v]=R2(u),E.upload.addEventListener("progress",p),E.upload.addEventListener("loadend",v)),(s.cancelToken||s.signal)&&(h=C=>{E&&(r(!C||C.type?new Cb(null,i,E):C),E.abort(),E=null)},s.cancelToken&&s.cancelToken.subscribe(h),s.signal&&(s.signal.aborted?h():s.signal.addEventListener("abort",h)));const A=QNt(s.url);if(A&&Wa.protocols.indexOf(A)===-1){r(new qn("Unsupported protocol "+A+":",qn.ERR_BAD_REQUEST,i));return}E.send(a||null)})},oLt=(i,e)=>{const{length:n}=i=i?i.filter(Boolean):[];if(e||n){let r=new AbortController,s;const a=function(c){if(!s){s=!0,l();const h=c instanceof Error?c:this.reason;r.abort(h instanceof qn?h:new Cb(h instanceof Error?h.message:h))}};let o=e&&setTimeout(()=>{o=null,a(new qn(`timeout ${e} of ms exceeded`,qn.ETIMEDOUT))},e);const l=()=>{i&&(o&&clearTimeout(o),o=null,i.forEach(c=>{c.unsubscribe?c.unsubscribe(a):c.removeEventListener("abort",a)}),i=null)};i.forEach(c=>c.addEventListener("abort",a));const{signal:u}=r;return u.unsubscribe=()=>Qt.asap(l),u}},lLt=function*(i,e){let n=i.byteLength;if(n<e){yield i;return}let r=0,s;for(;r<n;)s=r+e,yield i.slice(r,s),r=s},uLt=async function*(i,e){for await(const n of cLt(i))yield*lLt(n,e)},cLt=async function*(i){if(i[Symbol.asyncIterator]){yield*i;return}const e=i.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},tH=(i,e,n,r)=>{const s=uLt(i,e);let a=0,o,l=u=>{o||(o=!0,r&&r(u))};return new ReadableStream({async pull(u){try{const{done:c,value:h}=await s.next();if(c){l(),u.close();return}let p=h.byteLength;if(n){let g=a+=p;n(g)}u.enqueue(new Uint8Array(h))}catch(c){throw l(c),c}},cancel(u){return l(u),s.return()}},{highWaterMark:2})},RO=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",bZ=RO&&typeof ReadableStream=="function",fLt=RO&&(typeof TextEncoder=="function"?(i=>e=>i.encode(e))(new TextEncoder):async i=>new Uint8Array(await new Response(i).arrayBuffer())),xZ=(i,...e)=>{try{return!!i(...e)}catch{return!1}},hLt=bZ&&xZ(()=>{let i=!1;const e=new Request(Wa.origin,{body:new ReadableStream,method:"POST",get duplex(){return i=!0,"half"}}).headers.has("Content-Type");return i&&!e}),eH=64*1024,xL=bZ&&xZ(()=>Qt.isReadableStream(new Response("").body)),O2={stream:xL&&(i=>i.body)};RO&&(i=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!O2[e]&&(O2[e]=Qt.isFunction(i[e])?n=>n[e]():(n,r)=>{throw new qn(`Response type '${e}' is not supported`,qn.ERR_NOT_SUPPORT,r)})})})(new Response);const dLt=async i=>{if(i==null)return 0;if(Qt.isBlob(i))return i.size;if(Qt.isSpecCompliantForm(i))return(await new Request(Wa.origin,{method:"POST",body:i}).arrayBuffer()).byteLength;if(Qt.isArrayBufferView(i)||Qt.isArrayBuffer(i))return i.byteLength;if(Qt.isURLSearchParams(i)&&(i=i+""),Qt.isString(i))return(await fLt(i)).byteLength},pLt=async(i,e)=>{const n=Qt.toFiniteNumber(i.getContentLength());return n??dLt(e)},mLt=RO&&(async i=>{let{url:e,method:n,data:r,signal:s,cancelToken:a,timeout:o,onDownloadProgress:l,onUploadProgress:u,responseType:c,headers:h,withCredentials:p="same-origin",fetchOptions:g}=_Z(i);c=c?(c+"").toLowerCase():"text";let v=oLt([s,a&&a.toAbortSignal()],o),b;const S=v&&v.unsubscribe&&(()=>{v.unsubscribe()});let E;try{if(u&&hLt&&n!=="get"&&n!=="head"&&(E=await pLt(h,r))!==0){let P=new Request(e,{method:"POST",body:r,duplex:"half"}),k;if(Qt.isFormData(r)&&(k=P.headers.get("content-type"))&&h.setContentType(k),P.body){const[D,N]=Z9(E,R2(Q9(u)));r=tH(P.body,eH,D,N)}}Qt.isString(p)||(p=p?"include":"omit");const x="credentials"in Request.prototype;b=new Request(e,{...g,signal:v,method:n.toUpperCase(),headers:h.normalize().toJSON(),body:r,duplex:"half",credentials:x?p:void 0});let A=await fetch(b);const C=xL&&(c==="stream"||c==="response");if(xL&&(l||C&&S)){const P={};["status","statusText","headers"].forEach(U=>{P[U]=A[U]});const k=Qt.toFiniteNumber(A.headers.get("content-length")),[D,N]=l&&Z9(k,R2(Q9(l),!0))||[];A=new Response(tH(A.body,eH,D,()=>{N&&N(),S&&S()}),P)}c=c||"text";let M=await O2[Qt.findKey(O2,c)||"text"](A,i);return!C&&S&&S(),await new Promise((P,k)=>{yZ(P,k,{data:M,headers:yl.from(A.headers),status:A.status,statusText:A.statusText,config:i,request:b})})}catch(x){throw S&&S(),x&&x.name==="TypeError"&&/Load failed|fetch/i.test(x.message)?Object.assign(new qn("Network Error",qn.ERR_NETWORK,i,b),{cause:x.cause||x}):qn.from(x,x&&x.code,i,b)}}),SL={http:ONt,xhr:aLt,fetch:mLt};Qt.forEach(SL,(i,e)=>{if(i){try{Object.defineProperty(i,"name",{value:e})}catch{}Object.defineProperty(i,"adapterName",{value:e})}});const nH=i=>`- ${i}`,gLt=i=>Qt.isFunction(i)||i===null||i===!1,SZ={getAdapter:i=>{i=Qt.isArray(i)?i:[i];const{length:e}=i;let n,r;const s={};for(let a=0;a<e;a++){n=i[a];let o;if(r=n,!gLt(n)&&(r=SL[(o=String(n)).toLowerCase()],r===void 0))throw new qn(`Unknown adapter '${o}'`);if(r)break;s[o||"#"+a]=r}if(!r){const a=Object.entries(s).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=e?a.length>1?`since :
`+a.map(nH).join(`
`):" "+nH(a[0]):"as no adapter specified";throw new qn("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:SL};function WD(i){if(i.cancelToken&&i.cancelToken.throwIfRequested(),i.signal&&i.signal.aborted)throw new Cb(null,i)}function iH(i){return WD(i),i.headers=yl.from(i.headers),i.data=qD.call(i,i.transformRequest),["post","put","patch"].indexOf(i.method)!==-1&&i.headers.setContentType("application/x-www-form-urlencoded",!1),SZ.getAdapter(i.adapter||ZE.adapter)(i).then(function(r){return WD(i),r.data=qD.call(i,i.transformResponse,r),r.headers=yl.from(r.headers),r},function(r){return gZ(r)||(WD(i),r&&r.response&&(r.response.data=qD.call(i,i.transformResponse,r.response),r.response.headers=yl.from(r.response.headers))),Promise.reject(r)})}const EZ="1.9.0",OO={};["object","boolean","number","function","string","symbol"].forEach((i,e)=>{OO[i]=function(r){return typeof r===i||"a"+(e<1?"n ":" ")+i}});const rH={};OO.transitional=function(e,n,r){function s(a,o){return"[Axios v"+EZ+"] Transitional option '"+a+"'"+o+(r?". "+r:"")}return(a,o,l)=>{if(e===!1)throw new qn(s(o," has been removed"+(n?" in "+n:"")),qn.ERR_DEPRECATED);return n&&!rH[o]&&(rH[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(a,o,l):!0}};OO.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function yLt(i,e,n){if(typeof i!="object")throw new qn("options must be an object",qn.ERR_BAD_OPTION_VALUE);const r=Object.keys(i);let s=r.length;for(;s-- >0;){const a=r[s],o=e[a];if(o){const l=i[a],u=l===void 0||o(l,a,i);if(u!==!0)throw new qn("option "+a+" must be "+u,qn.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new qn("Unknown option "+a,qn.ERR_BAD_OPTION)}}const UM={assertOptions:yLt,validators:OO},If=UM.validators;let Ly=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Y9,response:new Y9}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const a=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=e0(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:a}=n;r!==void 0&&UM.assertOptions(r,{silentJSONParsing:If.transitional(If.boolean),forcedJSONParsing:If.transitional(If.boolean),clarifyTimeoutError:If.transitional(If.boolean)},!1),s!=null&&(Qt.isFunction(s)?n.paramsSerializer={serialize:s}:UM.assertOptions(s,{encode:If.function,serialize:If.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),UM.assertOptions(n,{baseUrl:If.spelling("baseURL"),withXsrfToken:If.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=a&&Qt.merge(a.common,a[n.method]);a&&Qt.forEach(["delete","get","head","post","put","patch","common"],b=>{delete a[b]}),n.headers=yl.concat(o,a);const l=[];let u=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(n)===!1||(u=u&&S.synchronous,l.unshift(S.fulfilled,S.rejected))});const c=[];this.interceptors.response.forEach(function(S){c.push(S.fulfilled,S.rejected)});let h,p=0,g;if(!u){const b=[iH.bind(this),void 0];for(b.unshift.apply(b,l),b.push.apply(b,c),g=b.length,h=Promise.resolve(n);p<g;)h=h.then(b[p++],b[p++]);return h}g=l.length;let v=n;for(p=0;p<g;){const b=l[p++],S=l[p++];try{v=b(v)}catch(E){S.call(this,E);break}}try{h=iH.call(this,v)}catch(b){return Promise.reject(b)}for(p=0,g=c.length;p<g;)h=h.then(c[p++],c[p++]);return h}getUri(e){e=e0(this.defaults,e);const n=vZ(e.baseURL,e.url,e.allowAbsoluteUrls);return dZ(n,e.params,e.paramsSerializer)}};Qt.forEach(["delete","get","head","options"],function(e){Ly.prototype[e]=function(n,r){return this.request(e0(r||{},{method:e,url:n,data:(r||{}).data}))}});Qt.forEach(["post","put","patch"],function(e){function n(r){return function(a,o,l){return this.request(e0(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}Ly.prototype[e]=n(),Ly.prototype[e+"Form"]=n(!0)});let vLt=class TZ{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const r=this;this.promise.then(s=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](s);r._listeners=null}),this.promise.then=s=>{let a;const o=new Promise(l=>{r.subscribe(l),a=l}).then(s);return o.cancel=function(){r.unsubscribe(a)},o},e(function(a,o,l){r.reason||(r.reason=new Cb(a,o,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new TZ(function(s){e=s}),cancel:e}}};function _Lt(i){return function(n){return i.apply(null,n)}}function bLt(i){return Qt.isObject(i)&&i.isAxiosError===!0}const EL={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(EL).forEach(([i,e])=>{EL[e]=i});function wZ(i){const e=new Ly(i),n=eZ(Ly.prototype.request,e);return Qt.extend(n,Ly.prototype,e,{allOwnKeys:!0}),Qt.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return wZ(e0(i,s))},n}const $r=wZ(ZE);$r.Axios=Ly;$r.CanceledError=Cb;$r.CancelToken=vLt;$r.isCancel=gZ;$r.VERSION=EZ;$r.toFormData=CO;$r.AxiosError=qn;$r.Cancel=$r.CanceledError;$r.all=function(e){return Promise.all(e)};$r.spread=_Lt;$r.isAxiosError=bLt;$r.mergeConfig=e0;$r.AxiosHeaders=yl;$r.formToJSON=i=>mZ(Qt.isHTMLForm(i)?new FormData(i):i);$r.getAdapter=SZ.getAdapter;$r.HttpStatusCode=EL;$r.default=$r;const{Axios:Hkt,AxiosError:jkt,CanceledError:Gkt,isCancel:$kt,CancelToken:qkt,VERSION:Wkt,all:Xkt,Cancel:Ykt,isAxiosError:Kkt,spread:Zkt,toFormData:Qkt,AxiosHeaders:Jkt,HttpStatusCode:tzt,formToJSON:ezt,getAdapter:nzt,mergeConfig:izt}=$r,sH="AIzaSyAa0gtKxf96As85G1LjaWLr3YzKz0DttGQ",aH=i=>{const n=/PT(?:(\d+)H)?(?:(\d+)M)?(?:(\d+)S)?/.exec(i);if(!n)return["00:00","0"];const r=parseInt(n[1]||"0",10),s=parseInt(n[2]||"0",10),a=parseInt(n[3]||"0",10),o=h=>h.toString().padStart(2,"0"),l=`${r}:${o(s)}:${o(a)}`,u=`${s}:${o(a)}`,c=String(r*3600+s*60+a);return r>0?[l,c]:[u,c]},xLt=i=>i>=1e9?(i/1e9).toFixed(1)+" B":i>=1e6?(i/1e6).toFixed(1)+" M":i>=1e3?(i/1e3).toFixed(1)+" K":i.toString(),SLt=i=>{const e=new Date(i),r=Math.floor((new Date().getTime()-e.getTime())/1e3),s=Math.floor(r/60),a=Math.floor(s/60),o=Math.floor(a/24),l=Math.floor(o/30),u=Math.floor(o/365);return u>=1?`${u} ao${u>1?"s":""}`:l>=1?`${l} mes${l>1?"es":""}`:o>=1?`${o} da${o>1?"s":""}`:a>=1?`${a} hora${a>1?"s":""}`:s>=1?`${s} minuto${s>1?"s":""}`:`${r} segundo${r>1?"s":""}`},ELt=async(i,e)=>{var n,r,s,a,o,l,u,c;if(i)try{const p=(await $r.get("https://www.googleapis.com/youtube/v3/search",{params:{part:"snippet",q:i,key:sH,type:"video",maxResults:10}})).data.items.map(b=>b.id.videoId),v=(await $r.get("https://www.googleapis.com/youtube/v3/videos",{params:{part:"snippet,contentDetails,statistics",id:p.join(","),key:sH}})).data.items.map(b=>{const S=aH(b.contentDetails.duration)[0],E=aH(b.contentDetails.duration)[1],x=xLt(b.statistics.viewCount),A=SLt(b.snippet.publishedAt);return{videoId:b.id,videoTitle:b.snippet.title,publishedAt:A,viewCount:x,duration:S,secondsTotal:E,channelTitle:b.snippet.channelTitle,videoThumbnailUrl:b.snippet.thumbnails.high.url}});e(v)}catch(h){$r.isAxiosError(h)?console.error("Error buscando en YouTube:",{status:(n=h.response)==null?void 0:n.status,statusText:(r=h.response)==null?void 0:r.statusText,message:((o=(a=(s=h.response)==null?void 0:s.data)==null?void 0:a.error)==null?void 0:o.message)||h.message,errors:(c=(u=(l=h.response)==null?void 0:l.data)==null?void 0:u.error)==null?void 0:c.errors}):console.error("Error inesperado:",h)}},$A=()=>{const i=navigator.userAgent;return/android/i.test(i)?"Android":/iPad|iPhone|iPod/.test(i)?"iOS":/Windows NT/.test(i)?"Windows":/Mac OS X/.test(i)?"macOS":/Linux/.test(i)?"Linux":"Unknown"},TLt=({cameraControlsRef:i})=>{const e=Q.useRef(void 0);MU(()=>{var s;return(s=e.current)==null?void 0:s.tickFrame()});const n=M3t(),r=Q.useCallback(s=>{if(!s)return;if(!i.current){console.error("cameraControlsRef no est inicializado.");return}const a=new pt(s.x??0,s.y??0,s.z??0);gAt(i.current,a,30),fn.setState({nodeViewData:s})},[i]);return W.jsx(w3t,{ref:e,graphData:n,linkWidth:2,linkCurvature:.05,linkDirectionalParticles:4,linkDirectionalParticleWidth:2,onNodeClick:r,nodeAutoColorBy:s=>s.group?UK[s.group]:"gray",nodeThreeObject:s=>G3t(s)})},wLt=gn.forwardRef(function(e,n){return W.jsx(U$,{direction:"up",ref:n,...e})}),Df="components.navigationgestures.",ALt=()=>{const{t:i}=qu(),e=i(Df+"touch.title"),n=i(Df+"desk.title"),[r,s]=gn.useState(!0),[a,o]=gn.useState(!1);Q.useEffect(()=>{localStorage.getItem(bm.navigationsGestures)==="true"?(s(!1),fn.setState({overlayDontShowAgain:!0})):(s(!0),fn.setState({overlayDontShowAgain:!1}))},[]);const l=()=>{fn.setState({overlayDontShowAgain:a}),s(!1)},u=c=>{const h=c.target.checked;o(h),h?localStorage.setItem(bm.navigationsGestures,"true"):localStorage.removeItem(bm.navigationsGestures)};return W.jsx(di,{children:W.jsxs(egt,{open:r,slots:{transition:wLt},keepMounted:!0,onClose:l,"aria-describedby":"alert-dialog-slide-description",children:[W.jsx(vgt,{children:$A()==="Android"||$A()==="iOS"?e:n}),W.jsx(fgt,{sx:{padding:"20px"},children:W.jsx(mgt,{component:"div",id:"alert-dialog-slide-description",sx:{"& div":{marginTop:"20px"}},children:$A()==="iOS"||$A()==="Android"?W.jsxs(W.Fragment,{children:[W.jsxs(Qp,{direction:"row",spacing:1,alignItems:"center",children:[W.jsx("img",{src:"gestures/one-swipe.svg",alt:"One Swipe",style:{width:30}}),W.jsx(Li,{variant:"h6",children:i(Df+"touch.text1")})]}),W.jsxs(Qp,{direction:"row",spacing:1,alignItems:"center",children:[W.jsx("img",{src:"gestures/two-swipe.svg",alt:"Two Swipe",style:{width:30}}),W.jsx(Li,{variant:"h6",children:i(Df+"touch.text2")})]}),W.jsxs(Qp,{direction:"row",spacing:1,alignItems:"center",children:[W.jsx("img",{src:"gestures/zoom-in.svg",alt:"Scroll",style:{width:30}}),W.jsx(Li,{variant:"h6",children:i(Df+"touch.text3")})]})]}):W.jsxs(W.Fragment,{children:[W.jsxs(Qp,{direction:"row",spacing:1,alignItems:"center",children:[W.jsx("img",{src:"gestures/left-click.svg",alt:"Left Click",style:{width:30}}),W.jsx(Li,{variant:"h6",children:"+"}),W.jsx("img",{src:"gestures/360.svg",alt:"360",style:{width:30}}),W.jsxs(Li,{variant:"h6",children:["Clic izquierdo + arrastrar: Orbitar",i(Df+"desk.text1")]})]}),W.jsxs(Qp,{direction:"row",spacing:1,alignItems:"center",children:[W.jsx("img",{src:"gestures/right-click.svg",alt:"Right Click",style:{width:30}}),W.jsx(Li,{variant:"h6",children:"+"}),W.jsx("img",{src:"gestures/360.svg",alt:"360",style:{width:30}}),W.jsx(Li,{variant:"h6",children:i(Df+"desk.text2")})]}),W.jsxs(Qp,{direction:"row",spacing:1,alignItems:"center",children:[W.jsx("img",{src:"gestures/scroll.svg",alt:"Scroll",style:{width:30}}),W.jsx(Li,{variant:"h6",children:i(Df+"desk.text3")})]})]})})}),W.jsxs(sgt,{sx:{justifyContent:"space-between"},children:[W.jsx(Lgt,{control:W.jsx(Rmt,{onChange:u}),label:i(Df+"checkBoxLabel")}),W.jsx(vd,{onClick:l,children:i(Df+"buttonClose")})]})]})})};var QE=i=>i.type==="checkbox",xy=i=>i instanceof Date,Eo=i=>i==null;const AZ=i=>typeof i=="object";var gs=i=>!Eo(i)&&!Array.isArray(i)&&AZ(i)&&!xy(i),MZ=i=>gs(i)&&i.target?QE(i.target)?i.target.checked:i.target.value:i,MLt=i=>i.substring(0,i.search(/\.\d+(\.|$)/))||i,CZ=(i,e)=>i.has(MLt(e)),CLt=i=>{const e=i.constructor&&i.constructor.prototype;return gs(e)&&e.hasOwnProperty("isPrototypeOf")},Xk=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ma(i){let e;const n=Array.isArray(i),r=typeof FileList<"u"?i instanceof FileList:!1;if(i instanceof Date)e=new Date(i);else if(i instanceof Set)e=new Set(i);else if(!(Xk&&(i instanceof Blob||r))&&(n||gs(i)))if(e=n?[]:{},!n&&!CLt(i))e=i;else for(const s in i)i.hasOwnProperty(s)&&(e[s]=ma(i[s]));else return i;return e}var PO=i=>Array.isArray(i)?i.filter(Boolean):[],ms=i=>i===void 0,Be=(i,e,n)=>{if(!e||!gs(i))return n;const r=PO(e.split(/[,[\].]+?/)).reduce((s,a)=>Eo(s)?s:s[a],i);return ms(r)||r===i?ms(i[e])?n:i[e]:r},Gl=i=>typeof i=="boolean",Yk=i=>/^\w*$/.test(i),RZ=i=>PO(i.replace(/["|']|\]/g,"").split(/\.|\[/)),Fi=(i,e,n)=>{let r=-1;const s=Yk(e)?[e]:RZ(e),a=s.length,o=a-1;for(;++r<a;){const l=s[r];let u=n;if(r!==o){const c=i[l];u=gs(c)||Array.isArray(c)?c:isNaN(+s[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;i[l]=u,i=i[l]}};const P2={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Cc={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},sd={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},RLt=gn.createContext(null),Kk=()=>gn.useContext(RLt);var OZ=(i,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const a in i)Object.defineProperty(s,a,{get:()=>{const o=a;return e._proxyFormState[o]!==Cc.all&&(e._proxyFormState[o]=!r||Cc.all),n&&(n[o]=!0),i[o]}});return s},TL=i=>Eo(i)||!AZ(i);function md(i,e){if(TL(i)||TL(e))return i===e;if(xy(i)&&xy(e))return i.getTime()===e.getTime();const n=Object.keys(i),r=Object.keys(e);if(n.length!==r.length)return!1;for(const s of n){const a=i[s];if(!r.includes(s))return!1;if(s!=="ref"){const o=e[s];if(xy(a)&&xy(o)||gs(a)&&gs(o)||Array.isArray(a)&&Array.isArray(o)?!md(a,o):a!==o)return!1}}return!0}const PZ=(i,e)=>{const n=Q.useRef(e);md(e,n.current)||(n.current=e),Q.useEffect(i,n.current)};function OLt(i){const e=Kk(),{control:n=e.control,disabled:r,name:s,exact:a}=i||{},[o,l]=gn.useState(n._formState),u=gn.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return PZ(()=>n._subscribe({name:s,formState:u.current,exact:a,callback:c=>{!r&&l({...n._formState,...c})}}),[s,r,a]),gn.useEffect(()=>{u.current.isValid&&n._setValid(!0)},[n]),gn.useMemo(()=>OZ(o,n,u.current,!1),[o,n])}var Xf=i=>typeof i=="string",IZ=(i,e,n,r,s)=>Xf(i)?(r&&e.watch.add(i),Be(n,i,s)):Array.isArray(i)?i.map(a=>(r&&e.watch.add(a),Be(n,a))):(r&&(e.watchAll=!0),n);function PLt(i){const e=Kk(),{control:n=e.control,name:r,defaultValue:s,disabled:a,exact:o}=i||{},[l,u]=gn.useState(n._getWatch(r,s));return PZ(()=>n._subscribe({name:r,formState:{values:!0},exact:o,callback:c=>!a&&u(IZ(r,n._names,c.values||n._formValues,!1,s))}),[r,s,a,o]),gn.useEffect(()=>n._removeUnmounted()),l}function ILt(i){const e=Kk(),{name:n,disabled:r,control:s=e.control,shouldUnregister:a}=i,o=CZ(s._names.array,n),l=PLt({control:s,name:n,defaultValue:Be(s._formValues,n,Be(s._defaultValues,n,i.defaultValue)),exact:!0}),u=OLt({control:s,name:n,exact:!0}),c=gn.useRef(i),h=gn.useRef(s.register(n,{...i.rules,value:l,...Gl(i.disabled)?{disabled:i.disabled}:{}})),p=gn.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Be(u.errors,n)},isDirty:{enumerable:!0,get:()=>!!Be(u.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Be(u.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Be(u.validatingFields,n)},error:{enumerable:!0,get:()=>Be(u.errors,n)}}),[u,n]),g=gn.useCallback(E=>h.current.onChange({target:{value:MZ(E),name:n},type:P2.CHANGE}),[n]),v=gn.useCallback(()=>h.current.onBlur({target:{value:Be(s._formValues,n),name:n},type:P2.BLUR}),[n,s._formValues]),b=gn.useCallback(E=>{const x=Be(s._fields,n);x&&E&&(x._f.ref={focus:()=>E.focus(),select:()=>E.select(),setCustomValidity:A=>E.setCustomValidity(A),reportValidity:()=>E.reportValidity()})},[s._fields,n]),S=gn.useMemo(()=>({name:n,value:l,...Gl(r)||u.disabled?{disabled:u.disabled||r}:{},onChange:g,onBlur:v,ref:b}),[n,r,u.disabled,g,v,b,l]);return gn.useEffect(()=>{const E=s._options.shouldUnregister||a;s.register(n,{...c.current.rules,...Gl(c.current.disabled)?{disabled:c.current.disabled}:{}});const x=(A,C)=>{const M=Be(s._fields,A);M&&M._f&&(M._f.mount=C)};if(x(n,!0),E){const A=ma(Be(s._options.defaultValues,n));Fi(s._defaultValues,n,A),ms(Be(s._formValues,n))&&Fi(s._formValues,n,A)}return!o&&s.register(n),()=>{(o?E&&!s._state.action:E)?s.unregister(n):x(n,!1)}},[n,s,o,a]),gn.useEffect(()=>{s._setDisabledField({disabled:r,name:n})},[r,n,s]),gn.useMemo(()=>({field:S,formState:u,fieldState:p}),[S,u,p])}const wL=i=>i.render(ILt(i));var DZ=(i,e,n,r,s)=>e?{...n[i],types:{...n[i]&&n[i].types?n[i].types:{},[r]:s||!0}}:{},dS=i=>Array.isArray(i)?i:[i],oH=()=>{let i=[];return{get observers(){return i},next:s=>{for(const a of i)a.next&&a.next(s)},subscribe:s=>(i.push(s),{unsubscribe:()=>{i=i.filter(a=>a!==s)}}),unsubscribe:()=>{i=[]}}},So=i=>gs(i)&&!Object.keys(i).length,Zk=i=>i.type==="file",Rc=i=>typeof i=="function",I2=i=>{if(!Xk)return!1;const e=i?i.ownerDocument:0;return i instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},NZ=i=>i.type==="select-multiple",Qk=i=>i.type==="radio",DLt=i=>Qk(i)||QE(i),XD=i=>I2(i)&&i.isConnected;function NLt(i,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)i=ms(i)?r++:i[e[r++]];return i}function LLt(i){for(const e in i)if(i.hasOwnProperty(e)&&!ms(i[e]))return!1;return!0}function Fs(i,e){const n=Array.isArray(e)?e:Yk(e)?[e]:RZ(e),r=n.length===1?i:NLt(i,n),s=n.length-1,a=n[s];return r&&delete r[a],s!==0&&(gs(r)&&So(r)||Array.isArray(r)&&LLt(r))&&Fs(i,n.slice(0,-1)),i}var LZ=i=>{for(const e in i)if(Rc(i[e]))return!0;return!1};function D2(i,e={}){const n=Array.isArray(i);if(gs(i)||n)for(const r in i)Array.isArray(i[r])||gs(i[r])&&!LZ(i[r])?(e[r]=Array.isArray(i[r])?[]:{},D2(i[r],e[r])):Eo(i[r])||(e[r]=!0);return e}function UZ(i,e,n){const r=Array.isArray(i);if(gs(i)||r)for(const s in i)Array.isArray(i[s])||gs(i[s])&&!LZ(i[s])?ms(e)||TL(n[s])?n[s]=Array.isArray(i[s])?D2(i[s],[]):{...D2(i[s])}:UZ(i[s],Eo(e)?{}:e[s],n[s]):n[s]=!md(i[s],e[s]);return n}var b1=(i,e)=>UZ(i,e,D2(e));const lH={value:!1,isValid:!1},uH={value:!0,isValid:!0};var kZ=i=>{if(Array.isArray(i)){if(i.length>1){const e=i.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return i[0].checked&&!i[0].disabled?i[0].attributes&&!ms(i[0].attributes.value)?ms(i[0].value)||i[0].value===""?uH:{value:i[0].value,isValid:!0}:uH:lH}return lH},zZ=(i,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>ms(i)?i:e?i===""?NaN:i&&+i:n&&Xf(i)?new Date(i):r?r(i):i;const cH={isValid:!1,value:null};var BZ=i=>Array.isArray(i)?i.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,cH):cH;function fH(i){const e=i.ref;return Zk(e)?e.files:Qk(e)?BZ(i.refs).value:NZ(e)?[...e.selectedOptions].map(({value:n})=>n):QE(e)?kZ(i.refs).value:zZ(ms(e.value)?i.ref.value:e.value,i)}var ULt=(i,e,n,r)=>{const s={};for(const a of i){const o=Be(e,a);o&&Fi(s,a,o._f)}return{criteriaMode:n,names:[...i],fields:s,shouldUseNativeValidation:r}},N2=i=>i instanceof RegExp,x1=i=>ms(i)?i:N2(i)?i.source:gs(i)?N2(i.value)?i.value.source:i.value:i,hH=i=>({isOnSubmit:!i||i===Cc.onSubmit,isOnBlur:i===Cc.onBlur,isOnChange:i===Cc.onChange,isOnAll:i===Cc.all,isOnTouch:i===Cc.onTouched});const dH="AsyncFunction";var kLt=i=>!!i&&!!i.validate&&!!(Rc(i.validate)&&i.validate.constructor.name===dH||gs(i.validate)&&Object.values(i.validate).find(e=>e.constructor.name===dH)),zLt=i=>i.mount&&(i.required||i.min||i.max||i.maxLength||i.minLength||i.pattern||i.validate),pH=(i,e,n)=>!n&&(e.watchAll||e.watch.has(i)||[...e.watch].some(r=>i.startsWith(r)&&/^\.\w+/.test(i.slice(r.length))));const pS=(i,e,n,r)=>{for(const s of n||Object.keys(i)){const a=Be(i,s);if(a){const{_f:o,...l}=a;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],s)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(pS(l,e))break}else if(gs(l)&&pS(l,e))break}}};function mH(i,e,n){const r=Be(i,n);if(r||Yk(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const a=s.join("."),o=Be(e,a),l=Be(i,a);if(o&&!Array.isArray(o)&&n!==a)return{name:n};if(l&&l.type)return{name:a,error:l};s.pop()}return{name:n}}var BLt=(i,e,n,r)=>{n(i);const{name:s,...a}=i;return So(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(o=>e[o]===(!r||Cc.all))},FLt=(i,e,n)=>!i||!e||i===e||dS(i).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),VLt=(i,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||i):(n?r.isOnBlur:s.isOnBlur)?!i:(n?r.isOnChange:s.isOnChange)?i:!0,HLt=(i,e)=>!PO(Be(i,e)).length&&Fs(i,e),jLt=(i,e,n)=>{const r=dS(Be(i,n));return Fi(r,"root",e[n]),Fi(i,n,r),i},kM=i=>Xf(i);function gH(i,e,n="validate"){if(kM(i)||Array.isArray(i)&&i.every(kM)||Gl(i)&&!i)return{type:n,message:kM(i)?i:"",ref:e}}var Yv=i=>gs(i)&&!N2(i)?i:{value:i,message:""},yH=async(i,e,n,r,s,a)=>{const{ref:o,refs:l,required:u,maxLength:c,minLength:h,min:p,max:g,pattern:v,validate:b,name:S,valueAsNumber:E,mount:x}=i._f,A=Be(n,S);if(!x||e.has(S))return{};const C=l?l[0]:o,M=H=>{s&&C.reportValidity&&(C.setCustomValidity(Gl(H)?"":H||""),C.reportValidity())},P={},k=Qk(o),D=QE(o),N=k||D,U=(E||Zk(o))&&ms(o.value)&&ms(A)||I2(o)&&o.value===""||A===""||Array.isArray(A)&&!A.length,R=DZ.bind(null,S,r,P),B=(H,V,Y,et=sd.maxLength,G=sd.minLength)=>{const X=H?V:Y;P[S]={type:H?et:G,message:X,ref:o,...R(H?et:G,X)}};if(a?!Array.isArray(A)||!A.length:u&&(!N&&(U||Eo(A))||Gl(A)&&!A||D&&!kZ(l).isValid||k&&!BZ(l).isValid)){const{value:H,message:V}=kM(u)?{value:!!u,message:u}:Yv(u);if(H&&(P[S]={type:sd.required,message:V,ref:C,...R(sd.required,V)},!r))return M(V),P}if(!U&&(!Eo(p)||!Eo(g))){let H,V;const Y=Yv(g),et=Yv(p);if(!Eo(A)&&!isNaN(A)){const G=o.valueAsNumber||A&&+A;Eo(Y.value)||(H=G>Y.value),Eo(et.value)||(V=G<et.value)}else{const G=o.valueAsDate||new Date(A),X=Z=>new Date(new Date().toDateString()+" "+Z),J=o.type=="time",nt=o.type=="week";Xf(Y.value)&&A&&(H=J?X(A)>X(Y.value):nt?A>Y.value:G>new Date(Y.value)),Xf(et.value)&&A&&(V=J?X(A)<X(et.value):nt?A<et.value:G<new Date(et.value))}if((H||V)&&(B(!!H,Y.message,et.message,sd.max,sd.min),!r))return M(P[S].message),P}if((c||h)&&!U&&(Xf(A)||a&&Array.isArray(A))){const H=Yv(c),V=Yv(h),Y=!Eo(H.value)&&A.length>+H.value,et=!Eo(V.value)&&A.length<+V.value;if((Y||et)&&(B(Y,H.message,V.message),!r))return M(P[S].message),P}if(v&&!U&&Xf(A)){const{value:H,message:V}=Yv(v);if(N2(H)&&!A.match(H)&&(P[S]={type:sd.pattern,message:V,ref:o,...R(sd.pattern,V)},!r))return M(V),P}if(b){if(Rc(b)){const H=await b(A,n),V=gH(H,C);if(V&&(P[S]={...V,...R(sd.validate,V.message)},!r))return M(V.message),P}else if(gs(b)){let H={};for(const V in b){if(!So(H)&&!r)break;const Y=gH(await b[V](A,n),C,V);Y&&(H={...Y,...R(V,Y.message)},M(Y.message),r&&(P[S]=H))}if(!So(H)&&(P[S]={ref:C,...H},!r))return P}}return M(!0),P};const GLt={mode:Cc.onSubmit,reValidateMode:Cc.onChange,shouldFocusError:!0};function $Lt(i={}){let e={...GLt,...i},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Rc(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const r={};let s=gs(e.defaultValues)||gs(e.values)?ma(e.values||e.defaultValues)||{}:{},a=e.shouldUnregister?{}:ma(s),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u,c=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let p={...h};const g={array:oH(),state:oH()},v=hH(e.mode),b=hH(e.reValidateMode),S=e.criteriaMode===Cc.all,E=j=>ct=>{clearTimeout(c),c=setTimeout(j,ct)},x=async j=>{if(!e.disabled&&(h.isValid||p.isValid||j)){const ct=e.resolver?So((await U()).errors):await B(r,!0);ct!==n.isValid&&g.state.next({isValid:ct})}},A=(j,ct)=>{!e.disabled&&(h.isValidating||h.validatingFields||p.isValidating||p.validatingFields)&&((j||Array.from(l.mount)).forEach(mt=>{mt&&(ct?Fi(n.validatingFields,mt,ct):Fs(n.validatingFields,mt))}),g.state.next({validatingFields:n.validatingFields,isValidating:!So(n.validatingFields)}))},C=(j,ct=[],mt,Rt,_t=!0,Ct=!0)=>{if(Rt&&mt&&!e.disabled){if(o.action=!0,Ct&&Array.isArray(Be(r,j))){const Lt=mt(Be(r,j),Rt.argA,Rt.argB);_t&&Fi(r,j,Lt)}if(Ct&&Array.isArray(Be(n.errors,j))){const Lt=mt(Be(n.errors,j),Rt.argA,Rt.argB);_t&&Fi(n.errors,j,Lt),HLt(n.errors,j)}if((h.touchedFields||p.touchedFields)&&Ct&&Array.isArray(Be(n.touchedFields,j))){const Lt=mt(Be(n.touchedFields,j),Rt.argA,Rt.argB);_t&&Fi(n.touchedFields,j,Lt)}(h.dirtyFields||p.dirtyFields)&&(n.dirtyFields=b1(s,a)),g.state.next({name:j,isDirty:V(j,ct),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Fi(a,j,ct)},M=(j,ct)=>{Fi(n.errors,j,ct),g.state.next({errors:n.errors})},P=j=>{n.errors=j,g.state.next({errors:n.errors,isValid:!1})},k=(j,ct,mt,Rt)=>{const _t=Be(r,j);if(_t){const Ct=Be(a,j,ms(mt)?Be(s,j):mt);ms(Ct)||Rt&&Rt.defaultChecked||ct?Fi(a,j,ct?Ct:fH(_t._f)):G(j,Ct),o.mount&&x()}},D=(j,ct,mt,Rt,_t)=>{let Ct=!1,Lt=!1;const Jt={name:j};if(!e.disabled){if(!mt||Rt){(h.isDirty||p.isDirty)&&(Lt=n.isDirty,n.isDirty=Jt.isDirty=V(),Ct=Lt!==Jt.isDirty);const Le=md(Be(s,j),ct);Lt=!!Be(n.dirtyFields,j),Le?Fs(n.dirtyFields,j):Fi(n.dirtyFields,j,!0),Jt.dirtyFields=n.dirtyFields,Ct=Ct||(h.dirtyFields||p.dirtyFields)&&Lt!==!Le}if(mt){const Le=Be(n.touchedFields,j);Le||(Fi(n.touchedFields,j,mt),Jt.touchedFields=n.touchedFields,Ct=Ct||(h.touchedFields||p.touchedFields)&&Le!==mt)}Ct&&_t&&g.state.next(Jt)}return Ct?Jt:{}},N=(j,ct,mt,Rt)=>{const _t=Be(n.errors,j),Ct=(h.isValid||p.isValid)&&Gl(ct)&&n.isValid!==ct;if(e.delayError&&mt?(u=E(()=>M(j,mt)),u(e.delayError)):(clearTimeout(c),u=null,mt?Fi(n.errors,j,mt):Fs(n.errors,j)),(mt?!md(_t,mt):_t)||!So(Rt)||Ct){const Lt={...Rt,...Ct&&Gl(ct)?{isValid:ct}:{},errors:n.errors,name:j};n={...n,...Lt},g.state.next(Lt)}},U=async j=>{A(j,!0);const ct=await e.resolver(a,e.context,ULt(j||l.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return A(j),ct},R=async j=>{const{errors:ct}=await U(j);if(j)for(const mt of j){const Rt=Be(ct,mt);Rt?Fi(n.errors,mt,Rt):Fs(n.errors,mt)}else n.errors=ct;return ct},B=async(j,ct,mt={valid:!0})=>{for(const Rt in j){const _t=j[Rt];if(_t){const{_f:Ct,...Lt}=_t;if(Ct){const Jt=l.array.has(Ct.name),Le=_t._f&&kLt(_t._f);Le&&h.validatingFields&&A([Rt],!0);const Ht=await yH(_t,l.disabled,a,S,e.shouldUseNativeValidation&&!ct,Jt);if(Le&&h.validatingFields&&A([Rt]),Ht[Ct.name]&&(mt.valid=!1,ct))break;!ct&&(Be(Ht,Ct.name)?Jt?jLt(n.errors,Ht,Ct.name):Fi(n.errors,Ct.name,Ht[Ct.name]):Fs(n.errors,Ct.name))}!So(Lt)&&await B(Lt,ct,mt)}}return mt.valid},H=()=>{for(const j of l.unMount){const ct=Be(r,j);ct&&(ct._f.refs?ct._f.refs.every(mt=>!XD(mt)):!XD(ct._f.ref))&&Kt(j)}l.unMount=new Set},V=(j,ct)=>!e.disabled&&(j&&ct&&Fi(a,j,ct),!md(yt(),s)),Y=(j,ct,mt)=>IZ(j,l,{...o.mount?a:ms(ct)?s:Xf(j)?{[j]:ct}:ct},mt,ct),et=j=>PO(Be(o.mount?a:s,j,e.shouldUnregister?Be(s,j,[]):[])),G=(j,ct,mt={})=>{const Rt=Be(r,j);let _t=ct;if(Rt){const Ct=Rt._f;Ct&&(!Ct.disabled&&Fi(a,j,zZ(ct,Ct)),_t=I2(Ct.ref)&&Eo(ct)?"":ct,NZ(Ct.ref)?[...Ct.ref.options].forEach(Lt=>Lt.selected=_t.includes(Lt.value)):Ct.refs?QE(Ct.ref)?Ct.refs.length>1?Ct.refs.forEach(Lt=>(!Lt.defaultChecked||!Lt.disabled)&&(Lt.checked=Array.isArray(_t)?!!_t.find(Jt=>Jt===Lt.value):_t===Lt.value)):Ct.refs[0]&&(Ct.refs[0].checked=!!_t):Ct.refs.forEach(Lt=>Lt.checked=Lt.value===_t):Zk(Ct.ref)?Ct.ref.value="":(Ct.ref.value=_t,Ct.ref.type||g.state.next({name:j,values:ma(a)})))}(mt.shouldDirty||mt.shouldTouch)&&D(j,_t,mt.shouldTouch,mt.shouldDirty,!0),mt.shouldValidate&&dt(j)},X=(j,ct,mt)=>{for(const Rt in ct){const _t=ct[Rt],Ct=`${j}.${Rt}`,Lt=Be(r,Ct);(l.array.has(j)||gs(_t)||Lt&&!Lt._f)&&!xy(_t)?X(Ct,_t,mt):G(Ct,_t,mt)}},J=(j,ct,mt={})=>{const Rt=Be(r,j),_t=l.array.has(j),Ct=ma(ct);Fi(a,j,Ct),_t?(g.array.next({name:j,values:ma(a)}),(h.isDirty||h.dirtyFields||p.isDirty||p.dirtyFields)&&mt.shouldDirty&&g.state.next({name:j,dirtyFields:b1(s,a),isDirty:V(j,Ct)})):Rt&&!Rt._f&&!Eo(Ct)?X(j,Ct,mt):G(j,Ct,mt),pH(j,l)&&g.state.next({...n}),g.state.next({name:o.mount?j:void 0,values:ma(a)})},nt=async j=>{o.mount=!0;const ct=j.target;let mt=ct.name,Rt=!0;const _t=Be(r,mt),Ct=Lt=>{Rt=Number.isNaN(Lt)||xy(Lt)&&isNaN(Lt.getTime())||md(Lt,Be(a,mt,Lt))};if(_t){let Lt,Jt;const Le=ct.type?fH(_t._f):MZ(j),Ht=j.type===P2.BLUR||j.type===P2.FOCUS_OUT,_e=!zLt(_t._f)&&!e.resolver&&!Be(n.errors,mt)&&!_t._f.deps||VLt(Ht,Be(n.touchedFields,mt),n.isSubmitted,b,v),Re=pH(mt,l,Ht);Fi(a,mt,Le),Ht?(_t._f.onBlur&&_t._f.onBlur(j),u&&u(0)):_t._f.onChange&&_t._f.onChange(j);const Oe=D(mt,Le,Ht),Zt=!So(Oe)||Re;if(!Ht&&g.state.next({name:mt,type:j.type,values:ma(a)}),_e)return(h.isValid||p.isValid)&&(e.mode==="onBlur"?Ht&&x():Ht||x()),Zt&&g.state.next({name:mt,...Re?{}:Oe});if(!Ht&&Re&&g.state.next({...n}),e.resolver){const{errors:Ie}=await U([mt]);if(Ct(Le),Rt){const Ue=mH(n.errors,r,mt),ln=mH(Ie,r,Ue.name||mt);Lt=ln.error,mt=ln.name,Jt=So(Ie)}}else A([mt],!0),Lt=(await yH(_t,l.disabled,a,S,e.shouldUseNativeValidation))[mt],A([mt]),Ct(Le),Rt&&(Lt?Jt=!1:(h.isValid||p.isValid)&&(Jt=await B(r,!0)));Rt&&(_t._f.deps&&dt(_t._f.deps),N(mt,Jt,Lt,Oe))}},Z=(j,ct)=>{if(Be(n.errors,ct)&&j.focus)return j.focus(),1},dt=async(j,ct={})=>{let mt,Rt;const _t=dS(j);if(e.resolver){const Ct=await R(ms(j)?j:_t);mt=So(Ct),Rt=j?!_t.some(Lt=>Be(Ct,Lt)):mt}else j?(Rt=(await Promise.all(_t.map(async Ct=>{const Lt=Be(r,Ct);return await B(Lt&&Lt._f?{[Ct]:Lt}:Lt)}))).every(Boolean),!(!Rt&&!n.isValid)&&x()):Rt=mt=await B(r);return g.state.next({...!Xf(j)||(h.isValid||p.isValid)&&mt!==n.isValid?{}:{name:j},...e.resolver||!j?{isValid:mt}:{},errors:n.errors}),ct.shouldFocus&&!Rt&&pS(r,Z,j?_t:l.mount),Rt},yt=j=>{const ct={...o.mount?a:s};return ms(j)?ct:Xf(j)?Be(ct,j):j.map(mt=>Be(ct,mt))},xt=(j,ct)=>({invalid:!!Be((ct||n).errors,j),isDirty:!!Be((ct||n).dirtyFields,j),error:Be((ct||n).errors,j),isValidating:!!Be(n.validatingFields,j),isTouched:!!Be((ct||n).touchedFields,j)}),it=j=>{j&&dS(j).forEach(ct=>Fs(n.errors,ct)),g.state.next({errors:j?n.errors:{}})},ht=(j,ct,mt)=>{const Rt=(Be(r,j,{_f:{}})._f||{}).ref,_t=Be(n.errors,j)||{},{ref:Ct,message:Lt,type:Jt,...Le}=_t;Fi(n.errors,j,{...Le,...ct,ref:Rt}),g.state.next({name:j,errors:n.errors,isValid:!1}),mt&&mt.shouldFocus&&Rt&&Rt.focus&&Rt.focus()},lt=(j,ct)=>Rc(j)?g.state.subscribe({next:mt=>j(Y(void 0,ct),mt)}):Y(j,ct,!0),gt=j=>g.state.subscribe({next:ct=>{FLt(j.name,ct.name,j.exact)&&BLt(ct,j.formState||h,Me,j.reRenderRoot)&&j.callback({values:{...a},...n,...ct})}}).unsubscribe,Tt=j=>(o.mount=!0,p={...p,...j.formState},gt({...j,formState:p})),Kt=(j,ct={})=>{for(const mt of j?dS(j):l.mount)l.mount.delete(mt),l.array.delete(mt),ct.keepValue||(Fs(r,mt),Fs(a,mt)),!ct.keepError&&Fs(n.errors,mt),!ct.keepDirty&&Fs(n.dirtyFields,mt),!ct.keepTouched&&Fs(n.touchedFields,mt),!ct.keepIsValidating&&Fs(n.validatingFields,mt),!e.shouldUnregister&&!ct.keepDefaultValue&&Fs(s,mt);g.state.next({values:ma(a)}),g.state.next({...n,...ct.keepDirty?{isDirty:V()}:{}}),!ct.keepIsValid&&x()},Ut=({disabled:j,name:ct})=>{(Gl(j)&&o.mount||j||l.disabled.has(ct))&&(j?l.disabled.add(ct):l.disabled.delete(ct))},te=(j,ct={})=>{let mt=Be(r,j);const Rt=Gl(ct.disabled)||Gl(e.disabled);return Fi(r,j,{...mt||{},_f:{...mt&&mt._f?mt._f:{ref:{name:j}},name:j,mount:!0,...ct}}),l.mount.add(j),mt?Ut({disabled:Gl(ct.disabled)?ct.disabled:e.disabled,name:j}):k(j,!0,ct.value),{...Rt?{disabled:ct.disabled||e.disabled}:{},...e.progressive?{required:!!ct.required,min:x1(ct.min),max:x1(ct.max),minLength:x1(ct.minLength),maxLength:x1(ct.maxLength),pattern:x1(ct.pattern)}:{},name:j,onChange:nt,onBlur:nt,ref:_t=>{if(_t){te(j,ct),mt=Be(r,j);const Ct=ms(_t.value)&&_t.querySelectorAll&&_t.querySelectorAll("input,select,textarea")[0]||_t,Lt=DLt(Ct),Jt=mt._f.refs||[];if(Lt?Jt.find(Le=>Le===Ct):Ct===mt._f.ref)return;Fi(r,j,{_f:{...mt._f,...Lt?{refs:[...Jt.filter(XD),Ct,...Array.isArray(Be(s,j))?[{}]:[]],ref:{type:Ct.type,name:j}}:{ref:Ct}}}),k(j,!1,void 0,Ct)}else mt=Be(r,j,{}),mt._f&&(mt._f.mount=!1),(e.shouldUnregister||ct.shouldUnregister)&&!(CZ(l.array,j)&&o.action)&&l.unMount.add(j)}}},Pt=()=>e.shouldFocusError&&pS(r,Z,l.mount),Bt=j=>{Gl(j)&&(g.state.next({disabled:j}),pS(r,(ct,mt)=>{const Rt=Be(r,mt);Rt&&(ct.disabled=Rt._f.disabled||j,Array.isArray(Rt._f.refs)&&Rt._f.refs.forEach(_t=>{_t.disabled=Rt._f.disabled||j}))},0,!1))},at=(j,ct)=>async mt=>{let Rt;mt&&(mt.preventDefault&&mt.preventDefault(),mt.persist&&mt.persist());let _t=ma(a);if(g.state.next({isSubmitting:!0}),e.resolver){const{errors:Ct,values:Lt}=await U();n.errors=Ct,_t=Lt}else await B(r);if(l.disabled.size)for(const Ct of l.disabled)Fi(_t,Ct,void 0);if(Fs(n.errors,"root"),So(n.errors)){g.state.next({errors:{}});try{await j(_t,mt)}catch(Ct){Rt=Ct}}else ct&&await ct({...n.errors},mt),Pt(),setTimeout(Pt);if(g.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:So(n.errors)&&!Rt,submitCount:n.submitCount+1,errors:n.errors}),Rt)throw Rt},ce=(j,ct={})=>{Be(r,j)&&(ms(ct.defaultValue)?J(j,ma(Be(s,j))):(J(j,ct.defaultValue),Fi(s,j,ma(ct.defaultValue))),ct.keepTouched||Fs(n.touchedFields,j),ct.keepDirty||(Fs(n.dirtyFields,j),n.isDirty=ct.defaultValue?V(j,ma(Be(s,j))):V()),ct.keepError||(Fs(n.errors,j),h.isValid&&x()),g.state.next({...n}))},ee=(j,ct={})=>{const mt=j?ma(j):s,Rt=ma(mt),_t=So(j),Ct=_t?s:Rt;if(ct.keepDefaultValues||(s=mt),!ct.keepValues){if(ct.keepDirtyValues){const Lt=new Set([...l.mount,...Object.keys(b1(s,a))]);for(const Jt of Array.from(Lt))Be(n.dirtyFields,Jt)?Fi(Ct,Jt,Be(a,Jt)):J(Jt,Be(Ct,Jt))}else{if(Xk&&ms(j))for(const Lt of l.mount){const Jt=Be(r,Lt);if(Jt&&Jt._f){const Le=Array.isArray(Jt._f.refs)?Jt._f.refs[0]:Jt._f.ref;if(I2(Le)){const Ht=Le.closest("form");if(Ht){Ht.reset();break}}}}for(const Lt of l.mount)J(Lt,Be(Ct,Lt))}a=ma(Ct),g.array.next({values:{...Ct}}),g.state.next({values:{...Ct}})}l={mount:ct.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!h.isValid||!!ct.keepIsValid||!!ct.keepDirtyValues,o.watch=!!e.shouldUnregister,g.state.next({submitCount:ct.keepSubmitCount?n.submitCount:0,isDirty:_t?!1:ct.keepDirty?n.isDirty:!!(ct.keepDefaultValues&&!md(j,s)),isSubmitted:ct.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:_t?{}:ct.keepDirtyValues?ct.keepDefaultValues&&a?b1(s,a):n.dirtyFields:ct.keepDefaultValues&&j?b1(s,j):ct.keepDirty?n.dirtyFields:{},touchedFields:ct.keepTouched?n.touchedFields:{},errors:ct.keepErrors?n.errors:{},isSubmitSuccessful:ct.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},ne=(j,ct)=>ee(Rc(j)?j(a):j,ct),ie=(j,ct={})=>{const mt=Be(r,j),Rt=mt&&mt._f;if(Rt){const _t=Rt.refs?Rt.refs[0]:Rt.ref;_t.focus&&(_t.focus(),ct.shouldSelect&&Rc(_t.select)&&_t.select())}},Me=j=>{n={...n,...j}},ut={control:{register:te,unregister:Kt,getFieldState:xt,handleSubmit:at,setError:ht,_subscribe:gt,_runSchema:U,_getWatch:Y,_getDirty:V,_setValid:x,_setFieldArray:C,_setDisabledField:Ut,_setErrors:P,_getFieldArray:et,_reset:ee,_resetDefaultValues:()=>Rc(e.defaultValues)&&e.defaultValues().then(j=>{ne(j,e.resetOptions),g.state.next({isLoading:!1})}),_removeUnmounted:H,_disableForm:Bt,_subjects:g,_proxyFormState:h,get _fields(){return r},get _formValues(){return a},get _state(){return o},set _state(j){o=j},get _defaultValues(){return s},get _names(){return l},set _names(j){l=j},get _formState(){return n},get _options(){return e},set _options(j){e={...e,...j}}},subscribe:Tt,trigger:dt,register:te,handleSubmit:at,watch:lt,setValue:J,getValues:yt,reset:ne,resetField:ce,clearErrors:it,unregister:Kt,setError:ht,setFocus:ie,getFieldState:xt};return{...ut,formControl:ut}}const qLt=typeof window<"u"?gn.useLayoutEffect:gn.useEffect;function WLt(i={}){const e=gn.useRef(void 0),n=gn.useRef(void 0),[r,s]=gn.useState({isDirty:!1,isValidating:!1,isLoading:Rc(i.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:i.errors||{},disabled:i.disabled||!1,isReady:!1,defaultValues:Rc(i.defaultValues)?void 0:i.defaultValues});e.current||(e.current={...i.formControl?i.formControl:$Lt(i),formState:r},i.formControl&&i.defaultValues&&!Rc(i.defaultValues)&&i.formControl.reset(i.defaultValues,i.resetOptions));const a=e.current.control;return a._options=i,qLt(()=>{const o=a._subscribe({formState:a._proxyFormState,callback:()=>s({...a._formState}),reRenderRoot:!0});return s(l=>({...l,isReady:!0})),a._formState.isReady=!0,o},[a]),gn.useEffect(()=>a._disableForm(i.disabled),[a,i.disabled]),gn.useEffect(()=>{i.mode&&(a._options.mode=i.mode),i.reValidateMode&&(a._options.reValidateMode=i.reValidateMode),i.errors&&!So(i.errors)&&a._setErrors(i.errors)},[a,i.errors,i.mode,i.reValidateMode]),gn.useEffect(()=>{i.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,i.shouldUnregister]),gn.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==r.isDirty&&a._subjects.state.next({isDirty:o})}},[a,r.isDirty]),gn.useEffect(()=>{i.values&&!md(i.values,n.current)?(a._reset(i.values,a._options.resetOptions),n.current=i.values,s(o=>({...o}))):a._resetDefaultValues()},[a,i.values]),gn.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),e.current.formState=OZ(r,a),e.current}const vH=(i,e,n)=>{if(i&&"reportValidity"in i){const r=Be(n,e);i.setCustomValidity(r&&r.message||""),i.reportValidity()}},FZ=(i,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?vH(r.ref,n,i):r&&r.refs&&r.refs.forEach(s=>vH(s,n,i))}},XLt=(i,e)=>{e.shouldUseNativeValidation&&FZ(i,e);const n={};for(const r in i){const s=Be(e.fields,r),a=Object.assign(i[r]||{},{ref:s&&s.ref});if(YLt(e.names||Object.keys(i),r)){const o=Object.assign({},Be(n,r));Fi(o,"root",a),Fi(n,r,o)}else Fi(n,r,a)}return n},YLt=(i,e)=>{const n=_H(e);return i.some(r=>_H(r).match(`^${n}\\.\\d+`))};function _H(i){return i.replace(/\]|\[/g,"")}function KLt(i,e,n){return n===void 0&&(n={}),function(r,s,a){try{return Promise.resolve(function(o,l){try{var u=(e!=null&&e.context,Promise.resolve(i[n.mode==="sync"?"validateSync":"validate"](r,Object.assign({abortEarly:!1},e,{context:s}))).then(function(c){return a.shouldUseNativeValidation&&FZ({},a),{values:n.raw?Object.assign({},r):c,errors:{}}}))}catch(c){return l(c)}return u&&u.then?u.then(void 0,l):u}(0,function(o){if(!o.inner)throw o;return{values:{},errors:XLt((l=o,u=!a.shouldUseNativeValidation&&a.criteriaMode==="all",(l.inner||[]).reduce(function(c,h){if(c[h.path]||(c[h.path]={message:h.message,type:h.type}),u){var p=c[h.path].types,g=p&&p[h.type];c[h.path]=DZ(h.path,u,c,h.type,g?[].concat(g,h.message):h.message)}return c},{})),a)};var l,u}))}catch(o){return Promise.reject(o)}}}var YD,bH;function ZLt(){if(bH)return YD;bH=1;function i(x){this._maxSize=x,this.clear()}i.prototype.clear=function(){this._size=0,this._values=Object.create(null)},i.prototype.get=function(x){return this._values[x]},i.prototype.set=function(x,A){return this._size>=this._maxSize&&this.clear(),x in this._values||this._size++,this._values[x]=A};var e=/[^.^\]^[]+|(?=\[\]|\.\.)/g,n=/^\d+$/,r=/^\d/,s=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,a=/^\s*(['"]?)(.*?)(\1)\s*$/,o=512,l=new i(o),u=new i(o),c=new i(o);YD={Cache:i,split:p,normalizePath:h,setter:function(x){var A=h(x);return u.get(x)||u.set(x,function(M,P){for(var k=0,D=A.length,N=M;k<D-1;){var U=A[k];if(U==="__proto__"||U==="constructor"||U==="prototype")return M;N=N[A[k++]]}N[A[k]]=P})},getter:function(x,A){var C=h(x);return c.get(x)||c.set(x,function(P){for(var k=0,D=C.length;k<D;)if(P!=null||!A)P=P[C[k++]];else return;return P})},join:function(x){return x.reduce(function(A,C){return A+(v(C)||n.test(C)?"["+C+"]":(A?".":"")+C)},"")},forEach:function(x,A,C){g(Array.isArray(x)?x:p(x),A,C)}};function h(x){return l.get(x)||l.set(x,p(x).map(function(A){return A.replace(a,"$2")}))}function p(x){return x.match(e)||[""]}function g(x,A,C){var M=x.length,P,k,D,N;for(k=0;k<M;k++)P=x[k],P&&(E(P)&&(P='"'+P+'"'),N=v(P),D=!N&&/^\d+$/.test(P),A.call(C,P,N,D,k,x))}function v(x){return typeof x=="string"&&x&&["'",'"'].indexOf(x.charAt(0))!==-1}function b(x){return x.match(r)&&!x.match(n)}function S(x){return s.test(x)}function E(x){return!v(x)&&(b(x)||S(x))}return YD}var Uy=ZLt(),KD,xH;function QLt(){if(xH)return KD;xH=1;const i=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,e=h=>h.match(i)||[],n=h=>h[0].toUpperCase()+h.slice(1),r=(h,p)=>e(h).join(p).toLowerCase(),s=h=>e(h).reduce((p,g)=>`${p}${p?g[0].toUpperCase()+g.slice(1).toLowerCase():g.toLowerCase()}`,"");return KD={words:e,upperFirst:n,camelCase:s,pascalCase:h=>n(s(h)),snakeCase:h=>r(h,"_"),kebabCase:h=>r(h,"-"),sentenceCase:h=>n(r(h," ")),titleCase:h=>e(h).map(n).join(" ")},KD}var ZD=QLt(),qA={exports:{}},SH;function JLt(){if(SH)return qA.exports;SH=1,qA.exports=function(s){return i(e(s),s)},qA.exports.array=i;function i(s,a){var o=s.length,l=new Array(o),u={},c=o,h=n(a),p=r(s);for(a.forEach(function(v){if(!p.has(v[0])||!p.has(v[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});c--;)u[c]||g(s[c],c,new Set);return l;function g(v,b,S){if(S.has(v)){var E;try{E=", node was:"+JSON.stringify(v)}catch{E=""}throw new Error("Cyclic dependency"+E)}if(!p.has(v))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(v));if(!u[b]){u[b]=!0;var x=h.get(v)||new Set;if(x=Array.from(x),b=x.length){S.add(v);do{var A=x[--b];g(A,p.get(A),S)}while(b);S.delete(v)}l[--o]=v}}}function e(s){for(var a=new Set,o=0,l=s.length;o<l;o++){var u=s[o];a.add(u[0]),a.add(u[1])}return Array.from(a)}function n(s){for(var a=new Map,o=0,l=s.length;o<l;o++){var u=s[o];a.has(u[0])||a.set(u[0],new Set),a.has(u[1])||a.set(u[1],new Set),a.get(u[0]).add(u[1])}return a}function r(s){for(var a=new Map,o=0,l=s.length;o<l;o++)a.set(s[o],o);return a}return qA.exports}var tUt=JLt();const eUt=hh(tUt),nUt=Object.prototype.toString,iUt=Error.prototype.toString,rUt=RegExp.prototype.toString,sUt=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",aUt=/^Symbol\((.*)\)(.*)$/;function oUt(i){return i!=+i?"NaN":i===0&&1/i<0?"-0":""+i}function EH(i,e=!1){if(i==null||i===!0||i===!1)return""+i;const n=typeof i;if(n==="number")return oUt(i);if(n==="string")return e?`"${i}"`:i;if(n==="function")return"[Function "+(i.name||"anonymous")+"]";if(n==="symbol")return sUt.call(i).replace(aUt,"Symbol($1)");const r=nUt.call(i).slice(8,-1);return r==="Date"?isNaN(i.getTime())?""+i:i.toISOString(i):r==="Error"||i instanceof Error?"["+iUt.call(i)+"]":r==="RegExp"?rUt.call(i):null}function xm(i,e){let n=EH(i,e);return n!==null?n:JSON.stringify(i,function(r,s){let a=EH(this[r],e);return a!==null?a:s},2)}function VZ(i){return i==null?[]:[].concat(i)}let HZ,jZ,GZ,lUt=/\$\{\s*(\w+)\s*\}/g;HZ=Symbol.toStringTag;class TH{constructor(e,n,r,s){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[HZ]="Error",this.name="ValidationError",this.value=n,this.path=r,this.type=s,this.errors=[],this.inner=[],VZ(e).forEach(a=>{if(al.isError(a)){this.errors.push(...a.errors);const o=a.inner.length?a.inner:[a];this.inner.push(...o)}else this.errors.push(a)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}jZ=Symbol.hasInstance;GZ=Symbol.toStringTag;class al extends Error{static formatError(e,n){const r=n.label||n.path||"this";return n=Object.assign({},n,{path:r,originalPath:n.path}),typeof e=="string"?e.replace(lUt,(s,a)=>xm(n[a])):typeof e=="function"?e(n):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,n,r,s,a){const o=new TH(e,n,r,s);if(a)return o;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[GZ]="Error",this.name=o.name,this.message=o.message,this.type=o.type,this.value=o.value,this.path=o.path,this.errors=o.errors,this.inner=o.inner,Error.captureStackTrace&&Error.captureStackTrace(this,al)}static[jZ](e){return TH[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let zf={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:i,type:e,value:n,originalValue:r})=>{const s=r!=null&&r!==n?` (cast from the value \`${xm(r,!0)}\`).`:".";return e!=="mixed"?`${i} must be a \`${e}\` type, but the final value was: \`${xm(n,!0)}\``+s:`${i} must match the configured type. The validated value was: \`${xm(n,!0)}\``+s}},il={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},Kp={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},AL={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},uUt={isValue:"${path} field must be ${value}"},zM={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},cUt={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},fUt={notType:i=>{const{path:e,value:n,spec:r}=i,s=r.types.length;if(Array.isArray(n)){if(n.length<s)return`${e} tuple value has too few items, expected a length of ${s} but got ${n.length} for value: \`${xm(n,!0)}\``;if(n.length>s)return`${e} tuple value has too many items, expected a length of ${s} but got ${n.length} for value: \`${xm(n,!0)}\``}return al.formatError(zf.notType,i)}};Object.assign(Object.create(null),{mixed:zf,string:il,number:Kp,date:AL,object:zM,array:cUt,boolean:uUt,tuple:fUt});const Jk=i=>i&&i.__isYupSchema__;class L2{static fromOptions(e,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:s,otherwise:a}=n,o=typeof r=="function"?r:(...l)=>l.every(u=>u===r);return new L2(e,(l,u)=>{var c;let h=o(...l)?s:a;return(c=h==null?void 0:h(u))!=null?c:u})}constructor(e,n){this.fn=void 0,this.refs=e,this.refs=e,this.fn=n}resolve(e,n){let r=this.refs.map(a=>a.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),s=this.fn(r,e,n);if(s===void 0||s===e)return e;if(!Jk(s))throw new TypeError("conditions must return a schema object");return s.resolve(n)}}const WA={context:"$",value:"."};class m0{constructor(e,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===WA.context,this.isValue=this.key[0]===WA.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?WA.context:this.isValue?WA.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&Uy.getter(this.path,!0),this.map=n.map}getValue(e,n,r){let s=this.isContext?r:this.isValue?e:n;return this.getter&&(s=this.getter(s||{})),this.map&&(s=this.map(s)),s}cast(e,n){return this.getValue(e,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}m0.prototype.__isYupRef=!0;const Ed=i=>i==null;function Kv(i){function e({value:n,path:r="",options:s,originalValue:a,schema:o},l,u){const{name:c,test:h,params:p,message:g,skipAbsent:v}=i;let{parent:b,context:S,abortEarly:E=o.spec.abortEarly,disableStackTrace:x=o.spec.disableStackTrace}=s;function A(B){return m0.isRef(B)?B.getValue(n,b,S):B}function C(B={}){const H=Object.assign({value:n,originalValue:a,label:o.spec.label,path:B.path||r,spec:o.spec,disableStackTrace:B.disableStackTrace||x},p,B.params);for(const Y of Object.keys(H))H[Y]=A(H[Y]);const V=new al(al.formatError(B.message||g,H),n,H.path,B.type||c,H.disableStackTrace);return V.params=H,V}const M=E?l:u;let P={path:r,parent:b,type:c,from:s.from,createError:C,resolve:A,options:s,originalValue:a,schema:o};const k=B=>{al.isError(B)?M(B):B?u(null):M(C())},D=B=>{al.isError(B)?M(B):l(B)};if(v&&Ed(n))return k(!0);let U;try{var R;if(U=h.call(P,n,P),typeof((R=U)==null?void 0:R.then)=="function"){if(s.sync)throw new Error(`Validation test of type: "${P.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(U).then(k,D)}}catch(B){D(B);return}k(U)}return e.OPTIONS=i,e}function hUt(i,e,n,r=n){let s,a,o;return e?(Uy.forEach(e,(l,u,c)=>{let h=u?l.slice(1,l.length-1):l;i=i.resolve({context:r,parent:s,value:n});let p=i.type==="tuple",g=c?parseInt(h,10):0;if(i.innerType||p){if(p&&!c)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(n&&g>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${l}, in the path: ${e}. because there is no value at that index. `);s=n,n=n&&n[g],i=p?i.spec.types[g]:i.innerType}if(!c){if(!i.fields||!i.fields[h])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${o} which is a type: "${i.type}")`);s=n,n=n&&n[h],i=i.fields[h]}a=h,o=u?"["+l+"]":"."+l}),{schema:i,parent:s,parentPath:a}):{parent:s,parentPath:e,schema:i}}class U2 extends Set{describe(){const e=[];for(const n of this.values())e.push(m0.isRef(n)?n.describe():n);return e}resolveAll(e){let n=[];for(const r of this.values())n.push(e(r));return n}clone(){return new U2(this.values())}merge(e,n){const r=this.clone();return e.forEach(s=>r.add(s)),n.forEach(s=>r.delete(s)),r}}function d_(i,e=new Map){if(Jk(i)||!i||typeof i!="object")return i;if(e.has(i))return e.get(i);let n;if(i instanceof Date)n=new Date(i.getTime()),e.set(i,n);else if(i instanceof RegExp)n=new RegExp(i),e.set(i,n);else if(Array.isArray(i)){n=new Array(i.length),e.set(i,n);for(let r=0;r<i.length;r++)n[r]=d_(i[r],e)}else if(i instanceof Map){n=new Map,e.set(i,n);for(const[r,s]of i.entries())n.set(r,d_(s,e))}else if(i instanceof Set){n=new Set,e.set(i,n);for(const r of i)n.add(d_(r,e))}else if(i instanceof Object){n={},e.set(i,n);for(const[r,s]of Object.entries(i))n[r]=d_(s,e)}else throw Error(`Unable to clone ${i}`);return n}class Bc{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new U2,this._blacklist=new U2,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(zf.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=d_(Object.assign({},this.spec,e)),n}label(e){let n=this.clone();return n.spec.label=e,n}meta(...e){if(e.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},e[0]),n}withMutation(e){let n=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=n,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let n=this,r=e.clone();const s=Object.assign({},n.spec,r.spec);return r.spec=s,r.internalTests=Object.assign({},n.internalTests,r.internalTests),r._whitelist=n._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=n._blacklist.merge(e._blacklist,e._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(a=>{e.tests.forEach(o=>{a.test(o.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((s,a)=>a.resolve(s,e),n),n=n.resolve(e)}return n}resolveOptions(e){var n,r,s,a;return Object.assign({},e,{from:e.from||[],strict:(n=e.strict)!=null?n:this.spec.strict,abortEarly:(r=e.abortEarly)!=null?r:this.spec.abortEarly,recursive:(s=e.recursive)!=null?s:this.spec.recursive,disableStackTrace:(a=e.disableStackTrace)!=null?a:this.spec.disableStackTrace})}cast(e,n={}){let r=this.resolve(Object.assign({value:e},n)),s=n.assert==="ignore-optionality",a=r._cast(e,n);if(n.assert!==!1&&!r.isType(a)){if(s&&Ed(a))return a;let o=xm(e),l=xm(a);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${o} 
`+(l!==o?`result of cast: ${l}`:""))}return a}_cast(e,n){let r=e===void 0?e:this.transforms.reduce((s,a)=>a.call(this,s,e,this),e);return r===void 0&&(r=this.getDefault(n)),r}_validate(e,n={},r,s){let{path:a,originalValue:o=e,strict:l=this.spec.strict}=n,u=e;l||(u=this._cast(u,Object.assign({assert:!1},n)));let c=[];for(let h of Object.values(this.internalTests))h&&c.push(h);this.runTests({path:a,value:u,originalValue:o,options:n,tests:c},r,h=>{if(h.length)return s(h,u);this.runTests({path:a,value:u,originalValue:o,options:n,tests:this.tests},r,s)})}runTests(e,n,r){let s=!1,{tests:a,value:o,originalValue:l,path:u,options:c}=e,h=S=>{s||(s=!0,n(S,o))},p=S=>{s||(s=!0,r(S,o))},g=a.length,v=[];if(!g)return p([]);let b={value:o,originalValue:l,path:u,options:c,schema:this};for(let S=0;S<a.length;S++){const E=a[S];E(b,h,function(A){A&&(Array.isArray(A)?v.push(...A):v.push(A)),--g<=0&&p(v)})}}asNestedTest({key:e,index:n,parent:r,parentPath:s,originalParent:a,options:o}){const l=e??n;if(l==null)throw TypeError("Must include `key` or `index` for nested validations");const u=typeof l=="number";let c=r[l];const h=Object.assign({},o,{strict:!0,parent:r,value:c,originalValue:a[l],key:void 0,[u?"index":"key"]:l,path:u||l.includes(".")?`${s||""}[${u?l:`"${l}"`}]`:(s?`${s}.`:"")+e});return(p,g,v)=>this.resolve(h)._validate(c,h,g,v)}validate(e,n){var r;let s=this.resolve(Object.assign({},n,{value:e})),a=(r=n==null?void 0:n.disableStackTrace)!=null?r:s.spec.disableStackTrace;return new Promise((o,l)=>s._validate(e,n,(u,c)=>{al.isError(u)&&(u.value=c),l(u)},(u,c)=>{u.length?l(new al(u,c,void 0,void 0,a)):o(c)}))}validateSync(e,n){var r;let s=this.resolve(Object.assign({},n,{value:e})),a,o=(r=n==null?void 0:n.disableStackTrace)!=null?r:s.spec.disableStackTrace;return s._validate(e,Object.assign({},n,{sync:!0}),(l,u)=>{throw al.isError(l)&&(l.value=u),l},(l,u)=>{if(l.length)throw new al(l,e,void 0,void 0,o);a=u}),a}isValid(e,n){return this.validate(e,n).then(()=>!0,r=>{if(al.isError(r))return!1;throw r})}isValidSync(e,n){try{return this.validateSync(e,n),!0}catch(r){if(al.isError(r))return!1;throw r}}_getDefault(e){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,e):d_(n)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,n){const r=this.clone({nullable:e});return r.internalTests.nullable=Kv({message:n,name:"nullable",test(s){return s===null?this.schema.spec.nullable:!0}}),r}optionality(e,n){const r=this.clone({optional:e});return r.internalTests.optionality=Kv({message:n,name:"optionality",test(s){return s===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(e=zf.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=zf.notNull){return this.nullability(!1,e)}required(e=zf.required){return this.clone().withMutation(n=>n.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let n=this.clone();return n.transforms.push(e),n}test(...e){let n;if(e.length===1?typeof e[0]=="function"?n={test:e[0]}:n=e[0]:e.length===2?n={name:e[0],test:e[1]}:n={name:e[0],message:e[1],test:e[2]},n.message===void 0&&(n.message=zf.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),s=Kv(n),a=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(o=>!(o.OPTIONS.name===n.name&&(a||o.OPTIONS.test===s.OPTIONS.test))),r.tests.push(s),r}when(e,n){!Array.isArray(e)&&typeof e!="string"&&(n=e,e=".");let r=this.clone(),s=VZ(e).map(a=>new m0(a));return s.forEach(a=>{a.isSibling&&r.deps.push(a.key)}),r.conditions.push(typeof n=="function"?new L2(s,n):L2.fromOptions(s,n)),r}typeError(e){let n=this.clone();return n.internalTests.typeError=Kv({message:e,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(e,n=zf.oneOf){let r=this.clone();return e.forEach(s=>{r._whitelist.add(s),r._blacklist.delete(s)}),r.internalTests.whiteList=Kv({message:n,name:"oneOf",skipAbsent:!0,test(s){let a=this.schema._whitelist,o=a.resolveAll(this.resolve);return o.includes(s)?!0:this.createError({params:{values:Array.from(a).join(", "),resolved:o}})}}),r}notOneOf(e,n=zf.notOneOf){let r=this.clone();return e.forEach(s=>{r._blacklist.add(s),r._whitelist.delete(s)}),r.internalTests.blacklist=Kv({message:n,name:"notOneOf",test(s){let a=this.schema._blacklist,o=a.resolveAll(this.resolve);return o.includes(s)?this.createError({params:{values:Array.from(a).join(", "),resolved:o}}):!0}}),r}strip(e=!0){let n=this.clone();return n.spec.strip=e,n}describe(e){const n=(e?this.resolve(e):this).clone(),{label:r,meta:s,optional:a,nullable:o}=n.spec;return{meta:s,label:r,optional:a,nullable:o,default:n.getDefault(e),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.map(u=>({name:u.OPTIONS.name,params:u.OPTIONS.params})).filter((u,c,h)=>h.findIndex(p=>p.name===u.name)===c)}}}Bc.prototype.__isYupSchema__=!0;for(const i of["validate","validateSync"])Bc.prototype[`${i}At`]=function(e,n,r={}){const{parent:s,parentPath:a,schema:o}=hUt(this,e,n,r.context);return o[i](s&&s[a],Object.assign({},r,{parent:s,path:e}))};for(const i of["equals","is"])Bc.prototype[i]=Bc.prototype.oneOf;for(const i of["not","nope"])Bc.prototype[i]=Bc.prototype.notOneOf;const dUt=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function pUt(i){const e=ML(i);if(!e)return Date.parse?Date.parse(i):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let n=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(n=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(n=0-n)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+n,e.second,e.millisecond)}function ML(i){var e,n;const r=dUt.exec(i);return r?{year:ad(r[1]),month:ad(r[2],1)-1,day:ad(r[3],1),hour:ad(r[4]),minute:ad(r[5]),second:ad(r[6]),millisecond:r[7]?ad(r[7].substring(0,3)):0,precision:(e=(n=r[7])==null?void 0:n.length)!=null?e:void 0,z:r[8]||void 0,plusMinus:r[9]||void 0,hourOffset:ad(r[10]),minuteOffset:ad(r[11])}:null}function ad(i,e=0){return Number(i)||e}let mUt=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,gUt=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,yUt=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,vUt="^\\d{4}-\\d{2}-\\d{2}",_Ut="\\d{2}:\\d{2}:\\d{2}",bUt="(([+-]\\d{2}(:?\\d{2})?)|Z)",xUt=new RegExp(`${vUt}T${_Ut}(\\.\\d+)?${bUt}$`),SUt=i=>Ed(i)||i===i.trim(),EUt={}.toString();function CL(){return new $Z}class $Z extends Bc{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(!r.spec.coerce||r.isType(e)||Array.isArray(e))return e;const s=e!=null&&e.toString?e.toString():e;return s===EUt?e:s})})}required(e){return super.required(e).withMutation(n=>n.test({message:e||zf.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(n=>n.OPTIONS.name!=="required"),e))}length(e,n=il.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,n=il.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,n=il.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}matches(e,n){let r=!1,s,a;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:s,name:a}=n:s=n),this.test({name:a||"matches",message:s||il.matches,params:{regex:e},skipAbsent:!0,test:o=>o===""&&r||o.search(e)!==-1})}email(e=il.email){return this.matches(mUt,{name:"email",message:e,excludeEmptyString:!0})}url(e=il.url){return this.matches(gUt,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=il.uuid){return this.matches(yUt,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let n="",r,s;return e&&(typeof e=="object"?{message:n="",allowOffset:r=!1,precision:s=void 0}=e:n=e),this.matches(xUt,{name:"datetime",message:n||il.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:n||il.datetime_offset,params:{allowOffset:r},skipAbsent:!0,test:a=>{if(!a||r)return!0;const o=ML(a);return o?!!o.z:!1}}).test({name:"datetime_precision",message:n||il.datetime_precision,params:{precision:s},skipAbsent:!0,test:a=>{if(!a||s==null)return!0;const o=ML(a);return o?o.precision===s:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=il.trim){return this.transform(n=>n!=null?n.trim():n).test({message:e,name:"trim",test:SUt})}lowercase(e=il.lowercase){return this.transform(n=>Ed(n)?n:n.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Ed(n)||n===n.toLowerCase()})}uppercase(e=il.uppercase){return this.transform(n=>Ed(n)?n:n.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Ed(n)||n===n.toUpperCase()})}}CL.prototype=$Z.prototype;let TUt=i=>i!=+i;function RL(){return new qZ}class qZ extends Bc{constructor(){super({type:"number",check(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!TUt(e)}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(!r.spec.coerce)return e;let s=e;if(typeof s=="string"){if(s=s.replace(/\s/g,""),s==="")return NaN;s=+s}return r.isType(s)||s===null?s:parseFloat(s)})})}min(e,n=Kp.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r>=this.resolve(e)}})}max(e,n=Kp.max){return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(r){return r<=this.resolve(e)}})}lessThan(e,n=Kp.lessThan){return this.test({message:n,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(r){return r<this.resolve(e)}})}moreThan(e,n=Kp.moreThan){return this.test({message:n,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(r){return r>this.resolve(e)}})}positive(e=Kp.positive){return this.moreThan(0,e)}negative(e=Kp.negative){return this.lessThan(0,e)}integer(e=Kp.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:n=>Number.isInteger(n)})}truncate(){return this.transform(e=>Ed(e)?e:e|0)}round(e){var n;let r=["ceil","floor","round","trunc"];if(e=((n=e)==null?void 0:n.toLowerCase())||"round",e==="trunc")return this.truncate();if(r.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+r.join(", "));return this.transform(s=>Ed(s)?s:Math[e](s))}}RL.prototype=qZ.prototype;let wUt=new Date(""),AUt=i=>Object.prototype.toString.call(i)==="[object Date]";class tz extends Bc{constructor(){super({type:"date",check(e){return AUt(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,n,r)=>!r.spec.coerce||r.isType(e)||e===null?e:(e=pUt(e),isNaN(e)?tz.INVALID_DATE:new Date(e)))})}prepareParam(e,n){let r;if(m0.isRef(e))r=e;else{let s=this.cast(e);if(!this._typeCheck(s))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=s}return r}min(e,n=AL.min){let r=this.prepareParam(e,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(s){return s>=this.resolve(r)}})}max(e,n=AL.max){let r=this.prepareParam(e,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(s){return s<=this.resolve(r)}})}}tz.INVALID_DATE=wUt;function MUt(i,e=[]){let n=[],r=new Set,s=new Set(e.map(([o,l])=>`${o}-${l}`));function a(o,l){let u=Uy.split(o)[0];r.add(u),s.has(`${l}-${u}`)||n.push([l,u])}for(const o of Object.keys(i)){let l=i[o];r.add(o),m0.isRef(l)&&l.isSibling?a(l.path,o):Jk(l)&&"deps"in l&&l.deps.forEach(u=>a(u,o))}return eUt.array(Array.from(r),n).reverse()}function wH(i,e){let n=1/0;return i.some((r,s)=>{var a;if((a=e.path)!=null&&a.includes(r))return n=s,!0}),n}function WZ(i){return(e,n)=>wH(i,e)-wH(i,n)}const CUt=(i,e,n)=>{if(typeof i!="string")return i;let r=i;try{r=JSON.parse(i)}catch{}return n.isType(r)?r:i};function BM(i){if("fields"in i){const e={};for(const[n,r]of Object.entries(i.fields))e[n]=BM(r);return i.setFields(e)}if(i.type==="array"){const e=i.optional();return e.innerType&&(e.innerType=BM(e.innerType)),e}return i.type==="tuple"?i.optional().clone({types:i.spec.types.map(BM)}):"optional"in i?i.optional():i}const RUt=(i,e)=>{const n=[...Uy.normalizePath(e)];if(n.length===1)return n[0]in i;let r=n.pop(),s=Uy.getter(Uy.join(n),!0)(i);return!!(s&&r in s)};let AH=i=>Object.prototype.toString.call(i)==="[object Object]";function MH(i,e){let n=Object.keys(i.fields);return Object.keys(e).filter(r=>n.indexOf(r)===-1)}const OUt=WZ([]);function XZ(i){return new YZ(i)}class YZ extends Bc{constructor(e){super({type:"object",check(n){return AH(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=OUt,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,n={}){var r;let s=super._cast(e,n);if(s===void 0)return this.getDefault(n);if(!this._typeCheck(s))return s;let a=this.fields,o=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,l=[].concat(this._nodes,Object.keys(s).filter(p=>!this._nodes.includes(p))),u={},c=Object.assign({},n,{parent:u,__validating:n.__validating||!1}),h=!1;for(const p of l){let g=a[p],v=p in s;if(g){let b,S=s[p];c.path=(n.path?`${n.path}.`:"")+p,g=g.resolve({value:S,context:n.context,parent:u});let E=g instanceof Bc?g.spec:void 0,x=E==null?void 0:E.strict;if(E!=null&&E.strip){h=h||p in s;continue}b=!n.__validating||!x?g.cast(s[p],c):s[p],b!==void 0&&(u[p]=b)}else v&&!o&&(u[p]=s[p]);(v!==p in u||u[p]!==s[p])&&(h=!0)}return h?u:s}_validate(e,n={},r,s){let{from:a=[],originalValue:o=e,recursive:l=this.spec.recursive}=n;n.from=[{schema:this,value:o},...a],n.__validating=!0,n.originalValue=o,super._validate(e,n,r,(u,c)=>{if(!l||!AH(c)){s(u,c);return}o=o||c;let h=[];for(let p of this._nodes){let g=this.fields[p];!g||m0.isRef(g)||h.push(g.asNestedTest({options:n,key:p,parent:c,parentPath:n.path,originalParent:o}))}this.runTests({tests:h,value:c,originalValue:o,options:n},r,p=>{s(p.sort(this._sortErrors).concat(u),c)})})}clone(e){const n=super.clone(e);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(e){let n=super.concat(e),r=n.fields;for(let[s,a]of Object.entries(this.fields)){const o=r[s];r[s]=o===void 0?a:o}return n.withMutation(s=>s.setFields(r,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let n={};return this._nodes.forEach(r=>{var s;const a=this.fields[r];let o=e;(s=o)!=null&&s.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[r]})),n[r]=a&&"getDefault"in a?a.getDefault(o):void 0}),n}setFields(e,n){let r=this.clone();return r.fields=e,r._nodes=MUt(e,n),r._sortErrors=WZ(Object.keys(e)),n&&(r._excludedEdges=n),r}shape(e,n=[]){return this.clone().withMutation(r=>{let s=r._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),s=[...r._excludedEdges,...n]),r.setFields(Object.assign(r.fields,e),s)})}partial(){const e={};for(const[n,r]of Object.entries(this.fields))e[n]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(e)}deepPartial(){return BM(this)}pick(e){const n={};for(const r of e)this.fields[r]&&(n[r]=this.fields[r]);return this.setFields(n,this._excludedEdges.filter(([r,s])=>e.includes(r)&&e.includes(s)))}omit(e){const n=[];for(const r of Object.keys(this.fields))e.includes(r)||n.push(r);return this.pick(n)}from(e,n,r){let s=Uy.getter(e,!0);return this.transform(a=>{if(!a)return a;let o=a;return RUt(a,e)&&(o=Object.assign({},a),r||delete o[e],o[n]=s(a)),o})}json(){return this.transform(CUt)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||zM.exact,test(n){if(n==null)return!0;const r=MH(this.schema,n);return r.length===0||this.createError({params:{properties:r.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,n=zM.noUnknown){typeof e!="boolean"&&(n=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(s){if(s==null)return!0;const a=MH(this.schema,s);return!e||a.length===0||this.createError({params:{unknown:a.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(e=!0,n=zM.noUnknown){return this.noUnknown(!e,n)}transformKeys(e){return this.transform(n=>{if(!n)return n;const r={};for(const s of Object.keys(n))r[e(s)]=n[s];return r})}camelCase(){return this.transformKeys(ZD.camelCase)}snakeCase(){return this.transformKeys(ZD.snakeCase)}constantCase(){return this.transformKeys(e=>ZD.snakeCase(e).toUpperCase())}describe(e){const n=(e?this.resolve(e):this).clone(),r=super.describe(e);r.fields={};for(const[a,o]of Object.entries(n.fields)){var s;let l=e;(s=l)!=null&&s.value&&(l=Object.assign({},l,{parent:l.value,value:l.value[a]})),r.fields[a]=o.describe(l)}return r}}XZ.prototype=YZ.prototype;const OL=Ro,PUt={color:OL.palette.text.primary,zIndex:20,width:"100%",height:"100%",position:"absolute",backgroundColor:OL.palette.formStyles.containerBackgroundColor,overflow:"auto",top:0,flexDirection:"column",justifyContent:"space-between",display:"flex"},IUt={padding:"2rem 0 ",backgroundColor:OL.palette.formStyles.containerBackgroundColor},DUt=XZ({index:RL().required(),name:CL().min(3,"El nombre debe tener al menos 3 caracteres").required("El nombre es obligatorio"),group:CL().required("El tipo de nodo es obligatorio"),nodeSourceIndex:RL().required("El nodo origen es obligatorio")}),NUt=()=>{const[i,e]=Q.useState({index:0,name:"",group:"",nodeSourceIndex:1,videoid:"",start:"",end:""}),[n,r]=Q.useState({id:0,index:0,name:"",group:""}),{control:s,trigger:a,watch:o,reset:l,setValue:u,handleSubmit:c,formState:{errors:h}}=WLt({resolver:KLt(DUt),mode:"onChange",defaultValues:{index:0,name:"",group:"",nodeSourceIndex:1,videoid:"",start:"",end:""}}),p=fn(E=>E.activeStep),[g,v]=Q.useState([]);Q.useEffect(()=>{(async()=>{try{const x=await EO(Wf.nodes);v(x||[])}catch(x){console.error("Error al obtener nodos desde Firestore:",x),v([])}})()},[]);const b=async E=>{fn.setState({isUploadFirestore:!0});const x=await A3t(Wf.nodes)+1,A=new Date,C=new Date(A),M=E.nodeSourceIndex,P=g.find(k=>k.index===M);E.index=x,E.uploadedDate=C.toLocaleDateString(),QK({dbNodesName:Wf.nodes,dbLinksName:Wf.links,index:E.index,name:E.name,group:E.group,nodeSource:E.nodeSourceIndex,videoid:E.videoid??"",start:E.start??"",end:E.end??"",uploadedDate:E.uploadedDate}),e({...E}),r({...P}),l()},S=async()=>{const E=[!1,!1,!0],x=await a(["name","group"]),A=o("nodeSourceIndex");return x&&(E[0]=!0),A!==1&&(E[1]=!0),E};return W.jsxs(di,{sx:PUt,children:[W.jsx(di,{sx:IUt,children:W.jsx(kK,{})}),W.jsx(H_,{sx:{width:"90%",mx:"auto"}}),p===0&&W.jsx(e4t,{control:s,errors:h}),p===1&&W.jsx(n4t,{control:s,errors:h,isNot1Step2:o("nodeSourceIndex")}),p===2&&W.jsx(c4t,{setValue:u}),p===3&&W.jsx(f4t,{newNodeData:i,selectedSourceNodeData:n}),W.jsx(qUt,{onValidate:S,onHandleSubmit:c(b)})]})},CH=Ro,LUt=()=>{fn.setState({isAddNodeActive:!1}),fn.setState({activeStep:0})},IO=({title:i})=>{const e=fn(r=>r.activeStep),n=fn(r=>r.isUploadFirestore);return W.jsxs(di,{sx:{display:"flex",flexDirection:"column"},children:[W.jsx(dO,{buttonFunction:LUt,disabled:n}),W.jsx("h2",{style:{color:e==2?CH.palette.action.success:CH.palette.text.secondary,textAlign:"center"},children:i})]})},od=Ro,UUt=({color:i})=>W.jsx("div",{style:{marginRight:"8px"},children:W.jsxs("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"18pt",height:"18pt",viewBox:"0 0 186.000000 186.000000",preserveAspectRatio:"xMidYMid meet",children:['"',W.jsxs("g",{transform:"translate(0.000000,186.000000) scale(0.100000,-0.100000)",fill:i,stroke:"none",children:[W.jsx("path",{d:`M715 1714 c-100 -24 -228 -84 -315 -149 -105 -78 -222 -227 -273\r
        -350 -74 -177 -76 -448 -5 -615 28 -64 55 -90 95 -90 29 0 36 5 48 34 13 30\r
        13 48 -1 138 -52 346 120 655 462 826 78 39 114 81 114 131 0 24 -7 44 -19 55\r
        -20 18 -72 28 -106 20z`}),W.jsx("path",{d:`M1034 1696 c-21 -17 -28 -33 -28 -60 0 -47 36 -84 128 -132 243 -125\r
        399 -330 442 -579 16 -87 15 -136 -2 -302 -8 -76 10 -113 55 -113 40 0 74 37\r
        101 106 92 244 48 565 -105 770 -123 163 -304 289 -463 323 -76 16 -98 14\r
        -128 -13z`}),W.jsx("path",{d:`M850 1359 c-266 -30 -470 -256 -470 -522 0 -164 80 -326 197 -398 69\r
        -43 164 -15 198 57 27 57 15 97 -49 164 -63 65 -81 116 -73 198 11 102 86 187\r
        196 219 61 17 144 12 192 -12 89 -46 149 -140 149 -233 0 -69 -20 -115 -79\r
        -177 -57 -61 -66 -81 -52 -132 13 -46 18 -52 55 -81 42 -32 102 -30 152 6 124\r
        90 194 231 194 392 0 319 -278 556 -610 519z`}),W.jsx("path",{d:`M334 398 c-11 -17 48 -120 100 -172 28 -29 78 -66 111 -82 l60 -29\r
        325 0 325 0 55 27 c69 34 153 116 186 179 20 40 32 89 21 89 -1 0 -34 -7 -72\r
        -15 -96 -20 -934 -21 -1038 -1 -39 7 -70 9 -73 4z`})]})]})}),kUt=({color:i})=>W.jsx("div",{style:{marginRight:"8px"},children:W.jsx("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"18pt",height:"18pt",viewBox:"0 0 200.000000 190.000000",preserveAspectRatio:"xMidYMid meet",children:W.jsxs("g",{transform:"translate(0.000000,190.000000) scale(0.100000,-0.100000)",fill:i,stroke:"none",children:[W.jsx("path",{d:`M895 1830 c-354 -38 -659 -290 -768 -635 -30 -96 -50 -243 -45 -340\r
l3 -70 150 0 150 0 -5 30 c-3 17 -5 71 -4 120 0 163 60 302 179 420 115 114\r
249 172 416 182 253 15 481 -115 596 -340 49 -96 65 -177 61 -306 l-3 -111\r
148 0 147 0 0 119 c0 201 -37 342 -129 494 -151 249 -387 401 -681 437 -92 11\r
-110 11 -215 0z`}),W.jsx("path",{d:`M878 972 c-57 -38 -361 -347 -356 -362 2 -5 113 -120 248 -255 l244\r
-245 243 242 c134 134 243 247 243 251 0 24 -376 395 -387 383 -2 -2 7 -21 22\r
-41 21 -33 25 -49 25 -116 0 -103 -27 -175 -89 -240 -26 -27 -53 -49 -59 -49\r
-23 0 -92 73 -117 124 -52 106 -51 243 2 298 30 32 21 37 -19 10z`}),W.jsx("path",{d:`M90 266 c0 -91 1 -166 3 -166 1 0 174 -3 384 -7 338 -5 383 -4 383 9\r
0 9 -67 85 -149 169 l-148 154 -237 4 -236 3 0 -166z`}),W.jsx("path",{d:`M1325 265 c-82 -84 -151 -158 -153 -164 -2 -7 113 -10 370 -8 l373 2\r
3 163 2 162 -222 0 -223 -1 -150 -154z`})]})})}),zUt=({color:i})=>W.jsx("div",{style:{marginRight:"8px"},children:W.jsx("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"18pt",height:"18pt",viewBox:"0 0 231.000000 186.000000",preserveAspectRatio:"xMidYMid meet",children:W.jsxs("g",{transform:"translate(0.000000,186.000000) scale(0.100000,-0.100000)",fill:i,stroke:"none",children:[W.jsx("path",{d:`M245 1721 c-11 -5 -33 -23 -50 -41 l-30 -31 -3 -705 c-2 -624 -1\r
-708 13 -735 37 -70 137 -91 196 -42 61 51 59 29 59 760 0 409 -4 682 -10 704\r
-15 52 -59 91 -112 95 -24 2 -52 0 -63 -5z`}),W.jsx("path",{d:`M1959 1707 c-67 -45 -64 -10 -64 -772 0 -645 1 -692 18 -723 50 -92\r
181 -96 232 -8 18 29 19 69 16 735 -2 698 -2 705 -23 734 -41 57 -122 73 -179\r
34z`}),W.jsx("path",{d:`M625 1514 c-64 -33 -114 -105 -115 -164 0 -71 49 -154 111 -186 15\r
-7 55 -14 88 -14 52 0 65 4 103 33 51 38 88 106 88 160 0 67 -53 147 -116 173\r
-44 19 -122 18 -159 -2z`}),W.jsx("path",{d:`M1040 1222 l0 -297 29 -60 c34 -71 76 -113 151 -152 55 -28 56 -28\r
277 -31 247 -4 266 0 303 61 37 61 17 143 -46 184 -24 15 -52 18 -214 18 -143\r
0 -191 3 -203 14 -25 20 -37 76 -37 169 l0 82 203 0 c227 0 252 6 294 69 42\r
62 19 147 -48 183 -30 16 -62 18 -329 18 -270 0 -299 2 -337 20 l-43 19 0\r
-297z`}),W.jsx("path",{d:`M551 914 c-66 -56 -63 -162 7 -209 l37 -25 280 0 c249 1 278 2 260\r
15 -54 40 -100 97 -133 167 l-37 77 -192 0 -191 1 -31 -26z`})]})})}),BUt=({color:i})=>W.jsx("div",{style:{marginRight:"8px"},children:W.jsx("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"18pt",height:"18pt",viewBox:"0 0 229.000000 167.000000",preserveAspectRatio:"xMidYMid meet",children:W.jsxs("g",{transform:"translate(0.000000,167.000000) scale(0.100000,-0.100000)",fill:i,stroke:"none",children:[W.jsx("path",{d:`M135 1516 c-17 -7 -43 -28 -58 -45 -33 -40 -36 -101 -7 -148 39 -64\r
31 -63 544 -63 l465 0 28 -24 28 -24 5 -252 5 -252 37 -34 c31 -28 45 -34 83\r
-34 55 0 95 19 121 57 17 25 19 52 22 258 2 147 -1 252 -8 290 -23 117 -90\r
202 -199 254 l-56 26 -490 2 c-395 2 -496 0 -520 -11z`}),W.jsx("path",{d:`M651 1133 c-74 -39 -90 -89 -80 -258 10 -182 65 -308 194 -440 76\r
-78 175 -142 269 -175 103 -35 178 -42 381 -34 l190 7 38 37 c33 34 37 43 37\r
90 0 47 -4 56 -39 91 l-39 39 -173 0 c-201 0 -272 9 -346 46 -81 39 -167 124\r
-205 201 -29 60 -32 76 -38 192 -4 97 -9 133 -23 154 -38 59 -109 80 -166 50z`}),W.jsx("path",{d:`M1875 515 c-72 -39 -108 -94 -108 -170 -1 -143 148 -238 272 -173\r
103 53 139 159 87 255 -37 67 -83 96 -160 101 -43 2 -70 -2 -91 -13z`})]})})}),FUt=({color:i})=>W.jsx("div",{style:{marginRight:"8px"},children:W.jsx("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"18pt",height:"18pt",viewBox:"0 0 159.000000 213.000000",preserveAspectRatio:"xMidYMid meet",children:W.jsxs("g",{transform:"translate(0.000000,213.000000) scale(0.100000,-0.100000)",fill:i,stroke:"none",children:[W.jsx("path",{d:`M787 1922 c-3 -4 -3 -69 0 -144 l6 -136 55 -68 c179 -223 305 -472\r
358 -709 24 -107 30 -372 10 -464 -17 -82 -60 -182 -102 -236 -35 -46 -16 -46\r
62 0 124 73 236 241 270 405 22 101 21 291 0 403 -37 191 -133 392 -275 572\r
-102 131 -373 396 -384 377z`}),W.jsx("path",{d:`M400 1920 c0 -3 -2 -309 -3 -680 -3 -732 -2 -711 -60 -826 -36 -72\r
-97 -145 -169 -205 -35 -28 -64 -56 -66 -60 -2 -5 187 -9 421 -9 l424 0 46 49\r
c107 115 150 274 127 481 -42 391 -238 765 -587 1120 -73 74 -133 133 -133\r
130z`})]})})}),QD=({color:i})=>W.jsx("div",{style:{marginRight:"8px"},children:W.jsx("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"18pt",height:"18pt",viewBox:"0 0 229.000000 197.000000",preserveAspectRatio:"xMidYMid meet",children:W.jsxs("g",{transform:"translate(0.000000,197.000000) scale(0.100000,-0.100000)",fill:i,stroke:"none",children:[W.jsx("path",{d:`M980 1837 c-193 -58 -349 -187 -434 -357 -154 -312 -64 -681 214\r
-873 51 -36 194 -97 226 -97 20 0 22 6 26 93 3 50 3 100 0 110 -3 10 -31 30\r
-66 46 -85 39 -140 90 -176 164 -96 197 -47 451 112 578 100 79 214 112 343\r
100 51 -5 67 -3 110 19 71 36 184 40 267 10 33 -12 63 -19 66 -15 4 4 -25 37\r
-63 73 -79 75 -185 133 -287 157 -95 22 -247 19 -338 -8z`}),W.jsx("path",{d:`M1398 1540 c-77 -41 -119 -133 -97 -213 46 -175 285 -199 367 -37 24\r
49 27 77 12 132 -32 113 -176 173 -282 118z`}),W.jsx("path",{d:`M1945 1411 c-51 -23 -101 -79 -116 -132 -25 -81 24 -180 112 -227 90\r
-48 207 -8 257 88 34 66 28 154 -14 207 -60 76 -157 102 -239 64z`}),W.jsx("path",{d:`M1695 1219 c-22 -22 -79 -70 -126 -105 -47 -36 -93 -78 -102 -94 -33\r
-55 -18 -128 37 -179 20 -19 40 -26 84 -29 55 -4 59 -2 117 41 33 25 82 68\r
109 96 l49 50 -31 36 c-46 52 -73 110 -79 171 -3 30 -9 54 -12 54 -4 0 -25\r
-18 -46 -41z`}),W.jsx("path",{d:`M830 1092 c-25 -26 -30 -38 -30 -79 0 -87 59 -150 200 -212 l85 -38\r
5 -274 c4 -192 9 -281 17 -296 24 -41 63 -63 112 -63 58 0 89 16 118 59 23 34\r
23 36 23 397 l0 362 -102 40 c-186 73 -329 123 -363 129 -29 5 -39 0 -65 -25z`}),W.jsx("path",{d:`M235 590 c-125 -29 -195 -149 -150 -258 42 -100 160 -150 258 -109\r
45 19 105 89 113 132 26 139 -92 265 -221 235z`})]})})}),VUt=({color:i})=>W.jsx("div",{style:{marginRight:"8px"},children:W.jsx("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"18pt",height:"18pt",viewBox:"0 0 208.000000 183.000000",preserveAspectRatio:"xMidYMid meet",children:W.jsxs("g",{transform:"translate(0.000000,183.000000) scale(0.100000,-0.100000)",fill:i,stroke:"none",children:[W.jsx("path",{d:`M835 1693 c-275 -38 -538 -249 -645 -516 -54 -134 -64 -190 -64 -337\r
0 -109 4 -151 22 -218 22 -80 68 -184 111 -246 40 -59 143 -154 199 -184 67\r
-36 191 -72 242 -71 34 0 34 1 10 11 -178 76 -274 182 -337 373 -24 72 -27 95\r
-27 225 0 133 2 152 28 225 71 208 220 366 414 443 59 23 82 26 187 27 112 0\r
124 -2 178 -29 69 -33 104 -77 143 -177 37 -93 87 -148 178 -195 57 -30 81\r
-49 107 -87 67 -98 130 -133 225 -125 95 8 175 81 196 179 18 92 -17 175 -100\r
233 -38 27 -53 31 -142 36 -93 6 -102 8 -130 35 -17 16 -43 52 -59 80 -84 147\r
-244 262 -424 305 -78 19 -225 25 -312 13z`}),W.jsx("path",{d:`M959 1236 c-177 -74 -319 -231 -364 -403 -31 -119 -14 -283 41 -383\r
87 -160 224 -254 389 -266 l60 -4 -41 13 c-131 44 -262 202 -295 357 -46 215\r
88 434 300 491 48 13 74 26 94 49 43 49 32 115 -25 150 -43 26 -90 25 -159 -4z`})]})})}),PL=[{value:"guard",label:"Guardia",icon:W.jsx(UUt,{color:od.palette.text.secondary})},{value:"pass",label:"Pase",icon:W.jsx(zUt,{color:od.palette.text.secondary})},{value:"submission",label:"Sumisin",icon:W.jsx(BUt,{color:od.palette.text.secondary})},{value:"switch",label:"Raspado",icon:W.jsx(FUt,{color:od.palette.text.secondary})},{value:"transition",label:"Transicin",icon:W.jsx(VUt,{color:od.palette.text.secondary})},{value:"control",label:"Control",icon:W.jsx(kUt,{color:od.palette.text.secondary})},{value:"tachi_waza",label:"Tachi Waza",icon:W.jsx(QD,{color:od.palette.text.secondary})},{value:"defence",label:"Defensa",icon:W.jsx(QD,{color:od.palette.text.secondary})},{value:"genesis",label:"Genesis",icon:W.jsx(QD,{color:od.palette.text.secondary})}],uy=Ro,HUt={backgroundColor:"white",color:uy.palette.text.secondary,"&.Mui-selected":{backgroundColor:uy.palette.action.success,color:uy.palette.text.primary,borderColor:uy.palette.formStyles.borderColor},"&.Mui-selected:hover":{backgroundColor:$y(uy.palette.action.success,.2)}},jUt={display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:1.5,"& .MuiToggleButtonGroup-grouped":{margin:0,border:`2px solid ${uy.palette.formStyles.borderColor}`,borderRadius:"8px !important"}},GUt=({value:i,onChange:e})=>{const n=(r,s)=>{s!==null&&e(s)};return W.jsx(Y$,{value:i,exclusive:!0,onChange:n,"aria-label":"selectable options",sx:jUt,children:PL.map(r=>W.jsxs(X$,{value:r.value,"aria-label":r.label,sx:HUt,children:[r.icon&&gn.cloneElement(r.icon,{color:i===r.value?"#fff":uy.palette.text.secondary}),r.label]},r.value))})},JD=Ro,$Ut={paddingLeft:"1rem",paddingRight:"1rem",paddingBottom:"1rem",backgroundColor:JD.palette.formStyles.cardBackgroundColor,borderTop:`2px solid ${JD.palette.formStyles.borderColor}`,marginTop:"1rem",borderTopLeftRadius:"20px",borderTopRightRadius:"20px",boxShadow:JD.palette.formStyles.cardBoxShadow},ld="components.addNode.stepper.",qUt=({onValidate:i,onHandleSubmit:e})=>{const{t:n}=qu(),r=[n(ld+"step1"),n(ld+"step2"),n(ld+"step3")],s=fn(v=>v.isUploadFirestore),a=fn(v=>v.activeStep),o=fn(v=>v.nextStep),l=fn(v=>v.prevStep),u=v=>v===1,c=async()=>{const v=i?await i():!0;(Array.isArray(v)?v[a]:v)&&G9(e,o,a,r)},h=()=>{l()},p=()=>{fn.getState().setActiveStep(0)},g=()=>{G9(e,o,a,r)};return W.jsxs(di,{sx:$Ut,children:[a===r.length?W.jsx(Q.Fragment,{children:W.jsxs(di,{sx:{display:"flex",flexDirection:"row",pt:2},children:[W.jsx(di,{sx:{flex:"1 1 auto"}}),W.jsx(vd,{disabled:s,onClick:p,children:n(ld+"button1")})]})}):W.jsx(Q.Fragment,{children:W.jsxs(di,{sx:{display:"flex",flexDirection:"row",pt:2},children:[W.jsx(vd,{color:"inherit",disabled:a===0,onClick:h,sx:{mr:1,color:Ro.palette.action.success},children:n(ld+"button2")}),W.jsx(di,{sx:{flex:"1 1 auto"}}),u(a)&&W.jsx(vd,{color:"inherit",onClick:g,sx:{mr:1,color:Ro.palette.action.success},children:n(ld+"button3")}),W.jsx(vd,{onClick:c,children:a===r.length-1?n(ld+"finish"):n(ld+"next")})]})}),W.jsx(U0t,{activeStep:a,children:r.map((v,b)=>{const S={},E={};return u(b)&&(E.optional=W.jsx(Li,{variant:"caption",children:n(ld+"optional")})),W.jsx(p0t,{...S,children:W.jsx(G$,{...E,children:v})},v)})})]})},sm=Ro,WUt={width:"100%",display:"flex",'& [role="tabpanel"]':{maxHeight:"60vh",overflow:"auto"}},XUt={borderRight:1,borderColor:sm.palette.formStyles.borderColor,minWidth:"120px"},YUt={fontWeight:"800",borderBottom:`1px solid ${sm.palette.formStyles.borderColor}`},KUt={backgroundColor:"#fff",color:sm.palette.text.secondary,width:"100%",marginBottom:"5px",border:`1px solid ${sm.palette.formStyles.borderColor}`,"&.Mui-selected":{backgroundColor:sm.palette.action.success,color:sm.palette.text.primary,borderColor:sm.palette.formStyles.borderColor},"&.Mui-selected:hover":{backgroundColor:"primary.dark"}},ZUt=(i,e)=>({color:i==e?"#fff":sm.palette.text.secondary}),RH="components.addNode.tabGround.";function QUt(i){const{children:e,value:n,index:r,...s}=i;return W.jsx("div",{role:"tabpanel",hidden:n!==r,id:`simple-tabpanel-${r}`,"aria-labelledby":`simple-tab-${r}`,...s,children:n===r&&W.jsx(di,{sx:{p:3},children:e})})}function JUt(i){return{id:`simple-tab-${i}`,"aria-controls":`simple-tabpanel-${i}`}}function t4t({onSelectionChange:i}){const[e,n]=Q.useState(0),[r,s]=Q.useState([]),[a,o]=Q.useState(!1),[l,u]=Q.useState(null),c=v=>{u(v),i(v)};Q.useEffect(()=>{(async()=>{o(!0);try{const b=await EO(Wf.nodes);s(b||[])}catch(b){console.error("Error al cargar datos:",b),s([])}finally{o(!1)}})()},[]);const h=Q.useMemo(()=>v=>{try{return r.filter(({group:S})=>S===v).map(({id:S,name:E,group:x})=>({id:S,name:E,group:x}))}catch{return[]}},[r]),p=(v,b)=>{console.log("evento",v),n(b)},{t:g}=qu();return W.jsxs(di,{sx:WUt,children:[W.jsx(svt,{value:e,onChange:p,"aria-label":"tabs",orientation:"vertical",sx:XUt,children:PL.map((v,b)=>W.jsx(F0t,{label:v.label,...JUt(b),sx:YUt},v.value))}),PL.map((v,b)=>W.jsx(QUt,{value:e,index:b,children:a?W.jsx(Li,{children:g(RH+"loadingData")}):W.jsx(W.Fragment,{children:h(v.value).length>0?W.jsx(Y$,{value:l,exclusive:!0,onChange:(S,E)=>c(E),orientation:"vertical",fullWidth:!0,children:h(v.value).map(S=>W.jsxs(X$,{value:S.id??"","aria-label":S.name,sx:KUt,children:[v.icon&&gn.cloneElement(v.icon,{sx:ZUt(S.id??"",l)}),S.name]},S.id))}):W.jsx(Li,{children:g(RH+"notData")})})},v.value))]})}const OH="components.addNode.step1.",e4t=({control:i,errors:e})=>{const{t:n}=qu();return W.jsxs(di,{sx:Hk,children:[W.jsx(IO,{title:"Crea una nueva conexcin"}),W.jsx(wL,{name:"name",control:i,rules:{required:n(OH+"formLabel")},render:({field:r})=>{var s;return W.jsx($$,{...r,label:n(OH+"title"),error:!!e.name,helperText:typeof((s=e.name)==null?void 0:s.message)=="string"?e.name.message:void 0})}}),W.jsx(wL,{name:"group",control:i,render:({field:r})=>{var s;return W.jsxs(jR,{sx:tDt,children:[W.jsx(r4,{style:eDt,children:"Tipo de nodo"}),W.jsx(Xyt,{...r,children:W.jsx(GUt,{value:r.value,onChange:r.onChange})}),e.group&&W.jsx(Li,{color:"error",variant:"caption",children:typeof((s=e.group)==null?void 0:s.message)=="string"?e.group.message:""})]})}})]})},PH="components.addNode.step2.",n4t=({control:i,errors:e,isNot1Step2:n})=>{const{t:r}=qu();return W.jsxs(di,{sx:Hk,children:[W.jsx(IO,{title:"Agregar nuevo nodo"}),W.jsx(r4,{children:r(PH+"title")}),W.jsx(wL,{name:"nodeSourceIndex",control:i,render:({field:s})=>{var a;return W.jsxs(jR,{error:!!e.nodeSource,children:[W.jsxs(di,{sx:nDt(n==1),children:[W.jsx(Li,{children:r(PH+"subText1")}),W.jsx(t4t,{onSelectionChange:o=>{s.onChange(o)}})]}),e.nodeSource&&W.jsx(Li,{color:"error",variant:"caption",children:typeof((a=e.nodeSource)==null?void 0:a.message)=="string"?e.nodeSource.message:""})]})}})]})},i4t=Ro,r4t={display:"flex",flexDirection:"column",gap:2,maxHeight:"80vh",overflow:"auto"},s4t={display:"flex",gap:1},a4t={display:"grid",gridTemplateColumns:"repeat(1, 1fr)","@media (min-width: 600px)":{gridTemplateColumns:"repeat(2, 1fr)"},gap:2,"& .MuiPaper-root":{width:"90%",margin:"0 auto"},"& .MuiCardContent-root":{padding:"0em 0.5em 1em 0.5em",display:"flex"},"& .MuiCardContent-root .MuiTypography-subtitle2":{fontSize:"0.8em",fontFamily:"Poppins"},"& .MuiCardContent-root .MuiTypography-body2":{fontSize:"0.6em",fontFamily:"Poppins"},"& .MuiCardContent-root .MuiCardMedia-root":{width:"2em",height:"2em",borderRadius:"50%",marginRight:"0.5em",marginTop:"auto",marginBottom:"auto"}},o4t={display:"flex",flexDirection:"column",cursor:"pointer"},l4t={textAlign:"right",position:"relative",color:i4t.palette.text.primary,bottom:" 2rem",right:"0.7rem",fontFamily:"Poppins"},u4t={display:"flex",flexDirection:"column-reverse"},XA="components.addNode.step3.",c4t=({setValue:i})=>{const{t:e}=qu(),[n,r]=Q.useState(""),[s,a]=Q.useState([]),o=fn(u=>u.isNodeViewActive),l=u=>{i("videoid",u.videoid),fn.setState({isNodeViewActive:!0}),fn.setState({nodeViewData:u})};return W.jsxs(di,{sx:r4t,children:[o&&W.jsx(ZZ,{isAddNode:!0,setValue:i}),W.jsx(IO,{title:e(XA+"title")}),W.jsxs(di,{sx:s4t,children:[W.jsx($$,{fullWidth:!0,label:e(XA+"subText1"),value:n,onChange:u=>r(u.target.value)}),W.jsx(vd,{variant:"contained",onClick:()=>ELt(n,a),children:e(XA+"subText1")})]}),s.length>0&&W.jsx(di,{sx:a4t,children:s.map(u=>W.jsxs(n4,{onClick:()=>{l({videoid:u.videoId,start:"0",end:u.secondsTotal})},sx:o4t,children:[W.jsxs(di,{sx:u4t,children:[W.jsx(Li,{sx:l4t,children:u.duration}),W.jsx(pmt,{component:"img",image:u.videoThumbnailUrl,alt:u.videoTitle})]}),W.jsx(lmt,{children:W.jsxs(di,{children:[W.jsx(Li,{variant:"subtitle2",children:u.videoTitle}),W.jsxs(Li,{variant:"body2",color:"text.secondary",children:[u.channelTitle," - ",u.viewCount," ",e(XA+"subText2")," ",u.publishedAt]})]})})]},u.videoId))})]})},Zv="components.addNode.stepFinal.",f4t=({newNodeData:i,selectedSourceNodeData:e})=>{const{t:n}=qu(),r=!fn(a=>a.isUploadFirestore),s={nodes:[{id:i.index,name:i.name},{id:i.nodeSourceIndex,name:e.name}],links:[{source:i.nodeSourceIndex,target:i.index}]};return W.jsxs(di,{sx:Hk,children:[W.jsx(IO,{title:"paso final"}),W.jsxs(di,{sx:iDt(r),children:[W.jsx(ny,{sx:{width:"60%"}}),W.jsx(ny,{sx:{width:"25%"}}),W.jsx(ny,{sx:{width:"32%"}}),W.jsx(ny,{sx:{width:"20%"}}),W.jsx(ny,{sx:{width:"50%"}}),W.jsx(ny,{sx:{width:"54%"}})]}),W.jsx(di,{sx:rDt(r),children:W.jsxs("div",{children:[W.jsxs("h3",{children:[n(Zv+"text1"),":"]}),W.jsxs("p",{children:[W.jsxs("strong",{children:[n(Zv+"text2"),":"]})," ",i.index]}),W.jsxs("p",{children:[W.jsxs("strong",{children:[n(Zv+"text3"),":"]})," ",i.name]}),W.jsxs("p",{children:[W.jsxs("strong",{children:[n(Zv+"text4"),":"]})," ",i.group]}),W.jsxs("p",{children:[W.jsxs("strong",{children:[n(Zv+"text5"),":"]})," "," {"+i.nodeSourceIndex+"}"]}),W.jsxs("p",{children:[W.jsxs("strong",{children:[n(Zv+"text6"),":"]})," ",i.uploadedDate??"Sin fecha an"]})]})}),W.jsx(oDt,{graphStepFinalData:s,isUploadFirestore:r})]})},KZ=Ro.palette,DO=KZ.formStyles,NO=KZ.text,h4t={position:"absolute",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",zIndex:10,width:"100%",height:"100%",backgroundColor:DO.containerBackgroundColor,top:"0"},d4t={backgroundColor:DO.cardBackgroundColor,width:"80%",maxWidth:"400px",borderRadius:"1rem",padding:"2rem",marginTop:"4rem"},p4t={color:NO.secondary,fontSize:"1.5rem",fontWeight:700,marginBottom:"2rem",textAlign:"center"};DO.buttonForm,NO.primary;NO.secondary;const m4t={display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",width:"100%",padding:"0.5rem",border:`1px solid ${DO.borderColor}`,borderRadius:"0.5rem",backgroundColor:"#fff",cursor:"pointer","& img":{width:"20px",height:"20px"}},g4t={color:NO.secondary,fontWeight:"500",fontSize:"0.9rem"},IH="components.loginUser.";function y4t(){const{t:i}=qu(),e=QTt,n=rk,r=()=>{fn.setState({isLoginWindowActive:!1})},s=async()=>{try{await Lxt(n,e)}catch(a){console.error("Error al iniciar sesin con Google:",a)}};return W.jsxs(di,{sx:h4t,children:[W.jsx(dO,{buttonFunction:r,disabled:!1}),W.jsx(kK,{}),W.jsxs(n4,{elevation:10,sx:d4t,children:[W.jsx(Li,{sx:p4t,children:i(IH+"title")}),W.jsxs(di,{children:[W.jsx(H_,{sx:{width:"100%",my:"1em",mx:"auto"},orientation:"horizontal",variant:"middle"}),W.jsxs(vd,{onClick:s,sx:m4t,children:[W.jsx("img",{src:"./google-logo.png",alt:"Google"}),W.jsx(Li,{sx:g4t,children:i(IH+"loginGoogle")})]})]})]})]})}var t3,DH;function v4t(){return DH||(DH=1,t3=function i(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,s,a;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(s=r;s--!==0;)if(!i(e[s],n[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(a=Object.keys(e),r=a.length,r!==Object.keys(n).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,a[s]))return!1;for(s=r;s--!==0;){var o=a[s];if(!i(e[o],n[o]))return!1}return!0}return e!==e&&n!==n}),t3}var _4t=v4t();const b4t=hh(_4t);var YA={exports:{}},e3,NH;function x4t(){if(NH)return e3;NH=1;var i;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/return i=function(){var e={},n={};return e.on=function(r,s){var a={name:r,handler:s};return n[r]=n[r]||[],n[r].unshift(a),a},e.off=function(r){var s=n[r.name].indexOf(r);s!==-1&&n[r.name].splice(s,1)},e.trigger=function(r,s){var a=n[r],o;if(a)for(o=a.length;o--;)a[o].handler(s)},e},e3=i,e3}var KA={exports:{}},n3,LH;function S4t(){if(LH)return n3;LH=1,n3=function(s,a,o){var l=document.head||document.getElementsByTagName("head")[0],u=document.createElement("script");typeof a=="function"&&(o=a,a={}),a=a||{},o=o||function(){},u.type=a.type||"text/javascript",u.charset=a.charset||"utf8",u.async="async"in a?!!a.async:!0,u.src=s,a.attrs&&i(u,a.attrs),a.text&&(u.text=""+a.text);var c="onload"in u?e:n;c(u,o),u.onload||e(u,o),l.appendChild(u)};function i(r,s){for(var a in s)r.setAttribute(a,s[a])}function e(r,s){r.onload=function(){this.onerror=this.onload=null,s(null,r)},r.onerror=function(){this.onerror=this.onload=null,s(new Error("Failed to load "+this.src),r)}}function n(r,s){r.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,s(null,r))}}return n3}var UH;function E4t(){return UH||(UH=1,function(i,e){Object.defineProperty(e,"__esModule",{value:!0});var n=S4t(),r=s(n);function s(a){return a&&a.__esModule?a:{default:a}}e.default=function(a){var o=new Promise(function(l){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){l(window.YT);return}else{var u=window.location.protocol==="http:"?"http:":"https:";(0,r.default)(u+"//www.youtube.com/iframe_api",function(h){h&&a.trigger("error",h)})}var c=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){c&&c(),l(window.YT)}});return o},i.exports=e.default}(KA,KA.exports)),KA.exports}var ZA={exports:{}},QA={exports:{}},JA={exports:{}},i3,kH;function T4t(){if(kH)return i3;kH=1;var i=1e3,e=i*60,n=e*60,r=n*24,s=r*365.25;i3=function(c,h){h=h||{};var p=typeof c;if(p==="string"&&c.length>0)return a(c);if(p==="number"&&isNaN(c)===!1)return h.long?l(c):o(c);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(c))};function a(c){if(c=String(c),!(c.length>100)){var h=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(c);if(h){var p=parseFloat(h[1]),g=(h[2]||"ms").toLowerCase();switch(g){case"years":case"year":case"yrs":case"yr":case"y":return p*s;case"days":case"day":case"d":return p*r;case"hours":case"hour":case"hrs":case"hr":case"h":return p*n;case"minutes":case"minute":case"mins":case"min":case"m":return p*e;case"seconds":case"second":case"secs":case"sec":case"s":return p*i;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return p;default:return}}}}function o(c){return c>=r?Math.round(c/r)+"d":c>=n?Math.round(c/n)+"h":c>=e?Math.round(c/e)+"m":c>=i?Math.round(c/i)+"s":c+"ms"}function l(c){return u(c,r,"day")||u(c,n,"hour")||u(c,e,"minute")||u(c,i,"second")||c+" ms"}function u(c,h,p){if(!(c<h))return c<h*1.5?Math.floor(c/h)+" "+p:Math.ceil(c/h)+" "+p+"s"}return i3}var zH;function w4t(){return zH||(zH=1,function(i,e){e=i.exports=s.debug=s.default=s,e.coerce=u,e.disable=o,e.enable=a,e.enabled=l,e.humanize=T4t(),e.names=[],e.skips=[],e.formatters={};var n;function r(c){var h=0,p;for(p in c)h=(h<<5)-h+c.charCodeAt(p),h|=0;return e.colors[Math.abs(h)%e.colors.length]}function s(c){function h(){if(h.enabled){var p=h,g=+new Date,v=g-(n||g);p.diff=v,p.prev=n,p.curr=g,n=g;for(var b=new Array(arguments.length),S=0;S<b.length;S++)b[S]=arguments[S];b[0]=e.coerce(b[0]),typeof b[0]!="string"&&b.unshift("%O");var E=0;b[0]=b[0].replace(/%([a-zA-Z%])/g,function(A,C){if(A==="%%")return A;E++;var M=e.formatters[C];if(typeof M=="function"){var P=b[E];A=M.call(p,P),b.splice(E,1),E--}return A}),e.formatArgs.call(p,b);var x=h.log||e.log||console.log.bind(console);x.apply(p,b)}}return h.namespace=c,h.enabled=e.enabled(c),h.useColors=e.useColors(),h.color=r(c),typeof e.init=="function"&&e.init(h),h}function a(c){e.save(c),e.names=[],e.skips=[];for(var h=(typeof c=="string"?c:"").split(/[\s,]+/),p=h.length,g=0;g<p;g++)h[g]&&(c=h[g].replace(/\*/g,".*?"),c[0]==="-"?e.skips.push(new RegExp("^"+c.substr(1)+"$")):e.names.push(new RegExp("^"+c+"$")))}function o(){e.enable("")}function l(c){var h,p;for(h=0,p=e.skips.length;h<p;h++)if(e.skips[h].test(c))return!1;for(h=0,p=e.names.length;h<p;h++)if(e.names[h].test(c))return!0;return!1}function u(c){return c instanceof Error?c.stack||c.message:c}}(JA,JA.exports)),JA.exports}var BH;function A4t(){return BH||(BH=1,function(i,e){var n={};e=i.exports=w4t(),e.log=a,e.formatArgs=s,e.save=o,e.load=l,e.useColors=r,e.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:u(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function r(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}e.formatters.j=function(c){try{return JSON.stringify(c)}catch(h){return"[UnexpectedJSONParseError]: "+h.message}};function s(c){var h=this.useColors;if(c[0]=(h?"%c":"")+this.namespace+(h?" %c":" ")+c[0]+(h?"%c ":" ")+"+"+e.humanize(this.diff),!!h){var p="color: "+this.color;c.splice(1,0,p,"color: inherit");var g=0,v=0;c[0].replace(/%[a-zA-Z%]/g,function(b){b!=="%%"&&(g++,b==="%c"&&(v=g))}),c.splice(v,0,p)}}function a(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function o(c){try{c==null?e.storage.removeItem("debug"):e.storage.debug=c}catch{}}function l(){var c;try{c=e.storage.debug}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=n.DEBUG),c}e.enable(l());function u(){try{return window.localStorage}catch{}}}(QA,QA.exports)),QA.exports}var tM={exports:{}},FH;function M4t(){return FH||(FH=1,function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],i.exports=e.default}(tM,tM.exports)),tM.exports}var eM={exports:{}},VH;function C4t(){return VH||(VH=1,function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],i.exports=e.default}(eM,eM.exports)),eM.exports}var nM={exports:{}},iM={exports:{}},HH;function R4t(){return HH||(HH=1,function(i,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},i.exports=e.default}(iM,iM.exports)),iM.exports}var jH;function O4t(){return jH||(jH=1,function(i,e){Object.defineProperty(e,"__esModule",{value:!0});var n=R4t(),r=s(n);function s(a){return a&&a.__esModule?a:{default:a}}e.default={pauseVideo:{acceptableStates:[r.default.ENDED,r.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[r.default.ENDED,r.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[r.default.ENDED,r.default.PLAYING,r.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},i.exports=e.default}(nM,nM.exports)),nM.exports}var GH;function P4t(){return GH||(GH=1,function(i,e){Object.defineProperty(e,"__esModule",{value:!0});var n=A4t(),r=h(n),s=M4t(),a=h(s),o=C4t(),l=h(o),u=O4t(),c=h(u);function h(v){return v&&v.__esModule?v:{default:v}}var p=(0,r.default)("youtube-player"),g={};g.proxyEvents=function(v){var b={},S=function(D){var N="on"+D.slice(0,1).toUpperCase()+D.slice(1);b[N]=function(U){p('event "%s"',N,U),v.trigger(D,U)}},E=!0,x=!1,A=void 0;try{for(var C=l.default[Symbol.iterator](),M;!(E=(M=C.next()).done);E=!0){var P=M.value;S(P)}}catch(k){x=!0,A=k}finally{try{!E&&C.return&&C.return()}finally{if(x)throw A}}return b},g.promisifyPlayer=function(v){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,S={},E=function(N){b&&c.default[N]?S[N]=function(){for(var U=arguments.length,R=Array(U),B=0;B<U;B++)R[B]=arguments[B];return v.then(function(H){var V=c.default[N],Y=H.getPlayerState(),et=H[N].apply(H,R);return V.stateChangeRequired||Array.isArray(V.acceptableStates)&&V.acceptableStates.indexOf(Y)===-1?new Promise(function(G){var X=function J(){var nt=H.getPlayerState(),Z=void 0;typeof V.timeout=="number"&&(Z=setTimeout(function(){H.removeEventListener("onStateChange",J),G()},V.timeout)),Array.isArray(V.acceptableStates)&&V.acceptableStates.indexOf(nt)!==-1&&(H.removeEventListener("onStateChange",J),clearTimeout(Z),G())};H.addEventListener("onStateChange",X)}).then(function(){return et}):et})}:S[N]=function(){for(var U=arguments.length,R=Array(U),B=0;B<U;B++)R[B]=arguments[B];return v.then(function(H){return H[N].apply(H,R)})}},x=!0,A=!1,C=void 0;try{for(var M=a.default[Symbol.iterator](),P;!(x=(P=M.next()).done);x=!0){var k=P.value;E(k)}}catch(D){A=!0,C=D}finally{try{!x&&M.return&&M.return()}finally{if(A)throw C}}return S},e.default=g,i.exports=e.default}(ZA,ZA.exports)),ZA.exports}var $H;function I4t(){return $H||($H=1,function(i,e){Object.defineProperty(e,"__esModule",{value:!0});var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},r=x4t(),s=c(r),a=E4t(),o=c(a),l=P4t(),u=c(l);function c(p){return p&&p.__esModule?p:{default:p}}var h=void 0;e.default=function(p){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,b=(0,s.default)();if(h||(h=(0,o.default)(b)),g.events)throw new Error("Event handlers cannot be overwritten.");if(typeof p=="string"&&!document.getElementById(p))throw new Error('Element "'+p+'" does not exist.');g.events=u.default.proxyEvents(b);var S=new Promise(function(x){if((typeof p>"u"?"undefined":n(p))==="object"&&p.playVideo instanceof Function){var A=p;x(A)}else h.then(function(C){var M=new C.Player(p,g);return b.on("ready",function(){x(M)}),null})}),E=u.default.promisifyPlayer(S,v);return E.on=b.on,E.off=b.off,E},i.exports=e.default}(YA,YA.exports)),YA.exports}var D4t=I4t();const N4t=hh(D4t);var L4t=Object.defineProperty,U4t=Object.defineProperties,k4t=Object.getOwnPropertyDescriptors,qH=Object.getOwnPropertySymbols,z4t=Object.prototype.hasOwnProperty,B4t=Object.prototype.propertyIsEnumerable,WH=(i,e,n)=>e in i?L4t(i,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):i[e]=n,IL=(i,e)=>{for(var n in e||(e={}))z4t.call(e,n)&&WH(i,n,e[n]);if(qH)for(var n of qH(e))B4t.call(e,n)&&WH(i,n,e[n]);return i},DL=(i,e)=>U4t(i,k4t(e)),F4t=(i,e,n)=>new Promise((r,s)=>{var a=u=>{try{l(n.next(u))}catch(c){s(c)}},o=u=>{try{l(n.throw(u))}catch(c){s(c)}},l=u=>u.done?r(u.value):Promise.resolve(u.value).then(a,o);l((n=n.apply(i,e)).next())});function V4t(i,e){var n,r;if(i.videoId!==e.videoId)return!0;const s=((n=i.opts)==null?void 0:n.playerVars)||{},a=((r=e.opts)==null?void 0:r.playerVars)||{};return s.start!==a.start||s.end!==a.end}function XH(i={}){return DL(IL({},i),{height:0,width:0,playerVars:DL(IL({},i.playerVars),{autoplay:0,start:0,end:0})})}function H4t(i,e){return i.videoId!==e.videoId||!b4t(XH(i.opts),XH(e.opts))}function j4t(i,e){var n,r,s,a;return i.id!==e.id||i.className!==e.className||((n=i.opts)==null?void 0:n.width)!==((r=e.opts)==null?void 0:r.width)||((s=i.opts)==null?void 0:s.height)!==((a=e.opts)==null?void 0:a.height)||i.iframeClassName!==e.iframeClassName||i.title!==e.title}var G4t={videoId:"",id:"",className:"",iframeClassName:"",style:{},title:"",loading:void 0,opts:{},onReady:()=>{},onError:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onStateChange:()=>{},onPlaybackRateChange:()=>{},onPlaybackQualityChange:()=>{}},$4t={videoId:Mt.string,id:Mt.string,className:Mt.string,iframeClassName:Mt.string,style:Mt.object,title:Mt.string,loading:Mt.oneOf(["lazy","eager"]),opts:Mt.objectOf(Mt.any),onReady:Mt.func,onError:Mt.func,onPlay:Mt.func,onPause:Mt.func,onEnd:Mt.func,onStateChange:Mt.func,onPlaybackRateChange:Mt.func,onPlaybackQualityChange:Mt.func},FM=class extends gn.Component{constructor(i){super(i),this.destroyPlayerPromise=void 0,this.onPlayerReady=e=>{var n,r;return(r=(n=this.props).onReady)==null?void 0:r.call(n,e)},this.onPlayerError=e=>{var n,r;return(r=(n=this.props).onError)==null?void 0:r.call(n,e)},this.onPlayerStateChange=e=>{var n,r,s,a,o,l,u,c;switch((r=(n=this.props).onStateChange)==null||r.call(n,e),e.data){case FM.PlayerState.ENDED:(a=(s=this.props).onEnd)==null||a.call(s,e);break;case FM.PlayerState.PLAYING:(l=(o=this.props).onPlay)==null||l.call(o,e);break;case FM.PlayerState.PAUSED:(c=(u=this.props).onPause)==null||c.call(u,e);break}},this.onPlayerPlaybackRateChange=e=>{var n,r;return(r=(n=this.props).onPlaybackRateChange)==null?void 0:r.call(n,e)},this.onPlayerPlaybackQualityChange=e=>{var n,r;return(r=(n=this.props).onPlaybackQualityChange)==null?void 0:r.call(n,e)},this.destroyPlayer=()=>this.internalPlayer?(this.destroyPlayerPromise=this.internalPlayer.destroy().then(()=>this.destroyPlayerPromise=void 0),this.destroyPlayerPromise):Promise.resolve(),this.createPlayer=()=>{if(typeof document>"u")return;if(this.destroyPlayerPromise){this.destroyPlayerPromise.then(this.createPlayer);return}const e=DL(IL({},this.props.opts),{videoId:this.props.videoId});this.internalPlayer=N4t(this.container,e),this.internalPlayer.on("ready",this.onPlayerReady),this.internalPlayer.on("error",this.onPlayerError),this.internalPlayer.on("stateChange",this.onPlayerStateChange),this.internalPlayer.on("playbackRateChange",this.onPlayerPlaybackRateChange),this.internalPlayer.on("playbackQualityChange",this.onPlayerPlaybackQualityChange),(this.props.title||this.props.loading)&&this.internalPlayer.getIframe().then(n=>{this.props.title&&n.setAttribute("title",this.props.title),this.props.loading&&n.setAttribute("loading",this.props.loading)})},this.resetPlayer=()=>this.destroyPlayer().then(this.createPlayer),this.updatePlayer=()=>{var e;(e=this.internalPlayer)==null||e.getIframe().then(n=>{this.props.id?n.setAttribute("id",this.props.id):n.removeAttribute("id"),this.props.iframeClassName?n.setAttribute("class",this.props.iframeClassName):n.removeAttribute("class"),this.props.opts&&this.props.opts.width?n.setAttribute("width",this.props.opts.width.toString()):n.removeAttribute("width"),this.props.opts&&this.props.opts.height?n.setAttribute("height",this.props.opts.height.toString()):n.removeAttribute("height"),this.props.title?n.setAttribute("title",this.props.title):n.setAttribute("title","YouTube video player"),this.props.loading?n.setAttribute("loading",this.props.loading):n.removeAttribute("loading")})},this.getInternalPlayer=()=>this.internalPlayer,this.updateVideo=()=>{var e,n,r,s;if(typeof this.props.videoId>"u"||this.props.videoId===null){(e=this.internalPlayer)==null||e.stopVideo();return}let a=!1;const o={videoId:this.props.videoId};if((n=this.props.opts)!=null&&n.playerVars&&(a=this.props.opts.playerVars.autoplay===1,"start"in this.props.opts.playerVars&&(o.startSeconds=this.props.opts.playerVars.start),"end"in this.props.opts.playerVars&&(o.endSeconds=this.props.opts.playerVars.end)),a){(r=this.internalPlayer)==null||r.loadVideoById(o);return}(s=this.internalPlayer)==null||s.cueVideoById(o)},this.refContainer=e=>{this.container=e},this.container=null,this.internalPlayer=null}componentDidMount(){this.createPlayer()}componentDidUpdate(i){return F4t(this,null,function*(){j4t(i,this.props)&&this.updatePlayer(),H4t(i,this.props)&&(yield this.resetPlayer()),V4t(i,this.props)&&this.updateVideo()})}componentWillUnmount(){this.destroyPlayer()}render(){return gn.createElement("div",{className:this.props.className,style:this.props.style},gn.createElement("div",{id:this.props.id,className:this.props.iframeClassName,ref:this.refContainer}))}},LO=FM;LO.propTypes=$4t;LO.defaultProps=G4t;LO.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};var q4t=LO;const W4t={pointerEvents:"none",width:"100vw",height:"70vh",top:"0","& div iframe":{width:"100%",height:"100%"}},X4t=i=>i?{display:"flex",flexDirection:"column",zIndex:"20",position:"absolute",boxShadow:"0 0 10px rgb(247, 236, 236)",width:"100%",top:"0",height:"100vh"}:{display:"flex",flexDirection:"column",zIndex:"10",position:"absolute",boxShadow:"0 0 10px rgb(247, 236, 236)",height:"100vh"},ZZ=({controls:i,isAddNode:e,setValue:n})=>{const r=fn(b=>b.nodeViewData),[s,a]=Q.useState(null),o=b=>{n&&(b.videoid&&n("videoid",b.videoid),b.start&&n("start",b.start),b.end&&n("end",b.end))},l=r.videoid,u=r.start,c=r.end,h=(l==null?void 0:l.replace("shorts/",""))??"",p=b=>{a(b.target),b.target.playVideo()},g=()=>{i&&yAt(i),fn.setState({isNodeViewActive:!1})},v={playerVars:{start:u,...c&&{end:c},autoplay:1,mute:0,controls:0,modestbranding:1,rel:0,loop:1,playsinline:1,fs:0,disablekb:1,cc_load_policy:0,hl:"es"}};return W.jsxs(n4,{sx:X4t(e),children:[W.jsx(dO,{buttonFunction:g}),W.jsxs(di,{children:[W.jsx(di,{sx:W4t,children:W.jsx(q4t,{style:{height:"100%"},videoId:h,opts:v,onReady:p})}),W.jsx(ekt,{player:s,start:parseInt(u??"0"),end:parseInt(c??"0"),isAddNode:e,onSendDataTimeNewNode:o})]}),W.jsxs(di,{children:[W.jsx(Li,{children:r.name}),W.jsx(Li,{children:r.group}),W.jsx(Li,{children:r.id})]})]})},QZ=Ro,Y4t={display:"flex",flexDirection:"column",width:"100%",mt:2,alignItems:"center","& .MuiPaper-root":{margin:"1rem 0"}},K4t={px:2,mb:1,width:"95%"},Z4t={height:8,borderRadius:5,backgroundColor:"#eee",cursor:"pointer","& .MuiLinearProgress-bar":{backgroundColor:"#1976d2"}},S1={bgcolor:"white",border:`1px solid ${QZ.palette.formStyles.borderColor}`,"&:hover":{bgcolor:"#e0e0e0"}},Q4t={width:"100%",padding:"1rem",backgroundColor:QZ.palette.formStyles.cardBackgroundColor},J4t=i=>({display:"grid",gridTemplateRows:i?"auto auto":"auto",rowGap:2,justifyItems:"center",alignItems:"center"}),tkt={display:"grid",gridAutoFlow:"column",columnGap:5,marginTop:2},Xp="components.nodeView.",ekt=({player:i,start:e,end:n,isAddNode:r,onSendDataTimeNewNode:s})=>{const{t:a}=qu(),[o,l]=Q.useState(!1),[u,c]=Q.useState(0),[h,p]=Q.useState(""),[g,v]=Q.useState(""),b=x=>{const A=Math.floor(x/3600),C=Math.floor(x%3600/60),M=Math.floor(x%60),P=[];return A>0&&P.push(A.toString()),P.push(C.toString().padStart(2,"0")),P.push(M.toString().padStart(2,"0")),P.join(":")};Q.useEffect(()=>{if(!i)return;const x=setInterval(()=>{const A=i.getPlayerState(),C=i.getCurrentTime();l(A===1);const M=Math.min(Math.max(C,e),n),P=n-e,k=(M-e)/P*100;c(k),C>=n&&i.pauseVideo()},100);return()=>clearInterval(x)},[i,e,n]);const S=x=>{if(i){let A=i.getCurrentTime()+x;A<e&&(A=e),A>n&&(A=n),i.seekTo(A,!0)}},E=()=>{if(!i)return;const x=i.getPlayerState(),A=i.getCurrentTime();x!==1&&A>=n||A<e?(i.seekTo(e,!0),i.playVideo()):x===1?i.pauseVideo():i.playVideo()};return W.jsxs(di,{sx:Y4t,children:[W.jsx(di,{sx:K4t,onClick:x=>{if(!i)return;const A=x.currentTarget.getBoundingClientRect(),M=(x.clientX-A.left)/A.width,P=e+(n-e)*M;i.seekTo(P,!0)},children:W.jsx(ny,{variant:"determinate",value:u,sx:Z4t})}),W.jsxs(Li,{children:[i?b(i.getCurrentTime()):"0:00"," /"," ",b(n)]}),W.jsx(vb,{elevation:3,sx:Q4t,children:W.jsxs(di,{sx:J4t(r),children:[W.jsxs(Qp,{direction:"row",spacing:10,alignItems:"center",children:[W.jsx(n_,{title:a(Xp+"button1"),children:W.jsx(ay,{sx:S1,color:"primary",onClick:()=>S(-5),children:W.jsx(wvt,{fontSize:"large"})})}),W.jsx(n_,{title:a(o?Xp+"button3":Xp+"button4"),children:W.jsx(ay,{color:"primary",onClick:E,sx:S1,children:o?W.jsx(Svt,{fontSize:"large"}):W.jsx(Tvt,{fontSize:"large"})})}),W.jsx(n_,{title:a(Xp+"button2"),children:W.jsx(ay,{sx:S1,color:"primary",onClick:()=>S(5),children:W.jsx(vvt,{fontSize:"large"})})})]}),r&&W.jsxs(di,{sx:tkt,children:[W.jsx(n_,{title:a(Xp+"button5"),children:W.jsx(ay,{sx:S1,color:"primary",onClick:()=>{const x=Math.floor(i.getCurrentTime()).toString();v(x),s==null||s({start:x,videoid:i.getVideoData().video_id})},children:W.jsxs(Li,{children:[a(Xp+"start"),": ",b(Number(g))]})})}),W.jsx(n_,{title:a(Xp+"button6"),children:W.jsx(ay,{sx:S1,color:"primary",onClick:()=>{const x=Math.ceil(i.getCurrentTime()).toString();p(x),s==null||s({end:x})},children:W.jsxs(Li,{children:[a(Xp+"end"),": ",b(Number(h))]})})})]})]})})]})},Qv="components.configWindow.",nkt=()=>{const i=fn(u=>u.languageGlobal),[e,n]=Q.useState(i),{t:r,i18n:s}=qu(),a=()=>{localStorage.setItem(bm.languageUser,i),fn.setState({languageGlobal:i,isConfigWindowActive:!1})},o=u=>{n(u.target.value),localStorage.setItem(bm.languageUser,u.target.value),s.changeLanguage(u.target.value)},l=()=>{fn.setState({isConfigWindowActive:!1,languageGlobal:e})};return W.jsxs(di,{sx:{width:"80%",padding:"2rem",backgroundColor:"white",borderRadius:"10px",display:"flex",flexDirection:"column",position:"absolute",zIndex:"10"},children:[W.jsx(dO,{buttonFunction:a}),W.jsx(Li,{variant:"h4",sx:{fontWeight:"600",marginBottom:"2rem"},children:r(Qv+"title")}),W.jsxs(jR,{fullWidth:!0,sx:{marginBottom:"2rem"},children:[W.jsx(k$,{id:"demo-simple-select-label",children:r(Qv+"languageLabel")}),W.jsxs(c4,{labelId:"demo-simple-select-label",id:"demo-simple-select",defaultValue:i,label:r(Qv+"languageLabel"),onChange:o,children:[W.jsx(oy,{value:"es",children:r(Qv+"es")}),W.jsx(oy,{value:"en",children:r(Qv+"en")})]})]}),W.jsx(vd,{variant:"contained",color:"primary",onClick:l,children:r(Qv+"buttonClose")})]})},ikt=W.jsx(g$,{styles:{html:{margin:0,padding:0,overflow:"hidden",width:"100vw",height:"100vh"},body:{margin:0,padding:0,overflow:"hidden",width:"100vw",height:"100vh"},"#root":{margin:0,padding:0,overflow:"hidden",width:"100vw",height:"100vh",fontFamily:'"Poppins", system-ui, Avenir, Helvetica, Arial, sans-serif'}}}),rkt={display:"flex",alignItems:"center",justifyContent:"center"},skt={width:"100vw",height:"100vh"},YH="app.";function akt(){const i=fn(p=>p.isAddNodeActive),e=fn(p=>p.isLoginWindowActive),n=fn(p=>p.isUserLogin),r=fn(p=>p.userLoginData),s=fn(p=>p.isNodeViewActive),a=fn(p=>p.overlayDontShowAgain),o=fn(p=>p.isConfigWindowActive),{t:l,i18n:u}=qu(),c=Q.useRef(null),h=fn(p=>p.triggerAlert);return Q.useEffect(()=>{const p=localStorage.getItem(bm.languageUser)??bm.languageDefault;u.changeLanguage(p),fn.setState({languageGlobal:p})},[o]),Q.useEffect(()=>{JTt()},[]),Q.useEffect(()=>{n?(h(`${l(YH+"logOut")} ${r.displayName}`,"success"),fn.setState({isLoginWindowActive:!1})):h(l(YH+"logOut"),"warning")},[n]),W.jsxs(W.Fragment,{children:[ikt,W.jsxs("div",{style:rkt,children:[i?W.jsx(NUt,{}):null,e?W.jsx(y4t,{}):W.jsx(vAt,{}),s&&c.current&&!i?W.jsx(ZZ,{controls:c.current,isAddNode:!1}):null,o?W.jsx(nkt,{}):null,W.jsx("div",{style:skt,children:W.jsxs(ylt,{camera:{fov:Kg.fov,near:Kg.near,far:Kg.far,position:Kg.position},style:{backgroundColor:DM.canvasBackgraundColor},children:[W.jsx(lDt,{cameraControlsRef:c}),W.jsx(Alt,{ref:c,dollySpeed:Kg.dollySpeed,maxDistance:Kg.maxDistance,minDistance:Kg.minDistance})]})}),a?null:W.jsx(ALt,{}),W.jsx(_At,{})]})]})}const Pn=i=>typeof i=="string",E1=()=>{let i,e;const n=new Promise((r,s)=>{i=r,e=s});return n.resolve=i,n.reject=e,n},KH=i=>i==null?"":""+i,okt=(i,e,n)=>{i.forEach(r=>{e[r]&&(n[r]=e[r])})},lkt=/###/g,ZH=i=>i&&i.indexOf("###")>-1?i.replace(lkt,"."):i,QH=i=>!i||Pn(i),mS=(i,e,n)=>{const r=Pn(e)?e.split("."):e;let s=0;for(;s<r.length-1;){if(QH(i))return{};const a=ZH(r[s]);!i[a]&&n&&(i[a]=new n),Object.prototype.hasOwnProperty.call(i,a)?i=i[a]:i={},++s}return QH(i)?{}:{obj:i,k:ZH(r[s])}},JH=(i,e,n)=>{const{obj:r,k:s}=mS(i,e,Object);if(r!==void 0||e.length===1){r[s]=n;return}let a=e[e.length-1],o=e.slice(0,e.length-1),l=mS(i,o,Object);for(;l.obj===void 0&&o.length;)a=`${o[o.length-1]}.${a}`,o=o.slice(0,o.length-1),l=mS(i,o,Object),l!=null&&l.obj&&typeof l.obj[`${l.k}.${a}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${a}`]=n},ukt=(i,e,n,r)=>{const{obj:s,k:a}=mS(i,e,Object);s[a]=s[a]||[],s[a].push(n)},k2=(i,e)=>{const{obj:n,k:r}=mS(i,e);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},ckt=(i,e,n)=>{const r=k2(i,n);return r!==void 0?r:k2(e,n)},JZ=(i,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in i?Pn(i[r])||i[r]instanceof String||Pn(e[r])||e[r]instanceof String?n&&(i[r]=e[r]):JZ(i[r],e[r],n):i[r]=e[r]);return i},Jv=i=>i.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var fkt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const hkt=i=>Pn(i)?i.replace(/[&<>"'\/]/g,e=>fkt[e]):i;class dkt{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const pkt=[" ",",","?","!",";"],mkt=new dkt(20),gkt=(i,e,n)=>{e=e||"",n=n||"";const r=pkt.filter(o=>e.indexOf(o)<0&&n.indexOf(o)<0);if(r.length===0)return!0;const s=mkt.getRegExp(`(${r.map(o=>o==="?"?"\\?":o).join("|")})`);let a=!s.test(i);if(!a){const o=i.indexOf(n);o>0&&!s.test(i.substring(0,o))&&(a=!0)}return a},NL=function(i,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!i)return;if(i[e])return Object.prototype.hasOwnProperty.call(i,e)?i[e]:void 0;const r=e.split(n);let s=i;for(let a=0;a<r.length;){if(!s||typeof s!="object")return;let o,l="";for(let u=a;u<r.length;++u)if(u!==a&&(l+=n),l+=r[u],o=s[l],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&u<r.length-1)continue;a+=u-a+1;break}s=o}return s},z2=i=>i==null?void 0:i.replace("_","-"),ykt={type:"logger",log(i){this.output("log",i)},warn(i){this.output("warn",i)},error(i){this.output("error",i)},output(i,e){var n,r;(r=(n=console==null?void 0:console[i])==null?void 0:n.apply)==null||r.call(n,console,e)}};class B2{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,n)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=e||ykt,this.options=n,this.debug=n.debug}log(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"log","",!0)}warn(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","",!0)}error(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"error","")}deprecate(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,s){return s&&!this.debug?null:(Pn(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new B2(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new B2(this.logger,e)}}var Yf=new B2;class UO{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const s=this.observers[r].get(n)||0;this.observers[r].set(n,s+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(o=>{let[l,u]=o;for(let c=0;c<u;c++)l(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(o=>{let[l,u]=o;for(let c=0;c<u;c++)l.apply(l,[e,...r])})}}class t7 extends UO{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r){var c,h;let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,o=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;e.indexOf(".")>-1?l=e.split("."):(l=[e,n],r&&(Array.isArray(r)?l.push(...r):Pn(r)&&a?l.push(...r.split(a)):l.push(r)));const u=k2(this.data,l);return!u&&!n&&!r&&e.indexOf(".")>-1&&(e=l[0],n=l[1],r=l.slice(2).join(".")),u||!o||!Pn(r)?u:NL((h=(c=this.data)==null?void 0:c[e])==null?void 0:h[n],r,a)}addResource(e,n,r,s){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const o=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let l=[e,n];r&&(l=l.concat(o?r.split(o):r)),e.indexOf(".")>-1&&(l=e.split("."),s=n,n=l[1]),this.addNamespaces(n),JH(this.data,l,s),a.silent||this.emit("added",e,n,r,s)}addResources(e,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const a in r)(Pn(r[a])||Array.isArray(r[a]))&&this.addResource(e,n,a,r[a],{silent:!0});s.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,s,a){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},l=[e,n];e.indexOf(".")>-1&&(l=e.split("."),s=r,r=n,n=l[1]),this.addNamespaces(n);let u=k2(this.data,l)||{};o.skipCopy||(r=JSON.parse(JSON.stringify(r))),s?JZ(u,r,a):u={...u,...r},JH(this.data,l,u),o.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(s=>n[s]&&Object.keys(n[s]).length>0)}toJSON(){return this.data}}var tQ={processors:{},addPostProcessor(i){this.processors[i.name]=i},handle(i,e,n,r,s){return i.forEach(a=>{var o;e=((o=this.processors[a])==null?void 0:o.process(e,n,r,s))??e}),e}};const e7={},n7=i=>!Pn(i)&&typeof i!="boolean"&&typeof i!="number";class F2 extends UO{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),okt(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Yf.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){const r={...arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}};if(e==null)return!1;const s=this.resolve(e,r);return(s==null?void 0:s.res)!==void 0}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const s=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let a=n.ns||this.options.defaultNS||[];const o=r&&e.indexOf(r)>-1,l=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!gkt(e,r,s);if(o&&!l){const u=e.match(this.interpolator.nestingRegexp);if(u&&u.length>0)return{key:e,namespaces:Pn(a)?[a]:a};const c=e.split(r);(r!==s||r===s&&this.options.ns.indexOf(c[0])>-1)&&(a=c.shift()),e=c.join(s)}return{key:e,namespaces:Pn(a)?[a]:a}}translate(e,n,r){let s=typeof n=="object"?{...n}:n;if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(s={...s}),s||(s={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const a=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:l,namespaces:u}=this.extractFromKey(e[e.length-1],s),c=u[u.length-1],h=s.lng||this.language,p=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((h==null?void 0:h.toLowerCase())==="cimode"){if(p){const H=s.nsSeparator||this.options.nsSeparator;return a?{res:`${c}${H}${l}`,usedKey:l,exactUsedKey:l,usedLng:h,usedNS:c,usedParams:this.getUsedParamsDetails(s)}:`${c}${H}${l}`}return a?{res:l,usedKey:l,exactUsedKey:l,usedLng:h,usedNS:c,usedParams:this.getUsedParamsDetails(s)}:l}const g=this.resolve(e,s);let v=g==null?void 0:g.res;const b=(g==null?void 0:g.usedKey)||l,S=(g==null?void 0:g.exactUsedKey)||l,E=["[object Number]","[object Function]","[object RegExp]"],x=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,A=!this.i18nFormat||this.i18nFormat.handleAsObject,C=s.count!==void 0&&!Pn(s.count),M=F2.hasDefaultValue(s),P=C?this.pluralResolver.getSuffix(h,s.count,s):"",k=s.ordinal&&C?this.pluralResolver.getSuffix(h,s.count,{ordinal:!1}):"",D=C&&!s.ordinal&&s.count===0,N=D&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${P}`]||s[`defaultValue${k}`]||s.defaultValue;let U=v;A&&!v&&M&&(U=N);const R=n7(U),B=Object.prototype.toString.apply(U);if(A&&U&&R&&E.indexOf(B)<0&&!(Pn(x)&&Array.isArray(U))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const H=this.options.returnedObjectHandler?this.options.returnedObjectHandler(b,U,{...s,ns:u}):`key '${l} (${this.language})' returned an object instead of string.`;return a?(g.res=H,g.usedParams=this.getUsedParamsDetails(s),g):H}if(o){const H=Array.isArray(U),V=H?[]:{},Y=H?S:b;for(const et in U)if(Object.prototype.hasOwnProperty.call(U,et)){const G=`${Y}${o}${et}`;M&&!v?V[et]=this.translate(G,{...s,defaultValue:n7(N)?N[et]:void 0,joinArrays:!1,ns:u}):V[et]=this.translate(G,{...s,joinArrays:!1,ns:u}),V[et]===G&&(V[et]=U[et])}v=V}}else if(A&&Pn(x)&&Array.isArray(v))v=v.join(x),v&&(v=this.extendTranslation(v,e,s,r));else{let H=!1,V=!1;!this.isValidLookup(v)&&M&&(H=!0,v=N),this.isValidLookup(v)||(V=!0,v=l);const et=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&V?void 0:v,G=M&&N!==v&&this.options.updateMissing;if(V||H||G){if(this.logger.log(G?"updateKey":"missingKey",h,c,l,G?N:v),o){const Z=this.resolve(l,{...s,keySeparator:!1});Z&&Z.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let X=[];const J=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&J&&J[0])for(let Z=0;Z<J.length;Z++)X.push(J[Z]);else this.options.saveMissingTo==="all"?X=this.languageUtils.toResolveHierarchy(s.lng||this.language):X.push(s.lng||this.language);const nt=(Z,dt,yt)=>{var it;const xt=M&&yt!==v?yt:et;this.options.missingKeyHandler?this.options.missingKeyHandler(Z,c,dt,xt,G,s):(it=this.backendConnector)!=null&&it.saveMissing&&this.backendConnector.saveMissing(Z,c,dt,xt,G,s),this.emit("missingKey",Z,c,dt,v)};this.options.saveMissing&&(this.options.saveMissingPlurals&&C?X.forEach(Z=>{const dt=this.pluralResolver.getSuffixes(Z,s);D&&s[`defaultValue${this.options.pluralSeparator}zero`]&&dt.indexOf(`${this.options.pluralSeparator}zero`)<0&&dt.push(`${this.options.pluralSeparator}zero`),dt.forEach(yt=>{nt([Z],l+yt,s[`defaultValue${yt}`]||N)})}):nt(X,l,N))}v=this.extendTranslation(v,e,s,g,r),V&&v===l&&this.options.appendNamespaceToMissingKey&&(v=`${c}:${l}`),(V||H)&&this.options.parseMissingKeyHandler&&(v=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}:${l}`:l,H?v:void 0,s))}return a?(g.res=v,g.usedParams=this.getUsedParamsDetails(s),g):v}extendTranslation(e,n,r,s,a){var c,h;var o=this;if((c=this.i18nFormat)!=null&&c.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const p=Pn(e)&&(((h=r==null?void 0:r.interpolation)==null?void 0:h.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let g;if(p){const b=e.match(this.interpolator.nestingRegexp);g=b&&b.length}let v=r.replace&&!Pn(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(v={...this.options.interpolation.defaultVariables,...v}),e=this.interpolator.interpolate(e,v,r.lng||this.language||s.usedLng,r),p){const b=e.match(this.interpolator.nestingRegexp),S=b&&b.length;g<S&&(r.nest=!1)}!r.lng&&s&&s.res&&(r.lng=this.language||s.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var b=arguments.length,S=new Array(b),E=0;E<b;E++)S[E]=arguments[E];return(a==null?void 0:a[0])===S[0]&&!r.context?(o.logger.warn(`It seems you are nesting recursively key: ${S[0]} in key: ${n[0]}`),null):o.translate(...S,n)},r)),r.interpolation&&this.interpolator.reset()}const l=r.postProcess||this.options.postProcess,u=Pn(l)?[l]:l;return e!=null&&(u!=null&&u.length)&&r.applyPostProcessor!==!1&&(e=tQ.handle(u,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,s,a,o,l;return Pn(e)&&(e=[e]),e.forEach(u=>{if(this.isValidLookup(r))return;const c=this.extractFromKey(u,n),h=c.key;s=h;let p=c.namespaces;this.options.fallbackNS&&(p=p.concat(this.options.fallbackNS));const g=n.count!==void 0&&!Pn(n.count),v=g&&!n.ordinal&&n.count===0,b=n.context!==void 0&&(Pn(n.context)||typeof n.context=="number")&&n.context!=="",S=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);p.forEach(E=>{var x,A;this.isValidLookup(r)||(l=E,!e7[`${S[0]}-${E}`]&&((x=this.utils)!=null&&x.hasLoadedNamespace)&&!((A=this.utils)!=null&&A.hasLoadedNamespace(l))&&(e7[`${S[0]}-${E}`]=!0,this.logger.warn(`key "${s}" for languages "${S.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),S.forEach(C=>{var k;if(this.isValidLookup(r))return;o=C;const M=[h];if((k=this.i18nFormat)!=null&&k.addLookupKeys)this.i18nFormat.addLookupKeys(M,h,C,E,n);else{let D;g&&(D=this.pluralResolver.getSuffix(C,n.count,n));const N=`${this.options.pluralSeparator}zero`,U=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(g&&(M.push(h+D),n.ordinal&&D.indexOf(U)===0&&M.push(h+D.replace(U,this.options.pluralSeparator)),v&&M.push(h+N)),b){const R=`${h}${this.options.contextSeparator}${n.context}`;M.push(R),g&&(M.push(R+D),n.ordinal&&D.indexOf(U)===0&&M.push(R+D.replace(U,this.options.pluralSeparator)),v&&M.push(R+N))}}let P;for(;P=M.pop();)this.isValidLookup(r)||(a=P,r=this.getResource(C,E,P,n))}))})}),{res:r,usedKey:s,exactUsedKey:a,usedLng:o,usedNS:l}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r){var a;let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return(a=this.i18nFormat)!=null&&a.getResource?this.i18nFormat.getResource(e,n,r,s):this.resourceStore.getResource(e,n,r,s)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!Pn(e.replace);let s=r?e.replace:e;if(r&&typeof e.count<"u"&&(s.count=e.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!r){s={...s};for(const a of n)delete s[a]}return s}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}class i7{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Yf.create("languageUtils")}getScriptPartFromCode(e){if(e=z2(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=z2(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(Pn(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const s=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(s))&&(n=s)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const s=this.getScriptPartFromCode(r);if(this.isSupportedCode(s))return n=s;const a=this.getLanguagePartFromCode(r);if(this.isSupportedCode(a))return n=a;n=this.options.supportedLngs.find(o=>{if(o===a)return o;if(!(o.indexOf("-")<0&&a.indexOf("-")<0)&&(o.indexOf("-")>0&&a.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===a||o.indexOf(a)===0&&a.length>1))return o})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),Pn(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes(n||this.options.fallbackLng||[],e),s=[],a=o=>{o&&(this.isSupportedCode(o)?s.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return Pn(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):Pn(e)&&a(this.formatLanguageCode(e)),r.forEach(o=>{s.indexOf(o)<0&&a(this.formatLanguageCode(o))}),s}}const r7={zero:0,one:1,two:2,few:3,many:4,other:5},s7={select:i=>i===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class vkt{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=n,this.logger=Yf.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=z2(e==="dev"?"en":e),s=n.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:r,type:s});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let o;try{o=new Intl.PluralRules(r,{type:s})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),s7;if(!e.match(/-|_/))return s7;const u=this.languageUtils.getLanguagePartFromCode(e);o=this.getRule(u,n)}return this.pluralRulesCache[a]=o,o}needsPlural(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,r).map(s=>`${n}${s}`)}getSuffixes(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((s,a)=>r7[s]-r7[a]).map(s=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${s}`):[]}getSuffix(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=this.getRule(e,r);return s?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${s.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,r))}}const a7=function(i,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=ckt(i,e,n);return!a&&s&&Pn(n)&&(a=NL(i,n,r),a===void 0&&(a=NL(e,n,r))),a},r3=i=>i.replace(/\$/g,"$$$$");class _kt{constructor(){var n;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Yf.create("interpolator"),this.options=e,this.format=((n=e==null?void 0:e.interpolation)==null?void 0:n.format)||(r=>r),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:s,prefix:a,prefixEscaped:o,suffix:l,suffixEscaped:u,formatSeparator:c,unescapeSuffix:h,unescapePrefix:p,nestingPrefix:g,nestingPrefixEscaped:v,nestingSuffix:b,nestingSuffixEscaped:S,nestingOptionsSeparator:E,maxReplaces:x,alwaysFormat:A}=e.interpolation;this.escape=n!==void 0?n:hkt,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=a?Jv(a):o||"{{",this.suffix=l?Jv(l):u||"}}",this.formatSeparator=c||",",this.unescapePrefix=h?"":p||"-",this.unescapeSuffix=this.unescapePrefix?"":h||"",this.nestingPrefix=g?Jv(g):v||Jv("$t("),this.nestingSuffix=b?Jv(b):S||Jv(")"),this.nestingOptionsSeparator=E||",",this.maxReplaces=x||1e3,this.alwaysFormat=A!==void 0?A:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>(n==null?void 0:n.source)===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,n,r,s){var v;let a,o,l;const u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},c=b=>{if(b.indexOf(this.formatSeparator)<0){const A=a7(n,u,b,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(A,void 0,r,{...s,...n,interpolationkey:b}):A}const S=b.split(this.formatSeparator),E=S.shift().trim(),x=S.join(this.formatSeparator).trim();return this.format(a7(n,u,E,this.options.keySeparator,this.options.ignoreJSONStructure),x,r,{...s,...n,interpolationkey:E})};this.resetRegExp();const h=(s==null?void 0:s.missingInterpolationHandler)||this.options.missingInterpolationHandler,p=((v=s==null?void 0:s.interpolation)==null?void 0:v.skipOnVariables)!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:b=>r3(b)},{regex:this.regexp,safeValue:b=>this.escapeValue?r3(this.escape(b)):r3(b)}].forEach(b=>{for(l=0;a=b.regex.exec(e);){const S=a[1].trim();if(o=c(S),o===void 0)if(typeof h=="function"){const x=h(e,a,s);o=Pn(x)?x:""}else if(s&&Object.prototype.hasOwnProperty.call(s,S))o="";else if(p){o=a[0];continue}else this.logger.warn(`missed to pass in variable ${S} for interpolating ${e}`),o="";else!Pn(o)&&!this.useRawValueToEscape&&(o=KH(o));const E=b.safeValue(o);if(e=e.replace(a[0],E),p?(b.regex.lastIndex+=o.length,b.regex.lastIndex-=a[0].length):b.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),e}nest(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s,a,o;const l=(u,c)=>{const h=this.nestingOptionsSeparator;if(u.indexOf(h)<0)return u;const p=u.split(new RegExp(`${h}[ ]*{`));let g=`{${p[1]}`;u=p[0],g=this.interpolate(g,o);const v=g.match(/'/g),b=g.match(/"/g);(((v==null?void 0:v.length)??0)%2===0&&!b||b.length%2!==0)&&(g=g.replace(/'/g,'"'));try{o=JSON.parse(g),c&&(o={...c,...o})}catch(S){return this.logger.warn(`failed parsing options string in nesting for key ${u}`,S),`${u}${h}${g}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,u};for(;s=this.nestingRegexp.exec(e);){let u=[];o={...r},o=o.replace&&!Pn(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let c=!1;if(s[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(s[1])){const h=s[1].split(this.formatSeparator).map(p=>p.trim());s[1]=h.shift(),u=h,c=!0}if(a=n(l.call(this,s[1].trim(),o),o),a&&s[0]===e&&!Pn(a))return a;Pn(a)||(a=KH(a)),a||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${e}`),a=""),c&&(a=u.reduce((h,p)=>this.format(h,p,r.lng,{...r,interpolationkey:s[1].trim()}),a.trim())),e=e.replace(s[0],a),this.regexp.lastIndex=0}return e}}const bkt=i=>{let e=i.toLowerCase().trim();const n={};if(i.indexOf("(")>-1){const r=i.split("(");e=r[0].toLowerCase().trim();const s=r[1].substring(0,r[1].length-1);e==="currency"&&s.indexOf(":")<0?n.currency||(n.currency=s.trim()):e==="relativetime"&&s.indexOf(":")<0?n.range||(n.range=s.trim()):s.split(";").forEach(o=>{if(o){const[l,...u]=o.split(":"),c=u.join(":").trim().replace(/^'+|'+$/g,""),h=l.trim();n[h]||(n[h]=c),c==="false"&&(n[h]=!1),c==="true"&&(n[h]=!0),isNaN(c)||(n[h]=parseInt(c,10))}})}return{formatName:e,formatOptions:n}},t_=i=>{const e={};return(n,r,s)=>{let a=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(a={...a,[s.interpolationkey]:void 0});const o=r+JSON.stringify(a);let l=e[o];return l||(l=i(z2(r),s),e[o]=l),l(n)}};class xkt{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Yf.create("formatter"),this.options=e,this.formats={number:t_((n,r)=>{const s=new Intl.NumberFormat(n,{...r});return a=>s.format(a)}),currency:t_((n,r)=>{const s=new Intl.NumberFormat(n,{...r,style:"currency"});return a=>s.format(a)}),datetime:t_((n,r)=>{const s=new Intl.DateTimeFormat(n,{...r});return a=>s.format(a)}),relativetime:t_((n,r)=>{const s=new Intl.RelativeTimeFormat(n,{...r});return a=>s.format(a,r.range||"day")}),list:t_((n,r)=>{const s=new Intl.ListFormat(n,{...r});return a=>s.format(a)})},this.init(e)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=n.interpolation.formatSeparator||","}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=t_(n)}format(e,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const a=n.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(l=>l.indexOf(")")>-1)){const l=a.findIndex(u=>u.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,l)].join(this.formatSeparator)}return a.reduce((l,u)=>{var p;const{formatName:c,formatOptions:h}=bkt(u);if(this.formats[c]){let g=l;try{const v=((p=s==null?void 0:s.formatParams)==null?void 0:p[s.interpolationkey])||{},b=v.locale||v.lng||s.locale||s.lng||r;g=this.formats[c](l,b,{...h,...s,...v})}catch(v){this.logger.warn(v)}return g}else this.logger.warn(`there was no format function for ${c}`);return l},e)}}const Skt=(i,e)=>{i.pending[e]!==void 0&&(delete i.pending[e],i.pendingCount--)};class Ekt extends UO{constructor(e,n,r){var a,o;let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=s,this.logger=Yf.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],(o=(a=this.backend)==null?void 0:a.init)==null||o.call(a,r,s.backend,s)}queueLoad(e,n,r,s){const a={},o={},l={},u={};return e.forEach(c=>{let h=!0;n.forEach(p=>{const g=`${c}|${p}`;!r.reload&&this.store.hasResourceBundle(c,p)?this.state[g]=2:this.state[g]<0||(this.state[g]===1?o[g]===void 0&&(o[g]=!0):(this.state[g]=1,h=!1,o[g]===void 0&&(o[g]=!0),a[g]===void 0&&(a[g]=!0),u[p]===void 0&&(u[p]=!0)))}),h||(l[c]=!0)}),(Object.keys(a).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(a),pending:Object.keys(o),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(u)}}loaded(e,n,r){const s=e.split("|"),a=s[0],o=s[1];n&&this.emit("failedLoading",a,o,n),!n&&r&&this.store.addResourceBundle(a,o,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const l={};this.queue.forEach(u=>{ukt(u.loaded,[a],o),Skt(u,e),n&&u.errors.push(n),u.pendingCount===0&&!u.done&&(Object.keys(u.loaded).forEach(c=>{l[c]||(l[c]={});const h=u.loaded[c];h.length&&h.forEach(p=>{l[c][p]===void 0&&(l[c][p]=!0)})}),u.done=!0,u.errors.length?u.callback(u.errors):u.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(u=>!u.done)}read(e,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:s,wait:a,callback:o});return}this.readingCalls++;const l=(c,h)=>{if(this.readingCalls--,this.waitingReads.length>0){const p=this.waitingReads.shift();this.read(p.lng,p.ns,p.fcName,p.tried,p.wait,p.callback)}if(c&&h&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,s+1,a*2,o)},a);return}o(c,h)},u=this.backend[r].bind(this.backend);if(u.length===2){try{const c=u(e,n);c&&typeof c.then=="function"?c.then(h=>l(null,h)).catch(l):l(null,c)}catch(c){l(c)}return}return u(e,n,l)}prepareLoading(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();Pn(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Pn(n)&&(n=[n]);const a=this.queueLoad(e,n,r,s);if(!a.toLoad.length)return a.pending.length||s(),null;a.toLoad.forEach(o=>{this.loadOne(o)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=e.split("|"),s=r[0],a=r[1];this.read(s,a,"read",void 0,void 0,(o,l)=>{o&&this.logger.warn(`${n}loading namespace ${a} for language ${s} failed`,o),!o&&l&&this.logger.log(`${n}loaded namespace ${a} for language ${s}`,l),this.loaded(e,o,l)})}saveMissing(e,n,r,s,a){var u,c,h,p,g;let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if((c=(u=this.services)==null?void 0:u.utils)!=null&&c.hasLoadedNamespace&&!((p=(h=this.services)==null?void 0:h.utils)!=null&&p.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((g=this.backend)!=null&&g.create){const v={...o,isUpdate:a},b=this.backend.create.bind(this.backend);if(b.length<6)try{let S;b.length===5?S=b(e,n,r,s,v):S=b(e,n,r,s),S&&typeof S.then=="function"?S.then(E=>l(null,E)).catch(l):l(null,S)}catch(S){l(S)}else b(e,n,r,s,l,v)}!e||!e[0]||this.store.addResource(e[0],n,r,s)}}}const o7=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:i=>{let e={};if(typeof i[1]=="object"&&(e=i[1]),Pn(i[1])&&(e.defaultValue=i[1]),Pn(i[2])&&(e.tDescription=i[2]),typeof i[2]=="object"||typeof i[3]=="object"){const n=i[3]||i[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:i=>i,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),l7=i=>{var e,n;return Pn(i.ns)&&(i.ns=[i.ns]),Pn(i.fallbackLng)&&(i.fallbackLng=[i.fallbackLng]),Pn(i.fallbackNS)&&(i.fallbackNS=[i.fallbackNS]),((n=(e=i.supportedLngs)==null?void 0:e.indexOf)==null?void 0:n.call(e,"cimode"))<0&&(i.supportedLngs=i.supportedLngs.concat(["cimode"])),typeof i.initImmediate=="boolean"&&(i.initAsync=i.initImmediate),i},rM=()=>{},Tkt=i=>{Object.getOwnPropertyNames(Object.getPrototypeOf(i)).forEach(n=>{typeof i[n]=="function"&&(i[n]=i[n].bind(i))})};class hE extends UO{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=l7(e),this.services={},this.logger=Yf,this.modules={external:[]},Tkt(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(){var e=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof n=="function"&&(r=n,n={}),n.defaultNS==null&&n.ns&&(Pn(n.ns)?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const s=o7();this.options={...s,...this.options,...l7(n)},this.options.interpolation={...s.interpolation,...this.options.interpolation},n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);const a=h=>h?typeof h=="function"?new h:h:null;if(!this.options.isClone){this.modules.logger?Yf.init(a(this.modules.logger),this.options):Yf.init(null,this.options);let h;this.modules.formatter?h=this.modules.formatter:h=xkt;const p=new i7(this.options);this.store=new t7(this.options.resources,this.options);const g=this.services;g.logger=Yf,g.resourceStore=this.store,g.languageUtils=p,g.pluralResolver=new vkt(p,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),h&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(g.formatter=a(h),g.formatter.init(g,this.options),this.options.interpolation.format=g.formatter.format.bind(g.formatter)),g.interpolator=new _kt(this.options),g.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},g.backendConnector=new Ekt(a(this.modules.backend),g.resourceStore,g,this.options),g.backendConnector.on("*",function(v){for(var b=arguments.length,S=new Array(b>1?b-1:0),E=1;E<b;E++)S[E-1]=arguments[E];e.emit(v,...S)}),this.modules.languageDetector&&(g.languageDetector=a(this.modules.languageDetector),g.languageDetector.init&&g.languageDetector.init(g,this.options.detection,this.options)),this.modules.i18nFormat&&(g.i18nFormat=a(this.modules.i18nFormat),g.i18nFormat.init&&g.i18nFormat.init(this)),this.translator=new F2(this.services,this.options),this.translator.on("*",function(v){for(var b=arguments.length,S=new Array(b>1?b-1:0),E=1;E<b;E++)S[E-1]=arguments[E];e.emit(v,...S)}),this.modules.external.forEach(v=>{v.init&&v.init(this)})}if(this.format=this.options.interpolation.format,r||(r=rM),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(h=>{this[h]=function(){return e.store[h](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(h=>{this[h]=function(){return e.store[h](...arguments),e}});const u=E1(),c=()=>{const h=(p,g)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),u.resolve(g),r(p,g)};if(this.languages&&!this.isInitialized)return h(null,this.t.bind(this));this.changeLanguage(this.options.lng,h)};return this.options.resources||!this.options.initAsync?c():setTimeout(c,0),u}loadResources(e){var a,o;let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:rM;const s=Pn(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((s==null?void 0:s.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const l=[],u=c=>{if(!c||c==="cimode")return;this.services.languageUtils.toResolveHierarchy(c).forEach(p=>{p!=="cimode"&&l.indexOf(p)<0&&l.push(p)})};s?u(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(h=>u(h)),(o=(a=this.options.preload)==null?void 0:a.forEach)==null||o.call(a,c=>u(c)),this.services.backendConnector.load(l,this.options.ns,c=>{!c&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(c)})}else r(null)}reloadResources(e,n,r){const s=E1();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=rM),this.services.backendConnector.reload(e,n,a=>{s.resolve(),r(a)}),s}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&tQ.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){var r=this;this.isLanguageChangingTo=e;const s=E1();this.emit("languageChanging",e);const a=u=>{this.language=u,this.languages=this.services.languageUtils.toResolveHierarchy(u),this.resolvedLanguage=void 0,this.setResolvedLanguage(u)},o=(u,c)=>{c?this.isLanguageChangingTo===e&&(a(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,s.resolve(function(){return r.t(...arguments)}),n&&n(u,function(){return r.t(...arguments)})},l=u=>{var p,g;!e&&!u&&this.services.languageDetector&&(u=[]);const c=Pn(u)?u:u&&u[0],h=this.store.hasLanguageSomeTranslations(c)?c:this.services.languageUtils.getBestMatchFromCodes(Pn(u)?[u]:u);h&&(this.language||a(h),this.translator.language||this.translator.changeLanguage(h),(g=(p=this.services.languageDetector)==null?void 0:p.cacheUserLanguage)==null||g.call(p,h)),this.loadResources(h,v=>{o(v,h)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(e),s}getFixedT(e,n,r){var s=this;const a=function(o,l){let u;if(typeof l!="object"){for(var c=arguments.length,h=new Array(c>2?c-2:0),p=2;p<c;p++)h[p-2]=arguments[p];u=s.options.overloadTranslationOptionHandler([o,l].concat(h))}else u={...l};u.lng=u.lng||a.lng,u.lngs=u.lngs||a.lngs,u.ns=u.ns||a.ns,u.keyPrefix!==""&&(u.keyPrefix=u.keyPrefix||r||a.keyPrefix);const g=s.options.keySeparator||".";let v;return u.keyPrefix&&Array.isArray(o)?v=o.map(b=>`${u.keyPrefix}${g}${b}`):v=u.keyPrefix?`${u.keyPrefix}${g}${o}`:o,s.t(v,u)};return Pn(e)?a.lng=e:a.lngs=e,a.ns=n,a.keyPrefix=r,a}t(){var s;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(s=this.translator)==null?void 0:s.translate(...n)}exists(){var s;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(s=this.translator)==null?void 0:s.exists(...n)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(l,u)=>{const c=this.services.backendConnector.state[`${l}|${u}`];return c===-1||c===0||c===2};if(n.precheck){const l=n.precheck(this,o);if(l!==void 0)return l}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(r,e)&&(!s||o(a,e)))}loadNamespaces(e,n){const r=E1();return this.options.ns?(Pn(e)&&(e=[e]),e.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{r.resolve(),n&&n(s)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=E1();Pn(e)&&(e=[e]);const s=this.options.preload||[],a=e.filter(o=>s.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return a.length?(this.options.preload=s.concat(a),this.loadResources(o=>{r.resolve(),n&&n(o)}),r):(n&&n(),Promise.resolve())}dir(e){var s,a;if(e||(e=this.resolvedLanguage||(((s=this.languages)==null?void 0:s.length)>0?this.languages[0]:this.language)),!e)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((a=this.services)==null?void 0:a.languageUtils)||new i7(o7());return n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new hE(e,n)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:rM;const r=e.forkResourceStore;r&&delete e.forkResourceStore;const s={...this.options,...e,isClone:!0},a=new hE(s);if((e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(l=>{a[l]=this[l]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},r){const l=Object.keys(this.store.data).reduce((u,c)=>(u[c]={...this.store.data[c]},u[c]=Object.keys(u[c]).reduce((h,p)=>(h[p]={...u[c][p]},h),u[c]),u),{});a.store=new t7(l,s),a.services.resourceStore=a.store}return a.translator=new F2(a.services,s),a.translator.on("*",function(l){for(var u=arguments.length,c=new Array(u>1?u-1:0),h=1;h<u;h++)c[h-1]=arguments[h];a.emit(l,...c)}),a.init(s,n),a.translator.options=s,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const to=hE.createInstance();to.createInstance=hE.createInstance;to.createInstance;to.dir;to.init;to.loadResources;to.reloadResources;to.use;to.changeLanguage;to.getFixedT;to.t;to.exists;to.setDefaultNamespace;to.hasLoadedNamespace;to.loadNamespaces;to.loadLanguages;const wkt={login:"Session started",logOut:"Closed Session"},Akt={accoundMenu:{title:"User Menu",triggerAlert:"Session Closed",optionsMenu:{login:"Log in",addNode:"Add Node",configuration:"Configuration",logOut:"Log out"}},configWindow:{title:"Configuration",languageLabel:"Language",es:"Spanish",en:"English",buttonClose:"Close and Save"},buttonAddNode:{title:"Add Nodes"},navigationgestures:{touch:{title:"Use touch gestures to navigate the scene",text1:"Swipe with one finger: Orbit",text2:"Swipe with two fingers: Pan view",text3:"Pinch with two fingers: Zoom in/out"},desk:{title:"Use mouse to navigate the scene",text1:"Left click + drag: Orbit",text2:"Right click + drag: Pan view",text3:"Mouse wheel (scroll): Zoom in/out"},checkBoxLabel:"Don't show this again",buttonClose:"Close"},loginUser:{loginGoogle:"Sign in with Google",title:"Login"},addNode:{stepper:{button1:"Back",button2:"Previous",button3:"Skip",optional:"Optional",next:"Next",finish:"Finish",step1:"You are creating a new node",step2:"Connect the node",step3:"Upload a resource to the node"},tabGround:{loadingData:"Loading data...",notData:"No data available for this category."}}},Mkt={app:wkt,components:Akt},Ckt={login:"Sesin iniciada",logOut:"Sesin Cerrada"},Rkt={accoundMenu:{title:"Menu Usuario",triggerAlert:"Sesisssn Cerrada",optionsMenu:{login:"Iniciar sesin",addNode:"Agregar Nodo",configuration:"Configuracin",logOut:"Cerrar sesin"}},configWindow:{title:"Configuracin",languageLabel:"Idioma",es:"Espaol",en:"Ingles",buttonClose:"Cerrar y Guardar"},buttonAddNode:{title:"Agregar Nodos"},navigationgestures:{touch:{title:"Usa gestos tctiles para navegar la escena",text1:"Deslizar con un dedo: Orbitar",text2:"Deslizar con dos dedos: Desplazar vista",text3:"Pellizcar con dos dedos Acercar/Alejar (Zoom)"},desk:{title:"Usa el mouse para navegar la escena",text1:"Clic izquierdo + arrastrar: Orbitar",text2:"Clic derecho + arrastrar: Desplazar vista",text3:"Rueda del mouse (scroll): Acercar/Alejar"},checkBoxLabel:"No volver a mostrar esto",buttonClose:"Cerrar"},loginUser:{title:"Iniciar sesin",loginGoogle:"Iniciar sesin con Google"},addNode:{stepper:{button1:"Volver",button2:"Retroceder",button3:"Saltar",optional:"Opcional",next:"Siguiente",finish:"Finalizar",step1:"Estas creando un nuevo nodo",step2:"Conecta el nodo",step3:"Carga un recurso al nodo"},tabGround:{loadingData:"Cargando datos...",notData:"No hay datos para esta categora."},step1:{title:"Nombre del nodo",formLabel:"Tipo de nodo"},step2:{title:"Seleccionar nodo origen",subText1:"Elige una conexin de origen o presion en saltar"},step3:{title:"Buscar Video en YouTube",subText1:"Buscar",subText2:"vistas - hace"},stepFinal:{text1:"Resumen del Nodo",text2:"ndice",text3:"Nombre",text4:"Posicin",text5:"Nodo Origen",text6:"Fecha de subida"}},nodeView:{button1:"Retroceder 5s",button2:"Avanzar 5s",button3:"Pausar",button4:"Reproducir",button5:"Tiempo inicio",button6:"Tiempo final",start:"Inicio",end:"Fin"}},Okt={app:Ckt,components:Rkt},Pkt={en:{translation:Mkt},es:{translation:Okt}};to.use(zvt).init({resources:Pkt,fallbackLng:bm.languageDefault,interpolation:{escapeValue:!1}});ZQ.createRoot(document.getElementById("root")).render(W.jsx(Q.StrictMode,{children:W.jsx(akt,{})}));
