function xY(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function rm(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var eO={exports:{}},n1={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IU;function SY(){if(IU)return n1;IU=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,s){var a=null;if(s!==void 0&&(a=""+s),r.key!==void 0&&(a=""+r.key),"key"in r){s={};for(var o in r)o!=="key"&&(s[o]=r[o])}else s=r;return r=s.ref,{$$typeof:n,type:i,key:a,ref:r!==void 0?r:null,props:s}}return n1.Fragment=e,n1.jsx=t,n1.jsxs=t,n1}var PU;function EY(){return PU||(PU=1,eO.exports=SY()),eO.exports}var Z=EY(),tO={exports:{}},An={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DU;function TY(){if(DU)return An;DU=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),y=Symbol.iterator;function v(K){return K===null||typeof K!="object"?null:(K=y&&K[y]||K["@@iterator"],typeof K=="function"?K:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,E={};function b(K,le,pe){this.props=K,this.context=le,this.refs=E,this.updater=pe||_}b.prototype.isReactComponent={},b.prototype.setState=function(K,le){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,le,"setState")},b.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function w(){}w.prototype=b.prototype;function A(K,le,pe){this.props=K,this.context=le,this.refs=E,this.updater=pe||_}var C=A.prototype=new w;C.constructor=A,S(C,b.prototype),C.isPureReactComponent=!0;var D=Array.isArray;function N(){}var I={H:null,A:null,T:null,S:null},L=Object.prototype.hasOwnProperty;function P(K,le,pe){var ue=pe.ref;return{$$typeof:n,type:K,key:le,ref:ue!==void 0?ue:null,props:pe}}function U(K,le){return P(K.type,le,K.props)}function F(K){return typeof K=="object"&&K!==null&&K.$$typeof===n}function z(K){var le={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(pe){return le[pe]})}var V=/\/+/g;function Y(K,le){return typeof K=="object"&&K!==null&&K.key!=null?z(""+K.key):le.toString(36)}function ee(K){switch(K.status){case"fulfilled":return K.value;case"rejected":throw K.reason;default:switch(typeof K.status=="string"?K.then(N,N):(K.status="pending",K.then(function(le){K.status==="pending"&&(K.status="fulfilled",K.value=le)},function(le){K.status==="pending"&&(K.status="rejected",K.reason=le)})),K.status){case"fulfilled":return K.value;case"rejected":throw K.reason}}throw K}function q(K,le,pe,ue,ie){var de=typeof K;(de==="undefined"||de==="boolean")&&(K=null);var ye=!1;if(K===null)ye=!0;else switch(de){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(K.$$typeof){case n:case e:ye=!0;break;case d:return ye=K._init,q(ye(K._payload),le,pe,ue,ie)}}if(ye)return ie=ie(K),ye=ue===""?"."+Y(K,0):ue,D(ie)?(pe="",ye!=null&&(pe=ye.replace(V,"$&/")+"/"),q(ie,le,pe,"",function(Ge){return Ge})):ie!=null&&(F(ie)&&(ie=U(ie,pe+(ie.key==null||K&&K.key===ie.key?"":(""+ie.key).replace(V,"$&/")+"/")+ye)),le.push(ie)),1;ye=0;var Ve=ue===""?".":ue+":";if(D(K))for(var Xe=0;Xe<K.length;Xe++)ue=K[Xe],de=Ve+Y(ue,Xe),ye+=q(ue,le,pe,de,ie);else if(Xe=v(K),typeof Xe=="function")for(K=Xe.call(K),Xe=0;!(ue=K.next()).done;)ue=ue.value,de=Ve+Y(ue,Xe++),ye+=q(ue,le,pe,de,ie);else if(de==="object"){if(typeof K.then=="function")return q(ee(K),le,pe,ue,ie);throw le=String(K),Error("Objects are not valid as a React child (found: "+(le==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":le)+"). If you meant to render a collection of children, use an array instead.")}return ye}function $(K,le,pe){if(K==null)return K;var ue=[],ie=0;return q(K,ue,"","",function(de){return le.call(pe,de,ie++)}),ue}function Q(K){if(K._status===-1){var le=K._result;le=le(),le.then(function(pe){(K._status===0||K._status===-1)&&(K._status=1,K._result=pe)},function(pe){(K._status===0||K._status===-1)&&(K._status=2,K._result=pe)}),K._status===-1&&(K._status=0,K._result=le)}if(K._status===1)return K._result.default;throw K._result}var se=typeof reportError=="function"?reportError:function(K){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var le=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof K=="object"&&K!==null&&typeof K.message=="string"?String(K.message):String(K),error:K});if(!window.dispatchEvent(le))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",K);return}console.error(K)},fe={map:$,forEach:function(K,le,pe){$(K,function(){le.apply(this,arguments)},pe)},count:function(K){var le=0;return $(K,function(){le++}),le},toArray:function(K){return $(K,function(le){return le})||[]},only:function(K){if(!F(K))throw Error("React.Children.only expected to receive a single React element child.");return K}};return An.Activity=p,An.Children=fe,An.Component=b,An.Fragment=t,An.Profiler=r,An.PureComponent=A,An.StrictMode=i,An.Suspense=l,An.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,An.__COMPILER_RUNTIME={__proto__:null,c:function(K){return I.H.useMemoCache(K)}},An.cache=function(K){return function(){return K.apply(null,arguments)}},An.cacheSignal=function(){return null},An.cloneElement=function(K,le,pe){if(K==null)throw Error("The argument must be a React element, but you passed "+K+".");var ue=S({},K.props),ie=K.key;if(le!=null)for(de in le.key!==void 0&&(ie=""+le.key),le)!L.call(le,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&le.ref===void 0||(ue[de]=le[de]);var de=arguments.length-2;if(de===1)ue.children=pe;else if(1<de){for(var ye=Array(de),Ve=0;Ve<de;Ve++)ye[Ve]=arguments[Ve+2];ue.children=ye}return P(K.type,ie,ue)},An.createContext=function(K){return K={$$typeof:a,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null},K.Provider=K,K.Consumer={$$typeof:s,_context:K},K},An.createElement=function(K,le,pe){var ue,ie={},de=null;if(le!=null)for(ue in le.key!==void 0&&(de=""+le.key),le)L.call(le,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(ie[ue]=le[ue]);var ye=arguments.length-2;if(ye===1)ie.children=pe;else if(1<ye){for(var Ve=Array(ye),Xe=0;Xe<ye;Xe++)Ve[Xe]=arguments[Xe+2];ie.children=Ve}if(K&&K.defaultProps)for(ue in ye=K.defaultProps,ye)ie[ue]===void 0&&(ie[ue]=ye[ue]);return P(K,de,ie)},An.createRef=function(){return{current:null}},An.forwardRef=function(K){return{$$typeof:o,render:K}},An.isValidElement=F,An.lazy=function(K){return{$$typeof:d,_payload:{_status:-1,_result:K},_init:Q}},An.memo=function(K,le){return{$$typeof:u,type:K,compare:le===void 0?null:le}},An.startTransition=function(K){var le=I.T,pe={};I.T=pe;try{var ue=K(),ie=I.S;ie!==null&&ie(pe,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(N,se)}catch(de){se(de)}finally{le!==null&&pe.types!==null&&(le.types=pe.types),I.T=le}},An.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},An.use=function(K){return I.H.use(K)},An.useActionState=function(K,le,pe){return I.H.useActionState(K,le,pe)},An.useCallback=function(K,le){return I.H.useCallback(K,le)},An.useContext=function(K){return I.H.useContext(K)},An.useDebugValue=function(){},An.useDeferredValue=function(K,le){return I.H.useDeferredValue(K,le)},An.useEffect=function(K,le){return I.H.useEffect(K,le)},An.useEffectEvent=function(K){return I.H.useEffectEvent(K)},An.useId=function(){return I.H.useId()},An.useImperativeHandle=function(K,le,pe){return I.H.useImperativeHandle(K,le,pe)},An.useInsertionEffect=function(K,le){return I.H.useInsertionEffect(K,le)},An.useLayoutEffect=function(K,le){return I.H.useLayoutEffect(K,le)},An.useMemo=function(K,le){return I.H.useMemo(K,le)},An.useOptimistic=function(K,le){return I.H.useOptimistic(K,le)},An.useReducer=function(K,le,pe){return I.H.useReducer(K,le,pe)},An.useRef=function(K){return I.H.useRef(K)},An.useState=function(K){return I.H.useState(K)},An.useSyncExternalStore=function(K,le,pe){return I.H.useSyncExternalStore(K,le,pe)},An.useTransition=function(){return I.H.useTransition()},An.version="19.2.3",An}var NU;function E_(){return NU||(NU=1,tO.exports=TY()),tO.exports}var H=E_();const lr=rm(H),P3=xY({__proto__:null,default:lr},[H]);var nO={exports:{}},i1={},iO={exports:{}},rO={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LU;function wY(){return LU||(LU=1,(function(n){function e(q,$){var Q=q.length;q.push($);e:for(;0<Q;){var se=Q-1>>>1,fe=q[se];if(0<r(fe,$))q[se]=$,q[Q]=fe,Q=se;else break e}}function t(q){return q.length===0?null:q[0]}function i(q){if(q.length===0)return null;var $=q[0],Q=q.pop();if(Q!==$){q[0]=Q;e:for(var se=0,fe=q.length,K=fe>>>1;se<K;){var le=2*(se+1)-1,pe=q[le],ue=le+1,ie=q[ue];if(0>r(pe,Q))ue<fe&&0>r(ie,pe)?(q[se]=ie,q[ue]=Q,se=ue):(q[se]=pe,q[le]=Q,se=le);else if(ue<fe&&0>r(ie,Q))q[se]=ie,q[ue]=Q,se=ue;else break e}}return $}function r(q,$){var Q=q.sortIndex-$.sortIndex;return Q!==0?Q:q.id-$.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();n.unstable_now=function(){return a.now()-o}}var l=[],u=[],d=1,p=null,y=3,v=!1,_=!1,S=!1,E=!1,b=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function C(q){for(var $=t(u);$!==null;){if($.callback===null)i(u);else if($.startTime<=q)i(u),$.sortIndex=$.expirationTime,e(l,$);else break;$=t(u)}}function D(q){if(S=!1,C(q),!_)if(t(l)!==null)_=!0,N||(N=!0,z());else{var $=t(u);$!==null&&ee(D,$.startTime-q)}}var N=!1,I=-1,L=5,P=-1;function U(){return E?!0:!(n.unstable_now()-P<L)}function F(){if(E=!1,N){var q=n.unstable_now();P=q;var $=!0;try{e:{_=!1,S&&(S=!1,w(I),I=-1),v=!0;var Q=y;try{t:{for(C(q),p=t(l);p!==null&&!(p.expirationTime>q&&U());){var se=p.callback;if(typeof se=="function"){p.callback=null,y=p.priorityLevel;var fe=se(p.expirationTime<=q);if(q=n.unstable_now(),typeof fe=="function"){p.callback=fe,C(q),$=!0;break t}p===t(l)&&i(l),C(q)}else i(l);p=t(l)}if(p!==null)$=!0;else{var K=t(u);K!==null&&ee(D,K.startTime-q),$=!1}}break e}finally{p=null,y=Q,v=!1}$=void 0}}finally{$?z():N=!1}}}var z;if(typeof A=="function")z=function(){A(F)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,Y=V.port2;V.port1.onmessage=F,z=function(){Y.postMessage(null)}}else z=function(){b(F,0)};function ee(q,$){I=b(function(){q(n.unstable_now())},$)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(q){q.callback=null},n.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<q?Math.floor(1e3/q):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_next=function(q){switch(y){case 1:case 2:case 3:var $=3;break;default:$=y}var Q=y;y=$;try{return q()}finally{y=Q}},n.unstable_requestPaint=function(){E=!0},n.unstable_runWithPriority=function(q,$){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var Q=y;y=q;try{return $()}finally{y=Q}},n.unstable_scheduleCallback=function(q,$,Q){var se=n.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?se+Q:se):Q=se,q){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=Q+fe,q={id:d++,callback:$,priorityLevel:q,startTime:Q,expirationTime:fe,sortIndex:-1},Q>se?(q.sortIndex=Q,e(u,q),t(l)===null&&q===t(u)&&(S?(w(I),I=-1):S=!0,ee(D,Q-se))):(q.sortIndex=fe,e(l,q),_||v||(_=!0,N||(N=!0,z()))),q},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(q){var $=y;return function(){var Q=y;y=$;try{return q.apply(this,arguments)}finally{y=Q}}}})(rO)),rO}var UU;function CY(){return UU||(UU=1,iO.exports=wY()),iO.exports}var sO={exports:{}},ja={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kU;function AY(){if(kU)return ja;kU=1;var n=E_();function e(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function s(l,u,d){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:p==null?null:""+p,children:l,containerInfo:u,implementation:d}}var a=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(l,u){if(l==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return ja.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ja.createPortal=function(l,u){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(e(299));return s(l,u,null,d)},ja.flushSync=function(l){var u=a.T,d=i.p;try{if(a.T=null,i.p=2,l)return l()}finally{a.T=u,i.p=d,i.d.f()}},ja.preconnect=function(l,u){typeof l=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,i.d.C(l,u))},ja.prefetchDNS=function(l){typeof l=="string"&&i.d.D(l)},ja.preinit=function(l,u){if(typeof l=="string"&&u&&typeof u.as=="string"){var d=u.as,p=o(d,u.crossOrigin),y=typeof u.integrity=="string"?u.integrity:void 0,v=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;d==="style"?i.d.S(l,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:p,integrity:y,fetchPriority:v}):d==="script"&&i.d.X(l,{crossOrigin:p,integrity:y,fetchPriority:v,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},ja.preinitModule=function(l,u){if(typeof l=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var d=o(u.as,u.crossOrigin);i.d.M(l,{crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&i.d.M(l)},ja.preload=function(l,u){if(typeof l=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var d=u.as,p=o(d,u.crossOrigin);i.d.L(l,d,{crossOrigin:p,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},ja.preloadModule=function(l,u){if(typeof l=="string")if(u){var d=o(u.as,u.crossOrigin);i.d.m(l,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else i.d.m(l)},ja.requestFormReset=function(l){i.d.r(l)},ja.unstable_batchedUpdates=function(l,u){return l(u)},ja.useFormState=function(l,u,d){return a.H.useFormState(l,u,d)},ja.useFormStatus=function(){return a.H.useHostTransitionStatus()},ja.version="19.2.3",ja}var zU;function _V(){if(zU)return sO.exports;zU=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),sO.exports=AY(),sO.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BU;function MY(){if(BU)return i1;BU=1;var n=CY(),e=E_(),t=_V();function i(c){var h="https://react.dev/errors/"+c;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)h+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+c+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function s(c){var h=c,g=c;if(c.alternate)for(;h.return;)h=h.return;else{c=h;do h=c,(h.flags&4098)!==0&&(g=h.return),c=h.return;while(c)}return h.tag===3?g:null}function a(c){if(c.tag===13){var h=c.memoizedState;if(h===null&&(c=c.alternate,c!==null&&(h=c.memoizedState)),h!==null)return h.dehydrated}return null}function o(c){if(c.tag===31){var h=c.memoizedState;if(h===null&&(c=c.alternate,c!==null&&(h=c.memoizedState)),h!==null)return h.dehydrated}return null}function l(c){if(s(c)!==c)throw Error(i(188))}function u(c){var h=c.alternate;if(!h){if(h=s(c),h===null)throw Error(i(188));return h!==c?null:c}for(var g=c,x=h;;){var R=g.return;if(R===null)break;var k=R.alternate;if(k===null){if(x=R.return,x!==null){g=x;continue}break}if(R.child===k.child){for(k=R.child;k;){if(k===g)return l(R),c;if(k===x)return l(R),h;k=k.sibling}throw Error(i(188))}if(g.return!==x.return)g=R,x=k;else{for(var W=!1,ne=R.child;ne;){if(ne===g){W=!0,g=R,x=k;break}if(ne===x){W=!0,x=R,g=k;break}ne=ne.sibling}if(!W){for(ne=k.child;ne;){if(ne===g){W=!0,g=k,x=R;break}if(ne===x){W=!0,x=k,g=R;break}ne=ne.sibling}if(!W)throw Error(i(189))}}if(g.alternate!==x)throw Error(i(190))}if(g.tag!==3)throw Error(i(188));return g.stateNode.current===g?c:h}function d(c){var h=c.tag;if(h===5||h===26||h===27||h===6)return c;for(c=c.child;c!==null;){if(h=d(c),h!==null)return h;c=c.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),w=Symbol.for("react.consumer"),A=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function z(c){return c===null||typeof c!="object"?null:(c=F&&c[F]||c["@@iterator"],typeof c=="function"?c:null)}var V=Symbol.for("react.client.reference");function Y(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===V?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case S:return"Fragment";case b:return"Profiler";case E:return"StrictMode";case D:return"Suspense";case N:return"SuspenseList";case P:return"Activity"}if(typeof c=="object")switch(c.$$typeof){case _:return"Portal";case A:return c.displayName||"Context";case w:return(c._context.displayName||"Context")+".Consumer";case C:var h=c.render;return c=c.displayName,c||(c=h.displayName||h.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case I:return h=c.displayName||null,h!==null?h:Y(c.type)||"Memo";case L:h=c._payload,c=c._init;try{return Y(c(h))}catch{}}return null}var ee=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},se=[],fe=-1;function K(c){return{current:c}}function le(c){0>fe||(c.current=se[fe],se[fe]=null,fe--)}function pe(c,h){fe++,se[fe]=c.current,c.current=h}var ue=K(null),ie=K(null),de=K(null),ye=K(null);function Ve(c,h){switch(pe(de,h),pe(ie,c),pe(ue,null),h.nodeType){case 9:case 11:c=(c=h.documentElement)&&(c=c.namespaceURI)?eU(c):0;break;default:if(c=h.tagName,h=h.namespaceURI)h=eU(h),c=tU(h,c);else switch(c){case"svg":c=1;break;case"math":c=2;break;default:c=0}}le(ue),pe(ue,c)}function Xe(){le(ue),le(ie),le(de)}function Ge(c){c.memoizedState!==null&&pe(ye,c);var h=ue.current,g=tU(h,c.type);h!==g&&(pe(ie,c),pe(ue,g))}function st(c){ie.current===c&&(le(ue),le(ie)),ye.current===c&&(le(ye),Qb._currentValue=Q)}var lt,mt;function te(c){if(lt===void 0)try{throw Error()}catch(g){var h=g.stack.trim().match(/\n( *(at )?)/);lt=h&&h[1]||"",mt=-1<g.stack.indexOf(`
    at`)?" (<anonymous>)":-1<g.stack.indexOf("@")?"@unknown:0:0":""}return`
`+lt+c+mt}var Oe=!1;function Be(c,h){if(!c||Oe)return"";Oe=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var x={DetermineComponentFrameRoot:function(){try{if(h){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(We){var ke=We}Reflect.construct(c,[],tt)}else{try{tt.call()}catch(We){ke=We}c.call(tt.prototype)}}else{try{throw Error()}catch(We){ke=We}(tt=c())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(We){if(We&&ke&&typeof We.stack=="string")return[We.stack,ke.stack]}return[null,null]}};x.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var R=Object.getOwnPropertyDescriptor(x.DetermineComponentFrameRoot,"name");R&&R.configurable&&Object.defineProperty(x.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var k=x.DetermineComponentFrameRoot(),W=k[0],ne=k[1];if(W&&ne){var ge=W.split(`
`),Pe=ne.split(`
`);for(R=x=0;x<ge.length&&!ge[x].includes("DetermineComponentFrameRoot");)x++;for(;R<Pe.length&&!Pe[R].includes("DetermineComponentFrameRoot");)R++;if(x===ge.length||R===Pe.length)for(x=ge.length-1,R=Pe.length-1;1<=x&&0<=R&&ge[x]!==Pe[R];)R--;for(;1<=x&&0<=R;x--,R--)if(ge[x]!==Pe[R]){if(x!==1||R!==1)do if(x--,R--,0>R||ge[x]!==Pe[R]){var Ye=`
`+ge[x].replace(" at new "," at ");return c.displayName&&Ye.includes("<anonymous>")&&(Ye=Ye.replace("<anonymous>",c.displayName)),Ye}while(1<=x&&0<=R);break}}}finally{Oe=!1,Error.prepareStackTrace=g}return(g=c?c.displayName||c.name:"")?te(g):""}function Ne(c,h){switch(c.tag){case 26:case 27:case 5:return te(c.type);case 16:return te("Lazy");case 13:return c.child!==h&&h!==null?te("Suspense Fallback"):te("Suspense");case 19:return te("SuspenseList");case 0:case 15:return Be(c.type,!1);case 11:return Be(c.type.render,!1);case 1:return Be(c.type,!0);case 31:return te("Activity");default:return""}}function Me(c){try{var h="",g=null;do h+=Ne(c,g),g=c,c=c.return;while(c);return h}catch(x){return`
Error generating stack: `+x.message+`
`+x.stack}}var ut=Object.prototype.hasOwnProperty,qe=n.unstable_scheduleCallback,ae=n.unstable_cancelCallback,J=n.unstable_shouldYield,Se=n.unstable_requestPaint,Ae=n.unstable_now,Ze=n.unstable_getCurrentPriorityLevel,Re=n.unstable_ImmediatePriority,ct=n.unstable_UserBlockingPriority,ht=n.unstable_NormalPriority,Dt=n.unstable_LowPriority,zt=n.unstable_IdlePriority,$e=n.log,pt=n.unstable_setDisableYieldValue,wt=null,At=null;function vt(c){if(typeof $e=="function"&&pt(c),At&&typeof At.setStrictMode=="function")try{At.setStrictMode(wt,c)}catch{}}var jt=Math.clz32?Math.clz32:ve,ot=Math.log,Lt=Math.LN2;function ve(c){return c>>>=0,c===0?32:31-(ot(c)/Lt|0)|0}var gt=256,Fe=262144,Qe=4194304;function xt(c){var h=c&42;if(h!==0)return h;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return c&261888;case 262144:case 524288:case 1048576:case 2097152:return c&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function _t(c,h,g){var x=c.pendingLanes;if(x===0)return 0;var R=0,k=c.suspendedLanes,W=c.pingedLanes;c=c.warmLanes;var ne=x&134217727;return ne!==0?(x=ne&~k,x!==0?R=xt(x):(W&=ne,W!==0?R=xt(W):g||(g=ne&~c,g!==0&&(R=xt(g))))):(ne=x&~k,ne!==0?R=xt(ne):W!==0?R=xt(W):g||(g=x&~c,g!==0&&(R=xt(g)))),R===0?0:h!==0&&h!==R&&(h&k)===0&&(k=R&-R,g=h&-h,k>=g||k===32&&(g&4194048)!==0)?h:R}function Zt(c,h){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&h)===0}function Yn(c,h){switch(c){case 1:case 2:case 4:case 8:case 64:return h+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bt(){var c=Qe;return Qe<<=1,(Qe&62914560)===0&&(Qe=4194304),c}function Qt(c){for(var h=[],g=0;31>g;g++)h.push(c);return h}function St(c,h){c.pendingLanes|=h,h!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function Mt(c,h,g,x,R,k){var W=c.pendingLanes;c.pendingLanes=g,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=g,c.entangledLanes&=g,c.errorRecoveryDisabledLanes&=g,c.shellSuspendCounter=0;var ne=c.entanglements,ge=c.expirationTimes,Pe=c.hiddenUpdates;for(g=W&~g;0<g;){var Ye=31-jt(g),tt=1<<Ye;ne[Ye]=0,ge[Ye]=-1;var ke=Pe[Ye];if(ke!==null)for(Pe[Ye]=null,Ye=0;Ye<ke.length;Ye++){var We=ke[Ye];We!==null&&(We.lane&=-536870913)}g&=~tt}x!==0&&zn(c,x,0),k!==0&&R===0&&c.tag!==0&&(c.suspendedLanes|=k&~(W&~h))}function zn(c,h,g){c.pendingLanes|=h,c.suspendedLanes&=~h;var x=31-jt(h);c.entangledLanes|=h,c.entanglements[x]=c.entanglements[x]|1073741824|g&261930}function _n(c,h){var g=c.entangledLanes|=h;for(c=c.entanglements;g;){var x=31-jt(g),R=1<<x;R&h|c[x]&h&&(c[x]|=h),g&=~R}}function Bn(c,h){var g=h&-h;return g=(g&42)!==0?1:ki(g),(g&(c.suspendedLanes|h))!==0?0:g}function ki(c){switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=128;break;case 268435456:c=134217728;break;default:c=0}return c}function Is(c){return c&=-c,2<c?8<c?(c&134217727)!==0?32:268435456:8:2}function Ki(){var c=$.p;return c!==0?c:(c=window.event,c===void 0?32:TU(c.type))}function jr(c,h){var g=$.p;try{return $.p=c,h()}finally{$.p=g}}var Gr=Math.random().toString(36).slice(2),pn="__reactFiber$"+Gr,pr="__reactProps$"+Gr,oa="__reactContainer$"+Gr,fl="__reactEvents$"+Gr,ro="__reactListeners$"+Gr,gf="__reactHandles$"+Gr,zc="__reactResources$"+Gr,so="__reactMarker$"+Gr;function pl(c){delete c[pn],delete c[pr],delete c[fl],delete c[ro],delete c[gf]}function re(c){var h=c[pn];if(h)return h;for(var g=c.parentNode;g;){if(h=g[oa]||g[pn]){if(g=h.alternate,h.child!==null||g!==null&&g.child!==null)for(c=lU(c);c!==null;){if(g=c[pn])return g;c=lU(c)}return h}c=g,g=c.parentNode}return null}function _e(c){if(c=c[pn]||c[oa]){var h=c.tag;if(h===5||h===6||h===13||h===31||h===26||h===27||h===3)return c}return null}function Le(c){var h=c.tag;if(h===5||h===26||h===27||h===6)return c.stateNode;throw Error(i(33))}function De(c){var h=c[zc];return h||(h=c[zc]={hoistableStyles:new Map,hoistableScripts:new Map}),h}function xe(c){c[so]=!0}var at=new Set,Tt={};function Ct(c,h){Rt(c,h),Rt(c+"Capture",h)}function Rt(c,h){for(Tt[c]=h,c=0;c<h.length;c++)at.add(h[c])}var sn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Jt={},Gt={};function Fn(c){return ut.call(Gt,c)?!0:ut.call(Jt,c)?!1:sn.test(c)?Gt[c]=!0:(Jt[c]=!0,!1)}function Un(c,h,g){if(Fn(h))if(g===null)c.removeAttribute(h);else{switch(typeof g){case"undefined":case"function":case"symbol":c.removeAttribute(h);return;case"boolean":var x=h.toLowerCase().slice(0,5);if(x!=="data-"&&x!=="aria-"){c.removeAttribute(h);return}}c.setAttribute(h,""+g)}}function xi(c,h,g){if(g===null)c.removeAttribute(h);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(h);return}c.setAttribute(h,""+g)}}function $n(c,h,g,x){if(x===null)c.removeAttribute(g);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(g);return}c.setAttributeNS(h,g,""+x)}}function on(c){switch(typeof c){case"bigint":case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function $t(c){var h=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function mr(c,h,g){var x=Object.getOwnPropertyDescriptor(c.constructor.prototype,h);if(!c.hasOwnProperty(h)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var R=x.get,k=x.set;return Object.defineProperty(c,h,{configurable:!0,get:function(){return R.call(this)},set:function(W){g=""+W,k.call(this,W)}}),Object.defineProperty(c,h,{enumerable:x.enumerable}),{getValue:function(){return g},setValue:function(W){g=""+W},stopTracking:function(){c._valueTracker=null,delete c[h]}}}}function qn(c){if(!c._valueTracker){var h=$t(c)?"checked":"value";c._valueTracker=mr(c,h,""+c[h])}}function gs(c){if(!c)return!1;var h=c._valueTracker;if(!h)return!0;var g=h.getValue(),x="";return c&&(x=$t(c)?c.checked?"true":"false":c.value),c=x,c!==g?(h.setValue(c),!0):!1}function la(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}var rr=/[\n"\\]/g;function Mi(c){return c.replace(rr,function(h){return"\\"+h.charCodeAt(0).toString(16)+" "})}function ti(c,h,g,x,R,k,W,ne){c.name="",W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"?c.type=W:c.removeAttribute("type"),h!=null?W==="number"?(h===0&&c.value===""||c.value!=h)&&(c.value=""+on(h)):c.value!==""+on(h)&&(c.value=""+on(h)):W!=="submit"&&W!=="reset"||c.removeAttribute("value"),h!=null?qr(c,W,on(h)):g!=null?qr(c,W,on(g)):x!=null&&c.removeAttribute("value"),R==null&&k!=null&&(c.defaultChecked=!!k),R!=null&&(c.checked=R&&typeof R!="function"&&typeof R!="symbol"),ne!=null&&typeof ne!="function"&&typeof ne!="symbol"&&typeof ne!="boolean"?c.name=""+on(ne):c.removeAttribute("name")}function wr(c,h,g,x,R,k,W,ne){if(k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(c.type=k),h!=null||g!=null){if(!(k!=="submit"&&k!=="reset"||h!=null)){qn(c);return}g=g!=null?""+on(g):"",h=h!=null?""+on(h):g,ne||h===c.value||(c.value=h),c.defaultValue=h}x=x??R,x=typeof x!="function"&&typeof x!="symbol"&&!!x,c.checked=ne?c.checked:!!x,c.defaultChecked=!!x,W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"&&(c.name=W),qn(c)}function qr(c,h,g){h==="number"&&la(c.ownerDocument)===c||c.defaultValue===""+g||(c.defaultValue=""+g)}function un(c,h,g,x){if(c=c.options,h){h={};for(var R=0;R<g.length;R++)h["$"+g[R]]=!0;for(g=0;g<c.length;g++)R=h.hasOwnProperty("$"+c[g].value),c[g].selected!==R&&(c[g].selected=R),R&&x&&(c[g].defaultSelected=!0)}else{for(g=""+on(g),h=null,R=0;R<c.length;R++){if(c[R].value===g){c[R].selected=!0,x&&(c[R].defaultSelected=!0);return}h!==null||c[R].disabled||(h=c[R])}h!==null&&(h.selected=!0)}}function cr(c,h,g){if(h!=null&&(h=""+on(h),h!==c.value&&(c.value=h),g==null)){c.defaultValue!==h&&(c.defaultValue=h);return}c.defaultValue=g!=null?""+on(g):""}function Ps(c,h,g,x){if(h==null){if(x!=null){if(g!=null)throw Error(i(92));if(ee(x)){if(1<x.length)throw Error(i(93));x=x[0]}g=x}g==null&&(g=""),h=g}g=on(h),c.defaultValue=g,x=c.textContent,x===g&&x!==""&&x!==null&&(c.value=x),qn(c)}function Cr(c,h){if(h){var g=c.firstChild;if(g&&g===c.lastChild&&g.nodeType===3){g.nodeValue=h;return}}c.textContent=h}var yf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Mu(c,h,g){var x=h.indexOf("--")===0;g==null||typeof g=="boolean"||g===""?x?c.setProperty(h,""):h==="float"?c.cssFloat="":c[h]="":x?c.setProperty(h,g):typeof g!="number"||g===0||yf.has(h)?h==="float"?c.cssFloat=g:c[h]=(""+g).trim():c[h]=g+"px"}function mm(c,h,g){if(h!=null&&typeof h!="object")throw Error(i(62));if(c=c.style,g!=null){for(var x in g)!g.hasOwnProperty(x)||h!=null&&h.hasOwnProperty(x)||(x.indexOf("--")===0?c.setProperty(x,""):x==="float"?c.cssFloat="":c[x]="");for(var R in h)x=h[R],h.hasOwnProperty(R)&&g[R]!==x&&Mu(c,R,x)}else for(var k in h)h.hasOwnProperty(k)&&Mu(c,k,h[k])}function Vh(c){if(c.indexOf("-")===-1)return!1;switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ry=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Oy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ml(c){return Oy.test(""+c)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":c}function ss(){}var Ru=null;function Hh(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var Wl=null,ca=null;function gm(c){var h=_e(c);if(h&&(c=h.stateNode)){var g=c[pr]||null;e:switch(c=h.stateNode,h.type){case"input":if(ti(c,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name),h=g.name,g.type==="radio"&&h!=null){for(g=c;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll('input[name="'+Mi(""+h)+'"][type="radio"]'),h=0;h<g.length;h++){var x=g[h];if(x!==c&&x.form===c.form){var R=x[pr]||null;if(!R)throw Error(i(90));ti(x,R.value,R.defaultValue,R.defaultValue,R.checked,R.defaultChecked,R.type,R.name)}}for(h=0;h<g.length;h++)x=g[h],x.form===c.form&&gs(x)}break e;case"textarea":cr(c,g.value,g.defaultValue);break e;case"select":h=g.value,h!=null&&un(c,!!g.multiple,h,!1)}}}var vf=!1;function ym(c,h,g){if(vf)return c(h,g);vf=!0;try{var x=c(h);return x}finally{if(vf=!1,(Wl!==null||ca!==null)&&(oe(),Wl&&(h=Wl,c=ca,ca=Wl=null,gm(h),c)))for(h=0;h<c.length;h++)gm(c[h])}}function Vs(c,h){var g=c.stateNode;if(g===null)return null;var x=g[pr]||null;if(x===null)return null;g=x[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(c=c.type,x=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!x;break e;default:c=!1}if(c)return null;if(g&&typeof g!="function")throw Error(i(231,h,typeof g));return g}var ko=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_f=!1;if(ko)try{var $l={};Object.defineProperty($l,"passive",{get:function(){_f=!0}}),window.addEventListener("test",$l,$l),window.removeEventListener("test",$l,$l)}catch{_f=!1}var ao=null,jh=null,Oa=null;function Xl(){if(Oa)return Oa;var c,h=jh,g=h.length,x,R="value"in ao?ao.value:ao.textContent,k=R.length;for(c=0;c<g&&h[c]===R[c];c++);var W=g-c;for(x=1;x<=W&&h[g-x]===R[k-x];x++);return Oa=R.slice(c,1<x?1-x:void 0)}function Yl(c){var h=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&h===13&&(c=13)):c=h,c===10&&(c=13),32<=c||c===13?c:0}function Bc(){return!0}function ji(){return!1}function ys(c){function h(g,x,R,k,W){this._reactName=g,this._targetInst=R,this.type=x,this.nativeEvent=k,this.target=W,this.currentTarget=null;for(var ne in c)c.hasOwnProperty(ne)&&(g=c[ne],this[ne]=g?g(k):k[ne]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?Bc:ji,this.isPropagationStopped=ji,this}return p(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=Bc)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=Bc)},persist:function(){},isPersistent:Bc}),h}var Kl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ou=ys(Kl),Ia=p({},Kl,{view:0,detail:0}),Gh=ys(Ia),Fc,Iu,Hs,Pu=p({},Ia,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zl,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==Hs&&(Hs&&c.type==="mousemove"?(Fc=c.screenX-Hs.screenX,Iu=c.screenY-Hs.screenY):Iu=Fc=0,Hs=c),Fc)},movementY:function(c){return"movementY"in c?c.movementY:Iu}}),Iy=ys(Pu),ur=p({},Pu,{dataTransfer:0}),vm=ys(ur),bf=p({},Ia,{relatedTarget:0}),Vc=ys(bf),_m=p({},Kl,{animationName:0,elapsedTime:0,pseudoElement:0}),qh=ys(_m),Wh=p({},Kl,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),xf=ys(Wh),Du=p({},Kl,{data:0}),Sf=ys(Du),bm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$h={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xm(c){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(c):(c=Xh[c])?!!h[c]:!1}function Zl(){return xm}var Ef=p({},Ia,{key:function(c){if(c.key){var h=bm[c.key]||c.key;if(h!=="Unidentified")return h}return c.type==="keypress"?(c=Yl(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?$h[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zl,charCode:function(c){return c.type==="keypress"?Yl(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?Yl(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),Tf=ys(Ef),Ql=p({},Pu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yh=ys(Ql),Sm=p({},Ia,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zl}),zo=ys(Sm),wf=p({},Kl,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cf=ys(wf),js=p({},Pu,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),gl=ys(js),Bo=p({},Kl,{newState:0,oldState:0}),Jl=ys(Bo),M=[9,13,27,32],j=ko&&"CompositionEvent"in window,X=null;ko&&"documentMode"in document&&(X=document.documentMode);var ce=ko&&"TextEvent"in window&&!X,Ee=ko&&(!j||X&&8<X&&11>=X),je=" ",Et=!1;function pi(c,h){switch(c){case"keyup":return M.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sr(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var On=!1;function Ar(c,h){switch(c){case"compositionend":return sr(h);case"keypress":return h.which!==32?null:(Et=!0,je);case"textInput":return c=h.data,c===je&&Et?null:c;default:return null}}function as(c,h){if(On)return c==="compositionend"||!j&&pi(c,h)?(c=Xl(),Oa=jh=ao=null,On=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return Ee&&h.locale!=="ko"?null:h.data;default:return null}}var Wr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ua(c){var h=c&&c.nodeName&&c.nodeName.toLowerCase();return h==="input"?!!Wr[c.type]:h==="textarea"}function Hc(c,h,g,x){Wl?ca?ca.push(x):ca=[x]:Wl=x,h=aT(h,"onChange"),0<h.length&&(g=new Ou("onChange","change",null,g,x),c.push({event:g,listeners:h}))}var ec=null,Af=null;function $_(c){X4(c,0)}function Mf(c){var h=Le(c);if(gs(h))return c}function X_(c,h){if(c==="change")return h}var Em=!1;if(ko){var Kh;if(ko){var Zi="oninput"in document;if(!Zi){var gE=document.createElement("div");gE.setAttribute("oninput","return;"),Zi=typeof gE.oninput=="function"}Kh=Zi}else Kh=!1;Em=Kh&&(!document.documentMode||9<document.documentMode)}function yE(){ec&&(ec.detachEvent("onpropertychange",Y_),Af=ec=null)}function Y_(c){if(c.propertyName==="value"&&Mf(Af)){var h=[];Hc(h,Af,c,Hh(c)),ym($_,h)}}function Tm(c,h,g){c==="focusin"?(yE(),ec=h,Af=g,ec.attachEvent("onpropertychange",Y_)):c==="focusout"&&yE()}function Nu(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return Mf(Af)}function vE(c,h){if(c==="click")return Mf(h)}function _E(c,h){if(c==="input"||c==="change")return Mf(h)}function Zh(c,h){return c===h&&(c!==0||1/c===1/h)||c!==c&&h!==h}var Qi=typeof Object.is=="function"?Object.is:Zh;function Rf(c,h){if(Qi(c,h))return!0;if(typeof c!="object"||c===null||typeof h!="object"||h===null)return!1;var g=Object.keys(c),x=Object.keys(h);if(g.length!==x.length)return!1;for(x=0;x<g.length;x++){var R=g[x];if(!ut.call(h,R)||!Qi(c[R],h[R]))return!1}return!0}function K_(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function Z_(c,h){var g=K_(c);c=0;for(var x;g;){if(g.nodeType===3){if(x=c+g.textContent.length,c<=h&&x>=h)return{node:g,offset:h-c};c=x}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=K_(g)}}function Py(c,h){return c&&h?c===h?!0:c&&c.nodeType===3?!1:h&&h.nodeType===3?Py(c,h.parentNode):"contains"in c?c.contains(h):c.compareDocumentPosition?!!(c.compareDocumentPosition(h)&16):!1:!1}function Dy(c){c=c!=null&&c.ownerDocument!=null&&c.ownerDocument.defaultView!=null?c.ownerDocument.defaultView:window;for(var h=la(c.document);h instanceof c.HTMLIFrameElement;){try{var g=typeof h.contentWindow.location.href=="string"}catch{g=!1}if(g)c=h.contentWindow;else break;h=la(c.document)}return h}function Of(c){var h=c&&c.nodeName&&c.nodeName.toLowerCase();return h&&(h==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||h==="textarea"||c.contentEditable==="true")}var bE=ko&&"documentMode"in document&&11>=document.documentMode,If=null,Ny=null,Pf=null,oo=!1;function Ly(c,h,g){var x=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;oo||If==null||If!==la(x)||(x=If,"selectionStart"in x&&Of(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),Pf&&Rf(Pf,x)||(Pf=x,x=aT(Ny,"onSelect"),0<x.length&&(h=new Ou("onSelect","select",null,h,g),c.push({event:h,listeners:x}),h.target=If)))}function Lu(c,h){var g={};return g[c.toLowerCase()]=h.toLowerCase(),g["Webkit"+c]="webkit"+h,g["Moz"+c]="moz"+h,g}var Df={animationend:Lu("Animation","AnimationEnd"),animationiteration:Lu("Animation","AnimationIteration"),animationstart:Lu("Animation","AnimationStart"),transitionrun:Lu("Transition","TransitionRun"),transitionstart:Lu("Transition","TransitionStart"),transitioncancel:Lu("Transition","TransitionCancel"),transitionend:Lu("Transition","TransitionEnd")},wm={},ha={};ko&&(ha=document.createElement("div").style,"AnimationEvent"in window||(delete Df.animationend.animation,delete Df.animationiteration.animation,delete Df.animationstart.animation),"TransitionEvent"in window||delete Df.transitionend.transition);function Uu(c){if(wm[c])return wm[c];if(!Df[c])return c;var h=Df[c],g;for(g in h)if(h.hasOwnProperty(g)&&g in ha)return wm[c]=h[g];return c}var Pa=Uu("animationend"),Q_=Uu("animationiteration"),tc=Uu("animationstart"),Nf=Uu("transitionrun"),ku=Uu("transitionstart"),J_=Uu("transitioncancel"),Uy=Uu("transitionend"),jc=new Map,ky="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ky.push("scrollEnd");function Gs(c,h){jc.set(c,h),Ct(h,[c])}var zu=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var h=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(h))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)},vs=[],Qh=0,zy=0;function Bu(){for(var c=Qh,h=zy=Qh=0;h<c;){var g=vs[h];vs[h++]=null;var x=vs[h];vs[h++]=null;var R=vs[h];vs[h++]=null;var k=vs[h];if(vs[h++]=null,x!==null&&R!==null){var W=x.pending;W===null?R.next=R:(R.next=W.next,W.next=R),x.pending=R}k!==0&&By(g,R,k)}}function Cm(c,h,g,x){vs[Qh++]=c,vs[Qh++]=h,vs[Qh++]=g,vs[Qh++]=x,zy|=x,c.lanes|=x,c=c.alternate,c!==null&&(c.lanes|=x)}function Lf(c,h,g,x){return Cm(c,h,g,x),Uf(c)}function Fu(c,h){return Cm(c,null,null,h),Uf(c)}function By(c,h,g){c.lanes|=g;var x=c.alternate;x!==null&&(x.lanes|=g);for(var R=!1,k=c.return;k!==null;)k.childLanes|=g,x=k.alternate,x!==null&&(x.childLanes|=g),k.tag===22&&(c=k.stateNode,c===null||c._visibility&1||(R=!0)),c=k,k=k.return;return c.tag===3?(k=c.stateNode,R&&h!==null&&(R=31-jt(g),c=k.hiddenUpdates,x=c[R],x===null?c[R]=[h]:x.push(h),h.lane=g|536870912),k):null}function Uf(c){if(50<md)throw md=0,gd=null,Error(i(185));for(var h=c.return;h!==null;)c=h,h=c.return;return c.tag===3?c.stateNode:null}var Vu={};function xE(c,h,g,x){this.tag=c,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function da(c,h,g,x){return new xE(c,h,g,x)}function fa(c){return c=c.prototype,!(!c||!c.isReactComponent)}function nc(c,h){var g=c.alternate;return g===null?(g=da(c.tag,h,c.key,c.mode),g.elementType=c.elementType,g.type=c.type,g.stateNode=c.stateNode,g.alternate=c,c.alternate=g):(g.pendingProps=h,g.type=c.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=c.flags&65011712,g.childLanes=c.childLanes,g.lanes=c.lanes,g.child=c.child,g.memoizedProps=c.memoizedProps,g.memoizedState=c.memoizedState,g.updateQueue=c.updateQueue,h=c.dependencies,g.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},g.sibling=c.sibling,g.index=c.index,g.ref=c.ref,g.refCleanup=c.refCleanup,g}function qs(c,h){c.flags&=65011714;var g=c.alternate;return g===null?(c.childLanes=0,c.lanes=h,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=g.childLanes,c.lanes=g.lanes,c.child=g.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=g.memoizedProps,c.memoizedState=g.memoizedState,c.updateQueue=g.updateQueue,c.type=g.type,h=g.dependencies,c.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),c}function Am(c,h,g,x,R,k){var W=0;if(x=c,typeof c=="function")fa(c)&&(W=1);else if(typeof c=="string")W=cY(c,g,ue.current)?26:c==="html"||c==="head"||c==="body"?27:5;else e:switch(c){case P:return c=da(31,g,h,R),c.elementType=P,c.lanes=k,c;case S:return Gc(g.children,R,k,h);case E:W=8,R|=24;break;case b:return c=da(12,g,h,R|2),c.elementType=b,c.lanes=k,c;case D:return c=da(13,g,h,R),c.elementType=D,c.lanes=k,c;case N:return c=da(19,g,h,R),c.elementType=N,c.lanes=k,c;default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case A:W=10;break e;case w:W=9;break e;case C:W=11;break e;case I:W=14;break e;case L:W=16,x=null;break e}W=29,g=Error(i(130,c===null?"null":typeof c,"")),x=null}return h=da(W,g,h,R),h.elementType=c,h.type=x,h.lanes=k,h}function Gc(c,h,g,x){return c=da(7,c,x,h),c.lanes=g,c}function Fy(c,h,g){return c=da(6,c,null,h),c.lanes=g,c}function SE(c){var h=da(18,null,null,0);return h.stateNode=c,h}function yl(c,h,g){return h=da(4,c.children!==null?c.children:[],c.key,h),h.lanes=g,h.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},h}var eb=new WeakMap;function Da(c,h){if(typeof c=="object"&&c!==null){var g=eb.get(c);return g!==void 0?g:(h={value:c,source:h,stack:Me(h)},eb.set(c,h),h)}return{value:c,source:h,stack:Me(h)}}var vl=[],Jh=0,Mm=null,kf=0,lo=[],Na=0,ic=null,rc=1,sc="";function qc(c,h){vl[Jh++]=kf,vl[Jh++]=Mm,Mm=c,kf=h}function tb(c,h,g){lo[Na++]=rc,lo[Na++]=sc,lo[Na++]=ic,ic=c;var x=rc;c=sc;var R=32-jt(x)-1;x&=~(1<<R),g+=1;var k=32-jt(h)+R;if(30<k){var W=R-R%5;k=(x&(1<<W)-1).toString(32),x>>=W,R-=W,rc=1<<32-jt(h)+R|g<<R|x,sc=k+c}else rc=1<<k|g<<R|x,sc=c}function Vy(c){c.return!==null&&(qc(c,1),tb(c,1,0))}function Hu(c){for(;c===Mm;)Mm=vl[--Jh],vl[Jh]=null,kf=vl[--Jh],vl[Jh]=null;for(;c===ic;)ic=lo[--Na],lo[Na]=null,sc=lo[--Na],lo[Na]=null,rc=lo[--Na],lo[Na]=null}function Rm(c,h){lo[Na++]=rc,lo[Na++]=sc,lo[Na++]=ic,rc=h.id,sc=h.overflow,ic=c}var _s=null,Gi=null,Qn=!1,Wc=null,bs=!1,Hy=Error(i(519));function Kn(c){var h=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Om(Da(h,c)),Hy}function jy(c){var h=c.stateNode,g=c.type,x=c.memoizedProps;switch(h[pn]=c,h[pr]=x,g){case"dialog":Jn("cancel",h),Jn("close",h);break;case"iframe":case"object":case"embed":Jn("load",h);break;case"video":case"audio":for(g=0;g<$b.length;g++)Jn($b[g],h);break;case"source":Jn("error",h);break;case"img":case"image":case"link":Jn("error",h),Jn("load",h);break;case"details":Jn("toggle",h);break;case"input":Jn("invalid",h),wr(h,x.value,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name,!0);break;case"select":Jn("invalid",h);break;case"textarea":Jn("invalid",h),Ps(h,x.value,x.defaultValue,x.children)}g=x.children,typeof g!="string"&&typeof g!="number"&&typeof g!="bigint"||h.textContent===""+g||x.suppressHydrationWarning===!0||Q4(h.textContent,g)?(x.popover!=null&&(Jn("beforetoggle",h),Jn("toggle",h)),x.onScroll!=null&&Jn("scroll",h),x.onScrollEnd!=null&&Jn("scrollend",h),x.onClick!=null&&(h.onclick=ss),h=!0):h=!1,h||Kn(c,!0)}function EE(c){for(_s=c.return;_s;)switch(_s.tag){case 5:case 31:case 13:bs=!1;return;case 27:case 3:bs=!0;return;default:_s=_s.return}}function ed(c){if(c!==_s)return!1;if(!Qn)return EE(c),Qn=!0,!1;var h=c.tag,g;if((g=h!==3&&h!==27)&&((g=h===5)&&(g=c.type,g=!(g!=="form"&&g!=="button")||BR(c.type,c.memoizedProps)),g=!g),g&&Gi&&Kn(c),EE(c),h===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(i(317));Gi=oU(c)}else if(h===31){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(i(317));Gi=oU(c)}else h===27?(h=Gi,np(c.type)?(c=GR,GR=null,Gi=c):Gi=h):Gi=_s?gc(c.stateNode.nextSibling):null;return!0}function td(){Gi=_s=null,Qn=!1}function nb(){var c=Wc;return c!==null&&(Zs===null?Zs=c:Zs.push.apply(Zs,c),Wc=null),c}function Om(c){Wc===null?Wc=[c]:Wc.push(c)}var ib=K(null),$c=null,Ws=null;function Xc(c,h,g){pe(ib,h._currentValue),h._currentValue=g}function Fo(c){c._currentValue=ib.current,le(ib)}function Yc(c,h,g){for(;c!==null;){var x=c.alternate;if((c.childLanes&h)!==h?(c.childLanes|=h,x!==null&&(x.childLanes|=h)):x!==null&&(x.childLanes&h)!==h&&(x.childLanes|=h),c===g)break;c=c.return}}function Gy(c,h,g,x){var R=c.child;for(R!==null&&(R.return=c);R!==null;){var k=R.dependencies;if(k!==null){var W=R.child;k=k.firstContext;e:for(;k!==null;){var ne=k;k=R;for(var ge=0;ge<h.length;ge++)if(ne.context===h[ge]){k.lanes|=g,ne=k.alternate,ne!==null&&(ne.lanes|=g),Yc(k.return,g,c),x||(W=null);break e}k=ne.next}}else if(R.tag===18){if(W=R.return,W===null)throw Error(i(341));W.lanes|=g,k=W.alternate,k!==null&&(k.lanes|=g),Yc(W,g,c),W=null}else W=R.child;if(W!==null)W.return=R;else for(W=R;W!==null;){if(W===c){W=null;break}if(R=W.sibling,R!==null){R.return=W.return,W=R;break}W=W.return}R=W}}function ju(c,h,g,x){c=null;for(var R=h,k=!1;R!==null;){if(!k){if((R.flags&524288)!==0)k=!0;else if((R.flags&262144)!==0)break}if(R.tag===10){var W=R.alternate;if(W===null)throw Error(i(387));if(W=W.memoizedProps,W!==null){var ne=R.type;Qi(R.pendingProps.value,W.value)||(c!==null?c.push(ne):c=[ne])}}else if(R===ye.current){if(W=R.alternate,W===null)throw Error(i(387));W.memoizedState.memoizedState!==R.memoizedState.memoizedState&&(c!==null?c.push(Qb):c=[Qb])}R=R.return}c!==null&&Gy(h,c,g,x),h.flags|=262144}function zf(c){for(c=c.firstContext;c!==null;){if(!Qi(c.context._currentValue,c.memoizedValue))return!0;c=c.next}return!1}function nd(c){$c=c,Ws=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function xs(c){return rb($c,c)}function Im(c,h){return $c===null&&nd(c),rb(c,h)}function rb(c,h){var g=h._currentValue;if(h={context:h,memoizedValue:g,next:null},Ws===null){if(c===null)throw Error(i(308));Ws=h,c.dependencies={lanes:0,firstContext:h},c.flags|=524288}else Ws=Ws.next=h;return g}var TE=typeof AbortController<"u"?AbortController:function(){var c=[],h=this.signal={aborted:!1,addEventListener:function(g,x){c.push(x)}};this.abort=function(){h.aborted=!0,c.forEach(function(g){return g()})}},wE=n.unstable_scheduleCallback,sb=n.unstable_NormalPriority,Xt={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ab(){return{controller:new TE,data:new Map,refCount:0}}function Ds(c){c.refCount--,c.refCount===0&&wE(sb,function(){c.controller.abort()})}var id=null,ob=0,Kc=0,_l=null;function Bf(c,h){if(id===null){var g=id=[];ob=0,Kc=OR(),_l={status:"pending",value:void 0,then:function(x){g.push(x)}}}return ob++,h.then(lb,lb),h}function lb(){if(--ob===0&&id!==null){_l!==null&&(_l.status="fulfilled");var c=id;id=null,Kc=0,_l=null;for(var h=0;h<c.length;h++)(0,c[h])()}}function cb(c,h){var g=[],x={status:"pending",value:null,reason:null,then:function(R){g.push(R)}};return c.then(function(){x.status="fulfilled",x.value=h;for(var R=0;R<g.length;R++)(0,g[R])(h)},function(R){for(x.status="rejected",x.reason=R,R=0;R<g.length;R++)(0,g[R])(void 0)}),x}var CE=q.S;q.S=function(c,h){Jf=Ae(),typeof h=="object"&&h!==null&&typeof h.then=="function"&&Bf(c,h),CE!==null&&CE(c,h)};var Gu=K(null);function ac(){var c=Gu.current;return c!==null?c:Ei.pooledCache}function Ff(c,h){h===null?pe(Gu,Gu.current):pe(Gu,h.pool)}function qy(){var c=ac();return c===null?null:{parent:Xt._currentValue,pool:c}}var qu=Error(i(460)),Pm=Error(i(474)),bl=Error(i(542)),Dm={then:function(){}};function AE(c){return c=c.status,c==="fulfilled"||c==="rejected"}function ub(c,h,g){switch(g=c[g],g===void 0?c.push(h):g!==h&&(h.then(ss,ss),h=g),h.status){case"fulfilled":return h.value;case"rejected":throw c=h.reason,hb(c),c;default:if(typeof h.status=="string")h.then(ss,ss);else{if(c=Ei,c!==null&&100<c.shellSuspendCounter)throw Error(i(482));c=h,c.status="pending",c.then(function(x){if(h.status==="pending"){var R=h;R.status="fulfilled",R.value=x}},function(x){if(h.status==="pending"){var R=h;R.status="rejected",R.reason=x}})}switch(h.status){case"fulfilled":return h.value;case"rejected":throw c=h.reason,hb(c),c}throw nn=h,qu}}function rd(c){try{var h=c._init;return h(c._payload)}catch(g){throw g!==null&&typeof g=="object"&&typeof g.then=="function"?(nn=g,qu):g}}var nn=null;function Wy(){if(nn===null)throw Error(i(459));var c=nn;return nn=null,c}function hb(c){if(c===qu||c===bl)throw Error(i(483))}var Wu=null,$u=0;function $y(c){var h=$u;return $u+=1,Wu===null&&(Wu=[]),ub(Wu,c,h)}function Nm(c,h){h=h.props.ref,c.ref=h!==void 0?h:null}function Lm(c,h){throw h.$$typeof===y?Error(i(525)):(c=Object.prototype.toString.call(h),Error(i(31,c==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":c)))}function Vf(c){function h(we,be){if(c){var Ie=we.deletions;Ie===null?(we.deletions=[be],we.flags|=16):Ie.push(be)}}function g(we,be){if(!c)return null;for(;be!==null;)h(we,be),be=be.sibling;return null}function x(we){for(var be=new Map;we!==null;)we.key!==null?be.set(we.key,we):be.set(we.index,we),we=we.sibling;return be}function R(we,be){return we=nc(we,be),we.index=0,we.sibling=null,we}function k(we,be,Ie){return we.index=Ie,c?(Ie=we.alternate,Ie!==null?(Ie=Ie.index,Ie<be?(we.flags|=67108866,be):Ie):(we.flags|=67108866,be)):(we.flags|=1048576,be)}function W(we){return c&&we.alternate===null&&(we.flags|=67108866),we}function ne(we,be,Ie,et){return be===null||be.tag!==6?(be=Fy(Ie,we.mode,et),be.return=we,be):(be=R(be,Ie),be.return=we,be)}function ge(we,be,Ie,et){var en=Ie.type;return en===S?Ye(we,be,Ie.props.children,et,Ie.key):be!==null&&(be.elementType===en||typeof en=="object"&&en!==null&&en.$$typeof===L&&rd(en)===be.type)?(be=R(be,Ie.props),Nm(be,Ie),be.return=we,be):(be=Am(Ie.type,Ie.key,Ie.props,null,we.mode,et),Nm(be,Ie),be.return=we,be)}function Pe(we,be,Ie,et){return be===null||be.tag!==4||be.stateNode.containerInfo!==Ie.containerInfo||be.stateNode.implementation!==Ie.implementation?(be=yl(Ie,we.mode,et),be.return=we,be):(be=R(be,Ie.children||[]),be.return=we,be)}function Ye(we,be,Ie,et,en){return be===null||be.tag!==7?(be=Gc(Ie,we.mode,et,en),be.return=we,be):(be=R(be,Ie),be.return=we,be)}function tt(we,be,Ie){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return be=Fy(""+be,we.mode,Ie),be.return=we,be;if(typeof be=="object"&&be!==null){switch(be.$$typeof){case v:return Ie=Am(be.type,be.key,be.props,null,we.mode,Ie),Nm(Ie,be),Ie.return=we,Ie;case _:return be=yl(be,we.mode,Ie),be.return=we,be;case L:return be=rd(be),tt(we,be,Ie)}if(ee(be)||z(be))return be=Gc(be,we.mode,Ie,null),be.return=we,be;if(typeof be.then=="function")return tt(we,$y(be),Ie);if(be.$$typeof===A)return tt(we,Im(we,be),Ie);Lm(we,be)}return null}function ke(we,be,Ie,et){var en=be!==null?be.key:null;if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number"||typeof Ie=="bigint")return en!==null?null:ne(we,be,""+Ie,et);if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case v:return Ie.key===en?ge(we,be,Ie,et):null;case _:return Ie.key===en?Pe(we,be,Ie,et):null;case L:return Ie=rd(Ie),ke(we,be,Ie,et)}if(ee(Ie)||z(Ie))return en!==null?null:Ye(we,be,Ie,et,null);if(typeof Ie.then=="function")return ke(we,be,$y(Ie),et);if(Ie.$$typeof===A)return ke(we,be,Im(we,Ie),et);Lm(we,Ie)}return null}function We(we,be,Ie,et,en){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return we=we.get(Ie)||null,ne(be,we,""+et,en);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case v:return we=we.get(et.key===null?Ie:et.key)||null,ge(be,we,et,en);case _:return we=we.get(et.key===null?Ie:et.key)||null,Pe(be,we,et,en);case L:return et=rd(et),We(we,be,Ie,et,en)}if(ee(et)||z(et))return we=we.get(Ie)||null,Ye(be,we,et,en,null);if(typeof et.then=="function")return We(we,be,Ie,$y(et),en);if(et.$$typeof===A)return We(we,be,Ie,Im(be,et),en);Lm(be,et)}return null}function Vt(we,be,Ie,et){for(var en=null,wi=null,qt=be,Hn=be=0,ri=null;qt!==null&&Hn<Ie.length;Hn++){qt.index>Hn?(ri=qt,qt=null):ri=qt.sibling;var Ci=ke(we,qt,Ie[Hn],et);if(Ci===null){qt===null&&(qt=ri);break}c&&qt&&Ci.alternate===null&&h(we,qt),be=k(Ci,be,Hn),wi===null?en=Ci:wi.sibling=Ci,wi=Ci,qt=ri}if(Hn===Ie.length)return g(we,qt),Qn&&qc(we,Hn),en;if(qt===null){for(;Hn<Ie.length;Hn++)qt=tt(we,Ie[Hn],et),qt!==null&&(be=k(qt,be,Hn),wi===null?en=qt:wi.sibling=qt,wi=qt);return Qn&&qc(we,Hn),en}for(qt=x(qt);Hn<Ie.length;Hn++)ri=We(qt,we,Hn,Ie[Hn],et),ri!==null&&(c&&ri.alternate!==null&&qt.delete(ri.key===null?Hn:ri.key),be=k(ri,be,Hn),wi===null?en=ri:wi.sibling=ri,wi=ri);return c&&qt.forEach(function(op){return h(we,op)}),Qn&&qc(we,Hn),en}function ln(we,be,Ie,et){if(Ie==null)throw Error(i(151));for(var en=null,wi=null,qt=be,Hn=be=0,ri=null,Ci=Ie.next();qt!==null&&!Ci.done;Hn++,Ci=Ie.next()){qt.index>Hn?(ri=qt,qt=null):ri=qt.sibling;var op=ke(we,qt,Ci.value,et);if(op===null){qt===null&&(qt=ri);break}c&&qt&&op.alternate===null&&h(we,qt),be=k(op,be,Hn),wi===null?en=op:wi.sibling=op,wi=op,qt=ri}if(Ci.done)return g(we,qt),Qn&&qc(we,Hn),en;if(qt===null){for(;!Ci.done;Hn++,Ci=Ie.next())Ci=tt(we,Ci.value,et),Ci!==null&&(be=k(Ci,be,Hn),wi===null?en=Ci:wi.sibling=Ci,wi=Ci);return Qn&&qc(we,Hn),en}for(qt=x(qt);!Ci.done;Hn++,Ci=Ie.next())Ci=We(qt,we,Hn,Ci.value,et),Ci!==null&&(c&&Ci.alternate!==null&&qt.delete(Ci.key===null?Hn:Ci.key),be=k(Ci,be,Hn),wi===null?en=Ci:wi.sibling=Ci,wi=Ci);return c&&qt.forEach(function(bY){return h(we,bY)}),Qn&&qc(we,Hn),en}function $i(we,be,Ie,et){if(typeof Ie=="object"&&Ie!==null&&Ie.type===S&&Ie.key===null&&(Ie=Ie.props.children),typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case v:e:{for(var en=Ie.key;be!==null;){if(be.key===en){if(en=Ie.type,en===S){if(be.tag===7){g(we,be.sibling),et=R(be,Ie.props.children),et.return=we,we=et;break e}}else if(be.elementType===en||typeof en=="object"&&en!==null&&en.$$typeof===L&&rd(en)===be.type){g(we,be.sibling),et=R(be,Ie.props),Nm(et,Ie),et.return=we,we=et;break e}g(we,be);break}else h(we,be);be=be.sibling}Ie.type===S?(et=Gc(Ie.props.children,we.mode,et,Ie.key),et.return=we,we=et):(et=Am(Ie.type,Ie.key,Ie.props,null,we.mode,et),Nm(et,Ie),et.return=we,we=et)}return W(we);case _:e:{for(en=Ie.key;be!==null;){if(be.key===en)if(be.tag===4&&be.stateNode.containerInfo===Ie.containerInfo&&be.stateNode.implementation===Ie.implementation){g(we,be.sibling),et=R(be,Ie.children||[]),et.return=we,we=et;break e}else{g(we,be);break}else h(we,be);be=be.sibling}et=yl(Ie,we.mode,et),et.return=we,we=et}return W(we);case L:return Ie=rd(Ie),$i(we,be,Ie,et)}if(ee(Ie))return Vt(we,be,Ie,et);if(z(Ie)){if(en=z(Ie),typeof en!="function")throw Error(i(150));return Ie=en.call(Ie),ln(we,be,Ie,et)}if(typeof Ie.then=="function")return $i(we,be,$y(Ie),et);if(Ie.$$typeof===A)return $i(we,be,Im(we,Ie),et);Lm(we,Ie)}return typeof Ie=="string"&&Ie!==""||typeof Ie=="number"||typeof Ie=="bigint"?(Ie=""+Ie,be!==null&&be.tag===6?(g(we,be.sibling),et=R(be,Ie),et.return=we,we=et):(g(we,be),et=Fy(Ie,we.mode,et),et.return=we,we=et),W(we)):g(we,be)}return function(we,be,Ie,et){try{$u=0;var en=$i(we,be,Ie,et);return Wu=null,en}catch(qt){if(qt===qu||qt===bl)throw qt;var wi=da(29,qt,null,we.mode);return wi.lanes=et,wi.return=we,wi}finally{}}}var sd=Vf(!0),ME=Vf(!1),Xu=!1;function db(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fb(c,h){c=c.updateQueue,h.updateQueue===c&&(h.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function oc(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function Zc(c,h,g){var x=c.updateQueue;if(x===null)return null;if(x=x.shared,(ni&2)!==0){var R=x.pending;return R===null?h.next=h:(h.next=R.next,R.next=h),x.pending=h,h=Uf(c),By(c,null,g),h}return Cm(c,x,h,g),Uf(c)}function Yu(c,h,g){if(h=h.updateQueue,h!==null&&(h=h.shared,(g&4194048)!==0)){var x=h.lanes;x&=c.pendingLanes,g|=x,h.lanes=g,_n(c,g)}}function Xy(c,h){var g=c.updateQueue,x=c.alternate;if(x!==null&&(x=x.updateQueue,g===x)){var R=null,k=null;if(g=g.firstBaseUpdate,g!==null){do{var W={lane:g.lane,tag:g.tag,payload:g.payload,callback:null,next:null};k===null?R=k=W:k=k.next=W,g=g.next}while(g!==null);k===null?R=k=h:k=k.next=h}else R=k=h;g={baseState:x.baseState,firstBaseUpdate:R,lastBaseUpdate:k,shared:x.shared,callbacks:x.callbacks},c.updateQueue=g;return}c=g.lastBaseUpdate,c===null?g.firstBaseUpdate=h:c.next=h,g.lastBaseUpdate=h}var pb=!1;function Um(){if(pb){var c=_l;if(c!==null)throw c}}function ad(c,h,g,x){pb=!1;var R=c.updateQueue;Xu=!1;var k=R.firstBaseUpdate,W=R.lastBaseUpdate,ne=R.shared.pending;if(ne!==null){R.shared.pending=null;var ge=ne,Pe=ge.next;ge.next=null,W===null?k=Pe:W.next=Pe,W=ge;var Ye=c.alternate;Ye!==null&&(Ye=Ye.updateQueue,ne=Ye.lastBaseUpdate,ne!==W&&(ne===null?Ye.firstBaseUpdate=Pe:ne.next=Pe,Ye.lastBaseUpdate=ge))}if(k!==null){var tt=R.baseState;W=0,Ye=Pe=ge=null,ne=k;do{var ke=ne.lane&-536870913,We=ke!==ne.lane;if(We?(Zn&ke)===ke:(x&ke)===ke){ke!==0&&ke===Kc&&(pb=!0),Ye!==null&&(Ye=Ye.next={lane:0,tag:ne.tag,payload:ne.payload,callback:null,next:null});e:{var Vt=c,ln=ne;ke=h;var $i=g;switch(ln.tag){case 1:if(Vt=ln.payload,typeof Vt=="function"){tt=Vt.call($i,tt,ke);break e}tt=Vt;break e;case 3:Vt.flags=Vt.flags&-65537|128;case 0:if(Vt=ln.payload,ke=typeof Vt=="function"?Vt.call($i,tt,ke):Vt,ke==null)break e;tt=p({},tt,ke);break e;case 2:Xu=!0}}ke=ne.callback,ke!==null&&(c.flags|=64,We&&(c.flags|=8192),We=R.callbacks,We===null?R.callbacks=[ke]:We.push(ke))}else We={lane:ke,tag:ne.tag,payload:ne.payload,callback:ne.callback,next:null},Ye===null?(Pe=Ye=We,ge=tt):Ye=Ye.next=We,W|=ke;if(ne=ne.next,ne===null){if(ne=R.shared.pending,ne===null)break;We=ne,ne=We.next,We.next=null,R.lastBaseUpdate=We,R.shared.pending=null}}while(!0);Ye===null&&(ge=tt),R.baseState=ge,R.firstBaseUpdate=Pe,R.lastBaseUpdate=Ye,k===null&&(R.shared.lanes=0),bo|=W,c.lanes=W,c.memoizedState=tt}}function lc(c,h){if(typeof c!="function")throw Error(i(191,c));c.call(h)}function Ns(c,h){var g=c.callbacks;if(g!==null)for(c.callbacks=null,c=0;c<g.length;c++)lc(g[c],h)}var co=K(null),pa=K(0);function mb(c,h){c=Pr,pe(pa,c),pe(co,h),Pr=c|h.baseLanes}function gb(){pe(pa,Pr),pe(co,co.current)}function $s(){Pr=pa.current,le(co),le(pa)}var os=K(null),Vo=null;function Ku(c){var h=c.alternate;pe(gr,gr.current&1),pe(os,c),Vo===null&&(h===null||co.current!==null||h.memoizedState!==null)&&(Vo=c)}function yb(c){pe(gr,gr.current),pe(os,c),Vo===null&&(Vo=c)}function RE(c){c.tag===22?(pe(gr,gr.current),pe(os,c),Vo===null&&(Vo=c)):Qc()}function Qc(){pe(gr,gr.current),pe(os,os.current)}function uo(c){le(os),Vo===c&&(Vo=null),le(gr)}var gr=K(0);function Yy(c){for(var h=c;h!==null;){if(h.tag===13){var g=h.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||HR(g)||jR(g)))return h}else if(h.tag===19&&(h.memoizedProps.revealOrder==="forwards"||h.memoizedProps.revealOrder==="backwards"||h.memoizedProps.revealOrder==="unstable_legacy-backwards"||h.memoizedProps.revealOrder==="together")){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var La=0,hn=null,Pi=null,$r=null,Ky=!1,cc=!1,od=!1,Zy=0,km=0,uc=null,bR=0;function yr(){throw Error(i(321))}function vb(c,h){if(h===null)return!1;for(var g=0;g<h.length&&g<c.length;g++)if(!Qi(c[g],h[g]))return!1;return!0}function _b(c,h,g,x,R,k){return La=k,hn=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,q.H=c===null||c.memoizedState===null?YE:Gf,od=!1,k=g(x,R),od=!1,cc&&(k=IE(h,g,x,R)),OE(c),k}function OE(c){q.H=Hm;var h=Pi!==null&&Pi.next!==null;if(La=0,$r=Pi=hn=null,Ky=!1,km=0,uc=null,h)throw Error(i(300));c===null||Ji||(c=c.dependencies,c!==null&&zf(c)&&(Ji=!0))}function IE(c,h,g,x){hn=c;var R=0;do{if(cc&&(uc=null),km=0,cc=!1,25<=R)throw Error(i(301));if(R+=1,$r=Pi=null,c.updateQueue!=null){var k=c.updateQueue;k.lastEffect=null,k.events=null,k.stores=null,k.memoCache!=null&&(k.memoCache.index=0)}q.H=jm,k=h(g,x)}while(cc);return k}function xR(){var c=q.H,h=c.useState()[0];return h=typeof h.then=="function"?Bm(h):h,c=c.useState()[0],(Pi!==null?Pi.memoizedState:null)!==c&&(hn.flags|=1024),h}function bb(){var c=Zy!==0;return Zy=0,c}function xb(c,h,g){h.updateQueue=c.updateQueue,h.flags&=-2053,c.lanes&=~g}function Sb(c){if(Ky){for(c=c.memoizedState;c!==null;){var h=c.queue;h!==null&&(h.pending=null),c=c.next}Ky=!1}La=0,$r=Pi=hn=null,cc=!1,km=Zy=0,uc=null}function ma(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $r===null?hn.memoizedState=$r=c:$r=$r.next=c,$r}function Mr(){if(Pi===null){var c=hn.alternate;c=c!==null?c.memoizedState:null}else c=Pi.next;var h=$r===null?hn.memoizedState:$r.next;if(h!==null)$r=h,Pi=c;else{if(c===null)throw hn.alternate===null?Error(i(467)):Error(i(310));Pi=c,c={memoizedState:Pi.memoizedState,baseState:Pi.baseState,baseQueue:Pi.baseQueue,queue:Pi.queue,next:null},$r===null?hn.memoizedState=$r=c:$r=$r.next=c}return $r}function zm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bm(c){var h=km;return km+=1,uc===null&&(uc=[]),c=ub(uc,c,h),h=hn,($r===null?h.memoizedState:$r.next)===null&&(h=h.alternate,q.H=h===null||h.memoizedState===null?YE:Gf),c}function Qy(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return Bm(c);if(c.$$typeof===A)return xs(c)}throw Error(i(438,String(c)))}function Eb(c){var h=null,g=hn.updateQueue;if(g!==null&&(h=g.memoCache),h==null){var x=hn.alternate;x!==null&&(x=x.updateQueue,x!==null&&(x=x.memoCache,x!=null&&(h={data:x.data.map(function(R){return R.slice()}),index:0})))}if(h==null&&(h={data:[],index:0}),g===null&&(g=zm(),hn.updateQueue=g),g.memoCache=h,g=h.data[h.index],g===void 0)for(g=h.data[h.index]=Array(c),x=0;x<c;x++)g[x]=U;return h.index++,g}function Jc(c,h){return typeof h=="function"?h(c):h}function Jy(c){var h=Mr();return Tb(h,Pi,c)}function Tb(c,h,g){var x=c.queue;if(x===null)throw Error(i(311));x.lastRenderedReducer=g;var R=c.baseQueue,k=x.pending;if(k!==null){if(R!==null){var W=R.next;R.next=k.next,k.next=W}h.baseQueue=R=k,x.pending=null}if(k=c.baseState,R===null)c.memoizedState=k;else{h=R.next;var ne=W=null,ge=null,Pe=h,Ye=!1;do{var tt=Pe.lane&-536870913;if(tt!==Pe.lane?(Zn&tt)===tt:(La&tt)===tt){var ke=Pe.revertLane;if(ke===0)ge!==null&&(ge=ge.next={lane:0,revertLane:0,gesture:null,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null}),tt===Kc&&(Ye=!0);else if((La&ke)===ke){Pe=Pe.next,ke===Kc&&(Ye=!0);continue}else tt={lane:0,revertLane:Pe.revertLane,gesture:null,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null},ge===null?(ne=ge=tt,W=k):ge=ge.next=tt,hn.lanes|=ke,bo|=ke;tt=Pe.action,od&&g(k,tt),k=Pe.hasEagerState?Pe.eagerState:g(k,tt)}else ke={lane:tt,revertLane:Pe.revertLane,gesture:Pe.gesture,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null},ge===null?(ne=ge=ke,W=k):ge=ge.next=ke,hn.lanes|=tt,bo|=tt;Pe=Pe.next}while(Pe!==null&&Pe!==h);if(ge===null?W=k:ge.next=ne,!Qi(k,c.memoizedState)&&(Ji=!0,Ye&&(g=_l,g!==null)))throw g;c.memoizedState=k,c.baseState=W,c.baseQueue=ge,x.lastRenderedState=k}return R===null&&(x.lanes=0),[c.memoizedState,x.dispatch]}function ev(c){var h=Mr(),g=h.queue;if(g===null)throw Error(i(311));g.lastRenderedReducer=c;var x=g.dispatch,R=g.pending,k=h.memoizedState;if(R!==null){g.pending=null;var W=R=R.next;do k=c(k,W.action),W=W.next;while(W!==R);Qi(k,h.memoizedState)||(Ji=!0),h.memoizedState=k,h.baseQueue===null&&(h.baseState=k),g.lastRenderedState=k}return[k,x]}function wb(c,h,g){var x=hn,R=Mr(),k=Qn;if(k){if(g===void 0)throw Error(i(407));g=g()}else g=h();var W=!Qi((Pi||R).memoizedState,g);if(W&&(R.memoizedState=g,Ji=!0),R=R.queue,Ob(Ab.bind(null,x,R,c),[c]),R.getSnapshot!==h||W||$r!==null&&$r.memoizedState.tag&1){if(x.flags|=2048,Hf(9,{destroy:void 0},Cb.bind(null,x,R,g,h),null),Ei===null)throw Error(i(349));k||(La&127)!==0||PE(x,h,g)}return g}function PE(c,h,g){c.flags|=16384,c={getSnapshot:h,value:g},h=hn.updateQueue,h===null?(h=zm(),hn.updateQueue=h,h.stores=[c]):(g=h.stores,g===null?h.stores=[c]:g.push(c))}function Cb(c,h,g,x){h.value=g,h.getSnapshot=x,Mb(h)&&tv(c)}function Ab(c,h,g){return g(function(){Mb(h)&&tv(c)})}function Mb(c){var h=c.getSnapshot;c=c.value;try{var g=h();return!Qi(c,g)}catch{return!0}}function tv(c){var h=Fu(c,2);h!==null&&m(h,c,2)}function Fm(c){var h=ma();if(typeof c=="function"){var g=c;if(c=g(),od){vt(!0);try{g()}finally{vt(!1)}}}return h.memoizedState=h.baseState=c,h.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jc,lastRenderedState:c},h}function DE(c,h,g,x){return c.baseState=g,Tb(c,Pi,typeof x=="function"?x:Jc)}function SR(c,h,g,x,R){if(eu(c))throw Error(i(485));if(c=h.action,c!==null){var k={payload:R,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(W){k.listeners.push(W)}};q.T!==null?g(!0):k.isTransition=!1,x(k),g=h.pending,g===null?(k.next=h.pending=k,NE(h,k)):(k.next=g.next,h.pending=g.next=k)}}function NE(c,h){var g=h.action,x=h.payload,R=c.state;if(h.isTransition){var k=q.T,W={};q.T=W;try{var ne=g(R,x),ge=q.S;ge!==null&&ge(W,ne),LE(c,h,ne)}catch(Pe){nv(c,h,Pe)}finally{k!==null&&W.types!==null&&(k.types=W.types),q.T=k}}else try{k=g(R,x),LE(c,h,k)}catch(Pe){nv(c,h,Pe)}}function LE(c,h,g){g!==null&&typeof g=="object"&&typeof g.then=="function"?g.then(function(x){Rb(c,h,x)},function(x){return nv(c,h,x)}):Rb(c,h,g)}function Rb(c,h,g){h.status="fulfilled",h.value=g,UE(h),c.state=g,h=c.pending,h!==null&&(g=h.next,g===h?c.pending=null:(g=g.next,h.next=g,NE(c,g)))}function nv(c,h,g){var x=c.pending;if(c.pending=null,x!==null){x=x.next;do h.status="rejected",h.reason=g,UE(h),h=h.next;while(h!==x)}c.action=null}function UE(c){c=c.listeners;for(var h=0;h<c.length;h++)(0,c[h])()}function kE(c,h){return h}function zE(c,h){if(Qn){var g=Ei.formState;if(g!==null){e:{var x=hn;if(Qn){if(Gi){t:{for(var R=Gi,k=bs;R.nodeType!==8;){if(!k){R=null;break t}if(R=gc(R.nextSibling),R===null){R=null;break t}}k=R.data,R=k==="F!"||k==="F"?R:null}if(R){Gi=gc(R.nextSibling),x=R.data==="F!";break e}}Kn(x)}x=!1}x&&(h=g[0])}}return g=ma(),g.memoizedState=g.baseState=h,x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kE,lastRenderedState:h},g.queue=x,g=XE.bind(null,hn,x),x.dispatch=g,x=Fm(!1),k=Vm.bind(null,hn,!1,x.queue),x=ma(),R={state:h,dispatch:null,action:c,pending:null},x.queue=R,g=SR.bind(null,hn,R,k,g),R.dispatch=g,x.memoizedState=c,[h,g,!1]}function BE(c){var h=Mr();return FE(h,Pi,c)}function FE(c,h,g){if(h=Tb(c,h,kE)[0],c=Jy(Jc)[0],typeof h=="object"&&h!==null&&typeof h.then=="function")try{var x=Bm(h)}catch(W){throw W===qu?bl:W}else x=h;h=Mr();var R=h.queue,k=R.dispatch;return g!==h.memoizedState&&(hn.flags|=2048,Hf(9,{destroy:void 0},ER.bind(null,R,g),null)),[x,k,c]}function ER(c,h){c.action=h}function VE(c){var h=Mr(),g=Pi;if(g!==null)return FE(h,g,c);Mr(),h=h.memoizedState,g=Mr();var x=g.queue.dispatch;return g.memoizedState=c,[h,x,!1]}function Hf(c,h,g,x){return c={tag:c,create:g,deps:x,inst:h,next:null},h=hn.updateQueue,h===null&&(h=zm(),hn.updateQueue=h),g=h.lastEffect,g===null?h.lastEffect=c.next=c:(x=g.next,g.next=c,c.next=x,h.lastEffect=c),c}function HE(){return Mr().memoizedState}function iv(c,h,g,x){var R=ma();hn.flags|=c,R.memoizedState=Hf(1|h,{destroy:void 0},g,x===void 0?null:x)}function rv(c,h,g,x){var R=Mr();x=x===void 0?null:x;var k=R.memoizedState.inst;Pi!==null&&x!==null&&vb(x,Pi.memoizedState.deps)?R.memoizedState=Hf(h,k,g,x):(hn.flags|=c,R.memoizedState=Hf(1|h,k,g,x))}function jE(c,h){iv(8390656,8,c,h)}function Ob(c,h){rv(2048,8,c,h)}function GE(c){hn.flags|=4;var h=hn.updateQueue;if(h===null)h=zm(),hn.updateQueue=h,h.events=[c];else{var g=h.events;g===null?h.events=[c]:g.push(c)}}function qE(c){var h=Mr().memoizedState;return GE({ref:h,nextImpl:c}),function(){if((ni&2)!==0)throw Error(i(440));return h.impl.apply(void 0,arguments)}}function WE(c,h){return rv(4,2,c,h)}function ho(c,h){return rv(4,4,c,h)}function Ib(c,h){if(typeof h=="function"){c=c();var g=h(c);return function(){typeof g=="function"?g():h(null)}}if(h!=null)return c=c(),h.current=c,function(){h.current=null}}function sv(c,h,g){g=g!=null?g.concat([c]):null,rv(4,4,Ib.bind(null,h,c),g)}function av(){}function Pb(c,h){var g=Mr();h=h===void 0?null:h;var x=g.memoizedState;return h!==null&&vb(h,x[1])?x[0]:(g.memoizedState=[c,h],c)}function Db(c,h){var g=Mr();h=h===void 0?null:h;var x=g.memoizedState;if(h!==null&&vb(h,x[1]))return x[0];if(x=c(),od){vt(!0);try{c()}finally{vt(!1)}}return g.memoizedState=[x,h],x}function Nb(c,h,g){return g===void 0||(La&1073741824)!==0&&(Zn&261930)===0?c.memoizedState=h:(c.memoizedState=g,c=f(),hn.lanes|=c,bo|=c,g)}function Lb(c,h,g,x){return Qi(g,h)?g:co.current!==null?(c=Nb(c,g,x),Qi(c,h)||(Ji=!0),c):(La&42)===0||(La&1073741824)!==0&&(Zn&261930)===0?(Ji=!0,c.memoizedState=g):(c=f(),hn.lanes|=c,bo|=c,h)}function Ub(c,h,g,x,R){var k=$.p;$.p=k!==0&&8>k?k:8;var W=q.T,ne={};q.T=ne,Vm(c,!1,h,g);try{var ge=R(),Pe=q.S;if(Pe!==null&&Pe(ne,ge),ge!==null&&typeof ge=="object"&&typeof ge.then=="function"){var Ye=cb(ge,x);jf(c,h,Ye,ya(c))}else jf(c,h,x,ya(c))}catch(tt){jf(c,h,{then:function(){},status:"rejected",reason:tt},ya())}finally{$.p=k,W!==null&&ne.types!==null&&(W.types=ne.types),q.T=W}}function TR(){}function kb(c,h,g,x){if(c.tag!==5)throw Error(i(476));var R=$E(c).queue;Ub(c,R,h,Q,g===null?TR:function(){return zb(c),g(x)})}function $E(c){var h=c.memoizedState;if(h!==null)return h;h={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jc,lastRenderedState:Q},next:null};var g={};return h.next={memoizedState:g,baseState:g,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jc,lastRenderedState:g},next:null},c.memoizedState=h,c=c.alternate,c!==null&&(c.memoizedState=h),h}function zb(c){var h=$E(c);h.next===null&&(h=c.alternate.memoizedState),jf(c,h.next.queue,{},ya())}function Bb(){return xs(Qb)}function Ls(){return Mr().memoizedState}function Fb(){return Mr().memoizedState}function wR(c){for(var h=c.return;h!==null;){switch(h.tag){case 24:case 3:var g=ya();c=oc(g);var x=Zc(h,c,g);x!==null&&(m(x,h,g),Yu(x,h,g)),h={cache:ab()},c.payload=h;return}h=h.return}}function CR(c,h,g){var x=ya();g={lane:x,revertLane:0,gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},eu(c)?ld(h,g):(g=Lf(c,h,g,x),g!==null&&(m(g,c,x),Ua(g,h,x)))}function XE(c,h,g){var x=ya();jf(c,h,g,x)}function jf(c,h,g,x){var R={lane:x,revertLane:0,gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null};if(eu(c))ld(h,R);else{var k=c.alternate;if(c.lanes===0&&(k===null||k.lanes===0)&&(k=h.lastRenderedReducer,k!==null))try{var W=h.lastRenderedState,ne=k(W,g);if(R.hasEagerState=!0,R.eagerState=ne,Qi(ne,W))return Cm(c,h,R,0),Ei===null&&Bu(),!1}catch{}finally{}if(g=Lf(c,h,R,x),g!==null)return m(g,c,x),Ua(g,h,x),!0}return!1}function Vm(c,h,g,x){if(x={lane:2,revertLane:OR(),gesture:null,action:x,hasEagerState:!1,eagerState:null,next:null},eu(c)){if(h)throw Error(i(479))}else h=Lf(c,g,x,2),h!==null&&m(h,c,2)}function eu(c){var h=c.alternate;return c===hn||h!==null&&h===hn}function ld(c,h){cc=Ky=!0;var g=c.pending;g===null?h.next=h:(h.next=g.next,g.next=h),c.pending=h}function Ua(c,h,g){if((g&4194048)!==0){var x=h.lanes;x&=c.pendingLanes,g|=x,h.lanes=g,_n(c,g)}}var Hm={readContext:xs,use:Qy,useCallback:yr,useContext:yr,useEffect:yr,useImperativeHandle:yr,useLayoutEffect:yr,useInsertionEffect:yr,useMemo:yr,useReducer:yr,useRef:yr,useState:yr,useDebugValue:yr,useDeferredValue:yr,useTransition:yr,useSyncExternalStore:yr,useId:yr,useHostTransitionStatus:yr,useFormState:yr,useActionState:yr,useOptimistic:yr,useMemoCache:yr,useCacheRefresh:yr};Hm.useEffectEvent=yr;var YE={readContext:xs,use:Qy,useCallback:function(c,h){return ma().memoizedState=[c,h===void 0?null:h],c},useContext:xs,useEffect:jE,useImperativeHandle:function(c,h,g){g=g!=null?g.concat([c]):null,iv(4194308,4,Ib.bind(null,h,c),g)},useLayoutEffect:function(c,h){return iv(4194308,4,c,h)},useInsertionEffect:function(c,h){iv(4,2,c,h)},useMemo:function(c,h){var g=ma();h=h===void 0?null:h;var x=c();if(od){vt(!0);try{c()}finally{vt(!1)}}return g.memoizedState=[x,h],x},useReducer:function(c,h,g){var x=ma();if(g!==void 0){var R=g(h);if(od){vt(!0);try{g(h)}finally{vt(!1)}}}else R=h;return x.memoizedState=x.baseState=R,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:R},x.queue=c,c=c.dispatch=CR.bind(null,hn,c),[x.memoizedState,c]},useRef:function(c){var h=ma();return c={current:c},h.memoizedState=c},useState:function(c){c=Fm(c);var h=c.queue,g=XE.bind(null,hn,h);return h.dispatch=g,[c.memoizedState,g]},useDebugValue:av,useDeferredValue:function(c,h){var g=ma();return Nb(g,c,h)},useTransition:function(){var c=Fm(!1);return c=Ub.bind(null,hn,c.queue,!0,!1),ma().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,h,g){var x=hn,R=ma();if(Qn){if(g===void 0)throw Error(i(407));g=g()}else{if(g=h(),Ei===null)throw Error(i(349));(Zn&127)!==0||PE(x,h,g)}R.memoizedState=g;var k={value:g,getSnapshot:h};return R.queue=k,jE(Ab.bind(null,x,k,c),[c]),x.flags|=2048,Hf(9,{destroy:void 0},Cb.bind(null,x,k,g,h),null),g},useId:function(){var c=ma(),h=Ei.identifierPrefix;if(Qn){var g=sc,x=rc;g=(x&~(1<<32-jt(x)-1)).toString(32)+g,h="_"+h+"R_"+g,g=Zy++,0<g&&(h+="H"+g.toString(32)),h+="_"}else g=bR++,h="_"+h+"r_"+g.toString(32)+"_";return c.memoizedState=h},useHostTransitionStatus:Bb,useFormState:zE,useActionState:zE,useOptimistic:function(c){var h=ma();h.memoizedState=h.baseState=c;var g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return h.queue=g,h=Vm.bind(null,hn,!0,g),g.dispatch=h,[c,h]},useMemoCache:Eb,useCacheRefresh:function(){return ma().memoizedState=wR.bind(null,hn)},useEffectEvent:function(c){var h=ma(),g={impl:c};return h.memoizedState=g,function(){if((ni&2)!==0)throw Error(i(440));return g.impl.apply(void 0,arguments)}}},Gf={readContext:xs,use:Qy,useCallback:Pb,useContext:xs,useEffect:Ob,useImperativeHandle:sv,useInsertionEffect:WE,useLayoutEffect:ho,useMemo:Db,useReducer:Jy,useRef:HE,useState:function(){return Jy(Jc)},useDebugValue:av,useDeferredValue:function(c,h){var g=Mr();return Lb(g,Pi.memoizedState,c,h)},useTransition:function(){var c=Jy(Jc)[0],h=Mr().memoizedState;return[typeof c=="boolean"?c:Bm(c),h]},useSyncExternalStore:wb,useId:Ls,useHostTransitionStatus:Bb,useFormState:BE,useActionState:BE,useOptimistic:function(c,h){var g=Mr();return DE(g,Pi,c,h)},useMemoCache:Eb,useCacheRefresh:Fb};Gf.useEffectEvent=qE;var jm={readContext:xs,use:Qy,useCallback:Pb,useContext:xs,useEffect:Ob,useImperativeHandle:sv,useInsertionEffect:WE,useLayoutEffect:ho,useMemo:Db,useReducer:ev,useRef:HE,useState:function(){return ev(Jc)},useDebugValue:av,useDeferredValue:function(c,h){var g=Mr();return Pi===null?Nb(g,c,h):Lb(g,Pi.memoizedState,c,h)},useTransition:function(){var c=ev(Jc)[0],h=Mr().memoizedState;return[typeof c=="boolean"?c:Bm(c),h]},useSyncExternalStore:wb,useId:Ls,useHostTransitionStatus:Bb,useFormState:VE,useActionState:VE,useOptimistic:function(c,h){var g=Mr();return Pi!==null?DE(g,Pi,c,h):(g.baseState=c,[c,g.queue.dispatch])},useMemoCache:Eb,useCacheRefresh:Fb};jm.useEffectEvent=qE;function qf(c,h,g,x){h=c.memoizedState,g=g(x,h),g=g==null?h:p({},h,g),c.memoizedState=g,c.lanes===0&&(c.updateQueue.baseState=g)}var Gm={enqueueSetState:function(c,h,g){c=c._reactInternals;var x=ya(),R=oc(x);R.payload=h,g!=null&&(R.callback=g),h=Zc(c,R,x),h!==null&&(m(h,c,x),Yu(h,c,x))},enqueueReplaceState:function(c,h,g){c=c._reactInternals;var x=ya(),R=oc(x);R.tag=1,R.payload=h,g!=null&&(R.callback=g),h=Zc(c,R,x),h!==null&&(m(h,c,x),Yu(h,c,x))},enqueueForceUpdate:function(c,h){c=c._reactInternals;var g=ya(),x=oc(g);x.tag=2,h!=null&&(x.callback=h),h=Zc(c,x,g),h!==null&&(m(h,c,g),Yu(h,c,g))}};function KE(c,h,g,x,R,k,W){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(x,k,W):h.prototype&&h.prototype.isPureReactComponent?!Rf(g,x)||!Rf(R,k):!0}function ZE(c,h,g,x){c=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(g,x),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(g,x),h.state!==c&&Gm.enqueueReplaceState(h,h.state,null)}function Us(c,h){var g=h;if("ref"in h){g={};for(var x in h)x!=="ref"&&(g[x]=h[x])}if(c=c.defaultProps){g===h&&(g=p({},g));for(var R in c)g[R]===void 0&&(g[R]=c[R])}return g}function Vb(c){zu(c)}function QE(c){console.error(c)}function ov(c){zu(c)}function lv(c,h){try{var g=c.onUncaughtError;g(h.value,{componentStack:h.stack})}catch(x){setTimeout(function(){throw x})}}function JE(c,h,g){try{var x=c.onCaughtError;x(g.value,{componentStack:g.stack,errorBoundary:h.tag===1?h.stateNode:null})}catch(R){setTimeout(function(){throw R})}}function Hb(c,h,g){return g=oc(g),g.tag=3,g.payload={element:null},g.callback=function(){lv(c,h)},g}function Wf(c){return c=oc(c),c.tag=3,c}function ka(c,h,g,x){var R=g.type.getDerivedStateFromError;if(typeof R=="function"){var k=x.value;c.payload=function(){return R(k)},c.callback=function(){JE(h,g,x)}}var W=g.stateNode;W!==null&&typeof W.componentDidCatch=="function"&&(c.callback=function(){JE(h,g,x),typeof R!="function"&&(mc===null?mc=new Set([this]):mc.add(this));var ne=x.stack;this.componentDidCatch(x.value,{componentStack:ne!==null?ne:""})})}function fo(c,h,g,x,R){if(g.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){if(h=g.alternate,h!==null&&ju(h,g,R,!0),g=os.current,g!==null){switch(g.tag){case 31:case 13:return Vo===null?bn():g.alternate===null&&Ti===0&&(Ti=3),g.flags&=-257,g.flags|=65536,g.lanes=R,x===Dm?g.flags|=16384:(h=g.updateQueue,h===null?g.updateQueue=new Set([x]):h.add(x),AR(c,x,R)),!1;case 22:return g.flags|=65536,x===Dm?g.flags|=16384:(h=g.updateQueue,h===null?(h={transitions:null,markerInstances:null,retryQueue:new Set([x])},g.updateQueue=h):(g=h.retryQueue,g===null?h.retryQueue=new Set([x]):g.add(x)),AR(c,x,R)),!1}throw Error(i(435,g.tag))}return AR(c,x,R),bn(),!1}if(Qn)return h=os.current,h!==null?((h.flags&65536)===0&&(h.flags|=256),h.flags|=65536,h.lanes=R,x!==Hy&&(c=Error(i(422),{cause:x}),Om(Da(c,g)))):(x!==Hy&&(h=Error(i(423),{cause:x}),Om(Da(h,g))),c=c.current.alternate,c.flags|=65536,R&=-R,c.lanes|=R,x=Da(x,g),R=Hb(c.stateNode,x,R),Xy(c,R),Ti!==4&&(Ti=2)),!1;var k=Error(i(520),{cause:x});if(k=Da(k,g),wl===null?wl=[k]:wl.push(k),Ti!==4&&(Ti=2),h===null)return!0;x=Da(x,g),g=h;do{switch(g.tag){case 3:return g.flags|=65536,c=R&-R,g.lanes|=c,c=Hb(g.stateNode,x,c),Xy(g,c),!1;case 1:if(h=g.type,k=g.stateNode,(g.flags&128)===0&&(typeof h.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(mc===null||!mc.has(k))))return g.flags|=65536,R&=-R,g.lanes|=R,R=Wf(R),ka(R,c,g,x),Xy(g,R),!1}g=g.return}while(g!==null);return!1}var cv=Error(i(461)),Ji=!1;function vr(c,h,g,x){h.child=c===null?ME(h,null,g,x):sd(h,c.child,g,x)}function qm(c,h,g,x,R){g=g.render;var k=h.ref;if("ref"in x){var W={};for(var ne in x)ne!=="ref"&&(W[ne]=x[ne])}else W=x;return nd(h),x=_b(c,h,g,W,k,R),ne=bb(),c!==null&&!Ji?(xb(c,h,R),El(c,h,R)):(Qn&&ne&&Vy(h),h.flags|=1,vr(c,h,x,R),h.child)}function Wm(c,h,g,x,R){if(c===null){var k=g.type;return typeof k=="function"&&!fa(k)&&k.defaultProps===void 0&&g.compare===null?(h.tag=15,h.type=k,po(c,h,k,x,R)):(c=Am(g.type,null,x,h,h.mode,R),c.ref=h.ref,c.return=h,h.child=c)}if(k=c.child,!Qu(c,R)){var W=k.memoizedProps;if(g=g.compare,g=g!==null?g:Rf,g(W,x)&&c.ref===h.ref)return El(c,h,R)}return h.flags|=1,c=nc(k,x),c.ref=h.ref,c.return=h,h.child=c}function po(c,h,g,x,R){if(c!==null){var k=c.memoizedProps;if(Rf(k,x)&&c.ref===h.ref)if(Ji=!1,h.pendingProps=x=k,Qu(c,R))(c.flags&131072)!==0&&(Ji=!0);else return h.lanes=c.lanes,El(c,h,R)}return $f(c,h,g,x,R)}function mo(c,h,g,x){var R=x.children,k=c!==null?c.memoizedState:null;if(c===null&&h.stateNode===null&&(h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),x.mode==="hidden"){if((h.flags&128)!==0){if(k=k!==null?k.baseLanes|g:g,c!==null){for(x=h.child=c.child,R=0;x!==null;)R=R|x.lanes|x.childLanes,x=x.sibling;x=R&~k}else x=0,h.child=null;return hc(c,h,k,g,x)}if((g&536870912)!==0)h.memoizedState={baseLanes:0,cachePool:null},c!==null&&Ff(h,k!==null?k.cachePool:null),k!==null?mb(h,k):gb(),RE(h);else return x=h.lanes=536870912,hc(c,h,k!==null?k.baseLanes|g:g,g,x)}else k!==null?(Ff(h,k.cachePool),mb(h,k),Qc(),h.memoizedState=null):(c!==null&&Ff(h,null),gb(),Qc());return vr(c,h,R,g),h.child}function xl(c,h){return c!==null&&c.tag===22||h.stateNode!==null||(h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.sibling}function hc(c,h,g,x,R){var k=ac();return k=k===null?null:{parent:Xt._currentValue,pool:k},h.memoizedState={baseLanes:g,cachePool:k},c!==null&&Ff(h,null),gb(),RE(h),c!==null&&ju(c,h,x,!0),h.childLanes=R,null}function Ho(c,h){return h=Xf({mode:h.mode,children:h.children},c.mode),h.ref=c.ref,c.child=h,h.return=c,h}function Ss(c,h,g){return sd(h,c.child,null,g),c=Ho(h,h.pendingProps),c.flags|=2,uo(h),h.memoizedState=null,c}function $m(c,h,g){var x=h.pendingProps,R=(h.flags&128)!==0;if(h.flags&=-129,c===null){if(Qn){if(x.mode==="hidden")return c=Ho(h,x),h.lanes=536870912,xl(null,c);if(yb(h),(c=Gi)?(c=aU(c,bs),c=c!==null&&c.data==="&"?c:null,c!==null&&(h.memoizedState={dehydrated:c,treeContext:ic!==null?{id:rc,overflow:sc}:null,retryLane:536870912,hydrationErrors:null},g=SE(c),g.return=h,h.child=g,_s=h,Gi=null)):c=null,c===null)throw Kn(h);return h.lanes=536870912,null}return Ho(h,x)}var k=c.memoizedState;if(k!==null){var W=k.dehydrated;if(yb(h),R)if(h.flags&256)h.flags&=-257,h=Ss(c,h,g);else if(h.memoizedState!==null)h.child=c.child,h.flags|=128,h=null;else throw Error(i(558));else if(Ji||ju(c,h,g,!1),R=(g&c.childLanes)!==0,Ji||R){if(x=Ei,x!==null&&(W=Bn(x,g),W!==0&&W!==k.retryLane))throw k.retryLane=W,Fu(c,W),m(x,c,W),cv;bn(),h=Ss(c,h,g)}else c=k.treeContext,Gi=gc(W.nextSibling),_s=h,Qn=!0,Wc=null,bs=!1,c!==null&&Rm(h,c),h=Ho(h,x),h.flags|=4096;return h}return c=nc(c.child,{mode:x.mode,children:x.children}),c.ref=h.ref,h.child=c,c.return=h,c}function Sl(c,h){var g=h.ref;if(g===null)c!==null&&c.ref!==null&&(h.flags|=4194816);else{if(typeof g!="function"&&typeof g!="object")throw Error(i(284));(c===null||c.ref!==g)&&(h.flags|=4194816)}}function $f(c,h,g,x,R){return nd(h),g=_b(c,h,g,x,void 0,R),x=bb(),c!==null&&!Ji?(xb(c,h,R),El(c,h,R)):(Qn&&x&&Vy(h),h.flags|=1,vr(c,h,g,R),h.child)}function Xs(c,h,g,x,R,k){return nd(h),h.updateQueue=null,g=IE(h,x,g,R),OE(c),x=bb(),c!==null&&!Ji?(xb(c,h,k),El(c,h,k)):(Qn&&x&&Vy(h),h.flags|=1,vr(c,h,g,k),h.child)}function ks(c,h,g,x,R){if(nd(h),h.stateNode===null){var k=Vu,W=g.contextType;typeof W=="object"&&W!==null&&(k=xs(W)),k=new g(x,k),h.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,k.updater=Gm,h.stateNode=k,k._reactInternals=h,k=h.stateNode,k.props=x,k.state=h.memoizedState,k.refs={},db(h),W=g.contextType,k.context=typeof W=="object"&&W!==null?xs(W):Vu,k.state=h.memoizedState,W=g.getDerivedStateFromProps,typeof W=="function"&&(qf(h,g,W,x),k.state=h.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(W=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),W!==k.state&&Gm.enqueueReplaceState(k,k.state,null),ad(h,x,k,R),Um(),k.state=h.memoizedState),typeof k.componentDidMount=="function"&&(h.flags|=4194308),x=!0}else if(c===null){k=h.stateNode;var ne=h.memoizedProps,ge=Us(g,ne);k.props=ge;var Pe=k.context,Ye=g.contextType;W=Vu,typeof Ye=="object"&&Ye!==null&&(W=xs(Ye));var tt=g.getDerivedStateFromProps;Ye=typeof tt=="function"||typeof k.getSnapshotBeforeUpdate=="function",ne=h.pendingProps!==ne,Ye||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(ne||Pe!==W)&&ZE(h,k,x,W),Xu=!1;var ke=h.memoizedState;k.state=ke,ad(h,x,k,R),Um(),Pe=h.memoizedState,ne||ke!==Pe||Xu?(typeof tt=="function"&&(qf(h,g,tt,x),Pe=h.memoizedState),(ge=Xu||KE(h,g,ge,x,ke,Pe,W))?(Ye||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(h.flags|=4194308)):(typeof k.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=x,h.memoizedState=Pe),k.props=x,k.state=Pe,k.context=W,x=ge):(typeof k.componentDidMount=="function"&&(h.flags|=4194308),x=!1)}else{k=h.stateNode,fb(c,h),W=h.memoizedProps,Ye=Us(g,W),k.props=Ye,tt=h.pendingProps,ke=k.context,Pe=g.contextType,ge=Vu,typeof Pe=="object"&&Pe!==null&&(ge=xs(Pe)),ne=g.getDerivedStateFromProps,(Pe=typeof ne=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(W!==tt||ke!==ge)&&ZE(h,k,x,ge),Xu=!1,ke=h.memoizedState,k.state=ke,ad(h,x,k,R),Um();var We=h.memoizedState;W!==tt||ke!==We||Xu||c!==null&&c.dependencies!==null&&zf(c.dependencies)?(typeof ne=="function"&&(qf(h,g,ne,x),We=h.memoizedState),(Ye=Xu||KE(h,g,Ye,x,ke,We,ge)||c!==null&&c.dependencies!==null&&zf(c.dependencies))?(Pe||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(x,We,ge),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(x,We,ge)),typeof k.componentDidUpdate=="function"&&(h.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof k.componentDidUpdate!="function"||W===c.memoizedProps&&ke===c.memoizedState||(h.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||W===c.memoizedProps&&ke===c.memoizedState||(h.flags|=1024),h.memoizedProps=x,h.memoizedState=We),k.props=x,k.state=We,k.context=ge,x=Ye):(typeof k.componentDidUpdate!="function"||W===c.memoizedProps&&ke===c.memoizedState||(h.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||W===c.memoizedProps&&ke===c.memoizedState||(h.flags|=1024),x=!1)}return k=x,Sl(c,h),x=(h.flags&128)!==0,k||x?(k=h.stateNode,g=x&&typeof g.getDerivedStateFromError!="function"?null:k.render(),h.flags|=1,c!==null&&x?(h.child=sd(h,c.child,null,R),h.child=sd(h,null,g,R)):vr(c,h,g,R),h.memoizedState=k.state,c=h.child):c=El(c,h,R),c}function li(c,h,g,x){return td(),h.flags|=256,vr(c,h,g,x),h.child}var go={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jo(c){return{baseLanes:c,cachePool:qy()}}function Xm(c,h,g){return c=c!==null?c.childLanes&~g:0,h&&(c|=ii),c}function yo(c,h,g){var x=h.pendingProps,R=!1,k=(h.flags&128)!==0,W;if((W=k)||(W=c!==null&&c.memoizedState===null?!1:(gr.current&2)!==0),W&&(R=!0,h.flags&=-129),W=(h.flags&32)!==0,h.flags&=-33,c===null){if(Qn){if(R?Ku(h):Qc(),(c=Gi)?(c=aU(c,bs),c=c!==null&&c.data!=="&"?c:null,c!==null&&(h.memoizedState={dehydrated:c,treeContext:ic!==null?{id:rc,overflow:sc}:null,retryLane:536870912,hydrationErrors:null},g=SE(c),g.return=h,h.child=g,_s=h,Gi=null)):c=null,c===null)throw Kn(h);return jR(c)?h.lanes=32:h.lanes=536870912,null}var ne=x.children;return x=x.fallback,R?(Qc(),R=h.mode,ne=Xf({mode:"hidden",children:ne},R),x=Gc(x,R,g,null),ne.return=h,x.return=h,ne.sibling=x,h.child=ne,x=h.child,x.memoizedState=jo(g),x.childLanes=Xm(c,W,g),h.memoizedState=go,xl(null,x)):(Ku(h),Zu(h,ne))}var ge=c.memoizedState;if(ge!==null&&(ne=ge.dehydrated,ne!==null)){if(k)h.flags&256?(Ku(h),h.flags&=-257,h=Yf(c,h,g)):h.memoizedState!==null?(Qc(),h.child=c.child,h.flags|=128,h=null):(Qc(),ne=x.fallback,R=h.mode,x=Xf({mode:"visible",children:x.children},R),ne=Gc(ne,R,g,null),ne.flags|=2,x.return=h,ne.return=h,x.sibling=ne,h.child=x,sd(h,c.child,null,g),x=h.child,x.memoizedState=jo(g),x.childLanes=Xm(c,W,g),h.memoizedState=go,h=xl(null,x));else if(Ku(h),jR(ne)){if(W=ne.nextSibling&&ne.nextSibling.dataset,W)var Pe=W.dgst;W=Pe,x=Error(i(419)),x.stack="",x.digest=W,Om({value:x,source:null,stack:null}),h=Yf(c,h,g)}else if(Ji||ju(c,h,g,!1),W=(g&c.childLanes)!==0,Ji||W){if(W=Ei,W!==null&&(x=Bn(W,g),x!==0&&x!==ge.retryLane))throw ge.retryLane=x,Fu(c,x),m(W,c,x),cv;HR(ne)||bn(),h=Yf(c,h,g)}else HR(ne)?(h.flags|=192,h.child=c.child,h=null):(c=ge.treeContext,Gi=gc(ne.nextSibling),_s=h,Qn=!0,Wc=null,bs=!1,c!==null&&Rm(h,c),h=Zu(h,x.children),h.flags|=4096);return h}return R?(Qc(),ne=x.fallback,R=h.mode,ge=c.child,Pe=ge.sibling,x=nc(ge,{mode:"hidden",children:x.children}),x.subtreeFlags=ge.subtreeFlags&65011712,Pe!==null?ne=nc(Pe,ne):(ne=Gc(ne,R,g,null),ne.flags|=2),ne.return=h,x.return=h,x.sibling=ne,h.child=x,xl(null,x),x=h.child,ne=c.child.memoizedState,ne===null?ne=jo(g):(R=ne.cachePool,R!==null?(ge=Xt._currentValue,R=R.parent!==ge?{parent:ge,pool:ge}:R):R=qy(),ne={baseLanes:ne.baseLanes|g,cachePool:R}),x.memoizedState=ne,x.childLanes=Xm(c,W,g),h.memoizedState=go,xl(c.child,x)):(Ku(h),g=c.child,c=g.sibling,g=nc(g,{mode:"visible",children:x.children}),g.return=h,g.sibling=null,c!==null&&(W=h.deletions,W===null?(h.deletions=[c],h.flags|=16):W.push(c)),h.child=g,h.memoizedState=null,g)}function Zu(c,h){return h=Xf({mode:"visible",children:h},c.mode),h.return=c,c.child=h}function Xf(c,h){return c=da(22,c,null,h),c.lanes=0,c}function Yf(c,h,g){return sd(h,c.child,null,g),c=Zu(h,h.pendingProps.children),c.flags|=2,h.memoizedState=null,c}function cd(c,h,g){c.lanes|=h;var x=c.alternate;x!==null&&(x.lanes|=h),Yc(c.return,h,g)}function Ym(c,h,g,x,R,k){var W=c.memoizedState;W===null?c.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:x,tail:g,tailMode:R,treeForkCount:k}:(W.isBackwards=h,W.rendering=null,W.renderingStartTime=0,W.last=x,W.tail=g,W.tailMode=R,W.treeForkCount=k)}function Km(c,h,g){var x=h.pendingProps,R=x.revealOrder,k=x.tail;x=x.children;var W=gr.current,ne=(W&2)!==0;if(ne?(W=W&1|2,h.flags|=128):W&=1,pe(gr,W),vr(c,h,x,g),x=Qn?kf:0,!ne&&c!==null&&(c.flags&128)!==0)e:for(c=h.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&cd(c,g,h);else if(c.tag===19)cd(c,g,h);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===h)break e;for(;c.sibling===null;){if(c.return===null||c.return===h)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}switch(R){case"forwards":for(g=h.child,R=null;g!==null;)c=g.alternate,c!==null&&Yy(c)===null&&(R=g),g=g.sibling;g=R,g===null?(R=h.child,h.child=null):(R=g.sibling,g.sibling=null),Ym(h,!1,R,g,k,x);break;case"backwards":case"unstable_legacy-backwards":for(g=null,R=h.child,h.child=null;R!==null;){if(c=R.alternate,c!==null&&Yy(c)===null){h.child=R;break}c=R.sibling,R.sibling=g,g=R,R=c}Ym(h,!0,g,null,k,x);break;case"together":Ym(h,!1,null,null,void 0,x);break;default:h.memoizedState=null}return h.child}function El(c,h,g){if(c!==null&&(h.dependencies=c.dependencies),bo|=h.lanes,(g&h.childLanes)===0)if(c!==null){if(ju(c,h,g,!1),(g&h.childLanes)===0)return null}else return null;if(c!==null&&h.child!==c.child)throw Error(i(153));if(h.child!==null){for(c=h.child,g=nc(c,c.pendingProps),h.child=g,g.return=h;c.sibling!==null;)c=c.sibling,g=g.sibling=nc(c,c.pendingProps),g.return=h;g.sibling=null}return h.child}function Qu(c,h){return(c.lanes&h)!==0?!0:(c=c.dependencies,!!(c!==null&&zf(c)))}function Zm(c,h,g){switch(h.tag){case 3:Ve(h,h.stateNode.containerInfo),Xc(h,Xt,c.memoizedState.cache),td();break;case 27:case 5:Ge(h);break;case 4:Ve(h,h.stateNode.containerInfo);break;case 10:Xc(h,h.type,h.memoizedProps.value);break;case 31:if(h.memoizedState!==null)return h.flags|=128,yb(h),null;break;case 13:var x=h.memoizedState;if(x!==null)return x.dehydrated!==null?(Ku(h),h.flags|=128,null):(g&h.child.childLanes)!==0?yo(c,h,g):(Ku(h),c=El(c,h,g),c!==null?c.sibling:null);Ku(h);break;case 19:var R=(c.flags&128)!==0;if(x=(g&h.childLanes)!==0,x||(ju(c,h,g,!1),x=(g&h.childLanes)!==0),R){if(x)return Km(c,h,g);h.flags|=128}if(R=h.memoizedState,R!==null&&(R.rendering=null,R.tail=null,R.lastEffect=null),pe(gr,gr.current),x)break;return null;case 22:return h.lanes=0,mo(c,h,g,h.pendingProps);case 24:Xc(h,Xt,c.memoizedState.cache)}return El(c,h,g)}function uv(c,h,g){if(c!==null)if(c.memoizedProps!==h.pendingProps)Ji=!0;else{if(!Qu(c,g)&&(h.flags&128)===0)return Ji=!1,Zm(c,h,g);Ji=(c.flags&131072)!==0}else Ji=!1,Qn&&(h.flags&1048576)!==0&&tb(h,kf,h.index);switch(h.lanes=0,h.tag){case 16:e:{var x=h.pendingProps;if(c=rd(h.elementType),h.type=c,typeof c=="function")fa(c)?(x=Us(c,x),h.tag=1,h=ks(null,h,c,x,g)):(h.tag=0,h=$f(null,h,c,x,g));else{if(c!=null){var R=c.$$typeof;if(R===C){h.tag=11,h=qm(null,h,c,x,g);break e}else if(R===I){h.tag=14,h=Wm(null,h,c,x,g);break e}}throw h=Y(c)||c,Error(i(306,h,""))}}return h;case 0:return $f(c,h,h.type,h.pendingProps,g);case 1:return x=h.type,R=Us(x,h.pendingProps),ks(c,h,x,R,g);case 3:e:{if(Ve(h,h.stateNode.containerInfo),c===null)throw Error(i(387));x=h.pendingProps;var k=h.memoizedState;R=k.element,fb(c,h),ad(h,x,null,g);var W=h.memoizedState;if(x=W.cache,Xc(h,Xt,x),x!==k.cache&&Gy(h,[Xt],g,!0),Um(),x=W.element,k.isDehydrated)if(k={element:x,isDehydrated:!1,cache:W.cache},h.updateQueue.baseState=k,h.memoizedState=k,h.flags&256){h=li(c,h,x,g);break e}else if(x!==R){R=Da(Error(i(424)),h),Om(R),h=li(c,h,x,g);break e}else{switch(c=h.stateNode.containerInfo,c.nodeType){case 9:c=c.body;break;default:c=c.nodeName==="HTML"?c.ownerDocument.body:c}for(Gi=gc(c.firstChild),_s=h,Qn=!0,Wc=null,bs=!0,g=ME(h,null,x,g),h.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling}else{if(td(),x===R){h=El(c,h,g);break e}vr(c,h,x,g)}h=h.child}return h;case 26:return Sl(c,h),c===null?(g=dU(h.type,null,h.pendingProps,null))?h.memoizedState=g:Qn||(g=h.type,c=h.pendingProps,x=oT(de.current).createElement(g),x[pn]=h,x[pr]=c,va(x,g,c),xe(x),h.stateNode=x):h.memoizedState=dU(h.type,c.memoizedProps,h.pendingProps,c.memoizedState),null;case 27:return Ge(h),c===null&&Qn&&(x=h.stateNode=cU(h.type,h.pendingProps,de.current),_s=h,bs=!0,R=Gi,np(h.type)?(GR=R,Gi=gc(x.firstChild)):Gi=R),vr(c,h,h.pendingProps.children,g),Sl(c,h),c===null&&(h.flags|=4194304),h.child;case 5:return c===null&&Qn&&((R=x=Gi)&&(x=KX(x,h.type,h.pendingProps,bs),x!==null?(h.stateNode=x,_s=h,Gi=gc(x.firstChild),bs=!1,R=!0):R=!1),R||Kn(h)),Ge(h),R=h.type,k=h.pendingProps,W=c!==null?c.memoizedProps:null,x=k.children,BR(R,k)?x=null:W!==null&&BR(R,W)&&(h.flags|=32),h.memoizedState!==null&&(R=_b(c,h,xR,null,null,g),Qb._currentValue=R),Sl(c,h),vr(c,h,x,g),h.child;case 6:return c===null&&Qn&&((c=g=Gi)&&(g=ZX(g,h.pendingProps,bs),g!==null?(h.stateNode=g,_s=h,Gi=null,c=!0):c=!1),c||Kn(h)),null;case 13:return yo(c,h,g);case 4:return Ve(h,h.stateNode.containerInfo),x=h.pendingProps,c===null?h.child=sd(h,null,x,g):vr(c,h,x,g),h.child;case 11:return qm(c,h,h.type,h.pendingProps,g);case 7:return vr(c,h,h.pendingProps,g),h.child;case 8:return vr(c,h,h.pendingProps.children,g),h.child;case 12:return vr(c,h,h.pendingProps.children,g),h.child;case 10:return x=h.pendingProps,Xc(h,h.type,x.value),vr(c,h,x.children,g),h.child;case 9:return R=h.type._context,x=h.pendingProps.children,nd(h),R=xs(R),x=x(R),h.flags|=1,vr(c,h,x,g),h.child;case 14:return Wm(c,h,h.type,h.pendingProps,g);case 15:return po(c,h,h.type,h.pendingProps,g);case 19:return Km(c,h,g);case 31:return $m(c,h,g);case 22:return mo(c,h,g,h.pendingProps);case 24:return nd(h),x=xs(Xt),c===null?(R=ac(),R===null&&(R=Ei,k=ab(),R.pooledCache=k,k.refCount++,k!==null&&(R.pooledCacheLanes|=g),R=k),h.memoizedState={parent:x,cache:R},db(h),Xc(h,Xt,R)):((c.lanes&g)!==0&&(fb(c,h),ad(h,null,null,g),Um()),R=c.memoizedState,k=h.memoizedState,R.parent!==x?(R={parent:x,cache:x},h.memoizedState=R,h.lanes===0&&(h.memoizedState=h.updateQueue.baseState=R),Xc(h,Xt,x)):(x=k.cache,Xc(h,Xt,x),x!==R.cache&&Gy(h,[Xt],g,!0))),vr(c,h,h.pendingProps.children,g),h.child;case 29:throw h.pendingProps}throw Error(i(156,h.tag))}function za(c){c.flags|=4}function Ju(c,h,g,x,R){if((h=(c.mode&32)!==0)&&(h=!1),h){if(c.flags|=16777216,(R&335544128)===R)if(c.stateNode.complete)c.flags|=8192;else if(bt())c.flags|=8192;else throw nn=Dm,Pm}else c.flags&=-16777217}function tu(c,h){if(h.type!=="stylesheet"||(h.state.loading&4)!==0)c.flags&=-16777217;else if(c.flags|=16777216,!yU(h))if(bt())c.flags|=8192;else throw nn=Dm,Pm}function Kf(c,h){h!==null&&(c.flags|=4),c.flags&16384&&(h=c.tag!==22?Bt():536870912,c.lanes|=h,xo|=h)}function Qm(c,h){if(!Qn)switch(c.tailMode){case"hidden":h=c.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?c.tail=null:g.sibling=null;break;case"collapsed":g=c.tail;for(var x=null;g!==null;)g.alternate!==null&&(x=g),g=g.sibling;x===null?h||c.tail===null?c.tail=null:c.tail.sibling=null:x.sibling=null}}function Ri(c){var h=c.alternate!==null&&c.alternate.child===c.child,g=0,x=0;if(h)for(var R=c.child;R!==null;)g|=R.lanes|R.childLanes,x|=R.subtreeFlags&65011712,x|=R.flags&65011712,R.return=c,R=R.sibling;else for(R=c.child;R!==null;)g|=R.lanes|R.childLanes,x|=R.subtreeFlags,x|=R.flags,R.return=c,R=R.sibling;return c.subtreeFlags|=x,c.childLanes=g,h}function jb(c,h,g){var x=h.pendingProps;switch(Hu(h),h.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ri(h),null;case 1:return Ri(h),null;case 3:return g=h.stateNode,x=null,c!==null&&(x=c.memoizedState.cache),h.memoizedState.cache!==x&&(h.flags|=2048),Fo(Xt),Xe(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(c===null||c.child===null)&&(ed(h)?za(h):c===null||c.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,nb())),Ri(h),null;case 26:var R=h.type,k=h.memoizedState;return c===null?(za(h),k!==null?(Ri(h),tu(h,k)):(Ri(h),Ju(h,R,null,x,g))):k?k!==c.memoizedState?(za(h),Ri(h),tu(h,k)):(Ri(h),h.flags&=-16777217):(c=c.memoizedProps,c!==x&&za(h),Ri(h),Ju(h,R,c,x,g)),null;case 27:if(st(h),g=de.current,R=h.type,c!==null&&h.stateNode!=null)c.memoizedProps!==x&&za(h);else{if(!x){if(h.stateNode===null)throw Error(i(166));return Ri(h),null}c=ue.current,ed(h)?jy(h):(c=cU(R,x,g),h.stateNode=c,za(h))}return Ri(h),null;case 5:if(st(h),R=h.type,c!==null&&h.stateNode!=null)c.memoizedProps!==x&&za(h);else{if(!x){if(h.stateNode===null)throw Error(i(166));return Ri(h),null}if(k=ue.current,ed(h))jy(h);else{var W=oT(de.current);switch(k){case 1:k=W.createElementNS("http://www.w3.org/2000/svg",R);break;case 2:k=W.createElementNS("http://www.w3.org/1998/Math/MathML",R);break;default:switch(R){case"svg":k=W.createElementNS("http://www.w3.org/2000/svg",R);break;case"math":k=W.createElementNS("http://www.w3.org/1998/Math/MathML",R);break;case"script":k=W.createElement("div"),k.innerHTML="<script><\/script>",k=k.removeChild(k.firstChild);break;case"select":k=typeof x.is=="string"?W.createElement("select",{is:x.is}):W.createElement("select"),x.multiple?k.multiple=!0:x.size&&(k.size=x.size);break;default:k=typeof x.is=="string"?W.createElement(R,{is:x.is}):W.createElement(R)}}k[pn]=h,k[pr]=x;e:for(W=h.child;W!==null;){if(W.tag===5||W.tag===6)k.appendChild(W.stateNode);else if(W.tag!==4&&W.tag!==27&&W.child!==null){W.child.return=W,W=W.child;continue}if(W===h)break e;for(;W.sibling===null;){if(W.return===null||W.return===h)break e;W=W.return}W.sibling.return=W.return,W=W.sibling}h.stateNode=k;e:switch(va(k,R,x),R){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}x&&za(h)}}return Ri(h),Ju(h,h.type,c===null?null:c.memoizedProps,h.pendingProps,g),null;case 6:if(c&&h.stateNode!=null)c.memoizedProps!==x&&za(h);else{if(typeof x!="string"&&h.stateNode===null)throw Error(i(166));if(c=de.current,ed(h)){if(c=h.stateNode,g=h.memoizedProps,x=null,R=_s,R!==null)switch(R.tag){case 27:case 5:x=R.memoizedProps}c[pn]=h,c=!!(c.nodeValue===g||x!==null&&x.suppressHydrationWarning===!0||Q4(c.nodeValue,g)),c||Kn(h,!0)}else c=oT(c).createTextNode(x),c[pn]=h,h.stateNode=c}return Ri(h),null;case 31:if(g=h.memoizedState,c===null||c.memoizedState!==null){if(x=ed(h),g!==null){if(c===null){if(!x)throw Error(i(318));if(c=h.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(i(557));c[pn]=h}else td(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;Ri(h),c=!1}else g=nb(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=g),c=!0;if(!c)return h.flags&256?(uo(h),h):(uo(h),null);if((h.flags&128)!==0)throw Error(i(558))}return Ri(h),null;case 13:if(x=h.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(R=ed(h),x!==null&&x.dehydrated!==null){if(c===null){if(!R)throw Error(i(318));if(R=h.memoizedState,R=R!==null?R.dehydrated:null,!R)throw Error(i(317));R[pn]=h}else td(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;Ri(h),R=!1}else R=nb(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=R),R=!0;if(!R)return h.flags&256?(uo(h),h):(uo(h),null)}return uo(h),(h.flags&128)!==0?(h.lanes=g,h):(g=x!==null,c=c!==null&&c.memoizedState!==null,g&&(x=h.child,R=null,x.alternate!==null&&x.alternate.memoizedState!==null&&x.alternate.memoizedState.cachePool!==null&&(R=x.alternate.memoizedState.cachePool.pool),k=null,x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(k=x.memoizedState.cachePool.pool),k!==R&&(x.flags|=2048)),g!==c&&g&&(h.child.flags|=8192),Kf(h,h.updateQueue),Ri(h),null);case 4:return Xe(),c===null&&NR(h.stateNode.containerInfo),Ri(h),null;case 10:return Fo(h.type),Ri(h),null;case 19:if(le(gr),x=h.memoizedState,x===null)return Ri(h),null;if(R=(h.flags&128)!==0,k=x.rendering,k===null)if(R)Qm(x,!1);else{if(Ti!==0||c!==null&&(c.flags&128)!==0)for(c=h.child;c!==null;){if(k=Yy(c),k!==null){for(h.flags|=128,Qm(x,!1),c=k.updateQueue,h.updateQueue=c,Kf(h,c),h.subtreeFlags=0,c=g,g=h.child;g!==null;)qs(g,c),g=g.sibling;return pe(gr,gr.current&1|2),Qn&&qc(h,x.treeForkCount),h.child}c=c.sibling}x.tail!==null&&Ae()>So&&(h.flags|=128,R=!0,Qm(x,!1),h.lanes=4194304)}else{if(!R)if(c=Yy(k),c!==null){if(h.flags|=128,R=!0,c=c.updateQueue,h.updateQueue=c,Kf(h,c),Qm(x,!0),x.tail===null&&x.tailMode==="hidden"&&!k.alternate&&!Qn)return Ri(h),null}else 2*Ae()-x.renderingStartTime>So&&g!==536870912&&(h.flags|=128,R=!0,Qm(x,!1),h.lanes=4194304);x.isBackwards?(k.sibling=h.child,h.child=k):(c=x.last,c!==null?c.sibling=k:h.child=k,x.last=k)}return x.tail!==null?(c=x.tail,x.rendering=c,x.tail=c.sibling,x.renderingStartTime=Ae(),c.sibling=null,g=gr.current,pe(gr,R?g&1|2:g&1),Qn&&qc(h,x.treeForkCount),c):(Ri(h),null);case 22:case 23:return uo(h),$s(),x=h.memoizedState!==null,c!==null?c.memoizedState!==null!==x&&(h.flags|=8192):x&&(h.flags|=8192),x?(g&536870912)!==0&&(h.flags&128)===0&&(Ri(h),h.subtreeFlags&6&&(h.flags|=8192)):Ri(h),g=h.updateQueue,g!==null&&Kf(h,g.retryQueue),g=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),x=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(x=h.memoizedState.cachePool.pool),x!==g&&(h.flags|=2048),c!==null&&le(Gu),null;case 24:return g=null,c!==null&&(g=c.memoizedState.cache),h.memoizedState.cache!==g&&(h.flags|=2048),Fo(Xt),Ri(h),null;case 25:return null;case 30:return null}throw Error(i(156,h.tag))}function hv(c,h){switch(Hu(h),h.tag){case 1:return c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 3:return Fo(Xt),Xe(),c=h.flags,(c&65536)!==0&&(c&128)===0?(h.flags=c&-65537|128,h):null;case 26:case 27:case 5:return st(h),null;case 31:if(h.memoizedState!==null){if(uo(h),h.alternate===null)throw Error(i(340));td()}return c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 13:if(uo(h),c=h.memoizedState,c!==null&&c.dehydrated!==null){if(h.alternate===null)throw Error(i(340));td()}return c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 19:return le(gr),null;case 4:return Xe(),null;case 10:return Fo(h.type),null;case 22:case 23:return uo(h),$s(),c!==null&&le(Gu),c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 24:return Fo(Xt),null;case 25:return null;default:return null}}function ud(c,h){switch(Hu(h),h.tag){case 3:Fo(Xt),Xe();break;case 26:case 27:case 5:st(h);break;case 4:Xe();break;case 31:h.memoizedState!==null&&uo(h);break;case 13:uo(h);break;case 19:le(gr);break;case 10:Fo(h.type);break;case 22:case 23:uo(h),$s(),c!==null&&le(Gu);break;case 24:Fo(Xt)}}function dc(c,h){try{var g=h.updateQueue,x=g!==null?g.lastEffect:null;if(x!==null){var R=x.next;g=R;do{if((g.tag&c)===c){x=void 0;var k=g.create,W=g.inst;x=k(),W.destroy=x}g=g.next}while(g!==R)}}catch(ne){zi(h,h.return,ne)}}function Go(c,h,g){try{var x=h.updateQueue,R=x!==null?x.lastEffect:null;if(R!==null){var k=R.next;x=k;do{if((x.tag&c)===c){var W=x.inst,ne=W.destroy;if(ne!==void 0){W.destroy=void 0,R=h;var ge=g,Pe=ne;try{Pe()}catch(Ye){zi(R,ge,Ye)}}}x=x.next}while(x!==k)}}catch(Ye){zi(h,h.return,Ye)}}function eh(c){var h=c.updateQueue;if(h!==null){var g=c.stateNode;try{Ns(h,g)}catch(x){zi(c,c.return,x)}}}function Gb(c,h,g){g.props=Us(c.type,c.memoizedProps),g.state=c.memoizedState;try{g.componentWillUnmount()}catch(x){zi(c,h,x)}}function fc(c,h){try{var g=c.ref;if(g!==null){switch(c.tag){case 26:case 27:case 5:var x=c.stateNode;break;case 30:x=c.stateNode;break;default:x=c.stateNode}typeof g=="function"?c.refCleanup=g(x):g.current=x}}catch(R){zi(c,h,R)}}function vo(c,h){var g=c.ref,x=c.refCleanup;if(g!==null)if(typeof x=="function")try{x()}catch(R){zi(c,h,R)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof g=="function")try{g(null)}catch(R){zi(c,h,R)}else g.current=null}function _o(c){var h=c.type,g=c.memoizedProps,x=c.stateNode;try{e:switch(h){case"button":case"input":case"select":case"textarea":g.autoFocus&&x.focus();break e;case"img":g.src?x.src=g.src:g.srcSet&&(x.srcset=g.srcSet)}}catch(R){zi(c,c.return,R)}}function qo(c,h,g){try{var x=c.stateNode;GX(x,c.type,g,h),x[pr]=h}catch(R){zi(c,c.return,R)}}function Xr(c){return c.tag===5||c.tag===3||c.tag===26||c.tag===27&&np(c.type)||c.tag===4}function pc(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||Xr(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.tag===27&&np(c.type)||c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function In(c,h,g){var x=c.tag;if(x===5||x===6)c=c.stateNode,h?(g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g).insertBefore(c,h):(h=g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g,h.appendChild(c),g=g._reactRootContainer,g!=null||h.onclick!==null||(h.onclick=ss));else if(x!==4&&(x===27&&np(c.type)&&(g=c.stateNode,h=null),c=c.child,c!==null))for(In(c,h,g),c=c.sibling;c!==null;)In(c,h,g),c=c.sibling}function _i(c,h,g){var x=c.tag;if(x===5||x===6)c=c.stateNode,h?g.insertBefore(c,h):g.appendChild(c);else if(x!==4&&(x===27&&np(c.type)&&(g=c.stateNode),c=c.child,c!==null))for(_i(c,h,g),c=c.sibling;c!==null;)_i(c,h,g),c=c.sibling}function Rr(c){var h=c.stateNode,g=c.memoizedProps;try{for(var x=c.type,R=h.attributes;R.length;)h.removeAttributeNode(R[0]);va(h,x,g),h[pn]=c,h[pr]=g}catch(k){zi(c,c.return,k)}}var Wo=!1,er=!1,nu=!1,Jm=typeof WeakSet=="function"?WeakSet:Set,_r=null;function Zf(c,h){if(c=c.containerInfo,kR=pT,c=Dy(c),Of(c)){if("selectionStart"in c)var g={start:c.selectionStart,end:c.selectionEnd};else e:{g=(g=c.ownerDocument)&&g.defaultView||window;var x=g.getSelection&&g.getSelection();if(x&&x.rangeCount!==0){g=x.anchorNode;var R=x.anchorOffset,k=x.focusNode;x=x.focusOffset;try{g.nodeType,k.nodeType}catch{g=null;break e}var W=0,ne=-1,ge=-1,Pe=0,Ye=0,tt=c,ke=null;t:for(;;){for(var We;tt!==g||R!==0&&tt.nodeType!==3||(ne=W+R),tt!==k||x!==0&&tt.nodeType!==3||(ge=W+x),tt.nodeType===3&&(W+=tt.nodeValue.length),(We=tt.firstChild)!==null;)ke=tt,tt=We;for(;;){if(tt===c)break t;if(ke===g&&++Pe===R&&(ne=W),ke===k&&++Ye===x&&(ge=W),(We=tt.nextSibling)!==null)break;tt=ke,ke=tt.parentNode}tt=We}g=ne===-1||ge===-1?null:{start:ne,end:ge}}else g=null}g=g||{start:0,end:0}}else g=null;for(zR={focusedElem:c,selectionRange:g},pT=!1,_r=h;_r!==null;)if(h=_r,c=h.child,(h.subtreeFlags&1028)!==0&&c!==null)c.return=h,_r=c;else for(;_r!==null;){switch(h=_r,k=h.alternate,c=h.flags,h.tag){case 0:if((c&4)!==0&&(c=h.updateQueue,c=c!==null?c.events:null,c!==null))for(g=0;g<c.length;g++)R=c[g],R.ref.impl=R.nextImpl;break;case 11:case 15:break;case 1:if((c&1024)!==0&&k!==null){c=void 0,g=h,R=k.memoizedProps,k=k.memoizedState,x=g.stateNode;try{var Vt=Us(g.type,R);c=x.getSnapshotBeforeUpdate(Vt,k),x.__reactInternalSnapshotBeforeUpdate=c}catch(ln){zi(g,g.return,ln)}}break;case 3:if((c&1024)!==0){if(c=h.stateNode.containerInfo,g=c.nodeType,g===9)VR(c);else if(g===1)switch(c.nodeName){case"HEAD":case"HTML":case"BODY":VR(c);break;default:c.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((c&1024)!==0)throw Error(i(163))}if(c=h.sibling,c!==null){c.return=h.return,_r=c;break}_r=h.return}}function eT(c,h,g){var x=g.flags;switch(g.tag){case 0:case 11:case 15:iu(c,g),x&4&&dc(5,g);break;case 1:if(iu(c,g),x&4)if(c=g.stateNode,h===null)try{c.componentDidMount()}catch(W){zi(g,g.return,W)}else{var R=Us(g.type,h.memoizedProps);h=h.memoizedState;try{c.componentDidUpdate(R,h,c.__reactInternalSnapshotBeforeUpdate)}catch(W){zi(g,g.return,W)}}x&64&&eh(g),x&512&&fc(g,g.return);break;case 3:if(iu(c,g),x&64&&(c=g.updateQueue,c!==null)){if(h=null,g.child!==null)switch(g.child.tag){case 27:case 5:h=g.child.stateNode;break;case 1:h=g.child.stateNode}try{Ns(c,h)}catch(W){zi(g,g.return,W)}}break;case 27:h===null&&x&4&&Rr(g);case 26:case 5:iu(c,g),h===null&&x&4&&_o(g),x&512&&fc(g,g.return);break;case 12:iu(c,g);break;case 31:iu(c,g),x&4&&fv(c,g);break;case 13:iu(c,g),x&4&&qb(c,g),x&64&&(c=g.memoizedState,c!==null&&(c=c.dehydrated,c!==null&&(g=PX.bind(null,g),QX(c,g))));break;case 22:if(x=g.memoizedState!==null||Wo,!x){h=h!==null&&h.memoizedState!==null||er,R=Wo;var k=er;Wo=x,(er=h)&&!k?Si(c,g,(g.subtreeFlags&8772)!==0):iu(c,g),Wo=R,er=k}break;case 30:break;default:iu(c,g)}}function dv(c){var h=c.alternate;h!==null&&(c.alternate=null,dv(h)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(h=c.stateNode,h!==null&&pl(h)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}var ci=null,Yr=!1;function Ys(c,h,g){for(g=g.child;g!==null;)th(c,h,g),g=g.sibling}function th(c,h,g){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(wt,g)}catch{}switch(g.tag){case 26:er||vo(g,h),Ys(c,h,g),g.memoizedState?g.memoizedState.count--:g.stateNode&&(g=g.stateNode,g.parentNode.removeChild(g));break;case 27:er||vo(g,h);var x=ci,R=Yr;np(g.type)&&(ci=g.stateNode,Yr=!1),Ys(c,h,g),Yb(g.stateNode),ci=x,Yr=R;break;case 5:er||vo(g,h);case 6:if(x=ci,R=Yr,ci=null,Ys(c,h,g),ci=x,Yr=R,ci!==null)if(Yr)try{(ci.nodeType===9?ci.body:ci.nodeName==="HTML"?ci.ownerDocument.body:ci).removeChild(g.stateNode)}catch(k){zi(g,h,k)}else try{ci.removeChild(g.stateNode)}catch(k){zi(g,h,k)}break;case 18:ci!==null&&(Yr?(c=ci,rU(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,g.stateNode),Tv(c)):rU(ci,g.stateNode));break;case 4:x=ci,R=Yr,ci=g.stateNode.containerInfo,Yr=!0,Ys(c,h,g),ci=x,Yr=R;break;case 0:case 11:case 14:case 15:Go(2,g,h),er||Go(4,g,h),Ys(c,h,g);break;case 1:er||(vo(g,h),x=g.stateNode,typeof x.componentWillUnmount=="function"&&Gb(g,h,x)),Ys(c,h,g);break;case 21:Ys(c,h,g);break;case 22:er=(x=er)||g.memoizedState!==null,Ys(c,h,g),er=x;break;default:Ys(c,h,g)}}function fv(c,h){if(h.memoizedState===null&&(c=h.alternate,c!==null&&(c=c.memoizedState,c!==null))){c=c.dehydrated;try{Tv(c)}catch(g){zi(h,h.return,g)}}}function qb(c,h){if(h.memoizedState===null&&(c=h.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{Tv(c)}catch(g){zi(h,h.return,g)}}function tT(c){switch(c.tag){case 31:case 13:case 19:var h=c.stateNode;return h===null&&(h=c.stateNode=new Jm),h;case 22:return c=c.stateNode,h=c._retryCache,h===null&&(h=c._retryCache=new Jm),h;default:throw Error(i(435,c.tag))}}function Or(c,h){var g=tT(c);h.forEach(function(x){if(!g.has(x)){g.add(x);var R=DX.bind(null,c,x);x.then(R,R)}})}function Ks(c,h){var g=h.deletions;if(g!==null)for(var x=0;x<g.length;x++){var R=g[x],k=c,W=h,ne=W;e:for(;ne!==null;){switch(ne.tag){case 27:if(np(ne.type)){ci=ne.stateNode,Yr=!1;break e}break;case 5:ci=ne.stateNode,Yr=!1;break e;case 3:case 4:ci=ne.stateNode.containerInfo,Yr=!0;break e}ne=ne.return}if(ci===null)throw Error(i(160));th(k,W,R),ci=null,Yr=!1,k=R.alternate,k!==null&&(k.return=null),R.return=null}if(h.subtreeFlags&13886)for(h=h.child;h!==null;)nh(h,c),h=h.sibling}var Ba=null;function nh(c,h){var g=c.alternate,x=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:Ks(h,c),br(c),x&4&&(Go(3,c,c.return),dc(3,c),Go(5,c,c.return));break;case 1:Ks(h,c),br(c),x&512&&(er||g===null||vo(g,g.return)),x&64&&Wo&&(c=c.updateQueue,c!==null&&(x=c.callbacks,x!==null&&(g=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=g===null?x:g.concat(x))));break;case 26:var R=Ba;if(Ks(h,c),br(c),x&512&&(er||g===null||vo(g,g.return)),x&4){var k=g!==null?g.memoizedState:null;if(x=c.memoizedState,g===null)if(x===null)if(c.stateNode===null){e:{x=c.type,g=c.memoizedProps,R=R.ownerDocument||R;t:switch(x){case"title":k=R.getElementsByTagName("title")[0],(!k||k[so]||k[pn]||k.namespaceURI==="http://www.w3.org/2000/svg"||k.hasAttribute("itemprop"))&&(k=R.createElement(x),R.head.insertBefore(k,R.querySelector("head > title"))),va(k,x,g),k[pn]=c,xe(k),x=k;break e;case"link":var W=mU("link","href",R).get(x+(g.href||""));if(W){for(var ne=0;ne<W.length;ne++)if(k=W[ne],k.getAttribute("href")===(g.href==null||g.href===""?null:g.href)&&k.getAttribute("rel")===(g.rel==null?null:g.rel)&&k.getAttribute("title")===(g.title==null?null:g.title)&&k.getAttribute("crossorigin")===(g.crossOrigin==null?null:g.crossOrigin)){W.splice(ne,1);break t}}k=R.createElement(x),va(k,x,g),R.head.appendChild(k);break;case"meta":if(W=mU("meta","content",R).get(x+(g.content||""))){for(ne=0;ne<W.length;ne++)if(k=W[ne],k.getAttribute("content")===(g.content==null?null:""+g.content)&&k.getAttribute("name")===(g.name==null?null:g.name)&&k.getAttribute("property")===(g.property==null?null:g.property)&&k.getAttribute("http-equiv")===(g.httpEquiv==null?null:g.httpEquiv)&&k.getAttribute("charset")===(g.charSet==null?null:g.charSet)){W.splice(ne,1);break t}}k=R.createElement(x),va(k,x,g),R.head.appendChild(k);break;default:throw Error(i(468,x))}k[pn]=c,xe(k),x=k}c.stateNode=x}else gU(R,c.type,c.stateNode);else c.stateNode=pU(R,x,c.memoizedProps);else k!==x?(k===null?g.stateNode!==null&&(g=g.stateNode,g.parentNode.removeChild(g)):k.count--,x===null?gU(R,c.type,c.stateNode):pU(R,x,c.memoizedProps)):x===null&&c.stateNode!==null&&qo(c,c.memoizedProps,g.memoizedProps)}break;case 27:Ks(h,c),br(c),x&512&&(er||g===null||vo(g,g.return)),g!==null&&x&4&&qo(c,c.memoizedProps,g.memoizedProps);break;case 5:if(Ks(h,c),br(c),x&512&&(er||g===null||vo(g,g.return)),c.flags&32){R=c.stateNode;try{Cr(R,"")}catch(Vt){zi(c,c.return,Vt)}}x&4&&c.stateNode!=null&&(R=c.memoizedProps,qo(c,R,g!==null?g.memoizedProps:R)),x&1024&&(nu=!0);break;case 6:if(Ks(h,c),br(c),x&4){if(c.stateNode===null)throw Error(i(162));x=c.memoizedProps,g=c.stateNode;try{g.nodeValue=x}catch(Vt){zi(c,c.return,Vt)}}break;case 3:if(uT=null,R=Ba,Ba=lT(h.containerInfo),Ks(h,c),Ba=R,br(c),x&4&&g!==null&&g.memoizedState.isDehydrated)try{Tv(h.containerInfo)}catch(Vt){zi(c,c.return,Vt)}nu&&(nu=!1,nT(c));break;case 4:x=Ba,Ba=lT(c.stateNode.containerInfo),Ks(h,c),br(c),Ba=x;break;case 12:Ks(h,c),br(c);break;case 31:Ks(h,c),br(c),x&4&&(x=c.updateQueue,x!==null&&(c.updateQueue=null,Or(c,x)));break;case 13:Ks(h,c),br(c),c.child.flags&8192&&c.memoizedState!==null!=(g!==null&&g.memoizedState!==null)&&(au=Ae()),x&4&&(x=c.updateQueue,x!==null&&(c.updateQueue=null,Or(c,x)));break;case 22:R=c.memoizedState!==null;var ge=g!==null&&g.memoizedState!==null,Pe=Wo,Ye=er;if(Wo=Pe||R,er=Ye||ge,Ks(h,c),er=Ye,Wo=Pe,br(c),x&8192)e:for(h=c.stateNode,h._visibility=R?h._visibility&-2:h._visibility|1,R&&(g===null||ge||Wo||er||hd(c)),g=null,h=c;;){if(h.tag===5||h.tag===26){if(g===null){ge=g=h;try{if(k=ge.stateNode,R)W=k.style,typeof W.setProperty=="function"?W.setProperty("display","none","important"):W.display="none";else{ne=ge.stateNode;var tt=ge.memoizedProps.style,ke=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;ne.style.display=ke==null||typeof ke=="boolean"?"":(""+ke).trim()}}catch(Vt){zi(ge,ge.return,Vt)}}}else if(h.tag===6){if(g===null){ge=h;try{ge.stateNode.nodeValue=R?"":ge.memoizedProps}catch(Vt){zi(ge,ge.return,Vt)}}}else if(h.tag===18){if(g===null){ge=h;try{var We=ge.stateNode;R?sU(We,!0):sU(ge.stateNode,!1)}catch(Vt){zi(ge,ge.return,Vt)}}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===c)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break e;for(;h.sibling===null;){if(h.return===null||h.return===c)break e;g===h&&(g=null),h=h.return}g===h&&(g=null),h.sibling.return=h.return,h=h.sibling}x&4&&(x=c.updateQueue,x!==null&&(g=x.retryQueue,g!==null&&(x.retryQueue=null,Or(c,g))));break;case 19:Ks(h,c),br(c),x&4&&(x=c.updateQueue,x!==null&&(c.updateQueue=null,Or(c,x)));break;case 30:break;case 21:break;default:Ks(h,c),br(c)}}function br(c){var h=c.flags;if(h&2){try{for(var g,x=c.return;x!==null;){if(Xr(x)){g=x;break}x=x.return}if(g==null)throw Error(i(160));switch(g.tag){case 27:var R=g.stateNode,k=pc(c);_i(c,k,R);break;case 5:var W=g.stateNode;g.flags&32&&(Cr(W,""),g.flags&=-33);var ne=pc(c);_i(c,ne,W);break;case 3:case 4:var ge=g.stateNode.containerInfo,Pe=pc(c);In(c,Pe,ge);break;default:throw Error(i(161))}}catch(Ye){zi(c,c.return,Ye)}c.flags&=-3}h&4096&&(c.flags&=-4097)}function nT(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var h=c;nT(h),h.tag===5&&h.flags&1024&&h.stateNode.reset(),c=c.sibling}}function iu(c,h){if(h.subtreeFlags&8772)for(h=h.child;h!==null;)eT(c,h.alternate,h),h=h.sibling}function hd(c){for(c=c.child;c!==null;){var h=c;switch(h.tag){case 0:case 11:case 14:case 15:Go(4,h,h.return),hd(h);break;case 1:vo(h,h.return);var g=h.stateNode;typeof g.componentWillUnmount=="function"&&Gb(h,h.return,g),hd(h);break;case 27:Yb(h.stateNode);case 26:case 5:vo(h,h.return),hd(h);break;case 22:h.memoizedState===null&&hd(h);break;case 30:hd(h);break;default:hd(h)}c=c.sibling}}function Si(c,h,g){for(g=g&&(h.subtreeFlags&8772)!==0,h=h.child;h!==null;){var x=h.alternate,R=c,k=h,W=k.flags;switch(k.tag){case 0:case 11:case 15:Si(R,k,g),dc(4,k);break;case 1:if(Si(R,k,g),x=k,R=x.stateNode,typeof R.componentDidMount=="function")try{R.componentDidMount()}catch(Pe){zi(x,x.return,Pe)}if(x=k,R=x.updateQueue,R!==null){var ne=x.stateNode;try{var ge=R.shared.hiddenCallbacks;if(ge!==null)for(R.shared.hiddenCallbacks=null,R=0;R<ge.length;R++)lc(ge[R],ne)}catch(Pe){zi(x,x.return,Pe)}}g&&W&64&&eh(k),fc(k,k.return);break;case 27:Rr(k);case 26:case 5:Si(R,k,g),g&&x===null&&W&4&&_o(k),fc(k,k.return);break;case 12:Si(R,k,g);break;case 31:Si(R,k,g),g&&W&4&&fv(R,k);break;case 13:Si(R,k,g),g&&W&4&&qb(R,k);break;case 22:k.memoizedState===null&&Si(R,k,g),fc(k,k.return);break;case 30:break;default:Si(R,k,g)}h=h.sibling}}function pv(c,h){var g=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),c=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(c=h.memoizedState.cachePool.pool),c!==g&&(c!=null&&c.refCount++,g!=null&&Ds(g))}function ru(c,h){c=null,h.alternate!==null&&(c=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==c&&(h.refCount++,c!=null&&Ds(c))}function ls(c,h,g,x){if(h.subtreeFlags&10256)for(h=h.child;h!==null;)hr(c,h,g,x),h=h.sibling}function hr(c,h,g,x){var R=h.flags;switch(h.tag){case 0:case 11:case 15:ls(c,h,g,x),R&2048&&dc(9,h);break;case 1:ls(c,h,g,x);break;case 3:ls(c,h,g,x),R&2048&&(c=null,h.alternate!==null&&(c=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==c&&(h.refCount++,c!=null&&Ds(c)));break;case 12:if(R&2048){ls(c,h,g,x),c=h.stateNode;try{var k=h.memoizedProps,W=k.id,ne=k.onPostCommit;typeof ne=="function"&&ne(W,h.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(ge){zi(h,h.return,ge)}}else ls(c,h,g,x);break;case 31:ls(c,h,g,x);break;case 13:ls(c,h,g,x);break;case 23:break;case 22:k=h.stateNode,W=h.alternate,h.memoizedState!==null?k._visibility&2?ls(c,h,g,x):Qf(c,h):k._visibility&2?ls(c,h,g,x):(k._visibility|=2,ih(c,h,g,x,(h.subtreeFlags&10256)!==0||!1)),R&2048&&pv(W,h);break;case 24:ls(c,h,g,x),R&2048&&ru(h.alternate,h);break;default:ls(c,h,g,x)}}function ih(c,h,g,x,R){for(R=R&&((h.subtreeFlags&10256)!==0||!1),h=h.child;h!==null;){var k=c,W=h,ne=g,ge=x,Pe=W.flags;switch(W.tag){case 0:case 11:case 15:ih(k,W,ne,ge,R),dc(8,W);break;case 23:break;case 22:var Ye=W.stateNode;W.memoizedState!==null?Ye._visibility&2?ih(k,W,ne,ge,R):Qf(k,W):(Ye._visibility|=2,ih(k,W,ne,ge,R)),R&&Pe&2048&&pv(W.alternate,W);break;case 24:ih(k,W,ne,ge,R),R&&Pe&2048&&ru(W.alternate,W);break;default:ih(k,W,ne,ge,R)}h=h.sibling}}function Qf(c,h){if(h.subtreeFlags&10256)for(h=h.child;h!==null;){var g=c,x=h,R=x.flags;switch(x.tag){case 22:Qf(g,x),R&2048&&pv(x.alternate,x);break;case 24:Qf(g,x),R&2048&&ru(x.alternate,x);break;default:Qf(g,x)}h=h.sibling}}var xr=8192;function dd(c,h,g){if(c.subtreeFlags&xr)for(c=c.child;c!==null;)Ir(c,h,g),c=c.sibling}function Ir(c,h,g){switch(c.tag){case 26:dd(c,h,g),c.flags&xr&&c.memoizedState!==null&&uY(g,Ba,c.memoizedState,c.memoizedProps);break;case 5:dd(c,h,g);break;case 3:case 4:var x=Ba;Ba=lT(c.stateNode.containerInfo),dd(c,h,g),Ba=x;break;case 22:c.memoizedState===null&&(x=c.alternate,x!==null&&x.memoizedState!==null?(x=xr,xr=16777216,dd(c,h,g),xr=x):dd(c,h,g));break;default:dd(c,h,g)}}function Fa(c){var h=c.alternate;if(h!==null&&(c=h.child,c!==null)){h.child=null;do h=c.sibling,c.sibling=null,c=h;while(c!==null)}}function ga(c){var h=c.deletions;if((c.flags&16)!==0){if(h!==null)for(var g=0;g<h.length;g++){var x=h[g];_r=x,eg(x,c)}Fa(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)fd(c),c=c.sibling}function fd(c){switch(c.tag){case 0:case 11:case 15:ga(c),c.flags&2048&&Go(9,c,c.return);break;case 3:ga(c);break;case 12:ga(c);break;case 22:var h=c.stateNode;c.memoizedState!==null&&h._visibility&2&&(c.return===null||c.return.tag!==13)?(h._visibility&=-3,mv(c)):ga(c);break;default:ga(c)}}function mv(c){var h=c.deletions;if((c.flags&16)!==0){if(h!==null)for(var g=0;g<h.length;g++){var x=h[g];_r=x,eg(x,c)}Fa(c)}for(c=c.child;c!==null;){switch(h=c,h.tag){case 0:case 11:case 15:Go(8,h,h.return),mv(h);break;case 22:g=h.stateNode,g._visibility&2&&(g._visibility&=-3,mv(h));break;default:mv(h)}c=c.sibling}}function eg(c,h){for(;_r!==null;){var g=_r;switch(g.tag){case 0:case 11:case 15:Go(8,g,h);break;case 23:case 22:if(g.memoizedState!==null&&g.memoizedState.cachePool!==null){var x=g.memoizedState.cachePool.pool;x!=null&&x.refCount++}break;case 24:Ds(g.memoizedState.cache)}if(x=g.child,x!==null)x.return=g,_r=x;else e:for(g=c;_r!==null;){x=_r;var R=x.sibling,k=x.return;if(dv(x),x===g){_r=null;break e}if(R!==null){R.return=k,_r=R;break e}_r=k}}}var gv={getCacheForType:function(c){var h=xs(Xt),g=h.data.get(c);return g===void 0&&(g=c(),h.data.set(c,g)),g},cacheSignal:function(){return xs(Xt).controller.signal}},yv=typeof WeakMap=="function"?WeakMap:Map,ni=0,Ei=null,Pn=null,Zn=0,Yt=0,Wn=null,Tn=!1,Vn=!1,Di=!1,Pr=0,Ti=0,bo=0,su=0,Tl=0,ii=0,xo=0,wl=null,Zs=null,Va=!1,au=0,Jf=0,So=1/0,ep=null,mc=null,dr=0,Cl=null,Eo=null,$o=0,ou=0,pd=null,vv=null,md=0,gd=null;function ya(){return(ni&2)!==0&&Zn!==0?Zn&-Zn:q.T!==null?OR():Ki()}function f(){if(ii===0)if((Zn&536870912)===0||Qn){var c=Fe;Fe<<=1,(Fe&3932160)===0&&(Fe=262144),ii=c}else ii=536870912;return c=os.current,c!==null&&(c.flags|=32),ii}function m(c,h,g){(c===Ei&&(Yt===2||Yt===9)||c.cancelPendingCommit!==null)&&(Ce(c,0),G(c,Zn,ii,!1)),St(c,g),((ni&2)===0||c!==Ei)&&(c===Ei&&((ni&2)===0&&(su|=g),Ti===4&&G(c,Zn,ii,!1)),rh(c))}function T(c,h,g){if((ni&6)!==0)throw Error(i(327));var x=!g&&(h&127)===0&&(h&c.expiredLanes)===0||Zt(c,h),R=x?yd(c,h):Ha(c,h,!0),k=x;do{if(R===0){Vn&&!x&&G(c,h,0,!1);break}else{if(g=c.current.alternate,k&&!B(g)){R=Ha(c,h,!1),k=!1;continue}if(R===2){if(k=h,c.errorRecoveryDisabledLanes&k)var W=0;else W=c.pendingLanes&-536870913,W=W!==0?W:W&536870912?536870912:0;if(W!==0){h=W;e:{var ne=c;R=wl;var ge=ne.current.memoizedState.isDehydrated;if(ge&&(Ce(ne,W).flags|=256),W=Ha(ne,W,!1),W!==2){if(Di&&!ge){ne.errorRecoveryDisabledLanes|=k,su|=k,R=4;break e}k=Zs,Zs=R,k!==null&&(Zs===null?Zs=k:Zs.push.apply(Zs,k))}R=W}if(k=!1,R!==2)continue}}if(R===1){Ce(c,0),G(c,h,0,!0);break}e:{switch(x=c,k=R,k){case 0:case 1:throw Error(i(345));case 4:if((h&4194048)!==h)break;case 6:G(x,h,ii,!Tn);break e;case 2:Zs=null;break;case 3:case 5:break;default:throw Error(i(329))}if((h&62914560)===h&&(R=au+300-Ae(),10<R)){if(G(x,h,ii,!Tn),_t(x,0,!0)!==0)break e;$o=h,x.timeoutHandle=nU(O.bind(null,x,g,Zs,ep,Va,h,ii,su,xo,Tn,k,"Throttled",-0,0),R);break e}O(x,g,Zs,ep,Va,h,ii,su,xo,Tn,k,null,-0,0)}}break}while(!0);rh(c)}function O(c,h,g,x,R,k,W,ne,ge,Pe,Ye,tt,ke,We){if(c.timeoutHandle=-1,tt=h.subtreeFlags,tt&8192||(tt&16785408)===16785408){tt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ss},Ir(h,k,tt);var Vt=(k&62914560)===k?au-Ae():(k&4194048)===k?Jf-Ae():0;if(Vt=hY(tt,Vt),Vt!==null){$o=k,c.cancelPendingCommit=Vt(dn.bind(null,c,h,k,g,x,R,W,ne,ge,Ye,tt,null,ke,We)),G(c,k,W,!Pe);return}}dn(c,h,k,g,x,R,W,ne,ge)}function B(c){for(var h=c;;){var g=h.tag;if((g===0||g===11||g===15)&&h.flags&16384&&(g=h.updateQueue,g!==null&&(g=g.stores,g!==null)))for(var x=0;x<g.length;x++){var R=g[x],k=R.getSnapshot;R=R.value;try{if(!Qi(k(),R))return!1}catch{return!1}}if(g=h.child,h.subtreeFlags&16384&&g!==null)g.return=h,h=g;else{if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function G(c,h,g,x){h&=~Tl,h&=~su,c.suspendedLanes|=h,c.pingedLanes&=~h,x&&(c.warmLanes|=h),x=c.expirationTimes;for(var R=h;0<R;){var k=31-jt(R),W=1<<k;x[k]=-1,R&=~W}g!==0&&zn(c,g,h)}function oe(){return(ni&6)===0?(Wb(0),!1):!0}function me(){if(Pn!==null){if(Yt===0)var c=Pn.return;else c=Pn,Ws=$c=null,Sb(c),Wu=null,$u=0,c=Pn;for(;c!==null;)ud(c.alternate,c),c=c.return;Pn=null}}function Ce(c,h){var g=c.timeoutHandle;g!==-1&&(c.timeoutHandle=-1,$X(g)),g=c.cancelPendingCommit,g!==null&&(c.cancelPendingCommit=null,g()),$o=0,me(),Ei=c,Pn=g=nc(c.current,null),Zn=h,Yt=0,Wn=null,Tn=!1,Vn=Zt(c,h),Di=!1,xo=ii=Tl=su=bo=Ti=0,Zs=wl=null,Va=!1,(h&8)!==0&&(h|=h&32);var x=c.entangledLanes;if(x!==0)for(c=c.entanglements,x&=h;0<x;){var R=31-jt(x),k=1<<R;h|=c[R],x&=~k}return Pr=h,Bu(),g}function Je(c,h){hn=null,q.H=Hm,h===qu||h===bl?(h=Wy(),Yt=3):h===Pm?(h=Wy(),Yt=4):Yt=h===cv?8:h!==null&&typeof h=="object"&&typeof h.then=="function"?6:1,Wn=h,Pn===null&&(Ti=1,lv(c,Da(h,c.current)))}function bt(){var c=os.current;return c===null?!0:(Zn&4194048)===Zn?Vo===null:(Zn&62914560)===Zn||(Zn&536870912)!==0?c===Vo:!1}function Ot(){var c=q.H;return q.H=Hm,c===null?Hm:c}function Nt(){var c=q.A;return q.A=gv,c}function bn(){Ti=4,Tn||(Zn&4194048)!==Zn&&os.current!==null||(Vn=!0),(bo&134217727)===0&&(su&134217727)===0||Ei===null||G(Ei,Zn,ii,!1)}function Ha(c,h,g){var x=ni;ni|=2;var R=Ot(),k=Nt();(Ei!==c||Zn!==h)&&(ep=null,Ce(c,h)),h=!1;var W=Ti;e:do try{if(Yt!==0&&Pn!==null){var ne=Pn,ge=Wn;switch(Yt){case 8:me(),W=6;break e;case 3:case 2:case 9:case 6:os.current===null&&(h=!0);var Pe=Yt;if(Yt=0,Wn=null,dt(c,ne,ge,Pe),g&&Vn){W=0;break e}break;default:Pe=Yt,Yt=0,Wn=null,dt(c,ne,ge,Pe)}}tg(),W=Ti;break}catch(Ye){Je(c,Ye)}while(!0);return h&&c.shellSuspendCounter++,Ws=$c=null,ni=x,q.H=R,q.A=k,Pn===null&&(Ei=null,Zn=0,Bu()),W}function tg(){for(;Pn!==null;)Te(Pn)}function yd(c,h){var g=ni;ni|=2;var x=Ot(),R=Nt();Ei!==c||Zn!==h?(ep=null,So=Ae()+500,Ce(c,h)):Vn=Zt(c,h);e:do try{if(Yt!==0&&Pn!==null){h=Pn;var k=Wn;t:switch(Yt){case 1:Yt=0,Wn=null,dt(c,h,k,1);break;case 2:case 9:if(AE(k)){Yt=0,Wn=null,He(h);break}h=function(){Yt!==2&&Yt!==9||Ei!==c||(Yt=7),rh(c)},k.then(h,h);break e;case 3:Yt=7;break e;case 4:Yt=5;break e;case 7:AE(k)?(Yt=0,Wn=null,He(h)):(Yt=0,Wn=null,dt(c,h,k,7));break;case 5:var W=null;switch(Pn.tag){case 26:W=Pn.memoizedState;case 5:case 27:var ne=Pn;if(W?yU(W):ne.stateNode.complete){Yt=0,Wn=null;var ge=ne.sibling;if(ge!==null)Pn=ge;else{var Pe=ne.return;Pe!==null?(Pn=Pe,Wt(Pe)):Pn=null}break t}}Yt=0,Wn=null,dt(c,h,k,5);break;case 6:Yt=0,Wn=null,dt(c,h,k,6);break;case 8:me(),Ti=6;break e;default:throw Error(i(462))}}Ue();break}catch(Ye){Je(c,Ye)}while(!0);return Ws=$c=null,q.H=x,q.A=R,ni=g,Pn!==null?0:(Ei=null,Zn=0,Bu(),Ti)}function Ue(){for(;Pn!==null&&!J();)Te(Pn)}function Te(c){var h=uv(c.alternate,c,Pr);c.memoizedProps=c.pendingProps,h===null?Wt(c):Pn=h}function He(c){var h=c,g=h.alternate;switch(h.tag){case 15:case 0:h=Xs(g,h,h.pendingProps,h.type,void 0,Zn);break;case 11:h=Xs(g,h,h.pendingProps,h.type.render,h.ref,Zn);break;case 5:Sb(h);default:ud(g,h),h=Pn=qs(h,Pr),h=uv(g,h,Pr)}c.memoizedProps=c.pendingProps,h===null?Wt(c):Pn=h}function dt(c,h,g,x){Ws=$c=null,Sb(h),Wu=null,$u=0;var R=h.return;try{if(fo(c,R,h,g,Zn)){Ti=1,lv(c,Da(g,c.current)),Pn=null;return}}catch(k){if(R!==null)throw Pn=R,k;Ti=1,lv(c,Da(g,c.current)),Pn=null;return}h.flags&32768?(Qn||x===1?c=!0:Vn||(Zn&536870912)!==0?c=!1:(Tn=c=!0,(x===2||x===9||x===3||x===6)&&(x=os.current,x!==null&&x.tag===13&&(x.flags|=16384))),qi(h,c)):Wt(h)}function Wt(c){var h=c;do{if((h.flags&32768)!==0){qi(h,Tn);return}c=h.return;var g=jb(h.alternate,h,Pr);if(g!==null){Pn=g;return}if(h=h.sibling,h!==null){Pn=h;return}Pn=h=c}while(h!==null);Ti===0&&(Ti=5)}function qi(c,h){do{var g=hv(c.alternate,c);if(g!==null){g.flags&=32767,Pn=g;return}if(g=c.return,g!==null&&(g.flags|=32768,g.subtreeFlags=0,g.deletions=null),!h&&(c=c.sibling,c!==null)){Pn=c;return}Pn=c=g}while(c!==null);Ti=6,Pn=null}function dn(c,h,g,x,R,k,W,ne,ge){c.cancelPendingCommit=null;do _v();while(dr!==0);if((ni&6)!==0)throw Error(i(327));if(h!==null){if(h===c.current)throw Error(i(177));if(k=h.lanes|h.childLanes,k|=zy,Mt(c,g,k,W,ne,ge),c===Ei&&(Pn=Ei=null,Zn=0),Eo=h,Cl=c,$o=g,ou=k,pd=R,vv=x,(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?(c.callbackNode=null,c.callbackPriority=0,NX(ht,function(){return B4(),null})):(c.callbackNode=null,c.callbackPriority=0),x=(h.flags&13878)!==0,(h.subtreeFlags&13878)!==0||x){x=q.T,q.T=null,R=$.p,$.p=2,W=ni,ni|=4;try{Zf(c,h,g)}finally{ni=W,$.p=R,q.T=x}}dr=1,ui(),cs(),hi()}}function ui(){if(dr===1){dr=0;var c=Cl,h=Eo,g=(h.flags&13878)!==0;if((h.subtreeFlags&13878)!==0||g){g=q.T,q.T=null;var x=$.p;$.p=2;var R=ni;ni|=4;try{nh(h,c);var k=zR,W=Dy(c.containerInfo),ne=k.focusedElem,ge=k.selectionRange;if(W!==ne&&ne&&ne.ownerDocument&&Py(ne.ownerDocument.documentElement,ne)){if(ge!==null&&Of(ne)){var Pe=ge.start,Ye=ge.end;if(Ye===void 0&&(Ye=Pe),"selectionStart"in ne)ne.selectionStart=Pe,ne.selectionEnd=Math.min(Ye,ne.value.length);else{var tt=ne.ownerDocument||document,ke=tt&&tt.defaultView||window;if(ke.getSelection){var We=ke.getSelection(),Vt=ne.textContent.length,ln=Math.min(ge.start,Vt),$i=ge.end===void 0?ln:Math.min(ge.end,Vt);!We.extend&&ln>$i&&(W=$i,$i=ln,ln=W);var we=Z_(ne,ln),be=Z_(ne,$i);if(we&&be&&(We.rangeCount!==1||We.anchorNode!==we.node||We.anchorOffset!==we.offset||We.focusNode!==be.node||We.focusOffset!==be.offset)){var Ie=tt.createRange();Ie.setStart(we.node,we.offset),We.removeAllRanges(),ln>$i?(We.addRange(Ie),We.extend(be.node,be.offset)):(Ie.setEnd(be.node,be.offset),We.addRange(Ie))}}}}for(tt=[],We=ne;We=We.parentNode;)We.nodeType===1&&tt.push({element:We,left:We.scrollLeft,top:We.scrollTop});for(typeof ne.focus=="function"&&ne.focus(),ne=0;ne<tt.length;ne++){var et=tt[ne];et.element.scrollLeft=et.left,et.element.scrollTop=et.top}}pT=!!kR,zR=kR=null}finally{ni=R,$.p=x,q.T=g}}c.current=h,dr=2}}function cs(){if(dr===2){dr=0;var c=Cl,h=Eo,g=(h.flags&8772)!==0;if((h.subtreeFlags&8772)!==0||g){g=q.T,q.T=null;var x=$.p;$.p=2;var R=ni;ni|=4;try{eT(c,h.alternate,h)}finally{ni=R,$.p=x,q.T=g}}dr=3}}function hi(){if(dr===4||dr===3){dr=0,Se();var c=Cl,h=Eo,g=$o,x=vv;(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?dr=5:(dr=0,Eo=Cl=null,lu(c,c.pendingLanes));var R=c.pendingLanes;if(R===0&&(mc=null),Is(g),h=h.stateNode,At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(wt,h,void 0,(h.current.flags&128)===128)}catch{}if(x!==null){h=q.T,R=$.p,$.p=2,q.T=null;try{for(var k=c.onRecoverableError,W=0;W<x.length;W++){var ne=x[W];k(ne.value,{componentStack:ne.stack})}}finally{q.T=h,$.p=R}}($o&3)!==0&&_v(),rh(c),R=c.pendingLanes,(g&261930)!==0&&(R&42)!==0?c===gd?md++:(md=0,gd=c):md=0,Wb(0)}}function lu(c,h){(c.pooledCacheLanes&=h)===0&&(h=c.pooledCache,h!=null&&(c.pooledCache=null,Ds(h)))}function _v(){return ui(),cs(),hi(),B4()}function B4(){if(dr!==5)return!1;var c=Cl,h=ou;ou=0;var g=Is($o),x=q.T,R=$.p;try{$.p=32>g?32:g,q.T=null,g=pd,pd=null;var k=Cl,W=$o;if(dr=0,Eo=Cl=null,$o=0,(ni&6)!==0)throw Error(i(331));var ne=ni;if(ni|=4,fd(k.current),hr(k,k.current,W,g),ni=ne,Wb(0,!1),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(wt,k)}catch{}return!0}finally{$.p=R,q.T=x,lu(c,h)}}function F4(c,h,g){h=Da(g,h),h=Hb(c.stateNode,h,2),c=Zc(c,h,2),c!==null&&(St(c,2),rh(c))}function zi(c,h,g){if(c.tag===3)F4(c,c,g);else for(;h!==null;){if(h.tag===3){F4(h,c,g);break}else if(h.tag===1){var x=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(mc===null||!mc.has(x))){c=Da(g,c),g=Wf(2),x=Zc(h,g,2),x!==null&&(ka(g,x,h,c),St(x,2),rh(x));break}}h=h.return}}function AR(c,h,g){var x=c.pingCache;if(x===null){x=c.pingCache=new yv;var R=new Set;x.set(h,R)}else R=x.get(h),R===void 0&&(R=new Set,x.set(h,R));R.has(g)||(Di=!0,R.add(g),c=IX.bind(null,c,h,g),h.then(c,c))}function IX(c,h,g){var x=c.pingCache;x!==null&&x.delete(h),c.pingedLanes|=c.suspendedLanes&g,c.warmLanes&=~g,Ei===c&&(Zn&g)===g&&(Ti===4||Ti===3&&(Zn&62914560)===Zn&&300>Ae()-au?(ni&2)===0&&Ce(c,0):Tl|=g,xo===Zn&&(xo=0)),rh(c)}function V4(c,h){h===0&&(h=Bt()),c=Fu(c,h),c!==null&&(St(c,h),rh(c))}function PX(c){var h=c.memoizedState,g=0;h!==null&&(g=h.retryLane),V4(c,g)}function DX(c,h){var g=0;switch(c.tag){case 31:case 13:var x=c.stateNode,R=c.memoizedState;R!==null&&(g=R.retryLane);break;case 19:x=c.stateNode;break;case 22:x=c.stateNode._retryCache;break;default:throw Error(i(314))}x!==null&&x.delete(h),V4(c,g)}function NX(c,h){return qe(c,h)}var iT=null,bv=null,MR=!1,rT=!1,RR=!1,tp=0;function rh(c){c!==bv&&c.next===null&&(bv===null?iT=bv=c:bv=bv.next=c),rT=!0,MR||(MR=!0,UX())}function Wb(c,h){if(!RR&&rT){RR=!0;do for(var g=!1,x=iT;x!==null;){if(c!==0){var R=x.pendingLanes;if(R===0)var k=0;else{var W=x.suspendedLanes,ne=x.pingedLanes;k=(1<<31-jt(42|c)+1)-1,k&=R&~(W&~ne),k=k&201326741?k&201326741|1:k?k|2:0}k!==0&&(g=!0,q4(x,k))}else k=Zn,k=_t(x,x===Ei?k:0,x.cancelPendingCommit!==null||x.timeoutHandle!==-1),(k&3)===0||Zt(x,k)||(g=!0,q4(x,k));x=x.next}while(g);RR=!1}}function LX(){H4()}function H4(){rT=MR=!1;var c=0;tp!==0&&WX()&&(c=tp);for(var h=Ae(),g=null,x=iT;x!==null;){var R=x.next,k=j4(x,h);k===0?(x.next=null,g===null?iT=R:g.next=R,R===null&&(bv=g)):(g=x,(c!==0||(k&3)!==0)&&(rT=!0)),x=R}dr!==0&&dr!==5||Wb(c),tp!==0&&(tp=0)}function j4(c,h){for(var g=c.suspendedLanes,x=c.pingedLanes,R=c.expirationTimes,k=c.pendingLanes&-62914561;0<k;){var W=31-jt(k),ne=1<<W,ge=R[W];ge===-1?((ne&g)===0||(ne&x)!==0)&&(R[W]=Yn(ne,h)):ge<=h&&(c.expiredLanes|=ne),k&=~ne}if(h=Ei,g=Zn,g=_t(c,c===h?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),x=c.callbackNode,g===0||c===h&&(Yt===2||Yt===9)||c.cancelPendingCommit!==null)return x!==null&&x!==null&&ae(x),c.callbackNode=null,c.callbackPriority=0;if((g&3)===0||Zt(c,g)){if(h=g&-g,h===c.callbackPriority)return h;switch(x!==null&&ae(x),Is(g)){case 2:case 8:g=ct;break;case 32:g=ht;break;case 268435456:g=zt;break;default:g=ht}return x=G4.bind(null,c),g=qe(g,x),c.callbackPriority=h,c.callbackNode=g,h}return x!==null&&x!==null&&ae(x),c.callbackPriority=2,c.callbackNode=null,2}function G4(c,h){if(dr!==0&&dr!==5)return c.callbackNode=null,c.callbackPriority=0,null;var g=c.callbackNode;if(_v()&&c.callbackNode!==g)return null;var x=Zn;return x=_t(c,c===Ei?x:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),x===0?null:(T(c,x,h),j4(c,Ae()),c.callbackNode!=null&&c.callbackNode===g?G4.bind(null,c):null)}function q4(c,h){if(_v())return null;T(c,h,!0)}function UX(){XX(function(){(ni&6)!==0?qe(Re,LX):H4()})}function OR(){if(tp===0){var c=Kc;c===0&&(c=gt,gt<<=1,(gt&261888)===0&&(gt=256)),tp=c}return tp}function W4(c){return c==null||typeof c=="symbol"||typeof c=="boolean"?null:typeof c=="function"?c:ml(""+c)}function $4(c,h){var g=h.ownerDocument.createElement("input");return g.name=h.name,g.value=h.value,c.id&&g.setAttribute("form",c.id),h.parentNode.insertBefore(g,h),c=new FormData(c),g.parentNode.removeChild(g),c}function kX(c,h,g,x,R){if(h==="submit"&&g&&g.stateNode===R){var k=W4((R[pr]||null).action),W=x.submitter;W&&(h=(h=W[pr]||null)?W4(h.formAction):W.getAttribute("formAction"),h!==null&&(k=h,W=null));var ne=new Ou("action","action",null,x,R);c.push({event:ne,listeners:[{instance:null,listener:function(){if(x.defaultPrevented){if(tp!==0){var ge=W?$4(R,W):new FormData(R);kb(g,{pending:!0,data:ge,method:R.method,action:k},null,ge)}}else typeof k=="function"&&(ne.preventDefault(),ge=W?$4(R,W):new FormData(R),kb(g,{pending:!0,data:ge,method:R.method,action:k},k,ge))},currentTarget:R}]})}}for(var IR=0;IR<ky.length;IR++){var PR=ky[IR],zX=PR.toLowerCase(),BX=PR[0].toUpperCase()+PR.slice(1);Gs(zX,"on"+BX)}Gs(Pa,"onAnimationEnd"),Gs(Q_,"onAnimationIteration"),Gs(tc,"onAnimationStart"),Gs("dblclick","onDoubleClick"),Gs("focusin","onFocus"),Gs("focusout","onBlur"),Gs(Nf,"onTransitionRun"),Gs(ku,"onTransitionStart"),Gs(J_,"onTransitionCancel"),Gs(Uy,"onTransitionEnd"),Rt("onMouseEnter",["mouseout","mouseover"]),Rt("onMouseLeave",["mouseout","mouseover"]),Rt("onPointerEnter",["pointerout","pointerover"]),Rt("onPointerLeave",["pointerout","pointerover"]),Ct("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ct("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ct("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ct("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ct("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ct("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $b="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FX=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($b));function X4(c,h){h=(h&4)!==0;for(var g=0;g<c.length;g++){var x=c[g],R=x.event;x=x.listeners;e:{var k=void 0;if(h)for(var W=x.length-1;0<=W;W--){var ne=x[W],ge=ne.instance,Pe=ne.currentTarget;if(ne=ne.listener,ge!==k&&R.isPropagationStopped())break e;k=ne,R.currentTarget=Pe;try{k(R)}catch(Ye){zu(Ye)}R.currentTarget=null,k=ge}else for(W=0;W<x.length;W++){if(ne=x[W],ge=ne.instance,Pe=ne.currentTarget,ne=ne.listener,ge!==k&&R.isPropagationStopped())break e;k=ne,R.currentTarget=Pe;try{k(R)}catch(Ye){zu(Ye)}R.currentTarget=null,k=ge}}}}function Jn(c,h){var g=h[fl];g===void 0&&(g=h[fl]=new Set);var x=c+"__bubble";g.has(x)||(Y4(h,c,2,!1),g.add(x))}function DR(c,h,g){var x=0;h&&(x|=4),Y4(g,c,x,h)}var sT="_reactListening"+Math.random().toString(36).slice(2);function NR(c){if(!c[sT]){c[sT]=!0,at.forEach(function(g){g!=="selectionchange"&&(FX.has(g)||DR(g,!1,c),DR(g,!0,c))});var h=c.nodeType===9?c:c.ownerDocument;h===null||h[sT]||(h[sT]=!0,DR("selectionchange",!1,h))}}function Y4(c,h,g,x){switch(TU(h)){case 2:var R=pY;break;case 8:R=mY;break;default:R=YR}g=R.bind(null,h,g,c),R=void 0,!_f||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(R=!0),x?R!==void 0?c.addEventListener(h,g,{capture:!0,passive:R}):c.addEventListener(h,g,!0):R!==void 0?c.addEventListener(h,g,{passive:R}):c.addEventListener(h,g,!1)}function LR(c,h,g,x,R){var k=x;if((h&1)===0&&(h&2)===0&&x!==null)e:for(;;){if(x===null)return;var W=x.tag;if(W===3||W===4){var ne=x.stateNode.containerInfo;if(ne===R)break;if(W===4)for(W=x.return;W!==null;){var ge=W.tag;if((ge===3||ge===4)&&W.stateNode.containerInfo===R)return;W=W.return}for(;ne!==null;){if(W=re(ne),W===null)return;if(ge=W.tag,ge===5||ge===6||ge===26||ge===27){x=k=W;continue e}ne=ne.parentNode}}x=x.return}ym(function(){var Pe=k,Ye=Hh(g),tt=[];e:{var ke=jc.get(c);if(ke!==void 0){var We=Ou,Vt=c;switch(c){case"keypress":if(Yl(g)===0)break e;case"keydown":case"keyup":We=Tf;break;case"focusin":Vt="focus",We=Vc;break;case"focusout":Vt="blur",We=Vc;break;case"beforeblur":case"afterblur":We=Vc;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":We=Iy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":We=vm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":We=zo;break;case Pa:case Q_:case tc:We=qh;break;case Uy:We=Cf;break;case"scroll":case"scrollend":We=Gh;break;case"wheel":We=gl;break;case"copy":case"cut":case"paste":We=xf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":We=Yh;break;case"toggle":case"beforetoggle":We=Jl}var ln=(h&4)!==0,$i=!ln&&(c==="scroll"||c==="scrollend"),we=ln?ke!==null?ke+"Capture":null:ke;ln=[];for(var be=Pe,Ie;be!==null;){var et=be;if(Ie=et.stateNode,et=et.tag,et!==5&&et!==26&&et!==27||Ie===null||we===null||(et=Vs(be,we),et!=null&&ln.push(Xb(be,et,Ie))),$i)break;be=be.return}0<ln.length&&(ke=new We(ke,Vt,null,g,Ye),tt.push({event:ke,listeners:ln}))}}if((h&7)===0){e:{if(ke=c==="mouseover"||c==="pointerover",We=c==="mouseout"||c==="pointerout",ke&&g!==Ru&&(Vt=g.relatedTarget||g.fromElement)&&(re(Vt)||Vt[oa]))break e;if((We||ke)&&(ke=Ye.window===Ye?Ye:(ke=Ye.ownerDocument)?ke.defaultView||ke.parentWindow:window,We?(Vt=g.relatedTarget||g.toElement,We=Pe,Vt=Vt?re(Vt):null,Vt!==null&&($i=s(Vt),ln=Vt.tag,Vt!==$i||ln!==5&&ln!==27&&ln!==6)&&(Vt=null)):(We=null,Vt=Pe),We!==Vt)){if(ln=Iy,et="onMouseLeave",we="onMouseEnter",be="mouse",(c==="pointerout"||c==="pointerover")&&(ln=Yh,et="onPointerLeave",we="onPointerEnter",be="pointer"),$i=We==null?ke:Le(We),Ie=Vt==null?ke:Le(Vt),ke=new ln(et,be+"leave",We,g,Ye),ke.target=$i,ke.relatedTarget=Ie,et=null,re(Ye)===Pe&&(ln=new ln(we,be+"enter",Vt,g,Ye),ln.target=Ie,ln.relatedTarget=$i,et=ln),$i=et,We&&Vt)t:{for(ln=VX,we=We,be=Vt,Ie=0,et=we;et;et=ln(et))Ie++;et=0;for(var en=be;en;en=ln(en))et++;for(;0<Ie-et;)we=ln(we),Ie--;for(;0<et-Ie;)be=ln(be),et--;for(;Ie--;){if(we===be||be!==null&&we===be.alternate){ln=we;break t}we=ln(we),be=ln(be)}ln=null}else ln=null;We!==null&&K4(tt,ke,We,ln,!1),Vt!==null&&$i!==null&&K4(tt,$i,Vt,ln,!0)}}e:{if(ke=Pe?Le(Pe):window,We=ke.nodeName&&ke.nodeName.toLowerCase(),We==="select"||We==="input"&&ke.type==="file")var wi=X_;else if(ua(ke))if(Em)wi=_E;else{wi=Nu;var qt=Tm}else We=ke.nodeName,!We||We.toLowerCase()!=="input"||ke.type!=="checkbox"&&ke.type!=="radio"?Pe&&Vh(Pe.elementType)&&(wi=X_):wi=vE;if(wi&&(wi=wi(c,Pe))){Hc(tt,wi,g,Ye);break e}qt&&qt(c,ke,Pe),c==="focusout"&&Pe&&ke.type==="number"&&Pe.memoizedProps.value!=null&&qr(ke,"number",ke.value)}switch(qt=Pe?Le(Pe):window,c){case"focusin":(ua(qt)||qt.contentEditable==="true")&&(If=qt,Ny=Pe,Pf=null);break;case"focusout":Pf=Ny=If=null;break;case"mousedown":oo=!0;break;case"contextmenu":case"mouseup":case"dragend":oo=!1,Ly(tt,g,Ye);break;case"selectionchange":if(bE)break;case"keydown":case"keyup":Ly(tt,g,Ye)}var Hn;if(j)e:{switch(c){case"compositionstart":var ri="onCompositionStart";break e;case"compositionend":ri="onCompositionEnd";break e;case"compositionupdate":ri="onCompositionUpdate";break e}ri=void 0}else On?pi(c,g)&&(ri="onCompositionEnd"):c==="keydown"&&g.keyCode===229&&(ri="onCompositionStart");ri&&(Ee&&g.locale!=="ko"&&(On||ri!=="onCompositionStart"?ri==="onCompositionEnd"&&On&&(Hn=Xl()):(ao=Ye,jh="value"in ao?ao.value:ao.textContent,On=!0)),qt=aT(Pe,ri),0<qt.length&&(ri=new Sf(ri,c,null,g,Ye),tt.push({event:ri,listeners:qt}),Hn?ri.data=Hn:(Hn=sr(g),Hn!==null&&(ri.data=Hn)))),(Hn=ce?Ar(c,g):as(c,g))&&(ri=aT(Pe,"onBeforeInput"),0<ri.length&&(qt=new Sf("onBeforeInput","beforeinput",null,g,Ye),tt.push({event:qt,listeners:ri}),qt.data=Hn)),kX(tt,c,Pe,g,Ye)}X4(tt,h)})}function Xb(c,h,g){return{instance:c,listener:h,currentTarget:g}}function aT(c,h){for(var g=h+"Capture",x=[];c!==null;){var R=c,k=R.stateNode;if(R=R.tag,R!==5&&R!==26&&R!==27||k===null||(R=Vs(c,g),R!=null&&x.unshift(Xb(c,R,k)),R=Vs(c,h),R!=null&&x.push(Xb(c,R,k))),c.tag===3)return x;c=c.return}return[]}function VX(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5&&c.tag!==27);return c||null}function K4(c,h,g,x,R){for(var k=h._reactName,W=[];g!==null&&g!==x;){var ne=g,ge=ne.alternate,Pe=ne.stateNode;if(ne=ne.tag,ge!==null&&ge===x)break;ne!==5&&ne!==26&&ne!==27||Pe===null||(ge=Pe,R?(Pe=Vs(g,k),Pe!=null&&W.unshift(Xb(g,Pe,ge))):R||(Pe=Vs(g,k),Pe!=null&&W.push(Xb(g,Pe,ge)))),g=g.return}W.length!==0&&c.push({event:h,listeners:W})}var HX=/\r\n?/g,jX=/\u0000|\uFFFD/g;function Z4(c){return(typeof c=="string"?c:""+c).replace(HX,`
`).replace(jX,"")}function Q4(c,h){return h=Z4(h),Z4(c)===h}function Wi(c,h,g,x,R,k){switch(g){case"children":typeof x=="string"?h==="body"||h==="textarea"&&x===""||Cr(c,x):(typeof x=="number"||typeof x=="bigint")&&h!=="body"&&Cr(c,""+x);break;case"className":xi(c,"class",x);break;case"tabIndex":xi(c,"tabindex",x);break;case"dir":case"role":case"viewBox":case"width":case"height":xi(c,g,x);break;case"style":mm(c,x,k);break;case"data":if(h!=="object"){xi(c,"data",x);break}case"src":case"href":if(x===""&&(h!=="a"||g!=="href")){c.removeAttribute(g);break}if(x==null||typeof x=="function"||typeof x=="symbol"||typeof x=="boolean"){c.removeAttribute(g);break}x=ml(""+x),c.setAttribute(g,x);break;case"action":case"formAction":if(typeof x=="function"){c.setAttribute(g,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof k=="function"&&(g==="formAction"?(h!=="input"&&Wi(c,h,"name",R.name,R,null),Wi(c,h,"formEncType",R.formEncType,R,null),Wi(c,h,"formMethod",R.formMethod,R,null),Wi(c,h,"formTarget",R.formTarget,R,null)):(Wi(c,h,"encType",R.encType,R,null),Wi(c,h,"method",R.method,R,null),Wi(c,h,"target",R.target,R,null)));if(x==null||typeof x=="symbol"||typeof x=="boolean"){c.removeAttribute(g);break}x=ml(""+x),c.setAttribute(g,x);break;case"onClick":x!=null&&(c.onclick=ss);break;case"onScroll":x!=null&&Jn("scroll",c);break;case"onScrollEnd":x!=null&&Jn("scrollend",c);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(i(61));if(g=x.__html,g!=null){if(R.children!=null)throw Error(i(60));c.innerHTML=g}}break;case"multiple":c.multiple=x&&typeof x!="function"&&typeof x!="symbol";break;case"muted":c.muted=x&&typeof x!="function"&&typeof x!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(x==null||typeof x=="function"||typeof x=="boolean"||typeof x=="symbol"){c.removeAttribute("xlink:href");break}g=ml(""+x),c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":x!=null&&typeof x!="function"&&typeof x!="symbol"?c.setAttribute(g,""+x):c.removeAttribute(g);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":x&&typeof x!="function"&&typeof x!="symbol"?c.setAttribute(g,""):c.removeAttribute(g);break;case"capture":case"download":x===!0?c.setAttribute(g,""):x!==!1&&x!=null&&typeof x!="function"&&typeof x!="symbol"?c.setAttribute(g,x):c.removeAttribute(g);break;case"cols":case"rows":case"size":case"span":x!=null&&typeof x!="function"&&typeof x!="symbol"&&!isNaN(x)&&1<=x?c.setAttribute(g,x):c.removeAttribute(g);break;case"rowSpan":case"start":x==null||typeof x=="function"||typeof x=="symbol"||isNaN(x)?c.removeAttribute(g):c.setAttribute(g,x);break;case"popover":Jn("beforetoggle",c),Jn("toggle",c),Un(c,"popover",x);break;case"xlinkActuate":$n(c,"http://www.w3.org/1999/xlink","xlink:actuate",x);break;case"xlinkArcrole":$n(c,"http://www.w3.org/1999/xlink","xlink:arcrole",x);break;case"xlinkRole":$n(c,"http://www.w3.org/1999/xlink","xlink:role",x);break;case"xlinkShow":$n(c,"http://www.w3.org/1999/xlink","xlink:show",x);break;case"xlinkTitle":$n(c,"http://www.w3.org/1999/xlink","xlink:title",x);break;case"xlinkType":$n(c,"http://www.w3.org/1999/xlink","xlink:type",x);break;case"xmlBase":$n(c,"http://www.w3.org/XML/1998/namespace","xml:base",x);break;case"xmlLang":$n(c,"http://www.w3.org/XML/1998/namespace","xml:lang",x);break;case"xmlSpace":$n(c,"http://www.w3.org/XML/1998/namespace","xml:space",x);break;case"is":Un(c,"is",x);break;case"innerText":case"textContent":break;default:(!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(g=Ry.get(g)||g,Un(c,g,x))}}function UR(c,h,g,x,R,k){switch(g){case"style":mm(c,x,k);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(i(61));if(g=x.__html,g!=null){if(R.children!=null)throw Error(i(60));c.innerHTML=g}}break;case"children":typeof x=="string"?Cr(c,x):(typeof x=="number"||typeof x=="bigint")&&Cr(c,""+x);break;case"onScroll":x!=null&&Jn("scroll",c);break;case"onScrollEnd":x!=null&&Jn("scrollend",c);break;case"onClick":x!=null&&(c.onclick=ss);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Tt.hasOwnProperty(g))e:{if(g[0]==="o"&&g[1]==="n"&&(R=g.endsWith("Capture"),h=g.slice(2,R?g.length-7:void 0),k=c[pr]||null,k=k!=null?k[g]:null,typeof k=="function"&&c.removeEventListener(h,k,R),typeof x=="function")){typeof k!="function"&&k!==null&&(g in c?c[g]=null:c.hasAttribute(g)&&c.removeAttribute(g)),c.addEventListener(h,x,R);break e}g in c?c[g]=x:x===!0?c.setAttribute(g,""):Un(c,g,x)}}}function va(c,h,g){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Jn("error",c),Jn("load",c);var x=!1,R=!1,k;for(k in g)if(g.hasOwnProperty(k)){var W=g[k];if(W!=null)switch(k){case"src":x=!0;break;case"srcSet":R=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,h));default:Wi(c,h,k,W,g,null)}}R&&Wi(c,h,"srcSet",g.srcSet,g,null),x&&Wi(c,h,"src",g.src,g,null);return;case"input":Jn("invalid",c);var ne=k=W=R=null,ge=null,Pe=null;for(x in g)if(g.hasOwnProperty(x)){var Ye=g[x];if(Ye!=null)switch(x){case"name":R=Ye;break;case"type":W=Ye;break;case"checked":ge=Ye;break;case"defaultChecked":Pe=Ye;break;case"value":k=Ye;break;case"defaultValue":ne=Ye;break;case"children":case"dangerouslySetInnerHTML":if(Ye!=null)throw Error(i(137,h));break;default:Wi(c,h,x,Ye,g,null)}}wr(c,k,ne,ge,Pe,W,R,!1);return;case"select":Jn("invalid",c),x=W=k=null;for(R in g)if(g.hasOwnProperty(R)&&(ne=g[R],ne!=null))switch(R){case"value":k=ne;break;case"defaultValue":W=ne;break;case"multiple":x=ne;default:Wi(c,h,R,ne,g,null)}h=k,g=W,c.multiple=!!x,h!=null?un(c,!!x,h,!1):g!=null&&un(c,!!x,g,!0);return;case"textarea":Jn("invalid",c),k=R=x=null;for(W in g)if(g.hasOwnProperty(W)&&(ne=g[W],ne!=null))switch(W){case"value":x=ne;break;case"defaultValue":R=ne;break;case"children":k=ne;break;case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(91));break;default:Wi(c,h,W,ne,g,null)}Ps(c,x,R,k);return;case"option":for(ge in g)if(g.hasOwnProperty(ge)&&(x=g[ge],x!=null))switch(ge){case"selected":c.selected=x&&typeof x!="function"&&typeof x!="symbol";break;default:Wi(c,h,ge,x,g,null)}return;case"dialog":Jn("beforetoggle",c),Jn("toggle",c),Jn("cancel",c),Jn("close",c);break;case"iframe":case"object":Jn("load",c);break;case"video":case"audio":for(x=0;x<$b.length;x++)Jn($b[x],c);break;case"image":Jn("error",c),Jn("load",c);break;case"details":Jn("toggle",c);break;case"embed":case"source":case"link":Jn("error",c),Jn("load",c);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Pe in g)if(g.hasOwnProperty(Pe)&&(x=g[Pe],x!=null))switch(Pe){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,h));default:Wi(c,h,Pe,x,g,null)}return;default:if(Vh(h)){for(Ye in g)g.hasOwnProperty(Ye)&&(x=g[Ye],x!==void 0&&UR(c,h,Ye,x,g,void 0));return}}for(ne in g)g.hasOwnProperty(ne)&&(x=g[ne],x!=null&&Wi(c,h,ne,x,g,null))}function GX(c,h,g,x){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var R=null,k=null,W=null,ne=null,ge=null,Pe=null,Ye=null;for(We in g){var tt=g[We];if(g.hasOwnProperty(We)&&tt!=null)switch(We){case"checked":break;case"value":break;case"defaultValue":ge=tt;default:x.hasOwnProperty(We)||Wi(c,h,We,null,x,tt)}}for(var ke in x){var We=x[ke];if(tt=g[ke],x.hasOwnProperty(ke)&&(We!=null||tt!=null))switch(ke){case"type":k=We;break;case"name":R=We;break;case"checked":Pe=We;break;case"defaultChecked":Ye=We;break;case"value":W=We;break;case"defaultValue":ne=We;break;case"children":case"dangerouslySetInnerHTML":if(We!=null)throw Error(i(137,h));break;default:We!==tt&&Wi(c,h,ke,We,x,tt)}}ti(c,W,ne,ge,Pe,Ye,k,R);return;case"select":We=W=ne=ke=null;for(k in g)if(ge=g[k],g.hasOwnProperty(k)&&ge!=null)switch(k){case"value":break;case"multiple":We=ge;default:x.hasOwnProperty(k)||Wi(c,h,k,null,x,ge)}for(R in x)if(k=x[R],ge=g[R],x.hasOwnProperty(R)&&(k!=null||ge!=null))switch(R){case"value":ke=k;break;case"defaultValue":ne=k;break;case"multiple":W=k;default:k!==ge&&Wi(c,h,R,k,x,ge)}h=ne,g=W,x=We,ke!=null?un(c,!!g,ke,!1):!!x!=!!g&&(h!=null?un(c,!!g,h,!0):un(c,!!g,g?[]:"",!1));return;case"textarea":We=ke=null;for(ne in g)if(R=g[ne],g.hasOwnProperty(ne)&&R!=null&&!x.hasOwnProperty(ne))switch(ne){case"value":break;case"children":break;default:Wi(c,h,ne,null,x,R)}for(W in x)if(R=x[W],k=g[W],x.hasOwnProperty(W)&&(R!=null||k!=null))switch(W){case"value":ke=R;break;case"defaultValue":We=R;break;case"children":break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(i(91));break;default:R!==k&&Wi(c,h,W,R,x,k)}cr(c,ke,We);return;case"option":for(var Vt in g)if(ke=g[Vt],g.hasOwnProperty(Vt)&&ke!=null&&!x.hasOwnProperty(Vt))switch(Vt){case"selected":c.selected=!1;break;default:Wi(c,h,Vt,null,x,ke)}for(ge in x)if(ke=x[ge],We=g[ge],x.hasOwnProperty(ge)&&ke!==We&&(ke!=null||We!=null))switch(ge){case"selected":c.selected=ke&&typeof ke!="function"&&typeof ke!="symbol";break;default:Wi(c,h,ge,ke,x,We)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ln in g)ke=g[ln],g.hasOwnProperty(ln)&&ke!=null&&!x.hasOwnProperty(ln)&&Wi(c,h,ln,null,x,ke);for(Pe in x)if(ke=x[Pe],We=g[Pe],x.hasOwnProperty(Pe)&&ke!==We&&(ke!=null||We!=null))switch(Pe){case"children":case"dangerouslySetInnerHTML":if(ke!=null)throw Error(i(137,h));break;default:Wi(c,h,Pe,ke,x,We)}return;default:if(Vh(h)){for(var $i in g)ke=g[$i],g.hasOwnProperty($i)&&ke!==void 0&&!x.hasOwnProperty($i)&&UR(c,h,$i,void 0,x,ke);for(Ye in x)ke=x[Ye],We=g[Ye],!x.hasOwnProperty(Ye)||ke===We||ke===void 0&&We===void 0||UR(c,h,Ye,ke,x,We);return}}for(var we in g)ke=g[we],g.hasOwnProperty(we)&&ke!=null&&!x.hasOwnProperty(we)&&Wi(c,h,we,null,x,ke);for(tt in x)ke=x[tt],We=g[tt],!x.hasOwnProperty(tt)||ke===We||ke==null&&We==null||Wi(c,h,tt,ke,x,We)}function J4(c){switch(c){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function qX(){if(typeof performance.getEntriesByType=="function"){for(var c=0,h=0,g=performance.getEntriesByType("resource"),x=0;x<g.length;x++){var R=g[x],k=R.transferSize,W=R.initiatorType,ne=R.duration;if(k&&ne&&J4(W)){for(W=0,ne=R.responseEnd,x+=1;x<g.length;x++){var ge=g[x],Pe=ge.startTime;if(Pe>ne)break;var Ye=ge.transferSize,tt=ge.initiatorType;Ye&&J4(tt)&&(ge=ge.responseEnd,W+=Ye*(ge<ne?1:(ne-Pe)/(ge-Pe)))}if(--x,h+=8*(k+W)/(R.duration/1e3),c++,10<c)break}}if(0<c)return h/c/1e6}return navigator.connection&&(c=navigator.connection.downlink,typeof c=="number")?c:5}var kR=null,zR=null;function oT(c){return c.nodeType===9?c:c.ownerDocument}function eU(c){switch(c){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function tU(c,h){if(c===0)switch(h){case"svg":return 1;case"math":return 2;default:return 0}return c===1&&h==="foreignObject"?0:c}function BR(c,h){return c==="textarea"||c==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.children=="bigint"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var FR=null;function WX(){var c=window.event;return c&&c.type==="popstate"?c===FR?!1:(FR=c,!0):(FR=null,!1)}var nU=typeof setTimeout=="function"?setTimeout:void 0,$X=typeof clearTimeout=="function"?clearTimeout:void 0,iU=typeof Promise=="function"?Promise:void 0,XX=typeof queueMicrotask=="function"?queueMicrotask:typeof iU<"u"?function(c){return iU.resolve(null).then(c).catch(YX)}:nU;function YX(c){setTimeout(function(){throw c})}function np(c){return c==="head"}function rU(c,h){var g=h,x=0;do{var R=g.nextSibling;if(c.removeChild(g),R&&R.nodeType===8)if(g=R.data,g==="/$"||g==="/&"){if(x===0){c.removeChild(R),Tv(h);return}x--}else if(g==="$"||g==="$?"||g==="$~"||g==="$!"||g==="&")x++;else if(g==="html")Yb(c.ownerDocument.documentElement);else if(g==="head"){g=c.ownerDocument.head,Yb(g);for(var k=g.firstChild;k;){var W=k.nextSibling,ne=k.nodeName;k[so]||ne==="SCRIPT"||ne==="STYLE"||ne==="LINK"&&k.rel.toLowerCase()==="stylesheet"||g.removeChild(k),k=W}}else g==="body"&&Yb(c.ownerDocument.body);g=R}while(g);Tv(h)}function sU(c,h){var g=c;c=0;do{var x=g.nextSibling;if(g.nodeType===1?h?(g._stashedDisplay=g.style.display,g.style.display="none"):(g.style.display=g._stashedDisplay||"",g.getAttribute("style")===""&&g.removeAttribute("style")):g.nodeType===3&&(h?(g._stashedText=g.nodeValue,g.nodeValue=""):g.nodeValue=g._stashedText||""),x&&x.nodeType===8)if(g=x.data,g==="/$"){if(c===0)break;c--}else g!=="$"&&g!=="$?"&&g!=="$~"&&g!=="$!"||c++;g=x}while(g)}function VR(c){var h=c.firstChild;for(h&&h.nodeType===10&&(h=h.nextSibling);h;){var g=h;switch(h=h.nextSibling,g.nodeName){case"HTML":case"HEAD":case"BODY":VR(g),pl(g);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(g.rel.toLowerCase()==="stylesheet")continue}c.removeChild(g)}}function KX(c,h,g,x){for(;c.nodeType===1;){var R=g;if(c.nodeName.toLowerCase()!==h.toLowerCase()){if(!x&&(c.nodeName!=="INPUT"||c.type!=="hidden"))break}else if(x){if(!c[so])switch(h){case"meta":if(!c.hasAttribute("itemprop"))break;return c;case"link":if(k=c.getAttribute("rel"),k==="stylesheet"&&c.hasAttribute("data-precedence"))break;if(k!==R.rel||c.getAttribute("href")!==(R.href==null||R.href===""?null:R.href)||c.getAttribute("crossorigin")!==(R.crossOrigin==null?null:R.crossOrigin)||c.getAttribute("title")!==(R.title==null?null:R.title))break;return c;case"style":if(c.hasAttribute("data-precedence"))break;return c;case"script":if(k=c.getAttribute("src"),(k!==(R.src==null?null:R.src)||c.getAttribute("type")!==(R.type==null?null:R.type)||c.getAttribute("crossorigin")!==(R.crossOrigin==null?null:R.crossOrigin))&&k&&c.hasAttribute("async")&&!c.hasAttribute("itemprop"))break;return c;default:return c}}else if(h==="input"&&c.type==="hidden"){var k=R.name==null?null:""+R.name;if(R.type==="hidden"&&c.getAttribute("name")===k)return c}else return c;if(c=gc(c.nextSibling),c===null)break}return null}function ZX(c,h,g){if(h==="")return null;for(;c.nodeType!==3;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!g||(c=gc(c.nextSibling),c===null))return null;return c}function aU(c,h){for(;c.nodeType!==8;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!h||(c=gc(c.nextSibling),c===null))return null;return c}function HR(c){return c.data==="$?"||c.data==="$~"}function jR(c){return c.data==="$!"||c.data==="$?"&&c.ownerDocument.readyState!=="loading"}function QX(c,h){var g=c.ownerDocument;if(c.data==="$~")c._reactRetry=h;else if(c.data!=="$?"||g.readyState!=="loading")h();else{var x=function(){h(),g.removeEventListener("DOMContentLoaded",x)};g.addEventListener("DOMContentLoaded",x),c._reactRetry=x}}function gc(c){for(;c!=null;c=c.nextSibling){var h=c.nodeType;if(h===1||h===3)break;if(h===8){if(h=c.data,h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"||h==="F!"||h==="F")break;if(h==="/$"||h==="/&")return null}}return c}var GR=null;function oU(c){c=c.nextSibling;for(var h=0;c;){if(c.nodeType===8){var g=c.data;if(g==="/$"||g==="/&"){if(h===0)return gc(c.nextSibling);h--}else g!=="$"&&g!=="$!"&&g!=="$?"&&g!=="$~"&&g!=="&"||h++}c=c.nextSibling}return null}function lU(c){c=c.previousSibling;for(var h=0;c;){if(c.nodeType===8){var g=c.data;if(g==="$"||g==="$!"||g==="$?"||g==="$~"||g==="&"){if(h===0)return c;h--}else g!=="/$"&&g!=="/&"||h++}c=c.previousSibling}return null}function cU(c,h,g){switch(h=oT(g),c){case"html":if(c=h.documentElement,!c)throw Error(i(452));return c;case"head":if(c=h.head,!c)throw Error(i(453));return c;case"body":if(c=h.body,!c)throw Error(i(454));return c;default:throw Error(i(451))}}function Yb(c){for(var h=c.attributes;h.length;)c.removeAttributeNode(h[0]);pl(c)}var yc=new Map,uU=new Set;function lT(c){return typeof c.getRootNode=="function"?c.getRootNode():c.nodeType===9?c:c.ownerDocument}var vd=$.d;$.d={f:JX,r:eY,D:tY,C:nY,L:iY,m:rY,X:aY,S:sY,M:oY};function JX(){var c=vd.f(),h=oe();return c||h}function eY(c){var h=_e(c);h!==null&&h.tag===5&&h.type==="form"?zb(h):vd.r(c)}var xv=typeof document>"u"?null:document;function hU(c,h,g){var x=xv;if(x&&typeof h=="string"&&h){var R=Mi(h);R='link[rel="'+c+'"][href="'+R+'"]',typeof g=="string"&&(R+='[crossorigin="'+g+'"]'),uU.has(R)||(uU.add(R),c={rel:c,crossOrigin:g,href:h},x.querySelector(R)===null&&(h=x.createElement("link"),va(h,"link",c),xe(h),x.head.appendChild(h)))}}function tY(c){vd.D(c),hU("dns-prefetch",c,null)}function nY(c,h){vd.C(c,h),hU("preconnect",c,h)}function iY(c,h,g){vd.L(c,h,g);var x=xv;if(x&&c&&h){var R='link[rel="preload"][as="'+Mi(h)+'"]';h==="image"&&g&&g.imageSrcSet?(R+='[imagesrcset="'+Mi(g.imageSrcSet)+'"]',typeof g.imageSizes=="string"&&(R+='[imagesizes="'+Mi(g.imageSizes)+'"]')):R+='[href="'+Mi(c)+'"]';var k=R;switch(h){case"style":k=Sv(c);break;case"script":k=Ev(c)}yc.has(k)||(c=p({rel:"preload",href:h==="image"&&g&&g.imageSrcSet?void 0:c,as:h},g),yc.set(k,c),x.querySelector(R)!==null||h==="style"&&x.querySelector(Kb(k))||h==="script"&&x.querySelector(Zb(k))||(h=x.createElement("link"),va(h,"link",c),xe(h),x.head.appendChild(h)))}}function rY(c,h){vd.m(c,h);var g=xv;if(g&&c){var x=h&&typeof h.as=="string"?h.as:"script",R='link[rel="modulepreload"][as="'+Mi(x)+'"][href="'+Mi(c)+'"]',k=R;switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":k=Ev(c)}if(!yc.has(k)&&(c=p({rel:"modulepreload",href:c},h),yc.set(k,c),g.querySelector(R)===null)){switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(g.querySelector(Zb(k)))return}x=g.createElement("link"),va(x,"link",c),xe(x),g.head.appendChild(x)}}}function sY(c,h,g){vd.S(c,h,g);var x=xv;if(x&&c){var R=De(x).hoistableStyles,k=Sv(c);h=h||"default";var W=R.get(k);if(!W){var ne={loading:0,preload:null};if(W=x.querySelector(Kb(k)))ne.loading=5;else{c=p({rel:"stylesheet",href:c,"data-precedence":h},g),(g=yc.get(k))&&qR(c,g);var ge=W=x.createElement("link");xe(ge),va(ge,"link",c),ge._p=new Promise(function(Pe,Ye){ge.onload=Pe,ge.onerror=Ye}),ge.addEventListener("load",function(){ne.loading|=1}),ge.addEventListener("error",function(){ne.loading|=2}),ne.loading|=4,cT(W,h,x)}W={type:"stylesheet",instance:W,count:1,state:ne},R.set(k,W)}}}function aY(c,h){vd.X(c,h);var g=xv;if(g&&c){var x=De(g).hoistableScripts,R=Ev(c),k=x.get(R);k||(k=g.querySelector(Zb(R)),k||(c=p({src:c,async:!0},h),(h=yc.get(R))&&WR(c,h),k=g.createElement("script"),xe(k),va(k,"link",c),g.head.appendChild(k)),k={type:"script",instance:k,count:1,state:null},x.set(R,k))}}function oY(c,h){vd.M(c,h);var g=xv;if(g&&c){var x=De(g).hoistableScripts,R=Ev(c),k=x.get(R);k||(k=g.querySelector(Zb(R)),k||(c=p({src:c,async:!0,type:"module"},h),(h=yc.get(R))&&WR(c,h),k=g.createElement("script"),xe(k),va(k,"link",c),g.head.appendChild(k)),k={type:"script",instance:k,count:1,state:null},x.set(R,k))}}function dU(c,h,g,x){var R=(R=de.current)?lT(R):null;if(!R)throw Error(i(446));switch(c){case"meta":case"title":return null;case"style":return typeof g.precedence=="string"&&typeof g.href=="string"?(h=Sv(g.href),g=De(R).hoistableStyles,x=g.get(h),x||(x={type:"style",instance:null,count:0,state:null},g.set(h,x)),x):{type:"void",instance:null,count:0,state:null};case"link":if(g.rel==="stylesheet"&&typeof g.href=="string"&&typeof g.precedence=="string"){c=Sv(g.href);var k=De(R).hoistableStyles,W=k.get(c);if(W||(R=R.ownerDocument||R,W={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},k.set(c,W),(k=R.querySelector(Kb(c)))&&!k._p&&(W.instance=k,W.state.loading=5),yc.has(c)||(g={rel:"preload",as:"style",href:g.href,crossOrigin:g.crossOrigin,integrity:g.integrity,media:g.media,hrefLang:g.hrefLang,referrerPolicy:g.referrerPolicy},yc.set(c,g),k||lY(R,c,g,W.state))),h&&x===null)throw Error(i(528,""));return W}if(h&&x!==null)throw Error(i(529,""));return null;case"script":return h=g.async,g=g.src,typeof g=="string"&&h&&typeof h!="function"&&typeof h!="symbol"?(h=Ev(g),g=De(R).hoistableScripts,x=g.get(h),x||(x={type:"script",instance:null,count:0,state:null},g.set(h,x)),x):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,c))}}function Sv(c){return'href="'+Mi(c)+'"'}function Kb(c){return'link[rel="stylesheet"]['+c+"]"}function fU(c){return p({},c,{"data-precedence":c.precedence,precedence:null})}function lY(c,h,g,x){c.querySelector('link[rel="preload"][as="style"]['+h+"]")?x.loading=1:(h=c.createElement("link"),x.preload=h,h.addEventListener("load",function(){return x.loading|=1}),h.addEventListener("error",function(){return x.loading|=2}),va(h,"link",g),xe(h),c.head.appendChild(h))}function Ev(c){return'[src="'+Mi(c)+'"]'}function Zb(c){return"script[async]"+c}function pU(c,h,g){if(h.count++,h.instance===null)switch(h.type){case"style":var x=c.querySelector('style[data-href~="'+Mi(g.href)+'"]');if(x)return h.instance=x,xe(x),x;var R=p({},g,{"data-href":g.href,"data-precedence":g.precedence,href:null,precedence:null});return x=(c.ownerDocument||c).createElement("style"),xe(x),va(x,"style",R),cT(x,g.precedence,c),h.instance=x;case"stylesheet":R=Sv(g.href);var k=c.querySelector(Kb(R));if(k)return h.state.loading|=4,h.instance=k,xe(k),k;x=fU(g),(R=yc.get(R))&&qR(x,R),k=(c.ownerDocument||c).createElement("link"),xe(k);var W=k;return W._p=new Promise(function(ne,ge){W.onload=ne,W.onerror=ge}),va(k,"link",x),h.state.loading|=4,cT(k,g.precedence,c),h.instance=k;case"script":return k=Ev(g.src),(R=c.querySelector(Zb(k)))?(h.instance=R,xe(R),R):(x=g,(R=yc.get(k))&&(x=p({},g),WR(x,R)),c=c.ownerDocument||c,R=c.createElement("script"),xe(R),va(R,"link",x),c.head.appendChild(R),h.instance=R);case"void":return null;default:throw Error(i(443,h.type))}else h.type==="stylesheet"&&(h.state.loading&4)===0&&(x=h.instance,h.state.loading|=4,cT(x,g.precedence,c));return h.instance}function cT(c,h,g){for(var x=g.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),R=x.length?x[x.length-1]:null,k=R,W=0;W<x.length;W++){var ne=x[W];if(ne.dataset.precedence===h)k=ne;else if(k!==R)break}k?k.parentNode.insertBefore(c,k.nextSibling):(h=g.nodeType===9?g.head:g,h.insertBefore(c,h.firstChild))}function qR(c,h){c.crossOrigin==null&&(c.crossOrigin=h.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=h.referrerPolicy),c.title==null&&(c.title=h.title)}function WR(c,h){c.crossOrigin==null&&(c.crossOrigin=h.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=h.referrerPolicy),c.integrity==null&&(c.integrity=h.integrity)}var uT=null;function mU(c,h,g){if(uT===null){var x=new Map,R=uT=new Map;R.set(g,x)}else R=uT,x=R.get(g),x||(x=new Map,R.set(g,x));if(x.has(c))return x;for(x.set(c,null),g=g.getElementsByTagName(c),R=0;R<g.length;R++){var k=g[R];if(!(k[so]||k[pn]||c==="link"&&k.getAttribute("rel")==="stylesheet")&&k.namespaceURI!=="http://www.w3.org/2000/svg"){var W=k.getAttribute(h)||"";W=c+W;var ne=x.get(W);ne?ne.push(k):x.set(W,[k])}}return x}function gU(c,h,g){c=c.ownerDocument||c,c.head.insertBefore(g,h==="title"?c.querySelector("head > title"):null)}function cY(c,h,g){if(g===1||h.itemProp!=null)return!1;switch(c){case"meta":case"title":return!0;case"style":if(typeof h.precedence!="string"||typeof h.href!="string"||h.href==="")break;return!0;case"link":if(typeof h.rel!="string"||typeof h.href!="string"||h.href===""||h.onLoad||h.onError)break;switch(h.rel){case"stylesheet":return c=h.disabled,typeof h.precedence=="string"&&c==null;default:return!0}case"script":if(h.async&&typeof h.async!="function"&&typeof h.async!="symbol"&&!h.onLoad&&!h.onError&&h.src&&typeof h.src=="string")return!0}return!1}function yU(c){return!(c.type==="stylesheet"&&(c.state.loading&3)===0)}function uY(c,h,g,x){if(g.type==="stylesheet"&&(typeof x.media!="string"||matchMedia(x.media).matches!==!1)&&(g.state.loading&4)===0){if(g.instance===null){var R=Sv(x.href),k=h.querySelector(Kb(R));if(k){h=k._p,h!==null&&typeof h=="object"&&typeof h.then=="function"&&(c.count++,c=hT.bind(c),h.then(c,c)),g.state.loading|=4,g.instance=k,xe(k);return}k=h.ownerDocument||h,x=fU(x),(R=yc.get(R))&&qR(x,R),k=k.createElement("link"),xe(k);var W=k;W._p=new Promise(function(ne,ge){W.onload=ne,W.onerror=ge}),va(k,"link",x),g.instance=k}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(g,h),(h=g.state.preload)&&(g.state.loading&3)===0&&(c.count++,g=hT.bind(c),h.addEventListener("load",g),h.addEventListener("error",g))}}var $R=0;function hY(c,h){return c.stylesheets&&c.count===0&&fT(c,c.stylesheets),0<c.count||0<c.imgCount?function(g){var x=setTimeout(function(){if(c.stylesheets&&fT(c,c.stylesheets),c.unsuspend){var k=c.unsuspend;c.unsuspend=null,k()}},6e4+h);0<c.imgBytes&&$R===0&&($R=62500*qX());var R=setTimeout(function(){if(c.waitingForImages=!1,c.count===0&&(c.stylesheets&&fT(c,c.stylesheets),c.unsuspend)){var k=c.unsuspend;c.unsuspend=null,k()}},(c.imgBytes>$R?50:800)+h);return c.unsuspend=g,function(){c.unsuspend=null,clearTimeout(x),clearTimeout(R)}}:null}function hT(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)fT(this,this.stylesheets);else if(this.unsuspend){var c=this.unsuspend;this.unsuspend=null,c()}}}var dT=null;function fT(c,h){c.stylesheets=null,c.unsuspend!==null&&(c.count++,dT=new Map,h.forEach(dY,c),dT=null,hT.call(c))}function dY(c,h){if(!(h.state.loading&4)){var g=dT.get(c);if(g)var x=g.get(null);else{g=new Map,dT.set(c,g);for(var R=c.querySelectorAll("link[data-precedence],style[data-precedence]"),k=0;k<R.length;k++){var W=R[k];(W.nodeName==="LINK"||W.getAttribute("media")!=="not all")&&(g.set(W.dataset.precedence,W),x=W)}x&&g.set(null,x)}R=h.instance,W=R.getAttribute("data-precedence"),k=g.get(W)||x,k===x&&g.set(null,R),g.set(W,R),this.count++,x=hT.bind(this),R.addEventListener("load",x),R.addEventListener("error",x),k?k.parentNode.insertBefore(R,k.nextSibling):(c=c.nodeType===9?c.head:c,c.insertBefore(R,c.firstChild)),h.state.loading|=4}}var Qb={$$typeof:A,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function fY(c,h,g,x,R,k,W,ne,ge){this.tag=1,this.containerInfo=c,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Qt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qt(0),this.hiddenUpdates=Qt(null),this.identifierPrefix=x,this.onUncaughtError=R,this.onCaughtError=k,this.onRecoverableError=W,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ge,this.incompleteTransitions=new Map}function vU(c,h,g,x,R,k,W,ne,ge,Pe,Ye,tt){return c=new fY(c,h,g,W,ge,Pe,Ye,tt,ne),h=1,k===!0&&(h|=24),k=da(3,null,null,h),c.current=k,k.stateNode=c,h=ab(),h.refCount++,c.pooledCache=h,h.refCount++,k.memoizedState={element:x,isDehydrated:g,cache:h},db(k),c}function _U(c){return c?(c=Vu,c):Vu}function bU(c,h,g,x,R,k){R=_U(R),x.context===null?x.context=R:x.pendingContext=R,x=oc(h),x.payload={element:g},k=k===void 0?null:k,k!==null&&(x.callback=k),g=Zc(c,x,h),g!==null&&(m(g,c,h),Yu(g,c,h))}function xU(c,h){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var g=c.retryLane;c.retryLane=g!==0&&g<h?g:h}}function XR(c,h){xU(c,h),(c=c.alternate)&&xU(c,h)}function SU(c){if(c.tag===13||c.tag===31){var h=Fu(c,67108864);h!==null&&m(h,c,67108864),XR(c,67108864)}}function EU(c){if(c.tag===13||c.tag===31){var h=ya();h=ki(h);var g=Fu(c,h);g!==null&&m(g,c,h),XR(c,h)}}var pT=!0;function pY(c,h,g,x){var R=q.T;q.T=null;var k=$.p;try{$.p=2,YR(c,h,g,x)}finally{$.p=k,q.T=R}}function mY(c,h,g,x){var R=q.T;q.T=null;var k=$.p;try{$.p=8,YR(c,h,g,x)}finally{$.p=k,q.T=R}}function YR(c,h,g,x){if(pT){var R=KR(x);if(R===null)LR(c,h,x,mT,g),wU(c,x);else if(yY(R,c,h,g,x))x.stopPropagation();else if(wU(c,x),h&4&&-1<gY.indexOf(c)){for(;R!==null;){var k=_e(R);if(k!==null)switch(k.tag){case 3:if(k=k.stateNode,k.current.memoizedState.isDehydrated){var W=xt(k.pendingLanes);if(W!==0){var ne=k;for(ne.pendingLanes|=2,ne.entangledLanes|=2;W;){var ge=1<<31-jt(W);ne.entanglements[1]|=ge,W&=~ge}rh(k),(ni&6)===0&&(So=Ae()+500,Wb(0))}}break;case 31:case 13:ne=Fu(k,2),ne!==null&&m(ne,k,2),oe(),XR(k,2)}if(k=KR(x),k===null&&LR(c,h,x,mT,g),k===R)break;R=k}R!==null&&x.stopPropagation()}else LR(c,h,x,null,g)}}function KR(c){return c=Hh(c),ZR(c)}var mT=null;function ZR(c){if(mT=null,c=re(c),c!==null){var h=s(c);if(h===null)c=null;else{var g=h.tag;if(g===13){if(c=a(h),c!==null)return c;c=null}else if(g===31){if(c=o(h),c!==null)return c;c=null}else if(g===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;c=null}else h!==c&&(c=null)}}return mT=c,null}function TU(c){switch(c){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ze()){case Re:return 2;case ct:return 8;case ht:case Dt:return 32;case zt:return 268435456;default:return 32}default:return 32}}var QR=!1,ip=null,rp=null,sp=null,Jb=new Map,e1=new Map,ap=[],gY="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wU(c,h){switch(c){case"focusin":case"focusout":ip=null;break;case"dragenter":case"dragleave":rp=null;break;case"mouseover":case"mouseout":sp=null;break;case"pointerover":case"pointerout":Jb.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":e1.delete(h.pointerId)}}function t1(c,h,g,x,R,k){return c===null||c.nativeEvent!==k?(c={blockedOn:h,domEventName:g,eventSystemFlags:x,nativeEvent:k,targetContainers:[R]},h!==null&&(h=_e(h),h!==null&&SU(h)),c):(c.eventSystemFlags|=x,h=c.targetContainers,R!==null&&h.indexOf(R)===-1&&h.push(R),c)}function yY(c,h,g,x,R){switch(h){case"focusin":return ip=t1(ip,c,h,g,x,R),!0;case"dragenter":return rp=t1(rp,c,h,g,x,R),!0;case"mouseover":return sp=t1(sp,c,h,g,x,R),!0;case"pointerover":var k=R.pointerId;return Jb.set(k,t1(Jb.get(k)||null,c,h,g,x,R)),!0;case"gotpointercapture":return k=R.pointerId,e1.set(k,t1(e1.get(k)||null,c,h,g,x,R)),!0}return!1}function CU(c){var h=re(c.target);if(h!==null){var g=s(h);if(g!==null){if(h=g.tag,h===13){if(h=a(g),h!==null){c.blockedOn=h,jr(c.priority,function(){EU(g)});return}}else if(h===31){if(h=o(g),h!==null){c.blockedOn=h,jr(c.priority,function(){EU(g)});return}}else if(h===3&&g.stateNode.current.memoizedState.isDehydrated){c.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}c.blockedOn=null}function gT(c){if(c.blockedOn!==null)return!1;for(var h=c.targetContainers;0<h.length;){var g=KR(c.nativeEvent);if(g===null){g=c.nativeEvent;var x=new g.constructor(g.type,g);Ru=x,g.target.dispatchEvent(x),Ru=null}else return h=_e(g),h!==null&&SU(h),c.blockedOn=g,!1;h.shift()}return!0}function AU(c,h,g){gT(c)&&g.delete(h)}function vY(){QR=!1,ip!==null&&gT(ip)&&(ip=null),rp!==null&&gT(rp)&&(rp=null),sp!==null&&gT(sp)&&(sp=null),Jb.forEach(AU),e1.forEach(AU)}function yT(c,h){c.blockedOn===h&&(c.blockedOn=null,QR||(QR=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,vY)))}var vT=null;function MU(c){vT!==c&&(vT=c,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){vT===c&&(vT=null);for(var h=0;h<c.length;h+=3){var g=c[h],x=c[h+1],R=c[h+2];if(typeof x!="function"){if(ZR(x||g)===null)continue;break}var k=_e(g);k!==null&&(c.splice(h,3),h-=3,kb(k,{pending:!0,data:R,method:g.method,action:x},x,R))}}))}function Tv(c){function h(ge){return yT(ge,c)}ip!==null&&yT(ip,c),rp!==null&&yT(rp,c),sp!==null&&yT(sp,c),Jb.forEach(h),e1.forEach(h);for(var g=0;g<ap.length;g++){var x=ap[g];x.blockedOn===c&&(x.blockedOn=null)}for(;0<ap.length&&(g=ap[0],g.blockedOn===null);)CU(g),g.blockedOn===null&&ap.shift();if(g=(c.ownerDocument||c).$$reactFormReplay,g!=null)for(x=0;x<g.length;x+=3){var R=g[x],k=g[x+1],W=R[pr]||null;if(typeof k=="function")W||MU(g);else if(W){var ne=null;if(k&&k.hasAttribute("formAction")){if(R=k,W=k[pr]||null)ne=W.formAction;else if(ZR(R)!==null)continue}else ne=W.action;typeof ne=="function"?g[x+1]=ne:(g.splice(x,3),x-=3),MU(g)}}}function RU(){function c(k){k.canIntercept&&k.info==="react-transition"&&k.intercept({handler:function(){return new Promise(function(W){return R=W})},focusReset:"manual",scroll:"manual"})}function h(){R!==null&&(R(),R=null),x||setTimeout(g,20)}function g(){if(!x&&!navigation.transition){var k=navigation.currentEntry;k&&k.url!=null&&navigation.navigate(k.url,{state:k.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var x=!1,R=null;return navigation.addEventListener("navigate",c),navigation.addEventListener("navigatesuccess",h),navigation.addEventListener("navigateerror",h),setTimeout(g,100),function(){x=!0,navigation.removeEventListener("navigate",c),navigation.removeEventListener("navigatesuccess",h),navigation.removeEventListener("navigateerror",h),R!==null&&(R(),R=null)}}}function JR(c){this._internalRoot=c}_T.prototype.render=JR.prototype.render=function(c){var h=this._internalRoot;if(h===null)throw Error(i(409));var g=h.current,x=ya();bU(g,x,c,h,null,null)},_T.prototype.unmount=JR.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var h=c.containerInfo;bU(c.current,2,null,c,null,null),oe(),h[oa]=null}};function _T(c){this._internalRoot=c}_T.prototype.unstable_scheduleHydration=function(c){if(c){var h=Ki();c={blockedOn:null,target:c,priority:h};for(var g=0;g<ap.length&&h!==0&&h<ap[g].priority;g++);ap.splice(g,0,c),g===0&&CU(c)}};var OU=e.version;if(OU!=="19.2.3")throw Error(i(527,OU,"19.2.3"));$.findDOMNode=function(c){var h=c._reactInternals;if(h===void 0)throw typeof c.render=="function"?Error(i(188)):(c=Object.keys(c).join(","),Error(i(268,c)));return c=u(h),c=c!==null?d(c):null,c=c===null?null:c.stateNode,c};var _Y={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bT=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bT.isDisabled&&bT.supportsFiber)try{wt=bT.inject(_Y),At=bT}catch{}}return i1.createRoot=function(c,h){if(!r(c))throw Error(i(299));var g=!1,x="",R=Vb,k=QE,W=ov;return h!=null&&(h.unstable_strictMode===!0&&(g=!0),h.identifierPrefix!==void 0&&(x=h.identifierPrefix),h.onUncaughtError!==void 0&&(R=h.onUncaughtError),h.onCaughtError!==void 0&&(k=h.onCaughtError),h.onRecoverableError!==void 0&&(W=h.onRecoverableError)),h=vU(c,1,!1,null,null,g,x,null,R,k,W,RU),c[oa]=h.current,NR(c),new JR(h)},i1.hydrateRoot=function(c,h,g){if(!r(c))throw Error(i(299));var x=!1,R="",k=Vb,W=QE,ne=ov,ge=null;return g!=null&&(g.unstable_strictMode===!0&&(x=!0),g.identifierPrefix!==void 0&&(R=g.identifierPrefix),g.onUncaughtError!==void 0&&(k=g.onUncaughtError),g.onCaughtError!==void 0&&(W=g.onCaughtError),g.onRecoverableError!==void 0&&(ne=g.onRecoverableError),g.formState!==void 0&&(ge=g.formState)),h=vU(c,1,!0,h,g??null,x,R,ge,k,W,ne,RU),h.context=_U(null),g=h.current,x=ya(),x=ki(x),R=oc(x),R.callback=null,Zc(g,R,x),g=x,h.current.lanes=g,St(h,g),rh(h),c[oa]=h.current,NR(c),new _T(h)},i1.version="19.2.3",i1}var FU;function RY(){if(FU)return nO.exports;FU=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),nO.exports=MY(),nO.exports}var OY=RY();/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var VU="popstate";function IY(n={}){function e(i,r){let{pathname:s,search:a,hash:o}=i.location;return D3("",{pathname:s,search:a,hash:o},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(i,r){return typeof r=="string"?r:kx(r)}return DY(e,t,null,n)}function Br(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function xu(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function PY(){return Math.random().toString(36).substring(2,10)}function HU(n,e){return{usr:n.state,key:n.key,idx:e}}function D3(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?T_(e):e,state:t,key:e&&e.key||i||PY()}}function kx({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function T_(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function DY(n,e,t,i={}){let{window:r=document.defaultView,v5Compat:s=!1}=i,a=r.history,o="POP",l=null,u=d();u==null&&(u=0,a.replaceState({...a.state,idx:u},""));function d(){return(a.state||{idx:null}).idx}function p(){o="POP";let E=d(),b=E==null?null:E-u;u=E,l&&l({action:o,location:S.location,delta:b})}function y(E,b){o="PUSH";let w=D3(S.location,E,b);u=d()+1;let A=HU(w,u),C=S.createHref(w);try{a.pushState(A,"",C)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;r.location.assign(C)}s&&l&&l({action:o,location:S.location,delta:1})}function v(E,b){o="REPLACE";let w=D3(S.location,E,b);u=d();let A=HU(w,u),C=S.createHref(w);a.replaceState(A,"",C),s&&l&&l({action:o,location:S.location,delta:0})}function _(E){return NY(E)}let S={get action(){return o},get location(){return n(r,a)},listen(E){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(VU,p),l=E,()=>{r.removeEventListener(VU,p),l=null}},createHref(E){return e(r,E)},createURL:_,encodeLocation(E){let b=_(E);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:y,replace:v,go(E){return a.go(E)}};return S}function NY(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Br(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:kx(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function bV(n,e,t="/"){return LY(n,e,t,!1)}function LY(n,e,t,i){let r=typeof e=="string"?T_(e):e,s=Kd(r.pathname||"/",t);if(s==null)return null;let a=xV(n);UY(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=$Y(s);o=qY(a[l],u,i)}return o}function xV(n,e=[],t=[],i="",r=!1){let s=(a,o,l=r,u)=>{let d={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(i)&&l)return;Br(d.relativePath.startsWith(i),`Absolute route path "${d.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(i.length)}let p=Gd([i,d.relativePath]),y=t.concat(d);a.children&&a.children.length>0&&(Br(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),xV(a.children,e,y,p,l)),!(a.path==null&&!a.index)&&e.push({path:p,score:jY(p,a.index),routesMeta:y})};return n.forEach((a,o)=>{if(a.path===""||!a.path?.includes("?"))s(a,o);else for(let l of SV(a.path))s(a,o,!0,l)}),e}function SV(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),s=t.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let a=SV(i.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),r&&o.push(...a),o.map(l=>n.startsWith("/")&&l===""?"/":l)}function UY(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:GY(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var kY=/^:[\w-]+$/,zY=3,BY=2,FY=1,VY=10,HY=-2,jU=n=>n==="*";function jY(n,e){let t=n.split("/"),i=t.length;return t.some(jU)&&(i+=HY),e&&(i+=BY),t.filter(r=>!jU(r)).reduce((r,s)=>r+(kY.test(s)?zY:s===""?FY:VY),i)}function GY(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function qY(n,e,t=!1){let{routesMeta:i}=n,r={},s="/",a=[];for(let o=0;o<i.length;++o){let l=i[o],u=o===i.length-1,d=s==="/"?e:e.slice(s.length)||"/",p=V2({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),y=l.route;if(!p&&u&&t&&!i[i.length-1].route.index&&(p=V2({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!p)return null;Object.assign(r,p.params),a.push({params:r,pathname:Gd([s,p.pathname]),pathnameBase:ZY(Gd([s,p.pathnameBase])),route:y}),p.pathnameBase!=="/"&&(s=Gd([s,p.pathnameBase]))}return a}function V2(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=WY(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let s=r[0],a=s.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:i.reduce((u,{paramName:d,isOptional:p},y)=>{if(d==="*"){let _=o[y]||"";a=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const v=o[y];return p&&!v?u[d]=void 0:u[d]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:n}}function WY(n,e=!1,t=!0){xu(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(i.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function $Y(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xu(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Kd(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}var EV=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,XY=n=>EV.test(n);function YY(n,e="/"){let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?T_(n):n,s;if(t)if(XY(t))s=t;else{if(t.includes("//")){let a=t;t=t.replace(/\/\/+/g,"/"),xu(!1,`Pathnames cannot have embedded double slashes - normalizing ${a} -> ${t}`)}t.startsWith("/")?s=GU(t.substring(1),"/"):s=GU(t,e)}else s=e;return{pathname:s,search:QY(i),hash:JY(r)}}function GU(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function aO(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function KY(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function TV(n){let e=KY(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function wV(n,e,t,i=!1){let r;typeof n=="string"?r=T_(n):(r={...n},Br(!r.pathname||!r.pathname.includes("?"),aO("?","pathname","search",r)),Br(!r.pathname||!r.pathname.includes("#"),aO("#","pathname","hash",r)),Br(!r.search||!r.search.includes("#"),aO("#","search","hash",r)));let s=n===""||r.pathname==="",a=s?"/":r.pathname,o;if(a==null)o=t;else{let p=e.length-1;if(!i&&a.startsWith("..")){let y=a.split("/");for(;y[0]==="..";)y.shift(),p-=1;r.pathname=y.join("/")}o=p>=0?e[p]:"/"}let l=YY(r,o),u=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}var Gd=n=>n.join("/").replace(/\/\/+/g,"/"),ZY=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),QY=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,JY=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,eK=class{constructor(n,e,t,i=!1){this.status=n,this.statusText=e||"",this.internal=i,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function tK(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function nK(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var CV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function AV(n,e){let t=n;if(typeof t!="string"||!EV.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let i=t,r=!1;if(CV)try{let s=new URL(window.location.href),a=t.startsWith("//")?new URL(s.protocol+t):new URL(t),o=Kd(a.pathname,e);a.origin===s.origin&&o!=null?t=o+a.search+a.hash:r=!0}catch{xu(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:r,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var MV=["POST","PUT","PATCH","DELETE"];new Set(MV);var iK=["GET",...MV];new Set(iK);var w_=H.createContext(null);w_.displayName="DataRouter";var NA=H.createContext(null);NA.displayName="DataRouterState";var rK=H.createContext(!1),RV=H.createContext({isTransitioning:!1});RV.displayName="ViewTransition";var sK=H.createContext(new Map);sK.displayName="Fetchers";var aK=H.createContext(null);aK.displayName="Await";var Nc=H.createContext(null);Nc.displayName="Navigation";var CS=H.createContext(null);CS.displayName="Location";var ff=H.createContext({outlet:null,matches:[],isDataRoute:!1});ff.displayName="Route";var FD=H.createContext(null);FD.displayName="RouteError";var OV="REACT_ROUTER_ERROR",oK="REDIRECT",lK="ROUTE_ERROR_RESPONSE";function cK(n){if(n.startsWith(`${OV}:${oK}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function uK(n){if(n.startsWith(`${OV}:${lK}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new eK(e.status,e.statusText,e.data)}catch{}}function hK(n,{relative:e}={}){Br(AS(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=H.useContext(Nc),{hash:r,pathname:s,search:a}=MS(n,{relative:e}),o=s;return t!=="/"&&(o=s==="/"?t:Gd([t,s])),i.createHref({pathname:o,search:a,hash:r})}function AS(){return H.useContext(CS)!=null}function yy(){return Br(AS(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(CS).location}var IV="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function PV(n){H.useContext(Nc).static||H.useLayoutEffect(n)}function DV(){let{isDataRoute:n}=H.useContext(ff);return n?TK():dK()}function dK(){Br(AS(),"useNavigate() may be used only in the context of a <Router> component.");let n=H.useContext(w_),{basename:e,navigator:t}=H.useContext(Nc),{matches:i}=H.useContext(ff),{pathname:r}=yy(),s=JSON.stringify(TV(i)),a=H.useRef(!1);return PV(()=>{a.current=!0}),H.useCallback((l,u={})=>{if(xu(a.current,IV),!a.current)return;if(typeof l=="number"){t.go(l);return}let d=wV(l,JSON.parse(s),r,u.relative==="path");n==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Gd([e,d.pathname])),(u.replace?t.replace:t.push)(d,u.state,u)},[e,t,s,r,n])}H.createContext(null);function MS(n,{relative:e}={}){let{matches:t}=H.useContext(ff),{pathname:i}=yy(),r=JSON.stringify(TV(t));return H.useMemo(()=>wV(n,JSON.parse(r),i,e==="path"),[n,r,i,e])}function fK(n,e){return NV(n,e)}function NV(n,e,t,i,r){Br(AS(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=H.useContext(Nc),{matches:a}=H.useContext(ff),o=a[a.length-1],l=o?o.params:{},u=o?o.pathname:"/",d=o?o.pathnameBase:"/",p=o&&o.route;{let w=p&&p.path||"";UV(u,!p||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let y=yy(),v;if(e){let w=typeof e=="string"?T_(e):e;Br(d==="/"||w.pathname?.startsWith(d),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${w.pathname}" was given in the \`location\` prop.`),v=w}else v=y;let _=v.pathname||"/",S=_;if(d!=="/"){let w=d.replace(/^\//,"").split("/");S="/"+_.replace(/^\//,"").split("/").slice(w.length).join("/")}let E=bV(n,{pathname:S});xu(p||E!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),xu(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=vK(E&&E.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:Gd([d,s.encodeLocation?s.encodeLocation(w.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?d:Gd([d,s.encodeLocation?s.encodeLocation(w.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathnameBase])})),a,t,i,r);return e&&b?H.createElement(CS.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},b):b}function pK(){let n=EK(),e=tK(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},a=null;return console.error("Error handled by React Router default ErrorBoundary:",n),a=H.createElement(H.Fragment,null,H.createElement("p",null," Hey developer "),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:s},"ErrorBoundary")," or"," ",H.createElement("code",{style:s},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),t?H.createElement("pre",{style:r},t):null,a)}var mK=H.createElement(pK,null),LV=class extends H.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=uK(n.digest);t&&(n=t)}let e=n!==void 0?H.createElement(ff.Provider,{value:this.props.routeContext},H.createElement(FD.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?H.createElement(gK,{error:n},e):e}};LV.contextType=rK;var oO=new WeakMap;function gK({children:n,error:e}){let{basename:t}=H.useContext(Nc);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=cK(e.digest);if(i){let r=oO.get(e);if(r)throw r;let s=AV(i.location,t);if(CV&&!oO.get(e))if(s.isExternal||i.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const a=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:i.replace}));throw oO.set(e,a),a}return H.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return n}function yK({routeContext:n,match:e,children:t}){let i=H.useContext(w_);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),H.createElement(ff.Provider,{value:n},t)}function vK(n,e=[],t=null,i=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,a=t?.errors;if(a!=null){let d=s.findIndex(p=>p.route.id&&a?.[p.route.id]!==void 0);Br(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let o=!1,l=-1;if(t)for(let d=0;d<s.length;d++){let p=s[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(l=d),p.route.id){let{loaderData:y,errors:v}=t,_=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||_){o=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}let u=t&&i?(d,p)=>{i(d,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:nK(t.matches),errorInfo:p})}:void 0;return s.reduceRight((d,p,y)=>{let v,_=!1,S=null,E=null;t&&(v=a&&p.route.id?a[p.route.id]:void 0,S=p.route.errorElement||mK,o&&(l<0&&y===0?(UV("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,E=null):l===y&&(_=!0,E=p.route.hydrateFallbackElement||null)));let b=e.concat(s.slice(0,y+1)),w=()=>{let A;return v?A=S:_?A=E:p.route.Component?A=H.createElement(p.route.Component,null):p.route.element?A=p.route.element:A=d,H.createElement(yK,{match:p,routeContext:{outlet:d,matches:b,isDataRoute:t!=null},children:A})};return t&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?H.createElement(LV,{location:t.location,revalidation:t.revalidation,component:S,error:v,children:w(),routeContext:{outlet:null,matches:b,isDataRoute:!0},onError:u}):w()},null)}function VD(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _K(n){let e=H.useContext(w_);return Br(e,VD(n)),e}function bK(n){let e=H.useContext(NA);return Br(e,VD(n)),e}function xK(n){let e=H.useContext(ff);return Br(e,VD(n)),e}function HD(n){let e=xK(n),t=e.matches[e.matches.length-1];return Br(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function SK(){return HD("useRouteId")}function EK(){let n=H.useContext(FD),e=bK("useRouteError"),t=HD("useRouteError");return n!==void 0?n:e.errors?.[t]}function TK(){let{router:n}=_K("useNavigate"),e=HD("useNavigate"),t=H.useRef(!1);return PV(()=>{t.current=!0}),H.useCallback(async(r,s={})=>{xu(t.current,IV),t.current&&(typeof r=="number"?await n.navigate(r):await n.navigate(r,{fromRouteId:e,...s}))},[n,e])}var qU={};function UV(n,e,t){!e&&!qU[n]&&(qU[n]=!0,xu(!1,t))}H.memo(wK);function wK({routes:n,future:e,state:t,onError:i}){return NV(n,void 0,t,i,e)}function N3(n){Br(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function CK({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:r,static:s=!1,unstable_useTransitions:a}){Br(!AS(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=n.replace(/^\/*/,"/"),l=H.useMemo(()=>({basename:o,navigator:r,static:s,unstable_useTransitions:a,future:{}}),[o,r,s,a]);typeof t=="string"&&(t=T_(t));let{pathname:u="/",search:d="",hash:p="",state:y=null,key:v="default"}=t,_=H.useMemo(()=>{let S=Kd(u,o);return S==null?null:{location:{pathname:S,search:d,hash:p,state:y,key:v},navigationType:i}},[o,u,d,p,y,v,i]);return xu(_!=null,`<Router basename="${o}"> is not able to match the URL "${u}${d}${p}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:H.createElement(Nc.Provider,{value:l},H.createElement(CS.Provider,{children:e,value:_}))}function AK({children:n,location:e}){return fK(L3(n),e)}function L3(n,e=[]){let t=[];return H.Children.forEach(n,(i,r)=>{if(!H.isValidElement(i))return;let s=[...e,r];if(i.type===H.Fragment){t.push.apply(t,L3(i.props.children,s));return}Br(i.type===N3,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Br(!i.props.index||!i.props.children,"An index route cannot have child routes.");let a={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=L3(i.props.children,s)),t.push(a)}),t}var u2="get",h2="application/x-www-form-urlencoded";function LA(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function MK(n){return LA(n)&&n.tagName.toLowerCase()==="button"}function RK(n){return LA(n)&&n.tagName.toLowerCase()==="form"}function OK(n){return LA(n)&&n.tagName.toLowerCase()==="input"}function IK(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function PK(n,e){return n.button===0&&(!e||e==="_self")&&!IK(n)}var xT=null;function DK(){if(xT===null)try{new FormData(document.createElement("form"),0),xT=!1}catch{xT=!0}return xT}var NK=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function lO(n){return n!=null&&!NK.has(n)?(xu(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${h2}"`),null):n}function LK(n,e){let t,i,r,s,a;if(RK(n)){let o=n.getAttribute("action");i=o?Kd(o,e):null,t=n.getAttribute("method")||u2,r=lO(n.getAttribute("enctype"))||h2,s=new FormData(n)}else if(MK(n)||OK(n)&&(n.type==="submit"||n.type==="image")){let o=n.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=n.getAttribute("formaction")||o.getAttribute("action");if(i=l?Kd(l,e):null,t=n.getAttribute("formmethod")||o.getAttribute("method")||u2,r=lO(n.getAttribute("formenctype"))||lO(o.getAttribute("enctype"))||h2,s=new FormData(o,n),!DK()){let{name:u,type:d,value:p}=n;if(d==="image"){let y=u?`${u}.`:"";s.append(`${y}x`,"0"),s.append(`${y}y`,"0")}else u&&s.append(u,p)}}else{if(LA(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=u2,i=null,r=h2,a=n}return s&&r==="text/plain"&&(a=s,s=void 0),{action:i,method:t.toLowerCase(),encType:r,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function jD(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function UK(n,e,t){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&Kd(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function kK(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function zK(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function BK(n,e,t){let i=await Promise.all(n.map(async r=>{let s=e.routes[r.route.id];if(s){let a=await kK(s,t);return a.links?a.links():[]}return[]}));return jK(i.flat(1).filter(zK).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function WU(n,e,t,i,r,s){let a=(l,u)=>t[u]?l.route.id!==t[u].route.id:!0,o=(l,u)=>t[u].pathname!==l.pathname||t[u].route.path?.endsWith("*")&&t[u].params["*"]!==l.params["*"];return s==="assets"?e.filter((l,u)=>a(l,u)||o(l,u)):s==="data"?e.filter((l,u)=>{let d=i.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(a(l,u)||o(l,u))return!0;if(l.route.shouldRevalidate){let p=l.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function FK(n,e,{includeHydrateFallback:t}={}){return VK(n.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),t&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function VK(n){return[...new Set(n)]}function HK(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function jK(n,e){let t=new Set;return new Set(e),n.reduce((i,r)=>{let s=JSON.stringify(HK(r));return t.has(s)||(t.add(s),i.push({key:s,link:r})),i},[])}function kV(){let n=H.useContext(w_);return jD(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function GK(){let n=H.useContext(NA);return jD(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var GD=H.createContext(void 0);GD.displayName="FrameworkContext";function zV(){let n=H.useContext(GD);return jD(n,"You must render this element inside a <HydratedRouter> element"),n}function qK(n,e){let t=H.useContext(GD),[i,r]=H.useState(!1),[s,a]=H.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:u,onMouseLeave:d,onTouchStart:p}=e,y=H.useRef(null);H.useEffect(()=>{if(n==="render"&&a(!0),n==="viewport"){let S=b=>{b.forEach(w=>{a(w.isIntersecting)})},E=new IntersectionObserver(S,{threshold:.5});return y.current&&E.observe(y.current),()=>{E.disconnect()}}},[n]),H.useEffect(()=>{if(i){let S=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(S)}}},[i]);let v=()=>{r(!0)},_=()=>{r(!1),a(!1)};return t?n!=="intent"?[s,y,{}]:[s,y,{onFocus:r1(o,v),onBlur:r1(l,_),onMouseEnter:r1(u,v),onMouseLeave:r1(d,_),onTouchStart:r1(p,v)}]:[!1,y,{}]}function r1(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function WK({page:n,...e}){let{router:t}=kV(),i=H.useMemo(()=>bV(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?H.createElement(XK,{page:n,matches:i,...e}):null}function $K(n){let{manifest:e,routeModules:t}=zV(),[i,r]=H.useState([]);return H.useEffect(()=>{let s=!1;return BK(n,e,t).then(a=>{s||r(a)}),()=>{s=!0}},[n,e,t]),i}function XK({page:n,matches:e,...t}){let i=yy(),{manifest:r,routeModules:s}=zV(),{basename:a}=kV(),{loaderData:o,matches:l}=GK(),u=H.useMemo(()=>WU(n,e,l,r,i,"data"),[n,e,l,r,i]),d=H.useMemo(()=>WU(n,e,l,r,i,"assets"),[n,e,l,r,i]),p=H.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let _=new Set,S=!1;if(e.forEach(b=>{let w=r.routes[b.route.id];!w||!w.hasLoader||(!u.some(A=>A.route.id===b.route.id)&&b.route.id in o&&s[b.route.id]?.shouldRevalidate||w.hasClientLoader?S=!0:_.add(b.route.id))}),_.size===0)return[];let E=UK(n,a,"data");return S&&_.size>0&&E.searchParams.set("_routes",e.filter(b=>_.has(b.route.id)).map(b=>b.route.id).join(",")),[E.pathname+E.search]},[a,o,i,r,u,e,n,s]),y=H.useMemo(()=>FK(d,r),[d,r]),v=$K(d);return H.createElement(H.Fragment,null,p.map(_=>H.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...t})),y.map(_=>H.createElement("link",{key:_,rel:"modulepreload",href:_,...t})),v.map(({key:_,link:S})=>H.createElement("link",{key:_,nonce:t.nonce,...S})))}function YK(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var KK=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{KK&&(window.__reactRouterVersion="7.11.0")}catch{}function ZK({basename:n,children:e,unstable_useTransitions:t,window:i}){let r=H.useRef();r.current==null&&(r.current=IY({window:i,v5Compat:!0}));let s=r.current,[a,o]=H.useState({action:s.action,location:s.location}),l=H.useCallback(u=>{t===!1?o(u):H.startTransition(()=>o(u))},[t]);return H.useLayoutEffect(()=>s.listen(l),[s,l]),H.createElement(CK,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:s,unstable_useTransitions:t})}var BV=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,FV=H.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:r,reloadDocument:s,replace:a,state:o,target:l,to:u,preventScrollReset:d,viewTransition:p,unstable_defaultShouldRevalidate:y,...v},_){let{basename:S,unstable_useTransitions:E}=H.useContext(Nc),b=typeof u=="string"&&BV.test(u),w=AV(u,S);u=w.to;let A=hK(u,{relative:r}),[C,D,N]=qK(i,v),I=tZ(u,{replace:a,state:o,target:l,preventScrollReset:d,relative:r,viewTransition:p,unstable_defaultShouldRevalidate:y,unstable_useTransitions:E});function L(U){e&&e(U),U.defaultPrevented||I(U)}let P=H.createElement("a",{...v,...N,href:w.absoluteURL||A,onClick:w.isExternal||s?e:L,ref:YK(_,D),target:l,"data-discover":!b&&t==="render"?"true":void 0});return C&&!b?H.createElement(H.Fragment,null,P,H.createElement(WK,{page:A})):P});FV.displayName="Link";var QK=H.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:r=!1,style:s,to:a,viewTransition:o,children:l,...u},d){let p=MS(a,{relative:u.relative}),y=yy(),v=H.useContext(NA),{navigator:_,basename:S}=H.useContext(Nc),E=v!=null&&aZ(p)&&o===!0,b=_.encodeLocation?_.encodeLocation(p).pathname:p.pathname,w=y.pathname,A=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;t||(w=w.toLowerCase(),A=A?A.toLowerCase():null,b=b.toLowerCase()),A&&S&&(A=Kd(A,S)||A);const C=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let D=w===b||!r&&w.startsWith(b)&&w.charAt(C)==="/",N=A!=null&&(A===b||!r&&A.startsWith(b)&&A.charAt(b.length)==="/"),I={isActive:D,isPending:N,isTransitioning:E},L=D?e:void 0,P;typeof i=="function"?P=i(I):P=[i,D?"active":null,N?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let U=typeof s=="function"?s(I):s;return H.createElement(FV,{...u,"aria-current":L,className:P,ref:d,style:U,to:a,viewTransition:o},typeof l=="function"?l(I):l)});QK.displayName="NavLink";var JK=H.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:r,state:s,method:a=u2,action:o,onSubmit:l,relative:u,preventScrollReset:d,viewTransition:p,unstable_defaultShouldRevalidate:y,...v},_)=>{let{unstable_useTransitions:S}=H.useContext(Nc),E=rZ(),b=sZ(o,{relative:u}),w=a.toLowerCase()==="get"?"get":"post",A=typeof o=="string"&&BV.test(o),C=D=>{if(l&&l(D),D.defaultPrevented)return;D.preventDefault();let N=D.nativeEvent.submitter,I=N?.getAttribute("formmethod")||a,L=()=>E(N||D.currentTarget,{fetcherKey:e,method:I,navigate:t,replace:r,state:s,relative:u,preventScrollReset:d,viewTransition:p,unstable_defaultShouldRevalidate:y});S&&t!==!1?H.startTransition(()=>L()):L()};return H.createElement("form",{ref:_,method:w,action:b,onSubmit:i?l:C,...v,"data-discover":!A&&n==="render"?"true":void 0})});JK.displayName="Form";function eZ(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function VV(n){let e=H.useContext(w_);return Br(e,eZ(n)),e}function tZ(n,{target:e,replace:t,state:i,preventScrollReset:r,relative:s,viewTransition:a,unstable_defaultShouldRevalidate:o,unstable_useTransitions:l}={}){let u=DV(),d=yy(),p=MS(n,{relative:s});return H.useCallback(y=>{if(PK(y,e)){y.preventDefault();let v=t!==void 0?t:kx(d)===kx(p),_=()=>u(n,{replace:v,state:i,preventScrollReset:r,relative:s,viewTransition:a,unstable_defaultShouldRevalidate:o});l?H.startTransition(()=>_()):_()}},[d,u,p,t,i,e,n,r,s,a,o,l])}var nZ=0,iZ=()=>`__${String(++nZ)}__`;function rZ(){let{router:n}=VV("useSubmit"),{basename:e}=H.useContext(Nc),t=SK(),i=n.fetch,r=n.navigate;return H.useCallback(async(s,a={})=>{let{action:o,method:l,encType:u,formData:d,body:p}=LK(s,e);if(a.navigate===!1){let y=a.fetcherKey||iZ();await i(y,t,a.action||o,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:d,body:p,formMethod:a.method||l,formEncType:a.encType||u,flushSync:a.flushSync})}else await r(a.action||o,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:d,body:p,formMethod:a.method||l,formEncType:a.encType||u,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[i,r,e,t])}function sZ(n,{relative:e}={}){let{basename:t}=H.useContext(Nc),i=H.useContext(ff);Br(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),s={...MS(n||".",{relative:e})},a=yy();if(n==null){s.search=a.search;let o=new URLSearchParams(s.search),l=o.getAll("index");if(l.some(d=>d==="")){o.delete("index"),l.filter(p=>p).forEach(p=>o.append("index",p));let d=o.toString();s.search=d?`?${d}`:""}}return(!n||n===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:Gd([t,s.pathname])),kx(s)}function aZ(n,{relative:e}={}){let t=H.useContext(RV);Br(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=VV("useViewTransitionState"),r=MS(n,{relative:e});if(!t.isTransitioning)return!1;let s=Kd(t.currentLocation.pathname,i)||t.currentLocation.pathname,a=Kd(t.nextLocation.pathname,i)||t.nextLocation.pathname;return V2(r.pathname,a)!=null||V2(r.pathname,s)!=null}var HV=_V();const ST=rm(HV);var U3=function(n,e){return U3=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])},U3(n,e)};function oZ(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");U3(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Js=function(){return Js=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Js.apply(this,arguments)};function $U(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function ng(n,e,t,i){function r(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(d){try{u(i.next(d))}catch(p){a(p)}}function l(d){try{u(i.throw(d))}catch(p){a(p)}}function u(d){d.done?s(d.value):r(d.value).then(o,l)}u((i=i.apply(n,e||[])).next())})}function ig(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,r,s,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=o(0),a.throw=o(1),a.return=o(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(u){return function(d){return l([u,d])}}function l(u){if(i)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(t=0)),t;)try{if(i=1,r&&(s=u[0]&2?r.return:u[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,u[1])).done)return s;switch(r=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,r=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){t.label=u[1];break}if(u[0]===6&&t.label<s[1]){t.label=s[1],s=u;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(u);break}s[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(n,t)}catch(d){u=[6,d],r=0}finally{i=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function lZ(n,e,t){for(var i=0,r=e.length,s;i<r;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return n.concat(s||Array.prototype.slice.call(e))}function ph(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t}var Dg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qD(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function WD(n,e){return n(e={exports:{}},e.exports),e.exports}var Cg=WD((function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=(function(){function i(){var r=this;this.locked=new Map,this.addToLocked=function(s,a){var o=r.locked.get(s);o===void 0?a===void 0?r.locked.set(s,[]):r.locked.set(s,[a]):a!==void 0&&(o.unshift(a),r.locked.set(s,o))},this.isLocked=function(s){return r.locked.has(s)},this.lock=function(s){return new Promise((function(a,o){r.isLocked(s)?r.addToLocked(s,a):(r.addToLocked(s),a())}))},this.unlock=function(s){var a=r.locked.get(s);if(a!==void 0&&a.length!==0){var o=a.pop();r.locked.set(s,a),o!==void 0&&setTimeout(o,0)}else r.locked.delete(s)}}return i.getInstance=function(){return i.instance===void 0&&(i.instance=new i),i.instance},i})();e.default=function(){return t.getInstance()}}));qD(Cg);var cZ=qD(WD((function(n,e){var t=Dg&&Dg.__awaiter||function(d,p,y,v){return new(y||(y=Promise))((function(_,S){function E(A){try{w(v.next(A))}catch(C){S(C)}}function b(A){try{w(v.throw(A))}catch(C){S(C)}}function w(A){A.done?_(A.value):new y((function(C){C(A.value)})).then(E,b)}w((v=v.apply(d,p||[])).next())}))},i=Dg&&Dg.__generator||function(d,p){var y,v,_,S,E={label:0,sent:function(){if(1&_[0])throw _[1];return _[1]},trys:[],ops:[]};return S={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(S[Symbol.iterator]=function(){return this}),S;function b(w){return function(A){return(function(C){if(y)throw new TypeError("Generator is already executing.");for(;E;)try{if(y=1,v&&(_=2&C[0]?v.return:C[0]?v.throw||((_=v.return)&&_.call(v),0):v.next)&&!(_=_.call(v,C[1])).done)return _;switch(v=0,_&&(C=[2&C[0],_.value]),C[0]){case 0:case 1:_=C;break;case 4:return E.label++,{value:C[1],done:!1};case 5:E.label++,v=C[1],C=[0];continue;case 7:C=E.ops.pop(),E.trys.pop();continue;default:if(_=E.trys,!((_=_.length>0&&_[_.length-1])||C[0]!==6&&C[0]!==2)){E=0;continue}if(C[0]===3&&(!_||C[1]>_[0]&&C[1]<_[3])){E.label=C[1];break}if(C[0]===6&&E.label<_[1]){E.label=_[1],_=C;break}if(_&&E.label<_[2]){E.label=_[2],E.ops.push(C);break}_[2]&&E.ops.pop(),E.trys.pop();continue}C=p.call(d,E)}catch(D){C=[6,D],v=0}finally{y=_=0}if(5&C[0])throw C[1];return{value:C[0]?C[1]:void 0,done:!0}})([w,A])}}},r=Dg;Object.defineProperty(e,"__esModule",{value:!0});var s="browser-tabs-lock-key",a={key:function(d){return t(r,void 0,void 0,(function(){return i(this,(function(p){throw new Error("Unsupported")}))}))},getItem:function(d){return t(r,void 0,void 0,(function(){return i(this,(function(p){throw new Error("Unsupported")}))}))},clear:function(){return t(r,void 0,void 0,(function(){return i(this,(function(d){return[2,window.localStorage.clear()]}))}))},removeItem:function(d){return t(r,void 0,void 0,(function(){return i(this,(function(p){throw new Error("Unsupported")}))}))},setItem:function(d,p){return t(r,void 0,void 0,(function(){return i(this,(function(y){throw new Error("Unsupported")}))}))},keySync:function(d){return window.localStorage.key(d)},getItemSync:function(d){return window.localStorage.getItem(d)},clearSync:function(){return window.localStorage.clear()},removeItemSync:function(d){return window.localStorage.removeItem(d)},setItemSync:function(d,p){return window.localStorage.setItem(d,p)}};function o(d){return new Promise((function(p){return setTimeout(p,d)}))}function l(d){for(var p="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",y="",v=0;v<d;v++)y+=p[Math.floor(Math.random()*p.length)];return y}var u=(function(){function d(p){this.acquiredIatSet=new Set,this.storageHandler=void 0,this.id=Date.now().toString()+l(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),this.storageHandler=p,d.waiters===void 0&&(d.waiters=[])}return d.prototype.acquireLock=function(p,y){return y===void 0&&(y=5e3),t(this,void 0,void 0,(function(){var v,_,S,E,b,w,A;return i(this,(function(C){switch(C.label){case 0:v=Date.now()+l(4),_=Date.now()+y,S=s+"-"+p,E=this.storageHandler===void 0?a:this.storageHandler,C.label=1;case 1:return Date.now()<_?[4,o(30)]:[3,8];case 2:return C.sent(),E.getItemSync(S)!==null?[3,5]:(b=this.id+"-"+p+"-"+v,[4,o(Math.floor(25*Math.random()))]);case 3:return C.sent(),E.setItemSync(S,JSON.stringify({id:this.id,iat:v,timeoutKey:b,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,o(30)];case 4:return C.sent(),(w=E.getItemSync(S))!==null&&(A=JSON.parse(w)).id===this.id&&A.iat===v?(this.acquiredIatSet.add(v),this.refreshLockWhileAcquired(S,v),[2,!0]):[3,7];case 5:return d.lockCorrector(this.storageHandler===void 0?a:this.storageHandler),[4,this.waitForSomethingToChange(_)];case 6:C.sent(),C.label=7;case 7:return v=Date.now()+l(4),[3,1];case 8:return[2,!1]}}))}))},d.prototype.refreshLockWhileAcquired=function(p,y){return t(this,void 0,void 0,(function(){var v=this;return i(this,(function(_){return setTimeout((function(){return t(v,void 0,void 0,(function(){var S,E,b;return i(this,(function(w){switch(w.label){case 0:return[4,Cg.default().lock(y)];case 1:return w.sent(),this.acquiredIatSet.has(y)?(S=this.storageHandler===void 0?a:this.storageHandler,(E=S.getItemSync(p))===null?(Cg.default().unlock(y),[2]):((b=JSON.parse(E)).timeRefreshed=Date.now(),S.setItemSync(p,JSON.stringify(b)),Cg.default().unlock(y),this.refreshLockWhileAcquired(p,y),[2])):(Cg.default().unlock(y),[2])}}))}))}),1e3),[2]}))}))},d.prototype.waitForSomethingToChange=function(p){return t(this,void 0,void 0,(function(){return i(this,(function(y){switch(y.label){case 0:return[4,new Promise((function(v){var _=!1,S=Date.now(),E=!1;function b(){if(E||(window.removeEventListener("storage",b),d.removeFromWaiting(b),clearTimeout(w),E=!0),!_){_=!0;var A=50-(Date.now()-S);A>0?setTimeout(v,A):v(null)}}window.addEventListener("storage",b),d.addToWaiting(b);var w=setTimeout(b,Math.max(0,p-Date.now()))}))];case 1:return y.sent(),[2]}}))}))},d.addToWaiting=function(p){this.removeFromWaiting(p),d.waiters!==void 0&&d.waiters.push(p)},d.removeFromWaiting=function(p){d.waiters!==void 0&&(d.waiters=d.waiters.filter((function(y){return y!==p})))},d.notifyWaiters=function(){d.waiters!==void 0&&d.waiters.slice().forEach((function(p){return p()}))},d.prototype.releaseLock=function(p){return t(this,void 0,void 0,(function(){return i(this,(function(y){switch(y.label){case 0:return[4,this.releaseLock__private__(p)];case 1:return[2,y.sent()]}}))}))},d.prototype.releaseLock__private__=function(p){return t(this,void 0,void 0,(function(){var y,v,_,S;return i(this,(function(E){switch(E.label){case 0:return y=this.storageHandler===void 0?a:this.storageHandler,v=s+"-"+p,(_=y.getItemSync(v))===null?[2]:(S=JSON.parse(_)).id!==this.id?[3,2]:[4,Cg.default().lock(S.iat)];case 1:E.sent(),this.acquiredIatSet.delete(S.iat),y.removeItemSync(v),Cg.default().unlock(S.iat),d.notifyWaiters(),E.label=2;case 2:return[2]}}))}))},d.lockCorrector=function(p){for(var y=Date.now()-5e3,v=p,_=[],S=0;;){var E=v.keySync(S);if(E===null)break;_.push(E),S++}for(var b=!1,w=0;w<_.length;w++){var A=_[w];if(A.includes(s)){var C=v.getItemSync(A);if(C!==null){var D=JSON.parse(C);(D.timeRefreshed===void 0&&D.timeAcquired<y||D.timeRefreshed!==void 0&&D.timeRefreshed<y)&&(v.removeItemSync(A),b=!0)}}}b&&d.notifyWaiters()},d.waiters=void 0,d})();e.default=u})));const uZ={timeoutInSeconds:60},jV={name:"auth0-spa-js",version:"2.11.0"},GV=()=>Date.now();class es extends Error{constructor(e,t){super(t),this.error=e,this.error_description=t,Object.setPrototypeOf(this,es.prototype)}static fromPayload({error:e,error_description:t}){return new es(e,t)}}class $D extends es{constructor(e,t,i,r=null){super(e,t),this.state=i,this.appState=r,Object.setPrototypeOf(this,$D.prototype)}}let hZ=class qV extends es{constructor(e,t,i,r,s=null){super(e,t),this.connection=i,this.state=r,this.appState=s,Object.setPrototypeOf(this,qV.prototype)}},k3=class WV extends es{constructor(){super("timeout","Timeout"),Object.setPrototypeOf(this,WV.prototype)}},dZ=class $V extends k3{constructor(e){super(),this.popup=e,Object.setPrototypeOf(this,$V.prototype)}},fZ=class XV extends es{constructor(e){super("cancelled","Popup closed"),this.popup=e,Object.setPrototypeOf(this,XV.prototype)}};class XD extends es{constructor(){super("popup_open","Unable to open a popup for loginWithPopup - window.open returned `null`"),Object.setPrototypeOf(this,XD.prototype)}}let pZ=class YV extends es{constructor(e,t,i){super(e,t),this.mfa_token=i,Object.setPrototypeOf(this,YV.prototype)}},KV=class ZV extends es{constructor(e,t){super("missing_refresh_token",`Missing Refresh Token (audience: '${H2(e,["default"])}', scope: '${H2(t)}')`),this.audience=e,this.scope=t,Object.setPrototypeOf(this,ZV.prototype)}};class YD extends es{constructor(e,t){super("missing_scopes",`Missing requested scopes after refresh (audience: '${H2(e,["default"])}', missing scope: '${H2(t)}')`),this.audience=e,this.scope=t,Object.setPrototypeOf(this,YD.prototype)}}let QV=class JV extends es{constructor(e){super("use_dpop_nonce","Server rejected DPoP proof: wrong nonce"),this.newDpopNonce=e,Object.setPrototypeOf(this,JV.prototype)}};function H2(n,e=[]){return n&&!e.includes(n)?n:""}const j2=()=>window.crypto,s1=()=>{const n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~.";let e="";return Array.from(j2().getRandomValues(new Uint8Array(43))).forEach((t=>e+=n[t%n.length])),e},cO=n=>btoa(n),mZ=[{key:"name",type:["string"]},{key:"version",type:["string","number"]},{key:"env",type:["object"]}],gZ=n=>Object.keys(n).reduce(((e,t)=>{const i=mZ.find((r=>r.key===t));return i&&i.type.includes(typeof n[t])&&(e[t]=n[t]),e}),{}),z3=n=>{var{clientId:e}=n,t=ph(n,["clientId"]);return new URLSearchParams((i=>Object.keys(i).filter((r=>i[r]!==void 0)).reduce(((r,s)=>Object.assign(Object.assign({},r),{[s]:i[s]})),{}))(Object.assign({client_id:e},t))).toString()},XU=async n=>await j2().subtle.digest({name:"SHA-256"},new TextEncoder().encode(n)),YU=n=>(e=>decodeURIComponent(atob(e).split("").map((t=>"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2))).join("")))(n.replace(/_/g,"/").replace(/-/g,"+")),KU=n=>{const e=new Uint8Array(n);return(t=>{const i={"+":"-","/":"_","=":""};return t.replace(/[+/=]/g,(r=>i[r]))})(window.btoa(String.fromCharCode(...Array.from(e))))},yZ=new TextEncoder,vZ=new TextDecoder;function sx(n){return typeof n=="string"?yZ.encode(n):vZ.decode(n)}function ZU(n){if(typeof n.modulusLength!="number"||n.modulusLength<2048)throw new bZ(`${n.name} modulusLength must be at least 2048 bits`)}async function _Z(n,e,t){if(t.usages.includes("sign")===!1)throw new TypeError('private CryptoKey instances used for signing assertions must include "sign" in their "usages"');const i=`${ax(sx(JSON.stringify(n)))}.${ax(sx(JSON.stringify(e)))}`;return`${i}.${ax(await crypto.subtle.sign((function(r){switch(r.algorithm.name){case"ECDSA":return{name:r.algorithm.name,hash:"SHA-256"};case"RSA-PSS":return ZU(r.algorithm),{name:r.algorithm.name,saltLength:32};case"RSASSA-PKCS1-v1_5":return ZU(r.algorithm),{name:r.algorithm.name};case"Ed25519":return{name:r.algorithm.name}}throw new Ug})(t),t,sx(i)))}`}let B3;Uint8Array.prototype.toBase64?B3=n=>(n instanceof ArrayBuffer&&(n=new Uint8Array(n)),n.toBase64({alphabet:"base64url",omitPadding:!0})):B3=e=>{e instanceof ArrayBuffer&&(e=new Uint8Array(e));const t=[];for(let i=0;i<e.byteLength;i+=32768)t.push(String.fromCharCode.apply(null,e.subarray(i,i+32768)));return btoa(t.join("")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")};function ax(n){return B3(n)}class Ug extends Error{constructor(e){var t;super(e??"operation not supported"),this.name=this.constructor.name,(t=Error.captureStackTrace)===null||t===void 0||t.call(Error,this,this.constructor)}}class bZ extends Error{constructor(e){var t;super(e),this.name=this.constructor.name,(t=Error.captureStackTrace)===null||t===void 0||t.call(Error,this,this.constructor)}}function xZ(n){switch(n.algorithm.name){case"RSA-PSS":return(function(e){if(e.algorithm.hash.name==="SHA-256")return"PS256";throw new Ug("unsupported RsaHashedKeyAlgorithm hash name")})(n);case"RSASSA-PKCS1-v1_5":return(function(e){if(e.algorithm.hash.name==="SHA-256")return"RS256";throw new Ug("unsupported RsaHashedKeyAlgorithm hash name")})(n);case"ECDSA":return(function(e){if(e.algorithm.namedCurve==="P-256")return"ES256";throw new Ug("unsupported EcKeyAlgorithm namedCurve")})(n);case"Ed25519":return"Ed25519";default:throw new Ug("unsupported CryptoKey algorithm name")}}function e8(n){return n instanceof CryptoKey}function t8(n){return e8(n)&&n.type==="public"}async function SZ(n,e,t,i,r,s){const a=n?.privateKey,o=n?.publicKey;if(!e8(l=a)||l.type!=="private")throw new TypeError('"keypair.privateKey" must be a private CryptoKey');var l;if(!t8(o))throw new TypeError('"keypair.publicKey" must be a public CryptoKey');if(o.extractable!==!0)throw new TypeError('"keypair.publicKey.extractable" must be true');if(typeof e!="string")throw new TypeError('"htu" must be a string');if(typeof t!="string")throw new TypeError('"htm" must be a string');if(i!==void 0&&typeof i!="string")throw new TypeError('"nonce" must be a string or undefined');if(r!==void 0&&typeof r!="string")throw new TypeError('"accessToken" must be a string or undefined');return _Z({alg:xZ(a),typ:"dpop+jwt",jwk:await n8(o)},Object.assign(Object.assign({},s),{iat:Math.floor(Date.now()/1e3),jti:crypto.randomUUID(),htm:t,nonce:i,htu:e,ath:r?ax(await crypto.subtle.digest("SHA-256",sx(r))):void 0}),a)}async function n8(n){const{kty:e,e:t,n:i,x:r,y:s,crv:a}=await crypto.subtle.exportKey("jwk",n);return{kty:e,crv:a,e:t,n:i,x:r,y:s}}const EZ=["authorization_code","refresh_token","urn:ietf:params:oauth:grant-type:token-exchange"];function TZ(){return(async function(n,e){var t;let i;if(n.length===0)throw new TypeError('"alg" must be a non-empty string');switch(n){case"PS256":i={name:"RSA-PSS",hash:"SHA-256",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])};break;case"RS256":i={name:"RSASSA-PKCS1-v1_5",hash:"SHA-256",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])};break;case"ES256":i={name:"ECDSA",namedCurve:"P-256"};break;case"Ed25519":i={name:"Ed25519"};break;default:throw new Ug}return crypto.subtle.generateKey(i,(t=e?.extractable)!==null&&t!==void 0&&t,["sign","verify"])})("ES256",{extractable:!1})}function wZ(n){return(async function(e){if(!t8(e))throw new TypeError('"publicKey" must be a public CryptoKey');if(e.extractable!==!0)throw new TypeError('"publicKey.extractable" must be true');const t=await n8(e);let i;switch(t.kty){case"EC":i={crv:t.crv,kty:t.kty,x:t.x,y:t.y};break;case"OKP":i={crv:t.crv,kty:t.kty,x:t.x};break;case"RSA":i={e:t.e,kty:t.kty,n:t.n};break;default:throw new Ug("unsupported JWK kty")}return ax(await crypto.subtle.digest({name:"SHA-256"},sx(JSON.stringify(i))))})(n.publicKey)}function CZ({keyPair:n,url:e,method:t,nonce:i,accessToken:r}){const s=(function(a){const o=new URL(a);return o.search="",o.hash="",o.href})(e);return SZ(n,s,t,i,r)}const AZ=async(n,e)=>{const t=await fetch(n,e);return{ok:t.ok,json:await t.json(),headers:(i=t.headers,[...i].reduce(((r,[s,a])=>(r[s]=a,r)),{}))};var i},MZ=async(n,e,t)=>{const i=new AbortController;let r;return e.signal=i.signal,Promise.race([AZ(n,e),new Promise(((s,a)=>{r=setTimeout((()=>{i.abort(),a(new Error("Timeout when executing 'fetch'"))}),t)}))]).finally((()=>{clearTimeout(r)}))},RZ=async(n,e,t,i,r,s,a,o)=>{return l={auth:{audience:e,scope:t},timeout:r,fetchUrl:n,fetchOptions:i,useFormData:a,useMrrt:o},u=s,new Promise((function(d,p){const y=new MessageChannel;y.port1.onmessage=function(v){v.data.error?p(new Error(v.data.error)):d(v.data),y.port1.close()},u.postMessage(l,[y.port2])}));var l,u},OZ=async(n,e,t,i,r,s,a=1e4,o)=>r?RZ(n,e,t,i,a,r,s,o):MZ(n,i,a);async function i8(n,e,t,i,r,s,a,o,l,u){if(l){const A=await l.generateProof({url:n,method:r.method||"GET",nonce:await l.getNonce()});r.headers=Object.assign(Object.assign({},r.headers),{dpop:A})}let d,p=null;for(let A=0;A<3;A++)try{d=await OZ(n,t,i,r,s,a,e,o),p=null;break}catch(C){p=C}if(p)throw p;const y=d.json,{error:v,error_description:_}=y,S=ph(y,["error","error_description"]),{headers:E,ok:b}=d;let w;if(l&&(w=E["dpop-nonce"],w&&await l.setNonce(w)),!b){const A=_||`HTTP error. Unable to fetch ${n}`;if(v==="mfa_required")throw new pZ(v,A,S.mfa_token);if(v==="missing_refresh_token")throw new KV(t,i);if(v==="use_dpop_nonce"){if(!l||!w||u)throw new QV(w);return i8(n,e,t,i,r,s,a,o,l,!0)}throw new es(v||"request_error",A)}return S}async function IZ(n,e){var{baseUrl:t,timeout:i,audience:r,scope:s,auth0Client:a,useFormData:o,useMrrt:l,dpop:u}=n,d=ph(n,["baseUrl","timeout","audience","scope","auth0Client","useFormData","useMrrt","dpop"]);const p=d.grant_type==="urn:ietf:params:oauth:grant-type:token-exchange",y=d.grant_type==="refresh_token"&&l,v=Object.assign(Object.assign(Object.assign(Object.assign({},d),p&&r&&{audience:r}),p&&s&&{scope:s}),y&&{audience:r,scope:s}),_=o?z3(v):JSON.stringify(v),S=(E=d.grant_type,EZ.includes(E));var E;return await i8(`${t}/oauth/token`,i,r||"default",s,{method:"POST",body:_,headers:{"Content-Type":o?"application/x-www-form-urlencoded":"application/json","Auth0-Client":btoa(JSON.stringify(gZ(a||jV)))}},e,o,l,S?u:void 0)}const d2=(...n)=>{return(e=n.filter(Boolean).join(" ").trim().split(/\s+/),Array.from(new Set(e))).join(" ");var e},ET=(n,e,t)=>{let i;return t&&(i=n[t]),i||(i=n.default),d2(i,e)};class Ec{constructor(e,t="@@auth0spajs@@",i){this.prefix=t,this.suffix=i,this.clientId=e.clientId,this.scope=e.scope,this.audience=e.audience}toKey(){return[this.prefix,this.clientId,this.audience,this.scope,this.suffix].filter(Boolean).join("::")}static fromKey(e){const[t,i,r,s]=e.split("::");return new Ec({clientId:i,scope:s,audience:r},t)}static fromCacheEntry(e){const{scope:t,audience:i,client_id:r}=e;return new Ec({scope:t,audience:i,clientId:r})}}class PZ{set(e,t){localStorage.setItem(e,JSON.stringify(t))}get(e){const t=window.localStorage.getItem(e);if(t)try{return JSON.parse(t)}catch{return}}remove(e){localStorage.removeItem(e)}allKeys(){return Object.keys(window.localStorage).filter((e=>e.startsWith("@@auth0spajs@@")))}}class r8{constructor(){this.enclosedCache=(function(){let e={};return{set(t,i){e[t]=i},get(t){const i=e[t];if(i)return i},remove(t){delete e[t]},allKeys:()=>Object.keys(e)}})()}}class DZ{constructor(e,t,i){this.cache=e,this.keyManifest=t,this.nowProvider=i||GV}async setIdToken(e,t,i){var r;const s=this.getIdTokenCacheKey(e);await this.cache.set(s,{id_token:t,decodedToken:i}),await((r=this.keyManifest)===null||r===void 0?void 0:r.add(s))}async getIdToken(e){const t=await this.cache.get(this.getIdTokenCacheKey(e.clientId));if(!t&&e.scope&&e.audience){const i=await this.get(e);return!i||!i.id_token||!i.decodedToken?void 0:{id_token:i.id_token,decodedToken:i.decodedToken}}if(t)return{id_token:t.id_token,decodedToken:t.decodedToken}}async get(e,t=0,i=!1,r){var s;let a=await this.cache.get(e.toKey());if(!a){const u=await this.getCacheKeys();if(!u)return;const d=this.matchExistingCacheKey(e,u);if(d&&(a=await this.cache.get(d)),!d&&i&&r!=="cache-only")return this.getEntryWithRefreshToken(e,u)}if(!a)return;const o=await this.nowProvider(),l=Math.floor(o/1e3);return a.expiresAt-t<l?a.body.refresh_token?this.modifiedCachedEntry(a,e):(await this.cache.remove(e.toKey()),void await((s=this.keyManifest)===null||s===void 0?void 0:s.remove(e.toKey()))):a.body}async modifiedCachedEntry(e,t){return e.body={refresh_token:e.body.refresh_token,audience:e.body.audience,scope:e.body.scope},await this.cache.set(t.toKey(),e),{refresh_token:e.body.refresh_token,audience:e.body.audience,scope:e.body.scope}}async set(e){var t;const i=new Ec({clientId:e.client_id,scope:e.scope,audience:e.audience}),r=await this.wrapCacheEntry(e);await this.cache.set(i.toKey(),r),await((t=this.keyManifest)===null||t===void 0?void 0:t.add(i.toKey()))}async remove(e,t,i){const r=new Ec({clientId:e,scope:i,audience:t});await this.cache.remove(r.toKey())}async clear(e){var t;const i=await this.getCacheKeys();i&&(await i.filter((r=>!e||r.includes(e))).reduce((async(r,s)=>{await r,await this.cache.remove(s)}),Promise.resolve()),await((t=this.keyManifest)===null||t===void 0?void 0:t.clear()))}async wrapCacheEntry(e){const t=await this.nowProvider();return{body:e,expiresAt:Math.floor(t/1e3)+e.expires_in}}async getCacheKeys(){var e;return this.keyManifest?(e=await this.keyManifest.get())===null||e===void 0?void 0:e.keys:this.cache.allKeys?this.cache.allKeys():void 0}getIdTokenCacheKey(e){return new Ec({clientId:e},"@@auth0spajs@@","@@user@@").toKey()}matchExistingCacheKey(e,t){return t.filter((i=>{var r;const s=Ec.fromKey(i),a=new Set(s.scope&&s.scope.split(" ")),o=((r=e.scope)===null||r===void 0?void 0:r.split(" "))||[],l=s.scope&&o.reduce(((u,d)=>u&&a.has(d)),!0);return s.prefix==="@@auth0spajs@@"&&s.clientId===e.clientId&&s.audience===e.audience&&l}))[0]}async getEntryWithRefreshToken(e,t){var i;for(const r of t){const s=Ec.fromKey(r);if(s.prefix==="@@auth0spajs@@"&&s.clientId===e.clientId){const a=await this.cache.get(r);if(!((i=a?.body)===null||i===void 0)&&i.refresh_token)return this.modifiedCachedEntry(a,e)}}}async updateEntry(e,t){var i;const r=await this.getCacheKeys();if(r)for(const s of r){const a=await this.cache.get(s);if(((i=a?.body)===null||i===void 0?void 0:i.refresh_token)===e){const o=Object.assign(Object.assign({},a.body),{refresh_token:t});await this.set(o)}}}}class NZ{constructor(e,t,i){this.storage=e,this.clientId=t,this.cookieDomain=i,this.storageKey=`a0.spajs.txs.${this.clientId}`}create(e){this.storage.save(this.storageKey,e,{daysUntilExpire:1,cookieDomain:this.cookieDomain})}get(){return this.storage.get(this.storageKey)}remove(){this.storage.remove(this.storageKey,{cookieDomain:this.cookieDomain})}}const a1=n=>typeof n=="number",LZ=["iss","aud","exp","nbf","iat","jti","azp","nonce","auth_time","at_hash","c_hash","acr","amr","sub_jwk","cnf","sip_from_tag","sip_date","sip_callid","sip_cseq_num","sip_via_branch","orig","dest","mky","events","toe","txn","rph","sid","vot","vtm"],UZ=n=>{if(!n.id_token)throw new Error("ID token is required but missing");const e=(s=>{const a=s.split("."),[o,l,u]=a;if(a.length!==3||!o||!l||!u)throw new Error("ID token could not be decoded");const d=JSON.parse(YU(l)),p={__raw:s},y={};return Object.keys(d).forEach((v=>{p[v]=d[v],LZ.includes(v)||(y[v]=d[v])})),{encoded:{header:o,payload:l,signature:u},header:JSON.parse(YU(o)),claims:p,user:y}})(n.id_token);if(!e.claims.iss)throw new Error("Issuer (iss) claim must be a string present in the ID token");if(e.claims.iss!==n.iss)throw new Error(`Issuer (iss) claim mismatch in the ID token; expected "${n.iss}", found "${e.claims.iss}"`);if(!e.user.sub)throw new Error("Subject (sub) claim must be a string present in the ID token");if(e.header.alg!=="RS256")throw new Error(`Signature algorithm of "${e.header.alg}" is not supported. Expected the ID token to be signed with "RS256".`);if(!e.claims.aud||typeof e.claims.aud!="string"&&!Array.isArray(e.claims.aud))throw new Error("Audience (aud) claim must be a string or array of strings present in the ID token");if(Array.isArray(e.claims.aud)){if(!e.claims.aud.includes(n.aud))throw new Error(`Audience (aud) claim mismatch in the ID token; expected "${n.aud}" but was not one of "${e.claims.aud.join(", ")}"`);if(e.claims.aud.length>1){if(!e.claims.azp)throw new Error("Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values");if(e.claims.azp!==n.aud)throw new Error(`Authorized Party (azp) claim mismatch in the ID token; expected "${n.aud}", found "${e.claims.azp}"`)}}else if(e.claims.aud!==n.aud)throw new Error(`Audience (aud) claim mismatch in the ID token; expected "${n.aud}" but found "${e.claims.aud}"`);if(n.nonce){if(!e.claims.nonce)throw new Error("Nonce (nonce) claim must be a string present in the ID token");if(e.claims.nonce!==n.nonce)throw new Error(`Nonce (nonce) claim mismatch in the ID token; expected "${n.nonce}", found "${e.claims.nonce}"`)}if(n.max_age&&!a1(e.claims.auth_time))throw new Error("Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified");if(e.claims.exp==null||!a1(e.claims.exp))throw new Error("Expiration Time (exp) claim must be a number present in the ID token");if(!a1(e.claims.iat))throw new Error("Issued At (iat) claim must be a number present in the ID token");const t=n.leeway||60,i=new Date(n.now||Date.now()),r=new Date(0);if(r.setUTCSeconds(e.claims.exp+t),i>r)throw new Error(`Expiration Time (exp) claim error in the ID token; current time (${i}) is after expiration time (${r})`);if(e.claims.nbf!=null&&a1(e.claims.nbf)){const s=new Date(0);if(s.setUTCSeconds(e.claims.nbf-t),i<s)throw new Error(`Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Current time (${i}) is before ${s}`)}if(e.claims.auth_time!=null&&a1(e.claims.auth_time)){const s=new Date(0);if(s.setUTCSeconds(parseInt(e.claims.auth_time)+n.max_age+t),i>s)throw new Error(`Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Current time (${i}) is after last auth at ${s}`)}if(n.organization){const s=n.organization.trim();if(s.startsWith("org_")){const a=s;if(!e.claims.org_id)throw new Error("Organization ID (org_id) claim must be a string present in the ID token");if(a!==e.claims.org_id)throw new Error(`Organization ID (org_id) claim mismatch in the ID token; expected "${a}", found "${e.claims.org_id}"`)}else{const a=s.toLowerCase();if(!e.claims.org_name)throw new Error("Organization Name (org_name) claim must be a string present in the ID token");if(a!==e.claims.org_name)throw new Error(`Organization Name (org_name) claim mismatch in the ID token; expected "${a}", found "${e.claims.org_name}"`)}}return e};var kg=WD((function(n,e){var t=Dg&&Dg.__assign||function(){return t=Object.assign||function(l){for(var u,d=1,p=arguments.length;d<p;d++)for(var y in u=arguments[d])Object.prototype.hasOwnProperty.call(u,y)&&(l[y]=u[y]);return l},t.apply(this,arguments)};function i(l,u){if(!u)return"";var d="; "+l;return u===!0?d:d+"="+u}function r(l,u,d){return encodeURIComponent(l).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\(/g,"%28").replace(/\)/g,"%29")+"="+encodeURIComponent(u).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+(function(p){if(typeof p.expires=="number"){var y=new Date;y.setMilliseconds(y.getMilliseconds()+864e5*p.expires),p.expires=y}return i("Expires",p.expires?p.expires.toUTCString():"")+i("Domain",p.domain)+i("Path",p.path)+i("Secure",p.secure)+i("SameSite",p.sameSite)})(d)}function s(l){for(var u={},d=l?l.split("; "):[],p=/(%[\dA-F]{2})+/gi,y=0;y<d.length;y++){var v=d[y].split("="),_=v.slice(1).join("=");_.charAt(0)==='"'&&(_=_.slice(1,-1));try{u[v[0].replace(p,decodeURIComponent)]=_.replace(p,decodeURIComponent)}catch{}}return u}function a(){return s(document.cookie)}function o(l,u,d){document.cookie=r(l,u,t({path:"/"},d))}e.__esModule=!0,e.encode=r,e.parse=s,e.getAll=a,e.get=function(l){return a()[l]},e.set=o,e.remove=function(l,u){o(l,"",t(t({},u),{expires:-1}))}}));qD(kg),kg.encode,kg.parse,kg.getAll;var kZ=kg.get,s8=kg.set,a8=kg.remove;const h0={get(n){const e=kZ(n);if(e!==void 0)return JSON.parse(e)},save(n,e,t){let i={};window.location.protocol==="https:"&&(i={secure:!0,sameSite:"none"}),t?.daysUntilExpire&&(i.expires=t.daysUntilExpire),t?.cookieDomain&&(i.domain=t.cookieDomain),s8(n,JSON.stringify(e),i)},remove(n,e){let t={};e?.cookieDomain&&(t.domain=e.cookieDomain),a8(n,t)}},zZ={get(n){return h0.get(n)||h0.get(`_legacy_${n}`)},save(n,e,t){let i={};window.location.protocol==="https:"&&(i={secure:!0}),t?.daysUntilExpire&&(i.expires=t.daysUntilExpire),t?.cookieDomain&&(i.domain=t.cookieDomain),s8(`_legacy_${n}`,JSON.stringify(e),i),h0.save(n,e,t)},remove(n,e){let t={};e?.cookieDomain&&(t.domain=e.cookieDomain),a8(n,t),h0.remove(n,e),h0.remove(`_legacy_${n}`,e)}},BZ={get(n){if(typeof sessionStorage>"u")return;const e=sessionStorage.getItem(n);return e!=null?JSON.parse(e):void 0},save(n,e){sessionStorage.setItem(n,JSON.stringify(e))},remove(n){sessionStorage.removeItem(n)}};var xp;(function(n){n.Code="code",n.ConnectCode="connect_code"})(xp||(xp={}));function FZ(n,e,t){var i=e===void 0?null:e,r=(function(l,u){var d=atob(l);if(u){for(var p=new Uint8Array(d.length),y=0,v=d.length;y<v;++y)p[y]=d.charCodeAt(y);return String.fromCharCode.apply(null,new Uint16Array(p.buffer))}return d})(n,t!==void 0&&t),s=r.indexOf(`
`,10)+1,a=r.substring(s)+(i?"//# sourceMappingURL="+i:""),o=new Blob([a],{type:"application/javascript"});return URL.createObjectURL(o)}var QU,JU,e5,uO,VZ=(QU="Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7Y2xhc3MgZSBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKHQscil7c3VwZXIociksdGhpcy5lcnJvcj10LHRoaXMuZXJyb3JfZGVzY3JpcHRpb249cixPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcyxlLnByb3RvdHlwZSl9c3RhdGljIGZyb21QYXlsb2FkKHtlcnJvcjp0LGVycm9yX2Rlc2NyaXB0aW9uOnJ9KXtyZXR1cm4gbmV3IGUodCxyKX19Y2xhc3MgdCBleHRlbmRzIGV7Y29uc3RydWN0b3IoZSxzKXtzdXBlcigibWlzc2luZ19yZWZyZXNoX3Rva2VuIixgTWlzc2luZyBSZWZyZXNoIFRva2VuIChhdWRpZW5jZTogJyR7cihlLFsiZGVmYXVsdCJdKX0nLCBzY29wZTogJyR7cihzKX0nKWApLHRoaXMuYXVkaWVuY2U9ZSx0aGlzLnNjb3BlPXMsT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsdC5wcm90b3R5cGUpfX1mdW5jdGlvbiByKGUsdD1bXSl7cmV0dXJuIGUmJiF0LmluY2x1ZGVzKGUpP2U6IiJ9ImZ1bmN0aW9uIj09dHlwZW9mIFN1cHByZXNzZWRFcnJvciYmU3VwcHJlc3NlZEVycm9yO2NvbnN0IHM9ZT0+e3ZhcntjbGllbnRJZDp0fT1lLHI9ZnVuY3Rpb24oZSx0KXt2YXIgcj17fTtmb3IodmFyIHMgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxzKSYmdC5pbmRleE9mKHMpPDAmJihyW3NdPWVbc10pO2lmKG51bGwhPWUmJiJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz0wO2ZvcihzPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7bzxzLmxlbmd0aDtvKyspdC5pbmRleE9mKHNbb10pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLHNbb10pJiYocltzW29dXT1lW3Nbb11dKX1yZXR1cm4gcn0oZSxbImNsaWVudElkIl0pO3JldHVybiBuZXcgVVJMU2VhcmNoUGFyYW1zKChlPT5PYmplY3Qua2V5cyhlKS5maWx0ZXIoKHQ9PnZvaWQgMCE9PWVbdF0pKS5yZWR1Y2UoKCh0LHIpPT5PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdCkse1tyXTplW3JdfSkpLHt9KSkoT2JqZWN0LmFzc2lnbih7Y2xpZW50X2lkOnR9LHIpKSkudG9TdHJpbmcoKX07bGV0IG89e307Y29uc3Qgbj0oZSx0KT0+YCR7ZX18JHt0fWA7YWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGFzeW5jKHtkYXRhOnt0aW1lb3V0OmUsYXV0aDpyLGZldGNoVXJsOmksZmV0Y2hPcHRpb25zOmMsdXNlRm9ybURhdGE6YSx1c2VNcnJ0OmZ9LHBvcnRzOltwXX0pPT57bGV0IGgsdSxsPXt9O2NvbnN0e2F1ZGllbmNlOmQsc2NvcGU6eX09cnx8e307dHJ5e2NvbnN0IHI9YT8oZT0+e2NvbnN0IHQ9bmV3IFVSTFNlYXJjaFBhcmFtcyhlKSxyPXt9O3JldHVybiB0LmZvckVhY2goKChlLHQpPT57clt0XT1lfSkpLHJ9KShjLmJvZHkpOkpTT04ucGFyc2UoYy5ib2R5KTtpZighci5yZWZyZXNoX3Rva2VuJiYicmVmcmVzaF90b2tlbiI9PT1yLmdyYW50X3R5cGUpe2lmKHU9KChlLHQpPT5vW24oZSx0KV0pKGQseSksIXUmJmYpe2NvbnN0IGU9by5sYXRlc3RfcmVmcmVzaF90b2tlbix0PSgoZSx0KT0+e2NvbnN0IHI9T2JqZWN0LmtleXMobykuZmluZCgocj0+e2lmKCJsYXRlc3RfcmVmcmVzaF90b2tlbiIhPT1yKXtjb25zdCBzPSgoZSx0KT0+dC5zdGFydHNXaXRoKGAke2V9fGApKSh0LHIpLG89ci5zcGxpdCgifCIpWzFdLnNwbGl0KCIgIiksbj1lLnNwbGl0KCIgIikuZXZlcnkoKGU9Pm8uaW5jbHVkZXMoZSkpKTtyZXR1cm4gcyYmbn19KSk7cmV0dXJuISFyfSkoeSxkKTtlJiYhdCYmKHU9ZSl9aWYoIXUpdGhyb3cgbmV3IHQoZCx5KTtjLmJvZHk9YT9zKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxyKSx7cmVmcmVzaF90b2tlbjp1fSkpOkpTT04uc3RyaW5naWZ5KE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxyKSx7cmVmcmVzaF90b2tlbjp1fSkpfWxldCBqLGs7ImZ1bmN0aW9uIj09dHlwZW9mIEFib3J0Q29udHJvbGxlciYmKGo9bmV3IEFib3J0Q29udHJvbGxlcixjLnNpZ25hbD1qLnNpZ25hbCk7dHJ5e2s9YXdhaXQgUHJvbWlzZS5yYWNlKFsoXz1lLG5ldyBQcm9taXNlKChlPT5zZXRUaW1lb3V0KGUsXykpKSksZmV0Y2goaSxPYmplY3QuYXNzaWduKHt9LGMpKV0pfWNhdGNoKGUpe3JldHVybiB2b2lkIHAucG9zdE1lc3NhZ2Uoe2Vycm9yOmUubWVzc2FnZX0pfWlmKCFrKXJldHVybiBqJiZqLmFib3J0KCksdm9pZCBwLnBvc3RNZXNzYWdlKHtlcnJvcjoiVGltZW91dCB3aGVuIGV4ZWN1dGluZyAnZmV0Y2gnIn0pO2c9ay5oZWFkZXJzLGw9Wy4uLmddLnJlZHVjZSgoKGUsW3Qscl0pPT4oZVt0XT1yLGUpKSx7fSksaD1hd2FpdCBrLmpzb24oKSxoLnJlZnJlc2hfdG9rZW4/KGYmJihvLmxhdGVzdF9yZWZyZXNoX3Rva2VuPWgucmVmcmVzaF90b2tlbixPPXUsYj1oLnJlZnJlc2hfdG9rZW4sT2JqZWN0LmVudHJpZXMobykuZm9yRWFjaCgoKFtlLHRdKT0+e3Q9PT1PJiYob1tlXT1iKX0pKSksKChlLHQscik9PntvW24odCxyKV09ZX0pKGgucmVmcmVzaF90b2tlbixkLHkpLGRlbGV0ZSBoLnJlZnJlc2hfdG9rZW4pOigoZSx0KT0+e2RlbGV0ZSBvW24oZSx0KV19KShkLHkpLHAucG9zdE1lc3NhZ2Uoe29rOmsub2ssanNvbjpoLGhlYWRlcnM6bH0pfWNhdGNoKGUpe3AucG9zdE1lc3NhZ2Uoe29rOiExLGpzb246e2Vycm9yOmUuZXJyb3IsZXJyb3JfZGVzY3JpcHRpb246ZS5tZXNzYWdlfSxoZWFkZXJzOmx9KX12YXIgTyxiLGcsX30pKX0oKTsKCg==",JU=null,e5=!1,function(n){return uO=uO||FZ(QU,JU,e5),new Worker(uO,n)});const hO={};class HZ{constructor(e,t){this.cache=e,this.clientId=t,this.manifestKey=this.createManifestKeyFrom(this.clientId)}async add(e){var t;const i=new Set(((t=await this.cache.get(this.manifestKey))===null||t===void 0?void 0:t.keys)||[]);i.add(e),await this.cache.set(this.manifestKey,{keys:[...i]})}async remove(e){const t=await this.cache.get(this.manifestKey);if(t){const i=new Set(t.keys);return i.delete(e),i.size>0?await this.cache.set(this.manifestKey,{keys:[...i]}):await this.cache.remove(this.manifestKey)}}get(){return this.cache.get(this.manifestKey)}clear(){return this.cache.remove(this.manifestKey)}createManifestKeyFrom(e){return`@@auth0spajs@@::${e}`}}const jZ={memory:()=>new r8().enclosedCache,localstorage:()=>new PZ},t5=n=>jZ[n],n5=n=>{const{openUrl:e,onRedirect:t}=n,i=ph(n,["openUrl","onRedirect"]);return Object.assign(Object.assign({},i),{openUrl:e===!1||e?e:t})},i5=(n,e)=>{const t=e?.split(" ")||[];return(n?.split(" ")||[]).every((i=>t.includes(i)))},rg={NONCE:"nonce",KEYPAIR:"keypair"};class GZ{constructor(e){this.clientId=e}getVersion(){return 1}createDbHandle(){const e=window.indexedDB.open("auth0-spa-js",this.getVersion());return new Promise(((t,i)=>{e.onupgradeneeded=()=>Object.values(rg).forEach((r=>e.result.createObjectStore(r))),e.onerror=()=>i(e.error),e.onsuccess=()=>t(e.result)}))}async getDbHandle(){return this.dbHandle||(this.dbHandle=await this.createDbHandle()),this.dbHandle}async executeDbRequest(e,t,i){const r=i((await this.getDbHandle()).transaction(e,t).objectStore(e));return new Promise(((s,a)=>{r.onsuccess=()=>s(r.result),r.onerror=()=>a(r.error)}))}buildKey(e){const t=e?`_${e}`:"auth0";return`${this.clientId}::${t}`}setNonce(e,t){return this.save(rg.NONCE,this.buildKey(t),e)}setKeyPair(e){return this.save(rg.KEYPAIR,this.buildKey(),e)}async save(e,t,i){await this.executeDbRequest(e,"readwrite",(r=>r.put(i,t)))}findNonce(e){return this.find(rg.NONCE,this.buildKey(e))}findKeyPair(){return this.find(rg.KEYPAIR,this.buildKey())}find(e,t){return this.executeDbRequest(e,"readonly",(i=>i.get(t)))}async deleteBy(e,t){const i=await this.executeDbRequest(e,"readonly",(r=>r.getAllKeys()));i?.filter(t).map((r=>this.executeDbRequest(e,"readwrite",(s=>s.delete(r)))))}deleteByClientId(e,t){return this.deleteBy(e,(i=>typeof i=="string"&&i.startsWith(`${t}::`)))}clearNonces(){return this.deleteByClientId(rg.NONCE,this.clientId)}clearKeyPairs(){return this.deleteByClientId(rg.KEYPAIR,this.clientId)}}class qZ{constructor(e){this.storage=new GZ(e)}getNonce(e){return this.storage.findNonce(e)}setNonce(e,t){return this.storage.setNonce(e,t)}async getOrGenerateKeyPair(){let e=await this.storage.findKeyPair();return e||(e=await TZ(),await this.storage.setKeyPair(e)),e}async generateProof(e){const t=await this.getOrGenerateKeyPair();return CZ(Object.assign({keyPair:t},e))}async calculateThumbprint(){return wZ(await this.getOrGenerateKeyPair())}async clear(){await Promise.all([this.storage.clearNonces(),this.storage.clearKeyPairs()])}}var v0;(function(n){n.Bearer="Bearer",n.DPoP="DPoP"})(v0||(v0={}));class WZ{constructor(e,t){this.hooks=t,this.config=Object.assign(Object.assign({},e),{fetch:e.fetch||(typeof window>"u"?fetch:window.fetch.bind(window))})}isAbsoluteUrl(e){return/^(https?:)?\/\//i.test(e)}buildUrl(e,t){if(t){if(this.isAbsoluteUrl(t))return t;if(e)return`${e.replace(/\/?\/$/,"")}/${t.replace(/^\/+/,"")}`}throw new TypeError("`url` must be absolute or `baseUrl` non-empty.")}getAccessToken(e){return this.config.getAccessToken?this.config.getAccessToken(e):this.hooks.getAccessToken(e)}extractUrl(e){return typeof e=="string"?e:e instanceof URL?e.href:e.url}buildBaseRequest(e,t){if(!this.config.baseUrl)return new Request(e,t);const i=this.buildUrl(this.config.baseUrl,this.extractUrl(e)),r=e instanceof Request?new Request(i,e):i;return new Request(r,t)}setAuthorizationHeader(e,t,i=v0.Bearer){e.headers.set("authorization",`${i} ${t}`)}async setDpopProofHeader(e,t){if(!this.config.dpopNonceId)return;const i=await this.hooks.getDpopNonce(),r=await this.hooks.generateDpopProof({accessToken:t,method:e.method,nonce:i,url:e.url});e.headers.set("dpop",r)}async prepareRequest(e,t){const i=await this.getAccessToken(t);let r,s;typeof i=="string"?(r=this.config.dpopNonceId?v0.DPoP:v0.Bearer,s=i):(r=i.token_type,s=i.access_token),this.setAuthorizationHeader(e,s,r),r===v0.DPoP&&await this.setDpopProofHeader(e,s)}getHeader(e,t){return Array.isArray(e)?new Headers(e).get(t)||"":typeof e.get=="function"?e.get(t)||"":e[t]||""}hasUseDpopNonceError(e){if(e.status!==401)return!1;const t=this.getHeader(e.headers,"www-authenticate");return t.includes("invalid_dpop_nonce")||t.includes("use_dpop_nonce")}async handleResponse(e,t){const i=this.getHeader(e.headers,"dpop-nonce");if(i&&await this.hooks.setDpopNonce(i),!this.hasUseDpopNonceError(e))return e;if(!i||!t.onUseDpopNonceError)throw new QV(i);return t.onUseDpopNonceError()}async internalFetchWithAuth(e,t,i,r){const s=this.buildBaseRequest(e,t);await this.prepareRequest(s,r);const a=await this.config.fetch(s);return this.handleResponse(a,i)}fetchWithAuth(e,t,i){const r={onUseDpopNonceError:()=>this.internalFetchWithAuth(e,t,Object.assign(Object.assign({},r),{onUseDpopNonceError:void 0}),i)};return this.internalFetchWithAuth(e,t,r,i)}}class $Z{constructor(e,t){this.myAccountFetcher=e,this.apiBase=t}async connectAccount(e){const t=await this.myAccountFetcher.fetchWithAuth(`${this.apiBase}v1/connected-accounts/connect`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return this._handleResponse(t)}async completeAccount(e){const t=await this.myAccountFetcher.fetchWithAuth(`${this.apiBase}v1/connected-accounts/complete`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return this._handleResponse(t)}async _handleResponse(e){let t;try{t=await e.text(),t=JSON.parse(t)}catch(i){throw new G2({type:"invalid_json",status:e.status,title:"Invalid JSON response",detail:t||String(i)})}if(e.ok)return t;throw new G2(t)}}class G2 extends Error{constructor({type:e,status:t,title:i,detail:r,validation_errors:s}){super(r),this.name="MyAccountApiError",this.type=e,this.status=t,this.title=i,this.detail=r,this.validation_errors=s,Object.setPrototypeOf(this,G2.prototype)}}const dO=new cZ;class XZ{constructor(e){let t,i;if(this.userCache=new r8().enclosedCache,this.activeLockKeys=new Set,this.defaultOptions={authorizationParams:{scope:"openid profile email"},useRefreshTokensFallback:!1,useFormData:!0},this._releaseLockOnPageHide=async()=>{const l=Array.from(this.activeLockKeys);for(const u of l)await dO.releaseLock(u);this.activeLockKeys.clear(),window.removeEventListener("pagehide",this._releaseLockOnPageHide)},this.options=Object.assign(Object.assign(Object.assign({},this.defaultOptions),e),{authorizationParams:Object.assign(Object.assign({},this.defaultOptions.authorizationParams),e.authorizationParams)}),typeof window<"u"&&(()=>{if(!j2())throw new Error("For security reasons, `window.crypto` is required to run `auth0-spa-js`.");if(j2().subtle===void 0)throw new Error(`
      auth0-spa-js must run on a secure origin. See https://github.com/auth0/auth0-spa-js/blob/main/FAQ.md#why-do-i-get-auth0-spa-js-must-run-on-a-secure-origin for more information.
    `)})(),e.cache&&e.cacheLocation&&console.warn("Both `cache` and `cacheLocation` options have been specified in the Auth0Client configuration; ignoring `cacheLocation` and using `cache`."),e.cache)i=e.cache;else{if(t=e.cacheLocation||"memory",!t5(t))throw new Error(`Invalid cache location "${t}"`);i=t5(t)()}this.httpTimeoutMs=e.httpTimeoutInSeconds?1e3*e.httpTimeoutInSeconds:1e4,this.cookieStorage=e.legacySameSiteCookie===!1?h0:zZ,this.orgHintCookieName=`auth0.${this.options.clientId}.organization_hint`,this.isAuthenticatedCookieName=(l=>`auth0.${l}.is.authenticated`)(this.options.clientId),this.sessionCheckExpiryDays=e.sessionCheckExpiryDays||1;const r=e.useCookiesForTransactions?this.cookieStorage:BZ;var s;this.scope=((l,u,...d)=>{if(typeof l!="object")return{default:d2(u,l,...d)};let p={default:d2(u,...d)};return Object.keys(l).forEach((y=>{const v=l[y];p[y]=d2(u,v,...d)})),p})(this.options.authorizationParams.scope,"openid",this.options.useRefreshTokens?"offline_access":""),this.transactionManager=new NZ(r,this.options.clientId,this.options.cookieDomain),this.nowProvider=this.options.nowProvider||GV,this.cacheManager=new DZ(i,i.allKeys?void 0:new HZ(i,this.options.clientId),this.nowProvider),this.dpop=this.options.useDpop?new qZ(this.options.clientId):void 0,this.domainUrl=(s=this.options.domain,/^https?:\/\//.test(s)?s:`https://${s}`),this.tokenIssuer=((l,u)=>l?l.startsWith("https://")?l:`https://${l}/`:`${u}/`)(this.options.issuer,this.domainUrl);const a=`${this.domainUrl}/me/`,o=this.createFetcher(Object.assign(Object.assign({},this.options.useDpop&&{dpopNonceId:"__auth0_my_account_api__"}),{getAccessToken:()=>this.getTokenSilently({authorizationParams:{scope:"create:me:connected_accounts",audience:a},detailedResponse:!0})}));this.myAccountApi=new $Z(o,a),typeof window<"u"&&window.Worker&&this.options.useRefreshTokens&&t==="memory"&&(this.options.workerUrl?this.worker=new Worker(this.options.workerUrl):this.worker=new VZ)}_url(e){const t=encodeURIComponent(btoa(JSON.stringify(this.options.auth0Client||jV)));return`${this.domainUrl}${e}&auth0Client=${t}`}_authorizeUrl(e){return this._url(`/authorize?${z3(e)}`)}async _verifyIdToken(e,t,i){const r=await this.nowProvider();return UZ({iss:this.tokenIssuer,aud:this.options.clientId,id_token:e,nonce:t,organization:i,leeway:this.options.leeway,max_age:(s=this.options.authorizationParams.max_age,typeof s!="string"?s:parseInt(s,10)||void 0),now:r});var s}_processOrgHint(e){e?this.cookieStorage.save(this.orgHintCookieName,e,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}):this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain})}async _prepareAuthorizeUrl(e,t,i){var r;const s=cO(s1()),a=cO(s1()),o=s1(),l=await XU(o),u=KU(l),d=await((r=this.dpop)===null||r===void 0?void 0:r.calculateThumbprint()),p=((v,_,S,E,b,w,A,C,D)=>Object.assign(Object.assign(Object.assign({client_id:v.clientId},v.authorizationParams),S),{scope:ET(_,S.scope,S.audience),response_type:"code",response_mode:C||"query",state:E,nonce:b,redirect_uri:A||v.authorizationParams.redirect_uri,code_challenge:w,code_challenge_method:"S256",dpop_jkt:D}))(this.options,this.scope,e,s,a,u,e.redirect_uri||this.options.authorizationParams.redirect_uri||i,t?.response_mode,d),y=this._authorizeUrl(p);return{nonce:a,code_verifier:o,scope:p.scope,audience:p.audience||"default",redirect_uri:p.redirect_uri,state:s,url:y}}async loginWithPopup(e,t){var i;if(e=e||{},!(t=t||{}).popup&&(t.popup=(o=>{const l=window.screenX+(window.innerWidth-400)/2,u=window.screenY+(window.innerHeight-600)/2;return window.open(o,"auth0:authorize:popup",`left=${l},top=${u},width=400,height=600,resizable,scrollbars=yes,status=1`)})(""),!t.popup))throw new XD;const r=await this._prepareAuthorizeUrl(e.authorizationParams||{},{response_mode:"web_message"},window.location.origin);t.popup.location.href=r.url;const s=await(o=>new Promise(((l,u)=>{let d;const p=setInterval((()=>{o.popup&&o.popup.closed&&(clearInterval(p),clearTimeout(y),window.removeEventListener("message",d,!1),u(new fZ(o.popup)))}),1e3),y=setTimeout((()=>{clearInterval(p),u(new dZ(o.popup)),window.removeEventListener("message",d,!1)}),1e3*(o.timeoutInSeconds||60));d=function(v){if(v.data&&v.data.type==="authorization_response"){if(clearTimeout(y),clearInterval(p),window.removeEventListener("message",d,!1),o.popup.close(),v.data.response.error)return u(es.fromPayload(v.data.response));l(v.data.response)}},window.addEventListener("message",d)})))(Object.assign(Object.assign({},t),{timeoutInSeconds:t.timeoutInSeconds||this.options.authorizeTimeoutInSeconds||60}));if(r.state!==s.state)throw new es("state_mismatch","Invalid state");const a=((i=e.authorizationParams)===null||i===void 0?void 0:i.organization)||this.options.authorizationParams.organization;await this._requestToken({audience:r.audience,scope:r.scope,code_verifier:r.code_verifier,grant_type:"authorization_code",code:s.code,redirect_uri:r.redirect_uri},{nonceIn:r.nonce,organization:a})}async getUser(){var e;const t=await this._getIdTokenFromCache();return(e=t?.decodedToken)===null||e===void 0?void 0:e.user}async getIdTokenClaims(){var e;const t=await this._getIdTokenFromCache();return(e=t?.decodedToken)===null||e===void 0?void 0:e.claims}async loginWithRedirect(e={}){var t;const i=n5(e),{openUrl:r,fragment:s,appState:a}=i,o=ph(i,["openUrl","fragment","appState"]),l=((t=o.authorizationParams)===null||t===void 0?void 0:t.organization)||this.options.authorizationParams.organization,u=await this._prepareAuthorizeUrl(o.authorizationParams||{}),{url:d}=u,p=ph(u,["url"]);this.transactionManager.create(Object.assign(Object.assign(Object.assign({},p),{appState:a,response_type:xp.Code}),l&&{organization:l}));const y=s?`${d}#${s}`:d;r?await r(y):window.location.assign(y)}async handleRedirectCallback(e=window.location.href){const t=e.split("?").slice(1);if(t.length===0)throw new Error("There are no query params available for parsing.");const i=this.transactionManager.get();if(!i)throw new es("missing_transaction","Invalid state");this.transactionManager.remove();const r=(s=>{s.indexOf("#")>-1&&(s=s.substring(0,s.indexOf("#")));const a=new URLSearchParams(s);return{state:a.get("state"),code:a.get("code")||void 0,connect_code:a.get("connect_code")||void 0,error:a.get("error")||void 0,error_description:a.get("error_description")||void 0}})(t.join(""));return i.response_type===xp.ConnectCode?this._handleConnectAccountRedirectCallback(r,i):this._handleLoginRedirectCallback(r,i)}async _handleLoginRedirectCallback(e,t){const{code:i,state:r,error:s,error_description:a}=e;if(s)throw new $D(s,a||s,r,t.appState);if(!t.code_verifier||t.state&&t.state!==r)throw new es("state_mismatch","Invalid state");const o=t.organization,l=t.nonce,u=t.redirect_uri;return await this._requestToken(Object.assign({audience:t.audience,scope:t.scope,code_verifier:t.code_verifier,grant_type:"authorization_code",code:i},u?{redirect_uri:u}:{}),{nonceIn:l,organization:o}),{appState:t.appState,response_type:xp.Code}}async _handleConnectAccountRedirectCallback(e,t){const{connect_code:i,state:r,error:s,error_description:a}=e;if(s)throw new hZ(s,a||s,t.connection,r,t.appState);if(!i)throw new es("missing_connect_code","Missing connect code");if(!(t.code_verifier&&t.state&&t.auth_session&&t.redirect_uri&&t.state===r))throw new es("state_mismatch","Invalid state");const o=await this.myAccountApi.completeAccount({auth_session:t.auth_session,connect_code:i,redirect_uri:t.redirect_uri,code_verifier:t.code_verifier});return Object.assign(Object.assign({},o),{appState:t.appState,response_type:xp.ConnectCode})}async checkSession(e){if(!this.cookieStorage.get(this.isAuthenticatedCookieName)){if(!this.cookieStorage.get("auth0.is.authenticated"))return;this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove("auth0.is.authenticated")}try{await this.getTokenSilently(e)}catch{}}async getTokenSilently(e={}){var t,i;const r=Object.assign(Object.assign({cacheMode:"on"},e),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),e.authorizationParams),{scope:ET(this.scope,(t=e.authorizationParams)===null||t===void 0?void 0:t.scope,((i=e.authorizationParams)===null||i===void 0?void 0:i.audience)||this.options.authorizationParams.audience)})}),s=await((a,o)=>{let l=hO[o];return l||(l=a().finally((()=>{delete hO[o],l=null})),hO[o]=l),l})((()=>this._getTokenSilently(r)),`${this.options.clientId}::${r.authorizationParams.audience}::${r.authorizationParams.scope}`);return e.detailedResponse?s:s?.access_token}async _getTokenSilently(e){const{cacheMode:t}=e,i=ph(e,["cacheMode"]);if(t!=="off"){const o=await this._getEntryFromCache({scope:i.authorizationParams.scope,audience:i.authorizationParams.audience||"default",clientId:this.options.clientId,cacheMode:t});if(o)return o}if(t==="cache-only")return;const r=(s=this.options.clientId,a=i.authorizationParams.audience||"default",`auth0.lock.getTokenSilently.${s}.${a}`);var s,a;if(!await(async(o,l=3)=>{for(let u=0;u<l;u++)if(await o())return!0;return!1})((()=>dO.acquireLock(r,5e3)),10))throw new k3;this.activeLockKeys.add(r),this.activeLockKeys.size===1&&window.addEventListener("pagehide",this._releaseLockOnPageHide);try{if(t!=="off"){const v=await this._getEntryFromCache({scope:i.authorizationParams.scope,audience:i.authorizationParams.audience||"default",clientId:this.options.clientId});if(v)return v}const o=this.options.useRefreshTokens?await this._getTokenUsingRefreshToken(i):await this._getTokenFromIFrame(i),{id_token:l,token_type:u,access_token:d,oauthTokenScope:p,expires_in:y}=o;return Object.assign(Object.assign({id_token:l,token_type:u,access_token:d},p?{scope:p}:null),{expires_in:y})}finally{await dO.releaseLock(r),this.activeLockKeys.delete(r),this.activeLockKeys.size===0&&window.removeEventListener("pagehide",this._releaseLockOnPageHide)}}async getTokenWithPopup(e={},t={}){var i,r;const s=Object.assign(Object.assign({},e),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),e.authorizationParams),{scope:ET(this.scope,(i=e.authorizationParams)===null||i===void 0?void 0:i.scope,((r=e.authorizationParams)===null||r===void 0?void 0:r.audience)||this.options.authorizationParams.audience)})});return t=Object.assign(Object.assign({},uZ),t),await this.loginWithPopup(s,t),(await this.cacheManager.get(new Ec({scope:s.authorizationParams.scope,audience:s.authorizationParams.audience||"default",clientId:this.options.clientId}),void 0,this.options.useMrrt)).access_token}async isAuthenticated(){return!!await this.getUser()}_buildLogoutUrl(e){e.clientId!==null?e.clientId=e.clientId||this.options.clientId:delete e.clientId;const t=e.logoutParams||{},{federated:i}=t,r=ph(t,["federated"]),s=i?"&federated":"";return this._url(`/v2/logout?${z3(Object.assign({clientId:e.clientId},r))}`)+s}async logout(e={}){var t;const i=n5(e),{openUrl:r}=i,s=ph(i,["openUrl"]);e.clientId===null?await this.cacheManager.clear():await this.cacheManager.clear(e.clientId||this.options.clientId),this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove(this.isAuthenticatedCookieName,{cookieDomain:this.options.cookieDomain}),this.userCache.remove("@@user@@"),await((t=this.dpop)===null||t===void 0?void 0:t.clear());const a=this._buildLogoutUrl(s);r?await r(a):r!==!1&&window.location.assign(a)}async _getTokenFromIFrame(e){const t=Object.assign(Object.assign({},e.authorizationParams),{prompt:"none"}),i=this.cookieStorage.get(this.orgHintCookieName);i&&!t.organization&&(t.organization=i);const{url:r,state:s,nonce:a,code_verifier:o,redirect_uri:l,scope:u,audience:d}=await this._prepareAuthorizeUrl(t,{response_mode:"web_message"},window.location.origin);try{if(window.crossOriginIsolated)throw new es("login_required","The application is running in a Cross-Origin Isolated context, silently retrieving a token without refresh token is not possible.");const p=e.timeoutInSeconds||this.options.authorizeTimeoutInSeconds;let y;try{y=new URL(this.domainUrl).origin}catch{y=this.domainUrl}const v=await((S,E,b=60)=>new Promise(((w,A)=>{const C=window.document.createElement("iframe");C.setAttribute("width","0"),C.setAttribute("height","0"),C.style.display="none";const D=()=>{window.document.body.contains(C)&&(window.document.body.removeChild(C),window.removeEventListener("message",N,!1))};let N;const I=setTimeout((()=>{A(new k3),D()}),1e3*b);N=function(L){if(L.origin!=E||!L.data||L.data.type!=="authorization_response")return;const P=L.source;P&&P.close(),L.data.response.error?A(es.fromPayload(L.data.response)):w(L.data.response),clearTimeout(I),window.removeEventListener("message",N,!1),setTimeout(D,2e3)},window.addEventListener("message",N,!1),window.document.body.appendChild(C),C.setAttribute("src",S)})))(r,y,p);if(s!==v.state)throw new es("state_mismatch","Invalid state");const _=await this._requestToken(Object.assign(Object.assign({},e.authorizationParams),{code_verifier:o,code:v.code,grant_type:"authorization_code",redirect_uri:l,timeout:e.authorizationParams.timeout||this.httpTimeoutMs}),{nonceIn:a,organization:t.organization});return Object.assign(Object.assign({},_),{scope:u,oauthTokenScope:_.scope,audience:d})}catch(p){throw p.error==="login_required"&&this.logout({openUrl:!1}),p}}async _getTokenUsingRefreshToken(e){const t=await this.cacheManager.get(new Ec({scope:e.authorizationParams.scope,audience:e.authorizationParams.audience||"default",clientId:this.options.clientId}),void 0,this.options.useMrrt);if(!(t&&t.refresh_token||this.worker)){if(this.options.useRefreshTokensFallback)return await this._getTokenFromIFrame(e);throw new KV(e.authorizationParams.audience||"default",e.authorizationParams.scope)}const i=e.authorizationParams.redirect_uri||this.options.authorizationParams.redirect_uri||window.location.origin,r=typeof e.timeoutInSeconds=="number"?1e3*e.timeoutInSeconds:null,s=((d,p,y,v)=>{var _;if(d&&y&&v){if(p.audience!==y)return p.scope;const S=v.split(" "),E=((_=p.scope)===null||_===void 0?void 0:_.split(" "))||[],b=E.every((w=>S.includes(w)));return S.length>=E.length&&b?v:p.scope}return p.scope})(this.options.useMrrt,e.authorizationParams,t?.audience,t?.scope);try{const d=await this._requestToken(Object.assign(Object.assign(Object.assign({},e.authorizationParams),{grant_type:"refresh_token",refresh_token:t&&t.refresh_token,redirect_uri:i}),r&&{timeout:r}),{scopesToRequest:s});if(d.refresh_token&&this.options.useMrrt&&t?.refresh_token&&await this.cacheManager.updateEntry(t.refresh_token,d.refresh_token),this.options.useMrrt&&(a=t?.audience,o=t?.scope,l=e.authorizationParams.audience,u=e.authorizationParams.scope,(a!==l||!i5(u,o))&&!i5(s,d.scope))){if(this.options.useRefreshTokensFallback)return await this._getTokenFromIFrame(e);await this.cacheManager.remove(this.options.clientId,e.authorizationParams.audience,e.authorizationParams.scope);const p=((y,v)=>{const _=y?.split(" ")||[],S=v?.split(" ")||[];return _.filter((E=>S.indexOf(E)==-1)).join(",")})(s,d.scope);throw new YD(e.authorizationParams.audience||"default",p)}return Object.assign(Object.assign({},d),{scope:e.authorizationParams.scope,oauthTokenScope:d.scope,audience:e.authorizationParams.audience||"default"})}catch(d){if((d.message.indexOf("Missing Refresh Token")>-1||d.message&&d.message.indexOf("invalid refresh token")>-1)&&this.options.useRefreshTokensFallback)return await this._getTokenFromIFrame(e);throw d}var a,o,l,u}async _saveEntryInCache(e){const{id_token:t,decodedToken:i}=e,r=ph(e,["id_token","decodedToken"]);this.userCache.set("@@user@@",{id_token:t,decodedToken:i}),await this.cacheManager.setIdToken(this.options.clientId,e.id_token,e.decodedToken),await this.cacheManager.set(r)}async _getIdTokenFromCache(){const e=this.options.authorizationParams.audience||"default",t=this.scope[e],i=await this.cacheManager.getIdToken(new Ec({clientId:this.options.clientId,audience:e,scope:t})),r=this.userCache.get("@@user@@");return i&&i.id_token===r?.id_token?r:(this.userCache.set("@@user@@",i),i)}async _getEntryFromCache({scope:e,audience:t,clientId:i,cacheMode:r}){const s=await this.cacheManager.get(new Ec({scope:e,audience:t,clientId:i}),60,this.options.useMrrt,r);if(s&&s.access_token){const{token_type:a,access_token:o,oauthTokenScope:l,expires_in:u}=s,d=await this._getIdTokenFromCache();return d&&Object.assign(Object.assign({id_token:d.id_token,token_type:a||"Bearer",access_token:o},l?{scope:l}:null),{expires_in:u})}}async _requestToken(e,t){const{nonceIn:i,organization:r,scopesToRequest:s}=t||{},a=await IZ(Object.assign(Object.assign({baseUrl:this.domainUrl,client_id:this.options.clientId,auth0Client:this.options.auth0Client,useFormData:this.options.useFormData,timeout:this.httpTimeoutMs,useMrrt:this.options.useMrrt,dpop:this.dpop},e),{scope:s||e.scope}),this.worker),o=await this._verifyIdToken(a.id_token,i,r);return await this._saveEntryInCache(Object.assign(Object.assign(Object.assign(Object.assign({},a),{decodedToken:o,scope:e.scope,audience:e.audience||"default"}),a.scope?{oauthTokenScope:a.scope}:null),{client_id:this.options.clientId})),this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this._processOrgHint(r||o.claims.org_id),Object.assign(Object.assign({},a),{decodedToken:o})}async exchangeToken(e){return this._requestToken({grant_type:"urn:ietf:params:oauth:grant-type:token-exchange",subject_token:e.subject_token,subject_token_type:e.subject_token_type,scope:ET(this.scope,e.scope,e.audience||this.options.authorizationParams.audience),audience:e.audience||this.options.authorizationParams.audience,organization:e.organization||this.options.authorizationParams.organization})}_assertDpop(e){if(!e)throw new Error("`useDpop` option must be enabled before using DPoP.")}getDpopNonce(e){return this._assertDpop(this.dpop),this.dpop.getNonce(e)}setDpopNonce(e,t){return this._assertDpop(this.dpop),this.dpop.setNonce(e,t)}generateDpopProof(e){return this._assertDpop(this.dpop),this.dpop.generateProof(e)}createFetcher(e={}){return new WZ(e,{isDpopEnabled:()=>!!this.options.useDpop,getAccessToken:t=>{var i;return this.getTokenSilently({authorizationParams:{scope:(i=t?.scope)===null||i===void 0?void 0:i.join(" "),audience:t?.audience},detailedResponse:!0})},getDpopNonce:()=>this.getDpopNonce(e.dpopNonceId),setDpopNonce:t=>this.setDpopNonce(t,e.dpopNonceId),generateDpopProof:t=>this.generateDpopProof(t)})}async connectAccountWithRedirect(e){const{openUrl:t,appState:i,connection:r,scopes:s,authorization_params:a,redirectUri:o=this.options.authorizationParams.redirect_uri||window.location.origin}=e;if(!r)throw new Error("connection is required");const l=cO(s1()),u=s1(),d=await XU(u),p=KU(d),{connect_uri:y,connect_params:v,auth_session:_}=await this.myAccountApi.connectAccount({connection:r,scopes:s,redirect_uri:o,state:l,code_challenge:p,code_challenge_method:"S256",authorization_params:a});this.transactionManager.create({state:l,code_verifier:u,auth_session:_,redirect_uri:o,appState:i,connection:r,response_type:xp.ConnectCode});const S=new URL(y);S.searchParams.set("ticket",v.ticket),t?await t(S.toString()):window.location.assign(S)}}var o8={isAuthenticated:!1,isLoading:!0,error:void 0,user:void 0},To=function(){throw new Error("You forgot to wrap your component in <Auth0Provider>.")},YZ=Js(Js({},o8),{buildAuthorizeUrl:To,buildLogoutUrl:To,getAccessTokenSilently:To,getAccessTokenWithPopup:To,getIdTokenClaims:To,exchangeToken:To,loginWithRedirect:To,loginWithPopup:To,connectAccountWithRedirect:To,logout:To,handleRedirectCallback:To,getDpopNonce:To,setDpopNonce:To,generateDpopProof:To,createFetcher:To}),l8=H.createContext(YZ),r5=(function(n){oZ(e,n);function e(t,i){var r=n.call(this,i??t)||this;return r.error=t,r.error_description=i,Object.setPrototypeOf(r,e.prototype),r}return e})(Error),KZ=/[?&](?:connect_)?code=[^&]+/,ZZ=/[?&]state=[^&]+/,QZ=/[?&]error=[^&]+/,JZ=function(n){return n===void 0&&(n=window.location.search),(KZ.test(n)||QZ.test(n))&&ZZ.test(n)},c8=function(n){return function(e){if(e instanceof Error)return e;if(e!==null&&typeof e=="object"&&"error"in e&&typeof e.error=="string"){if("error_description"in e&&typeof e.error_description=="string"){var t=e;return new r5(t.error,t.error_description)}var i=e;return new r5(i.error)}return new Error(n)}},s5=c8("Login failed"),TT=c8("Get access token failed"),u8=function(n){var e,t;n?.redirectUri&&(console.warn("Using `redirectUri` has been deprecated, please use `authorizationParams.redirect_uri` instead as `redirectUri` will be no longer supported in a future version"),n.authorizationParams=(e=n.authorizationParams)!==null&&e!==void 0?e:{},n.authorizationParams.redirect_uri=n.redirectUri,delete n.redirectUri),!((t=n?.authorizationParams)===null||t===void 0)&&t.redirectUri&&(console.warn("Using `authorizationParams.redirectUri` has been deprecated, please use `authorizationParams.redirect_uri` instead as `authorizationParams.redirectUri` will be removed in a future version"),n.authorizationParams.redirect_uri=n.authorizationParams.redirectUri,delete n.authorizationParams.redirectUri)},eQ=function(n,e){switch(e.type){case"LOGIN_POPUP_STARTED":return Js(Js({},n),{isLoading:!0});case"LOGIN_POPUP_COMPLETE":case"INITIALISED":return Js(Js({},n),{isAuthenticated:!!e.user,user:e.user,isLoading:!1,error:void 0});case"HANDLE_REDIRECT_COMPLETE":case"GET_ACCESS_TOKEN_COMPLETE":return n.user===e.user?n:Js(Js({},n),{isAuthenticated:!!e.user,user:e.user});case"LOGOUT":return Js(Js({},n),{isAuthenticated:!1,user:void 0});case"ERROR":return Js(Js({},n),{isLoading:!1,error:e.error})}},tQ=function(n){return u8(n),Js(Js({},n),{auth0Client:{name:"auth0-react",version:"2.11.0"}})},nQ=function(n){var e;window.history.replaceState({},document.title,(e=n.returnTo)!==null&&e!==void 0?e:window.location.pathname)},iQ=function(n){var e=n.children,t=n.skipRedirectCallback,i=n.onRedirectCallback,r=i===void 0?nQ:i,s=n.context,a=s===void 0?l8:s,o=$U(n,["children","skipRedirectCallback","onRedirectCallback","context"]),l=H.useState(function(){return new XZ(tQ(o))})[0],u=H.useReducer(eQ,o8),d=u[0],p=u[1],y=H.useRef(!1),v=H.useCallback(function(z){return p({type:"ERROR",error:z}),z},[]);H.useEffect(function(){y.current||(y.current=!0,(function(){return ng(void 0,void 0,void 0,function(){var z,V,Y,ee,q,$,Q;return ig(this,function(se){switch(se.label){case 0:return se.trys.push([0,7,,8]),z=void 0,JZ()&&!t?[4,l.handleRedirectCallback()]:[3,3];case 1:return V=se.sent(),Y=V.appState,ee=Y===void 0?{}:Y,q=V.response_type,$=$U(V,["appState","response_type"]),[4,l.getUser()];case 2:return z=se.sent(),ee.response_type=q,q===xp.ConnectCode&&(ee.connectedAccount=$),r(ee,z),[3,6];case 3:return[4,l.checkSession()];case 4:return se.sent(),[4,l.getUser()];case 5:z=se.sent(),se.label=6;case 6:return p({type:"INITIALISED",user:z}),[3,8];case 7:return Q=se.sent(),v(s5(Q)),[3,8];case 8:return[2]}})})})())},[l,r,t,v]);var _=H.useCallback(function(z){return u8(z),l.loginWithRedirect(z)},[l]),S=H.useCallback(function(z,V){return ng(void 0,void 0,void 0,function(){var Y,ee;return ig(this,function(q){switch(q.label){case 0:p({type:"LOGIN_POPUP_STARTED"}),q.label=1;case 1:return q.trys.push([1,3,,4]),[4,l.loginWithPopup(z,V)];case 2:return q.sent(),[3,4];case 3:return Y=q.sent(),v(s5(Y)),[2];case 4:return[4,l.getUser()];case 5:return ee=q.sent(),p({type:"LOGIN_POPUP_COMPLETE",user:ee}),[2]}})})},[l,v]),E=H.useCallback(function(){for(var z=[],V=0;V<arguments.length;V++)z[V]=arguments[V];return ng(void 0,lZ([],z),void 0,function(Y){return Y===void 0&&(Y={}),ig(this,function(ee){switch(ee.label){case 0:return[4,l.logout(Y)];case 1:return ee.sent(),(Y.openUrl||Y.openUrl===!1)&&p({type:"LOGOUT"}),[2]}})})},[l]),b=H.useCallback(function(z){return ng(void 0,void 0,void 0,function(){var V,Y,ee,q;return ig(this,function($){switch($.label){case 0:return $.trys.push([0,2,3,5]),[4,l.getTokenSilently(z)];case 1:return V=$.sent(),[3,5];case 2:throw Y=$.sent(),TT(Y);case 3:return ee=p,q={type:"GET_ACCESS_TOKEN_COMPLETE"},[4,l.getUser()];case 4:return ee.apply(void 0,[(q.user=$.sent(),q)]),[7];case 5:return[2,V]}})})},[l]),w=H.useCallback(function(z,V){return ng(void 0,void 0,void 0,function(){var Y,ee,q,$;return ig(this,function(Q){switch(Q.label){case 0:return Q.trys.push([0,2,3,5]),[4,l.getTokenWithPopup(z,V)];case 1:return Y=Q.sent(),[3,5];case 2:throw ee=Q.sent(),TT(ee);case 3:return q=p,$={type:"GET_ACCESS_TOKEN_COMPLETE"},[4,l.getUser()];case 4:return q.apply(void 0,[($.user=Q.sent(),$)]),[7];case 5:return[2,Y]}})})},[l]),A=H.useCallback(function(z){return l.connectAccountWithRedirect(z)},[l]),C=H.useCallback(function(){return l.getIdTokenClaims()},[l]),D=H.useCallback(function(z){return ng(void 0,void 0,void 0,function(){var V,Y,ee,q;return ig(this,function($){switch($.label){case 0:return $.trys.push([0,2,3,5]),[4,l.exchangeToken(z)];case 1:return V=$.sent(),[3,5];case 2:throw Y=$.sent(),TT(Y);case 3:return ee=p,q={type:"GET_ACCESS_TOKEN_COMPLETE"},[4,l.getUser()];case 4:return ee.apply(void 0,[(q.user=$.sent(),q)]),[7];case 5:return[2,V]}})})},[l]),N=H.useCallback(function(z){return ng(void 0,void 0,void 0,function(){var V,Y,ee;return ig(this,function(q){switch(q.label){case 0:return q.trys.push([0,2,3,5]),[4,l.handleRedirectCallback(z)];case 1:return[2,q.sent()];case 2:throw V=q.sent(),TT(V);case 3:return Y=p,ee={type:"HANDLE_REDIRECT_COMPLETE"},[4,l.getUser()];case 4:return Y.apply(void 0,[(ee.user=q.sent(),ee)]),[7];case 5:return[2]}})})},[l]),I=H.useCallback(function(z){return l.getDpopNonce(z)},[l]),L=H.useCallback(function(z,V){return l.setDpopNonce(z,V)},[l]),P=H.useCallback(function(z){return l.generateDpopProof(z)},[l]),U=H.useCallback(function(z){return l.createFetcher(z)},[l]),F=H.useMemo(function(){return Js(Js({},d),{getAccessTokenSilently:b,getAccessTokenWithPopup:w,getIdTokenClaims:C,exchangeToken:D,loginWithRedirect:_,loginWithPopup:S,connectAccountWithRedirect:A,logout:E,handleRedirectCallback:N,getDpopNonce:I,setDpopNonce:L,generateDpopProof:P,createFetcher:U})},[d,b,w,C,D,_,S,A,E,N,I,L,P,U]);return lr.createElement(a.Provider,{value:F},e)},rQ=function(n){return n===void 0&&(n=l8),H.useContext(n)};const a5=n=>{let e;const t=new Set,i=(u,d)=>{const p=typeof u=="function"?u(e):u;if(!Object.is(p,e)){const y=e;e=d??(typeof p!="object"||p===null)?p:Object.assign({},e,p),t.forEach(v=>v(e,y))}},r=()=>e,o={setState:i,getState:r,getInitialState:()=>l,subscribe:u=>(t.add(u),()=>t.delete(u))},l=e=n(i,r,o);return o},h8=(n=>n?a5(n):a5),sQ=n=>n;function aQ(n,e=sQ){const t=lr.useSyncExternalStore(n.subscribe,lr.useCallback(()=>e(n.getState()),[n,e]),lr.useCallback(()=>e(n.getInitialState()),[n,e]));return lr.useDebugValue(t),t}const o5=n=>{const e=h8(n),t=i=>aQ(e,i);return Object.assign(t,e),t},oQ=(n=>n?o5(n):o5);function H0(n="debug",...e){}const lQ=()=>{};var l5={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d8=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},cQ=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=n[t++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=n[t++],a=n[t++],o=n[t++],l=((r&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{const s=n[t++],a=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|a&63)}}return e.join("")},f8={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const s=n[r],a=r+1<n.length,o=a?n[r+1]:0,l=r+2<n.length,u=l?n[r+2]:0,d=s>>2,p=(s&3)<<4|o>>4;let y=(o&15)<<2|u>>6,v=u&63;l||(v=64,a||(y=64)),i.push(t[d],t[p],t[y],t[v])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(d8(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):cQ(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const s=t[n.charAt(r++)],o=r<n.length?t[n.charAt(r)]:0;++r;const u=r<n.length?t[n.charAt(r)]:64;++r;const p=r<n.length?t[n.charAt(r)]:64;if(++r,s==null||o==null||u==null||p==null)throw new uQ;const y=s<<2|o>>4;if(i.push(y),u!==64){const v=o<<4&240|u>>2;if(i.push(v),p!==64){const _=u<<6&192|p;i.push(_)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class uQ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hQ=function(n){const e=d8(n);return f8.encodeByteArray(e,!0)},q2=function(n){return hQ(n).replace(/\./g,"")},p8=function(n){try{return f8.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dQ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fQ=()=>dQ().__FIREBASE_DEFAULTS__,pQ=()=>{if(typeof process>"u"||typeof l5>"u")return;const n=l5.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},mQ=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&p8(n[1]);return e&&JSON.parse(e)},UA=()=>{try{return lQ()||fQ()||pQ()||mQ()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},m8=n=>{var e,t;return(t=(e=UA())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},gQ=n=>{const e=m8(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},g8=()=>{var n;return(n=UA())===null||n===void 0?void 0:n.config},y8=n=>{var e;return(e=UA())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yQ{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C_(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function v8(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vQ(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[q2(JSON.stringify(t)),q2(JSON.stringify(a)),""].join(".")}const ox={};function _Q(){const n={prod:[],emulator:[]};for(const e of Object.keys(ox))ox[e]?n.emulator.push(e):n.prod.push(e);return n}function bQ(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let c5=!1;function _8(n,e){if(typeof window>"u"||typeof document>"u"||!C_(window.location.host)||ox[n]===e||ox[n]||c5)return;ox[n]=e;function t(y){return`__firebase__banner__${y}`}const i="__firebase__banner",s=_Q().prod.length>0;function a(){const y=document.getElementById(i);y&&y.remove()}function o(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function l(y,v){y.setAttribute("width","24"),y.setAttribute("id",v),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function u(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{c5=!0,a()},y}function d(y,v){y.setAttribute("id",v),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function p(){const y=bQ(i),v=t("text"),_=document.getElementById(v)||document.createElement("span"),S=t("learnmore"),E=document.getElementById(S)||document.createElement("a"),b=t("preprendIcon"),w=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const A=y.element;o(A),d(E,S);const C=u();l(w,b),A.append(w,_,E,C),document.body.appendChild(A)}s?(_.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function to(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xQ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(to())}function SQ(){var n;const e=(n=UA())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function EQ(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function TQ(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function wQ(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function CQ(){const n=to();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function AQ(){return!SQ()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function MQ(){try{return typeof indexedDB=="object"}catch{return!1}}function RQ(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OQ="FirebaseError";class pf extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=OQ,Object.setPrototypeOf(this,pf.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,RS.prototype.create)}}class RS{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},r=`${this.service}/${e}`,s=this.errors[e],a=s?IQ(s,i):"Error",o=`${this.serviceName}: ${a} (${r}).`;return new pf(r,o,i)}}function IQ(n,e){return n.replace(PQ,(t,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const PQ=/\{\$([^}]+)}/g;function DQ(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function iy(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const r of t){if(!i.includes(r))return!1;const s=n[r],a=e[r];if(u5(s)&&u5(a)){if(!iy(s,a))return!1}else if(s!==a)return!1}for(const r of i)if(!t.includes(r))return!1;return!0}function u5(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function NQ(n,e){const t=new LQ(n,e);return t.subscribe.bind(t)}class LQ{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");UQ(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=fO),r.error===void 0&&(r.error=fO),r.complete===void 0&&(r.complete=fO);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function UQ(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function fO(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Do(n){return n&&n._delegate?n._delegate:n}class ry{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ag="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kQ=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new yQ;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e?.identifier),r=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(BQ(e))try{this.getOrInitializeService({instanceIdentifier:Ag})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=Ag){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ag){return this.instances.has(e)}getOptions(e=Ag){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);i===o&&a.resolve(r)}return r}onInit(e,t){var i;const r=this.normalizeInstanceIdentifier(t),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&e(a,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:zQ(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ag){return this.component?this.component.multipleInstances?e:Ag:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function zQ(n){return n===Ag?void 0:n}function BQ(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FQ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new kQ(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var si;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(si||(si={}));const VQ={debug:si.DEBUG,verbose:si.VERBOSE,info:si.INFO,warn:si.WARN,error:si.ERROR,silent:si.SILENT},HQ=si.INFO,jQ={[si.DEBUG]:"log",[si.VERBOSE]:"log",[si.INFO]:"info",[si.WARN]:"warn",[si.ERROR]:"error"},GQ=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),r=jQ[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let KD=class{constructor(e){this.name=e,this._logLevel=HQ,this._logHandler=GQ,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in si))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?VQ[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,si.DEBUG,...e),this._logHandler(this,si.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,si.VERBOSE,...e),this._logHandler(this,si.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,si.INFO,...e),this._logHandler(this,si.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,si.WARN,...e),this._logHandler(this,si.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,si.ERROR,...e),this._logHandler(this,si.ERROR,...e)}};const qQ=(n,e)=>e.some(t=>n instanceof t);let h5,d5;function WQ(){return h5||(h5=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $Q(){return d5||(d5=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const b8=new WeakMap,F3=new WeakMap,x8=new WeakMap,pO=new WeakMap,ZD=new WeakMap;function XQ(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",s),n.removeEventListener("error",a)},s=()=>{t(Pp(n.result)),r()},a=()=>{i(n.error),r()};n.addEventListener("success",s),n.addEventListener("error",a)});return e.then(t=>{t instanceof IDBCursor&&b8.set(t,n)}).catch(()=>{}),ZD.set(e,n),e}function YQ(n){if(F3.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",a),n.removeEventListener("abort",a)},s=()=>{t(),r()},a=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",s),n.addEventListener("error",a),n.addEventListener("abort",a)});F3.set(n,e)}let V3={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return F3.get(n);if(e==="objectStoreNames")return n.objectStoreNames||x8.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Pp(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function KQ(n){V3=n(V3)}function ZQ(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(mO(this),e,...t);return x8.set(i,e.sort?e.sort():[e]),Pp(i)}:$Q().includes(n)?function(...e){return n.apply(mO(this),e),Pp(b8.get(this))}:function(...e){return Pp(n.apply(mO(this),e))}}function QQ(n){return typeof n=="function"?ZQ(n):(n instanceof IDBTransaction&&YQ(n),qQ(n,WQ())?new Proxy(n,V3):n)}function Pp(n){if(n instanceof IDBRequest)return XQ(n);if(pO.has(n))return pO.get(n);const e=QQ(n);return e!==n&&(pO.set(n,e),ZD.set(e,n)),e}const mO=n=>ZD.get(n);function JQ(n,e,{blocked:t,upgrade:i,blocking:r,terminated:s}={}){const a=indexedDB.open(n,e),o=Pp(a);return i&&a.addEventListener("upgradeneeded",l=>{i(Pp(a.result),l.oldVersion,l.newVersion,Pp(a.transaction),l)}),t&&a.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",u=>r(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const eJ=["get","getKey","getAll","getAllKeys","count"],tJ=["put","add","delete","clear"],gO=new Map;function f5(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(gO.get(e))return gO.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=tJ.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||eJ.includes(t)))return;const s=async function(a,...o){const l=this.transaction(a,r?"readwrite":"readonly");let u=l.store;return i&&(u=u.index(o.shift())),(await Promise.all([u[t](...o),r&&l.done]))[0]};return gO.set(e,s),s}KQ(n=>({...n,get:(e,t,i)=>f5(e,t)||n.get(e,t,i),has:(e,t)=>!!f5(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nJ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(iJ(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function iJ(n){const e=n.getComponent();return e?.type==="VERSION"}const H3="@firebase/app",p5="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd=new KD("@firebase/app"),rJ="@firebase/app-compat",sJ="@firebase/analytics-compat",aJ="@firebase/analytics",oJ="@firebase/app-check-compat",lJ="@firebase/app-check",cJ="@firebase/auth",uJ="@firebase/auth-compat",hJ="@firebase/database",dJ="@firebase/data-connect",fJ="@firebase/database-compat",pJ="@firebase/functions",mJ="@firebase/functions-compat",gJ="@firebase/installations",yJ="@firebase/installations-compat",vJ="@firebase/messaging",_J="@firebase/messaging-compat",bJ="@firebase/performance",xJ="@firebase/performance-compat",SJ="@firebase/remote-config",EJ="@firebase/remote-config-compat",TJ="@firebase/storage",wJ="@firebase/storage-compat",CJ="@firebase/firestore",AJ="@firebase/ai",MJ="@firebase/firestore-compat",RJ="firebase",OJ="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j3="[DEFAULT]",IJ={[H3]:"fire-core",[rJ]:"fire-core-compat",[aJ]:"fire-analytics",[sJ]:"fire-analytics-compat",[lJ]:"fire-app-check",[oJ]:"fire-app-check-compat",[cJ]:"fire-auth",[uJ]:"fire-auth-compat",[hJ]:"fire-rtdb",[dJ]:"fire-data-connect",[fJ]:"fire-rtdb-compat",[pJ]:"fire-fn",[mJ]:"fire-fn-compat",[gJ]:"fire-iid",[yJ]:"fire-iid-compat",[vJ]:"fire-fcm",[_J]:"fire-fcm-compat",[bJ]:"fire-perf",[xJ]:"fire-perf-compat",[SJ]:"fire-rc",[EJ]:"fire-rc-compat",[TJ]:"fire-gcs",[wJ]:"fire-gcs-compat",[CJ]:"fire-fst",[MJ]:"fire-fst-compat",[AJ]:"fire-vertex","fire-js":"fire-js",[RJ]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2=new Map,PJ=new Map,G3=new Map;function m5(n,e){try{n.container.addComponent(e)}catch(t){Zd.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function j0(n){const e=n.name;if(G3.has(e))return Zd.debug(`There were multiple attempts to register component ${e}.`),!1;G3.set(e,n);for(const t of W2.values())m5(t,n);for(const t of PJ.values())m5(t,n);return!0}function QD(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function yh(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DJ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Dp=new RS("app","Firebase",DJ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NJ{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ry("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Dp.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_=OJ;function S8(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:j3,automaticDataCollectionEnabled:!0},e),r=i.name;if(typeof r!="string"||!r)throw Dp.create("bad-app-name",{appName:String(r)});if(t||(t=g8()),!t)throw Dp.create("no-options");const s=W2.get(r);if(s){if(iy(t,s.options)&&iy(i,s.config))return s;throw Dp.create("duplicate-app",{appName:r})}const a=new FQ(r);for(const l of G3.values())a.addComponent(l);const o=new NJ(t,i,a);return W2.set(r,o),o}function E8(n=j3){const e=W2.get(n);if(!e&&n===j3&&g8())return S8();if(!e)throw Dp.create("no-app",{appName:n});return e}function Np(n,e,t){var i;let r=(i=IJ[n])!==null&&i!==void 0?i:n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zd.warn(o.join(" "));return}j0(new ry(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LJ="firebase-heartbeat-database",UJ=1,zx="firebase-heartbeat-store";let yO=null;function T8(){return yO||(yO=JQ(LJ,UJ,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(zx)}catch(t){console.warn(t)}}}}).catch(n=>{throw Dp.create("idb-open",{originalErrorMessage:n.message})})),yO}async function kJ(n){try{const t=(await T8()).transaction(zx),i=await t.objectStore(zx).get(w8(n));return await t.done,i}catch(e){if(e instanceof pf)Zd.warn(e.message);else{const t=Dp.create("idb-get",{originalErrorMessage:e?.message});Zd.warn(t.message)}}}async function g5(n,e){try{const i=(await T8()).transaction(zx,"readwrite");await i.objectStore(zx).put(e,w8(n)),await i.done}catch(t){if(t instanceof pf)Zd.warn(t.message);else{const i=Dp.create("idb-set",{originalErrorMessage:t?.message});Zd.warn(i.message)}}}function w8(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zJ=1024,BJ=30;class FJ{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new HJ(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=y5();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>BJ){const a=jJ(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Zd.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=y5(),{heartbeatsToSend:i,unsentEntries:r}=VJ(this._heartbeatsCache.heartbeats),s=q2(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Zd.warn(t),""}}}function y5(){return new Date().toISOString().substring(0,10)}function VJ(n,e=zJ){const t=[];let i=n.slice();for(const r of n){const s=t.find(a=>a.agent===r.agent);if(s){if(s.dates.push(r.date),v5(t)>e){s.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),v5(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class HJ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return MQ()?RQ().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await kJ(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const r=await this.read();return g5(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const r=await this.read();return g5(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function v5(n){return q2(JSON.stringify({version:2,heartbeats:n})).length}function jJ(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GJ(n){j0(new ry("platform-logger",e=>new nJ(e),"PRIVATE")),j0(new ry("heartbeat",e=>new FJ(e),"PRIVATE")),Np(H3,p5,n),Np(H3,p5,"esm2017"),Np("fire-js","")}GJ("");var _5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Lp,C8;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,L){function P(){}P.prototype=L.prototype,I.D=L.prototype,I.prototype=new P,I.prototype.constructor=I,I.C=function(U,F,z){for(var V=Array(arguments.length-2),Y=2;Y<arguments.length;Y++)V[Y-2]=arguments[Y];return L.prototype[F].apply(U,V)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(I,L,P){P||(P=0);var U=Array(16);if(typeof L=="string")for(var F=0;16>F;++F)U[F]=L.charCodeAt(P++)|L.charCodeAt(P++)<<8|L.charCodeAt(P++)<<16|L.charCodeAt(P++)<<24;else for(F=0;16>F;++F)U[F]=L[P++]|L[P++]<<8|L[P++]<<16|L[P++]<<24;L=I.g[0],P=I.g[1],F=I.g[2];var z=I.g[3],V=L+(z^P&(F^z))+U[0]+3614090360&4294967295;L=P+(V<<7&4294967295|V>>>25),V=z+(F^L&(P^F))+U[1]+3905402710&4294967295,z=L+(V<<12&4294967295|V>>>20),V=F+(P^z&(L^P))+U[2]+606105819&4294967295,F=z+(V<<17&4294967295|V>>>15),V=P+(L^F&(z^L))+U[3]+3250441966&4294967295,P=F+(V<<22&4294967295|V>>>10),V=L+(z^P&(F^z))+U[4]+4118548399&4294967295,L=P+(V<<7&4294967295|V>>>25),V=z+(F^L&(P^F))+U[5]+1200080426&4294967295,z=L+(V<<12&4294967295|V>>>20),V=F+(P^z&(L^P))+U[6]+2821735955&4294967295,F=z+(V<<17&4294967295|V>>>15),V=P+(L^F&(z^L))+U[7]+4249261313&4294967295,P=F+(V<<22&4294967295|V>>>10),V=L+(z^P&(F^z))+U[8]+1770035416&4294967295,L=P+(V<<7&4294967295|V>>>25),V=z+(F^L&(P^F))+U[9]+2336552879&4294967295,z=L+(V<<12&4294967295|V>>>20),V=F+(P^z&(L^P))+U[10]+4294925233&4294967295,F=z+(V<<17&4294967295|V>>>15),V=P+(L^F&(z^L))+U[11]+2304563134&4294967295,P=F+(V<<22&4294967295|V>>>10),V=L+(z^P&(F^z))+U[12]+1804603682&4294967295,L=P+(V<<7&4294967295|V>>>25),V=z+(F^L&(P^F))+U[13]+4254626195&4294967295,z=L+(V<<12&4294967295|V>>>20),V=F+(P^z&(L^P))+U[14]+2792965006&4294967295,F=z+(V<<17&4294967295|V>>>15),V=P+(L^F&(z^L))+U[15]+1236535329&4294967295,P=F+(V<<22&4294967295|V>>>10),V=L+(F^z&(P^F))+U[1]+4129170786&4294967295,L=P+(V<<5&4294967295|V>>>27),V=z+(P^F&(L^P))+U[6]+3225465664&4294967295,z=L+(V<<9&4294967295|V>>>23),V=F+(L^P&(z^L))+U[11]+643717713&4294967295,F=z+(V<<14&4294967295|V>>>18),V=P+(z^L&(F^z))+U[0]+3921069994&4294967295,P=F+(V<<20&4294967295|V>>>12),V=L+(F^z&(P^F))+U[5]+3593408605&4294967295,L=P+(V<<5&4294967295|V>>>27),V=z+(P^F&(L^P))+U[10]+38016083&4294967295,z=L+(V<<9&4294967295|V>>>23),V=F+(L^P&(z^L))+U[15]+3634488961&4294967295,F=z+(V<<14&4294967295|V>>>18),V=P+(z^L&(F^z))+U[4]+3889429448&4294967295,P=F+(V<<20&4294967295|V>>>12),V=L+(F^z&(P^F))+U[9]+568446438&4294967295,L=P+(V<<5&4294967295|V>>>27),V=z+(P^F&(L^P))+U[14]+3275163606&4294967295,z=L+(V<<9&4294967295|V>>>23),V=F+(L^P&(z^L))+U[3]+4107603335&4294967295,F=z+(V<<14&4294967295|V>>>18),V=P+(z^L&(F^z))+U[8]+1163531501&4294967295,P=F+(V<<20&4294967295|V>>>12),V=L+(F^z&(P^F))+U[13]+2850285829&4294967295,L=P+(V<<5&4294967295|V>>>27),V=z+(P^F&(L^P))+U[2]+4243563512&4294967295,z=L+(V<<9&4294967295|V>>>23),V=F+(L^P&(z^L))+U[7]+1735328473&4294967295,F=z+(V<<14&4294967295|V>>>18),V=P+(z^L&(F^z))+U[12]+2368359562&4294967295,P=F+(V<<20&4294967295|V>>>12),V=L+(P^F^z)+U[5]+4294588738&4294967295,L=P+(V<<4&4294967295|V>>>28),V=z+(L^P^F)+U[8]+2272392833&4294967295,z=L+(V<<11&4294967295|V>>>21),V=F+(z^L^P)+U[11]+1839030562&4294967295,F=z+(V<<16&4294967295|V>>>16),V=P+(F^z^L)+U[14]+4259657740&4294967295,P=F+(V<<23&4294967295|V>>>9),V=L+(P^F^z)+U[1]+2763975236&4294967295,L=P+(V<<4&4294967295|V>>>28),V=z+(L^P^F)+U[4]+1272893353&4294967295,z=L+(V<<11&4294967295|V>>>21),V=F+(z^L^P)+U[7]+4139469664&4294967295,F=z+(V<<16&4294967295|V>>>16),V=P+(F^z^L)+U[10]+3200236656&4294967295,P=F+(V<<23&4294967295|V>>>9),V=L+(P^F^z)+U[13]+681279174&4294967295,L=P+(V<<4&4294967295|V>>>28),V=z+(L^P^F)+U[0]+3936430074&4294967295,z=L+(V<<11&4294967295|V>>>21),V=F+(z^L^P)+U[3]+3572445317&4294967295,F=z+(V<<16&4294967295|V>>>16),V=P+(F^z^L)+U[6]+76029189&4294967295,P=F+(V<<23&4294967295|V>>>9),V=L+(P^F^z)+U[9]+3654602809&4294967295,L=P+(V<<4&4294967295|V>>>28),V=z+(L^P^F)+U[12]+3873151461&4294967295,z=L+(V<<11&4294967295|V>>>21),V=F+(z^L^P)+U[15]+530742520&4294967295,F=z+(V<<16&4294967295|V>>>16),V=P+(F^z^L)+U[2]+3299628645&4294967295,P=F+(V<<23&4294967295|V>>>9),V=L+(F^(P|~z))+U[0]+4096336452&4294967295,L=P+(V<<6&4294967295|V>>>26),V=z+(P^(L|~F))+U[7]+1126891415&4294967295,z=L+(V<<10&4294967295|V>>>22),V=F+(L^(z|~P))+U[14]+2878612391&4294967295,F=z+(V<<15&4294967295|V>>>17),V=P+(z^(F|~L))+U[5]+4237533241&4294967295,P=F+(V<<21&4294967295|V>>>11),V=L+(F^(P|~z))+U[12]+1700485571&4294967295,L=P+(V<<6&4294967295|V>>>26),V=z+(P^(L|~F))+U[3]+2399980690&4294967295,z=L+(V<<10&4294967295|V>>>22),V=F+(L^(z|~P))+U[10]+4293915773&4294967295,F=z+(V<<15&4294967295|V>>>17),V=P+(z^(F|~L))+U[1]+2240044497&4294967295,P=F+(V<<21&4294967295|V>>>11),V=L+(F^(P|~z))+U[8]+1873313359&4294967295,L=P+(V<<6&4294967295|V>>>26),V=z+(P^(L|~F))+U[15]+4264355552&4294967295,z=L+(V<<10&4294967295|V>>>22),V=F+(L^(z|~P))+U[6]+2734768916&4294967295,F=z+(V<<15&4294967295|V>>>17),V=P+(z^(F|~L))+U[13]+1309151649&4294967295,P=F+(V<<21&4294967295|V>>>11),V=L+(F^(P|~z))+U[4]+4149444226&4294967295,L=P+(V<<6&4294967295|V>>>26),V=z+(P^(L|~F))+U[11]+3174756917&4294967295,z=L+(V<<10&4294967295|V>>>22),V=F+(L^(z|~P))+U[2]+718787259&4294967295,F=z+(V<<15&4294967295|V>>>17),V=P+(z^(F|~L))+U[9]+3951481745&4294967295,I.g[0]=I.g[0]+L&4294967295,I.g[1]=I.g[1]+(F+(V<<21&4294967295|V>>>11))&4294967295,I.g[2]=I.g[2]+F&4294967295,I.g[3]=I.g[3]+z&4294967295}i.prototype.u=function(I,L){L===void 0&&(L=I.length);for(var P=L-this.blockSize,U=this.B,F=this.h,z=0;z<L;){if(F==0)for(;z<=P;)r(this,I,z),z+=this.blockSize;if(typeof I=="string"){for(;z<L;)if(U[F++]=I.charCodeAt(z++),F==this.blockSize){r(this,U),F=0;break}}else for(;z<L;)if(U[F++]=I[z++],F==this.blockSize){r(this,U),F=0;break}}this.h=F,this.o+=L},i.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var L=1;L<I.length-8;++L)I[L]=0;var P=8*this.o;for(L=I.length-8;L<I.length;++L)I[L]=P&255,P/=256;for(this.u(I),I=Array(16),L=P=0;4>L;++L)for(var U=0;32>U;U+=8)I[P++]=this.g[L]>>>U&255;return I};function s(I,L){var P=o;return Object.prototype.hasOwnProperty.call(P,I)?P[I]:P[I]=L(I)}function a(I,L){this.h=L;for(var P=[],U=!0,F=I.length-1;0<=F;F--){var z=I[F]|0;U&&z==L||(P[F]=z,U=!1)}this.g=P}var o={};function l(I){return-128<=I&&128>I?s(I,function(L){return new a([L|0],0>L?-1:0)}):new a([I|0],0>I?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return p;if(0>I)return E(u(-I));for(var L=[],P=1,U=0;I>=P;U++)L[U]=I/P|0,P*=4294967296;return new a(L,0)}function d(I,L){if(I.length==0)throw Error("number format error: empty string");if(L=L||10,2>L||36<L)throw Error("radix out of range: "+L);if(I.charAt(0)=="-")return E(d(I.substring(1),L));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=u(Math.pow(L,8)),U=p,F=0;F<I.length;F+=8){var z=Math.min(8,I.length-F),V=parseInt(I.substring(F,F+z),L);8>z?(z=u(Math.pow(L,z)),U=U.j(z).add(u(V))):(U=U.j(P),U=U.add(u(V)))}return U}var p=l(0),y=l(1),v=l(16777216);n=a.prototype,n.m=function(){if(S(this))return-E(this).m();for(var I=0,L=1,P=0;P<this.g.length;P++){var U=this.i(P);I+=(0<=U?U:4294967296+U)*L,L*=4294967296}return I},n.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(_(this))return"0";if(S(this))return"-"+E(this).toString(I);for(var L=u(Math.pow(I,6)),P=this,U="";;){var F=C(P,L).g;P=b(P,F.j(L));var z=((0<P.g.length?P.g[0]:P.h)>>>0).toString(I);if(P=F,_(P))return z+U;for(;6>z.length;)z="0"+z;U=z+U}},n.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function _(I){if(I.h!=0)return!1;for(var L=0;L<I.g.length;L++)if(I.g[L]!=0)return!1;return!0}function S(I){return I.h==-1}n.l=function(I){return I=b(this,I),S(I)?-1:_(I)?0:1};function E(I){for(var L=I.g.length,P=[],U=0;U<L;U++)P[U]=~I.g[U];return new a(P,~I.h).add(y)}n.abs=function(){return S(this)?E(this):this},n.add=function(I){for(var L=Math.max(this.g.length,I.g.length),P=[],U=0,F=0;F<=L;F++){var z=U+(this.i(F)&65535)+(I.i(F)&65535),V=(z>>>16)+(this.i(F)>>>16)+(I.i(F)>>>16);U=V>>>16,z&=65535,V&=65535,P[F]=V<<16|z}return new a(P,P[P.length-1]&-2147483648?-1:0)};function b(I,L){return I.add(E(L))}n.j=function(I){if(_(this)||_(I))return p;if(S(this))return S(I)?E(this).j(E(I)):E(E(this).j(I));if(S(I))return E(this.j(E(I)));if(0>this.l(v)&&0>I.l(v))return u(this.m()*I.m());for(var L=this.g.length+I.g.length,P=[],U=0;U<2*L;U++)P[U]=0;for(U=0;U<this.g.length;U++)for(var F=0;F<I.g.length;F++){var z=this.i(U)>>>16,V=this.i(U)&65535,Y=I.i(F)>>>16,ee=I.i(F)&65535;P[2*U+2*F]+=V*ee,w(P,2*U+2*F),P[2*U+2*F+1]+=z*ee,w(P,2*U+2*F+1),P[2*U+2*F+1]+=V*Y,w(P,2*U+2*F+1),P[2*U+2*F+2]+=z*Y,w(P,2*U+2*F+2)}for(U=0;U<L;U++)P[U]=P[2*U+1]<<16|P[2*U];for(U=L;U<2*L;U++)P[U]=0;return new a(P,0)};function w(I,L){for(;(I[L]&65535)!=I[L];)I[L+1]+=I[L]>>>16,I[L]&=65535,L++}function A(I,L){this.g=I,this.h=L}function C(I,L){if(_(L))throw Error("division by zero");if(_(I))return new A(p,p);if(S(I))return L=C(E(I),L),new A(E(L.g),E(L.h));if(S(L))return L=C(I,E(L)),new A(E(L.g),L.h);if(30<I.g.length){if(S(I)||S(L))throw Error("slowDivide_ only works with positive integers.");for(var P=y,U=L;0>=U.l(I);)P=D(P),U=D(U);var F=N(P,1),z=N(U,1);for(U=N(U,2),P=N(P,2);!_(U);){var V=z.add(U);0>=V.l(I)&&(F=F.add(P),z=V),U=N(U,1),P=N(P,1)}return L=b(I,F.j(L)),new A(F,L)}for(F=p;0<=I.l(L);){for(P=Math.max(1,Math.floor(I.m()/L.m())),U=Math.ceil(Math.log(P)/Math.LN2),U=48>=U?1:Math.pow(2,U-48),z=u(P),V=z.j(L);S(V)||0<V.l(I);)P-=U,z=u(P),V=z.j(L);_(z)&&(z=y),F=F.add(z),I=b(I,V)}return new A(F,I)}n.A=function(I){return C(this,I).h},n.and=function(I){for(var L=Math.max(this.g.length,I.g.length),P=[],U=0;U<L;U++)P[U]=this.i(U)&I.i(U);return new a(P,this.h&I.h)},n.or=function(I){for(var L=Math.max(this.g.length,I.g.length),P=[],U=0;U<L;U++)P[U]=this.i(U)|I.i(U);return new a(P,this.h|I.h)},n.xor=function(I){for(var L=Math.max(this.g.length,I.g.length),P=[],U=0;U<L;U++)P[U]=this.i(U)^I.i(U);return new a(P,this.h^I.h)};function D(I){for(var L=I.g.length+1,P=[],U=0;U<L;U++)P[U]=I.i(U)<<1|I.i(U-1)>>>31;return new a(P,I.h)}function N(I,L){var P=L>>5;L%=32;for(var U=I.g.length-P,F=[],z=0;z<U;z++)F[z]=0<L?I.i(z+P)>>>L|I.i(z+P+1)<<32-L:I.i(z+P);return new a(F,I.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,C8=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=d,Lp=a}).apply(typeof _5<"u"?_5:typeof self<"u"?self:typeof window<"u"?window:{});var wT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var A8,H1,M8,f2,q3,R8,O8,I8;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(M,j,X){return M==Array.prototype||M==Object.prototype||(M[j]=X.value),M};function t(M){M=[typeof globalThis=="object"&&globalThis,M,typeof window=="object"&&window,typeof self=="object"&&self,typeof wT=="object"&&wT];for(var j=0;j<M.length;++j){var X=M[j];if(X&&X.Math==Math)return X}throw Error("Cannot find global object")}var i=t(this);function r(M,j){if(j)e:{var X=i;M=M.split(".");for(var ce=0;ce<M.length-1;ce++){var Ee=M[ce];if(!(Ee in X))break e;X=X[Ee]}M=M[M.length-1],ce=X[M],j=j(ce),j!=ce&&j!=null&&e(X,M,{configurable:!0,writable:!0,value:j})}}function s(M,j){M instanceof String&&(M+="");var X=0,ce=!1,Ee={next:function(){if(!ce&&X<M.length){var je=X++;return{value:j(je,M[je]),done:!1}}return ce=!0,{done:!0,value:void 0}}};return Ee[Symbol.iterator]=function(){return Ee},Ee}r("Array.prototype.values",function(M){return M||function(){return s(this,function(j,X){return X})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(M){var j=typeof M;return j=j!="object"?j:M?Array.isArray(M)?"array":j:"null",j=="array"||j=="object"&&typeof M.length=="number"}function u(M){var j=typeof M;return j=="object"&&M!=null||j=="function"}function d(M,j,X){return M.call.apply(M.bind,arguments)}function p(M,j,X){if(!M)throw Error();if(2<arguments.length){var ce=Array.prototype.slice.call(arguments,2);return function(){var Ee=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Ee,ce),M.apply(j,Ee)}}return function(){return M.apply(j,arguments)}}function y(M,j,X){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,y.apply(null,arguments)}function v(M,j){var X=Array.prototype.slice.call(arguments,1);return function(){var ce=X.slice();return ce.push.apply(ce,arguments),M.apply(this,ce)}}function _(M,j){function X(){}X.prototype=j.prototype,M.aa=j.prototype,M.prototype=new X,M.prototype.constructor=M,M.Qb=function(ce,Ee,je){for(var Et=Array(arguments.length-2),pi=2;pi<arguments.length;pi++)Et[pi-2]=arguments[pi];return j.prototype[Ee].apply(ce,Et)}}function S(M){const j=M.length;if(0<j){const X=Array(j);for(let ce=0;ce<j;ce++)X[ce]=M[ce];return X}return[]}function E(M,j){for(let X=1;X<arguments.length;X++){const ce=arguments[X];if(l(ce)){const Ee=M.length||0,je=ce.length||0;M.length=Ee+je;for(let Et=0;Et<je;Et++)M[Ee+Et]=ce[Et]}else M.push(ce)}}class b{constructor(j,X){this.i=j,this.j=X,this.h=0,this.g=null}get(){let j;return 0<this.h?(this.h--,j=this.g,this.g=j.next,j.next=null):j=this.i(),j}}function w(M){return/^[\s\xa0]*$/.test(M)}function A(){var M=o.navigator;return M&&(M=M.userAgent)?M:""}function C(M){return C[" "](M),M}C[" "]=function(){};var D=A().indexOf("Gecko")!=-1&&!(A().toLowerCase().indexOf("webkit")!=-1&&A().indexOf("Edge")==-1)&&!(A().indexOf("Trident")!=-1||A().indexOf("MSIE")!=-1)&&A().indexOf("Edge")==-1;function N(M,j,X){for(const ce in M)j.call(X,M[ce],ce,M)}function I(M,j){for(const X in M)j.call(void 0,M[X],X,M)}function L(M){const j={};for(const X in M)j[X]=M[X];return j}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(M,j){let X,ce;for(let Ee=1;Ee<arguments.length;Ee++){ce=arguments[Ee];for(X in ce)M[X]=ce[X];for(let je=0;je<P.length;je++)X=P[je],Object.prototype.hasOwnProperty.call(ce,X)&&(M[X]=ce[X])}}function F(M){var j=1;M=M.split(":");const X=[];for(;0<j&&M.length;)X.push(M.shift()),j--;return M.length&&X.push(M.join(":")),X}function z(M){o.setTimeout(()=>{throw M},0)}function V(){var M=se;let j=null;return M.g&&(j=M.g,M.g=M.g.next,M.g||(M.h=null),j.next=null),j}class Y{constructor(){this.h=this.g=null}add(j,X){const ce=ee.get();ce.set(j,X),this.h?this.h.next=ce:this.g=ce,this.h=ce}}var ee=new b(()=>new q,M=>M.reset());class q{constructor(){this.next=this.g=this.h=null}set(j,X){this.h=j,this.g=X,this.next=null}reset(){this.next=this.g=this.h=null}}let $,Q=!1,se=new Y,fe=()=>{const M=o.Promise.resolve(void 0);$=()=>{M.then(K)}};var K=()=>{for(var M;M=V();){try{M.h.call(M.g)}catch(X){z(X)}var j=ee;j.j(M),100>j.h&&(j.h++,M.next=j.g,j.g=M)}Q=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(M,j){this.type=M,this.g=this.target=j,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var ue=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var M=!1,j=Object.defineProperty({},"passive",{get:function(){M=!0}});try{const X=()=>{};o.addEventListener("test",X,j),o.removeEventListener("test",X,j)}catch{}return M})();function ie(M,j){if(pe.call(this,M?M.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,M){var X=this.type=M.type,ce=M.changedTouches&&M.changedTouches.length?M.changedTouches[0]:null;if(this.target=M.target||M.srcElement,this.g=j,j=M.relatedTarget){if(D){e:{try{C(j.nodeName);var Ee=!0;break e}catch{}Ee=!1}Ee||(j=null)}}else X=="mouseover"?j=M.fromElement:X=="mouseout"&&(j=M.toElement);this.relatedTarget=j,ce?(this.clientX=ce.clientX!==void 0?ce.clientX:ce.pageX,this.clientY=ce.clientY!==void 0?ce.clientY:ce.pageY,this.screenX=ce.screenX||0,this.screenY=ce.screenY||0):(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0),this.button=M.button,this.key=M.key||"",this.ctrlKey=M.ctrlKey,this.altKey=M.altKey,this.shiftKey=M.shiftKey,this.metaKey=M.metaKey,this.pointerId=M.pointerId||0,this.pointerType=typeof M.pointerType=="string"?M.pointerType:de[M.pointerType]||"",this.state=M.state,this.i=M,M.defaultPrevented&&ie.aa.h.call(this)}}_(ie,pe);var de={2:"touch",3:"pen",4:"mouse"};ie.prototype.h=function(){ie.aa.h.call(this);var M=this.i;M.preventDefault?M.preventDefault():M.returnValue=!1};var ye="closure_listenable_"+(1e6*Math.random()|0),Ve=0;function Xe(M,j,X,ce,Ee){this.listener=M,this.proxy=null,this.src=j,this.type=X,this.capture=!!ce,this.ha=Ee,this.key=++Ve,this.da=this.fa=!1}function Ge(M){M.da=!0,M.listener=null,M.proxy=null,M.src=null,M.ha=null}function st(M){this.src=M,this.g={},this.h=0}st.prototype.add=function(M,j,X,ce,Ee){var je=M.toString();M=this.g[je],M||(M=this.g[je]=[],this.h++);var Et=mt(M,j,ce,Ee);return-1<Et?(j=M[Et],X||(j.fa=!1)):(j=new Xe(j,this.src,je,!!ce,Ee),j.fa=X,M.push(j)),j};function lt(M,j){var X=j.type;if(X in M.g){var ce=M.g[X],Ee=Array.prototype.indexOf.call(ce,j,void 0),je;(je=0<=Ee)&&Array.prototype.splice.call(ce,Ee,1),je&&(Ge(j),M.g[X].length==0&&(delete M.g[X],M.h--))}}function mt(M,j,X,ce){for(var Ee=0;Ee<M.length;++Ee){var je=M[Ee];if(!je.da&&je.listener==j&&je.capture==!!X&&je.ha==ce)return Ee}return-1}var te="closure_lm_"+(1e6*Math.random()|0),Oe={};function Be(M,j,X,ce,Ee){if(Array.isArray(j)){for(var je=0;je<j.length;je++)Be(M,j[je],X,ce,Ee);return null}return X=Ze(X),M&&M[ye]?M.K(j,X,u(ce)?!!ce.capture:!1,Ee):Ne(M,j,X,!1,ce,Ee)}function Ne(M,j,X,ce,Ee,je){if(!j)throw Error("Invalid event type");var Et=u(Ee)?!!Ee.capture:!!Ee,pi=Se(M);if(pi||(M[te]=pi=new st(M)),X=pi.add(j,X,ce,Et,je),X.proxy)return X;if(ce=Me(),X.proxy=ce,ce.src=M,ce.listener=X,M.addEventListener)ue||(Ee=Et),Ee===void 0&&(Ee=!1),M.addEventListener(j.toString(),ce,Ee);else if(M.attachEvent)M.attachEvent(ae(j.toString()),ce);else if(M.addListener&&M.removeListener)M.addListener(ce);else throw Error("addEventListener and attachEvent are unavailable.");return X}function Me(){function M(X){return j.call(M.src,M.listener,X)}const j=J;return M}function ut(M,j,X,ce,Ee){if(Array.isArray(j))for(var je=0;je<j.length;je++)ut(M,j[je],X,ce,Ee);else ce=u(ce)?!!ce.capture:!!ce,X=Ze(X),M&&M[ye]?(M=M.i,j=String(j).toString(),j in M.g&&(je=M.g[j],X=mt(je,X,ce,Ee),-1<X&&(Ge(je[X]),Array.prototype.splice.call(je,X,1),je.length==0&&(delete M.g[j],M.h--)))):M&&(M=Se(M))&&(j=M.g[j.toString()],M=-1,j&&(M=mt(j,X,ce,Ee)),(X=-1<M?j[M]:null)&&qe(X))}function qe(M){if(typeof M!="number"&&M&&!M.da){var j=M.src;if(j&&j[ye])lt(j.i,M);else{var X=M.type,ce=M.proxy;j.removeEventListener?j.removeEventListener(X,ce,M.capture):j.detachEvent?j.detachEvent(ae(X),ce):j.addListener&&j.removeListener&&j.removeListener(ce),(X=Se(j))?(lt(X,M),X.h==0&&(X.src=null,j[te]=null)):Ge(M)}}}function ae(M){return M in Oe?Oe[M]:Oe[M]="on"+M}function J(M,j){if(M.da)M=!0;else{j=new ie(j,this);var X=M.listener,ce=M.ha||M.src;M.fa&&qe(M),M=X.call(ce,j)}return M}function Se(M){return M=M[te],M instanceof st?M:null}var Ae="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ze(M){return typeof M=="function"?M:(M[Ae]||(M[Ae]=function(j){return M.handleEvent(j)}),M[Ae])}function Re(){le.call(this),this.i=new st(this),this.M=this,this.F=null}_(Re,le),Re.prototype[ye]=!0,Re.prototype.removeEventListener=function(M,j,X,ce){ut(this,M,j,X,ce)};function ct(M,j){var X,ce=M.F;if(ce)for(X=[];ce;ce=ce.F)X.push(ce);if(M=M.M,ce=j.type||j,typeof j=="string")j=new pe(j,M);else if(j instanceof pe)j.target=j.target||M;else{var Ee=j;j=new pe(ce,M),U(j,Ee)}if(Ee=!0,X)for(var je=X.length-1;0<=je;je--){var Et=j.g=X[je];Ee=ht(Et,ce,!0,j)&&Ee}if(Et=j.g=M,Ee=ht(Et,ce,!0,j)&&Ee,Ee=ht(Et,ce,!1,j)&&Ee,X)for(je=0;je<X.length;je++)Et=j.g=X[je],Ee=ht(Et,ce,!1,j)&&Ee}Re.prototype.N=function(){if(Re.aa.N.call(this),this.i){var M=this.i,j;for(j in M.g){for(var X=M.g[j],ce=0;ce<X.length;ce++)Ge(X[ce]);delete M.g[j],M.h--}}this.F=null},Re.prototype.K=function(M,j,X,ce){return this.i.add(String(M),j,!1,X,ce)},Re.prototype.L=function(M,j,X,ce){return this.i.add(String(M),j,!0,X,ce)};function ht(M,j,X,ce){if(j=M.i.g[String(j)],!j)return!0;j=j.concat();for(var Ee=!0,je=0;je<j.length;++je){var Et=j[je];if(Et&&!Et.da&&Et.capture==X){var pi=Et.listener,sr=Et.ha||Et.src;Et.fa&&lt(M.i,Et),Ee=pi.call(sr,ce)!==!1&&Ee}}return Ee&&!ce.defaultPrevented}function Dt(M,j,X){if(typeof M=="function")X&&(M=y(M,X));else if(M&&typeof M.handleEvent=="function")M=y(M.handleEvent,M);else throw Error("Invalid listener argument");return 2147483647<Number(j)?-1:o.setTimeout(M,j||0)}function zt(M){M.g=Dt(()=>{M.g=null,M.i&&(M.i=!1,zt(M))},M.l);const j=M.h;M.h=null,M.m.apply(null,j)}class $e extends le{constructor(j,X){super(),this.m=j,this.l=X,this.h=null,this.i=!1,this.g=null}j(j){this.h=arguments,this.g?this.i=!0:zt(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pt(M){le.call(this),this.h=M,this.g={}}_(pt,le);var wt=[];function At(M){N(M.g,function(j,X){this.g.hasOwnProperty(X)&&qe(j)},M),M.g={}}pt.prototype.N=function(){pt.aa.N.call(this),At(this)},pt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vt=o.JSON.stringify,jt=o.JSON.parse,ot=class{stringify(M){return o.JSON.stringify(M,void 0)}parse(M){return o.JSON.parse(M,void 0)}};function Lt(){}Lt.prototype.h=null;function ve(M){return M.h||(M.h=M.i())}function gt(){}var Fe={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Qe(){pe.call(this,"d")}_(Qe,pe);function xt(){pe.call(this,"c")}_(xt,pe);var _t={},Zt=null;function Yn(){return Zt=Zt||new Re}_t.La="serverreachability";function Bt(M){pe.call(this,_t.La,M)}_(Bt,pe);function Qt(M){const j=Yn();ct(j,new Bt(j))}_t.STAT_EVENT="statevent";function St(M,j){pe.call(this,_t.STAT_EVENT,M),this.stat=j}_(St,pe);function Mt(M){const j=Yn();ct(j,new St(j,M))}_t.Ma="timingevent";function zn(M,j){pe.call(this,_t.Ma,M),this.size=j}_(zn,pe);function _n(M,j){if(typeof M!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){M()},j)}function Bn(){this.g=!0}Bn.prototype.xa=function(){this.g=!1};function ki(M,j,X,ce,Ee,je){M.info(function(){if(M.g)if(je)for(var Et="",pi=je.split("&"),sr=0;sr<pi.length;sr++){var On=pi[sr].split("=");if(1<On.length){var Ar=On[0];On=On[1];var as=Ar.split("_");Et=2<=as.length&&as[1]=="type"?Et+(Ar+"="+On+"&"):Et+(Ar+"=redacted&")}}else Et=null;else Et=je;return"XMLHTTP REQ ("+ce+") [attempt "+Ee+"]: "+j+`
`+X+`
`+Et})}function Is(M,j,X,ce,Ee,je,Et){M.info(function(){return"XMLHTTP RESP ("+ce+") [ attempt "+Ee+"]: "+j+`
`+X+`
`+je+" "+Et})}function Ki(M,j,X,ce){M.info(function(){return"XMLHTTP TEXT ("+j+"): "+Gr(M,X)+(ce?" "+ce:"")})}function jr(M,j){M.info(function(){return"TIMEOUT: "+j})}Bn.prototype.info=function(){};function Gr(M,j){if(!M.g)return j;if(!j)return null;try{var X=JSON.parse(j);if(X){for(M=0;M<X.length;M++)if(Array.isArray(X[M])){var ce=X[M];if(!(2>ce.length)){var Ee=ce[1];if(Array.isArray(Ee)&&!(1>Ee.length)){var je=Ee[0];if(je!="noop"&&je!="stop"&&je!="close")for(var Et=1;Et<Ee.length;Et++)Ee[Et]=""}}}}return vt(X)}catch{return j}}var pn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},pr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},oa;function fl(){}_(fl,Lt),fl.prototype.g=function(){return new XMLHttpRequest},fl.prototype.i=function(){return{}},oa=new fl;function ro(M,j,X,ce){this.j=M,this.i=j,this.l=X,this.R=ce||1,this.U=new pt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new gf}function gf(){this.i=null,this.g="",this.h=!1}var zc={},so={};function pl(M,j,X){M.L=1,M.v=cr(Mi(j)),M.m=X,M.P=!0,re(M,null)}function re(M,j){M.F=Date.now(),De(M),M.A=Mi(M.v);var X=M.A,ce=M.R;Array.isArray(ce)||(ce=[String(ce)]),Wl(X.i,"t",ce),M.C=0,X=M.j.J,M.h=new gf,M.g=zo(M.j,X?j:null,!M.m),0<M.O&&(M.M=new $e(y(M.Y,M,M.g),M.O)),j=M.U,X=M.g,ce=M.ca;var Ee="readystatechange";Array.isArray(Ee)||(Ee&&(wt[0]=Ee.toString()),Ee=wt);for(var je=0;je<Ee.length;je++){var Et=Be(X,Ee[je],ce||j.handleEvent,!1,j.h||j);if(!Et)break;j.g[Et.key]=Et}j=M.H?L(M.H):{},M.m?(M.u||(M.u="POST"),j["Content-Type"]="application/x-www-form-urlencoded",M.g.ea(M.A,M.u,M.m,j)):(M.u="GET",M.g.ea(M.A,M.u,null,j)),Qt(),ki(M.i,M.u,M.A,M.l,M.R,M.m)}ro.prototype.ca=function(M){M=M.target;const j=this.M;j&&Hs(M)==3?j.j():this.Y(M)},ro.prototype.Y=function(M){try{if(M==this.g)e:{const as=Hs(this.g);var j=this.g.Ba();const Wr=this.g.Z();if(!(3>as)&&(as!=3||this.g&&(this.h.h||this.g.oa()||Pu(this.g)))){this.J||as!=4||j==7||(j==8||0>=Wr?Qt(3):Qt(2)),at(this);var X=this.g.Z();this.X=X;t:if(_e(this)){var ce=Pu(this.g);M="";var Ee=ce.length,je=Hs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ct(this),Tt(this);var Et="";break t}this.h.i=new o.TextDecoder}for(j=0;j<Ee;j++)this.h.h=!0,M+=this.h.i.decode(ce[j],{stream:!(je&&j==Ee-1)});ce.length=0,this.h.g+=M,this.C=0,Et=this.h.g}else Et=this.g.oa();if(this.o=X==200,Is(this.i,this.u,this.A,this.l,this.R,as,X),this.o){if(this.T&&!this.K){t:{if(this.g){var pi,sr=this.g;if((pi=sr.g?sr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(pi)){var On=pi;break t}}On=null}if(X=On)Ki(this.i,this.l,X,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Rt(this,X);else{this.o=!1,this.s=3,Mt(12),Ct(this),Tt(this);break e}}if(this.P){X=!0;let ua;for(;!this.J&&this.C<Et.length;)if(ua=Le(this,Et),ua==so){as==4&&(this.s=4,Mt(14),X=!1),Ki(this.i,this.l,null,"[Incomplete Response]");break}else if(ua==zc){this.s=4,Mt(15),Ki(this.i,this.l,Et,"[Invalid Chunk]"),X=!1;break}else Ki(this.i,this.l,ua,null),Rt(this,ua);if(_e(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),as!=4||Et.length!=0||this.h.h||(this.s=1,Mt(16),X=!1),this.o=this.o&&X,!X)Ki(this.i,this.l,Et,"[Invalid Chunked Response]"),Ct(this),Tt(this);else if(0<Et.length&&!this.W){this.W=!0;var Ar=this.j;Ar.g==this&&Ar.ba&&!Ar.M&&(Ar.j.info("Great, no buffering proxy detected. Bytes received: "+Et.length),Xh(Ar),Ar.M=!0,Mt(11))}}else Ki(this.i,this.l,Et,null),Rt(this,Et);as==4&&Ct(this),this.o&&!this.J&&(as==4?Ef(this.j,this):(this.o=!1,De(this)))}else Iy(this.g),X==400&&0<Et.indexOf("Unknown SID")?(this.s=3,Mt(12)):(this.s=0,Mt(13)),Ct(this),Tt(this)}}}catch{}finally{}};function _e(M){return M.g?M.u=="GET"&&M.L!=2&&M.j.Ca:!1}function Le(M,j){var X=M.C,ce=j.indexOf(`
`,X);return ce==-1?so:(X=Number(j.substring(X,ce)),isNaN(X)?zc:(ce+=1,ce+X>j.length?so:(j=j.slice(ce,ce+X),M.C=ce+X,j)))}ro.prototype.cancel=function(){this.J=!0,Ct(this)};function De(M){M.S=Date.now()+M.I,xe(M,M.I)}function xe(M,j){if(M.B!=null)throw Error("WatchDog timer not null");M.B=_n(y(M.ba,M),j)}function at(M){M.B&&(o.clearTimeout(M.B),M.B=null)}ro.prototype.ba=function(){this.B=null;const M=Date.now();0<=M-this.S?(jr(this.i,this.A),this.L!=2&&(Qt(),Mt(17)),Ct(this),this.s=2,Tt(this)):xe(this,this.S-M)};function Tt(M){M.j.G==0||M.J||Ef(M.j,M)}function Ct(M){at(M);var j=M.M;j&&typeof j.ma=="function"&&j.ma(),M.M=null,At(M.U),M.g&&(j=M.g,M.g=null,j.abort(),j.ma())}function Rt(M,j){try{var X=M.j;if(X.G!=0&&(X.g==M||Un(X.h,M))){if(!M.K&&Un(X.h,M)&&X.G==3){try{var ce=X.Da.g.parse(j)}catch{ce=null}if(Array.isArray(ce)&&ce.length==3){var Ee=ce;if(Ee[0]==0){e:if(!X.u){if(X.g)if(X.g.F+3e3<M.F)Zl(X),Vc(X);else break e;$h(X),Mt(18)}}else X.za=Ee[1],0<X.za-X.T&&37500>Ee[2]&&X.F&&X.v==0&&!X.C&&(X.C=_n(y(X.Za,X),6e3));if(1>=Fn(X.h)&&X.ca){try{X.ca()}catch{}X.ca=void 0}}else Ql(X,11)}else if((M.K||X.g==M)&&Zl(X),!w(j))for(Ee=X.Da.g.parse(j),j=0;j<Ee.length;j++){let On=Ee[j];if(X.T=On[0],On=On[1],X.G==2)if(On[0]=="c"){X.K=On[1],X.ia=On[2];const Ar=On[3];Ar!=null&&(X.la=Ar,X.j.info("VER="+X.la));const as=On[4];as!=null&&(X.Aa=as,X.j.info("SVER="+X.Aa));const Wr=On[5];Wr!=null&&typeof Wr=="number"&&0<Wr&&(ce=1.5*Wr,X.L=ce,X.j.info("backChannelRequestTimeoutMs_="+ce)),ce=X;const ua=M.g;if(ua){const Hc=ua.g?ua.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hc){var je=ce.h;je.g||Hc.indexOf("spdy")==-1&&Hc.indexOf("quic")==-1&&Hc.indexOf("h2")==-1||(je.j=je.l,je.g=new Set,je.h&&(xi(je,je.h),je.h=null))}if(ce.D){const ec=ua.g?ua.g.getResponseHeader("X-HTTP-Session-Id"):null;ec&&(ce.ya=ec,un(ce.I,ce.D,ec))}}X.G=3,X.l&&X.l.ua(),X.ba&&(X.R=Date.now()-M.F,X.j.info("Handshake RTT: "+X.R+"ms")),ce=X;var Et=M;if(ce.qa=Sm(ce,ce.J?ce.ia:null,ce.W),Et.K){$n(ce.h,Et);var pi=Et,sr=ce.L;sr&&(pi.I=sr),pi.B&&(at(pi),De(pi)),ce.g=Et}else bm(ce);0<X.i.length&&qh(X)}else On[0]!="stop"&&On[0]!="close"||Ql(X,7);else X.G==3&&(On[0]=="stop"||On[0]=="close"?On[0]=="stop"?Ql(X,7):bf(X):On[0]!="noop"&&X.l&&X.l.ta(On),X.v=0)}}Qt(4)}catch{}}var sn=class{constructor(M,j){this.g=M,this.map=j}};function Jt(M){this.l=M||10,o.PerformanceNavigationTiming?(M=o.performance.getEntriesByType("navigation"),M=0<M.length&&(M[0].nextHopProtocol=="hq"||M[0].nextHopProtocol=="h2")):M=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=M?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Gt(M){return M.h?!0:M.g?M.g.size>=M.j:!1}function Fn(M){return M.h?1:M.g?M.g.size:0}function Un(M,j){return M.h?M.h==j:M.g?M.g.has(j):!1}function xi(M,j){M.g?M.g.add(j):M.h=j}function $n(M,j){M.h&&M.h==j?M.h=null:M.g&&M.g.has(j)&&M.g.delete(j)}Jt.prototype.cancel=function(){if(this.i=on(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const M of this.g.values())M.cancel();this.g.clear()}};function on(M){if(M.h!=null)return M.i.concat(M.h.D);if(M.g!=null&&M.g.size!==0){let j=M.i;for(const X of M.g.values())j=j.concat(X.D);return j}return S(M.i)}function $t(M){if(M.V&&typeof M.V=="function")return M.V();if(typeof Map<"u"&&M instanceof Map||typeof Set<"u"&&M instanceof Set)return Array.from(M.values());if(typeof M=="string")return M.split("");if(l(M)){for(var j=[],X=M.length,ce=0;ce<X;ce++)j.push(M[ce]);return j}j=[],X=0;for(ce in M)j[X++]=M[ce];return j}function mr(M){if(M.na&&typeof M.na=="function")return M.na();if(!M.V||typeof M.V!="function"){if(typeof Map<"u"&&M instanceof Map)return Array.from(M.keys());if(!(typeof Set<"u"&&M instanceof Set)){if(l(M)||typeof M=="string"){var j=[];M=M.length;for(var X=0;X<M;X++)j.push(X);return j}j=[],X=0;for(const ce in M)j[X++]=ce;return j}}}function qn(M,j){if(M.forEach&&typeof M.forEach=="function")M.forEach(j,void 0);else if(l(M)||typeof M=="string")Array.prototype.forEach.call(M,j,void 0);else for(var X=mr(M),ce=$t(M),Ee=ce.length,je=0;je<Ee;je++)j.call(void 0,ce[je],X&&X[je],M)}var gs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function la(M,j){if(M){M=M.split("&");for(var X=0;X<M.length;X++){var ce=M[X].indexOf("="),Ee=null;if(0<=ce){var je=M[X].substring(0,ce);Ee=M[X].substring(ce+1)}else je=M[X];j(je,Ee?decodeURIComponent(Ee.replace(/\+/g," ")):"")}}}function rr(M){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,M instanceof rr){this.h=M.h,ti(this,M.j),this.o=M.o,this.g=M.g,wr(this,M.s),this.l=M.l;var j=M.i,X=new ml;X.i=j.i,j.g&&(X.g=new Map(j.g),X.h=j.h),qr(this,X),this.m=M.m}else M&&(j=String(M).match(gs))?(this.h=!1,ti(this,j[1]||"",!0),this.o=Ps(j[2]||""),this.g=Ps(j[3]||"",!0),wr(this,j[4]),this.l=Ps(j[5]||"",!0),qr(this,j[6]||"",!0),this.m=Ps(j[7]||"")):(this.h=!1,this.i=new ml(null,this.h))}rr.prototype.toString=function(){var M=[],j=this.j;j&&M.push(Cr(j,Mu,!0),":");var X=this.g;return(X||j=="file")&&(M.push("//"),(j=this.o)&&M.push(Cr(j,Mu,!0),"@"),M.push(encodeURIComponent(String(X)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),X=this.s,X!=null&&M.push(":",String(X))),(X=this.l)&&(this.g&&X.charAt(0)!="/"&&M.push("/"),M.push(Cr(X,X.charAt(0)=="/"?Vh:mm,!0))),(X=this.i.toString())&&M.push("?",X),(X=this.m)&&M.push("#",Cr(X,Oy)),M.join("")};function Mi(M){return new rr(M)}function ti(M,j,X){M.j=X?Ps(j,!0):j,M.j&&(M.j=M.j.replace(/:$/,""))}function wr(M,j){if(j){if(j=Number(j),isNaN(j)||0>j)throw Error("Bad port number "+j);M.s=j}else M.s=null}function qr(M,j,X){j instanceof ml?(M.i=j,gm(M.i,M.h)):(X||(j=Cr(j,Ry)),M.i=new ml(j,M.h))}function un(M,j,X){M.i.set(j,X)}function cr(M){return un(M,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),M}function Ps(M,j){return M?j?decodeURI(M.replace(/%25/g,"%2525")):decodeURIComponent(M):""}function Cr(M,j,X){return typeof M=="string"?(M=encodeURI(M).replace(j,yf),X&&(M=M.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),M):null}function yf(M){return M=M.charCodeAt(0),"%"+(M>>4&15).toString(16)+(M&15).toString(16)}var Mu=/[#\/\?@]/g,mm=/[#\?:]/g,Vh=/[#\?]/g,Ry=/[#\?@]/g,Oy=/#/g;function ml(M,j){this.h=this.g=null,this.i=M||null,this.j=!!j}function ss(M){M.g||(M.g=new Map,M.h=0,M.i&&la(M.i,function(j,X){M.add(decodeURIComponent(j.replace(/\+/g," ")),X)}))}n=ml.prototype,n.add=function(M,j){ss(this),this.i=null,M=ca(this,M);var X=this.g.get(M);return X||this.g.set(M,X=[]),X.push(j),this.h+=1,this};function Ru(M,j){ss(M),j=ca(M,j),M.g.has(j)&&(M.i=null,M.h-=M.g.get(j).length,M.g.delete(j))}function Hh(M,j){return ss(M),j=ca(M,j),M.g.has(j)}n.forEach=function(M,j){ss(this),this.g.forEach(function(X,ce){X.forEach(function(Ee){M.call(j,Ee,ce,this)},this)},this)},n.na=function(){ss(this);const M=Array.from(this.g.values()),j=Array.from(this.g.keys()),X=[];for(let ce=0;ce<j.length;ce++){const Ee=M[ce];for(let je=0;je<Ee.length;je++)X.push(j[ce])}return X},n.V=function(M){ss(this);let j=[];if(typeof M=="string")Hh(this,M)&&(j=j.concat(this.g.get(ca(this,M))));else{M=Array.from(this.g.values());for(let X=0;X<M.length;X++)j=j.concat(M[X])}return j},n.set=function(M,j){return ss(this),this.i=null,M=ca(this,M),Hh(this,M)&&(this.h-=this.g.get(M).length),this.g.set(M,[j]),this.h+=1,this},n.get=function(M,j){return M?(M=this.V(M),0<M.length?String(M[0]):j):j};function Wl(M,j,X){Ru(M,j),0<X.length&&(M.i=null,M.g.set(ca(M,j),S(X)),M.h+=X.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const M=[],j=Array.from(this.g.keys());for(var X=0;X<j.length;X++){var ce=j[X];const je=encodeURIComponent(String(ce)),Et=this.V(ce);for(ce=0;ce<Et.length;ce++){var Ee=je;Et[ce]!==""&&(Ee+="="+encodeURIComponent(String(Et[ce]))),M.push(Ee)}}return this.i=M.join("&")};function ca(M,j){return j=String(j),M.j&&(j=j.toLowerCase()),j}function gm(M,j){j&&!M.j&&(ss(M),M.i=null,M.g.forEach(function(X,ce){var Ee=ce.toLowerCase();ce!=Ee&&(Ru(this,ce),Wl(this,Ee,X))},M)),M.j=j}function vf(M,j){const X=new Bn;if(o.Image){const ce=new Image;ce.onload=v(Vs,X,"TestLoadImage: loaded",!0,j,ce),ce.onerror=v(Vs,X,"TestLoadImage: error",!1,j,ce),ce.onabort=v(Vs,X,"TestLoadImage: abort",!1,j,ce),ce.ontimeout=v(Vs,X,"TestLoadImage: timeout",!1,j,ce),o.setTimeout(function(){ce.ontimeout&&ce.ontimeout()},1e4),ce.src=M}else j(!1)}function ym(M,j){const X=new Bn,ce=new AbortController,Ee=setTimeout(()=>{ce.abort(),Vs(X,"TestPingServer: timeout",!1,j)},1e4);fetch(M,{signal:ce.signal}).then(je=>{clearTimeout(Ee),je.ok?Vs(X,"TestPingServer: ok",!0,j):Vs(X,"TestPingServer: server error",!1,j)}).catch(()=>{clearTimeout(Ee),Vs(X,"TestPingServer: error",!1,j)})}function Vs(M,j,X,ce,Ee){try{Ee&&(Ee.onload=null,Ee.onerror=null,Ee.onabort=null,Ee.ontimeout=null),ce(X)}catch{}}function ko(){this.g=new ot}function _f(M,j,X){const ce=X||"";try{qn(M,function(Ee,je){let Et=Ee;u(Ee)&&(Et=vt(Ee)),j.push(ce+je+"="+encodeURIComponent(Et))})}catch(Ee){throw j.push(ce+"type="+encodeURIComponent("_badmap")),Ee}}function $l(M){this.l=M.Ub||null,this.j=M.eb||!1}_($l,Lt),$l.prototype.g=function(){return new ao(this.l,this.j)},$l.prototype.i=(function(M){return function(){return M}})({});function ao(M,j){Re.call(this),this.D=M,this.o=j,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(ao,Re),n=ao.prototype,n.open=function(M,j){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=M,this.A=j,this.readyState=1,Xl(this)},n.send=function(M){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const j={headers:this.u,method:this.B,credentials:this.m,cache:void 0};M&&(j.body=M),(this.D||o).fetch(new Request(this.A,j)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Oa(this)),this.readyState=0},n.Sa=function(M){if(this.g&&(this.l=M,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=M.headers,this.readyState=2,Xl(this)),this.g&&(this.readyState=3,Xl(this),this.g)))if(this.responseType==="arraybuffer")M.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in M){if(this.j=M.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;jh(this)}else M.text().then(this.Ra.bind(this),this.ga.bind(this))};function jh(M){M.j.read().then(M.Pa.bind(M)).catch(M.ga.bind(M))}n.Pa=function(M){if(this.g){if(this.o&&M.value)this.response.push(M.value);else if(!this.o){var j=M.value?M.value:new Uint8Array(0);(j=this.v.decode(j,{stream:!M.done}))&&(this.response=this.responseText+=j)}M.done?Oa(this):Xl(this),this.readyState==3&&jh(this)}},n.Ra=function(M){this.g&&(this.response=this.responseText=M,Oa(this))},n.Qa=function(M){this.g&&(this.response=M,Oa(this))},n.ga=function(){this.g&&Oa(this)};function Oa(M){M.readyState=4,M.l=null,M.j=null,M.v=null,Xl(M)}n.setRequestHeader=function(M,j){this.u.append(M,j)},n.getResponseHeader=function(M){return this.h&&this.h.get(M.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const M=[],j=this.h.entries();for(var X=j.next();!X.done;)X=X.value,M.push(X[0]+": "+X[1]),X=j.next();return M.join(`\r
`)};function Xl(M){M.onreadystatechange&&M.onreadystatechange.call(M)}Object.defineProperty(ao.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(M){this.m=M?"include":"same-origin"}});function Yl(M){let j="";return N(M,function(X,ce){j+=ce,j+=":",j+=X,j+=`\r
`}),j}function Bc(M,j,X){e:{for(ce in X){var ce=!1;break e}ce=!0}ce||(X=Yl(X),typeof M=="string"?X!=null&&encodeURIComponent(String(X)):un(M,j,X))}function ji(M){Re.call(this),this.headers=new Map,this.o=M||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(ji,Re);var ys=/^https?$/i,Kl=["POST","PUT"];n=ji.prototype,n.Ha=function(M){this.J=M},n.ea=function(M,j,X,ce){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+M);j=j?j.toUpperCase():"GET",this.D=M,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():oa.g(),this.v=this.o?ve(this.o):ve(oa),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(j,String(M),!0),this.B=!1}catch(je){Ou(this,je);return}if(M=X||"",X=new Map(this.headers),ce)if(Object.getPrototypeOf(ce)===Object.prototype)for(var Ee in ce)X.set(Ee,ce[Ee]);else if(typeof ce.keys=="function"&&typeof ce.get=="function")for(const je of ce.keys())X.set(je,ce.get(je));else throw Error("Unknown input type for opt_headers: "+String(ce));ce=Array.from(X.keys()).find(je=>je.toLowerCase()=="content-type"),Ee=o.FormData&&M instanceof o.FormData,!(0<=Array.prototype.indexOf.call(Kl,j,void 0))||ce||Ee||X.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[je,Et]of X)this.g.setRequestHeader(je,Et);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Iu(this),this.u=!0,this.g.send(M),this.u=!1}catch(je){Ou(this,je)}};function Ou(M,j){M.h=!1,M.g&&(M.j=!0,M.g.abort(),M.j=!1),M.l=j,M.m=5,Ia(M),Fc(M)}function Ia(M){M.A||(M.A=!0,ct(M,"complete"),ct(M,"error"))}n.abort=function(M){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=M||7,ct(this,"complete"),ct(this,"abort"),Fc(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fc(this,!0)),ji.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Gh(this):this.bb())},n.bb=function(){Gh(this)};function Gh(M){if(M.h&&typeof a<"u"&&(!M.v[1]||Hs(M)!=4||M.Z()!=2)){if(M.u&&Hs(M)==4)Dt(M.Ea,0,M);else if(ct(M,"readystatechange"),Hs(M)==4){M.h=!1;try{const Et=M.Z();e:switch(Et){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var j=!0;break e;default:j=!1}var X;if(!(X=j)){var ce;if(ce=Et===0){var Ee=String(M.D).match(gs)[1]||null;!Ee&&o.self&&o.self.location&&(Ee=o.self.location.protocol.slice(0,-1)),ce=!ys.test(Ee?Ee.toLowerCase():"")}X=ce}if(X)ct(M,"complete"),ct(M,"success");else{M.m=6;try{var je=2<Hs(M)?M.g.statusText:""}catch{je=""}M.l=je+" ["+M.Z()+"]",Ia(M)}}finally{Fc(M)}}}}function Fc(M,j){if(M.g){Iu(M);const X=M.g,ce=M.v[0]?()=>{}:null;M.g=null,M.v=null,j||ct(M,"ready");try{X.onreadystatechange=ce}catch{}}}function Iu(M){M.I&&(o.clearTimeout(M.I),M.I=null)}n.isActive=function(){return!!this.g};function Hs(M){return M.g?M.g.readyState:0}n.Z=function(){try{return 2<Hs(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(M){if(this.g){var j=this.g.responseText;return M&&j.indexOf(M)==0&&(j=j.substring(M.length)),jt(j)}};function Pu(M){try{if(!M.g)return null;if("response"in M.g)return M.g.response;switch(M.H){case"":case"text":return M.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in M.g)return M.g.mozResponseArrayBuffer}return null}catch{return null}}function Iy(M){const j={};M=(M.g&&2<=Hs(M)&&M.g.getAllResponseHeaders()||"").split(`\r
`);for(let ce=0;ce<M.length;ce++){if(w(M[ce]))continue;var X=F(M[ce]);const Ee=X[0];if(X=X[1],typeof X!="string")continue;X=X.trim();const je=j[Ee]||[];j[Ee]=je,je.push(X)}I(j,function(ce){return ce.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ur(M,j,X){return X&&X.internalChannelParams&&X.internalChannelParams[M]||j}function vm(M){this.Aa=0,this.i=[],this.j=new Bn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ur("failFast",!1,M),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ur("baseRetryDelayMs",5e3,M),this.cb=ur("retryDelaySeedMs",1e4,M),this.Wa=ur("forwardChannelMaxRetries",2,M),this.wa=ur("forwardChannelRequestTimeoutMs",2e4,M),this.pa=M&&M.xmlHttpFactory||void 0,this.Xa=M&&M.Tb||void 0,this.Ca=M&&M.useFetchStreams||!1,this.L=void 0,this.J=M&&M.supportsCrossDomainXhr||!1,this.K="",this.h=new Jt(M&&M.concurrentRequestLimit),this.Da=new ko,this.P=M&&M.fastHandshake||!1,this.O=M&&M.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=M&&M.Rb||!1,M&&M.xa&&this.j.xa(),M&&M.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&M&&M.detectBufferingProxy||!1,this.ja=void 0,M&&M.longPollingTimeout&&0<M.longPollingTimeout&&(this.ja=M.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=vm.prototype,n.la=8,n.G=1,n.connect=function(M,j,X,ce){Mt(0),this.W=M,this.H=j||{},X&&ce!==void 0&&(this.H.OSID=X,this.H.OAID=ce),this.F=this.X,this.I=Sm(this,null,this.W),qh(this)};function bf(M){if(_m(M),M.G==3){var j=M.U++,X=Mi(M.I);if(un(X,"SID",M.K),un(X,"RID",j),un(X,"TYPE","terminate"),Du(M,X),j=new ro(M,M.j,j),j.L=2,j.v=cr(Mi(X)),X=!1,o.navigator&&o.navigator.sendBeacon)try{X=o.navigator.sendBeacon(j.v.toString(),"")}catch{}!X&&o.Image&&(new Image().src=j.v,X=!0),X||(j.g=zo(j.j,null),j.g.ea(j.v)),j.F=Date.now(),De(j)}Yh(M)}function Vc(M){M.g&&(Xh(M),M.g.cancel(),M.g=null)}function _m(M){Vc(M),M.u&&(o.clearTimeout(M.u),M.u=null),Zl(M),M.h.cancel(),M.s&&(typeof M.s=="number"&&o.clearTimeout(M.s),M.s=null)}function qh(M){if(!Gt(M.h)&&!M.s){M.s=!0;var j=M.Ga;$||fe(),Q||($(),Q=!0),se.add(j,M),M.B=0}}function Wh(M,j){return Fn(M.h)>=M.h.j-(M.s?1:0)?!1:M.s?(M.i=j.D.concat(M.i),!0):M.G==1||M.G==2||M.B>=(M.Va?0:M.Wa)?!1:(M.s=_n(y(M.Ga,M,j),Tf(M,M.B)),M.B++,!0)}n.Ga=function(M){if(this.s)if(this.s=null,this.G==1){if(!M){this.U=Math.floor(1e5*Math.random()),M=this.U++;const Ee=new ro(this,this.j,M);let je=this.o;if(this.S&&(je?(je=L(je),U(je,this.S)):je=this.S),this.m!==null||this.O||(Ee.H=je,je=null),this.P)e:{for(var j=0,X=0;X<this.i.length;X++){t:{var ce=this.i[X];if("__data__"in ce.map&&(ce=ce.map.__data__,typeof ce=="string")){ce=ce.length;break t}ce=void 0}if(ce===void 0)break;if(j+=ce,4096<j){j=X;break e}if(j===4096||X===this.i.length-1){j=X+1;break e}}j=1e3}else j=1e3;j=Sf(this,Ee,j),X=Mi(this.I),un(X,"RID",M),un(X,"CVER",22),this.D&&un(X,"X-HTTP-Session-Id",this.D),Du(this,X),je&&(this.O?j="headers="+encodeURIComponent(String(Yl(je)))+"&"+j:this.m&&Bc(X,this.m,je)),xi(this.h,Ee),this.Ua&&un(X,"TYPE","init"),this.P?(un(X,"$req",j),un(X,"SID","null"),Ee.T=!0,pl(Ee,X,null)):pl(Ee,X,j),this.G=2}}else this.G==3&&(M?xf(this,M):this.i.length==0||Gt(this.h)||xf(this))};function xf(M,j){var X;j?X=j.l:X=M.U++;const ce=Mi(M.I);un(ce,"SID",M.K),un(ce,"RID",X),un(ce,"AID",M.T),Du(M,ce),M.m&&M.o&&Bc(ce,M.m,M.o),X=new ro(M,M.j,X,M.B+1),M.m===null&&(X.H=M.o),j&&(M.i=j.D.concat(M.i)),j=Sf(M,X,1e3),X.I=Math.round(.5*M.wa)+Math.round(.5*M.wa*Math.random()),xi(M.h,X),pl(X,ce,j)}function Du(M,j){M.H&&N(M.H,function(X,ce){un(j,ce,X)}),M.l&&qn({},function(X,ce){un(j,ce,X)})}function Sf(M,j,X){X=Math.min(M.i.length,X);var ce=M.l?y(M.l.Na,M.l,M):null;e:{var Ee=M.i;let je=-1;for(;;){const Et=["count="+X];je==-1?0<X?(je=Ee[0].g,Et.push("ofs="+je)):je=0:Et.push("ofs="+je);let pi=!0;for(let sr=0;sr<X;sr++){let On=Ee[sr].g;const Ar=Ee[sr].map;if(On-=je,0>On)je=Math.max(0,Ee[sr].g-100),pi=!1;else try{_f(Ar,Et,"req"+On+"_")}catch{ce&&ce(Ar)}}if(pi){ce=Et.join("&");break e}}}return M=M.i.splice(0,X),j.D=M,ce}function bm(M){if(!M.g&&!M.u){M.Y=1;var j=M.Fa;$||fe(),Q||($(),Q=!0),se.add(j,M),M.v=0}}function $h(M){return M.g||M.u||3<=M.v?!1:(M.Y++,M.u=_n(y(M.Fa,M),Tf(M,M.v)),M.v++,!0)}n.Fa=function(){if(this.u=null,xm(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var M=2*this.R;this.j.info("BP detection timer enabled: "+M),this.A=_n(y(this.ab,this),M)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Mt(10),Vc(this),xm(this))};function Xh(M){M.A!=null&&(o.clearTimeout(M.A),M.A=null)}function xm(M){M.g=new ro(M,M.j,"rpc",M.Y),M.m===null&&(M.g.H=M.o),M.g.O=0;var j=Mi(M.qa);un(j,"RID","rpc"),un(j,"SID",M.K),un(j,"AID",M.T),un(j,"CI",M.F?"0":"1"),!M.F&&M.ja&&un(j,"TO",M.ja),un(j,"TYPE","xmlhttp"),Du(M,j),M.m&&M.o&&Bc(j,M.m,M.o),M.L&&(M.g.I=M.L);var X=M.g;M=M.ia,X.L=1,X.v=cr(Mi(j)),X.m=null,X.P=!0,re(X,M)}n.Za=function(){this.C!=null&&(this.C=null,Vc(this),$h(this),Mt(19))};function Zl(M){M.C!=null&&(o.clearTimeout(M.C),M.C=null)}function Ef(M,j){var X=null;if(M.g==j){Zl(M),Xh(M),M.g=null;var ce=2}else if(Un(M.h,j))X=j.D,$n(M.h,j),ce=1;else return;if(M.G!=0){if(j.o)if(ce==1){X=j.m?j.m.length:0,j=Date.now()-j.F;var Ee=M.B;ce=Yn(),ct(ce,new zn(ce,X)),qh(M)}else bm(M);else if(Ee=j.s,Ee==3||Ee==0&&0<j.X||!(ce==1&&Wh(M,j)||ce==2&&$h(M)))switch(X&&0<X.length&&(j=M.h,j.i=j.i.concat(X)),Ee){case 1:Ql(M,5);break;case 4:Ql(M,10);break;case 3:Ql(M,6);break;default:Ql(M,2)}}}function Tf(M,j){let X=M.Ta+Math.floor(Math.random()*M.cb);return M.isActive()||(X*=2),X*j}function Ql(M,j){if(M.j.info("Error code "+j),j==2){var X=y(M.fb,M),ce=M.Xa;const Ee=!ce;ce=new rr(ce||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||ti(ce,"https"),cr(ce),Ee?vf(ce.toString(),X):ym(ce.toString(),X)}else Mt(2);M.G=0,M.l&&M.l.sa(j),Yh(M),_m(M)}n.fb=function(M){M?(this.j.info("Successfully pinged google.com"),Mt(2)):(this.j.info("Failed to ping google.com"),Mt(1))};function Yh(M){if(M.G=0,M.ka=[],M.l){const j=on(M.h);(j.length!=0||M.i.length!=0)&&(E(M.ka,j),E(M.ka,M.i),M.h.i.length=0,S(M.i),M.i.length=0),M.l.ra()}}function Sm(M,j,X){var ce=X instanceof rr?Mi(X):new rr(X);if(ce.g!="")j&&(ce.g=j+"."+ce.g),wr(ce,ce.s);else{var Ee=o.location;ce=Ee.protocol,j=j?j+"."+Ee.hostname:Ee.hostname,Ee=+Ee.port;var je=new rr(null);ce&&ti(je,ce),j&&(je.g=j),Ee&&wr(je,Ee),X&&(je.l=X),ce=je}return X=M.D,j=M.ya,X&&j&&un(ce,X,j),un(ce,"VER",M.la),Du(M,ce),ce}function zo(M,j,X){if(j&&!M.J)throw Error("Can't create secondary domain capable XhrIo object.");return j=M.Ca&&!M.pa?new ji(new $l({eb:X})):new ji(M.pa),j.Ha(M.J),j}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function wf(){}n=wf.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Cf(){}Cf.prototype.g=function(M,j){return new js(M,j)};function js(M,j){Re.call(this),this.g=new vm(j),this.l=M,this.h=j&&j.messageUrlParams||null,M=j&&j.messageHeaders||null,j&&j.clientProtocolHeaderRequired&&(M?M["X-Client-Protocol"]="webchannel":M={"X-Client-Protocol":"webchannel"}),this.g.o=M,M=j&&j.initMessageHeaders||null,j&&j.messageContentType&&(M?M["X-WebChannel-Content-Type"]=j.messageContentType:M={"X-WebChannel-Content-Type":j.messageContentType}),j&&j.va&&(M?M["X-WebChannel-Client-Profile"]=j.va:M={"X-WebChannel-Client-Profile":j.va}),this.g.S=M,(M=j&&j.Sb)&&!w(M)&&(this.g.m=M),this.v=j&&j.supportsCrossDomainXhr||!1,this.u=j&&j.sendRawJson||!1,(j=j&&j.httpSessionIdParam)&&!w(j)&&(this.g.D=j,M=this.h,M!==null&&j in M&&(M=this.h,j in M&&delete M[j])),this.j=new Jl(this)}_(js,Re),js.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},js.prototype.close=function(){bf(this.g)},js.prototype.o=function(M){var j=this.g;if(typeof M=="string"){var X={};X.__data__=M,M=X}else this.u&&(X={},X.__data__=vt(M),M=X);j.i.push(new sn(j.Ya++,M)),j.G==3&&qh(j)},js.prototype.N=function(){this.g.l=null,delete this.j,bf(this.g),delete this.g,js.aa.N.call(this)};function gl(M){Qe.call(this),M.__headers__&&(this.headers=M.__headers__,this.statusCode=M.__status__,delete M.__headers__,delete M.__status__);var j=M.__sm__;if(j){e:{for(const X in j){M=X;break e}M=void 0}(this.i=M)&&(M=this.i,j=j!==null&&M in j?j[M]:void 0),this.data=j}else this.data=M}_(gl,Qe);function Bo(){xt.call(this),this.status=1}_(Bo,xt);function Jl(M){this.g=M}_(Jl,wf),Jl.prototype.ua=function(){ct(this.g,"a")},Jl.prototype.ta=function(M){ct(this.g,new gl(M))},Jl.prototype.sa=function(M){ct(this.g,new Bo)},Jl.prototype.ra=function(){ct(this.g,"b")},Cf.prototype.createWebChannel=Cf.prototype.g,js.prototype.send=js.prototype.o,js.prototype.open=js.prototype.m,js.prototype.close=js.prototype.close,I8=function(){return new Cf},O8=function(){return Yn()},R8=_t,q3={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},pn.NO_ERROR=0,pn.TIMEOUT=8,pn.HTTP_ERROR=6,f2=pn,pr.COMPLETE="complete",M8=pr,gt.EventType=Fe,Fe.OPEN="a",Fe.CLOSE="b",Fe.ERROR="c",Fe.MESSAGE="d",Re.prototype.listen=Re.prototype.K,H1=gt,ji.prototype.listenOnce=ji.prototype.L,ji.prototype.getLastError=ji.prototype.Ka,ji.prototype.getLastErrorCode=ji.prototype.Ba,ji.prototype.getStatus=ji.prototype.Z,ji.prototype.getResponseJson=ji.prototype.Oa,ji.prototype.getResponseText=ji.prototype.oa,ji.prototype.send=ji.prototype.ea,ji.prototype.setWithCredentials=ji.prototype.Ha,A8=ji}).apply(typeof wT<"u"?wT:typeof self<"u"?self:typeof window<"u"?window:{});const b5="@firebase/firestore",x5="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ka.UNAUTHENTICATED=new Ka(null),Ka.GOOGLE_CREDENTIALS=new Ka("google-credentials-uid"),Ka.FIRST_PARTY=new Ka("first-party-uid"),Ka.MOCK_USER=new Ka("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let M_="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sy=new KD("@firebase/firestore");function d0(){return sy.logLevel}function Ft(n,...e){if(sy.logLevel<=si.DEBUG){const t=e.map(JD);sy.debug(`Firestore (${M_}): ${n}`,...t)}}function Qd(n,...e){if(sy.logLevel<=si.ERROR){const t=e.map(JD);sy.error(`Firestore (${M_}): ${n}`,...t)}}function Vp(n,...e){if(sy.logLevel<=si.WARN){const t=e.map(JD);sy.warn(`Firestore (${M_}): ${n}`,...t)}}function JD(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,P8(n,i,t)}function P8(n,e,t){let i=`FIRESTORE (${M_}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Qd(i),new Error(i)}function Ui(n,e,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,n||P8(e,r,i)}function Rn(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ut extends pf{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D8{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qJ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Ka.UNAUTHENTICATED)))}shutdown(){}}class WJ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class $J{constructor(e){this.t=e,this.currentUser=Ka.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ui(this.o===void 0,42304);let i=this.i;const r=l=>this.i!==i?(i=this.i,t(l)):Promise.resolve();let s=new qd;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new qd,e.enqueueRetryable((()=>r(this.currentUser)))};const a=()=>{const l=s;e.enqueueRetryable((async()=>{await l.promise,await r(this.currentUser)}))},o=l=>{Ft("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((l=>o(l))),setTimeout((()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(Ft("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new qd)}}),0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(Ft("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ui(typeof i.accessToken=="string",31837,{l:i}),new D8(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ui(e===null||typeof e=="string",2055,{h:e}),new Ka(e)}}class XJ{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=Ka.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class YJ{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new XJ(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Ka.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class S5{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class KJ{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,yh(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ui(this.o===void 0,3512);const i=s=>{s.error!=null&&Ft("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,Ft("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>i(s)))};const r=s=>{Ft("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>r(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?r(s):Ft("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new S5(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ui(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new S5(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZJ(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N8(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=ZJ(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+=e.charAt(r[s]%62))}return i}}function Xn(n,e){return n<e?-1:n>e?1:0}function W3(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),r=e.codePointAt(t);if(i!==r){if(i<128&&r<128)return Xn(i,r);{const s=N8(),a=QJ(s.encode(E5(n,t)),s.encode(E5(e,t)));return a!==0?a:Xn(i,r)}}t+=i>65535?2:1}return Xn(n.length,e.length)}function E5(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function QJ(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Xn(n[t],e[t]);return Xn(n.length,e.length)}function G0(n,e,t){return n.length===e.length&&n.every(((i,r)=>t(i,e[r])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T5="__name__";class dh{constructor(e,t,i){t===void 0?t=0:t>e.length&&mn(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&mn(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return dh.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof dh?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const s=dh.compareSegments(e.get(r),t.get(r));if(s!==0)return s}return Xn(e.length,t.length)}static compareSegments(e,t){const i=dh.isNumericId(e),r=dh.isNumericId(t);return i&&!r?-1:!i&&r?1:i&&r?dh.extractNumericId(e).compare(dh.extractNumericId(t)):W3(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Lp.fromString(e.substring(4,e.length-2))}}class or extends dh{construct(e,t,i){return new or(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ut(nt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((r=>r.length>0)))}return new or(t)}static emptyPath(){return new or([])}}const JJ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ea extends dh{construct(e,t,i){return new Ea(e,t,i)}static isValidIdentifier(e){return JJ.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ea.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===T5}static keyField(){return new Ea([T5])}static fromServerFormat(e){const t=[];let i="",r=0;const s=()=>{if(i.length===0)throw new Ut(nt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let a=!1;for(;r<e.length;){const o=e[r];if(o==="\\"){if(r+1===e.length)throw new Ut(nt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Ut(nt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,r+=2}else o==="`"?(a=!a,r++):o!=="."||a?(i+=o,r++):(s(),r++)}if(s(),a)throw new Ut(nt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ea(t)}static emptyPath(){return new Ea([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.path=e}static fromPath(e){return new tn(or.fromString(e))}static fromName(e){return new tn(or.fromString(e).popFirst(5))}static empty(){return new tn(or.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&or.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return or.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new tn(new or(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L8(n,e,t){if(!t)throw new Ut(nt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function eee(n,e,t,i){if(e===!0&&i===!0)throw new Ut(nt.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function w5(n){if(!tn.isDocumentKey(n))throw new Ut(nt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function C5(n){if(tn.isDocumentKey(n))throw new Ut(nt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function U8(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function kA(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":mn(12329,{type:typeof n})}function Hp(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ut(nt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=kA(n);throw new Ut(nt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rs(n,e){const t={typeString:n};return e&&(t.value=e),t}function IS(n,e){if(!U8(n))throw new Ut(nt.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const r=e[i].typeString,s="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const a=n[i];if(r&&typeof a!==r){t=`JSON field '${i}' must be a ${r}.`;break}if(s!==void 0&&a!==s.value){t=`Expected '${i}' field to equal '${s.value}'`;break}}if(t)throw new Ut(nt.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A5=-62135596800,M5=1e6;class fr{static now(){return fr.fromMillis(Date.now())}static fromDate(e){return fr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*M5);return new fr(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ut(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ut(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<A5)throw new Ut(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ut(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/M5}_compareTo(e){return this.seconds===e.seconds?Xn(this.nanoseconds,e.nanoseconds):Xn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:fr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(IS(e,fr._jsonSchema))return new fr(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-A5;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}fr._jsonSchemaVersion="firestore/timestamp/1.0",fr._jsonSchema={type:Rs("string",fr._jsonSchemaVersion),seconds:Rs("number"),nanoseconds:Rs("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{static fromTimestamp(e){return new Cn(e)}static min(){return new Cn(new fr(0,0))}static max(){return new Cn(new fr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx=-1;function tee(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Cn.fromTimestamp(i===1e9?new fr(t+1,0):new fr(t,i));return new jp(r,tn.empty(),e)}function nee(n){return new jp(n.readTime,n.key,Bx)}class jp{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new jp(Cn.min(),tn.empty(),Bx)}static max(){return new jp(Cn.max(),tn.empty(),Bx)}}function iee(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=tn.comparator(n.documentKey,e.documentKey),t!==0?t:Xn(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ree="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class see{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R_(n){if(n.code!==nt.FAILED_PRECONDITION||n.message!==ree)throw n;Ft("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&mn(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new it(((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof it?t:it.resolve(t)}catch(t){return it.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):it.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):it.reject(t)}static resolve(e){return new it(((t,i)=>{t(e)}))}static reject(e){return new it(((t,i)=>{i(e)}))}static waitFor(e){return new it(((t,i)=>{let r=0,s=0,a=!1;e.forEach((o=>{++r,o.next((()=>{++s,a&&s===r&&t()}),(l=>i(l)))})),a=!0,s===r&&t()}))}static or(e){let t=it.resolve(!1);for(const i of e)t=t.next((r=>r?it.resolve(r):i()));return t}static forEach(e,t){const i=[];return e.forEach(((r,s)=>{i.push(t.call(this,r,s))})),this.waitFor(i)}static mapArray(e,t){return new it(((i,r)=>{const s=e.length,a=new Array(s);let o=0;for(let l=0;l<s;l++){const u=l;t(e[u]).next((d=>{a[u]=d,++o,o===s&&i(a)}),(d=>r(d)))}}))}static doWhile(e,t){return new it(((i,r)=>{const s=()=>{e()===!0?t().next((()=>{s()}),r):i()};s()}))}}function aee(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function O_(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this._e(i),this.ae=i=>t.writeSequenceNumber(i))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}zA.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN=-1;function BA(n){return n==null}function $2(n){return n===0&&1/n==-1/0}function oee(n){return typeof n=="number"&&Number.isInteger(n)&&!$2(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k8="";function lee(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=R5(e)),e=cee(n.get(t),e);return R5(e)}function cee(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":t+="";break;case k8:t+="";break;default:t+=s}}return t}function R5(n){return n+k8+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O5(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function sm(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function z8(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e,t){this.comparator=e,this.root=t||ba.EMPTY}insert(e,t){return new Fr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ba.BLACK,null,null))}remove(e){return new Fr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ba.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new CT(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new CT(this.root,e,this.comparator,!1)}getReverseIterator(){return new CT(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new CT(this.root,e,this.comparator,!0)}}class CT{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ba{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=i??ba.RED,this.left=r??ba.EMPTY,this.right=s??ba.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new ba(e??this.key,t??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):s===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ba.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return ba.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ba.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ba.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw mn(43730,{key:this.key,value:this.value});if(this.right.isRed())throw mn(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw mn(27949);return e+(this.isRed()?0:1)}}ba.EMPTY=null,ba.RED=!0,ba.BLACK=!1;ba.EMPTY=new class{constructor(){this.size=0}get key(){throw mn(57766)}get value(){throw mn(16141)}get color(){throw mn(16727)}get left(){throw mn(29726)}get right(){throw mn(36894)}copy(e,t,i,r,s){return this}insert(e,t,i){return new ba(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e){this.comparator=e,this.data=new Fr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new I5(this.data.getIterator())}getIteratorFrom(e){return new I5(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof zs)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new zs(this.comparator);return t.data=e,t}}class I5{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e){this.fields=e,e.sort(Ea.comparator)}static empty(){return new Nl([])}unionWith(e){let t=new zs(Ea.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Nl(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return G0(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B8 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new B8("Invalid base64 string: "+s):s}})(e);return new Ma(t)}static fromUint8Array(e){const t=(function(r){let s="";for(let a=0;a<r.length;++a)s+=String.fromCharCode(r[a]);return s})(e);return new Ma(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ma.EMPTY_BYTE_STRING=new Ma("");const uee=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gp(n){if(Ui(!!n,39018),typeof n=="string"){let e=0;const t=uee.exec(n);if(Ui(!!t,46558,{timestamp:n}),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ds(n.seconds),nanos:ds(n.nanos)}}function ds(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function qp(n){return typeof n=="string"?Ma.fromBase64String(n):Ma.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F8="server_timestamp",V8="__type__",H8="__previous_value__",j8="__local_write_time__";function nN(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[V8])===null||t===void 0?void 0:t.stringValue)===F8}function FA(n){const e=n.mapValue.fields[H8];return nN(e)?FA(e):e}function Fx(n){const e=Gp(n.mapValue.fields[j8].timestampValue);return new fr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hee{constructor(e,t,i,r,s,a,o,l,u,d){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=d}}const X2="(default)";class Vx{constructor(e,t){this.projectId=e,this.database=t||X2}static empty(){return new Vx("","")}get isDefaultDatabase(){return this.database===X2}isEqual(e){return e instanceof Vx&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G8="__type__",dee="__max__",AT={mapValue:{}},q8="__vector__",Y2="value";function Wp(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?nN(n)?4:pee(n)?9007199254740991:fee(n)?10:11:mn(28295,{value:n})}function Uh(n,e){if(n===e)return!0;const t=Wp(n);if(t!==Wp(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Fx(n).isEqual(Fx(e));case 3:return(function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const a=Gp(r.timestampValue),o=Gp(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(r,s){return qp(r.bytesValue).isEqual(qp(s.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(r,s){return ds(r.geoPointValue.latitude)===ds(s.geoPointValue.latitude)&&ds(r.geoPointValue.longitude)===ds(s.geoPointValue.longitude)})(n,e);case 2:return(function(r,s){if("integerValue"in r&&"integerValue"in s)return ds(r.integerValue)===ds(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const a=ds(r.doubleValue),o=ds(s.doubleValue);return a===o?$2(a)===$2(o):isNaN(a)&&isNaN(o)}return!1})(n,e);case 9:return G0(n.arrayValue.values||[],e.arrayValue.values||[],Uh);case 10:case 11:return(function(r,s){const a=r.mapValue.fields||{},o=s.mapValue.fields||{};if(O5(a)!==O5(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!Uh(a[l],o[l])))return!1;return!0})(n,e);default:return mn(52216,{left:n})}}function Hx(n,e){return(n.values||[]).find((t=>Uh(t,e)))!==void 0}function q0(n,e){if(n===e)return 0;const t=Wp(n),i=Wp(e);if(t!==i)return Xn(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Xn(n.booleanValue,e.booleanValue);case 2:return(function(s,a){const o=ds(s.integerValue||s.doubleValue),l=ds(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1})(n,e);case 3:return P5(n.timestampValue,e.timestampValue);case 4:return P5(Fx(n),Fx(e));case 5:return W3(n.stringValue,e.stringValue);case 6:return(function(s,a){const o=qp(s),l=qp(a);return o.compareTo(l)})(n.bytesValue,e.bytesValue);case 7:return(function(s,a){const o=s.split("/"),l=a.split("/");for(let u=0;u<o.length&&u<l.length;u++){const d=Xn(o[u],l[u]);if(d!==0)return d}return Xn(o.length,l.length)})(n.referenceValue,e.referenceValue);case 8:return(function(s,a){const o=Xn(ds(s.latitude),ds(a.latitude));return o!==0?o:Xn(ds(s.longitude),ds(a.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return D5(n.arrayValue,e.arrayValue);case 10:return(function(s,a){var o,l,u,d;const p=s.fields||{},y=a.fields||{},v=(o=p[Y2])===null||o===void 0?void 0:o.arrayValue,_=(l=y[Y2])===null||l===void 0?void 0:l.arrayValue,S=Xn(((u=v?.values)===null||u===void 0?void 0:u.length)||0,((d=_?.values)===null||d===void 0?void 0:d.length)||0);return S!==0?S:D5(v,_)})(n.mapValue,e.mapValue);case 11:return(function(s,a){if(s===AT.mapValue&&a===AT.mapValue)return 0;if(s===AT.mapValue)return 1;if(a===AT.mapValue)return-1;const o=s.fields||{},l=Object.keys(o),u=a.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let p=0;p<l.length&&p<d.length;++p){const y=W3(l[p],d[p]);if(y!==0)return y;const v=q0(o[l[p]],u[d[p]]);if(v!==0)return v}return Xn(l.length,d.length)})(n.mapValue,e.mapValue);default:throw mn(23264,{le:t})}}function P5(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Xn(n,e);const t=Gp(n),i=Gp(e),r=Xn(t.seconds,i.seconds);return r!==0?r:Xn(t.nanos,i.nanos)}function D5(n,e){const t=n.values||[],i=e.values||[];for(let r=0;r<t.length&&r<i.length;++r){const s=q0(t[r],i[r]);if(s)return s}return Xn(t.length,i.length)}function W0(n){return $3(n)}function $3(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const i=Gp(t);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return qp(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return tn.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let i="[",r=!0;for(const s of t.values||[])r?r=!1:i+=",",i+=$3(s);return i+"]"})(n.arrayValue):"mapValue"in n?(function(t){const i=Object.keys(t.fields||{}).sort();let r="{",s=!0;for(const a of i)s?s=!1:r+=",",r+=`${a}:${$3(t.fields[a])}`;return r+"}"})(n.mapValue):mn(61005,{value:n})}function p2(n){switch(Wp(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=FA(n);return e?16+p2(e):16;case 5:return 2*n.stringValue.length;case 6:return qp(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((r,s)=>r+p2(s)),0)})(n.arrayValue);case 10:case 11:return(function(i){let r=0;return sm(i.fields,((s,a)=>{r+=s.length+p2(a)})),r})(n.mapValue);default:throw mn(13486,{value:n})}}function N5(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function X3(n){return!!n&&"integerValue"in n}function iN(n){return!!n&&"arrayValue"in n}function L5(n){return!!n&&"nullValue"in n}function U5(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function m2(n){return!!n&&"mapValue"in n}function fee(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[G8])===null||t===void 0?void 0:t.stringValue)===q8}function lx(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return sm(n.mapValue.fields,((t,i)=>e.mapValue.fields[t]=lx(i))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=lx(n.arrayValue.values[t]);return e}return Object.assign({},n)}function pee(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===dee}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e){this.value=e}static empty(){return new tl({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!m2(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=lx(t)}setAll(e){let t=Ea.emptyPath(),i={},r=[];e.forEach(((a,o)=>{if(!t.isImmediateParentOf(o)){const l=this.getFieldsMap(t);this.applyChanges(l,i,r),i={},r=[],t=o.popLast()}a?i[o.lastSegment()]=lx(a):r.push(o.lastSegment())}));const s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){const t=this.field(e.popLast());m2(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Uh(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];m2(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){sm(t,((r,s)=>e[r]=s));for(const r of i)delete e[r]}clone(){return new tl(lx(this.value))}}function W8(n){const e=[];return sm(n.fields,((t,i)=>{const r=new Ea([t]);if(m2(i)){const s=W8(i.mapValue).fields;if(s.length===0)e.push(r);else for(const a of s)e.push(r.child(a))}else e.push(r)})),new Nl(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,t,i,r,s,a,o){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new Za(e,0,Cn.min(),Cn.min(),Cn.min(),tl.empty(),0)}static newFoundDocument(e,t,i,r){return new Za(e,1,t,Cn.min(),i,r,0)}static newNoDocument(e,t){return new Za(e,2,t,Cn.min(),Cn.min(),tl.empty(),0)}static newUnknownDocument(e,t){return new Za(e,3,t,Cn.min(),Cn.min(),tl.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Cn.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=tl.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=tl.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Cn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Za&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Za(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e,t){this.position=e,this.inclusive=t}}function k5(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const s=e[r],a=n.position[r];if(s.field.isKeyField()?i=tn.comparator(tn.fromName(a.referenceValue),t.key):i=q0(a,t.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function z5(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Uh(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e,t="asc"){this.field=e,this.dir=t}}function mee(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $8{}class Ms extends $8{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new yee(e,t,i):t==="array-contains"?new bee(e,i):t==="in"?new xee(e,i):t==="not-in"?new See(e,i):t==="array-contains-any"?new Eee(e,i):new Ms(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new vee(e,i):new _ee(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(q0(t,this.value)):t!==null&&Wp(this.value)===Wp(t)&&this.matchesComparison(q0(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return mn(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Su extends $8{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new Su(e,t)}matches(e){return X8(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function X8(n){return n.op==="and"}function Y8(n){return gee(n)&&X8(n)}function gee(n){for(const e of n.filters)if(e instanceof Su)return!1;return!0}function Y3(n){if(n instanceof Ms)return n.field.canonicalString()+n.op.toString()+W0(n.value);if(Y8(n))return n.filters.map((e=>Y3(e))).join(",");{const e=n.filters.map((t=>Y3(t))).join(",");return`${n.op}(${e})`}}function K8(n,e){return n instanceof Ms?(function(i,r){return r instanceof Ms&&i.op===r.op&&i.field.isEqual(r.field)&&Uh(i.value,r.value)})(n,e):n instanceof Su?(function(i,r){return r instanceof Su&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce(((s,a,o)=>s&&K8(a,r.filters[o])),!0):!1})(n,e):void mn(19439)}function Z8(n){return n instanceof Ms?(function(t){return`${t.field.canonicalString()} ${t.op} ${W0(t.value)}`})(n):n instanceof Su?(function(t){return t.op.toString()+" {"+t.getFilters().map(Z8).join(" ,")+"}"})(n):"Filter"}class yee extends Ms{constructor(e,t,i){super(e,t,i),this.key=tn.fromName(i.referenceValue)}matches(e){const t=tn.comparator(e.key,this.key);return this.matchesComparison(t)}}class vee extends Ms{constructor(e,t){super(e,"in",t),this.keys=Q8("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class _ee extends Ms{constructor(e,t){super(e,"not-in",t),this.keys=Q8("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Q8(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map((i=>tn.fromName(i.referenceValue)))}class bee extends Ms{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return iN(t)&&Hx(t.arrayValue,this.value)}}class xee extends Ms{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Hx(this.value.arrayValue,t)}}class See extends Ms{constructor(e,t){super(e,"not-in",t)}matches(e){if(Hx(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Hx(this.value.arrayValue,t)}}class Eee extends Ms{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!iN(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>Hx(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tee{constructor(e,t=null,i=[],r=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=a,this.endAt=o,this.Pe=null}}function B5(n,e=null,t=[],i=[],r=null,s=null,a=null){return new Tee(n,e,t,i,r,s,a)}function rN(n){const e=Rn(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>Y3(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(s){return s.field.canonicalString()+s.dir})(i))).join(","),BA(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>W0(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>W0(i))).join(",")),e.Pe=t}return e.Pe}function sN(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!mee(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!K8(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!z5(n.startAt,e.startAt)&&z5(n.endAt,e.endAt)}function K3(n){return tn.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e,t=null,i=[],r=[],s=null,a="F",o=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=l,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function wee(n,e,t,i,r,s,a,o){return new PS(n,e,t,i,r,s,a,o)}function aN(n){return new PS(n)}function F5(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function J8(n){return n.collectionGroup!==null}function cx(n){const e=Rn(n);if(e.Te===null){e.Te=[];const t=new Set;for(const s of e.explicitOrderBy)e.Te.push(s),t.add(s.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new zs(Ea.comparator);return a.filters.forEach((l=>{l.getFlattenedFilters().forEach((u=>{u.isInequality()&&(o=o.add(u.field))}))})),o})(e).forEach((s=>{t.has(s.canonicalString())||s.isKeyField()||e.Te.push(new Z2(s,i))})),t.has(Ea.keyField().canonicalString())||e.Te.push(new Z2(Ea.keyField(),i))}return e.Te}function Th(n){const e=Rn(n);return e.Ie||(e.Ie=Cee(e,cx(n))),e.Ie}function Cee(n,e){if(n.limitType==="F")return B5(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((r=>{const s=r.dir==="desc"?"asc":"desc";return new Z2(r.field,s)}));const t=n.endAt?new K2(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new K2(n.startAt.position,n.startAt.inclusive):null;return B5(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Z3(n,e){const t=n.filters.concat([e]);return new PS(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Q3(n,e,t){return new PS(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function VA(n,e){return sN(Th(n),Th(e))&&n.limitType===e.limitType}function e7(n){return`${rN(Th(n))}|lt:${n.limitType}`}function f0(n){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((r=>Z8(r))).join(", ")}]`),BA(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((r=>(function(a){return`${a.field.canonicalString()} (${a.dir})`})(r))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>W0(r))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>W0(r))).join(",")),`Target(${i})`})(Th(n))}; limitType=${n.limitType})`}function HA(n,e){return e.isFoundDocument()&&(function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):tn.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)})(n,e)&&(function(i,r){for(const s of cx(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0})(n,e)&&(function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0})(n,e)&&(function(i,r){return!(i.startAt&&!(function(a,o,l){const u=k5(a,o,l);return a.inclusive?u<=0:u<0})(i.startAt,cx(i),r)||i.endAt&&!(function(a,o,l){const u=k5(a,o,l);return a.inclusive?u>=0:u>0})(i.endAt,cx(i),r))})(n,e)}function Aee(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function t7(n){return(e,t)=>{let i=!1;for(const r of cx(n)){const s=Mee(r,e,t);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function Mee(n,e,t){const i=n.field.isKeyField()?tn.comparator(e.key,t.key):(function(s,a,o){const l=a.data.field(s),u=o.data.field(s);return l!==null&&u!==null?q0(l,u):mn(42886)})(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return mn(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){sm(this.inner,((t,i)=>{for(const[r,s]of i)e(r,s)}))}isEmpty(){return z8(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ree=new Fr(tn.comparator);function Jd(){return Ree}const n7=new Fr(tn.comparator);function j1(...n){let e=n7;for(const t of n)e=e.insert(t.key,t);return e}function i7(n){let e=n7;return n.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function zg(){return ux()}function r7(){return ux()}function ux(){return new vy((n=>n.toString()),((n,e)=>n.isEqual(e)))}const Oee=new Fr(tn.comparator),Iee=new zs(tn.comparator);function oi(...n){let e=Iee;for(const t of n)e=e.add(t);return e}const Pee=new zs(Xn);function Dee(){return Pee}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$2(e)?"-0":e}}function s7(n){return{integerValue:""+n}}function Nee(n,e){return oee(e)?s7(e):oN(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(){this._=void 0}}function Lee(n,e,t){return n instanceof Q2?(function(r,s){const a={fields:{[V8]:{stringValue:F8},[j8]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&nN(s)&&(s=FA(s)),s&&(a.fields[H8]=s),{mapValue:a}})(t,e):n instanceof jx?o7(n,e):n instanceof Gx?l7(n,e):(function(r,s){const a=a7(r,s),o=V5(a)+V5(r.Ee);return X3(a)&&X3(r.Ee)?s7(o):oN(r.serializer,o)})(n,e)}function Uee(n,e,t){return n instanceof jx?o7(n,e):n instanceof Gx?l7(n,e):t}function a7(n,e){return n instanceof J2?(function(i){return X3(i)||(function(s){return!!s&&"doubleValue"in s})(i)})(e)?e:{integerValue:0}:null}class Q2 extends jA{}class jx extends jA{constructor(e){super(),this.elements=e}}function o7(n,e){const t=c7(e);for(const i of n.elements)t.some((r=>Uh(r,i)))||t.push(i);return{arrayValue:{values:t}}}class Gx extends jA{constructor(e){super(),this.elements=e}}function l7(n,e){let t=c7(e);for(const i of n.elements)t=t.filter((r=>!Uh(r,i)));return{arrayValue:{values:t}}}class J2 extends jA{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function V5(n){return ds(n.integerValue||n.doubleValue)}function c7(n){return iN(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function kee(n,e){return n.field.isEqual(e.field)&&(function(i,r){return i instanceof jx&&r instanceof jx||i instanceof Gx&&r instanceof Gx?G0(i.elements,r.elements,Uh):i instanceof J2&&r instanceof J2?Uh(i.Ee,r.Ee):i instanceof Q2&&r instanceof Q2})(n.transform,e.transform)}class zee{constructor(e,t){this.version=e,this.transformResults=t}}class wh{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new wh}static exists(e){return new wh(void 0,e)}static updateTime(e){return new wh(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function g2(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class GA{}function u7(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new d7(n.key,wh.none()):new DS(n.key,n.data,wh.none());{const t=n.data,i=tl.empty();let r=new zs(Ea.comparator);for(let s of e.fields)if(!r.has(s)){let a=t.field(s);a===null&&s.length>1&&(s=s.popLast(),a=t.field(s)),a===null?i.delete(s):i.set(s,a),r=r.add(s)}return new am(n.key,i,new Nl(r.toArray()),wh.none())}}function Bee(n,e,t){n instanceof DS?(function(r,s,a){const o=r.value.clone(),l=j5(r.fieldTransforms,s,a.transformResults);o.setAll(l),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()})(n,e,t):n instanceof am?(function(r,s,a){if(!g2(r.precondition,s))return void s.convertToUnknownDocument(a.version);const o=j5(r.fieldTransforms,s,a.transformResults),l=s.data;l.setAll(h7(r)),l.setAll(o),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()})(n,e,t):(function(r,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()})(0,e,t)}function hx(n,e,t,i){return n instanceof DS?(function(s,a,o,l){if(!g2(s.precondition,a))return o;const u=s.value.clone(),d=G5(s.fieldTransforms,l,a);return u.setAll(d),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null})(n,e,t,i):n instanceof am?(function(s,a,o,l){if(!g2(s.precondition,a))return o;const u=G5(s.fieldTransforms,l,a),d=a.data;return d.setAll(h7(s)),d.setAll(u),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((p=>p.field)))})(n,e,t,i):(function(s,a,o){return g2(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o})(n,e,t)}function Fee(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),s=a7(i.transform,r||null);s!=null&&(t===null&&(t=tl.empty()),t.set(i.field,s))}return t||null}function H5(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&G0(i,r,((s,a)=>kee(s,a)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class DS extends GA{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class am extends GA{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function h7(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}})),e}function j5(n,e,t){const i=new Map;Ui(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let r=0;r<t.length;r++){const s=n[r],a=s.transform,o=e.data.field(s.field);i.set(s.field,Uee(a,o,t[r]))}return i}function G5(n,e,t){const i=new Map;for(const r of n){const s=r.transform,a=t.data.field(r.field);i.set(r.field,Lee(s,a,e))}return i}class d7 extends GA{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Vee extends GA{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hee{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&Bee(s,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=hx(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=hx(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=r7();return this.mutations.forEach((r=>{const s=e.get(r.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=t.has(r.key)?null:o;const l=u7(a,o);l!==null&&i.set(r.key,l),a.isValidDocument()||a.convertToNoDocument(Cn.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),oi())}isEqual(e){return this.batchId===e.batchId&&G0(this.mutations,e.mutations,((t,i)=>H5(t,i)))&&G0(this.baseMutations,e.baseMutations,((t,i)=>H5(t,i)))}}class lN{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Ui(e.mutations.length===i.length,58842,{Ve:e.mutations.length,me:i.length});let r=(function(){return Oee})();const s=e.mutations;for(let a=0;a<s.length;a++)r=r.insert(s[a].key,i[a].version);return new lN(e,t,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jee{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gee{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ts,mi;function qee(n){switch(n){case nt.OK:return mn(64938);case nt.CANCELLED:case nt.UNKNOWN:case nt.DEADLINE_EXCEEDED:case nt.RESOURCE_EXHAUSTED:case nt.INTERNAL:case nt.UNAVAILABLE:case nt.UNAUTHENTICATED:return!1;case nt.INVALID_ARGUMENT:case nt.NOT_FOUND:case nt.ALREADY_EXISTS:case nt.PERMISSION_DENIED:case nt.FAILED_PRECONDITION:case nt.ABORTED:case nt.OUT_OF_RANGE:case nt.UNIMPLEMENTED:case nt.DATA_LOSS:return!0;default:return mn(15467,{code:n})}}function f7(n){if(n===void 0)return Qd("GRPC error has no .code"),nt.UNKNOWN;switch(n){case Ts.OK:return nt.OK;case Ts.CANCELLED:return nt.CANCELLED;case Ts.UNKNOWN:return nt.UNKNOWN;case Ts.DEADLINE_EXCEEDED:return nt.DEADLINE_EXCEEDED;case Ts.RESOURCE_EXHAUSTED:return nt.RESOURCE_EXHAUSTED;case Ts.INTERNAL:return nt.INTERNAL;case Ts.UNAVAILABLE:return nt.UNAVAILABLE;case Ts.UNAUTHENTICATED:return nt.UNAUTHENTICATED;case Ts.INVALID_ARGUMENT:return nt.INVALID_ARGUMENT;case Ts.NOT_FOUND:return nt.NOT_FOUND;case Ts.ALREADY_EXISTS:return nt.ALREADY_EXISTS;case Ts.PERMISSION_DENIED:return nt.PERMISSION_DENIED;case Ts.FAILED_PRECONDITION:return nt.FAILED_PRECONDITION;case Ts.ABORTED:return nt.ABORTED;case Ts.OUT_OF_RANGE:return nt.OUT_OF_RANGE;case Ts.UNIMPLEMENTED:return nt.UNIMPLEMENTED;case Ts.DATA_LOSS:return nt.DATA_LOSS;default:return mn(39323,{code:n})}}(mi=Ts||(Ts={}))[mi.OK=0]="OK",mi[mi.CANCELLED=1]="CANCELLED",mi[mi.UNKNOWN=2]="UNKNOWN",mi[mi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mi[mi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mi[mi.NOT_FOUND=5]="NOT_FOUND",mi[mi.ALREADY_EXISTS=6]="ALREADY_EXISTS",mi[mi.PERMISSION_DENIED=7]="PERMISSION_DENIED",mi[mi.UNAUTHENTICATED=16]="UNAUTHENTICATED",mi[mi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mi[mi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mi[mi.ABORTED=10]="ABORTED",mi[mi.OUT_OF_RANGE=11]="OUT_OF_RANGE",mi[mi.UNIMPLEMENTED=12]="UNIMPLEMENTED",mi[mi.INTERNAL=13]="INTERNAL",mi[mi.UNAVAILABLE=14]="UNAVAILABLE",mi[mi.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wee=new Lp([4294967295,4294967295],0);function q5(n){const e=N8().encode(n),t=new C8;return t.update(e),new Uint8Array(t.digest())}function W5(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Lp([t,i],0),new Lp([r,s],0)]}class cN{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new G1(`Invalid padding: ${t}`);if(i<0)throw new G1(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new G1(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new G1(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=Lp.fromNumber(this.fe)}pe(e,t,i){let r=e.add(t.multiply(Lp.fromNumber(i)));return r.compare(Wee)===1&&(r=new Lp([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=q5(e),[i,r]=W5(t);for(let s=0;s<this.hashCount;s++){const a=this.pe(i,r,s);if(!this.ye(a))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new cN(s,r,t);return i.forEach((o=>a.insert(o))),a}insert(e){if(this.fe===0)return;const t=q5(e),[i,r]=W5(t);for(let s=0;s<this.hashCount;s++){const a=this.pe(i,r,s);this.we(a)}}we(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class G1 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,NS.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new qA(Cn.min(),r,new Fr(Xn),Jd(),oi())}}class NS{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new NS(i,t,oi(),oi(),oi())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e,t,i,r){this.Se=e,this.removedTargetIds=t,this.key=i,this.be=r}}class p7{constructor(e,t){this.targetId=e,this.De=t}}class m7{constructor(e,t,i=Ma.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class $5{constructor(){this.ve=0,this.Ce=X5(),this.Fe=Ma.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=oi(),t=oi(),i=oi();return this.Ce.forEach(((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:mn(38017,{changeType:s})}})),new NS(this.Fe,this.Me,e,t,i)}ke(){this.xe=!1,this.Ce=X5()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Ui(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class $ee{constructor(e){this.We=e,this.Ge=new Map,this.ze=Jd(),this.je=MT(),this.Je=MT(),this.He=new Fr(Xn)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,(t=>{const i=this.tt(t);switch(e.state){case 0:this.nt(t)&&i.Be(e.resumeToken);break;case 1:i.Ue(),i.Oe||i.ke(),i.Be(e.resumeToken);break;case 2:i.Ue(),i.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(i.Ke(),i.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),i.Be(e.resumeToken));break;default:mn(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach(((i,r)=>{this.nt(r)&&t(r)}))}it(e){const t=e.targetId,i=e.De.count,r=this.st(t);if(r){const s=r.target;if(K3(s))if(i===0){const a=new tn(s.path);this.Xe(t,a,Za.newNoDocument(a,Cn.min()))}else Ui(i===1,20013,{expectedCount:i});else{const a=this.ot(t);if(a!==i){const o=this._t(e),l=o?this.ut(o,e,a):1;if(l!==0){this.rt(t);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,u)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=t;let a,o;try{a=qp(i).toUint8Array()}catch(l){if(l instanceof B8)return Vp("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new cN(a,r,s)}catch(l){return Vp(l instanceof G1?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.fe===0?null:o}ut(e,t,i){return t.De.count===i-this.ht(e,t.targetId)?0:2}ht(e,t){const i=this.We.getRemoteKeysForTarget(t);let r=0;return i.forEach((s=>{const a=this.We.lt(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.Xe(t,s,null),r++)})),r}Pt(e){const t=new Map;this.Ge.forEach(((s,a)=>{const o=this.st(a);if(o){if(s.current&&K3(o.target)){const l=new tn(o.target.path);this.Tt(l).has(a)||this.It(a,l)||this.Xe(a,l,Za.newNoDocument(l,e))}s.Ne&&(t.set(a,s.Le()),s.ke())}}));let i=oi();this.Je.forEach(((s,a)=>{let o=!0;a.forEachWhile((l=>{const u=this.st(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)})),o&&(i=i.add(s))})),this.ze.forEach(((s,a)=>a.setReadTime(e)));const r=new qA(e,t,this.He,this.ze,i);return this.ze=Jd(),this.je=MT(),this.Je=MT(),this.He=new Fr(Xn),r}Ze(e,t){if(!this.nt(e))return;const i=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,i),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,i){if(!this.nt(e))return;const r=this.tt(e);this.It(e,t)?r.qe(t,1):r.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),i&&(this.ze=this.ze.insert(t,i))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new $5,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new zs(Xn),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new zs(Xn),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||Ft("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new $5),this.We.getRemoteKeysForTarget(e).forEach((t=>{this.Xe(e,t,null)}))}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function MT(){return new Fr(tn.comparator)}function X5(){return new Fr(tn.comparator)}const Xee={asc:"ASCENDING",desc:"DESCENDING"},Yee={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Kee={and:"AND",or:"OR"};class Zee{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function J3(n,e){return n.useProto3Json||BA(e)?e:{value:e}}function eC(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function g7(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Qee(n,e){return eC(n,e.toTimestamp())}function Ch(n){return Ui(!!n,49232),Cn.fromTimestamp((function(t){const i=Gp(t);return new fr(i.seconds,i.nanos)})(n))}function uN(n,e){return eP(n,e).canonicalString()}function eP(n,e){const t=(function(r){return new or(["projects",r.projectId,"databases",r.database])})(n).child("documents");return e===void 0?t:t.child(e)}function y7(n){const e=or.fromString(n);return Ui(S7(e),10190,{key:e.toString()}),e}function tP(n,e){return uN(n.databaseId,e.path)}function vO(n,e){const t=y7(e);if(t.get(1)!==n.databaseId.projectId)throw new Ut(nt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ut(nt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new tn(_7(t))}function v7(n,e){return uN(n.databaseId,e)}function Jee(n){const e=y7(n);return e.length===4?or.emptyPath():_7(e)}function nP(n){return new or(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function _7(n){return Ui(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Y5(n,e,t){return{name:tP(n,e),fields:t.value.mapValue.fields}}function ete(n,e){let t;if("targetChange"in e){e.targetChange;const i=(function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:mn(39313,{state:u})})(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=(function(u,d){return u.useProto3Json?(Ui(d===void 0||typeof d=="string",58123),Ma.fromBase64String(d||"")):(Ui(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Ma.fromUint8Array(d||new Uint8Array))})(n,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&(function(u){const d=u.code===void 0?nt.UNKNOWN:f7(u.code);return new Ut(d,u.message||"")})(a);t=new m7(i,r,s,o||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=vO(n,i.document.name),s=Ch(i.document.updateTime),a=i.document.createTime?Ch(i.document.createTime):Cn.min(),o=new tl({mapValue:{fields:i.document.fields}}),l=Za.newFoundDocument(r,s,a,o),u=i.targetIds||[],d=i.removedTargetIds||[];t=new y2(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=vO(n,i.document),s=i.readTime?Ch(i.readTime):Cn.min(),a=Za.newNoDocument(r,s),o=i.removedTargetIds||[];t=new y2([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=vO(n,i.document),s=i.removedTargetIds||[];t=new y2([],s,r,null)}else{if(!("filter"in e))return mn(11601,{At:e});{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,a=new Gee(r,s),o=i.targetId;t=new p7(o,a)}}return t}function tte(n,e){let t;if(e instanceof DS)t={update:Y5(n,e.key,e.value)};else if(e instanceof d7)t={delete:tP(n,e.key)};else if(e instanceof am)t={update:Y5(n,e.key,e.data),updateMask:ute(e.fieldMask)};else{if(!(e instanceof Vee))return mn(16599,{Rt:e.type});t={verify:tP(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(s,a){const o=a.transform;if(o instanceof Q2)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof jx)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Gx)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof J2)return{fieldPath:a.field.canonicalString(),increment:o.Ee};throw mn(20930,{transform:a.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(r,s){return s.updateTime!==void 0?{updateTime:Qee(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:mn(27497)})(n,e.precondition)),t}function nte(n,e){return n&&n.length>0?(Ui(e!==void 0,14353),n.map((t=>(function(r,s){let a=r.updateTime?Ch(r.updateTime):Ch(s);return a.isEqual(Cn.min())&&(a=Ch(s)),new zee(a,r.transformResults||[])})(t,e)))):[]}function ite(n,e){return{documents:[v7(n,e.path)]}}function rte(n,e){const t={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=v7(n,r);const s=(function(u){if(u.length!==0)return x7(Su.create(u,"and"))})(e.filters);s&&(t.structuredQuery.where=s);const a=(function(u){if(u.length!==0)return u.map((d=>(function(y){return{field:p0(y.field),direction:ote(y.dir)}})(d)))})(e.orderBy);a&&(t.structuredQuery.orderBy=a);const o=J3(n,e.limit);return o!==null&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt=(function(u){return{before:u.inclusive,values:u.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(u){return{before:!u.inclusive,values:u.position}})(e.endAt)),{Vt:t,parent:r}}function ste(n){let e=Jee(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Ui(i===1,65062);const d=t.from[0];d.allDescendants?r=d.collectionId:e=e.child(d.collectionId)}let s=[];t.where&&(s=(function(p){const y=b7(p);return y instanceof Su&&Y8(y)?y.getFilters():[y]})(t.where));let a=[];t.orderBy&&(a=(function(p){return p.map((y=>(function(_){return new Z2(m0(_.field),(function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(_.direction))})(y)))})(t.orderBy));let o=null;t.limit&&(o=(function(p){let y;return y=typeof p=="object"?p.value:p,BA(y)?null:y})(t.limit));let l=null;t.startAt&&(l=(function(p){const y=!!p.before,v=p.values||[];return new K2(v,y)})(t.startAt));let u=null;return t.endAt&&(u=(function(p){const y=!p.before,v=p.values||[];return new K2(v,y)})(t.endAt)),wee(e,r,a,s,o,"F",l,u)}function ate(n,e){const t=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mn(28987,{purpose:r})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function b7(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=m0(t.unaryFilter.field);return Ms.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=m0(t.unaryFilter.field);return Ms.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=m0(t.unaryFilter.field);return Ms.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=m0(t.unaryFilter.field);return Ms.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return mn(61313);default:return mn(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Ms.create(m0(t.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return mn(58110);default:return mn(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Su.create(t.compositeFilter.filters.map((i=>b7(i))),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return mn(1026)}})(t.compositeFilter.op))})(n):mn(30097,{filter:n})}function ote(n){return Xee[n]}function lte(n){return Yee[n]}function cte(n){return Kee[n]}function p0(n){return{fieldPath:n.canonicalString()}}function m0(n){return Ea.fromServerFormat(n.fieldPath)}function x7(n){return n instanceof Ms?(function(t){if(t.op==="=="){if(U5(t.value))return{unaryFilter:{field:p0(t.field),op:"IS_NAN"}};if(L5(t.value))return{unaryFilter:{field:p0(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(U5(t.value))return{unaryFilter:{field:p0(t.field),op:"IS_NOT_NAN"}};if(L5(t.value))return{unaryFilter:{field:p0(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:p0(t.field),op:lte(t.op),value:t.value}}})(n):n instanceof Su?(function(t){const i=t.getFilters().map((r=>x7(r)));return i.length===1?i[0]:{compositeFilter:{op:cte(t.op),filters:i}}})(n):mn(54877,{filter:n})}function ute(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function S7(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(e,t,i,r,s=Cn.min(),a=Cn.min(),o=Ma.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new Ap(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ap(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ap(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ap(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hte{constructor(e){this.gt=e}}function dte(n){const e=ste({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Q3(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fte{constructor(){this.Dn=new pte}addToCollectionParentIndex(e,t){return this.Dn.add(t),it.resolve()}getCollectionParents(e,t){return it.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return it.resolve()}deleteFieldIndex(e,t){return it.resolve()}deleteAllFieldIndexes(e){return it.resolve()}createTargetIndexes(e,t){return it.resolve()}getDocumentsMatchingTarget(e,t){return it.resolve(null)}getIndexType(e,t){return it.resolve(0)}getFieldIndexes(e,t){return it.resolve([])}getNextCollectionGroupToUpdate(e){return it.resolve(null)}getMinOffset(e,t){return it.resolve(jp.min())}getMinOffsetFromCollectionGroup(e,t){return it.resolve(jp.min())}updateCollectionGroup(e,t,i){return it.resolve()}updateIndexEntries(e,t){return it.resolve()}}class pte{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new zs(or.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new zs(or.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K5={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},E7=41943040;class Qo{static withCacheSize(e){return new Qo(e,Qo.DEFAULT_COLLECTION_PERCENTILE,Qo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qo.DEFAULT_COLLECTION_PERCENTILE=10,Qo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qo.DEFAULT=new Qo(E7,Qo.DEFAULT_COLLECTION_PERCENTILE,Qo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qo.DISABLED=new Qo(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new $0(0)}static ur(){return new $0(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z5="LruGarbageCollector",mte=1048576;function Q5([n,e],[t,i]){const r=Xn(n,t);return r===0?Xn(e,i):r}class gte{constructor(e){this.Tr=e,this.buffer=new zs(Q5),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Q5(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class yte{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){Ft(Z5,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){O_(t)?Ft(Z5,"Ignoring IndexedDB error during garbage collection: ",t):await R_(t)}await this.Rr(3e5)}))}}class vte{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return it.resolve(zA.ue);const i=new gte(t);return this.Vr.forEachTarget(e,(r=>i.Er(r.sequenceNumber))).next((()=>this.Vr.gr(e,(r=>i.Er(r))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.Vr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ft("LruGarbageCollector","Garbage collection skipped; disabled"),it.resolve(K5)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(Ft("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),K5):this.pr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let i,r,s,a,o,l,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(Ft("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),r=this.params.maximumSequenceNumbersToCollect):r=p,a=Date.now(),this.nthSequenceNumber(e,r)))).next((p=>(i=p,o=Date.now(),this.removeTargets(e,i,t)))).next((p=>(s=p,l=Date.now(),this.removeOrphanedDocuments(e,i)))).next((p=>(u=Date.now(),d0()<=si.DEBUG&&Ft("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-d}ms
	Determined least recently used ${r} in `+(o-a)+`ms
	Removed ${s} targets in `+(l-o)+`ms
	Removed ${p} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),it.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:p}))))}}function _te(n,e){return new vte(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bte{constructor(){this.changes=new vy((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Za.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?it.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xte{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ste{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(i=r,this.remoteDocumentCache.getEntry(e,t)))).next((r=>(i!==null&&hx(i.mutation,r,Nl.empty(),fr.now()),r)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,oi()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=oi()){const r=zg();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,i).next((s=>{let a=j1();return s.forEach(((o,l)=>{a=a.insert(o,l.overlayedDocument)})),a}))))}getOverlayedDocuments(e,t){const i=zg();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,oi())))}populateOverlays(e,t,i){const r=[];return i.forEach((s=>{t.has(s)||r.push(s)})),this.documentOverlayCache.getOverlays(e,r).next((s=>{s.forEach(((a,o)=>{t.set(a,o)}))}))}computeViews(e,t,i,r){let s=Jd();const a=ux(),o=(function(){return ux()})();return t.forEach(((l,u)=>{const d=i.get(u.key);r.has(u.key)&&(d===void 0||d.mutation instanceof am)?s=s.insert(u.key,u):d!==void 0?(a.set(u.key,d.mutation.getFieldMask()),hx(d.mutation,u,d.mutation.getFieldMask(),fr.now())):a.set(u.key,Nl.empty())})),this.recalculateAndSaveOverlays(e,s).next((l=>(l.forEach(((u,d)=>a.set(u,d))),t.forEach(((u,d)=>{var p;return o.set(u,new xte(d,(p=a.get(u))!==null&&p!==void 0?p:null))})),o)))}recalculateAndSaveOverlays(e,t){const i=ux();let r=new Fr(((a,o)=>a-o)),s=oi();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((a=>{for(const o of a)o.keys().forEach((l=>{const u=t.get(l);if(u===null)return;let d=i.get(l)||Nl.empty();d=o.applyToLocalView(u,d),i.set(l,d);const p=(r.get(o.batchId)||oi()).add(l);r=r.insert(o.batchId,p)}))})).next((()=>{const a=[],o=r.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),u=l.key,d=l.value,p=r7();d.forEach((y=>{if(!s.has(y)){const v=u7(t.get(y),i.get(y));v!==null&&p.set(y,v),s=s.add(y)}})),a.push(this.documentOverlayCache.saveOverlays(e,u,p))}return it.waitFor(a)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,r){return(function(a){return tn.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):J8(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r)}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next((s=>{const a=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-s.size):it.resolve(zg());let o=Bx,l=s;return a.next((u=>it.forEach(u,((d,p)=>(o<p.largestBatchId&&(o=p.largestBatchId),s.get(d)?it.resolve():this.remoteDocumentCache.getEntry(e,d).next((y=>{l=l.insert(d,y)}))))).next((()=>this.populateOverlays(e,u,s))).next((()=>this.computeViews(e,l,u,oi()))).next((d=>({batchId:o,changes:i7(d)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new tn(t)).next((i=>{let r=j1();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){const s=t.collectionGroup;let a=j1();return this.indexManager.getCollectionParents(e,s).next((o=>it.forEach(o,(l=>{const u=(function(p,y){return new PS(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(t,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,i,r).next((d=>{d.forEach(((p,y)=>{a=a.insert(p,y)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,t,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,s,r)))).next((a=>{s.forEach(((l,u)=>{const d=u.getKey();a.get(d)===null&&(a=a.insert(d,Za.newInvalidDocument(d)))}));let o=j1();return a.forEach(((l,u)=>{const d=s.get(l);d!==void 0&&hx(d.mutation,u,Nl.empty(),fr.now()),HA(t,u)&&(o=o.insert(l,u))})),o}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ete{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return it.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(r){return{id:r.id,version:r.version,createTime:Ch(r.createTime)}})(t)),it.resolve()}getNamedQuery(e,t){return it.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(r){return{name:r.name,query:dte(r.bundledQuery),readTime:Ch(r.readTime)}})(t)),it.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tte{constructor(){this.overlays=new Fr(tn.comparator),this.kr=new Map}getOverlay(e,t){return it.resolve(this.overlays.get(t))}getOverlays(e,t){const i=zg();return it.forEach(t,(r=>this.getOverlay(e,r).next((s=>{s!==null&&i.set(r,s)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((r,s)=>{this.wt(e,t,s)})),it.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.kr.get(i);return r!==void 0&&(r.forEach((s=>this.overlays=this.overlays.remove(s))),this.kr.delete(i)),it.resolve()}getOverlaysForCollection(e,t,i){const r=zg(),s=t.length+1,a=new tn(t.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,u=l.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return it.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new Fr(((u,d)=>u-d));const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>i){let d=s.get(u.largestBatchId);d===null&&(d=zg(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const o=zg(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach(((u,d)=>o.set(u,d))),!(o.size()>=r)););return it.resolve(o)}wt(e,t,i){const r=this.overlays.get(i.key);if(r!==null){const a=this.kr.get(r.largestBatchId).delete(i.key);this.kr.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new jee(t,i));let s=this.kr.get(t);s===void 0&&(s=oi(),this.kr.set(t,s)),this.kr.set(t,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wte{constructor(){this.sessionToken=Ma.EMPTY_BYTE_STRING}getSessionToken(e){return it.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,it.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(){this.qr=new zs(ea.Qr),this.$r=new zs(ea.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const i=new ea(e,t);this.qr=this.qr.add(i),this.$r=this.$r.add(i)}Kr(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Wr(new ea(e,t))}Gr(e,t){e.forEach((i=>this.removeReference(i,t)))}zr(e){const t=new tn(new or([])),i=new ea(t,e),r=new ea(t,e+1),s=[];return this.$r.forEachInRange([i,r],(a=>{this.Wr(a),s.push(a.key)})),s}jr(){this.qr.forEach((e=>this.Wr(e)))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new tn(new or([])),i=new ea(t,e),r=new ea(t,e+1);let s=oi();return this.$r.forEachInRange([i,r],(a=>{s=s.add(a.key)})),s}containsKey(e){const t=new ea(e,0),i=this.qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class ea{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return tn.comparator(e.key,t.key)||Xn(e.Hr,t.Hr)}static Ur(e,t){return Xn(e.Hr,t.Hr)||tn.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cte{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new zs(ea.Qr)}checkEmpty(e){return it.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,r){const s=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new Hee(s,t,i,r);this.mutationQueue.push(a);for(const o of r)this.Yr=this.Yr.add(new ea(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return it.resolve(a)}lookupMutationBatch(e,t){return it.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=this.Xr(i),s=r<0?0:r;return it.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return it.resolve(this.mutationQueue.length===0?tN:this.er-1)}getAllMutationBatches(e){return it.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new ea(t,0),r=new ea(t,Number.POSITIVE_INFINITY),s=[];return this.Yr.forEachInRange([i,r],(a=>{const o=this.Zr(a.Hr);s.push(o)})),it.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new zs(Xn);return t.forEach((r=>{const s=new ea(r,0),a=new ea(r,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([s,a],(o=>{i=i.add(o.Hr)}))})),it.resolve(this.ei(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let s=i;tn.isDocumentKey(s)||(s=s.child(""));const a=new ea(new tn(s),0);let o=new zs(Xn);return this.Yr.forEachWhile((l=>{const u=l.key.path;return!!i.isPrefixOf(u)&&(u.length===r&&(o=o.add(l.Hr)),!0)}),a),it.resolve(this.ei(o))}ei(e){const t=[];return e.forEach((i=>{const r=this.Zr(i);r!==null&&t.push(r)})),t}removeMutationBatch(e,t){Ui(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Yr;return it.forEach(t.mutations,(r=>{const s=new ea(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Yr=i}))}rr(e){}containsKey(e,t){const i=new ea(t,0),r=this.Yr.firstAfterOrEqual(i);return it.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,it.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ate{constructor(e){this.ni=e,this.docs=(function(){return new Fr(tn.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),s=r?r.size:0,a=this.ni(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return it.resolve(i?i.document.mutableCopy():Za.newInvalidDocument(t))}getEntries(e,t){let i=Jd();return t.forEach((r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Za.newInvalidDocument(r))})),it.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let s=Jd();const a=t.path,o=new tn(a.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||iee(nee(d),i)<=0||(r.has(d.key)||HA(t,d))&&(s=s.insert(d.key,d.mutableCopy()))}return it.resolve(s)}getAllFromCollectionGroup(e,t,i,r){mn(9500)}ri(e,t){return it.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new Mte(this)}getSize(e){return it.resolve(this.size)}}class Mte extends bte{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach(((i,r)=>{r.isValidDocument()?t.push(this.Or.addEntry(e,r)):this.Or.removeEntry(i)})),it.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rte{constructor(e){this.persistence=e,this.ii=new vy((t=>rN(t)),sN),this.lastRemoteSnapshotVersion=Cn.min(),this.highestTargetId=0,this.si=0,this.oi=new hN,this.targetCount=0,this._i=$0.ar()}forEachTarget(e,t){return this.ii.forEach(((i,r)=>t(r))),it.resolve()}getLastRemoteSnapshotVersion(e){return it.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return it.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),it.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.si&&(this.si=t),it.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new $0(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,it.resolve()}updateTargetData(e,t){return this.hr(t),it.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,it.resolve()}removeTargets(e,t,i){let r=0;const s=[];return this.ii.forEach(((a,o)=>{o.sequenceNumber<=t&&i.get(o.targetId)===null&&(this.ii.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),it.waitFor(s).next((()=>r))}getTargetCount(e){return it.resolve(this.targetCount)}getTargetData(e,t){const i=this.ii.get(t)||null;return it.resolve(i)}addMatchingKeys(e,t,i){return this.oi.Kr(t,i),it.resolve()}removeMatchingKeys(e,t,i){this.oi.Gr(t,i);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach((a=>{s.push(r.markPotentiallyOrphaned(e,a))})),it.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),it.resolve()}getMatchingKeysForTargetId(e,t){const i=this.oi.Jr(t);return it.resolve(i)}containsKey(e,t){return it.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T7{constructor(e,t){this.ai={},this.overlays={},this.ui=new zA(0),this.ci=!1,this.ci=!0,this.li=new wte,this.referenceDelegate=e(this),this.hi=new Rte(this),this.indexManager=new fte,this.remoteDocumentCache=(function(r){return new Ate(r)})((i=>this.referenceDelegate.Pi(i))),this.serializer=new hte(t),this.Ti=new Ete(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Tte,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ai[e.toKey()];return i||(i=new Cte(t,this.referenceDelegate),this.ai[e.toKey()]=i),i}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,i){Ft("MemoryPersistence","Starting transaction:",e);const r=new Ote(this.ui.next());return this.referenceDelegate.Ii(),i(r).next((s=>this.referenceDelegate.di(r).next((()=>s)))).toPromise().then((s=>(r.raiseOnCommittedEvent(),s)))}Ei(e,t){return it.or(Object.values(this.ai).map((i=>()=>i.containsKey(e,t))))}}class Ote extends see{constructor(e){super(),this.currentSequenceNumber=e}}class dN{constructor(e){this.persistence=e,this.Ai=new hN,this.Ri=null}static Vi(e){return new dN(e)}get mi(){if(this.Ri)return this.Ri;throw mn(60996)}addReference(e,t,i){return this.Ai.addReference(i,t),this.mi.delete(i.toString()),it.resolve()}removeReference(e,t,i){return this.Ai.removeReference(i,t),this.mi.add(i.toString()),it.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),it.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach((r=>this.mi.add(r.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((r=>{r.forEach((s=>this.mi.add(s.toString())))})).next((()=>i.removeTargetData(e,t)))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return it.forEach(this.mi,(i=>{const r=tn.fromPath(i);return this.fi(e,r).next((s=>{s||t.removeEntry(r,Cn.min())}))})).next((()=>(this.Ri=null,t.apply(e))))}updateLimboDocument(e,t){return this.fi(e,t).next((i=>{i?this.mi.delete(t.toString()):this.mi.add(t.toString())}))}Pi(e){return 0}fi(e,t){return it.or([()=>it.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class tC{constructor(e,t){this.persistence=e,this.gi=new vy((i=>lee(i.path)),((i,r)=>i.isEqual(r))),this.garbageCollector=_te(this,t)}static Vi(e,t){return new tC(e,t)}Ii(){}di(e){return it.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((r=>i+r))))}yr(e){let t=0;return this.gr(e,(i=>{t++})).next((()=>t))}gr(e,t){return it.forEach(this.gi,((i,r)=>this.Sr(e,i,r).next((s=>s?it.resolve():t(r)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.ri(e,(a=>this.Sr(e,a,t).next((o=>{o||(i++,s.removeEntry(a,Cn.min()))})))).next((()=>s.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),it.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.gi.set(i,e.currentSequenceNumber),it.resolve()}removeReference(e,t,i){return this.gi.set(i,e.currentSequenceNumber),it.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),it.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=p2(e.data.value)),t}Sr(e,t,i){return it.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const r=this.gi.get(t);return it.resolve(r!==void 0&&r>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Is=i,this.ds=r}static Es(e,t){let i=oi(),r=oi();for(const s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new fN(e,t.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ite{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pte{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return AQ()?8:aee(to())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,i,r){const s={result:null};return this.ps(e,t).next((a=>{s.result=a})).next((()=>{if(!s.result)return this.ys(e,t,r,i).next((a=>{s.result=a}))})).next((()=>{if(s.result)return;const a=new Ite;return this.ws(e,t,a).next((o=>{if(s.result=o,this.Rs)return this.Ss(e,t,a,o.size)}))})).next((()=>s.result))}Ss(e,t,i,r){return i.documentReadCount<this.Vs?(d0()<=si.DEBUG&&Ft("QueryEngine","SDK will not create cache indexes for query:",f0(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),it.resolve()):(d0()<=si.DEBUG&&Ft("QueryEngine","Query:",f0(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.fs*r?(d0()<=si.DEBUG&&Ft("QueryEngine","The SDK decides to create cache indexes for query:",f0(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Th(t))):it.resolve())}ps(e,t){if(F5(t))return it.resolve(null);let i=Th(t);return this.indexManager.getIndexType(e,i).next((r=>r===0?null:(t.limit!==null&&r===1&&(t=Q3(t,null,"F"),i=Th(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((s=>{const a=oi(...s);return this.gs.getDocuments(e,a).next((o=>this.indexManager.getMinOffset(e,i).next((l=>{const u=this.bs(t,o);return this.Ds(t,u,a,l.readTime)?this.ps(e,Q3(t,null,"F")):this.vs(e,u,t,l)}))))})))))}ys(e,t,i,r){return F5(t)||r.isEqual(Cn.min())?it.resolve(null):this.gs.getDocuments(e,i).next((s=>{const a=this.bs(t,s);return this.Ds(t,a,i,r)?it.resolve(null):(d0()<=si.DEBUG&&Ft("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),f0(t)),this.vs(e,a,t,tee(r,Bx)).next((o=>o)))}))}bs(e,t){let i=new zs(t7(e));return t.forEach(((r,s)=>{HA(e,s)&&(i=i.add(s))})),i}Ds(e,t,i,r){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}ws(e,t,i){return d0()<=si.DEBUG&&Ft("QueryEngine","Using full collection scan to execute query:",f0(t)),this.gs.getDocumentsMatchingQuery(e,t,jp.min(),i)}vs(e,t,i,r){return this.gs.getDocumentsMatchingQuery(e,i,r).next((s=>(t.forEach((a=>{s=s.insert(a.key,a)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN="LocalStore",Dte=3e8;class Nte{constructor(e,t,i,r){this.persistence=e,this.Cs=t,this.serializer=r,this.Fs=new Fr(Xn),this.Ms=new vy((s=>rN(s)),sN),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(i)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ste(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Fs)))}}function Lte(n,e,t,i){return new Nte(n,e,t,i)}async function w7(n,e){const t=Rn(n);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next((s=>(r=s,t.Ns(e),t.mutationQueue.getAllMutationBatches(i)))).next((s=>{const a=[],o=[];let l=oi();for(const u of r){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of s){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return t.localDocuments.getDocuments(i,l).next((u=>({Bs:u,removedBatchIds:a,addedBatchIds:o})))}))}))}function Ute(n,e){const t=Rn(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const r=e.batch.keys(),s=t.Os.newChangeBuffer({trackRemovals:!0});return(function(o,l,u,d){const p=u.batch,y=p.keys();let v=it.resolve();return y.forEach((_=>{v=v.next((()=>d.getEntry(l,_))).next((S=>{const E=u.docVersions.get(_);Ui(E!==null,48541),S.version.compareTo(E)<0&&(p.applyToRemoteDocument(S,u),S.isValidDocument()&&(S.setReadTime(u.commitVersion),d.addEntry(S)))}))})),v.next((()=>o.mutationQueue.removeMutationBatch(l,p)))})(t,i,e,s).next((()=>s.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(o){let l=oi();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(l=l.add(o.batch.mutations[u].key));return l})(e)))).next((()=>t.localDocuments.getDocuments(i,r)))}))}function C7(n){const e=Rn(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.hi.getLastRemoteSnapshotVersion(t)))}function kte(n,e){const t=Rn(n),i=e.snapshotVersion;let r=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const a=t.Os.newChangeBuffer({trackRemovals:!0});r=t.Fs;const o=[];e.targetChanges.forEach(((d,p)=>{const y=r.get(p);if(!y)return;o.push(t.hi.removeMatchingKeys(s,d.removedDocuments,p).next((()=>t.hi.addMatchingKeys(s,d.addedDocuments,p))));let v=y.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(Ma.EMPTY_BYTE_STRING,Cn.min()).withLastLimboFreeSnapshotVersion(Cn.min()):d.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(d.resumeToken,i)),r=r.insert(p,v),(function(S,E,b){return S.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=Dte?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0})(y,v,d)&&o.push(t.hi.updateTargetData(s,v))}));let l=Jd(),u=oi();if(e.documentUpdates.forEach((d=>{e.resolvedLimboDocuments.has(d)&&o.push(t.persistence.referenceDelegate.updateLimboDocument(s,d))})),o.push(zte(s,a,e.documentUpdates).next((d=>{l=d.Ls,u=d.ks}))),!i.isEqual(Cn.min())){const d=t.hi.getLastRemoteSnapshotVersion(s).next((p=>t.hi.setTargetsMetadata(s,s.currentSequenceNumber,i)));o.push(d)}return it.waitFor(o).next((()=>a.apply(s))).next((()=>t.localDocuments.getLocalViewOfDocuments(s,l,u))).next((()=>l))})).then((s=>(t.Fs=r,s)))}function zte(n,e,t){let i=oi(),r=oi();return t.forEach((s=>i=i.add(s))),e.getEntries(n,i).next((s=>{let a=Jd();return t.forEach(((o,l)=>{const u=s.get(o);l.isFoundDocument()!==u.isFoundDocument()&&(r=r.add(o)),l.isNoDocument()&&l.version.isEqual(Cn.min())?(e.removeEntry(o,l.readTime),a=a.insert(o,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),a=a.insert(o,l)):Ft(pN,"Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",l.version)})),{Ls:a,ks:r}}))}function Bte(n,e){const t=Rn(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=tN),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function Fte(n,e){const t=Rn(n);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let r;return t.hi.getTargetData(i,e).next((s=>s?(r=s,it.resolve(r)):t.hi.allocateTargetId(i).next((a=>(r=new Ap(e,a,"TargetPurposeListen",i.currentSequenceNumber),t.hi.addTargetData(i,r).next((()=>r)))))))})).then((i=>{const r=t.Fs.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(i.targetId,i),t.Ms.set(e,i.targetId)),i}))}async function iP(n,e,t){const i=Rn(n),r=i.Fs.get(e),s=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",s,(a=>i.persistence.referenceDelegate.removeTarget(a,r)))}catch(a){if(!O_(a))throw a;Ft(pN,`Failed to update sequence numbers for target ${e}: ${a}`)}i.Fs=i.Fs.remove(e),i.Ms.delete(r.target)}function J5(n,e,t){const i=Rn(n);let r=Cn.min(),s=oi();return i.persistence.runTransaction("Execute query","readwrite",(a=>(function(l,u,d){const p=Rn(l),y=p.Ms.get(d);return y!==void 0?it.resolve(p.Fs.get(y)):p.hi.getTargetData(u,d)})(i,a,Th(e)).next((o=>{if(o)return r=o.lastLimboFreeSnapshotVersion,i.hi.getMatchingKeysForTargetId(a,o.targetId).next((l=>{s=l}))})).next((()=>i.Cs.getDocumentsMatchingQuery(a,e,t?r:Cn.min(),t?s:oi()))).next((o=>(Vte(i,Aee(e),o),{documents:o,qs:s})))))}function Vte(n,e,t){let i=n.xs.get(e)||Cn.min();t.forEach(((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)})),n.xs.set(e,i)}class ek{constructor(){this.activeTargetIds=Dee()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Hte{constructor(){this.Fo=new ek,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,i){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new ek,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jte{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk="ConnectivityMonitor";class nk{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){Ft(tk,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){Ft(tk,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let RT=null;function rP(){return RT===null?RT=(function(){return 268435456+Math.round(2147483648*Math.random())})():RT++,"0x"+RT.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O="RestConnection",Gte={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qte{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${i}/databases/${r}`,this.Ko=this.databaseId.database===X2?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Wo(e,t,i,r,s){const a=rP(),o=this.Go(e,t.toUriEncodedString());Ft(_O,`Sending RPC '${e}' ${a}:`,o,i);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(l,r,s);const{host:u}=new URL(o),d=C_(u);return this.jo(e,o,l,i,d).then((p=>(Ft(_O,`Received RPC '${e}' ${a}: `,p),p)),(p=>{throw Vp(_O,`RPC '${e}' ${a} failed with error: `,p,"url: ",o,"request:",i),p}))}Jo(e,t,i,r,s,a){return this.Wo(e,t,i,r,s)}zo(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+M_})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((r,s)=>e[s]=r)),i&&i.headers.forEach(((r,s)=>e[s]=r))}Go(e,t){const i=Gte[e];return`${this.$o}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wte{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga="WebChannelConnection";class $te extends qte{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,i,r,s){const a=rP();return new Promise(((o,l)=>{const u=new A8;u.setWithCredentials(!0),u.listenOnce(M8.COMPLETE,(()=>{try{switch(u.getLastErrorCode()){case f2.NO_ERROR:const p=u.getResponseJson();Ft(Ga,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(p)),o(p);break;case f2.TIMEOUT:Ft(Ga,`RPC '${e}' ${a} timed out`),l(new Ut(nt.DEADLINE_EXCEEDED,"Request time out"));break;case f2.HTTP_ERROR:const y=u.getStatus();if(Ft(Ga,`RPC '${e}' ${a} failed with status:`,y,"response text:",u.getResponseText()),y>0){let v=u.getResponseJson();Array.isArray(v)&&(v=v[0]);const _=v?.error;if(_&&_.status&&_.message){const S=(function(b){const w=b.toLowerCase().replace(/_/g,"-");return Object.values(nt).indexOf(w)>=0?w:nt.UNKNOWN})(_.status);l(new Ut(S,_.message))}else l(new Ut(nt.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new Ut(nt.UNAVAILABLE,"Connection failed."));break;default:mn(9055,{c_:e,streamId:a,l_:u.getLastErrorCode(),h_:u.getLastError()})}}finally{Ft(Ga,`RPC '${e}' ${a} completed.`)}}));const d=JSON.stringify(r);Ft(Ga,`RPC '${e}' ${a} sending request:`,r),u.send(t,"POST",d,i,15)}))}P_(e,t,i){const r=rP(),s=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=I8(),o=O8(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.zo(l.initMessageHeaders,t,i),l.encodeInitMessageHeaders=!0;const d=s.join("");Ft(Ga,`Creating RPC '${e}' stream ${r}: ${d}`,l);const p=a.createWebChannel(d,l);this.T_(p);let y=!1,v=!1;const _=new Wte({Ho:E=>{v?Ft(Ga,`Not sending because RPC '${e}' stream ${r} is closed:`,E):(y||(Ft(Ga,`Opening RPC '${e}' stream ${r} transport.`),p.open(),y=!0),Ft(Ga,`RPC '${e}' stream ${r} sending:`,E),p.send(E))},Yo:()=>p.close()}),S=(E,b,w)=>{E.listen(b,(A=>{try{w(A)}catch(C){setTimeout((()=>{throw C}),0)}}))};return S(p,H1.EventType.OPEN,(()=>{v||(Ft(Ga,`RPC '${e}' stream ${r} transport opened.`),_.s_())})),S(p,H1.EventType.CLOSE,(()=>{v||(v=!0,Ft(Ga,`RPC '${e}' stream ${r} transport closed`),_.__(),this.I_(p))})),S(p,H1.EventType.ERROR,(E=>{v||(v=!0,Vp(Ga,`RPC '${e}' stream ${r} transport errored. Name:`,E.name,"Message:",E.message),_.__(new Ut(nt.UNAVAILABLE,"The operation could not be completed")))})),S(p,H1.EventType.MESSAGE,(E=>{var b;if(!v){const w=E.data[0];Ui(!!w,16349);const A=w,C=A?.error||((b=A[0])===null||b===void 0?void 0:b.error);if(C){Ft(Ga,`RPC '${e}' stream ${r} received error:`,C);const D=C.status;let N=(function(P){const U=Ts[P];if(U!==void 0)return f7(U)})(D),I=C.message;N===void 0&&(N=nt.INTERNAL,I="Unknown error status: "+D+" with message "+C.message),v=!0,_.__(new Ut(N,I)),p.close()}else Ft(Ga,`RPC '${e}' stream ${r} received:`,w),_.a_(w)}})),S(o,R8.STAT_EVENT,(E=>{E.stat===q3.PROXY?Ft(Ga,`RPC '${e}' stream ${r} detected buffering proxy`):E.stat===q3.NOPROXY&&Ft(Ga,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{_.o_()}),0),_}terminate(){this.u_.forEach((e=>e.close())),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter((t=>t===e))}}function bO(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WA(n){return new Zee(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A7{constructor(e,t,i=1e3,r=1.5,s=6e4){this.Fi=e,this.timerId=t,this.d_=i,this.E_=r,this.A_=s,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),i=Math.max(0,Date.now()-this.m_),r=Math.max(0,t-i);r>0&&Ft("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,r,(()=>(this.m_=Date.now(),e()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik="PersistentStream";class M7{constructor(e,t,i,r,s,a,o,l){this.Fi=e,this.w_=i,this.S_=r,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new A7(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===nt.RESOURCE_EXHAUSTED?(Qd(t.toString()),Qd("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===nt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,r])=>{this.b_===t&&this.W_(i,r)}),(i=>{e((()=>{const r=new Ut(nt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.G_(r)}))}))}W_(e,t){const i=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.e_((()=>{i((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((r=>{i((()=>this.G_(r)))})),this.stream.onMessage((r=>{i((()=>++this.C_==1?this.j_(r):this.onNext(r)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(e){return Ft(ik,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget((()=>this.b_===e?t():(Ft(ik,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Xte extends M7{constructor(e,t,i,r,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,a),this.serializer=s}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=ete(this.serializer,e),i=(function(s){if(!("targetChange"in s))return Cn.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Cn.min():a.readTime?Ch(a.readTime):Cn.min()})(e);return this.listener.J_(t,i)}H_(e){const t={};t.database=nP(this.serializer),t.addTarget=(function(s,a){let o;const l=a.target;if(o=K3(l)?{documents:ite(s,l)}:{query:rte(s,l).Vt},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=g7(s,a.resumeToken);const u=J3(s,a.expectedCount);u!==null&&(o.expectedCount=u)}else if(a.snapshotVersion.compareTo(Cn.min())>0){o.readTime=eC(s,a.snapshotVersion.toTimestamp());const u=J3(s,a.expectedCount);u!==null&&(o.expectedCount=u)}return o})(this.serializer,e);const i=ate(this.serializer,e);i&&(t.labels=i),this.k_(t)}Y_(e){const t={};t.database=nP(this.serializer),t.removeTarget=e,this.k_(t)}}class Yte extends M7{constructor(e,t,i,r,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,a),this.serializer=s}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Ui(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ui(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Ui(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=nte(e.writeResults,e.commitTime),i=Ch(e.commitTime);return this.listener.ta(i,t)}na(){const e={};e.database=nP(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>tte(this.serializer,i)))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kte{}class Zte extends Kte{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.ra=!1}ia(){if(this.ra)throw new Ut(nt.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,i,r){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,a])=>this.connection.Wo(e,eP(t,i),r,s,a))).catch((s=>{throw s.name==="FirebaseError"?(s.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ut(nt.UNKNOWN,s.toString())}))}Jo(e,t,i,r,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,o])=>this.connection.Jo(e,eP(t,i),r,a,o,s))).catch((a=>{throw a.name==="FirebaseError"?(a.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ut(nt.UNKNOWN,a.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class Qte{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Qd(t),this._a=!1):Ft("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ay="RemoteStore";class Jte{constructor(e,t,i,r,s){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=s,this.Ea.xo((a=>{i.enqueueAndForget((async()=>{_y(this)&&(Ft(ay,"Restarting streams for network reachability change."),await(async function(l){const u=Rn(l);u.Ia.add(4),await LS(u),u.Aa.set("Unknown"),u.Ia.delete(4),await $A(u)})(this))}))})),this.Aa=new Qte(i,r)}}async function $A(n){if(_y(n))for(const e of n.da)await e(!0)}async function LS(n){for(const e of n.da)await e(!1)}function R7(n,e){const t=Rn(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),vN(t)?yN(t):I_(t).x_()&&gN(t,e))}function mN(n,e){const t=Rn(n),i=I_(t);t.Ta.delete(e),i.x_()&&O7(t,e),t.Ta.size===0&&(i.x_()?i.B_():_y(t)&&t.Aa.set("Unknown"))}function gN(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Cn.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}I_(n).H_(e)}function O7(n,e){n.Ra.$e(e),I_(n).Y_(e)}function yN(n){n.Ra=new $ee({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),I_(n).start(),n.Aa.aa()}function vN(n){return _y(n)&&!I_(n).M_()&&n.Ta.size>0}function _y(n){return Rn(n).Ia.size===0}function I7(n){n.Ra=void 0}async function ene(n){n.Aa.set("Online")}async function tne(n){n.Ta.forEach(((e,t)=>{gN(n,e)}))}async function nne(n,e){I7(n),vN(n)?(n.Aa.la(e),yN(n)):n.Aa.set("Unknown")}async function ine(n,e,t){if(n.Aa.set("Online"),e instanceof m7&&e.state===2&&e.cause)try{await(async function(r,s){const a=s.cause;for(const o of s.targetIds)r.Ta.has(o)&&(await r.remoteSyncer.rejectListen(o,a),r.Ta.delete(o),r.Ra.removeTarget(o))})(n,e)}catch(i){Ft(ay,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await nC(n,i)}else if(e instanceof y2?n.Ra.Ye(e):e instanceof p7?n.Ra.it(e):n.Ra.et(e),!t.isEqual(Cn.min()))try{const i=await C7(n.localStore);t.compareTo(i)>=0&&await(function(s,a){const o=s.Ra.Pt(a);return o.targetChanges.forEach(((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.Ta.get(u);d&&s.Ta.set(u,d.withResumeToken(l.resumeToken,a))}})),o.targetMismatches.forEach(((l,u)=>{const d=s.Ta.get(l);if(!d)return;s.Ta.set(l,d.withResumeToken(Ma.EMPTY_BYTE_STRING,d.snapshotVersion)),O7(s,l);const p=new Ap(d.target,l,u,d.sequenceNumber);gN(s,p)})),s.remoteSyncer.applyRemoteEvent(o)})(n,t)}catch(i){Ft(ay,"Failed to raise snapshot:",i),await nC(n,i)}}async function nC(n,e,t){if(!O_(e))throw e;n.Ia.add(1),await LS(n),n.Aa.set("Offline"),t||(t=()=>C7(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{Ft(ay,"Retrying IndexedDB access"),await t(),n.Ia.delete(1),await $A(n)}))}function P7(n,e){return e().catch((t=>nC(n,t,e)))}async function XA(n){const e=Rn(n),t=$p(e);let i=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:tN;for(;rne(e);)try{const r=await Bte(e.localStore,i);if(r===null){e.Pa.length===0&&t.B_();break}i=r.batchId,sne(e,r)}catch(r){await nC(e,r)}D7(e)&&N7(e)}function rne(n){return _y(n)&&n.Pa.length<10}function sne(n,e){n.Pa.push(e);const t=$p(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function D7(n){return _y(n)&&!$p(n).M_()&&n.Pa.length>0}function N7(n){$p(n).start()}async function ane(n){$p(n).na()}async function one(n){const e=$p(n);for(const t of n.Pa)e.X_(t.mutations)}async function lne(n,e,t){const i=n.Pa.shift(),r=lN.from(i,e,t);await P7(n,(()=>n.remoteSyncer.applySuccessfulWrite(r))),await XA(n)}async function cne(n,e){e&&$p(n).Z_&&await(async function(i,r){if((function(a){return qee(a)&&a!==nt.ABORTED})(r.code)){const s=i.Pa.shift();$p(i).N_(),await P7(i,(()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r))),await XA(i)}})(n,e),D7(n)&&N7(n)}async function rk(n,e){const t=Rn(n);t.asyncQueue.verifyOperationInProgress(),Ft(ay,"RemoteStore received new credentials");const i=_y(t);t.Ia.add(3),await LS(t),i&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await $A(t)}async function une(n,e){const t=Rn(n);e?(t.Ia.delete(2),await $A(t)):e||(t.Ia.add(2),await LS(t),t.Aa.set("Unknown"))}function I_(n){return n.Va||(n.Va=(function(t,i,r){const s=Rn(t);return s.ia(),new Xte(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)})(n.datastore,n.asyncQueue,{Zo:ene.bind(null,n),e_:tne.bind(null,n),n_:nne.bind(null,n),J_:ine.bind(null,n)}),n.da.push((async e=>{e?(n.Va.N_(),vN(n)?yN(n):n.Aa.set("Unknown")):(await n.Va.stop(),I7(n))}))),n.Va}function $p(n){return n.ma||(n.ma=(function(t,i,r){const s=Rn(t);return s.ia(),new Yte(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:ane.bind(null,n),n_:cne.bind(null,n),ea:one.bind(null,n),ta:lne.bind(null,n)}),n.da.push((async e=>{e?(n.ma.N_(),await XA(n)):(await n.ma.stop(),n.Pa.length>0&&(Ft(ay,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))}))),n.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new qd,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,s){const a=Date.now()+i,o=new _N(e,t,a,r,s);return o.start(i),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ut(nt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bN(n,e){if(Qd("AsyncQueue",`${e}: ${n}`),O_(n))return new Ut(nt.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{static emptySet(e){return new R0(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||tn.comparator(t.key,i.key):(t,i)=>tn.comparator(t.key,i.key),this.keyedMap=j1(),this.sortedSet=new Fr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof R0)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new R0;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(){this.fa=new Fr(tn.comparator)}track(e){const t=e.doc.key,i=this.fa.get(t);i?e.type!==0&&i.type===3?this.fa=this.fa.insert(t,e):e.type===3&&i.type!==1?this.fa=this.fa.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.fa=this.fa.remove(t):e.type===1&&i.type===2?this.fa=this.fa.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):mn(63341,{At:e,ga:i}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal(((t,i)=>{e.push(i)})),e}}class X0{constructor(e,t,i,r,s,a,o,l,u){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,t,i,r,s){const a=[];return t.forEach((o=>{a.push({type:0,doc:o})})),new X0(e,t,R0.emptySet(t),a,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&VA(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hne{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((e=>e.ba()))}}class dne{constructor(){this.queries=ak(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,i){const r=Rn(t),s=r.queries;r.queries=ak(),s.forEach(((a,o)=>{for(const l of o.wa)l.onError(i)}))})(this,new Ut(nt.ABORTED,"Firestore shutting down"))}}function ak(){return new vy((n=>e7(n)),VA)}async function L7(n,e){const t=Rn(n);let i=3;const r=e.query;let s=t.queries.get(r);s?!s.Sa()&&e.ba()&&(i=2):(s=new hne,i=e.ba()?0:1);try{switch(i){case 0:s.ya=await t.onListen(r,!0);break;case 1:s.ya=await t.onListen(r,!1);break;case 2:await t.onFirstRemoteStoreListen(r)}}catch(a){const o=bN(a,`Initialization of query '${f0(e.query)}' failed`);return void e.onError(o)}t.queries.set(r,s),s.wa.push(e),e.va(t.onlineState),s.ya&&e.Ca(s.ya)&&xN(t)}async function U7(n,e){const t=Rn(n),i=e.query;let r=3;const s=t.queries.get(i);if(s){const a=s.wa.indexOf(e);a>=0&&(s.wa.splice(a,1),s.wa.length===0?r=e.ba()?0:1:!s.Sa()&&e.ba()&&(r=2))}switch(r){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function fne(n,e){const t=Rn(n);let i=!1;for(const r of e){const s=r.query,a=t.queries.get(s);if(a){for(const o of a.wa)o.Ca(r)&&(i=!0);a.ya=r}}i&&xN(t)}function pne(n,e,t){const i=Rn(n),r=i.queries.get(e);if(r)for(const s of r.wa)s.onError(t);i.queries.delete(e)}function xN(n){n.Da.forEach((e=>{e.next()}))}var sP,ok;(ok=sP||(sP={})).Fa="default",ok.Cache="cache";class k7{constructor(e,t,i){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=i||{}}Ca(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new X0(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const i=t!=="Offline";return(!this.options.ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=X0.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==sP.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z7{constructor(e){this.key=e}}class B7{constructor(e){this.key=e}}class mne{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=oi(),this.mutatedKeys=oi(),this.Xa=t7(e),this.eu=new R0(this.Xa)}get tu(){return this.Ha}nu(e,t){const i=t?t.ru:new sk,r=t?t.eu:this.eu;let s=t?t.mutatedKeys:this.mutatedKeys,a=r,o=!1;const l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,u=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((d,p)=>{const y=r.get(d),v=HA(this.query,p)?p:null,_=!!y&&this.mutatedKeys.has(y.key),S=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let E=!1;y&&v?y.data.isEqual(v.data)?_!==S&&(i.track({type:3,doc:v}),E=!0):this.iu(y,v)||(i.track({type:2,doc:v}),E=!0,(l&&this.Xa(v,l)>0||u&&this.Xa(v,u)<0)&&(o=!0)):!y&&v?(i.track({type:0,doc:v}),E=!0):y&&!v&&(i.track({type:1,doc:y}),E=!0,(l||u)&&(o=!0)),E&&(v?(a=a.add(v),s=S?s.add(d):s.delete(d)):(a=a.delete(d),s=s.delete(d)))})),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),s=s.delete(d.key),i.track({type:1,doc:d})}return{eu:a,ru:i,Ds:o,mutatedKeys:s}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){const s=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const a=e.ru.pa();a.sort(((d,p)=>(function(v,_){const S=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mn(20277,{At:E})}};return S(v)-S(_)})(d.type,p.type)||this.Xa(d.doc,p.doc))),this.su(i),r=r!=null&&r;const o=t&&!r?this.ou():[],l=this.Za.size===0&&this.current&&!r?1:0,u=l!==this.Ya;return this.Ya=l,a.length!==0||u?{snapshot:new X0(this.query,e.eu,s,a,e.mutatedKeys,l===0,u,!1,!!i&&i.resumeToken.approximateByteSize()>0),_u:o}:{_u:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new sk,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach((t=>this.Ha=this.Ha.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ha=this.Ha.delete(t))),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=oi(),this.eu.forEach((i=>{this.au(i.key)&&(this.Za=this.Za.add(i.key))}));const t=[];return e.forEach((i=>{this.Za.has(i)||t.push(new B7(i))})),this.Za.forEach((i=>{e.has(i)||t.push(new z7(i))})),t}uu(e){this.Ha=e.qs,this.Za=oi();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return X0.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const SN="SyncEngine";class gne{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class yne{constructor(e){this.key=e,this.lu=!1}}class vne{constructor(e,t,i,r,s,a){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.hu={},this.Pu=new vy((o=>e7(o)),VA),this.Tu=new Map,this.Iu=new Set,this.du=new Fr(tn.comparator),this.Eu=new Map,this.Au=new hN,this.Ru={},this.Vu=new Map,this.mu=$0.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function _ne(n,e,t=!0){const i=q7(n);let r;const s=i.Pu.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.cu()):r=await F7(i,e,t,!0),r}async function bne(n,e){const t=q7(n);await F7(t,e,!0,!1)}async function F7(n,e,t,i){const r=await Fte(n.localStore,Th(e)),s=r.targetId,a=n.sharedClientState.addLocalQueryTarget(s,t);let o;return i&&(o=await xne(n,e,s,a==="current",r.resumeToken)),n.isPrimaryClient&&t&&R7(n.remoteStore,r),o}async function xne(n,e,t,i,r){n.gu=(p,y,v)=>(async function(S,E,b,w){let A=E.view.nu(b);A.Ds&&(A=await J5(S.localStore,E.query,!1).then((({documents:I})=>E.view.nu(I,A))));const C=w&&w.targetChanges.get(E.targetId),D=w&&w.targetMismatches.get(E.targetId)!=null,N=E.view.applyChanges(A,S.isPrimaryClient,C,D);return ck(S,E.targetId,N._u),N.snapshot})(n,p,y,v);const s=await J5(n.localStore,e,!0),a=new mne(e,s.qs),o=a.nu(s.documents),l=NS.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",r),u=a.applyChanges(o,n.isPrimaryClient,l);ck(n,t,u._u);const d=new gne(e,t,a);return n.Pu.set(e,d),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),u.snapshot}async function Sne(n,e,t){const i=Rn(n),r=i.Pu.get(e),s=i.Tu.get(r.targetId);if(s.length>1)return i.Tu.set(r.targetId,s.filter((a=>!VA(a,e)))),void i.Pu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await iP(i.localStore,r.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(r.targetId),t&&mN(i.remoteStore,r.targetId),aP(i,r.targetId)})).catch(R_)):(aP(i,r.targetId),await iP(i.localStore,r.targetId,!0))}async function Ene(n,e){const t=Rn(n),i=t.Pu.get(e),r=t.Tu.get(i.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),mN(t.remoteStore,i.targetId))}async function Tne(n,e,t){const i=Ine(n);try{const r=await(function(a,o){const l=Rn(a),u=fr.now(),d=o.reduce(((v,_)=>v.add(_.key)),oi());let p,y;return l.persistence.runTransaction("Locally write mutations","readwrite",(v=>{let _=Jd(),S=oi();return l.Os.getEntries(v,d).next((E=>{_=E,_.forEach(((b,w)=>{w.isValidDocument()||(S=S.add(b))}))})).next((()=>l.localDocuments.getOverlayedDocuments(v,_))).next((E=>{p=E;const b=[];for(const w of o){const A=Fee(w,p.get(w.key).overlayedDocument);A!=null&&b.push(new am(w.key,A,W8(A.value.mapValue),wh.exists(!0)))}return l.mutationQueue.addMutationBatch(v,u,b,o)})).next((E=>{y=E;const b=E.applyToLocalDocumentSet(p,S);return l.documentOverlayCache.saveOverlays(v,E.batchId,b)}))})).then((()=>({batchId:y.batchId,changes:i7(p)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),(function(a,o,l){let u=a.Ru[a.currentUser.toKey()];u||(u=new Fr(Xn)),u=u.insert(o,l),a.Ru[a.currentUser.toKey()]=u})(i,r.batchId,t),await US(i,r.changes),await XA(i.remoteStore)}catch(r){const s=bN(r,"Failed to persist write");t.reject(s)}}async function V7(n,e){const t=Rn(n);try{const i=await kte(t.localStore,e);e.targetChanges.forEach(((r,s)=>{const a=t.Eu.get(s);a&&(Ui(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?a.lu=!0:r.modifiedDocuments.size>0?Ui(a.lu,14607):r.removedDocuments.size>0&&(Ui(a.lu,42227),a.lu=!1))})),await US(t,i,e)}catch(i){await R_(i)}}function lk(n,e,t){const i=Rn(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const r=[];i.Pu.forEach(((s,a)=>{const o=a.view.va(e);o.snapshot&&r.push(o.snapshot)})),(function(a,o){const l=Rn(a);l.onlineState=o;let u=!1;l.queries.forEach(((d,p)=>{for(const y of p.wa)y.va(o)&&(u=!0)})),u&&xN(l)})(i.eventManager,e),r.length&&i.hu.J_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function wne(n,e,t){const i=Rn(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.Eu.get(e),s=r&&r.key;if(s){let a=new Fr(tn.comparator);a=a.insert(s,Za.newNoDocument(s,Cn.min()));const o=oi().add(s),l=new qA(Cn.min(),new Map,new Fr(Xn),a,o);await V7(i,l),i.du=i.du.remove(s),i.Eu.delete(e),EN(i)}else await iP(i.localStore,e,!1).then((()=>aP(i,e,t))).catch(R_)}async function Cne(n,e){const t=Rn(n),i=e.batch.batchId;try{const r=await Ute(t.localStore,e);j7(t,i,null),H7(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await US(t,r)}catch(r){await R_(r)}}async function Ane(n,e,t){const i=Rn(n);try{const r=await(function(a,o){const l=Rn(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",(u=>{let d;return l.mutationQueue.lookupMutationBatch(u,o).next((p=>(Ui(p!==null,37113),d=p.keys(),l.mutationQueue.removeMutationBatch(u,p)))).next((()=>l.mutationQueue.performConsistencyCheck(u))).next((()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,o))).next((()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d))).next((()=>l.localDocuments.getDocuments(u,d)))}))})(i.localStore,e);j7(i,e,t),H7(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await US(i,r)}catch(r){await R_(r)}}function H7(n,e){(n.Vu.get(e)||[]).forEach((t=>{t.resolve()})),n.Vu.delete(e)}function j7(n,e,t){const i=Rn(n);let r=i.Ru[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.Ru[i.currentUser.toKey()]=r}}function aP(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Tu.get(e))n.Pu.delete(i),t&&n.hu.pu(i,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach((i=>{n.Au.containsKey(i)||G7(n,i)}))}function G7(n,e){n.Iu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(mN(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),EN(n))}function ck(n,e,t){for(const i of t)i instanceof z7?(n.Au.addReference(i.key,e),Mne(n,i)):i instanceof B7?(Ft(SN,"Document no longer in limbo: "+i.key),n.Au.removeReference(i.key,e),n.Au.containsKey(i.key)||G7(n,i.key)):mn(19791,{yu:i})}function Mne(n,e){const t=e.key,i=t.path.canonicalString();n.du.get(t)||n.Iu.has(i)||(Ft(SN,"New document in limbo: "+t),n.Iu.add(i),EN(n))}function EN(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Iu.values().next().value;n.Iu.delete(e);const t=new tn(or.fromString(e)),i=n.mu.next();n.Eu.set(i,new yne(t)),n.du=n.du.insert(t,i),R7(n.remoteStore,new Ap(Th(aN(t.path)),i,"TargetPurposeLimboResolution",zA.ue))}}async function US(n,e,t){const i=Rn(n),r=[],s=[],a=[];i.Pu.isEmpty()||(i.Pu.forEach(((o,l)=>{a.push(i.gu(l,e,t).then((u=>{var d;if((u||t)&&i.isPrimaryClient){const p=u?!u.fromCache:(d=t?.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;i.sharedClientState.updateQueryState(l.targetId,p?"current":"not-current")}if(u){r.push(u);const p=fN.Es(l.targetId,u);s.push(p)}})))})),await Promise.all(a),i.hu.J_(r),await(async function(l,u){const d=Rn(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>it.forEach(u,(y=>it.forEach(y.Is,(v=>d.persistence.referenceDelegate.addReference(p,y.targetId,v))).next((()=>it.forEach(y.ds,(v=>d.persistence.referenceDelegate.removeReference(p,y.targetId,v)))))))))}catch(p){if(!O_(p))throw p;Ft(pN,"Failed to update sequence numbers: "+p)}for(const p of u){const y=p.targetId;if(!p.fromCache){const v=d.Fs.get(y),_=v.snapshotVersion,S=v.withLastLimboFreeSnapshotVersion(_);d.Fs=d.Fs.insert(y,S)}}})(i.localStore,s))}async function Rne(n,e){const t=Rn(n);if(!t.currentUser.isEqual(e)){Ft(SN,"User change. New user:",e.toKey());const i=await w7(t.localStore,e);t.currentUser=e,(function(s,a){s.Vu.forEach((o=>{o.forEach((l=>{l.reject(new Ut(nt.CANCELLED,a))}))})),s.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await US(t,i.Bs)}}function One(n,e){const t=Rn(n),i=t.Eu.get(e);if(i&&i.lu)return oi().add(i.key);{let r=oi();const s=t.Tu.get(e);if(!s)return r;for(const a of s){const o=t.Pu.get(a);r=r.unionWith(o.view.tu)}return r}}function q7(n){const e=Rn(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=V7.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=One.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=wne.bind(null,e),e.hu.J_=fne.bind(null,e.eventManager),e.hu.pu=pne.bind(null,e.eventManager),e}function Ine(n){const e=Rn(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Cne.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ane.bind(null,e),e}class iC{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=WA(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return Lte(this.persistence,new Pte,e.initialUser,this.serializer)}Du(e){return new T7(dN.Vi,this.serializer)}bu(e){return new Hte}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}iC.provider={build:()=>new iC};class Pne extends iC{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Ui(this.persistence.referenceDelegate instanceof tC,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new yte(i,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?Qo.withCacheSize(this.cacheSizeBytes):Qo.DEFAULT;return new T7((i=>tC.Vi(i,t)),this.serializer)}}class oP{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>lk(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Rne.bind(null,this.syncEngine),await une(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new dne})()}createDatastore(e){const t=WA(e.databaseInfo.databaseId),i=(function(s){return new $te(s)})(e.databaseInfo);return(function(s,a,o,l){return new Zte(s,a,o,l)})(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,r,s,a,o){return new Jte(i,r,s,a,o)})(this.localStore,this.datastore,e.asyncQueue,(t=>lk(this.syncEngine,t,0)),(function(){return nk.C()?new nk:new jte})())}createSyncEngine(e,t){return(function(r,s,a,o,l,u,d){const p=new vne(r,s,a,o,l,u);return d&&(p.fu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(r){const s=Rn(r);Ft(ay,"RemoteStore shutting down."),s.Ia.add(5),await LS(s),s.Ea.shutdown(),s.Aa.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}oP.provider={build:()=>new oP};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W7{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Qd("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp="FirestoreClient";class Dne{constructor(e,t,i,r,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Ka.UNAUTHENTICATED,this.clientId=eN.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,(async a=>{Ft(Xp,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(i,(a=>(Ft(Xp,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qd;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=bN(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function xO(n,e){n.asyncQueue.verifyOperationInProgress(),Ft(Xp,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener((async r=>{i.isEqual(r)||(await w7(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener((()=>{Vp("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then((()=>{Ft("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((r=>{Vp("Terminating Firestore due to IndexedDb database deletion failed",r)}))})),n._offlineComponents=e}async function uk(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Nne(n);Ft(Xp,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((i=>rk(e.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,r)=>rk(e.remoteStore,r))),n._onlineComponents=e}async function Nne(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ft(Xp,"Using user provided OfflineComponentProvider");try{await xO(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(r){return r.name==="FirebaseError"?r.code===nt.FAILED_PRECONDITION||r.code===nt.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(t))throw t;Vp("Error using user provided cache. Falling back to memory cache: "+t),await xO(n,new iC)}}else Ft(Xp,"Using default OfflineComponentProvider"),await xO(n,new Pne(void 0));return n._offlineComponents}async function $7(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ft(Xp,"Using user provided OnlineComponentProvider"),await uk(n,n._uninitializedComponentsProvider._online)):(Ft(Xp,"Using default OnlineComponentProvider"),await uk(n,new oP))),n._onlineComponents}function Lne(n){return $7(n).then((e=>e.syncEngine))}async function X7(n){const e=await $7(n),t=e.eventManager;return t.onListen=_ne.bind(null,e.syncEngine),t.onUnlisten=Sne.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=bne.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Ene.bind(null,e.syncEngine),t}function Une(n,e,t={}){const i=new qd;return n.asyncQueue.enqueueAndForget((async()=>(function(s,a,o,l,u){const d=new W7({next:y=>{d.Ou(),a.enqueueAndForget((()=>U7(s,p)));const v=y.docs.has(o);!v&&y.fromCache?u.reject(new Ut(nt.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&y.fromCache&&l&&l.source==="server"?u.reject(new Ut(nt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(y)},error:y=>u.reject(y)}),p=new k7(aN(o.path),d,{includeMetadataChanges:!0,ka:!0});return L7(s,p)})(await X7(n),n.asyncQueue,e,t,i))),i.promise}function kne(n,e,t={}){const i=new qd;return n.asyncQueue.enqueueAndForget((async()=>(function(s,a,o,l,u){const d=new W7({next:y=>{d.Ou(),a.enqueueAndForget((()=>U7(s,p))),y.fromCache&&l.source==="server"?u.reject(new Ut(nt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(y)},error:y=>u.reject(y)}),p=new k7(o,d,{includeMetadataChanges:!0,ka:!0});return L7(s,p)})(await X7(n),n.asyncQueue,e,t,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y7(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K7="firestore.googleapis.com",dk=!0;class fk{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Ut(nt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=K7,this.ssl=dk}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:dk;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=E7;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<mte)throw new Ut(nt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}eee("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Y7((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ut(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ut(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ut(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,r){return i.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class YA{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fk({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ut(nt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ut(nt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fk(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new qJ;switch(i.type){case"firstParty":return new YJ(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ut(nt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=hk.get(t);i&&(Ft("ComponentProvider","Removing Datastore"),hk.delete(t),i.terminate())})(this),Promise.resolve()}}function zne(n,e,t,i={}){var r;n=Hp(n,YA);const s=C_(e),a=n._getSettings(),o=Object.assign(Object.assign({},a),{emulatorOptions:n._getEmulatorOptions()}),l=`${e}:${t}`;s&&(v8(`https://${l}`),_8("Firestore",!0)),a.host!==K7&&a.host!==l&&Vp("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},a),{host:l,ssl:s,emulatorOptions:i});if(!iy(u,o)&&(n._setSettings(u),i.mockUserToken)){let d,p;if(typeof i.mockUserToken=="string")d=i.mockUserToken,p=Ka.MOCK_USER;else{d=vQ(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new Ut(nt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Ka(y)}n._authCredentials=new WJ(new D8(d,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new P_(this.firestore,e,this._query)}}class Os{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Up(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Os(this.firestore,e,this._key)}toJSON(){return{type:Os._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(IS(t,Os._jsonSchema))return new Os(e,i||null,new tn(or.fromString(t.referencePath)))}}Os._jsonSchemaVersion="firestore/documentReference/1.0",Os._jsonSchema={type:Rs("string",Os._jsonSchemaVersion),referencePath:Rs("string")};class Up extends P_{constructor(e,t,i){super(e,t,aN(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Os(this.firestore,null,new tn(e))}withConverter(e){return new Up(this.firestore,e,this._path)}}function Ah(n,e,...t){if(n=Do(n),L8("collection","path",e),n instanceof YA){const i=or.fromString(e,...t);return C5(i),new Up(n,null,i)}{if(!(n instanceof Os||n instanceof Up))throw new Ut(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(or.fromString(e,...t));return C5(i),new Up(n.firestore,null,i)}}function TN(n,e,...t){if(n=Do(n),arguments.length===1&&(e=eN.newId()),L8("doc","path",e),n instanceof YA){const i=or.fromString(e,...t);return w5(i),new Os(n,null,new tn(i))}{if(!(n instanceof Os||n instanceof Up))throw new Ut(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(or.fromString(e,...t));return w5(i),new Os(n.firestore,n instanceof Up?n.converter:null,new tn(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk="AsyncQueue";class mk{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new A7(this,"async_queue_retry"),this.oc=()=>{const i=bO();i&&Ft(pk,"Visibility state changed to "+i.visibilityState),this.F_.y_()},this._c=e;const t=bO();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=bO();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise((()=>{}));const t=new qd;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Zu.push(e),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!O_(e))throw e;Ft(pk,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(e){const t=this._c.then((()=>(this.nc=!0,e().catch((i=>{throw this.tc=i,this.nc=!1,Qd("INTERNAL UNHANDLED ERROR: ",gk(i)),i})).then((i=>(this.nc=!1,i))))));return this._c=t,t}enqueueAfterDelay(e,t,i){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const r=_N.createAndSchedule(this,e,t,i,(s=>this.lc(s)));return this.ec.push(r),r}ac(){this.tc&&mn(47125,{hc:gk(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then((()=>{this.ec.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()}))}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function gk(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class kS extends YA{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new mk,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new mk(e),this._firestoreClient=void 0,await e}}}function Bne(n,e){const t=typeof n=="object"?n:E8(),i=typeof n=="string"?n:X2,r=QD(t,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=gQ("firestore");s&&zne(r,...s)}return r}function wN(n){if(n._terminated)throw new Ut(nt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Fne(n),n._firestoreClient}function Fne(n){var e,t,i;const r=n._freezeSettings(),s=(function(o,l,u,d){return new hee(o,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Y7(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,r);n._componentsProvider||!((t=r.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),n._firestoreClient=new Dne(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&(function(o){const l=o?._online.build();return{_offline:o?._offline.build(l),_online:l}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Tc(Ma.fromBase64String(e))}catch(t){throw new Ut(nt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Tc(Ma.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Tc._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(IS(e,Tc._jsonSchema))return Tc.fromBase64String(e.bytes)}}Tc._jsonSchemaVersion="firestore/bytes/1.0",Tc._jsonSchema={type:Rs("string",Tc._jsonSchemaVersion),bytes:Rs("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ut(nt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ea(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ut(nt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ut(nt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Xn(this._lat,e._lat)||Xn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Mh._jsonSchemaVersion}}static fromJSON(e){if(IS(e,Mh._jsonSchema))return new Mh(e.latitude,e.longitude)}}Mh._jsonSchemaVersion="firestore/geoPoint/1.0",Mh._jsonSchema={type:Rs("string",Mh._jsonSchemaVersion),latitude:Rs("number"),longitude:Rs("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Rh._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(IS(e,Rh._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Rh(e.vectorValues);throw new Ut(nt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Rh._jsonSchemaVersion="firestore/vectorValue/1.0",Rh._jsonSchema={type:Rs("string",Rh._jsonSchemaVersion),vectorValues:Rs("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vne=/^__.*__$/;class Hne{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new am(e,this.data,this.fieldMask,t,this.fieldTransforms):new DS(e,this.data,t,this.fieldTransforms)}}class Z7{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new am(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Q7(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mn(40011,{Ec:n})}}class AN{constructor(e,t,i,r,s,a){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.Ac(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new AN(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.Rc({path:i,mc:!1});return r.fc(e),r}gc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.Rc({path:i,mc:!1});return r.Ac(),r}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return rC(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(Q7(this.Ec)&&Vne.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class jne{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||WA(e)}Dc(e,t,i,r=!1){return new AN({Ec:e,methodName:t,bc:i,path:Ea.emptyPath(),mc:!1,Sc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function MN(n){const e=n._freezeSettings(),t=WA(n._databaseId);return new jne(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Gne(n,e,t,i,r,s={}){const a=n.Dc(s.merge||s.mergeFields?2:0,e,t,r);RN("Data must be an object, but it was:",a,i);const o=J7(i,a);let l,u;if(s.merge)l=new Nl(a.fieldMask),u=a.fieldTransforms;else if(s.mergeFields){const d=[];for(const p of s.mergeFields){const y=lP(e,p,t);if(!a.contains(y))throw new Ut(nt.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);tH(d,y)||d.push(y)}l=new Nl(d),u=a.fieldTransforms.filter((p=>l.covers(p.field)))}else l=null,u=a.fieldTransforms;return new Hne(new tl(o),l,u)}class ZA extends CN{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ZA}}function qne(n,e,t,i){const r=n.Dc(1,e,t);RN("Data must be an object, but it was:",r,i);const s=[],a=tl.empty();sm(i,((l,u)=>{const d=ON(e,l,t);u=Do(u);const p=r.gc(d);if(u instanceof ZA)s.push(d);else{const y=zS(u,p);y!=null&&(s.push(d),a.set(d,y))}}));const o=new Nl(s);return new Z7(a,o,r.fieldTransforms)}function Wne(n,e,t,i,r,s){const a=n.Dc(1,e,t),o=[lP(e,i,t)],l=[r];if(s.length%2!=0)throw new Ut(nt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<s.length;y+=2)o.push(lP(e,s[y])),l.push(s[y+1]);const u=[],d=tl.empty();for(let y=o.length-1;y>=0;--y)if(!tH(u,o[y])){const v=o[y];let _=l[y];_=Do(_);const S=a.gc(v);if(_ instanceof ZA)u.push(v);else{const E=zS(_,S);E!=null&&(u.push(v),d.set(v,E))}}const p=new Nl(u);return new Z7(d,p,a.fieldTransforms)}function $ne(n,e,t,i=!1){return zS(t,n.Dc(i?4:3,e))}function zS(n,e){if(eH(n=Do(n)))return RN("Unsupported field value:",e,n),J7(n,e);if(n instanceof CN)return(function(i,r){if(!Q7(r.Ec))throw r.wc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.wc(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(i,r){const s=[];let a=0;for(const o of i){let l=zS(o,r.yc(a));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),a++}return{arrayValue:{values:s}}})(n,e)}return(function(i,r){if((i=Do(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Nee(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=fr.fromDate(i);return{timestampValue:eC(r.serializer,s)}}if(i instanceof fr){const s=new fr(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:eC(r.serializer,s)}}if(i instanceof Mh)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Tc)return{bytesValue:g7(r.serializer,i._byteString)};if(i instanceof Os){const s=r.databaseId,a=i.firestore._databaseId;if(!a.isEqual(s))throw r.wc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:uN(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof Rh)return(function(a,o){return{mapValue:{fields:{[G8]:{stringValue:q8},[Y2]:{arrayValue:{values:a.toArray().map((u=>{if(typeof u!="number")throw o.wc("VectorValues must only contain numeric values.");return oN(o.serializer,u)}))}}}}}})(i,r);throw r.wc(`Unsupported field value: ${kA(i)}`)})(n,e)}function J7(n,e){const t={};return z8(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):sm(n,((i,r)=>{const s=zS(r,e.Vc(i));s!=null&&(t[i]=s)})),{mapValue:{fields:t}}}function eH(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof fr||n instanceof Mh||n instanceof Tc||n instanceof Os||n instanceof CN||n instanceof Rh)}function RN(n,e,t){if(!eH(t)||!U8(t)){const i=kA(t);throw i==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+i)}}function lP(n,e,t){if((e=Do(e))instanceof KA)return e._internalPath;if(typeof e=="string")return ON(n,e);throw rC("Field path arguments must be of type string or ",n,!1,void 0,t)}const Xne=new RegExp("[~\\*/\\[\\]]");function ON(n,e,t){if(e.search(Xne)>=0)throw rC(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new KA(...e.split("."))._internalPath}catch{throw rC(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function rC(n,e,t,i,r){const s=i&&!i.isEmpty(),a=r!==void 0;let o=`Function ${e}() called with invalid data`;t&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${i}`),a&&(l+=` in document ${r}`),l+=")"),new Ut(nt.INVALID_ARGUMENT,o+n+l)}function tH(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nH{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Os(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Yne(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(IN("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Yne extends nH{data(){return super.data()}}function IN(n,e){return typeof e=="string"?ON(n,e):e instanceof KA?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kne(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ut(nt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class PN{}class Zne extends PN{}function Qne(n,e,...t){let i=[];e instanceof PN&&i.push(e),i=i.concat(t),(function(s){const a=s.filter((l=>l instanceof DN)).length,o=s.filter((l=>l instanceof QA)).length;if(a>1||a>0&&o>0)throw new Ut(nt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const r of i)n=r._apply(n);return n}class QA extends Zne{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new QA(e,t,i)}_apply(e){const t=this._parse(e);return iH(e._query,t),new P_(e.firestore,e.converter,Z3(e._query,t))}_parse(e){const t=MN(e.firestore);return(function(s,a,o,l,u,d,p){let y;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Ut(nt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){vk(p,d);const _=[];for(const S of p)_.push(yk(l,s,S));y={arrayValue:{values:_}}}else y=yk(l,s,p)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||vk(p,d),y=$ne(o,a,p,d==="in"||d==="not-in");return Ms.create(u,d,y)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Jne(n,e,t){const i=e,r=IN("where",n);return QA._create(r,i,t)}class DN extends PN{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new DN(e,t)}_parse(e){const t=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return t.length===1?t[0]:Su.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(r,s){let a=r;const o=s.getFlattenedFilters();for(const l of o)iH(a,l),a=Z3(a,l)})(e._query,t),new P_(e.firestore,e.converter,Z3(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function yk(n,e,t){if(typeof(t=Do(t))=="string"){if(t==="")throw new Ut(nt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!J8(e)&&t.indexOf("/")!==-1)throw new Ut(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(or.fromString(t));if(!tn.isDocumentKey(i))throw new Ut(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return N5(n,new tn(i))}if(t instanceof Os)return N5(n,t._key);throw new Ut(nt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kA(t)}.`)}function vk(n,e){if(!Array.isArray(n)||n.length===0)throw new Ut(nt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function iH(n,e){const t=(function(r,s){for(const a of r)for(const o of a.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null})(n.filters,(function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new Ut(nt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ut(nt.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class eie{convertValue(e,t="none"){switch(Wp(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ds(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(qp(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw mn(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return sm(e,((r,s)=>{i[r]=this.convertValue(s,t)})),i}convertVectorValue(e){var t,i,r;const s=(r=(i=(t=e.fields)===null||t===void 0?void 0:t[Y2].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map((a=>ds(a.doubleValue)));return new Rh(s)}convertGeoPoint(e){return new Mh(ds(e.latitude),ds(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=FA(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Fx(e));default:return null}}convertTimestamp(e){const t=Gp(e);return new fr(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=or.fromString(e);Ui(S7(i),9688,{name:e});const r=new Vx(i.get(1),i.get(3)),s=new tn(i.popFirst(5));return r.isEqual(t)||Qd(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tie(n,e,t){let i;return i=n?n.toFirestore(e):e,i}class q1{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wg extends nH{constructor(e,t,i,r,s,a){super(e,t,i,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new v2(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(IN("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ut(nt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Wg._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Wg._jsonSchemaVersion="firestore/documentSnapshot/1.0",Wg._jsonSchema={type:Rs("string",Wg._jsonSchemaVersion),bundleSource:Rs("string","DocumentSnapshot"),bundleName:Rs("string"),bundle:Rs("string")};class v2 extends Wg{data(e={}){return super.data(e)}}class O0{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new q1(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new v2(this._firestore,this._userDataWriter,i.key,i,new q1(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ut(nt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(r,s){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map((o=>{const l=new v2(r._firestore,r._userDataWriter,o.doc.key,o.doc,new q1(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((o=>s||o.type!==3)).map((o=>{const l=new v2(r._firestore,r._userDataWriter,o.doc.key,o.doc,new q1(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,d=-1;return o.type!==0&&(u=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),d=a.indexOf(o.doc.key)),{type:nie(o.type),doc:l,oldIndex:u,newIndex:d}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ut(nt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=O0._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=eN.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],r=[];return this.docs.forEach((s=>{s._document!==null&&(t.push(s._document),i.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),r.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function nie(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mn(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iie(n){n=Hp(n,Os);const e=Hp(n.firestore,kS);return Une(wN(e),n._key).then((t=>sie(e,n,t)))}O0._jsonSchemaVersion="firestore/querySnapshot/1.0",O0._jsonSchema={type:Rs("string",O0._jsonSchemaVersion),bundleSource:Rs("string","QuerySnapshot"),bundleName:Rs("string"),bundle:Rs("string")};class rH extends eie{constructor(e){super(),this.firestore=e}convertBytes(e){return new Tc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Os(this.firestore,null,t)}}function BS(n){n=Hp(n,P_);const e=Hp(n.firestore,kS),t=wN(e),i=new rH(e);return Kne(n._query),kne(t,n._query).then((r=>new O0(e,i,n,r)))}function rie(n,e,t,...i){n=Hp(n,Os);const r=Hp(n.firestore,kS),s=MN(r);let a;return a=typeof(e=Do(e))=="string"||e instanceof KA?Wne(s,"updateDoc",n._key,e,t,i):qne(s,"updateDoc",n._key,e),sH(r,[a.toMutation(n._key,wh.exists(!0))])}function dx(n,e){const t=Hp(n.firestore,kS),i=TN(n),r=tie(n.converter,e);return sH(t,[Gne(MN(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,wh.exists(!1))]).then((()=>i))}function sH(n,e){return(function(i,r){const s=new qd;return i.asyncQueue.enqueueAndForget((async()=>Tne(await Lne(i),r,s))),s.promise})(wN(n),e)}function sie(n,e,t){const i=t.docs.get(e._key),r=new rH(n);return new Wg(n,r,e._key,i,new q1(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(r){M_=r})(A_),j0(new ry("firestore",((i,{instanceIdentifier:r,options:s})=>{const a=i.getProvider("app").getImmediate(),o=new kS(new $J(i.getProvider("auth-internal")),new KJ(a,i.getProvider("app-check-internal")),(function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Ut(nt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vx(u.options.projectId,d)})(a,r),a);return s=Object.assign({useFetchStreams:t},s),o._setSettings(s),o}),"PUBLIC").setMultipleInstances(!0)),Np(b5,x5,e),Np(b5,x5,"esm2017")})();var aie="firebase",oie="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Np(aie,oie,"app");function NN(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function aH(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lie=aH,oH=new RS("auth","Firebase",aH());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC=new KD("@firebase/auth");function cie(n,...e){sC.logLevel<=si.WARN&&sC.warn(`Auth (${A_}): ${n}`,...e)}function _2(n,...e){sC.logLevel<=si.ERROR&&sC.error(`Auth (${A_}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ef(n,...e){throw LN(n,...e)}function Oh(n,...e){return LN(n,...e)}function lH(n,e,t){const i=Object.assign(Object.assign({},lie()),{[e]:t});return new RS("auth","Firebase",i).create(e,{appName:n.name})}function $g(n){return lH(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function LN(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return oH.create(n,...e)}function Sn(n,e,...t){if(!n)throw LN(e,...t)}function Bd(n){const e="INTERNAL ASSERTION FAILED: "+n;throw _2(e),new Error(e)}function tf(n,e){n||Bd(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cP(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function uie(){return _k()==="http:"||_k()==="https:"}function _k(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hie(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(uie()||TQ()||"connection"in navigator)?navigator.onLine:!0}function die(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e,t){this.shortDelay=e,this.longDelay=t,tf(t>e,"Short delay should be less than long delay!"),this.isMobile=xQ()||wQ()}get(){return hie()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(n,e){tf(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cH{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Bd("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Bd("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Bd("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fie={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pie=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],mie=new FS(3e4,6e4);function kN(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function D_(n,e,t,i,r={}){return uH(n,r,async()=>{let s={},a={};i&&(e==="GET"?a=i:s={body:JSON.stringify(i)});const o=OS(Object.assign({key:n.config.apiKey},a)).slice(1),l=await n._getAdditionalHeaders();l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode);const u=Object.assign({method:e,headers:l},s);return EQ()||(u.referrerPolicy="no-referrer"),n.emulatorConfig&&C_(n.emulatorConfig.host)&&(u.credentials="include"),cH.fetch()(await hH(n,n.config.apiHost,t,o),u)})}async function uH(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},fie),e);try{const r=new yie(n),s=await Promise.race([t(),r.promise]);r.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw OT(n,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[l,u]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw OT(n,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw OT(n,"email-already-in-use",a);if(l==="USER_DISABLED")throw OT(n,"user-disabled",a);const d=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw lH(n,d,u);ef(n,d)}}catch(r){if(r instanceof pf)throw r;ef(n,"network-request-failed",{message:String(r)})}}async function gie(n,e,t,i,r={}){const s=await D_(n,e,t,i,r);return"mfaPendingCredential"in s&&ef(n,"multi-factor-auth-required",{_serverResponse:s}),s}async function hH(n,e,t,i){const r=`${e}${t}?${i}`,s=n,a=s.config.emulator?UN(n.config,r):`${n.config.apiScheme}://${r}`;return pie.includes(t)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}class yie{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Oh(this.auth,"network-request-failed")),mie.get())})}}function OT(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const r=Oh(n,e,i);return r.customData._tokenResponse=t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vie(n,e){return D_(n,"POST","/v1/accounts:delete",e)}async function aC(n,e){return D_(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fx(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function _ie(n,e=!1){const t=Do(n),i=await t.getIdToken(e),r=zN(i);Sn(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,a=s?.sign_in_provider;return{claims:r,token:i,authTime:fx(SO(r.auth_time)),issuedAtTime:fx(SO(r.iat)),expirationTime:fx(SO(r.exp)),signInProvider:a||null,signInSecondFactor:s?.sign_in_second_factor||null}}function SO(n){return Number(n)*1e3}function zN(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return _2("JWT malformed, contained fewer than 3 sections"),null;try{const r=p8(t);return r?JSON.parse(r):(_2("Failed to decode base64 JWT payload"),null)}catch(r){return _2("Caught error parsing JWT payload as JSON",r?.toString()),null}}function bk(n){const e=zN(n);return Sn(e,"internal-error"),Sn(typeof e.exp<"u","internal-error"),Sn(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qx(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof pf&&bie(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function bie({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xie{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=fx(this.lastLoginAt),this.creationTime=fx(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oC(n){var e;const t=n.auth,i=await n.getIdToken(),r=await qx(n,aC(t,{idToken:i}));Sn(r?.users.length,t,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?dH(s.providerUserInfo):[],o=Eie(n.providerData,a),l=n.isAnonymous,u=!(n.email&&s.passwordHash)&&!o?.length,d=l?u:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new uP(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(n,p)}async function Sie(n){const e=Do(n);await oC(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Eie(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function dH(n){return n.map(e=>{var{providerId:t}=e,i=NN(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tie(n,e){const t=await uH(n,{},async()=>{const i=OS({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=n.config,a=await hH(n,r,"/v1/token",`key=${s}`),o=await n._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:i};return n.emulatorConfig&&C_(n.emulatorConfig.host)&&(l.credentials="include"),cH.fetch()(a,l)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function wie(n,e){return D_(n,"POST","/v2/accounts:revokeToken",kN(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Sn(e.idToken,"internal-error"),Sn(typeof e.idToken<"u","internal-error"),Sn(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):bk(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Sn(e.length!==0,"internal-error");const t=bk(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Sn(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:r,expiresIn:s}=await Tie(e,t);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:r,expirationTime:s}=t,a=new I0;return i&&(Sn(typeof i=="string","internal-error",{appName:e}),a.refreshToken=i),r&&(Sn(typeof r=="string","internal-error",{appName:e}),a.accessToken=r),s&&(Sn(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new I0,this.toJSON())}_performRefresh(){return Bd("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lp(n,e){Sn(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class vu{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,s=NN(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xie(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new uP(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await qx(this,this.stsTokenManager.getToken(this.auth,e));return Sn(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return _ie(this,e)}reload(){return Sie(this)}_assign(e){this!==e&&(Sn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new vu(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Sn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await oC(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(yh(this.auth.app))return Promise.reject($g(this.auth));const e=await this.getIdToken();return await qx(this,vie(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,s,a,o,l,u,d;const p=(i=t.displayName)!==null&&i!==void 0?i:void 0,y=(r=t.email)!==null&&r!==void 0?r:void 0,v=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,_=(a=t.photoURL)!==null&&a!==void 0?a:void 0,S=(o=t.tenantId)!==null&&o!==void 0?o:void 0,E=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,b=(u=t.createdAt)!==null&&u!==void 0?u:void 0,w=(d=t.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:A,emailVerified:C,isAnonymous:D,providerData:N,stsTokenManager:I}=t;Sn(A&&I,e,"internal-error");const L=I0.fromJSON(this.name,I);Sn(typeof A=="string",e,"internal-error"),lp(p,e.name),lp(y,e.name),Sn(typeof C=="boolean",e,"internal-error"),Sn(typeof D=="boolean",e,"internal-error"),lp(v,e.name),lp(_,e.name),lp(S,e.name),lp(E,e.name),lp(b,e.name),lp(w,e.name);const P=new vu({uid:A,auth:e,email:y,emailVerified:C,displayName:p,isAnonymous:D,photoURL:_,phoneNumber:v,tenantId:S,stsTokenManager:L,createdAt:b,lastLoginAt:w});return N&&Array.isArray(N)&&(P.providerData=N.map(U=>Object.assign({},U))),E&&(P._redirectEventId=E),P}static async _fromIdTokenResponse(e,t,i=!1){const r=new I0;r.updateFromServerResponse(t);const s=new vu({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await oC(s),s}static async _fromGetAccountInfoResponse(e,t,i){const r=t.users[0];Sn(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?dH(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!s?.length,o=new I0;o.updateFromIdToken(i);const l=new vu({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:a}),u={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new uP(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!s?.length};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xk=new Map;function Fd(n){tf(n instanceof Function,"Expected a class definition");let e=xk.get(n);return e?(tf(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,xk.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fH{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}fH.type="NONE";const Sk=fH;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b2(n,e,t){return`firebase:${n}:${e}:${t}`}class P0{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=b2(this.userKey,r.apiKey,s),this.fullPersistenceKey=b2("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await aC(this.auth,{idToken:e}).catch(()=>{});return t?vu._fromGetAccountInfoResponse(this.auth,t,e):null}return vu._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new P0(Fd(Sk),e,i);const r=(await Promise.all(t.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=r[0]||Fd(Sk);const a=b2(i,e.config.apiKey,e.name);let o=null;for(const u of t)try{const d=await u._get(a);if(d){let p;if(typeof d=="string"){const y=await aC(e,{idToken:d}).catch(()=>{});if(!y)break;p=await vu._fromGetAccountInfoResponse(e,y,d)}else p=vu._fromJSON(e,d);u!==s&&(o=p),s=u;break}}catch{}const l=r.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new P0(s,e,i):(s=l[0],o&&await s._set(a,o.toJSON()),await Promise.all(t.map(async u=>{if(u!==s)try{await u._remove(a)}catch{}})),new P0(s,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ek(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(yH(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(pH(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_H(e))return"Blackberry";if(bH(e))return"Webos";if(mH(e))return"Safari";if((e.includes("chrome/")||gH(e))&&!e.includes("edge/"))return"Chrome";if(vH(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function pH(n=to()){return/firefox\//i.test(n)}function mH(n=to()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function gH(n=to()){return/crios\//i.test(n)}function yH(n=to()){return/iemobile/i.test(n)}function vH(n=to()){return/android/i.test(n)}function _H(n=to()){return/blackberry/i.test(n)}function bH(n=to()){return/webos/i.test(n)}function BN(n=to()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Cie(n=to()){var e;return BN(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Aie(){return CQ()&&document.documentMode===10}function xH(n=to()){return BN(n)||vH(n)||bH(n)||_H(n)||/windows phone/i.test(n)||yH(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SH(n,e=[]){let t;switch(n){case"Browser":t=Ek(to());break;case"Worker":t=`${Ek(to())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${A_}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mie{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=s=>new Promise((a,o)=>{try{const l=e(s);a(l)}catch(l){o(l)}});i.onAbort=t,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rie(n,e={}){return D_(n,"GET","/v2/passwordPolicy",kN(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oie=6;class Iie{constructor(e){var t,i,r,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=a.minPasswordLength)!==null&&t!==void 0?t:Oie,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,r,s,a,o;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(i=l.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(r=l.containsLowercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),l}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pie{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Tk(this),this.idTokenSubscription=new Tk(this),this.beforeStateQueue=new Mie(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=oH,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Fd(t)),this._initializationPromise=this.queue(async()=>{var i,r,s;if(!this._deleted&&(this.persistenceManager=await P0.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await aC(this,{idToken:e}),i=await vu._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(yh(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,o=r?._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&l?.user&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Sn(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await oC(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=die()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(yh(this.app))return Promise.reject($g(this));const t=e?Do(e):null;return t&&Sn(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Sn(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return yh(this.app)?Promise.reject($g(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return yh(this.app)?Promise.reject($g(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fd(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Rie(this),t=new Iie(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new RS("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await wie(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Fd(e)||this._popupRedirectResolver;Sn(t,this,"argument-error"),this.redirectPersistenceManager=await P0.create(this,[Fd(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Sn(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof t=="function"){const l=e.addObserver(t,i,r);return()=>{a=!0,l()}}else{const l=e.addObserver(t);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Sn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=SH(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(yh(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&cie(`Error while retrieving App Check token: ${t.error}`),t?.token}}function FN(n){return Do(n)}class Tk{constructor(e){this.auth=e,this.observer=null,this.addObserver=NQ(t=>this.observer=t)}get next(){return Sn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let VN={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Die(n){VN=n}function Nie(n){return VN.loadJS(n)}function Lie(){return VN.gapiScript}function Uie(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kie(n,e){const t=QD(n,"auth");if(t.isInitialized()){const r=t.getImmediate(),s=t.getOptions();if(iy(s,e??{}))return r;ef(r,"already-initialized")}return t.initialize({options:e})}function zie(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Fd);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function Bie(n,e,t){const i=FN(n);Sn(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,s=EH(e),{host:a,port:o}=Fie(e),l=o===null?"":`:${o}`,u={url:`${s}//${a}${l}/`},d=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){Sn(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Sn(iy(u,i.config.emulator)&&iy(d,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=u,i.emulatorConfig=d,i.settings.appVerificationDisabledForTesting=!0,C_(a)?(v8(`${s}//${a}${l}`),_8("Auth",!0)):Vie()}function EH(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Fie(n){const e=EH(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:wk(i.substr(s.length+1))}}else{const[s,a]=i.split(":");return{host:s,port:wk(a)}}}function wk(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function Vie(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TH{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Bd("not implemented")}_getIdTokenResponse(e){return Bd("not implemented")}_linkToIdToken(e,t){return Bd("not implemented")}_getReauthenticationResolver(e){return Bd("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D0(n,e){return gie(n,"POST","/v1/accounts:signInWithIdp",kN(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hie="http://localhost";class oy extends TH{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new oy(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ef("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=t,s=NN(t,["providerId","signInMethod"]);if(!i||!r)return null;const a=new oy(i,r);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const t=this.buildRequest();return D0(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,D0(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,D0(e,t)}buildRequest(){const e={requestUri:Hie,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=OS(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wH{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS extends wH{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp extends VS{constructor(){super("facebook.com")}static credential(e){return oy._fromParams({providerId:Sp.PROVIDER_ID,signInMethod:Sp.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Sp.credentialFromTaggedObject(e)}static credentialFromError(e){return Sp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Sp.credential(e.oauthAccessToken)}catch{return null}}}Sp.FACEBOOK_SIGN_IN_METHOD="facebook.com";Sp.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud extends VS{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return oy._fromParams({providerId:Ud.PROVIDER_ID,signInMethod:Ud.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ud.credentialFromTaggedObject(e)}static credentialFromError(e){return Ud.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Ud.credential(t,i)}catch{return null}}}Ud.GOOGLE_SIGN_IN_METHOD="google.com";Ud.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep extends VS{constructor(){super("github.com")}static credential(e){return oy._fromParams({providerId:Ep.PROVIDER_ID,signInMethod:Ep.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ep.credentialFromTaggedObject(e)}static credentialFromError(e){return Ep.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ep.credential(e.oauthAccessToken)}catch{return null}}}Ep.GITHUB_SIGN_IN_METHOD="github.com";Ep.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp extends VS{constructor(){super("twitter.com")}static credential(e,t){return oy._fromParams({providerId:Tp.PROVIDER_ID,signInMethod:Tp.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Tp.credentialFromTaggedObject(e)}static credentialFromError(e){return Tp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Tp.credential(t,i)}catch{return null}}}Tp.TWITTER_SIGN_IN_METHOD="twitter.com";Tp.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,r=!1){const s=await vu._fromIdTokenResponse(e,i,r),a=Ck(i);return new Y0({user:s,providerId:a,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const r=Ck(i);return new Y0({user:e,providerId:r,_tokenResponse:i,operationType:t})}}function Ck(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC extends pf{constructor(e,t,i,r){var s;super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,lC.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new lC(e,t,i,r)}}function CH(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?lC._fromErrorAndOperation(n,s,e,i):s})}async function jie(n,e,t=!1){const i=await qx(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Y0._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gie(n,e,t=!1){const{auth:i}=n;if(yh(i.app))return Promise.reject($g(i));const r="reauthenticate";try{const s=await qx(n,CH(i,r,e,n),t);Sn(s.idToken,i,"internal-error");const a=zN(s.idToken);Sn(a,i,"internal-error");const{sub:o}=a;return Sn(n.uid===o,i,"user-mismatch"),Y0._forOperation(n,r,s)}catch(s){throw s?.code==="auth/user-not-found"&&ef(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qie(n,e,t=!1){if(yh(n.app))return Promise.reject($g(n));const i="signIn",r=await CH(n,i,e),s=await Y0._fromIdTokenResponse(n,i,r);return t||await n._updateCurrentUser(s.user),s}function Wie(n,e,t,i){return Do(n).onIdTokenChanged(e,t,i)}function $ie(n,e,t){return Do(n).beforeAuthStateChanged(e,t)}const cC="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AH{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(cC,"1"),this.storage.removeItem(cC),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xie=1e3,Yie=10;class MH extends AH{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=xH(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),r=this.localCache[t];i!==r&&e(t,r,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const i=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const a=this.storage.getItem(i);!t&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);Aie()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,Yie):r()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},Xie)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}MH.type="LOCAL";const Kie=MH;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RH extends AH{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}RH.type="SESSION";const OH=RH;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zie(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(r=>r.isListeningto(e));if(t)return t;const i=new JA(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:r,data:s}=t.data,a=this.handlersMap[r];if(!a?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const o=Array.from(a).map(async u=>u(t.origin,s)),l=await Zie(o);t.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:l})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}JA.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qie{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,a;return new Promise((o,l)=>{const u=HN("",20);r.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},i);a={messageChannel:r,onMessage(p){const y=p;if(y.data.eventId===u)switch(y.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(y.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ih(){return window}function Jie(n){Ih().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IH(){return typeof Ih().WorkerGlobalScope<"u"&&typeof Ih().importScripts=="function"}async function ere(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function tre(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function nre(){return IH()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PH="firebaseLocalStorageDb",ire=1,uC="firebaseLocalStorage",DH="fbase_key";class HS{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function eM(n,e){return n.transaction([uC],e?"readwrite":"readonly").objectStore(uC)}function rre(){const n=indexedDB.deleteDatabase(PH);return new HS(n).toPromise()}function hP(){const n=indexedDB.open(PH,ire);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(uC,{keyPath:DH})}catch(r){t(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(uC)?e(i):(i.close(),await rre(),e(await hP()))})})}async function Ak(n,e,t){const i=eM(n,!0).put({[DH]:e,value:t});return new HS(i).toPromise()}async function sre(n,e){const t=eM(n,!1).get(e),i=await new HS(t).toPromise();return i===void 0?null:i.value}function Mk(n,e){const t=eM(n,!0).delete(e);return new HS(t).toPromise()}const are=800,ore=3;class NH{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await hP(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>ore)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return IH()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=JA._getInstance(nre()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await ere(),!this.activeServiceWorker)return;this.sender=new Qie(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||tre()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await hP();return await Ak(e,cC,"1"),await Mk(e,cC),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Ak(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>sre(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Mk(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const s=eM(r,!1).getAll();return new HS(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:s}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),are)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}NH.type="LOCAL";const lre=NH;new FS(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cre(n,e){return e?Fd(e):(Sn(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN extends TH{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return D0(e,this._buildIdpRequest())}_linkToIdToken(e,t){return D0(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return D0(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ure(n){return qie(n.auth,new jN(n),n.bypassAuthState)}function hre(n){const{auth:e,user:t}=n;return Sn(t,e,"internal-error"),Gie(t,new jN(n),n.bypassAuthState)}async function dre(n){const{auth:e,user:t}=n;return Sn(t,e,"internal-error"),jie(t,new jN(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LH{constructor(e,t,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:r,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:t,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ure;case"linkViaPopup":case"linkViaRedirect":return dre;case"reauthViaPopup":case"reauthViaRedirect":return hre;default:ef(this.auth,"internal-error")}}resolve(e){tf(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){tf(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fre=new FS(2e3,1e4);class _0 extends LH{constructor(e,t,i,r,s){super(e,t,r,s),this.provider=i,this.authWindow=null,this.pollId=null,_0.currentPopupAction&&_0.currentPopupAction.cancel(),_0.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Sn(e,this.auth,"internal-error"),e}async onExecution(){tf(this.filter.length===1,"Popup operations only handle one event");const e=HN();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Oh(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Oh(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_0.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Oh(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,fre.get())};e()}}_0.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pre="pendingRedirect",x2=new Map;class mre extends LH{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=x2.get(this.auth._key());if(!e){try{const i=await gre(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}x2.set(this.auth._key(),e)}return this.bypassAuthState||x2.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function gre(n,e){const t=_re(e),i=vre(n);if(!await i._isAvailable())return!1;const r=await i._get(t)==="true";return await i._remove(t),r}function yre(n,e){x2.set(n._key(),e)}function vre(n){return Fd(n._redirectPersistence)}function _re(n){return b2(pre,n.config.apiKey,n.name)}async function bre(n,e,t=!1){if(yh(n.app))return Promise.reject($g(n));const i=FN(n),r=cre(i,e),a=await new mre(i,r,t).execute();return a&&!t&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xre=600*1e3;class Sre{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Ere(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!UH(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Oh(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=xre&&this.cachedEventUids.clear(),this.cachedEventUids.has(Rk(e))}saveEventToCache(e){this.cachedEventUids.add(Rk(e)),this.lastProcessedEventTime=Date.now()}}function Rk(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function UH({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function Ere(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return UH(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tre(n,e={}){return D_(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wre=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Cre=/^https?/;async function Are(n){if(n.config.emulator)return;const{authorizedDomains:e}=await Tre(n);for(const t of e)try{if(Mre(t))return}catch{}ef(n,"unauthorized-domain")}function Mre(n){const e=cP(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const a=new URL(n);return a.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&a.hostname===i}if(!Cre.test(t))return!1;if(wre.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rre=new FS(3e4,6e4);function Ok(){const n=Ih().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Ore(n){return new Promise((e,t)=>{var i,r,s;function a(){Ok(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ok(),t(Oh(n,"network-request-failed"))},timeout:Rre.get()})}if(!((r=(i=Ih().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=Ih().gapi)===null||s===void 0)&&s.load)a();else{const o=Uie("iframefcb");return Ih()[o]=()=>{gapi.load?a():t(Oh(n,"network-request-failed"))},Nie(`${Lie()}?onload=${o}`).catch(l=>t(l))}}).catch(e=>{throw S2=null,e})}let S2=null;function Ire(n){return S2=S2||Ore(n),S2}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pre=new FS(5e3,15e3),Dre="__/auth/iframe",Nre="emulator/auth/iframe",Lre={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ure=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kre(n){const e=n.config;Sn(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?UN(e,Nre):`https://${n.config.authDomain}/${Dre}`,i={apiKey:e.apiKey,appName:n.name,v:A_},r=Ure.get(n.config.apiHost);r&&(i.eid=r);const s=n._getFrameworks();return s.length&&(i.fw=s.join(",")),`${t}?${OS(i).slice(1)}`}async function zre(n){const e=await Ire(n),t=Ih().gapi;return Sn(t,n,"internal-error"),e.open({where:document.body,url:kre(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Lre,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const a=Oh(n,"network-request-failed"),o=Ih().setTimeout(()=>{s(a)},Pre.get());function l(){Ih().clearTimeout(o),r(i)}i.ping(l).then(l,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bre={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Fre=500,Vre=600,Hre="_blank",jre="http://localhost";class Ik{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Gre(n,e,t,i=Fre,r=Vre){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let o="";const l=Object.assign(Object.assign({},Bre),{width:i.toString(),height:r.toString(),top:s,left:a}),u=to().toLowerCase();t&&(o=gH(u)?Hre:t),pH(u)&&(e=e||jre,l.scrollbars="yes");const d=Object.entries(l).reduce((y,[v,_])=>`${y}${v}=${_},`,"");if(Cie(u)&&o!=="_self")return qre(e||"",o),new Ik(null);const p=window.open(e||"",o,d);Sn(p,n,"popup-blocked");try{p.focus()}catch{}return new Ik(p)}function qre(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wre="__/auth/handler",$re="emulator/auth/handler",Xre=encodeURIComponent("fac");async function Pk(n,e,t,i,r,s){Sn(n.config.authDomain,n,"auth-domain-config-required"),Sn(n.config.apiKey,n,"invalid-api-key");const a={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:A_,eventId:r};if(e instanceof wH){e.setDefaultLanguage(n.languageCode),a.providerId=e.providerId||"",DQ(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,p]of Object.entries({}))a[d]=p}if(e instanceof VS){const d=e.getScopes().filter(p=>p!=="");d.length>0&&(a.scopes=d.join(","))}n.tenantId&&(a.tid=n.tenantId);const o=a;for(const d of Object.keys(o))o[d]===void 0&&delete o[d];const l=await n._getAppCheckToken(),u=l?`#${Xre}=${encodeURIComponent(l)}`:"";return`${Yre(n)}?${OS(o).slice(1)}${u}`}function Yre({config:n}){return n.emulator?UN(n,$re):`https://${n.authDomain}/${Wre}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO="webStorageSupport";class Kre{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=OH,this._completeRedirectFn=bre,this._overrideRedirectResult=yre}async _openPopup(e,t,i,r){var s;tf((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await Pk(e,t,i,cP(),r);return Gre(e,a,HN())}async _openRedirect(e,t,i,r){await this._originValidation(e);const s=await Pk(e,t,i,cP(),r);return Jie(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:r,promise:s}=this.eventManagers[t];return r?Promise.resolve(r):(tf(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await zre(e),i=new Sre(e);return t.register("authEvent",r=>(Sn(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(EO,{type:EO},r=>{var s;const a=(s=r?.[0])===null||s===void 0?void 0:s[EO];a!==void 0&&t(!!a),ef(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Are(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return xH()||mH()||BN()}}const Zre=Kre;var Dk="@firebase/auth",Nk="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qre{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Sn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jre(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ese(n){j0(new ry("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=i.options;Sn(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:a,authDomain:o,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:SH(n)},u=new Pie(i,r,s,l);return zie(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),j0(new ry("auth-internal",e=>{const t=FN(e.getProvider("auth").getImmediate());return(i=>new Qre(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Np(Dk,Nk,Jre(n)),Np(Dk,Nk,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tse=300,nse=y8("authIdTokenMaxAge")||tse;let Lk=null;const ise=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>nse)return;const r=t?.token;Lk!==r&&(Lk=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function rse(n=E8()){const e=QD(n,"auth");if(e.isInitialized())return e.getImmediate();const t=kie(n,{popupRedirectResolver:Zre,persistence:[lre,Kie,OH]}),i=y8("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const a=ise(s.toString());$ie(t,a,()=>a(t.currentUser)),Wie(t,o=>a(o))}}const r=m8("auth");return r&&Bie(t,`http://${r}`),t}function sse(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Die({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{const s=Oh("internal-error");s.customData=r,t(s)},i.type="text/javascript",i.charset="UTF-8",sse().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ese("Browser");const ase={apiKey:"AIzaSyD6drh2aoyblA6iwk80Ko26FHK2HK_cNmk",authDomain:"black-triangle-bjj.firebaseapp.com",projectId:"black-triangle-bjj",storageBucket:"black-triangle-bjj.firebasestorage.app",messagingSenderId:"128924794161",appId:"1:128924794161:web:7968a2a259fbc8899cc410",measurementId:"G-LBWF7DFVF5"},kH=S8(ase),wc=Bne(kH);rse(kH);new Ud;function Pd(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function zH(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}/*!
 * GSAP 3.14.2
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var kl={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},K0={duration:.5,overwrite:!1,delay:0},GN,Ta,Tr,Cc=1e8,nr=1/Cc,dP=Math.PI*2,ose=dP/4,lse=0,BH=Math.sqrt,cse=Math.cos,use=Math.sin,aa=function(e){return typeof e=="string"},ns=function(e){return typeof e=="function"},nf=function(e){return typeof e=="number"},qN=function(e){return typeof e>"u"},kh=function(e){return typeof e=="object"},il=function(e){return e!==!1},WN=function(){return typeof window<"u"},IT=function(e){return ns(e)||aa(e)},FH=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},eo=Array.isArray,hse=/random\([^)]+\)/g,dse=/,\s*/g,Uk=/(?:-?\.?\d|\.)+/gi,VH=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,b0=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,TO=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,HH=/[+-]=-?[.\d]+/,fse=/[^,'"\[\]\s]+/gi,pse=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Ur,fh,fP,$N,Vl={},hC={},jH,GH=function(e){return(hC=Z0(e,Vl))&&cl},XN=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},Wx=function(e,t){return!t&&console.warn(e)},qH=function(e,t){return e&&(Vl[e]=t)&&hC&&(hC[e]=t)||Vl},$x=function(){return 0},mse={suppressEvents:!0,isStart:!0,kill:!1},E2={suppressEvents:!0,kill:!1},gse={suppressEvents:!0},YN={},kp=[],pP={},WH,Il={},wO={},kk=30,T2=[],KN="",ZN=function(e){var t=e[0],i,r;if(kh(t)||ns(t)||(e=[e]),!(i=(t._gsap||{}).harness)){for(r=T2.length;r--&&!T2[r].targetTest(t););i=T2[r]}for(r=e.length;r--;)e[r]&&(e[r]._gsap||(e[r]._gsap=new gj(e[r],i)))||e.splice(r,1);return e},Xg=function(e){return e._gsap||ZN(Ac(e))[0]._gsap},$H=function(e,t,i){return(i=e[t])&&ns(i)?e[t]():qN(i)&&e.getAttribute&&e.getAttribute(t)||i},rl=function(e,t){return(e=e.split(",")).forEach(t)||e},fs=function(e){return Math.round(e*1e5)/1e5||0},Lr=function(e){return Math.round(e*1e7)/1e7||0},N0=function(e,t){var i=t.charAt(0),r=parseFloat(t.substr(2));return e=parseFloat(e),i==="+"?e+r:i==="-"?e-r:i==="*"?e*r:e/r},yse=function(e,t){for(var i=t.length,r=0;e.indexOf(t[r])<0&&++r<i;);return r<i},dC=function(){var e=kp.length,t=kp.slice(0),i,r;for(pP={},kp.length=0,i=0;i<e;i++)r=t[i],r&&r._lazy&&(r.render(r._lazy[0],r._lazy[1],!0)._lazy=0)},QN=function(e){return!!(e._initted||e._startAt||e.add)},XH=function(e,t,i,r){kp.length&&!Ta&&dC(),e.render(t,i,!!(Ta&&t<0&&QN(e))),kp.length&&!Ta&&dC()},YH=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(fse).length<2?t:aa(e)?e.trim():e},KH=function(e){return e},Hl=function(e,t){for(var i in t)i in e||(e[i]=t[i]);return e},vse=function(e){return function(t,i){for(var r in i)r in t||r==="duration"&&e||r==="ease"||(t[r]=i[r])}},Z0=function(e,t){for(var i in t)e[i]=t[i];return e},zk=function n(e,t){for(var i in t)i!=="__proto__"&&i!=="constructor"&&i!=="prototype"&&(e[i]=kh(t[i])?n(e[i]||(e[i]={}),t[i]):t[i]);return e},fC=function(e,t){var i={},r;for(r in e)r in t||(i[r]=e[r]);return i},px=function(e){var t=e.parent||Ur,i=e.keyframes?vse(eo(e.keyframes)):Hl;if(il(e.inherit))for(;t;)i(e,t.vars.defaults),t=t.parent||t._dp;return e},_se=function(e,t){for(var i=e.length,r=i===t.length;r&&i--&&e[i]===t[i];);return i<0},ZH=function(e,t,i,r,s){var a=e[r],o;if(s)for(o=t[s];a&&a[s]>o;)a=a._prev;return a?(t._next=a._next,a._next=t):(t._next=e[i],e[i]=t),t._next?t._next._prev=t:e[r]=t,t._prev=a,t.parent=t._dp=e,t},tM=function(e,t,i,r){i===void 0&&(i="_first"),r===void 0&&(r="_last");var s=t._prev,a=t._next;s?s._next=a:e[i]===t&&(e[i]=a),a?a._prev=s:e[r]===t&&(e[r]=s),t._next=t._prev=t.parent=null},Yp=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Yg=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var i=e;i;)i._dirty=1,i=i.parent;return e},bse=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},mP=function(e,t,i,r){return e._startAt&&(Ta?e._startAt.revert(E2):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,r))},xse=function n(e){return!e||e._ts&&n(e.parent)},Bk=function(e){return e._repeat?Q0(e._tTime,e=e.duration()+e._rDelay)*e:0},Q0=function(e,t){var i=Math.floor(e=Lr(e/t));return e&&i===e?i-1:i},pC=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},nM=function(e){return e._end=Lr(e._start+(e._tDur/Math.abs(e._ts||e._rts||nr)||0))},iM=function(e,t){var i=e._dp;return i&&i.smoothChildTiming&&e._ts&&(e._start=Lr(i._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),nM(e),i._dirty||Yg(i,e)),e},QH=function(e,t){var i;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(i=pC(e.rawTime(),t),(!t._dur||jS(0,t.totalDuration(),i)-t._tTime>nr)&&t.render(i,!0)),Yg(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(i=e;i._dp;)i.rawTime()>=0&&i.totalTime(i._tTime),i=i._dp;e._zTime=-nr}},vh=function(e,t,i,r){return t.parent&&Yp(t),t._start=Lr((nf(i)?i:i||e!==Ur?bc(e,i,t):e._time)+t._delay),t._end=Lr(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),ZH(e,t,"_first","_last",e._sort?"_start":0),gP(t)||(e._recent=t),r||QH(e,t),e._ts<0&&iM(e,e._tTime),e},JH=function(e,t){return(Vl.ScrollTrigger||XN("scrollTrigger",t))&&Vl.ScrollTrigger.create(t,e)},ej=function(e,t,i,r,s){if(eL(e,t,s),!e._initted)return 1;if(!i&&e._pt&&!Ta&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&WH!==Pl.frame)return kp.push(e),e._lazy=[s,r],1},Sse=function n(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||n(t))},gP=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},Ese=function(e,t,i,r){var s=e.ratio,a=t<0||!t&&(!e._start&&Sse(e)&&!(!e._initted&&gP(e))||(e._ts<0||e._dp._ts<0)&&!gP(e))?0:1,o=e._rDelay,l=0,u,d,p;if(o&&e._repeat&&(l=jS(0,e._tDur,t),d=Q0(l,o),e._yoyo&&d&1&&(a=1-a),d!==Q0(e._tTime,o)&&(s=1-a,e.vars.repeatRefresh&&e._initted&&e.invalidate())),a!==s||Ta||r||e._zTime===nr||!t&&e._zTime){if(!e._initted&&ej(e,t,r,i,l))return;for(p=e._zTime,e._zTime=t||(i?nr:0),i||(i=t&&!p),e.ratio=a,e._from&&(a=1-a),e._time=0,e._tTime=l,u=e._pt;u;)u.r(a,u.d),u=u._next;t<0&&mP(e,t,i,!0),e._onUpdate&&!i&&Ll(e,"onUpdate"),l&&e._repeat&&!i&&e.parent&&Ll(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===a&&(a&&Yp(e,1),!i&&!Ta&&(Ll(e,a?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},Tse=function(e,t,i){var r;if(i>t)for(r=e._first;r&&r._start<=i;){if(r.data==="isPause"&&r._start>t)return r;r=r._next}else for(r=e._last;r&&r._start>=i;){if(r.data==="isPause"&&r._start<t)return r;r=r._prev}},J0=function(e,t,i,r){var s=e._repeat,a=Lr(t)||0,o=e._tTime/e._tDur;return o&&!r&&(e._time*=a/e._dur),e._dur=a,e._tDur=s?s<0?1e10:Lr(a*(s+1)+e._rDelay*s):a,o>0&&!r&&iM(e,e._tTime=e._tDur*o),e.parent&&nM(e),i||Yg(e.parent,e),e},Fk=function(e){return e instanceof Mo?Yg(e):J0(e,e._dur)},wse={_start:0,endTime:$x,totalDuration:$x},bc=function n(e,t,i){var r=e.labels,s=e._recent||wse,a=e.duration()>=Cc?s.endTime(!1):e._dur,o,l,u;return aa(t)&&(isNaN(t)||t in r)?(l=t.charAt(0),u=t.substr(-1)==="%",o=t.indexOf("="),l==="<"||l===">"?(o>=0&&(t=t.replace(/=/,"")),(l==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(t.substr(1))||0)*(u?(o<0?s:i).totalDuration()/100:1)):o<0?(t in r||(r[t]=a),r[t]):(l=parseFloat(t.charAt(o-1)+t.substr(o+1)),u&&i&&(l=l/100*(eo(i)?i[0]:i).totalDuration()),o>1?n(e,t.substr(0,o-1),i)+l:a+l)):t==null?a:+t},mx=function(e,t,i){var r=nf(t[1]),s=(r?2:1)+(e<2?0:1),a=t[s],o,l;if(r&&(a.duration=t[1]),a.parent=i,e){for(o=a,l=i;l&&!("immediateRender"in o);)o=l.vars.defaults||{},l=il(l.vars.inherit)&&l.parent;a.immediateRender=il(o.immediateRender),e<2?a.runBackwards=1:a.startAt=t[s-1]}return new ws(t[0],a,t[s+1])},om=function(e,t){return e||e===0?t(e):t},jS=function(e,t,i){return i<e?e:i>t?t:i},Qa=function(e,t){return!aa(e)||!(t=pse.exec(e))?"":t[1]},Cse=function(e,t,i){return om(i,function(r){return jS(e,t,r)})},yP=[].slice,tj=function(e,t){return e&&kh(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&kh(e[0]))&&!e.nodeType&&e!==fh},Ase=function(e,t,i){return i===void 0&&(i=[]),e.forEach(function(r){var s;return aa(r)&&!t||tj(r,1)?(s=i).push.apply(s,Ac(r)):i.push(r)})||i},Ac=function(e,t,i){return Tr&&!t&&Tr.selector?Tr.selector(e):aa(e)&&!i&&(fP||!e_())?yP.call((t||$N).querySelectorAll(e),0):eo(e)?Ase(e,i):tj(e)?yP.call(e,0):e?[e]:[]},vP=function(e){return e=Ac(e)[0]||Wx("Invalid scope")||{},function(t){var i=e.current||e.nativeElement||e;return Ac(t,i.querySelectorAll?i:i===e?Wx("Invalid scope")||$N.createElement("div"):e)}},nj=function(e){return e.sort(function(){return .5-Math.random()})},ij=function(e){if(ns(e))return e;var t=kh(e)?e:{each:e},i=Kg(t.ease),r=t.from||0,s=parseFloat(t.base)||0,a={},o=r>0&&r<1,l=isNaN(r)||o,u=t.axis,d=r,p=r;return aa(r)?d=p={center:.5,edges:.5,end:1}[r]||0:!o&&l&&(d=r[0],p=r[1]),function(y,v,_){var S=(_||t).length,E=a[S],b,w,A,C,D,N,I,L,P;if(!E){if(P=t.grid==="auto"?0:(t.grid||[1,Cc])[1],!P){for(I=-Cc;I<(I=_[P++].getBoundingClientRect().left)&&P<S;);P<S&&P--}for(E=a[S]=[],b=l?Math.min(P,S)*d-.5:r%P,w=P===Cc?0:l?S*p/P-.5:r/P|0,I=0,L=Cc,N=0;N<S;N++)A=N%P-b,C=w-(N/P|0),E[N]=D=u?Math.abs(u==="y"?C:A):BH(A*A+C*C),D>I&&(I=D),D<L&&(L=D);r==="random"&&nj(E),E.max=I-L,E.min=L,E.v=S=(parseFloat(t.amount)||parseFloat(t.each)*(P>S?S-1:u?u==="y"?S/P:P:Math.max(P,S/P))||0)*(r==="edges"?-1:1),E.b=S<0?s-S:s,E.u=Qa(t.amount||t.each)||0,i=i&&S<0?fj(i):i}return S=(E[y]-E.min)/E.max||0,Lr(E.b+(i?i(S):S)*E.v)+E.u}},_P=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(i){var r=Lr(Math.round(parseFloat(i)/e)*e*t);return(r-r%1)/t+(nf(i)?0:Qa(i))}},rj=function(e,t){var i=eo(e),r,s;return!i&&kh(e)&&(r=i=e.radius||Cc,e.values?(e=Ac(e.values),(s=!nf(e[0]))&&(r*=r)):e=_P(e.increment)),om(t,i?ns(e)?function(a){return s=e(a),Math.abs(s-a)<=r?s:a}:function(a){for(var o=parseFloat(s?a.x:a),l=parseFloat(s?a.y:0),u=Cc,d=0,p=e.length,y,v;p--;)s?(y=e[p].x-o,v=e[p].y-l,y=y*y+v*v):y=Math.abs(e[p]-o),y<u&&(u=y,d=p);return d=!r||u<=r?e[d]:a,s||d===a||nf(a)?d:d+Qa(a)}:_P(e))},sj=function(e,t,i,r){return om(eo(e)?!t:i===!0?!!(i=0):!r,function(){return eo(e)?e[~~(Math.random()*e.length)]:(i=i||1e-5)&&(r=i<1?Math.pow(10,(i+"").length-2):1)&&Math.floor(Math.round((e-i/2+Math.random()*(t-e+i*.99))/i)*i*r)/r})},Mse=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(r){return t.reduce(function(s,a){return a(s)},r)}},Rse=function(e,t){return function(i){return e(parseFloat(i))+(t||Qa(i))}},Ose=function(e,t,i){return oj(e,t,0,1,i)},aj=function(e,t,i){return om(i,function(r){return e[~~t(r)]})},Ise=function n(e,t,i){var r=t-e;return eo(e)?aj(e,n(0,e.length),t):om(i,function(s){return(r+(s-e)%r)%r+e})},Pse=function n(e,t,i){var r=t-e,s=r*2;return eo(e)?aj(e,n(0,e.length-1),t):om(i,function(a){return a=(s+(a-e)%s)%s||0,e+(a>r?s-a:a)})},Xx=function(e){return e.replace(hse,function(t){var i=t.indexOf("[")+1,r=t.substring(i||7,i?t.indexOf("]"):t.length-1).split(dse);return sj(i?r:+r[0],i?0:+r[1],+r[2]||1e-5)})},oj=function(e,t,i,r,s){var a=t-e,o=r-i;return om(s,function(l){return i+((l-e)/a*o||0)})},Dse=function n(e,t,i,r){var s=isNaN(e+t)?0:function(v){return(1-v)*e+v*t};if(!s){var a=aa(e),o={},l,u,d,p,y;if(i===!0&&(r=1)&&(i=null),a)e={p:e},t={p:t};else if(eo(e)&&!eo(t)){for(d=[],p=e.length,y=p-2,u=1;u<p;u++)d.push(n(e[u-1],e[u]));p--,s=function(_){_*=p;var S=Math.min(y,~~_);return d[S](_-S)},i=t}else r||(e=Z0(eo(e)?[]:{},e));if(!d){for(l in t)JN.call(o,e,l,"get",t[l]);s=function(_){return iL(_,o)||(a?e.p:e)}}}return om(i,s)},Vk=function(e,t,i){var r=e.labels,s=Cc,a,o,l;for(a in r)o=r[a]-t,o<0==!!i&&o&&s>(o=Math.abs(o))&&(l=a,s=o);return l},Ll=function(e,t,i){var r=e.vars,s=r[t],a=Tr,o=e._ctx,l,u,d;if(s)return l=r[t+"Params"],u=r.callbackScope||e,i&&kp.length&&dC(),o&&(Tr=o),d=l?s.apply(u,l):s.call(u),Tr=a,d},W1=function(e){return Yp(e),e.scrollTrigger&&e.scrollTrigger.kill(!!Ta),e.progress()<1&&Ll(e,"onInterrupt"),e},x0,lj=[],cj=function(e){if(e)if(e=!e.name&&e.default||e,WN()||e.headless){var t=e.name,i=ns(e),r=t&&!i&&e.init?function(){this._props=[]}:e,s={init:$x,render:iL,add:JN,kill:Yse,modifier:Xse,rawVars:0},a={targetTest:0,get:0,getSetter:nL,aliases:{},register:0};if(e_(),e!==r){if(Il[t])return;Hl(r,Hl(fC(e,s),a)),Z0(r.prototype,Z0(s,fC(e,a))),Il[r.prop=t]=r,e.targetTest&&(T2.push(r),YN[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}qH(t,r),e.register&&e.register(cl,r,sl)}else lj.push(e)},tr=255,$1={aqua:[0,tr,tr],lime:[0,tr,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,tr],navy:[0,0,128],white:[tr,tr,tr],olive:[128,128,0],yellow:[tr,tr,0],orange:[tr,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[tr,0,0],pink:[tr,192,203],cyan:[0,tr,tr],transparent:[tr,tr,tr,0]},CO=function(e,t,i){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(i-t)*e*6:e<.5?i:e*3<2?t+(i-t)*(2/3-e)*6:t)*tr+.5|0},uj=function(e,t,i){var r=e?nf(e)?[e>>16,e>>8&tr,e&tr]:0:$1.black,s,a,o,l,u,d,p,y,v,_;if(!r){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),$1[e])r=$1[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),a=e.charAt(2),o=e.charAt(3),e="#"+s+s+a+a+o+o+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return r=parseInt(e.substr(1,6),16),[r>>16,r>>8&tr,r&tr,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),r=[e>>16,e>>8&tr,e&tr]}else if(e.substr(0,3)==="hsl"){if(r=_=e.match(Uk),!t)l=+r[0]%360/360,u=+r[1]/100,d=+r[2]/100,a=d<=.5?d*(u+1):d+u-d*u,s=d*2-a,r.length>3&&(r[3]*=1),r[0]=CO(l+1/3,s,a),r[1]=CO(l,s,a),r[2]=CO(l-1/3,s,a);else if(~e.indexOf("="))return r=e.match(VH),i&&r.length<4&&(r[3]=1),r}else r=e.match(Uk)||$1.transparent;r=r.map(Number)}return t&&!_&&(s=r[0]/tr,a=r[1]/tr,o=r[2]/tr,p=Math.max(s,a,o),y=Math.min(s,a,o),d=(p+y)/2,p===y?l=u=0:(v=p-y,u=d>.5?v/(2-p-y):v/(p+y),l=p===s?(a-o)/v+(a<o?6:0):p===a?(o-s)/v+2:(s-a)/v+4,l*=60),r[0]=~~(l+.5),r[1]=~~(u*100+.5),r[2]=~~(d*100+.5)),i&&r.length<4&&(r[3]=1),r},hj=function(e){var t=[],i=[],r=-1;return e.split(zp).forEach(function(s){var a=s.match(b0)||[];t.push.apply(t,a),i.push(r+=a.length+1)}),t.c=i,t},Hk=function(e,t,i){var r="",s=(e+r).match(zp),a=t?"hsla(":"rgba(",o=0,l,u,d,p;if(!s)return e;if(s=s.map(function(y){return(y=uj(y,t,1))&&a+(t?y[0]+","+y[1]+"%,"+y[2]+"%,"+y[3]:y.join(","))+")"}),i&&(d=hj(e),l=i.c,l.join(r)!==d.c.join(r)))for(u=e.replace(zp,"1").split(b0),p=u.length-1;o<p;o++)r+=u[o]+(~l.indexOf(o)?s.shift()||a+"0,0,0,0)":(d.length?d:s.length?s:i).shift());if(!u)for(u=e.split(zp),p=u.length-1;o<p;o++)r+=u[o]+s[o];return r+u[p]},zp=(function(){var n="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in $1)n+="|"+e+"\\b";return new RegExp(n+")","gi")})(),Nse=/hsl[a]?\(/,dj=function(e){var t=e.join(" "),i;if(zp.lastIndex=0,zp.test(t))return i=Nse.test(t),e[1]=Hk(e[1],i),e[0]=Hk(e[0],i,hj(e[1])),!0},Yx,Pl=(function(){var n=Date.now,e=500,t=33,i=n(),r=i,s=1e3/240,a=s,o=[],l,u,d,p,y,v,_=function S(E){var b=n()-r,w=E===!0,A,C,D,N;if((b>e||b<0)&&(i+=b-t),r+=b,D=r-i,A=D-a,(A>0||w)&&(N=++p.frame,y=D-p.time*1e3,p.time=D=D/1e3,a+=A+(A>=s?4:s-A),C=1),w||(l=u(S)),C)for(v=0;v<o.length;v++)o[v](D,y,N,E)};return p={time:0,frame:0,tick:function(){_(!0)},deltaRatio:function(E){return y/(1e3/(E||60))},wake:function(){jH&&(!fP&&WN()&&(fh=fP=window,$N=fh.document||{},Vl.gsap=cl,(fh.gsapVersions||(fh.gsapVersions=[])).push(cl.version),GH(hC||fh.GreenSockGlobals||!fh.gsap&&fh||{}),lj.forEach(cj)),d=typeof requestAnimationFrame<"u"&&requestAnimationFrame,l&&p.sleep(),u=d||function(E){return setTimeout(E,a-p.time*1e3+1|0)},Yx=1,_(2))},sleep:function(){(d?cancelAnimationFrame:clearTimeout)(l),Yx=0,u=$x},lagSmoothing:function(E,b){e=E||1/0,t=Math.min(b||33,e)},fps:function(E){s=1e3/(E||240),a=p.time*1e3+s},add:function(E,b,w){var A=b?function(C,D,N,I){E(C,D,N,I),p.remove(A)}:E;return p.remove(E),o[w?"unshift":"push"](A),e_(),A},remove:function(E,b){~(b=o.indexOf(E))&&o.splice(b,1)&&v>=b&&v--},_listeners:o},p})(),e_=function(){return!Yx&&Pl.wake()},fi={},Lse=/^[\d.\-M][\d.\-,\s]/,Use=/["']/g,kse=function(e){for(var t={},i=e.substr(1,e.length-3).split(":"),r=i[0],s=1,a=i.length,o,l,u;s<a;s++)l=i[s],o=s!==a-1?l.lastIndexOf(","):l.length,u=l.substr(0,o),t[r]=isNaN(u)?u.replace(Use,"").trim():+u,r=l.substr(o+1).trim();return t},zse=function(e){var t=e.indexOf("(")+1,i=e.indexOf(")"),r=e.indexOf("(",t);return e.substring(t,~r&&r<i?e.indexOf(")",i+1):i)},Bse=function(e){var t=(e+"").split("("),i=fi[t[0]];return i&&t.length>1&&i.config?i.config.apply(null,~e.indexOf("{")?[kse(t[1])]:zse(e).split(",").map(YH)):fi._CE&&Lse.test(e)?fi._CE("",e):i},fj=function(e){return function(t){return 1-e(1-t)}},pj=function n(e,t){for(var i=e._first,r;i;)i instanceof Mo?n(i,t):i.vars.yoyoEase&&(!i._yoyo||!i._repeat)&&i._yoyo!==t&&(i.timeline?n(i.timeline,t):(r=i._ease,i._ease=i._yEase,i._yEase=r,i._yoyo=t)),i=i._next},Kg=function(e,t){return e&&(ns(e)?e:fi[e]||Bse(e))||t},by=function(e,t,i,r){i===void 0&&(i=function(l){return 1-t(1-l)}),r===void 0&&(r=function(l){return l<.5?t(l*2)/2:1-t((1-l)*2)/2});var s={easeIn:t,easeOut:i,easeInOut:r},a;return rl(e,function(o){fi[o]=Vl[o]=s,fi[a=o.toLowerCase()]=i;for(var l in s)fi[a+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=fi[o+"."+l]=s[l]}),s},mj=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},AO=function n(e,t,i){var r=t>=1?t:1,s=(i||(e?.3:.45))/(t<1?t:1),a=s/dP*(Math.asin(1/r)||0),o=function(d){return d===1?1:r*Math.pow(2,-10*d)*use((d-a)*s)+1},l=e==="out"?o:e==="in"?function(u){return 1-o(1-u)}:mj(o);return s=dP/s,l.config=function(u,d){return n(e,u,d)},l},MO=function n(e,t){t===void 0&&(t=1.70158);var i=function(a){return a?--a*a*((t+1)*a+t)+1:0},r=e==="out"?i:e==="in"?function(s){return 1-i(1-s)}:mj(i);return r.config=function(s){return n(e,s)},r};rl("Linear,Quad,Cubic,Quart,Quint,Strong",function(n,e){var t=e<5?e+1:e;by(n+",Power"+(t-1),e?function(i){return Math.pow(i,t)}:function(i){return i},function(i){return 1-Math.pow(1-i,t)},function(i){return i<.5?Math.pow(i*2,t)/2:1-Math.pow((1-i)*2,t)/2})});fi.Linear.easeNone=fi.none=fi.Linear.easeIn;by("Elastic",AO("in"),AO("out"),AO());(function(n,e){var t=1/e,i=2*t,r=2.5*t,s=function(o){return o<t?n*o*o:o<i?n*Math.pow(o-1.5/e,2)+.75:o<r?n*(o-=2.25/e)*o+.9375:n*Math.pow(o-2.625/e,2)+.984375};by("Bounce",function(a){return 1-s(1-a)},s)})(7.5625,2.75);by("Expo",function(n){return Math.pow(2,10*(n-1))*n+n*n*n*n*n*n*(1-n)});by("Circ",function(n){return-(BH(1-n*n)-1)});by("Sine",function(n){return n===1?1:-cse(n*ose)+1});by("Back",MO("in"),MO("out"),MO());fi.SteppedEase=fi.steps=Vl.SteppedEase={config:function(e,t){e===void 0&&(e=1);var i=1/e,r=e+(t?0:1),s=t?1:0,a=1-nr;return function(o){return((r*jS(0,a,o)|0)+s)*i}}};K0.ease=fi["quad.out"];rl("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(n){return KN+=n+","+n+"Params,"});var gj=function(e,t){this.id=lse++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:$H,this.set=t?t.getSetter:nL},Kx=(function(){function n(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,J0(this,+t.duration,1,1),this.data=t.data,Tr&&(this._ctx=Tr,Tr.data.push(this)),Yx||Pl.wake()}var e=n.prototype;return e.delay=function(i){return i||i===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+i-this._delay),this._delay=i,this):this._delay},e.duration=function(i){return arguments.length?this.totalDuration(this._repeat>0?i+(i+this._rDelay)*this._repeat:i):this.totalDuration()&&this._dur},e.totalDuration=function(i){return arguments.length?(this._dirty=0,J0(this,this._repeat<0?i:(i-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(i,r){if(e_(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(iM(this,i),!s._dp||s.parent||QH(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&i<this._tDur||this._ts<0&&i>0||!this._tDur&&!i)&&vh(this._dp,this,this._start-this._delay)}return(this._tTime!==i||!this._dur&&!r||this._initted&&Math.abs(this._zTime)===nr||!this._initted&&this._dur&&i||!i&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=i),XH(this,i,r)),this},e.time=function(i,r){return arguments.length?this.totalTime(Math.min(this.totalDuration(),i+Bk(this))%(this._dur+this._rDelay)||(i?this._dur:0),r):this._time},e.totalProgress=function(i,r){return arguments.length?this.totalTime(this.totalDuration()*i,r):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(i,r){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-i:i)+Bk(this),r):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(i,r){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(i-1)*s,r):this._repeat?Q0(this._tTime,s)+1:1},e.timeScale=function(i,r){if(!arguments.length)return this._rts===-nr?0:this._rts;if(this._rts===i)return this;var s=this.parent&&this._ts?pC(this.parent._time,this):this._tTime;return this._rts=+i||0,this._ts=this._ps||i===-nr?0:this._rts,this.totalTime(jS(-Math.abs(this._delay),this.totalDuration(),s),r!==!1),nM(this),bse(this)},e.paused=function(i){return arguments.length?(this._ps!==i&&(this._ps=i,i?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(e_(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==nr&&(this._tTime-=nr)))),this):this._ps},e.startTime=function(i){if(arguments.length){this._start=Lr(i);var r=this.parent||this._dp;return r&&(r._sort||!this.parent)&&vh(r,this,this._start-this._delay),this}return this._start},e.endTime=function(i){return this._start+(il(i)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(i){var r=this.parent||this._dp;return r?i&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?pC(r.rawTime(i),this):this._tTime:this._tTime},e.revert=function(i){i===void 0&&(i=gse);var r=Ta;return Ta=i,QN(this)&&(this.timeline&&this.timeline.revert(i),this.totalTime(-.01,i.suppressEvents)),this.data!=="nested"&&i.kill!==!1&&this.kill(),Ta=r,this},e.globalTime=function(i){for(var r=this,s=arguments.length?i:r.rawTime();r;)s=r._start+s/(Math.abs(r._ts)||1),r=r._dp;return!this.parent&&this._sat?this._sat.globalTime(i):s},e.repeat=function(i){return arguments.length?(this._repeat=i===1/0?-2:i,Fk(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(i){if(arguments.length){var r=this._time;return this._rDelay=i,Fk(this),r?this.time(r):this}return this._rDelay},e.yoyo=function(i){return arguments.length?(this._yoyo=i,this):this._yoyo},e.seek=function(i,r){return this.totalTime(bc(this,i),il(r))},e.restart=function(i,r){return this.play().totalTime(i?-this._delay:0,il(r)),this._dur||(this._zTime=-nr),this},e.play=function(i,r){return i!=null&&this.seek(i,r),this.reversed(!1).paused(!1)},e.reverse=function(i,r){return i!=null&&this.seek(i||this.totalDuration(),r),this.reversed(!0).paused(!1)},e.pause=function(i,r){return i!=null&&this.seek(i,r),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(i){return arguments.length?(!!i!==this.reversed()&&this.timeScale(-this._rts||(i?-nr:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-nr,this},e.isActive=function(){var i=this.parent||this._dp,r=this._start,s;return!!(!i||this._ts&&this._initted&&i.isActive()&&(s=i.rawTime(!0))>=r&&s<this.endTime(!0)-nr)},e.eventCallback=function(i,r,s){var a=this.vars;return arguments.length>1?(r?(a[i]=r,s&&(a[i+"Params"]=s),i==="onUpdate"&&(this._onUpdate=r)):delete a[i],this):a[i]},e.then=function(i){var r=this,s=r._prom;return new Promise(function(a){var o=ns(i)?i:KH,l=function(){var d=r.then;r.then=null,s&&s(),ns(o)&&(o=o(r))&&(o.then||o===r)&&(r.then=d),a(o),r.then=d};r._initted&&r.totalProgress()===1&&r._ts>=0||!r._tTime&&r._ts<0?l():r._prom=l})},e.kill=function(){W1(this)},n})();Hl(Kx.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-nr,_prom:0,_ps:!1,_rts:1});var Mo=(function(n){zH(e,n);function e(i,r){var s;return i===void 0&&(i={}),s=n.call(this,i)||this,s.labels={},s.smoothChildTiming=!!i.smoothChildTiming,s.autoRemoveChildren=!!i.autoRemoveChildren,s._sort=il(i.sortChildren),Ur&&vh(i.parent||Ur,Pd(s),r),i.reversed&&s.reverse(),i.paused&&s.paused(!0),i.scrollTrigger&&JH(Pd(s),i.scrollTrigger),s}var t=e.prototype;return t.to=function(r,s,a){return mx(0,arguments,this),this},t.from=function(r,s,a){return mx(1,arguments,this),this},t.fromTo=function(r,s,a,o){return mx(2,arguments,this),this},t.set=function(r,s,a){return s.duration=0,s.parent=this,px(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new ws(r,s,bc(this,a),1),this},t.call=function(r,s,a){return vh(this,ws.delayedCall(0,r,s),a)},t.staggerTo=function(r,s,a,o,l,u,d){return a.duration=s,a.stagger=a.stagger||o,a.onComplete=u,a.onCompleteParams=d,a.parent=this,new ws(r,a,bc(this,l)),this},t.staggerFrom=function(r,s,a,o,l,u,d){return a.runBackwards=1,px(a).immediateRender=il(a.immediateRender),this.staggerTo(r,s,a,o,l,u,d)},t.staggerFromTo=function(r,s,a,o,l,u,d,p){return o.startAt=a,px(o).immediateRender=il(o.immediateRender),this.staggerTo(r,s,o,l,u,d,p)},t.render=function(r,s,a){var o=this._time,l=this._dirty?this.totalDuration():this._tDur,u=this._dur,d=r<=0?0:Lr(r),p=this._zTime<0!=r<0&&(this._initted||!u),y,v,_,S,E,b,w,A,C,D,N,I;if(this!==Ur&&d>l&&r>=0&&(d=l),d!==this._tTime||a||p){if(o!==this._time&&u&&(d+=this._time-o,r+=this._time-o),y=d,C=this._start,A=this._ts,b=!A,p&&(u||(o=this._zTime),(r||!s)&&(this._zTime=r)),this._repeat){if(N=this._yoyo,E=u+this._rDelay,this._repeat<-1&&r<0)return this.totalTime(E*100+r,s,a);if(y=Lr(d%E),d===l?(S=this._repeat,y=u):(D=Lr(d/E),S=~~D,S&&S===D&&(y=u,S--),y>u&&(y=u)),D=Q0(this._tTime,E),!o&&this._tTime&&D!==S&&this._tTime-D*E-this._dur<=0&&(D=S),N&&S&1&&(y=u-y,I=1),S!==D&&!this._lock){var L=N&&D&1,P=L===(N&&S&1);if(S<D&&(L=!L),o=L?0:d%u?u:d,this._lock=1,this.render(o||(I?0:Lr(S*E)),s,!u)._lock=0,this._tTime=d,!s&&this.parent&&Ll(this,"onRepeat"),this.vars.repeatRefresh&&!I&&(this.invalidate()._lock=1,D=S),o&&o!==this._time||b!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(u=this._dur,l=this._tDur,P&&(this._lock=2,o=L?u:-1e-4,this.render(o,!0),this.vars.repeatRefresh&&!I&&this.invalidate()),this._lock=0,!this._ts&&!b)return this;pj(this,I)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(w=Tse(this,Lr(o),Lr(y)),w&&(d-=y-(y=w._start))),this._tTime=d,this._time=y,this._act=!A,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=r,o=0),!o&&d&&u&&!s&&!D&&(Ll(this,"onStart"),this._tTime!==d))return this;if(y>=o&&r>=0)for(v=this._first;v;){if(_=v._next,(v._act||y>=v._start)&&v._ts&&w!==v){if(v.parent!==this)return this.render(r,s,a);if(v.render(v._ts>0?(y-v._start)*v._ts:(v._dirty?v.totalDuration():v._tDur)+(y-v._start)*v._ts,s,a),y!==this._time||!this._ts&&!b){w=0,_&&(d+=this._zTime=-nr);break}}v=_}else{v=this._last;for(var U=r<0?r:y;v;){if(_=v._prev,(v._act||U<=v._end)&&v._ts&&w!==v){if(v.parent!==this)return this.render(r,s,a);if(v.render(v._ts>0?(U-v._start)*v._ts:(v._dirty?v.totalDuration():v._tDur)+(U-v._start)*v._ts,s,a||Ta&&QN(v)),y!==this._time||!this._ts&&!b){w=0,_&&(d+=this._zTime=U?-nr:nr);break}}v=_}}if(w&&!s&&(this.pause(),w.render(y>=o?0:-nr)._zTime=y>=o?1:-1,this._ts))return this._start=C,nM(this),this.render(r,s,a);this._onUpdate&&!s&&Ll(this,"onUpdate",!0),(d===l&&this._tTime>=this.totalDuration()||!d&&o)&&(C===this._start||Math.abs(A)!==Math.abs(this._ts))&&(this._lock||((r||!u)&&(d===l&&this._ts>0||!d&&this._ts<0)&&Yp(this,1),!s&&!(r<0&&!o)&&(d||o||!l)&&(Ll(this,d===l&&r>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(d<l&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(r,s){var a=this;if(nf(s)||(s=bc(this,s,r)),!(r instanceof Kx)){if(eo(r))return r.forEach(function(o){return a.add(o,s)}),this;if(aa(r))return this.addLabel(r,s);if(ns(r))r=ws.delayedCall(0,r);else return this}return this!==r?vh(this,r,s):this},t.getChildren=function(r,s,a,o){r===void 0&&(r=!0),s===void 0&&(s=!0),a===void 0&&(a=!0),o===void 0&&(o=-Cc);for(var l=[],u=this._first;u;)u._start>=o&&(u instanceof ws?s&&l.push(u):(a&&l.push(u),r&&l.push.apply(l,u.getChildren(!0,s,a)))),u=u._next;return l},t.getById=function(r){for(var s=this.getChildren(1,1,1),a=s.length;a--;)if(s[a].vars.id===r)return s[a]},t.remove=function(r){return aa(r)?this.removeLabel(r):ns(r)?this.killTweensOf(r):(r.parent===this&&tM(this,r),r===this._recent&&(this._recent=this._last),Yg(this))},t.totalTime=function(r,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Lr(Pl.time-(this._ts>0?r/this._ts:(this.totalDuration()-r)/-this._ts))),n.prototype.totalTime.call(this,r,s),this._forcing=0,this):this._tTime},t.addLabel=function(r,s){return this.labels[r]=bc(this,s),this},t.removeLabel=function(r){return delete this.labels[r],this},t.addPause=function(r,s,a){var o=ws.delayedCall(0,s||$x,a);return o.data="isPause",this._hasPause=1,vh(this,o,bc(this,r))},t.removePause=function(r){var s=this._first;for(r=bc(this,r);s;)s._start===r&&s.data==="isPause"&&Yp(s),s=s._next},t.killTweensOf=function(r,s,a){for(var o=this.getTweensOf(r,a),l=o.length;l--;)Mp!==o[l]&&o[l].kill(r,s);return this},t.getTweensOf=function(r,s){for(var a=[],o=Ac(r),l=this._first,u=nf(s),d;l;)l instanceof ws?yse(l._targets,o)&&(u?(!Mp||l._initted&&l._ts)&&l.globalTime(0)<=s&&l.globalTime(l.totalDuration())>s:!s||l.isActive())&&a.push(l):(d=l.getTweensOf(o,s)).length&&a.push.apply(a,d),l=l._next;return a},t.tweenTo=function(r,s){s=s||{};var a=this,o=bc(a,r),l=s,u=l.startAt,d=l.onStart,p=l.onStartParams,y=l.immediateRender,v,_=ws.to(a,Hl({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:o,overwrite:"auto",duration:s.duration||Math.abs((o-(u&&"time"in u?u.time:a._time))/a.timeScale())||nr,onStart:function(){if(a.pause(),!v){var E=s.duration||Math.abs((o-(u&&"time"in u?u.time:a._time))/a.timeScale());_._dur!==E&&J0(_,E,0,1).render(_._time,!0,!0),v=1}d&&d.apply(_,p||[])}},s));return y?_.render(0):_},t.tweenFromTo=function(r,s,a){return this.tweenTo(s,Hl({startAt:{time:bc(this,r)}},a))},t.recent=function(){return this._recent},t.nextLabel=function(r){return r===void 0&&(r=this._time),Vk(this,bc(this,r))},t.previousLabel=function(r){return r===void 0&&(r=this._time),Vk(this,bc(this,r),1)},t.currentLabel=function(r){return arguments.length?this.seek(r,!0):this.previousLabel(this._time+nr)},t.shiftChildren=function(r,s,a){a===void 0&&(a=0);var o=this._first,l=this.labels,u;for(r=Lr(r);o;)o._start>=a&&(o._start+=r,o._end+=r),o=o._next;if(s)for(u in l)l[u]>=a&&(l[u]+=r);return Yg(this)},t.invalidate=function(r){var s=this._first;for(this._lock=0;s;)s.invalidate(r),s=s._next;return n.prototype.invalidate.call(this,r)},t.clear=function(r){r===void 0&&(r=!0);for(var s=this._first,a;s;)a=s._next,this.remove(s),s=a;return this._dp&&(this._time=this._tTime=this._pTime=0),r&&(this.labels={}),Yg(this)},t.totalDuration=function(r){var s=0,a=this,o=a._last,l=Cc,u,d,p;if(arguments.length)return a.timeScale((a._repeat<0?a.duration():a.totalDuration())/(a.reversed()?-r:r));if(a._dirty){for(p=a.parent;o;)u=o._prev,o._dirty&&o.totalDuration(),d=o._start,d>l&&a._sort&&o._ts&&!a._lock?(a._lock=1,vh(a,o,d-o._delay,1)._lock=0):l=d,d<0&&o._ts&&(s-=d,(!p&&!a._dp||p&&p.smoothChildTiming)&&(a._start+=Lr(d/a._ts),a._time-=d,a._tTime-=d),a.shiftChildren(-d,!1,-1/0),l=0),o._end>s&&o._ts&&(s=o._end),o=u;J0(a,a===Ur&&a._time>s?a._time:s,1,1),a._dirty=0}return a._tDur},e.updateRoot=function(r){if(Ur._ts&&(XH(Ur,pC(r,Ur)),WH=Pl.frame),Pl.frame>=kk){kk+=kl.autoSleep||120;var s=Ur._first;if((!s||!s._ts)&&kl.autoSleep&&Pl._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||Pl.sleep()}}},e})(Kx);Hl(Mo.prototype,{_lock:0,_hasPause:0,_forcing:0});var Fse=function(e,t,i,r,s,a,o){var l=new sl(this._pt,e,t,0,1,Sj,null,s),u=0,d=0,p,y,v,_,S,E,b,w;for(l.b=i,l.e=r,i+="",r+="",(b=~r.indexOf("random("))&&(r=Xx(r)),a&&(w=[i,r],a(w,e,t),i=w[0],r=w[1]),y=i.match(TO)||[];p=TO.exec(r);)_=p[0],S=r.substring(u,p.index),v?v=(v+1)%5:S.substr(-5)==="rgba("&&(v=1),_!==y[d++]&&(E=parseFloat(y[d-1])||0,l._pt={_next:l._pt,p:S||d===1?S:",",s:E,c:_.charAt(1)==="="?N0(E,_)-E:parseFloat(_)-E,m:v&&v<4?Math.round:0},u=TO.lastIndex);return l.c=u<r.length?r.substring(u,r.length):"",l.fp=o,(HH.test(r)||b)&&(l.e=0),this._pt=l,l},JN=function(e,t,i,r,s,a,o,l,u,d){ns(r)&&(r=r(s||0,e,a));var p=e[t],y=i!=="get"?i:ns(p)?u?e[t.indexOf("set")||!ns(e["get"+t.substr(3)])?t:"get"+t.substr(3)](u):e[t]():p,v=ns(p)?u?qse:bj:tL,_;if(aa(r)&&(~r.indexOf("random(")&&(r=Xx(r)),r.charAt(1)==="="&&(_=N0(y,r)+(Qa(y)||0),(_||_===0)&&(r=_))),!d||y!==r||bP)return!isNaN(y*r)&&r!==""?(_=new sl(this._pt,e,t,+y||0,r-(y||0),typeof p=="boolean"?$se:xj,0,v),u&&(_.fp=u),o&&_.modifier(o,this,e),this._pt=_):(!p&&!(t in e)&&XN(t,r),Fse.call(this,e,t,y,r,v,l||kl.stringFilter,u))},Vse=function(e,t,i,r,s){if(ns(e)&&(e=gx(e,s,t,i,r)),!kh(e)||e.style&&e.nodeType||eo(e)||FH(e))return aa(e)?gx(e,s,t,i,r):e;var a={},o;for(o in e)a[o]=gx(e[o],s,t,i,r);return a},yj=function(e,t,i,r,s,a){var o,l,u,d;if(Il[e]&&(o=new Il[e]).init(s,o.rawVars?t[e]:Vse(t[e],r,s,a,i),i,r,a)!==!1&&(i._pt=l=new sl(i._pt,s,e,0,1,o.render,o,0,o.priority),i!==x0))for(u=i._ptLookup[i._targets.indexOf(s)],d=o._props.length;d--;)u[o._props[d]]=l;return o},Mp,bP,eL=function n(e,t,i){var r=e.vars,s=r.ease,a=r.startAt,o=r.immediateRender,l=r.lazy,u=r.onUpdate,d=r.runBackwards,p=r.yoyoEase,y=r.keyframes,v=r.autoRevert,_=e._dur,S=e._startAt,E=e._targets,b=e.parent,w=b&&b.data==="nested"?b.vars.targets:E,A=e._overwrite==="auto"&&!GN,C=e.timeline,D,N,I,L,P,U,F,z,V,Y,ee,q,$;if(C&&(!y||!s)&&(s="none"),e._ease=Kg(s,K0.ease),e._yEase=p?fj(Kg(p===!0?s:p,K0.ease)):0,p&&e._yoyo&&!e._repeat&&(p=e._yEase,e._yEase=e._ease,e._ease=p),e._from=!C&&!!r.runBackwards,!C||y&&!r.stagger){if(z=E[0]?Xg(E[0]).harness:0,q=z&&r[z.prop],D=fC(r,YN),S&&(S._zTime<0&&S.progress(1),t<0&&d&&o&&!v?S.render(-1,!0):S.revert(d&&_?E2:mse),S._lazy=0),a){if(Yp(e._startAt=ws.set(E,Hl({data:"isStart",overwrite:!1,parent:b,immediateRender:!0,lazy:!S&&il(l),startAt:null,delay:0,onUpdate:u&&function(){return Ll(e,"onUpdate")},stagger:0},a))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(Ta||!o&&!v)&&e._startAt.revert(E2),o&&_&&t<=0&&i<=0){t&&(e._zTime=t);return}}else if(d&&_&&!S){if(t&&(o=!1),I=Hl({overwrite:!1,data:"isFromStart",lazy:o&&!S&&il(l),immediateRender:o,stagger:0,parent:b},D),q&&(I[z.prop]=q),Yp(e._startAt=ws.set(E,I)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(Ta?e._startAt.revert(E2):e._startAt.render(-1,!0)),e._zTime=t,!o)n(e._startAt,nr,nr);else if(!t)return}for(e._pt=e._ptCache=0,l=_&&il(l)||l&&!_,N=0;N<E.length;N++){if(P=E[N],F=P._gsap||ZN(E)[N]._gsap,e._ptLookup[N]=Y={},pP[F.id]&&kp.length&&dC(),ee=w===E?N:w.indexOf(P),z&&(V=new z).init(P,q||D,e,ee,w)!==!1&&(e._pt=L=new sl(e._pt,P,V.name,0,1,V.render,V,0,V.priority),V._props.forEach(function(Q){Y[Q]=L}),V.priority&&(U=1)),!z||q)for(I in D)Il[I]&&(V=yj(I,D,e,ee,P,w))?V.priority&&(U=1):Y[I]=L=JN.call(e,P,I,"get",D[I],ee,w,0,r.stringFilter);e._op&&e._op[N]&&e.kill(P,e._op[N]),A&&e._pt&&(Mp=e,Ur.killTweensOf(P,Y,e.globalTime(t)),$=!e.parent,Mp=0),e._pt&&l&&(pP[F.id]=1)}U&&Ej(e),e._onInit&&e._onInit(e)}e._onUpdate=u,e._initted=(!e._op||e._pt)&&!$,y&&t<=0&&C.render(Cc,!0,!0)},Hse=function(e,t,i,r,s,a,o,l){var u=(e._pt&&e._ptCache||(e._ptCache={}))[t],d,p,y,v;if(!u)for(u=e._ptCache[t]=[],y=e._ptLookup,v=e._targets.length;v--;){if(d=y[v][t],d&&d.d&&d.d._pt)for(d=d.d._pt;d&&d.p!==t&&d.fp!==t;)d=d._next;if(!d)return bP=1,e.vars[t]="+=0",eL(e,o),bP=0,l?Wx(t+" not eligible for reset"):1;u.push(d)}for(v=u.length;v--;)p=u[v],d=p._pt||p,d.s=(r||r===0)&&!s?r:d.s+(r||0)+a*d.c,d.c=i-d.s,p.e&&(p.e=fs(i)+Qa(p.e)),p.b&&(p.b=d.s+Qa(p.b))},jse=function(e,t){var i=e[0]?Xg(e[0]).harness:0,r=i&&i.aliases,s,a,o,l;if(!r)return t;s=Z0({},t);for(a in r)if(a in s)for(l=r[a].split(","),o=l.length;o--;)s[l[o]]=s[a];return s},Gse=function(e,t,i,r){var s=t.ease||r||"power1.inOut",a,o;if(eo(t))o=i[e]||(i[e]=[]),t.forEach(function(l,u){return o.push({t:u/(t.length-1)*100,v:l,e:s})});else for(a in t)o=i[a]||(i[a]=[]),a==="ease"||o.push({t:parseFloat(e),v:t[a],e:s})},gx=function(e,t,i,r,s){return ns(e)?e.call(t,i,r,s):aa(e)&&~e.indexOf("random(")?Xx(e):e},vj=KN+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",_j={};rl(vj+",id,stagger,delay,duration,paused,scrollTrigger",function(n){return _j[n]=1});var ws=(function(n){zH(e,n);function e(i,r,s,a){var o;typeof r=="number"&&(s.duration=r,r=s,s=null),o=n.call(this,a?r:px(r))||this;var l=o.vars,u=l.duration,d=l.delay,p=l.immediateRender,y=l.stagger,v=l.overwrite,_=l.keyframes,S=l.defaults,E=l.scrollTrigger,b=l.yoyoEase,w=r.parent||Ur,A=(eo(i)||FH(i)?nf(i[0]):"length"in r)?[i]:Ac(i),C,D,N,I,L,P,U,F;if(o._targets=A.length?ZN(A):Wx("GSAP target "+i+" not found. https://gsap.com",!kl.nullTargetWarn)||[],o._ptLookup=[],o._overwrite=v,_||y||IT(u)||IT(d)){if(r=o.vars,C=o.timeline=new Mo({data:"nested",defaults:S||{},targets:w&&w.data==="nested"?w.vars.targets:A}),C.kill(),C.parent=C._dp=Pd(o),C._start=0,y||IT(u)||IT(d)){if(I=A.length,U=y&&ij(y),kh(y))for(L in y)~vj.indexOf(L)&&(F||(F={}),F[L]=y[L]);for(D=0;D<I;D++)N=fC(r,_j),N.stagger=0,b&&(N.yoyoEase=b),F&&Z0(N,F),P=A[D],N.duration=+gx(u,Pd(o),D,P,A),N.delay=(+gx(d,Pd(o),D,P,A)||0)-o._delay,!y&&I===1&&N.delay&&(o._delay=d=N.delay,o._start+=d,N.delay=0),C.to(P,N,U?U(D,P,A):0),C._ease=fi.none;C.duration()?u=d=0:o.timeline=0}else if(_){px(Hl(C.vars.defaults,{ease:"none"})),C._ease=Kg(_.ease||r.ease||"none");var z=0,V,Y,ee;if(eo(_))_.forEach(function(q){return C.to(A,q,">")}),C.duration();else{N={};for(L in _)L==="ease"||L==="easeEach"||Gse(L,_[L],N,_.easeEach);for(L in N)for(V=N[L].sort(function(q,$){return q.t-$.t}),z=0,D=0;D<V.length;D++)Y=V[D],ee={ease:Y.e,duration:(Y.t-(D?V[D-1].t:0))/100*u},ee[L]=Y.v,C.to(A,ee,z),z+=ee.duration;C.duration()<u&&C.to({},{duration:u-C.duration()})}}u||o.duration(u=C.duration())}else o.timeline=0;return v===!0&&!GN&&(Mp=Pd(o),Ur.killTweensOf(A),Mp=0),vh(w,Pd(o),s),r.reversed&&o.reverse(),r.paused&&o.paused(!0),(p||!u&&!_&&o._start===Lr(w._time)&&il(p)&&xse(Pd(o))&&w.data!=="nested")&&(o._tTime=-nr,o.render(Math.max(0,-d)||0)),E&&JH(Pd(o),E),o}var t=e.prototype;return t.render=function(r,s,a){var o=this._time,l=this._tDur,u=this._dur,d=r<0,p=r>l-nr&&!d?l:r<nr?0:r,y,v,_,S,E,b,w,A,C;if(!u)Ese(this,r,s,a);else if(p!==this._tTime||!r||a||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==d||this._lazy){if(y=p,A=this.timeline,this._repeat){if(S=u+this._rDelay,this._repeat<-1&&d)return this.totalTime(S*100+r,s,a);if(y=Lr(p%S),p===l?(_=this._repeat,y=u):(E=Lr(p/S),_=~~E,_&&_===E?(y=u,_--):y>u&&(y=u)),b=this._yoyo&&_&1,b&&(C=this._yEase,y=u-y),E=Q0(this._tTime,S),y===o&&!a&&this._initted&&_===E)return this._tTime=p,this;_!==E&&(A&&this._yEase&&pj(A,b),this.vars.repeatRefresh&&!b&&!this._lock&&y!==S&&this._initted&&(this._lock=a=1,this.render(Lr(S*_),!0).invalidate()._lock=0))}if(!this._initted){if(ej(this,d?r:y,a,s,p))return this._tTime=0,this;if(o!==this._time&&!(a&&this.vars.repeatRefresh&&_!==E))return this;if(u!==this._dur)return this.render(r,s,a)}if(this._tTime=p,this._time=y,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=w=(C||this._ease)(y/u),this._from&&(this.ratio=w=1-w),!o&&p&&!s&&!E&&(Ll(this,"onStart"),this._tTime!==p))return this;for(v=this._pt;v;)v.r(w,v.d),v=v._next;A&&A.render(r<0?r:A._dur*A._ease(y/this._dur),s,a)||this._startAt&&(this._zTime=r),this._onUpdate&&!s&&(d&&mP(this,r,s,a),Ll(this,"onUpdate")),this._repeat&&_!==E&&this.vars.onRepeat&&!s&&this.parent&&Ll(this,"onRepeat"),(p===this._tDur||!p)&&this._tTime===p&&(d&&!this._onUpdate&&mP(this,r,!0,!0),(r||!u)&&(p===this._tDur&&this._ts>0||!p&&this._ts<0)&&Yp(this,1),!s&&!(d&&!o)&&(p||o||b)&&(Ll(this,p===l?"onComplete":"onReverseComplete",!0),this._prom&&!(p<l&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(r){return(!r||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(r),n.prototype.invalidate.call(this,r)},t.resetTo=function(r,s,a,o,l){Yx||Pl.wake(),this._ts||this.play();var u=Math.min(this._dur,(this._dp._time-this._start)*this._ts),d;return this._initted||eL(this,u),d=this._ease(u/this._dur),Hse(this,r,s,a,o,d,u,l)?this.resetTo(r,s,a,o,1):(iM(this,0),this.parent||ZH(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(r,s){if(s===void 0&&(s="all"),!r&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?W1(this):this.scrollTrigger&&this.scrollTrigger.kill(!!Ta),this;if(this.timeline){var a=this.timeline.totalDuration();return this.timeline.killTweensOf(r,s,Mp&&Mp.vars.overwrite!==!0)._first||W1(this),this.parent&&a!==this.timeline.totalDuration()&&J0(this,this._dur*this.timeline._tDur/a,0,1),this}var o=this._targets,l=r?Ac(r):o,u=this._ptLookup,d=this._pt,p,y,v,_,S,E,b;if((!s||s==="all")&&_se(o,l))return s==="all"&&(this._pt=0),W1(this);for(p=this._op=this._op||[],s!=="all"&&(aa(s)&&(S={},rl(s,function(w){return S[w]=1}),s=S),s=jse(o,s)),b=o.length;b--;)if(~l.indexOf(o[b])){y=u[b],s==="all"?(p[b]=s,_=y,v={}):(v=p[b]=p[b]||{},_=s);for(S in _)E=y&&y[S],E&&((!("kill"in E.d)||E.d.kill(S)===!0)&&tM(this,E,"_pt"),delete y[S]),v!=="all"&&(v[S]=1)}return this._initted&&!this._pt&&d&&W1(this),this},e.to=function(r,s){return new e(r,s,arguments[2])},e.from=function(r,s){return mx(1,arguments)},e.delayedCall=function(r,s,a,o){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:r,onComplete:s,onReverseComplete:s,onCompleteParams:a,onReverseCompleteParams:a,callbackScope:o})},e.fromTo=function(r,s,a){return mx(2,arguments)},e.set=function(r,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(r,s)},e.killTweensOf=function(r,s,a){return Ur.killTweensOf(r,s,a)},e})(Kx);Hl(ws.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});rl("staggerTo,staggerFrom,staggerFromTo",function(n){ws[n]=function(){var e=new Mo,t=yP.call(arguments,0);return t.splice(n==="staggerFromTo"?5:4,0,0),e[n].apply(e,t)}});var tL=function(e,t,i){return e[t]=i},bj=function(e,t,i){return e[t](i)},qse=function(e,t,i,r){return e[t](r.fp,i)},Wse=function(e,t,i){return e.setAttribute(t,i)},nL=function(e,t){return ns(e[t])?bj:qN(e[t])&&e.setAttribute?Wse:tL},xj=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},$se=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},Sj=function(e,t){var i=t._pt,r="";if(!e&&t.b)r=t.b;else if(e===1&&t.e)r=t.e;else{for(;i;)r=i.p+(i.m?i.m(i.s+i.c*e):Math.round((i.s+i.c*e)*1e4)/1e4)+r,i=i._next;r+=t.c}t.set(t.t,t.p,r,t)},iL=function(e,t){for(var i=t._pt;i;)i.r(e,i.d),i=i._next},Xse=function(e,t,i,r){for(var s=this._pt,a;s;)a=s._next,s.p===r&&s.modifier(e,t,i),s=a},Yse=function(e){for(var t=this._pt,i,r;t;)r=t._next,t.p===e&&!t.op||t.op===e?tM(this,t,"_pt"):t.dep||(i=1),t=r;return!i},Kse=function(e,t,i,r){r.mSet(e,t,r.m.call(r.tween,i,r.mt),r)},Ej=function(e){for(var t=e._pt,i,r,s,a;t;){for(i=t._next,r=s;r&&r.pr>t.pr;)r=r._next;(t._prev=r?r._prev:a)?t._prev._next=t:s=t,(t._next=r)?r._prev=t:a=t,t=i}e._pt=s},sl=(function(){function n(t,i,r,s,a,o,l,u,d){this.t=i,this.s=s,this.c=a,this.p=r,this.r=o||xj,this.d=l||this,this.set=u||tL,this.pr=d||0,this._next=t,t&&(t._prev=this)}var e=n.prototype;return e.modifier=function(i,r,s){this.mSet=this.mSet||this.set,this.set=Kse,this.m=i,this.mt=s,this.tween=r},n})();rl(KN+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(n){return YN[n]=1});Vl.TweenMax=Vl.TweenLite=ws;Vl.TimelineLite=Vl.TimelineMax=Mo;Ur=new Mo({sortChildren:!1,defaults:K0,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});kl.stringFilter=dj;var Zg=[],w2={},Zse=[],jk=0,Qse=0,RO=function(e){return(w2[e]||Zse).map(function(t){return t()})},xP=function(){var e=Date.now(),t=[];e-jk>2&&(RO("matchMediaInit"),Zg.forEach(function(i){var r=i.queries,s=i.conditions,a,o,l,u;for(o in r)a=fh.matchMedia(r[o]).matches,a&&(l=1),a!==s[o]&&(s[o]=a,u=1);u&&(i.revert(),l&&t.push(i))}),RO("matchMediaRevert"),t.forEach(function(i){return i.onMatch(i,function(r){return i.add(null,r)})}),jk=e,RO("matchMedia"))},Tj=(function(){function n(t,i){this.selector=i&&vP(i),this.data=[],this._r=[],this.isReverted=!1,this.id=Qse++,t&&this.add(t)}var e=n.prototype;return e.add=function(i,r,s){ns(i)&&(s=r,r=i,i=ns);var a=this,o=function(){var u=Tr,d=a.selector,p;return u&&u!==a&&u.data.push(a),s&&(a.selector=vP(s)),Tr=a,p=r.apply(a,arguments),ns(p)&&a._r.push(p),Tr=u,a.selector=d,a.isReverted=!1,p};return a.last=o,i===ns?o(a,function(l){return a.add(null,l)}):i?a[i]=o:o},e.ignore=function(i){var r=Tr;Tr=null,i(this),Tr=r},e.getTweens=function(){var i=[];return this.data.forEach(function(r){return r instanceof n?i.push.apply(i,r.getTweens()):r instanceof ws&&!(r.parent&&r.parent.data==="nested")&&i.push(r)}),i},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(i,r){var s=this;if(i?(function(){for(var o=s.getTweens(),l=s.data.length,u;l--;)u=s.data[l],u.data==="isFlip"&&(u.revert(),u.getChildren(!0,!0,!1).forEach(function(d){return o.splice(o.indexOf(d),1)}));for(o.map(function(d){return{g:d._dur||d._delay||d._sat&&!d._sat.vars.immediateRender?d.globalTime(0):-1/0,t:d}}).sort(function(d,p){return p.g-d.g||-1/0}).forEach(function(d){return d.t.revert(i)}),l=s.data.length;l--;)u=s.data[l],u instanceof Mo?u.data!=="nested"&&(u.scrollTrigger&&u.scrollTrigger.revert(),u.kill()):!(u instanceof ws)&&u.revert&&u.revert(i);s._r.forEach(function(d){return d(i,s)}),s.isReverted=!0})():this.data.forEach(function(o){return o.kill&&o.kill()}),this.clear(),r)for(var a=Zg.length;a--;)Zg[a].id===this.id&&Zg.splice(a,1)},e.revert=function(i){this.kill(i||{})},n})(),Jse=(function(){function n(t){this.contexts=[],this.scope=t,Tr&&Tr.data.push(this)}var e=n.prototype;return e.add=function(i,r,s){kh(i)||(i={matches:i});var a=new Tj(0,s||this.scope),o=a.conditions={},l,u,d;Tr&&!a.selector&&(a.selector=Tr.selector),this.contexts.push(a),r=a.add("onMatch",r),a.queries=i;for(u in i)u==="all"?d=1:(l=fh.matchMedia(i[u]),l&&(Zg.indexOf(a)<0&&Zg.push(a),(o[u]=l.matches)&&(d=1),l.addListener?l.addListener(xP):l.addEventListener("change",xP)));return d&&r(a,function(p){return a.add(null,p)}),this},e.revert=function(i){this.kill(i||{})},e.kill=function(i){this.contexts.forEach(function(r){return r.kill(i,!0)})},n})(),mC={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t.forEach(function(r){return cj(r)})},timeline:function(e){return new Mo(e)},getTweensOf:function(e,t){return Ur.getTweensOf(e,t)},getProperty:function(e,t,i,r){aa(e)&&(e=Ac(e)[0]);var s=Xg(e||{}).get,a=i?KH:YH;return i==="native"&&(i=""),e&&(t?a((Il[t]&&Il[t].get||s)(e,t,i,r)):function(o,l,u){return a((Il[o]&&Il[o].get||s)(e,o,l,u))})},quickSetter:function(e,t,i){if(e=Ac(e),e.length>1){var r=e.map(function(d){return cl.quickSetter(d,t,i)}),s=r.length;return function(d){for(var p=s;p--;)r[p](d)}}e=e[0]||{};var a=Il[t],o=Xg(e),l=o.harness&&(o.harness.aliases||{})[t]||t,u=a?function(d){var p=new a;x0._pt=0,p.init(e,i?d+i:d,x0,0,[e]),p.render(1,p),x0._pt&&iL(1,x0)}:o.set(e,l);return a?u:function(d){return u(e,l,i?d+i:d,o,1)}},quickTo:function(e,t,i){var r,s=cl.to(e,Hl((r={},r[t]="+=0.1",r.paused=!0,r.stagger=0,r),i||{})),a=function(l,u,d){return s.resetTo(t,l,u,d)};return a.tween=s,a},isTweening:function(e){return Ur.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Kg(e.ease,K0.ease)),zk(K0,e||{})},config:function(e){return zk(kl,e||{})},registerEffect:function(e){var t=e.name,i=e.effect,r=e.plugins,s=e.defaults,a=e.extendTimeline;(r||"").split(",").forEach(function(o){return o&&!Il[o]&&!Vl[o]&&Wx(t+" effect requires "+o+" plugin.")}),wO[t]=function(o,l,u){return i(Ac(o),Hl(l||{},s),u)},a&&(Mo.prototype[t]=function(o,l,u){return this.add(wO[t](o,kh(l)?l:(u=l)&&{},this),u)})},registerEase:function(e,t){fi[e]=Kg(t)},parseEase:function(e,t){return arguments.length?Kg(e,t):fi},getById:function(e){return Ur.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var i=new Mo(e),r,s;for(i.smoothChildTiming=il(e.smoothChildTiming),Ur.remove(i),i._dp=0,i._time=i._tTime=Ur._time,r=Ur._first;r;)s=r._next,(t||!(!r._dur&&r instanceof ws&&r.vars.onComplete===r._targets[0]))&&vh(i,r,r._start-r._delay),r=s;return vh(Ur,i,0),i},context:function(e,t){return e?new Tj(e,t):Tr},matchMedia:function(e){return new Jse(e)},matchMediaRefresh:function(){return Zg.forEach(function(e){var t=e.conditions,i,r;for(r in t)t[r]&&(t[r]=!1,i=1);i&&e.revert()})||xP()},addEventListener:function(e,t){var i=w2[e]||(w2[e]=[]);~i.indexOf(t)||i.push(t)},removeEventListener:function(e,t){var i=w2[e],r=i&&i.indexOf(t);r>=0&&i.splice(r,1)},utils:{wrap:Ise,wrapYoyo:Pse,distribute:ij,random:sj,snap:rj,normalize:Ose,getUnit:Qa,clamp:Cse,splitColor:uj,toArray:Ac,selector:vP,mapRange:oj,pipe:Mse,unitize:Rse,interpolate:Dse,shuffle:nj},install:GH,effects:wO,ticker:Pl,updateRoot:Mo.updateRoot,plugins:Il,globalTimeline:Ur,core:{PropTween:sl,globals:qH,Tween:ws,Timeline:Mo,Animation:Kx,getCache:Xg,_removeLinkedListItem:tM,reverting:function(){return Ta},context:function(e){return e&&Tr&&(Tr.data.push(e),e._ctx=Tr),Tr},suppressOverwrites:function(e){return GN=e}}};rl("to,from,fromTo,delayedCall,set,killTweensOf",function(n){return mC[n]=ws[n]});Pl.add(Mo.updateRoot);x0=mC.to({},{duration:0});var eae=function(e,t){for(var i=e._pt;i&&i.p!==t&&i.op!==t&&i.fp!==t;)i=i._next;return i},tae=function(e,t){var i=e._targets,r,s,a;for(r in t)for(s=i.length;s--;)a=e._ptLookup[s][r],a&&(a=a.d)&&(a._pt&&(a=eae(a,r)),a&&a.modifier&&a.modifier(t[r],e,i[s],r))},OO=function(e,t){return{name:e,headless:1,rawVars:1,init:function(r,s,a){a._onInit=function(o){var l,u;if(aa(s)&&(l={},rl(s,function(d){return l[d]=1}),s=l),t){l={};for(u in s)l[u]=t(s[u]);s=l}tae(o,s)}}}},cl=mC.registerPlugin({name:"attr",init:function(e,t,i,r,s){var a,o,l;this.tween=i;for(a in t)l=e.getAttribute(a)||"",o=this.add(e,"setAttribute",(l||0)+"",t[a],r,s,0,0,a),o.op=a,o.b=l,this._props.push(a)},render:function(e,t){for(var i=t._pt;i;)Ta?i.set(i.t,i.p,i.b,i):i.r(e,i.d),i=i._next}},{name:"endArray",headless:1,init:function(e,t){for(var i=t.length;i--;)this.add(e,i,e[i]||0,t[i],0,0,0,0,0,1)}},OO("roundProps",_P),OO("modifiers"),OO("snap",rj))||mC;ws.version=Mo.version=cl.version="3.14.2";jH=1;WN()&&e_();fi.Power0;fi.Power1;fi.Power2;fi.Power3;fi.Power4;fi.Linear;fi.Quad;fi.Cubic;fi.Quart;fi.Quint;fi.Strong;fi.Elastic;fi.Back;fi.SteppedEase;fi.Bounce;fi.Sine;fi.Expo;fi.Circ;/*!
 * CSSPlugin 3.14.2
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Gk,Rp,L0,rL,Bg,qk,sL,nae=function(){return typeof window<"u"},rf={},Mg=180/Math.PI,U0=Math.PI/180,wv=Math.atan2,Wk=1e8,aL=/([A-Z])/g,iae=/(left|right|width|margin|padding|x)/i,rae=/[\s,\(]\S/,xh={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},SP=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},sae=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},aae=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},oae=function(e,t){return t.set(t.t,t.p,e===1?t.e:e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},lae=function(e,t){var i=t.s+t.c*e;t.set(t.t,t.p,~~(i+(i<0?-.5:.5))+t.u,t)},wj=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},Cj=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},cae=function(e,t,i){return e.style[t]=i},uae=function(e,t,i){return e.style.setProperty(t,i)},hae=function(e,t,i){return e._gsap[t]=i},dae=function(e,t,i){return e._gsap.scaleX=e._gsap.scaleY=i},fae=function(e,t,i,r,s){var a=e._gsap;a.scaleX=a.scaleY=i,a.renderTransform(s,a)},pae=function(e,t,i,r,s){var a=e._gsap;a[t]=i,a.renderTransform(s,a)},kr="transform",al=kr+"Origin",mae=function n(e,t){var i=this,r=this.target,s=r.style,a=r._gsap;if(e in rf&&s){if(this.tfm=this.tfm||{},e!=="transform")e=xh[e]||e,~e.indexOf(",")?e.split(",").forEach(function(o){return i.tfm[o]=Nd(r,o)}):this.tfm[e]=a.x?a[e]:Nd(r,e),e===al&&(this.tfm.zOrigin=a.zOrigin);else return xh.transform.split(",").forEach(function(o){return n.call(i,o,t)});if(this.props.indexOf(kr)>=0)return;a.svg&&(this.svgo=r.getAttribute("data-svg-origin"),this.props.push(al,t,"")),e=kr}(s||t)&&this.props.push(e,t,s[e])},Aj=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},gae=function(){var e=this.props,t=this.target,i=t.style,r=t._gsap,s,a;for(s=0;s<e.length;s+=3)e[s+1]?e[s+1]===2?t[e[s]](e[s+2]):t[e[s]]=e[s+2]:e[s+2]?i[e[s]]=e[s+2]:i.removeProperty(e[s].substr(0,2)==="--"?e[s]:e[s].replace(aL,"-$1").toLowerCase());if(this.tfm){for(a in this.tfm)r[a]=this.tfm[a];r.svg&&(r.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),s=sL(),(!s||!s.isStart)&&!i[kr]&&(Aj(i),r.zOrigin&&i[al]&&(i[al]+=" "+r.zOrigin+"px",r.zOrigin=0,r.renderTransform()),r.uncache=1)}},Mj=function(e,t){var i={target:e,props:[],revert:gae,save:mae};return e._gsap||cl.core.getCache(e),t&&e.style&&e.nodeType&&t.split(",").forEach(function(r){return i.save(r)}),i},Rj,EP=function(e,t){var i=Rp.createElementNS?Rp.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Rp.createElement(e);return i&&i.style?i:Rp.createElement(e)},Ul=function n(e,t,i){var r=getComputedStyle(e);return r[t]||r.getPropertyValue(t.replace(aL,"-$1").toLowerCase())||r.getPropertyValue(t)||!i&&n(e,t_(t)||t,1)||""},$k="O,Moz,ms,Ms,Webkit".split(","),t_=function(e,t,i){var r=t||Bg,s=r.style,a=5;if(e in s&&!i)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);a--&&!($k[a]+e in s););return a<0?null:(a===3?"ms":a>=0?$k[a]:"")+e},TP=function(){nae()&&window.document&&(Gk=window,Rp=Gk.document,L0=Rp.documentElement,Bg=EP("div")||{style:{}},EP("div"),kr=t_(kr),al=kr+"Origin",Bg.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Rj=!!t_("perspective"),sL=cl.core.reverting,rL=1)},Xk=function(e){var t=e.ownerSVGElement,i=EP("svg",t&&t.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=e.cloneNode(!0),s;r.style.display="block",i.appendChild(r),L0.appendChild(i);try{s=r.getBBox()}catch{}return i.removeChild(r),L0.removeChild(i),s},Yk=function(e,t){for(var i=t.length;i--;)if(e.hasAttribute(t[i]))return e.getAttribute(t[i])},Oj=function(e){var t,i;try{t=e.getBBox()}catch{t=Xk(e),i=1}return t&&(t.width||t.height)||i||(t=Xk(e)),t&&!t.width&&!t.x&&!t.y?{x:+Yk(e,["x","cx","x1"])||0,y:+Yk(e,["y","cy","y1"])||0,width:0,height:0}:t},Ij=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&Oj(e))},Kp=function(e,t){if(t){var i=e.style,r;t in rf&&t!==al&&(t=kr),i.removeProperty?(r=t.substr(0,2),(r==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),i.removeProperty(r==="--"?t:t.replace(aL,"-$1").toLowerCase())):i.removeAttribute(t)}},Op=function(e,t,i,r,s,a){var o=new sl(e._pt,t,i,0,1,a?Cj:wj);return e._pt=o,o.b=r,o.e=s,e._props.push(i),o},Kk={deg:1,rad:1,turn:1},yae={grid:1,flex:1},Zp=function n(e,t,i,r){var s=parseFloat(i)||0,a=(i+"").trim().substr((s+"").length)||"px",o=Bg.style,l=iae.test(t),u=e.tagName.toLowerCase()==="svg",d=(u?"client":"offset")+(l?"Width":"Height"),p=100,y=r==="px",v=r==="%",_,S,E,b;if(r===a||!s||Kk[r]||Kk[a])return s;if(a!=="px"&&!y&&(s=n(e,t,i,"px")),b=e.getCTM&&Ij(e),(v||a==="%")&&(rf[t]||~t.indexOf("adius")))return _=b?e.getBBox()[l?"width":"height"]:e[d],fs(v?s/_*p:s/100*_);if(o[l?"width":"height"]=p+(y?a:r),S=r!=="rem"&&~t.indexOf("adius")||r==="em"&&e.appendChild&&!u?e:e.parentNode,b&&(S=(e.ownerSVGElement||{}).parentNode),(!S||S===Rp||!S.appendChild)&&(S=Rp.body),E=S._gsap,E&&v&&E.width&&l&&E.time===Pl.time&&!E.uncache)return fs(s/E.width*p);if(v&&(t==="height"||t==="width")){var w=e.style[t];e.style[t]=p+r,_=e[d],w?e.style[t]=w:Kp(e,t)}else(v||a==="%")&&!yae[Ul(S,"display")]&&(o.position=Ul(e,"position")),S===e&&(o.position="static"),S.appendChild(Bg),_=Bg[d],S.removeChild(Bg),o.position="absolute";return l&&v&&(E=Xg(S),E.time=Pl.time,E.width=S[d]),fs(y?_*s/p:_&&s?p/_*s:0)},Nd=function(e,t,i,r){var s;return rL||TP(),t in xh&&t!=="transform"&&(t=xh[t],~t.indexOf(",")&&(t=t.split(",")[0])),rf[t]&&t!=="transform"?(s=Qx(e,r),s=t!=="transformOrigin"?s[t]:s.svg?s.origin:yC(Ul(e,al))+" "+s.zOrigin+"px"):(s=e.style[t],(!s||s==="auto"||r||~(s+"").indexOf("calc("))&&(s=gC[t]&&gC[t](e,t,i)||Ul(e,t)||$H(e,t)||(t==="opacity"?1:0))),i&&!~(s+"").trim().indexOf(" ")?Zp(e,t,s,i)+i:s},vae=function(e,t,i,r){if(!i||i==="none"){var s=t_(t,e,1),a=s&&Ul(e,s,1);a&&a!==i?(t=s,i=a):t==="borderColor"&&(i=Ul(e,"borderTopColor"))}var o=new sl(this._pt,e.style,t,0,1,Sj),l=0,u=0,d,p,y,v,_,S,E,b,w,A,C,D;if(o.b=i,o.e=r,i+="",r+="",r.substring(0,6)==="var(--"&&(r=Ul(e,r.substring(4,r.indexOf(")")))),r==="auto"&&(S=e.style[t],e.style[t]=r,r=Ul(e,t)||r,S?e.style[t]=S:Kp(e,t)),d=[i,r],dj(d),i=d[0],r=d[1],y=i.match(b0)||[],D=r.match(b0)||[],D.length){for(;p=b0.exec(r);)E=p[0],w=r.substring(l,p.index),_?_=(_+1)%5:(w.substr(-5)==="rgba("||w.substr(-5)==="hsla(")&&(_=1),E!==(S=y[u++]||"")&&(v=parseFloat(S)||0,C=S.substr((v+"").length),E.charAt(1)==="="&&(E=N0(v,E)+C),b=parseFloat(E),A=E.substr((b+"").length),l=b0.lastIndex-A.length,A||(A=A||kl.units[t]||C,l===r.length&&(r+=A,o.e+=A)),C!==A&&(v=Zp(e,t,S,A)||0),o._pt={_next:o._pt,p:w||u===1?w:",",s:v,c:b-v,m:_&&_<4||t==="zIndex"?Math.round:0});o.c=l<r.length?r.substring(l,r.length):""}else o.r=t==="display"&&r==="none"?Cj:wj;return HH.test(r)&&(o.e=0),this._pt=o,o},Zk={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},_ae=function(e){var t=e.split(" "),i=t[0],r=t[1]||"50%";return(i==="top"||i==="bottom"||r==="left"||r==="right")&&(e=i,i=r,r=e),t[0]=Zk[i]||i,t[1]=Zk[r]||r,t.join(" ")},bae=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var i=t.t,r=i.style,s=t.u,a=i._gsap,o,l,u;if(s==="all"||s===!0)r.cssText="",l=1;else for(s=s.split(","),u=s.length;--u>-1;)o=s[u],rf[o]&&(l=1,o=o==="transformOrigin"?al:kr),Kp(i,o);l&&(Kp(i,kr),a&&(a.svg&&i.removeAttribute("transform"),r.scale=r.rotate=r.translate="none",Qx(i,1),a.uncache=1,Aj(r)))}},gC={clearProps:function(e,t,i,r,s){if(s.data!=="isFromStart"){var a=e._pt=new sl(e._pt,t,i,0,0,bae);return a.u=r,a.pr=-10,a.tween=s,e._props.push(i),1}}},Zx=[1,0,0,1,0,0],Pj={},Dj=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},Qk=function(e){var t=Ul(e,kr);return Dj(t)?Zx:t.substr(7).match(VH).map(fs)},oL=function(e,t){var i=e._gsap||Xg(e),r=e.style,s=Qk(e),a,o,l,u;return i.svg&&e.getAttribute("transform")?(l=e.transform.baseVal.consolidate().matrix,s=[l.a,l.b,l.c,l.d,l.e,l.f],s.join(",")==="1,0,0,1,0,0"?Zx:s):(s===Zx&&!e.offsetParent&&e!==L0&&!i.svg&&(l=r.display,r.display="block",a=e.parentNode,(!a||!e.offsetParent&&!e.getBoundingClientRect().width)&&(u=1,o=e.nextElementSibling,L0.appendChild(e)),s=Qk(e),l?r.display=l:Kp(e,"display"),u&&(o?a.insertBefore(e,o):a?a.appendChild(e):L0.removeChild(e))),t&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},wP=function(e,t,i,r,s,a){var o=e._gsap,l=s||oL(e,!0),u=o.xOrigin||0,d=o.yOrigin||0,p=o.xOffset||0,y=o.yOffset||0,v=l[0],_=l[1],S=l[2],E=l[3],b=l[4],w=l[5],A=t.split(" "),C=parseFloat(A[0])||0,D=parseFloat(A[1])||0,N,I,L,P;i?l!==Zx&&(I=v*E-_*S)&&(L=C*(E/I)+D*(-S/I)+(S*w-E*b)/I,P=C*(-_/I)+D*(v/I)-(v*w-_*b)/I,C=L,D=P):(N=Oj(e),C=N.x+(~A[0].indexOf("%")?C/100*N.width:C),D=N.y+(~(A[1]||A[0]).indexOf("%")?D/100*N.height:D)),r||r!==!1&&o.smooth?(b=C-u,w=D-d,o.xOffset=p+(b*v+w*S)-b,o.yOffset=y+(b*_+w*E)-w):o.xOffset=o.yOffset=0,o.xOrigin=C,o.yOrigin=D,o.smooth=!!r,o.origin=t,o.originIsAbsolute=!!i,e.style[al]="0px 0px",a&&(Op(a,o,"xOrigin",u,C),Op(a,o,"yOrigin",d,D),Op(a,o,"xOffset",p,o.xOffset),Op(a,o,"yOffset",y,o.yOffset)),e.setAttribute("data-svg-origin",C+" "+D)},Qx=function(e,t){var i=e._gsap||new gj(e);if("x"in i&&!t&&!i.uncache)return i;var r=e.style,s=i.scaleX<0,a="px",o="deg",l=getComputedStyle(e),u=Ul(e,al)||"0",d,p,y,v,_,S,E,b,w,A,C,D,N,I,L,P,U,F,z,V,Y,ee,q,$,Q,se,fe,K,le,pe,ue,ie;return d=p=y=S=E=b=w=A=C=0,v=_=1,i.svg=!!(e.getCTM&&Ij(e)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(r[kr]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+(l[kr]!=="none"?l[kr]:"")),r.scale=r.rotate=r.translate="none"),I=oL(e,i.svg),i.svg&&(i.uncache?(Q=e.getBBox(),u=i.xOrigin-Q.x+"px "+(i.yOrigin-Q.y)+"px",$=""):$=!t&&e.getAttribute("data-svg-origin"),wP(e,$||u,!!$||i.originIsAbsolute,i.smooth!==!1,I)),D=i.xOrigin||0,N=i.yOrigin||0,I!==Zx&&(F=I[0],z=I[1],V=I[2],Y=I[3],d=ee=I[4],p=q=I[5],I.length===6?(v=Math.sqrt(F*F+z*z),_=Math.sqrt(Y*Y+V*V),S=F||z?wv(z,F)*Mg:0,w=V||Y?wv(V,Y)*Mg+S:0,w&&(_*=Math.abs(Math.cos(w*U0))),i.svg&&(d-=D-(D*F+N*V),p-=N-(D*z+N*Y))):(ie=I[6],pe=I[7],fe=I[8],K=I[9],le=I[10],ue=I[11],d=I[12],p=I[13],y=I[14],L=wv(ie,le),E=L*Mg,L&&(P=Math.cos(-L),U=Math.sin(-L),$=ee*P+fe*U,Q=q*P+K*U,se=ie*P+le*U,fe=ee*-U+fe*P,K=q*-U+K*P,le=ie*-U+le*P,ue=pe*-U+ue*P,ee=$,q=Q,ie=se),L=wv(-V,le),b=L*Mg,L&&(P=Math.cos(-L),U=Math.sin(-L),$=F*P-fe*U,Q=z*P-K*U,se=V*P-le*U,ue=Y*U+ue*P,F=$,z=Q,V=se),L=wv(z,F),S=L*Mg,L&&(P=Math.cos(L),U=Math.sin(L),$=F*P+z*U,Q=ee*P+q*U,z=z*P-F*U,q=q*P-ee*U,F=$,ee=Q),E&&Math.abs(E)+Math.abs(S)>359.9&&(E=S=0,b=180-b),v=fs(Math.sqrt(F*F+z*z+V*V)),_=fs(Math.sqrt(q*q+ie*ie)),L=wv(ee,q),w=Math.abs(L)>2e-4?L*Mg:0,C=ue?1/(ue<0?-ue:ue):0),i.svg&&($=e.getAttribute("transform"),i.forceCSS=e.setAttribute("transform","")||!Dj(Ul(e,kr)),$&&e.setAttribute("transform",$))),Math.abs(w)>90&&Math.abs(w)<270&&(s?(v*=-1,w+=S<=0?180:-180,S+=S<=0?180:-180):(_*=-1,w+=w<=0?180:-180)),t=t||i.uncache,i.x=d-((i.xPercent=d&&(!t&&i.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-d)?-50:0)))?e.offsetWidth*i.xPercent/100:0)+a,i.y=p-((i.yPercent=p&&(!t&&i.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-p)?-50:0)))?e.offsetHeight*i.yPercent/100:0)+a,i.z=y+a,i.scaleX=fs(v),i.scaleY=fs(_),i.rotation=fs(S)+o,i.rotationX=fs(E)+o,i.rotationY=fs(b)+o,i.skewX=w+o,i.skewY=A+o,i.transformPerspective=C+a,(i.zOrigin=parseFloat(u.split(" ")[2])||!t&&i.zOrigin||0)&&(r[al]=yC(u)),i.xOffset=i.yOffset=0,i.force3D=kl.force3D,i.renderTransform=i.svg?Sae:Rj?Nj:xae,i.uncache=0,i},yC=function(e){return(e=e.split(" "))[0]+" "+e[1]},IO=function(e,t,i){var r=Qa(t);return fs(parseFloat(t)+parseFloat(Zp(e,"x",i+"px",r)))+r},xae=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,Nj(e,t)},sg="0deg",o1="0px",ag=") ",Nj=function(e,t){var i=t||this,r=i.xPercent,s=i.yPercent,a=i.x,o=i.y,l=i.z,u=i.rotation,d=i.rotationY,p=i.rotationX,y=i.skewX,v=i.skewY,_=i.scaleX,S=i.scaleY,E=i.transformPerspective,b=i.force3D,w=i.target,A=i.zOrigin,C="",D=b==="auto"&&e&&e!==1||b===!0;if(A&&(p!==sg||d!==sg)){var N=parseFloat(d)*U0,I=Math.sin(N),L=Math.cos(N),P;N=parseFloat(p)*U0,P=Math.cos(N),a=IO(w,a,I*P*-A),o=IO(w,o,-Math.sin(N)*-A),l=IO(w,l,L*P*-A+A)}E!==o1&&(C+="perspective("+E+ag),(r||s)&&(C+="translate("+r+"%, "+s+"%) "),(D||a!==o1||o!==o1||l!==o1)&&(C+=l!==o1||D?"translate3d("+a+", "+o+", "+l+") ":"translate("+a+", "+o+ag),u!==sg&&(C+="rotate("+u+ag),d!==sg&&(C+="rotateY("+d+ag),p!==sg&&(C+="rotateX("+p+ag),(y!==sg||v!==sg)&&(C+="skew("+y+", "+v+ag),(_!==1||S!==1)&&(C+="scale("+_+", "+S+ag),w.style[kr]=C||"translate(0, 0)"},Sae=function(e,t){var i=t||this,r=i.xPercent,s=i.yPercent,a=i.x,o=i.y,l=i.rotation,u=i.skewX,d=i.skewY,p=i.scaleX,y=i.scaleY,v=i.target,_=i.xOrigin,S=i.yOrigin,E=i.xOffset,b=i.yOffset,w=i.forceCSS,A=parseFloat(a),C=parseFloat(o),D,N,I,L,P;l=parseFloat(l),u=parseFloat(u),d=parseFloat(d),d&&(d=parseFloat(d),u+=d,l+=d),l||u?(l*=U0,u*=U0,D=Math.cos(l)*p,N=Math.sin(l)*p,I=Math.sin(l-u)*-y,L=Math.cos(l-u)*y,u&&(d*=U0,P=Math.tan(u-d),P=Math.sqrt(1+P*P),I*=P,L*=P,d&&(P=Math.tan(d),P=Math.sqrt(1+P*P),D*=P,N*=P)),D=fs(D),N=fs(N),I=fs(I),L=fs(L)):(D=p,L=y,N=I=0),(A&&!~(a+"").indexOf("px")||C&&!~(o+"").indexOf("px"))&&(A=Zp(v,"x",a,"px"),C=Zp(v,"y",o,"px")),(_||S||E||b)&&(A=fs(A+_-(_*D+S*I)+E),C=fs(C+S-(_*N+S*L)+b)),(r||s)&&(P=v.getBBox(),A=fs(A+r/100*P.width),C=fs(C+s/100*P.height)),P="matrix("+D+","+N+","+I+","+L+","+A+","+C+")",v.setAttribute("transform",P),w&&(v.style[kr]=P)},Eae=function(e,t,i,r,s){var a=360,o=aa(s),l=parseFloat(s)*(o&&~s.indexOf("rad")?Mg:1),u=l-r,d=r+u+"deg",p,y;return o&&(p=s.split("_")[1],p==="short"&&(u%=a,u!==u%(a/2)&&(u+=u<0?a:-a)),p==="cw"&&u<0?u=(u+a*Wk)%a-~~(u/a)*a:p==="ccw"&&u>0&&(u=(u-a*Wk)%a-~~(u/a)*a)),e._pt=y=new sl(e._pt,t,i,r,u,sae),y.e=d,y.u="deg",e._props.push(i),y},Jk=function(e,t){for(var i in t)e[i]=t[i];return e},Tae=function(e,t,i){var r=Jk({},i._gsap),s="perspective,force3D,transformOrigin,svgOrigin",a=i.style,o,l,u,d,p,y,v,_;r.svg?(u=i.getAttribute("transform"),i.setAttribute("transform",""),a[kr]=t,o=Qx(i,1),Kp(i,kr),i.setAttribute("transform",u)):(u=getComputedStyle(i)[kr],a[kr]=t,o=Qx(i,1),a[kr]=u);for(l in rf)u=r[l],d=o[l],u!==d&&s.indexOf(l)<0&&(v=Qa(u),_=Qa(d),p=v!==_?Zp(i,l,u,_):parseFloat(u),y=parseFloat(d),e._pt=new sl(e._pt,o,l,p,y-p,SP),e._pt.u=_||0,e._props.push(l));Jk(o,r)};rl("padding,margin,Width,Radius",function(n,e){var t="Top",i="Right",r="Bottom",s="Left",a=(e<3?[t,i,r,s]:[t+s,t+i,r+i,r+s]).map(function(o){return e<2?n+o:"border"+o+n});gC[e>1?"border"+n:n]=function(o,l,u,d,p){var y,v;if(arguments.length<4)return y=a.map(function(_){return Nd(o,_,u)}),v=y.join(" "),v.split(y[0]).length===5?y[0]:v;y=(d+"").split(" "),v={},a.forEach(function(_,S){return v[_]=y[S]=y[S]||y[(S-1)/2|0]}),o.init(l,v,p)}});var Lj={name:"css",register:TP,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,i,r,s){var a=this._props,o=e.style,l=i.vars.startAt,u,d,p,y,v,_,S,E,b,w,A,C,D,N,I,L,P;rL||TP(),this.styles=this.styles||Mj(e),L=this.styles.props,this.tween=i;for(S in t)if(S!=="autoRound"&&(d=t[S],!(Il[S]&&yj(S,t,i,r,e,s)))){if(v=typeof d,_=gC[S],v==="function"&&(d=d.call(i,r,e,s),v=typeof d),v==="string"&&~d.indexOf("random(")&&(d=Xx(d)),_)_(this,e,S,d,i)&&(I=1);else if(S.substr(0,2)==="--")u=(getComputedStyle(e).getPropertyValue(S)+"").trim(),d+="",zp.lastIndex=0,zp.test(u)||(E=Qa(u),b=Qa(d),b?E!==b&&(u=Zp(e,S,u,b)+b):E&&(d+=E)),this.add(o,"setProperty",u,d,r,s,0,0,S),a.push(S),L.push(S,0,o[S]);else if(v!=="undefined"){if(l&&S in l?(u=typeof l[S]=="function"?l[S].call(i,r,e,s):l[S],aa(u)&&~u.indexOf("random(")&&(u=Xx(u)),Qa(u+"")||u==="auto"||(u+=kl.units[S]||Qa(Nd(e,S))||""),(u+"").charAt(1)==="="&&(u=Nd(e,S))):u=Nd(e,S),y=parseFloat(u),w=v==="string"&&d.charAt(1)==="="&&d.substr(0,2),w&&(d=d.substr(2)),p=parseFloat(d),S in xh&&(S==="autoAlpha"&&(y===1&&Nd(e,"visibility")==="hidden"&&p&&(y=0),L.push("visibility",0,o.visibility),Op(this,o,"visibility",y?"inherit":"hidden",p?"inherit":"hidden",!p)),S!=="scale"&&S!=="transform"&&(S=xh[S],~S.indexOf(",")&&(S=S.split(",")[0]))),A=S in rf,A){if(this.styles.save(S),P=d,v==="string"&&d.substring(0,6)==="var(--"){if(d=Ul(e,d.substring(4,d.indexOf(")"))),d.substring(0,5)==="calc("){var U=e.style.perspective;e.style.perspective=d,d=Ul(e,"perspective"),U?e.style.perspective=U:Kp(e,"perspective")}p=parseFloat(d)}if(C||(D=e._gsap,D.renderTransform&&!t.parseTransform||Qx(e,t.parseTransform),N=t.smoothOrigin!==!1&&D.smooth,C=this._pt=new sl(this._pt,o,kr,0,1,D.renderTransform,D,0,-1),C.dep=1),S==="scale")this._pt=new sl(this._pt,D,"scaleY",D.scaleY,(w?N0(D.scaleY,w+p):p)-D.scaleY||0,SP),this._pt.u=0,a.push("scaleY",S),S+="X";else if(S==="transformOrigin"){L.push(al,0,o[al]),d=_ae(d),D.svg?wP(e,d,0,N,0,this):(b=parseFloat(d.split(" ")[2])||0,b!==D.zOrigin&&Op(this,D,"zOrigin",D.zOrigin,b),Op(this,o,S,yC(u),yC(d)));continue}else if(S==="svgOrigin"){wP(e,d,1,N,0,this);continue}else if(S in Pj){Eae(this,D,S,y,w?N0(y,w+d):d);continue}else if(S==="smoothOrigin"){Op(this,D,"smooth",D.smooth,d);continue}else if(S==="force3D"){D[S]=d;continue}else if(S==="transform"){Tae(this,d,e);continue}}else S in o||(S=t_(S)||S);if(A||(p||p===0)&&(y||y===0)&&!rae.test(d)&&S in o)E=(u+"").substr((y+"").length),p||(p=0),b=Qa(d)||(S in kl.units?kl.units[S]:E),E!==b&&(y=Zp(e,S,u,b)),this._pt=new sl(this._pt,A?D:o,S,y,(w?N0(y,w+p):p)-y,!A&&(b==="px"||S==="zIndex")&&t.autoRound!==!1?lae:SP),this._pt.u=b||0,A&&P!==d?(this._pt.b=u,this._pt.e=P,this._pt.r=oae):E!==b&&b!=="%"&&(this._pt.b=u,this._pt.r=aae);else if(S in o)vae.call(this,e,S,u,w?w+d:d);else if(S in e)this.add(e,S,u||e[S],w?w+d:d,r,s);else if(S!=="parseTransform"){XN(S,d);continue}A||(S in o?L.push(S,0,o[S]):typeof e[S]=="function"?L.push(S,2,e[S]()):L.push(S,1,u||e[S])),a.push(S)}}I&&Ej(this)},render:function(e,t){if(t.tween._time||!sL())for(var i=t._pt;i;)i.r(e,i.d),i=i._next;else t.styles.revert()},get:Nd,aliases:xh,getSetter:function(e,t,i){var r=xh[t];return r&&r.indexOf(",")<0&&(t=r),t in rf&&t!==al&&(e._gsap.x||Nd(e,"x"))?i&&qk===i?t==="scale"?dae:hae:(qk=i||{})&&(t==="scale"?fae:pae):e.style&&!qN(e.style[t])?cae:~t.indexOf("-")?uae:nL(e,t)},core:{_removeProperty:Kp,_getMatrix:oL}};cl.utils.checkPrefix=t_;cl.core.getStyleSaver=Mj;(function(n,e,t,i){var r=rl(n+","+e+","+t,function(s){rf[s]=1});rl(e,function(s){kl.units[s]="deg",Pj[s]=1}),xh[r[13]]=n+","+e,rl(i,function(s){var a=s.split(":");xh[a[1]]=r[a[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");rl("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(n){kl.units[n]="px"});cl.registerPlugin(Lj);var rM=cl.registerPlugin(Lj)||cl;rM.core.Tween;/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const sM="176",wae={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Cae={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},Uj=0,CP=1,kj=2,Aae=3,zj=0,aM=1,yx=2,mu=3,sf=0,Po=1,_h=2,Wd=0,Qg=1,AP=2,MP=3,RP=4,Bj=5,wp=100,Fj=101,Vj=102,Hj=103,jj=104,Gj=200,qj=201,Wj=202,$j=203,vC=204,_C=205,Xj=206,Yj=207,Kj=208,Zj=209,Qj=210,Jj=211,eG=212,tG=213,nG=214,bC=0,xC=1,SC=2,ly=3,EC=4,TC=5,wC=6,CC=7,GS=0,iG=1,rG=2,Ph=0,sG=1,aG=2,oG=3,lL=4,lG=5,cG=6,uG=7,OP="attached",hG="detached",oM=300,af=301,Qp=302,Jx=303,eS=304,N_=306,tS=1e3,Mc=1001,nS=1002,wa=1003,cL=1004,Mae=1004,S0=1005,Rae=1005,ps=1006,vx=1007,Oae=1007,Sh=1008,Iae=1008,Ic=1009,uL=1010,hL=1011,n_=1012,lM=1013,of=1014,Io=1015,xy=1016,cM=1017,uM=1018,i_=1020,dL=35902,fL=1021,pL=1022,Ja=1023,r_=1026,s_=1027,hM=1028,qS=1029,mL=1030,dM=1031,Pae=1032,fM=1033,_x=33776,bx=33777,xx=33778,Sx=33779,AC=35840,MC=35841,RC=35842,OC=35843,IC=36196,PC=37492,DC=37496,NC=37808,LC=37809,UC=37810,kC=37811,zC=37812,BC=37813,FC=37814,VC=37815,HC=37816,jC=37817,GC=37818,qC=37819,WC=37820,$C=37821,Ex=36492,XC=36494,YC=36495,gL=36283,KC=36284,ZC=36285,QC=36286,dG=2200,fG=2201,pG=2202,iS=2300,JC=2301,C2=2302,Fg=2400,Vg=2401,rS=2402,pM=2500,yL=2501,Dae=0,Nae=1,Lae=2,mG=3200,gG=3201,Uae=3202,kae=3203,lm=0,yG=1,kd="",xa="srgb",Jp="srgb-linear",sS="linear",Vi="srgb",zae=0,Rg=7680,Bae=7681,Fae=7682,Vae=7683,Hae=34055,jae=34056,Gae=5386,qae=512,Wae=513,$ae=514,Xae=515,Yae=516,Kae=517,Zae=518,IP=519,vG=512,_G=513,bG=514,vL=515,xG=516,SG=517,EG=518,TG=519,aS=35044,Qae=35048,Jae=35040,eoe=35045,toe=35049,noe=35041,ioe=35046,roe=35050,soe=35042,aoe="100",PP="300 es",Rc=2e3,oS=2001,ooe={COMPUTE:"compute",RENDER:"render"},loe={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},coe={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FLAT_FIRST:"flat first",FLAT_EITHER:"flat either"};let Bh=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){const i=this._listeners;return i===void 0?!1:i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){const i=this._listeners;if(i===void 0)return;const r=i[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const i=t[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,a=r.length;s<a;s++)r[s].call(this,e);e.target=null}}};const qa=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let ez=1234567;const Jg=Math.PI/180,a_=180/Math.PI;function zl(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(qa[n&255]+qa[n>>8&255]+qa[n>>16&255]+qa[n>>24&255]+"-"+qa[e&255]+qa[e>>8&255]+"-"+qa[e>>16&15|64]+qa[e>>24&255]+"-"+qa[t&63|128]+qa[t>>8&255]+"-"+qa[t>>16&255]+qa[t>>24&255]+qa[i&255]+qa[i>>8&255]+qa[i>>16&255]+qa[i>>24&255]).toLowerCase()}function Mn(n,e,t){return Math.max(e,Math.min(t,n))}function _L(n,e){return(n%e+e)%e}function uoe(n,e,t,i,r){return i+(n-e)*(r-i)/(t-e)}function hoe(n,e,t){return n!==e?(t-n)/(e-n):0}function Tx(n,e,t){return(1-t)*n+t*e}function doe(n,e,t,i){return Tx(n,e,1-Math.exp(-t*i))}function foe(n,e=1){return e-Math.abs(_L(n,e*2)-e)}function poe(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function moe(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function goe(n,e){return n+Math.floor(Math.random()*(e-n+1))}function yoe(n,e){return n+Math.random()*(e-n)}function voe(n){return n*(.5-Math.random())}function _oe(n){n!==void 0&&(ez=n);let e=ez+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function boe(n){return n*Jg}function xoe(n){return n*a_}function Soe(n){return(n&n-1)===0&&n!==0}function Eoe(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function Toe(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function woe(n,e,t,i,r){const s=Math.cos,a=Math.sin,o=s(t/2),l=a(t/2),u=s((e+i)/2),d=a((e+i)/2),p=s((e-i)/2),y=a((e-i)/2),v=s((i-e)/2),_=a((i-e)/2);switch(r){case"XYX":n.set(o*d,l*p,l*y,o*u);break;case"YZY":n.set(l*y,o*d,l*p,o*u);break;case"ZXZ":n.set(l*p,l*y,o*d,o*u);break;case"XZX":n.set(o*d,l*_,l*v,o*u);break;case"YXY":n.set(l*v,o*d,l*_,o*u);break;case"ZYZ":n.set(l*_,l*v,o*d,o*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function Ro(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function kn(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const wG={DEG2RAD:Jg,RAD2DEG:a_,generateUUID:zl,clamp:Mn,euclideanModulo:_L,mapLinear:uoe,inverseLerp:hoe,lerp:Tx,damp:doe,pingpong:foe,smoothstep:poe,smootherstep:moe,randInt:goe,randFloat:yoe,randFloatSpread:voe,seededRandom:_oe,degToRad:boe,radToDeg:xoe,isPowerOfTwo:Soe,ceilPowerOfTwo:Eoe,floorPowerOfTwo:Toe,setQuaternionFromProperEuler:woe,normalize:kn,denormalize:Ro};class rt{constructor(e=0,t=0){rt.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Mn(this.x,e.x,t.x),this.y=Mn(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=Mn(this.x,e,t),this.y=Mn(this.y,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Mn(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Mn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),s=this.x-e.x,a=this.y-e.y;return this.x=s*i-a*r+e.x,this.y=s*r+a*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Dn{constructor(e,t,i,r,s,a,o,l,u){Dn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,i,r,s,a,o,l,u)}set(e,t,i,r,s,a,o,l,u){const d=this.elements;return d[0]=e,d[1]=r,d[2]=o,d[3]=t,d[4]=s,d[5]=l,d[6]=i,d[7]=a,d[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,a=i[0],o=i[3],l=i[6],u=i[1],d=i[4],p=i[7],y=i[2],v=i[5],_=i[8],S=r[0],E=r[3],b=r[6],w=r[1],A=r[4],C=r[7],D=r[2],N=r[5],I=r[8];return s[0]=a*S+o*w+l*D,s[3]=a*E+o*A+l*N,s[6]=a*b+o*C+l*I,s[1]=u*S+d*w+p*D,s[4]=u*E+d*A+p*N,s[7]=u*b+d*C+p*I,s[2]=y*S+v*w+_*D,s[5]=y*E+v*A+_*N,s[8]=y*b+v*C+_*I,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],a=e[4],o=e[5],l=e[6],u=e[7],d=e[8];return t*a*d-t*o*u-i*s*d+i*o*l+r*s*u-r*a*l}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],a=e[4],o=e[5],l=e[6],u=e[7],d=e[8],p=d*a-o*u,y=o*l-d*s,v=u*s-a*l,_=t*p+i*y+r*v;if(_===0)return this.set(0,0,0,0,0,0,0,0,0);const S=1/_;return e[0]=p*S,e[1]=(r*u-d*i)*S,e[2]=(o*i-r*a)*S,e[3]=y*S,e[4]=(d*t-r*l)*S,e[5]=(r*s-o*t)*S,e[6]=v*S,e[7]=(i*l-u*t)*S,e[8]=(a*t-i*s)*S,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,s,a,o){const l=Math.cos(s),u=Math.sin(s);return this.set(i*l,i*u,-i*(l*a+u*o)+a+e,-r*u,r*l,-r*(-u*a+l*o)+o+t,0,0,1),this}scale(e,t){return this.premultiply(PO.makeScale(e,t)),this}rotate(e){return this.premultiply(PO.makeRotation(-e)),this}translate(e,t){return this.premultiply(PO.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const PO=new Dn;function CG(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const Coe={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function E0(n,e){return new Coe[n](e)}function lS(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function AG(){const n=lS("canvas");return n.style.display="block",n}const tz={};function A2(n){n in tz||(tz[n]=!0,console.warn(n))}function Aoe(n,e,t){return new Promise(function(i,r){function s(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:r();break;case n.TIMEOUT_EXPIRED:setTimeout(s,t);break;default:i()}}setTimeout(s,t)})}function Moe(n){const e=n.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function Roe(n){const e=n.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const nz=new Dn().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),iz=new Dn().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function Ooe(){const n={enabled:!0,workingColorSpace:Jp,spaces:{},convert:function(r,s,a){return this.enabled===!1||s===a||!s||!a||(this.spaces[s].transfer===Vi&&(r.r=$d(r.r),r.g=$d(r.g),r.b=$d(r.b)),this.spaces[s].primaries!==this.spaces[a].primaries&&(r.applyMatrix3(this.spaces[s].toXYZ),r.applyMatrix3(this.spaces[a].fromXYZ)),this.spaces[a].transfer===Vi&&(r.r=k0(r.r),r.g=k0(r.g),r.b=k0(r.b))),r},fromWorkingColorSpace:function(r,s){return this.convert(r,this.workingColorSpace,s)},toWorkingColorSpace:function(r,s){return this.convert(r,s,this.workingColorSpace)},getPrimaries:function(r){return this.spaces[r].primaries},getTransfer:function(r){return r===kd?sS:this.spaces[r].transfer},getLuminanceCoefficients:function(r,s=this.workingColorSpace){return r.fromArray(this.spaces[s].luminanceCoefficients)},define:function(r){Object.assign(this.spaces,r)},_getMatrix:function(r,s,a){return r.copy(this.spaces[s].toXYZ).multiply(this.spaces[a].fromXYZ)},_getDrawingBufferColorSpace:function(r){return this.spaces[r].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(r=this.workingColorSpace){return this.spaces[r].workingColorSpaceConfig.unpackColorSpace}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],i=[.3127,.329];return n.define({[Jp]:{primaries:e,whitePoint:i,transfer:sS,toXYZ:nz,fromXYZ:iz,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:xa},outputColorSpaceConfig:{drawingBufferColorSpace:xa}},[xa]:{primaries:e,whitePoint:i,transfer:Vi,toXYZ:nz,fromXYZ:iz,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:xa}}}),n}const di=Ooe();function $d(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function k0(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let Cv;class MG{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let i;if(e instanceof HTMLCanvasElement)i=e;else{Cv===void 0&&(Cv=lS("canvas")),Cv.width=e.width,Cv.height=e.height;const r=Cv.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),i=Cv}return i.toDataURL(t)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=lS("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let a=0;a<s.length;a++)s[a]=$d(s[a]/255)*255;return i.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor($d(t[i]/255)*255):t[i]=$d(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let Ioe=0;class Ip{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Ioe++}),this.uuid=zl(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let a=0,o=r.length;a<o;a++)r[a].isDataTexture?s.push(DO(r[a].image)):s.push(DO(r[a]))}else s=DO(r);i.url=s}return t||(e.images[this.uuid]=i),i}}function DO(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?MG.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Poe=0;class rs extends Bh{constructor(e=rs.DEFAULT_IMAGE,t=rs.DEFAULT_MAPPING,i=Mc,r=Mc,s=ps,a=Sh,o=Ja,l=Ic,u=rs.DEFAULT_ANISOTROPY,d=kd){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Poe++}),this.uuid=zl(),this.name="",this.source=new Ip(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=a,this.anisotropy=u,this.format=o,this.internalFormat=null,this.type=l,this.offset=new rt(0,0),this.repeat=new rt(1,1),this.center=new rt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Dn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=d,this.userData={},this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isTextureArray=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isTextureArray=e.isTextureArray,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==oM)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case tS:e.x=e.x-Math.floor(e.x);break;case Mc:e.x=e.x<0?0:1;break;case nS:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case tS:e.y=e.y-Math.floor(e.y);break;case Mc:e.y=e.y<0?0:1;break;case nS:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}rs.DEFAULT_IMAGE=null;rs.DEFAULT_MAPPING=oM;rs.DEFAULT_ANISOTROPY=1;class yi{constructor(e=0,t=0,i=0,r=1){yi.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=this.w,a=e.elements;return this.x=a[0]*t+a[4]*i+a[8]*r+a[12]*s,this.y=a[1]*t+a[5]*i+a[9]*r+a[13]*s,this.z=a[2]*t+a[6]*i+a[10]*r+a[14]*s,this.w=a[3]*t+a[7]*i+a[11]*r+a[15]*s,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,s;const l=e.elements,u=l[0],d=l[4],p=l[8],y=l[1],v=l[5],_=l[9],S=l[2],E=l[6],b=l[10];if(Math.abs(d-y)<.01&&Math.abs(p-S)<.01&&Math.abs(_-E)<.01){if(Math.abs(d+y)<.1&&Math.abs(p+S)<.1&&Math.abs(_+E)<.1&&Math.abs(u+v+b-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const A=(u+1)/2,C=(v+1)/2,D=(b+1)/2,N=(d+y)/4,I=(p+S)/4,L=(_+E)/4;return A>C&&A>D?A<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(A),r=N/i,s=I/i):C>D?C<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(C),i=N/r,s=L/r):D<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(D),i=I/s,r=L/s),this.set(i,r,s,t),this}let w=Math.sqrt((E-_)*(E-_)+(p-S)*(p-S)+(y-d)*(y-d));return Math.abs(w)<.001&&(w=1),this.x=(E-_)/w,this.y=(p-S)/w,this.z=(y-d)/w,this.w=Math.acos((u+v+b-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Mn(this.x,e.x,t.x),this.y=Mn(this.y,e.y,t.y),this.z=Mn(this.z,e.z,t.z),this.w=Mn(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=Mn(this.x,e,t),this.y=Mn(this.y,e,t),this.z=Mn(this.z,e,t),this.w=Mn(this.w,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Mn(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class mM extends Bh{constructor(e=1,t=1,i={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=i.depth?i.depth:1,this.scissor=new yi(0,0,e,t),this.scissorTest=!1,this.viewport=new yi(0,0,e,t);const r={width:e,height:t,depth:this.depth};i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:ps,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,multiview:!1},i);const s=new rs(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace);s.flipY=!1,s.generateMipmaps=i.generateMipmaps,s.internalFormat=i.internalFormat,this.textures=[];const a=i.count;for(let o=0;o<a;o++)this.textures[o]=s.clone(),this.textures[o].isRenderTargetTexture=!0,this.textures[o].renderTarget=this;this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=i.depthTexture,this.samples=i.samples,this.multiview=i.multiview}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,s=this.textures.length;r<s;r++)this.textures[r].image.width=e,this.textures[r].image.height=t,this.textures[r].image.depth=i;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,i=e.textures.length;t<i;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const r=Object.assign({},e.textures[t].image);this.textures[t].source=new Ip(r)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Eu extends mM{constructor(e=1,t=1,i={}){super(e,t,i),this.isWebGLRenderTarget=!0}}class WS extends rs{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=wa,this.minFilter=wa,this.wrapR=Mc,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Doe extends Eu{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new WS(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class gM extends rs{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=wa,this.minFilter=wa,this.wrapR=Mc,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Noe extends Eu{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new gM(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class Ca{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,s,a,o){let l=i[r+0],u=i[r+1],d=i[r+2],p=i[r+3];const y=s[a+0],v=s[a+1],_=s[a+2],S=s[a+3];if(o===0){e[t+0]=l,e[t+1]=u,e[t+2]=d,e[t+3]=p;return}if(o===1){e[t+0]=y,e[t+1]=v,e[t+2]=_,e[t+3]=S;return}if(p!==S||l!==y||u!==v||d!==_){let E=1-o;const b=l*y+u*v+d*_+p*S,w=b>=0?1:-1,A=1-b*b;if(A>Number.EPSILON){const D=Math.sqrt(A),N=Math.atan2(D,b*w);E=Math.sin(E*N)/D,o=Math.sin(o*N)/D}const C=o*w;if(l=l*E+y*C,u=u*E+v*C,d=d*E+_*C,p=p*E+S*C,E===1-o){const D=1/Math.sqrt(l*l+u*u+d*d+p*p);l*=D,u*=D,d*=D,p*=D}}e[t]=l,e[t+1]=u,e[t+2]=d,e[t+3]=p}static multiplyQuaternionsFlat(e,t,i,r,s,a){const o=i[r],l=i[r+1],u=i[r+2],d=i[r+3],p=s[a],y=s[a+1],v=s[a+2],_=s[a+3];return e[t]=o*_+d*p+l*v-u*y,e[t+1]=l*_+d*y+u*p-o*v,e[t+2]=u*_+d*v+o*y-l*p,e[t+3]=d*_-o*p-l*y-u*v,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const i=e._x,r=e._y,s=e._z,a=e._order,o=Math.cos,l=Math.sin,u=o(i/2),d=o(r/2),p=o(s/2),y=l(i/2),v=l(r/2),_=l(s/2);switch(a){case"XYZ":this._x=y*d*p+u*v*_,this._y=u*v*p-y*d*_,this._z=u*d*_+y*v*p,this._w=u*d*p-y*v*_;break;case"YXZ":this._x=y*d*p+u*v*_,this._y=u*v*p-y*d*_,this._z=u*d*_-y*v*p,this._w=u*d*p+y*v*_;break;case"ZXY":this._x=y*d*p-u*v*_,this._y=u*v*p+y*d*_,this._z=u*d*_+y*v*p,this._w=u*d*p-y*v*_;break;case"ZYX":this._x=y*d*p-u*v*_,this._y=u*v*p+y*d*_,this._z=u*d*_-y*v*p,this._w=u*d*p+y*v*_;break;case"YZX":this._x=y*d*p+u*v*_,this._y=u*v*p+y*d*_,this._z=u*d*_-y*v*p,this._w=u*d*p-y*v*_;break;case"XZY":this._x=y*d*p-u*v*_,this._y=u*v*p-y*d*_,this._z=u*d*_+y*v*p,this._w=u*d*p+y*v*_;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],s=t[8],a=t[1],o=t[5],l=t[9],u=t[2],d=t[6],p=t[10],y=i+o+p;if(y>0){const v=.5/Math.sqrt(y+1);this._w=.25/v,this._x=(d-l)*v,this._y=(s-u)*v,this._z=(a-r)*v}else if(i>o&&i>p){const v=2*Math.sqrt(1+i-o-p);this._w=(d-l)/v,this._x=.25*v,this._y=(r+a)/v,this._z=(s+u)/v}else if(o>p){const v=2*Math.sqrt(1+o-i-p);this._w=(s-u)/v,this._x=(r+a)/v,this._y=.25*v,this._z=(l+d)/v}else{const v=2*Math.sqrt(1+p-i-o);this._w=(a-r)/v,this._x=(s+u)/v,this._y=(l+d)/v,this._z=.25*v}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Mn(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,s=e._z,a=e._w,o=t._x,l=t._y,u=t._z,d=t._w;return this._x=i*d+a*o+r*u-s*l,this._y=r*d+a*l+s*o-i*u,this._z=s*d+a*u+i*l-r*o,this._w=a*d-i*o-r*l-s*u,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,r=this._y,s=this._z,a=this._w;let o=a*e._w+i*e._x+r*e._y+s*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=i,this._y=r,this._z=s,this;const l=1-o*o;if(l<=Number.EPSILON){const v=1-t;return this._w=v*a+t*this._w,this._x=v*i+t*this._x,this._y=v*r+t*this._y,this._z=v*s+t*this._z,this.normalize(),this}const u=Math.sqrt(l),d=Math.atan2(u,o),p=Math.sin((1-t)*d)/u,y=Math.sin(t*d)/u;return this._w=a*p+this._w*y,this._x=i*p+this._x*y,this._y=r*p+this._y*y,this._z=s*p+this._z*y,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),i=Math.random(),r=Math.sqrt(1-i),s=Math.sqrt(i);return this.set(r*Math.sin(e),r*Math.cos(e),s*Math.sin(t),s*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class he{constructor(e=0,t=0,i=0){he.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(rz.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(rz.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6]*r,this.y=s[1]*t+s[4]*i+s[7]*r,this.z=s[2]*t+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=e.elements,a=1/(s[3]*t+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*i+s[8]*r+s[12])*a,this.y=(s[1]*t+s[5]*i+s[9]*r+s[13])*a,this.z=(s[2]*t+s[6]*i+s[10]*r+s[14])*a,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,s=e.x,a=e.y,o=e.z,l=e.w,u=2*(a*r-o*i),d=2*(o*t-s*r),p=2*(s*i-a*t);return this.x=t+l*u+a*p-o*d,this.y=i+l*d+o*u-s*p,this.z=r+l*p+s*d-a*u,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r,this.y=s[1]*t+s[5]*i+s[9]*r,this.z=s[2]*t+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Mn(this.x,e.x,t.x),this.y=Mn(this.y,e.y,t.y),this.z=Mn(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=Mn(this.x,e,t),this.y=Mn(this.y,e,t),this.z=Mn(this.z,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Mn(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,s=e.z,a=t.x,o=t.y,l=t.z;return this.x=r*l-s*o,this.y=s*a-i*l,this.z=i*o-r*a,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return NO.copy(this).projectOnVector(e),this.sub(NO)}reflect(e){return this.sub(NO.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Mn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,i=Math.sqrt(1-t*t);return this.x=i*Math.cos(e),this.y=t,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const NO=new he,rz=new Ca;class ia{constructor(e=new he(1/0,1/0,1/0),t=new he(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(cu.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(cu.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=cu.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const s=i.getAttribute("position");if(t===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let a=0,o=s.count;a<o;a++)e.isMesh===!0?e.getVertexPosition(a,cu):cu.fromBufferAttribute(s,a),cu.applyMatrix4(e.matrixWorld),this.expandByPoint(cu);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),PT.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),PT.copy(i.boundingBox)),PT.applyMatrix4(e.matrixWorld),this.union(PT)}const r=e.children;for(let s=0,a=r.length;s<a;s++)this.expandByObject(r[s],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,cu),cu.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(l1),DT.subVectors(this.max,l1),Av.subVectors(e.a,l1),Mv.subVectors(e.b,l1),Rv.subVectors(e.c,l1),cp.subVectors(Mv,Av),up.subVectors(Rv,Mv),og.subVectors(Av,Rv);let t=[0,-cp.z,cp.y,0,-up.z,up.y,0,-og.z,og.y,cp.z,0,-cp.x,up.z,0,-up.x,og.z,0,-og.x,-cp.y,cp.x,0,-up.y,up.x,0,-og.y,og.x,0];return!LO(t,Av,Mv,Rv,DT)||(t=[1,0,0,0,1,0,0,0,1],!LO(t,Av,Mv,Rv,DT))?!1:(NT.crossVectors(cp,up),t=[NT.x,NT.y,NT.z],LO(t,Av,Mv,Rv,DT))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,cu).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(cu).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(_d[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),_d[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),_d[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),_d[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),_d[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),_d[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),_d[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),_d[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(_d),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const _d=[new he,new he,new he,new he,new he,new he,new he,new he],cu=new he,PT=new ia,Av=new he,Mv=new he,Rv=new he,cp=new he,up=new he,og=new he,l1=new he,DT=new he,NT=new he,lg=new he;function LO(n,e,t,i,r){for(let s=0,a=n.length-3;s<=a;s+=3){lg.fromArray(n,s);const o=r.x*Math.abs(lg.x)+r.y*Math.abs(lg.y)+r.z*Math.abs(lg.z),l=e.dot(lg),u=t.dot(lg),d=i.dot(lg);if(Math.max(-Math.max(l,u,d),Math.min(l,u,d))>o)return!1}return!0}const Loe=new ia,c1=new he,UO=new he;class ra{constructor(e=new he,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):Loe.setFromPoints(e).getCenter(i);let r=0;for(let s=0,a=e.length;s<a;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;c1.subVectors(e,this.center);const t=c1.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.addScaledVector(c1,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(UO.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(c1.copy(e.center).add(UO)),this.expandByPoint(c1.copy(e.center).sub(UO))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const bd=new he,kO=new he,LT=new he,hp=new he,zO=new he,UT=new he,BO=new he;class L_{constructor(e=new he,t=new he(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,bd)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=bd.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(bd.copy(this.origin).addScaledVector(this.direction,t),bd.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){kO.copy(e).add(t).multiplyScalar(.5),LT.copy(t).sub(e).normalize(),hp.copy(this.origin).sub(kO);const s=e.distanceTo(t)*.5,a=-this.direction.dot(LT),o=hp.dot(this.direction),l=-hp.dot(LT),u=hp.lengthSq(),d=Math.abs(1-a*a);let p,y,v,_;if(d>0)if(p=a*l-o,y=a*o-l,_=s*d,p>=0)if(y>=-_)if(y<=_){const S=1/d;p*=S,y*=S,v=p*(p+a*y+2*o)+y*(a*p+y+2*l)+u}else y=s,p=Math.max(0,-(a*y+o)),v=-p*p+y*(y+2*l)+u;else y=-s,p=Math.max(0,-(a*y+o)),v=-p*p+y*(y+2*l)+u;else y<=-_?(p=Math.max(0,-(-a*s+o)),y=p>0?-s:Math.min(Math.max(-s,-l),s),v=-p*p+y*(y+2*l)+u):y<=_?(p=0,y=Math.min(Math.max(-s,-l),s),v=y*(y+2*l)+u):(p=Math.max(0,-(a*s+o)),y=p>0?s:Math.min(Math.max(-s,-l),s),v=-p*p+y*(y+2*l)+u);else y=a>0?-s:s,p=Math.max(0,-(a*y+o)),v=-p*p+y*(y+2*l)+u;return i&&i.copy(this.origin).addScaledVector(this.direction,p),r&&r.copy(kO).addScaledVector(LT,y),v}intersectSphere(e,t){bd.subVectors(e.center,this.origin);const i=bd.dot(this.direction),r=bd.dot(bd)-i*i,s=e.radius*e.radius;if(r>s)return null;const a=Math.sqrt(s-r),o=i-a,l=i+a;return l<0?null:o<0?this.at(l,t):this.at(o,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,s,a,o,l;const u=1/this.direction.x,d=1/this.direction.y,p=1/this.direction.z,y=this.origin;return u>=0?(i=(e.min.x-y.x)*u,r=(e.max.x-y.x)*u):(i=(e.max.x-y.x)*u,r=(e.min.x-y.x)*u),d>=0?(s=(e.min.y-y.y)*d,a=(e.max.y-y.y)*d):(s=(e.max.y-y.y)*d,a=(e.min.y-y.y)*d),i>a||s>r||((s>i||isNaN(i))&&(i=s),(a<r||isNaN(r))&&(r=a),p>=0?(o=(e.min.z-y.z)*p,l=(e.max.z-y.z)*p):(o=(e.max.z-y.z)*p,l=(e.min.z-y.z)*p),i>l||o>r)||((o>i||i!==i)&&(i=o),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,bd)!==null}intersectTriangle(e,t,i,r,s){zO.subVectors(t,e),UT.subVectors(i,e),BO.crossVectors(zO,UT);let a=this.direction.dot(BO),o;if(a>0){if(r)return null;o=1}else if(a<0)o=-1,a=-a;else return null;hp.subVectors(this.origin,e);const l=o*this.direction.dot(UT.crossVectors(hp,UT));if(l<0)return null;const u=o*this.direction.dot(zO.cross(hp));if(u<0||l+u>a)return null;const d=-o*hp.dot(BO);return d<0?null:this.at(d/a,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class an{constructor(e,t,i,r,s,a,o,l,u,d,p,y,v,_,S,E){an.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,i,r,s,a,o,l,u,d,p,y,v,_,S,E)}set(e,t,i,r,s,a,o,l,u,d,p,y,v,_,S,E){const b=this.elements;return b[0]=e,b[4]=t,b[8]=i,b[12]=r,b[1]=s,b[5]=a,b[9]=o,b[13]=l,b[2]=u,b[6]=d,b[10]=p,b[14]=y,b[3]=v,b[7]=_,b[11]=S,b[15]=E,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new an().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/Ov.setFromMatrixColumn(e,0).length(),s=1/Ov.setFromMatrixColumn(e,1).length(),a=1/Ov.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*s,t[5]=i[5]*s,t[6]=i[6]*s,t[7]=0,t[8]=i[8]*a,t[9]=i[9]*a,t[10]=i[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,s=e.z,a=Math.cos(i),o=Math.sin(i),l=Math.cos(r),u=Math.sin(r),d=Math.cos(s),p=Math.sin(s);if(e.order==="XYZ"){const y=a*d,v=a*p,_=o*d,S=o*p;t[0]=l*d,t[4]=-l*p,t[8]=u,t[1]=v+_*u,t[5]=y-S*u,t[9]=-o*l,t[2]=S-y*u,t[6]=_+v*u,t[10]=a*l}else if(e.order==="YXZ"){const y=l*d,v=l*p,_=u*d,S=u*p;t[0]=y+S*o,t[4]=_*o-v,t[8]=a*u,t[1]=a*p,t[5]=a*d,t[9]=-o,t[2]=v*o-_,t[6]=S+y*o,t[10]=a*l}else if(e.order==="ZXY"){const y=l*d,v=l*p,_=u*d,S=u*p;t[0]=y-S*o,t[4]=-a*p,t[8]=_+v*o,t[1]=v+_*o,t[5]=a*d,t[9]=S-y*o,t[2]=-a*u,t[6]=o,t[10]=a*l}else if(e.order==="ZYX"){const y=a*d,v=a*p,_=o*d,S=o*p;t[0]=l*d,t[4]=_*u-v,t[8]=y*u+S,t[1]=l*p,t[5]=S*u+y,t[9]=v*u-_,t[2]=-u,t[6]=o*l,t[10]=a*l}else if(e.order==="YZX"){const y=a*l,v=a*u,_=o*l,S=o*u;t[0]=l*d,t[4]=S-y*p,t[8]=_*p+v,t[1]=p,t[5]=a*d,t[9]=-o*d,t[2]=-u*d,t[6]=v*p+_,t[10]=y-S*p}else if(e.order==="XZY"){const y=a*l,v=a*u,_=o*l,S=o*u;t[0]=l*d,t[4]=-p,t[8]=u*d,t[1]=y*p+S,t[5]=a*d,t[9]=v*p-_,t[2]=_*p-v,t[6]=o*d,t[10]=S*p+y}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Uoe,e,koe)}lookAt(e,t,i){const r=this.elements;return Al.subVectors(e,t),Al.lengthSq()===0&&(Al.z=1),Al.normalize(),dp.crossVectors(i,Al),dp.lengthSq()===0&&(Math.abs(i.z)===1?Al.x+=1e-4:Al.z+=1e-4,Al.normalize(),dp.crossVectors(i,Al)),dp.normalize(),kT.crossVectors(Al,dp),r[0]=dp.x,r[4]=kT.x,r[8]=Al.x,r[1]=dp.y,r[5]=kT.y,r[9]=Al.y,r[2]=dp.z,r[6]=kT.z,r[10]=Al.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,a=i[0],o=i[4],l=i[8],u=i[12],d=i[1],p=i[5],y=i[9],v=i[13],_=i[2],S=i[6],E=i[10],b=i[14],w=i[3],A=i[7],C=i[11],D=i[15],N=r[0],I=r[4],L=r[8],P=r[12],U=r[1],F=r[5],z=r[9],V=r[13],Y=r[2],ee=r[6],q=r[10],$=r[14],Q=r[3],se=r[7],fe=r[11],K=r[15];return s[0]=a*N+o*U+l*Y+u*Q,s[4]=a*I+o*F+l*ee+u*se,s[8]=a*L+o*z+l*q+u*fe,s[12]=a*P+o*V+l*$+u*K,s[1]=d*N+p*U+y*Y+v*Q,s[5]=d*I+p*F+y*ee+v*se,s[9]=d*L+p*z+y*q+v*fe,s[13]=d*P+p*V+y*$+v*K,s[2]=_*N+S*U+E*Y+b*Q,s[6]=_*I+S*F+E*ee+b*se,s[10]=_*L+S*z+E*q+b*fe,s[14]=_*P+S*V+E*$+b*K,s[3]=w*N+A*U+C*Y+D*Q,s[7]=w*I+A*F+C*ee+D*se,s[11]=w*L+A*z+C*q+D*fe,s[15]=w*P+A*V+C*$+D*K,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],s=e[12],a=e[1],o=e[5],l=e[9],u=e[13],d=e[2],p=e[6],y=e[10],v=e[14],_=e[3],S=e[7],E=e[11],b=e[15];return _*(+s*l*p-r*u*p-s*o*y+i*u*y+r*o*v-i*l*v)+S*(+t*l*v-t*u*y+s*a*y-r*a*v+r*u*d-s*l*d)+E*(+t*u*p-t*o*v-s*a*p+i*a*v+s*o*d-i*u*d)+b*(-r*o*d-t*l*p+t*o*y+r*a*p-i*a*y+i*l*d)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],a=e[4],o=e[5],l=e[6],u=e[7],d=e[8],p=e[9],y=e[10],v=e[11],_=e[12],S=e[13],E=e[14],b=e[15],w=p*E*u-S*y*u+S*l*v-o*E*v-p*l*b+o*y*b,A=_*y*u-d*E*u-_*l*v+a*E*v+d*l*b-a*y*b,C=d*S*u-_*p*u+_*o*v-a*S*v-d*o*b+a*p*b,D=_*p*l-d*S*l-_*o*y+a*S*y+d*o*E-a*p*E,N=t*w+i*A+r*C+s*D;if(N===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const I=1/N;return e[0]=w*I,e[1]=(S*y*s-p*E*s-S*r*v+i*E*v+p*r*b-i*y*b)*I,e[2]=(o*E*s-S*l*s+S*r*u-i*E*u-o*r*b+i*l*b)*I,e[3]=(p*l*s-o*y*s-p*r*u+i*y*u+o*r*v-i*l*v)*I,e[4]=A*I,e[5]=(d*E*s-_*y*s+_*r*v-t*E*v-d*r*b+t*y*b)*I,e[6]=(_*l*s-a*E*s-_*r*u+t*E*u+a*r*b-t*l*b)*I,e[7]=(a*y*s-d*l*s+d*r*u-t*y*u-a*r*v+t*l*v)*I,e[8]=C*I,e[9]=(_*p*s-d*S*s-_*i*v+t*S*v+d*i*b-t*p*b)*I,e[10]=(a*S*s-_*o*s+_*i*u-t*S*u-a*i*b+t*o*b)*I,e[11]=(d*o*s-a*p*s-d*i*u+t*p*u+a*i*v-t*o*v)*I,e[12]=D*I,e[13]=(d*S*r-_*p*r+_*i*y-t*S*y-d*i*E+t*p*E)*I,e[14]=(_*o*r-a*S*r-_*i*l+t*S*l+a*i*E-t*o*E)*I,e[15]=(a*p*r-d*o*r+d*i*l-t*p*l-a*i*y+t*o*y)*I,this}scale(e){const t=this.elements,i=e.x,r=e.y,s=e.z;return t[0]*=i,t[4]*=r,t[8]*=s,t[1]*=i,t[5]*=r,t[9]*=s,t[2]*=i,t[6]*=r,t[10]*=s,t[3]*=i,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),s=1-i,a=e.x,o=e.y,l=e.z,u=s*a,d=s*o;return this.set(u*a+i,u*o-r*l,u*l+r*o,0,u*o+r*l,d*o+i,d*l-r*a,0,u*l-r*o,d*l+r*a,s*l*l+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,s,a){return this.set(1,i,s,0,e,1,a,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,s=t._x,a=t._y,o=t._z,l=t._w,u=s+s,d=a+a,p=o+o,y=s*u,v=s*d,_=s*p,S=a*d,E=a*p,b=o*p,w=l*u,A=l*d,C=l*p,D=i.x,N=i.y,I=i.z;return r[0]=(1-(S+b))*D,r[1]=(v+C)*D,r[2]=(_-A)*D,r[3]=0,r[4]=(v-C)*N,r[5]=(1-(y+b))*N,r[6]=(E+w)*N,r[7]=0,r[8]=(_+A)*I,r[9]=(E-w)*I,r[10]=(1-(y+S))*I,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let s=Ov.set(r[0],r[1],r[2]).length();const a=Ov.set(r[4],r[5],r[6]).length(),o=Ov.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],uu.copy(this);const u=1/s,d=1/a,p=1/o;return uu.elements[0]*=u,uu.elements[1]*=u,uu.elements[2]*=u,uu.elements[4]*=d,uu.elements[5]*=d,uu.elements[6]*=d,uu.elements[8]*=p,uu.elements[9]*=p,uu.elements[10]*=p,t.setFromRotationMatrix(uu),i.x=s,i.y=a,i.z=o,this}makePerspective(e,t,i,r,s,a,o=Rc){const l=this.elements,u=2*s/(t-e),d=2*s/(i-r),p=(t+e)/(t-e),y=(i+r)/(i-r);let v,_;if(o===Rc)v=-(a+s)/(a-s),_=-2*a*s/(a-s);else if(o===oS)v=-a/(a-s),_=-a*s/(a-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);return l[0]=u,l[4]=0,l[8]=p,l[12]=0,l[1]=0,l[5]=d,l[9]=y,l[13]=0,l[2]=0,l[6]=0,l[10]=v,l[14]=_,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,i,r,s,a,o=Rc){const l=this.elements,u=1/(t-e),d=1/(i-r),p=1/(a-s),y=(t+e)*u,v=(i+r)*d;let _,S;if(o===Rc)_=(a+s)*p,S=-2*p;else if(o===oS)_=s*p,S=-1*p;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);return l[0]=2*u,l[4]=0,l[8]=0,l[12]=-y,l[1]=0,l[5]=2*d,l[9]=0,l[13]=-v,l[2]=0,l[6]=0,l[10]=S,l[14]=-_,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const Ov=new he,uu=new an,Uoe=new he(0,0,0),koe=new he(1,1,1),dp=new he,kT=new he,Al=new he,sz=new an,az=new Ca;class jl{constructor(e=0,t=0,i=0,r=jl.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,r=this._order){return this._x=e,this._y=t,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const r=e.elements,s=r[0],a=r[4],o=r[8],l=r[1],u=r[5],d=r[9],p=r[2],y=r[6],v=r[10];switch(t){case"XYZ":this._y=Math.asin(Mn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-d,v),this._z=Math.atan2(-a,s)):(this._x=Math.atan2(y,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Mn(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(o,v),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-p,s),this._z=0);break;case"ZXY":this._x=Math.asin(Mn(y,-1,1)),Math.abs(y)<.9999999?(this._y=Math.atan2(-p,v),this._z=Math.atan2(-a,u)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Mn(p,-1,1)),Math.abs(p)<.9999999?(this._x=Math.atan2(y,v),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-a,u));break;case"YZX":this._z=Math.asin(Mn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-d,u),this._y=Math.atan2(-p,s)):(this._x=0,this._y=Math.atan2(o,v));break;case"XZY":this._z=Math.asin(-Mn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(y,u),this._y=Math.atan2(o,s)):(this._x=Math.atan2(-d,v),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return sz.makeRotationFromQuaternion(e),this.setFromRotationMatrix(sz,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return az.setFromEuler(this),this.setFromQuaternion(az,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}jl.DEFAULT_ORDER="XYZ";class o_{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let zoe=0;const oz=new he,Iv=new Ca,xd=new an,zT=new he,u1=new he,Boe=new he,Foe=new Ca,lz=new he(1,0,0),cz=new he(0,1,0),uz=new he(0,0,1),hz={type:"added"},Voe={type:"removed"},Pv={type:"childadded",child:null},FO={type:"childremoved",child:null};class vi extends Bh{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:zoe++}),this.uuid=zl(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=vi.DEFAULT_UP.clone();const e=new he,t=new jl,i=new Ca,r=new he(1,1,1);function s(){i.setFromEuler(t,!1)}function a(){t.setFromQuaternion(i,void 0,!1)}t._onChange(s),i._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new an},normalMatrix:{value:new Dn}}),this.matrix=new an,this.matrixWorld=new an,this.matrixAutoUpdate=vi.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=vi.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new o_,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Iv.setFromAxisAngle(e,t),this.quaternion.multiply(Iv),this}rotateOnWorldAxis(e,t){return Iv.setFromAxisAngle(e,t),this.quaternion.premultiply(Iv),this}rotateX(e){return this.rotateOnAxis(lz,e)}rotateY(e){return this.rotateOnAxis(cz,e)}rotateZ(e){return this.rotateOnAxis(uz,e)}translateOnAxis(e,t){return oz.copy(e).applyQuaternion(this.quaternion),this.position.add(oz.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(lz,e)}translateY(e){return this.translateOnAxis(cz,e)}translateZ(e){return this.translateOnAxis(uz,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(xd.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?zT.copy(e):zT.set(e,t,i);const r=this.parent;this.updateWorldMatrix(!0,!1),u1.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?xd.lookAt(u1,zT,this.up):xd.lookAt(zT,u1,this.up),this.quaternion.setFromRotationMatrix(xd),r&&(xd.extractRotation(r.matrixWorld),Iv.setFromRotationMatrix(xd),this.quaternion.premultiply(Iv.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(hz),Pv.child=e,this.dispatchEvent(Pv),Pv.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(Voe),FO.child=e,this.dispatchEvent(FO),FO.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),xd.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),xd.multiply(e.parent.matrixWorld)),e.applyMatrix4(xd),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(hz),Pv.child=e,this.dispatchEvent(Pv),Pv.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){const a=this.children[i].getObjectByProperty(e,t);if(a!==void 0)return a}}getObjectsByProperty(e,t,i=[]){this[e]===t&&i.push(this);const r=this.children;for(let s=0,a=r.length;s<a;s++)r[s].getObjectsByProperty(e,t,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(u1,e,Boe),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(u1,Foe,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].updateMatrixWorld(e)}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const r=this.children;for(let s=0,a=r.length;s<a;s++)r[s].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.geometryInfo=this._geometryInfo.map(o=>({...o,boundingBox:o.boundingBox?{min:o.boundingBox.min.toArray(),max:o.boundingBox.max.toArray()}:void 0,boundingSphere:o.boundingSphere?{radius:o.boundingSphere.radius,center:o.boundingSphere.center.toArray()}:void 0})),r.instanceInfo=this._instanceInfo.map(o=>({...o})),r.availableInstanceIds=this._availableInstanceIds.slice(),r.availableGeometryIds=this._availableGeometryIds.slice(),r.nextIndexStart=this._nextIndexStart,r.nextVertexStart=this._nextVertexStart,r.geometryCount=this._geometryCount,r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.matricesTexture=this._matricesTexture.toJSON(e),r.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(r.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(r.boundingSphere={center:this.boundingSphere.center.toArray(),radius:this.boundingSphere.radius}),this.boundingBox!==null&&(r.boundingBox={min:this.boundingBox.min.toArray(),max:this.boundingBox.max.toArray()}));function s(o,l){return o[l.uuid]===void 0&&(o[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){const l=o.shapes;if(Array.isArray(l))for(let u=0,d=l.length;u<d;u++){const p=l[u];s(e.shapes,p)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const o=[];for(let l=0,u=this.material.length;l<u;l++)o.push(s(e.materials,this.material[l]));r.material=o}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let o=0;o<this.children.length;o++)r.children.push(this.children[o].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let o=0;o<this.animations.length;o++){const l=this.animations[o];r.animations.push(s(e.animations,l))}}if(t){const o=a(e.geometries),l=a(e.materials),u=a(e.textures),d=a(e.images),p=a(e.shapes),y=a(e.skeletons),v=a(e.animations),_=a(e.nodes);o.length>0&&(i.geometries=o),l.length>0&&(i.materials=l),u.length>0&&(i.textures=u),d.length>0&&(i.images=d),p.length>0&&(i.shapes=p),y.length>0&&(i.skeletons=y),v.length>0&&(i.animations=v),_.length>0&&(i.nodes=_)}return i.object=r,i;function a(o){const l=[];for(const u in o){const d=o[u];delete d.metadata,l.push(d)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}vi.DEFAULT_UP=new he(0,1,0);vi.DEFAULT_MATRIX_AUTO_UPDATE=!0;vi.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const hu=new he,Sd=new he,VO=new he,Ed=new he,Dv=new he,Nv=new he,dz=new he,HO=new he,jO=new he,GO=new he,qO=new yi,WO=new yi,$O=new yi;class nl{constructor(e=new he,t=new he,i=new he){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),hu.subVectors(e,t),r.cross(hu);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,i,r,s){hu.subVectors(r,t),Sd.subVectors(i,t),VO.subVectors(e,t);const a=hu.dot(hu),o=hu.dot(Sd),l=hu.dot(VO),u=Sd.dot(Sd),d=Sd.dot(VO),p=a*u-o*o;if(p===0)return s.set(0,0,0),null;const y=1/p,v=(u*l-o*d)*y,_=(a*d-o*l)*y;return s.set(1-v-_,_,v)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,Ed)===null?!1:Ed.x>=0&&Ed.y>=0&&Ed.x+Ed.y<=1}static getInterpolation(e,t,i,r,s,a,o,l){return this.getBarycoord(e,t,i,r,Ed)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,Ed.x),l.addScaledVector(a,Ed.y),l.addScaledVector(o,Ed.z),l)}static getInterpolatedAttribute(e,t,i,r,s,a){return qO.setScalar(0),WO.setScalar(0),$O.setScalar(0),qO.fromBufferAttribute(e,t),WO.fromBufferAttribute(e,i),$O.fromBufferAttribute(e,r),a.setScalar(0),a.addScaledVector(qO,s.x),a.addScaledVector(WO,s.y),a.addScaledVector($O,s.z),a}static isFrontFacing(e,t,i,r){return hu.subVectors(i,t),Sd.subVectors(e,t),hu.cross(Sd).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return hu.subVectors(this.c,this.b),Sd.subVectors(this.a,this.b),hu.cross(Sd).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return nl.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return nl.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,i,r,s){return nl.getInterpolation(e,this.a,this.b,this.c,t,i,r,s)}containsPoint(e){return nl.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return nl.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,s=this.c;let a,o;Dv.subVectors(r,i),Nv.subVectors(s,i),HO.subVectors(e,i);const l=Dv.dot(HO),u=Nv.dot(HO);if(l<=0&&u<=0)return t.copy(i);jO.subVectors(e,r);const d=Dv.dot(jO),p=Nv.dot(jO);if(d>=0&&p<=d)return t.copy(r);const y=l*p-d*u;if(y<=0&&l>=0&&d<=0)return a=l/(l-d),t.copy(i).addScaledVector(Dv,a);GO.subVectors(e,s);const v=Dv.dot(GO),_=Nv.dot(GO);if(_>=0&&v<=_)return t.copy(s);const S=v*u-l*_;if(S<=0&&u>=0&&_<=0)return o=u/(u-_),t.copy(i).addScaledVector(Nv,o);const E=d*_-v*p;if(E<=0&&p-d>=0&&v-_>=0)return dz.subVectors(s,r),o=(p-d)/(p-d+(v-_)),t.copy(r).addScaledVector(dz,o);const b=1/(E+S+y);return a=S*b,o=y*b,t.copy(i).addScaledVector(Dv,a).addScaledVector(Nv,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const RG={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},fp={h:0,s:0,l:0},BT={h:0,s:0,l:0};function XO(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class kt{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(t===void 0&&i===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=xa){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,di.toWorkingColorSpace(this,t),this}setRGB(e,t,i,r=di.workingColorSpace){return this.r=e,this.g=t,this.b=i,di.toWorkingColorSpace(this,r),this}setHSL(e,t,i,r=di.workingColorSpace){if(e=_L(e,1),t=Mn(t,0,1),i=Mn(i,0,1),t===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+t):i+t-i*t,a=2*i-s;this.r=XO(a,s,e+1/3),this.g=XO(a,s,e),this.b=XO(a,s,e-1/3)}return di.toWorkingColorSpace(this,r),this}setStyle(e,t=xa){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const a=r[1],o=r[2];switch(a){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],a=s.length;if(a===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(a===6)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=xa){const i=RG[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=$d(e.r),this.g=$d(e.g),this.b=$d(e.b),this}copyLinearToSRGB(e){return this.r=k0(e.r),this.g=k0(e.g),this.b=k0(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=xa){return di.fromWorkingColorSpace(Wa.copy(this),e),Math.round(Mn(Wa.r*255,0,255))*65536+Math.round(Mn(Wa.g*255,0,255))*256+Math.round(Mn(Wa.b*255,0,255))}getHexString(e=xa){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=di.workingColorSpace){di.fromWorkingColorSpace(Wa.copy(this),t);const i=Wa.r,r=Wa.g,s=Wa.b,a=Math.max(i,r,s),o=Math.min(i,r,s);let l,u;const d=(o+a)/2;if(o===a)l=0,u=0;else{const p=a-o;switch(u=d<=.5?p/(a+o):p/(2-a-o),a){case i:l=(r-s)/p+(r<s?6:0);break;case r:l=(s-i)/p+2;break;case s:l=(i-r)/p+4;break}l/=6}return e.h=l,e.s=u,e.l=d,e}getRGB(e,t=di.workingColorSpace){return di.fromWorkingColorSpace(Wa.copy(this),t),e.r=Wa.r,e.g=Wa.g,e.b=Wa.b,e}getStyle(e=xa){di.fromWorkingColorSpace(Wa.copy(this),e);const t=Wa.r,i=Wa.g,r=Wa.b;return e!==xa?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,t,i){return this.getHSL(fp),this.setHSL(fp.h+e,fp.s+t,fp.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(fp),e.getHSL(BT);const i=Tx(fp.h,BT.h,t),r=Tx(fp.s,BT.s,t),s=Tx(fp.l,BT.l,t);return this.setHSL(i,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,r=this.b,s=e.elements;return this.r=s[0]*t+s[3]*i+s[6]*r,this.g=s[1]*t+s[4]*i+s[7]*r,this.b=s[2]*t+s[5]*i+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Wa=new kt;kt.NAMES=RG;let Hoe=0;class no extends Bh{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Hoe++}),this.uuid=zl(),this.name="",this.type="Material",this.blending=Qg,this.side=sf,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=vC,this.blendDst=_C,this.blendEquation=wp,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new kt(0,0,0),this.blendAlpha=0,this.depthFunc=ly,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=IP,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Rg,this.stencilZFail=Rg,this.stencilZPass=Rg,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Qg&&(i.blending=this.blending),this.side!==sf&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==vC&&(i.blendSrc=this.blendSrc),this.blendDst!==_C&&(i.blendDst=this.blendDst),this.blendEquation!==wp&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==ly&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==IP&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Rg&&(i.stencilFail=this.stencilFail),this.stencilZFail!==Rg&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==Rg&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(s){const a=[];for(const o in s){const l=s[o];delete l.metadata,a.push(l)}return a}if(t){const s=r(e.textures),a=r(e.images);s.length>0&&(i.textures=s),a.length>0&&(i.images=a)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const r=t.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=t[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class cm extends no{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new kt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new jl,this.combine=GS,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const zd=joe();function joe(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){const u=l-127;u<-27?(i[l]=0,i[l|256]=32768,r[l]=24,r[l|256]=24):u<-14?(i[l]=1024>>-u-14,i[l|256]=1024>>-u-14|32768,r[l]=-u-1,r[l|256]=-u-1):u<=15?(i[l]=u+15<<10,i[l|256]=u+15<<10|32768,r[l]=13,r[l|256]=13):u<128?(i[l]=31744,i[l|256]=64512,r[l]=24,r[l|256]=24):(i[l]=31744,i[l|256]=64512,r[l]=13,r[l|256]=13)}const s=new Uint32Array(2048),a=new Uint32Array(64),o=new Uint32Array(64);for(let l=1;l<1024;++l){let u=l<<13,d=0;for(;(u&8388608)===0;)u<<=1,d-=8388608;u&=-8388609,d+=947912704,s[l]=u|d}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)a[l]=l<<23;a[31]=1199570944,a[32]=2147483648;for(let l=33;l<63;++l)a[l]=2147483648+(l-32<<23);a[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(o[l]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:r,mantissaTable:s,exponentTable:a,offsetTable:o}}function Ko(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=Mn(n,-65504,65504),zd.floatView[0]=n;const e=zd.uint32View[0],t=e>>23&511;return zd.baseTable[t]+((e&8388607)>>zd.shiftTable[t])}function X1(n){const e=n>>10;return zd.uint32View[0]=zd.mantissaTable[zd.offsetTable[e]+(n&1023)]+zd.exponentTable[e],zd.floatView[0]}class Goe{static toHalfFloat(e){return Ko(e)}static fromHalfFloat(e){return X1(e)}}const Es=new he,FT=new rt;let qoe=0;class Hi{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:qoe++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=aS,this.updateRanges=[],this.gpuType=Io,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)FT.fromBufferAttribute(this,t),FT.applyMatrix3(e),this.setXY(t,FT.x,FT.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)Es.fromBufferAttribute(this,t),Es.applyMatrix3(e),this.setXYZ(t,Es.x,Es.y,Es.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)Es.fromBufferAttribute(this,t),Es.applyMatrix4(e),this.setXYZ(t,Es.x,Es.y,Es.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Es.fromBufferAttribute(this,t),Es.applyNormalMatrix(e),this.setXYZ(t,Es.x,Es.y,Es.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Es.fromBufferAttribute(this,t),Es.transformDirection(e),this.setXYZ(t,Es.x,Es.y,Es.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let i=this.array[e*this.itemSize+t];return this.normalized&&(i=Ro(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=kn(i,this.array)),this.array[e*this.itemSize+t]=i,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Ro(t,this.array)),t}setX(e,t){return this.normalized&&(t=kn(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Ro(t,this.array)),t}setY(e,t){return this.normalized&&(t=kn(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Ro(t,this.array)),t}setZ(e,t){return this.normalized&&(t=kn(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Ro(t,this.array)),t}setW(e,t){return this.normalized&&(t=kn(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=kn(t,this.array),i=kn(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=kn(t,this.array),i=kn(i,this.array),r=kn(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=kn(t,this.array),i=kn(i,this.array),r=kn(r,this.array),s=kn(s,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==aS&&(e.usage=this.usage),e}}class Woe extends Hi{constructor(e,t,i){super(new Int8Array(e),t,i)}}class $oe extends Hi{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class Xoe extends Hi{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class Yoe extends Hi{constructor(e,t,i){super(new Int16Array(e),t,i)}}class bL extends Hi{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class Koe extends Hi{constructor(e,t,i){super(new Int32Array(e),t,i)}}class xL extends Hi{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class Zoe extends Hi{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}getX(e){let t=X1(this.array[e*this.itemSize]);return this.normalized&&(t=Ro(t,this.array)),t}setX(e,t){return this.normalized&&(t=kn(t,this.array)),this.array[e*this.itemSize]=Ko(t),this}getY(e){let t=X1(this.array[e*this.itemSize+1]);return this.normalized&&(t=Ro(t,this.array)),t}setY(e,t){return this.normalized&&(t=kn(t,this.array)),this.array[e*this.itemSize+1]=Ko(t),this}getZ(e){let t=X1(this.array[e*this.itemSize+2]);return this.normalized&&(t=Ro(t,this.array)),t}setZ(e,t){return this.normalized&&(t=kn(t,this.array)),this.array[e*this.itemSize+2]=Ko(t),this}getW(e){let t=X1(this.array[e*this.itemSize+3]);return this.normalized&&(t=Ro(t,this.array)),t}setW(e,t){return this.normalized&&(t=kn(t,this.array)),this.array[e*this.itemSize+3]=Ko(t),this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=kn(t,this.array),i=kn(i,this.array)),this.array[e+0]=Ko(t),this.array[e+1]=Ko(i),this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=kn(t,this.array),i=kn(i,this.array),r=kn(r,this.array)),this.array[e+0]=Ko(t),this.array[e+1]=Ko(i),this.array[e+2]=Ko(r),this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=kn(t,this.array),i=kn(i,this.array),r=kn(r,this.array),s=kn(s,this.array)),this.array[e+0]=Ko(t),this.array[e+1]=Ko(i),this.array[e+2]=Ko(r),this.array[e+3]=Ko(s),this}}class Ht extends Hi{constructor(e,t,i){super(new Float32Array(e),t,i)}}let Qoe=0;const vc=new an,YO=new vi,Lv=new he,Ml=new ia,h1=new ia,Qs=new he;class Nn extends Bh{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Qoe++}),this.uuid=zl(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(CG(e)?xL:bL)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new Dn().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return vc.makeRotationFromQuaternion(e),this.applyMatrix4(vc),this}rotateX(e){return vc.makeRotationX(e),this.applyMatrix4(vc),this}rotateY(e){return vc.makeRotationY(e),this.applyMatrix4(vc),this}rotateZ(e){return vc.makeRotationZ(e),this.applyMatrix4(vc),this}translate(e,t,i){return vc.makeTranslation(e,t,i),this.applyMatrix4(vc),this}scale(e,t,i){return vc.makeScale(e,t,i),this.applyMatrix4(vc),this}lookAt(e){return YO.lookAt(e),YO.updateMatrix(),this.applyMatrix4(YO.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Lv).negate(),this.translate(Lv.x,Lv.y,Lv.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const i=[];for(let r=0,s=e.length;r<s;r++){const a=e[r];i.push(a.x,a.y,a.z||0)}this.setAttribute("position",new Ht(i,3))}else{const i=Math.min(e.length,t.count);for(let r=0;r<i;r++){const s=e[r];t.setXYZ(r,s.x,s.y,s.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ia);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new he(-1/0,-1/0,-1/0),new he(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){const s=t[i];Ml.setFromBufferAttribute(s),this.morphTargetsRelative?(Qs.addVectors(this.boundingBox.min,Ml.min),this.boundingBox.expandByPoint(Qs),Qs.addVectors(this.boundingBox.max,Ml.max),this.boundingBox.expandByPoint(Qs)):(this.boundingBox.expandByPoint(Ml.min),this.boundingBox.expandByPoint(Ml.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new ra);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new he,1/0);return}if(e){const i=this.boundingSphere.center;if(Ml.setFromBufferAttribute(e),t)for(let s=0,a=t.length;s<a;s++){const o=t[s];h1.setFromBufferAttribute(o),this.morphTargetsRelative?(Qs.addVectors(Ml.min,h1.min),Ml.expandByPoint(Qs),Qs.addVectors(Ml.max,h1.max),Ml.expandByPoint(Qs)):(Ml.expandByPoint(h1.min),Ml.expandByPoint(h1.max))}Ml.getCenter(i);let r=0;for(let s=0,a=e.count;s<a;s++)Qs.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(Qs));if(t)for(let s=0,a=t.length;s<a;s++){const o=t[s],l=this.morphTargetsRelative;for(let u=0,d=o.count;u<d;u++)Qs.fromBufferAttribute(o,u),l&&(Lv.fromBufferAttribute(e,u),Qs.add(Lv)),r=Math.max(r,i.distanceToSquared(Qs))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=t.position,r=t.normal,s=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Hi(new Float32Array(4*i.count),4));const a=this.getAttribute("tangent"),o=[],l=[];for(let L=0;L<i.count;L++)o[L]=new he,l[L]=new he;const u=new he,d=new he,p=new he,y=new rt,v=new rt,_=new rt,S=new he,E=new he;function b(L,P,U){u.fromBufferAttribute(i,L),d.fromBufferAttribute(i,P),p.fromBufferAttribute(i,U),y.fromBufferAttribute(s,L),v.fromBufferAttribute(s,P),_.fromBufferAttribute(s,U),d.sub(u),p.sub(u),v.sub(y),_.sub(y);const F=1/(v.x*_.y-_.x*v.y);isFinite(F)&&(S.copy(d).multiplyScalar(_.y).addScaledVector(p,-v.y).multiplyScalar(F),E.copy(p).multiplyScalar(v.x).addScaledVector(d,-_.x).multiplyScalar(F),o[L].add(S),o[P].add(S),o[U].add(S),l[L].add(E),l[P].add(E),l[U].add(E))}let w=this.groups;w.length===0&&(w=[{start:0,count:e.count}]);for(let L=0,P=w.length;L<P;++L){const U=w[L],F=U.start,z=U.count;for(let V=F,Y=F+z;V<Y;V+=3)b(e.getX(V+0),e.getX(V+1),e.getX(V+2))}const A=new he,C=new he,D=new he,N=new he;function I(L){D.fromBufferAttribute(r,L),N.copy(D);const P=o[L];A.copy(P),A.sub(D.multiplyScalar(D.dot(P))).normalize(),C.crossVectors(N,P);const F=C.dot(l[L])<0?-1:1;a.setXYZW(L,A.x,A.y,A.z,F)}for(let L=0,P=w.length;L<P;++L){const U=w[L],F=U.start,z=U.count;for(let V=F,Y=F+z;V<Y;V+=3)I(e.getX(V+0)),I(e.getX(V+1)),I(e.getX(V+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Hi(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let y=0,v=i.count;y<v;y++)i.setXYZ(y,0,0,0);const r=new he,s=new he,a=new he,o=new he,l=new he,u=new he,d=new he,p=new he;if(e)for(let y=0,v=e.count;y<v;y+=3){const _=e.getX(y+0),S=e.getX(y+1),E=e.getX(y+2);r.fromBufferAttribute(t,_),s.fromBufferAttribute(t,S),a.fromBufferAttribute(t,E),d.subVectors(a,s),p.subVectors(r,s),d.cross(p),o.fromBufferAttribute(i,_),l.fromBufferAttribute(i,S),u.fromBufferAttribute(i,E),o.add(d),l.add(d),u.add(d),i.setXYZ(_,o.x,o.y,o.z),i.setXYZ(S,l.x,l.y,l.z),i.setXYZ(E,u.x,u.y,u.z)}else for(let y=0,v=t.count;y<v;y+=3)r.fromBufferAttribute(t,y+0),s.fromBufferAttribute(t,y+1),a.fromBufferAttribute(t,y+2),d.subVectors(a,s),p.subVectors(r,s),d.cross(p),i.setXYZ(y+0,d.x,d.y,d.z),i.setXYZ(y+1,d.x,d.y,d.z),i.setXYZ(y+2,d.x,d.y,d.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)Qs.fromBufferAttribute(e,t),Qs.normalize(),e.setXYZ(t,Qs.x,Qs.y,Qs.z)}toNonIndexed(){function e(o,l){const u=o.array,d=o.itemSize,p=o.normalized,y=new u.constructor(l.length*d);let v=0,_=0;for(let S=0,E=l.length;S<E;S++){o.isInterleavedBufferAttribute?v=l[S]*o.data.stride+o.offset:v=l[S]*d;for(let b=0;b<d;b++)y[_++]=u[v++]}return new Hi(y,d,p)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Nn,i=this.index.array,r=this.attributes;for(const o in r){const l=r[o],u=e(l,i);t.setAttribute(o,u)}const s=this.morphAttributes;for(const o in s){const l=[],u=s[o];for(let d=0,p=u.length;d<p;d++){const y=u[d],v=e(y,i);l.push(v)}t.morphAttributes[o]=l}t.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let o=0,l=a.length;o<l;o++){const u=a[o];t.addGroup(u.start,u.count,u.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const l in i){const u=i[l];e.data.attributes[l]=u.toJSON(e.data)}const r={};let s=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],d=[];for(let p=0,y=u.length;p<y;p++){const v=u[p];d.push(v.toJSON(e.data))}d.length>0&&(r[l]=d,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const o=this.boundingSphere;return o!==null&&(e.data.boundingSphere={center:o.center.toArray(),radius:o.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone());const r=e.attributes;for(const u in r){const d=r[u];this.setAttribute(u,d.clone(t))}const s=e.morphAttributes;for(const u in s){const d=[],p=s[u];for(let y=0,v=p.length;y<v;y++)d.push(p[y].clone(t));this.morphAttributes[u]=d}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let u=0,d=a.length;u<d;u++){const p=a[u];this.addGroup(p.start,p.count,p.materialIndex)}const o=e.boundingBox;o!==null&&(this.boundingBox=o.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const fz=new an,cg=new L_,VT=new ra,pz=new he,HT=new he,jT=new he,GT=new he,KO=new he,qT=new he,mz=new he,WT=new he;class is extends vi{constructor(e=new Nn,t=new cm){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){const o=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}getVertexPosition(e,t){const i=this.geometry,r=i.attributes.position,s=i.morphAttributes.position,a=i.morphTargetsRelative;t.fromBufferAttribute(r,e);const o=this.morphTargetInfluences;if(s&&o){qT.set(0,0,0);for(let l=0,u=s.length;l<u;l++){const d=o[l],p=s[l];d!==0&&(KO.fromBufferAttribute(p,e),a?qT.addScaledVector(KO,d):qT.addScaledVector(KO.sub(t),d))}t.add(qT)}return t}raycast(e,t){const i=this.geometry,r=this.material,s=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),VT.copy(i.boundingSphere),VT.applyMatrix4(s),cg.copy(e.ray).recast(e.near),!(VT.containsPoint(cg.origin)===!1&&(cg.intersectSphere(VT,pz)===null||cg.origin.distanceToSquared(pz)>(e.far-e.near)**2))&&(fz.copy(s).invert(),cg.copy(e.ray).applyMatrix4(fz),!(i.boundingBox!==null&&cg.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,t,cg)))}_computeIntersections(e,t,i){let r;const s=this.geometry,a=this.material,o=s.index,l=s.attributes.position,u=s.attributes.uv,d=s.attributes.uv1,p=s.attributes.normal,y=s.groups,v=s.drawRange;if(o!==null)if(Array.isArray(a))for(let _=0,S=y.length;_<S;_++){const E=y[_],b=a[E.materialIndex],w=Math.max(E.start,v.start),A=Math.min(o.count,Math.min(E.start+E.count,v.start+v.count));for(let C=w,D=A;C<D;C+=3){const N=o.getX(C),I=o.getX(C+1),L=o.getX(C+2);r=$T(this,b,e,i,u,d,p,N,I,L),r&&(r.faceIndex=Math.floor(C/3),r.face.materialIndex=E.materialIndex,t.push(r))}}else{const _=Math.max(0,v.start),S=Math.min(o.count,v.start+v.count);for(let E=_,b=S;E<b;E+=3){const w=o.getX(E),A=o.getX(E+1),C=o.getX(E+2);r=$T(this,a,e,i,u,d,p,w,A,C),r&&(r.faceIndex=Math.floor(E/3),t.push(r))}}else if(l!==void 0)if(Array.isArray(a))for(let _=0,S=y.length;_<S;_++){const E=y[_],b=a[E.materialIndex],w=Math.max(E.start,v.start),A=Math.min(l.count,Math.min(E.start+E.count,v.start+v.count));for(let C=w,D=A;C<D;C+=3){const N=C,I=C+1,L=C+2;r=$T(this,b,e,i,u,d,p,N,I,L),r&&(r.faceIndex=Math.floor(C/3),r.face.materialIndex=E.materialIndex,t.push(r))}}else{const _=Math.max(0,v.start),S=Math.min(l.count,v.start+v.count);for(let E=_,b=S;E<b;E+=3){const w=E,A=E+1,C=E+2;r=$T(this,a,e,i,u,d,p,w,A,C),r&&(r.faceIndex=Math.floor(E/3),t.push(r))}}}}function Joe(n,e,t,i,r,s,a,o){let l;if(e.side===Po?l=i.intersectTriangle(a,s,r,!0,o):l=i.intersectTriangle(r,s,a,e.side===sf,o),l===null)return null;WT.copy(o),WT.applyMatrix4(n.matrixWorld);const u=t.ray.origin.distanceTo(WT);return u<t.near||u>t.far?null:{distance:u,point:WT.clone(),object:n}}function $T(n,e,t,i,r,s,a,o,l,u){n.getVertexPosition(o,HT),n.getVertexPosition(l,jT),n.getVertexPosition(u,GT);const d=Joe(n,e,t,i,HT,jT,GT,mz);if(d){const p=new he;nl.getBarycoord(mz,HT,jT,GT,p),r&&(d.uv=nl.getInterpolatedAttribute(r,o,l,u,p,new rt)),s&&(d.uv1=nl.getInterpolatedAttribute(s,o,l,u,p,new rt)),a&&(d.normal=nl.getInterpolatedAttribute(a,o,l,u,p,new he),d.normal.dot(i.direction)>0&&d.normal.multiplyScalar(-1));const y={a:o,b:l,c:u,normal:new he,materialIndex:0};nl.getNormal(HT,jT,GT,y.normal),d.face=y,d.barycoord=p}return d}class Sy extends Nn{constructor(e=1,t=1,i=1,r=1,s=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:s,depthSegments:a};const o=this;r=Math.floor(r),s=Math.floor(s),a=Math.floor(a);const l=[],u=[],d=[],p=[];let y=0,v=0;_("z","y","x",-1,-1,i,t,e,a,s,0),_("z","y","x",1,-1,i,t,-e,a,s,1),_("x","z","y",1,1,e,i,t,r,a,2),_("x","z","y",1,-1,e,i,-t,r,a,3),_("x","y","z",1,-1,e,t,i,r,s,4),_("x","y","z",-1,-1,e,t,-i,r,s,5),this.setIndex(l),this.setAttribute("position",new Ht(u,3)),this.setAttribute("normal",new Ht(d,3)),this.setAttribute("uv",new Ht(p,2));function _(S,E,b,w,A,C,D,N,I,L,P){const U=C/I,F=D/L,z=C/2,V=D/2,Y=N/2,ee=I+1,q=L+1;let $=0,Q=0;const se=new he;for(let fe=0;fe<q;fe++){const K=fe*F-V;for(let le=0;le<ee;le++){const pe=le*U-z;se[S]=pe*w,se[E]=K*A,se[b]=Y,u.push(se.x,se.y,se.z),se[S]=0,se[E]=0,se[b]=N>0?1:-1,d.push(se.x,se.y,se.z),p.push(le/I),p.push(1-fe/L),$+=1}}for(let fe=0;fe<L;fe++)for(let K=0;K<I;K++){const le=y+K+ee*fe,pe=y+K+ee*(fe+1),ue=y+(K+1)+ee*(fe+1),ie=y+(K+1)+ee*fe;l.push(le,pe,ie),l.push(pe,ue,ie),Q+=6}o.addGroup(v,Q,P),v+=Q,y+=$}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Sy(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function l_(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=r.clone():Array.isArray(r)?e[t][i]=r.slice():e[t][i]=r}}return e}function Co(n){const e={};for(let t=0;t<n.length;t++){const i=l_(n[t]);for(const r in i)e[r]=i[r]}return e}function ele(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function OG(n){const e=n.getRenderTarget();return e===null?n.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:di.workingColorSpace}const IG={clone:l_,merge:Co};var tle=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,nle=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Tu extends no{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=tle,this.fragmentShader=nle,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=l_(e.uniforms),this.uniformsGroups=ele(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const a=this.uniforms[r].value;a&&a.isTexture?t.uniforms[r]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?t.uniforms[r]={type:"c",value:a.getHex()}:a&&a.isVector2?t.uniforms[r]={type:"v2",value:a.toArray()}:a&&a.isVector3?t.uniforms[r]={type:"v3",value:a.toArray()}:a&&a.isVector4?t.uniforms[r]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?t.uniforms[r]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?t.uniforms[r]={type:"m4",value:a.toArray()}:t.uniforms[r]={value:a}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class yM extends vi{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new an,this.projectionMatrix=new an,this.projectionMatrixInverse=new an,this.coordinateSystem=Rc}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const pp=new he,gz=new rt,yz=new rt;class ta extends yM{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=a_*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Jg*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return a_*2*Math.atan(Math.tan(Jg*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,i){pp.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(pp.x,pp.y).multiplyScalar(-e/pp.z),pp.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(pp.x,pp.y).multiplyScalar(-e/pp.z)}getViewSize(e,t){return this.getViewBounds(e,gz,yz),t.subVectors(yz,gz)}setViewOffset(e,t,i,r,s,a){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Jg*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,s=-.5*r;const a=this.view;if(this.view!==null&&this.view.enabled){const l=a.fullWidth,u=a.fullHeight;s+=a.offsetX*r/l,t-=a.offsetY*i/u,r*=a.width/l,i*=a.height/u}const o=this.filmOffset;o!==0&&(s+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Uv=-90,kv=1;class PG extends vi{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new ta(Uv,kv,e,t);r.layers=this.layers,this.add(r);const s=new ta(Uv,kv,e,t);s.layers=this.layers,this.add(s);const a=new ta(Uv,kv,e,t);a.layers=this.layers,this.add(a);const o=new ta(Uv,kv,e,t);o.layers=this.layers,this.add(o);const l=new ta(Uv,kv,e,t);l.layers=this.layers,this.add(l);const u=new ta(Uv,kv,e,t);u.layers=this.layers,this.add(u)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[i,r,s,a,o,l]=t;for(const u of t)this.remove(u);if(e===Rc)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===oS)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const u of t)this.add(u),u.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,a,o,l,u,d]=this.children,p=e.getRenderTarget(),y=e.getActiveCubeFace(),v=e.getActiveMipmapLevel(),_=e.xr.enabled;e.xr.enabled=!1;const S=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,r),e.render(t,s),e.setRenderTarget(i,1,r),e.render(t,a),e.setRenderTarget(i,2,r),e.render(t,o),e.setRenderTarget(i,3,r),e.render(t,l),e.setRenderTarget(i,4,r),e.render(t,u),i.texture.generateMipmaps=S,e.setRenderTarget(i,5,r),e.render(t,d),e.setRenderTarget(p,y,v),e.xr.enabled=_,i.texture.needsPMREMUpdate=!0}}class $S extends rs{constructor(e=[],t=af,i,r,s,a,o,l,u,d){super(e,t,i,r,s,a,o,l,u,d),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class DG extends Eu{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new $S(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:ps}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new Sy(5,5,5),s=new Tu({name:"CubemapFromEquirect",uniforms:l_(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Po,blending:Wd});s.uniforms.tEquirect.value=t;const a=new is(r,s),o=t.minFilter;return t.minFilter===Sh&&(t.minFilter=ps),new PG(1,10,this).update(e,a),t.minFilter=o,a.geometry.dispose(),a.material.dispose(),this}clear(e,t=!0,i=!0,r=!0){const s=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,i,r);e.setRenderTarget(s)}}class Vd extends vi{constructor(){super(),this.isGroup=!0,this.type="Group"}}const ile={type:"move"};class M2{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Vd,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Vd,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new he,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new he),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Vd,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new he,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new he),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,s=null,a=null;const o=this._targetRay,l=this._grip,u=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(u&&e.hand){a=!0;for(const S of e.hand.values()){const E=t.getJointPose(S,i),b=this._getHandJoint(u,S);E!==null&&(b.matrix.fromArray(E.transform.matrix),b.matrix.decompose(b.position,b.rotation,b.scale),b.matrixWorldNeedsUpdate=!0,b.jointRadius=E.radius),b.visible=E!==null}const d=u.joints["index-finger-tip"],p=u.joints["thumb-tip"],y=d.position.distanceTo(p.position),v=.02,_=.005;u.inputState.pinching&&y>v+_?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&y<=v-_&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,i),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));o!==null&&(r=t.getPose(e.targetRaySpace,i),r===null&&s!==null&&(r=s),r!==null&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(ile)))}return o!==null&&(o.visible=r!==null),l!==null&&(l.visible=s!==null),u!==null&&(u.visible=a!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new Vd;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class vM{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new kt(e),this.density=t}clone(){return new vM(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class _M{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new kt(e),this.near=t,this.far=i}clone(){return new _M(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class bM extends vi{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new jl,this.environmentIntensity=1,this.environmentRotation=new jl,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class xM{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=aS,this.updateRanges=[],this.version=0,this.uuid=zl()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=zl()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=zl()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const wo=new he;class cy{constructor(e,t,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)wo.fromBufferAttribute(this,t),wo.applyMatrix4(e),this.setXYZ(t,wo.x,wo.y,wo.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)wo.fromBufferAttribute(this,t),wo.applyNormalMatrix(e),this.setXYZ(t,wo.x,wo.y,wo.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)wo.fromBufferAttribute(this,t),wo.transformDirection(e),this.setXYZ(t,wo.x,wo.y,wo.z);return this}getComponent(e,t){let i=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(i=Ro(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=kn(i,this.array)),this.data.array[e*this.data.stride+this.offset+t]=i,this}setX(e,t){return this.normalized&&(t=kn(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=kn(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=kn(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=kn(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Ro(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Ro(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Ro(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Ro(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=kn(t,this.array),i=kn(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=kn(t,this.array),i=kn(i,this.array),r=kn(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=kn(t,this.array),i=kn(i,this.array),r=kn(r,this.array),s=kn(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return new Hi(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new cy(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class SM extends no{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new kt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let zv;const d1=new he,Bv=new he,Fv=new he,Vv=new rt,f1=new rt,NG=new an,XT=new he,p1=new he,YT=new he,vz=new rt,ZO=new rt,_z=new rt;class SL extends vi{constructor(e=new SM){if(super(),this.isSprite=!0,this.type="Sprite",zv===void 0){zv=new Nn;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new xM(t,5);zv.setIndex([0,1,2,0,2,3]),zv.setAttribute("position",new cy(i,3,0,!1)),zv.setAttribute("uv",new cy(i,2,3,!1))}this.geometry=zv,this.material=e,this.center=new rt(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Bv.setFromMatrixScale(this.matrixWorld),NG.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Fv.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Bv.multiplyScalar(-Fv.z);const i=this.material.rotation;let r,s;i!==0&&(s=Math.cos(i),r=Math.sin(i));const a=this.center;KT(XT.set(-.5,-.5,0),Fv,a,Bv,r,s),KT(p1.set(.5,-.5,0),Fv,a,Bv,r,s),KT(YT.set(.5,.5,0),Fv,a,Bv,r,s),vz.set(0,0),ZO.set(1,0),_z.set(1,1);let o=e.ray.intersectTriangle(XT,p1,YT,!1,d1);if(o===null&&(KT(p1.set(-.5,.5,0),Fv,a,Bv,r,s),ZO.set(0,1),o=e.ray.intersectTriangle(XT,YT,p1,!1,d1),o===null))return;const l=e.ray.origin.distanceTo(d1);l<e.near||l>e.far||t.push({distance:l,point:d1.clone(),uv:nl.getInterpolation(d1,XT,p1,YT,vz,ZO,_z,new rt),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function KT(n,e,t,i,r,s){Vv.subVectors(n,t).addScalar(.5).multiply(i),r!==void 0?(f1.x=s*Vv.x-r*Vv.y,f1.y=r*Vv.x+s*Vv.y):f1.copy(Vv),n.copy(e),n.x+=f1.x,n.y+=f1.y,n.applyMatrix4(NG)}const ZT=new he,bz=new he;class LG extends vi{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,r=t.length;i<r;i++){const s=t[i];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const r=this.levels;let s;for(s=0;s<r.length&&!(t<r[s].distance);s++);return r.splice(s,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let i=0;i<t.length;i++)if(t[i].distance===e){const r=t.splice(i,1);return this.remove(r[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,r;for(i=1,r=t.length;i<r;i++){let s=t[i].distance;if(t[i].object.visible&&(s-=s*t[i].hysteresis),e<s)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){ZT.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(ZT);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){ZT.setFromMatrixPosition(e.matrixWorld),bz.setFromMatrixPosition(this.matrixWorld);const i=ZT.distanceTo(bz)/e.zoom;t[0].object.visible=!0;let r,s;for(r=1,s=t.length;r<s;r++){let a=t[r].distance;if(t[r].object.visible&&(a-=a*t[r].hysteresis),i>=a)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<s;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let r=0,s=i.length;r<s;r++){const a=i[r];t.object.levels.push({object:a.object.uuid,distance:a.distance,hysteresis:a.hysteresis})}return t}}const xz=new he,Sz=new yi,Ez=new yi,rle=new he,Tz=new an,QT=new he,QO=new ra,wz=new an,JO=new L_;class UG extends is{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=OP,this.bindMatrix=new an,this.bindMatrixInverse=new an,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new ia),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,QT),this.boundingBox.expandByPoint(QT)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new ra),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,QT),this.boundingSphere.expandByPoint(QT)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const i=this.material,r=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),QO.copy(this.boundingSphere),QO.applyMatrix4(r),e.ray.intersectsSphere(QO)!==!1&&(wz.copy(r).invert(),JO.copy(e.ray).applyMatrix4(wz),!(this.boundingBox!==null&&JO.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,JO)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new yi,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.fromBufferAttribute(t,i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===OP?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===hG?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const i=this.skeleton,r=this.geometry;Sz.fromBufferAttribute(r.attributes.skinIndex,e),Ez.fromBufferAttribute(r.attributes.skinWeight,e),xz.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const a=Ez.getComponent(s);if(a!==0){const o=Sz.getComponent(s);Tz.multiplyMatrices(i.bones[o].matrixWorld,i.boneInverses[o]),t.addScaledVector(rle.copy(xz).applyMatrix4(Tz),a)}}return t.applyMatrix4(this.bindMatrixInverse)}}class EL extends vi{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Dh extends rs{constructor(e=null,t=1,i=1,r,s,a,o,l,u=wa,d=wa,p,y){super(null,a,o,l,u,d,r,s,p,y),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const Cz=new an,sle=new an;class EM{constructor(e=[],t=[]){this.uuid=zl(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new an)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new an;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let s=0,a=e.length;s<a;s++){const o=e[s]?e[s].matrixWorld:sle;Cz.multiplyMatrices(o,t[s]),Cz.toArray(i,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new EM(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new Dh(t,e,e,Ja,Io);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const s=e.bones[i];let a=t[s];a===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),a=new EL),this.bones.push(a),this.boneInverses.push(new an().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let r=0,s=t.length;r<s;r++){const a=t[r];e.bones.push(a.uuid);const o=i[r];e.boneInverses.push(o.toArray())}return e}}class c_ extends Hi{constructor(e,t,i,r=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Hv=new an,Az=new an,JT=[],Mz=new ia,ale=new an,m1=new is,g1=new ra;class kG extends is{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new c_(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,ale)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new ia),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,Hv),Mz.copy(e.boundingBox).applyMatrix4(Hv),this.boundingBox.union(Mz)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new ra),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,Hv),g1.copy(e.boundingSphere).applyMatrix4(Hv),this.boundingSphere.union(g1)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const i=t.morphTargetInfluences,r=this.morphTexture.source.data.data,s=i.length+1,a=e*s+1;for(let o=0;o<i.length;o++)i[o]=r[a+o]}raycast(e,t){const i=this.matrixWorld,r=this.count;if(m1.geometry=this.geometry,m1.material=this.material,m1.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),g1.copy(this.boundingSphere),g1.applyMatrix4(i),e.ray.intersectsSphere(g1)!==!1))for(let s=0;s<r;s++){this.getMatrixAt(s,Hv),Az.multiplyMatrices(i,Hv),m1.matrixWorld=Az,m1.raycast(e,JT);for(let a=0,o=JT.length;a<o;a++){const l=JT[a];l.instanceId=s,l.object=this,t.push(l)}JT.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new c_(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const i=t.morphTargetInfluences,r=i.length+1;this.morphTexture===null&&(this.morphTexture=new Dh(new Float32Array(r*this.count),r,this.count,hM,Io));const s=this.morphTexture.source.data.data;let a=0;for(let u=0;u<i.length;u++)a+=i[u];const o=this.geometry.morphTargetsRelative?1:1-a,l=r*e;s[l]=o,s.set(i,l+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const eI=new he,ole=new he,lle=new Dn;class _p{constructor(e=new he(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=eI.subVectors(i,t).cross(ole.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(eI),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(e.start).addScaledVector(i,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||lle.getNormalMatrix(e),r=this.coplanarPoint(eI).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const ug=new ra,ew=new he;class U_{constructor(e=new _p,t=new _p,i=new _p,r=new _p,s=new _p,a=new _p){this.planes=[e,t,i,r,s,a]}set(e,t,i,r,s,a){const o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(i),o[3].copy(r),o[4].copy(s),o[5].copy(a),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=Rc){const i=this.planes,r=e.elements,s=r[0],a=r[1],o=r[2],l=r[3],u=r[4],d=r[5],p=r[6],y=r[7],v=r[8],_=r[9],S=r[10],E=r[11],b=r[12],w=r[13],A=r[14],C=r[15];if(i[0].setComponents(l-s,y-u,E-v,C-b).normalize(),i[1].setComponents(l+s,y+u,E+v,C+b).normalize(),i[2].setComponents(l+a,y+d,E+_,C+w).normalize(),i[3].setComponents(l-a,y-d,E-_,C-w).normalize(),i[4].setComponents(l-o,y-p,E-S,C-A).normalize(),t===Rc)i[5].setComponents(l+o,y+p,E+S,C+A).normalize();else if(t===oS)i[5].setComponents(o,p,S,A).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),ug.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),ug.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(ug)}intersectsSprite(e){return ug.center.set(0,0,0),ug.radius=.7071067811865476,ug.applyMatrix4(e.matrixWorld),this.intersectsSphere(ug)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(ew.x=r.normal.x>0?e.max.x:e.min.x,ew.y=r.normal.y>0?e.max.y:e.min.y,ew.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(ew)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const sh=new an,ah=new U_;class TM{constructor(){this.coordinateSystem=Rc}intersectsObject(e,t){if(!t.isArrayCamera||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(sh.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),ah.setFromProjectionMatrix(sh,this.coordinateSystem),ah.intersectsObject(e))return!0}return!1}intersectsSprite(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(sh.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),ah.setFromProjectionMatrix(sh,this.coordinateSystem),ah.intersectsSprite(e))return!0}return!1}intersectsSphere(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(sh.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),ah.setFromProjectionMatrix(sh,this.coordinateSystem),ah.intersectsSphere(e))return!0}return!1}intersectsBox(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(sh.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),ah.setFromProjectionMatrix(sh,this.coordinateSystem),ah.intersectsBox(e))return!0}return!1}containsPoint(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(sh.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),ah.setFromProjectionMatrix(sh,this.coordinateSystem),ah.containsPoint(e))return!0}return!1}clone(){return new TM}}function tI(n,e){return n-e}function cle(n,e){return n.z-e.z}function ule(n,e){return e.z-n.z}class hle{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,i,r){const s=this.pool,a=this.list;this.index>=s.length&&s.push({start:-1,count:-1,z:-1,index:-1});const o=s[this.index];a.push(o),this.index++,o.start=e,o.count=t,o.z=i,o.index=r}reset(){this.list.length=0,this.index=0}}const Xo=new an,dle=new kt(1,1,1),Rz=new U_,fle=new TM,tw=new ia,hg=new ra,y1=new he,Oz=new he,ple=new he,nI=new hle,$a=new is,nw=[];function mle(n,e,t=0){const i=e.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==e.array.constructor){const r=n.count;for(let s=0;s<r;s++)for(let a=0;a<i;a++)e.setComponent(s+t,a,n.getComponent(s,a))}else e.array.set(n.array,t*i);e.needsUpdate=!0}function dg(n,e){if(n.constructor!==e.constructor){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++)e[i]=n[i]}else{const t=Math.min(n.length,e.length);e.set(new n.constructor(n.buffer,0,t))}}class zG extends is{constructor(e,t,i=t*2,r){super(new Nn,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=i,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),i=new Dh(t,e,e,Ja,Io);this._matricesTexture=i}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),i=new Dh(t,e,e,qS,of);this._indirectTexture=i}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),i=new Dh(t,e,e,Ja,Io);i.colorSpace=di.workingColorSpace,this._colorsTexture=i}_initializeGeometry(e){const t=this.geometry,i=this._maxVertexCount,r=this._maxIndexCount;if(this._geometryInitialized===!1){for(const s in e.attributes){const a=e.getAttribute(s),{array:o,itemSize:l,normalized:u}=a,d=new o.constructor(i*l),p=new Hi(d,l,u);t.setAttribute(s,p)}if(e.getIndex()!==null){const s=i>65535?new Uint32Array(r):new Uint16Array(r);t.setIndex(new Hi(s,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const i in t.attributes){if(!e.hasAttribute(i))throw new Error(`THREE.BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const r=e.getAttribute(i),s=t.getAttribute(i);if(r.itemSize!==s.itemSize||r.normalized!==s.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ia);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let i=0,r=t.length;i<r;i++){if(t[i].active===!1)continue;const s=t[i].geometryIndex;this.getMatrixAt(i,Xo),this.getBoundingBoxAt(s,tw).applyMatrix4(Xo),e.union(tw)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new ra);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let i=0,r=t.length;i<r;i++){if(t[i].active===!1)continue;const s=t[i].geometryIndex;this.getMatrixAt(i,Xo),this.getBoundingSphereAt(s,hg).applyMatrix4(Xo),e.union(hg)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const i={visible:!0,active:!0,geometryIndex:e};let r=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(tI),r=this._availableInstanceIds.shift(),this._instanceInfo[r]=i):(r=this._instanceInfo.length,this._instanceInfo.push(i));const s=this._matricesTexture;Xo.identity().toArray(s.image.data,r*16),s.needsUpdate=!0;const a=this._colorsTexture;return a&&(dle.toArray(a.image.data,r*4),a.needsUpdate=!0),this._visibilityChanged=!0,r}addGeometry(e,t=-1,i=-1){this._initializeGeometry(e),this._validateGeometry(e);const r={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},s=this._geometryInfo;r.vertexStart=this._nextVertexStart,r.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const a=e.getIndex();if(a!==null&&(r.indexStart=this._nextIndexStart,r.reservedIndexCount=i===-1?a.count:i),r.indexStart!==-1&&r.indexStart+r.reservedIndexCount>this._maxIndexCount||r.vertexStart+r.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let l;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(tI),l=this._availableGeometryIds.shift(),s[l]=r):(l=this._geometryCount,this._geometryCount++,s.push(r)),this.setGeometryAt(l,e),this._nextIndexStart=r.indexStart+r.reservedIndexCount,this._nextVertexStart=r.vertexStart+r.reservedVertexCount,l}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const i=this.geometry,r=i.getIndex()!==null,s=i.getIndex(),a=t.getIndex(),o=this._geometryInfo[e];if(r&&a.count>o.reservedIndexCount||t.attributes.position.count>o.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const l=o.vertexStart,u=o.reservedVertexCount;o.vertexCount=t.getAttribute("position").count;for(const d in i.attributes){const p=t.getAttribute(d),y=i.getAttribute(d);mle(p,y,l);const v=p.itemSize;for(let _=p.count,S=u;_<S;_++){const E=l+_;for(let b=0;b<v;b++)y.setComponent(E,b,0)}y.needsUpdate=!0,y.addUpdateRange(l*v,u*v)}if(r){const d=o.indexStart,p=o.reservedIndexCount;o.indexCount=t.getIndex().count;for(let y=0;y<a.count;y++)s.setX(d+y,l+a.getX(y));for(let y=a.count,v=p;y<v;y++)s.setX(d+y,l);s.needsUpdate=!0,s.addUpdateRange(d,o.reservedIndexCount)}return o.start=r?o.indexStart:o.vertexStart,o.count=r?o.indexCount:o.vertexCount,o.boundingBox=null,t.boundingBox!==null&&(o.boundingBox=t.boundingBox.clone()),o.boundingSphere=null,t.boundingSphere!==null&&(o.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const i=this._instanceInfo;for(let r=0,s=i.length;r<s;r++)i[r].active&&i[r].geometryIndex===e&&this.deleteInstance(r);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const i=this._geometryInfo,r=i.map((a,o)=>o).sort((a,o)=>i[a].vertexStart-i[o].vertexStart),s=this.geometry;for(let a=0,o=i.length;a<o;a++){const l=r[a],u=i[l];if(u.active!==!1){if(s.index!==null){if(u.indexStart!==t){const{indexStart:d,vertexStart:p,reservedIndexCount:y}=u,v=s.index,_=v.array,S=e-p;for(let E=d;E<d+y;E++)_[E]=_[E]+S;v.array.copyWithin(t,d,d+y),v.addUpdateRange(t,y),u.indexStart=t}t+=u.reservedIndexCount}if(u.vertexStart!==e){const{vertexStart:d,reservedVertexCount:p}=u,y=s.attributes;for(const v in y){const _=y[v],{array:S,itemSize:E}=_;S.copyWithin(e*E,d*E,(d+p)*E),_.addUpdateRange(e*E,p*E)}u.vertexStart=e}e+=u.reservedVertexCount,u.start=s.index?u.indexStart:u.vertexStart,this._nextIndexStart=s.index?u.indexStart+u.reservedIndexCount:0,this._nextVertexStart=u.vertexStart+u.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingBox===null){const s=new ia,a=i.index,o=i.attributes.position;for(let l=r.start,u=r.start+r.count;l<u;l++){let d=l;a&&(d=a.getX(d)),s.expandByPoint(y1.fromBufferAttribute(o,d))}r.boundingBox=s}return t.copy(r.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingSphere===null){const s=new ra;this.getBoundingBoxAt(e,tw),tw.getCenter(s.center);const a=i.index,o=i.attributes.position;let l=0;for(let u=r.start,d=r.start+r.count;u<d;u++){let p=u;a&&(p=a.getX(p)),y1.fromBufferAttribute(o,p),l=Math.max(l,s.center.distanceToSquared(y1))}s.radius=Math.sqrt(l),r.boundingSphere=s}return t.copy(r.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const i=this._matricesTexture,r=this._matricesTexture.image.data;return t.toArray(r,e*16),i.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const i=this._geometryInfo[e];return t.vertexStart=i.vertexStart,t.vertexCount=i.vertexCount,t.reservedVertexCount=i.reservedVertexCount,t.indexStart=i.indexStart,t.indexCount=i.indexCount,t.reservedIndexCount=i.reservedIndexCount,t.start=i.start,t.count=i.count,t}setInstanceCount(e){const t=this._availableInstanceIds,i=this._instanceInfo;for(t.sort(tI);t[t.length-1]===i.length;)i.pop(),t.pop();if(e<i.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const r=new Int32Array(e),s=new Int32Array(e);dg(this._multiDrawCounts,r),dg(this._multiDrawStarts,s),this._multiDrawCounts=r,this._multiDrawStarts=s,this._maxInstanceCount=e;const a=this._indirectTexture,o=this._matricesTexture,l=this._colorsTexture;a.dispose(),this._initIndirectTexture(),dg(a.image.data,this._indirectTexture.image.data),o.dispose(),this._initMatricesTexture(),dg(o.image.data,this._matricesTexture.image.data),l&&(l.dispose(),this._initColorsTexture(),dg(l.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const i=[...this._geometryInfo].filter(o=>o.active);if(Math.max(...i.map(o=>o.vertexStart+o.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...i.map(l=>l.indexStart+l.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const s=this.geometry;s.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new Nn,this._initializeGeometry(s));const a=this.geometry;s.index&&dg(s.index.array,a.index.array);for(const o in s.attributes)dg(s.attributes[o].array,a.attributes[o].array)}raycast(e,t){const i=this._instanceInfo,r=this._geometryInfo,s=this.matrixWorld,a=this.geometry;$a.material=this.material,$a.geometry.index=a.index,$a.geometry.attributes=a.attributes,$a.geometry.boundingBox===null&&($a.geometry.boundingBox=new ia),$a.geometry.boundingSphere===null&&($a.geometry.boundingSphere=new ra);for(let o=0,l=i.length;o<l;o++){if(!i[o].visible||!i[o].active)continue;const u=i[o].geometryIndex,d=r[u];$a.geometry.setDrawRange(d.start,d.count),this.getMatrixAt(o,$a.matrixWorld).premultiply(s),this.getBoundingBoxAt(u,$a.geometry.boundingBox),this.getBoundingSphereAt(u,$a.geometry.boundingSphere),$a.raycast(e,nw);for(let p=0,y=nw.length;p<y;p++){const v=nw[p];v.object=this,v.batchId=o,t.push(v)}nw.length=0}$a.material=null,$a.geometry.index=null,$a.geometry.attributes={},$a.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,i,r,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const a=r.getIndex(),o=a===null?1:a.array.BYTES_PER_ELEMENT,l=this._instanceInfo,u=this._multiDrawStarts,d=this._multiDrawCounts,p=this._geometryInfo,y=this.perObjectFrustumCulled,v=this._indirectTexture,_=v.image.data,S=i.isArrayCamera?fle:Rz;y&&!i.isArrayCamera&&(Xo.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),Rz.setFromProjectionMatrix(Xo,e.coordinateSystem));let E=0;if(this.sortObjects){Xo.copy(this.matrixWorld).invert(),y1.setFromMatrixPosition(i.matrixWorld).applyMatrix4(Xo),Oz.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(Xo);for(let A=0,C=l.length;A<C;A++)if(l[A].visible&&l[A].active){const D=l[A].geometryIndex;this.getMatrixAt(A,Xo),this.getBoundingSphereAt(D,hg).applyMatrix4(Xo);let N=!1;if(y&&(N=!S.intersectsSphere(hg,i)),!N){const I=p[D],L=ple.subVectors(hg.center,y1).dot(Oz);nI.push(I.start,I.count,L,A)}}const b=nI.list,w=this.customSort;w===null?b.sort(s.transparent?ule:cle):w.call(this,b,i);for(let A=0,C=b.length;A<C;A++){const D=b[A];u[E]=D.start*o,d[E]=D.count,_[E]=D.index,E++}nI.reset()}else for(let b=0,w=l.length;b<w;b++)if(l[b].visible&&l[b].active){const A=l[b].geometryIndex;let C=!1;if(y&&(this.getMatrixAt(b,Xo),this.getBoundingSphereAt(A,hg).applyMatrix4(Xo),C=!S.intersectsSphere(hg,i)),!C){const D=p[A];u[E]=D.start*o,d[E]=D.count,_[E]=b,E++}}v.needsUpdate=!0,this._multiDrawCount=E,this._visibilityChanged=!1}onBeforeShadow(e,t,i,r,s,a){this.onBeforeRender(e,null,r,s,a)}}class io extends no{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new kt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const eA=new he,tA=new he,Iz=new an,v1=new L_,iw=new ra,iI=new he,Pz=new he;class lf extends vi{constructor(e=new Nn,t=new io){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let r=1,s=t.count;r<s;r++)eA.fromBufferAttribute(t,r-1),tA.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=eA.distanceTo(tA);e.setAttribute("lineDistance",new Ht(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,a=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),iw.copy(i.boundingSphere),iw.applyMatrix4(r),iw.radius+=s,e.ray.intersectsSphere(iw)===!1)return;Iz.copy(r).invert(),v1.copy(e.ray).applyMatrix4(Iz);const o=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,u=this.isLineSegments?2:1,d=i.index,y=i.attributes.position;if(d!==null){const v=Math.max(0,a.start),_=Math.min(d.count,a.start+a.count);for(let S=v,E=_-1;S<E;S+=u){const b=d.getX(S),w=d.getX(S+1),A=rw(this,e,v1,l,b,w,S);A&&t.push(A)}if(this.isLineLoop){const S=d.getX(_-1),E=d.getX(v),b=rw(this,e,v1,l,S,E,_-1);b&&t.push(b)}}else{const v=Math.max(0,a.start),_=Math.min(y.count,a.start+a.count);for(let S=v,E=_-1;S<E;S+=u){const b=rw(this,e,v1,l,S,S+1,S);b&&t.push(b)}if(this.isLineLoop){const S=rw(this,e,v1,l,_-1,v,_-1);S&&t.push(S)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){const o=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}}function rw(n,e,t,i,r,s,a){const o=n.geometry.attributes.position;if(eA.fromBufferAttribute(o,r),tA.fromBufferAttribute(o,s),t.distanceSqToSegment(eA,tA,iI,Pz)>i)return;iI.applyMatrix4(n.matrixWorld);const u=e.ray.origin.distanceTo(iI);if(!(u<e.near||u>e.far))return{distance:u,point:Pz.clone().applyMatrix4(n.matrixWorld),index:a,face:null,faceIndex:null,barycoord:null,object:n}}const Dz=new he,Nz=new he;class Fh extends lf{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let r=0,s=t.count;r<s;r+=2)Dz.fromBufferAttribute(t,r),Nz.fromBufferAttribute(t,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+Dz.distanceTo(Nz);e.setAttribute("lineDistance",new Ht(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class BG extends lf{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class TL extends no{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new kt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const Lz=new an,DP=new L_,sw=new ra,aw=new he;class FG extends vi{constructor(e=new Nn,t=new TL){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,a=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),sw.copy(i.boundingSphere),sw.applyMatrix4(r),sw.radius+=s,e.ray.intersectsSphere(sw)===!1)return;Lz.copy(r).invert(),DP.copy(e.ray).applyMatrix4(Lz);const o=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,u=i.index,p=i.attributes.position;if(u!==null){const y=Math.max(0,a.start),v=Math.min(u.count,a.start+a.count);for(let _=y,S=v;_<S;_++){const E=u.getX(_);aw.fromBufferAttribute(p,E),Uz(aw,E,l,r,e,t,this)}}else{const y=Math.max(0,a.start),v=Math.min(p.count,a.start+a.count);for(let _=y,S=v;_<S;_++)aw.fromBufferAttribute(p,_),Uz(aw,_,l,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){const o=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}}function Uz(n,e,t,i,r,s,a){const o=DP.distanceSqToPoint(n);if(o<t){const l=new he;DP.closestPointToPoint(n,l),l.applyMatrix4(i);const u=r.ray.origin.distanceTo(l);if(u<r.near||u>r.far)return;s.push({distance:u,distanceToRay:Math.sqrt(o),point:l,index:e,face:null,faceIndex:null,barycoord:null,object:a})}}class VG extends rs{constructor(e,t,i,r,s=ps,a=ps,o,l,u){super(e,t,i,r,s,a,o,l,u),this.isVideoTexture=!0,this.generateMipmaps=!1;const d=this;function p(){d.needsUpdate=!0,e.requestVideoFrameCallback(p)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(p)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class gle extends VG{constructor(e,t,i,r,s,a,o,l){super({},e,t,i,r,s,a,o,l),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class yle extends rs{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=wa,this.minFilter=wa,this.generateMipmaps=!1,this.needsUpdate=!0}}class wM extends rs{constructor(e,t,i,r,s,a,o,l,u,d,p,y){super(null,a,o,l,u,d,r,s,p,y),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class vle extends wM{constructor(e,t,i,r,s,a){super(e,t,i,s,a),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=Mc,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class _le extends wM{constructor(e,t,i){super(void 0,e[0].width,e[0].height,t,i,af),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class wL extends rs{constructor(e,t,i,r,s,a,o,l,u){super(e,t,i,r,s,a,o,l,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class XS extends rs{constructor(e,t,i=of,r,s,a,o=wa,l=wa,u,d=r_){if(d!==r_&&d!==s_)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");super(null,r,s,a,o,l,d,i,u),this.isDepthTexture=!0,this.image={width:e,height:t},this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new Ip(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class ble extends XS{constructor(e=1,t=1,i=1){super(e,t),this.isDepthArrayTexture=!0,this.image={width:e,height:t,depth:i},this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class CM extends Nn{constructor(e=1,t=1,i=4,r=8,s=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:i,radialSegments:r,heightSegments:s},t=Math.max(0,t),i=Math.max(1,Math.floor(i)),r=Math.max(3,Math.floor(r)),s=Math.max(1,Math.floor(s));const a=[],o=[],l=[],u=[],d=t/2,p=Math.PI/2*e,y=t,v=2*p+y,_=i*2+s,S=r+1,E=new he,b=new he;for(let w=0;w<=_;w++){let A=0,C=0,D=0,N=0;if(w<=i){const P=w/i,U=P*Math.PI/2;C=-d-e*Math.cos(U),D=e*Math.sin(U),N=-e*Math.cos(U),A=P*p}else if(w<=i+s){const P=(w-i)/s;C=-d+P*t,D=e,N=0,A=p+P*y}else{const P=(w-i-s)/i,U=P*Math.PI/2;C=d+e*Math.sin(U),D=e*Math.cos(U),N=e*Math.sin(U),A=p+y+P*p}const I=Math.max(0,Math.min(1,A/v));let L=0;w===0?L=.5/r:w===_&&(L=-.5/r);for(let P=0;P<=r;P++){const U=P/r,F=U*Math.PI*2,z=Math.sin(F),V=Math.cos(F);b.x=-D*V,b.y=C,b.z=D*z,o.push(b.x,b.y,b.z),E.set(-D*V,N,D*z),E.normalize(),l.push(E.x,E.y,E.z),u.push(U+L,I)}if(w>0){const P=(w-1)*S;for(let U=0;U<r;U++){const F=P+U,z=P+U+1,V=w*S+U,Y=w*S+U+1;a.push(F,z,V),a.push(z,Y,V)}}}this.setIndex(a),this.setAttribute("position",new Ht(o,3)),this.setAttribute("normal",new Ht(l,3)),this.setAttribute("uv",new Ht(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new CM(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class AM extends Nn{constructor(e=1,t=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r},t=Math.max(3,t);const s=[],a=[],o=[],l=[],u=new he,d=new rt;a.push(0,0,0),o.push(0,0,1),l.push(.5,.5);for(let p=0,y=3;p<=t;p++,y+=3){const v=i+p/t*r;u.x=e*Math.cos(v),u.y=e*Math.sin(v),a.push(u.x,u.y,u.z),o.push(0,0,1),d.x=(a[y]/e+1)/2,d.y=(a[y+1]/e+1)/2,l.push(d.x,d.y)}for(let p=1;p<=t;p++)s.push(p,p+1,0);this.setIndex(s),this.setAttribute("position",new Ht(a,3)),this.setAttribute("normal",new Ht(o,3)),this.setAttribute("uv",new Ht(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new AM(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class k_ extends Nn{constructor(e=1,t=1,i=1,r=32,s=1,a=!1,o=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:s,openEnded:a,thetaStart:o,thetaLength:l};const u=this;r=Math.floor(r),s=Math.floor(s);const d=[],p=[],y=[],v=[];let _=0;const S=[],E=i/2;let b=0;w(),a===!1&&(e>0&&A(!0),t>0&&A(!1)),this.setIndex(d),this.setAttribute("position",new Ht(p,3)),this.setAttribute("normal",new Ht(y,3)),this.setAttribute("uv",new Ht(v,2));function w(){const C=new he,D=new he;let N=0;const I=(t-e)/i;for(let L=0;L<=s;L++){const P=[],U=L/s,F=U*(t-e)+e;for(let z=0;z<=r;z++){const V=z/r,Y=V*l+o,ee=Math.sin(Y),q=Math.cos(Y);D.x=F*ee,D.y=-U*i+E,D.z=F*q,p.push(D.x,D.y,D.z),C.set(ee,I,q).normalize(),y.push(C.x,C.y,C.z),v.push(V,1-U),P.push(_++)}S.push(P)}for(let L=0;L<r;L++)for(let P=0;P<s;P++){const U=S[P][L],F=S[P+1][L],z=S[P+1][L+1],V=S[P][L+1];(e>0||P!==0)&&(d.push(U,F,V),N+=3),(t>0||P!==s-1)&&(d.push(F,z,V),N+=3)}u.addGroup(b,N,0),b+=N}function A(C){const D=_,N=new rt,I=new he;let L=0;const P=C===!0?e:t,U=C===!0?1:-1;for(let z=1;z<=r;z++)p.push(0,E*U,0),y.push(0,U,0),v.push(.5,.5),_++;const F=_;for(let z=0;z<=r;z++){const Y=z/r*l+o,ee=Math.cos(Y),q=Math.sin(Y);I.x=P*q,I.y=E*U,I.z=P*ee,p.push(I.x,I.y,I.z),y.push(0,U,0),N.x=ee*.5+.5,N.y=q*.5*U+.5,v.push(N.x,N.y),_++}for(let z=0;z<r;z++){const V=D+z,Y=F+z;C===!0?d.push(Y,Y+1,V):d.push(Y+1,Y,V),L+=3}u.addGroup(b,L,C===!0?1:2),b+=L}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new k_(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class z_ extends k_{constructor(e=1,t=1,i=32,r=1,s=!1,a=0,o=Math.PI*2){super(0,e,t,i,r,s,a,o),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:a,thetaLength:o}}static fromJSON(e){return new z_(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class um extends Nn{constructor(e=[],t=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:r};const s=[],a=[];o(r),u(i),d(),this.setAttribute("position",new Ht(s,3)),this.setAttribute("normal",new Ht(s.slice(),3)),this.setAttribute("uv",new Ht(a,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function o(w){const A=new he,C=new he,D=new he;for(let N=0;N<t.length;N+=3)v(t[N+0],A),v(t[N+1],C),v(t[N+2],D),l(A,C,D,w)}function l(w,A,C,D){const N=D+1,I=[];for(let L=0;L<=N;L++){I[L]=[];const P=w.clone().lerp(C,L/N),U=A.clone().lerp(C,L/N),F=N-L;for(let z=0;z<=F;z++)z===0&&L===N?I[L][z]=P:I[L][z]=P.clone().lerp(U,z/F)}for(let L=0;L<N;L++)for(let P=0;P<2*(N-L)-1;P++){const U=Math.floor(P/2);P%2===0?(y(I[L][U+1]),y(I[L+1][U]),y(I[L][U])):(y(I[L][U+1]),y(I[L+1][U+1]),y(I[L+1][U]))}}function u(w){const A=new he;for(let C=0;C<s.length;C+=3)A.x=s[C+0],A.y=s[C+1],A.z=s[C+2],A.normalize().multiplyScalar(w),s[C+0]=A.x,s[C+1]=A.y,s[C+2]=A.z}function d(){const w=new he;for(let A=0;A<s.length;A+=3){w.x=s[A+0],w.y=s[A+1],w.z=s[A+2];const C=E(w)/2/Math.PI+.5,D=b(w)/Math.PI+.5;a.push(C,1-D)}_(),p()}function p(){for(let w=0;w<a.length;w+=6){const A=a[w+0],C=a[w+2],D=a[w+4],N=Math.max(A,C,D),I=Math.min(A,C,D);N>.9&&I<.1&&(A<.2&&(a[w+0]+=1),C<.2&&(a[w+2]+=1),D<.2&&(a[w+4]+=1))}}function y(w){s.push(w.x,w.y,w.z)}function v(w,A){const C=w*3;A.x=e[C+0],A.y=e[C+1],A.z=e[C+2]}function _(){const w=new he,A=new he,C=new he,D=new he,N=new rt,I=new rt,L=new rt;for(let P=0,U=0;P<s.length;P+=9,U+=6){w.set(s[P+0],s[P+1],s[P+2]),A.set(s[P+3],s[P+4],s[P+5]),C.set(s[P+6],s[P+7],s[P+8]),N.set(a[U+0],a[U+1]),I.set(a[U+2],a[U+3]),L.set(a[U+4],a[U+5]),D.copy(w).add(A).add(C).divideScalar(3);const F=E(D);S(N,U+0,w,F),S(I,U+2,A,F),S(L,U+4,C,F)}}function S(w,A,C,D){D<0&&w.x===1&&(a[A]=w.x-1),C.x===0&&C.z===0&&(a[A]=D/2/Math.PI+.5)}function E(w){return Math.atan2(w.z,-w.x)}function b(w){return Math.atan2(-w.y,Math.sqrt(w.x*w.x+w.z*w.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new um(e.vertices,e.indices,e.radius,e.details)}}class MM extends um{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=1/i,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,a,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new MM(e.radius,e.detail)}}const ow=new he,lw=new he,rI=new he,cw=new nl;class HG extends Nn{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),s=Math.cos(Jg*t),a=e.getIndex(),o=e.getAttribute("position"),l=a?a.count:o.count,u=[0,0,0],d=["a","b","c"],p=new Array(3),y={},v=[];for(let _=0;_<l;_+=3){a?(u[0]=a.getX(_),u[1]=a.getX(_+1),u[2]=a.getX(_+2)):(u[0]=_,u[1]=_+1,u[2]=_+2);const{a:S,b:E,c:b}=cw;if(S.fromBufferAttribute(o,u[0]),E.fromBufferAttribute(o,u[1]),b.fromBufferAttribute(o,u[2]),cw.getNormal(rI),p[0]=`${Math.round(S.x*r)},${Math.round(S.y*r)},${Math.round(S.z*r)}`,p[1]=`${Math.round(E.x*r)},${Math.round(E.y*r)},${Math.round(E.z*r)}`,p[2]=`${Math.round(b.x*r)},${Math.round(b.y*r)},${Math.round(b.z*r)}`,!(p[0]===p[1]||p[1]===p[2]||p[2]===p[0]))for(let w=0;w<3;w++){const A=(w+1)%3,C=p[w],D=p[A],N=cw[d[w]],I=cw[d[A]],L=`${C}_${D}`,P=`${D}_${C}`;P in y&&y[P]?(rI.dot(y[P].normal)<=s&&(v.push(N.x,N.y,N.z),v.push(I.x,I.y,I.z)),y[P]=null):L in y||(y[L]={index0:u[w],index1:u[A],normal:rI.clone()})}}for(const _ in y)if(y[_]){const{index0:S,index1:E}=y[_];ow.fromBufferAttribute(o,S),lw.fromBufferAttribute(o,E),v.push(ow.x,ow.y,ow.z),v.push(lw.x,lw.y,lw.z)}this.setAttribute("position",new Ht(v,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Au{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),s=0;t.push(0);for(let a=1;a<=e;a++)i=this.getPoint(a/e),s+=i.distanceTo(r),t.push(s),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){const i=this.getLengths();let r=0;const s=i.length;let a;t?a=t:a=e*i[s-1];let o=0,l=s-1,u;for(;o<=l;)if(r=Math.floor(o+(l-o)/2),u=i[r]-a,u<0)o=r+1;else if(u>0)l=r-1;else{l=r;break}if(r=l,i[r]===a)return r/(s-1);const d=i[r],y=i[r+1]-d,v=(a-d)/y;return(r+v)/(s-1)}getTangent(e,t){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const a=this.getPoint(r),o=this.getPoint(s),l=t||(a.isVector2?new rt:new he);return l.copy(o).sub(a).normalize(),l}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t=!1){const i=new he,r=[],s=[],a=[],o=new he,l=new an;for(let v=0;v<=e;v++){const _=v/e;r[v]=this.getTangentAt(_,new he)}s[0]=new he,a[0]=new he;let u=Number.MAX_VALUE;const d=Math.abs(r[0].x),p=Math.abs(r[0].y),y=Math.abs(r[0].z);d<=u&&(u=d,i.set(1,0,0)),p<=u&&(u=p,i.set(0,1,0)),y<=u&&i.set(0,0,1),o.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],o),a[0].crossVectors(r[0],s[0]);for(let v=1;v<=e;v++){if(s[v]=s[v-1].clone(),a[v]=a[v-1].clone(),o.crossVectors(r[v-1],r[v]),o.length()>Number.EPSILON){o.normalize();const _=Math.acos(Mn(r[v-1].dot(r[v]),-1,1));s[v].applyMatrix4(l.makeRotationAxis(o,_))}a[v].crossVectors(r[v],s[v])}if(t===!0){let v=Math.acos(Mn(s[0].dot(s[e]),-1,1));v/=e,r[0].dot(o.crossVectors(s[0],s[e]))>0&&(v=-v);for(let _=1;_<=e;_++)s[_].applyMatrix4(l.makeRotationAxis(r[_],v*_)),a[_].crossVectors(r[_],s[_])}return{tangents:r,normals:s,binormals:a}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class RM extends Au{constructor(e=0,t=0,i=1,r=1,s=0,a=Math.PI*2,o=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=a,this.aClockwise=o,this.aRotation=l}getPoint(e,t=new rt){const i=t,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const a=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(a?s=0:s=r),this.aClockwise===!0&&!a&&(s===r?s=-r:s=s-r);const o=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(o),u=this.aY+this.yRadius*Math.sin(o);if(this.aRotation!==0){const d=Math.cos(this.aRotation),p=Math.sin(this.aRotation),y=l-this.aX,v=u-this.aY;l=y*d-v*p+this.aX,u=y*p+v*d+this.aY}return i.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class jG extends RM{constructor(e,t,i,r,s,a){super(e,t,i,i,r,s,a),this.isArcCurve=!0,this.type="ArcCurve"}}function CL(){let n=0,e=0,t=0,i=0;function r(s,a,o,l){n=s,e=o,t=-3*s+3*a-2*o-l,i=2*s-2*a+o+l}return{initCatmullRom:function(s,a,o,l,u){r(a,o,u*(o-s),u*(l-a))},initNonuniformCatmullRom:function(s,a,o,l,u,d,p){let y=(a-s)/u-(o-s)/(u+d)+(o-a)/d,v=(o-a)/d-(l-a)/(d+p)+(l-o)/p;y*=d,v*=d,r(a,o,y,v)},calc:function(s){const a=s*s,o=a*s;return n+e*s+t*a+i*o}}}const uw=new he,sI=new CL,aI=new CL,oI=new CL;class GG extends Au{constructor(e=[],t=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new he){const i=t,r=this.points,s=r.length,a=(s-(this.closed?0:1))*e;let o=Math.floor(a),l=a-o;this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/s)+1)*s:l===0&&o===s-1&&(o=s-2,l=1);let u,d;this.closed||o>0?u=r[(o-1)%s]:(uw.subVectors(r[0],r[1]).add(r[0]),u=uw);const p=r[o%s],y=r[(o+1)%s];if(this.closed||o+2<s?d=r[(o+2)%s]:(uw.subVectors(r[s-1],r[s-2]).add(r[s-1]),d=uw),this.curveType==="centripetal"||this.curveType==="chordal"){const v=this.curveType==="chordal"?.5:.25;let _=Math.pow(u.distanceToSquared(p),v),S=Math.pow(p.distanceToSquared(y),v),E=Math.pow(y.distanceToSquared(d),v);S<1e-4&&(S=1),_<1e-4&&(_=S),E<1e-4&&(E=S),sI.initNonuniformCatmullRom(u.x,p.x,y.x,d.x,_,S,E),aI.initNonuniformCatmullRom(u.y,p.y,y.y,d.y,_,S,E),oI.initNonuniformCatmullRom(u.z,p.z,y.z,d.z,_,S,E)}else this.curveType==="catmullrom"&&(sI.initCatmullRom(u.x,p.x,y.x,d.x,this.tension),aI.initCatmullRom(u.y,p.y,y.y,d.y,this.tension),oI.initCatmullRom(u.z,p.z,y.z,d.z,this.tension));return i.set(sI.calc(l),aI.calc(l),oI.calc(l)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new he().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function kz(n,e,t,i,r){const s=(i-e)*.5,a=(r-t)*.5,o=n*n,l=n*o;return(2*t-2*i+s+a)*l+(-3*t+3*i-2*s-a)*o+s*n+t}function xle(n,e){const t=1-n;return t*t*e}function Sle(n,e){return 2*(1-n)*n*e}function Ele(n,e){return n*n*e}function wx(n,e,t,i){return xle(n,e)+Sle(n,t)+Ele(n,i)}function Tle(n,e){const t=1-n;return t*t*t*e}function wle(n,e){const t=1-n;return 3*t*t*n*e}function Cle(n,e){return 3*(1-n)*n*n*e}function Ale(n,e){return n*n*n*e}function Cx(n,e,t,i,r){return Tle(n,e)+wle(n,t)+Cle(n,i)+Ale(n,r)}class AL extends Au{constructor(e=new rt,t=new rt,i=new rt,r=new rt){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new rt){const i=t,r=this.v0,s=this.v1,a=this.v2,o=this.v3;return i.set(Cx(e,r.x,s.x,a.x,o.x),Cx(e,r.y,s.y,a.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class ML extends Au{constructor(e=new he,t=new he,i=new he,r=new he){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new he){const i=t,r=this.v0,s=this.v1,a=this.v2,o=this.v3;return i.set(Cx(e,r.x,s.x,a.x,o.x),Cx(e,r.y,s.y,a.y,o.y),Cx(e,r.z,s.z,a.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class RL extends Au{constructor(e=new rt,t=new rt){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new rt){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new rt){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class qG extends Au{constructor(e=new he,t=new he){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new he){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new he){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class OL extends Au{constructor(e=new rt,t=new rt,i=new rt){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new rt){const i=t,r=this.v0,s=this.v1,a=this.v2;return i.set(wx(e,r.x,s.x,a.x),wx(e,r.y,s.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class OM extends Au{constructor(e=new he,t=new he,i=new he){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new he){const i=t,r=this.v0,s=this.v1,a=this.v2;return i.set(wx(e,r.x,s.x,a.x),wx(e,r.y,s.y,a.y),wx(e,r.z,s.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class IL extends Au{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new rt){const i=t,r=this.points,s=(r.length-1)*e,a=Math.floor(s),o=s-a,l=r[a===0?a:a-1],u=r[a],d=r[a>r.length-2?r.length-1:a+1],p=r[a>r.length-3?r.length-1:a+2];return i.set(kz(o,l.x,u.x,d.x,p.x),kz(o,l.y,u.y,d.y,p.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new rt().fromArray(r))}return this}}var nA=Object.freeze({__proto__:null,ArcCurve:jG,CatmullRomCurve3:GG,CubicBezierCurve:AL,CubicBezierCurve3:ML,EllipseCurve:RM,LineCurve:RL,LineCurve3:qG,QuadraticBezierCurve:OL,QuadraticBezierCurve3:OM,SplineCurve:IL});class WG extends Au{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new nA[i](t,e))}return this}getPoint(e,t){const i=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const a=r[s]-i,o=this.curves[s],l=o.getLength(),u=l===0?0:1-a/l;return o.getPointAt(u,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const a=s[r],o=a.isEllipseCurve?e*2:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,l=a.getPoints(o);for(let u=0;u<l.length;u++){const d=l[u];i&&i.equals(d)||(t.push(d),i=d)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(new nA[r.type]().fromJSON(r))}return this}}class iA extends WG{constructor(e){super(),this.type="Path",this.currentPoint=new rt,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new RL(this.currentPoint.clone(),new rt(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){const s=new OL(this.currentPoint.clone(),new rt(e,t),new rt(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,s,a){const o=new AL(this.currentPoint.clone(),new rt(e,t),new rt(i,r),new rt(s,a));return this.curves.push(o),this.currentPoint.set(s,a),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new IL(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,s,a){const o=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+o,t+l,i,r,s,a),this}absarc(e,t,i,r,s,a){return this.absellipse(e,t,i,i,r,s,a),this}ellipse(e,t,i,r,s,a,o,l){const u=this.currentPoint.x,d=this.currentPoint.y;return this.absellipse(e+u,t+d,i,r,s,a,o,l),this}absellipse(e,t,i,r,s,a,o,l){const u=new RM(e,t,i,r,s,a,o,l);if(this.curves.length>0){const p=u.getPoint(0);p.equals(this.currentPoint)||this.lineTo(p.x,p.y)}this.curves.push(u);const d=u.getPoint(1);return this.currentPoint.copy(d),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class ey extends iA{constructor(e){super(e),this.uuid=zl(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(new iA().fromJSON(r))}return this}}function Mle(n,e,t=2){const i=e&&e.length,r=i?e[0]*t:n.length;let s=$G(n,0,r,t,!0);const a=[];if(!s||s.next===s.prev)return a;let o,l,u;if(i&&(s=Dle(n,e,s,t)),n.length>80*t){o=1/0,l=1/0;let d=-1/0,p=-1/0;for(let y=t;y<r;y+=t){const v=n[y],_=n[y+1];v<o&&(o=v),_<l&&(l=_),v>d&&(d=v),_>p&&(p=_)}u=Math.max(d-o,p-l),u=u!==0?32767/u:0}return cS(s,a,t,o,l,u,0),a}function $G(n,e,t,i,r){let s;if(r===Gle(n,e,t,i)>0)for(let a=e;a<t;a+=i)s=zz(a/i|0,n[a],n[a+1],s);else for(let a=t-i;a>=e;a-=i)s=zz(a/i|0,n[a],n[a+1],s);return s&&u_(s,s.next)&&(hS(s),s=s.next),s}function uy(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(u_(t,t.next)||zr(t.prev,t,t.next)===0)){if(hS(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function cS(n,e,t,i,r,s,a){if(!n)return;!a&&s&&zle(n,i,r,s);let o=n;for(;n.prev!==n.next;){const l=n.prev,u=n.next;if(s?Ole(n,i,r,s):Rle(n)){e.push(l.i,n.i,u.i),hS(n),n=u.next,o=u.next;continue}if(n=u,n===o){a?a===1?(n=Ile(uy(n),e),cS(n,e,t,i,r,s,2)):a===2&&Ple(n,e,t,i,r,s):cS(uy(n),e,t,i,r,s,1);break}}}function Rle(n){const e=n.prev,t=n,i=n.next;if(zr(e,t,i)>=0)return!1;const r=e.x,s=t.x,a=i.x,o=e.y,l=t.y,u=i.y,d=Math.min(r,s,a),p=Math.min(o,l,u),y=Math.max(r,s,a),v=Math.max(o,l,u);let _=i.next;for(;_!==e;){if(_.x>=d&&_.x<=y&&_.y>=p&&_.y<=v&&Y1(r,o,s,l,a,u,_.x,_.y)&&zr(_.prev,_,_.next)>=0)return!1;_=_.next}return!0}function Ole(n,e,t,i){const r=n.prev,s=n,a=n.next;if(zr(r,s,a)>=0)return!1;const o=r.x,l=s.x,u=a.x,d=r.y,p=s.y,y=a.y,v=Math.min(o,l,u),_=Math.min(d,p,y),S=Math.max(o,l,u),E=Math.max(d,p,y),b=NP(v,_,e,t,i),w=NP(S,E,e,t,i);let A=n.prevZ,C=n.nextZ;for(;A&&A.z>=b&&C&&C.z<=w;){if(A.x>=v&&A.x<=S&&A.y>=_&&A.y<=E&&A!==r&&A!==a&&Y1(o,d,l,p,u,y,A.x,A.y)&&zr(A.prev,A,A.next)>=0||(A=A.prevZ,C.x>=v&&C.x<=S&&C.y>=_&&C.y<=E&&C!==r&&C!==a&&Y1(o,d,l,p,u,y,C.x,C.y)&&zr(C.prev,C,C.next)>=0))return!1;C=C.nextZ}for(;A&&A.z>=b;){if(A.x>=v&&A.x<=S&&A.y>=_&&A.y<=E&&A!==r&&A!==a&&Y1(o,d,l,p,u,y,A.x,A.y)&&zr(A.prev,A,A.next)>=0)return!1;A=A.prevZ}for(;C&&C.z<=w;){if(C.x>=v&&C.x<=S&&C.y>=_&&C.y<=E&&C!==r&&C!==a&&Y1(o,d,l,p,u,y,C.x,C.y)&&zr(C.prev,C,C.next)>=0)return!1;C=C.nextZ}return!0}function Ile(n,e){let t=n;do{const i=t.prev,r=t.next.next;!u_(i,r)&&YG(i,t,t.next,r)&&uS(i,r)&&uS(r,i)&&(e.push(i.i,t.i,r.i),hS(t),hS(t.next),t=n=r),t=t.next}while(t!==n);return uy(t)}function Ple(n,e,t,i,r,s){let a=n;do{let o=a.next.next;for(;o!==a.prev;){if(a.i!==o.i&&Vle(a,o)){let l=KG(a,o);a=uy(a,a.next),l=uy(l,l.next),cS(a,e,t,i,r,s,0),cS(l,e,t,i,r,s,0);return}o=o.next}a=a.next}while(a!==n)}function Dle(n,e,t,i){const r=[];for(let s=0,a=e.length;s<a;s++){const o=e[s]*i,l=s<a-1?e[s+1]*i:n.length,u=$G(n,o,l,i,!1);u===u.next&&(u.steiner=!0),r.push(Fle(u))}r.sort(Nle);for(let s=0;s<r.length;s++)t=Lle(r[s],t);return t}function Nle(n,e){let t=n.x-e.x;if(t===0&&(t=n.y-e.y,t===0)){const i=(n.next.y-n.y)/(n.next.x-n.x),r=(e.next.y-e.y)/(e.next.x-e.x);t=i-r}return t}function Lle(n,e){const t=Ule(n,e);if(!t)return e;const i=KG(t,n);return uy(i,i.next),uy(t,t.next)}function Ule(n,e){let t=e;const i=n.x,r=n.y;let s=-1/0,a;if(u_(n,t))return t;do{if(u_(n,t.next))return t.next;if(r<=t.y&&r>=t.next.y&&t.next.y!==t.y){const p=t.x+(r-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(p<=i&&p>s&&(s=p,a=t.x<t.next.x?t:t.next,p===i))return a}t=t.next}while(t!==e);if(!a)return null;const o=a,l=a.x,u=a.y;let d=1/0;t=a;do{if(i>=t.x&&t.x>=l&&i!==t.x&&XG(r<u?i:s,r,l,u,r<u?s:i,r,t.x,t.y)){const p=Math.abs(r-t.y)/(i-t.x);uS(t,n)&&(p<d||p===d&&(t.x>a.x||t.x===a.x&&kle(a,t)))&&(a=t,d=p)}t=t.next}while(t!==o);return a}function kle(n,e){return zr(n.prev,n,e.prev)<0&&zr(e.next,n,n.next)<0}function zle(n,e,t,i){let r=n;do r.z===0&&(r.z=NP(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,Ble(r)}function Ble(n){let e,t=1;do{let i=n,r;n=null;let s=null;for(e=0;i;){e++;let a=i,o=0;for(let u=0;u<t&&(o++,a=a.nextZ,!!a);u++);let l=t;for(;o>0||l>0&&a;)o!==0&&(l===0||!a||i.z<=a.z)?(r=i,i=i.nextZ,o--):(r=a,a=a.nextZ,l--),s?s.nextZ=r:n=r,r.prevZ=s,s=r;i=a}s.nextZ=null,t*=2}while(e>1);return n}function NP(n,e,t,i,r){return n=(n-t)*r|0,e=(e-i)*r|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function Fle(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function XG(n,e,t,i,r,s,a,o){return(r-a)*(e-o)>=(n-a)*(s-o)&&(n-a)*(i-o)>=(t-a)*(e-o)&&(t-a)*(s-o)>=(r-a)*(i-o)}function Y1(n,e,t,i,r,s,a,o){return!(n===a&&e===o)&&XG(n,e,t,i,r,s,a,o)}function Vle(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!Hle(n,e)&&(uS(n,e)&&uS(e,n)&&jle(n,e)&&(zr(n.prev,n,e.prev)||zr(n,e.prev,e))||u_(n,e)&&zr(n.prev,n,n.next)>0&&zr(e.prev,e,e.next)>0)}function zr(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function u_(n,e){return n.x===e.x&&n.y===e.y}function YG(n,e,t,i){const r=dw(zr(n,e,t)),s=dw(zr(n,e,i)),a=dw(zr(t,i,n)),o=dw(zr(t,i,e));return!!(r!==s&&a!==o||r===0&&hw(n,t,e)||s===0&&hw(n,i,e)||a===0&&hw(t,n,i)||o===0&&hw(t,e,i))}function hw(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function dw(n){return n>0?1:n<0?-1:0}function Hle(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&YG(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function uS(n,e){return zr(n.prev,n,n.next)<0?zr(n,e,n.next)>=0&&zr(n,n.prev,e)>=0:zr(n,e,n.prev)<0||zr(n,n.next,e)<0}function jle(n,e){let t=n,i=!1;const r=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function KG(n,e){const t=LP(n.i,n.x,n.y),i=LP(e.i,e.x,e.y),r=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,s.next=i,i.prev=s,i}function zz(n,e,t,i){const r=LP(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function hS(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function LP(n,e,t){return{i:n,x:e,y:t,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function Gle(n,e,t,i){let r=0;for(let s=e,a=t-i;s<t;s+=i)r+=(n[a]-n[s])*(n[s+1]+n[a+1]),a=s;return r}class qle{static triangulate(e,t,i=2){return Mle(e,t,i)}}class _u{static area(e){const t=e.length;let i=0;for(let r=t-1,s=0;s<t;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return i*.5}static isClockWise(e){return _u.area(e)<0}static triangulateShape(e,t){const i=[],r=[],s=[];Bz(e),Fz(i,e);let a=e.length;t.forEach(Bz);for(let l=0;l<t.length;l++)r.push(a),a+=t[l].length,Fz(i,t[l]);const o=qle.triangulate(i,r);for(let l=0;l<o.length;l+=3)s.push(o.slice(l,l+3));return s}}function Bz(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function Fz(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class IM extends Nn{constructor(e=new ey([new rt(.5,.5),new rt(-.5,.5),new rt(-.5,-.5),new rt(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,r=[],s=[];for(let o=0,l=e.length;o<l;o++){const u=e[o];a(u)}this.setAttribute("position",new Ht(r,3)),this.setAttribute("uv",new Ht(s,2)),this.computeVertexNormals();function a(o){const l=[],u=t.curveSegments!==void 0?t.curveSegments:12,d=t.steps!==void 0?t.steps:1,p=t.depth!==void 0?t.depth:1;let y=t.bevelEnabled!==void 0?t.bevelEnabled:!0,v=t.bevelThickness!==void 0?t.bevelThickness:.2,_=t.bevelSize!==void 0?t.bevelSize:v-.1,S=t.bevelOffset!==void 0?t.bevelOffset:0,E=t.bevelSegments!==void 0?t.bevelSegments:3;const b=t.extrudePath,w=t.UVGenerator!==void 0?t.UVGenerator:Wle;let A,C=!1,D,N,I,L;b&&(A=b.getSpacedPoints(d),C=!0,y=!1,D=b.computeFrenetFrames(d,!1),N=new he,I=new he,L=new he),y||(E=0,v=0,_=0,S=0);const P=o.extractPoints(u);let U=P.shape;const F=P.holes;if(!_u.isClockWise(U)){U=U.reverse();for(let te=0,Oe=F.length;te<Oe;te++){const Be=F[te];_u.isClockWise(Be)&&(F[te]=Be.reverse())}}function V(te){const Be=10000000000000001e-36;let Ne=te[0];for(let Me=1;Me<=te.length;Me++){const ut=Me%te.length,qe=te[ut],ae=qe.x-Ne.x,J=qe.y-Ne.y,Se=ae*ae+J*J,Ae=Math.max(Math.abs(qe.x),Math.abs(qe.y),Math.abs(Ne.x),Math.abs(Ne.y)),Ze=Be*Ae*Ae;if(Se<=Ze){te.splice(ut,1),Me--;continue}Ne=qe}}V(U),F.forEach(V);const Y=F.length,ee=U;for(let te=0;te<Y;te++){const Oe=F[te];U=U.concat(Oe)}function q(te,Oe,Be){return Oe||console.error("THREE.ExtrudeGeometry: vec does not exist"),te.clone().addScaledVector(Oe,Be)}const $=U.length;function Q(te,Oe,Be){let Ne,Me,ut;const qe=te.x-Oe.x,ae=te.y-Oe.y,J=Be.x-te.x,Se=Be.y-te.y,Ae=qe*qe+ae*ae,Ze=qe*Se-ae*J;if(Math.abs(Ze)>Number.EPSILON){const Re=Math.sqrt(Ae),ct=Math.sqrt(J*J+Se*Se),ht=Oe.x-ae/Re,Dt=Oe.y+qe/Re,zt=Be.x-Se/ct,$e=Be.y+J/ct,pt=((zt-ht)*Se-($e-Dt)*J)/(qe*Se-ae*J);Ne=ht+qe*pt-te.x,Me=Dt+ae*pt-te.y;const wt=Ne*Ne+Me*Me;if(wt<=2)return new rt(Ne,Me);ut=Math.sqrt(wt/2)}else{let Re=!1;qe>Number.EPSILON?J>Number.EPSILON&&(Re=!0):qe<-Number.EPSILON?J<-Number.EPSILON&&(Re=!0):Math.sign(ae)===Math.sign(Se)&&(Re=!0),Re?(Ne=-ae,Me=qe,ut=Math.sqrt(Ae)):(Ne=qe,Me=ae,ut=Math.sqrt(Ae/2))}return new rt(Ne/ut,Me/ut)}const se=[];for(let te=0,Oe=ee.length,Be=Oe-1,Ne=te+1;te<Oe;te++,Be++,Ne++)Be===Oe&&(Be=0),Ne===Oe&&(Ne=0),se[te]=Q(ee[te],ee[Be],ee[Ne]);const fe=[];let K,le=se.concat();for(let te=0,Oe=Y;te<Oe;te++){const Be=F[te];K=[];for(let Ne=0,Me=Be.length,ut=Me-1,qe=Ne+1;Ne<Me;Ne++,ut++,qe++)ut===Me&&(ut=0),qe===Me&&(qe=0),K[Ne]=Q(Be[Ne],Be[ut],Be[qe]);fe.push(K),le=le.concat(K)}let pe;if(E===0)pe=_u.triangulateShape(ee,F);else{const te=[],Oe=[];for(let Be=0;Be<E;Be++){const Ne=Be/E,Me=v*Math.cos(Ne*Math.PI/2),ut=_*Math.sin(Ne*Math.PI/2)+S;for(let qe=0,ae=ee.length;qe<ae;qe++){const J=q(ee[qe],se[qe],ut);Xe(J.x,J.y,-Me),Ne===0&&te.push(J)}for(let qe=0,ae=Y;qe<ae;qe++){const J=F[qe];K=fe[qe];const Se=[];for(let Ae=0,Ze=J.length;Ae<Ze;Ae++){const Re=q(J[Ae],K[Ae],ut);Xe(Re.x,Re.y,-Me),Ne===0&&Se.push(Re)}Ne===0&&Oe.push(Se)}}pe=_u.triangulateShape(te,Oe)}const ue=pe.length,ie=_+S;for(let te=0;te<$;te++){const Oe=y?q(U[te],le[te],ie):U[te];C?(I.copy(D.normals[0]).multiplyScalar(Oe.x),N.copy(D.binormals[0]).multiplyScalar(Oe.y),L.copy(A[0]).add(I).add(N),Xe(L.x,L.y,L.z)):Xe(Oe.x,Oe.y,0)}for(let te=1;te<=d;te++)for(let Oe=0;Oe<$;Oe++){const Be=y?q(U[Oe],le[Oe],ie):U[Oe];C?(I.copy(D.normals[te]).multiplyScalar(Be.x),N.copy(D.binormals[te]).multiplyScalar(Be.y),L.copy(A[te]).add(I).add(N),Xe(L.x,L.y,L.z)):Xe(Be.x,Be.y,p/d*te)}for(let te=E-1;te>=0;te--){const Oe=te/E,Be=v*Math.cos(Oe*Math.PI/2),Ne=_*Math.sin(Oe*Math.PI/2)+S;for(let Me=0,ut=ee.length;Me<ut;Me++){const qe=q(ee[Me],se[Me],Ne);Xe(qe.x,qe.y,p+Be)}for(let Me=0,ut=F.length;Me<ut;Me++){const qe=F[Me];K=fe[Me];for(let ae=0,J=qe.length;ae<J;ae++){const Se=q(qe[ae],K[ae],Ne);C?Xe(Se.x,Se.y+A[d-1].y,A[d-1].x+Be):Xe(Se.x,Se.y,p+Be)}}}de(),ye();function de(){const te=r.length/3;if(y){let Oe=0,Be=$*Oe;for(let Ne=0;Ne<ue;Ne++){const Me=pe[Ne];Ge(Me[2]+Be,Me[1]+Be,Me[0]+Be)}Oe=d+E*2,Be=$*Oe;for(let Ne=0;Ne<ue;Ne++){const Me=pe[Ne];Ge(Me[0]+Be,Me[1]+Be,Me[2]+Be)}}else{for(let Oe=0;Oe<ue;Oe++){const Be=pe[Oe];Ge(Be[2],Be[1],Be[0])}for(let Oe=0;Oe<ue;Oe++){const Be=pe[Oe];Ge(Be[0]+$*d,Be[1]+$*d,Be[2]+$*d)}}i.addGroup(te,r.length/3-te,0)}function ye(){const te=r.length/3;let Oe=0;Ve(ee,Oe),Oe+=ee.length;for(let Be=0,Ne=F.length;Be<Ne;Be++){const Me=F[Be];Ve(Me,Oe),Oe+=Me.length}i.addGroup(te,r.length/3-te,1)}function Ve(te,Oe){let Be=te.length;for(;--Be>=0;){const Ne=Be;let Me=Be-1;Me<0&&(Me=te.length-1);for(let ut=0,qe=d+E*2;ut<qe;ut++){const ae=$*ut,J=$*(ut+1),Se=Oe+Ne+ae,Ae=Oe+Me+ae,Ze=Oe+Me+J,Re=Oe+Ne+J;st(Se,Ae,Ze,Re)}}}function Xe(te,Oe,Be){l.push(te),l.push(Oe),l.push(Be)}function Ge(te,Oe,Be){lt(te),lt(Oe),lt(Be);const Ne=r.length/3,Me=w.generateTopUV(i,r,Ne-3,Ne-2,Ne-1);mt(Me[0]),mt(Me[1]),mt(Me[2])}function st(te,Oe,Be,Ne){lt(te),lt(Oe),lt(Ne),lt(Oe),lt(Be),lt(Ne);const Me=r.length/3,ut=w.generateSideWallUV(i,r,Me-6,Me-3,Me-2,Me-1);mt(ut[0]),mt(ut[1]),mt(ut[3]),mt(ut[1]),mt(ut[2]),mt(ut[3])}function lt(te){r.push(l[te*3+0]),r.push(l[te*3+1]),r.push(l[te*3+2])}function mt(te){s.push(te.x),s.push(te.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return $le(t,i,e)}static fromJSON(e,t){const i=[];for(let s=0,a=e.shapes.length;s<a;s++){const o=t[e.shapes[s]];i.push(o)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new nA[r.type]().fromJSON(r)),new IM(i,e.options)}}const Wle={generateTopUV:function(n,e,t,i,r){const s=e[t*3],a=e[t*3+1],o=e[i*3],l=e[i*3+1],u=e[r*3],d=e[r*3+1];return[new rt(s,a),new rt(o,l),new rt(u,d)]},generateSideWallUV:function(n,e,t,i,r,s){const a=e[t*3],o=e[t*3+1],l=e[t*3+2],u=e[i*3],d=e[i*3+1],p=e[i*3+2],y=e[r*3],v=e[r*3+1],_=e[r*3+2],S=e[s*3],E=e[s*3+1],b=e[s*3+2];return Math.abs(o-d)<Math.abs(a-u)?[new rt(a,1-l),new rt(u,1-p),new rt(y,1-_),new rt(S,1-b)]:[new rt(o,1-l),new rt(d,1-p),new rt(v,1-_),new rt(E,1-b)]}};function $le(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++){const s=n[i];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class PM extends um{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new PM(e.radius,e.detail)}}class DM extends Nn{constructor(e=[new rt(0,-.5),new rt(.5,0),new rt(0,.5)],t=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:r},t=Math.floor(t),r=Mn(r,0,Math.PI*2);const s=[],a=[],o=[],l=[],u=[],d=1/t,p=new he,y=new rt,v=new he,_=new he,S=new he;let E=0,b=0;for(let w=0;w<=e.length-1;w++)switch(w){case 0:E=e[w+1].x-e[w].x,b=e[w+1].y-e[w].y,v.x=b*1,v.y=-E,v.z=b*0,S.copy(v),v.normalize(),l.push(v.x,v.y,v.z);break;case e.length-1:l.push(S.x,S.y,S.z);break;default:E=e[w+1].x-e[w].x,b=e[w+1].y-e[w].y,v.x=b*1,v.y=-E,v.z=b*0,_.copy(v),v.x+=S.x,v.y+=S.y,v.z+=S.z,v.normalize(),l.push(v.x,v.y,v.z),S.copy(_)}for(let w=0;w<=t;w++){const A=i+w*d*r,C=Math.sin(A),D=Math.cos(A);for(let N=0;N<=e.length-1;N++){p.x=e[N].x*C,p.y=e[N].y,p.z=e[N].x*D,a.push(p.x,p.y,p.z),y.x=w/t,y.y=N/(e.length-1),o.push(y.x,y.y);const I=l[3*N+0]*C,L=l[3*N+1],P=l[3*N+0]*D;u.push(I,L,P)}}for(let w=0;w<t;w++)for(let A=0;A<e.length-1;A++){const C=A+w*e.length,D=C,N=C+e.length,I=C+e.length+1,L=C+1;s.push(D,N,L),s.push(I,L,N)}this.setIndex(s),this.setAttribute("position",new Ht(a,3)),this.setAttribute("uv",new Ht(o,2)),this.setAttribute("normal",new Ht(u,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new DM(e.points,e.segments,e.phiStart,e.phiLength)}}class YS extends um{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new YS(e.radius,e.detail)}}class B_ extends Nn{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const s=e/2,a=t/2,o=Math.floor(i),l=Math.floor(r),u=o+1,d=l+1,p=e/o,y=t/l,v=[],_=[],S=[],E=[];for(let b=0;b<d;b++){const w=b*y-a;for(let A=0;A<u;A++){const C=A*p-s;_.push(C,-w,0),S.push(0,0,1),E.push(A/o),E.push(1-b/l)}}for(let b=0;b<l;b++)for(let w=0;w<o;w++){const A=w+u*b,C=w+u*(b+1),D=w+1+u*(b+1),N=w+1+u*b;v.push(A,C,N),v.push(C,D,N)}this.setIndex(v),this.setAttribute("position",new Ht(_,3)),this.setAttribute("normal",new Ht(S,3)),this.setAttribute("uv",new Ht(E,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new B_(e.width,e.height,e.widthSegments,e.heightSegments)}}class NM extends Nn{constructor(e=.5,t=1,i=32,r=1,s=0,a=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:s,thetaLength:a},i=Math.max(3,i),r=Math.max(1,r);const o=[],l=[],u=[],d=[];let p=e;const y=(t-e)/r,v=new he,_=new rt;for(let S=0;S<=r;S++){for(let E=0;E<=i;E++){const b=s+E/i*a;v.x=p*Math.cos(b),v.y=p*Math.sin(b),l.push(v.x,v.y,v.z),u.push(0,0,1),_.x=(v.x/t+1)/2,_.y=(v.y/t+1)/2,d.push(_.x,_.y)}p+=y}for(let S=0;S<r;S++){const E=S*(i+1);for(let b=0;b<i;b++){const w=b+E,A=w,C=w+i+1,D=w+i+2,N=w+1;o.push(A,C,N),o.push(C,D,N)}}this.setIndex(o),this.setAttribute("position",new Ht(l,3)),this.setAttribute("normal",new Ht(u,3)),this.setAttribute("uv",new Ht(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new NM(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class LM extends Nn{constructor(e=new ey([new rt(0,.5),new rt(-.5,-.5),new rt(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],r=[],s=[],a=[];let o=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let d=0;d<e.length;d++)u(e[d]),this.addGroup(o,l,d),o+=l,l=0;this.setIndex(i),this.setAttribute("position",new Ht(r,3)),this.setAttribute("normal",new Ht(s,3)),this.setAttribute("uv",new Ht(a,2));function u(d){const p=r.length/3,y=d.extractPoints(t);let v=y.shape;const _=y.holes;_u.isClockWise(v)===!1&&(v=v.reverse());for(let E=0,b=_.length;E<b;E++){const w=_[E];_u.isClockWise(w)===!0&&(_[E]=w.reverse())}const S=_u.triangulateShape(v,_);for(let E=0,b=_.length;E<b;E++){const w=_[E];v=v.concat(w)}for(let E=0,b=v.length;E<b;E++){const w=v[E];r.push(w.x,w.y,0),s.push(0,0,1),a.push(w.x,w.y)}for(let E=0,b=S.length;E<b;E++){const w=S[E],A=w[0]+p,C=w[1]+p,D=w[2]+p;i.push(A,C,D),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return Xle(t,e)}static fromJSON(e,t){const i=[];for(let r=0,s=e.shapes.length;r<s;r++){const a=t[e.shapes[r]];i.push(a)}return new LM(i,e.curveSegments)}}function Xle(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const r=n[t];e.shapes.push(r.uuid)}else e.shapes.push(n.uuid);return e}class Ey extends Nn{constructor(e=1,t=32,i=16,r=0,s=Math.PI*2,a=0,o=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:s,thetaStart:a,thetaLength:o},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const l=Math.min(a+o,Math.PI);let u=0;const d=[],p=new he,y=new he,v=[],_=[],S=[],E=[];for(let b=0;b<=i;b++){const w=[],A=b/i;let C=0;b===0&&a===0?C=.5/t:b===i&&l===Math.PI&&(C=-.5/t);for(let D=0;D<=t;D++){const N=D/t;p.x=-e*Math.cos(r+N*s)*Math.sin(a+A*o),p.y=e*Math.cos(a+A*o),p.z=e*Math.sin(r+N*s)*Math.sin(a+A*o),_.push(p.x,p.y,p.z),y.copy(p).normalize(),S.push(y.x,y.y,y.z),E.push(N+C,1-A),w.push(u++)}d.push(w)}for(let b=0;b<i;b++)for(let w=0;w<t;w++){const A=d[b][w+1],C=d[b][w],D=d[b+1][w],N=d[b+1][w+1];(b!==0||a>0)&&v.push(A,C,N),(b!==i-1||l<Math.PI)&&v.push(C,D,N)}this.setIndex(v),this.setAttribute("position",new Ht(_,3)),this.setAttribute("normal",new Ht(S,3)),this.setAttribute("uv",new Ht(E,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ey(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class UM extends um{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new UM(e.radius,e.detail)}}class kM extends Nn{constructor(e=1,t=.4,i=12,r=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:s},i=Math.floor(i),r=Math.floor(r);const a=[],o=[],l=[],u=[],d=new he,p=new he,y=new he;for(let v=0;v<=i;v++)for(let _=0;_<=r;_++){const S=_/r*s,E=v/i*Math.PI*2;p.x=(e+t*Math.cos(E))*Math.cos(S),p.y=(e+t*Math.cos(E))*Math.sin(S),p.z=t*Math.sin(E),o.push(p.x,p.y,p.z),d.x=e*Math.cos(S),d.y=e*Math.sin(S),y.subVectors(p,d).normalize(),l.push(y.x,y.y,y.z),u.push(_/r),u.push(v/i)}for(let v=1;v<=i;v++)for(let _=1;_<=r;_++){const S=(r+1)*v+_-1,E=(r+1)*(v-1)+_-1,b=(r+1)*(v-1)+_,w=(r+1)*v+_;a.push(S,E,w),a.push(E,b,w)}this.setIndex(a),this.setAttribute("position",new Ht(o,3)),this.setAttribute("normal",new Ht(l,3)),this.setAttribute("uv",new Ht(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new kM(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class zM extends Nn{constructor(e=1,t=.4,i=64,r=8,s=2,a=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:r,p:s,q:a},i=Math.floor(i),r=Math.floor(r);const o=[],l=[],u=[],d=[],p=new he,y=new he,v=new he,_=new he,S=new he,E=new he,b=new he;for(let A=0;A<=i;++A){const C=A/i*s*Math.PI*2;w(C,s,a,e,v),w(C+.01,s,a,e,_),E.subVectors(_,v),b.addVectors(_,v),S.crossVectors(E,b),b.crossVectors(S,E),S.normalize(),b.normalize();for(let D=0;D<=r;++D){const N=D/r*Math.PI*2,I=-t*Math.cos(N),L=t*Math.sin(N);p.x=v.x+(I*b.x+L*S.x),p.y=v.y+(I*b.y+L*S.y),p.z=v.z+(I*b.z+L*S.z),l.push(p.x,p.y,p.z),y.subVectors(p,v).normalize(),u.push(y.x,y.y,y.z),d.push(A/i),d.push(D/r)}}for(let A=1;A<=i;A++)for(let C=1;C<=r;C++){const D=(r+1)*(A-1)+(C-1),N=(r+1)*A+(C-1),I=(r+1)*A+C,L=(r+1)*(A-1)+C;o.push(D,N,L),o.push(N,I,L)}this.setIndex(o),this.setAttribute("position",new Ht(l,3)),this.setAttribute("normal",new Ht(u,3)),this.setAttribute("uv",new Ht(d,2));function w(A,C,D,N,I){const L=Math.cos(A),P=Math.sin(A),U=D/C*A,F=Math.cos(U);I.x=N*(2+F)*.5*L,I.y=N*(2+F)*P*.5,I.z=N*Math.sin(U)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new zM(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class KS extends Nn{constructor(e=new OM(new he(-1,-1,0),new he(-1,1,0),new he(1,1,0)),t=64,i=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:s};const a=e.computeFrenetFrames(t,s);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const o=new he,l=new he,u=new rt;let d=new he;const p=[],y=[],v=[],_=[];S(),this.setIndex(_),this.setAttribute("position",new Ht(p,3)),this.setAttribute("normal",new Ht(y,3)),this.setAttribute("uv",new Ht(v,2));function S(){for(let A=0;A<t;A++)E(A);E(s===!1?t:0),w(),b()}function E(A){d=e.getPointAt(A/t,d);const C=a.normals[A],D=a.binormals[A];for(let N=0;N<=r;N++){const I=N/r*Math.PI*2,L=Math.sin(I),P=-Math.cos(I);l.x=P*C.x+L*D.x,l.y=P*C.y+L*D.y,l.z=P*C.z+L*D.z,l.normalize(),y.push(l.x,l.y,l.z),o.x=d.x+i*l.x,o.y=d.y+i*l.y,o.z=d.z+i*l.z,p.push(o.x,o.y,o.z)}}function b(){for(let A=1;A<=t;A++)for(let C=1;C<=r;C++){const D=(r+1)*(A-1)+(C-1),N=(r+1)*A+(C-1),I=(r+1)*A+C,L=(r+1)*(A-1)+C;_.push(D,N,L),_.push(N,I,L)}}function w(){for(let A=0;A<=t;A++)for(let C=0;C<=r;C++)u.x=A/t,u.y=C/r,v.push(u.x,u.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new KS(new nA[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class ZG extends Nn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,r=new he,s=new he;if(e.index!==null){const a=e.attributes.position,o=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:o.count,materialIndex:0}]);for(let u=0,d=l.length;u<d;++u){const p=l[u],y=p.start,v=p.count;for(let _=y,S=y+v;_<S;_+=3)for(let E=0;E<3;E++){const b=o.getX(_+E),w=o.getX(_+(E+1)%3);r.fromBufferAttribute(a,b),s.fromBufferAttribute(a,w),Vz(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}}else{const a=e.attributes.position;for(let o=0,l=a.count/3;o<l;o++)for(let u=0;u<3;u++){const d=3*o+u,p=3*o+(u+1)%3;r.fromBufferAttribute(a,d),s.fromBufferAttribute(a,p),Vz(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new Ht(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function Vz(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(r)===!0?!1:(t.add(i),t.add(r),!0)}var Hz=Object.freeze({__proto__:null,BoxGeometry:Sy,CapsuleGeometry:CM,CircleGeometry:AM,ConeGeometry:z_,CylinderGeometry:k_,DodecahedronGeometry:MM,EdgesGeometry:HG,ExtrudeGeometry:IM,IcosahedronGeometry:PM,LatheGeometry:DM,OctahedronGeometry:YS,PlaneGeometry:B_,PolyhedronGeometry:um,RingGeometry:NM,ShapeGeometry:LM,SphereGeometry:Ey,TetrahedronGeometry:UM,TorusGeometry:kM,TorusKnotGeometry:zM,TubeGeometry:KS,WireframeGeometry:ZG});class QG extends no{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new kt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class JG extends Tu{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class BM extends no{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new kt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new kt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=lm,this.normalScale=new rt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new jl,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class eq extends BM{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new rt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Mn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new kt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new kt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new kt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class tq extends no{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new kt(16777215),this.specular=new kt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new kt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=lm,this.normalScale=new rt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new jl,this.combine=GS,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class nq extends no{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new kt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new kt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=lm,this.normalScale=new rt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class iq extends no{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=lm,this.normalScale=new rt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class PL extends no{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new kt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new kt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=lm,this.normalScale=new rt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new jl,this.combine=GS,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class DL extends no{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=mG,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class NL extends no{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class rq extends no{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new kt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=lm,this.normalScale=new rt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class sq extends io{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Hg(n,e){return!n||n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function aq(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function oq(n){function e(r,s){return n[r]-n[s]}const t=n.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(e),i}function UP(n,e,t){const i=n.length,r=new n.constructor(i);for(let s=0,a=0;a!==i;++s){const o=t[s]*e;for(let l=0;l!==e;++l)r[a++]=n[o+l]}return r}function LL(n,e,t,i){let r=1,s=n[0];for(;s!==void 0&&s[i]===void 0;)s=n[r++];if(s===void 0)return;let a=s[i];if(a!==void 0)if(Array.isArray(a))do a=s[i],a!==void 0&&(e.push(s.time),t.push(...a)),s=n[r++];while(s!==void 0);else if(a.toArray!==void 0)do a=s[i],a!==void 0&&(e.push(s.time),a.toArray(t,t.length)),s=n[r++];while(s!==void 0);else do a=s[i],a!==void 0&&(e.push(s.time),t.push(a)),s=n[r++];while(s!==void 0)}function Yle(n,e,t,i,r=30){const s=n.clone();s.name=e;const a=[];for(let l=0;l<s.tracks.length;++l){const u=s.tracks[l],d=u.getValueSize(),p=[],y=[];for(let v=0;v<u.times.length;++v){const _=u.times[v]*r;if(!(_<t||_>=i)){p.push(u.times[v]);for(let S=0;S<d;++S)y.push(u.values[v*d+S])}}p.length!==0&&(u.times=Hg(p,u.times.constructor),u.values=Hg(y,u.values.constructor),a.push(u))}s.tracks=a;let o=1/0;for(let l=0;l<s.tracks.length;++l)o>s.tracks[l].times[0]&&(o=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*o);return s.resetDuration(),s}function Kle(n,e=0,t=n,i=30){i<=0&&(i=30);const r=t.tracks.length,s=e/i;for(let a=0;a<r;++a){const o=t.tracks[a],l=o.ValueTypeName;if(l==="bool"||l==="string")continue;const u=n.tracks.find(function(b){return b.name===o.name&&b.ValueTypeName===l});if(u===void 0)continue;let d=0;const p=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=p/3);let y=0;const v=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(y=v/3);const _=o.times.length-1;let S;if(s<=o.times[0]){const b=d,w=p-d;S=o.values.slice(b,w)}else if(s>=o.times[_]){const b=_*p+d,w=b+p-d;S=o.values.slice(b,w)}else{const b=o.createInterpolant(),w=d,A=p-d;b.evaluate(s),S=b.resultBuffer.slice(w,A)}l==="quaternion"&&new Ca().fromArray(S).normalize().conjugate().toArray(S);const E=u.times.length;for(let b=0;b<E;++b){const w=b*v+y;if(l==="quaternion")Ca.multiplyQuaternionsFlat(u.values,w,S,0,u.values,w);else{const A=v-y*2;for(let C=0;C<A;++C)u.values[w+C]-=S[C]}}}return n.blendMode=yL,n}class Zle{static convertArray(e,t){return Hg(e,t)}static isTypedArray(e){return aq(e)}static getKeyframeOrder(e){return oq(e)}static sortedArray(e,t,i){return UP(e,t,i)}static flattenJSON(e,t,i,r){LL(e,t,i,r)}static subclip(e,t,i,r,s=30){return Yle(e,t,i,r,s)}static makeClipAdditive(e,t=0,i=e,r=30){return Kle(e,t,i,r)}}class ZS{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],s=t[i-1];e:{t:{let a;n:{i:if(!(e<r)){for(let o=i+2;;){if(r===void 0){if(e<s)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===o)break;if(s=r,r=t[++i],e<r)break t}a=t.length;break n}if(!(e>=s)){const o=t[1];e<o&&(i=2,s=o);for(let l=i-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(r=s,s=t[--i-1],e>=s)break t}a=i,i=0;break n}break e}for(;i<a;){const o=i+a>>>1;e<t[o]?a=o:i=o+1}if(r=t[i],s=t[i-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let a=0;a!==r;++a)t[a]=i[s+a];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class lq extends ZS{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Fg,endingEnd:Fg}}intervalChanged_(e,t,i){const r=this.parameterPositions;let s=e-2,a=e+1,o=r[s],l=r[a];if(o===void 0)switch(this.getSettings_().endingStart){case Vg:s=e,o=2*t-i;break;case rS:s=r.length-2,o=t+r[s]-r[s+1];break;default:s=e,o=i}if(l===void 0)switch(this.getSettings_().endingEnd){case Vg:a=e,l=2*i-t;break;case rS:a=1,l=i+r[1]-r[0];break;default:a=e-1,l=t}const u=(i-t)*.5,d=this.valueSize;this._weightPrev=u/(t-o),this._weightNext=u/(l-i),this._offsetPrev=s*d,this._offsetNext=a*d}interpolate_(e,t,i,r){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=e*o,u=l-o,d=this._offsetPrev,p=this._offsetNext,y=this._weightPrev,v=this._weightNext,_=(i-t)/(r-t),S=_*_,E=S*_,b=-y*E+2*y*S-y*_,w=(1+y)*E+(-1.5-2*y)*S+(-.5+y)*_+1,A=(-1-v)*E+(1.5+v)*S+.5*_,C=v*E-v*S;for(let D=0;D!==o;++D)s[D]=b*a[d+D]+w*a[u+D]+A*a[l+D]+C*a[p+D];return s}}class UL extends ZS{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=e*o,u=l-o,d=(i-t)/(r-t),p=1-d;for(let y=0;y!==o;++y)s[y]=a[u+y]*p+a[l+y]*d;return s}}class cq extends ZS{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class Lc{constructor(e,t,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Hg(t,this.TimeBufferType),this.values=Hg(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:Hg(e.times,Array),values:Hg(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new cq(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new UL(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new lq(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case iS:t=this.InterpolantFactoryMethodDiscrete;break;case JC:t=this.InterpolantFactoryMethodLinear;break;case C2:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return iS;case this.InterpolantFactoryMethodLinear:return JC;case this.InterpolantFactoryMethodSmooth:return C2}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let s=0,a=r-1;for(;s!==r&&i[s]<e;)++s;for(;a!==-1&&i[a]>t;)--a;if(++a,s!==0||a!==r){s>=a&&(a=Math.max(a,1),s=a-1);const o=this.getValueSize();this.times=i.slice(s,a),this.values=this.values.slice(s*o,a*o)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let o=0;o!==s;o++){const l=i[o];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,l),e=!1;break}if(a!==null&&a>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,l,a),e=!1;break}a=l}if(r!==void 0&&aq(r))for(let o=0,l=r.length;o!==l;++o){const u=r[o];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,u),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),i=this.getValueSize(),r=this.getInterpolation()===C2,s=e.length-1;let a=1;for(let o=1;o<s;++o){let l=!1;const u=e[o],d=e[o+1];if(u!==d&&(o!==1||u!==e[0]))if(r)l=!0;else{const p=o*i,y=p-i,v=p+i;for(let _=0;_!==i;++_){const S=t[p+_];if(S!==t[y+_]||S!==t[v+_]){l=!0;break}}}if(l){if(o!==a){e[a]=e[o];const p=o*i,y=a*i;for(let v=0;v!==i;++v)t[y+v]=t[p+v]}++a}}if(s>0){e[a]=e[s];for(let o=s*i,l=a*i,u=0;u!==i;++u)t[l+u]=t[o+u];++a}return a!==e.length?(this.times=e.slice(0,a),this.values=t.slice(0,a*i)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),i=this.constructor,r=new i(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}Lc.prototype.ValueTypeName="";Lc.prototype.TimeBufferType=Float32Array;Lc.prototype.ValueBufferType=Float32Array;Lc.prototype.DefaultInterpolation=JC;class Ty extends Lc{constructor(e,t,i){super(e,t,i)}}Ty.prototype.ValueTypeName="bool";Ty.prototype.ValueBufferType=Array;Ty.prototype.DefaultInterpolation=iS;Ty.prototype.InterpolantFactoryMethodLinear=void 0;Ty.prototype.InterpolantFactoryMethodSmooth=void 0;class kL extends Lc{constructor(e,t,i,r){super(e,t,i,r)}}kL.prototype.ValueTypeName="color";class dS extends Lc{constructor(e,t,i,r){super(e,t,i,r)}}dS.prototype.ValueTypeName="number";class uq extends ZS{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=(i-t)/(r-t);let u=e*o;for(let d=u+o;u!==d;u+=4)Ca.slerpFlat(s,0,a,u-o,a,u,l);return s}}class QS extends Lc{constructor(e,t,i,r){super(e,t,i,r)}InterpolantFactoryMethodLinear(e){return new uq(this.times,this.values,this.getValueSize(),e)}}QS.prototype.ValueTypeName="quaternion";QS.prototype.InterpolantFactoryMethodSmooth=void 0;class wy extends Lc{constructor(e,t,i){super(e,t,i)}}wy.prototype.ValueTypeName="string";wy.prototype.ValueBufferType=Array;wy.prototype.DefaultInterpolation=iS;wy.prototype.InterpolantFactoryMethodLinear=void 0;wy.prototype.InterpolantFactoryMethodSmooth=void 0;class fS extends Lc{constructor(e,t,i,r){super(e,t,i,r)}}fS.prototype.ValueTypeName="vector";class pS{constructor(e="",t=-1,i=[],r=pM){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=zl(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,r=1/(e.fps||1);for(let a=0,o=i.length;a!==o;++a)t.push(Jle(i[a]).scale(r));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,a=i.length;s!==a;++s)t.push(Lc.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,t,i,r){const s=t.length,a=[];for(let o=0;o<s;o++){let l=[],u=[];l.push((o+s-1)%s,o,(o+1)%s),u.push(0,1,0);const d=oq(l);l=UP(l,1,d),u=UP(u,1,d),!r&&l[0]===0&&(l.push(s),u.push(u[0])),a.push(new dS(".morphTargetInfluences["+t[o].name+"]",l,u).scale(1/i))}return new this(e,-1,a)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let o=0,l=e.length;o<l;o++){const u=e[o],d=u.name.match(s);if(d&&d.length>1){const p=d[1];let y=r[p];y||(r[p]=y=[]),y.push(u)}}const a=[];for(const o in r)a.push(this.CreateFromMorphTargetSequence(o,r[o],t,i));return a}static parseAnimation(e,t){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(p,y,v,_,S){if(v.length!==0){const E=[],b=[];LL(v,E,b,_),E.length!==0&&S.push(new p(y,E,b))}},r=[],s=e.name||"default",a=e.fps||30,o=e.blendMode;let l=e.length||-1;const u=e.hierarchy||[];for(let p=0;p<u.length;p++){const y=u[p].keys;if(!(!y||y.length===0))if(y[0].morphTargets){const v={};let _;for(_=0;_<y.length;_++)if(y[_].morphTargets)for(let S=0;S<y[_].morphTargets.length;S++)v[y[_].morphTargets[S]]=-1;for(const S in v){const E=[],b=[];for(let w=0;w!==y[_].morphTargets.length;++w){const A=y[_];E.push(A.time),b.push(A.morphTarget===S?1:0)}r.push(new dS(".morphTargetInfluence["+S+"]",E,b))}l=v.length*a}else{const v=".bones["+t[p].name+"]";i(fS,v+".position",y,"pos",r),i(QS,v+".quaternion",y,"rot",r),i(fS,v+".scale",y,"scl",r)}}return r.length===0?null:new this(s,l,r,o)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,r=e.length;i!==r;++i){const s=this.tracks[i];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function Qle(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return dS;case"vector":case"vector2":case"vector3":case"vector4":return fS;case"color":return kL;case"quaternion":return QS;case"bool":case"boolean":return Ty;case"string":return wy}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function Jle(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=Qle(n.type);if(n.times===void 0){const t=[],i=[];LL(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const Hd={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class zL{constructor(e,t,i){const r=this;let s=!1,a=0,o=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(d){o++,s===!1&&r.onStart!==void 0&&r.onStart(d,a,o),s=!0},this.itemEnd=function(d){a++,r.onProgress!==void 0&&r.onProgress(d,a,o),a===o&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(d){r.onError!==void 0&&r.onError(d)},this.resolveURL=function(d){return l?l(d):d},this.setURLModifier=function(d){return l=d,this},this.addHandler=function(d,p){return u.push(d,p),this},this.removeHandler=function(d){const p=u.indexOf(d);return p!==-1&&u.splice(p,2),this},this.getHandler=function(d){for(let p=0,y=u.length;p<y;p+=2){const v=u[p],_=u[p+1];if(v.global&&(v.lastIndex=0),v.test(d))return _}return null}}}const hq=new zL;class hl{constructor(e){this.manager=e!==void 0?e:hq,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(r,s){i.load(e,r,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}hl.DEFAULT_MATERIAL_NAME="__DEFAULT";const Td={};class ece extends Error{constructor(e,t){super(e),this.response=t}}class cf extends hl{constructor(e){super(e),this.mimeType="",this.responseType=""}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Hd.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(Td[e]!==void 0){Td[e].push({onLoad:t,onProgress:i,onError:r});return}Td[e]=[],Td[e].push({onLoad:t,onProgress:i,onError:r});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),o=this.mimeType,l=this.responseType;fetch(a).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const d=Td[e],p=u.body.getReader(),y=u.headers.get("X-File-Size")||u.headers.get("Content-Length"),v=y?parseInt(y):0,_=v!==0;let S=0;const E=new ReadableStream({start(b){w();function w(){p.read().then(({done:A,value:C})=>{if(A)b.close();else{S+=C.byteLength;const D=new ProgressEvent("progress",{lengthComputable:_,loaded:S,total:v});for(let N=0,I=d.length;N<I;N++){const L=d[N];L.onProgress&&L.onProgress(D)}b.enqueue(C),w()}},A=>{b.error(A)})}}});return new Response(E)}else throw new ece(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(d=>new DOMParser().parseFromString(d,o));case"json":return u.json();default:if(o==="")return u.text();{const p=/charset="?([^;"\s]*)"?/i.exec(o),y=p&&p[1]?p[1].toLowerCase():void 0,v=new TextDecoder(y);return u.arrayBuffer().then(_=>v.decode(_))}}}).then(u=>{Hd.add(e,u);const d=Td[e];delete Td[e];for(let p=0,y=d.length;p<y;p++){const v=d[p];v.onLoad&&v.onLoad(u)}}).catch(u=>{const d=Td[e];if(d===void 0)throw this.manager.itemError(e),u;delete Td[e];for(let p=0,y=d.length;p<y;p++){const v=d[p];v.onError&&v.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class tce extends hl{constructor(e){super(e)}load(e,t,i,r){const s=this,a=new cf(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(o){try{t(s.parse(JSON.parse(o)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=[];for(let i=0;i<e.length;i++){const r=pS.parse(e[i]);t.push(r)}return t}}class nce extends hl{constructor(e){super(e)}load(e,t,i,r){const s=this,a=[],o=new wM,l=new cf(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let u=0;function d(p){l.load(e[p],function(y){const v=s.parse(y,!0);a[p]={width:v.width,height:v.height,format:v.format,mipmaps:v.mipmaps},u+=1,u===6&&(v.mipmapCount===1&&(o.minFilter=ps),o.image=a,o.format=v.format,o.needsUpdate=!0,t&&t(o))},i,r)}if(Array.isArray(e))for(let p=0,y=e.length;p<y;++p)d(p);else l.load(e,function(p){const y=s.parse(p,!0);if(y.isCubemap){const v=y.mipmaps.length/y.mipmapCount;for(let _=0;_<v;_++){a[_]={mipmaps:[]};for(let S=0;S<y.mipmapCount;S++)a[_].mipmaps.push(y.mipmaps[_*y.mipmapCount+S]),a[_].format=y.format,a[_].width=y.width,a[_].height=y.height}o.image=a}else o.image.width=y.width,o.image.height=y.height,o.mipmaps=y.mipmaps;y.mipmapCount===1&&(o.minFilter=ps),o.format=y.format,o.needsUpdate=!0,t&&t(o)},i,r);return o}}class mS extends hl{constructor(e){super(e)}load(e,t,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=Hd.get(e);if(a!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(a),s.manager.itemEnd(e)},0),a;const o=lS("img");function l(){d(),Hd.add(e,this),t&&t(this),s.manager.itemEnd(e)}function u(p){d(),r&&r(p),s.manager.itemError(e),s.manager.itemEnd(e)}function d(){o.removeEventListener("load",l,!1),o.removeEventListener("error",u,!1)}return o.addEventListener("load",l,!1),o.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(o.crossOrigin=this.crossOrigin),s.manager.itemStart(e),o.src=e,o}}class ice extends hl{constructor(e){super(e)}load(e,t,i,r){const s=new $S;s.colorSpace=xa;const a=new mS(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let o=0;function l(u){a.load(e[u],function(d){s.images[u]=d,o++,o===6&&(s.needsUpdate=!0,t&&t(s))},void 0,r)}for(let u=0;u<e.length;++u)l(u);return s}}class rce extends hl{constructor(e){super(e)}load(e,t,i,r){const s=this,a=new Dh,o=new cf(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(s.withCredentials),o.load(e,function(l){let u;try{u=s.parse(l)}catch(d){if(r!==void 0)r(d);else{console.error(d);return}}u.image!==void 0?a.image=u.image:u.data!==void 0&&(a.image.width=u.width,a.image.height=u.height,a.image.data=u.data),a.wrapS=u.wrapS!==void 0?u.wrapS:Mc,a.wrapT=u.wrapT!==void 0?u.wrapT:Mc,a.magFilter=u.magFilter!==void 0?u.magFilter:ps,a.minFilter=u.minFilter!==void 0?u.minFilter:ps,a.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.colorSpace!==void 0&&(a.colorSpace=u.colorSpace),u.flipY!==void 0&&(a.flipY=u.flipY),u.format!==void 0&&(a.format=u.format),u.type!==void 0&&(a.type=u.type),u.mipmaps!==void 0&&(a.mipmaps=u.mipmaps,a.minFilter=Sh),u.mipmapCount===1&&(a.minFilter=ps),u.generateMipmaps!==void 0&&(a.generateMipmaps=u.generateMipmaps),a.needsUpdate=!0,t&&t(a,u)},i,r),a}}class sce extends hl{constructor(e){super(e)}load(e,t,i,r){const s=new rs,a=new mS(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(o){s.image=o,s.needsUpdate=!0,t!==void 0&&t(s)},i,r),s}}class hm extends vi{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new kt(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}class dq extends hm{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(vi.DEFAULT_UP),this.updateMatrix(),this.groundColor=new kt(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const lI=new an,jz=new he,Gz=new he;class BL{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new rt(512,512),this.mapType=Ic,this.map=null,this.mapPass=null,this.matrix=new an,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new U_,this._frameExtents=new rt(1,1),this._viewportCount=1,this._viewports=[new yi(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;jz.setFromMatrixPosition(e.matrixWorld),t.position.copy(jz),Gz.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(Gz),t.updateMatrixWorld(),lI.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(lI),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(lI)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class ace extends BL{constructor(){super(new ta(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,i=a_*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(i!==t.fov||r!==t.aspect||s!==t.far)&&(t.fov=i,t.aspect=r,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class fq extends hm{constructor(e,t,i=0,r=Math.PI/3,s=0,a=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(vi.DEFAULT_UP),this.updateMatrix(),this.target=new vi,this.distance=i,this.angle=r,this.penumbra=s,this.decay=a,this.map=null,this.shadow=new ace}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const qz=new an,_1=new he,cI=new he;class oce extends BL{constructor(){super(new ta(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new rt(4,2),this._viewportCount=6,this._viewports=[new yi(2,1,1,1),new yi(0,1,1,1),new yi(3,1,1,1),new yi(1,1,1,1),new yi(3,0,1,1),new yi(1,0,1,1)],this._cubeDirections=[new he(1,0,0),new he(-1,0,0),new he(0,0,1),new he(0,0,-1),new he(0,1,0),new he(0,-1,0)],this._cubeUps=[new he(0,1,0),new he(0,1,0),new he(0,1,0),new he(0,1,0),new he(0,0,1),new he(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),_1.setFromMatrixPosition(e.matrixWorld),i.position.copy(_1),cI.copy(i.position),cI.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(cI),i.updateMatrixWorld(),r.makeTranslation(-_1.x,-_1.y,-_1.z),qz.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(qz)}}class pq extends hm{constructor(e,t,i=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new oce}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}let JS=class extends yM{constructor(e=-1,t=1,i=1,r=-1,s=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=s,this.far=a,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,s,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,a=i+e,o=r+t,l=r-t;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=u*this.view.offsetX,a=s+u*this.view.width,o-=d*this.view.offsetY,l=o-d*this.view.height}this.projectionMatrix.makeOrthographic(s,a,o,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}};class lce extends BL{constructor(){super(new JS(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class mq extends hm{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(vi.DEFAULT_UP),this.updateMatrix(),this.target=new vi,this.shadow=new lce}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class gq extends hm{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class yq extends hm{constructor(e,t,i=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class vq{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new he)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,r=e.y,s=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.282095),t.addScaledVector(a[1],.488603*r),t.addScaledVector(a[2],.488603*s),t.addScaledVector(a[3],.488603*i),t.addScaledVector(a[4],1.092548*(i*r)),t.addScaledVector(a[5],1.092548*(r*s)),t.addScaledVector(a[6],.315392*(3*s*s-1)),t.addScaledVector(a[7],1.092548*(i*s)),t.addScaledVector(a[8],.546274*(i*i-r*r)),t}getIrradianceAt(e,t){const i=e.x,r=e.y,s=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.886227),t.addScaledVector(a[1],2*.511664*r),t.addScaledVector(a[2],2*.511664*s),t.addScaledVector(a[3],2*.511664*i),t.addScaledVector(a[4],2*.429043*i*r),t.addScaledVector(a[5],2*.429043*r*s),t.addScaledVector(a[6],.743125*s*s-.247708),t.addScaledVector(a[7],2*.429043*i*s),t.addScaledVector(a[8],.429043*(i*i-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const i=e.x,r=e.y,s=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*s,t[3]=.488603*i,t[4]=1.092548*i*r,t[5]=1.092548*r*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*i*s,t[8]=.546274*(i*i-r*r)}}class _q extends hm{constructor(e=new vq,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class FM extends hl{constructor(e){super(e),this.textures={}}load(e,t,i,r){const s=this,a=new cf(s.manager);a.setPath(s.path),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(o){try{t(s.parse(JSON.parse(o)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=this.textures;function i(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const r=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new kt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(r.dispersion=e.dispersion),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(r.depthFunc=e.depthFunc),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(r.blendSrc=e.blendSrc),e.blendDst!==void 0&&(r.blendDst=e.blendDst),e.blendEquation!==void 0&&(r.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(r.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(r.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(r.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&r.blendColor!==void 0&&r.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(r.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==void 0&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const a=e.uniforms[s];switch(r.uniforms[s]={},a.type){case"t":r.uniforms[s].value=i(a.value);break;case"c":r.uniforms[s].value=new kt().setHex(a.value);break;case"v2":r.uniforms[s].value=new rt().fromArray(a.value);break;case"v3":r.uniforms[s].value=new he().fromArray(a.value);break;case"v4":r.uniforms[s].value=new yi().fromArray(a.value);break;case"m3":r.uniforms[s].value=new Dn().fromArray(a.value);break;case"m4":r.uniforms[s].value=new an().fromArray(a.value);break;default:r.uniforms[s].value=a.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)r.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),r.normalScale=new rt().fromArray(s)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapRotation!==void 0&&r.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new rt().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return FM.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:QG,SpriteMaterial:SM,RawShaderMaterial:JG,ShaderMaterial:Tu,PointsMaterial:TL,MeshPhysicalMaterial:eq,MeshStandardMaterial:BM,MeshPhongMaterial:tq,MeshToonMaterial:nq,MeshNormalMaterial:iq,MeshLambertMaterial:PL,MeshDepthMaterial:DL,MeshDistanceMaterial:NL,MeshBasicMaterial:cm,MeshMatcapMaterial:rq,LineDashedMaterial:sq,LineBasicMaterial:io,Material:no};return new t[e]}}class kP{static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class bq extends Nn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class xq extends hl{constructor(e){super(e)}load(e,t,i,r){const s=this,a=new cf(s.manager);a.setPath(s.path),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(o){try{t(s.parse(JSON.parse(o)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t={},i={};function r(v,_){if(t[_]!==void 0)return t[_];const E=v.interleavedBuffers[_],b=s(v,E.buffer),w=E0(E.type,b),A=new xM(w,E.stride);return A.uuid=E.uuid,t[_]=A,A}function s(v,_){if(i[_]!==void 0)return i[_];const E=v.arrayBuffers[_],b=new Uint32Array(E).buffer;return i[_]=b,b}const a=e.isInstancedBufferGeometry?new bq:new Nn,o=e.data.index;if(o!==void 0){const v=E0(o.type,o.array);a.setIndex(new Hi(v,1))}const l=e.data.attributes;for(const v in l){const _=l[v];let S;if(_.isInterleavedBufferAttribute){const E=r(e.data,_.data);S=new cy(E,_.itemSize,_.offset,_.normalized)}else{const E=E0(_.type,_.array),b=_.isInstancedBufferAttribute?c_:Hi;S=new b(E,_.itemSize,_.normalized)}_.name!==void 0&&(S.name=_.name),_.usage!==void 0&&S.setUsage(_.usage),a.setAttribute(v,S)}const u=e.data.morphAttributes;if(u)for(const v in u){const _=u[v],S=[];for(let E=0,b=_.length;E<b;E++){const w=_[E];let A;if(w.isInterleavedBufferAttribute){const C=r(e.data,w.data);A=new cy(C,w.itemSize,w.offset,w.normalized)}else{const C=E0(w.type,w.array);A=new Hi(C,w.itemSize,w.normalized)}w.name!==void 0&&(A.name=w.name),S.push(A)}a.morphAttributes[v]=S}e.data.morphTargetsRelative&&(a.morphTargetsRelative=!0);const p=e.data.groups||e.data.drawcalls||e.data.offsets;if(p!==void 0)for(let v=0,_=p.length;v!==_;++v){const S=p[v];a.addGroup(S.start,S.count,S.materialIndex)}const y=e.data.boundingSphere;if(y!==void 0){const v=new he;y.center!==void 0&&v.fromArray(y.center),a.boundingSphere=new ra(v,y.radius)}return e.name&&(a.name=e.name),e.userData&&(a.userData=e.userData),a}}class cce extends hl{constructor(e){super(e)}load(e,t,i,r){const s=this,a=this.path===""?kP.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const o=new cf(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){let u=null;try{u=JSON.parse(l)}catch(p){r!==void 0&&r(p),console.error("THREE:ObjectLoader: Can't parse "+e+".",p.message);return}const d=u.metadata;if(d===void 0||d.type===void 0||d.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(u,t)},i,r)}async loadAsync(e,t){const i=this,r=this.path===""?kP.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const s=new cf(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const a=await s.loadAsync(e,t),o=JSON.parse(a),l=o.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(o)}parse(e,t){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),a=this.parseImages(e.images,function(){t!==void 0&&t(u)}),o=this.parseTextures(e.textures,a),l=this.parseMaterials(e.materials,o),u=this.parseObject(e.object,s,l,o,i),d=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,d),this.bindLightTargets(u),t!==void 0){let p=!1;for(const y in a)if(a[y].data instanceof HTMLImageElement){p=!0;break}p===!1&&t(u)}return u}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),s=await this.parseImagesAsync(e.images),a=this.parseTextures(e.textures,s),o=this.parseMaterials(e.materials,a),l=this.parseObject(e.object,r,o,a,t),u=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,u),this.bindLightTargets(l),l}parseShapes(e){const t={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const s=new ey().fromJSON(e[i]);t[s.uuid]=s}return t}parseSkeletons(e,t){const i={},r={};if(t.traverse(function(s){s.isBone&&(r[s.uuid]=s)}),e!==void 0)for(let s=0,a=e.length;s<a;s++){const o=new EM().fromJSON(e[s],r);i[o.uuid]=o}return i}parseGeometries(e,t){const i={};if(e!==void 0){const r=new xq;for(let s=0,a=e.length;s<a;s++){let o;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":o=r.parse(l);break;default:l.type in Hz?o=Hz[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}o.uuid=l.uuid,l.name!==void 0&&(o.name=l.name),l.userData!==void 0&&(o.userData=l.userData),i[l.uuid]=o}}return i}parseMaterials(e,t){const i={},r={};if(e!==void 0){const s=new FM;s.setTextures(t);for(let a=0,o=e.length;a<o;a++){const l=e[a];i[l.uuid]===void 0&&(i[l.uuid]=s.parse(l)),r[l.uuid]=i[l.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],s=pS.parse(r);t[s.uuid]=s}return t}parseImages(e,t){const i=this,r={};let s;function a(l){return i.manager.itemStart(l),s.load(l,function(){i.manager.itemEnd(l)},void 0,function(){i.manager.itemError(l),i.manager.itemEnd(l)})}function o(l){if(typeof l=="string"){const u=l,d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:i.resourcePath+u;return a(d)}else return l.data?{data:E0(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new zL(t);s=new mS(l),s.setCrossOrigin(this.crossOrigin);for(let u=0,d=e.length;u<d;u++){const p=e[u],y=p.url;if(Array.isArray(y)){const v=[];for(let _=0,S=y.length;_<S;_++){const E=y[_],b=o(E);b!==null&&(b instanceof HTMLImageElement?v.push(b):v.push(new Dh(b.data,b.width,b.height)))}r[p.uuid]=new Ip(v)}else{const v=o(p.url);r[p.uuid]=new Ip(v)}}}return r}async parseImagesAsync(e){const t=this,i={};let r;async function s(a){if(typeof a=="string"){const o=a,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(o)?o:t.resourcePath+o;return await r.loadAsync(l)}else return a.data?{data:E0(a.type,a.data),width:a.width,height:a.height}:null}if(e!==void 0&&e.length>0){r=new mS(this.manager),r.setCrossOrigin(this.crossOrigin);for(let a=0,o=e.length;a<o;a++){const l=e[a],u=l.url;if(Array.isArray(u)){const d=[];for(let p=0,y=u.length;p<y;p++){const v=u[p],_=await s(v);_!==null&&(_ instanceof HTMLImageElement?d.push(_):d.push(new Dh(_.data,_.width,_.height)))}i[l.uuid]=new Ip(d)}else{const d=await s(l.url);i[l.uuid]=new Ip(d)}}}return i}parseTextures(e,t){function i(s,a){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),a[s])}const r={};if(e!==void 0)for(let s=0,a=e.length;s<a;s++){const o=e[s];o.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),t[o.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",o.image);const l=t[o.image],u=l.data;let d;Array.isArray(u)?(d=new $S,u.length===6&&(d.needsUpdate=!0)):(u&&u.data?d=new Dh:d=new rs,u&&(d.needsUpdate=!0)),d.source=l,d.uuid=o.uuid,o.name!==void 0&&(d.name=o.name),o.mapping!==void 0&&(d.mapping=i(o.mapping,uce)),o.channel!==void 0&&(d.channel=o.channel),o.offset!==void 0&&d.offset.fromArray(o.offset),o.repeat!==void 0&&d.repeat.fromArray(o.repeat),o.center!==void 0&&d.center.fromArray(o.center),o.rotation!==void 0&&(d.rotation=o.rotation),o.wrap!==void 0&&(d.wrapS=i(o.wrap[0],Wz),d.wrapT=i(o.wrap[1],Wz)),o.format!==void 0&&(d.format=o.format),o.internalFormat!==void 0&&(d.internalFormat=o.internalFormat),o.type!==void 0&&(d.type=o.type),o.colorSpace!==void 0&&(d.colorSpace=o.colorSpace),o.minFilter!==void 0&&(d.minFilter=i(o.minFilter,$z)),o.magFilter!==void 0&&(d.magFilter=i(o.magFilter,$z)),o.anisotropy!==void 0&&(d.anisotropy=o.anisotropy),o.flipY!==void 0&&(d.flipY=o.flipY),o.generateMipmaps!==void 0&&(d.generateMipmaps=o.generateMipmaps),o.premultiplyAlpha!==void 0&&(d.premultiplyAlpha=o.premultiplyAlpha),o.unpackAlignment!==void 0&&(d.unpackAlignment=o.unpackAlignment),o.compareFunction!==void 0&&(d.compareFunction=o.compareFunction),o.userData!==void 0&&(d.userData=o.userData),r[o.uuid]=d}return r}parseObject(e,t,i,r,s){let a;function o(y){return t[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",y),t[y]}function l(y){if(y!==void 0){if(Array.isArray(y)){const v=[];for(let _=0,S=y.length;_<S;_++){const E=y[_];i[E]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",E),v.push(i[E])}return v}return i[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",y),i[y]}}function u(y){return r[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",y),r[y]}let d,p;switch(e.type){case"Scene":a=new bM,e.background!==void 0&&(Number.isInteger(e.background)?a.background=new kt(e.background):a.background=u(e.background)),e.environment!==void 0&&(a.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?a.fog=new _M(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(a.fog=new vM(e.fog.color,e.fog.density)),e.fog.name!==""&&(a.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(a.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(a.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&a.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(a.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&a.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":a=new ta(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(a.focus=e.focus),e.zoom!==void 0&&(a.zoom=e.zoom),e.filmGauge!==void 0&&(a.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(a.filmOffset=e.filmOffset),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new JS(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(a.zoom=e.zoom),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new gq(e.color,e.intensity);break;case"DirectionalLight":a=new mq(e.color,e.intensity),a.target=e.target||"";break;case"PointLight":a=new pq(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new yq(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new fq(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),a.target=e.target||"";break;case"HemisphereLight":a=new dq(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=new _q().fromJSON(e);break;case"SkinnedMesh":d=o(e.geometry),p=l(e.material),a=new UG(d,p),e.bindMode!==void 0&&(a.bindMode=e.bindMode),e.bindMatrix!==void 0&&a.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(a.skeleton=e.skeleton);break;case"Mesh":d=o(e.geometry),p=l(e.material),a=new is(d,p);break;case"InstancedMesh":d=o(e.geometry),p=l(e.material);const y=e.count,v=e.instanceMatrix,_=e.instanceColor;a=new kG(d,p,y),a.instanceMatrix=new c_(new Float32Array(v.array),16),_!==void 0&&(a.instanceColor=new c_(new Float32Array(_.array),_.itemSize));break;case"BatchedMesh":d=o(e.geometry),p=l(e.material),a=new zG(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,p),a.geometry=d,a.perObjectFrustumCulled=e.perObjectFrustumCulled,a.sortObjects=e.sortObjects,a._drawRanges=e.drawRanges,a._reservedRanges=e.reservedRanges,a._geometryInfo=e.geometryInfo.map(S=>{let E=null,b=null;return S.boundingBox!==void 0&&(E=new ia,E.min.fromArray(S.boundingBox.min),E.max.fromArray(S.boundingBox.max)),S.boundingSphere!==void 0&&(b=new ra,b.radius=S.boundingSphere.radius,b.center.fromArray(S.boundingSphere.center)),{...S,boundingBox:E,boundingSphere:b}}),a._instanceInfo=e.instanceInfo,a._availableInstanceIds=e._availableInstanceIds,a._availableGeometryIds=e._availableGeometryIds,a._nextIndexStart=e.nextIndexStart,a._nextVertexStart=e.nextVertexStart,a._geometryCount=e.geometryCount,a._maxInstanceCount=e.maxInstanceCount,a._maxVertexCount=e.maxVertexCount,a._maxIndexCount=e.maxIndexCount,a._geometryInitialized=e.geometryInitialized,a._matricesTexture=u(e.matricesTexture.uuid),a._indirectTexture=u(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(a._colorsTexture=u(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(a.boundingSphere=new ra,a.boundingSphere.center.fromArray(e.boundingSphere.center),a.boundingSphere.radius=e.boundingSphere.radius),e.boundingBox!==void 0&&(a.boundingBox=new ia,a.boundingBox.min.fromArray(e.boundingBox.min),a.boundingBox.max.fromArray(e.boundingBox.max));break;case"LOD":a=new LG;break;case"Line":a=new lf(o(e.geometry),l(e.material));break;case"LineLoop":a=new BG(o(e.geometry),l(e.material));break;case"LineSegments":a=new Fh(o(e.geometry),l(e.material));break;case"PointCloud":case"Points":a=new FG(o(e.geometry),l(e.material));break;case"Sprite":a=new SL(l(e.material));break;case"Group":a=new Vd;break;case"Bone":a=new EL;break;default:a=new vi}if(a.uuid=e.uuid,e.name!==void 0&&(a.name=e.name),e.matrix!==void 0?(a.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(e.position!==void 0&&a.position.fromArray(e.position),e.rotation!==void 0&&a.rotation.fromArray(e.rotation),e.quaternion!==void 0&&a.quaternion.fromArray(e.quaternion),e.scale!==void 0&&a.scale.fromArray(e.scale)),e.up!==void 0&&a.up.fromArray(e.up),e.castShadow!==void 0&&(a.castShadow=e.castShadow),e.receiveShadow!==void 0&&(a.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(a.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(a.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(a.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(a.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&a.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(a.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(a.visible=e.visible),e.frustumCulled!==void 0&&(a.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(a.renderOrder=e.renderOrder),e.userData!==void 0&&(a.userData=e.userData),e.layers!==void 0&&(a.layers.mask=e.layers),e.children!==void 0){const y=e.children;for(let v=0;v<y.length;v++)a.add(this.parseObject(y[v],t,i,r,s))}if(e.animations!==void 0){const y=e.animations;for(let v=0;v<y.length;v++){const _=y[v];a.animations.push(s[_])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(a.autoUpdate=e.autoUpdate);const y=e.levels;for(let v=0;v<y.length;v++){const _=y[v],S=a.getObjectByProperty("uuid",_.object);S!==void 0&&a.addLevel(S,_.distance,_.hysteresis)}}return a}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=t[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const i=t.target,r=e.getObjectByProperty("uuid",i);r!==void 0?t.target=r:t.target=new vi}})}}const uce={UVMapping:oM,CubeReflectionMapping:af,CubeRefractionMapping:Qp,EquirectangularReflectionMapping:Jx,EquirectangularRefractionMapping:eS,CubeUVReflectionMapping:N_},Wz={RepeatWrapping:tS,ClampToEdgeWrapping:Mc,MirroredRepeatWrapping:nS},$z={NearestFilter:wa,NearestMipmapNearestFilter:cL,NearestMipmapLinearFilter:S0,LinearFilter:ps,LinearMipmapNearestFilter:vx,LinearMipmapLinearFilter:Sh};class hce extends hl{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=Hd.get(e);if(a!==void 0){if(s.manager.itemStart(e),a.then){a.then(u=>{t&&t(u),s.manager.itemEnd(e)}).catch(u=>{r&&r(u)});return}return setTimeout(function(){t&&t(a),s.manager.itemEnd(e)},0),a}const o={};o.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",o.headers=this.requestHeader;const l=fetch(e,o).then(function(u){return u.blob()}).then(function(u){return createImageBitmap(u,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(u){return Hd.add(e,u),t&&t(u),s.manager.itemEnd(e),u}).catch(function(u){r&&r(u),Hd.remove(e),s.manager.itemError(e),s.manager.itemEnd(e)});Hd.add(e,l),s.manager.itemStart(e)}}let fw;class FL{static getContext(){return fw===void 0&&(fw=new(window.AudioContext||window.webkitAudioContext)),fw}static setContext(e){fw=e}}class dce extends hl{constructor(e){super(e)}load(e,t,i,r){const s=this,a=new cf(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){try{const u=l.slice(0);FL.getContext().decodeAudioData(u,function(p){t(p)}).catch(o)}catch(u){o(u)}},i,r);function o(l){r?r(l):console.error(l),s.manager.itemError(e)}}}const Xz=new an,Yz=new an,fg=new an;class fce{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new ta,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new ta,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,fg.copy(e.projectionMatrix);const r=t.eyeSep/2,s=r*t.near/t.focus,a=t.near*Math.tan(Jg*t.fov*.5)/t.zoom;let o,l;Yz.elements[12]=-r,Xz.elements[12]=r,o=-a*t.aspect+s,l=a*t.aspect+s,fg.elements[0]=2*t.near/(l-o),fg.elements[8]=(l+o)/(l-o),this.cameraL.projectionMatrix.copy(fg),o=-a*t.aspect-s,l=a*t.aspect-s,fg.elements[0]=2*t.near/(l-o),fg.elements[8]=(l+o)/(l-o),this.cameraR.projectionMatrix.copy(fg)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(Yz),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(Xz)}}class Sq extends ta{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class VL{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=Kz(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=Kz();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function Kz(){return performance.now()}const pg=new he,Zz=new Ca,pce=new he,mg=new he;class mce extends vi{constructor(){super(),this.type="AudioListener",this.context=FL.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new VL}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(pg,Zz,pce),mg.set(0,0,-1).applyQuaternion(Zz),t.positionX){const r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(pg.x,r),t.positionY.linearRampToValueAtTime(pg.y,r),t.positionZ.linearRampToValueAtTime(pg.z,r),t.forwardX.linearRampToValueAtTime(mg.x,r),t.forwardY.linearRampToValueAtTime(mg.y,r),t.forwardZ.linearRampToValueAtTime(mg.z,r),t.upX.linearRampToValueAtTime(i.x,r),t.upY.linearRampToValueAtTime(i.y,r),t.upZ.linearRampToValueAtTime(i.z,r)}else t.setPosition(pg.x,pg.y,pg.z),t.setOrientation(mg.x,mg.y,mg.z,i.x,i.y,i.z)}}class Eq extends vi{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const gg=new he,Qz=new Ca,gce=new he,yg=new he;class yce extends Eq{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(gg,Qz,gce),yg.set(0,0,1).applyQuaternion(Qz);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(gg.x,i),t.positionY.linearRampToValueAtTime(gg.y,i),t.positionZ.linearRampToValueAtTime(gg.z,i),t.orientationX.linearRampToValueAtTime(yg.x,i),t.orientationY.linearRampToValueAtTime(yg.y,i),t.orientationZ.linearRampToValueAtTime(yg.z,i)}else t.setPosition(gg.x,gg.y,gg.z),t.setOrientation(yg.x,yg.y,yg.z)}}class vce{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class Tq{constructor(e,t,i){this.binding=e,this.valueSize=i;let r,s,a;switch(t){case"quaternion":r=this._slerp,s=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,s=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,r=this.valueSize,s=e*r+r;let a=this.cumulativeWeight;if(a===0){for(let o=0;o!==r;++o)i[s+o]=i[o];a=t}else{a+=t;const o=t/a;this._mixBufferRegion(i,s,0,o,r)}this.cumulativeWeight=a}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,r=e*t+t,s=this.cumulativeWeight,a=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(i,r,l,1-s,t)}a>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*t,1,t);for(let l=t,u=t+t;l!==u;++l)if(i[l]!==i[l+t]){o.setValue(i,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(t,r);for(let s=i,a=r;s!==a;++s)t[s]=t[r+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,r,s){if(r>=.5)for(let a=0;a!==s;++a)e[t+a]=e[i+a]}_slerp(e,t,i,r){Ca.slerpFlat(e,t,e,t,e,i,r)}_slerpAdditive(e,t,i,r,s){const a=this._workIndex*s;Ca.multiplyQuaternionsFlat(e,a,e,t,e,i),Ca.slerpFlat(e,t,e,t,e,a,r)}_lerp(e,t,i,r,s){const a=1-r;for(let o=0;o!==s;++o){const l=t+o;e[l]=e[l]*a+e[i+o]*r}}_lerpAdditive(e,t,i,r,s){for(let a=0;a!==s;++a){const o=t+a;e[o]=e[o]+e[i+a]*r}}}const HL="\\[\\]\\.:\\/",_ce=new RegExp("["+HL+"]","g"),jL="[^"+HL+"]",bce="[^"+HL.replace("\\.","")+"]",xce=/((?:WC+[\/:])*)/.source.replace("WC",jL),Sce=/(WCOD+)?/.source.replace("WCOD",bce),Ece=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",jL),Tce=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",jL),wce=new RegExp("^"+xce+Sce+Ece+Tce+"$"),Cce=["material","materials","bones","map"];class Ace{constructor(e,t,i){const r=i||bi.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class bi{constructor(e,t,i){this.path=t,this.parsedPath=i||bi.parseTrackName(t),this.node=bi.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new bi.Composite(e,t,i):new bi(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(_ce,"")}static parseTrackName(e){const t=wce.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=i.nodeName.substring(r+1);Cce.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(s){for(let a=0;a<s.length;a++){const o=s[a];if(o.name===t||o.uuid===t)return o;const l=i(o.children);if(l)return l}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)e[t++]=i[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,r=t.propertyName;let s=t.propertyIndex;if(e||(e=bi.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let u=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let d=0;d<e.length;d++)if(e[d].name===u){u=d;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const a=e[r];if(a===void 0){const u=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+r+" but it wasn't found.",e);return}let o=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?o=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(o=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=s}else a.fromArray!==void 0&&a.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(l=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][o]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}bi.Composite=Ace;bi.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};bi.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};bi.prototype.GetterByBindingType=[bi.prototype._getValue_direct,bi.prototype._getValue_array,bi.prototype._getValue_arrayElement,bi.prototype._getValue_toArray];bi.prototype.SetterByBindingTypeAndVersioning=[[bi.prototype._setValue_direct,bi.prototype._setValue_direct_setNeedsUpdate,bi.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[bi.prototype._setValue_array,bi.prototype._setValue_array_setNeedsUpdate,bi.prototype._setValue_array_setMatrixWorldNeedsUpdate],[bi.prototype._setValue_arrayElement,bi.prototype._setValue_arrayElement_setNeedsUpdate,bi.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[bi.prototype._setValue_fromArray,bi.prototype._setValue_fromArray_setNeedsUpdate,bi.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Mce{constructor(){this.isAnimationObjectGroup=!0,this.uuid=zl(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,r=this._parsedPaths,s=this._bindings,a=s.length;let o,l=e.length,u=this.nCachedObjects_;for(let d=0,p=arguments.length;d!==p;++d){const y=arguments[d],v=y.uuid;let _=t[v];if(_===void 0){_=l++,t[v]=_,e.push(y);for(let S=0,E=a;S!==E;++S)s[S].push(new bi(y,i[S],r[S]))}else if(_<u){o=e[_];const S=--u,E=e[S];t[E.uuid]=_,e[_]=E,t[v]=S,e[S]=y;for(let b=0,w=a;b!==w;++b){const A=s[b],C=A[S];let D=A[_];A[_]=C,D===void 0&&(D=new bi(y,i[b],r[b])),A[S]=D}}else e[_]!==o&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_;for(let a=0,o=arguments.length;a!==o;++a){const l=arguments[a],u=l.uuid,d=t[u];if(d!==void 0&&d>=s){const p=s++,y=e[p];t[y.uuid]=d,e[d]=y,t[u]=p,e[p]=l;for(let v=0,_=r;v!==_;++v){const S=i[v],E=S[p],b=S[d];S[d]=E,S[p]=b}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_,a=e.length;for(let o=0,l=arguments.length;o!==l;++o){const u=arguments[o],d=u.uuid,p=t[d];if(p!==void 0)if(delete t[d],p<s){const y=--s,v=e[y],_=--a,S=e[_];t[v.uuid]=p,e[p]=v,t[S.uuid]=y,e[y]=S,e.pop();for(let E=0,b=r;E!==b;++E){const w=i[E],A=w[y],C=w[_];w[p]=A,w[y]=C,w.pop()}}else{const y=--a,v=e[y];y>0&&(t[v.uuid]=p),e[p]=v,e.pop();for(let _=0,S=r;_!==S;++_){const E=i[_];E[p]=E[y],E.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const i=this._bindingsIndicesByPath;let r=i[e];const s=this._bindings;if(r!==void 0)return s[r];const a=this._paths,o=this._parsedPaths,l=this._objects,u=l.length,d=this.nCachedObjects_,p=new Array(u);r=s.length,i[e]=r,a.push(e),o.push(t),s.push(p);for(let y=d,v=l.length;y!==v;++y){const _=l[y];p[y]=new bi(_,e,t)}return p}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const r=this._paths,s=this._parsedPaths,a=this._bindings,o=a.length-1,l=a[o],u=e[o];t[u]=i,a[i]=l,a.pop(),s[i]=s[o],s.pop(),r[i]=r[o],r.pop()}}}class wq{constructor(e,t,i=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=r;const s=t.tracks,a=s.length,o=new Array(a),l={endingStart:Fg,endingEnd:Fg};for(let u=0;u!==a;++u){const d=s[u].createInterpolant(null);o[u]=d,d.settings=l}this._interpolantSettings=l,this._interpolants=o,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=fG,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i=!1){if(e.fadeOut(t),this.fadeIn(t),i===!0){const r=this._clip.duration,s=e._clip.duration,a=s/r,o=r/s;e.warp(1,a,t),this.warp(o,1,t)}return this}crossFadeTo(e,t,i=!1){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const r=this._mixer,s=r.time,a=this.timeScale;let o=this._timeScaleInterpolant;o===null&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);const l=o.parameterPositions,u=o.sampleValues;return l[0]=s,l[1]=s+i,u[0]=e/a,u[1]=t/a,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*i;l<0||i===0?t=0:(this._startTime=null,t=i*l)}t*=this._updateTimeScale(e);const a=this._updateTime(t),o=this._updateWeight(e);if(o>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case yL:for(let d=0,p=l.length;d!==p;++d)l[d].evaluate(a),u[d].accumulateAdditive(o);break;case pM:default:for(let d=0,p=l.length;d!==p;++d)l[d].evaluate(a),u[d].accumulate(r,o)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let r=this.time+e,s=this._loopCount;const a=i===pG;if(e===0)return s===-1?r:a&&(s&1)===1?t-r:r;if(i===dG){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,a)):this._setEndings(this.repetitions===0,!0,a)),r>=t||r<0){const o=Math.floor(r/t);r-=t*o,s+=Math.abs(o);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const u=e<0;this._setEndings(u,!u,a)}else this._setEndings(!1,!1,a);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=r;if(a&&(s&1)===1)return t-r}return r}_setEndings(e,t,i){const r=this._interpolantSettings;i?(r.endingStart=Vg,r.endingEnd=Vg):(e?r.endingStart=this.zeroSlopeAtStart?Vg:Fg:r.endingStart=rS,t?r.endingEnd=this.zeroSlopeAtEnd?Vg:Fg:r.endingEnd=rS)}_scheduleFading(e,t,i){const r=this._mixer,s=r.time;let a=this._weightInterpolant;a===null&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);const o=a.parameterPositions,l=a.sampleValues;return o[0]=s,l[0]=t,o[1]=s+e,l[1]=i,this}}const Rce=new Float32Array(1);class Oce extends Bh{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,r=e._clip.tracks,s=r.length,a=e._propertyBindings,o=e._interpolants,l=i.uuid,u=this._bindingsByRootAndName;let d=u[l];d===void 0&&(d={},u[l]=d);for(let p=0;p!==s;++p){const y=r[p],v=y.name;let _=d[v];if(_!==void 0)++_.referenceCount,a[p]=_;else{if(_=a[p],_!==void 0){_._cacheIndex===null&&(++_.referenceCount,this._addInactiveBinding(_,l,v));continue}const S=t&&t._propertyBindings[p].binding.parsedPath;_=new Tq(bi.create(i,v,S),y.ValueTypeName,y.getValueSize()),++_.referenceCount,this._addInactiveBinding(_,l,v),a[p]=_}o[p].resultBuffer=_.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,i)}const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const r=this._actions,s=this._actionsByClip;let a=s[t];if(a===void 0)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=a;else{const o=a.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=r.length,r.push(e),a.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,a=this._actionsByClip,o=a[s],l=o.knownActions,u=l[l.length-1],d=e._byClipCacheIndex;u._byClipCacheIndex=d,l[d]=u,l.pop(),e._byClipCacheIndex=null;const p=o.actionByRoot,y=(e._localRoot||this._root).uuid;delete p[y],l.length===0&&delete a[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_addInactiveBinding(e,t,i){const r=this._bindingsByRootAndName,s=this._bindings;let a=r[t];a===void 0&&(a={},r[t]=a),a[i]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,r=i.rootNode.uuid,s=i.path,a=this._bindingsByRootAndName,o=a[r],l=t[t.length-1],u=e._cacheIndex;l._cacheIndex=u,t[u]=l,t.pop(),delete o[s],Object.keys(o).length===0&&delete a[r]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new UL(new Float32Array(2),new Float32Array(2),1,Rce),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=t[r];e.__cacheIndex=r,t[r]=e,s.__cacheIndex=i,t[i]=s}clipAction(e,t,i){const r=t||this._root,s=r.uuid;let a=typeof e=="string"?pS.findByName(r,e):e;const o=a!==null?a.uuid:e,l=this._actionsByClip[o];let u=null;if(i===void 0&&(a!==null?i=a.blendMode:i=pM),l!==void 0){const p=l.actionByRoot[s];if(p!==void 0&&p.blendMode===i)return p;u=l.knownActions[0],a===null&&(a=u._clip)}if(a===null)return null;const d=new wq(this,a,t,i);return this._bindAction(d,u),this._addInactiveAction(d,o,s),d}existingAction(e,t){const i=t||this._root,r=i.uuid,s=typeof e=="string"?pS.findByName(i,e):e,a=s?s.uuid:e,o=this._actionsByClip[a];return o!==void 0&&o.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,r=this.time+=e,s=Math.sign(e),a=this._accuIndex^=1;for(let u=0;u!==i;++u)t[u]._update(r,e,s,a);const o=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)o[u].apply(a);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,r=this._actionsByClip,s=r[i];if(s!==void 0){const a=s.knownActions;for(let o=0,l=a.length;o!==l;++o){const u=a[o];this._deactivateAction(u);const d=u._cacheIndex,p=t[t.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,p._cacheIndex=d,t[d]=p,t.pop(),this._removeInactiveBindingsForAction(u)}delete r[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const a in i){const o=i[a].actionByRoot,l=o[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName,s=r[t];if(s!==void 0)for(const a in s){const o=s[a];o.restoreOriginalState(),this._removeInactiveBinding(o)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class Ice extends mM{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isRenderTarget3D=!0,this.depth=i,this.texture=new gM(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class Pce extends mM{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isRenderTargetArray=!0,this.depth=i,this.texture=new WS(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class GL{constructor(e){this.value=e}clone(){return new GL(this.value.clone===void 0?this.value:this.value.clone())}}let Dce=0;class Nce extends Bh{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:Dce++}),this.name="",this.usage=aS,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,r=t.length;i<r;i++){const s=Array.isArray(t[i])?t[i]:[t[i]];for(let a=0;a<s.length;a++)this.uniforms.push(s[a].clone())}return this}clone(){return new this.constructor().copy(this)}}class Lce extends xM{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class Uce{constructor(e,t,i,r,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=r,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const Jz=new an;class VM{constructor(e,t,i=0,r=1/0){this.ray=new L_(e,t),this.near=i,this.far=r,this.camera=null,this.layers=new o_,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return Jz.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(Jz),this}intersectObject(e,t=!0,i=[]){return zP(e,this,i,t),i.sort(eB),i}intersectObjects(e,t=!0,i=[]){for(let r=0,s=e.length;r<s;r++)zP(e[r],this,i,t);return i.sort(eB),i}}function eB(n,e){return n.distance-e.distance}function zP(n,e,t,i){let r=!0;if(n.layers.test(e.layers)&&n.raycast(e,t)===!1&&(r=!1),r===!0&&i===!0){const s=n.children;for(let a=0,o=s.length;a<o;a++)zP(s[a],e,t,!0)}}class Cq{constructor(e=1,t=0,i=0){this.radius=e,this.phi=t,this.theta=i}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Mn(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(Mn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class kce{constructor(e=1,t=0,i=0){this.radius=e,this.theta=t,this.y=i}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}class qL{constructor(e,t,i,r){qL.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,i,r)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let i=0;i<4;i++)this.elements[i]=e[i+t];return this}set(e,t,i,r){const s=this.elements;return s[0]=e,s[2]=t,s[1]=i,s[3]=r,this}}const tB=new rt;class zce{constructor(e=new rt(1/0,1/0),t=new rt(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=tB.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,tB).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const nB=new he,pw=new he;class Bce{constructor(e=new he,t=new he){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){nB.subVectors(e,this.start),pw.subVectors(this.end,this.start);const i=pw.dot(pw);let s=pw.dot(nB)/i;return t&&(s=Mn(s,0,1)),s}closestPointToPoint(e,t,i){const r=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const iB=new he;class Fce extends vi{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new Nn,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let a=0,o=1,l=32;a<l;a++,o++){const u=a/l*Math.PI*2,d=o/l*Math.PI*2;r.push(Math.cos(u),Math.sin(u),1,Math.cos(d),Math.sin(d),1)}i.setAttribute("position",new Ht(r,3));const s=new io({fog:!1,toneMapped:!1});this.cone=new Fh(i,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),iB.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(iB),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const mp=new he,mw=new an,uI=new an;class Vce extends Fh{constructor(e){const t=Aq(e),i=new Nn,r=[],s=[],a=new kt(0,0,1),o=new kt(0,1,0);for(let u=0;u<t.length;u++){const d=t[u];d.parent&&d.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(a.r,a.g,a.b),s.push(o.r,o.g,o.b))}i.setAttribute("position",new Ht(r,3)),i.setAttribute("color",new Ht(s,3));const l=new io({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,i=this.geometry,r=i.getAttribute("position");uI.copy(this.root.matrixWorld).invert();for(let s=0,a=0;s<t.length;s++){const o=t[s];o.parent&&o.parent.isBone&&(mw.multiplyMatrices(uI,o.matrixWorld),mp.setFromMatrixPosition(mw),r.setXYZ(a,mp.x,mp.y,mp.z),mw.multiplyMatrices(uI,o.parent.matrixWorld),mp.setFromMatrixPosition(mw),r.setXYZ(a+1,mp.x,mp.y,mp.z),a+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function Aq(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push(...Aq(n.children[t]));return e}class Hce extends is{constructor(e,t,i){const r=new Ey(t,4,2),s=new cm({wireframe:!0,fog:!1,toneMapped:!1});super(r,s),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const jce=new he,rB=new kt,sB=new kt;class Gce extends vi{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new YS(t);r.rotateY(Math.PI*.5),this.material=new cm({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=r.getAttribute("position"),a=new Float32Array(s.count*3);r.setAttribute("color",new Hi(a,3)),this.add(new is(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");rB.copy(this.light.color),sB.copy(this.light.groundColor);for(let i=0,r=t.count;i<r;i++){const s=i<r/2?rB:sB;t.setXYZ(i,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(jce.setFromMatrixPosition(this.light.matrixWorld).negate())}}class qce extends Fh{constructor(e=10,t=10,i=4473924,r=8947848){i=new kt(i),r=new kt(r);const s=t/2,a=e/t,o=e/2,l=[],u=[];for(let y=0,v=0,_=-o;y<=t;y++,_+=a){l.push(-o,0,_,o,0,_),l.push(_,0,-o,_,0,o);const S=y===s?i:r;S.toArray(u,v),v+=3,S.toArray(u,v),v+=3,S.toArray(u,v),v+=3,S.toArray(u,v),v+=3}const d=new Nn;d.setAttribute("position",new Ht(l,3)),d.setAttribute("color",new Ht(u,3));const p=new io({vertexColors:!0,toneMapped:!1});super(d,p),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class Wce extends Fh{constructor(e=10,t=16,i=8,r=64,s=4473924,a=8947848){s=new kt(s),a=new kt(a);const o=[],l=[];if(t>1)for(let p=0;p<t;p++){const y=p/t*(Math.PI*2),v=Math.sin(y)*e,_=Math.cos(y)*e;o.push(0,0,0),o.push(v,0,_);const S=p&1?s:a;l.push(S.r,S.g,S.b),l.push(S.r,S.g,S.b)}for(let p=0;p<i;p++){const y=p&1?s:a,v=e-e/i*p;for(let _=0;_<r;_++){let S=_/r*(Math.PI*2),E=Math.sin(S)*v,b=Math.cos(S)*v;o.push(E,0,b),l.push(y.r,y.g,y.b),S=(_+1)/r*(Math.PI*2),E=Math.sin(S)*v,b=Math.cos(S)*v,o.push(E,0,b),l.push(y.r,y.g,y.b)}}const u=new Nn;u.setAttribute("position",new Ht(o,3)),u.setAttribute("color",new Ht(l,3));const d=new io({vertexColors:!0,toneMapped:!1});super(u,d),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const aB=new he,gw=new he,oB=new he;class $ce extends vi{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new Nn;r.setAttribute("position",new Ht([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new io({fog:!1,toneMapped:!1});this.lightPlane=new lf(r,s),this.add(this.lightPlane),r=new Nn,r.setAttribute("position",new Ht([0,0,0,0,0,1],3)),this.targetLine=new lf(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),aB.setFromMatrixPosition(this.light.matrixWorld),gw.setFromMatrixPosition(this.light.target.matrixWorld),oB.subVectors(gw,aB),this.lightPlane.lookAt(gw),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(gw),this.targetLine.scale.z=oB.length()}}const yw=new he,Kr=new yM;class Xce extends Fh{constructor(e){const t=new Nn,i=new io({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],a={};o("n1","n2"),o("n2","n4"),o("n4","n3"),o("n3","n1"),o("f1","f2"),o("f2","f4"),o("f4","f3"),o("f3","f1"),o("n1","f1"),o("n2","f2"),o("n3","f3"),o("n4","f4"),o("p","n1"),o("p","n2"),o("p","n3"),o("p","n4"),o("u1","u2"),o("u2","u3"),o("u3","u1"),o("c","t"),o("p","c"),o("cn1","cn2"),o("cn3","cn4"),o("cf1","cf2"),o("cf3","cf4");function o(_,S){l(_),l(S)}function l(_){r.push(0,0,0),s.push(0,0,0),a[_]===void 0&&(a[_]=[]),a[_].push(r.length/3-1)}t.setAttribute("position",new Ht(r,3)),t.setAttribute("color",new Ht(s,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update();const u=new kt(16755200),d=new kt(16711680),p=new kt(43775),y=new kt(16777215),v=new kt(3355443);this.setColors(u,d,p,y,v)}setColors(e,t,i,r,s){const o=this.geometry.getAttribute("color");o.setXYZ(0,e.r,e.g,e.b),o.setXYZ(1,e.r,e.g,e.b),o.setXYZ(2,e.r,e.g,e.b),o.setXYZ(3,e.r,e.g,e.b),o.setXYZ(4,e.r,e.g,e.b),o.setXYZ(5,e.r,e.g,e.b),o.setXYZ(6,e.r,e.g,e.b),o.setXYZ(7,e.r,e.g,e.b),o.setXYZ(8,e.r,e.g,e.b),o.setXYZ(9,e.r,e.g,e.b),o.setXYZ(10,e.r,e.g,e.b),o.setXYZ(11,e.r,e.g,e.b),o.setXYZ(12,e.r,e.g,e.b),o.setXYZ(13,e.r,e.g,e.b),o.setXYZ(14,e.r,e.g,e.b),o.setXYZ(15,e.r,e.g,e.b),o.setXYZ(16,e.r,e.g,e.b),o.setXYZ(17,e.r,e.g,e.b),o.setXYZ(18,e.r,e.g,e.b),o.setXYZ(19,e.r,e.g,e.b),o.setXYZ(20,e.r,e.g,e.b),o.setXYZ(21,e.r,e.g,e.b),o.setXYZ(22,e.r,e.g,e.b),o.setXYZ(23,e.r,e.g,e.b),o.setXYZ(24,t.r,t.g,t.b),o.setXYZ(25,t.r,t.g,t.b),o.setXYZ(26,t.r,t.g,t.b),o.setXYZ(27,t.r,t.g,t.b),o.setXYZ(28,t.r,t.g,t.b),o.setXYZ(29,t.r,t.g,t.b),o.setXYZ(30,t.r,t.g,t.b),o.setXYZ(31,t.r,t.g,t.b),o.setXYZ(32,i.r,i.g,i.b),o.setXYZ(33,i.r,i.g,i.b),o.setXYZ(34,i.r,i.g,i.b),o.setXYZ(35,i.r,i.g,i.b),o.setXYZ(36,i.r,i.g,i.b),o.setXYZ(37,i.r,i.g,i.b),o.setXYZ(38,r.r,r.g,r.b),o.setXYZ(39,r.r,r.g,r.b),o.setXYZ(40,s.r,s.g,s.b),o.setXYZ(41,s.r,s.g,s.b),o.setXYZ(42,s.r,s.g,s.b),o.setXYZ(43,s.r,s.g,s.b),o.setXYZ(44,s.r,s.g,s.b),o.setXYZ(45,s.r,s.g,s.b),o.setXYZ(46,s.r,s.g,s.b),o.setXYZ(47,s.r,s.g,s.b),o.setXYZ(48,s.r,s.g,s.b),o.setXYZ(49,s.r,s.g,s.b),o.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,i=1,r=1;Kr.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const s=this.camera.coordinateSystem===Rc?-1:0;us("c",t,e,Kr,0,0,s),us("t",t,e,Kr,0,0,1),us("n1",t,e,Kr,-1,-1,s),us("n2",t,e,Kr,i,-1,s),us("n3",t,e,Kr,-1,r,s),us("n4",t,e,Kr,i,r,s),us("f1",t,e,Kr,-1,-1,1),us("f2",t,e,Kr,i,-1,1),us("f3",t,e,Kr,-1,r,1),us("f4",t,e,Kr,i,r,1),us("u1",t,e,Kr,i*.7,r*1.1,s),us("u2",t,e,Kr,-1*.7,r*1.1,s),us("u3",t,e,Kr,0,r*2,s),us("cf1",t,e,Kr,-1,0,1),us("cf2",t,e,Kr,i,0,1),us("cf3",t,e,Kr,0,-1,1),us("cf4",t,e,Kr,0,r,1),us("cn1",t,e,Kr,-1,0,s),us("cn2",t,e,Kr,i,0,s),us("cn3",t,e,Kr,0,-1,s),us("cn4",t,e,Kr,0,r,s),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function us(n,e,t,i,r,s,a){yw.set(r,s,a).unproject(i);const o=e[n];if(o!==void 0){const l=t.getAttribute("position");for(let u=0,d=o.length;u<d;u++)l.setXYZ(o[u],yw.x,yw.y,yw.z)}}const vw=new ia;class Yce extends Fh{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),s=new Nn;s.setIndex(new Hi(i,1)),s.setAttribute("position",new Hi(r,3)),super(s,new io({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&vw.setFromObject(this.object),vw.isEmpty())return;const e=vw.min,t=vw.max,i=this.geometry.attributes.position,r=i.array;r[0]=t.x,r[1]=t.y,r[2]=t.z,r[3]=e.x,r[4]=t.y,r[5]=t.z,r[6]=e.x,r[7]=e.y,r[8]=t.z,r[9]=t.x,r[10]=e.y,r[11]=t.z,r[12]=t.x,r[13]=t.y,r[14]=e.z,r[15]=e.x,r[16]=t.y,r[17]=e.z,r[18]=e.x,r[19]=e.y,r[20]=e.z,r[21]=t.x,r[22]=e.y,r[23]=e.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Kce extends Fh{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new Nn;s.setIndex(new Hi(i,1)),s.setAttribute("position",new Ht(r,3)),super(s,new io({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class Zce extends lf{constructor(e,t=1,i=16776960){const r=i,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],a=new Nn;a.setAttribute("position",new Ht(s,3)),a.computeBoundingSphere(),super(a,new io({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const o=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Nn;l.setAttribute("position",new Ht(o,3)),l.computeBoundingSphere(),this.add(new is(l,new cm({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const lB=new he;let _w,hI;class Qce extends vi{constructor(e=new he(0,0,1),t=new he(0,0,0),i=1,r=16776960,s=i*.2,a=s*.2){super(),this.type="ArrowHelper",_w===void 0&&(_w=new Nn,_w.setAttribute("position",new Ht([0,0,0,0,1,0],3)),hI=new z_(.5,1,5,1),hI.translate(0,-.5,0)),this.position.copy(t),this.line=new lf(_w,new io({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new is(hI,new cm({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,s,a)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{lB.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(lB,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class Jce extends Fh{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new Nn;r.setAttribute("position",new Ht(t,3)),r.setAttribute("color",new Ht(i,3));const s=new io({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,t,i){const r=new kt,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(t),r.toArray(s,6),r.toArray(s,9),r.set(i),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class eue{constructor(){this.type="ShapePath",this.color=new kt,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new iA,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,r){return this.currentPath.quadraticCurveTo(e,t,i,r),this}bezierCurveTo(e,t,i,r,s,a){return this.currentPath.bezierCurveTo(e,t,i,r,s,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(b){const w=[];for(let A=0,C=b.length;A<C;A++){const D=b[A],N=new ey;N.curves=D.curves,w.push(N)}return w}function i(b,w){const A=w.length;let C=!1;for(let D=A-1,N=0;N<A;D=N++){let I=w[D],L=w[N],P=L.x-I.x,U=L.y-I.y;if(Math.abs(U)>Number.EPSILON){if(U<0&&(I=w[N],P=-P,L=w[D],U=-U),b.y<I.y||b.y>L.y)continue;if(b.y===I.y){if(b.x===I.x)return!0}else{const F=U*(b.x-I.x)-P*(b.y-I.y);if(F===0)return!0;if(F<0)continue;C=!C}}else{if(b.y!==I.y)continue;if(L.x<=b.x&&b.x<=I.x||I.x<=b.x&&b.x<=L.x)return!0}}return C}const r=_u.isClockWise,s=this.subPaths;if(s.length===0)return[];let a,o,l;const u=[];if(s.length===1)return o=s[0],l=new ey,l.curves=o.curves,u.push(l),u;let d=!r(s[0].getPoints());d=e?!d:d;const p=[],y=[];let v=[],_=0,S;y[_]=void 0,v[_]=[];for(let b=0,w=s.length;b<w;b++)o=s[b],S=o.getPoints(),a=r(S),a=e?!a:a,a?(!d&&y[_]&&_++,y[_]={s:new ey,p:S},y[_].s.curves=o.curves,d&&_++,v[_]=[]):v[_].push({h:o,p:S[0]});if(!y[0])return t(s);if(y.length>1){let b=!1,w=0;for(let A=0,C=y.length;A<C;A++)p[A]=[];for(let A=0,C=y.length;A<C;A++){const D=v[A];for(let N=0;N<D.length;N++){const I=D[N];let L=!0;for(let P=0;P<y.length;P++)i(I.p,y[P].p)&&(A!==P&&w++,L?(L=!1,p[P].push(I)):b=!0);L&&p[A].push(I)}}w>0&&b===!1&&(v=p)}let E;for(let b=0,w=y.length;b<w;b++){l=y[b].s,u.push(l),E=v[b];for(let A=0,C=E.length;A<C;A++)l.holes.push(E[A].h)}return u}}class tue extends Bh{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){console.warn("THREE.Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function nue(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2):(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0),n}function iue(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0):(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2),n}function rue(n){return n.repeat.x=1,n.repeat.y=1,n.offset.x=0,n.offset.y=0,n}function BP(n,e,t,i){const r=sue(i);switch(t){case fL:return n*e;case hM:return n*e/r.components*r.byteLength;case qS:return n*e/r.components*r.byteLength;case mL:return n*e*2/r.components*r.byteLength;case dM:return n*e*2/r.components*r.byteLength;case pL:return n*e*3/r.components*r.byteLength;case Ja:return n*e*4/r.components*r.byteLength;case fM:return n*e*4/r.components*r.byteLength;case _x:case bx:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case xx:case Sx:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case MC:case OC:return Math.max(n,16)*Math.max(e,8)/4;case AC:case RC:return Math.max(n,8)*Math.max(e,8)/2;case IC:case PC:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case DC:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case NC:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case LC:return Math.floor((n+4)/5)*Math.floor((e+3)/4)*16;case UC:return Math.floor((n+4)/5)*Math.floor((e+4)/5)*16;case kC:return Math.floor((n+5)/6)*Math.floor((e+4)/5)*16;case zC:return Math.floor((n+5)/6)*Math.floor((e+5)/6)*16;case BC:return Math.floor((n+7)/8)*Math.floor((e+4)/5)*16;case FC:return Math.floor((n+7)/8)*Math.floor((e+5)/6)*16;case VC:return Math.floor((n+7)/8)*Math.floor((e+7)/8)*16;case HC:return Math.floor((n+9)/10)*Math.floor((e+4)/5)*16;case jC:return Math.floor((n+9)/10)*Math.floor((e+5)/6)*16;case GC:return Math.floor((n+9)/10)*Math.floor((e+7)/8)*16;case qC:return Math.floor((n+9)/10)*Math.floor((e+9)/10)*16;case WC:return Math.floor((n+11)/12)*Math.floor((e+9)/10)*16;case $C:return Math.floor((n+11)/12)*Math.floor((e+11)/12)*16;case Ex:case XC:case YC:return Math.ceil(n/4)*Math.ceil(e/4)*16;case gL:case KC:return Math.ceil(n/4)*Math.ceil(e/4)*8;case ZC:case QC:return Math.ceil(n/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function sue(n){switch(n){case Ic:case uL:return{byteLength:1,components:1};case n_:case hL:case xy:return{byteLength:2,components:1};case cM:case uM:return{byteLength:2,components:4};case of:case lM:case Io:return{byteLength:4,components:1};case dL:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}class aue{static contain(e,t){return nue(e,t)}static cover(e,t){return iue(e,t)}static fill(e){return rue(e)}static getByteLength(e,t,i,r){return BP(e,t,i,r)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:sM}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=sM);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function Mq(){let n=null,e=!1,t=null,i=null;function r(s,a){t(s,a),i=n.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function oue(n){const e=new WeakMap;function t(o,l){const u=o.array,d=o.usage,p=u.byteLength,y=n.createBuffer();n.bindBuffer(l,y),n.bufferData(l,u,d),o.onUploadCallback();let v;if(u instanceof Float32Array)v=n.FLOAT;else if(u instanceof Uint16Array)o.isFloat16BufferAttribute?v=n.HALF_FLOAT:v=n.UNSIGNED_SHORT;else if(u instanceof Int16Array)v=n.SHORT;else if(u instanceof Uint32Array)v=n.UNSIGNED_INT;else if(u instanceof Int32Array)v=n.INT;else if(u instanceof Int8Array)v=n.BYTE;else if(u instanceof Uint8Array)v=n.UNSIGNED_BYTE;else if(u instanceof Uint8ClampedArray)v=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+u);return{buffer:y,type:v,bytesPerElement:u.BYTES_PER_ELEMENT,version:o.version,size:p}}function i(o,l,u){const d=l.array,p=l.updateRanges;if(n.bindBuffer(u,o),p.length===0)n.bufferSubData(u,0,d);else{p.sort((v,_)=>v.start-_.start);let y=0;for(let v=1;v<p.length;v++){const _=p[y],S=p[v];S.start<=_.start+_.count+1?_.count=Math.max(_.count,S.start+S.count-_.start):(++y,p[y]=S)}p.length=y+1;for(let v=0,_=p.length;v<_;v++){const S=p[v];n.bufferSubData(u,S.start*d.BYTES_PER_ELEMENT,d,S.start,S.count)}l.clearUpdateRanges()}l.onUploadCallback()}function r(o){return o.isInterleavedBufferAttribute&&(o=o.data),e.get(o)}function s(o){o.isInterleavedBufferAttribute&&(o=o.data);const l=e.get(o);l&&(n.deleteBuffer(l.buffer),e.delete(o))}function a(o,l){if(o.isInterleavedBufferAttribute&&(o=o.data),o.isGLBufferAttribute){const d=e.get(o);(!d||d.version<o.version)&&e.set(o,{buffer:o.buffer,type:o.type,bytesPerElement:o.elementSize,version:o.version});return}const u=e.get(o);if(u===void 0)e.set(o,t(o,l));else if(u.version<o.version){if(u.size!==o.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(u.buffer,o,l),u.version=o.version}}return{get:r,remove:s,update:a}}var lue=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,cue=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,uue=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,hue=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,due=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,fue=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,pue=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,mue=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,gue=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,yue=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,vue=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,_ue=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,bue=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,xue=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,Sue=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,Eue=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,Tue=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,wue=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Cue=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Aue=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Mue=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Rue=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,Oue=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,Iue=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,Pue=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Due=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Nue=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Lue=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,Uue=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,kue=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,zue="gl_FragColor = linearToOutputTexel( gl_FragColor );",Bue=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,Fue=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Vue=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Hue=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,jue=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Gue=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,que=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Wue=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,$ue=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Xue=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Yue=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Kue=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Zue=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Que=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Jue=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,ehe=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,the=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,nhe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,ihe=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,rhe=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,she=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,ahe=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,ohe=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,lhe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,che=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,uhe=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,hhe=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,dhe=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,fhe=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,phe=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,mhe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,ghe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,yhe=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,vhe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,_he=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,bhe=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,xhe=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,She=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Ehe=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,The=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,whe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,Che=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Ahe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Mhe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Rhe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Ohe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,Ihe=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,Phe=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,Dhe=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,Nhe=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Lhe=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Uhe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,khe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,zhe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Bhe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Fhe=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Vhe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Hhe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,jhe=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,Ghe=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,qhe=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Whe=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,$he=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Xhe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,Yhe=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Khe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Zhe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Qhe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Jhe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,ede=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,tde=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,nde=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,ide=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,rde=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,sde=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,ade=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const ode=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,lde=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,cde=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,ude=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,hde=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,dde=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,fde=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,pde=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,mde=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,gde=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,yde=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,vde=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,_de=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,bde=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,xde=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Sde=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Ede=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Tde=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,wde=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Cde=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Ade=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Mde=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Rde=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Ode=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Ide=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Pde=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Dde=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Nde=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Lde=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Ude=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,kde=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,zde=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Bde=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Fde=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Gn={alphahash_fragment:lue,alphahash_pars_fragment:cue,alphamap_fragment:uue,alphamap_pars_fragment:hue,alphatest_fragment:due,alphatest_pars_fragment:fue,aomap_fragment:pue,aomap_pars_fragment:mue,batching_pars_vertex:gue,batching_vertex:yue,begin_vertex:vue,beginnormal_vertex:_ue,bsdfs:bue,iridescence_fragment:xue,bumpmap_pars_fragment:Sue,clipping_planes_fragment:Eue,clipping_planes_pars_fragment:Tue,clipping_planes_pars_vertex:wue,clipping_planes_vertex:Cue,color_fragment:Aue,color_pars_fragment:Mue,color_pars_vertex:Rue,color_vertex:Oue,common:Iue,cube_uv_reflection_fragment:Pue,defaultnormal_vertex:Due,displacementmap_pars_vertex:Nue,displacementmap_vertex:Lue,emissivemap_fragment:Uue,emissivemap_pars_fragment:kue,colorspace_fragment:zue,colorspace_pars_fragment:Bue,envmap_fragment:Fue,envmap_common_pars_fragment:Vue,envmap_pars_fragment:Hue,envmap_pars_vertex:jue,envmap_physical_pars_fragment:ehe,envmap_vertex:Gue,fog_vertex:que,fog_pars_vertex:Wue,fog_fragment:$ue,fog_pars_fragment:Xue,gradientmap_pars_fragment:Yue,lightmap_pars_fragment:Kue,lights_lambert_fragment:Zue,lights_lambert_pars_fragment:Que,lights_pars_begin:Jue,lights_toon_fragment:the,lights_toon_pars_fragment:nhe,lights_phong_fragment:ihe,lights_phong_pars_fragment:rhe,lights_physical_fragment:she,lights_physical_pars_fragment:ahe,lights_fragment_begin:ohe,lights_fragment_maps:lhe,lights_fragment_end:che,logdepthbuf_fragment:uhe,logdepthbuf_pars_fragment:hhe,logdepthbuf_pars_vertex:dhe,logdepthbuf_vertex:fhe,map_fragment:phe,map_pars_fragment:mhe,map_particle_fragment:ghe,map_particle_pars_fragment:yhe,metalnessmap_fragment:vhe,metalnessmap_pars_fragment:_he,morphinstance_vertex:bhe,morphcolor_vertex:xhe,morphnormal_vertex:She,morphtarget_pars_vertex:Ehe,morphtarget_vertex:The,normal_fragment_begin:whe,normal_fragment_maps:Che,normal_pars_fragment:Ahe,normal_pars_vertex:Mhe,normal_vertex:Rhe,normalmap_pars_fragment:Ohe,clearcoat_normal_fragment_begin:Ihe,clearcoat_normal_fragment_maps:Phe,clearcoat_pars_fragment:Dhe,iridescence_pars_fragment:Nhe,opaque_fragment:Lhe,packing:Uhe,premultiplied_alpha_fragment:khe,project_vertex:zhe,dithering_fragment:Bhe,dithering_pars_fragment:Fhe,roughnessmap_fragment:Vhe,roughnessmap_pars_fragment:Hhe,shadowmap_pars_fragment:jhe,shadowmap_pars_vertex:Ghe,shadowmap_vertex:qhe,shadowmask_pars_fragment:Whe,skinbase_vertex:$he,skinning_pars_vertex:Xhe,skinning_vertex:Yhe,skinnormal_vertex:Khe,specularmap_fragment:Zhe,specularmap_pars_fragment:Qhe,tonemapping_fragment:Jhe,tonemapping_pars_fragment:ede,transmission_fragment:tde,transmission_pars_fragment:nde,uv_pars_fragment:ide,uv_pars_vertex:rde,uv_vertex:sde,worldpos_vertex:ade,background_vert:ode,background_frag:lde,backgroundCube_vert:cde,backgroundCube_frag:ude,cube_vert:hde,cube_frag:dde,depth_vert:fde,depth_frag:pde,distanceRGBA_vert:mde,distanceRGBA_frag:gde,equirect_vert:yde,equirect_frag:vde,linedashed_vert:_de,linedashed_frag:bde,meshbasic_vert:xde,meshbasic_frag:Sde,meshlambert_vert:Ede,meshlambert_frag:Tde,meshmatcap_vert:wde,meshmatcap_frag:Cde,meshnormal_vert:Ade,meshnormal_frag:Mde,meshphong_vert:Rde,meshphong_frag:Ode,meshphysical_vert:Ide,meshphysical_frag:Pde,meshtoon_vert:Dde,meshtoon_frag:Nde,points_vert:Lde,points_frag:Ude,shadow_vert:kde,shadow_frag:zde,sprite_vert:Bde,sprite_frag:Fde},It={common:{diffuse:{value:new kt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Dn},alphaMap:{value:null},alphaMapTransform:{value:new Dn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Dn}},envmap:{envMap:{value:null},envMapRotation:{value:new Dn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Dn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Dn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Dn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Dn},normalScale:{value:new rt(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Dn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Dn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Dn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Dn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new kt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new kt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Dn},alphaTest:{value:0},uvTransform:{value:new Dn}},sprite:{diffuse:{value:new kt(16777215)},opacity:{value:1},center:{value:new rt(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Dn},alphaMap:{value:null},alphaMapTransform:{value:new Dn},alphaTest:{value:0}}},yu={basic:{uniforms:Co([It.common,It.specularmap,It.envmap,It.aomap,It.lightmap,It.fog]),vertexShader:Gn.meshbasic_vert,fragmentShader:Gn.meshbasic_frag},lambert:{uniforms:Co([It.common,It.specularmap,It.envmap,It.aomap,It.lightmap,It.emissivemap,It.bumpmap,It.normalmap,It.displacementmap,It.fog,It.lights,{emissive:{value:new kt(0)}}]),vertexShader:Gn.meshlambert_vert,fragmentShader:Gn.meshlambert_frag},phong:{uniforms:Co([It.common,It.specularmap,It.envmap,It.aomap,It.lightmap,It.emissivemap,It.bumpmap,It.normalmap,It.displacementmap,It.fog,It.lights,{emissive:{value:new kt(0)},specular:{value:new kt(1118481)},shininess:{value:30}}]),vertexShader:Gn.meshphong_vert,fragmentShader:Gn.meshphong_frag},standard:{uniforms:Co([It.common,It.envmap,It.aomap,It.lightmap,It.emissivemap,It.bumpmap,It.normalmap,It.displacementmap,It.roughnessmap,It.metalnessmap,It.fog,It.lights,{emissive:{value:new kt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Gn.meshphysical_vert,fragmentShader:Gn.meshphysical_frag},toon:{uniforms:Co([It.common,It.aomap,It.lightmap,It.emissivemap,It.bumpmap,It.normalmap,It.displacementmap,It.gradientmap,It.fog,It.lights,{emissive:{value:new kt(0)}}]),vertexShader:Gn.meshtoon_vert,fragmentShader:Gn.meshtoon_frag},matcap:{uniforms:Co([It.common,It.bumpmap,It.normalmap,It.displacementmap,It.fog,{matcap:{value:null}}]),vertexShader:Gn.meshmatcap_vert,fragmentShader:Gn.meshmatcap_frag},points:{uniforms:Co([It.points,It.fog]),vertexShader:Gn.points_vert,fragmentShader:Gn.points_frag},dashed:{uniforms:Co([It.common,It.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Gn.linedashed_vert,fragmentShader:Gn.linedashed_frag},depth:{uniforms:Co([It.common,It.displacementmap]),vertexShader:Gn.depth_vert,fragmentShader:Gn.depth_frag},normal:{uniforms:Co([It.common,It.bumpmap,It.normalmap,It.displacementmap,{opacity:{value:1}}]),vertexShader:Gn.meshnormal_vert,fragmentShader:Gn.meshnormal_frag},sprite:{uniforms:Co([It.sprite,It.fog]),vertexShader:Gn.sprite_vert,fragmentShader:Gn.sprite_frag},background:{uniforms:{uvTransform:{value:new Dn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Gn.background_vert,fragmentShader:Gn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Dn}},vertexShader:Gn.backgroundCube_vert,fragmentShader:Gn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Gn.cube_vert,fragmentShader:Gn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Gn.equirect_vert,fragmentShader:Gn.equirect_frag},distanceRGBA:{uniforms:Co([It.common,It.displacementmap,{referencePosition:{value:new he},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Gn.distanceRGBA_vert,fragmentShader:Gn.distanceRGBA_frag},shadow:{uniforms:Co([It.lights,It.fog,{color:{value:new kt(0)},opacity:{value:1}}]),vertexShader:Gn.shadow_vert,fragmentShader:Gn.shadow_frag}};yu.physical={uniforms:Co([yu.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Dn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Dn},clearcoatNormalScale:{value:new rt(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Dn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Dn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Dn},sheen:{value:0},sheenColor:{value:new kt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Dn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Dn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Dn},transmissionSamplerSize:{value:new rt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Dn},attenuationDistance:{value:0},attenuationColor:{value:new kt(0)},specularColor:{value:new kt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Dn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Dn},anisotropyVector:{value:new rt},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Dn}}]),vertexShader:Gn.meshphysical_vert,fragmentShader:Gn.meshphysical_frag};const bw={r:0,b:0,g:0},vg=new jl,Vde=new an;function Hde(n,e,t,i,r,s,a){const o=new kt(0);let l=s===!0?0:1,u,d,p=null,y=0,v=null;function _(A){let C=A.isScene===!0?A.background:null;return C&&C.isTexture&&(C=(A.backgroundBlurriness>0?t:e).get(C)),C}function S(A){let C=!1;const D=_(A);D===null?b(o,l):D&&D.isColor&&(b(D,1),C=!0);const N=n.xr.getEnvironmentBlendMode();N==="additive"?i.buffers.color.setClear(0,0,0,1,a):N==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,a),(n.autoClear||C)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function E(A,C){const D=_(C);D&&(D.isCubeTexture||D.mapping===N_)?(d===void 0&&(d=new is(new Sy(1,1,1),new Tu({name:"BackgroundCubeMaterial",uniforms:l_(yu.backgroundCube.uniforms),vertexShader:yu.backgroundCube.vertexShader,fragmentShader:yu.backgroundCube.fragmentShader,side:Po,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),d.geometry.deleteAttribute("normal"),d.geometry.deleteAttribute("uv"),d.onBeforeRender=function(N,I,L){this.matrixWorld.copyPosition(L.matrixWorld)},Object.defineProperty(d.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(d)),vg.copy(C.backgroundRotation),vg.x*=-1,vg.y*=-1,vg.z*=-1,D.isCubeTexture&&D.isRenderTargetTexture===!1&&(vg.y*=-1,vg.z*=-1),d.material.uniforms.envMap.value=D,d.material.uniforms.flipEnvMap.value=D.isCubeTexture&&D.isRenderTargetTexture===!1?-1:1,d.material.uniforms.backgroundBlurriness.value=C.backgroundBlurriness,d.material.uniforms.backgroundIntensity.value=C.backgroundIntensity,d.material.uniforms.backgroundRotation.value.setFromMatrix4(Vde.makeRotationFromEuler(vg)),d.material.toneMapped=di.getTransfer(D.colorSpace)!==Vi,(p!==D||y!==D.version||v!==n.toneMapping)&&(d.material.needsUpdate=!0,p=D,y=D.version,v=n.toneMapping),d.layers.enableAll(),A.unshift(d,d.geometry,d.material,0,0,null)):D&&D.isTexture&&(u===void 0&&(u=new is(new B_(2,2),new Tu({name:"BackgroundMaterial",uniforms:l_(yu.background.uniforms),vertexShader:yu.background.vertexShader,fragmentShader:yu.background.fragmentShader,side:sf,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(u)),u.material.uniforms.t2D.value=D,u.material.uniforms.backgroundIntensity.value=C.backgroundIntensity,u.material.toneMapped=di.getTransfer(D.colorSpace)!==Vi,D.matrixAutoUpdate===!0&&D.updateMatrix(),u.material.uniforms.uvTransform.value.copy(D.matrix),(p!==D||y!==D.version||v!==n.toneMapping)&&(u.material.needsUpdate=!0,p=D,y=D.version,v=n.toneMapping),u.layers.enableAll(),A.unshift(u,u.geometry,u.material,0,0,null))}function b(A,C){A.getRGB(bw,OG(n)),i.buffers.color.setClear(bw.r,bw.g,bw.b,C,a)}function w(){d!==void 0&&(d.geometry.dispose(),d.material.dispose(),d=void 0),u!==void 0&&(u.geometry.dispose(),u.material.dispose(),u=void 0)}return{getClearColor:function(){return o},setClearColor:function(A,C=1){o.set(A),l=C,b(o,l)},getClearAlpha:function(){return l},setClearAlpha:function(A){l=A,b(o,l)},render:S,addToRenderList:E,dispose:w}}function jde(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),i={},r=y(null);let s=r,a=!1;function o(U,F,z,V,Y){let ee=!1;const q=p(V,z,F);s!==q&&(s=q,u(s.object)),ee=v(U,V,z,Y),ee&&_(U,V,z,Y),Y!==null&&e.update(Y,n.ELEMENT_ARRAY_BUFFER),(ee||a)&&(a=!1,C(U,F,z,V),Y!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(Y).buffer))}function l(){return n.createVertexArray()}function u(U){return n.bindVertexArray(U)}function d(U){return n.deleteVertexArray(U)}function p(U,F,z){const V=z.wireframe===!0;let Y=i[U.id];Y===void 0&&(Y={},i[U.id]=Y);let ee=Y[F.id];ee===void 0&&(ee={},Y[F.id]=ee);let q=ee[V];return q===void 0&&(q=y(l()),ee[V]=q),q}function y(U){const F=[],z=[],V=[];for(let Y=0;Y<t;Y++)F[Y]=0,z[Y]=0,V[Y]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:F,enabledAttributes:z,attributeDivisors:V,object:U,attributes:{},index:null}}function v(U,F,z,V){const Y=s.attributes,ee=F.attributes;let q=0;const $=z.getAttributes();for(const Q in $)if($[Q].location>=0){const fe=Y[Q];let K=ee[Q];if(K===void 0&&(Q==="instanceMatrix"&&U.instanceMatrix&&(K=U.instanceMatrix),Q==="instanceColor"&&U.instanceColor&&(K=U.instanceColor)),fe===void 0||fe.attribute!==K||K&&fe.data!==K.data)return!0;q++}return s.attributesNum!==q||s.index!==V}function _(U,F,z,V){const Y={},ee=F.attributes;let q=0;const $=z.getAttributes();for(const Q in $)if($[Q].location>=0){let fe=ee[Q];fe===void 0&&(Q==="instanceMatrix"&&U.instanceMatrix&&(fe=U.instanceMatrix),Q==="instanceColor"&&U.instanceColor&&(fe=U.instanceColor));const K={};K.attribute=fe,fe&&fe.data&&(K.data=fe.data),Y[Q]=K,q++}s.attributes=Y,s.attributesNum=q,s.index=V}function S(){const U=s.newAttributes;for(let F=0,z=U.length;F<z;F++)U[F]=0}function E(U){b(U,0)}function b(U,F){const z=s.newAttributes,V=s.enabledAttributes,Y=s.attributeDivisors;z[U]=1,V[U]===0&&(n.enableVertexAttribArray(U),V[U]=1),Y[U]!==F&&(n.vertexAttribDivisor(U,F),Y[U]=F)}function w(){const U=s.newAttributes,F=s.enabledAttributes;for(let z=0,V=F.length;z<V;z++)F[z]!==U[z]&&(n.disableVertexAttribArray(z),F[z]=0)}function A(U,F,z,V,Y,ee,q){q===!0?n.vertexAttribIPointer(U,F,z,Y,ee):n.vertexAttribPointer(U,F,z,V,Y,ee)}function C(U,F,z,V){S();const Y=V.attributes,ee=z.getAttributes(),q=F.defaultAttributeValues;for(const $ in ee){const Q=ee[$];if(Q.location>=0){let se=Y[$];if(se===void 0&&($==="instanceMatrix"&&U.instanceMatrix&&(se=U.instanceMatrix),$==="instanceColor"&&U.instanceColor&&(se=U.instanceColor)),se!==void 0){const fe=se.normalized,K=se.itemSize,le=e.get(se);if(le===void 0)continue;const pe=le.buffer,ue=le.type,ie=le.bytesPerElement,de=ue===n.INT||ue===n.UNSIGNED_INT||se.gpuType===lM;if(se.isInterleavedBufferAttribute){const ye=se.data,Ve=ye.stride,Xe=se.offset;if(ye.isInstancedInterleavedBuffer){for(let Ge=0;Ge<Q.locationSize;Ge++)b(Q.location+Ge,ye.meshPerAttribute);U.isInstancedMesh!==!0&&V._maxInstanceCount===void 0&&(V._maxInstanceCount=ye.meshPerAttribute*ye.count)}else for(let Ge=0;Ge<Q.locationSize;Ge++)E(Q.location+Ge);n.bindBuffer(n.ARRAY_BUFFER,pe);for(let Ge=0;Ge<Q.locationSize;Ge++)A(Q.location+Ge,K/Q.locationSize,ue,fe,Ve*ie,(Xe+K/Q.locationSize*Ge)*ie,de)}else{if(se.isInstancedBufferAttribute){for(let ye=0;ye<Q.locationSize;ye++)b(Q.location+ye,se.meshPerAttribute);U.isInstancedMesh!==!0&&V._maxInstanceCount===void 0&&(V._maxInstanceCount=se.meshPerAttribute*se.count)}else for(let ye=0;ye<Q.locationSize;ye++)E(Q.location+ye);n.bindBuffer(n.ARRAY_BUFFER,pe);for(let ye=0;ye<Q.locationSize;ye++)A(Q.location+ye,K/Q.locationSize,ue,fe,K*ie,K/Q.locationSize*ye*ie,de)}}else if(q!==void 0){const fe=q[$];if(fe!==void 0)switch(fe.length){case 2:n.vertexAttrib2fv(Q.location,fe);break;case 3:n.vertexAttrib3fv(Q.location,fe);break;case 4:n.vertexAttrib4fv(Q.location,fe);break;default:n.vertexAttrib1fv(Q.location,fe)}}}}w()}function D(){L();for(const U in i){const F=i[U];for(const z in F){const V=F[z];for(const Y in V)d(V[Y].object),delete V[Y];delete F[z]}delete i[U]}}function N(U){if(i[U.id]===void 0)return;const F=i[U.id];for(const z in F){const V=F[z];for(const Y in V)d(V[Y].object),delete V[Y];delete F[z]}delete i[U.id]}function I(U){for(const F in i){const z=i[F];if(z[U.id]===void 0)continue;const V=z[U.id];for(const Y in V)d(V[Y].object),delete V[Y];delete z[U.id]}}function L(){P(),a=!0,s!==r&&(s=r,u(s.object))}function P(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:o,reset:L,resetDefaultState:P,dispose:D,releaseStatesOfGeometry:N,releaseStatesOfProgram:I,initAttributes:S,enableAttribute:E,disableUnusedAttributes:w}}function Gde(n,e,t){let i;function r(u){i=u}function s(u,d){n.drawArrays(i,u,d),t.update(d,i,1)}function a(u,d,p){p!==0&&(n.drawArraysInstanced(i,u,d,p),t.update(d,i,p))}function o(u,d,p){if(p===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,u,0,d,0,p);let v=0;for(let _=0;_<p;_++)v+=d[_];t.update(v,i,1)}function l(u,d,p,y){if(p===0)return;const v=e.get("WEBGL_multi_draw");if(v===null)for(let _=0;_<u.length;_++)a(u[_],d[_],y[_]);else{v.multiDrawArraysInstancedWEBGL(i,u,0,d,0,y,0,p);let _=0;for(let S=0;S<p;S++)_+=d[S]*y[S];t.update(_,i,1)}}this.setMode=r,this.render=s,this.renderInstances=a,this.renderMultiDraw=o,this.renderMultiDrawInstances=l}function qde(n,e,t,i){let r;function s(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const I=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(I.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function a(I){return!(I!==Ja&&i.convert(I)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function o(I){const L=I===xy&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(I!==Ic&&i.convert(I)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&I!==Io&&!L)}function l(I){if(I==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";I="mediump"}return I==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let u=t.precision!==void 0?t.precision:"highp";const d=l(u);d!==u&&(console.warn("THREE.WebGLRenderer:",u,"not supported, using",d,"instead."),u=d);const p=t.logarithmicDepthBuffer===!0,y=t.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),v=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),_=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),S=n.getParameter(n.MAX_TEXTURE_SIZE),E=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),b=n.getParameter(n.MAX_VERTEX_ATTRIBS),w=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),A=n.getParameter(n.MAX_VARYING_VECTORS),C=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),D=_>0,N=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:l,textureFormatReadable:a,textureTypeReadable:o,precision:u,logarithmicDepthBuffer:p,reverseDepthBuffer:y,maxTextures:v,maxVertexTextures:_,maxTextureSize:S,maxCubemapSize:E,maxAttributes:b,maxVertexUniforms:w,maxVaryings:A,maxFragmentUniforms:C,vertexTextures:D,maxSamples:N}}function Wde(n){const e=this;let t=null,i=0,r=!1,s=!1;const a=new _p,o=new Dn,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(p,y){const v=p.length!==0||y||i!==0||r;return r=y,i=p.length,v},this.beginShadows=function(){s=!0,d(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(p,y){t=d(p,y,0)},this.setState=function(p,y,v){const _=p.clippingPlanes,S=p.clipIntersection,E=p.clipShadows,b=n.get(p);if(!r||_===null||_.length===0||s&&!E)s?d(null):u();else{const w=s?0:i,A=w*4;let C=b.clippingState||null;l.value=C,C=d(_,y,A,v);for(let D=0;D!==A;++D)C[D]=t[D];b.clippingState=C,this.numIntersection=S?this.numPlanes:0,this.numPlanes+=w}};function u(){l.value!==t&&(l.value=t,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function d(p,y,v,_){const S=p!==null?p.length:0;let E=null;if(S!==0){if(E=l.value,_!==!0||E===null){const b=v+S*4,w=y.matrixWorldInverse;o.getNormalMatrix(w),(E===null||E.length<b)&&(E=new Float32Array(b));for(let A=0,C=v;A!==S;++A,C+=4)a.copy(p[A]).applyMatrix4(w,o),a.normal.toArray(E,C),E[C+3]=a.constant}l.value=E,l.needsUpdate=!0}return e.numPlanes=S,e.numIntersection=0,E}}function $de(n){let e=new WeakMap;function t(a,o){return o===Jx?a.mapping=af:o===eS&&(a.mapping=Qp),a}function i(a){if(a&&a.isTexture){const o=a.mapping;if(o===Jx||o===eS)if(e.has(a)){const l=e.get(a).texture;return t(l,a.mapping)}else{const l=a.image;if(l&&l.height>0){const u=new DG(l.height);return u.fromEquirectangularTexture(n,a),e.set(a,u),a.addEventListener("dispose",r),t(u.texture,a.mapping)}else return null}}return a}function r(a){const o=a.target;o.removeEventListener("dispose",r);const l=e.get(o);l!==void 0&&(e.delete(o),l.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}const T0=4,cB=[.125,.215,.35,.446,.526,.582],Ng=20,dI=new JS,uB=new kt;let fI=null,pI=0,mI=0,gI=!1;const Og=(1+Math.sqrt(5))/2,jv=1/Og,hB=[new he(-Og,jv,0),new he(Og,jv,0),new he(-jv,0,Og),new he(jv,0,Og),new he(0,Og,-jv),new he(0,Og,jv),new he(-1,1,-1),new he(1,1,-1),new he(-1,1,1),new he(1,1,1)],Xde=new he;class FP{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100,s={}){const{size:a=256,position:o=Xde}=s;fI=this._renderer.getRenderTarget(),pI=this._renderer.getActiveCubeFace(),mI=this._renderer.getActiveMipmapLevel(),gI=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(a);const l=this._allocateTargets();return l.depthBuffer=!0,this._sceneToCubeUV(e,i,r,l,o),t>0&&this._blur(l,0,0,t),this._applyPMREM(l),this._cleanup(l),l}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=pB(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=fB(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(fI,pI,mI),this._renderer.xr.enabled=gI,e.scissorTest=!1,xw(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===af||e.mapping===Qp?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),fI=this._renderer.getRenderTarget(),pI=this._renderer.getActiveCubeFace(),mI=this._renderer.getActiveMipmapLevel(),gI=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:ps,minFilter:ps,generateMipmaps:!1,type:xy,format:Ja,colorSpace:Jp,depthBuffer:!1},r=dB(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=dB(e,t,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Yde(s)),this._blurMaterial=Kde(s,e,t)}return r}_compileMaterial(e){const t=new is(this._lodPlanes[0],e);this._renderer.compile(t,dI)}_sceneToCubeUV(e,t,i,r,s){const l=new ta(90,1,t,i),u=[1,-1,1,1,1,1],d=[1,1,1,-1,-1,-1],p=this._renderer,y=p.autoClear,v=p.toneMapping;p.getClearColor(uB),p.toneMapping=Ph,p.autoClear=!1;const _=new cm({name:"PMREM.Background",side:Po,depthWrite:!1,depthTest:!1}),S=new is(new Sy,_);let E=!1;const b=e.background;b?b.isColor&&(_.color.copy(b),e.background=null,E=!0):(_.color.copy(uB),E=!0);for(let w=0;w<6;w++){const A=w%3;A===0?(l.up.set(0,u[w],0),l.position.set(s.x,s.y,s.z),l.lookAt(s.x+d[w],s.y,s.z)):A===1?(l.up.set(0,0,u[w]),l.position.set(s.x,s.y,s.z),l.lookAt(s.x,s.y+d[w],s.z)):(l.up.set(0,u[w],0),l.position.set(s.x,s.y,s.z),l.lookAt(s.x,s.y,s.z+d[w]));const C=this._cubeSize;xw(r,A*C,w>2?C:0,C,C),p.setRenderTarget(r),E&&p.render(S,l),p.render(e,l)}S.geometry.dispose(),S.material.dispose(),p.toneMapping=v,p.autoClear=y,e.background=b}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===af||e.mapping===Qp;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=pB()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=fB());const s=r?this._cubemapMaterial:this._equirectMaterial,a=new is(this._lodPlanes[0],s),o=s.uniforms;o.envMap.value=e;const l=this._cubeSize;xw(t,0,0,3*l,2*l),i.setRenderTarget(t),i.render(a,dI)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;const r=this._lodPlanes.length;for(let s=1;s<r;s++){const a=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]),o=hB[(r-s-1)%hB.length];this._blur(e,s-1,s,a,o)}t.autoClear=i}_blur(e,t,i,r,s){const a=this._pingPongRenderTarget;this._halfBlur(e,a,t,i,r,"latitudinal",s),this._halfBlur(a,e,i,i,r,"longitudinal",s)}_halfBlur(e,t,i,r,s,a,o){const l=this._renderer,u=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const d=3,p=new is(this._lodPlanes[r],u),y=u.uniforms,v=this._sizeLods[i]-1,_=isFinite(s)?Math.PI/(2*v):2*Math.PI/(2*Ng-1),S=s/_,E=isFinite(s)?1+Math.floor(d*S):Ng;E>Ng&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${E} samples when the maximum is set to ${Ng}`);const b=[];let w=0;for(let I=0;I<Ng;++I){const L=I/S,P=Math.exp(-L*L/2);b.push(P),I===0?w+=P:I<E&&(w+=2*P)}for(let I=0;I<b.length;I++)b[I]=b[I]/w;y.envMap.value=e.texture,y.samples.value=E,y.weights.value=b,y.latitudinal.value=a==="latitudinal",o&&(y.poleAxis.value=o);const{_lodMax:A}=this;y.dTheta.value=_,y.mipInt.value=A-i;const C=this._sizeLods[r],D=3*C*(r>A-T0?r-A+T0:0),N=4*(this._cubeSize-C);xw(t,D,N,3*C,2*C),l.setRenderTarget(t),l.render(p,dI)}}function Yde(n){const e=[],t=[],i=[];let r=n;const s=n-T0+1+cB.length;for(let a=0;a<s;a++){const o=Math.pow(2,r);t.push(o);let l=1/o;a>n-T0?l=cB[a-n+T0-1]:a===0&&(l=0),i.push(l);const u=1/(o-2),d=-u,p=1+u,y=[d,d,p,d,p,p,d,d,p,p,d,p],v=6,_=6,S=3,E=2,b=1,w=new Float32Array(S*_*v),A=new Float32Array(E*_*v),C=new Float32Array(b*_*v);for(let N=0;N<v;N++){const I=N%3*2/3-1,L=N>2?0:-1,P=[I,L,0,I+2/3,L,0,I+2/3,L+1,0,I,L,0,I+2/3,L+1,0,I,L+1,0];w.set(P,S*_*N),A.set(y,E*_*N);const U=[N,N,N,N,N,N];C.set(U,b*_*N)}const D=new Nn;D.setAttribute("position",new Hi(w,S)),D.setAttribute("uv",new Hi(A,E)),D.setAttribute("faceIndex",new Hi(C,b)),e.push(D),r>T0&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}function dB(n,e,t){const i=new Eu(n,e,t);return i.texture.mapping=N_,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function xw(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function Kde(n,e,t){const i=new Float32Array(Ng),r=new he(0,1,0);return new Tu({name:"SphericalGaussianBlur",defines:{n:Ng,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:WL(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Wd,depthTest:!1,depthWrite:!1})}function fB(){return new Tu({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:WL(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Wd,depthTest:!1,depthWrite:!1})}function pB(){return new Tu({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:WL(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Wd,depthTest:!1,depthWrite:!1})}function WL(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Zde(n){let e=new WeakMap,t=null;function i(o){if(o&&o.isTexture){const l=o.mapping,u=l===Jx||l===eS,d=l===af||l===Qp;if(u||d){let p=e.get(o);const y=p!==void 0?p.texture.pmremVersion:0;if(o.isRenderTargetTexture&&o.pmremVersion!==y)return t===null&&(t=new FP(n)),p=u?t.fromEquirectangular(o,p):t.fromCubemap(o,p),p.texture.pmremVersion=o.pmremVersion,e.set(o,p),p.texture;if(p!==void 0)return p.texture;{const v=o.image;return u&&v&&v.height>0||d&&v&&r(v)?(t===null&&(t=new FP(n)),p=u?t.fromEquirectangular(o):t.fromCubemap(o),p.texture.pmremVersion=o.pmremVersion,e.set(o,p),o.addEventListener("dispose",s),p.texture):null}}}return o}function r(o){let l=0;const u=6;for(let d=0;d<u;d++)o[d]!==void 0&&l++;return l===u}function s(o){const l=o.target;l.removeEventListener("dispose",s);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function a(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:a}}function Qde(n){const e={};function t(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return t(i)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(i){const r=t(i);return r===null&&A2("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function Jde(n,e,t,i){const r={},s=new WeakMap;function a(p){const y=p.target;y.index!==null&&e.remove(y.index);for(const _ in y.attributes)e.remove(y.attributes[_]);y.removeEventListener("dispose",a),delete r[y.id];const v=s.get(y);v&&(e.remove(v),s.delete(y)),i.releaseStatesOfGeometry(y),y.isInstancedBufferGeometry===!0&&delete y._maxInstanceCount,t.memory.geometries--}function o(p,y){return r[y.id]===!0||(y.addEventListener("dispose",a),r[y.id]=!0,t.memory.geometries++),y}function l(p){const y=p.attributes;for(const v in y)e.update(y[v],n.ARRAY_BUFFER)}function u(p){const y=[],v=p.index,_=p.attributes.position;let S=0;if(v!==null){const w=v.array;S=v.version;for(let A=0,C=w.length;A<C;A+=3){const D=w[A+0],N=w[A+1],I=w[A+2];y.push(D,N,N,I,I,D)}}else if(_!==void 0){const w=_.array;S=_.version;for(let A=0,C=w.length/3-1;A<C;A+=3){const D=A+0,N=A+1,I=A+2;y.push(D,N,N,I,I,D)}}else return;const E=new(CG(y)?xL:bL)(y,1);E.version=S;const b=s.get(p);b&&e.remove(b),s.set(p,E)}function d(p){const y=s.get(p);if(y){const v=p.index;v!==null&&y.version<v.version&&u(p)}else u(p);return s.get(p)}return{get:o,update:l,getWireframeAttribute:d}}function efe(n,e,t){let i;function r(y){i=y}let s,a;function o(y){s=y.type,a=y.bytesPerElement}function l(y,v){n.drawElements(i,v,s,y*a),t.update(v,i,1)}function u(y,v,_){_!==0&&(n.drawElementsInstanced(i,v,s,y*a,_),t.update(v,i,_))}function d(y,v,_){if(_===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,v,0,s,y,0,_);let E=0;for(let b=0;b<_;b++)E+=v[b];t.update(E,i,1)}function p(y,v,_,S){if(_===0)return;const E=e.get("WEBGL_multi_draw");if(E===null)for(let b=0;b<y.length;b++)u(y[b]/a,v[b],S[b]);else{E.multiDrawElementsInstancedWEBGL(i,v,0,s,y,0,S,0,_);let b=0;for(let w=0;w<_;w++)b+=v[w]*S[w];t.update(b,i,1)}}this.setMode=r,this.setIndex=o,this.render=l,this.renderInstances=u,this.renderMultiDraw=d,this.renderMultiDrawInstances=p}function tfe(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,a,o){switch(t.calls++,a){case n.TRIANGLES:t.triangles+=o*(s/3);break;case n.LINES:t.lines+=o*(s/2);break;case n.LINE_STRIP:t.lines+=o*(s-1);break;case n.LINE_LOOP:t.lines+=o*s;break;case n.POINTS:t.points+=o*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function r(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:i}}function nfe(n,e,t){const i=new WeakMap,r=new yi;function s(a,o,l){const u=a.morphTargetInfluences,d=o.morphAttributes.position||o.morphAttributes.normal||o.morphAttributes.color,p=d!==void 0?d.length:0;let y=i.get(o);if(y===void 0||y.count!==p){let P=function(){I.dispose(),i.delete(o),o.removeEventListener("dispose",P)};y!==void 0&&y.texture.dispose();const v=o.morphAttributes.position!==void 0,_=o.morphAttributes.normal!==void 0,S=o.morphAttributes.color!==void 0,E=o.morphAttributes.position||[],b=o.morphAttributes.normal||[],w=o.morphAttributes.color||[];let A=0;v===!0&&(A=1),_===!0&&(A=2),S===!0&&(A=3);let C=o.attributes.position.count*A,D=1;C>e.maxTextureSize&&(D=Math.ceil(C/e.maxTextureSize),C=e.maxTextureSize);const N=new Float32Array(C*D*4*p),I=new WS(N,C,D,p);I.type=Io,I.needsUpdate=!0;const L=A*4;for(let U=0;U<p;U++){const F=E[U],z=b[U],V=w[U],Y=C*D*4*U;for(let ee=0;ee<F.count;ee++){const q=ee*L;v===!0&&(r.fromBufferAttribute(F,ee),N[Y+q+0]=r.x,N[Y+q+1]=r.y,N[Y+q+2]=r.z,N[Y+q+3]=0),_===!0&&(r.fromBufferAttribute(z,ee),N[Y+q+4]=r.x,N[Y+q+5]=r.y,N[Y+q+6]=r.z,N[Y+q+7]=0),S===!0&&(r.fromBufferAttribute(V,ee),N[Y+q+8]=r.x,N[Y+q+9]=r.y,N[Y+q+10]=r.z,N[Y+q+11]=V.itemSize===4?r.w:1)}}y={count:p,texture:I,size:new rt(C,D)},i.set(o,y),o.addEventListener("dispose",P)}if(a.isInstancedMesh===!0&&a.morphTexture!==null)l.getUniforms().setValue(n,"morphTexture",a.morphTexture,t);else{let v=0;for(let S=0;S<u.length;S++)v+=u[S];const _=o.morphTargetsRelative?1:1-v;l.getUniforms().setValue(n,"morphTargetBaseInfluence",_),l.getUniforms().setValue(n,"morphTargetInfluences",u)}l.getUniforms().setValue(n,"morphTargetsTexture",y.texture,t),l.getUniforms().setValue(n,"morphTargetsTextureSize",y.size)}return{update:s}}function ife(n,e,t,i){let r=new WeakMap;function s(l){const u=i.render.frame,d=l.geometry,p=e.get(l,d);if(r.get(p)!==u&&(e.update(p),r.set(p,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",o)===!1&&l.addEventListener("dispose",o),r.get(l)!==u&&(t.update(l.instanceMatrix,n.ARRAY_BUFFER),l.instanceColor!==null&&t.update(l.instanceColor,n.ARRAY_BUFFER),r.set(l,u))),l.isSkinnedMesh){const y=l.skeleton;r.get(y)!==u&&(y.update(),r.set(y,u))}return p}function a(){r=new WeakMap}function o(l){const u=l.target;u.removeEventListener("dispose",o),t.remove(u.instanceMatrix),u.instanceColor!==null&&t.remove(u.instanceColor)}return{update:s,dispose:a}}const Rq=new rs,mB=new XS(1,1),Oq=new WS,Iq=new gM,Pq=new $S,gB=[],yB=[],vB=new Float32Array(16),_B=new Float32Array(9),bB=new Float32Array(4);function F_(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let s=gB[r];if(s===void 0&&(s=new Float32Array(r),gB[r]=s),e!==0){i.toArray(s,0);for(let a=1,o=0;a!==e;++a)o+=t,n[a].toArray(s,o)}return s}function Bs(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function Fs(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function HM(n,e){let t=yB[e];t===void 0&&(t=new Int32Array(e),yB[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function rfe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function sfe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Bs(t,e))return;n.uniform2fv(this.addr,e),Fs(t,e)}}function afe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Bs(t,e))return;n.uniform3fv(this.addr,e),Fs(t,e)}}function ofe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Bs(t,e))return;n.uniform4fv(this.addr,e),Fs(t,e)}}function lfe(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Bs(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Fs(t,e)}else{if(Bs(t,i))return;bB.set(i),n.uniformMatrix2fv(this.addr,!1,bB),Fs(t,i)}}function cfe(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Bs(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Fs(t,e)}else{if(Bs(t,i))return;_B.set(i),n.uniformMatrix3fv(this.addr,!1,_B),Fs(t,i)}}function ufe(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Bs(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Fs(t,e)}else{if(Bs(t,i))return;vB.set(i),n.uniformMatrix4fv(this.addr,!1,vB),Fs(t,i)}}function hfe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function dfe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Bs(t,e))return;n.uniform2iv(this.addr,e),Fs(t,e)}}function ffe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Bs(t,e))return;n.uniform3iv(this.addr,e),Fs(t,e)}}function pfe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Bs(t,e))return;n.uniform4iv(this.addr,e),Fs(t,e)}}function mfe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function gfe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Bs(t,e))return;n.uniform2uiv(this.addr,e),Fs(t,e)}}function yfe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Bs(t,e))return;n.uniform3uiv(this.addr,e),Fs(t,e)}}function vfe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Bs(t,e))return;n.uniform4uiv(this.addr,e),Fs(t,e)}}function _fe(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r);let s;this.type===n.SAMPLER_2D_SHADOW?(mB.compareFunction=vL,s=mB):s=Rq,t.setTexture2D(e||s,r)}function bfe(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||Iq,r)}function xfe(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||Pq,r)}function Sfe(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||Oq,r)}function Efe(n){switch(n){case 5126:return rfe;case 35664:return sfe;case 35665:return afe;case 35666:return ofe;case 35674:return lfe;case 35675:return cfe;case 35676:return ufe;case 5124:case 35670:return hfe;case 35667:case 35671:return dfe;case 35668:case 35672:return ffe;case 35669:case 35673:return pfe;case 5125:return mfe;case 36294:return gfe;case 36295:return yfe;case 36296:return vfe;case 35678:case 36198:case 36298:case 36306:case 35682:return _fe;case 35679:case 36299:case 36307:return bfe;case 35680:case 36300:case 36308:case 36293:return xfe;case 36289:case 36303:case 36311:case 36292:return Sfe}}function Tfe(n,e){n.uniform1fv(this.addr,e)}function wfe(n,e){const t=F_(e,this.size,2);n.uniform2fv(this.addr,t)}function Cfe(n,e){const t=F_(e,this.size,3);n.uniform3fv(this.addr,t)}function Afe(n,e){const t=F_(e,this.size,4);n.uniform4fv(this.addr,t)}function Mfe(n,e){const t=F_(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function Rfe(n,e){const t=F_(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function Ofe(n,e){const t=F_(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function Ife(n,e){n.uniform1iv(this.addr,e)}function Pfe(n,e){n.uniform2iv(this.addr,e)}function Dfe(n,e){n.uniform3iv(this.addr,e)}function Nfe(n,e){n.uniform4iv(this.addr,e)}function Lfe(n,e){n.uniform1uiv(this.addr,e)}function Ufe(n,e){n.uniform2uiv(this.addr,e)}function kfe(n,e){n.uniform3uiv(this.addr,e)}function zfe(n,e){n.uniform4uiv(this.addr,e)}function Bfe(n,e,t){const i=this.cache,r=e.length,s=HM(t,r);Bs(i,s)||(n.uniform1iv(this.addr,s),Fs(i,s));for(let a=0;a!==r;++a)t.setTexture2D(e[a]||Rq,s[a])}function Ffe(n,e,t){const i=this.cache,r=e.length,s=HM(t,r);Bs(i,s)||(n.uniform1iv(this.addr,s),Fs(i,s));for(let a=0;a!==r;++a)t.setTexture3D(e[a]||Iq,s[a])}function Vfe(n,e,t){const i=this.cache,r=e.length,s=HM(t,r);Bs(i,s)||(n.uniform1iv(this.addr,s),Fs(i,s));for(let a=0;a!==r;++a)t.setTextureCube(e[a]||Pq,s[a])}function Hfe(n,e,t){const i=this.cache,r=e.length,s=HM(t,r);Bs(i,s)||(n.uniform1iv(this.addr,s),Fs(i,s));for(let a=0;a!==r;++a)t.setTexture2DArray(e[a]||Oq,s[a])}function jfe(n){switch(n){case 5126:return Tfe;case 35664:return wfe;case 35665:return Cfe;case 35666:return Afe;case 35674:return Mfe;case 35675:return Rfe;case 35676:return Ofe;case 5124:case 35670:return Ife;case 35667:case 35671:return Pfe;case 35668:case 35672:return Dfe;case 35669:case 35673:return Nfe;case 5125:return Lfe;case 36294:return Ufe;case 36295:return kfe;case 36296:return zfe;case 35678:case 36198:case 36298:case 36306:case 35682:return Bfe;case 35679:case 36299:case 36307:return Ffe;case 35680:case 36300:case 36308:case 36293:return Vfe;case 36289:case 36303:case 36311:case 36292:return Hfe}}class Gfe{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.setValue=Efe(t.type)}}class qfe{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=jfe(t.type)}}class Wfe{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let s=0,a=r.length;s!==a;++s){const o=r[s];o.setValue(e,t[o.id],i)}}}const yI=/(\w+)(\])?(\[|\.)?/g;function xB(n,e){n.seq.push(e),n.map[e.id]=e}function $fe(n,e,t){const i=n.name,r=i.length;for(yI.lastIndex=0;;){const s=yI.exec(i),a=yI.lastIndex;let o=s[1];const l=s[2]==="]",u=s[3];if(l&&(o=o|0),u===void 0||u==="["&&a+2===r){xB(t,u===void 0?new Gfe(o,n,e):new qfe(o,n,e));break}else{let p=t.map[o];p===void 0&&(p=new Wfe(o),xB(t,p)),t=p}}}class R2{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const s=e.getActiveUniform(t,r),a=e.getUniformLocation(t,s.name);$fe(s,a,this)}}setValue(e,t,i,r){const s=this.map[t];s!==void 0&&s.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let s=0,a=t.length;s!==a;++s){const o=t[s],l=i[o.id];l.needsUpdate!==!1&&o.setValue(e,l.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,s=e.length;r!==s;++r){const a=e[r];a.id in t&&i.push(a)}return i}}function SB(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}const Xfe=37297;let Yfe=0;function Kfe(n,e){const t=n.split(`
`),i=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let a=r;a<s;a++){const o=a+1;i.push(`${o===e?">":" "} ${o}: ${t[a]}`)}return i.join(`
`)}const EB=new Dn;function Zfe(n){di._getMatrix(EB,di.workingColorSpace,n);const e=`mat3( ${EB.elements.map(t=>t.toFixed(4))} )`;switch(di.getTransfer(n)){case sS:return[e,"LinearTransferOETF"];case Vi:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",n),[e,"LinearTransferOETF"]}}function TB(n,e,t){const i=n.getShaderParameter(e,n.COMPILE_STATUS),r=n.getShaderInfoLog(e).trim();if(i&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const a=parseInt(s[1]);return t.toUpperCase()+`

`+r+`

`+Kfe(n.getShaderSource(e),a)}else return r}function Qfe(n,e){const t=Zfe(e);return[`vec4 ${n}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function Jfe(n,e){let t;switch(e){case sG:t="Linear";break;case aG:t="Reinhard";break;case oG:t="Cineon";break;case lL:t="ACESFilmic";break;case cG:t="AgX";break;case uG:t="Neutral";break;case lG:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const Sw=new he;function epe(){di.getLuminanceCoefficients(Sw);const n=Sw.x.toFixed(4),e=Sw.y.toFixed(4),t=Sw.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function tpe(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(K1).join(`
`)}function npe(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function ipe(n,e){const t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const s=n.getActiveAttrib(e,r),a=s.name;let o=1;s.type===n.FLOAT_MAT2&&(o=2),s.type===n.FLOAT_MAT3&&(o=3),s.type===n.FLOAT_MAT4&&(o=4),t[a]={type:s.type,location:n.getAttribLocation(e,a),locationSize:o}}return t}function K1(n){return n!==""}function wB(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function CB(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const rpe=/^[ \t]*#include +<([\w\d./]+)>/gm;function VP(n){return n.replace(rpe,ape)}const spe=new Map;function ape(n,e){let t=Gn[e];if(t===void 0){const i=spe.get(e);if(i!==void 0)t=Gn[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return VP(t)}const ope=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function AB(n){return n.replace(ope,lpe)}function lpe(n,e,t,i){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function MB(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function cpe(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===aM?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===yx?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===mu&&(e="SHADOWMAP_TYPE_VSM"),e}function upe(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case af:case Qp:e="ENVMAP_TYPE_CUBE";break;case N_:e="ENVMAP_TYPE_CUBE_UV";break}return e}function hpe(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Qp:e="ENVMAP_MODE_REFRACTION";break}return e}function dpe(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case GS:e="ENVMAP_BLENDING_MULTIPLY";break;case iG:e="ENVMAP_BLENDING_MIX";break;case rG:e="ENVMAP_BLENDING_ADD";break}return e}function fpe(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:i,maxMip:t}}function ppe(n,e,t,i){const r=n.getContext(),s=t.defines;let a=t.vertexShader,o=t.fragmentShader;const l=cpe(t),u=upe(t),d=hpe(t),p=dpe(t),y=fpe(t),v=tpe(t),_=npe(s),S=r.createProgram();let E,b,w=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(E=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_].filter(K1).join(`
`),E.length>0&&(E+=`
`),b=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_].filter(K1).join(`
`),b.length>0&&(b+=`
`)):(E=[MB(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+d:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(K1).join(`
`),b=[MB(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.envMap?"#define "+d:"",t.envMap?"#define "+p:"",y?"#define CUBEUV_TEXEL_WIDTH "+y.texelWidth:"",y?"#define CUBEUV_TEXEL_HEIGHT "+y.texelHeight:"",y?"#define CUBEUV_MAX_MIP "+y.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Ph?"#define TONE_MAPPING":"",t.toneMapping!==Ph?Gn.tonemapping_pars_fragment:"",t.toneMapping!==Ph?Jfe("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Gn.colorspace_pars_fragment,Qfe("linearToOutputTexel",t.outputColorSpace),epe(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(K1).join(`
`)),a=VP(a),a=wB(a,t),a=CB(a,t),o=VP(o),o=wB(o,t),o=CB(o,t),a=AB(a),o=AB(o),t.isRawShaderMaterial!==!0&&(w=`#version 300 es
`,E=[v,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+E,b=["#define varying in",t.glslVersion===PP?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===PP?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+b);const A=w+E+a,C=w+b+o,D=SB(r,r.VERTEX_SHADER,A),N=SB(r,r.FRAGMENT_SHADER,C);r.attachShader(S,D),r.attachShader(S,N),t.index0AttributeName!==void 0?r.bindAttribLocation(S,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(S,0,"position"),r.linkProgram(S);function I(F){if(n.debug.checkShaderErrors){const z=r.getProgramInfoLog(S).trim(),V=r.getShaderInfoLog(D).trim(),Y=r.getShaderInfoLog(N).trim();let ee=!0,q=!0;if(r.getProgramParameter(S,r.LINK_STATUS)===!1)if(ee=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(r,S,D,N);else{const $=TB(r,D,"vertex"),Q=TB(r,N,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(S,r.VALIDATE_STATUS)+`

Material Name: `+F.name+`
Material Type: `+F.type+`

Program Info Log: `+z+`
`+$+`
`+Q)}else z!==""?console.warn("THREE.WebGLProgram: Program Info Log:",z):(V===""||Y==="")&&(q=!1);q&&(F.diagnostics={runnable:ee,programLog:z,vertexShader:{log:V,prefix:E},fragmentShader:{log:Y,prefix:b}})}r.deleteShader(D),r.deleteShader(N),L=new R2(r,S),P=ipe(r,S)}let L;this.getUniforms=function(){return L===void 0&&I(this),L};let P;this.getAttributes=function(){return P===void 0&&I(this),P};let U=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return U===!1&&(U=r.getProgramParameter(S,Xfe)),U},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(S),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=Yfe++,this.cacheKey=e,this.usedTimes=1,this.program=S,this.vertexShader=D,this.fragmentShader=N,this}let mpe=0;class gpe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(t),s=this._getShaderStage(i),a=this._getShaderCacheForMaterial(e);return a.has(r)===!1&&(a.add(r),r.usedTimes++),a.has(s)===!1&&(a.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new ype(e),t.set(e,i)),i}}class ype{constructor(e){this.id=mpe++,this.code=e,this.usedTimes=0}}function vpe(n,e,t,i,r,s,a){const o=new o_,l=new gpe,u=new Set,d=[],p=r.logarithmicDepthBuffer,y=r.vertexTextures;let v=r.precision;const _={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function S(P){return u.add(P),P===0?"uv":`uv${P}`}function E(P,U,F,z,V){const Y=z.fog,ee=V.geometry,q=P.isMeshStandardMaterial?z.environment:null,$=(P.isMeshStandardMaterial?t:e).get(P.envMap||q),Q=$&&$.mapping===N_?$.image.height:null,se=_[P.type];P.precision!==null&&(v=r.getMaxPrecision(P.precision),v!==P.precision&&console.warn("THREE.WebGLProgram.getParameters:",P.precision,"not supported, using",v,"instead."));const fe=ee.morphAttributes.position||ee.morphAttributes.normal||ee.morphAttributes.color,K=fe!==void 0?fe.length:0;let le=0;ee.morphAttributes.position!==void 0&&(le=1),ee.morphAttributes.normal!==void 0&&(le=2),ee.morphAttributes.color!==void 0&&(le=3);let pe,ue,ie,de;if(se){const Qt=yu[se];pe=Qt.vertexShader,ue=Qt.fragmentShader}else pe=P.vertexShader,ue=P.fragmentShader,l.update(P),ie=l.getVertexShaderID(P),de=l.getFragmentShaderID(P);const ye=n.getRenderTarget(),Ve=n.state.buffers.depth.getReversed(),Xe=V.isInstancedMesh===!0,Ge=V.isBatchedMesh===!0,st=!!P.map,lt=!!P.matcap,mt=!!$,te=!!P.aoMap,Oe=!!P.lightMap,Be=!!P.bumpMap,Ne=!!P.normalMap,Me=!!P.displacementMap,ut=!!P.emissiveMap,qe=!!P.metalnessMap,ae=!!P.roughnessMap,J=P.anisotropy>0,Se=P.clearcoat>0,Ae=P.dispersion>0,Ze=P.iridescence>0,Re=P.sheen>0,ct=P.transmission>0,ht=J&&!!P.anisotropyMap,Dt=Se&&!!P.clearcoatMap,zt=Se&&!!P.clearcoatNormalMap,$e=Se&&!!P.clearcoatRoughnessMap,pt=Ze&&!!P.iridescenceMap,wt=Ze&&!!P.iridescenceThicknessMap,At=Re&&!!P.sheenColorMap,vt=Re&&!!P.sheenRoughnessMap,jt=!!P.specularMap,ot=!!P.specularColorMap,Lt=!!P.specularIntensityMap,ve=ct&&!!P.transmissionMap,gt=ct&&!!P.thicknessMap,Fe=!!P.gradientMap,Qe=!!P.alphaMap,xt=P.alphaTest>0,_t=!!P.alphaHash,Zt=!!P.extensions;let Yn=Ph;P.toneMapped&&(ye===null||ye.isXRRenderTarget===!0)&&(Yn=n.toneMapping);const Bt={shaderID:se,shaderType:P.type,shaderName:P.name,vertexShader:pe,fragmentShader:ue,defines:P.defines,customVertexShaderID:ie,customFragmentShaderID:de,isRawShaderMaterial:P.isRawShaderMaterial===!0,glslVersion:P.glslVersion,precision:v,batching:Ge,batchingColor:Ge&&V._colorsTexture!==null,instancing:Xe,instancingColor:Xe&&V.instanceColor!==null,instancingMorph:Xe&&V.morphTexture!==null,supportsVertexTextures:y,outputColorSpace:ye===null?n.outputColorSpace:ye.isXRRenderTarget===!0?ye.texture.colorSpace:Jp,alphaToCoverage:!!P.alphaToCoverage,map:st,matcap:lt,envMap:mt,envMapMode:mt&&$.mapping,envMapCubeUVHeight:Q,aoMap:te,lightMap:Oe,bumpMap:Be,normalMap:Ne,displacementMap:y&&Me,emissiveMap:ut,normalMapObjectSpace:Ne&&P.normalMapType===yG,normalMapTangentSpace:Ne&&P.normalMapType===lm,metalnessMap:qe,roughnessMap:ae,anisotropy:J,anisotropyMap:ht,clearcoat:Se,clearcoatMap:Dt,clearcoatNormalMap:zt,clearcoatRoughnessMap:$e,dispersion:Ae,iridescence:Ze,iridescenceMap:pt,iridescenceThicknessMap:wt,sheen:Re,sheenColorMap:At,sheenRoughnessMap:vt,specularMap:jt,specularColorMap:ot,specularIntensityMap:Lt,transmission:ct,transmissionMap:ve,thicknessMap:gt,gradientMap:Fe,opaque:P.transparent===!1&&P.blending===Qg&&P.alphaToCoverage===!1,alphaMap:Qe,alphaTest:xt,alphaHash:_t,combine:P.combine,mapUv:st&&S(P.map.channel),aoMapUv:te&&S(P.aoMap.channel),lightMapUv:Oe&&S(P.lightMap.channel),bumpMapUv:Be&&S(P.bumpMap.channel),normalMapUv:Ne&&S(P.normalMap.channel),displacementMapUv:Me&&S(P.displacementMap.channel),emissiveMapUv:ut&&S(P.emissiveMap.channel),metalnessMapUv:qe&&S(P.metalnessMap.channel),roughnessMapUv:ae&&S(P.roughnessMap.channel),anisotropyMapUv:ht&&S(P.anisotropyMap.channel),clearcoatMapUv:Dt&&S(P.clearcoatMap.channel),clearcoatNormalMapUv:zt&&S(P.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:$e&&S(P.clearcoatRoughnessMap.channel),iridescenceMapUv:pt&&S(P.iridescenceMap.channel),iridescenceThicknessMapUv:wt&&S(P.iridescenceThicknessMap.channel),sheenColorMapUv:At&&S(P.sheenColorMap.channel),sheenRoughnessMapUv:vt&&S(P.sheenRoughnessMap.channel),specularMapUv:jt&&S(P.specularMap.channel),specularColorMapUv:ot&&S(P.specularColorMap.channel),specularIntensityMapUv:Lt&&S(P.specularIntensityMap.channel),transmissionMapUv:ve&&S(P.transmissionMap.channel),thicknessMapUv:gt&&S(P.thicknessMap.channel),alphaMapUv:Qe&&S(P.alphaMap.channel),vertexTangents:!!ee.attributes.tangent&&(Ne||J),vertexColors:P.vertexColors,vertexAlphas:P.vertexColors===!0&&!!ee.attributes.color&&ee.attributes.color.itemSize===4,pointsUvs:V.isPoints===!0&&!!ee.attributes.uv&&(st||Qe),fog:!!Y,useFog:P.fog===!0,fogExp2:!!Y&&Y.isFogExp2,flatShading:P.flatShading===!0,sizeAttenuation:P.sizeAttenuation===!0,logarithmicDepthBuffer:p,reverseDepthBuffer:Ve,skinning:V.isSkinnedMesh===!0,morphTargets:ee.morphAttributes.position!==void 0,morphNormals:ee.morphAttributes.normal!==void 0,morphColors:ee.morphAttributes.color!==void 0,morphTargetsCount:K,morphTextureStride:le,numDirLights:U.directional.length,numPointLights:U.point.length,numSpotLights:U.spot.length,numSpotLightMaps:U.spotLightMap.length,numRectAreaLights:U.rectArea.length,numHemiLights:U.hemi.length,numDirLightShadows:U.directionalShadowMap.length,numPointLightShadows:U.pointShadowMap.length,numSpotLightShadows:U.spotShadowMap.length,numSpotLightShadowsWithMaps:U.numSpotLightShadowsWithMaps,numLightProbes:U.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:P.dithering,shadowMapEnabled:n.shadowMap.enabled&&F.length>0,shadowMapType:n.shadowMap.type,toneMapping:Yn,decodeVideoTexture:st&&P.map.isVideoTexture===!0&&di.getTransfer(P.map.colorSpace)===Vi,decodeVideoTextureEmissive:ut&&P.emissiveMap.isVideoTexture===!0&&di.getTransfer(P.emissiveMap.colorSpace)===Vi,premultipliedAlpha:P.premultipliedAlpha,doubleSided:P.side===_h,flipSided:P.side===Po,useDepthPacking:P.depthPacking>=0,depthPacking:P.depthPacking||0,index0AttributeName:P.index0AttributeName,extensionClipCullDistance:Zt&&P.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Zt&&P.extensions.multiDraw===!0||Ge)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:P.customProgramCacheKey()};return Bt.vertexUv1s=u.has(1),Bt.vertexUv2s=u.has(2),Bt.vertexUv3s=u.has(3),u.clear(),Bt}function b(P){const U=[];if(P.shaderID?U.push(P.shaderID):(U.push(P.customVertexShaderID),U.push(P.customFragmentShaderID)),P.defines!==void 0)for(const F in P.defines)U.push(F),U.push(P.defines[F]);return P.isRawShaderMaterial===!1&&(w(U,P),A(U,P),U.push(n.outputColorSpace)),U.push(P.customProgramCacheKey),U.join()}function w(P,U){P.push(U.precision),P.push(U.outputColorSpace),P.push(U.envMapMode),P.push(U.envMapCubeUVHeight),P.push(U.mapUv),P.push(U.alphaMapUv),P.push(U.lightMapUv),P.push(U.aoMapUv),P.push(U.bumpMapUv),P.push(U.normalMapUv),P.push(U.displacementMapUv),P.push(U.emissiveMapUv),P.push(U.metalnessMapUv),P.push(U.roughnessMapUv),P.push(U.anisotropyMapUv),P.push(U.clearcoatMapUv),P.push(U.clearcoatNormalMapUv),P.push(U.clearcoatRoughnessMapUv),P.push(U.iridescenceMapUv),P.push(U.iridescenceThicknessMapUv),P.push(U.sheenColorMapUv),P.push(U.sheenRoughnessMapUv),P.push(U.specularMapUv),P.push(U.specularColorMapUv),P.push(U.specularIntensityMapUv),P.push(U.transmissionMapUv),P.push(U.thicknessMapUv),P.push(U.combine),P.push(U.fogExp2),P.push(U.sizeAttenuation),P.push(U.morphTargetsCount),P.push(U.morphAttributeCount),P.push(U.numDirLights),P.push(U.numPointLights),P.push(U.numSpotLights),P.push(U.numSpotLightMaps),P.push(U.numHemiLights),P.push(U.numRectAreaLights),P.push(U.numDirLightShadows),P.push(U.numPointLightShadows),P.push(U.numSpotLightShadows),P.push(U.numSpotLightShadowsWithMaps),P.push(U.numLightProbes),P.push(U.shadowMapType),P.push(U.toneMapping),P.push(U.numClippingPlanes),P.push(U.numClipIntersection),P.push(U.depthPacking)}function A(P,U){o.disableAll(),U.supportsVertexTextures&&o.enable(0),U.instancing&&o.enable(1),U.instancingColor&&o.enable(2),U.instancingMorph&&o.enable(3),U.matcap&&o.enable(4),U.envMap&&o.enable(5),U.normalMapObjectSpace&&o.enable(6),U.normalMapTangentSpace&&o.enable(7),U.clearcoat&&o.enable(8),U.iridescence&&o.enable(9),U.alphaTest&&o.enable(10),U.vertexColors&&o.enable(11),U.vertexAlphas&&o.enable(12),U.vertexUv1s&&o.enable(13),U.vertexUv2s&&o.enable(14),U.vertexUv3s&&o.enable(15),U.vertexTangents&&o.enable(16),U.anisotropy&&o.enable(17),U.alphaHash&&o.enable(18),U.batching&&o.enable(19),U.dispersion&&o.enable(20),U.batchingColor&&o.enable(21),P.push(o.mask),o.disableAll(),U.fog&&o.enable(0),U.useFog&&o.enable(1),U.flatShading&&o.enable(2),U.logarithmicDepthBuffer&&o.enable(3),U.reverseDepthBuffer&&o.enable(4),U.skinning&&o.enable(5),U.morphTargets&&o.enable(6),U.morphNormals&&o.enable(7),U.morphColors&&o.enable(8),U.premultipliedAlpha&&o.enable(9),U.shadowMapEnabled&&o.enable(10),U.doubleSided&&o.enable(11),U.flipSided&&o.enable(12),U.useDepthPacking&&o.enable(13),U.dithering&&o.enable(14),U.transmission&&o.enable(15),U.sheen&&o.enable(16),U.opaque&&o.enable(17),U.pointsUvs&&o.enable(18),U.decodeVideoTexture&&o.enable(19),U.decodeVideoTextureEmissive&&o.enable(20),U.alphaToCoverage&&o.enable(21),P.push(o.mask)}function C(P){const U=_[P.type];let F;if(U){const z=yu[U];F=IG.clone(z.uniforms)}else F=P.uniforms;return F}function D(P,U){let F;for(let z=0,V=d.length;z<V;z++){const Y=d[z];if(Y.cacheKey===U){F=Y,++F.usedTimes;break}}return F===void 0&&(F=new ppe(n,U,P,s),d.push(F)),F}function N(P){if(--P.usedTimes===0){const U=d.indexOf(P);d[U]=d[d.length-1],d.pop(),P.destroy()}}function I(P){l.remove(P)}function L(){l.dispose()}return{getParameters:E,getProgramCacheKey:b,getUniforms:C,acquireProgram:D,releaseProgram:N,releaseShaderCache:I,programs:d,dispose:L}}function _pe(){let n=new WeakMap;function e(a){return n.has(a)}function t(a){let o=n.get(a);return o===void 0&&(o={},n.set(a,o)),o}function i(a){n.delete(a)}function r(a,o,l){n.get(a)[o]=l}function s(){n=new WeakMap}return{has:e,get:t,remove:i,update:r,dispose:s}}function bpe(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function RB(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function OB(){const n=[];let e=0;const t=[],i=[],r=[];function s(){e=0,t.length=0,i.length=0,r.length=0}function a(p,y,v,_,S,E){let b=n[e];return b===void 0?(b={id:p.id,object:p,geometry:y,material:v,groupOrder:_,renderOrder:p.renderOrder,z:S,group:E},n[e]=b):(b.id=p.id,b.object=p,b.geometry=y,b.material=v,b.groupOrder=_,b.renderOrder=p.renderOrder,b.z=S,b.group=E),e++,b}function o(p,y,v,_,S,E){const b=a(p,y,v,_,S,E);v.transmission>0?i.push(b):v.transparent===!0?r.push(b):t.push(b)}function l(p,y,v,_,S,E){const b=a(p,y,v,_,S,E);v.transmission>0?i.unshift(b):v.transparent===!0?r.unshift(b):t.unshift(b)}function u(p,y){t.length>1&&t.sort(p||bpe),i.length>1&&i.sort(y||RB),r.length>1&&r.sort(y||RB)}function d(){for(let p=e,y=n.length;p<y;p++){const v=n[p];if(v.id===null)break;v.id=null,v.object=null,v.geometry=null,v.material=null,v.group=null}}return{opaque:t,transmissive:i,transparent:r,init:s,push:o,unshift:l,finish:d,sort:u}}function xpe(){let n=new WeakMap;function e(i,r){const s=n.get(i);let a;return s===void 0?(a=new OB,n.set(i,[a])):r>=s.length?(a=new OB,s.push(a)):a=s[r],a}function t(){n=new WeakMap}return{get:e,dispose:t}}function Spe(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new he,color:new kt};break;case"SpotLight":t={position:new he,direction:new he,color:new kt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new he,color:new kt,distance:0,decay:0};break;case"HemisphereLight":t={direction:new he,skyColor:new kt,groundColor:new kt};break;case"RectAreaLight":t={color:new kt,position:new he,halfWidth:new he,halfHeight:new he};break}return n[e.id]=t,t}}}function Epe(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new rt};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new rt};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new rt,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let Tpe=0;function wpe(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function Cpe(n){const e=new Spe,t=Epe(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let u=0;u<9;u++)i.probe.push(new he);const r=new he,s=new an,a=new an;function o(u){let d=0,p=0,y=0;for(let P=0;P<9;P++)i.probe[P].set(0,0,0);let v=0,_=0,S=0,E=0,b=0,w=0,A=0,C=0,D=0,N=0,I=0;u.sort(wpe);for(let P=0,U=u.length;P<U;P++){const F=u[P],z=F.color,V=F.intensity,Y=F.distance,ee=F.shadow&&F.shadow.map?F.shadow.map.texture:null;if(F.isAmbientLight)d+=z.r*V,p+=z.g*V,y+=z.b*V;else if(F.isLightProbe){for(let q=0;q<9;q++)i.probe[q].addScaledVector(F.sh.coefficients[q],V);I++}else if(F.isDirectionalLight){const q=e.get(F);if(q.color.copy(F.color).multiplyScalar(F.intensity),F.castShadow){const $=F.shadow,Q=t.get(F);Q.shadowIntensity=$.intensity,Q.shadowBias=$.bias,Q.shadowNormalBias=$.normalBias,Q.shadowRadius=$.radius,Q.shadowMapSize=$.mapSize,i.directionalShadow[v]=Q,i.directionalShadowMap[v]=ee,i.directionalShadowMatrix[v]=F.shadow.matrix,w++}i.directional[v]=q,v++}else if(F.isSpotLight){const q=e.get(F);q.position.setFromMatrixPosition(F.matrixWorld),q.color.copy(z).multiplyScalar(V),q.distance=Y,q.coneCos=Math.cos(F.angle),q.penumbraCos=Math.cos(F.angle*(1-F.penumbra)),q.decay=F.decay,i.spot[S]=q;const $=F.shadow;if(F.map&&(i.spotLightMap[D]=F.map,D++,$.updateMatrices(F),F.castShadow&&N++),i.spotLightMatrix[S]=$.matrix,F.castShadow){const Q=t.get(F);Q.shadowIntensity=$.intensity,Q.shadowBias=$.bias,Q.shadowNormalBias=$.normalBias,Q.shadowRadius=$.radius,Q.shadowMapSize=$.mapSize,i.spotShadow[S]=Q,i.spotShadowMap[S]=ee,C++}S++}else if(F.isRectAreaLight){const q=e.get(F);q.color.copy(z).multiplyScalar(V),q.halfWidth.set(F.width*.5,0,0),q.halfHeight.set(0,F.height*.5,0),i.rectArea[E]=q,E++}else if(F.isPointLight){const q=e.get(F);if(q.color.copy(F.color).multiplyScalar(F.intensity),q.distance=F.distance,q.decay=F.decay,F.castShadow){const $=F.shadow,Q=t.get(F);Q.shadowIntensity=$.intensity,Q.shadowBias=$.bias,Q.shadowNormalBias=$.normalBias,Q.shadowRadius=$.radius,Q.shadowMapSize=$.mapSize,Q.shadowCameraNear=$.camera.near,Q.shadowCameraFar=$.camera.far,i.pointShadow[_]=Q,i.pointShadowMap[_]=ee,i.pointShadowMatrix[_]=F.shadow.matrix,A++}i.point[_]=q,_++}else if(F.isHemisphereLight){const q=e.get(F);q.skyColor.copy(F.color).multiplyScalar(V),q.groundColor.copy(F.groundColor).multiplyScalar(V),i.hemi[b]=q,b++}}E>0&&(n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=It.LTC_FLOAT_1,i.rectAreaLTC2=It.LTC_FLOAT_2):(i.rectAreaLTC1=It.LTC_HALF_1,i.rectAreaLTC2=It.LTC_HALF_2)),i.ambient[0]=d,i.ambient[1]=p,i.ambient[2]=y;const L=i.hash;(L.directionalLength!==v||L.pointLength!==_||L.spotLength!==S||L.rectAreaLength!==E||L.hemiLength!==b||L.numDirectionalShadows!==w||L.numPointShadows!==A||L.numSpotShadows!==C||L.numSpotMaps!==D||L.numLightProbes!==I)&&(i.directional.length=v,i.spot.length=S,i.rectArea.length=E,i.point.length=_,i.hemi.length=b,i.directionalShadow.length=w,i.directionalShadowMap.length=w,i.pointShadow.length=A,i.pointShadowMap.length=A,i.spotShadow.length=C,i.spotShadowMap.length=C,i.directionalShadowMatrix.length=w,i.pointShadowMatrix.length=A,i.spotLightMatrix.length=C+D-N,i.spotLightMap.length=D,i.numSpotLightShadowsWithMaps=N,i.numLightProbes=I,L.directionalLength=v,L.pointLength=_,L.spotLength=S,L.rectAreaLength=E,L.hemiLength=b,L.numDirectionalShadows=w,L.numPointShadows=A,L.numSpotShadows=C,L.numSpotMaps=D,L.numLightProbes=I,i.version=Tpe++)}function l(u,d){let p=0,y=0,v=0,_=0,S=0;const E=d.matrixWorldInverse;for(let b=0,w=u.length;b<w;b++){const A=u[b];if(A.isDirectionalLight){const C=i.directional[p];C.direction.setFromMatrixPosition(A.matrixWorld),r.setFromMatrixPosition(A.target.matrixWorld),C.direction.sub(r),C.direction.transformDirection(E),p++}else if(A.isSpotLight){const C=i.spot[v];C.position.setFromMatrixPosition(A.matrixWorld),C.position.applyMatrix4(E),C.direction.setFromMatrixPosition(A.matrixWorld),r.setFromMatrixPosition(A.target.matrixWorld),C.direction.sub(r),C.direction.transformDirection(E),v++}else if(A.isRectAreaLight){const C=i.rectArea[_];C.position.setFromMatrixPosition(A.matrixWorld),C.position.applyMatrix4(E),a.identity(),s.copy(A.matrixWorld),s.premultiply(E),a.extractRotation(s),C.halfWidth.set(A.width*.5,0,0),C.halfHeight.set(0,A.height*.5,0),C.halfWidth.applyMatrix4(a),C.halfHeight.applyMatrix4(a),_++}else if(A.isPointLight){const C=i.point[y];C.position.setFromMatrixPosition(A.matrixWorld),C.position.applyMatrix4(E),y++}else if(A.isHemisphereLight){const C=i.hemi[S];C.direction.setFromMatrixPosition(A.matrixWorld),C.direction.transformDirection(E),S++}}}return{setup:o,setupView:l,state:i}}function IB(n){const e=new Cpe(n),t=[],i=[];function r(d){u.camera=d,t.length=0,i.length=0}function s(d){t.push(d)}function a(d){i.push(d)}function o(){e.setup(t)}function l(d){e.setupView(t,d)}const u={lightsArray:t,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:r,state:u,setupLights:o,setupLightsView:l,pushLight:s,pushShadow:a}}function Ape(n){let e=new WeakMap;function t(r,s=0){const a=e.get(r);let o;return a===void 0?(o=new IB(n),e.set(r,[o])):s>=a.length?(o=new IB(n),a.push(o)):o=a[s],o}function i(){e=new WeakMap}return{get:t,dispose:i}}const Mpe=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Rpe=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function Ope(n,e,t){let i=new U_;const r=new rt,s=new rt,a=new yi,o=new DL({depthPacking:gG}),l=new NL,u={},d=t.maxTextureSize,p={[sf]:Po,[Po]:sf,[_h]:_h},y=new Tu({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new rt},radius:{value:4}},vertexShader:Mpe,fragmentShader:Rpe}),v=y.clone();v.defines.HORIZONTAL_PASS=1;const _=new Nn;_.setAttribute("position",new Hi(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const S=new is(_,y),E=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=aM;let b=this.type;this.render=function(N,I,L){if(E.enabled===!1||E.autoUpdate===!1&&E.needsUpdate===!1||N.length===0)return;const P=n.getRenderTarget(),U=n.getActiveCubeFace(),F=n.getActiveMipmapLevel(),z=n.state;z.setBlending(Wd),z.buffers.color.setClear(1,1,1,1),z.buffers.depth.setTest(!0),z.setScissorTest(!1);const V=b!==mu&&this.type===mu,Y=b===mu&&this.type!==mu;for(let ee=0,q=N.length;ee<q;ee++){const $=N[ee],Q=$.shadow;if(Q===void 0){console.warn("THREE.WebGLShadowMap:",$,"has no shadow.");continue}if(Q.autoUpdate===!1&&Q.needsUpdate===!1)continue;r.copy(Q.mapSize);const se=Q.getFrameExtents();if(r.multiply(se),s.copy(Q.mapSize),(r.x>d||r.y>d)&&(r.x>d&&(s.x=Math.floor(d/se.x),r.x=s.x*se.x,Q.mapSize.x=s.x),r.y>d&&(s.y=Math.floor(d/se.y),r.y=s.y*se.y,Q.mapSize.y=s.y)),Q.map===null||V===!0||Y===!0){const K=this.type!==mu?{minFilter:wa,magFilter:wa}:{};Q.map!==null&&Q.map.dispose(),Q.map=new Eu(r.x,r.y,K),Q.map.texture.name=$.name+".shadowMap",Q.camera.updateProjectionMatrix()}n.setRenderTarget(Q.map),n.clear();const fe=Q.getViewportCount();for(let K=0;K<fe;K++){const le=Q.getViewport(K);a.set(s.x*le.x,s.y*le.y,s.x*le.z,s.y*le.w),z.viewport(a),Q.updateMatrices($,K),i=Q.getFrustum(),C(I,L,Q.camera,$,this.type)}Q.isPointLightShadow!==!0&&this.type===mu&&w(Q,L),Q.needsUpdate=!1}b=this.type,E.needsUpdate=!1,n.setRenderTarget(P,U,F)};function w(N,I){const L=e.update(S);y.defines.VSM_SAMPLES!==N.blurSamples&&(y.defines.VSM_SAMPLES=N.blurSamples,v.defines.VSM_SAMPLES=N.blurSamples,y.needsUpdate=!0,v.needsUpdate=!0),N.mapPass===null&&(N.mapPass=new Eu(r.x,r.y)),y.uniforms.shadow_pass.value=N.map.texture,y.uniforms.resolution.value=N.mapSize,y.uniforms.radius.value=N.radius,n.setRenderTarget(N.mapPass),n.clear(),n.renderBufferDirect(I,null,L,y,S,null),v.uniforms.shadow_pass.value=N.mapPass.texture,v.uniforms.resolution.value=N.mapSize,v.uniforms.radius.value=N.radius,n.setRenderTarget(N.map),n.clear(),n.renderBufferDirect(I,null,L,v,S,null)}function A(N,I,L,P){let U=null;const F=L.isPointLight===!0?N.customDistanceMaterial:N.customDepthMaterial;if(F!==void 0)U=F;else if(U=L.isPointLight===!0?l:o,n.localClippingEnabled&&I.clipShadows===!0&&Array.isArray(I.clippingPlanes)&&I.clippingPlanes.length!==0||I.displacementMap&&I.displacementScale!==0||I.alphaMap&&I.alphaTest>0||I.map&&I.alphaTest>0||I.alphaToCoverage===!0){const z=U.uuid,V=I.uuid;let Y=u[z];Y===void 0&&(Y={},u[z]=Y);let ee=Y[V];ee===void 0&&(ee=U.clone(),Y[V]=ee,I.addEventListener("dispose",D)),U=ee}if(U.visible=I.visible,U.wireframe=I.wireframe,P===mu?U.side=I.shadowSide!==null?I.shadowSide:I.side:U.side=I.shadowSide!==null?I.shadowSide:p[I.side],U.alphaMap=I.alphaMap,U.alphaTest=I.alphaToCoverage===!0?.5:I.alphaTest,U.map=I.map,U.clipShadows=I.clipShadows,U.clippingPlanes=I.clippingPlanes,U.clipIntersection=I.clipIntersection,U.displacementMap=I.displacementMap,U.displacementScale=I.displacementScale,U.displacementBias=I.displacementBias,U.wireframeLinewidth=I.wireframeLinewidth,U.linewidth=I.linewidth,L.isPointLight===!0&&U.isMeshDistanceMaterial===!0){const z=n.properties.get(U);z.light=L}return U}function C(N,I,L,P,U){if(N.visible===!1)return;if(N.layers.test(I.layers)&&(N.isMesh||N.isLine||N.isPoints)&&(N.castShadow||N.receiveShadow&&U===mu)&&(!N.frustumCulled||i.intersectsObject(N))){N.modelViewMatrix.multiplyMatrices(L.matrixWorldInverse,N.matrixWorld);const V=e.update(N),Y=N.material;if(Array.isArray(Y)){const ee=V.groups;for(let q=0,$=ee.length;q<$;q++){const Q=ee[q],se=Y[Q.materialIndex];if(se&&se.visible){const fe=A(N,se,P,U);N.onBeforeShadow(n,N,I,L,V,fe,Q),n.renderBufferDirect(L,null,V,fe,N,Q),N.onAfterShadow(n,N,I,L,V,fe,Q)}}}else if(Y.visible){const ee=A(N,Y,P,U);N.onBeforeShadow(n,N,I,L,V,ee,null),n.renderBufferDirect(L,null,V,ee,N,null),N.onAfterShadow(n,N,I,L,V,ee,null)}}const z=N.children;for(let V=0,Y=z.length;V<Y;V++)C(z[V],I,L,P,U)}function D(N){N.target.removeEventListener("dispose",D);for(const L in u){const P=u[L],U=N.target.uuid;U in P&&(P[U].dispose(),delete P[U])}}}const Ipe={[bC]:xC,[SC]:wC,[EC]:CC,[ly]:TC,[xC]:bC,[wC]:SC,[CC]:EC,[TC]:ly};function Ppe(n,e){function t(){let ve=!1;const gt=new yi;let Fe=null;const Qe=new yi(0,0,0,0);return{setMask:function(xt){Fe!==xt&&!ve&&(n.colorMask(xt,xt,xt,xt),Fe=xt)},setLocked:function(xt){ve=xt},setClear:function(xt,_t,Zt,Yn,Bt){Bt===!0&&(xt*=Yn,_t*=Yn,Zt*=Yn),gt.set(xt,_t,Zt,Yn),Qe.equals(gt)===!1&&(n.clearColor(xt,_t,Zt,Yn),Qe.copy(gt))},reset:function(){ve=!1,Fe=null,Qe.set(-1,0,0,0)}}}function i(){let ve=!1,gt=!1,Fe=null,Qe=null,xt=null;return{setReversed:function(_t){if(gt!==_t){const Zt=e.get("EXT_clip_control");_t?Zt.clipControlEXT(Zt.LOWER_LEFT_EXT,Zt.ZERO_TO_ONE_EXT):Zt.clipControlEXT(Zt.LOWER_LEFT_EXT,Zt.NEGATIVE_ONE_TO_ONE_EXT),gt=_t;const Yn=xt;xt=null,this.setClear(Yn)}},getReversed:function(){return gt},setTest:function(_t){_t?ye(n.DEPTH_TEST):Ve(n.DEPTH_TEST)},setMask:function(_t){Fe!==_t&&!ve&&(n.depthMask(_t),Fe=_t)},setFunc:function(_t){if(gt&&(_t=Ipe[_t]),Qe!==_t){switch(_t){case bC:n.depthFunc(n.NEVER);break;case xC:n.depthFunc(n.ALWAYS);break;case SC:n.depthFunc(n.LESS);break;case ly:n.depthFunc(n.LEQUAL);break;case EC:n.depthFunc(n.EQUAL);break;case TC:n.depthFunc(n.GEQUAL);break;case wC:n.depthFunc(n.GREATER);break;case CC:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}Qe=_t}},setLocked:function(_t){ve=_t},setClear:function(_t){xt!==_t&&(gt&&(_t=1-_t),n.clearDepth(_t),xt=_t)},reset:function(){ve=!1,Fe=null,Qe=null,xt=null,gt=!1}}}function r(){let ve=!1,gt=null,Fe=null,Qe=null,xt=null,_t=null,Zt=null,Yn=null,Bt=null;return{setTest:function(Qt){ve||(Qt?ye(n.STENCIL_TEST):Ve(n.STENCIL_TEST))},setMask:function(Qt){gt!==Qt&&!ve&&(n.stencilMask(Qt),gt=Qt)},setFunc:function(Qt,St,Mt){(Fe!==Qt||Qe!==St||xt!==Mt)&&(n.stencilFunc(Qt,St,Mt),Fe=Qt,Qe=St,xt=Mt)},setOp:function(Qt,St,Mt){(_t!==Qt||Zt!==St||Yn!==Mt)&&(n.stencilOp(Qt,St,Mt),_t=Qt,Zt=St,Yn=Mt)},setLocked:function(Qt){ve=Qt},setClear:function(Qt){Bt!==Qt&&(n.clearStencil(Qt),Bt=Qt)},reset:function(){ve=!1,gt=null,Fe=null,Qe=null,xt=null,_t=null,Zt=null,Yn=null,Bt=null}}}const s=new t,a=new i,o=new r,l=new WeakMap,u=new WeakMap;let d={},p={},y=new WeakMap,v=[],_=null,S=!1,E=null,b=null,w=null,A=null,C=null,D=null,N=null,I=new kt(0,0,0),L=0,P=!1,U=null,F=null,z=null,V=null,Y=null;const ee=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let q=!1,$=0;const Q=n.getParameter(n.VERSION);Q.indexOf("WebGL")!==-1?($=parseFloat(/^WebGL (\d)/.exec(Q)[1]),q=$>=1):Q.indexOf("OpenGL ES")!==-1&&($=parseFloat(/^OpenGL ES (\d)/.exec(Q)[1]),q=$>=2);let se=null,fe={};const K=n.getParameter(n.SCISSOR_BOX),le=n.getParameter(n.VIEWPORT),pe=new yi().fromArray(K),ue=new yi().fromArray(le);function ie(ve,gt,Fe,Qe){const xt=new Uint8Array(4),_t=n.createTexture();n.bindTexture(ve,_t),n.texParameteri(ve,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(ve,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Zt=0;Zt<Fe;Zt++)ve===n.TEXTURE_3D||ve===n.TEXTURE_2D_ARRAY?n.texImage3D(gt,0,n.RGBA,1,1,Qe,0,n.RGBA,n.UNSIGNED_BYTE,xt):n.texImage2D(gt+Zt,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,xt);return _t}const de={};de[n.TEXTURE_2D]=ie(n.TEXTURE_2D,n.TEXTURE_2D,1),de[n.TEXTURE_CUBE_MAP]=ie(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),de[n.TEXTURE_2D_ARRAY]=ie(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),de[n.TEXTURE_3D]=ie(n.TEXTURE_3D,n.TEXTURE_3D,1,1),s.setClear(0,0,0,1),a.setClear(1),o.setClear(0),ye(n.DEPTH_TEST),a.setFunc(ly),Be(!1),Ne(CP),ye(n.CULL_FACE),te(Wd);function ye(ve){d[ve]!==!0&&(n.enable(ve),d[ve]=!0)}function Ve(ve){d[ve]!==!1&&(n.disable(ve),d[ve]=!1)}function Xe(ve,gt){return p[ve]!==gt?(n.bindFramebuffer(ve,gt),p[ve]=gt,ve===n.DRAW_FRAMEBUFFER&&(p[n.FRAMEBUFFER]=gt),ve===n.FRAMEBUFFER&&(p[n.DRAW_FRAMEBUFFER]=gt),!0):!1}function Ge(ve,gt){let Fe=v,Qe=!1;if(ve){Fe=y.get(gt),Fe===void 0&&(Fe=[],y.set(gt,Fe));const xt=ve.textures;if(Fe.length!==xt.length||Fe[0]!==n.COLOR_ATTACHMENT0){for(let _t=0,Zt=xt.length;_t<Zt;_t++)Fe[_t]=n.COLOR_ATTACHMENT0+_t;Fe.length=xt.length,Qe=!0}}else Fe[0]!==n.BACK&&(Fe[0]=n.BACK,Qe=!0);Qe&&n.drawBuffers(Fe)}function st(ve){return _!==ve?(n.useProgram(ve),_=ve,!0):!1}const lt={[wp]:n.FUNC_ADD,[Fj]:n.FUNC_SUBTRACT,[Vj]:n.FUNC_REVERSE_SUBTRACT};lt[Hj]=n.MIN,lt[jj]=n.MAX;const mt={[Gj]:n.ZERO,[qj]:n.ONE,[Wj]:n.SRC_COLOR,[vC]:n.SRC_ALPHA,[Qj]:n.SRC_ALPHA_SATURATE,[Kj]:n.DST_COLOR,[Xj]:n.DST_ALPHA,[$j]:n.ONE_MINUS_SRC_COLOR,[_C]:n.ONE_MINUS_SRC_ALPHA,[Zj]:n.ONE_MINUS_DST_COLOR,[Yj]:n.ONE_MINUS_DST_ALPHA,[Jj]:n.CONSTANT_COLOR,[eG]:n.ONE_MINUS_CONSTANT_COLOR,[tG]:n.CONSTANT_ALPHA,[nG]:n.ONE_MINUS_CONSTANT_ALPHA};function te(ve,gt,Fe,Qe,xt,_t,Zt,Yn,Bt,Qt){if(ve===Wd){S===!0&&(Ve(n.BLEND),S=!1);return}if(S===!1&&(ye(n.BLEND),S=!0),ve!==Bj){if(ve!==E||Qt!==P){if((b!==wp||C!==wp)&&(n.blendEquation(n.FUNC_ADD),b=wp,C=wp),Qt)switch(ve){case Qg:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case AP:n.blendFunc(n.ONE,n.ONE);break;case MP:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case RP:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",ve);break}else switch(ve){case Qg:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case AP:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case MP:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case RP:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",ve);break}w=null,A=null,D=null,N=null,I.set(0,0,0),L=0,E=ve,P=Qt}return}xt=xt||gt,_t=_t||Fe,Zt=Zt||Qe,(gt!==b||xt!==C)&&(n.blendEquationSeparate(lt[gt],lt[xt]),b=gt,C=xt),(Fe!==w||Qe!==A||_t!==D||Zt!==N)&&(n.blendFuncSeparate(mt[Fe],mt[Qe],mt[_t],mt[Zt]),w=Fe,A=Qe,D=_t,N=Zt),(Yn.equals(I)===!1||Bt!==L)&&(n.blendColor(Yn.r,Yn.g,Yn.b,Bt),I.copy(Yn),L=Bt),E=ve,P=!1}function Oe(ve,gt){ve.side===_h?Ve(n.CULL_FACE):ye(n.CULL_FACE);let Fe=ve.side===Po;gt&&(Fe=!Fe),Be(Fe),ve.blending===Qg&&ve.transparent===!1?te(Wd):te(ve.blending,ve.blendEquation,ve.blendSrc,ve.blendDst,ve.blendEquationAlpha,ve.blendSrcAlpha,ve.blendDstAlpha,ve.blendColor,ve.blendAlpha,ve.premultipliedAlpha),a.setFunc(ve.depthFunc),a.setTest(ve.depthTest),a.setMask(ve.depthWrite),s.setMask(ve.colorWrite);const Qe=ve.stencilWrite;o.setTest(Qe),Qe&&(o.setMask(ve.stencilWriteMask),o.setFunc(ve.stencilFunc,ve.stencilRef,ve.stencilFuncMask),o.setOp(ve.stencilFail,ve.stencilZFail,ve.stencilZPass)),ut(ve.polygonOffset,ve.polygonOffsetFactor,ve.polygonOffsetUnits),ve.alphaToCoverage===!0?ye(n.SAMPLE_ALPHA_TO_COVERAGE):Ve(n.SAMPLE_ALPHA_TO_COVERAGE)}function Be(ve){U!==ve&&(ve?n.frontFace(n.CW):n.frontFace(n.CCW),U=ve)}function Ne(ve){ve!==Uj?(ye(n.CULL_FACE),ve!==F&&(ve===CP?n.cullFace(n.BACK):ve===kj?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):Ve(n.CULL_FACE),F=ve}function Me(ve){ve!==z&&(q&&n.lineWidth(ve),z=ve)}function ut(ve,gt,Fe){ve?(ye(n.POLYGON_OFFSET_FILL),(V!==gt||Y!==Fe)&&(n.polygonOffset(gt,Fe),V=gt,Y=Fe)):Ve(n.POLYGON_OFFSET_FILL)}function qe(ve){ve?ye(n.SCISSOR_TEST):Ve(n.SCISSOR_TEST)}function ae(ve){ve===void 0&&(ve=n.TEXTURE0+ee-1),se!==ve&&(n.activeTexture(ve),se=ve)}function J(ve,gt,Fe){Fe===void 0&&(se===null?Fe=n.TEXTURE0+ee-1:Fe=se);let Qe=fe[Fe];Qe===void 0&&(Qe={type:void 0,texture:void 0},fe[Fe]=Qe),(Qe.type!==ve||Qe.texture!==gt)&&(se!==Fe&&(n.activeTexture(Fe),se=Fe),n.bindTexture(ve,gt||de[ve]),Qe.type=ve,Qe.texture=gt)}function Se(){const ve=fe[se];ve!==void 0&&ve.type!==void 0&&(n.bindTexture(ve.type,null),ve.type=void 0,ve.texture=void 0)}function Ae(){try{n.compressedTexImage2D(...arguments)}catch(ve){console.error("THREE.WebGLState:",ve)}}function Ze(){try{n.compressedTexImage3D(...arguments)}catch(ve){console.error("THREE.WebGLState:",ve)}}function Re(){try{n.texSubImage2D(...arguments)}catch(ve){console.error("THREE.WebGLState:",ve)}}function ct(){try{n.texSubImage3D(...arguments)}catch(ve){console.error("THREE.WebGLState:",ve)}}function ht(){try{n.compressedTexSubImage2D(...arguments)}catch(ve){console.error("THREE.WebGLState:",ve)}}function Dt(){try{n.compressedTexSubImage3D(...arguments)}catch(ve){console.error("THREE.WebGLState:",ve)}}function zt(){try{n.texStorage2D(...arguments)}catch(ve){console.error("THREE.WebGLState:",ve)}}function $e(){try{n.texStorage3D(...arguments)}catch(ve){console.error("THREE.WebGLState:",ve)}}function pt(){try{n.texImage2D(...arguments)}catch(ve){console.error("THREE.WebGLState:",ve)}}function wt(){try{n.texImage3D(...arguments)}catch(ve){console.error("THREE.WebGLState:",ve)}}function At(ve){pe.equals(ve)===!1&&(n.scissor(ve.x,ve.y,ve.z,ve.w),pe.copy(ve))}function vt(ve){ue.equals(ve)===!1&&(n.viewport(ve.x,ve.y,ve.z,ve.w),ue.copy(ve))}function jt(ve,gt){let Fe=u.get(gt);Fe===void 0&&(Fe=new WeakMap,u.set(gt,Fe));let Qe=Fe.get(ve);Qe===void 0&&(Qe=n.getUniformBlockIndex(gt,ve.name),Fe.set(ve,Qe))}function ot(ve,gt){const Qe=u.get(gt).get(ve);l.get(gt)!==Qe&&(n.uniformBlockBinding(gt,Qe,ve.__bindingPointIndex),l.set(gt,Qe))}function Lt(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),a.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),d={},se=null,fe={},p={},y=new WeakMap,v=[],_=null,S=!1,E=null,b=null,w=null,A=null,C=null,D=null,N=null,I=new kt(0,0,0),L=0,P=!1,U=null,F=null,z=null,V=null,Y=null,pe.set(0,0,n.canvas.width,n.canvas.height),ue.set(0,0,n.canvas.width,n.canvas.height),s.reset(),a.reset(),o.reset()}return{buffers:{color:s,depth:a,stencil:o},enable:ye,disable:Ve,bindFramebuffer:Xe,drawBuffers:Ge,useProgram:st,setBlending:te,setMaterial:Oe,setFlipSided:Be,setCullFace:Ne,setLineWidth:Me,setPolygonOffset:ut,setScissorTest:qe,activeTexture:ae,bindTexture:J,unbindTexture:Se,compressedTexImage2D:Ae,compressedTexImage3D:Ze,texImage2D:pt,texImage3D:wt,updateUBOMapping:jt,uniformBlockBinding:ot,texStorage2D:zt,texStorage3D:$e,texSubImage2D:Re,texSubImage3D:ct,compressedTexSubImage2D:ht,compressedTexSubImage3D:Dt,scissor:At,viewport:vt,reset:Lt}}function Dpe(n,e,t,i,r,s,a){const o=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),u=new rt,d=new WeakMap;let p;const y=new WeakMap;let v=!1;try{v=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function _(ae,J){return v?new OffscreenCanvas(ae,J):lS("canvas")}function S(ae,J,Se){let Ae=1;const Ze=qe(ae);if((Ze.width>Se||Ze.height>Se)&&(Ae=Se/Math.max(Ze.width,Ze.height)),Ae<1)if(typeof HTMLImageElement<"u"&&ae instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&ae instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&ae instanceof ImageBitmap||typeof VideoFrame<"u"&&ae instanceof VideoFrame){const Re=Math.floor(Ae*Ze.width),ct=Math.floor(Ae*Ze.height);p===void 0&&(p=_(Re,ct));const ht=J?_(Re,ct):p;return ht.width=Re,ht.height=ct,ht.getContext("2d").drawImage(ae,0,0,Re,ct),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Ze.width+"x"+Ze.height+") to ("+Re+"x"+ct+")."),ht}else return"data"in ae&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Ze.width+"x"+Ze.height+")."),ae;return ae}function E(ae){return ae.generateMipmaps}function b(ae){n.generateMipmap(ae)}function w(ae){return ae.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:ae.isWebGL3DRenderTarget?n.TEXTURE_3D:ae.isWebGLArrayRenderTarget||ae.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function A(ae,J,Se,Ae,Ze=!1){if(ae!==null){if(n[ae]!==void 0)return n[ae];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+ae+"'")}let Re=J;if(J===n.RED&&(Se===n.FLOAT&&(Re=n.R32F),Se===n.HALF_FLOAT&&(Re=n.R16F),Se===n.UNSIGNED_BYTE&&(Re=n.R8)),J===n.RED_INTEGER&&(Se===n.UNSIGNED_BYTE&&(Re=n.R8UI),Se===n.UNSIGNED_SHORT&&(Re=n.R16UI),Se===n.UNSIGNED_INT&&(Re=n.R32UI),Se===n.BYTE&&(Re=n.R8I),Se===n.SHORT&&(Re=n.R16I),Se===n.INT&&(Re=n.R32I)),J===n.RG&&(Se===n.FLOAT&&(Re=n.RG32F),Se===n.HALF_FLOAT&&(Re=n.RG16F),Se===n.UNSIGNED_BYTE&&(Re=n.RG8)),J===n.RG_INTEGER&&(Se===n.UNSIGNED_BYTE&&(Re=n.RG8UI),Se===n.UNSIGNED_SHORT&&(Re=n.RG16UI),Se===n.UNSIGNED_INT&&(Re=n.RG32UI),Se===n.BYTE&&(Re=n.RG8I),Se===n.SHORT&&(Re=n.RG16I),Se===n.INT&&(Re=n.RG32I)),J===n.RGB_INTEGER&&(Se===n.UNSIGNED_BYTE&&(Re=n.RGB8UI),Se===n.UNSIGNED_SHORT&&(Re=n.RGB16UI),Se===n.UNSIGNED_INT&&(Re=n.RGB32UI),Se===n.BYTE&&(Re=n.RGB8I),Se===n.SHORT&&(Re=n.RGB16I),Se===n.INT&&(Re=n.RGB32I)),J===n.RGBA_INTEGER&&(Se===n.UNSIGNED_BYTE&&(Re=n.RGBA8UI),Se===n.UNSIGNED_SHORT&&(Re=n.RGBA16UI),Se===n.UNSIGNED_INT&&(Re=n.RGBA32UI),Se===n.BYTE&&(Re=n.RGBA8I),Se===n.SHORT&&(Re=n.RGBA16I),Se===n.INT&&(Re=n.RGBA32I)),J===n.RGB&&Se===n.UNSIGNED_INT_5_9_9_9_REV&&(Re=n.RGB9_E5),J===n.RGBA){const ct=Ze?sS:di.getTransfer(Ae);Se===n.FLOAT&&(Re=n.RGBA32F),Se===n.HALF_FLOAT&&(Re=n.RGBA16F),Se===n.UNSIGNED_BYTE&&(Re=ct===Vi?n.SRGB8_ALPHA8:n.RGBA8),Se===n.UNSIGNED_SHORT_4_4_4_4&&(Re=n.RGBA4),Se===n.UNSIGNED_SHORT_5_5_5_1&&(Re=n.RGB5_A1)}return(Re===n.R16F||Re===n.R32F||Re===n.RG16F||Re===n.RG32F||Re===n.RGBA16F||Re===n.RGBA32F)&&e.get("EXT_color_buffer_float"),Re}function C(ae,J){let Se;return ae?J===null||J===of||J===i_?Se=n.DEPTH24_STENCIL8:J===Io?Se=n.DEPTH32F_STENCIL8:J===n_&&(Se=n.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):J===null||J===of||J===i_?Se=n.DEPTH_COMPONENT24:J===Io?Se=n.DEPTH_COMPONENT32F:J===n_&&(Se=n.DEPTH_COMPONENT16),Se}function D(ae,J){return E(ae)===!0||ae.isFramebufferTexture&&ae.minFilter!==wa&&ae.minFilter!==ps?Math.log2(Math.max(J.width,J.height))+1:ae.mipmaps!==void 0&&ae.mipmaps.length>0?ae.mipmaps.length:ae.isCompressedTexture&&Array.isArray(ae.image)?J.mipmaps.length:1}function N(ae){const J=ae.target;J.removeEventListener("dispose",N),L(J),J.isVideoTexture&&d.delete(J)}function I(ae){const J=ae.target;J.removeEventListener("dispose",I),U(J)}function L(ae){const J=i.get(ae);if(J.__webglInit===void 0)return;const Se=ae.source,Ae=y.get(Se);if(Ae){const Ze=Ae[J.__cacheKey];Ze.usedTimes--,Ze.usedTimes===0&&P(ae),Object.keys(Ae).length===0&&y.delete(Se)}i.remove(ae)}function P(ae){const J=i.get(ae);n.deleteTexture(J.__webglTexture);const Se=ae.source,Ae=y.get(Se);delete Ae[J.__cacheKey],a.memory.textures--}function U(ae){const J=i.get(ae);if(ae.depthTexture&&(ae.depthTexture.dispose(),i.remove(ae.depthTexture)),ae.isWebGLCubeRenderTarget)for(let Ae=0;Ae<6;Ae++){if(Array.isArray(J.__webglFramebuffer[Ae]))for(let Ze=0;Ze<J.__webglFramebuffer[Ae].length;Ze++)n.deleteFramebuffer(J.__webglFramebuffer[Ae][Ze]);else n.deleteFramebuffer(J.__webglFramebuffer[Ae]);J.__webglDepthbuffer&&n.deleteRenderbuffer(J.__webglDepthbuffer[Ae])}else{if(Array.isArray(J.__webglFramebuffer))for(let Ae=0;Ae<J.__webglFramebuffer.length;Ae++)n.deleteFramebuffer(J.__webglFramebuffer[Ae]);else n.deleteFramebuffer(J.__webglFramebuffer);if(J.__webglDepthbuffer&&n.deleteRenderbuffer(J.__webglDepthbuffer),J.__webglMultisampledFramebuffer&&n.deleteFramebuffer(J.__webglMultisampledFramebuffer),J.__webglColorRenderbuffer)for(let Ae=0;Ae<J.__webglColorRenderbuffer.length;Ae++)J.__webglColorRenderbuffer[Ae]&&n.deleteRenderbuffer(J.__webglColorRenderbuffer[Ae]);J.__webglDepthRenderbuffer&&n.deleteRenderbuffer(J.__webglDepthRenderbuffer)}const Se=ae.textures;for(let Ae=0,Ze=Se.length;Ae<Ze;Ae++){const Re=i.get(Se[Ae]);Re.__webglTexture&&(n.deleteTexture(Re.__webglTexture),a.memory.textures--),i.remove(Se[Ae])}i.remove(ae)}let F=0;function z(){F=0}function V(){const ae=F;return ae>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+ae+" texture units while this GPU supports only "+r.maxTextures),F+=1,ae}function Y(ae){const J=[];return J.push(ae.wrapS),J.push(ae.wrapT),J.push(ae.wrapR||0),J.push(ae.magFilter),J.push(ae.minFilter),J.push(ae.anisotropy),J.push(ae.internalFormat),J.push(ae.format),J.push(ae.type),J.push(ae.generateMipmaps),J.push(ae.premultiplyAlpha),J.push(ae.flipY),J.push(ae.unpackAlignment),J.push(ae.colorSpace),J.join()}function ee(ae,J){const Se=i.get(ae);if(ae.isVideoTexture&&Me(ae),ae.isRenderTargetTexture===!1&&ae.version>0&&Se.__version!==ae.version){const Ae=ae.image;if(Ae===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Ae.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ue(Se,ae,J);return}}t.bindTexture(n.TEXTURE_2D,Se.__webglTexture,n.TEXTURE0+J)}function q(ae,J){const Se=i.get(ae);if(ae.version>0&&Se.__version!==ae.version){ue(Se,ae,J);return}t.bindTexture(n.TEXTURE_2D_ARRAY,Se.__webglTexture,n.TEXTURE0+J)}function $(ae,J){const Se=i.get(ae);if(ae.version>0&&Se.__version!==ae.version){ue(Se,ae,J);return}t.bindTexture(n.TEXTURE_3D,Se.__webglTexture,n.TEXTURE0+J)}function Q(ae,J){const Se=i.get(ae);if(ae.version>0&&Se.__version!==ae.version){ie(Se,ae,J);return}t.bindTexture(n.TEXTURE_CUBE_MAP,Se.__webglTexture,n.TEXTURE0+J)}const se={[tS]:n.REPEAT,[Mc]:n.CLAMP_TO_EDGE,[nS]:n.MIRRORED_REPEAT},fe={[wa]:n.NEAREST,[cL]:n.NEAREST_MIPMAP_NEAREST,[S0]:n.NEAREST_MIPMAP_LINEAR,[ps]:n.LINEAR,[vx]:n.LINEAR_MIPMAP_NEAREST,[Sh]:n.LINEAR_MIPMAP_LINEAR},K={[vG]:n.NEVER,[TG]:n.ALWAYS,[_G]:n.LESS,[vL]:n.LEQUAL,[bG]:n.EQUAL,[EG]:n.GEQUAL,[xG]:n.GREATER,[SG]:n.NOTEQUAL};function le(ae,J){if(J.type===Io&&e.has("OES_texture_float_linear")===!1&&(J.magFilter===ps||J.magFilter===vx||J.magFilter===S0||J.magFilter===Sh||J.minFilter===ps||J.minFilter===vx||J.minFilter===S0||J.minFilter===Sh)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(ae,n.TEXTURE_WRAP_S,se[J.wrapS]),n.texParameteri(ae,n.TEXTURE_WRAP_T,se[J.wrapT]),(ae===n.TEXTURE_3D||ae===n.TEXTURE_2D_ARRAY)&&n.texParameteri(ae,n.TEXTURE_WRAP_R,se[J.wrapR]),n.texParameteri(ae,n.TEXTURE_MAG_FILTER,fe[J.magFilter]),n.texParameteri(ae,n.TEXTURE_MIN_FILTER,fe[J.minFilter]),J.compareFunction&&(n.texParameteri(ae,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(ae,n.TEXTURE_COMPARE_FUNC,K[J.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(J.magFilter===wa||J.minFilter!==S0&&J.minFilter!==Sh||J.type===Io&&e.has("OES_texture_float_linear")===!1)return;if(J.anisotropy>1||i.get(J).__currentAnisotropy){const Se=e.get("EXT_texture_filter_anisotropic");n.texParameterf(ae,Se.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(J.anisotropy,r.getMaxAnisotropy())),i.get(J).__currentAnisotropy=J.anisotropy}}}function pe(ae,J){let Se=!1;ae.__webglInit===void 0&&(ae.__webglInit=!0,J.addEventListener("dispose",N));const Ae=J.source;let Ze=y.get(Ae);Ze===void 0&&(Ze={},y.set(Ae,Ze));const Re=Y(J);if(Re!==ae.__cacheKey){Ze[Re]===void 0&&(Ze[Re]={texture:n.createTexture(),usedTimes:0},a.memory.textures++,Se=!0),Ze[Re].usedTimes++;const ct=Ze[ae.__cacheKey];ct!==void 0&&(Ze[ae.__cacheKey].usedTimes--,ct.usedTimes===0&&P(J)),ae.__cacheKey=Re,ae.__webglTexture=Ze[Re].texture}return Se}function ue(ae,J,Se){let Ae=n.TEXTURE_2D;(J.isDataArrayTexture||J.isCompressedArrayTexture)&&(Ae=n.TEXTURE_2D_ARRAY),J.isData3DTexture&&(Ae=n.TEXTURE_3D);const Ze=pe(ae,J),Re=J.source;t.bindTexture(Ae,ae.__webglTexture,n.TEXTURE0+Se);const ct=i.get(Re);if(Re.version!==ct.__version||Ze===!0){t.activeTexture(n.TEXTURE0+Se);const ht=di.getPrimaries(di.workingColorSpace),Dt=J.colorSpace===kd?null:di.getPrimaries(J.colorSpace),zt=J.colorSpace===kd||ht===Dt?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,J.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,J.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,J.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,zt);let $e=S(J.image,!1,r.maxTextureSize);$e=ut(J,$e);const pt=s.convert(J.format,J.colorSpace),wt=s.convert(J.type);let At=A(J.internalFormat,pt,wt,J.colorSpace,J.isVideoTexture);le(Ae,J);let vt;const jt=J.mipmaps,ot=J.isVideoTexture!==!0,Lt=ct.__version===void 0||Ze===!0,ve=Re.dataReady,gt=D(J,$e);if(J.isDepthTexture)At=C(J.format===s_,J.type),Lt&&(ot?t.texStorage2D(n.TEXTURE_2D,1,At,$e.width,$e.height):t.texImage2D(n.TEXTURE_2D,0,At,$e.width,$e.height,0,pt,wt,null));else if(J.isDataTexture)if(jt.length>0){ot&&Lt&&t.texStorage2D(n.TEXTURE_2D,gt,At,jt[0].width,jt[0].height);for(let Fe=0,Qe=jt.length;Fe<Qe;Fe++)vt=jt[Fe],ot?ve&&t.texSubImage2D(n.TEXTURE_2D,Fe,0,0,vt.width,vt.height,pt,wt,vt.data):t.texImage2D(n.TEXTURE_2D,Fe,At,vt.width,vt.height,0,pt,wt,vt.data);J.generateMipmaps=!1}else ot?(Lt&&t.texStorage2D(n.TEXTURE_2D,gt,At,$e.width,$e.height),ve&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,$e.width,$e.height,pt,wt,$e.data)):t.texImage2D(n.TEXTURE_2D,0,At,$e.width,$e.height,0,pt,wt,$e.data);else if(J.isCompressedTexture)if(J.isCompressedArrayTexture){ot&&Lt&&t.texStorage3D(n.TEXTURE_2D_ARRAY,gt,At,jt[0].width,jt[0].height,$e.depth);for(let Fe=0,Qe=jt.length;Fe<Qe;Fe++)if(vt=jt[Fe],J.format!==Ja)if(pt!==null)if(ot){if(ve)if(J.layerUpdates.size>0){const xt=BP(vt.width,vt.height,J.format,J.type);for(const _t of J.layerUpdates){const Zt=vt.data.subarray(_t*xt/vt.data.BYTES_PER_ELEMENT,(_t+1)*xt/vt.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Fe,0,0,_t,vt.width,vt.height,1,pt,Zt)}J.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Fe,0,0,0,vt.width,vt.height,$e.depth,pt,vt.data)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,Fe,At,vt.width,vt.height,$e.depth,0,vt.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else ot?ve&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,Fe,0,0,0,vt.width,vt.height,$e.depth,pt,wt,vt.data):t.texImage3D(n.TEXTURE_2D_ARRAY,Fe,At,vt.width,vt.height,$e.depth,0,pt,wt,vt.data)}else{ot&&Lt&&t.texStorage2D(n.TEXTURE_2D,gt,At,jt[0].width,jt[0].height);for(let Fe=0,Qe=jt.length;Fe<Qe;Fe++)vt=jt[Fe],J.format!==Ja?pt!==null?ot?ve&&t.compressedTexSubImage2D(n.TEXTURE_2D,Fe,0,0,vt.width,vt.height,pt,vt.data):t.compressedTexImage2D(n.TEXTURE_2D,Fe,At,vt.width,vt.height,0,vt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ot?ve&&t.texSubImage2D(n.TEXTURE_2D,Fe,0,0,vt.width,vt.height,pt,wt,vt.data):t.texImage2D(n.TEXTURE_2D,Fe,At,vt.width,vt.height,0,pt,wt,vt.data)}else if(J.isDataArrayTexture)if(ot){if(Lt&&t.texStorage3D(n.TEXTURE_2D_ARRAY,gt,At,$e.width,$e.height,$e.depth),ve)if(J.layerUpdates.size>0){const Fe=BP($e.width,$e.height,J.format,J.type);for(const Qe of J.layerUpdates){const xt=$e.data.subarray(Qe*Fe/$e.data.BYTES_PER_ELEMENT,(Qe+1)*Fe/$e.data.BYTES_PER_ELEMENT);t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,Qe,$e.width,$e.height,1,pt,wt,xt)}J.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,$e.width,$e.height,$e.depth,pt,wt,$e.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,At,$e.width,$e.height,$e.depth,0,pt,wt,$e.data);else if(J.isData3DTexture)ot?(Lt&&t.texStorage3D(n.TEXTURE_3D,gt,At,$e.width,$e.height,$e.depth),ve&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,$e.width,$e.height,$e.depth,pt,wt,$e.data)):t.texImage3D(n.TEXTURE_3D,0,At,$e.width,$e.height,$e.depth,0,pt,wt,$e.data);else if(J.isFramebufferTexture){if(Lt)if(ot)t.texStorage2D(n.TEXTURE_2D,gt,At,$e.width,$e.height);else{let Fe=$e.width,Qe=$e.height;for(let xt=0;xt<gt;xt++)t.texImage2D(n.TEXTURE_2D,xt,At,Fe,Qe,0,pt,wt,null),Fe>>=1,Qe>>=1}}else if(jt.length>0){if(ot&&Lt){const Fe=qe(jt[0]);t.texStorage2D(n.TEXTURE_2D,gt,At,Fe.width,Fe.height)}for(let Fe=0,Qe=jt.length;Fe<Qe;Fe++)vt=jt[Fe],ot?ve&&t.texSubImage2D(n.TEXTURE_2D,Fe,0,0,pt,wt,vt):t.texImage2D(n.TEXTURE_2D,Fe,At,pt,wt,vt);J.generateMipmaps=!1}else if(ot){if(Lt){const Fe=qe($e);t.texStorage2D(n.TEXTURE_2D,gt,At,Fe.width,Fe.height)}ve&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,pt,wt,$e)}else t.texImage2D(n.TEXTURE_2D,0,At,pt,wt,$e);E(J)&&b(Ae),ct.__version=Re.version,J.onUpdate&&J.onUpdate(J)}ae.__version=J.version}function ie(ae,J,Se){if(J.image.length!==6)return;const Ae=pe(ae,J),Ze=J.source;t.bindTexture(n.TEXTURE_CUBE_MAP,ae.__webglTexture,n.TEXTURE0+Se);const Re=i.get(Ze);if(Ze.version!==Re.__version||Ae===!0){t.activeTexture(n.TEXTURE0+Se);const ct=di.getPrimaries(di.workingColorSpace),ht=J.colorSpace===kd?null:di.getPrimaries(J.colorSpace),Dt=J.colorSpace===kd||ct===ht?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,J.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,J.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,J.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Dt);const zt=J.isCompressedTexture||J.image[0].isCompressedTexture,$e=J.image[0]&&J.image[0].isDataTexture,pt=[];for(let Qe=0;Qe<6;Qe++)!zt&&!$e?pt[Qe]=S(J.image[Qe],!0,r.maxCubemapSize):pt[Qe]=$e?J.image[Qe].image:J.image[Qe],pt[Qe]=ut(J,pt[Qe]);const wt=pt[0],At=s.convert(J.format,J.colorSpace),vt=s.convert(J.type),jt=A(J.internalFormat,At,vt,J.colorSpace),ot=J.isVideoTexture!==!0,Lt=Re.__version===void 0||Ae===!0,ve=Ze.dataReady;let gt=D(J,wt);le(n.TEXTURE_CUBE_MAP,J);let Fe;if(zt){ot&&Lt&&t.texStorage2D(n.TEXTURE_CUBE_MAP,gt,jt,wt.width,wt.height);for(let Qe=0;Qe<6;Qe++){Fe=pt[Qe].mipmaps;for(let xt=0;xt<Fe.length;xt++){const _t=Fe[xt];J.format!==Ja?At!==null?ot?ve&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,xt,0,0,_t.width,_t.height,At,_t.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,xt,jt,_t.width,_t.height,0,_t.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ot?ve&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,xt,0,0,_t.width,_t.height,At,vt,_t.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,xt,jt,_t.width,_t.height,0,At,vt,_t.data)}}}else{if(Fe=J.mipmaps,ot&&Lt){Fe.length>0&&gt++;const Qe=qe(pt[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,gt,jt,Qe.width,Qe.height)}for(let Qe=0;Qe<6;Qe++)if($e){ot?ve&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,0,0,0,pt[Qe].width,pt[Qe].height,At,vt,pt[Qe].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,0,jt,pt[Qe].width,pt[Qe].height,0,At,vt,pt[Qe].data);for(let xt=0;xt<Fe.length;xt++){const Zt=Fe[xt].image[Qe].image;ot?ve&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,xt+1,0,0,Zt.width,Zt.height,At,vt,Zt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,xt+1,jt,Zt.width,Zt.height,0,At,vt,Zt.data)}}else{ot?ve&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,0,0,0,At,vt,pt[Qe]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,0,jt,At,vt,pt[Qe]);for(let xt=0;xt<Fe.length;xt++){const _t=Fe[xt];ot?ve&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,xt+1,0,0,At,vt,_t.image[Qe]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,xt+1,jt,At,vt,_t.image[Qe])}}}E(J)&&b(n.TEXTURE_CUBE_MAP),Re.__version=Ze.version,J.onUpdate&&J.onUpdate(J)}ae.__version=J.version}function de(ae,J,Se,Ae,Ze,Re){const ct=s.convert(Se.format,Se.colorSpace),ht=s.convert(Se.type),Dt=A(Se.internalFormat,ct,ht,Se.colorSpace),zt=i.get(J),$e=i.get(Se);if($e.__renderTarget=J,!zt.__hasExternalTextures){const pt=Math.max(1,J.width>>Re),wt=Math.max(1,J.height>>Re);Ze===n.TEXTURE_3D||Ze===n.TEXTURE_2D_ARRAY?t.texImage3D(Ze,Re,Dt,pt,wt,J.depth,0,ct,ht,null):t.texImage2D(Ze,Re,Dt,pt,wt,0,ct,ht,null)}t.bindFramebuffer(n.FRAMEBUFFER,ae),Ne(J)?o.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Ae,Ze,$e.__webglTexture,0,Be(J)):(Ze===n.TEXTURE_2D||Ze>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&Ze<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Ae,Ze,$e.__webglTexture,Re),t.bindFramebuffer(n.FRAMEBUFFER,null)}function ye(ae,J,Se){if(n.bindRenderbuffer(n.RENDERBUFFER,ae),J.depthBuffer){const Ae=J.depthTexture,Ze=Ae&&Ae.isDepthTexture?Ae.type:null,Re=C(J.stencilBuffer,Ze),ct=J.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,ht=Be(J);Ne(J)?o.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,ht,Re,J.width,J.height):Se?n.renderbufferStorageMultisample(n.RENDERBUFFER,ht,Re,J.width,J.height):n.renderbufferStorage(n.RENDERBUFFER,Re,J.width,J.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,ct,n.RENDERBUFFER,ae)}else{const Ae=J.textures;for(let Ze=0;Ze<Ae.length;Ze++){const Re=Ae[Ze],ct=s.convert(Re.format,Re.colorSpace),ht=s.convert(Re.type),Dt=A(Re.internalFormat,ct,ht,Re.colorSpace),zt=Be(J);Se&&Ne(J)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,zt,Dt,J.width,J.height):Ne(J)?o.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,zt,Dt,J.width,J.height):n.renderbufferStorage(n.RENDERBUFFER,Dt,J.width,J.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function Ve(ae,J){if(J&&J.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,ae),!(J.depthTexture&&J.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Ae=i.get(J.depthTexture);Ae.__renderTarget=J,(!Ae.__webglTexture||J.depthTexture.image.width!==J.width||J.depthTexture.image.height!==J.height)&&(J.depthTexture.image.width=J.width,J.depthTexture.image.height=J.height,J.depthTexture.needsUpdate=!0),ee(J.depthTexture,0);const Ze=Ae.__webglTexture,Re=Be(J);if(J.depthTexture.format===r_)Ne(J)?o.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Ze,0,Re):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Ze,0);else if(J.depthTexture.format===s_)Ne(J)?o.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Ze,0,Re):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Ze,0);else throw new Error("Unknown depthTexture format")}function Xe(ae){const J=i.get(ae),Se=ae.isWebGLCubeRenderTarget===!0;if(J.__boundDepthTexture!==ae.depthTexture){const Ae=ae.depthTexture;if(J.__depthDisposeCallback&&J.__depthDisposeCallback(),Ae){const Ze=()=>{delete J.__boundDepthTexture,delete J.__depthDisposeCallback,Ae.removeEventListener("dispose",Ze)};Ae.addEventListener("dispose",Ze),J.__depthDisposeCallback=Ze}J.__boundDepthTexture=Ae}if(ae.depthTexture&&!J.__autoAllocateDepthBuffer){if(Se)throw new Error("target.depthTexture not supported in Cube render targets");const Ae=ae.texture.mipmaps;Ae&&Ae.length>0?Ve(J.__webglFramebuffer[0],ae):Ve(J.__webglFramebuffer,ae)}else if(Se){J.__webglDepthbuffer=[];for(let Ae=0;Ae<6;Ae++)if(t.bindFramebuffer(n.FRAMEBUFFER,J.__webglFramebuffer[Ae]),J.__webglDepthbuffer[Ae]===void 0)J.__webglDepthbuffer[Ae]=n.createRenderbuffer(),ye(J.__webglDepthbuffer[Ae],ae,!1);else{const Ze=ae.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Re=J.__webglDepthbuffer[Ae];n.bindRenderbuffer(n.RENDERBUFFER,Re),n.framebufferRenderbuffer(n.FRAMEBUFFER,Ze,n.RENDERBUFFER,Re)}}else{const Ae=ae.texture.mipmaps;if(Ae&&Ae.length>0?t.bindFramebuffer(n.FRAMEBUFFER,J.__webglFramebuffer[0]):t.bindFramebuffer(n.FRAMEBUFFER,J.__webglFramebuffer),J.__webglDepthbuffer===void 0)J.__webglDepthbuffer=n.createRenderbuffer(),ye(J.__webglDepthbuffer,ae,!1);else{const Ze=ae.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Re=J.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,Re),n.framebufferRenderbuffer(n.FRAMEBUFFER,Ze,n.RENDERBUFFER,Re)}}t.bindFramebuffer(n.FRAMEBUFFER,null)}function Ge(ae,J,Se){const Ae=i.get(ae);J!==void 0&&de(Ae.__webglFramebuffer,ae,ae.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),Se!==void 0&&Xe(ae)}function st(ae){const J=ae.texture,Se=i.get(ae),Ae=i.get(J);ae.addEventListener("dispose",I);const Ze=ae.textures,Re=ae.isWebGLCubeRenderTarget===!0,ct=Ze.length>1;if(ct||(Ae.__webglTexture===void 0&&(Ae.__webglTexture=n.createTexture()),Ae.__version=J.version,a.memory.textures++),Re){Se.__webglFramebuffer=[];for(let ht=0;ht<6;ht++)if(J.mipmaps&&J.mipmaps.length>0){Se.__webglFramebuffer[ht]=[];for(let Dt=0;Dt<J.mipmaps.length;Dt++)Se.__webglFramebuffer[ht][Dt]=n.createFramebuffer()}else Se.__webglFramebuffer[ht]=n.createFramebuffer()}else{if(J.mipmaps&&J.mipmaps.length>0){Se.__webglFramebuffer=[];for(let ht=0;ht<J.mipmaps.length;ht++)Se.__webglFramebuffer[ht]=n.createFramebuffer()}else Se.__webglFramebuffer=n.createFramebuffer();if(ct)for(let ht=0,Dt=Ze.length;ht<Dt;ht++){const zt=i.get(Ze[ht]);zt.__webglTexture===void 0&&(zt.__webglTexture=n.createTexture(),a.memory.textures++)}if(ae.samples>0&&Ne(ae)===!1){Se.__webglMultisampledFramebuffer=n.createFramebuffer(),Se.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,Se.__webglMultisampledFramebuffer);for(let ht=0;ht<Ze.length;ht++){const Dt=Ze[ht];Se.__webglColorRenderbuffer[ht]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,Se.__webglColorRenderbuffer[ht]);const zt=s.convert(Dt.format,Dt.colorSpace),$e=s.convert(Dt.type),pt=A(Dt.internalFormat,zt,$e,Dt.colorSpace,ae.isXRRenderTarget===!0),wt=Be(ae);n.renderbufferStorageMultisample(n.RENDERBUFFER,wt,pt,ae.width,ae.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+ht,n.RENDERBUFFER,Se.__webglColorRenderbuffer[ht])}n.bindRenderbuffer(n.RENDERBUFFER,null),ae.depthBuffer&&(Se.__webglDepthRenderbuffer=n.createRenderbuffer(),ye(Se.__webglDepthRenderbuffer,ae,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(Re){t.bindTexture(n.TEXTURE_CUBE_MAP,Ae.__webglTexture),le(n.TEXTURE_CUBE_MAP,J);for(let ht=0;ht<6;ht++)if(J.mipmaps&&J.mipmaps.length>0)for(let Dt=0;Dt<J.mipmaps.length;Dt++)de(Se.__webglFramebuffer[ht][Dt],ae,J,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+ht,Dt);else de(Se.__webglFramebuffer[ht],ae,J,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+ht,0);E(J)&&b(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(ct){for(let ht=0,Dt=Ze.length;ht<Dt;ht++){const zt=Ze[ht],$e=i.get(zt);t.bindTexture(n.TEXTURE_2D,$e.__webglTexture),le(n.TEXTURE_2D,zt),de(Se.__webglFramebuffer,ae,zt,n.COLOR_ATTACHMENT0+ht,n.TEXTURE_2D,0),E(zt)&&b(n.TEXTURE_2D)}t.unbindTexture()}else{let ht=n.TEXTURE_2D;if((ae.isWebGL3DRenderTarget||ae.isWebGLArrayRenderTarget)&&(ht=ae.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(ht,Ae.__webglTexture),le(ht,J),J.mipmaps&&J.mipmaps.length>0)for(let Dt=0;Dt<J.mipmaps.length;Dt++)de(Se.__webglFramebuffer[Dt],ae,J,n.COLOR_ATTACHMENT0,ht,Dt);else de(Se.__webglFramebuffer,ae,J,n.COLOR_ATTACHMENT0,ht,0);E(J)&&b(ht),t.unbindTexture()}ae.depthBuffer&&Xe(ae)}function lt(ae){const J=ae.textures;for(let Se=0,Ae=J.length;Se<Ae;Se++){const Ze=J[Se];if(E(Ze)){const Re=w(ae),ct=i.get(Ze).__webglTexture;t.bindTexture(Re,ct),b(Re),t.unbindTexture()}}}const mt=[],te=[];function Oe(ae){if(ae.samples>0){if(Ne(ae)===!1){const J=ae.textures,Se=ae.width,Ae=ae.height;let Ze=n.COLOR_BUFFER_BIT;const Re=ae.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,ct=i.get(ae),ht=J.length>1;if(ht)for(let zt=0;zt<J.length;zt++)t.bindFramebuffer(n.FRAMEBUFFER,ct.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+zt,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,ct.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+zt,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,ct.__webglMultisampledFramebuffer);const Dt=ae.texture.mipmaps;Dt&&Dt.length>0?t.bindFramebuffer(n.DRAW_FRAMEBUFFER,ct.__webglFramebuffer[0]):t.bindFramebuffer(n.DRAW_FRAMEBUFFER,ct.__webglFramebuffer);for(let zt=0;zt<J.length;zt++){if(ae.resolveDepthBuffer&&(ae.depthBuffer&&(Ze|=n.DEPTH_BUFFER_BIT),ae.stencilBuffer&&ae.resolveStencilBuffer&&(Ze|=n.STENCIL_BUFFER_BIT)),ht){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,ct.__webglColorRenderbuffer[zt]);const $e=i.get(J[zt]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,$e,0)}n.blitFramebuffer(0,0,Se,Ae,0,0,Se,Ae,Ze,n.NEAREST),l===!0&&(mt.length=0,te.length=0,mt.push(n.COLOR_ATTACHMENT0+zt),ae.depthBuffer&&ae.resolveDepthBuffer===!1&&(mt.push(Re),te.push(Re),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,te)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,mt))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),ht)for(let zt=0;zt<J.length;zt++){t.bindFramebuffer(n.FRAMEBUFFER,ct.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+zt,n.RENDERBUFFER,ct.__webglColorRenderbuffer[zt]);const $e=i.get(J[zt]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,ct.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+zt,n.TEXTURE_2D,$e,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,ct.__webglMultisampledFramebuffer)}else if(ae.depthBuffer&&ae.resolveDepthBuffer===!1&&l){const J=ae.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[J])}}}function Be(ae){return Math.min(r.maxSamples,ae.samples)}function Ne(ae){const J=i.get(ae);return ae.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&J.__useRenderToTexture!==!1}function Me(ae){const J=a.render.frame;d.get(ae)!==J&&(d.set(ae,J),ae.update())}function ut(ae,J){const Se=ae.colorSpace,Ae=ae.format,Ze=ae.type;return ae.isCompressedTexture===!0||ae.isVideoTexture===!0||Se!==Jp&&Se!==kd&&(di.getTransfer(Se)===Vi?(Ae!==Ja||Ze!==Ic)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",Se)),J}function qe(ae){return typeof HTMLImageElement<"u"&&ae instanceof HTMLImageElement?(u.width=ae.naturalWidth||ae.width,u.height=ae.naturalHeight||ae.height):typeof VideoFrame<"u"&&ae instanceof VideoFrame?(u.width=ae.displayWidth,u.height=ae.displayHeight):(u.width=ae.width,u.height=ae.height),u}this.allocateTextureUnit=V,this.resetTextureUnits=z,this.setTexture2D=ee,this.setTexture2DArray=q,this.setTexture3D=$,this.setTextureCube=Q,this.rebindTextures=Ge,this.setupRenderTarget=st,this.updateRenderTargetMipmap=lt,this.updateMultisampleRenderTarget=Oe,this.setupDepthRenderbuffer=Xe,this.setupFrameBufferTexture=de,this.useMultisampledRTT=Ne}function Dq(n,e){function t(i,r=kd){let s;const a=di.getTransfer(r);if(i===Ic)return n.UNSIGNED_BYTE;if(i===cM)return n.UNSIGNED_SHORT_4_4_4_4;if(i===uM)return n.UNSIGNED_SHORT_5_5_5_1;if(i===dL)return n.UNSIGNED_INT_5_9_9_9_REV;if(i===uL)return n.BYTE;if(i===hL)return n.SHORT;if(i===n_)return n.UNSIGNED_SHORT;if(i===lM)return n.INT;if(i===of)return n.UNSIGNED_INT;if(i===Io)return n.FLOAT;if(i===xy)return n.HALF_FLOAT;if(i===fL)return n.ALPHA;if(i===pL)return n.RGB;if(i===Ja)return n.RGBA;if(i===r_)return n.DEPTH_COMPONENT;if(i===s_)return n.DEPTH_STENCIL;if(i===hM)return n.RED;if(i===qS)return n.RED_INTEGER;if(i===mL)return n.RG;if(i===dM)return n.RG_INTEGER;if(i===fM)return n.RGBA_INTEGER;if(i===_x||i===bx||i===xx||i===Sx)if(a===Vi)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(i===_x)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===bx)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===xx)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===Sx)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(i===_x)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===bx)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===xx)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===Sx)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===AC||i===MC||i===RC||i===OC)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(i===AC)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===MC)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===RC)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===OC)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===IC||i===PC||i===DC)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(i===IC||i===PC)return a===Vi?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(i===DC)return a===Vi?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===NC||i===LC||i===UC||i===kC||i===zC||i===BC||i===FC||i===VC||i===HC||i===jC||i===GC||i===qC||i===WC||i===$C)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(i===NC)return a===Vi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===LC)return a===Vi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===UC)return a===Vi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===kC)return a===Vi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===zC)return a===Vi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===BC)return a===Vi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===FC)return a===Vi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===VC)return a===Vi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===HC)return a===Vi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===jC)return a===Vi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===GC)return a===Vi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===qC)return a===Vi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===WC)return a===Vi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===$C)return a===Vi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===Ex||i===XC||i===YC)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(i===Ex)return a===Vi?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===XC)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===YC)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===gL||i===KC||i===ZC||i===QC)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(i===Ex)return s.COMPRESSED_RED_RGTC1_EXT;if(i===KC)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===ZC)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===QC)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===i_?n.UNSIGNED_INT_24_8:n[i]!==void 0?n[i]:null}return{convert:t}}const Npe=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,Lpe=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class Upe{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,i){if(this.texture===null){const r=new rs,s=e.properties.get(r);s.__webglTexture=t.texture,(t.depthNear!==i.depthNear||t.depthFar!==i.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,i=new Tu({vertexShader:Npe,fragmentShader:Lpe,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new is(new B_(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class kpe extends Bh{constructor(e,t){super();const i=this;let r=null,s=1,a=null,o="local-floor",l=1,u=null,d=null,p=null,y=null,v=null,_=null;const S=new Upe,E=t.getContextAttributes();let b=null,w=null;const A=[],C=[],D=new rt;let N=null;const I=new ta;I.viewport=new yi;const L=new ta;L.viewport=new yi;const P=[I,L],U=new Sq;let F=null,z=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ue){let ie=A[ue];return ie===void 0&&(ie=new M2,A[ue]=ie),ie.getTargetRaySpace()},this.getControllerGrip=function(ue){let ie=A[ue];return ie===void 0&&(ie=new M2,A[ue]=ie),ie.getGripSpace()},this.getHand=function(ue){let ie=A[ue];return ie===void 0&&(ie=new M2,A[ue]=ie),ie.getHandSpace()};function V(ue){const ie=C.indexOf(ue.inputSource);if(ie===-1)return;const de=A[ie];de!==void 0&&(de.update(ue.inputSource,ue.frame,u||a),de.dispatchEvent({type:ue.type,data:ue.inputSource}))}function Y(){r.removeEventListener("select",V),r.removeEventListener("selectstart",V),r.removeEventListener("selectend",V),r.removeEventListener("squeeze",V),r.removeEventListener("squeezestart",V),r.removeEventListener("squeezeend",V),r.removeEventListener("end",Y),r.removeEventListener("inputsourceschange",ee);for(let ue=0;ue<A.length;ue++){const ie=C[ue];ie!==null&&(C[ue]=null,A[ue].disconnect(ie))}F=null,z=null,S.reset(),e.setRenderTarget(b),v=null,y=null,p=null,r=null,w=null,pe.stop(),i.isPresenting=!1,e.setPixelRatio(N),e.setSize(D.width,D.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ue){s=ue,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ue){o=ue,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||a},this.setReferenceSpace=function(ue){u=ue},this.getBaseLayer=function(){return y!==null?y:v},this.getBinding=function(){return p},this.getFrame=function(){return _},this.getSession=function(){return r},this.setSession=async function(ue){if(r=ue,r!==null){if(b=e.getRenderTarget(),r.addEventListener("select",V),r.addEventListener("selectstart",V),r.addEventListener("selectend",V),r.addEventListener("squeeze",V),r.addEventListener("squeezestart",V),r.addEventListener("squeezeend",V),r.addEventListener("end",Y),r.addEventListener("inputsourceschange",ee),E.xrCompatible!==!0&&await t.makeXRCompatible(),N=e.getPixelRatio(),e.getSize(D),typeof XRWebGLBinding<"u"&&"createProjectionLayer"in XRWebGLBinding.prototype){let de=null,ye=null,Ve=null;E.depth&&(Ve=E.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,de=E.stencil?s_:r_,ye=E.stencil?i_:of);const Xe={colorFormat:t.RGBA8,depthFormat:Ve,scaleFactor:s};p=new XRWebGLBinding(r,t),y=p.createProjectionLayer(Xe),r.updateRenderState({layers:[y]}),e.setPixelRatio(1),e.setSize(y.textureWidth,y.textureHeight,!1),w=new Eu(y.textureWidth,y.textureHeight,{format:Ja,type:Ic,depthTexture:new XS(y.textureWidth,y.textureHeight,ye,void 0,void 0,void 0,void 0,void 0,void 0,de),stencilBuffer:E.stencil,colorSpace:e.outputColorSpace,samples:E.antialias?4:0,resolveDepthBuffer:y.ignoreDepthValues===!1,resolveStencilBuffer:y.ignoreDepthValues===!1})}else{const de={antialias:E.antialias,alpha:!0,depth:E.depth,stencil:E.stencil,framebufferScaleFactor:s};v=new XRWebGLLayer(r,t,de),r.updateRenderState({baseLayer:v}),e.setPixelRatio(1),e.setSize(v.framebufferWidth,v.framebufferHeight,!1),w=new Eu(v.framebufferWidth,v.framebufferHeight,{format:Ja,type:Ic,colorSpace:e.outputColorSpace,stencilBuffer:E.stencil,resolveDepthBuffer:v.ignoreDepthValues===!1,resolveStencilBuffer:v.ignoreDepthValues===!1})}w.isXRRenderTarget=!0,this.setFoveation(l),u=null,a=await r.requestReferenceSpace(o),pe.setContext(r),pe.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode},this.getDepthTexture=function(){return S.getDepthTexture()};function ee(ue){for(let ie=0;ie<ue.removed.length;ie++){const de=ue.removed[ie],ye=C.indexOf(de);ye>=0&&(C[ye]=null,A[ye].disconnect(de))}for(let ie=0;ie<ue.added.length;ie++){const de=ue.added[ie];let ye=C.indexOf(de);if(ye===-1){for(let Xe=0;Xe<A.length;Xe++)if(Xe>=C.length){C.push(de),ye=Xe;break}else if(C[Xe]===null){C[Xe]=de,ye=Xe;break}if(ye===-1)break}const Ve=A[ye];Ve&&Ve.connect(de)}}const q=new he,$=new he;function Q(ue,ie,de){q.setFromMatrixPosition(ie.matrixWorld),$.setFromMatrixPosition(de.matrixWorld);const ye=q.distanceTo($),Ve=ie.projectionMatrix.elements,Xe=de.projectionMatrix.elements,Ge=Ve[14]/(Ve[10]-1),st=Ve[14]/(Ve[10]+1),lt=(Ve[9]+1)/Ve[5],mt=(Ve[9]-1)/Ve[5],te=(Ve[8]-1)/Ve[0],Oe=(Xe[8]+1)/Xe[0],Be=Ge*te,Ne=Ge*Oe,Me=ye/(-te+Oe),ut=Me*-te;if(ie.matrixWorld.decompose(ue.position,ue.quaternion,ue.scale),ue.translateX(ut),ue.translateZ(Me),ue.matrixWorld.compose(ue.position,ue.quaternion,ue.scale),ue.matrixWorldInverse.copy(ue.matrixWorld).invert(),Ve[10]===-1)ue.projectionMatrix.copy(ie.projectionMatrix),ue.projectionMatrixInverse.copy(ie.projectionMatrixInverse);else{const qe=Ge+Me,ae=st+Me,J=Be-ut,Se=Ne+(ye-ut),Ae=lt*st/ae*qe,Ze=mt*st/ae*qe;ue.projectionMatrix.makePerspective(J,Se,Ae,Ze,qe,ae),ue.projectionMatrixInverse.copy(ue.projectionMatrix).invert()}}function se(ue,ie){ie===null?ue.matrixWorld.copy(ue.matrix):ue.matrixWorld.multiplyMatrices(ie.matrixWorld,ue.matrix),ue.matrixWorldInverse.copy(ue.matrixWorld).invert()}this.updateCamera=function(ue){if(r===null)return;let ie=ue.near,de=ue.far;S.texture!==null&&(S.depthNear>0&&(ie=S.depthNear),S.depthFar>0&&(de=S.depthFar)),U.near=L.near=I.near=ie,U.far=L.far=I.far=de,(F!==U.near||z!==U.far)&&(r.updateRenderState({depthNear:U.near,depthFar:U.far}),F=U.near,z=U.far),I.layers.mask=ue.layers.mask|2,L.layers.mask=ue.layers.mask|4,U.layers.mask=I.layers.mask|L.layers.mask;const ye=ue.parent,Ve=U.cameras;se(U,ye);for(let Xe=0;Xe<Ve.length;Xe++)se(Ve[Xe],ye);Ve.length===2?Q(U,I,L):U.projectionMatrix.copy(I.projectionMatrix),fe(ue,U,ye)};function fe(ue,ie,de){de===null?ue.matrix.copy(ie.matrixWorld):(ue.matrix.copy(de.matrixWorld),ue.matrix.invert(),ue.matrix.multiply(ie.matrixWorld)),ue.matrix.decompose(ue.position,ue.quaternion,ue.scale),ue.updateMatrixWorld(!0),ue.projectionMatrix.copy(ie.projectionMatrix),ue.projectionMatrixInverse.copy(ie.projectionMatrixInverse),ue.isPerspectiveCamera&&(ue.fov=a_*2*Math.atan(1/ue.projectionMatrix.elements[5]),ue.zoom=1)}this.getCamera=function(){return U},this.getFoveation=function(){if(!(y===null&&v===null))return l},this.setFoveation=function(ue){l=ue,y!==null&&(y.fixedFoveation=ue),v!==null&&v.fixedFoveation!==void 0&&(v.fixedFoveation=ue)},this.hasDepthSensing=function(){return S.texture!==null},this.getDepthSensingMesh=function(){return S.getMesh(U)};let K=null;function le(ue,ie){if(d=ie.getViewerPose(u||a),_=ie,d!==null){const de=d.views;v!==null&&(e.setRenderTargetFramebuffer(w,v.framebuffer),e.setRenderTarget(w));let ye=!1;de.length!==U.cameras.length&&(U.cameras.length=0,ye=!0);for(let Ge=0;Ge<de.length;Ge++){const st=de[Ge];let lt=null;if(v!==null)lt=v.getViewport(st);else{const te=p.getViewSubImage(y,st);lt=te.viewport,Ge===0&&(e.setRenderTargetTextures(w,te.colorTexture,te.depthStencilTexture),e.setRenderTarget(w))}let mt=P[Ge];mt===void 0&&(mt=new ta,mt.layers.enable(Ge),mt.viewport=new yi,P[Ge]=mt),mt.matrix.fromArray(st.transform.matrix),mt.matrix.decompose(mt.position,mt.quaternion,mt.scale),mt.projectionMatrix.fromArray(st.projectionMatrix),mt.projectionMatrixInverse.copy(mt.projectionMatrix).invert(),mt.viewport.set(lt.x,lt.y,lt.width,lt.height),Ge===0&&(U.matrix.copy(mt.matrix),U.matrix.decompose(U.position,U.quaternion,U.scale)),ye===!0&&U.cameras.push(mt)}const Ve=r.enabledFeatures;if(Ve&&Ve.includes("depth-sensing")&&r.depthUsage=="gpu-optimized"&&p){const Ge=p.getDepthInformation(de[0]);Ge&&Ge.isValid&&Ge.texture&&S.init(e,Ge,r.renderState)}}for(let de=0;de<A.length;de++){const ye=C[de],Ve=A[de];ye!==null&&Ve!==void 0&&Ve.update(ye,ie,u||a)}K&&K(ue,ie),ie.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:ie}),_=null}const pe=new Mq;pe.setAnimationLoop(le),this.setAnimationLoop=function(ue){K=ue},this.dispose=function(){}}}const _g=new jl,zpe=new an;function Bpe(n,e){function t(E,b){E.matrixAutoUpdate===!0&&E.updateMatrix(),b.value.copy(E.matrix)}function i(E,b){b.color.getRGB(E.fogColor.value,OG(n)),b.isFog?(E.fogNear.value=b.near,E.fogFar.value=b.far):b.isFogExp2&&(E.fogDensity.value=b.density)}function r(E,b,w,A,C){b.isMeshBasicMaterial||b.isMeshLambertMaterial?s(E,b):b.isMeshToonMaterial?(s(E,b),p(E,b)):b.isMeshPhongMaterial?(s(E,b),d(E,b)):b.isMeshStandardMaterial?(s(E,b),y(E,b),b.isMeshPhysicalMaterial&&v(E,b,C)):b.isMeshMatcapMaterial?(s(E,b),_(E,b)):b.isMeshDepthMaterial?s(E,b):b.isMeshDistanceMaterial?(s(E,b),S(E,b)):b.isMeshNormalMaterial?s(E,b):b.isLineBasicMaterial?(a(E,b),b.isLineDashedMaterial&&o(E,b)):b.isPointsMaterial?l(E,b,w,A):b.isSpriteMaterial?u(E,b):b.isShadowMaterial?(E.color.value.copy(b.color),E.opacity.value=b.opacity):b.isShaderMaterial&&(b.uniformsNeedUpdate=!1)}function s(E,b){E.opacity.value=b.opacity,b.color&&E.diffuse.value.copy(b.color),b.emissive&&E.emissive.value.copy(b.emissive).multiplyScalar(b.emissiveIntensity),b.map&&(E.map.value=b.map,t(b.map,E.mapTransform)),b.alphaMap&&(E.alphaMap.value=b.alphaMap,t(b.alphaMap,E.alphaMapTransform)),b.bumpMap&&(E.bumpMap.value=b.bumpMap,t(b.bumpMap,E.bumpMapTransform),E.bumpScale.value=b.bumpScale,b.side===Po&&(E.bumpScale.value*=-1)),b.normalMap&&(E.normalMap.value=b.normalMap,t(b.normalMap,E.normalMapTransform),E.normalScale.value.copy(b.normalScale),b.side===Po&&E.normalScale.value.negate()),b.displacementMap&&(E.displacementMap.value=b.displacementMap,t(b.displacementMap,E.displacementMapTransform),E.displacementScale.value=b.displacementScale,E.displacementBias.value=b.displacementBias),b.emissiveMap&&(E.emissiveMap.value=b.emissiveMap,t(b.emissiveMap,E.emissiveMapTransform)),b.specularMap&&(E.specularMap.value=b.specularMap,t(b.specularMap,E.specularMapTransform)),b.alphaTest>0&&(E.alphaTest.value=b.alphaTest);const w=e.get(b),A=w.envMap,C=w.envMapRotation;A&&(E.envMap.value=A,_g.copy(C),_g.x*=-1,_g.y*=-1,_g.z*=-1,A.isCubeTexture&&A.isRenderTargetTexture===!1&&(_g.y*=-1,_g.z*=-1),E.envMapRotation.value.setFromMatrix4(zpe.makeRotationFromEuler(_g)),E.flipEnvMap.value=A.isCubeTexture&&A.isRenderTargetTexture===!1?-1:1,E.reflectivity.value=b.reflectivity,E.ior.value=b.ior,E.refractionRatio.value=b.refractionRatio),b.lightMap&&(E.lightMap.value=b.lightMap,E.lightMapIntensity.value=b.lightMapIntensity,t(b.lightMap,E.lightMapTransform)),b.aoMap&&(E.aoMap.value=b.aoMap,E.aoMapIntensity.value=b.aoMapIntensity,t(b.aoMap,E.aoMapTransform))}function a(E,b){E.diffuse.value.copy(b.color),E.opacity.value=b.opacity,b.map&&(E.map.value=b.map,t(b.map,E.mapTransform))}function o(E,b){E.dashSize.value=b.dashSize,E.totalSize.value=b.dashSize+b.gapSize,E.scale.value=b.scale}function l(E,b,w,A){E.diffuse.value.copy(b.color),E.opacity.value=b.opacity,E.size.value=b.size*w,E.scale.value=A*.5,b.map&&(E.map.value=b.map,t(b.map,E.uvTransform)),b.alphaMap&&(E.alphaMap.value=b.alphaMap,t(b.alphaMap,E.alphaMapTransform)),b.alphaTest>0&&(E.alphaTest.value=b.alphaTest)}function u(E,b){E.diffuse.value.copy(b.color),E.opacity.value=b.opacity,E.rotation.value=b.rotation,b.map&&(E.map.value=b.map,t(b.map,E.mapTransform)),b.alphaMap&&(E.alphaMap.value=b.alphaMap,t(b.alphaMap,E.alphaMapTransform)),b.alphaTest>0&&(E.alphaTest.value=b.alphaTest)}function d(E,b){E.specular.value.copy(b.specular),E.shininess.value=Math.max(b.shininess,1e-4)}function p(E,b){b.gradientMap&&(E.gradientMap.value=b.gradientMap)}function y(E,b){E.metalness.value=b.metalness,b.metalnessMap&&(E.metalnessMap.value=b.metalnessMap,t(b.metalnessMap,E.metalnessMapTransform)),E.roughness.value=b.roughness,b.roughnessMap&&(E.roughnessMap.value=b.roughnessMap,t(b.roughnessMap,E.roughnessMapTransform)),b.envMap&&(E.envMapIntensity.value=b.envMapIntensity)}function v(E,b,w){E.ior.value=b.ior,b.sheen>0&&(E.sheenColor.value.copy(b.sheenColor).multiplyScalar(b.sheen),E.sheenRoughness.value=b.sheenRoughness,b.sheenColorMap&&(E.sheenColorMap.value=b.sheenColorMap,t(b.sheenColorMap,E.sheenColorMapTransform)),b.sheenRoughnessMap&&(E.sheenRoughnessMap.value=b.sheenRoughnessMap,t(b.sheenRoughnessMap,E.sheenRoughnessMapTransform))),b.clearcoat>0&&(E.clearcoat.value=b.clearcoat,E.clearcoatRoughness.value=b.clearcoatRoughness,b.clearcoatMap&&(E.clearcoatMap.value=b.clearcoatMap,t(b.clearcoatMap,E.clearcoatMapTransform)),b.clearcoatRoughnessMap&&(E.clearcoatRoughnessMap.value=b.clearcoatRoughnessMap,t(b.clearcoatRoughnessMap,E.clearcoatRoughnessMapTransform)),b.clearcoatNormalMap&&(E.clearcoatNormalMap.value=b.clearcoatNormalMap,t(b.clearcoatNormalMap,E.clearcoatNormalMapTransform),E.clearcoatNormalScale.value.copy(b.clearcoatNormalScale),b.side===Po&&E.clearcoatNormalScale.value.negate())),b.dispersion>0&&(E.dispersion.value=b.dispersion),b.iridescence>0&&(E.iridescence.value=b.iridescence,E.iridescenceIOR.value=b.iridescenceIOR,E.iridescenceThicknessMinimum.value=b.iridescenceThicknessRange[0],E.iridescenceThicknessMaximum.value=b.iridescenceThicknessRange[1],b.iridescenceMap&&(E.iridescenceMap.value=b.iridescenceMap,t(b.iridescenceMap,E.iridescenceMapTransform)),b.iridescenceThicknessMap&&(E.iridescenceThicknessMap.value=b.iridescenceThicknessMap,t(b.iridescenceThicknessMap,E.iridescenceThicknessMapTransform))),b.transmission>0&&(E.transmission.value=b.transmission,E.transmissionSamplerMap.value=w.texture,E.transmissionSamplerSize.value.set(w.width,w.height),b.transmissionMap&&(E.transmissionMap.value=b.transmissionMap,t(b.transmissionMap,E.transmissionMapTransform)),E.thickness.value=b.thickness,b.thicknessMap&&(E.thicknessMap.value=b.thicknessMap,t(b.thicknessMap,E.thicknessMapTransform)),E.attenuationDistance.value=b.attenuationDistance,E.attenuationColor.value.copy(b.attenuationColor)),b.anisotropy>0&&(E.anisotropyVector.value.set(b.anisotropy*Math.cos(b.anisotropyRotation),b.anisotropy*Math.sin(b.anisotropyRotation)),b.anisotropyMap&&(E.anisotropyMap.value=b.anisotropyMap,t(b.anisotropyMap,E.anisotropyMapTransform))),E.specularIntensity.value=b.specularIntensity,E.specularColor.value.copy(b.specularColor),b.specularColorMap&&(E.specularColorMap.value=b.specularColorMap,t(b.specularColorMap,E.specularColorMapTransform)),b.specularIntensityMap&&(E.specularIntensityMap.value=b.specularIntensityMap,t(b.specularIntensityMap,E.specularIntensityMapTransform))}function _(E,b){b.matcap&&(E.matcap.value=b.matcap)}function S(E,b){const w=e.get(b).light;E.referencePosition.value.setFromMatrixPosition(w.matrixWorld),E.nearDistance.value=w.shadow.camera.near,E.farDistance.value=w.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function Fpe(n,e,t,i){let r={},s={},a=[];const o=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function l(w,A){const C=A.program;i.uniformBlockBinding(w,C)}function u(w,A){let C=r[w.id];C===void 0&&(_(w),C=d(w),r[w.id]=C,w.addEventListener("dispose",E));const D=A.program;i.updateUBOMapping(w,D);const N=e.render.frame;s[w.id]!==N&&(y(w),s[w.id]=N)}function d(w){const A=p();w.__bindingPointIndex=A;const C=n.createBuffer(),D=w.__size,N=w.usage;return n.bindBuffer(n.UNIFORM_BUFFER,C),n.bufferData(n.UNIFORM_BUFFER,D,N),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,A,C),C}function p(){for(let w=0;w<o;w++)if(a.indexOf(w)===-1)return a.push(w),w;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function y(w){const A=r[w.id],C=w.uniforms,D=w.__cache;n.bindBuffer(n.UNIFORM_BUFFER,A);for(let N=0,I=C.length;N<I;N++){const L=Array.isArray(C[N])?C[N]:[C[N]];for(let P=0,U=L.length;P<U;P++){const F=L[P];if(v(F,N,P,D)===!0){const z=F.__offset,V=Array.isArray(F.value)?F.value:[F.value];let Y=0;for(let ee=0;ee<V.length;ee++){const q=V[ee],$=S(q);typeof q=="number"||typeof q=="boolean"?(F.__data[0]=q,n.bufferSubData(n.UNIFORM_BUFFER,z+Y,F.__data)):q.isMatrix3?(F.__data[0]=q.elements[0],F.__data[1]=q.elements[1],F.__data[2]=q.elements[2],F.__data[3]=0,F.__data[4]=q.elements[3],F.__data[5]=q.elements[4],F.__data[6]=q.elements[5],F.__data[7]=0,F.__data[8]=q.elements[6],F.__data[9]=q.elements[7],F.__data[10]=q.elements[8],F.__data[11]=0):(q.toArray(F.__data,Y),Y+=$.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,z,F.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function v(w,A,C,D){const N=w.value,I=A+"_"+C;if(D[I]===void 0)return typeof N=="number"||typeof N=="boolean"?D[I]=N:D[I]=N.clone(),!0;{const L=D[I];if(typeof N=="number"||typeof N=="boolean"){if(L!==N)return D[I]=N,!0}else if(L.equals(N)===!1)return L.copy(N),!0}return!1}function _(w){const A=w.uniforms;let C=0;const D=16;for(let I=0,L=A.length;I<L;I++){const P=Array.isArray(A[I])?A[I]:[A[I]];for(let U=0,F=P.length;U<F;U++){const z=P[U],V=Array.isArray(z.value)?z.value:[z.value];for(let Y=0,ee=V.length;Y<ee;Y++){const q=V[Y],$=S(q),Q=C%D,se=Q%$.boundary,fe=Q+se;C+=se,fe!==0&&D-fe<$.storage&&(C+=D-fe),z.__data=new Float32Array($.storage/Float32Array.BYTES_PER_ELEMENT),z.__offset=C,C+=$.storage}}}const N=C%D;return N>0&&(C+=D-N),w.__size=C,w.__cache={},this}function S(w){const A={boundary:0,storage:0};return typeof w=="number"||typeof w=="boolean"?(A.boundary=4,A.storage=4):w.isVector2?(A.boundary=8,A.storage=8):w.isVector3||w.isColor?(A.boundary=16,A.storage=12):w.isVector4?(A.boundary=16,A.storage=16):w.isMatrix3?(A.boundary=48,A.storage=48):w.isMatrix4?(A.boundary=64,A.storage=64):w.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",w),A}function E(w){const A=w.target;A.removeEventListener("dispose",E);const C=a.indexOf(A.__bindingPointIndex);a.splice(C,1),n.deleteBuffer(r[A.id]),delete r[A.id],delete s[A.id]}function b(){for(const w in r)n.deleteBuffer(r[w]);a=[],r={},s={}}return{bind:l,update:u,dispose:b}}class Nq{constructor(e={}){const{canvas:t=AG(),context:i=null,depth:r=!0,stencil:s=!1,alpha:a=!1,antialias:o=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:u=!1,powerPreference:d="default",failIfMajorPerformanceCaveat:p=!1,reverseDepthBuffer:y=!1}=e;this.isWebGLRenderer=!0;let v;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");v=i.getContextAttributes().alpha}else v=a;const _=new Uint32Array(4),S=new Int32Array(4);let E=null,b=null;const w=[],A=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=Ph,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const C=this;let D=!1;this._outputColorSpace=xa;let N=0,I=0,L=null,P=-1,U=null;const F=new yi,z=new yi;let V=null;const Y=new kt(0);let ee=0,q=t.width,$=t.height,Q=1,se=null,fe=null;const K=new yi(0,0,q,$),le=new yi(0,0,q,$);let pe=!1;const ue=new U_;let ie=!1,de=!1;const ye=new an,Ve=new an,Xe=new he,Ge=new yi,st={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let lt=!1;function mt(){return L===null?Q:1}let te=i;function Oe(re,_e){return t.getContext(re,_e)}try{const re={alpha:!0,depth:r,stencil:s,antialias:o,premultipliedAlpha:l,preserveDrawingBuffer:u,powerPreference:d,failIfMajorPerformanceCaveat:p};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${sM}`),t.addEventListener("webglcontextlost",Qe,!1),t.addEventListener("webglcontextrestored",xt,!1),t.addEventListener("webglcontextcreationerror",_t,!1),te===null){const _e="webgl2";if(te=Oe(_e,re),te===null)throw Oe(_e)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(re){throw console.error("THREE.WebGLRenderer: "+re.message),re}let Be,Ne,Me,ut,qe,ae,J,Se,Ae,Ze,Re,ct,ht,Dt,zt,$e,pt,wt,At,vt,jt,ot,Lt,ve;function gt(){Be=new Qde(te),Be.init(),ot=new Dq(te,Be),Ne=new qde(te,Be,e,ot),Me=new Ppe(te,Be),Ne.reverseDepthBuffer&&y&&Me.buffers.depth.setReversed(!0),ut=new tfe(te),qe=new _pe,ae=new Dpe(te,Be,Me,qe,Ne,ot,ut),J=new $de(C),Se=new Zde(C),Ae=new oue(te),Lt=new jde(te,Ae),Ze=new Jde(te,Ae,ut,Lt),Re=new ife(te,Ze,Ae,ut),At=new nfe(te,Ne,ae),$e=new Wde(qe),ct=new vpe(C,J,Se,Be,Ne,Lt,$e),ht=new Bpe(C,qe),Dt=new xpe,zt=new Ape(Be),wt=new Hde(C,J,Se,Me,Re,v,l),pt=new Ope(C,Re,Ne),ve=new Fpe(te,ut,Ne,Me),vt=new Gde(te,Be,ut),jt=new efe(te,Be,ut),ut.programs=ct.programs,C.capabilities=Ne,C.extensions=Be,C.properties=qe,C.renderLists=Dt,C.shadowMap=pt,C.state=Me,C.info=ut}gt();const Fe=new kpe(C,te);this.xr=Fe,this.getContext=function(){return te},this.getContextAttributes=function(){return te.getContextAttributes()},this.forceContextLoss=function(){const re=Be.get("WEBGL_lose_context");re&&re.loseContext()},this.forceContextRestore=function(){const re=Be.get("WEBGL_lose_context");re&&re.restoreContext()},this.getPixelRatio=function(){return Q},this.setPixelRatio=function(re){re!==void 0&&(Q=re,this.setSize(q,$,!1))},this.getSize=function(re){return re.set(q,$)},this.setSize=function(re,_e,Le=!0){if(Fe.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}q=re,$=_e,t.width=Math.floor(re*Q),t.height=Math.floor(_e*Q),Le===!0&&(t.style.width=re+"px",t.style.height=_e+"px"),this.setViewport(0,0,re,_e)},this.getDrawingBufferSize=function(re){return re.set(q*Q,$*Q).floor()},this.setDrawingBufferSize=function(re,_e,Le){q=re,$=_e,Q=Le,t.width=Math.floor(re*Le),t.height=Math.floor(_e*Le),this.setViewport(0,0,re,_e)},this.getCurrentViewport=function(re){return re.copy(F)},this.getViewport=function(re){return re.copy(K)},this.setViewport=function(re,_e,Le,De){re.isVector4?K.set(re.x,re.y,re.z,re.w):K.set(re,_e,Le,De),Me.viewport(F.copy(K).multiplyScalar(Q).round())},this.getScissor=function(re){return re.copy(le)},this.setScissor=function(re,_e,Le,De){re.isVector4?le.set(re.x,re.y,re.z,re.w):le.set(re,_e,Le,De),Me.scissor(z.copy(le).multiplyScalar(Q).round())},this.getScissorTest=function(){return pe},this.setScissorTest=function(re){Me.setScissorTest(pe=re)},this.setOpaqueSort=function(re){se=re},this.setTransparentSort=function(re){fe=re},this.getClearColor=function(re){return re.copy(wt.getClearColor())},this.setClearColor=function(){wt.setClearColor(...arguments)},this.getClearAlpha=function(){return wt.getClearAlpha()},this.setClearAlpha=function(){wt.setClearAlpha(...arguments)},this.clear=function(re=!0,_e=!0,Le=!0){let De=0;if(re){let xe=!1;if(L!==null){const at=L.texture.format;xe=at===fM||at===dM||at===qS}if(xe){const at=L.texture.type,Tt=at===Ic||at===of||at===n_||at===i_||at===cM||at===uM,Ct=wt.getClearColor(),Rt=wt.getClearAlpha(),sn=Ct.r,Jt=Ct.g,Gt=Ct.b;Tt?(_[0]=sn,_[1]=Jt,_[2]=Gt,_[3]=Rt,te.clearBufferuiv(te.COLOR,0,_)):(S[0]=sn,S[1]=Jt,S[2]=Gt,S[3]=Rt,te.clearBufferiv(te.COLOR,0,S))}else De|=te.COLOR_BUFFER_BIT}_e&&(De|=te.DEPTH_BUFFER_BIT),Le&&(De|=te.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),te.clear(De)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Qe,!1),t.removeEventListener("webglcontextrestored",xt,!1),t.removeEventListener("webglcontextcreationerror",_t,!1),wt.dispose(),Dt.dispose(),zt.dispose(),qe.dispose(),J.dispose(),Se.dispose(),Re.dispose(),Lt.dispose(),ve.dispose(),ct.dispose(),Fe.dispose(),Fe.removeEventListener("sessionstart",zn),Fe.removeEventListener("sessionend",_n),Bn.stop()};function Qe(re){re.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),D=!0}function xt(){console.log("THREE.WebGLRenderer: Context Restored."),D=!1;const re=ut.autoReset,_e=pt.enabled,Le=pt.autoUpdate,De=pt.needsUpdate,xe=pt.type;gt(),ut.autoReset=re,pt.enabled=_e,pt.autoUpdate=Le,pt.needsUpdate=De,pt.type=xe}function _t(re){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",re.statusMessage)}function Zt(re){const _e=re.target;_e.removeEventListener("dispose",Zt),Yn(_e)}function Yn(re){Bt(re),qe.remove(re)}function Bt(re){const _e=qe.get(re).programs;_e!==void 0&&(_e.forEach(function(Le){ct.releaseProgram(Le)}),re.isShaderMaterial&&ct.releaseShaderCache(re))}this.renderBufferDirect=function(re,_e,Le,De,xe,at){_e===null&&(_e=st);const Tt=xe.isMesh&&xe.matrixWorld.determinant()<0,Ct=fl(re,_e,Le,De,xe);Me.setMaterial(De,Tt);let Rt=Le.index,sn=1;if(De.wireframe===!0){if(Rt=Ze.getWireframeAttribute(Le),Rt===void 0)return;sn=2}const Jt=Le.drawRange,Gt=Le.attributes.position;let Fn=Jt.start*sn,Un=(Jt.start+Jt.count)*sn;at!==null&&(Fn=Math.max(Fn,at.start*sn),Un=Math.min(Un,(at.start+at.count)*sn)),Rt!==null?(Fn=Math.max(Fn,0),Un=Math.min(Un,Rt.count)):Gt!=null&&(Fn=Math.max(Fn,0),Un=Math.min(Un,Gt.count));const xi=Un-Fn;if(xi<0||xi===1/0)return;Lt.setup(xe,De,Ct,Le,Rt);let $n,on=vt;if(Rt!==null&&($n=Ae.get(Rt),on=jt,on.setIndex($n)),xe.isMesh)De.wireframe===!0?(Me.setLineWidth(De.wireframeLinewidth*mt()),on.setMode(te.LINES)):on.setMode(te.TRIANGLES);else if(xe.isLine){let $t=De.linewidth;$t===void 0&&($t=1),Me.setLineWidth($t*mt()),xe.isLineSegments?on.setMode(te.LINES):xe.isLineLoop?on.setMode(te.LINE_LOOP):on.setMode(te.LINE_STRIP)}else xe.isPoints?on.setMode(te.POINTS):xe.isSprite&&on.setMode(te.TRIANGLES);if(xe.isBatchedMesh)if(xe._multiDrawInstances!==null)A2("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),on.renderMultiDrawInstances(xe._multiDrawStarts,xe._multiDrawCounts,xe._multiDrawCount,xe._multiDrawInstances);else if(Be.get("WEBGL_multi_draw"))on.renderMultiDraw(xe._multiDrawStarts,xe._multiDrawCounts,xe._multiDrawCount);else{const $t=xe._multiDrawStarts,mr=xe._multiDrawCounts,qn=xe._multiDrawCount,gs=Rt?Ae.get(Rt).bytesPerElement:1,la=qe.get(De).currentProgram.getUniforms();for(let rr=0;rr<qn;rr++)la.setValue(te,"_gl_DrawID",rr),on.render($t[rr]/gs,mr[rr])}else if(xe.isInstancedMesh)on.renderInstances(Fn,xi,xe.count);else if(Le.isInstancedBufferGeometry){const $t=Le._maxInstanceCount!==void 0?Le._maxInstanceCount:1/0,mr=Math.min(Le.instanceCount,$t);on.renderInstances(Fn,xi,mr)}else on.render(Fn,xi)};function Qt(re,_e,Le){re.transparent===!0&&re.side===_h&&re.forceSinglePass===!1?(re.side=Po,re.needsUpdate=!0,pn(re,_e,Le),re.side=sf,re.needsUpdate=!0,pn(re,_e,Le),re.side=_h):pn(re,_e,Le)}this.compile=function(re,_e,Le=null){Le===null&&(Le=re),b=zt.get(Le),b.init(_e),A.push(b),Le.traverseVisible(function(xe){xe.isLight&&xe.layers.test(_e.layers)&&(b.pushLight(xe),xe.castShadow&&b.pushShadow(xe))}),re!==Le&&re.traverseVisible(function(xe){xe.isLight&&xe.layers.test(_e.layers)&&(b.pushLight(xe),xe.castShadow&&b.pushShadow(xe))}),b.setupLights();const De=new Set;return re.traverse(function(xe){if(!(xe.isMesh||xe.isPoints||xe.isLine||xe.isSprite))return;const at=xe.material;if(at)if(Array.isArray(at))for(let Tt=0;Tt<at.length;Tt++){const Ct=at[Tt];Qt(Ct,Le,xe),De.add(Ct)}else Qt(at,Le,xe),De.add(at)}),b=A.pop(),De},this.compileAsync=function(re,_e,Le=null){const De=this.compile(re,_e,Le);return new Promise(xe=>{function at(){if(De.forEach(function(Tt){qe.get(Tt).currentProgram.isReady()&&De.delete(Tt)}),De.size===0){xe(re);return}setTimeout(at,10)}Be.get("KHR_parallel_shader_compile")!==null?at():setTimeout(at,10)})};let St=null;function Mt(re){St&&St(re)}function zn(){Bn.stop()}function _n(){Bn.start()}const Bn=new Mq;Bn.setAnimationLoop(Mt),typeof self<"u"&&Bn.setContext(self),this.setAnimationLoop=function(re){St=re,Fe.setAnimationLoop(re),re===null?Bn.stop():Bn.start()},Fe.addEventListener("sessionstart",zn),Fe.addEventListener("sessionend",_n),this.render=function(re,_e){if(_e!==void 0&&_e.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(D===!0)return;if(re.matrixWorldAutoUpdate===!0&&re.updateMatrixWorld(),_e.parent===null&&_e.matrixWorldAutoUpdate===!0&&_e.updateMatrixWorld(),Fe.enabled===!0&&Fe.isPresenting===!0&&(Fe.cameraAutoUpdate===!0&&Fe.updateCamera(_e),_e=Fe.getCamera()),re.isScene===!0&&re.onBeforeRender(C,re,_e,L),b=zt.get(re,A.length),b.init(_e),A.push(b),Ve.multiplyMatrices(_e.projectionMatrix,_e.matrixWorldInverse),ue.setFromProjectionMatrix(Ve),de=this.localClippingEnabled,ie=$e.init(this.clippingPlanes,de),E=Dt.get(re,w.length),E.init(),w.push(E),Fe.enabled===!0&&Fe.isPresenting===!0){const at=C.xr.getDepthSensingMesh();at!==null&&ki(at,_e,-1/0,C.sortObjects)}ki(re,_e,0,C.sortObjects),E.finish(),C.sortObjects===!0&&E.sort(se,fe),lt=Fe.enabled===!1||Fe.isPresenting===!1||Fe.hasDepthSensing()===!1,lt&&wt.addToRenderList(E,re),this.info.render.frame++,ie===!0&&$e.beginShadows();const Le=b.state.shadowsArray;pt.render(Le,re,_e),ie===!0&&$e.endShadows(),this.info.autoReset===!0&&this.info.reset();const De=E.opaque,xe=E.transmissive;if(b.setupLights(),_e.isArrayCamera){const at=_e.cameras;if(xe.length>0)for(let Tt=0,Ct=at.length;Tt<Ct;Tt++){const Rt=at[Tt];Ki(De,xe,re,Rt)}lt&&wt.render(re);for(let Tt=0,Ct=at.length;Tt<Ct;Tt++){const Rt=at[Tt];Is(E,re,Rt,Rt.viewport)}}else xe.length>0&&Ki(De,xe,re,_e),lt&&wt.render(re),Is(E,re,_e);L!==null&&I===0&&(ae.updateMultisampleRenderTarget(L),ae.updateRenderTargetMipmap(L)),re.isScene===!0&&re.onAfterRender(C,re,_e),Lt.resetDefaultState(),P=-1,U=null,A.pop(),A.length>0?(b=A[A.length-1],ie===!0&&$e.setGlobalState(C.clippingPlanes,b.state.camera)):b=null,w.pop(),w.length>0?E=w[w.length-1]:E=null};function ki(re,_e,Le,De){if(re.visible===!1)return;if(re.layers.test(_e.layers)){if(re.isGroup)Le=re.renderOrder;else if(re.isLOD)re.autoUpdate===!0&&re.update(_e);else if(re.isLight)b.pushLight(re),re.castShadow&&b.pushShadow(re);else if(re.isSprite){if(!re.frustumCulled||ue.intersectsSprite(re)){De&&Ge.setFromMatrixPosition(re.matrixWorld).applyMatrix4(Ve);const Tt=Re.update(re),Ct=re.material;Ct.visible&&E.push(re,Tt,Ct,Le,Ge.z,null)}}else if((re.isMesh||re.isLine||re.isPoints)&&(!re.frustumCulled||ue.intersectsObject(re))){const Tt=Re.update(re),Ct=re.material;if(De&&(re.boundingSphere!==void 0?(re.boundingSphere===null&&re.computeBoundingSphere(),Ge.copy(re.boundingSphere.center)):(Tt.boundingSphere===null&&Tt.computeBoundingSphere(),Ge.copy(Tt.boundingSphere.center)),Ge.applyMatrix4(re.matrixWorld).applyMatrix4(Ve)),Array.isArray(Ct)){const Rt=Tt.groups;for(let sn=0,Jt=Rt.length;sn<Jt;sn++){const Gt=Rt[sn],Fn=Ct[Gt.materialIndex];Fn&&Fn.visible&&E.push(re,Tt,Fn,Le,Ge.z,Gt)}}else Ct.visible&&E.push(re,Tt,Ct,Le,Ge.z,null)}}const at=re.children;for(let Tt=0,Ct=at.length;Tt<Ct;Tt++)ki(at[Tt],_e,Le,De)}function Is(re,_e,Le,De){const xe=re.opaque,at=re.transmissive,Tt=re.transparent;b.setupLightsView(Le),ie===!0&&$e.setGlobalState(C.clippingPlanes,Le),De&&Me.viewport(F.copy(De)),xe.length>0&&jr(xe,_e,Le),at.length>0&&jr(at,_e,Le),Tt.length>0&&jr(Tt,_e,Le),Me.buffers.depth.setTest(!0),Me.buffers.depth.setMask(!0),Me.buffers.color.setMask(!0),Me.setPolygonOffset(!1)}function Ki(re,_e,Le,De){if((Le.isScene===!0?Le.overrideMaterial:null)!==null)return;b.state.transmissionRenderTarget[De.id]===void 0&&(b.state.transmissionRenderTarget[De.id]=new Eu(1,1,{generateMipmaps:!0,type:Be.has("EXT_color_buffer_half_float")||Be.has("EXT_color_buffer_float")?xy:Ic,minFilter:Sh,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:di.workingColorSpace}));const at=b.state.transmissionRenderTarget[De.id],Tt=De.viewport||F;at.setSize(Tt.z*C.transmissionResolutionScale,Tt.w*C.transmissionResolutionScale);const Ct=C.getRenderTarget();C.setRenderTarget(at),C.getClearColor(Y),ee=C.getClearAlpha(),ee<1&&C.setClearColor(16777215,.5),C.clear(),lt&&wt.render(Le);const Rt=C.toneMapping;C.toneMapping=Ph;const sn=De.viewport;if(De.viewport!==void 0&&(De.viewport=void 0),b.setupLightsView(De),ie===!0&&$e.setGlobalState(C.clippingPlanes,De),jr(re,Le,De),ae.updateMultisampleRenderTarget(at),ae.updateRenderTargetMipmap(at),Be.has("WEBGL_multisampled_render_to_texture")===!1){let Jt=!1;for(let Gt=0,Fn=_e.length;Gt<Fn;Gt++){const Un=_e[Gt],xi=Un.object,$n=Un.geometry,on=Un.material,$t=Un.group;if(on.side===_h&&xi.layers.test(De.layers)){const mr=on.side;on.side=Po,on.needsUpdate=!0,Gr(xi,Le,De,$n,on,$t),on.side=mr,on.needsUpdate=!0,Jt=!0}}Jt===!0&&(ae.updateMultisampleRenderTarget(at),ae.updateRenderTargetMipmap(at))}C.setRenderTarget(Ct),C.setClearColor(Y,ee),sn!==void 0&&(De.viewport=sn),C.toneMapping=Rt}function jr(re,_e,Le){const De=_e.isScene===!0?_e.overrideMaterial:null;for(let xe=0,at=re.length;xe<at;xe++){const Tt=re[xe],Ct=Tt.object,Rt=Tt.geometry,sn=Tt.group;let Jt=Tt.material;Jt.allowOverride===!0&&De!==null&&(Jt=De),Ct.layers.test(Le.layers)&&Gr(Ct,_e,Le,Rt,Jt,sn)}}function Gr(re,_e,Le,De,xe,at){re.onBeforeRender(C,_e,Le,De,xe,at),re.modelViewMatrix.multiplyMatrices(Le.matrixWorldInverse,re.matrixWorld),re.normalMatrix.getNormalMatrix(re.modelViewMatrix),xe.onBeforeRender(C,_e,Le,De,re,at),xe.transparent===!0&&xe.side===_h&&xe.forceSinglePass===!1?(xe.side=Po,xe.needsUpdate=!0,C.renderBufferDirect(Le,_e,De,xe,re,at),xe.side=sf,xe.needsUpdate=!0,C.renderBufferDirect(Le,_e,De,xe,re,at),xe.side=_h):C.renderBufferDirect(Le,_e,De,xe,re,at),re.onAfterRender(C,_e,Le,De,xe,at)}function pn(re,_e,Le){_e.isScene!==!0&&(_e=st);const De=qe.get(re),xe=b.state.lights,at=b.state.shadowsArray,Tt=xe.state.version,Ct=ct.getParameters(re,xe.state,at,_e,Le),Rt=ct.getProgramCacheKey(Ct);let sn=De.programs;De.environment=re.isMeshStandardMaterial?_e.environment:null,De.fog=_e.fog,De.envMap=(re.isMeshStandardMaterial?Se:J).get(re.envMap||De.environment),De.envMapRotation=De.environment!==null&&re.envMap===null?_e.environmentRotation:re.envMapRotation,sn===void 0&&(re.addEventListener("dispose",Zt),sn=new Map,De.programs=sn);let Jt=sn.get(Rt);if(Jt!==void 0){if(De.currentProgram===Jt&&De.lightsStateVersion===Tt)return oa(re,Ct),Jt}else Ct.uniforms=ct.getUniforms(re),re.onBeforeCompile(Ct,C),Jt=ct.acquireProgram(Ct,Rt),sn.set(Rt,Jt),De.uniforms=Ct.uniforms;const Gt=De.uniforms;return(!re.isShaderMaterial&&!re.isRawShaderMaterial||re.clipping===!0)&&(Gt.clippingPlanes=$e.uniform),oa(re,Ct),De.needsLights=gf(re),De.lightsStateVersion=Tt,De.needsLights&&(Gt.ambientLightColor.value=xe.state.ambient,Gt.lightProbe.value=xe.state.probe,Gt.directionalLights.value=xe.state.directional,Gt.directionalLightShadows.value=xe.state.directionalShadow,Gt.spotLights.value=xe.state.spot,Gt.spotLightShadows.value=xe.state.spotShadow,Gt.rectAreaLights.value=xe.state.rectArea,Gt.ltc_1.value=xe.state.rectAreaLTC1,Gt.ltc_2.value=xe.state.rectAreaLTC2,Gt.pointLights.value=xe.state.point,Gt.pointLightShadows.value=xe.state.pointShadow,Gt.hemisphereLights.value=xe.state.hemi,Gt.directionalShadowMap.value=xe.state.directionalShadowMap,Gt.directionalShadowMatrix.value=xe.state.directionalShadowMatrix,Gt.spotShadowMap.value=xe.state.spotShadowMap,Gt.spotLightMatrix.value=xe.state.spotLightMatrix,Gt.spotLightMap.value=xe.state.spotLightMap,Gt.pointShadowMap.value=xe.state.pointShadowMap,Gt.pointShadowMatrix.value=xe.state.pointShadowMatrix),De.currentProgram=Jt,De.uniformsList=null,Jt}function pr(re){if(re.uniformsList===null){const _e=re.currentProgram.getUniforms();re.uniformsList=R2.seqWithValue(_e.seq,re.uniforms)}return re.uniformsList}function oa(re,_e){const Le=qe.get(re);Le.outputColorSpace=_e.outputColorSpace,Le.batching=_e.batching,Le.batchingColor=_e.batchingColor,Le.instancing=_e.instancing,Le.instancingColor=_e.instancingColor,Le.instancingMorph=_e.instancingMorph,Le.skinning=_e.skinning,Le.morphTargets=_e.morphTargets,Le.morphNormals=_e.morphNormals,Le.morphColors=_e.morphColors,Le.morphTargetsCount=_e.morphTargetsCount,Le.numClippingPlanes=_e.numClippingPlanes,Le.numIntersection=_e.numClipIntersection,Le.vertexAlphas=_e.vertexAlphas,Le.vertexTangents=_e.vertexTangents,Le.toneMapping=_e.toneMapping}function fl(re,_e,Le,De,xe){_e.isScene!==!0&&(_e=st),ae.resetTextureUnits();const at=_e.fog,Tt=De.isMeshStandardMaterial?_e.environment:null,Ct=L===null?C.outputColorSpace:L.isXRRenderTarget===!0?L.texture.colorSpace:Jp,Rt=(De.isMeshStandardMaterial?Se:J).get(De.envMap||Tt),sn=De.vertexColors===!0&&!!Le.attributes.color&&Le.attributes.color.itemSize===4,Jt=!!Le.attributes.tangent&&(!!De.normalMap||De.anisotropy>0),Gt=!!Le.morphAttributes.position,Fn=!!Le.morphAttributes.normal,Un=!!Le.morphAttributes.color;let xi=Ph;De.toneMapped&&(L===null||L.isXRRenderTarget===!0)&&(xi=C.toneMapping);const $n=Le.morphAttributes.position||Le.morphAttributes.normal||Le.morphAttributes.color,on=$n!==void 0?$n.length:0,$t=qe.get(De),mr=b.state.lights;if(ie===!0&&(de===!0||re!==U)){const un=re===U&&De.id===P;$e.setState(De,re,un)}let qn=!1;De.version===$t.__version?($t.needsLights&&$t.lightsStateVersion!==mr.state.version||$t.outputColorSpace!==Ct||xe.isBatchedMesh&&$t.batching===!1||!xe.isBatchedMesh&&$t.batching===!0||xe.isBatchedMesh&&$t.batchingColor===!0&&xe.colorTexture===null||xe.isBatchedMesh&&$t.batchingColor===!1&&xe.colorTexture!==null||xe.isInstancedMesh&&$t.instancing===!1||!xe.isInstancedMesh&&$t.instancing===!0||xe.isSkinnedMesh&&$t.skinning===!1||!xe.isSkinnedMesh&&$t.skinning===!0||xe.isInstancedMesh&&$t.instancingColor===!0&&xe.instanceColor===null||xe.isInstancedMesh&&$t.instancingColor===!1&&xe.instanceColor!==null||xe.isInstancedMesh&&$t.instancingMorph===!0&&xe.morphTexture===null||xe.isInstancedMesh&&$t.instancingMorph===!1&&xe.morphTexture!==null||$t.envMap!==Rt||De.fog===!0&&$t.fog!==at||$t.numClippingPlanes!==void 0&&($t.numClippingPlanes!==$e.numPlanes||$t.numIntersection!==$e.numIntersection)||$t.vertexAlphas!==sn||$t.vertexTangents!==Jt||$t.morphTargets!==Gt||$t.morphNormals!==Fn||$t.morphColors!==Un||$t.toneMapping!==xi||$t.morphTargetsCount!==on)&&(qn=!0):(qn=!0,$t.__version=De.version);let gs=$t.currentProgram;qn===!0&&(gs=pn(De,_e,xe));let la=!1,rr=!1,Mi=!1;const ti=gs.getUniforms(),wr=$t.uniforms;if(Me.useProgram(gs.program)&&(la=!0,rr=!0,Mi=!0),De.id!==P&&(P=De.id,rr=!0),la||U!==re){Me.buffers.depth.getReversed()?(ye.copy(re.projectionMatrix),Moe(ye),Roe(ye),ti.setValue(te,"projectionMatrix",ye)):ti.setValue(te,"projectionMatrix",re.projectionMatrix),ti.setValue(te,"viewMatrix",re.matrixWorldInverse);const cr=ti.map.cameraPosition;cr!==void 0&&cr.setValue(te,Xe.setFromMatrixPosition(re.matrixWorld)),Ne.logarithmicDepthBuffer&&ti.setValue(te,"logDepthBufFC",2/(Math.log(re.far+1)/Math.LN2)),(De.isMeshPhongMaterial||De.isMeshToonMaterial||De.isMeshLambertMaterial||De.isMeshBasicMaterial||De.isMeshStandardMaterial||De.isShaderMaterial)&&ti.setValue(te,"isOrthographic",re.isOrthographicCamera===!0),U!==re&&(U=re,rr=!0,Mi=!0)}if(xe.isSkinnedMesh){ti.setOptional(te,xe,"bindMatrix"),ti.setOptional(te,xe,"bindMatrixInverse");const un=xe.skeleton;un&&(un.boneTexture===null&&un.computeBoneTexture(),ti.setValue(te,"boneTexture",un.boneTexture,ae))}xe.isBatchedMesh&&(ti.setOptional(te,xe,"batchingTexture"),ti.setValue(te,"batchingTexture",xe._matricesTexture,ae),ti.setOptional(te,xe,"batchingIdTexture"),ti.setValue(te,"batchingIdTexture",xe._indirectTexture,ae),ti.setOptional(te,xe,"batchingColorTexture"),xe._colorsTexture!==null&&ti.setValue(te,"batchingColorTexture",xe._colorsTexture,ae));const qr=Le.morphAttributes;if((qr.position!==void 0||qr.normal!==void 0||qr.color!==void 0)&&At.update(xe,Le,gs),(rr||$t.receiveShadow!==xe.receiveShadow)&&($t.receiveShadow=xe.receiveShadow,ti.setValue(te,"receiveShadow",xe.receiveShadow)),De.isMeshGouraudMaterial&&De.envMap!==null&&(wr.envMap.value=Rt,wr.flipEnvMap.value=Rt.isCubeTexture&&Rt.isRenderTargetTexture===!1?-1:1),De.isMeshStandardMaterial&&De.envMap===null&&_e.environment!==null&&(wr.envMapIntensity.value=_e.environmentIntensity),rr&&(ti.setValue(te,"toneMappingExposure",C.toneMappingExposure),$t.needsLights&&ro(wr,Mi),at&&De.fog===!0&&ht.refreshFogUniforms(wr,at),ht.refreshMaterialUniforms(wr,De,Q,$,b.state.transmissionRenderTarget[re.id]),R2.upload(te,pr($t),wr,ae)),De.isShaderMaterial&&De.uniformsNeedUpdate===!0&&(R2.upload(te,pr($t),wr,ae),De.uniformsNeedUpdate=!1),De.isSpriteMaterial&&ti.setValue(te,"center",xe.center),ti.setValue(te,"modelViewMatrix",xe.modelViewMatrix),ti.setValue(te,"normalMatrix",xe.normalMatrix),ti.setValue(te,"modelMatrix",xe.matrixWorld),De.isShaderMaterial||De.isRawShaderMaterial){const un=De.uniformsGroups;for(let cr=0,Ps=un.length;cr<Ps;cr++){const Cr=un[cr];ve.update(Cr,gs),ve.bind(Cr,gs)}}return gs}function ro(re,_e){re.ambientLightColor.needsUpdate=_e,re.lightProbe.needsUpdate=_e,re.directionalLights.needsUpdate=_e,re.directionalLightShadows.needsUpdate=_e,re.pointLights.needsUpdate=_e,re.pointLightShadows.needsUpdate=_e,re.spotLights.needsUpdate=_e,re.spotLightShadows.needsUpdate=_e,re.rectAreaLights.needsUpdate=_e,re.hemisphereLights.needsUpdate=_e}function gf(re){return re.isMeshLambertMaterial||re.isMeshToonMaterial||re.isMeshPhongMaterial||re.isMeshStandardMaterial||re.isShadowMaterial||re.isShaderMaterial&&re.lights===!0}this.getActiveCubeFace=function(){return N},this.getActiveMipmapLevel=function(){return I},this.getRenderTarget=function(){return L},this.setRenderTargetTextures=function(re,_e,Le){const De=qe.get(re);De.__autoAllocateDepthBuffer=re.resolveDepthBuffer===!1,De.__autoAllocateDepthBuffer===!1&&(De.__useRenderToTexture=!1),qe.get(re.texture).__webglTexture=_e,qe.get(re.depthTexture).__webglTexture=De.__autoAllocateDepthBuffer?void 0:Le,De.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(re,_e){const Le=qe.get(re);Le.__webglFramebuffer=_e,Le.__useDefaultFramebuffer=_e===void 0};const zc=te.createFramebuffer();this.setRenderTarget=function(re,_e=0,Le=0){L=re,N=_e,I=Le;let De=!0,xe=null,at=!1,Tt=!1;if(re){const Rt=qe.get(re);if(Rt.__useDefaultFramebuffer!==void 0)Me.bindFramebuffer(te.FRAMEBUFFER,null),De=!1;else if(Rt.__webglFramebuffer===void 0)ae.setupRenderTarget(re);else if(Rt.__hasExternalTextures)ae.rebindTextures(re,qe.get(re.texture).__webglTexture,qe.get(re.depthTexture).__webglTexture);else if(re.depthBuffer){const Gt=re.depthTexture;if(Rt.__boundDepthTexture!==Gt){if(Gt!==null&&qe.has(Gt)&&(re.width!==Gt.image.width||re.height!==Gt.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");ae.setupDepthRenderbuffer(re)}}const sn=re.texture;(sn.isData3DTexture||sn.isDataArrayTexture||sn.isCompressedArrayTexture)&&(Tt=!0);const Jt=qe.get(re).__webglFramebuffer;re.isWebGLCubeRenderTarget?(Array.isArray(Jt[_e])?xe=Jt[_e][Le]:xe=Jt[_e],at=!0):re.samples>0&&ae.useMultisampledRTT(re)===!1?xe=qe.get(re).__webglMultisampledFramebuffer:Array.isArray(Jt)?xe=Jt[Le]:xe=Jt,F.copy(re.viewport),z.copy(re.scissor),V=re.scissorTest}else F.copy(K).multiplyScalar(Q).floor(),z.copy(le).multiplyScalar(Q).floor(),V=pe;if(Le!==0&&(xe=zc),Me.bindFramebuffer(te.FRAMEBUFFER,xe)&&De&&Me.drawBuffers(re,xe),Me.viewport(F),Me.scissor(z),Me.setScissorTest(V),at){const Rt=qe.get(re.texture);te.framebufferTexture2D(te.FRAMEBUFFER,te.COLOR_ATTACHMENT0,te.TEXTURE_CUBE_MAP_POSITIVE_X+_e,Rt.__webglTexture,Le)}else if(Tt){const Rt=qe.get(re.texture),sn=_e;te.framebufferTextureLayer(te.FRAMEBUFFER,te.COLOR_ATTACHMENT0,Rt.__webglTexture,Le,sn)}else if(re!==null&&Le!==0){const Rt=qe.get(re.texture);te.framebufferTexture2D(te.FRAMEBUFFER,te.COLOR_ATTACHMENT0,te.TEXTURE_2D,Rt.__webglTexture,Le)}P=-1},this.readRenderTargetPixels=function(re,_e,Le,De,xe,at,Tt){if(!(re&&re.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Ct=qe.get(re).__webglFramebuffer;if(re.isWebGLCubeRenderTarget&&Tt!==void 0&&(Ct=Ct[Tt]),Ct){Me.bindFramebuffer(te.FRAMEBUFFER,Ct);try{const Rt=re.texture,sn=Rt.format,Jt=Rt.type;if(!Ne.textureFormatReadable(sn)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Ne.textureTypeReadable(Jt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}_e>=0&&_e<=re.width-De&&Le>=0&&Le<=re.height-xe&&te.readPixels(_e,Le,De,xe,ot.convert(sn),ot.convert(Jt),at)}finally{const Rt=L!==null?qe.get(L).__webglFramebuffer:null;Me.bindFramebuffer(te.FRAMEBUFFER,Rt)}}},this.readRenderTargetPixelsAsync=async function(re,_e,Le,De,xe,at,Tt){if(!(re&&re.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Ct=qe.get(re).__webglFramebuffer;if(re.isWebGLCubeRenderTarget&&Tt!==void 0&&(Ct=Ct[Tt]),Ct)if(_e>=0&&_e<=re.width-De&&Le>=0&&Le<=re.height-xe){Me.bindFramebuffer(te.FRAMEBUFFER,Ct);const Rt=re.texture,sn=Rt.format,Jt=Rt.type;if(!Ne.textureFormatReadable(sn))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Ne.textureTypeReadable(Jt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const Gt=te.createBuffer();te.bindBuffer(te.PIXEL_PACK_BUFFER,Gt),te.bufferData(te.PIXEL_PACK_BUFFER,at.byteLength,te.STREAM_READ),te.readPixels(_e,Le,De,xe,ot.convert(sn),ot.convert(Jt),0);const Fn=L!==null?qe.get(L).__webglFramebuffer:null;Me.bindFramebuffer(te.FRAMEBUFFER,Fn);const Un=te.fenceSync(te.SYNC_GPU_COMMANDS_COMPLETE,0);return te.flush(),await Aoe(te,Un,4),te.bindBuffer(te.PIXEL_PACK_BUFFER,Gt),te.getBufferSubData(te.PIXEL_PACK_BUFFER,0,at),te.deleteBuffer(Gt),te.deleteSync(Un),at}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(re,_e=null,Le=0){const De=Math.pow(2,-Le),xe=Math.floor(re.image.width*De),at=Math.floor(re.image.height*De),Tt=_e!==null?_e.x:0,Ct=_e!==null?_e.y:0;ae.setTexture2D(re,0),te.copyTexSubImage2D(te.TEXTURE_2D,Le,0,0,Tt,Ct,xe,at),Me.unbindTexture()};const so=te.createFramebuffer(),pl=te.createFramebuffer();this.copyTextureToTexture=function(re,_e,Le=null,De=null,xe=0,at=null){at===null&&(xe!==0?(A2("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),at=xe,xe=0):at=0);let Tt,Ct,Rt,sn,Jt,Gt,Fn,Un,xi;const $n=re.isCompressedTexture?re.mipmaps[at]:re.image;if(Le!==null)Tt=Le.max.x-Le.min.x,Ct=Le.max.y-Le.min.y,Rt=Le.isBox3?Le.max.z-Le.min.z:1,sn=Le.min.x,Jt=Le.min.y,Gt=Le.isBox3?Le.min.z:0;else{const qr=Math.pow(2,-xe);Tt=Math.floor($n.width*qr),Ct=Math.floor($n.height*qr),re.isDataArrayTexture?Rt=$n.depth:re.isData3DTexture?Rt=Math.floor($n.depth*qr):Rt=1,sn=0,Jt=0,Gt=0}De!==null?(Fn=De.x,Un=De.y,xi=De.z):(Fn=0,Un=0,xi=0);const on=ot.convert(_e.format),$t=ot.convert(_e.type);let mr;_e.isData3DTexture?(ae.setTexture3D(_e,0),mr=te.TEXTURE_3D):_e.isDataArrayTexture||_e.isCompressedArrayTexture?(ae.setTexture2DArray(_e,0),mr=te.TEXTURE_2D_ARRAY):(ae.setTexture2D(_e,0),mr=te.TEXTURE_2D),te.pixelStorei(te.UNPACK_FLIP_Y_WEBGL,_e.flipY),te.pixelStorei(te.UNPACK_PREMULTIPLY_ALPHA_WEBGL,_e.premultiplyAlpha),te.pixelStorei(te.UNPACK_ALIGNMENT,_e.unpackAlignment);const qn=te.getParameter(te.UNPACK_ROW_LENGTH),gs=te.getParameter(te.UNPACK_IMAGE_HEIGHT),la=te.getParameter(te.UNPACK_SKIP_PIXELS),rr=te.getParameter(te.UNPACK_SKIP_ROWS),Mi=te.getParameter(te.UNPACK_SKIP_IMAGES);te.pixelStorei(te.UNPACK_ROW_LENGTH,$n.width),te.pixelStorei(te.UNPACK_IMAGE_HEIGHT,$n.height),te.pixelStorei(te.UNPACK_SKIP_PIXELS,sn),te.pixelStorei(te.UNPACK_SKIP_ROWS,Jt),te.pixelStorei(te.UNPACK_SKIP_IMAGES,Gt);const ti=re.isDataArrayTexture||re.isData3DTexture,wr=_e.isDataArrayTexture||_e.isData3DTexture;if(re.isDepthTexture){const qr=qe.get(re),un=qe.get(_e),cr=qe.get(qr.__renderTarget),Ps=qe.get(un.__renderTarget);Me.bindFramebuffer(te.READ_FRAMEBUFFER,cr.__webglFramebuffer),Me.bindFramebuffer(te.DRAW_FRAMEBUFFER,Ps.__webglFramebuffer);for(let Cr=0;Cr<Rt;Cr++)ti&&(te.framebufferTextureLayer(te.READ_FRAMEBUFFER,te.COLOR_ATTACHMENT0,qe.get(re).__webglTexture,xe,Gt+Cr),te.framebufferTextureLayer(te.DRAW_FRAMEBUFFER,te.COLOR_ATTACHMENT0,qe.get(_e).__webglTexture,at,xi+Cr)),te.blitFramebuffer(sn,Jt,Tt,Ct,Fn,Un,Tt,Ct,te.DEPTH_BUFFER_BIT,te.NEAREST);Me.bindFramebuffer(te.READ_FRAMEBUFFER,null),Me.bindFramebuffer(te.DRAW_FRAMEBUFFER,null)}else if(xe!==0||re.isRenderTargetTexture||qe.has(re)){const qr=qe.get(re),un=qe.get(_e);Me.bindFramebuffer(te.READ_FRAMEBUFFER,so),Me.bindFramebuffer(te.DRAW_FRAMEBUFFER,pl);for(let cr=0;cr<Rt;cr++)ti?te.framebufferTextureLayer(te.READ_FRAMEBUFFER,te.COLOR_ATTACHMENT0,qr.__webglTexture,xe,Gt+cr):te.framebufferTexture2D(te.READ_FRAMEBUFFER,te.COLOR_ATTACHMENT0,te.TEXTURE_2D,qr.__webglTexture,xe),wr?te.framebufferTextureLayer(te.DRAW_FRAMEBUFFER,te.COLOR_ATTACHMENT0,un.__webglTexture,at,xi+cr):te.framebufferTexture2D(te.DRAW_FRAMEBUFFER,te.COLOR_ATTACHMENT0,te.TEXTURE_2D,un.__webglTexture,at),xe!==0?te.blitFramebuffer(sn,Jt,Tt,Ct,Fn,Un,Tt,Ct,te.COLOR_BUFFER_BIT,te.NEAREST):wr?te.copyTexSubImage3D(mr,at,Fn,Un,xi+cr,sn,Jt,Tt,Ct):te.copyTexSubImage2D(mr,at,Fn,Un,sn,Jt,Tt,Ct);Me.bindFramebuffer(te.READ_FRAMEBUFFER,null),Me.bindFramebuffer(te.DRAW_FRAMEBUFFER,null)}else wr?re.isDataTexture||re.isData3DTexture?te.texSubImage3D(mr,at,Fn,Un,xi,Tt,Ct,Rt,on,$t,$n.data):_e.isCompressedArrayTexture?te.compressedTexSubImage3D(mr,at,Fn,Un,xi,Tt,Ct,Rt,on,$n.data):te.texSubImage3D(mr,at,Fn,Un,xi,Tt,Ct,Rt,on,$t,$n):re.isDataTexture?te.texSubImage2D(te.TEXTURE_2D,at,Fn,Un,Tt,Ct,on,$t,$n.data):re.isCompressedTexture?te.compressedTexSubImage2D(te.TEXTURE_2D,at,Fn,Un,$n.width,$n.height,on,$n.data):te.texSubImage2D(te.TEXTURE_2D,at,Fn,Un,Tt,Ct,on,$t,$n);te.pixelStorei(te.UNPACK_ROW_LENGTH,qn),te.pixelStorei(te.UNPACK_IMAGE_HEIGHT,gs),te.pixelStorei(te.UNPACK_SKIP_PIXELS,la),te.pixelStorei(te.UNPACK_SKIP_ROWS,rr),te.pixelStorei(te.UNPACK_SKIP_IMAGES,Mi),at===0&&_e.generateMipmaps&&te.generateMipmap(mr),Me.unbindTexture()},this.copyTextureToTexture3D=function(re,_e,Le=null,De=null,xe=0){return A2('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(re,_e,Le,De,xe)},this.initRenderTarget=function(re){qe.get(re).__webglFramebuffer===void 0&&ae.setupRenderTarget(re)},this.initTexture=function(re){re.isCubeTexture?ae.setTextureCube(re,0):re.isData3DTexture?ae.setTexture3D(re,0):re.isDataArrayTexture||re.isCompressedArrayTexture?ae.setTexture2DArray(re,0):ae.setTexture2D(re,0),Me.unbindTexture()},this.resetState=function(){N=0,I=0,L=null,Me.reset(),Lt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Rc}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=di._getDrawingBufferColorSpace(e),t.unpackColorSpace=di._getUnpackColorSpace()}}const Vpe=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:lL,AddEquation:wp,AddOperation:rG,AdditiveAnimationBlendMode:yL,AdditiveBlending:AP,AgXToneMapping:cG,AlphaFormat:fL,AlwaysCompare:TG,AlwaysDepth:xC,AlwaysStencilFunc:IP,AmbientLight:gq,AnimationAction:wq,AnimationClip:pS,AnimationLoader:tce,AnimationMixer:Oce,AnimationObjectGroup:Mce,AnimationUtils:Zle,ArcCurve:jG,ArrayCamera:Sq,ArrowHelper:Qce,AttachedBindMode:OP,Audio:Eq,AudioAnalyser:vce,AudioContext:FL,AudioListener:mce,AudioLoader:dce,AxesHelper:Jce,BackSide:Po,BasicDepthPacking:mG,BasicShadowMap:zj,BatchedMesh:zG,Bone:EL,BooleanKeyframeTrack:Ty,Box2:zce,Box3:ia,Box3Helper:Kce,BoxGeometry:Sy,BoxHelper:Yce,BufferAttribute:Hi,BufferGeometry:Nn,BufferGeometryLoader:xq,ByteType:uL,Cache:Hd,Camera:yM,CameraHelper:Xce,CanvasTexture:wL,CapsuleGeometry:CM,CatmullRomCurve3:GG,CineonToneMapping:oG,CircleGeometry:AM,ClampToEdgeWrapping:Mc,Clock:VL,Color:kt,ColorKeyframeTrack:kL,ColorManagement:di,CompressedArrayTexture:vle,CompressedCubeTexture:_le,CompressedTexture:wM,CompressedTextureLoader:nce,ConeGeometry:z_,ConstantAlphaFactor:tG,ConstantColorFactor:Jj,Controls:tue,CubeCamera:PG,CubeReflectionMapping:af,CubeRefractionMapping:Qp,CubeTexture:$S,CubeTextureLoader:ice,CubeUVReflectionMapping:N_,CubicBezierCurve:AL,CubicBezierCurve3:ML,CubicInterpolant:lq,CullFaceBack:CP,CullFaceFront:kj,CullFaceFrontBack:Aae,CullFaceNone:Uj,Curve:Au,CurvePath:WG,CustomBlending:Bj,CustomToneMapping:lG,CylinderGeometry:k_,Cylindrical:kce,Data3DTexture:gM,DataArrayTexture:WS,DataTexture:Dh,DataTextureLoader:rce,DataUtils:Goe,DecrementStencilOp:Vae,DecrementWrapStencilOp:jae,DefaultLoadingManager:hq,DepthArrayTexture:ble,DepthFormat:r_,DepthStencilFormat:s_,DepthTexture:XS,DetachedBindMode:hG,DirectionalLight:mq,DirectionalLightHelper:$ce,DiscreteInterpolant:cq,DodecahedronGeometry:MM,DoubleSide:_h,DstAlphaFactor:Xj,DstColorFactor:Kj,DynamicCopyUsage:roe,DynamicDrawUsage:Qae,DynamicReadUsage:toe,EdgesGeometry:HG,EllipseCurve:RM,EqualCompare:bG,EqualDepth:EC,EqualStencilFunc:$ae,EquirectangularReflectionMapping:Jx,EquirectangularRefractionMapping:eS,Euler:jl,EventDispatcher:Bh,ExtrudeGeometry:IM,FileLoader:cf,Float16BufferAttribute:Zoe,Float32BufferAttribute:Ht,FloatType:Io,Fog:_M,FogExp2:vM,FramebufferTexture:yle,FrontSide:sf,Frustum:U_,FrustumArray:TM,GLBufferAttribute:Uce,GLSL1:aoe,GLSL3:PP,GreaterCompare:xG,GreaterDepth:wC,GreaterEqualCompare:EG,GreaterEqualDepth:TC,GreaterEqualStencilFunc:Zae,GreaterStencilFunc:Yae,GridHelper:qce,Group:Vd,HalfFloatType:xy,HemisphereLight:dq,HemisphereLightHelper:Gce,IcosahedronGeometry:PM,ImageBitmapLoader:hce,ImageLoader:mS,ImageUtils:MG,IncrementStencilOp:Fae,IncrementWrapStencilOp:Hae,InstancedBufferAttribute:c_,InstancedBufferGeometry:bq,InstancedInterleavedBuffer:Lce,InstancedMesh:kG,Int16BufferAttribute:Yoe,Int32BufferAttribute:Koe,Int8BufferAttribute:Woe,IntType:lM,InterleavedBuffer:xM,InterleavedBufferAttribute:cy,Interpolant:ZS,InterpolateDiscrete:iS,InterpolateLinear:JC,InterpolateSmooth:C2,InterpolationSamplingMode:coe,InterpolationSamplingType:loe,InvertStencilOp:Gae,KeepStencilOp:Rg,KeyframeTrack:Lc,LOD:LG,LatheGeometry:DM,Layers:o_,LessCompare:_G,LessDepth:SC,LessEqualCompare:vL,LessEqualDepth:ly,LessEqualStencilFunc:Xae,LessStencilFunc:Wae,Light:hm,LightProbe:_q,Line:lf,Line3:Bce,LineBasicMaterial:io,LineCurve:RL,LineCurve3:qG,LineDashedMaterial:sq,LineLoop:BG,LineSegments:Fh,LinearFilter:ps,LinearInterpolant:UL,LinearMipMapLinearFilter:Iae,LinearMipMapNearestFilter:Oae,LinearMipmapLinearFilter:Sh,LinearMipmapNearestFilter:vx,LinearSRGBColorSpace:Jp,LinearToneMapping:sG,LinearTransfer:sS,Loader:hl,LoaderUtils:kP,LoadingManager:zL,LoopOnce:dG,LoopPingPong:pG,LoopRepeat:fG,MOUSE:wae,Material:no,MaterialLoader:FM,MathUtils:wG,Matrix2:qL,Matrix3:Dn,Matrix4:an,MaxEquation:jj,Mesh:is,MeshBasicMaterial:cm,MeshDepthMaterial:DL,MeshDistanceMaterial:NL,MeshLambertMaterial:PL,MeshMatcapMaterial:rq,MeshNormalMaterial:iq,MeshPhongMaterial:tq,MeshPhysicalMaterial:eq,MeshStandardMaterial:BM,MeshToonMaterial:nq,MinEquation:Hj,MirroredRepeatWrapping:nS,MixOperation:iG,MultiplyBlending:RP,MultiplyOperation:GS,NearestFilter:wa,NearestMipMapLinearFilter:Rae,NearestMipMapNearestFilter:Mae,NearestMipmapLinearFilter:S0,NearestMipmapNearestFilter:cL,NeutralToneMapping:uG,NeverCompare:vG,NeverDepth:bC,NeverStencilFunc:qae,NoBlending:Wd,NoColorSpace:kd,NoToneMapping:Ph,NormalAnimationBlendMode:pM,NormalBlending:Qg,NotEqualCompare:SG,NotEqualDepth:CC,NotEqualStencilFunc:Kae,NumberKeyframeTrack:dS,Object3D:vi,ObjectLoader:cce,ObjectSpaceNormalMap:yG,OctahedronGeometry:YS,OneFactor:qj,OneMinusConstantAlphaFactor:nG,OneMinusConstantColorFactor:eG,OneMinusDstAlphaFactor:Yj,OneMinusDstColorFactor:Zj,OneMinusSrcAlphaFactor:_C,OneMinusSrcColorFactor:$j,OrthographicCamera:JS,PCFShadowMap:aM,PCFSoftShadowMap:yx,PMREMGenerator:FP,Path:iA,PerspectiveCamera:ta,Plane:_p,PlaneGeometry:B_,PlaneHelper:Zce,PointLight:pq,PointLightHelper:Hce,Points:FG,PointsMaterial:TL,PolarGridHelper:Wce,PolyhedronGeometry:um,PositionalAudio:yce,PropertyBinding:bi,PropertyMixer:Tq,QuadraticBezierCurve:OL,QuadraticBezierCurve3:OM,Quaternion:Ca,QuaternionKeyframeTrack:QS,QuaternionLinearInterpolant:uq,RED_GREEN_RGTC2_Format:ZC,RED_RGTC1_Format:gL,REVISION:sM,RGBADepthPacking:gG,RGBAFormat:Ja,RGBAIntegerFormat:fM,RGBA_ASTC_10x10_Format:qC,RGBA_ASTC_10x5_Format:HC,RGBA_ASTC_10x6_Format:jC,RGBA_ASTC_10x8_Format:GC,RGBA_ASTC_12x10_Format:WC,RGBA_ASTC_12x12_Format:$C,RGBA_ASTC_4x4_Format:NC,RGBA_ASTC_5x4_Format:LC,RGBA_ASTC_5x5_Format:UC,RGBA_ASTC_6x5_Format:kC,RGBA_ASTC_6x6_Format:zC,RGBA_ASTC_8x5_Format:BC,RGBA_ASTC_8x6_Format:FC,RGBA_ASTC_8x8_Format:VC,RGBA_BPTC_Format:Ex,RGBA_ETC2_EAC_Format:DC,RGBA_PVRTC_2BPPV1_Format:OC,RGBA_PVRTC_4BPPV1_Format:RC,RGBA_S3TC_DXT1_Format:bx,RGBA_S3TC_DXT3_Format:xx,RGBA_S3TC_DXT5_Format:Sx,RGBDepthPacking:Uae,RGBFormat:pL,RGBIntegerFormat:Pae,RGB_BPTC_SIGNED_Format:XC,RGB_BPTC_UNSIGNED_Format:YC,RGB_ETC1_Format:IC,RGB_ETC2_Format:PC,RGB_PVRTC_2BPPV1_Format:MC,RGB_PVRTC_4BPPV1_Format:AC,RGB_S3TC_DXT1_Format:_x,RGDepthPacking:kae,RGFormat:mL,RGIntegerFormat:dM,RawShaderMaterial:JG,Ray:L_,Raycaster:VM,RectAreaLight:yq,RedFormat:hM,RedIntegerFormat:qS,ReinhardToneMapping:aG,RenderTarget:mM,RenderTarget3D:Ice,RenderTargetArray:Pce,RepeatWrapping:tS,ReplaceStencilOp:Bae,ReverseSubtractEquation:Vj,RingGeometry:NM,SIGNED_RED_GREEN_RGTC2_Format:QC,SIGNED_RED_RGTC1_Format:KC,SRGBColorSpace:xa,SRGBTransfer:Vi,Scene:bM,ShaderChunk:Gn,ShaderLib:yu,ShaderMaterial:Tu,ShadowMaterial:QG,Shape:ey,ShapeGeometry:LM,ShapePath:eue,ShapeUtils:_u,ShortType:hL,Skeleton:EM,SkeletonHelper:Vce,SkinnedMesh:UG,Source:Ip,Sphere:ra,SphereGeometry:Ey,Spherical:Cq,SphericalHarmonics3:vq,SplineCurve:IL,SpotLight:fq,SpotLightHelper:Fce,Sprite:SL,SpriteMaterial:SM,SrcAlphaFactor:vC,SrcAlphaSaturateFactor:Qj,SrcColorFactor:Wj,StaticCopyUsage:ioe,StaticDrawUsage:aS,StaticReadUsage:eoe,StereoCamera:fce,StreamCopyUsage:soe,StreamDrawUsage:Jae,StreamReadUsage:noe,StringKeyframeTrack:wy,SubtractEquation:Fj,SubtractiveBlending:MP,TOUCH:Cae,TangentSpaceNormalMap:lm,TetrahedronGeometry:UM,Texture:rs,TextureLoader:sce,TextureUtils:aue,TimestampQuery:ooe,TorusGeometry:kM,TorusKnotGeometry:zM,Triangle:nl,TriangleFanDrawMode:Lae,TriangleStripDrawMode:Nae,TrianglesDrawMode:Dae,TubeGeometry:KS,UVMapping:oM,Uint16BufferAttribute:bL,Uint32BufferAttribute:xL,Uint8BufferAttribute:$oe,Uint8ClampedBufferAttribute:Xoe,Uniform:GL,UniformsGroup:Nce,UniformsLib:It,UniformsUtils:IG,UnsignedByteType:Ic,UnsignedInt248Type:i_,UnsignedInt5999Type:dL,UnsignedIntType:of,UnsignedShort4444Type:cM,UnsignedShort5551Type:uM,UnsignedShortType:n_,VSMShadowMap:mu,Vector2:rt,Vector3:he,Vector4:yi,VectorKeyframeTrack:fS,VideoFrameTexture:gle,VideoTexture:VG,WebGL3DRenderTarget:Noe,WebGLArrayRenderTarget:Doe,WebGLCoordinateSystem:Rc,WebGLCubeRenderTarget:DG,WebGLRenderTarget:Eu,WebGLRenderer:Nq,WebGLUtils:Dq,WebGPUCoordinateSystem:oS,WebXRController:M2,WireframeGeometry:ZG,WrapAroundEnding:rS,ZeroCurvatureEnding:Fg,ZeroFactor:Gj,ZeroSlopeEnding:Vg,ZeroStencilOp:zae,createCanvasElement:AG},Symbol.toStringTag,{value:"Module"})),Hpe=(n,e,t=50)=>{if(!n)return;const i=new he;n.getPosition(i);const r=new he;n.getTarget(r);const s=new he().subVectors(i,e).normalize(),a=new he().copy(e).addScaledVector(s,t),o={x:i.x,y:i.y,z:i.z};rM.to(o,{x:a.x,y:a.y,z:a.z,duration:1.5,ease:"power2.out",onUpdate:()=>{n.setLookAt(o.x,o.y,o.z,e.x,e.y,e.z,!0)},onComplete:()=>{cn.setState({isNodeSceneViewActive:!0,cameraBackup:{pos:i.toArray(),target:r.toArray()}})}})},jpe=n=>{const{cameraBackup:e}=cn.getState();if(!n||!e)return;const[t,i,r]=e.pos,[s,a,o]=e.target,l=new he;n.getPosition(l);const u={x:l.x,y:l.y,z:l.z};rM.to(u,{x:t,y:i,z:r,duration:1.5,ease:"power2.inOut",onUpdate:()=>{n.setLookAt(u.x,u.y,u.z,s,a,o,!0)},onComplete:()=>{cn.setState({isNodeAddViewActive:!1,cameraBackup:null})}})};function Gpe(){const{user:n,isAuthenticated:e,isLoading:t,getAccessTokenSilently:i,logout:r,loginWithRedirect:s}=rQ();return{user:n,isAuthenticated:e,isLoading:t,getAccessToken:i,logout:r,login:s}}const qpe=n=>{const[e,t]=H.useState(null);return H.useEffect(()=>{if(!n){t(null);return}(async()=>{const r=Qne(Ah(wc,im.nodeTaxonomy),Jne("node_index","==",n)),s=await BS(r);if(s.empty){t(null);return}const a=s.docs[0];t({id:a.id,...a.data()})})()},[n]),e},Wpe=n=>{const[e,t]=H.useState([]);return H.useEffect(()=>{if(!n||n.length===0){t([]);return}(async()=>{const s=(await Promise.all(n.map(a=>iie(TN(wc,im.tabs,a))))).filter(a=>a.exists()).map(a=>({id:a.id,...a.data(),title_es:a.data().title_es,title_en:a.data().title_en}));t(s)})()},[n]),e},$pe=async n=>{try{const e=n.map(r=>BS(Ah(wc,r))),i=(await Promise.all(e)).map(r=>r.docs.map(s=>{const a=s.data();return{target:a.target,source:a.source}})).flat();return H0("debug",`Enlaces obtenidos desde Firestore(${n}): `,i),i}catch(e){return console.error("Error obteniendo enlaces desde Firestore:",e),[]}},Xpe=async n=>{try{const e=n.map(r=>BS(Ah(wc,r))),i=(await Promise.all(e)).map(r=>r.docs.map(s=>{const a=s.data();return{id:a.index,index:a.index,name:localStorage.getItem(Yi.languageUser)==="es"?a.name_es:a.name_en,group:a.group,start:a.start,end:a.end,videoid:a.videoid,description:localStorage.getItem(Yi.languageUser)==="es"?a.descrip_es:a.descrip_en}})).flat();return cn.setState({documentsFirestore:i}),H0("debug",`Documentos obtenidos desde Firestore(${im.AllSystemsNodesArray}): `,i),i}catch(e){return console.error("Error obteniendo documentos desde Firestore:",e),[]}},Ype=async()=>{try{const e=(await BS(Ah(wc,im.indexGlobal))).docs.map(i=>i.data().index);return Math.max(...e.filter(i=>typeof i=="number"))}catch(n){return console.error("Error obteniendo el valor index: ",n),0}},Kpe=async n=>{const{dbNodesName:e,dbLinksName:t,index:i,name_es:r,name_en:s,group:a,nodeSource:o,videoid:l,start:u,end:d,uploadedDate:p,descrip_en:y,descrip_es:v}=n;try{if(await dx(Ah(wc,e),{name_es:r.trim().toLowerCase(),name_en:s.trim().toLowerCase(),index:i,group:a,uploadedDate:p,videoid:l,start:u,end:d,descrip_en:y,descrip_es:v}),await rie(TN(wc,im.indexGlobal,im.indexGlobalID),{index:i}),o!==1)if(Array.isArray(o))for(const _ of o)await dx(Ah(wc,t),{target:i,source:_});else await dx(Ah(wc,t),{target:i,source:o});H0("info","Nodo agregado:",r,s,i),H0("info","Link agregado: Source:",o===1?"Nodo sin conexin {1}":o)}catch(_){console.error("Error al agregar documento:",_)}finally{cn.setState({isUploadFirestore:!1})}},Zpe=async n=>{const e=localStorage.getItem(Yi.languageUser);try{const i=(await BS(Ah(wc,n))).docs.map(r=>{const s=r.data();return{label:s.label,title:e==="es"?s.title_es:s.title_en,description:e==="es"?s.description_es:s.description_en}});return H0("debug","Grupos obtenidos desde Firestore: ",i),i}catch(t){return console.error("Error obteniendo grupos desde Firestore:",t),[]}},Qpe=async n=>{try{await dx(Ah(wc,im.nodeTaxonomy),{node_index:n.nodeIndex,category_id:n.categoryId??null,subcategory_id:n.subcategoryId??null,specific_category_id:n.specificCategoryId??null,tab_ids:n.tabIds}),H0("info","Taxonoma asignada al nodo:",n.nodeIndex)}catch(e){console.error("Error asignando taxonoma:",e)}},Jpe=()=>{const n=cn(r=>r.systemBjjSelectedNodes),e=cn(r=>r.systemBjjSelectedLinks),[t,i]=H.useState({nodes:[],links:[]});return H.useEffect(()=>{(async()=>{cn.setState({isLoadingFirestore:!0});try{const a=(await Xpe(n)).filter(l=>l.id!==1),o=await $pe(e);cn.setState({linksData:o}),i({nodes:a,links:o})}catch(s){console.error("Error obteniendo datos:",s)}finally{cn.setState({isLoadingFirestore:!1})}})()},[n,e]),t};function HP(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=Array(e);t<e;t++)i[t]=n[t];return i}function eme(n){if(Array.isArray(n))return n}function tme(n){if(Array.isArray(n))return HP(n)}function nme(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function ime(n,e,t){return e=rA(e),dme(n,Lq()?Reflect.construct(e,t||[],rA(n).constructor):e.apply(n,t))}function rme(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function sme(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,pme(i.key),i)}}function ame(n,e,t){return e&&sme(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function rA(n){return rA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},rA(n)}function ome(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&jP(n,e)}function Lq(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Lq=function(){return!!n})()}function lme(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function cme(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,r,s,a,o=[],l=!0,u=!1;try{if(s=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;l=!1}else for(;!(l=(i=s.call(t)).done)&&(o.push(i.value),o.length!==e);l=!0);}catch(d){u=!0,r=d}finally{try{if(!l&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw r}}return o}}function ume(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dme(n,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nme(n)}function jP(n,e){return jP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},jP(n,e)}function PB(n,e){return eme(n)||cme(n,e)||Uq(n,e)||ume()}function b1(n){return tme(n)||lme(n)||Uq(n)||hme()}function fme(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function pme(n){var e=fme(n,"string");return typeof e=="symbol"?e:e+""}function Uq(n,e){if(n){if(typeof n=="string")return HP(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?HP(n,e):void 0}}var x1=typeof window<"u"&&window.THREE?window.THREE:{CanvasTexture:wL,Sprite:SL,SpriteMaterial:SM,SRGBColorSpace:xa},mme=(function(n){function e(){var t,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:10,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"rgba(255, 255, 255, 1)";return rme(this,e),t=ime(this,e,[new x1.SpriteMaterial]),t._text="".concat(i),t._textHeight=r,t._color=s,t._backgroundColor=!1,t._padding=0,t._borderWidth=0,t._borderRadius=0,t._borderColor="white",t._offsetX=0,t._offsetY=0,t._strokeWidth=0,t._strokeColor="white",t._fontFace="system-ui",t._fontSize=90,t._fontWeight="normal",t._canvas=document.createElement("canvas"),t._genCanvas(),t}return ome(e,n),ame(e,[{key:"text",get:function(){return this._text},set:function(i){this._text=i,this._genCanvas()}},{key:"textHeight",get:function(){return this._textHeight},set:function(i){this._textHeight=i,this._genCanvas()}},{key:"color",get:function(){return this._color},set:function(i){this._color=i,this._genCanvas()}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(i){this._backgroundColor=i,this._genCanvas()}},{key:"padding",get:function(){return this._padding},set:function(i){this._padding=i,this._genCanvas()}},{key:"borderWidth",get:function(){return this._borderWidth},set:function(i){this._borderWidth=i,this._genCanvas()}},{key:"borderRadius",get:function(){return this._borderRadius},set:function(i){this._borderRadius=i,this._genCanvas()}},{key:"borderColor",get:function(){return this._borderColor},set:function(i){this._borderColor=i,this._genCanvas()}},{key:"offsetX",get:function(){return this._offsetX},set:function(i){this._offsetX=i,this._genCanvas()}},{key:"offsetY",get:function(){return this._offsetY},set:function(i){this._offsetY=i,this._genCanvas()}},{key:"fontFace",get:function(){return this._fontFace},set:function(i){this._fontFace=i,this._genCanvas()}},{key:"fontSize",get:function(){return this._fontSize},set:function(i){this._fontSize=i,this._genCanvas()}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(i){this._fontWeight=i,this._genCanvas()}},{key:"strokeWidth",get:function(){return this._strokeWidth},set:function(i){this._strokeWidth=i,this._genCanvas()}},{key:"strokeColor",get:function(){return this._strokeColor},set:function(i){this._strokeColor=i,this._genCanvas()}},{key:"_genCanvas",value:function(){var i=this,r=this._canvas,s=r.getContext("2d"),a=1/this.textHeight,o=Array.isArray(this.borderWidth)?this.borderWidth:[this.borderWidth,this.borderWidth],l=o.map(function(F){return F*i.fontSize*a}),u=Array.isArray(this.borderRadius)?this.borderRadius:[this.borderRadius,this.borderRadius,this.borderRadius,this.borderRadius],d=u.map(function(F){return F*i.fontSize*a}),p=Array.isArray(this.padding)?this.padding:[this.padding,this.padding],y=p.map(function(F){return F*i.fontSize*a}),v=[this.offsetX,this.offsetY].map(function(F){return F*i.fontSize*a}),_=this.text.split(`
`),S="".concat(this.fontWeight," ").concat(this.fontSize,"px ").concat(this.fontFace);s.font=S;var E=Math.max.apply(Math,b1(_.map(function(F){return s.measureText(F).width}))),b=this.fontSize*_.length,w=E+l[0]*2+y[0]*2,A=b+l[1]*2+y[1]*2;if(r.width=w+Math.abs(v[0]),r.height=A+Math.abs(v[1]),s.translate.apply(s,b1(v.map(function(F){return Math.max(0,F)}))),this.borderWidth){if(s.strokeStyle=this.borderColor,l[0]){var C=l[0]/2;s.lineWidth=l[0],s.beginPath(),s.moveTo(C,d[0]),s.lineTo(C,A-d[3]),s.moveTo(w-C,d[1]),s.lineTo(w-C,A-d[2]),s.stroke()}if(l[1]){var D=l[1]/2;s.lineWidth=l[1],s.beginPath(),s.moveTo(Math.max(l[0],d[0]),D),s.lineTo(w-Math.max(l[0],d[1]),D),s.moveTo(Math.max(l[0],d[3]),A-D),s.lineTo(w-Math.max(l[0],d[2]),A-D),s.stroke()}if(this.borderRadius){var N=Math.max.apply(Math,b1(l)),I=N/2;s.lineWidth=N,s.beginPath(),[!!d[0]&&[d[0],I,I,d[0]],!!d[1]&&[w-d[1],w-I,I,d[1]],!!d[2]&&[w-d[2],w-I,A-I,A-d[2]],!!d[3]&&[d[3],I,A-I,A-d[3]]].filter(function(F){return F}).forEach(function(F){var z=PB(F,4),V=z[0],Y=z[1],ee=z[2],q=z[3];s.moveTo(V,ee),s.quadraticCurveTo(Y,ee,Y,q)}),s.stroke()}}this.backgroundColor&&(s.fillStyle=this.backgroundColor,this.borderRadius?(s.beginPath(),s.moveTo(l[0],d[0]),[[l[0],d[0],w-d[1],l[1],l[1],l[1]],[w-l[0],w-l[0],w-l[0],l[1],d[1],A-d[2]],[w-l[0],w-d[2],d[3],A-l[1],A-l[1],A-l[1]],[l[0],l[0],l[0],A-l[1],A-d[3],d[0]]].forEach(function(F){var z=PB(F,6),V=z[0],Y=z[1],ee=z[2],q=z[3],$=z[4],Q=z[5];s.quadraticCurveTo(V,q,Y,$),s.lineTo(ee,Q)}),s.closePath(),s.fill()):s.fillRect(l[0],l[1],w-l[0]*2,A-l[1]*2)),s.translate.apply(s,b1(l)),s.translate.apply(s,b1(y)),s.font=S,s.fillStyle=this.color,s.textBaseline="bottom";var L=this.strokeWidth>0;L&&(s.lineWidth=this.strokeWidth*this.fontSize/10,s.strokeStyle=this.strokeColor),_.forEach(function(F,z){var V=(E-s.measureText(F).width)/2,Y=(z+1)*i.fontSize;L&&s.strokeText(F,V,Y),s.fillText(F,V,Y)}),this.material.map&&this.material.map.dispose();var P=this.material.map=new x1.CanvasTexture(r);P.colorSpace=x1.SRGBColorSpace;var U=this.textHeight*_.length+o[1]*2+p[1]*2+Math.abs(this.offsetY);this.scale.set(U*r.width/r.height,U,0)}},{key:"clone",value:function(){return new this.constructor(this.text,this.textHeight,this.color).copy(this)}},{key:"copy",value:function(i){return x1.Sprite.prototype.copy.call(this,i),this.color=i.color,this.backgroundColor=i.backgroundColor,this.padding=i.padding,this.borderWidth=i.borderWidth,this.borderColor=i.borderColor,this.offsetX=i.offsetX,this.offsetY=i.offsetY,this.fontFace=i.fontFace,this.fontSize=i.fontSize,this.fontWeight=i.fontWeight,this.strokeWidth=i.strokeWidth,this.strokeColor=i.strokeColor,this}}])})(x1.Sprite);function gme(n){const e=new Vd,t=s$[n.group??"default"]??"gray",i=new is(new Ey(5,5),new BM({color:t})),r=new mme(`${n.name} {${n.id}}`);return r.color="white",r.textHeight=3,r.position.set(0,7,0),r.backgroundColor="#000",e.add(i),e.add(r),e}const Ew=()=>{const n=navigator.userAgent;return/android/i.test(n)?"Android":/iPad|iPhone|iPod/.test(n)?"iOS":/Windows NT/.test(n)?"Windows":/Mac OS X/.test(n)?"macOS":/Linux/.test(n)?"Linux":"Unknown"},DB=n=>n,yme=()=>{let n=DB;return{configure(e){n=e},generate(e){return n(e)},reset(){n=DB}}},kq=yme();function uf(n,...e){const t=new URL(`https://mui.com/production-error/?code=${n}`);return e.forEach(i=>t.searchParams.append("args[]",i)),`Minified MUI error #${n}; visit ${t} for the full message.`}function yt(n){if(typeof n!="string")throw new Error(uf(7));return n.charAt(0).toUpperCase()+n.slice(1)}function NB(...n){return n.reduce((e,t)=>t==null?e:function(...r){e.apply(this,r),t.apply(this,r)},()=>{})}var vI={exports:{}},_I,LB;function vme(){if(LB)return _I;LB=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return _I=n,_I}var bI,UB;function _me(){if(UB)return bI;UB=1;var n=vme();function e(){}function t(){}return t.resetWarningCache=e,bI=function(){function i(a,o,l,u,d,p){if(p!==n){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}i.isRequired=i;function r(){return i}var s={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:r,element:i,elementType:i,instanceOf:r,node:i,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:t,resetWarningCache:e};return s.PropTypes=s,s},bI}var kB;function bme(){return kB||(kB=1,vI.exports=_me()()),vI.exports}var xme=bme();const _a=rm(xme);function zq(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(e=0;e<r;e++)n[e]&&(t=zq(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function Pt(){for(var n,e,t=0,i="",r=arguments.length;t<r;t++)(n=arguments[t])&&(e=zq(n))&&(i&&(i+=" "),i+=e);return i}function gn(n,e,t=void 0){const i={};for(const r in n){const s=n[r];let a="",o=!0;for(let l=0;l<s.length;l+=1){const u=s[l];u&&(a+=(o===!0?"":" ")+e(u),o=!1,t&&t[u]&&(a+=" "+t[u]))}i[r]=a}return i}var xI={exports:{}},Xi={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zB;function Sme(){if(zB)return Xi;zB=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),v=Symbol.for("react.client.reference");function _(S){if(typeof S=="object"&&S!==null){var E=S.$$typeof;switch(E){case n:switch(S=S.type,S){case t:case r:case i:case l:case u:case y:return S;default:switch(S=S&&S.$$typeof,S){case a:case o:case p:case d:return S;case s:return S;default:return E}}case e:return E}}}return Xi.ContextConsumer=s,Xi.ContextProvider=a,Xi.Element=n,Xi.ForwardRef=o,Xi.Fragment=t,Xi.Lazy=p,Xi.Memo=d,Xi.Portal=e,Xi.Profiler=r,Xi.StrictMode=i,Xi.Suspense=l,Xi.SuspenseList=u,Xi.isContextConsumer=function(S){return _(S)===s},Xi.isContextProvider=function(S){return _(S)===a},Xi.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===n},Xi.isForwardRef=function(S){return _(S)===o},Xi.isFragment=function(S){return _(S)===t},Xi.isLazy=function(S){return _(S)===p},Xi.isMemo=function(S){return _(S)===d},Xi.isPortal=function(S){return _(S)===e},Xi.isProfiler=function(S){return _(S)===r},Xi.isStrictMode=function(S){return _(S)===i},Xi.isSuspense=function(S){return _(S)===l},Xi.isSuspenseList=function(S){return _(S)===u},Xi.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===t||S===r||S===i||S===l||S===u||typeof S=="object"&&S!==null&&(S.$$typeof===p||S.$$typeof===d||S.$$typeof===a||S.$$typeof===s||S.$$typeof===o||S.$$typeof===v||S.getModuleId!==void 0)},Xi.typeOf=_,Xi}var BB;function Eme(){return BB||(BB=1,xI.exports=Sme()),xI.exports}var Bq=Eme();function bh(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function Fq(n){if(H.isValidElement(n)||Bq.isValidElementType(n)||!bh(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=Fq(n[t])}),e}function sa(n,e,t={clone:!0}){const i=t.clone?{...n}:n;return bh(n)&&bh(e)&&Object.keys(e).forEach(r=>{H.isValidElement(e[r])||Bq.isValidElementType(e[r])?i[r]=e[r]:bh(e[r])&&Object.prototype.hasOwnProperty.call(n,r)&&bh(n[r])?i[r]=sa(n[r],e[r],t):t.clone?i[r]=bh(e[r])?Fq(e[r]):e[r]:i[r]=e[r]}),i}function Ax(n,e){return e?sa(n,e,{clone:!1}):n}function FB(n,e){if(!n.containerQueries)return e;const t=Object.keys(e).filter(i=>i.startsWith("@container")).sort((i,r)=>{const s=/min-width:\s*([0-9.]+)/;return+(i.match(s)?.[1]||0)-+(r.match(s)?.[1]||0)});return t.length?t.reduce((i,r)=>{const s=e[r];return delete i[r],i[r]=s,i},{...e}):e}function Tme(n,e){return e==="@"||e.startsWith("@")&&(n.some(t=>e.startsWith(`@${t}`))||!!e.match(/^@\d/))}function wme(n,e){const t=e.match(/^@([^/]+)?\/?(.+)?$/);if(!t)return null;const[,i,r]=t,s=Number.isNaN(+i)?i||0:+i;return n.containerQueries(r).up(s)}function Cme(n){const e=(s,a)=>s.replace("@media",a?`@container ${a}`:"@container");function t(s,a){s.up=(...o)=>e(n.breakpoints.up(...o),a),s.down=(...o)=>e(n.breakpoints.down(...o),a),s.between=(...o)=>e(n.breakpoints.between(...o),a),s.only=(...o)=>e(n.breakpoints.only(...o),a),s.not=(...o)=>{const l=e(n.breakpoints.not(...o),a);return l.includes("not all and")?l.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):l}}const i={},r=s=>(t(i,s),i);return t(r),{...n,containerQueries:r}}const jM={xs:0,sm:600,md:900,lg:1200,xl:1536},VB={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${jM[n]}px)`},Ame={containerQueries:n=>({up:e=>{let t=typeof e=="number"?e:jM[e]||e;return typeof t=="number"&&(t=`${t}px`),n?`@container ${n} (min-width:${t})`:`@container (min-width:${t})`}})};function wu(n,e,t){const i=n.theme||{};if(Array.isArray(e)){const s=i.breakpoints||VB;return e.reduce((a,o,l)=>(a[s.up(s.keys[l])]=t(e[l]),a),{})}if(typeof e=="object"){const s=i.breakpoints||VB;return Object.keys(e).reduce((a,o)=>{if(Tme(s.keys,o)){const l=wme(i.containerQueries?i:Ame,o);l&&(a[l]=t(e[o],o))}else if(Object.keys(s.values||jM).includes(o)){const l=s.up(o);a[l]=t(e[o],o)}else{const l=o;a[l]=e[l]}return a},{})}return t(e)}function Vq(n={}){return n.keys?.reduce((t,i)=>{const r=n.up(i);return t[r]={},t},{})||{}}function GP(n,e){return n.reduce((t,i)=>{const r=t[i];return(!r||Object.keys(r).length===0)&&delete t[i],t},e)}function Mme(n,...e){const t=Vq(n),i=[t,...e].reduce((r,s)=>sa(r,s),{});return GP(Object.keys(t),i)}function Rme(n,e){if(typeof n!="object")return{};const t={},i=Object.keys(e);return Array.isArray(n)?i.forEach((r,s)=>{s<n.length&&(t[r]=!0)}):i.forEach(r=>{n[r]!=null&&(t[r]=!0)}),t}function SI({values:n,breakpoints:e,base:t}){const i=t||Rme(n,e),r=Object.keys(i);if(r.length===0)return n;let s;return r.reduce((a,o,l)=>(Array.isArray(n)?(a[o]=n[l]!=null?n[l]:n[s],s=l):typeof n=="object"?(a[o]=n[o]!=null?n[o]:n[s],s=o):a[o]=n,a),{})}function GM(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const i=`vars.${e}`.split(".").reduce((r,s)=>r&&r[s]?r[s]:null,n);if(i!=null)return i}return e.split(".").reduce((i,r)=>i&&i[r]!=null?i[r]:null,n)}function sA(n,e,t,i=t){let r;return typeof n=="function"?r=n(t):Array.isArray(n)?r=n[t]||i:r=GM(n,t)||i,e&&(r=e(r,i,n)),r}function ms(n){const{prop:e,cssProperty:t=n.prop,themeKey:i,transform:r}=n,s=a=>{if(a[e]==null)return null;const o=a[e],l=a.theme,u=GM(l,i)||{};return wu(a,o,p=>{let y=sA(u,r,p);return p===y&&typeof p=="string"&&(y=sA(u,r,`${e}${p==="default"?"":yt(p)}`,p)),t===!1?y:{[t]:y}})};return s.propTypes={},s.filterProps=[e],s}function Ome(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const Ime={m:"margin",p:"padding"},Pme={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},HB={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Dme=Ome(n=>{if(n.length>2)if(HB[n])n=HB[n];else return[n];const[e,t]=n.split(""),i=Ime[e],r=Pme[t]||"";return Array.isArray(r)?r.map(s=>i+s):[i+r]}),$L=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],XL=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...$L,...XL];function eE(n,e,t,i){const r=GM(n,e,!0)??t;return typeof r=="number"||typeof r=="string"?s=>typeof s=="string"?s:typeof r=="string"?r.startsWith("var(")&&s===0?0:r.startsWith("var(")&&s===1?r:`calc(${s} * ${r})`:r*s:Array.isArray(r)?s=>{if(typeof s=="string")return s;const a=Math.abs(s),o=r[a];return s>=0?o:typeof o=="number"?-o:typeof o=="string"&&o.startsWith("var(")?`calc(-1 * ${o})`:`-${o}`}:typeof r=="function"?r:()=>{}}function qM(n){return eE(n,"spacing",8)}function hy(n,e){return typeof e=="string"||e==null?e:n(e)}function Nme(n,e){return t=>n.reduce((i,r)=>(i[r]=hy(e,t),i),{})}function Lme(n,e,t,i){if(!e.includes(t))return null;const r=Dme(t),s=Nme(r,i),a=n[t];return wu(n,a,s)}function Hq(n,e){const t=qM(n.theme);return Object.keys(n).map(i=>Lme(n,e,i,t)).reduce(Ax,{})}function Zr(n){return Hq(n,$L)}Zr.propTypes={};Zr.filterProps=$L;function Qr(n){return Hq(n,XL)}Qr.propTypes={};Qr.filterProps=XL;function WM(...n){const e=n.reduce((i,r)=>(r.filterProps.forEach(s=>{i[s]=r}),i),{}),t=i=>Object.keys(i).reduce((r,s)=>e[s]?Ax(r,e[s](i)):r,{});return t.propTypes={},t.filterProps=n.reduce((i,r)=>i.concat(r.filterProps),[]),t}function Sc(n){return typeof n!="number"?n:`${n}px solid`}function Uc(n,e){return ms({prop:n,themeKey:"borders",transform:e})}const Ume=Uc("border",Sc),kme=Uc("borderTop",Sc),zme=Uc("borderRight",Sc),Bme=Uc("borderBottom",Sc),Fme=Uc("borderLeft",Sc),Vme=Uc("borderColor"),Hme=Uc("borderTopColor"),jme=Uc("borderRightColor"),Gme=Uc("borderBottomColor"),qme=Uc("borderLeftColor"),Wme=Uc("outline",Sc),$me=Uc("outlineColor"),$M=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=eE(n.theme,"shape.borderRadius",4),t=i=>({borderRadius:hy(e,i)});return wu(n,n.borderRadius,t)}return null};$M.propTypes={};$M.filterProps=["borderRadius"];WM(Ume,kme,zme,Bme,Fme,Vme,Hme,jme,Gme,qme,$M,Wme,$me);const XM=n=>{if(n.gap!==void 0&&n.gap!==null){const e=eE(n.theme,"spacing",8),t=i=>({gap:hy(e,i)});return wu(n,n.gap,t)}return null};XM.propTypes={};XM.filterProps=["gap"];const YM=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=eE(n.theme,"spacing",8),t=i=>({columnGap:hy(e,i)});return wu(n,n.columnGap,t)}return null};YM.propTypes={};YM.filterProps=["columnGap"];const KM=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=eE(n.theme,"spacing",8),t=i=>({rowGap:hy(e,i)});return wu(n,n.rowGap,t)}return null};KM.propTypes={};KM.filterProps=["rowGap"];const Xme=ms({prop:"gridColumn"}),Yme=ms({prop:"gridRow"}),Kme=ms({prop:"gridAutoFlow"}),Zme=ms({prop:"gridAutoColumns"}),Qme=ms({prop:"gridAutoRows"}),Jme=ms({prop:"gridTemplateColumns"}),ege=ms({prop:"gridTemplateRows"}),tge=ms({prop:"gridTemplateAreas"}),nge=ms({prop:"gridArea"});WM(XM,YM,KM,Xme,Yme,Kme,Zme,Qme,Jme,ege,tge,nge);function z0(n,e){return e==="grey"?e:n}const ige=ms({prop:"color",themeKey:"palette",transform:z0}),rge=ms({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:z0}),sge=ms({prop:"backgroundColor",themeKey:"palette",transform:z0});WM(ige,rge,sge);function Dl(n){return n<=1&&n!==0?`${n*100}%`:n}const age=ms({prop:"width",transform:Dl}),YL=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{const i=n.theme?.breakpoints?.values?.[t]||jM[t];return i?n.theme?.breakpoints?.unit!=="px"?{maxWidth:`${i}${n.theme.breakpoints.unit}`}:{maxWidth:i}:{maxWidth:Dl(t)}};return wu(n,n.maxWidth,e)}return null};YL.filterProps=["maxWidth"];const oge=ms({prop:"minWidth",transform:Dl}),lge=ms({prop:"height",transform:Dl}),cge=ms({prop:"maxHeight",transform:Dl}),uge=ms({prop:"minHeight",transform:Dl});ms({prop:"size",cssProperty:"width",transform:Dl});ms({prop:"size",cssProperty:"height",transform:Dl});const hge=ms({prop:"boxSizing"});WM(age,YL,oge,lge,cge,uge,hge);const tE={border:{themeKey:"borders",transform:Sc},borderTop:{themeKey:"borders",transform:Sc},borderRight:{themeKey:"borders",transform:Sc},borderBottom:{themeKey:"borders",transform:Sc},borderLeft:{themeKey:"borders",transform:Sc},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Sc},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:$M},color:{themeKey:"palette",transform:z0},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:z0},backgroundColor:{themeKey:"palette",transform:z0},p:{style:Qr},pt:{style:Qr},pr:{style:Qr},pb:{style:Qr},pl:{style:Qr},px:{style:Qr},py:{style:Qr},padding:{style:Qr},paddingTop:{style:Qr},paddingRight:{style:Qr},paddingBottom:{style:Qr},paddingLeft:{style:Qr},paddingX:{style:Qr},paddingY:{style:Qr},paddingInline:{style:Qr},paddingInlineStart:{style:Qr},paddingInlineEnd:{style:Qr},paddingBlock:{style:Qr},paddingBlockStart:{style:Qr},paddingBlockEnd:{style:Qr},m:{style:Zr},mt:{style:Zr},mr:{style:Zr},mb:{style:Zr},ml:{style:Zr},mx:{style:Zr},my:{style:Zr},margin:{style:Zr},marginTop:{style:Zr},marginRight:{style:Zr},marginBottom:{style:Zr},marginLeft:{style:Zr},marginX:{style:Zr},marginY:{style:Zr},marginInline:{style:Zr},marginInlineStart:{style:Zr},marginInlineEnd:{style:Zr},marginBlock:{style:Zr},marginBlockStart:{style:Zr},marginBlockEnd:{style:Zr},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:XM},rowGap:{style:KM},columnGap:{style:YM},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Dl},maxWidth:{style:YL},minWidth:{transform:Dl},height:{transform:Dl},maxHeight:{transform:Dl},minHeight:{transform:Dl},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function dge(...n){const e=n.reduce((i,r)=>i.concat(Object.keys(r)),[]),t=new Set(e);return n.every(i=>t.size===Object.keys(i).length)}function fge(n,e){return typeof n=="function"?n(e):n}function pge(){function n(t,i,r,s){const a={[t]:i,theme:r},o=s[t];if(!o)return{[t]:i};const{cssProperty:l=t,themeKey:u,transform:d,style:p}=o;if(i==null)return null;if(u==="typography"&&i==="inherit")return{[t]:i};const y=GM(r,u)||{};return p?p(a):wu(a,i,_=>{let S=sA(y,d,_);return _===S&&typeof _=="string"&&(S=sA(y,d,`${t}${_==="default"?"":yt(_)}`,_)),l===!1?S:{[l]:S}})}function e(t){const{sx:i,theme:r={},nested:s}=t||{};if(!i)return null;const a=r.unstable_sxConfig??tE;function o(l){let u=l;if(typeof l=="function")u=l(r);else if(typeof l!="object")return l;if(!u)return null;const d=Vq(r.breakpoints),p=Object.keys(d);let y=d;return Object.keys(u).forEach(v=>{const _=fge(u[v],r);if(_!=null)if(typeof _=="object")if(a[v])y=Ax(y,n(v,_,r,a));else{const S=wu({theme:r},_,E=>({[v]:E}));dge(S,_)?y[v]=e({sx:_,theme:r,nested:!0}):y=Ax(y,S)}else y=Ax(y,n(v,_,r,a))}),!s&&r.modularCssLayers?{"@layer sx":FB(r,GP(p,y))}:FB(r,GP(p,y))}return Array.isArray(i)?i.map(o):o(i)}return e}const dy=pge();dy.filterProps=["sx"];const mge=n=>{const e={systemProps:{},otherProps:{}},t=n?.theme?.unstable_sxConfig??tE;return Object.keys(n).forEach(i=>{t[i]?e.systemProps[i]=n[i]:e.otherProps[i]=n[i]}),e};function ZM(n){const{sx:e,...t}=n,{systemProps:i,otherProps:r}=mge(t);let s;return Array.isArray(e)?s=[i,...e]:typeof e=="function"?s=(...a)=>{const o=e(...a);return bh(o)?{...i,...o}:i}:s={...i,...e},{...r,sx:s}}function el(){return el=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},el.apply(null,arguments)}function gge(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function yge(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var vge=(function(){function n(t){var i=this;this._insertTag=function(r){var s;i.tags.length===0?i.insertionPoint?s=i.insertionPoint.nextSibling:i.prepend?s=i.container.firstChild:s=i.before:s=i.tags[i.tags.length-1].nextSibling,i.container.insertBefore(r,s),i.tags.push(r)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(i){i.forEach(this._insertTag)},e.insert=function(i){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(yge(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var s=gge(r);try{s.insertRule(i,s.cssRules.length)}catch{}}else r.appendChild(document.createTextNode(i));this.ctr++},e.flush=function(){this.tags.forEach(function(i){var r;return(r=i.parentNode)==null?void 0:r.removeChild(i)}),this.tags=[],this.ctr=0},n})(),Ya="-ms-",aA="-moz-",Oi="-webkit-",jq="comm",KL="rule",ZL="decl",_ge="@import",Gq="@keyframes",bge="@layer",xge=Math.abs,QM=String.fromCharCode,Sge=Object.assign;function Ege(n,e){return Sa(n,0)^45?(((e<<2^Sa(n,0))<<2^Sa(n,1))<<2^Sa(n,2))<<2^Sa(n,3):0}function qq(n){return n.trim()}function Tge(n,e){return(n=e.exec(n))?n[0]:n}function Ii(n,e,t){return n.replace(e,t)}function qP(n,e){return n.indexOf(e)}function Sa(n,e){return n.charCodeAt(e)|0}function gS(n,e,t){return n.slice(e,t)}function mh(n){return n.length}function QL(n){return n.length}function Tw(n,e){return e.push(n),n}function wge(n,e){return n.map(e).join("")}var JM=1,h_=1,Wq=0,ul=0,As=0,V_="";function eR(n,e,t,i,r,s,a){return{value:n,root:e,parent:t,type:i,props:r,children:s,line:JM,column:h_,length:a,return:""}}function S1(n,e){return Sge(eR("",null,null,"",null,null,0),n,{length:-n.length},e)}function Cge(){return As}function Age(){return As=ul>0?Sa(V_,--ul):0,h_--,As===10&&(h_=1,JM--),As}function Bl(){return As=ul<Wq?Sa(V_,ul++):0,h_++,As===10&&(h_=1,JM++),As}function Nh(){return Sa(V_,ul)}function O2(){return ul}function nE(n,e){return gS(V_,n,e)}function yS(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function $q(n){return JM=h_=1,Wq=mh(V_=n),ul=0,[]}function Xq(n){return V_="",n}function I2(n){return qq(nE(ul-1,WP(n===91?n+2:n===40?n+1:n)))}function Mge(n){for(;(As=Nh())&&As<33;)Bl();return yS(n)>2||yS(As)>3?"":" "}function Rge(n,e){for(;--e&&Bl()&&!(As<48||As>102||As>57&&As<65||As>70&&As<97););return nE(n,O2()+(e<6&&Nh()==32&&Bl()==32))}function WP(n){for(;Bl();)switch(As){case n:return ul;case 34:case 39:n!==34&&n!==39&&WP(As);break;case 40:n===41&&WP(n);break;case 92:Bl();break}return ul}function Oge(n,e){for(;Bl()&&n+As!==57;)if(n+As===84&&Nh()===47)break;return"/*"+nE(e,ul-1)+"*"+QM(n===47?n:Bl())}function Ige(n){for(;!yS(Nh());)Bl();return nE(n,ul)}function Pge(n){return Xq(P2("",null,null,null,[""],n=$q(n),0,[0],n))}function P2(n,e,t,i,r,s,a,o,l){for(var u=0,d=0,p=a,y=0,v=0,_=0,S=1,E=1,b=1,w=0,A="",C=r,D=s,N=i,I=A;E;)switch(_=w,w=Bl()){case 40:if(_!=108&&Sa(I,p-1)==58){qP(I+=Ii(I2(w),"&","&\f"),"&\f")!=-1&&(b=-1);break}case 34:case 39:case 91:I+=I2(w);break;case 9:case 10:case 13:case 32:I+=Mge(_);break;case 92:I+=Rge(O2()-1,7);continue;case 47:switch(Nh()){case 42:case 47:Tw(Dge(Oge(Bl(),O2()),e,t),l);break;default:I+="/"}break;case 123*S:o[u++]=mh(I)*b;case 125*S:case 59:case 0:switch(w){case 0:case 125:E=0;case 59+d:b==-1&&(I=Ii(I,/\f/g,"")),v>0&&mh(I)-p&&Tw(v>32?GB(I+";",i,t,p-1):GB(Ii(I," ","")+";",i,t,p-2),l);break;case 59:I+=";";default:if(Tw(N=jB(I,e,t,u,d,r,o,A,C=[],D=[],p),s),w===123)if(d===0)P2(I,e,N,N,C,s,p,o,D);else switch(y===99&&Sa(I,3)===110?100:y){case 100:case 108:case 109:case 115:P2(n,N,N,i&&Tw(jB(n,N,N,0,0,r,o,A,r,C=[],p),D),r,D,p,o,i?C:D);break;default:P2(I,N,N,N,[""],D,0,o,D)}}u=d=v=0,S=b=1,A=I="",p=a;break;case 58:p=1+mh(I),v=_;default:if(S<1){if(w==123)--S;else if(w==125&&S++==0&&Age()==125)continue}switch(I+=QM(w),w*S){case 38:b=d>0?1:(I+="\f",-1);break;case 44:o[u++]=(mh(I)-1)*b,b=1;break;case 64:Nh()===45&&(I+=I2(Bl())),y=Nh(),d=p=mh(A=I+=Ige(O2())),w++;break;case 45:_===45&&mh(I)==2&&(S=0)}}return s}function jB(n,e,t,i,r,s,a,o,l,u,d){for(var p=r-1,y=r===0?s:[""],v=QL(y),_=0,S=0,E=0;_<i;++_)for(var b=0,w=gS(n,p+1,p=xge(S=a[_])),A=n;b<v;++b)(A=qq(S>0?y[b]+" "+w:Ii(w,/&\f/g,y[b])))&&(l[E++]=A);return eR(n,e,t,r===0?KL:o,l,u,d)}function Dge(n,e,t){return eR(n,e,t,jq,QM(Cge()),gS(n,2,-2),0)}function GB(n,e,t,i){return eR(n,e,t,ZL,gS(n,0,i),gS(n,i+1,-1),i)}function B0(n,e){for(var t="",i=QL(n),r=0;r<i;r++)t+=e(n[r],r,n,e)||"";return t}function Nge(n,e,t,i){switch(n.type){case bge:if(n.children.length)break;case _ge:case ZL:return n.return=n.return||n.value;case jq:return"";case Gq:return n.return=n.value+"{"+B0(n.children,i)+"}";case KL:n.value=n.props.join(",")}return mh(t=B0(n.children,i))?n.return=n.value+"{"+t+"}":""}function Lge(n){var e=QL(n);return function(t,i,r,s){for(var a="",o=0;o<e;o++)a+=n[o](t,i,r,s)||"";return a}}function Uge(n){return function(e){e.root||(e=e.return)&&n(e)}}function Yq(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var kge=function(e,t,i){for(var r=0,s=0;r=s,s=Nh(),r===38&&s===12&&(t[i]=1),!yS(s);)Bl();return nE(e,ul)},zge=function(e,t){var i=-1,r=44;do switch(yS(r)){case 0:r===38&&Nh()===12&&(t[i]=1),e[i]+=kge(ul-1,t,i);break;case 2:e[i]+=I2(r);break;case 4:if(r===44){e[++i]=Nh()===58?"&\f":"",t[i]=e[i].length;break}default:e[i]+=QM(r)}while(r=Bl());return e},Bge=function(e,t){return Xq(zge($q(e),t))},qB=new WeakMap,Fge=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,i=e.parent,r=e.column===i.column&&e.line===i.line;i.type!=="rule";)if(i=i.parent,!i)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!qB.get(i))&&!r){qB.set(e,!0);for(var s=[],a=Bge(t,s),o=i.props,l=0,u=0;l<a.length;l++)for(var d=0;d<o.length;d++,u++)e.props[u]=s[l]?a[l].replace(/&\f/g,o[d]):o[d]+" "+a[l]}}},Vge=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function Kq(n,e){switch(Ege(n,e)){case 5103:return Oi+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Oi+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return Oi+n+aA+n+Ya+n+n;case 6828:case 4268:return Oi+n+Ya+n+n;case 6165:return Oi+n+Ya+"flex-"+n+n;case 5187:return Oi+n+Ii(n,/(\w+).+(:[^]+)/,Oi+"box-$1$2"+Ya+"flex-$1$2")+n;case 5443:return Oi+n+Ya+"flex-item-"+Ii(n,/flex-|-self/,"")+n;case 4675:return Oi+n+Ya+"flex-line-pack"+Ii(n,/align-content|flex-|-self/,"")+n;case 5548:return Oi+n+Ya+Ii(n,"shrink","negative")+n;case 5292:return Oi+n+Ya+Ii(n,"basis","preferred-size")+n;case 6060:return Oi+"box-"+Ii(n,"-grow","")+Oi+n+Ya+Ii(n,"grow","positive")+n;case 4554:return Oi+Ii(n,/([^-])(transform)/g,"$1"+Oi+"$2")+n;case 6187:return Ii(Ii(Ii(n,/(zoom-|grab)/,Oi+"$1"),/(image-set)/,Oi+"$1"),n,"")+n;case 5495:case 3959:return Ii(n,/(image-set\([^]*)/,Oi+"$1$`$1");case 4968:return Ii(Ii(n,/(.+:)(flex-)?(.*)/,Oi+"box-pack:$3"+Ya+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Oi+n+n;case 4095:case 3583:case 4068:case 2532:return Ii(n,/(.+)-inline(.+)/,Oi+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(mh(n)-1-e>6)switch(Sa(n,e+1)){case 109:if(Sa(n,e+4)!==45)break;case 102:return Ii(n,/(.+:)(.+)-([^]+)/,"$1"+Oi+"$2-$3$1"+aA+(Sa(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~qP(n,"stretch")?Kq(Ii(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(Sa(n,e+1)!==115)break;case 6444:switch(Sa(n,mh(n)-3-(~qP(n,"!important")&&10))){case 107:return Ii(n,":",":"+Oi)+n;case 101:return Ii(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Oi+(Sa(n,14)===45?"inline-":"")+"box$3$1"+Oi+"$2$3$1"+Ya+"$2box$3")+n}break;case 5936:switch(Sa(n,e+11)){case 114:return Oi+n+Ya+Ii(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return Oi+n+Ya+Ii(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return Oi+n+Ya+Ii(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return Oi+n+Ya+n+n}return n}var Hge=function(e,t,i,r){if(e.length>-1&&!e.return)switch(e.type){case ZL:e.return=Kq(e.value,e.length);break;case Gq:return B0([S1(e,{value:Ii(e.value,"@","@"+Oi)})],r);case KL:if(e.length)return wge(e.props,function(s){switch(Tge(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return B0([S1(e,{props:[Ii(s,/:(read-\w+)/,":"+aA+"$1")]})],r);case"::placeholder":return B0([S1(e,{props:[Ii(s,/:(plac\w+)/,":"+Oi+"input-$1")]}),S1(e,{props:[Ii(s,/:(plac\w+)/,":"+aA+"$1")]}),S1(e,{props:[Ii(s,/:(plac\w+)/,Ya+"input-$1")]})],r)}return""})}},jge=[Hge],Gge=function(e){var t=e.key;if(t==="css"){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,function(S){var E=S.getAttribute("data-emotion");E.indexOf(" ")!==-1&&(document.head.appendChild(S),S.setAttribute("data-s",""))})}var r=e.stylisPlugins||jge,s={},a,o=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(S){for(var E=S.getAttribute("data-emotion").split(" "),b=1;b<E.length;b++)s[E[b]]=!0;o.push(S)});var l,u=[Fge,Vge];{var d,p=[Nge,Uge(function(S){d.insert(S)})],y=Lge(u.concat(r,p)),v=function(E){return B0(Pge(E),y)};l=function(E,b,w,A){d=w,v(E?E+"{"+b.styles+"}":b.styles),A&&(_.inserted[b.name]=!0)}}var _={key:t,sheet:new vge({key:t,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return _.sheet.hydrate(o),_},EI={exports:{}},Ni={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WB;function qge(){if(WB)return Ni;WB=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,r=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,a=n?Symbol.for("react.provider"):60109,o=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,u=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,y=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,_=n?Symbol.for("react.lazy"):60116,S=n?Symbol.for("react.block"):60121,E=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function A(D){if(typeof D=="object"&&D!==null){var N=D.$$typeof;switch(N){case e:switch(D=D.type,D){case l:case u:case i:case s:case r:case p:return D;default:switch(D=D&&D.$$typeof,D){case o:case d:case _:case v:case a:return D;default:return N}}case t:return N}}}function C(D){return A(D)===u}return Ni.AsyncMode=l,Ni.ConcurrentMode=u,Ni.ContextConsumer=o,Ni.ContextProvider=a,Ni.Element=e,Ni.ForwardRef=d,Ni.Fragment=i,Ni.Lazy=_,Ni.Memo=v,Ni.Portal=t,Ni.Profiler=s,Ni.StrictMode=r,Ni.Suspense=p,Ni.isAsyncMode=function(D){return C(D)||A(D)===l},Ni.isConcurrentMode=C,Ni.isContextConsumer=function(D){return A(D)===o},Ni.isContextProvider=function(D){return A(D)===a},Ni.isElement=function(D){return typeof D=="object"&&D!==null&&D.$$typeof===e},Ni.isForwardRef=function(D){return A(D)===d},Ni.isFragment=function(D){return A(D)===i},Ni.isLazy=function(D){return A(D)===_},Ni.isMemo=function(D){return A(D)===v},Ni.isPortal=function(D){return A(D)===t},Ni.isProfiler=function(D){return A(D)===s},Ni.isStrictMode=function(D){return A(D)===r},Ni.isSuspense=function(D){return A(D)===p},Ni.isValidElementType=function(D){return typeof D=="string"||typeof D=="function"||D===i||D===u||D===s||D===r||D===p||D===y||typeof D=="object"&&D!==null&&(D.$$typeof===_||D.$$typeof===v||D.$$typeof===a||D.$$typeof===o||D.$$typeof===d||D.$$typeof===E||D.$$typeof===b||D.$$typeof===w||D.$$typeof===S)},Ni.typeOf=A,Ni}var $B;function Wge(){return $B||($B=1,EI.exports=qge()),EI.exports}var TI,XB;function $ge(){if(XB)return TI;XB=1;var n=Wge(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},r={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};s[n.ForwardRef]=i,s[n.Memo]=r;function a(_){return n.isMemo(_)?r:s[_.$$typeof]||e}var o=Object.defineProperty,l=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,y=Object.prototype;function v(_,S,E){if(typeof S!="string"){if(y){var b=p(S);b&&b!==y&&v(_,b,E)}var w=l(S);u&&(w=w.concat(u(S)));for(var A=a(_),C=a(S),D=0;D<w.length;++D){var N=w[D];if(!t[N]&&!(E&&E[N])&&!(C&&C[N])&&!(A&&A[N])){var I=d(S,N);try{o(_,N,I)}catch{}}}}return _}return TI=v,TI}$ge();var Xge=!0;function Zq(n,e,t){var i="";return t.split(" ").forEach(function(r){n[r]!==void 0?e.push(n[r]+";"):r&&(i+=r+" ")}),i}var JL=function(e,t,i){var r=e.key+"-"+t.name;(i===!1||Xge===!1)&&e.registered[r]===void 0&&(e.registered[r]=t.styles)},e4=function(e,t,i){JL(e,t,i);var r=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var s=t;do e.insert(t===s?"."+r:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function Yge(n){for(var e=0,t,i=0,r=n.length;r>=4;++i,r-=4)t=n.charCodeAt(i)&255|(n.charCodeAt(++i)&255)<<8|(n.charCodeAt(++i)&255)<<16|(n.charCodeAt(++i)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(r){case 3:e^=(n.charCodeAt(i+2)&255)<<16;case 2:e^=(n.charCodeAt(i+1)&255)<<8;case 1:e^=n.charCodeAt(i)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Kge={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Zge=/[A-Z]|^ms/g,Qge=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Qq=function(e){return e.charCodeAt(1)===45},YB=function(e){return e!=null&&typeof e!="boolean"},wI=Yq(function(n){return Qq(n)?n:n.replace(Zge,"-$&").toLowerCase()}),KB=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(Qge,function(i,r,s){return gh={name:r,styles:s,next:gh},r})}return Kge[e]!==1&&!Qq(e)&&typeof t=="number"&&t!==0?t+"px":t};function vS(n,e,t){if(t==null)return"";var i=t;if(i.__emotion_styles!==void 0)return i;switch(typeof t){case"boolean":return"";case"object":{var r=t;if(r.anim===1)return gh={name:r.name,styles:r.styles,next:gh},r.name;var s=t;if(s.styles!==void 0){var a=s.next;if(a!==void 0)for(;a!==void 0;)gh={name:a.name,styles:a.styles,next:gh},a=a.next;var o=s.styles+";";return o}return Jge(n,e,t)}case"function":{if(n!==void 0){var l=gh,u=t(n);return gh=l,vS(n,e,u)}break}}var d=t;if(e==null)return d;var p=e[d];return p!==void 0?p:d}function Jge(n,e,t){var i="";if(Array.isArray(t))for(var r=0;r<t.length;r++)i+=vS(n,e,t[r])+";";else for(var s in t){var a=t[s];if(typeof a!="object"){var o=a;e!=null&&e[o]!==void 0?i+=s+"{"+e[o]+"}":YB(o)&&(i+=wI(s)+":"+KB(s,o)+";")}else if(Array.isArray(a)&&typeof a[0]=="string"&&(e==null||e[a[0]]===void 0))for(var l=0;l<a.length;l++)YB(a[l])&&(i+=wI(s)+":"+KB(s,a[l])+";");else{var u=vS(n,e,a);switch(s){case"animation":case"animationName":{i+=wI(s)+":"+u+";";break}default:i+=s+"{"+u+"}"}}}return i}var ZB=/label:\s*([^\s;{]+)\s*(;|$)/g,gh;function iE(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var i=!0,r="";gh=void 0;var s=n[0];if(s==null||s.raw===void 0)i=!1,r+=vS(t,e,s);else{var a=s;r+=a[0]}for(var o=1;o<n.length;o++)if(r+=vS(t,e,n[o]),i){var l=s;r+=l[o]}ZB.lastIndex=0;for(var u="",d;(d=ZB.exec(r))!==null;)u+="-"+d[1];var p=Yge(r)+u;return{name:p,styles:r,next:gh}}var eye=function(e){return e()},Jq=P3.useInsertionEffect?P3.useInsertionEffect:!1,eW=Jq||eye,QB=Jq||H.useLayoutEffect,tW=H.createContext(typeof HTMLElement<"u"?Gge({key:"css"}):null);tW.Provider;var t4=function(e){return H.forwardRef(function(t,i){var r=H.useContext(tW);return e(t,r,i)})},tR=H.createContext({}),n4={}.hasOwnProperty,$P="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",tye=function(e,t){var i={};for(var r in t)n4.call(t,r)&&(i[r]=t[r]);return i[$P]=e,i},nye=function(e){var t=e.cache,i=e.serialized,r=e.isStringTag;return JL(t,i,r),eW(function(){return e4(t,i,r)}),null},iye=t4(function(n,e,t){var i=n.css;typeof i=="string"&&e.registered[i]!==void 0&&(i=e.registered[i]);var r=n[$P],s=[i],a="";typeof n.className=="string"?a=Zq(e.registered,s,n.className):n.className!=null&&(a=n.className+" ");var o=iE(s,void 0,H.useContext(tR));a+=e.key+"-"+o.name;var l={};for(var u in n)n4.call(n,u)&&u!=="css"&&u!==$P&&(l[u]=n[u]);return l.className=a,t&&(l.ref=t),H.createElement(H.Fragment,null,H.createElement(nye,{cache:e,serialized:o,isStringTag:typeof r=="string"}),H.createElement(r,l))}),rye=iye,JB=function(e,t){var i=arguments;if(t==null||!n4.call(t,"css"))return H.createElement.apply(void 0,i);var r=i.length,s=new Array(r);s[0]=rye,s[1]=tye(e,t);for(var a=2;a<r;a++)s[a]=i[a];return H.createElement.apply(null,s)};(function(n){var e;e||(e=n.JSX||(n.JSX={}))})(JB||(JB={}));var sye=t4(function(n,e){var t=n.styles,i=iE([t],void 0,H.useContext(tR)),r=H.useRef();return QB(function(){var s=e.key+"-global",a=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),o=!1,l=document.querySelector('style[data-emotion="'+s+" "+i.name+'"]');return e.sheet.tags.length&&(a.before=e.sheet.tags[0]),l!==null&&(o=!0,l.setAttribute("data-emotion",s),a.hydrate([l])),r.current=[a,o],function(){a.flush()}},[e]),QB(function(){var s=r.current,a=s[0],o=s[1];if(o){s[1]=!1;return}if(i.next!==void 0&&e4(e,i.next,!0),a.tags.length){var l=a.tags[a.tags.length-1].nextElementSibling;a.before=l,a.flush()}e.insert("",i,a,!1)},[e,i.name]),null});function i4(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return iE(e)}function rE(){var n=i4.apply(void 0,arguments),e="animation-"+n.name;return{name:e,styles:"@keyframes "+e+"{"+n.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var aye=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,oye=Yq(function(n){return aye.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),lye=oye,cye=function(e){return e!=="theme"},e6=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?lye:cye},t6=function(e,t,i){var r;if(t){var s=t.shouldForwardProp;r=e.__emotion_forwardProp&&s?function(a){return e.__emotion_forwardProp(a)&&s(a)}:s}return typeof r!="function"&&i&&(r=e.__emotion_forwardProp),r},uye=function(e){var t=e.cache,i=e.serialized,r=e.isStringTag;return JL(t,i,r),eW(function(){return e4(t,i,r)}),null},hye=function n(e,t){var i=e.__emotion_real===e,r=i&&e.__emotion_base||e,s,a;t!==void 0&&(s=t.label,a=t.target);var o=t6(e,t,i),l=o||e6(r),u=!l("as");return function(){var d=arguments,p=i&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&p.push("label:"+s+";"),d[0]==null||d[0].raw===void 0)p.push.apply(p,d);else{var y=d[0];p.push(y[0]);for(var v=d.length,_=1;_<v;_++)p.push(d[_],y[_])}var S=t4(function(E,b,w){var A=u&&E.as||r,C="",D=[],N=E;if(E.theme==null){N={};for(var I in E)N[I]=E[I];N.theme=H.useContext(tR)}typeof E.className=="string"?C=Zq(b.registered,D,E.className):E.className!=null&&(C=E.className+" ");var L=iE(p.concat(D),b.registered,N);C+=b.key+"-"+L.name,a!==void 0&&(C+=" "+a);var P=u&&o===void 0?e6(A):l,U={};for(var F in E)u&&F==="as"||P(F)&&(U[F]=E[F]);return U.className=C,w&&(U.ref=w),H.createElement(H.Fragment,null,H.createElement(uye,{cache:b,serialized:L,isStringTag:typeof A=="string"}),H.createElement(A,U))});return S.displayName=s!==void 0?s:"Styled("+(typeof r=="string"?r:r.displayName||r.name||"Component")+")",S.defaultProps=e.defaultProps,S.__emotion_real=S,S.__emotion_base=r,S.__emotion_styles=p,S.__emotion_forwardProp=o,Object.defineProperty(S,"toString",{value:function(){return"."+a}}),S.withComponent=function(E,b){var w=n(E,el({},t,b,{shouldForwardProp:t6(S,b,!0)}));return w.apply(void 0,p)},S}},dye=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],XP=hye.bind(null);dye.forEach(function(n){XP[n]=XP(n)});function fye(n){return n==null||Object.keys(n).length===0}function pye(n){const{styles:e,defaultTheme:t={}}=n,i=typeof e=="function"?r=>e(fye(r)?t:r):e;return Z.jsx(sye,{styles:i})}function nW(n,e){return XP(n,e)}function mye(n,e){Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))}const n6=[];function Bp(n){return n6[0]=n,iE(n6)}const gye=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,i)=>t.val-i.val),e.reduce((t,i)=>({...t,[i.key]:i.val}),{})};function yye(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:i=5,...r}=n,s=gye(e),a=Object.keys(s);function o(y){return`@media (min-width:${typeof e[y]=="number"?e[y]:y}${t})`}function l(y){return`@media (max-width:${(typeof e[y]=="number"?e[y]:y)-i/100}${t})`}function u(y,v){const _=a.indexOf(v);return`@media (min-width:${typeof e[y]=="number"?e[y]:y}${t}) and (max-width:${(_!==-1&&typeof e[a[_]]=="number"?e[a[_]]:v)-i/100}${t})`}function d(y){return a.indexOf(y)+1<a.length?u(y,a[a.indexOf(y)+1]):o(y)}function p(y){const v=a.indexOf(y);return v===0?o(a[1]):v===a.length-1?l(a[v]):u(y,a[a.indexOf(y)+1]).replace("@media","@media not all and")}return{keys:a,values:s,up:o,down:l,between:u,only:d,not:p,unit:t,...r}}const vye={borderRadius:4};function iW(n=8,e=qM({spacing:n})){if(n.mui)return n;const t=(...i)=>(i.length===0?[1]:i).map(s=>{const a=e(s);return typeof a=="number"?`${a}px`:a}).join(" ");return t.mui=!0,t}function _ye(n,e){const t=this;if(t.vars){if(!t.colorSchemes?.[n]||typeof t.getColorSchemeSelector!="function")return{};let i=t.getColorSchemeSelector(n);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return t.palette.mode===n?e:{}}function H_(n={},...e){const{breakpoints:t={},palette:i={},spacing:r,shape:s={},...a}=n,o=yye(t),l=iW(r);let u=sa({breakpoints:o,direction:"ltr",components:{},palette:{mode:"light",...i},spacing:l,shape:{...vye,...s}},a);return u=Cme(u),u.applyStyles=_ye,u=e.reduce((d,p)=>sa(d,p),u),u.unstable_sxConfig={...tE,...a?.unstable_sxConfig},u.unstable_sx=function(p){return dy({sx:p,theme:this})},u}function bye(n){return Object.keys(n).length===0}function xye(n=null){const e=H.useContext(tR);return!e||bye(e)?n:e}const Sye=H_();function sE(n=Sye){return xye(n)}function CI(n){const e=Bp(n);return n!==e&&e.styles?(e.styles.match(/^@layer\s+[^{]*$/)||(e.styles=`@layer global{${e.styles}}`),e):n}function Eye({styles:n,themeId:e,defaultTheme:t={}}){const i=sE(t),r=e&&i[e]||i;let s=typeof n=="function"?n(r):n;return r.modularCssLayers&&(Array.isArray(s)?s=s.map(a=>CI(typeof a=="function"?a(r):a)):s=CI(s)),Z.jsx(pye,{styles:s})}function Tye(n={}){const{themeId:e,defaultTheme:t,defaultClassName:i="MuiBox-root",generateClassName:r}=n,s=nW("div",{shouldForwardProp:o=>o!=="theme"&&o!=="sx"&&o!=="as"})(dy);return H.forwardRef(function(l,u){const d=sE(t),{className:p,component:y="div",...v}=ZM(l);return Z.jsx(s,{as:y,ref:u,className:Pt(p,r?r(i):i),theme:e&&d[e]||d,...v})})}const wye={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function yn(n,e,t="Mui"){const i=wye[e];return i?`${t}-${i}`:`${kq.generate(n)}-${e}`}function vn(n,e,t="Mui"){const i={};return e.forEach(r=>{i[r]=yn(n,r,t)}),i}function rW(n){const{variants:e,...t}=n,i={variants:e,style:Bp(t),isProcessed:!0};return i.style===t||e&&e.forEach(r=>{typeof r.style!="function"&&(r.style=Bp(r.style))}),i}const Cye=H_();function AI(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}function jg(n,e){return e&&n&&typeof n=="object"&&n.styles&&!n.styles.startsWith("@layer")&&(n.styles=`@layer ${e}{${String(n.styles)}}`),n}function Aye(n){return n?(e,t)=>t[n]:null}function Mye(n,e,t){n.theme=Oye(n.theme)?t:n.theme[e]||n.theme}function D2(n,e,t){const i=typeof e=="function"?e(n):e;if(Array.isArray(i))return i.flatMap(r=>D2(n,r,t));if(Array.isArray(i?.variants)){let r;if(i.isProcessed)r=t?jg(i.style,t):i.style;else{const{variants:s,...a}=i;r=t?jg(Bp(a),t):a}return sW(n,i.variants,[r],t)}return i?.isProcessed?t?jg(Bp(i.style),t):i.style:t?jg(Bp(i),t):i}function sW(n,e,t=[],i=void 0){let r;e:for(let s=0;s<e.length;s+=1){const a=e[s];if(typeof a.props=="function"){if(r??={...n,...n.ownerState,ownerState:n.ownerState},!a.props(r))continue}else for(const o in a.props)if(n[o]!==a.props[o]&&n.ownerState?.[o]!==a.props[o])continue e;typeof a.style=="function"?(r??={...n,...n.ownerState,ownerState:n.ownerState},t.push(i?jg(Bp(a.style(r)),i):a.style(r))):t.push(i?jg(Bp(a.style),i):a.style)}return t}function aW(n={}){const{themeId:e,defaultTheme:t=Cye,rootShouldForwardProp:i=AI,slotShouldForwardProp:r=AI}=n;function s(o){Mye(o,e,t)}return(o,l={})=>{mye(o,N=>N.filter(I=>I!==dy));const{name:u,slot:d,skipVariantsResolver:p,skipSx:y,overridesResolver:v=Aye(Pye(d)),..._}=l,S=u&&u.startsWith("Mui")||d?"components":"custom",E=p!==void 0?p:d&&d!=="Root"&&d!=="root"||!1,b=y||!1;let w=AI;d==="Root"||d==="root"?w=i:d?w=r:Iye(o)&&(w=void 0);const A=nW(o,{shouldForwardProp:w,label:Rye(),..._}),C=N=>{if(N.__emotion_real===N)return N;if(typeof N=="function")return function(L){return D2(L,N,L.theme.modularCssLayers?S:void 0)};if(bh(N)){const I=rW(N);return function(P){return I.variants?D2(P,I,P.theme.modularCssLayers?S:void 0):P.theme.modularCssLayers?jg(I.style,S):I.style}}return N},D=(...N)=>{const I=[],L=N.map(C),P=[];if(I.push(s),u&&v&&P.push(function(V){const ee=V.theme.components?.[u]?.styleOverrides;if(!ee)return null;const q={};for(const $ in ee)q[$]=D2(V,ee[$],V.theme.modularCssLayers?"theme":void 0);return v(V,q)}),u&&!E&&P.push(function(V){const ee=V.theme?.components?.[u]?.variants;return ee?sW(V,ee,[],V.theme.modularCssLayers?"theme":void 0):null}),b||P.push(dy),Array.isArray(L[0])){const z=L.shift(),V=new Array(I.length).fill(""),Y=new Array(P.length).fill("");let ee;ee=[...V,...z,...Y],ee.raw=[...V,...z.raw,...Y],I.unshift(ee)}const U=[...I,...L,...P],F=A(...U);return o.muiName&&(F.muiName=o.muiName),F};return A.withConfig&&(D.withConfig=A.withConfig),D}}function Rye(n,e){return void 0}function Oye(n){for(const e in n)return!1;return!0}function Iye(n){return typeof n=="string"&&n.charCodeAt(0)>96}function Pye(n){return n&&n.charAt(0).toLowerCase()+n.slice(1)}const oW=aW();function _S(n,e,t=!1){const i={...e};for(const r in n)if(Object.prototype.hasOwnProperty.call(n,r)){const s=r;if(s==="components"||s==="slots")i[s]={...n[s],...i[s]};else if(s==="componentsProps"||s==="slotProps"){const a=n[s],o=e[s];if(!o)i[s]=a||{};else if(!a)i[s]=o;else{i[s]={...o};for(const l in a)if(Object.prototype.hasOwnProperty.call(a,l)){const u=l;i[s][u]=_S(a[u],o[u],t)}}}else s==="className"&&t&&e.className?i.className=Pt(n?.className,e?.className):s==="style"&&t&&e.style?i.style={...n?.style,...e?.style}:i[s]===void 0&&(i[s]=n[s])}return i}function Dye(n){const{theme:e,name:t,props:i}=n;return!e||!e.components||!e.components[t]||!e.components[t].defaultProps?i:_S(e.components[t].defaultProps,i)}function lW({props:n,name:e,defaultTheme:t,themeId:i}){let r=sE(t);return i&&(r=r[i]||r),Dye({theme:r,name:e,props:n})}const Cu=typeof window<"u"?H.useLayoutEffect:H.useEffect;function Nye(n,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(n,t))}function r4(n,e=0,t=1){return Nye(n,e,t)}function Lye(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(i=>i+i)),t?`rgb${t.length===4?"a":""}(${t.map((i,r)=>r<3?parseInt(i,16):Math.round(parseInt(i,16)/255*1e3)/1e3).join(", ")})`:""}function em(n){if(n.type)return n;if(n.charAt(0)==="#")return em(Lye(n));const e=n.indexOf("("),t=n.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(t))throw new Error(uf(9,n));let i=n.substring(e+1,n.length-1),r;if(t==="color"){if(i=i.split(" "),r=i.shift(),i.length===4&&i[3].charAt(0)==="/"&&(i[3]=i[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(r))throw new Error(uf(10,r))}else i=i.split(",");return i=i.map(s=>parseFloat(s)),{type:t,values:i,colorSpace:r}}const Uye=n=>{const e=em(n);return e.values.slice(0,3).map((t,i)=>e.type.includes("hsl")&&i!==0?`${t}%`:t).join(" ")},Z1=(n,e)=>{try{return Uye(n)}catch{return n}};function nR(n){const{type:e,colorSpace:t}=n;let{values:i}=n;return e.includes("rgb")?i=i.map((r,s)=>s<3?parseInt(r,10):r):e.includes("hsl")&&(i[1]=`${i[1]}%`,i[2]=`${i[2]}%`),e.includes("color")?i=`${t} ${i.join(" ")}`:i=`${i.join(", ")}`,`${e}(${i})`}function cW(n){n=em(n);const{values:e}=n,t=e[0],i=e[1]/100,r=e[2]/100,s=i*Math.min(r,1-r),a=(u,d=(u+t/30)%12)=>r-s*Math.max(Math.min(d-3,9-d,1),-1);let o="rgb";const l=[Math.round(a(0)*255),Math.round(a(8)*255),Math.round(a(4)*255)];return n.type==="hsla"&&(o+="a",l.push(e[3])),nR({type:o,values:l})}function YP(n){n=em(n);let e=n.type==="hsl"||n.type==="hsla"?em(cW(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function kye(n,e){const t=YP(n),i=YP(e);return(Math.max(t,i)+.05)/(Math.min(t,i)+.05)}function oA(n,e){return n=em(n),e=r4(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,nR(n)}function bg(n,e,t){try{return oA(n,e)}catch{return n}}function Cy(n,e){if(n=em(n),e=r4(e),n.type.includes("hsl"))n.values[2]*=1-e;else if(n.type.includes("rgb")||n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]*=1-e;return nR(n)}function Bi(n,e,t){try{return Cy(n,e)}catch{return n}}function aE(n,e){if(n=em(n),e=r4(e),n.type.includes("hsl"))n.values[2]+=(100-n.values[2])*e;else if(n.type.includes("rgb"))for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return nR(n)}function Fi(n,e,t){try{return aE(n,e)}catch{return n}}function zye(n,e=.15){return YP(n)>.5?Cy(n,e):aE(n,e)}function ww(n,e,t){try{return zye(n,e)}catch{return n}}const Bye=H.createContext(),oE=()=>H.useContext(Bye)??!1,Fye=H.createContext(void 0);function Vye(n){const{theme:e,name:t,props:i}=n;if(!e||!e.components||!e.components[t])return i;const r=e.components[t];return r.defaultProps?_S(r.defaultProps,i,e.components.mergeClassNameAndStyle):!r.styleOverrides&&!r.variants?_S(r,i,e.components.mergeClassNameAndStyle):i}function Hye({props:n,name:e}){const t=H.useContext(Fye);return Vye({props:n,name:e,theme:{components:t}})}let i6=0;function jye(n){const[e,t]=H.useState(n),i=n||e;return H.useEffect(()=>{e==null&&(i6+=1,t(`mui-${i6}`))},[e]),i}const Gye={...P3},r6=Gye.useId;function j_(n){if(r6!==void 0){const e=r6();return n??e}return jye(n)}const s6={theme:void 0};function qye(n){let e,t;return function(r){let s=e;return(s===void 0||r.theme!==t)&&(s6.theme=r.theme,s=rW(n(s6)),e=s,t=r.theme),s}}function Wye(n=""){function e(...i){if(!i.length)return"";const r=i[0];return typeof r=="string"&&!r.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${n?`${n}-`:""}${r}${e(...i.slice(1))})`:`, ${r}`}return(i,...r)=>`var(--${n?`${n}-`:""}${i}${e(...r)})`}const a6=(n,e,t,i=[])=>{let r=n;e.forEach((s,a)=>{a===e.length-1?Array.isArray(r)?r[Number(s)]=t:r&&typeof r=="object"&&(r[s]=t):r&&typeof r=="object"&&(r[s]||(r[s]=i.includes(s)?[]:{}),r=r[s])})},$ye=(n,e,t)=>{function i(r,s=[],a=[]){Object.entries(r).forEach(([o,l])=>{(!t||t&&!t([...s,o]))&&l!=null&&(typeof l=="object"&&Object.keys(l).length>0?i(l,[...s,o],Array.isArray(l)?[...a,o]:a):e([...s,o],l,a))})}i(n)},Xye=(n,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(i=>n.includes(i))||n[n.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function MI(n,e){const{prefix:t,shouldSkipGeneratingVar:i}=e||{},r={},s={},a={};return $ye(n,(o,l,u)=>{if((typeof l=="string"||typeof l=="number")&&(!i||!i(o,l))){const d=`--${t?`${t}-`:""}${o.join("-")}`,p=Xye(o,l);Object.assign(r,{[d]:p}),a6(s,o,`var(${d})`,u),a6(a,o,`var(${d}, ${p})`,u)}},o=>o[0]==="vars"),{css:r,vars:s,varsWithDefaults:a}}function Yye(n,e={}){const{getSelector:t=b,disableCssColorScheme:i,colorSchemeSelector:r,enableContrastVars:s}=e,{colorSchemes:a={},components:o,defaultColorScheme:l="light",...u}=n,{vars:d,css:p,varsWithDefaults:y}=MI(u,e);let v=y;const _={},{[l]:S,...E}=a;if(Object.entries(E||{}).forEach(([C,D])=>{const{vars:N,css:I,varsWithDefaults:L}=MI(D,e);v=sa(v,L),_[C]={css:I,vars:N}}),S){const{css:C,vars:D,varsWithDefaults:N}=MI(S,e);v=sa(v,N),_[l]={css:C,vars:D}}function b(C,D){let N=r;if(r==="class"&&(N=".%s"),r==="data"&&(N="[data-%s]"),r?.startsWith("data-")&&!r.includes("%s")&&(N=`[${r}="%s"]`),C){if(N==="media")return n.defaultColorScheme===C?":root":{[`@media (prefers-color-scheme: ${a[C]?.palette?.mode||C})`]:{":root":D}};if(N)return n.defaultColorScheme===C?`:root, ${N.replace("%s",String(C))}`:N.replace("%s",String(C))}return":root"}return{vars:v,generateThemeVars:()=>{let C={...d};return Object.entries(_).forEach(([,{vars:D}])=>{C=sa(C,D)}),C},generateStyleSheets:()=>{const C=[],D=n.defaultColorScheme||"light";function N(P,U){Object.keys(U).length&&C.push(typeof P=="string"?{[P]:{...U}}:P)}N(t(void 0,{...p}),p);const{[D]:I,...L}=_;if(I){const{css:P}=I,U=a[D]?.palette?.mode,F=!i&&U?{colorScheme:U,...P}:{...P};N(t(D,{...F}),F)}return Object.entries(L).forEach(([P,{css:U}])=>{const F=a[P]?.palette?.mode,z=!i&&F?{colorScheme:F,...U}:{...U};N(t(P,{...z}),z)}),s&&C.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),C}}}function Kye(n){return function(t){return n==="media"?`@media (prefers-color-scheme: ${t})`:n?n.startsWith("data-")&&!n.includes("%s")?`[${n}="${t}"] &`:n==="class"?`.${t} &`:n==="data"?`[data-${t}] &`:`${n.replace("%s",t)} &`:"&"}}function Mx(n,e){return H.isValidElement(n)&&e.indexOf(n.type.muiName??n.type?._payload?.value?.muiName)!==-1}const Zye=(n,e)=>n.filter(t=>e.includes(t)),G_=(n,e,t)=>{const i=n.keys[0];Array.isArray(e)?e.forEach((r,s)=>{t((a,o)=>{s<=n.keys.length-1&&(s===0?Object.assign(a,o):a[n.up(n.keys[s])]=o)},r)}):e&&typeof e=="object"?(Object.keys(e).length>n.keys.length?n.keys:Zye(n.keys,Object.keys(e))).forEach(s=>{if(n.keys.includes(s)){const a=e[s];a!==void 0&&t((o,l)=>{i===s?Object.assign(o,l):o[n.up(s)]=l},a)}}):(typeof e=="number"||typeof e=="string")&&t((r,s)=>{Object.assign(r,s)},e)};function lA(n){return`--Grid-${n}Spacing`}function iR(n){return`--Grid-parent-${n}Spacing`}const o6="--Grid-columns",F0="--Grid-parent-columns",Qye=({theme:n,ownerState:e})=>{const t={};return G_(n.breakpoints,e.size,(i,r)=>{let s={};r==="grow"&&(s={flexBasis:0,flexGrow:1,maxWidth:"100%"}),r==="auto"&&(s={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),typeof r=="number"&&(s={flexGrow:0,flexBasis:"auto",width:`calc(100% * ${r} / var(${F0}) - (var(${F0}) - ${r}) * (var(${iR("column")}) / var(${F0})))`}),i(t,s)}),t},Jye=({theme:n,ownerState:e})=>{const t={};return G_(n.breakpoints,e.offset,(i,r)=>{let s={};r==="auto"&&(s={marginLeft:"auto"}),typeof r=="number"&&(s={marginLeft:r===0?"0px":`calc(100% * ${r} / var(${F0}) + var(${iR("column")}) * ${r} / var(${F0}))`}),i(t,s)}),t},eve=({theme:n,ownerState:e})=>{if(!e.container)return{};const t={[o6]:12};return G_(n.breakpoints,e.columns,(i,r)=>{const s=r??12;i(t,{[o6]:s,"> *":{[F0]:s}})}),t},tve=({theme:n,ownerState:e})=>{if(!e.container)return{};const t={};return G_(n.breakpoints,e.rowSpacing,(i,r)=>{const s=typeof r=="string"?r:n.spacing?.(r);i(t,{[lA("row")]:s,"> *":{[iR("row")]:s}})}),t},nve=({theme:n,ownerState:e})=>{if(!e.container)return{};const t={};return G_(n.breakpoints,e.columnSpacing,(i,r)=>{const s=typeof r=="string"?r:n.spacing?.(r);i(t,{[lA("column")]:s,"> *":{[iR("column")]:s}})}),t},ive=({theme:n,ownerState:e})=>{if(!e.container)return{};const t={};return G_(n.breakpoints,e.direction,(i,r)=>{i(t,{flexDirection:r})}),t},rve=({ownerState:n})=>({minWidth:0,boxSizing:"border-box",...n.container&&{display:"flex",flexWrap:"wrap",...n.wrap&&n.wrap!=="wrap"&&{flexWrap:n.wrap},gap:`var(${lA("row")}) var(${lA("column")})`}}),sve=n=>{const e=[];return Object.entries(n).forEach(([t,i])=>{i!==!1&&i!==void 0&&e.push(`grid-${t}-${String(i)}`)}),e},ave=(n,e="xs")=>{function t(i){return i===void 0?!1:typeof i=="string"&&!Number.isNaN(Number(i))||typeof i=="number"&&i>0}if(t(n))return[`spacing-${e}-${String(n)}`];if(typeof n=="object"&&!Array.isArray(n)){const i=[];return Object.entries(n).forEach(([r,s])=>{t(s)&&i.push(`spacing-${r}-${String(s)}`)}),i}return[]},ove=n=>n===void 0?[]:typeof n=="object"?Object.entries(n).map(([e,t])=>`direction-${e}-${t}`):[`direction-xs-${String(n)}`];function lve(n,e){n.item!==void 0&&delete n.item,n.zeroMinWidth!==void 0&&delete n.zeroMinWidth,e.keys.forEach(t=>{n[t]!==void 0&&delete n[t]})}const cve=H_(),uve=oW("div",{name:"MuiGrid",slot:"Root"});function hve(n){return lW({props:n,name:"MuiGrid",defaultTheme:cve})}function dve(n={}){const{createStyledComponent:e=uve,useThemeProps:t=hve,useTheme:i=sE,componentName:r="MuiGrid"}=n,s=(u,d)=>{const{container:p,direction:y,spacing:v,wrap:_,size:S}=u,E={root:["root",p&&"container",_!=="wrap"&&`wrap-xs-${String(_)}`,...ove(y),...sve(S),...p?ave(v,d.breakpoints.keys[0]):[]]};return gn(E,b=>yn(r,b),{})};function a(u,d,p=()=>!0){const y={};return u===null||(Array.isArray(u)?u.forEach((v,_)=>{v!==null&&p(v)&&d.keys[_]&&(y[d.keys[_]]=v)}):typeof u=="object"?Object.keys(u).forEach(v=>{const _=u[v];_!=null&&p(_)&&(y[v]=_)}):y[d.keys[0]]=u),y}const o=e(eve,nve,tve,Qye,ive,rve,Jye),l=H.forwardRef(function(d,p){const y=i(),v=t(d),_=ZM(v);lve(_,y.breakpoints);const{className:S,children:E,columns:b=12,container:w=!1,component:A="div",direction:C="row",wrap:D="wrap",size:N={},offset:I={},spacing:L=0,rowSpacing:P=L,columnSpacing:U=L,unstable_level:F=0,...z}=_,V=a(N,y.breakpoints,K=>K!==!1),Y=a(I,y.breakpoints),ee=d.columns??(F?void 0:b),q=d.spacing??(F?void 0:L),$=d.rowSpacing??d.spacing??(F?void 0:P),Q=d.columnSpacing??d.spacing??(F?void 0:U),se={..._,level:F,columns:ee,container:w,direction:C,wrap:D,spacing:q,rowSpacing:$,columnSpacing:Q,size:V,offset:Y},fe=s(se,y);return Z.jsx(o,{ref:p,as:A,ownerState:se,className:Pt(fe.root,S),...z,children:H.Children.map(E,K=>H.isValidElement(K)&&Mx(K,["Grid"])&&w&&K.props.container?H.cloneElement(K,{unstable_level:K.props?.unstable_level??F+1}):K)})});return l.muiName="Grid",l}const fve=H_(),pve=oW("div",{name:"MuiStack",slot:"Root"});function mve(n){return lW({props:n,name:"MuiStack",defaultTheme:fve})}function gve(n,e){const t=H.Children.toArray(n).filter(Boolean);return t.reduce((i,r,s)=>(i.push(r),s<t.length-1&&i.push(H.cloneElement(e,{key:`separator-${s}`})),i),[])}const yve=n=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[n],vve=({ownerState:n,theme:e})=>{let t={display:"flex",flexDirection:"column",...wu({theme:e},SI({values:n.direction,breakpoints:e.breakpoints.values}),i=>({flexDirection:i}))};if(n.spacing){const i=qM(e),r=Object.keys(e.breakpoints.values).reduce((l,u)=>((typeof n.spacing=="object"&&n.spacing[u]!=null||typeof n.direction=="object"&&n.direction[u]!=null)&&(l[u]=!0),l),{}),s=SI({values:n.direction,base:r}),a=SI({values:n.spacing,base:r});typeof s=="object"&&Object.keys(s).forEach((l,u,d)=>{if(!s[l]){const y=u>0?s[d[u-1]]:"column";s[l]=y}}),t=sa(t,wu({theme:e},a,(l,u)=>n.useFlexGap?{gap:hy(i,l)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${yve(u?s[u]:n.direction)}`]:hy(i,l)}}))}return t=Mme(e.breakpoints,t),t};function _ve(n={}){const{createStyledComponent:e=pve,useThemeProps:t=mve,componentName:i="MuiStack"}=n,r=()=>gn({root:["root"]},l=>yn(i,l),{}),s=e(vve);return H.forwardRef(function(l,u){const d=t(l),p=ZM(d),{component:y="div",direction:v="column",spacing:_=0,divider:S,children:E,className:b,useFlexGap:w=!1,...A}=p,C={direction:v,spacing:_,useFlexGap:w},D=r();return Z.jsx(s,{as:y,ownerState:C,ref:u,className:Pt(D.root,b),...A,children:S?gve(E,S):E})})}const bS={black:"#000",white:"#fff"},bve={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Gv={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},qv={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},E1={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},Wv={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},$v={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Xv={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function uW(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:bS.white,default:bS.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const hW=uW();function dW(){return{text:{primary:bS.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:bS.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const KP=dW();function l6(n,e,t,i){const r=i.light||i,s=i.dark||i*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=aE(n.main,r):e==="dark"&&(n.dark=Cy(n.main,s)))}function c6(n,e,t,i,r){const s=r.light||r,a=r.dark||r*1.5;e[t]||(e.hasOwnProperty(i)?e[t]=e[i]:t==="light"?e.light=`color-mix(in ${n}, ${e.main}, #fff ${(s*100).toFixed(0)}%)`:t==="dark"&&(e.dark=`color-mix(in ${n}, ${e.main}, #000 ${(a*100).toFixed(0)}%)`))}function xve(n="light"){return n==="dark"?{main:Wv[200],light:Wv[50],dark:Wv[400]}:{main:Wv[700],light:Wv[400],dark:Wv[800]}}function Sve(n="light"){return n==="dark"?{main:Gv[200],light:Gv[50],dark:Gv[400]}:{main:Gv[500],light:Gv[300],dark:Gv[700]}}function Eve(n="light"){return n==="dark"?{main:qv[500],light:qv[300],dark:qv[700]}:{main:qv[700],light:qv[400],dark:qv[800]}}function Tve(n="light"){return n==="dark"?{main:$v[400],light:$v[300],dark:$v[700]}:{main:$v[700],light:$v[500],dark:$v[900]}}function wve(n="light"){return n==="dark"?{main:Xv[400],light:Xv[300],dark:Xv[700]}:{main:Xv[800],light:Xv[500],dark:Xv[900]}}function Cve(n="light"){return n==="dark"?{main:E1[400],light:E1[300],dark:E1[700]}:{main:"#ed6c02",light:E1[500],dark:E1[900]}}function Ave(n){return`oklch(from ${n} var(--__l) 0 h / var(--__a))`}function s4(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:i=.2,colorSpace:r,...s}=n,a=n.primary||xve(e),o=n.secondary||Sve(e),l=n.error||Eve(e),u=n.info||Tve(e),d=n.success||wve(e),p=n.warning||Cve(e);function y(E){return r?Ave(E):kye(E,KP.text.primary)>=t?KP.text.primary:hW.text.primary}const v=({color:E,name:b,mainShade:w=500,lightShade:A=300,darkShade:C=700})=>{if(E={...E},!E.main&&E[w]&&(E.main=E[w]),!E.hasOwnProperty("main"))throw new Error(uf(11,b?` (${b})`:"",w));if(typeof E.main!="string")throw new Error(uf(12,b?` (${b})`:"",JSON.stringify(E.main)));return r?(c6(r,E,"light",A,i),c6(r,E,"dark",C,i)):(l6(E,"light",A,i),l6(E,"dark",C,i)),E.contrastText||(E.contrastText=y(E.main)),E};let _;return e==="light"?_=uW():e==="dark"&&(_=dW()),sa({common:{...bS},mode:e,primary:v({color:a,name:"primary"}),secondary:v({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:v({color:l,name:"error"}),warning:v({color:p,name:"warning"}),info:v({color:u,name:"info"}),success:v({color:d,name:"success"}),grey:bve,contrastThreshold:t,getContrastText:y,augmentColor:v,tonalOffset:i,..._},s)}function Mve(n){const e={};return Object.entries(n).forEach(i=>{const[r,s]=i;typeof s=="object"&&(e[r]=`${s.fontStyle?`${s.fontStyle} `:""}${s.fontVariant?`${s.fontVariant} `:""}${s.fontWeight?`${s.fontWeight} `:""}${s.fontStretch?`${s.fontStretch} `:""}${s.fontSize||""}${s.lineHeight?`/${s.lineHeight} `:""}${s.fontFamily||""}`)}),e}function Rve(n,e){return{toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}},...e}}function Ove(n){return Math.round(n*1e5)/1e5}const u6={textTransform:"uppercase"},h6='"Roboto", "Helvetica", "Arial", sans-serif';function Ive(n,e){const{fontFamily:t=h6,fontSize:i=14,fontWeightLight:r=300,fontWeightRegular:s=400,fontWeightMedium:a=500,fontWeightBold:o=700,htmlFontSize:l=16,allVariants:u,pxToRem:d,...p}=typeof e=="function"?e(n):e,y=i/14,v=d||(E=>`${E/l*y}rem`),_=(E,b,w,A,C)=>({fontFamily:t,fontWeight:E,fontSize:v(b),lineHeight:w,...t===h6?{letterSpacing:`${Ove(A/b)}em`}:{},...C,...u}),S={h1:_(r,96,1.167,-1.5),h2:_(r,60,1.2,-.5),h3:_(s,48,1.167,0),h4:_(s,34,1.235,.25),h5:_(s,24,1.334,0),h6:_(a,20,1.6,.15),subtitle1:_(s,16,1.75,.15),subtitle2:_(a,14,1.57,.1),body1:_(s,16,1.5,.15),body2:_(s,14,1.43,.15),button:_(a,14,1.75,.4,u6),caption:_(s,12,1.66,.4),overline:_(s,12,2.66,1,u6),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return sa({htmlFontSize:l,pxToRem:v,fontFamily:t,fontSize:i,fontWeightLight:r,fontWeightRegular:s,fontWeightMedium:a,fontWeightBold:o,...S},p,{clone:!1})}const Pve=.2,Dve=.14,Nve=.12;function Sr(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${Pve})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${Dve})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${Nve})`].join(",")}const Lve=["none",Sr(0,2,1,-1,0,1,1,0,0,1,3,0),Sr(0,3,1,-2,0,2,2,0,0,1,5,0),Sr(0,3,3,-2,0,3,4,0,0,1,8,0),Sr(0,2,4,-1,0,4,5,0,0,1,10,0),Sr(0,3,5,-1,0,5,8,0,0,1,14,0),Sr(0,3,5,-1,0,6,10,0,0,1,18,0),Sr(0,4,5,-2,0,7,10,1,0,2,16,1),Sr(0,5,5,-3,0,8,10,1,0,3,14,2),Sr(0,5,6,-3,0,9,12,1,0,3,16,2),Sr(0,6,6,-3,0,10,14,1,0,4,18,3),Sr(0,6,7,-4,0,11,15,1,0,4,20,3),Sr(0,7,8,-4,0,12,17,2,0,5,22,4),Sr(0,7,8,-4,0,13,19,2,0,5,24,4),Sr(0,7,9,-4,0,14,21,2,0,5,26,4),Sr(0,8,9,-5,0,15,22,2,0,6,28,5),Sr(0,8,10,-5,0,16,24,2,0,6,30,5),Sr(0,8,11,-5,0,17,26,2,0,6,32,5),Sr(0,9,11,-5,0,18,28,2,0,7,34,6),Sr(0,9,12,-6,0,19,29,2,0,7,36,6),Sr(0,10,13,-6,0,20,31,3,0,8,38,7),Sr(0,10,13,-6,0,21,33,3,0,8,40,7),Sr(0,10,14,-6,0,22,35,3,0,8,42,7),Sr(0,11,14,-7,0,23,36,3,0,9,44,8),Sr(0,11,15,-7,0,24,38,3,0,9,46,8)],Uve={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},fW={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function d6(n){return`${Math.round(n)}ms`}function kve(n){if(!n)return 0;const e=n/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function zve(n){const e={...Uve,...n.easing},t={...fW,...n.duration};return{getAutoHeightDuration:kve,create:(r=["all"],s={})=>{const{duration:a=t.standard,easing:o=e.easeInOut,delay:l=0,...u}=s;return(Array.isArray(r)?r:[r]).map(d=>`${d} ${typeof a=="string"?a:d6(a)} ${o} ${typeof l=="string"?l:d6(l)}`).join(",")},...n,easing:e,duration:t}}const Bve={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function Fve(n){return bh(n)||typeof n>"u"||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||Array.isArray(n)}function pW(n={}){const e={...n};function t(i){const r=Object.entries(i);for(let s=0;s<r.length;s++){const[a,o]=r[s];!Fve(o)||a.startsWith("unstable_")?delete i[a]:bh(o)&&(i[a]={...o},t(i[a]))}}return t(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function f6(n){return typeof n=="number"?`${(n*100).toFixed(0)}%`:`calc((${n}) * 100%)`}const Vve=n=>{if(!Number.isNaN(+n))return+n;const e=n.match(/\d*\.?\d+/g);if(!e)return 0;let t=0;for(let i=0;i<e.length;i+=1)t+=+e[i];return t};function Hve(n){Object.assign(n,{alpha(e,t){const i=this||n;return i.colorSpace?`oklch(from ${e} l c h / ${typeof t=="string"?`calc(${t})`:t})`:i.vars?`rgba(${e.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")} / ${typeof t=="string"?`calc(${t})`:t})`:oA(e,Vve(t))},lighten(e,t){const i=this||n;return i.colorSpace?`color-mix(in ${i.colorSpace}, ${e}, #fff ${f6(t)})`:aE(e,t)},darken(e,t){const i=this||n;return i.colorSpace?`color-mix(in ${i.colorSpace}, ${e}, #000 ${f6(t)})`:Cy(e,t)}})}function ZP(n={},...e){const{breakpoints:t,mixins:i={},spacing:r,palette:s={},transitions:a={},typography:o={},shape:l,colorSpace:u,...d}=n;if(n.vars&&n.generateThemeVars===void 0)throw new Error(uf(20));const p=s4({...s,colorSpace:u}),y=H_(n);let v=sa(y,{mixins:Rve(y.breakpoints,i),palette:p,shadows:Lve.slice(),typography:Ive(p,o),transitions:zve(a),zIndex:{...Bve}});return v=sa(v,d),v=e.reduce((_,S)=>sa(_,S),v),v.unstable_sxConfig={...tE,...d?.unstable_sxConfig},v.unstable_sx=function(S){return dy({sx:S,theme:this})},v.toRuntimeSource=pW,Hve(v),v}function QP(n){let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,Math.round(e*10)/1e3}const jve=[...Array(25)].map((n,e)=>{if(e===0)return"none";const t=QP(e);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function mW(n){return{inputPlaceholder:n==="dark"?.5:.42,inputUnderline:n==="dark"?.7:.42,switchTrackDisabled:n==="dark"?.2:.12,switchTrack:n==="dark"?.3:.38}}function gW(n){return n==="dark"?jve:[]}function Gve(n){const{palette:e={mode:"light"},opacity:t,overlays:i,colorSpace:r,...s}=n,a=s4({...e,colorSpace:r});return{palette:a,opacity:{...mW(a.mode),...t},overlays:i||gW(a.mode),...s}}function qve(n){return!!n[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!n[0].match(/sxConfig$/)||n[0]==="palette"&&!!n[1]?.match(/(mode|contrastThreshold|tonalOffset)/)}const Wve=n=>[...[...Array(25)].map((e,t)=>`--${n?`${n}-`:""}overlays-${t}`),`--${n?`${n}-`:""}palette-AppBar-darkBg`,`--${n?`${n}-`:""}palette-AppBar-darkColor`],$ve=n=>(e,t)=>{const i=n.rootSelector||":root",r=n.colorSchemeSelector;let s=r;if(r==="class"&&(s=".%s"),r==="data"&&(s="[data-%s]"),r?.startsWith("data-")&&!r.includes("%s")&&(s=`[${r}="%s"]`),n.defaultColorScheme===e){if(e==="dark"){const a={};return Wve(n.cssVarPrefix).forEach(o=>{a[o]=t[o],delete t[o]}),s==="media"?{[i]:t,"@media (prefers-color-scheme: dark)":{[i]:a}}:s?{[s.replace("%s",e)]:a,[`${i}, ${s.replace("%s",e)}`]:t}:{[i]:{...t,...a}}}if(s&&s!=="media")return`${i}, ${s.replace("%s",String(e))}`}else if(e){if(s==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[i]:t}};if(s)return s.replace("%s",String(e))}return i};function Xve(n,e){e.forEach(t=>{n[t]||(n[t]={})})}function Ke(n,e,t){!n[e]&&t&&(n[e]=t)}function Q1(n){return typeof n!="string"||!n.startsWith("hsl")?n:cW(n)}function wd(n,e){`${e}Channel`in n||(n[`${e}Channel`]=Z1(Q1(n[e])))}function Yve(n){return typeof n=="number"?`${n}px`:typeof n=="string"||typeof n=="function"||Array.isArray(n)?n:"8px"}const oh=n=>{try{return n()}catch{}},Kve=(n="mui")=>Wye(n);function RI(n,e,t,i,r){if(!t)return;t=t===!0?{}:t;const s=r==="dark"?"dark":"light";if(!i){e[r]=Gve({...t,palette:{mode:s,...t?.palette},colorSpace:n});return}const{palette:a,...o}=ZP({...i,palette:{mode:s,...t?.palette},colorSpace:n});return e[r]={...t,palette:a,opacity:{...mW(s),...t?.opacity},overlays:t?.overlays||gW(s)},o}function Zve(n={},...e){const{colorSchemes:t={light:!0},defaultColorScheme:i,disableCssColorScheme:r=!1,cssVarPrefix:s="mui",nativeColor:a=!1,shouldSkipGeneratingVar:o=qve,colorSchemeSelector:l=t.light&&t.dark?"media":void 0,rootSelector:u=":root",...d}=n,p=Object.keys(t)[0],y=i||(t.light&&p!=="light"?"light":p),v=Kve(s),{[y]:_,light:S,dark:E,...b}=t,w={...b};let A=_;if((y==="dark"&&!("dark"in t)||y==="light"&&!("light"in t))&&(A=!0),!A)throw new Error(uf(21,y));let C;a&&(C="oklch");const D=RI(C,w,A,d,y);S&&!w.light&&RI(C,w,S,void 0,"light"),E&&!w.dark&&RI(C,w,E,void 0,"dark");let N={defaultColorScheme:y,...D,cssVarPrefix:s,colorSchemeSelector:l,rootSelector:u,getCssVar:v,colorSchemes:w,font:{...Mve(D.typography),...D.font},spacing:Yve(d.spacing)};Object.keys(N.colorSchemes).forEach(F=>{const z=N.colorSchemes[F].palette,V=ee=>{const q=ee.split("-"),$=q[1],Q=q[2];return v(ee,z[$][Q])};z.mode==="light"&&(Ke(z.common,"background","#fff"),Ke(z.common,"onBackground","#000")),z.mode==="dark"&&(Ke(z.common,"background","#000"),Ke(z.common,"onBackground","#fff"));function Y(ee,q,$){if(C){let Q;return ee===bg&&(Q=`transparent ${((1-$)*100).toFixed(0)}%`),ee===Bi&&(Q=`#000 ${($*100).toFixed(0)}%`),ee===Fi&&(Q=`#fff ${($*100).toFixed(0)}%`),`color-mix(in ${C}, ${q}, ${Q})`}return ee(q,$)}if(Xve(z,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),z.mode==="light"){Ke(z.Alert,"errorColor",Y(Bi,z.error.light,.6)),Ke(z.Alert,"infoColor",Y(Bi,z.info.light,.6)),Ke(z.Alert,"successColor",Y(Bi,z.success.light,.6)),Ke(z.Alert,"warningColor",Y(Bi,z.warning.light,.6)),Ke(z.Alert,"errorFilledBg",V("palette-error-main")),Ke(z.Alert,"infoFilledBg",V("palette-info-main")),Ke(z.Alert,"successFilledBg",V("palette-success-main")),Ke(z.Alert,"warningFilledBg",V("palette-warning-main")),Ke(z.Alert,"errorFilledColor",oh(()=>z.getContrastText(z.error.main))),Ke(z.Alert,"infoFilledColor",oh(()=>z.getContrastText(z.info.main))),Ke(z.Alert,"successFilledColor",oh(()=>z.getContrastText(z.success.main))),Ke(z.Alert,"warningFilledColor",oh(()=>z.getContrastText(z.warning.main))),Ke(z.Alert,"errorStandardBg",Y(Fi,z.error.light,.9)),Ke(z.Alert,"infoStandardBg",Y(Fi,z.info.light,.9)),Ke(z.Alert,"successStandardBg",Y(Fi,z.success.light,.9)),Ke(z.Alert,"warningStandardBg",Y(Fi,z.warning.light,.9)),Ke(z.Alert,"errorIconColor",V("palette-error-main")),Ke(z.Alert,"infoIconColor",V("palette-info-main")),Ke(z.Alert,"successIconColor",V("palette-success-main")),Ke(z.Alert,"warningIconColor",V("palette-warning-main")),Ke(z.AppBar,"defaultBg",V("palette-grey-100")),Ke(z.Avatar,"defaultBg",V("palette-grey-400")),Ke(z.Button,"inheritContainedBg",V("palette-grey-300")),Ke(z.Button,"inheritContainedHoverBg",V("palette-grey-A100")),Ke(z.Chip,"defaultBorder",V("palette-grey-400")),Ke(z.Chip,"defaultAvatarColor",V("palette-grey-700")),Ke(z.Chip,"defaultIconColor",V("palette-grey-700")),Ke(z.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),Ke(z.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),Ke(z.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),Ke(z.LinearProgress,"primaryBg",Y(Fi,z.primary.main,.62)),Ke(z.LinearProgress,"secondaryBg",Y(Fi,z.secondary.main,.62)),Ke(z.LinearProgress,"errorBg",Y(Fi,z.error.main,.62)),Ke(z.LinearProgress,"infoBg",Y(Fi,z.info.main,.62)),Ke(z.LinearProgress,"successBg",Y(Fi,z.success.main,.62)),Ke(z.LinearProgress,"warningBg",Y(Fi,z.warning.main,.62)),Ke(z.Skeleton,"bg",C?Y(bg,z.text.primary,.11):`rgba(${V("palette-text-primaryChannel")} / 0.11)`),Ke(z.Slider,"primaryTrack",Y(Fi,z.primary.main,.62)),Ke(z.Slider,"secondaryTrack",Y(Fi,z.secondary.main,.62)),Ke(z.Slider,"errorTrack",Y(Fi,z.error.main,.62)),Ke(z.Slider,"infoTrack",Y(Fi,z.info.main,.62)),Ke(z.Slider,"successTrack",Y(Fi,z.success.main,.62)),Ke(z.Slider,"warningTrack",Y(Fi,z.warning.main,.62));const ee=C?Y(Bi,z.background.default,.6825):ww(z.background.default,.8);Ke(z.SnackbarContent,"bg",ee),Ke(z.SnackbarContent,"color",oh(()=>C?KP.text.primary:z.getContrastText(ee))),Ke(z.SpeedDialAction,"fabHoverBg",ww(z.background.paper,.15)),Ke(z.StepConnector,"border",V("palette-grey-400")),Ke(z.StepContent,"border",V("palette-grey-400")),Ke(z.Switch,"defaultColor",V("palette-common-white")),Ke(z.Switch,"defaultDisabledColor",V("palette-grey-100")),Ke(z.Switch,"primaryDisabledColor",Y(Fi,z.primary.main,.62)),Ke(z.Switch,"secondaryDisabledColor",Y(Fi,z.secondary.main,.62)),Ke(z.Switch,"errorDisabledColor",Y(Fi,z.error.main,.62)),Ke(z.Switch,"infoDisabledColor",Y(Fi,z.info.main,.62)),Ke(z.Switch,"successDisabledColor",Y(Fi,z.success.main,.62)),Ke(z.Switch,"warningDisabledColor",Y(Fi,z.warning.main,.62)),Ke(z.TableCell,"border",Y(Fi,Y(bg,z.divider,1),.88)),Ke(z.Tooltip,"bg",Y(bg,z.grey[700],.92))}if(z.mode==="dark"){Ke(z.Alert,"errorColor",Y(Fi,z.error.light,.6)),Ke(z.Alert,"infoColor",Y(Fi,z.info.light,.6)),Ke(z.Alert,"successColor",Y(Fi,z.success.light,.6)),Ke(z.Alert,"warningColor",Y(Fi,z.warning.light,.6)),Ke(z.Alert,"errorFilledBg",V("palette-error-dark")),Ke(z.Alert,"infoFilledBg",V("palette-info-dark")),Ke(z.Alert,"successFilledBg",V("palette-success-dark")),Ke(z.Alert,"warningFilledBg",V("palette-warning-dark")),Ke(z.Alert,"errorFilledColor",oh(()=>z.getContrastText(z.error.dark))),Ke(z.Alert,"infoFilledColor",oh(()=>z.getContrastText(z.info.dark))),Ke(z.Alert,"successFilledColor",oh(()=>z.getContrastText(z.success.dark))),Ke(z.Alert,"warningFilledColor",oh(()=>z.getContrastText(z.warning.dark))),Ke(z.Alert,"errorStandardBg",Y(Bi,z.error.light,.9)),Ke(z.Alert,"infoStandardBg",Y(Bi,z.info.light,.9)),Ke(z.Alert,"successStandardBg",Y(Bi,z.success.light,.9)),Ke(z.Alert,"warningStandardBg",Y(Bi,z.warning.light,.9)),Ke(z.Alert,"errorIconColor",V("palette-error-main")),Ke(z.Alert,"infoIconColor",V("palette-info-main")),Ke(z.Alert,"successIconColor",V("palette-success-main")),Ke(z.Alert,"warningIconColor",V("palette-warning-main")),Ke(z.AppBar,"defaultBg",V("palette-grey-900")),Ke(z.AppBar,"darkBg",V("palette-background-paper")),Ke(z.AppBar,"darkColor",V("palette-text-primary")),Ke(z.Avatar,"defaultBg",V("palette-grey-600")),Ke(z.Button,"inheritContainedBg",V("palette-grey-800")),Ke(z.Button,"inheritContainedHoverBg",V("palette-grey-700")),Ke(z.Chip,"defaultBorder",V("palette-grey-700")),Ke(z.Chip,"defaultAvatarColor",V("palette-grey-300")),Ke(z.Chip,"defaultIconColor",V("palette-grey-300")),Ke(z.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),Ke(z.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),Ke(z.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),Ke(z.LinearProgress,"primaryBg",Y(Bi,z.primary.main,.5)),Ke(z.LinearProgress,"secondaryBg",Y(Bi,z.secondary.main,.5)),Ke(z.LinearProgress,"errorBg",Y(Bi,z.error.main,.5)),Ke(z.LinearProgress,"infoBg",Y(Bi,z.info.main,.5)),Ke(z.LinearProgress,"successBg",Y(Bi,z.success.main,.5)),Ke(z.LinearProgress,"warningBg",Y(Bi,z.warning.main,.5)),Ke(z.Skeleton,"bg",C?Y(bg,z.text.primary,.13):`rgba(${V("palette-text-primaryChannel")} / 0.13)`),Ke(z.Slider,"primaryTrack",Y(Bi,z.primary.main,.5)),Ke(z.Slider,"secondaryTrack",Y(Bi,z.secondary.main,.5)),Ke(z.Slider,"errorTrack",Y(Bi,z.error.main,.5)),Ke(z.Slider,"infoTrack",Y(Bi,z.info.main,.5)),Ke(z.Slider,"successTrack",Y(Bi,z.success.main,.5)),Ke(z.Slider,"warningTrack",Y(Bi,z.warning.main,.5));const ee=C?Y(Fi,z.background.default,.985):ww(z.background.default,.98);Ke(z.SnackbarContent,"bg",ee),Ke(z.SnackbarContent,"color",oh(()=>C?hW.text.primary:z.getContrastText(ee))),Ke(z.SpeedDialAction,"fabHoverBg",ww(z.background.paper,.15)),Ke(z.StepConnector,"border",V("palette-grey-600")),Ke(z.StepContent,"border",V("palette-grey-600")),Ke(z.Switch,"defaultColor",V("palette-grey-300")),Ke(z.Switch,"defaultDisabledColor",V("palette-grey-600")),Ke(z.Switch,"primaryDisabledColor",Y(Bi,z.primary.main,.55)),Ke(z.Switch,"secondaryDisabledColor",Y(Bi,z.secondary.main,.55)),Ke(z.Switch,"errorDisabledColor",Y(Bi,z.error.main,.55)),Ke(z.Switch,"infoDisabledColor",Y(Bi,z.info.main,.55)),Ke(z.Switch,"successDisabledColor",Y(Bi,z.success.main,.55)),Ke(z.Switch,"warningDisabledColor",Y(Bi,z.warning.main,.55)),Ke(z.TableCell,"border",Y(Bi,Y(bg,z.divider,1),.68)),Ke(z.Tooltip,"bg",Y(bg,z.grey[700],.92))}wd(z.background,"default"),wd(z.background,"paper"),wd(z.common,"background"),wd(z.common,"onBackground"),wd(z,"divider"),Object.keys(z).forEach(ee=>{const q=z[ee];ee!=="tonalOffset"&&q&&typeof q=="object"&&(q.main&&Ke(z[ee],"mainChannel",Z1(Q1(q.main))),q.light&&Ke(z[ee],"lightChannel",Z1(Q1(q.light))),q.dark&&Ke(z[ee],"darkChannel",Z1(Q1(q.dark))),q.contrastText&&Ke(z[ee],"contrastTextChannel",Z1(Q1(q.contrastText))),ee==="text"&&(wd(z[ee],"primary"),wd(z[ee],"secondary")),ee==="action"&&(q.active&&wd(z[ee],"active"),q.selected&&wd(z[ee],"selected")))})}),N=e.reduce((F,z)=>sa(F,z),N);const I={prefix:s,disableCssColorScheme:r,shouldSkipGeneratingVar:o,getSelector:$ve(N),enableContrastVars:a},{vars:L,generateThemeVars:P,generateStyleSheets:U}=Yye(N,I);return N.vars=L,Object.entries(N.colorSchemes[N.defaultColorScheme]).forEach(([F,z])=>{N[F]=z}),N.generateThemeVars=P,N.generateStyleSheets=U,N.generateSpacing=function(){return iW(d.spacing,qM(this))},N.getColorSchemeSelector=Kye(l),N.spacing=N.generateSpacing(),N.shouldSkipGeneratingVar=o,N.unstable_sxConfig={...tE,...d?.unstable_sxConfig},N.unstable_sx=function(z){return dy({sx:z,theme:this})},N.toRuntimeSource=pW,N}function p6(n,e,t){n.colorSchemes&&t&&(n.colorSchemes[e]={...t!==!0&&t,palette:s4({...t===!0?{}:t.palette,mode:e})})}function yW(n={},...e){const{palette:t,cssVariables:i=!1,colorSchemes:r=t?void 0:{light:!0},defaultColorScheme:s=t?.mode,...a}=n,o=s||"light",l=r?.[o],u={...r,...t?{[o]:{...typeof l!="boolean"&&l,palette:t}}:void 0};if(i===!1){if(!("colorSchemes"in n))return ZP(n,...e);let d=t;"palette"in n||u[o]&&(u[o]!==!0?d=u[o].palette:o==="dark"&&(d={mode:"dark"}));const p=ZP({...n,palette:d},...e);return p.defaultColorScheme=o,p.colorSchemes=u,p.palette.mode==="light"&&(p.colorSchemes.light={...u.light!==!0&&u.light,palette:p.palette},p6(p,"dark",u.dark)),p.palette.mode==="dark"&&(p.colorSchemes.dark={...u.dark!==!0&&u.dark,palette:p.palette},p6(p,"light",u.light)),p}return!t&&!("light"in u)&&o==="light"&&(u.light=!0),Zve({...a,colorSchemes:u,defaultColorScheme:o,...typeof i!="boolean"&&i},...e)}const a4=yW(),rR="$$material";function mf(){const n=sE(a4);return n[rR]||n}function vW(n){return Z.jsx(Eye,{...n,defaultTheme:a4,themeId:rR})}function _W(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const No=n=>_W(n)&&n!=="classes",ft=aW({themeId:rR,defaultTheme:a4,rootShouldForwardProp:No});function Qve(n){return function(t){return Z.jsx(vW,{styles:typeof n=="function"?i=>n({theme:i,...t}):n})}}function Jve(){return ZM}const Ln=qye;function En(n){return Hye(n)}function e0e(n){return yn("MuiSvgIcon",n)}vn("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const t0e=n=>{const{color:e,fontSize:t,classes:i}=n,r={root:["root",e!=="inherit"&&`color${yt(e)}`,`fontSize${yt(t)}`]};return gn(r,e0e,i)},n0e=ft("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${yt(t.color)}`],e[`fontSize${yt(t.fontSize)}`]]}})(Ln(({theme:n})=>({userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:n.transitions?.create?.("fill",{duration:(n.vars??n).transitions?.duration?.shorter}),variants:[{props:e=>!e.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:n.typography?.pxToRem?.(20)||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:n.typography?.pxToRem?.(24)||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:n.typography?.pxToRem?.(35)||"2.1875rem"}},...Object.entries((n.vars??n).palette).filter(([,e])=>e&&e.main).map(([e])=>({props:{color:e},style:{color:(n.vars??n).palette?.[e]?.main}})),{props:{color:"action"},style:{color:(n.vars??n).palette?.action?.active}},{props:{color:"disabled"},style:{color:(n.vars??n).palette?.action?.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}))),JP=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiSvgIcon"}),{children:r,className:s,color:a="inherit",component:o="svg",fontSize:l="medium",htmlColor:u,inheritViewBox:d=!1,titleAccess:p,viewBox:y="0 0 24 24",...v}=i,_=H.isValidElement(r)&&r.type==="svg",S={...i,color:a,component:o,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:d,viewBox:y,hasSvgAsChild:_},E={};d||(E.viewBox=y);const b=t0e(S);return Z.jsxs(n0e,{as:o,className:Pt(b.root,s),focusable:"false",color:u,"aria-hidden":p?void 0:!0,role:p?"img":void 0,ref:t,...E,...v,..._&&r.props,ownerState:S,children:[_?r.props.children:r,p?Z.jsx("title",{children:p}):null]})});JP.muiName="SvgIcon";function Hr(n,e){function t(i,r){return Z.jsx(JP,{"data-testid":void 0,ref:r,...i,children:n})}return t.muiName=JP.muiName,H.memo(H.forwardRef(t))}function lE(n,e=166){let t;function i(...r){const s=()=>{n.apply(this,r)};clearTimeout(t),t=setTimeout(s,e)}return i.clear=()=>{clearTimeout(t)},i}function Aa(n){return n&&n.ownerDocument||document}function Gl(n){return Aa(n).defaultView||window}function m6(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function cA(n){const{controlled:e,default:t,name:i,state:r="value"}=n,{current:s}=H.useRef(e!==void 0),[a,o]=H.useState(t),l=s?e:a,u=H.useCallback(d=>{s||o(d)},[]);return[l,u]}function Fl(n){const e=H.useRef(n);return Cu(()=>{e.current=n}),H.useRef((...t)=>(0,e.current)(...t)).current}function Vr(...n){const e=H.useRef(void 0),t=H.useCallback(i=>{const r=n.map(s=>{if(s==null)return null;if(typeof s=="function"){const a=s,o=a(i);return typeof o=="function"?o:()=>{a(null)}}return s.current=i,()=>{s.current=null}});return()=>{r.forEach(s=>s?.())}},n);return H.useMemo(()=>n.every(i=>i==null)?null:i=>{e.current&&(e.current(),e.current=void 0),i!=null&&(e.current=t(i))},n)}function i0e(n,e){const t=n.charCodeAt(2);return n[0]==="o"&&n[1]==="n"&&t>=65&&t<=90&&typeof e=="function"}function bW(n,e){if(!n)return e;function t(a,o){const l={};return Object.keys(o).forEach(u=>{i0e(u,o[u])&&typeof a[u]=="function"&&(l[u]=(...d)=>{a[u](...d),o[u](...d)})}),l}if(typeof n=="function"||typeof e=="function")return a=>{const o=typeof e=="function"?e(a):e,l=typeof n=="function"?n({...a,...o}):n,u=Pt(a?.className,o?.className,l?.className),d=t(l,o);return{...o,...l,...d,...!!u&&{className:u},...o?.style&&l?.style&&{style:{...o.style,...l.style}},...o?.sx&&l?.sx&&{sx:[...Array.isArray(o.sx)?o.sx:[o.sx],...Array.isArray(l.sx)?l.sx:[l.sx]]}}};const i=e,r=t(n,i),s=Pt(i?.className,n?.className);return{...e,...n,...r,...!!s&&{className:s},...i?.style&&n?.style&&{style:{...i.style,...n.style}},...i?.sx&&n?.sx&&{sx:[...Array.isArray(i.sx)?i.sx:[i.sx],...Array.isArray(n.sx)?n.sx:[n.sx]]}}}const r0e=Hr(Z.jsx("path",{d:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"}));function xW(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function eD(n,e){return eD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},eD(n,e)}function SW(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,eD(n,e)}const g6={disabled:!1},uA=lr.createContext(null);var s0e=function(e){return e.scrollTop},J1="unmounted",Ig="exited",Pg="entering",g0="entered",tD="exiting",kc=(function(n){SW(e,n);function e(i,r){var s;s=n.call(this,i,r)||this;var a=r,o=a&&!a.isMounting?i.enter:i.appear,l;return s.appearStatus=null,i.in?o?(l=Ig,s.appearStatus=Pg):l=g0:i.unmountOnExit||i.mountOnEnter?l=J1:l=Ig,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(r,s){var a=r.in;return a&&s.status===J1?{status:Ig}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(r){var s=null;if(r!==this.props){var a=this.state.status;this.props.in?a!==Pg&&a!==g0&&(s=Pg):(a===Pg||a===g0)&&(s=tD)}this.updateStatus(!1,s)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var r=this.props.timeout,s,a,o;return s=a=o=r,r!=null&&typeof r!="number"&&(s=r.exit,a=r.enter,o=r.appear!==void 0?r.appear:a),{exit:s,enter:a,appear:o}},t.updateStatus=function(r,s){if(r===void 0&&(r=!1),s!==null)if(this.cancelNextCallback(),s===Pg){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:ST.findDOMNode(this);a&&s0e(a)}this.performEnter(r)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ig&&this.setState({status:J1})},t.performEnter=function(r){var s=this,a=this.props.enter,o=this.context?this.context.isMounting:r,l=this.props.nodeRef?[o]:[ST.findDOMNode(this),o],u=l[0],d=l[1],p=this.getTimeouts(),y=o?p.appear:p.enter;if(!r&&!a||g6.disabled){this.safeSetState({status:g0},function(){s.props.onEntered(u)});return}this.props.onEnter(u,d),this.safeSetState({status:Pg},function(){s.props.onEntering(u,d),s.onTransitionEnd(y,function(){s.safeSetState({status:g0},function(){s.props.onEntered(u,d)})})})},t.performExit=function(){var r=this,s=this.props.exit,a=this.getTimeouts(),o=this.props.nodeRef?void 0:ST.findDOMNode(this);if(!s||g6.disabled){this.safeSetState({status:Ig},function(){r.props.onExited(o)});return}this.props.onExit(o),this.safeSetState({status:tD},function(){r.props.onExiting(o),r.onTransitionEnd(a.exit,function(){r.safeSetState({status:Ig},function(){r.props.onExited(o)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(r,s){s=this.setNextCallback(s),this.setState(r,s)},t.setNextCallback=function(r){var s=this,a=!0;return this.nextCallback=function(o){a&&(a=!1,s.nextCallback=null,r(o))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},t.onTransitionEnd=function(r,s){this.setNextCallback(s);var a=this.props.nodeRef?this.props.nodeRef.current:ST.findDOMNode(this),o=r==null&&!this.props.addEndListener;if(!a||o){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],u=l[0],d=l[1];this.props.addEndListener(u,d)}r!=null&&setTimeout(this.nextCallback,r)},t.render=function(){var r=this.state.status;if(r===J1)return null;var s=this.props,a=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var o=xW(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return lr.createElement(uA.Provider,{value:null},typeof a=="function"?a(r,o):lr.cloneElement(lr.Children.only(a),o))},e})(lr.Component);kc.contextType=uA;kc.propTypes={};function Yv(){}kc.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Yv,onEntering:Yv,onEntered:Yv,onExit:Yv,onExiting:Yv,onExited:Yv};kc.UNMOUNTED=J1;kc.EXITED=Ig;kc.ENTERING=Pg;kc.ENTERED=g0;kc.EXITING=tD;function a0e(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function o4(n,e){var t=function(s){return e&&H.isValidElement(s)?e(s):s},i=Object.create(null);return n&&H.Children.map(n,function(r){return r}).forEach(function(r){i[r.key]=t(r)}),i}function o0e(n,e){n=n||{},e=e||{};function t(d){return d in e?e[d]:n[d]}var i=Object.create(null),r=[];for(var s in n)s in e?r.length&&(i[s]=r,r=[]):r.push(s);var a,o={};for(var l in e){if(i[l])for(a=0;a<i[l].length;a++){var u=i[l][a];o[i[l][a]]=t(u)}o[l]=t(l)}for(a=0;a<r.length;a++)o[r[a]]=t(r[a]);return o}function Gg(n,e,t){return t[e]!=null?t[e]:n.props[e]}function l0e(n,e){return o4(n.children,function(t){return H.cloneElement(t,{onExited:e.bind(null,t),in:!0,appear:Gg(t,"appear",n),enter:Gg(t,"enter",n),exit:Gg(t,"exit",n)})})}function c0e(n,e,t){var i=o4(n.children),r=o0e(e,i);return Object.keys(r).forEach(function(s){var a=r[s];if(H.isValidElement(a)){var o=s in e,l=s in i,u=e[s],d=H.isValidElement(u)&&!u.props.in;l&&(!o||d)?r[s]=H.cloneElement(a,{onExited:t.bind(null,a),in:!0,exit:Gg(a,"exit",n),enter:Gg(a,"enter",n)}):!l&&o&&!d?r[s]=H.cloneElement(a,{in:!1}):l&&o&&H.isValidElement(u)&&(r[s]=H.cloneElement(a,{onExited:t.bind(null,a),in:u.props.in,exit:Gg(a,"exit",n),enter:Gg(a,"enter",n)}))}}),r}var u0e=Object.values||function(n){return Object.keys(n).map(function(e){return n[e]})},h0e={component:"div",childFactory:function(e){return e}},l4=(function(n){SW(e,n);function e(i,r){var s;s=n.call(this,i,r)||this;var a=s.handleExited.bind(a0e(s));return s.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},s}var t=e.prototype;return t.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},t.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(r,s){var a=s.children,o=s.handleExited,l=s.firstRender;return{children:l?l0e(r,o):c0e(r,a,o),firstRender:!1}},t.handleExited=function(r,s){var a=o4(this.props.children);r.key in a||(r.props.onExited&&r.props.onExited(s),this.mounted&&this.setState(function(o){var l=el({},o.children);return delete l[r.key],{children:l}}))},t.render=function(){var r=this.props,s=r.component,a=r.childFactory,o=xW(r,["component","childFactory"]),l=this.state.contextValue,u=u0e(this.state.children).map(a);return delete o.appear,delete o.enter,delete o.exit,s===null?lr.createElement(uA.Provider,{value:l},u):lr.createElement(uA.Provider,{value:l},lr.createElement(s,o,u))},e})(lr.Component);l4.propTypes={};l4.defaultProps=h0e;const y6={};function EW(n,e){const t=H.useRef(y6);return t.current===y6&&(t.current=n(e)),t}const d0e=[];function f0e(n){H.useEffect(n,d0e)}class sR{static create(){return new sR}currentId=null;start(e,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},e)}clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)};disposeEffect=()=>this.clear}function qg(){const n=EW(sR.create).current;return f0e(n.disposeEffect),n}const c4=n=>n.scrollTop;function tm(n,e){const{timeout:t,easing:i,style:r={}}=n;return{duration:r.transitionDuration??(typeof t=="number"?t:t[e.mode]||0),easing:r.transitionTimingFunction??(typeof i=="object"?i[e.mode]:i),delay:r.transitionDelay}}function d_(n){return typeof n=="string"}function TW(n,e,t){return n===void 0||d_(n)?e:{...e,ownerState:{...e.ownerState,...t}}}function wW(n,e,t){return typeof n=="function"?n(e,t):n}function CW(n,e=[]){if(n===void 0)return{};const t={};return Object.keys(n).filter(i=>i.match(/^on[A-Z]/)&&typeof n[i]=="function"&&!e.includes(i)).forEach(i=>{t[i]=n[i]}),t}function v6(n){if(n===void 0)return{};const e={};return Object.keys(n).filter(t=>!(t.match(/^on[A-Z]/)&&typeof n[t]=="function")).forEach(t=>{e[t]=n[t]}),e}function AW(n){const{getSlotProps:e,additionalProps:t,externalSlotProps:i,externalForwardedProps:r,className:s}=n;if(!e){const v=Pt(t?.className,s,r?.className,i?.className),_={...t?.style,...r?.style,...i?.style},S={...t,...r,...i};return v.length>0&&(S.className=v),Object.keys(_).length>0&&(S.style=_),{props:S,internalRef:void 0}}const a=CW({...r,...i}),o=v6(i),l=v6(r),u=e(a),d=Pt(u?.className,t?.className,s,r?.className,i?.className),p={...u?.style,...t?.style,...r?.style,...i?.style},y={...u,...t,...l,...o};return d.length>0&&(y.className=d),Object.keys(p).length>0&&(y.style=p),{props:y,internalRef:u.ref}}function rn(n,e){const{className:t,elementType:i,ownerState:r,externalForwardedProps:s,internalForwardedProps:a,shouldForwardComponentProp:o=!1,...l}=e,{component:u,slots:d={[n]:void 0},slotProps:p={[n]:void 0},...y}=s,v=d[n]||i,_=wW(p[n],r),{props:{component:S,...E},internalRef:b}=AW({className:t,...l,externalForwardedProps:n==="root"?y:void 0,externalSlotProps:_}),w=Vr(b,_?.ref,e.ref),A=n==="root"?S||u:S,C=TW(v,{...n==="root"&&!u&&!d[n]&&a,...n!=="root"&&!d[n]&&a,...E,...A&&!o&&{as:A},...A&&o&&{component:A},ref:w},r);return[v,C]}function p0e(n){return yn("MuiCollapse",n)}vn("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const m0e=n=>{const{orientation:e,classes:t}=n,i={root:["root",`${e}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${e}`],wrapperInner:["wrapperInner",`${e}`]};return gn(i,p0e,t)},g0e=ft("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.orientation],t.state==="entered"&&e.entered,t.state==="exited"&&!t.in&&t.collapsedSize==="0px"&&e.hidden]}})(Ln(({theme:n})=>({height:0,overflow:"hidden",transition:n.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:n.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:({ownerState:e})=>e.state==="exited"&&!e.in&&e.collapsedSize==="0px",style:{visibility:"hidden"}}]}))),y0e=ft("div",{name:"MuiCollapse",slot:"Wrapper"})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),v0e=ft("div",{name:"MuiCollapse",slot:"WrapperInner"})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),hA=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiCollapse"}),{addEndListener:r,children:s,className:a,collapsedSize:o="0px",component:l,easing:u,in:d,onEnter:p,onEntered:y,onEntering:v,onExit:_,onExited:S,onExiting:E,orientation:b="vertical",slots:w={},slotProps:A={},style:C,timeout:D=fW.standard,TransitionComponent:N=kc,...I}=i,L={...i,orientation:b,collapsedSize:o},P=m0e(L),U=mf(),F=qg(),z=H.useRef(null),V=H.useRef(),Y=typeof o=="number"?`${o}px`:o,ee=b==="horizontal",q=ee?"width":"height",$=H.useRef(null),Q=Vr(t,$),se=Oe=>Be=>{if(Oe){const Ne=$.current;Be===void 0?Oe(Ne):Oe(Ne,Be)}},fe=()=>z.current?z.current[ee?"clientWidth":"clientHeight"]:0,K=se((Oe,Be)=>{z.current&&ee&&(z.current.style.position="absolute"),Oe.style[q]=Y,p&&p(Oe,Be)}),le=se((Oe,Be)=>{const Ne=fe();z.current&&ee&&(z.current.style.position="");const{duration:Me,easing:ut}=tm({style:C,timeout:D,easing:u},{mode:"enter"});if(D==="auto"){const qe=U.transitions.getAutoHeightDuration(Ne);Oe.style.transitionDuration=`${qe}ms`,V.current=qe}else Oe.style.transitionDuration=typeof Me=="string"?Me:`${Me}ms`;Oe.style[q]=`${Ne}px`,Oe.style.transitionTimingFunction=ut,v&&v(Oe,Be)}),pe=se((Oe,Be)=>{Oe.style[q]="auto",y&&y(Oe,Be)}),ue=se(Oe=>{Oe.style[q]=`${fe()}px`,_&&_(Oe)}),ie=se(S),de=se(Oe=>{const Be=fe(),{duration:Ne,easing:Me}=tm({style:C,timeout:D,easing:u},{mode:"exit"});if(D==="auto"){const ut=U.transitions.getAutoHeightDuration(Be);Oe.style.transitionDuration=`${ut}ms`,V.current=ut}else Oe.style.transitionDuration=typeof Ne=="string"?Ne:`${Ne}ms`;Oe.style[q]=Y,Oe.style.transitionTimingFunction=Me,E&&E(Oe)}),ye=Oe=>{D==="auto"&&F.start(V.current||0,Oe),r&&r($.current,Oe)},Ve={slots:w,slotProps:A,component:l},[Xe,Ge]=rn("root",{ref:Q,className:Pt(P.root,a),elementType:g0e,externalForwardedProps:Ve,ownerState:L,additionalProps:{style:{[ee?"minWidth":"minHeight"]:Y,...C}}}),[st,lt]=rn("wrapper",{ref:z,className:P.wrapper,elementType:y0e,externalForwardedProps:Ve,ownerState:L}),[mt,te]=rn("wrapperInner",{className:P.wrapperInner,elementType:v0e,externalForwardedProps:Ve,ownerState:L});return Z.jsx(N,{in:d,onEnter:K,onEntered:pe,onEntering:le,onExit:ue,onExited:ie,onExiting:de,addEndListener:ye,nodeRef:$,timeout:D==="auto"?null:D,...I,children:(Oe,{ownerState:Be,...Ne})=>{const Me={...L,state:Oe};return Z.jsx(Xe,{...Ge,className:Pt(Ge.className,{entered:P.entered,exited:!d&&Y==="0px"&&P.hidden}[Oe]),ownerState:Me,...Ne,children:Z.jsx(st,{...lt,ownerState:Me,children:Z.jsx(mt,{...te,ownerState:Me,children:s})})})}})});hA&&(hA.muiSupportAuto=!0);function _0e(n){return yn("MuiPaper",n)}vn("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const b0e=n=>{const{square:e,elevation:t,variant:i,classes:r}=n,s={root:["root",i,!e&&"rounded",i==="elevation"&&`elevation${t}`]};return gn(s,_0e,r)},x0e=ft("div",{name:"MuiPaper",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],!t.square&&e.rounded,t.variant==="elevation"&&e[`elevation${t.elevation}`]]}})(Ln(({theme:n})=>({backgroundColor:(n.vars||n).palette.background.paper,color:(n.vars||n).palette.text.primary,transition:n.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:n.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(n.vars||n).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),cE=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiPaper"}),r=mf(),{className:s,component:a="div",elevation:o=1,square:l=!1,variant:u="elevation",...d}=i,p={...i,component:a,elevation:o,square:l,variant:u},y=b0e(p);return Z.jsx(x0e,{as:a,ownerState:p,className:Pt(y.root,s),ref:t,...d,style:{...u==="elevation"&&{"--Paper-shadow":(r.vars||r).shadows[o],...r.vars&&{"--Paper-overlay":r.vars.overlays?.[o]},...!r.vars&&r.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${oA("#fff",QP(o))}, ${oA("#fff",QP(o))})`}},...d.style}})});function dA(n){try{return n.matches(":focus-visible")}catch{}return!1}class fA{static create(){return new fA}static use(){const e=EW(fA.create).current,[t,i]=H.useState(!1);return e.shouldMount=t,e.setShouldMount=i,H.useEffect(e.mountEffect,[t]),e}constructor(){this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}mount(){return this.mounted||(this.mounted=E0e(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}mountEffect=()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())};start(...e){this.mount().then(()=>this.ref.current?.start(...e))}stop(...e){this.mount().then(()=>this.ref.current?.stop(...e))}pulsate(...e){this.mount().then(()=>this.ref.current?.pulsate(...e))}}function S0e(){return fA.use()}function E0e(){let n,e;const t=new Promise((i,r)=>{n=i,e=r});return t.resolve=n,t.reject=e,t}function T0e(n){const{className:e,classes:t,pulsate:i=!1,rippleX:r,rippleY:s,rippleSize:a,in:o,onExited:l,timeout:u}=n,[d,p]=H.useState(!1),y=Pt(e,t.ripple,t.rippleVisible,i&&t.ripplePulsate),v={width:a,height:a,top:-(a/2)+s,left:-(a/2)+r},_=Pt(t.child,d&&t.childLeaving,i&&t.childPulsate);return!o&&!d&&p(!0),H.useEffect(()=>{if(!o&&l!=null){const S=setTimeout(l,u);return()=>{clearTimeout(S)}}},[l,o,u]),Z.jsx("span",{className:y,style:v,children:Z.jsx("span",{className:_})})}const xc=vn("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),nD=550,w0e=80,C0e=rE`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,A0e=rE`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,M0e=rE`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,R0e=ft("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),O0e=ft(T0e,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${xc.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${C0e};
    animation-duration: ${nD}ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
  }

  &.${xc.ripplePulsate} {
    animation-duration: ${({theme:n})=>n.transitions.duration.shorter}ms;
  }

  & .${xc.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${xc.childLeaving} {
    opacity: 0;
    animation-name: ${A0e};
    animation-duration: ${nD}ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
  }

  & .${xc.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${M0e};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,I0e=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiTouchRipple"}),{center:r=!1,classes:s={},className:a,...o}=i,[l,u]=H.useState([]),d=H.useRef(0),p=H.useRef(null);H.useEffect(()=>{p.current&&(p.current(),p.current=null)},[l]);const y=H.useRef(!1),v=qg(),_=H.useRef(null),S=H.useRef(null),E=H.useCallback(C=>{const{pulsate:D,rippleX:N,rippleY:I,rippleSize:L,cb:P}=C;u(U=>[...U,Z.jsx(O0e,{classes:{ripple:Pt(s.ripple,xc.ripple),rippleVisible:Pt(s.rippleVisible,xc.rippleVisible),ripplePulsate:Pt(s.ripplePulsate,xc.ripplePulsate),child:Pt(s.child,xc.child),childLeaving:Pt(s.childLeaving,xc.childLeaving),childPulsate:Pt(s.childPulsate,xc.childPulsate)},timeout:nD,pulsate:D,rippleX:N,rippleY:I,rippleSize:L},d.current)]),d.current+=1,p.current=P},[s]),b=H.useCallback((C={},D={},N=()=>{})=>{const{pulsate:I=!1,center:L=r||D.pulsate,fakeElement:P=!1}=D;if(C?.type==="mousedown"&&y.current){y.current=!1;return}C?.type==="touchstart"&&(y.current=!0);const U=P?null:S.current,F=U?U.getBoundingClientRect():{width:0,height:0,left:0,top:0};let z,V,Y;if(L||C===void 0||C.clientX===0&&C.clientY===0||!C.clientX&&!C.touches)z=Math.round(F.width/2),V=Math.round(F.height/2);else{const{clientX:ee,clientY:q}=C.touches&&C.touches.length>0?C.touches[0]:C;z=Math.round(ee-F.left),V=Math.round(q-F.top)}if(L)Y=Math.sqrt((2*F.width**2+F.height**2)/3),Y%2===0&&(Y+=1);else{const ee=Math.max(Math.abs((U?U.clientWidth:0)-z),z)*2+2,q=Math.max(Math.abs((U?U.clientHeight:0)-V),V)*2+2;Y=Math.sqrt(ee**2+q**2)}C?.touches?_.current===null&&(_.current=()=>{E({pulsate:I,rippleX:z,rippleY:V,rippleSize:Y,cb:N})},v.start(w0e,()=>{_.current&&(_.current(),_.current=null)})):E({pulsate:I,rippleX:z,rippleY:V,rippleSize:Y,cb:N})},[r,E,v]),w=H.useCallback(()=>{b({},{pulsate:!0})},[b]),A=H.useCallback((C,D)=>{if(v.clear(),C?.type==="touchend"&&_.current){_.current(),_.current=null,v.start(0,()=>{A(C,D)});return}_.current=null,u(N=>N.length>0?N.slice(1):N),p.current=D},[v]);return H.useImperativeHandle(t,()=>({pulsate:w,start:b,stop:A}),[w,b,A]),Z.jsx(R0e,{className:Pt(xc.root,s.root,a),ref:S,...o,children:Z.jsx(l4,{component:null,exit:!0,children:l})})});function P0e(n){return yn("MuiButtonBase",n)}const D0e=vn("MuiButtonBase",["root","disabled","focusVisible"]),N0e=n=>{const{disabled:e,focusVisible:t,focusVisibleClassName:i,classes:r}=n,a=gn({root:["root",e&&"disabled",t&&"focusVisible"]},P0e,r);return t&&i&&(a.root+=` ${i}`),a},L0e=ft("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${D0e.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),nm=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiButtonBase"}),{action:r,centerRipple:s=!1,children:a,className:o,component:l="button",disabled:u=!1,disableRipple:d=!1,disableTouchRipple:p=!1,focusRipple:y=!1,focusVisibleClassName:v,LinkComponent:_="a",onBlur:S,onClick:E,onContextMenu:b,onDragLeave:w,onFocus:A,onFocusVisible:C,onKeyDown:D,onKeyUp:N,onMouseDown:I,onMouseLeave:L,onMouseUp:P,onTouchEnd:U,onTouchMove:F,onTouchStart:z,tabIndex:V=0,TouchRippleProps:Y,touchRippleRef:ee,type:q,...$}=i,Q=H.useRef(null),se=S0e(),fe=Vr(se.ref,ee),[K,le]=H.useState(!1);u&&K&&le(!1),H.useImperativeHandle(r,()=>({focusVisible:()=>{le(!0),Q.current.focus()}}),[]);const pe=se.shouldMount&&!d&&!u;H.useEffect(()=>{K&&y&&!d&&se.pulsate()},[d,y,K,se]);const ue=Cd(se,"start",I,p),ie=Cd(se,"stop",b,p),de=Cd(se,"stop",w,p),ye=Cd(se,"stop",P,p),Ve=Cd(se,"stop",J=>{K&&J.preventDefault(),L&&L(J)},p),Xe=Cd(se,"start",z,p),Ge=Cd(se,"stop",U,p),st=Cd(se,"stop",F,p),lt=Cd(se,"stop",J=>{dA(J.target)||le(!1),S&&S(J)},!1),mt=Fl(J=>{Q.current||(Q.current=J.currentTarget),dA(J.target)&&(le(!0),C&&C(J)),A&&A(J)}),te=()=>{const J=Q.current;return l&&l!=="button"&&!(J.tagName==="A"&&J.href)},Oe=Fl(J=>{y&&!J.repeat&&K&&J.key===" "&&se.stop(J,()=>{se.start(J)}),J.target===J.currentTarget&&te()&&J.key===" "&&J.preventDefault(),D&&D(J),J.target===J.currentTarget&&te()&&J.key==="Enter"&&!u&&(J.preventDefault(),E&&E(J))}),Be=Fl(J=>{y&&J.key===" "&&K&&!J.defaultPrevented&&se.stop(J,()=>{se.pulsate(J)}),N&&N(J),E&&J.target===J.currentTarget&&te()&&J.key===" "&&!J.defaultPrevented&&E(J)});let Ne=l;Ne==="button"&&($.href||$.to)&&(Ne=_);const Me={};if(Ne==="button"){const J=!!$.formAction;Me.type=q===void 0&&!J?"button":q,Me.disabled=u}else!$.href&&!$.to&&(Me.role="button"),u&&(Me["aria-disabled"]=u);const ut=Vr(t,Q),qe={...i,centerRipple:s,component:l,disabled:u,disableRipple:d,disableTouchRipple:p,focusRipple:y,tabIndex:V,focusVisible:K},ae=N0e(qe);return Z.jsxs(L0e,{as:Ne,className:Pt(ae.root,o),ownerState:qe,onBlur:lt,onClick:E,onContextMenu:ie,onFocus:mt,onKeyDown:Oe,onKeyUp:Be,onMouseDown:ue,onMouseLeave:Ve,onMouseUp:ye,onDragLeave:de,onTouchEnd:Ge,onTouchMove:st,onTouchStart:Xe,ref:ut,tabIndex:u?-1:V,type:q,...Me,...$,children:[a,pe?Z.jsx(I0e,{ref:fe,center:s,...Y}):null]})});function Cd(n,e,t,i=!1){return Fl(r=>(t&&t(r),i||n[e](r),!0))}function U0e(n){return typeof n.main=="string"}function k0e(n,e=[]){if(!U0e(n))return!1;for(const t of e)if(!n.hasOwnProperty(t)||typeof n[t]!="string")return!1;return!0}function na(n=[]){return([,e])=>e&&k0e(e,n)}function z0e(n){return yn("MuiAlert",n)}const _6=vn("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function B0e(n){return yn("MuiCircularProgress",n)}vn("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","track","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const du=44,iD=rE`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,rD=rE`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,F0e=typeof iD!="string"?i4`
        animation: ${iD} 1.4s linear infinite;
      `:null,V0e=typeof rD!="string"?i4`
        animation: ${rD} 1.4s ease-in-out infinite;
      `:null,H0e=n=>{const{classes:e,variant:t,color:i,disableShrink:r}=n,s={root:["root",t,`color${yt(i)}`],svg:["svg"],track:["track"],circle:["circle",`circle${yt(t)}`,r&&"circleDisableShrink"]};return gn(s,B0e,e)},j0e=ft("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],e[`color${yt(t.color)}`]]}})(Ln(({theme:n})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:n.transitions.create("transform")}},{props:{variant:"indeterminate"},style:F0e||{animation:`${iD} 1.4s linear infinite`}},...Object.entries(n.palette).filter(na()).map(([e])=>({props:{color:e},style:{color:(n.vars||n).palette[e].main}}))]}))),G0e=ft("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),q0e=ft("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.circle,e[`circle${yt(t.variant)}`],t.disableShrink&&e.circleDisableShrink]}})(Ln(({theme:n})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:n.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:V0e||{animation:`${rD} 1.4s ease-in-out infinite`}}]}))),W0e=ft("circle",{name:"MuiCircularProgress",slot:"Track"})(Ln(({theme:n})=>({stroke:"currentColor",opacity:(n.vars||n).palette.action.activatedOpacity}))),MW=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiCircularProgress"}),{className:r,color:s="primary",disableShrink:a=!1,enableTrackSlot:o=!1,size:l=40,style:u,thickness:d=3.6,value:p=0,variant:y="indeterminate",...v}=i,_={...i,color:s,disableShrink:a,size:l,thickness:d,value:p,variant:y,enableTrackSlot:o},S=H0e(_),E={},b={},w={};if(y==="determinate"){const A=2*Math.PI*((du-d)/2);E.strokeDasharray=A.toFixed(3),w["aria-valuenow"]=Math.round(p),E.strokeDashoffset=`${((100-p)/100*A).toFixed(3)}px`,b.transform="rotate(-90deg)"}return Z.jsx(j0e,{className:Pt(S.root,r),style:{width:l,height:l,...b,...u},ownerState:_,ref:t,role:"progressbar",...w,...v,children:Z.jsxs(G0e,{className:S.svg,ownerState:_,viewBox:`${du/2} ${du/2} ${du} ${du}`,children:[o?Z.jsx(W0e,{className:S.track,ownerState:_,cx:du,cy:du,r:(du-d)/2,fill:"none",strokeWidth:d,"aria-hidden":"true"}):null,Z.jsx(q0e,{className:S.circle,style:E,ownerState:_,cx:du,cy:du,r:(du-d)/2,fill:"none",strokeWidth:d})]})})});function $0e(n){return yn("MuiIconButton",n)}const b6=vn("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),X0e=n=>{const{classes:e,disabled:t,color:i,edge:r,size:s,loading:a}=n,o={root:["root",a&&"loading",t&&"disabled",i!=="default"&&`color${yt(i)}`,r&&`edge${yt(r)}`,`size${yt(s)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return gn(o,$0e,e)},Y0e=ft(nm,{name:"MuiIconButton",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.loading&&e.loading,t.color!=="default"&&e[`color${yt(t.color)}`],t.edge&&e[`edge${yt(t.edge)}`],e[`size${yt(t.size)}`]]}})(Ln(({theme:n})=>({textAlign:"center",flex:"0 0 auto",fontSize:n.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(n.vars||n).palette.action.active,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":n.alpha((n.vars||n).palette.action.active,(n.vars||n).palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),Ln(({theme:n})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(n.palette).filter(na()).map(([e])=>({props:{color:e},style:{color:(n.vars||n).palette[e].main}})),...Object.entries(n.palette).filter(na()).map(([e])=>({props:{color:e},style:{"--IconButton-hoverBg":n.alpha((n.vars||n).palette[e].main,(n.vars||n).palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:n.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:n.typography.pxToRem(28)}}],[`&.${b6.disabled}`]:{backgroundColor:"transparent",color:(n.vars||n).palette.action.disabled},[`&.${b6.loading}`]:{color:"transparent"}}))),K0e=ft("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(({theme:n})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(n.vars||n).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),u4=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiIconButton"}),{edge:r=!1,children:s,className:a,color:o="default",disabled:l=!1,disableFocusRipple:u=!1,size:d="medium",id:p,loading:y=null,loadingIndicator:v,..._}=i,S=j_(p),E=v??Z.jsx(MW,{"aria-labelledby":S,color:"inherit",size:16}),b={...i,edge:r,color:o,disabled:l,disableFocusRipple:u,loading:y,loadingIndicator:E,size:d},w=X0e(b);return Z.jsxs(Y0e,{id:y?S:p,className:Pt(w.root,a),centerRipple:!0,focusRipple:!u,disabled:l||y,ref:t,..._,ownerState:b,children:[typeof y=="boolean"&&Z.jsx("span",{className:w.loadingWrapper,style:{display:"contents"},children:Z.jsx(K0e,{className:w.loadingIndicator,ownerState:b,children:y&&E})}),s]})}),Z0e=Hr(Z.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"})),Q0e=Hr(Z.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"})),J0e=Hr(Z.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})),e_e=Hr(Z.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"})),t_e=Hr(Z.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),n_e=n=>{const{variant:e,color:t,severity:i,classes:r}=n,s={root:["root",`color${yt(t||i)}`,`${e}${yt(t||i)}`,`${e}`],icon:["icon"],message:["message"],action:["action"]};return gn(s,z0e,r)},i_e=ft(cE,{name:"MuiAlert",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],e[`${t.variant}${yt(t.color||t.severity)}`]]}})(Ln(({theme:n})=>{const e=n.palette.mode==="light"?n.darken:n.lighten,t=n.palette.mode==="light"?n.lighten:n.darken;return{...n.typography.body2,backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(n.palette).filter(na(["light"])).map(([i])=>({props:{colorSeverity:i,variant:"standard"},style:{color:n.vars?n.vars.palette.Alert[`${i}Color`]:e(n.palette[i].light,.6),backgroundColor:n.vars?n.vars.palette.Alert[`${i}StandardBg`]:t(n.palette[i].light,.9),[`& .${_6.icon}`]:n.vars?{color:n.vars.palette.Alert[`${i}IconColor`]}:{color:n.palette[i].main}}})),...Object.entries(n.palette).filter(na(["light"])).map(([i])=>({props:{colorSeverity:i,variant:"outlined"},style:{color:n.vars?n.vars.palette.Alert[`${i}Color`]:e(n.palette[i].light,.6),border:`1px solid ${(n.vars||n).palette[i].light}`,[`& .${_6.icon}`]:n.vars?{color:n.vars.palette.Alert[`${i}IconColor`]}:{color:n.palette[i].main}}})),...Object.entries(n.palette).filter(na(["dark"])).map(([i])=>({props:{colorSeverity:i,variant:"filled"},style:{fontWeight:n.typography.fontWeightMedium,...n.vars?{color:n.vars.palette.Alert[`${i}FilledColor`],backgroundColor:n.vars.palette.Alert[`${i}FilledBg`]}:{backgroundColor:n.palette.mode==="dark"?n.palette[i].dark:n.palette[i].main,color:n.palette.getContrastText(n.palette[i].main)}}}))]}})),r_e=ft("div",{name:"MuiAlert",slot:"Icon"})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),s_e=ft("div",{name:"MuiAlert",slot:"Message"})({padding:"8px 0",minWidth:0,overflow:"auto"}),a_e=ft("div",{name:"MuiAlert",slot:"Action"})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),x6={success:Z.jsx(Z0e,{fontSize:"inherit"}),warning:Z.jsx(Q0e,{fontSize:"inherit"}),error:Z.jsx(J0e,{fontSize:"inherit"}),info:Z.jsx(e_e,{fontSize:"inherit"})},o_e=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiAlert"}),{action:r,children:s,className:a,closeText:o="Close",color:l,components:u={},componentsProps:d={},icon:p,iconMapping:y=x6,onClose:v,role:_="alert",severity:S="success",slotProps:E={},slots:b={},variant:w="standard",...A}=i,C={...i,color:l,severity:S,variant:w,colorSeverity:l||S},D=n_e(C),N={slots:{closeButton:u.CloseButton,closeIcon:u.CloseIcon,...b},slotProps:{...d,...E}},[I,L]=rn("root",{ref:t,shouldForwardComponentProp:!0,className:Pt(D.root,a),elementType:i_e,externalForwardedProps:{...N,...A},ownerState:C,additionalProps:{role:_,elevation:0}}),[P,U]=rn("icon",{className:D.icon,elementType:r_e,externalForwardedProps:N,ownerState:C}),[F,z]=rn("message",{className:D.message,elementType:s_e,externalForwardedProps:N,ownerState:C}),[V,Y]=rn("action",{className:D.action,elementType:a_e,externalForwardedProps:N,ownerState:C}),[ee,q]=rn("closeButton",{elementType:u4,externalForwardedProps:N,ownerState:C}),[$,Q]=rn("closeIcon",{elementType:t_e,externalForwardedProps:N,ownerState:C});return Z.jsxs(I,{...L,children:[p!==!1?Z.jsx(P,{...U,children:p||y[S]||x6[S]}):null,Z.jsx(F,{...z,children:s}),r!=null?Z.jsx(V,{...Y,children:r}):null,r==null&&v?Z.jsx(V,{...Y,children:Z.jsx(ee,{size:"small","aria-label":o,title:o,color:"inherit",onClick:v,...q,children:Z.jsx($,{fontSize:"small",...Q})})}):null]})});function l_e(n){return yn("MuiTypography",n)}const S6=vn("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),c_e={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},u_e=Jve(),h_e=n=>{const{align:e,gutterBottom:t,noWrap:i,paragraph:r,variant:s,classes:a}=n,o={root:["root",s,n.align!=="inherit"&&`align${yt(e)}`,t&&"gutterBottom",i&&"noWrap",r&&"paragraph"]};return gn(o,l_e,a)},d_e=ft("span",{name:"MuiTypography",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.variant&&e[t.variant],t.align!=="inherit"&&e[`align${yt(t.align)}`],t.noWrap&&e.noWrap,t.gutterBottom&&e.gutterBottom,t.paragraph&&e.paragraph]}})(Ln(({theme:n})=>({margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(n.typography).filter(([e,t])=>e!=="inherit"&&t&&typeof t=="object").map(([e,t])=>({props:{variant:e},style:t})),...Object.entries(n.palette).filter(na()).map(([e])=>({props:{color:e},style:{color:(n.vars||n).palette[e].main}})),...Object.entries(n.palette?.text||{}).filter(([,e])=>typeof e=="string").map(([e])=>({props:{color:`text${yt(e)}`},style:{color:(n.vars||n).palette.text[e]}})),{props:({ownerState:e})=>e.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:e})=>e.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:e})=>e.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:e})=>e.paragraph,style:{marginBottom:16}}]}))),E6={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},ts=H.forwardRef(function(e,t){const{color:i,...r}=En({props:e,name:"MuiTypography"}),s=!c_e[i],a=u_e({...r,...s&&{color:i}}),{align:o="inherit",className:l,component:u,gutterBottom:d=!1,noWrap:p=!1,paragraph:y=!1,variant:v="body1",variantMapping:_=E6,...S}=a,E={...a,align:o,color:i,className:l,component:u,gutterBottom:d,noWrap:p,paragraph:y,variant:v,variantMapping:_},b=u||(y?"p":_[v]||E6[v])||"span",w=h_e(E);return Z.jsx(d_e,{as:b,ref:t,className:Pt(w.root,l),...S,ownerState:E,style:{...o!=="inherit"&&{"--Typography-textAlign":o},...S.style}})});var ol="top",Pc="bottom",Dc="right",ll="left",h4="auto",uE=[ol,Pc,Dc,ll],f_="start",xS="end",f_e="clippingParents",RW="viewport",T1="popper",p_e="reference",T6=uE.reduce(function(n,e){return n.concat([e+"-"+f_,e+"-"+xS])},[]),OW=[].concat(uE,[h4]).reduce(function(n,e){return n.concat([e,e+"-"+f_,e+"-"+xS])},[]),m_e="beforeRead",g_e="read",y_e="afterRead",v_e="beforeMain",__e="main",b_e="afterMain",x_e="beforeWrite",S_e="write",E_e="afterWrite",T_e=[m_e,g_e,y_e,v_e,__e,b_e,x_e,S_e,E_e];function zh(n){return n?(n.nodeName||"").toLowerCase():null}function ql(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function fy(n){var e=ql(n).Element;return n instanceof e||n instanceof Element}function Oc(n){var e=ql(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function d4(n){if(typeof ShadowRoot>"u")return!1;var e=ql(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function w_e(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var i=e.styles[t]||{},r=e.attributes[t]||{},s=e.elements[t];!Oc(s)||!zh(s)||(Object.assign(s.style,i),Object.keys(r).forEach(function(a){var o=r[a];o===!1?s.removeAttribute(a):s.setAttribute(a,o===!0?"":o)}))})}function C_e(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(i){var r=e.elements[i],s=e.attributes[i]||{},a=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:t[i]),o=a.reduce(function(l,u){return l[u]="",l},{});!Oc(r)||!zh(r)||(Object.assign(r.style,o),Object.keys(s).forEach(function(l){r.removeAttribute(l)}))})}}const A_e={name:"applyStyles",enabled:!0,phase:"write",fn:w_e,effect:C_e,requires:["computeStyles"]};function Lh(n){return n.split("-")[0]}var ty=Math.max,pA=Math.min,p_=Math.round;function sD(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function IW(){return!/^((?!chrome|android).)*safari/i.test(sD())}function m_(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var i=n.getBoundingClientRect(),r=1,s=1;e&&Oc(n)&&(r=n.offsetWidth>0&&p_(i.width)/n.offsetWidth||1,s=n.offsetHeight>0&&p_(i.height)/n.offsetHeight||1);var a=fy(n)?ql(n):window,o=a.visualViewport,l=!IW()&&t,u=(i.left+(l&&o?o.offsetLeft:0))/r,d=(i.top+(l&&o?o.offsetTop:0))/s,p=i.width/r,y=i.height/s;return{width:p,height:y,top:d,right:u+p,bottom:d+y,left:u,x:u,y:d}}function f4(n){var e=m_(n),t=n.offsetWidth,i=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:i}}function PW(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&d4(t)){var i=e;do{if(i&&n.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function hf(n){return ql(n).getComputedStyle(n)}function M_e(n){return["table","td","th"].indexOf(zh(n))>=0}function dm(n){return((fy(n)?n.ownerDocument:n.document)||window.document).documentElement}function aR(n){return zh(n)==="html"?n:n.assignedSlot||n.parentNode||(d4(n)?n.host:null)||dm(n)}function w6(n){return!Oc(n)||hf(n).position==="fixed"?null:n.offsetParent}function R_e(n){var e=/firefox/i.test(sD()),t=/Trident/i.test(sD());if(t&&Oc(n)){var i=hf(n);if(i.position==="fixed")return null}var r=aR(n);for(d4(r)&&(r=r.host);Oc(r)&&["html","body"].indexOf(zh(r))<0;){var s=hf(r);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return r;r=r.parentNode}return null}function hE(n){for(var e=ql(n),t=w6(n);t&&M_e(t)&&hf(t).position==="static";)t=w6(t);return t&&(zh(t)==="html"||zh(t)==="body"&&hf(t).position==="static")?e:t||R_e(n)||e}function p4(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function Rx(n,e,t){return ty(n,pA(e,t))}function O_e(n,e,t){var i=Rx(n,e,t);return i>t?t:i}function DW(){return{top:0,right:0,bottom:0,left:0}}function NW(n){return Object.assign({},DW(),n)}function LW(n,e){return e.reduce(function(t,i){return t[i]=n,t},{})}var I_e=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,NW(typeof e!="number"?e:LW(e,uE))};function P_e(n){var e,t=n.state,i=n.name,r=n.options,s=t.elements.arrow,a=t.modifiersData.popperOffsets,o=Lh(t.placement),l=p4(o),u=[ll,Dc].indexOf(o)>=0,d=u?"height":"width";if(!(!s||!a)){var p=I_e(r.padding,t),y=f4(s),v=l==="y"?ol:ll,_=l==="y"?Pc:Dc,S=t.rects.reference[d]+t.rects.reference[l]-a[l]-t.rects.popper[d],E=a[l]-t.rects.reference[l],b=hE(s),w=b?l==="y"?b.clientHeight||0:b.clientWidth||0:0,A=S/2-E/2,C=p[v],D=w-y[d]-p[_],N=w/2-y[d]/2+A,I=Rx(C,N,D),L=l;t.modifiersData[i]=(e={},e[L]=I,e.centerOffset=I-N,e)}}function D_e(n){var e=n.state,t=n.options,i=t.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||PW(e.elements.popper,r)&&(e.elements.arrow=r))}const N_e={name:"arrow",enabled:!0,phase:"main",fn:P_e,effect:D_e,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function g_(n){return n.split("-")[1]}var L_e={top:"auto",right:"auto",bottom:"auto",left:"auto"};function U_e(n,e){var t=n.x,i=n.y,r=e.devicePixelRatio||1;return{x:p_(t*r)/r||0,y:p_(i*r)/r||0}}function C6(n){var e,t=n.popper,i=n.popperRect,r=n.placement,s=n.variation,a=n.offsets,o=n.position,l=n.gpuAcceleration,u=n.adaptive,d=n.roundOffsets,p=n.isFixed,y=a.x,v=y===void 0?0:y,_=a.y,S=_===void 0?0:_,E=typeof d=="function"?d({x:v,y:S}):{x:v,y:S};v=E.x,S=E.y;var b=a.hasOwnProperty("x"),w=a.hasOwnProperty("y"),A=ll,C=ol,D=window;if(u){var N=hE(t),I="clientHeight",L="clientWidth";if(N===ql(t)&&(N=dm(t),hf(N).position!=="static"&&o==="absolute"&&(I="scrollHeight",L="scrollWidth")),N=N,r===ol||(r===ll||r===Dc)&&s===xS){C=Pc;var P=p&&N===D&&D.visualViewport?D.visualViewport.height:N[I];S-=P-i.height,S*=l?1:-1}if(r===ll||(r===ol||r===Pc)&&s===xS){A=Dc;var U=p&&N===D&&D.visualViewport?D.visualViewport.width:N[L];v-=U-i.width,v*=l?1:-1}}var F=Object.assign({position:o},u&&L_e),z=d===!0?U_e({x:v,y:S},ql(t)):{x:v,y:S};if(v=z.x,S=z.y,l){var V;return Object.assign({},F,(V={},V[C]=w?"0":"",V[A]=b?"0":"",V.transform=(D.devicePixelRatio||1)<=1?"translate("+v+"px, "+S+"px)":"translate3d("+v+"px, "+S+"px, 0)",V))}return Object.assign({},F,(e={},e[C]=w?S+"px":"",e[A]=b?v+"px":"",e.transform="",e))}function k_e(n){var e=n.state,t=n.options,i=t.gpuAcceleration,r=i===void 0?!0:i,s=t.adaptive,a=s===void 0?!0:s,o=t.roundOffsets,l=o===void 0?!0:o,u={placement:Lh(e.placement),variation:g_(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,C6(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,C6(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const z_e={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:k_e,data:{}};var Cw={passive:!0};function B_e(n){var e=n.state,t=n.instance,i=n.options,r=i.scroll,s=r===void 0?!0:r,a=i.resize,o=a===void 0?!0:a,l=ql(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&u.forEach(function(d){d.addEventListener("scroll",t.update,Cw)}),o&&l.addEventListener("resize",t.update,Cw),function(){s&&u.forEach(function(d){d.removeEventListener("scroll",t.update,Cw)}),o&&l.removeEventListener("resize",t.update,Cw)}}const F_e={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:B_e,data:{}};var V_e={left:"right",right:"left",bottom:"top",top:"bottom"};function N2(n){return n.replace(/left|right|bottom|top/g,function(e){return V_e[e]})}var H_e={start:"end",end:"start"};function A6(n){return n.replace(/start|end/g,function(e){return H_e[e]})}function m4(n){var e=ql(n),t=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:t,scrollTop:i}}function g4(n){return m_(dm(n)).left+m4(n).scrollLeft}function j_e(n,e){var t=ql(n),i=dm(n),r=t.visualViewport,s=i.clientWidth,a=i.clientHeight,o=0,l=0;if(r){s=r.width,a=r.height;var u=IW();(u||!u&&e==="fixed")&&(o=r.offsetLeft,l=r.offsetTop)}return{width:s,height:a,x:o+g4(n),y:l}}function G_e(n){var e,t=dm(n),i=m4(n),r=(e=n.ownerDocument)==null?void 0:e.body,s=ty(t.scrollWidth,t.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),a=ty(t.scrollHeight,t.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),o=-i.scrollLeft+g4(n),l=-i.scrollTop;return hf(r||t).direction==="rtl"&&(o+=ty(t.clientWidth,r?r.clientWidth:0)-s),{width:s,height:a,x:o,y:l}}function y4(n){var e=hf(n),t=e.overflow,i=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+r+i)}function UW(n){return["html","body","#document"].indexOf(zh(n))>=0?n.ownerDocument.body:Oc(n)&&y4(n)?n:UW(aR(n))}function Ox(n,e){var t;e===void 0&&(e=[]);var i=UW(n),r=i===((t=n.ownerDocument)==null?void 0:t.body),s=ql(i),a=r?[s].concat(s.visualViewport||[],y4(i)?i:[]):i,o=e.concat(a);return r?o:o.concat(Ox(aR(a)))}function aD(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function q_e(n,e){var t=m_(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function M6(n,e,t){return e===RW?aD(j_e(n,t)):fy(e)?q_e(e,t):aD(G_e(dm(n)))}function W_e(n){var e=Ox(aR(n)),t=["absolute","fixed"].indexOf(hf(n).position)>=0,i=t&&Oc(n)?hE(n):n;return fy(i)?e.filter(function(r){return fy(r)&&PW(r,i)&&zh(r)!=="body"}):[]}function $_e(n,e,t,i){var r=e==="clippingParents"?W_e(n):[].concat(e),s=[].concat(r,[t]),a=s[0],o=s.reduce(function(l,u){var d=M6(n,u,i);return l.top=ty(d.top,l.top),l.right=pA(d.right,l.right),l.bottom=pA(d.bottom,l.bottom),l.left=ty(d.left,l.left),l},M6(n,a,i));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function kW(n){var e=n.reference,t=n.element,i=n.placement,r=i?Lh(i):null,s=i?g_(i):null,a=e.x+e.width/2-t.width/2,o=e.y+e.height/2-t.height/2,l;switch(r){case ol:l={x:a,y:e.y-t.height};break;case Pc:l={x:a,y:e.y+e.height};break;case Dc:l={x:e.x+e.width,y:o};break;case ll:l={x:e.x-t.width,y:o};break;default:l={x:e.x,y:e.y}}var u=r?p4(r):null;if(u!=null){var d=u==="y"?"height":"width";switch(s){case f_:l[u]=l[u]-(e[d]/2-t[d]/2);break;case xS:l[u]=l[u]+(e[d]/2-t[d]/2);break}}return l}function SS(n,e){e===void 0&&(e={});var t=e,i=t.placement,r=i===void 0?n.placement:i,s=t.strategy,a=s===void 0?n.strategy:s,o=t.boundary,l=o===void 0?f_e:o,u=t.rootBoundary,d=u===void 0?RW:u,p=t.elementContext,y=p===void 0?T1:p,v=t.altBoundary,_=v===void 0?!1:v,S=t.padding,E=S===void 0?0:S,b=NW(typeof E!="number"?E:LW(E,uE)),w=y===T1?p_e:T1,A=n.rects.popper,C=n.elements[_?w:y],D=$_e(fy(C)?C:C.contextElement||dm(n.elements.popper),l,d,a),N=m_(n.elements.reference),I=kW({reference:N,element:A,placement:r}),L=aD(Object.assign({},A,I)),P=y===T1?L:N,U={top:D.top-P.top+b.top,bottom:P.bottom-D.bottom+b.bottom,left:D.left-P.left+b.left,right:P.right-D.right+b.right},F=n.modifiersData.offset;if(y===T1&&F){var z=F[r];Object.keys(U).forEach(function(V){var Y=[Dc,Pc].indexOf(V)>=0?1:-1,ee=[ol,Pc].indexOf(V)>=0?"y":"x";U[V]+=z[ee]*Y})}return U}function X_e(n,e){e===void 0&&(e={});var t=e,i=t.placement,r=t.boundary,s=t.rootBoundary,a=t.padding,o=t.flipVariations,l=t.allowedAutoPlacements,u=l===void 0?OW:l,d=g_(i),p=d?o?T6:T6.filter(function(_){return g_(_)===d}):uE,y=p.filter(function(_){return u.indexOf(_)>=0});y.length===0&&(y=p);var v=y.reduce(function(_,S){return _[S]=SS(n,{placement:S,boundary:r,rootBoundary:s,padding:a})[Lh(S)],_},{});return Object.keys(v).sort(function(_,S){return v[_]-v[S]})}function Y_e(n){if(Lh(n)===h4)return[];var e=N2(n);return[A6(n),e,A6(e)]}function K_e(n){var e=n.state,t=n.options,i=n.name;if(!e.modifiersData[i]._skip){for(var r=t.mainAxis,s=r===void 0?!0:r,a=t.altAxis,o=a===void 0?!0:a,l=t.fallbackPlacements,u=t.padding,d=t.boundary,p=t.rootBoundary,y=t.altBoundary,v=t.flipVariations,_=v===void 0?!0:v,S=t.allowedAutoPlacements,E=e.options.placement,b=Lh(E),w=b===E,A=l||(w||!_?[N2(E)]:Y_e(E)),C=[E].concat(A).reduce(function(ue,ie){return ue.concat(Lh(ie)===h4?X_e(e,{placement:ie,boundary:d,rootBoundary:p,padding:u,flipVariations:_,allowedAutoPlacements:S}):ie)},[]),D=e.rects.reference,N=e.rects.popper,I=new Map,L=!0,P=C[0],U=0;U<C.length;U++){var F=C[U],z=Lh(F),V=g_(F)===f_,Y=[ol,Pc].indexOf(z)>=0,ee=Y?"width":"height",q=SS(e,{placement:F,boundary:d,rootBoundary:p,altBoundary:y,padding:u}),$=Y?V?Dc:ll:V?Pc:ol;D[ee]>N[ee]&&($=N2($));var Q=N2($),se=[];if(s&&se.push(q[z]<=0),o&&se.push(q[$]<=0,q[Q]<=0),se.every(function(ue){return ue})){P=F,L=!1;break}I.set(F,se)}if(L)for(var fe=_?3:1,K=function(ie){var de=C.find(function(ye){var Ve=I.get(ye);if(Ve)return Ve.slice(0,ie).every(function(Xe){return Xe})});if(de)return P=de,"break"},le=fe;le>0;le--){var pe=K(le);if(pe==="break")break}e.placement!==P&&(e.modifiersData[i]._skip=!0,e.placement=P,e.reset=!0)}}const Z_e={name:"flip",enabled:!0,phase:"main",fn:K_e,requiresIfExists:["offset"],data:{_skip:!1}};function R6(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function O6(n){return[ol,Dc,Pc,ll].some(function(e){return n[e]>=0})}function Q_e(n){var e=n.state,t=n.name,i=e.rects.reference,r=e.rects.popper,s=e.modifiersData.preventOverflow,a=SS(e,{elementContext:"reference"}),o=SS(e,{altBoundary:!0}),l=R6(a,i),u=R6(o,r,s),d=O6(l),p=O6(u);e.modifiersData[t]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:d,hasPopperEscaped:p},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":p})}const J_e={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Q_e};function ebe(n,e,t){var i=Lh(n),r=[ll,ol].indexOf(i)>=0?-1:1,s=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,a=s[0],o=s[1];return a=a||0,o=(o||0)*r,[ll,Dc].indexOf(i)>=0?{x:o,y:a}:{x:a,y:o}}function tbe(n){var e=n.state,t=n.options,i=n.name,r=t.offset,s=r===void 0?[0,0]:r,a=OW.reduce(function(d,p){return d[p]=ebe(p,e.rects,s),d},{}),o=a[e.placement],l=o.x,u=o.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[i]=a}const nbe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:tbe};function ibe(n){var e=n.state,t=n.name;e.modifiersData[t]=kW({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const rbe={name:"popperOffsets",enabled:!0,phase:"read",fn:ibe,data:{}};function sbe(n){return n==="x"?"y":"x"}function abe(n){var e=n.state,t=n.options,i=n.name,r=t.mainAxis,s=r===void 0?!0:r,a=t.altAxis,o=a===void 0?!1:a,l=t.boundary,u=t.rootBoundary,d=t.altBoundary,p=t.padding,y=t.tether,v=y===void 0?!0:y,_=t.tetherOffset,S=_===void 0?0:_,E=SS(e,{boundary:l,rootBoundary:u,padding:p,altBoundary:d}),b=Lh(e.placement),w=g_(e.placement),A=!w,C=p4(b),D=sbe(C),N=e.modifiersData.popperOffsets,I=e.rects.reference,L=e.rects.popper,P=typeof S=="function"?S(Object.assign({},e.rects,{placement:e.placement})):S,U=typeof P=="number"?{mainAxis:P,altAxis:P}:Object.assign({mainAxis:0,altAxis:0},P),F=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,z={x:0,y:0};if(N){if(s){var V,Y=C==="y"?ol:ll,ee=C==="y"?Pc:Dc,q=C==="y"?"height":"width",$=N[C],Q=$+E[Y],se=$-E[ee],fe=v?-L[q]/2:0,K=w===f_?I[q]:L[q],le=w===f_?-L[q]:-I[q],pe=e.elements.arrow,ue=v&&pe?f4(pe):{width:0,height:0},ie=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:DW(),de=ie[Y],ye=ie[ee],Ve=Rx(0,I[q],ue[q]),Xe=A?I[q]/2-fe-Ve-de-U.mainAxis:K-Ve-de-U.mainAxis,Ge=A?-I[q]/2+fe+Ve+ye+U.mainAxis:le+Ve+ye+U.mainAxis,st=e.elements.arrow&&hE(e.elements.arrow),lt=st?C==="y"?st.clientTop||0:st.clientLeft||0:0,mt=(V=F?.[C])!=null?V:0,te=$+Xe-mt-lt,Oe=$+Ge-mt,Be=Rx(v?pA(Q,te):Q,$,v?ty(se,Oe):se);N[C]=Be,z[C]=Be-$}if(o){var Ne,Me=C==="x"?ol:ll,ut=C==="x"?Pc:Dc,qe=N[D],ae=D==="y"?"height":"width",J=qe+E[Me],Se=qe-E[ut],Ae=[ol,ll].indexOf(b)!==-1,Ze=(Ne=F?.[D])!=null?Ne:0,Re=Ae?J:qe-I[ae]-L[ae]-Ze+U.altAxis,ct=Ae?qe+I[ae]+L[ae]-Ze-U.altAxis:Se,ht=v&&Ae?O_e(Re,qe,ct):Rx(v?Re:J,qe,v?ct:Se);N[D]=ht,z[D]=ht-qe}e.modifiersData[i]=z}}const obe={name:"preventOverflow",enabled:!0,phase:"main",fn:abe,requiresIfExists:["offset"]};function lbe(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function cbe(n){return n===ql(n)||!Oc(n)?m4(n):lbe(n)}function ube(n){var e=n.getBoundingClientRect(),t=p_(e.width)/n.offsetWidth||1,i=p_(e.height)/n.offsetHeight||1;return t!==1||i!==1}function hbe(n,e,t){t===void 0&&(t=!1);var i=Oc(e),r=Oc(e)&&ube(e),s=dm(e),a=m_(n,r,t),o={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!t)&&((zh(e)!=="body"||y4(s))&&(o=cbe(e)),Oc(e)?(l=m_(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=g4(s))),{x:a.left+o.scrollLeft-l.x,y:a.top+o.scrollTop-l.y,width:a.width,height:a.height}}function dbe(n){var e=new Map,t=new Set,i=[];n.forEach(function(s){e.set(s.name,s)});function r(s){t.add(s.name);var a=[].concat(s.requires||[],s.requiresIfExists||[]);a.forEach(function(o){if(!t.has(o)){var l=e.get(o);l&&r(l)}}),i.push(s)}return n.forEach(function(s){t.has(s.name)||r(s)}),i}function fbe(n){var e=dbe(n);return T_e.reduce(function(t,i){return t.concat(e.filter(function(r){return r.phase===i}))},[])}function pbe(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function mbe(n){var e=n.reduce(function(t,i){var r=t[i.name];return t[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,t},{});return Object.keys(e).map(function(t){return e[t]})}var I6={placement:"bottom",modifiers:[],strategy:"absolute"};function P6(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function gbe(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,i=t===void 0?[]:t,r=e.defaultOptions,s=r===void 0?I6:r;return function(o,l,u){u===void 0&&(u=s);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},I6,s),modifiersData:{},elements:{reference:o,popper:l},attributes:{},styles:{}},p=[],y=!1,v={state:d,setOptions:function(b){var w=typeof b=="function"?b(d.options):b;S(),d.options=Object.assign({},s,d.options,w),d.scrollParents={reference:fy(o)?Ox(o):o.contextElement?Ox(o.contextElement):[],popper:Ox(l)};var A=fbe(mbe([].concat(i,d.options.modifiers)));return d.orderedModifiers=A.filter(function(C){return C.enabled}),_(),v.update()},forceUpdate:function(){if(!y){var b=d.elements,w=b.reference,A=b.popper;if(P6(w,A)){d.rects={reference:hbe(w,hE(A),d.options.strategy==="fixed"),popper:f4(A)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(U){return d.modifiersData[U.name]=Object.assign({},U.data)});for(var C=0;C<d.orderedModifiers.length;C++){if(d.reset===!0){d.reset=!1,C=-1;continue}var D=d.orderedModifiers[C],N=D.fn,I=D.options,L=I===void 0?{}:I,P=D.name;typeof N=="function"&&(d=N({state:d,options:L,name:P,instance:v})||d)}}}},update:pbe(function(){return new Promise(function(E){v.forceUpdate(),E(d)})}),destroy:function(){S(),y=!0}};if(!P6(o,l))return v;v.setOptions(u).then(function(E){!y&&u.onFirstUpdate&&u.onFirstUpdate(E)});function _(){d.orderedModifiers.forEach(function(E){var b=E.name,w=E.options,A=w===void 0?{}:w,C=E.effect;if(typeof C=="function"){var D=C({state:d,name:b,instance:v,options:A}),N=function(){};p.push(D||N)}})}function S(){p.forEach(function(E){return E()}),p=[]}return v}}var ybe=[F_e,rbe,z_e,A_e,nbe,Z_e,obe,N_e,J_e],vbe=gbe({defaultModifiers:ybe});function y_(n){const{elementType:e,externalSlotProps:t,ownerState:i,skipResolvingSlotProps:r=!1,...s}=n,a=r?{}:wW(t,i),{props:o,internalRef:l}=AW({...s,externalSlotProps:a}),u=Vr(l,a?.ref,n.additionalProps?.ref);return TW(e,{...o,ref:u},i)}function fm(n){return parseInt(H.version,10)>=19?n?.props?.ref||null:n?.ref||null}function _be(n){return typeof n=="function"?n():n}const zW=H.forwardRef(function(e,t){const{children:i,container:r,disablePortal:s=!1}=e,[a,o]=H.useState(null),l=Vr(H.isValidElement(i)?fm(i):null,t);if(Cu(()=>{s||o(_be(r)||document.body)},[r,s]),Cu(()=>{if(a&&!s)return m6(t,a),()=>{m6(t,null)}},[t,a,s]),s){if(H.isValidElement(i)){const u={ref:l};return H.cloneElement(i,u)}return i}return a&&HV.createPortal(i,a)});function bbe(n){return yn("MuiPopper",n)}vn("MuiPopper",["root"]);function xbe(n,e){if(e==="ltr")return n;switch(n){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return n}}function oD(n){return typeof n=="function"?n():n}function Sbe(n){return n.nodeType!==void 0}const Ebe=n=>{const{classes:e}=n;return gn({root:["root"]},bbe,e)},Tbe={},wbe=H.forwardRef(function(e,t){const{anchorEl:i,children:r,direction:s,disablePortal:a,modifiers:o,open:l,placement:u,popperOptions:d,popperRef:p,slotProps:y={},slots:v={},TransitionProps:_,ownerState:S,...E}=e,b=H.useRef(null),w=Vr(b,t),A=H.useRef(null),C=Vr(A,p),D=H.useRef(C);Cu(()=>{D.current=C},[C]),H.useImperativeHandle(p,()=>A.current,[]);const N=xbe(u,s),[I,L]=H.useState(N),[P,U]=H.useState(oD(i));H.useEffect(()=>{A.current&&A.current.forceUpdate()}),H.useEffect(()=>{i&&U(oD(i))},[i]),Cu(()=>{if(!P||!l)return;const ee=Q=>{L(Q.placement)};let q=[{name:"preventOverflow",options:{altBoundary:a}},{name:"flip",options:{altBoundary:a}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:Q})=>{ee(Q)}}];o!=null&&(q=q.concat(o)),d&&d.modifiers!=null&&(q=q.concat(d.modifiers));const $=vbe(P,b.current,{placement:N,...d,modifiers:q});return D.current($),()=>{$.destroy(),D.current(null)}},[P,a,o,l,d,N]);const F={placement:I};_!==null&&(F.TransitionProps=_);const z=Ebe(e),V=v.root??"div",Y=y_({elementType:V,externalSlotProps:y.root,externalForwardedProps:E,additionalProps:{role:"tooltip",ref:w},ownerState:e,className:z.root});return Z.jsx(V,{...Y,children:typeof r=="function"?r(F):r})}),Cbe=H.forwardRef(function(e,t){const{anchorEl:i,children:r,container:s,direction:a="ltr",disablePortal:o=!1,keepMounted:l=!1,modifiers:u,open:d,placement:p="bottom",popperOptions:y=Tbe,popperRef:v,style:_,transition:S=!1,slotProps:E={},slots:b={},...w}=e,[A,C]=H.useState(!0),D=()=>{C(!1)},N=()=>{C(!0)};if(!l&&!d&&(!S||A))return null;let I;if(s)I=s;else if(i){const U=oD(i);I=U&&Sbe(U)?Aa(U).body:Aa(null).body}const L=!d&&l&&(!S||A)?"none":void 0,P=S?{in:d,onEnter:D,onExited:N}:void 0;return Z.jsx(zW,{disablePortal:o,container:I,children:Z.jsx(wbe,{anchorEl:i,direction:a,disablePortal:o,modifiers:u,ref:t,open:S?!A:d,placement:p,popperOptions:y,popperRef:v,slotProps:E,slots:b,...w,style:{position:"fixed",top:0,left:0,display:L,..._},TransitionProps:P,children:r})})}),Abe=ft(Cbe,{name:"MuiPopper",slot:"Root"})({}),BW=H.forwardRef(function(e,t){const i=oE(),r=En({props:e,name:"MuiPopper"}),{anchorEl:s,component:a,components:o,componentsProps:l,container:u,disablePortal:d,keepMounted:p,modifiers:y,open:v,placement:_,popperOptions:S,popperRef:E,transition:b,slots:w,slotProps:A,...C}=r,D=w?.root??o?.Root,N={anchorEl:s,container:u,disablePortal:d,keepMounted:p,modifiers:y,open:v,placement:_,popperOptions:S,popperRef:E,transition:b,...C};return Z.jsx(Abe,{as:a,direction:i?"rtl":"ltr",slots:{root:D},slotProps:A??l,...N,ref:t})}),Mbe=Hr(Z.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}));function Rbe(n){return yn("MuiChip",n)}const ei=vn("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),Obe=n=>{const{classes:e,disabled:t,size:i,color:r,iconColor:s,onDelete:a,clickable:o,variant:l}=n,u={root:["root",l,t&&"disabled",`size${yt(i)}`,`color${yt(r)}`,o&&"clickable",o&&`clickableColor${yt(r)}`,a&&"deletable",a&&`deletableColor${yt(r)}`,`${l}${yt(r)}`],label:["label",`label${yt(i)}`],avatar:["avatar",`avatar${yt(i)}`,`avatarColor${yt(r)}`],icon:["icon",`icon${yt(i)}`,`iconColor${yt(s)}`],deleteIcon:["deleteIcon",`deleteIcon${yt(i)}`,`deleteIconColor${yt(r)}`,`deleteIcon${yt(l)}Color${yt(r)}`]};return gn(u,Rbe,e)},Ibe=ft("div",{name:"MuiChip",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n,{color:i,iconColor:r,clickable:s,onDelete:a,size:o,variant:l}=t;return[{[`& .${ei.avatar}`]:e.avatar},{[`& .${ei.avatar}`]:e[`avatar${yt(o)}`]},{[`& .${ei.avatar}`]:e[`avatarColor${yt(i)}`]},{[`& .${ei.icon}`]:e.icon},{[`& .${ei.icon}`]:e[`icon${yt(o)}`]},{[`& .${ei.icon}`]:e[`iconColor${yt(r)}`]},{[`& .${ei.deleteIcon}`]:e.deleteIcon},{[`& .${ei.deleteIcon}`]:e[`deleteIcon${yt(o)}`]},{[`& .${ei.deleteIcon}`]:e[`deleteIconColor${yt(i)}`]},{[`& .${ei.deleteIcon}`]:e[`deleteIcon${yt(l)}Color${yt(i)}`]},e.root,e[`size${yt(o)}`],e[`color${yt(i)}`],s&&e.clickable,s&&i!=="default"&&e[`clickableColor${yt(i)}`],a&&e.deletable,a&&i!=="default"&&e[`deletableColor${yt(i)}`],e[l],e[`${l}${yt(i)}`]]}})(Ln(({theme:n})=>{const e=n.palette.mode==="light"?n.palette.grey[700]:n.palette.grey[300];return{maxWidth:"100%",fontFamily:n.typography.fontFamily,fontSize:n.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,lineHeight:1.5,color:(n.vars||n).palette.text.primary,backgroundColor:(n.vars||n).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:n.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${ei.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${ei.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:n.vars?n.vars.palette.Chip.defaultAvatarColor:e,fontSize:n.typography.pxToRem(12)},[`& .${ei.avatarColorPrimary}`]:{color:(n.vars||n).palette.primary.contrastText,backgroundColor:(n.vars||n).palette.primary.dark},[`& .${ei.avatarColorSecondary}`]:{color:(n.vars||n).palette.secondary.contrastText,backgroundColor:(n.vars||n).palette.secondary.dark},[`& .${ei.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:n.typography.pxToRem(10)},[`& .${ei.icon}`]:{marginLeft:5,marginRight:-6},[`& .${ei.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:n.alpha((n.vars||n).palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:n.alpha((n.vars||n).palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${ei.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${ei.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(n.palette).filter(na(["contrastText"])).map(([t])=>({props:{color:t},style:{backgroundColor:(n.vars||n).palette[t].main,color:(n.vars||n).palette[t].contrastText,[`& .${ei.deleteIcon}`]:{color:n.alpha((n.vars||n).palette[t].contrastText,.7),"&:hover, &:active":{color:(n.vars||n).palette[t].contrastText}}}})),{props:t=>t.iconColor===t.color,style:{[`& .${ei.icon}`]:{color:n.vars?n.vars.palette.Chip.defaultIconColor:e}}},{props:t=>t.iconColor===t.color&&t.color!=="default",style:{[`& .${ei.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${ei.focusVisible}`]:{backgroundColor:n.alpha((n.vars||n).palette.action.selected,`${(n.vars||n).palette.action.selectedOpacity} + ${(n.vars||n).palette.action.focusOpacity}`)}}},...Object.entries(n.palette).filter(na(["dark"])).map(([t])=>({props:{color:t,onDelete:!0},style:{[`&.${ei.focusVisible}`]:{background:(n.vars||n).palette[t].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:n.alpha((n.vars||n).palette.action.selected,`${(n.vars||n).palette.action.selectedOpacity} + ${(n.vars||n).palette.action.hoverOpacity}`)},[`&.${ei.focusVisible}`]:{backgroundColor:n.alpha((n.vars||n).palette.action.selected,`${(n.vars||n).palette.action.selectedOpacity} + ${(n.vars||n).palette.action.focusOpacity}`)},"&:active":{boxShadow:(n.vars||n).shadows[1]}}},...Object.entries(n.palette).filter(na(["dark"])).map(([t])=>({props:{color:t,clickable:!0},style:{[`&:hover, &.${ei.focusVisible}`]:{backgroundColor:(n.vars||n).palette[t].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:n.vars?`1px solid ${n.vars.palette.Chip.defaultBorder}`:`1px solid ${n.palette.mode==="light"?n.palette.grey[400]:n.palette.grey[700]}`,[`&.${ei.clickable}:hover`]:{backgroundColor:(n.vars||n).palette.action.hover},[`&.${ei.focusVisible}`]:{backgroundColor:(n.vars||n).palette.action.focus},[`& .${ei.avatar}`]:{marginLeft:4},[`& .${ei.avatarSmall}`]:{marginLeft:2},[`& .${ei.icon}`]:{marginLeft:4},[`& .${ei.iconSmall}`]:{marginLeft:2},[`& .${ei.deleteIcon}`]:{marginRight:5},[`& .${ei.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(n.palette).filter(na()).map(([t])=>({props:{variant:"outlined",color:t},style:{color:(n.vars||n).palette[t].main,border:`1px solid ${n.alpha((n.vars||n).palette[t].main,.7)}`,[`&.${ei.clickable}:hover`]:{backgroundColor:n.alpha((n.vars||n).palette[t].main,(n.vars||n).palette.action.hoverOpacity)},[`&.${ei.focusVisible}`]:{backgroundColor:n.alpha((n.vars||n).palette[t].main,(n.vars||n).palette.action.focusOpacity)},[`& .${ei.deleteIcon}`]:{color:n.alpha((n.vars||n).palette[t].main,.7),"&:hover, &:active":{color:(n.vars||n).palette[t].main}}}}))]}})),Pbe=ft("span",{name:"MuiChip",slot:"Label",overridesResolver:(n,e)=>{const{ownerState:t}=n,{size:i}=t;return[e.label,e[`label${yt(i)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function D6(n){return n.key==="Backspace"||n.key==="Delete"}const Dbe=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiChip"}),{avatar:r,className:s,clickable:a,color:o="default",component:l,deleteIcon:u,disabled:d=!1,icon:p,label:y,onClick:v,onDelete:_,onKeyDown:S,onKeyUp:E,size:b="medium",variant:w="filled",tabIndex:A,skipFocusWhenDisabled:C=!1,slots:D={},slotProps:N={},...I}=i,L=H.useRef(null),P=Vr(L,t),U=de=>{de.stopPropagation(),_&&_(de)},F=de=>{de.currentTarget===de.target&&D6(de)&&de.preventDefault(),S&&S(de)},z=de=>{de.currentTarget===de.target&&_&&D6(de)&&_(de),E&&E(de)},V=a!==!1&&v?!0:a,Y=V||_?nm:l||"div",ee={...i,component:Y,disabled:d,size:b,color:o,iconColor:H.isValidElement(p)&&p.props.color||o,onDelete:!!_,clickable:V,variant:w},q=Obe(ee),$=Y===nm?{component:l||"div",focusVisibleClassName:q.focusVisible,..._&&{disableRipple:!0}}:{};let Q=null;_&&(Q=u&&H.isValidElement(u)?H.cloneElement(u,{className:Pt(u.props.className,q.deleteIcon),onClick:U}):Z.jsx(Mbe,{className:q.deleteIcon,onClick:U}));let se=null;r&&H.isValidElement(r)&&(se=H.cloneElement(r,{className:Pt(q.avatar,r.props.className)}));let fe=null;p&&H.isValidElement(p)&&(fe=H.cloneElement(p,{className:Pt(q.icon,p.props.className)}));const K={slots:D,slotProps:N},[le,pe]=rn("root",{elementType:Ibe,externalForwardedProps:{...K,...I},ownerState:ee,shouldForwardComponentProp:!0,ref:P,className:Pt(q.root,s),additionalProps:{disabled:V&&d?!0:void 0,tabIndex:C&&d?-1:A,...$},getSlotProps:de=>({...de,onClick:ye=>{de.onClick?.(ye),v?.(ye)},onKeyDown:ye=>{de.onKeyDown?.(ye),F(ye)},onKeyUp:ye=>{de.onKeyUp?.(ye),z(ye)}})}),[ue,ie]=rn("label",{elementType:Pbe,externalForwardedProps:K,ownerState:ee,className:q.label});return Z.jsxs(le,{as:Y,...pe,children:[se||fe,Z.jsx(ue,{...ie,children:y}),Q]})});function Aw(n){return parseInt(n,10)||0}const Nbe={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function Lbe(n){for(const e in n)return!1;return!0}function N6(n){return Lbe(n)||n.outerHeightStyle===0&&!n.overflowing}const Ube=H.forwardRef(function(e,t){const{onChange:i,maxRows:r,minRows:s=1,style:a,value:o,...l}=e,{current:u}=H.useRef(o!=null),d=H.useRef(null),p=Vr(t,d),y=H.useRef(null),v=H.useRef(null),_=H.useCallback(()=>{const A=d.current,C=v.current;if(!A||!C)return;const N=Gl(A).getComputedStyle(A);if(N.width==="0px")return{outerHeightStyle:0,overflowing:!1};C.style.width=N.width,C.value=A.value||e.placeholder||"x",C.value.slice(-1)===`
`&&(C.value+=" ");const I=N.boxSizing,L=Aw(N.paddingBottom)+Aw(N.paddingTop),P=Aw(N.borderBottomWidth)+Aw(N.borderTopWidth),U=C.scrollHeight;C.value="x";const F=C.scrollHeight;let z=U;s&&(z=Math.max(Number(s)*F,z)),r&&(z=Math.min(Number(r)*F,z)),z=Math.max(z,F);const V=z+(I==="border-box"?L+P:0),Y=Math.abs(z-U)<=1;return{outerHeightStyle:V,overflowing:Y}},[r,s,e.placeholder]),S=Fl(()=>{const A=d.current,C=_();if(!A||!C||N6(C))return!1;const D=C.outerHeightStyle;return y.current!=null&&y.current!==D}),E=H.useCallback(()=>{const A=d.current,C=_();if(!A||!C||N6(C))return;const D=C.outerHeightStyle;y.current!==D&&(y.current=D,A.style.height=`${D}px`),A.style.overflow=C.overflowing?"hidden":""},[_]),b=H.useRef(-1);Cu(()=>{const A=lE(E),C=d?.current;if(!C)return;const D=Gl(C);D.addEventListener("resize",A);let N;return typeof ResizeObserver<"u"&&(N=new ResizeObserver(()=>{S()&&(N.unobserve(C),cancelAnimationFrame(b.current),E(),b.current=requestAnimationFrame(()=>{N.observe(C)}))}),N.observe(C)),()=>{A.clear(),cancelAnimationFrame(b.current),D.removeEventListener("resize",A),N&&N.disconnect()}},[_,E,S]),Cu(()=>{E()});const w=A=>{u||E();const C=A.target,D=C.value.length,N=C.value.endsWith(`
`),I=C.selectionStart===D;N&&I&&C.setSelectionRange(D,D),i&&i(A)};return Z.jsxs(H.Fragment,{children:[Z.jsx("textarea",{value:o,onChange:w,ref:p,rows:s,style:a,...l}),Z.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:v,tabIndex:-1,style:{...Nbe.shadow,...a,paddingTop:0,paddingBottom:0}})]})});function Ay({props:n,states:e,muiFormControl:t}){return e.reduce((i,r)=>(i[r]=n[r],t&&typeof n[r]>"u"&&(i[r]=t[r]),i),{})}const v4=H.createContext(void 0);function pm(){return H.useContext(v4)}function L6(n){return n!=null&&!(Array.isArray(n)&&n.length===0)}function mA(n,e=!1){return n&&(L6(n.value)&&n.value!==""||e&&L6(n.defaultValue)&&n.defaultValue!=="")}function kbe(n){return n.startAdornment}function zbe(n){return yn("MuiInputBase",n)}const v_=vn("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var U6;const oR=(n,e)=>{const{ownerState:t}=n;return[e.root,t.formControl&&e.formControl,t.startAdornment&&e.adornedStart,t.endAdornment&&e.adornedEnd,t.error&&e.error,t.size==="small"&&e.sizeSmall,t.multiline&&e.multiline,t.color&&e[`color${yt(t.color)}`],t.fullWidth&&e.fullWidth,t.hiddenLabel&&e.hiddenLabel]},lR=(n,e)=>{const{ownerState:t}=n;return[e.input,t.size==="small"&&e.inputSizeSmall,t.multiline&&e.inputMultiline,t.type==="search"&&e.inputTypeSearch,t.startAdornment&&e.inputAdornedStart,t.endAdornment&&e.inputAdornedEnd,t.hiddenLabel&&e.inputHiddenLabel]},Bbe=n=>{const{classes:e,color:t,disabled:i,error:r,endAdornment:s,focused:a,formControl:o,fullWidth:l,hiddenLabel:u,multiline:d,readOnly:p,size:y,startAdornment:v,type:_}=n,S={root:["root",`color${yt(t)}`,i&&"disabled",r&&"error",l&&"fullWidth",a&&"focused",o&&"formControl",y&&y!=="medium"&&`size${yt(y)}`,d&&"multiline",v&&"adornedStart",s&&"adornedEnd",u&&"hiddenLabel",p&&"readOnly"],input:["input",i&&"disabled",_==="search"&&"inputTypeSearch",d&&"inputMultiline",y==="small"&&"inputSizeSmall",u&&"inputHiddenLabel",v&&"inputAdornedStart",s&&"inputAdornedEnd",p&&"readOnly"]};return gn(S,zbe,e)},cR=ft("div",{name:"MuiInputBase",slot:"Root",overridesResolver:oR})(Ln(({theme:n})=>({...n.typography.body1,color:(n.vars||n).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${v_.disabled}`]:{color:(n.vars||n).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:e})=>e.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:e,size:t})=>e.multiline&&t==="small",style:{paddingTop:1}},{props:({ownerState:e})=>e.fullWidth,style:{width:"100%"}}]}))),uR=ft("input",{name:"MuiInputBase",slot:"Input",overridesResolver:lR})(Ln(({theme:n})=>{const e=n.palette.mode==="light",t={color:"currentColor",...n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5},transition:n.transitions.create("opacity",{duration:n.transitions.duration.shorter})},i={opacity:"0 !important"},r=n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":t,"&::-moz-placeholder":t,"&::-ms-input-placeholder":t,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${v_.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":r,"&:focus::-moz-placeholder":r,"&:focus::-ms-input-placeholder":r},[`&.${v_.disabled}`]:{opacity:1,WebkitTextFillColor:(n.vars||n).palette.text.disabled},variants:[{props:({ownerState:s})=>!s.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:s})=>s.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),k6=Qve({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),_4=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiInputBase"}),{"aria-describedby":r,autoComplete:s,autoFocus:a,className:o,color:l,components:u={},componentsProps:d={},defaultValue:p,disabled:y,disableInjectingGlobalStyles:v,endAdornment:_,error:S,fullWidth:E=!1,id:b,inputComponent:w="input",inputProps:A={},inputRef:C,margin:D,maxRows:N,minRows:I,multiline:L=!1,name:P,onBlur:U,onChange:F,onClick:z,onFocus:V,onKeyDown:Y,onKeyUp:ee,placeholder:q,readOnly:$,renderSuffix:Q,rows:se,size:fe,slotProps:K={},slots:le={},startAdornment:pe,type:ue="text",value:ie,...de}=i,ye=A.value!=null?A.value:ie,{current:Ve}=H.useRef(ye!=null),Xe=H.useRef(),Ge=H.useCallback($e=>{},[]),st=Vr(Xe,C,A.ref,Ge),[lt,mt]=H.useState(!1),te=pm(),Oe=Ay({props:i,muiFormControl:te,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Oe.focused=te?te.focused:lt,H.useEffect(()=>{!te&&y&&lt&&(mt(!1),U&&U())},[te,y,lt,U]);const Be=te&&te.onFilled,Ne=te&&te.onEmpty,Me=H.useCallback($e=>{mA($e)?Be&&Be():Ne&&Ne()},[Be,Ne]);Cu(()=>{Ve&&Me({value:ye})},[ye,Me,Ve]);const ut=$e=>{V&&V($e),A.onFocus&&A.onFocus($e),te&&te.onFocus?te.onFocus($e):mt(!0)},qe=$e=>{U&&U($e),A.onBlur&&A.onBlur($e),te&&te.onBlur?te.onBlur($e):mt(!1)},ae=($e,...pt)=>{if(!Ve){const wt=$e.target||Xe.current;if(wt==null)throw new Error(uf(1));Me({value:wt.value})}A.onChange&&A.onChange($e,...pt),F&&F($e,...pt)};H.useEffect(()=>{Me(Xe.current)},[]);const J=$e=>{Xe.current&&$e.currentTarget===$e.target&&Xe.current.focus(),z&&z($e)};let Se=w,Ae=A;L&&Se==="input"&&(se?Ae={type:void 0,minRows:se,maxRows:se,...Ae}:Ae={type:void 0,maxRows:N,minRows:I,...Ae},Se=Ube);const Ze=$e=>{Me($e.animationName==="mui-auto-fill-cancel"?Xe.current:{value:"x"})};H.useEffect(()=>{te&&te.setAdornedStart(!!pe)},[te,pe]);const Re={...i,color:Oe.color||"primary",disabled:Oe.disabled,endAdornment:_,error:Oe.error,focused:Oe.focused,formControl:te,fullWidth:E,hiddenLabel:Oe.hiddenLabel,multiline:L,size:Oe.size,startAdornment:pe,type:ue},ct=Bbe(Re),ht=le.root||u.Root||cR,Dt=K.root||d.root||{},zt=le.input||u.Input||uR;return Ae={...Ae,...K.input??d.input},Z.jsxs(H.Fragment,{children:[!v&&typeof k6=="function"&&(U6||(U6=Z.jsx(k6,{}))),Z.jsxs(ht,{...Dt,ref:t,onClick:J,...de,...!d_(ht)&&{ownerState:{...Re,...Dt.ownerState}},className:Pt(ct.root,Dt.className,o,$&&"MuiInputBase-readOnly"),children:[pe,Z.jsx(v4.Provider,{value:null,children:Z.jsx(zt,{"aria-invalid":Oe.error,"aria-describedby":r,autoComplete:s,autoFocus:a,defaultValue:p,disabled:Oe.disabled,id:b,onAnimationStart:Ze,name:P,placeholder:q,readOnly:$,required:Oe.required,rows:se,value:ye,onKeyDown:Y,onKeyUp:ee,type:ue,...Ae,...!d_(zt)&&{as:Se,ownerState:{...Re,...Ae.ownerState}},ref:st,className:Pt(ct.input,Ae.className,$&&"MuiInputBase-readOnly"),onBlur:qe,onChange:ae,onFocus:ut})}),_,Q?Q({...Oe,startAdornment:pe}):null]})]})});function Fbe(n){return yn("MuiInput",n)}const w1={...v_,...vn("MuiInput",["root","underline","input"])};function Vbe(n){return yn("MuiOutlinedInput",n)}const lh={...v_,...vn("MuiOutlinedInput",["root","notchedOutline","input"])};function Hbe(n){return yn("MuiFilledInput",n)}const xg={...v_,...vn("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},jbe=Hr(Z.jsx("path",{d:"M7 10l5 5 5-5z"})),Gbe=Hr(Z.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}));function qbe(n){return yn("MuiAvatar",n)}vn("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const Wbe=n=>{const{classes:e,variant:t,colorDefault:i}=n;return gn({root:["root",t,i&&"colorDefault"],img:["img"],fallback:["fallback"]},qbe,e)},$be=ft("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],t.colorDefault&&e.colorDefault]}})(Ln(({theme:n})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:n.typography.fontFamily,fontSize:n.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(n.vars||n).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(n.vars||n).palette.background.default,...n.vars?{backgroundColor:n.vars.palette.Avatar.defaultBg}:{backgroundColor:n.palette.grey[400],...n.applyStyles("dark",{backgroundColor:n.palette.grey[600]})}}}]}))),Xbe=ft("img",{name:"MuiAvatar",slot:"Img"})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),Ybe=ft(Gbe,{name:"MuiAvatar",slot:"Fallback"})({width:"75%",height:"75%"});function Kbe({crossOrigin:n,referrerPolicy:e,src:t,srcSet:i}){const[r,s]=H.useState(!1);return H.useEffect(()=>{if(!t&&!i)return;s(!1);let a=!0;const o=new Image;return o.onload=()=>{a&&s("loaded")},o.onerror=()=>{a&&s("error")},o.crossOrigin=n,o.referrerPolicy=e,o.src=t,i&&(o.srcset=i),()=>{a=!1}},[n,e,t,i]),r}const z6=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiAvatar"}),{alt:r,children:s,className:a,component:o="div",slots:l={},slotProps:u={},imgProps:d,sizes:p,src:y,srcSet:v,variant:_="circular",...S}=i;let E=null;const b={...i,component:o,variant:_},w=Kbe({...d,...typeof u.img=="function"?u.img(b):u.img,src:y,srcSet:v}),A=y||v,C=A&&w!=="error";b.colorDefault=!C,delete b.ownerState;const D=Wbe(b),[N,I]=rn("root",{ref:t,className:Pt(D.root,a),elementType:$be,externalForwardedProps:{slots:l,slotProps:u,component:o,...S},ownerState:b}),[L,P]=rn("img",{className:D.img,elementType:Xbe,externalForwardedProps:{slots:l,slotProps:{img:{...d,...u.img}}},additionalProps:{alt:r,src:y,srcSet:v,sizes:p},ownerState:b}),[U,F]=rn("fallback",{className:D.fallback,elementType:Ybe,externalForwardedProps:{slots:l,slotProps:u},shouldForwardComponentProp:!0,ownerState:b});return C?E=Z.jsx(L,{...P}):s||s===0?E=s:A&&r?E=r[0]:E=Z.jsx(U,{...F}),Z.jsx(N,{...I,children:E})}),Zbe={entering:{opacity:1},entered:{opacity:1}},lD=H.forwardRef(function(e,t){const i=mf(),r={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{addEndListener:s,appear:a=!0,children:o,easing:l,in:u,onEnter:d,onEntered:p,onEntering:y,onExit:v,onExited:_,onExiting:S,style:E,timeout:b=r,TransitionComponent:w=kc,...A}=e,C=H.useRef(null),D=Vr(C,fm(o),t),N=Y=>ee=>{if(Y){const q=C.current;ee===void 0?Y(q):Y(q,ee)}},I=N(y),L=N((Y,ee)=>{c4(Y);const q=tm({style:E,timeout:b,easing:l},{mode:"enter"});Y.style.webkitTransition=i.transitions.create("opacity",q),Y.style.transition=i.transitions.create("opacity",q),d&&d(Y,ee)}),P=N(p),U=N(S),F=N(Y=>{const ee=tm({style:E,timeout:b,easing:l},{mode:"exit"});Y.style.webkitTransition=i.transitions.create("opacity",ee),Y.style.transition=i.transitions.create("opacity",ee),v&&v(Y)}),z=N(_),V=Y=>{s&&s(C.current,Y)};return Z.jsx(w,{appear:a,in:u,nodeRef:C,onEnter:L,onEntered:P,onEntering:I,onExit:F,onExited:z,onExiting:U,addEndListener:V,timeout:b,...A,children:(Y,{ownerState:ee,...q})=>H.cloneElement(o,{style:{opacity:0,visibility:Y==="exited"&&!u?"hidden":void 0,...Zbe[Y],...E,...o.props.style},ref:D,...q})})});function Qbe(n){return yn("MuiBackdrop",n)}vn("MuiBackdrop",["root","invisible"]);const Jbe=n=>{const{classes:e,invisible:t}=n;return gn({root:["root",t&&"invisible"]},Qbe,e)},e1e=ft("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),FW=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiBackdrop"}),{children:r,className:s,component:a="div",invisible:o=!1,open:l,components:u={},componentsProps:d={},slotProps:p={},slots:y={},TransitionComponent:v,transitionDuration:_,...S}=i,E={...i,component:a,invisible:o},b=Jbe(E),w={transition:v,root:u.Root,...y},A={...d,...p},C={component:a,slots:w,slotProps:A},[D,N]=rn("root",{elementType:e1e,externalForwardedProps:C,className:Pt(b.root,s),ownerState:E}),[I,L]=rn("transition",{elementType:lD,externalForwardedProps:C,ownerState:E});return Z.jsx(I,{in:l,timeout:_,...S,...L,children:Z.jsx(D,{"aria-hidden":!0,...N,classes:b,ref:t,children:r})})}),t1e=vn("MuiBox",["root"]),n1e=yW(),df=Tye({themeId:rR,defaultTheme:n1e,defaultClassName:t1e.root,generateClassName:kq.generate});function i1e(n){return yn("MuiButton",n)}const Sg=vn("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),r1e=H.createContext({}),s1e=H.createContext(void 0),a1e=n=>{const{color:e,disableElevation:t,fullWidth:i,size:r,variant:s,loading:a,loadingPosition:o,classes:l}=n,u={root:["root",a&&"loading",s,`${s}${yt(e)}`,`size${yt(r)}`,`${s}Size${yt(r)}`,`color${yt(e)}`,t&&"disableElevation",i&&"fullWidth",a&&`loadingPosition${yt(o)}`],startIcon:["icon","startIcon",`iconSize${yt(r)}`],endIcon:["icon","endIcon",`iconSize${yt(r)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},d=gn(u,i1e,l);return{...l,...d}},VW=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],o1e=ft(nm,{shouldForwardProp:n=>No(n)||n==="classes",name:"MuiButton",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],e[`${t.variant}${yt(t.color)}`],e[`size${yt(t.size)}`],e[`${t.variant}Size${yt(t.size)}`],t.color==="inherit"&&e.colorInherit,t.disableElevation&&e.disableElevation,t.fullWidth&&e.fullWidth,t.loading&&e.loading]}})(Ln(({theme:n})=>{const e=n.palette.mode==="light"?n.palette.grey[300]:n.palette.grey[800],t=n.palette.mode==="light"?n.palette.grey.A100:n.palette.grey[700];return{...n.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(n.vars||n).shape.borderRadius,transition:n.transitions.create(["background-color","box-shadow","border-color","color"],{duration:n.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${Sg.disabled}`]:{color:(n.vars||n).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(n.vars||n).shadows[2],"&:hover":{boxShadow:(n.vars||n).shadows[4],"@media (hover: none)":{boxShadow:(n.vars||n).shadows[2]}},"&:active":{boxShadow:(n.vars||n).shadows[8]},[`&.${Sg.focusVisible}`]:{boxShadow:(n.vars||n).shadows[6]},[`&.${Sg.disabled}`]:{color:(n.vars||n).palette.action.disabled,boxShadow:(n.vars||n).shadows[0],backgroundColor:(n.vars||n).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${Sg.disabled}`]:{border:`1px solid ${(n.vars||n).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(n.palette).filter(na()).map(([i])=>({props:{color:i},style:{"--variant-textColor":(n.vars||n).palette[i].main,"--variant-outlinedColor":(n.vars||n).palette[i].main,"--variant-outlinedBorder":n.alpha((n.vars||n).palette[i].main,.5),"--variant-containedColor":(n.vars||n).palette[i].contrastText,"--variant-containedBg":(n.vars||n).palette[i].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(n.vars||n).palette[i].dark,"--variant-textBg":n.alpha((n.vars||n).palette[i].main,(n.vars||n).palette.action.hoverOpacity),"--variant-outlinedBorder":(n.vars||n).palette[i].main,"--variant-outlinedBg":n.alpha((n.vars||n).palette[i].main,(n.vars||n).palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":n.vars?n.vars.palette.Button.inheritContainedBg:e,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":n.vars?n.vars.palette.Button.inheritContainedHoverBg:t,"--variant-textBg":n.alpha((n.vars||n).palette.text.primary,(n.vars||n).palette.action.hoverOpacity),"--variant-outlinedBg":n.alpha((n.vars||n).palette.text.primary,(n.vars||n).palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:n.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:n.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:n.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:n.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:n.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:n.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Sg.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Sg.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:n.transitions.create(["background-color","box-shadow","border-color"],{duration:n.transitions.duration.short}),[`&.${Sg.loading}`]:{color:"transparent"}}}]}})),l1e=ft("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.startIcon,t.loading&&e.startIconLoadingStart,e[`iconSize${yt(t.size)}`]]}})(({theme:n})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:n.transitions.create(["opacity"],{duration:n.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...VW]})),c1e=ft("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.endIcon,t.loading&&e.endIconLoadingEnd,e[`iconSize${yt(t.size)}`]]}})(({theme:n})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:n.transitions.create(["opacity"],{duration:n.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...VW]})),u1e=ft("span",{name:"MuiButton",slot:"LoadingIndicator"})(({theme:n})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(n.vars||n).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),B6=ft("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),dE=H.forwardRef(function(e,t){const i=H.useContext(r1e),r=H.useContext(s1e),s=_S(i,e),a=En({props:s,name:"MuiButton"}),{children:o,color:l="primary",component:u="button",className:d,disabled:p=!1,disableElevation:y=!1,disableFocusRipple:v=!1,endIcon:_,focusVisibleClassName:S,fullWidth:E=!1,id:b,loading:w=null,loadingIndicator:A,loadingPosition:C="center",size:D="medium",startIcon:N,type:I,variant:L="text",...P}=a,U=j_(b),F=A??Z.jsx(MW,{"aria-labelledby":U,color:"inherit",size:16}),z={...a,color:l,component:u,disabled:p,disableElevation:y,disableFocusRipple:v,fullWidth:E,loading:w,loadingIndicator:F,loadingPosition:C,size:D,type:I,variant:L},V=a1e(z),Y=(N||w&&C==="start")&&Z.jsx(l1e,{className:V.startIcon,ownerState:z,children:N||Z.jsx(B6,{className:V.loadingIconPlaceholder,ownerState:z})}),ee=(_||w&&C==="end")&&Z.jsx(c1e,{className:V.endIcon,ownerState:z,children:_||Z.jsx(B6,{className:V.loadingIconPlaceholder,ownerState:z})}),q=r||"",$=typeof w=="boolean"?Z.jsx("span",{className:V.loadingWrapper,style:{display:"contents"},children:w&&Z.jsx(u1e,{className:V.loadingIndicator,ownerState:z,children:F})}):null;return Z.jsxs(o1e,{ownerState:z,className:Pt(i.className,V.root,d,q),component:u,disabled:p||w,focusRipple:!v,focusVisibleClassName:Pt(V.focusVisible,S),ref:t,type:I,id:w?U:b,...P,classes:V,children:[Y,C!=="end"&&$,o,C==="end"&&$,ee]})});function h1e(n){return yn("PrivateSwitchBase",n)}vn("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const d1e=n=>{const{classes:e,checked:t,disabled:i,edge:r}=n,s={root:["root",t&&"checked",i&&"disabled",r&&`edge${yt(r)}`],input:["input"]};return gn(s,h1e,e)},f1e=ft(nm,{name:"MuiSwitchBase"})({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:n,ownerState:e})=>n==="start"&&e.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:n,ownerState:e})=>n==="end"&&e.size!=="small",style:{marginRight:-12}}]}),p1e=ft("input",{name:"MuiSwitchBase",shouldForwardProp:No})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),m1e=H.forwardRef(function(e,t){const{autoFocus:i,checked:r,checkedIcon:s,defaultChecked:a,disabled:o,disableFocusRipple:l=!1,edge:u=!1,icon:d,id:p,inputProps:y,inputRef:v,name:_,onBlur:S,onChange:E,onFocus:b,readOnly:w,required:A=!1,tabIndex:C,type:D,value:N,slots:I={},slotProps:L={},...P}=e,[U,F]=cA({controlled:r,default:!!a,name:"SwitchBase",state:"checked"}),z=pm(),V=ie=>{b&&b(ie),z&&z.onFocus&&z.onFocus(ie)},Y=ie=>{S&&S(ie),z&&z.onBlur&&z.onBlur(ie)},ee=ie=>{if(ie.nativeEvent.defaultPrevented)return;const de=ie.target.checked;F(de),E&&E(ie,de)};let q=o;z&&typeof q>"u"&&(q=z.disabled);const $=D==="checkbox"||D==="radio",Q={...e,checked:U,disabled:q,disableFocusRipple:l,edge:u},se=d1e(Q),fe={slots:I,slotProps:{input:y,...L}},[K,le]=rn("root",{ref:t,elementType:f1e,className:se.root,shouldForwardComponentProp:!0,externalForwardedProps:{...fe,component:"span",...P},getSlotProps:ie=>({...ie,onFocus:de=>{ie.onFocus?.(de),V(de)},onBlur:de=>{ie.onBlur?.(de),Y(de)}}),ownerState:Q,additionalProps:{centerRipple:!0,focusRipple:!l,disabled:q,role:void 0,tabIndex:null}}),[pe,ue]=rn("input",{ref:v,elementType:p1e,className:se.input,externalForwardedProps:fe,getSlotProps:ie=>({...ie,onChange:de=>{ie.onChange?.(de),ee(de)}}),ownerState:Q,additionalProps:{autoFocus:i,checked:r,defaultChecked:a,disabled:q,id:$?p:void 0,name:_,readOnly:w,required:A,tabIndex:C,type:D,...D==="checkbox"&&N===void 0?{}:{value:N}}});return Z.jsxs(K,{...le,children:[Z.jsx(pe,{...ue}),U?s:d]})}),g1e=Hr(Z.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})),y1e=Hr(Z.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})),v1e=Hr(Z.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}));function _1e(n){return yn("MuiCheckbox",n)}const OI=vn("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),b1e=n=>{const{classes:e,indeterminate:t,color:i,size:r}=n,s={root:["root",t&&"indeterminate",`color${yt(i)}`,`size${yt(r)}`]},a=gn(s,_1e,e);return{...e,...a}},x1e=ft(m1e,{shouldForwardProp:n=>No(n)||n==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.indeterminate&&e.indeterminate,e[`size${yt(t.size)}`],t.color!=="default"&&e[`color${yt(t.color)}`]]}})(Ln(({theme:n})=>({color:(n.vars||n).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:n.alpha((n.vars||n).palette.action.active,(n.vars||n).palette.action.hoverOpacity)}}},...Object.entries(n.palette).filter(na()).map(([e])=>({props:{color:e,disableRipple:!1},style:{"&:hover":{backgroundColor:n.alpha((n.vars||n).palette[e].main,(n.vars||n).palette.action.hoverOpacity)}}})),...Object.entries(n.palette).filter(na()).map(([e])=>({props:{color:e},style:{[`&.${OI.checked}, &.${OI.indeterminate}`]:{color:(n.vars||n).palette[e].main},[`&.${OI.disabled}`]:{color:(n.vars||n).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),S1e=Z.jsx(y1e,{}),E1e=Z.jsx(g1e,{}),T1e=Z.jsx(v1e,{}),w1e=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiCheckbox"}),{checkedIcon:r=S1e,color:s="primary",icon:a=E1e,indeterminate:o=!1,indeterminateIcon:l=T1e,inputProps:u,size:d="medium",disableRipple:p=!1,className:y,slots:v={},slotProps:_={},...S}=i,E=o?l:a,b=o?l:r,w={...i,disableRipple:p,color:s,indeterminate:o,size:d},A=b1e(w),C=_.input??u,[D,N]=rn("root",{ref:t,elementType:x1e,className:Pt(A.root,y),shouldForwardComponentProp:!0,externalForwardedProps:{slots:v,slotProps:_,...S},ownerState:w,additionalProps:{type:"checkbox",icon:H.cloneElement(E,{fontSize:E.props.fontSize??d}),checkedIcon:H.cloneElement(b,{fontSize:b.props.fontSize??d}),disableRipple:p,slots:v,slotProps:{input:bW(typeof C=="function"?C(w):C,{"data-indeterminate":o})}}});return Z.jsx(D,{...N,classes:A})});function F6(n){return n.substring(2).toLowerCase()}function C1e(n,e){return e.documentElement.clientWidth<n.clientX||e.documentElement.clientHeight<n.clientY}function A1e(n){const{children:e,disableReactTree:t=!1,mouseEvent:i="onClick",onClickAway:r,touchEvent:s="onTouchEnd"}=n,a=H.useRef(!1),o=H.useRef(null),l=H.useRef(!1),u=H.useRef(!1);H.useEffect(()=>(setTimeout(()=>{l.current=!0},0),()=>{l.current=!1}),[]);const d=Vr(fm(e),o),p=Fl(_=>{const S=u.current;u.current=!1;const E=Aa(o.current);if(!l.current||!o.current||"clientX"in _&&C1e(_,E))return;if(a.current){a.current=!1;return}let b;_.composedPath?b=_.composedPath().includes(o.current):b=!E.documentElement.contains(_.target)||o.current.contains(_.target),!b&&(t||!S)&&r(_)}),y=_=>S=>{u.current=!0;const E=e.props[_];E&&E(S)},v={ref:d};return s!==!1&&(v[s]=y(s)),H.useEffect(()=>{if(s!==!1){const _=F6(s),S=Aa(o.current),E=()=>{a.current=!0};return S.addEventListener(_,p),S.addEventListener("touchmove",E),()=>{S.removeEventListener(_,p),S.removeEventListener("touchmove",E)}}},[p,s]),i!==!1&&(v[i]=y(i)),H.useEffect(()=>{if(i!==!1){const _=F6(i),S=Aa(o.current);return S.addEventListener(_,p),()=>{S.removeEventListener(_,p)}}},[p,i]),H.cloneElement(e,v)}function HW(n=window){const e=n.document.documentElement.clientWidth;return n.innerWidth-e}function M1e(n){const e=Aa(n);return e.body===n?Gl(n).innerWidth>e.documentElement.clientWidth:n.scrollHeight>n.clientHeight}function Ix(n,e){e?n.setAttribute("aria-hidden","true"):n.removeAttribute("aria-hidden")}function V6(n){return parseInt(Gl(n).getComputedStyle(n).paddingRight,10)||0}function R1e(n){const t=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(n.tagName),i=n.tagName==="INPUT"&&n.getAttribute("type")==="hidden";return t||i}function H6(n,e,t,i,r){const s=[e,t,...i];[].forEach.call(n.children,a=>{const o=!s.includes(a),l=!R1e(a);o&&l&&Ix(a,r)})}function II(n,e){let t=-1;return n.some((i,r)=>e(i)?(t=r,!0):!1),t}function O1e(n,e){const t=[],i=n.container;if(!e.disableScrollLock){if(M1e(i)){const a=HW(Gl(i));t.push({value:i.style.paddingRight,property:"padding-right",el:i}),i.style.paddingRight=`${V6(i)+a}px`;const o=Aa(i).querySelectorAll(".mui-fixed");[].forEach.call(o,l=>{t.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${V6(l)+a}px`})}let s;if(i.parentNode instanceof DocumentFragment)s=Aa(i).body;else{const a=i.parentElement,o=Gl(i);s=a?.nodeName==="HTML"&&o.getComputedStyle(a).overflowY==="scroll"?a:i}t.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{t.forEach(({value:s,el:a,property:o})=>{s?a.style.setProperty(o,s):a.style.removeProperty(o)})}}function I1e(n){const e=[];return[].forEach.call(n.children,t=>{t.getAttribute("aria-hidden")==="true"&&e.push(t)}),e}class P1e{constructor(){this.modals=[],this.containers=[]}add(e,t){let i=this.modals.indexOf(e);if(i!==-1)return i;i=this.modals.length,this.modals.push(e),e.modalRef&&Ix(e.modalRef,!1);const r=I1e(t);H6(t,e.mount,e.modalRef,r,!0);const s=II(this.containers,a=>a.container===t);return s!==-1?(this.containers[s].modals.push(e),i):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),i)}mount(e,t){const i=II(this.containers,s=>s.modals.includes(e)),r=this.containers[i];r.restore||(r.restore=O1e(r,t))}remove(e,t=!0){const i=this.modals.indexOf(e);if(i===-1)return i;const r=II(this.containers,a=>a.modals.includes(e)),s=this.containers[r];if(s.modals.splice(s.modals.indexOf(e),1),this.modals.splice(i,1),s.modals.length===0)s.restore&&s.restore(),e.modalRef&&Ix(e.modalRef,t),H6(s.container,e.mount,e.modalRef,s.hiddenSiblings,!1),this.containers.splice(r,1);else{const a=s.modals[s.modals.length-1];a.modalRef&&Ix(a.modalRef,!1)}return i}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}function w0(n){let e=n.activeElement;for(;e?.shadowRoot?.activeElement!=null;)e=e.shadowRoot.activeElement;return e}const D1e=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function N1e(n){const e=parseInt(n.getAttribute("tabindex")||"",10);return Number.isNaN(e)?n.contentEditable==="true"||(n.nodeName==="AUDIO"||n.nodeName==="VIDEO"||n.nodeName==="DETAILS")&&n.getAttribute("tabindex")===null?0:n.tabIndex:e}function L1e(n){if(n.tagName!=="INPUT"||n.type!=="radio"||!n.name)return!1;const e=i=>n.ownerDocument.querySelector(`input[type="radio"]${i}`);let t=e(`[name="${n.name}"]:checked`);return t||(t=e(`[name="${n.name}"]`)),t!==n}function U1e(n){return!(n.disabled||n.tagName==="INPUT"&&n.type==="hidden"||L1e(n))}function k1e(n){const e=[],t=[];return Array.from(n.querySelectorAll(D1e)).forEach((i,r)=>{const s=N1e(i);s===-1||!U1e(i)||(s===0?e.push(i):t.push({documentOrder:r,tabIndex:s,node:i}))}),t.sort((i,r)=>i.tabIndex===r.tabIndex?i.documentOrder-r.documentOrder:i.tabIndex-r.tabIndex).map(i=>i.node).concat(e)}function z1e(){return!0}function B1e(n){const{children:e,disableAutoFocus:t=!1,disableEnforceFocus:i=!1,disableRestoreFocus:r=!1,getTabbable:s=k1e,isEnabled:a=z1e,open:o}=n,l=H.useRef(!1),u=H.useRef(null),d=H.useRef(null),p=H.useRef(null),y=H.useRef(null),v=H.useRef(!1),_=H.useRef(null),S=Vr(fm(e),_),E=H.useRef(null);H.useEffect(()=>{!o||!_.current||(v.current=!t)},[t,o]),H.useEffect(()=>{if(!o||!_.current)return;const A=Aa(_.current),C=w0(A);return _.current.contains(C)||(_.current.hasAttribute("tabIndex")||_.current.setAttribute("tabIndex","-1"),v.current&&_.current.focus()),()=>{r||(p.current&&p.current.focus&&(l.current=!0,p.current.focus()),p.current=null)}},[o]),H.useEffect(()=>{if(!o||!_.current)return;const A=Aa(_.current),C=w0(A),D=L=>{E.current=L,!(i||!a()||L.key!=="Tab")&&C===_.current&&L.shiftKey&&(l.current=!0,d.current&&d.current.focus())},N=()=>{const L=_.current;if(L===null)return;const P=w0(A);if(!A.hasFocus()||!a()||l.current){l.current=!1;return}if(L.contains(P)||i&&P!==u.current&&P!==d.current)return;if(P!==y.current)y.current=null;else if(y.current!==null)return;if(!v.current)return;let U=[];if((P===u.current||P===d.current)&&(U=s(_.current)),U.length>0){const F=!!(E.current?.shiftKey&&E.current?.key==="Tab"),z=U[0],V=U[U.length-1];typeof z!="string"&&typeof V!="string"&&(F?V.focus():z.focus())}else L.focus()};A.addEventListener("focusin",N),A.addEventListener("keydown",D,!0);const I=setInterval(()=>{const L=w0(A);L&&L.tagName==="BODY"&&N()},50);return()=>{clearInterval(I),A.removeEventListener("focusin",N),A.removeEventListener("keydown",D,!0)}},[t,i,r,a,o,s]);const b=A=>{p.current===null&&(p.current=A.relatedTarget),v.current=!0,y.current=A.target;const C=e.props.onFocus;C&&C(A)},w=A=>{p.current===null&&(p.current=A.relatedTarget),v.current=!0};return Z.jsxs(H.Fragment,{children:[Z.jsx("div",{tabIndex:o?0:-1,onFocus:w,ref:u,"data-testid":"sentinelStart"}),H.cloneElement(e,{ref:S,onFocus:b}),Z.jsx("div",{tabIndex:o?0:-1,onFocus:w,ref:d,"data-testid":"sentinelEnd"})]})}function F1e(n){return typeof n=="function"?n():n}function V1e(n){return n?n.props.hasOwnProperty("in"):!1}const j6=()=>{},Mw=new P1e;function H1e(n){const{container:e,disableEscapeKeyDown:t=!1,disableScrollLock:i=!1,closeAfterTransition:r=!1,onTransitionEnter:s,onTransitionExited:a,children:o,onClose:l,open:u,rootRef:d}=n,p=H.useRef({}),y=H.useRef(null),v=H.useRef(null),_=Vr(v,d),[S,E]=H.useState(!u),b=V1e(o);let w=!0;(n["aria-hidden"]==="false"||n["aria-hidden"]===!1)&&(w=!1);const A=()=>Aa(y.current),C=()=>(p.current.modalRef=v.current,p.current.mount=y.current,p.current),D=()=>{Mw.mount(C(),{disableScrollLock:i}),v.current&&(v.current.scrollTop=0)},N=Fl(()=>{const ee=F1e(e)||A().body;Mw.add(C(),ee),v.current&&D()}),I=()=>Mw.isTopModal(C()),L=Fl(ee=>{y.current=ee,ee&&(u&&I()?D():v.current&&Ix(v.current,w))}),P=H.useCallback(()=>{Mw.remove(C(),w)},[w]);H.useEffect(()=>()=>{P()},[P]),H.useEffect(()=>{u?N():(!b||!r)&&P()},[u,P,b,r,N]);const U=ee=>q=>{ee.onKeyDown?.(q),!(q.key!=="Escape"||q.which===229||!I())&&(t||(q.stopPropagation(),l&&l(q,"escapeKeyDown")))},F=ee=>q=>{ee.onClick?.(q),q.target===q.currentTarget&&l&&l(q,"backdropClick")};return{getRootProps:(ee={})=>{const q=CW(n);delete q.onTransitionEnter,delete q.onTransitionExited;const $={...q,...ee};return{role:"presentation",...$,onKeyDown:U($),ref:_}},getBackdropProps:(ee={})=>{const q=ee;return{"aria-hidden":!0,...q,onClick:F(q),open:u}},getTransitionProps:()=>{const ee=()=>{E(!1),s&&s()},q=()=>{E(!0),a&&a(),r&&P()};return{onEnter:NB(ee,o?.props.onEnter??j6),onExited:NB(q,o?.props.onExited??j6)}},rootRef:_,portalRef:L,isTopModal:I,exited:S,hasTransition:b}}function j1e(n){return yn("MuiModal",n)}vn("MuiModal",["root","hidden","backdrop"]);const G1e=n=>{const{open:e,exited:t,classes:i}=n;return gn({root:["root",!e&&t&&"hidden"],backdrop:["backdrop"]},j1e,i)},q1e=ft("div",{name:"MuiModal",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.open&&t.exited&&e.hidden]}})(Ln(({theme:n})=>({position:"fixed",zIndex:(n.vars||n).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),W1e=ft(FW,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),jW=H.forwardRef(function(e,t){const i=En({name:"MuiModal",props:e}),{BackdropComponent:r=W1e,BackdropProps:s,classes:a,className:o,closeAfterTransition:l=!1,children:u,container:d,component:p,components:y={},componentsProps:v={},disableAutoFocus:_=!1,disableEnforceFocus:S=!1,disableEscapeKeyDown:E=!1,disablePortal:b=!1,disableRestoreFocus:w=!1,disableScrollLock:A=!1,hideBackdrop:C=!1,keepMounted:D=!1,onClose:N,onTransitionEnter:I,onTransitionExited:L,open:P,slotProps:U={},slots:F={},theme:z,...V}=i,Y={...i,closeAfterTransition:l,disableAutoFocus:_,disableEnforceFocus:S,disableEscapeKeyDown:E,disablePortal:b,disableRestoreFocus:w,disableScrollLock:A,hideBackdrop:C,keepMounted:D},{getRootProps:ee,getBackdropProps:q,getTransitionProps:$,portalRef:Q,isTopModal:se,exited:fe,hasTransition:K}=H1e({...Y,rootRef:t}),le={...Y,exited:fe},pe=G1e(le),ue={};if(u.props.tabIndex===void 0&&(ue.tabIndex="-1"),K){const{onEnter:Ge,onExited:st}=$();ue.onEnter=Ge,ue.onExited=st}const ie={slots:{root:y.Root,backdrop:y.Backdrop,...F},slotProps:{...v,...U}},[de,ye]=rn("root",{ref:t,elementType:q1e,externalForwardedProps:{...ie,...V,component:p},getSlotProps:ee,ownerState:le,className:Pt(o,pe?.root,!le.open&&le.exited&&pe?.hidden)}),[Ve,Xe]=rn("backdrop",{ref:s?.ref,elementType:r,externalForwardedProps:ie,shouldForwardComponentProp:!0,additionalProps:s,getSlotProps:Ge=>q({...Ge,onClick:st=>{Ge?.onClick&&Ge.onClick(st)}}),className:Pt(s?.className,pe?.backdrop),ownerState:le});return!D&&!P&&(!K||fe)?null:Z.jsx(zW,{ref:Q,container:d,disablePortal:b,children:Z.jsxs(de,{...ye,children:[!C&&r?Z.jsx(Ve,{...Xe}):null,Z.jsx(B1e,{disableEnforceFocus:S,disableAutoFocus:_,disableRestoreFocus:w,isEnabled:se,open:P,children:H.cloneElement(u,ue)})]})})});function $1e(n){return yn("MuiDialog",n)}const PI=vn("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),GW=H.createContext({}),X1e=ft(FW,{name:"MuiDialog",slot:"Backdrop",overrides:(n,e)=>e.backdrop})({zIndex:-1}),Y1e=n=>{const{classes:e,scroll:t,maxWidth:i,fullWidth:r,fullScreen:s}=n,a={root:["root"],container:["container",`scroll${yt(t)}`],paper:["paper",`paperScroll${yt(t)}`,`paperWidth${yt(String(i))}`,r&&"paperFullWidth",s&&"paperFullScreen"]};return gn(a,$1e,e)},K1e=ft(jW,{name:"MuiDialog",slot:"Root"})({"@media print":{position:"absolute !important"}}),Z1e=ft("div",{name:"MuiDialog",slot:"Container",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.container,e[`scroll${yt(t.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),Q1e=ft(cE,{name:"MuiDialog",slot:"Paper",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.paper,e[`scrollPaper${yt(t.scroll)}`],e[`paperWidth${yt(String(t.maxWidth))}`],t.fullWidth&&e.paperFullWidth,t.fullScreen&&e.paperFullScreen]}})(Ln(({theme:n})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:e})=>!e.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:n.breakpoints.unit==="px"?Math.max(n.breakpoints.values.xs,444):`max(${n.breakpoints.values.xs}${n.breakpoints.unit}, 444px)`,[`&.${PI.paperScrollBody}`]:{[n.breakpoints.down(Math.max(n.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(n.breakpoints.values).filter(e=>e!=="xs").map(e=>({props:{maxWidth:e},style:{maxWidth:`${n.breakpoints.values[e]}${n.breakpoints.unit}`,[`&.${PI.paperScrollBody}`]:{[n.breakpoints.down(n.breakpoints.values[e]+64)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:e})=>e.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:e})=>e.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${PI.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),qW=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiDialog"}),r=mf(),s={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{"aria-describedby":a,"aria-labelledby":o,"aria-modal":l=!0,BackdropComponent:u,BackdropProps:d,children:p,className:y,disableEscapeKeyDown:v=!1,fullScreen:_=!1,fullWidth:S=!1,maxWidth:E="sm",onClick:b,onClose:w,open:A,PaperComponent:C=cE,PaperProps:D={},scroll:N="paper",slots:I={},slotProps:L={},TransitionComponent:P=lD,transitionDuration:U=s,TransitionProps:F,...z}=i,V={...i,disableEscapeKeyDown:v,fullScreen:_,fullWidth:S,maxWidth:E,scroll:N},Y=Y1e(V),ee=H.useRef(),q=mt=>{ee.current=mt.target===mt.currentTarget},$=mt=>{b&&b(mt),ee.current&&(ee.current=null,w&&w(mt,"backdropClick"))},Q=j_(o),se=H.useMemo(()=>({titleId:Q}),[Q]),fe={transition:P,...I},K={transition:F,paper:D,backdrop:d,...L},le={slots:fe,slotProps:K},[pe,ue]=rn("root",{elementType:K1e,shouldForwardComponentProp:!0,externalForwardedProps:le,ownerState:V,className:Pt(Y.root,y),ref:t}),[ie,de]=rn("backdrop",{elementType:X1e,shouldForwardComponentProp:!0,externalForwardedProps:le,ownerState:V}),[ye,Ve]=rn("paper",{elementType:Q1e,shouldForwardComponentProp:!0,externalForwardedProps:le,ownerState:V,className:Pt(Y.paper,D.className)}),[Xe,Ge]=rn("container",{elementType:Z1e,externalForwardedProps:le,ownerState:V,className:Y.container}),[st,lt]=rn("transition",{elementType:lD,externalForwardedProps:le,ownerState:V,additionalProps:{appear:!0,in:A,timeout:U,role:"presentation"}});return Z.jsx(pe,{closeAfterTransition:!0,slots:{backdrop:ie},slotProps:{backdrop:{transitionDuration:U,as:u,...de}},disableEscapeKeyDown:v,onClose:w,open:A,onClick:$,...ue,...z,children:Z.jsx(st,{...lt,children:Z.jsx(Xe,{onMouseDown:q,...Ge,children:Z.jsx(ye,{as:C,elevation:24,role:"dialog","aria-describedby":a,"aria-labelledby":Q,"aria-modal":l,...Ve,children:Z.jsx(GW.Provider,{value:se,children:p})})})})})});function J1e(n){return yn("MuiDialogActions",n)}vn("MuiDialogActions",["root","spacing"]);const exe=n=>{const{classes:e,disableSpacing:t}=n;return gn({root:["root",!t&&"spacing"]},J1e,e)},txe=ft("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.disableSpacing&&e.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:n})=>!n.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),nxe=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiDialogActions"}),{className:r,disableSpacing:s=!1,...a}=i,o={...i,disableSpacing:s},l=exe(o);return Z.jsx(txe,{className:Pt(l.root,r),ownerState:o,ref:t,...a})});function ixe(n){return yn("MuiDialogContent",n)}vn("MuiDialogContent",["root","dividers"]);function rxe(n){return yn("MuiDialogTitle",n)}const sxe=vn("MuiDialogTitle",["root"]),axe=n=>{const{classes:e,dividers:t}=n;return gn({root:["root",t&&"dividers"]},ixe,e)},oxe=ft("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.dividers&&e.dividers]}})(Ln(({theme:n})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:e})=>e.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(n.vars||n).palette.divider}`,borderBottom:`1px solid ${(n.vars||n).palette.divider}`}},{props:({ownerState:e})=>!e.dividers,style:{[`.${sxe.root} + &`]:{paddingTop:0}}}]}))),WW=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiDialogContent"}),{className:r,dividers:s=!1,...a}=i,o={...i,dividers:s},l=axe(o);return Z.jsx(oxe,{className:Pt(l.root,r),ownerState:o,ref:t,...a})});function lxe(n){return yn("MuiDialogContentText",n)}vn("MuiDialogContentText",["root"]);const cxe=n=>{const{classes:e}=n,i=gn({root:["root"]},lxe,e);return{...e,...i}},uxe=ft(ts,{shouldForwardProp:n=>No(n)||n==="classes",name:"MuiDialogContentText",slot:"Root"})({}),hxe=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiDialogContentText"}),{children:r,className:s,...a}=i,o=cxe(a);return Z.jsx(uxe,{component:"p",variant:"body1",color:"textSecondary",ref:t,ownerState:a,className:Pt(o.root,s),...i,classes:o})}),dxe=n=>{const{classes:e}=n;return gn({root:["root"]},rxe,e)},fxe=ft(ts,{name:"MuiDialogTitle",slot:"Root"})({padding:"16px 24px",flex:"0 0 auto"}),$W=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiDialogTitle"}),{className:r,id:s,...a}=i,o=i,l=dxe(o),{titleId:u=s}=H.useContext(GW);return Z.jsx(fxe,{component:"h2",className:Pt(l.root,r),ownerState:o,ref:t,variant:"h6",id:s??u,...a})});function pxe(n){return yn("MuiDivider",n)}const G6=vn("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),mxe=n=>{const{absolute:e,children:t,classes:i,flexItem:r,light:s,orientation:a,textAlign:o,variant:l}=n;return gn({root:["root",e&&"absolute",l,s&&"light",a==="vertical"&&"vertical",r&&"flexItem",t&&"withChildren",t&&a==="vertical"&&"withChildrenVertical",o==="right"&&a!=="vertical"&&"textAlignRight",o==="left"&&a!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",a==="vertical"&&"wrapperVertical"]},pxe,i)},gxe=ft("div",{name:"MuiDivider",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.absolute&&e.absolute,e[t.variant],t.light&&e.light,t.orientation==="vertical"&&e.vertical,t.flexItem&&e.flexItem,t.children&&e.withChildren,t.children&&t.orientation==="vertical"&&e.withChildrenVertical,t.textAlign==="right"&&t.orientation!=="vertical"&&e.textAlignRight,t.textAlign==="left"&&t.orientation!=="vertical"&&e.textAlignLeft]}})(Ln(({theme:n})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(n.vars||n).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:n.alpha((n.vars||n).palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:n.spacing(2),marginRight:n.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:n.spacing(1),marginBottom:n.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:e})=>!!e.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:e})=>e.children&&e.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(n.vars||n).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:e})=>e.orientation==="vertical"&&e.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(n.vars||n).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:e})=>e.textAlign==="right"&&e.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:e})=>e.textAlign==="left"&&e.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),yxe=ft("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.wrapper,t.orientation==="vertical"&&e.wrapperVertical]}})(Ln(({theme:n})=>({display:"inline-block",paddingLeft:`calc(${n.spacing(1)} * 1.2)`,paddingRight:`calc(${n.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${n.spacing(1)} * 1.2)`,paddingBottom:`calc(${n.spacing(1)} * 1.2)`}}]}))),__=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiDivider"}),{absolute:r=!1,children:s,className:a,orientation:o="horizontal",component:l=s||o==="vertical"?"div":"hr",flexItem:u=!1,light:d=!1,role:p=l!=="hr"?"separator":void 0,textAlign:y="center",variant:v="fullWidth",..._}=i,S={...i,absolute:r,component:l,flexItem:u,light:d,orientation:o,role:p,textAlign:y,variant:v},E=mxe(S);return Z.jsx(gxe,{as:l,className:Pt(E.root,a),role:p,ref:t,ownerState:S,"aria-orientation":p==="separator"&&(l!=="hr"||o==="vertical")?o:void 0,..._,children:s?Z.jsx(yxe,{className:E.wrapper,ownerState:S,children:s}):null})});__&&(__.muiSkipListHighlight=!0);function vxe(n,e,t){const i=e.getBoundingClientRect(),r=t&&t.getBoundingClientRect(),s=Gl(e);let a;if(e.fakeTransform)a=e.fakeTransform;else{const u=s.getComputedStyle(e);a=u.getPropertyValue("-webkit-transform")||u.getPropertyValue("transform")}let o=0,l=0;if(a&&a!=="none"&&typeof a=="string"){const u=a.split("(")[1].split(")")[0].split(",");o=parseInt(u[4],10),l=parseInt(u[5],10)}return n==="left"?r?`translateX(${r.right+o-i.left}px)`:`translateX(${s.innerWidth+o-i.left}px)`:n==="right"?r?`translateX(-${i.right-r.left-o}px)`:`translateX(-${i.left+i.width-o}px)`:n==="up"?r?`translateY(${r.bottom+l-i.top}px)`:`translateY(${s.innerHeight+l-i.top}px)`:r?`translateY(-${i.top-r.top+i.height-l}px)`:`translateY(-${i.top+i.height-l}px)`}function _xe(n){return typeof n=="function"?n():n}function Rw(n,e,t){const i=_xe(t),r=vxe(n,e,i);r&&(e.style.webkitTransform=r,e.style.transform=r)}const XW=H.forwardRef(function(e,t){const i=mf(),r={enter:i.transitions.easing.easeOut,exit:i.transitions.easing.sharp},s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{addEndListener:a,appear:o=!0,children:l,container:u,direction:d="down",easing:p=r,in:y,onEnter:v,onEntered:_,onEntering:S,onExit:E,onExited:b,onExiting:w,style:A,timeout:C=s,TransitionComponent:D=kc,...N}=e,I=H.useRef(null),L=Vr(fm(l),I,t),P=Q=>se=>{Q&&(se===void 0?Q(I.current):Q(I.current,se))},U=P((Q,se)=>{Rw(d,Q,u),c4(Q),v&&v(Q,se)}),F=P((Q,se)=>{const fe=tm({timeout:C,style:A,easing:p},{mode:"enter"});Q.style.webkitTransition=i.transitions.create("-webkit-transform",{...fe}),Q.style.transition=i.transitions.create("transform",{...fe}),Q.style.webkitTransform="none",Q.style.transform="none",S&&S(Q,se)}),z=P(_),V=P(w),Y=P(Q=>{const se=tm({timeout:C,style:A,easing:p},{mode:"exit"});Q.style.webkitTransition=i.transitions.create("-webkit-transform",se),Q.style.transition=i.transitions.create("transform",se),Rw(d,Q,u),E&&E(Q)}),ee=P(Q=>{Q.style.webkitTransition="",Q.style.transition="",b&&b(Q)}),q=Q=>{a&&a(I.current,Q)},$=H.useCallback(()=>{I.current&&Rw(d,I.current,u)},[d,u]);return H.useEffect(()=>{if(y||d==="down"||d==="right")return;const Q=lE(()=>{I.current&&Rw(d,I.current,u)}),se=Gl(I.current);return se.addEventListener("resize",Q),()=>{Q.clear(),se.removeEventListener("resize",Q)}},[d,y,u]),H.useEffect(()=>{y||$()},[y,$]),Z.jsx(D,{nodeRef:I,onEnter:U,onEntered:z,onEntering:F,onExit:Y,onExited:ee,onExiting:V,addEndListener:q,appear:o,in:y,timeout:C,...N,children:(Q,{ownerState:se,...fe})=>H.cloneElement(l,{ref:L,style:{visibility:Q==="exited"&&!y?"hidden":void 0,...A,...l.props.style},...fe})})}),bxe=n=>{const{classes:e,disableUnderline:t,startAdornment:i,endAdornment:r,size:s,hiddenLabel:a,multiline:o}=n,l={root:["root",!t&&"underline",i&&"adornedStart",r&&"adornedEnd",s==="small"&&`size${yt(s)}`,a&&"hiddenLabel",o&&"multiline"],input:["input"]},u=gn(l,Hbe,e);return{...e,...u}},xxe=ft(cR,{shouldForwardProp:n=>No(n)||n==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[...oR(n,e),!t.disableUnderline&&e.underline]}})(Ln(({theme:n})=>{const e=n.palette.mode==="light",t=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",i=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",r=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",s=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:n.vars?n.vars.palette.FilledInput.bg:i,borderTopLeftRadius:(n.vars||n).shape.borderRadius,borderTopRightRadius:(n.vars||n).shape.borderRadius,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),"&:hover":{backgroundColor:n.vars?n.vars.palette.FilledInput.hoverBg:r,"@media (hover: none)":{backgroundColor:n.vars?n.vars.palette.FilledInput.bg:i}},[`&.${xg.focused}`]:{backgroundColor:n.vars?n.vars.palette.FilledInput.bg:i},[`&.${xg.disabled}`]:{backgroundColor:n.vars?n.vars.palette.FilledInput.disabledBg:s},variants:[{props:({ownerState:a})=>!a.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${xg.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${xg.error}`]:{"&::before, &::after":{borderBottomColor:(n.vars||n).palette.error.main}},"&::before":{borderBottom:`1px solid ${n.vars?n.alpha(n.vars.palette.common.onBackground,n.vars.opacity.inputUnderline):t}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${xg.disabled}, .${xg.error}):before`]:{borderBottom:`1px solid ${(n.vars||n).palette.text.primary}`},[`&.${xg.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(n.palette).filter(na()).map(([a])=>({props:{disableUnderline:!1,color:a},style:{"&::after":{borderBottom:`2px solid ${(n.vars||n).palette[a]?.main}`}}})),{props:({ownerState:a})=>a.startAdornment,style:{paddingLeft:12}},{props:({ownerState:a})=>a.endAdornment,style:{paddingRight:12}},{props:({ownerState:a})=>a.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:a,size:o})=>a.multiline&&o==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:a})=>a.multiline&&a.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:a})=>a.multiline&&a.hiddenLabel&&a.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),Sxe=ft(uR,{name:"MuiFilledInput",slot:"Input",overridesResolver:lR})(Ln(({theme:n})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!n.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:n.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:n.palette.mode==="light"?null:"#fff",caretColor:n.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...n.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[n.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:e})=>e.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}},{props:({ownerState:e})=>e.hiddenLabel&&e.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:e})=>e.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),b4=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiFilledInput"}),{disableUnderline:r=!1,components:s={},componentsProps:a,fullWidth:o=!1,hiddenLabel:l,inputComponent:u="input",multiline:d=!1,slotProps:p,slots:y={},type:v="text",..._}=i,S={...i,disableUnderline:r,fullWidth:o,inputComponent:u,multiline:d,type:v},E=bxe(i),b={root:{ownerState:S},input:{ownerState:S}},w=p??a?sa(b,p??a):b,A=y.root??s.Root??xxe,C=y.input??s.Input??Sxe;return Z.jsx(_4,{slots:{root:A,input:C},slotProps:w,fullWidth:o,inputComponent:u,multiline:d,ref:t,type:v,..._,classes:E})});b4.muiName="Input";function Exe(n){return yn("MuiFormControl",n)}vn("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const Txe=n=>{const{classes:e,margin:t,fullWidth:i}=n,r={root:["root",t!=="none"&&`margin${yt(t)}`,i&&"fullWidth"]};return gn(r,Exe,e)},wxe=ft("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`margin${yt(t.margin)}`],t.fullWidth&&e.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),ex=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiFormControl"}),{children:r,className:s,color:a="primary",component:o="div",disabled:l=!1,error:u=!1,focused:d,fullWidth:p=!1,hiddenLabel:y=!1,margin:v="none",required:_=!1,size:S="medium",variant:E="outlined",...b}=i,w={...i,color:a,component:o,disabled:l,error:u,fullWidth:p,hiddenLabel:y,margin:v,required:_,size:S,variant:E},A=Txe(w),[C,D]=H.useState(()=>{let ee=!1;return r&&H.Children.forEach(r,q=>{if(!Mx(q,["Input","Select"]))return;const $=Mx(q,["Select"])?q.props.input:q;$&&kbe($.props)&&(ee=!0)}),ee}),[N,I]=H.useState(()=>{let ee=!1;return r&&H.Children.forEach(r,q=>{Mx(q,["Input","Select"])&&(mA(q.props,!0)||mA(q.props.inputProps,!0))&&(ee=!0)}),ee}),[L,P]=H.useState(!1);l&&L&&P(!1);const U=d!==void 0&&!l?d:L;let F;H.useRef(!1);const z=H.useCallback(()=>{I(!0)},[]),V=H.useCallback(()=>{I(!1)},[]),Y=H.useMemo(()=>({adornedStart:C,setAdornedStart:D,color:a,disabled:l,error:u,filled:N,focused:U,fullWidth:p,hiddenLabel:y,size:S,onBlur:()=>{P(!1)},onFocus:()=>{P(!0)},onEmpty:V,onFilled:z,registerEffect:F,required:_,variant:E}),[C,a,l,u,N,U,p,y,F,V,z,_,S,E]);return Z.jsx(v4.Provider,{value:Y,children:Z.jsx(wxe,{as:o,ownerState:w,className:Pt(A.root,s),ref:t,...b,children:r})})});function Cxe(n){return yn("MuiFormControlLabel",n)}const tx=vn("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),Axe=n=>{const{classes:e,disabled:t,labelPlacement:i,error:r,required:s}=n,a={root:["root",t&&"disabled",`labelPlacement${yt(i)}`,r&&"error",s&&"required"],label:["label",t&&"disabled"],asterisk:["asterisk",r&&"error"]};return gn(a,Cxe,e)},Mxe=ft("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${tx.label}`]:e.label},e.root,e[`labelPlacement${yt(t.labelPlacement)}`]]}})(Ln(({theme:n})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${tx.disabled}`]:{cursor:"default"},[`& .${tx.label}`]:{[`&.${tx.disabled}`]:{color:(n.vars||n).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:e})=>e==="start"||e==="top"||e==="bottom",style:{marginLeft:16}}]}))),Rxe=ft("span",{name:"MuiFormControlLabel",slot:"Asterisk"})(Ln(({theme:n})=>({[`&.${tx.error}`]:{color:(n.vars||n).palette.error.main}}))),Oxe=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiFormControlLabel"}),{checked:r,className:s,componentsProps:a={},control:o,disabled:l,disableTypography:u,inputRef:d,label:p,labelPlacement:y="end",name:v,onChange:_,required:S,slots:E={},slotProps:b={},value:w,...A}=i,C=pm(),D=l??o.props.disabled??C?.disabled,N=S??o.props.required,I={disabled:D,required:N};["checked","name","onChange","value","inputRef"].forEach(ee=>{typeof o.props[ee]>"u"&&typeof i[ee]<"u"&&(I[ee]=i[ee])});const L=Ay({props:i,muiFormControl:C,states:["error"]}),P={...i,disabled:D,labelPlacement:y,required:N,error:L.error},U=Axe(P),F={slots:E,slotProps:{...a,...b}},[z,V]=rn("typography",{elementType:ts,externalForwardedProps:F,ownerState:P});let Y=p;return Y!=null&&Y.type!==ts&&!u&&(Y=Z.jsx(z,{component:"span",...V,className:Pt(U.label,V?.className),children:Y})),Z.jsxs(Mxe,{className:Pt(U.root,s),ownerState:P,ref:t,...A,children:[H.cloneElement(o,I),N?Z.jsxs("div",{children:[Y,Z.jsxs(Rxe,{ownerState:P,"aria-hidden":!0,className:U.asterisk,children:["","*"]})]}):Y]})});function Ixe(n){return yn("MuiFormHelperText",n)}const q6=vn("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var W6;const Pxe=n=>{const{classes:e,contained:t,size:i,disabled:r,error:s,filled:a,focused:o,required:l}=n,u={root:["root",r&&"disabled",s&&"error",i&&`size${yt(i)}`,t&&"contained",o&&"focused",a&&"filled",l&&"required"]};return gn(u,Ixe,e)},Dxe=ft("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.size&&e[`size${yt(t.size)}`],t.contained&&e.contained,t.filled&&e.filled]}})(Ln(({theme:n})=>({color:(n.vars||n).palette.text.secondary,...n.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${q6.disabled}`]:{color:(n.vars||n).palette.text.disabled},[`&.${q6.error}`]:{color:(n.vars||n).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:e})=>e.contained,style:{marginLeft:14,marginRight:14}}]}))),Nxe=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiFormHelperText"}),{children:r,className:s,component:a="p",disabled:o,error:l,filled:u,focused:d,margin:p,required:y,variant:v,..._}=i,S=pm(),E=Ay({props:i,muiFormControl:S,states:["variant","size","disabled","error","filled","focused","required"]}),b={...i,component:a,contained:E.variant==="filled"||E.variant==="outlined",variant:E.variant,size:E.size,disabled:E.disabled,error:E.error,filled:E.filled,focused:E.focused,required:E.required};delete b.ownerState;const w=Pxe(b);return Z.jsx(Dxe,{as:a,className:Pt(w.root,s),ref:t,..._,ownerState:b,children:r===" "?W6||(W6=Z.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):r})});function Lxe(n){return yn("MuiFormLabel",n)}const Px=vn("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Uxe=n=>{const{classes:e,color:t,focused:i,disabled:r,error:s,filled:a,required:o}=n,l={root:["root",`color${yt(t)}`,r&&"disabled",s&&"error",a&&"filled",i&&"focused",o&&"required"],asterisk:["asterisk",s&&"error"]};return gn(l,Lxe,e)},kxe=ft("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled]}})(Ln(({theme:n})=>({color:(n.vars||n).palette.text.secondary,...n.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(n.palette).filter(na()).map(([e])=>({props:{color:e},style:{[`&.${Px.focused}`]:{color:(n.vars||n).palette[e].main}}})),{props:{},style:{[`&.${Px.disabled}`]:{color:(n.vars||n).palette.text.disabled},[`&.${Px.error}`]:{color:(n.vars||n).palette.error.main}}}]}))),zxe=ft("span",{name:"MuiFormLabel",slot:"Asterisk"})(Ln(({theme:n})=>({[`&.${Px.error}`]:{color:(n.vars||n).palette.error.main}}))),Bxe=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiFormLabel"}),{children:r,className:s,color:a,component:o="label",disabled:l,error:u,filled:d,focused:p,required:y,...v}=i,_=pm(),S=Ay({props:i,muiFormControl:_,states:["color","required","focused","disabled","error","filled"]}),E={...i,color:S.color||"primary",component:o,disabled:S.disabled,error:S.error,filled:S.filled,focused:S.focused,required:S.required},b=Uxe(E);return Z.jsxs(kxe,{as:o,ownerState:E,className:Pt(b.root,s),ref:t,...v,children:[r,S.required&&Z.jsxs(zxe,{ownerState:E,"aria-hidden":!0,className:b.asterisk,children:["","*"]})]})}),Fxe=dve({createStyledComponent:ft("div",{name:"MuiGrid",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.container&&e.container]}}),componentName:"MuiGrid",useThemeProps:n=>En({props:n,name:"MuiGrid"}),useTheme:mf});function cD(n){return`scale(${n}, ${n**2})`}const Vxe={entering:{opacity:1,transform:cD(1)},entered:{opacity:1,transform:"none"}},DI=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),gA=H.forwardRef(function(e,t){const{addEndListener:i,appear:r=!0,children:s,easing:a,in:o,onEnter:l,onEntered:u,onEntering:d,onExit:p,onExited:y,onExiting:v,style:_,timeout:S="auto",TransitionComponent:E=kc,...b}=e,w=qg(),A=H.useRef(),C=mf(),D=H.useRef(null),N=Vr(D,fm(s),t),I=ee=>q=>{if(ee){const $=D.current;q===void 0?ee($):ee($,q)}},L=I(d),P=I((ee,q)=>{c4(ee);const{duration:$,delay:Q,easing:se}=tm({style:_,timeout:S,easing:a},{mode:"enter"});let fe;S==="auto"?(fe=C.transitions.getAutoHeightDuration(ee.clientHeight),A.current=fe):fe=$,ee.style.transition=[C.transitions.create("opacity",{duration:fe,delay:Q}),C.transitions.create("transform",{duration:DI?fe:fe*.666,delay:Q,easing:se})].join(","),l&&l(ee,q)}),U=I(u),F=I(v),z=I(ee=>{const{duration:q,delay:$,easing:Q}=tm({style:_,timeout:S,easing:a},{mode:"exit"});let se;S==="auto"?(se=C.transitions.getAutoHeightDuration(ee.clientHeight),A.current=se):se=q,ee.style.transition=[C.transitions.create("opacity",{duration:se,delay:$}),C.transitions.create("transform",{duration:DI?se:se*.666,delay:DI?$:$||se*.333,easing:Q})].join(","),ee.style.opacity=0,ee.style.transform=cD(.75),p&&p(ee)}),V=I(y),Y=ee=>{S==="auto"&&w.start(A.current||0,ee),i&&i(D.current,ee)};return Z.jsx(E,{appear:r,in:o,nodeRef:D,onEnter:P,onEntered:U,onEntering:L,onExit:z,onExited:V,onExiting:F,addEndListener:Y,timeout:S==="auto"?null:S,...b,children:(ee,{ownerState:q,...$})=>H.cloneElement(s,{style:{opacity:0,transform:cD(.75),visibility:ee==="exited"&&!o?"hidden":void 0,...Vxe[ee],..._,...s.props.style},ref:N,...$})})});gA&&(gA.muiSupportAuto=!0);const Hxe=n=>{const{classes:e,disableUnderline:t}=n,r=gn({root:["root",!t&&"underline"],input:["input"]},Fbe,e);return{...e,...r}},jxe=ft(cR,{shouldForwardProp:n=>No(n)||n==="classes",name:"MuiInput",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[...oR(n,e),!t.disableUnderline&&e.underline]}})(Ln(({theme:n})=>{let t=n.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return n.vars&&(t=n.alpha(n.vars.palette.common.onBackground,n.vars.opacity.inputUnderline)),{position:"relative",variants:[{props:({ownerState:i})=>i.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:i})=>!i.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${w1.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${w1.error}`]:{"&::before, &::after":{borderBottomColor:(n.vars||n).palette.error.main}},"&::before":{borderBottom:`1px solid ${t}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${w1.disabled}, .${w1.error}):before`]:{borderBottom:`2px solid ${(n.vars||n).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${t}`}},[`&.${w1.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(n.palette).filter(na()).map(([i])=>({props:{color:i,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(n.vars||n).palette[i].main}`}}}))]}})),Gxe=ft(uR,{name:"MuiInput",slot:"Input",overridesResolver:lR})({}),x4=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiInput"}),{disableUnderline:r=!1,components:s={},componentsProps:a,fullWidth:o=!1,inputComponent:l="input",multiline:u=!1,slotProps:d,slots:p={},type:y="text",...v}=i,_=Hxe(i),E={root:{ownerState:{disableUnderline:r}}},b=d??a?sa(d??a,E):E,w=p.root??s.Root??jxe,A=p.input??s.Input??Gxe;return Z.jsx(_4,{slots:{root:w,input:A},slotProps:b,fullWidth:o,inputComponent:l,multiline:u,ref:t,type:y,...v,classes:_})});x4.muiName="Input";function qxe(n){return yn("MuiInputLabel",n)}vn("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const Wxe=n=>{const{classes:e,formControl:t,size:i,shrink:r,disableAnimation:s,variant:a,required:o}=n,l={root:["root",t&&"formControl",!s&&"animated",r&&"shrink",i&&i!=="medium"&&`size${yt(i)}`,a],asterisk:[o&&"asterisk"]},u=gn(l,qxe,e);return{...e,...u}},$xe=ft(Bxe,{shouldForwardProp:n=>No(n)||n==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${Px.asterisk}`]:e.asterisk},e.root,t.formControl&&e.formControl,t.size==="small"&&e.sizeSmall,t.shrink&&e.shrink,!t.disableAnimation&&e.animated,t.focused&&e.focused,e[t.variant]]}})(Ln(({theme:n})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:e})=>e.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:e})=>e.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:e})=>!e.disableAnimation,style:{transition:n.transitions.create(["color","transform","max-width"],{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:e,ownerState:t})=>e==="filled"&&t.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:e,ownerState:t,size:i})=>e==="filled"&&t.shrink&&i==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:e,ownerState:t})=>e==="outlined"&&t.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),L2=H.forwardRef(function(e,t){const i=En({name:"MuiInputLabel",props:e}),{disableAnimation:r=!1,margin:s,shrink:a,variant:o,className:l,...u}=i,d=pm();let p=a;typeof p>"u"&&d&&(p=d.filled||d.focused||d.adornedStart);const y=Ay({props:i,muiFormControl:d,states:["size","variant","required","focused"]}),v={...i,disableAnimation:r,formControl:d,shrink:p,size:y.size,variant:y.variant,required:y.required,focused:y.focused},_=Wxe(v);return Z.jsx($xe,{"data-shrink":p,ref:t,className:Pt(_.root,l),...u,ownerState:v,classes:_})}),Xd=H.createContext({});function Xxe(n){return yn("MuiList",n)}vn("MuiList",["root","padding","dense","subheader"]);const Yxe=n=>{const{classes:e,disablePadding:t,dense:i,subheader:r}=n;return gn({root:["root",!t&&"padding",i&&"dense",r&&"subheader"]},Xxe,e)},Kxe=ft("ul",{name:"MuiList",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.disablePadding&&e.padding,t.dense&&e.dense,t.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:n})=>!n.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:n})=>n.subheader,style:{paddingTop:0}}]}),S4=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiList"}),{children:r,className:s,component:a="ul",dense:o=!1,disablePadding:l=!1,subheader:u,...d}=i,p=H.useMemo(()=>({dense:o}),[o]),y={...i,component:a,dense:o,disablePadding:l},v=Yxe(y);return Z.jsx(Xd.Provider,{value:p,children:Z.jsxs(Kxe,{as:a,className:Pt(v.root,s),ref:t,ownerState:y,...d,children:[u,r]})})});function Zxe(n){return yn("MuiListItem",n)}vn("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);const Qxe=vn("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function Jxe(n){return yn("MuiListItemSecondaryAction",n)}vn("MuiListItemSecondaryAction",["root","disableGutters"]);const eSe=n=>{const{disableGutters:e,classes:t}=n;return gn({root:["root",e&&"disableGutters"]},Jxe,t)},tSe=ft("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.disableGutters&&e.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:n})=>n.disableGutters,style:{right:0}}]}),YW=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiListItemSecondaryAction"}),{className:r,...s}=i,a=H.useContext(Xd),o={...i,disableGutters:a.disableGutters},l=eSe(o);return Z.jsx(tSe,{className:Pt(l.root,r),ownerState:o,ref:t,...s})});YW.muiName="ListItemSecondaryAction";const nSe=(n,e)=>{const{ownerState:t}=n;return[e.root,t.dense&&e.dense,t.alignItems==="flex-start"&&e.alignItemsFlexStart,t.divider&&e.divider,!t.disableGutters&&e.gutters,!t.disablePadding&&e.padding,t.hasSecondaryAction&&e.secondaryAction]},iSe=n=>{const{alignItems:e,classes:t,dense:i,disableGutters:r,disablePadding:s,divider:a,hasSecondaryAction:o}=n;return gn({root:["root",i&&"dense",!r&&"gutters",!s&&"padding",a&&"divider",e==="flex-start"&&"alignItemsFlexStart",o&&"secondaryAction"],container:["container"],secondaryAction:["secondaryAction"]},Zxe,t)},rSe=ft("div",{name:"MuiListItem",slot:"Root",overridesResolver:nSe})(Ln(({theme:n})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>!e.disablePadding&&e.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:e})=>!e.disablePadding&&!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>!e.disablePadding&&!!e.secondaryAction,style:{paddingRight:48}},{props:({ownerState:e})=>!!e.secondaryAction,style:{[`& > .${Qxe.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(n.vars||n).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>e.button,style:{transition:n.transitions.create("background-color",{duration:n.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(n.vars||n).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:e})=>e.hasSecondaryAction,style:{paddingRight:48}}]}))),sSe=ft("li",{name:"MuiListItem",slot:"Container"})({position:"relative"}),KW=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiListItem"}),{alignItems:r="center",children:s,className:a,component:o,components:l={},componentsProps:u={},ContainerComponent:d="li",ContainerProps:{className:p,...y}={},dense:v=!1,disableGutters:_=!1,disablePadding:S=!1,divider:E=!1,secondaryAction:b,slotProps:w={},slots:A={},...C}=i,D=H.useContext(Xd),N=H.useMemo(()=>({dense:v||D.dense||!1,alignItems:r,disableGutters:_}),[r,D.dense,v,_]),I=H.useRef(null),L=H.Children.toArray(s),P=L.length&&Mx(L[L.length-1],["ListItemSecondaryAction"]),U={...i,alignItems:r,dense:N.dense,disableGutters:_,disablePadding:S,divider:E,hasSecondaryAction:P},F=iSe(U),z=Vr(I,t),V={slots:A,slotProps:w},[Y,ee]=rn("secondaryAction",{elementType:YW,externalForwardedProps:V,ownerState:U,className:F.secondaryAction}),q=A.root||l.Root||rSe,$=w.root||u.root||{},Q={className:Pt(F.root,$.className,a),...C};let se=o||"li";return P?(se=!Q.component&&!o?"div":se,d==="li"&&(se==="li"?se="div":Q.component==="li"&&(Q.component="div")),Z.jsx(Xd.Provider,{value:N,children:Z.jsxs(sSe,{as:d,className:Pt(F.container,p),ref:z,ownerState:U,...y,children:[Z.jsx(q,{...$,...!d_(q)&&{as:se,ownerState:{...U,...$.ownerState}},...Q,children:L}),L.pop()]})})):Z.jsx(Xd.Provider,{value:N,children:Z.jsxs(q,{...$,as:se,ref:z,...!d_(q)&&{ownerState:{...U,...$.ownerState}},...Q,children:[L,b&&Z.jsx(Y,{...ee,children:b})]})})});function aSe(n){return yn("MuiListItemIcon",n)}const $6=vn("MuiListItemIcon",["root","alignItemsFlexStart"]),oSe=n=>{const{alignItems:e,classes:t}=n;return gn({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},aSe,t)},lSe=ft("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.alignItems==="flex-start"&&e.alignItemsFlexStart]}})(Ln(({theme:n})=>({minWidth:56,color:(n.vars||n).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}))),C0=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiListItemIcon"}),{className:r,...s}=i,a=H.useContext(Xd),o={...i,alignItems:a.alignItems},l=oSe(o);return Z.jsx(lSe,{className:Pt(l.root,r),ownerState:o,ref:t,...s})});function cSe(n){return yn("MuiListItemText",n)}const A0=vn("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),uSe=n=>{const{classes:e,inset:t,primary:i,secondary:r,dense:s}=n;return gn({root:["root",t&&"inset",s&&"dense",i&&r&&"multiline"],primary:["primary"],secondary:["secondary"]},cSe,e)},hSe=ft("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${A0.primary}`]:e.primary},{[`& .${A0.secondary}`]:e.secondary},e.root,t.inset&&e.inset,t.primary&&t.secondary&&e.multiline,t.dense&&e.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${S6.root}:where(& .${A0.primary})`]:{display:"block"},[`.${S6.root}:where(& .${A0.secondary})`]:{display:"block"},variants:[{props:({ownerState:n})=>n.primary&&n.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:n})=>n.inset,style:{paddingLeft:56}}]}),E4=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiListItemText"}),{children:r,className:s,disableTypography:a=!1,inset:o=!1,primary:l,primaryTypographyProps:u,secondary:d,secondaryTypographyProps:p,slots:y={},slotProps:v={},..._}=i,{dense:S}=H.useContext(Xd);let E=l??r,b=d;const w={...i,disableTypography:a,inset:o,primary:!!E,secondary:!!b,dense:S},A=uSe(w),C={slots:y,slotProps:{primary:u,secondary:p,...v}},[D,N]=rn("root",{className:Pt(A.root,s),elementType:hSe,externalForwardedProps:{...C,..._},ownerState:w,ref:t}),[I,L]=rn("primary",{className:A.primary,elementType:ts,externalForwardedProps:C,ownerState:w}),[P,U]=rn("secondary",{className:A.secondary,elementType:ts,externalForwardedProps:C,ownerState:w});return E!=null&&E.type!==ts&&!a&&(E=Z.jsx(I,{variant:S?"body2":"body1",component:L?.variant?void 0:"span",...L,children:E})),b!=null&&b.type!==ts&&!a&&(b=Z.jsx(P,{variant:"body2",color:"textSecondary",...U,children:b})),Z.jsxs(D,{...N,children:[E,b]})});function NI(n,e,t){return n===e?n.firstChild:e&&e.nextElementSibling?e.nextElementSibling:t?null:n.firstChild}function X6(n,e,t){return n===e?t?n.firstChild:n.lastChild:e&&e.previousElementSibling?e.previousElementSibling:t?null:n.lastChild}function ZW(n,e){if(e===void 0)return!0;let t=n.innerText;return t===void 0&&(t=n.textContent),t=t.trim().toLowerCase(),t.length===0?!1:e.repeating?t[0]===e.keys[0]:t.startsWith(e.keys.join(""))}function C1(n,e,t,i,r,s){let a=!1,o=r(n,e,e?t:!1);for(;o;){if(o===n.firstChild){if(a)return!1;a=!0}const l=i?!1:o.disabled||o.getAttribute("aria-disabled")==="true";if(!o.hasAttribute("tabindex")||!ZW(o,s)||l)o=r(n,o,t);else return o.focus(),!0}return!1}const QW=H.forwardRef(function(e,t){const{actions:i,autoFocus:r=!1,autoFocusItem:s=!1,children:a,className:o,disabledItemsFocusable:l=!1,disableListWrap:u=!1,onKeyDown:d,variant:p="selectedMenu",...y}=e,v=H.useRef(null),_=H.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Cu(()=>{r&&v.current.focus()},[r]),H.useImperativeHandle(i,()=>({adjustStyleForScrollbar:(A,{direction:C})=>{const D=!v.current.style.width;if(A.clientHeight<v.current.clientHeight&&D){const N=`${HW(Gl(A))}px`;v.current.style[C==="rtl"?"paddingLeft":"paddingRight"]=N,v.current.style.width=`calc(100% + ${N})`}return v.current}}),[]);const S=A=>{const C=v.current,D=A.key;if(A.ctrlKey||A.metaKey||A.altKey){d&&d(A);return}const I=w0(Aa(C));if(D==="ArrowDown")A.preventDefault(),C1(C,I,u,l,NI);else if(D==="ArrowUp")A.preventDefault(),C1(C,I,u,l,X6);else if(D==="Home")A.preventDefault(),C1(C,null,u,l,NI);else if(D==="End")A.preventDefault(),C1(C,null,u,l,X6);else if(D.length===1){const L=_.current,P=D.toLowerCase(),U=performance.now();L.keys.length>0&&(U-L.lastTime>500?(L.keys=[],L.repeating=!0,L.previousKeyMatched=!0):L.repeating&&P!==L.keys[0]&&(L.repeating=!1)),L.lastTime=U,L.keys.push(P);const F=I&&!L.repeating&&ZW(I,L);L.previousKeyMatched&&(F||C1(C,I,!1,l,NI,L))?A.preventDefault():L.previousKeyMatched=!1}d&&d(A)},E=Vr(v,t);let b=-1;H.Children.forEach(a,(A,C)=>{if(!H.isValidElement(A)){b===C&&(b+=1,b>=a.length&&(b=-1));return}A.props.disabled||(p==="selectedMenu"&&A.props.selected||b===-1)&&(b=C),b===C&&(A.props.disabled||A.props.muiSkipListHighlight||A.type.muiSkipListHighlight)&&(b+=1,b>=a.length&&(b=-1))});const w=H.Children.map(a,(A,C)=>{if(C===b){const D={};return s&&(D.autoFocus=!0),A.props.tabIndex===void 0&&p==="selectedMenu"&&(D.tabIndex=0),H.cloneElement(A,D)}return A});return Z.jsx(S4,{role:"menu",ref:E,className:o,onKeyDown:S,tabIndex:r?0:-1,...y,children:w})});function dSe(n){return yn("MuiPopover",n)}vn("MuiPopover",["root","paper"]);function Y6(n,e){let t=0;return typeof e=="number"?t=e:e==="center"?t=n.height/2:e==="bottom"&&(t=n.height),t}function K6(n,e){let t=0;return typeof e=="number"?t=e:e==="center"?t=n.width/2:e==="right"&&(t=n.width),t}function Z6(n){return[n.horizontal,n.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function Ow(n){return typeof n=="function"?n():n}const fSe=n=>{const{classes:e}=n;return gn({root:["root"],paper:["paper"]},dSe,e)},pSe=ft(jW,{name:"MuiPopover",slot:"Root"})({}),JW=ft(cE,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),mSe=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiPopover"}),{action:r,anchorEl:s,anchorOrigin:a={vertical:"top",horizontal:"left"},anchorPosition:o,anchorReference:l="anchorEl",children:u,className:d,container:p,elevation:y=8,marginThreshold:v=16,open:_,PaperProps:S={},slots:E={},slotProps:b={},transformOrigin:w={vertical:"top",horizontal:"left"},TransitionComponent:A,transitionDuration:C="auto",TransitionProps:D={},disableScrollLock:N=!1,...I}=i,L=H.useRef(),P={...i,anchorOrigin:a,anchorReference:l,elevation:y,marginThreshold:v,transformOrigin:w,TransitionComponent:A,transitionDuration:C,TransitionProps:D},U=fSe(P),F=H.useCallback(()=>{if(l==="anchorPosition")return o;const Ge=Ow(s),lt=(Ge&&Ge.nodeType===1?Ge:Aa(L.current).body).getBoundingClientRect();return{top:lt.top+Y6(lt,a.vertical),left:lt.left+K6(lt,a.horizontal)}},[s,a.horizontal,a.vertical,o,l]),z=H.useCallback(Ge=>({vertical:Y6(Ge,w.vertical),horizontal:K6(Ge,w.horizontal)}),[w.horizontal,w.vertical]),V=H.useCallback(Ge=>{const st={width:Ge.offsetWidth,height:Ge.offsetHeight},lt=z(st);if(l==="none")return{top:null,left:null,transformOrigin:Z6(lt)};const mt=F();let te=mt.top-lt.vertical,Oe=mt.left-lt.horizontal;const Be=te+st.height,Ne=Oe+st.width,Me=Gl(Ow(s)),ut=Me.innerHeight-v,qe=Me.innerWidth-v;if(v!==null&&te<v){const ae=te-v;te-=ae,lt.vertical+=ae}else if(v!==null&&Be>ut){const ae=Be-ut;te-=ae,lt.vertical+=ae}if(v!==null&&Oe<v){const ae=Oe-v;Oe-=ae,lt.horizontal+=ae}else if(Ne>qe){const ae=Ne-qe;Oe-=ae,lt.horizontal+=ae}return{top:`${Math.round(te)}px`,left:`${Math.round(Oe)}px`,transformOrigin:Z6(lt)}},[s,l,F,z,v]),[Y,ee]=H.useState(_),q=H.useCallback(()=>{const Ge=L.current;if(!Ge)return;const st=V(Ge);st.top!==null&&Ge.style.setProperty("top",st.top),st.left!==null&&(Ge.style.left=st.left),Ge.style.transformOrigin=st.transformOrigin,ee(!0)},[V]);H.useEffect(()=>(N&&window.addEventListener("scroll",q),()=>window.removeEventListener("scroll",q)),[s,N,q]);const $=()=>{q()},Q=()=>{ee(!1)};H.useEffect(()=>{_&&q()}),H.useImperativeHandle(r,()=>_?{updatePosition:()=>{q()}}:null,[_,q]),H.useEffect(()=>{if(!_)return;const Ge=lE(()=>{q()}),st=Gl(Ow(s));return st.addEventListener("resize",Ge),()=>{Ge.clear(),st.removeEventListener("resize",Ge)}},[s,_,q]);let se=C;const fe={slots:{transition:A,...E},slotProps:{transition:D,paper:S,...b}},[K,le]=rn("transition",{elementType:gA,externalForwardedProps:fe,ownerState:P,getSlotProps:Ge=>({...Ge,onEntering:(st,lt)=>{Ge.onEntering?.(st,lt),$()},onExited:st=>{Ge.onExited?.(st),Q()}}),additionalProps:{appear:!0,in:_}});C==="auto"&&!K.muiSupportAuto&&(se=void 0);const pe=p||(s?Aa(Ow(s)).body:void 0),[ue,{slots:ie,slotProps:de,...ye}]=rn("root",{ref:t,elementType:pSe,externalForwardedProps:{...fe,...I},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:E.backdrop},slotProps:{backdrop:bW(typeof b.backdrop=="function"?b.backdrop(P):b.backdrop,{invisible:!0})},container:pe,open:_},ownerState:P,className:Pt(U.root,d)}),[Ve,Xe]=rn("paper",{ref:L,className:U.paper,elementType:JW,externalForwardedProps:fe,shouldForwardComponentProp:!0,additionalProps:{elevation:y,style:Y?void 0:{opacity:0}},ownerState:P});return Z.jsx(ue,{...ye,...!d_(ue)&&{slots:ie,slotProps:de,disableScrollLock:N},children:Z.jsx(K,{...le,timeout:se,children:Z.jsx(Ve,{...Xe,children:u})})})});function gSe(n){return yn("MuiMenu",n)}vn("MuiMenu",["root","paper","list"]);const ySe={vertical:"top",horizontal:"right"},vSe={vertical:"top",horizontal:"left"},_Se=n=>{const{classes:e}=n;return gn({root:["root"],paper:["paper"],list:["list"]},gSe,e)},bSe=ft(mSe,{shouldForwardProp:n=>No(n)||n==="classes",name:"MuiMenu",slot:"Root"})({}),xSe=ft(JW,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),SSe=ft(QW,{name:"MuiMenu",slot:"List"})({outline:0}),e$=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiMenu"}),{autoFocus:r=!0,children:s,className:a,disableAutoFocusItem:o=!1,MenuListProps:l={},onClose:u,open:d,PaperProps:p={},PopoverClasses:y,transitionDuration:v="auto",TransitionProps:{onEntering:_,...S}={},variant:E="selectedMenu",slots:b={},slotProps:w={},...A}=i,C=oE(),D={...i,autoFocus:r,disableAutoFocusItem:o,MenuListProps:l,onEntering:_,PaperProps:p,transitionDuration:v,TransitionProps:S,variant:E},N=_Se(D),I=r&&!o&&d,L=H.useRef(null),P=(se,fe)=>{L.current&&L.current.adjustStyleForScrollbar(se,{direction:C?"rtl":"ltr"}),_&&_(se,fe)},U=se=>{se.key==="Tab"&&(se.preventDefault(),u&&u(se,"tabKeyDown"))};let F=-1;H.Children.map(s,(se,fe)=>{H.isValidElement(se)&&(se.props.disabled||(E==="selectedMenu"&&se.props.selected||F===-1)&&(F=fe))});const z={slots:b,slotProps:{list:l,transition:S,paper:p,...w}},V=y_({elementType:b.root,externalSlotProps:w.root,ownerState:D,className:[N.root,a]}),[Y,ee]=rn("paper",{className:N.paper,elementType:xSe,externalForwardedProps:z,shouldForwardComponentProp:!0,ownerState:D}),[q,$]=rn("list",{className:Pt(N.list,l.className),elementType:SSe,shouldForwardComponentProp:!0,externalForwardedProps:z,getSlotProps:se=>({...se,onKeyDown:fe=>{U(fe),se.onKeyDown?.(fe)}}),ownerState:D}),Q=typeof z.slotProps.transition=="function"?z.slotProps.transition(D):z.slotProps.transition;return Z.jsx(bSe,{onClose:u,anchorOrigin:{vertical:"bottom",horizontal:C?"right":"left"},transformOrigin:C?ySe:vSe,slots:{root:b.root,paper:Y,backdrop:b.backdrop,...b.transition&&{transition:b.transition}},slotProps:{root:V,paper:ee,backdrop:typeof w.backdrop=="function"?w.backdrop(D):w.backdrop,transition:{...Q,onEntering:(...se)=>{P(...se),Q?.onEntering?.(...se)}}},open:d,ref:t,transitionDuration:v,ownerState:D,...A,classes:y,children:Z.jsx(q,{actions:L,autoFocus:r&&(F===-1||o),autoFocusItem:I,variant:E,...$,children:s})})});function ESe(n){return yn("MuiMenuItem",n)}const A1=vn("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),TSe=(n,e)=>{const{ownerState:t}=n;return[e.root,t.dense&&e.dense,t.divider&&e.divider,!t.disableGutters&&e.gutters]},wSe=n=>{const{disabled:e,dense:t,divider:i,disableGutters:r,selected:s,classes:a}=n,l=gn({root:["root",t&&"dense",e&&"disabled",!r&&"gutters",i&&"divider",s&&"selected"]},ESe,a);return{...a,...l}},CSe=ft(nm,{shouldForwardProp:n=>No(n)||n==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:TSe})(Ln(({theme:n})=>({...n.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(n.vars||n).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${A1.selected}`]:{backgroundColor:n.alpha((n.vars||n).palette.primary.main,(n.vars||n).palette.action.selectedOpacity),[`&.${A1.focusVisible}`]:{backgroundColor:n.alpha((n.vars||n).palette.primary.main,`${(n.vars||n).palette.action.selectedOpacity} + ${(n.vars||n).palette.action.focusOpacity}`)}},[`&.${A1.selected}:hover`]:{backgroundColor:n.alpha((n.vars||n).palette.primary.main,`${(n.vars||n).palette.action.selectedOpacity} + ${(n.vars||n).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:n.alpha((n.vars||n).palette.primary.main,(n.vars||n).palette.action.selectedOpacity)}},[`&.${A1.focusVisible}`]:{backgroundColor:(n.vars||n).palette.action.focus},[`&.${A1.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity},[`& + .${G6.root}`]:{marginTop:n.spacing(1),marginBottom:n.spacing(1)},[`& + .${G6.inset}`]:{marginLeft:52},[`& .${A0.root}`]:{marginTop:0,marginBottom:0},[`& .${A0.inset}`]:{paddingLeft:36},[`& .${$6.root}`]:{minWidth:36},variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(n.vars||n).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>!e.dense,style:{[n.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:e})=>e.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...n.typography.body2,[`& .${$6.root} svg`]:{fontSize:"1.25rem"}}}]}))),Zo=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiMenuItem"}),{autoFocus:r=!1,component:s="li",dense:a=!1,divider:o=!1,disableGutters:l=!1,focusVisibleClassName:u,role:d="menuitem",tabIndex:p,className:y,...v}=i,_=H.useContext(Xd),S=H.useMemo(()=>({dense:a||_.dense||!1,disableGutters:l}),[_.dense,a,l]),E=H.useRef(null);Cu(()=>{r&&E.current&&E.current.focus()},[r]);const b={...i,dense:S.dense,divider:o,disableGutters:l},w=wSe(i),A=Vr(E,t);let C;return i.disabled||(C=p!==void 0?p:-1),Z.jsx(Xd.Provider,{value:S,children:Z.jsx(CSe,{ref:A,role:d,tabIndex:C,component:s,focusVisibleClassName:Pt(w.focusVisible,u),className:Pt(w.root,y),...v,ownerState:b,classes:w})})});function ASe(n){return yn("MuiNativeSelect",n)}const T4=vn("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),MSe=n=>{const{classes:e,variant:t,disabled:i,multiple:r,open:s,error:a}=n,o={select:["select",t,i&&"disabled",r&&"multiple",a&&"error"],icon:["icon",`icon${yt(t)}`,s&&"iconOpen",i&&"disabled"]};return gn(o,ASe,e)},t$=ft("select",{name:"MuiNativeSelect"})(({theme:n})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${T4.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(n.vars||n).palette.background.paper},variants:[{props:({ownerState:e})=>e.variant!=="filled"&&e.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(n.vars||n).shape.borderRadius,"&:focus":{borderRadius:(n.vars||n).shape.borderRadius},"&&&":{paddingRight:32}}}]})),RSe=ft(t$,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:No,overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.select,e[t.variant],t.error&&e.error,{[`&.${T4.multiple}`]:e.multiple}]}})({}),n$=ft("svg",{name:"MuiNativeSelect"})(({theme:n})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(n.vars||n).palette.action.active,[`&.${T4.disabled}`]:{color:(n.vars||n).palette.action.disabled},variants:[{props:({ownerState:e})=>e.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),OSe=ft(n$,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.variant&&e[`icon${yt(t.variant)}`],t.open&&e.iconOpen]}})({}),ISe=H.forwardRef(function(e,t){const{className:i,disabled:r,error:s,IconComponent:a,inputRef:o,variant:l="standard",...u}=e,d={...e,disabled:r,variant:l,error:s},p=MSe(d);return Z.jsxs(H.Fragment,{children:[Z.jsx(RSe,{ownerState:d,className:Pt(p.select,i),disabled:r,ref:o||t,...u}),e.multiple?null:Z.jsx(OSe,{as:a,ownerState:d,className:p.icon})]})});var Q6;const PSe=ft("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:No})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),DSe=ft("legend",{name:"MuiNotchedOutlined",shouldForwardProp:No})(Ln(({theme:n})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:e})=>!e.withLabel,style:{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})}},{props:({ownerState:e})=>e.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:e})=>e.withLabel&&e.notched,style:{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}}]})));function NSe(n){const{children:e,classes:t,className:i,label:r,notched:s,...a}=n,o=r!=null&&r!=="",l={...n,notched:s,withLabel:o};return Z.jsx(PSe,{"aria-hidden":!0,className:i,ownerState:l,...a,children:Z.jsx(DSe,{ownerState:l,children:o?Z.jsx("span",{children:r}):Q6||(Q6=Z.jsx("span",{className:"notranslate","aria-hidden":!0,children:""}))})})}const LSe=n=>{const{classes:e}=n,i=gn({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Vbe,e);return{...e,...i}},USe=ft(cR,{shouldForwardProp:n=>No(n)||n==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:oR})(Ln(({theme:n})=>{const e=n.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(n.vars||n).shape.borderRadius,[`&:hover .${lh.notchedOutline}`]:{borderColor:(n.vars||n).palette.text.primary},"@media (hover: none)":{[`&:hover .${lh.notchedOutline}`]:{borderColor:n.vars?n.alpha(n.vars.palette.common.onBackground,.23):e}},[`&.${lh.focused} .${lh.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(n.palette).filter(na()).map(([t])=>({props:{color:t},style:{[`&.${lh.focused} .${lh.notchedOutline}`]:{borderColor:(n.vars||n).palette[t].main}}})),{props:{},style:{[`&.${lh.error} .${lh.notchedOutline}`]:{borderColor:(n.vars||n).palette.error.main},[`&.${lh.disabled} .${lh.notchedOutline}`]:{borderColor:(n.vars||n).palette.action.disabled}}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:14}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:14}},{props:({ownerState:t})=>t.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:t,size:i})=>t.multiline&&i==="small",style:{padding:"8.5px 14px"}}]}})),kSe=ft(NSe,{name:"MuiOutlinedInput",slot:"NotchedOutline"})(Ln(({theme:n})=>{const e=n.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:n.vars?n.alpha(n.vars.palette.common.onBackground,.23):e}})),zSe=ft(uR,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:lR})(Ln(({theme:n})=>({padding:"16.5px 14px",...!n.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:n.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:n.palette.mode==="light"?null:"#fff",caretColor:n.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...n.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[n.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:e})=>e.multiline,style:{padding:0}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}}]}))),w4=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiOutlinedInput"}),{components:r={},fullWidth:s=!1,inputComponent:a="input",label:o,multiline:l=!1,notched:u,slots:d={},slotProps:p={},type:y="text",...v}=i,_=LSe(i),S=pm(),E=Ay({props:i,muiFormControl:S,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),b={...i,color:E.color||"primary",disabled:E.disabled,error:E.error,focused:E.focused,formControl:S,fullWidth:s,hiddenLabel:E.hiddenLabel,multiline:l,size:E.size,type:y},w=d.root??r.Root??USe,A=d.input??r.Input??zSe,[C,D]=rn("notchedOutline",{elementType:kSe,className:_.notchedOutline,shouldForwardComponentProp:!0,ownerState:b,externalForwardedProps:{slots:d,slotProps:p},additionalProps:{label:o!=null&&o!==""&&E.required?Z.jsxs(H.Fragment,{children:[o,"","*"]}):o}});return Z.jsx(_4,{slots:{root:w,input:A},slotProps:p,renderSuffix:N=>Z.jsx(C,{...D,notched:typeof u<"u"?u:!!(N.startAdornment||N.filled||N.focused)}),fullWidth:s,inputComponent:a,multiline:l,ref:t,type:y,...v,classes:{..._,notchedOutline:null}})});w4.muiName="Input";function i$(n){return yn("MuiSelect",n)}const M1=vn("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var J6;const BSe=ft(t$,{name:"MuiSelect",slot:"Select",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`&.${M1.select}`]:e.select},{[`&.${M1.select}`]:e[t.variant]},{[`&.${M1.error}`]:e.error},{[`&.${M1.multiple}`]:e.multiple}]}})({[`&.${M1.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),FSe=ft(n$,{name:"MuiSelect",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.variant&&e[`icon${yt(t.variant)}`],t.open&&e.iconOpen]}})({}),VSe=ft("input",{shouldForwardProp:n=>_W(n)&&n!=="classes",name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function e9(n,e){return typeof e=="object"&&e!==null?n===e:String(n)===String(e)}function HSe(n){return n==null||typeof n=="string"&&!n.trim()}const jSe=n=>{const{classes:e,variant:t,disabled:i,multiple:r,open:s,error:a}=n,o={select:["select",t,i&&"disabled",r&&"multiple",a&&"error"],icon:["icon",`icon${yt(t)}`,s&&"iconOpen",i&&"disabled"],nativeInput:["nativeInput"]};return gn(o,i$,e)},GSe=H.forwardRef(function(e,t){const{"aria-describedby":i,"aria-label":r,autoFocus:s,autoWidth:a,children:o,className:l,defaultOpen:u,defaultValue:d,disabled:p,displayEmpty:y,error:v=!1,IconComponent:_,inputRef:S,labelId:E,MenuProps:b={},multiple:w,name:A,onBlur:C,onChange:D,onClose:N,onFocus:I,onKeyDown:L,onMouseDown:P,onOpen:U,open:F,readOnly:z,renderValue:V,required:Y,SelectDisplayProps:ee={},tabIndex:q,type:$,value:Q,variant:se="standard",...fe}=e,[K,le]=cA({controlled:Q,default:d,name:"Select"}),[pe,ue]=cA({controlled:F,default:u,name:"Select"}),ie=H.useRef(null),de=H.useRef(null),[ye,Ve]=H.useState(null),{current:Xe}=H.useRef(F!=null),[Ge,st]=H.useState(),lt=Vr(t,S),mt=H.useCallback(ot=>{de.current=ot,ot&&Ve(ot)},[]),te=ye?.parentNode;H.useImperativeHandle(lt,()=>({focus:()=>{de.current.focus()},node:ie.current,value:K}),[K]),H.useEffect(()=>{u&&pe&&ye&&!Xe&&(st(a?null:te.clientWidth),de.current.focus())},[ye,a]),H.useEffect(()=>{s&&de.current.focus()},[s]),H.useEffect(()=>{if(!E)return;const ot=Aa(de.current).getElementById(E);if(ot){const Lt=()=>{getSelection().isCollapsed&&de.current.focus()};return ot.addEventListener("click",Lt),()=>{ot.removeEventListener("click",Lt)}}},[E]);const Oe=(ot,Lt)=>{ot?U&&U(Lt):N&&N(Lt),Xe||(st(a?null:te.clientWidth),ue(ot))},Be=ot=>{P?.(ot),ot.button===0&&(ot.preventDefault(),de.current.focus(),Oe(!0,ot))},Ne=ot=>{Oe(!1,ot)},Me=H.Children.toArray(o),ut=ot=>{const Lt=Me.find(ve=>ve.props.value===ot.target.value);Lt!==void 0&&(le(Lt.props.value),D&&D(ot,Lt))},qe=ot=>Lt=>{let ve;if(Lt.currentTarget.hasAttribute("tabindex")){if(w){ve=Array.isArray(K)?K.slice():[];const gt=K.indexOf(ot.props.value);gt===-1?ve.push(ot.props.value):ve.splice(gt,1)}else ve=ot.props.value;if(ot.props.onClick&&ot.props.onClick(Lt),K!==ve&&(le(ve),D)){const gt=Lt.nativeEvent||Lt,Fe=new gt.constructor(gt.type,gt);Object.defineProperty(Fe,"target",{writable:!0,value:{value:ve,name:A}}),D(Fe,ot)}w||Oe(!1,Lt)}},ae=ot=>{z||([" ","ArrowUp","ArrowDown","Enter"].includes(ot.key)&&(ot.preventDefault(),Oe(!0,ot)),L?.(ot))},J=ye!==null&&pe,Se=ot=>{!J&&C&&(Object.defineProperty(ot,"target",{writable:!0,value:{value:K,name:A}}),C(ot))};delete fe["aria-invalid"];let Ae,Ze;const Re=[];let ct=!1;(mA({value:K})||y)&&(V?Ae=V(K):ct=!0);const ht=Me.map(ot=>{if(!H.isValidElement(ot))return null;let Lt;if(w){if(!Array.isArray(K))throw new Error(uf(2));Lt=K.some(ve=>e9(ve,ot.props.value)),Lt&&ct&&Re.push(ot.props.children)}else Lt=e9(K,ot.props.value),Lt&&ct&&(Ze=ot.props.children);return H.cloneElement(ot,{"aria-selected":Lt?"true":"false",onClick:qe(ot),onKeyUp:ve=>{ve.key===" "&&ve.preventDefault(),ot.props.onKeyUp&&ot.props.onKeyUp(ve)},role:"option",selected:Lt,value:void 0,"data-value":ot.props.value})});ct&&(w?Re.length===0?Ae=null:Ae=Re.reduce((ot,Lt,ve)=>(ot.push(Lt),ve<Re.length-1&&ot.push(", "),ot),[]):Ae=Ze);let Dt=Ge;!a&&Xe&&ye&&(Dt=te.clientWidth);let zt;typeof q<"u"?zt=q:zt=p?null:0;const $e=ee.id||(A?`mui-component-select-${A}`:void 0),pt={...e,variant:se,value:K,open:J,error:v},wt=jSe(pt),At={...b.PaperProps,...typeof b.slotProps?.paper=="function"?b.slotProps.paper(pt):b.slotProps?.paper},vt={...b.MenuListProps,...typeof b.slotProps?.list=="function"?b.slotProps.list(pt):b.slotProps?.list},jt=j_();return Z.jsxs(H.Fragment,{children:[Z.jsx(BSe,{as:"div",ref:mt,tabIndex:zt,role:"combobox","aria-controls":J?jt:void 0,"aria-disabled":p?"true":void 0,"aria-expanded":J?"true":"false","aria-haspopup":"listbox","aria-label":r,"aria-labelledby":[E,$e].filter(Boolean).join(" ")||void 0,"aria-describedby":i,"aria-required":Y?"true":void 0,"aria-invalid":v?"true":void 0,onKeyDown:ae,onMouseDown:p||z?null:Be,onBlur:Se,onFocus:I,...ee,ownerState:pt,className:Pt(ee.className,wt.select,l),id:$e,children:HSe(Ae)?J6||(J6=Z.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):Ae}),Z.jsx(VSe,{"aria-invalid":v,value:Array.isArray(K)?K.join(","):K,name:A,ref:ie,"aria-hidden":!0,onChange:ut,tabIndex:-1,disabled:p,className:wt.nativeInput,autoFocus:s,required:Y,...fe,ownerState:pt}),Z.jsx(FSe,{as:_,className:wt.icon,ownerState:pt}),Z.jsx(e$,{id:`menu-${A||""}`,anchorEl:te,open:J,onClose:Ne,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...b,slotProps:{...b.slotProps,list:{"aria-labelledby":E,role:"listbox","aria-multiselectable":w?"true":void 0,disableListWrap:!0,id:jt,...vt},paper:{...At,style:{minWidth:Dt,...At!=null?At.style:null}}},children:ht})]})}),qSe=n=>{const{classes:e}=n,i=gn({root:["root"]},i$,e);return{...e,...i}},C4={name:"MuiSelect",slot:"Root",shouldForwardProp:n=>No(n)&&n!=="variant"},WSe=ft(x4,C4)(""),$Se=ft(w4,C4)(""),XSe=ft(b4,C4)(""),yA=H.forwardRef(function(e,t){const i=En({name:"MuiSelect",props:e}),{autoWidth:r=!1,children:s,classes:a={},className:o,defaultOpen:l=!1,displayEmpty:u=!1,IconComponent:d=jbe,id:p,input:y,inputProps:v,label:_,labelId:S,MenuProps:E,multiple:b=!1,native:w=!1,onClose:A,onOpen:C,open:D,renderValue:N,SelectDisplayProps:I,variant:L="outlined",...P}=i,U=w?ISe:GSe,F=pm(),z=Ay({props:i,muiFormControl:F,states:["variant","error"]}),V=z.variant||L,Y={...i,variant:V,classes:a},ee=qSe(Y),{root:q,...$}=ee,Q=y||{standard:Z.jsx(WSe,{ownerState:Y}),outlined:Z.jsx($Se,{label:_,ownerState:Y}),filled:Z.jsx(XSe,{ownerState:Y})}[V],se=Vr(t,fm(Q));return Z.jsx(H.Fragment,{children:H.cloneElement(Q,{inputComponent:U,inputProps:{children:s,error:z.error,IconComponent:d,variant:V,type:void 0,multiple:b,...w?{id:p}:{autoWidth:r,defaultOpen:l,displayEmpty:u,labelId:S,MenuProps:E,onClose:A,onOpen:C,open:D,renderValue:N,SelectDisplayProps:{id:p,...I}},...v,classes:v?sa($,v.classes):$,...y?y.props.inputProps:{}},...(b&&w||u)&&V==="outlined"?{notched:!0}:{},ref:se,className:Pt(Q.props.className,o,ee.root),...!y&&{variant:V},...P})})});yA.muiName="Select";function YSe(n){return yn("MuiTooltip",n)}const Jr=vn("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);function KSe(n){return Math.round(n*1e5)/1e5}const ZSe=n=>{const{classes:e,disableInteractive:t,arrow:i,touch:r,placement:s}=n,a={popper:["popper",!t&&"popperInteractive",i&&"popperArrow"],tooltip:["tooltip",i&&"tooltipArrow",r&&"touch",`tooltipPlacement${yt(s.split("-")[0])}`],arrow:["arrow"]};return gn(a,YSe,e)},QSe=ft(BW,{name:"MuiTooltip",slot:"Popper",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.popper,!t.disableInteractive&&e.popperInteractive,t.arrow&&e.popperArrow,!t.open&&e.popperClose]}})(Ln(({theme:n})=>({zIndex:(n.vars||n).zIndex.tooltip,pointerEvents:"none",variants:[{props:({ownerState:e})=>!e.disableInteractive,style:{pointerEvents:"auto"}},{props:({open:e})=>!e,style:{pointerEvents:"none"}},{props:({ownerState:e})=>e.arrow,style:{[`&[data-popper-placement*="bottom"] .${Jr.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${Jr.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${Jr.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},[`&[data-popper-placement*="left"] .${Jr.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="right"] .${Jr.arrow}`]:{left:0,marginLeft:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="right"] .${Jr.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="left"] .${Jr.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="left"] .${Jr.arrow}`]:{left:0,marginLeft:"-0.71em"}}}]}))),JSe=ft("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.tooltip,t.touch&&e.touch,t.arrow&&e.tooltipArrow,e[`tooltipPlacement${yt(t.placement.split("-")[0])}`]]}})(Ln(({theme:n})=>({backgroundColor:n.vars?n.vars.palette.Tooltip.bg:n.alpha(n.palette.grey[700],.92),borderRadius:(n.vars||n).shape.borderRadius,color:(n.vars||n).palette.common.white,fontFamily:n.typography.fontFamily,padding:"4px 8px",fontSize:n.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:n.typography.fontWeightMedium,[`.${Jr.popper}[data-popper-placement*="left"] &`]:{transformOrigin:"right center"},[`.${Jr.popper}[data-popper-placement*="right"] &`]:{transformOrigin:"left center"},[`.${Jr.popper}[data-popper-placement*="top"] &`]:{transformOrigin:"center bottom",marginBottom:"14px"},[`.${Jr.popper}[data-popper-placement*="bottom"] &`]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:({ownerState:e})=>e.arrow,style:{position:"relative",margin:0}},{props:({ownerState:e})=>e.touch,style:{padding:"8px 16px",fontSize:n.typography.pxToRem(14),lineHeight:`${KSe(16/14)}em`,fontWeight:n.typography.fontWeightRegular}},{props:({ownerState:e})=>!e.isRtl,style:{[`.${Jr.popper}[data-popper-placement*="left"] &`]:{marginRight:"14px"},[`.${Jr.popper}[data-popper-placement*="right"] &`]:{marginLeft:"14px"}}},{props:({ownerState:e})=>!e.isRtl&&e.touch,style:{[`.${Jr.popper}[data-popper-placement*="left"] &`]:{marginRight:"24px"},[`.${Jr.popper}[data-popper-placement*="right"] &`]:{marginLeft:"24px"}}},{props:({ownerState:e})=>!!e.isRtl,style:{[`.${Jr.popper}[data-popper-placement*="left"] &`]:{marginLeft:"14px"},[`.${Jr.popper}[data-popper-placement*="right"] &`]:{marginRight:"14px"}}},{props:({ownerState:e})=>!!e.isRtl&&e.touch,style:{[`.${Jr.popper}[data-popper-placement*="left"] &`]:{marginLeft:"24px"},[`.${Jr.popper}[data-popper-placement*="right"] &`]:{marginRight:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${Jr.popper}[data-popper-placement*="top"] &`]:{marginBottom:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${Jr.popper}[data-popper-placement*="bottom"] &`]:{marginTop:"24px"}}}]}))),eEe=ft("span",{name:"MuiTooltip",slot:"Arrow"})(Ln(({theme:n})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:n.vars?n.vars.palette.Tooltip.bg:n.alpha(n.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})));let Iw=!1;const t9=new sR;let R1={x:0,y:0};function Pw(n,e){return(t,...i)=>{e&&e(t,...i),n(t,...i)}}const r$=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiTooltip"}),{arrow:r=!1,children:s,classes:a,components:o={},componentsProps:l={},describeChild:u=!1,disableFocusListener:d=!1,disableHoverListener:p=!1,disableInteractive:y=!1,disableTouchListener:v=!1,enterDelay:_=100,enterNextDelay:S=0,enterTouchDelay:E=700,followCursor:b=!1,id:w,leaveDelay:A=0,leaveTouchDelay:C=1500,onClose:D,onOpen:N,open:I,placement:L="bottom",PopperComponent:P,PopperProps:U={},slotProps:F={},slots:z={},title:V,TransitionComponent:Y,TransitionProps:ee,...q}=i,$=H.isValidElement(s)?s:Z.jsx("span",{children:s}),Q=mf(),se=oE(),[fe,K]=H.useState(),[le,pe]=H.useState(null),ue=H.useRef(!1),ie=y||b,de=qg(),ye=qg(),Ve=qg(),Xe=qg(),[Ge,st]=cA({controlled:I,default:!1,name:"Tooltip",state:"open"});let lt=Ge;const mt=j_(w),te=H.useRef(),Oe=Fl(()=>{te.current!==void 0&&(document.body.style.WebkitUserSelect=te.current,te.current=void 0),Xe.clear()});H.useEffect(()=>Oe,[Oe]);const Be=Bt=>{t9.clear(),Iw=!0,st(!0),N&&!lt&&N(Bt)},Ne=Fl(Bt=>{t9.start(800+A,()=>{Iw=!1}),st(!1),D&&lt&&D(Bt),de.start(Q.transitions.duration.shortest,()=>{ue.current=!1})}),Me=Bt=>{ue.current&&Bt.type!=="touchstart"||(fe&&fe.removeAttribute("title"),ye.clear(),Ve.clear(),_||Iw&&S?ye.start(Iw?S:_,()=>{Be(Bt)}):Be(Bt))},ut=Bt=>{ye.clear(),Ve.start(A,()=>{Ne(Bt)})},[,qe]=H.useState(!1),ae=Bt=>{dA(Bt.target)||(qe(!1),ut(Bt))},J=Bt=>{fe||K(Bt.currentTarget),dA(Bt.target)&&(qe(!0),Me(Bt))},Se=Bt=>{ue.current=!0;const Qt=$.props;Qt.onTouchStart&&Qt.onTouchStart(Bt)},Ae=Bt=>{Se(Bt),Ve.clear(),de.clear(),Oe(),te.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",Xe.start(E,()=>{document.body.style.WebkitUserSelect=te.current,Me(Bt)})},Ze=Bt=>{$.props.onTouchEnd&&$.props.onTouchEnd(Bt),Oe(),Ve.start(C,()=>{Ne(Bt)})};H.useEffect(()=>{if(!lt)return;function Bt(Qt){Qt.key==="Escape"&&Ne(Qt)}return document.addEventListener("keydown",Bt),()=>{document.removeEventListener("keydown",Bt)}},[Ne,lt]);const Re=Vr(fm($),K,t);!V&&V!==0&&(lt=!1);const ct=H.useRef(),ht=Bt=>{const Qt=$.props;Qt.onMouseMove&&Qt.onMouseMove(Bt),R1={x:Bt.clientX,y:Bt.clientY},ct.current&&ct.current.update()},Dt={},zt=typeof V=="string";u?(Dt.title=!lt&&zt&&!p?V:null,Dt["aria-describedby"]=lt?mt:null):(Dt["aria-label"]=zt?V:null,Dt["aria-labelledby"]=lt&&!zt?mt:null);const $e={...Dt,...q,...$.props,className:Pt(q.className,$.props.className),onTouchStart:Se,ref:Re,...b?{onMouseMove:ht}:{}},pt={};v||($e.onTouchStart=Ae,$e.onTouchEnd=Ze),p||($e.onMouseOver=Pw(Me,$e.onMouseOver),$e.onMouseLeave=Pw(ut,$e.onMouseLeave),ie||(pt.onMouseOver=Me,pt.onMouseLeave=ut)),d||($e.onFocus=Pw(J,$e.onFocus),$e.onBlur=Pw(ae,$e.onBlur),ie||(pt.onFocus=J,pt.onBlur=ae));const wt={...i,isRtl:se,arrow:r,disableInteractive:ie,placement:L,PopperComponentProp:P,touch:ue.current},At=typeof F.popper=="function"?F.popper(wt):F.popper,vt=H.useMemo(()=>{let Bt=[{name:"arrow",enabled:!!le,options:{element:le,padding:4}}];return U.popperOptions?.modifiers&&(Bt=Bt.concat(U.popperOptions.modifiers)),At?.popperOptions?.modifiers&&(Bt=Bt.concat(At.popperOptions.modifiers)),{...U.popperOptions,...At?.popperOptions,modifiers:Bt}},[le,U.popperOptions,At?.popperOptions]),jt=ZSe(wt),ot=typeof F.transition=="function"?F.transition(wt):F.transition,Lt={slots:{popper:o.Popper,transition:o.Transition??Y,tooltip:o.Tooltip,arrow:o.Arrow,...z},slotProps:{arrow:F.arrow??l.arrow,popper:{...U,...At??l.popper},tooltip:F.tooltip??l.tooltip,transition:{...ee,...ot??l.transition}}},[ve,gt]=rn("popper",{elementType:QSe,externalForwardedProps:Lt,ownerState:wt,className:Pt(jt.popper,U?.className)}),[Fe,Qe]=rn("transition",{elementType:gA,externalForwardedProps:Lt,ownerState:wt}),[xt,_t]=rn("tooltip",{elementType:JSe,className:jt.tooltip,externalForwardedProps:Lt,ownerState:wt}),[Zt,Yn]=rn("arrow",{elementType:eEe,className:jt.arrow,externalForwardedProps:Lt,ownerState:wt,ref:pe});return Z.jsxs(H.Fragment,{children:[H.cloneElement($,$e),Z.jsx(ve,{as:P??BW,placement:L,anchorEl:b?{getBoundingClientRect:()=>({top:R1.y,left:R1.x,right:R1.x,bottom:R1.y,width:0,height:0})}:fe,popperRef:ct,open:fe?lt:!1,id:mt,transition:!0,...pt,...gt,popperOptions:vt,children:({TransitionProps:Bt})=>Z.jsx(Fe,{timeout:Q.transitions.duration.shorter,...Bt,...Qe,children:Z.jsxs(xt,{..._t,children:[V,r?Z.jsx(Zt,{...Yn}):null]})})})]})}),bp=_ve({createStyledComponent:ft("div",{name:"MuiStack",slot:"Root"}),useThemeProps:n=>En({props:n,name:"MuiStack"})});function tEe(n){return yn("MuiTab",n)}const _c=vn("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper","icon"]),nEe=n=>{const{classes:e,textColor:t,fullWidth:i,wrapped:r,icon:s,label:a,selected:o,disabled:l}=n,u={root:["root",s&&a&&"labelIcon",`textColor${yt(t)}`,i&&"fullWidth",r&&"wrapped",o&&"selected",l&&"disabled"],icon:["iconWrapper","icon"]};return gn(u,tEe,e)},iEe=ft(nm,{name:"MuiTab",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.label&&t.icon&&e.labelIcon,e[`textColor${yt(t.textColor)}`],t.fullWidth&&e.fullWidth,t.wrapped&&e.wrapped,{[`& .${_c.iconWrapper}`]:e.iconWrapper},{[`& .${_c.icon}`]:e.icon}]}})(Ln(({theme:n})=>({...n.typography.button,maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center",lineHeight:1.25,variants:[{props:({ownerState:e})=>e.label&&(e.iconPosition==="top"||e.iconPosition==="bottom"),style:{flexDirection:"column"}},{props:({ownerState:e})=>e.label&&e.iconPosition!=="top"&&e.iconPosition!=="bottom",style:{flexDirection:"row"}},{props:({ownerState:e})=>e.icon&&e.label,style:{minHeight:72,paddingTop:9,paddingBottom:9}},{props:({ownerState:e,iconPosition:t})=>e.icon&&e.label&&t==="top",style:{[`& > .${_c.icon}`]:{marginBottom:6}}},{props:({ownerState:e,iconPosition:t})=>e.icon&&e.label&&t==="bottom",style:{[`& > .${_c.icon}`]:{marginTop:6}}},{props:({ownerState:e,iconPosition:t})=>e.icon&&e.label&&t==="start",style:{[`& > .${_c.icon}`]:{marginRight:n.spacing(1)}}},{props:({ownerState:e,iconPosition:t})=>e.icon&&e.label&&t==="end",style:{[`& > .${_c.icon}`]:{marginLeft:n.spacing(1)}}},{props:{textColor:"inherit"},style:{color:"inherit",opacity:.6,[`&.${_c.selected}`]:{opacity:1},[`&.${_c.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity}}},{props:{textColor:"primary"},style:{color:(n.vars||n).palette.text.secondary,[`&.${_c.selected}`]:{color:(n.vars||n).palette.primary.main},[`&.${_c.disabled}`]:{color:(n.vars||n).palette.text.disabled}}},{props:{textColor:"secondary"},style:{color:(n.vars||n).palette.text.secondary,[`&.${_c.selected}`]:{color:(n.vars||n).palette.secondary.main},[`&.${_c.disabled}`]:{color:(n.vars||n).palette.text.disabled}}},{props:({ownerState:e})=>e.fullWidth,style:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"}},{props:({ownerState:e})=>e.wrapped,style:{fontSize:n.typography.pxToRem(12)}}]}))),n9=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiTab"}),{className:r,disabled:s=!1,disableFocusRipple:a=!1,fullWidth:o,icon:l,iconPosition:u="top",indicator:d,label:p,onChange:y,onClick:v,onFocus:_,selected:S,selectionFollowsFocus:E,textColor:b="inherit",value:w,wrapped:A=!1,...C}=i,D={...i,disabled:s,disableFocusRipple:a,selected:S,icon:!!l,iconPosition:u,label:!!p,fullWidth:o,textColor:b,wrapped:A},N=nEe(D),I=l&&p&&H.isValidElement(l)?H.cloneElement(l,{className:Pt(N.icon,l.props.className)}):l,L=U=>{!S&&y&&y(U,w),v&&v(U)},P=U=>{E&&!S&&y&&y(U,w),_&&_(U)};return Z.jsxs(iEe,{focusRipple:!a,className:Pt(N.root,r),ref:t,role:"tab","aria-selected":S,disabled:s,onClick:L,onFocus:P,ownerState:D,tabIndex:S?0:-1,...C,children:[u==="top"||u==="start"?Z.jsxs(H.Fragment,{children:[I,p]}):Z.jsxs(H.Fragment,{children:[p,I]}),d]})}),rEe=Hr(Z.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"})),sEe=Hr(Z.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}));function aEe(n){return(1+Math.sin(Math.PI*n-Math.PI/2))/2}function oEe(n,e,t,i={},r=()=>{}){const{ease:s=aEe,duration:a=300}=i;let o=null;const l=e[n];let u=!1;const d=()=>{u=!0},p=y=>{if(u){r(new Error("Animation cancelled"));return}o===null&&(o=y);const v=Math.min(1,(y-o)/a);if(e[n]=s(v)*(t-l)+l,v>=1){requestAnimationFrame(()=>{r(null)});return}requestAnimationFrame(p)};return l===t?(r(new Error("Element already at target position")),d):(requestAnimationFrame(p),d)}const lEe={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function cEe(n){const{onChange:e,...t}=n,i=H.useRef(),r=H.useRef(null),s=()=>{i.current=r.current.offsetHeight-r.current.clientHeight};return Cu(()=>{const a=lE(()=>{const l=i.current;s(),l!==i.current&&e(i.current)}),o=Gl(r.current);return o.addEventListener("resize",a),()=>{a.clear(),o.removeEventListener("resize",a)}},[e]),H.useEffect(()=>{s(),e(i.current)},[e]),Z.jsx("div",{style:lEe,...t,ref:r})}function uEe(n){return yn("MuiTabScrollButton",n)}const hEe=vn("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),dEe=n=>{const{classes:e,orientation:t,disabled:i}=n;return gn({root:["root",t,i&&"disabled"]},uEe,e)},fEe=ft(nm,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.orientation&&e[t.orientation]]}})({width:40,flexShrink:0,opacity:.8,[`&.${hEe.disabled}`]:{opacity:0},variants:[{props:{orientation:"vertical"},style:{width:"100%",height:40,"& svg":{transform:"var(--TabScrollButton-svgRotate)"}}}]}),pEe=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiTabScrollButton"}),{className:r,slots:s={},slotProps:a={},direction:o,orientation:l,disabled:u,...d}=i,p=oE(),y={isRtl:p,...i},v=dEe(y),_=s.StartScrollButtonIcon??rEe,S=s.EndScrollButtonIcon??sEe,E=y_({elementType:_,externalSlotProps:a.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:y}),b=y_({elementType:S,externalSlotProps:a.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:y});return Z.jsx(fEe,{component:"div",className:Pt(v.root,r),ref:t,role:null,ownerState:y,tabIndex:null,...d,style:{...d.style,...l==="vertical"&&{"--TabScrollButton-svgRotate":`rotate(${p?-90:90}deg)`}},children:o==="left"?Z.jsx(_,{...E}):Z.jsx(S,{...b})})});function mEe(n){return yn("MuiTabs",n)}const LI=vn("MuiTabs",["root","vertical","list","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),i9=(n,e)=>n===e?n.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n.firstChild,r9=(n,e)=>n===e?n.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n.lastChild,Dw=(n,e,t)=>{let i=!1,r=t(n,e);for(;r;){if(r===n.firstChild){if(i)return;i=!0}const s=r.disabled||r.getAttribute("aria-disabled")==="true";if(!r.hasAttribute("tabindex")||s)r=t(n,r);else{r.focus();return}}},gEe=n=>{const{vertical:e,fixed:t,hideScrollbar:i,scrollableX:r,scrollableY:s,centered:a,scrollButtonsHideMobile:o,classes:l}=n;return gn({root:["root",e&&"vertical"],scroller:["scroller",t&&"fixed",i&&"hideScrollbar",r&&"scrollableX",s&&"scrollableY"],list:["list","flexContainer",e&&"flexContainerVertical",e&&"vertical",a&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",o&&"scrollButtonsHideMobile"],scrollableX:[r&&"scrollableX"],hideScrollbar:[i&&"hideScrollbar"]},mEe,l)},yEe=ft("div",{name:"MuiTabs",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${LI.scrollButtons}`]:e.scrollButtons},{[`& .${LI.scrollButtons}`]:t.scrollButtonsHideMobile&&e.scrollButtonsHideMobile},e.root,t.vertical&&e.vertical]}})(Ln(({theme:n})=>({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex",variants:[{props:({ownerState:e})=>e.vertical,style:{flexDirection:"column"}},{props:({ownerState:e})=>e.scrollButtonsHideMobile,style:{[`& .${LI.scrollButtons}`]:{[n.breakpoints.down("sm")]:{display:"none"}}}}]}))),vEe=ft("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.scroller,t.fixed&&e.fixed,t.hideScrollbar&&e.hideScrollbar,t.scrollableX&&e.scrollableX,t.scrollableY&&e.scrollableY]}})({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap",variants:[{props:({ownerState:n})=>n.fixed,style:{overflowX:"hidden",width:"100%"}},{props:({ownerState:n})=>n.hideScrollbar,style:{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}},{props:({ownerState:n})=>n.scrollableX,style:{overflowX:"auto",overflowY:"hidden"}},{props:({ownerState:n})=>n.scrollableY,style:{overflowY:"auto",overflowX:"hidden"}}]}),_Ee=ft("div",{name:"MuiTabs",slot:"List",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.list,e.flexContainer,t.vertical&&e.flexContainerVertical,t.centered&&e.centered]}})({display:"flex",variants:[{props:({ownerState:n})=>n.vertical,style:{flexDirection:"column"}},{props:({ownerState:n})=>n.centered,style:{justifyContent:"center"}}]}),bEe=ft("span",{name:"MuiTabs",slot:"Indicator"})(Ln(({theme:n})=>({position:"absolute",height:2,bottom:0,width:"100%",transition:n.transitions.create(),variants:[{props:{indicatorColor:"primary"},style:{backgroundColor:(n.vars||n).palette.primary.main}},{props:{indicatorColor:"secondary"},style:{backgroundColor:(n.vars||n).palette.secondary.main}},{props:({ownerState:e})=>e.vertical,style:{height:"100%",width:2,right:0}}]}))),xEe=ft(cEe)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),s9={},SEe=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiTabs"}),r=mf(),s=oE(),{"aria-label":a,"aria-labelledby":o,action:l,centered:u=!1,children:d,className:p,component:y="div",allowScrollButtonsMobile:v=!1,indicatorColor:_="primary",onChange:S,orientation:E="horizontal",ScrollButtonComponent:b,scrollButtons:w="auto",selectionFollowsFocus:A,slots:C={},slotProps:D={},TabIndicatorProps:N={},TabScrollButtonProps:I={},textColor:L="primary",value:P,variant:U="standard",visibleScrollbar:F=!1,...z}=i,V=U==="scrollable",Y=E==="vertical",ee=Y?"scrollTop":"scrollLeft",q=Y?"top":"left",$=Y?"bottom":"right",Q=Y?"clientHeight":"clientWidth",se=Y?"height":"width",fe={...i,component:y,allowScrollButtonsMobile:v,indicatorColor:_,orientation:E,vertical:Y,scrollButtons:w,textColor:L,variant:U,visibleScrollbar:F,fixed:!V,hideScrollbar:V&&!F,scrollableX:V&&!Y,scrollableY:V&&Y,centered:u&&!V,scrollButtonsHideMobile:!v},K=gEe(fe),le=y_({elementType:C.StartScrollButtonIcon,externalSlotProps:D.startScrollButtonIcon,ownerState:fe}),pe=y_({elementType:C.EndScrollButtonIcon,externalSlotProps:D.endScrollButtonIcon,ownerState:fe}),[ue,ie]=H.useState(!1),[de,ye]=H.useState(s9),[Ve,Xe]=H.useState(!1),[Ge,st]=H.useState(!1),[lt,mt]=H.useState(!1),[te,Oe]=H.useState({overflow:"hidden",scrollbarWidth:0}),Be=new Map,Ne=H.useRef(null),Me=H.useRef(null),ut={slots:C,slotProps:{indicator:N,scrollButton:I,...D}},qe=()=>{const St=Ne.current;let Mt;if(St){const _n=St.getBoundingClientRect();Mt={clientWidth:St.clientWidth,scrollLeft:St.scrollLeft,scrollTop:St.scrollTop,scrollWidth:St.scrollWidth,top:_n.top,bottom:_n.bottom,left:_n.left,right:_n.right}}let zn;if(St&&P!==!1){const _n=Me.current.children;if(_n.length>0){const Bn=_n[Be.get(P)];zn=Bn?Bn.getBoundingClientRect():null}}return{tabsMeta:Mt,tabMeta:zn}},ae=Fl(()=>{const{tabsMeta:St,tabMeta:Mt}=qe();let zn=0,_n;Y?(_n="top",Mt&&St&&(zn=Mt.top-St.top+St.scrollTop)):(_n=s?"right":"left",Mt&&St&&(zn=(s?-1:1)*(Mt[_n]-St[_n]+St.scrollLeft)));const Bn={[_n]:zn,[se]:Mt?Mt[se]:0};if(typeof de[_n]!="number"||typeof de[se]!="number")ye(Bn);else{const ki=Math.abs(de[_n]-Bn[_n]),Is=Math.abs(de[se]-Bn[se]);(ki>=1||Is>=1)&&ye(Bn)}}),J=(St,{animation:Mt=!0}={})=>{Mt?oEe(ee,Ne.current,St,{duration:r.transitions.duration.standard}):Ne.current[ee]=St},Se=St=>{let Mt=Ne.current[ee];Y?Mt+=St:Mt+=St*(s?-1:1),J(Mt)},Ae=()=>{const St=Ne.current[Q];let Mt=0;const zn=Array.from(Me.current.children);for(let _n=0;_n<zn.length;_n+=1){const Bn=zn[_n];if(Mt+Bn[Q]>St){_n===0&&(Mt=St);break}Mt+=Bn[Q]}return Mt},Ze=()=>{Se(-1*Ae())},Re=()=>{Se(Ae())},[ct,{onChange:ht,...Dt}]=rn("scrollbar",{className:Pt(K.scrollableX,K.hideScrollbar),elementType:xEe,shouldForwardComponentProp:!0,externalForwardedProps:ut,ownerState:fe}),zt=H.useCallback(St=>{ht?.(St),Oe({overflow:null,scrollbarWidth:St})},[ht]),[$e,pt]=rn("scrollButtons",{className:Pt(K.scrollButtons,I.className),elementType:pEe,externalForwardedProps:ut,ownerState:fe,additionalProps:{orientation:E,slots:{StartScrollButtonIcon:C.startScrollButtonIcon||C.StartScrollButtonIcon,EndScrollButtonIcon:C.endScrollButtonIcon||C.EndScrollButtonIcon},slotProps:{startScrollButtonIcon:le,endScrollButtonIcon:pe}}}),wt=()=>{const St={};St.scrollbarSizeListener=V?Z.jsx(ct,{...Dt,onChange:zt}):null;const zn=V&&(w==="auto"&&(Ve||Ge)||w===!0);return St.scrollButtonStart=zn?Z.jsx($e,{direction:s?"right":"left",onClick:Ze,disabled:!Ve,...pt}):null,St.scrollButtonEnd=zn?Z.jsx($e,{direction:s?"left":"right",onClick:Re,disabled:!Ge,...pt}):null,St},At=Fl(St=>{const{tabsMeta:Mt,tabMeta:zn}=qe();if(!(!zn||!Mt)){if(zn[q]<Mt[q]){const _n=Mt[ee]+(zn[q]-Mt[q]);J(_n,{animation:St})}else if(zn[$]>Mt[$]){const _n=Mt[ee]+(zn[$]-Mt[$]);J(_n,{animation:St})}}}),vt=Fl(()=>{V&&w!==!1&&mt(!lt)});H.useEffect(()=>{const St=lE(()=>{Ne.current&&ae()});let Mt;const zn=ki=>{ki.forEach(Is=>{Is.removedNodes.forEach(Ki=>{Mt?.unobserve(Ki)}),Is.addedNodes.forEach(Ki=>{Mt?.observe(Ki)})}),St(),vt()},_n=Gl(Ne.current);_n.addEventListener("resize",St);let Bn;return typeof ResizeObserver<"u"&&(Mt=new ResizeObserver(St),Array.from(Me.current.children).forEach(ki=>{Mt.observe(ki)})),typeof MutationObserver<"u"&&(Bn=new MutationObserver(zn),Bn.observe(Me.current,{childList:!0})),()=>{St.clear(),_n.removeEventListener("resize",St),Bn?.disconnect(),Mt?.disconnect()}},[ae,vt]),H.useEffect(()=>{const St=Array.from(Me.current.children),Mt=St.length;if(typeof IntersectionObserver<"u"&&Mt>0&&V&&w!==!1){const zn=St[0],_n=St[Mt-1],Bn={root:Ne.current,threshold:.99},ki=Gr=>{Xe(!Gr[0].isIntersecting)},Is=new IntersectionObserver(ki,Bn);Is.observe(zn);const Ki=Gr=>{st(!Gr[0].isIntersecting)},jr=new IntersectionObserver(Ki,Bn);return jr.observe(_n),()=>{Is.disconnect(),jr.disconnect()}}},[V,w,lt,d?.length]),H.useEffect(()=>{ie(!0)},[]),H.useEffect(()=>{ae()}),H.useEffect(()=>{At(s9!==de)},[At,de]),H.useImperativeHandle(l,()=>({updateIndicator:ae,updateScrollButtons:vt}),[ae,vt]);const[jt,ot]=rn("indicator",{className:Pt(K.indicator,N.className),elementType:bEe,externalForwardedProps:ut,ownerState:fe,additionalProps:{style:de}}),Lt=Z.jsx(jt,{...ot});let ve=0;const gt=H.Children.map(d,St=>{if(!H.isValidElement(St))return null;const Mt=St.props.value===void 0?ve:St.props.value;Be.set(Mt,ve);const zn=Mt===P;return ve+=1,H.cloneElement(St,{fullWidth:U==="fullWidth",indicator:zn&&!ue&&Lt,selected:zn,selectionFollowsFocus:A,onChange:S,textColor:L,value:Mt,...ve===1&&P===!1&&!St.props.tabIndex?{tabIndex:0}:{}})}),Fe=St=>{if(St.altKey||St.shiftKey||St.ctrlKey||St.metaKey)return;const Mt=Me.current,zn=w0(Aa(Mt));if(zn?.getAttribute("role")!=="tab")return;let Bn=E==="horizontal"?"ArrowLeft":"ArrowUp",ki=E==="horizontal"?"ArrowRight":"ArrowDown";switch(E==="horizontal"&&s&&(Bn="ArrowRight",ki="ArrowLeft"),St.key){case Bn:St.preventDefault(),Dw(Mt,zn,r9);break;case ki:St.preventDefault(),Dw(Mt,zn,i9);break;case"Home":St.preventDefault(),Dw(Mt,null,i9);break;case"End":St.preventDefault(),Dw(Mt,null,r9);break}},Qe=wt(),[xt,_t]=rn("root",{ref:t,className:Pt(K.root,p),elementType:yEe,externalForwardedProps:{...ut,...z,component:y},ownerState:fe}),[Zt,Yn]=rn("scroller",{ref:Ne,className:K.scroller,elementType:vEe,externalForwardedProps:ut,ownerState:fe,additionalProps:{style:{overflow:te.overflow,[Y?`margin${s?"Left":"Right"}`:"marginBottom"]:F?void 0:-te.scrollbarWidth}}}),[Bt,Qt]=rn("list",{ref:Me,className:Pt(K.list,K.flexContainer),elementType:_Ee,externalForwardedProps:ut,ownerState:fe,getSlotProps:St=>({...St,onKeyDown:Mt=>{Fe(Mt),St.onKeyDown?.(Mt)}})});return Z.jsxs(xt,{..._t,children:[Qe.scrollButtonStart,Qe.scrollbarSizeListener,Z.jsxs(Zt,{...Yn,children:[Z.jsx(Bt,{"aria-label":a,"aria-labelledby":o,"aria-orientation":E==="vertical"?"vertical":null,role:"tablist",...Qt,children:gt}),ue&&Lt]}),Qe.scrollButtonEnd]})});function EEe(n){return yn("MuiTextField",n)}vn("MuiTextField",["root"]);const TEe={standard:x4,filled:b4,outlined:w4},wEe=n=>{const{classes:e}=n;return gn({root:["root"]},EEe,e)},CEe=ft(ex,{name:"MuiTextField",slot:"Root"})({}),AEe=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiTextField"}),{autoComplete:r,autoFocus:s=!1,children:a,className:o,color:l="primary",defaultValue:u,disabled:d=!1,error:p=!1,FormHelperTextProps:y,fullWidth:v=!1,helperText:_,id:S,InputLabelProps:E,inputProps:b,InputProps:w,inputRef:A,label:C,maxRows:D,minRows:N,multiline:I=!1,name:L,onBlur:P,onChange:U,onFocus:F,placeholder:z,required:V=!1,rows:Y,select:ee=!1,SelectProps:q,slots:$={},slotProps:Q={},type:se,value:fe,variant:K="outlined",...le}=i,pe={...i,autoFocus:s,color:l,disabled:d,error:p,fullWidth:v,multiline:I,required:V,select:ee,variant:K},ue=wEe(pe),ie=j_(S),de=_&&ie?`${ie}-helper-text`:void 0,ye=C&&ie?`${ie}-label`:void 0,Ve=TEe[K],Xe={slots:$,slotProps:{input:w,inputLabel:E,htmlInput:b,formHelperText:y,select:q,...Q}},Ge={},st=Xe.slotProps.inputLabel;K==="outlined"&&(st&&typeof st.shrink<"u"&&(Ge.notched=st.shrink),Ge.label=C),ee&&((!q||!q.native)&&(Ge.id=void 0),Ge["aria-describedby"]=void 0);const[lt,mt]=rn("root",{elementType:CEe,shouldForwardComponentProp:!0,externalForwardedProps:{...Xe,...le},ownerState:pe,className:Pt(ue.root,o),ref:t,additionalProps:{disabled:d,error:p,fullWidth:v,required:V,color:l,variant:K}}),[te,Oe]=rn("input",{elementType:Ve,externalForwardedProps:Xe,additionalProps:Ge,ownerState:pe}),[Be,Ne]=rn("inputLabel",{elementType:L2,externalForwardedProps:Xe,ownerState:pe}),[Me,ut]=rn("htmlInput",{elementType:"input",externalForwardedProps:Xe,ownerState:pe}),[qe,ae]=rn("formHelperText",{elementType:Nxe,externalForwardedProps:Xe,ownerState:pe}),[J,Se]=rn("select",{elementType:yA,externalForwardedProps:Xe,ownerState:pe}),Ae=Z.jsx(te,{"aria-describedby":de,autoComplete:r,autoFocus:s,defaultValue:u,fullWidth:v,multiline:I,name:L,rows:Y,maxRows:D,minRows:N,type:se,value:fe,id:ie,inputRef:A,onBlur:P,onChange:U,onFocus:F,placeholder:z,inputProps:ut,slots:{input:$.htmlInput?Me:void 0},...Oe});return Z.jsxs(lt,{...mt,children:[C!=null&&C!==""&&Z.jsx(Be,{htmlFor:ie,id:ye,...Ne,children:C}),ee?Z.jsx(J,{"aria-describedby":de,id:ie,labelId:ye,value:fe,input:Ae,...Se,children:a}):Ae,_&&Z.jsx(qe,{id:de,...ae,children:_})]})}),Nw=({content:n})=>{const[e,t]=H.useState(!1),i=()=>{t(!1)},r=()=>{t(!0)};return Z.jsx(Fxe,{children:Z.jsx(A1e,{onClickAway:i,children:Z.jsx(df,{children:Z.jsx(r$,{onClose:i,open:e,disableFocusListener:!0,disableHoverListener:!0,disableTouchListener:!0,title:n,placement:"top-end",arrow:!0,slotProps:{popper:{disablePortal:!0}},children:Z.jsx(u4,{onClick:r,children:Z.jsx(r0e,{})})})})})})};function uD(n){return n?n.charAt(0).toUpperCase()+n.slice(1):""}const hR=n=>{const e=localStorage.getItem(n);if(!e)return[];try{const t=JSON.parse(e);return Array.isArray(t)?t.filter(i=>typeof i=="string"):e.replace(/[\[\]']+/g,"").split(",").map(i=>i.trim()).filter(Boolean)}catch{return e.replace(/[\[\]']+/g,"").split(",").map(t=>t.trim()).filter(Boolean)}},U2={canvasBackgraundColor:"#002",intensity:.7,colorLight:"#fff",position:[100,20,10]},s$={system:"rgb(159, 159, 159)",submission:"rgb(200, 0, 0)",pass:"rgb(0 , 128, 128)",switch:"rgb(255, 215, 0)",transition:"rgb(128, 0, 128)",control:"rgb(0, 102, 204)",takedown:"rgb(255, 140, 0)",defence:"rgb(34, 139, 34)",guard:"rgb(139, 69, 19)",defense_escape:"rgba(255, 185, 135, 1)"},Eg={fov:80,near:.1,far:1e3,position:[251,-93,-18],dollySpeed:4,minDistance:20,maxDistance:2700},MEe=["/systems/headlock/nodes","/systems/test/nodes"],REe=["/systems/headlock/links","/systems/test/links"],a9=[{valueNodes:"/systems/headlock/nodes",valueLinks:"/systems/headlock/links",label:"HeadLock"},{valueNodes:"/systems/dogfight/nodes",valueLinks:"/systems/dogfight/links",label:"DogFight"},{valueNodes:"/systems/escaping_back_control/nodes",valueLinks:"/systems/escaping_back_control/links",label:"Escaping Back Control"},{valueNodes:"/systems/mount_escape/nodes",valueLinks:"/systems/mount_escape/links",label:"Mount Escape"},{valueNodes:"/systems/side_control_escapes/nodes",valueLinks:"/systems/side_control_escapes/links",label:"Side Control Escapes"},{valueNodes:"/systems/turtle_defense/nodes",valueLinks:"/systems/turtle_defense/links",label:"Turtle Denfese"},{valueNodes:"/systems/side_control_escapes_switch_base_variants/nodes",valueLinks:"/systems/side_control_escapes_switch_base_variants/links",label:"Side Control Escapes Switch Base Variants"}],Yi={languageDefault:"es",languageUser:"languageApp",navigationsGestures:"hideNavigationGestures",dagModeCache:"dagMode",dagMode:localStorage.getItem("dagMode")||"rl",dagLevelDistanceCache:"dagLevelDistance",dagLevelDistance:localStorage.getItem("dagLevelDistance")||35,systemsCacheNameNodes:"systemsCacheNodes",systemsCacheNameLinks:"systemsCacheLinks",systemsNodesLoaded:[],systemsLinksLoaded:[]},OEe=MEe[1],IEe=REe[1],PEe=hR(Yi.systemsCacheNameLinks),DEe=hR(Yi.systemsCacheNameNodes),im={AllSystemsNodesArray:DEe,AllSystemsLinksArray:PEe,nodes:OEe,links:IEe,categories:"taxonomy",subCategory:"subCategories",indexGlobal:"index_global",indexGlobalID:"63keMnlfnUPYdIxLUviv",nodeTaxonomy:"node_taxonomy",tab_ids:"tab_ids",tabs:"tabs"},vA={root:"/",addNode:"/add_node",loginUser:"/login_user",test:"test_add_fast"},NEe=hR(Yi.systemsCacheNameLinks),LEe=hR(Yi.systemsCacheNameNodes),cn=oQ((n,e)=>({isAddNodeActive:!1,setIsAddNodeActive:t=>n({isAddNodeActive:t}),isLoginWindowActive:!1,setIsLoginWindowActive:t=>n({isLoginWindowActive:t}),isLoadingFirestore:!1,setIsLoadingFirestore:t=>n({isLoadingFirestore:t}),isUploadFirestore:!1,setIsUploadFirestore:t=>n({isUploadFirestore:t}),isUserLogin:!1,setIsUserLogin:t=>n({isUserLogin:t}),showAlert:!1,alertMessage:"",alertSeverity:"success",isNodeAddViewActive:!1,setIsNodeAddViewActive:t=>n({isNodeAddViewActive:t}),isNodeSceneViewActive:!1,setIsNodeSceneViewActive:t=>n({isNodeSceneViewActive:t}),overlayDontShowAgain:!1,setOverlayDontShowAgain:t=>n({overlayDontShowAgain:t}),languageGlobal:"",setLanguageGlobal:t=>n({languageGlobal:t}),isConfigWindowActive:!1,setIsconfigWindowActive:t=>n({isConfigWindowActive:t}),nodeViewData:{videoid:"",start:"",end:""},setNodeViewData:t=>n({nodeViewData:t}),documentsFirestore:[],setDocumentsFirestore:t=>n({documentsFirestore:t}),dagModeConfig:Yi.dagMode,setDagModeConfig:t=>n({dagModeConfig:t}),dagLevelDistanceConfig:Number(Yi.dagLevelDistance),setDagLevelDistanceConfig:t=>n({dagLevelDistanceConfig:t}),triggerAlert:(t,i="success")=>{n({showAlert:!0,alertMessage:t,alertSeverity:i}),setTimeout(()=>n({showAlert:!1}),4e3)},addNodeActiveStep:0,setaddNodeActiveStep:t=>n({addNodeActiveStep:t}),nextStep:()=>n(t=>({addNodeActiveStep:t.addNodeActiveStep+1})),prevStep:()=>n(t=>({addNodeActiveStep:Math.max(0,t.addNodeActiveStep-1)})),stepValidation:{step0:!1,step1:!1,step2:!1},validateFns:{},setValidateFn:(t,i)=>n(r=>({validateFns:{...r.validateFns,[t]:i}})),runValidation:async t=>{const i=e().validateFns[t];if(!i)return!1;const r=await i();return n(s=>({stepValidation:{...s.stepValidation,[t]:r}})),r},runSequentialValidation:async t=>{for(const i of t)if(!await e().runValidation(i))return!1;return!0},connectionViewerActiveStep:null,setConnectionViewerActiveStep:t=>n({connectionViewerActiveStep:t}),cameraBackup:null,setCameraBackup:(t,i)=>n({cameraBackup:{pos:t,target:i}}),clearCameraBackup:()=>n({cameraBackup:null}),showFullGraph:!0,setShowFullGraph:t=>n({showFullGraph:t}),systemBjjSelectedNodes:LEe,setSystemBjjSelectedNodes:t=>n({systemBjjSelectedNodes:t}),systemBjjSelectedLinks:NEe,setSystemBjjSelectedLinks:t=>n({systemBjjSelectedLinks:t}),linksData:[],setLinksData:t=>n({linksData:t})}));var UI={exports:{}},Ad={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o9;function UEe(){return o9||(o9=1,Ad.ConcurrentRoot=1,Ad.ContinuousEventPriority=8,Ad.DefaultEventPriority=32,Ad.DiscreteEventPriority=2,Ad.IdleEventPriority=268435456,Ad.LegacyRoot=0,Ad.NoEventPriority=0),Ad}var l9;function kEe(){return l9||(l9=1,UI.exports=UEe()),UI.exports}var k2=kEe(),kI={exports:{}},zI={},BI={exports:{}},FI={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c9;function zEe(){if(c9)return FI;c9=1;var n=E_();function e(p,y){return p===y&&(p!==0||1/p===1/y)||p!==p&&y!==y}var t=typeof Object.is=="function"?Object.is:e,i=n.useState,r=n.useEffect,s=n.useLayoutEffect,a=n.useDebugValue;function o(p,y){var v=y(),_=i({inst:{value:v,getSnapshot:y}}),S=_[0].inst,E=_[1];return s(function(){S.value=v,S.getSnapshot=y,l(S)&&E({inst:S})},[p,v,y]),r(function(){return l(S)&&E({inst:S}),p(function(){l(S)&&E({inst:S})})},[p]),a(v),v}function l(p){var y=p.getSnapshot;p=p.value;try{var v=y();return!t(p,v)}catch{return!0}}function u(p,y){return y()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:o;return FI.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:d,FI}var u9;function BEe(){return u9||(u9=1,BI.exports=zEe()),BI.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h9;function FEe(){if(h9)return zI;h9=1;var n=E_(),e=BEe();function t(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var i=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,s=n.useRef,a=n.useEffect,o=n.useMemo,l=n.useDebugValue;return zI.useSyncExternalStoreWithSelector=function(u,d,p,y,v){var _=s(null);if(_.current===null){var S={hasValue:!1,value:null};_.current=S}else S=_.current;_=o(function(){function b(N){if(!w){if(w=!0,A=N,N=y(N),v!==void 0&&S.hasValue){var I=S.value;if(v(I,N))return C=I}return C=N}if(I=C,i(A,N))return I;var L=y(N);return v!==void 0&&v(I,L)?(A=N,I):(A=N,C=L)}var w=!1,A,C,D=p===void 0?null:p;return[function(){return b(d())},D===null?void 0:function(){return b(D())}]},[d,p,y,v]);var E=r(u,_[0],_[1]);return a(function(){S.hasValue=!0,S.value=E},[E]),l(E),E},zI}var d9;function VEe(){return d9||(d9=1,kI.exports=FEe()),kI.exports}var HEe=VEe();const jEe=rm(HEe),{useSyncExternalStoreWithSelector:GEe}=jEe,qEe=n=>n;function WEe(n,e=qEe,t){const i=GEe(n.subscribe,n.getState,n.getInitialState,e,t);return lr.useDebugValue(i),i}const f9=(n,e)=>{const t=h8(n),i=(r,s=e)=>WEe(t,r,s);return Object.assign(i,t),i},a$=((n,e)=>n?f9(n,e):f9);var VI={exports:{}},HI={exports:{}},jI={exports:{}},GI={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p9;function $Ee(){return p9||(p9=1,(function(n){function e(q,$){var Q=q.length;q.push($);e:for(;0<Q;){var se=Q-1>>>1,fe=q[se];if(0<r(fe,$))q[se]=$,q[Q]=fe,Q=se;else break e}}function t(q){return q.length===0?null:q[0]}function i(q){if(q.length===0)return null;var $=q[0],Q=q.pop();if(Q!==$){q[0]=Q;e:for(var se=0,fe=q.length,K=fe>>>1;se<K;){var le=2*(se+1)-1,pe=q[le],ue=le+1,ie=q[ue];if(0>r(pe,Q))ue<fe&&0>r(ie,pe)?(q[se]=ie,q[ue]=Q,se=ue):(q[se]=pe,q[le]=Q,se=le);else if(ue<fe&&0>r(ie,Q))q[se]=ie,q[ue]=Q,se=ue;else break e}}return $}function r(q,$){var Q=q.sortIndex-$.sortIndex;return Q!==0?Q:q.id-$.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();n.unstable_now=function(){return a.now()-o}}var l=[],u=[],d=1,p=null,y=3,v=!1,_=!1,S=!1,E=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function A(q){for(var $=t(u);$!==null;){if($.callback===null)i(u);else if($.startTime<=q)i(u),$.sortIndex=$.expirationTime,e(l,$);else break;$=t(u)}}function C(q){if(S=!1,A(q),!_)if(t(l)!==null)_=!0,Y();else{var $=t(u);$!==null&&ee(C,$.startTime-q)}}var D=!1,N=-1,I=5,L=-1;function P(){return!(n.unstable_now()-L<I)}function U(){if(D){var q=n.unstable_now();L=q;var $=!0;try{e:{_=!1,S&&(S=!1,b(N),N=-1),v=!0;var Q=y;try{t:{for(A(q),p=t(l);p!==null&&!(p.expirationTime>q&&P());){var se=p.callback;if(typeof se=="function"){p.callback=null,y=p.priorityLevel;var fe=se(p.expirationTime<=q);if(q=n.unstable_now(),typeof fe=="function"){p.callback=fe,A(q),$=!0;break t}p===t(l)&&i(l),A(q)}else i(l);p=t(l)}if(p!==null)$=!0;else{var K=t(u);K!==null&&ee(C,K.startTime-q),$=!1}}break e}finally{p=null,y=Q,v=!1}$=void 0}}finally{$?F():D=!1}}}var F;if(typeof w=="function")F=function(){w(U)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,V=z.port2;z.port1.onmessage=U,F=function(){V.postMessage(null)}}else F=function(){E(U,0)};function Y(){D||(D=!0,F())}function ee(q,$){N=E(function(){q(n.unstable_now())},$)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(q){q.callback=null},n.unstable_continueExecution=function(){_||v||(_=!0,Y())},n.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<q?Math.floor(1e3/q):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(q){switch(y){case 1:case 2:case 3:var $=3;break;default:$=y}var Q=y;y=$;try{return q()}finally{y=Q}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(q,$){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var Q=y;y=q;try{return $()}finally{y=Q}},n.unstable_scheduleCallback=function(q,$,Q){var se=n.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?se+Q:se):Q=se,q){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=Q+fe,q={id:d++,callback:$,priorityLevel:q,startTime:Q,expirationTime:fe,sortIndex:-1},Q>se?(q.sortIndex=Q,e(u,q),t(l)===null&&q===t(u)&&(S?(b(N),N=-1):S=!0,ee(C,Q-se))):(q.sortIndex=fe,e(l,q),_||v||(_=!0,Y())),q},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(q){var $=y;return function(){var Q=y;y=$;try{return q.apply(this,arguments)}finally{y=Q}}}})(GI)),GI}var m9;function o$(){return m9||(m9=1,jI.exports=$Ee()),jI.exports}/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g9;function XEe(){return g9||(g9=1,(function(n){n.exports=function(e){function t(f,m,T,O){return new ib(f,m,T,O)}function i(){}function r(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)m+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(f){return f===null||typeof f!="object"?null:(f=ub&&f[ub]||f["@@iterator"],typeof f=="function"?f:null)}function a(f){if(f==null)return null;if(typeof f=="function")return f.$$typeof===rd?null:f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case Bf:return"Fragment";case _l:return"Portal";case cb:return"Profiler";case lb:return"StrictMode";case qy:return"Suspense";case qu:return"SuspenseList"}if(typeof f=="object")switch(f.$$typeof){case ac:return(f.displayName||"Context")+".Provider";case Gu:return(f._context.displayName||"Context")+".Consumer";case Ff:var m=f.render;return f=f.displayName,f||(f=m.displayName||m.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case Pm:return m=f.displayName||null,m!==null?m:a(f.type)||"Memo";case bl:m=f._payload,f=f._init;try{return a(f(m))}catch{}}return null}function o(f){if(Wy===void 0)try{throw Error()}catch(T){var m=T.stack.trim().match(/\n( *(at )?)/);Wy=m&&m[1]||"",hb=-1<T.stack.indexOf(`
    at`)?" (<anonymous>)":-1<T.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wy+f+hb}function l(f,m){if(!f||Wu)return"";Wu=!0;var T=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var O={DetermineComponentFrameRoot:function(){try{if(m){var Ot=function(){throw Error()};if(Object.defineProperty(Ot.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ot,[])}catch(bn){var Nt=bn}Reflect.construct(f,[],Ot)}else{try{Ot.call()}catch(bn){Nt=bn}f.call(Ot.prototype)}}else{try{throw Error()}catch(bn){Nt=bn}(Ot=f())&&typeof Ot.catch=="function"&&Ot.catch(function(){})}}catch(bn){if(bn&&Nt&&typeof bn.stack=="string")return[bn.stack,Nt.stack]}return[null,null]}};O.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var B=Object.getOwnPropertyDescriptor(O.DetermineComponentFrameRoot,"name");B&&B.configurable&&Object.defineProperty(O.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var G=O.DetermineComponentFrameRoot(),oe=G[0],me=G[1];if(oe&&me){var Ce=oe.split(`
`),Je=me.split(`
`);for(B=O=0;O<Ce.length&&!Ce[O].includes("DetermineComponentFrameRoot");)O++;for(;B<Je.length&&!Je[B].includes("DetermineComponentFrameRoot");)B++;if(O===Ce.length||B===Je.length)for(O=Ce.length-1,B=Je.length-1;1<=O&&0<=B&&Ce[O]!==Je[B];)B--;for(;1<=O&&0<=B;O--,B--)if(Ce[O]!==Je[B]){if(O!==1||B!==1)do if(O--,B--,0>B||Ce[O]!==Je[B]){var bt=`
`+Ce[O].replace(" at new "," at ");return f.displayName&&bt.includes("<anonymous>")&&(bt=bt.replace("<anonymous>",f.displayName)),bt}while(1<=O&&0<=B);break}}}finally{Wu=!1,Error.prepareStackTrace=T}return(T=f?f.displayName||f.name:"")?o(T):""}function u(f){switch(f.tag){case 26:case 27:case 5:return o(f.type);case 16:return o("Lazy");case 13:return o("Suspense");case 19:return o("SuspenseList");case 0:case 15:return f=l(f.type,!1),f;case 11:return f=l(f.type.render,!1),f;case 1:return f=l(f.type,!0),f;default:return""}}function d(f){try{var m="";do m+=u(f),f=f.return;while(f);return m}catch(T){return`
Error generating stack: `+T.message+`
`+T.stack}}function p(f){var m=f,T=f;if(f.alternate)for(;m.return;)m=m.return;else{f=m;do m=f,(m.flags&4098)!==0&&(T=m.return),f=m.return;while(f)}return m.tag===3?T:null}function y(f){if(p(f)!==f)throw Error(r(188))}function v(f){var m=f.alternate;if(!m){if(m=p(f),m===null)throw Error(r(188));return m!==f?null:f}for(var T=f,O=m;;){var B=T.return;if(B===null)break;var G=B.alternate;if(G===null){if(O=B.return,O!==null){T=O;continue}break}if(B.child===G.child){for(G=B.child;G;){if(G===T)return y(B),f;if(G===O)return y(B),m;G=G.sibling}throw Error(r(188))}if(T.return!==O.return)T=B,O=G;else{for(var oe=!1,me=B.child;me;){if(me===T){oe=!0,T=B,O=G;break}if(me===O){oe=!0,O=B,T=G;break}me=me.sibling}if(!oe){for(me=G.child;me;){if(me===T){oe=!0,T=G,O=B;break}if(me===O){oe=!0,O=G,T=B;break}me=me.sibling}if(!oe)throw Error(r(189))}}if(T.alternate!==O)throw Error(r(190))}if(T.tag!==3)throw Error(r(188));return T.stateNode.current===T?f:m}function _(f){var m=f.tag;if(m===5||m===26||m===27||m===6)return f;for(f=f.child;f!==null;){if(m=_(f),m!==null)return m;f=f.sibling}return null}function S(f){var m=f.tag;if(m===5||m===26||m===27||m===6)return f;for(f=f.child;f!==null;){if(f.tag!==4&&(m=S(f),m!==null))return m;f=f.sibling}return null}function E(f){return{current:f}}function b(f){0>eu||(f.current=Vm[eu],Vm[eu]=null,eu--)}function w(f,m){eu++,Vm[eu]=f.current,f.current=m}function A(f){return f>>>=0,f===0?32:31-(Hm(f)/YE|0)|0}function C(f){var m=f&42;if(m!==0)return m;switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return f&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return f}}function D(f,m){var T=f.pendingLanes;if(T===0)return 0;var O=0,B=f.suspendedLanes,G=f.pingedLanes,oe=f.warmLanes;f=f.finishedLanes!==0;var me=T&134217727;return me!==0?(T=me&~B,T!==0?O=C(T):(G&=me,G!==0?O=C(G):f||(oe=me&~oe,oe!==0&&(O=C(oe))))):(me=T&~B,me!==0?O=C(me):G!==0?O=C(G):f||(oe=T&~oe,oe!==0&&(O=C(oe)))),O===0?0:m!==0&&m!==O&&(m&B)===0&&(B=O&-O,oe=m&-m,B>=oe||B===32&&(oe&4194176)!==0)?m:O}function N(f,m){return(f.pendingLanes&~(f.suspendedLanes&~f.pingedLanes)&m)===0}function I(f,m){switch(f){case 1:case 2:case 4:case 8:return m+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function L(){var f=Gf;return Gf<<=1,(Gf&4194176)===0&&(Gf=128),f}function P(){var f=jm;return jm<<=1,(jm&62914560)===0&&(jm=4194304),f}function U(f){for(var m=[],T=0;31>T;T++)m.push(f);return m}function F(f,m){f.pendingLanes|=m,m!==268435456&&(f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0)}function z(f,m,T,O,B,G){var oe=f.pendingLanes;f.pendingLanes=T,f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0,f.expiredLanes&=T,f.entangledLanes&=T,f.errorRecoveryDisabledLanes&=T,f.shellSuspendCounter=0;var me=f.entanglements,Ce=f.expirationTimes,Je=f.hiddenUpdates;for(T=oe&~T;0<T;){var bt=31-Ua(T),Ot=1<<bt;me[bt]=0,Ce[bt]=-1;var Nt=Je[bt];if(Nt!==null)for(Je[bt]=null,bt=0;bt<Nt.length;bt++){var bn=Nt[bt];bn!==null&&(bn.lane&=-536870913)}T&=~Ot}O!==0&&V(f,O,0),G!==0&&B===0&&f.tag!==0&&(f.suspendedLanes|=G&~(oe&~m))}function V(f,m,T){f.pendingLanes|=m,f.suspendedLanes&=~m;var O=31-Ua(m);f.entangledLanes|=m,f.entanglements[O]=f.entanglements[O]|1073741824|T&4194218}function Y(f,m){var T=f.entangledLanes|=m;for(f=f.entanglements;T;){var O=31-Ua(T),B=1<<O;B&m|f[O]&m&&(f[O]|=m),T&=~B}}function ee(f){return f&=-f,2<f?8<f?(f&134217727)!==0?32:268435456:8:2}function q(f){if(ka&&typeof ka.onCommitFiberRoot=="function")try{ka.onCommitFiberRoot(Wf,f,void 0,(f.current.flags&128)===128)}catch{}}function $(f){if(typeof JE=="function"&&Hb(f),ka&&typeof ka.setStrictMode=="function")try{ka.setStrictMode(Wf,f)}catch{}}function Q(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}function se(f,m){if(typeof f=="object"&&f!==null){var T=cv.get(f);return T!==void 0?T:(m={value:f,source:m,stack:d(m)},cv.set(f,m),m)}return{value:f,source:m,stack:d(m)}}function fe(f,m){Ji[vr++]=Wm,Ji[vr++]=qm,qm=f,Wm=m}function K(f,m,T){po[mo++]=hc,po[mo++]=Ho,po[mo++]=xl,xl=f;var O=hc;f=Ho;var B=32-Ua(O)-1;O&=~(1<<B),T+=1;var G=32-Ua(m)+B;if(30<G){var oe=B-B%5;G=(O&(1<<oe)-1).toString(32),O>>=oe,B-=oe,hc=1<<32-Ua(m)+B|T<<B|O,Ho=G+f}else hc=1<<G|T<<B|O,Ho=f}function le(f){f.return!==null&&(fe(f,1),K(f,1,0))}function pe(f){for(;f===qm;)qm=Ji[--vr],Ji[vr]=null,Wm=Ji[--vr],Ji[vr]=null;for(;f===xl;)xl=po[--mo],po[mo]=null,Ho=po[--mo],po[mo]=null,hc=po[--mo],po[mo]=null}function ue(f,m){w(Sl,m),w($m,f),w(Ss,null),f=sd(m),b(Ss),w(Ss,f)}function ie(){b(Ss),b($m),b(Sl)}function de(f){f.memoizedState!==null&&w($f,f);var m=Ss.current,T=ME(m,f.type);m!==T&&(w($m,f),w(Ss,T))}function ye(f){$m.current===f&&(b(Ss),b($m)),$f.current===f&&(b($f),lc?hn._currentValue=La:hn._currentValue2=La)}function Ve(f){var m=Error(r(418,""));throw mt(se(m,f)),Xm}function Xe(f,m){if(!pa)throw Error(r(175));ER(f.stateNode,f.type,f.memoizedProps,m,f)||Ve(f)}function Ge(f){for(Xs=f.return;Xs;)switch(Xs.tag){case 3:case 27:jo=!0;return;case 5:case 13:jo=!1;return;default:Xs=Xs.return}}function st(f){if(!pa||f!==Xs)return!1;if(!li)return Ge(f),li=!0,!1;var m=!1;if(Ls?f.tag!==3&&f.tag!==27&&(f.tag!==5||GE(f.type)&&!Yu(f.type,f.memoizedProps))&&(m=!0):f.tag!==3&&(f.tag!==5||GE(f.type)&&!Yu(f.type,f.memoizedProps))&&(m=!0),m&&ks&&Ve(f),Ge(f),f.tag===13){if(!pa)throw Error(r(316));if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));ks=HE(f)}else ks=Xs?Rb(f.stateNode):null;return!0}function lt(){pa&&(ks=Xs=null,li=!1)}function mt(f){go===null?go=[f]:go.push(f)}function te(){for(var f=Zu,m=Xf=Zu=0;m<f;){var T=yo[m];yo[m++]=null;var O=yo[m];yo[m++]=null;var B=yo[m];yo[m++]=null;var G=yo[m];if(yo[m++]=null,O!==null&&B!==null){var oe=O.pending;oe===null?B.next=B:(B.next=oe.next,oe.next=B),O.pending=B}G!==0&&Me(T,B,G)}}function Oe(f,m,T,O){yo[Zu++]=f,yo[Zu++]=m,yo[Zu++]=T,yo[Zu++]=O,Xf|=O,f.lanes|=O,f=f.alternate,f!==null&&(f.lanes|=O)}function Be(f,m,T,O){return Oe(f,m,T,O),ut(f)}function Ne(f,m){return Oe(f,null,null,m),ut(f)}function Me(f,m,T){f.lanes|=T;var O=f.alternate;O!==null&&(O.lanes|=T);for(var B=!1,G=f.return;G!==null;)G.childLanes|=T,O=G.alternate,O!==null&&(O.childLanes|=T),G.tag===22&&(f=G.stateNode,f===null||f._visibility&1||(B=!0)),f=G,G=G.return;B&&m!==null&&f.tag===3&&(G=f.stateNode,B=31-Ua(T),G=G.hiddenUpdates,f=G[B],f===null?G[B]=[m]:f.push(m),m.lane=T|536870912)}function ut(f){if(50<gd)throw gd=0,ya=null,Error(r(185));for(var m=f.return;m!==null;)f=m,m=f.return;return f.tag===3?f.stateNode:null}function qe(f){f!==cd&&f.next===null&&(cd===null?Yf=cd=f:cd=cd.next=f),Km=!0,Ym||(Ym=!0,Re(J))}function ae(f,m){if(!El&&Km){El=!0;do for(var T=!1,O=Yf;O!==null;){if(f!==0){var B=O.pendingLanes;if(B===0)var G=0;else{var oe=O.suspendedLanes,me=O.pingedLanes;G=(1<<31-Ua(42|f)+1)-1,G&=B&~(oe&~me),G=G&201326677?G&201326677|1:G?G|2:0}G!==0&&(T=!0,Ze(O,G))}else G=Vn,G=D(O,O===Wn?G:0),(G&3)===0||N(O,G)||(T=!0,Ze(O,G));O=O.next}while(T);El=!1}}function J(){Km=Ym=!1;var f=0;Qu!==0&&(Ku()&&(f=Qu),Qu=0);for(var m=Us(),T=null,O=Yf;O!==null;){var B=O.next,G=Se(O,m);G===0?(O.next=null,T===null?Yf=B:T.next=B,B===null&&(cd=T)):(T=O,(f!==0||(G&3)!==0)&&(Km=!0)),O=B}ae(f)}function Se(f,m){for(var T=f.suspendedLanes,O=f.pingedLanes,B=f.expirationTimes,G=f.pendingLanes&-62914561;0<G;){var oe=31-Ua(G),me=1<<oe,Ce=B[oe];Ce===-1?((me&T)===0||(me&O)!==0)&&(B[oe]=I(me,m)):Ce<=m&&(f.expiredLanes|=me),G&=~me}if(m=Wn,T=Vn,T=D(f,f===m?T:0),O=f.callbackNode,T===0||f===m&&Di===2||f.cancelPendingCommit!==null)return O!==null&&O!==null&&Gm(O),f.callbackNode=null,f.callbackPriority=0;if((T&3)===0||N(f,T)){if(m=T&-T,m===f.callbackPriority)return m;switch(O!==null&&Gm(O),ee(T)){case 2:case 8:T=QE;break;case 32:T=ov;break;case 268435456:T=lv;break;default:T=ov}return O=Ae.bind(null,f),T=qf(T,O),f.callbackPriority=m,f.callbackNode=T,m}return O!==null&&O!==null&&Gm(O),f.callbackPriority=2,f.callbackNode=null,2}function Ae(f,m){var T=f.callbackNode;if(bs()&&f.callbackNode!==T)return null;var O=Vn;return O=D(f,f===Wn?O:0),O===0?null:(Am(f,O,m),Se(f,Us()),f.callbackNode!=null&&f.callbackNode===T?Ae.bind(null,f):null)}function Ze(f,m){if(bs())return null;Am(f,m,!0)}function Re(f){$r?Ky(function(){(Yt&6)!==0?qf(Vb,f):f()}):qf(Vb,f)}function ct(){return Qu===0&&(Qu=L()),Qu}function ht(f,m){if(Zm===null){var T=Zm=[];uv=0,za=ct(),Ju={status:"pending",value:void 0,then:function(O){T.push(O)}}}return uv++,m.then(Dt,Dt),m}function Dt(){if(--uv===0&&Zm!==null){Ju!==null&&(Ju.status="fulfilled");var f=Zm;Zm=null,za=0,Ju=null;for(var m=0;m<f.length;m++)(0,f[m])()}}function zt(f,m){var T=[],O={status:"pending",value:null,reason:null,then:function(B){T.push(B)}};return f.then(function(){O.status="fulfilled",O.value=m;for(var B=0;B<T.length;B++)(0,T[B])(m)},function(B){for(O.status="rejected",O.reason=B,B=0;B<T.length;B++)(0,T[B])(void 0)}),O}function $e(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pt(f,m){f=f.updateQueue,m.updateQueue===f&&(m.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,callbacks:null})}function wt(f){return{lane:f,tag:0,payload:null,callback:null,next:null}}function At(f,m,T){var O=f.updateQueue;if(O===null)return null;if(O=O.shared,(Yt&2)!==0){var B=O.pending;return B===null?m.next=m:(m.next=B.next,B.next=m),O.pending=m,m=ut(f),Me(f,null,T),m}return Oe(f,O,m,T),ut(f)}function vt(f,m,T){if(m=m.updateQueue,m!==null&&(m=m.shared,(T&4194176)!==0)){var O=m.lanes;O&=f.pendingLanes,T|=O,m.lanes=T,Y(f,T)}}function jt(f,m){var T=f.updateQueue,O=f.alternate;if(O!==null&&(O=O.updateQueue,T===O)){var B=null,G=null;if(T=T.firstBaseUpdate,T!==null){do{var oe={lane:T.lane,tag:T.tag,payload:T.payload,callback:null,next:null};G===null?B=G=oe:G=G.next=oe,T=T.next}while(T!==null);G===null?B=G=m:G=G.next=m}else B=G=m;T={baseState:O.baseState,firstBaseUpdate:B,lastBaseUpdate:G,shared:O.shared,callbacks:O.callbacks},f.updateQueue=T;return}f=T.lastBaseUpdate,f===null?T.firstBaseUpdate=m:f.next=m,T.lastBaseUpdate=m}function ot(){if(Kf){var f=Ju;if(f!==null)throw f}}function Lt(f,m,T,O){Kf=!1;var B=f.updateQueue;tu=!1;var G=B.firstBaseUpdate,oe=B.lastBaseUpdate,me=B.shared.pending;if(me!==null){B.shared.pending=null;var Ce=me,Je=Ce.next;Ce.next=null,oe===null?G=Je:oe.next=Je,oe=Ce;var bt=f.alternate;bt!==null&&(bt=bt.updateQueue,me=bt.lastBaseUpdate,me!==oe&&(me===null?bt.firstBaseUpdate=Je:me.next=Je,bt.lastBaseUpdate=Ce))}if(G!==null){var Ot=B.baseState;oe=0,bt=Je=Ce=null,me=G;do{var Nt=me.lane&-536870913,bn=Nt!==me.lane;if(bn?(Vn&Nt)===Nt:(O&Nt)===Nt){Nt!==0&&Nt===za&&(Kf=!0),bt!==null&&(bt=bt.next={lane:0,tag:me.tag,payload:me.payload,callback:null,next:null});e:{var Ha=f,tg=me;Nt=m;var yd=T;switch(tg.tag){case 1:if(Ha=tg.payload,typeof Ha=="function"){Ot=Ha.call(yd,Ot,Nt);break e}Ot=Ha;break e;case 3:Ha.flags=Ha.flags&-65537|128;case 0:if(Ha=tg.payload,Nt=typeof Ha=="function"?Ha.call(yd,Ot,Nt):Ha,Nt==null)break e;Ot=id({},Ot,Nt);break e;case 2:tu=!0}}Nt=me.callback,Nt!==null&&(f.flags|=64,bn&&(f.flags|=8192),bn=B.callbacks,bn===null?B.callbacks=[Nt]:bn.push(Nt))}else bn={lane:Nt,tag:me.tag,payload:me.payload,callback:me.callback,next:null},bt===null?(Je=bt=bn,Ce=Ot):bt=bt.next=bn,oe|=Nt;if(me=me.next,me===null){if(me=B.shared.pending,me===null)break;bn=me,me=bn.next,bn.next=null,B.lastBaseUpdate=bn,B.shared.pending=null}}while(!0);bt===null&&(Ce=Ot),B.baseState=Ce,B.firstBaseUpdate=Je,B.lastBaseUpdate=bt,G===null&&(B.shared.lanes=0),xo|=oe,f.lanes=oe,f.memoizedState=Ot}}function ve(f,m){if(typeof f!="function")throw Error(r(191,f));f.call(m)}function gt(f,m){var T=f.callbacks;if(T!==null)for(f.callbacks=null,f=0;f<T.length;f++)ve(T[f],m)}function Fe(f,m){if(fo(f,m))return!0;if(typeof f!="object"||f===null||typeof m!="object"||m===null)return!1;var T=Object.keys(f),O=Object.keys(m);if(T.length!==O.length)return!1;for(O=0;O<T.length;O++){var B=T[O];if(!Qm.call(m,B)||!fo(f[B],m[B]))return!1}return!0}function Qe(f){return f=f.status,f==="fulfilled"||f==="rejected"}function xt(){}function _t(f,m,T){switch(T=f[T],T===void 0?f.push(m):T!==m&&(m.then(xt,xt),m=T),m.status){case"fulfilled":return m.value;case"rejected":throw f=m.reason,f===Ri?Error(r(483)):f;default:if(typeof m.status=="string")m.then(xt,xt);else{if(f=Wn,f!==null&&100<f.shellSuspendCounter)throw Error(r(482));f=m,f.status="pending",f.then(function(O){if(m.status==="pending"){var B=m;B.status="fulfilled",B.value=O}},function(O){if(m.status==="pending"){var B=m;B.status="rejected",B.reason=O}})}switch(m.status){case"fulfilled":return m.value;case"rejected":throw f=m.reason,f===Ri?Error(r(483)):f}throw ud=m,Ri}}function Zt(){if(ud===null)throw Error(r(459));var f=ud;return ud=null,f}function Yn(f){var m=Go;return Go+=1,dc===null&&(dc=[]),_t(dc,f,m)}function Bt(f,m){m=m.props.ref,f.ref=m!==void 0?m:null}function Qt(f,m){throw m.$$typeof===ob?Error(r(525)):(f=Object.prototype.toString.call(m),Error(r(31,f==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":f)))}function St(f){var m=f._init;return m(f._payload)}function Mt(f){function m(Ue,Te){if(f){var He=Ue.deletions;He===null?(Ue.deletions=[Te],Ue.flags|=16):He.push(Te)}}function T(Ue,Te){if(!f)return null;for(;Te!==null;)m(Ue,Te),Te=Te.sibling;return null}function O(Ue){for(var Te=new Map;Ue!==null;)Ue.key!==null?Te.set(Ue.key,Ue):Te.set(Ue.index,Ue),Ue=Ue.sibling;return Te}function B(Ue,Te){return Ue=Ws(Ue,Te),Ue.index=0,Ue.sibling=null,Ue}function G(Ue,Te,He){return Ue.index=He,f?(He=Ue.alternate,He!==null?(He=He.index,He<Te?(Ue.flags|=33554434,Te):He):(Ue.flags|=33554434,Te)):(Ue.flags|=1048576,Te)}function oe(Ue){return f&&Ue.alternate===null&&(Ue.flags|=33554434),Ue}function me(Ue,Te,He,dt){return Te===null||Te.tag!==6?(Te=ju(He,Ue.mode,dt),Te.return=Ue,Te):(Te=B(Te,He),Te.return=Ue,Te)}function Ce(Ue,Te,He,dt){var Wt=He.type;return Wt===Bf?bt(Ue,Te,He.props.children,dt,He.key):Te!==null&&(Te.elementType===Wt||typeof Wt=="object"&&Wt!==null&&Wt.$$typeof===bl&&St(Wt)===Te.type)?(Te=B(Te,He.props),Bt(Te,He),Te.return=Ue,Te):(Te=Fo(He.type,He.key,He.props,null,Ue.mode,dt),Bt(Te,He),Te.return=Ue,Te)}function Je(Ue,Te,He,dt){return Te===null||Te.tag!==4||Te.stateNode.containerInfo!==He.containerInfo||Te.stateNode.implementation!==He.implementation?(Te=zf(He,Ue.mode,dt),Te.return=Ue,Te):(Te=B(Te,He.children||[]),Te.return=Ue,Te)}function bt(Ue,Te,He,dt,Wt){return Te===null||Te.tag!==7?(Te=Yc(He,Ue.mode,dt,Wt),Te.return=Ue,Te):(Te=B(Te,He),Te.return=Ue,Te)}function Ot(Ue,Te,He){if(typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint")return Te=ju(""+Te,Ue.mode,He),Te.return=Ue,Te;if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case Kc:return He=Fo(Te.type,Te.key,Te.props,null,Ue.mode,He),Bt(He,Te),He.return=Ue,He;case _l:return Te=zf(Te,Ue.mode,He),Te.return=Ue,Te;case bl:var dt=Te._init;return Te=dt(Te._payload),Ot(Ue,Te,He)}if($u(Te)||s(Te))return Te=Yc(Te,Ue.mode,He,null),Te.return=Ue,Te;if(typeof Te.then=="function")return Ot(Ue,Yn(Te),He);if(Te.$$typeof===ac)return Ot(Ue,je(Ue,Te),He);Qt(Ue,Te)}return null}function Nt(Ue,Te,He,dt){var Wt=Te!==null?Te.key:null;if(typeof He=="string"&&He!==""||typeof He=="number"||typeof He=="bigint")return Wt!==null?null:me(Ue,Te,""+He,dt);if(typeof He=="object"&&He!==null){switch(He.$$typeof){case Kc:return He.key===Wt?Ce(Ue,Te,He,dt):null;case _l:return He.key===Wt?Je(Ue,Te,He,dt):null;case bl:return Wt=He._init,He=Wt(He._payload),Nt(Ue,Te,He,dt)}if($u(He)||s(He))return Wt!==null?null:bt(Ue,Te,He,dt,null);if(typeof He.then=="function")return Nt(Ue,Te,Yn(He),dt);if(He.$$typeof===ac)return Nt(Ue,Te,je(Ue,He),dt);Qt(Ue,He)}return null}function bn(Ue,Te,He,dt,Wt){if(typeof dt=="string"&&dt!==""||typeof dt=="number"||typeof dt=="bigint")return Ue=Ue.get(He)||null,me(Te,Ue,""+dt,Wt);if(typeof dt=="object"&&dt!==null){switch(dt.$$typeof){case Kc:return Ue=Ue.get(dt.key===null?He:dt.key)||null,Ce(Te,Ue,dt,Wt);case _l:return Ue=Ue.get(dt.key===null?He:dt.key)||null,Je(Te,Ue,dt,Wt);case bl:var qi=dt._init;return dt=qi(dt._payload),bn(Ue,Te,He,dt,Wt)}if($u(dt)||s(dt))return Ue=Ue.get(He)||null,bt(Te,Ue,dt,Wt,null);if(typeof dt.then=="function")return bn(Ue,Te,He,Yn(dt),Wt);if(dt.$$typeof===ac)return bn(Ue,Te,He,je(Te,dt),Wt);Qt(Te,dt)}return null}function Ha(Ue,Te,He,dt){for(var Wt=null,qi=null,dn=Te,ui=Te=0,cs=null;dn!==null&&ui<He.length;ui++){dn.index>ui?(cs=dn,dn=null):cs=dn.sibling;var hi=Nt(Ue,dn,He[ui],dt);if(hi===null){dn===null&&(dn=cs);break}f&&dn&&hi.alternate===null&&m(Ue,dn),Te=G(hi,Te,ui),qi===null?Wt=hi:qi.sibling=hi,qi=hi,dn=cs}if(ui===He.length)return T(Ue,dn),li&&fe(Ue,ui),Wt;if(dn===null){for(;ui<He.length;ui++)dn=Ot(Ue,He[ui],dt),dn!==null&&(Te=G(dn,Te,ui),qi===null?Wt=dn:qi.sibling=dn,qi=dn);return li&&fe(Ue,ui),Wt}for(dn=O(dn);ui<He.length;ui++)cs=bn(dn,Ue,ui,He[ui],dt),cs!==null&&(f&&cs.alternate!==null&&dn.delete(cs.key===null?ui:cs.key),Te=G(cs,Te,ui),qi===null?Wt=cs:qi.sibling=cs,qi=cs);return f&&dn.forEach(function(lu){return m(Ue,lu)}),li&&fe(Ue,ui),Wt}function tg(Ue,Te,He,dt){if(He==null)throw Error(r(151));for(var Wt=null,qi=null,dn=Te,ui=Te=0,cs=null,hi=He.next();dn!==null&&!hi.done;ui++,hi=He.next()){dn.index>ui?(cs=dn,dn=null):cs=dn.sibling;var lu=Nt(Ue,dn,hi.value,dt);if(lu===null){dn===null&&(dn=cs);break}f&&dn&&lu.alternate===null&&m(Ue,dn),Te=G(lu,Te,ui),qi===null?Wt=lu:qi.sibling=lu,qi=lu,dn=cs}if(hi.done)return T(Ue,dn),li&&fe(Ue,ui),Wt;if(dn===null){for(;!hi.done;ui++,hi=He.next())hi=Ot(Ue,hi.value,dt),hi!==null&&(Te=G(hi,Te,ui),qi===null?Wt=hi:qi.sibling=hi,qi=hi);return li&&fe(Ue,ui),Wt}for(dn=O(dn);!hi.done;ui++,hi=He.next())hi=bn(dn,Ue,ui,hi.value,dt),hi!==null&&(f&&hi.alternate!==null&&dn.delete(hi.key===null?ui:hi.key),Te=G(hi,Te,ui),qi===null?Wt=hi:qi.sibling=hi,qi=hi);return f&&dn.forEach(function(_v){return m(Ue,_v)}),li&&fe(Ue,ui),Wt}function yd(Ue,Te,He,dt){if(typeof He=="object"&&He!==null&&He.type===Bf&&He.key===null&&(He=He.props.children),typeof He=="object"&&He!==null){switch(He.$$typeof){case Kc:e:{for(var Wt=He.key;Te!==null;){if(Te.key===Wt){if(Wt=He.type,Wt===Bf){if(Te.tag===7){T(Ue,Te.sibling),dt=B(Te,He.props.children),dt.return=Ue,Ue=dt;break e}}else if(Te.elementType===Wt||typeof Wt=="object"&&Wt!==null&&Wt.$$typeof===bl&&St(Wt)===Te.type){T(Ue,Te.sibling),dt=B(Te,He.props),Bt(dt,He),dt.return=Ue,Ue=dt;break e}T(Ue,Te);break}else m(Ue,Te);Te=Te.sibling}He.type===Bf?(dt=Yc(He.props.children,Ue.mode,dt,He.key),dt.return=Ue,Ue=dt):(dt=Fo(He.type,He.key,He.props,null,Ue.mode,dt),Bt(dt,He),dt.return=Ue,Ue=dt)}return oe(Ue);case _l:e:{for(Wt=He.key;Te!==null;){if(Te.key===Wt)if(Te.tag===4&&Te.stateNode.containerInfo===He.containerInfo&&Te.stateNode.implementation===He.implementation){T(Ue,Te.sibling),dt=B(Te,He.children||[]),dt.return=Ue,Ue=dt;break e}else{T(Ue,Te);break}else m(Ue,Te);Te=Te.sibling}dt=zf(He,Ue.mode,dt),dt.return=Ue,Ue=dt}return oe(Ue);case bl:return Wt=He._init,He=Wt(He._payload),yd(Ue,Te,He,dt)}if($u(He))return Ha(Ue,Te,He,dt);if(s(He)){if(Wt=s(He),typeof Wt!="function")throw Error(r(150));return He=Wt.call(He),tg(Ue,Te,He,dt)}if(typeof He.then=="function")return yd(Ue,Te,Yn(He),dt);if(He.$$typeof===ac)return yd(Ue,Te,je(Ue,He),dt);Qt(Ue,He)}return typeof He=="string"&&He!==""||typeof He=="number"||typeof He=="bigint"?(He=""+He,Te!==null&&Te.tag===6?(T(Ue,Te.sibling),dt=B(Te,He),dt.return=Ue,Ue=dt):(T(Ue,Te),dt=ju(He,Ue.mode,dt),dt.return=Ue,Ue=dt),oe(Ue)):T(Ue,Te)}return function(Ue,Te,He,dt){try{Go=0;var Wt=yd(Ue,Te,He,dt);return dc=null,Wt}catch(dn){if(dn===Ri)throw dn;var qi=t(29,dn,null,Ue.mode);return qi.lanes=dt,qi.return=Ue,qi}finally{}}}function zn(f,m){f=Tl,w(vo,f),w(fc,m),Tl=f|m.baseLanes}function _n(){w(vo,Tl),w(fc,fc.current)}function Bn(){Tl=vo.current,b(fc),b(vo)}function ki(f){var m=f.alternate;w(Xr,Xr.current&1),w(_o,f),qo===null&&(m===null||fc.current!==null||m.memoizedState!==null)&&(qo=f)}function Is(f){if(f.tag===22){if(w(Xr,Xr.current),w(_o,f),qo===null){var m=f.alternate;m!==null&&m.memoizedState!==null&&(qo=f)}}else Ki()}function Ki(){w(Xr,Xr.current),w(_o,_o.current)}function jr(f){b(_o),qo===f&&(qo=null),b(Xr)}function Gr(f){for(var m=f;m!==null;){if(m.tag===13){var T=m.memoizedState;if(T!==null&&(T=T.dehydrated,T===null||tv(T)||Fm(T)))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if((m.flags&128)!==0)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===f)break;for(;m.sibling===null;){if(m.return===null||m.return===f)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}function pn(){throw Error(r(321))}function pr(f,m){if(m===null)return!1;for(var T=0;T<m.length&&T<f.length;T++)if(!fo(f[T],m[T]))return!1;return!0}function oa(f,m,T,O,B,G){return pc=G,In=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,nn.H=f===null||f.memoizedState===null?Yr:Ys,nu=!1,G=T(O,B),nu=!1,er&&(G=ro(m,T,O,B)),fl(f),G}function fl(f){nn.H=ci;var m=_i!==null&&_i.next!==null;if(pc=0,Rr=_i=In=null,Wo=!1,_r=0,Zf=null,m)throw Error(r(300));f===null||Or||(f=f.dependencies,f!==null&&X(f)&&(Or=!0))}function ro(f,m,T,O){In=f;var B=0;do{if(er&&(Zf=null),_r=0,er=!1,25<=B)throw Error(r(301));if(B+=1,Rr=_i=null,f.updateQueue!=null){var G=f.updateQueue;G.lastEffect=null,G.events=null,G.stores=null,G.memoCache!=null&&(G.memoCache.index=0)}nn.H=th,G=m(T,O)}while(er);return G}function gf(){var f=nn.H,m=f.useState()[0];return m=typeof m.then=="function"?Le(m):m,f=f.useState()[0],(_i!==null?_i.memoizedState:null)!==f&&(In.flags|=1024),m}function zc(){var f=Jm!==0;return Jm=0,f}function so(f,m,T){m.updateQueue=f.updateQueue,m.flags&=-2053,f.lanes&=~T}function pl(f){if(Wo){for(f=f.memoizedState;f!==null;){var m=f.queue;m!==null&&(m.pending=null),f=f.next}Wo=!1}pc=0,Rr=_i=In=null,er=!1,_r=Jm=0,Zf=null}function re(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rr===null?In.memoizedState=Rr=f:Rr=Rr.next=f,Rr}function _e(){if(_i===null){var f=In.alternate;f=f!==null?f.memoizedState:null}else f=_i.next;var m=Rr===null?In.memoizedState:Rr.next;if(m!==null)Rr=m,_i=f;else{if(f===null)throw In.alternate===null?Error(r(467)):Error(r(310));_i=f,f={memoizedState:_i.memoizedState,baseState:_i.baseState,baseQueue:_i.baseQueue,queue:_i.queue,next:null},Rr===null?In.memoizedState=Rr=f:Rr=Rr.next=f}return Rr}function Le(f){var m=_r;return _r+=1,Zf===null&&(Zf=[]),f=_t(Zf,f,m),m=In,(Rr===null?m.memoizedState:Rr.next)===null&&(m=m.alternate,nn.H=m===null||m.memoizedState===null?Yr:Ys),f}function De(f){if(f!==null&&typeof f=="object"){if(typeof f.then=="function")return Le(f);if(f.$$typeof===ac)return Ee(f)}throw Error(r(438,String(f)))}function xe(f){var m=null,T=In.updateQueue;if(T!==null&&(m=T.memoCache),m==null){var O=In.alternate;O!==null&&(O=O.updateQueue,O!==null&&(O=O.memoCache,O!=null&&(m={data:O.data.map(function(B){return B.slice()}),index:0})))}if(m==null&&(m={data:[],index:0}),T===null&&(T=dv(),In.updateQueue=T),T.memoCache=m,T=m.data[m.index],T===void 0)for(T=m.data[m.index]=Array(f),O=0;O<f;O++)T[O]=AE;return m.index++,T}function at(f,m){return typeof m=="function"?m(f):m}function Tt(f){var m=_e();return Ct(m,_i,f)}function Ct(f,m,T){var O=f.queue;if(O===null)throw Error(r(311));O.lastRenderedReducer=T;var B=f.baseQueue,G=O.pending;if(G!==null){if(B!==null){var oe=B.next;B.next=G.next,G.next=oe}m.baseQueue=B=G,O.pending=null}if(G=f.baseState,B===null)f.memoizedState=G;else{m=B.next;var me=oe=null,Ce=null,Je=m,bt=!1;do{var Ot=Je.lane&-536870913;if(Ot!==Je.lane?(Vn&Ot)===Ot:(pc&Ot)===Ot){var Nt=Je.revertLane;if(Nt===0)Ce!==null&&(Ce=Ce.next={lane:0,revertLane:0,action:Je.action,hasEagerState:Je.hasEagerState,eagerState:Je.eagerState,next:null}),Ot===za&&(bt=!0);else if((pc&Nt)===Nt){Je=Je.next,Nt===za&&(bt=!0);continue}else Ot={lane:0,revertLane:Je.revertLane,action:Je.action,hasEagerState:Je.hasEagerState,eagerState:Je.eagerState,next:null},Ce===null?(me=Ce=Ot,oe=G):Ce=Ce.next=Ot,In.lanes|=Nt,xo|=Nt;Ot=Je.action,nu&&T(G,Ot),G=Je.hasEagerState?Je.eagerState:T(G,Ot)}else Nt={lane:Ot,revertLane:Je.revertLane,action:Je.action,hasEagerState:Je.hasEagerState,eagerState:Je.eagerState,next:null},Ce===null?(me=Ce=Nt,oe=G):Ce=Ce.next=Nt,In.lanes|=Ot,xo|=Ot;Je=Je.next}while(Je!==null&&Je!==m);if(Ce===null?oe=G:Ce.next=me,!fo(G,f.memoizedState)&&(Or=!0,bt&&(T=Ju,T!==null)))throw T;f.memoizedState=G,f.baseState=oe,f.baseQueue=Ce,O.lastRenderedState=G}return B===null&&(O.lanes=0),[f.memoizedState,O.dispatch]}function Rt(f){var m=_e(),T=m.queue;if(T===null)throw Error(r(311));T.lastRenderedReducer=f;var O=T.dispatch,B=T.pending,G=m.memoizedState;if(B!==null){T.pending=null;var oe=B=B.next;do G=f(G,oe.action),oe=oe.next;while(oe!==B);fo(G,m.memoizedState)||(Or=!0),m.memoizedState=G,m.baseQueue===null&&(m.baseState=G),T.lastRenderedState=G}return[G,O]}function sn(f,m,T){var O=In,B=_e(),G=li;if(G){if(T===void 0)throw Error(r(407));T=T()}else T=m();var oe=!fo((_i||B).memoizedState,T);if(oe&&(B.memoizedState=T,Or=!0),B=B.queue,Vh(Fn.bind(null,O,B,f),[f]),B.getSnapshot!==m||oe||Rr!==null&&Rr.memoizedState.tag&1){if(O.flags|=2048,Ps(9,Gt.bind(null,O,B,T,m),{destroy:void 0},null),Wn===null)throw Error(r(349));G||(pc&60)!==0||Jt(O,m,T)}return T}function Jt(f,m,T){f.flags|=16384,f={getSnapshot:m,value:T},m=In.updateQueue,m===null?(m=dv(),In.updateQueue=m,m.stores=[f]):(T=m.stores,T===null?m.stores=[f]:T.push(f))}function Gt(f,m,T,O){m.value=T,m.getSnapshot=O,Un(m)&&xi(f)}function Fn(f,m,T){return T(function(){Un(m)&&xi(f)})}function Un(f){var m=f.getSnapshot;f=f.value;try{var T=m();return!fo(f,T)}catch{return!0}}function xi(f){var m=Ne(f,2);m!==null&&qs(m,f,2)}function $n(f){var m=re();if(typeof f=="function"){var T=f;if(f=T(),nu){$(!0);try{T()}finally{$(!1)}}}return m.memoizedState=m.baseState=f,m.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:at,lastRenderedState:f},m}function on(f,m,T,O){return f.baseState=T,Ct(f,_i,typeof O=="function"?O:at)}function $t(f,m,T,O,B){if(Yl(f))throw Error(r(485));if(f=m.action,f!==null){var G={payload:B,action:f,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(oe){G.listeners.push(oe)}};nn.T!==null?T(!0):G.isTransition=!1,O(G),T=m.pending,T===null?(G.next=m.pending=G,mr(m,G)):(G.next=T.next,m.pending=T.next=G)}}function mr(f,m){var T=m.action,O=m.payload,B=f.state;if(m.isTransition){var G=nn.T,oe={};nn.T=oe;try{var me=T(B,O),Ce=nn.S;Ce!==null&&Ce(oe,me),qn(f,m,me)}catch(Je){la(f,m,Je)}finally{nn.T=G}}else try{G=T(B,O),qn(f,m,G)}catch(Je){la(f,m,Je)}}function qn(f,m,T){T!==null&&typeof T=="object"&&typeof T.then=="function"?T.then(function(O){gs(f,m,O)},function(O){return la(f,m,O)}):gs(f,m,T)}function gs(f,m,T){m.status="fulfilled",m.value=T,rr(m),f.state=T,m=f.pending,m!==null&&(T=m.next,T===m?f.pending=null:(T=T.next,m.next=T,mr(f,T)))}function la(f,m,T){var O=f.pending;if(f.pending=null,O!==null){O=O.next;do m.status="rejected",m.reason=T,rr(m),m=m.next;while(m!==O)}f.action=null}function rr(f){f=f.listeners;for(var m=0;m<f.length;m++)(0,f[m])()}function Mi(f,m){return m}function ti(f,m){if(li){var T=Wn.formState;if(T!==null){e:{var O=In;if(li){if(ks){var B=NE(ks,jo);if(B){ks=Rb(B),O=LE(B);break e}}Ve(O)}O=!1}O&&(m=T[0])}}T=re(),T.memoizedState=T.baseState=m,O={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:m},T.queue=O,T=jh.bind(null,In,O),O.dispatch=T,O=$n(!1);var G=Xl.bind(null,In,!1,O.queue);return O=re(),B={state:m,dispatch:null,action:f,pending:null},O.queue=B,T=$t.bind(null,In,B,G,T),B.dispatch=T,O.memoizedState=f,[m,T,!1]}function wr(f){var m=_e();return qr(m,_i,f)}function qr(f,m,T){m=Ct(f,m,Mi)[0],f=Tt(at)[0],m=typeof m=="object"&&m!==null&&typeof m.then=="function"?Le(m):m;var O=_e(),B=O.queue,G=B.dispatch;return T!==O.memoizedState&&(In.flags|=2048,Ps(9,un.bind(null,B,T),{destroy:void 0},null)),[m,G,f]}function un(f,m){f.action=m}function cr(f){var m=_e(),T=_i;if(T!==null)return qr(m,T,f);_e(),m=m.memoizedState,T=_e();var O=T.queue.dispatch;return T.memoizedState=f,[m,O,!1]}function Ps(f,m,T,O){return f={tag:f,create:m,inst:T,deps:O,next:null},m=In.updateQueue,m===null&&(m=dv(),In.updateQueue=m),T=m.lastEffect,T===null?m.lastEffect=f.next=f:(O=T.next,T.next=f,f.next=O,m.lastEffect=f),f}function Cr(){return _e().memoizedState}function yf(f,m,T,O){var B=re();In.flags|=f,B.memoizedState=Ps(1|m,T,{destroy:void 0},O===void 0?null:O)}function Mu(f,m,T,O){var B=_e();O=O===void 0?null:O;var G=B.memoizedState.inst;_i!==null&&O!==null&&pr(O,_i.memoizedState.deps)?B.memoizedState=Ps(m,T,G,O):(In.flags|=f,B.memoizedState=Ps(1|m,T,G,O))}function mm(f,m){yf(8390656,8,f,m)}function Vh(f,m){Mu(2048,8,f,m)}function Ry(f,m){return Mu(4,2,f,m)}function Oy(f,m){return Mu(4,4,f,m)}function ml(f,m){if(typeof m=="function"){f=f();var T=m(f);return function(){typeof T=="function"?T():m(null)}}if(m!=null)return f=f(),m.current=f,function(){m.current=null}}function ss(f,m,T){T=T!=null?T.concat([f]):null,Mu(4,4,ml.bind(null,m,f),T)}function Ru(){}function Hh(f,m){var T=_e();m=m===void 0?null:m;var O=T.memoizedState;return m!==null&&pr(m,O[1])?O[0]:(T.memoizedState=[f,m],f)}function Wl(f,m){var T=_e();m=m===void 0?null:m;var O=T.memoizedState;if(m!==null&&pr(m,O[1]))return O[0];if(O=f(),nu){$(!0);try{f()}finally{$(!1)}}return T.memoizedState=[O,m],O}function ca(f,m,T){return T===void 0||(pc&1073741824)!==0?f.memoizedState=m:(f.memoizedState=T,f=nc(),In.lanes|=f,xo|=f,T)}function gm(f,m,T,O){return fo(T,m)?T:fc.current!==null?(f=ca(f,T,O),fo(f,m)||(Or=!0),f):(pc&42)===0?(Or=!0,f.memoizedState=T):(f=nc(),In.lanes|=f,xo|=f,m)}function vf(f,m,T,O,B){var G=os();$s(G!==0&&8>G?G:8);var oe=nn.T,me={};nn.T=me,Xl(f,!1,m,T);try{var Ce=B(),Je=nn.S;if(Je!==null&&Je(me,Ce),Ce!==null&&typeof Ce=="object"&&typeof Ce.then=="function"){var bt=zt(Ce,O);Oa(f,m,bt,fa(f))}else Oa(f,m,O,fa(f))}catch(Ot){Oa(f,m,{then:function(){},status:"rejected",reason:Ot},fa())}finally{$s(G),nn.T=oe}}function ym(f){var m=f.memoizedState;if(m!==null)return m;m={memoizedState:La,baseState:La,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:at,lastRenderedState:La},next:null};var T={};return m.next={memoizedState:T,baseState:T,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:at,lastRenderedState:T},next:null},f.memoizedState=m,f=f.alternate,f!==null&&(f.memoizedState=m),m}function Vs(){return Ee(hn)}function ko(){return _e().memoizedState}function _f(){return _e().memoizedState}function $l(f){for(var m=f.return;m!==null;){switch(m.tag){case 24:case 3:var T=fa();f=wt(T);var O=At(m,f,T);O!==null&&(qs(O,m,T),vt(O,m,T)),m={cache:pi()},f.payload=m;return}m=m.return}}function ao(f,m,T){var O=fa();T={lane:O,revertLane:0,action:T,hasEagerState:!1,eagerState:null,next:null},Yl(f)?Bc(m,T):(T=Be(f,m,T,O),T!==null&&(qs(T,f,O),ji(T,m,O)))}function jh(f,m,T){var O=fa();Oa(f,m,T,O)}function Oa(f,m,T,O){var B={lane:O,revertLane:0,action:T,hasEagerState:!1,eagerState:null,next:null};if(Yl(f))Bc(m,B);else{var G=f.alternate;if(f.lanes===0&&(G===null||G.lanes===0)&&(G=m.lastRenderedReducer,G!==null))try{var oe=m.lastRenderedState,me=G(oe,T);if(B.hasEagerState=!0,B.eagerState=me,fo(me,oe))return Oe(f,m,B,0),Wn===null&&te(),!1}catch{}finally{}if(T=Be(f,m,B,O),T!==null)return qs(T,f,O),ji(T,m,O),!0}return!1}function Xl(f,m,T,O){if(O={lane:2,revertLane:ct(),action:O,hasEagerState:!1,eagerState:null,next:null},Yl(f)){if(m)throw Error(r(479))}else m=Be(f,T,O,2),m!==null&&qs(m,f,2)}function Yl(f){var m=f.alternate;return f===In||m!==null&&m===In}function Bc(f,m){er=Wo=!0;var T=f.pending;T===null?m.next=m:(m.next=T.next,T.next=m),f.pending=m}function ji(f,m,T){if((T&4194176)!==0){var O=m.lanes;O&=f.pendingLanes,T|=O,m.lanes=T,Y(f,T)}}function ys(f,m,T,O){m=f.memoizedState,T=T(O,m),T=T==null?m:id({},m,T),f.memoizedState=T,f.lanes===0&&(f.updateQueue.baseState=T)}function Kl(f,m,T,O,B,G,oe){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(O,G,oe):m.prototype&&m.prototype.isPureReactComponent?!Fe(T,O)||!Fe(B,G):!0}function Ou(f,m,T,O){f=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(T,O),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(T,O),m.state!==f&&fv.enqueueReplaceState(m,m.state,null)}function Ia(f,m){var T=m;if("ref"in m){T={};for(var O in m)O!=="ref"&&(T[O]=m[O])}if(f=f.defaultProps){T===m&&(T=id({},T));for(var B in f)T[B]===void 0&&(T[B]=f[B])}return T}function Gh(f,m){try{var T=f.onUncaughtError;T(m.value,{componentStack:m.stack})}catch(O){setTimeout(function(){throw O})}}function Fc(f,m,T){try{var O=f.onCaughtError;O(T.value,{componentStack:T.stack,errorBoundary:m.tag===1?m.stateNode:null})}catch(B){setTimeout(function(){throw B})}}function Iu(f,m,T){return T=wt(T),T.tag=3,T.payload={element:null},T.callback=function(){Gh(f,m)},T}function Hs(f){return f=wt(f),f.tag=3,f}function Pu(f,m,T,O){var B=T.type.getDerivedStateFromError;if(typeof B=="function"){var G=O.value;f.payload=function(){return B(G)},f.callback=function(){Fc(m,T,O)}}var oe=T.stateNode;oe!==null&&typeof oe.componentDidCatch=="function"&&(f.callback=function(){Fc(m,T,O),typeof B!="function"&&(Eo===null?Eo=new Set([this]):Eo.add(this));var me=O.stack;this.componentDidCatch(O.value,{componentStack:me!==null?me:""})})}function Iy(f,m,T,O,B){if(T.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){if(m=T.alternate,m!==null&&j(m,T,B,!0),T=_o.current,T!==null){switch(T.tag){case 13:return qo===null?Na():T.alternate===null&&ii===0&&(ii=3),T.flags&=-257,T.flags|=65536,T.lanes=B,O===hv?T.flags|=16384:(m=T.updateQueue,m===null?T.updateQueue=new Set([O]):m.add(O),jy(f,O,B)),!1;case 22:return T.flags|=65536,O===hv?T.flags|=16384:(m=T.updateQueue,m===null?(m={transitions:null,markerInstances:null,retryQueue:new Set([O])},T.updateQueue=m):(T=m.retryQueue,T===null?m.retryQueue=new Set([O]):T.add(O)),jy(f,O,B)),!1}throw Error(r(435,T.tag))}return jy(f,O,B),Na(),!1}if(li)return m=_o.current,m!==null?((m.flags&65536)===0&&(m.flags|=256),m.flags|=65536,m.lanes=B,O!==Xm&&(f=Error(r(422),{cause:O}),mt(se(f,T)))):(O!==Xm&&(m=Error(r(423),{cause:O}),mt(se(m,T))),f=f.current.alternate,f.flags|=65536,B&=-B,f.lanes|=B,O=se(O,T),B=Iu(f.stateNode,O,B),jt(f,B),ii!==4&&(ii=2)),!1;var G=Error(r(520),{cause:O});if(G=se(G,T),Jf===null?Jf=[G]:Jf.push(G),ii!==4&&(ii=2),m===null)return!0;O=se(O,T),T=m;do{switch(T.tag){case 3:return T.flags|=65536,f=B&-B,T.lanes|=f,f=Iu(T.stateNode,O,f),jt(T,f),!1;case 1:if(m=T.type,G=T.stateNode,(T.flags&128)===0&&(typeof m.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(Eo===null||!Eo.has(G))))return T.flags|=65536,B&=-B,T.lanes|=B,B=Hs(B),Pu(B,f,T,O),jt(T,B),!1}T=T.return}while(T!==null);return!1}function ur(f,m,T,O){m.child=f===null?Gb(m,null,T,O):eh(m,f.child,T,O)}function vm(f,m,T,O,B){T=T.render;var G=m.ref;if("ref"in O){var oe={};for(var me in O)me!=="ref"&&(oe[me]=O[me])}else oe=O;return ce(m),O=oa(f,m,T,oe,G,B),me=zc(),f!==null&&!Or?(so(f,m,B),zo(f,m,B)):(li&&me&&le(m),m.flags|=1,ur(f,m,O,B),m.child)}function bf(f,m,T,O,B){if(f===null){var G=T.type;return typeof G=="function"&&!$c(G)&&G.defaultProps===void 0&&T.compare===null?(m.tag=15,m.type=G,Vc(f,m,G,O,B)):(f=Fo(T.type,null,O,m,m.mode,B),f.ref=m.ref,f.return=m,m.child=f)}if(G=f.child,!wf(f,B)){var oe=G.memoizedProps;if(T=T.compare,T=T!==null?T:Fe,T(oe,O)&&f.ref===m.ref)return zo(f,m,B)}return m.flags|=1,f=Ws(G,O),f.ref=m.ref,f.return=m,m.child=f}function Vc(f,m,T,O,B){if(f!==null){var G=f.memoizedProps;if(Fe(G,O)&&f.ref===m.ref)if(Or=!1,m.pendingProps=O=G,wf(f,B))(f.flags&131072)!==0&&(Or=!0);else return m.lanes=f.lanes,zo(f,m,B)}return xf(f,m,T,O,B)}function _m(f,m,T){var O=m.pendingProps,B=O.children,G=(m.stateNode._pendingVisibility&2)!==0,oe=f!==null?f.memoizedState:null;if(Wh(f,m),O.mode==="hidden"||G){if((m.flags&128)!==0){if(O=oe!==null?oe.baseLanes|T:T,f!==null){for(B=m.child=f.child,G=0;B!==null;)G=G|B.lanes|B.childLanes,B=B.sibling;m.childLanes=G&~O}else m.childLanes=0,m.child=null;return qh(f,m,O,T)}if((T&536870912)!==0)m.memoizedState={baseLanes:0,cachePool:null},f!==null&&Ar(m,oe!==null?oe.cachePool:null),oe!==null?zn(m,oe):_n(),Is(m);else return m.lanes=m.childLanes=536870912,qh(f,m,oe!==null?oe.baseLanes|T:T,T)}else oe!==null?(Ar(m,oe.cachePool),zn(m,oe),Ki(),m.memoizedState=null):(f!==null&&Ar(m,null),_n(),Ki());return ur(f,m,B,T),m.child}function qh(f,m,T,O){var B=On();return B=B===null?null:{parent:lc?Si._currentValue:Si._currentValue2,pool:B},m.memoizedState={baseLanes:T,cachePool:B},f!==null&&Ar(m,null),_n(),Is(m),f!==null&&j(f,m,O,!0),null}function Wh(f,m){var T=m.ref;if(T===null)f!==null&&f.ref!==null&&(m.flags|=2097664);else{if(typeof T!="function"&&typeof T!="object")throw Error(r(284));(f===null||f.ref!==T)&&(m.flags|=2097664)}}function xf(f,m,T,O,B){return ce(m),T=oa(f,m,T,O,void 0,B),O=zc(),f!==null&&!Or?(so(f,m,B),zo(f,m,B)):(li&&O&&le(m),m.flags|=1,ur(f,m,T,B),m.child)}function Du(f,m,T,O,B,G){return ce(m),m.updateQueue=null,T=ro(m,O,T,B),fl(f),O=zc(),f!==null&&!Or?(so(f,m,G),zo(f,m,G)):(li&&O&&le(m),m.flags|=1,ur(f,m,T,G),m.child)}function Sf(f,m,T,O,B){if(ce(m),m.stateNode===null){var G=ld,oe=T.contextType;typeof oe=="object"&&oe!==null&&(G=Ee(oe)),G=new T(O,G),m.memoizedState=G.state!==null&&G.state!==void 0?G.state:null,G.updater=fv,m.stateNode=G,G._reactInternals=m,G=m.stateNode,G.props=O,G.state=m.memoizedState,G.refs={},$e(m),oe=T.contextType,G.context=typeof oe=="object"&&oe!==null?Ee(oe):ld,G.state=m.memoizedState,oe=T.getDerivedStateFromProps,typeof oe=="function"&&(ys(m,T,oe,O),G.state=m.memoizedState),typeof T.getDerivedStateFromProps=="function"||typeof G.getSnapshotBeforeUpdate=="function"||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(oe=G.state,typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount(),oe!==G.state&&fv.enqueueReplaceState(G,G.state,null),Lt(m,O,G,B),ot(),G.state=m.memoizedState),typeof G.componentDidMount=="function"&&(m.flags|=4194308),O=!0}else if(f===null){G=m.stateNode;var me=m.memoizedProps,Ce=Ia(T,me);G.props=Ce;var Je=G.context,bt=T.contextType;oe=ld,typeof bt=="object"&&bt!==null&&(oe=Ee(bt));var Ot=T.getDerivedStateFromProps;bt=typeof Ot=="function"||typeof G.getSnapshotBeforeUpdate=="function",me=m.pendingProps!==me,bt||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(me||Je!==oe)&&Ou(m,G,O,oe),tu=!1;var Nt=m.memoizedState;G.state=Nt,Lt(m,O,G,B),ot(),Je=m.memoizedState,me||Nt!==Je||tu?(typeof Ot=="function"&&(ys(m,T,Ot,O),Je=m.memoizedState),(Ce=tu||Kl(m,T,Ce,O,Nt,Je,oe))?(bt||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount()),typeof G.componentDidMount=="function"&&(m.flags|=4194308)):(typeof G.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=O,m.memoizedState=Je),G.props=O,G.state=Je,G.context=oe,O=Ce):(typeof G.componentDidMount=="function"&&(m.flags|=4194308),O=!1)}else{G=m.stateNode,pt(f,m),oe=m.memoizedProps,bt=Ia(T,oe),G.props=bt,Ot=m.pendingProps,Nt=G.context,Je=T.contextType,Ce=ld,typeof Je=="object"&&Je!==null&&(Ce=Ee(Je)),me=T.getDerivedStateFromProps,(Je=typeof me=="function"||typeof G.getSnapshotBeforeUpdate=="function")||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(oe!==Ot||Nt!==Ce)&&Ou(m,G,O,Ce),tu=!1,Nt=m.memoizedState,G.state=Nt,Lt(m,O,G,B),ot();var bn=m.memoizedState;oe!==Ot||Nt!==bn||tu||f!==null&&f.dependencies!==null&&X(f.dependencies)?(typeof me=="function"&&(ys(m,T,me,O),bn=m.memoizedState),(bt=tu||Kl(m,T,bt,O,Nt,bn,Ce)||f!==null&&f.dependencies!==null&&X(f.dependencies))?(Je||typeof G.UNSAFE_componentWillUpdate!="function"&&typeof G.componentWillUpdate!="function"||(typeof G.componentWillUpdate=="function"&&G.componentWillUpdate(O,bn,Ce),typeof G.UNSAFE_componentWillUpdate=="function"&&G.UNSAFE_componentWillUpdate(O,bn,Ce)),typeof G.componentDidUpdate=="function"&&(m.flags|=4),typeof G.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof G.componentDidUpdate!="function"||oe===f.memoizedProps&&Nt===f.memoizedState||(m.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||oe===f.memoizedProps&&Nt===f.memoizedState||(m.flags|=1024),m.memoizedProps=O,m.memoizedState=bn),G.props=O,G.state=bn,G.context=Ce,O=bt):(typeof G.componentDidUpdate!="function"||oe===f.memoizedProps&&Nt===f.memoizedState||(m.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||oe===f.memoizedProps&&Nt===f.memoizedState||(m.flags|=1024),O=!1)}return G=O,Wh(f,m),O=(m.flags&128)!==0,G||O?(G=m.stateNode,T=O&&typeof T.getDerivedStateFromError!="function"?null:G.render(),m.flags|=1,f!==null&&O?(m.child=eh(m,f.child,null,B),m.child=eh(m,null,T,B)):ur(f,m,T,B),m.memoizedState=G.state,f=m.child):f=zo(f,m,B),f}function bm(f,m,T,O){return lt(),m.flags|=256,ur(f,m,T,O),m.child}function $h(f){return{baseLanes:f,cachePool:as()}}function Xh(f,m,T){return f=f!==null?f.childLanes&~T:0,m&&(f|=Va),f}function xm(f,m,T){var O=m.pendingProps,B=!1,G=(m.flags&128)!==0,oe;if((oe=G)||(oe=f!==null&&f.memoizedState===null?!1:(Xr.current&2)!==0),oe&&(B=!0,m.flags&=-129),oe=(m.flags&32)!==0,m.flags&=-33,f===null){if(li){if(B?ki(m):Ki(),li){var me=ks,Ce;(Ce=me)&&(me=FE(me,jo),me!==null?(m.memoizedState={dehydrated:me,treeContext:xl!==null?{id:hc,overflow:Ho}:null,retryLane:536870912},Ce=t(18,null,null,0),Ce.stateNode=me,Ce.return=m,m.child=Ce,Xs=m,ks=null,Ce=!0):Ce=!1),Ce||Ve(m)}if(me=m.memoizedState,me!==null&&(me=me.dehydrated,me!==null))return Fm(me)?m.lanes=16:m.lanes=536870912,null;jr(m)}return me=O.children,O=O.fallback,B?(Ki(),B=m.mode,me=Ef({mode:"hidden",children:me},B),O=Yc(O,B,T,null),me.return=m,O.return=m,me.sibling=O,m.child=me,B=m.child,B.memoizedState=$h(T),B.childLanes=Xh(f,oe,T),m.memoizedState=Ks,O):(ki(m),Zl(m,me))}if(Ce=f.memoizedState,Ce!==null&&(me=Ce.dehydrated,me!==null)){if(G)m.flags&256?(ki(m),m.flags&=-257,m=Tf(f,m,T)):m.memoizedState!==null?(Ki(),m.child=f.child,m.flags|=128,m=null):(Ki(),B=O.fallback,me=m.mode,O=Ef({mode:"visible",children:O.children},me),B=Yc(B,me,T,null),B.flags|=2,O.return=m,B.return=m,O.sibling=B,m.child=O,eh(m,f.child,null,T),O=m.child,O.memoizedState=$h(T),O.childLanes=Xh(f,oe,T),m.memoizedState=Ks,m=B);else if(ki(m),Fm(me))oe=DE(me).digest,O=Error(r(419)),O.stack="",O.digest=oe,mt({value:O,source:null,stack:null}),m=Tf(f,m,T);else if(Or||j(f,m,T,!1),oe=(T&f.childLanes)!==0,Or||oe){if(oe=Wn,oe!==null){if(O=T&-T,(O&42)!==0)O=1;else switch(O){case 2:O=1;break;case 8:O=4;break;case 32:O=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:O=64;break;case 268435456:O=134217728;break;default:O=0}if(O=(O&(oe.suspendedLanes|T))!==0?0:O,O!==0&&O!==Ce.retryLane)throw Ce.retryLane=O,Ne(f,O),qs(oe,f,O),tT}tv(me)||Na(),m=Tf(f,m,T)}else tv(me)?(m.flags|=128,m.child=f.child,m=td.bind(null,f),SR(me,m),m=null):(f=Ce.treeContext,pa&&(ks=kE(me),Xs=m,li=!0,go=null,jo=!1,f!==null&&(po[mo++]=hc,po[mo++]=Ho,po[mo++]=xl,hc=f.id,Ho=f.overflow,xl=m)),m=Zl(m,O.children),m.flags|=4096);return m}return B?(Ki(),B=O.fallback,me=m.mode,Ce=f.child,G=Ce.sibling,O=Ws(Ce,{mode:"hidden",children:O.children}),O.subtreeFlags=Ce.subtreeFlags&31457280,G!==null?B=Ws(G,B):(B=Yc(B,me,T,null),B.flags|=2),B.return=m,O.return=m,O.sibling=B,m.child=O,O=B,B=m.child,me=f.child.memoizedState,me===null?me=$h(T):(Ce=me.cachePool,Ce!==null?(G=lc?Si._currentValue:Si._currentValue2,Ce=Ce.parent!==G?{parent:G,pool:G}:Ce):Ce=as(),me={baseLanes:me.baseLanes|T,cachePool:Ce}),B.memoizedState=me,B.childLanes=Xh(f,oe,T),m.memoizedState=Ks,O):(ki(m),T=f.child,f=T.sibling,T=Ws(T,{mode:"visible",children:O.children}),T.return=m,T.sibling=null,f!==null&&(oe=m.deletions,oe===null?(m.deletions=[f],m.flags|=16):oe.push(f)),m.child=T,m.memoizedState=null,T)}function Zl(f,m){return m=Ef({mode:"visible",children:m},f.mode),m.return=f,f.child=m}function Ef(f,m){return Gy(f,m,0,null)}function Tf(f,m,T){return eh(m,f.child,null,T),f=Zl(m,m.pendingProps.children),f.flags|=2,m.memoizedState=null,f}function Ql(f,m,T){f.lanes|=m;var O=f.alternate;O!==null&&(O.lanes|=m),Jl(f.return,m,T)}function Yh(f,m,T,O,B){var G=f.memoizedState;G===null?f.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:O,tail:T,tailMode:B}:(G.isBackwards=m,G.rendering=null,G.renderingStartTime=0,G.last=O,G.tail=T,G.tailMode=B)}function Sm(f,m,T){var O=m.pendingProps,B=O.revealOrder,G=O.tail;if(ur(f,m,O.children,T),O=Xr.current,(O&2)!==0)O=O&1|2,m.flags|=128;else{if(f!==null&&(f.flags&128)!==0)e:for(f=m.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&Ql(f,T,m);else if(f.tag===19)Ql(f,T,m);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===m)break e;for(;f.sibling===null;){if(f.return===null||f.return===m)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}O&=1}switch(w(Xr,O),B){case"forwards":for(T=m.child,B=null;T!==null;)f=T.alternate,f!==null&&Gr(f)===null&&(B=T),T=T.sibling;T=B,T===null?(B=m.child,m.child=null):(B=T.sibling,T.sibling=null),Yh(m,!1,B,T,G);break;case"backwards":for(T=null,B=m.child,m.child=null;B!==null;){if(f=B.alternate,f!==null&&Gr(f)===null){m.child=B;break}f=B.sibling,B.sibling=T,T=B,B=f}Yh(m,!0,T,null,G);break;case"together":Yh(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function zo(f,m,T){if(f!==null&&(m.dependencies=f.dependencies),xo|=m.lanes,(T&m.childLanes)===0)if(f!==null){if(j(f,m,T,!1),(T&m.childLanes)===0)return null}else return null;if(f!==null&&m.child!==f.child)throw Error(r(153));if(m.child!==null){for(f=m.child,T=Ws(f,f.pendingProps),m.child=T,T.return=m;f.sibling!==null;)f=f.sibling,T=T.sibling=Ws(f,f.pendingProps),T.return=m;T.sibling=null}return m.child}function wf(f,m){return(f.lanes&m)!==0?!0:(f=f.dependencies,!!(f!==null&&X(f)))}function Cf(f,m,T){switch(m.tag){case 3:ue(m,m.stateNode.containerInfo),gl(m,Si,f.memoizedState.cache),lt();break;case 27:case 5:de(m);break;case 4:ue(m,m.stateNode.containerInfo);break;case 10:gl(m,m.type,m.memoizedProps.value);break;case 13:var O=m.memoizedState;if(O!==null)return O.dehydrated!==null?(ki(m),m.flags|=128,null):(T&m.child.childLanes)!==0?xm(f,m,T):(ki(m),f=zo(f,m,T),f!==null?f.sibling:null);ki(m);break;case 19:var B=(f.flags&128)!==0;if(O=(T&m.childLanes)!==0,O||(j(f,m,T,!1),O=(T&m.childLanes)!==0),B){if(O)return Sm(f,m,T);m.flags|=128}if(B=m.memoizedState,B!==null&&(B.rendering=null,B.tail=null,B.lastEffect=null),w(Xr,Xr.current),O)break;return null;case 22:case 23:return m.lanes=0,_m(f,m,T);case 24:gl(m,Si,f.memoizedState.cache)}return zo(f,m,T)}function js(f,m,T){if(f!==null)if(f.memoizedProps!==m.pendingProps)Or=!0;else{if(!wf(f,T)&&(m.flags&128)===0)return Or=!1,Cf(f,m,T);Or=(f.flags&131072)!==0}else Or=!1,li&&(m.flags&1048576)!==0&&K(m,Wm,m.index);switch(m.lanes=0,m.tag){case 16:e:{f=m.pendingProps;var O=m.elementType,B=O._init;if(O=B(O._payload),m.type=O,typeof O=="function")$c(O)?(f=Ia(O,f),m.tag=1,m=Sf(null,m,O,f,T)):(m.tag=0,m=xf(null,m,O,f,T));else{if(O!=null){if(B=O.$$typeof,B===Ff){m.tag=11,m=vm(null,m,O,f,T);break e}else if(B===Pm){m.tag=14,m=bf(null,m,O,f,T);break e}}throw m=a(O)||O,Error(r(306,m,""))}}return m;case 0:return xf(f,m,m.type,m.pendingProps,T);case 1:return O=m.type,B=Ia(O,m.pendingProps),Sf(f,m,O,B,T);case 3:e:{if(ue(m,m.stateNode.containerInfo),f===null)throw Error(r(387));var G=m.pendingProps;B=m.memoizedState,O=B.element,pt(f,m),Lt(m,G,null,T);var oe=m.memoizedState;if(G=oe.cache,gl(m,Si,G),G!==B.cache&&M(m,[Si],T,!0),ot(),G=oe.element,pa&&B.isDehydrated)if(B={element:G,isDehydrated:!1,cache:oe.cache},m.updateQueue.baseState=B,m.memoizedState=B,m.flags&256){m=bm(f,m,G,T);break e}else if(G!==O){O=se(Error(r(424)),m),mt(O),m=bm(f,m,G,T);break e}else for(pa&&(ks=UE(m.stateNode.containerInfo),Xs=m,li=!0,go=null,jo=!0),T=Gb(m,null,G,T),m.child=T;T;)T.flags=T.flags&-3|4096,T=T.sibling;else{if(lt(),G===O){m=zo(f,m,T);break e}ur(f,m,G,T)}m=m.child}return m;case 26:if(ho)return Wh(f,m),f===null?(T=av(m.type,null,m.pendingProps,null))?m.memoizedState=T:li||(m.stateNode=TR(m.type,m.pendingProps,Sl.current,m)):m.memoizedState=av(m.type,f.memoizedProps,m.pendingProps,f.memoizedState),null;case 27:if(Ls)return de(m),f===null&&Ls&&li&&(O=m.stateNode=Fb(m.type,m.pendingProps,Sl.current,Ss.current,!1),Xs=m,jo=!0,ks=nv(O)),O=m.pendingProps.children,f!==null||li?ur(f,m,O,T):m.child=eh(m,null,O,T),Wh(f,m),m.child;case 5:return f===null&&li&&(qE(m.type,m.pendingProps,Ss.current),(B=O=ks)&&(O=zE(O,m.type,m.pendingProps,jo),O!==null?(m.stateNode=O,Xs=m,ks=nv(O),jo=!1,B=!0):B=!1),B||Ve(m)),de(m),B=m.type,G=m.pendingProps,oe=f!==null?f.memoizedProps:null,O=G.children,Yu(B,G)?O=null:oe!==null&&Yu(B,oe)&&(m.flags|=32),m.memoizedState!==null&&(B=oa(f,m,gf,null,null,T),lc?hn._currentValue=B:hn._currentValue2=B),Wh(f,m),ur(f,m,O,T),m.child;case 6:return f===null&&li&&(WE(m.pendingProps,Ss.current),(f=T=ks)&&(T=BE(T,m.pendingProps,jo),T!==null?(m.stateNode=T,Xs=m,ks=null,f=!0):f=!1),f||Ve(m)),null;case 13:return xm(f,m,T);case 4:return ue(m,m.stateNode.containerInfo),O=m.pendingProps,f===null?m.child=eh(m,null,O,T):ur(f,m,O,T),m.child;case 11:return vm(f,m,m.type,m.pendingProps,T);case 7:return ur(f,m,m.pendingProps,T),m.child;case 8:return ur(f,m,m.pendingProps.children,T),m.child;case 12:return ur(f,m,m.pendingProps.children,T),m.child;case 10:return O=m.pendingProps,gl(m,m.type,O.value),ur(f,m,O.children,T),m.child;case 9:return B=m.type._context,O=m.pendingProps.children,ce(m),B=Ee(B),O=O(B),m.flags|=1,ur(f,m,O,T),m.child;case 14:return bf(f,m,m.type,m.pendingProps,T);case 15:return Vc(f,m,m.type,m.pendingProps,T);case 19:return Sm(f,m,T);case 22:return _m(f,m,T);case 24:return ce(m),O=Ee(Si),f===null?(B=On(),B===null&&(B=Wn,G=pi(),B.pooledCache=G,G.refCount++,G!==null&&(B.pooledCacheLanes|=T),B=G),m.memoizedState={parent:O,cache:B},$e(m),gl(m,Si,B)):((f.lanes&T)!==0&&(pt(f,m),Lt(m,null,null,T),ot()),B=f.memoizedState,G=m.memoizedState,B.parent!==O?(B={parent:O,cache:O},m.memoizedState=B,m.lanes===0&&(m.memoizedState=m.updateQueue.baseState=B),gl(m,Si,O)):(O=G.cache,gl(m,Si,O),O!==B.cache&&M(m,[Si],T,!0))),ur(f,m,m.pendingProps.children,T),m.child;case 29:throw m.pendingProps}throw Error(r(156,m.tag))}function gl(f,m,T){lc?(w(Ba,m._currentValue),m._currentValue=T):(w(Ba,m._currentValue2),m._currentValue2=T)}function Bo(f){var m=Ba.current;lc?f._currentValue=m:f._currentValue2=m,b(Ba)}function Jl(f,m,T){for(;f!==null;){var O=f.alternate;if((f.childLanes&m)!==m?(f.childLanes|=m,O!==null&&(O.childLanes|=m)):O!==null&&(O.childLanes&m)!==m&&(O.childLanes|=m),f===T)break;f=f.return}}function M(f,m,T,O){var B=f.child;for(B!==null&&(B.return=f);B!==null;){var G=B.dependencies;if(G!==null){var oe=B.child;G=G.firstContext;e:for(;G!==null;){var me=G;G=B;for(var Ce=0;Ce<m.length;Ce++)if(me.context===m[Ce]){G.lanes|=T,me=G.alternate,me!==null&&(me.lanes|=T),Jl(G.return,T,f),O||(oe=null);break e}G=me.next}}else if(B.tag===18){if(oe=B.return,oe===null)throw Error(r(341));oe.lanes|=T,G=oe.alternate,G!==null&&(G.lanes|=T),Jl(oe,T,f),oe=null}else oe=B.child;if(oe!==null)oe.return=B;else for(oe=B;oe!==null;){if(oe===f){oe=null;break}if(B=oe.sibling,B!==null){B.return=oe.return,oe=B;break}oe=oe.return}B=oe}}function j(f,m,T,O){f=null;for(var B=m,G=!1;B!==null;){if(!G){if((B.flags&524288)!==0)G=!0;else if((B.flags&262144)!==0)break}if(B.tag===10){var oe=B.alternate;if(oe===null)throw Error(r(387));if(oe=oe.memoizedProps,oe!==null){var me=B.type;fo(B.pendingProps.value,oe.value)||(f!==null?f.push(me):f=[me])}}else if(B===$f.current){if(oe=B.alternate,oe===null)throw Error(r(387));oe.memoizedState.memoizedState!==B.memoizedState.memoizedState&&(f!==null?f.push(hn):f=[hn])}B=B.return}f!==null&&M(m,f,T,O),m.flags|=262144}function X(f){for(f=f.firstContext;f!==null;){var m=f.context;if(!fo(lc?m._currentValue:m._currentValue2,f.memoizedValue))return!0;f=f.next}return!1}function ce(f){nh=f,br=null,f=f.dependencies,f!==null&&(f.firstContext=null)}function Ee(f){return Et(nh,f)}function je(f,m){return nh===null&&ce(f),Et(f,m)}function Et(f,m){var T=lc?m._currentValue:m._currentValue2;if(m={context:m,memoizedValue:T,next:null},br===null){if(f===null)throw Error(r(308));br=m,f.dependencies={lanes:0,firstContext:m},f.flags|=524288}else br=br.next=m;return T}function pi(){return{controller:new nT,data:new Map,refCount:0}}function sr(f){f.refCount--,f.refCount===0&&iu(hd,function(){f.controller.abort()})}function On(){var f=ru.current;return f!==null?f:Wn.pooledCache}function Ar(f,m){m===null?w(ru,ru.current):w(ru,m.pool)}function as(){var f=On();return f===null?null:{parent:lc?Si._currentValue:Si._currentValue2,pool:f}}function Wr(f){f.flags|=4}function ua(f,m){if(f!==null&&f.child===m.child)return!1;if((m.flags&16)!==0)return!0;for(f=m.child;f!==null;){if((f.flags&13878)!==0||(f.subtreeFlags&13878)!==0)return!0;f=f.sibling}return!1}function Hc(f,m,T,O){if(Ns)for(T=m.child;T!==null;){if(T.tag===5||T.tag===6)oc(f,T.stateNode);else if(!(T.tag===4||Ls&&T.tag===27)&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===m)break;for(;T.sibling===null;){if(T.return===null||T.return===m)return;T=T.return}T.sibling.return=T.return,T=T.sibling}else if(co)for(var B=m.child;B!==null;){if(B.tag===5){var G=B.stateNode;T&&O&&(G=Ab(G,B.type,B.memoizedProps)),oc(f,G)}else if(B.tag===6)G=B.stateNode,T&&O&&(G=Mb(G,B.memoizedProps)),oc(f,G);else if(B.tag!==4){if(B.tag===22&&B.memoizedState!==null)G=B.child,G!==null&&(G.return=B),Hc(f,B,!0,!0);else if(B.child!==null){B.child.return=B,B=B.child;continue}}if(B===m)break;for(;B.sibling===null;){if(B.return===null||B.return===m)return;B=B.return}B.sibling.return=B.return,B=B.sibling}}function ec(f,m,T,O){if(co)for(var B=m.child;B!==null;){if(B.tag===5){var G=B.stateNode;T&&O&&(G=Ab(G,B.type,B.memoizedProps)),wb(f,G)}else if(B.tag===6)G=B.stateNode,T&&O&&(G=Mb(G,B.memoizedProps)),wb(f,G);else if(B.tag!==4){if(B.tag===22&&B.memoizedState!==null)G=B.child,G!==null&&(G.return=B),ec(f,B,!(B.memoizedProps!==null&&B.memoizedProps.mode==="manual"),!0);else if(B.child!==null){B.child.return=B,B=B.child;continue}}if(B===m)break;for(;B.sibling===null;){if(B.return===null||B.return===m)return;B=B.return}B.sibling.return=B.return,B=B.sibling}}function Af(f,m){if(co&&ua(f,m)){f=m.stateNode;var T=f.containerInfo,O=ev();ec(O,m,!1,!1),f.pendingChildren=O,Wr(m),PE(T,O)}}function $_(f,m,T,O){if(Ns)f.memoizedProps!==O&&Wr(m);else if(co){var B=f.stateNode,G=f.memoizedProps;if((f=ua(f,m))||G!==O){var oe=Ss.current;G=Tb(B,T,G,O,!f,null),G===B?m.stateNode=B:(Zc(G,T,O,oe)&&Wr(m),m.stateNode=G,f?Hc(G,m,!1,!1):Wr(m))}else m.stateNode=B}}function Mf(f,m,T){if(RE(m,T)){if(f.flags|=16777216,!Qc(m,T))if(Mm())f.flags|=8192;else throw ud=hv,jb}else f.flags&=-16777217}function X_(f,m){if($E(m)){if(f.flags|=16777216,!zb(m))if(Mm())f.flags|=8192;else throw ud=hv,jb}else f.flags&=-16777217}function Em(f,m){m!==null&&(f.flags|=4),f.flags&16384&&(m=f.tag!==22?P():536870912,f.lanes|=m,au|=m)}function Kh(f,m){if(!li)switch(f.tailMode){case"hidden":m=f.tail;for(var T=null;m!==null;)m.alternate!==null&&(T=m),m=m.sibling;T===null?f.tail=null:T.sibling=null;break;case"collapsed":T=f.tail;for(var O=null;T!==null;)T.alternate!==null&&(O=T),T=T.sibling;O===null?m||f.tail===null?f.tail=null:f.tail.sibling=null:O.sibling=null}}function Zi(f){var m=f.alternate!==null&&f.alternate.child===f.child,T=0,O=0;if(m)for(var B=f.child;B!==null;)T|=B.lanes|B.childLanes,O|=B.subtreeFlags&31457280,O|=B.flags&31457280,B.return=f,B=B.sibling;else for(B=f.child;B!==null;)T|=B.lanes|B.childLanes,O|=B.subtreeFlags,O|=B.flags,B.return=f,B=B.sibling;return f.subtreeFlags|=O,f.childLanes=T,m}function gE(f,m,T){var O=m.pendingProps;switch(pe(m),m.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zi(m),null;case 1:return Zi(m),null;case 3:return T=m.stateNode,O=null,f!==null&&(O=f.memoizedState.cache),m.memoizedState.cache!==O&&(m.flags|=2048),Bo(Si),ie(),T.pendingContext&&(T.context=T.pendingContext,T.pendingContext=null),(f===null||f.child===null)&&(st(m)?Wr(m):f===null||f.memoizedState.isDehydrated&&(m.flags&256)===0||(m.flags|=1024,go!==null&&(Gc(go),go=null))),Af(f,m),Zi(m),null;case 26:if(ho){T=m.type;var B=m.memoizedState;return f===null?(Wr(m),B!==null?(Zi(m),X_(m,B)):(Zi(m),Mf(m,T,O))):B?B!==f.memoizedState?(Wr(m),Zi(m),X_(m,B)):(Zi(m),m.flags&=-16777217):(Ns?f.memoizedProps!==O&&Wr(m):$_(f,m,T,O),Zi(m),Mf(m,T,O)),null}case 27:if(Ls){if(ye(m),T=Sl.current,B=m.type,f!==null&&m.stateNode!=null)Ns?f.memoizedProps!==O&&Wr(m):$_(f,m,B,O);else{if(!O){if(m.stateNode===null)throw Error(r(166));return Zi(m),null}f=Ss.current,st(m)?Xe(m,f):(f=Fb(B,O,T,f,!0),m.stateNode=f,Wr(m))}return Zi(m),null}case 5:if(ye(m),T=m.type,f!==null&&m.stateNode!=null)$_(f,m,T,O);else{if(!O){if(m.stateNode===null)throw Error(r(166));return Zi(m),null}f=Ss.current,st(m)?Xe(m,f):(B=fb(T,O,Sl.current,f,m),Hc(B,m,!1,!1),m.stateNode=B,Zc(B,T,O,f)&&Wr(m))}return Zi(m),Mf(m,m.type,m.pendingProps),null;case 6:if(f&&m.stateNode!=null)T=f.memoizedProps,Ns?T!==O&&Wr(m):co&&(T!==O?(m.stateNode=Xy(O,Sl.current,Ss.current,m),Wr(m)):m.stateNode=f.stateNode);else{if(typeof O!="string"&&m.stateNode===null)throw Error(r(166));if(f=Sl.current,T=Ss.current,st(m)){if(!pa)throw Error(r(176));if(f=m.stateNode,T=m.memoizedProps,O=null,B=Xs,B!==null)switch(B.tag){case 27:case 5:O=B.memoizedProps}VE(f,T,m,O)||Ve(m)}else m.stateNode=Xy(O,f,T,m)}return Zi(m),null;case 13:if(O=m.memoizedState,f===null||f.memoizedState!==null&&f.memoizedState.dehydrated!==null){if(B=st(m),O!==null&&O.dehydrated!==null){if(f===null){if(!B)throw Error(r(318));if(!pa)throw Error(r(344));if(B=m.memoizedState,B=B!==null?B.dehydrated:null,!B)throw Error(r(317));Hf(B,m)}else lt(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;Zi(m),B=!1}else go!==null&&(Gc(go),go=null),B=!0;if(!B)return m.flags&256?(jr(m),m):(jr(m),null)}if(jr(m),(m.flags&128)!==0)return m.lanes=T,m;if(T=O!==null,f=f!==null&&f.memoizedState!==null,T){O=m.child,B=null,O.alternate!==null&&O.alternate.memoizedState!==null&&O.alternate.memoizedState.cachePool!==null&&(B=O.alternate.memoizedState.cachePool.pool);var G=null;O.memoizedState!==null&&O.memoizedState.cachePool!==null&&(G=O.memoizedState.cachePool.pool),G!==B&&(O.flags|=2048)}return T!==f&&T&&(m.child.flags|=8192),Em(m,m.updateQueue),Zi(m),null;case 4:return ie(),Af(f,m),f===null&&gb(m.stateNode.containerInfo),Zi(m),null;case 10:return Bo(m.type),Zi(m),null;case 19:if(b(Xr),B=m.memoizedState,B===null)return Zi(m),null;if(O=(m.flags&128)!==0,G=B.rendering,G===null)if(O)Kh(B,!1);else{if(ii!==0||f!==null&&(f.flags&128)!==0)for(f=m.child;f!==null;){if(G=Gr(f),G!==null){for(m.flags|=128,Kh(B,!1),f=G.updateQueue,m.updateQueue=f,Em(m,f),m.subtreeFlags=0,f=T,T=m.child;T!==null;)Xc(T,f),T=T.sibling;return w(Xr,Xr.current&1|2),m.child}f=f.sibling}B.tail!==null&&Us()>dr&&(m.flags|=128,O=!0,Kh(B,!1),m.lanes=4194304)}else{if(!O)if(f=Gr(G),f!==null){if(m.flags|=128,O=!0,f=f.updateQueue,m.updateQueue=f,Em(m,f),Kh(B,!0),B.tail===null&&B.tailMode==="hidden"&&!G.alternate&&!li)return Zi(m),null}else 2*Us()-B.renderingStartTime>dr&&T!==536870912&&(m.flags|=128,O=!0,Kh(B,!1),m.lanes=4194304);B.isBackwards?(G.sibling=m.child,m.child=G):(f=B.last,f!==null?f.sibling=G:m.child=G,B.last=G)}return B.tail!==null?(m=B.tail,B.rendering=m,B.tail=m.sibling,B.renderingStartTime=Us(),m.sibling=null,f=Xr.current,w(Xr,O?f&1|2:f&1),m):(Zi(m),null);case 22:case 23:return jr(m),Bn(),O=m.memoizedState!==null,f!==null?f.memoizedState!==null!==O&&(m.flags|=8192):O&&(m.flags|=8192),O?(T&536870912)!==0&&(m.flags&128)===0&&(Zi(m),m.subtreeFlags&6&&(m.flags|=8192)):Zi(m),T=m.updateQueue,T!==null&&Em(m,T.retryQueue),T=null,f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(T=f.memoizedState.cachePool.pool),O=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(O=m.memoizedState.cachePool.pool),O!==T&&(m.flags|=2048),f!==null&&b(ru),null;case 24:return T=null,f!==null&&(T=f.memoizedState.cache),m.memoizedState.cache!==T&&(m.flags|=2048),Bo(Si),Zi(m),null;case 25:return null}throw Error(r(156,m.tag))}function yE(f,m){switch(pe(m),m.tag){case 1:return f=m.flags,f&65536?(m.flags=f&-65537|128,m):null;case 3:return Bo(Si),ie(),f=m.flags,(f&65536)!==0&&(f&128)===0?(m.flags=f&-65537|128,m):null;case 26:case 27:case 5:return ye(m),null;case 13:if(jr(m),f=m.memoizedState,f!==null&&f.dehydrated!==null){if(m.alternate===null)throw Error(r(340));lt()}return f=m.flags,f&65536?(m.flags=f&-65537|128,m):null;case 19:return b(Xr),null;case 4:return ie(),null;case 10:return Bo(m.type),null;case 22:case 23:return jr(m),Bn(),f!==null&&b(ru),f=m.flags,f&65536?(m.flags=f&-65537|128,m):null;case 24:return Bo(Si),null;case 25:return null;default:return null}}function Y_(f,m){switch(pe(m),m.tag){case 3:Bo(Si),ie();break;case 26:case 27:case 5:ye(m);break;case 4:ie();break;case 13:jr(m);break;case 19:b(Xr);break;case 10:Bo(m.type);break;case 22:case 23:jr(m),Bn(),f!==null&&b(ru);break;case 24:Bo(Si)}}function Tm(f,m){try{var T=m.updateQueue,O=T!==null?T.lastEffect:null;if(O!==null){var B=O.next;T=B;do{if((T.tag&f)===f){O=void 0;var G=T.create,oe=T.inst;O=G(),oe.destroy=O}T=T.next}while(T!==B)}}catch(me){Kn(m,m.return,me)}}function Nu(f,m,T){try{var O=m.updateQueue,B=O!==null?O.lastEffect:null;if(B!==null){var G=B.next;O=G;do{if((O.tag&f)===f){var oe=O.inst,me=oe.destroy;if(me!==void 0){oe.destroy=void 0,B=m;var Ce=T;try{me()}catch(Je){Kn(B,Ce,Je)}}}O=O.next}while(O!==G)}}catch(Je){Kn(m,m.return,Je)}}function vE(f){var m=f.updateQueue;if(m!==null){var T=f.stateNode;try{gt(m,T)}catch(O){Kn(f,f.return,O)}}}function _E(f,m,T){T.props=Ia(f.type,f.memoizedProps),T.state=f.memoizedState;try{T.componentWillUnmount()}catch(O){Kn(f,m,O)}}function Zh(f,m){try{var T=f.ref;if(T!==null){var O=f.stateNode;switch(f.tag){case 26:case 27:case 5:var B=Vf(O);break;default:B=O}typeof T=="function"?f.refCleanup=T(B):T.current=B}}catch(G){Kn(f,m,G)}}function Qi(f,m){var T=f.ref,O=f.refCleanup;if(T!==null)if(typeof O=="function")try{O()}catch(B){Kn(f,m,B)}finally{f.refCleanup=null,f=f.alternate,f!=null&&(f.refCleanup=null)}else if(typeof T=="function")try{T(null)}catch(B){Kn(f,m,B)}else T.current=null}function Rf(f){var m=f.type,T=f.memoizedProps,O=f.stateNode;try{xR(O,m,T,f)}catch(B){Kn(f,f.return,B)}}function K_(f,m,T){try{bb(f.stateNode,f.type,T,m,f)}catch(O){Kn(f,f.return,O)}}function Z_(f){return f.tag===5||f.tag===3||(ho?f.tag===26:!1)||(Ls?f.tag===27:!1)||f.tag===4}function Py(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||Z_(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&(!Ls||f.tag!==27)&&f.tag!==18;){if(f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function Dy(f,m,T){var O=f.tag;if(O===5||O===6)f=f.stateNode,m?Sb(T,f,m):OE(T,f);else if(!(O===4||Ls&&O===27)&&(f=f.child,f!==null))for(Dy(f,m,T),f=f.sibling;f!==null;)Dy(f,m,T),f=f.sibling}function Of(f,m,T){var O=f.tag;if(O===5||O===6)f=f.stateNode,m?xb(T,f,m):_b(T,f);else if(!(O===4||Ls&&O===27)&&(f=f.child,f!==null))for(Of(f,m,T),f=f.sibling;f!==null;)Of(f,m,T),f=f.sibling}function bE(f,m,T){f=f.containerInfo;try{Cb(f,T)}catch(O){Kn(m,m.return,O)}}function If(f,m){for(Xu(f.containerInfo),xr=m;xr!==null;)if(f=xr,m=f.child,(f.subtreeFlags&1028)!==0&&m!==null)m.return=f,xr=m;else for(;xr!==null;){f=xr;var T=f.alternate;switch(m=f.flags,f.tag){case 0:break;case 11:case 15:break;case 1:if((m&1024)!==0&&T!==null){m=void 0;var O=f,B=T.memoizedProps;T=T.memoizedState;var G=O.stateNode;try{var oe=Ia(O.type,B,O.elementType===O.type);m=G.getSnapshotBeforeUpdate(oe,T),G.__reactInternalSnapshotBeforeUpdate=m}catch(me){Kn(O,O.return,me)}}break;case 3:(m&1024)!==0&&Ns&&Jy(f.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((m&1024)!==0)throw Error(r(163))}if(m=f.sibling,m!==null){m.return=f.return,xr=m;break}xr=f.return}return oe=dd,dd=!1,oe}function Ny(f,m,T){var O=T.flags;switch(T.tag){case 0:case 11:case 15:tc(f,T),O&4&&Tm(5,T);break;case 1:if(tc(f,T),O&4)if(f=T.stateNode,m===null)try{f.componentDidMount()}catch(me){Kn(T,T.return,me)}else{var B=Ia(T.type,m.memoizedProps);m=m.memoizedState;try{f.componentDidUpdate(B,m,f.__reactInternalSnapshotBeforeUpdate)}catch(me){Kn(T,T.return,me)}}O&64&&vE(T),O&512&&Zh(T,T.return);break;case 3:if(tc(f,T),O&64&&(O=T.updateQueue,O!==null)){if(f=null,T.child!==null)switch(T.child.tag){case 27:case 5:f=Vf(T.child.stateNode);break;case 1:f=T.child.stateNode}try{gt(O,f)}catch(me){Kn(T,T.return,me)}}break;case 26:if(ho){tc(f,T),O&512&&Zh(T,T.return);break}case 27:case 5:tc(f,T),m===null&&O&4&&Rf(T),O&512&&Zh(T,T.return);break;case 12:tc(f,T);break;case 13:tc(f,T),O&4&&Lu(f,T);break;case 22:if(B=T.memoizedState!==null||ls,!B){m=m!==null&&m.memoizedState!==null||hr;var G=ls,oe=hr;ls=B,(hr=m)&&!oe?ku(f,T,(T.subtreeFlags&8772)!==0):tc(f,T),ls=G,hr=oe}O&512&&(T.memoizedProps.mode==="manual"?Zh(T,T.return):Qi(T,T.return));break;default:tc(f,T)}}function Pf(f){var m=f.alternate;m!==null&&(f.alternate=null,Pf(m)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(m=f.stateNode,m!==null&&yb(m)),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}function oo(f,m,T){for(T=T.child;T!==null;)Ly(f,m,T),T=T.sibling}function Ly(f,m,T){if(ka&&typeof ka.onCommitFiberUnmount=="function")try{ka.onCommitFiberUnmount(Wf,T)}catch{}switch(T.tag){case 26:if(ho){hr||Qi(T,m),oo(f,m,T),T.memoizedState?Db(T.memoizedState):T.stateNode&&Ub(T.stateNode);break}case 27:if(Ls){hr||Qi(T,m);var O=Ir,B=Fa;Ir=T.stateNode,oo(f,m,T),XE(T.stateNode),Ir=O,Fa=B;break}case 5:hr||Qi(T,m);case 6:if(Ns){if(O=Ir,B=Fa,Ir=null,oo(f,m,T),Ir=O,Fa=B,Ir!==null)if(Fa)try{Mr(Ir,T.stateNode)}catch(G){Kn(T,m,G)}else try{ma(Ir,T.stateNode)}catch(G){Kn(T,m,G)}}else oo(f,m,T);break;case 18:Ns&&Ir!==null&&(Fa?Ob(Ir,T.stateNode):jE(Ir,T.stateNode));break;case 4:Ns?(O=Ir,B=Fa,Ir=T.stateNode.containerInfo,Fa=!0,oo(f,m,T),Ir=O,Fa=B):(co&&bE(T.stateNode,T,ev()),oo(f,m,T));break;case 0:case 11:case 14:case 15:hr||Nu(2,T,m),hr||Nu(4,T,m),oo(f,m,T);break;case 1:hr||(Qi(T,m),O=T.stateNode,typeof O.componentWillUnmount=="function"&&_E(T,m,O)),oo(f,m,T);break;case 21:oo(f,m,T);break;case 22:hr||Qi(T,m),hr=(O=hr)||T.memoizedState!==null,oo(f,m,T),hr=O;break;default:oo(f,m,T)}}function Lu(f,m){if(pa&&m.memoizedState===null&&(f=m.alternate,f!==null&&(f=f.memoizedState,f!==null&&(f=f.dehydrated,f!==null))))try{rv(f)}catch(T){Kn(m,m.return,T)}}function Df(f){switch(f.tag){case 13:case 19:var m=f.stateNode;return m===null&&(m=f.stateNode=new Qf),m;case 22:return f=f.stateNode,m=f._retryCache,m===null&&(m=f._retryCache=new Qf),m;default:throw Error(r(435,f.tag))}}function wm(f,m){var T=Df(f);m.forEach(function(O){var B=nb.bind(null,f,O);T.has(O)||(T.add(O),O.then(B,B))})}function ha(f,m){var T=m.deletions;if(T!==null)for(var O=0;O<T.length;O++){var B=T[O],G=f,oe=m;if(Ns){var me=oe;e:for(;me!==null;){switch(me.tag){case 27:case 5:Ir=me.stateNode,Fa=!1;break e;case 3:Ir=me.stateNode.containerInfo,Fa=!0;break e;case 4:Ir=me.stateNode.containerInfo,Fa=!0;break e}me=me.return}if(Ir===null)throw Error(r(160));Ly(G,oe,B),Ir=null,Fa=!1}else Ly(G,oe,B);G=B.alternate,G!==null&&(G.return=null),B.return=null}if(m.subtreeFlags&13878)for(m=m.child;m!==null;)Uu(m,f),m=m.sibling}function Uu(f,m){var T=f.alternate,O=f.flags;switch(f.tag){case 0:case 11:case 14:case 15:ha(m,f),Pa(f),O&4&&(Nu(3,f,f.return),Tm(3,f),Nu(5,f,f.return));break;case 1:ha(m,f),Pa(f),O&512&&(hr||T===null||Qi(T,T.return)),O&64&&ls&&(f=f.updateQueue,f!==null&&(O=f.callbacks,O!==null&&(T=f.shared.hiddenCallbacks,f.shared.hiddenCallbacks=T===null?O:T.concat(O))));break;case 26:if(ho){var B=ga;ha(m,f),Pa(f),O&512&&(hr||T===null||Qi(T,T.return)),O&4&&(O=T!==null?T.memoizedState:null,m=f.memoizedState,T===null?m===null?f.stateNode===null?f.stateNode=Nb(B,f.type,f.memoizedProps,f):Lb(B,f.type,f.stateNode):f.stateNode=Pb(B,m,f.memoizedProps):O!==m?(O===null?T.stateNode!==null&&Ub(T.stateNode):Db(O),m===null?Lb(B,f.type,f.stateNode):Pb(B,m,f.memoizedProps)):m===null&&f.stateNode!==null&&K_(f,f.memoizedProps,T.memoizedProps));break}case 27:if(Ls&&O&4&&f.alternate===null){B=f.stateNode;var G=f.memoizedProps;try{wR(B),CR(f.type,G,B,f)}catch(bt){Kn(f,f.return,bt)}}case 5:if(ha(m,f),Pa(f),O&512&&(hr||T===null||Qi(T,T.return)),Ns){if(f.flags&32){m=f.stateNode;try{zm(m)}catch(bt){Kn(f,f.return,bt)}}O&4&&f.stateNode!=null&&(m=f.memoizedProps,K_(f,m,T!==null?T.memoizedProps:m)),O&1024&&(ih=!0)}break;case 6:if(ha(m,f),Pa(f),O&4&&Ns){if(f.stateNode===null)throw Error(r(162));O=f.memoizedProps,T=T!==null?T.memoizedProps:O,m=f.stateNode;try{IE(m,T,O)}catch(bt){Kn(f,f.return,bt)}}break;case 3:if(ho?(kb(),B=ga,ga=sv(m.containerInfo),ha(m,f),ga=B):ha(m,f),Pa(f),O&4){if(Ns&&pa&&T!==null&&T.memoizedState.isDehydrated)try{iv(m.containerInfo)}catch(bt){Kn(f,f.return,bt)}if(co){O=m.containerInfo,T=m.pendingChildren;try{Cb(O,T)}catch(bt){Kn(f,f.return,bt)}}}ih&&(ih=!1,Q_(f));break;case 4:ho?(T=ga,ga=sv(f.stateNode.containerInfo),ha(m,f),Pa(f),ga=T):(ha(m,f),Pa(f)),O&4&&co&&bE(f.stateNode,f,f.stateNode.pendingChildren);break;case 12:ha(m,f),Pa(f);break;case 13:ha(m,f),Pa(f),f.child.flags&8192&&f.memoizedState!==null!=(T!==null&&T.memoizedState!==null)&&(mc=Us()),O&4&&(O=f.updateQueue,O!==null&&(f.updateQueue=null,wm(f,O)));break;case 22:O&512&&(hr||T===null||Qi(T,T.return)),B=f.memoizedState!==null;var oe=T!==null&&T.memoizedState!==null,me=ls,Ce=hr;if(ls=me||B,hr=Ce||oe,ha(m,f),hr=Ce,ls=me,Pa(f),m=f.stateNode,m._current=f,m._visibility&=-3,m._visibility|=m._pendingVisibility&2,O&8192&&(m._visibility=B?m._visibility&-2:m._visibility|1,B&&(m=ls||hr,T===null||oe||m||Nf(f)),Ns&&(f.memoizedProps===null||f.memoizedProps.mode!=="manual"))){e:if(T=null,Ns)for(m=f;;){if(m.tag===5||ho&&m.tag===26||Ls&&m.tag===27){if(T===null){oe=T=m;try{G=oe.stateNode,B?Bm(G):Eb(oe.stateNode,oe.memoizedProps)}catch(bt){Kn(oe,oe.return,bt)}}}else if(m.tag===6){if(T===null){oe=m;try{var Je=oe.stateNode;B?Qy(Je):Jc(Je,oe.memoizedProps)}catch(bt){Kn(oe,oe.return,bt)}}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===f)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===f)break e;for(;m.sibling===null;){if(m.return===null||m.return===f)break e;T===m&&(T=null),m=m.return}T===m&&(T=null),m.sibling.return=m.return,m=m.sibling}}O&4&&(O=f.updateQueue,O!==null&&(T=O.retryQueue,T!==null&&(O.retryQueue=null,wm(f,T))));break;case 19:ha(m,f),Pa(f),O&4&&(O=f.updateQueue,O!==null&&(f.updateQueue=null,wm(f,O)));break;case 21:break;default:ha(m,f),Pa(f)}}function Pa(f){var m=f.flags;if(m&2){try{if(Ns&&(!Ls||f.tag!==27)){e:{for(var T=f.return;T!==null;){if(Z_(T)){var O=T;break e}T=T.return}throw Error(r(160))}switch(O.tag){case 27:if(Ls){var B=O.stateNode,G=Py(f);Of(f,G,B);break}case 5:var oe=O.stateNode;O.flags&32&&(zm(oe),O.flags&=-33);var me=Py(f);Of(f,me,oe);break;case 3:case 4:var Ce=O.stateNode.containerInfo,Je=Py(f);Dy(f,Je,Ce);break;default:throw Error(r(161))}}}catch(bt){Kn(f,f.return,bt)}f.flags&=-3}m&4096&&(f.flags&=-4097)}function Q_(f){if(f.subtreeFlags&1024)for(f=f.child;f!==null;){var m=f;Q_(m),m.tag===5&&m.flags&1024&&Pi(m.stateNode),f=f.sibling}}function tc(f,m){if(m.subtreeFlags&8772)for(m=m.child;m!==null;)Ny(f,m.alternate,m),m=m.sibling}function Nf(f){for(f=f.child;f!==null;){var m=f;switch(m.tag){case 0:case 11:case 14:case 15:Nu(4,m,m.return),Nf(m);break;case 1:Qi(m,m.return);var T=m.stateNode;typeof T.componentWillUnmount=="function"&&_E(m,m.return,T),Nf(m);break;case 26:case 27:case 5:Qi(m,m.return),Nf(m);break;case 22:Qi(m,m.return),m.memoizedState===null&&Nf(m);break;default:Nf(m)}f=f.sibling}}function ku(f,m,T){for(T=T&&(m.subtreeFlags&8772)!==0,m=m.child;m!==null;){var O=m.alternate,B=f,G=m,oe=G.flags;switch(G.tag){case 0:case 11:case 15:ku(B,G,T),Tm(4,G);break;case 1:if(ku(B,G,T),O=G,B=O.stateNode,typeof B.componentDidMount=="function")try{B.componentDidMount()}catch(Je){Kn(O,O.return,Je)}if(O=G,B=O.updateQueue,B!==null){var me=O.stateNode;try{var Ce=B.shared.hiddenCallbacks;if(Ce!==null)for(B.shared.hiddenCallbacks=null,B=0;B<Ce.length;B++)ve(Ce[B],me)}catch(Je){Kn(O,O.return,Je)}}T&&oe&64&&vE(G),Zh(G,G.return);break;case 26:case 27:case 5:ku(B,G,T),T&&O===null&&oe&4&&Rf(G),Zh(G,G.return);break;case 12:ku(B,G,T);break;case 13:ku(B,G,T),T&&oe&4&&Lu(B,G);break;case 22:G.memoizedState===null&&ku(B,G,T),Zh(G,G.return);break;default:ku(B,G,T)}m=m.sibling}}function J_(f,m){var T=null;f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(T=f.memoizedState.cachePool.pool),f=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(f=m.memoizedState.cachePool.pool),f!==T&&(f!=null&&f.refCount++,T!=null&&sr(T))}function Uy(f,m){f=null,m.alternate!==null&&(f=m.alternate.memoizedState.cache),m=m.memoizedState.cache,m!==f&&(m.refCount++,f!=null&&sr(f))}function jc(f,m,T,O){if(m.subtreeFlags&10256)for(m=m.child;m!==null;)ky(f,m,T,O),m=m.sibling}function ky(f,m,T,O){var B=m.flags;switch(m.tag){case 0:case 11:case 15:jc(f,m,T,O),B&2048&&Tm(9,m);break;case 3:jc(f,m,T,O),B&2048&&(f=null,m.alternate!==null&&(f=m.alternate.memoizedState.cache),m=m.memoizedState.cache,m!==f&&(m.refCount++,f!=null&&sr(f)));break;case 12:if(B&2048){jc(f,m,T,O),f=m.stateNode;try{var G=m.memoizedProps,oe=G.id,me=G.onPostCommit;typeof me=="function"&&me(oe,m.alternate===null?"mount":"update",f.passiveEffectDuration,-0)}catch(Ce){Kn(m,m.return,Ce)}}else jc(f,m,T,O);break;case 23:break;case 22:G=m.stateNode,m.memoizedState!==null?G._visibility&4?jc(f,m,T,O):zu(f,m):G._visibility&4?jc(f,m,T,O):(G._visibility|=4,Gs(f,m,T,O,(m.subtreeFlags&10256)!==0)),B&2048&&J_(m.alternate,m);break;case 24:jc(f,m,T,O),B&2048&&Uy(m.alternate,m);break;default:jc(f,m,T,O)}}function Gs(f,m,T,O,B){for(B=B&&(m.subtreeFlags&10256)!==0,m=m.child;m!==null;){var G=f,oe=m,me=T,Ce=O,Je=oe.flags;switch(oe.tag){case 0:case 11:case 15:Gs(G,oe,me,Ce,B),Tm(8,oe);break;case 23:break;case 22:var bt=oe.stateNode;oe.memoizedState!==null?bt._visibility&4?Gs(G,oe,me,Ce,B):zu(G,oe):(bt._visibility|=4,Gs(G,oe,me,Ce,B)),B&&Je&2048&&J_(oe.alternate,oe);break;case 24:Gs(G,oe,me,Ce,B),B&&Je&2048&&Uy(oe.alternate,oe);break;default:Gs(G,oe,me,Ce,B)}m=m.sibling}}function zu(f,m){if(m.subtreeFlags&10256)for(m=m.child;m!==null;){var T=f,O=m,B=O.flags;switch(O.tag){case 22:zu(T,O),B&2048&&J_(O.alternate,O);break;case 24:zu(T,O),B&2048&&Uy(O.alternate,O);break;default:zu(T,O)}m=m.sibling}}function vs(f){if(f.subtreeFlags&fd)for(f=f.child;f!==null;)Qh(f),f=f.sibling}function Qh(f){switch(f.tag){case 26:vs(f),f.flags&fd&&(f.memoizedState!==null?Bb(ga,f.memoizedState,f.memoizedProps):gr(f.type,f.memoizedProps));break;case 5:vs(f),f.flags&fd&&gr(f.type,f.memoizedProps);break;case 3:case 4:if(ho){var m=ga;ga=sv(f.stateNode.containerInfo),vs(f),ga=m}else vs(f);break;case 22:f.memoizedState===null&&(m=f.alternate,m!==null&&m.memoizedState!==null?(m=fd,fd=16777216,vs(f),fd=m):vs(f));break;default:vs(f)}}function zy(f){var m=f.alternate;if(m!==null&&(f=m.child,f!==null)){m.child=null;do m=f.sibling,f.sibling=null,f=m;while(f!==null)}}function Bu(f){var m=f.deletions;if((f.flags&16)!==0){if(m!==null)for(var T=0;T<m.length;T++){var O=m[T];xr=O,Fu(O,f)}zy(f)}if(f.subtreeFlags&10256)for(f=f.child;f!==null;)Cm(f),f=f.sibling}function Cm(f){switch(f.tag){case 0:case 11:case 15:Bu(f),f.flags&2048&&Nu(9,f,f.return);break;case 3:Bu(f);break;case 12:Bu(f);break;case 22:var m=f.stateNode;f.memoizedState!==null&&m._visibility&4&&(f.return===null||f.return.tag!==13)?(m._visibility&=-5,Lf(f)):Bu(f);break;default:Bu(f)}}function Lf(f){var m=f.deletions;if((f.flags&16)!==0){if(m!==null)for(var T=0;T<m.length;T++){var O=m[T];xr=O,Fu(O,f)}zy(f)}for(f=f.child;f!==null;){switch(m=f,m.tag){case 0:case 11:case 15:Nu(8,m,m.return),Lf(m);break;case 22:T=m.stateNode,T._visibility&4&&(T._visibility&=-5,Lf(m));break;default:Lf(m)}f=f.sibling}}function Fu(f,m){for(;xr!==null;){var T=xr;switch(T.tag){case 0:case 11:case 15:Nu(8,T,m);break;case 23:case 22:if(T.memoizedState!==null&&T.memoizedState.cachePool!==null){var O=T.memoizedState.cachePool.pool;O!=null&&O.refCount++}break;case 24:sr(T.memoizedState.cache)}if(O=T.child,O!==null)O.return=T,xr=O;else e:for(T=f;xr!==null;){O=xr;var B=O.sibling,G=O.return;if(Pf(O),O===T){xr=null;break e}if(B!==null){B.return=G,xr=B;break e}xr=G}}}function By(f){var m=mb(f);if(m!=null){if(typeof m.memoizedProps["data-testname"]!="string")throw Error(r(364));return m}if(f=od(f),f===null)throw Error(r(362));return f.stateNode.current}function Uf(f,m){var T=f.tag;switch(m.$$typeof){case eg:if(f.type===m.value)return!0;break;case gv:e:{for(m=m.value,f=[f,0],T=0;T<f.length;){var O=f[T++],B=O.tag,G=f[T++],oe=m[G];if(B!==5&&B!==26&&B!==27||!uc(O)){for(;oe!=null&&Uf(O,oe);)G++,oe=m[G];if(G===m.length){m=!0;break e}else for(O=O.child;O!==null;)f.push(O,G),O=O.sibling}}m=!1}return m;case yv:if((T===5||T===26||T===27)&&bR(f.stateNode,m.value))return!0;break;case Ei:if((T===5||T===6||T===26||T===27)&&(f=km(f),f!==null&&0<=f.indexOf(m.value)))return!0;break;case ni:if((T===5||T===26||T===27)&&(f=f.memoizedProps["data-testname"],typeof f=="string"&&f.toLowerCase()===m.value.toLowerCase()))return!0;break;default:throw Error(r(365))}return!1}function Vu(f){switch(f.$$typeof){case eg:return"<"+(a(f.value)||"Unknown")+">";case gv:return":has("+(Vu(f)||"")+")";case yv:return'[role="'+f.value+'"]';case Ei:return'"'+f.value+'"';case ni:return'[data-testname="'+f.value+'"]';default:throw Error(r(365))}}function xE(f,m){var T=[];f=[f,0];for(var O=0;O<f.length;){var B=f[O++],G=B.tag,oe=f[O++],me=m[oe];if(G!==5&&G!==26&&G!==27||!uc(B)){for(;me!=null&&Uf(B,me);)oe++,me=m[oe];if(oe===m.length)T.push(B);else for(B=B.child;B!==null;)f.push(B,oe),B=B.sibling}}return T}function da(f,m){if(!cc)throw Error(r(363));f=By(f),f=xE(f,m),m=[],f=Array.from(f);for(var T=0;T<f.length;){var O=f[T++],B=O.tag;if(B===5||B===26||B===27)uc(O)||m.push(O.stateNode);else for(O=O.child;O!==null;)f.push(O),O=O.sibling}return m}function fa(){if((Yt&2)!==0&&Vn!==0)return Vn&-Vn;if(nn.T!==null){var f=za;return f!==0?f:ct()}return Vo()}function nc(){Va===0&&(Va=(Vn&536870912)===0||li?L():536870912);var f=_o.current;return f!==null&&(f.flags|=32),Va}function qs(f,m,T){(f===Wn&&Di===2||f.cancelPendingCommit!==null)&&(vl(f,0),yl(f,Vn,Va,!1)),F(f,T),((Yt&2)===0||f!==Wn)&&(f===Wn&&((Yt&2)===0&&(wl|=T),ii===4&&yl(f,Vn,Va,!1)),qe(f))}function Am(f,m,T){if((Yt&6)!==0)throw Error(r(327));var O=!T&&(m&60)===0&&(m&f.expiredLanes)===0||N(f,m),B=O?sc(f,m):ic(f,m,!0),G=O;do{if(B===0){bo&&!O&&yl(f,m,0,!1);break}else if(B===6)yl(f,m,0,!Ti);else{if(T=f.current.alternate,G&&!SE(T)){B=ic(f,m,!1),G=!1;continue}if(B===2){if(G=m,f.errorRecoveryDisabledLanes&G)var oe=0;else oe=f.pendingLanes&-536870913,oe=oe!==0?oe:oe&536870912?536870912:0;if(oe!==0){m=oe;e:{var me=f;B=Jf;var Ce=pa&&me.current.memoizedState.isDehydrated;if(Ce&&(vl(me,oe).flags|=256),oe=ic(me,oe,!1),oe!==2){if(su&&!Ce){me.errorRecoveryDisabledLanes|=G,wl|=G,B=4;break e}G=So,So=B,G!==null&&Gc(G)}B=oe}if(G=!1,B!==2)continue}}if(B===1){vl(f,0),yl(f,m,0,!0);break}e:{switch(O=f,B){case 0:case 1:throw Error(r(345));case 4:if((m&4194176)===m){yl(O,m,Va,!Ti);break e}break;case 2:So=null;break;case 3:case 5:break;default:throw Error(r(329))}if(O.finishedWork=T,O.finishedLanes=m,(m&62914560)===m&&(G=mc+300-Us(),10<G)){if(yl(O,m,Va,!Ti),D(O,0)!==0)break e;O.timeoutHandle=pb(Fy.bind(null,O,T,So,Cl,ep,m,Va,wl,au,Ti,2,-0,0),G);break e}Fy(O,T,So,Cl,ep,m,Va,wl,au,Ti,0,-0,0)}}break}while(!0);qe(f)}function Gc(f){So===null?So=f:So.push.apply(So,f)}function Fy(f,m,T,O,B,G,oe,me,Ce,Je,bt,Ot,Nt){var bn=m.subtreeFlags;if((bn&8192||(bn&16785408)===16785408)&&(uo(),Qh(m),m=Yy(),m!==null)){f.cancelPendingCommit=m(Gi.bind(null,f,T,O,B,oe,me,Ce,1,Ot,Nt)),yl(f,G,oe,!Je);return}Gi(f,T,O,B,oe,me,Ce,bt,Ot,Nt)}function SE(f){for(var m=f;;){var T=m.tag;if((T===0||T===11||T===15)&&m.flags&16384&&(T=m.updateQueue,T!==null&&(T=T.stores,T!==null)))for(var O=0;O<T.length;O++){var B=T[O],G=B.getSnapshot;B=B.value;try{if(!fo(G(),B))return!1}catch{return!1}}if(T=m.child,m.subtreeFlags&16384&&T!==null)T.return=m,m=T;else{if(m===f)break;for(;m.sibling===null;){if(m.return===null||m.return===f)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function yl(f,m,T,O){m&=~Zs,m&=~wl,f.suspendedLanes|=m,f.pingedLanes&=~m,O&&(f.warmLanes|=m),O=f.expirationTimes;for(var B=m;0<B;){var G=31-Ua(B),oe=1<<G;O[G]=-1,B&=~oe}T!==0&&V(f,T,m)}function eb(){return(Yt&6)===0?(ae(0),!1):!0}function Da(){if(Tn!==null){if(Di===0)var f=Tn.return;else f=Tn,br=nh=null,pl(f),dc=null,Go=0,f=Tn;for(;f!==null;)Y_(f.alternate,f),f=f.return;Tn=null}}function vl(f,m){f.finishedWork=null,f.finishedLanes=0;var T=f.timeoutHandle;T!==ad&&(f.timeoutHandle=ad,Um(T)),T=f.cancelPendingCommit,T!==null&&(f.cancelPendingCommit=null,T()),Da(),Wn=f,Tn=T=Ws(f.current,null),Vn=m,Di=0,Pr=null,Ti=!1,bo=N(f,m),su=!1,au=Va=Zs=wl=xo=ii=0,So=Jf=null,ep=!1,(m&8)!==0&&(m|=m&32);var O=f.entangledLanes;if(O!==0)for(f=f.entanglements,O&=m;0<O;){var B=31-Ua(O),G=1<<B;m|=f[B],O&=~G}return Tl=m,te(),T}function Jh(f,m){In=null,nn.H=ci,m===Ri?(m=Zt(),Di=3):m===jb?(m=Zt(),Di=4):Di=m===tT?8:m!==null&&typeof m=="object"&&typeof m.then=="function"?6:1,Pr=m,Tn===null&&(ii=1,Gh(f,se(m,f.current)))}function Mm(){var f=_o.current;return f===null?!0:(Vn&4194176)===Vn?qo===null:(Vn&62914560)===Vn||(Vn&536870912)!==0?f===qo:!1}function kf(){var f=nn.H;return nn.H=ci,f===null?ci:f}function lo(){var f=nn.A;return nn.A=mv,f}function Na(){ii=4,Ti||(Vn&4194176)!==Vn&&_o.current!==null||(bo=!0),(xo&134217727)===0&&(wl&134217727)===0||Wn===null||yl(Wn,Vn,Va,!1)}function ic(f,m,T){var O=Yt;Yt|=2;var B=kf(),G=lo();(Wn!==f||Vn!==m)&&(Cl=null,vl(f,m)),m=!1;var oe=ii;e:do try{if(Di!==0&&Tn!==null){var me=Tn,Ce=Pr;switch(Di){case 8:Da(),oe=6;break e;case 3:case 2:case 6:_o.current===null&&(m=!0);var Je=Di;if(Di=0,Pr=null,Hu(f,me,Ce,Je),T&&bo){oe=0;break e}break;default:Je=Di,Di=0,Pr=null,Hu(f,me,Ce,Je)}}rc(),oe=ii;break}catch(bt){Jh(f,bt)}while(!0);return m&&f.shellSuspendCounter++,br=nh=null,Yt=O,nn.H=B,nn.A=G,Tn===null&&(Wn=null,Vn=0,te()),oe}function rc(){for(;Tn!==null;)tb(Tn)}function sc(f,m){var T=Yt;Yt|=2;var O=kf(),B=lo();Wn!==f||Vn!==m?(Cl=null,dr=Us()+500,vl(f,m)):bo=N(f,m);e:do try{if(Di!==0&&Tn!==null){m=Tn;var G=Pr;t:switch(Di){case 1:Di=0,Pr=null,Hu(f,m,G,1);break;case 2:if(Qe(G)){Di=0,Pr=null,Vy(m);break}m=function(){Di===2&&Wn===f&&(Di=7),qe(f)},G.then(m,m);break e;case 3:Di=7;break e;case 4:Di=5;break e;case 7:Qe(G)?(Di=0,Pr=null,Vy(m)):(Di=0,Pr=null,Hu(f,m,G,7));break;case 5:var oe=null;switch(Tn.tag){case 26:oe=Tn.memoizedState;case 5:case 27:var me=Tn,Ce=me.type,Je=me.pendingProps;if(oe?zb(oe):Qc(Ce,Je)){Di=0,Pr=null;var bt=me.sibling;if(bt!==null)Tn=bt;else{var Ot=me.return;Ot!==null?(Tn=Ot,Rm(Ot)):Tn=null}break t}}Di=0,Pr=null,Hu(f,m,G,5);break;case 6:Di=0,Pr=null,Hu(f,m,G,6);break;case 8:Da(),ii=6;break e;default:throw Error(r(462))}}qc();break}catch(Nt){Jh(f,Nt)}while(!0);return br=nh=null,nn.H=O,nn.A=B,Yt=T,Tn!==null?0:(Wn=null,Vn=0,te(),ii)}function qc(){for(;Tn!==null&&!KE();)tb(Tn)}function tb(f){var m=js(f.alternate,f,Tl);f.memoizedProps=f.pendingProps,m===null?Rm(f):Tn=m}function Vy(f){var m=f,T=m.alternate;switch(m.tag){case 15:case 0:m=Du(T,m,m.pendingProps,m.type,void 0,Vn);break;case 11:m=Du(T,m,m.pendingProps,m.type.render,m.ref,Vn);break;case 5:pl(m);default:Y_(T,m),m=Tn=Xc(m,Tl),m=js(T,m,Tl)}f.memoizedProps=f.pendingProps,m===null?Rm(f):Tn=m}function Hu(f,m,T,O){br=nh=null,pl(m),dc=null,Go=0;var B=m.return;try{if(Iy(f,B,m,T,Vn)){ii=1,Gh(f,se(T,f.current)),Tn=null;return}}catch(G){if(B!==null)throw Tn=B,G;ii=1,Gh(f,se(T,f.current)),Tn=null;return}m.flags&32768?(li||O===1?f=!0:bo||(Vn&536870912)!==0?f=!1:(Ti=f=!0,(O===2||O===3||O===6)&&(O=_o.current,O!==null&&O.tag===13&&(O.flags|=16384))),_s(m,f)):Rm(m)}function Rm(f){var m=f;do{if((m.flags&32768)!==0){_s(m,Ti);return}f=m.return;var T=gE(m.alternate,m,Tl);if(T!==null){Tn=T;return}if(m=m.sibling,m!==null){Tn=m;return}Tn=m=f}while(m!==null);ii===0&&(ii=5)}function _s(f,m){do{var T=yE(f.alternate,f);if(T!==null){T.flags&=32767,Tn=T;return}if(T=f.return,T!==null&&(T.flags|=32768,T.subtreeFlags=0,T.deletions=null),!m&&(f=f.sibling,f!==null)){Tn=f;return}Tn=f=T}while(f!==null);ii=6,Tn=null}function Gi(f,m,T,O,B,G,oe,me,Ce,Je){var bt=nn.T,Ot=os();try{$s(2),nn.T=null,Qn(f,m,T,O,Ot,B,G,oe,me,Ce,Je)}finally{nn.T=bt,$s(Ot)}}function Qn(f,m,T,O,B,G,oe,me){do bs();while(ou!==null);if((Yt&6)!==0)throw Error(r(327));var Ce=f.finishedWork;if(O=f.finishedLanes,Ce===null)return null;if(f.finishedWork=null,f.finishedLanes=0,Ce===f.current)throw Error(r(177));f.callbackNode=null,f.callbackPriority=0,f.cancelPendingCommit=null;var Je=Ce.lanes|Ce.childLanes;if(Je|=Xf,z(f,O,Je,G,oe,me),f===Wn&&(Tn=Wn=null,Vn=0),(Ce.subtreeFlags&10256)===0&&(Ce.flags&10256)===0||$o||($o=!0,vv=Je,md=T,Om(ov,function(){return bs(),null})),T=(Ce.flags&15990)!==0,(Ce.subtreeFlags&15990)!==0||T?(T=nn.T,nn.T=null,G=os(),$s(2),oe=Yt,Yt|=4,If(f,Ce),Uu(Ce,f),db(f.containerInfo),f.current=Ce,Ny(f,Ce.alternate,Ce),ZE(),Yt=oe,$s(G),nn.T=T):f.current=Ce,$o?($o=!1,ou=f,pd=O):Wc(f,Je),Je=f.pendingLanes,Je===0&&(Eo=null),q(Ce.stateNode),qe(f),m!==null)for(B=f.onRecoverableError,Ce=0;Ce<m.length;Ce++)Je=m[Ce],B(Je.value,{componentStack:Je.stack});return(pd&3)!==0&&bs(),Je=f.pendingLanes,(O&4194218)!==0&&(Je&42)!==0?f===ya?gd++:(gd=0,ya=f):gd=0,ae(0),null}function Wc(f,m){(f.pooledCacheLanes&=m)===0&&(m=f.pooledCache,m!=null&&(f.pooledCache=null,sr(m)))}function bs(){if(ou!==null){var f=ou,m=vv;vv=0;var T=ee(pd),O=32>T?32:T;T=nn.T;var B=os();try{if($s(O),nn.T=null,ou===null)var G=!1;else{O=md,md=null;var oe=ou,me=pd;if(ou=null,pd=0,(Yt&6)!==0)throw Error(r(331));var Ce=Yt;if(Yt|=4,Cm(oe.current),ky(oe,oe.current,me,O),Yt=Ce,ae(0,!1),ka&&typeof ka.onPostCommitFiberRoot=="function")try{ka.onPostCommitFiberRoot(Wf,oe)}catch{}G=!0}return G}finally{$s(B),nn.T=T,Wc(f,m)}}return!1}function Hy(f,m,T){m=se(T,m),m=Iu(f.stateNode,m,2),f=At(f,m,2),f!==null&&(F(f,2),qe(f))}function Kn(f,m,T){if(f.tag===3)Hy(f,f,T);else for(;m!==null;){if(m.tag===3){Hy(m,f,T);break}else if(m.tag===1){var O=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof O.componentDidCatch=="function"&&(Eo===null||!Eo.has(O))){f=se(T,f),T=Hs(2),O=At(m,T,2),O!==null&&(Pu(T,O,m,f),F(O,2),qe(O));break}}m=m.return}}function jy(f,m,T){var O=f.pingCache;if(O===null){O=f.pingCache=new Zn;var B=new Set;O.set(m,B)}else B=O.get(m),B===void 0&&(B=new Set,O.set(m,B));B.has(T)||(su=!0,B.add(T),f=EE.bind(null,f,m,T),m.then(f,f))}function EE(f,m,T){var O=f.pingCache;O!==null&&O.delete(m),f.pingedLanes|=f.suspendedLanes&T,f.warmLanes&=~T,Wn===f&&(Vn&T)===T&&(ii===4||ii===3&&(Vn&62914560)===Vn&&300>Us()-mc?(Yt&2)===0&&vl(f,0):Zs|=T,au===Vn&&(au=0)),qe(f)}function ed(f,m){m===0&&(m=P()),f=Ne(f,m),f!==null&&(F(f,m),qe(f))}function td(f){var m=f.memoizedState,T=0;m!==null&&(T=m.retryLane),ed(f,T)}function nb(f,m){var T=0;switch(f.tag){case 13:var O=f.stateNode,B=f.memoizedState;B!==null&&(T=B.retryLane);break;case 19:O=f.stateNode;break;case 22:O=f.stateNode._retryCache;break;default:throw Error(r(314))}O!==null&&O.delete(m),ed(f,T)}function Om(f,m){return qf(f,m)}function ib(f,m,T,O){this.tag=f,this.key=T,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=O,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $c(f){return f=f.prototype,!(!f||!f.isReactComponent)}function Ws(f,m){var T=f.alternate;return T===null?(T=t(f.tag,m,f.key,f.mode),T.elementType=f.elementType,T.type=f.type,T.stateNode=f.stateNode,T.alternate=f,f.alternate=T):(T.pendingProps=m,T.type=f.type,T.flags=0,T.subtreeFlags=0,T.deletions=null),T.flags=f.flags&31457280,T.childLanes=f.childLanes,T.lanes=f.lanes,T.child=f.child,T.memoizedProps=f.memoizedProps,T.memoizedState=f.memoizedState,T.updateQueue=f.updateQueue,m=f.dependencies,T.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},T.sibling=f.sibling,T.index=f.index,T.ref=f.ref,T.refCleanup=f.refCleanup,T}function Xc(f,m){f.flags&=31457282;var T=f.alternate;return T===null?(f.childLanes=0,f.lanes=m,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=T.childLanes,f.lanes=T.lanes,f.child=T.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=T.memoizedProps,f.memoizedState=T.memoizedState,f.updateQueue=T.updateQueue,f.type=T.type,m=T.dependencies,f.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext}),f}function Fo(f,m,T,O,B,G){var oe=0;if(O=f,typeof f=="function")$c(f)&&(oe=1);else if(typeof f=="string")oe=ho&&Ls?Ib(f,T,Ss.current)?26:jf(f)?27:5:ho?Ib(f,T,Ss.current)?26:5:Ls&&jf(f)?27:5;else e:switch(f){case Bf:return Yc(T.children,B,G,m);case lb:oe=8,B|=24;break;case cb:return f=t(12,T,m,B|2),f.elementType=cb,f.lanes=G,f;case qy:return f=t(13,T,m,B),f.elementType=qy,f.lanes=G,f;case qu:return f=t(19,T,m,B),f.elementType=qu,f.lanes=G,f;case Dm:return Gy(T,B,G,m);default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case CE:case ac:oe=10;break e;case Gu:oe=9;break e;case Ff:oe=11;break e;case Pm:oe=14;break e;case bl:oe=16,O=null;break e}oe=29,T=Error(r(130,f===null?"null":typeof f,"")),O=null}return m=t(oe,T,m,B),m.elementType=f,m.type=O,m.lanes=G,m}function Yc(f,m,T,O){return f=t(7,f,O,m),f.lanes=T,f}function Gy(f,m,T,O){f=t(22,f,O,m),f.elementType=Dm,f.lanes=T;var B={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var G=B._current;if(G===null)throw Error(r(456));if((B._pendingVisibility&2)===0){var oe=Ne(G,2);oe!==null&&(B._pendingVisibility|=2,qs(oe,G,2))}},attach:function(){var G=B._current;if(G===null)throw Error(r(456));if((B._pendingVisibility&2)!==0){var oe=Ne(G,2);oe!==null&&(B._pendingVisibility&=-3,qs(oe,G,2))}}};return f.stateNode=B,f}function ju(f,m,T){return f=t(6,f,null,m),f.lanes=T,f}function zf(f,m,T){return m=t(4,f.children!==null?f.children:[],f.key,m),m.lanes=T,m.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},m}function nd(f,m,T,O,B,G,oe,me){this.tag=1,this.containerInfo=f,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=ad,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=U(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=U(0),this.hiddenUpdates=U(null),this.identifierPrefix=O,this.onUncaughtError=B,this.onCaughtError=G,this.onRecoverableError=oe,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=me,this.incompleteTransitions=new Map}function xs(f,m,T,O,B,G,oe,me,Ce,Je,bt,Ot){return f=new nd(f,m,T,oe,me,Ce,Je,Ot),m=1,G===!0&&(m|=24),G=t(3,null,null,m),f.current=G,G.stateNode=f,m=pi(),m.refCount++,f.pooledCache=m,m.refCount++,G.memoizedState={element:O,isDehydrated:T,cache:m},$e(G),f}function Im(f){return f?(f=ld,f):ld}function rb(f){var m=f._reactInternals;if(m===void 0)throw typeof f.render=="function"?Error(r(188)):(f=Object.keys(f).join(","),Error(r(268,f)));return f=v(m),f=f!==null?_(f):null,f===null?null:Vf(f.stateNode)}function TE(f,m,T,O,B,G){B=Im(B),O.context===null?O.context=B:O.pendingContext=B,O=wt(m),O.payload={element:T},G=G===void 0?null:G,G!==null&&(O.callback=G),T=At(f,O,m),T!==null&&(qs(T,f,m),vt(T,f,m))}function wE(f,m){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var T=f.retryLane;f.retryLane=T!==0&&T<m?T:m}}function sb(f,m){wE(f,m),(f=f.alternate)&&wE(f,m)}var Xt={},ab=E_(),Ds=o$(),id=Object.assign,ob=Symbol.for("react.element"),Kc=Symbol.for("react.transitional.element"),_l=Symbol.for("react.portal"),Bf=Symbol.for("react.fragment"),lb=Symbol.for("react.strict_mode"),cb=Symbol.for("react.profiler"),CE=Symbol.for("react.provider"),Gu=Symbol.for("react.consumer"),ac=Symbol.for("react.context"),Ff=Symbol.for("react.forward_ref"),qy=Symbol.for("react.suspense"),qu=Symbol.for("react.suspense_list"),Pm=Symbol.for("react.memo"),bl=Symbol.for("react.lazy"),Dm=Symbol.for("react.offscreen"),AE=Symbol.for("react.memo_cache_sentinel"),ub=Symbol.iterator,rd=Symbol.for("react.client.reference"),nn=ab.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Wy,hb,Wu=!1,$u=Array.isArray,$y=e.rendererVersion,Nm=e.rendererPackageName,Lm=e.extraDevToolsConfig,Vf=e.getPublicInstance,sd=e.getRootHostContext,ME=e.getChildHostContext,Xu=e.prepareForCommit,db=e.resetAfterCommit,fb=e.createInstance,oc=e.appendInitialChild,Zc=e.finalizeInitialChildren,Yu=e.shouldSetTextContent,Xy=e.createTextInstance,pb=e.scheduleTimeout,Um=e.cancelTimeout,ad=e.noTimeout,lc=e.isPrimaryRenderer;e.warnsIfNotActing;var Ns=e.supportsMutation,co=e.supportsPersistence,pa=e.supportsHydration,mb=e.getInstanceFromNode;e.beforeActiveInstanceBlur,e.afterActiveInstanceBlur;var gb=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var $s=e.setCurrentUpdatePriority,os=e.getCurrentUpdatePriority,Vo=e.resolveUpdatePriority;e.resolveEventType,e.resolveEventTimeStamp;var Ku=e.shouldAttemptEagerTransition,yb=e.detachDeletedInstance;e.requestPostPaintCallback;var RE=e.maySuspendCommit,Qc=e.preloadInstance,uo=e.startSuspendingCommit,gr=e.suspendInstance,Yy=e.waitForCommitToBeReady,La=e.NotPendingTransition,hn=e.HostTransitionContext,Pi=e.resetFormInstance;e.bindToConsole;var $r=e.supportsMicrotasks,Ky=e.scheduleMicrotask,cc=e.supportsTestSelectors,od=e.findFiberRoot,Zy=e.getBoundingRect,km=e.getTextContent,uc=e.isHiddenSubtree,bR=e.matchAccessibilityRole,yr=e.setFocusIfFocusable,vb=e.setupIntersectionObserver,_b=e.appendChild,OE=e.appendChildToContainer,IE=e.commitTextUpdate,xR=e.commitMount,bb=e.commitUpdate,xb=e.insertBefore,Sb=e.insertInContainerBefore,ma=e.removeChild,Mr=e.removeChildFromContainer,zm=e.resetTextContent,Bm=e.hideInstance,Qy=e.hideTextInstance,Eb=e.unhideInstance,Jc=e.unhideTextInstance,Jy=e.clearContainer,Tb=e.cloneInstance,ev=e.createContainerChildSet,wb=e.appendChildToContainerChildSet,PE=e.finalizeContainerChildren,Cb=e.replaceContainerChildren,Ab=e.cloneHiddenInstance,Mb=e.cloneHiddenTextInstance,tv=e.isSuspenseInstancePending,Fm=e.isSuspenseInstanceFallback,DE=e.getSuspenseInstanceFallbackErrorDetails,SR=e.registerSuspenseInstanceRetry,NE=e.canHydrateFormStateMarker,LE=e.isFormStateMarkerMatching,Rb=e.getNextHydratableSibling,nv=e.getFirstHydratableChild,UE=e.getFirstHydratableChildWithinContainer,kE=e.getFirstHydratableChildWithinSuspenseInstance,zE=e.canHydrateInstance,BE=e.canHydrateTextInstance,FE=e.canHydrateSuspenseInstance,ER=e.hydrateInstance,VE=e.hydrateTextInstance,Hf=e.hydrateSuspenseInstance,HE=e.getNextHydratableInstanceAfterSuspenseInstance,iv=e.commitHydratedContainer,rv=e.commitHydratedSuspenseInstance,jE=e.clearSuspenseBoundary,Ob=e.clearSuspenseBoundaryFromContainer,GE=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var qE=e.validateHydratableInstance,WE=e.validateHydratableTextInstance,ho=e.supportsResources,Ib=e.isHostHoistableType,sv=e.getHoistableRoot,av=e.getResource,Pb=e.acquireResource,Db=e.releaseResource,Nb=e.hydrateHoistable,Lb=e.mountHoistable,Ub=e.unmountHoistable,TR=e.createHoistableInstance,kb=e.prepareToCommitHoistables,$E=e.mayResourceSuspendCommit,zb=e.preloadResource,Bb=e.suspendResource,Ls=e.supportsSingletons,Fb=e.resolveSingletonInstance,wR=e.clearSingleton,CR=e.acquireSingletonInstance,XE=e.releaseSingletonInstance,jf=e.isHostSingletonType,Vm=[],eu=-1,ld={},Ua=Math.clz32?Math.clz32:A,Hm=Math.log,YE=Math.LN2,Gf=128,jm=4194304,qf=Ds.unstable_scheduleCallback,Gm=Ds.unstable_cancelCallback,KE=Ds.unstable_shouldYield,ZE=Ds.unstable_requestPaint,Us=Ds.unstable_now,Vb=Ds.unstable_ImmediatePriority,QE=Ds.unstable_UserBlockingPriority,ov=Ds.unstable_NormalPriority,lv=Ds.unstable_IdlePriority,JE=Ds.log,Hb=Ds.unstable_setDisableYieldValue,Wf=null,ka=null,fo=typeof Object.is=="function"?Object.is:Q,cv=new WeakMap,Ji=[],vr=0,qm=null,Wm=0,po=[],mo=0,xl=null,hc=1,Ho="",Ss=E(null),$m=E(null),Sl=E(null),$f=E(null),Xs=null,ks=null,li=!1,go=null,jo=!1,Xm=Error(r(519)),yo=[],Zu=0,Xf=0,Yf=null,cd=null,Ym=!1,Km=!1,El=!1,Qu=0,Zm=null,uv=0,za=0,Ju=null,tu=!1,Kf=!1,Qm=Object.prototype.hasOwnProperty,Ri=Error(r(460)),jb=Error(r(474)),hv={then:function(){}},ud=null,dc=null,Go=0,eh=Mt(!0),Gb=Mt(!1),fc=E(null),vo=E(0),_o=E(null),qo=null,Xr=E(0),pc=0,In=null,_i=null,Rr=null,Wo=!1,er=!1,nu=!1,Jm=0,_r=0,Zf=null,eT=0,dv=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},ci={readContext:Ee,use:De,useCallback:pn,useContext:pn,useEffect:pn,useImperativeHandle:pn,useLayoutEffect:pn,useInsertionEffect:pn,useMemo:pn,useReducer:pn,useRef:pn,useState:pn,useDebugValue:pn,useDeferredValue:pn,useTransition:pn,useSyncExternalStore:pn,useId:pn};ci.useCacheRefresh=pn,ci.useMemoCache=pn,ci.useHostTransitionStatus=pn,ci.useFormState=pn,ci.useActionState=pn,ci.useOptimistic=pn;var Yr={readContext:Ee,use:De,useCallback:function(f,m){return re().memoizedState=[f,m===void 0?null:m],f},useContext:Ee,useEffect:mm,useImperativeHandle:function(f,m,T){T=T!=null?T.concat([f]):null,yf(4194308,4,ml.bind(null,m,f),T)},useLayoutEffect:function(f,m){return yf(4194308,4,f,m)},useInsertionEffect:function(f,m){yf(4,2,f,m)},useMemo:function(f,m){var T=re();m=m===void 0?null:m;var O=f();if(nu){$(!0);try{f()}finally{$(!1)}}return T.memoizedState=[O,m],O},useReducer:function(f,m,T){var O=re();if(T!==void 0){var B=T(m);if(nu){$(!0);try{T(m)}finally{$(!1)}}}else B=m;return O.memoizedState=O.baseState=B,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:B},O.queue=f,f=f.dispatch=ao.bind(null,In,f),[O.memoizedState,f]},useRef:function(f){var m=re();return f={current:f},m.memoizedState=f},useState:function(f){f=$n(f);var m=f.queue,T=jh.bind(null,In,m);return m.dispatch=T,[f.memoizedState,T]},useDebugValue:Ru,useDeferredValue:function(f,m){var T=re();return ca(T,f,m)},useTransition:function(){var f=$n(!1);return f=vf.bind(null,In,f.queue,!0,!1),re().memoizedState=f,[!1,f]},useSyncExternalStore:function(f,m,T){var O=In,B=re();if(li){if(T===void 0)throw Error(r(407));T=T()}else{if(T=m(),Wn===null)throw Error(r(349));(Vn&60)!==0||Jt(O,m,T)}B.memoizedState=T;var G={value:T,getSnapshot:m};return B.queue=G,mm(Fn.bind(null,O,G,f),[f]),O.flags|=2048,Ps(9,Gt.bind(null,O,G,T,m),{destroy:void 0},null),T},useId:function(){var f=re(),m=Wn.identifierPrefix;if(li){var T=Ho,O=hc;T=(O&~(1<<32-Ua(O)-1)).toString(32)+T,m=":"+m+"R"+T,T=Jm++,0<T&&(m+="H"+T.toString(32)),m+=":"}else T=eT++,m=":"+m+"r"+T.toString(32)+":";return f.memoizedState=m},useCacheRefresh:function(){return re().memoizedState=$l.bind(null,In)}};Yr.useMemoCache=xe,Yr.useHostTransitionStatus=Vs,Yr.useFormState=ti,Yr.useActionState=ti,Yr.useOptimistic=function(f){var m=re();m.memoizedState=m.baseState=f;var T={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return m.queue=T,m=Xl.bind(null,In,!0,T),T.dispatch=m,[f,m]};var Ys={readContext:Ee,use:De,useCallback:Hh,useContext:Ee,useEffect:Vh,useImperativeHandle:ss,useInsertionEffect:Ry,useLayoutEffect:Oy,useMemo:Wl,useReducer:Tt,useRef:Cr,useState:function(){return Tt(at)},useDebugValue:Ru,useDeferredValue:function(f,m){var T=_e();return gm(T,_i.memoizedState,f,m)},useTransition:function(){var f=Tt(at)[0],m=_e().memoizedState;return[typeof f=="boolean"?f:Le(f),m]},useSyncExternalStore:sn,useId:ko};Ys.useCacheRefresh=_f,Ys.useMemoCache=xe,Ys.useHostTransitionStatus=Vs,Ys.useFormState=wr,Ys.useActionState=wr,Ys.useOptimistic=function(f,m){var T=_e();return on(T,_i,f,m)};var th={readContext:Ee,use:De,useCallback:Hh,useContext:Ee,useEffect:Vh,useImperativeHandle:ss,useInsertionEffect:Ry,useLayoutEffect:Oy,useMemo:Wl,useReducer:Rt,useRef:Cr,useState:function(){return Rt(at)},useDebugValue:Ru,useDeferredValue:function(f,m){var T=_e();return _i===null?ca(T,f,m):gm(T,_i.memoizedState,f,m)},useTransition:function(){var f=Rt(at)[0],m=_e().memoizedState;return[typeof f=="boolean"?f:Le(f),m]},useSyncExternalStore:sn,useId:ko};th.useCacheRefresh=_f,th.useMemoCache=xe,th.useHostTransitionStatus=Vs,th.useFormState=cr,th.useActionState=cr,th.useOptimistic=function(f,m){var T=_e();return _i!==null?on(T,_i,f,m):(T.baseState=f,[f,T.queue.dispatch])};var fv={isMounted:function(f){return(f=f._reactInternals)?p(f)===f:!1},enqueueSetState:function(f,m,T){f=f._reactInternals;var O=fa(),B=wt(O);B.payload=m,T!=null&&(B.callback=T),m=At(f,B,O),m!==null&&(qs(m,f,O),vt(m,f,O))},enqueueReplaceState:function(f,m,T){f=f._reactInternals;var O=fa(),B=wt(O);B.tag=1,B.payload=m,T!=null&&(B.callback=T),m=At(f,B,O),m!==null&&(qs(m,f,O),vt(m,f,O))},enqueueForceUpdate:function(f,m){f=f._reactInternals;var T=fa(),O=wt(T);O.tag=2,m!=null&&(O.callback=m),m=At(f,O,T),m!==null&&(qs(m,f,T),vt(m,f,T))}},qb=typeof reportError=="function"?reportError:function(f){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var m=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof f=="object"&&f!==null&&typeof f.message=="string"?String(f.message):String(f),error:f});if(!window.dispatchEvent(m))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",f);return}console.error(f)},tT=Error(r(461)),Or=!1,Ks={dehydrated:null,treeContext:null,retryLane:0},Ba=E(null),nh=null,br=null,nT=typeof AbortController<"u"?AbortController:function(){var f=[],m=this.signal={aborted:!1,addEventListener:function(T,O){f.push(O)}};this.abort=function(){m.aborted=!0,f.forEach(function(T){return T()})}},iu=Ds.unstable_scheduleCallback,hd=Ds.unstable_NormalPriority,Si={$$typeof:ac,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},pv=nn.S;nn.S=function(f,m){typeof m=="object"&&m!==null&&typeof m.then=="function"&&ht(f,m),pv!==null&&pv(f,m)};var ru=E(null),ls=!1,hr=!1,ih=!1,Qf=typeof WeakSet=="function"?WeakSet:Set,xr=null,dd=!1,Ir=null,Fa=!1,ga=null,fd=8192,mv={getCacheForType:function(f){var m=Ee(Si),T=m.data.get(f);return T===void 0&&(T=f(),m.data.set(f,T)),T}},eg=0,gv=1,yv=2,ni=3,Ei=4;if(typeof Symbol=="function"&&Symbol.for){var Pn=Symbol.for;eg=Pn("selector.component"),gv=Pn("selector.has_pseudo_class"),yv=Pn("selector.role"),ni=Pn("selector.test_id"),Ei=Pn("selector.text")}var Zn=typeof WeakMap=="function"?WeakMap:Map,Yt=0,Wn=null,Tn=null,Vn=0,Di=0,Pr=null,Ti=!1,bo=!1,su=!1,Tl=0,ii=0,xo=0,wl=0,Zs=0,Va=0,au=0,Jf=null,So=null,ep=!1,mc=0,dr=1/0,Cl=null,Eo=null,$o=!1,ou=null,pd=0,vv=0,md=null,gd=0,ya=null;return Xt.attemptContinuousHydration=function(f){if(f.tag===13){var m=Ne(f,67108864);m!==null&&qs(m,f,67108864),sb(f,67108864)}},Xt.attemptHydrationAtCurrentPriority=function(f){if(f.tag===13){var m=fa(),T=Ne(f,m);T!==null&&qs(T,f,m),sb(f,m)}},Xt.attemptSynchronousHydration=function(f){switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var m=C(f.pendingLanes);if(m!==0){for(f.pendingLanes|=2,f.entangledLanes|=2;m;){var T=1<<31-Ua(m);f.entanglements[1]|=T,m&=~T}qe(f),(Yt&6)===0&&(dr=Us()+500,ae(0))}}break;case 13:m=Ne(f,2),m!==null&&qs(m,f,2),eb(),sb(f,2)}},Xt.batchedUpdates=function(f,m){return f(m)},Xt.createComponentSelector=function(f){return{$$typeof:eg,value:f}},Xt.createContainer=function(f,m,T,O,B,G,oe,me,Ce,Je){return xs(f,m,!1,null,T,O,G,oe,me,Ce,Je,null)},Xt.createHasPseudoClassSelector=function(f){return{$$typeof:gv,value:f}},Xt.createHydrationContainer=function(f,m,T,O,B,G,oe,me,Ce,Je,bt,Ot,Nt){return f=xs(T,O,!0,f,B,G,me,Ce,Je,bt,Ot,Nt),f.context=Im(null),T=f.current,O=fa(),B=wt(O),B.callback=m??null,At(T,B,O),f.current.lanes=O,F(f,O),qe(f),f},Xt.createPortal=function(f,m,T){var O=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_l,key:O==null?null:""+O,children:f,containerInfo:m,implementation:T}},Xt.createRoleSelector=function(f){return{$$typeof:yv,value:f}},Xt.createTestNameSelector=function(f){return{$$typeof:ni,value:f}},Xt.createTextSelector=function(f){return{$$typeof:Ei,value:f}},Xt.defaultOnCaughtError=function(f){console.error(f)},Xt.defaultOnRecoverableError=function(f){qb(f)},Xt.defaultOnUncaughtError=function(f){qb(f)},Xt.deferredUpdates=function(f){var m=nn.T,T=os();try{return $s(32),nn.T=null,f()}finally{$s(T),nn.T=m}},Xt.discreteUpdates=function(f,m,T,O,B){var G=nn.T,oe=os();try{return $s(2),nn.T=null,f(m,T,O,B)}finally{$s(oe),nn.T=G,Yt===0&&(dr=Us()+500)}},Xt.findAllNodes=da,Xt.findBoundingRects=function(f,m){if(!cc)throw Error(r(363));m=da(f,m),f=[];for(var T=0;T<m.length;T++)f.push(Zy(m[T]));for(m=f.length-1;0<m;m--){T=f[m];for(var O=T.x,B=O+T.width,G=T.y,oe=G+T.height,me=m-1;0<=me;me--)if(m!==me){var Ce=f[me],Je=Ce.x,bt=Je+Ce.width,Ot=Ce.y,Nt=Ot+Ce.height;if(O>=Je&&G>=Ot&&B<=bt&&oe<=Nt){f.splice(m,1);break}else if(O!==Je||T.width!==Ce.width||Nt<G||Ot>oe){if(!(G!==Ot||T.height!==Ce.height||bt<O||Je>B)){Je>O&&(Ce.width+=Je-O,Ce.x=O),bt<B&&(Ce.width=B-Je),f.splice(m,1);break}}else{Ot>G&&(Ce.height+=Ot-G,Ce.y=G),Nt<oe&&(Ce.height=oe-Ot),f.splice(m,1);break}}}return f},Xt.findHostInstance=rb,Xt.findHostInstanceWithNoPortals=function(f){return f=v(f),f=f!==null?S(f):null,f===null?null:Vf(f.stateNode)},Xt.findHostInstanceWithWarning=function(f){return rb(f)},Xt.flushPassiveEffects=bs,Xt.flushSyncFromReconciler=function(f){var m=Yt;Yt|=1;var T=nn.T,O=os();try{if($s(2),nn.T=null,f)return f()}finally{$s(O),nn.T=T,Yt=m,(Yt&6)===0&&ae(0)}},Xt.flushSyncWork=eb,Xt.focusWithin=function(f,m){if(!cc)throw Error(r(363));for(f=By(f),m=xE(f,m),m=Array.from(m),f=0;f<m.length;){var T=m[f++],O=T.tag;if(!uc(T)){if((O===5||O===26||O===27)&&yr(T.stateNode))return!0;for(T=T.child;T!==null;)m.push(T),T=T.sibling}}return!1},Xt.getFindAllNodesFailureDescription=function(f,m){if(!cc)throw Error(r(363));var T=0,O=[];f=[By(f),0];for(var B=0;B<f.length;){var G=f[B++],oe=G.tag,me=f[B++],Ce=m[me];if((oe!==5&&oe!==26&&oe!==27||!uc(G))&&(Uf(G,Ce)&&(O.push(Vu(Ce)),me++,me>T&&(T=me)),me<m.length))for(G=G.child;G!==null;)f.push(G,me),G=G.sibling}if(T<m.length){for(f=[];T<m.length;T++)f.push(Vu(m[T]));return`findAllNodes was able to match part of the selector:
  `+(O.join(" > ")+`

No matching component was found for:
  `)+f.join(" > ")}return null},Xt.getPublicRootInstance=function(f){if(f=f.current,!f.child)return null;switch(f.child.tag){case 27:case 5:return Vf(f.child.stateNode);default:return f.child.stateNode}},Xt.injectIntoDevTools=function(){var f={bundleType:0,version:$y,rendererPackageName:Nm,currentDispatcherRef:nn,findFiberByHostInstance:mb,reconcilerVersion:"19.0.0"};if(Lm!==null&&(f.rendererConfig=Lm),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")f=!1;else{var m=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(m.isDisabled||!m.supportsFiber)f=!0;else{try{Wf=m.inject(f),ka=m}catch{}f=!!m.checkDCE}}return f},Xt.isAlreadyRendering=function(){return!1},Xt.observeVisibleRects=function(f,m,T,O){if(!cc)throw Error(r(363));f=da(f,m);var B=vb(f,T,O).disconnect;return{disconnect:function(){B()}}},Xt.shouldError=function(){return null},Xt.shouldSuspend=function(){return!1},Xt.startHostTransition=function(f,m,T,O){if(f.tag!==5)throw Error(r(476));var B=ym(f).queue;vf(f,B,m,La,T===null?i:function(){var G=ym(f).next.queue;return Oa(f,G,{},fa()),T(O)})},Xt.updateContainer=function(f,m,T,O){var B=m.current,G=fa();return TE(B,G,f,m,T,O),G},Xt.updateContainerSync=function(f,m,T,O){return m.tag===0&&bs(),TE(m.current,2,f,m,T,O),2},Xt},n.exports.default=n.exports,Object.defineProperty(n.exports,"__esModule",{value:!0})})(HI)),HI.exports}var y9;function YEe(){return y9||(y9=1,VI.exports=XEe()),VI.exports}var KEe=YEe();const ZEe=rm(KEe);var v9=o$();function A4(n,e,t){if(!n)return;if(t(n)===!0)return n;let i=e?n.return:n.child;for(;i;){const r=A4(i,e,t);if(r)return r;i=e?null:i.sibling}}function l$(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const M4=l$(H.createContext(null));let c$=class extends H.Component{render(){return H.createElement(M4.Provider,{value:this._reactInternals},this.props.children)}};function u$(){const n=H.useContext(M4);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=H.useId();return H.useMemo(()=>{for(const t of[n,n?.alternate]){if(!t)continue;const i=A4(t,!1,r=>{let s=r.memoizedState;for(;s;){if(s.memoizedState===e)return!0;s=s.next}});if(i)return i}},[n,e])}const QEe=Symbol.for("react.context"),JEe=n=>n!==null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===QEe;function eTe(){const n=u$(),[e]=H.useState(()=>new Map);e.clear();let t=n;for(;t;){const i=t.type;JEe(i)&&i!==M4&&!e.has(i)&&e.set(i,H.use(l$(i))),t=t.return}return e}function tTe(){const n=eTe();return H.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>i=>H.createElement(e,null,H.createElement(t.Provider,{...i,value:n.get(t)})),e=>H.createElement(c$,{...e})),[n])}function h$(n){let e=n.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const d$=n=>n&&n.isOrthographicCamera,nTe=n=>n&&n.hasOwnProperty("current"),iTe=n=>n!=null&&(typeof n=="string"||typeof n=="number"||n.isColor),fE=((n,e)=>typeof window<"u"&&(((n=window.document)==null?void 0:n.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?H.useLayoutEffect:H.useEffect;function R4(n){const e=H.useRef(n);return fE(()=>void(e.current=n),[n]),e}function rTe(){const n=u$(),e=tTe();return H.useMemo(()=>({children:t})=>{const r=!!A4(n,!0,s=>s.type===H.StrictMode)?H.StrictMode:H.Fragment;return Z.jsx(r,{children:Z.jsx(e,{children:t})})},[n,e])}function sTe({set:n}){return fE(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}const aTe=(n=>(n=class extends H.Component{constructor(...t){super(...t),this.state={error:!1}}componentDidCatch(t){this.props.set(t)}render(){return this.state.error?null:this.props.children}},n.getDerivedStateFromError=()=>({error:!0}),n))();function f$(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}function Kv(n){var e;return(e=n.__r3f)==null?void 0:e.root.getState()}const Nr={obj:n=>n===Object(n)&&!Nr.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,nul:n=>n===null,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:i="reference",strict:r=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(Nr.str(n)||Nr.num(n)||Nr.boo(n))return n===e;const s=Nr.obj(n);if(s&&i==="reference")return n===e;const a=Nr.arr(n);if(a&&t==="reference")return n===e;if((a||s)&&n===e)return!0;let o;for(o in n)if(!(o in e))return!1;if(s&&t==="shallow"&&i==="shallow"){for(o in r?e:n)if(!Nr.equ(n[o],e[o],{strict:r,objects:"reference"}))return!1}else for(o in r?e:n)if(n[o]!==e[o])return!1;if(Nr.und(o)){if(a&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function oTe(n){n.type!=="Scene"&&(n.dispose==null||n.dispose());for(const e in n){const t=n[e];t?.type!=="Scene"&&(t==null||t.dispose==null||t.dispose())}}const p$=["children","key","ref"];function lTe(n){const e={};for(const t in n)p$.includes(t)||(e[t]=n[t]);return e}function _A(n,e,t,i){const r=n;let s=r?.__r3f;return s||(s={root:e,type:t,parent:null,children:[],props:lTe(i),object:r,eventCount:0,handlers:{},isHidden:!1},r&&(r.__r3f=s)),s}function ES(n,e){if(!e.includes("-"))return{root:n,key:e,target:n[e]};if(e in n)return{root:n,key:e,target:n[e]};let t=n;const i=e.split("-");for(const r of i){if(typeof t!="object"||t===null){if(t!==void 0){const s=i.slice(i.indexOf(r)).join("-");return{root:t,key:s,target:void 0}}return{root:n,key:e,target:void 0}}e=r,n=t,t=t[e]}return{root:n,key:e,target:t}}const _9=/-\d+$/;function bA(n,e){if(Nr.str(e.props.attach)){if(_9.test(e.props.attach)){const r=e.props.attach.replace(_9,""),{root:s,key:a}=ES(n.object,r);Array.isArray(s[a])||(s[a]=[])}const{root:t,key:i}=ES(n.object,e.props.attach);e.previousAttach=t[i],t[i]=e.object}else Nr.fun(e.props.attach)&&(e.previousAttach=e.props.attach(n.object,e.object))}function xA(n,e){if(Nr.str(e.props.attach)){const{root:t,key:i}=ES(n.object,e.props.attach),r=e.previousAttach;r===void 0?delete t[i]:t[i]=r}else e.previousAttach==null||e.previousAttach(n.object,e.object);delete e.previousAttach}const hD=[...p$,"args","dispose","attach","object","onUpdate","dispose"],b9=new Map;function cTe(n){let e=b9.get(n.constructor);try{e||(e=new n.constructor,b9.set(n.constructor,e))}catch{}return e}function uTe(n,e){const t={};for(const i in e)if(!hD.includes(i)&&!Nr.equ(e[i],n.props[i])){t[i]=e[i];for(const r in e)r.startsWith(`${i}-`)&&(t[r]=e[r])}for(const i in n.props){if(hD.includes(i)||e.hasOwnProperty(i))continue;const{root:r,key:s}=ES(n.object,i);if(r.constructor&&r.constructor.length===0){const a=cTe(r);Nr.und(a)||(t[s]=a[s])}else t[s]=0}return t}const hTe=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],dTe=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function Cp(n,e){var t;const i=n.__r3f,r=i&&h$(i).getState(),s=i?.eventCount;for(const o in e){let l=e[o];if(hD.includes(o))continue;if(i&&dTe.test(o)){typeof l=="function"?i.handlers[o]=l:delete i.handlers[o],i.eventCount=Object.keys(i.handlers).length;continue}if(l===void 0)continue;let{root:u,key:d,target:p}=ES(n,o);if(p===void 0&&(typeof u!="object"||u===null))throw Error(`R3F: Cannot set "${o}". Ensure it is an object before setting "${d}".`);if(p instanceof o_&&l instanceof o_)p.mask=l.mask;else if(p instanceof kt&&iTe(l))p.set(l);else if(p!==null&&typeof p=="object"&&typeof p.set=="function"&&typeof p.copy=="function"&&l!=null&&l.constructor&&p.constructor===l.constructor)p.copy(l);else if(p!==null&&typeof p=="object"&&typeof p.set=="function"&&Array.isArray(l))typeof p.fromArray=="function"?p.fromArray(l):p.set(...l);else if(p!==null&&typeof p=="object"&&typeof p.set=="function"&&typeof l=="number")typeof p.setScalar=="function"?p.setScalar(l):p.set(l);else{var a;u[d]=l,r&&!r.linear&&hTe.includes(d)&&(a=u[d])!=null&&a.isTexture&&u[d].format===Ja&&u[d].type===Ic&&(u[d].colorSpace=xa)}}if(i!=null&&i.parent&&r!=null&&r.internal&&(t=i.object)!=null&&t.isObject3D&&s!==i.eventCount){const o=i.object,l=r.internal.interaction.indexOf(o);l>-1&&r.internal.interaction.splice(l,1),i.eventCount&&o.raycast!==null&&r.internal.interaction.push(o)}return i&&i.props.attach===void 0&&(i.object.isBufferGeometry?i.props.attach="geometry":i.object.isMaterial&&(i.props.attach="material")),i&&q_(i),n}function q_(n){var e;if(!n.parent)return;n.props.onUpdate==null||n.props.onUpdate(n.object);const t=(e=n.root)==null||e.getState==null?void 0:e.getState();t&&t.internal.frames===0&&t.invalidate()}function m$(n,e){n.manual||(d$(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix())}const Jo=n=>n?.isObject3D;function Lw(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function g$(n,e,t,i){const r=t.get(e);r&&(t.delete(e),t.size===0&&(n.delete(i),r.target.releasePointerCapture(i)))}function fTe(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((i,r)=>{g$(t.capturedMap,e,i,r)})}function pTe(n){function e(l){const{internal:u}=n.getState(),d=l.offsetX-u.initialClick[0],p=l.offsetY-u.initialClick[1];return Math.round(Math.sqrt(d*d+p*p))}function t(l){return l.filter(u=>["Move","Over","Enter","Out","Leave"].some(d=>{var p;return(p=u.__r3f)==null?void 0:p.handlers["onPointer"+d]}))}function i(l,u){const d=n.getState(),p=new Set,y=[],v=u?u(d.internal.interaction):d.internal.interaction;for(let b=0;b<v.length;b++){const w=Kv(v[b]);w&&(w.raycaster.camera=void 0)}d.previousRoot||d.events.compute==null||d.events.compute(l,d);function _(b){const w=Kv(b);if(!w||!w.events.enabled||w.raycaster.camera===null)return[];if(w.raycaster.camera===void 0){var A;w.events.compute==null||w.events.compute(l,w,(A=w.previousRoot)==null?void 0:A.getState()),w.raycaster.camera===void 0&&(w.raycaster.camera=null)}return w.raycaster.camera?w.raycaster.intersectObject(b,!0):[]}let S=v.flatMap(_).sort((b,w)=>{const A=Kv(b.object),C=Kv(w.object);return!A||!C?b.distance-w.distance:C.events.priority-A.events.priority||b.distance-w.distance}).filter(b=>{const w=Lw(b);return p.has(w)?!1:(p.add(w),!0)});d.events.filter&&(S=d.events.filter(S,d));for(const b of S){let w=b.object;for(;w;){var E;(E=w.__r3f)!=null&&E.eventCount&&y.push({...b,eventObject:w}),w=w.parent}}if("pointerId"in l&&d.internal.capturedMap.has(l.pointerId))for(let b of d.internal.capturedMap.get(l.pointerId).values())p.has(Lw(b.intersection))||y.push(b.intersection);return y}function r(l,u,d,p){if(l.length){const y={stopped:!1};for(const v of l){let _=Kv(v.object);if(_||v.object.traverseAncestors(S=>{const E=Kv(S);if(E)return _=E,!1}),_){const{raycaster:S,pointer:E,camera:b,internal:w}=_,A=new he(E.x,E.y,0).unproject(b),C=P=>{var U,F;return(U=(F=w.capturedMap.get(P))==null?void 0:F.has(v.eventObject))!=null?U:!1},D=P=>{const U={intersection:v,target:u.target};w.capturedMap.has(P)?w.capturedMap.get(P).set(v.eventObject,U):w.capturedMap.set(P,new Map([[v.eventObject,U]])),u.target.setPointerCapture(P)},N=P=>{const U=w.capturedMap.get(P);U&&g$(w.capturedMap,v.eventObject,U,P)};let I={};for(let P in u){let U=u[P];typeof U!="function"&&(I[P]=U)}let L={...v,...I,pointer:E,intersections:l,stopped:y.stopped,delta:d,unprojectedPoint:A,ray:S.ray,camera:b,stopPropagation(){const P="pointerId"in u&&w.capturedMap.get(u.pointerId);if((!P||P.has(v.eventObject))&&(L.stopped=y.stopped=!0,w.hovered.size&&Array.from(w.hovered.values()).find(U=>U.eventObject===v.eventObject))){const U=l.slice(0,l.indexOf(v));s([...U,v])}},target:{hasPointerCapture:C,setPointerCapture:D,releasePointerCapture:N},currentTarget:{hasPointerCapture:C,setPointerCapture:D,releasePointerCapture:N},nativeEvent:u};if(p(L),y.stopped===!0)break}}}return l}function s(l){const{internal:u}=n.getState();for(const d of u.hovered.values())if(!l.length||!l.find(p=>p.object===d.object&&p.index===d.index&&p.instanceId===d.instanceId)){const y=d.eventObject.__r3f;if(u.hovered.delete(Lw(d)),y!=null&&y.eventCount){const v=y.handlers,_={...d,intersections:l};v.onPointerOut==null||v.onPointerOut(_),v.onPointerLeave==null||v.onPointerLeave(_)}}}function a(l,u){for(let d=0;d<u.length;d++){const p=u[d].__r3f;p==null||p.handlers.onPointerMissed==null||p.handlers.onPointerMissed(l)}}function o(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return u=>{const{internal:d}=n.getState();"pointerId"in u&&d.capturedMap.has(u.pointerId)&&requestAnimationFrame(()=>{d.capturedMap.has(u.pointerId)&&(d.capturedMap.delete(u.pointerId),s([]))})}}return function(d){const{onPointerMissed:p,internal:y}=n.getState();y.lastEvent.current=d;const v=l==="onPointerMove",_=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",E=i(d,v?t:void 0),b=_?e(d):0;l==="onPointerDown"&&(y.initialClick=[d.offsetX,d.offsetY],y.initialHits=E.map(A=>A.eventObject)),_&&!E.length&&b<=2&&(a(d,y.interaction),p&&p(d)),v&&s(E);function w(A){const C=A.eventObject,D=C.__r3f;if(!(D!=null&&D.eventCount))return;const N=D.handlers;if(v){if(N.onPointerOver||N.onPointerEnter||N.onPointerOut||N.onPointerLeave){const I=Lw(A),L=y.hovered.get(I);L?L.stopped&&A.stopPropagation():(y.hovered.set(I,A),N.onPointerOver==null||N.onPointerOver(A),N.onPointerEnter==null||N.onPointerEnter(A))}N.onPointerMove==null||N.onPointerMove(A)}else{const I=N[l];I?(!_||y.initialHits.includes(C))&&(a(d,y.interaction.filter(L=>!y.initialHits.includes(L))),I(A)):_&&y.initialHits.includes(C)&&a(d,y.interaction.filter(L=>!y.initialHits.includes(L)))}}r(E,d,b,w)}}return{handlePointer:o}}const x9=n=>!!(n!=null&&n.render),O4=H.createContext(null),mTe=(n,e)=>{const t=a$((o,l)=>{const u=new he,d=new he,p=new he;function y(b=l().camera,w=d,A=l().size){const{width:C,height:D,top:N,left:I}=A,L=C/D;w.isVector3?p.copy(w):p.set(...w);const P=b.getWorldPosition(u).distanceTo(p);if(d$(b))return{width:C/b.zoom,height:D/b.zoom,top:N,left:I,factor:1,distance:P,aspect:L};{const U=b.fov*Math.PI/180,F=2*Math.tan(U/2)*P,z=F*(C/D);return{width:z,height:F,top:N,left:I,factor:C/z,distance:P,aspect:L}}}let v;const _=b=>o(w=>({performance:{...w.performance,current:b}})),S=new rt;return{set:o,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(b=1)=>n(l(),b),advance:(b,w)=>e(b,w,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new VL,pointer:S,mouse:S,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const b=l();v&&clearTimeout(v),b.performance.current!==b.performance.min&&_(b.performance.min),v=setTimeout(()=>_(l().performance.max),b.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:y},setEvents:b=>o(w=>({...w,events:{...w.events,...b}})),setSize:(b,w,A=0,C=0)=>{const D=l().camera,N={width:b,height:w,top:A,left:C};o(I=>({size:N,viewport:{...I.viewport,...y(D,d,N)}}))},setDpr:b=>o(w=>{const A=f$(b);return{viewport:{...w.viewport,dpr:A,initialDpr:w.viewport.initialDpr||A}}}),setFrameloop:(b="always")=>{const w=l().clock;w.stop(),w.elapsedTime=0,b!=="never"&&(w.start(),w.elapsedTime=0),o(()=>({frameloop:b}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:H.createRef(),active:!1,frames:0,priority:0,subscribe:(b,w,A)=>{const C=l().internal;return C.priority=C.priority+(w>0?1:0),C.subscribers.push({ref:b,priority:w,store:A}),C.subscribers=C.subscribers.sort((D,N)=>D.priority-N.priority),()=>{const D=l().internal;D!=null&&D.subscribers&&(D.priority=D.priority-(w>0?1:0),D.subscribers=D.subscribers.filter(N=>N.ref!==b))}}}}}),i=t.getState();let r=i.size,s=i.viewport.dpr,a=i.camera;return t.subscribe(()=>{const{camera:o,size:l,viewport:u,gl:d,set:p}=t.getState();if(l.width!==r.width||l.height!==r.height||u.dpr!==s){r=l,s=u.dpr,m$(o,l),u.dpr>0&&d.setPixelRatio(u.dpr);const y=typeof HTMLCanvasElement<"u"&&d.domElement instanceof HTMLCanvasElement;d.setSize(l.width,l.height,y)}o!==a&&(a=o,p(y=>({viewport:{...y.viewport,...y.viewport.getCurrentViewport(o)}})))}),t.subscribe(o=>n(o)),t};function I4(){const n=H.useContext(O4);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function Cs(n=t=>t,e){return I4()(n,e)}function pE(n,e=0){const t=I4(),i=t.getState().internal.subscribe,r=R4(n);return fE(()=>i(r,e,t),[e,i,t]),null}var gTe={version:"9.4.2"};function yTe(n){const e=ZEe(n);return e.injectIntoDevTools(),e}const y$=0,b_={},vTe=/^three(?=[A-Z])/,dR=n=>`${n[0].toUpperCase()}${n.slice(1)}`;let _Te=0;const bTe=n=>typeof n=="function";function v$(n){if(bTe(n)){const e=`${_Te++}`;return b_[e]=n,e}else Object.assign(b_,n)}function _$(n,e){const t=dR(n),i=b_[t];if(n!=="primitive"&&!i)throw new Error(`R3F: ${t} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(n==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function xTe(n,e,t){var i;return n=dR(n)in b_?n:n.replace(vTe,""),_$(n,e),n==="primitive"&&(i=e.object)!=null&&i.__r3f&&delete e.object.__r3f,_A(e.object,t,n,e)}function STe(n){if(!n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?xA(n.parent,n):Jo(n.object)&&(n.object.visible=!1),n.isHidden=!0,q_(n)}}function b$(n){if(n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?bA(n.parent,n):Jo(n.object)&&n.props.visible!==!1&&(n.object.visible=!0),n.isHidden=!1,q_(n)}}function P4(n,e,t){const i=e.root.getState();if(!(!n.parent&&n.object!==i.scene)){if(!e.object){var r,s;const a=b_[dR(e.type)];e.object=(r=e.props.object)!=null?r:new a(...(s=e.props.args)!=null?s:[]),e.object.__r3f=e}if(Cp(e.object,e.props),e.props.attach)bA(n,e);else if(Jo(e.object)&&Jo(n.object)){const a=n.object.children.indexOf(t?.object);if(t&&a!==-1){const o=n.object.children.indexOf(e.object);if(o!==-1){n.object.children.splice(o,1);const l=o<a?a-1:a;n.object.children.splice(l,0,e.object)}else e.object.parent=n.object,n.object.children.splice(a,0,e.object),e.object.dispatchEvent({type:"added"}),n.object.dispatchEvent({type:"childadded",child:e.object})}else n.object.add(e.object)}for(const a of e.children)P4(e,a);q_(e)}}function qI(n,e){e&&(e.parent=n,n.children.push(e),P4(n,e))}function S9(n,e,t){if(!e||!t)return;e.parent=n;const i=n.children.indexOf(t);i!==-1?n.children.splice(i,0,e):n.children.push(e),P4(n,e,t)}function x$(n){if(typeof n.dispose=="function"){const e=()=>{try{n.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():v9.unstable_scheduleCallback(v9.unstable_IdlePriority,e)}}function dD(n,e,t){if(!e)return;e.parent=null;const i=n.children.indexOf(e);i!==-1&&n.children.splice(i,1),e.props.attach?xA(n,e):Jo(e.object)&&Jo(n.object)&&(n.object.remove(e.object),fTe(h$(e),e.object));const r=e.props.dispose!==null&&t!==!1;for(let s=e.children.length-1;s>=0;s--){const a=e.children[s];dD(e,a,r)}e.children.length=0,delete e.object.__r3f,r&&e.type!=="primitive"&&e.object.type!=="Scene"&&x$(e.object),t===void 0&&q_(e)}function ETe(n,e){for(const t of[n,n.alternate])if(t!==null)if(typeof t.ref=="function"){t.refCleanup==null||t.refCleanup();const i=t.ref(e);typeof i=="function"&&(t.refCleanup=i)}else t.ref&&(t.ref.current=e)}const z2=[];function TTe(){for(const[t]of z2){const i=t.parent;if(i){t.props.attach?xA(i,t):Jo(t.object)&&Jo(i.object)&&i.object.remove(t.object);for(const r of t.children)r.props.attach?xA(t,r):Jo(r.object)&&Jo(t.object)&&t.object.remove(r.object)}t.isHidden&&b$(t),t.object.__r3f&&delete t.object.__r3f,t.type!=="primitive"&&x$(t.object)}for(const[t,i,r]of z2){t.props=i;const s=t.parent;if(s){var n,e;const a=b_[dR(t.type)];t.object=(n=t.props.object)!=null?n:new a(...(e=t.props.args)!=null?e:[]),t.object.__r3f=t,ETe(r,t.object),Cp(t.object,t.props),t.props.attach?bA(s,t):Jo(t.object)&&Jo(s.object)&&s.object.add(t.object);for(const o of t.children)o.props.attach?bA(t,o):Jo(o.object)&&Jo(t.object)&&t.object.add(o.object);q_(t)}}z2.length=0}const WI=()=>{},E9={};let Uw=y$;const wTe=0,CTe=4,SA=yTe({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:xTe,removeChild:dD,appendChild:qI,appendInitialChild:qI,insertBefore:S9,appendChildToContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||qI(t,e)},removeChildFromContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||dD(t,e)},insertInContainerBefore(n,e,t){const i=n.getState().scene.__r3f;!e||!t||!i||S9(i,e,t)},getRootHostContext:()=>E9,getChildHostContext:()=>E9,commitUpdate(n,e,t,i,r){var s,a,o;_$(e,i);let l=!1;if((n.type==="primitive"&&t.object!==i.object||((s=i.args)==null?void 0:s.length)!==((a=t.args)==null?void 0:a.length)||(o=i.args)!=null&&o.some((d,p)=>{var y;return d!==((y=t.args)==null?void 0:y[p])}))&&(l=!0),l)z2.push([n,{...i},r]);else{const d=uTe(n,i);Object.keys(d).length&&(Object.assign(n.props,d),Cp(n.object,d))}(r.sibling===null||(r.flags&CTe)===wTe)&&TTe()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:n=>n?.object,prepareForCommit:()=>null,preparePortalMount:n=>_A(n.getState().scene,n,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:STe,unhideInstance:b$,createTextInstance:WI,hideTextInstance:WI,unhideTextInstance:WI,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:H.createContext(null),setCurrentUpdatePriority(n){Uw=n},getCurrentUpdatePriority(){return Uw},resolveUpdatePriority(){var n;if(Uw!==y$)return Uw;switch(typeof window<"u"&&((n=window.event)==null?void 0:n.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return k2.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return k2.ContinuousEventPriority;default:return k2.DefaultEventPriority}},resetFormInstance(){},rendererPackageName:"@react-three/fiber",rendererVersion:gTe.version}),py=new Map,Zv={objects:"shallow",strict:!1};function ATe(n,e){if(!e&&typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:i,top:r,left:s}=n.parentElement.getBoundingClientRect();return{width:t,height:i,top:r,left:s}}else if(!e&&typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...e}}function MTe(n){const e=py.get(n),t=e?.fiber,i=e?.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,s=i||mTe(mD,w9),a=t||SA.createContainer(s,k2.ConcurrentRoot,null,!1,null,"",r,r,r,null);e||py.set(n,{fiber:a,store:s});let o,l,u=!1,d=null;return{async configure(p={}){let y;d=new Promise(K=>y=K);let{gl:v,size:_,scene:S,events:E,onCreated:b,shadows:w=!1,linear:A=!1,flat:C=!1,legacy:D=!1,orthographic:N=!1,frameloop:I="always",dpr:L=[1,2],performance:P,raycaster:U,camera:F,onPointerMissed:z}=p,V=s.getState(),Y=V.gl;if(!V.gl){const K={canvas:n,powerPreference:"high-performance",antialias:!0,alpha:!0},le=typeof v=="function"?await v(K):v;x9(le)?Y=le:Y=new Nq({...K,...v}),V.set({gl:Y})}let ee=V.raycaster;ee||V.set({raycaster:ee=new VM});const{params:q,...$}=U||{};if(Nr.equ($,ee,Zv)||Cp(ee,{...$}),Nr.equ(q,ee.params,Zv)||Cp(ee,{params:{...ee.params,...q}}),!V.camera||V.camera===l&&!Nr.equ(l,F,Zv)){l=F;const K=F?.isCamera,le=K?F:N?new JS(0,0,0,0,.1,1e3):new ta(75,0,.1,1e3);K||(le.position.z=5,F&&(Cp(le,F),le.manual||("aspect"in F||"left"in F||"right"in F||"bottom"in F||"top"in F)&&(le.manual=!0,le.updateProjectionMatrix())),!V.camera&&!(F!=null&&F.rotation)&&le.lookAt(0,0,0)),V.set({camera:le}),ee.camera=le}if(!V.scene){let K;S!=null&&S.isScene?(K=S,_A(K,s,"",{})):(K=new bM,_A(K,s,"",{}),S&&Cp(K,S)),V.set({scene:K})}E&&!V.events.handlers&&V.set({events:E(s)});const Q=ATe(n,_);if(Nr.equ(Q,V.size,Zv)||V.setSize(Q.width,Q.height,Q.top,Q.left),L&&V.viewport.dpr!==f$(L)&&V.setDpr(L),V.frameloop!==I&&V.setFrameloop(I),V.onPointerMissed||V.set({onPointerMissed:z}),P&&!Nr.equ(P,V.performance,Zv)&&V.set(K=>({performance:{...K.performance,...P}})),!V.xr){var se;const K=(ue,ie)=>{const de=s.getState();de.frameloop!=="never"&&w9(ue,!0,de,ie)},le=()=>{const ue=s.getState();ue.gl.xr.enabled=ue.gl.xr.isPresenting,ue.gl.xr.setAnimationLoop(ue.gl.xr.isPresenting?K:null),ue.gl.xr.isPresenting||mD(ue)},pe={connect(){const ue=s.getState().gl;ue.xr.addEventListener("sessionstart",le),ue.xr.addEventListener("sessionend",le)},disconnect(){const ue=s.getState().gl;ue.xr.removeEventListener("sessionstart",le),ue.xr.removeEventListener("sessionend",le)}};typeof((se=Y.xr)==null?void 0:se.addEventListener)=="function"&&pe.connect(),V.set({xr:pe})}if(Y.shadowMap){const K=Y.shadowMap.enabled,le=Y.shadowMap.type;if(Y.shadowMap.enabled=!!w,Nr.boo(w))Y.shadowMap.type=yx;else if(Nr.str(w)){var fe;const pe={basic:zj,percentage:aM,soft:yx,variance:mu};Y.shadowMap.type=(fe=pe[w])!=null?fe:yx}else Nr.obj(w)&&Object.assign(Y.shadowMap,w);(K!==Y.shadowMap.enabled||le!==Y.shadowMap.type)&&(Y.shadowMap.needsUpdate=!0)}return di.enabled=!D,u||(Y.outputColorSpace=A?Jp:xa,Y.toneMapping=C?Ph:lL),V.legacy!==D&&V.set(()=>({legacy:D})),V.linear!==A&&V.set(()=>({linear:A})),V.flat!==C&&V.set(()=>({flat:C})),v&&!Nr.fun(v)&&!x9(v)&&!Nr.equ(v,Y,Zv)&&Cp(Y,v),o=b,u=!0,y(),this},render(p){return!u&&!d&&this.configure(),d.then(()=>{SA.updateContainer(Z.jsx(RTe,{store:s,children:p,onCreated:o,rootElement:n}),a,null,()=>{})}),s},unmount(){S$(n)}}}function RTe({store:n,children:e,onCreated:t,rootElement:i}){return fE(()=>{const r=n.getState();r.set(s=>({internal:{...s.internal,active:!0}})),t&&t(r),n.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),Z.jsx(O4.Provider,{value:n,children:e})}function S$(n,e){const t=py.get(n),i=t?.fiber;if(i){const r=t?.store.getState();r&&(r.internal.active=!1),SA.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var s,a,o,l;r.events.disconnect==null||r.events.disconnect(),(s=r.gl)==null||(a=s.renderLists)==null||a.dispose==null||a.dispose(),(o=r.gl)==null||o.forceContextLoss==null||o.forceContextLoss(),(l=r.gl)!=null&&l.xr&&r.xr.disconnect(),oTe(r.scene),py.delete(n)}catch{}},500)})}}function OTe(n,e,t){return Z.jsx(ITe,{children:n,container:e,state:t})}function ITe({state:n={},children:e,container:t}){const{events:i,size:r,...s}=n,a=I4(),[o]=H.useState(()=>new VM),[l]=H.useState(()=>new rt),u=R4((p,y)=>{let v;if(y.camera&&r){const _=y.camera;v=p.viewport.getCurrentViewport(_,new he,r),_!==p.camera&&m$(_,r)}return{...p,...y,scene:t,raycaster:o,pointer:l,mouse:l,previousRoot:a,events:{...p.events,...y.events,...i},size:{...p.size,...r},viewport:{...p.viewport,...v},setEvents:_=>y.set(S=>({...S,events:{...S.events,..._}}))}}),d=H.useMemo(()=>{const p=a$((v,_)=>({...s,set:v,get:_})),y=v=>p.setState(_=>u.current(v,_));return y(a.getState()),a.subscribe(y),p},[a,t]);return Z.jsx(Z.Fragment,{children:SA.createPortal(Z.jsx(O4.Provider,{value:d,children:e}),d,null)})}const PTe=new Set,DTe=new Set,NTe=new Set;function $I(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function Dx(n,e){switch(n){case"before":return $I(PTe,e);case"after":return $I(DTe,e);case"tail":return $I(NTe,e)}}let XI,YI;function fD(n,e,t){let i=e.clock.getDelta();e.frameloop==="never"&&typeof n=="number"&&(i=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),XI=e.internal.subscribers;for(let r=0;r<XI.length;r++)YI=XI[r],YI.ref.current(YI.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let EA=!1,pD=!1,KI,T9,Qv;function E$(n){T9=requestAnimationFrame(E$),EA=!0,KI=0,Dx("before",n),pD=!0;for(const t of py.values()){var e;Qv=t.store.getState(),Qv.internal.active&&(Qv.frameloop==="always"||Qv.internal.frames>0)&&!((e=Qv.gl.xr)!=null&&e.isPresenting)&&(KI+=fD(n,Qv))}if(pD=!1,Dx("after",n),KI===0)return Dx("tail",n),EA=!1,cancelAnimationFrame(T9)}function mD(n,e=1){var t;if(!n)return py.forEach(i=>mD(i.store.getState(),e));(t=n.gl.xr)!=null&&t.isPresenting||!n.internal.active||n.frameloop==="never"||(e>1?n.internal.frames=Math.min(60,n.internal.frames+e):pD?n.internal.frames=2:n.internal.frames=1,EA||(EA=!0,requestAnimationFrame(E$)))}function w9(n,e=!0,t,i){if(e&&Dx("before",n),t)fD(n,t,i);else for(const r of py.values())fD(n,r.store.getState());e&&Dx("after",n)}const ZI={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function LTe(n){const{handlePointer:e}=pTe(n);return{priority:1,enabled:!0,compute(t,i,r){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(ZI).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:()=>{var t;const{events:i,internal:r}=n.getState();(t=r.lastEvent)!=null&&t.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{const{set:i,events:r}=n.getState();if(r.disconnect==null||r.disconnect(),i(s=>({events:{...s.events,connected:t}})),r.handlers)for(const s in r.handlers){const a=r.handlers[s],[o,l]=ZI[s];t.addEventListener(o,a,{passive:l})}},disconnect:()=>{const{set:t,events:i}=n.getState();if(i.connected){if(i.handlers)for(const r in i.handlers){const s=i.handlers[r],[a]=ZI[r];i.connected.removeEventListener(a,s)}t(r=>({events:{...r.events,connected:void 0}}))}}}}function C9(n,e){let t;return(...i)=>{window.clearTimeout(t),t=window.setTimeout(()=>n(...i),e)}}function UTe({debounce:n,scroll:e,polyfill:t,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){const r=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!r)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,a]=H.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),o=H.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),l=n?typeof n=="number"?n:n.scroll:null,u=n?typeof n=="number"?n:n.resize:null,d=H.useRef(!1);H.useEffect(()=>(d.current=!0,()=>void(d.current=!1)));const[p,y,v]=H.useMemo(()=>{const b=()=>{if(!o.current.element)return;const{left:w,top:A,width:C,height:D,bottom:N,right:I,x:L,y:P}=o.current.element.getBoundingClientRect(),U={left:w,top:A,width:C,height:D,bottom:N,right:I,x:L,y:P};o.current.element instanceof HTMLElement&&i&&(U.height=o.current.element.offsetHeight,U.width=o.current.element.offsetWidth),Object.freeze(U),d.current&&!FTe(o.current.lastBounds,U)&&a(o.current.lastBounds=U)};return[b,u?C9(b,u):b,l?C9(b,l):b]},[a,i,l,u]);function _(){o.current.scrollContainers&&(o.current.scrollContainers.forEach(b=>b.removeEventListener("scroll",v,!0)),o.current.scrollContainers=null),o.current.resizeObserver&&(o.current.resizeObserver.disconnect(),o.current.resizeObserver=null),o.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",o.current.orientationHandler))}function S(){o.current.element&&(o.current.resizeObserver=new r(v),o.current.resizeObserver.observe(o.current.element),e&&o.current.scrollContainers&&o.current.scrollContainers.forEach(b=>b.addEventListener("scroll",v,{capture:!0,passive:!0})),o.current.orientationHandler=()=>{v()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",o.current.orientationHandler))}const E=b=>{!b||b===o.current.element||(_(),o.current.element=b,o.current.scrollContainers=T$(b),S())};return zTe(v,!!e),kTe(y),H.useEffect(()=>{_(),S()},[e,v,y]),H.useEffect(()=>_,[]),[E,s,p]}function kTe(n){H.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function zTe(n,e){H.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function T$(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:i,overflowY:r}=window.getComputedStyle(n);return[t,i,r].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...T$(n.parentElement)]}const BTe=["x","y","top","bottom","left","right","width","height"],FTe=(n,e)=>BTe.every(t=>n[t]===e[t]);function VTe({ref:n,children:e,fallback:t,resize:i,style:r,gl:s,events:a=LTe,eventSource:o,eventPrefix:l,shadows:u,linear:d,flat:p,legacy:y,orthographic:v,frameloop:_,dpr:S,performance:E,raycaster:b,camera:w,scene:A,onPointerMissed:C,onCreated:D,...N}){H.useMemo(()=>v$(Vpe),[]);const I=rTe(),[L,P]=UTe({scroll:!0,debounce:{scroll:50,resize:0},...i}),U=H.useRef(null),F=H.useRef(null);H.useImperativeHandle(n,()=>U.current);const z=R4(C),[V,Y]=H.useState(!1),[ee,q]=H.useState(!1);if(V)throw V;if(ee)throw ee;const $=H.useRef(null);fE(()=>{const se=U.current;if(P.width>0&&P.height>0&&se){$.current||($.current=MTe(se));async function fe(){await $.current.configure({gl:s,scene:A,events:a,shadows:u,linear:d,flat:p,legacy:y,orthographic:v,frameloop:_,dpr:S,performance:E,raycaster:b,camera:w,size:P,onPointerMissed:(...K)=>z.current==null?void 0:z.current(...K),onCreated:K=>{K.events.connect==null||K.events.connect(o?nTe(o)?o.current:o:F.current),l&&K.setEvents({compute:(le,pe)=>{const ue=le[l+"X"],ie=le[l+"Y"];pe.pointer.set(ue/pe.size.width*2-1,-(ie/pe.size.height)*2+1),pe.raycaster.setFromCamera(pe.pointer,pe.camera)}}),D?.(K)}}),$.current.render(Z.jsx(I,{children:Z.jsx(aTe,{set:q,children:Z.jsx(H.Suspense,{fallback:Z.jsx(sTe,{set:Y}),children:e??null})})}))}fe()}}),H.useEffect(()=>{const se=U.current;if(se)return()=>S$(se)},[]);const Q=o?"none":"auto";return Z.jsx("div",{ref:F,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:Q,...r},...N,children:Z.jsx("div",{ref:L,style:{width:"100%",height:"100%"},children:Z.jsx("canvas",{ref:U,style:{display:"block"},children:t})})})}function HTe(n){return Z.jsx(c$,{children:Z.jsx(VTe,{...n})})}function jTe(n,e,t){const i=Cs(v=>v.size),r=Cs(v=>v.viewport),s=typeof n=="number"?n:i.width*r.dpr,a=i.height*r.dpr,o=(typeof n=="number"?t:n)||{},{samples:l=0,depth:u,...d}=o,p=u??o.depthBuffer,y=H.useMemo(()=>{const v=new Eu(s,a,{minFilter:ps,magFilter:ps,type:xy,...d});return p&&(v.depthTexture=new XS(s,a,Io)),v.samples=l,v},[]);return H.useLayoutEffect(()=>{y.setSize(s,a),l&&(y.samples=l)},[l,y,s,a]),H.useEffect(()=>()=>y.dispose(),[]),y}const GTe=n=>typeof n=="function",qTe=H.forwardRef(({envMap:n,resolution:e=256,frames:t=1/0,children:i,makeDefault:r,...s},a)=>{const o=Cs(({set:E})=>E),l=Cs(({camera:E})=>E),u=Cs(({size:E})=>E),d=H.useRef(null);H.useImperativeHandle(a,()=>d.current,[]);const p=H.useRef(null),y=jTe(e);H.useLayoutEffect(()=>{s.manual||d.current.updateProjectionMatrix()},[u,s]),H.useLayoutEffect(()=>{d.current.updateProjectionMatrix()}),H.useLayoutEffect(()=>{if(r){const E=l;return o(()=>({camera:d.current})),()=>o(()=>({camera:E}))}},[d,r,o]);let v=0,_=null;const S=GTe(i);return pE(E=>{S&&(t===1/0||v<t)&&(p.current.visible=!1,E.gl.setRenderTarget(y),_=E.scene.background,n&&(E.scene.background=n),E.gl.render(E.scene,d.current),E.scene.background=_,E.gl.setRenderTarget(null),p.current.visible=!0,v++)}),H.createElement(H.Fragment,null,H.createElement("orthographicCamera",el({left:u.width/-2,right:u.width/2,top:u.height/2,bottom:u.height/-2,ref:d},s),!S&&i),H.createElement("group",{ref:p},S&&i(y.texture)))});/*!
 * camera-controls
 * https://github.com/yomotsu/camera-controls
 * (c) 2017 @yomotsu
 * Released under the MIT License.
 */const Dr={LEFT:1,RIGHT:2,MIDDLE:4},ze=Object.freeze({NONE:0,ROTATE:1,TRUCK:2,SCREEN_PAN:4,OFFSET:8,DOLLY:16,ZOOM:32,TOUCH_ROTATE:64,TOUCH_TRUCK:128,TOUCH_SCREEN_PAN:256,TOUCH_OFFSET:512,TOUCH_DOLLY:1024,TOUCH_ZOOM:2048,TOUCH_DOLLY_TRUCK:4096,TOUCH_DOLLY_SCREEN_PAN:8192,TOUCH_DOLLY_OFFSET:16384,TOUCH_DOLLY_ROTATE:32768,TOUCH_ZOOM_TRUCK:65536,TOUCH_ZOOM_OFFSET:131072,TOUCH_ZOOM_SCREEN_PAN:262144,TOUCH_ZOOM_ROTATE:524288}),Jv={NONE:0,IN:1,OUT:-1};function Tg(n){return n.isPerspectiveCamera}function vp(n){return n.isOrthographicCamera}const gp=Math.PI*2,A9=Math.PI/2,w$=1e-5,O1=Math.PI/180;function fu(n,e,t){return Math.max(e,Math.min(t,n))}function ar(n,e=w$){return Math.abs(n)<e}function Li(n,e,t=w$){return ar(n-e,t)}function M9(n,e){return Math.round(n/e)*e}function I1(n){return isFinite(n)?n:n<0?-Number.MAX_VALUE:Number.MAX_VALUE}function P1(n){return Math.abs(n)<Number.MAX_VALUE?n:n*(1/0)}function kw(n,e,t,i,r=1/0,s){i=Math.max(1e-4,i);const a=2/i,o=a*s,l=1/(1+o+.48*o*o+.235*o*o*o);let u=n-e;const d=e,p=r*i;u=fu(u,-p,p),e=n-u;const y=(t.value+a*u)*s;t.value=(t.value-a*y)*l;let v=e+(u+y)*l;return d-n>0==v>d&&(v=d,t.value=(v-d)/s),v}function R9(n,e,t,i,r=1/0,s,a){i=Math.max(1e-4,i);const o=2/i,l=o*s,u=1/(1+l+.48*l*l+.235*l*l*l);let d=e.x,p=e.y,y=e.z,v=n.x-d,_=n.y-p,S=n.z-y;const E=d,b=p,w=y,A=r*i,C=A*A,D=v*v+_*_+S*S;if(D>C){const ee=Math.sqrt(D);v=v/ee*A,_=_/ee*A,S=S/ee*A}d=n.x-v,p=n.y-_,y=n.z-S;const N=(t.x+o*v)*s,I=(t.y+o*_)*s,L=(t.z+o*S)*s;t.x=(t.x-o*N)*u,t.y=(t.y-o*I)*u,t.z=(t.z-o*L)*u,a.x=d+(v+N)*u,a.y=p+(_+I)*u,a.z=y+(S+L)*u;const P=E-n.x,U=b-n.y,F=w-n.z,z=a.x-E,V=a.y-b,Y=a.z-w;return P*z+U*V+F*Y>0&&(a.x=E,a.y=b,a.z=w,t.x=(a.x-E)/s,t.y=(a.y-b)/s,t.z=(a.z-w)/s),a}function QI(n,e){e.set(0,0),n.forEach(t=>{e.x+=t.clientX,e.y+=t.clientY}),e.x/=n.length,e.y/=n.length}function JI(n,e){return vp(n)?(console.warn(`${e} is not supported in OrthographicCamera`),!0):!1}class WTe{_listeners={};addEventListener(e,t){const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}removeAllEventListeners(e){if(!e){this._listeners={};return}Array.isArray(this._listeners[e])&&(this._listeners[e].length=0)}dispatchEvent(e){const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,a=r.length;s<a;s++)r[s].call(this,e)}}}const $Te="3.1.2",zw=1/8,XTe=/Mac/.test(globalThis?.navigator?.platform);let xn,O9,Bw,e3,Yo,jn,Ai,e0,D1,ch,uh,wg,I9,P9,Rl,t0,n0,D9,t3,N9,n3,i3,Fw,YTe=class gD extends WTe{static install(e){xn=e.THREE,O9=Object.freeze(new xn.Vector3(0,0,0)),Bw=Object.freeze(new xn.Vector3(0,1,0)),e3=Object.freeze(new xn.Vector3(0,0,1)),Yo=new xn.Vector2,jn=new xn.Vector3,Ai=new xn.Vector3,e0=new xn.Vector3,D1=new xn.Vector3,ch=new xn.Vector3,uh=new xn.Vector3,wg=new xn.Vector3,I9=new xn.Vector3,P9=new xn.Vector3,Rl=new xn.Spherical,t0=new xn.Spherical,n0=new xn.Box3,D9=new xn.Box3,t3=new xn.Sphere,N9=new xn.Quaternion,n3=new xn.Quaternion,i3=new xn.Matrix4,Fw=new xn.Raycaster}static get ACTION(){return ze}minPolarAngle=0;maxPolarAngle=Math.PI;minAzimuthAngle=-1/0;maxAzimuthAngle=1/0;minDistance=Number.EPSILON;maxDistance=1/0;infinityDolly=!1;minZoom=.01;maxZoom=1/0;smoothTime=.25;draggingSmoothTime=.125;maxSpeed=1/0;azimuthRotateSpeed=1;polarRotateSpeed=1;dollySpeed=1;dollyDragInverted=!1;truckSpeed=2;dollyToCursor=!1;dragToOffset=!1;boundaryFriction=0;restThreshold=.01;colliderMeshes=[];mouseButtons;touches;cancel=()=>{};lockPointer;unlockPointer;_enabled=!0;_camera;_yAxisUpSpace;_yAxisUpSpaceInverse;_state=ze.NONE;_domElement;_viewport=null;_target;_targetEnd;_focalOffset;_focalOffsetEnd;_spherical;_sphericalEnd;_lastDistance;_zoom;_zoomEnd;_lastZoom;_cameraUp0;_target0;_position0;_zoom0;_focalOffset0;_dollyControlCoord;_changedDolly=0;_changedZoom=0;_nearPlaneCorners;_hasRested=!0;_boundary;_boundaryEnclosesCamera=!1;_needsUpdate=!0;_updatedLastTime=!1;_elementRect=new DOMRect;_isDragging=!1;_dragNeedsUpdate=!0;_activePointers=[];_lockedPointer=null;_interactiveArea=new DOMRect(0,0,1,1);_isUserControllingRotate=!1;_isUserControllingDolly=!1;_isUserControllingTruck=!1;_isUserControllingOffset=!1;_isUserControllingZoom=!1;_lastDollyDirection=Jv.NONE;_thetaVelocity={value:0};_phiVelocity={value:0};_radiusVelocity={value:0};_targetVelocity=new xn.Vector3;_focalOffsetVelocity=new xn.Vector3;_zoomVelocity={value:0};set verticalDragToForward(e){console.warn("camera-controls: `verticalDragToForward` was removed. Use `mouseButtons.left = CameraControls.ACTION.SCREEN_PAN` instead.")}constructor(e,t){super(),typeof xn>"u"&&console.error("camera-controls: `THREE` is undefined. You must first run `CameraControls.install( { THREE: THREE } )`. Check the docs for further information."),this._camera=e,this._yAxisUpSpace=new xn.Quaternion().setFromUnitVectors(this._camera.up,Bw),this._yAxisUpSpaceInverse=this._yAxisUpSpace.clone().invert(),this._state=ze.NONE,this._target=new xn.Vector3,this._targetEnd=this._target.clone(),this._focalOffset=new xn.Vector3,this._focalOffsetEnd=this._focalOffset.clone(),this._spherical=new xn.Spherical().setFromVector3(jn.copy(this._camera.position).applyQuaternion(this._yAxisUpSpace)),this._sphericalEnd=this._spherical.clone(),this._lastDistance=this._spherical.radius,this._zoom=this._camera.zoom,this._zoomEnd=this._zoom,this._lastZoom=this._zoom,this._nearPlaneCorners=[new xn.Vector3,new xn.Vector3,new xn.Vector3,new xn.Vector3],this._updateNearPlaneCorners(),this._boundary=new xn.Box3(new xn.Vector3(-1/0,-1/0,-1/0),new xn.Vector3(1/0,1/0,1/0)),this._cameraUp0=this._camera.up.clone(),this._target0=this._target.clone(),this._position0=this._camera.position.clone(),this._zoom0=this._zoom,this._focalOffset0=this._focalOffset.clone(),this._dollyControlCoord=new xn.Vector2,this.mouseButtons={left:ze.ROTATE,middle:ze.DOLLY,right:ze.TRUCK,wheel:Tg(this._camera)?ze.DOLLY:vp(this._camera)?ze.ZOOM:ze.NONE},this.touches={one:ze.TOUCH_ROTATE,two:Tg(this._camera)?ze.TOUCH_DOLLY_TRUCK:vp(this._camera)?ze.TOUCH_ZOOM_TRUCK:ze.NONE,three:ze.TOUCH_TRUCK};const i=new xn.Vector2,r=new xn.Vector2,s=new xn.Vector2,a=b=>{if(!this._enabled||!this._domElement)return;if(this._interactiveArea.left!==0||this._interactiveArea.top!==0||this._interactiveArea.width!==1||this._interactiveArea.height!==1){const C=this._domElement.getBoundingClientRect(),D=b.clientX/C.width,N=b.clientY/C.height;if(D<this._interactiveArea.left||D>this._interactiveArea.right||N<this._interactiveArea.top||N>this._interactiveArea.bottom)return}const w=b.pointerType!=="mouse"?null:(b.buttons&Dr.LEFT)===Dr.LEFT?Dr.LEFT:(b.buttons&Dr.MIDDLE)===Dr.MIDDLE?Dr.MIDDLE:(b.buttons&Dr.RIGHT)===Dr.RIGHT?Dr.RIGHT:null;if(w!==null){const C=this._findPointerByMouseButton(w);C&&this._disposePointer(C)}if((b.buttons&Dr.LEFT)===Dr.LEFT&&this._lockedPointer)return;const A={pointerId:b.pointerId,clientX:b.clientX,clientY:b.clientY,deltaX:0,deltaY:0,mouseButton:w};this._activePointers.push(A),this._domElement.ownerDocument.removeEventListener("pointermove",o,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",l),this._domElement.ownerDocument.addEventListener("pointermove",o,{passive:!1}),this._domElement.ownerDocument.addEventListener("pointerup",l),this._isDragging=!0,y(b)},o=b=>{b.cancelable&&b.preventDefault();const w=b.pointerId,A=this._lockedPointer||this._findPointerById(w);if(A){if(A.clientX=b.clientX,A.clientY=b.clientY,A.deltaX=b.movementX,A.deltaY=b.movementY,this._state=0,b.pointerType==="touch")switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else(!this._isDragging&&this._lockedPointer||this._isDragging&&(b.buttons&Dr.LEFT)===Dr.LEFT)&&(this._state=this._state|this.mouseButtons.left),this._isDragging&&(b.buttons&Dr.MIDDLE)===Dr.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),this._isDragging&&(b.buttons&Dr.RIGHT)===Dr.RIGHT&&(this._state=this._state|this.mouseButtons.right);v()}},l=b=>{const w=this._findPointerById(b.pointerId);if(!(w&&w===this._lockedPointer)){if(w&&this._disposePointer(w),b.pointerType==="touch")switch(this._activePointers.length){case 0:this._state=ze.NONE;break;case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else this._state=ze.NONE;_()}};let u=-1;const d=b=>{if(!this._domElement||!this._enabled||this.mouseButtons.wheel===ze.NONE)return;if(this._interactiveArea.left!==0||this._interactiveArea.top!==0||this._interactiveArea.width!==1||this._interactiveArea.height!==1){const I=this._domElement.getBoundingClientRect(),L=b.clientX/I.width,P=b.clientY/I.height;if(L<this._interactiveArea.left||L>this._interactiveArea.right||P<this._interactiveArea.top||P>this._interactiveArea.bottom)return}if(b.preventDefault(),this.dollyToCursor||this.mouseButtons.wheel===ze.ROTATE||this.mouseButtons.wheel===ze.TRUCK){const I=performance.now();u-I<1e3&&this._getClientRect(this._elementRect),u=I}const w=XTe?-1:-3,A=b.deltaMode===1&&!b.ctrlKey?b.deltaY/w:b.deltaY/(w*10),C=this.dollyToCursor?(b.clientX-this._elementRect.x)/this._elementRect.width*2-1:0,D=this.dollyToCursor?(b.clientY-this._elementRect.y)/this._elementRect.height*-2+1:0;switch(b.ctrlKey?ze.ZOOM:this.mouseButtons.wheel){case ze.ROTATE:{this._rotateInternal(b.deltaX,b.deltaY),this._isUserControllingRotate=!0;break}case ze.TRUCK:{this._truckInternal(b.deltaX,b.deltaY,!1,!1),this._isUserControllingTruck=!0;break}case ze.SCREEN_PAN:{this._truckInternal(b.deltaX,b.deltaY,!1,!0),this._isUserControllingTruck=!0;break}case ze.OFFSET:{this._truckInternal(b.deltaX,b.deltaY,!0,!1),this._isUserControllingOffset=!0;break}case ze.DOLLY:{this._dollyInternal(-A,C,D),this._isUserControllingDolly=!0;break}case ze.ZOOM:{this._zoomInternal(-A,C,D),this._isUserControllingZoom=!0;break}}this.dispatchEvent({type:"control"})},p=b=>{if(!(!this._domElement||!this._enabled)){if(this.mouseButtons.right===gD.ACTION.NONE){const w=b instanceof PointerEvent?b.pointerId:0,A=this._findPointerById(w);A&&this._disposePointer(A),this._domElement.ownerDocument.removeEventListener("pointermove",o,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",l);return}b.preventDefault()}},y=b=>{if(!this._enabled)return;if(QI(this._activePointers,Yo),this._getClientRect(this._elementRect),i.copy(Yo),r.copy(Yo),this._activePointers.length>=2){const A=Yo.x-this._activePointers[1].clientX,C=Yo.y-this._activePointers[1].clientY,D=Math.sqrt(A*A+C*C);s.set(0,D);const N=(this._activePointers[0].clientX+this._activePointers[1].clientX)*.5,I=(this._activePointers[0].clientY+this._activePointers[1].clientY)*.5;r.set(N,I)}if(this._state=0,!b)this._lockedPointer&&(this._state=this._state|this.mouseButtons.left);else if("pointerType"in b&&b.pointerType==="touch")switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else!this._lockedPointer&&(b.buttons&Dr.LEFT)===Dr.LEFT&&(this._state=this._state|this.mouseButtons.left),(b.buttons&Dr.MIDDLE)===Dr.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),(b.buttons&Dr.RIGHT)===Dr.RIGHT&&(this._state=this._state|this.mouseButtons.right);((this._state&ze.ROTATE)===ze.ROTATE||(this._state&ze.TOUCH_ROTATE)===ze.TOUCH_ROTATE||(this._state&ze.TOUCH_DOLLY_ROTATE)===ze.TOUCH_DOLLY_ROTATE||(this._state&ze.TOUCH_ZOOM_ROTATE)===ze.TOUCH_ZOOM_ROTATE)&&(this._sphericalEnd.theta=this._spherical.theta,this._sphericalEnd.phi=this._spherical.phi,this._thetaVelocity.value=0,this._phiVelocity.value=0),((this._state&ze.TRUCK)===ze.TRUCK||(this._state&ze.SCREEN_PAN)===ze.SCREEN_PAN||(this._state&ze.TOUCH_TRUCK)===ze.TOUCH_TRUCK||(this._state&ze.TOUCH_SCREEN_PAN)===ze.TOUCH_SCREEN_PAN||(this._state&ze.TOUCH_DOLLY_TRUCK)===ze.TOUCH_DOLLY_TRUCK||(this._state&ze.TOUCH_DOLLY_SCREEN_PAN)===ze.TOUCH_DOLLY_SCREEN_PAN||(this._state&ze.TOUCH_ZOOM_TRUCK)===ze.TOUCH_ZOOM_TRUCK||(this._state&ze.TOUCH_ZOOM_SCREEN_PAN)===ze.TOUCH_DOLLY_SCREEN_PAN)&&(this._targetEnd.copy(this._target),this._targetVelocity.set(0,0,0)),((this._state&ze.DOLLY)===ze.DOLLY||(this._state&ze.TOUCH_DOLLY)===ze.TOUCH_DOLLY||(this._state&ze.TOUCH_DOLLY_TRUCK)===ze.TOUCH_DOLLY_TRUCK||(this._state&ze.TOUCH_DOLLY_SCREEN_PAN)===ze.TOUCH_DOLLY_SCREEN_PAN||(this._state&ze.TOUCH_DOLLY_OFFSET)===ze.TOUCH_DOLLY_OFFSET||(this._state&ze.TOUCH_DOLLY_ROTATE)===ze.TOUCH_DOLLY_ROTATE)&&(this._sphericalEnd.radius=this._spherical.radius,this._radiusVelocity.value=0),((this._state&ze.ZOOM)===ze.ZOOM||(this._state&ze.TOUCH_ZOOM)===ze.TOUCH_ZOOM||(this._state&ze.TOUCH_ZOOM_TRUCK)===ze.TOUCH_ZOOM_TRUCK||(this._state&ze.TOUCH_ZOOM_SCREEN_PAN)===ze.TOUCH_ZOOM_SCREEN_PAN||(this._state&ze.TOUCH_ZOOM_OFFSET)===ze.TOUCH_ZOOM_OFFSET||(this._state&ze.TOUCH_ZOOM_ROTATE)===ze.TOUCH_ZOOM_ROTATE)&&(this._zoomEnd=this._zoom,this._zoomVelocity.value=0),((this._state&ze.OFFSET)===ze.OFFSET||(this._state&ze.TOUCH_OFFSET)===ze.TOUCH_OFFSET||(this._state&ze.TOUCH_DOLLY_OFFSET)===ze.TOUCH_DOLLY_OFFSET||(this._state&ze.TOUCH_ZOOM_OFFSET)===ze.TOUCH_ZOOM_OFFSET)&&(this._focalOffsetEnd.copy(this._focalOffset),this._focalOffsetVelocity.set(0,0,0)),this.dispatchEvent({type:"controlstart"})},v=()=>{if(!this._enabled||!this._dragNeedsUpdate)return;this._dragNeedsUpdate=!1,QI(this._activePointers,Yo);const w=this._domElement&&this._domElement.ownerDocument.pointerLockElement===this._domElement?this._lockedPointer||this._activePointers[0]:null,A=w?-w.deltaX:r.x-Yo.x,C=w?-w.deltaY:r.y-Yo.y;if(r.copy(Yo),((this._state&ze.ROTATE)===ze.ROTATE||(this._state&ze.TOUCH_ROTATE)===ze.TOUCH_ROTATE||(this._state&ze.TOUCH_DOLLY_ROTATE)===ze.TOUCH_DOLLY_ROTATE||(this._state&ze.TOUCH_ZOOM_ROTATE)===ze.TOUCH_ZOOM_ROTATE)&&(this._rotateInternal(A,C),this._isUserControllingRotate=!0),(this._state&ze.DOLLY)===ze.DOLLY||(this._state&ze.ZOOM)===ze.ZOOM){const D=this.dollyToCursor?(i.x-this._elementRect.x)/this._elementRect.width*2-1:0,N=this.dollyToCursor?(i.y-this._elementRect.y)/this._elementRect.height*-2+1:0,I=this.dollyDragInverted?-1:1;(this._state&ze.DOLLY)===ze.DOLLY?(this._dollyInternal(I*C*zw,D,N),this._isUserControllingDolly=!0):(this._zoomInternal(I*C*zw,D,N),this._isUserControllingZoom=!0)}if((this._state&ze.TOUCH_DOLLY)===ze.TOUCH_DOLLY||(this._state&ze.TOUCH_ZOOM)===ze.TOUCH_ZOOM||(this._state&ze.TOUCH_DOLLY_TRUCK)===ze.TOUCH_DOLLY_TRUCK||(this._state&ze.TOUCH_ZOOM_TRUCK)===ze.TOUCH_ZOOM_TRUCK||(this._state&ze.TOUCH_DOLLY_SCREEN_PAN)===ze.TOUCH_DOLLY_SCREEN_PAN||(this._state&ze.TOUCH_ZOOM_SCREEN_PAN)===ze.TOUCH_ZOOM_SCREEN_PAN||(this._state&ze.TOUCH_DOLLY_OFFSET)===ze.TOUCH_DOLLY_OFFSET||(this._state&ze.TOUCH_ZOOM_OFFSET)===ze.TOUCH_ZOOM_OFFSET||(this._state&ze.TOUCH_DOLLY_ROTATE)===ze.TOUCH_DOLLY_ROTATE||(this._state&ze.TOUCH_ZOOM_ROTATE)===ze.TOUCH_ZOOM_ROTATE){const D=Yo.x-this._activePointers[1].clientX,N=Yo.y-this._activePointers[1].clientY,I=Math.sqrt(D*D+N*N),L=s.y-I;s.set(0,I);const P=this.dollyToCursor?(r.x-this._elementRect.x)/this._elementRect.width*2-1:0,U=this.dollyToCursor?(r.y-this._elementRect.y)/this._elementRect.height*-2+1:0;(this._state&ze.TOUCH_DOLLY)===ze.TOUCH_DOLLY||(this._state&ze.TOUCH_DOLLY_ROTATE)===ze.TOUCH_DOLLY_ROTATE||(this._state&ze.TOUCH_DOLLY_TRUCK)===ze.TOUCH_DOLLY_TRUCK||(this._state&ze.TOUCH_DOLLY_SCREEN_PAN)===ze.TOUCH_DOLLY_SCREEN_PAN||(this._state&ze.TOUCH_DOLLY_OFFSET)===ze.TOUCH_DOLLY_OFFSET?(this._dollyInternal(L*zw,P,U),this._isUserControllingDolly=!0):(this._zoomInternal(L*zw,P,U),this._isUserControllingZoom=!0)}((this._state&ze.TRUCK)===ze.TRUCK||(this._state&ze.TOUCH_TRUCK)===ze.TOUCH_TRUCK||(this._state&ze.TOUCH_DOLLY_TRUCK)===ze.TOUCH_DOLLY_TRUCK||(this._state&ze.TOUCH_ZOOM_TRUCK)===ze.TOUCH_ZOOM_TRUCK)&&(this._truckInternal(A,C,!1,!1),this._isUserControllingTruck=!0),((this._state&ze.SCREEN_PAN)===ze.SCREEN_PAN||(this._state&ze.TOUCH_SCREEN_PAN)===ze.TOUCH_SCREEN_PAN||(this._state&ze.TOUCH_DOLLY_SCREEN_PAN)===ze.TOUCH_DOLLY_SCREEN_PAN||(this._state&ze.TOUCH_ZOOM_SCREEN_PAN)===ze.TOUCH_ZOOM_SCREEN_PAN)&&(this._truckInternal(A,C,!1,!0),this._isUserControllingTruck=!0),((this._state&ze.OFFSET)===ze.OFFSET||(this._state&ze.TOUCH_OFFSET)===ze.TOUCH_OFFSET||(this._state&ze.TOUCH_DOLLY_OFFSET)===ze.TOUCH_DOLLY_OFFSET||(this._state&ze.TOUCH_ZOOM_OFFSET)===ze.TOUCH_ZOOM_OFFSET)&&(this._truckInternal(A,C,!0,!1),this._isUserControllingOffset=!0),this.dispatchEvent({type:"control"})},_=()=>{QI(this._activePointers,Yo),r.copy(Yo),this._dragNeedsUpdate=!1,(this._activePointers.length===0||this._activePointers.length===1&&this._activePointers[0]===this._lockedPointer)&&(this._isDragging=!1),this._activePointers.length===0&&this._domElement&&(this._domElement.ownerDocument.removeEventListener("pointermove",o,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",l),this.dispatchEvent({type:"controlend"}))};this.lockPointer=()=>{!this._enabled||!this._domElement||(this.cancel(),this._lockedPointer={pointerId:-1,clientX:0,clientY:0,deltaX:0,deltaY:0,mouseButton:null},this._activePointers.push(this._lockedPointer),this._domElement.ownerDocument.removeEventListener("pointermove",o,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",l),this._domElement.requestPointerLock(),this._domElement.ownerDocument.addEventListener("pointerlockchange",S),this._domElement.ownerDocument.addEventListener("pointerlockerror",E),this._domElement.ownerDocument.addEventListener("pointermove",o,{passive:!1}),this._domElement.ownerDocument.addEventListener("pointerup",l),y())},this.unlockPointer=()=>{this._lockedPointer!==null&&(this._disposePointer(this._lockedPointer),this._lockedPointer=null),this._domElement?.ownerDocument.exitPointerLock(),this._domElement?.ownerDocument.removeEventListener("pointerlockchange",S),this._domElement?.ownerDocument.removeEventListener("pointerlockerror",E),this.cancel()};const S=()=>{this._domElement&&this._domElement.ownerDocument.pointerLockElement===this._domElement||this.unlockPointer()},E=()=>{this.unlockPointer()};this._addAllEventListeners=b=>{this._domElement=b,this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none",this._domElement.addEventListener("pointerdown",a),this._domElement.addEventListener("pointercancel",l),this._domElement.addEventListener("wheel",d,{passive:!1}),this._domElement.addEventListener("contextmenu",p)},this._removeAllEventListeners=()=>{this._domElement&&(this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect="",this._domElement.removeEventListener("pointerdown",a),this._domElement.removeEventListener("pointercancel",l),this._domElement.removeEventListener("wheel",d,{passive:!1}),this._domElement.removeEventListener("contextmenu",p),this._domElement.ownerDocument.removeEventListener("pointermove",o,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",l),this._domElement.ownerDocument.removeEventListener("pointerlockchange",S),this._domElement.ownerDocument.removeEventListener("pointerlockerror",E))},this.cancel=()=>{this._state!==ze.NONE&&(this._state=ze.NONE,this._activePointers.length=0,_())},t&&this.connect(t),this.update(0)}get camera(){return this._camera}set camera(e){this._camera=e,this.updateCameraUp(),this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._domElement&&(e?(this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none"):(this.cancel(),this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect=""))}get active(){return!this._hasRested}get currentAction(){return this._state}get distance(){return this._spherical.radius}set distance(e){this._spherical.radius===e&&this._sphericalEnd.radius===e||(this._spherical.radius=e,this._sphericalEnd.radius=e,this._needsUpdate=!0)}get azimuthAngle(){return this._spherical.theta}set azimuthAngle(e){this._spherical.theta===e&&this._sphericalEnd.theta===e||(this._spherical.theta=e,this._sphericalEnd.theta=e,this._needsUpdate=!0)}get polarAngle(){return this._spherical.phi}set polarAngle(e){this._spherical.phi===e&&this._sphericalEnd.phi===e||(this._spherical.phi=e,this._sphericalEnd.phi=e,this._needsUpdate=!0)}get boundaryEnclosesCamera(){return this._boundaryEnclosesCamera}set boundaryEnclosesCamera(e){this._boundaryEnclosesCamera=e,this._needsUpdate=!0}set interactiveArea(e){this._interactiveArea.width=fu(e.width,0,1),this._interactiveArea.height=fu(e.height,0,1),this._interactiveArea.x=fu(e.x,0,1-this._interactiveArea.width),this._interactiveArea.y=fu(e.y,0,1-this._interactiveArea.height)}addEventListener(e,t){super.addEventListener(e,t)}removeEventListener(e,t){super.removeEventListener(e,t)}rotate(e,t,i=!1){return this.rotateTo(this._sphericalEnd.theta+e,this._sphericalEnd.phi+t,i)}rotateAzimuthTo(e,t=!1){return this.rotateTo(e,this._sphericalEnd.phi,t)}rotatePolarTo(e,t=!1){return this.rotateTo(this._sphericalEnd.theta,e,t)}rotateTo(e,t,i=!1){this._isUserControllingRotate=!1;const r=fu(e,this.minAzimuthAngle,this.maxAzimuthAngle),s=fu(t,this.minPolarAngle,this.maxPolarAngle);this._sphericalEnd.theta=r,this._sphericalEnd.phi=s,this._sphericalEnd.makeSafe(),this._needsUpdate=!0,i||(this._spherical.theta=this._sphericalEnd.theta,this._spherical.phi=this._sphericalEnd.phi);const a=!i||Li(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&Li(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold);return this._createOnRestPromise(a)}dolly(e,t=!1){return this.dollyTo(this._sphericalEnd.radius-e,t)}dollyTo(e,t=!1){return this._isUserControllingDolly=!1,this._lastDollyDirection=Jv.NONE,this._changedDolly=0,this._dollyToNoClamp(fu(e,this.minDistance,this.maxDistance),t)}_dollyToNoClamp(e,t=!1){const i=this._sphericalEnd.radius;if(this.colliderMeshes.length>=1){const a=this._collisionTest(),o=Li(a,this._spherical.radius);if(!(i>e)&&o)return Promise.resolve();this._sphericalEnd.radius=Math.min(e,a)}else this._sphericalEnd.radius=e;this._needsUpdate=!0,t||(this._spherical.radius=this._sphericalEnd.radius);const s=!t||Li(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(s)}dollyInFixed(e,t=!1){this._targetEnd.add(this._getCameraDirection(D1).multiplyScalar(e)),t||this._target.copy(this._targetEnd);const i=!t||Li(this._target.x,this._targetEnd.x,this.restThreshold)&&Li(this._target.y,this._targetEnd.y,this.restThreshold)&&Li(this._target.z,this._targetEnd.z,this.restThreshold);return this._createOnRestPromise(i)}zoom(e,t=!1){return this.zoomTo(this._zoomEnd+e,t)}zoomTo(e,t=!1){this._isUserControllingZoom=!1,this._zoomEnd=fu(e,this.minZoom,this.maxZoom),this._needsUpdate=!0,t||(this._zoom=this._zoomEnd);const i=!t||Li(this._zoom,this._zoomEnd,this.restThreshold);return this._changedZoom=0,this._createOnRestPromise(i)}pan(e,t,i=!1){return console.warn("`pan` has been renamed to `truck`"),this.truck(e,t,i)}truck(e,t,i=!1){this._camera.updateMatrix(),ch.setFromMatrixColumn(this._camera.matrix,0),uh.setFromMatrixColumn(this._camera.matrix,1),ch.multiplyScalar(e),uh.multiplyScalar(-t);const r=jn.copy(ch).add(uh),s=Ai.copy(this._targetEnd).add(r);return this.moveTo(s.x,s.y,s.z,i)}forward(e,t=!1){jn.setFromMatrixColumn(this._camera.matrix,0),jn.crossVectors(this._camera.up,jn),jn.multiplyScalar(e);const i=Ai.copy(this._targetEnd).add(jn);return this.moveTo(i.x,i.y,i.z,t)}elevate(e,t=!1){return jn.copy(this._camera.up).multiplyScalar(e),this.moveTo(this._targetEnd.x+jn.x,this._targetEnd.y+jn.y,this._targetEnd.z+jn.z,t)}moveTo(e,t,i,r=!1){this._isUserControllingTruck=!1;const s=jn.set(e,t,i).sub(this._targetEnd);this._encloseToBoundary(this._targetEnd,s,this.boundaryFriction),this._needsUpdate=!0,r||this._target.copy(this._targetEnd);const a=!r||Li(this._target.x,this._targetEnd.x,this.restThreshold)&&Li(this._target.y,this._targetEnd.y,this.restThreshold)&&Li(this._target.z,this._targetEnd.z,this.restThreshold);return this._createOnRestPromise(a)}lookInDirectionOf(e,t,i,r=!1){const o=jn.set(e,t,i).sub(this._targetEnd).normalize().multiplyScalar(-this._sphericalEnd.radius).add(this._targetEnd);return this.setPosition(o.x,o.y,o.z,r)}fitToBox(e,t,{cover:i=!1,paddingLeft:r=0,paddingRight:s=0,paddingBottom:a=0,paddingTop:o=0}={}){const l=[],u=e.isBox3?n0.copy(e):n0.setFromObject(e);u.isEmpty()&&(console.warn("camera-controls: fitTo() cannot be used with an empty box. Aborting"),Promise.resolve());const d=M9(this._sphericalEnd.theta,A9),p=M9(this._sphericalEnd.phi,A9);l.push(this.rotateTo(d,p,t));const y=jn.setFromSpherical(this._sphericalEnd).normalize(),v=N9.setFromUnitVectors(y,e3),_=Li(Math.abs(y.y),1);_&&v.multiply(n3.setFromAxisAngle(Bw,d)),v.multiply(this._yAxisUpSpaceInverse);const S=D9.makeEmpty();Ai.copy(u.min).applyQuaternion(v),S.expandByPoint(Ai),Ai.copy(u.min).setX(u.max.x).applyQuaternion(v),S.expandByPoint(Ai),Ai.copy(u.min).setY(u.max.y).applyQuaternion(v),S.expandByPoint(Ai),Ai.copy(u.max).setZ(u.min.z).applyQuaternion(v),S.expandByPoint(Ai),Ai.copy(u.min).setZ(u.max.z).applyQuaternion(v),S.expandByPoint(Ai),Ai.copy(u.max).setY(u.min.y).applyQuaternion(v),S.expandByPoint(Ai),Ai.copy(u.max).setX(u.min.x).applyQuaternion(v),S.expandByPoint(Ai),Ai.copy(u.max).applyQuaternion(v),S.expandByPoint(Ai),S.min.x-=r,S.min.y-=a,S.max.x+=s,S.max.y+=o,v.setFromUnitVectors(e3,y),_&&v.premultiply(n3.invert()),v.premultiply(this._yAxisUpSpace);const E=S.getSize(jn),b=S.getCenter(Ai).applyQuaternion(v);if(Tg(this._camera)){const w=this.getDistanceToFitBox(E.x,E.y,E.z,i);l.push(this.moveTo(b.x,b.y,b.z,t)),l.push(this.dollyTo(w,t)),l.push(this.setFocalOffset(0,0,0,t))}else if(vp(this._camera)){const w=this._camera,A=w.right-w.left,C=w.top-w.bottom,D=i?Math.max(A/E.x,C/E.y):Math.min(A/E.x,C/E.y);l.push(this.moveTo(b.x,b.y,b.z,t)),l.push(this.zoomTo(D,t)),l.push(this.setFocalOffset(0,0,0,t))}return Promise.all(l)}fitToSphere(e,t){const i=[],s="isObject3D"in e?gD.createBoundingSphere(e,t3):t3.copy(e);if(i.push(this.moveTo(s.center.x,s.center.y,s.center.z,t)),Tg(this._camera)){const a=this.getDistanceToFitSphere(s.radius);i.push(this.dollyTo(a,t))}else if(vp(this._camera)){const a=this._camera.right-this._camera.left,o=this._camera.top-this._camera.bottom,l=2*s.radius,u=Math.min(a/l,o/l);i.push(this.zoomTo(u,t))}return i.push(this.setFocalOffset(0,0,0,t)),Promise.all(i)}setLookAt(e,t,i,r,s,a,o=!1){this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._lastDollyDirection=Jv.NONE,this._changedDolly=0;const l=Ai.set(r,s,a),u=jn.set(e,t,i);this._targetEnd.copy(l),this._sphericalEnd.setFromVector3(u.sub(l).applyQuaternion(this._yAxisUpSpace)),this._needsUpdate=!0,o||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));const d=!o||Li(this._target.x,this._targetEnd.x,this.restThreshold)&&Li(this._target.y,this._targetEnd.y,this.restThreshold)&&Li(this._target.z,this._targetEnd.z,this.restThreshold)&&Li(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&Li(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&Li(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(d)}lerp(e,t,i,r=!1){this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._lastDollyDirection=Jv.NONE,this._changedDolly=0;const s=jn.set(...e.target);if("spherical"in e)Rl.set(...e.spherical);else{const p=Ai.set(...e.position);Rl.setFromVector3(p.sub(s).applyQuaternion(this._yAxisUpSpace))}const a=e0.set(...t.target);if("spherical"in t)t0.set(...t.spherical);else{const p=Ai.set(...t.position);t0.setFromVector3(p.sub(a).applyQuaternion(this._yAxisUpSpace))}this._targetEnd.copy(s.lerp(a,i));const o=t0.theta-Rl.theta,l=t0.phi-Rl.phi,u=t0.radius-Rl.radius;this._sphericalEnd.set(Rl.radius+u*i,Rl.phi+l*i,Rl.theta+o*i),this._needsUpdate=!0,r||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));const d=!r||Li(this._target.x,this._targetEnd.x,this.restThreshold)&&Li(this._target.y,this._targetEnd.y,this.restThreshold)&&Li(this._target.z,this._targetEnd.z,this.restThreshold)&&Li(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&Li(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&Li(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(d)}lerpLookAt(e,t,i,r,s,a,o,l,u,d,p,y,v,_=!1){return this.lerp({position:[e,t,i],target:[r,s,a]},{position:[o,l,u],target:[d,p,y]},v,_)}setPosition(e,t,i,r=!1){return this.setLookAt(e,t,i,this._targetEnd.x,this._targetEnd.y,this._targetEnd.z,r)}setTarget(e,t,i,r=!1){const s=this.getPosition(jn),a=this.setLookAt(s.x,s.y,s.z,e,t,i,r);return this._sphericalEnd.phi=fu(this._sphericalEnd.phi,this.minPolarAngle,this.maxPolarAngle),a}setFocalOffset(e,t,i,r=!1){this._isUserControllingOffset=!1,this._focalOffsetEnd.set(e,t,i),this._needsUpdate=!0,r||this._focalOffset.copy(this._focalOffsetEnd);const s=!r||Li(this._focalOffset.x,this._focalOffsetEnd.x,this.restThreshold)&&Li(this._focalOffset.y,this._focalOffsetEnd.y,this.restThreshold)&&Li(this._focalOffset.z,this._focalOffsetEnd.z,this.restThreshold);return this._createOnRestPromise(s)}setOrbitPoint(e,t,i){this._camera.updateMatrixWorld(),ch.setFromMatrixColumn(this._camera.matrixWorldInverse,0),uh.setFromMatrixColumn(this._camera.matrixWorldInverse,1),wg.setFromMatrixColumn(this._camera.matrixWorldInverse,2);const r=jn.set(e,t,i),s=r.distanceTo(this._camera.position),a=r.sub(this._camera.position);ch.multiplyScalar(a.x),uh.multiplyScalar(a.y),wg.multiplyScalar(a.z),jn.copy(ch).add(uh).add(wg),jn.z=jn.z+s,this.dollyTo(s,!1),this.setFocalOffset(-jn.x,jn.y,-jn.z,!1),this.moveTo(e,t,i,!1)}setBoundary(e){if(!e){this._boundary.min.set(-1/0,-1/0,-1/0),this._boundary.max.set(1/0,1/0,1/0),this._needsUpdate=!0;return}this._boundary.copy(e),this._boundary.clampPoint(this._targetEnd,this._targetEnd),this._needsUpdate=!0}setViewport(e,t,i,r){if(e===null){this._viewport=null;return}this._viewport=this._viewport||new xn.Vector4,typeof e=="number"?this._viewport.set(e,t,i,r):this._viewport.copy(e)}getDistanceToFitBox(e,t,i,r=!1){if(JI(this._camera,"getDistanceToFitBox"))return this._spherical.radius;const s=e/t,a=this._camera.getEffectiveFOV()*O1,o=this._camera.aspect;return((r?s>o:s<o)?t:e/o)*.5/Math.tan(a*.5)+i*.5}getDistanceToFitSphere(e){if(JI(this._camera,"getDistanceToFitSphere"))return this._spherical.radius;const t=this._camera.getEffectiveFOV()*O1,i=Math.atan(Math.tan(t*.5)*this._camera.aspect)*2,r=1<this._camera.aspect?t:i;return e/Math.sin(r*.5)}getTarget(e,t=!0){return(e&&e.isVector3?e:new xn.Vector3).copy(t?this._targetEnd:this._target)}getPosition(e,t=!0){return(e&&e.isVector3?e:new xn.Vector3).setFromSpherical(t?this._sphericalEnd:this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(t?this._targetEnd:this._target)}getSpherical(e,t=!0){return(e||new xn.Spherical).copy(t?this._sphericalEnd:this._spherical)}getFocalOffset(e,t=!0){return(e&&e.isVector3?e:new xn.Vector3).copy(t?this._focalOffsetEnd:this._focalOffset)}normalizeRotations(){return this._sphericalEnd.theta=(this._sphericalEnd.theta%gp+gp)%gp,this._sphericalEnd.theta>Math.PI&&(this._sphericalEnd.theta-=gp),this._spherical.theta+=gp*Math.round((this._sphericalEnd.theta-this._spherical.theta)/gp),this}stop(){this._focalOffset.copy(this._focalOffsetEnd),this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd),this._zoom=this._zoomEnd}reset(e=!1){if(!Li(this._camera.up.x,this._cameraUp0.x)||!Li(this._camera.up.y,this._cameraUp0.y)||!Li(this._camera.up.z,this._cameraUp0.z)){this._camera.up.copy(this._cameraUp0);const i=this.getPosition(jn);this.updateCameraUp(),this.setPosition(i.x,i.y,i.z)}const t=[this.setLookAt(this._position0.x,this._position0.y,this._position0.z,this._target0.x,this._target0.y,this._target0.z,e),this.setFocalOffset(this._focalOffset0.x,this._focalOffset0.y,this._focalOffset0.z,e),this.zoomTo(this._zoom0,e)];return Promise.all(t)}saveState(){this._cameraUp0.copy(this._camera.up),this.getTarget(this._target0),this.getPosition(this._position0),this._zoom0=this._zoom,this._focalOffset0.copy(this._focalOffset)}updateCameraUp(){this._yAxisUpSpace.setFromUnitVectors(this._camera.up,Bw),this._yAxisUpSpaceInverse.copy(this._yAxisUpSpace).invert()}applyCameraUp(){const e=jn.subVectors(this._target,this._camera.position).normalize(),t=Ai.crossVectors(e,this._camera.up);this._camera.up.crossVectors(t,e).normalize(),this._camera.updateMatrixWorld();const i=this.getPosition(jn);this.updateCameraUp(),this.setPosition(i.x,i.y,i.z)}update(e){const t=this._sphericalEnd.theta-this._spherical.theta,i=this._sphericalEnd.phi-this._spherical.phi,r=this._sphericalEnd.radius-this._spherical.radius,s=I9.subVectors(this._targetEnd,this._target),a=P9.subVectors(this._focalOffsetEnd,this._focalOffset),o=this._zoomEnd-this._zoom;if(ar(t))this._thetaVelocity.value=0,this._spherical.theta=this._sphericalEnd.theta;else{const p=this._isUserControllingRotate?this.draggingSmoothTime:this.smoothTime;this._spherical.theta=kw(this._spherical.theta,this._sphericalEnd.theta,this._thetaVelocity,p,1/0,e),this._needsUpdate=!0}if(ar(i))this._phiVelocity.value=0,this._spherical.phi=this._sphericalEnd.phi;else{const p=this._isUserControllingRotate?this.draggingSmoothTime:this.smoothTime;this._spherical.phi=kw(this._spherical.phi,this._sphericalEnd.phi,this._phiVelocity,p,1/0,e),this._needsUpdate=!0}if(ar(r))this._radiusVelocity.value=0,this._spherical.radius=this._sphericalEnd.radius;else{const p=this._isUserControllingDolly?this.draggingSmoothTime:this.smoothTime;this._spherical.radius=kw(this._spherical.radius,this._sphericalEnd.radius,this._radiusVelocity,p,this.maxSpeed,e),this._needsUpdate=!0}if(ar(s.x)&&ar(s.y)&&ar(s.z))this._targetVelocity.set(0,0,0),this._target.copy(this._targetEnd);else{const p=this._isUserControllingTruck?this.draggingSmoothTime:this.smoothTime;R9(this._target,this._targetEnd,this._targetVelocity,p,this.maxSpeed,e,this._target),this._needsUpdate=!0}if(ar(a.x)&&ar(a.y)&&ar(a.z))this._focalOffsetVelocity.set(0,0,0),this._focalOffset.copy(this._focalOffsetEnd);else{const p=this._isUserControllingOffset?this.draggingSmoothTime:this.smoothTime;R9(this._focalOffset,this._focalOffsetEnd,this._focalOffsetVelocity,p,this.maxSpeed,e,this._focalOffset),this._needsUpdate=!0}if(ar(o))this._zoomVelocity.value=0,this._zoom=this._zoomEnd;else{const p=this._isUserControllingZoom?this.draggingSmoothTime:this.smoothTime;this._zoom=kw(this._zoom,this._zoomEnd,this._zoomVelocity,p,1/0,e)}if(this.dollyToCursor){if(Tg(this._camera)&&this._changedDolly!==0){const p=this._spherical.radius-this._lastDistance,y=this._camera,v=this._getCameraDirection(D1),_=jn.copy(v).cross(y.up).normalize();_.lengthSq()===0&&(_.x=1);const S=Ai.crossVectors(_,v),E=this._sphericalEnd.radius*Math.tan(y.getEffectiveFOV()*O1*.5),w=(this._sphericalEnd.radius-p-this._sphericalEnd.radius)/this._sphericalEnd.radius,A=e0.copy(this._targetEnd).add(_.multiplyScalar(this._dollyControlCoord.x*E*y.aspect)).add(S.multiplyScalar(this._dollyControlCoord.y*E)),C=jn.copy(this._targetEnd).lerp(A,w),D=this._lastDollyDirection===Jv.IN&&this._spherical.radius<=this.minDistance,N=this._lastDollyDirection===Jv.OUT&&this.maxDistance<=this._spherical.radius;if(this.infinityDolly&&(D||N)){this._sphericalEnd.radius-=p,this._spherical.radius-=p;const L=Ai.copy(v).multiplyScalar(-p);C.add(L)}this._boundary.clampPoint(C,C);const I=Ai.subVectors(C,this._targetEnd);this._targetEnd.copy(C),this._target.add(I),this._changedDolly-=p,ar(this._changedDolly)&&(this._changedDolly=0)}else if(vp(this._camera)&&this._changedZoom!==0){const p=this._zoom-this._lastZoom,y=this._camera,v=jn.set(this._dollyControlCoord.x,this._dollyControlCoord.y,(y.near+y.far)/(y.near-y.far)).unproject(y),_=Ai.set(0,0,-1).applyQuaternion(y.quaternion),S=e0.copy(v).add(_.multiplyScalar(-v.dot(y.up))),b=-(this._zoom-p-this._zoom)/this._zoom,w=this._getCameraDirection(D1),A=this._targetEnd.dot(w),C=jn.copy(this._targetEnd).lerp(S,b),D=C.dot(w),N=w.multiplyScalar(D-A);C.sub(N),this._boundary.clampPoint(C,C);const I=Ai.subVectors(C,this._targetEnd);this._targetEnd.copy(C),this._target.add(I),this._changedZoom-=p,ar(this._changedZoom)&&(this._changedZoom=0)}}this._camera.zoom!==this._zoom&&(this._camera.zoom=this._zoom,this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0),this._dragNeedsUpdate=!0;const l=this._collisionTest();this._spherical.radius=Math.min(this._spherical.radius,l),this._spherical.makeSafe(),this._camera.position.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(this._target),this._camera.lookAt(this._target),(!ar(this._focalOffset.x)||!ar(this._focalOffset.y)||!ar(this._focalOffset.z))&&(this._camera.matrix.compose(this._camera.position,this._camera.quaternion,this._camera.scale),ch.setFromMatrixColumn(this._camera.matrix,0),uh.setFromMatrixColumn(this._camera.matrix,1),wg.setFromMatrixColumn(this._camera.matrix,2),ch.multiplyScalar(this._focalOffset.x),uh.multiplyScalar(-this._focalOffset.y),wg.multiplyScalar(this._focalOffset.z),jn.copy(ch).add(uh).add(wg),this._camera.position.add(jn),this._camera.updateMatrixWorld()),this._boundaryEnclosesCamera&&this._encloseToBoundary(this._camera.position.copy(this._target),jn.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse),1);const d=this._needsUpdate;return d&&!this._updatedLastTime?(this._hasRested=!1,this.dispatchEvent({type:"wake"}),this.dispatchEvent({type:"update"})):d?(this.dispatchEvent({type:"update"}),ar(t,this.restThreshold)&&ar(i,this.restThreshold)&&ar(r,this.restThreshold)&&ar(s.x,this.restThreshold)&&ar(s.y,this.restThreshold)&&ar(s.z,this.restThreshold)&&ar(a.x,this.restThreshold)&&ar(a.y,this.restThreshold)&&ar(a.z,this.restThreshold)&&ar(o,this.restThreshold)&&!this._hasRested&&(this._hasRested=!0,this.dispatchEvent({type:"rest"}))):!d&&this._updatedLastTime&&this.dispatchEvent({type:"sleep"}),this._lastDistance=this._spherical.radius,this._lastZoom=this._zoom,this._updatedLastTime=d,this._needsUpdate=!1,d}toJSON(){return JSON.stringify({enabled:this._enabled,minDistance:this.minDistance,maxDistance:I1(this.maxDistance),minZoom:this.minZoom,maxZoom:I1(this.maxZoom),minPolarAngle:this.minPolarAngle,maxPolarAngle:I1(this.maxPolarAngle),minAzimuthAngle:I1(this.minAzimuthAngle),maxAzimuthAngle:I1(this.maxAzimuthAngle),smoothTime:this.smoothTime,draggingSmoothTime:this.draggingSmoothTime,dollySpeed:this.dollySpeed,truckSpeed:this.truckSpeed,dollyToCursor:this.dollyToCursor,target:this._targetEnd.toArray(),position:jn.setFromSpherical(this._sphericalEnd).add(this._targetEnd).toArray(),zoom:this._zoomEnd,focalOffset:this._focalOffsetEnd.toArray(),target0:this._target0.toArray(),position0:this._position0.toArray(),zoom0:this._zoom0,focalOffset0:this._focalOffset0.toArray()})}fromJSON(e,t=!1){const i=JSON.parse(e);this.enabled=i.enabled,this.minDistance=i.minDistance,this.maxDistance=P1(i.maxDistance),this.minZoom=i.minZoom,this.maxZoom=P1(i.maxZoom),this.minPolarAngle=i.minPolarAngle,this.maxPolarAngle=P1(i.maxPolarAngle),this.minAzimuthAngle=P1(i.minAzimuthAngle),this.maxAzimuthAngle=P1(i.maxAzimuthAngle),this.smoothTime=i.smoothTime,this.draggingSmoothTime=i.draggingSmoothTime,this.dollySpeed=i.dollySpeed,this.truckSpeed=i.truckSpeed,this.dollyToCursor=i.dollyToCursor,this._target0.fromArray(i.target0),this._position0.fromArray(i.position0),this._zoom0=i.zoom0,this._focalOffset0.fromArray(i.focalOffset0),this.moveTo(i.target[0],i.target[1],i.target[2],t),Rl.setFromVector3(jn.fromArray(i.position).sub(this._targetEnd).applyQuaternion(this._yAxisUpSpace)),this.rotateTo(Rl.theta,Rl.phi,t),this.dollyTo(Rl.radius,t),this.zoomTo(i.zoom,t),this.setFocalOffset(i.focalOffset[0],i.focalOffset[1],i.focalOffset[2],t),this._needsUpdate=!0}connect(e){if(this._domElement){console.warn("camera-controls is already connected.");return}e.setAttribute("data-camera-controls-version",$Te),this._addAllEventListeners(e),this._getClientRect(this._elementRect)}disconnect(){this.cancel(),this._removeAllEventListeners(),this._domElement&&(this._domElement.removeAttribute("data-camera-controls-version"),this._domElement=void 0)}dispose(){this.removeAllEventListeners(),this.disconnect()}_getTargetDirection(e){return e.setFromSpherical(this._spherical).divideScalar(this._spherical.radius).applyQuaternion(this._yAxisUpSpaceInverse)}_getCameraDirection(e){return this._getTargetDirection(e).negate()}_findPointerById(e){return this._activePointers.find(t=>t.pointerId===e)}_findPointerByMouseButton(e){return this._activePointers.find(t=>t.mouseButton===e)}_disposePointer(e){this._activePointers.splice(this._activePointers.indexOf(e),1)}_encloseToBoundary(e,t,i){const r=t.lengthSq();if(r===0)return e;const s=Ai.copy(t).add(e),o=this._boundary.clampPoint(s,e0).sub(s),l=o.lengthSq();if(l===0)return e.add(t);if(l===r)return e;if(i===0)return e.add(t).add(o);{const u=1+i*l/t.dot(o);return e.add(Ai.copy(t).multiplyScalar(u)).add(o.multiplyScalar(1-i))}}_updateNearPlaneCorners(){if(Tg(this._camera)){const e=this._camera,t=e.near,i=e.getEffectiveFOV()*O1,r=Math.tan(i*.5)*t,s=r*e.aspect;this._nearPlaneCorners[0].set(-s,-r,0),this._nearPlaneCorners[1].set(s,-r,0),this._nearPlaneCorners[2].set(s,r,0),this._nearPlaneCorners[3].set(-s,r,0)}else if(vp(this._camera)){const e=this._camera,t=1/e.zoom,i=e.left*t,r=e.right*t,s=e.top*t,a=e.bottom*t;this._nearPlaneCorners[0].set(i,s,0),this._nearPlaneCorners[1].set(r,s,0),this._nearPlaneCorners[2].set(r,a,0),this._nearPlaneCorners[3].set(i,a,0)}}_truckInternal=(e,t,i,r)=>{let s,a;if(Tg(this._camera)){const o=jn.copy(this._camera.position).sub(this._target),l=this._camera.getEffectiveFOV()*O1,u=o.length()*Math.tan(l*.5);s=this.truckSpeed*e*u/this._elementRect.height,a=this.truckSpeed*t*u/this._elementRect.height}else if(vp(this._camera)){const o=this._camera;s=this.truckSpeed*e*(o.right-o.left)/o.zoom/this._elementRect.width,a=this.truckSpeed*t*(o.top-o.bottom)/o.zoom/this._elementRect.height}else return;r?(i?this.setFocalOffset(this._focalOffsetEnd.x+s,this._focalOffsetEnd.y,this._focalOffsetEnd.z,!0):this.truck(s,0,!0),this.forward(-a,!0)):i?this.setFocalOffset(this._focalOffsetEnd.x+s,this._focalOffsetEnd.y+a,this._focalOffsetEnd.z,!0):this.truck(s,a,!0)};_rotateInternal=(e,t)=>{const i=gp*this.azimuthRotateSpeed*e/this._elementRect.height,r=gp*this.polarRotateSpeed*t/this._elementRect.height;this.rotate(i,r,!0)};_dollyInternal=(e,t,i)=>{const r=Math.pow(.95,-e*this.dollySpeed),s=this._sphericalEnd.radius,a=this._sphericalEnd.radius*r,o=fu(a,this.minDistance,this.maxDistance),l=o-a;this.infinityDolly&&this.dollyToCursor?this._dollyToNoClamp(a,!0):this.infinityDolly&&!this.dollyToCursor?(this.dollyInFixed(l,!0),this._dollyToNoClamp(o,!0)):this._dollyToNoClamp(o,!0),this.dollyToCursor&&(this._changedDolly+=(this.infinityDolly?a:o)-s,this._dollyControlCoord.set(t,i)),this._lastDollyDirection=Math.sign(-e)};_zoomInternal=(e,t,i)=>{const r=Math.pow(.95,e*this.dollySpeed),s=this._zoom,a=this._zoom*r;this.zoomTo(a,!0),this.dollyToCursor&&(this._changedZoom+=a-s,this._dollyControlCoord.set(t,i))};_collisionTest(){let e=1/0;if(!(this.colliderMeshes.length>=1)||JI(this._camera,"_collisionTest"))return e;const i=this._getTargetDirection(D1);i3.lookAt(O9,i,this._camera.up);for(let r=0;r<4;r++){const s=Ai.copy(this._nearPlaneCorners[r]);s.applyMatrix4(i3);const a=e0.addVectors(this._target,s);Fw.set(a,i),Fw.far=this._spherical.radius+1;const o=Fw.intersectObjects(this.colliderMeshes);o.length!==0&&o[0].distance<e&&(e=o[0].distance)}return e}_getClientRect(e){if(!this._domElement)return;const t=this._domElement.getBoundingClientRect();return e.x=t.left,e.y=t.top,this._viewport?(e.x+=this._viewport.x,e.y+=t.height-this._viewport.w-this._viewport.y,e.width=this._viewport.z,e.height=this._viewport.w):(e.width=t.width,e.height=t.height),e}_createOnRestPromise(e){return e?Promise.resolve():(this._hasRested=!1,this.dispatchEvent({type:"transitionstart"}),new Promise(t=>{const i=()=>{this.removeEventListener("rest",i),t()};this.addEventListener("rest",i)}))}_addAllEventListeners(e){}_removeAllEventListeners(){}get dampingFactor(){return console.warn(".dampingFactor has been deprecated. use smoothTime (in seconds) instead."),0}set dampingFactor(e){console.warn(".dampingFactor has been deprecated. use smoothTime (in seconds) instead.")}get draggingDampingFactor(){return console.warn(".draggingDampingFactor has been deprecated. use draggingSmoothTime (in seconds) instead."),0}set draggingDampingFactor(e){console.warn(".draggingDampingFactor has been deprecated. use draggingSmoothTime (in seconds) instead.")}static createBoundingSphere(e,t=new xn.Sphere){const i=t,r=i.center;n0.makeEmpty(),e.traverseVisible(a=>{a.isMesh&&n0.expandByObject(a)}),n0.getCenter(r);let s=0;return e.traverseVisible(a=>{if(!a.isMesh)return;const o=a;if(!o.geometry)return;const l=o.geometry.clone();l.applyMatrix4(o.matrixWorld);const d=l.attributes.position;for(let p=0,y=d.count;p<y;p++)jn.fromBufferAttribute(d,p),s=Math.max(s,r.distanceToSquared(jn))}),i.radius=Math.sqrt(s),i}};const KTe=H.forwardRef((n,e)=>{const{impl:t,camera:i,domElement:r,makeDefault:s,onControlStart:a,onControl:o,onControlEnd:l,onTransitionStart:u,onUpdate:d,onWake:p,onRest:y,onSleep:v,onStart:_,onEnd:S,onChange:E,regress:b,...w}=n,A=t??YTe;H.useMemo(()=>{const ee={Box3:ia,MathUtils:{clamp:wG.clamp},Matrix4:an,Quaternion:Ca,Raycaster:VM,Sphere:ra,Spherical:Cq,Vector2:rt,Vector3:he,Vector4:yi};A.install({THREE:ee}),v$({CameraControlsImpl:A})},[A]);const C=Cs(ee=>ee.camera),D=Cs(ee=>ee.gl),N=Cs(ee=>ee.invalidate),I=Cs(ee=>ee.events),L=Cs(ee=>ee.setEvents),P=Cs(ee=>ee.set),U=Cs(ee=>ee.get),F=Cs(ee=>ee.performance),z=i||C,V=r||I.connected||D.domElement,Y=H.useMemo(()=>new A(z),[A,z]);return pE((ee,q)=>{Y.update(q)},-1),H.useEffect(()=>(Y.connect(V),()=>void Y.disconnect()),[V,Y]),H.useEffect(()=>{function ee(){N(),b&&F.regress()}const q=ue=>{ee(),a?.(ue),_?.(ue)},$=ue=>{ee(),o?.(ue),E?.(ue)},Q=ue=>{l?.(ue),S?.(ue)},se=ue=>{ee(),u?.(ue),E?.(ue)},fe=ue=>{ee(),d?.(ue),E?.(ue)},K=ue=>{ee(),p?.(ue),E?.(ue)},le=ue=>{y?.(ue)},pe=ue=>{v?.(ue)};return Y.addEventListener("controlstart",q),Y.addEventListener("control",$),Y.addEventListener("controlend",Q),Y.addEventListener("transitionstart",se),Y.addEventListener("update",fe),Y.addEventListener("wake",K),Y.addEventListener("rest",le),Y.addEventListener("sleep",pe),()=>{Y.removeEventListener("controlstart",q),Y.removeEventListener("control",$),Y.removeEventListener("controlend",Q),Y.removeEventListener("transitionstart",se),Y.removeEventListener("update",fe),Y.removeEventListener("wake",K),Y.removeEventListener("rest",le),Y.removeEventListener("sleep",pe)}},[Y,N,L,b,F,a,o,l,u,d,p,y,v,E,_,S]),H.useEffect(()=>{if(s){const ee=U().controls;return P({controls:Y}),()=>P({controls:ee})}},[s,Y]),H.createElement("primitive",el({ref:e,object:Y},w))});function ZTe({defaultScene:n,defaultCamera:e,renderPriority:t=1}){const{gl:i,scene:r,camera:s}=Cs();let a;return pE(()=>{a=i.autoClear,t===1&&(i.autoClear=!0,i.render(n,e)),i.autoClear=!1,i.clearDepth(),i.render(r,s),i.autoClear=a},t),H.createElement("group",{onPointerOver:()=>null})}function QTe({children:n,renderPriority:e=1}){const{scene:t,camera:i}=Cs(),[r]=H.useState(()=>new bM);return H.createElement(H.Fragment,null,OTe(H.createElement(H.Fragment,null,n,H.createElement(ZTe,{defaultScene:t,defaultCamera:i,renderPriority:e})),r,{events:{priority:e+1}}))}const C$=H.createContext({}),JTe=()=>H.useContext(C$),ewe=2*Math.PI,r3=new vi,L9=new an,[i0,s3]=[new Ca,new Ca],U9=new he,k9=new he,twe=n=>"minPolarAngle"in n,z9=n=>"getTarget"in n,nwe=({alignment:n="bottom-right",margin:e=[80,80],renderPriority:t=1,onUpdate:i,onTarget:r,children:s})=>{const a=Cs(N=>N.size),o=Cs(N=>N.camera),l=Cs(N=>N.controls),u=Cs(N=>N.invalidate),d=H.useRef(null),p=H.useRef(null),y=H.useRef(!1),v=H.useRef(0),_=H.useRef(new he(0,0,0)),S=H.useRef(new he(0,0,0));H.useEffect(()=>{S.current.copy(o.up),r3.up.copy(o.up)},[o]);const E=H.useCallback(N=>{y.current=!0,(l||r)&&(_.current=r?.()||(z9(l)?l.getTarget(_.current):l?.target)),v.current=o.position.distanceTo(U9),i0.copy(o.quaternion),k9.copy(N).multiplyScalar(v.current).add(U9),r3.lookAt(k9),s3.copy(r3.quaternion),u()},[l,o,r,u]);pE((N,I)=>{if(p.current&&d.current){var L;if(y.current)if(i0.angleTo(s3)<.01)y.current=!1,twe(l)&&o.up.copy(S.current);else{const P=I*ewe;i0.rotateTowards(s3,P),o.position.set(0,0,1).applyQuaternion(i0).multiplyScalar(v.current).add(_.current),o.up.set(0,1,0).applyQuaternion(i0).normalize(),o.quaternion.copy(i0),z9(l)&&l.setPosition(o.position.x,o.position.y,o.position.z),i?i():l&&l.update(I),u()}L9.copy(o.matrix).invert(),(L=d.current)==null||L.quaternion.setFromRotationMatrix(L9)}});const b=H.useMemo(()=>({tweenCamera:E}),[E]),[w,A]=e,C=n.endsWith("-center")?0:n.endsWith("-left")?-a.width/2+w:a.width/2-w,D=n.startsWith("center-")?0:n.startsWith("top-")?a.height/2-A:-a.height/2+A;return H.createElement(QTe,{renderPriority:t},H.createElement(C$.Provider,{value:b},H.createElement(qTe,{makeDefault:!0,ref:p,position:[0,0,200]}),H.createElement("group",{ref:d,position:[C,D,0]},s)))};function a3({scale:n=[.8,.05,.05],color:e,rotation:t}){return H.createElement("group",{rotation:t},H.createElement("mesh",{position:[.4,0,0]},H.createElement("boxGeometry",{args:n}),H.createElement("meshBasicMaterial",{color:e,toneMapped:!1})))}function r0({onClick:n,font:e,disabled:t,arcStyle:i,label:r,labelColor:s,axisHeadScale:a=1,...o}){const l=Cs(S=>S.gl),u=H.useMemo(()=>{const S=document.createElement("canvas");S.width=64,S.height=64;const E=S.getContext("2d");return E.beginPath(),E.arc(32,32,16,0,2*Math.PI),E.closePath(),E.fillStyle=i,E.fill(),r&&(E.font=e,E.textAlign="center",E.fillStyle=s,E.fillText(r,32,41)),new wL(S)},[i,r,s,e]),[d,p]=H.useState(!1),y=(r?1:.75)*(d?1.2:1)*a,v=S=>{S.stopPropagation(),p(!0)},_=S=>{S.stopPropagation(),p(!1)};return H.createElement("sprite",el({scale:y,onPointerOver:t?void 0:v,onPointerOut:t?void 0:n||_},o),H.createElement("spriteMaterial",{map:u,"map-anisotropy":l.capabilities.getMaxAnisotropy()||1,alphaTest:.3,opacity:r?1:.75,toneMapped:!1}))}const iwe=({hideNegativeAxes:n,hideAxisHeads:e,disabled:t,font:i="18px Inter var, Arial, sans-serif",axisColors:r=["#ff2060","#20df80","#2080ff"],axisHeadScale:s=1,axisScale:a,labels:o=["X","Y","Z"],labelColor:l="#000",onClick:u,...d})=>{const[p,y,v]=r,{tweenCamera:_}=JTe(),S={font:i,disabled:t,labelColor:l,onClick:u,axisHeadScale:s,onPointerDown:t?void 0:E=>{_(E.object.position),E.stopPropagation()}};return H.createElement("group",el({scale:40},d),H.createElement(a3,{color:p,rotation:[0,0,0],scale:a}),H.createElement(a3,{color:y,rotation:[0,0,Math.PI/2],scale:a}),H.createElement(a3,{color:v,rotation:[0,-Math.PI/2,0],scale:a}),!e&&H.createElement(H.Fragment,null,H.createElement(r0,el({arcStyle:p,position:[1,0,0],label:o[0]},S)),H.createElement(r0,el({arcStyle:y,position:[0,1,0],label:o[1]},S)),H.createElement(r0,el({arcStyle:v,position:[0,0,1],label:o[2]},S)),!n&&H.createElement(H.Fragment,null,H.createElement(r0,el({arcStyle:p,position:[-1,0,0]},S)),H.createElement(r0,el({arcStyle:y,position:[0,-1,0]},S)),H.createElement(r0,el({arcStyle:v,position:[0,0,-1]},S)))))},rwe=Hr(Z.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"})),swe=Hr(Z.jsx("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"})),awe=Hr(Z.jsx("path",{d:"m10 17 5-5-5-5z"})),owe=Hr(Z.jsx("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})),lwe=Hr(Z.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),cwe=Hr(Z.jsx("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5s-3 1.34-3 3 1.34 3 3 3m-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5 5 6.34 5 8s1.34 3 3 3m0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5m8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5"})),uwe=Hr(Z.jsx("path",{d:"M11 7 9.6 8.4l2.6 2.6H2v2h10.2l-2.6 2.6L11 17l5-5zm9 12h-8v2h8c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-8v2h8z"})),hwe=Hr(Z.jsx("path",{d:"M12 5.9c1.16 0 2.1.94 2.1 2.1s-.94 2.1-2.1 2.1S9.9 9.16 9.9 8s.94-2.1 2.1-2.1m0 9c2.97 0 6.1 1.46 6.1 2.1v1.1H5.9V17c0-.64 3.13-2.1 6.1-2.1M12 4C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 9c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4"})),dwe=Hr(Z.jsx("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"})),fwe=(n,e,t,i)=>{const r=[t,{code:e,...i||{}}];if(n?.services?.logger?.forward)return n.services.logger.forward(r,"warn","react-i18next::",!0);ny(r[0])&&(r[0]=`react-i18next:: ${r[0]}`),n?.services?.logger?.warn?n.services.logger.warn(...r):console?.warn&&console.warn(...r)},B9={},yD=(n,e,t,i)=>{ny(t)&&B9[t]||(ny(t)&&(B9[t]=new Date),fwe(n,e,t,i))},A$=(n,e)=>()=>{if(n.isInitialized)e();else{const t=()=>{setTimeout(()=>{n.off("initialized",t)},0),e()};n.on("initialized",t)}},vD=(n,e,t)=>{n.loadNamespaces(e,A$(n,t))},F9=(n,e,t,i)=>{if(ny(t)&&(t=[t]),n.options.preload&&n.options.preload.indexOf(e)>-1)return vD(n,t,i);t.forEach(r=>{n.options.ns.indexOf(r)<0&&n.options.ns.push(r)}),n.loadLanguages(e,A$(n,i))},pwe=(n,e,t={})=>!e.languages||!e.languages.length?(yD(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(n,{lng:t.lng,precheck:(i,r)=>{if(t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!r(i.isLanguageChangingTo,n))return!1}}),ny=n=>typeof n=="string",mwe=n=>typeof n=="object"&&n!==null,gwe=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,ywe={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},vwe=n=>ywe[n],_we=n=>n.replace(gwe,vwe);let _D={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:_we};const bwe=(n={})=>{_D={..._D,...n}},xwe=()=>_D;let M$;const Swe=n=>{M$=n},Ewe=()=>M$,Twe={type:"3rdParty",init(n){bwe(n.options.react),Swe(n)}},wwe=H.createContext();class Cwe{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const Awe=(n,e)=>{const t=H.useRef();return H.useEffect(()=>{t.current=n},[n,e]),t.current},R$=(n,e,t,i)=>n.getFixedT(e,t,i),Mwe=(n,e,t,i)=>H.useCallback(R$(n,e,t,i),[n,e,t,i]),My=(n,e={})=>{const{i18n:t}=e,{i18n:i,defaultNS:r}=H.useContext(wwe)||{},s=t||i||Ewe();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new Cwe),!s){yD(s,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const C=(N,I)=>ny(I)?I:mwe(I)&&ny(I.defaultValue)?I.defaultValue:Array.isArray(N)?N[N.length-1]:N,D=[C,{},!1];return D.t=C,D.i18n={},D.ready=!1,D}s.options.react?.wait&&yD(s,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const a={...xwe(),...s.options.react,...e},{useSuspense:o,keyPrefix:l}=a;let u=r||s.options?.defaultNS;u=ny(u)?[u]:u||["translation"],s.reportNamespaces.addUsedNamespaces?.(u);const d=(s.isInitialized||s.initializedStoreOnce)&&u.every(C=>pwe(C,s,a)),p=Mwe(s,e.lng||null,a.nsMode==="fallback"?u:u[0],l),y=()=>p,v=()=>R$(s,e.lng||null,a.nsMode==="fallback"?u:u[0],l),[_,S]=H.useState(y);let E=u.join();e.lng&&(E=`${e.lng}${E}`);const b=Awe(E),w=H.useRef(!0);H.useEffect(()=>{const{bindI18n:C,bindI18nStore:D}=a;w.current=!0,!d&&!o&&(e.lng?F9(s,e.lng,u,()=>{w.current&&S(v)}):vD(s,u,()=>{w.current&&S(v)})),d&&b&&b!==E&&w.current&&S(v);const N=()=>{w.current&&S(v)};return C&&s?.on(C,N),D&&s?.store.on(D,N),()=>{w.current=!1,s&&C&&C?.split(" ").forEach(I=>s.off(I,N)),D&&s&&D.split(" ").forEach(I=>s.store.off(I,N))}},[s,E]),H.useEffect(()=>{w.current&&d&&S(y)},[s,l,d]);const A=[_,s,d];if(A.t=_,A.i18n=s,A.ready=d,d||!d&&!o)return A;throw new Promise(C=>{e.lng?F9(s,e.lng,u,()=>C()):vD(s,u,()=>C())})},ai=H_({palette:{background:{paper:"#fff",form:"#f3f3f3",formInput:"#000"},text:{titleBig:"#173A5E",primary:"#fff",secondary:"#46505A",tertiary:"#171A1FFF",white:"#fff"},action:{progress:"#001E3C",success:"#1976d2",deactivate:"#d32f2f"},success:{dark:"#009688"},canvas:{canvasBackgraundColor:"#002"},buttons:{buttonHomeScreen:"#f1f1f1"},formStyles:{containerBackgroundColor:"#d1d1d1ff",cardBackgroundColor:"#f9f9f9",cardBoxShadow:"0 10px 30px rgba(0, 0, 0, 0.99)",buttonForm:"#001E3C",borderColor:"rgb(109, 109, 109)"},paletteBjj:{rojoVibrante:"#FF1E1E",azulMarino:"#002B5B",grisCarbon:"#1C1C1C",amarilloOro:"#FFC300",grisClaro:"#F5F5F5"},typography:{fontFamily:"poppins"}}}),O$=ai.palette.buttons.buttonHomeScreen,Rwe={display:"flex",alignItems:"center",textAlign:"center",position:"absolute",zIndex:10,top:"30px",right:"30px"},Owe={width:55,height:55,backgroundColor:"transparent",border:`2px solid ${O$}`},Iwe={color:O$,fontSize:"2.5rem"},N1="components.accountMenu.";function Pwe(){const{user:n,isAuthenticated:e}=Gpe(),{t}=My(),i=DV(),r=cn(S=>S.isUserLogin),[s,a]=lr.useState(null),o=!!s,l=cn(S=>S.triggerAlert),u=S=>{a(S.currentTarget),cn.setState({isNodeAddViewActive:!1})},d=()=>{a(null)},p=()=>{a(null)},y=()=>{cn.setState({isLoginWindowActive:!0}),i(vA.loginUser)},v=()=>{r?l(t(N1+"triggerAlert"),"warning"):i(vA.addNode)},_=()=>{cn.setState({isConfigWindowActive:!0})};return Z.jsxs(lr.Fragment,{children:[Z.jsx(df,{sx:Rwe,children:Z.jsx(r$,{title:t(N1+"title"),children:Z.jsx(u4,{onClick:u,size:"small","aria-controls":o?"menu-user":void 0,"aria-haspopup":"true","aria-expanded":o?"true":void 0,children:Z.jsx(z6,{sx:Owe,children:Z.jsx(hwe,{sx:Iwe})})})})}),Z.jsxs(e$,{anchorEl:s,id:"menu-user",open:o,onClose:p,slotProps:{paper:{elevation:0,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"& .MuiAvatar-root":{width:32,height:32,ml:-.5,mr:1},"&::before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[e?Z.jsxs(Zo,{onClick:d,children:[Z.jsx(C0,{children:Z.jsx(z6,{alt:n?.name??"User",src:n?.picture??void 0})}),n?.name]}):Z.jsxs(Zo,{onClick:y,disabled:!0,children:[Z.jsx(C0,{children:Z.jsx(uwe,{fontSize:"small"})}),t(N1+"optionsMenu.login")]}),Z.jsx(__,{}),Z.jsxs(Zo,{onClick:v,disabled:!0,children:[Z.jsx(C0,{children:Z.jsx(cwe,{fontSize:"small"})}),t(N1+"optionsMenu.addNode")]}),Z.jsx(__,{}),Z.jsxs(Zo,{onClick:_,children:[Z.jsx(C0,{children:Z.jsx(dwe,{fontSize:"small"})}),t(N1+"optionsMenu.configuration")]})]})]})}function Dwe(){const n=cn(i=>i.showAlert),e=cn(i=>i.alertMessage),t=cn(i=>i.alertSeverity);return Z.jsx(bp,{sx:{width:"80%",position:"absolute",bottom:20,zIndex:9999},spacing:2,children:Z.jsx(XW,{direction:"left",in:n,mountOnEnter:!0,unmountOnExit:!0,children:Z.jsx(hA,{in:n,children:Z.jsx(o_e,{severity:t,children:e})})})})}const o3=ai,Nwe=({buttonFunction:n,disabled:e,isPositionAbsolute:t})=>Z.jsx(dE,{disabled:e,onClick:n,sx:{...t?{position:"absolute",top:10,right:10}:{},marginRight:"1rem",backgroundColor:aE(o3.palette.formStyles.containerBackgroundColor,.4),"&:hover":{backgroundColor:o3.palette.formStyles.cardBackgroundColor,opacity:.8},color:o3.palette.action.deactivate},children:Z.jsx(lwe,{sx:{fontSize:"2em"}})}),Lwe=({cameraControlsRef:n})=>Z.jsxs(Z.Fragment,{children:[Z.jsx(zMe,{cameraControlsRef:n}),Z.jsx("ambientLight",{intensity:U2.intensity}),Z.jsx("directionalLight",{position:U2.position,color:U2.colorLight}),Z.jsx(nwe,{alignment:"top-left",margin:[80,150],children:Z.jsx(iwe,{labelColor:"#fff",axisColors:["red","green","blue"]})})]}),Uwe=ai.palette,kwe=Uwe.text;kwe.titleBig;function zwe(n,e,t){var i,r=1;n==null&&(n=0),e==null&&(e=0),t==null&&(t=0);function s(){var a,o=i.length,l,u=0,d=0,p=0;for(a=0;a<o;++a)l=i[a],u+=l.x||0,d+=l.y||0,p+=l.z||0;for(u=(u/o-n)*r,d=(d/o-e)*r,p=(p/o-t)*r,a=0;a<o;++a)l=i[a],u&&(l.x-=u),d&&(l.y-=d),p&&(l.z-=p)}return s.initialize=function(a){i=a},s.x=function(a){return arguments.length?(n=+a,s):n},s.y=function(a){return arguments.length?(e=+a,s):e},s.z=function(a){return arguments.length?(t=+a,s):t},s.strength=function(a){return arguments.length?(r=+a,s):r},s}function Bwe(n){const e=+this._x.call(null,n);return I$(this.cover(e),e,n)}function I$(n,e,t){if(isNaN(e))return n;var i,r=n._root,s={data:t},a=n._x0,o=n._x1,l,u,d,p,y;if(!r)return n._root=s,n;for(;r.length;)if((d=e>=(l=(a+o)/2))?a=l:o=l,i=r,!(r=r[p=+d]))return i[p]=s,n;if(u=+n._x.call(null,r.data),e===u)return s.next=r,i?i[p]=s:n._root=s,n;do i=i?i[p]=new Array(2):n._root=new Array(2),(d=e>=(l=(a+o)/2))?a=l:o=l;while((p=+d)==(y=+(u>=l)));return i[y]=r,i[p]=s,n}function Fwe(n){Array.isArray(n)||(n=Array.from(n));const e=n.length,t=new Float64Array(e);let i=1/0,r=-1/0;for(let s=0,a;s<e;++s)isNaN(a=+this._x.call(null,n[s]))||(t[s]=a,a<i&&(i=a),a>r&&(r=a));if(i>r)return this;this.cover(i).cover(r);for(let s=0;s<e;++s)I$(this,t[s],n[s]);return this}function Vwe(n){if(isNaN(n=+n))return this;var e=this._x0,t=this._x1;if(isNaN(e))t=(e=Math.floor(n))+1;else{for(var i=t-e||1,r=this._root,s,a;e>n||n>=t;)switch(a=+(n<e),s=new Array(2),s[a]=r,r=s,i*=2,a){case 0:t=e+i;break;case 1:e=t-i;break}this._root&&this._root.length&&(this._root=r)}return this._x0=e,this._x1=t,this}function Hwe(){var n=[];return this.visit(function(e){if(!e.length)do n.push(e.data);while(e=e.next)}),n}function jwe(n){return arguments.length?this.cover(+n[0][0]).cover(+n[1][0]):isNaN(this._x0)?void 0:[[this._x0],[this._x1]]}function Yd(n,e,t){this.node=n,this.x0=e,this.x1=t}function Gwe(n,e){var t,i=this._x0,r,s,a=this._x1,o=[],l=this._root,u,d;for(l&&o.push(new Yd(l,i,a)),e==null?e=1/0:(i=n-e,a=n+e);u=o.pop();)if(!(!(l=u.node)||(r=u.x0)>a||(s=u.x1)<i))if(l.length){var p=(r+s)/2;o.push(new Yd(l[1],p,s),new Yd(l[0],r,p)),(d=+(n>=p))&&(u=o[o.length-1],o[o.length-1]=o[o.length-1-d],o[o.length-1-d]=u)}else{var y=Math.abs(n-+this._x.call(null,l.data));y<e&&(e=y,i=n-y,a=n+y,t=l.data)}return t}function qwe(n){if(isNaN(l=+this._x.call(null,n)))return this;var e,t=this._root,i,r,s,a=this._x0,o=this._x1,l,u,d,p,y;if(!t)return this;if(t.length)for(;;){if((d=l>=(u=(a+o)/2))?a=u:o=u,e=t,!(t=t[p=+d]))return this;if(!t.length)break;e[p+1&1]&&(i=e,y=p)}for(;t.data!==n;)if(r=t,!(t=t.next))return this;return(s=t.next)&&delete t.next,r?(s?r.next=s:delete r.next,this):e?(s?e[p]=s:delete e[p],(t=e[0]||e[1])&&t===(e[1]||e[0])&&!t.length&&(i?i[y]=t:this._root=t),this):(this._root=s,this)}function Wwe(n){for(var e=0,t=n.length;e<t;++e)this.remove(n[e]);return this}function $we(){return this._root}function Xwe(){var n=0;return this.visit(function(e){if(!e.length)do++n;while(e=e.next)}),n}function Ywe(n){var e=[],t,i=this._root,r,s,a;for(i&&e.push(new Yd(i,this._x0,this._x1));t=e.pop();)if(!n(i=t.node,s=t.x0,a=t.x1)&&i.length){var o=(s+a)/2;(r=i[1])&&e.push(new Yd(r,o,a)),(r=i[0])&&e.push(new Yd(r,s,o))}return this}function Kwe(n){var e=[],t=[],i;for(this._root&&e.push(new Yd(this._root,this._x0,this._x1));i=e.pop();){var r=i.node;if(r.length){var s,a=i.x0,o=i.x1,l=(a+o)/2;(s=r[0])&&e.push(new Yd(s,a,l)),(s=r[1])&&e.push(new Yd(s,l,o))}t.push(i)}for(;i=t.pop();)n(i.node,i.x0,i.x1);return this}function Zwe(n){return n[0]}function Qwe(n){return arguments.length?(this._x=n,this):this._x}function P$(n,e){var t=new D4(e??Zwe,NaN,NaN);return n==null?t:t.addAll(n)}function D4(n,e,t){this._x=n,this._x0=e,this._x1=t,this._root=void 0}function V9(n){for(var e={data:n.data},t=e;n=n.next;)t=t.next={data:n.data};return e}var dl=P$.prototype=D4.prototype;dl.copy=function(){var n=new D4(this._x,this._x0,this._x1),e=this._root,t,i;if(!e)return n;if(!e.length)return n._root=V9(e),n;for(t=[{source:e,target:n._root=new Array(2)}];e=t.pop();)for(var r=0;r<2;++r)(i=e.source[r])&&(i.length?t.push({source:i,target:e.target[r]=new Array(2)}):e.target[r]=V9(i));return n};dl.add=Bwe;dl.addAll=Fwe;dl.cover=Vwe;dl.data=Hwe;dl.extent=jwe;dl.find=Gwe;dl.remove=qwe;dl.removeAll=Wwe;dl.root=$we;dl.size=Xwe;dl.visit=Ywe;dl.visitAfter=Kwe;dl.x=Qwe;function Jwe(n){const e=+this._x.call(null,n),t=+this._y.call(null,n);return D$(this.cover(e,t),e,t,n)}function D$(n,e,t,i){if(isNaN(e)||isNaN(t))return n;var r,s=n._root,a={data:i},o=n._x0,l=n._y0,u=n._x1,d=n._y1,p,y,v,_,S,E,b,w;if(!s)return n._root=a,n;for(;s.length;)if((S=e>=(p=(o+u)/2))?o=p:u=p,(E=t>=(y=(l+d)/2))?l=y:d=y,r=s,!(s=s[b=E<<1|S]))return r[b]=a,n;if(v=+n._x.call(null,s.data),_=+n._y.call(null,s.data),e===v&&t===_)return a.next=s,r?r[b]=a:n._root=a,n;do r=r?r[b]=new Array(4):n._root=new Array(4),(S=e>=(p=(o+u)/2))?o=p:u=p,(E=t>=(y=(l+d)/2))?l=y:d=y;while((b=E<<1|S)===(w=(_>=y)<<1|v>=p));return r[w]=s,r[b]=a,n}function e2e(n){var e,t,i=n.length,r,s,a=new Array(i),o=new Array(i),l=1/0,u=1/0,d=-1/0,p=-1/0;for(t=0;t<i;++t)isNaN(r=+this._x.call(null,e=n[t]))||isNaN(s=+this._y.call(null,e))||(a[t]=r,o[t]=s,r<l&&(l=r),r>d&&(d=r),s<u&&(u=s),s>p&&(p=s));if(l>d||u>p)return this;for(this.cover(l,u).cover(d,p),t=0;t<i;++t)D$(this,a[t],o[t],n[t]);return this}function t2e(n,e){if(isNaN(n=+n)||isNaN(e=+e))return this;var t=this._x0,i=this._y0,r=this._x1,s=this._y1;if(isNaN(t))r=(t=Math.floor(n))+1,s=(i=Math.floor(e))+1;else{for(var a=r-t||1,o=this._root,l,u;t>n||n>=r||i>e||e>=s;)switch(u=(e<i)<<1|n<t,l=new Array(4),l[u]=o,o=l,a*=2,u){case 0:r=t+a,s=i+a;break;case 1:t=r-a,s=i+a;break;case 2:r=t+a,i=s-a;break;case 3:t=r-a,i=s-a;break}this._root&&this._root.length&&(this._root=o)}return this._x0=t,this._y0=i,this._x1=r,this._y1=s,this}function n2e(){var n=[];return this.visit(function(e){if(!e.length)do n.push(e.data);while(e=e.next)}),n}function i2e(n){return arguments.length?this.cover(+n[0][0],+n[0][1]).cover(+n[1][0],+n[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Oo(n,e,t,i,r){this.node=n,this.x0=e,this.y0=t,this.x1=i,this.y1=r}function r2e(n,e,t){var i,r=this._x0,s=this._y0,a,o,l,u,d=this._x1,p=this._y1,y=[],v=this._root,_,S;for(v&&y.push(new Oo(v,r,s,d,p)),t==null?t=1/0:(r=n-t,s=e-t,d=n+t,p=e+t,t*=t);_=y.pop();)if(!(!(v=_.node)||(a=_.x0)>d||(o=_.y0)>p||(l=_.x1)<r||(u=_.y1)<s))if(v.length){var E=(a+l)/2,b=(o+u)/2;y.push(new Oo(v[3],E,b,l,u),new Oo(v[2],a,b,E,u),new Oo(v[1],E,o,l,b),new Oo(v[0],a,o,E,b)),(S=(e>=b)<<1|n>=E)&&(_=y[y.length-1],y[y.length-1]=y[y.length-1-S],y[y.length-1-S]=_)}else{var w=n-+this._x.call(null,v.data),A=e-+this._y.call(null,v.data),C=w*w+A*A;if(C<t){var D=Math.sqrt(t=C);r=n-D,s=e-D,d=n+D,p=e+D,i=v.data}}return i}function s2e(n){if(isNaN(d=+this._x.call(null,n))||isNaN(p=+this._y.call(null,n)))return this;var e,t=this._root,i,r,s,a=this._x0,o=this._y0,l=this._x1,u=this._y1,d,p,y,v,_,S,E,b;if(!t)return this;if(t.length)for(;;){if((_=d>=(y=(a+l)/2))?a=y:l=y,(S=p>=(v=(o+u)/2))?o=v:u=v,e=t,!(t=t[E=S<<1|_]))return this;if(!t.length)break;(e[E+1&3]||e[E+2&3]||e[E+3&3])&&(i=e,b=E)}for(;t.data!==n;)if(r=t,!(t=t.next))return this;return(s=t.next)&&delete t.next,r?(s?r.next=s:delete r.next,this):e?(s?e[E]=s:delete e[E],(t=e[0]||e[1]||e[2]||e[3])&&t===(e[3]||e[2]||e[1]||e[0])&&!t.length&&(i?i[b]=t:this._root=t),this):(this._root=s,this)}function a2e(n){for(var e=0,t=n.length;e<t;++e)this.remove(n[e]);return this}function o2e(){return this._root}function l2e(){var n=0;return this.visit(function(e){if(!e.length)do++n;while(e=e.next)}),n}function c2e(n){var e=[],t,i=this._root,r,s,a,o,l;for(i&&e.push(new Oo(i,this._x0,this._y0,this._x1,this._y1));t=e.pop();)if(!n(i=t.node,s=t.x0,a=t.y0,o=t.x1,l=t.y1)&&i.length){var u=(s+o)/2,d=(a+l)/2;(r=i[3])&&e.push(new Oo(r,u,d,o,l)),(r=i[2])&&e.push(new Oo(r,s,d,u,l)),(r=i[1])&&e.push(new Oo(r,u,a,o,d)),(r=i[0])&&e.push(new Oo(r,s,a,u,d))}return this}function u2e(n){var e=[],t=[],i;for(this._root&&e.push(new Oo(this._root,this._x0,this._y0,this._x1,this._y1));i=e.pop();){var r=i.node;if(r.length){var s,a=i.x0,o=i.y0,l=i.x1,u=i.y1,d=(a+l)/2,p=(o+u)/2;(s=r[0])&&e.push(new Oo(s,a,o,d,p)),(s=r[1])&&e.push(new Oo(s,d,o,l,p)),(s=r[2])&&e.push(new Oo(s,a,p,d,u)),(s=r[3])&&e.push(new Oo(s,d,p,l,u))}t.push(i)}for(;i=t.pop();)n(i.node,i.x0,i.y0,i.x1,i.y1);return this}function h2e(n){return n[0]}function d2e(n){return arguments.length?(this._x=n,this):this._x}function f2e(n){return n[1]}function p2e(n){return arguments.length?(this._y=n,this):this._y}function N$(n,e,t){var i=new N4(e??h2e,t??f2e,NaN,NaN,NaN,NaN);return n==null?i:i.addAll(n)}function N4(n,e,t,i,r,s){this._x=n,this._y=e,this._x0=t,this._y0=i,this._x1=r,this._y1=s,this._root=void 0}function H9(n){for(var e={data:n.data},t=e;n=n.next;)t=t.next={data:n.data};return e}var Lo=N$.prototype=N4.prototype;Lo.copy=function(){var n=new N4(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,t,i;if(!e)return n;if(!e.length)return n._root=H9(e),n;for(t=[{source:e,target:n._root=new Array(4)}];e=t.pop();)for(var r=0;r<4;++r)(i=e.source[r])&&(i.length?t.push({source:i,target:e.target[r]=new Array(4)}):e.target[r]=H9(i));return n};Lo.add=Jwe;Lo.addAll=e2e;Lo.cover=t2e;Lo.data=n2e;Lo.extent=i2e;Lo.find=r2e;Lo.remove=s2e;Lo.removeAll=a2e;Lo.root=o2e;Lo.size=l2e;Lo.visit=c2e;Lo.visitAfter=u2e;Lo.x=d2e;Lo.y=p2e;function m2e(n){const e=+this._x.call(null,n),t=+this._y.call(null,n),i=+this._z.call(null,n);return L$(this.cover(e,t,i),e,t,i,n)}function L$(n,e,t,i,r){if(isNaN(e)||isNaN(t)||isNaN(i))return n;var s,a=n._root,o={data:r},l=n._x0,u=n._y0,d=n._z0,p=n._x1,y=n._y1,v=n._z1,_,S,E,b,w,A,C,D,N,I,L;if(!a)return n._root=o,n;for(;a.length;)if((C=e>=(_=(l+p)/2))?l=_:p=_,(D=t>=(S=(u+y)/2))?u=S:y=S,(N=i>=(E=(d+v)/2))?d=E:v=E,s=a,!(a=a[I=N<<2|D<<1|C]))return s[I]=o,n;if(b=+n._x.call(null,a.data),w=+n._y.call(null,a.data),A=+n._z.call(null,a.data),e===b&&t===w&&i===A)return o.next=a,s?s[I]=o:n._root=o,n;do s=s?s[I]=new Array(8):n._root=new Array(8),(C=e>=(_=(l+p)/2))?l=_:p=_,(D=t>=(S=(u+y)/2))?u=S:y=S,(N=i>=(E=(d+v)/2))?d=E:v=E;while((I=N<<2|D<<1|C)===(L=(A>=E)<<2|(w>=S)<<1|b>=_));return s[L]=a,s[I]=o,n}function g2e(n){Array.isArray(n)||(n=Array.from(n));const e=n.length,t=new Float64Array(e),i=new Float64Array(e),r=new Float64Array(e);let s=1/0,a=1/0,o=1/0,l=-1/0,u=-1/0,d=-1/0;for(let p=0,y,v,_,S;p<e;++p)isNaN(v=+this._x.call(null,y=n[p]))||isNaN(_=+this._y.call(null,y))||isNaN(S=+this._z.call(null,y))||(t[p]=v,i[p]=_,r[p]=S,v<s&&(s=v),v>l&&(l=v),_<a&&(a=_),_>u&&(u=_),S<o&&(o=S),S>d&&(d=S));if(s>l||a>u||o>d)return this;this.cover(s,a,o).cover(l,u,d);for(let p=0;p<e;++p)L$(this,t[p],i[p],r[p],n[p]);return this}function y2e(n,e,t){if(isNaN(n=+n)||isNaN(e=+e)||isNaN(t=+t))return this;var i=this._x0,r=this._y0,s=this._z0,a=this._x1,o=this._y1,l=this._z1;if(isNaN(i))a=(i=Math.floor(n))+1,o=(r=Math.floor(e))+1,l=(s=Math.floor(t))+1;else{for(var u=a-i||1,d=this._root,p,y;i>n||n>=a||r>e||e>=o||s>t||t>=l;)switch(y=(t<s)<<2|(e<r)<<1|n<i,p=new Array(8),p[y]=d,d=p,u*=2,y){case 0:a=i+u,o=r+u,l=s+u;break;case 1:i=a-u,o=r+u,l=s+u;break;case 2:a=i+u,r=o-u,l=s+u;break;case 3:i=a-u,r=o-u,l=s+u;break;case 4:a=i+u,o=r+u,s=l-u;break;case 5:i=a-u,o=r+u,s=l-u;break;case 6:a=i+u,r=o-u,s=l-u;break;case 7:i=a-u,r=o-u,s=l-u;break}this._root&&this._root.length&&(this._root=d)}return this._x0=i,this._y0=r,this._z0=s,this._x1=a,this._y1=o,this._z1=l,this}function v2e(){var n=[];return this.visit(function(e){if(!e.length)do n.push(e.data);while(e=e.next)}),n}function _2e(n){return arguments.length?this.cover(+n[0][0],+n[0][1],+n[0][2]).cover(+n[1][0],+n[1][1],+n[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]}function ir(n,e,t,i,r,s,a){this.node=n,this.x0=e,this.y0=t,this.z0=i,this.x1=r,this.y1=s,this.z1=a}function b2e(n,e,t,i){var r,s=this._x0,a=this._y0,o=this._z0,l,u,d,p,y,v,_=this._x1,S=this._y1,E=this._z1,b=[],w=this._root,A,C;for(w&&b.push(new ir(w,s,a,o,_,S,E)),i==null?i=1/0:(s=n-i,a=e-i,o=t-i,_=n+i,S=e+i,E=t+i,i*=i);A=b.pop();)if(!(!(w=A.node)||(l=A.x0)>_||(u=A.y0)>S||(d=A.z0)>E||(p=A.x1)<s||(y=A.y1)<a||(v=A.z1)<o))if(w.length){var D=(l+p)/2,N=(u+y)/2,I=(d+v)/2;b.push(new ir(w[7],D,N,I,p,y,v),new ir(w[6],l,N,I,D,y,v),new ir(w[5],D,u,I,p,N,v),new ir(w[4],l,u,I,D,N,v),new ir(w[3],D,N,d,p,y,I),new ir(w[2],l,N,d,D,y,I),new ir(w[1],D,u,d,p,N,I),new ir(w[0],l,u,d,D,N,I)),(C=(t>=I)<<2|(e>=N)<<1|n>=D)&&(A=b[b.length-1],b[b.length-1]=b[b.length-1-C],b[b.length-1-C]=A)}else{var L=n-+this._x.call(null,w.data),P=e-+this._y.call(null,w.data),U=t-+this._z.call(null,w.data),F=L*L+P*P+U*U;if(F<i){var z=Math.sqrt(i=F);s=n-z,a=e-z,o=t-z,_=n+z,S=e+z,E=t+z,r=w.data}}return r}const x2e=(n,e,t,i,r,s)=>Math.sqrt((n-i)**2+(e-r)**2+(t-s)**2);function S2e(n,e,t,i){const r=[],s=n-i,a=e-i,o=t-i,l=n+i,u=e+i,d=t+i;return this.visit((p,y,v,_,S,E,b)=>{if(!p.length)do{const w=p.data;x2e(n,e,t,this._x(w),this._y(w),this._z(w))<=i&&r.push(w)}while(p=p.next);return y>l||v>u||_>d||S<s||E<a||b<o}),r}function E2e(n){if(isNaN(y=+this._x.call(null,n))||isNaN(v=+this._y.call(null,n))||isNaN(_=+this._z.call(null,n)))return this;var e,t=this._root,i,r,s,a=this._x0,o=this._y0,l=this._z0,u=this._x1,d=this._y1,p=this._z1,y,v,_,S,E,b,w,A,C,D,N;if(!t)return this;if(t.length)for(;;){if((w=y>=(S=(a+u)/2))?a=S:u=S,(A=v>=(E=(o+d)/2))?o=E:d=E,(C=_>=(b=(l+p)/2))?l=b:p=b,e=t,!(t=t[D=C<<2|A<<1|w]))return this;if(!t.length)break;(e[D+1&7]||e[D+2&7]||e[D+3&7]||e[D+4&7]||e[D+5&7]||e[D+6&7]||e[D+7&7])&&(i=e,N=D)}for(;t.data!==n;)if(r=t,!(t=t.next))return this;return(s=t.next)&&delete t.next,r?(s?r.next=s:delete r.next,this):e?(s?e[D]=s:delete e[D],(t=e[0]||e[1]||e[2]||e[3]||e[4]||e[5]||e[6]||e[7])&&t===(e[7]||e[6]||e[5]||e[4]||e[3]||e[2]||e[1]||e[0])&&!t.length&&(i?i[N]=t:this._root=t),this):(this._root=s,this)}function T2e(n){for(var e=0,t=n.length;e<t;++e)this.remove(n[e]);return this}function w2e(){return this._root}function C2e(){var n=0;return this.visit(function(e){if(!e.length)do++n;while(e=e.next)}),n}function A2e(n){var e=[],t,i=this._root,r,s,a,o,l,u,d;for(i&&e.push(new ir(i,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));t=e.pop();)if(!n(i=t.node,s=t.x0,a=t.y0,o=t.z0,l=t.x1,u=t.y1,d=t.z1)&&i.length){var p=(s+l)/2,y=(a+u)/2,v=(o+d)/2;(r=i[7])&&e.push(new ir(r,p,y,v,l,u,d)),(r=i[6])&&e.push(new ir(r,s,y,v,p,u,d)),(r=i[5])&&e.push(new ir(r,p,a,v,l,y,d)),(r=i[4])&&e.push(new ir(r,s,a,v,p,y,d)),(r=i[3])&&e.push(new ir(r,p,y,o,l,u,v)),(r=i[2])&&e.push(new ir(r,s,y,o,p,u,v)),(r=i[1])&&e.push(new ir(r,p,a,o,l,y,v)),(r=i[0])&&e.push(new ir(r,s,a,o,p,y,v))}return this}function M2e(n){var e=[],t=[],i;for(this._root&&e.push(new ir(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));i=e.pop();){var r=i.node;if(r.length){var s,a=i.x0,o=i.y0,l=i.z0,u=i.x1,d=i.y1,p=i.z1,y=(a+u)/2,v=(o+d)/2,_=(l+p)/2;(s=r[0])&&e.push(new ir(s,a,o,l,y,v,_)),(s=r[1])&&e.push(new ir(s,y,o,l,u,v,_)),(s=r[2])&&e.push(new ir(s,a,v,l,y,d,_)),(s=r[3])&&e.push(new ir(s,y,v,l,u,d,_)),(s=r[4])&&e.push(new ir(s,a,o,_,y,v,p)),(s=r[5])&&e.push(new ir(s,y,o,_,u,v,p)),(s=r[6])&&e.push(new ir(s,a,v,_,y,d,p)),(s=r[7])&&e.push(new ir(s,y,v,_,u,d,p))}t.push(i)}for(;i=t.pop();)n(i.node,i.x0,i.y0,i.z0,i.x1,i.y1,i.z1);return this}function R2e(n){return n[0]}function O2e(n){return arguments.length?(this._x=n,this):this._x}function I2e(n){return n[1]}function P2e(n){return arguments.length?(this._y=n,this):this._y}function D2e(n){return n[2]}function N2e(n){return arguments.length?(this._z=n,this):this._z}function U$(n,e,t,i){var r=new L4(e??R2e,t??I2e,i??D2e,NaN,NaN,NaN,NaN,NaN,NaN);return n==null?r:r.addAll(n)}function L4(n,e,t,i,r,s,a,o,l){this._x=n,this._y=e,this._z=t,this._x0=i,this._y0=r,this._z0=s,this._x1=a,this._y1=o,this._z1=l,this._root=void 0}function j9(n){for(var e={data:n.data},t=e;n=n.next;)t=t.next={data:n.data};return e}var Ra=U$.prototype=L4.prototype;Ra.copy=function(){var n=new L4(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),e=this._root,t,i;if(!e)return n;if(!e.length)return n._root=j9(e),n;for(t=[{source:e,target:n._root=new Array(8)}];e=t.pop();)for(var r=0;r<8;++r)(i=e.source[r])&&(i.length?t.push({source:i,target:e.target[r]=new Array(8)}):e.target[r]=j9(i));return n};Ra.add=m2e;Ra.addAll=g2e;Ra.cover=y2e;Ra.data=v2e;Ra.extent=_2e;Ra.find=b2e;Ra.findAllWithinRadius=S2e;Ra.remove=E2e;Ra.removeAll=T2e;Ra.root=w2e;Ra.size=C2e;Ra.visit=A2e;Ra.visitAfter=M2e;Ra.x=O2e;Ra.y=P2e;Ra.z=N2e;function jd(n){return function(){return n}}function Ld(n){return(n()-.5)*1e-6}function L2e(n){return n.index}function G9(n,e){var t=n.get(e);if(!t)throw new Error("node not found: "+e);return t}function U2e(n){var e=L2e,t=y,i,r=jd(30),s,a,o,l,u,d,p=1;n==null&&(n=[]);function y(b){return 1/Math.min(l[b.source.index],l[b.target.index])}function v(b){for(var w=0,A=n.length;w<p;++w)for(var C=0,D,N,I,L=0,P=0,U=0,F,z;C<A;++C)D=n[C],N=D.source,I=D.target,L=I.x+I.vx-N.x-N.vx||Ld(d),o>1&&(P=I.y+I.vy-N.y-N.vy||Ld(d)),o>2&&(U=I.z+I.vz-N.z-N.vz||Ld(d)),F=Math.sqrt(L*L+P*P+U*U),F=(F-s[C])/F*b*i[C],L*=F,P*=F,U*=F,I.vx-=L*(z=u[C]),o>1&&(I.vy-=P*z),o>2&&(I.vz-=U*z),N.vx+=L*(z=1-z),o>1&&(N.vy+=P*z),o>2&&(N.vz+=U*z)}function _(){if(a){var b,w=a.length,A=n.length,C=new Map(a.map((N,I)=>[e(N,I,a),N])),D;for(b=0,l=new Array(w);b<A;++b)D=n[b],D.index=b,typeof D.source!="object"&&(D.source=G9(C,D.source)),typeof D.target!="object"&&(D.target=G9(C,D.target)),l[D.source.index]=(l[D.source.index]||0)+1,l[D.target.index]=(l[D.target.index]||0)+1;for(b=0,u=new Array(A);b<A;++b)D=n[b],u[b]=l[D.source.index]/(l[D.source.index]+l[D.target.index]);i=new Array(A),S(),s=new Array(A),E()}}function S(){if(a)for(var b=0,w=n.length;b<w;++b)i[b]=+t(n[b],b,n)}function E(){if(a)for(var b=0,w=n.length;b<w;++b)s[b]=+r(n[b],b,n)}return v.initialize=function(b,...w){a=b,d=w.find(A=>typeof A=="function")||Math.random,o=w.find(A=>[1,2,3].includes(A))||2,_()},v.links=function(b){return arguments.length?(n=b,_(),v):n},v.id=function(b){return arguments.length?(e=b,v):e},v.iterations=function(b){return arguments.length?(p=+b,v):p},v.strength=function(b){return arguments.length?(t=typeof b=="function"?b:jd(+b),S(),v):t},v.distance=function(b){return arguments.length?(r=typeof b=="function"?b:jd(+b),E(),v):r},v}var k2e={value:()=>{}};function k$(){for(var n=0,e=arguments.length,t={},i;n<e;++n){if(!(i=arguments[n]+"")||i in t||/[\s.]/.test(i))throw new Error("illegal type: "+i);t[i]=[]}return new B2(t)}function B2(n){this._=n}function z2e(n,e){return n.trim().split(/^|\s+/).map(function(t){var i="",r=t.indexOf(".");if(r>=0&&(i=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:i}})}B2.prototype=k$.prototype={constructor:B2,on:function(n,e){var t=this._,i=z2e(n+"",t),r,s=-1,a=i.length;if(arguments.length<2){for(;++s<a;)if((r=(n=i[s]).type)&&(r=B2e(t[r],n.name)))return r;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<a;)if(r=(n=i[s]).type)t[r]=q9(t[r],n.name,e);else if(e==null)for(r in t)t[r]=q9(t[r],n.name,null);return this},copy:function(){var n={},e=this._;for(var t in e)n[t]=e[t].slice();return new B2(n)},call:function(n,e){if((r=arguments.length-2)>0)for(var t=new Array(r),i=0,r,s;i<r;++i)t[i]=arguments[i+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(s=this._[n],i=0,r=s.length;i<r;++i)s[i].value.apply(e,t)},apply:function(n,e,t){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var i=this._[n],r=0,s=i.length;r<s;++r)i[r].value.apply(e,t)}};function B2e(n,e){for(var t=0,i=n.length,r;t<i;++t)if((r=n[t]).name===e)return r.value}function q9(n,e,t){for(var i=0,r=n.length;i<r;++i)if(n[i].name===e){n[i]=k2e,n=n.slice(0,i).concat(n.slice(i+1));break}return t!=null&&n.push({name:e,value:t}),n}var x_=0,nx=0,L1=0,z$=1e3,TA,ix,wA=0,my=0,fR=0,TS=typeof performance=="object"&&performance.now?performance:Date,B$=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function F$(){return my||(B$(F2e),my=TS.now()+fR)}function F2e(){my=0}function bD(){this._call=this._time=this._next=null}bD.prototype=V$.prototype={constructor:bD,restart:function(n,e,t){if(typeof n!="function")throw new TypeError("callback is not a function");t=(t==null?F$():+t)+(e==null?0:+e),!this._next&&ix!==this&&(ix?ix._next=this:TA=this,ix=this),this._call=n,this._time=t,xD()},stop:function(){this._call&&(this._call=null,this._time=1/0,xD())}};function V$(n,e,t){var i=new bD;return i.restart(n,e,t),i}function V2e(){F$(),++x_;for(var n=TA,e;n;)(e=my-n._time)>=0&&n._call.call(void 0,e),n=n._next;--x_}function W9(){my=(wA=TS.now())+fR,x_=nx=0;try{V2e()}finally{x_=0,j2e(),my=0}}function H2e(){var n=TS.now(),e=n-wA;e>z$&&(fR-=e,wA=n)}function j2e(){for(var n,e=TA,t,i=1/0;e;)e._call?(i>e._time&&(i=e._time),n=e,e=e._next):(t=e._next,e._next=null,e=n?n._next=t:TA=t);ix=n,xD(i)}function xD(n){if(!x_){nx&&(nx=clearTimeout(nx));var e=n-my;e>24?(n<1/0&&(nx=setTimeout(W9,n-TS.now()-fR)),L1&&(L1=clearInterval(L1))):(L1||(wA=TS.now(),L1=setInterval(H2e,z$)),x_=1,B$(W9))}}const G2e=1664525,q2e=1013904223,$9=4294967296;function W2e(){let n=1;return()=>(n=(G2e*n+q2e)%$9)/$9}var X9=3;function l3(n){return n.x}function Y9(n){return n.y}function $2e(n){return n.z}var X2e=10,Y2e=Math.PI*(3-Math.sqrt(5)),K2e=Math.PI*20/(9+Math.sqrt(221));function Z2e(n,e){e=e||2;var t=Math.min(X9,Math.max(1,Math.round(e))),i,r=1,s=.001,a=1-Math.pow(s,1/300),o=0,l=.6,u=new Map,d=V$(v),p=k$("tick","end"),y=W2e();n==null&&(n=[]);function v(){_(),p.call("tick",i),r<s&&(d.stop(),p.call("end",i))}function _(b){var w,A=n.length,C;b===void 0&&(b=1);for(var D=0;D<b;++D)for(r+=(o-r)*a,u.forEach(function(N){N(r)}),w=0;w<A;++w)C=n[w],C.fx==null?C.x+=C.vx*=l:(C.x=C.fx,C.vx=0),t>1&&(C.fy==null?C.y+=C.vy*=l:(C.y=C.fy,C.vy=0)),t>2&&(C.fz==null?C.z+=C.vz*=l:(C.z=C.fz,C.vz=0));return i}function S(){for(var b=0,w=n.length,A;b<w;++b){if(A=n[b],A.index=b,A.fx!=null&&(A.x=A.fx),A.fy!=null&&(A.y=A.fy),A.fz!=null&&(A.z=A.fz),isNaN(A.x)||t>1&&isNaN(A.y)||t>2&&isNaN(A.z)){var C=X2e*(t>2?Math.cbrt(.5+b):t>1?Math.sqrt(.5+b):b),D=b*Y2e,N=b*K2e;t===1?A.x=C:t===2?(A.x=C*Math.cos(D),A.y=C*Math.sin(D)):(A.x=C*Math.sin(D)*Math.cos(N),A.y=C*Math.cos(D),A.z=C*Math.sin(D)*Math.sin(N))}(isNaN(A.vx)||t>1&&isNaN(A.vy)||t>2&&isNaN(A.vz))&&(A.vx=0,t>1&&(A.vy=0),t>2&&(A.vz=0))}}function E(b){return b.initialize&&b.initialize(n,y,t),b}return S(),i={tick:_,restart:function(){return d.restart(v),i},stop:function(){return d.stop(),i},numDimensions:function(b){return arguments.length?(t=Math.min(X9,Math.max(1,Math.round(b))),u.forEach(E),i):t},nodes:function(b){return arguments.length?(n=b,S(),u.forEach(E),i):n},alpha:function(b){return arguments.length?(r=+b,i):r},alphaMin:function(b){return arguments.length?(s=+b,i):s},alphaDecay:function(b){return arguments.length?(a=+b,i):+a},alphaTarget:function(b){return arguments.length?(o=+b,i):o},velocityDecay:function(b){return arguments.length?(l=1-b,i):1-l},randomSource:function(b){return arguments.length?(y=b,u.forEach(E),i):y},force:function(b,w){return arguments.length>1?(w==null?u.delete(b):u.set(b,E(w)),i):u.get(b)},find:function(){var b=Array.prototype.slice.call(arguments),w=b.shift()||0,A=(t>1?b.shift():null)||0,C=(t>2?b.shift():null)||0,D=b.shift()||1/0,N=0,I=n.length,L,P,U,F,z,V;for(D*=D,N=0;N<I;++N)z=n[N],L=w-z.x,P=A-(z.y||0),U=C-(z.z||0),F=L*L+P*P+U*U,F<D&&(V=z,D=F);return V},on:function(b,w){return arguments.length>1?(p.on(b,w),i):p.on(b)}}}function Q2e(){var n,e,t,i,r,s=jd(-30),a,o=1,l=1/0,u=.81;function d(_){var S,E=n.length,b=(e===1?P$(n,l3):e===2?N$(n,l3,Y9):e===3?U$(n,l3,Y9,$2e):null).visitAfter(y);for(r=_,S=0;S<E;++S)t=n[S],b.visit(v)}function p(){if(n){var _,S=n.length,E;for(a=new Array(S),_=0;_<S;++_)E=n[_],a[E.index]=+s(E,_,n)}}function y(_){var S=0,E,b,w=0,A,C,D,N,I=_.length;if(I){for(A=C=D=N=0;N<I;++N)(E=_[N])&&(b=Math.abs(E.value))&&(S+=E.value,w+=b,A+=b*(E.x||0),C+=b*(E.y||0),D+=b*(E.z||0));S*=Math.sqrt(4/I),_.x=A/w,e>1&&(_.y=C/w),e>2&&(_.z=D/w)}else{E=_,E.x=E.data.x,e>1&&(E.y=E.data.y),e>2&&(E.z=E.data.z);do S+=a[E.data.index];while(E=E.next)}_.value=S}function v(_,S,E,b,w){if(!_.value)return!0;var A=[E,b,w][e-1],C=_.x-t.x,D=e>1?_.y-t.y:0,N=e>2?_.z-t.z:0,I=A-S,L=C*C+D*D+N*N;if(I*I/u<L)return L<l&&(C===0&&(C=Ld(i),L+=C*C),e>1&&D===0&&(D=Ld(i),L+=D*D),e>2&&N===0&&(N=Ld(i),L+=N*N),L<o&&(L=Math.sqrt(o*L)),t.vx+=C*_.value*r/L,e>1&&(t.vy+=D*_.value*r/L),e>2&&(t.vz+=N*_.value*r/L)),!0;if(_.length||L>=l)return;(_.data!==t||_.next)&&(C===0&&(C=Ld(i),L+=C*C),e>1&&D===0&&(D=Ld(i),L+=D*D),e>2&&N===0&&(N=Ld(i),L+=N*N),L<o&&(L=Math.sqrt(o*L)));do _.data!==t&&(I=a[_.data.index]*r/L,t.vx+=C*I,e>1&&(t.vy+=D*I),e>2&&(t.vz+=N*I));while(_=_.next)}return d.initialize=function(_,...S){n=_,i=S.find(E=>typeof E=="function")||Math.random,e=S.find(E=>[1,2,3].includes(E))||2,p()},d.strength=function(_){return arguments.length?(s=typeof _=="function"?_:jd(+_),p(),d):s},d.distanceMin=function(_){return arguments.length?(o=_*_,d):Math.sqrt(o)},d.distanceMax=function(_){return arguments.length?(l=_*_,d):Math.sqrt(l)},d.theta=function(_){return arguments.length?(u=_*_,d):Math.sqrt(u)},d}function J2e(n,e,t,i){var r,s,a=jd(.1),o,l;typeof n!="function"&&(n=jd(+n)),e==null&&(e=0),t==null&&(t=0),i==null&&(i=0);function u(p){for(var y=0,v=r.length;y<v;++y){var _=r[y],S=_.x-e||1e-6,E=(_.y||0)-t||1e-6,b=(_.z||0)-i||1e-6,w=Math.sqrt(S*S+E*E+b*b),A=(l[y]-w)*o[y]*p/w;_.vx+=S*A,s>1&&(_.vy+=E*A),s>2&&(_.vz+=b*A)}}function d(){if(r){var p,y=r.length;for(o=new Array(y),l=new Array(y),p=0;p<y;++p)l[p]=+n(r[p],p,r),o[p]=isNaN(l[p])?0:+a(r[p],p,r)}}return u.initialize=function(p,...y){r=p,s=y.find(v=>[1,2,3].includes(v))||2,d()},u.strength=function(p){return arguments.length?(a=typeof p=="function"?p:jd(+p),d(),u):a},u.radius=function(p){return arguments.length?(n=typeof p=="function"?p:jd(+p),d(),u):n},u.x=function(p){return arguments.length?(e=+p,u):e},u.y=function(p){return arguments.length?(t=+p,u):t},u.z=function(p){return arguments.length?(i=+p,u):i},u}function eCe(n){nCe(n);const e=tCe(n);return n.on=e.on,n.off=e.off,n.fire=e.fire,n}function tCe(n){let e=Object.create(null);return{on:function(t,i,r){if(typeof i!="function")throw new Error("callback is expected to be a function");let s=e[t];return s||(s=e[t]=[]),s.push({callback:i,ctx:r}),n},off:function(t,i){if(typeof t>"u")return e=Object.create(null),n;if(e[t])if(typeof i!="function")delete e[t];else{const a=e[t];for(let o=0;o<a.length;++o)a[o].callback===i&&a.splice(o,1)}return n},fire:function(t){const i=e[t];if(!i)return n;let r;arguments.length>1&&(r=Array.prototype.slice.call(arguments,1));for(let s=0;s<i.length;++s){const a=i[s];a.callback.apply(a.ctx,r)}return n}}}function nCe(n){if(!n)throw new Error("Eventify cannot use falsy object as events subject");const e=["on","fire","off"];for(let t=0;t<e.length;++t)if(n.hasOwnProperty(e[t]))throw new Error("Subject cannot be eventified, since it already has property '"+e[t]+"'")}function iCe(n){if(n=n||{},"uniqueLinkId"in n&&(console.warn("ngraph.graph: Starting from version 0.14 `uniqueLinkId` is deprecated.\nUse `multigraph` option instead\n",`
`,`Note: there is also change in default behavior: From now on each graph
is considered to be not a multigraph by default (each edge is unique).`),n.multigraph=n.uniqueLinkId),n.multigraph===void 0&&(n.multigraph=!1),typeof Map!="function")throw new Error("ngraph.graph requires `Map` to be defined. Please polyfill it before using ngraph");var e=new Map,t=new Map,i={},r=0,s=n.multigraph?C:A,a=[],o=$,l=$,u=$,d=$,p={version:20,addNode:S,addLink:w,removeLink:L,removeNode:b,getNode:E,getNodeCount:D,getLinkCount:N,getEdgeCount:N,getLinksCount:N,getNodesCount:D,getLinks:I,forEachNode:fe,forEachLinkedNode:Y,forEachLink:V,beginUpdate:u,endUpdate:d,clear:z,hasLink:U,hasNode:E,getLink:U,getLinkById:F};return eCe(p),y(),p;function y(){var K=p.on;p.on=le;function le(){return p.beginUpdate=u=Q,p.endUpdate=d=se,o=v,l=_,p.on=K,K.apply(p,arguments)}}function v(K,le){a.push({link:K,changeType:le})}function _(K,le){a.push({node:K,changeType:le})}function S(K,le){if(K===void 0)throw new Error("Invalid node identifier");u();var pe=E(K);return pe?(pe.data=le,l(pe,"update")):(pe=new rCe(K,le),l(pe,"add")),e.set(K,pe),d(),pe}function E(K){return e.get(K)}function b(K){var le=E(K);if(!le)return!1;u();var pe=le.links;return pe&&(pe.forEach(P),le.links=null),e.delete(K),l(le,"remove"),d(),!0}function w(K,le,pe){u();var ue=E(K)||S(K),ie=E(le)||S(le),de=s(K,le,pe),ye=t.has(de.id);return t.set(de.id,de),K9(ue,de),K!==le&&K9(ie,de),o(de,ye?"update":"add"),d(),de}function A(K,le,pe){var ue=Vw(K,le),ie=t.get(ue);return ie?(ie.data=pe,ie):new Z9(K,le,pe,ue)}function C(K,le,pe){var ue=Vw(K,le),ie=i.hasOwnProperty(ue);if(ie||U(K,le)){ie||(i[ue]=0);var de="@"+ ++i[ue];ue=Vw(K+de,le+de)}return new Z9(K,le,pe,ue)}function D(){return e.size}function N(){return t.size}function I(K){var le=E(K);return le?le.links:null}function L(K,le){return le!==void 0&&(K=U(K,le)),P(K)}function P(K){if(!K||!t.get(K.id))return!1;u(),t.delete(K.id);var le=E(K.fromId),pe=E(K.toId);return le&&le.links.delete(K),pe&&pe.links.delete(K),o(K,"remove"),d(),!0}function U(K,le){if(!(K===void 0||le===void 0))return t.get(Vw(K,le))}function F(K){if(K!==void 0)return t.get(K)}function z(){u(),fe(function(K){b(K.id)}),d()}function V(K){if(typeof K=="function")for(var le=t.values(),pe=le.next();!pe.done;){if(K(pe.value))return!0;pe=le.next()}}function Y(K,le,pe){var ue=E(K);if(ue&&ue.links&&typeof le=="function")return pe?q(ue.links,K,le):ee(ue.links,K,le)}function ee(K,le,pe){for(var ue,ie=K.values(),de=ie.next();!de.done;){var ye=de.value,Ve=ye.fromId===le?ye.toId:ye.fromId;if(ue=pe(e.get(Ve),ye),ue)return!0;de=ie.next()}}function q(K,le,pe){for(var ue,ie=K.values(),de=ie.next();!de.done;){var ye=de.value;if(ye.fromId===le&&(ue=pe(e.get(ye.toId),ye),ue))return!0;de=ie.next()}}function $(){}function Q(){r+=1}function se(){r-=1,r===0&&a.length>0&&(p.fire("changed",a),a.length=0)}function fe(K){if(typeof K!="function")throw new Error("Function is expected to iterate over graph nodes. You passed "+K);for(var le=e.values(),pe=le.next();!pe.done;){if(K(pe.value))return!0;pe=le.next()}}}function rCe(n,e){this.id=n,this.links=null,this.data=e}function K9(n,e){n.links?n.links.add(e):n.links=new Set([e])}function Z9(n,e,t,i){this.fromId=n,this.toId=e,this.data=t,this.id=i}function Vw(n,e){return n.toString()+" "+e.toString()}var Hw={exports:{}},s0={exports:{}},c3,Q9;function H$(){return Q9||(Q9=1,c3=function(e){return e===0?"x":e===1?"y":e===2?"z":"c"+(e+1)}),c3}var u3,J9;function W_(){if(J9)return u3;J9=1;const n=H$();return u3=function(t){return i;function i(r,s){let a=s&&s.indent||0,o=s&&s.join!==void 0?s.join:`
`,l=Array(a+1).join(" "),u=[];for(let d=0;d<t;++d){let p=n(d),y=d===0?"":l;u.push(y+r.replace(/{var}/g,p))}return u.join(o)}},u3}var eF;function sCe(){if(eF)return s0.exports;eF=1;const n=W_();s0.exports=e,s0.exports.generateCreateBodyFunctionBody=t,s0.exports.getVectorCode=r,s0.exports.getBodyCode=i;function e(s,a){let o=t(s,a),{Body:l}=new Function(o)();return l}function t(s,a){return`
${r(s,a)}
${i(s)}
return {Body: Body, Vector: Vector};
`}function i(s){let a=n(s),o=a("{var}",{join:", "});return`
function Body(${o}) {
  this.isPinned = false;
  this.pos = new Vector(${o});
  this.force = new Vector();
  this.velocity = new Vector();
  this.mass = 1;

  this.springCount = 0;
  this.springLength = 0;
}

Body.prototype.reset = function() {
  this.force.reset();
  this.springCount = 0;
  this.springLength = 0;
}

Body.prototype.setPosition = function (${o}) {
  ${a("this.pos.{var} = {var} || 0;",{indent:2})}
};`}function r(s,a){let o=n(s),l="";return a&&(l=`${o(`
	   var v{var};
	Object.defineProperty(this, '{var}', {
	  set: function(v) { 
	    if (!Number.isFinite(v)) throw new Error('Cannot set non-numbers to {var}');
	    v{var} = v; 
	  },
	  get: function() { return v{var}; }
	});`)}`),`function Vector(${o("{var}",{join:", "})}) {
  ${l}
    if (typeof arguments[0] === 'object') {
      // could be another vector
      let v = arguments[0];
      ${o('if (!Number.isFinite(v.{var})) throw new Error("Expected value is not a finite number at Vector constructor ({var})");',{indent:4})}
      ${o("this.{var} = v.{var};",{indent:4})}
    } else {
      ${o('this.{var} = typeof {var} === "number" ? {var} : 0;',{indent:4})}
    }
  }
  
  Vector.prototype.reset = function () {
    ${o("this.{var} = ",{join:""})}0;
  };`}return s0.exports}var Md={exports:{}},tF;function aCe(){if(tF)return Md.exports;tF=1;const n=W_(),e=H$();Md.exports=t,Md.exports.generateQuadTreeFunctionBody=i,Md.exports.getInsertStackCode=l,Md.exports.getQuadNodeCode=o,Md.exports.isSamePosition=r,Md.exports.getChildBodyCode=a,Md.exports.setChildBodyCode=s;function t(u){let d=i(u);return new Function(d)()}function i(u){let d=n(u),p=Math.pow(2,u);return`
${l()}
${o(u)}
${r(u)}
${a(u)}
${s(u)}

function createQuadTree(options, random) {
  options = options || {};
  options.gravity = typeof options.gravity === 'number' ? options.gravity : -1;
  options.theta = typeof options.theta === 'number' ? options.theta : 0.8;

  var gravity = options.gravity;
  var updateQueue = [];
  var insertStack = new InsertStack();
  var theta = options.theta;

  var nodesCache = [];
  var currentInCache = 0;
  var root = newNode();

  return {
    insertBodies: insertBodies,

    /**
     * Gets root node if it is present
     */
    getRoot: function() {
      return root;
    },

    updateBodyForce: update,

    options: function(newOptions) {
      if (newOptions) {
        if (typeof newOptions.gravity === 'number') {
          gravity = newOptions.gravity;
        }
        if (typeof newOptions.theta === 'number') {
          theta = newOptions.theta;
        }

        return this;
      }

      return {
        gravity: gravity,
        theta: theta
      };
    }
  };

  function newNode() {
    // To avoid pressure on GC we reuse nodes.
    var node = nodesCache[currentInCache];
    if (node) {
${S("      node.")}
      node.body = null;
      node.mass = ${d("node.mass_{var} = ",{join:""})}0;
      ${d("node.min_{var} = node.max_{var} = ",{join:""})}0;
    } else {
      node = new QuadNode();
      nodesCache[currentInCache] = node;
    }

    ++currentInCache;
    return node;
  }

  function update(sourceBody) {
    var queue = updateQueue;
    var v;
    ${d("var d{var};",{indent:4})}
    var r; 
    ${d("var f{var} = 0;",{indent:4})}
    var queueLength = 1;
    var shiftIdx = 0;
    var pushIdx = 1;

    queue[0] = root;

    while (queueLength) {
      var node = queue[shiftIdx];
      var body = node.body;

      queueLength -= 1;
      shiftIdx += 1;
      var differentBody = (body !== sourceBody);
      if (body && differentBody) {
        // If the current node is a leaf node (and it is not source body),
        // calculate the force exerted by the current node on body, and add this
        // amount to body's net force.
        ${d("d{var} = body.pos.{var} - sourceBody.pos.{var};",{indent:8})}
        r = Math.sqrt(${d("d{var} * d{var}",{join:" + "})});

        if (r === 0) {
          // Poor man's protection against zero distance.
          ${d("d{var} = (random.nextDouble() - 0.5) / 50;",{indent:10})}
          r = Math.sqrt(${d("d{var} * d{var}",{join:" + "})});
        }

        // This is standard gravitation force calculation but we divide
        // by r^3 to save two operations when normalizing force vector.
        v = gravity * body.mass * sourceBody.mass / (r * r * r);
        ${d("f{var} += v * d{var};",{indent:8})}
      } else if (differentBody) {
        // Otherwise, calculate the ratio s / r,  where s is the width of the region
        // represented by the internal node, and r is the distance between the body
        // and the node's center-of-mass
        ${d("d{var} = node.mass_{var} / node.mass - sourceBody.pos.{var};",{indent:8})}
        r = Math.sqrt(${d("d{var} * d{var}",{join:" + "})});

        if (r === 0) {
          // Sorry about code duplication. I don't want to create many functions
          // right away. Just want to see performance first.
          ${d("d{var} = (random.nextDouble() - 0.5) / 50;",{indent:10})}
          r = Math.sqrt(${d("d{var} * d{var}",{join:" + "})});
        }
        // If s / r < , treat this internal node as a single body, and calculate the
        // force it exerts on sourceBody, and add this amount to sourceBody's net force.
        if ((node.max_${e(0)} - node.min_${e(0)}) / r < theta) {
          // in the if statement above we consider node's width only
          // because the region was made into square during tree creation.
          // Thus there is no difference between using width or height.
          v = gravity * node.mass * sourceBody.mass / (r * r * r);
          ${d("f{var} += v * d{var};",{indent:10})}
        } else {
          // Otherwise, run the procedure recursively on each of the current node's children.

          // I intentionally unfolded this loop, to save several CPU cycles.
${_()}
        }
      }
    }

    ${d("sourceBody.force.{var} += f{var};",{indent:4})}
  }

  function insertBodies(bodies) {
    ${d("var {var}min = Number.MAX_VALUE;",{indent:4})}
    ${d("var {var}max = Number.MIN_VALUE;",{indent:4})}
    var i = bodies.length;

    // To reduce quad tree depth we are looking for exact bounding box of all particles.
    while (i--) {
      var pos = bodies[i].pos;
      ${d("if (pos.{var} < {var}min) {var}min = pos.{var};",{indent:6})}
      ${d("if (pos.{var} > {var}max) {var}max = pos.{var};",{indent:6})}
    }

    // Makes the bounds square.
    var maxSideLength = -Infinity;
    ${d("if ({var}max - {var}min > maxSideLength) maxSideLength = {var}max - {var}min ;",{indent:4})}

    currentInCache = 0;
    root = newNode();
    ${d("root.min_{var} = {var}min;",{indent:4})}
    ${d("root.max_{var} = {var}min + maxSideLength;",{indent:4})}

    i = bodies.length - 1;
    if (i >= 0) {
      root.body = bodies[i];
    }
    while (i--) {
      insert(bodies[i], root);
    }
  }

  function insert(newBody) {
    insertStack.reset();
    insertStack.push(root, newBody);

    while (!insertStack.isEmpty()) {
      var stackItem = insertStack.pop();
      var node = stackItem.node;
      var body = stackItem.body;

      if (!node.body) {
        // This is internal node. Update the total mass of the node and center-of-mass.
        ${d("var {var} = body.pos.{var};",{indent:8})}
        node.mass += body.mass;
        ${d("node.mass_{var} += body.mass * {var};",{indent:8})}

        // Recursively insert the body in the appropriate quadrant.
        // But first find the appropriate quadrant.
        var quadIdx = 0; // Assume we are in the 0's quad.
        ${d("var min_{var} = node.min_{var};",{indent:8})}
        ${d("var max_{var} = (min_{var} + node.max_{var}) / 2;",{indent:8})}

${v(8)}

        var child = getChild(node, quadIdx);

        if (!child) {
          // The node is internal but this quadrant is not taken. Add
          // subnode to it.
          child = newNode();
          ${d("child.min_{var} = min_{var};",{indent:10})}
          ${d("child.max_{var} = max_{var};",{indent:10})}
          child.body = body;

          setChild(node, quadIdx, child);
        } else {
          // continue searching in this quadrant.
          insertStack.push(child, body);
        }
      } else {
        // We are trying to add to the leaf node.
        // We have to convert current leaf into internal node
        // and continue adding two nodes.
        var oldBody = node.body;
        node.body = null; // internal nodes do not cary bodies

        if (isSamePosition(oldBody.pos, body.pos)) {
          // Prevent infinite subdivision by bumping one node
          // anywhere in this quadrant
          var retriesCount = 3;
          do {
            var offset = random.nextDouble();
            ${d("var d{var} = (node.max_{var} - node.min_{var}) * offset;",{indent:12})}

            ${d("oldBody.pos.{var} = node.min_{var} + d{var};",{indent:12})}
            retriesCount -= 1;
            // Make sure we don't bump it out of the box. If we do, next iteration should fix it
          } while (retriesCount > 0 && isSamePosition(oldBody.pos, body.pos));

          if (retriesCount === 0 && isSamePosition(oldBody.pos, body.pos)) {
            // This is very bad, we ran out of precision.
            // if we do not return from the method we'll get into
            // infinite loop here. So we sacrifice correctness of layout, and keep the app running
            // Next layout iteration should get larger bounding box in the first step and fix this
            return;
          }
        }
        // Next iteration should subdivide node further.
        insertStack.push(node, oldBody);
        insertStack.push(node, body);
      }
    }
  }
}
return createQuadTree;

`;function v(E){let b=[],w=Array(E+1).join(" ");for(let A=0;A<u;++A)b.push(w+`if (${e(A)} > max_${e(A)}) {`),b.push(w+`  quadIdx = quadIdx + ${Math.pow(2,A)};`),b.push(w+`  min_${e(A)} = max_${e(A)};`),b.push(w+`  max_${e(A)} = node.max_${e(A)};`),b.push(w+"}");return b.join(`
`)}function _(){let E=Array(11).join(" "),b=[];for(let w=0;w<p;++w)b.push(E+`if (node.quad${w}) {`),b.push(E+`  queue[pushIdx] = node.quad${w};`),b.push(E+"  queueLength += 1;"),b.push(E+"  pushIdx += 1;"),b.push(E+"}");return b.join(`
`)}function S(E){let b=[];for(let w=0;w<p;++w)b.push(`${E}quad${w} = null;`);return b.join(`
`)}}function r(u){let d=n(u);return`
  function isSamePosition(point1, point2) {
    ${d("var d{var} = Math.abs(point1.{var} - point2.{var});",{indent:2})}
  
    return ${d("d{var} < 1e-8",{join:" && "})};
  }  
`}function s(u){var d=Math.pow(2,u);return`
function setChild(node, idx, child) {
  ${p()}
}`;function p(){let y=[];for(let v=0;v<d;++v){let _=v===0?"  ":"  else ";y.push(`${_}if (idx === ${v}) node.quad${v} = child;`)}return y.join(`
`)}}function a(u){return`function getChild(node, idx) {
${d()}
  return null;
}`;function d(){let p=[],y=Math.pow(2,u);for(let v=0;v<y;++v)p.push(`  if (idx === ${v}) return node.quad${v};`);return p.join(`
`)}}function o(u){let d=n(u),p=Math.pow(2,u);var y=`
function QuadNode() {
  // body stored inside this node. In quad tree only leaf nodes (by construction)
  // contain bodies:
  this.body = null;

  // Child nodes are stored in quads. Each quad is presented by number:
  // 0 | 1
  // -----
  // 2 | 3
${v("  this.")}

  // Total mass of current node
  this.mass = 0;

  // Center of mass coordinates
  ${d("this.mass_{var} = 0;",{indent:2})}

  // bounding box coordinates
  ${d("this.min_{var} = 0;",{indent:2})}
  ${d("this.max_{var} = 0;",{indent:2})}
}
`;return y;function v(_){let S=[];for(let E=0;E<p;++E)S.push(`${_}quad${E} = null;`);return S.join(`
`)}}function l(){return`
/**
 * Our implementation of QuadTree is non-recursive to avoid GC hit
 * This data structure represent stack of elements
 * which we are trying to insert into quad tree.
 */
function InsertStack () {
    this.stack = [];
    this.popIdx = 0;
}

InsertStack.prototype = {
    isEmpty: function() {
        return this.popIdx === 0;
    },
    push: function (node, body) {
        var item = this.stack[this.popIdx];
        if (!item) {
            // we are trying to avoid memory pressure: create new element
            // only when absolutely necessary
            this.stack[this.popIdx] = new InsertStackElement(node, body);
        } else {
            item.node = node;
            item.body = body;
        }
        ++this.popIdx;
    },
    pop: function () {
        if (this.popIdx > 0) {
            return this.stack[--this.popIdx];
        }
    },
    reset: function () {
        this.popIdx = 0;
    }
};

function InsertStackElement(node, body) {
    this.node = node; // QuadTree node
    this.body = body; // physical body which needs to be inserted to node
}
`}return Md.exports}var jw={exports:{}},nF;function oCe(){if(nF)return jw.exports;nF=1,jw.exports=e,jw.exports.generateFunctionBody=t;const n=W_();function e(i){let r=t(i);return new Function("bodies","settings","random",r)}function t(i){let r=n(i);return`
  var boundingBox = {
    ${r("min_{var}: 0, max_{var}: 0,",{indent:4})}
  };

  return {
    box: boundingBox,

    update: updateBoundingBox,

    reset: resetBoundingBox,

    getBestNewPosition: function (neighbors) {
      var ${r("base_{var} = 0",{join:", "})};

      if (neighbors.length) {
        for (var i = 0; i < neighbors.length; ++i) {
          let neighborPos = neighbors[i].pos;
          ${r("base_{var} += neighborPos.{var};",{indent:10})}
        }

        ${r("base_{var} /= neighbors.length;",{indent:8})}
      } else {
        ${r("base_{var} = (boundingBox.min_{var} + boundingBox.max_{var}) / 2;",{indent:8})}
      }

      var springLength = settings.springLength;
      return {
        ${r("{var}: base_{var} + (random.nextDouble() - 0.5) * springLength,",{indent:8})}
      };
    }
  };

  function updateBoundingBox() {
    var i = bodies.length;
    if (i === 0) return; // No bodies - no borders.

    ${r("var max_{var} = -Infinity;",{indent:4})}
    ${r("var min_{var} = Infinity;",{indent:4})}

    while(i--) {
      // this is O(n), it could be done faster with quadtree, if we check the root node bounds
      var bodyPos = bodies[i].pos;
      ${r("if (bodyPos.{var} < min_{var}) min_{var} = bodyPos.{var};",{indent:6})}
      ${r("if (bodyPos.{var} > max_{var}) max_{var} = bodyPos.{var};",{indent:6})}
    }

    ${r("boundingBox.min_{var} = min_{var};",{indent:4})}
    ${r("boundingBox.max_{var} = max_{var};",{indent:4})}
  }

  function resetBoundingBox() {
    ${r("boundingBox.min_{var} = boundingBox.max_{var} = 0;",{indent:4})}
  }
`}return jw.exports}var Gw={exports:{}},iF;function lCe(){if(iF)return Gw.exports;iF=1;const n=W_();Gw.exports=e,Gw.exports.generateCreateDragForceFunctionBody=t;function e(i){let r=t(i);return new Function("options",r)}function t(i){return`
  if (!Number.isFinite(options.dragCoefficient)) throw new Error('dragCoefficient is not a finite number');

  return {
    update: function(body) {
      ${n(i)("body.force.{var} -= options.dragCoefficient * body.velocity.{var};",{indent:6})}
    }
  };
`}return Gw.exports}var qw={exports:{}},rF;function cCe(){if(rF)return qw.exports;rF=1;const n=W_();qw.exports=e,qw.exports.generateCreateSpringForceFunctionBody=t;function e(i){let r=t(i);return new Function("options","random",r)}function t(i){let r=n(i);return`
  if (!Number.isFinite(options.springCoefficient)) throw new Error('Spring coefficient is not a number');
  if (!Number.isFinite(options.springLength)) throw new Error('Spring length is not a number');

  return {
    /**
     * Updates forces acting on a spring
     */
    update: function (spring) {
      var body1 = spring.from;
      var body2 = spring.to;
      var length = spring.length < 0 ? options.springLength : spring.length;
      ${r("var d{var} = body2.pos.{var} - body1.pos.{var};",{indent:6})}
      var r = Math.sqrt(${r("d{var} * d{var}",{join:" + "})});

      if (r === 0) {
        ${r("d{var} = (random.nextDouble() - 0.5) / 50;",{indent:8})}
        r = Math.sqrt(${r("d{var} * d{var}",{join:" + "})});
      }

      var d = r - length;
      var coefficient = ((spring.coefficient > 0) ? spring.coefficient : options.springCoefficient) * d / r;

      ${r("body1.force.{var} += coefficient * d{var}",{indent:6})};
      body1.springCount += 1;
      body1.springLength += r;

      ${r("body2.force.{var} -= coefficient * d{var}",{indent:6})};
      body2.springCount += 1;
      body2.springLength += r;
    }
  };
`}return qw.exports}var Ww={exports:{}},sF;function uCe(){if(sF)return Ww.exports;sF=1;const n=W_();Ww.exports=e,Ww.exports.generateIntegratorFunctionBody=t;function e(i){let r=t(i);return new Function("bodies","timeStep","adaptiveTimeStepWeight",r)}function t(i){let r=n(i);return`
  var length = bodies.length;
  if (length === 0) return 0;

  ${r("var d{var} = 0, t{var} = 0;",{indent:2})}

  for (var i = 0; i < length; ++i) {
    var body = bodies[i];
    if (body.isPinned) continue;

    if (adaptiveTimeStepWeight && body.springCount) {
      timeStep = (adaptiveTimeStepWeight * body.springLength/body.springCount);
    }

    var coeff = timeStep / body.mass;

    ${r("body.velocity.{var} += coeff * body.force.{var};",{indent:4})}
    ${r("var v{var} = body.velocity.{var};",{indent:4})}
    var v = Math.sqrt(${r("v{var} * v{var}",{join:" + "})});

    if (v > 1) {
      // We normalize it so that we move within timeStep range. 
      // for the case when v <= 1 - we let velocity to fade out.
      ${r("body.velocity.{var} = v{var} / v;",{indent:6})}
    }

    ${r("d{var} = timeStep * body.velocity.{var};",{indent:4})}

    ${r("body.pos.{var} += d{var};",{indent:4})}

    ${r("t{var} += Math.abs(d{var});",{indent:4})}
  }

  return (${r("t{var} * t{var}",{join:" + "})})/length;
`}return Ww.exports}var h3,aF;function hCe(){if(aF)return h3;aF=1,h3=n;function n(e,t,i,r){this.from=e,this.to=t,this.length=i,this.coefficient=r}return h3}var d3,oF;function dCe(){if(oF)return d3;oF=1,d3=n;function n(e,t){var i;if(e||(e={}),t){for(i in t)if(t.hasOwnProperty(i)){var r=e.hasOwnProperty(i),s=typeof t[i],a=!r||typeof e[i]!==s;a?e[i]=t[i]:s==="object"&&(e[i]=n(e[i],t[i]))}}return e}return d3}var f3,lF;function j$(){if(lF)return f3;lF=1;function n(i){t(i);const r=e(i);return i.on=r.on,i.off=r.off,i.fire=r.fire,i}function e(i){let r=Object.create(null);return{on:function(s,a,o){if(typeof a!="function")throw new Error("callback is expected to be a function");let l=r[s];return l||(l=r[s]=[]),l.push({callback:a,ctx:o}),i},off:function(s,a){if(typeof s>"u")return r=Object.create(null),i;if(r[s])if(typeof a!="function")delete r[s];else{const o=r[s];for(let l=0;l<o.length;++l)o[l].callback===a&&o.splice(l,1)}return i},fire:function(s){const a=r[s];if(!a)return i;let o;arguments.length>1&&(o=Array.prototype.slice.call(arguments,1));for(let l=0;l<a.length;++l){const u=a[l];u.callback.apply(u.ctx,o)}return i}}}function t(i){if(!i)throw new Error("Eventify cannot use falsy object as events subject");const r=["on","fire","off"];for(let s=0;s<r.length;++s)if(i.hasOwnProperty(r[s]))throw new Error("Subject cannot be eventified, since it already has property '"+r[s]+"'")}return f3=n,f3}var U1={exports:{}},cF;function fCe(){if(cF)return U1.exports;cF=1,U1.exports=n,U1.exports.random=n,U1.exports.randomIterator=o;function n(l){var u=typeof l=="number"?l:+new Date;return new e(u)}function e(l){this.seed=l}e.prototype.next=a,e.prototype.nextDouble=s,e.prototype.uniform=s,e.prototype.gaussian=t,e.prototype.random=s;function t(){var l,u,d;do u=this.nextDouble()*2-1,d=this.nextDouble()*2-1,l=u*u+d*d;while(l>=1||l===0);return u*Math.sqrt(-2*Math.log(l)/l)}e.prototype.levy=i;function i(){var l=1.5,u=Math.pow(r(1+l)*Math.sin(Math.PI*l/2)/(r((1+l)/2)*l*Math.pow(2,(l-1)/2)),1/l);return this.gaussian()*u/Math.pow(Math.abs(this.gaussian()),1/l)}function r(l){return Math.sqrt(2*Math.PI/l)*Math.pow(1/Math.E*(l+1/(12*l-1/(10*l))),l)}function s(){var l=this.seed;return l=l+2127912214+(l<<12)&4294967295,l=(l^3345072700^l>>>19)&4294967295,l=l+374761393+(l<<5)&4294967295,l=(l+3550635116^l<<9)&4294967295,l=l+4251993797+(l<<3)&4294967295,l=(l^3042594569^l>>>16)&4294967295,this.seed=l,(l&268435455)/268435456}function a(l){return Math.floor(this.nextDouble()*l)}function o(l,u){var d=u||n();if(typeof d.next!="function")throw new Error("customRandom does not match expected API: next() function is missing");return{forEach:y,shuffle:p};function p(){var v,_,S;for(v=l.length-1;v>0;--v)_=d.next(v+1),S=l[_],l[_]=l[v],l[v]=S;return l}function y(v){var _,S,E;for(_=l.length-1;_>0;--_)S=d.next(_+1),E=l[S],l[S]=l[_],l[_]=E,v(E);l.length&&v(l[0])}}return U1.exports}var p3,uF;function hF(){if(uF)return p3;uF=1,p3=o;var n=sCe(),e=aCe(),t=oCe(),i=lCe(),r=cCe(),s=uCe(),a={};function o(d){var p=hCe(),y=dCe(),v=j$();if(d){if(d.springCoeff!==void 0)throw new Error("springCoeff was renamed to springCoefficient");if(d.dragCoeff!==void 0)throw new Error("dragCoeff was renamed to dragCoefficient")}d=y(d,{springLength:10,springCoefficient:.8,gravity:-12,theta:.8,dragCoefficient:.9,timeStep:.5,adaptiveTimeStepWeight:0,dimensions:2,debug:!1});var _=a[d.dimensions];if(!_){var S=d.dimensions;_={Body:n(S,d.debug),createQuadTree:e(S),createBounds:t(S),createDragForce:i(S),createSpringForce:r(S),integrate:s(S)},a[S]=_}var E=_.Body,b=_.createQuadTree,w=_.createBounds,A=_.createDragForce,C=_.createSpringForce,D=_.integrate,N=ie=>new E(ie),I=fCe().random(42),L=[],P=[],U=b(d,I),F=w(L,d,I),z=C(d,I),V=A(d),Y=0,ee=[],q=new Map,$=0;fe("nbody",pe),fe("spring",ue);var Q={bodies:L,quadTree:U,springs:P,settings:d,addForce:fe,removeForce:K,getForces:le,step:function(){for(var ie=0;ie<ee.length;++ie)ee[ie]($);var de=D(L,d.timeStep,d.adaptiveTimeStepWeight);return $+=1,de},addBody:function(ie){if(!ie)throw new Error("Body is required");return L.push(ie),ie},addBodyAt:function(ie){if(!ie)throw new Error("Body position is required");var de=N(ie);return L.push(de),de},removeBody:function(ie){if(ie){var de=L.indexOf(ie);if(!(de<0))return L.splice(de,1),L.length===0&&F.reset(),!0}},addSpring:function(ie,de,ye,Ve){if(!ie||!de)throw new Error("Cannot add null spring to force simulator");typeof ye!="number"&&(ye=-1);var Xe=new p(ie,de,ye,Ve>=0?Ve:-1);return P.push(Xe),Xe},getTotalMovement:function(){return Y},removeSpring:function(ie){if(ie){var de=P.indexOf(ie);if(de>-1)return P.splice(de,1),!0}},getBestNewBodyPosition:function(ie){return F.getBestNewPosition(ie)},getBBox:se,getBoundingBox:se,invalidateBBox:function(){console.warn("invalidateBBox() is deprecated, bounds always recomputed on `getBBox()` call")},gravity:function(ie){return ie!==void 0?(d.gravity=ie,U.options({gravity:ie}),this):d.gravity},theta:function(ie){return ie!==void 0?(d.theta=ie,U.options({theta:ie}),this):d.theta},random:I};return l(d,Q),v(Q),Q;function se(){return F.update(),F.box}function fe(ie,de){if(q.has(ie))throw new Error("Force "+ie+" is already added");q.set(ie,de),ee.push(de)}function K(ie){var de=ee.indexOf(q.get(ie));de<0||(ee.splice(de,1),q.delete(ie))}function le(){return q}function pe(){if(L.length!==0){U.insertBodies(L);for(var ie=L.length;ie--;){var de=L[ie];de.isPinned||(de.reset(),U.updateBodyForce(de),V.update(de))}}}function ue(){for(var ie=P.length;ie--;)z.update(P[ie])}}function l(d,p){for(var y in d)u(d,p,y)}function u(d,p,y){if(d.hasOwnProperty(y)&&typeof p[y]!="function"){var v=Number.isFinite(d[y]);v?p[y]=function(_){if(_!==void 0){if(!Number.isFinite(_))throw new Error("Value of "+y+" should be a valid number.");return d[y]=_,p}return d[y]}:p[y]=function(_){return _!==void 0?(d[y]=_,p):d[y]}}}return p3}var dF;function pCe(){if(dF)return Hw.exports;dF=1,Hw.exports=e,Hw.exports.simulator=hF();var n=j$();function e(i,r){if(!i)throw new Error("Graph structure cannot be undefined");var s=r&&r.createSimulator||hF(),a=s(r);if(Array.isArray(r))throw new Error("Physics settings is expected to be an object");var o=i.version>19?q:ee;r&&typeof r.nodeMass=="function"&&(o=r.nodeMass);var l=new Map,u={},d=0,p=a.settings.springTransform||t;N(),A();var y=!1,v={step:function(){if(d===0)return _(!0),!0;var $=a.step();v.lastMove=$,v.fire("step");var Q=$/d,se=Q<=.01;return _(se),se},getNodePosition:function($){return Y($).pos},setNodePosition:function($){var Q=Y($);Q.setPosition.apply(Q,Array.prototype.slice.call(arguments,1))},getLinkPosition:function($){var Q=u[$];if(Q)return{from:Q.from.pos,to:Q.to.pos}},getGraphRect:function(){return a.getBBox()},forEachBody:S,pinNode:function($,Q){var se=Y($.id);se.isPinned=!!Q},isNodePinned:function($){return Y($.id).isPinned},dispose:function(){i.off("changed",D),v.fire("disposed")},getBody:w,getSpring:b,getForceVectorLength:E,simulator:a,graph:i,lastMove:0};return n(v),v;function _($){y!==$&&(y=$,C($))}function S($){l.forEach($)}function E(){var $=0,Q=0;return S(function(se){$+=Math.abs(se.force.x),Q+=Math.abs(se.force.y)}),Math.sqrt($*$+Q*Q)}function b($,Q){var se;if(Q===void 0)typeof $!="object"?se=$:se=$.id;else{var fe=i.hasLink($,Q);if(!fe)return;se=fe.id}return u[se]}function w($){return l.get($)}function A(){i.on("changed",D)}function C($){v.fire("stable",$)}function D($){for(var Q=0;Q<$.length;++Q){var se=$[Q];se.changeType==="add"?(se.node&&I(se.node.id),se.link&&P(se.link)):se.changeType==="remove"&&(se.node&&L(se.node),se.link&&U(se.link))}d=i.getNodesCount()}function N(){d=0,i.forEachNode(function($){I($.id),d+=1}),i.forEachLink(P)}function I($){var Q=l.get($);if(!Q){var se=i.getNode($);if(!se)throw new Error("initBody() was called with unknown node id");var fe=se.position;if(!fe){var K=F(se);fe=a.getBestNewBodyPosition(K)}Q=a.addBodyAt(fe),Q.id=$,l.set($,Q),z($),V(se)&&(Q.isPinned=!0)}}function L($){var Q=$.id,se=l.get(Q);se&&(l.delete(Q),a.removeBody(se))}function P($){z($.fromId),z($.toId);var Q=l.get($.fromId),se=l.get($.toId),fe=a.addSpring(Q,se,$.length);p($,fe),u[$.id]=fe}function U($){var Q=u[$.id];if(Q){var se=i.getNode($.fromId),fe=i.getNode($.toId);se&&z(se.id),fe&&z(fe.id),delete u[$.id],a.removeSpring(Q)}}function F($){var Q=[];if(!$.links)return Q;for(var se=Math.min($.links.length,2),fe=0;fe<se;++fe){var K=$.links[fe],le=K.fromId!==$.id?l.get(K.fromId):l.get(K.toId);le&&le.pos&&Q.push(le)}return Q}function z($){var Q=l.get($);if(Q.mass=o($),Number.isNaN(Q.mass))throw new Error("Node mass should be a number")}function V($){return $&&($.isPinned||$.data&&$.data.isPinned)}function Y($){var Q=l.get($);return Q||(I($),Q=l.get($)),Q}function ee($){var Q=i.getLinks($);return Q?1+Q.length/3:1}function q($){var Q=i.getLinks($);return Q?1+Q.size/3:1}}function t(){}return Hw.exports}var mCe=pCe();const gCe=rm(mCe);function SD(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var yCe=typeof global=="object"&&global&&global.Object===Object&&global,vCe=typeof self=="object"&&self&&self.Object===Object&&self,G$=yCe||vCe||Function("return this")(),m3=function(){return G$.Date.now()},_Ce=/\s/;function bCe(n){for(var e=n.length;e--&&_Ce.test(n.charAt(e)););return e}var xCe=/^\s+/;function SCe(n){return n&&n.slice(0,bCe(n)+1).replace(xCe,"")}var CA=G$.Symbol,q$=Object.prototype,ECe=q$.hasOwnProperty,TCe=q$.toString,k1=CA?CA.toStringTag:void 0;function wCe(n){var e=ECe.call(n,k1),t=n[k1];try{n[k1]=void 0;var i=!0}catch{}var r=TCe.call(n);return i&&(e?n[k1]=t:delete n[k1]),r}var CCe=Object.prototype,ACe=CCe.toString;function MCe(n){return ACe.call(n)}var RCe="[object Null]",OCe="[object Undefined]",fF=CA?CA.toStringTag:void 0;function ICe(n){return n==null?n===void 0?OCe:RCe:fF&&fF in Object(n)?wCe(n):MCe(n)}function PCe(n){return n!=null&&typeof n=="object"}var DCe="[object Symbol]";function NCe(n){return typeof n=="symbol"||PCe(n)&&ICe(n)==DCe}var pF=NaN,LCe=/^[-+]0x[0-9a-f]+$/i,UCe=/^0b[01]+$/i,kCe=/^0o[0-7]+$/i,zCe=parseInt;function mF(n){if(typeof n=="number")return n;if(NCe(n))return pF;if(SD(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=SD(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=SCe(n);var t=UCe.test(n);return t||kCe.test(n)?zCe(n.slice(2),t?2:8):LCe.test(n)?pF:+n}var BCe="Expected a function",FCe=Math.max,VCe=Math.min;function HCe(n,e,t){var i,r,s,a,o,l,u=0,d=!1,p=!1,y=!0;if(typeof n!="function")throw new TypeError(BCe);e=mF(e)||0,SD(t)&&(d=!!t.leading,p="maxWait"in t,s=p?FCe(mF(t.maxWait)||0,e):s,y="trailing"in t?!!t.trailing:y);function v(N){var I=i,L=r;return i=r=void 0,u=N,a=n.apply(L,I),a}function _(N){return u=N,o=setTimeout(b,e),d?v(N):a}function S(N){var I=N-l,L=N-u,P=e-I;return p?VCe(P,s-L):P}function E(N){var I=N-l,L=N-u;return l===void 0||I>=e||I<0||p&&L>=s}function b(){var N=m3();if(E(N))return w(N);o=setTimeout(b,S(N))}function w(N){return o=void 0,y&&i?v(N):(i=r=void 0,a)}function A(){o!==void 0&&clearTimeout(o),u=0,i=l=r=o=void 0}function C(){return o===void 0?a:w(m3())}function D(){var N=m3(),I=E(N);if(i=arguments,r=this,l=N,I){if(o===void 0)return _(l);if(p)return clearTimeout(o),o=setTimeout(b,e),v(l)}return o===void 0&&(o=setTimeout(b,e)),a}return D.cancel=A,D.flush=C,D}function gF(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=Array(e);t<e;t++)i[t]=n[t];return i}function jCe(n){if(Array.isArray(n))return n}function GCe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function qCe(n,e,t){return Object.defineProperty(n,"prototype",{writable:!1}),n}function WCe(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,r,s,a,o=[],l=!0,u=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(l=(i=s.call(t)).done)&&(o.push(i.value),o.length!==e);l=!0);}catch(d){u=!0,r=d}finally{try{if(!l&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw r}}return o}}function $Ce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XCe(n,e){return jCe(n)||WCe(n,e)||YCe(n,e)||$Ce()}function YCe(n,e){if(n){if(typeof n=="string")return gF(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?gF(n,e):void 0}}var KCe=qCe(function n(e,t){var i=t.default,r=i===void 0?null:i,s=t.triggerUpdate,a=s===void 0?!0:s,o=t.onChange,l=o===void 0?function(u,d){}:o;GCe(this,n),this.name=e,this.defaultVal=r,this.triggerUpdate=a,this.onChange=l});function ZCe(n){var e=n.stateInit,t=e===void 0?function(){return{}}:e,i=n.props,r=i===void 0?{}:i,s=n.methods,a=s===void 0?{}:s,o=n.aliases,l=o===void 0?{}:o,u=n.init,d=u===void 0?function(){}:u,p=n.update,y=p===void 0?function(){}:p,v=Object.keys(r).map(function(_){return new KCe(_,r[_])});return function _(){for(var S=arguments.length,E=new Array(S),b=0;b<S;b++)E[b]=arguments[b];var w=!!(this instanceof _&&this.constructor),A=w?E.shift():void 0,C=E[0],D=C===void 0?{}:C,N=Object.assign({},t instanceof Function?t(D):t,{initialised:!1}),I={};function L(F){return P(F,D),U(),L}var P=function(z,V){d.call(L,z,N,V),N.initialised=!0},U=HCe(function(){N.initialised&&(y.call(L,N,I),I={})},1);return v.forEach(function(F){L[F.name]=z(F);function z(V){var Y=V.name,ee=V.triggerUpdate,q=ee===void 0?!1:ee,$=V.onChange,Q=$===void 0?function(K,le){}:$,se=V.defaultVal,fe=se===void 0?null:se;return function(K){var le=N[Y];if(!arguments.length)return le;var pe=K===void 0?fe:K;return N[Y]=pe,Q.call(L,pe,N,le),!I.hasOwnProperty(Y)&&(I[Y]=le),q&&U(),L}}}),Object.keys(a).forEach(function(F){L[F]=function(){for(var z,V=arguments.length,Y=new Array(V),ee=0;ee<V;ee++)Y[ee]=arguments[ee];return(z=a[F]).call.apply(z,[L,N].concat(Y))}}),Object.entries(l).forEach(function(F){var z=XCe(F,2),V=z[0],Y=z[1];return L[V]=L[Y]}),L.resetProps=function(){return v.forEach(function(F){L[F.name](F.defaultVal)}),L},L.resetProps(),N._rerender=U,w&&A&&L(A),L}}var gi=(function(n){return typeof n=="function"?n:typeof n=="string"?function(e){return e[n]}:function(e){return n}});class yF extends Map{constructor(e,t=eAe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),e!=null)for(const[i,r]of e)this.set(i,r)}get(e){return super.get(vF(this,e))}has(e){return super.has(vF(this,e))}set(e,t){return super.set(QCe(this,e),t)}delete(e){return super.delete(JCe(this,e))}}function vF({_intern:n,_key:e},t){const i=e(t);return n.has(i)?n.get(i):t}function QCe({_intern:n,_key:e},t){const i=e(t);return n.has(i)?n.get(i):(n.set(i,t),t)}function JCe({_intern:n,_key:e},t){const i=e(t);return n.has(i)&&(t=n.get(i),n.delete(i)),t}function eAe(n){return n!==null&&typeof n=="object"?n.valueOf():n}function tAe(n,e){let t;if(e===void 0)for(const i of n)i!=null&&(t<i||t===void 0&&i>=i)&&(t=i);else{let i=-1;for(let r of n)(r=e(r,++i,n))!=null&&(t<r||t===void 0&&r>=r)&&(t=r)}return t}function nAe(n,e){let t;if(e===void 0)for(const i of n)i!=null&&(t>i||t===void 0&&i>=i)&&(t=i);else{let i=-1;for(let r of n)(r=e(r,++i,n))!=null&&(t>r||t===void 0&&r>=r)&&(t=r)}return t}function ED(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=Array(e);t<e;t++)i[t]=n[t];return i}function iAe(n){if(Array.isArray(n))return n}function rAe(n){if(Array.isArray(n))return ED(n)}function W$(n,e,t){if(typeof n=="function"?n===e:n.has(e))return arguments.length<3?e:t;throw new TypeError("Private element is not present on this object")}function sAe(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function aAe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Xa(n,e){return n.get(W$(n,e))}function a0(n,e,t){sAe(n,e),e.set(n,t)}function $w(n,e,t){return n.set(W$(n,e),t),t}function oAe(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,gAe(i.key),i)}}function lAe(n,e,t){return e&&oAe(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function cAe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function uAe(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,r,s,a,o=[],l=!0,u=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(l=(i=s.call(t)).done)&&(o.push(i.value),o.length!==e);l=!0);}catch(d){u=!0,r=d}finally{try{if(!l&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw r}}return o}}function hAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fAe(n,e){return iAe(n)||uAe(n,e)||$$(n,e)||hAe()}function pAe(n){return rAe(n)||cAe(n)||$$(n)||dAe()}function mAe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function gAe(n){var e=mAe(n,"string");return typeof e=="symbol"?e:e+""}function $$(n,e){if(n){if(typeof n=="string")return ED(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?ED(n,e):void 0}}var o0=new WeakMap,z1=new WeakMap,l0=new WeakMap,g3=new WeakMap,y3=new WeakMap,v3=new WeakMap,yAe=(function(){function n(){aAe(this,n),a0(this,o0,new Map),a0(this,z1,new Map),a0(this,l0,function(e){return e}),a0(this,g3,function(){return{}}),a0(this,y3,function(){}),a0(this,v3,function(){})}return lAe(n,[{key:"getObj",value:function(t){return Xa(o0,this).get(Xa(l0,this).call(this,t))}},{key:"getData",value:function(t){return Xa(z1,this).get(t)}},{key:"entries",value:function(){return pAe(Xa(z1,this).entries()).map(function(t){var i=fAe(t,2),r=i[0],s=i[1];return[s,r]})}},{key:"id",value:function(t){return $w(l0,this,gi(t)),this}},{key:"onCreateObj",value:function(t){return $w(g3,this,t),this}},{key:"onUpdateObj",value:function(t){return $w(y3,this,t),this}},{key:"onRemoveObj",value:function(t){return $w(v3,this,t),this}},{key:"digest",value:function(t){var i=this;t.filter(function(s){return!Xa(o0,i).has(Xa(l0,i).call(i,s))}).forEach(function(s){var a=Xa(g3,i).call(i,s);Xa(o0,i).set(Xa(l0,i).call(i,s),a),Xa(z1,i).set(a,s)});var r=new Map(t.map(function(s){return[Xa(l0,i).call(i,s),s]}));return Xa(o0,this).forEach(function(s,a){r.has(a)?Xa(y3,i).call(i,s,r.get(a)):(Xa(v3,i).call(i,s,a),Xa(o0,i).delete(a),Xa(z1,i).delete(s))}),this}},{key:"clear",value:function(){return this.digest([]),this}}])})();function vAe(n,e){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(e).domain(n);break}return this}const _F=Symbol("implicit");function X$(){var n=new yF,e=[],t=[],i=_F;function r(s){let a=n.get(s);if(a===void 0){if(i!==_F)return i;n.set(s,a=e.push(s)-1)}return t[a%t.length]}return r.domain=function(s){if(!arguments.length)return e.slice();e=[],n=new yF;for(const a of s)n.has(a)||n.set(a,e.push(a)-1);return r},r.range=function(s){return arguments.length?(t=Array.from(s),r):t.slice()},r.unknown=function(s){return arguments.length?(i=s,r):i},r.copy=function(){return X$(e,t).unknown(i)},vAe.apply(r,arguments),r}function _Ae(n){for(var e=n.length/6|0,t=new Array(e),i=0;i<e;)t[i]="#"+n.slice(i*6,++i*6);return t}const bAe=_Ae("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928");function AA(n){"@babel/helpers - typeof";return AA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AA(n)}var xAe=/^\s+/,SAe=/\s+$/;function Kt(n,e){if(n=n||"",e=e||{},n instanceof Kt)return n;if(!(this instanceof Kt))return new Kt(n,e);var t=EAe(n);this._originalInput=n,this._r=t.r,this._g=t.g,this._b=t.b,this._a=t.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||t.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=t.ok}Kt.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),t,i,r,s,a,o;return t=e.r/255,i=e.g/255,r=e.b/255,t<=.03928?s=t/12.92:s=Math.pow((t+.055)/1.055,2.4),i<=.03928?a=i/12.92:a=Math.pow((i+.055)/1.055,2.4),r<=.03928?o=r/12.92:o=Math.pow((r+.055)/1.055,2.4),.2126*s+.7152*a+.0722*o},setAlpha:function(e){return this._a=Y$(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=xF(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=xF(this._r,this._g,this._b),t=Math.round(e.h*360),i=Math.round(e.s*100),r=Math.round(e.v*100);return this._a==1?"hsv("+t+", "+i+"%, "+r+"%)":"hsva("+t+", "+i+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=bF(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=bF(this._r,this._g,this._b),t=Math.round(e.h*360),i=Math.round(e.s*100),r=Math.round(e.l*100);return this._a==1?"hsl("+t+", "+i+"%, "+r+"%)":"hsla("+t+", "+i+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return SF(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return AAe(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Er(this._r,255)*100)+"%",g:Math.round(Er(this._g,255)*100)+"%",b:Math.round(Er(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Er(this._r,255)*100)+"%, "+Math.round(Er(this._g,255)*100)+"%, "+Math.round(Er(this._b,255)*100)+"%)":"rgba("+Math.round(Er(this._r,255)*100)+"%, "+Math.round(Er(this._g,255)*100)+"%, "+Math.round(Er(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:BAe[SF(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var t="#"+EF(this._r,this._g,this._b,this._a),i=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var s=Kt(e);i="#"+EF(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+i+")"},toString:function(e){var t=!!e;e=e||this._format;var i=!1,r=this._a<1&&this._a>=0,s=!t&&r&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return s?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(i=this.toRgbString()),e==="prgb"&&(i=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(i=this.toHexString()),e==="hex3"&&(i=this.toHexString(!0)),e==="hex4"&&(i=this.toHex8String(!0)),e==="hex8"&&(i=this.toHex8String()),e==="name"&&(i=this.toName()),e==="hsl"&&(i=this.toHslString()),e==="hsv"&&(i=this.toHsvString()),i||this.toHexString())},clone:function(){return Kt(this.toString())},_applyModification:function(e,t){var i=e.apply(null,[this].concat([].slice.call(t)));return this._r=i._r,this._g=i._g,this._b=i._b,this.setAlpha(i._a),this},lighten:function(){return this._applyModification(IAe,arguments)},brighten:function(){return this._applyModification(PAe,arguments)},darken:function(){return this._applyModification(DAe,arguments)},desaturate:function(){return this._applyModification(MAe,arguments)},saturate:function(){return this._applyModification(RAe,arguments)},greyscale:function(){return this._applyModification(OAe,arguments)},spin:function(){return this._applyModification(NAe,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(kAe,arguments)},complement:function(){return this._applyCombination(LAe,arguments)},monochromatic:function(){return this._applyCombination(zAe,arguments)},splitcomplement:function(){return this._applyCombination(UAe,arguments)},triad:function(){return this._applyCombination(TF,[3])},tetrad:function(){return this._applyCombination(TF,[4])}};Kt.fromRatio=function(n,e){if(AA(n)=="object"){var t={};for(var i in n)n.hasOwnProperty(i)&&(i==="a"?t[i]=n[i]:t[i]=rx(n[i]));n=t}return Kt(n,e)};function EAe(n){var e={r:0,g:0,b:0},t=1,i=null,r=null,s=null,a=!1,o=!1;return typeof n=="string"&&(n=jAe(n)),AA(n)=="object"&&(Rd(n.r)&&Rd(n.g)&&Rd(n.b)?(e=TAe(n.r,n.g,n.b),a=!0,o=String(n.r).substr(-1)==="%"?"prgb":"rgb"):Rd(n.h)&&Rd(n.s)&&Rd(n.v)?(i=rx(n.s),r=rx(n.v),e=CAe(n.h,i,r),a=!0,o="hsv"):Rd(n.h)&&Rd(n.s)&&Rd(n.l)&&(i=rx(n.s),s=rx(n.l),e=wAe(n.h,i,s),a=!0,o="hsl"),n.hasOwnProperty("a")&&(t=n.a)),t=Y$(t),{ok:a,format:n.format||o,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:t}}function TAe(n,e,t){return{r:Er(n,255)*255,g:Er(e,255)*255,b:Er(t,255)*255}}function bF(n,e,t){n=Er(n,255),e=Er(e,255),t=Er(t,255);var i=Math.max(n,e,t),r=Math.min(n,e,t),s,a,o=(i+r)/2;if(i==r)s=a=0;else{var l=i-r;switch(a=o>.5?l/(2-i-r):l/(i+r),i){case n:s=(e-t)/l+(e<t?6:0);break;case e:s=(t-n)/l+2;break;case t:s=(n-e)/l+4;break}s/=6}return{h:s,s:a,l:o}}function wAe(n,e,t){var i,r,s;n=Er(n,360),e=Er(e,100),t=Er(t,100);function a(u,d,p){return p<0&&(p+=1),p>1&&(p-=1),p<1/6?u+(d-u)*6*p:p<1/2?d:p<2/3?u+(d-u)*(2/3-p)*6:u}if(e===0)i=r=s=t;else{var o=t<.5?t*(1+e):t+e-t*e,l=2*t-o;i=a(l,o,n+1/3),r=a(l,o,n),s=a(l,o,n-1/3)}return{r:i*255,g:r*255,b:s*255}}function xF(n,e,t){n=Er(n,255),e=Er(e,255),t=Er(t,255);var i=Math.max(n,e,t),r=Math.min(n,e,t),s,a,o=i,l=i-r;if(a=i===0?0:l/i,i==r)s=0;else{switch(i){case n:s=(e-t)/l+(e<t?6:0);break;case e:s=(t-n)/l+2;break;case t:s=(n-e)/l+4;break}s/=6}return{h:s,s:a,v:o}}function CAe(n,e,t){n=Er(n,360)*6,e=Er(e,100),t=Er(t,100);var i=Math.floor(n),r=n-i,s=t*(1-e),a=t*(1-r*e),o=t*(1-(1-r)*e),l=i%6,u=[t,a,s,s,o,t][l],d=[o,t,t,a,s,s][l],p=[s,s,o,t,t,a][l];return{r:u*255,g:d*255,b:p*255}}function SF(n,e,t,i){var r=[bu(Math.round(n).toString(16)),bu(Math.round(e).toString(16)),bu(Math.round(t).toString(16))];return i&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function AAe(n,e,t,i,r){var s=[bu(Math.round(n).toString(16)),bu(Math.round(e).toString(16)),bu(Math.round(t).toString(16)),bu(K$(i))];return r&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function EF(n,e,t,i){var r=[bu(K$(i)),bu(Math.round(n).toString(16)),bu(Math.round(e).toString(16)),bu(Math.round(t).toString(16))];return r.join("")}Kt.equals=function(n,e){return!n||!e?!1:Kt(n).toRgbString()==Kt(e).toRgbString()};Kt.random=function(){return Kt.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function MAe(n,e){e=e===0?0:e||10;var t=Kt(n).toHsl();return t.s-=e/100,t.s=pR(t.s),Kt(t)}function RAe(n,e){e=e===0?0:e||10;var t=Kt(n).toHsl();return t.s+=e/100,t.s=pR(t.s),Kt(t)}function OAe(n){return Kt(n).desaturate(100)}function IAe(n,e){e=e===0?0:e||10;var t=Kt(n).toHsl();return t.l+=e/100,t.l=pR(t.l),Kt(t)}function PAe(n,e){e=e===0?0:e||10;var t=Kt(n).toRgb();return t.r=Math.max(0,Math.min(255,t.r-Math.round(255*-(e/100)))),t.g=Math.max(0,Math.min(255,t.g-Math.round(255*-(e/100)))),t.b=Math.max(0,Math.min(255,t.b-Math.round(255*-(e/100)))),Kt(t)}function DAe(n,e){e=e===0?0:e||10;var t=Kt(n).toHsl();return t.l-=e/100,t.l=pR(t.l),Kt(t)}function NAe(n,e){var t=Kt(n).toHsl(),i=(t.h+e)%360;return t.h=i<0?360+i:i,Kt(t)}function LAe(n){var e=Kt(n).toHsl();return e.h=(e.h+180)%360,Kt(e)}function TF(n,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var t=Kt(n).toHsl(),i=[Kt(n)],r=360/e,s=1;s<e;s++)i.push(Kt({h:(t.h+s*r)%360,s:t.s,l:t.l}));return i}function UAe(n){var e=Kt(n).toHsl(),t=e.h;return[Kt(n),Kt({h:(t+72)%360,s:e.s,l:e.l}),Kt({h:(t+216)%360,s:e.s,l:e.l})]}function kAe(n,e,t){e=e||6,t=t||30;var i=Kt(n).toHsl(),r=360/t,s=[Kt(n)];for(i.h=(i.h-(r*e>>1)+720)%360;--e;)i.h=(i.h+r)%360,s.push(Kt(i));return s}function zAe(n,e){e=e||6;for(var t=Kt(n).toHsv(),i=t.h,r=t.s,s=t.v,a=[],o=1/e;e--;)a.push(Kt({h:i,s:r,v:s})),s=(s+o)%1;return a}Kt.mix=function(n,e,t){t=t===0?0:t||50;var i=Kt(n).toRgb(),r=Kt(e).toRgb(),s=t/100,a={r:(r.r-i.r)*s+i.r,g:(r.g-i.g)*s+i.g,b:(r.b-i.b)*s+i.b,a:(r.a-i.a)*s+i.a};return Kt(a)};Kt.readability=function(n,e){var t=Kt(n),i=Kt(e);return(Math.max(t.getLuminance(),i.getLuminance())+.05)/(Math.min(t.getLuminance(),i.getLuminance())+.05)};Kt.isReadable=function(n,e,t){var i=Kt.readability(n,e),r,s;switch(s=!1,r=GAe(t),r.level+r.size){case"AAsmall":case"AAAlarge":s=i>=4.5;break;case"AAlarge":s=i>=3;break;case"AAAsmall":s=i>=7;break}return s};Kt.mostReadable=function(n,e,t){var i=null,r=0,s,a,o,l;t=t||{},a=t.includeFallbackColors,o=t.level,l=t.size;for(var u=0;u<e.length;u++)s=Kt.readability(n,e[u]),s>r&&(r=s,i=Kt(e[u]));return Kt.isReadable(n,i,{level:o,size:l})||!a?i:(t.includeFallbackColors=!1,Kt.mostReadable(n,["#fff","#000"],t))};var TD=Kt.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},BAe=Kt.hexNames=FAe(TD);function FAe(n){var e={};for(var t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function Y$(n){return n=parseFloat(n),(isNaN(n)||n<0||n>1)&&(n=1),n}function Er(n,e){VAe(n)&&(n="100%");var t=HAe(n);return n=Math.min(e,Math.max(0,parseFloat(n))),t&&(n=parseInt(n*e,10)/100),Math.abs(n-e)<1e-6?1:n%e/parseFloat(e)}function pR(n){return Math.min(1,Math.max(0,n))}function Ol(n){return parseInt(n,16)}function VAe(n){return typeof n=="string"&&n.indexOf(".")!=-1&&parseFloat(n)===1}function HAe(n){return typeof n=="string"&&n.indexOf("%")!=-1}function bu(n){return n.length==1?"0"+n:""+n}function rx(n){return n<=1&&(n=n*100+"%"),n}function K$(n){return Math.round(parseFloat(n)*255).toString(16)}function wF(n){return Ol(n)/255}var pu=(function(){var n="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",t="(?:"+e+")|(?:"+n+")",i="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?",r="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?";return{CSS_UNIT:new RegExp(t),rgb:new RegExp("rgb"+i),rgba:new RegExp("rgba"+r),hsl:new RegExp("hsl"+i),hsla:new RegExp("hsla"+r),hsv:new RegExp("hsv"+i),hsva:new RegExp("hsva"+r),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}})();function Rd(n){return!!pu.CSS_UNIT.exec(n)}function jAe(n){n=n.replace(xAe,"").replace(SAe,"").toLowerCase();var e=!1;if(TD[n])n=TD[n],e=!0;else if(n=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var t;return(t=pu.rgb.exec(n))?{r:t[1],g:t[2],b:t[3]}:(t=pu.rgba.exec(n))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=pu.hsl.exec(n))?{h:t[1],s:t[2],l:t[3]}:(t=pu.hsla.exec(n))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=pu.hsv.exec(n))?{h:t[1],s:t[2],v:t[3]}:(t=pu.hsva.exec(n))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=pu.hex8.exec(n))?{r:Ol(t[1]),g:Ol(t[2]),b:Ol(t[3]),a:wF(t[4]),format:e?"name":"hex8"}:(t=pu.hex6.exec(n))?{r:Ol(t[1]),g:Ol(t[2]),b:Ol(t[3]),format:e?"name":"hex"}:(t=pu.hex4.exec(n))?{r:Ol(t[1]+""+t[1]),g:Ol(t[2]+""+t[2]),b:Ol(t[3]+""+t[3]),a:wF(t[4]+""+t[4]),format:e?"name":"hex8"}:(t=pu.hex3.exec(n))?{r:Ol(t[1]+""+t[1]),g:Ol(t[2]+""+t[2]),b:Ol(t[3]+""+t[3]),format:e?"name":"hex"}:!1}function GAe(n){var e,t;return n=n||{level:"AA",size:"small"},e=(n.level||"AA").toUpperCase(),t=(n.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),t!=="small"&&t!=="large"&&(t="small"),{level:e,size:t}}function wD(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=Array(e);t<e;t++)i[t]=n[t];return i}function qAe(n){if(Array.isArray(n))return n}function WAe(n){if(Array.isArray(n))return wD(n)}function Z$(n,e,t){if(typeof n=="function"?n===e:n.has(e))return arguments.length<3?e:t;throw new TypeError("Private element is not present on this object")}function $Ae(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Q$(n,e,t){return e=S_(e),tMe(n,U4()?Reflect.construct(e,t||[],S_(n).constructor):e.apply(n,t))}function XAe(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function J$(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function _3(n,e){return n.get(Z$(n,e))}function CF(n,e,t){XAe(n,e),e.set(n,t)}function AF(n,e,t){return n.set(Z$(n,e),t),t}function eX(n,e,t){if(U4())return Reflect.construct.apply(null,arguments);var i=[null];i.push.apply(i,e);var r=new(n.bind.apply(n,i));return r}function YAe(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,iX(i.key),i)}}function tX(n,e,t){return e&&YAe(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function mR(n,e,t){return(e=iX(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function CD(){return CD=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(n,e,t){var i=nMe(n,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(arguments.length<3?n:t):r.value}},CD.apply(null,arguments)}function S_(n){return S_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},S_(n)}function nX(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&AD(n,e)}function U4(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(U4=function(){return!!n})()}function KAe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function ZAe(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,r,s,a,o=[],l=!0,u=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(l=(i=s.call(t)).done)&&(o.push(i.value),o.length!==e);l=!0);}catch(d){u=!0,r=d}finally{try{if(!l&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw r}}return o}}function QAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MF(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function eMe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?MF(Object(t),!0).forEach(function(i){mR(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):MF(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function tMe(n,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Ae(n)}function AD(n,e){return AD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},AD(n,e)}function Nx(n,e){return qAe(n)||ZAe(n,e)||rX(n,e)||QAe()}function nMe(n,e){for(;!{}.hasOwnProperty.call(n,e)&&(n=S_(n))!==null;);return n}function b3(n,e,t,i){var r=CD(S_(n.prototype),e,t);return typeof r=="function"?function(s){return r.apply(t,s)}:r}function gu(n){return WAe(n)||KAe(n)||rX(n)||JAe()}function iMe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function iX(n){var e=iMe(n,"string");return typeof e=="symbol"?e:e+""}function MD(n){"@babel/helpers - typeof";return MD=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},MD(n)}function rX(n,e){if(n){if(typeof n=="string")return wD(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?wD(n,e):void 0}}var sX=function(e){e instanceof Array?e.forEach(sX):(e.map&&e.map.dispose(),e.dispose())},aX=function(e){e.geometry&&e.geometry.dispose(),e.material&&sX(e.material),e.texture&&e.texture.dispose(),e.children&&e.children.forEach(aX)},RD=function(e){for(;e.children.length;){var t=e.children[0];e.remove(t),aX(t)}},x3=new WeakMap,Xw=new WeakMap,B1=(function(n){function e(t){var i,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=r.dataBindAttr,a=s===void 0?"__data":s,o=r.objBindAttr,l=o===void 0?"__threeObj":o;return J$(this,e),i=Q$(this,e),mR(i,"scene",void 0),CF(i,x3,void 0),CF(i,Xw,void 0),i.scene=t,AF(x3,i,a),AF(Xw,i,l),i.onRemoveObj(function(){}),i}return nX(e,n),tX(e,[{key:"onCreateObj",value:function(i){var r=this;return b3(e,"onCreateObj",this)([function(s){var a=i(s);return s[_3(Xw,r)]=a,a[_3(x3,r)]=s,r.scene.add(a),a}]),this}},{key:"onRemoveObj",value:function(i){var r=this;return b3(e,"onRemoveObj",this)([function(s,a){var o=b3(e,"getData",r)([s]);i(s,a),r.scene.remove(s),RD(s),delete o[_3(Xw,r)]}]),this}}])})(yAe),F1=function(e){return isNaN(e)?parseInt(Kt(e).toHex(),16):e},S3=function(e){return isNaN(e)?Kt(e).getAlpha():1},rMe=X$(bAe);function RF(n,e,t){!e||typeof t!="string"||n.filter(function(i){return!i[t]}).forEach(function(i){i[t]=rMe(e(i))})}function sMe(n,e){var t=n.nodes,i=n.links,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=r.nodeFilter,a=s===void 0?function(){return!0}:s,o=r.onLoopError,l=o===void 0?function(v){throw"Invalid DAG structure! Found cycle in node path: ".concat(v.join(" -> "),".")}:o,u={};t.forEach(function(v){return u[e(v)]={data:v,out:[],depth:-1,skip:!a(v)}}),i.forEach(function(v){var _=v.source,S=v.target,E=C(_),b=C(S);if(!u.hasOwnProperty(E))throw"Missing source node with id: ".concat(E);if(!u.hasOwnProperty(b))throw"Missing target node with id: ".concat(b);var w=u[E],A=u[b];w.out.push(A);function C(D){return MD(D)==="object"?e(D):D}});var d=[];y(Object.values(u));var p=Object.assign.apply(Object,[{}].concat(gu(Object.entries(u).filter(function(v){var _=Nx(v,2),S=_[1];return!S.skip}).map(function(v){var _=Nx(v,2),S=_[0],E=_[1];return mR({},S,E.depth)}))));return p;function y(v){for(var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,E=function(){var C=v[b];if(_.indexOf(C)!==-1){var D=[].concat(gu(_.slice(_.indexOf(C))),[C]).map(function(N){return e(N.data)});return d.some(function(N){return N.length===D.length&&N.every(function(I,L){return I===D[L]})})||(d.push(D),l(D)),1}S>C.depth&&(C.depth=S,y(C.out,[].concat(gu(_),[C]),S+(C.skip?0:1)))},b=0,w=v.length;b<w;b++)E()}}var fn=window.THREE?window.THREE:{Group:Vd,Mesh:is,MeshLambertMaterial:PL,Color:kt,BufferGeometry:Nn,BufferAttribute:Hi,Matrix4:an,Vector3:he,SphereGeometry:Ey,CylinderGeometry:k_,TubeGeometry:KS,ConeGeometry:z_,Line:lf,LineBasicMaterial:io,QuadraticBezierCurve3:OM,CubicBezierCurve3:ML,Box3:ia},OF={graph:iCe,forcelayout:gCe},aMe=2,E3=new fn.BufferGeometry().setAttribute?"setAttribute":"addAttribute",Yw=new fn.BufferGeometry().applyMatrix4?"applyMatrix4":"applyMatrix",oMe=ZCe({props:{jsonUrl:{onChange:function(e,t){var i=this;e&&!t.fetchingJson&&(t.fetchingJson=!0,t.onLoading(),fetch(e).then(function(r){return r.json()}).then(function(r){t.fetchingJson=!1,t.onFinishLoading(r),i.graphData(r)}))},triggerUpdate:!1},graphData:{default:{nodes:[],links:[]},onChange:function(e,t){t.engineRunning=!1}},numDimensions:{default:3,onChange:function(e,t){var i=t.d3ForceLayout.force("charge");i&&i.strength(e>2?-60:-30),e<3&&r(t.graphData.nodes,"z"),e<2&&r(t.graphData.nodes,"y");function r(s,a){s.forEach(function(o){delete o[a],delete o["v".concat(a)]})}}},dagMode:{onChange:function(e,t){!e&&t.forceEngine==="d3"&&(t.graphData.nodes||[]).forEach(function(i){return i.fx=i.fy=i.fz=void 0})}},dagLevelDistance:{},dagNodeFilter:{default:function(e){return!0}},onDagError:{triggerUpdate:!1},nodeRelSize:{default:4},nodeId:{default:"id"},nodeVal:{default:"val"},nodeResolution:{default:8},nodeColor:{default:"color"},nodeAutoColorBy:{},nodeOpacity:{default:.75},nodeVisibility:{default:!0},nodeThreeObject:{},nodeThreeObjectExtend:{default:!1},nodePositionUpdate:{triggerUpdate:!1},linkSource:{default:"source"},linkTarget:{default:"target"},linkVisibility:{default:!0},linkColor:{default:"color"},linkAutoColorBy:{},linkOpacity:{default:.2},linkWidth:{},linkResolution:{default:6},linkCurvature:{default:0,triggerUpdate:!1},linkCurveRotation:{default:0,triggerUpdate:!1},linkMaterial:{},linkThreeObject:{},linkThreeObjectExtend:{default:!1},linkPositionUpdate:{triggerUpdate:!1},linkDirectionalArrowLength:{default:0},linkDirectionalArrowColor:{},linkDirectionalArrowRelPos:{default:.5,triggerUpdate:!1},linkDirectionalArrowResolution:{default:8},linkDirectionalParticles:{default:0},linkDirectionalParticleSpeed:{default:.01,triggerUpdate:!1},linkDirectionalParticleOffset:{default:0,triggerUpdate:!1},linkDirectionalParticleWidth:{default:.5},linkDirectionalParticleColor:{},linkDirectionalParticleResolution:{default:4},linkDirectionalParticleThreeObject:{},forceEngine:{default:"d3"},d3AlphaMin:{default:0},d3AlphaDecay:{default:.0228,triggerUpdate:!1,onChange:function(e,t){t.d3ForceLayout.alphaDecay(e)}},d3AlphaTarget:{default:0,triggerUpdate:!1,onChange:function(e,t){t.d3ForceLayout.alphaTarget(e)}},d3VelocityDecay:{default:.4,triggerUpdate:!1,onChange:function(e,t){t.d3ForceLayout.velocityDecay(e)}},ngraphPhysics:{default:{timeStep:20,gravity:-1.2,theta:.8,springLength:30,springCoefficient:8e-4,dragCoefficient:.02}},warmupTicks:{default:0,triggerUpdate:!1},cooldownTicks:{default:1/0,triggerUpdate:!1},cooldownTime:{default:15e3,triggerUpdate:!1},onLoading:{default:function(){},triggerUpdate:!1},onFinishLoading:{default:function(){},triggerUpdate:!1},onUpdate:{default:function(){},triggerUpdate:!1},onFinishUpdate:{default:function(){},triggerUpdate:!1},onEngineTick:{default:function(){},triggerUpdate:!1},onEngineStop:{default:function(){},triggerUpdate:!1}},methods:{refresh:function(e){return e._flushObjects=!0,e._rerender(),this},d3Force:function(e,t,i){return i===void 0?e.d3ForceLayout.force(t):(e.d3ForceLayout.force(t,i),this)},d3ReheatSimulation:function(e){return e.d3ForceLayout.alpha(1),this.resetCountdown(),this},resetCountdown:function(e){return e.cntTicks=0,e.startTickTime=new Date,e.engineRunning=!0,this},tickFrame:function(e){var t=e.forceEngine!=="ngraph";return e.engineRunning&&i(),r(),s(),this;function i(){++e.cntTicks>e.cooldownTicks||new Date-e.startTickTime>e.cooldownTime||t&&e.d3AlphaMin>0&&e.d3ForceLayout.alpha()<e.d3AlphaMin?(e.engineRunning=!1,e.onEngineStop()):(e.layout[t?"tick":"step"](),e.onEngineTick());var a=gi(e.nodeThreeObjectExtend);e.nodeDataMapper.entries().forEach(function(y){var v=Nx(y,2),_=v[0],S=v[1];if(S){var E=t?_:e.layout.getNodePosition(_[e.nodeId]),b=a(_);(!e.nodePositionUpdate||!e.nodePositionUpdate(b?S.children[0]:S,{x:E.x,y:E.y,z:E.z},_)||b)&&(S.position.x=E.x,S.position.y=E.y||0,S.position.z=E.z||0)}});var o=gi(e.linkWidth),l=gi(e.linkCurvature),u=gi(e.linkCurveRotation),d=gi(e.linkThreeObjectExtend);e.linkDataMapper.entries().forEach(function(y){var v=Nx(y,2),_=v[0],S=v[1];if(S){var E=t?_:e.layout.getLinkPosition(e.layout.graph.getLink(_.source,_.target).id),b=E[t?"source":"from"],w=E[t?"target":"to"];if(!(!b||!w||!b.hasOwnProperty("x")||!w.hasOwnProperty("x"))){p(_);var A=d(_);if(!(e.linkPositionUpdate&&e.linkPositionUpdate(A?S.children[1]:S,{start:{x:b.x,y:b.y,z:b.z},end:{x:w.x,y:w.y,z:w.z}},_)&&!A)){var C=30,D=_.__curve,N=S.children.length?S.children[0]:S;if(N.type==="Line"){if(D){var L=D.getPoints(C);N.geometry.getAttribute("position").array.length!==L.length*3&&N.geometry[E3]("position",new fn.BufferAttribute(new Float32Array(L.length*3),3)),N.geometry.setFromPoints(L)}else{var I=N.geometry.getAttribute("position");(!I||!I.array||I.array.length!==6)&&N.geometry[E3]("position",I=new fn.BufferAttribute(new Float32Array(6),3)),I.array[0]=b.x,I.array[1]=b.y||0,I.array[2]=b.z||0,I.array[3]=w.x,I.array[4]=w.y||0,I.array[5]=w.z||0,I.needsUpdate=!0}N.geometry.computeBoundingSphere()}else if(N.type==="Mesh")if(D){N.geometry.type.match(/^Tube(Buffer)?Geometry$/)||(N.position.set(0,0,0),N.rotation.set(0,0,0),N.scale.set(1,1,1));var ee=Math.ceil(o(_)*10)/10,q=ee/2,$=new fn.TubeGeometry(D,C,q,e.linkResolution,!1);N.geometry.dispose(),N.geometry=$}else{if(!N.geometry.type.match(/^Cylinder(Buffer)?Geometry$/)){var P=Math.ceil(o(_)*10)/10,U=P/2,F=new fn.CylinderGeometry(U,U,1,e.linkResolution,1,!1);F[Yw](new fn.Matrix4().makeTranslation(0,1/2,0)),F[Yw](new fn.Matrix4().makeRotationX(Math.PI/2)),N.geometry.dispose(),N.geometry=F}var z=new fn.Vector3(b.x,b.y||0,b.z||0),V=new fn.Vector3(w.x,w.y||0,w.z||0),Y=z.distanceTo(V);N.position.x=z.x,N.position.y=z.y,N.position.z=z.z,N.scale.z=Y,N.parent.localToWorld(V),N.lookAt(V)}}}}});function p(y){var v=t?y:e.layout.getLinkPosition(e.layout.graph.getLink(y.source,y.target).id),_=v[t?"source":"from"],S=v[t?"target":"to"];if(!(!_||!S||!_.hasOwnProperty("x")||!S.hasOwnProperty("x"))){var E=l(y);if(!E)y.__curve=null;else{var b=new fn.Vector3(_.x,_.y||0,_.z||0),w=new fn.Vector3(S.x,S.y||0,S.z||0),A=b.distanceTo(w),C,D=u(y);if(A>0){var N=S.x-_.x,I=S.y-_.y||0,L=new fn.Vector3().subVectors(w,b),P=L.clone().multiplyScalar(E).cross(N!==0||I!==0?new fn.Vector3(0,0,1):new fn.Vector3(0,1,0)).applyAxisAngle(L.normalize(),D).add(new fn.Vector3().addVectors(b,w).divideScalar(2));C=new fn.QuadraticBezierCurve3(b,P,w)}else{var U=E*70,F=-D,z=F+Math.PI/2;C=new fn.CubicBezierCurve3(b,new fn.Vector3(U*Math.cos(z),U*Math.sin(z),0).add(b),new fn.Vector3(U*Math.cos(F),U*Math.sin(F),0).add(b),w)}y.__curve=C}}}}function r(){var a=gi(e.linkDirectionalArrowRelPos),o=gi(e.linkDirectionalArrowLength),l=gi(e.nodeVal);e.arrowDataMapper.entries().forEach(function(u){var d=Nx(u,2),p=d[0],y=d[1];if(y){var v=t?p:e.layout.getLinkPosition(e.layout.graph.getLink(p.source,p.target).id),_=v[t?"source":"from"],S=v[t?"target":"to"];if(!(!_||!S||!_.hasOwnProperty("x")||!S.hasOwnProperty("x"))){var E=Math.cbrt(Math.max(0,l(_)||1))*e.nodeRelSize,b=Math.cbrt(Math.max(0,l(S)||1))*e.nodeRelSize,w=o(p),A=a(p),C=p.__curve?function(U){return p.__curve.getPoint(U)}:function(U){var F=function(V,Y,ee,q){return Y[V]+(ee[V]-Y[V])*q||0};return{x:F("x",_,S,U),y:F("y",_,S,U),z:F("z",_,S,U)}},D=p.__curve?p.__curve.getLength():Math.sqrt(["x","y","z"].map(function(U){return Math.pow((S[U]||0)-(_[U]||0),2)}).reduce(function(U,F){return U+F},0)),N=E+w+(D-E-b-w)*A,I=C(N/D),L=C((N-w)/D);["x","y","z"].forEach(function(U){return y.position[U]=L[U]});var P=eX(fn.Vector3,gu(["x","y","z"].map(function(U){return I[U]})));y.parent.localToWorld(P),y.lookAt(P)}}})}function s(){var a=gi(e.linkDirectionalParticleSpeed),o=gi(e.linkDirectionalParticleOffset);e.graphData.links.forEach(function(l){var u=e.particlesDataMapper.getObj(l),d=u&&u.children,p=l.__singleHopPhotonsObj&&l.__singleHopPhotonsObj.children;if(!((!p||!p.length)&&(!d||!d.length))){var y=t?l:e.layout.getLinkPosition(e.layout.graph.getLink(l.source,l.target).id),v=y[t?"source":"from"],_=y[t?"target":"to"];if(!(!v||!_||!v.hasOwnProperty("x")||!_.hasOwnProperty("x"))){var S=a(l),E=Math.abs(o(l)),b=l.__curve?function(A){return l.__curve.getPoint(A)}:function(A){var C=function(N,I,L,P){return I[N]+(L[N]-I[N])*P||0};return{x:C("x",v,_,A),y:C("y",v,_,A),z:C("z",v,_,A)}},w=[].concat(gu(d||[]),gu(p||[]));w.forEach(function(A,C){var D=A.parent.__linkThreeObjType==="singleHopPhotons";if(A.hasOwnProperty("__progressRatio")||(A.__progressRatio=D?0:(C+E)/d.length),A.__progressRatio+=S,A.__progressRatio>=1)if(!D)A.__progressRatio=A.__progressRatio%1;else{A.parent.remove(A),RD(A);return}var N=A.__progressRatio,I=b(N);A.geometry.type!=="SphereGeometry"&&A.lookAt(I.x,I.y,I.z),["x","y","z"].forEach(function(L){return A.position[L]=I[L]})})}}})}},emitParticle:function(e,t){if(t&&e.graphData.links.includes(t)){if(!t.__singleHopPhotonsObj){var i=new fn.Group;i.__linkThreeObjType="singleHopPhotons",t.__singleHopPhotonsObj=i,e.graphScene.add(i)}var r=gi(e.linkDirectionalParticleThreeObject)(t);if(r&&e.linkDirectionalParticleThreeObject===r&&(r=r.clone()),!r){var s=gi(e.linkDirectionalParticleWidth),a=Math.ceil(s(t)*10)/10/2,o=e.linkDirectionalParticleResolution,l=new fn.SphereGeometry(a,o,o),u=gi(e.linkColor),d=gi(e.linkDirectionalParticleColor),p=d(t)||u(t)||"#f0f0f0",y=new fn.Color(F1(p)),v=e.linkOpacity*3,_=new fn.MeshLambertMaterial({color:y,transparent:!0,opacity:v});r=new fn.Mesh(l,_)}t.__singleHopPhotonsObj.add(r)}return this},getGraphBbox:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return!0};if(!e.initialised)return null;var i=(function r(s){var a=[];if(s.geometry){s.geometry.computeBoundingBox();var o=new fn.Box3;o.copy(s.geometry.boundingBox).applyMatrix4(s.matrixWorld),a.push(o)}return a.concat.apply(a,gu((s.children||[]).filter(function(l){return!l.hasOwnProperty("__graphObjType")||l.__graphObjType==="node"&&t(l.__data)}).map(r)))})(e.graphScene);return i.length?Object.assign.apply(Object,gu(["x","y","z"].map(function(r){return mR({},r,[nAe(i,function(s){return s.min[r]}),tAe(i,function(s){return s.max[r]})])}))):null}},stateInit:function(){return{d3ForceLayout:Z2e().force("link",U2e()).force("charge",Q2e()).force("center",zwe()).force("dagRadial",null).stop(),engineRunning:!1}},init:function(e,t){t.graphScene=e,t.nodeDataMapper=new B1(e,{objBindAttr:"__threeObj"}),t.linkDataMapper=new B1(e,{objBindAttr:"__lineObj"}),t.arrowDataMapper=new B1(e,{objBindAttr:"__arrowObj"}),t.particlesDataMapper=new B1(e,{objBindAttr:"__photonsObj"})},update:function(e,t){var i=function(de){return de.some(function(ye){return t.hasOwnProperty(ye)})};if(e.engineRunning=!1,typeof e.onUpdate=="function"&&e.onUpdate(),e.nodeAutoColorBy!==null&&i(["nodeAutoColorBy","graphData","nodeColor"])&&RF(e.graphData.nodes,gi(e.nodeAutoColorBy),e.nodeColor),e.linkAutoColorBy!==null&&i(["linkAutoColorBy","graphData","linkColor"])&&RF(e.graphData.links,gi(e.linkAutoColorBy),e.linkColor),e._flushObjects||i(["graphData","nodeThreeObject","nodeThreeObjectExtend","nodeVal","nodeColor","nodeVisibility","nodeRelSize","nodeResolution","nodeOpacity"])){var r=gi(e.nodeThreeObject),s=gi(e.nodeThreeObjectExtend),a=gi(e.nodeVal),o=gi(e.nodeColor),l=gi(e.nodeVisibility),u={},d={};(e._flushObjects||i(["nodeThreeObject","nodeThreeObjectExtend"]))&&e.nodeDataMapper.clear(),e.nodeDataMapper.onCreateObj(function(ie){var de=r(ie),ye=s(ie);de&&e.nodeThreeObject===de&&(de=de.clone());var Ve;return de&&!ye?Ve=de:(Ve=new fn.Mesh,Ve.__graphDefaultObj=!0,de&&ye&&Ve.add(de)),Ve.__graphObjType="node",Ve}).onUpdateObj(function(ie,de){if(ie.__graphDefaultObj){var ye=a(de)||1,Ve=Math.cbrt(ye)*e.nodeRelSize,Xe=e.nodeResolution;(!ie.geometry.type.match(/^Sphere(Buffer)?Geometry$/)||ie.geometry.parameters.radius!==Ve||ie.geometry.parameters.widthSegments!==Xe)&&(u.hasOwnProperty(ye)||(u[ye]=new fn.SphereGeometry(Ve,Xe,Xe)),ie.geometry.dispose(),ie.geometry=u[ye]);var Ge=o(de),st=new fn.Color(F1(Ge||"#ffffaa")),lt=e.nodeOpacity*S3(Ge);(ie.material.type!=="MeshLambertMaterial"||!ie.material.color.equals(st)||ie.material.opacity!==lt)&&(d.hasOwnProperty(Ge)||(d[Ge]=new fn.MeshLambertMaterial({color:st,transparent:!0,opacity:lt})),ie.material.dispose(),ie.material=d[Ge])}}).digest(e.graphData.nodes.filter(l))}if(e._flushObjects||i(["graphData","linkThreeObject","linkThreeObjectExtend","linkMaterial","linkColor","linkWidth","linkVisibility","linkResolution","linkOpacity","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowResolution","linkDirectionalParticles","linkDirectionalParticleWidth","linkDirectionalParticleColor","linkDirectionalParticleResolution","linkDirectionalParticleThreeObject"])){var p=gi(e.linkThreeObject),y=gi(e.linkThreeObjectExtend),v=gi(e.linkMaterial),_=gi(e.linkVisibility),S=gi(e.linkColor),E=gi(e.linkWidth),b={},w={},A={},C=e.graphData.links.filter(_);if((e._flushObjects||i(["linkThreeObject","linkThreeObjectExtend","linkWidth"]))&&e.linkDataMapper.clear(),e.linkDataMapper.onRemoveObj(function(ie){var de=ie.__data&&ie.__data.__singleHopPhotonsObj;de&&(de.parent.remove(de),RD(de),delete ie.__data.__singleHopPhotonsObj)}).onCreateObj(function(ie){var de=p(ie),ye=y(ie);de&&e.linkThreeObject===de&&(de=de.clone());var Ve;if(!de||ye){var Xe=!!E(ie);if(Xe)Ve=new fn.Mesh;else{var Ge=new fn.BufferGeometry;Ge[E3]("position",new fn.BufferAttribute(new Float32Array(6),3)),Ve=new fn.Line(Ge)}}var st;return de?ye?(st=new fn.Group,st.__graphDefaultObj=!0,st.add(Ve),st.add(de)):st=de:(st=Ve,st.__graphDefaultObj=!0),st.renderOrder=10,st.__graphObjType="link",st}).onUpdateObj(function(ie,de){if(ie.__graphDefaultObj){var ye=ie.children.length?ie.children[0]:ie,Ve=Math.ceil(E(de)*10)/10,Xe=!!Ve;if(Xe){var Ge=Ve/2,st=e.linkResolution;if(!ye.geometry.type.match(/^Cylinder(Buffer)?Geometry$/)||ye.geometry.parameters.radiusTop!==Ge||ye.geometry.parameters.radialSegments!==st){if(!b.hasOwnProperty(Ve)){var lt=new fn.CylinderGeometry(Ge,Ge,1,st,1,!1);lt[Yw](new fn.Matrix4().makeTranslation(0,1/2,0)),lt[Yw](new fn.Matrix4().makeRotationX(Math.PI/2)),b[Ve]=lt}ye.geometry.dispose(),ye.geometry=b[Ve]}}var mt=v(de);if(mt)ye.material=mt;else{var te=S(de),Oe=new fn.Color(F1(te||"#f0f0f0")),Be=e.linkOpacity*S3(te),Ne=Xe?"MeshLambertMaterial":"LineBasicMaterial";if(ye.material.type!==Ne||!ye.material.color.equals(Oe)||ye.material.opacity!==Be){var Me=Xe?w:A;Me.hasOwnProperty(te)||(Me[te]=new fn[Ne]({color:Oe,transparent:Be<1,opacity:Be,depthWrite:Be>=1})),ye.material.dispose(),ye.material=Me[te]}}}}).digest(C),e.linkDirectionalArrowLength||t.hasOwnProperty("linkDirectionalArrowLength")){var D=gi(e.linkDirectionalArrowLength),N=gi(e.linkDirectionalArrowColor);e.arrowDataMapper.onCreateObj(function(){var ie=new fn.Mesh(void 0,new fn.MeshLambertMaterial({transparent:!0}));return ie.__linkThreeObjType="arrow",ie}).onUpdateObj(function(ie,de){var ye=D(de),Ve=e.linkDirectionalArrowResolution;if(!ie.geometry.type.match(/^Cone(Buffer)?Geometry$/)||ie.geometry.parameters.height!==ye||ie.geometry.parameters.radialSegments!==Ve){var Xe=new fn.ConeGeometry(ye*.25,ye,Ve);Xe.translate(0,ye/2,0),Xe.rotateX(Math.PI/2),ie.geometry.dispose(),ie.geometry=Xe}var Ge=N(de)||S(de)||"#f0f0f0";ie.material.color=new fn.Color(F1(Ge)),ie.material.opacity=e.linkOpacity*3*S3(Ge)}).digest(C.filter(D))}if(e.linkDirectionalParticles||t.hasOwnProperty("linkDirectionalParticles")){var I=gi(e.linkDirectionalParticles),L=gi(e.linkDirectionalParticleWidth),P=gi(e.linkDirectionalParticleColor),U=gi(e.linkDirectionalParticleThreeObject),F={},z={};e.particlesDataMapper.onCreateObj(function(){var ie=new fn.Group;return ie.__linkThreeObjType="photons",ie.__photonDataMapper=new B1(ie),ie}).onUpdateObj(function(ie,de){var ye=!!ie.children.length&&ie.children[0],Ve=U(de),Xe,Ge;if(Ve)Xe=Ve.geometry,Ge=Ve.material;else{var st=Math.ceil(L(de)*10)/10/2,lt=e.linkDirectionalParticleResolution;ye&&ye.geometry.parameters.radius===st&&ye.geometry.parameters.widthSegments===lt?Xe=ye.geometry:(z.hasOwnProperty(st)||(z[st]=new fn.SphereGeometry(st,lt,lt)),Xe=z[st]);var mt=P(de)||S(de)||"#f0f0f0",te=new fn.Color(F1(mt)),Oe=e.linkOpacity*3;ye&&ye.material.color.equals(te)&&ye.material.opacity===Oe?Ge=ye.material:(F.hasOwnProperty(mt)||(F[mt]=new fn.MeshLambertMaterial({color:te,transparent:!0,opacity:Oe})),Ge=F[mt])}ye&&(ye.geometry!==Xe&&ye.geometry.dispose(),ye.material!==Ge&&ye.material.dispose());var Be=Math.round(Math.abs(I(de)));ie.__photonDataMapper.id(function(Ne){return Ne.idx}).onCreateObj(function(){return new fn.Mesh(Xe,Ge)}).onUpdateObj(function(Ne){Ne.geometry=Xe,Ne.material=Ge}).digest(gu(new Array(Be)).map(function(Ne,Me){return{idx:Me}}))}).digest(C.filter(I))}}if(e._flushObjects=!1,i(["graphData","nodeId","linkSource","linkTarget","numDimensions","forceEngine","dagMode","dagNodeFilter","dagLevelDistance"])){e.engineRunning=!1,e.graphData.links.forEach(function(ie){ie.source=ie[e.linkSource],ie.target=ie[e.linkTarget]});var V=e.forceEngine!=="ngraph",Y;if(V){(Y=e.d3ForceLayout).stop().alpha(1).numDimensions(e.numDimensions).nodes(e.graphData.nodes);var ee=e.d3ForceLayout.force("link");ee&&ee.id(function(ie){return ie[e.nodeId]}).links(e.graphData.links);var q=e.dagMode&&sMe(e.graphData,function(ie){return ie[e.nodeId]},{nodeFilter:e.dagNodeFilter,onLoopError:e.onDagError||void 0}),$=Math.max.apply(Math,gu(Object.values(q||[]))),Q=e.dagLevelDistance||e.graphData.nodes.length/($||1)*aMe*(["radialin","radialout"].indexOf(e.dagMode)!==-1?.7:1);if(["lr","rl","td","bu","zin","zout"].includes(t.dagMode)){var se=["lr","rl"].includes(t.dagMode)?"fx":["td","bu"].includes(t.dagMode)?"fy":"fz";e.graphData.nodes.filter(e.dagNodeFilter).forEach(function(ie){return delete ie[se]})}if(["lr","rl","td","bu","zin","zout"].includes(e.dagMode)){var fe=["rl","td","zout"].includes(e.dagMode),K=function(de){return(q[de[e.nodeId]]-$/2)*Q*(fe?-1:1)},le=["lr","rl"].includes(e.dagMode)?"fx":["td","bu"].includes(e.dagMode)?"fy":"fz";e.graphData.nodes.filter(e.dagNodeFilter).forEach(function(ie){return ie[le]=K(ie)})}e.d3ForceLayout.force("dagRadial",["radialin","radialout"].indexOf(e.dagMode)!==-1?J2e(function(ie){var de=q[ie[e.nodeId]]||-1;return(e.dagMode==="radialin"?$-de:de)*Q}).strength(function(ie){return e.dagNodeFilter(ie)?1:0}):null)}else{var pe=OF.graph();e.graphData.nodes.forEach(function(ie){pe.addNode(ie[e.nodeId])}),e.graphData.links.forEach(function(ie){pe.addLink(ie.source,ie.target)}),Y=OF.forcelayout(pe,eMe({dimensions:e.numDimensions},e.ngraphPhysics)),Y.graph=pe}for(var ue=0;ue<e.warmupTicks&&!(V&&e.d3AlphaMin>0&&e.d3ForceLayout.alpha()<e.d3AlphaMin);ue++)Y[V?"tick":"step"]();e.layout=Y,this.resetCountdown()}e.engineRunning=!0,e.onFinishUpdate()}});function lMe(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Object,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=(function(r){function s(){var a;J$(this,s);for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];return a=Q$(this,s,[].concat(l)),a.__kapsuleInstance=eX(n,[].concat(gu(t?[a]:[]),l)),a}return nX(s,r),tX(s)})(e);return Object.keys(n()).forEach(function(r){return i.prototype[r]=function(){var s,a=(s=this.__kapsuleInstance)[r].apply(s,arguments);return a===this.__kapsuleInstance?this:a}}),i}var cMe=window.THREE?window.THREE:{Group:Vd},uMe=lMe(oMe,cMe.Group,!0);function hMe(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,r,s,a,o=[],l=!0,u=!1;try{if(s=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;l=!1}else for(;!(l=(i=s.call(t)).done)&&(o.push(i.value),o.length!==e);l=!0);}catch(d){u=!0,r=d}finally{try{if(!l&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw r}}return o}}function dMe(n,e,t){return e=bMe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function IF(n,e){return mMe(n)||hMe(n,e)||oX(n,e)||vMe()}function fMe(n){return pMe(n)||gMe(n)||oX(n)||yMe()}function pMe(n){if(Array.isArray(n))return OD(n)}function mMe(n){if(Array.isArray(n))return n}function gMe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function oX(n,e){if(n){if(typeof n=="string")return OD(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return OD(n,e)}}function OD(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function yMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Me(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function bMe(n){var e=_Me(n,"string");return typeof e=="symbol"?e:String(e)}var xMe=function(e,t){var i=new Set(t);return Object.assign.apply(Object,[{}].concat(fMe(Object.entries(e).filter(function(r){var s=IF(r,1),a=s[0];return!i.has(a)}).map(function(r){var s=IF(r,2),a=s[0],o=s[1];return dMe({},a,o)}))))};function ID(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=Array(e);t<e;t++)i[t]=n[t];return i}function SMe(n){if(Array.isArray(n))return n}function EMe(n){if(Array.isArray(n))return ID(n)}function TMe(n,e,t){return(e=DMe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function wMe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function CMe(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,r,s,a,o=[],l=!0,u=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(l=(i=s.call(t)).done)&&(o.push(i.value),o.length!==e);l=!0);}catch(d){u=!0,r=d}finally{try{if(!l&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw r}}return o}}function AMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PF(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function MA(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?PF(Object(t),!0).forEach(function(i){TMe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):PF(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function RMe(n,e){if(n==null)return{};var t,i,r=OMe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function OMe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function IMe(n,e){return SMe(n)||CMe(n,e)||lX(n,e)||AMe()}function T3(n){return EMe(n)||wMe(n)||lX(n)||MMe()}function PMe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function DMe(n){var e=PMe(n,"string");return typeof e=="symbol"?e:e+""}function lX(n,e){if(n){if(typeof n=="string")return ID(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?ID(n,e):void 0}}function NMe(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.methodNames,i=t===void 0?[]:t,r=e.initPropNames,s=r===void 0?[]:r;return H.forwardRef(function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0,l=H.useMemo(function(){return new n(Object.fromEntries(s.filter(function(y){return a.hasOwnProperty(y)}).map(function(y){return[y,a[y]]})))},[]);H.useEffect(function(){return l._destructor instanceof Function?l._destructor:void 0},[l]);var u=H.useCallback(function(y){for(var v=arguments.length,_=new Array(v>1?v-1:0),S=1;S<v;S++)_[S-1]=arguments[S];return l[y]instanceof Function?l[y].apply(l,_):void 0},[l]),d=Object.fromEntries(Object.entries(a).filter(function(y){var v=IMe(y,1),_=v[0];return!l[_]||!(l[_]instanceof Function)})),p=H.useRef({});return Object.keys(xMe(a,[].concat(T3(i),T3(s),T3(Object.keys(d))))).filter(function(y){return p.current[y]!==a[y]}).forEach(function(y){return u(y,a[y])}),p.current=a,H.useImperativeHandle(o,function(){return Object.fromEntries(i.map(function(y){return[y,function(){for(var v=arguments.length,_=new Array(v),S=0;S<v;S++)_[S]=arguments[S];return u.apply(void 0,[y].concat(_))}]}))}),H.createElement("primitive",MA(MA({},d),{},{object:l}))})}var LMe=["onNodeHover","onLinkHover","onNodeClick","onLinkClick"],UMe=NMe(uMe,{initPropNames:[],methodNames:["emitParticle","getGraphBbox","d3ReheatSimulation","d3Force","resetCountdown","tickFrame","refresh"]}),DF=function(e){var t,i=e.intersections,r=function(a){return a?a.hasOwnProperty("__graphObjType")?a:r(a.parent):null};return r((t=i.find(function(s){return r(s.object)}))===null||t===void 0?void 0:t.object)},Kw=function(e){return e?.__data},kMe=H.forwardRef(function(n,e){var t=n.onNodeHover,i=n.onLinkHover,r=n.onNodeClick,s=n.onLinkClick,a=RMe(n,LMe),o=H.useRef(null),l=H.useCallback(function(d){if(!(!t&&!i)){var p=DF(d);if(p!==o.current){var y=o.current;o.current=p,y&&(!p||p.__graphObjType!==y.__graphObjType)&&({node:t,link:i}[y?.__graphObjType]||function(){})(null,Kw(y)),({node:t,link:i}[p?.__graphObjType]||function(){})(Kw(p),p?.__graphObjType===y?.__graphObjType?Kw(y):null)}}},[t,i]),u=H.useCallback(function(d){var p=DF(d),y={node:r,link:s}[p?.__graphObjType];p&&y&&(y(Kw(p),d),d.stopPropagation())},[r,s]);return H.createElement(UMe,MA(MA({},a),{},{ref:e,onPointerMove:l,onClick:u}))});const zMe=({cameraControlsRef:n})=>{const e=cn(u=>u.dagModeConfig),t=cn(u=>u.dagLevelDistanceConfig),i=cn(u=>u.showFullGraph),r=H.useRef(void 0);pE(()=>r.current?.tickFrame());const s=Jpe(),a="system",o=H.useMemo(()=>{if(!s.nodes.length||!s.links.length)return{nodes:[],links:[]};if(i)return s;const u=s.nodes.filter(_=>_.group===a);if(!u.length)return{nodes:[],links:[]};const d=new Set(u.map(_=>_.id)),p=s.links.filter(_=>d.has(typeof _.source=="object"?_.source.id:_.source)),y=new Set(p.map(_=>typeof _.target=="object"?_.target.id:_.target)),v=s.nodes.filter(_=>y.has(_.id));return{nodes:[...u,...v],links:p}},[s,i]),l=H.useCallback(u=>{if(!u)return;if(!n.current){console.error("cameraControlsRef no est inicializado.");return}const d=new he(u.x??0,u.y??0,u.z??0);Hpe(n.current,d,30),cn.setState({nodeViewData:u})},[n]);return Z.jsx(kMe,{ref:r,graphData:o,dagMode:e,dagLevelDistance:t,linkWidth:2,linkCurvature:.05,linkDirectionalParticles:4,linkDirectionalParticleWidth:2,onNodeClick:l,nodeAutoColorBy:u=>u.group?s$[u.group]:"gray",nodeThreeObject:u=>gme(u)})},BMe=lr.forwardRef(function(e,t){return Z.jsx(XW,{direction:"up",ref:t,...e})}),hh="components.navigationgestures.",FMe=()=>{const{t:n}=My(),e=n(hh+"touch.title"),t=n(hh+"desk.title"),[i,r]=lr.useState(!0),[s,a]=lr.useState(!1);H.useEffect(()=>{localStorage.getItem(Yi.navigationsGestures)==="true"?(r(!1),cn.setState({overlayDontShowAgain:!0})):(r(!0),cn.setState({overlayDontShowAgain:!1}))},[]);const o=()=>{cn.setState({overlayDontShowAgain:s}),r(!1)},l=u=>{const d=u.target.checked;a(d),d?localStorage.setItem(Yi.navigationsGestures,"true"):localStorage.removeItem(Yi.navigationsGestures)};return Z.jsx(df,{children:Z.jsxs(qW,{open:i,slots:{transition:BMe},keepMounted:!0,onClose:o,"aria-describedby":"alert-dialog-slide-description",children:[Z.jsx($W,{children:Ew()==="Android"||Ew()==="iOS"?e:t}),Z.jsx(WW,{sx:{padding:"20px"},children:Z.jsx(hxe,{component:"div",id:"alert-dialog-slide-description",sx:{"& div":{marginTop:"20px"}},children:Ew()==="iOS"||Ew()==="Android"?Z.jsxs(Z.Fragment,{children:[Z.jsxs(bp,{direction:"row",spacing:1,alignItems:"center",children:[Z.jsx("img",{src:"gestures/one-swipe.svg",alt:"One Swipe",style:{width:30}}),Z.jsx(ts,{variant:"h6",children:n(hh+"touch.text1")})]}),Z.jsxs(bp,{direction:"row",spacing:1,alignItems:"center",children:[Z.jsx("img",{src:"gestures/two-swipe.svg",alt:"Two Swipe",style:{width:30}}),Z.jsx(ts,{variant:"h6",children:n(hh+"touch.text2")})]}),Z.jsxs(bp,{direction:"row",spacing:1,alignItems:"center",children:[Z.jsx("img",{src:"gestures/zoom-in.svg",alt:"Scroll",style:{width:30}}),Z.jsx(ts,{variant:"h6",children:n(hh+"touch.text3")})]})]}):Z.jsxs(Z.Fragment,{children:[Z.jsxs(bp,{direction:"row",spacing:1,alignItems:"center",children:[Z.jsx("img",{src:"gestures/left-click.svg",alt:"Left Click",style:{width:30}}),Z.jsx(ts,{variant:"h6",children:"+"}),Z.jsx("img",{src:"gestures/360.svg",alt:"360",style:{width:30}}),Z.jsxs(ts,{variant:"h6",children:["Clic izquierdo + arrastrar: Orbitar",n(hh+"desk.text1")]})]}),Z.jsxs(bp,{direction:"row",spacing:1,alignItems:"center",children:[Z.jsx("img",{src:"gestures/right-click.svg",alt:"Right Click",style:{width:30}}),Z.jsx(ts,{variant:"h6",children:"+"}),Z.jsx("img",{src:"gestures/360.svg",alt:"360",style:{width:30}}),Z.jsx(ts,{variant:"h6",children:n(hh+"desk.text2")})]}),Z.jsxs(bp,{direction:"row",spacing:1,alignItems:"center",children:[Z.jsx("img",{src:"gestures/scroll.svg",alt:"Scroll",style:{width:30}}),Z.jsx(ts,{variant:"h6",children:n(hh+"desk.text3")})]})]})})}),Z.jsxs(nxe,{sx:{justifyContent:"space-between"},children:[Z.jsx(Oxe,{control:Z.jsx(w1e,{onChange:l}),label:n(hh+"checkBoxLabel")}),Z.jsx(dE,{onClick:o,children:n(hh+"buttonClose")})]})]})})};var w3,NF;function VMe(){return NF||(NF=1,w3=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var i,r,s;if(Array.isArray(e)){if(i=e.length,i!=t.length)return!1;for(r=i;r--!==0;)if(!n(e[r],t[r]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(s=Object.keys(e),i=s.length,i!==Object.keys(t).length)return!1;for(r=i;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[r]))return!1;for(r=i;r--!==0;){var a=s[r];if(!n(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}),w3}var HMe=VMe();const jMe=rm(HMe);var Zw={exports:{}},C3,LF;function GMe(){if(LF)return C3;LF=1;var n;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/return n=function(){var e={},t={};return e.on=function(i,r){var s={name:i,handler:r};return t[i]=t[i]||[],t[i].unshift(s),s},e.off=function(i){var r=t[i.name].indexOf(i);r!==-1&&t[i.name].splice(r,1)},e.trigger=function(i,r){var s=t[i],a;if(s)for(a=s.length;a--;)s[a].handler(r)},e},C3=n,C3}var Qw={exports:{}},A3,UF;function qMe(){if(UF)return A3;UF=1,A3=function(r,s,a){var o=document.head||document.getElementsByTagName("head")[0],l=document.createElement("script");typeof s=="function"&&(a=s,s={}),s=s||{},a=a||function(){},l.type=s.type||"text/javascript",l.charset=s.charset||"utf8",l.async="async"in s?!!s.async:!0,l.src=r,s.attrs&&n(l,s.attrs),s.text&&(l.text=""+s.text);var u="onload"in l?e:t;u(l,a),l.onload||e(l,a),o.appendChild(l)};function n(i,r){for(var s in r)i.setAttribute(s,r[s])}function e(i,r){i.onload=function(){this.onerror=this.onload=null,r(null,i)},i.onerror=function(){this.onerror=this.onload=null,r(new Error("Failed to load "+this.src),i)}}function t(i,r){i.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,r(null,i))}}return A3}var kF;function WMe(){return kF||(kF=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=qMe(),i=r(t);function r(s){return s&&s.__esModule?s:{default:s}}e.default=function(s){var a=new Promise(function(o){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){o(window.YT);return}else{var l=window.location.protocol==="http:"?"http:":"https:";(0,i.default)(l+"//www.youtube.com/iframe_api",function(d){d&&s.trigger("error",d)})}var u=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){u&&u(),o(window.YT)}});return a},n.exports=e.default})(Qw,Qw.exports)),Qw.exports}var Jw={exports:{}},e2={exports:{}},t2={exports:{}},M3,zF;function $Me(){if(zF)return M3;zF=1;var n=1e3,e=n*60,t=e*60,i=t*24,r=i*365.25;M3=function(u,d){d=d||{};var p=typeof u;if(p==="string"&&u.length>0)return s(u);if(p==="number"&&isNaN(u)===!1)return d.long?o(u):a(u);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(u))};function s(u){if(u=String(u),!(u.length>100)){var d=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(u);if(d){var p=parseFloat(d[1]),y=(d[2]||"ms").toLowerCase();switch(y){case"years":case"year":case"yrs":case"yr":case"y":return p*r;case"days":case"day":case"d":return p*i;case"hours":case"hour":case"hrs":case"hr":case"h":return p*t;case"minutes":case"minute":case"mins":case"min":case"m":return p*e;case"seconds":case"second":case"secs":case"sec":case"s":return p*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return p;default:return}}}}function a(u){return u>=i?Math.round(u/i)+"d":u>=t?Math.round(u/t)+"h":u>=e?Math.round(u/e)+"m":u>=n?Math.round(u/n)+"s":u+"ms"}function o(u){return l(u,i,"day")||l(u,t,"hour")||l(u,e,"minute")||l(u,n,"second")||u+" ms"}function l(u,d,p){if(!(u<d))return u<d*1.5?Math.floor(u/d)+" "+p:Math.ceil(u/d)+" "+p+"s"}return M3}var BF;function XMe(){return BF||(BF=1,(function(n,e){e=n.exports=r.debug=r.default=r,e.coerce=l,e.disable=a,e.enable=s,e.enabled=o,e.humanize=$Me(),e.names=[],e.skips=[],e.formatters={};var t;function i(u){var d=0,p;for(p in u)d=(d<<5)-d+u.charCodeAt(p),d|=0;return e.colors[Math.abs(d)%e.colors.length]}function r(u){function d(){if(d.enabled){var p=d,y=+new Date,v=y-(t||y);p.diff=v,p.prev=t,p.curr=y,t=y;for(var _=new Array(arguments.length),S=0;S<_.length;S++)_[S]=arguments[S];_[0]=e.coerce(_[0]),typeof _[0]!="string"&&_.unshift("%O");var E=0;_[0]=_[0].replace(/%([a-zA-Z%])/g,function(w,A){if(w==="%%")return w;E++;var C=e.formatters[A];if(typeof C=="function"){var D=_[E];w=C.call(p,D),_.splice(E,1),E--}return w}),e.formatArgs.call(p,_);var b=d.log||e.log||console.log.bind(console);b.apply(p,_)}}return d.namespace=u,d.enabled=e.enabled(u),d.useColors=e.useColors(),d.color=i(u),typeof e.init=="function"&&e.init(d),d}function s(u){e.save(u),e.names=[],e.skips=[];for(var d=(typeof u=="string"?u:"").split(/[\s,]+/),p=d.length,y=0;y<p;y++)d[y]&&(u=d[y].replace(/\*/g,".*?"),u[0]==="-"?e.skips.push(new RegExp("^"+u.substr(1)+"$")):e.names.push(new RegExp("^"+u+"$")))}function a(){e.enable("")}function o(u){var d,p;for(d=0,p=e.skips.length;d<p;d++)if(e.skips[d].test(u))return!1;for(d=0,p=e.names.length;d<p;d++)if(e.names[d].test(u))return!0;return!1}function l(u){return u instanceof Error?u.stack||u.message:u}})(t2,t2.exports)),t2.exports}var FF;function YMe(){return FF||(FF=1,(function(n,e){var t={};e=n.exports=XMe(),e.log=s,e.formatArgs=r,e.save=a,e.load=o,e.useColors=i,e.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:l(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function i(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}e.formatters.j=function(u){try{return JSON.stringify(u)}catch(d){return"[UnexpectedJSONParseError]: "+d.message}};function r(u){var d=this.useColors;if(u[0]=(d?"%c":"")+this.namespace+(d?" %c":" ")+u[0]+(d?"%c ":" ")+"+"+e.humanize(this.diff),!!d){var p="color: "+this.color;u.splice(1,0,p,"color: inherit");var y=0,v=0;u[0].replace(/%[a-zA-Z%]/g,function(_){_!=="%%"&&(y++,_==="%c"&&(v=y))}),u.splice(v,0,p)}}function s(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(u){try{u==null?e.storage.removeItem("debug"):e.storage.debug=u}catch{}}function o(){var u;try{u=e.storage.debug}catch{}return!u&&typeof process<"u"&&"env"in process&&(u=t.DEBUG),u}e.enable(o());function l(){try{return window.localStorage}catch{}}})(e2,e2.exports)),e2.exports}var n2={exports:{}},VF;function KMe(){return VF||(VF=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],n.exports=e.default})(n2,n2.exports)),n2.exports}var i2={exports:{}},HF;function ZMe(){return HF||(HF=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],n.exports=e.default})(i2,i2.exports)),i2.exports}var r2={exports:{}},s2={exports:{}},jF;function QMe(){return jF||(jF=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},n.exports=e.default})(s2,s2.exports)),s2.exports}var GF;function JMe(){return GF||(GF=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=QMe(),i=r(t);function r(s){return s&&s.__esModule?s:{default:s}}e.default={pauseVideo:{acceptableStates:[i.default.ENDED,i.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[i.default.ENDED,i.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[i.default.ENDED,i.default.PLAYING,i.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},n.exports=e.default})(r2,r2.exports)),r2.exports}var qF;function eRe(){return qF||(qF=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=YMe(),i=d(t),r=KMe(),s=d(r),a=ZMe(),o=d(a),l=JMe(),u=d(l);function d(v){return v&&v.__esModule?v:{default:v}}var p=(0,i.default)("youtube-player"),y={};y.proxyEvents=function(v){var _={},S=function(I){var L="on"+I.slice(0,1).toUpperCase()+I.slice(1);_[L]=function(P){p('event "%s"',L,P),v.trigger(I,P)}},E=!0,b=!1,w=void 0;try{for(var A=o.default[Symbol.iterator](),C;!(E=(C=A.next()).done);E=!0){var D=C.value;S(D)}}catch(N){b=!0,w=N}finally{try{!E&&A.return&&A.return()}finally{if(b)throw w}}return _},y.promisifyPlayer=function(v){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,S={},E=function(L){_&&u.default[L]?S[L]=function(){for(var P=arguments.length,U=Array(P),F=0;F<P;F++)U[F]=arguments[F];return v.then(function(z){var V=u.default[L],Y=z.getPlayerState(),ee=z[L].apply(z,U);return V.stateChangeRequired||Array.isArray(V.acceptableStates)&&V.acceptableStates.indexOf(Y)===-1?new Promise(function(q){var $=function Q(){var se=z.getPlayerState(),fe=void 0;typeof V.timeout=="number"&&(fe=setTimeout(function(){z.removeEventListener("onStateChange",Q),q()},V.timeout)),Array.isArray(V.acceptableStates)&&V.acceptableStates.indexOf(se)!==-1&&(z.removeEventListener("onStateChange",Q),clearTimeout(fe),q())};z.addEventListener("onStateChange",$)}).then(function(){return ee}):ee})}:S[L]=function(){for(var P=arguments.length,U=Array(P),F=0;F<P;F++)U[F]=arguments[F];return v.then(function(z){return z[L].apply(z,U)})}},b=!0,w=!1,A=void 0;try{for(var C=s.default[Symbol.iterator](),D;!(b=(D=C.next()).done);b=!0){var N=D.value;E(N)}}catch(I){w=!0,A=I}finally{try{!b&&C.return&&C.return()}finally{if(w)throw A}}return S},e.default=y,n.exports=e.default})(Jw,Jw.exports)),Jw.exports}var WF;function tRe(){return WF||(WF=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},i=GMe(),r=u(i),s=WMe(),a=u(s),o=eRe(),l=u(o);function u(p){return p&&p.__esModule?p:{default:p}}var d=void 0;e.default=function(p){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,_=(0,r.default)();if(d||(d=(0,a.default)(_)),y.events)throw new Error("Event handlers cannot be overwritten.");if(typeof p=="string"&&!document.getElementById(p))throw new Error('Element "'+p+'" does not exist.');y.events=l.default.proxyEvents(_);var S=new Promise(function(b){if((typeof p>"u"?"undefined":t(p))==="object"&&p.playVideo instanceof Function){var w=p;b(w)}else d.then(function(A){var C=new A.Player(p,y);return _.on("ready",function(){b(C)}),null})}),E=l.default.promisifyPlayer(S,v);return E.on=_.on,E.off=_.off,E},n.exports=e.default})(Zw,Zw.exports)),Zw.exports}var nRe=tRe();const iRe=rm(nRe);var rRe=Object.defineProperty,sRe=Object.defineProperties,aRe=Object.getOwnPropertyDescriptors,$F=Object.getOwnPropertySymbols,oRe=Object.prototype.hasOwnProperty,lRe=Object.prototype.propertyIsEnumerable,XF=(n,e,t)=>e in n?rRe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,PD=(n,e)=>{for(var t in e||(e={}))oRe.call(e,t)&&XF(n,t,e[t]);if($F)for(var t of $F(e))lRe.call(e,t)&&XF(n,t,e[t]);return n},DD=(n,e)=>sRe(n,aRe(e)),cRe=(n,e,t)=>new Promise((i,r)=>{var s=l=>{try{o(t.next(l))}catch(u){r(u)}},a=l=>{try{o(t.throw(l))}catch(u){r(u)}},o=l=>l.done?i(l.value):Promise.resolve(l.value).then(s,a);o((t=t.apply(n,e)).next())});function uRe(n,e){var t,i;if(n.videoId!==e.videoId)return!0;const r=((t=n.opts)==null?void 0:t.playerVars)||{},s=((i=e.opts)==null?void 0:i.playerVars)||{};return r.start!==s.start||r.end!==s.end}function YF(n={}){return DD(PD({},n),{height:0,width:0,playerVars:DD(PD({},n.playerVars),{autoplay:0,start:0,end:0})})}function hRe(n,e){return n.videoId!==e.videoId||!jMe(YF(n.opts),YF(e.opts))}function dRe(n,e){var t,i,r,s;return n.id!==e.id||n.className!==e.className||((t=n.opts)==null?void 0:t.width)!==((i=e.opts)==null?void 0:i.width)||((r=n.opts)==null?void 0:r.height)!==((s=e.opts)==null?void 0:s.height)||n.iframeClassName!==e.iframeClassName||n.title!==e.title}var fRe={videoId:"",id:"",className:"",iframeClassName:"",style:{},title:"",loading:void 0,opts:{},onReady:()=>{},onError:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onStateChange:()=>{},onPlaybackRateChange:()=>{},onPlaybackQualityChange:()=>{}},pRe={videoId:_a.string,id:_a.string,className:_a.string,iframeClassName:_a.string,style:_a.object,title:_a.string,loading:_a.oneOf(["lazy","eager"]),opts:_a.objectOf(_a.any),onReady:_a.func,onError:_a.func,onPlay:_a.func,onPause:_a.func,onEnd:_a.func,onStateChange:_a.func,onPlaybackRateChange:_a.func,onPlaybackQualityChange:_a.func},F2=class extends lr.Component{constructor(n){super(n),this.destroyPlayerPromise=void 0,this.onPlayerReady=e=>{var t,i;return(i=(t=this.props).onReady)==null?void 0:i.call(t,e)},this.onPlayerError=e=>{var t,i;return(i=(t=this.props).onError)==null?void 0:i.call(t,e)},this.onPlayerStateChange=e=>{var t,i,r,s,a,o,l,u;switch((i=(t=this.props).onStateChange)==null||i.call(t,e),e.data){case F2.PlayerState.ENDED:(s=(r=this.props).onEnd)==null||s.call(r,e);break;case F2.PlayerState.PLAYING:(o=(a=this.props).onPlay)==null||o.call(a,e);break;case F2.PlayerState.PAUSED:(u=(l=this.props).onPause)==null||u.call(l,e);break}},this.onPlayerPlaybackRateChange=e=>{var t,i;return(i=(t=this.props).onPlaybackRateChange)==null?void 0:i.call(t,e)},this.onPlayerPlaybackQualityChange=e=>{var t,i;return(i=(t=this.props).onPlaybackQualityChange)==null?void 0:i.call(t,e)},this.destroyPlayer=()=>this.internalPlayer?(this.destroyPlayerPromise=this.internalPlayer.destroy().then(()=>this.destroyPlayerPromise=void 0),this.destroyPlayerPromise):Promise.resolve(),this.createPlayer=()=>{if(typeof document>"u")return;if(this.destroyPlayerPromise){this.destroyPlayerPromise.then(this.createPlayer);return}const e=DD(PD({},this.props.opts),{videoId:this.props.videoId});this.internalPlayer=iRe(this.container,e),this.internalPlayer.on("ready",this.onPlayerReady),this.internalPlayer.on("error",this.onPlayerError),this.internalPlayer.on("stateChange",this.onPlayerStateChange),this.internalPlayer.on("playbackRateChange",this.onPlayerPlaybackRateChange),this.internalPlayer.on("playbackQualityChange",this.onPlayerPlaybackQualityChange),(this.props.title||this.props.loading)&&this.internalPlayer.getIframe().then(t=>{this.props.title&&t.setAttribute("title",this.props.title),this.props.loading&&t.setAttribute("loading",this.props.loading)})},this.resetPlayer=()=>this.destroyPlayer().then(this.createPlayer),this.updatePlayer=()=>{var e;(e=this.internalPlayer)==null||e.getIframe().then(t=>{this.props.id?t.setAttribute("id",this.props.id):t.removeAttribute("id"),this.props.iframeClassName?t.setAttribute("class",this.props.iframeClassName):t.removeAttribute("class"),this.props.opts&&this.props.opts.width?t.setAttribute("width",this.props.opts.width.toString()):t.removeAttribute("width"),this.props.opts&&this.props.opts.height?t.setAttribute("height",this.props.opts.height.toString()):t.removeAttribute("height"),this.props.title?t.setAttribute("title",this.props.title):t.setAttribute("title","YouTube video player"),this.props.loading?t.setAttribute("loading",this.props.loading):t.removeAttribute("loading")})},this.getInternalPlayer=()=>this.internalPlayer,this.updateVideo=()=>{var e,t,i,r;if(typeof this.props.videoId>"u"||this.props.videoId===null){(e=this.internalPlayer)==null||e.stopVideo();return}let s=!1;const a={videoId:this.props.videoId};if((t=this.props.opts)!=null&&t.playerVars&&(s=this.props.opts.playerVars.autoplay===1,"start"in this.props.opts.playerVars&&(a.startSeconds=this.props.opts.playerVars.start),"end"in this.props.opts.playerVars&&(a.endSeconds=this.props.opts.playerVars.end)),s){(i=this.internalPlayer)==null||i.loadVideoById(a);return}(r=this.internalPlayer)==null||r.cueVideoById(a)},this.refContainer=e=>{this.container=e},this.container=null,this.internalPlayer=null}componentDidMount(){this.createPlayer()}componentDidUpdate(n){return cRe(this,null,function*(){dRe(n,this.props)&&this.updatePlayer(),hRe(n,this.props)&&(yield this.resetPlayer()),uRe(n,this.props)&&this.updateVideo()})}componentWillUnmount(){this.destroyPlayer()}render(){return lr.createElement("div",{className:this.props.className,style:this.props.style},lr.createElement("div",{id:this.props.id,className:this.props.iframeClassName,ref:this.refContainer}))}},gR=F2;gR.propTypes=pRe;gR.defaultProps=fRe;gR.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};var mRe=gR;const cX=ai.palette;cX.typography.fontFamily,ai.palette.text.tertiary,ai.palette.text.secondary;const gRe={position:"relative",width:"100%",paddingTop:"56.25%",background:"#000",borderRadius:"4px",overflow:"hidden",marginBottom:"25px","& iframe":{position:"absolute",top:0,left:0,width:"100%",height:"100%"}};`${cX.formStyles.borderColor}`;const yRe="components.nodeConnectionViewer.",vRe=({open:n,onClose:e,nodeData:t})=>{const i=qpe(t.id??0),r=Wpe(i?.tab_ids),s=H.useRef(null),{t:a}=My();return H.useLayoutEffect(()=>{if(!s.current)return;s.current.scrollTo({top:0,behavior:"auto"}),rM.timeline().to(s.current,{opacity:0,y:20,duration:.3,ease:"power1.inOut"}).set(s.current,{scrollTop:0}).to(s.current,{opacity:1,y:0,duration:.4,ease:"power2.out"}),cn.setState({connectionViewerActiveStep:null})},[t]),Z.jsxs(qW,{open:n,onClose:e,fullWidth:!0,maxWidth:"md",children:[Z.jsx($W,{sx:{fontWeight:600,fontSize:"1.4rem"},children:uD(t.name||"Node Name")}),Z.jsxs(WW,{dividers:!0,ref:s,sx:{overflowY:"auto"},children:[Z.jsx(df,{sx:gRe,children:t.videoid&&t.videoid.length>30?Z.jsx("iframe",{src:`https://drive.google.com/file/d/${t.videoid}/preview`,width:"640",height:"360",allow:"autoplay",allowFullScreen:!0}):Z.jsx(mRe,{videoId:t.videoid})}),Z.jsx(bp,{direction:"row",spacing:1,mb:2,children:r.map(o=>Z.jsx(Dbe,{label:uD(localStorage.getItem(Yi.languageUser)==="es"?o.title_es||o.label:o.title_en||o.label),color:"success",size:"small",variant:"outlined"},o.id))}),Z.jsx(__,{sx:{my:2}}),Z.jsx(KRe,{nodeId:t.id?t.id:0}),t.description?.summary&&Z.jsxs(df,{children:[Z.jsx(ts,{variant:"h4",gutterBottom:!0,children:a(yRe+"descriptionLabel")}),Z.jsx(ts,{variant:"subtitle2",children:t.description.summary}),Z.jsx(S4,{children:t.description.points.map((o,l)=>Z.jsxs(KW,{sx:{py:.4},children:[Z.jsx(awe,{})," ",Z.jsx(E4,{primary:o})]},l))})]})]})]})},Od=ai,uX=({color:n})=>Z.jsx("div",{style:{marginRight:"8px"},children:Z.jsxs("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",preserveAspectRatio:"xMidYMid meet",children:[Z.jsx("path",{d:"M6 2L6.09863 2.00488C6.32763 2.02757 6.54289 2.12883 6.70703 2.29297L18.207 13.793L18.2754 13.8691C18.5957 14.2619 18.5731 14.8409 18.207 15.207C17.8409 15.5731 17.2619 15.5957 16.8691 15.2754L16.793 15.207L5.58594 4H4V5.58594L15.207 16.793L15.2754 16.8691C15.5957 17.2619 15.5731 17.8409 15.207 18.207C14.8409 18.5731 14.2619 18.5957 13.8691 18.2754L13.793 18.207L2.29297 6.70703C2.10543 6.51949 2 6.26522 2 6V3L2.00488 2.89746C2.05621 2.39333 2.48232 2 3 2H6Z",fill:n}),Z.jsx("path",{d:"M18.293 12.293C18.6835 11.9024 19.3165 11.9024 19.707 12.293C20.0975 12.6835 20.0975 13.3165 19.707 13.707L13.707 19.707C13.3165 20.0976 12.6835 20.0976 12.293 19.707C11.9024 19.3165 11.9024 18.6835 12.293 18.293L18.293 12.293Z",fill:n}),Z.jsx("path",{d:"M15.293 15.293C15.6591 14.9269 16.2381 14.9043 16.6309 15.2246L16.707 15.293L20.707 19.293L20.7754 19.3691C21.0958 19.7619 21.0732 20.3409 20.707 20.707C20.3409 21.0731 19.7619 21.0957 19.3692 20.7754L19.293 20.707L15.293 16.707L15.2246 16.6309C14.9043 16.2381 14.9269 15.6591 15.293 15.293Z",fill:n}),Z.jsx("path",{d:"M20.3691 18.2246C20.7619 17.9043 21.3409 17.9269 21.707 18.293C22.0731 18.6591 22.0957 19.2381 21.7754 19.6309L21.707 19.707L19.707 21.707C19.3165 22.0976 18.6835 22.0976 18.293 21.707C17.9024 21.3165 17.9024 20.6835 18.293 20.293L20.293 18.293L20.3691 18.2246Z",fill:n}),Z.jsx("path",{d:"M21 2L21.1025 2.00488C21.6067 2.05621 22 2.48232 22 3V6C22 6.26522 21.8946 6.51949 21.707 6.70703L18.207 10.207C17.8165 10.5976 17.1835 10.5976 16.793 10.207C16.4024 9.81651 16.4024 9.18349 16.793 8.79297L20 5.58594V4H18.414L15.207 7.20703C14.8165 7.59756 14.1835 7.59756 13.793 7.20703C13.4024 6.81651 13.4024 6.18349 13.793 5.79297L17.293 2.29297L17.3662 2.22656C17.5442 2.08073 17.7679 2 18 2H21Z",fill:n}),Z.jsx("path",{d:"M4.29298 13.293C4.65909 12.9269 5.2381 12.9043 5.63087 13.2246L5.70704 13.293L9.70704 17.293L9.7754 17.3691C10.0958 17.7619 10.0732 18.3409 9.70704 18.707C9.34092 19.0731 8.76192 19.0957 8.36915 18.7754L8.29298 18.707L4.29298 14.707L4.22462 14.6309C3.90427 14.2381 3.92686 13.6591 4.29298 13.293Z",fill:n}),Z.jsx("path",{d:"M6.29295 16.293C6.68348 15.9024 7.31649 15.9024 7.70702 16.293C8.09754 16.6835 8.09754 17.3165 7.70702 17.707L4.70702 20.707C4.31649 21.0976 3.68348 21.0976 3.29295 20.707C2.90243 20.3165 2.90243 19.6835 3.29295 19.293L6.29295 16.293Z",fill:n}),Z.jsx("path",{d:"M2.29298 18.293C2.65909 17.9269 3.2381 17.9043 3.63087 18.2246L3.70704 18.293L5.70704 20.293L5.7754 20.3691C6.09575 20.7619 6.07316 21.3409 5.70704 21.707C5.34093 22.0731 4.76192 22.0957 4.36915 21.7754L4.29298 21.707L2.29298 19.707L2.22462 19.6309C1.90427 19.2381 1.92686 18.6591 2.29298 18.293Z",fill:n})]})}),hX=({color:n})=>Z.jsx("div",{style:{marginRight:"8px"},children:Z.jsxs("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",preserveAspectRatio:"xMidYMid meet",children:[Z.jsx("path",{d:"M19 7C19.4167 7 19.7901 7.25831 19.9365 7.64844L22.9365 15.6484C23.0927 16.0648 22.9548 16.5345 22.5986 16.8008C21.5568 17.5791 20.297 18 19 18C17.703 18 16.4432 17.5791 15.4014 16.8008C15.0452 16.5345 14.9073 16.0648 15.0635 15.6484L18.0635 7.64844L18.1289 7.50879C18.3041 7.19791 18.6353 7 19 7ZM17.2246 15.5811C17.7758 15.8544 18.3816 16 19 16C19.6181 16 20.2234 15.8541 20.7744 15.5811L19 10.8486L17.2246 15.5811Z",fill:n}),Z.jsx("path",{d:"M4.99999 7C5.41673 7 5.79007 7.25831 5.93652 7.64844L8.93652 15.6484C9.09266 16.0648 8.95478 16.5345 8.59863 16.8008C7.55684 17.5791 6.29703 18 4.99999 18C3.70296 18 2.44315 17.5791 1.40136 16.8008C1.04521 16.5345 0.907331 16.0648 1.06347 15.6484L4.06347 7.64844L4.1289 7.50879C4.30409 7.19791 4.63531 7 4.99999 7ZM3.2246 15.5811C3.7758 15.8544 4.38156 16 4.99999 16C5.61814 16 6.22342 15.8541 6.77441 15.5811L4.99999 10.8486L3.2246 15.5811Z",fill:n}),Z.jsx("path",{d:"M17 20C17.5523 20 18 20.4477 18 21C18 21.5523 17.5523 22 17 22H7C6.44772 22 6 21.5523 6 21C6 20.4477 6.44772 20 7 20H17Z",fill:n}),Z.jsx("path",{d:"M11 21V3C11 2.44772 11.4477 2 12 2C12.5523 2 13 2.44772 13 3V21C13 21.5523 12.5523 22 12 22C11.4477 22 11 21.5523 11 21Z",fill:n}),Z.jsx("path",{d:"M11.6602 4.05956C11.9161 3.96704 12.2008 3.98224 12.4473 4.10546L12.8213 4.2871C14.7407 5.18917 17.3374 5.99999 19 5.99999H21C21.5523 5.99999 22 6.44771 22 6.99999C22 7.55228 21.5523 7.99999 21 7.99999H19C16.929 7.99999 14.0476 7.06705 12 6.10937C9.95245 7.06705 7.07096 7.99999 5 7.99999H3C2.44772 7.99999 2 7.55228 2 6.99999C2 6.44771 2.44772 5.99999 3 5.99999H5C6.77342 5.99999 9.60934 5.07716 11.5527 4.10546L11.6602 4.05956Z",fill:n})]})}),dX=({color:n})=>Z.jsx("div",{style:{marginRight:"8px"},children:Z.jsxs("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",preserveAspectRatio:"xMidYMid meet",children:[Z.jsx("path",{d:"M20 15C20.6738 15.6738 20.7051 15.706 20.7061 15.708L20.7051 15.709C20.7044 15.7097 20.7039 15.7112 20.7031 15.7119C20.7017 15.7133 20.6998 15.7143 20.6982 15.7158C20.695 15.719 20.6913 15.7229 20.6875 15.7266C20.6799 15.7338 20.671 15.742 20.6611 15.751C20.6412 15.7691 20.6161 15.7904 20.5869 15.8145C20.5282 15.8628 20.4504 15.9224 20.3516 15.9883C20.1536 16.1203 19.8731 16.2779 19.4961 16.4287C18.7402 16.731 17.6125 17 16 17C14.2809 17 12.8607 16.4214 11.6289 15.9287C10.3608 15.4215 9.28069 15 8 15C6.61272 15 5.74022 15.2311 5.24609 15.4287C4.99834 15.5278 4.84105 15.6203 4.75781 15.6758L4.68457 15.7285C4.68649 15.7268 4.68964 15.7242 4.69336 15.7207L4.70605 15.708L4.70508 15.707C4.41908 15.9922 3.99044 16.0784 3.61719 15.9238C3.24359 15.769 3 15.4044 3 15V3C3 2.73478 3.10543 2.48051 3.29297 2.29297L4 3C3.32619 2.32619 3.29494 2.29399 3.29395 2.29199L3.29492 2.29102C3.29565 2.2903 3.29612 2.28884 3.29688 2.28809C3.29829 2.28668 3.30022 2.28568 3.30176 2.28418C3.30504 2.28097 3.30867 2.27709 3.3125 2.27344C3.32014 2.26615 3.32902 2.25798 3.33887 2.24902C3.35878 2.23092 3.38385 2.20963 3.41309 2.18555C3.4718 2.1372 3.54963 2.07759 3.64844 2.01172C3.84641 1.87973 4.12685 1.72211 4.50391 1.57129C5.25978 1.26899 6.38752 1 8 1C9.71915 1 11.1393 1.57856 12.3711 2.07129C13.6392 2.57853 14.7193 3 16 3C17.3873 3 18.2598 2.76894 18.7539 2.57129C19.0017 2.47216 19.159 2.37971 19.2422 2.32422L19.3154 2.27148C19.3135 2.27323 19.3104 2.27575 19.3066 2.2793L19.2949 2.29102C19.5809 2.00658 20.01 1.92174 20.3828 2.07617C20.7564 2.23098 21 2.59558 21 3V15C21 15.2652 20.8946 15.5195 20.707 15.707L20 15ZM8 3C6.61272 3 5.74022 3.23106 5.24609 3.42871C5.15107 3.46673 5.06933 3.50372 5 3.53809V13.3984C5.72765 13.1743 6.70797 13 8 13C9.71915 13 11.1393 13.5786 12.3711 14.0713C13.6392 14.5785 14.7193 15 16 15C17.3873 15 18.2598 14.7689 18.7539 14.5713C18.8491 14.5332 18.9306 14.4954 19 14.4609V4.60059C18.2723 4.82481 17.2922 5 16 5C14.2809 5 12.8607 4.42144 11.6289 3.92871C10.3608 3.42147 9.28069 3 8 3Z",fill:n}),Z.jsx("path",{d:"M3 22V15C3 14.4477 3.44772 14 4 14C4.55228 14 5 14.4477 5 15V22C5 22.5523 4.55228 23 4 23C3.44772 23 3 22.5523 3 22Z",fill:n})]})}),fX=({color:n})=>Z.jsx("div",{style:{marginRight:"8px"},children:Z.jsx("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",preserveAspectRatio:"xMidYMid meet",children:Z.jsx("path",{d:"M13.3511 1.00426C13.6035 0.979434 13.8584 1.01916 14.0913 1.11949L14.2056 1.17516L14.315 1.23961C14.5276 1.37773 14.7014 1.56768 14.8208 1.79137L14.8765 1.90563L14.9214 2.02477C15.0012 2.26511 15.0193 2.52186 14.9732 2.77086L14.9439 2.89488C14.9403 2.90782 14.9372 2.92116 14.9331 2.93395L13.0132 8.95348L12.9966 9.00035H19.9995C20.377 8.99962 20.7472 9.10533 21.0669 9.30602C21.3874 9.50722 21.6438 9.79572 21.8072 10.1371C21.9705 10.4784 22.0342 10.8589 21.9898 11.2347C21.9509 11.5635 21.8311 11.8768 21.6421 12.1468L21.5562 12.2601L21.4976 12.3265L11.5972 22.5267L11.5962 22.5257C11.3775 22.7596 11.0908 22.9195 10.7749 22.9779C10.4404 23.0398 10.0945 22.986 9.79446 22.8255C9.49446 22.6651 9.25781 22.4067 9.12356 22.0941C8.98947 21.7816 8.96599 21.4328 9.05618 21.1048L9.06692 21.0658L10.9868 15.0463L11.0034 15.0004H3.99954V14.9994C3.62242 14.9999 3.25259 14.8942 2.93313 14.6937C2.61282 14.4926 2.35623 14.2048 2.1929 13.8636C2.02953 13.5222 1.96587 13.1409 2.01028 12.765C2.05474 12.3893 2.2055 12.0334 2.44388 11.7396L2.50247 11.6732L12.4029 1.47399C12.6216 1.23994 12.9092 1.08127 13.2251 1.02281L13.3511 1.00426ZM4.00247 13.0004H10.9995C11.3221 12.9998 11.6401 13.0771 11.9263 13.2259C12.2132 13.3752 12.4602 13.5914 12.645 13.8568C12.8299 14.1223 12.9474 14.4294 12.9878 14.7504C13.0261 15.055 12.9904 15.363 12.8902 15.6527L12.8931 15.6537L11.6265 19.6244L19.9976 11.0004H12.9995V10.9994C12.6774 10.9998 12.3596 10.9234 12.0738 10.7748C11.7868 10.6255 11.5399 10.4084 11.355 10.1429C11.1703 9.87756 11.0527 9.57115 11.0122 9.25035C10.9738 8.94533 11.0084 8.63614 11.1089 8.34606H11.107L12.3726 4.37438L4.00247 13.0004Z",fill:n})})}),pX=({color:n})=>Z.jsx("div",{style:{marginRight:"8px"},children:Z.jsxs("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",preserveAspectRatio:"xMidYMid meet",children:[Z.jsx("path",{d:"M11 22V2C11 1.44772 11.4477 1 12 1C12.5523 1 13 1.44772 13 2V22C13 22.5523 12.5523 23 12 23C11.4477 23 11 22.5523 11 22Z",fill:n}),Z.jsx("path",{d:"M14.293 18.293C14.6835 17.9025 15.3165 17.9025 15.707 18.293C16.0976 18.6835 16.0976 19.3166 15.707 19.7071L12.707 22.7071C12.3409 23.0732 11.7619 23.0958 11.3692 22.7754L11.293 22.7071L8.29298 19.7071L8.22462 19.6309C7.90427 19.2381 7.92686 18.6591 8.29298 18.293C8.65909 17.9269 9.2381 17.9043 9.63087 18.2247L9.70704 18.293L12 20.586L14.293 18.293Z",fill:n}),Z.jsx("path",{d:"M18.293 8.29298C18.6591 7.92686 19.2381 7.90427 19.6308 8.22462L19.707 8.29298L22.707 11.293L22.7754 11.3692C23.0744 11.7357 23.0744 12.2643 22.7754 12.6309L22.707 12.707L19.707 15.707C19.3165 16.0976 18.6835 16.0976 18.293 15.707C17.9024 15.3165 17.9024 14.6835 18.293 14.293L20.5859 12L18.293 9.70704L18.2246 9.63087C17.9042 9.2381 17.9268 8.65909 18.293 8.29298Z",fill:n}),Z.jsx("path",{d:"M22 11C22.5523 11 23 11.4477 23 12C23 12.5523 22.5523 13 22 13H2C1.44772 13 1 12.5523 1 12C1 11.4477 1.44772 11 2 11H22Z",fill:n}),Z.jsx("path",{d:"M4.29295 8.29302C4.68348 7.90249 5.31649 7.90249 5.70702 8.29302C6.09754 8.68354 6.09754 9.31655 5.70702 9.70708L3.41405 12L5.70702 14.293L5.77538 14.3692C6.09573 14.762 6.07313 15.341 5.70702 15.7071C5.3409 16.0732 4.7619 16.0958 4.36913 15.7754L4.29295 15.7071L1.29295 12.7071C0.90243 12.3166 0.90243 11.6835 1.29295 11.293L4.29295 8.29302Z",fill:n}),Z.jsx("path",{d:"M11.3691 1.22462C11.7619 0.904269 12.3409 0.926863 12.707 1.29298L15.707 4.29298L15.7754 4.36915C16.0957 4.76192 16.0731 5.34092 15.707 5.70704C15.3409 6.07316 14.7619 6.09575 14.3691 5.7754L14.293 5.70704L12 3.41407L9.70702 5.70704C9.31649 6.09757 8.68348 6.09757 8.29295 5.70704C7.90243 5.31652 7.90243 4.6835 8.29295 4.29298L11.293 1.29298L11.3691 1.22462Z",fill:n})]})}),mX=({color:n})=>Z.jsx("div",{style:{marginRight:"8px"},children:Z.jsxs("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",preserveAspectRatio:"xMidYMid meet",children:[Z.jsx("path",{d:"M9.00034 5.5C9.00034 4.74769 8.85652 4.07212 8.59019 3.62109C8.35769 3.22741 8.04163 3.00009 7.50034 3C6.41936 3 5.58527 3.56869 4.97398 4.52051C4.42658 5.37285 4.10152 6.48084 4.01987 7.55371L4.00034 8.01074V8.01172C3.98724 9.10357 4.19941 9.85934 4.44468 10.6592C4.69309 11.4693 5.00034 12.388 5.00034 13.6201V16L5.00523 16.0986C5.02792 16.3276 5.12918 16.5429 5.29331 16.707C5.48083 16.8945 5.73521 17 6.00034 17C6.26544 16.9999 6.51992 16.8945 6.70737 16.707C6.87143 16.5429 6.97278 16.3276 6.99546 16.0986L7.00034 16V14.1797C7.00041 12.468 7.56853 10.9122 8.05796 9.53809C8.5659 8.11204 9.00034 6.85579 9.00034 5.5ZM11.0003 5.5C11.0003 7.2541 10.4338 8.82762 9.94175 10.209C9.43125 11.6422 9.00041 12.8716 9.00034 14.1797V16L8.98569 16.2969C8.91745 16.9834 8.61354 17.6289 8.12144 18.1211C7.55891 18.6836 6.79587 18.9999 6.00034 19C5.20469 19 4.44088 18.6837 3.87827 18.1211C3.38627 17.6289 3.08324 16.9834 3.01499 16.2969L3.00034 16V13.6201C3.00034 12.7323 2.79161 12.0908 2.53257 11.2461C2.27037 10.3911 1.98349 9.3962 2.00034 7.98828C2.01714 6.47649 2.42719 4.785 3.29136 3.43945C4.17007 2.07138 5.57144 1 7.50034 1C8.82841 1.00011 9.76191 1.67264 10.3119 2.60352C10.828 3.47749 11.0003 4.55234 11.0003 5.5Z",fill:n}),Z.jsx("path",{d:"M15 20V18.1797C14.9999 16.8716 14.5681 15.6422 14.0576 14.209C13.5656 12.8277 13 11.254 13 9.5C13 8.55234 13.1714 7.47749 13.6875 6.60352C14.2375 5.67242 15.1716 5 16.5 5C18.429 5 19.8303 6.07131 20.709 7.43945C21.5731 8.785 21.9832 10.4765 22 11.9883L21.9922 12.4971C21.9449 13.6425 21.6972 14.4979 21.4678 15.2461C21.2087 16.0909 21 16.7323 21 17.6201V20C21 20.7957 20.6837 21.5585 20.1211 22.1211C19.5585 22.6837 18.7957 23 18 23C17.2043 23 16.4415 22.6837 15.8789 22.1211C15.3867 21.6289 15.0829 20.9835 15.0146 20.2969L15 20ZM15 9.5C15 10.8558 15.4344 12.112 15.9424 13.5381C16.4318 14.9122 16.9999 16.468 17 18.1797V20L17.0049 20.0986C17.0276 20.3276 17.1288 20.5429 17.293 20.707C17.4805 20.8946 17.7348 21 18 21C18.2652 21 18.5195 20.8946 18.707 20.707C18.8946 20.5195 19 20.2652 19 20V17.6201C19 16.388 19.3073 15.4693 19.5557 14.6592C19.8009 13.8594 20.0131 13.1035 20 12.0117V12.0107C19.9866 10.8029 19.6519 9.49466 19.0264 8.52051C18.4151 7.56869 17.581 7 16.5 7C15.9585 7 15.6427 7.22738 15.4102 7.62109C15.1438 8.07212 15 8.74766 15 9.5Z",fill:n}),Z.jsx("path",{d:"M20 16C20.5523 16 21 16.4477 21 17C21 17.5523 20.5523 18 20 18H16C15.4477 18 15 17.5523 15 17C15 16.4477 15.4477 16 16 16H20Z",fill:n}),Z.jsx("path",{d:"M8 12C8.55228 12 9 12.4477 9 13C9 13.5523 8.55228 14 8 14H4C3.44772 14 3 13.5523 3 13C3 12.4477 3.44772 12 4 12H8Z",fill:n})]})}),gX=({color:n})=>Z.jsx("div",{style:{marginRight:"8px"},children:Z.jsx("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",preserveAspectRatio:"xMidYMid meet",children:Z.jsx("path",{d:"M19 5.99955C16.6805 5.99955 13.9706 4.66296 12.1104 3.03959V3.04057C12.0796 3.01427 12.0405 2.99955 12 2.99955C11.9595 2.99955 11.9204 3.01427 11.8896 3.04057L11.8887 3.03959C10.0971 4.60157 7.48931 5.91506 5.21875 5.99564L5 5.99955V12.9996L5.00879 13.4117C5.09782 15.4371 5.8465 16.9384 6.98633 18.106C8.07404 19.22 9.55305 20.0641 11.2539 20.7232L11.9961 20.9947L12.0186 21.0015C14.0236 20.3018 15.7728 19.381 17.0137 18.1079C18.229 16.861 19 15.2354 19 12.9996V5.99955ZM21 12.9996C21 15.7637 20.021 17.8888 18.4463 19.5044C16.8988 21.0921 14.8204 22.1442 12.6689 22.8941L12.6611 22.897C12.233 23.0421 11.7688 23.0369 11.3438 22.8843V22.8853C11.3379 22.8833 11.3321 22.8805 11.3262 22.8785C11.3246 22.8779 11.3228 22.8781 11.3213 22.8775V22.8765C9.17204 22.132 7.09956 21.0847 5.55566 19.5035C4.07782 17.9898 3.12517 16.0279 3.01172 13.5113L3 12.9996V5.99955C3.00012 5.46928 3.21097 4.96045 3.58594 4.58549C3.96099 4.21056 4.46967 3.99955 5 3.99955L5.32129 3.98783C6.95847 3.86731 9.05353 2.86212 10.582 1.52689L10.5908 1.52006L10.7422 1.40092C11.1082 1.1406 11.5477 0.99955 12 0.99955C12.4523 0.99955 12.8918 1.1406 13.2578 1.40092L13.4092 1.52006L13.418 1.52689L13.7324 1.79154C15.3383 3.0868 17.4277 3.99955 19 3.99955C19.5303 3.99955 20.039 4.21056 20.4141 4.58549C20.789 4.96046 20.9999 5.46928 21 5.99955V12.9996Z",fill:n})})}),ND=({color:n})=>Z.jsx("div",{style:{marginRight:"8px"},children:Z.jsxs("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24  ",preserveAspectRatio:"xMidYMid meet",children:[Z.jsx("path",{d:"M4 4V9H9V4H4ZM11 9C11 10.1046 10.1046 11 9 11H4C2.89543 11 2 10.1046 2 9V4C2 2.89543 2.89543 2 4 2H9C10.1046 2 11 2.89543 11 4V9Z",fill:n}),Z.jsx("path",{d:"M15 4V9H20V4H15ZM22 9C22 10.1046 21.1046 11 20 11H15C13.8954 11 13 10.1046 13 9V4C13 2.89543 13.8954 2 15 2H20C21.1046 2 22 2.89543 22 4V9Z",fill:n}),Z.jsx("path",{d:"M15 15V20H20V15H15ZM22 20C22 21.1046 21.1046 22 20 22H15C13.8954 22 13 21.1046 13 20V15C13 13.8954 13.8954 13 15 13H20C21.1046 13 22 13.8954 22 15V20Z",fill:n}),Z.jsx("path",{d:"M4 15V20H9V15H4ZM11 20C11 21.1046 10.1046 22 9 22H4C2.89543 22 2 21.1046 2 20V15C2 13.8954 2.89543 13 4 13H9C10.1046 13 11 13.8954 11 15V20Z",fill:n})]})}),yX=({color:n})=>Z.jsx("div",{style:{marginRight:"8px"},children:Z.jsxs("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24  ",preserveAspectRatio:"xMidYMid meet",children:[Z.jsx("path",{d:"M19 10C19 6.15228 15.8477 3 12 3C8.15228 3 5 6.15228 5 10C5 13.8477 8.15228 17 12 17H20C20.5523 17 21 17.4477 21 18C21 18.5523 20.5523 19 20 19H12C7.04772 19 3 14.9523 3 10C3 5.04772 7.04772 1 12 1C16.9523 1 21 5.04772 21 10C21 10.5523 20.5523 11 20 11C19.4477 11 19 10.5523 19 10Z",fill:n}),Z.jsx("path",{d:"M15.293 13.293C15.6591 12.9269 16.2381 12.9043 16.6309 13.2246L16.707 13.293L20.707 17.293L20.7754 17.3692C21.0957 17.7619 21.0731 18.3409 20.707 18.707L16.707 22.707C16.3165 23.0976 15.6835 23.0976 15.293 22.707C14.9024 22.3165 14.9024 21.6835 15.293 21.293L18.5859 18L15.293 14.707L15.2246 14.6309C14.9043 14.2381 14.9269 13.6591 15.293 13.293Z",fill:n})]})}),_Re={submission:Z.jsx(fX,{color:Od.palette.text.secondary}),takedown:Z.jsx(mX,{color:Od.palette.text.secondary}),guard_pass:Z.jsx(dX,{color:Od.palette.text.secondary}),defense_escape:Z.jsx(gX,{color:Od.palette.text.secondary}),guard:Z.jsx(uX,{color:Od.palette.text.secondary}),control:Z.jsx(hX,{color:Od.palette.text.secondary}),switch:Z.jsx(pX,{color:Od.palette.text.secondary}),system:Z.jsx(ND,{color:Od.palette.text.secondary}),transition:Z.jsx(yX,{color:Od.palette.text.secondary})};(async()=>(await Zpe(im.categories)??[]).map(e=>({value:e.label,label:e.title,icon:_Re[e.label]||null})))();const KF={Guard:uX,Control:hX,Pass:dX,Submission:fX,TachiWaza:mX,Defense:gX,System:ND,Switch:pX,Transition:yX,default:ND};var R3,ZF;function bRe(){if(ZF)return R3;ZF=1;function n(b){this._maxSize=b,this.clear()}n.prototype.clear=function(){this._size=0,this._values=Object.create(null)},n.prototype.get=function(b){return this._values[b]},n.prototype.set=function(b,w){return this._size>=this._maxSize&&this.clear(),b in this._values||this._size++,this._values[b]=w};var e=/[^.^\]^[]+|(?=\[\]|\.\.)/g,t=/^\d+$/,i=/^\d/,r=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,s=/^\s*(['"]?)(.*?)(\1)\s*$/,a=512,o=new n(a),l=new n(a),u=new n(a);R3={Cache:n,split:p,normalizePath:d,setter:function(b){var w=d(b);return l.get(b)||l.set(b,function(C,D){for(var N=0,I=w.length,L=C;N<I-1;){var P=w[N];if(P==="__proto__"||P==="constructor"||P==="prototype")return C;L=L[w[N++]]}L[w[N]]=D})},getter:function(b,w){var A=d(b);return u.get(b)||u.set(b,function(D){for(var N=0,I=A.length;N<I;)if(D!=null||!w)D=D[A[N++]];else return;return D})},join:function(b){return b.reduce(function(w,A){return w+(v(A)||t.test(A)?"["+A+"]":(w?".":"")+A)},"")},forEach:function(b,w,A){y(Array.isArray(b)?b:p(b),w,A)}};function d(b){return o.get(b)||o.set(b,p(b).map(function(w){return w.replace(s,"$2")}))}function p(b){return b.match(e)||[""]}function y(b,w,A){var C=b.length,D,N,I,L;for(N=0;N<C;N++)D=b[N],D&&(E(D)&&(D='"'+D+'"'),L=v(D),I=!L&&/^\d+$/.test(D),w.call(A,D,L,I,N,b))}function v(b){return typeof b=="string"&&b&&["'",'"'].indexOf(b.charAt(0))!==-1}function _(b){return b.match(i)&&!b.match(t)}function S(b){return r.test(b)}function E(b){return!v(b)&&(_(b)||S(b))}return R3}var vX=bRe(),a2={exports:{}},QF;function xRe(){if(QF)return a2.exports;QF=1,a2.exports=function(r){return n(e(r),r)},a2.exports.array=n;function n(r,s){var a=r.length,o=new Array(a),l={},u=a,d=t(s),p=i(r);for(s.forEach(function(v){if(!p.has(v[0])||!p.has(v[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});u--;)l[u]||y(r[u],u,new Set);return o;function y(v,_,S){if(S.has(v)){var E;try{E=", node was:"+JSON.stringify(v)}catch{E=""}throw new Error("Cyclic dependency"+E)}if(!p.has(v))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(v));if(!l[_]){l[_]=!0;var b=d.get(v)||new Set;if(b=Array.from(b),_=b.length){S.add(v);do{var w=b[--_];y(w,p.get(w),S)}while(_);S.delete(v)}o[--a]=v}}}function e(r){for(var s=new Set,a=0,o=r.length;a<o;a++){var l=r[a];s.add(l[0]),s.add(l[1])}return Array.from(s)}function t(r){for(var s=new Map,a=0,o=r.length;a<o;a++){var l=r[a];s.has(l[0])||s.set(l[0],new Set),s.has(l[1])||s.set(l[1],new Set),s.get(l[0]).add(l[1])}return s}function i(r){for(var s=new Map,a=0,o=r.length;a<o;a++)s.set(r[a],a);return s}return a2.exports}xRe();const SRe=Object.prototype.toString,ERe=Error.prototype.toString,TRe=RegExp.prototype.toString,wRe=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",CRe=/^Symbol\((.*)\)(.*)$/;function ARe(n){return n!=+n?"NaN":n===0&&1/n<0?"-0":""+n}function JF(n,e=!1){if(n==null||n===!0||n===!1)return""+n;const t=typeof n;if(t==="number")return ARe(n);if(t==="string")return e?`"${n}"`:n;if(t==="function")return"[Function "+(n.name||"anonymous")+"]";if(t==="symbol")return wRe.call(n).replace(CRe,"Symbol($1)");const i=SRe.call(n).slice(8,-1);return i==="Date"?isNaN(n.getTime())?""+n:n.toISOString(n):i==="Error"||n instanceof Error?"["+ERe.call(n)+"]":i==="RegExp"?TRe.call(n):null}function Fp(n,e){let t=JF(n,e);return t!==null?t:JSON.stringify(n,function(i,r){let s=JF(this[i],e);return s!==null?s:r},2)}function _X(n){return n==null?[]:[].concat(n)}let bX,xX,SX,MRe=/\$\{\s*(\w+)\s*\}/g;bX=Symbol.toStringTag;class eV{constructor(e,t,i,r){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[bX]="Error",this.name="ValidationError",this.value=t,this.path=i,this.type=r,this.errors=[],this.inner=[],_X(e).forEach(s=>{if(Ao.isError(s)){this.errors.push(...s.errors);const a=s.inner.length?s.inner:[s];this.inner.push(...a)}else this.errors.push(s)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}xX=Symbol.hasInstance;SX=Symbol.toStringTag;class Ao extends Error{static formatError(e,t){const i=t.label||t.path||"this";return t=Object.assign({},t,{path:i,originalPath:t.path}),typeof e=="string"?e.replace(MRe,(r,s)=>Fp(t[s])):typeof e=="function"?e(t):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,t,i,r,s){const a=new eV(e,t,i,r);if(s)return a;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[SX]="Error",this.name=a.name,this.message=a.message,this.type=a.type,this.value=a.value,this.path=a.path,this.errors=a.errors,this.inner=a.inner,Error.captureStackTrace&&Error.captureStackTrace(this,Ao)}static[xX](e){return eV[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let Dd={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:n,type:e,value:t,originalValue:i})=>{const r=i!=null&&i!==t?` (cast from the value \`${Fp(i,!0)}\`).`:".";return e!=="mixed"?`${n} must be a \`${e}\` type, but the final value was: \`${Fp(t,!0)}\``+r:`${n} must match the configured type. The validated value was: \`${Fp(t,!0)}\``+r}},RRe={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},ORe={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},LD={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},IRe={isValue:"${path} field must be ${value}"},PRe={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},DRe={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},NRe={notType:n=>{const{path:e,value:t,spec:i}=n,r=i.types.length;if(Array.isArray(t)){if(t.length<r)return`${e} tuple value has too few items, expected a length of ${r} but got ${t.length} for value: \`${Fp(t,!0)}\``;if(t.length>r)return`${e} tuple value has too many items, expected a length of ${r} but got ${t.length} for value: \`${Fp(t,!0)}\``}return Ao.formatError(Dd.notType,n)}};Object.assign(Object.create(null),{mixed:Dd,string:RRe,number:ORe,date:LD,object:PRe,array:DRe,boolean:IRe,tuple:NRe});const EX=n=>n&&n.__isYupSchema__;class RA{static fromOptions(e,t){if(!t.then&&!t.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:i,then:r,otherwise:s}=t,a=typeof i=="function"?i:(...o)=>o.every(l=>l===i);return new RA(e,(o,l)=>{var u;let d=a(...o)?r:s;return(u=d?.(l))!=null?u:l})}constructor(e,t){this.fn=void 0,this.refs=e,this.refs=e,this.fn=t}resolve(e,t){let i=this.refs.map(s=>s.getValue(t?.value,t?.parent,t?.context)),r=this.fn(i,e,t);if(r===void 0||r===e)return e;if(!EX(r))throw new TypeError("conditions must return a schema object");return r.resolve(t)}}const o2={context:"$",value:"."};class mE{constructor(e,t={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===o2.context,this.isValue=this.key[0]===o2.value,this.isSibling=!this.isContext&&!this.isValue;let i=this.isContext?o2.context:this.isValue?o2.value:"";this.path=this.key.slice(i.length),this.getter=this.path&&vX.getter(this.path,!0),this.map=t.map}getValue(e,t,i){let r=this.isContext?i:this.isValue?e:t;return this.getter&&(r=this.getter(r||{})),this.map&&(r=this.map(r)),r}cast(e,t){return this.getValue(e,t?.parent,t?.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}mE.prototype.__isYupRef=!0;const TX=n=>n==null;function c0(n){function e({value:t,path:i="",options:r,originalValue:s,schema:a},o,l){const{name:u,test:d,params:p,message:y,skipAbsent:v}=n;let{parent:_,context:S,abortEarly:E=a.spec.abortEarly,disableStackTrace:b=a.spec.disableStackTrace}=r;const w={value:t,parent:_,context:S};function A(F={}){const z=wX(Object.assign({value:t,originalValue:s,label:a.spec.label,path:F.path||i,spec:a.spec,disableStackTrace:F.disableStackTrace||b},p,F.params),w),V=new Ao(Ao.formatError(F.message||y,z),t,z.path,F.type||u,z.disableStackTrace);return V.params=z,V}const C=E?o:l;let D={path:i,parent:_,type:u,from:r.from,createError:A,resolve(F){return CX(F,w)},options:r,originalValue:s,schema:a};const N=F=>{Ao.isError(F)?C(F):F?l(null):C(A())},I=F=>{Ao.isError(F)?C(F):o(F)};if(v&&TX(t))return N(!0);let P;try{var U;if(P=d.call(D,t,D),typeof((U=P)==null?void 0:U.then)=="function"){if(r.sync)throw new Error(`Validation test of type: "${D.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(P).then(N,I)}}catch(F){I(F);return}N(P)}return e.OPTIONS=n,e}function wX(n,e){if(!n)return n;for(const t of Object.keys(n))n[t]=CX(n[t],e);return n}function CX(n,e){return mE.isRef(n)?n.getValue(e.value,e.parent,e.context):n}function LRe(n,e,t,i=t){let r,s,a;return e?(vX.forEach(e,(o,l,u)=>{let d=l?o.slice(1,o.length-1):o;n=n.resolve({context:i,parent:r,value:t});let p=n.type==="tuple",y=u?parseInt(d,10):0;if(n.innerType||p){if(p&&!u)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${a}" must contain an index to the tuple element, e.g. "${a}[0]"`);if(t&&y>=t.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${o}, in the path: ${e}. because there is no value at that index. `);r=t,t=t&&t[y],n=p?n.spec.types[y]:n.innerType}if(!u){if(!n.fields||!n.fields[d])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${a} which is a type: "${n.type}")`);r=t,t=t&&t[d],n=n.fields[d]}s=d,a=l?"["+o+"]":"."+o}),{schema:n,parent:r,parentPath:s}):{parent:r,parentPath:e,schema:n}}class OA extends Set{describe(){const e=[];for(const t of this.values())e.push(mE.isRef(t)?t.describe():t);return e}resolveAll(e){let t=[];for(const i of this.values())t.push(e(i));return t}clone(){return new OA(this.values())}merge(e,t){const i=this.clone();return e.forEach(r=>i.add(r)),t.forEach(r=>i.delete(r)),i}}function M0(n,e=new Map){if(EX(n)||!n||typeof n!="object")return n;if(e.has(n))return e.get(n);let t;if(n instanceof Date)t=new Date(n.getTime()),e.set(n,t);else if(n instanceof RegExp)t=new RegExp(n),e.set(n,t);else if(Array.isArray(n)){t=new Array(n.length),e.set(n,t);for(let i=0;i<n.length;i++)t[i]=M0(n[i],e)}else if(n instanceof Map){t=new Map,e.set(n,t);for(const[i,r]of n.entries())t.set(i,M0(r,e))}else if(n instanceof Set){t=new Set,e.set(n,t);for(const i of n)t.add(M0(i,e))}else if(n instanceof Object){t={},e.set(n,t);for(const[i,r]of Object.entries(n))t[i]=M0(r,e)}else throw Error(`Unable to clone ${n}`);return t}function URe(n){if(!(n!=null&&n.length))return;const e=[];let t="",i=!1,r=!1;for(let s=0;s<n.length;s++){const a=n[s];if(a==="["&&!r){t&&(e.push(...t.split(".").filter(Boolean)),t=""),i=!0;continue}if(a==="]"&&!r){t&&(/^\d+$/.test(t)?e.push(t):e.push(t.replace(/^"|"$/g,"")),t=""),i=!1;continue}if(a==='"'){r=!r;continue}if(a==="."&&!i&&!r){t&&(e.push(t),t="");continue}t+=a}return t&&e.push(...t.split(".").filter(Boolean)),e}function kRe(n,e){const t=e?`${e}.${n.path}`:n.path;return n.errors.map(i=>({message:i,path:URe(t)}))}function AX(n,e){var t;if(!((t=n.inner)!=null&&t.length)&&n.errors.length)return kRe(n,e);const i=e?`${e}.${n.path}`:n.path;return n.inner.flatMap(r=>AX(r,i))}class gy{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new OA,this._blacklist=new OA,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Dd.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e?.spec),this.withMutation(t=>{t.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const t=Object.create(Object.getPrototypeOf(this));return t.type=this.type,t._typeCheck=this._typeCheck,t._whitelist=this._whitelist.clone(),t._blacklist=this._blacklist.clone(),t.internalTests=Object.assign({},this.internalTests),t.exclusiveTests=Object.assign({},this.exclusiveTests),t.deps=[...this.deps],t.conditions=[...this.conditions],t.tests=[...this.tests],t.transforms=[...this.transforms],t.spec=M0(Object.assign({},this.spec,e)),t}label(e){let t=this.clone();return t.spec.label=e,t}meta(...e){if(e.length===0)return this.spec.meta;let t=this.clone();return t.spec.meta=Object.assign(t.spec.meta||{},e[0]),t}withMutation(e){let t=this._mutate;this._mutate=!0;let i=e(this);return this._mutate=t,i}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let t=this,i=e.clone();const r=Object.assign({},t.spec,i.spec);return i.spec=r,i.internalTests=Object.assign({},t.internalTests,i.internalTests),i._whitelist=t._whitelist.merge(e._whitelist,e._blacklist),i._blacklist=t._blacklist.merge(e._blacklist,e._whitelist),i.tests=t.tests,i.exclusiveTests=t.exclusiveTests,i.withMutation(s=>{e.tests.forEach(a=>{s.test(a.OPTIONS)})}),i.transforms=[...t.transforms,...i.transforms],i}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let t=this;if(t.conditions.length){let i=t.conditions;t=t.clone(),t.conditions=[],t=i.reduce((r,s)=>s.resolve(r,e),t),t=t.resolve(e)}return t}resolveOptions(e){var t,i,r,s;return Object.assign({},e,{from:e.from||[],strict:(t=e.strict)!=null?t:this.spec.strict,abortEarly:(i=e.abortEarly)!=null?i:this.spec.abortEarly,recursive:(r=e.recursive)!=null?r:this.spec.recursive,disableStackTrace:(s=e.disableStackTrace)!=null?s:this.spec.disableStackTrace})}cast(e,t={}){let i=this.resolve(Object.assign({},t,{value:e})),r=t.assert==="ignore-optionality",s=i._cast(e,t);if(t.assert!==!1&&!i.isType(s)){if(r&&TX(s))return s;let a=Fp(e),o=Fp(s);throw new TypeError(`The value of ${t.path||"field"} could not be cast to a value that satisfies the schema type: "${i.type}". 

attempted value: ${a} 
`+(o!==a?`result of cast: ${o}`:""))}return s}_cast(e,t){let i=e===void 0?e:this.transforms.reduce((r,s)=>s.call(this,r,e,this,t),e);return i===void 0&&(i=this.getDefault(t)),i}_validate(e,t={},i,r){let{path:s,originalValue:a=e,strict:o=this.spec.strict}=t,l=e;o||(l=this._cast(l,Object.assign({assert:!1},t)));let u=[];for(let d of Object.values(this.internalTests))d&&u.push(d);this.runTests({path:s,value:l,originalValue:a,options:t,tests:u},i,d=>{if(d.length)return r(d,l);this.runTests({path:s,value:l,originalValue:a,options:t,tests:this.tests},i,r)})}runTests(e,t,i){let r=!1,{tests:s,value:a,originalValue:o,path:l,options:u}=e,d=S=>{r||(r=!0,t(S,a))},p=S=>{r||(r=!0,i(S,a))},y=s.length,v=[];if(!y)return p([]);let _={value:a,originalValue:o,path:l,options:u,schema:this};for(let S=0;S<s.length;S++){const E=s[S];E(_,d,function(w){w&&(Array.isArray(w)?v.push(...w):v.push(w)),--y<=0&&p(v)})}}asNestedTest({key:e,index:t,parent:i,parentPath:r,originalParent:s,options:a}){const o=e??t;if(o==null)throw TypeError("Must include `key` or `index` for nested validations");const l=typeof o=="number";let u=i[o];const d=Object.assign({},a,{strict:!0,parent:i,value:u,originalValue:s[o],key:void 0,[l?"index":"key"]:o,path:l||o.includes(".")?`${r||""}[${l?o:`"${o}"`}]`:(r?`${r}.`:"")+e});return(p,y,v)=>this.resolve(d)._validate(u,d,y,v)}validate(e,t){var i;let r=this.resolve(Object.assign({},t,{value:e})),s=(i=t?.disableStackTrace)!=null?i:r.spec.disableStackTrace;return new Promise((a,o)=>r._validate(e,t,(l,u)=>{Ao.isError(l)&&(l.value=u),o(l)},(l,u)=>{l.length?o(new Ao(l,u,void 0,void 0,s)):a(u)}))}validateSync(e,t){var i;let r=this.resolve(Object.assign({},t,{value:e})),s,a=(i=t?.disableStackTrace)!=null?i:r.spec.disableStackTrace;return r._validate(e,Object.assign({},t,{sync:!0}),(o,l)=>{throw Ao.isError(o)&&(o.value=l),o},(o,l)=>{if(o.length)throw new Ao(o,e,void 0,void 0,a);s=l}),s}isValid(e,t){return this.validate(e,t).then(()=>!0,i=>{if(Ao.isError(i))return!1;throw i})}isValidSync(e,t){try{return this.validateSync(e,t),!0}catch(i){if(Ao.isError(i))return!1;throw i}}_getDefault(e){let t=this.spec.default;return t==null?t:typeof t=="function"?t.call(this,e):M0(t)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,t){const i=this.clone({nullable:e});return i.internalTests.nullable=c0({message:t,name:"nullable",test(r){return r===null?this.schema.spec.nullable:!0}}),i}optionality(e,t){const i=this.clone({optional:e});return i.internalTests.optionality=c0({message:t,name:"optionality",test(r){return r===void 0?this.schema.spec.optional:!0}}),i}optional(){return this.optionality(!0)}defined(e=Dd.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=Dd.notNull){return this.nullability(!1,e)}required(e=Dd.required){return this.clone().withMutation(t=>t.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let t=this.clone();return t.transforms.push(e),t}test(...e){let t;if(e.length===1?typeof e[0]=="function"?t={test:e[0]}:t=e[0]:e.length===2?t={name:e[0],test:e[1]}:t={name:e[0],message:e[1],test:e[2]},t.message===void 0&&(t.message=Dd.default),typeof t.test!="function")throw new TypeError("`test` is a required parameters");let i=this.clone(),r=c0(t),s=t.exclusive||t.name&&i.exclusiveTests[t.name]===!0;if(t.exclusive&&!t.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return t.name&&(i.exclusiveTests[t.name]=!!t.exclusive),i.tests=i.tests.filter(a=>!(a.OPTIONS.name===t.name&&(s||a.OPTIONS.test===r.OPTIONS.test))),i.tests.push(r),i}when(e,t){!Array.isArray(e)&&typeof e!="string"&&(t=e,e=".");let i=this.clone(),r=_X(e).map(s=>new mE(s));return r.forEach(s=>{s.isSibling&&i.deps.push(s.key)}),i.conditions.push(typeof t=="function"?new RA(r,t):RA.fromOptions(r,t)),i}typeError(e){let t=this.clone();return t.internalTests.typeError=c0({message:e,name:"typeError",skipAbsent:!0,test(i){return this.schema._typeCheck(i)?!0:this.createError({params:{type:this.schema.type}})}}),t}oneOf(e,t=Dd.oneOf){let i=this.clone();return e.forEach(r=>{i._whitelist.add(r),i._blacklist.delete(r)}),i.internalTests.whiteList=c0({message:t,name:"oneOf",skipAbsent:!0,test(r){let s=this.schema._whitelist,a=s.resolveAll(this.resolve);return a.includes(r)?!0:this.createError({params:{values:Array.from(s).join(", "),resolved:a}})}}),i}notOneOf(e,t=Dd.notOneOf){let i=this.clone();return e.forEach(r=>{i._blacklist.add(r),i._whitelist.delete(r)}),i.internalTests.blacklist=c0({message:t,name:"notOneOf",test(r){let s=this.schema._blacklist,a=s.resolveAll(this.resolve);return a.includes(r)?this.createError({params:{values:Array.from(s).join(", "),resolved:a}}):!0}}),i}strip(e=!0){let t=this.clone();return t.spec.strip=e,t}describe(e){const t=(e?this.resolve(e):this).clone(),{label:i,meta:r,optional:s,nullable:a}=t.spec;return{meta:r,label:i,optional:s,nullable:a,default:t.getDefault(e),type:t.type,oneOf:t._whitelist.describe(),notOneOf:t._blacklist.describe(),tests:t.tests.filter((l,u,d)=>d.findIndex(p=>p.OPTIONS.name===l.OPTIONS.name)===u).map(l=>{const u=l.OPTIONS.params&&e?wX(Object.assign({},l.OPTIONS.params),e):l.OPTIONS.params;return{name:l.OPTIONS.name,params:u}})}}get"~standard"(){const e=this;return{version:1,vendor:"yup",async validate(i){try{return{value:await e.validate(i,{abortEarly:!1})}}catch(r){if(r instanceof Ao)return{issues:AX(r)};throw r}}}}}gy.prototype.__isYupSchema__=!0;for(const n of["validate","validateSync"])gy.prototype[`${n}At`]=function(e,t,i={}){const{parent:r,parentPath:s,schema:a}=LRe(this,e,t,i.context);return a[n](r&&r[s],Object.assign({},i,{parent:r,path:e}))};for(const n of["equals","is"])gy.prototype[n]=gy.prototype.oneOf;for(const n of["not","nope"])gy.prototype[n]=gy.prototype.notOneOf;const zRe=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function BRe(n){const e=FRe(n);if(!e)return Date.parse?Date.parse(n):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let t=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(t=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(t=0-t)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+t,e.second,e.millisecond)}function FRe(n){var e,t;const i=zRe.exec(n);return i?{year:Id(i[1]),month:Id(i[2],1)-1,day:Id(i[3],1),hour:Id(i[4]),minute:Id(i[5]),second:Id(i[6]),millisecond:i[7]?Id(i[7].substring(0,3)):0,precision:(e=(t=i[7])==null?void 0:t.length)!=null?e:void 0,z:i[8]||void 0,plusMinus:i[9]||void 0,hourOffset:Id(i[10]),minuteOffset:Id(i[11])}:null}function Id(n,e=0){return Number(n)||e}let VRe=new Date(""),HRe=n=>Object.prototype.toString.call(n)==="[object Date]";class k4 extends gy{constructor(){super({type:"date",check(e){return HRe(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,t)=>!this.spec.coerce||this.isType(e)||e===null?e:(e=BRe(e),isNaN(e)?k4.INVALID_DATE:new Date(e)))})}prepareParam(e,t){let i;if(mE.isRef(e))i=e;else{let r=this.cast(e);if(!this._typeCheck(r))throw new TypeError(`\`${t}\` must be a Date or a value that can be \`cast()\` to a Date`);i=r}return i}min(e,t=LD.min){let i=this.prepareParam(e,"min");return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r>=this.resolve(i)}})}max(e,t=LD.max){let i=this.prepareParam(e,"max");return this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(r){return r<=this.resolve(i)}})}}k4.INVALID_DATE=VRe;const UD=ai;UD.palette.text.primary,UD.palette.formStyles.containerBackgroundColor;UD.palette.formStyles.containerBackgroundColor;const jRe=ai.palette.typography.fontFamily,GRe=Z.jsx(vW,{styles:{html:{margin:0,padding:0,overflow:"hidden",width:"100vw",height:"100vh"},body:{margin:0,padding:0,overflow:"hidden",width:"100vw",height:"100vh"},"#root":{margin:0,padding:0,overflow:"hidden",width:"100vw",height:"100vh",fontFamily:jRe}}}),qRe={display:"flex",alignItems:"center",justifyContent:"center"},WRe={width:"100vw",height:"100vh"},kD=ai;`${kD.palette.paletteBjj.rojoVibrante}`,`${kD.palette.paletteBjj.rojoVibrante}`;kD.palette.paletteBjj.rojoVibrante;const y0=ai;y0.palette.text.secondary,y0.palette.action.success,y0.palette.text.primary,y0.palette.formStyles.borderColor,Cy(y0.palette.action.success,.2);`${y0.palette.formStyles.borderColor}`;const $Re=ai;`${$Re.palette.formStyles.borderColor}`;const Lg=ai;Lg.palette.formStyles.borderColor;Lg.palette.text.secondary,`${Lg.palette.formStyles.borderColor}`,Lg.palette.action.success,Lg.palette.text.primary,Lg.palette.formStyles.borderColor;Lg.palette.text.tertiary;const XRe=ai;XRe.palette.typography.fontFamily;const V0=ai;V0.palette.formStyles.containerBackgroundColor,V0.palette.formStyles.cardBackgroundColor;V0.palette.formStyles.cardBackgroundColor,`${V0.palette.formStyles.borderColor}`,V0.palette.text.secondary;V0.palette.formStyles.containerBackgroundColor;const YRe=ai;YRe.palette.text.primary;const z4=ai.palette,yR=z4.formStyles,vR=z4.text;yR.containerBackgroundColor;yR.cardBackgroundColor;vR.secondary,z4.typography.fontFamily;yR.buttonForm,vR.primary;vR.secondary;`${yR.borderColor}`;vR.secondary;const yp="components.nodeConnectionViewer.";function tV({children:n,activeTab:e,index:t}){const i=e===t;return Z.jsx(hA,{in:i,timeout:400,unmountOnExit:!0,children:Z.jsx(df,{role:"tabpanel",id:`tabpanel-${t}`,"aria-labelledby":`tab-${t}`,sx:{p:2},children:n})})}function nV(n){return{id:`tab-${n}`,"aria-controls":`tabpanel-${n}`}}function KRe({nodeId:n}){const{t:e}=My(),t=cn(u=>u.linksData),i=cn(u=>u.connectionViewerActiveStep),r=(u,d)=>{cn.setState(p=>({connectionViewerActiveStep:p.connectionViewerActiveStep===d?null:d}))},s=u=>typeof u=="object"&&u!==null&&"id"in u,a=H.useMemo(()=>t.filter(u=>s(u.source)&&u.source.id===n||u.source===n).map(u=>u.target),[t,n]),o=H.useMemo(()=>t.filter(u=>s(u.target)&&u.target.id===n||u.target===n).map(u=>u.source),[t,n]),l=(u,d)=>u.length===0?Z.jsx(ts,{variant:"body2",children:d}):Z.jsx(S4,{dense:!0,children:u.map((p,y)=>s(p)?Z.jsx(lr.Fragment,{children:Z.jsxs(dE,{sx:{width:"100%","& .MuiListItemText-primary, .MuiListItemText-secondary":{fontSize:"0.7rem",fontFamily:ai.palette.typography.fontFamily}},children:[Z.jsxs(KW,{onClick:()=>{cn.setState({nodeViewData:p})},children:[Z.jsx(C0,{children:(()=>{const v=uD(p.group||"groupEmpty"),_=KF[v]||KF.default;return Z.jsx(_,{color:"primary"})})()}),Z.jsx(E4,{primary:p.name||`${e(yp+"node")} ${p.id}`,secondary:p.group||e(yp+"groupEmpty")})]}),y<u.length-1&&Z.jsx(__,{variant:"inset"})]})},p.id):null)});return Z.jsxs(df,{sx:{width:"100%","& .MuiTab-root":{fontSize:"0.85rem",fontFamily:ai.palette.typography.fontFamily}},children:[Z.jsx(df,{sx:{borderBottom:1,borderColor:"divider"},children:Z.jsxs(SEe,{value:i??!1,onChange:r,"aria-label":"Node connection viewer tabs",centered:!0,children:[Z.jsx(n9,{icon:Z.jsx(rwe,{}),iconPosition:"start",label:e(yp+"ArrowBackToolTip"),...nV(0),onClick:()=>{i===0&&cn.setState({connectionViewerActiveStep:null})}}),Z.jsx(n9,{icon:Z.jsx(swe,{}),iconPosition:"end",label:e(yp+"ArrowForwardToolTip"),...nV(1),onClick:()=>{i===1&&cn.setState({connectionViewerActiveStep:null})}})]})}),Z.jsxs(tV,{activeTab:i,index:0,children:[Z.jsx(ts,{variant:"subtitle2",gutterBottom:!0,children:e(yp+"targetLabel")}),l(o,e(yp+"targetLinksLabel"))]}),Z.jsxs(tV,{activeTab:i,index:1,children:[Z.jsx(ts,{variant:"subtitle2",gutterBottom:!0,children:e(yp+"sourceLabel")}),l(a,e(yp+"sourceLinksLabel"))]})]})}const ZRe={width:"80%",padding:"2rem",backgroundColor:"white",borderRadius:"10px",display:"flex",flexDirection:"column",position:"absolute",zIndex:"10"},l2={marginBottom:"2rem",display:"flex",flexDirection:"row","& .MuiInputBase-root, .MuiFormControl-root":{width:"100%"}},QRe={width:"100%",borderRadius:"12px",border:"1px solid rgba(255,255,255,0.1)",backgroundColor:n=>n.palette.mode==="dark"?"rgba(30,30,30,0.9)":"rgba(255,255,255,0.9)",boxShadow:"inset 0 0 8px rgba(0,0,0,0.15)"},JRe=n=>({borderRadius:"10px",marginBottom:"0.25rem",transition:"all 0.25s ease",backgroundColor:n?"rgba(25, 118, 210, 0.1)":"transparent","&:hover":{backgroundColor:n?"rgba(25, 118, 210, 0.2)":"rgba(255,255,255,0.05)",transform:"translateX(4px)"},"& .MuiListItemText-root":{fontWeight:n?600:400,color:n?"primary.main":"text.primary"}}),hs="components.configWindow.",eOe=()=>{const n=cn(I=>I.languageGlobal),e=cn(I=>I.dagModeConfig),t=cn(I=>I.dagLevelDistanceConfig),i=cn(I=>I.systemBjjSelectedNodes),r=cn(I=>I.systemBjjSelectedLinks),[s,a]=H.useState(n),[o,l]=H.useState(e),[u,d]=H.useState(t),[p,y]=H.useState(i),[v,_]=H.useState(r),{t:S,i18n:E}=My(),b=()=>{localStorage.setItem(Yi.languageUser,n),cn.setState({languageGlobal:n,dagModeConfig:localStorage.getItem(Yi.dagModeCache),dagLevelDistanceConfig:Number(localStorage.getItem(Yi.dagLevelDistanceCache)),isConfigWindowActive:!1})},w=I=>{a(I.target.value),localStorage.setItem(Yi.languageUser,I.target.value),E.changeLanguage(I.target.value)},A=I=>{const L=I.target.value;l(L),cn.setState({dagModeConfig:L})},C=I=>{const L=Number(I.target.value);!Number.isNaN(L)&&L>=0&&L<=100&&(d(L),cn.setState({dagLevelDistanceConfig:L}))},D=(I,L)=>{y(P=>P.includes(I)?P.filter(U=>U!==I):[...P,I]),_(P=>P.includes(L)?P.filter(U=>U!==L):[...P,L])},N=()=>{localStorage.setItem(Yi.dagModeCache,o),localStorage.setItem(Yi.dagLevelDistanceCache,String(u)),localStorage.setItem(Yi.systemsCacheNameNodes,JSON.stringify(p)),localStorage.setItem(Yi.systemsCacheNameLinks,JSON.stringify(v)),console.log("Node temporal systems:",p),console.log("Link temporal systems:",v),cn.setState({languageGlobal:s,dagModeConfig:o,dagLevelDistanceConfig:u,systemBjjSelectedNodes:p,systemBjjSelectedLinks:v,isConfigWindowActive:!1})};return Z.jsxs(df,{sx:ZRe,children:[Z.jsx(Nwe,{buttonFunction:b,isPositionAbsolute:!0}),Z.jsx(ts,{variant:"h4",sx:{fontWeight:"600",marginBottom:"2rem"},children:S(hs+"title")}),Z.jsxs(ex,{fullWidth:!0,sx:l2,children:[Z.jsx(L2,{id:"language-select-label",children:S(hs+"language.label")}),Z.jsxs(yA,{labelId:"language-select-label",id:"language-select",defaultValue:n,label:S(hs+"language.label"),onChange:w,children:[Z.jsx(Zo,{value:"es",children:S(hs+"es")}),Z.jsx(Zo,{value:"en",children:S(hs+"en")})]}),Z.jsx(Nw,{content:S(hs+"language.description")})]}),Z.jsxs(ex,{fullWidth:!0,sx:l2,children:[Z.jsx(L2,{id:"dagMode-select-label",children:S(hs+"dagMode")}),Z.jsxs(yA,{labelId:"dagMode-select-label",id:"dagMode-select",value:o,label:S(hs+"dagMode"),onChange:A,children:[Z.jsx(Zo,{value:"td",children:S(hs+"dagMode.td")}),Z.jsx(Zo,{value:"bu",children:S(hs+"dagMode.bu")}),Z.jsx(Zo,{value:"lr",children:S(hs+"dagMode.lr")}),Z.jsx(Zo,{value:"rl",children:S(hs+"dagMode.rl")}),Z.jsx(Zo,{value:"radialout",children:S(hs+"dagMode.radialout")}),Z.jsx(Zo,{value:"radialin",children:S(hs+"dagMode.radialin")}),Z.jsx(Zo,{value:null,children:S(hs+"dagMode.none")})]}),Z.jsx(Nw,{content:S(hs+"dagMode.description")})]}),Z.jsxs(ex,{fullWidth:!0,sx:l2,children:[Z.jsx(AEe,{id:"outlined-number",label:S(hs+"dagLevelDistance"),type:"number",value:u,onChange:C,slotProps:{inputLabel:{shrink:!0}}}),Z.jsx(Nw,{content:S(hs+"dagLevelDistance.description")})]}),Z.jsx(L2,{id:"system-select-label",children:S(hs+"system.label")}),Z.jsxs(ex,{fullWidth:!0,sx:l2,children:[Z.jsx(cE,{sx:QRe,children:Z.jsx(QW,{dense:!0,children:a9.map(I=>Z.jsxs(Zo,{selected:p.includes(I.valueNodes),onClick:()=>D(I.valueNodes,I.valueLinks),sx:JRe(p.includes(I.valueNodes)),children:[p.includes(I.valueNodes)&&Z.jsx(C0,{children:Z.jsx(owe,{color:"primary"})}),Z.jsx(E4,{inset:!a9.some(L=>L.valueNodes===I.valueNodes),children:I.label})]},I.valueNodes))})}),Z.jsx(Nw,{content:S(hs+"system.description")})]}),Z.jsx(dE,{variant:"contained",color:"primary",onClick:N,children:S(hs+"buttonClose")})]})},tOe=lr.memo(eOe),nOe=ai;ai.palette.text.primary;ai.palette.text.tertiary,ai.palette.action.success,ai.palette.text.primary,Cy(ai.palette.action.success,.7),ai.palette.text.primary,ai.palette.typography.fontFamily;ai.palette.background.form,ai.palette.text.primary;ai.palette.text.tertiary,`${ai.palette.formStyles.borderColor}`,ai.palette.text.tertiary,ai.palette.text.primary,Cy(ai.palette.action.success,.7),ai.palette.action.success,ai.palette.text.primary,nOe.palette.typography.fontFamily;const iV="components.app.",iOe=()=>{const n=cn(u=>u.nodeViewData),e=cn(u=>u.isNodeSceneViewActive),t=cn(u=>u.isConfigWindowActive),i=cn(u=>u.overlayDontShowAgain),r=cn(u=>u.showFullGraph),s=()=>{cn.setState({showFullGraph:!r})},{t:a}=My(),o=H.useRef(null),l=H.useCallback(()=>{cn.setState({isNodeSceneViewActive:!1}),o.current&&jpe(o.current)},[o]);return Z.jsxs(Z.Fragment,{children:[GRe,Z.jsxs("div",{style:qRe,children:[t?Z.jsx(tOe,{}):Z.jsx(Pwe,{}),Z.jsxs("div",{style:WRe,children:[Z.jsx(dE,{style:{position:"absolute",top:20,left:20,zIndex:10,backgroundColor:"white",padding:"0.5rem 1rem"},onClick:s,children:r?` ${a(iV+"collapsedNodes")}`:` ${a(iV+"expandNodes")}`}),Z.jsxs(HTe,{camera:{fov:Eg.fov,near:Eg.near,far:Eg.far,position:Eg.position},style:{backgroundColor:U2.canvasBackgraundColor},children:[Z.jsx(Lwe,{cameraControlsRef:o}),Z.jsx(KTe,{ref:o,dollySpeed:Eg.dollySpeed,maxDistance:Eg.maxDistance,minDistance:Eg.minDistance})]})]}),i?null:Z.jsx(FMe,{}),Z.jsx(Dwe,{}),Z.jsx(vRe,{open:e,onClose:l,nodeData:n})]})]})},rOe=await Ype()+1,sOe="systems/side_control_escapes_switch_base_variants/nodes",rV="systems/side_control_escapes_switch_base_variants/links";function aOe(){const n=new Date,e=new Date(n),t=async s=>{console.log(rOe),Kpe({dbNodesName:sOe,dbLinksName:rV,index:s.indexNewNode,name_es:s.name_es,name_en:s.name_en,group:s.categoryId,nodeSource:s.nodeSource,videoid:s.videoid,start:"0",end:s.end,uploadedDate:e.toLocaleDateString(),descrip_es:s.descrip_es,descrip_en:s.descrip_en}),Qpe({nodeIndex:s.indexNewNode,categoryId:s.categoryId,subcategoryId:s.subcategoryId,specificCategoryId:s.specificCategoryId,tabIds:s.tabIds})},i=async()=>{const s=[oOe,lOe,cOe,uOe,hOe,dOe,fOe,pOe,mOe,gOe,yOe,vOe,_Oe,bOe,xOe,SOe,EOe,TOe,wOe,COe];for(const a of s)await t(a),console.log("name_es: ",a.name_es),console.log("indexNewNode: ",a.indexNewNode),console.log("nodeSource: ",a.nodeSource);console.log("Todos los nodos agregados!")},r=()=>{dx(Ah(wc,rV),{source:188,target:83}),console.log("links agregados")};return Z.jsxs(Z.Fragment,{children:[Z.jsx("div",{children:"ADD FAST"}),Z.jsx("button",{onClick:i,children:"Agregar todos los nodos"}),Z.jsx("button",{onClick:r,children:"Agregar todos los enlaces"})]})}const oOe={name_es:"Introducir variantes de side control",name_en:"Intro to Side Control Variants",indexNewNode:218,videoid:"1F8eueIchtGV7Njkn1lJAw5KX38u6oBew",nodeSource:1,end:"45",descrip_es:{summary:"Identifica y diferencia las variantes de side control segn la orientacin del oponente. Reconoce el control frontal estndar cuando el oponente enfrenta hacia ti y distingue los cambios de base cuando gira para mirarte o darte la espalda. Define kesagatame cuando el oponente enfrenta hacia ti con ambos brazos atrapados al frente y reconoce scarf hold cuando controla solo cabeza y brazo. Clasifica switch base cuando el oponente orienta el torso hacia afuera. Aplica estos conceptos tanto en gi como en nogi.",points:["Identifica la orientacin del oponente","Diferencia side control estndar y switch base","Reconoce kesagatame por control frontal completo","Reconoce scarf hold por control de cabeza y brazo","Aplica los conceptos en gi y nogi"]},descrip_en:{summary:"Identify and differentiate side control variants based on opponent orientation. Recognize standard side control when the opponent faces you and distinguish base switches when they turn to face toward or away from you. Define kesa gatame when the opponent faces you with both arms trapped in front and recognize scarf hold when only head and arm are controlled. Classify switch base when the opponent faces away. Apply these concepts in both gi and nogi.",points:["Identify opponent orientation","Differentiate standard and switch-base side control","Recognize kesa gatame by full frontal control","Recognize scarf hold by head and arm control","Apply concepts in gi and nogi"]},categoryId:"system",subcategoryId:"escape_system",specificCategoryId:"side_control_escape",tabIds:["positional","gi","nogi","beginner"]},lOe={name_es:"Visin posicional Kesa Gatame y Scarf Hold",name_en:"Positional Overview Kesa Gatame and Scarf Hold",indexNewNode:219,videoid:"1Wu2LWiFBQem1ATMEXuwyyabmnPRXQTe5",nodeSource:218,end:"96",descrip_es:{summary:"Distingue kesa gatame y scarf hold segn orientacin, agarres y objetivos. Mantn ambos brazos del oponente al frente y enfrenta el torso para definir kesa gatame, usa el cambio de base para neutralizar el escape de cadera y limpiar grips antes de reatacar. Controla solo cabeza y brazo para identificar scarf hold, entiende su carcter terminal y el mayor riesgo de conceder la espalda. Prioriza kesa gatame como postura estratgica y evita scarf hold como posicin principal.",points:["Identifica kesa gatame por control frontal de ambos brazos","Cambia la base para bloquear el escape de cadera","Usa kesa gatame para limpiar grips y reatacar","Reconoce scarf hold por control de cabeza y brazo","Evita scarf hold por riesgo de perder la espalda"]},descrip_en:{summary:"Differentiate kesa gatame and scarf hold by orientation, grips, and intent. Keep both opponent arms in front and face the torso to define kesa gatame, switch base to shut down the hip escape and clear grips before reattacking. Control only head and arm to identify scarf hold, understand its end-stage nature and higher risk of giving the back. Prioritize kesa gatame as a strategic posture and avoid scarf hold as a primary position.",points:["Identify kesa gatame by frontal control of both arms","Switch base to block the hip escape","Use kesa gatame to clear grips and reattack","Recognize scarf hold by head-and-arm control","Avoid scarf hold due to back exposure risk"]},categoryId:"control",subcategoryId:"side_control",specificCategoryId:"kesa_gatame",tabIds:["positional","gi","beginner"]},cOe={name_es:"Responder al cambio de base",name_en:"Why They Switch and Early Responses",indexNewNode:220,videoid:"12h1BdT9Yc2dLNUIqA4UNj6x41pKRBaPw",nodeSource:219,end:"152",descrip_es:{summary:"Anticipa el cambio de base desde side control cuando el oponente busca neutralizar el frame en la cadera superior. Reconoce que el cambio de base elimina espacio y debilita el frame flotante. Reacciona de inmediato ajustando el frame a la cadera inferior segn la orientacin del torso. Mantn presin activa con el antebrazo y el codo para impedir que cierre el espacio, crea distancia funcional y empieza a recuperar la cadera inferior antes de que restablezca un side control cerrado.",points:["Reconoce el cambio de base para eliminar el frame","Evita insistir en el frame de la cadera superior","Ajusta el frame hacia la cadera inferior","Presiona activamente con codo y antebrazo","Crea espacio y recupera la cadera inferior"]},descrip_en:{summary:"Anticipate the base switch from side control used to neutralize the top hip frame. Recognize that the switch removes space and leaves the frame floating. React immediately by reframing on the bottom hip based on torso orientation. Maintain active pressure with forearm and elbow to prevent gap closing, create functional distance, and begin recovering the bottom hip before tight side control is reestablished.",points:["Identify the base switch to remove the frame","Avoid insisting on the top hip frame","Reframe onto the bottom hip","Apply active elbow and forearm pressure","Create space and recover the bottom hip"]},categoryId:"defense_escape",subcategoryId:"positional_escape",specificCategoryId:"side_control_escape",tabIds:["transition","beginner","gi"]},uOe={name_es:"La posicin define la escapada",name_en:"Their Position Determines Your Escape",indexNewNode:221,videoid:"1esUt0bx7pElhN6c84yNbI1R3SNUDT4pX",nodeSource:220,end:"73",descrip_es:{summary:"Evala la altura del control desde side control para decidir la va de escape. Si el oponente est bajo sobre las caderas, prioriza bloquear y controlar el brazo superior para impedir que cierre espacio y comience el control. Si el oponente est alto sobre el torso, evita alcanzar brazos para no exponer aislamientos y cambia el enfoque a recuperar la cadera inferior usando desplazamiento de cadera para crear espacio y salir de la posicin.",points:["Evala si el control est bajo o alto","Bloquea y controla el brazo superior cuando est bajo","Niega el cierre de espacio del brazo superior","Evita alcanzar brazos cuando est alto","Recupera la cadera inferior con desplazamiento de cadera"]},descrip_en:{summary:"Assess the height of side control to choose the escape path. When the opponent is low on the hips, prioritize blocking and controlling the top arm to prevent space closing and control. When the opponent is high on the torso, avoid reaching for arms to prevent isolation and shift focus to recovering the bottom hip using a hip escape to create space and exit the position.",points:["Assess whether control is low or high","Block and control the top arm when low","Deny space closing from the top arm","Avoid reaching for arms when high","Recover the bottom hip with a hip escape"]},categoryId:"defense_escape",subcategoryId:"positional_escape",specificCategoryId:"side_control_escape",tabIds:["escaping","beginner","gi"]},hOe={name_es:"Levantarse desde kesa gatame bajo",name_en:"Low Kesa Gatame Get Up",indexNewNode:222,videoid:"1WZDFcrCeq8mG70kF2_ZlTM_F0Bv9sHJV",nodeSource:221,end:"249",descrip_es:{summary:"Bloquea el brazo superior cuando el control est bajo sobre las caderas y evita que cierre espacio. Asegura el agarre desde el codo hacia el antebrazo con pulgar y dedos opuestos para negar rotaciones. Genera espacio extendiendo cabeza y espalda alta, construye base alejando la cabeza y eleva el brazo por encima para subir al codo. Mantn presin activa sobre el brazo mientras incorporas la cadera, progresa a rodilla y decide retroceder para ponerte de pie o reinsertar la pierna para recuperar guardia.",points:["Bloquea el brazo superior desde codo a antebrazo","Niega rotaciones con pulgar interno y dedos externos","Extiende cabeza y espalda alta para crear espacio","Sube al codo construyendo base detrs","Progresa a rodilla y elige ponerte de pie o recuperar guardia"]},descrip_en:{summary:"Block the top arm when control is low on the hips and deny space closing. Secure the grip from elbow to forearm with thumb and fingers opposing to stop rotations. Create space by extending the head and upper back, build a base by moving the head away, and raise the arm overhead to come up to the elbow. Maintain active pressure on the arm while bringing the hips in, progress to the knee, and choose to back away to stand or reinsert the leg to recover guard.",points:["Block the top arm from elbow to forearm","Deny rotations with inside thumb and outside fingers","Extend head and upper back to create space","Come up to the elbow building a base","Progress to the knee and stand or recover guard"]},categoryId:"defense_escape",subcategoryId:"positional_escape",specificCategoryId:"side_control_escape",tabIds:["escaping","beginner","gi"]},dOe={name_es:"Pase de codo desde kesa gatame bajo",name_en:"Low Kesa Gatame Elbow Pass",indexNewNode:223,videoid:"1j3yPXHYQvAc8I1aU7X_LzsXBr2gtTI1O",nodeSource:221,end:"227",descrip_es:{summary:"Anticipa el paso del brazo por encima cuando el oponente pierde la fijacin de la cabeza y reacciona de inmediato. Sigue el brazo por detrs del codo y fuerza un arco amplio para crear espacio. Cambia de lado de forma simultnea, eleva el brazo contrario por encima de la cabeza y sintate extendiendo para impedir que cierre la cadera. Sube al codo, libera las caderas y retrocede para recuperar espacio o reencuadrar.",points:["Anticipa el pase del brazo por encima","Controla detrs del codo y ampla el arco","Cambia de lado de forma simultnea","Eleva el brazo y sintate extendiendo","Sube al codo y libera las caderas"]},descrip_en:{summary:"Anticipate the arm swinging over when head attachment is denied and react immediately. Track the arm behind the elbow and force a wide arc to create space. Switch sides simultaneously, raise the opposite arm overhead, and sit up extending to prevent hip locking. Come up to the elbow, free the hips, and back away to recover space or reframe.",points:["Anticipate the arm swinging over","Control behind the elbow and widen the arc","Switch sides simultaneously","Raise the arm and sit up extending","Come to the elbow and free the hips"]},categoryId:"defense_escape",subcategoryId:"positional_escape",specificCategoryId:"side_control_escape",tabIds:["escaping","beginner","gi"]},fOe={name_es:"Liberar el codo",name_en:"Freeing Your Elbow",indexNewNode:224,videoid:"1-AF7dhHWe0q6Xw0nn_BaD08bfSDp0Rrp",nodeSource:221,end:"79",descrip_es:{summary:"Bloquea la cadera inferior con el antebrazo y reacciona si el oponente eleva el brazo. Evita exponer el codo y mantn el codo del lado de la cabeza mientras el antebrazo bloquea bajo la axila. Genera espacio con el frame para sacar la mano hacia afuera. Eleva el brazo por encima de la cabeza, sube al codo, extiende para liberar y reintroduce el codo hacia la cadera desde un ngulo que impida la intercepcin.",points:["Evita exponer el codo","Bloquea bajo la axila con el antebrazo","Crea espacio para liberar la mano","Eleva el brazo y sube al codo","Extiende y reintroduce el codo a la cadera"]},descrip_en:{summary:"Block the bottom hip with the forearm and react if the opponent lifts the arm. Avoid exposing the elbow and keep the elbow on the head side while the forearm blocks under the armpit. Create space with framing to free the hand to the outside. Raise the arm overhead, come up to the elbow, extend to free it, and reinsert the elbow toward the hip from an angle that prevents interception.",points:["Avoid exposing the elbow","Block under the armpit with the forearm","Create space to free the hand","Raise the arm and come to the elbow","Extend and reinsert the elbow to the hip"]},categoryId:"defense_escape",subcategoryId:"positional_escape",specificCategoryId:"side_control_escape",tabIds:["escaping","beginner","gi"]},pOe={name_es:"Escape de cadera desde kesa gatame alto",name_en:"High Kesa Gatame Hip Escape",indexNewNode:225,videoid:"1JpKgTwPCI7DbNAWgQjMhbpEqewNrDXQ-",nodeSource:221,end:"235",descrip_es:{summary:"Reconoce la presin alta y evita buscar el brazo cuando quedas bloqueado. Bloquea activamente la cadera inferior con el antebrazo generando tensin para impedir que levanten el codo. Ajusta la cabeza del oponente llevndola en lnea con la tuya para reducir su control de cadera. Abre la base con el pie, puentea para alinear cuerpos y ejecuta el escape de cadera manteniendo el puente. Inserta la rodilla, bloquea el reenganche del brazo y recupera la pierna inferior.",points:["Bloquea la cadera inferior con presin","Evita buscar el brazo bajo presin alta","Alinea la cabeza del oponente con la tuya","Abre la base, puentea y escapa de cadera","Inserta la rodilla y recupera la pierna"]},descrip_en:{summary:"Identify high pressure and avoid reaching for the arm when jammed. Actively block the bottom hip with forearm tension to prevent elbow lifts. Adjust the opponents head by bringing it in line with yours to reduce hip control. Step wide to build a bridge, align bodies, and hip escape while maintaining the bridge. Insert the knee, block reattachment of the arm, and recover the bottom leg.",points:["Block the bottom hip with pressure","Avoid reaching for the arm under high pressure","Align the opponents head with yours","Step wide, bridge, and hip escape","Insert the knee and recover the leg"]},categoryId:"defense_escape",subcategoryId:"positional_escape",specificCategoryId:"side_control_escape",tabIds:["escaping","beginner","gi"]},mOe={name_es:"Escape con underhook desde kesa gatame alto",name_en:"High Kesa Gatame Underhook Escape",indexNewNode:226,videoid:"18aO9ubgJGM_NAXDti1C2fNkUWgegrAT5",nodeSource:221,end:"146",descrip_es:{summary:"Reconoce el bloqueo de cadera cuando el oponente avanza las caderas e impide el escape de cadera. Baja el codo y gira el torso hacia el suelo para proyectar las costillas al frente. Retrae el codo creando espacio y acompaa el movimiento bajando las caderas. Puentea, gira en belly down y retrae el puente para insertar un underhook alto sobre la espalda. Mantn el underhook elevado, escapa 180 grados con las caderas y progresa hasta apoyar las rodillas.",points:["Detecta el bloqueo de cadera que impide el escape","Gira el torso hacia el suelo y retrae el codo","Baja las caderas mientras recuperas el underhook","Inserta underhook alto cruzando la espalda","Escapa 180 grados y sube a las rodillas"]},descrip_en:{summary:"Identify hip blockage when the opponent drives the hips forward and denies the hip escape. Drop the elbow and turn the torso toward the floor to project the ribs forward. Retract the elbow to create space while dropping the hips. Bridge, turn belly down, and retract the bridge to insert a high underhook across the back. Keep the underhook high, hip escape 180 degrees, and work up to the knees.",points:["Recognize hip pressure blocking the escape","Turn toward the floor and retract the elbow","Lower the hips while recovering the underhook","Insert a high underhook across the back","Hip escape 180 degrees and rise to the knees"]},categoryId:"defense_escape",subcategoryId:"positional_escape",specificCategoryId:"side_control_escape",tabIds:["escaping","beginner"]},gOe={name_es:"Escapar a guardia desde Kesa gatame",name_en:"Escape to guard from Kesa gatame",indexNewNode:227,videoid:"1RDrNsPRc0XhjuNetF5JudBXncZ9CYjiT",nodeSource:[222,223,224,225,226],end:"52",descrip_es:{summary:"Controla el codo y el brazo contrario, inicia movimiento de recuperacin de guardia, ajusta base ante cambios de brazo del oponente, ejecuta hip escape y bridge para obtener underhook y regresar a posicin de rodillas.",points:["Coloca el codo hacia abajo para controlar el espacio.","Si es posible, captura el bceps lejano temprano.","Levntate y retrocede para recuperar guardia.","Cambia de lado si el oponente cambia el brazo.","Realiza hip escape o puente para encontrar espacio.","Consigue underhook y desplzate hacia las rodillas."]},descrip_en:{summary:"Control the elbow and opponent's arm, initiate guard recovery, adjust base if opponent switches arm, perform hip escape and bridge to secure underhook and return to knees position.",points:["Place elbow down to control space.","Catch far bicep early if possible.","Stand up and scoot back to recover guard.","Switch sides if opponent switches arm.","Execute hip escape or bridge to create space.","Obtain underhook and move toward knees."]},categoryId:"defensive_positions",subcategoryId:"positional_escape",specificCategoryId:"turtle_position",tabIds:["beginner","escaping","gi","nogi"]},yOe={name_es:"Escapar de Scarf Hold y Opciones de Control Superior",name_en:"Escape Scarf Hold and Top Player Options",indexNewNode:228,videoid:"1fy8PCDT5tPOtqywnOZI_vTuOL3ZQHFar",nodeSource:220,end:"130",descrip_es:{summary:"Identifica control de codo y posicin de pierna del oponente, libera el codo atrapado, previene bloqueos de hombro, ajusta inclinacin del oponente, inclnalo hacia atrs para recuperar control superior y protege la espalda mientras se maneja la amenaza de sumisin.",points:["Reconoce control del codo y pierna del oponente.","Libera el codo atrapado para prevenir sumisiones.","Ajusta inclinacin del oponente para dificultar sus ataques.","Inclina al oponente hacia atrs para recuperar posicin superior.","Protege la espalda mientras gestionas amenazas de sumisin."]},descrip_en:{summary:"Identify opponent's elbow control and leg positioning, free trapped elbow, prevent shoulder locks, adjust opponent's lean, tilt opponent backward to regain top control, and protect back while managing submission threats.",points:["Recognize opponent's elbow and leg control.","Free trapped elbow to prevent submissions.","Adjust opponent's lean to hinder attacks.","Tilt opponent backward to regain top control.","Protect back while managing submission threats."]},categoryId:"control",subcategoryId:"side_control",specificCategoryId:"kesa_gatame",tabIds:["beginner","control"]},vOe={name_es:"Posicin Segura del Brazo",name_en:"Safe Arm Position",indexNewNode:229,videoid:"132gDxso4RDcY_RMd6_saYKAP8sIN726K",nodeSource:228,end:"59",descrip_es:{summary:"Mantn el brazo seguro frente a la cadera para prevenir atrapamientos, libera el codo hacia adelante para facilitar escape, conecta manos si el brazo es jalado, evita dejar el brazo flotando en el espacio para minimizar riesgos de sumisin.",points:["Mantn el brazo frente a la cadera.","Libera el codo hacia adelante para mejorar posibilidades de escape.","Conecta las manos si el brazo es jalado o aislado.","No dejes el brazo flotando en el espacio.","Posicinalo correctamente para evitar atrapamientos."]},descrip_en:{summary:"Keep the arm safe in front of the hip to prevent traps, free the elbow forward to facilitate escape, connect hands if the arm is pulled, avoid leaving the arm floating to minimize submission risk.",points:["Keep arm in front of hip.","Free elbow forward to enhance escape.","Connect hands if arm is pulled or isolated.","Avoid leaving arm floating in space.","Position arm properly to prevent traps."]},categoryId:"defense_escape",subcategoryId:"positional_escape",specificCategoryId:"side_control_escape",tabIds:["beginner","escaping"]},_Oe={name_es:"Puente y Roll",name_en:"Bridge and Roll",indexNewNode:230,videoid:"1MQCPE95NMjFsjmYH_kq3qv1mly2Rg-f3",nodeSource:228,end:"377",descrip_es:{summary:"Conecta las manos bajas en la cadera, acerca tus caderas a las del oponente, puentea hacia atrs y desplaza la cadera para levantar al oponente, lleva las piernas bajo su peso, ajusta el ngulo de la cabeza, mantn base con las piernas, thread the needle si te quedas atascado, completa el roll hacia un control lateral superior.",points:["Conecta manos bajas en la cadera.","Acerque caderas a las del oponente.","Puentea hacia atrs y desplaza caderas para levantarlo.","Lleva las piernas bajo el peso del oponente.","Ajusta el ngulo de la cabeza y mantn base con las piernas.","Thread the needle si hay resistencia y completa el roll."]},descrip_en:{summary:"Connect hands low on hips, bring hips close to opponent, bridge back and shift hips to lift opponent, thread legs under their weight, adjust head angle, maintain leg base, thread the needle if stuck, complete roll to superior side control.",points:["Connect hands low on hips.","Bring hips close to opponent.","Bridge back and shift hips to lift opponent.","Thread legs under opponent's weight.","Adjust head angle and maintain leg base.","Thread the needle if stuck and complete roll."]},categoryId:"defense_escape",subcategoryId:"positional_escape",specificCategoryId:"side_control_escape",tabIds:["beginner","escaping","gi"]},bOe={name_es:"Inclinar y Elevar",name_en:"Tilt Up",indexNewNode:231,videoid:"1B4wdI-W4VgTg0YszjegojWCj2UUdudVJ",nodeSource:228,end:"152",descrip_es:{summary:"Camina tus pies hacia atrs para retirar la base del oponente, libera el codo, inclina su peso hacia atrs, ajusta las caderas y utiliza la cabeza como apoyo, enmarca su cabeza si es necesario y pasa la pierna sobre ella, libera el brazo o sube a una posicin superior, controla la inclinacin para dificultar que el oponente recupere la posicin.",points:["Camina pies hacia atrs para retirar base del oponente.","Libera el codo y ajusta caderas.","Inclina el peso del oponente hacia atrs.","Usa cabeza como apoyo y enmarca si es necesario.","Paso la pierna sobre la cabeza si es posible.","Libera brazo o sube a posicin superior."]},descrip_en:{summary:"Walk feet back to remove opponent's base, free the elbow, tilt opponent backwards, adjust hips and use head for support, frame their head if needed, step leg over their head, free the arm or move to superior position, control tilt to prevent opponent from recovering.",points:["Walk feet back to remove opponent's base.","Free elbow and adjust hips.","Tilt opponent backwards.","Use head for support and frame if needed.","Step leg over opponent's head if possible.","Free arm or move to superior position."]},categoryId:"defense_escape",subcategoryId:"positional_escape",specificCategoryId:"side_control_escape",tabIds:["beginner","escaping"]},xOe={name_es:"Balanceo y Liberacin",name_en:"Swing and Free",indexNewNode:232,videoid:"1_k42An-kGJ1X4Wdk6LXzvr9IA22of3Z8",nodeSource:228,end:"238",descrip_es:{summary:"Genera impulso con las piernas para girar el cuerpo y colocar el torso boca abajo, enmarca el brazo con la mano trasera, endereza y libera el codo, ajusta el marco sobre la cadera del oponente, pivota y retira el codo, bloquea el brazo firmemente contra las caderas, busca el gancho y avanza para tomar la espalda.",points:["Genera impulso con las piernas y gira el torso boca abajo.","Enmarca el brazo con la mano trasera y endereza el codo.","Pivota y retira el codo ajustando sobre la cadera del oponente.","Bloquea brazo firmemente contra las caderas.","Busca el gancho y avanza para tomar la espalda."]},descrip_en:{summary:"Generate rotational power with legs to turn torso belly down, frame the arm with the back hand, straighten and free the elbow, adjust frame over opponent's hip, pivot and retract elbow, lock the arm firmly into hips, secure hook and advance to take the back.",points:["Generate rotational power with legs and turn torso belly down.","Frame arm with back hand and straighten elbow.","Pivot and retract elbow adjusting over opponent's hip.","Lock arm firmly into hips.","Secure hook and advance to take the back."]},categoryId:"defense_escape",subcategoryId:"positional_escape",specificCategoryId:"side_control_escape",tabIds:["beginner","escaping"]},SOe={name_es:"Resumen de Escapes y Puente",name_en:"Summary of Escapes and Bridge",indexNewNode:233,videoid:"1bnQ_9WGj_uwDMGaWofPfZ2abWSDgaczb",nodeSource:[229,230,231,232],end:"149",descrip_es:{summary:"Conecta manos bajas en caderas, acerca el torso, cierra el espacio sobre las piernas, desplzate bajo el oponente, realiza puente y gancho segn su peso, libera el brazo y el codo, enmarca delante de la cabeza, balancea caderas y piernas para liberar codo, coloca el brazo frente a la cadera y avanza hacia la espalda.",points:["Conecta manos bajas y ajusta torso al oponente.","Cierra espacio sobre piernas y desplzate bajo el oponente.","Realiza puente y toma gancho segn peso del oponente.","Libera brazo y codo y enmarca delante de la cabeza.","Balancea caderas y piernas para liberar codo y avanzar hacia la espalda."]},descrip_en:{summary:"Connect hands low on hips, tighten torso, close gap on legs, scoot under opponent, bridge and hook depending on weight, free arm and elbow, frame in front of head, pendulum hips and legs to free elbow, place arm in front of hip and advance to the back.",points:["Connect hands low and tighten torso.","Close gap on legs and scoot under opponent.","Bridge and hook depending on opponent's weight.","Free arm and elbow and frame in front of head.","Pendulum hips and legs to free elbow and advance to back."]},categoryId:"defense_escape",subcategoryId:"positional_escape",specificCategoryId:"side_control_escape",tabIds:["beginner","escaping"]},EOe={name_es:"Control Cruzado de Lado",name_en:"Cross Body Side Control",indexNewNode:234,videoid:"1lniGdz0zLw-T3XMIGV_y4YRChIIsPM0I",nodeSource:220,end:"87",descrip_es:{summary:"Reconoce cuando el oponente cruza el brazo sobre tu cuerpo, identifica la base cambiada, controla su brazo cercano, bloquea su brazo lejano, ajusta la base para consolidar la posicin, previene aperturas hacia monta o north-south, y usa el brazo superior para controlar y mantener la posicin.",points:["Reconoce brazo cruzado del oponente y base cambiada.","Controla brazo cercano y bloquea brazo lejano.","Ajusta base para consolidar posicin.","Previene aperturas hacia monta o north-south.","Usa brazo superior para controlar y mantener la posicin."]},descrip_en:{summary:"Recognize when opponent crosses arm over your body, identify their switched base, control near arm, block far arm, adjust base to consolidate position, prevent openings to mount or north-south, and use top arm to control and maintain position.",points:["Recognize crossed arm and switched base.","Control near arm and block far arm.","Adjust base to consolidate position.","Prevent openings to mount or north-south.","Use top arm to control and maintain position."]},categoryId:"control",subcategoryId:"side_control_classic",specificCategoryId:"side_control_classic",tabIds:["beginner","positional","control","gi"]},TOe={name_es:"Control Alto vs Bajo Cruzado",name_en:"High vs Low Cross Body Control",indexNewNode:235,videoid:"1MHTI4c45MTxaG9uNckpKO8eRI2HeXine",nodeSource:234,end:"139",descrip_es:{summary:"Identifica si el oponente est alto o bajo, ajusta tus brazos para bloquear aperturas hacia la monta, utiliza las piernas y los codos para cerrar espacios, realiza movimientos de hombros para desplazarlo hacia abajo, asegura consolidacin de la posicin y protege los codos contra ataques del oponente.",points:["Identifica altura del oponente y posicin de sus brazos.","Bloquea aperturas hacia la monta con brazos y piernas.","Cierra espacios entre brazos y piernas.","Realiza movimientos de hombros para desplazar al oponente.","Consolida posicin asegurando los codos junto al cuerpo."]},descrip_en:{summary:"Identify if opponent is high or low, adjust arms to block openings to mount, use legs and elbows to close spaces, shoulder walk to slide opponent down, consolidate position, and protect elbows against attacks.",points:["Identify opponent height and arm positions.","Block mount openings with arms and legs.","Close spaces between arms and legs.","Shoulder walk to slide opponent down.","Consolidate position securing elbows by sides."]},categoryId:"control",subcategoryId:"side_control_classic",specificCategoryId:"side_control_classic",tabIds:["beginner","escaping","gi"]},wOe={name_es:"Defensa Temprana Paso de Codo",name_en:"Early Defense Elbow Pass",indexNewNode:236,videoid:"1BA_3eZU3NA80JDxMXbJ4mj74TIi-EFVK",nodeSource:234,end:"26",descrip_es:{summary:"Bloquea el brazo del oponente, extiende y sintate para alejar su brazo lo mximo posible, asegurando control temprano durante intentos de cambio de base del oponente.",points:["Bloquea el brazo que intenta pasar el oponente.","Extiende y sintate para separar su brazo.","Asegura control temprano durante el intento de cambio de base."]},descrip_en:{summary:"Block opponent's arm, extend and sit up to push the arm far away, maintaining early control during switch base attempts.",points:["Block the arm attempting the pass.","Extend and sit up to separate opponent's arm.","Maintain early control during switch base attempts."]},categoryId:"defense_escape",subcategoryId:"positional_escape",specificCategoryId:"side_control_escape",tabIds:["beginner","gi","escaping"]},COe={name_es:"Levantarse y Tomar la Espalda",name_en:"Back Take Get Up",indexNewNode:237,videoid:"18us94sQUNf0260RHOtAm_SnU_gYL-6lM",nodeSource:234,end:"255",descrip_es:{summary:"Bloquea brazos bajos, realiza shoulder walk manteniendo la pierna cerca del pecho, cambia la pierna cercana por la lejana, ponte de pie inclinando el torso hacia adelante, engancha la cadera, dispara la rodilla detrs de la brecha y toma la espalda asegurando control posicional.",points:["Bloquea brazos bajos y mantn la pierna cerca del pecho.","Cambia la pierna cercana por la lejana y realiza puente girando.","Ponte de pie e inclina el torso hacia adelante manteniendo cadera y pierna alta.","Dispara la rodilla detrs de la brecha y aproxima el pecho a la espalda.","Asegura control posicional manteniendo pierna y brazo en posicin."]},descrip_en:{summary:"Block arms low, perform shoulder walk keeping leg close to chest, switch near leg to far leg, stand up leaning torso forward, engage hip, shoot knee behind gap, and take the back maintaining positional control.",points:["Block arms low and keep leg close to chest.","Switch near leg to far leg and bridge while turning.","Stand up leaning torso forward keeping hip and leg high.","Shoot knee behind the gap and bring chest to the back.","Maintain positional control with leg and arm placement."]},categoryId:"defense_escape",subcategoryId:"positional_escape",specificCategoryId:"side_control_escape",tabIds:["beginner","escaping"]};function AOe(){const n=cn(i=>i.isConfigWindowActive),e=cn(i=>i.systemBjjSelectedNodes),{i18n:t}=My();return H.useEffect(()=>{const i=localStorage.getItem(Yi.languageUser)??Yi.languageDefault;t.changeLanguage(i),cn.setState({languageGlobal:i})},[n]),H.useEffect(()=>{localStorage.setItem(Yi.dagModeCache,Yi.dagMode),localStorage.setItem(Yi.dagLevelDistanceCache,String(Yi.dagLevelDistance))},[e]),Z.jsxs(AK,{children:[Z.jsx(N3,{path:vA.root,element:Z.jsx(iOe,{})}),Z.jsx(N3,{path:vA.test,element:Z.jsx(aOe,{})})]})}const wn=n=>typeof n=="string",V1=()=>{let n,e;const t=new Promise((i,r)=>{n=i,e=r});return t.resolve=n,t.reject=e,t},sV=n=>n==null?"":""+n,MOe=(n,e,t)=>{n.forEach(i=>{e[i]&&(t[i]=e[i])})},ROe=/###/g,aV=n=>n&&n.indexOf("###")>-1?n.replace(ROe,"."):n,oV=n=>!n||wn(n),Lx=(n,e,t)=>{const i=wn(e)?e.split("."):e;let r=0;for(;r<i.length-1;){if(oV(n))return{};const s=aV(i[r]);!n[s]&&t&&(n[s]=new t),Object.prototype.hasOwnProperty.call(n,s)?n=n[s]:n={},++r}return oV(n)?{}:{obj:n,k:aV(i[r])}},lV=(n,e,t)=>{const{obj:i,k:r}=Lx(n,e,Object);if(i!==void 0||e.length===1){i[r]=t;return}let s=e[e.length-1],a=e.slice(0,e.length-1),o=Lx(n,a,Object);for(;o.obj===void 0&&a.length;)s=`${a[a.length-1]}.${s}`,a=a.slice(0,a.length-1),o=Lx(n,a,Object),o?.obj&&typeof o.obj[`${o.k}.${s}`]<"u"&&(o.obj=void 0);o.obj[`${o.k}.${s}`]=t},OOe=(n,e,t,i)=>{const{obj:r,k:s}=Lx(n,e,Object);r[s]=r[s]||[],r[s].push(t)},IA=(n,e)=>{const{obj:t,k:i}=Lx(n,e);if(t&&Object.prototype.hasOwnProperty.call(t,i))return t[i]},IOe=(n,e,t)=>{const i=IA(n,t);return i!==void 0?i:IA(e,t)},MX=(n,e,t)=>{for(const i in e)i!=="__proto__"&&i!=="constructor"&&(i in n?wn(n[i])||n[i]instanceof String||wn(e[i])||e[i]instanceof String?t&&(n[i]=e[i]):MX(n[i],e[i],t):n[i]=e[i]);return n},u0=n=>n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var POe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const DOe=n=>wn(n)?n.replace(/[&<>"'\/]/g,e=>POe[e]):n;class NOe{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const i=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,i),this.regExpQueue.push(e),i}}const LOe=[" ",",","?","!",";"],UOe=new NOe(20),kOe=(n,e,t)=>{e=e||"",t=t||"";const i=LOe.filter(a=>e.indexOf(a)<0&&t.indexOf(a)<0);if(i.length===0)return!0;const r=UOe.getRegExp(`(${i.map(a=>a==="?"?"\\?":a).join("|")})`);let s=!r.test(n);if(!s){const a=n.indexOf(t);a>0&&!r.test(n.substring(0,a))&&(s=!0)}return s},zD=(n,e,t=".")=>{if(!n)return;if(n[e])return Object.prototype.hasOwnProperty.call(n,e)?n[e]:void 0;const i=e.split(t);let r=n;for(let s=0;s<i.length;){if(!r||typeof r!="object")return;let a,o="";for(let l=s;l<i.length;++l)if(l!==s&&(o+=t),o+=i[l],a=r[o],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&l<i.length-1)continue;s+=l-s+1;break}r=a}return r},wS=n=>n?.replace("_","-"),zOe={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,e){console?.[n]?.apply?.(console,e)}};class PA{constructor(e,t={}){this.init(e,t)}init(e,t={}){this.prefix=t.prefix||"i18next:",this.logger=e||zOe,this.options=t,this.debug=t.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,i,r){return r&&!this.debug?null:(wn(e[0])&&(e[0]=`${i}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new PA(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new PA(this.logger,e)}}var Eh=new PA;class _R{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(i=>{this.observers[i]||(this.observers[i]=new Map);const r=this.observers[i].get(t)||0;this.observers[i].set(t,r+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e,...t){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([r,s])=>{for(let a=0;a<s;a++)r(...t)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([r,s])=>{for(let a=0;a<s;a++)r.apply(r,[e,...t])})}}class cV extends _R{constructor(e,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,i,r={}){const s=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,a=r.ignoreJSONStructure!==void 0?r.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;e.indexOf(".")>-1?o=e.split("."):(o=[e,t],i&&(Array.isArray(i)?o.push(...i):wn(i)&&s?o.push(...i.split(s)):o.push(i)));const l=IA(this.data,o);return!l&&!t&&!i&&e.indexOf(".")>-1&&(e=o[0],t=o[1],i=o.slice(2).join(".")),l||!a||!wn(i)?l:zD(this.data?.[e]?.[t],i,s)}addResource(e,t,i,r,s={silent:!1}){const a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let o=[e,t];i&&(o=o.concat(a?i.split(a):i)),e.indexOf(".")>-1&&(o=e.split("."),r=t,t=o[1]),this.addNamespaces(t),lV(this.data,o,r),s.silent||this.emit("added",e,t,i,r)}addResources(e,t,i,r={silent:!1}){for(const s in i)(wn(i[s])||Array.isArray(i[s]))&&this.addResource(e,t,s,i[s],{silent:!0});r.silent||this.emit("added",e,t,i)}addResourceBundle(e,t,i,r,s,a={silent:!1,skipCopy:!1}){let o=[e,t];e.indexOf(".")>-1&&(o=e.split("."),r=i,i=t,t=o[1]),this.addNamespaces(t);let l=IA(this.data,o)||{};a.skipCopy||(i=JSON.parse(JSON.stringify(i))),r?MX(l,i,s):l={...l,...i},lV(this.data,o,l),a.silent||this.emit("added",e,t,i)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(r=>t[r]&&Object.keys(t[r]).length>0)}toJSON(){return this.data}}var RX={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,e,t,i,r){return n.forEach(s=>{e=this.processors[s]?.process(e,t,i,r)??e}),e}};const OX=Symbol("i18next/PATH_KEY");function BOe(){const n=[],e=Object.create(null);let t;return e.get=(i,r)=>(t?.revoke?.(),r===OX?n:(n.push(r),t=Proxy.revocable(i,e),t.proxy)),Proxy.revocable(Object.create(null),e).proxy}function BD(n,e){const{[OX]:t}=n(BOe());return t.join(e?.keySeparator??".")}const uV={},O3=n=>!wn(n)&&typeof n!="boolean"&&typeof n!="number";class DA extends _R{constructor(e,t={}){super(),MOe(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Eh.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){const i={...t};if(e==null)return!1;const r=this.resolve(e,i);if(r?.res===void 0)return!1;const s=O3(r.res);return!(i.returnObjects===!1&&s)}extractFromKey(e,t){let i=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;i===void 0&&(i=":");const r=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let s=t.ns||this.options.defaultNS||[];const a=i&&e.indexOf(i)>-1,o=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!kOe(e,i,r);if(a&&!o){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:wn(s)?[s]:s};const u=e.split(i);(i!==r||i===r&&this.options.ns.indexOf(u[0])>-1)&&(s=u.shift()),e=u.join(r)}return{key:e,namespaces:wn(s)?[s]:s}}translate(e,t,i){let r=typeof t=="object"?{...t}:t;if(typeof r!="object"&&this.options.overloadTranslationOptionHandler&&(r=this.options.overloadTranslationOptionHandler(arguments)),typeof r=="object"&&(r={...r}),r||(r={}),e==null)return"";typeof e=="function"&&(e=BD(e,{...this.options,...r})),Array.isArray(e)||(e=[String(e)]);const s=r.returnDetails!==void 0?r.returnDetails:this.options.returnDetails,a=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,{key:o,namespaces:l}=this.extractFromKey(e[e.length-1],r),u=l[l.length-1];let d=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;d===void 0&&(d=":");const p=r.lng||this.language,y=r.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(p?.toLowerCase()==="cimode")return y?s?{res:`${u}${d}${o}`,usedKey:o,exactUsedKey:o,usedLng:p,usedNS:u,usedParams:this.getUsedParamsDetails(r)}:`${u}${d}${o}`:s?{res:o,usedKey:o,exactUsedKey:o,usedLng:p,usedNS:u,usedParams:this.getUsedParamsDetails(r)}:o;const v=this.resolve(e,r);let _=v?.res;const S=v?.usedKey||o,E=v?.exactUsedKey||o,b=["[object Number]","[object Function]","[object RegExp]"],w=r.joinArrays!==void 0?r.joinArrays:this.options.joinArrays,A=!this.i18nFormat||this.i18nFormat.handleAsObject,C=r.count!==void 0&&!wn(r.count),D=DA.hasDefaultValue(r),N=C?this.pluralResolver.getSuffix(p,r.count,r):"",I=r.ordinal&&C?this.pluralResolver.getSuffix(p,r.count,{ordinal:!1}):"",L=C&&!r.ordinal&&r.count===0,P=L&&r[`defaultValue${this.options.pluralSeparator}zero`]||r[`defaultValue${N}`]||r[`defaultValue${I}`]||r.defaultValue;let U=_;A&&!_&&D&&(U=P);const F=O3(U),z=Object.prototype.toString.apply(U);if(A&&U&&F&&b.indexOf(z)<0&&!(wn(w)&&Array.isArray(U))){if(!r.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const V=this.options.returnedObjectHandler?this.options.returnedObjectHandler(S,U,{...r,ns:l}):`key '${o} (${this.language})' returned an object instead of string.`;return s?(v.res=V,v.usedParams=this.getUsedParamsDetails(r),v):V}if(a){const V=Array.isArray(U),Y=V?[]:{},ee=V?E:S;for(const q in U)if(Object.prototype.hasOwnProperty.call(U,q)){const $=`${ee}${a}${q}`;D&&!_?Y[q]=this.translate($,{...r,defaultValue:O3(P)?P[q]:void 0,joinArrays:!1,ns:l}):Y[q]=this.translate($,{...r,joinArrays:!1,ns:l}),Y[q]===$&&(Y[q]=U[q])}_=Y}}else if(A&&wn(w)&&Array.isArray(_))_=_.join(w),_&&(_=this.extendTranslation(_,e,r,i));else{let V=!1,Y=!1;!this.isValidLookup(_)&&D&&(V=!0,_=P),this.isValidLookup(_)||(Y=!0,_=o);const q=(r.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&Y?void 0:_,$=D&&P!==_&&this.options.updateMissing;if(Y||V||$){if(this.logger.log($?"updateKey":"missingKey",p,u,o,$?P:_),a){const K=this.resolve(o,{...r,keySeparator:!1});K&&K.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let Q=[];const se=this.languageUtils.getFallbackCodes(this.options.fallbackLng,r.lng||this.language);if(this.options.saveMissingTo==="fallback"&&se&&se[0])for(let K=0;K<se.length;K++)Q.push(se[K]);else this.options.saveMissingTo==="all"?Q=this.languageUtils.toResolveHierarchy(r.lng||this.language):Q.push(r.lng||this.language);const fe=(K,le,pe)=>{const ue=D&&pe!==_?pe:q;this.options.missingKeyHandler?this.options.missingKeyHandler(K,u,le,ue,$,r):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(K,u,le,ue,$,r),this.emit("missingKey",K,u,le,_)};this.options.saveMissing&&(this.options.saveMissingPlurals&&C?Q.forEach(K=>{const le=this.pluralResolver.getSuffixes(K,r);L&&r[`defaultValue${this.options.pluralSeparator}zero`]&&le.indexOf(`${this.options.pluralSeparator}zero`)<0&&le.push(`${this.options.pluralSeparator}zero`),le.forEach(pe=>{fe([K],o+pe,r[`defaultValue${pe}`]||P)})}):fe(Q,o,P))}_=this.extendTranslation(_,e,r,v,i),Y&&_===o&&this.options.appendNamespaceToMissingKey&&(_=`${u}${d}${o}`),(Y||V)&&this.options.parseMissingKeyHandler&&(_=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}${d}${o}`:o,V?_:void 0,r))}return s?(v.res=_,v.usedParams=this.getUsedParamsDetails(r),v):_}extendTranslation(e,t,i,r,s){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...i},i.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init({...i,interpolation:{...this.options.interpolation,...i.interpolation}});const l=wn(e)&&(i?.interpolation?.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let u;if(l){const p=e.match(this.interpolator.nestingRegexp);u=p&&p.length}let d=i.replace&&!wn(i.replace)?i.replace:i;if(this.options.interpolation.defaultVariables&&(d={...this.options.interpolation.defaultVariables,...d}),e=this.interpolator.interpolate(e,d,i.lng||this.language||r.usedLng,i),l){const p=e.match(this.interpolator.nestingRegexp),y=p&&p.length;u<y&&(i.nest=!1)}!i.lng&&r&&r.res&&(i.lng=this.language||r.usedLng),i.nest!==!1&&(e=this.interpolator.nest(e,(...p)=>s?.[0]===p[0]&&!i.context?(this.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${t[0]}`),null):this.translate(...p,t),i)),i.interpolation&&this.interpolator.reset()}const a=i.postProcess||this.options.postProcess,o=wn(a)?[a]:a;return e!=null&&o?.length&&i.applyPostProcessor!==!1&&(e=RX.handle(o,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...r,usedParams:this.getUsedParamsDetails(i)},...i}:i,this)),e}resolve(e,t={}){let i,r,s,a,o;return wn(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(i))return;const u=this.extractFromKey(l,t),d=u.key;r=d;let p=u.namespaces;this.options.fallbackNS&&(p=p.concat(this.options.fallbackNS));const y=t.count!==void 0&&!wn(t.count),v=y&&!t.ordinal&&t.count===0,_=t.context!==void 0&&(wn(t.context)||typeof t.context=="number")&&t.context!=="",S=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);p.forEach(E=>{this.isValidLookup(i)||(o=E,!uV[`${S[0]}-${E}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(o)&&(uV[`${S[0]}-${E}`]=!0,this.logger.warn(`key "${r}" for languages "${S.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),S.forEach(b=>{if(this.isValidLookup(i))return;a=b;const w=[d];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(w,d,b,E,t);else{let C;y&&(C=this.pluralResolver.getSuffix(b,t.count,t));const D=`${this.options.pluralSeparator}zero`,N=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(y&&(t.ordinal&&C.indexOf(N)===0&&w.push(d+C.replace(N,this.options.pluralSeparator)),w.push(d+C),v&&w.push(d+D)),_){const I=`${d}${this.options.contextSeparator||"_"}${t.context}`;w.push(I),y&&(t.ordinal&&C.indexOf(N)===0&&w.push(I+C.replace(N,this.options.pluralSeparator)),w.push(I+C),v&&w.push(I+D))}}let A;for(;A=w.pop();)this.isValidLookup(i)||(s=A,i=this.getResource(b,E,A,t))}))})}),{res:i,usedKey:r,exactUsedKey:s,usedLng:a,usedNS:o}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,i,r={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,t,i,r):this.resourceStore.getResource(e,t,i,r)}getUsedParamsDetails(e={}){const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],i=e.replace&&!wn(e.replace);let r=i?e.replace:e;if(i&&typeof e.count<"u"&&(r.count=e.count),this.options.interpolation.defaultVariables&&(r={...this.options.interpolation.defaultVariables,...r}),!i){r={...r};for(const s of t)delete r[s]}return r}static hasDefaultValue(e){const t="defaultValue";for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&t===i.substring(0,t.length)&&e[i]!==void 0)return!0;return!1}}class hV{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Eh.create("languageUtils")}getScriptPartFromCode(e){if(e=wS(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=wS(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(wn(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(i=>{if(t)return;const r=this.formatLanguageCode(i);(!this.options.supportedLngs||this.isSupportedCode(r))&&(t=r)}),!t&&this.options.supportedLngs&&e.forEach(i=>{if(t)return;const r=this.getScriptPartFromCode(i);if(this.isSupportedCode(r))return t=r;const s=this.getLanguagePartFromCode(i);if(this.isSupportedCode(s))return t=s;t=this.options.supportedLngs.find(a=>{if(a===s)return a;if(!(a.indexOf("-")<0&&s.indexOf("-")<0)&&(a.indexOf("-")>0&&s.indexOf("-")<0&&a.substring(0,a.indexOf("-"))===s||a.indexOf(s)===0&&s.length>1))return a})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),wn(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let i=e[t];return i||(i=e[this.getScriptPartFromCode(t)]),i||(i=e[this.formatLanguageCode(t)]),i||(i=e[this.getLanguagePartFromCode(t)]),i||(i=e.default),i||[]}toResolveHierarchy(e,t){const i=this.getFallbackCodes((t===!1?[]:t)||this.options.fallbackLng||[],e),r=[],s=a=>{a&&(this.isSupportedCode(a)?r.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return wn(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(e))):wn(e)&&s(this.formatLanguageCode(e)),i.forEach(a=>{r.indexOf(a)<0&&s(this.formatLanguageCode(a))}),r}}const dV={zero:0,one:1,two:2,few:3,many:4,other:5},fV={select:n=>n===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class FOe{constructor(e,t={}){this.languageUtils=e,this.options=t,this.logger=Eh.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e,t={}){const i=wS(e==="dev"?"en":e),r=t.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:i,type:r});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let a;try{a=new Intl.PluralRules(i,{type:r})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),fV;if(!e.match(/-|_/))return fV;const l=this.languageUtils.getLanguagePartFromCode(e);a=this.getRule(l,t)}return this.pluralRulesCache[s]=a,a}needsPlural(e,t={}){let i=this.getRule(e,t);return i||(i=this.getRule("dev",t)),i?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,t,i={}){return this.getSuffixes(e,i).map(r=>`${t}${r}`)}getSuffixes(e,t={}){let i=this.getRule(e,t);return i||(i=this.getRule("dev",t)),i?i.resolvedOptions().pluralCategories.sort((r,s)=>dV[r]-dV[s]).map(r=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${r}`):[]}getSuffix(e,t,i={}){const r=this.getRule(e,i);return r?`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${r.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,i))}}const pV=(n,e,t,i=".",r=!0)=>{let s=IOe(n,e,t);return!s&&r&&wn(t)&&(s=zD(n,t,i),s===void 0&&(s=zD(e,t,i))),s},I3=n=>n.replace(/\$/g,"$$$$");class mV{constructor(e={}){this.logger=Eh.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(t=>t),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:i,useRawValueToEscape:r,prefix:s,prefixEscaped:a,suffix:o,suffixEscaped:l,formatSeparator:u,unescapeSuffix:d,unescapePrefix:p,nestingPrefix:y,nestingPrefixEscaped:v,nestingSuffix:_,nestingSuffixEscaped:S,nestingOptionsSeparator:E,maxReplaces:b,alwaysFormat:w}=e.interpolation;this.escape=t!==void 0?t:DOe,this.escapeValue=i!==void 0?i:!0,this.useRawValueToEscape=r!==void 0?r:!1,this.prefix=s?u0(s):a||"{{",this.suffix=o?u0(o):l||"}}",this.formatSeparator=u||",",this.unescapePrefix=d?"":p||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=y?u0(y):v||u0("$t("),this.nestingSuffix=_?u0(_):S||u0(")"),this.nestingOptionsSeparator=E||",",this.maxReplaces=b||1e3,this.alwaysFormat=w!==void 0?w:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,i)=>t?.source===i?(t.lastIndex=0,t):new RegExp(i,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,t,i,r){let s,a,o;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=v=>{if(v.indexOf(this.formatSeparator)<0){const b=pV(t,l,v,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(b,void 0,i,{...r,...t,interpolationkey:v}):b}const _=v.split(this.formatSeparator),S=_.shift().trim(),E=_.join(this.formatSeparator).trim();return this.format(pV(t,l,S,this.options.keySeparator,this.options.ignoreJSONStructure),E,i,{...r,...t,interpolationkey:S})};this.resetRegExp();const d=r?.missingInterpolationHandler||this.options.missingInterpolationHandler,p=r?.interpolation?.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:v=>I3(v)},{regex:this.regexp,safeValue:v=>this.escapeValue?I3(this.escape(v)):I3(v)}].forEach(v=>{for(o=0;s=v.regex.exec(e);){const _=s[1].trim();if(a=u(_),a===void 0)if(typeof d=="function"){const E=d(e,s,r);a=wn(E)?E:""}else if(r&&Object.prototype.hasOwnProperty.call(r,_))a="";else if(p){a=s[0];continue}else this.logger.warn(`missed to pass in variable ${_} for interpolating ${e}`),a="";else!wn(a)&&!this.useRawValueToEscape&&(a=sV(a));const S=v.safeValue(a);if(e=e.replace(s[0],S),p?(v.regex.lastIndex+=a.length,v.regex.lastIndex-=s[0].length):v.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),e}nest(e,t,i={}){let r,s,a;const o=(l,u)=>{const d=this.nestingOptionsSeparator;if(l.indexOf(d)<0)return l;const p=l.split(new RegExp(`${d}[ ]*{`));let y=`{${p[1]}`;l=p[0],y=this.interpolate(y,a);const v=y.match(/'/g),_=y.match(/"/g);((v?.length??0)%2===0&&!_||_.length%2!==0)&&(y=y.replace(/'/g,'"'));try{a=JSON.parse(y),u&&(a={...u,...a})}catch(S){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,S),`${l}${d}${y}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,l};for(;r=this.nestingRegexp.exec(e);){let l=[];a={...i},a=a.replace&&!wn(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;const u=/{.*}/.test(r[1])?r[1].lastIndexOf("}")+1:r[1].indexOf(this.formatSeparator);if(u!==-1&&(l=r[1].slice(u).split(this.formatSeparator).map(d=>d.trim()).filter(Boolean),r[1]=r[1].slice(0,u)),s=t(o.call(this,r[1].trim(),a),a),s&&r[0]===e&&!wn(s))return s;wn(s)||(s=sV(s)),s||(this.logger.warn(`missed to resolve ${r[1]} for nesting ${e}`),s=""),l.length&&(s=l.reduce((d,p)=>this.format(d,p,i.lng,{...i,interpolationkey:r[1].trim()}),s.trim())),e=e.replace(r[0],s),this.regexp.lastIndex=0}return e}}const VOe=n=>{let e=n.toLowerCase().trim();const t={};if(n.indexOf("(")>-1){const i=n.split("(");e=i[0].toLowerCase().trim();const r=i[1].substring(0,i[1].length-1);e==="currency"&&r.indexOf(":")<0?t.currency||(t.currency=r.trim()):e==="relativetime"&&r.indexOf(":")<0?t.range||(t.range=r.trim()):r.split(";").forEach(a=>{if(a){const[o,...l]=a.split(":"),u=l.join(":").trim().replace(/^'+|'+$/g,""),d=o.trim();t[d]||(t[d]=u),u==="false"&&(t[d]=!1),u==="true"&&(t[d]=!0),isNaN(u)||(t[d]=parseInt(u,10))}})}return{formatName:e,formatOptions:t}},gV=n=>{const e={};return(t,i,r)=>{let s=r;r&&r.interpolationkey&&r.formatParams&&r.formatParams[r.interpolationkey]&&r[r.interpolationkey]&&(s={...s,[r.interpolationkey]:void 0});const a=i+JSON.stringify(s);let o=e[a];return o||(o=n(wS(i),r),e[a]=o),o(t)}},HOe=n=>(e,t,i)=>n(wS(t),i)(e);class jOe{constructor(e={}){this.logger=Eh.create("formatter"),this.options=e,this.init(e)}init(e,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";const i=t.cacheInBuiltFormats?gV:HOe;this.formats={number:i((r,s)=>{const a=new Intl.NumberFormat(r,{...s});return o=>a.format(o)}),currency:i((r,s)=>{const a=new Intl.NumberFormat(r,{...s,style:"currency"});return o=>a.format(o)}),datetime:i((r,s)=>{const a=new Intl.DateTimeFormat(r,{...s});return o=>a.format(o)}),relativetime:i((r,s)=>{const a=new Intl.RelativeTimeFormat(r,{...s});return o=>a.format(o,s.range||"day")}),list:i((r,s)=>{const a=new Intl.ListFormat(r,{...s});return o=>a.format(o)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=gV(t)}format(e,t,i,r={}){const s=t.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(o=>o.indexOf(")")>-1)){const o=s.findIndex(l=>l.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,o)].join(this.formatSeparator)}return s.reduce((o,l)=>{const{formatName:u,formatOptions:d}=VOe(l);if(this.formats[u]){let p=o;try{const y=r?.formatParams?.[r.interpolationkey]||{},v=y.locale||y.lng||r.locale||r.lng||i;p=this.formats[u](o,v,{...d,...r,...y})}catch(y){this.logger.warn(y)}return p}else this.logger.warn(`there was no format function for ${u}`);return o},e)}}const GOe=(n,e)=>{n.pending[e]!==void 0&&(delete n.pending[e],n.pendingCount--)};class qOe extends _R{constructor(e,t,i,r={}){super(),this.backend=e,this.store=t,this.services=i,this.languageUtils=i.languageUtils,this.options=r,this.logger=Eh.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=r.maxParallelReads||10,this.readingCalls=0,this.maxRetries=r.maxRetries>=0?r.maxRetries:5,this.retryTimeout=r.retryTimeout>=1?r.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(i,r.backend,r)}queueLoad(e,t,i,r){const s={},a={},o={},l={};return e.forEach(u=>{let d=!0;t.forEach(p=>{const y=`${u}|${p}`;!i.reload&&this.store.hasResourceBundle(u,p)?this.state[y]=2:this.state[y]<0||(this.state[y]===1?a[y]===void 0&&(a[y]=!0):(this.state[y]=1,d=!1,a[y]===void 0&&(a[y]=!0),s[y]===void 0&&(s[y]=!0),l[p]===void 0&&(l[p]=!0)))}),d||(o[u]=!0)}),(Object.keys(s).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(s),pending:Object.keys(a),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(l)}}loaded(e,t,i){const r=e.split("|"),s=r[0],a=r[1];t&&this.emit("failedLoading",s,a,t),!t&&i&&this.store.addResourceBundle(s,a,i,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&i&&(this.state[e]=0);const o={};this.queue.forEach(l=>{OOe(l.loaded,[s],a),GOe(l,e),t&&l.errors.push(t),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(u=>{o[u]||(o[u]={});const d=l.loaded[u];d.length&&d.forEach(p=>{o[u][p]===void 0&&(o[u][p]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(l=>!l.done)}read(e,t,i,r=0,s=this.retryTimeout,a){if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:i,tried:r,wait:s,callback:a});return}this.readingCalls++;const o=(u,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const p=this.waitingReads.shift();this.read(p.lng,p.ns,p.fcName,p.tried,p.wait,p.callback)}if(u&&d&&r<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,i,r+1,s*2,a)},s);return}a(u,d)},l=this.backend[i].bind(this.backend);if(l.length===2){try{const u=l(e,t);u&&typeof u.then=="function"?u.then(d=>o(null,d)).catch(o):o(null,u)}catch(u){o(u)}return}return l(e,t,o)}prepareLoading(e,t,i={},r){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();wn(e)&&(e=this.languageUtils.toResolveHierarchy(e)),wn(t)&&(t=[t]);const s=this.queueLoad(e,t,i,r);if(!s.toLoad.length)return s.pending.length||r(),null;s.toLoad.forEach(a=>{this.loadOne(a)})}load(e,t,i){this.prepareLoading(e,t,{},i)}reload(e,t,i){this.prepareLoading(e,t,{reload:!0},i)}loadOne(e,t=""){const i=e.split("|"),r=i[0],s=i[1];this.read(r,s,"read",void 0,void 0,(a,o)=>{a&&this.logger.warn(`${t}loading namespace ${s} for language ${r} failed`,a),!a&&o&&this.logger.log(`${t}loaded namespace ${s} for language ${r}`,o),this.loaded(e,a,o)})}saveMissing(e,t,i,r,s,a={},o=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${i}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(i==null||i==="")){if(this.backend?.create){const l={...a,isUpdate:s},u=this.backend.create.bind(this.backend);if(u.length<6)try{let d;u.length===5?d=u(e,t,i,r,l):d=u(e,t,i,r),d&&typeof d.then=="function"?d.then(p=>o(null,p)).catch(o):o(null,d)}catch(d){o(d)}else u(e,t,i,r,o,l)}!e||!e[0]||this.store.addResource(e[0],t,i,r)}}}const yV=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:n=>{let e={};if(typeof n[1]=="object"&&(e=n[1]),wn(n[1])&&(e.defaultValue=n[1]),wn(n[2])&&(e.tDescription=n[2]),typeof n[2]=="object"||typeof n[3]=="object"){const t=n[3]||n[2];Object.keys(t).forEach(i=>{e[i]=t[i]})}return e},interpolation:{escapeValue:!0,format:n=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),vV=n=>(wn(n.ns)&&(n.ns=[n.ns]),wn(n.fallbackLng)&&(n.fallbackLng=[n.fallbackLng]),wn(n.fallbackNS)&&(n.fallbackNS=[n.fallbackNS]),n.supportedLngs?.indexOf?.("cimode")<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),typeof n.initImmediate=="boolean"&&(n.initAsync=n.initImmediate),n),c2=()=>{},WOe=n=>{Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(t=>{typeof n[t]=="function"&&(n[t]=n[t].bind(n))})};class Ux extends _R{constructor(e={},t){if(super(),this.options=vV(e),this.services={},this.logger=Eh,this.modules={external:[]},WOe(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(e={},t){this.isInitializing=!0,typeof e=="function"&&(t=e,e={}),e.defaultNS==null&&e.ns&&(wn(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const i=yV();this.options={...i,...this.options,...vV(e)},this.options.interpolation={...i.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=i.overloadTranslationOptionHandler);const r=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?Eh.init(r(this.modules.logger),this.options):Eh.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:u=jOe;const d=new hV(this.options);this.store=new cV(this.options.resources,this.options);const p=this.services;p.logger=Eh,p.resourceStore=this.store,p.languageUtils=d,p.pluralResolver=new FOe(d,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==i.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),u&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(p.formatter=r(u),p.formatter.init&&p.formatter.init(p,this.options),this.options.interpolation.format=p.formatter.format.bind(p.formatter)),p.interpolator=new mV(this.options),p.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},p.backendConnector=new qOe(r(this.modules.backend),p.resourceStore,p,this.options),p.backendConnector.on("*",(v,..._)=>{this.emit(v,..._)}),this.modules.languageDetector&&(p.languageDetector=r(this.modules.languageDetector),p.languageDetector.init&&p.languageDetector.init(p,this.options.detection,this.options)),this.modules.i18nFormat&&(p.i18nFormat=r(this.modules.i18nFormat),p.i18nFormat.init&&p.i18nFormat.init(this)),this.translator=new DA(this.services,this.options),this.translator.on("*",(v,..._)=>{this.emit(v,..._)}),this.modules.external.forEach(v=>{v.init&&v.init(this)})}if(this.format=this.options.interpolation.format,t||(t=c2),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=(...d)=>this.store[u](...d)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=(...d)=>(this.store[u](...d),this)});const o=V1(),l=()=>{const u=(d,p)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),o.resolve(p),t(d,p)};if(this.languages&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initAsync?l():setTimeout(l,0),o}loadResources(e,t=c2){let i=t;const r=wn(e)?e:this.language;if(typeof e=="function"&&(i=e),!this.options.resources||this.options.partialBundledLanguages){if(r?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return i();const s=[],a=o=>{if(!o||o==="cimode")return;this.services.languageUtils.toResolveHierarchy(o).forEach(u=>{u!=="cimode"&&s.indexOf(u)<0&&s.push(u)})};r?a(r):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>a(l)),this.options.preload?.forEach?.(o=>a(o)),this.services.backendConnector.load(s,this.options.ns,o=>{!o&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),i(o)})}else i(null)}reloadResources(e,t,i){const r=V1();return typeof e=="function"&&(i=e,e=void 0),typeof t=="function"&&(i=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),i||(i=c2),this.services.backendConnector.reload(e,t,s=>{r.resolve(),i(s)}),r}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&RX.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let t=0;t<this.languages.length;t++){const i=this.languages[t];if(!(["cimode","dev"].indexOf(i)>-1)&&this.store.hasLanguageSomeTranslations(i)){this.resolvedLanguage=i;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){this.isLanguageChangingTo=e;const i=V1();this.emit("languageChanging",e);const r=o=>{this.language=o,this.languages=this.services.languageUtils.toResolveHierarchy(o),this.resolvedLanguage=void 0,this.setResolvedLanguage(o)},s=(o,l)=>{l?this.isLanguageChangingTo===e&&(r(l),this.translator.changeLanguage(l),this.isLanguageChangingTo=void 0,this.emit("languageChanged",l),this.logger.log("languageChanged",l)):this.isLanguageChangingTo=void 0,i.resolve((...u)=>this.t(...u)),t&&t(o,(...u)=>this.t(...u))},a=o=>{!e&&!o&&this.services.languageDetector&&(o=[]);const l=wn(o)?o:o&&o[0],u=this.store.hasLanguageSomeTranslations(l)?l:this.services.languageUtils.getBestMatchFromCodes(wn(o)?[o]:o);u&&(this.language||r(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector?.cacheUserLanguage?.(u)),this.loadResources(u,d=>{s(d,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),i}getFixedT(e,t,i){const r=(s,a,...o)=>{let l;typeof a!="object"?l=this.options.overloadTranslationOptionHandler([s,a].concat(o)):l={...a},l.lng=l.lng||r.lng,l.lngs=l.lngs||r.lngs,l.ns=l.ns||r.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||i||r.keyPrefix);const u=this.options.keySeparator||".";let d;return l.keyPrefix&&Array.isArray(s)?d=s.map(p=>(typeof p=="function"&&(p=BD(p,{...this.options,...a})),`${l.keyPrefix}${u}${p}`)):(typeof s=="function"&&(s=BD(s,{...this.options,...a})),d=l.keyPrefix?`${l.keyPrefix}${u}${s}`:s),this.t(d,l)};return wn(e)?r.lng=e:r.lngs=e,r.ns=t,r.keyPrefix=i,r}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const i=t.lng||this.resolvedLanguage||this.languages[0],r=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const a=(o,l)=>{const u=this.services.backendConnector.state[`${o}|${l}`];return u===-1||u===0||u===2};if(t.precheck){const o=t.precheck(this,a);if(o!==void 0)return o}return!!(this.hasResourceBundle(i,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(i,e)&&(!r||a(s,e)))}loadNamespaces(e,t){const i=V1();return this.options.ns?(wn(e)&&(e=[e]),e.forEach(r=>{this.options.ns.indexOf(r)<0&&this.options.ns.push(r)}),this.loadResources(r=>{i.resolve(),t&&t(r)}),i):(t&&t(),Promise.resolve())}loadLanguages(e,t){const i=V1();wn(e)&&(e=[e]);const r=this.options.preload||[],s=e.filter(a=>r.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return s.length?(this.options.preload=r.concat(s),this.loadResources(a=>{i.resolve(),t&&t(a)}),i):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const r=new Intl.Locale(e);if(r&&r.getTextInfo){const s=r.getTextInfo();if(s&&s.direction)return s.direction}}catch{}const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],i=this.services?.languageUtils||new hV(yV());return e.toLowerCase().indexOf("-latn")>1?"ltr":t.indexOf(i.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},t){const i=new Ux(e,t);return i.createInstance=Ux.createInstance,i}cloneInstance(e={},t=c2){const i=e.forkResourceStore;i&&delete e.forkResourceStore;const r={...this.options,...e,isClone:!0},s=new Ux(r);if((e.debug!==void 0||e.prefix!==void 0)&&(s.logger=s.logger.clone(e)),["store","services","language"].forEach(o=>{s[o]=this[o]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},i){const o=Object.keys(this.store.data).reduce((l,u)=>(l[u]={...this.store.data[u]},l[u]=Object.keys(l[u]).reduce((d,p)=>(d[p]={...l[u][p]},d),l[u]),l),{});s.store=new cV(o,r),s.services.resourceStore=s.store}return e.interpolation&&(s.services.interpolator=new mV(r)),s.translator=new DA(s.services,r),s.translator.on("*",(o,...l)=>{s.emit(o,...l)}),s.init(r,t),s.translator.options=r,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Uo=Ux.createInstance();Uo.createInstance;Uo.dir;Uo.init;Uo.loadResources;Uo.reloadResources;Uo.use;Uo.changeLanguage;Uo.getFixedT;Uo.t;Uo.exists;Uo.setDefaultNamespace;Uo.hasLoadedNamespace;Uo.loadNamespaces;Uo.loadLanguages;const $Oe={app:{closed:"Session closed",login:"Session started",collapsedNodes:"Collapse Nodes",expandNodes:"Expand Nodes"},accountMenu:{title:"User Menu",triggerAlert:"Session closed",optionsMenu:{login:"Log in",addNode:"Add Node",configuration:"Settings",logOut:"Log out"}},configWindow:{title:"Settings","language.label":"Language","language.description":"Select the preferred application language.",es:"Spanish",en:"English",dagMode:"Hierarchy layout direction","dagMode.description":"Determines how nodes are positioned based on their hierarchy.","dagMode.td":"Top  Down","dagMode.bu":"Bottom  Up","dagMode.lr":"Left  Right","dagMode.rl":"Right  Left","dagMode.radialout":"Radial Outward","dagMode.radialin":"Radial Inward","dagMode.none":"No hierarchy",dagLevelDistance:"Level separation","dagLevelDistance.description":"Sets the spacing between each hierarchical level in the graph(0 - 100).",buttonClose:"Close and Save"},buttonAddNode:{title:"Add Nodes"},navigationgestures:{touch:{title:"Use touch gestures to navigate the scene",text1:"Swipe with one finger: Orbit",text2:"Swipe with two fingers: Pan view",text3:"Pinch with two fingers: Zoom in/out"},desk:{title:"Use the mouse to navigate the scene",text1:"Left click + drag: Orbit",text2:"Right click + drag: Pan view",text3:"Mouse wheel (scroll): Zoom in/out"},checkBoxLabel:"Do not show this again",buttonClose:"Close"},loginUser:{title:"Login to your account",loginGoogle:"Log in with Google"},addNode:{addNodeWindow:{textRequired1:"The name must be at least 4 characters long",textRequired2:"The name is required",textRequired3:"The group is required",textRequired4:"The origin node is required"},stepper:{back:"Back",previous:"Previous",skip:"Skip",optional:"Optional",next:"Next",reset:"Reset",finish:"Finish",step1:"You are creating a new node",step2:"Connect the node",step3:"Upload a resource to the node",step4:"step 4",step5:"step 5"},tabGround:{loadingData:"Loading data...",selecCategory:"Select a category",notItems:"No techniques available"},step1:{step1Title:"Create a new connection",formLabel:"Node name",toolTipInfo:"Write the name in Spanish, followed by the name in English, separated by a comma. E.g.: Guardia cerrada, Closed guard"},step2:{step2Title:"Group for the new node",formLabel:"Groups",toolTipInfo:"Select the group to which this new node will belong"},step3:{title:"Search YouTube Video",subText1:"Search",subText2:"views - ago"},step4:{title:"Connect the new node"},stepFinal:{text1:"Node Summary",text2:"Index",text3:"Name",text4:"Position",text5:"Origin Node",text6:"Upload date"}},nodeView:{title:"Video Player",subTitle:"View and analyze the video content below.",brandTitle:"Timestamp Controls",brandSubTitle:"Define the start and end points for specific video segments.",timeBrand:"Select video timestamps:",timeBrandPreview:"Select preview timestamps:",timeBrandInit:"Start:",timeBrandEnd:"End:",timeBrandAll:"Use full video"},nodeConnectionViewer:{ArrowBackToolTip:"Go Back",ArrowForwardToolTip:"Go Forward",groupEmpty:"Unassigned Group",node:"Node",sourceLinksLabel:"This node has no outgoing connections.",targetLinksLabel:"This node has no incoming connections.",sourceLabel:"Outgoing Connections",targetLabel:"Incoming Connections",descriptionLabel:"Description"}},XOe={categories:{groupTitle:"Categories",subGroupTitle:"No category selected"}},YOe={components:$Oe,pages:XOe},KOe={app:{closed:"Sesin  cerrada",login:"Sesin  iniciada",collapsedNodes:"Colapsar Nodos",expandNodes:"Expandir Nodos"},accountMenu:{title:"Men Usuario",triggerAlert:"Sesin Cerrada",optionsMenu:{login:"Iniciar sesin",addNode:"Agregar Nodo",configuration:"Configuracin",logOut:"Cerrar sesin"}},configWindow:{title:"Configuracin","language.label":"Idioma","language.description":"Selecciona el idioma preferido de la aplicacin.",es:"Espaol",en:"Ingls",dagMode:"Direccin del layout jerrquico","dagMode.description":"Determina cmo se disponen los nodos en el espacio segn su jerarqua.","dagMode.td":"Arriba  Abajo","dagMode.bu":"Abajo  Arriba","dagMode.lr":"Izquierda  Derecha","dagMode.rl":"Derecha  Izquierda","dagMode.radialout":"Radial  Hacia afuera","dagMode.radialin":"Radial  Hacia adentro","dagMode.none":"Sin jerarqua",dagLevelDistance:"Separacin entre niveles","dagLevelDistance.description":"Define la distancia entre cada nivel jerrquico en el grafo(0 - 100).",buttonClose:"Cerrar y Guardar"},buttonAddNode:{title:"Agregar Nodos"},navigationgestures:{touch:{title:"Usa gestos tctiles para navegar la escena",text1:"Deslizar con un dedo: Orbitar",text2:"Deslizar con dos dedos: Desplazar vista",text3:"Pellizcar con dos dedos Acercar/Alejar (Zoom)"},desk:{title:"Usa el mouse para navegar la escena",text1:"Clic izquierdo + arrastrar: Orbitar",text2:"Clic derecho + arrastrar: Desplazar vista",text3:"Rueda del mouse (scroll): Acercar/Alejar"},checkBoxLabel:"No volver a mostrar esto",buttonClose:"Cerrar"},loginUser:{title:"Inicia sesin en tu cuenta",loginGoogle:"Iniciar sesin con Google"},addNode:{addNodeWindow:{textRequired1:"El nombre debe tener al menos 4 caracteres",textRequired2:"El nombre es obligatorio",textRequired3:"El grupo es obligatorio",textRequired4:"El nodo origen es obligatorio"},stepper:{back:"Volver",previous:"Retroceder",skip:"Saltar",optional:"Opcional",next:"Siguiente",reset:"Reset",finish:"Finalizar",step1:"Ests creando un nuevo nodo",step2:"Conecta el nodo",step3:"Carga un recurso al nodo",step4:"paso 4",step5:"paso 5"},tabGround:{loadingData:"Cargando datos...",selecCategory:"Selecciona una categora.",notItems:"No hay tcnicas disponibles"},step1:{step1Title:"Crea una nueva conexin",formLabel:"Nombre del nodo",toolTipInfo:"Escribe el nombre en espaol, seguido del nombre en ingls, separados por una coma. Ej: Guardia cerrada, Closed guard"},step2:{step2Title:"Grupo para el nuevo nodo",formLabel:"Grupos",toolTipInfo:"Selecciona el grupo al que pertenecer este nuevo nodo"},step3:{title:"Buscar Video en YouTube",subText1:"Buscar",subText2:"vistas - hace"},step4:{title:"Conecta el nuevo nodo"},stepFinal:{text1:"Resumen del Nodo",text2:"ndice",text3:"Nombre",text4:"Posicin",text5:"Nodo Origen",text6:"Fecha de subida"}},nodeView:{title:"Reproductor de Video",subTitle:"Visualice y analice el contenido del video a continuacin.",brandTitle:"Controles de Marcas de Tiempo",brandSubTitle:"Defina los puntos de inicio y fin para segmentos especficos del video.",timeBrand:"Seleccionar marcas de tiempo del video:",timeBrandPreview:"Seleccionar marcas de tiempo del preview: ",timeBrandInit:"Inicio: ",timeBrandEnd:"Final: ",timeBrandAll:"Usar video completo"},nodeConnectionViewer:{ArrowBackToolTip:"Retroceder",ArrowForwardToolTip:"Avanzar",groupEmpty:"Grupo no asignado",node:"Nodo",sourceLinksLabel:"Este nodo no tiene conexiones salientes.",targetLinksLabel:"Este nodo no tiene conexiones entrantes.",sourceLabel:"Conexiones salientes",targetLabel:"Conexiones entrantes",descriptionLabel:"Descripcin"}},ZOe={categories:{groupTitle:"Categorias",subGroupTitle:"No hay categora seleccionada"}},QOe={components:KOe,pages:ZOe},JOe={en:{translation:YOe},es:{translation:QOe}};Uo.use(Twe).init({resources:JOe,fallbackLng:Yi.languageDefault,debug:!1,interpolation:{escapeValue:!1}});OY.createRoot(document.getElementById("root")).render(Z.jsx(H.StrictMode,{children:Z.jsx(iQ,{domain:void 0,clientId:void 0,authorizationParams:{redirect_uri:window.location.origin},cacheLocation:"localstorage",useRefreshTokens:!0,children:Z.jsx(ZK,{basename:"/",children:Z.jsx(AOe,{})})})}));
