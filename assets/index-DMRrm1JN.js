var XX=Object.defineProperty;var YX=(n,e,t)=>e in n?XX(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Ct=(n,e,t)=>YX(n,typeof e!="symbol"?e+"":e,t);function KX(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function Qp(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var kR={exports:{}},Xb={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fU;function ZX(){if(fU)return Xb;fU=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,s){var a=null;if(s!==void 0&&(a=""+s),r.key!==void 0&&(a=""+r.key),"key"in r){s={};for(var o in r)o!=="key"&&(s[o]=r[o])}else s=r;return r=s.ref,{$$typeof:n,type:i,key:a,ref:r!==void 0?r:null,props:s}}return Xb.Fragment=e,Xb.jsx=t,Xb.jsxs=t,Xb}var hU;function QX(){return hU||(hU=1,kR.exports=ZX()),kR.exports}var Z=QX(),zR={exports:{}},An={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dU;function JX(){if(dU)return An;dU=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),y=Symbol.iterator;function v(Y){return Y===null||typeof Y!="object"?null:(Y=y&&Y[y]||Y["@@iterator"],typeof Y=="function"?Y:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,E={};function S(Y,le,de){this.props=Y,this.context=le,this.refs=E,this.updater=de||_}S.prototype.isReactComponent={},S.prototype.setState=function(Y,le){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,le,"setState")},S.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function w(){}w.prototype=S.prototype;function C(Y,le,de){this.props=Y,this.context=le,this.refs=E,this.updater=de||_}var A=C.prototype=new w;A.constructor=C,x(A,S.prototype),A.isPureReactComponent=!0;var N=Array.isArray;function L(){}var I={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function P(Y,le,de){var ue=de.ref;return{$$typeof:n,type:Y,key:le,ref:ue!==void 0?ue:null,props:de}}function U(Y,le){return P(Y.type,le,Y.props)}function F(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===n}function z(Y){var le={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(de){return le[de]})}var V=/\/+/g;function K(Y,le){return typeof Y=="object"&&Y!==null&&Y.key!=null?z(""+Y.key):le.toString(36)}function J(Y){switch(Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason;default:switch(typeof Y.status=="string"?Y.then(L,L):(Y.status="pending",Y.then(function(le){Y.status==="pending"&&(Y.status="fulfilled",Y.value=le)},function(le){Y.status==="pending"&&(Y.status="rejected",Y.reason=le)})),Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason}}throw Y}function q(Y,le,de,ue,ne){var he=typeof Y;(he==="undefined"||he==="boolean")&&(Y=null);var me=!1;if(Y===null)me=!0;else switch(he){case"bigint":case"string":case"number":me=!0;break;case"object":switch(Y.$$typeof){case n:case e:me=!0;break;case h:return me=Y._init,q(me(Y._payload),le,de,ue,ne)}}if(me)return ne=ne(Y),me=ue===""?"."+K(Y,0):ue,N(ne)?(de="",me!=null&&(de=me.replace(V,"$&/")+"/"),q(ne,le,de,"",function(je){return je})):ne!=null&&(F(ne)&&(ne=U(ne,de+(ne.key==null||Y&&Y.key===ne.key?"":(""+ne.key).replace(V,"$&/")+"/")+me)),le.push(ne)),1;me=0;var Le=ue===""?".":ue+":";if(N(Y))for(var Ye=0;Ye<Y.length;Ye++)ue=Y[Ye],he=Le+K(ue,Ye),me+=q(ue,le,de,he,ne);else if(Ye=v(Y),typeof Ye=="function")for(Y=Ye.call(Y),Ye=0;!(ue=Y.next()).done;)ue=ue.value,he=Le+K(ue,Ye++),me+=q(ue,le,de,he,ne);else if(he==="object"){if(typeof Y.then=="function")return q(J(Y),le,de,ue,ne);throw le=String(Y),Error("Objects are not valid as a React child (found: "+(le==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":le)+"). If you meant to render a collection of children, use an array instead.")}return me}function W(Y,le,de){if(Y==null)return Y;var ue=[],ne=0;return q(Y,ue,"","",function(he){return le.call(de,he,ne++)}),ue}function Q(Y){if(Y._status===-1){var le=Y._result;le=le(),le.then(function(de){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=de)},function(de){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=de)}),Y._status===-1&&(Y._status=0,Y._result=le)}if(Y._status===1)return Y._result.default;throw Y._result}var re=typeof reportError=="function"?reportError:function(Y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var le=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y=="object"&&Y!==null&&typeof Y.message=="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent(le))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Y);return}console.error(Y)},pe={map:W,forEach:function(Y,le,de){W(Y,function(){le.apply(this,arguments)},de)},count:function(Y){var le=0;return W(Y,function(){le++}),le},toArray:function(Y){return W(Y,function(le){return le})||[]},only:function(Y){if(!F(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}};return An.Activity=p,An.Children=pe,An.Component=S,An.Fragment=t,An.Profiler=r,An.PureComponent=C,An.StrictMode=i,An.Suspense=l,An.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,An.__COMPILER_RUNTIME={__proto__:null,c:function(Y){return I.H.useMemoCache(Y)}},An.cache=function(Y){return function(){return Y.apply(null,arguments)}},An.cacheSignal=function(){return null},An.cloneElement=function(Y,le,de){if(Y==null)throw Error("The argument must be a React element, but you passed "+Y+".");var ue=x({},Y.props),ne=Y.key;if(le!=null)for(he in le.key!==void 0&&(ne=""+le.key),le)!D.call(le,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&le.ref===void 0||(ue[he]=le[he]);var he=arguments.length-2;if(he===1)ue.children=de;else if(1<he){for(var me=Array(he),Le=0;Le<he;Le++)me[Le]=arguments[Le+2];ue.children=me}return P(Y.type,ne,ue)},An.createContext=function(Y){return Y={$$typeof:a,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null},Y.Provider=Y,Y.Consumer={$$typeof:s,_context:Y},Y},An.createElement=function(Y,le,de){var ue,ne={},he=null;if(le!=null)for(ue in le.key!==void 0&&(he=""+le.key),le)D.call(le,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(ne[ue]=le[ue]);var me=arguments.length-2;if(me===1)ne.children=de;else if(1<me){for(var Le=Array(me),Ye=0;Ye<me;Ye++)Le[Ye]=arguments[Ye+2];ne.children=Le}if(Y&&Y.defaultProps)for(ue in me=Y.defaultProps,me)ne[ue]===void 0&&(ne[ue]=me[ue]);return P(Y,he,ne)},An.createRef=function(){return{current:null}},An.forwardRef=function(Y){return{$$typeof:o,render:Y}},An.isValidElement=F,An.lazy=function(Y){return{$$typeof:h,_payload:{_status:-1,_result:Y},_init:Q}},An.memo=function(Y,le){return{$$typeof:u,type:Y,compare:le===void 0?null:le}},An.startTransition=function(Y){var le=I.T,de={};I.T=de;try{var ue=Y(),ne=I.S;ne!==null&&ne(de,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(L,re)}catch(he){re(he)}finally{le!==null&&de.types!==null&&(le.types=de.types),I.T=le}},An.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},An.use=function(Y){return I.H.use(Y)},An.useActionState=function(Y,le,de){return I.H.useActionState(Y,le,de)},An.useCallback=function(Y,le){return I.H.useCallback(Y,le)},An.useContext=function(Y){return I.H.useContext(Y)},An.useDebugValue=function(){},An.useDeferredValue=function(Y,le){return I.H.useDeferredValue(Y,le)},An.useEffect=function(Y,le){return I.H.useEffect(Y,le)},An.useEffectEvent=function(Y){return I.H.useEffectEvent(Y)},An.useId=function(){return I.H.useId()},An.useImperativeHandle=function(Y,le,de){return I.H.useImperativeHandle(Y,le,de)},An.useInsertionEffect=function(Y,le){return I.H.useInsertionEffect(Y,le)},An.useLayoutEffect=function(Y,le){return I.H.useLayoutEffect(Y,le)},An.useMemo=function(Y,le){return I.H.useMemo(Y,le)},An.useOptimistic=function(Y,le){return I.H.useOptimistic(Y,le)},An.useReducer=function(Y,le,de){return I.H.useReducer(Y,le,de)},An.useRef=function(Y){return I.H.useRef(Y)},An.useState=function(Y){return I.H.useState(Y)},An.useSyncExternalStore=function(Y,le,de){return I.H.useSyncExternalStore(Y,le,de)},An.useTransition=function(){return I.H.useTransition()},An.version="19.2.3",An}var pU;function m_(){return pU||(pU=1,zR.exports=JX()),zR.exports}var H=m_();const lr=Qp(H),gI=KX({__proto__:null,default:lr},[H]);var BR={exports:{}},Yb={},FR={exports:{}},VR={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mU;function eY(){return mU||(mU=1,(function(n){function e(q,W){var Q=q.length;q.push(W);e:for(;0<Q;){var re=Q-1>>>1,pe=q[re];if(0<r(pe,W))q[re]=W,q[Q]=pe,Q=re;else break e}}function t(q){return q.length===0?null:q[0]}function i(q){if(q.length===0)return null;var W=q[0],Q=q.pop();if(Q!==W){q[0]=Q;e:for(var re=0,pe=q.length,Y=pe>>>1;re<Y;){var le=2*(re+1)-1,de=q[le],ue=le+1,ne=q[ue];if(0>r(de,Q))ue<pe&&0>r(ne,de)?(q[re]=ne,q[ue]=Q,re=ue):(q[re]=de,q[le]=Q,re=le);else if(ue<pe&&0>r(ne,Q))q[re]=ne,q[ue]=Q,re=ue;else break e}}return W}function r(q,W){var Q=q.sortIndex-W.sortIndex;return Q!==0?Q:q.id-W.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();n.unstable_now=function(){return a.now()-o}}var l=[],u=[],h=1,p=null,y=3,v=!1,_=!1,x=!1,E=!1,S=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function A(q){for(var W=t(u);W!==null;){if(W.callback===null)i(u);else if(W.startTime<=q)i(u),W.sortIndex=W.expirationTime,e(l,W);else break;W=t(u)}}function N(q){if(x=!1,A(q),!_)if(t(l)!==null)_=!0,L||(L=!0,z());else{var W=t(u);W!==null&&J(N,W.startTime-q)}}var L=!1,I=-1,D=5,P=-1;function U(){return E?!0:!(n.unstable_now()-P<D)}function F(){if(E=!1,L){var q=n.unstable_now();P=q;var W=!0;try{e:{_=!1,x&&(x=!1,w(I),I=-1),v=!0;var Q=y;try{t:{for(A(q),p=t(l);p!==null&&!(p.expirationTime>q&&U());){var re=p.callback;if(typeof re=="function"){p.callback=null,y=p.priorityLevel;var pe=re(p.expirationTime<=q);if(q=n.unstable_now(),typeof pe=="function"){p.callback=pe,A(q),W=!0;break t}p===t(l)&&i(l),A(q)}else i(l);p=t(l)}if(p!==null)W=!0;else{var Y=t(u);Y!==null&&J(N,Y.startTime-q),W=!1}}break e}finally{p=null,y=Q,v=!1}W=void 0}}finally{W?z():L=!1}}}var z;if(typeof C=="function")z=function(){C(F)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,K=V.port2;V.port1.onmessage=F,z=function(){K.postMessage(null)}}else z=function(){S(F,0)};function J(q,W){I=S(function(){q(n.unstable_now())},W)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(q){q.callback=null},n.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<q?Math.floor(1e3/q):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_next=function(q){switch(y){case 1:case 2:case 3:var W=3;break;default:W=y}var Q=y;y=W;try{return q()}finally{y=Q}},n.unstable_requestPaint=function(){E=!0},n.unstable_runWithPriority=function(q,W){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var Q=y;y=q;try{return W()}finally{y=Q}},n.unstable_scheduleCallback=function(q,W,Q){var re=n.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?re+Q:re):Q=re,q){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=Q+pe,q={id:h++,callback:W,priorityLevel:q,startTime:Q,expirationTime:pe,sortIndex:-1},Q>re?(q.sortIndex=Q,e(u,q),t(l)===null&&q===t(u)&&(x?(w(I),I=-1):x=!0,J(N,Q-re))):(q.sortIndex=pe,e(l,q),_||v||(_=!0,L||(L=!0,z()))),q},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(q){var W=y;return function(){var Q=y;y=W;try{return q.apply(this,arguments)}finally{y=Q}}}})(VR)),VR}var gU;function tY(){return gU||(gU=1,FR.exports=eY()),FR.exports}var HR={exports:{}},ja={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yU;function nY(){if(yU)return ja;yU=1;var n=m_();function e(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)u+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function s(l,u,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:p==null?null:""+p,children:l,containerInfo:u,implementation:h}}var a=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(l,u){if(l==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return ja.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ja.createPortal=function(l,u){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(e(299));return s(l,u,null,h)},ja.flushSync=function(l){var u=a.T,h=i.p;try{if(a.T=null,i.p=2,l)return l()}finally{a.T=u,i.p=h,i.d.f()}},ja.preconnect=function(l,u){typeof l=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,i.d.C(l,u))},ja.prefetchDNS=function(l){typeof l=="string"&&i.d.D(l)},ja.preinit=function(l,u){if(typeof l=="string"&&u&&typeof u.as=="string"){var h=u.as,p=o(h,u.crossOrigin),y=typeof u.integrity=="string"?u.integrity:void 0,v=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;h==="style"?i.d.S(l,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:p,integrity:y,fetchPriority:v}):h==="script"&&i.d.X(l,{crossOrigin:p,integrity:y,fetchPriority:v,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},ja.preinitModule=function(l,u){if(typeof l=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var h=o(u.as,u.crossOrigin);i.d.M(l,{crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&i.d.M(l)},ja.preload=function(l,u){if(typeof l=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var h=u.as,p=o(h,u.crossOrigin);i.d.L(l,h,{crossOrigin:p,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},ja.preloadModule=function(l,u){if(typeof l=="string")if(u){var h=o(u.as,u.crossOrigin);i.d.m(l,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else i.d.m(l)},ja.requestFormReset=function(l){i.d.r(l)},ja.unstable_batchedUpdates=function(l,u){return l(u)},ja.useFormState=function(l,u,h){return a.H.useFormState(l,u,h)},ja.useFormStatus=function(){return a.H.useHostTransitionStatus()},ja.version="19.2.3",ja}var vU;function eV(){if(vU)return HR.exports;vU=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),HR.exports=nY(),HR.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _U;function iY(){if(_U)return Yb;_U=1;var n=tY(),e=m_(),t=eV();function i(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function s(c){var f=c,g=c;if(c.alternate)for(;f.return;)f=f.return;else{c=f;do f=c,(f.flags&4098)!==0&&(g=f.return),c=f.return;while(c)}return f.tag===3?g:null}function a(c){if(c.tag===13){var f=c.memoizedState;if(f===null&&(c=c.alternate,c!==null&&(f=c.memoizedState)),f!==null)return f.dehydrated}return null}function o(c){if(c.tag===31){var f=c.memoizedState;if(f===null&&(c=c.alternate,c!==null&&(f=c.memoizedState)),f!==null)return f.dehydrated}return null}function l(c){if(s(c)!==c)throw Error(i(188))}function u(c){var f=c.alternate;if(!f){if(f=s(c),f===null)throw Error(i(188));return f!==c?null:c}for(var g=c,b=f;;){var R=g.return;if(R===null)break;var k=R.alternate;if(k===null){if(b=R.return,b!==null){g=b;continue}break}if(R.child===k.child){for(k=R.child;k;){if(k===g)return l(R),c;if(k===b)return l(R),f;k=k.sibling}throw Error(i(188))}if(g.return!==b.return)g=R,b=k;else{for(var $=!1,ie=R.child;ie;){if(ie===g){$=!0,g=R,b=k;break}if(ie===b){$=!0,b=R,g=k;break}ie=ie.sibling}if(!$){for(ie=k.child;ie;){if(ie===g){$=!0,g=k,b=R;break}if(ie===b){$=!0,b=k,g=R;break}ie=ie.sibling}if(!$)throw Error(i(189))}}if(g.alternate!==b)throw Error(i(190))}if(g.tag!==3)throw Error(i(188));return g.stateNode.current===g?c:f}function h(c){var f=c.tag;if(f===5||f===26||f===27||f===6)return c;for(c=c.child;c!==null;){if(f=h(c),f!==null)return f;c=c.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),w=Symbol.for("react.consumer"),C=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function z(c){return c===null||typeof c!="object"?null:(c=F&&c[F]||c["@@iterator"],typeof c=="function"?c:null)}var V=Symbol.for("react.client.reference");function K(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===V?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case x:return"Fragment";case S:return"Profiler";case E:return"StrictMode";case N:return"Suspense";case L:return"SuspenseList";case P:return"Activity"}if(typeof c=="object")switch(c.$$typeof){case _:return"Portal";case C:return c.displayName||"Context";case w:return(c._context.displayName||"Context")+".Consumer";case A:var f=c.render;return c=c.displayName,c||(c=f.displayName||f.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case I:return f=c.displayName||null,f!==null?f:K(c.type)||"Memo";case D:f=c._payload,c=c._init;try{return K(c(f))}catch{}}return null}var J=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},re=[],pe=-1;function Y(c){return{current:c}}function le(c){0>pe||(c.current=re[pe],re[pe]=null,pe--)}function de(c,f){pe++,re[pe]=c.current,c.current=f}var ue=Y(null),ne=Y(null),he=Y(null),me=Y(null);function Le(c,f){switch(de(he,f),de(ne,c),de(ue,null),f.nodeType){case 9:case 11:c=(c=f.documentElement)&&(c=c.namespaceURI)?N4(c):0;break;default:if(c=f.tagName,f=f.namespaceURI)f=N4(f),c=L4(f,c);else switch(c){case"svg":c=1;break;case"math":c=2;break;default:c=0}}le(ue),de(ue,c)}function Ye(){le(ue),le(ne),le(he)}function je(c){c.memoizedState!==null&&de(me,c);var f=ue.current,g=L4(f,c.type);f!==g&&(de(ne,c),de(ue,g))}function rt(c){ne.current===c&&(le(ue),le(ne)),me.current===c&&(le(me),Gb._currentValue=Q)}var ot,dt;function te(c){if(ot===void 0)try{throw Error()}catch(g){var f=g.stack.trim().match(/\n( *(at )?)/);ot=f&&f[1]||"",dt=-1<g.stack.indexOf(`
    at`)?" (<anonymous>)":-1<g.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ot+c+dt}var Ie=!1;function Ve(c,f){if(!c||Ie)return"";Ie=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var b={DetermineComponentFrameRoot:function(){try{if(f){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch($e){var Be=$e}Reflect.construct(c,[],tt)}else{try{tt.call()}catch($e){Be=$e}c.call(tt.prototype)}}else{try{throw Error()}catch($e){Be=$e}(tt=c())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch($e){if($e&&Be&&typeof $e.stack=="string")return[$e.stack,Be.stack]}return[null,null]}};b.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var R=Object.getOwnPropertyDescriptor(b.DetermineComponentFrameRoot,"name");R&&R.configurable&&Object.defineProperty(b.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var k=b.DetermineComponentFrameRoot(),$=k[0],ie=k[1];if($&&ie){var ye=$.split(`
`),De=ie.split(`
`);for(R=b=0;b<ye.length&&!ye[b].includes("DetermineComponentFrameRoot");)b++;for(;R<De.length&&!De[R].includes("DetermineComponentFrameRoot");)R++;if(b===ye.length||R===De.length)for(b=ye.length-1,R=De.length-1;1<=b&&0<=R&&ye[b]!==De[R];)R--;for(;1<=b&&0<=R;b--,R--)if(ye[b]!==De[R]){if(b!==1||R!==1)do if(b--,R--,0>R||ye[b]!==De[R]){var Ke=`
`+ye[b].replace(" at new "," at ");return c.displayName&&Ke.includes("<anonymous>")&&(Ke=Ke.replace("<anonymous>",c.displayName)),Ke}while(1<=b&&0<=R);break}}}finally{Ie=!1,Error.prepareStackTrace=g}return(g=c?c.displayName||c.name:"")?te(g):""}function Ue(c,f){switch(c.tag){case 26:case 27:case 5:return te(c.type);case 16:return te("Lazy");case 13:return c.child!==f&&f!==null?te("Suspense Fallback"):te("Suspense");case 19:return te("SuspenseList");case 0:case 15:return Ve(c.type,!1);case 11:return Ve(c.type.render,!1);case 1:return Ve(c.type,!0);case 31:return te("Activity");default:return""}}function Re(c){try{var f="",g=null;do f+=Ue(c,g),g=c,c=c.return;while(c);return f}catch(b){return`
Error generating stack: `+b.message+`
`+b.stack}}var ut=Object.prototype.hasOwnProperty,We=n.unstable_scheduleCallback,ae=n.unstable_cancelCallback,ee=n.unstable_shouldYield,Ee=n.unstable_requestPaint,Me=n.unstable_now,Qe=n.unstable_getCurrentPriorityLevel,Oe=n.unstable_ImmediatePriority,ct=n.unstable_UserBlockingPriority,lt=n.unstable_NormalPriority,Dt=n.unstable_LowPriority,Ut=n.unstable_IdlePriority,Xe=n.log,mt=n.unstable_setDisableYieldValue,At=null,xt=null;function _t(c){if(typeof Xe=="function"&&mt(c),xt&&typeof xt.setStrictMode=="function")try{xt.setStrictMode(At,c)}catch{}}var Ht=Math.clz32?Math.clz32:be,Qt=Math.log,pn=Math.LN2;function be(c){return c>>>=0,c===0?32:31-(Qt(c)/pn|0)|0}var St=256,xe=262144,He=4194304;function st(c){var f=c&42;if(f!==0)return f;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return c&261888;case 262144:case 524288:case 1048576:case 2097152:return c&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function pt(c,f,g){var b=c.pendingLanes;if(b===0)return 0;var R=0,k=c.suspendedLanes,$=c.pingedLanes;c=c.warmLanes;var ie=b&134217727;return ie!==0?(b=ie&~k,b!==0?R=st(b):($&=ie,$!==0?R=st($):g||(g=ie&~c,g!==0&&(R=st(g))))):(ie=b&~k,ie!==0?R=st(ie):$!==0?R=st($):g||(g=b&~c,g!==0&&(R=st(g)))),R===0?0:f!==0&&f!==R&&(f&k)===0&&(k=R&-R,g=f&-f,k>=g||k===32&&(g&4194048)!==0)?f:R}function qt(c,f){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&f)===0}function Xn(c,f){switch(c){case 1:case 2:case 4:case 8:case 64:return f+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kt(){var c=He;return He<<=1,(He&62914560)===0&&(He=4194304),c}function $t(c){for(var f=[],g=0;31>g;g++)f.push(c);return f}function vt(c,f){c.pendingLanes|=f,f!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function Et(c,f,g,b,R,k){var $=c.pendingLanes;c.pendingLanes=g,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=g,c.entangledLanes&=g,c.errorRecoveryDisabledLanes&=g,c.shellSuspendCounter=0;var ie=c.entanglements,ye=c.expirationTimes,De=c.hiddenUpdates;for(g=$&~g;0<g;){var Ke=31-Ht(g),tt=1<<Ke;ie[Ke]=0,ye[Ke]=-1;var Be=De[Ke];if(Be!==null)for(De[Ke]=null,Ke=0;Ke<Be.length;Ke++){var $e=Be[Ke];$e!==null&&($e.lane&=-536870913)}g&=~tt}b!==0&&Tn(c,b,0),k!==0&&R===0&&c.tag!==0&&(c.suspendedLanes|=k&~($&~f))}function Tn(c,f,g){c.pendingLanes|=f,c.suspendedLanes&=~f;var b=31-Ht(f);c.entangledLanes|=f,c.entanglements[b]=c.entanglements[b]|1073741824|g&261930}function _n(c,f){var g=c.entangledLanes|=f;for(c=c.entanglements;g;){var b=31-Ht(g),R=1<<b;R&f|c[b]&f&&(c[b]|=f),g&=~R}}function In(c,f){var g=f&-f;return g=(g&42)!==0?1:ki(g),(g&(c.suspendedLanes|f))!==0?0:g}function ki(c){switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=128;break;case 268435456:c=134217728;break;default:c=0}return c}function Is(c){return c&=-c,2<c?8<c?(c&134217727)!==0?32:268435456:8:2}function Ki(){var c=W.p;return c!==0?c:(c=window.event,c===void 0?32:rU(c.type))}function jr(c,f){var g=W.p;try{return W.p=c,f()}finally{W.p=g}}var Gr=Math.random().toString(36).slice(2),mn="__reactFiber$"+Gr,dr="__reactProps$"+Gr,la="__reactContainer$"+Gr,hl="__reactEvents$"+Gr,so="__reactListeners$"+Gr,ud="__reactHandles$"+Gr,Lc="__reactResources$"+Gr,ao="__reactMarker$"+Gr;function dl(c){delete c[mn],delete c[dr],delete c[hl],delete c[so],delete c[ud]}function se(c){var f=c[mn];if(f)return f;for(var g=c.parentNode;g;){if(f=g[la]||g[mn]){if(g=f.alternate,f.child!==null||g!==null&&g.child!==null)for(c=H4(c);c!==null;){if(g=c[mn])return g;c=H4(c)}return f}c=g,g=c.parentNode}return null}function ve(c){if(c=c[mn]||c[la]){var f=c.tag;if(f===5||f===6||f===13||f===31||f===26||f===27||f===3)return c}return null}function ke(c){var f=c.tag;if(f===5||f===26||f===27||f===6)return c.stateNode;throw Error(i(33))}function Ne(c){var f=c[Lc];return f||(f=c[Lc]={hoistableStyles:new Map,hoistableScripts:new Map}),f}function Se(c){c[ao]=!0}var at=new Set,wt={};function Mt(c,f){Rt(c,f),Rt(c+"Capture",f)}function Rt(c,f){for(wt[c]=f,c=0;c<f.length;c++)at.add(f[c])}var sn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Jt={},jt={};function Fn(c){return ut.call(jt,c)?!0:ut.call(Jt,c)?!1:sn.test(c)?jt[c]=!0:(Jt[c]=!0,!1)}function zn(c,f,g){if(Fn(f))if(g===null)c.removeAttribute(f);else{switch(typeof g){case"undefined":case"function":case"symbol":c.removeAttribute(f);return;case"boolean":var b=f.toLowerCase().slice(0,5);if(b!=="data-"&&b!=="aria-"){c.removeAttribute(f);return}}c.setAttribute(f,""+g)}}function Si(c,f,g){if(g===null)c.removeAttribute(f);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(f);return}c.setAttribute(f,""+g)}}function $n(c,f,g,b){if(b===null)c.removeAttribute(g);else{switch(typeof b){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(g);return}c.setAttributeNS(f,g,""+b)}}function on(c){switch(typeof c){case"bigint":case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function Xt(c){var f=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function pr(c,f,g){var b=Object.getOwnPropertyDescriptor(c.constructor.prototype,f);if(!c.hasOwnProperty(f)&&typeof b<"u"&&typeof b.get=="function"&&typeof b.set=="function"){var R=b.get,k=b.set;return Object.defineProperty(c,f,{configurable:!0,get:function(){return R.call(this)},set:function($){g=""+$,k.call(this,$)}}),Object.defineProperty(c,f,{enumerable:b.enumerable}),{getValue:function(){return g},setValue:function($){g=""+$},stopTracking:function(){c._valueTracker=null,delete c[f]}}}}function qn(c){if(!c._valueTracker){var f=Xt(c)?"checked":"value";c._valueTracker=pr(c,f,""+c[f])}}function ys(c){if(!c)return!1;var f=c._valueTracker;if(!f)return!0;var g=f.getValue(),b="";return c&&(b=Xt(c)?c.checked?"true":"false":c.value),c=b,c!==g?(f.setValue(c),!0):!1}function ca(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}var rr=/[\n"\\]/g;function Ri(c){return c.replace(rr,function(f){return"\\"+f.charCodeAt(0).toString(16)+" "})}function ti(c,f,g,b,R,k,$,ie){c.name="",$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"?c.type=$:c.removeAttribute("type"),f!=null?$==="number"?(f===0&&c.value===""||c.value!=f)&&(c.value=""+on(f)):c.value!==""+on(f)&&(c.value=""+on(f)):$!=="submit"&&$!=="reset"||c.removeAttribute("value"),f!=null?qr(c,$,on(f)):g!=null?qr(c,$,on(g)):b!=null&&c.removeAttribute("value"),R==null&&k!=null&&(c.defaultChecked=!!k),R!=null&&(c.checked=R&&typeof R!="function"&&typeof R!="symbol"),ie!=null&&typeof ie!="function"&&typeof ie!="symbol"&&typeof ie!="boolean"?c.name=""+on(ie):c.removeAttribute("name")}function wr(c,f,g,b,R,k,$,ie){if(k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(c.type=k),f!=null||g!=null){if(!(k!=="submit"&&k!=="reset"||f!=null)){qn(c);return}g=g!=null?""+on(g):"",f=f!=null?""+on(f):g,ie||f===c.value||(c.value=f),c.defaultValue=f}b=b??R,b=typeof b!="function"&&typeof b!="symbol"&&!!b,c.checked=ie?c.checked:!!b,c.defaultChecked=!!b,$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"&&(c.name=$),qn(c)}function qr(c,f,g){f==="number"&&ca(c.ownerDocument)===c||c.defaultValue===""+g||(c.defaultValue=""+g)}function cn(c,f,g,b){if(c=c.options,f){f={};for(var R=0;R<g.length;R++)f["$"+g[R]]=!0;for(g=0;g<c.length;g++)R=f.hasOwnProperty("$"+c[g].value),c[g].selected!==R&&(c[g].selected=R),R&&b&&(c[g].defaultSelected=!0)}else{for(g=""+on(g),f=null,R=0;R<c.length;R++){if(c[R].value===g){c[R].selected=!0,b&&(c[R].defaultSelected=!0);return}f!==null||c[R].disabled||(f=c[R])}f!==null&&(f.selected=!0)}}function cr(c,f,g){if(f!=null&&(f=""+on(f),f!==c.value&&(c.value=f),g==null)){c.defaultValue!==f&&(c.defaultValue=f);return}c.defaultValue=g!=null?""+on(g):""}function Ps(c,f,g,b){if(f==null){if(b!=null){if(g!=null)throw Error(i(92));if(J(b)){if(1<b.length)throw Error(i(93));b=b[0]}g=b}g==null&&(g=""),f=g}g=on(f),c.defaultValue=g,b=c.textContent,b===g&&b!==""&&b!==null&&(c.value=b),qn(c)}function Cr(c,f){if(f){var g=c.firstChild;if(g&&g===c.lastChild&&g.nodeType===3){g.nodeValue=f;return}}c.textContent=f}var fd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cu(c,f,g){var b=f.indexOf("--")===0;g==null||typeof g=="boolean"||g===""?b?c.setProperty(f,""):f==="float"?c.cssFloat="":c[f]="":b?c.setProperty(f,g):typeof g!="number"||g===0||fd.has(f)?f==="float"?c.cssFloat=g:c[f]=(""+g).trim():c[f]=g+"px"}function om(c,f,g){if(f!=null&&typeof f!="object")throw Error(i(62));if(c=c.style,g!=null){for(var b in g)!g.hasOwnProperty(b)||f!=null&&f.hasOwnProperty(b)||(b.indexOf("--")===0?c.setProperty(b,""):b==="float"?c.cssFloat="":c[b]="");for(var R in f)b=f[R],f.hasOwnProperty(R)&&g[R]!==b&&Cu(c,R,b)}else for(var k in f)f.hasOwnProperty(k)&&Cu(c,k,f[k])}function zf(c){if(c.indexOf("-")===-1)return!1;switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var by=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pl(c){return xy.test(""+c)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":c}function ss(){}var Au=null;function Bf(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var Gl=null,ua=null;function lm(c){var f=ve(c);if(f&&(c=f.stateNode)){var g=c[dr]||null;e:switch(c=f.stateNode,f.type){case"input":if(ti(c,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name),f=g.name,g.type==="radio"&&f!=null){for(g=c;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll('input[name="'+Ri(""+f)+'"][type="radio"]'),f=0;f<g.length;f++){var b=g[f];if(b!==c&&b.form===c.form){var R=b[dr]||null;if(!R)throw Error(i(90));ti(b,R.value,R.defaultValue,R.defaultValue,R.checked,R.defaultChecked,R.type,R.name)}}for(f=0;f<g.length;f++)b=g[f],b.form===c.form&&ys(b)}break e;case"textarea":cr(c,g.value,g.defaultValue);break e;case"select":f=g.value,f!=null&&cn(c,!!g.multiple,f,!1)}}}var hd=!1;function cm(c,f,g){if(hd)return c(f,g);hd=!0;try{var b=c(f);return b}finally{if(hd=!1,(Gl!==null||ua!==null)&&(oe(),Gl&&(f=Gl,c=ua,ua=Gl=null,lm(f),c)))for(f=0;f<c.length;f++)lm(c[f])}}function Hs(c,f){var g=c.stateNode;if(g===null)return null;var b=g[dr]||null;if(b===null)return null;g=b[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(c=c.type,b=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!b;break e;default:c=!1}if(c)return null;if(g&&typeof g!="function")throw Error(i(231,f,typeof g));return g}var ko=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dd=!1;if(ko)try{var ql={};Object.defineProperty(ql,"passive",{get:function(){dd=!0}}),window.addEventListener("test",ql,ql),window.removeEventListener("test",ql,ql)}catch{dd=!1}var oo=null,Ff=null,Oa=null;function Wl(){if(Oa)return Oa;var c,f=Ff,g=f.length,b,R="value"in oo?oo.value:oo.textContent,k=R.length;for(c=0;c<g&&f[c]===R[c];c++);var $=g-c;for(b=1;b<=$&&f[g-b]===R[k-b];b++);return Oa=R.slice(c,1<b?1-b:void 0)}function $l(c){var f=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&f===13&&(c=13)):c=f,c===10&&(c=13),32<=c||c===13?c:0}function Uc(){return!0}function ji(){return!1}function vs(c){function f(g,b,R,k,$){this._reactName=g,this._targetInst=R,this.type=b,this.nativeEvent=k,this.target=$,this.currentTarget=null;for(var ie in c)c.hasOwnProperty(ie)&&(g=c[ie],this[ie]=g?g(k):k[ie]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?Uc:ji,this.isPropagationStopped=ji,this}return p(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=Uc)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=Uc)},persist:function(){},isPersistent:Uc}),f}var Xl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mu=vs(Xl),Ia=p({},Xl,{view:0,detail:0}),Vf=vs(Ia),kc,Ru,js,Ou=p({},Ia,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yl,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==js&&(js&&c.type==="mousemove"?(kc=c.screenX-js.screenX,Ru=c.screenY-js.screenY):Ru=kc=0,js=c),kc)},movementY:function(c){return"movementY"in c?c.movementY:Ru}}),Sy=vs(Ou),ur=p({},Ou,{dataTransfer:0}),um=vs(ur),pd=p({},Ia,{relatedTarget:0}),zc=vs(pd),fm=p({},Xl,{animationName:0,elapsedTime:0,pseudoElement:0}),Hf=vs(fm),jf=p({},Xl,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),md=vs(jf),Iu=p({},Xl,{data:0}),gd=vs(Iu),hm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dm(c){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(c):(c=qf[c])?!!f[c]:!1}function Yl(){return dm}var yd=p({},Ia,{key:function(c){if(c.key){var f=hm[c.key]||c.key;if(f!=="Unidentified")return f}return c.type==="keypress"?(c=$l(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?Gf[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yl,charCode:function(c){return c.type==="keypress"?$l(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?$l(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),vd=vs(yd),Kl=p({},Ou,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wf=vs(Kl),pm=p({},Ia,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yl}),zo=vs(pm),_d=p({},Xl,{propertyName:0,elapsedTime:0,pseudoElement:0}),bd=vs(_d),Gs=p({},Ou,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),ml=vs(Gs),Bo=p({},Xl,{newState:0,oldState:0}),Zl=vs(Bo),M=[9,13,27,32],j=ko&&"CompositionEvent"in window,X=null;ko&&"documentMode"in document&&(X=document.documentMode);var ce=ko&&"TextEvent"in window&&!X,Te=ko&&(!j||X&&8<X&&11>=X),qe=" ",Tt=!1;function di(c,f){switch(c){case"keyup":return M.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sr(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var Pn=!1;function Ar(c,f){switch(c){case"compositionend":return sr(f);case"keypress":return f.which!==32?null:(Tt=!0,qe);case"textInput":return c=f.data,c===qe&&Tt?null:c;default:return null}}function as(c,f){if(Pn)return c==="compositionend"||!j&&di(c,f)?(c=Wl(),Oa=Ff=oo=null,Pn=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return Te&&f.locale!=="ko"?null:f.data;default:return null}}var Wr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fa(c){var f=c&&c.nodeName&&c.nodeName.toLowerCase();return f==="input"?!!Wr[c.type]:f==="textarea"}function Bc(c,f,g,b){Gl?ua?ua.push(b):ua=[b]:Gl=b,f=$E(f,"onChange"),0<f.length&&(g=new Mu("onChange","change",null,g,b),c.push({event:g,listeners:f}))}var Ql=null,xd=null;function B_(c){M4(c,0)}function Sd(c){var f=ke(c);if(ys(f))return c}function F_(c,f){if(c==="change")return f}var mm=!1;if(ko){var $f;if(ko){var Zi="oninput"in document;if(!Zi){var iE=document.createElement("div");iE.setAttribute("oninput","return;"),Zi=typeof iE.oninput=="function"}$f=Zi}else $f=!1;mm=$f&&(!document.documentMode||9<document.documentMode)}function rE(){Ql&&(Ql.detachEvent("onpropertychange",V_),xd=Ql=null)}function V_(c){if(c.propertyName==="value"&&Sd(xd)){var f=[];Bc(f,xd,c,Bf(c)),cm(B_,f)}}function gm(c,f,g){c==="focusin"?(rE(),Ql=f,xd=g,Ql.attachEvent("onpropertychange",V_)):c==="focusout"&&rE()}function Pu(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return Sd(xd)}function sE(c,f){if(c==="click")return Sd(f)}function aE(c,f){if(c==="input"||c==="change")return Sd(f)}function Xf(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var Qi=typeof Object.is=="function"?Object.is:Xf;function Ed(c,f){if(Qi(c,f))return!0;if(typeof c!="object"||c===null||typeof f!="object"||f===null)return!1;var g=Object.keys(c),b=Object.keys(f);if(g.length!==b.length)return!1;for(b=0;b<g.length;b++){var R=g[b];if(!ut.call(f,R)||!Qi(c[R],f[R]))return!1}return!0}function H_(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function j_(c,f){var g=H_(c);c=0;for(var b;g;){if(g.nodeType===3){if(b=c+g.textContent.length,c<=f&&b>=f)return{node:g,offset:f-c};c=b}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=H_(g)}}function Ey(c,f){return c&&f?c===f?!0:c&&c.nodeType===3?!1:f&&f.nodeType===3?Ey(c,f.parentNode):"contains"in c?c.contains(f):c.compareDocumentPosition?!!(c.compareDocumentPosition(f)&16):!1:!1}function Ty(c){c=c!=null&&c.ownerDocument!=null&&c.ownerDocument.defaultView!=null?c.ownerDocument.defaultView:window;for(var f=ca(c.document);f instanceof c.HTMLIFrameElement;){try{var g=typeof f.contentWindow.location.href=="string"}catch{g=!1}if(g)c=f.contentWindow;else break;f=ca(c.document)}return f}function Td(c){var f=c&&c.nodeName&&c.nodeName.toLowerCase();return f&&(f==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||f==="textarea"||c.contentEditable==="true")}var oE=ko&&"documentMode"in document&&11>=document.documentMode,wd=null,wy=null,Cd=null,lo=!1;function Cy(c,f,g){var b=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;lo||wd==null||wd!==ca(b)||(b=wd,"selectionStart"in b&&Td(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),Cd&&Ed(Cd,b)||(Cd=b,b=$E(wy,"onSelect"),0<b.length&&(f=new Mu("onSelect","select",null,f,g),c.push({event:f,listeners:b}),f.target=wd)))}function Du(c,f){var g={};return g[c.toLowerCase()]=f.toLowerCase(),g["Webkit"+c]="webkit"+f,g["Moz"+c]="moz"+f,g}var Ad={animationend:Du("Animation","AnimationEnd"),animationiteration:Du("Animation","AnimationIteration"),animationstart:Du("Animation","AnimationStart"),transitionrun:Du("Transition","TransitionRun"),transitionstart:Du("Transition","TransitionStart"),transitioncancel:Du("Transition","TransitionCancel"),transitionend:Du("Transition","TransitionEnd")},ym={},ha={};ko&&(ha=document.createElement("div").style,"AnimationEvent"in window||(delete Ad.animationend.animation,delete Ad.animationiteration.animation,delete Ad.animationstart.animation),"TransitionEvent"in window||delete Ad.transitionend.transition);function Nu(c){if(ym[c])return ym[c];if(!Ad[c])return c;var f=Ad[c],g;for(g in f)if(f.hasOwnProperty(g)&&g in ha)return ym[c]=f[g];return c}var Pa=Nu("animationend"),G_=Nu("animationiteration"),Jl=Nu("animationstart"),Md=Nu("transitionrun"),Lu=Nu("transitionstart"),q_=Nu("transitioncancel"),Ay=Nu("transitionend"),Fc=new Map,My="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");My.push("scrollEnd");function qs(c,f){Fc.set(c,f),Mt(f,[c])}var Uu=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)},_s=[],Yf=0,Ry=0;function ku(){for(var c=Yf,f=Ry=Yf=0;f<c;){var g=_s[f];_s[f++]=null;var b=_s[f];_s[f++]=null;var R=_s[f];_s[f++]=null;var k=_s[f];if(_s[f++]=null,b!==null&&R!==null){var $=b.pending;$===null?R.next=R:(R.next=$.next,$.next=R),b.pending=R}k!==0&&Oy(g,R,k)}}function vm(c,f,g,b){_s[Yf++]=c,_s[Yf++]=f,_s[Yf++]=g,_s[Yf++]=b,Ry|=b,c.lanes|=b,c=c.alternate,c!==null&&(c.lanes|=b)}function Rd(c,f,g,b){return vm(c,f,g,b),Od(c)}function zu(c,f){return vm(c,null,null,f),Od(c)}function Oy(c,f,g){c.lanes|=g;var b=c.alternate;b!==null&&(b.lanes|=g);for(var R=!1,k=c.return;k!==null;)k.childLanes|=g,b=k.alternate,b!==null&&(b.childLanes|=g),k.tag===22&&(c=k.stateNode,c===null||c._visibility&1||(R=!0)),c=k,k=k.return;return c.tag===3?(k=c.stateNode,R&&f!==null&&(R=31-Ht(g),c=k.hiddenUpdates,b=c[R],b===null?c[R]=[f]:b.push(f),f.lane=g|536870912),k):null}function Od(c){if(50<hh)throw hh=0,dh=null,Error(i(185));for(var f=c.return;f!==null;)c=f,f=c.return;return c.tag===3?c.stateNode:null}var Bu={};function lE(c,f,g,b){this.tag=c,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function da(c,f,g,b){return new lE(c,f,g,b)}function pa(c){return c=c.prototype,!(!c||!c.isReactComponent)}function ec(c,f){var g=c.alternate;return g===null?(g=da(c.tag,f,c.key,c.mode),g.elementType=c.elementType,g.type=c.type,g.stateNode=c.stateNode,g.alternate=c,c.alternate=g):(g.pendingProps=f,g.type=c.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=c.flags&65011712,g.childLanes=c.childLanes,g.lanes=c.lanes,g.child=c.child,g.memoizedProps=c.memoizedProps,g.memoizedState=c.memoizedState,g.updateQueue=c.updateQueue,f=c.dependencies,g.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},g.sibling=c.sibling,g.index=c.index,g.ref=c.ref,g.refCleanup=c.refCleanup,g}function Ws(c,f){c.flags&=65011714;var g=c.alternate;return g===null?(c.childLanes=0,c.lanes=f,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=g.childLanes,c.lanes=g.lanes,c.child=g.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=g.memoizedProps,c.memoizedState=g.memoizedState,c.updateQueue=g.updateQueue,c.type=g.type,f=g.dependencies,c.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),c}function _m(c,f,g,b,R,k){var $=0;if(b=c,typeof c=="function")pa(c)&&($=1);else if(typeof c=="string")$=UX(c,g,ue.current)?26:c==="html"||c==="head"||c==="body"?27:5;else e:switch(c){case P:return c=da(31,g,f,R),c.elementType=P,c.lanes=k,c;case x:return Vc(g.children,R,k,f);case E:$=8,R|=24;break;case S:return c=da(12,g,f,R|2),c.elementType=S,c.lanes=k,c;case N:return c=da(13,g,f,R),c.elementType=N,c.lanes=k,c;case L:return c=da(19,g,f,R),c.elementType=L,c.lanes=k,c;default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case C:$=10;break e;case w:$=9;break e;case A:$=11;break e;case I:$=14;break e;case D:$=16,b=null;break e}$=29,g=Error(i(130,c===null?"null":typeof c,"")),b=null}return f=da($,g,f,R),f.elementType=c,f.type=b,f.lanes=k,f}function Vc(c,f,g,b){return c=da(7,c,b,f),c.lanes=g,c}function Iy(c,f,g){return c=da(6,c,null,f),c.lanes=g,c}function cE(c){var f=da(18,null,null,0);return f.stateNode=c,f}function gl(c,f,g){return f=da(4,c.children!==null?c.children:[],c.key,f),f.lanes=g,f.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},f}var W_=new WeakMap;function Da(c,f){if(typeof c=="object"&&c!==null){var g=W_.get(c);return g!==void 0?g:(f={value:c,source:f,stack:Re(f)},W_.set(c,f),f)}return{value:c,source:f,stack:Re(f)}}var yl=[],Kf=0,bm=null,Id=0,co=[],Na=0,tc=null,nc=1,ic="";function Hc(c,f){yl[Kf++]=Id,yl[Kf++]=bm,bm=c,Id=f}function $_(c,f,g){co[Na++]=nc,co[Na++]=ic,co[Na++]=tc,tc=c;var b=nc;c=ic;var R=32-Ht(b)-1;b&=~(1<<R),g+=1;var k=32-Ht(f)+R;if(30<k){var $=R-R%5;k=(b&(1<<$)-1).toString(32),b>>=$,R-=$,nc=1<<32-Ht(f)+R|g<<R|b,ic=k+c}else nc=1<<k|g<<R|b,ic=c}function Py(c){c.return!==null&&(Hc(c,1),$_(c,1,0))}function Fu(c){for(;c===bm;)bm=yl[--Kf],yl[Kf]=null,Id=yl[--Kf],yl[Kf]=null;for(;c===tc;)tc=co[--Na],co[Na]=null,ic=co[--Na],co[Na]=null,nc=co[--Na],co[Na]=null}function xm(c,f){co[Na++]=nc,co[Na++]=ic,co[Na++]=tc,nc=f.id,ic=f.overflow,tc=c}var bs=null,Gi=null,Qn=!1,jc=null,xs=!1,Dy=Error(i(519));function Yn(c){var f=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Sm(Da(f,c)),Dy}function Ny(c){var f=c.stateNode,g=c.type,b=c.memoizedProps;switch(f[mn]=c,f[dr]=b,g){case"dialog":Jn("cancel",f),Jn("close",f);break;case"iframe":case"object":case"embed":Jn("load",f);break;case"video":case"audio":for(g=0;g<Bb.length;g++)Jn(Bb[g],f);break;case"source":Jn("error",f);break;case"img":case"image":case"link":Jn("error",f),Jn("load",f);break;case"details":Jn("toggle",f);break;case"input":Jn("invalid",f),wr(f,b.value,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name,!0);break;case"select":Jn("invalid",f);break;case"textarea":Jn("invalid",f),Ps(f,b.value,b.defaultValue,b.children)}g=b.children,typeof g!="string"&&typeof g!="number"&&typeof g!="bigint"||f.textContent===""+g||b.suppressHydrationWarning===!0||P4(f.textContent,g)?(b.popover!=null&&(Jn("beforetoggle",f),Jn("toggle",f)),b.onScroll!=null&&Jn("scroll",f),b.onScrollEnd!=null&&Jn("scrollend",f),b.onClick!=null&&(f.onclick=ss),f=!0):f=!1,f||Yn(c,!0)}function uE(c){for(bs=c.return;bs;)switch(bs.tag){case 5:case 31:case 13:xs=!1;return;case 27:case 3:xs=!0;return;default:bs=bs.return}}function Zf(c){if(c!==bs)return!1;if(!Qn)return uE(c),Qn=!0,!1;var f=c.tag,g;if((g=f!==3&&f!==27)&&((g=f===5)&&(g=c.type,g=!(g!=="form"&&g!=="button")||SR(c.type,c.memoizedProps)),g=!g),g&&Gi&&Yn(c),uE(c),f===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(i(317));Gi=V4(c)}else if(f===31){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(i(317));Gi=V4(c)}else f===27?(f=Gi,Kd(c.type)?(c=AR,AR=null,Gi=c):Gi=f):Gi=bs?pc(c.stateNode.nextSibling):null;return!0}function Qf(){Gi=bs=null,Qn=!1}function X_(){var c=jc;return c!==null&&(Qs===null?Qs=c:Qs.push.apply(Qs,c),jc=null),c}function Sm(c){jc===null?jc=[c]:jc.push(c)}var Y_=Y(null),Gc=null,$s=null;function qc(c,f,g){de(Y_,f._currentValue),f._currentValue=g}function Fo(c){c._currentValue=Y_.current,le(Y_)}function Wc(c,f,g){for(;c!==null;){var b=c.alternate;if((c.childLanes&f)!==f?(c.childLanes|=f,b!==null&&(b.childLanes|=f)):b!==null&&(b.childLanes&f)!==f&&(b.childLanes|=f),c===g)break;c=c.return}}function Ly(c,f,g,b){var R=c.child;for(R!==null&&(R.return=c);R!==null;){var k=R.dependencies;if(k!==null){var $=R.child;k=k.firstContext;e:for(;k!==null;){var ie=k;k=R;for(var ye=0;ye<f.length;ye++)if(ie.context===f[ye]){k.lanes|=g,ie=k.alternate,ie!==null&&(ie.lanes|=g),Wc(k.return,g,c),b||($=null);break e}k=ie.next}}else if(R.tag===18){if($=R.return,$===null)throw Error(i(341));$.lanes|=g,k=$.alternate,k!==null&&(k.lanes|=g),Wc($,g,c),$=null}else $=R.child;if($!==null)$.return=R;else for($=R;$!==null;){if($===c){$=null;break}if(R=$.sibling,R!==null){R.return=$.return,$=R;break}$=$.return}R=$}}function Vu(c,f,g,b){c=null;for(var R=f,k=!1;R!==null;){if(!k){if((R.flags&524288)!==0)k=!0;else if((R.flags&262144)!==0)break}if(R.tag===10){var $=R.alternate;if($===null)throw Error(i(387));if($=$.memoizedProps,$!==null){var ie=R.type;Qi(R.pendingProps.value,$.value)||(c!==null?c.push(ie):c=[ie])}}else if(R===me.current){if($=R.alternate,$===null)throw Error(i(387));$.memoizedState.memoizedState!==R.memoizedState.memoizedState&&(c!==null?c.push(Gb):c=[Gb])}R=R.return}c!==null&&Ly(f,c,g,b),f.flags|=262144}function Pd(c){for(c=c.firstContext;c!==null;){if(!Qi(c.context._currentValue,c.memoizedValue))return!0;c=c.next}return!1}function Jf(c){Gc=c,$s=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function Ss(c){return K_(Gc,c)}function Em(c,f){return Gc===null&&Jf(c),K_(c,f)}function K_(c,f){var g=f._currentValue;if(f={context:f,memoizedValue:g,next:null},$s===null){if(c===null)throw Error(i(308));$s=f,c.dependencies={lanes:0,firstContext:f},c.flags|=524288}else $s=$s.next=f;return g}var fE=typeof AbortController<"u"?AbortController:function(){var c=[],f=this.signal={aborted:!1,addEventListener:function(g,b){c.push(b)}};this.abort=function(){f.aborted=!0,c.forEach(function(g){return g()})}},hE=n.unstable_scheduleCallback,Z_=n.unstable_NormalPriority,Yt={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Q_(){return{controller:new fE,data:new Map,refCount:0}}function Ds(c){c.refCount--,c.refCount===0&&hE(Z_,function(){c.controller.abort()})}var eh=null,J_=0,$c=0,vl=null;function Dd(c,f){if(eh===null){var g=eh=[];J_=0,$c=dR(),vl={status:"pending",value:void 0,then:function(b){g.push(b)}}}return J_++,f.then(eb,eb),f}function eb(){if(--J_===0&&eh!==null){vl!==null&&(vl.status="fulfilled");var c=eh;eh=null,$c=0,vl=null;for(var f=0;f<c.length;f++)(0,c[f])()}}function tb(c,f){var g=[],b={status:"pending",value:null,reason:null,then:function(R){g.push(R)}};return c.then(function(){b.status="fulfilled",b.value=f;for(var R=0;R<g.length;R++)(0,g[R])(f)},function(R){for(b.status="rejected",b.reason=R,R=0;R<g.length;R++)(0,g[R])(void 0)}),b}var dE=q.S;q.S=function(c,f){$d=Me(),typeof f=="object"&&f!==null&&typeof f.then=="function"&&Dd(c,f),dE!==null&&dE(c,f)};var Hu=Y(null);function rc(){var c=Hu.current;return c!==null?c:Ti.pooledCache}function Nd(c,f){f===null?de(Hu,Hu.current):de(Hu,f.pool)}function Uy(){var c=rc();return c===null?null:{parent:Yt._currentValue,pool:c}}var ju=Error(i(460)),Tm=Error(i(474)),_l=Error(i(542)),wm={then:function(){}};function pE(c){return c=c.status,c==="fulfilled"||c==="rejected"}function nb(c,f,g){switch(g=c[g],g===void 0?c.push(f):g!==f&&(f.then(ss,ss),f=g),f.status){case"fulfilled":return f.value;case"rejected":throw c=f.reason,ib(c),c;default:if(typeof f.status=="string")f.then(ss,ss);else{if(c=Ti,c!==null&&100<c.shellSuspendCounter)throw Error(i(482));c=f,c.status="pending",c.then(function(b){if(f.status==="pending"){var R=f;R.status="fulfilled",R.value=b}},function(b){if(f.status==="pending"){var R=f;R.status="rejected",R.reason=b}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw c=f.reason,ib(c),c}throw nn=f,ju}}function th(c){try{var f=c._init;return f(c._payload)}catch(g){throw g!==null&&typeof g=="object"&&typeof g.then=="function"?(nn=g,ju):g}}var nn=null;function ky(){if(nn===null)throw Error(i(459));var c=nn;return nn=null,c}function ib(c){if(c===ju||c===_l)throw Error(i(483))}var Gu=null,qu=0;function zy(c){var f=qu;return qu+=1,Gu===null&&(Gu=[]),nb(Gu,c,f)}function Cm(c,f){f=f.props.ref,c.ref=f!==void 0?f:null}function Am(c,f){throw f.$$typeof===y?Error(i(525)):(c=Object.prototype.toString.call(f),Error(i(31,c==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":c)))}function Ld(c){function f(Ce,_e){if(c){var Pe=Ce.deletions;Pe===null?(Ce.deletions=[_e],Ce.flags|=16):Pe.push(_e)}}function g(Ce,_e){if(!c)return null;for(;_e!==null;)f(Ce,_e),_e=_e.sibling;return null}function b(Ce){for(var _e=new Map;Ce!==null;)Ce.key!==null?_e.set(Ce.key,Ce):_e.set(Ce.index,Ce),Ce=Ce.sibling;return _e}function R(Ce,_e){return Ce=ec(Ce,_e),Ce.index=0,Ce.sibling=null,Ce}function k(Ce,_e,Pe){return Ce.index=Pe,c?(Pe=Ce.alternate,Pe!==null?(Pe=Pe.index,Pe<_e?(Ce.flags|=67108866,_e):Pe):(Ce.flags|=67108866,_e)):(Ce.flags|=1048576,_e)}function $(Ce){return c&&Ce.alternate===null&&(Ce.flags|=67108866),Ce}function ie(Ce,_e,Pe,et){return _e===null||_e.tag!==6?(_e=Iy(Pe,Ce.mode,et),_e.return=Ce,_e):(_e=R(_e,Pe),_e.return=Ce,_e)}function ye(Ce,_e,Pe,et){var en=Pe.type;return en===x?Ke(Ce,_e,Pe.props.children,et,Pe.key):_e!==null&&(_e.elementType===en||typeof en=="object"&&en!==null&&en.$$typeof===D&&th(en)===_e.type)?(_e=R(_e,Pe.props),Cm(_e,Pe),_e.return=Ce,_e):(_e=_m(Pe.type,Pe.key,Pe.props,null,Ce.mode,et),Cm(_e,Pe),_e.return=Ce,_e)}function De(Ce,_e,Pe,et){return _e===null||_e.tag!==4||_e.stateNode.containerInfo!==Pe.containerInfo||_e.stateNode.implementation!==Pe.implementation?(_e=gl(Pe,Ce.mode,et),_e.return=Ce,_e):(_e=R(_e,Pe.children||[]),_e.return=Ce,_e)}function Ke(Ce,_e,Pe,et,en){return _e===null||_e.tag!==7?(_e=Vc(Pe,Ce.mode,et,en),_e.return=Ce,_e):(_e=R(_e,Pe),_e.return=Ce,_e)}function tt(Ce,_e,Pe){if(typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint")return _e=Iy(""+_e,Ce.mode,Pe),_e.return=Ce,_e;if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case v:return Pe=_m(_e.type,_e.key,_e.props,null,Ce.mode,Pe),Cm(Pe,_e),Pe.return=Ce,Pe;case _:return _e=gl(_e,Ce.mode,Pe),_e.return=Ce,_e;case D:return _e=th(_e),tt(Ce,_e,Pe)}if(J(_e)||z(_e))return _e=Vc(_e,Ce.mode,Pe,null),_e.return=Ce,_e;if(typeof _e.then=="function")return tt(Ce,zy(_e),Pe);if(_e.$$typeof===C)return tt(Ce,Em(Ce,_e),Pe);Am(Ce,_e)}return null}function Be(Ce,_e,Pe,et){var en=_e!==null?_e.key:null;if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number"||typeof Pe=="bigint")return en!==null?null:ie(Ce,_e,""+Pe,et);if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case v:return Pe.key===en?ye(Ce,_e,Pe,et):null;case _:return Pe.key===en?De(Ce,_e,Pe,et):null;case D:return Pe=th(Pe),Be(Ce,_e,Pe,et)}if(J(Pe)||z(Pe))return en!==null?null:Ke(Ce,_e,Pe,et,null);if(typeof Pe.then=="function")return Be(Ce,_e,zy(Pe),et);if(Pe.$$typeof===C)return Be(Ce,_e,Em(Ce,Pe),et);Am(Ce,Pe)}return null}function $e(Ce,_e,Pe,et,en){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return Ce=Ce.get(Pe)||null,ie(_e,Ce,""+et,en);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case v:return Ce=Ce.get(et.key===null?Pe:et.key)||null,ye(_e,Ce,et,en);case _:return Ce=Ce.get(et.key===null?Pe:et.key)||null,De(_e,Ce,et,en);case D:return et=th(et),$e(Ce,_e,Pe,et,en)}if(J(et)||z(et))return Ce=Ce.get(Pe)||null,Ke(_e,Ce,et,en,null);if(typeof et.then=="function")return $e(Ce,_e,Pe,zy(et),en);if(et.$$typeof===C)return $e(Ce,_e,Pe,Em(_e,et),en);Am(_e,et)}return null}function Ft(Ce,_e,Pe,et){for(var en=null,Ci=null,Gt=_e,Hn=_e=0,ri=null;Gt!==null&&Hn<Pe.length;Hn++){Gt.index>Hn?(ri=Gt,Gt=null):ri=Gt.sibling;var Ai=Be(Ce,Gt,Pe[Hn],et);if(Ai===null){Gt===null&&(Gt=ri);break}c&&Gt&&Ai.alternate===null&&f(Ce,Gt),_e=k(Ai,_e,Hn),Ci===null?en=Ai:Ci.sibling=Ai,Ci=Ai,Gt=ri}if(Hn===Pe.length)return g(Ce,Gt),Qn&&Hc(Ce,Hn),en;if(Gt===null){for(;Hn<Pe.length;Hn++)Gt=tt(Ce,Pe[Hn],et),Gt!==null&&(_e=k(Gt,_e,Hn),Ci===null?en=Gt:Ci.sibling=Gt,Ci=Gt);return Qn&&Hc(Ce,Hn),en}for(Gt=b(Gt);Hn<Pe.length;Hn++)ri=$e(Gt,Ce,Hn,Pe[Hn],et),ri!==null&&(c&&ri.alternate!==null&&Gt.delete(ri.key===null?Hn:ri.key),_e=k(ri,_e,Hn),Ci===null?en=ri:Ci.sibling=ri,Ci=ri);return c&&Gt.forEach(function(tp){return f(Ce,tp)}),Qn&&Hc(Ce,Hn),en}function ln(Ce,_e,Pe,et){if(Pe==null)throw Error(i(151));for(var en=null,Ci=null,Gt=_e,Hn=_e=0,ri=null,Ai=Pe.next();Gt!==null&&!Ai.done;Hn++,Ai=Pe.next()){Gt.index>Hn?(ri=Gt,Gt=null):ri=Gt.sibling;var tp=Be(Ce,Gt,Ai.value,et);if(tp===null){Gt===null&&(Gt=ri);break}c&&Gt&&tp.alternate===null&&f(Ce,Gt),_e=k(tp,_e,Hn),Ci===null?en=tp:Ci.sibling=tp,Ci=tp,Gt=ri}if(Ai.done)return g(Ce,Gt),Qn&&Hc(Ce,Hn),en;if(Gt===null){for(;!Ai.done;Hn++,Ai=Pe.next())Ai=tt(Ce,Ai.value,et),Ai!==null&&(_e=k(Ai,_e,Hn),Ci===null?en=Ai:Ci.sibling=Ai,Ci=Ai);return Qn&&Hc(Ce,Hn),en}for(Gt=b(Gt);!Ai.done;Hn++,Ai=Pe.next())Ai=$e(Gt,Ce,Hn,Ai.value,et),Ai!==null&&(c&&Ai.alternate!==null&&Gt.delete(Ai.key===null?Hn:Ai.key),_e=k(Ai,_e,Hn),Ci===null?en=Ai:Ci.sibling=Ai,Ci=Ai);return c&&Gt.forEach(function($X){return f(Ce,$X)}),Qn&&Hc(Ce,Hn),en}function $i(Ce,_e,Pe,et){if(typeof Pe=="object"&&Pe!==null&&Pe.type===x&&Pe.key===null&&(Pe=Pe.props.children),typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case v:e:{for(var en=Pe.key;_e!==null;){if(_e.key===en){if(en=Pe.type,en===x){if(_e.tag===7){g(Ce,_e.sibling),et=R(_e,Pe.props.children),et.return=Ce,Ce=et;break e}}else if(_e.elementType===en||typeof en=="object"&&en!==null&&en.$$typeof===D&&th(en)===_e.type){g(Ce,_e.sibling),et=R(_e,Pe.props),Cm(et,Pe),et.return=Ce,Ce=et;break e}g(Ce,_e);break}else f(Ce,_e);_e=_e.sibling}Pe.type===x?(et=Vc(Pe.props.children,Ce.mode,et,Pe.key),et.return=Ce,Ce=et):(et=_m(Pe.type,Pe.key,Pe.props,null,Ce.mode,et),Cm(et,Pe),et.return=Ce,Ce=et)}return $(Ce);case _:e:{for(en=Pe.key;_e!==null;){if(_e.key===en)if(_e.tag===4&&_e.stateNode.containerInfo===Pe.containerInfo&&_e.stateNode.implementation===Pe.implementation){g(Ce,_e.sibling),et=R(_e,Pe.children||[]),et.return=Ce,Ce=et;break e}else{g(Ce,_e);break}else f(Ce,_e);_e=_e.sibling}et=gl(Pe,Ce.mode,et),et.return=Ce,Ce=et}return $(Ce);case D:return Pe=th(Pe),$i(Ce,_e,Pe,et)}if(J(Pe))return Ft(Ce,_e,Pe,et);if(z(Pe)){if(en=z(Pe),typeof en!="function")throw Error(i(150));return Pe=en.call(Pe),ln(Ce,_e,Pe,et)}if(typeof Pe.then=="function")return $i(Ce,_e,zy(Pe),et);if(Pe.$$typeof===C)return $i(Ce,_e,Em(Ce,Pe),et);Am(Ce,Pe)}return typeof Pe=="string"&&Pe!==""||typeof Pe=="number"||typeof Pe=="bigint"?(Pe=""+Pe,_e!==null&&_e.tag===6?(g(Ce,_e.sibling),et=R(_e,Pe),et.return=Ce,Ce=et):(g(Ce,_e),et=Iy(Pe,Ce.mode,et),et.return=Ce,Ce=et),$(Ce)):g(Ce,_e)}return function(Ce,_e,Pe,et){try{qu=0;var en=$i(Ce,_e,Pe,et);return Gu=null,en}catch(Gt){if(Gt===ju||Gt===_l)throw Gt;var Ci=da(29,Gt,null,Ce.mode);return Ci.lanes=et,Ci.return=Ce,Ci}finally{}}}var nh=Ld(!0),mE=Ld(!1),Wu=!1;function rb(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sb(c,f){c=c.updateQueue,f.updateQueue===c&&(f.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function sc(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function Xc(c,f,g){var b=c.updateQueue;if(b===null)return null;if(b=b.shared,(ni&2)!==0){var R=b.pending;return R===null?f.next=f:(f.next=R.next,R.next=f),b.pending=f,f=Od(c),Oy(c,null,g),f}return vm(c,b,f,g),Od(c)}function $u(c,f,g){if(f=f.updateQueue,f!==null&&(f=f.shared,(g&4194048)!==0)){var b=f.lanes;b&=c.pendingLanes,g|=b,f.lanes=g,_n(c,g)}}function By(c,f){var g=c.updateQueue,b=c.alternate;if(b!==null&&(b=b.updateQueue,g===b)){var R=null,k=null;if(g=g.firstBaseUpdate,g!==null){do{var $={lane:g.lane,tag:g.tag,payload:g.payload,callback:null,next:null};k===null?R=k=$:k=k.next=$,g=g.next}while(g!==null);k===null?R=k=f:k=k.next=f}else R=k=f;g={baseState:b.baseState,firstBaseUpdate:R,lastBaseUpdate:k,shared:b.shared,callbacks:b.callbacks},c.updateQueue=g;return}c=g.lastBaseUpdate,c===null?g.firstBaseUpdate=f:c.next=f,g.lastBaseUpdate=f}var ab=!1;function Mm(){if(ab){var c=vl;if(c!==null)throw c}}function ih(c,f,g,b){ab=!1;var R=c.updateQueue;Wu=!1;var k=R.firstBaseUpdate,$=R.lastBaseUpdate,ie=R.shared.pending;if(ie!==null){R.shared.pending=null;var ye=ie,De=ye.next;ye.next=null,$===null?k=De:$.next=De,$=ye;var Ke=c.alternate;Ke!==null&&(Ke=Ke.updateQueue,ie=Ke.lastBaseUpdate,ie!==$&&(ie===null?Ke.firstBaseUpdate=De:ie.next=De,Ke.lastBaseUpdate=ye))}if(k!==null){var tt=R.baseState;$=0,Ke=De=ye=null,ie=k;do{var Be=ie.lane&-536870913,$e=Be!==ie.lane;if($e?(Kn&Be)===Be:(b&Be)===Be){Be!==0&&Be===$c&&(ab=!0),Ke!==null&&(Ke=Ke.next={lane:0,tag:ie.tag,payload:ie.payload,callback:null,next:null});e:{var Ft=c,ln=ie;Be=f;var $i=g;switch(ln.tag){case 1:if(Ft=ln.payload,typeof Ft=="function"){tt=Ft.call($i,tt,Be);break e}tt=Ft;break e;case 3:Ft.flags=Ft.flags&-65537|128;case 0:if(Ft=ln.payload,Be=typeof Ft=="function"?Ft.call($i,tt,Be):Ft,Be==null)break e;tt=p({},tt,Be);break e;case 2:Wu=!0}}Be=ie.callback,Be!==null&&(c.flags|=64,$e&&(c.flags|=8192),$e=R.callbacks,$e===null?R.callbacks=[Be]:$e.push(Be))}else $e={lane:Be,tag:ie.tag,payload:ie.payload,callback:ie.callback,next:null},Ke===null?(De=Ke=$e,ye=tt):Ke=Ke.next=$e,$|=Be;if(ie=ie.next,ie===null){if(ie=R.shared.pending,ie===null)break;$e=ie,ie=$e.next,$e.next=null,R.lastBaseUpdate=$e,R.shared.pending=null}}while(!0);Ke===null&&(ye=tt),R.baseState=ye,R.firstBaseUpdate=De,R.lastBaseUpdate=Ke,k===null&&(R.shared.lanes=0),xo|=$,c.lanes=$,c.memoizedState=tt}}function ac(c,f){if(typeof c!="function")throw Error(i(191,c));c.call(f)}function Ns(c,f){var g=c.callbacks;if(g!==null)for(c.callbacks=null,c=0;c<g.length;c++)ac(g[c],f)}var uo=Y(null),ma=Y(0);function ob(c,f){c=Pr,de(ma,c),de(uo,f),Pr=c|f.baseLanes}function lb(){de(ma,Pr),de(uo,uo.current)}function Xs(){Pr=ma.current,le(uo),le(ma)}var os=Y(null),Vo=null;function Xu(c){var f=c.alternate;de(mr,mr.current&1),de(os,c),Vo===null&&(f===null||uo.current!==null||f.memoizedState!==null)&&(Vo=c)}function cb(c){de(mr,mr.current),de(os,c),Vo===null&&(Vo=c)}function gE(c){c.tag===22?(de(mr,mr.current),de(os,c),Vo===null&&(Vo=c)):Yc()}function Yc(){de(mr,mr.current),de(os,os.current)}function fo(c){le(os),Vo===c&&(Vo=null),le(mr)}var mr=Y(0);function Fy(c){for(var f=c;f!==null;){if(f.tag===13){var g=f.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||wR(g)||CR(g)))return f}else if(f.tag===19&&(f.memoizedProps.revealOrder==="forwards"||f.memoizedProps.revealOrder==="backwards"||f.memoizedProps.revealOrder==="unstable_legacy-backwards"||f.memoizedProps.revealOrder==="together")){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var La=0,un=null,Di=null,$r=null,Vy=!1,oc=!1,rh=!1,Hy=0,Rm=0,lc=null,iR=0;function gr(){throw Error(i(321))}function ub(c,f){if(f===null)return!1;for(var g=0;g<f.length&&g<c.length;g++)if(!Qi(c[g],f[g]))return!1;return!0}function fb(c,f,g,b,R,k){return La=k,un=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,q.H=c===null||c.memoizedState===null?UE:zd,rh=!1,k=g(b,R),rh=!1,oc&&(k=vE(f,g,b,R)),yE(c),k}function yE(c){q.H=Nm;var f=Di!==null&&Di.next!==null;if(La=0,$r=Di=un=null,Vy=!1,Rm=0,lc=null,f)throw Error(i(300));c===null||Ji||(c=c.dependencies,c!==null&&Pd(c)&&(Ji=!0))}function vE(c,f,g,b){un=c;var R=0;do{if(oc&&(lc=null),Rm=0,oc=!1,25<=R)throw Error(i(301));if(R+=1,$r=Di=null,c.updateQueue!=null){var k=c.updateQueue;k.lastEffect=null,k.events=null,k.stores=null,k.memoCache!=null&&(k.memoCache.index=0)}q.H=Lm,k=f(g,b)}while(oc);return k}function rR(){var c=q.H,f=c.useState()[0];return f=typeof f.then=="function"?Im(f):f,c=c.useState()[0],(Di!==null?Di.memoizedState:null)!==c&&(un.flags|=1024),f}function hb(){var c=Hy!==0;return Hy=0,c}function db(c,f,g){f.updateQueue=c.updateQueue,f.flags&=-2053,c.lanes&=~g}function pb(c){if(Vy){for(c=c.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}Vy=!1}La=0,$r=Di=un=null,oc=!1,Rm=Hy=0,lc=null}function ga(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $r===null?un.memoizedState=$r=c:$r=$r.next=c,$r}function Mr(){if(Di===null){var c=un.alternate;c=c!==null?c.memoizedState:null}else c=Di.next;var f=$r===null?un.memoizedState:$r.next;if(f!==null)$r=f,Di=c;else{if(c===null)throw un.alternate===null?Error(i(467)):Error(i(310));Di=c,c={memoizedState:Di.memoizedState,baseState:Di.baseState,baseQueue:Di.baseQueue,queue:Di.queue,next:null},$r===null?un.memoizedState=$r=c:$r=$r.next=c}return $r}function Om(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Im(c){var f=Rm;return Rm+=1,lc===null&&(lc=[]),c=nb(lc,c,f),f=un,($r===null?f.memoizedState:$r.next)===null&&(f=f.alternate,q.H=f===null||f.memoizedState===null?UE:zd),c}function jy(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return Im(c);if(c.$$typeof===C)return Ss(c)}throw Error(i(438,String(c)))}function mb(c){var f=null,g=un.updateQueue;if(g!==null&&(f=g.memoCache),f==null){var b=un.alternate;b!==null&&(b=b.updateQueue,b!==null&&(b=b.memoCache,b!=null&&(f={data:b.data.map(function(R){return R.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),g===null&&(g=Om(),un.updateQueue=g),g.memoCache=f,g=f.data[f.index],g===void 0)for(g=f.data[f.index]=Array(c),b=0;b<c;b++)g[b]=U;return f.index++,g}function Kc(c,f){return typeof f=="function"?f(c):f}function Gy(c){var f=Mr();return gb(f,Di,c)}function gb(c,f,g){var b=c.queue;if(b===null)throw Error(i(311));b.lastRenderedReducer=g;var R=c.baseQueue,k=b.pending;if(k!==null){if(R!==null){var $=R.next;R.next=k.next,k.next=$}f.baseQueue=R=k,b.pending=null}if(k=c.baseState,R===null)c.memoizedState=k;else{f=R.next;var ie=$=null,ye=null,De=f,Ke=!1;do{var tt=De.lane&-536870913;if(tt!==De.lane?(Kn&tt)===tt:(La&tt)===tt){var Be=De.revertLane;if(Be===0)ye!==null&&(ye=ye.next={lane:0,revertLane:0,gesture:null,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null}),tt===$c&&(Ke=!0);else if((La&Be)===Be){De=De.next,Be===$c&&(Ke=!0);continue}else tt={lane:0,revertLane:De.revertLane,gesture:null,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null},ye===null?(ie=ye=tt,$=k):ye=ye.next=tt,un.lanes|=Be,xo|=Be;tt=De.action,rh&&g(k,tt),k=De.hasEagerState?De.eagerState:g(k,tt)}else Be={lane:tt,revertLane:De.revertLane,gesture:De.gesture,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null},ye===null?(ie=ye=Be,$=k):ye=ye.next=Be,un.lanes|=tt,xo|=tt;De=De.next}while(De!==null&&De!==f);if(ye===null?$=k:ye.next=ie,!Qi(k,c.memoizedState)&&(Ji=!0,Ke&&(g=vl,g!==null)))throw g;c.memoizedState=k,c.baseState=$,c.baseQueue=ye,b.lastRenderedState=k}return R===null&&(b.lanes=0),[c.memoizedState,b.dispatch]}function qy(c){var f=Mr(),g=f.queue;if(g===null)throw Error(i(311));g.lastRenderedReducer=c;var b=g.dispatch,R=g.pending,k=f.memoizedState;if(R!==null){g.pending=null;var $=R=R.next;do k=c(k,$.action),$=$.next;while($!==R);Qi(k,f.memoizedState)||(Ji=!0),f.memoizedState=k,f.baseQueue===null&&(f.baseState=k),g.lastRenderedState=k}return[k,b]}function yb(c,f,g){var b=un,R=Mr(),k=Qn;if(k){if(g===void 0)throw Error(i(407));g=g()}else g=f();var $=!Qi((Di||R).memoizedState,g);if($&&(R.memoizedState=g,Ji=!0),R=R.queue,Sb(_b.bind(null,b,R,c),[c]),R.getSnapshot!==f||$||$r!==null&&$r.memoizedState.tag&1){if(b.flags|=2048,Ud(9,{destroy:void 0},vb.bind(null,b,R,g,f),null),Ti===null)throw Error(i(349));k||(La&127)!==0||_E(b,f,g)}return g}function _E(c,f,g){c.flags|=16384,c={getSnapshot:f,value:g},f=un.updateQueue,f===null?(f=Om(),un.updateQueue=f,f.stores=[c]):(g=f.stores,g===null?f.stores=[c]:g.push(c))}function vb(c,f,g,b){f.value=g,f.getSnapshot=b,bb(f)&&Wy(c)}function _b(c,f,g){return g(function(){bb(f)&&Wy(c)})}function bb(c){var f=c.getSnapshot;c=c.value;try{var g=f();return!Qi(c,g)}catch{return!0}}function Wy(c){var f=zu(c,2);f!==null&&m(f,c,2)}function Pm(c){var f=ga();if(typeof c=="function"){var g=c;if(c=g(),rh){_t(!0);try{g()}finally{_t(!1)}}}return f.memoizedState=f.baseState=c,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kc,lastRenderedState:c},f}function bE(c,f,g,b){return c.baseState=g,gb(c,Di,typeof b=="function"?b:Kc)}function sR(c,f,g,b,R){if(Zc(c))throw Error(i(485));if(c=f.action,c!==null){var k={payload:R,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function($){k.listeners.push($)}};q.T!==null?g(!0):k.isTransition=!1,b(k),g=f.pending,g===null?(k.next=f.pending=k,xE(f,k)):(k.next=g.next,f.pending=g.next=k)}}function xE(c,f){var g=f.action,b=f.payload,R=c.state;if(f.isTransition){var k=q.T,$={};q.T=$;try{var ie=g(R,b),ye=q.S;ye!==null&&ye($,ie),SE(c,f,ie)}catch(De){$y(c,f,De)}finally{k!==null&&$.types!==null&&(k.types=$.types),q.T=k}}else try{k=g(R,b),SE(c,f,k)}catch(De){$y(c,f,De)}}function SE(c,f,g){g!==null&&typeof g=="object"&&typeof g.then=="function"?g.then(function(b){xb(c,f,b)},function(b){return $y(c,f,b)}):xb(c,f,g)}function xb(c,f,g){f.status="fulfilled",f.value=g,EE(f),c.state=g,f=c.pending,f!==null&&(g=f.next,g===f?c.pending=null:(g=g.next,f.next=g,xE(c,g)))}function $y(c,f,g){var b=c.pending;if(c.pending=null,b!==null){b=b.next;do f.status="rejected",f.reason=g,EE(f),f=f.next;while(f!==b)}c.action=null}function EE(c){c=c.listeners;for(var f=0;f<c.length;f++)(0,c[f])()}function TE(c,f){return f}function wE(c,f){if(Qn){var g=Ti.formState;if(g!==null){e:{var b=un;if(Qn){if(Gi){t:{for(var R=Gi,k=xs;R.nodeType!==8;){if(!k){R=null;break t}if(R=pc(R.nextSibling),R===null){R=null;break t}}k=R.data,R=k==="F!"||k==="F"?R:null}if(R){Gi=pc(R.nextSibling),b=R.data==="F!";break e}}Yn(b)}b=!1}b&&(f=g[0])}}return g=ga(),g.memoizedState=g.baseState=f,b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:TE,lastRenderedState:f},g.queue=b,g=LE.bind(null,un,b),b.dispatch=g,b=Pm(!1),k=Dm.bind(null,un,!1,b.queue),b=ga(),R={state:f,dispatch:null,action:c,pending:null},b.queue=R,g=sR.bind(null,un,R,k,g),R.dispatch=g,b.memoizedState=c,[f,g,!1]}function CE(c){var f=Mr();return AE(f,Di,c)}function AE(c,f,g){if(f=gb(c,f,TE)[0],c=Gy(Kc)[0],typeof f=="object"&&f!==null&&typeof f.then=="function")try{var b=Im(f)}catch($){throw $===ju?_l:$}else b=f;f=Mr();var R=f.queue,k=R.dispatch;return g!==f.memoizedState&&(un.flags|=2048,Ud(9,{destroy:void 0},aR.bind(null,R,g),null)),[b,k,c]}function aR(c,f){c.action=f}function ME(c){var f=Mr(),g=Di;if(g!==null)return AE(f,g,c);Mr(),f=f.memoizedState,g=Mr();var b=g.queue.dispatch;return g.memoizedState=c,[f,b,!1]}function Ud(c,f,g,b){return c={tag:c,create:g,deps:b,inst:f,next:null},f=un.updateQueue,f===null&&(f=Om(),un.updateQueue=f),g=f.lastEffect,g===null?f.lastEffect=c.next=c:(b=g.next,g.next=c,c.next=b,f.lastEffect=c),c}function RE(){return Mr().memoizedState}function Xy(c,f,g,b){var R=ga();un.flags|=c,R.memoizedState=Ud(1|f,{destroy:void 0},g,b===void 0?null:b)}function Yy(c,f,g,b){var R=Mr();b=b===void 0?null:b;var k=R.memoizedState.inst;Di!==null&&b!==null&&ub(b,Di.memoizedState.deps)?R.memoizedState=Ud(f,k,g,b):(un.flags|=c,R.memoizedState=Ud(1|f,k,g,b))}function OE(c,f){Xy(8390656,8,c,f)}function Sb(c,f){Yy(2048,8,c,f)}function IE(c){un.flags|=4;var f=un.updateQueue;if(f===null)f=Om(),un.updateQueue=f,f.events=[c];else{var g=f.events;g===null?f.events=[c]:g.push(c)}}function PE(c){var f=Mr().memoizedState;return IE({ref:f,nextImpl:c}),function(){if((ni&2)!==0)throw Error(i(440));return f.impl.apply(void 0,arguments)}}function DE(c,f){return Yy(4,2,c,f)}function ho(c,f){return Yy(4,4,c,f)}function Eb(c,f){if(typeof f=="function"){c=c();var g=f(c);return function(){typeof g=="function"?g():f(null)}}if(f!=null)return c=c(),f.current=c,function(){f.current=null}}function Ky(c,f,g){g=g!=null?g.concat([c]):null,Yy(4,4,Eb.bind(null,f,c),g)}function Zy(){}function Tb(c,f){var g=Mr();f=f===void 0?null:f;var b=g.memoizedState;return f!==null&&ub(f,b[1])?b[0]:(g.memoizedState=[c,f],c)}function wb(c,f){var g=Mr();f=f===void 0?null:f;var b=g.memoizedState;if(f!==null&&ub(f,b[1]))return b[0];if(b=c(),rh){_t(!0);try{c()}finally{_t(!1)}}return g.memoizedState=[b,f],b}function Cb(c,f,g){return g===void 0||(La&1073741824)!==0&&(Kn&261930)===0?c.memoizedState=f:(c.memoizedState=g,c=d(),un.lanes|=c,xo|=c,g)}function Ab(c,f,g,b){return Qi(g,f)?g:uo.current!==null?(c=Cb(c,g,b),Qi(c,f)||(Ji=!0),c):(La&42)===0||(La&1073741824)!==0&&(Kn&261930)===0?(Ji=!0,c.memoizedState=g):(c=d(),un.lanes|=c,xo|=c,f)}function Mb(c,f,g,b,R){var k=W.p;W.p=k!==0&&8>k?k:8;var $=q.T,ie={};q.T=ie,Dm(c,!1,f,g);try{var ye=R(),De=q.S;if(De!==null&&De(ie,ye),ye!==null&&typeof ye=="object"&&typeof ye.then=="function"){var Ke=tb(ye,b);kd(c,f,Ke,va(c))}else kd(c,f,b,va(c))}catch(tt){kd(c,f,{then:function(){},status:"rejected",reason:tt},va())}finally{W.p=k,$!==null&&ie.types!==null&&($.types=ie.types),q.T=$}}function oR(){}function Rb(c,f,g,b){if(c.tag!==5)throw Error(i(476));var R=NE(c).queue;Mb(c,R,f,Q,g===null?oR:function(){return Ob(c),g(b)})}function NE(c){var f=c.memoizedState;if(f!==null)return f;f={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kc,lastRenderedState:Q},next:null};var g={};return f.next={memoizedState:g,baseState:g,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kc,lastRenderedState:g},next:null},c.memoizedState=f,c=c.alternate,c!==null&&(c.memoizedState=f),f}function Ob(c){var f=NE(c);f.next===null&&(f=c.alternate.memoizedState),kd(c,f.next.queue,{},va())}function Ib(){return Ss(Gb)}function Ls(){return Mr().memoizedState}function Pb(){return Mr().memoizedState}function lR(c){for(var f=c.return;f!==null;){switch(f.tag){case 24:case 3:var g=va();c=sc(g);var b=Xc(f,c,g);b!==null&&(m(b,f,g),$u(b,f,g)),f={cache:Q_()},c.payload=f;return}f=f.return}}function cR(c,f,g){var b=va();g={lane:b,revertLane:0,gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},Zc(c)?sh(f,g):(g=Rd(c,f,g,b),g!==null&&(m(g,c,b),Ua(g,f,b)))}function LE(c,f,g){var b=va();kd(c,f,g,b)}function kd(c,f,g,b){var R={lane:b,revertLane:0,gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null};if(Zc(c))sh(f,R);else{var k=c.alternate;if(c.lanes===0&&(k===null||k.lanes===0)&&(k=f.lastRenderedReducer,k!==null))try{var $=f.lastRenderedState,ie=k($,g);if(R.hasEagerState=!0,R.eagerState=ie,Qi(ie,$))return vm(c,f,R,0),Ti===null&&ku(),!1}catch{}finally{}if(g=Rd(c,f,R,b),g!==null)return m(g,c,b),Ua(g,f,b),!0}return!1}function Dm(c,f,g,b){if(b={lane:2,revertLane:dR(),gesture:null,action:b,hasEagerState:!1,eagerState:null,next:null},Zc(c)){if(f)throw Error(i(479))}else f=Rd(c,g,b,2),f!==null&&m(f,c,2)}function Zc(c){var f=c.alternate;return c===un||f!==null&&f===un}function sh(c,f){oc=Vy=!0;var g=c.pending;g===null?f.next=f:(f.next=g.next,g.next=f),c.pending=f}function Ua(c,f,g){if((g&4194048)!==0){var b=f.lanes;b&=c.pendingLanes,g|=b,f.lanes=g,_n(c,g)}}var Nm={readContext:Ss,use:jy,useCallback:gr,useContext:gr,useEffect:gr,useImperativeHandle:gr,useLayoutEffect:gr,useInsertionEffect:gr,useMemo:gr,useReducer:gr,useRef:gr,useState:gr,useDebugValue:gr,useDeferredValue:gr,useTransition:gr,useSyncExternalStore:gr,useId:gr,useHostTransitionStatus:gr,useFormState:gr,useActionState:gr,useOptimistic:gr,useMemoCache:gr,useCacheRefresh:gr};Nm.useEffectEvent=gr;var UE={readContext:Ss,use:jy,useCallback:function(c,f){return ga().memoizedState=[c,f===void 0?null:f],c},useContext:Ss,useEffect:OE,useImperativeHandle:function(c,f,g){g=g!=null?g.concat([c]):null,Xy(4194308,4,Eb.bind(null,f,c),g)},useLayoutEffect:function(c,f){return Xy(4194308,4,c,f)},useInsertionEffect:function(c,f){Xy(4,2,c,f)},useMemo:function(c,f){var g=ga();f=f===void 0?null:f;var b=c();if(rh){_t(!0);try{c()}finally{_t(!1)}}return g.memoizedState=[b,f],b},useReducer:function(c,f,g){var b=ga();if(g!==void 0){var R=g(f);if(rh){_t(!0);try{g(f)}finally{_t(!1)}}}else R=f;return b.memoizedState=b.baseState=R,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:R},b.queue=c,c=c.dispatch=cR.bind(null,un,c),[b.memoizedState,c]},useRef:function(c){var f=ga();return c={current:c},f.memoizedState=c},useState:function(c){c=Pm(c);var f=c.queue,g=LE.bind(null,un,f);return f.dispatch=g,[c.memoizedState,g]},useDebugValue:Zy,useDeferredValue:function(c,f){var g=ga();return Cb(g,c,f)},useTransition:function(){var c=Pm(!1);return c=Mb.bind(null,un,c.queue,!0,!1),ga().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,f,g){var b=un,R=ga();if(Qn){if(g===void 0)throw Error(i(407));g=g()}else{if(g=f(),Ti===null)throw Error(i(349));(Kn&127)!==0||_E(b,f,g)}R.memoizedState=g;var k={value:g,getSnapshot:f};return R.queue=k,OE(_b.bind(null,b,k,c),[c]),b.flags|=2048,Ud(9,{destroy:void 0},vb.bind(null,b,k,g,f),null),g},useId:function(){var c=ga(),f=Ti.identifierPrefix;if(Qn){var g=ic,b=nc;g=(b&~(1<<32-Ht(b)-1)).toString(32)+g,f="_"+f+"R_"+g,g=Hy++,0<g&&(f+="H"+g.toString(32)),f+="_"}else g=iR++,f="_"+f+"r_"+g.toString(32)+"_";return c.memoizedState=f},useHostTransitionStatus:Ib,useFormState:wE,useActionState:wE,useOptimistic:function(c){var f=ga();f.memoizedState=f.baseState=c;var g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=g,f=Dm.bind(null,un,!0,g),g.dispatch=f,[c,f]},useMemoCache:mb,useCacheRefresh:function(){return ga().memoizedState=lR.bind(null,un)},useEffectEvent:function(c){var f=ga(),g={impl:c};return f.memoizedState=g,function(){if((ni&2)!==0)throw Error(i(440));return g.impl.apply(void 0,arguments)}}},zd={readContext:Ss,use:jy,useCallback:Tb,useContext:Ss,useEffect:Sb,useImperativeHandle:Ky,useInsertionEffect:DE,useLayoutEffect:ho,useMemo:wb,useReducer:Gy,useRef:RE,useState:function(){return Gy(Kc)},useDebugValue:Zy,useDeferredValue:function(c,f){var g=Mr();return Ab(g,Di.memoizedState,c,f)},useTransition:function(){var c=Gy(Kc)[0],f=Mr().memoizedState;return[typeof c=="boolean"?c:Im(c),f]},useSyncExternalStore:yb,useId:Ls,useHostTransitionStatus:Ib,useFormState:CE,useActionState:CE,useOptimistic:function(c,f){var g=Mr();return bE(g,Di,c,f)},useMemoCache:mb,useCacheRefresh:Pb};zd.useEffectEvent=PE;var Lm={readContext:Ss,use:jy,useCallback:Tb,useContext:Ss,useEffect:Sb,useImperativeHandle:Ky,useInsertionEffect:DE,useLayoutEffect:ho,useMemo:wb,useReducer:qy,useRef:RE,useState:function(){return qy(Kc)},useDebugValue:Zy,useDeferredValue:function(c,f){var g=Mr();return Di===null?Cb(g,c,f):Ab(g,Di.memoizedState,c,f)},useTransition:function(){var c=qy(Kc)[0],f=Mr().memoizedState;return[typeof c=="boolean"?c:Im(c),f]},useSyncExternalStore:yb,useId:Ls,useHostTransitionStatus:Ib,useFormState:ME,useActionState:ME,useOptimistic:function(c,f){var g=Mr();return Di!==null?bE(g,Di,c,f):(g.baseState=c,[c,g.queue.dispatch])},useMemoCache:mb,useCacheRefresh:Pb};Lm.useEffectEvent=PE;function Bd(c,f,g,b){f=c.memoizedState,g=g(b,f),g=g==null?f:p({},f,g),c.memoizedState=g,c.lanes===0&&(c.updateQueue.baseState=g)}var Um={enqueueSetState:function(c,f,g){c=c._reactInternals;var b=va(),R=sc(b);R.payload=f,g!=null&&(R.callback=g),f=Xc(c,R,b),f!==null&&(m(f,c,b),$u(f,c,b))},enqueueReplaceState:function(c,f,g){c=c._reactInternals;var b=va(),R=sc(b);R.tag=1,R.payload=f,g!=null&&(R.callback=g),f=Xc(c,R,b),f!==null&&(m(f,c,b),$u(f,c,b))},enqueueForceUpdate:function(c,f){c=c._reactInternals;var g=va(),b=sc(g);b.tag=2,f!=null&&(b.callback=f),f=Xc(c,b,g),f!==null&&(m(f,c,g),$u(f,c,g))}};function kE(c,f,g,b,R,k,$){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(b,k,$):f.prototype&&f.prototype.isPureReactComponent?!Ed(g,b)||!Ed(R,k):!0}function zE(c,f,g,b){c=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(g,b),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(g,b),f.state!==c&&Um.enqueueReplaceState(f,f.state,null)}function Us(c,f){var g=f;if("ref"in f){g={};for(var b in f)b!=="ref"&&(g[b]=f[b])}if(c=c.defaultProps){g===f&&(g=p({},g));for(var R in c)g[R]===void 0&&(g[R]=c[R])}return g}function Db(c){Uu(c)}function BE(c){console.error(c)}function Qy(c){Uu(c)}function Jy(c,f){try{var g=c.onUncaughtError;g(f.value,{componentStack:f.stack})}catch(b){setTimeout(function(){throw b})}}function FE(c,f,g){try{var b=c.onCaughtError;b(g.value,{componentStack:g.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(R){setTimeout(function(){throw R})}}function Nb(c,f,g){return g=sc(g),g.tag=3,g.payload={element:null},g.callback=function(){Jy(c,f)},g}function Fd(c){return c=sc(c),c.tag=3,c}function ka(c,f,g,b){var R=g.type.getDerivedStateFromError;if(typeof R=="function"){var k=b.value;c.payload=function(){return R(k)},c.callback=function(){FE(f,g,b)}}var $=g.stateNode;$!==null&&typeof $.componentDidCatch=="function"&&(c.callback=function(){FE(f,g,b),typeof R!="function"&&(dc===null?dc=new Set([this]):dc.add(this));var ie=b.stack;this.componentDidCatch(b.value,{componentStack:ie!==null?ie:""})})}function po(c,f,g,b,R){if(g.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){if(f=g.alternate,f!==null&&Vu(f,g,R,!0),g=os.current,g!==null){switch(g.tag){case 31:case 13:return Vo===null?bn():g.alternate===null&&wi===0&&(wi=3),g.flags&=-257,g.flags|=65536,g.lanes=R,b===wm?g.flags|=16384:(f=g.updateQueue,f===null?g.updateQueue=new Set([b]):f.add(b),uR(c,b,R)),!1;case 22:return g.flags|=65536,b===wm?g.flags|=16384:(f=g.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([b])},g.updateQueue=f):(g=f.retryQueue,g===null?f.retryQueue=new Set([b]):g.add(b)),uR(c,b,R)),!1}throw Error(i(435,g.tag))}return uR(c,b,R),bn(),!1}if(Qn)return f=os.current,f!==null?((f.flags&65536)===0&&(f.flags|=256),f.flags|=65536,f.lanes=R,b!==Dy&&(c=Error(i(422),{cause:b}),Sm(Da(c,g)))):(b!==Dy&&(f=Error(i(423),{cause:b}),Sm(Da(f,g))),c=c.current.alternate,c.flags|=65536,R&=-R,c.lanes|=R,b=Da(b,g),R=Nb(c.stateNode,b,R),By(c,R),wi!==4&&(wi=2)),!1;var k=Error(i(520),{cause:b});if(k=Da(k,g),Tl===null?Tl=[k]:Tl.push(k),wi!==4&&(wi=2),f===null)return!0;b=Da(b,g),g=f;do{switch(g.tag){case 3:return g.flags|=65536,c=R&-R,g.lanes|=c,c=Nb(g.stateNode,b,c),By(g,c),!1;case 1:if(f=g.type,k=g.stateNode,(g.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(dc===null||!dc.has(k))))return g.flags|=65536,R&=-R,g.lanes|=R,R=Fd(R),ka(R,c,g,b),By(g,R),!1}g=g.return}while(g!==null);return!1}var ev=Error(i(461)),Ji=!1;function yr(c,f,g,b){f.child=c===null?mE(f,null,g,b):nh(f,c.child,g,b)}function km(c,f,g,b,R){g=g.render;var k=f.ref;if("ref"in b){var $={};for(var ie in b)ie!=="ref"&&($[ie]=b[ie])}else $=b;return Jf(f),b=fb(c,f,g,$,k,R),ie=hb(),c!==null&&!Ji?(db(c,f,R),Sl(c,f,R)):(Qn&&ie&&Py(f),f.flags|=1,yr(c,f,b,R),f.child)}function zm(c,f,g,b,R){if(c===null){var k=g.type;return typeof k=="function"&&!pa(k)&&k.defaultProps===void 0&&g.compare===null?(f.tag=15,f.type=k,mo(c,f,k,b,R)):(c=_m(g.type,null,b,f,f.mode,R),c.ref=f.ref,c.return=f,f.child=c)}if(k=c.child,!Ku(c,R)){var $=k.memoizedProps;if(g=g.compare,g=g!==null?g:Ed,g($,b)&&c.ref===f.ref)return Sl(c,f,R)}return f.flags|=1,c=ec(k,b),c.ref=f.ref,c.return=f,f.child=c}function mo(c,f,g,b,R){if(c!==null){var k=c.memoizedProps;if(Ed(k,b)&&c.ref===f.ref)if(Ji=!1,f.pendingProps=b=k,Ku(c,R))(c.flags&131072)!==0&&(Ji=!0);else return f.lanes=c.lanes,Sl(c,f,R)}return Vd(c,f,g,b,R)}function go(c,f,g,b){var R=b.children,k=c!==null?c.memoizedState:null;if(c===null&&f.stateNode===null&&(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),b.mode==="hidden"){if((f.flags&128)!==0){if(k=k!==null?k.baseLanes|g:g,c!==null){for(b=f.child=c.child,R=0;b!==null;)R=R|b.lanes|b.childLanes,b=b.sibling;b=R&~k}else b=0,f.child=null;return cc(c,f,k,g,b)}if((g&536870912)!==0)f.memoizedState={baseLanes:0,cachePool:null},c!==null&&Nd(f,k!==null?k.cachePool:null),k!==null?ob(f,k):lb(),gE(f);else return b=f.lanes=536870912,cc(c,f,k!==null?k.baseLanes|g:g,g,b)}else k!==null?(Nd(f,k.cachePool),ob(f,k),Yc(),f.memoizedState=null):(c!==null&&Nd(f,null),lb(),Yc());return yr(c,f,R,g),f.child}function bl(c,f){return c!==null&&c.tag===22||f.stateNode!==null||(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.sibling}function cc(c,f,g,b,R){var k=rc();return k=k===null?null:{parent:Yt._currentValue,pool:k},f.memoizedState={baseLanes:g,cachePool:k},c!==null&&Nd(f,null),lb(),gE(f),c!==null&&Vu(c,f,b,!0),f.childLanes=R,null}function Ho(c,f){return f=Hd({mode:f.mode,children:f.children},c.mode),f.ref=c.ref,c.child=f,f.return=c,f}function Es(c,f,g){return nh(f,c.child,null,g),c=Ho(f,f.pendingProps),c.flags|=2,fo(f),f.memoizedState=null,c}function Bm(c,f,g){var b=f.pendingProps,R=(f.flags&128)!==0;if(f.flags&=-129,c===null){if(Qn){if(b.mode==="hidden")return c=Ho(f,b),f.lanes=536870912,bl(null,c);if(cb(f),(c=Gi)?(c=F4(c,xs),c=c!==null&&c.data==="&"?c:null,c!==null&&(f.memoizedState={dehydrated:c,treeContext:tc!==null?{id:nc,overflow:ic}:null,retryLane:536870912,hydrationErrors:null},g=cE(c),g.return=f,f.child=g,bs=f,Gi=null)):c=null,c===null)throw Yn(f);return f.lanes=536870912,null}return Ho(f,b)}var k=c.memoizedState;if(k!==null){var $=k.dehydrated;if(cb(f),R)if(f.flags&256)f.flags&=-257,f=Es(c,f,g);else if(f.memoizedState!==null)f.child=c.child,f.flags|=128,f=null;else throw Error(i(558));else if(Ji||Vu(c,f,g,!1),R=(g&c.childLanes)!==0,Ji||R){if(b=Ti,b!==null&&($=In(b,g),$!==0&&$!==k.retryLane))throw k.retryLane=$,zu(c,$),m(b,c,$),ev;bn(),f=Es(c,f,g)}else c=k.treeContext,Gi=pc($.nextSibling),bs=f,Qn=!0,jc=null,xs=!1,c!==null&&xm(f,c),f=Ho(f,b),f.flags|=4096;return f}return c=ec(c.child,{mode:b.mode,children:b.children}),c.ref=f.ref,f.child=c,c.return=f,c}function xl(c,f){var g=f.ref;if(g===null)c!==null&&c.ref!==null&&(f.flags|=4194816);else{if(typeof g!="function"&&typeof g!="object")throw Error(i(284));(c===null||c.ref!==g)&&(f.flags|=4194816)}}function Vd(c,f,g,b,R){return Jf(f),g=fb(c,f,g,b,void 0,R),b=hb(),c!==null&&!Ji?(db(c,f,R),Sl(c,f,R)):(Qn&&b&&Py(f),f.flags|=1,yr(c,f,g,R),f.child)}function Ys(c,f,g,b,R,k){return Jf(f),f.updateQueue=null,g=vE(f,b,g,R),yE(c),b=hb(),c!==null&&!Ji?(db(c,f,k),Sl(c,f,k)):(Qn&&b&&Py(f),f.flags|=1,yr(c,f,g,k),f.child)}function ks(c,f,g,b,R){if(Jf(f),f.stateNode===null){var k=Bu,$=g.contextType;typeof $=="object"&&$!==null&&(k=Ss($)),k=new g(b,k),f.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,k.updater=Um,f.stateNode=k,k._reactInternals=f,k=f.stateNode,k.props=b,k.state=f.memoizedState,k.refs={},rb(f),$=g.contextType,k.context=typeof $=="object"&&$!==null?Ss($):Bu,k.state=f.memoizedState,$=g.getDerivedStateFromProps,typeof $=="function"&&(Bd(f,g,$,b),k.state=f.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||($=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),$!==k.state&&Um.enqueueReplaceState(k,k.state,null),ih(f,b,k,R),Mm(),k.state=f.memoizedState),typeof k.componentDidMount=="function"&&(f.flags|=4194308),b=!0}else if(c===null){k=f.stateNode;var ie=f.memoizedProps,ye=Us(g,ie);k.props=ye;var De=k.context,Ke=g.contextType;$=Bu,typeof Ke=="object"&&Ke!==null&&($=Ss(Ke));var tt=g.getDerivedStateFromProps;Ke=typeof tt=="function"||typeof k.getSnapshotBeforeUpdate=="function",ie=f.pendingProps!==ie,Ke||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(ie||De!==$)&&zE(f,k,b,$),Wu=!1;var Be=f.memoizedState;k.state=Be,ih(f,b,k,R),Mm(),De=f.memoizedState,ie||Be!==De||Wu?(typeof tt=="function"&&(Bd(f,g,tt,b),De=f.memoizedState),(ye=Wu||kE(f,g,ye,b,Be,De,$))?(Ke||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(f.flags|=4194308)):(typeof k.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=b,f.memoizedState=De),k.props=b,k.state=De,k.context=$,b=ye):(typeof k.componentDidMount=="function"&&(f.flags|=4194308),b=!1)}else{k=f.stateNode,sb(c,f),$=f.memoizedProps,Ke=Us(g,$),k.props=Ke,tt=f.pendingProps,Be=k.context,De=g.contextType,ye=Bu,typeof De=="object"&&De!==null&&(ye=Ss(De)),ie=g.getDerivedStateFromProps,(De=typeof ie=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||($!==tt||Be!==ye)&&zE(f,k,b,ye),Wu=!1,Be=f.memoizedState,k.state=Be,ih(f,b,k,R),Mm();var $e=f.memoizedState;$!==tt||Be!==$e||Wu||c!==null&&c.dependencies!==null&&Pd(c.dependencies)?(typeof ie=="function"&&(Bd(f,g,ie,b),$e=f.memoizedState),(Ke=Wu||kE(f,g,Ke,b,Be,$e,ye)||c!==null&&c.dependencies!==null&&Pd(c.dependencies))?(De||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(b,$e,ye),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(b,$e,ye)),typeof k.componentDidUpdate=="function"&&(f.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof k.componentDidUpdate!="function"||$===c.memoizedProps&&Be===c.memoizedState||(f.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||$===c.memoizedProps&&Be===c.memoizedState||(f.flags|=1024),f.memoizedProps=b,f.memoizedState=$e),k.props=b,k.state=$e,k.context=ye,b=Ke):(typeof k.componentDidUpdate!="function"||$===c.memoizedProps&&Be===c.memoizedState||(f.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||$===c.memoizedProps&&Be===c.memoizedState||(f.flags|=1024),b=!1)}return k=b,xl(c,f),b=(f.flags&128)!==0,k||b?(k=f.stateNode,g=b&&typeof g.getDerivedStateFromError!="function"?null:k.render(),f.flags|=1,c!==null&&b?(f.child=nh(f,c.child,null,R),f.child=nh(f,null,g,R)):yr(c,f,g,R),f.memoizedState=k.state,c=f.child):c=Sl(c,f,R),c}function oi(c,f,g,b){return Qf(),f.flags|=256,yr(c,f,g,b),f.child}var yo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jo(c){return{baseLanes:c,cachePool:Uy()}}function Fm(c,f,g){return c=c!==null?c.childLanes&~g:0,f&&(c|=ii),c}function vo(c,f,g){var b=f.pendingProps,R=!1,k=(f.flags&128)!==0,$;if(($=k)||($=c!==null&&c.memoizedState===null?!1:(mr.current&2)!==0),$&&(R=!0,f.flags&=-129),$=(f.flags&32)!==0,f.flags&=-33,c===null){if(Qn){if(R?Xu(f):Yc(),(c=Gi)?(c=F4(c,xs),c=c!==null&&c.data!=="&"?c:null,c!==null&&(f.memoizedState={dehydrated:c,treeContext:tc!==null?{id:nc,overflow:ic}:null,retryLane:536870912,hydrationErrors:null},g=cE(c),g.return=f,f.child=g,bs=f,Gi=null)):c=null,c===null)throw Yn(f);return CR(c)?f.lanes=32:f.lanes=536870912,null}var ie=b.children;return b=b.fallback,R?(Yc(),R=f.mode,ie=Hd({mode:"hidden",children:ie},R),b=Vc(b,R,g,null),ie.return=f,b.return=f,ie.sibling=b,f.child=ie,b=f.child,b.memoizedState=jo(g),b.childLanes=Fm(c,$,g),f.memoizedState=yo,bl(null,b)):(Xu(f),Yu(f,ie))}var ye=c.memoizedState;if(ye!==null&&(ie=ye.dehydrated,ie!==null)){if(k)f.flags&256?(Xu(f),f.flags&=-257,f=jd(c,f,g)):f.memoizedState!==null?(Yc(),f.child=c.child,f.flags|=128,f=null):(Yc(),ie=b.fallback,R=f.mode,b=Hd({mode:"visible",children:b.children},R),ie=Vc(ie,R,g,null),ie.flags|=2,b.return=f,ie.return=f,b.sibling=ie,f.child=b,nh(f,c.child,null,g),b=f.child,b.memoizedState=jo(g),b.childLanes=Fm(c,$,g),f.memoizedState=yo,f=bl(null,b));else if(Xu(f),CR(ie)){if($=ie.nextSibling&&ie.nextSibling.dataset,$)var De=$.dgst;$=De,b=Error(i(419)),b.stack="",b.digest=$,Sm({value:b,source:null,stack:null}),f=jd(c,f,g)}else if(Ji||Vu(c,f,g,!1),$=(g&c.childLanes)!==0,Ji||$){if($=Ti,$!==null&&(b=In($,g),b!==0&&b!==ye.retryLane))throw ye.retryLane=b,zu(c,b),m($,c,b),ev;wR(ie)||bn(),f=jd(c,f,g)}else wR(ie)?(f.flags|=192,f.child=c.child,f=null):(c=ye.treeContext,Gi=pc(ie.nextSibling),bs=f,Qn=!0,jc=null,xs=!1,c!==null&&xm(f,c),f=Yu(f,b.children),f.flags|=4096);return f}return R?(Yc(),ie=b.fallback,R=f.mode,ye=c.child,De=ye.sibling,b=ec(ye,{mode:"hidden",children:b.children}),b.subtreeFlags=ye.subtreeFlags&65011712,De!==null?ie=ec(De,ie):(ie=Vc(ie,R,g,null),ie.flags|=2),ie.return=f,b.return=f,b.sibling=ie,f.child=b,bl(null,b),b=f.child,ie=c.child.memoizedState,ie===null?ie=jo(g):(R=ie.cachePool,R!==null?(ye=Yt._currentValue,R=R.parent!==ye?{parent:ye,pool:ye}:R):R=Uy(),ie={baseLanes:ie.baseLanes|g,cachePool:R}),b.memoizedState=ie,b.childLanes=Fm(c,$,g),f.memoizedState=yo,bl(c.child,b)):(Xu(f),g=c.child,c=g.sibling,g=ec(g,{mode:"visible",children:b.children}),g.return=f,g.sibling=null,c!==null&&($=f.deletions,$===null?(f.deletions=[c],f.flags|=16):$.push(c)),f.child=g,f.memoizedState=null,g)}function Yu(c,f){return f=Hd({mode:"visible",children:f},c.mode),f.return=c,c.child=f}function Hd(c,f){return c=da(22,c,null,f),c.lanes=0,c}function jd(c,f,g){return nh(f,c.child,null,g),c=Yu(f,f.pendingProps.children),c.flags|=2,f.memoizedState=null,c}function ah(c,f,g){c.lanes|=f;var b=c.alternate;b!==null&&(b.lanes|=f),Wc(c.return,f,g)}function Vm(c,f,g,b,R,k){var $=c.memoizedState;$===null?c.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:b,tail:g,tailMode:R,treeForkCount:k}:($.isBackwards=f,$.rendering=null,$.renderingStartTime=0,$.last=b,$.tail=g,$.tailMode=R,$.treeForkCount=k)}function Hm(c,f,g){var b=f.pendingProps,R=b.revealOrder,k=b.tail;b=b.children;var $=mr.current,ie=($&2)!==0;if(ie?($=$&1|2,f.flags|=128):$&=1,de(mr,$),yr(c,f,b,g),b=Qn?Id:0,!ie&&c!==null&&(c.flags&128)!==0)e:for(c=f.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&ah(c,g,f);else if(c.tag===19)ah(c,g,f);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===f)break e;for(;c.sibling===null;){if(c.return===null||c.return===f)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}switch(R){case"forwards":for(g=f.child,R=null;g!==null;)c=g.alternate,c!==null&&Fy(c)===null&&(R=g),g=g.sibling;g=R,g===null?(R=f.child,f.child=null):(R=g.sibling,g.sibling=null),Vm(f,!1,R,g,k,b);break;case"backwards":case"unstable_legacy-backwards":for(g=null,R=f.child,f.child=null;R!==null;){if(c=R.alternate,c!==null&&Fy(c)===null){f.child=R;break}c=R.sibling,R.sibling=g,g=R,R=c}Vm(f,!0,g,null,k,b);break;case"together":Vm(f,!1,null,null,void 0,b);break;default:f.memoizedState=null}return f.child}function Sl(c,f,g){if(c!==null&&(f.dependencies=c.dependencies),xo|=f.lanes,(g&f.childLanes)===0)if(c!==null){if(Vu(c,f,g,!1),(g&f.childLanes)===0)return null}else return null;if(c!==null&&f.child!==c.child)throw Error(i(153));if(f.child!==null){for(c=f.child,g=ec(c,c.pendingProps),f.child=g,g.return=f;c.sibling!==null;)c=c.sibling,g=g.sibling=ec(c,c.pendingProps),g.return=f;g.sibling=null}return f.child}function Ku(c,f){return(c.lanes&f)!==0?!0:(c=c.dependencies,!!(c!==null&&Pd(c)))}function jm(c,f,g){switch(f.tag){case 3:Le(f,f.stateNode.containerInfo),qc(f,Yt,c.memoizedState.cache),Qf();break;case 27:case 5:je(f);break;case 4:Le(f,f.stateNode.containerInfo);break;case 10:qc(f,f.type,f.memoizedProps.value);break;case 31:if(f.memoizedState!==null)return f.flags|=128,cb(f),null;break;case 13:var b=f.memoizedState;if(b!==null)return b.dehydrated!==null?(Xu(f),f.flags|=128,null):(g&f.child.childLanes)!==0?vo(c,f,g):(Xu(f),c=Sl(c,f,g),c!==null?c.sibling:null);Xu(f);break;case 19:var R=(c.flags&128)!==0;if(b=(g&f.childLanes)!==0,b||(Vu(c,f,g,!1),b=(g&f.childLanes)!==0),R){if(b)return Hm(c,f,g);f.flags|=128}if(R=f.memoizedState,R!==null&&(R.rendering=null,R.tail=null,R.lastEffect=null),de(mr,mr.current),b)break;return null;case 22:return f.lanes=0,go(c,f,g,f.pendingProps);case 24:qc(f,Yt,c.memoizedState.cache)}return Sl(c,f,g)}function tv(c,f,g){if(c!==null)if(c.memoizedProps!==f.pendingProps)Ji=!0;else{if(!Ku(c,g)&&(f.flags&128)===0)return Ji=!1,jm(c,f,g);Ji=(c.flags&131072)!==0}else Ji=!1,Qn&&(f.flags&1048576)!==0&&$_(f,Id,f.index);switch(f.lanes=0,f.tag){case 16:e:{var b=f.pendingProps;if(c=th(f.elementType),f.type=c,typeof c=="function")pa(c)?(b=Us(c,b),f.tag=1,f=ks(null,f,c,b,g)):(f.tag=0,f=Vd(null,f,c,b,g));else{if(c!=null){var R=c.$$typeof;if(R===A){f.tag=11,f=km(null,f,c,b,g);break e}else if(R===I){f.tag=14,f=zm(null,f,c,b,g);break e}}throw f=K(c)||c,Error(i(306,f,""))}}return f;case 0:return Vd(c,f,f.type,f.pendingProps,g);case 1:return b=f.type,R=Us(b,f.pendingProps),ks(c,f,b,R,g);case 3:e:{if(Le(f,f.stateNode.containerInfo),c===null)throw Error(i(387));b=f.pendingProps;var k=f.memoizedState;R=k.element,sb(c,f),ih(f,b,null,g);var $=f.memoizedState;if(b=$.cache,qc(f,Yt,b),b!==k.cache&&Ly(f,[Yt],g,!0),Mm(),b=$.element,k.isDehydrated)if(k={element:b,isDehydrated:!1,cache:$.cache},f.updateQueue.baseState=k,f.memoizedState=k,f.flags&256){f=oi(c,f,b,g);break e}else if(b!==R){R=Da(Error(i(424)),f),Sm(R),f=oi(c,f,b,g);break e}else{switch(c=f.stateNode.containerInfo,c.nodeType){case 9:c=c.body;break;default:c=c.nodeName==="HTML"?c.ownerDocument.body:c}for(Gi=pc(c.firstChild),bs=f,Qn=!0,jc=null,xs=!0,g=mE(f,null,b,g),f.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling}else{if(Qf(),b===R){f=Sl(c,f,g);break e}yr(c,f,b,g)}f=f.child}return f;case 26:return xl(c,f),c===null?(g=W4(f.type,null,f.pendingProps,null))?f.memoizedState=g:Qn||(g=f.type,c=f.pendingProps,b=XE(he.current).createElement(g),b[mn]=f,b[dr]=c,_a(b,g,c),Se(b),f.stateNode=b):f.memoizedState=W4(f.type,c.memoizedProps,f.pendingProps,c.memoizedState),null;case 27:return je(f),c===null&&Qn&&(b=f.stateNode=j4(f.type,f.pendingProps,he.current),bs=f,xs=!0,R=Gi,Kd(f.type)?(AR=R,Gi=pc(b.firstChild)):Gi=R),yr(c,f,f.pendingProps.children,g),xl(c,f),c===null&&(f.flags|=4194304),f.child;case 5:return c===null&&Qn&&((R=b=Gi)&&(b=EX(b,f.type,f.pendingProps,xs),b!==null?(f.stateNode=b,bs=f,Gi=pc(b.firstChild),xs=!1,R=!0):R=!1),R||Yn(f)),je(f),R=f.type,k=f.pendingProps,$=c!==null?c.memoizedProps:null,b=k.children,SR(R,k)?b=null:$!==null&&SR(R,$)&&(f.flags|=32),f.memoizedState!==null&&(R=fb(c,f,rR,null,null,g),Gb._currentValue=R),xl(c,f),yr(c,f,b,g),f.child;case 6:return c===null&&Qn&&((c=g=Gi)&&(g=TX(g,f.pendingProps,xs),g!==null?(f.stateNode=g,bs=f,Gi=null,c=!0):c=!1),c||Yn(f)),null;case 13:return vo(c,f,g);case 4:return Le(f,f.stateNode.containerInfo),b=f.pendingProps,c===null?f.child=nh(f,null,b,g):yr(c,f,b,g),f.child;case 11:return km(c,f,f.type,f.pendingProps,g);case 7:return yr(c,f,f.pendingProps,g),f.child;case 8:return yr(c,f,f.pendingProps.children,g),f.child;case 12:return yr(c,f,f.pendingProps.children,g),f.child;case 10:return b=f.pendingProps,qc(f,f.type,b.value),yr(c,f,b.children,g),f.child;case 9:return R=f.type._context,b=f.pendingProps.children,Jf(f),R=Ss(R),b=b(R),f.flags|=1,yr(c,f,b,g),f.child;case 14:return zm(c,f,f.type,f.pendingProps,g);case 15:return mo(c,f,f.type,f.pendingProps,g);case 19:return Hm(c,f,g);case 31:return Bm(c,f,g);case 22:return go(c,f,g,f.pendingProps);case 24:return Jf(f),b=Ss(Yt),c===null?(R=rc(),R===null&&(R=Ti,k=Q_(),R.pooledCache=k,k.refCount++,k!==null&&(R.pooledCacheLanes|=g),R=k),f.memoizedState={parent:b,cache:R},rb(f),qc(f,Yt,R)):((c.lanes&g)!==0&&(sb(c,f),ih(f,null,null,g),Mm()),R=c.memoizedState,k=f.memoizedState,R.parent!==b?(R={parent:b,cache:b},f.memoizedState=R,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=R),qc(f,Yt,b)):(b=k.cache,qc(f,Yt,b),b!==R.cache&&Ly(f,[Yt],g,!0))),yr(c,f,f.pendingProps.children,g),f.child;case 29:throw f.pendingProps}throw Error(i(156,f.tag))}function za(c){c.flags|=4}function Zu(c,f,g,b,R){if((f=(c.mode&32)!==0)&&(f=!1),f){if(c.flags|=16777216,(R&335544128)===R)if(c.stateNode.complete)c.flags|=8192;else if(bt())c.flags|=8192;else throw nn=wm,Tm}else c.flags&=-16777217}function Qc(c,f){if(f.type!=="stylesheet"||(f.state.loading&4)!==0)c.flags&=-16777217;else if(c.flags|=16777216,!Z4(f))if(bt())c.flags|=8192;else throw nn=wm,Tm}function Gd(c,f){f!==null&&(c.flags|=4),c.flags&16384&&(f=c.tag!==22?kt():536870912,c.lanes|=f,So|=f)}function Gm(c,f){if(!Qn)switch(c.tailMode){case"hidden":f=c.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?c.tail=null:g.sibling=null;break;case"collapsed":g=c.tail;for(var b=null;g!==null;)g.alternate!==null&&(b=g),g=g.sibling;b===null?f||c.tail===null?c.tail=null:c.tail.sibling=null:b.sibling=null}}function Oi(c){var f=c.alternate!==null&&c.alternate.child===c.child,g=0,b=0;if(f)for(var R=c.child;R!==null;)g|=R.lanes|R.childLanes,b|=R.subtreeFlags&65011712,b|=R.flags&65011712,R.return=c,R=R.sibling;else for(R=c.child;R!==null;)g|=R.lanes|R.childLanes,b|=R.subtreeFlags,b|=R.flags,R.return=c,R=R.sibling;return c.subtreeFlags|=b,c.childLanes=g,f}function Lb(c,f,g){var b=f.pendingProps;switch(Fu(f),f.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oi(f),null;case 1:return Oi(f),null;case 3:return g=f.stateNode,b=null,c!==null&&(b=c.memoizedState.cache),f.memoizedState.cache!==b&&(f.flags|=2048),Fo(Yt),Ye(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(c===null||c.child===null)&&(Zf(f)?za(f):c===null||c.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,X_())),Oi(f),null;case 26:var R=f.type,k=f.memoizedState;return c===null?(za(f),k!==null?(Oi(f),Qc(f,k)):(Oi(f),Zu(f,R,null,b,g))):k?k!==c.memoizedState?(za(f),Oi(f),Qc(f,k)):(Oi(f),f.flags&=-16777217):(c=c.memoizedProps,c!==b&&za(f),Oi(f),Zu(f,R,c,b,g)),null;case 27:if(rt(f),g=he.current,R=f.type,c!==null&&f.stateNode!=null)c.memoizedProps!==b&&za(f);else{if(!b){if(f.stateNode===null)throw Error(i(166));return Oi(f),null}c=ue.current,Zf(f)?Ny(f):(c=j4(R,b,g),f.stateNode=c,za(f))}return Oi(f),null;case 5:if(rt(f),R=f.type,c!==null&&f.stateNode!=null)c.memoizedProps!==b&&za(f);else{if(!b){if(f.stateNode===null)throw Error(i(166));return Oi(f),null}if(k=ue.current,Zf(f))Ny(f);else{var $=XE(he.current);switch(k){case 1:k=$.createElementNS("http://www.w3.org/2000/svg",R);break;case 2:k=$.createElementNS("http://www.w3.org/1998/Math/MathML",R);break;default:switch(R){case"svg":k=$.createElementNS("http://www.w3.org/2000/svg",R);break;case"math":k=$.createElementNS("http://www.w3.org/1998/Math/MathML",R);break;case"script":k=$.createElement("div"),k.innerHTML="<script><\/script>",k=k.removeChild(k.firstChild);break;case"select":k=typeof b.is=="string"?$.createElement("select",{is:b.is}):$.createElement("select"),b.multiple?k.multiple=!0:b.size&&(k.size=b.size);break;default:k=typeof b.is=="string"?$.createElement(R,{is:b.is}):$.createElement(R)}}k[mn]=f,k[dr]=b;e:for($=f.child;$!==null;){if($.tag===5||$.tag===6)k.appendChild($.stateNode);else if($.tag!==4&&$.tag!==27&&$.child!==null){$.child.return=$,$=$.child;continue}if($===f)break e;for(;$.sibling===null;){if($.return===null||$.return===f)break e;$=$.return}$.sibling.return=$.return,$=$.sibling}f.stateNode=k;e:switch(_a(k,R,b),R){case"button":case"input":case"select":case"textarea":b=!!b.autoFocus;break e;case"img":b=!0;break e;default:b=!1}b&&za(f)}}return Oi(f),Zu(f,f.type,c===null?null:c.memoizedProps,f.pendingProps,g),null;case 6:if(c&&f.stateNode!=null)c.memoizedProps!==b&&za(f);else{if(typeof b!="string"&&f.stateNode===null)throw Error(i(166));if(c=he.current,Zf(f)){if(c=f.stateNode,g=f.memoizedProps,b=null,R=bs,R!==null)switch(R.tag){case 27:case 5:b=R.memoizedProps}c[mn]=f,c=!!(c.nodeValue===g||b!==null&&b.suppressHydrationWarning===!0||P4(c.nodeValue,g)),c||Yn(f,!0)}else c=XE(c).createTextNode(b),c[mn]=f,f.stateNode=c}return Oi(f),null;case 31:if(g=f.memoizedState,c===null||c.memoizedState!==null){if(b=Zf(f),g!==null){if(c===null){if(!b)throw Error(i(318));if(c=f.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(i(557));c[mn]=f}else Qf(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;Oi(f),c=!1}else g=X_(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=g),c=!0;if(!c)return f.flags&256?(fo(f),f):(fo(f),null);if((f.flags&128)!==0)throw Error(i(558))}return Oi(f),null;case 13:if(b=f.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(R=Zf(f),b!==null&&b.dehydrated!==null){if(c===null){if(!R)throw Error(i(318));if(R=f.memoizedState,R=R!==null?R.dehydrated:null,!R)throw Error(i(317));R[mn]=f}else Qf(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;Oi(f),R=!1}else R=X_(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=R),R=!0;if(!R)return f.flags&256?(fo(f),f):(fo(f),null)}return fo(f),(f.flags&128)!==0?(f.lanes=g,f):(g=b!==null,c=c!==null&&c.memoizedState!==null,g&&(b=f.child,R=null,b.alternate!==null&&b.alternate.memoizedState!==null&&b.alternate.memoizedState.cachePool!==null&&(R=b.alternate.memoizedState.cachePool.pool),k=null,b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(k=b.memoizedState.cachePool.pool),k!==R&&(b.flags|=2048)),g!==c&&g&&(f.child.flags|=8192),Gd(f,f.updateQueue),Oi(f),null);case 4:return Ye(),c===null&&yR(f.stateNode.containerInfo),Oi(f),null;case 10:return Fo(f.type),Oi(f),null;case 19:if(le(mr),b=f.memoizedState,b===null)return Oi(f),null;if(R=(f.flags&128)!==0,k=b.rendering,k===null)if(R)Gm(b,!1);else{if(wi!==0||c!==null&&(c.flags&128)!==0)for(c=f.child;c!==null;){if(k=Fy(c),k!==null){for(f.flags|=128,Gm(b,!1),c=k.updateQueue,f.updateQueue=c,Gd(f,c),f.subtreeFlags=0,c=g,g=f.child;g!==null;)Ws(g,c),g=g.sibling;return de(mr,mr.current&1|2),Qn&&Hc(f,b.treeForkCount),f.child}c=c.sibling}b.tail!==null&&Me()>Eo&&(f.flags|=128,R=!0,Gm(b,!1),f.lanes=4194304)}else{if(!R)if(c=Fy(k),c!==null){if(f.flags|=128,R=!0,c=c.updateQueue,f.updateQueue=c,Gd(f,c),Gm(b,!0),b.tail===null&&b.tailMode==="hidden"&&!k.alternate&&!Qn)return Oi(f),null}else 2*Me()-b.renderingStartTime>Eo&&g!==536870912&&(f.flags|=128,R=!0,Gm(b,!1),f.lanes=4194304);b.isBackwards?(k.sibling=f.child,f.child=k):(c=b.last,c!==null?c.sibling=k:f.child=k,b.last=k)}return b.tail!==null?(c=b.tail,b.rendering=c,b.tail=c.sibling,b.renderingStartTime=Me(),c.sibling=null,g=mr.current,de(mr,R?g&1|2:g&1),Qn&&Hc(f,b.treeForkCount),c):(Oi(f),null);case 22:case 23:return fo(f),Xs(),b=f.memoizedState!==null,c!==null?c.memoizedState!==null!==b&&(f.flags|=8192):b&&(f.flags|=8192),b?(g&536870912)!==0&&(f.flags&128)===0&&(Oi(f),f.subtreeFlags&6&&(f.flags|=8192)):Oi(f),g=f.updateQueue,g!==null&&Gd(f,g.retryQueue),g=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),b=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(b=f.memoizedState.cachePool.pool),b!==g&&(f.flags|=2048),c!==null&&le(Hu),null;case 24:return g=null,c!==null&&(g=c.memoizedState.cache),f.memoizedState.cache!==g&&(f.flags|=2048),Fo(Yt),Oi(f),null;case 25:return null;case 30:return null}throw Error(i(156,f.tag))}function nv(c,f){switch(Fu(f),f.tag){case 1:return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 3:return Fo(Yt),Ye(),c=f.flags,(c&65536)!==0&&(c&128)===0?(f.flags=c&-65537|128,f):null;case 26:case 27:case 5:return rt(f),null;case 31:if(f.memoizedState!==null){if(fo(f),f.alternate===null)throw Error(i(340));Qf()}return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 13:if(fo(f),c=f.memoizedState,c!==null&&c.dehydrated!==null){if(f.alternate===null)throw Error(i(340));Qf()}return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 19:return le(mr),null;case 4:return Ye(),null;case 10:return Fo(f.type),null;case 22:case 23:return fo(f),Xs(),c!==null&&le(Hu),c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 24:return Fo(Yt),null;case 25:return null;default:return null}}function oh(c,f){switch(Fu(f),f.tag){case 3:Fo(Yt),Ye();break;case 26:case 27:case 5:rt(f);break;case 4:Ye();break;case 31:f.memoizedState!==null&&fo(f);break;case 13:fo(f);break;case 19:le(mr);break;case 10:Fo(f.type);break;case 22:case 23:fo(f),Xs(),c!==null&&le(Hu);break;case 24:Fo(Yt)}}function uc(c,f){try{var g=f.updateQueue,b=g!==null?g.lastEffect:null;if(b!==null){var R=b.next;g=R;do{if((g.tag&c)===c){b=void 0;var k=g.create,$=g.inst;b=k(),$.destroy=b}g=g.next}while(g!==R)}}catch(ie){zi(f,f.return,ie)}}function Go(c,f,g){try{var b=f.updateQueue,R=b!==null?b.lastEffect:null;if(R!==null){var k=R.next;b=k;do{if((b.tag&c)===c){var $=b.inst,ie=$.destroy;if(ie!==void 0){$.destroy=void 0,R=f;var ye=g,De=ie;try{De()}catch(Ke){zi(R,ye,Ke)}}}b=b.next}while(b!==k)}}catch(Ke){zi(f,f.return,Ke)}}function Qu(c){var f=c.updateQueue;if(f!==null){var g=c.stateNode;try{Ns(f,g)}catch(b){zi(c,c.return,b)}}}function Ub(c,f,g){g.props=Us(c.type,c.memoizedProps),g.state=c.memoizedState;try{g.componentWillUnmount()}catch(b){zi(c,f,b)}}function fc(c,f){try{var g=c.ref;if(g!==null){switch(c.tag){case 26:case 27:case 5:var b=c.stateNode;break;case 30:b=c.stateNode;break;default:b=c.stateNode}typeof g=="function"?c.refCleanup=g(b):g.current=b}}catch(R){zi(c,f,R)}}function _o(c,f){var g=c.ref,b=c.refCleanup;if(g!==null)if(typeof b=="function")try{b()}catch(R){zi(c,f,R)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof g=="function")try{g(null)}catch(R){zi(c,f,R)}else g.current=null}function bo(c){var f=c.type,g=c.memoizedProps,b=c.stateNode;try{e:switch(f){case"button":case"input":case"select":case"textarea":g.autoFocus&&b.focus();break e;case"img":g.src?b.src=g.src:g.srcSet&&(b.srcset=g.srcSet)}}catch(R){zi(c,c.return,R)}}function qo(c,f,g){try{var b=c.stateNode;yX(b,c.type,g,f),b[dr]=f}catch(R){zi(c,c.return,R)}}function Xr(c){return c.tag===5||c.tag===3||c.tag===26||c.tag===27&&Kd(c.type)||c.tag===4}function hc(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||Xr(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.tag===27&&Kd(c.type)||c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function Dn(c,f,g){var b=c.tag;if(b===5||b===6)c=c.stateNode,f?(g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g).insertBefore(c,f):(f=g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g,f.appendChild(c),g=g._reactRootContainer,g!=null||f.onclick!==null||(f.onclick=ss));else if(b!==4&&(b===27&&Kd(c.type)&&(g=c.stateNode,f=null),c=c.child,c!==null))for(Dn(c,f,g),c=c.sibling;c!==null;)Dn(c,f,g),c=c.sibling}function _i(c,f,g){var b=c.tag;if(b===5||b===6)c=c.stateNode,f?g.insertBefore(c,f):g.appendChild(c);else if(b!==4&&(b===27&&Kd(c.type)&&(g=c.stateNode),c=c.child,c!==null))for(_i(c,f,g),c=c.sibling;c!==null;)_i(c,f,g),c=c.sibling}function Rr(c){var f=c.stateNode,g=c.memoizedProps;try{for(var b=c.type,R=f.attributes;R.length;)f.removeAttributeNode(R[0]);_a(f,b,g),f[mn]=c,f[dr]=g}catch(k){zi(c,c.return,k)}}var Wo=!1,er=!1,Jc=!1,qm=typeof WeakSet=="function"?WeakSet:Set,vr=null;function qd(c,f){if(c=c.containerInfo,bR=tT,c=Ty(c),Td(c)){if("selectionStart"in c)var g={start:c.selectionStart,end:c.selectionEnd};else e:{g=(g=c.ownerDocument)&&g.defaultView||window;var b=g.getSelection&&g.getSelection();if(b&&b.rangeCount!==0){g=b.anchorNode;var R=b.anchorOffset,k=b.focusNode;b=b.focusOffset;try{g.nodeType,k.nodeType}catch{g=null;break e}var $=0,ie=-1,ye=-1,De=0,Ke=0,tt=c,Be=null;t:for(;;){for(var $e;tt!==g||R!==0&&tt.nodeType!==3||(ie=$+R),tt!==k||b!==0&&tt.nodeType!==3||(ye=$+b),tt.nodeType===3&&($+=tt.nodeValue.length),($e=tt.firstChild)!==null;)Be=tt,tt=$e;for(;;){if(tt===c)break t;if(Be===g&&++De===R&&(ie=$),Be===k&&++Ke===b&&(ye=$),($e=tt.nextSibling)!==null)break;tt=Be,Be=tt.parentNode}tt=$e}g=ie===-1||ye===-1?null:{start:ie,end:ye}}else g=null}g=g||{start:0,end:0}}else g=null;for(xR={focusedElem:c,selectionRange:g},tT=!1,vr=f;vr!==null;)if(f=vr,c=f.child,(f.subtreeFlags&1028)!==0&&c!==null)c.return=f,vr=c;else for(;vr!==null;){switch(f=vr,k=f.alternate,c=f.flags,f.tag){case 0:if((c&4)!==0&&(c=f.updateQueue,c=c!==null?c.events:null,c!==null))for(g=0;g<c.length;g++)R=c[g],R.ref.impl=R.nextImpl;break;case 11:case 15:break;case 1:if((c&1024)!==0&&k!==null){c=void 0,g=f,R=k.memoizedProps,k=k.memoizedState,b=g.stateNode;try{var Ft=Us(g.type,R);c=b.getSnapshotBeforeUpdate(Ft,k),b.__reactInternalSnapshotBeforeUpdate=c}catch(ln){zi(g,g.return,ln)}}break;case 3:if((c&1024)!==0){if(c=f.stateNode.containerInfo,g=c.nodeType,g===9)TR(c);else if(g===1)switch(c.nodeName){case"HEAD":case"HTML":case"BODY":TR(c);break;default:c.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((c&1024)!==0)throw Error(i(163))}if(c=f.sibling,c!==null){c.return=f.return,vr=c;break}vr=f.return}}function VE(c,f,g){var b=g.flags;switch(g.tag){case 0:case 11:case 15:eu(c,g),b&4&&uc(5,g);break;case 1:if(eu(c,g),b&4)if(c=g.stateNode,f===null)try{c.componentDidMount()}catch($){zi(g,g.return,$)}else{var R=Us(g.type,f.memoizedProps);f=f.memoizedState;try{c.componentDidUpdate(R,f,c.__reactInternalSnapshotBeforeUpdate)}catch($){zi(g,g.return,$)}}b&64&&Qu(g),b&512&&fc(g,g.return);break;case 3:if(eu(c,g),b&64&&(c=g.updateQueue,c!==null)){if(f=null,g.child!==null)switch(g.child.tag){case 27:case 5:f=g.child.stateNode;break;case 1:f=g.child.stateNode}try{Ns(c,f)}catch($){zi(g,g.return,$)}}break;case 27:f===null&&b&4&&Rr(g);case 26:case 5:eu(c,g),f===null&&b&4&&bo(g),b&512&&fc(g,g.return);break;case 12:eu(c,g);break;case 31:eu(c,g),b&4&&rv(c,g);break;case 13:eu(c,g),b&4&&kb(c,g),b&64&&(c=g.memoizedState,c!==null&&(c=c.dehydrated,c!==null&&(g=sX.bind(null,g),wX(c,g))));break;case 22:if(b=g.memoizedState!==null||Wo,!b){f=f!==null&&f.memoizedState!==null||er,R=Wo;var k=er;Wo=b,(er=f)&&!k?Ei(c,g,(g.subtreeFlags&8772)!==0):eu(c,g),Wo=R,er=k}break;case 30:break;default:eu(c,g)}}function iv(c){var f=c.alternate;f!==null&&(c.alternate=null,iv(f)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(f=c.stateNode,f!==null&&dl(f)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}var li=null,Yr=!1;function Ks(c,f,g){for(g=g.child;g!==null;)Ju(c,f,g),g=g.sibling}function Ju(c,f,g){if(xt&&typeof xt.onCommitFiberUnmount=="function")try{xt.onCommitFiberUnmount(At,g)}catch{}switch(g.tag){case 26:er||_o(g,f),Ks(c,f,g),g.memoizedState?g.memoizedState.count--:g.stateNode&&(g=g.stateNode,g.parentNode.removeChild(g));break;case 27:er||_o(g,f);var b=li,R=Yr;Kd(g.type)&&(li=g.stateNode,Yr=!1),Ks(c,f,g),Vb(g.stateNode),li=b,Yr=R;break;case 5:er||_o(g,f);case 6:if(b=li,R=Yr,li=null,Ks(c,f,g),li=b,Yr=R,li!==null)if(Yr)try{(li.nodeType===9?li.body:li.nodeName==="HTML"?li.ownerDocument.body:li).removeChild(g.stateNode)}catch(k){zi(g,f,k)}else try{li.removeChild(g.stateNode)}catch(k){zi(g,f,k)}break;case 18:li!==null&&(Yr?(c=li,z4(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,g.stateNode),mv(c)):z4(li,g.stateNode));break;case 4:b=li,R=Yr,li=g.stateNode.containerInfo,Yr=!0,Ks(c,f,g),li=b,Yr=R;break;case 0:case 11:case 14:case 15:Go(2,g,f),er||Go(4,g,f),Ks(c,f,g);break;case 1:er||(_o(g,f),b=g.stateNode,typeof b.componentWillUnmount=="function"&&Ub(g,f,b)),Ks(c,f,g);break;case 21:Ks(c,f,g);break;case 22:er=(b=er)||g.memoizedState!==null,Ks(c,f,g),er=b;break;default:Ks(c,f,g)}}function rv(c,f){if(f.memoizedState===null&&(c=f.alternate,c!==null&&(c=c.memoizedState,c!==null))){c=c.dehydrated;try{mv(c)}catch(g){zi(f,f.return,g)}}}function kb(c,f){if(f.memoizedState===null&&(c=f.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{mv(c)}catch(g){zi(f,f.return,g)}}function HE(c){switch(c.tag){case 31:case 13:case 19:var f=c.stateNode;return f===null&&(f=c.stateNode=new qm),f;case 22:return c=c.stateNode,f=c._retryCache,f===null&&(f=c._retryCache=new qm),f;default:throw Error(i(435,c.tag))}}function Or(c,f){var g=HE(c);f.forEach(function(b){if(!g.has(b)){g.add(b);var R=aX.bind(null,c,b);b.then(R,R)}})}function Zs(c,f){var g=f.deletions;if(g!==null)for(var b=0;b<g.length;b++){var R=g[b],k=c,$=f,ie=$;e:for(;ie!==null;){switch(ie.tag){case 27:if(Kd(ie.type)){li=ie.stateNode,Yr=!1;break e}break;case 5:li=ie.stateNode,Yr=!1;break e;case 3:case 4:li=ie.stateNode.containerInfo,Yr=!0;break e}ie=ie.return}if(li===null)throw Error(i(160));Ju(k,$,R),li=null,Yr=!1,k=R.alternate,k!==null&&(k.return=null),R.return=null}if(f.subtreeFlags&13886)for(f=f.child;f!==null;)ef(f,c),f=f.sibling}var Ba=null;function ef(c,f){var g=c.alternate,b=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:Zs(f,c),_r(c),b&4&&(Go(3,c,c.return),uc(3,c),Go(5,c,c.return));break;case 1:Zs(f,c),_r(c),b&512&&(er||g===null||_o(g,g.return)),b&64&&Wo&&(c=c.updateQueue,c!==null&&(b=c.callbacks,b!==null&&(g=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=g===null?b:g.concat(b))));break;case 26:var R=Ba;if(Zs(f,c),_r(c),b&512&&(er||g===null||_o(g,g.return)),b&4){var k=g!==null?g.memoizedState:null;if(b=c.memoizedState,g===null)if(b===null)if(c.stateNode===null){e:{b=c.type,g=c.memoizedProps,R=R.ownerDocument||R;t:switch(b){case"title":k=R.getElementsByTagName("title")[0],(!k||k[ao]||k[mn]||k.namespaceURI==="http://www.w3.org/2000/svg"||k.hasAttribute("itemprop"))&&(k=R.createElement(b),R.head.insertBefore(k,R.querySelector("head > title"))),_a(k,b,g),k[mn]=c,Se(k),b=k;break e;case"link":var $=Y4("link","href",R).get(b+(g.href||""));if($){for(var ie=0;ie<$.length;ie++)if(k=$[ie],k.getAttribute("href")===(g.href==null||g.href===""?null:g.href)&&k.getAttribute("rel")===(g.rel==null?null:g.rel)&&k.getAttribute("title")===(g.title==null?null:g.title)&&k.getAttribute("crossorigin")===(g.crossOrigin==null?null:g.crossOrigin)){$.splice(ie,1);break t}}k=R.createElement(b),_a(k,b,g),R.head.appendChild(k);break;case"meta":if($=Y4("meta","content",R).get(b+(g.content||""))){for(ie=0;ie<$.length;ie++)if(k=$[ie],k.getAttribute("content")===(g.content==null?null:""+g.content)&&k.getAttribute("name")===(g.name==null?null:g.name)&&k.getAttribute("property")===(g.property==null?null:g.property)&&k.getAttribute("http-equiv")===(g.httpEquiv==null?null:g.httpEquiv)&&k.getAttribute("charset")===(g.charSet==null?null:g.charSet)){$.splice(ie,1);break t}}k=R.createElement(b),_a(k,b,g),R.head.appendChild(k);break;default:throw Error(i(468,b))}k[mn]=c,Se(k),b=k}c.stateNode=b}else K4(R,c.type,c.stateNode);else c.stateNode=X4(R,b,c.memoizedProps);else k!==b?(k===null?g.stateNode!==null&&(g=g.stateNode,g.parentNode.removeChild(g)):k.count--,b===null?K4(R,c.type,c.stateNode):X4(R,b,c.memoizedProps)):b===null&&c.stateNode!==null&&qo(c,c.memoizedProps,g.memoizedProps)}break;case 27:Zs(f,c),_r(c),b&512&&(er||g===null||_o(g,g.return)),g!==null&&b&4&&qo(c,c.memoizedProps,g.memoizedProps);break;case 5:if(Zs(f,c),_r(c),b&512&&(er||g===null||_o(g,g.return)),c.flags&32){R=c.stateNode;try{Cr(R,"")}catch(Ft){zi(c,c.return,Ft)}}b&4&&c.stateNode!=null&&(R=c.memoizedProps,qo(c,R,g!==null?g.memoizedProps:R)),b&1024&&(Jc=!0);break;case 6:if(Zs(f,c),_r(c),b&4){if(c.stateNode===null)throw Error(i(162));b=c.memoizedProps,g=c.stateNode;try{g.nodeValue=b}catch(Ft){zi(c,c.return,Ft)}}break;case 3:if(ZE=null,R=Ba,Ba=YE(f.containerInfo),Zs(f,c),Ba=R,_r(c),b&4&&g!==null&&g.memoizedState.isDehydrated)try{mv(f.containerInfo)}catch(Ft){zi(c,c.return,Ft)}Jc&&(Jc=!1,jE(c));break;case 4:b=Ba,Ba=YE(c.stateNode.containerInfo),Zs(f,c),_r(c),Ba=b;break;case 12:Zs(f,c),_r(c);break;case 31:Zs(f,c),_r(c),b&4&&(b=c.updateQueue,b!==null&&(c.updateQueue=null,Or(c,b)));break;case 13:Zs(f,c),_r(c),c.child.flags&8192&&c.memoizedState!==null!=(g!==null&&g.memoizedState!==null)&&(iu=Me()),b&4&&(b=c.updateQueue,b!==null&&(c.updateQueue=null,Or(c,b)));break;case 22:R=c.memoizedState!==null;var ye=g!==null&&g.memoizedState!==null,De=Wo,Ke=er;if(Wo=De||R,er=Ke||ye,Zs(f,c),er=Ke,Wo=De,_r(c),b&8192)e:for(f=c.stateNode,f._visibility=R?f._visibility&-2:f._visibility|1,R&&(g===null||ye||Wo||er||lh(c)),g=null,f=c;;){if(f.tag===5||f.tag===26){if(g===null){ye=g=f;try{if(k=ye.stateNode,R)$=k.style,typeof $.setProperty=="function"?$.setProperty("display","none","important"):$.display="none";else{ie=ye.stateNode;var tt=ye.memoizedProps.style,Be=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;ie.style.display=Be==null||typeof Be=="boolean"?"":(""+Be).trim()}}catch(Ft){zi(ye,ye.return,Ft)}}}else if(f.tag===6){if(g===null){ye=f;try{ye.stateNode.nodeValue=R?"":ye.memoizedProps}catch(Ft){zi(ye,ye.return,Ft)}}}else if(f.tag===18){if(g===null){ye=f;try{var $e=ye.stateNode;R?B4($e,!0):B4(ye.stateNode,!1)}catch(Ft){zi(ye,ye.return,Ft)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===c)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break e;for(;f.sibling===null;){if(f.return===null||f.return===c)break e;g===f&&(g=null),f=f.return}g===f&&(g=null),f.sibling.return=f.return,f=f.sibling}b&4&&(b=c.updateQueue,b!==null&&(g=b.retryQueue,g!==null&&(b.retryQueue=null,Or(c,g))));break;case 19:Zs(f,c),_r(c),b&4&&(b=c.updateQueue,b!==null&&(c.updateQueue=null,Or(c,b)));break;case 30:break;case 21:break;default:Zs(f,c),_r(c)}}function _r(c){var f=c.flags;if(f&2){try{for(var g,b=c.return;b!==null;){if(Xr(b)){g=b;break}b=b.return}if(g==null)throw Error(i(160));switch(g.tag){case 27:var R=g.stateNode,k=hc(c);_i(c,k,R);break;case 5:var $=g.stateNode;g.flags&32&&(Cr($,""),g.flags&=-33);var ie=hc(c);_i(c,ie,$);break;case 3:case 4:var ye=g.stateNode.containerInfo,De=hc(c);Dn(c,De,ye);break;default:throw Error(i(161))}}catch(Ke){zi(c,c.return,Ke)}c.flags&=-3}f&4096&&(c.flags&=-4097)}function jE(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var f=c;jE(f),f.tag===5&&f.flags&1024&&f.stateNode.reset(),c=c.sibling}}function eu(c,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)VE(c,f.alternate,f),f=f.sibling}function lh(c){for(c=c.child;c!==null;){var f=c;switch(f.tag){case 0:case 11:case 14:case 15:Go(4,f,f.return),lh(f);break;case 1:_o(f,f.return);var g=f.stateNode;typeof g.componentWillUnmount=="function"&&Ub(f,f.return,g),lh(f);break;case 27:Vb(f.stateNode);case 26:case 5:_o(f,f.return),lh(f);break;case 22:f.memoizedState===null&&lh(f);break;case 30:lh(f);break;default:lh(f)}c=c.sibling}}function Ei(c,f,g){for(g=g&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var b=f.alternate,R=c,k=f,$=k.flags;switch(k.tag){case 0:case 11:case 15:Ei(R,k,g),uc(4,k);break;case 1:if(Ei(R,k,g),b=k,R=b.stateNode,typeof R.componentDidMount=="function")try{R.componentDidMount()}catch(De){zi(b,b.return,De)}if(b=k,R=b.updateQueue,R!==null){var ie=b.stateNode;try{var ye=R.shared.hiddenCallbacks;if(ye!==null)for(R.shared.hiddenCallbacks=null,R=0;R<ye.length;R++)ac(ye[R],ie)}catch(De){zi(b,b.return,De)}}g&&$&64&&Qu(k),fc(k,k.return);break;case 27:Rr(k);case 26:case 5:Ei(R,k,g),g&&b===null&&$&4&&bo(k),fc(k,k.return);break;case 12:Ei(R,k,g);break;case 31:Ei(R,k,g),g&&$&4&&rv(R,k);break;case 13:Ei(R,k,g),g&&$&4&&kb(R,k);break;case 22:k.memoizedState===null&&Ei(R,k,g),fc(k,k.return);break;case 30:break;default:Ei(R,k,g)}f=f.sibling}}function sv(c,f){var g=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),c=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(c=f.memoizedState.cachePool.pool),c!==g&&(c!=null&&c.refCount++,g!=null&&Ds(g))}function tu(c,f){c=null,f.alternate!==null&&(c=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==c&&(f.refCount++,c!=null&&Ds(c))}function ls(c,f,g,b){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)fr(c,f,g,b),f=f.sibling}function fr(c,f,g,b){var R=f.flags;switch(f.tag){case 0:case 11:case 15:ls(c,f,g,b),R&2048&&uc(9,f);break;case 1:ls(c,f,g,b);break;case 3:ls(c,f,g,b),R&2048&&(c=null,f.alternate!==null&&(c=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==c&&(f.refCount++,c!=null&&Ds(c)));break;case 12:if(R&2048){ls(c,f,g,b),c=f.stateNode;try{var k=f.memoizedProps,$=k.id,ie=k.onPostCommit;typeof ie=="function"&&ie($,f.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(ye){zi(f,f.return,ye)}}else ls(c,f,g,b);break;case 31:ls(c,f,g,b);break;case 13:ls(c,f,g,b);break;case 23:break;case 22:k=f.stateNode,$=f.alternate,f.memoizedState!==null?k._visibility&2?ls(c,f,g,b):Wd(c,f):k._visibility&2?ls(c,f,g,b):(k._visibility|=2,tf(c,f,g,b,(f.subtreeFlags&10256)!==0||!1)),R&2048&&sv($,f);break;case 24:ls(c,f,g,b),R&2048&&tu(f.alternate,f);break;default:ls(c,f,g,b)}}function tf(c,f,g,b,R){for(R=R&&((f.subtreeFlags&10256)!==0||!1),f=f.child;f!==null;){var k=c,$=f,ie=g,ye=b,De=$.flags;switch($.tag){case 0:case 11:case 15:tf(k,$,ie,ye,R),uc(8,$);break;case 23:break;case 22:var Ke=$.stateNode;$.memoizedState!==null?Ke._visibility&2?tf(k,$,ie,ye,R):Wd(k,$):(Ke._visibility|=2,tf(k,$,ie,ye,R)),R&&De&2048&&sv($.alternate,$);break;case 24:tf(k,$,ie,ye,R),R&&De&2048&&tu($.alternate,$);break;default:tf(k,$,ie,ye,R)}f=f.sibling}}function Wd(c,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var g=c,b=f,R=b.flags;switch(b.tag){case 22:Wd(g,b),R&2048&&sv(b.alternate,b);break;case 24:Wd(g,b),R&2048&&tu(b.alternate,b);break;default:Wd(g,b)}f=f.sibling}}var br=8192;function ch(c,f,g){if(c.subtreeFlags&br)for(c=c.child;c!==null;)Ir(c,f,g),c=c.sibling}function Ir(c,f,g){switch(c.tag){case 26:ch(c,f,g),c.flags&br&&c.memoizedState!==null&&kX(g,Ba,c.memoizedState,c.memoizedProps);break;case 5:ch(c,f,g);break;case 3:case 4:var b=Ba;Ba=YE(c.stateNode.containerInfo),ch(c,f,g),Ba=b;break;case 22:c.memoizedState===null&&(b=c.alternate,b!==null&&b.memoizedState!==null?(b=br,br=16777216,ch(c,f,g),br=b):ch(c,f,g));break;default:ch(c,f,g)}}function Fa(c){var f=c.alternate;if(f!==null&&(c=f.child,c!==null)){f.child=null;do f=c.sibling,c.sibling=null,c=f;while(c!==null)}}function ya(c){var f=c.deletions;if((c.flags&16)!==0){if(f!==null)for(var g=0;g<f.length;g++){var b=f[g];vr=b,Wm(b,c)}Fa(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)uh(c),c=c.sibling}function uh(c){switch(c.tag){case 0:case 11:case 15:ya(c),c.flags&2048&&Go(9,c,c.return);break;case 3:ya(c);break;case 12:ya(c);break;case 22:var f=c.stateNode;c.memoizedState!==null&&f._visibility&2&&(c.return===null||c.return.tag!==13)?(f._visibility&=-3,av(c)):ya(c);break;default:ya(c)}}function av(c){var f=c.deletions;if((c.flags&16)!==0){if(f!==null)for(var g=0;g<f.length;g++){var b=f[g];vr=b,Wm(b,c)}Fa(c)}for(c=c.child;c!==null;){switch(f=c,f.tag){case 0:case 11:case 15:Go(8,f,f.return),av(f);break;case 22:g=f.stateNode,g._visibility&2&&(g._visibility&=-3,av(f));break;default:av(f)}c=c.sibling}}function Wm(c,f){for(;vr!==null;){var g=vr;switch(g.tag){case 0:case 11:case 15:Go(8,g,f);break;case 23:case 22:if(g.memoizedState!==null&&g.memoizedState.cachePool!==null){var b=g.memoizedState.cachePool.pool;b!=null&&b.refCount++}break;case 24:Ds(g.memoizedState.cache)}if(b=g.child,b!==null)b.return=g,vr=b;else e:for(g=c;vr!==null;){b=vr;var R=b.sibling,k=b.return;if(iv(b),b===g){vr=null;break e}if(R!==null){R.return=k,vr=R;break e}vr=k}}}var ov={getCacheForType:function(c){var f=Ss(Yt),g=f.data.get(c);return g===void 0&&(g=c(),f.data.set(c,g)),g},cacheSignal:function(){return Ss(Yt).controller.signal}},lv=typeof WeakMap=="function"?WeakMap:Map,ni=0,Ti=null,Nn=null,Kn=0,Kt=0,Wn=null,wn=!1,Vn=!1,Ni=!1,Pr=0,wi=0,xo=0,nu=0,El=0,ii=0,So=0,Tl=null,Qs=null,Va=!1,iu=0,$d=0,Eo=1/0,Xd=null,dc=null,hr=0,wl=null,To=null,$o=0,ru=0,fh=null,cv=null,hh=0,dh=null;function va(){return(ni&2)!==0&&Kn!==0?Kn&-Kn:q.T!==null?dR():Ki()}function d(){if(ii===0)if((Kn&536870912)===0||Qn){var c=xe;xe<<=1,(xe&3932160)===0&&(xe=262144),ii=c}else ii=536870912;return c=os.current,c!==null&&(c.flags|=32),ii}function m(c,f,g){(c===Ti&&(Kt===2||Kt===9)||c.cancelPendingCommit!==null)&&(Ae(c,0),G(c,Kn,ii,!1)),vt(c,g),((ni&2)===0||c!==Ti)&&(c===Ti&&((ni&2)===0&&(nu|=g),wi===4&&G(c,Kn,ii,!1)),nf(c))}function T(c,f,g){if((ni&6)!==0)throw Error(i(327));var b=!g&&(f&127)===0&&(f&c.expiredLanes)===0||qt(c,f),R=b?ph(c,f):Ha(c,f,!0),k=b;do{if(R===0){Vn&&!b&&G(c,f,0,!1);break}else{if(g=c.current.alternate,k&&!B(g)){R=Ha(c,f,!1),k=!1;continue}if(R===2){if(k=f,c.errorRecoveryDisabledLanes&k)var $=0;else $=c.pendingLanes&-536870913,$=$!==0?$:$&536870912?536870912:0;if($!==0){f=$;e:{var ie=c;R=Tl;var ye=ie.current.memoizedState.isDehydrated;if(ye&&(Ae(ie,$).flags|=256),$=Ha(ie,$,!1),$!==2){if(Ni&&!ye){ie.errorRecoveryDisabledLanes|=k,nu|=k,R=4;break e}k=Qs,Qs=R,k!==null&&(Qs===null?Qs=k:Qs.push.apply(Qs,k))}R=$}if(k=!1,R!==2)continue}}if(R===1){Ae(c,0),G(c,f,0,!0);break}e:{switch(b=c,k=R,k){case 0:case 1:throw Error(i(345));case 4:if((f&4194048)!==f)break;case 6:G(b,f,ii,!wn);break e;case 2:Qs=null;break;case 3:case 5:break;default:throw Error(i(329))}if((f&62914560)===f&&(R=iu+300-Me(),10<R)){if(G(b,f,ii,!wn),pt(b,0,!0)!==0)break e;$o=f,b.timeoutHandle=U4(O.bind(null,b,g,Qs,Xd,Va,f,ii,nu,So,wn,k,"Throttled",-0,0),R);break e}O(b,g,Qs,Xd,Va,f,ii,nu,So,wn,k,null,-0,0)}}break}while(!0);nf(c)}function O(c,f,g,b,R,k,$,ie,ye,De,Ke,tt,Be,$e){if(c.timeoutHandle=-1,tt=f.subtreeFlags,tt&8192||(tt&16785408)===16785408){tt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ss},Ir(f,k,tt);var Ft=(k&62914560)===k?iu-Me():(k&4194048)===k?$d-Me():0;if(Ft=zX(tt,Ft),Ft!==null){$o=k,c.cancelPendingCommit=Ft(fn.bind(null,c,f,k,g,b,R,$,ie,ye,Ke,tt,null,Be,$e)),G(c,k,$,!De);return}}fn(c,f,k,g,b,R,$,ie,ye)}function B(c){for(var f=c;;){var g=f.tag;if((g===0||g===11||g===15)&&f.flags&16384&&(g=f.updateQueue,g!==null&&(g=g.stores,g!==null)))for(var b=0;b<g.length;b++){var R=g[b],k=R.getSnapshot;R=R.value;try{if(!Qi(k(),R))return!1}catch{return!1}}if(g=f.child,f.subtreeFlags&16384&&g!==null)g.return=f,f=g;else{if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function G(c,f,g,b){f&=~El,f&=~nu,c.suspendedLanes|=f,c.pingedLanes&=~f,b&&(c.warmLanes|=f),b=c.expirationTimes;for(var R=f;0<R;){var k=31-Ht(R),$=1<<k;b[k]=-1,R&=~$}g!==0&&Tn(c,g,f)}function oe(){return(ni&6)===0?(zb(0),!1):!0}function ge(){if(Nn!==null){if(Kt===0)var c=Nn.return;else c=Nn,$s=Gc=null,pb(c),Gu=null,qu=0,c=Nn;for(;c!==null;)oh(c.alternate,c),c=c.return;Nn=null}}function Ae(c,f){var g=c.timeoutHandle;g!==-1&&(c.timeoutHandle=-1,bX(g)),g=c.cancelPendingCommit,g!==null&&(c.cancelPendingCommit=null,g()),$o=0,ge(),Ti=c,Nn=g=ec(c.current,null),Kn=f,Kt=0,Wn=null,wn=!1,Vn=qt(c,f),Ni=!1,So=ii=El=nu=xo=wi=0,Qs=Tl=null,Va=!1,(f&8)!==0&&(f|=f&32);var b=c.entangledLanes;if(b!==0)for(c=c.entanglements,b&=f;0<b;){var R=31-Ht(b),k=1<<R;f|=c[R],b&=~k}return Pr=f,ku(),g}function Je(c,f){un=null,q.H=Nm,f===ju||f===_l?(f=ky(),Kt=3):f===Tm?(f=ky(),Kt=4):Kt=f===ev?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,Wn=f,Nn===null&&(wi=1,Jy(c,Da(f,c.current)))}function bt(){var c=os.current;return c===null?!0:(Kn&4194048)===Kn?Vo===null:(Kn&62914560)===Kn||(Kn&536870912)!==0?c===Vo:!1}function Ot(){var c=q.H;return q.H=Nm,c===null?Nm:c}function Nt(){var c=q.A;return q.A=ov,c}function bn(){wi=4,wn||(Kn&4194048)!==Kn&&os.current!==null||(Vn=!0),(xo&134217727)===0&&(nu&134217727)===0||Ti===null||G(Ti,Kn,ii,!1)}function Ha(c,f,g){var b=ni;ni|=2;var R=Ot(),k=Nt();(Ti!==c||Kn!==f)&&(Xd=null,Ae(c,f)),f=!1;var $=wi;e:do try{if(Kt!==0&&Nn!==null){var ie=Nn,ye=Wn;switch(Kt){case 8:ge(),$=6;break e;case 3:case 2:case 9:case 6:os.current===null&&(f=!0);var De=Kt;if(Kt=0,Wn=null,ft(c,ie,ye,De),g&&Vn){$=0;break e}break;default:De=Kt,Kt=0,Wn=null,ft(c,ie,ye,De)}}$m(),$=wi;break}catch(Ke){Je(c,Ke)}while(!0);return f&&c.shellSuspendCounter++,$s=Gc=null,ni=b,q.H=R,q.A=k,Nn===null&&(Ti=null,Kn=0,ku()),$}function $m(){for(;Nn!==null;)we(Nn)}function ph(c,f){var g=ni;ni|=2;var b=Ot(),R=Nt();Ti!==c||Kn!==f?(Xd=null,Eo=Me()+500,Ae(c,f)):Vn=qt(c,f);e:do try{if(Kt!==0&&Nn!==null){f=Nn;var k=Wn;t:switch(Kt){case 1:Kt=0,Wn=null,ft(c,f,k,1);break;case 2:case 9:if(pE(k)){Kt=0,Wn=null,Ge(f);break}f=function(){Kt!==2&&Kt!==9||Ti!==c||(Kt=7),nf(c)},k.then(f,f);break e;case 3:Kt=7;break e;case 4:Kt=5;break e;case 7:pE(k)?(Kt=0,Wn=null,Ge(f)):(Kt=0,Wn=null,ft(c,f,k,7));break;case 5:var $=null;switch(Nn.tag){case 26:$=Nn.memoizedState;case 5:case 27:var ie=Nn;if($?Z4($):ie.stateNode.complete){Kt=0,Wn=null;var ye=ie.sibling;if(ye!==null)Nn=ye;else{var De=ie.return;De!==null?(Nn=De,Wt(De)):Nn=null}break t}}Kt=0,Wn=null,ft(c,f,k,5);break;case 6:Kt=0,Wn=null,ft(c,f,k,6);break;case 8:ge(),wi=6;break e;default:throw Error(i(462))}}ze();break}catch(Ke){Je(c,Ke)}while(!0);return $s=Gc=null,q.H=b,q.A=R,ni=g,Nn!==null?0:(Ti=null,Kn=0,ku(),wi)}function ze(){for(;Nn!==null&&!ee();)we(Nn)}function we(c){var f=tv(c.alternate,c,Pr);c.memoizedProps=c.pendingProps,f===null?Wt(c):Nn=f}function Ge(c){var f=c,g=f.alternate;switch(f.tag){case 15:case 0:f=Ys(g,f,f.pendingProps,f.type,void 0,Kn);break;case 11:f=Ys(g,f,f.pendingProps,f.type.render,f.ref,Kn);break;case 5:pb(f);default:oh(g,f),f=Nn=Ws(f,Pr),f=tv(g,f,Pr)}c.memoizedProps=c.pendingProps,f===null?Wt(c):Nn=f}function ft(c,f,g,b){$s=Gc=null,pb(f),Gu=null,qu=0;var R=f.return;try{if(po(c,R,f,g,Kn)){wi=1,Jy(c,Da(g,c.current)),Nn=null;return}}catch(k){if(R!==null)throw Nn=R,k;wi=1,Jy(c,Da(g,c.current)),Nn=null;return}f.flags&32768?(Qn||b===1?c=!0:Vn||(Kn&536870912)!==0?c=!1:(wn=c=!0,(b===2||b===9||b===3||b===6)&&(b=os.current,b!==null&&b.tag===13&&(b.flags|=16384))),qi(f,c)):Wt(f)}function Wt(c){var f=c;do{if((f.flags&32768)!==0){qi(f,wn);return}c=f.return;var g=Lb(f.alternate,f,Pr);if(g!==null){Nn=g;return}if(f=f.sibling,f!==null){Nn=f;return}Nn=f=c}while(f!==null);wi===0&&(wi=5)}function qi(c,f){do{var g=nv(c.alternate,c);if(g!==null){g.flags&=32767,Nn=g;return}if(g=c.return,g!==null&&(g.flags|=32768,g.subtreeFlags=0,g.deletions=null),!f&&(c=c.sibling,c!==null)){Nn=c;return}Nn=c=g}while(c!==null);wi=6,Nn=null}function fn(c,f,g,b,R,k,$,ie,ye){c.cancelPendingCommit=null;do uv();while(hr!==0);if((ni&6)!==0)throw Error(i(327));if(f!==null){if(f===c.current)throw Error(i(177));if(k=f.lanes|f.childLanes,k|=Ry,Et(c,g,k,$,ie,ye),c===Ti&&(Nn=Ti=null,Kn=0),To=f,wl=c,$o=g,ru=k,fh=R,cv=b,(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?(c.callbackNode=null,c.callbackPriority=0,oX(lt,function(){return _4(),null})):(c.callbackNode=null,c.callbackPriority=0),b=(f.flags&13878)!==0,(f.subtreeFlags&13878)!==0||b){b=q.T,q.T=null,R=W.p,W.p=2,$=ni,ni|=4;try{qd(c,f,g)}finally{ni=$,W.p=R,q.T=b}}hr=1,ci(),cs(),ui()}}function ci(){if(hr===1){hr=0;var c=wl,f=To,g=(f.flags&13878)!==0;if((f.subtreeFlags&13878)!==0||g){g=q.T,q.T=null;var b=W.p;W.p=2;var R=ni;ni|=4;try{ef(f,c);var k=xR,$=Ty(c.containerInfo),ie=k.focusedElem,ye=k.selectionRange;if($!==ie&&ie&&ie.ownerDocument&&Ey(ie.ownerDocument.documentElement,ie)){if(ye!==null&&Td(ie)){var De=ye.start,Ke=ye.end;if(Ke===void 0&&(Ke=De),"selectionStart"in ie)ie.selectionStart=De,ie.selectionEnd=Math.min(Ke,ie.value.length);else{var tt=ie.ownerDocument||document,Be=tt&&tt.defaultView||window;if(Be.getSelection){var $e=Be.getSelection(),Ft=ie.textContent.length,ln=Math.min(ye.start,Ft),$i=ye.end===void 0?ln:Math.min(ye.end,Ft);!$e.extend&&ln>$i&&($=$i,$i=ln,ln=$);var Ce=j_(ie,ln),_e=j_(ie,$i);if(Ce&&_e&&($e.rangeCount!==1||$e.anchorNode!==Ce.node||$e.anchorOffset!==Ce.offset||$e.focusNode!==_e.node||$e.focusOffset!==_e.offset)){var Pe=tt.createRange();Pe.setStart(Ce.node,Ce.offset),$e.removeAllRanges(),ln>$i?($e.addRange(Pe),$e.extend(_e.node,_e.offset)):(Pe.setEnd(_e.node,_e.offset),$e.addRange(Pe))}}}}for(tt=[],$e=ie;$e=$e.parentNode;)$e.nodeType===1&&tt.push({element:$e,left:$e.scrollLeft,top:$e.scrollTop});for(typeof ie.focus=="function"&&ie.focus(),ie=0;ie<tt.length;ie++){var et=tt[ie];et.element.scrollLeft=et.left,et.element.scrollTop=et.top}}tT=!!bR,xR=bR=null}finally{ni=R,W.p=b,q.T=g}}c.current=f,hr=2}}function cs(){if(hr===2){hr=0;var c=wl,f=To,g=(f.flags&8772)!==0;if((f.subtreeFlags&8772)!==0||g){g=q.T,q.T=null;var b=W.p;W.p=2;var R=ni;ni|=4;try{VE(c,f.alternate,f)}finally{ni=R,W.p=b,q.T=g}}hr=3}}function ui(){if(hr===4||hr===3){hr=0,Ee();var c=wl,f=To,g=$o,b=cv;(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?hr=5:(hr=0,To=wl=null,su(c,c.pendingLanes));var R=c.pendingLanes;if(R===0&&(dc=null),Is(g),f=f.stateNode,xt&&typeof xt.onCommitFiberRoot=="function")try{xt.onCommitFiberRoot(At,f,void 0,(f.current.flags&128)===128)}catch{}if(b!==null){f=q.T,R=W.p,W.p=2,q.T=null;try{for(var k=c.onRecoverableError,$=0;$<b.length;$++){var ie=b[$];k(ie.value,{componentStack:ie.stack})}}finally{q.T=f,W.p=R}}($o&3)!==0&&uv(),nf(c),R=c.pendingLanes,(g&261930)!==0&&(R&42)!==0?c===dh?hh++:(hh=0,dh=c):hh=0,zb(0)}}function su(c,f){(c.pooledCacheLanes&=f)===0&&(f=c.pooledCache,f!=null&&(c.pooledCache=null,Ds(f)))}function uv(){return ci(),cs(),ui(),_4()}function _4(){if(hr!==5)return!1;var c=wl,f=ru;ru=0;var g=Is($o),b=q.T,R=W.p;try{W.p=32>g?32:g,q.T=null,g=fh,fh=null;var k=wl,$=$o;if(hr=0,To=wl=null,$o=0,(ni&6)!==0)throw Error(i(331));var ie=ni;if(ni|=4,uh(k.current),fr(k,k.current,$,g),ni=ie,zb(0,!1),xt&&typeof xt.onPostCommitFiberRoot=="function")try{xt.onPostCommitFiberRoot(At,k)}catch{}return!0}finally{W.p=R,q.T=b,su(c,f)}}function b4(c,f,g){f=Da(g,f),f=Nb(c.stateNode,f,2),c=Xc(c,f,2),c!==null&&(vt(c,2),nf(c))}function zi(c,f,g){if(c.tag===3)b4(c,c,g);else for(;f!==null;){if(f.tag===3){b4(f,c,g);break}else if(f.tag===1){var b=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(dc===null||!dc.has(b))){c=Da(g,c),g=Fd(2),b=Xc(f,g,2),b!==null&&(ka(g,b,f,c),vt(b,2),nf(b));break}}f=f.return}}function uR(c,f,g){var b=c.pingCache;if(b===null){b=c.pingCache=new lv;var R=new Set;b.set(f,R)}else R=b.get(f),R===void 0&&(R=new Set,b.set(f,R));R.has(g)||(Ni=!0,R.add(g),c=rX.bind(null,c,f,g),f.then(c,c))}function rX(c,f,g){var b=c.pingCache;b!==null&&b.delete(f),c.pingedLanes|=c.suspendedLanes&g,c.warmLanes&=~g,Ti===c&&(Kn&g)===g&&(wi===4||wi===3&&(Kn&62914560)===Kn&&300>Me()-iu?(ni&2)===0&&Ae(c,0):El|=g,So===Kn&&(So=0)),nf(c)}function x4(c,f){f===0&&(f=kt()),c=zu(c,f),c!==null&&(vt(c,f),nf(c))}function sX(c){var f=c.memoizedState,g=0;f!==null&&(g=f.retryLane),x4(c,g)}function aX(c,f){var g=0;switch(c.tag){case 31:case 13:var b=c.stateNode,R=c.memoizedState;R!==null&&(g=R.retryLane);break;case 19:b=c.stateNode;break;case 22:b=c.stateNode._retryCache;break;default:throw Error(i(314))}b!==null&&b.delete(f),x4(c,g)}function oX(c,f){return We(c,f)}var GE=null,fv=null,fR=!1,qE=!1,hR=!1,Yd=0;function nf(c){c!==fv&&c.next===null&&(fv===null?GE=fv=c:fv=fv.next=c),qE=!0,fR||(fR=!0,cX())}function zb(c,f){if(!hR&&qE){hR=!0;do for(var g=!1,b=GE;b!==null;){if(c!==0){var R=b.pendingLanes;if(R===0)var k=0;else{var $=b.suspendedLanes,ie=b.pingedLanes;k=(1<<31-Ht(42|c)+1)-1,k&=R&~($&~ie),k=k&201326741?k&201326741|1:k?k|2:0}k!==0&&(g=!0,w4(b,k))}else k=Kn,k=pt(b,b===Ti?k:0,b.cancelPendingCommit!==null||b.timeoutHandle!==-1),(k&3)===0||qt(b,k)||(g=!0,w4(b,k));b=b.next}while(g);hR=!1}}function lX(){S4()}function S4(){qE=fR=!1;var c=0;Yd!==0&&_X()&&(c=Yd);for(var f=Me(),g=null,b=GE;b!==null;){var R=b.next,k=E4(b,f);k===0?(b.next=null,g===null?GE=R:g.next=R,R===null&&(fv=g)):(g=b,(c!==0||(k&3)!==0)&&(qE=!0)),b=R}hr!==0&&hr!==5||zb(c),Yd!==0&&(Yd=0)}function E4(c,f){for(var g=c.suspendedLanes,b=c.pingedLanes,R=c.expirationTimes,k=c.pendingLanes&-62914561;0<k;){var $=31-Ht(k),ie=1<<$,ye=R[$];ye===-1?((ie&g)===0||(ie&b)!==0)&&(R[$]=Xn(ie,f)):ye<=f&&(c.expiredLanes|=ie),k&=~ie}if(f=Ti,g=Kn,g=pt(c,c===f?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),b=c.callbackNode,g===0||c===f&&(Kt===2||Kt===9)||c.cancelPendingCommit!==null)return b!==null&&b!==null&&ae(b),c.callbackNode=null,c.callbackPriority=0;if((g&3)===0||qt(c,g)){if(f=g&-g,f===c.callbackPriority)return f;switch(b!==null&&ae(b),Is(g)){case 2:case 8:g=ct;break;case 32:g=lt;break;case 268435456:g=Ut;break;default:g=lt}return b=T4.bind(null,c),g=We(g,b),c.callbackPriority=f,c.callbackNode=g,f}return b!==null&&b!==null&&ae(b),c.callbackPriority=2,c.callbackNode=null,2}function T4(c,f){if(hr!==0&&hr!==5)return c.callbackNode=null,c.callbackPriority=0,null;var g=c.callbackNode;if(uv()&&c.callbackNode!==g)return null;var b=Kn;return b=pt(c,c===Ti?b:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),b===0?null:(T(c,b,f),E4(c,Me()),c.callbackNode!=null&&c.callbackNode===g?T4.bind(null,c):null)}function w4(c,f){if(uv())return null;T(c,f,!0)}function cX(){xX(function(){(ni&6)!==0?We(Oe,lX):S4()})}function dR(){if(Yd===0){var c=$c;c===0&&(c=St,St<<=1,(St&261888)===0&&(St=256)),Yd=c}return Yd}function C4(c){return c==null||typeof c=="symbol"||typeof c=="boolean"?null:typeof c=="function"?c:pl(""+c)}function A4(c,f){var g=f.ownerDocument.createElement("input");return g.name=f.name,g.value=f.value,c.id&&g.setAttribute("form",c.id),f.parentNode.insertBefore(g,f),c=new FormData(c),g.parentNode.removeChild(g),c}function uX(c,f,g,b,R){if(f==="submit"&&g&&g.stateNode===R){var k=C4((R[dr]||null).action),$=b.submitter;$&&(f=(f=$[dr]||null)?C4(f.formAction):$.getAttribute("formAction"),f!==null&&(k=f,$=null));var ie=new Mu("action","action",null,b,R);c.push({event:ie,listeners:[{instance:null,listener:function(){if(b.defaultPrevented){if(Yd!==0){var ye=$?A4(R,$):new FormData(R);Rb(g,{pending:!0,data:ye,method:R.method,action:k},null,ye)}}else typeof k=="function"&&(ie.preventDefault(),ye=$?A4(R,$):new FormData(R),Rb(g,{pending:!0,data:ye,method:R.method,action:k},k,ye))},currentTarget:R}]})}}for(var pR=0;pR<My.length;pR++){var mR=My[pR],fX=mR.toLowerCase(),hX=mR[0].toUpperCase()+mR.slice(1);qs(fX,"on"+hX)}qs(Pa,"onAnimationEnd"),qs(G_,"onAnimationIteration"),qs(Jl,"onAnimationStart"),qs("dblclick","onDoubleClick"),qs("focusin","onFocus"),qs("focusout","onBlur"),qs(Md,"onTransitionRun"),qs(Lu,"onTransitionStart"),qs(q_,"onTransitionCancel"),qs(Ay,"onTransitionEnd"),Rt("onMouseEnter",["mouseout","mouseover"]),Rt("onMouseLeave",["mouseout","mouseover"]),Rt("onPointerEnter",["pointerout","pointerover"]),Rt("onPointerLeave",["pointerout","pointerover"]),Mt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bb="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dX=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bb));function M4(c,f){f=(f&4)!==0;for(var g=0;g<c.length;g++){var b=c[g],R=b.event;b=b.listeners;e:{var k=void 0;if(f)for(var $=b.length-1;0<=$;$--){var ie=b[$],ye=ie.instance,De=ie.currentTarget;if(ie=ie.listener,ye!==k&&R.isPropagationStopped())break e;k=ie,R.currentTarget=De;try{k(R)}catch(Ke){Uu(Ke)}R.currentTarget=null,k=ye}else for($=0;$<b.length;$++){if(ie=b[$],ye=ie.instance,De=ie.currentTarget,ie=ie.listener,ye!==k&&R.isPropagationStopped())break e;k=ie,R.currentTarget=De;try{k(R)}catch(Ke){Uu(Ke)}R.currentTarget=null,k=ye}}}}function Jn(c,f){var g=f[hl];g===void 0&&(g=f[hl]=new Set);var b=c+"__bubble";g.has(b)||(R4(f,c,2,!1),g.add(b))}function gR(c,f,g){var b=0;f&&(b|=4),R4(g,c,b,f)}var WE="_reactListening"+Math.random().toString(36).slice(2);function yR(c){if(!c[WE]){c[WE]=!0,at.forEach(function(g){g!=="selectionchange"&&(dX.has(g)||gR(g,!1,c),gR(g,!0,c))});var f=c.nodeType===9?c:c.ownerDocument;f===null||f[WE]||(f[WE]=!0,gR("selectionchange",!1,f))}}function R4(c,f,g,b){switch(rU(f)){case 2:var R=VX;break;case 8:R=HX;break;default:R=PR}g=R.bind(null,f,g,c),R=void 0,!dd||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(R=!0),b?R!==void 0?c.addEventListener(f,g,{capture:!0,passive:R}):c.addEventListener(f,g,!0):R!==void 0?c.addEventListener(f,g,{passive:R}):c.addEventListener(f,g,!1)}function vR(c,f,g,b,R){var k=b;if((f&1)===0&&(f&2)===0&&b!==null)e:for(;;){if(b===null)return;var $=b.tag;if($===3||$===4){var ie=b.stateNode.containerInfo;if(ie===R)break;if($===4)for($=b.return;$!==null;){var ye=$.tag;if((ye===3||ye===4)&&$.stateNode.containerInfo===R)return;$=$.return}for(;ie!==null;){if($=se(ie),$===null)return;if(ye=$.tag,ye===5||ye===6||ye===26||ye===27){b=k=$;continue e}ie=ie.parentNode}}b=b.return}cm(function(){var De=k,Ke=Bf(g),tt=[];e:{var Be=Fc.get(c);if(Be!==void 0){var $e=Mu,Ft=c;switch(c){case"keypress":if($l(g)===0)break e;case"keydown":case"keyup":$e=vd;break;case"focusin":Ft="focus",$e=zc;break;case"focusout":Ft="blur",$e=zc;break;case"beforeblur":case"afterblur":$e=zc;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$e=Sy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$e=um;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$e=zo;break;case Pa:case G_:case Jl:$e=Hf;break;case Ay:$e=bd;break;case"scroll":case"scrollend":$e=Vf;break;case"wheel":$e=ml;break;case"copy":case"cut":case"paste":$e=md;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$e=Wf;break;case"toggle":case"beforetoggle":$e=Zl}var ln=(f&4)!==0,$i=!ln&&(c==="scroll"||c==="scrollend"),Ce=ln?Be!==null?Be+"Capture":null:Be;ln=[];for(var _e=De,Pe;_e!==null;){var et=_e;if(Pe=et.stateNode,et=et.tag,et!==5&&et!==26&&et!==27||Pe===null||Ce===null||(et=Hs(_e,Ce),et!=null&&ln.push(Fb(_e,et,Pe))),$i)break;_e=_e.return}0<ln.length&&(Be=new $e(Be,Ft,null,g,Ke),tt.push({event:Be,listeners:ln}))}}if((f&7)===0){e:{if(Be=c==="mouseover"||c==="pointerover",$e=c==="mouseout"||c==="pointerout",Be&&g!==Au&&(Ft=g.relatedTarget||g.fromElement)&&(se(Ft)||Ft[la]))break e;if(($e||Be)&&(Be=Ke.window===Ke?Ke:(Be=Ke.ownerDocument)?Be.defaultView||Be.parentWindow:window,$e?(Ft=g.relatedTarget||g.toElement,$e=De,Ft=Ft?se(Ft):null,Ft!==null&&($i=s(Ft),ln=Ft.tag,Ft!==$i||ln!==5&&ln!==27&&ln!==6)&&(Ft=null)):($e=null,Ft=De),$e!==Ft)){if(ln=Sy,et="onMouseLeave",Ce="onMouseEnter",_e="mouse",(c==="pointerout"||c==="pointerover")&&(ln=Wf,et="onPointerLeave",Ce="onPointerEnter",_e="pointer"),$i=$e==null?Be:ke($e),Pe=Ft==null?Be:ke(Ft),Be=new ln(et,_e+"leave",$e,g,Ke),Be.target=$i,Be.relatedTarget=Pe,et=null,se(Ke)===De&&(ln=new ln(Ce,_e+"enter",Ft,g,Ke),ln.target=Pe,ln.relatedTarget=$i,et=ln),$i=et,$e&&Ft)t:{for(ln=pX,Ce=$e,_e=Ft,Pe=0,et=Ce;et;et=ln(et))Pe++;et=0;for(var en=_e;en;en=ln(en))et++;for(;0<Pe-et;)Ce=ln(Ce),Pe--;for(;0<et-Pe;)_e=ln(_e),et--;for(;Pe--;){if(Ce===_e||_e!==null&&Ce===_e.alternate){ln=Ce;break t}Ce=ln(Ce),_e=ln(_e)}ln=null}else ln=null;$e!==null&&O4(tt,Be,$e,ln,!1),Ft!==null&&$i!==null&&O4(tt,$i,Ft,ln,!0)}}e:{if(Be=De?ke(De):window,$e=Be.nodeName&&Be.nodeName.toLowerCase(),$e==="select"||$e==="input"&&Be.type==="file")var Ci=F_;else if(fa(Be))if(mm)Ci=aE;else{Ci=Pu;var Gt=gm}else $e=Be.nodeName,!$e||$e.toLowerCase()!=="input"||Be.type!=="checkbox"&&Be.type!=="radio"?De&&zf(De.elementType)&&(Ci=F_):Ci=sE;if(Ci&&(Ci=Ci(c,De))){Bc(tt,Ci,g,Ke);break e}Gt&&Gt(c,Be,De),c==="focusout"&&De&&Be.type==="number"&&De.memoizedProps.value!=null&&qr(Be,"number",Be.value)}switch(Gt=De?ke(De):window,c){case"focusin":(fa(Gt)||Gt.contentEditable==="true")&&(wd=Gt,wy=De,Cd=null);break;case"focusout":Cd=wy=wd=null;break;case"mousedown":lo=!0;break;case"contextmenu":case"mouseup":case"dragend":lo=!1,Cy(tt,g,Ke);break;case"selectionchange":if(oE)break;case"keydown":case"keyup":Cy(tt,g,Ke)}var Hn;if(j)e:{switch(c){case"compositionstart":var ri="onCompositionStart";break e;case"compositionend":ri="onCompositionEnd";break e;case"compositionupdate":ri="onCompositionUpdate";break e}ri=void 0}else Pn?di(c,g)&&(ri="onCompositionEnd"):c==="keydown"&&g.keyCode===229&&(ri="onCompositionStart");ri&&(Te&&g.locale!=="ko"&&(Pn||ri!=="onCompositionStart"?ri==="onCompositionEnd"&&Pn&&(Hn=Wl()):(oo=Ke,Ff="value"in oo?oo.value:oo.textContent,Pn=!0)),Gt=$E(De,ri),0<Gt.length&&(ri=new gd(ri,c,null,g,Ke),tt.push({event:ri,listeners:Gt}),Hn?ri.data=Hn:(Hn=sr(g),Hn!==null&&(ri.data=Hn)))),(Hn=ce?Ar(c,g):as(c,g))&&(ri=$E(De,"onBeforeInput"),0<ri.length&&(Gt=new gd("onBeforeInput","beforeinput",null,g,Ke),tt.push({event:Gt,listeners:ri}),Gt.data=Hn)),uX(tt,c,De,g,Ke)}M4(tt,f)})}function Fb(c,f,g){return{instance:c,listener:f,currentTarget:g}}function $E(c,f){for(var g=f+"Capture",b=[];c!==null;){var R=c,k=R.stateNode;if(R=R.tag,R!==5&&R!==26&&R!==27||k===null||(R=Hs(c,g),R!=null&&b.unshift(Fb(c,R,k)),R=Hs(c,f),R!=null&&b.push(Fb(c,R,k))),c.tag===3)return b;c=c.return}return[]}function pX(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5&&c.tag!==27);return c||null}function O4(c,f,g,b,R){for(var k=f._reactName,$=[];g!==null&&g!==b;){var ie=g,ye=ie.alternate,De=ie.stateNode;if(ie=ie.tag,ye!==null&&ye===b)break;ie!==5&&ie!==26&&ie!==27||De===null||(ye=De,R?(De=Hs(g,k),De!=null&&$.unshift(Fb(g,De,ye))):R||(De=Hs(g,k),De!=null&&$.push(Fb(g,De,ye)))),g=g.return}$.length!==0&&c.push({event:f,listeners:$})}var mX=/\r\n?/g,gX=/\u0000|\uFFFD/g;function I4(c){return(typeof c=="string"?c:""+c).replace(mX,`
`).replace(gX,"")}function P4(c,f){return f=I4(f),I4(c)===f}function Wi(c,f,g,b,R,k){switch(g){case"children":typeof b=="string"?f==="body"||f==="textarea"&&b===""||Cr(c,b):(typeof b=="number"||typeof b=="bigint")&&f!=="body"&&Cr(c,""+b);break;case"className":Si(c,"class",b);break;case"tabIndex":Si(c,"tabindex",b);break;case"dir":case"role":case"viewBox":case"width":case"height":Si(c,g,b);break;case"style":om(c,b,k);break;case"data":if(f!=="object"){Si(c,"data",b);break}case"src":case"href":if(b===""&&(f!=="a"||g!=="href")){c.removeAttribute(g);break}if(b==null||typeof b=="function"||typeof b=="symbol"||typeof b=="boolean"){c.removeAttribute(g);break}b=pl(""+b),c.setAttribute(g,b);break;case"action":case"formAction":if(typeof b=="function"){c.setAttribute(g,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof k=="function"&&(g==="formAction"?(f!=="input"&&Wi(c,f,"name",R.name,R,null),Wi(c,f,"formEncType",R.formEncType,R,null),Wi(c,f,"formMethod",R.formMethod,R,null),Wi(c,f,"formTarget",R.formTarget,R,null)):(Wi(c,f,"encType",R.encType,R,null),Wi(c,f,"method",R.method,R,null),Wi(c,f,"target",R.target,R,null)));if(b==null||typeof b=="symbol"||typeof b=="boolean"){c.removeAttribute(g);break}b=pl(""+b),c.setAttribute(g,b);break;case"onClick":b!=null&&(c.onclick=ss);break;case"onScroll":b!=null&&Jn("scroll",c);break;case"onScrollEnd":b!=null&&Jn("scrollend",c);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(i(61));if(g=b.__html,g!=null){if(R.children!=null)throw Error(i(60));c.innerHTML=g}}break;case"multiple":c.multiple=b&&typeof b!="function"&&typeof b!="symbol";break;case"muted":c.muted=b&&typeof b!="function"&&typeof b!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(b==null||typeof b=="function"||typeof b=="boolean"||typeof b=="symbol"){c.removeAttribute("xlink:href");break}g=pl(""+b),c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":b!=null&&typeof b!="function"&&typeof b!="symbol"?c.setAttribute(g,""+b):c.removeAttribute(g);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":b&&typeof b!="function"&&typeof b!="symbol"?c.setAttribute(g,""):c.removeAttribute(g);break;case"capture":case"download":b===!0?c.setAttribute(g,""):b!==!1&&b!=null&&typeof b!="function"&&typeof b!="symbol"?c.setAttribute(g,b):c.removeAttribute(g);break;case"cols":case"rows":case"size":case"span":b!=null&&typeof b!="function"&&typeof b!="symbol"&&!isNaN(b)&&1<=b?c.setAttribute(g,b):c.removeAttribute(g);break;case"rowSpan":case"start":b==null||typeof b=="function"||typeof b=="symbol"||isNaN(b)?c.removeAttribute(g):c.setAttribute(g,b);break;case"popover":Jn("beforetoggle",c),Jn("toggle",c),zn(c,"popover",b);break;case"xlinkActuate":$n(c,"http://www.w3.org/1999/xlink","xlink:actuate",b);break;case"xlinkArcrole":$n(c,"http://www.w3.org/1999/xlink","xlink:arcrole",b);break;case"xlinkRole":$n(c,"http://www.w3.org/1999/xlink","xlink:role",b);break;case"xlinkShow":$n(c,"http://www.w3.org/1999/xlink","xlink:show",b);break;case"xlinkTitle":$n(c,"http://www.w3.org/1999/xlink","xlink:title",b);break;case"xlinkType":$n(c,"http://www.w3.org/1999/xlink","xlink:type",b);break;case"xmlBase":$n(c,"http://www.w3.org/XML/1998/namespace","xml:base",b);break;case"xmlLang":$n(c,"http://www.w3.org/XML/1998/namespace","xml:lang",b);break;case"xmlSpace":$n(c,"http://www.w3.org/XML/1998/namespace","xml:space",b);break;case"is":zn(c,"is",b);break;case"innerText":case"textContent":break;default:(!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(g=by.get(g)||g,zn(c,g,b))}}function _R(c,f,g,b,R,k){switch(g){case"style":om(c,b,k);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(i(61));if(g=b.__html,g!=null){if(R.children!=null)throw Error(i(60));c.innerHTML=g}}break;case"children":typeof b=="string"?Cr(c,b):(typeof b=="number"||typeof b=="bigint")&&Cr(c,""+b);break;case"onScroll":b!=null&&Jn("scroll",c);break;case"onScrollEnd":b!=null&&Jn("scrollend",c);break;case"onClick":b!=null&&(c.onclick=ss);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wt.hasOwnProperty(g))e:{if(g[0]==="o"&&g[1]==="n"&&(R=g.endsWith("Capture"),f=g.slice(2,R?g.length-7:void 0),k=c[dr]||null,k=k!=null?k[g]:null,typeof k=="function"&&c.removeEventListener(f,k,R),typeof b=="function")){typeof k!="function"&&k!==null&&(g in c?c[g]=null:c.hasAttribute(g)&&c.removeAttribute(g)),c.addEventListener(f,b,R);break e}g in c?c[g]=b:b===!0?c.setAttribute(g,""):zn(c,g,b)}}}function _a(c,f,g){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Jn("error",c),Jn("load",c);var b=!1,R=!1,k;for(k in g)if(g.hasOwnProperty(k)){var $=g[k];if($!=null)switch(k){case"src":b=!0;break;case"srcSet":R=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,f));default:Wi(c,f,k,$,g,null)}}R&&Wi(c,f,"srcSet",g.srcSet,g,null),b&&Wi(c,f,"src",g.src,g,null);return;case"input":Jn("invalid",c);var ie=k=$=R=null,ye=null,De=null;for(b in g)if(g.hasOwnProperty(b)){var Ke=g[b];if(Ke!=null)switch(b){case"name":R=Ke;break;case"type":$=Ke;break;case"checked":ye=Ke;break;case"defaultChecked":De=Ke;break;case"value":k=Ke;break;case"defaultValue":ie=Ke;break;case"children":case"dangerouslySetInnerHTML":if(Ke!=null)throw Error(i(137,f));break;default:Wi(c,f,b,Ke,g,null)}}wr(c,k,ie,ye,De,$,R,!1);return;case"select":Jn("invalid",c),b=$=k=null;for(R in g)if(g.hasOwnProperty(R)&&(ie=g[R],ie!=null))switch(R){case"value":k=ie;break;case"defaultValue":$=ie;break;case"multiple":b=ie;default:Wi(c,f,R,ie,g,null)}f=k,g=$,c.multiple=!!b,f!=null?cn(c,!!b,f,!1):g!=null&&cn(c,!!b,g,!0);return;case"textarea":Jn("invalid",c),k=R=b=null;for($ in g)if(g.hasOwnProperty($)&&(ie=g[$],ie!=null))switch($){case"value":b=ie;break;case"defaultValue":R=ie;break;case"children":k=ie;break;case"dangerouslySetInnerHTML":if(ie!=null)throw Error(i(91));break;default:Wi(c,f,$,ie,g,null)}Ps(c,b,R,k);return;case"option":for(ye in g)if(g.hasOwnProperty(ye)&&(b=g[ye],b!=null))switch(ye){case"selected":c.selected=b&&typeof b!="function"&&typeof b!="symbol";break;default:Wi(c,f,ye,b,g,null)}return;case"dialog":Jn("beforetoggle",c),Jn("toggle",c),Jn("cancel",c),Jn("close",c);break;case"iframe":case"object":Jn("load",c);break;case"video":case"audio":for(b=0;b<Bb.length;b++)Jn(Bb[b],c);break;case"image":Jn("error",c),Jn("load",c);break;case"details":Jn("toggle",c);break;case"embed":case"source":case"link":Jn("error",c),Jn("load",c);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(De in g)if(g.hasOwnProperty(De)&&(b=g[De],b!=null))switch(De){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,f));default:Wi(c,f,De,b,g,null)}return;default:if(zf(f)){for(Ke in g)g.hasOwnProperty(Ke)&&(b=g[Ke],b!==void 0&&_R(c,f,Ke,b,g,void 0));return}}for(ie in g)g.hasOwnProperty(ie)&&(b=g[ie],b!=null&&Wi(c,f,ie,b,g,null))}function yX(c,f,g,b){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var R=null,k=null,$=null,ie=null,ye=null,De=null,Ke=null;for($e in g){var tt=g[$e];if(g.hasOwnProperty($e)&&tt!=null)switch($e){case"checked":break;case"value":break;case"defaultValue":ye=tt;default:b.hasOwnProperty($e)||Wi(c,f,$e,null,b,tt)}}for(var Be in b){var $e=b[Be];if(tt=g[Be],b.hasOwnProperty(Be)&&($e!=null||tt!=null))switch(Be){case"type":k=$e;break;case"name":R=$e;break;case"checked":De=$e;break;case"defaultChecked":Ke=$e;break;case"value":$=$e;break;case"defaultValue":ie=$e;break;case"children":case"dangerouslySetInnerHTML":if($e!=null)throw Error(i(137,f));break;default:$e!==tt&&Wi(c,f,Be,$e,b,tt)}}ti(c,$,ie,ye,De,Ke,k,R);return;case"select":$e=$=ie=Be=null;for(k in g)if(ye=g[k],g.hasOwnProperty(k)&&ye!=null)switch(k){case"value":break;case"multiple":$e=ye;default:b.hasOwnProperty(k)||Wi(c,f,k,null,b,ye)}for(R in b)if(k=b[R],ye=g[R],b.hasOwnProperty(R)&&(k!=null||ye!=null))switch(R){case"value":Be=k;break;case"defaultValue":ie=k;break;case"multiple":$=k;default:k!==ye&&Wi(c,f,R,k,b,ye)}f=ie,g=$,b=$e,Be!=null?cn(c,!!g,Be,!1):!!b!=!!g&&(f!=null?cn(c,!!g,f,!0):cn(c,!!g,g?[]:"",!1));return;case"textarea":$e=Be=null;for(ie in g)if(R=g[ie],g.hasOwnProperty(ie)&&R!=null&&!b.hasOwnProperty(ie))switch(ie){case"value":break;case"children":break;default:Wi(c,f,ie,null,b,R)}for($ in b)if(R=b[$],k=g[$],b.hasOwnProperty($)&&(R!=null||k!=null))switch($){case"value":Be=R;break;case"defaultValue":$e=R;break;case"children":break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(i(91));break;default:R!==k&&Wi(c,f,$,R,b,k)}cr(c,Be,$e);return;case"option":for(var Ft in g)if(Be=g[Ft],g.hasOwnProperty(Ft)&&Be!=null&&!b.hasOwnProperty(Ft))switch(Ft){case"selected":c.selected=!1;break;default:Wi(c,f,Ft,null,b,Be)}for(ye in b)if(Be=b[ye],$e=g[ye],b.hasOwnProperty(ye)&&Be!==$e&&(Be!=null||$e!=null))switch(ye){case"selected":c.selected=Be&&typeof Be!="function"&&typeof Be!="symbol";break;default:Wi(c,f,ye,Be,b,$e)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ln in g)Be=g[ln],g.hasOwnProperty(ln)&&Be!=null&&!b.hasOwnProperty(ln)&&Wi(c,f,ln,null,b,Be);for(De in b)if(Be=b[De],$e=g[De],b.hasOwnProperty(De)&&Be!==$e&&(Be!=null||$e!=null))switch(De){case"children":case"dangerouslySetInnerHTML":if(Be!=null)throw Error(i(137,f));break;default:Wi(c,f,De,Be,b,$e)}return;default:if(zf(f)){for(var $i in g)Be=g[$i],g.hasOwnProperty($i)&&Be!==void 0&&!b.hasOwnProperty($i)&&_R(c,f,$i,void 0,b,Be);for(Ke in b)Be=b[Ke],$e=g[Ke],!b.hasOwnProperty(Ke)||Be===$e||Be===void 0&&$e===void 0||_R(c,f,Ke,Be,b,$e);return}}for(var Ce in g)Be=g[Ce],g.hasOwnProperty(Ce)&&Be!=null&&!b.hasOwnProperty(Ce)&&Wi(c,f,Ce,null,b,Be);for(tt in b)Be=b[tt],$e=g[tt],!b.hasOwnProperty(tt)||Be===$e||Be==null&&$e==null||Wi(c,f,tt,Be,b,$e)}function D4(c){switch(c){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function vX(){if(typeof performance.getEntriesByType=="function"){for(var c=0,f=0,g=performance.getEntriesByType("resource"),b=0;b<g.length;b++){var R=g[b],k=R.transferSize,$=R.initiatorType,ie=R.duration;if(k&&ie&&D4($)){for($=0,ie=R.responseEnd,b+=1;b<g.length;b++){var ye=g[b],De=ye.startTime;if(De>ie)break;var Ke=ye.transferSize,tt=ye.initiatorType;Ke&&D4(tt)&&(ye=ye.responseEnd,$+=Ke*(ye<ie?1:(ie-De)/(ye-De)))}if(--b,f+=8*(k+$)/(R.duration/1e3),c++,10<c)break}}if(0<c)return f/c/1e6}return navigator.connection&&(c=navigator.connection.downlink,typeof c=="number")?c:5}var bR=null,xR=null;function XE(c){return c.nodeType===9?c:c.ownerDocument}function N4(c){switch(c){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function L4(c,f){if(c===0)switch(f){case"svg":return 1;case"math":return 2;default:return 0}return c===1&&f==="foreignObject"?0:c}function SR(c,f){return c==="textarea"||c==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.children=="bigint"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var ER=null;function _X(){var c=window.event;return c&&c.type==="popstate"?c===ER?!1:(ER=c,!0):(ER=null,!1)}var U4=typeof setTimeout=="function"?setTimeout:void 0,bX=typeof clearTimeout=="function"?clearTimeout:void 0,k4=typeof Promise=="function"?Promise:void 0,xX=typeof queueMicrotask=="function"?queueMicrotask:typeof k4<"u"?function(c){return k4.resolve(null).then(c).catch(SX)}:U4;function SX(c){setTimeout(function(){throw c})}function Kd(c){return c==="head"}function z4(c,f){var g=f,b=0;do{var R=g.nextSibling;if(c.removeChild(g),R&&R.nodeType===8)if(g=R.data,g==="/$"||g==="/&"){if(b===0){c.removeChild(R),mv(f);return}b--}else if(g==="$"||g==="$?"||g==="$~"||g==="$!"||g==="&")b++;else if(g==="html")Vb(c.ownerDocument.documentElement);else if(g==="head"){g=c.ownerDocument.head,Vb(g);for(var k=g.firstChild;k;){var $=k.nextSibling,ie=k.nodeName;k[ao]||ie==="SCRIPT"||ie==="STYLE"||ie==="LINK"&&k.rel.toLowerCase()==="stylesheet"||g.removeChild(k),k=$}}else g==="body"&&Vb(c.ownerDocument.body);g=R}while(g);mv(f)}function B4(c,f){var g=c;c=0;do{var b=g.nextSibling;if(g.nodeType===1?f?(g._stashedDisplay=g.style.display,g.style.display="none"):(g.style.display=g._stashedDisplay||"",g.getAttribute("style")===""&&g.removeAttribute("style")):g.nodeType===3&&(f?(g._stashedText=g.nodeValue,g.nodeValue=""):g.nodeValue=g._stashedText||""),b&&b.nodeType===8)if(g=b.data,g==="/$"){if(c===0)break;c--}else g!=="$"&&g!=="$?"&&g!=="$~"&&g!=="$!"||c++;g=b}while(g)}function TR(c){var f=c.firstChild;for(f&&f.nodeType===10&&(f=f.nextSibling);f;){var g=f;switch(f=f.nextSibling,g.nodeName){case"HTML":case"HEAD":case"BODY":TR(g),dl(g);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(g.rel.toLowerCase()==="stylesheet")continue}c.removeChild(g)}}function EX(c,f,g,b){for(;c.nodeType===1;){var R=g;if(c.nodeName.toLowerCase()!==f.toLowerCase()){if(!b&&(c.nodeName!=="INPUT"||c.type!=="hidden"))break}else if(b){if(!c[ao])switch(f){case"meta":if(!c.hasAttribute("itemprop"))break;return c;case"link":if(k=c.getAttribute("rel"),k==="stylesheet"&&c.hasAttribute("data-precedence"))break;if(k!==R.rel||c.getAttribute("href")!==(R.href==null||R.href===""?null:R.href)||c.getAttribute("crossorigin")!==(R.crossOrigin==null?null:R.crossOrigin)||c.getAttribute("title")!==(R.title==null?null:R.title))break;return c;case"style":if(c.hasAttribute("data-precedence"))break;return c;case"script":if(k=c.getAttribute("src"),(k!==(R.src==null?null:R.src)||c.getAttribute("type")!==(R.type==null?null:R.type)||c.getAttribute("crossorigin")!==(R.crossOrigin==null?null:R.crossOrigin))&&k&&c.hasAttribute("async")&&!c.hasAttribute("itemprop"))break;return c;default:return c}}else if(f==="input"&&c.type==="hidden"){var k=R.name==null?null:""+R.name;if(R.type==="hidden"&&c.getAttribute("name")===k)return c}else return c;if(c=pc(c.nextSibling),c===null)break}return null}function TX(c,f,g){if(f==="")return null;for(;c.nodeType!==3;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!g||(c=pc(c.nextSibling),c===null))return null;return c}function F4(c,f){for(;c.nodeType!==8;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!f||(c=pc(c.nextSibling),c===null))return null;return c}function wR(c){return c.data==="$?"||c.data==="$~"}function CR(c){return c.data==="$!"||c.data==="$?"&&c.ownerDocument.readyState!=="loading"}function wX(c,f){var g=c.ownerDocument;if(c.data==="$~")c._reactRetry=f;else if(c.data!=="$?"||g.readyState!=="loading")f();else{var b=function(){f(),g.removeEventListener("DOMContentLoaded",b)};g.addEventListener("DOMContentLoaded",b),c._reactRetry=b}}function pc(c){for(;c!=null;c=c.nextSibling){var f=c.nodeType;if(f===1||f===3)break;if(f===8){if(f=c.data,f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"||f==="F!"||f==="F")break;if(f==="/$"||f==="/&")return null}}return c}var AR=null;function V4(c){c=c.nextSibling;for(var f=0;c;){if(c.nodeType===8){var g=c.data;if(g==="/$"||g==="/&"){if(f===0)return pc(c.nextSibling);f--}else g!=="$"&&g!=="$!"&&g!=="$?"&&g!=="$~"&&g!=="&"||f++}c=c.nextSibling}return null}function H4(c){c=c.previousSibling;for(var f=0;c;){if(c.nodeType===8){var g=c.data;if(g==="$"||g==="$!"||g==="$?"||g==="$~"||g==="&"){if(f===0)return c;f--}else g!=="/$"&&g!=="/&"||f++}c=c.previousSibling}return null}function j4(c,f,g){switch(f=XE(g),c){case"html":if(c=f.documentElement,!c)throw Error(i(452));return c;case"head":if(c=f.head,!c)throw Error(i(453));return c;case"body":if(c=f.body,!c)throw Error(i(454));return c;default:throw Error(i(451))}}function Vb(c){for(var f=c.attributes;f.length;)c.removeAttributeNode(f[0]);dl(c)}var mc=new Map,G4=new Set;function YE(c){return typeof c.getRootNode=="function"?c.getRootNode():c.nodeType===9?c:c.ownerDocument}var mh=W.d;W.d={f:CX,r:AX,D:MX,C:RX,L:OX,m:IX,X:DX,S:PX,M:NX};function CX(){var c=mh.f(),f=oe();return c||f}function AX(c){var f=ve(c);f!==null&&f.tag===5&&f.type==="form"?Ob(f):mh.r(c)}var hv=typeof document>"u"?null:document;function q4(c,f,g){var b=hv;if(b&&typeof f=="string"&&f){var R=Ri(f);R='link[rel="'+c+'"][href="'+R+'"]',typeof g=="string"&&(R+='[crossorigin="'+g+'"]'),G4.has(R)||(G4.add(R),c={rel:c,crossOrigin:g,href:f},b.querySelector(R)===null&&(f=b.createElement("link"),_a(f,"link",c),Se(f),b.head.appendChild(f)))}}function MX(c){mh.D(c),q4("dns-prefetch",c,null)}function RX(c,f){mh.C(c,f),q4("preconnect",c,f)}function OX(c,f,g){mh.L(c,f,g);var b=hv;if(b&&c&&f){var R='link[rel="preload"][as="'+Ri(f)+'"]';f==="image"&&g&&g.imageSrcSet?(R+='[imagesrcset="'+Ri(g.imageSrcSet)+'"]',typeof g.imageSizes=="string"&&(R+='[imagesizes="'+Ri(g.imageSizes)+'"]')):R+='[href="'+Ri(c)+'"]';var k=R;switch(f){case"style":k=dv(c);break;case"script":k=pv(c)}mc.has(k)||(c=p({rel:"preload",href:f==="image"&&g&&g.imageSrcSet?void 0:c,as:f},g),mc.set(k,c),b.querySelector(R)!==null||f==="style"&&b.querySelector(Hb(k))||f==="script"&&b.querySelector(jb(k))||(f=b.createElement("link"),_a(f,"link",c),Se(f),b.head.appendChild(f)))}}function IX(c,f){mh.m(c,f);var g=hv;if(g&&c){var b=f&&typeof f.as=="string"?f.as:"script",R='link[rel="modulepreload"][as="'+Ri(b)+'"][href="'+Ri(c)+'"]',k=R;switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":k=pv(c)}if(!mc.has(k)&&(c=p({rel:"modulepreload",href:c},f),mc.set(k,c),g.querySelector(R)===null)){switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(g.querySelector(jb(k)))return}b=g.createElement("link"),_a(b,"link",c),Se(b),g.head.appendChild(b)}}}function PX(c,f,g){mh.S(c,f,g);var b=hv;if(b&&c){var R=Ne(b).hoistableStyles,k=dv(c);f=f||"default";var $=R.get(k);if(!$){var ie={loading:0,preload:null};if($=b.querySelector(Hb(k)))ie.loading=5;else{c=p({rel:"stylesheet",href:c,"data-precedence":f},g),(g=mc.get(k))&&MR(c,g);var ye=$=b.createElement("link");Se(ye),_a(ye,"link",c),ye._p=new Promise(function(De,Ke){ye.onload=De,ye.onerror=Ke}),ye.addEventListener("load",function(){ie.loading|=1}),ye.addEventListener("error",function(){ie.loading|=2}),ie.loading|=4,KE($,f,b)}$={type:"stylesheet",instance:$,count:1,state:ie},R.set(k,$)}}}function DX(c,f){mh.X(c,f);var g=hv;if(g&&c){var b=Ne(g).hoistableScripts,R=pv(c),k=b.get(R);k||(k=g.querySelector(jb(R)),k||(c=p({src:c,async:!0},f),(f=mc.get(R))&&RR(c,f),k=g.createElement("script"),Se(k),_a(k,"link",c),g.head.appendChild(k)),k={type:"script",instance:k,count:1,state:null},b.set(R,k))}}function NX(c,f){mh.M(c,f);var g=hv;if(g&&c){var b=Ne(g).hoistableScripts,R=pv(c),k=b.get(R);k||(k=g.querySelector(jb(R)),k||(c=p({src:c,async:!0,type:"module"},f),(f=mc.get(R))&&RR(c,f),k=g.createElement("script"),Se(k),_a(k,"link",c),g.head.appendChild(k)),k={type:"script",instance:k,count:1,state:null},b.set(R,k))}}function W4(c,f,g,b){var R=(R=he.current)?YE(R):null;if(!R)throw Error(i(446));switch(c){case"meta":case"title":return null;case"style":return typeof g.precedence=="string"&&typeof g.href=="string"?(f=dv(g.href),g=Ne(R).hoistableStyles,b=g.get(f),b||(b={type:"style",instance:null,count:0,state:null},g.set(f,b)),b):{type:"void",instance:null,count:0,state:null};case"link":if(g.rel==="stylesheet"&&typeof g.href=="string"&&typeof g.precedence=="string"){c=dv(g.href);var k=Ne(R).hoistableStyles,$=k.get(c);if($||(R=R.ownerDocument||R,$={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},k.set(c,$),(k=R.querySelector(Hb(c)))&&!k._p&&($.instance=k,$.state.loading=5),mc.has(c)||(g={rel:"preload",as:"style",href:g.href,crossOrigin:g.crossOrigin,integrity:g.integrity,media:g.media,hrefLang:g.hrefLang,referrerPolicy:g.referrerPolicy},mc.set(c,g),k||LX(R,c,g,$.state))),f&&b===null)throw Error(i(528,""));return $}if(f&&b!==null)throw Error(i(529,""));return null;case"script":return f=g.async,g=g.src,typeof g=="string"&&f&&typeof f!="function"&&typeof f!="symbol"?(f=pv(g),g=Ne(R).hoistableScripts,b=g.get(f),b||(b={type:"script",instance:null,count:0,state:null},g.set(f,b)),b):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,c))}}function dv(c){return'href="'+Ri(c)+'"'}function Hb(c){return'link[rel="stylesheet"]['+c+"]"}function $4(c){return p({},c,{"data-precedence":c.precedence,precedence:null})}function LX(c,f,g,b){c.querySelector('link[rel="preload"][as="style"]['+f+"]")?b.loading=1:(f=c.createElement("link"),b.preload=f,f.addEventListener("load",function(){return b.loading|=1}),f.addEventListener("error",function(){return b.loading|=2}),_a(f,"link",g),Se(f),c.head.appendChild(f))}function pv(c){return'[src="'+Ri(c)+'"]'}function jb(c){return"script[async]"+c}function X4(c,f,g){if(f.count++,f.instance===null)switch(f.type){case"style":var b=c.querySelector('style[data-href~="'+Ri(g.href)+'"]');if(b)return f.instance=b,Se(b),b;var R=p({},g,{"data-href":g.href,"data-precedence":g.precedence,href:null,precedence:null});return b=(c.ownerDocument||c).createElement("style"),Se(b),_a(b,"style",R),KE(b,g.precedence,c),f.instance=b;case"stylesheet":R=dv(g.href);var k=c.querySelector(Hb(R));if(k)return f.state.loading|=4,f.instance=k,Se(k),k;b=$4(g),(R=mc.get(R))&&MR(b,R),k=(c.ownerDocument||c).createElement("link"),Se(k);var $=k;return $._p=new Promise(function(ie,ye){$.onload=ie,$.onerror=ye}),_a(k,"link",b),f.state.loading|=4,KE(k,g.precedence,c),f.instance=k;case"script":return k=pv(g.src),(R=c.querySelector(jb(k)))?(f.instance=R,Se(R),R):(b=g,(R=mc.get(k))&&(b=p({},g),RR(b,R)),c=c.ownerDocument||c,R=c.createElement("script"),Se(R),_a(R,"link",b),c.head.appendChild(R),f.instance=R);case"void":return null;default:throw Error(i(443,f.type))}else f.type==="stylesheet"&&(f.state.loading&4)===0&&(b=f.instance,f.state.loading|=4,KE(b,g.precedence,c));return f.instance}function KE(c,f,g){for(var b=g.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),R=b.length?b[b.length-1]:null,k=R,$=0;$<b.length;$++){var ie=b[$];if(ie.dataset.precedence===f)k=ie;else if(k!==R)break}k?k.parentNode.insertBefore(c,k.nextSibling):(f=g.nodeType===9?g.head:g,f.insertBefore(c,f.firstChild))}function MR(c,f){c.crossOrigin==null&&(c.crossOrigin=f.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=f.referrerPolicy),c.title==null&&(c.title=f.title)}function RR(c,f){c.crossOrigin==null&&(c.crossOrigin=f.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=f.referrerPolicy),c.integrity==null&&(c.integrity=f.integrity)}var ZE=null;function Y4(c,f,g){if(ZE===null){var b=new Map,R=ZE=new Map;R.set(g,b)}else R=ZE,b=R.get(g),b||(b=new Map,R.set(g,b));if(b.has(c))return b;for(b.set(c,null),g=g.getElementsByTagName(c),R=0;R<g.length;R++){var k=g[R];if(!(k[ao]||k[mn]||c==="link"&&k.getAttribute("rel")==="stylesheet")&&k.namespaceURI!=="http://www.w3.org/2000/svg"){var $=k.getAttribute(f)||"";$=c+$;var ie=b.get($);ie?ie.push(k):b.set($,[k])}}return b}function K4(c,f,g){c=c.ownerDocument||c,c.head.insertBefore(g,f==="title"?c.querySelector("head > title"):null)}function UX(c,f,g){if(g===1||f.itemProp!=null)return!1;switch(c){case"meta":case"title":return!0;case"style":if(typeof f.precedence!="string"||typeof f.href!="string"||f.href==="")break;return!0;case"link":if(typeof f.rel!="string"||typeof f.href!="string"||f.href===""||f.onLoad||f.onError)break;switch(f.rel){case"stylesheet":return c=f.disabled,typeof f.precedence=="string"&&c==null;default:return!0}case"script":if(f.async&&typeof f.async!="function"&&typeof f.async!="symbol"&&!f.onLoad&&!f.onError&&f.src&&typeof f.src=="string")return!0}return!1}function Z4(c){return!(c.type==="stylesheet"&&(c.state.loading&3)===0)}function kX(c,f,g,b){if(g.type==="stylesheet"&&(typeof b.media!="string"||matchMedia(b.media).matches!==!1)&&(g.state.loading&4)===0){if(g.instance===null){var R=dv(b.href),k=f.querySelector(Hb(R));if(k){f=k._p,f!==null&&typeof f=="object"&&typeof f.then=="function"&&(c.count++,c=QE.bind(c),f.then(c,c)),g.state.loading|=4,g.instance=k,Se(k);return}k=f.ownerDocument||f,b=$4(b),(R=mc.get(R))&&MR(b,R),k=k.createElement("link"),Se(k);var $=k;$._p=new Promise(function(ie,ye){$.onload=ie,$.onerror=ye}),_a(k,"link",b),g.instance=k}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(g,f),(f=g.state.preload)&&(g.state.loading&3)===0&&(c.count++,g=QE.bind(c),f.addEventListener("load",g),f.addEventListener("error",g))}}var OR=0;function zX(c,f){return c.stylesheets&&c.count===0&&eT(c,c.stylesheets),0<c.count||0<c.imgCount?function(g){var b=setTimeout(function(){if(c.stylesheets&&eT(c,c.stylesheets),c.unsuspend){var k=c.unsuspend;c.unsuspend=null,k()}},6e4+f);0<c.imgBytes&&OR===0&&(OR=62500*vX());var R=setTimeout(function(){if(c.waitingForImages=!1,c.count===0&&(c.stylesheets&&eT(c,c.stylesheets),c.unsuspend)){var k=c.unsuspend;c.unsuspend=null,k()}},(c.imgBytes>OR?50:800)+f);return c.unsuspend=g,function(){c.unsuspend=null,clearTimeout(b),clearTimeout(R)}}:null}function QE(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)eT(this,this.stylesheets);else if(this.unsuspend){var c=this.unsuspend;this.unsuspend=null,c()}}}var JE=null;function eT(c,f){c.stylesheets=null,c.unsuspend!==null&&(c.count++,JE=new Map,f.forEach(BX,c),JE=null,QE.call(c))}function BX(c,f){if(!(f.state.loading&4)){var g=JE.get(c);if(g)var b=g.get(null);else{g=new Map,JE.set(c,g);for(var R=c.querySelectorAll("link[data-precedence],style[data-precedence]"),k=0;k<R.length;k++){var $=R[k];($.nodeName==="LINK"||$.getAttribute("media")!=="not all")&&(g.set($.dataset.precedence,$),b=$)}b&&g.set(null,b)}R=f.instance,$=R.getAttribute("data-precedence"),k=g.get($)||b,k===b&&g.set(null,R),g.set($,R),this.count++,b=QE.bind(this),R.addEventListener("load",b),R.addEventListener("error",b),k?k.parentNode.insertBefore(R,k.nextSibling):(c=c.nodeType===9?c.head:c,c.insertBefore(R,c.firstChild)),f.state.loading|=4}}var Gb={$$typeof:C,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function FX(c,f,g,b,R,k,$,ie,ye){this.tag=1,this.containerInfo=c,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$t(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$t(0),this.hiddenUpdates=$t(null),this.identifierPrefix=b,this.onUncaughtError=R,this.onCaughtError=k,this.onRecoverableError=$,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ye,this.incompleteTransitions=new Map}function Q4(c,f,g,b,R,k,$,ie,ye,De,Ke,tt){return c=new FX(c,f,g,$,ye,De,Ke,tt,ie),f=1,k===!0&&(f|=24),k=da(3,null,null,f),c.current=k,k.stateNode=c,f=Q_(),f.refCount++,c.pooledCache=f,f.refCount++,k.memoizedState={element:b,isDehydrated:g,cache:f},rb(k),c}function J4(c){return c?(c=Bu,c):Bu}function eU(c,f,g,b,R,k){R=J4(R),b.context===null?b.context=R:b.pendingContext=R,b=sc(f),b.payload={element:g},k=k===void 0?null:k,k!==null&&(b.callback=k),g=Xc(c,b,f),g!==null&&(m(g,c,f),$u(g,c,f))}function tU(c,f){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var g=c.retryLane;c.retryLane=g!==0&&g<f?g:f}}function IR(c,f){tU(c,f),(c=c.alternate)&&tU(c,f)}function nU(c){if(c.tag===13||c.tag===31){var f=zu(c,67108864);f!==null&&m(f,c,67108864),IR(c,67108864)}}function iU(c){if(c.tag===13||c.tag===31){var f=va();f=ki(f);var g=zu(c,f);g!==null&&m(g,c,f),IR(c,f)}}var tT=!0;function VX(c,f,g,b){var R=q.T;q.T=null;var k=W.p;try{W.p=2,PR(c,f,g,b)}finally{W.p=k,q.T=R}}function HX(c,f,g,b){var R=q.T;q.T=null;var k=W.p;try{W.p=8,PR(c,f,g,b)}finally{W.p=k,q.T=R}}function PR(c,f,g,b){if(tT){var R=DR(b);if(R===null)vR(c,f,b,nT,g),sU(c,b);else if(GX(R,c,f,g,b))b.stopPropagation();else if(sU(c,b),f&4&&-1<jX.indexOf(c)){for(;R!==null;){var k=ve(R);if(k!==null)switch(k.tag){case 3:if(k=k.stateNode,k.current.memoizedState.isDehydrated){var $=st(k.pendingLanes);if($!==0){var ie=k;for(ie.pendingLanes|=2,ie.entangledLanes|=2;$;){var ye=1<<31-Ht($);ie.entanglements[1]|=ye,$&=~ye}nf(k),(ni&6)===0&&(Eo=Me()+500,zb(0))}}break;case 31:case 13:ie=zu(k,2),ie!==null&&m(ie,k,2),oe(),IR(k,2)}if(k=DR(b),k===null&&vR(c,f,b,nT,g),k===R)break;R=k}R!==null&&b.stopPropagation()}else vR(c,f,b,null,g)}}function DR(c){return c=Bf(c),NR(c)}var nT=null;function NR(c){if(nT=null,c=se(c),c!==null){var f=s(c);if(f===null)c=null;else{var g=f.tag;if(g===13){if(c=a(f),c!==null)return c;c=null}else if(g===31){if(c=o(f),c!==null)return c;c=null}else if(g===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;c=null}else f!==c&&(c=null)}}return nT=c,null}function rU(c){switch(c){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qe()){case Oe:return 2;case ct:return 8;case lt:case Dt:return 32;case Ut:return 268435456;default:return 32}default:return 32}}var LR=!1,Zd=null,Qd=null,Jd=null,qb=new Map,Wb=new Map,ep=[],jX="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sU(c,f){switch(c){case"focusin":case"focusout":Zd=null;break;case"dragenter":case"dragleave":Qd=null;break;case"mouseover":case"mouseout":Jd=null;break;case"pointerover":case"pointerout":qb.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wb.delete(f.pointerId)}}function $b(c,f,g,b,R,k){return c===null||c.nativeEvent!==k?(c={blockedOn:f,domEventName:g,eventSystemFlags:b,nativeEvent:k,targetContainers:[R]},f!==null&&(f=ve(f),f!==null&&nU(f)),c):(c.eventSystemFlags|=b,f=c.targetContainers,R!==null&&f.indexOf(R)===-1&&f.push(R),c)}function GX(c,f,g,b,R){switch(f){case"focusin":return Zd=$b(Zd,c,f,g,b,R),!0;case"dragenter":return Qd=$b(Qd,c,f,g,b,R),!0;case"mouseover":return Jd=$b(Jd,c,f,g,b,R),!0;case"pointerover":var k=R.pointerId;return qb.set(k,$b(qb.get(k)||null,c,f,g,b,R)),!0;case"gotpointercapture":return k=R.pointerId,Wb.set(k,$b(Wb.get(k)||null,c,f,g,b,R)),!0}return!1}function aU(c){var f=se(c.target);if(f!==null){var g=s(f);if(g!==null){if(f=g.tag,f===13){if(f=a(g),f!==null){c.blockedOn=f,jr(c.priority,function(){iU(g)});return}}else if(f===31){if(f=o(g),f!==null){c.blockedOn=f,jr(c.priority,function(){iU(g)});return}}else if(f===3&&g.stateNode.current.memoizedState.isDehydrated){c.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}c.blockedOn=null}function iT(c){if(c.blockedOn!==null)return!1;for(var f=c.targetContainers;0<f.length;){var g=DR(c.nativeEvent);if(g===null){g=c.nativeEvent;var b=new g.constructor(g.type,g);Au=b,g.target.dispatchEvent(b),Au=null}else return f=ve(g),f!==null&&nU(f),c.blockedOn=g,!1;f.shift()}return!0}function oU(c,f,g){iT(c)&&g.delete(f)}function qX(){LR=!1,Zd!==null&&iT(Zd)&&(Zd=null),Qd!==null&&iT(Qd)&&(Qd=null),Jd!==null&&iT(Jd)&&(Jd=null),qb.forEach(oU),Wb.forEach(oU)}function rT(c,f){c.blockedOn===f&&(c.blockedOn=null,LR||(LR=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,qX)))}var sT=null;function lU(c){sT!==c&&(sT=c,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){sT===c&&(sT=null);for(var f=0;f<c.length;f+=3){var g=c[f],b=c[f+1],R=c[f+2];if(typeof b!="function"){if(NR(b||g)===null)continue;break}var k=ve(g);k!==null&&(c.splice(f,3),f-=3,Rb(k,{pending:!0,data:R,method:g.method,action:b},b,R))}}))}function mv(c){function f(ye){return rT(ye,c)}Zd!==null&&rT(Zd,c),Qd!==null&&rT(Qd,c),Jd!==null&&rT(Jd,c),qb.forEach(f),Wb.forEach(f);for(var g=0;g<ep.length;g++){var b=ep[g];b.blockedOn===c&&(b.blockedOn=null)}for(;0<ep.length&&(g=ep[0],g.blockedOn===null);)aU(g),g.blockedOn===null&&ep.shift();if(g=(c.ownerDocument||c).$$reactFormReplay,g!=null)for(b=0;b<g.length;b+=3){var R=g[b],k=g[b+1],$=R[dr]||null;if(typeof k=="function")$||lU(g);else if($){var ie=null;if(k&&k.hasAttribute("formAction")){if(R=k,$=k[dr]||null)ie=$.formAction;else if(NR(R)!==null)continue}else ie=$.action;typeof ie=="function"?g[b+1]=ie:(g.splice(b,3),b-=3),lU(g)}}}function cU(){function c(k){k.canIntercept&&k.info==="react-transition"&&k.intercept({handler:function(){return new Promise(function($){return R=$})},focusReset:"manual",scroll:"manual"})}function f(){R!==null&&(R(),R=null),b||setTimeout(g,20)}function g(){if(!b&&!navigation.transition){var k=navigation.currentEntry;k&&k.url!=null&&navigation.navigate(k.url,{state:k.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var b=!1,R=null;return navigation.addEventListener("navigate",c),navigation.addEventListener("navigatesuccess",f),navigation.addEventListener("navigateerror",f),setTimeout(g,100),function(){b=!0,navigation.removeEventListener("navigate",c),navigation.removeEventListener("navigatesuccess",f),navigation.removeEventListener("navigateerror",f),R!==null&&(R(),R=null)}}}function UR(c){this._internalRoot=c}aT.prototype.render=UR.prototype.render=function(c){var f=this._internalRoot;if(f===null)throw Error(i(409));var g=f.current,b=va();eU(g,b,c,f,null,null)},aT.prototype.unmount=UR.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var f=c.containerInfo;eU(c.current,2,null,c,null,null),oe(),f[la]=null}};function aT(c){this._internalRoot=c}aT.prototype.unstable_scheduleHydration=function(c){if(c){var f=Ki();c={blockedOn:null,target:c,priority:f};for(var g=0;g<ep.length&&f!==0&&f<ep[g].priority;g++);ep.splice(g,0,c),g===0&&aU(c)}};var uU=e.version;if(uU!=="19.2.3")throw Error(i(527,uU,"19.2.3"));W.findDOMNode=function(c){var f=c._reactInternals;if(f===void 0)throw typeof c.render=="function"?Error(i(188)):(c=Object.keys(c).join(","),Error(i(268,c)));return c=u(f),c=c!==null?h(c):null,c=c===null?null:c.stateNode,c};var WX={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oT=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oT.isDisabled&&oT.supportsFiber)try{At=oT.inject(WX),xt=oT}catch{}}return Yb.createRoot=function(c,f){if(!r(c))throw Error(i(299));var g=!1,b="",R=Db,k=BE,$=Qy;return f!=null&&(f.unstable_strictMode===!0&&(g=!0),f.identifierPrefix!==void 0&&(b=f.identifierPrefix),f.onUncaughtError!==void 0&&(R=f.onUncaughtError),f.onCaughtError!==void 0&&(k=f.onCaughtError),f.onRecoverableError!==void 0&&($=f.onRecoverableError)),f=Q4(c,1,!1,null,null,g,b,null,R,k,$,cU),c[la]=f.current,yR(c),new UR(f)},Yb.hydrateRoot=function(c,f,g){if(!r(c))throw Error(i(299));var b=!1,R="",k=Db,$=BE,ie=Qy,ye=null;return g!=null&&(g.unstable_strictMode===!0&&(b=!0),g.identifierPrefix!==void 0&&(R=g.identifierPrefix),g.onUncaughtError!==void 0&&(k=g.onUncaughtError),g.onCaughtError!==void 0&&($=g.onCaughtError),g.onRecoverableError!==void 0&&(ie=g.onRecoverableError),g.formState!==void 0&&(ye=g.formState)),f=Q4(c,1,!0,f,g??null,b,R,ye,k,$,ie,cU),f.context=J4(null),g=f.current,b=va(),b=ki(b),R=sc(b),R.callback=null,Xc(g,R,b),g=b,f.current.lanes=g,vt(f,g),nf(f),c[la]=f.current,yR(c),new aT(f)},Yb.version="19.2.3",Yb}var bU;function rY(){if(bU)return BR.exports;bU=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),BR.exports=iY(),BR.exports}var sY=rY();/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var xU="popstate";function aY(n={}){function e(i,r){let{pathname:s,search:a,hash:o}=i.location;return yI("",{pathname:s,search:a,hash:o},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(i,r){return typeof r=="string"?r:Mx(r)}return lY(e,t,null,n)}function Br(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function vu(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function oY(){return Math.random().toString(36).substring(2,10)}function SU(n,e){return{usr:n.state,key:n.key,idx:e}}function yI(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?g_(e):e,state:t,key:e&&e.key||i||oY()}}function Mx({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function g_(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function lY(n,e,t,i={}){let{window:r=document.defaultView,v5Compat:s=!1}=i,a=r.history,o="POP",l=null,u=h();u==null&&(u=0,a.replaceState({...a.state,idx:u},""));function h(){return(a.state||{idx:null}).idx}function p(){o="POP";let E=h(),S=E==null?null:E-u;u=E,l&&l({action:o,location:x.location,delta:S})}function y(E,S){o="PUSH";let w=yI(x.location,E,S);u=h()+1;let C=SU(w,u),A=x.createHref(w);try{a.pushState(C,"",A)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;r.location.assign(A)}s&&l&&l({action:o,location:x.location,delta:1})}function v(E,S){o="REPLACE";let w=yI(x.location,E,S);u=h();let C=SU(w,u),A=x.createHref(w);a.replaceState(C,"",A),s&&l&&l({action:o,location:x.location,delta:0})}function _(E){return cY(E)}let x={get action(){return o},get location(){return n(r,a)},listen(E){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(xU,p),l=E,()=>{r.removeEventListener(xU,p),l=null}},createHref(E){return e(r,E)},createURL:_,encodeLocation(E){let S=_(E);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:y,replace:v,go(E){return a.go(E)}};return x}function cY(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Br(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Mx(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function tV(n,e,t="/"){return uY(n,e,t,!1)}function uY(n,e,t,i){let r=typeof e=="string"?g_(e):e,s=Wh(r.pathname||"/",t);if(s==null)return null;let a=nV(n);fY(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=SY(s);o=bY(a[l],u,i)}return o}function nV(n,e=[],t=[],i="",r=!1){let s=(a,o,l=r,u)=>{let h={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(i)&&l)return;Br(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length)}let p=Vh([i,h.relativePath]),y=t.concat(h);a.children&&a.children.length>0&&(Br(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),nV(a.children,e,y,p,l)),!(a.path==null&&!a.index)&&e.push({path:p,score:vY(p,a.index),routesMeta:y})};return n.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,o);else for(let u of iV(a.path))s(a,o,!0,u)}),e}function iV(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),s=t.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let a=iV(i.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),r&&o.push(...a),o.map(l=>n.startsWith("/")&&l===""?"/":l)}function fY(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:_Y(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var hY=/^:[\w-]+$/,dY=3,pY=2,mY=1,gY=10,yY=-2,EU=n=>n==="*";function vY(n,e){let t=n.split("/"),i=t.length;return t.some(EU)&&(i+=yY),e&&(i+=pY),t.filter(r=>!EU(r)).reduce((r,s)=>r+(hY.test(s)?dY:s===""?mY:gY),i)}function _Y(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function bY(n,e,t=!1){let{routesMeta:i}=n,r={},s="/",a=[];for(let o=0;o<i.length;++o){let l=i[o],u=o===i.length-1,h=s==="/"?e:e.slice(s.length)||"/",p=A2({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},h),y=l.route;if(!p&&u&&t&&!i[i.length-1].route.index&&(p=A2({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!p)return null;Object.assign(r,p.params),a.push({params:r,pathname:Vh([s,p.pathname]),pathnameBase:CY(Vh([s,p.pathnameBase])),route:y}),p.pathnameBase!=="/"&&(s=Vh([s,p.pathnameBase]))}return a}function A2(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=xY(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let s=r[0],a=s.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:i.reduce((u,{paramName:h,isOptional:p},y)=>{if(h==="*"){let _=o[y]||"";a=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const v=o[y];return p&&!v?u[h]=void 0:u[h]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:n}}function xY(n,e=!1,t=!0){vu(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(i.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function SY(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return vu(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Wh(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}var rV=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,EY=n=>rV.test(n);function TY(n,e="/"){let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?g_(n):n,s;if(t)if(EY(t))s=t;else{if(t.includes("//")){let a=t;t=t.replace(/\/\/+/g,"/"),vu(!1,`Pathnames cannot have embedded double slashes - normalizing ${a} -> ${t}`)}t.startsWith("/")?s=TU(t.substring(1),"/"):s=TU(t,e)}else s=e;return{pathname:s,search:AY(i),hash:MY(r)}}function TU(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function jR(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function wY(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function sV(n){let e=wY(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function aV(n,e,t,i=!1){let r;typeof n=="string"?r=g_(n):(r={...n},Br(!r.pathname||!r.pathname.includes("?"),jR("?","pathname","search",r)),Br(!r.pathname||!r.pathname.includes("#"),jR("#","pathname","hash",r)),Br(!r.search||!r.search.includes("#"),jR("#","search","hash",r)));let s=n===""||r.pathname==="",a=s?"/":r.pathname,o;if(a==null)o=t;else{let p=e.length-1;if(!i&&a.startsWith("..")){let y=a.split("/");for(;y[0]==="..";)y.shift(),p-=1;r.pathname=y.join("/")}o=p>=0?e[p]:"/"}let l=TY(r,o),u=a&&a!=="/"&&a.endsWith("/"),h=(s||a===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(u||h)&&(l.pathname+="/"),l}var Vh=n=>n.join("/").replace(/\/\/+/g,"/"),CY=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),AY=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,MY=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,RY=class{constructor(n,e,t,i=!1){this.status=n,this.statusText=e||"",this.internal=i,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function OY(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function IY(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var oV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function lV(n,e){let t=n;if(typeof t!="string"||!rV.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let i=t,r=!1;if(oV)try{let s=new URL(window.location.href),a=t.startsWith("//")?new URL(s.protocol+t):new URL(t),o=Wh(a.pathname,e);a.origin===s.origin&&o!=null?t=o+a.search+a.hash:r=!0}catch{vu(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:r,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var cV=["POST","PUT","PATCH","DELETE"];new Set(cV);var PY=["GET",...cV];new Set(PY);var y_=H.createContext(null);y_.displayName="DataRouter";var gA=H.createContext(null);gA.displayName="DataRouterState";var DY=H.createContext(!1),uV=H.createContext({isTransitioning:!1});uV.displayName="ViewTransition";var NY=H.createContext(new Map);NY.displayName="Fetchers";var LY=H.createContext(null);LY.displayName="Await";var Ic=H.createContext(null);Ic.displayName="Navigation";var gS=H.createContext(null);gS.displayName="Location";var od=H.createContext({outlet:null,matches:[],isDataRoute:!1});od.displayName="Route";var wD=H.createContext(null);wD.displayName="RouteError";var fV="REACT_ROUTER_ERROR",UY="REDIRECT",kY="ROUTE_ERROR_RESPONSE";function zY(n){if(n.startsWith(`${fV}:${UY}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function BY(n){if(n.startsWith(`${fV}:${kY}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new RY(e.status,e.statusText,e.data)}catch{}}function FY(n,{relative:e}={}){Br(yS(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=H.useContext(Ic),{hash:r,pathname:s,search:a}=vS(n,{relative:e}),o=s;return t!=="/"&&(o=s==="/"?t:Vh([t,s])),i.createHref({pathname:o,search:a,hash:r})}function yS(){return H.useContext(gS)!=null}function cy(){return Br(yS(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(gS).location}var hV="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function dV(n){H.useContext(Ic).static||H.useLayoutEffect(n)}function pV(){let{isDataRoute:n}=H.useContext(od);return n?JY():VY()}function VY(){Br(yS(),"useNavigate() may be used only in the context of a <Router> component.");let n=H.useContext(y_),{basename:e,navigator:t}=H.useContext(Ic),{matches:i}=H.useContext(od),{pathname:r}=cy(),s=JSON.stringify(sV(i)),a=H.useRef(!1);return dV(()=>{a.current=!0}),H.useCallback((l,u={})=>{if(vu(a.current,hV),!a.current)return;if(typeof l=="number"){t.go(l);return}let h=aV(l,JSON.parse(s),r,u.relative==="path");n==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Vh([e,h.pathname])),(u.replace?t.replace:t.push)(h,u.state,u)},[e,t,s,r,n])}H.createContext(null);function vS(n,{relative:e}={}){let{matches:t}=H.useContext(od),{pathname:i}=cy(),r=JSON.stringify(sV(t));return H.useMemo(()=>aV(n,JSON.parse(r),i,e==="path"),[n,r,i,e])}function HY(n,e){return mV(n,e)}function mV(n,e,t,i,r){var w;Br(yS(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=H.useContext(Ic),{matches:a}=H.useContext(od),o=a[a.length-1],l=o?o.params:{},u=o?o.pathname:"/",h=o?o.pathnameBase:"/",p=o&&o.route;{let C=p&&p.path||"";yV(u,!p||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let y=cy(),v;if(e){let C=typeof e=="string"?g_(e):e;Br(h==="/"||((w=C.pathname)==null?void 0:w.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${C.pathname}" was given in the \`location\` prop.`),v=C}else v=y;let _=v.pathname||"/",x=_;if(h!=="/"){let C=h.replace(/^\//,"").split("/");x="/"+_.replace(/^\//,"").split("/").slice(C.length).join("/")}let E=tV(n,{pathname:x});vu(p||E!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),vu(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=$Y(E&&E.map(C=>Object.assign({},C,{params:Object.assign({},l,C.params),pathname:Vh([h,s.encodeLocation?s.encodeLocation(C.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?h:Vh([h,s.encodeLocation?s.encodeLocation(C.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathnameBase])})),a,t,i,r);return e&&S?H.createElement(gS.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},S):S}function jY(){let n=QY(),e=OY(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},a=null;return console.error("Error handled by React Router default ErrorBoundary:",n),a=H.createElement(H.Fragment,null,H.createElement("p",null," Hey developer "),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:s},"ErrorBoundary")," or"," ",H.createElement("code",{style:s},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),t?H.createElement("pre",{style:r},t):null,a)}var GY=H.createElement(jY,null),gV=class extends H.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=BY(n.digest);t&&(n=t)}let e=n!==void 0?H.createElement(od.Provider,{value:this.props.routeContext},H.createElement(wD.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?H.createElement(qY,{error:n},e):e}};gV.contextType=DY;var GR=new WeakMap;function qY({children:n,error:e}){let{basename:t}=H.useContext(Ic);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=zY(e.digest);if(i){let r=GR.get(e);if(r)throw r;let s=lV(i.location,t);if(oV&&!GR.get(e))if(s.isExternal||i.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const a=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:i.replace}));throw GR.set(e,a),a}return H.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return n}function WY({routeContext:n,match:e,children:t}){let i=H.useContext(y_);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),H.createElement(od.Provider,{value:n},t)}function $Y(n,e=[],t=null,i=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,a=t==null?void 0:t.errors;if(a!=null){let h=s.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);Br(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let o=!1,l=-1;if(t)for(let h=0;h<s.length;h++){let p=s[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(l=h),p.route.id){let{loaderData:y,errors:v}=t,_=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||_){o=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}let u=t&&i?(h,p)=>{var y,v;i(h,{location:t.location,params:((v=(y=t.matches)==null?void 0:y[0])==null?void 0:v.params)??{},unstable_pattern:IY(t.matches),errorInfo:p})}:void 0;return s.reduceRight((h,p,y)=>{let v,_=!1,x=null,E=null;t&&(v=a&&p.route.id?a[p.route.id]:void 0,x=p.route.errorElement||GY,o&&(l<0&&y===0?(yV("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,E=null):l===y&&(_=!0,E=p.route.hydrateFallbackElement||null)));let S=e.concat(s.slice(0,y+1)),w=()=>{let C;return v?C=x:_?C=E:p.route.Component?C=H.createElement(p.route.Component,null):p.route.element?C=p.route.element:C=h,H.createElement(WY,{match:p,routeContext:{outlet:h,matches:S,isDataRoute:t!=null},children:C})};return t&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?H.createElement(gV,{location:t.location,revalidation:t.revalidation,component:x,error:v,children:w(),routeContext:{outlet:null,matches:S,isDataRoute:!0},onError:u}):w()},null)}function CD(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XY(n){let e=H.useContext(y_);return Br(e,CD(n)),e}function YY(n){let e=H.useContext(gA);return Br(e,CD(n)),e}function KY(n){let e=H.useContext(od);return Br(e,CD(n)),e}function AD(n){let e=KY(n),t=e.matches[e.matches.length-1];return Br(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function ZY(){return AD("useRouteId")}function QY(){var i;let n=H.useContext(wD),e=YY("useRouteError"),t=AD("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function JY(){let{router:n}=XY("useNavigate"),e=AD("useNavigate"),t=H.useRef(!1);return dV(()=>{t.current=!0}),H.useCallback(async(r,s={})=>{vu(t.current,hV),t.current&&(typeof r=="number"?await n.navigate(r):await n.navigate(r,{fromRouteId:e,...s}))},[n,e])}var wU={};function yV(n,e,t){!e&&!wU[n]&&(wU[n]=!0,vu(!1,t))}H.memo(eK);function eK({routes:n,future:e,state:t,onError:i}){return mV(n,void 0,t,i,e)}function vV(n){Br(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function tK({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:r,static:s=!1,unstable_useTransitions:a}){Br(!yS(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=n.replace(/^\/*/,"/"),l=H.useMemo(()=>({basename:o,navigator:r,static:s,unstable_useTransitions:a,future:{}}),[o,r,s,a]);typeof t=="string"&&(t=g_(t));let{pathname:u="/",search:h="",hash:p="",state:y=null,key:v="default"}=t,_=H.useMemo(()=>{let x=Wh(u,o);return x==null?null:{location:{pathname:x,search:h,hash:p,state:y,key:v},navigationType:i}},[o,u,h,p,y,v,i]);return vu(_!=null,`<Router basename="${o}"> is not able to match the URL "${u}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:H.createElement(Ic.Provider,{value:l},H.createElement(gS.Provider,{children:e,value:_}))}function nK({children:n,location:e}){return HY(vI(n),e)}function vI(n,e=[]){let t=[];return H.Children.forEach(n,(i,r)=>{if(!H.isValidElement(i))return;let s=[...e,r];if(i.type===H.Fragment){t.push.apply(t,vI(i.props.children,s));return}Br(i.type===vV,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Br(!i.props.index||!i.props.children,"An index route cannot have child routes.");let a={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=vI(i.props.children,s)),t.push(a)}),t}var Zw="get",Qw="application/x-www-form-urlencoded";function yA(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function iK(n){return yA(n)&&n.tagName.toLowerCase()==="button"}function rK(n){return yA(n)&&n.tagName.toLowerCase()==="form"}function sK(n){return yA(n)&&n.tagName.toLowerCase()==="input"}function aK(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function oK(n,e){return n.button===0&&(!e||e==="_self")&&!aK(n)}var lT=null;function lK(){if(lT===null)try{new FormData(document.createElement("form"),0),lT=!1}catch{lT=!0}return lT}var cK=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function qR(n){return n!=null&&!cK.has(n)?(vu(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Qw}"`),null):n}function uK(n,e){let t,i,r,s,a;if(rK(n)){let o=n.getAttribute("action");i=o?Wh(o,e):null,t=n.getAttribute("method")||Zw,r=qR(n.getAttribute("enctype"))||Qw,s=new FormData(n)}else if(iK(n)||sK(n)&&(n.type==="submit"||n.type==="image")){let o=n.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=n.getAttribute("formaction")||o.getAttribute("action");if(i=l?Wh(l,e):null,t=n.getAttribute("formmethod")||o.getAttribute("method")||Zw,r=qR(n.getAttribute("formenctype"))||qR(o.getAttribute("enctype"))||Qw,s=new FormData(o,n),!lK()){let{name:u,type:h,value:p}=n;if(h==="image"){let y=u?`${u}.`:"";s.append(`${y}x`,"0"),s.append(`${y}y`,"0")}else u&&s.append(u,p)}}else{if(yA(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Zw,i=null,r=Qw,a=n}return s&&r==="text/plain"&&(a=s,s=void 0),{action:i,method:t.toLowerCase(),encType:r,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function MD(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function fK(n,e,t){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&Wh(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function hK(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function dK(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function pK(n,e,t){let i=await Promise.all(n.map(async r=>{let s=e.routes[r.route.id];if(s){let a=await hK(s,t);return a.links?a.links():[]}return[]}));return vK(i.flat(1).filter(dK).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function CU(n,e,t,i,r,s){let a=(l,u)=>t[u]?l.route.id!==t[u].route.id:!0,o=(l,u)=>{var h;return t[u].pathname!==l.pathname||((h=t[u].route.path)==null?void 0:h.endsWith("*"))&&t[u].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,u)=>a(l,u)||o(l,u)):s==="data"?e.filter((l,u)=>{var p;let h=i.routes[l.route.id];if(!h||!h.hasLoader)return!1;if(a(l,u)||o(l,u))return!0;if(l.route.shouldRevalidate){let y=l.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((p=t[0])==null?void 0:p.params)||{},nextUrl:new URL(n,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function mK(n,e,{includeHydrateFallback:t}={}){return gK(n.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),t&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function gK(n){return[...new Set(n)]}function yK(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function vK(n,e){let t=new Set;return new Set(e),n.reduce((i,r)=>{let s=JSON.stringify(yK(r));return t.has(s)||(t.add(s),i.push({key:s,link:r})),i},[])}function _V(){let n=H.useContext(y_);return MD(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function _K(){let n=H.useContext(gA);return MD(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var RD=H.createContext(void 0);RD.displayName="FrameworkContext";function bV(){let n=H.useContext(RD);return MD(n,"You must render this element inside a <HydratedRouter> element"),n}function bK(n,e){let t=H.useContext(RD),[i,r]=H.useState(!1),[s,a]=H.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:u,onMouseLeave:h,onTouchStart:p}=e,y=H.useRef(null);H.useEffect(()=>{if(n==="render"&&a(!0),n==="viewport"){let x=S=>{S.forEach(w=>{a(w.isIntersecting)})},E=new IntersectionObserver(x,{threshold:.5});return y.current&&E.observe(y.current),()=>{E.disconnect()}}},[n]),H.useEffect(()=>{if(i){let x=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(x)}}},[i]);let v=()=>{r(!0)},_=()=>{r(!1),a(!1)};return t?n!=="intent"?[s,y,{}]:[s,y,{onFocus:Kb(o,v),onBlur:Kb(l,_),onMouseEnter:Kb(u,v),onMouseLeave:Kb(h,_),onTouchStart:Kb(p,v)}]:[!1,y,{}]}function Kb(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function xK({page:n,...e}){let{router:t}=_V(),i=H.useMemo(()=>tV(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?H.createElement(EK,{page:n,matches:i,...e}):null}function SK(n){let{manifest:e,routeModules:t}=bV(),[i,r]=H.useState([]);return H.useEffect(()=>{let s=!1;return pK(n,e,t).then(a=>{s||r(a)}),()=>{s=!0}},[n,e,t]),i}function EK({page:n,matches:e,...t}){let i=cy(),{manifest:r,routeModules:s}=bV(),{basename:a}=_V(),{loaderData:o,matches:l}=_K(),u=H.useMemo(()=>CU(n,e,l,r,i,"data"),[n,e,l,r,i]),h=H.useMemo(()=>CU(n,e,l,r,i,"assets"),[n,e,l,r,i]),p=H.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let _=new Set,x=!1;if(e.forEach(S=>{var C;let w=r.routes[S.route.id];!w||!w.hasLoader||(!u.some(A=>A.route.id===S.route.id)&&S.route.id in o&&((C=s[S.route.id])!=null&&C.shouldRevalidate)||w.hasClientLoader?x=!0:_.add(S.route.id))}),_.size===0)return[];let E=fK(n,a,"data");return x&&_.size>0&&E.searchParams.set("_routes",e.filter(S=>_.has(S.route.id)).map(S=>S.route.id).join(",")),[E.pathname+E.search]},[a,o,i,r,u,e,n,s]),y=H.useMemo(()=>mK(h,r),[h,r]),v=SK(h);return H.createElement(H.Fragment,null,p.map(_=>H.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...t})),y.map(_=>H.createElement("link",{key:_,rel:"modulepreload",href:_,...t})),v.map(({key:_,link:x})=>H.createElement("link",{key:_,nonce:t.nonce,...x})))}function TK(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var wK=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{wK&&(window.__reactRouterVersion="7.11.0")}catch{}function CK({basename:n,children:e,unstable_useTransitions:t,window:i}){let r=H.useRef();r.current==null&&(r.current=aY({window:i,v5Compat:!0}));let s=r.current,[a,o]=H.useState({action:s.action,location:s.location}),l=H.useCallback(u=>{t===!1?o(u):H.startTransition(()=>o(u))},[t]);return H.useLayoutEffect(()=>s.listen(l),[s,l]),H.createElement(tK,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:s,unstable_useTransitions:t})}var xV=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,SV=H.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:r,reloadDocument:s,replace:a,state:o,target:l,to:u,preventScrollReset:h,viewTransition:p,unstable_defaultShouldRevalidate:y,...v},_){let{basename:x,unstable_useTransitions:E}=H.useContext(Ic),S=typeof u=="string"&&xV.test(u),w=lV(u,x);u=w.to;let C=FY(u,{relative:r}),[A,N,L]=bK(i,v),I=OK(u,{replace:a,state:o,target:l,preventScrollReset:h,relative:r,viewTransition:p,unstable_defaultShouldRevalidate:y,unstable_useTransitions:E});function D(U){e&&e(U),U.defaultPrevented||I(U)}let P=H.createElement("a",{...v,...L,href:w.absoluteURL||C,onClick:w.isExternal||s?e:D,ref:TK(_,N),target:l,"data-discover":!S&&t==="render"?"true":void 0});return A&&!S?H.createElement(H.Fragment,null,P,H.createElement(xK,{page:C})):P});SV.displayName="Link";var AK=H.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:r=!1,style:s,to:a,viewTransition:o,children:l,...u},h){let p=vS(a,{relative:u.relative}),y=cy(),v=H.useContext(gA),{navigator:_,basename:x}=H.useContext(Ic),E=v!=null&&LK(p)&&o===!0,S=_.encodeLocation?_.encodeLocation(p).pathname:p.pathname,w=y.pathname,C=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;t||(w=w.toLowerCase(),C=C?C.toLowerCase():null,S=S.toLowerCase()),C&&x&&(C=Wh(C,x)||C);const A=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let N=w===S||!r&&w.startsWith(S)&&w.charAt(A)==="/",L=C!=null&&(C===S||!r&&C.startsWith(S)&&C.charAt(S.length)==="/"),I={isActive:N,isPending:L,isTransitioning:E},D=N?e:void 0,P;typeof i=="function"?P=i(I):P=[i,N?"active":null,L?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let U=typeof s=="function"?s(I):s;return H.createElement(SV,{...u,"aria-current":D,className:P,ref:h,style:U,to:a,viewTransition:o},typeof l=="function"?l(I):l)});AK.displayName="NavLink";var MK=H.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:r,state:s,method:a=Zw,action:o,onSubmit:l,relative:u,preventScrollReset:h,viewTransition:p,unstable_defaultShouldRevalidate:y,...v},_)=>{let{unstable_useTransitions:x}=H.useContext(Ic),E=DK(),S=NK(o,{relative:u}),w=a.toLowerCase()==="get"?"get":"post",C=typeof o=="string"&&xV.test(o),A=N=>{if(l&&l(N),N.defaultPrevented)return;N.preventDefault();let L=N.nativeEvent.submitter,I=(L==null?void 0:L.getAttribute("formmethod"))||a,D=()=>E(L||N.currentTarget,{fetcherKey:e,method:I,navigate:t,replace:r,state:s,relative:u,preventScrollReset:h,viewTransition:p,unstable_defaultShouldRevalidate:y});x&&t!==!1?H.startTransition(()=>D()):D()};return H.createElement("form",{ref:_,method:w,action:S,onSubmit:i?l:A,...v,"data-discover":!C&&n==="render"?"true":void 0})});MK.displayName="Form";function RK(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function EV(n){let e=H.useContext(y_);return Br(e,RK(n)),e}function OK(n,{target:e,replace:t,state:i,preventScrollReset:r,relative:s,viewTransition:a,unstable_defaultShouldRevalidate:o,unstable_useTransitions:l}={}){let u=pV(),h=cy(),p=vS(n,{relative:s});return H.useCallback(y=>{if(oK(y,e)){y.preventDefault();let v=t!==void 0?t:Mx(h)===Mx(p),_=()=>u(n,{replace:v,state:i,preventScrollReset:r,relative:s,viewTransition:a,unstable_defaultShouldRevalidate:o});l?H.startTransition(()=>_()):_()}},[h,u,p,t,i,e,n,r,s,a,o,l])}var IK=0,PK=()=>`__${String(++IK)}__`;function DK(){let{router:n}=EV("useSubmit"),{basename:e}=H.useContext(Ic),t=ZY(),i=n.fetch,r=n.navigate;return H.useCallback(async(s,a={})=>{let{action:o,method:l,encType:u,formData:h,body:p}=uK(s,e);if(a.navigate===!1){let y=a.fetcherKey||PK();await i(y,t,a.action||o,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:h,body:p,formMethod:a.method||l,formEncType:a.encType||u,flushSync:a.flushSync})}else await r(a.action||o,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:h,body:p,formMethod:a.method||l,formEncType:a.encType||u,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[i,r,e,t])}function NK(n,{relative:e}={}){let{basename:t}=H.useContext(Ic),i=H.useContext(od);Br(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),s={...vS(n||".",{relative:e})},a=cy();if(n==null){s.search=a.search;let o=new URLSearchParams(s.search),l=o.getAll("index");if(l.some(h=>h==="")){o.delete("index"),l.filter(p=>p).forEach(p=>o.append("index",p));let h=o.toString();s.search=h?`?${h}`:""}}return(!n||n===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:Vh([t,s.pathname])),Mx(s)}function LK(n,{relative:e}={}){let t=H.useContext(uV);Br(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=EV("useViewTransitionState"),r=vS(n,{relative:e});if(!t.isTransitioning)return!1;let s=Wh(t.currentLocation.pathname,i)||t.currentLocation.pathname,a=Wh(t.nextLocation.pathname,i)||t.nextLocation.pathname;return A2(r.pathname,a)!=null||A2(r.pathname,s)!=null}var TV=eV();const cT=Qp(TV);var _I=function(n,e){return _I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])},_I(n,e)};function UK(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");_I(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var ea=function(){return ea=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},ea.apply(this,arguments)};function AU(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function Xm(n,e,t,i){function r(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(h){try{u(i.next(h))}catch(p){a(p)}}function l(h){try{u(i.throw(h))}catch(p){a(p)}}function u(h){h.done?s(h.value):r(h.value).then(o,l)}u((i=i.apply(n,e||[])).next())})}function Ym(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,r,s,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=o(0),a.throw=o(1),a.return=o(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(u){return function(h){return l([u,h])}}function l(u){if(i)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(t=0)),t;)try{if(i=1,r&&(s=u[0]&2?r.return:u[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,u[1])).done)return s;switch(r=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,r=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){t.label=u[1];break}if(u[0]===6&&t.label<s[1]){t.label=s[1],s=u;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(u);break}s[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(n,t)}catch(h){u=[6,h],r=0}finally{i=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function kK(n,e,t){for(var i=0,r=e.length,s;i<r;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return n.concat(s||Array.prototype.slice.call(e))}function df(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t}var wg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function OD(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function ID(n,e){return n(e={exports:{}},e.exports),e.exports}var vg=ID((function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=(function(){function i(){var r=this;this.locked=new Map,this.addToLocked=function(s,a){var o=r.locked.get(s);o===void 0?a===void 0?r.locked.set(s,[]):r.locked.set(s,[a]):a!==void 0&&(o.unshift(a),r.locked.set(s,o))},this.isLocked=function(s){return r.locked.has(s)},this.lock=function(s){return new Promise((function(a,o){r.isLocked(s)?r.addToLocked(s,a):(r.addToLocked(s),a())}))},this.unlock=function(s){var a=r.locked.get(s);if(a!==void 0&&a.length!==0){var o=a.pop();r.locked.set(s,a),o!==void 0&&setTimeout(o,0)}else r.locked.delete(s)}}return i.getInstance=function(){return i.instance===void 0&&(i.instance=new i),i.instance},i})();e.default=function(){return t.getInstance()}}));OD(vg);var zK=OD(ID((function(n,e){var t=wg&&wg.__awaiter||function(h,p,y,v){return new(y||(y=Promise))((function(_,x){function E(C){try{w(v.next(C))}catch(A){x(A)}}function S(C){try{w(v.throw(C))}catch(A){x(A)}}function w(C){C.done?_(C.value):new y((function(A){A(C.value)})).then(E,S)}w((v=v.apply(h,p||[])).next())}))},i=wg&&wg.__generator||function(h,p){var y,v,_,x,E={label:0,sent:function(){if(1&_[0])throw _[1];return _[1]},trys:[],ops:[]};return x={next:S(0),throw:S(1),return:S(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function S(w){return function(C){return(function(A){if(y)throw new TypeError("Generator is already executing.");for(;E;)try{if(y=1,v&&(_=2&A[0]?v.return:A[0]?v.throw||((_=v.return)&&_.call(v),0):v.next)&&!(_=_.call(v,A[1])).done)return _;switch(v=0,_&&(A=[2&A[0],_.value]),A[0]){case 0:case 1:_=A;break;case 4:return E.label++,{value:A[1],done:!1};case 5:E.label++,v=A[1],A=[0];continue;case 7:A=E.ops.pop(),E.trys.pop();continue;default:if(_=E.trys,!((_=_.length>0&&_[_.length-1])||A[0]!==6&&A[0]!==2)){E=0;continue}if(A[0]===3&&(!_||A[1]>_[0]&&A[1]<_[3])){E.label=A[1];break}if(A[0]===6&&E.label<_[1]){E.label=_[1],_=A;break}if(_&&E.label<_[2]){E.label=_[2],E.ops.push(A);break}_[2]&&E.ops.pop(),E.trys.pop();continue}A=p.call(h,E)}catch(N){A=[6,N],v=0}finally{y=_=0}if(5&A[0])throw A[1];return{value:A[0]?A[1]:void 0,done:!0}})([w,C])}}},r=wg;Object.defineProperty(e,"__esModule",{value:!0});var s="browser-tabs-lock-key",a={key:function(h){return t(r,void 0,void 0,(function(){return i(this,(function(p){throw new Error("Unsupported")}))}))},getItem:function(h){return t(r,void 0,void 0,(function(){return i(this,(function(p){throw new Error("Unsupported")}))}))},clear:function(){return t(r,void 0,void 0,(function(){return i(this,(function(h){return[2,window.localStorage.clear()]}))}))},removeItem:function(h){return t(r,void 0,void 0,(function(){return i(this,(function(p){throw new Error("Unsupported")}))}))},setItem:function(h,p){return t(r,void 0,void 0,(function(){return i(this,(function(y){throw new Error("Unsupported")}))}))},keySync:function(h){return window.localStorage.key(h)},getItemSync:function(h){return window.localStorage.getItem(h)},clearSync:function(){return window.localStorage.clear()},removeItemSync:function(h){return window.localStorage.removeItem(h)},setItemSync:function(h,p){return window.localStorage.setItem(h,p)}};function o(h){return new Promise((function(p){return setTimeout(p,h)}))}function l(h){for(var p="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",y="",v=0;v<h;v++)y+=p[Math.floor(Math.random()*p.length)];return y}var u=(function(){function h(p){this.acquiredIatSet=new Set,this.storageHandler=void 0,this.id=Date.now().toString()+l(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),this.storageHandler=p,h.waiters===void 0&&(h.waiters=[])}return h.prototype.acquireLock=function(p,y){return y===void 0&&(y=5e3),t(this,void 0,void 0,(function(){var v,_,x,E,S,w,C;return i(this,(function(A){switch(A.label){case 0:v=Date.now()+l(4),_=Date.now()+y,x=s+"-"+p,E=this.storageHandler===void 0?a:this.storageHandler,A.label=1;case 1:return Date.now()<_?[4,o(30)]:[3,8];case 2:return A.sent(),E.getItemSync(x)!==null?[3,5]:(S=this.id+"-"+p+"-"+v,[4,o(Math.floor(25*Math.random()))]);case 3:return A.sent(),E.setItemSync(x,JSON.stringify({id:this.id,iat:v,timeoutKey:S,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,o(30)];case 4:return A.sent(),(w=E.getItemSync(x))!==null&&(C=JSON.parse(w)).id===this.id&&C.iat===v?(this.acquiredIatSet.add(v),this.refreshLockWhileAcquired(x,v),[2,!0]):[3,7];case 5:return h.lockCorrector(this.storageHandler===void 0?a:this.storageHandler),[4,this.waitForSomethingToChange(_)];case 6:A.sent(),A.label=7;case 7:return v=Date.now()+l(4),[3,1];case 8:return[2,!1]}}))}))},h.prototype.refreshLockWhileAcquired=function(p,y){return t(this,void 0,void 0,(function(){var v=this;return i(this,(function(_){return setTimeout((function(){return t(v,void 0,void 0,(function(){var x,E,S;return i(this,(function(w){switch(w.label){case 0:return[4,vg.default().lock(y)];case 1:return w.sent(),this.acquiredIatSet.has(y)?(x=this.storageHandler===void 0?a:this.storageHandler,(E=x.getItemSync(p))===null?(vg.default().unlock(y),[2]):((S=JSON.parse(E)).timeRefreshed=Date.now(),x.setItemSync(p,JSON.stringify(S)),vg.default().unlock(y),this.refreshLockWhileAcquired(p,y),[2])):(vg.default().unlock(y),[2])}}))}))}),1e3),[2]}))}))},h.prototype.waitForSomethingToChange=function(p){return t(this,void 0,void 0,(function(){return i(this,(function(y){switch(y.label){case 0:return[4,new Promise((function(v){var _=!1,x=Date.now(),E=!1;function S(){if(E||(window.removeEventListener("storage",S),h.removeFromWaiting(S),clearTimeout(w),E=!0),!_){_=!0;var C=50-(Date.now()-x);C>0?setTimeout(v,C):v(null)}}window.addEventListener("storage",S),h.addToWaiting(S);var w=setTimeout(S,Math.max(0,p-Date.now()))}))];case 1:return y.sent(),[2]}}))}))},h.addToWaiting=function(p){this.removeFromWaiting(p),h.waiters!==void 0&&h.waiters.push(p)},h.removeFromWaiting=function(p){h.waiters!==void 0&&(h.waiters=h.waiters.filter((function(y){return y!==p})))},h.notifyWaiters=function(){h.waiters!==void 0&&h.waiters.slice().forEach((function(p){return p()}))},h.prototype.releaseLock=function(p){return t(this,void 0,void 0,(function(){return i(this,(function(y){switch(y.label){case 0:return[4,this.releaseLock__private__(p)];case 1:return[2,y.sent()]}}))}))},h.prototype.releaseLock__private__=function(p){return t(this,void 0,void 0,(function(){var y,v,_,x;return i(this,(function(E){switch(E.label){case 0:return y=this.storageHandler===void 0?a:this.storageHandler,v=s+"-"+p,(_=y.getItemSync(v))===null?[2]:(x=JSON.parse(_)).id!==this.id?[3,2]:[4,vg.default().lock(x.iat)];case 1:E.sent(),this.acquiredIatSet.delete(x.iat),y.removeItemSync(v),vg.default().unlock(x.iat),h.notifyWaiters(),E.label=2;case 2:return[2]}}))}))},h.lockCorrector=function(p){for(var y=Date.now()-5e3,v=p,_=[],x=0;;){var E=v.keySync(x);if(E===null)break;_.push(E),x++}for(var S=!1,w=0;w<_.length;w++){var C=_[w];if(C.includes(s)){var A=v.getItemSync(C);if(A!==null){var N=JSON.parse(A);(N.timeRefreshed===void 0&&N.timeAcquired<y||N.timeRefreshed!==void 0&&N.timeRefreshed<y)&&(v.removeItemSync(C),S=!0)}}}S&&h.notifyWaiters()},h.waiters=void 0,h})();e.default=u})));const BK={timeoutInSeconds:60},wV={name:"auth0-spa-js",version:"2.11.0"},CV=()=>Date.now();class es extends Error{constructor(e,t){super(t),this.error=e,this.error_description=t,Object.setPrototypeOf(this,es.prototype)}static fromPayload({error:e,error_description:t}){return new es(e,t)}}class PD extends es{constructor(e,t,i,r=null){super(e,t),this.state=i,this.appState=r,Object.setPrototypeOf(this,PD.prototype)}}let FK=class AV extends es{constructor(e,t,i,r,s=null){super(e,t),this.connection=i,this.state=r,this.appState=s,Object.setPrototypeOf(this,AV.prototype)}},bI=class MV extends es{constructor(){super("timeout","Timeout"),Object.setPrototypeOf(this,MV.prototype)}},VK=class RV extends bI{constructor(e){super(),this.popup=e,Object.setPrototypeOf(this,RV.prototype)}},HK=class OV extends es{constructor(e){super("cancelled","Popup closed"),this.popup=e,Object.setPrototypeOf(this,OV.prototype)}};class DD extends es{constructor(){super("popup_open","Unable to open a popup for loginWithPopup - window.open returned `null`"),Object.setPrototypeOf(this,DD.prototype)}}let jK=class IV extends es{constructor(e,t,i){super(e,t),this.mfa_token=i,Object.setPrototypeOf(this,IV.prototype)}},PV=class DV extends es{constructor(e,t){super("missing_refresh_token",`Missing Refresh Token (audience: '${M2(e,["default"])}', scope: '${M2(t)}')`),this.audience=e,this.scope=t,Object.setPrototypeOf(this,DV.prototype)}};class ND extends es{constructor(e,t){super("missing_scopes",`Missing requested scopes after refresh (audience: '${M2(e,["default"])}', missing scope: '${M2(t)}')`),this.audience=e,this.scope=t,Object.setPrototypeOf(this,ND.prototype)}}let NV=class LV extends es{constructor(e){super("use_dpop_nonce","Server rejected DPoP proof: wrong nonce"),this.newDpopNonce=e,Object.setPrototypeOf(this,LV.prototype)}};function M2(n,e=[]){return n&&!e.includes(n)?n:""}const R2=()=>window.crypto,Zb=()=>{const n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~.";let e="";return Array.from(R2().getRandomValues(new Uint8Array(43))).forEach((t=>e+=n[t%n.length])),e},WR=n=>btoa(n),GK=[{key:"name",type:["string"]},{key:"version",type:["string","number"]},{key:"env",type:["object"]}],qK=n=>Object.keys(n).reduce(((e,t)=>{const i=GK.find((r=>r.key===t));return i&&i.type.includes(typeof n[t])&&(e[t]=n[t]),e}),{}),xI=n=>{var{clientId:e}=n,t=df(n,["clientId"]);return new URLSearchParams((i=>Object.keys(i).filter((r=>i[r]!==void 0)).reduce(((r,s)=>Object.assign(Object.assign({},r),{[s]:i[s]})),{}))(Object.assign({client_id:e},t))).toString()},MU=async n=>await R2().subtle.digest({name:"SHA-256"},new TextEncoder().encode(n)),RU=n=>(e=>decodeURIComponent(atob(e).split("").map((t=>"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2))).join("")))(n.replace(/_/g,"/").replace(/-/g,"+")),OU=n=>{const e=new Uint8Array(n);return(t=>{const i={"+":"-","/":"_","=":""};return t.replace(/[+/=]/g,(r=>i[r]))})(window.btoa(String.fromCharCode(...Array.from(e))))},WK=new TextEncoder,$K=new TextDecoder;function Z1(n){return typeof n=="string"?WK.encode(n):$K.decode(n)}function IU(n){if(typeof n.modulusLength!="number"||n.modulusLength<2048)throw new YK(`${n.name} modulusLength must be at least 2048 bits`)}async function XK(n,e,t){if(t.usages.includes("sign")===!1)throw new TypeError('private CryptoKey instances used for signing assertions must include "sign" in their "usages"');const i=`${Q1(Z1(JSON.stringify(n)))}.${Q1(Z1(JSON.stringify(e)))}`;return`${i}.${Q1(await crypto.subtle.sign((function(r){switch(r.algorithm.name){case"ECDSA":return{name:r.algorithm.name,hash:"SHA-256"};case"RSA-PSS":return IU(r.algorithm),{name:r.algorithm.name,saltLength:32};case"RSASSA-PKCS1-v1_5":return IU(r.algorithm),{name:r.algorithm.name};case"Ed25519":return{name:r.algorithm.name}}throw new Mg})(t),t,Z1(i)))}`}let SI;Uint8Array.prototype.toBase64?SI=n=>(n instanceof ArrayBuffer&&(n=new Uint8Array(n)),n.toBase64({alphabet:"base64url",omitPadding:!0})):SI=e=>{e instanceof ArrayBuffer&&(e=new Uint8Array(e));const t=[];for(let i=0;i<e.byteLength;i+=32768)t.push(String.fromCharCode.apply(null,e.subarray(i,i+32768)));return btoa(t.join("")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")};function Q1(n){return SI(n)}class Mg extends Error{constructor(e){var t;super(e??"operation not supported"),this.name=this.constructor.name,(t=Error.captureStackTrace)===null||t===void 0||t.call(Error,this,this.constructor)}}class YK extends Error{constructor(e){var t;super(e),this.name=this.constructor.name,(t=Error.captureStackTrace)===null||t===void 0||t.call(Error,this,this.constructor)}}function KK(n){switch(n.algorithm.name){case"RSA-PSS":return(function(e){if(e.algorithm.hash.name==="SHA-256")return"PS256";throw new Mg("unsupported RsaHashedKeyAlgorithm hash name")})(n);case"RSASSA-PKCS1-v1_5":return(function(e){if(e.algorithm.hash.name==="SHA-256")return"RS256";throw new Mg("unsupported RsaHashedKeyAlgorithm hash name")})(n);case"ECDSA":return(function(e){if(e.algorithm.namedCurve==="P-256")return"ES256";throw new Mg("unsupported EcKeyAlgorithm namedCurve")})(n);case"Ed25519":return"Ed25519";default:throw new Mg("unsupported CryptoKey algorithm name")}}function UV(n){return n instanceof CryptoKey}function kV(n){return UV(n)&&n.type==="public"}async function ZK(n,e,t,i,r,s){const a=n==null?void 0:n.privateKey,o=n==null?void 0:n.publicKey;if(!UV(l=a)||l.type!=="private")throw new TypeError('"keypair.privateKey" must be a private CryptoKey');var l;if(!kV(o))throw new TypeError('"keypair.publicKey" must be a public CryptoKey');if(o.extractable!==!0)throw new TypeError('"keypair.publicKey.extractable" must be true');if(typeof e!="string")throw new TypeError('"htu" must be a string');if(typeof t!="string")throw new TypeError('"htm" must be a string');if(i!==void 0&&typeof i!="string")throw new TypeError('"nonce" must be a string or undefined');if(r!==void 0&&typeof r!="string")throw new TypeError('"accessToken" must be a string or undefined');return XK({alg:KK(a),typ:"dpop+jwt",jwk:await zV(o)},Object.assign(Object.assign({},s),{iat:Math.floor(Date.now()/1e3),jti:crypto.randomUUID(),htm:t,nonce:i,htu:e,ath:r?Q1(await crypto.subtle.digest("SHA-256",Z1(r))):void 0}),a)}async function zV(n){const{kty:e,e:t,n:i,x:r,y:s,crv:a}=await crypto.subtle.exportKey("jwk",n);return{kty:e,crv:a,e:t,n:i,x:r,y:s}}const QK=["authorization_code","refresh_token","urn:ietf:params:oauth:grant-type:token-exchange"];function JK(){return(async function(n,e){var t;let i;if(n.length===0)throw new TypeError('"alg" must be a non-empty string');switch(n){case"PS256":i={name:"RSA-PSS",hash:"SHA-256",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])};break;case"RS256":i={name:"RSASSA-PKCS1-v1_5",hash:"SHA-256",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])};break;case"ES256":i={name:"ECDSA",namedCurve:"P-256"};break;case"Ed25519":i={name:"Ed25519"};break;default:throw new Mg}return crypto.subtle.generateKey(i,(t=e==null?void 0:e.extractable)!==null&&t!==void 0&&t,["sign","verify"])})("ES256",{extractable:!1})}function eZ(n){return(async function(e){if(!kV(e))throw new TypeError('"publicKey" must be a public CryptoKey');if(e.extractable!==!0)throw new TypeError('"publicKey.extractable" must be true');const t=await zV(e);let i;switch(t.kty){case"EC":i={crv:t.crv,kty:t.kty,x:t.x,y:t.y};break;case"OKP":i={crv:t.crv,kty:t.kty,x:t.x};break;case"RSA":i={e:t.e,kty:t.kty,n:t.n};break;default:throw new Mg("unsupported JWK kty")}return Q1(await crypto.subtle.digest({name:"SHA-256"},Z1(JSON.stringify(i))))})(n.publicKey)}function tZ({keyPair:n,url:e,method:t,nonce:i,accessToken:r}){const s=(function(a){const o=new URL(a);return o.search="",o.hash="",o.href})(e);return ZK(n,s,t,i,r)}const nZ=async(n,e)=>{const t=await fetch(n,e);return{ok:t.ok,json:await t.json(),headers:(i=t.headers,[...i].reduce(((r,[s,a])=>(r[s]=a,r)),{}))};var i},iZ=async(n,e,t)=>{const i=new AbortController;let r;return e.signal=i.signal,Promise.race([nZ(n,e),new Promise(((s,a)=>{r=setTimeout((()=>{i.abort(),a(new Error("Timeout when executing 'fetch'"))}),t)}))]).finally((()=>{clearTimeout(r)}))},rZ=async(n,e,t,i,r,s,a,o)=>{return l={auth:{audience:e,scope:t},timeout:r,fetchUrl:n,fetchOptions:i,useFormData:a,useMrrt:o},u=s,new Promise((function(h,p){const y=new MessageChannel;y.port1.onmessage=function(v){v.data.error?p(new Error(v.data.error)):h(v.data),y.port1.close()},u.postMessage(l,[y.port2])}));var l,u},sZ=async(n,e,t,i,r,s,a=1e4,o)=>r?rZ(n,e,t,i,a,r,s,o):iZ(n,i,a);async function BV(n,e,t,i,r,s,a,o,l,u){if(l){const C=await l.generateProof({url:n,method:r.method||"GET",nonce:await l.getNonce()});r.headers=Object.assign(Object.assign({},r.headers),{dpop:C})}let h,p=null;for(let C=0;C<3;C++)try{h=await sZ(n,t,i,r,s,a,e,o),p=null;break}catch(A){p=A}if(p)throw p;const y=h.json,{error:v,error_description:_}=y,x=df(y,["error","error_description"]),{headers:E,ok:S}=h;let w;if(l&&(w=E["dpop-nonce"],w&&await l.setNonce(w)),!S){const C=_||`HTTP error. Unable to fetch ${n}`;if(v==="mfa_required")throw new jK(v,C,x.mfa_token);if(v==="missing_refresh_token")throw new PV(t,i);if(v==="use_dpop_nonce"){if(!l||!w||u)throw new NV(w);return BV(n,e,t,i,r,s,a,o,l,!0)}throw new es(v||"request_error",C)}return x}async function aZ(n,e){var{baseUrl:t,timeout:i,audience:r,scope:s,auth0Client:a,useFormData:o,useMrrt:l,dpop:u}=n,h=df(n,["baseUrl","timeout","audience","scope","auth0Client","useFormData","useMrrt","dpop"]);const p=h.grant_type==="urn:ietf:params:oauth:grant-type:token-exchange",y=h.grant_type==="refresh_token"&&l,v=Object.assign(Object.assign(Object.assign(Object.assign({},h),p&&r&&{audience:r}),p&&s&&{scope:s}),y&&{audience:r,scope:s}),_=o?xI(v):JSON.stringify(v),x=(E=h.grant_type,QK.includes(E));var E;return await BV(`${t}/oauth/token`,i,r||"default",s,{method:"POST",body:_,headers:{"Content-Type":o?"application/x-www-form-urlencoded":"application/json","Auth0-Client":btoa(JSON.stringify(qK(a||wV)))}},e,o,l,x?u:void 0)}const Jw=(...n)=>{return(e=n.filter(Boolean).join(" ").trim().split(/\s+/),Array.from(new Set(e))).join(" ");var e},uT=(n,e,t)=>{let i;return t&&(i=n[t]),i||(i=n.default),Jw(i,e)};class xc{constructor(e,t="@@auth0spajs@@",i){this.prefix=t,this.suffix=i,this.clientId=e.clientId,this.scope=e.scope,this.audience=e.audience}toKey(){return[this.prefix,this.clientId,this.audience,this.scope,this.suffix].filter(Boolean).join("::")}static fromKey(e){const[t,i,r,s]=e.split("::");return new xc({clientId:i,scope:s,audience:r},t)}static fromCacheEntry(e){const{scope:t,audience:i,client_id:r}=e;return new xc({scope:t,audience:i,clientId:r})}}class oZ{set(e,t){localStorage.setItem(e,JSON.stringify(t))}get(e){const t=window.localStorage.getItem(e);if(t)try{return JSON.parse(t)}catch{return}}remove(e){localStorage.removeItem(e)}allKeys(){return Object.keys(window.localStorage).filter((e=>e.startsWith("@@auth0spajs@@")))}}class FV{constructor(){this.enclosedCache=(function(){let e={};return{set(t,i){e[t]=i},get(t){const i=e[t];if(i)return i},remove(t){delete e[t]},allKeys:()=>Object.keys(e)}})()}}class lZ{constructor(e,t,i){this.cache=e,this.keyManifest=t,this.nowProvider=i||CV}async setIdToken(e,t,i){var r;const s=this.getIdTokenCacheKey(e);await this.cache.set(s,{id_token:t,decodedToken:i}),await((r=this.keyManifest)===null||r===void 0?void 0:r.add(s))}async getIdToken(e){const t=await this.cache.get(this.getIdTokenCacheKey(e.clientId));if(!t&&e.scope&&e.audience){const i=await this.get(e);return!i||!i.id_token||!i.decodedToken?void 0:{id_token:i.id_token,decodedToken:i.decodedToken}}if(t)return{id_token:t.id_token,decodedToken:t.decodedToken}}async get(e,t=0,i=!1,r){var s;let a=await this.cache.get(e.toKey());if(!a){const u=await this.getCacheKeys();if(!u)return;const h=this.matchExistingCacheKey(e,u);if(h&&(a=await this.cache.get(h)),!h&&i&&r!=="cache-only")return this.getEntryWithRefreshToken(e,u)}if(!a)return;const o=await this.nowProvider(),l=Math.floor(o/1e3);return a.expiresAt-t<l?a.body.refresh_token?this.modifiedCachedEntry(a,e):(await this.cache.remove(e.toKey()),void await((s=this.keyManifest)===null||s===void 0?void 0:s.remove(e.toKey()))):a.body}async modifiedCachedEntry(e,t){return e.body={refresh_token:e.body.refresh_token,audience:e.body.audience,scope:e.body.scope},await this.cache.set(t.toKey(),e),{refresh_token:e.body.refresh_token,audience:e.body.audience,scope:e.body.scope}}async set(e){var t;const i=new xc({clientId:e.client_id,scope:e.scope,audience:e.audience}),r=await this.wrapCacheEntry(e);await this.cache.set(i.toKey(),r),await((t=this.keyManifest)===null||t===void 0?void 0:t.add(i.toKey()))}async remove(e,t,i){const r=new xc({clientId:e,scope:i,audience:t});await this.cache.remove(r.toKey())}async clear(e){var t;const i=await this.getCacheKeys();i&&(await i.filter((r=>!e||r.includes(e))).reduce((async(r,s)=>{await r,await this.cache.remove(s)}),Promise.resolve()),await((t=this.keyManifest)===null||t===void 0?void 0:t.clear()))}async wrapCacheEntry(e){const t=await this.nowProvider();return{body:e,expiresAt:Math.floor(t/1e3)+e.expires_in}}async getCacheKeys(){var e;return this.keyManifest?(e=await this.keyManifest.get())===null||e===void 0?void 0:e.keys:this.cache.allKeys?this.cache.allKeys():void 0}getIdTokenCacheKey(e){return new xc({clientId:e},"@@auth0spajs@@","@@user@@").toKey()}matchExistingCacheKey(e,t){return t.filter((i=>{var r;const s=xc.fromKey(i),a=new Set(s.scope&&s.scope.split(" ")),o=((r=e.scope)===null||r===void 0?void 0:r.split(" "))||[],l=s.scope&&o.reduce(((u,h)=>u&&a.has(h)),!0);return s.prefix==="@@auth0spajs@@"&&s.clientId===e.clientId&&s.audience===e.audience&&l}))[0]}async getEntryWithRefreshToken(e,t){var i;for(const r of t){const s=xc.fromKey(r);if(s.prefix==="@@auth0spajs@@"&&s.clientId===e.clientId){const a=await this.cache.get(r);if(!((i=a==null?void 0:a.body)===null||i===void 0)&&i.refresh_token)return this.modifiedCachedEntry(a,e)}}}async updateEntry(e,t){var i;const r=await this.getCacheKeys();if(r)for(const s of r){const a=await this.cache.get(s);if(((i=a==null?void 0:a.body)===null||i===void 0?void 0:i.refresh_token)===e){const o=Object.assign(Object.assign({},a.body),{refresh_token:t});await this.set(o)}}}}class cZ{constructor(e,t,i){this.storage=e,this.clientId=t,this.cookieDomain=i,this.storageKey=`a0.spajs.txs.${this.clientId}`}create(e){this.storage.save(this.storageKey,e,{daysUntilExpire:1,cookieDomain:this.cookieDomain})}get(){return this.storage.get(this.storageKey)}remove(){this.storage.remove(this.storageKey,{cookieDomain:this.cookieDomain})}}const Qb=n=>typeof n=="number",uZ=["iss","aud","exp","nbf","iat","jti","azp","nonce","auth_time","at_hash","c_hash","acr","amr","sub_jwk","cnf","sip_from_tag","sip_date","sip_callid","sip_cseq_num","sip_via_branch","orig","dest","mky","events","toe","txn","rph","sid","vot","vtm"],fZ=n=>{if(!n.id_token)throw new Error("ID token is required but missing");const e=(s=>{const a=s.split("."),[o,l,u]=a;if(a.length!==3||!o||!l||!u)throw new Error("ID token could not be decoded");const h=JSON.parse(RU(l)),p={__raw:s},y={};return Object.keys(h).forEach((v=>{p[v]=h[v],uZ.includes(v)||(y[v]=h[v])})),{encoded:{header:o,payload:l,signature:u},header:JSON.parse(RU(o)),claims:p,user:y}})(n.id_token);if(!e.claims.iss)throw new Error("Issuer (iss) claim must be a string present in the ID token");if(e.claims.iss!==n.iss)throw new Error(`Issuer (iss) claim mismatch in the ID token; expected "${n.iss}", found "${e.claims.iss}"`);if(!e.user.sub)throw new Error("Subject (sub) claim must be a string present in the ID token");if(e.header.alg!=="RS256")throw new Error(`Signature algorithm of "${e.header.alg}" is not supported. Expected the ID token to be signed with "RS256".`);if(!e.claims.aud||typeof e.claims.aud!="string"&&!Array.isArray(e.claims.aud))throw new Error("Audience (aud) claim must be a string or array of strings present in the ID token");if(Array.isArray(e.claims.aud)){if(!e.claims.aud.includes(n.aud))throw new Error(`Audience (aud) claim mismatch in the ID token; expected "${n.aud}" but was not one of "${e.claims.aud.join(", ")}"`);if(e.claims.aud.length>1){if(!e.claims.azp)throw new Error("Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values");if(e.claims.azp!==n.aud)throw new Error(`Authorized Party (azp) claim mismatch in the ID token; expected "${n.aud}", found "${e.claims.azp}"`)}}else if(e.claims.aud!==n.aud)throw new Error(`Audience (aud) claim mismatch in the ID token; expected "${n.aud}" but found "${e.claims.aud}"`);if(n.nonce){if(!e.claims.nonce)throw new Error("Nonce (nonce) claim must be a string present in the ID token");if(e.claims.nonce!==n.nonce)throw new Error(`Nonce (nonce) claim mismatch in the ID token; expected "${n.nonce}", found "${e.claims.nonce}"`)}if(n.max_age&&!Qb(e.claims.auth_time))throw new Error("Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified");if(e.claims.exp==null||!Qb(e.claims.exp))throw new Error("Expiration Time (exp) claim must be a number present in the ID token");if(!Qb(e.claims.iat))throw new Error("Issued At (iat) claim must be a number present in the ID token");const t=n.leeway||60,i=new Date(n.now||Date.now()),r=new Date(0);if(r.setUTCSeconds(e.claims.exp+t),i>r)throw new Error(`Expiration Time (exp) claim error in the ID token; current time (${i}) is after expiration time (${r})`);if(e.claims.nbf!=null&&Qb(e.claims.nbf)){const s=new Date(0);if(s.setUTCSeconds(e.claims.nbf-t),i<s)throw new Error(`Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Current time (${i}) is before ${s}`)}if(e.claims.auth_time!=null&&Qb(e.claims.auth_time)){const s=new Date(0);if(s.setUTCSeconds(parseInt(e.claims.auth_time)+n.max_age+t),i>s)throw new Error(`Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Current time (${i}) is after last auth at ${s}`)}if(n.organization){const s=n.organization.trim();if(s.startsWith("org_")){const a=s;if(!e.claims.org_id)throw new Error("Organization ID (org_id) claim must be a string present in the ID token");if(a!==e.claims.org_id)throw new Error(`Organization ID (org_id) claim mismatch in the ID token; expected "${a}", found "${e.claims.org_id}"`)}else{const a=s.toLowerCase();if(!e.claims.org_name)throw new Error("Organization Name (org_name) claim must be a string present in the ID token");if(a!==e.claims.org_name)throw new Error(`Organization Name (org_name) claim mismatch in the ID token; expected "${a}", found "${e.claims.org_name}"`)}}return e};var Rg=ID((function(n,e){var t=wg&&wg.__assign||function(){return t=Object.assign||function(l){for(var u,h=1,p=arguments.length;h<p;h++)for(var y in u=arguments[h])Object.prototype.hasOwnProperty.call(u,y)&&(l[y]=u[y]);return l},t.apply(this,arguments)};function i(l,u){if(!u)return"";var h="; "+l;return u===!0?h:h+"="+u}function r(l,u,h){return encodeURIComponent(l).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\(/g,"%28").replace(/\)/g,"%29")+"="+encodeURIComponent(u).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+(function(p){if(typeof p.expires=="number"){var y=new Date;y.setMilliseconds(y.getMilliseconds()+864e5*p.expires),p.expires=y}return i("Expires",p.expires?p.expires.toUTCString():"")+i("Domain",p.domain)+i("Path",p.path)+i("Secure",p.secure)+i("SameSite",p.sameSite)})(h)}function s(l){for(var u={},h=l?l.split("; "):[],p=/(%[\dA-F]{2})+/gi,y=0;y<h.length;y++){var v=h[y].split("="),_=v.slice(1).join("=");_.charAt(0)==='"'&&(_=_.slice(1,-1));try{u[v[0].replace(p,decodeURIComponent)]=_.replace(p,decodeURIComponent)}catch{}}return u}function a(){return s(document.cookie)}function o(l,u,h){document.cookie=r(l,u,t({path:"/"},h))}e.__esModule=!0,e.encode=r,e.parse=s,e.getAll=a,e.get=function(l){return a()[l]},e.set=o,e.remove=function(l,u){o(l,"",t(t({},u),{expires:-1}))}}));OD(Rg),Rg.encode,Rg.parse,Rg.getAll;var hZ=Rg.get,VV=Rg.set,HV=Rg.remove;const n0={get(n){const e=hZ(n);if(e!==void 0)return JSON.parse(e)},save(n,e,t){let i={};window.location.protocol==="https:"&&(i={secure:!0,sameSite:"none"}),t!=null&&t.daysUntilExpire&&(i.expires=t.daysUntilExpire),t!=null&&t.cookieDomain&&(i.domain=t.cookieDomain),VV(n,JSON.stringify(e),i)},remove(n,e){let t={};e!=null&&e.cookieDomain&&(t.domain=e.cookieDomain),HV(n,t)}},dZ={get(n){return n0.get(n)||n0.get(`_legacy_${n}`)},save(n,e,t){let i={};window.location.protocol==="https:"&&(i={secure:!0}),t!=null&&t.daysUntilExpire&&(i.expires=t.daysUntilExpire),t!=null&&t.cookieDomain&&(i.domain=t.cookieDomain),VV(`_legacy_${n}`,JSON.stringify(e),i),n0.save(n,e,t)},remove(n,e){let t={};e!=null&&e.cookieDomain&&(t.domain=e.cookieDomain),HV(n,t),n0.remove(n,e),n0.remove(`_legacy_${n}`,e)}},pZ={get(n){if(typeof sessionStorage>"u")return;const e=sessionStorage.getItem(n);return e!=null?JSON.parse(e):void 0},save(n,e){sessionStorage.setItem(n,JSON.stringify(e))},remove(n){sessionStorage.removeItem(n)}};var mp;(function(n){n.Code="code",n.ConnectCode="connect_code"})(mp||(mp={}));function mZ(n,e,t){var i=e===void 0?null:e,r=(function(l,u){var h=atob(l);if(u){for(var p=new Uint8Array(h.length),y=0,v=h.length;y<v;++y)p[y]=h.charCodeAt(y);return String.fromCharCode.apply(null,new Uint16Array(p.buffer))}return h})(n,t!==void 0&&t),s=r.indexOf(`
`,10)+1,a=r.substring(s)+(i?"//# sourceMappingURL="+i:""),o=new Blob([a],{type:"application/javascript"});return URL.createObjectURL(o)}var PU,DU,NU,$R,gZ=(PU="Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7Y2xhc3MgZSBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKHQscil7c3VwZXIociksdGhpcy5lcnJvcj10LHRoaXMuZXJyb3JfZGVzY3JpcHRpb249cixPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcyxlLnByb3RvdHlwZSl9c3RhdGljIGZyb21QYXlsb2FkKHtlcnJvcjp0LGVycm9yX2Rlc2NyaXB0aW9uOnJ9KXtyZXR1cm4gbmV3IGUodCxyKX19Y2xhc3MgdCBleHRlbmRzIGV7Y29uc3RydWN0b3IoZSxzKXtzdXBlcigibWlzc2luZ19yZWZyZXNoX3Rva2VuIixgTWlzc2luZyBSZWZyZXNoIFRva2VuIChhdWRpZW5jZTogJyR7cihlLFsiZGVmYXVsdCJdKX0nLCBzY29wZTogJyR7cihzKX0nKWApLHRoaXMuYXVkaWVuY2U9ZSx0aGlzLnNjb3BlPXMsT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsdC5wcm90b3R5cGUpfX1mdW5jdGlvbiByKGUsdD1bXSl7cmV0dXJuIGUmJiF0LmluY2x1ZGVzKGUpP2U6IiJ9ImZ1bmN0aW9uIj09dHlwZW9mIFN1cHByZXNzZWRFcnJvciYmU3VwcHJlc3NlZEVycm9yO2NvbnN0IHM9ZT0+e3ZhcntjbGllbnRJZDp0fT1lLHI9ZnVuY3Rpb24oZSx0KXt2YXIgcj17fTtmb3IodmFyIHMgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxzKSYmdC5pbmRleE9mKHMpPDAmJihyW3NdPWVbc10pO2lmKG51bGwhPWUmJiJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz0wO2ZvcihzPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7bzxzLmxlbmd0aDtvKyspdC5pbmRleE9mKHNbb10pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLHNbb10pJiYocltzW29dXT1lW3Nbb11dKX1yZXR1cm4gcn0oZSxbImNsaWVudElkIl0pO3JldHVybiBuZXcgVVJMU2VhcmNoUGFyYW1zKChlPT5PYmplY3Qua2V5cyhlKS5maWx0ZXIoKHQ9PnZvaWQgMCE9PWVbdF0pKS5yZWR1Y2UoKCh0LHIpPT5PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdCkse1tyXTplW3JdfSkpLHt9KSkoT2JqZWN0LmFzc2lnbih7Y2xpZW50X2lkOnR9LHIpKSkudG9TdHJpbmcoKX07bGV0IG89e307Y29uc3Qgbj0oZSx0KT0+YCR7ZX18JHt0fWA7YWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGFzeW5jKHtkYXRhOnt0aW1lb3V0OmUsYXV0aDpyLGZldGNoVXJsOmksZmV0Y2hPcHRpb25zOmMsdXNlRm9ybURhdGE6YSx1c2VNcnJ0OmZ9LHBvcnRzOltwXX0pPT57bGV0IGgsdSxsPXt9O2NvbnN0e2F1ZGllbmNlOmQsc2NvcGU6eX09cnx8e307dHJ5e2NvbnN0IHI9YT8oZT0+e2NvbnN0IHQ9bmV3IFVSTFNlYXJjaFBhcmFtcyhlKSxyPXt9O3JldHVybiB0LmZvckVhY2goKChlLHQpPT57clt0XT1lfSkpLHJ9KShjLmJvZHkpOkpTT04ucGFyc2UoYy5ib2R5KTtpZighci5yZWZyZXNoX3Rva2VuJiYicmVmcmVzaF90b2tlbiI9PT1yLmdyYW50X3R5cGUpe2lmKHU9KChlLHQpPT5vW24oZSx0KV0pKGQseSksIXUmJmYpe2NvbnN0IGU9by5sYXRlc3RfcmVmcmVzaF90b2tlbix0PSgoZSx0KT0+e2NvbnN0IHI9T2JqZWN0LmtleXMobykuZmluZCgocj0+e2lmKCJsYXRlc3RfcmVmcmVzaF90b2tlbiIhPT1yKXtjb25zdCBzPSgoZSx0KT0+dC5zdGFydHNXaXRoKGAke2V9fGApKSh0LHIpLG89ci5zcGxpdCgifCIpWzFdLnNwbGl0KCIgIiksbj1lLnNwbGl0KCIgIikuZXZlcnkoKGU9Pm8uaW5jbHVkZXMoZSkpKTtyZXR1cm4gcyYmbn19KSk7cmV0dXJuISFyfSkoeSxkKTtlJiYhdCYmKHU9ZSl9aWYoIXUpdGhyb3cgbmV3IHQoZCx5KTtjLmJvZHk9YT9zKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxyKSx7cmVmcmVzaF90b2tlbjp1fSkpOkpTT04uc3RyaW5naWZ5KE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxyKSx7cmVmcmVzaF90b2tlbjp1fSkpfWxldCBqLGs7ImZ1bmN0aW9uIj09dHlwZW9mIEFib3J0Q29udHJvbGxlciYmKGo9bmV3IEFib3J0Q29udHJvbGxlcixjLnNpZ25hbD1qLnNpZ25hbCk7dHJ5e2s9YXdhaXQgUHJvbWlzZS5yYWNlKFsoXz1lLG5ldyBQcm9taXNlKChlPT5zZXRUaW1lb3V0KGUsXykpKSksZmV0Y2goaSxPYmplY3QuYXNzaWduKHt9LGMpKV0pfWNhdGNoKGUpe3JldHVybiB2b2lkIHAucG9zdE1lc3NhZ2Uoe2Vycm9yOmUubWVzc2FnZX0pfWlmKCFrKXJldHVybiBqJiZqLmFib3J0KCksdm9pZCBwLnBvc3RNZXNzYWdlKHtlcnJvcjoiVGltZW91dCB3aGVuIGV4ZWN1dGluZyAnZmV0Y2gnIn0pO2c9ay5oZWFkZXJzLGw9Wy4uLmddLnJlZHVjZSgoKGUsW3Qscl0pPT4oZVt0XT1yLGUpKSx7fSksaD1hd2FpdCBrLmpzb24oKSxoLnJlZnJlc2hfdG9rZW4/KGYmJihvLmxhdGVzdF9yZWZyZXNoX3Rva2VuPWgucmVmcmVzaF90b2tlbixPPXUsYj1oLnJlZnJlc2hfdG9rZW4sT2JqZWN0LmVudHJpZXMobykuZm9yRWFjaCgoKFtlLHRdKT0+e3Q9PT1PJiYob1tlXT1iKX0pKSksKChlLHQscik9PntvW24odCxyKV09ZX0pKGgucmVmcmVzaF90b2tlbixkLHkpLGRlbGV0ZSBoLnJlZnJlc2hfdG9rZW4pOigoZSx0KT0+e2RlbGV0ZSBvW24oZSx0KV19KShkLHkpLHAucG9zdE1lc3NhZ2Uoe29rOmsub2ssanNvbjpoLGhlYWRlcnM6bH0pfWNhdGNoKGUpe3AucG9zdE1lc3NhZ2Uoe29rOiExLGpzb246e2Vycm9yOmUuZXJyb3IsZXJyb3JfZGVzY3JpcHRpb246ZS5tZXNzYWdlfSxoZWFkZXJzOmx9KX12YXIgTyxiLGcsX30pKX0oKTsKCg==",DU=null,NU=!1,function(n){return $R=$R||mZ(PU,DU,NU),new Worker($R,n)});const XR={};class yZ{constructor(e,t){this.cache=e,this.clientId=t,this.manifestKey=this.createManifestKeyFrom(this.clientId)}async add(e){var t;const i=new Set(((t=await this.cache.get(this.manifestKey))===null||t===void 0?void 0:t.keys)||[]);i.add(e),await this.cache.set(this.manifestKey,{keys:[...i]})}async remove(e){const t=await this.cache.get(this.manifestKey);if(t){const i=new Set(t.keys);return i.delete(e),i.size>0?await this.cache.set(this.manifestKey,{keys:[...i]}):await this.cache.remove(this.manifestKey)}}get(){return this.cache.get(this.manifestKey)}clear(){return this.cache.remove(this.manifestKey)}createManifestKeyFrom(e){return`@@auth0spajs@@::${e}`}}const vZ={memory:()=>new FV().enclosedCache,localstorage:()=>new oZ},LU=n=>vZ[n],UU=n=>{const{openUrl:e,onRedirect:t}=n,i=df(n,["openUrl","onRedirect"]);return Object.assign(Object.assign({},i),{openUrl:e===!1||e?e:t})},kU=(n,e)=>{const t=(e==null?void 0:e.split(" "))||[];return((n==null?void 0:n.split(" "))||[]).every((i=>t.includes(i)))},Km={NONCE:"nonce",KEYPAIR:"keypair"};class _Z{constructor(e){this.clientId=e}getVersion(){return 1}createDbHandle(){const e=window.indexedDB.open("auth0-spa-js",this.getVersion());return new Promise(((t,i)=>{e.onupgradeneeded=()=>Object.values(Km).forEach((r=>e.result.createObjectStore(r))),e.onerror=()=>i(e.error),e.onsuccess=()=>t(e.result)}))}async getDbHandle(){return this.dbHandle||(this.dbHandle=await this.createDbHandle()),this.dbHandle}async executeDbRequest(e,t,i){const r=i((await this.getDbHandle()).transaction(e,t).objectStore(e));return new Promise(((s,a)=>{r.onsuccess=()=>s(r.result),r.onerror=()=>a(r.error)}))}buildKey(e){const t=e?`_${e}`:"auth0";return`${this.clientId}::${t}`}setNonce(e,t){return this.save(Km.NONCE,this.buildKey(t),e)}setKeyPair(e){return this.save(Km.KEYPAIR,this.buildKey(),e)}async save(e,t,i){await this.executeDbRequest(e,"readwrite",(r=>r.put(i,t)))}findNonce(e){return this.find(Km.NONCE,this.buildKey(e))}findKeyPair(){return this.find(Km.KEYPAIR,this.buildKey())}find(e,t){return this.executeDbRequest(e,"readonly",(i=>i.get(t)))}async deleteBy(e,t){const i=await this.executeDbRequest(e,"readonly",(r=>r.getAllKeys()));i==null||i.filter(t).map((r=>this.executeDbRequest(e,"readwrite",(s=>s.delete(r)))))}deleteByClientId(e,t){return this.deleteBy(e,(i=>typeof i=="string"&&i.startsWith(`${t}::`)))}clearNonces(){return this.deleteByClientId(Km.NONCE,this.clientId)}clearKeyPairs(){return this.deleteByClientId(Km.KEYPAIR,this.clientId)}}class bZ{constructor(e){this.storage=new _Z(e)}getNonce(e){return this.storage.findNonce(e)}setNonce(e,t){return this.storage.setNonce(e,t)}async getOrGenerateKeyPair(){let e=await this.storage.findKeyPair();return e||(e=await JK(),await this.storage.setKeyPair(e)),e}async generateProof(e){const t=await this.getOrGenerateKeyPair();return tZ(Object.assign({keyPair:t},e))}async calculateThumbprint(){return eZ(await this.getOrGenerateKeyPair())}async clear(){await Promise.all([this.storage.clearNonces(),this.storage.clearKeyPairs()])}}var c0;(function(n){n.Bearer="Bearer",n.DPoP="DPoP"})(c0||(c0={}));class xZ{constructor(e,t){this.hooks=t,this.config=Object.assign(Object.assign({},e),{fetch:e.fetch||(typeof window>"u"?fetch:window.fetch.bind(window))})}isAbsoluteUrl(e){return/^(https?:)?\/\//i.test(e)}buildUrl(e,t){if(t){if(this.isAbsoluteUrl(t))return t;if(e)return`${e.replace(/\/?\/$/,"")}/${t.replace(/^\/+/,"")}`}throw new TypeError("`url` must be absolute or `baseUrl` non-empty.")}getAccessToken(e){return this.config.getAccessToken?this.config.getAccessToken(e):this.hooks.getAccessToken(e)}extractUrl(e){return typeof e=="string"?e:e instanceof URL?e.href:e.url}buildBaseRequest(e,t){if(!this.config.baseUrl)return new Request(e,t);const i=this.buildUrl(this.config.baseUrl,this.extractUrl(e)),r=e instanceof Request?new Request(i,e):i;return new Request(r,t)}setAuthorizationHeader(e,t,i=c0.Bearer){e.headers.set("authorization",`${i} ${t}`)}async setDpopProofHeader(e,t){if(!this.config.dpopNonceId)return;const i=await this.hooks.getDpopNonce(),r=await this.hooks.generateDpopProof({accessToken:t,method:e.method,nonce:i,url:e.url});e.headers.set("dpop",r)}async prepareRequest(e,t){const i=await this.getAccessToken(t);let r,s;typeof i=="string"?(r=this.config.dpopNonceId?c0.DPoP:c0.Bearer,s=i):(r=i.token_type,s=i.access_token),this.setAuthorizationHeader(e,s,r),r===c0.DPoP&&await this.setDpopProofHeader(e,s)}getHeader(e,t){return Array.isArray(e)?new Headers(e).get(t)||"":typeof e.get=="function"?e.get(t)||"":e[t]||""}hasUseDpopNonceError(e){if(e.status!==401)return!1;const t=this.getHeader(e.headers,"www-authenticate");return t.includes("invalid_dpop_nonce")||t.includes("use_dpop_nonce")}async handleResponse(e,t){const i=this.getHeader(e.headers,"dpop-nonce");if(i&&await this.hooks.setDpopNonce(i),!this.hasUseDpopNonceError(e))return e;if(!i||!t.onUseDpopNonceError)throw new NV(i);return t.onUseDpopNonceError()}async internalFetchWithAuth(e,t,i,r){const s=this.buildBaseRequest(e,t);await this.prepareRequest(s,r);const a=await this.config.fetch(s);return this.handleResponse(a,i)}fetchWithAuth(e,t,i){const r={onUseDpopNonceError:()=>this.internalFetchWithAuth(e,t,Object.assign(Object.assign({},r),{onUseDpopNonceError:void 0}),i)};return this.internalFetchWithAuth(e,t,r,i)}}class SZ{constructor(e,t){this.myAccountFetcher=e,this.apiBase=t}async connectAccount(e){const t=await this.myAccountFetcher.fetchWithAuth(`${this.apiBase}v1/connected-accounts/connect`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return this._handleResponse(t)}async completeAccount(e){const t=await this.myAccountFetcher.fetchWithAuth(`${this.apiBase}v1/connected-accounts/complete`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return this._handleResponse(t)}async _handleResponse(e){let t;try{t=await e.text(),t=JSON.parse(t)}catch(i){throw new O2({type:"invalid_json",status:e.status,title:"Invalid JSON response",detail:t||String(i)})}if(e.ok)return t;throw new O2(t)}}class O2 extends Error{constructor({type:e,status:t,title:i,detail:r,validation_errors:s}){super(r),this.name="MyAccountApiError",this.type=e,this.status=t,this.title=i,this.detail=r,this.validation_errors=s,Object.setPrototypeOf(this,O2.prototype)}}const YR=new zK;class EZ{constructor(e){let t,i;if(this.userCache=new FV().enclosedCache,this.activeLockKeys=new Set,this.defaultOptions={authorizationParams:{scope:"openid profile email"},useRefreshTokensFallback:!1,useFormData:!0},this._releaseLockOnPageHide=async()=>{const l=Array.from(this.activeLockKeys);for(const u of l)await YR.releaseLock(u);this.activeLockKeys.clear(),window.removeEventListener("pagehide",this._releaseLockOnPageHide)},this.options=Object.assign(Object.assign(Object.assign({},this.defaultOptions),e),{authorizationParams:Object.assign(Object.assign({},this.defaultOptions.authorizationParams),e.authorizationParams)}),typeof window<"u"&&(()=>{if(!R2())throw new Error("For security reasons, `window.crypto` is required to run `auth0-spa-js`.");if(R2().subtle===void 0)throw new Error(`
      auth0-spa-js must run on a secure origin. See https://github.com/auth0/auth0-spa-js/blob/main/FAQ.md#why-do-i-get-auth0-spa-js-must-run-on-a-secure-origin for more information.
    `)})(),e.cache&&e.cacheLocation&&console.warn("Both `cache` and `cacheLocation` options have been specified in the Auth0Client configuration; ignoring `cacheLocation` and using `cache`."),e.cache)i=e.cache;else{if(t=e.cacheLocation||"memory",!LU(t))throw new Error(`Invalid cache location "${t}"`);i=LU(t)()}this.httpTimeoutMs=e.httpTimeoutInSeconds?1e3*e.httpTimeoutInSeconds:1e4,this.cookieStorage=e.legacySameSiteCookie===!1?n0:dZ,this.orgHintCookieName=`auth0.${this.options.clientId}.organization_hint`,this.isAuthenticatedCookieName=(l=>`auth0.${l}.is.authenticated`)(this.options.clientId),this.sessionCheckExpiryDays=e.sessionCheckExpiryDays||1;const r=e.useCookiesForTransactions?this.cookieStorage:pZ;var s;this.scope=((l,u,...h)=>{if(typeof l!="object")return{default:Jw(u,l,...h)};let p={default:Jw(u,...h)};return Object.keys(l).forEach((y=>{const v=l[y];p[y]=Jw(u,v,...h)})),p})(this.options.authorizationParams.scope,"openid",this.options.useRefreshTokens?"offline_access":""),this.transactionManager=new cZ(r,this.options.clientId,this.options.cookieDomain),this.nowProvider=this.options.nowProvider||CV,this.cacheManager=new lZ(i,i.allKeys?void 0:new yZ(i,this.options.clientId),this.nowProvider),this.dpop=this.options.useDpop?new bZ(this.options.clientId):void 0,this.domainUrl=(s=this.options.domain,/^https?:\/\//.test(s)?s:`https://${s}`),this.tokenIssuer=((l,u)=>l?l.startsWith("https://")?l:`https://${l}/`:`${u}/`)(this.options.issuer,this.domainUrl);const a=`${this.domainUrl}/me/`,o=this.createFetcher(Object.assign(Object.assign({},this.options.useDpop&&{dpopNonceId:"__auth0_my_account_api__"}),{getAccessToken:()=>this.getTokenSilently({authorizationParams:{scope:"create:me:connected_accounts",audience:a},detailedResponse:!0})}));this.myAccountApi=new SZ(o,a),typeof window<"u"&&window.Worker&&this.options.useRefreshTokens&&t==="memory"&&(this.options.workerUrl?this.worker=new Worker(this.options.workerUrl):this.worker=new gZ)}_url(e){const t=encodeURIComponent(btoa(JSON.stringify(this.options.auth0Client||wV)));return`${this.domainUrl}${e}&auth0Client=${t}`}_authorizeUrl(e){return this._url(`/authorize?${xI(e)}`)}async _verifyIdToken(e,t,i){const r=await this.nowProvider();return fZ({iss:this.tokenIssuer,aud:this.options.clientId,id_token:e,nonce:t,organization:i,leeway:this.options.leeway,max_age:(s=this.options.authorizationParams.max_age,typeof s!="string"?s:parseInt(s,10)||void 0),now:r});var s}_processOrgHint(e){e?this.cookieStorage.save(this.orgHintCookieName,e,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}):this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain})}async _prepareAuthorizeUrl(e,t,i){var r;const s=WR(Zb()),a=WR(Zb()),o=Zb(),l=await MU(o),u=OU(l),h=await((r=this.dpop)===null||r===void 0?void 0:r.calculateThumbprint()),p=((v,_,x,E,S,w,C,A,N)=>Object.assign(Object.assign(Object.assign({client_id:v.clientId},v.authorizationParams),x),{scope:uT(_,x.scope,x.audience),response_type:"code",response_mode:A||"query",state:E,nonce:S,redirect_uri:C||v.authorizationParams.redirect_uri,code_challenge:w,code_challenge_method:"S256",dpop_jkt:N}))(this.options,this.scope,e,s,a,u,e.redirect_uri||this.options.authorizationParams.redirect_uri||i,t==null?void 0:t.response_mode,h),y=this._authorizeUrl(p);return{nonce:a,code_verifier:o,scope:p.scope,audience:p.audience||"default",redirect_uri:p.redirect_uri,state:s,url:y}}async loginWithPopup(e,t){var i;if(e=e||{},!(t=t||{}).popup&&(t.popup=(o=>{const l=window.screenX+(window.innerWidth-400)/2,u=window.screenY+(window.innerHeight-600)/2;return window.open(o,"auth0:authorize:popup",`left=${l},top=${u},width=400,height=600,resizable,scrollbars=yes,status=1`)})(""),!t.popup))throw new DD;const r=await this._prepareAuthorizeUrl(e.authorizationParams||{},{response_mode:"web_message"},window.location.origin);t.popup.location.href=r.url;const s=await(o=>new Promise(((l,u)=>{let h;const p=setInterval((()=>{o.popup&&o.popup.closed&&(clearInterval(p),clearTimeout(y),window.removeEventListener("message",h,!1),u(new HK(o.popup)))}),1e3),y=setTimeout((()=>{clearInterval(p),u(new VK(o.popup)),window.removeEventListener("message",h,!1)}),1e3*(o.timeoutInSeconds||60));h=function(v){if(v.data&&v.data.type==="authorization_response"){if(clearTimeout(y),clearInterval(p),window.removeEventListener("message",h,!1),o.popup.close(),v.data.response.error)return u(es.fromPayload(v.data.response));l(v.data.response)}},window.addEventListener("message",h)})))(Object.assign(Object.assign({},t),{timeoutInSeconds:t.timeoutInSeconds||this.options.authorizeTimeoutInSeconds||60}));if(r.state!==s.state)throw new es("state_mismatch","Invalid state");const a=((i=e.authorizationParams)===null||i===void 0?void 0:i.organization)||this.options.authorizationParams.organization;await this._requestToken({audience:r.audience,scope:r.scope,code_verifier:r.code_verifier,grant_type:"authorization_code",code:s.code,redirect_uri:r.redirect_uri},{nonceIn:r.nonce,organization:a})}async getUser(){var e;const t=await this._getIdTokenFromCache();return(e=t==null?void 0:t.decodedToken)===null||e===void 0?void 0:e.user}async getIdTokenClaims(){var e;const t=await this._getIdTokenFromCache();return(e=t==null?void 0:t.decodedToken)===null||e===void 0?void 0:e.claims}async loginWithRedirect(e={}){var t;const i=UU(e),{openUrl:r,fragment:s,appState:a}=i,o=df(i,["openUrl","fragment","appState"]),l=((t=o.authorizationParams)===null||t===void 0?void 0:t.organization)||this.options.authorizationParams.organization,u=await this._prepareAuthorizeUrl(o.authorizationParams||{}),{url:h}=u,p=df(u,["url"]);this.transactionManager.create(Object.assign(Object.assign(Object.assign({},p),{appState:a,response_type:mp.Code}),l&&{organization:l}));const y=s?`${h}#${s}`:h;r?await r(y):window.location.assign(y)}async handleRedirectCallback(e=window.location.href){const t=e.split("?").slice(1);if(t.length===0)throw new Error("There are no query params available for parsing.");const i=this.transactionManager.get();if(!i)throw new es("missing_transaction","Invalid state");this.transactionManager.remove();const r=(s=>{s.indexOf("#")>-1&&(s=s.substring(0,s.indexOf("#")));const a=new URLSearchParams(s);return{state:a.get("state"),code:a.get("code")||void 0,connect_code:a.get("connect_code")||void 0,error:a.get("error")||void 0,error_description:a.get("error_description")||void 0}})(t.join(""));return i.response_type===mp.ConnectCode?this._handleConnectAccountRedirectCallback(r,i):this._handleLoginRedirectCallback(r,i)}async _handleLoginRedirectCallback(e,t){const{code:i,state:r,error:s,error_description:a}=e;if(s)throw new PD(s,a||s,r,t.appState);if(!t.code_verifier||t.state&&t.state!==r)throw new es("state_mismatch","Invalid state");const o=t.organization,l=t.nonce,u=t.redirect_uri;return await this._requestToken(Object.assign({audience:t.audience,scope:t.scope,code_verifier:t.code_verifier,grant_type:"authorization_code",code:i},u?{redirect_uri:u}:{}),{nonceIn:l,organization:o}),{appState:t.appState,response_type:mp.Code}}async _handleConnectAccountRedirectCallback(e,t){const{connect_code:i,state:r,error:s,error_description:a}=e;if(s)throw new FK(s,a||s,t.connection,r,t.appState);if(!i)throw new es("missing_connect_code","Missing connect code");if(!(t.code_verifier&&t.state&&t.auth_session&&t.redirect_uri&&t.state===r))throw new es("state_mismatch","Invalid state");const o=await this.myAccountApi.completeAccount({auth_session:t.auth_session,connect_code:i,redirect_uri:t.redirect_uri,code_verifier:t.code_verifier});return Object.assign(Object.assign({},o),{appState:t.appState,response_type:mp.ConnectCode})}async checkSession(e){if(!this.cookieStorage.get(this.isAuthenticatedCookieName)){if(!this.cookieStorage.get("auth0.is.authenticated"))return;this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove("auth0.is.authenticated")}try{await this.getTokenSilently(e)}catch{}}async getTokenSilently(e={}){var t,i;const r=Object.assign(Object.assign({cacheMode:"on"},e),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),e.authorizationParams),{scope:uT(this.scope,(t=e.authorizationParams)===null||t===void 0?void 0:t.scope,((i=e.authorizationParams)===null||i===void 0?void 0:i.audience)||this.options.authorizationParams.audience)})}),s=await((a,o)=>{let l=XR[o];return l||(l=a().finally((()=>{delete XR[o],l=null})),XR[o]=l),l})((()=>this._getTokenSilently(r)),`${this.options.clientId}::${r.authorizationParams.audience}::${r.authorizationParams.scope}`);return e.detailedResponse?s:s==null?void 0:s.access_token}async _getTokenSilently(e){const{cacheMode:t}=e,i=df(e,["cacheMode"]);if(t!=="off"){const o=await this._getEntryFromCache({scope:i.authorizationParams.scope,audience:i.authorizationParams.audience||"default",clientId:this.options.clientId,cacheMode:t});if(o)return o}if(t==="cache-only")return;const r=(s=this.options.clientId,a=i.authorizationParams.audience||"default",`auth0.lock.getTokenSilently.${s}.${a}`);var s,a;if(!await(async(o,l=3)=>{for(let u=0;u<l;u++)if(await o())return!0;return!1})((()=>YR.acquireLock(r,5e3)),10))throw new bI;this.activeLockKeys.add(r),this.activeLockKeys.size===1&&window.addEventListener("pagehide",this._releaseLockOnPageHide);try{if(t!=="off"){const v=await this._getEntryFromCache({scope:i.authorizationParams.scope,audience:i.authorizationParams.audience||"default",clientId:this.options.clientId});if(v)return v}const o=this.options.useRefreshTokens?await this._getTokenUsingRefreshToken(i):await this._getTokenFromIFrame(i),{id_token:l,token_type:u,access_token:h,oauthTokenScope:p,expires_in:y}=o;return Object.assign(Object.assign({id_token:l,token_type:u,access_token:h},p?{scope:p}:null),{expires_in:y})}finally{await YR.releaseLock(r),this.activeLockKeys.delete(r),this.activeLockKeys.size===0&&window.removeEventListener("pagehide",this._releaseLockOnPageHide)}}async getTokenWithPopup(e={},t={}){var i,r;const s=Object.assign(Object.assign({},e),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),e.authorizationParams),{scope:uT(this.scope,(i=e.authorizationParams)===null||i===void 0?void 0:i.scope,((r=e.authorizationParams)===null||r===void 0?void 0:r.audience)||this.options.authorizationParams.audience)})});return t=Object.assign(Object.assign({},BK),t),await this.loginWithPopup(s,t),(await this.cacheManager.get(new xc({scope:s.authorizationParams.scope,audience:s.authorizationParams.audience||"default",clientId:this.options.clientId}),void 0,this.options.useMrrt)).access_token}async isAuthenticated(){return!!await this.getUser()}_buildLogoutUrl(e){e.clientId!==null?e.clientId=e.clientId||this.options.clientId:delete e.clientId;const t=e.logoutParams||{},{federated:i}=t,r=df(t,["federated"]),s=i?"&federated":"";return this._url(`/v2/logout?${xI(Object.assign({clientId:e.clientId},r))}`)+s}async logout(e={}){var t;const i=UU(e),{openUrl:r}=i,s=df(i,["openUrl"]);e.clientId===null?await this.cacheManager.clear():await this.cacheManager.clear(e.clientId||this.options.clientId),this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove(this.isAuthenticatedCookieName,{cookieDomain:this.options.cookieDomain}),this.userCache.remove("@@user@@"),await((t=this.dpop)===null||t===void 0?void 0:t.clear());const a=this._buildLogoutUrl(s);r?await r(a):r!==!1&&window.location.assign(a)}async _getTokenFromIFrame(e){const t=Object.assign(Object.assign({},e.authorizationParams),{prompt:"none"}),i=this.cookieStorage.get(this.orgHintCookieName);i&&!t.organization&&(t.organization=i);const{url:r,state:s,nonce:a,code_verifier:o,redirect_uri:l,scope:u,audience:h}=await this._prepareAuthorizeUrl(t,{response_mode:"web_message"},window.location.origin);try{if(window.crossOriginIsolated)throw new es("login_required","The application is running in a Cross-Origin Isolated context, silently retrieving a token without refresh token is not possible.");const p=e.timeoutInSeconds||this.options.authorizeTimeoutInSeconds;let y;try{y=new URL(this.domainUrl).origin}catch{y=this.domainUrl}const v=await((x,E,S=60)=>new Promise(((w,C)=>{const A=window.document.createElement("iframe");A.setAttribute("width","0"),A.setAttribute("height","0"),A.style.display="none";const N=()=>{window.document.body.contains(A)&&(window.document.body.removeChild(A),window.removeEventListener("message",L,!1))};let L;const I=setTimeout((()=>{C(new bI),N()}),1e3*S);L=function(D){if(D.origin!=E||!D.data||D.data.type!=="authorization_response")return;const P=D.source;P&&P.close(),D.data.response.error?C(es.fromPayload(D.data.response)):w(D.data.response),clearTimeout(I),window.removeEventListener("message",L,!1),setTimeout(N,2e3)},window.addEventListener("message",L,!1),window.document.body.appendChild(A),A.setAttribute("src",x)})))(r,y,p);if(s!==v.state)throw new es("state_mismatch","Invalid state");const _=await this._requestToken(Object.assign(Object.assign({},e.authorizationParams),{code_verifier:o,code:v.code,grant_type:"authorization_code",redirect_uri:l,timeout:e.authorizationParams.timeout||this.httpTimeoutMs}),{nonceIn:a,organization:t.organization});return Object.assign(Object.assign({},_),{scope:u,oauthTokenScope:_.scope,audience:h})}catch(p){throw p.error==="login_required"&&this.logout({openUrl:!1}),p}}async _getTokenUsingRefreshToken(e){const t=await this.cacheManager.get(new xc({scope:e.authorizationParams.scope,audience:e.authorizationParams.audience||"default",clientId:this.options.clientId}),void 0,this.options.useMrrt);if(!(t&&t.refresh_token||this.worker)){if(this.options.useRefreshTokensFallback)return await this._getTokenFromIFrame(e);throw new PV(e.authorizationParams.audience||"default",e.authorizationParams.scope)}const i=e.authorizationParams.redirect_uri||this.options.authorizationParams.redirect_uri||window.location.origin,r=typeof e.timeoutInSeconds=="number"?1e3*e.timeoutInSeconds:null,s=((h,p,y,v)=>{var _;if(h&&y&&v){if(p.audience!==y)return p.scope;const x=v.split(" "),E=((_=p.scope)===null||_===void 0?void 0:_.split(" "))||[],S=E.every((w=>x.includes(w)));return x.length>=E.length&&S?v:p.scope}return p.scope})(this.options.useMrrt,e.authorizationParams,t==null?void 0:t.audience,t==null?void 0:t.scope);try{const h=await this._requestToken(Object.assign(Object.assign(Object.assign({},e.authorizationParams),{grant_type:"refresh_token",refresh_token:t&&t.refresh_token,redirect_uri:i}),r&&{timeout:r}),{scopesToRequest:s});if(h.refresh_token&&this.options.useMrrt&&(t!=null&&t.refresh_token)&&await this.cacheManager.updateEntry(t.refresh_token,h.refresh_token),this.options.useMrrt&&(a=t==null?void 0:t.audience,o=t==null?void 0:t.scope,l=e.authorizationParams.audience,u=e.authorizationParams.scope,(a!==l||!kU(u,o))&&!kU(s,h.scope))){if(this.options.useRefreshTokensFallback)return await this._getTokenFromIFrame(e);await this.cacheManager.remove(this.options.clientId,e.authorizationParams.audience,e.authorizationParams.scope);const p=((y,v)=>{const _=(y==null?void 0:y.split(" "))||[],x=(v==null?void 0:v.split(" "))||[];return _.filter((E=>x.indexOf(E)==-1)).join(",")})(s,h.scope);throw new ND(e.authorizationParams.audience||"default",p)}return Object.assign(Object.assign({},h),{scope:e.authorizationParams.scope,oauthTokenScope:h.scope,audience:e.authorizationParams.audience||"default"})}catch(h){if((h.message.indexOf("Missing Refresh Token")>-1||h.message&&h.message.indexOf("invalid refresh token")>-1)&&this.options.useRefreshTokensFallback)return await this._getTokenFromIFrame(e);throw h}var a,o,l,u}async _saveEntryInCache(e){const{id_token:t,decodedToken:i}=e,r=df(e,["id_token","decodedToken"]);this.userCache.set("@@user@@",{id_token:t,decodedToken:i}),await this.cacheManager.setIdToken(this.options.clientId,e.id_token,e.decodedToken),await this.cacheManager.set(r)}async _getIdTokenFromCache(){const e=this.options.authorizationParams.audience||"default",t=this.scope[e],i=await this.cacheManager.getIdToken(new xc({clientId:this.options.clientId,audience:e,scope:t})),r=this.userCache.get("@@user@@");return i&&i.id_token===(r==null?void 0:r.id_token)?r:(this.userCache.set("@@user@@",i),i)}async _getEntryFromCache({scope:e,audience:t,clientId:i,cacheMode:r}){const s=await this.cacheManager.get(new xc({scope:e,audience:t,clientId:i}),60,this.options.useMrrt,r);if(s&&s.access_token){const{token_type:a,access_token:o,oauthTokenScope:l,expires_in:u}=s,h=await this._getIdTokenFromCache();return h&&Object.assign(Object.assign({id_token:h.id_token,token_type:a||"Bearer",access_token:o},l?{scope:l}:null),{expires_in:u})}}async _requestToken(e,t){const{nonceIn:i,organization:r,scopesToRequest:s}=t||{},a=await aZ(Object.assign(Object.assign({baseUrl:this.domainUrl,client_id:this.options.clientId,auth0Client:this.options.auth0Client,useFormData:this.options.useFormData,timeout:this.httpTimeoutMs,useMrrt:this.options.useMrrt,dpop:this.dpop},e),{scope:s||e.scope}),this.worker),o=await this._verifyIdToken(a.id_token,i,r);return await this._saveEntryInCache(Object.assign(Object.assign(Object.assign(Object.assign({},a),{decodedToken:o,scope:e.scope,audience:e.audience||"default"}),a.scope?{oauthTokenScope:a.scope}:null),{client_id:this.options.clientId})),this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this._processOrgHint(r||o.claims.org_id),Object.assign(Object.assign({},a),{decodedToken:o})}async exchangeToken(e){return this._requestToken({grant_type:"urn:ietf:params:oauth:grant-type:token-exchange",subject_token:e.subject_token,subject_token_type:e.subject_token_type,scope:uT(this.scope,e.scope,e.audience||this.options.authorizationParams.audience),audience:e.audience||this.options.authorizationParams.audience,organization:e.organization||this.options.authorizationParams.organization})}_assertDpop(e){if(!e)throw new Error("`useDpop` option must be enabled before using DPoP.")}getDpopNonce(e){return this._assertDpop(this.dpop),this.dpop.getNonce(e)}setDpopNonce(e,t){return this._assertDpop(this.dpop),this.dpop.setNonce(e,t)}generateDpopProof(e){return this._assertDpop(this.dpop),this.dpop.generateProof(e)}createFetcher(e={}){return new xZ(e,{isDpopEnabled:()=>!!this.options.useDpop,getAccessToken:t=>{var i;return this.getTokenSilently({authorizationParams:{scope:(i=t==null?void 0:t.scope)===null||i===void 0?void 0:i.join(" "),audience:t==null?void 0:t.audience},detailedResponse:!0})},getDpopNonce:()=>this.getDpopNonce(e.dpopNonceId),setDpopNonce:t=>this.setDpopNonce(t,e.dpopNonceId),generateDpopProof:t=>this.generateDpopProof(t)})}async connectAccountWithRedirect(e){const{openUrl:t,appState:i,connection:r,scopes:s,authorization_params:a,redirectUri:o=this.options.authorizationParams.redirect_uri||window.location.origin}=e;if(!r)throw new Error("connection is required");const l=WR(Zb()),u=Zb(),h=await MU(u),p=OU(h),{connect_uri:y,connect_params:v,auth_session:_}=await this.myAccountApi.connectAccount({connection:r,scopes:s,redirect_uri:o,state:l,code_challenge:p,code_challenge_method:"S256",authorization_params:a});this.transactionManager.create({state:l,code_verifier:u,auth_session:_,redirect_uri:o,appState:i,connection:r,response_type:mp.ConnectCode});const x=new URL(y);x.searchParams.set("ticket",v.ticket),t?await t(x.toString()):window.location.assign(x)}}var jV={isAuthenticated:!1,isLoading:!0,error:void 0,user:void 0},wo=function(){throw new Error("You forgot to wrap your component in <Auth0Provider>.")},TZ=ea(ea({},jV),{buildAuthorizeUrl:wo,buildLogoutUrl:wo,getAccessTokenSilently:wo,getAccessTokenWithPopup:wo,getIdTokenClaims:wo,exchangeToken:wo,loginWithRedirect:wo,loginWithPopup:wo,connectAccountWithRedirect:wo,logout:wo,handleRedirectCallback:wo,getDpopNonce:wo,setDpopNonce:wo,generateDpopProof:wo,createFetcher:wo}),GV=H.createContext(TZ),zU=(function(n){UK(e,n);function e(t,i){var r=n.call(this,i??t)||this;return r.error=t,r.error_description=i,Object.setPrototypeOf(r,e.prototype),r}return e})(Error),wZ=/[?&](?:connect_)?code=[^&]+/,CZ=/[?&]state=[^&]+/,AZ=/[?&]error=[^&]+/,MZ=function(n){return n===void 0&&(n=window.location.search),(wZ.test(n)||AZ.test(n))&&CZ.test(n)},qV=function(n){return function(e){if(e instanceof Error)return e;if(e!==null&&typeof e=="object"&&"error"in e&&typeof e.error=="string"){if("error_description"in e&&typeof e.error_description=="string"){var t=e;return new zU(t.error,t.error_description)}var i=e;return new zU(i.error)}return new Error(n)}},BU=qV("Login failed"),fT=qV("Get access token failed"),WV=function(n){var e,t;n!=null&&n.redirectUri&&(console.warn("Using `redirectUri` has been deprecated, please use `authorizationParams.redirect_uri` instead as `redirectUri` will be no longer supported in a future version"),n.authorizationParams=(e=n.authorizationParams)!==null&&e!==void 0?e:{},n.authorizationParams.redirect_uri=n.redirectUri,delete n.redirectUri),!((t=n==null?void 0:n.authorizationParams)===null||t===void 0)&&t.redirectUri&&(console.warn("Using `authorizationParams.redirectUri` has been deprecated, please use `authorizationParams.redirect_uri` instead as `authorizationParams.redirectUri` will be removed in a future version"),n.authorizationParams.redirect_uri=n.authorizationParams.redirectUri,delete n.authorizationParams.redirectUri)},RZ=function(n,e){switch(e.type){case"LOGIN_POPUP_STARTED":return ea(ea({},n),{isLoading:!0});case"LOGIN_POPUP_COMPLETE":case"INITIALISED":return ea(ea({},n),{isAuthenticated:!!e.user,user:e.user,isLoading:!1,error:void 0});case"HANDLE_REDIRECT_COMPLETE":case"GET_ACCESS_TOKEN_COMPLETE":return n.user===e.user?n:ea(ea({},n),{isAuthenticated:!!e.user,user:e.user});case"LOGOUT":return ea(ea({},n),{isAuthenticated:!1,user:void 0});case"ERROR":return ea(ea({},n),{isLoading:!1,error:e.error})}},OZ=function(n){return WV(n),ea(ea({},n),{auth0Client:{name:"auth0-react",version:"2.11.0"}})},IZ=function(n){var e;window.history.replaceState({},document.title,(e=n.returnTo)!==null&&e!==void 0?e:window.location.pathname)},PZ=function(n){var e=n.children,t=n.skipRedirectCallback,i=n.onRedirectCallback,r=i===void 0?IZ:i,s=n.context,a=s===void 0?GV:s,o=AU(n,["children","skipRedirectCallback","onRedirectCallback","context"]),l=H.useState(function(){return new EZ(OZ(o))})[0],u=H.useReducer(RZ,jV),h=u[0],p=u[1],y=H.useRef(!1),v=H.useCallback(function(z){return p({type:"ERROR",error:z}),z},[]);H.useEffect(function(){y.current||(y.current=!0,(function(){return Xm(void 0,void 0,void 0,function(){var z,V,K,J,q,W,Q;return Ym(this,function(re){switch(re.label){case 0:return re.trys.push([0,7,,8]),z=void 0,MZ()&&!t?[4,l.handleRedirectCallback()]:[3,3];case 1:return V=re.sent(),K=V.appState,J=K===void 0?{}:K,q=V.response_type,W=AU(V,["appState","response_type"]),[4,l.getUser()];case 2:return z=re.sent(),J.response_type=q,q===mp.ConnectCode&&(J.connectedAccount=W),r(J,z),[3,6];case 3:return[4,l.checkSession()];case 4:return re.sent(),[4,l.getUser()];case 5:z=re.sent(),re.label=6;case 6:return p({type:"INITIALISED",user:z}),[3,8];case 7:return Q=re.sent(),v(BU(Q)),[3,8];case 8:return[2]}})})})())},[l,r,t,v]);var _=H.useCallback(function(z){return WV(z),l.loginWithRedirect(z)},[l]),x=H.useCallback(function(z,V){return Xm(void 0,void 0,void 0,function(){var K,J;return Ym(this,function(q){switch(q.label){case 0:p({type:"LOGIN_POPUP_STARTED"}),q.label=1;case 1:return q.trys.push([1,3,,4]),[4,l.loginWithPopup(z,V)];case 2:return q.sent(),[3,4];case 3:return K=q.sent(),v(BU(K)),[2];case 4:return[4,l.getUser()];case 5:return J=q.sent(),p({type:"LOGIN_POPUP_COMPLETE",user:J}),[2]}})})},[l,v]),E=H.useCallback(function(){for(var z=[],V=0;V<arguments.length;V++)z[V]=arguments[V];return Xm(void 0,kK([],z),void 0,function(K){return K===void 0&&(K={}),Ym(this,function(J){switch(J.label){case 0:return[4,l.logout(K)];case 1:return J.sent(),(K.openUrl||K.openUrl===!1)&&p({type:"LOGOUT"}),[2]}})})},[l]),S=H.useCallback(function(z){return Xm(void 0,void 0,void 0,function(){var V,K,J,q;return Ym(this,function(W){switch(W.label){case 0:return W.trys.push([0,2,3,5]),[4,l.getTokenSilently(z)];case 1:return V=W.sent(),[3,5];case 2:throw K=W.sent(),fT(K);case 3:return J=p,q={type:"GET_ACCESS_TOKEN_COMPLETE"},[4,l.getUser()];case 4:return J.apply(void 0,[(q.user=W.sent(),q)]),[7];case 5:return[2,V]}})})},[l]),w=H.useCallback(function(z,V){return Xm(void 0,void 0,void 0,function(){var K,J,q,W;return Ym(this,function(Q){switch(Q.label){case 0:return Q.trys.push([0,2,3,5]),[4,l.getTokenWithPopup(z,V)];case 1:return K=Q.sent(),[3,5];case 2:throw J=Q.sent(),fT(J);case 3:return q=p,W={type:"GET_ACCESS_TOKEN_COMPLETE"},[4,l.getUser()];case 4:return q.apply(void 0,[(W.user=Q.sent(),W)]),[7];case 5:return[2,K]}})})},[l]),C=H.useCallback(function(z){return l.connectAccountWithRedirect(z)},[l]),A=H.useCallback(function(){return l.getIdTokenClaims()},[l]),N=H.useCallback(function(z){return Xm(void 0,void 0,void 0,function(){var V,K,J,q;return Ym(this,function(W){switch(W.label){case 0:return W.trys.push([0,2,3,5]),[4,l.exchangeToken(z)];case 1:return V=W.sent(),[3,5];case 2:throw K=W.sent(),fT(K);case 3:return J=p,q={type:"GET_ACCESS_TOKEN_COMPLETE"},[4,l.getUser()];case 4:return J.apply(void 0,[(q.user=W.sent(),q)]),[7];case 5:return[2,V]}})})},[l]),L=H.useCallback(function(z){return Xm(void 0,void 0,void 0,function(){var V,K,J;return Ym(this,function(q){switch(q.label){case 0:return q.trys.push([0,2,3,5]),[4,l.handleRedirectCallback(z)];case 1:return[2,q.sent()];case 2:throw V=q.sent(),fT(V);case 3:return K=p,J={type:"HANDLE_REDIRECT_COMPLETE"},[4,l.getUser()];case 4:return K.apply(void 0,[(J.user=q.sent(),J)]),[7];case 5:return[2]}})})},[l]),I=H.useCallback(function(z){return l.getDpopNonce(z)},[l]),D=H.useCallback(function(z,V){return l.setDpopNonce(z,V)},[l]),P=H.useCallback(function(z){return l.generateDpopProof(z)},[l]),U=H.useCallback(function(z){return l.createFetcher(z)},[l]),F=H.useMemo(function(){return ea(ea({},h),{getAccessTokenSilently:S,getAccessTokenWithPopup:w,getIdTokenClaims:A,exchangeToken:N,loginWithRedirect:_,loginWithPopup:x,connectAccountWithRedirect:C,logout:E,handleRedirectCallback:L,getDpopNonce:I,setDpopNonce:D,generateDpopProof:P,createFetcher:U})},[h,S,w,A,N,_,x,C,E,L,I,D,P,U]);return lr.createElement(a.Provider,{value:F},e)},DZ=function(n){return n===void 0&&(n=GV),H.useContext(n)};const FU=n=>{let e;const t=new Set,i=(u,h)=>{const p=typeof u=="function"?u(e):u;if(!Object.is(p,e)){const y=e;e=h??(typeof p!="object"||p===null)?p:Object.assign({},e,p),t.forEach(v=>v(e,y))}},r=()=>e,o={setState:i,getState:r,getInitialState:()=>l,subscribe:u=>(t.add(u),()=>t.delete(u))},l=e=n(i,r,o);return o},$V=(n=>n?FU(n):FU),NZ=n=>n;function LZ(n,e=NZ){const t=lr.useSyncExternalStore(n.subscribe,lr.useCallback(()=>e(n.getState()),[n,e]),lr.useCallback(()=>e(n.getInitialState()),[n,e]));return lr.useDebugValue(t),t}const VU=n=>{const e=$V(n),t=i=>LZ(e,i);return Object.assign(t,e),t},UZ=(n=>n?VU(n):VU);function LD(n="debug",...e){}const kZ=()=>{};var HU={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XV=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},zZ=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=n[t++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=n[t++],a=n[t++],o=n[t++],l=((r&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{const s=n[t++],a=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|a&63)}}return e.join("")},YV={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const s=n[r],a=r+1<n.length,o=a?n[r+1]:0,l=r+2<n.length,u=l?n[r+2]:0,h=s>>2,p=(s&3)<<4|o>>4;let y=(o&15)<<2|u>>6,v=u&63;l||(v=64,a||(y=64)),i.push(t[h],t[p],t[y],t[v])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(XV(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):zZ(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const s=t[n.charAt(r++)],o=r<n.length?t[n.charAt(r)]:0;++r;const u=r<n.length?t[n.charAt(r)]:64;++r;const p=r<n.length?t[n.charAt(r)]:64;if(++r,s==null||o==null||u==null||p==null)throw new BZ;const y=s<<2|o>>4;if(i.push(y),u!==64){const v=o<<4&240|u>>2;if(i.push(v),p!==64){const _=u<<6&192|p;i.push(_)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class BZ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const FZ=function(n){const e=XV(n);return YV.encodeByteArray(e,!0)},I2=function(n){return FZ(n).replace(/\./g,"")},KV=function(n){try{return YV.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VZ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HZ=()=>VZ().__FIREBASE_DEFAULTS__,jZ=()=>{if(typeof process>"u"||typeof HU>"u")return;const n=HU.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},GZ=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&KV(n[1]);return e&&JSON.parse(e)},vA=()=>{try{return kZ()||HZ()||jZ()||GZ()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},ZV=n=>{var e,t;return(t=(e=vA())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},qZ=n=>{const e=ZV(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},QV=()=>{var n;return(n=vA())===null||n===void 0?void 0:n.config},JV=n=>{var e;return(e=vA())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WZ{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v_(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function e8(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $Z(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[I2(JSON.stringify(t)),I2(JSON.stringify(a)),""].join(".")}const J1={};function XZ(){const n={prod:[],emulator:[]};for(const e of Object.keys(J1))J1[e]?n.emulator.push(e):n.prod.push(e);return n}function YZ(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let jU=!1;function t8(n,e){if(typeof window>"u"||typeof document>"u"||!v_(window.location.host)||J1[n]===e||J1[n]||jU)return;J1[n]=e;function t(y){return`__firebase__banner__${y}`}const i="__firebase__banner",s=XZ().prod.length>0;function a(){const y=document.getElementById(i);y&&y.remove()}function o(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function l(y,v){y.setAttribute("width","24"),y.setAttribute("id",v),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function u(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{jU=!0,a()},y}function h(y,v){y.setAttribute("id",v),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function p(){const y=YZ(i),v=t("text"),_=document.getElementById(v)||document.createElement("span"),x=t("learnmore"),E=document.getElementById(x)||document.createElement("a"),S=t("preprendIcon"),w=document.getElementById(S)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const C=y.element;o(C),h(E,x);const A=u();l(w,S),C.append(w,_,E,A),document.body.appendChild(C)}s?(_.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function no(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function KZ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(no())}function ZZ(){var n;const e=(n=vA())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QZ(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function JZ(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function eQ(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tQ(){const n=no();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function nQ(){return!ZZ()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function iQ(){try{return typeof indexedDB=="object"}catch{return!1}}function rQ(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sQ="FirebaseError";class ld extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=sQ,Object.setPrototypeOf(this,ld.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_S.prototype.create)}}class _S{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},r=`${this.service}/${e}`,s=this.errors[e],a=s?aQ(s,i):"Error",o=`${this.serviceName}: ${a} (${r}).`;return new ld(r,o,i)}}function aQ(n,e){return n.replace(oQ,(t,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const oQ=/\{\$([^}]+)}/g;function lQ(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Kg(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const r of t){if(!i.includes(r))return!1;const s=n[r],a=e[r];if(GU(s)&&GU(a)){if(!Kg(s,a))return!1}else if(s!==a)return!1}for(const r of i)if(!t.includes(r))return!1;return!0}function GU(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bS(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function cQ(n,e){const t=new uQ(n,e);return t.subscribe.bind(t)}class uQ{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");fQ(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=KR),r.error===void 0&&(r.error=KR),r.complete===void 0&&(r.complete=KR);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fQ(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function KR(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(n){return n&&n._delegate?n._delegate:n}class Zg{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _g="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hQ=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new WZ;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(pQ(e))try{this.getOrInitializeService({instanceIdentifier:_g})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=_g){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_g){return this.instances.has(e)}getOptions(e=_g){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);i===o&&a.resolve(r)}return r}onInit(e,t){var i;const r=this.normalizeInstanceIdentifier(t),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&e(a,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:dQ(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=_g){return this.component?this.component.multipleInstances?e:_g:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function dQ(n){return n===_g?void 0:n}function pQ(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mQ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new hQ(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var si;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(si||(si={}));const gQ={debug:si.DEBUG,verbose:si.VERBOSE,info:si.INFO,warn:si.WARN,error:si.ERROR,silent:si.SILENT},yQ=si.INFO,vQ={[si.DEBUG]:"log",[si.VERBOSE]:"log",[si.INFO]:"info",[si.WARN]:"warn",[si.ERROR]:"error"},_Q=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),r=vQ[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let UD=class{constructor(e){this.name=e,this._logLevel=yQ,this._logHandler=_Q,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in si))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?gQ[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,si.DEBUG,...e),this._logHandler(this,si.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,si.VERBOSE,...e),this._logHandler(this,si.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,si.INFO,...e),this._logHandler(this,si.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,si.WARN,...e),this._logHandler(this,si.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,si.ERROR,...e),this._logHandler(this,si.ERROR,...e)}};const bQ=(n,e)=>e.some(t=>n instanceof t);let qU,WU;function xQ(){return qU||(qU=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SQ(){return WU||(WU=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const n8=new WeakMap,EI=new WeakMap,i8=new WeakMap,ZR=new WeakMap,kD=new WeakMap;function EQ(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",s),n.removeEventListener("error",a)},s=()=>{t(Ap(n.result)),r()},a=()=>{i(n.error),r()};n.addEventListener("success",s),n.addEventListener("error",a)});return e.then(t=>{t instanceof IDBCursor&&n8.set(t,n)}).catch(()=>{}),kD.set(e,n),e}function TQ(n){if(EI.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",a),n.removeEventListener("abort",a)},s=()=>{t(),r()},a=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",s),n.addEventListener("error",a),n.addEventListener("abort",a)});EI.set(n,e)}let TI={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return EI.get(n);if(e==="objectStoreNames")return n.objectStoreNames||i8.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ap(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function wQ(n){TI=n(TI)}function CQ(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(QR(this),e,...t);return i8.set(i,e.sort?e.sort():[e]),Ap(i)}:SQ().includes(n)?function(...e){return n.apply(QR(this),e),Ap(n8.get(this))}:function(...e){return Ap(n.apply(QR(this),e))}}function AQ(n){return typeof n=="function"?CQ(n):(n instanceof IDBTransaction&&TQ(n),bQ(n,xQ())?new Proxy(n,TI):n)}function Ap(n){if(n instanceof IDBRequest)return EQ(n);if(ZR.has(n))return ZR.get(n);const e=AQ(n);return e!==n&&(ZR.set(n,e),kD.set(e,n)),e}const QR=n=>kD.get(n);function MQ(n,e,{blocked:t,upgrade:i,blocking:r,terminated:s}={}){const a=indexedDB.open(n,e),o=Ap(a);return i&&a.addEventListener("upgradeneeded",l=>{i(Ap(a.result),l.oldVersion,l.newVersion,Ap(a.transaction),l)}),t&&a.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",u=>r(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const RQ=["get","getKey","getAll","getAllKeys","count"],OQ=["put","add","delete","clear"],JR=new Map;function $U(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(JR.get(e))return JR.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=OQ.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||RQ.includes(t)))return;const s=async function(a,...o){const l=this.transaction(a,r?"readwrite":"readonly");let u=l.store;return i&&(u=u.index(o.shift())),(await Promise.all([u[t](...o),r&&l.done]))[0]};return JR.set(e,s),s}wQ(n=>({...n,get:(e,t,i)=>$U(e,t)||n.get(e,t,i),has:(e,t)=>!!$U(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IQ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(PQ(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function PQ(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const wI="@firebase/app",XU="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $h=new UD("@firebase/app"),DQ="@firebase/app-compat",NQ="@firebase/analytics-compat",LQ="@firebase/analytics",UQ="@firebase/app-check-compat",kQ="@firebase/app-check",zQ="@firebase/auth",BQ="@firebase/auth-compat",FQ="@firebase/database",VQ="@firebase/data-connect",HQ="@firebase/database-compat",jQ="@firebase/functions",GQ="@firebase/functions-compat",qQ="@firebase/installations",WQ="@firebase/installations-compat",$Q="@firebase/messaging",XQ="@firebase/messaging-compat",YQ="@firebase/performance",KQ="@firebase/performance-compat",ZQ="@firebase/remote-config",QQ="@firebase/remote-config-compat",JQ="@firebase/storage",eJ="@firebase/storage-compat",tJ="@firebase/firestore",nJ="@firebase/ai",iJ="@firebase/firestore-compat",rJ="firebase",sJ="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI="[DEFAULT]",aJ={[wI]:"fire-core",[DQ]:"fire-core-compat",[LQ]:"fire-analytics",[NQ]:"fire-analytics-compat",[kQ]:"fire-app-check",[UQ]:"fire-app-check-compat",[zQ]:"fire-auth",[BQ]:"fire-auth-compat",[FQ]:"fire-rtdb",[VQ]:"fire-data-connect",[HQ]:"fire-rtdb-compat",[jQ]:"fire-fn",[GQ]:"fire-fn-compat",[qQ]:"fire-iid",[WQ]:"fire-iid-compat",[$Q]:"fire-fcm",[XQ]:"fire-fcm-compat",[YQ]:"fire-perf",[KQ]:"fire-perf-compat",[ZQ]:"fire-rc",[QQ]:"fire-rc-compat",[JQ]:"fire-gcs",[eJ]:"fire-gcs-compat",[tJ]:"fire-fst",[iJ]:"fire-fst-compat",[nJ]:"fire-vertex","fire-js":"fire-js",[rJ]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2=new Map,oJ=new Map,AI=new Map;function YU(n,e){try{n.container.addComponent(e)}catch(t){$h.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function N0(n){const e=n.name;if(AI.has(e))return $h.debug(`There were multiple attempts to register component ${e}.`),!1;AI.set(e,n);for(const t of P2.values())YU(t,n);for(const t of oJ.values())YU(t,n);return!0}function zD(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function gf(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lJ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Mp=new _S("app","Firebase",lJ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cJ{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Zg("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Mp.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __=sJ;function r8(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:CI,automaticDataCollectionEnabled:!0},e),r=i.name;if(typeof r!="string"||!r)throw Mp.create("bad-app-name",{appName:String(r)});if(t||(t=QV()),!t)throw Mp.create("no-options");const s=P2.get(r);if(s){if(Kg(t,s.options)&&Kg(i,s.config))return s;throw Mp.create("duplicate-app",{appName:r})}const a=new mQ(r);for(const l of AI.values())a.addComponent(l);const o=new cJ(t,i,a);return P2.set(r,o),o}function s8(n=CI){const e=P2.get(n);if(!e&&n===CI&&QV())return r8();if(!e)throw Mp.create("no-app",{appName:n});return e}function Rp(n,e,t){var i;let r=(i=aJ[n])!==null&&i!==void 0?i:n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$h.warn(o.join(" "));return}N0(new Zg(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uJ="firebase-heartbeat-database",fJ=1,Rx="firebase-heartbeat-store";let eO=null;function a8(){return eO||(eO=MQ(uJ,fJ,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Rx)}catch(t){console.warn(t)}}}}).catch(n=>{throw Mp.create("idb-open",{originalErrorMessage:n.message})})),eO}async function hJ(n){try{const t=(await a8()).transaction(Rx),i=await t.objectStore(Rx).get(o8(n));return await t.done,i}catch(e){if(e instanceof ld)$h.warn(e.message);else{const t=Mp.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$h.warn(t.message)}}}async function KU(n,e){try{const i=(await a8()).transaction(Rx,"readwrite");await i.objectStore(Rx).put(e,o8(n)),await i.done}catch(t){if(t instanceof ld)$h.warn(t.message);else{const i=Mp.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});$h.warn(i.message)}}}function o8(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dJ=1024,pJ=30;class mJ{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new yJ(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=ZU();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>pJ){const a=vJ(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){$h.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=ZU(),{heartbeatsToSend:i,unsentEntries:r}=gJ(this._heartbeatsCache.heartbeats),s=I2(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return $h.warn(t),""}}}function ZU(){return new Date().toISOString().substring(0,10)}function gJ(n,e=dJ){const t=[];let i=n.slice();for(const r of n){const s=t.find(a=>a.agent===r.agent);if(s){if(s.dates.push(r.date),QU(t)>e){s.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),QU(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class yJ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iQ()?rQ().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await hJ(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const r=await this.read();return KU(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const r=await this.read();return KU(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function QU(n){return I2(JSON.stringify({version:2,heartbeats:n})).length}function vJ(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _J(n){N0(new Zg("platform-logger",e=>new IQ(e),"PRIVATE")),N0(new Zg("heartbeat",e=>new mJ(e),"PRIVATE")),Rp(wI,XU,n),Rp(wI,XU,"esm2017"),Rp("fire-js","")}_J("");var JU=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Op,l8;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,D){function P(){}P.prototype=D.prototype,I.D=D.prototype,I.prototype=new P,I.prototype.constructor=I,I.C=function(U,F,z){for(var V=Array(arguments.length-2),K=2;K<arguments.length;K++)V[K-2]=arguments[K];return D.prototype[F].apply(U,V)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(I,D,P){P||(P=0);var U=Array(16);if(typeof D=="string")for(var F=0;16>F;++F)U[F]=D.charCodeAt(P++)|D.charCodeAt(P++)<<8|D.charCodeAt(P++)<<16|D.charCodeAt(P++)<<24;else for(F=0;16>F;++F)U[F]=D[P++]|D[P++]<<8|D[P++]<<16|D[P++]<<24;D=I.g[0],P=I.g[1],F=I.g[2];var z=I.g[3],V=D+(z^P&(F^z))+U[0]+3614090360&4294967295;D=P+(V<<7&4294967295|V>>>25),V=z+(F^D&(P^F))+U[1]+3905402710&4294967295,z=D+(V<<12&4294967295|V>>>20),V=F+(P^z&(D^P))+U[2]+606105819&4294967295,F=z+(V<<17&4294967295|V>>>15),V=P+(D^F&(z^D))+U[3]+3250441966&4294967295,P=F+(V<<22&4294967295|V>>>10),V=D+(z^P&(F^z))+U[4]+4118548399&4294967295,D=P+(V<<7&4294967295|V>>>25),V=z+(F^D&(P^F))+U[5]+1200080426&4294967295,z=D+(V<<12&4294967295|V>>>20),V=F+(P^z&(D^P))+U[6]+2821735955&4294967295,F=z+(V<<17&4294967295|V>>>15),V=P+(D^F&(z^D))+U[7]+4249261313&4294967295,P=F+(V<<22&4294967295|V>>>10),V=D+(z^P&(F^z))+U[8]+1770035416&4294967295,D=P+(V<<7&4294967295|V>>>25),V=z+(F^D&(P^F))+U[9]+2336552879&4294967295,z=D+(V<<12&4294967295|V>>>20),V=F+(P^z&(D^P))+U[10]+4294925233&4294967295,F=z+(V<<17&4294967295|V>>>15),V=P+(D^F&(z^D))+U[11]+2304563134&4294967295,P=F+(V<<22&4294967295|V>>>10),V=D+(z^P&(F^z))+U[12]+1804603682&4294967295,D=P+(V<<7&4294967295|V>>>25),V=z+(F^D&(P^F))+U[13]+4254626195&4294967295,z=D+(V<<12&4294967295|V>>>20),V=F+(P^z&(D^P))+U[14]+2792965006&4294967295,F=z+(V<<17&4294967295|V>>>15),V=P+(D^F&(z^D))+U[15]+1236535329&4294967295,P=F+(V<<22&4294967295|V>>>10),V=D+(F^z&(P^F))+U[1]+4129170786&4294967295,D=P+(V<<5&4294967295|V>>>27),V=z+(P^F&(D^P))+U[6]+3225465664&4294967295,z=D+(V<<9&4294967295|V>>>23),V=F+(D^P&(z^D))+U[11]+643717713&4294967295,F=z+(V<<14&4294967295|V>>>18),V=P+(z^D&(F^z))+U[0]+3921069994&4294967295,P=F+(V<<20&4294967295|V>>>12),V=D+(F^z&(P^F))+U[5]+3593408605&4294967295,D=P+(V<<5&4294967295|V>>>27),V=z+(P^F&(D^P))+U[10]+38016083&4294967295,z=D+(V<<9&4294967295|V>>>23),V=F+(D^P&(z^D))+U[15]+3634488961&4294967295,F=z+(V<<14&4294967295|V>>>18),V=P+(z^D&(F^z))+U[4]+3889429448&4294967295,P=F+(V<<20&4294967295|V>>>12),V=D+(F^z&(P^F))+U[9]+568446438&4294967295,D=P+(V<<5&4294967295|V>>>27),V=z+(P^F&(D^P))+U[14]+3275163606&4294967295,z=D+(V<<9&4294967295|V>>>23),V=F+(D^P&(z^D))+U[3]+4107603335&4294967295,F=z+(V<<14&4294967295|V>>>18),V=P+(z^D&(F^z))+U[8]+1163531501&4294967295,P=F+(V<<20&4294967295|V>>>12),V=D+(F^z&(P^F))+U[13]+2850285829&4294967295,D=P+(V<<5&4294967295|V>>>27),V=z+(P^F&(D^P))+U[2]+4243563512&4294967295,z=D+(V<<9&4294967295|V>>>23),V=F+(D^P&(z^D))+U[7]+1735328473&4294967295,F=z+(V<<14&4294967295|V>>>18),V=P+(z^D&(F^z))+U[12]+2368359562&4294967295,P=F+(V<<20&4294967295|V>>>12),V=D+(P^F^z)+U[5]+4294588738&4294967295,D=P+(V<<4&4294967295|V>>>28),V=z+(D^P^F)+U[8]+2272392833&4294967295,z=D+(V<<11&4294967295|V>>>21),V=F+(z^D^P)+U[11]+1839030562&4294967295,F=z+(V<<16&4294967295|V>>>16),V=P+(F^z^D)+U[14]+4259657740&4294967295,P=F+(V<<23&4294967295|V>>>9),V=D+(P^F^z)+U[1]+2763975236&4294967295,D=P+(V<<4&4294967295|V>>>28),V=z+(D^P^F)+U[4]+1272893353&4294967295,z=D+(V<<11&4294967295|V>>>21),V=F+(z^D^P)+U[7]+4139469664&4294967295,F=z+(V<<16&4294967295|V>>>16),V=P+(F^z^D)+U[10]+3200236656&4294967295,P=F+(V<<23&4294967295|V>>>9),V=D+(P^F^z)+U[13]+681279174&4294967295,D=P+(V<<4&4294967295|V>>>28),V=z+(D^P^F)+U[0]+3936430074&4294967295,z=D+(V<<11&4294967295|V>>>21),V=F+(z^D^P)+U[3]+3572445317&4294967295,F=z+(V<<16&4294967295|V>>>16),V=P+(F^z^D)+U[6]+76029189&4294967295,P=F+(V<<23&4294967295|V>>>9),V=D+(P^F^z)+U[9]+3654602809&4294967295,D=P+(V<<4&4294967295|V>>>28),V=z+(D^P^F)+U[12]+3873151461&4294967295,z=D+(V<<11&4294967295|V>>>21),V=F+(z^D^P)+U[15]+530742520&4294967295,F=z+(V<<16&4294967295|V>>>16),V=P+(F^z^D)+U[2]+3299628645&4294967295,P=F+(V<<23&4294967295|V>>>9),V=D+(F^(P|~z))+U[0]+4096336452&4294967295,D=P+(V<<6&4294967295|V>>>26),V=z+(P^(D|~F))+U[7]+1126891415&4294967295,z=D+(V<<10&4294967295|V>>>22),V=F+(D^(z|~P))+U[14]+2878612391&4294967295,F=z+(V<<15&4294967295|V>>>17),V=P+(z^(F|~D))+U[5]+4237533241&4294967295,P=F+(V<<21&4294967295|V>>>11),V=D+(F^(P|~z))+U[12]+1700485571&4294967295,D=P+(V<<6&4294967295|V>>>26),V=z+(P^(D|~F))+U[3]+2399980690&4294967295,z=D+(V<<10&4294967295|V>>>22),V=F+(D^(z|~P))+U[10]+4293915773&4294967295,F=z+(V<<15&4294967295|V>>>17),V=P+(z^(F|~D))+U[1]+2240044497&4294967295,P=F+(V<<21&4294967295|V>>>11),V=D+(F^(P|~z))+U[8]+1873313359&4294967295,D=P+(V<<6&4294967295|V>>>26),V=z+(P^(D|~F))+U[15]+4264355552&4294967295,z=D+(V<<10&4294967295|V>>>22),V=F+(D^(z|~P))+U[6]+2734768916&4294967295,F=z+(V<<15&4294967295|V>>>17),V=P+(z^(F|~D))+U[13]+1309151649&4294967295,P=F+(V<<21&4294967295|V>>>11),V=D+(F^(P|~z))+U[4]+4149444226&4294967295,D=P+(V<<6&4294967295|V>>>26),V=z+(P^(D|~F))+U[11]+3174756917&4294967295,z=D+(V<<10&4294967295|V>>>22),V=F+(D^(z|~P))+U[2]+718787259&4294967295,F=z+(V<<15&4294967295|V>>>17),V=P+(z^(F|~D))+U[9]+3951481745&4294967295,I.g[0]=I.g[0]+D&4294967295,I.g[1]=I.g[1]+(F+(V<<21&4294967295|V>>>11))&4294967295,I.g[2]=I.g[2]+F&4294967295,I.g[3]=I.g[3]+z&4294967295}i.prototype.u=function(I,D){D===void 0&&(D=I.length);for(var P=D-this.blockSize,U=this.B,F=this.h,z=0;z<D;){if(F==0)for(;z<=P;)r(this,I,z),z+=this.blockSize;if(typeof I=="string"){for(;z<D;)if(U[F++]=I.charCodeAt(z++),F==this.blockSize){r(this,U),F=0;break}}else for(;z<D;)if(U[F++]=I[z++],F==this.blockSize){r(this,U),F=0;break}}this.h=F,this.o+=D},i.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var D=1;D<I.length-8;++D)I[D]=0;var P=8*this.o;for(D=I.length-8;D<I.length;++D)I[D]=P&255,P/=256;for(this.u(I),I=Array(16),D=P=0;4>D;++D)for(var U=0;32>U;U+=8)I[P++]=this.g[D]>>>U&255;return I};function s(I,D){var P=o;return Object.prototype.hasOwnProperty.call(P,I)?P[I]:P[I]=D(I)}function a(I,D){this.h=D;for(var P=[],U=!0,F=I.length-1;0<=F;F--){var z=I[F]|0;U&&z==D||(P[F]=z,U=!1)}this.g=P}var o={};function l(I){return-128<=I&&128>I?s(I,function(D){return new a([D|0],0>D?-1:0)}):new a([I|0],0>I?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return p;if(0>I)return E(u(-I));for(var D=[],P=1,U=0;I>=P;U++)D[U]=I/P|0,P*=4294967296;return new a(D,0)}function h(I,D){if(I.length==0)throw Error("number format error: empty string");if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(I.charAt(0)=="-")return E(h(I.substring(1),D));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=u(Math.pow(D,8)),U=p,F=0;F<I.length;F+=8){var z=Math.min(8,I.length-F),V=parseInt(I.substring(F,F+z),D);8>z?(z=u(Math.pow(D,z)),U=U.j(z).add(u(V))):(U=U.j(P),U=U.add(u(V)))}return U}var p=l(0),y=l(1),v=l(16777216);n=a.prototype,n.m=function(){if(x(this))return-E(this).m();for(var I=0,D=1,P=0;P<this.g.length;P++){var U=this.i(P);I+=(0<=U?U:4294967296+U)*D,D*=4294967296}return I},n.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(_(this))return"0";if(x(this))return"-"+E(this).toString(I);for(var D=u(Math.pow(I,6)),P=this,U="";;){var F=A(P,D).g;P=S(P,F.j(D));var z=((0<P.g.length?P.g[0]:P.h)>>>0).toString(I);if(P=F,_(P))return z+U;for(;6>z.length;)z="0"+z;U=z+U}},n.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function _(I){if(I.h!=0)return!1;for(var D=0;D<I.g.length;D++)if(I.g[D]!=0)return!1;return!0}function x(I){return I.h==-1}n.l=function(I){return I=S(this,I),x(I)?-1:_(I)?0:1};function E(I){for(var D=I.g.length,P=[],U=0;U<D;U++)P[U]=~I.g[U];return new a(P,~I.h).add(y)}n.abs=function(){return x(this)?E(this):this},n.add=function(I){for(var D=Math.max(this.g.length,I.g.length),P=[],U=0,F=0;F<=D;F++){var z=U+(this.i(F)&65535)+(I.i(F)&65535),V=(z>>>16)+(this.i(F)>>>16)+(I.i(F)>>>16);U=V>>>16,z&=65535,V&=65535,P[F]=V<<16|z}return new a(P,P[P.length-1]&-2147483648?-1:0)};function S(I,D){return I.add(E(D))}n.j=function(I){if(_(this)||_(I))return p;if(x(this))return x(I)?E(this).j(E(I)):E(E(this).j(I));if(x(I))return E(this.j(E(I)));if(0>this.l(v)&&0>I.l(v))return u(this.m()*I.m());for(var D=this.g.length+I.g.length,P=[],U=0;U<2*D;U++)P[U]=0;for(U=0;U<this.g.length;U++)for(var F=0;F<I.g.length;F++){var z=this.i(U)>>>16,V=this.i(U)&65535,K=I.i(F)>>>16,J=I.i(F)&65535;P[2*U+2*F]+=V*J,w(P,2*U+2*F),P[2*U+2*F+1]+=z*J,w(P,2*U+2*F+1),P[2*U+2*F+1]+=V*K,w(P,2*U+2*F+1),P[2*U+2*F+2]+=z*K,w(P,2*U+2*F+2)}for(U=0;U<D;U++)P[U]=P[2*U+1]<<16|P[2*U];for(U=D;U<2*D;U++)P[U]=0;return new a(P,0)};function w(I,D){for(;(I[D]&65535)!=I[D];)I[D+1]+=I[D]>>>16,I[D]&=65535,D++}function C(I,D){this.g=I,this.h=D}function A(I,D){if(_(D))throw Error("division by zero");if(_(I))return new C(p,p);if(x(I))return D=A(E(I),D),new C(E(D.g),E(D.h));if(x(D))return D=A(I,E(D)),new C(E(D.g),D.h);if(30<I.g.length){if(x(I)||x(D))throw Error("slowDivide_ only works with positive integers.");for(var P=y,U=D;0>=U.l(I);)P=N(P),U=N(U);var F=L(P,1),z=L(U,1);for(U=L(U,2),P=L(P,2);!_(U);){var V=z.add(U);0>=V.l(I)&&(F=F.add(P),z=V),U=L(U,1),P=L(P,1)}return D=S(I,F.j(D)),new C(F,D)}for(F=p;0<=I.l(D);){for(P=Math.max(1,Math.floor(I.m()/D.m())),U=Math.ceil(Math.log(P)/Math.LN2),U=48>=U?1:Math.pow(2,U-48),z=u(P),V=z.j(D);x(V)||0<V.l(I);)P-=U,z=u(P),V=z.j(D);_(z)&&(z=y),F=F.add(z),I=S(I,V)}return new C(F,I)}n.A=function(I){return A(this,I).h},n.and=function(I){for(var D=Math.max(this.g.length,I.g.length),P=[],U=0;U<D;U++)P[U]=this.i(U)&I.i(U);return new a(P,this.h&I.h)},n.or=function(I){for(var D=Math.max(this.g.length,I.g.length),P=[],U=0;U<D;U++)P[U]=this.i(U)|I.i(U);return new a(P,this.h|I.h)},n.xor=function(I){for(var D=Math.max(this.g.length,I.g.length),P=[],U=0;U<D;U++)P[U]=this.i(U)^I.i(U);return new a(P,this.h^I.h)};function N(I){for(var D=I.g.length+1,P=[],U=0;U<D;U++)P[U]=I.i(U)<<1|I.i(U-1)>>>31;return new a(P,I.h)}function L(I,D){var P=D>>5;D%=32;for(var U=I.g.length-P,F=[],z=0;z<U;z++)F[z]=0<D?I.i(z+P)>>>D|I.i(z+P+1)<<32-D:I.i(z+P);return new a(F,I.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,l8=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=h,Op=a}).apply(typeof JU<"u"?JU:typeof self<"u"?self:typeof window<"u"?window:{});var hT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var c8,N1,u8,e2,MI,f8,h8,d8;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(M,j,X){return M==Array.prototype||M==Object.prototype||(M[j]=X.value),M};function t(M){M=[typeof globalThis=="object"&&globalThis,M,typeof window=="object"&&window,typeof self=="object"&&self,typeof hT=="object"&&hT];for(var j=0;j<M.length;++j){var X=M[j];if(X&&X.Math==Math)return X}throw Error("Cannot find global object")}var i=t(this);function r(M,j){if(j)e:{var X=i;M=M.split(".");for(var ce=0;ce<M.length-1;ce++){var Te=M[ce];if(!(Te in X))break e;X=X[Te]}M=M[M.length-1],ce=X[M],j=j(ce),j!=ce&&j!=null&&e(X,M,{configurable:!0,writable:!0,value:j})}}function s(M,j){M instanceof String&&(M+="");var X=0,ce=!1,Te={next:function(){if(!ce&&X<M.length){var qe=X++;return{value:j(qe,M[qe]),done:!1}}return ce=!0,{done:!0,value:void 0}}};return Te[Symbol.iterator]=function(){return Te},Te}r("Array.prototype.values",function(M){return M||function(){return s(this,function(j,X){return X})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(M){var j=typeof M;return j=j!="object"?j:M?Array.isArray(M)?"array":j:"null",j=="array"||j=="object"&&typeof M.length=="number"}function u(M){var j=typeof M;return j=="object"&&M!=null||j=="function"}function h(M,j,X){return M.call.apply(M.bind,arguments)}function p(M,j,X){if(!M)throw Error();if(2<arguments.length){var ce=Array.prototype.slice.call(arguments,2);return function(){var Te=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Te,ce),M.apply(j,Te)}}return function(){return M.apply(j,arguments)}}function y(M,j,X){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,y.apply(null,arguments)}function v(M,j){var X=Array.prototype.slice.call(arguments,1);return function(){var ce=X.slice();return ce.push.apply(ce,arguments),M.apply(this,ce)}}function _(M,j){function X(){}X.prototype=j.prototype,M.aa=j.prototype,M.prototype=new X,M.prototype.constructor=M,M.Qb=function(ce,Te,qe){for(var Tt=Array(arguments.length-2),di=2;di<arguments.length;di++)Tt[di-2]=arguments[di];return j.prototype[Te].apply(ce,Tt)}}function x(M){const j=M.length;if(0<j){const X=Array(j);for(let ce=0;ce<j;ce++)X[ce]=M[ce];return X}return[]}function E(M,j){for(let X=1;X<arguments.length;X++){const ce=arguments[X];if(l(ce)){const Te=M.length||0,qe=ce.length||0;M.length=Te+qe;for(let Tt=0;Tt<qe;Tt++)M[Te+Tt]=ce[Tt]}else M.push(ce)}}class S{constructor(j,X){this.i=j,this.j=X,this.h=0,this.g=null}get(){let j;return 0<this.h?(this.h--,j=this.g,this.g=j.next,j.next=null):j=this.i(),j}}function w(M){return/^[\s\xa0]*$/.test(M)}function C(){var M=o.navigator;return M&&(M=M.userAgent)?M:""}function A(M){return A[" "](M),M}A[" "]=function(){};var N=C().indexOf("Gecko")!=-1&&!(C().toLowerCase().indexOf("webkit")!=-1&&C().indexOf("Edge")==-1)&&!(C().indexOf("Trident")!=-1||C().indexOf("MSIE")!=-1)&&C().indexOf("Edge")==-1;function L(M,j,X){for(const ce in M)j.call(X,M[ce],ce,M)}function I(M,j){for(const X in M)j.call(void 0,M[X],X,M)}function D(M){const j={};for(const X in M)j[X]=M[X];return j}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(M,j){let X,ce;for(let Te=1;Te<arguments.length;Te++){ce=arguments[Te];for(X in ce)M[X]=ce[X];for(let qe=0;qe<P.length;qe++)X=P[qe],Object.prototype.hasOwnProperty.call(ce,X)&&(M[X]=ce[X])}}function F(M){var j=1;M=M.split(":");const X=[];for(;0<j&&M.length;)X.push(M.shift()),j--;return M.length&&X.push(M.join(":")),X}function z(M){o.setTimeout(()=>{throw M},0)}function V(){var M=re;let j=null;return M.g&&(j=M.g,M.g=M.g.next,M.g||(M.h=null),j.next=null),j}class K{constructor(){this.h=this.g=null}add(j,X){const ce=J.get();ce.set(j,X),this.h?this.h.next=ce:this.g=ce,this.h=ce}}var J=new S(()=>new q,M=>M.reset());class q{constructor(){this.next=this.g=this.h=null}set(j,X){this.h=j,this.g=X,this.next=null}reset(){this.next=this.g=this.h=null}}let W,Q=!1,re=new K,pe=()=>{const M=o.Promise.resolve(void 0);W=()=>{M.then(Y)}};var Y=()=>{for(var M;M=V();){try{M.h.call(M.g)}catch(X){z(X)}var j=J;j.j(M),100>j.h&&(j.h++,M.next=j.g,j.g=M)}Q=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function de(M,j){this.type=M,this.g=this.target=j,this.defaultPrevented=!1}de.prototype.h=function(){this.defaultPrevented=!0};var ue=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var M=!1,j=Object.defineProperty({},"passive",{get:function(){M=!0}});try{const X=()=>{};o.addEventListener("test",X,j),o.removeEventListener("test",X,j)}catch{}return M})();function ne(M,j){if(de.call(this,M?M.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,M){var X=this.type=M.type,ce=M.changedTouches&&M.changedTouches.length?M.changedTouches[0]:null;if(this.target=M.target||M.srcElement,this.g=j,j=M.relatedTarget){if(N){e:{try{A(j.nodeName);var Te=!0;break e}catch{}Te=!1}Te||(j=null)}}else X=="mouseover"?j=M.fromElement:X=="mouseout"&&(j=M.toElement);this.relatedTarget=j,ce?(this.clientX=ce.clientX!==void 0?ce.clientX:ce.pageX,this.clientY=ce.clientY!==void 0?ce.clientY:ce.pageY,this.screenX=ce.screenX||0,this.screenY=ce.screenY||0):(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0),this.button=M.button,this.key=M.key||"",this.ctrlKey=M.ctrlKey,this.altKey=M.altKey,this.shiftKey=M.shiftKey,this.metaKey=M.metaKey,this.pointerId=M.pointerId||0,this.pointerType=typeof M.pointerType=="string"?M.pointerType:he[M.pointerType]||"",this.state=M.state,this.i=M,M.defaultPrevented&&ne.aa.h.call(this)}}_(ne,de);var he={2:"touch",3:"pen",4:"mouse"};ne.prototype.h=function(){ne.aa.h.call(this);var M=this.i;M.preventDefault?M.preventDefault():M.returnValue=!1};var me="closure_listenable_"+(1e6*Math.random()|0),Le=0;function Ye(M,j,X,ce,Te){this.listener=M,this.proxy=null,this.src=j,this.type=X,this.capture=!!ce,this.ha=Te,this.key=++Le,this.da=this.fa=!1}function je(M){M.da=!0,M.listener=null,M.proxy=null,M.src=null,M.ha=null}function rt(M){this.src=M,this.g={},this.h=0}rt.prototype.add=function(M,j,X,ce,Te){var qe=M.toString();M=this.g[qe],M||(M=this.g[qe]=[],this.h++);var Tt=dt(M,j,ce,Te);return-1<Tt?(j=M[Tt],X||(j.fa=!1)):(j=new Ye(j,this.src,qe,!!ce,Te),j.fa=X,M.push(j)),j};function ot(M,j){var X=j.type;if(X in M.g){var ce=M.g[X],Te=Array.prototype.indexOf.call(ce,j,void 0),qe;(qe=0<=Te)&&Array.prototype.splice.call(ce,Te,1),qe&&(je(j),M.g[X].length==0&&(delete M.g[X],M.h--))}}function dt(M,j,X,ce){for(var Te=0;Te<M.length;++Te){var qe=M[Te];if(!qe.da&&qe.listener==j&&qe.capture==!!X&&qe.ha==ce)return Te}return-1}var te="closure_lm_"+(1e6*Math.random()|0),Ie={};function Ve(M,j,X,ce,Te){if(Array.isArray(j)){for(var qe=0;qe<j.length;qe++)Ve(M,j[qe],X,ce,Te);return null}return X=Qe(X),M&&M[me]?M.K(j,X,u(ce)?!!ce.capture:!1,Te):Ue(M,j,X,!1,ce,Te)}function Ue(M,j,X,ce,Te,qe){if(!j)throw Error("Invalid event type");var Tt=u(Te)?!!Te.capture:!!Te,di=Ee(M);if(di||(M[te]=di=new rt(M)),X=di.add(j,X,ce,Tt,qe),X.proxy)return X;if(ce=Re(),X.proxy=ce,ce.src=M,ce.listener=X,M.addEventListener)ue||(Te=Tt),Te===void 0&&(Te=!1),M.addEventListener(j.toString(),ce,Te);else if(M.attachEvent)M.attachEvent(ae(j.toString()),ce);else if(M.addListener&&M.removeListener)M.addListener(ce);else throw Error("addEventListener and attachEvent are unavailable.");return X}function Re(){function M(X){return j.call(M.src,M.listener,X)}const j=ee;return M}function ut(M,j,X,ce,Te){if(Array.isArray(j))for(var qe=0;qe<j.length;qe++)ut(M,j[qe],X,ce,Te);else ce=u(ce)?!!ce.capture:!!ce,X=Qe(X),M&&M[me]?(M=M.i,j=String(j).toString(),j in M.g&&(qe=M.g[j],X=dt(qe,X,ce,Te),-1<X&&(je(qe[X]),Array.prototype.splice.call(qe,X,1),qe.length==0&&(delete M.g[j],M.h--)))):M&&(M=Ee(M))&&(j=M.g[j.toString()],M=-1,j&&(M=dt(j,X,ce,Te)),(X=-1<M?j[M]:null)&&We(X))}function We(M){if(typeof M!="number"&&M&&!M.da){var j=M.src;if(j&&j[me])ot(j.i,M);else{var X=M.type,ce=M.proxy;j.removeEventListener?j.removeEventListener(X,ce,M.capture):j.detachEvent?j.detachEvent(ae(X),ce):j.addListener&&j.removeListener&&j.removeListener(ce),(X=Ee(j))?(ot(X,M),X.h==0&&(X.src=null,j[te]=null)):je(M)}}}function ae(M){return M in Ie?Ie[M]:Ie[M]="on"+M}function ee(M,j){if(M.da)M=!0;else{j=new ne(j,this);var X=M.listener,ce=M.ha||M.src;M.fa&&We(M),M=X.call(ce,j)}return M}function Ee(M){return M=M[te],M instanceof rt?M:null}var Me="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qe(M){return typeof M=="function"?M:(M[Me]||(M[Me]=function(j){return M.handleEvent(j)}),M[Me])}function Oe(){le.call(this),this.i=new rt(this),this.M=this,this.F=null}_(Oe,le),Oe.prototype[me]=!0,Oe.prototype.removeEventListener=function(M,j,X,ce){ut(this,M,j,X,ce)};function ct(M,j){var X,ce=M.F;if(ce)for(X=[];ce;ce=ce.F)X.push(ce);if(M=M.M,ce=j.type||j,typeof j=="string")j=new de(j,M);else if(j instanceof de)j.target=j.target||M;else{var Te=j;j=new de(ce,M),U(j,Te)}if(Te=!0,X)for(var qe=X.length-1;0<=qe;qe--){var Tt=j.g=X[qe];Te=lt(Tt,ce,!0,j)&&Te}if(Tt=j.g=M,Te=lt(Tt,ce,!0,j)&&Te,Te=lt(Tt,ce,!1,j)&&Te,X)for(qe=0;qe<X.length;qe++)Tt=j.g=X[qe],Te=lt(Tt,ce,!1,j)&&Te}Oe.prototype.N=function(){if(Oe.aa.N.call(this),this.i){var M=this.i,j;for(j in M.g){for(var X=M.g[j],ce=0;ce<X.length;ce++)je(X[ce]);delete M.g[j],M.h--}}this.F=null},Oe.prototype.K=function(M,j,X,ce){return this.i.add(String(M),j,!1,X,ce)},Oe.prototype.L=function(M,j,X,ce){return this.i.add(String(M),j,!0,X,ce)};function lt(M,j,X,ce){if(j=M.i.g[String(j)],!j)return!0;j=j.concat();for(var Te=!0,qe=0;qe<j.length;++qe){var Tt=j[qe];if(Tt&&!Tt.da&&Tt.capture==X){var di=Tt.listener,sr=Tt.ha||Tt.src;Tt.fa&&ot(M.i,Tt),Te=di.call(sr,ce)!==!1&&Te}}return Te&&!ce.defaultPrevented}function Dt(M,j,X){if(typeof M=="function")X&&(M=y(M,X));else if(M&&typeof M.handleEvent=="function")M=y(M.handleEvent,M);else throw Error("Invalid listener argument");return 2147483647<Number(j)?-1:o.setTimeout(M,j||0)}function Ut(M){M.g=Dt(()=>{M.g=null,M.i&&(M.i=!1,Ut(M))},M.l);const j=M.h;M.h=null,M.m.apply(null,j)}class Xe extends le{constructor(j,X){super(),this.m=j,this.l=X,this.h=null,this.i=!1,this.g=null}j(j){this.h=arguments,this.g?this.i=!0:Ut(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mt(M){le.call(this),this.h=M,this.g={}}_(mt,le);var At=[];function xt(M){L(M.g,function(j,X){this.g.hasOwnProperty(X)&&We(j)},M),M.g={}}mt.prototype.N=function(){mt.aa.N.call(this),xt(this)},mt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _t=o.JSON.stringify,Ht=o.JSON.parse,Qt=class{stringify(M){return o.JSON.stringify(M,void 0)}parse(M){return o.JSON.parse(M,void 0)}};function pn(){}pn.prototype.h=null;function be(M){return M.h||(M.h=M.i())}function St(){}var xe={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function He(){de.call(this,"d")}_(He,de);function st(){de.call(this,"c")}_(st,de);var pt={},qt=null;function Xn(){return qt=qt||new Oe}pt.La="serverreachability";function kt(M){de.call(this,pt.La,M)}_(kt,de);function $t(M){const j=Xn();ct(j,new kt(j))}pt.STAT_EVENT="statevent";function vt(M,j){de.call(this,pt.STAT_EVENT,M),this.stat=j}_(vt,de);function Et(M){const j=Xn();ct(j,new vt(j,M))}pt.Ma="timingevent";function Tn(M,j){de.call(this,pt.Ma,M),this.size=j}_(Tn,de);function _n(M,j){if(typeof M!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){M()},j)}function In(){this.g=!0}In.prototype.xa=function(){this.g=!1};function ki(M,j,X,ce,Te,qe){M.info(function(){if(M.g)if(qe)for(var Tt="",di=qe.split("&"),sr=0;sr<di.length;sr++){var Pn=di[sr].split("=");if(1<Pn.length){var Ar=Pn[0];Pn=Pn[1];var as=Ar.split("_");Tt=2<=as.length&&as[1]=="type"?Tt+(Ar+"="+Pn+"&"):Tt+(Ar+"=redacted&")}}else Tt=null;else Tt=qe;return"XMLHTTP REQ ("+ce+") [attempt "+Te+"]: "+j+`
`+X+`
`+Tt})}function Is(M,j,X,ce,Te,qe,Tt){M.info(function(){return"XMLHTTP RESP ("+ce+") [ attempt "+Te+"]: "+j+`
`+X+`
`+qe+" "+Tt})}function Ki(M,j,X,ce){M.info(function(){return"XMLHTTP TEXT ("+j+"): "+Gr(M,X)+(ce?" "+ce:"")})}function jr(M,j){M.info(function(){return"TIMEOUT: "+j})}In.prototype.info=function(){};function Gr(M,j){if(!M.g)return j;if(!j)return null;try{var X=JSON.parse(j);if(X){for(M=0;M<X.length;M++)if(Array.isArray(X[M])){var ce=X[M];if(!(2>ce.length)){var Te=ce[1];if(Array.isArray(Te)&&!(1>Te.length)){var qe=Te[0];if(qe!="noop"&&qe!="stop"&&qe!="close")for(var Tt=1;Tt<Te.length;Tt++)Te[Tt]=""}}}}return _t(X)}catch{return j}}var mn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},dr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},la;function hl(){}_(hl,pn),hl.prototype.g=function(){return new XMLHttpRequest},hl.prototype.i=function(){return{}},la=new hl;function so(M,j,X,ce){this.j=M,this.i=j,this.l=X,this.R=ce||1,this.U=new mt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ud}function ud(){this.i=null,this.g="",this.h=!1}var Lc={},ao={};function dl(M,j,X){M.L=1,M.v=cr(Ri(j)),M.m=X,M.P=!0,se(M,null)}function se(M,j){M.F=Date.now(),Ne(M),M.A=Ri(M.v);var X=M.A,ce=M.R;Array.isArray(ce)||(ce=[String(ce)]),Gl(X.i,"t",ce),M.C=0,X=M.j.J,M.h=new ud,M.g=zo(M.j,X?j:null,!M.m),0<M.O&&(M.M=new Xe(y(M.Y,M,M.g),M.O)),j=M.U,X=M.g,ce=M.ca;var Te="readystatechange";Array.isArray(Te)||(Te&&(At[0]=Te.toString()),Te=At);for(var qe=0;qe<Te.length;qe++){var Tt=Ve(X,Te[qe],ce||j.handleEvent,!1,j.h||j);if(!Tt)break;j.g[Tt.key]=Tt}j=M.H?D(M.H):{},M.m?(M.u||(M.u="POST"),j["Content-Type"]="application/x-www-form-urlencoded",M.g.ea(M.A,M.u,M.m,j)):(M.u="GET",M.g.ea(M.A,M.u,null,j)),$t(),ki(M.i,M.u,M.A,M.l,M.R,M.m)}so.prototype.ca=function(M){M=M.target;const j=this.M;j&&js(M)==3?j.j():this.Y(M)},so.prototype.Y=function(M){try{if(M==this.g)e:{const as=js(this.g);var j=this.g.Ba();const Wr=this.g.Z();if(!(3>as)&&(as!=3||this.g&&(this.h.h||this.g.oa()||Ou(this.g)))){this.J||as!=4||j==7||(j==8||0>=Wr?$t(3):$t(2)),at(this);var X=this.g.Z();this.X=X;t:if(ve(this)){var ce=Ou(this.g);M="";var Te=ce.length,qe=js(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Mt(this),wt(this);var Tt="";break t}this.h.i=new o.TextDecoder}for(j=0;j<Te;j++)this.h.h=!0,M+=this.h.i.decode(ce[j],{stream:!(qe&&j==Te-1)});ce.length=0,this.h.g+=M,this.C=0,Tt=this.h.g}else Tt=this.g.oa();if(this.o=X==200,Is(this.i,this.u,this.A,this.l,this.R,as,X),this.o){if(this.T&&!this.K){t:{if(this.g){var di,sr=this.g;if((di=sr.g?sr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(di)){var Pn=di;break t}}Pn=null}if(X=Pn)Ki(this.i,this.l,X,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Rt(this,X);else{this.o=!1,this.s=3,Et(12),Mt(this),wt(this);break e}}if(this.P){X=!0;let fa;for(;!this.J&&this.C<Tt.length;)if(fa=ke(this,Tt),fa==ao){as==4&&(this.s=4,Et(14),X=!1),Ki(this.i,this.l,null,"[Incomplete Response]");break}else if(fa==Lc){this.s=4,Et(15),Ki(this.i,this.l,Tt,"[Invalid Chunk]"),X=!1;break}else Ki(this.i,this.l,fa,null),Rt(this,fa);if(ve(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),as!=4||Tt.length!=0||this.h.h||(this.s=1,Et(16),X=!1),this.o=this.o&&X,!X)Ki(this.i,this.l,Tt,"[Invalid Chunked Response]"),Mt(this),wt(this);else if(0<Tt.length&&!this.W){this.W=!0;var Ar=this.j;Ar.g==this&&Ar.ba&&!Ar.M&&(Ar.j.info("Great, no buffering proxy detected. Bytes received: "+Tt.length),qf(Ar),Ar.M=!0,Et(11))}}else Ki(this.i,this.l,Tt,null),Rt(this,Tt);as==4&&Mt(this),this.o&&!this.J&&(as==4?yd(this.j,this):(this.o=!1,Ne(this)))}else Sy(this.g),X==400&&0<Tt.indexOf("Unknown SID")?(this.s=3,Et(12)):(this.s=0,Et(13)),Mt(this),wt(this)}}}catch{}finally{}};function ve(M){return M.g?M.u=="GET"&&M.L!=2&&M.j.Ca:!1}function ke(M,j){var X=M.C,ce=j.indexOf(`
`,X);return ce==-1?ao:(X=Number(j.substring(X,ce)),isNaN(X)?Lc:(ce+=1,ce+X>j.length?ao:(j=j.slice(ce,ce+X),M.C=ce+X,j)))}so.prototype.cancel=function(){this.J=!0,Mt(this)};function Ne(M){M.S=Date.now()+M.I,Se(M,M.I)}function Se(M,j){if(M.B!=null)throw Error("WatchDog timer not null");M.B=_n(y(M.ba,M),j)}function at(M){M.B&&(o.clearTimeout(M.B),M.B=null)}so.prototype.ba=function(){this.B=null;const M=Date.now();0<=M-this.S?(jr(this.i,this.A),this.L!=2&&($t(),Et(17)),Mt(this),this.s=2,wt(this)):Se(this,this.S-M)};function wt(M){M.j.G==0||M.J||yd(M.j,M)}function Mt(M){at(M);var j=M.M;j&&typeof j.ma=="function"&&j.ma(),M.M=null,xt(M.U),M.g&&(j=M.g,M.g=null,j.abort(),j.ma())}function Rt(M,j){try{var X=M.j;if(X.G!=0&&(X.g==M||zn(X.h,M))){if(!M.K&&zn(X.h,M)&&X.G==3){try{var ce=X.Da.g.parse(j)}catch{ce=null}if(Array.isArray(ce)&&ce.length==3){var Te=ce;if(Te[0]==0){e:if(!X.u){if(X.g)if(X.g.F+3e3<M.F)Yl(X),zc(X);else break e;Gf(X),Et(18)}}else X.za=Te[1],0<X.za-X.T&&37500>Te[2]&&X.F&&X.v==0&&!X.C&&(X.C=_n(y(X.Za,X),6e3));if(1>=Fn(X.h)&&X.ca){try{X.ca()}catch{}X.ca=void 0}}else Kl(X,11)}else if((M.K||X.g==M)&&Yl(X),!w(j))for(Te=X.Da.g.parse(j),j=0;j<Te.length;j++){let Pn=Te[j];if(X.T=Pn[0],Pn=Pn[1],X.G==2)if(Pn[0]=="c"){X.K=Pn[1],X.ia=Pn[2];const Ar=Pn[3];Ar!=null&&(X.la=Ar,X.j.info("VER="+X.la));const as=Pn[4];as!=null&&(X.Aa=as,X.j.info("SVER="+X.Aa));const Wr=Pn[5];Wr!=null&&typeof Wr=="number"&&0<Wr&&(ce=1.5*Wr,X.L=ce,X.j.info("backChannelRequestTimeoutMs_="+ce)),ce=X;const fa=M.g;if(fa){const Bc=fa.g?fa.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bc){var qe=ce.h;qe.g||Bc.indexOf("spdy")==-1&&Bc.indexOf("quic")==-1&&Bc.indexOf("h2")==-1||(qe.j=qe.l,qe.g=new Set,qe.h&&(Si(qe,qe.h),qe.h=null))}if(ce.D){const Ql=fa.g?fa.g.getResponseHeader("X-HTTP-Session-Id"):null;Ql&&(ce.ya=Ql,cn(ce.I,ce.D,Ql))}}X.G=3,X.l&&X.l.ua(),X.ba&&(X.R=Date.now()-M.F,X.j.info("Handshake RTT: "+X.R+"ms")),ce=X;var Tt=M;if(ce.qa=pm(ce,ce.J?ce.ia:null,ce.W),Tt.K){$n(ce.h,Tt);var di=Tt,sr=ce.L;sr&&(di.I=sr),di.B&&(at(di),Ne(di)),ce.g=Tt}else hm(ce);0<X.i.length&&Hf(X)}else Pn[0]!="stop"&&Pn[0]!="close"||Kl(X,7);else X.G==3&&(Pn[0]=="stop"||Pn[0]=="close"?Pn[0]=="stop"?Kl(X,7):pd(X):Pn[0]!="noop"&&X.l&&X.l.ta(Pn),X.v=0)}}$t(4)}catch{}}var sn=class{constructor(M,j){this.g=M,this.map=j}};function Jt(M){this.l=M||10,o.PerformanceNavigationTiming?(M=o.performance.getEntriesByType("navigation"),M=0<M.length&&(M[0].nextHopProtocol=="hq"||M[0].nextHopProtocol=="h2")):M=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=M?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function jt(M){return M.h?!0:M.g?M.g.size>=M.j:!1}function Fn(M){return M.h?1:M.g?M.g.size:0}function zn(M,j){return M.h?M.h==j:M.g?M.g.has(j):!1}function Si(M,j){M.g?M.g.add(j):M.h=j}function $n(M,j){M.h&&M.h==j?M.h=null:M.g&&M.g.has(j)&&M.g.delete(j)}Jt.prototype.cancel=function(){if(this.i=on(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const M of this.g.values())M.cancel();this.g.clear()}};function on(M){if(M.h!=null)return M.i.concat(M.h.D);if(M.g!=null&&M.g.size!==0){let j=M.i;for(const X of M.g.values())j=j.concat(X.D);return j}return x(M.i)}function Xt(M){if(M.V&&typeof M.V=="function")return M.V();if(typeof Map<"u"&&M instanceof Map||typeof Set<"u"&&M instanceof Set)return Array.from(M.values());if(typeof M=="string")return M.split("");if(l(M)){for(var j=[],X=M.length,ce=0;ce<X;ce++)j.push(M[ce]);return j}j=[],X=0;for(ce in M)j[X++]=M[ce];return j}function pr(M){if(M.na&&typeof M.na=="function")return M.na();if(!M.V||typeof M.V!="function"){if(typeof Map<"u"&&M instanceof Map)return Array.from(M.keys());if(!(typeof Set<"u"&&M instanceof Set)){if(l(M)||typeof M=="string"){var j=[];M=M.length;for(var X=0;X<M;X++)j.push(X);return j}j=[],X=0;for(const ce in M)j[X++]=ce;return j}}}function qn(M,j){if(M.forEach&&typeof M.forEach=="function")M.forEach(j,void 0);else if(l(M)||typeof M=="string")Array.prototype.forEach.call(M,j,void 0);else for(var X=pr(M),ce=Xt(M),Te=ce.length,qe=0;qe<Te;qe++)j.call(void 0,ce[qe],X&&X[qe],M)}var ys=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ca(M,j){if(M){M=M.split("&");for(var X=0;X<M.length;X++){var ce=M[X].indexOf("="),Te=null;if(0<=ce){var qe=M[X].substring(0,ce);Te=M[X].substring(ce+1)}else qe=M[X];j(qe,Te?decodeURIComponent(Te.replace(/\+/g," ")):"")}}}function rr(M){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,M instanceof rr){this.h=M.h,ti(this,M.j),this.o=M.o,this.g=M.g,wr(this,M.s),this.l=M.l;var j=M.i,X=new pl;X.i=j.i,j.g&&(X.g=new Map(j.g),X.h=j.h),qr(this,X),this.m=M.m}else M&&(j=String(M).match(ys))?(this.h=!1,ti(this,j[1]||"",!0),this.o=Ps(j[2]||""),this.g=Ps(j[3]||"",!0),wr(this,j[4]),this.l=Ps(j[5]||"",!0),qr(this,j[6]||"",!0),this.m=Ps(j[7]||"")):(this.h=!1,this.i=new pl(null,this.h))}rr.prototype.toString=function(){var M=[],j=this.j;j&&M.push(Cr(j,Cu,!0),":");var X=this.g;return(X||j=="file")&&(M.push("//"),(j=this.o)&&M.push(Cr(j,Cu,!0),"@"),M.push(encodeURIComponent(String(X)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),X=this.s,X!=null&&M.push(":",String(X))),(X=this.l)&&(this.g&&X.charAt(0)!="/"&&M.push("/"),M.push(Cr(X,X.charAt(0)=="/"?zf:om,!0))),(X=this.i.toString())&&M.push("?",X),(X=this.m)&&M.push("#",Cr(X,xy)),M.join("")};function Ri(M){return new rr(M)}function ti(M,j,X){M.j=X?Ps(j,!0):j,M.j&&(M.j=M.j.replace(/:$/,""))}function wr(M,j){if(j){if(j=Number(j),isNaN(j)||0>j)throw Error("Bad port number "+j);M.s=j}else M.s=null}function qr(M,j,X){j instanceof pl?(M.i=j,lm(M.i,M.h)):(X||(j=Cr(j,by)),M.i=new pl(j,M.h))}function cn(M,j,X){M.i.set(j,X)}function cr(M){return cn(M,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),M}function Ps(M,j){return M?j?decodeURI(M.replace(/%25/g,"%2525")):decodeURIComponent(M):""}function Cr(M,j,X){return typeof M=="string"?(M=encodeURI(M).replace(j,fd),X&&(M=M.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),M):null}function fd(M){return M=M.charCodeAt(0),"%"+(M>>4&15).toString(16)+(M&15).toString(16)}var Cu=/[#\/\?@]/g,om=/[#\?:]/g,zf=/[#\?]/g,by=/[#\?@]/g,xy=/#/g;function pl(M,j){this.h=this.g=null,this.i=M||null,this.j=!!j}function ss(M){M.g||(M.g=new Map,M.h=0,M.i&&ca(M.i,function(j,X){M.add(decodeURIComponent(j.replace(/\+/g," ")),X)}))}n=pl.prototype,n.add=function(M,j){ss(this),this.i=null,M=ua(this,M);var X=this.g.get(M);return X||this.g.set(M,X=[]),X.push(j),this.h+=1,this};function Au(M,j){ss(M),j=ua(M,j),M.g.has(j)&&(M.i=null,M.h-=M.g.get(j).length,M.g.delete(j))}function Bf(M,j){return ss(M),j=ua(M,j),M.g.has(j)}n.forEach=function(M,j){ss(this),this.g.forEach(function(X,ce){X.forEach(function(Te){M.call(j,Te,ce,this)},this)},this)},n.na=function(){ss(this);const M=Array.from(this.g.values()),j=Array.from(this.g.keys()),X=[];for(let ce=0;ce<j.length;ce++){const Te=M[ce];for(let qe=0;qe<Te.length;qe++)X.push(j[ce])}return X},n.V=function(M){ss(this);let j=[];if(typeof M=="string")Bf(this,M)&&(j=j.concat(this.g.get(ua(this,M))));else{M=Array.from(this.g.values());for(let X=0;X<M.length;X++)j=j.concat(M[X])}return j},n.set=function(M,j){return ss(this),this.i=null,M=ua(this,M),Bf(this,M)&&(this.h-=this.g.get(M).length),this.g.set(M,[j]),this.h+=1,this},n.get=function(M,j){return M?(M=this.V(M),0<M.length?String(M[0]):j):j};function Gl(M,j,X){Au(M,j),0<X.length&&(M.i=null,M.g.set(ua(M,j),x(X)),M.h+=X.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const M=[],j=Array.from(this.g.keys());for(var X=0;X<j.length;X++){var ce=j[X];const qe=encodeURIComponent(String(ce)),Tt=this.V(ce);for(ce=0;ce<Tt.length;ce++){var Te=qe;Tt[ce]!==""&&(Te+="="+encodeURIComponent(String(Tt[ce]))),M.push(Te)}}return this.i=M.join("&")};function ua(M,j){return j=String(j),M.j&&(j=j.toLowerCase()),j}function lm(M,j){j&&!M.j&&(ss(M),M.i=null,M.g.forEach(function(X,ce){var Te=ce.toLowerCase();ce!=Te&&(Au(this,ce),Gl(this,Te,X))},M)),M.j=j}function hd(M,j){const X=new In;if(o.Image){const ce=new Image;ce.onload=v(Hs,X,"TestLoadImage: loaded",!0,j,ce),ce.onerror=v(Hs,X,"TestLoadImage: error",!1,j,ce),ce.onabort=v(Hs,X,"TestLoadImage: abort",!1,j,ce),ce.ontimeout=v(Hs,X,"TestLoadImage: timeout",!1,j,ce),o.setTimeout(function(){ce.ontimeout&&ce.ontimeout()},1e4),ce.src=M}else j(!1)}function cm(M,j){const X=new In,ce=new AbortController,Te=setTimeout(()=>{ce.abort(),Hs(X,"TestPingServer: timeout",!1,j)},1e4);fetch(M,{signal:ce.signal}).then(qe=>{clearTimeout(Te),qe.ok?Hs(X,"TestPingServer: ok",!0,j):Hs(X,"TestPingServer: server error",!1,j)}).catch(()=>{clearTimeout(Te),Hs(X,"TestPingServer: error",!1,j)})}function Hs(M,j,X,ce,Te){try{Te&&(Te.onload=null,Te.onerror=null,Te.onabort=null,Te.ontimeout=null),ce(X)}catch{}}function ko(){this.g=new Qt}function dd(M,j,X){const ce=X||"";try{qn(M,function(Te,qe){let Tt=Te;u(Te)&&(Tt=_t(Te)),j.push(ce+qe+"="+encodeURIComponent(Tt))})}catch(Te){throw j.push(ce+"type="+encodeURIComponent("_badmap")),Te}}function ql(M){this.l=M.Ub||null,this.j=M.eb||!1}_(ql,pn),ql.prototype.g=function(){return new oo(this.l,this.j)},ql.prototype.i=(function(M){return function(){return M}})({});function oo(M,j){Oe.call(this),this.D=M,this.o=j,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(oo,Oe),n=oo.prototype,n.open=function(M,j){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=M,this.A=j,this.readyState=1,Wl(this)},n.send=function(M){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const j={headers:this.u,method:this.B,credentials:this.m,cache:void 0};M&&(j.body=M),(this.D||o).fetch(new Request(this.A,j)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Oa(this)),this.readyState=0},n.Sa=function(M){if(this.g&&(this.l=M,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=M.headers,this.readyState=2,Wl(this)),this.g&&(this.readyState=3,Wl(this),this.g)))if(this.responseType==="arraybuffer")M.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in M){if(this.j=M.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ff(this)}else M.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ff(M){M.j.read().then(M.Pa.bind(M)).catch(M.ga.bind(M))}n.Pa=function(M){if(this.g){if(this.o&&M.value)this.response.push(M.value);else if(!this.o){var j=M.value?M.value:new Uint8Array(0);(j=this.v.decode(j,{stream:!M.done}))&&(this.response=this.responseText+=j)}M.done?Oa(this):Wl(this),this.readyState==3&&Ff(this)}},n.Ra=function(M){this.g&&(this.response=this.responseText=M,Oa(this))},n.Qa=function(M){this.g&&(this.response=M,Oa(this))},n.ga=function(){this.g&&Oa(this)};function Oa(M){M.readyState=4,M.l=null,M.j=null,M.v=null,Wl(M)}n.setRequestHeader=function(M,j){this.u.append(M,j)},n.getResponseHeader=function(M){return this.h&&this.h.get(M.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const M=[],j=this.h.entries();for(var X=j.next();!X.done;)X=X.value,M.push(X[0]+": "+X[1]),X=j.next();return M.join(`\r
`)};function Wl(M){M.onreadystatechange&&M.onreadystatechange.call(M)}Object.defineProperty(oo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(M){this.m=M?"include":"same-origin"}});function $l(M){let j="";return L(M,function(X,ce){j+=ce,j+=":",j+=X,j+=`\r
`}),j}function Uc(M,j,X){e:{for(ce in X){var ce=!1;break e}ce=!0}ce||(X=$l(X),typeof M=="string"?X!=null&&encodeURIComponent(String(X)):cn(M,j,X))}function ji(M){Oe.call(this),this.headers=new Map,this.o=M||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(ji,Oe);var vs=/^https?$/i,Xl=["POST","PUT"];n=ji.prototype,n.Ha=function(M){this.J=M},n.ea=function(M,j,X,ce){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+M);j=j?j.toUpperCase():"GET",this.D=M,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():la.g(),this.v=this.o?be(this.o):be(la),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(j,String(M),!0),this.B=!1}catch(qe){Mu(this,qe);return}if(M=X||"",X=new Map(this.headers),ce)if(Object.getPrototypeOf(ce)===Object.prototype)for(var Te in ce)X.set(Te,ce[Te]);else if(typeof ce.keys=="function"&&typeof ce.get=="function")for(const qe of ce.keys())X.set(qe,ce.get(qe));else throw Error("Unknown input type for opt_headers: "+String(ce));ce=Array.from(X.keys()).find(qe=>qe.toLowerCase()=="content-type"),Te=o.FormData&&M instanceof o.FormData,!(0<=Array.prototype.indexOf.call(Xl,j,void 0))||ce||Te||X.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[qe,Tt]of X)this.g.setRequestHeader(qe,Tt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ru(this),this.u=!0,this.g.send(M),this.u=!1}catch(qe){Mu(this,qe)}};function Mu(M,j){M.h=!1,M.g&&(M.j=!0,M.g.abort(),M.j=!1),M.l=j,M.m=5,Ia(M),kc(M)}function Ia(M){M.A||(M.A=!0,ct(M,"complete"),ct(M,"error"))}n.abort=function(M){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=M||7,ct(this,"complete"),ct(this,"abort"),kc(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),kc(this,!0)),ji.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Vf(this):this.bb())},n.bb=function(){Vf(this)};function Vf(M){if(M.h&&typeof a<"u"&&(!M.v[1]||js(M)!=4||M.Z()!=2)){if(M.u&&js(M)==4)Dt(M.Ea,0,M);else if(ct(M,"readystatechange"),js(M)==4){M.h=!1;try{const Tt=M.Z();e:switch(Tt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var j=!0;break e;default:j=!1}var X;if(!(X=j)){var ce;if(ce=Tt===0){var Te=String(M.D).match(ys)[1]||null;!Te&&o.self&&o.self.location&&(Te=o.self.location.protocol.slice(0,-1)),ce=!vs.test(Te?Te.toLowerCase():"")}X=ce}if(X)ct(M,"complete"),ct(M,"success");else{M.m=6;try{var qe=2<js(M)?M.g.statusText:""}catch{qe=""}M.l=qe+" ["+M.Z()+"]",Ia(M)}}finally{kc(M)}}}}function kc(M,j){if(M.g){Ru(M);const X=M.g,ce=M.v[0]?()=>{}:null;M.g=null,M.v=null,j||ct(M,"ready");try{X.onreadystatechange=ce}catch{}}}function Ru(M){M.I&&(o.clearTimeout(M.I),M.I=null)}n.isActive=function(){return!!this.g};function js(M){return M.g?M.g.readyState:0}n.Z=function(){try{return 2<js(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(M){if(this.g){var j=this.g.responseText;return M&&j.indexOf(M)==0&&(j=j.substring(M.length)),Ht(j)}};function Ou(M){try{if(!M.g)return null;if("response"in M.g)return M.g.response;switch(M.H){case"":case"text":return M.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in M.g)return M.g.mozResponseArrayBuffer}return null}catch{return null}}function Sy(M){const j={};M=(M.g&&2<=js(M)&&M.g.getAllResponseHeaders()||"").split(`\r
`);for(let ce=0;ce<M.length;ce++){if(w(M[ce]))continue;var X=F(M[ce]);const Te=X[0];if(X=X[1],typeof X!="string")continue;X=X.trim();const qe=j[Te]||[];j[Te]=qe,qe.push(X)}I(j,function(ce){return ce.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ur(M,j,X){return X&&X.internalChannelParams&&X.internalChannelParams[M]||j}function um(M){this.Aa=0,this.i=[],this.j=new In,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ur("failFast",!1,M),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ur("baseRetryDelayMs",5e3,M),this.cb=ur("retryDelaySeedMs",1e4,M),this.Wa=ur("forwardChannelMaxRetries",2,M),this.wa=ur("forwardChannelRequestTimeoutMs",2e4,M),this.pa=M&&M.xmlHttpFactory||void 0,this.Xa=M&&M.Tb||void 0,this.Ca=M&&M.useFetchStreams||!1,this.L=void 0,this.J=M&&M.supportsCrossDomainXhr||!1,this.K="",this.h=new Jt(M&&M.concurrentRequestLimit),this.Da=new ko,this.P=M&&M.fastHandshake||!1,this.O=M&&M.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=M&&M.Rb||!1,M&&M.xa&&this.j.xa(),M&&M.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&M&&M.detectBufferingProxy||!1,this.ja=void 0,M&&M.longPollingTimeout&&0<M.longPollingTimeout&&(this.ja=M.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=um.prototype,n.la=8,n.G=1,n.connect=function(M,j,X,ce){Et(0),this.W=M,this.H=j||{},X&&ce!==void 0&&(this.H.OSID=X,this.H.OAID=ce),this.F=this.X,this.I=pm(this,null,this.W),Hf(this)};function pd(M){if(fm(M),M.G==3){var j=M.U++,X=Ri(M.I);if(cn(X,"SID",M.K),cn(X,"RID",j),cn(X,"TYPE","terminate"),Iu(M,X),j=new so(M,M.j,j),j.L=2,j.v=cr(Ri(X)),X=!1,o.navigator&&o.navigator.sendBeacon)try{X=o.navigator.sendBeacon(j.v.toString(),"")}catch{}!X&&o.Image&&(new Image().src=j.v,X=!0),X||(j.g=zo(j.j,null),j.g.ea(j.v)),j.F=Date.now(),Ne(j)}Wf(M)}function zc(M){M.g&&(qf(M),M.g.cancel(),M.g=null)}function fm(M){zc(M),M.u&&(o.clearTimeout(M.u),M.u=null),Yl(M),M.h.cancel(),M.s&&(typeof M.s=="number"&&o.clearTimeout(M.s),M.s=null)}function Hf(M){if(!jt(M.h)&&!M.s){M.s=!0;var j=M.Ga;W||pe(),Q||(W(),Q=!0),re.add(j,M),M.B=0}}function jf(M,j){return Fn(M.h)>=M.h.j-(M.s?1:0)?!1:M.s?(M.i=j.D.concat(M.i),!0):M.G==1||M.G==2||M.B>=(M.Va?0:M.Wa)?!1:(M.s=_n(y(M.Ga,M,j),vd(M,M.B)),M.B++,!0)}n.Ga=function(M){if(this.s)if(this.s=null,this.G==1){if(!M){this.U=Math.floor(1e5*Math.random()),M=this.U++;const Te=new so(this,this.j,M);let qe=this.o;if(this.S&&(qe?(qe=D(qe),U(qe,this.S)):qe=this.S),this.m!==null||this.O||(Te.H=qe,qe=null),this.P)e:{for(var j=0,X=0;X<this.i.length;X++){t:{var ce=this.i[X];if("__data__"in ce.map&&(ce=ce.map.__data__,typeof ce=="string")){ce=ce.length;break t}ce=void 0}if(ce===void 0)break;if(j+=ce,4096<j){j=X;break e}if(j===4096||X===this.i.length-1){j=X+1;break e}}j=1e3}else j=1e3;j=gd(this,Te,j),X=Ri(this.I),cn(X,"RID",M),cn(X,"CVER",22),this.D&&cn(X,"X-HTTP-Session-Id",this.D),Iu(this,X),qe&&(this.O?j="headers="+encodeURIComponent(String($l(qe)))+"&"+j:this.m&&Uc(X,this.m,qe)),Si(this.h,Te),this.Ua&&cn(X,"TYPE","init"),this.P?(cn(X,"$req",j),cn(X,"SID","null"),Te.T=!0,dl(Te,X,null)):dl(Te,X,j),this.G=2}}else this.G==3&&(M?md(this,M):this.i.length==0||jt(this.h)||md(this))};function md(M,j){var X;j?X=j.l:X=M.U++;const ce=Ri(M.I);cn(ce,"SID",M.K),cn(ce,"RID",X),cn(ce,"AID",M.T),Iu(M,ce),M.m&&M.o&&Uc(ce,M.m,M.o),X=new so(M,M.j,X,M.B+1),M.m===null&&(X.H=M.o),j&&(M.i=j.D.concat(M.i)),j=gd(M,X,1e3),X.I=Math.round(.5*M.wa)+Math.round(.5*M.wa*Math.random()),Si(M.h,X),dl(X,ce,j)}function Iu(M,j){M.H&&L(M.H,function(X,ce){cn(j,ce,X)}),M.l&&qn({},function(X,ce){cn(j,ce,X)})}function gd(M,j,X){X=Math.min(M.i.length,X);var ce=M.l?y(M.l.Na,M.l,M):null;e:{var Te=M.i;let qe=-1;for(;;){const Tt=["count="+X];qe==-1?0<X?(qe=Te[0].g,Tt.push("ofs="+qe)):qe=0:Tt.push("ofs="+qe);let di=!0;for(let sr=0;sr<X;sr++){let Pn=Te[sr].g;const Ar=Te[sr].map;if(Pn-=qe,0>Pn)qe=Math.max(0,Te[sr].g-100),di=!1;else try{dd(Ar,Tt,"req"+Pn+"_")}catch{ce&&ce(Ar)}}if(di){ce=Tt.join("&");break e}}}return M=M.i.splice(0,X),j.D=M,ce}function hm(M){if(!M.g&&!M.u){M.Y=1;var j=M.Fa;W||pe(),Q||(W(),Q=!0),re.add(j,M),M.v=0}}function Gf(M){return M.g||M.u||3<=M.v?!1:(M.Y++,M.u=_n(y(M.Fa,M),vd(M,M.v)),M.v++,!0)}n.Fa=function(){if(this.u=null,dm(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var M=2*this.R;this.j.info("BP detection timer enabled: "+M),this.A=_n(y(this.ab,this),M)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Et(10),zc(this),dm(this))};function qf(M){M.A!=null&&(o.clearTimeout(M.A),M.A=null)}function dm(M){M.g=new so(M,M.j,"rpc",M.Y),M.m===null&&(M.g.H=M.o),M.g.O=0;var j=Ri(M.qa);cn(j,"RID","rpc"),cn(j,"SID",M.K),cn(j,"AID",M.T),cn(j,"CI",M.F?"0":"1"),!M.F&&M.ja&&cn(j,"TO",M.ja),cn(j,"TYPE","xmlhttp"),Iu(M,j),M.m&&M.o&&Uc(j,M.m,M.o),M.L&&(M.g.I=M.L);var X=M.g;M=M.ia,X.L=1,X.v=cr(Ri(j)),X.m=null,X.P=!0,se(X,M)}n.Za=function(){this.C!=null&&(this.C=null,zc(this),Gf(this),Et(19))};function Yl(M){M.C!=null&&(o.clearTimeout(M.C),M.C=null)}function yd(M,j){var X=null;if(M.g==j){Yl(M),qf(M),M.g=null;var ce=2}else if(zn(M.h,j))X=j.D,$n(M.h,j),ce=1;else return;if(M.G!=0){if(j.o)if(ce==1){X=j.m?j.m.length:0,j=Date.now()-j.F;var Te=M.B;ce=Xn(),ct(ce,new Tn(ce,X)),Hf(M)}else hm(M);else if(Te=j.s,Te==3||Te==0&&0<j.X||!(ce==1&&jf(M,j)||ce==2&&Gf(M)))switch(X&&0<X.length&&(j=M.h,j.i=j.i.concat(X)),Te){case 1:Kl(M,5);break;case 4:Kl(M,10);break;case 3:Kl(M,6);break;default:Kl(M,2)}}}function vd(M,j){let X=M.Ta+Math.floor(Math.random()*M.cb);return M.isActive()||(X*=2),X*j}function Kl(M,j){if(M.j.info("Error code "+j),j==2){var X=y(M.fb,M),ce=M.Xa;const Te=!ce;ce=new rr(ce||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||ti(ce,"https"),cr(ce),Te?hd(ce.toString(),X):cm(ce.toString(),X)}else Et(2);M.G=0,M.l&&M.l.sa(j),Wf(M),fm(M)}n.fb=function(M){M?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function Wf(M){if(M.G=0,M.ka=[],M.l){const j=on(M.h);(j.length!=0||M.i.length!=0)&&(E(M.ka,j),E(M.ka,M.i),M.h.i.length=0,x(M.i),M.i.length=0),M.l.ra()}}function pm(M,j,X){var ce=X instanceof rr?Ri(X):new rr(X);if(ce.g!="")j&&(ce.g=j+"."+ce.g),wr(ce,ce.s);else{var Te=o.location;ce=Te.protocol,j=j?j+"."+Te.hostname:Te.hostname,Te=+Te.port;var qe=new rr(null);ce&&ti(qe,ce),j&&(qe.g=j),Te&&wr(qe,Te),X&&(qe.l=X),ce=qe}return X=M.D,j=M.ya,X&&j&&cn(ce,X,j),cn(ce,"VER",M.la),Iu(M,ce),ce}function zo(M,j,X){if(j&&!M.J)throw Error("Can't create secondary domain capable XhrIo object.");return j=M.Ca&&!M.pa?new ji(new ql({eb:X})):new ji(M.pa),j.Ha(M.J),j}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function _d(){}n=_d.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function bd(){}bd.prototype.g=function(M,j){return new Gs(M,j)};function Gs(M,j){Oe.call(this),this.g=new um(j),this.l=M,this.h=j&&j.messageUrlParams||null,M=j&&j.messageHeaders||null,j&&j.clientProtocolHeaderRequired&&(M?M["X-Client-Protocol"]="webchannel":M={"X-Client-Protocol":"webchannel"}),this.g.o=M,M=j&&j.initMessageHeaders||null,j&&j.messageContentType&&(M?M["X-WebChannel-Content-Type"]=j.messageContentType:M={"X-WebChannel-Content-Type":j.messageContentType}),j&&j.va&&(M?M["X-WebChannel-Client-Profile"]=j.va:M={"X-WebChannel-Client-Profile":j.va}),this.g.S=M,(M=j&&j.Sb)&&!w(M)&&(this.g.m=M),this.v=j&&j.supportsCrossDomainXhr||!1,this.u=j&&j.sendRawJson||!1,(j=j&&j.httpSessionIdParam)&&!w(j)&&(this.g.D=j,M=this.h,M!==null&&j in M&&(M=this.h,j in M&&delete M[j])),this.j=new Zl(this)}_(Gs,Oe),Gs.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Gs.prototype.close=function(){pd(this.g)},Gs.prototype.o=function(M){var j=this.g;if(typeof M=="string"){var X={};X.__data__=M,M=X}else this.u&&(X={},X.__data__=_t(M),M=X);j.i.push(new sn(j.Ya++,M)),j.G==3&&Hf(j)},Gs.prototype.N=function(){this.g.l=null,delete this.j,pd(this.g),delete this.g,Gs.aa.N.call(this)};function ml(M){He.call(this),M.__headers__&&(this.headers=M.__headers__,this.statusCode=M.__status__,delete M.__headers__,delete M.__status__);var j=M.__sm__;if(j){e:{for(const X in j){M=X;break e}M=void 0}(this.i=M)&&(M=this.i,j=j!==null&&M in j?j[M]:void 0),this.data=j}else this.data=M}_(ml,He);function Bo(){st.call(this),this.status=1}_(Bo,st);function Zl(M){this.g=M}_(Zl,_d),Zl.prototype.ua=function(){ct(this.g,"a")},Zl.prototype.ta=function(M){ct(this.g,new ml(M))},Zl.prototype.sa=function(M){ct(this.g,new Bo)},Zl.prototype.ra=function(){ct(this.g,"b")},bd.prototype.createWebChannel=bd.prototype.g,Gs.prototype.send=Gs.prototype.o,Gs.prototype.open=Gs.prototype.m,Gs.prototype.close=Gs.prototype.close,d8=function(){return new bd},h8=function(){return Xn()},f8=pt,MI={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},mn.NO_ERROR=0,mn.TIMEOUT=8,mn.HTTP_ERROR=6,e2=mn,dr.COMPLETE="complete",u8=dr,St.EventType=xe,xe.OPEN="a",xe.CLOSE="b",xe.ERROR="c",xe.MESSAGE="d",Oe.prototype.listen=Oe.prototype.K,N1=St,ji.prototype.listenOnce=ji.prototype.L,ji.prototype.getLastError=ji.prototype.Ka,ji.prototype.getLastErrorCode=ji.prototype.Ba,ji.prototype.getStatus=ji.prototype.Z,ji.prototype.getResponseJson=ji.prototype.Oa,ji.prototype.getResponseText=ji.prototype.oa,ji.prototype.send=ji.prototype.ea,ji.prototype.setWithCredentials=ji.prototype.Ha,c8=ji}).apply(typeof hT<"u"?hT:typeof self<"u"?self:typeof window<"u"?window:{});const e5="@firebase/firestore",t5="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ka.UNAUTHENTICATED=new Ka(null),Ka.GOOGLE_CREDENTIALS=new Ka("google-credentials-uid"),Ka.FIRST_PARTY=new Ka("first-party-uid"),Ka.MOCK_USER=new Ka("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let b_="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qg=new UD("@firebase/firestore");function i0(){return Qg.logLevel}function Bt(n,...e){if(Qg.logLevel<=si.DEBUG){const t=e.map(BD);Qg.debug(`Firestore (${b_}): ${n}`,...t)}}function Xh(n,...e){if(Qg.logLevel<=si.ERROR){const t=e.map(BD);Qg.error(`Firestore (${b_}): ${n}`,...t)}}function kp(n,...e){if(Qg.logLevel<=si.WARN){const t=e.map(BD);Qg.warn(`Firestore (${b_}): ${n}`,...t)}}function BD(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,p8(n,i,t)}function p8(n,e,t){let i=`FIRESTORE (${b_}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Xh(i),new Error(i)}function Fr(n,e,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,n||p8(e,r,i)}function vi(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class zt extends ld{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m8{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class bJ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Ka.UNAUTHENTICATED)))}shutdown(){}}class xJ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class SJ{constructor(e){this.t=e,this.currentUser=Ka.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Fr(this.o===void 0,42304);let i=this.i;const r=l=>this.i!==i?(i=this.i,t(l)):Promise.resolve();let s=new Ip;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ip,e.enqueueRetryable((()=>r(this.currentUser)))};const a=()=>{const l=s;e.enqueueRetryable((async()=>{await l.promise,await r(this.currentUser)}))},o=l=>{Bt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((l=>o(l))),setTimeout((()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(Bt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ip)}}),0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(Bt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Fr(typeof i.accessToken=="string",31837,{l:i}),new m8(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fr(e===null||typeof e=="string",2055,{h:e}),new Ka(e)}}class EJ{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=Ka.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class TJ{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new EJ(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Ka.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class n5{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wJ{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,gf(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Fr(this.o===void 0,3512);const i=s=>{s.error!=null&&Bt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,Bt("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>i(s)))};const r=s=>{Bt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>r(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?r(s):Bt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new n5(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Fr(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new n5(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CJ(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g8(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=CJ(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+=e.charAt(r[s]%62))}return i}}function Zn(n,e){return n<e?-1:n>e?1:0}function RI(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),r=e.codePointAt(t);if(i!==r){if(i<128&&r<128)return Zn(i,r);{const s=g8(),a=AJ(s.encode(i5(n,t)),s.encode(i5(e,t)));return a!==0?a:Zn(i,r)}}t+=i>65535?2:1}return Zn(n.length,e.length)}function i5(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function AJ(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Zn(n[t],e[t]);return Zn(n.length,e.length)}function L0(n,e,t){return n.length===e.length&&n.every(((i,r)=>t(i,e[r])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r5="__name__";class ff{constructor(e,t,i){t===void 0?t=0:t>e.length&&On(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&On(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return ff.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ff?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const s=ff.compareSegments(e.get(r),t.get(r));if(s!==0)return s}return Zn(e.length,t.length)}static compareSegments(e,t){const i=ff.isNumericId(e),r=ff.isNumericId(t);return i&&!r?-1:!i&&r?1:i&&r?ff.extractNumericId(e).compare(ff.extractNumericId(t)):RI(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Op.fromString(e.substring(4,e.length-2))}}class or extends ff{construct(e,t,i){return new or(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new zt(gt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((r=>r.length>0)))}return new or(t)}static emptyPath(){return new or([])}}const MJ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qa extends ff{construct(e,t,i){return new Qa(e,t,i)}static isValidIdentifier(e){return MJ.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qa.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===r5}static keyField(){return new Qa([r5])}static fromServerFormat(e){const t=[];let i="",r=0;const s=()=>{if(i.length===0)throw new zt(gt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let a=!1;for(;r<e.length;){const o=e[r];if(o==="\\"){if(r+1===e.length)throw new zt(gt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new zt(gt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,r+=2}else o==="`"?(a=!a,r++):o!=="."||a?(i+=o,r++):(s(),r++)}if(s(),a)throw new zt(gt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qa(t)}static emptyPath(){return new Qa([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.path=e}static fromPath(e){return new tn(or.fromString(e))}static fromName(e){return new tn(or.fromString(e).popFirst(5))}static empty(){return new tn(or.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&or.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return or.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new tn(new or(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y8(n,e,t){if(!t)throw new zt(gt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function RJ(n,e,t,i){if(e===!0&&i===!0)throw new zt(gt.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function s5(n){if(!tn.isDocumentKey(n))throw new zt(gt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function a5(n){if(tn.isDocumentKey(n))throw new zt(gt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function v8(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function _A(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":On(12329,{type:typeof n})}function Ox(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new zt(gt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=_A(n);throw new zt(gt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Os(n,e){const t={typeString:n};return e&&(t.value=e),t}function xS(n,e){if(!v8(n))throw new zt(gt.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const r=e[i].typeString,s="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const a=n[i];if(r&&typeof a!==r){t=`JSON field '${i}' must be a ${r}.`;break}if(s!==void 0&&a!==s.value){t=`Expected '${i}' field to equal '${s.value}'`;break}}if(t)throw new zt(gt.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o5=-62135596800,l5=1e6;class Er{static now(){return Er.fromMillis(Date.now())}static fromDate(e){return Er.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*l5);return new Er(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new zt(gt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new zt(gt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<o5)throw new zt(gt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new zt(gt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/l5}_compareTo(e){return this.seconds===e.seconds?Zn(this.nanoseconds,e.nanoseconds):Zn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Er._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(xS(e,Er._jsonSchema))return new Er(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-o5;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Er._jsonSchemaVersion="firestore/timestamp/1.0",Er._jsonSchema={type:Os("string",Er._jsonSchemaVersion),seconds:Os("number"),nanoseconds:Os("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{static fromTimestamp(e){return new Mn(e)}static min(){return new Mn(new Er(0,0))}static max(){return new Mn(new Er(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix=-1;function OJ(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Mn.fromTimestamp(i===1e9?new Er(t+1,0):new Er(t,i));return new zp(r,tn.empty(),e)}function IJ(n){return new zp(n.readTime,n.key,Ix)}class zp{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new zp(Mn.min(),tn.empty(),Ix)}static max(){return new zp(Mn.max(),tn.empty(),Ix)}}function PJ(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=tn.comparator(n.documentKey,e.documentKey),t!==0?t:Zn(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DJ="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class NJ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bA(n){if(n.code!==gt.FAILED_PRECONDITION||n.message!==DJ)throw n;Bt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&On(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new nt(((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof nt?t:nt.resolve(t)}catch(t){return nt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):nt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):nt.reject(t)}static resolve(e){return new nt(((t,i)=>{t(e)}))}static reject(e){return new nt(((t,i)=>{i(e)}))}static waitFor(e){return new nt(((t,i)=>{let r=0,s=0,a=!1;e.forEach((o=>{++r,o.next((()=>{++s,a&&s===r&&t()}),(l=>i(l)))})),a=!0,s===r&&t()}))}static or(e){let t=nt.resolve(!1);for(const i of e)t=t.next((r=>r?nt.resolve(r):i()));return t}static forEach(e,t){const i=[];return e.forEach(((r,s)=>{i.push(t.call(this,r,s))})),this.waitFor(i)}static mapArray(e,t){return new nt(((i,r)=>{const s=e.length,a=new Array(s);let o=0;for(let l=0;l<s;l++){const u=l;t(e[u]).next((h=>{a[u]=h,++o,o===s&&i(a)}),(h=>r(h)))}}))}static doWhile(e,t){return new nt(((i,r)=>{const s=()=>{e()===!0?t().next((()=>{s()}),r):i()};s()}))}}function LJ(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function x_(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this._e(i),this.ae=i=>t.writeSequenceNumber(i))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}xA.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UJ=-1;function SA(n){return n==null}function D2(n){return n===0&&1/n==-1/0}function kJ(n){return typeof n=="number"&&Number.isInteger(n)&&!D2(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _8="";function zJ(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=c5(e)),e=BJ(n.get(t),e);return c5(e)}function BJ(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":t+="";break;case _8:t+="";break;default:t+=s}}return t}function c5(n){return n+_8+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u5(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function S_(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function b8(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e,t){this.comparator=e,this.root=t||xa.EMPTY}insert(e,t){return new ms(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,xa.BLACK,null,null))}remove(e){return new ms(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xa.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new dT(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new dT(this.root,e,this.comparator,!1)}getReverseIterator(){return new dT(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new dT(this.root,e,this.comparator,!0)}}class dT{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xa{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=i??xa.RED,this.left=r??xa.EMPTY,this.right=s??xa.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new xa(e??this.key,t??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):s===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return xa.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return xa.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xa.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xa.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw On(43730,{key:this.key,value:this.value});if(this.right.isRed())throw On(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw On(27949);return e+(this.isRed()?0:1)}}xa.EMPTY=null,xa.RED=!0,xa.BLACK=!1;xa.EMPTY=new class{constructor(){this.size=0}get key(){throw On(57766)}get value(){throw On(16141)}get color(){throw On(16727)}get left(){throw On(29726)}get right(){throw On(36894)}copy(e,t,i,r,s){return this}insert(e,t,i){return new xa(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e){this.comparator=e,this.data=new ms(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new f5(this.data.getIterator())}getIteratorFrom(e){return new f5(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof Bs)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Bs(this.comparator);return t.data=e,t}}class f5{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e){this.fields=e,e.sort(Qa.comparator)}static empty(){return new xp([])}unionWith(e){let t=new Bs(Qa.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new xp(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return L0(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x8 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new x8("Invalid base64 string: "+s):s}})(e);return new Ma(t)}static fromUint8Array(e){const t=(function(r){let s="";for(let a=0;a<r.length;++a)s+=String.fromCharCode(r[a]);return s})(e);return new Ma(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Zn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ma.EMPTY_BYTE_STRING=new Ma("");const FJ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bp(n){if(Fr(!!n,39018),typeof n=="string"){let e=0;const t=FJ.exec(n);if(Fr(!!t,46558,{timestamp:n}),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:hs(n.seconds),nanos:hs(n.nanos)}}function hs(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Fp(n){return typeof n=="string"?Ma.fromBase64String(n):Ma.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S8="server_timestamp",E8="__type__",T8="__previous_value__",w8="__local_write_time__";function VD(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[E8])===null||t===void 0?void 0:t.stringValue)===S8}function EA(n){const e=n.mapValue.fields[T8];return VD(e)?EA(e):e}function Px(n){const e=Bp(n.mapValue.fields[w8].timestampValue);return new Er(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VJ{constructor(e,t,i,r,s,a,o,l,u,h){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=h}}const N2="(default)";class Dx{constructor(e,t){this.projectId=e,this.database=t||N2}static empty(){return new Dx("","")}get isDefaultDatabase(){return this.database===N2}isEqual(e){return e instanceof Dx&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C8="__type__",HJ="__max__",pT={mapValue:{}},A8="__vector__",L2="value";function Vp(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?VD(n)?4:GJ(n)?9007199254740991:jJ(n)?10:11:On(28295,{value:n})}function Df(n,e){if(n===e)return!0;const t=Vp(n);if(t!==Vp(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Px(n).isEqual(Px(e));case 3:return(function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const a=Bp(r.timestampValue),o=Bp(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(r,s){return Fp(r.bytesValue).isEqual(Fp(s.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(r,s){return hs(r.geoPointValue.latitude)===hs(s.geoPointValue.latitude)&&hs(r.geoPointValue.longitude)===hs(s.geoPointValue.longitude)})(n,e);case 2:return(function(r,s){if("integerValue"in r&&"integerValue"in s)return hs(r.integerValue)===hs(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const a=hs(r.doubleValue),o=hs(s.doubleValue);return a===o?D2(a)===D2(o):isNaN(a)&&isNaN(o)}return!1})(n,e);case 9:return L0(n.arrayValue.values||[],e.arrayValue.values||[],Df);case 10:case 11:return(function(r,s){const a=r.mapValue.fields||{},o=s.mapValue.fields||{};if(u5(a)!==u5(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!Df(a[l],o[l])))return!1;return!0})(n,e);default:return On(52216,{left:n})}}function Nx(n,e){return(n.values||[]).find((t=>Df(t,e)))!==void 0}function U0(n,e){if(n===e)return 0;const t=Vp(n),i=Vp(e);if(t!==i)return Zn(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Zn(n.booleanValue,e.booleanValue);case 2:return(function(s,a){const o=hs(s.integerValue||s.doubleValue),l=hs(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1})(n,e);case 3:return h5(n.timestampValue,e.timestampValue);case 4:return h5(Px(n),Px(e));case 5:return RI(n.stringValue,e.stringValue);case 6:return(function(s,a){const o=Fp(s),l=Fp(a);return o.compareTo(l)})(n.bytesValue,e.bytesValue);case 7:return(function(s,a){const o=s.split("/"),l=a.split("/");for(let u=0;u<o.length&&u<l.length;u++){const h=Zn(o[u],l[u]);if(h!==0)return h}return Zn(o.length,l.length)})(n.referenceValue,e.referenceValue);case 8:return(function(s,a){const o=Zn(hs(s.latitude),hs(a.latitude));return o!==0?o:Zn(hs(s.longitude),hs(a.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return d5(n.arrayValue,e.arrayValue);case 10:return(function(s,a){var o,l,u,h;const p=s.fields||{},y=a.fields||{},v=(o=p[L2])===null||o===void 0?void 0:o.arrayValue,_=(l=y[L2])===null||l===void 0?void 0:l.arrayValue,x=Zn(((u=v==null?void 0:v.values)===null||u===void 0?void 0:u.length)||0,((h=_==null?void 0:_.values)===null||h===void 0?void 0:h.length)||0);return x!==0?x:d5(v,_)})(n.mapValue,e.mapValue);case 11:return(function(s,a){if(s===pT.mapValue&&a===pT.mapValue)return 0;if(s===pT.mapValue)return 1;if(a===pT.mapValue)return-1;const o=s.fields||{},l=Object.keys(o),u=a.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let p=0;p<l.length&&p<h.length;++p){const y=RI(l[p],h[p]);if(y!==0)return y;const v=U0(o[l[p]],u[h[p]]);if(v!==0)return v}return Zn(l.length,h.length)})(n.mapValue,e.mapValue);default:throw On(23264,{le:t})}}function h5(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Zn(n,e);const t=Bp(n),i=Bp(e),r=Zn(t.seconds,i.seconds);return r!==0?r:Zn(t.nanos,i.nanos)}function d5(n,e){const t=n.values||[],i=e.values||[];for(let r=0;r<t.length&&r<i.length;++r){const s=U0(t[r],i[r]);if(s)return s}return Zn(t.length,i.length)}function k0(n){return OI(n)}function OI(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const i=Bp(t);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Fp(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return tn.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let i="[",r=!0;for(const s of t.values||[])r?r=!1:i+=",",i+=OI(s);return i+"]"})(n.arrayValue):"mapValue"in n?(function(t){const i=Object.keys(t.fields||{}).sort();let r="{",s=!0;for(const a of i)s?s=!1:r+=",",r+=`${a}:${OI(t.fields[a])}`;return r+"}"})(n.mapValue):On(61005,{value:n})}function t2(n){switch(Vp(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=EA(n);return e?16+t2(e):16;case 5:return 2*n.stringValue.length;case 6:return Fp(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((r,s)=>r+t2(s)),0)})(n.arrayValue);case 10:case 11:return(function(i){let r=0;return S_(i.fields,((s,a)=>{r+=s.length+t2(a)})),r})(n.mapValue);default:throw On(13486,{value:n})}}function p5(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function II(n){return!!n&&"integerValue"in n}function HD(n){return!!n&&"arrayValue"in n}function m5(n){return!!n&&"nullValue"in n}function g5(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function tO(n){return!!n&&"mapValue"in n}function jJ(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[C8])===null||t===void 0?void 0:t.stringValue)===A8}function ex(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return S_(n.mapValue.fields,((t,i)=>e.mapValue.fields[t]=ex(i))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ex(n.arrayValue.values[t]);return e}return Object.assign({},n)}function GJ(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===HJ}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e){this.value=e}static empty(){return new yf({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!tO(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ex(t)}setAll(e){let t=Qa.emptyPath(),i={},r=[];e.forEach(((a,o)=>{if(!t.isImmediateParentOf(o)){const l=this.getFieldsMap(t);this.applyChanges(l,i,r),i={},r=[],t=o.popLast()}a?i[o.lastSegment()]=ex(a):r.push(o.lastSegment())}));const s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){const t=this.field(e.popLast());tO(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Df(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];tO(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){S_(t,((r,s)=>e[r]=s));for(const r of i)delete e[r]}clone(){return new yf(ex(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,t,i,r,s,a,o){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new Za(e,0,Mn.min(),Mn.min(),Mn.min(),yf.empty(),0)}static newFoundDocument(e,t,i,r){return new Za(e,1,t,Mn.min(),i,r,0)}static newNoDocument(e,t){return new Za(e,2,t,Mn.min(),Mn.min(),yf.empty(),0)}static newUnknownDocument(e,t){return new Za(e,3,t,Mn.min(),Mn.min(),yf.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Mn.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yf.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yf.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Mn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Za&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Za(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e,t){this.position=e,this.inclusive=t}}function y5(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const s=e[r],a=n.position[r];if(s.field.isKeyField()?i=tn.comparator(tn.fromName(a.referenceValue),t.key):i=U0(a,t.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function v5(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Df(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e,t="asc"){this.field=e,this.dir=t}}function qJ(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M8{}class Rs extends M8{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new $J(e,t,i):t==="array-contains"?new KJ(e,i):t==="in"?new ZJ(e,i):t==="not-in"?new QJ(e,i):t==="array-contains-any"?new JJ(e,i):new Rs(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new XJ(e,i):new YJ(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(U0(t,this.value)):t!==null&&Vp(this.value)===Vp(t)&&this.matchesComparison(U0(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return On(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class bu extends M8{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new bu(e,t)}matches(e){return R8(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function R8(n){return n.op==="and"}function O8(n){return WJ(n)&&R8(n)}function WJ(n){for(const e of n.filters)if(e instanceof bu)return!1;return!0}function PI(n){if(n instanceof Rs)return n.field.canonicalString()+n.op.toString()+k0(n.value);if(O8(n))return n.filters.map((e=>PI(e))).join(",");{const e=n.filters.map((t=>PI(t))).join(",");return`${n.op}(${e})`}}function I8(n,e){return n instanceof Rs?(function(i,r){return r instanceof Rs&&i.op===r.op&&i.field.isEqual(r.field)&&Df(i.value,r.value)})(n,e):n instanceof bu?(function(i,r){return r instanceof bu&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce(((s,a,o)=>s&&I8(a,r.filters[o])),!0):!1})(n,e):void On(19439)}function P8(n){return n instanceof Rs?(function(t){return`${t.field.canonicalString()} ${t.op} ${k0(t.value)}`})(n):n instanceof bu?(function(t){return t.op.toString()+" {"+t.getFilters().map(P8).join(" ,")+"}"})(n):"Filter"}class $J extends Rs{constructor(e,t,i){super(e,t,i),this.key=tn.fromName(i.referenceValue)}matches(e){const t=tn.comparator(e.key,this.key);return this.matchesComparison(t)}}class XJ extends Rs{constructor(e,t){super(e,"in",t),this.keys=D8("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class YJ extends Rs{constructor(e,t){super(e,"not-in",t),this.keys=D8("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function D8(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map((i=>tn.fromName(i.referenceValue)))}class KJ extends Rs{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return HD(t)&&Nx(t.arrayValue,this.value)}}class ZJ extends Rs{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Nx(this.value.arrayValue,t)}}class QJ extends Rs{constructor(e,t){super(e,"not-in",t)}matches(e){if(Nx(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Nx(this.value.arrayValue,t)}}class JJ extends Rs{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!HD(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>Nx(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eee{constructor(e,t=null,i=[],r=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=a,this.endAt=o,this.Pe=null}}function _5(n,e=null,t=[],i=[],r=null,s=null,a=null){return new eee(n,e,t,i,r,s,a)}function jD(n){const e=vi(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>PI(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(s){return s.field.canonicalString()+s.dir})(i))).join(","),SA(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>k0(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>k0(i))).join(",")),e.Pe=t}return e.Pe}function GD(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!qJ(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!I8(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!v5(n.startAt,e.startAt)&&v5(n.endAt,e.endAt)}function DI(n){return tn.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e,t=null,i=[],r=[],s=null,a="F",o=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=l,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function tee(n,e,t,i,r,s,a,o){return new SS(n,e,t,i,r,s,a,o)}function qD(n){return new SS(n)}function b5(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function N8(n){return n.collectionGroup!==null}function tx(n){const e=vi(n);if(e.Te===null){e.Te=[];const t=new Set;for(const s of e.explicitOrderBy)e.Te.push(s),t.add(s.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new Bs(Qa.comparator);return a.filters.forEach((l=>{l.getFlattenedFilters().forEach((u=>{u.isInequality()&&(o=o.add(u.field))}))})),o})(e).forEach((s=>{t.has(s.canonicalString())||s.isKeyField()||e.Te.push(new k2(s,i))})),t.has(Qa.keyField().canonicalString())||e.Te.push(new k2(Qa.keyField(),i))}return e.Te}function Tf(n){const e=vi(n);return e.Ie||(e.Ie=nee(e,tx(n))),e.Ie}function nee(n,e){if(n.limitType==="F")return _5(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((r=>{const s=r.dir==="desc"?"asc":"desc";return new k2(r.field,s)}));const t=n.endAt?new U2(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new U2(n.startAt.position,n.startAt.inclusive):null;return _5(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function NI(n,e){const t=n.filters.concat([e]);return new SS(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function LI(n,e,t){return new SS(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function TA(n,e){return GD(Tf(n),Tf(e))&&n.limitType===e.limitType}function L8(n){return`${jD(Tf(n))}|lt:${n.limitType}`}function r0(n){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((r=>P8(r))).join(", ")}]`),SA(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((r=>(function(a){return`${a.field.canonicalString()} (${a.dir})`})(r))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>k0(r))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>k0(r))).join(",")),`Target(${i})`})(Tf(n))}; limitType=${n.limitType})`}function wA(n,e){return e.isFoundDocument()&&(function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):tn.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)})(n,e)&&(function(i,r){for(const s of tx(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0})(n,e)&&(function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0})(n,e)&&(function(i,r){return!(i.startAt&&!(function(a,o,l){const u=y5(a,o,l);return a.inclusive?u<=0:u<0})(i.startAt,tx(i),r)||i.endAt&&!(function(a,o,l){const u=y5(a,o,l);return a.inclusive?u>=0:u>0})(i.endAt,tx(i),r))})(n,e)}function iee(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function U8(n){return(e,t)=>{let i=!1;for(const r of tx(n)){const s=ree(r,e,t);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function ree(n,e,t){const i=n.field.isKeyField()?tn.comparator(e.key,t.key):(function(s,a,o){const l=a.data.field(s),u=o.data.field(s);return l!==null&&u!==null?U0(l,u):On(42886)})(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return On(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){S_(this.inner,((t,i)=>{for(const[r,s]of i)e(r,s)}))}isEmpty(){return b8(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const see=new ms(tn.comparator);function Hp(){return see}const k8=new ms(tn.comparator);function L1(...n){let e=k8;for(const t of n)e=e.insert(t.key,t);return e}function aee(n){let e=k8;return n.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function Og(){return nx()}function z8(){return nx()}function nx(){return new uy((n=>n.toString()),((n,e)=>n.isEqual(e)))}const oee=new Bs(tn.comparator);function xi(...n){let e=oee;for(const t of n)e=e.add(t);return e}const lee=new Bs(Zn);function cee(){return lee}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WD(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:D2(e)?"-0":e}}function B8(n){return{integerValue:""+n}}function uee(n,e){return kJ(e)?B8(e):WD(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(){this._=void 0}}function fee(n,e,t){return n instanceof UI?(function(r,s){const a={fields:{[E8]:{stringValue:S8},[w8]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&VD(s)&&(s=EA(s)),s&&(a.fields[T8]=s),{mapValue:a}})(t,e):n instanceof z2?F8(n,e):n instanceof B2?V8(n,e):(function(r,s){const a=dee(r,s),o=x5(a)+x5(r.Ee);return II(a)&&II(r.Ee)?B8(o):WD(r.serializer,o)})(n,e)}function hee(n,e,t){return n instanceof z2?F8(n,e):n instanceof B2?V8(n,e):t}function dee(n,e){return n instanceof kI?(function(i){return II(i)||(function(s){return!!s&&"doubleValue"in s})(i)})(e)?e:{integerValue:0}:null}class UI extends CA{}class z2 extends CA{constructor(e){super(),this.elements=e}}function F8(n,e){const t=H8(e);for(const i of n.elements)t.some((r=>Df(r,i)))||t.push(i);return{arrayValue:{values:t}}}class B2 extends CA{constructor(e){super(),this.elements=e}}function V8(n,e){let t=H8(e);for(const i of n.elements)t=t.filter((r=>!Df(r,i)));return{arrayValue:{values:t}}}class kI extends CA{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function x5(n){return hs(n.integerValue||n.doubleValue)}function H8(n){return HD(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function pee(n,e){return n.field.isEqual(e.field)&&(function(i,r){return i instanceof z2&&r instanceof z2||i instanceof B2&&r instanceof B2?L0(i.elements,r.elements,Df):i instanceof kI&&r instanceof kI?Df(i.Ee,r.Ee):i instanceof UI&&r instanceof UI})(n.transform,e.transform)}class zg{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new zg}static exists(e){return new zg(void 0,e)}static updateTime(e){return new zg(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function n2(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class $D{}function j8(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new gee(n.key,zg.none()):new XD(n.key,n.data,zg.none());{const t=n.data,i=yf.empty();let r=new Bs(Qa.comparator);for(let s of e.fields)if(!r.has(s)){let a=t.field(s);a===null&&s.length>1&&(s=s.popLast(),a=t.field(s)),a===null?i.delete(s):i.set(s,a),r=r.add(s)}return new AA(n.key,i,new xp(r.toArray()),zg.none())}}function mee(n,e,t){n instanceof XD?(function(r,s,a){const o=r.value.clone(),l=E5(r.fieldTransforms,s,a.transformResults);o.setAll(l),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()})(n,e,t):n instanceof AA?(function(r,s,a){if(!n2(r.precondition,s))return void s.convertToUnknownDocument(a.version);const o=E5(r.fieldTransforms,s,a.transformResults),l=s.data;l.setAll(G8(r)),l.setAll(o),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()})(n,e,t):(function(r,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()})(0,e,t)}function ix(n,e,t,i){return n instanceof XD?(function(s,a,o,l){if(!n2(s.precondition,a))return o;const u=s.value.clone(),h=T5(s.fieldTransforms,l,a);return u.setAll(h),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null})(n,e,t,i):n instanceof AA?(function(s,a,o,l){if(!n2(s.precondition,a))return o;const u=T5(s.fieldTransforms,l,a),h=a.data;return h.setAll(G8(s)),h.setAll(u),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((p=>p.field)))})(n,e,t,i):(function(s,a,o){return n2(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o})(n,e,t)}function S5(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&L0(i,r,((s,a)=>pee(s,a)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class XD extends $D{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class AA extends $D{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function G8(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}})),e}function E5(n,e,t){const i=new Map;Fr(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let r=0;r<t.length;r++){const s=n[r],a=s.transform,o=e.data.field(s.field);i.set(s.field,hee(a,o,t[r]))}return i}function T5(n,e,t){const i=new Map;for(const r of n){const s=r.transform,a=t.data.field(r.field);i.set(r.field,fee(s,a,e))}return i}class gee extends $D{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yee{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&mee(s,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=ix(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=ix(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=z8();return this.mutations.forEach((r=>{const s=e.get(r.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=t.has(r.key)?null:o;const l=j8(a,o);l!==null&&i.set(r.key,l),a.isValidDocument()||a.convertToNoDocument(Mn.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),xi())}isEqual(e){return this.batchId===e.batchId&&L0(this.mutations,e.mutations,((t,i)=>S5(t,i)))&&L0(this.baseMutations,e.baseMutations,((t,i)=>S5(t,i)))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vee{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ee{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ws,pi;function q8(n){if(n===void 0)return Xh("GRPC error has no .code"),gt.UNKNOWN;switch(n){case ws.OK:return gt.OK;case ws.CANCELLED:return gt.CANCELLED;case ws.UNKNOWN:return gt.UNKNOWN;case ws.DEADLINE_EXCEEDED:return gt.DEADLINE_EXCEEDED;case ws.RESOURCE_EXHAUSTED:return gt.RESOURCE_EXHAUSTED;case ws.INTERNAL:return gt.INTERNAL;case ws.UNAVAILABLE:return gt.UNAVAILABLE;case ws.UNAUTHENTICATED:return gt.UNAUTHENTICATED;case ws.INVALID_ARGUMENT:return gt.INVALID_ARGUMENT;case ws.NOT_FOUND:return gt.NOT_FOUND;case ws.ALREADY_EXISTS:return gt.ALREADY_EXISTS;case ws.PERMISSION_DENIED:return gt.PERMISSION_DENIED;case ws.FAILED_PRECONDITION:return gt.FAILED_PRECONDITION;case ws.ABORTED:return gt.ABORTED;case ws.OUT_OF_RANGE:return gt.OUT_OF_RANGE;case ws.UNIMPLEMENTED:return gt.UNIMPLEMENTED;case ws.DATA_LOSS:return gt.DATA_LOSS;default:return On(39323,{code:n})}}(pi=ws||(ws={}))[pi.OK=0]="OK",pi[pi.CANCELLED=1]="CANCELLED",pi[pi.UNKNOWN=2]="UNKNOWN",pi[pi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pi[pi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pi[pi.NOT_FOUND=5]="NOT_FOUND",pi[pi.ALREADY_EXISTS=6]="ALREADY_EXISTS",pi[pi.PERMISSION_DENIED=7]="PERMISSION_DENIED",pi[pi.UNAUTHENTICATED=16]="UNAUTHENTICATED",pi[pi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pi[pi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pi[pi.ABORTED=10]="ABORTED",pi[pi.OUT_OF_RANGE=11]="OUT_OF_RANGE",pi[pi.UNIMPLEMENTED=12]="UNIMPLEMENTED",pi[pi.INTERNAL=13]="INTERNAL",pi[pi.UNAVAILABLE=14]="UNAVAILABLE",pi[pi.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bee=new Op([4294967295,4294967295],0);function w5(n){const e=g8().encode(n),t=new l8;return t.update(e),new Uint8Array(t.digest())}function C5(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Op([t,i],0),new Op([r,s],0)]}class YD{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new U1(`Invalid padding: ${t}`);if(i<0)throw new U1(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new U1(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new U1(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=Op.fromNumber(this.fe)}pe(e,t,i){let r=e.add(t.multiply(Op.fromNumber(i)));return r.compare(bee)===1&&(r=new Op([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=w5(e),[i,r]=C5(t);for(let s=0;s<this.hashCount;s++){const a=this.pe(i,r,s);if(!this.ye(a))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new YD(s,r,t);return i.forEach((o=>a.insert(o))),a}insert(e){if(this.fe===0)return;const t=w5(e),[i,r]=C5(t);for(let s=0;s<this.hashCount;s++){const a=this.pe(i,r,s);this.we(a)}}we(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class U1 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,ES.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new MA(Mn.min(),r,new ms(Zn),Hp(),xi())}}class ES{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new ES(i,t,xi(),xi(),xi())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e,t,i,r){this.Se=e,this.removedTargetIds=t,this.key=i,this.be=r}}class W8{constructor(e,t){this.targetId=e,this.De=t}}class $8{constructor(e,t,i=Ma.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class A5{constructor(){this.ve=0,this.Ce=M5(),this.Fe=Ma.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=xi(),t=xi(),i=xi();return this.Ce.forEach(((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:On(38017,{changeType:s})}})),new ES(this.Fe,this.Me,e,t,i)}ke(){this.xe=!1,this.Ce=M5()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Fr(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class xee{constructor(e){this.We=e,this.Ge=new Map,this.ze=Hp(),this.je=mT(),this.Je=mT(),this.He=new ms(Zn)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,(t=>{const i=this.tt(t);switch(e.state){case 0:this.nt(t)&&i.Be(e.resumeToken);break;case 1:i.Ue(),i.Oe||i.ke(),i.Be(e.resumeToken);break;case 2:i.Ue(),i.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(i.Ke(),i.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),i.Be(e.resumeToken));break;default:On(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach(((i,r)=>{this.nt(r)&&t(r)}))}it(e){const t=e.targetId,i=e.De.count,r=this.st(t);if(r){const s=r.target;if(DI(s))if(i===0){const a=new tn(s.path);this.Xe(t,a,Za.newNoDocument(a,Mn.min()))}else Fr(i===1,20013,{expectedCount:i});else{const a=this.ot(t);if(a!==i){const o=this._t(e),l=o?this.ut(o,e,a):1;if(l!==0){this.rt(t);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,u)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=t;let a,o;try{a=Fp(i).toUint8Array()}catch(l){if(l instanceof x8)return kp("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new YD(a,r,s)}catch(l){return kp(l instanceof U1?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.fe===0?null:o}ut(e,t,i){return t.De.count===i-this.ht(e,t.targetId)?0:2}ht(e,t){const i=this.We.getRemoteKeysForTarget(t);let r=0;return i.forEach((s=>{const a=this.We.lt(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.Xe(t,s,null),r++)})),r}Pt(e){const t=new Map;this.Ge.forEach(((s,a)=>{const o=this.st(a);if(o){if(s.current&&DI(o.target)){const l=new tn(o.target.path);this.Tt(l).has(a)||this.It(a,l)||this.Xe(a,l,Za.newNoDocument(l,e))}s.Ne&&(t.set(a,s.Le()),s.ke())}}));let i=xi();this.Je.forEach(((s,a)=>{let o=!0;a.forEachWhile((l=>{const u=this.st(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)})),o&&(i=i.add(s))})),this.ze.forEach(((s,a)=>a.setReadTime(e)));const r=new MA(e,t,this.He,this.ze,i);return this.ze=Hp(),this.je=mT(),this.Je=mT(),this.He=new ms(Zn),r}Ze(e,t){if(!this.nt(e))return;const i=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,i),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,i){if(!this.nt(e))return;const r=this.tt(e);this.It(e,t)?r.qe(t,1):r.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),i&&(this.ze=this.ze.insert(t,i))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new A5,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Bs(Zn),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Bs(Zn),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||Bt("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new A5),this.We.getRemoteKeysForTarget(e).forEach((t=>{this.Xe(e,t,null)}))}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function mT(){return new ms(tn.comparator)}function M5(){return new ms(tn.comparator)}const See={asc:"ASCENDING",desc:"DESCENDING"},Eee={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Tee={and:"AND",or:"OR"};class wee{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function zI(n,e){return n.useProto3Json||SA(e)?e:{value:e}}function BI(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function X8(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function b0(n){return Fr(!!n,49232),Mn.fromTimestamp((function(t){const i=Bp(t);return new Er(i.seconds,i.nanos)})(n))}function Y8(n,e){return FI(n,e).canonicalString()}function FI(n,e){const t=(function(r){return new or(["projects",r.projectId,"databases",r.database])})(n).child("documents");return e===void 0?t:t.child(e)}function K8(n){const e=or.fromString(n);return Fr(t7(e),10190,{key:e.toString()}),e}function nO(n,e){const t=K8(e);if(t.get(1)!==n.databaseId.projectId)throw new zt(gt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new zt(gt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new tn(Q8(t))}function Z8(n,e){return Y8(n.databaseId,e)}function Cee(n){const e=K8(n);return e.length===4?or.emptyPath():Q8(e)}function R5(n){return new or(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Q8(n){return Fr(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Aee(n,e){let t;if("targetChange"in e){e.targetChange;const i=(function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:On(39313,{state:u})})(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=(function(u,h){return u.useProto3Json?(Fr(h===void 0||typeof h=="string",58123),Ma.fromBase64String(h||"")):(Fr(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Ma.fromUint8Array(h||new Uint8Array))})(n,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&(function(u){const h=u.code===void 0?gt.UNKNOWN:q8(u.code);return new zt(h,u.message||"")})(a);t=new $8(i,r,s,o||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=nO(n,i.document.name),s=b0(i.document.updateTime),a=i.document.createTime?b0(i.document.createTime):Mn.min(),o=new yf({mapValue:{fields:i.document.fields}}),l=Za.newFoundDocument(r,s,a,o),u=i.targetIds||[],h=i.removedTargetIds||[];t=new i2(u,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=nO(n,i.document),s=i.readTime?b0(i.readTime):Mn.min(),a=Za.newNoDocument(r,s),o=i.removedTargetIds||[];t=new i2([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=nO(n,i.document),s=i.removedTargetIds||[];t=new i2([],s,r,null)}else{if(!("filter"in e))return On(11601,{At:e});{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,a=new _ee(r,s),o=i.targetId;t=new W8(o,a)}}return t}function Mee(n,e){return{documents:[Z8(n,e.path)]}}function Ree(n,e){const t={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=Z8(n,r);const s=(function(u){if(u.length!==0)return e7(bu.create(u,"and"))})(e.filters);s&&(t.structuredQuery.where=s);const a=(function(u){if(u.length!==0)return u.map((h=>(function(y){return{field:s0(y.field),direction:Pee(y.dir)}})(h)))})(e.orderBy);a&&(t.structuredQuery.orderBy=a);const o=zI(n,e.limit);return o!==null&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt=(function(u){return{before:u.inclusive,values:u.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(u){return{before:!u.inclusive,values:u.position}})(e.endAt)),{Vt:t,parent:r}}function Oee(n){let e=Cee(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Fr(i===1,65062);const h=t.from[0];h.allDescendants?r=h.collectionId:e=e.child(h.collectionId)}let s=[];t.where&&(s=(function(p){const y=J8(p);return y instanceof bu&&O8(y)?y.getFilters():[y]})(t.where));let a=[];t.orderBy&&(a=(function(p){return p.map((y=>(function(_){return new k2(a0(_.field),(function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(_.direction))})(y)))})(t.orderBy));let o=null;t.limit&&(o=(function(p){let y;return y=typeof p=="object"?p.value:p,SA(y)?null:y})(t.limit));let l=null;t.startAt&&(l=(function(p){const y=!!p.before,v=p.values||[];return new U2(v,y)})(t.startAt));let u=null;return t.endAt&&(u=(function(p){const y=!p.before,v=p.values||[];return new U2(v,y)})(t.endAt)),tee(e,r,a,s,o,"F",l,u)}function Iee(n,e){const t=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return On(28987,{purpose:r})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function J8(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=a0(t.unaryFilter.field);return Rs.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=a0(t.unaryFilter.field);return Rs.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=a0(t.unaryFilter.field);return Rs.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=a0(t.unaryFilter.field);return Rs.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return On(61313);default:return On(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Rs.create(a0(t.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return On(58110);default:return On(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return bu.create(t.compositeFilter.filters.map((i=>J8(i))),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return On(1026)}})(t.compositeFilter.op))})(n):On(30097,{filter:n})}function Pee(n){return See[n]}function Dee(n){return Eee[n]}function Nee(n){return Tee[n]}function s0(n){return{fieldPath:n.canonicalString()}}function a0(n){return Qa.fromServerFormat(n.fieldPath)}function e7(n){return n instanceof Rs?(function(t){if(t.op==="=="){if(g5(t.value))return{unaryFilter:{field:s0(t.field),op:"IS_NAN"}};if(m5(t.value))return{unaryFilter:{field:s0(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(g5(t.value))return{unaryFilter:{field:s0(t.field),op:"IS_NOT_NAN"}};if(m5(t.value))return{unaryFilter:{field:s0(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:s0(t.field),op:Dee(t.op),value:t.value}}})(n):n instanceof bu?(function(t){const i=t.getFilters().map((r=>e7(r)));return i.length===1?i[0]:{compositeFilter:{op:Nee(t.op),filters:i}}})(n):On(54877,{filter:n})}function t7(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(e,t,i,r,s=Mn.min(),a=Mn.min(),o=Ma.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new Sp(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Sp(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Sp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Sp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lee{constructor(e){this.gt=e}}function Uee(n){const e=Oee({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?LI(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kee{constructor(){this.Dn=new zee}addToCollectionParentIndex(e,t){return this.Dn.add(t),nt.resolve()}getCollectionParents(e,t){return nt.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return nt.resolve()}deleteFieldIndex(e,t){return nt.resolve()}deleteAllFieldIndexes(e){return nt.resolve()}createTargetIndexes(e,t){return nt.resolve()}getDocumentsMatchingTarget(e,t){return nt.resolve(null)}getIndexType(e,t){return nt.resolve(0)}getFieldIndexes(e,t){return nt.resolve([])}getNextCollectionGroupToUpdate(e){return nt.resolve(null)}getMinOffset(e,t){return nt.resolve(zp.min())}getMinOffsetFromCollectionGroup(e,t){return nt.resolve(zp.min())}updateCollectionGroup(e,t,i){return nt.resolve()}updateIndexEntries(e,t){return nt.resolve()}}class zee{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Bs(or.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Bs(or.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O5={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},n7=41943040;class Qo{static withCacheSize(e){return new Qo(e,Qo.DEFAULT_COLLECTION_PERCENTILE,Qo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qo.DEFAULT_COLLECTION_PERCENTILE=10,Qo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qo.DEFAULT=new Qo(n7,Qo.DEFAULT_COLLECTION_PERCENTILE,Qo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qo.DISABLED=new Qo(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new z0(0)}static ur(){return new z0(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I5="LruGarbageCollector",Bee=1048576;function P5([n,e],[t,i]){const r=Zn(n,t);return r===0?Zn(e,i):r}class Fee{constructor(e){this.Tr=e,this.buffer=new Bs(P5),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();P5(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Vee{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){Bt(I5,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){x_(t)?Bt(I5,"Ignoring IndexedDB error during garbage collection: ",t):await bA(t)}await this.Rr(3e5)}))}}class Hee{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return nt.resolve(xA.ue);const i=new Fee(t);return this.Vr.forEachTarget(e,(r=>i.Er(r.sequenceNumber))).next((()=>this.Vr.gr(e,(r=>i.Er(r))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.Vr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Bt("LruGarbageCollector","Garbage collection skipped; disabled"),nt.resolve(O5)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(Bt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),O5):this.pr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let i,r,s,a,o,l,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(Bt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),r=this.params.maximumSequenceNumbersToCollect):r=p,a=Date.now(),this.nthSequenceNumber(e,r)))).next((p=>(i=p,o=Date.now(),this.removeTargets(e,i,t)))).next((p=>(s=p,l=Date.now(),this.removeOrphanedDocuments(e,i)))).next((p=>(u=Date.now(),i0()<=si.DEBUG&&Bt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-h}ms
	Determined least recently used ${r} in `+(o-a)+`ms
	Removed ${s} targets in `+(l-o)+`ms
	Removed ${p} documents in `+(u-l)+`ms
Total Duration: ${u-h}ms`),nt.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:p}))))}}function jee(n,e){return new Hee(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gee{constructor(){this.changes=new uy((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Za.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?nt.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qee{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wee{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(i=r,this.remoteDocumentCache.getEntry(e,t)))).next((r=>(i!==null&&ix(i.mutation,r,xp.empty(),Er.now()),r)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,xi()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=xi()){const r=Og();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,i).next((s=>{let a=L1();return s.forEach(((o,l)=>{a=a.insert(o,l.overlayedDocument)})),a}))))}getOverlayedDocuments(e,t){const i=Og();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,xi())))}populateOverlays(e,t,i){const r=[];return i.forEach((s=>{t.has(s)||r.push(s)})),this.documentOverlayCache.getOverlays(e,r).next((s=>{s.forEach(((a,o)=>{t.set(a,o)}))}))}computeViews(e,t,i,r){let s=Hp();const a=nx(),o=(function(){return nx()})();return t.forEach(((l,u)=>{const h=i.get(u.key);r.has(u.key)&&(h===void 0||h.mutation instanceof AA)?s=s.insert(u.key,u):h!==void 0?(a.set(u.key,h.mutation.getFieldMask()),ix(h.mutation,u,h.mutation.getFieldMask(),Er.now())):a.set(u.key,xp.empty())})),this.recalculateAndSaveOverlays(e,s).next((l=>(l.forEach(((u,h)=>a.set(u,h))),t.forEach(((u,h)=>{var p;return o.set(u,new qee(h,(p=a.get(u))!==null&&p!==void 0?p:null))})),o)))}recalculateAndSaveOverlays(e,t){const i=nx();let r=new ms(((a,o)=>a-o)),s=xi();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((a=>{for(const o of a)o.keys().forEach((l=>{const u=t.get(l);if(u===null)return;let h=i.get(l)||xp.empty();h=o.applyToLocalView(u,h),i.set(l,h);const p=(r.get(o.batchId)||xi()).add(l);r=r.insert(o.batchId,p)}))})).next((()=>{const a=[],o=r.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),u=l.key,h=l.value,p=z8();h.forEach((y=>{if(!s.has(y)){const v=j8(t.get(y),i.get(y));v!==null&&p.set(y,v),s=s.add(y)}})),a.push(this.documentOverlayCache.saveOverlays(e,u,p))}return nt.waitFor(a)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,r){return(function(a){return tn.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):N8(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r)}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next((s=>{const a=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-s.size):nt.resolve(Og());let o=Ix,l=s;return a.next((u=>nt.forEach(u,((h,p)=>(o<p.largestBatchId&&(o=p.largestBatchId),s.get(h)?nt.resolve():this.remoteDocumentCache.getEntry(e,h).next((y=>{l=l.insert(h,y)}))))).next((()=>this.populateOverlays(e,u,s))).next((()=>this.computeViews(e,l,u,xi()))).next((h=>({batchId:o,changes:aee(h)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new tn(t)).next((i=>{let r=L1();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){const s=t.collectionGroup;let a=L1();return this.indexManager.getCollectionParents(e,s).next((o=>nt.forEach(o,(l=>{const u=(function(p,y){return new SS(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(t,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,i,r).next((h=>{h.forEach(((p,y)=>{a=a.insert(p,y)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,t,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,s,r)))).next((a=>{s.forEach(((l,u)=>{const h=u.getKey();a.get(h)===null&&(a=a.insert(h,Za.newInvalidDocument(h)))}));let o=L1();return a.forEach(((l,u)=>{const h=s.get(l);h!==void 0&&ix(h.mutation,u,xp.empty(),Er.now()),wA(t,u)&&(o=o.insert(l,u))})),o}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ee{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return nt.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(r){return{id:r.id,version:r.version,createTime:b0(r.createTime)}})(t)),nt.resolve()}getNamedQuery(e,t){return nt.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(r){return{name:r.name,query:Uee(r.bundledQuery),readTime:b0(r.readTime)}})(t)),nt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xee{constructor(){this.overlays=new ms(tn.comparator),this.kr=new Map}getOverlay(e,t){return nt.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Og();return nt.forEach(t,(r=>this.getOverlay(e,r).next((s=>{s!==null&&i.set(r,s)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((r,s)=>{this.wt(e,t,s)})),nt.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.kr.get(i);return r!==void 0&&(r.forEach((s=>this.overlays=this.overlays.remove(s))),this.kr.delete(i)),nt.resolve()}getOverlaysForCollection(e,t,i){const r=Og(),s=t.length+1,a=new tn(t.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,u=l.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return nt.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new ms(((u,h)=>u-h));const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>i){let h=s.get(u.largestBatchId);h===null&&(h=Og(),s=s.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const o=Og(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach(((u,h)=>o.set(u,h))),!(o.size()>=r)););return nt.resolve(o)}wt(e,t,i){const r=this.overlays.get(i.key);if(r!==null){const a=this.kr.get(r.largestBatchId).delete(i.key);this.kr.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new vee(t,i));let s=this.kr.get(t);s===void 0&&(s=xi(),this.kr.set(t,s)),this.kr.set(t,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yee{constructor(){this.sessionToken=Ma.EMPTY_BYTE_STRING}getSessionToken(e){return nt.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,nt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(){this.qr=new Bs(ta.Qr),this.$r=new Bs(ta.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const i=new ta(e,t);this.qr=this.qr.add(i),this.$r=this.$r.add(i)}Kr(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Wr(new ta(e,t))}Gr(e,t){e.forEach((i=>this.removeReference(i,t)))}zr(e){const t=new tn(new or([])),i=new ta(t,e),r=new ta(t,e+1),s=[];return this.$r.forEachInRange([i,r],(a=>{this.Wr(a),s.push(a.key)})),s}jr(){this.qr.forEach((e=>this.Wr(e)))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new tn(new or([])),i=new ta(t,e),r=new ta(t,e+1);let s=xi();return this.$r.forEachInRange([i,r],(a=>{s=s.add(a.key)})),s}containsKey(e){const t=new ta(e,0),i=this.qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class ta{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return tn.comparator(e.key,t.key)||Zn(e.Hr,t.Hr)}static Ur(e,t){return Zn(e.Hr,t.Hr)||tn.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kee{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Bs(ta.Qr)}checkEmpty(e){return nt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,r){const s=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new yee(s,t,i,r);this.mutationQueue.push(a);for(const o of r)this.Yr=this.Yr.add(new ta(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return nt.resolve(a)}lookupMutationBatch(e,t){return nt.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=this.Xr(i),s=r<0?0:r;return nt.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return nt.resolve(this.mutationQueue.length===0?UJ:this.er-1)}getAllMutationBatches(e){return nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new ta(t,0),r=new ta(t,Number.POSITIVE_INFINITY),s=[];return this.Yr.forEachInRange([i,r],(a=>{const o=this.Zr(a.Hr);s.push(o)})),nt.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Bs(Zn);return t.forEach((r=>{const s=new ta(r,0),a=new ta(r,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([s,a],(o=>{i=i.add(o.Hr)}))})),nt.resolve(this.ei(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let s=i;tn.isDocumentKey(s)||(s=s.child(""));const a=new ta(new tn(s),0);let o=new Bs(Zn);return this.Yr.forEachWhile((l=>{const u=l.key.path;return!!i.isPrefixOf(u)&&(u.length===r&&(o=o.add(l.Hr)),!0)}),a),nt.resolve(this.ei(o))}ei(e){const t=[];return e.forEach((i=>{const r=this.Zr(i);r!==null&&t.push(r)})),t}removeMutationBatch(e,t){Fr(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Yr;return nt.forEach(t.mutations,(r=>{const s=new ta(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Yr=i}))}rr(e){}containsKey(e,t){const i=new ta(t,0),r=this.Yr.firstAfterOrEqual(i);return nt.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,nt.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zee{constructor(e){this.ni=e,this.docs=(function(){return new ms(tn.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),s=r?r.size:0,a=this.ni(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return nt.resolve(i?i.document.mutableCopy():Za.newInvalidDocument(t))}getEntries(e,t){let i=Hp();return t.forEach((r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Za.newInvalidDocument(r))})),nt.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let s=Hp();const a=t.path,o=new tn(a.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:u,value:{document:h}}=l.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||PJ(IJ(h),i)<=0||(r.has(h.key)||wA(t,h))&&(s=s.insert(h.key,h.mutableCopy()))}return nt.resolve(s)}getAllFromCollectionGroup(e,t,i,r){On(9500)}ri(e,t){return nt.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new Qee(this)}getSize(e){return nt.resolve(this.size)}}class Qee extends Gee{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach(((i,r)=>{r.isValidDocument()?t.push(this.Or.addEntry(e,r)):this.Or.removeEntry(i)})),nt.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jee{constructor(e){this.persistence=e,this.ii=new uy((t=>jD(t)),GD),this.lastRemoteSnapshotVersion=Mn.min(),this.highestTargetId=0,this.si=0,this.oi=new KD,this.targetCount=0,this._i=z0.ar()}forEachTarget(e,t){return this.ii.forEach(((i,r)=>t(r))),nt.resolve()}getLastRemoteSnapshotVersion(e){return nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return nt.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),nt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.si&&(this.si=t),nt.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new z0(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,nt.resolve()}updateTargetData(e,t){return this.hr(t),nt.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,nt.resolve()}removeTargets(e,t,i){let r=0;const s=[];return this.ii.forEach(((a,o)=>{o.sequenceNumber<=t&&i.get(o.targetId)===null&&(this.ii.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),nt.waitFor(s).next((()=>r))}getTargetCount(e){return nt.resolve(this.targetCount)}getTargetData(e,t){const i=this.ii.get(t)||null;return nt.resolve(i)}addMatchingKeys(e,t,i){return this.oi.Kr(t,i),nt.resolve()}removeMatchingKeys(e,t,i){this.oi.Gr(t,i);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach((a=>{s.push(r.markPotentiallyOrphaned(e,a))})),nt.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),nt.resolve()}getMatchingKeysForTargetId(e,t){const i=this.oi.Jr(t);return nt.resolve(i)}containsKey(e,t){return nt.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i7{constructor(e,t){this.ai={},this.overlays={},this.ui=new xA(0),this.ci=!1,this.ci=!0,this.li=new Yee,this.referenceDelegate=e(this),this.hi=new Jee(this),this.indexManager=new kee,this.remoteDocumentCache=(function(r){return new Zee(r)})((i=>this.referenceDelegate.Pi(i))),this.serializer=new Lee(t),this.Ti=new $ee(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Xee,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ai[e.toKey()];return i||(i=new Kee(t,this.referenceDelegate),this.ai[e.toKey()]=i),i}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,i){Bt("MemoryPersistence","Starting transaction:",e);const r=new ete(this.ui.next());return this.referenceDelegate.Ii(),i(r).next((s=>this.referenceDelegate.di(r).next((()=>s)))).toPromise().then((s=>(r.raiseOnCommittedEvent(),s)))}Ei(e,t){return nt.or(Object.values(this.ai).map((i=>()=>i.containsKey(e,t))))}}class ete extends NJ{constructor(e){super(),this.currentSequenceNumber=e}}class ZD{constructor(e){this.persistence=e,this.Ai=new KD,this.Ri=null}static Vi(e){return new ZD(e)}get mi(){if(this.Ri)return this.Ri;throw On(60996)}addReference(e,t,i){return this.Ai.addReference(i,t),this.mi.delete(i.toString()),nt.resolve()}removeReference(e,t,i){return this.Ai.removeReference(i,t),this.mi.add(i.toString()),nt.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),nt.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach((r=>this.mi.add(r.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((r=>{r.forEach((s=>this.mi.add(s.toString())))})).next((()=>i.removeTargetData(e,t)))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nt.forEach(this.mi,(i=>{const r=tn.fromPath(i);return this.fi(e,r).next((s=>{s||t.removeEntry(r,Mn.min())}))})).next((()=>(this.Ri=null,t.apply(e))))}updateLimboDocument(e,t){return this.fi(e,t).next((i=>{i?this.mi.delete(t.toString()):this.mi.add(t.toString())}))}Pi(e){return 0}fi(e,t){return nt.or([()=>nt.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class F2{constructor(e,t){this.persistence=e,this.gi=new uy((i=>zJ(i.path)),((i,r)=>i.isEqual(r))),this.garbageCollector=jee(this,t)}static Vi(e,t){return new F2(e,t)}Ii(){}di(e){return nt.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((r=>i+r))))}yr(e){let t=0;return this.gr(e,(i=>{t++})).next((()=>t))}gr(e,t){return nt.forEach(this.gi,((i,r)=>this.Sr(e,i,r).next((s=>s?nt.resolve():t(r)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.ri(e,(a=>this.Sr(e,a,t).next((o=>{o||(i++,s.removeEntry(a,Mn.min()))})))).next((()=>s.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),nt.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.gi.set(i,e.currentSequenceNumber),nt.resolve()}removeReference(e,t,i){return this.gi.set(i,e.currentSequenceNumber),nt.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),nt.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=t2(e.data.value)),t}Sr(e,t,i){return nt.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const r=this.gi.get(t);return nt.resolve(r!==void 0&&r>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Is=i,this.ds=r}static Es(e,t){let i=xi(),r=xi();for(const s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new QD(e,t.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tte{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nte{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return nQ()?8:LJ(no())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,i,r){const s={result:null};return this.ps(e,t).next((a=>{s.result=a})).next((()=>{if(!s.result)return this.ys(e,t,r,i).next((a=>{s.result=a}))})).next((()=>{if(s.result)return;const a=new tte;return this.ws(e,t,a).next((o=>{if(s.result=o,this.Rs)return this.Ss(e,t,a,o.size)}))})).next((()=>s.result))}Ss(e,t,i,r){return i.documentReadCount<this.Vs?(i0()<=si.DEBUG&&Bt("QueryEngine","SDK will not create cache indexes for query:",r0(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),nt.resolve()):(i0()<=si.DEBUG&&Bt("QueryEngine","Query:",r0(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.fs*r?(i0()<=si.DEBUG&&Bt("QueryEngine","The SDK decides to create cache indexes for query:",r0(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Tf(t))):nt.resolve())}ps(e,t){if(b5(t))return nt.resolve(null);let i=Tf(t);return this.indexManager.getIndexType(e,i).next((r=>r===0?null:(t.limit!==null&&r===1&&(t=LI(t,null,"F"),i=Tf(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((s=>{const a=xi(...s);return this.gs.getDocuments(e,a).next((o=>this.indexManager.getMinOffset(e,i).next((l=>{const u=this.bs(t,o);return this.Ds(t,u,a,l.readTime)?this.ps(e,LI(t,null,"F")):this.vs(e,u,t,l)}))))})))))}ys(e,t,i,r){return b5(t)||r.isEqual(Mn.min())?nt.resolve(null):this.gs.getDocuments(e,i).next((s=>{const a=this.bs(t,s);return this.Ds(t,a,i,r)?nt.resolve(null):(i0()<=si.DEBUG&&Bt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),r0(t)),this.vs(e,a,t,OJ(r,Ix)).next((o=>o)))}))}bs(e,t){let i=new Bs(U8(e));return t.forEach(((r,s)=>{wA(e,s)&&(i=i.add(s))})),i}Ds(e,t,i,r){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}ws(e,t,i){return i0()<=si.DEBUG&&Bt("QueryEngine","Using full collection scan to execute query:",r0(t)),this.gs.getDocumentsMatchingQuery(e,t,zp.min(),i)}vs(e,t,i,r){return this.gs.getDocumentsMatchingQuery(e,i,r).next((s=>(t.forEach((a=>{s=s.insert(a.key,a)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD="LocalStore",ite=3e8;class rte{constructor(e,t,i,r){this.persistence=e,this.Cs=t,this.serializer=r,this.Fs=new ms(Zn),this.Ms=new uy((s=>jD(s)),GD),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(i)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Wee(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Fs)))}}function ste(n,e,t,i){return new rte(n,e,t,i)}async function r7(n,e){const t=vi(n);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next((s=>(r=s,t.Ns(e),t.mutationQueue.getAllMutationBatches(i)))).next((s=>{const a=[],o=[];let l=xi();for(const u of r){a.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}for(const u of s){o.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}return t.localDocuments.getDocuments(i,l).next((u=>({Bs:u,removedBatchIds:a,addedBatchIds:o})))}))}))}function s7(n){const e=vi(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.hi.getLastRemoteSnapshotVersion(t)))}function ate(n,e){const t=vi(n),i=e.snapshotVersion;let r=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const a=t.Os.newChangeBuffer({trackRemovals:!0});r=t.Fs;const o=[];e.targetChanges.forEach(((h,p)=>{const y=r.get(p);if(!y)return;o.push(t.hi.removeMatchingKeys(s,h.removedDocuments,p).next((()=>t.hi.addMatchingKeys(s,h.addedDocuments,p))));let v=y.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(Ma.EMPTY_BYTE_STRING,Mn.min()).withLastLimboFreeSnapshotVersion(Mn.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,i)),r=r.insert(p,v),(function(x,E,S){return x.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=ite?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0})(y,v,h)&&o.push(t.hi.updateTargetData(s,v))}));let l=Hp(),u=xi();if(e.documentUpdates.forEach((h=>{e.resolvedLimboDocuments.has(h)&&o.push(t.persistence.referenceDelegate.updateLimboDocument(s,h))})),o.push(ote(s,a,e.documentUpdates).next((h=>{l=h.Ls,u=h.ks}))),!i.isEqual(Mn.min())){const h=t.hi.getLastRemoteSnapshotVersion(s).next((p=>t.hi.setTargetsMetadata(s,s.currentSequenceNumber,i)));o.push(h)}return nt.waitFor(o).next((()=>a.apply(s))).next((()=>t.localDocuments.getLocalViewOfDocuments(s,l,u))).next((()=>l))})).then((s=>(t.Fs=r,s)))}function ote(n,e,t){let i=xi(),r=xi();return t.forEach((s=>i=i.add(s))),e.getEntries(n,i).next((s=>{let a=Hp();return t.forEach(((o,l)=>{const u=s.get(o);l.isFoundDocument()!==u.isFoundDocument()&&(r=r.add(o)),l.isNoDocument()&&l.version.isEqual(Mn.min())?(e.removeEntry(o,l.readTime),a=a.insert(o,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),a=a.insert(o,l)):Bt(JD,"Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",l.version)})),{Ls:a,ks:r}}))}function lte(n,e){const t=vi(n);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let r;return t.hi.getTargetData(i,e).next((s=>s?(r=s,nt.resolve(r)):t.hi.allocateTargetId(i).next((a=>(r=new Sp(e,a,"TargetPurposeListen",i.currentSequenceNumber),t.hi.addTargetData(i,r).next((()=>r)))))))})).then((i=>{const r=t.Fs.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(i.targetId,i),t.Ms.set(e,i.targetId)),i}))}async function VI(n,e,t){const i=vi(n),r=i.Fs.get(e),s=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",s,(a=>i.persistence.referenceDelegate.removeTarget(a,r)))}catch(a){if(!x_(a))throw a;Bt(JD,`Failed to update sequence numbers for target ${e}: ${a}`)}i.Fs=i.Fs.remove(e),i.Ms.delete(r.target)}function D5(n,e,t){const i=vi(n);let r=Mn.min(),s=xi();return i.persistence.runTransaction("Execute query","readwrite",(a=>(function(l,u,h){const p=vi(l),y=p.Ms.get(h);return y!==void 0?nt.resolve(p.Fs.get(y)):p.hi.getTargetData(u,h)})(i,a,Tf(e)).next((o=>{if(o)return r=o.lastLimboFreeSnapshotVersion,i.hi.getMatchingKeysForTargetId(a,o.targetId).next((l=>{s=l}))})).next((()=>i.Cs.getDocumentsMatchingQuery(a,e,t?r:Mn.min(),t?s:xi()))).next((o=>(cte(i,iee(e),o),{documents:o,qs:s})))))}function cte(n,e,t){let i=n.xs.get(e)||Mn.min();t.forEach(((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)})),n.xs.set(e,i)}class N5{constructor(){this.activeTargetIds=cee()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ute{constructor(){this.Fo=new N5,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,i){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new N5,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fte{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L5="ConnectivityMonitor";class U5{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){Bt(L5,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){Bt(L5,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gT=null;function HI(){return gT===null?gT=(function(){return 268435456+Math.round(2147483648*Math.random())})():gT++,"0x"+gT.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO="RestConnection",hte={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class dte{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${i}/databases/${r}`,this.Ko=this.databaseId.database===N2?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Wo(e,t,i,r,s){const a=HI(),o=this.Go(e,t.toUriEncodedString());Bt(iO,`Sending RPC '${e}' ${a}:`,o,i);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(l,r,s);const{host:u}=new URL(o),h=v_(u);return this.jo(e,o,l,i,h).then((p=>(Bt(iO,`Received RPC '${e}' ${a}: `,p),p)),(p=>{throw kp(iO,`RPC '${e}' ${a} failed with error: `,p,"url: ",o,"request:",i),p}))}Jo(e,t,i,r,s,a){return this.Wo(e,t,i,r,s)}zo(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+b_})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((r,s)=>e[s]=r)),i&&i.headers.forEach(((r,s)=>e[s]=r))}Go(e,t){const i=hte[e];return`${this.$o}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pte{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga="WebChannelConnection";class mte extends dte{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,i,r,s){const a=HI();return new Promise(((o,l)=>{const u=new c8;u.setWithCredentials(!0),u.listenOnce(u8.COMPLETE,(()=>{try{switch(u.getLastErrorCode()){case e2.NO_ERROR:const p=u.getResponseJson();Bt(Ga,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(p)),o(p);break;case e2.TIMEOUT:Bt(Ga,`RPC '${e}' ${a} timed out`),l(new zt(gt.DEADLINE_EXCEEDED,"Request time out"));break;case e2.HTTP_ERROR:const y=u.getStatus();if(Bt(Ga,`RPC '${e}' ${a} failed with status:`,y,"response text:",u.getResponseText()),y>0){let v=u.getResponseJson();Array.isArray(v)&&(v=v[0]);const _=v==null?void 0:v.error;if(_&&_.status&&_.message){const x=(function(S){const w=S.toLowerCase().replace(/_/g,"-");return Object.values(gt).indexOf(w)>=0?w:gt.UNKNOWN})(_.status);l(new zt(x,_.message))}else l(new zt(gt.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new zt(gt.UNAVAILABLE,"Connection failed."));break;default:On(9055,{c_:e,streamId:a,l_:u.getLastErrorCode(),h_:u.getLastError()})}}finally{Bt(Ga,`RPC '${e}' ${a} completed.`)}}));const h=JSON.stringify(r);Bt(Ga,`RPC '${e}' ${a} sending request:`,r),u.send(t,"POST",h,i,15)}))}P_(e,t,i){const r=HI(),s=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=d8(),o=h8(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.zo(l.initMessageHeaders,t,i),l.encodeInitMessageHeaders=!0;const h=s.join("");Bt(Ga,`Creating RPC '${e}' stream ${r}: ${h}`,l);const p=a.createWebChannel(h,l);this.T_(p);let y=!1,v=!1;const _=new pte({Ho:E=>{v?Bt(Ga,`Not sending because RPC '${e}' stream ${r} is closed:`,E):(y||(Bt(Ga,`Opening RPC '${e}' stream ${r} transport.`),p.open(),y=!0),Bt(Ga,`RPC '${e}' stream ${r} sending:`,E),p.send(E))},Yo:()=>p.close()}),x=(E,S,w)=>{E.listen(S,(C=>{try{w(C)}catch(A){setTimeout((()=>{throw A}),0)}}))};return x(p,N1.EventType.OPEN,(()=>{v||(Bt(Ga,`RPC '${e}' stream ${r} transport opened.`),_.s_())})),x(p,N1.EventType.CLOSE,(()=>{v||(v=!0,Bt(Ga,`RPC '${e}' stream ${r} transport closed`),_.__(),this.I_(p))})),x(p,N1.EventType.ERROR,(E=>{v||(v=!0,kp(Ga,`RPC '${e}' stream ${r} transport errored. Name:`,E.name,"Message:",E.message),_.__(new zt(gt.UNAVAILABLE,"The operation could not be completed")))})),x(p,N1.EventType.MESSAGE,(E=>{var S;if(!v){const w=E.data[0];Fr(!!w,16349);const C=w,A=(C==null?void 0:C.error)||((S=C[0])===null||S===void 0?void 0:S.error);if(A){Bt(Ga,`RPC '${e}' stream ${r} received error:`,A);const N=A.status;let L=(function(P){const U=ws[P];if(U!==void 0)return q8(U)})(N),I=A.message;L===void 0&&(L=gt.INTERNAL,I="Unknown error status: "+N+" with message "+A.message),v=!0,_.__(new zt(L,I)),p.close()}else Bt(Ga,`RPC '${e}' stream ${r} received:`,w),_.a_(w)}})),x(o,f8.STAT_EVENT,(E=>{E.stat===MI.PROXY?Bt(Ga,`RPC '${e}' stream ${r} detected buffering proxy`):E.stat===MI.NOPROXY&&Bt(Ga,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{_.o_()}),0),_}terminate(){this.u_.forEach((e=>e.close())),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter((t=>t===e))}}function rO(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(n){return new wee(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a7{constructor(e,t,i=1e3,r=1.5,s=6e4){this.Fi=e,this.timerId=t,this.d_=i,this.E_=r,this.A_=s,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),i=Math.max(0,Date.now()-this.m_),r=Math.max(0,t-i);r>0&&Bt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,r,(()=>(this.m_=Date.now(),e()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k5="PersistentStream";class gte{constructor(e,t,i,r,s,a,o,l){this.Fi=e,this.w_=i,this.S_=r,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new a7(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===gt.RESOURCE_EXHAUSTED?(Xh(t.toString()),Xh("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===gt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,r])=>{this.b_===t&&this.W_(i,r)}),(i=>{e((()=>{const r=new zt(gt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.G_(r)}))}))}W_(e,t){const i=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.e_((()=>{i((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((r=>{i((()=>this.G_(r)))})),this.stream.onMessage((r=>{i((()=>++this.C_==1?this.j_(r):this.onNext(r)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(e){return Bt(k5,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget((()=>this.b_===e?t():(Bt(k5,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class yte extends gte{constructor(e,t,i,r,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,a),this.serializer=s}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=Aee(this.serializer,e),i=(function(s){if(!("targetChange"in s))return Mn.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Mn.min():a.readTime?b0(a.readTime):Mn.min()})(e);return this.listener.J_(t,i)}H_(e){const t={};t.database=R5(this.serializer),t.addTarget=(function(s,a){let o;const l=a.target;if(o=DI(l)?{documents:Mee(s,l)}:{query:Ree(s,l).Vt},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=X8(s,a.resumeToken);const u=zI(s,a.expectedCount);u!==null&&(o.expectedCount=u)}else if(a.snapshotVersion.compareTo(Mn.min())>0){o.readTime=BI(s,a.snapshotVersion.toTimestamp());const u=zI(s,a.expectedCount);u!==null&&(o.expectedCount=u)}return o})(this.serializer,e);const i=Iee(this.serializer,e);i&&(t.labels=i),this.k_(t)}Y_(e){const t={};t.database=R5(this.serializer),t.removeTarget=e,this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vte{}class _te extends vte{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.ra=!1}ia(){if(this.ra)throw new zt(gt.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,i,r){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,a])=>this.connection.Wo(e,FI(t,i),r,s,a))).catch((s=>{throw s.name==="FirebaseError"?(s.code===gt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new zt(gt.UNKNOWN,s.toString())}))}Jo(e,t,i,r,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,o])=>this.connection.Jo(e,FI(t,i),r,a,o,s))).catch((a=>{throw a.name==="FirebaseError"?(a.code===gt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new zt(gt.UNKNOWN,a.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class bte{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Xh(t),this._a=!1):Bt("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0="RemoteStore";class xte{constructor(e,t,i,r,s){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=s,this.Ea.xo((a=>{i.enqueueAndForget((async()=>{wS(this)&&(Bt(B0,"Restarting streams for network reachability change."),await(async function(l){const u=vi(l);u.Ia.add(4),await TS(u),u.Aa.set("Unknown"),u.Ia.delete(4),await OA(u)})(this))}))})),this.Aa=new bte(i,r)}}async function OA(n){if(wS(n))for(const e of n.da)await e(!0)}async function TS(n){for(const e of n.da)await e(!1)}function o7(n,e){const t=vi(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),iN(t)?nN(t):E_(t).x_()&&tN(t,e))}function eN(n,e){const t=vi(n),i=E_(t);t.Ta.delete(e),i.x_()&&l7(t,e),t.Ta.size===0&&(i.x_()?i.B_():wS(t)&&t.Aa.set("Unknown"))}function tN(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Mn.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}E_(n).H_(e)}function l7(n,e){n.Ra.$e(e),E_(n).Y_(e)}function nN(n){n.Ra=new xee({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),E_(n).start(),n.Aa.aa()}function iN(n){return wS(n)&&!E_(n).M_()&&n.Ta.size>0}function wS(n){return vi(n).Ia.size===0}function c7(n){n.Ra=void 0}async function Ste(n){n.Aa.set("Online")}async function Ete(n){n.Ta.forEach(((e,t)=>{tN(n,e)}))}async function Tte(n,e){c7(n),iN(n)?(n.Aa.la(e),nN(n)):n.Aa.set("Unknown")}async function wte(n,e,t){if(n.Aa.set("Online"),e instanceof $8&&e.state===2&&e.cause)try{await(async function(r,s){const a=s.cause;for(const o of s.targetIds)r.Ta.has(o)&&(await r.remoteSyncer.rejectListen(o,a),r.Ta.delete(o),r.Ra.removeTarget(o))})(n,e)}catch(i){Bt(B0,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await z5(n,i)}else if(e instanceof i2?n.Ra.Ye(e):e instanceof W8?n.Ra.it(e):n.Ra.et(e),!t.isEqual(Mn.min()))try{const i=await s7(n.localStore);t.compareTo(i)>=0&&await(function(s,a){const o=s.Ra.Pt(a);return o.targetChanges.forEach(((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const h=s.Ta.get(u);h&&s.Ta.set(u,h.withResumeToken(l.resumeToken,a))}})),o.targetMismatches.forEach(((l,u)=>{const h=s.Ta.get(l);if(!h)return;s.Ta.set(l,h.withResumeToken(Ma.EMPTY_BYTE_STRING,h.snapshotVersion)),l7(s,l);const p=new Sp(h.target,l,u,h.sequenceNumber);tN(s,p)})),s.remoteSyncer.applyRemoteEvent(o)})(n,t)}catch(i){Bt(B0,"Failed to raise snapshot:",i),await z5(n,i)}}async function z5(n,e,t){if(!x_(e))throw e;n.Ia.add(1),await TS(n),n.Aa.set("Offline"),t||(t=()=>s7(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{Bt(B0,"Retrying IndexedDB access"),await t(),n.Ia.delete(1),await OA(n)}))}async function B5(n,e){const t=vi(n);t.asyncQueue.verifyOperationInProgress(),Bt(B0,"RemoteStore received new credentials");const i=wS(t);t.Ia.add(3),await TS(t),i&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await OA(t)}async function Cte(n,e){const t=vi(n);e?(t.Ia.delete(2),await OA(t)):e||(t.Ia.add(2),await TS(t),t.Aa.set("Unknown"))}function E_(n){return n.Va||(n.Va=(function(t,i,r){const s=vi(t);return s.ia(),new yte(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)})(n.datastore,n.asyncQueue,{Zo:Ste.bind(null,n),e_:Ete.bind(null,n),n_:Tte.bind(null,n),J_:wte.bind(null,n)}),n.da.push((async e=>{e?(n.Va.N_(),iN(n)?nN(n):n.Aa.set("Unknown")):(await n.Va.stop(),c7(n))}))),n.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Ip,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,s){const a=Date.now()+i,o=new rN(e,t,a,r,s);return o.start(i),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new zt(gt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function u7(n,e){if(Xh("AsyncQueue",`${e}: ${n}`),x_(n))return new zt(gt.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{static emptySet(e){return new x0(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||tn.comparator(t.key,i.key):(t,i)=>tn.comparator(t.key,i.key),this.keyedMap=L1(),this.sortedSet=new ms(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof x0)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new x0;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F5{constructor(){this.fa=new ms(tn.comparator)}track(e){const t=e.doc.key,i=this.fa.get(t);i?e.type!==0&&i.type===3?this.fa=this.fa.insert(t,e):e.type===3&&i.type!==1?this.fa=this.fa.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.fa=this.fa.remove(t):e.type===1&&i.type===2?this.fa=this.fa.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):On(63341,{At:e,ga:i}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal(((t,i)=>{e.push(i)})),e}}class F0{constructor(e,t,i,r,s,a,o,l,u){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,t,i,r,s){const a=[];return t.forEach((o=>{a.push({type:0,doc:o})})),new F0(e,t,x0.emptySet(t),a,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&TA(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ate{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((e=>e.ba()))}}class Mte{constructor(){this.queries=V5(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,i){const r=vi(t),s=r.queries;r.queries=V5(),s.forEach(((a,o)=>{for(const l of o.wa)l.onError(i)}))})(this,new zt(gt.ABORTED,"Firestore shutting down"))}}function V5(){return new uy((n=>L8(n)),TA)}async function f7(n,e){const t=vi(n);let i=3;const r=e.query;let s=t.queries.get(r);s?!s.Sa()&&e.ba()&&(i=2):(s=new Ate,i=e.ba()?0:1);try{switch(i){case 0:s.ya=await t.onListen(r,!0);break;case 1:s.ya=await t.onListen(r,!1);break;case 2:await t.onFirstRemoteStoreListen(r)}}catch(a){const o=u7(a,`Initialization of query '${r0(e.query)}' failed`);return void e.onError(o)}t.queries.set(r,s),s.wa.push(e),e.va(t.onlineState),s.ya&&e.Ca(s.ya)&&sN(t)}async function h7(n,e){const t=vi(n),i=e.query;let r=3;const s=t.queries.get(i);if(s){const a=s.wa.indexOf(e);a>=0&&(s.wa.splice(a,1),s.wa.length===0?r=e.ba()?0:1:!s.Sa()&&e.ba()&&(r=2))}switch(r){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function Rte(n,e){const t=vi(n);let i=!1;for(const r of e){const s=r.query,a=t.queries.get(s);if(a){for(const o of a.wa)o.Ca(r)&&(i=!0);a.ya=r}}i&&sN(t)}function Ote(n,e,t){const i=vi(n),r=i.queries.get(e);if(r)for(const s of r.wa)s.onError(t);i.queries.delete(e)}function sN(n){n.Da.forEach((e=>{e.next()}))}var jI,H5;(H5=jI||(jI={})).Fa="default",H5.Cache="cache";class d7{constructor(e,t,i){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=i||{}}Ca(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new F0(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const i=t!=="Offline";return(!this.options.ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=F0.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==jI.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p7{constructor(e){this.key=e}}class m7{constructor(e){this.key=e}}class Ite{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=xi(),this.mutatedKeys=xi(),this.Xa=U8(e),this.eu=new x0(this.Xa)}get tu(){return this.Ha}nu(e,t){const i=t?t.ru:new F5,r=t?t.eu:this.eu;let s=t?t.mutatedKeys:this.mutatedKeys,a=r,o=!1;const l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,u=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((h,p)=>{const y=r.get(h),v=wA(this.query,p)?p:null,_=!!y&&this.mutatedKeys.has(y.key),x=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let E=!1;y&&v?y.data.isEqual(v.data)?_!==x&&(i.track({type:3,doc:v}),E=!0):this.iu(y,v)||(i.track({type:2,doc:v}),E=!0,(l&&this.Xa(v,l)>0||u&&this.Xa(v,u)<0)&&(o=!0)):!y&&v?(i.track({type:0,doc:v}),E=!0):y&&!v&&(i.track({type:1,doc:y}),E=!0,(l||u)&&(o=!0)),E&&(v?(a=a.add(v),s=x?s.add(h):s.delete(h)):(a=a.delete(h),s=s.delete(h)))})),this.query.limit!==null)for(;a.size>this.query.limit;){const h=this.query.limitType==="F"?a.last():a.first();a=a.delete(h.key),s=s.delete(h.key),i.track({type:1,doc:h})}return{eu:a,ru:i,Ds:o,mutatedKeys:s}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){const s=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const a=e.ru.pa();a.sort(((h,p)=>(function(v,_){const x=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return On(20277,{At:E})}};return x(v)-x(_)})(h.type,p.type)||this.Xa(h.doc,p.doc))),this.su(i),r=r!=null&&r;const o=t&&!r?this.ou():[],l=this.Za.size===0&&this.current&&!r?1:0,u=l!==this.Ya;return this.Ya=l,a.length!==0||u?{snapshot:new F0(this.query,e.eu,s,a,e.mutatedKeys,l===0,u,!1,!!i&&i.resumeToken.approximateByteSize()>0),_u:o}:{_u:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new F5,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach((t=>this.Ha=this.Ha.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ha=this.Ha.delete(t))),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=xi(),this.eu.forEach((i=>{this.au(i.key)&&(this.Za=this.Za.add(i.key))}));const t=[];return e.forEach((i=>{this.Za.has(i)||t.push(new m7(i))})),this.Za.forEach((i=>{e.has(i)||t.push(new p7(i))})),t}uu(e){this.Ha=e.qs,this.Za=xi();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return F0.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const aN="SyncEngine";class Pte{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class Dte{constructor(e){this.key=e,this.lu=!1}}class Nte{constructor(e,t,i,r,s,a){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.hu={},this.Pu=new uy((o=>L8(o)),TA),this.Tu=new Map,this.Iu=new Set,this.du=new ms(tn.comparator),this.Eu=new Map,this.Au=new KD,this.Ru={},this.Vu=new Map,this.mu=z0.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function Lte(n,e,t=!0){const i=b7(n);let r;const s=i.Pu.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.cu()):r=await g7(i,e,t,!0),r}async function Ute(n,e){const t=b7(n);await g7(t,e,!0,!1)}async function g7(n,e,t,i){const r=await lte(n.localStore,Tf(e)),s=r.targetId,a=n.sharedClientState.addLocalQueryTarget(s,t);let o;return i&&(o=await kte(n,e,s,a==="current",r.resumeToken)),n.isPrimaryClient&&t&&o7(n.remoteStore,r),o}async function kte(n,e,t,i,r){n.gu=(p,y,v)=>(async function(x,E,S,w){let C=E.view.nu(S);C.Ds&&(C=await D5(x.localStore,E.query,!1).then((({documents:I})=>E.view.nu(I,C))));const A=w&&w.targetChanges.get(E.targetId),N=w&&w.targetMismatches.get(E.targetId)!=null,L=E.view.applyChanges(C,x.isPrimaryClient,A,N);return G5(x,E.targetId,L._u),L.snapshot})(n,p,y,v);const s=await D5(n.localStore,e,!0),a=new Ite(e,s.qs),o=a.nu(s.documents),l=ES.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",r),u=a.applyChanges(o,n.isPrimaryClient,l);G5(n,t,u._u);const h=new Pte(e,t,a);return n.Pu.set(e,h),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),u.snapshot}async function zte(n,e,t){const i=vi(n),r=i.Pu.get(e),s=i.Tu.get(r.targetId);if(s.length>1)return i.Tu.set(r.targetId,s.filter((a=>!TA(a,e)))),void i.Pu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await VI(i.localStore,r.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(r.targetId),t&&eN(i.remoteStore,r.targetId),GI(i,r.targetId)})).catch(bA)):(GI(i,r.targetId),await VI(i.localStore,r.targetId,!0))}async function Bte(n,e){const t=vi(n),i=t.Pu.get(e),r=t.Tu.get(i.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),eN(t.remoteStore,i.targetId))}async function y7(n,e){const t=vi(n);try{const i=await ate(t.localStore,e);e.targetChanges.forEach(((r,s)=>{const a=t.Eu.get(s);a&&(Fr(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?a.lu=!0:r.modifiedDocuments.size>0?Fr(a.lu,14607):r.removedDocuments.size>0&&(Fr(a.lu,42227),a.lu=!1))})),await _7(t,i,e)}catch(i){await bA(i)}}function j5(n,e,t){const i=vi(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const r=[];i.Pu.forEach(((s,a)=>{const o=a.view.va(e);o.snapshot&&r.push(o.snapshot)})),(function(a,o){const l=vi(a);l.onlineState=o;let u=!1;l.queries.forEach(((h,p)=>{for(const y of p.wa)y.va(o)&&(u=!0)})),u&&sN(l)})(i.eventManager,e),r.length&&i.hu.J_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function Fte(n,e,t){const i=vi(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.Eu.get(e),s=r&&r.key;if(s){let a=new ms(tn.comparator);a=a.insert(s,Za.newNoDocument(s,Mn.min()));const o=xi().add(s),l=new MA(Mn.min(),new Map,new ms(Zn),a,o);await y7(i,l),i.du=i.du.remove(s),i.Eu.delete(e),oN(i)}else await VI(i.localStore,e,!1).then((()=>GI(i,e,t))).catch(bA)}function GI(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Tu.get(e))n.Pu.delete(i),t&&n.hu.pu(i,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach((i=>{n.Au.containsKey(i)||v7(n,i)}))}function v7(n,e){n.Iu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(eN(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),oN(n))}function G5(n,e,t){for(const i of t)i instanceof p7?(n.Au.addReference(i.key,e),Vte(n,i)):i instanceof m7?(Bt(aN,"Document no longer in limbo: "+i.key),n.Au.removeReference(i.key,e),n.Au.containsKey(i.key)||v7(n,i.key)):On(19791,{yu:i})}function Vte(n,e){const t=e.key,i=t.path.canonicalString();n.du.get(t)||n.Iu.has(i)||(Bt(aN,"New document in limbo: "+t),n.Iu.add(i),oN(n))}function oN(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Iu.values().next().value;n.Iu.delete(e);const t=new tn(or.fromString(e)),i=n.mu.next();n.Eu.set(i,new Dte(t)),n.du=n.du.insert(t,i),o7(n.remoteStore,new Sp(Tf(qD(t.path)),i,"TargetPurposeLimboResolution",xA.ue))}}async function _7(n,e,t){const i=vi(n),r=[],s=[],a=[];i.Pu.isEmpty()||(i.Pu.forEach(((o,l)=>{a.push(i.gu(l,e,t).then((u=>{var h;if((u||t)&&i.isPrimaryClient){const p=u?!u.fromCache:(h=t==null?void 0:t.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;i.sharedClientState.updateQueryState(l.targetId,p?"current":"not-current")}if(u){r.push(u);const p=QD.Es(l.targetId,u);s.push(p)}})))})),await Promise.all(a),i.hu.J_(r),await(async function(l,u){const h=vi(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>nt.forEach(u,(y=>nt.forEach(y.Is,(v=>h.persistence.referenceDelegate.addReference(p,y.targetId,v))).next((()=>nt.forEach(y.ds,(v=>h.persistence.referenceDelegate.removeReference(p,y.targetId,v)))))))))}catch(p){if(!x_(p))throw p;Bt(JD,"Failed to update sequence numbers: "+p)}for(const p of u){const y=p.targetId;if(!p.fromCache){const v=h.Fs.get(y),_=v.snapshotVersion,x=v.withLastLimboFreeSnapshotVersion(_);h.Fs=h.Fs.insert(y,x)}}})(i.localStore,s))}async function Hte(n,e){const t=vi(n);if(!t.currentUser.isEqual(e)){Bt(aN,"User change. New user:",e.toKey());const i=await r7(t.localStore,e);t.currentUser=e,(function(s,a){s.Vu.forEach((o=>{o.forEach((l=>{l.reject(new zt(gt.CANCELLED,a))}))})),s.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await _7(t,i.Bs)}}function jte(n,e){const t=vi(n),i=t.Eu.get(e);if(i&&i.lu)return xi().add(i.key);{let r=xi();const s=t.Tu.get(e);if(!s)return r;for(const a of s){const o=t.Pu.get(a);r=r.unionWith(o.view.tu)}return r}}function b7(n){const e=vi(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=y7.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=jte.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Fte.bind(null,e),e.hu.J_=Rte.bind(null,e.eventManager),e.hu.pu=Ote.bind(null,e.eventManager),e}class V2{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=RA(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return ste(this.persistence,new nte,e.initialUser,this.serializer)}Du(e){return new i7(ZD.Vi,this.serializer)}bu(e){return new ute}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}V2.provider={build:()=>new V2};class Gte extends V2{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Fr(this.persistence.referenceDelegate instanceof F2,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new Vee(i,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?Qo.withCacheSize(this.cacheSizeBytes):Qo.DEFAULT;return new i7((i=>F2.Vi(i,t)),this.serializer)}}class qI{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>j5(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Hte.bind(null,this.syncEngine),await Cte(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Mte})()}createDatastore(e){const t=RA(e.databaseInfo.databaseId),i=(function(s){return new mte(s)})(e.databaseInfo);return(function(s,a,o,l){return new _te(s,a,o,l)})(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,r,s,a,o){return new xte(i,r,s,a,o)})(this.localStore,this.datastore,e.asyncQueue,(t=>j5(this.syncEngine,t,0)),(function(){return U5.C()?new U5:new fte})())}createSyncEngine(e,t){return(function(r,s,a,o,l,u,h){const p=new Nte(r,s,a,o,l,u);return h&&(p.fu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(r){const s=vi(r);Bt(B0,"RemoteStore shutting down."),s.Ia.add(5),await TS(s),s.Ea.shutdown(),s.Aa.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}qI.provider={build:()=>new qI};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x7{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Xh("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp="FirestoreClient";class qte{constructor(e,t,i,r,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Ka.UNAUTHENTICATED,this.clientId=FD.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,(async a=>{Bt(jp,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(i,(a=>(Bt(jp,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ip;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=u7(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function sO(n,e){n.asyncQueue.verifyOperationInProgress(),Bt(jp,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener((async r=>{i.isEqual(r)||(await r7(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener((()=>{kp("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then((()=>{Bt("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((r=>{kp("Terminating Firestore due to IndexedDb database deletion failed",r)}))})),n._offlineComponents=e}async function q5(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Wte(n);Bt(jp,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((i=>B5(e.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,r)=>B5(e.remoteStore,r))),n._onlineComponents=e}async function Wte(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Bt(jp,"Using user provided OfflineComponentProvider");try{await sO(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(r){return r.name==="FirebaseError"?r.code===gt.FAILED_PRECONDITION||r.code===gt.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(t))throw t;kp("Error using user provided cache. Falling back to memory cache: "+t),await sO(n,new V2)}}else Bt(jp,"Using default OfflineComponentProvider"),await sO(n,new Gte(void 0));return n._offlineComponents}async function $te(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Bt(jp,"Using user provided OnlineComponentProvider"),await q5(n,n._uninitializedComponentsProvider._online)):(Bt(jp,"Using default OnlineComponentProvider"),await q5(n,new qI))),n._onlineComponents}async function S7(n){const e=await $te(n),t=e.eventManager;return t.onListen=Lte.bind(null,e.syncEngine),t.onUnlisten=zte.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Ute.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Bte.bind(null,e.syncEngine),t}function Xte(n,e,t={}){const i=new Ip;return n.asyncQueue.enqueueAndForget((async()=>(function(s,a,o,l,u){const h=new x7({next:y=>{h.Ou(),a.enqueueAndForget((()=>h7(s,p)));const v=y.docs.has(o);!v&&y.fromCache?u.reject(new zt(gt.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&y.fromCache&&l&&l.source==="server"?u.reject(new zt(gt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(y)},error:y=>u.reject(y)}),p=new d7(qD(o.path),h,{includeMetadataChanges:!0,ka:!0});return f7(s,p)})(await S7(n),n.asyncQueue,e,t,i))),i.promise}function Yte(n,e,t={}){const i=new Ip;return n.asyncQueue.enqueueAndForget((async()=>(function(s,a,o,l,u){const h=new x7({next:y=>{h.Ou(),a.enqueueAndForget((()=>h7(s,p))),y.fromCache&&l.source==="server"?u.reject(new zt(gt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(y)},error:y=>u.reject(y)}),p=new d7(o,h,{includeMetadataChanges:!0,ka:!0});return f7(s,p)})(await S7(n),n.asyncQueue,e,t,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E7(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W5=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T7="firestore.googleapis.com",$5=!0;class X5{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new zt(gt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=T7,this.ssl=$5}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:$5;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=n7;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Bee)throw new zt(gt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}RJ("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=E7((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new zt(gt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new zt(gt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new zt(gt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,r){return i.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class IA{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new X5({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new zt(gt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new zt(gt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new X5(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new bJ;switch(i.type){case"firstParty":return new TJ(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new zt(gt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=W5.get(t);i&&(Bt("ComponentProvider","Removing Datastore"),W5.delete(t),i.terminate())})(this),Promise.resolve()}}function Kte(n,e,t,i={}){var r;n=Ox(n,IA);const s=v_(e),a=n._getSettings(),o=Object.assign(Object.assign({},a),{emulatorOptions:n._getEmulatorOptions()}),l=`${e}:${t}`;s&&(e8(`https://${l}`),t8("Firestore",!0)),a.host!==T7&&a.host!==l&&kp("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},a),{host:l,ssl:s,emulatorOptions:i});if(!Kg(u,o)&&(n._setSettings(u),i.mockUserToken)){let h,p;if(typeof i.mockUserToken=="string")h=i.mockUserToken,p=Ka.MOCK_USER;else{h=$Z(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new zt(gt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Ka(y)}n._authCredentials=new xJ(new m8(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new T_(this.firestore,e,this._query)}}class zs{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pp(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zs(this.firestore,e,this._key)}toJSON(){return{type:zs._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(xS(t,zs._jsonSchema))return new zs(e,i||null,new tn(or.fromString(t.referencePath)))}}zs._jsonSchemaVersion="firestore/documentReference/1.0",zs._jsonSchema={type:Os("string",zs._jsonSchemaVersion),referencePath:Os("string")};class Pp extends T_{constructor(e,t,i){super(e,t,qD(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zs(this.firestore,null,new tn(e))}withConverter(e){return new Pp(this.firestore,e,this._path)}}function PA(n,e,...t){if(n=_u(n),y8("collection","path",e),n instanceof IA){const i=or.fromString(e,...t);return a5(i),new Pp(n,null,i)}{if(!(n instanceof zs||n instanceof Pp))throw new zt(gt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(or.fromString(e,...t));return a5(i),new Pp(n.firestore,null,i)}}function Zte(n,e,...t){if(n=_u(n),arguments.length===1&&(e=FD.newId()),y8("doc","path",e),n instanceof IA){const i=or.fromString(e,...t);return s5(i),new zs(n,null,new tn(i))}{if(!(n instanceof zs||n instanceof Pp))throw new zt(gt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(or.fromString(e,...t));return s5(i),new zs(n.firestore,n instanceof Pp?n.converter:null,new tn(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y5="AsyncQueue";class K5{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new a7(this,"async_queue_retry"),this.oc=()=>{const i=rO();i&&Bt(Y5,"Visibility state changed to "+i.visibilityState),this.F_.y_()},this._c=e;const t=rO();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=rO();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise((()=>{}));const t=new Ip;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Zu.push(e),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!x_(e))throw e;Bt(Y5,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(e){const t=this._c.then((()=>(this.nc=!0,e().catch((i=>{throw this.tc=i,this.nc=!1,Xh("INTERNAL UNHANDLED ERROR: ",Z5(i)),i})).then((i=>(this.nc=!1,i))))));return this._c=t,t}enqueueAfterDelay(e,t,i){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const r=rN.createAndSchedule(this,e,t,i,(s=>this.lc(s)));return this.ec.push(r),r}ac(){this.tc&&On(47125,{hc:Z5(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then((()=>{this.ec.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()}))}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function Z5(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class lN extends IA{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new K5,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new K5(e),this._firestoreClient=void 0,await e}}}function Qte(n,e){const t=typeof n=="object"?n:s8(),i=typeof n=="string"?n:N2,r=zD(t,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=qZ("firestore");s&&Kte(r,...s)}return r}function w7(n){if(n._terminated)throw new zt(gt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Jte(n),n._firestoreClient}function Jte(n){var e,t,i;const r=n._freezeSettings(),s=(function(o,l,u,h){return new VJ(o,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,E7(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,r);n._componentsProvider||!((t=r.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),n._firestoreClient=new qte(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&(function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Sc(Ma.fromBase64String(e))}catch(t){throw new zt(gt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Sc(Ma.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Sc._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(xS(e,Sc._jsonSchema))return Sc.fromBase64String(e.bytes)}}Sc._jsonSchemaVersion="firestore/bytes/1.0",Sc._jsonSchema={type:Os("string",Sc._jsonSchemaVersion),bytes:Os("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C7{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new zt(gt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qa(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A7{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new zt(gt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new zt(gt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Zn(this._lat,e._lat)||Zn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:wf._jsonSchemaVersion}}static fromJSON(e){if(xS(e,wf._jsonSchema))return new wf(e.latitude,e.longitude)}}wf._jsonSchemaVersion="firestore/geoPoint/1.0",wf._jsonSchema={type:Os("string",wf._jsonSchemaVersion),latitude:Os("number"),longitude:Os("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Cf._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(xS(e,Cf._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Cf(e.vectorValues);throw new zt(gt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Cf._jsonSchemaVersion="firestore/vectorValue/1.0",Cf._jsonSchema={type:Os("string",Cf._jsonSchemaVersion),vectorValues:Os("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ene=/^__.*__$/;function M7(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw On(40011,{Ec:n})}}class cN{constructor(e,t,i,r,s,a){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.Ac(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new cN(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.Rc({path:i,mc:!1});return r.fc(e),r}gc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.Rc({path:i,mc:!1});return r.Ac(),r}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return WI(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(M7(this.Ec)&&ene.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class tne{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||RA(e)}Dc(e,t,i,r=!1){return new cN({Ec:e,methodName:t,bc:i,path:Qa.emptyPath(),mc:!1,Sc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function nne(n){const e=n._freezeSettings(),t=RA(n._databaseId);return new tne(n._databaseId,!!e.ignoreUndefinedProperties,t)}function ine(n,e,t,i=!1){return uN(t,n.Dc(i?4:3,e))}function uN(n,e){if(R7(n=_u(n)))return sne("Unsupported field value:",e,n),rne(n,e);if(n instanceof A7)return(function(i,r){if(!M7(r.Ec))throw r.wc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.wc(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(i,r){const s=[];let a=0;for(const o of i){let l=uN(o,r.yc(a));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),a++}return{arrayValue:{values:s}}})(n,e)}return(function(i,r){if((i=_u(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return uee(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=Er.fromDate(i);return{timestampValue:BI(r.serializer,s)}}if(i instanceof Er){const s=new Er(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:BI(r.serializer,s)}}if(i instanceof wf)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Sc)return{bytesValue:X8(r.serializer,i._byteString)};if(i instanceof zs){const s=r.databaseId,a=i.firestore._databaseId;if(!a.isEqual(s))throw r.wc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Y8(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof Cf)return(function(a,o){return{mapValue:{fields:{[C8]:{stringValue:A8},[L2]:{arrayValue:{values:a.toArray().map((u=>{if(typeof u!="number")throw o.wc("VectorValues must only contain numeric values.");return WD(o.serializer,u)}))}}}}}})(i,r);throw r.wc(`Unsupported field value: ${_A(i)}`)})(n,e)}function rne(n,e){const t={};return b8(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):S_(n,((i,r)=>{const s=uN(r,e.Vc(i));s!=null&&(t[i]=s)})),{mapValue:{fields:t}}}function R7(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Er||n instanceof wf||n instanceof Sc||n instanceof zs||n instanceof A7||n instanceof Cf)}function sne(n,e,t){if(!R7(t)||!v8(t)){const i=_A(t);throw i==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+i)}}const ane=new RegExp("[~\\*/\\[\\]]");function one(n,e,t){if(e.search(ane)>=0)throw WI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new C7(...e.split("."))._internalPath}catch{throw WI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function WI(n,e,t,i,r){const s=i&&!i.isEmpty(),a=r!==void 0;let o=`Function ${e}() called with invalid data`;t&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${i}`),a&&(l+=` in document ${r}`),l+=")"),new zt(gt.INVALID_ARGUMENT,o+n+l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O7{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new zs(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new lne(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(fN("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class lne extends O7{data(){return super.data()}}function fN(n,e){return typeof e=="string"?one(n,e):e instanceof C7?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cne(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new zt(gt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hN{}class une extends hN{}function fne(n,e,...t){let i=[];e instanceof hN&&i.push(e),i=i.concat(t),(function(s){const a=s.filter((l=>l instanceof dN)).length,o=s.filter((l=>l instanceof DA)).length;if(a>1||a>0&&o>0)throw new zt(gt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const r of i)n=r._apply(n);return n}class DA extends une{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new DA(e,t,i)}_apply(e){const t=this._parse(e);return I7(e._query,t),new T_(e.firestore,e.converter,NI(e._query,t))}_parse(e){const t=nne(e.firestore);return(function(s,a,o,l,u,h,p){let y;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new zt(gt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){J5(p,h);const _=[];for(const x of p)_.push(Q5(l,s,x));y={arrayValue:{values:_}}}else y=Q5(l,s,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||J5(p,h),y=ine(o,a,p,h==="in"||h==="not-in");return Rs.create(u,h,y)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function hne(n,e,t){const i=e,r=fN("where",n);return DA._create(r,i,t)}class dN extends hN{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new dN(e,t)}_parse(e){const t=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return t.length===1?t[0]:bu.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(r,s){let a=r;const o=s.getFlattenedFilters();for(const l of o)I7(a,l),a=NI(a,l)})(e._query,t),new T_(e.firestore,e.converter,NI(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Q5(n,e,t){if(typeof(t=_u(t))=="string"){if(t==="")throw new zt(gt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!N8(e)&&t.indexOf("/")!==-1)throw new zt(gt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(or.fromString(t));if(!tn.isDocumentKey(i))throw new zt(gt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return p5(n,new tn(i))}if(t instanceof zs)return p5(n,t._key);throw new zt(gt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_A(t)}.`)}function J5(n,e){if(!Array.isArray(n)||n.length===0)throw new zt(gt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function I7(n,e){const t=(function(r,s){for(const a of r)for(const o of a.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null})(n.filters,(function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new zt(gt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new zt(gt.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class dne{convertValue(e,t="none"){switch(Vp(e)){case 0:return null;case 1:return e.booleanValue;case 2:return hs(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Fp(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw On(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return S_(e,((r,s)=>{i[r]=this.convertValue(s,t)})),i}convertVectorValue(e){var t,i,r;const s=(r=(i=(t=e.fields)===null||t===void 0?void 0:t[L2].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map((a=>hs(a.doubleValue)));return new Cf(s)}convertGeoPoint(e){return new wf(hs(e.latitude),hs(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=EA(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Px(e));default:return null}}convertTimestamp(e){const t=Bp(e);return new Er(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=or.fromString(e);Fr(t7(i),9688,{name:e});const r=new Dx(i.get(1),i.get(3)),s=new tn(i.popFirst(5));return r.isEqual(t)||Xh(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}class k1{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Bg extends O7{constructor(e,t,i,r,s,a){super(e,t,i,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new r2(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(fN("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new zt(gt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Bg._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Bg._jsonSchemaVersion="firestore/documentSnapshot/1.0",Bg._jsonSchema={type:Os("string",Bg._jsonSchemaVersion),bundleSource:Os("string","DocumentSnapshot"),bundleName:Os("string"),bundle:Os("string")};class r2 extends Bg{data(e={}){return super.data(e)}}class S0{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new k1(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new r2(this._firestore,this._userDataWriter,i.key,i,new k1(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new zt(gt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(r,s){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map((o=>{const l=new r2(r._firestore,r._userDataWriter,o.doc.key,o.doc,new k1(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((o=>s||o.type!==3)).map((o=>{const l=new r2(r._firestore,r._userDataWriter,o.doc.key,o.doc,new k1(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,h=-1;return o.type!==0&&(u=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),h=a.indexOf(o.doc.key)),{type:pne(o.type),doc:l,oldIndex:u,newIndex:h}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new zt(gt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=S0._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=FD.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],r=[];return this.docs.forEach((s=>{s._document!==null&&(t.push(s._document),i.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),r.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function pne(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return On(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mne(n){n=Ox(n,zs);const e=Ox(n.firestore,lN);return Xte(w7(e),n._key).then((t=>gne(e,n,t)))}S0._jsonSchemaVersion="firestore/querySnapshot/1.0",S0._jsonSchema={type:Os("string",S0._jsonSchemaVersion),bundleSource:Os("string","QuerySnapshot"),bundleName:Os("string"),bundle:Os("string")};class P7 extends dne{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new zs(this.firestore,null,t)}}function NA(n){n=Ox(n,T_);const e=Ox(n.firestore,lN),t=w7(e),i=new P7(e);return cne(n._query),Yte(t,n._query).then((r=>new S0(e,i,n,r)))}function gne(n,e,t){const i=t.docs.get(e._key),r=new P7(n);return new Bg(n,r,e._key,i,new k1(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(r){b_=r})(__),N0(new Zg("firestore",((i,{instanceIdentifier:r,options:s})=>{const a=i.getProvider("app").getImmediate(),o=new lN(new SJ(i.getProvider("auth-internal")),new wJ(a,i.getProvider("app-check-internal")),(function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new zt(gt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dx(u.options.projectId,h)})(a,r),a);return s=Object.assign({useFetchStreams:t},s),o._setSettings(s),o}),"PUBLIC").setMultipleInstances(!0)),Rp(e5,t5,e),Rp(e5,t5,"esm2017")})();var yne="firebase",vne="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rp(yne,vne,"app");function pN(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function D7(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _ne=D7,N7=new _S("auth","Firebase",D7());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2=new UD("@firebase/auth");function bne(n,...e){H2.logLevel<=si.WARN&&H2.warn(`Auth (${__}): ${n}`,...e)}function s2(n,...e){H2.logLevel<=si.ERROR&&H2.error(`Auth (${__}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yh(n,...e){throw mN(n,...e)}function Af(n,...e){return mN(n,...e)}function L7(n,e,t){const i=Object.assign(Object.assign({},_ne()),{[e]:t});return new _S("auth","Firebase",i).create(e,{appName:n.name})}function Fg(n){return L7(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mN(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return N7.create(n,...e)}function Sn(n,e,...t){if(!n)throw mN(e,...t)}function Uh(n){const e="INTERNAL ASSERTION FAILED: "+n;throw s2(e),new Error(e)}function Kh(n,e){n||Uh(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function xne(){return ek()==="http:"||ek()==="https:"}function ek(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sne(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xne()||JZ()||"connection"in navigator)?navigator.onLine:!0}function Ene(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e,t){this.shortDelay=e,this.longDelay=t,Kh(t>e,"Short delay should be less than long delay!"),this.isMobile=KZ()||eQ()}get(){return Sne()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(n,e){Kh(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U7{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Uh("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Uh("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Uh("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tne={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wne=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Cne=new CS(3e4,6e4);function yN(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function w_(n,e,t,i,r={}){return k7(n,r,async()=>{let s={},a={};i&&(e==="GET"?a=i:s={body:JSON.stringify(i)});const o=bS(Object.assign({key:n.config.apiKey},a)).slice(1),l=await n._getAdditionalHeaders();l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode);const u=Object.assign({method:e,headers:l},s);return QZ()||(u.referrerPolicy="no-referrer"),n.emulatorConfig&&v_(n.emulatorConfig.host)&&(u.credentials="include"),U7.fetch()(await z7(n,n.config.apiHost,t,o),u)})}async function k7(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},Tne),e);try{const r=new Mne(n),s=await Promise.race([t(),r.promise]);r.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw yT(n,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[l,u]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw yT(n,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw yT(n,"email-already-in-use",a);if(l==="USER_DISABLED")throw yT(n,"user-disabled",a);const h=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw L7(n,h,u);Yh(n,h)}}catch(r){if(r instanceof ld)throw r;Yh(n,"network-request-failed",{message:String(r)})}}async function Ane(n,e,t,i,r={}){const s=await w_(n,e,t,i,r);return"mfaPendingCredential"in s&&Yh(n,"multi-factor-auth-required",{_serverResponse:s}),s}async function z7(n,e,t,i){const r=`${e}${t}?${i}`,s=n,a=s.config.emulator?gN(n.config,r):`${n.config.apiScheme}://${r}`;return wne.includes(t)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}class Mne{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Af(this.auth,"network-request-failed")),Cne.get())})}}function yT(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const r=Af(n,e,i);return r.customData._tokenResponse=t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rne(n,e){return w_(n,"POST","/v1/accounts:delete",e)}async function j2(n,e){return w_(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rx(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function One(n,e=!1){const t=_u(n),i=await t.getIdToken(e),r=vN(i);Sn(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:rx(aO(r.auth_time)),issuedAtTime:rx(aO(r.iat)),expirationTime:rx(aO(r.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function aO(n){return Number(n)*1e3}function vN(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return s2("JWT malformed, contained fewer than 3 sections"),null;try{const r=KV(t);return r?JSON.parse(r):(s2("Failed to decode base64 JWT payload"),null)}catch(r){return s2("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function tk(n){const e=vN(n);return Sn(e,"internal-error"),Sn(typeof e.exp<"u","internal-error"),Sn(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lx(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof ld&&Ine(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function Ine({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pne{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=rx(this.lastLoginAt),this.creationTime=rx(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G2(n){var e;const t=n.auth,i=await n.getIdToken(),r=await Lx(n,j2(t,{idToken:i}));Sn(r==null?void 0:r.users.length,t,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?B7(s.providerUserInfo):[],o=Nne(n.providerData,a),l=n.isAnonymous,u=!(n.email&&s.passwordHash)&&!(o!=null&&o.length),h=l?u:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new XI(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(n,p)}async function Dne(n){const e=_u(n);await G2(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Nne(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function B7(n){return n.map(e=>{var{providerId:t}=e,i=pN(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lne(n,e){const t=await k7(n,{},async()=>{const i=bS({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=n.config,a=await z7(n,r,"/v1/token",`key=${s}`),o=await n._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:i};return n.emulatorConfig&&v_(n.emulatorConfig.host)&&(l.credentials="include"),U7.fetch()(a,l)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Une(n,e){return w_(n,"POST","/v2/accounts:revokeToken",yN(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Sn(e.idToken,"internal-error"),Sn(typeof e.idToken<"u","internal-error"),Sn(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):tk(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Sn(e.length!==0,"internal-error");const t=tk(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Sn(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:r,expiresIn:s}=await Lne(e,t);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:r,expirationTime:s}=t,a=new E0;return i&&(Sn(typeof i=="string","internal-error",{appName:e}),a.refreshToken=i),r&&(Sn(typeof r=="string","internal-error",{appName:e}),a.accessToken=r),s&&(Sn(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new E0,this.toJSON())}_performRefresh(){return Uh("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function np(n,e){Sn(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class mu{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,s=pN(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Pne(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new XI(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await Lx(this,this.stsTokenManager.getToken(this.auth,e));return Sn(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return One(this,e)}reload(){return Dne(this)}_assign(e){this!==e&&(Sn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new mu(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Sn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await G2(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(gf(this.auth.app))return Promise.reject(Fg(this.auth));const e=await this.getIdToken();return await Lx(this,Rne(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,s,a,o,l,u,h;const p=(i=t.displayName)!==null&&i!==void 0?i:void 0,y=(r=t.email)!==null&&r!==void 0?r:void 0,v=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,_=(a=t.photoURL)!==null&&a!==void 0?a:void 0,x=(o=t.tenantId)!==null&&o!==void 0?o:void 0,E=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,S=(u=t.createdAt)!==null&&u!==void 0?u:void 0,w=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:C,emailVerified:A,isAnonymous:N,providerData:L,stsTokenManager:I}=t;Sn(C&&I,e,"internal-error");const D=E0.fromJSON(this.name,I);Sn(typeof C=="string",e,"internal-error"),np(p,e.name),np(y,e.name),Sn(typeof A=="boolean",e,"internal-error"),Sn(typeof N=="boolean",e,"internal-error"),np(v,e.name),np(_,e.name),np(x,e.name),np(E,e.name),np(S,e.name),np(w,e.name);const P=new mu({uid:C,auth:e,email:y,emailVerified:A,displayName:p,isAnonymous:N,photoURL:_,phoneNumber:v,tenantId:x,stsTokenManager:D,createdAt:S,lastLoginAt:w});return L&&Array.isArray(L)&&(P.providerData=L.map(U=>Object.assign({},U))),E&&(P._redirectEventId=E),P}static async _fromIdTokenResponse(e,t,i=!1){const r=new E0;r.updateFromServerResponse(t);const s=new mu({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await G2(s),s}static async _fromGetAccountInfoResponse(e,t,i){const r=t.users[0];Sn(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?B7(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),o=new E0;o.updateFromIdToken(i);const l=new mu({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:a}),u={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new XI(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk=new Map;function kh(n){Kh(n instanceof Function,"Expected a class definition");let e=nk.get(n);return e?(Kh(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,nk.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F7{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}F7.type="NONE";const ik=F7;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(n,e,t){return`firebase:${n}:${e}:${t}`}class T0{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=a2(this.userKey,r.apiKey,s),this.fullPersistenceKey=a2("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await j2(this.auth,{idToken:e}).catch(()=>{});return t?mu._fromGetAccountInfoResponse(this.auth,t,e):null}return mu._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new T0(kh(ik),e,i);const r=(await Promise.all(t.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=r[0]||kh(ik);const a=a2(i,e.config.apiKey,e.name);let o=null;for(const u of t)try{const h=await u._get(a);if(h){let p;if(typeof h=="string"){const y=await j2(e,{idToken:h}).catch(()=>{});if(!y)break;p=await mu._fromGetAccountInfoResponse(e,y,h)}else p=mu._fromJSON(e,h);u!==s&&(o=p),s=u;break}}catch{}const l=r.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new T0(s,e,i):(s=l[0],o&&await s._set(a,o.toJSON()),await Promise.all(t.map(async u=>{if(u!==s)try{await u._remove(a)}catch{}})),new T0(s,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rk(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(G7(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(V7(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(W7(e))return"Blackberry";if($7(e))return"Webos";if(H7(e))return"Safari";if((e.includes("chrome/")||j7(e))&&!e.includes("edge/"))return"Chrome";if(q7(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function V7(n=no()){return/firefox\//i.test(n)}function H7(n=no()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function j7(n=no()){return/crios\//i.test(n)}function G7(n=no()){return/iemobile/i.test(n)}function q7(n=no()){return/android/i.test(n)}function W7(n=no()){return/blackberry/i.test(n)}function $7(n=no()){return/webos/i.test(n)}function _N(n=no()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function kne(n=no()){var e;return _N(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function zne(){return tQ()&&document.documentMode===10}function X7(n=no()){return _N(n)||q7(n)||$7(n)||W7(n)||/windows phone/i.test(n)||G7(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y7(n,e=[]){let t;switch(n){case"Browser":t=rk(no());break;case"Worker":t=`${rk(no())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${__}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bne{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=s=>new Promise((a,o)=>{try{const l=e(s);a(l)}catch(l){o(l)}});i.onAbort=t,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fne(n,e={}){return w_(n,"GET","/v2/passwordPolicy",yN(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vne=6;class Hne{constructor(e){var t,i,r,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=a.minPasswordLength)!==null&&t!==void 0?t:Vne,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,r,s,a,o;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(i=l.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(r=l.containsLowercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),l}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jne{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sk(this),this.idTokenSubscription=new sk(this),this.beforeStateQueue=new Bne(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=N7,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=kh(t)),this._initializationPromise=this.queue(async()=>{var i,r,s;if(!this._deleted&&(this.persistenceManager=await T0.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await j2(this,{idToken:e}),i=await mu._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(gf(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,o=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Sn(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await G2(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Ene()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(gf(this.app))return Promise.reject(Fg(this));const t=e?_u(e):null;return t&&Sn(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Sn(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return gf(this.app)?Promise.reject(Fg(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return gf(this.app)?Promise.reject(Fg(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(kh(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Fne(this),t=new Hne(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new _S("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await Une(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&kh(e)||this._popupRedirectResolver;Sn(t,this,"argument-error"),this.redirectPersistenceManager=await T0.create(this,[kh(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Sn(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof t=="function"){const l=e.addObserver(t,i,r);return()=>{a=!0,l()}}else{const l=e.addObserver(t);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Sn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Y7(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(gf(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&bne(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function bN(n){return _u(n)}class sk{constructor(e){this.auth=e,this.observer=null,this.addObserver=cQ(t=>this.observer=t)}get next(){return Sn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xN={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Gne(n){xN=n}function qne(n){return xN.loadJS(n)}function Wne(){return xN.gapiScript}function $ne(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xne(n,e){const t=zD(n,"auth");if(t.isInitialized()){const r=t.getImmediate(),s=t.getOptions();if(Kg(s,e??{}))return r;Yh(r,"already-initialized")}return t.initialize({options:e})}function Yne(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(kh);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function Kne(n,e,t){const i=bN(n);Sn(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,s=K7(e),{host:a,port:o}=Zne(e),l=o===null?"":`:${o}`,u={url:`${s}//${a}${l}/`},h=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){Sn(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Sn(Kg(u,i.config.emulator)&&Kg(h,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=u,i.emulatorConfig=h,i.settings.appVerificationDisabledForTesting=!0,v_(a)?(e8(`${s}//${a}${l}`),t8("Auth",!0)):Qne()}function K7(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Zne(n){const e=K7(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:ak(i.substr(s.length+1))}}else{const[s,a]=i.split(":");return{host:s,port:ak(a)}}}function ak(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function Qne(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z7{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Uh("not implemented")}_getIdTokenResponse(e){return Uh("not implemented")}_linkToIdToken(e,t){return Uh("not implemented")}_getReauthenticationResolver(e){return Uh("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w0(n,e){return Ane(n,"POST","/v1/accounts:signInWithIdp",yN(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jne="http://localhost";class Jg extends Z7{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Jg(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Yh("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=t,s=pN(t,["providerId","signInMethod"]);if(!i||!r)return null;const a=new Jg(i,r);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const t=this.buildRequest();return w0(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,w0(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,w0(e,t)}buildRequest(){const e={requestUri:Jne,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=bS(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q7{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS extends Q7{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp extends AS{constructor(){super("facebook.com")}static credential(e){return Jg._fromParams({providerId:gp.PROVIDER_ID,signInMethod:gp.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gp.credentialFromTaggedObject(e)}static credentialFromError(e){return gp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gp.credential(e.oauthAccessToken)}catch{return null}}}gp.FACEBOOK_SIGN_IN_METHOD="facebook.com";gp.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh extends AS{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Jg._fromParams({providerId:Dh.PROVIDER_ID,signInMethod:Dh.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Dh.credentialFromTaggedObject(e)}static credentialFromError(e){return Dh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Dh.credential(t,i)}catch{return null}}}Dh.GOOGLE_SIGN_IN_METHOD="google.com";Dh.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp extends AS{constructor(){super("github.com")}static credential(e){return Jg._fromParams({providerId:yp.PROVIDER_ID,signInMethod:yp.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yp.credentialFromTaggedObject(e)}static credentialFromError(e){return yp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yp.credential(e.oauthAccessToken)}catch{return null}}}yp.GITHUB_SIGN_IN_METHOD="github.com";yp.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp extends AS{constructor(){super("twitter.com")}static credential(e,t){return Jg._fromParams({providerId:vp.PROVIDER_ID,signInMethod:vp.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return vp.credentialFromTaggedObject(e)}static credentialFromError(e){return vp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return vp.credential(t,i)}catch{return null}}}vp.TWITTER_SIGN_IN_METHOD="twitter.com";vp.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,r=!1){const s=await mu._fromIdTokenResponse(e,i,r),a=ok(i);return new V0({user:s,providerId:a,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const r=ok(i);return new V0({user:e,providerId:r,_tokenResponse:i,operationType:t})}}function ok(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2 extends ld{constructor(e,t,i,r){var s;super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,q2.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new q2(e,t,i,r)}}function J7(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?q2._fromErrorAndOperation(n,s,e,i):s})}async function eie(n,e,t=!1){const i=await Lx(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return V0._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tie(n,e,t=!1){const{auth:i}=n;if(gf(i.app))return Promise.reject(Fg(i));const r="reauthenticate";try{const s=await Lx(n,J7(i,r,e,n),t);Sn(s.idToken,i,"internal-error");const a=vN(s.idToken);Sn(a,i,"internal-error");const{sub:o}=a;return Sn(n.uid===o,i,"user-mismatch"),V0._forOperation(n,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Yh(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nie(n,e,t=!1){if(gf(n.app))return Promise.reject(Fg(n));const i="signIn",r=await J7(n,i,e),s=await V0._fromIdTokenResponse(n,i,r);return t||await n._updateCurrentUser(s.user),s}function iie(n,e,t,i){return _u(n).onIdTokenChanged(e,t,i)}function rie(n,e,t){return _u(n).beforeAuthStateChanged(e,t)}const W2="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eH{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(W2,"1"),this.storage.removeItem(W2),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sie=1e3,aie=10;class tH extends eH{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=X7(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),r=this.localCache[t];i!==r&&e(t,r,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const i=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const a=this.storage.getItem(i);!t&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);zne()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,aie):r()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},sie)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}tH.type="LOCAL";const oie=tH;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nH extends eH{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}nH.type="SESSION";const iH=nH;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lie(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(r=>r.isListeningto(e));if(t)return t;const i=new LA(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:r,data:s}=t.data,a=this.handlersMap[r];if(!(a!=null&&a.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const o=Array.from(a).map(async u=>u(t.origin,s)),l=await lie(o);t.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:l})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}LA.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cie{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,a;return new Promise((o,l)=>{const u=SN("",20);r.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},i);a={messageChannel:r,onMessage(p){const y=p;if(y.data.eventId===u)switch(y.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(y.data.response);break;default:clearTimeout(h),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mf(){return window}function uie(n){Mf().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rH(){return typeof Mf().WorkerGlobalScope<"u"&&typeof Mf().importScripts=="function"}async function fie(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function hie(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function die(){return rH()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sH="firebaseLocalStorageDb",pie=1,$2="firebaseLocalStorage",aH="fbase_key";class MS{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function UA(n,e){return n.transaction([$2],e?"readwrite":"readonly").objectStore($2)}function mie(){const n=indexedDB.deleteDatabase(sH);return new MS(n).toPromise()}function YI(){const n=indexedDB.open(sH,pie);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore($2,{keyPath:aH})}catch(r){t(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains($2)?e(i):(i.close(),await mie(),e(await YI()))})})}async function lk(n,e,t){const i=UA(n,!0).put({[aH]:e,value:t});return new MS(i).toPromise()}async function gie(n,e){const t=UA(n,!1).get(e),i=await new MS(t).toPromise();return i===void 0?null:i.value}function ck(n,e){const t=UA(n,!0).delete(e);return new MS(t).toPromise()}const yie=800,vie=3;class oH{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await YI(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>vie)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return rH()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=LA._getInstance(die()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await fie(),!this.activeServiceWorker)return;this.sender=new cie(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||hie()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await YI();return await lk(e,W2,"1"),await ck(e,W2),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>lk(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>gie(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>ck(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const s=UA(r,!1).getAll();return new MS(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:s}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),yie)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}oH.type="LOCAL";const _ie=oH;new CS(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bie(n,e){return e?kh(e):(Sn(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN extends Z7{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return w0(e,this._buildIdpRequest())}_linkToIdToken(e,t){return w0(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return w0(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function xie(n){return nie(n.auth,new EN(n),n.bypassAuthState)}function Sie(n){const{auth:e,user:t}=n;return Sn(t,e,"internal-error"),tie(t,new EN(n),n.bypassAuthState)}async function Eie(n){const{auth:e,user:t}=n;return Sn(t,e,"internal-error"),eie(t,new EN(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lH{constructor(e,t,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:r,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:t,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xie;case"linkViaPopup":case"linkViaRedirect":return Eie;case"reauthViaPopup":case"reauthViaRedirect":return Sie;default:Yh(this.auth,"internal-error")}}resolve(e){Kh(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Kh(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tie=new CS(2e3,1e4);class u0 extends lH{constructor(e,t,i,r,s){super(e,t,r,s),this.provider=i,this.authWindow=null,this.pollId=null,u0.currentPopupAction&&u0.currentPopupAction.cancel(),u0.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Sn(e,this.auth,"internal-error"),e}async onExecution(){Kh(this.filter.length===1,"Popup operations only handle one event");const e=SN();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Af(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Af(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,u0.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Af(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Tie.get())};e()}}u0.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wie="pendingRedirect",o2=new Map;class Cie extends lH{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=o2.get(this.auth._key());if(!e){try{const i=await Aie(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}o2.set(this.auth._key(),e)}return this.bypassAuthState||o2.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Aie(n,e){const t=Oie(e),i=Rie(n);if(!await i._isAvailable())return!1;const r=await i._get(t)==="true";return await i._remove(t),r}function Mie(n,e){o2.set(n._key(),e)}function Rie(n){return kh(n._redirectPersistence)}function Oie(n){return a2(wie,n.config.apiKey,n.name)}async function Iie(n,e,t=!1){if(gf(n.app))return Promise.reject(Fg(n));const i=bN(n),r=bie(i,e),a=await new Cie(i,r,t).execute();return a&&!t&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pie=600*1e3;class Die{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Nie(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!cH(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Af(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Pie&&this.cachedEventUids.clear(),this.cachedEventUids.has(uk(e))}saveEventToCache(e){this.cachedEventUids.add(uk(e)),this.lastProcessedEventTime=Date.now()}}function uk(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function cH({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Nie(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cH(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lie(n,e={}){return w_(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uie=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kie=/^https?/;async function zie(n){if(n.config.emulator)return;const{authorizedDomains:e}=await Lie(n);for(const t of e)try{if(Bie(t))return}catch{}Yh(n,"unauthorized-domain")}function Bie(n){const e=$I(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const a=new URL(n);return a.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&a.hostname===i}if(!kie.test(t))return!1;if(Uie.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fie=new CS(3e4,6e4);function fk(){const n=Mf().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Vie(n){return new Promise((e,t)=>{var i,r,s;function a(){fk(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{fk(),t(Af(n,"network-request-failed"))},timeout:Fie.get()})}if(!((r=(i=Mf().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=Mf().gapi)===null||s===void 0)&&s.load)a();else{const o=$ne("iframefcb");return Mf()[o]=()=>{gapi.load?a():t(Af(n,"network-request-failed"))},qne(`${Wne()}?onload=${o}`).catch(l=>t(l))}}).catch(e=>{throw l2=null,e})}let l2=null;function Hie(n){return l2=l2||Vie(n),l2}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jie=new CS(5e3,15e3),Gie="__/auth/iframe",qie="emulator/auth/iframe",Wie={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$ie=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Xie(n){const e=n.config;Sn(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?gN(e,qie):`https://${n.config.authDomain}/${Gie}`,i={apiKey:e.apiKey,appName:n.name,v:__},r=$ie.get(n.config.apiHost);r&&(i.eid=r);const s=n._getFrameworks();return s.length&&(i.fw=s.join(",")),`${t}?${bS(i).slice(1)}`}async function Yie(n){const e=await Hie(n),t=Mf().gapi;return Sn(t,n,"internal-error"),e.open({where:document.body,url:Xie(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Wie,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const a=Af(n,"network-request-failed"),o=Mf().setTimeout(()=>{s(a)},jie.get());function l(){Mf().clearTimeout(o),r(i)}i.ping(l).then(l,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kie={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Zie=500,Qie=600,Jie="_blank",ere="http://localhost";class hk{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tre(n,e,t,i=Zie,r=Qie){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let o="";const l=Object.assign(Object.assign({},Kie),{width:i.toString(),height:r.toString(),top:s,left:a}),u=no().toLowerCase();t&&(o=j7(u)?Jie:t),V7(u)&&(e=e||ere,l.scrollbars="yes");const h=Object.entries(l).reduce((y,[v,_])=>`${y}${v}=${_},`,"");if(kne(u)&&o!=="_self")return nre(e||"",o),new hk(null);const p=window.open(e||"",o,h);Sn(p,n,"popup-blocked");try{p.focus()}catch{}return new hk(p)}function nre(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ire="__/auth/handler",rre="emulator/auth/handler",sre=encodeURIComponent("fac");async function dk(n,e,t,i,r,s){Sn(n.config.authDomain,n,"auth-domain-config-required"),Sn(n.config.apiKey,n,"invalid-api-key");const a={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:__,eventId:r};if(e instanceof Q7){e.setDefaultLanguage(n.languageCode),a.providerId=e.providerId||"",lQ(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,p]of Object.entries({}))a[h]=p}if(e instanceof AS){const h=e.getScopes().filter(p=>p!=="");h.length>0&&(a.scopes=h.join(","))}n.tenantId&&(a.tid=n.tenantId);const o=a;for(const h of Object.keys(o))o[h]===void 0&&delete o[h];const l=await n._getAppCheckToken(),u=l?`#${sre}=${encodeURIComponent(l)}`:"";return`${are(n)}?${bS(o).slice(1)}${u}`}function are({config:n}){return n.emulator?gN(n,rre):`https://${n.authDomain}/${ire}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO="webStorageSupport";class ore{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iH,this._completeRedirectFn=Iie,this._overrideRedirectResult=Mie}async _openPopup(e,t,i,r){var s;Kh((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await dk(e,t,i,$I(),r);return tre(e,a,SN())}async _openRedirect(e,t,i,r){await this._originValidation(e);const s=await dk(e,t,i,$I(),r);return uie(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:r,promise:s}=this.eventManagers[t];return r?Promise.resolve(r):(Kh(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await Yie(e),i=new Die(e);return t.register("authEvent",r=>(Sn(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(oO,{type:oO},r=>{var s;const a=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[oO];a!==void 0&&t(!!a),Yh(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=zie(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return X7()||H7()||_N()}}const lre=ore;var pk="@firebase/auth",mk="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cre{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Sn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ure(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fre(n){N0(new Zg("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=i.options;Sn(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:a,authDomain:o,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Y7(n)},u=new jne(i,r,s,l);return Yne(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),N0(new Zg("auth-internal",e=>{const t=bN(e.getProvider("auth").getImmediate());return(i=>new cre(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Rp(pk,mk,ure(n)),Rp(pk,mk,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hre=300,dre=JV("authIdTokenMaxAge")||hre;let gk=null;const pre=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>dre)return;const r=t==null?void 0:t.token;gk!==r&&(gk=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function mre(n=s8()){const e=zD(n,"auth");if(e.isInitialized())return e.getImmediate();const t=Xne(n,{popupRedirectResolver:lre,persistence:[_ie,oie,iH]}),i=JV("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const a=pre(s.toString());rie(t,a,()=>a(t.currentUser)),iie(t,o=>a(o))}}const r=ZV("auth");return r&&Kne(t,`http://${r}`),t}function gre(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Gne({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{const s=Af("internal-error");s.customData=r,t(s)},i.type="text/javascript",i.charset="UTF-8",gre().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fre("Browser");const yre={apiKey:"AIzaSyD6drh2aoyblA6iwk80Ko26FHK2HK_cNmk",authDomain:"black-triangle-bjj.firebaseapp.com",projectId:"black-triangle-bjj",storageBucket:"black-triangle-bjj.firebasestorage.app",messagingSenderId:"128924794161",appId:"1:128924794161:web:7968a2a259fbc8899cc410",measurementId:"G-LBWF7DFVF5"},uH=r8(yre),RS=Qte(uH);mre(uH);new Dh;function Rh(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function fH(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}/*!
 * GSAP 3.14.2
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Ll={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},H0={duration:.5,overwrite:!1,delay:0},TN,Ta,Tr,Ec=1e8,nr=1/Ec,KI=Math.PI*2,vre=KI/4,_re=0,hH=Math.sqrt,bre=Math.cos,xre=Math.sin,oa=function(e){return typeof e=="string"},ns=function(e){return typeof e=="function"},Zh=function(e){return typeof e=="number"},wN=function(e){return typeof e>"u"},Nf=function(e){return typeof e=="object"},nl=function(e){return e!==!1},CN=function(){return typeof window<"u"},vT=function(e){return ns(e)||oa(e)},dH=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},to=Array.isArray,Sre=/random\([^)]+\)/g,Ere=/,\s*/g,yk=/(?:-?\.?\d|\.)+/gi,pH=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,f0=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,lO=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,mH=/[+-]=-?[.\d]+/,Tre=/[^,'"\[\]\s]+/gi,wre=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Ur,hf,ZI,AN,Bl={},X2={},gH,yH=function(e){return(X2=j0(e,Bl))&&ll},MN=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},Ux=function(e,t){return!t&&console.warn(e)},vH=function(e,t){return e&&(Bl[e]=t)&&X2&&(X2[e]=t)||Bl},kx=function(){return 0},Cre={suppressEvents:!0,isStart:!0,kill:!1},c2={suppressEvents:!0,kill:!1},Are={suppressEvents:!0},RN={},Dp=[],QI={},_H,Ol={},cO={},vk=30,u2=[],ON="",IN=function(e){var t=e[0],i,r;if(Nf(t)||ns(t)||(e=[e]),!(i=(t._gsap||{}).harness)){for(r=u2.length;r--&&!u2[r].targetTest(t););i=u2[r]}for(r=e.length;r--;)e[r]&&(e[r]._gsap||(e[r]._gsap=new jH(e[r],i)))||e.splice(r,1);return e},Vg=function(e){return e._gsap||IN(Tc(e))[0]._gsap},bH=function(e,t,i){return(i=e[t])&&ns(i)?e[t]():wN(i)&&e.getAttribute&&e.getAttribute(t)||i},il=function(e,t){return(e=e.split(",")).forEach(t)||e},ds=function(e){return Math.round(e*1e5)/1e5||0},Lr=function(e){return Math.round(e*1e7)/1e7||0},C0=function(e,t){var i=t.charAt(0),r=parseFloat(t.substr(2));return e=parseFloat(e),i==="+"?e+r:i==="-"?e-r:i==="*"?e*r:e/r},Mre=function(e,t){for(var i=t.length,r=0;e.indexOf(t[r])<0&&++r<i;);return r<i},Y2=function(){var e=Dp.length,t=Dp.slice(0),i,r;for(QI={},Dp.length=0,i=0;i<e;i++)r=t[i],r&&r._lazy&&(r.render(r._lazy[0],r._lazy[1],!0)._lazy=0)},PN=function(e){return!!(e._initted||e._startAt||e.add)},xH=function(e,t,i,r){Dp.length&&!Ta&&Y2(),e.render(t,i,!!(Ta&&t<0&&PN(e))),Dp.length&&!Ta&&Y2()},SH=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(Tre).length<2?t:oa(e)?e.trim():e},EH=function(e){return e},Fl=function(e,t){for(var i in t)i in e||(e[i]=t[i]);return e},Rre=function(e){return function(t,i){for(var r in i)r in t||r==="duration"&&e||r==="ease"||(t[r]=i[r])}},j0=function(e,t){for(var i in t)e[i]=t[i];return e},_k=function n(e,t){for(var i in t)i!=="__proto__"&&i!=="constructor"&&i!=="prototype"&&(e[i]=Nf(t[i])?n(e[i]||(e[i]={}),t[i]):t[i]);return e},K2=function(e,t){var i={},r;for(r in e)r in t||(i[r]=e[r]);return i},sx=function(e){var t=e.parent||Ur,i=e.keyframes?Rre(to(e.keyframes)):Fl;if(nl(e.inherit))for(;t;)i(e,t.vars.defaults),t=t.parent||t._dp;return e},Ore=function(e,t){for(var i=e.length,r=i===t.length;r&&i--&&e[i]===t[i];);return i<0},TH=function(e,t,i,r,s){var a=e[r],o;if(s)for(o=t[s];a&&a[s]>o;)a=a._prev;return a?(t._next=a._next,a._next=t):(t._next=e[i],e[i]=t),t._next?t._next._prev=t:e[r]=t,t._prev=a,t.parent=t._dp=e,t},kA=function(e,t,i,r){i===void 0&&(i="_first"),r===void 0&&(r="_last");var s=t._prev,a=t._next;s?s._next=a:e[i]===t&&(e[i]=a),a?a._prev=s:e[r]===t&&(e[r]=s),t._next=t._prev=t.parent=null},Gp=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Hg=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var i=e;i;)i._dirty=1,i=i.parent;return e},Ire=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},JI=function(e,t,i,r){return e._startAt&&(Ta?e._startAt.revert(c2):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,r))},Pre=function n(e){return!e||e._ts&&n(e.parent)},bk=function(e){return e._repeat?G0(e._tTime,e=e.duration()+e._rDelay)*e:0},G0=function(e,t){var i=Math.floor(e=Lr(e/t));return e&&i===e?i-1:i},Z2=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},zA=function(e){return e._end=Lr(e._start+(e._tDur/Math.abs(e._ts||e._rts||nr)||0))},BA=function(e,t){var i=e._dp;return i&&i.smoothChildTiming&&e._ts&&(e._start=Lr(i._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),zA(e),i._dirty||Hg(i,e)),e},wH=function(e,t){var i;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(i=Z2(e.rawTime(),t),(!t._dur||OS(0,t.totalDuration(),i)-t._tTime>nr)&&t.render(i,!0)),Hg(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(i=e;i._dp;)i.rawTime()>=0&&i.totalTime(i._tTime),i=i._dp;e._zTime=-nr}},vf=function(e,t,i,r){return t.parent&&Gp(t),t._start=Lr((Zh(i)?i:i||e!==Ur?vc(e,i,t):e._time)+t._delay),t._end=Lr(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),TH(e,t,"_first","_last",e._sort?"_start":0),eP(t)||(e._recent=t),r||wH(e,t),e._ts<0&&BA(e,e._tTime),e},CH=function(e,t){return(Bl.ScrollTrigger||MN("scrollTrigger",t))&&Bl.ScrollTrigger.create(t,e)},AH=function(e,t,i,r,s){if(NN(e,t,s),!e._initted)return 1;if(!i&&e._pt&&!Ta&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&_H!==Il.frame)return Dp.push(e),e._lazy=[s,r],1},Dre=function n(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||n(t))},eP=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},Nre=function(e,t,i,r){var s=e.ratio,a=t<0||!t&&(!e._start&&Dre(e)&&!(!e._initted&&eP(e))||(e._ts<0||e._dp._ts<0)&&!eP(e))?0:1,o=e._rDelay,l=0,u,h,p;if(o&&e._repeat&&(l=OS(0,e._tDur,t),h=G0(l,o),e._yoyo&&h&1&&(a=1-a),h!==G0(e._tTime,o)&&(s=1-a,e.vars.repeatRefresh&&e._initted&&e.invalidate())),a!==s||Ta||r||e._zTime===nr||!t&&e._zTime){if(!e._initted&&AH(e,t,r,i,l))return;for(p=e._zTime,e._zTime=t||(i?nr:0),i||(i=t&&!p),e.ratio=a,e._from&&(a=1-a),e._time=0,e._tTime=l,u=e._pt;u;)u.r(a,u.d),u=u._next;t<0&&JI(e,t,i,!0),e._onUpdate&&!i&&Dl(e,"onUpdate"),l&&e._repeat&&!i&&e.parent&&Dl(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===a&&(a&&Gp(e,1),!i&&!Ta&&(Dl(e,a?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},Lre=function(e,t,i){var r;if(i>t)for(r=e._first;r&&r._start<=i;){if(r.data==="isPause"&&r._start>t)return r;r=r._next}else for(r=e._last;r&&r._start>=i;){if(r.data==="isPause"&&r._start<t)return r;r=r._prev}},q0=function(e,t,i,r){var s=e._repeat,a=Lr(t)||0,o=e._tTime/e._tDur;return o&&!r&&(e._time*=a/e._dur),e._dur=a,e._tDur=s?s<0?1e10:Lr(a*(s+1)+e._rDelay*s):a,o>0&&!r&&BA(e,e._tTime=e._tDur*o),e.parent&&zA(e),i||Hg(e.parent,e),e},xk=function(e){return e instanceof Ro?Hg(e):q0(e,e._dur)},Ure={_start:0,endTime:kx,totalDuration:kx},vc=function n(e,t,i){var r=e.labels,s=e._recent||Ure,a=e.duration()>=Ec?s.endTime(!1):e._dur,o,l,u;return oa(t)&&(isNaN(t)||t in r)?(l=t.charAt(0),u=t.substr(-1)==="%",o=t.indexOf("="),l==="<"||l===">"?(o>=0&&(t=t.replace(/=/,"")),(l==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(t.substr(1))||0)*(u?(o<0?s:i).totalDuration()/100:1)):o<0?(t in r||(r[t]=a),r[t]):(l=parseFloat(t.charAt(o-1)+t.substr(o+1)),u&&i&&(l=l/100*(to(i)?i[0]:i).totalDuration()),o>1?n(e,t.substr(0,o-1),i)+l:a+l)):t==null?a:+t},ax=function(e,t,i){var r=Zh(t[1]),s=(r?2:1)+(e<2?0:1),a=t[s],o,l;if(r&&(a.duration=t[1]),a.parent=i,e){for(o=a,l=i;l&&!("immediateRender"in o);)o=l.vars.defaults||{},l=nl(l.vars.inherit)&&l.parent;a.immediateRender=nl(o.immediateRender),e<2?a.runBackwards=1:a.startAt=t[s-1]}return new Cs(t[0],a,t[s+1])},Jp=function(e,t){return e||e===0?t(e):t},OS=function(e,t,i){return i<e?e:i>t?t:i},Ja=function(e,t){return!oa(e)||!(t=wre.exec(e))?"":t[1]},kre=function(e,t,i){return Jp(i,function(r){return OS(e,t,r)})},tP=[].slice,MH=function(e,t){return e&&Nf(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&Nf(e[0]))&&!e.nodeType&&e!==hf},zre=function(e,t,i){return i===void 0&&(i=[]),e.forEach(function(r){var s;return oa(r)&&!t||MH(r,1)?(s=i).push.apply(s,Tc(r)):i.push(r)})||i},Tc=function(e,t,i){return Tr&&!t&&Tr.selector?Tr.selector(e):oa(e)&&!i&&(ZI||!W0())?tP.call((t||AN).querySelectorAll(e),0):to(e)?zre(e,i):MH(e)?tP.call(e,0):e?[e]:[]},nP=function(e){return e=Tc(e)[0]||Ux("Invalid scope")||{},function(t){var i=e.current||e.nativeElement||e;return Tc(t,i.querySelectorAll?i:i===e?Ux("Invalid scope")||AN.createElement("div"):e)}},RH=function(e){return e.sort(function(){return .5-Math.random()})},OH=function(e){if(ns(e))return e;var t=Nf(e)?e:{each:e},i=jg(t.ease),r=t.from||0,s=parseFloat(t.base)||0,a={},o=r>0&&r<1,l=isNaN(r)||o,u=t.axis,h=r,p=r;return oa(r)?h=p={center:.5,edges:.5,end:1}[r]||0:!o&&l&&(h=r[0],p=r[1]),function(y,v,_){var x=(_||t).length,E=a[x],S,w,C,A,N,L,I,D,P;if(!E){if(P=t.grid==="auto"?0:(t.grid||[1,Ec])[1],!P){for(I=-Ec;I<(I=_[P++].getBoundingClientRect().left)&&P<x;);P<x&&P--}for(E=a[x]=[],S=l?Math.min(P,x)*h-.5:r%P,w=P===Ec?0:l?x*p/P-.5:r/P|0,I=0,D=Ec,L=0;L<x;L++)C=L%P-S,A=w-(L/P|0),E[L]=N=u?Math.abs(u==="y"?A:C):hH(C*C+A*A),N>I&&(I=N),N<D&&(D=N);r==="random"&&RH(E),E.max=I-D,E.min=D,E.v=x=(parseFloat(t.amount)||parseFloat(t.each)*(P>x?x-1:u?u==="y"?x/P:P:Math.max(P,x/P))||0)*(r==="edges"?-1:1),E.b=x<0?s-x:s,E.u=Ja(t.amount||t.each)||0,i=i&&x<0?FH(i):i}return x=(E[y]-E.min)/E.max||0,Lr(E.b+(i?i(x):x)*E.v)+E.u}},iP=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(i){var r=Lr(Math.round(parseFloat(i)/e)*e*t);return(r-r%1)/t+(Zh(i)?0:Ja(i))}},IH=function(e,t){var i=to(e),r,s;return!i&&Nf(e)&&(r=i=e.radius||Ec,e.values?(e=Tc(e.values),(s=!Zh(e[0]))&&(r*=r)):e=iP(e.increment)),Jp(t,i?ns(e)?function(a){return s=e(a),Math.abs(s-a)<=r?s:a}:function(a){for(var o=parseFloat(s?a.x:a),l=parseFloat(s?a.y:0),u=Ec,h=0,p=e.length,y,v;p--;)s?(y=e[p].x-o,v=e[p].y-l,y=y*y+v*v):y=Math.abs(e[p]-o),y<u&&(u=y,h=p);return h=!r||u<=r?e[h]:a,s||h===a||Zh(a)?h:h+Ja(a)}:iP(e))},PH=function(e,t,i,r){return Jp(to(e)?!t:i===!0?!!(i=0):!r,function(){return to(e)?e[~~(Math.random()*e.length)]:(i=i||1e-5)&&(r=i<1?Math.pow(10,(i+"").length-2):1)&&Math.floor(Math.round((e-i/2+Math.random()*(t-e+i*.99))/i)*i*r)/r})},Bre=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(r){return t.reduce(function(s,a){return a(s)},r)}},Fre=function(e,t){return function(i){return e(parseFloat(i))+(t||Ja(i))}},Vre=function(e,t,i){return NH(e,t,0,1,i)},DH=function(e,t,i){return Jp(i,function(r){return e[~~t(r)]})},Hre=function n(e,t,i){var r=t-e;return to(e)?DH(e,n(0,e.length),t):Jp(i,function(s){return(r+(s-e)%r)%r+e})},jre=function n(e,t,i){var r=t-e,s=r*2;return to(e)?DH(e,n(0,e.length-1),t):Jp(i,function(a){return a=(s+(a-e)%s)%s||0,e+(a>r?s-a:a)})},zx=function(e){return e.replace(Sre,function(t){var i=t.indexOf("[")+1,r=t.substring(i||7,i?t.indexOf("]"):t.length-1).split(Ere);return PH(i?r:+r[0],i?0:+r[1],+r[2]||1e-5)})},NH=function(e,t,i,r,s){var a=t-e,o=r-i;return Jp(s,function(l){return i+((l-e)/a*o||0)})},Gre=function n(e,t,i,r){var s=isNaN(e+t)?0:function(v){return(1-v)*e+v*t};if(!s){var a=oa(e),o={},l,u,h,p,y;if(i===!0&&(r=1)&&(i=null),a)e={p:e},t={p:t};else if(to(e)&&!to(t)){for(h=[],p=e.length,y=p-2,u=1;u<p;u++)h.push(n(e[u-1],e[u]));p--,s=function(_){_*=p;var x=Math.min(y,~~_);return h[x](_-x)},i=t}else r||(e=j0(to(e)?[]:{},e));if(!h){for(l in t)DN.call(o,e,l,"get",t[l]);s=function(_){return kN(_,o)||(a?e.p:e)}}}return Jp(i,s)},Sk=function(e,t,i){var r=e.labels,s=Ec,a,o,l;for(a in r)o=r[a]-t,o<0==!!i&&o&&s>(o=Math.abs(o))&&(l=a,s=o);return l},Dl=function(e,t,i){var r=e.vars,s=r[t],a=Tr,o=e._ctx,l,u,h;if(s)return l=r[t+"Params"],u=r.callbackScope||e,i&&Dp.length&&Y2(),o&&(Tr=o),h=l?s.apply(u,l):s.call(u),Tr=a,h},z1=function(e){return Gp(e),e.scrollTrigger&&e.scrollTrigger.kill(!!Ta),e.progress()<1&&Dl(e,"onInterrupt"),e},h0,LH=[],UH=function(e){if(e)if(e=!e.name&&e.default||e,CN()||e.headless){var t=e.name,i=ns(e),r=t&&!i&&e.init?function(){this._props=[]}:e,s={init:kx,render:kN,add:DN,kill:ase,modifier:sse,rawVars:0},a={targetTest:0,get:0,getSetter:UN,aliases:{},register:0};if(W0(),e!==r){if(Ol[t])return;Fl(r,Fl(K2(e,s),a)),j0(r.prototype,j0(s,K2(e,a))),Ol[r.prop=t]=r,e.targetTest&&(u2.push(r),RN[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}vH(t,r),e.register&&e.register(ll,r,rl)}else LH.push(e)},tr=255,B1={aqua:[0,tr,tr],lime:[0,tr,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,tr],navy:[0,0,128],white:[tr,tr,tr],olive:[128,128,0],yellow:[tr,tr,0],orange:[tr,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[tr,0,0],pink:[tr,192,203],cyan:[0,tr,tr],transparent:[tr,tr,tr,0]},uO=function(e,t,i){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(i-t)*e*6:e<.5?i:e*3<2?t+(i-t)*(2/3-e)*6:t)*tr+.5|0},kH=function(e,t,i){var r=e?Zh(e)?[e>>16,e>>8&tr,e&tr]:0:B1.black,s,a,o,l,u,h,p,y,v,_;if(!r){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),B1[e])r=B1[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),a=e.charAt(2),o=e.charAt(3),e="#"+s+s+a+a+o+o+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return r=parseInt(e.substr(1,6),16),[r>>16,r>>8&tr,r&tr,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),r=[e>>16,e>>8&tr,e&tr]}else if(e.substr(0,3)==="hsl"){if(r=_=e.match(yk),!t)l=+r[0]%360/360,u=+r[1]/100,h=+r[2]/100,a=h<=.5?h*(u+1):h+u-h*u,s=h*2-a,r.length>3&&(r[3]*=1),r[0]=uO(l+1/3,s,a),r[1]=uO(l,s,a),r[2]=uO(l-1/3,s,a);else if(~e.indexOf("="))return r=e.match(pH),i&&r.length<4&&(r[3]=1),r}else r=e.match(yk)||B1.transparent;r=r.map(Number)}return t&&!_&&(s=r[0]/tr,a=r[1]/tr,o=r[2]/tr,p=Math.max(s,a,o),y=Math.min(s,a,o),h=(p+y)/2,p===y?l=u=0:(v=p-y,u=h>.5?v/(2-p-y):v/(p+y),l=p===s?(a-o)/v+(a<o?6:0):p===a?(o-s)/v+2:(s-a)/v+4,l*=60),r[0]=~~(l+.5),r[1]=~~(u*100+.5),r[2]=~~(h*100+.5)),i&&r.length<4&&(r[3]=1),r},zH=function(e){var t=[],i=[],r=-1;return e.split(Np).forEach(function(s){var a=s.match(f0)||[];t.push.apply(t,a),i.push(r+=a.length+1)}),t.c=i,t},Ek=function(e,t,i){var r="",s=(e+r).match(Np),a=t?"hsla(":"rgba(",o=0,l,u,h,p;if(!s)return e;if(s=s.map(function(y){return(y=kH(y,t,1))&&a+(t?y[0]+","+y[1]+"%,"+y[2]+"%,"+y[3]:y.join(","))+")"}),i&&(h=zH(e),l=i.c,l.join(r)!==h.c.join(r)))for(u=e.replace(Np,"1").split(f0),p=u.length-1;o<p;o++)r+=u[o]+(~l.indexOf(o)?s.shift()||a+"0,0,0,0)":(h.length?h:s.length?s:i).shift());if(!u)for(u=e.split(Np),p=u.length-1;o<p;o++)r+=u[o]+s[o];return r+u[p]},Np=(function(){var n="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in B1)n+="|"+e+"\\b";return new RegExp(n+")","gi")})(),qre=/hsl[a]?\(/,BH=function(e){var t=e.join(" "),i;if(Np.lastIndex=0,Np.test(t))return i=qre.test(t),e[1]=Ek(e[1],i),e[0]=Ek(e[0],i,zH(e[1])),!0},Bx,Il=(function(){var n=Date.now,e=500,t=33,i=n(),r=i,s=1e3/240,a=s,o=[],l,u,h,p,y,v,_=function x(E){var S=n()-r,w=E===!0,C,A,N,L;if((S>e||S<0)&&(i+=S-t),r+=S,N=r-i,C=N-a,(C>0||w)&&(L=++p.frame,y=N-p.time*1e3,p.time=N=N/1e3,a+=C+(C>=s?4:s-C),A=1),w||(l=u(x)),A)for(v=0;v<o.length;v++)o[v](N,y,L,E)};return p={time:0,frame:0,tick:function(){_(!0)},deltaRatio:function(E){return y/(1e3/(E||60))},wake:function(){gH&&(!ZI&&CN()&&(hf=ZI=window,AN=hf.document||{},Bl.gsap=ll,(hf.gsapVersions||(hf.gsapVersions=[])).push(ll.version),yH(X2||hf.GreenSockGlobals||!hf.gsap&&hf||{}),LH.forEach(UH)),h=typeof requestAnimationFrame<"u"&&requestAnimationFrame,l&&p.sleep(),u=h||function(E){return setTimeout(E,a-p.time*1e3+1|0)},Bx=1,_(2))},sleep:function(){(h?cancelAnimationFrame:clearTimeout)(l),Bx=0,u=kx},lagSmoothing:function(E,S){e=E||1/0,t=Math.min(S||33,e)},fps:function(E){s=1e3/(E||240),a=p.time*1e3+s},add:function(E,S,w){var C=S?function(A,N,L,I){E(A,N,L,I),p.remove(C)}:E;return p.remove(E),o[w?"unshift":"push"](C),W0(),C},remove:function(E,S){~(S=o.indexOf(E))&&o.splice(S,1)&&v>=S&&v--},_listeners:o},p})(),W0=function(){return!Bx&&Il.wake()},hi={},Wre=/^[\d.\-M][\d.\-,\s]/,$re=/["']/g,Xre=function(e){for(var t={},i=e.substr(1,e.length-3).split(":"),r=i[0],s=1,a=i.length,o,l,u;s<a;s++)l=i[s],o=s!==a-1?l.lastIndexOf(","):l.length,u=l.substr(0,o),t[r]=isNaN(u)?u.replace($re,"").trim():+u,r=l.substr(o+1).trim();return t},Yre=function(e){var t=e.indexOf("(")+1,i=e.indexOf(")"),r=e.indexOf("(",t);return e.substring(t,~r&&r<i?e.indexOf(")",i+1):i)},Kre=function(e){var t=(e+"").split("("),i=hi[t[0]];return i&&t.length>1&&i.config?i.config.apply(null,~e.indexOf("{")?[Xre(t[1])]:Yre(e).split(",").map(SH)):hi._CE&&Wre.test(e)?hi._CE("",e):i},FH=function(e){return function(t){return 1-e(1-t)}},VH=function n(e,t){for(var i=e._first,r;i;)i instanceof Ro?n(i,t):i.vars.yoyoEase&&(!i._yoyo||!i._repeat)&&i._yoyo!==t&&(i.timeline?n(i.timeline,t):(r=i._ease,i._ease=i._yEase,i._yEase=r,i._yoyo=t)),i=i._next},jg=function(e,t){return e&&(ns(e)?e:hi[e]||Kre(e))||t},fy=function(e,t,i,r){i===void 0&&(i=function(l){return 1-t(1-l)}),r===void 0&&(r=function(l){return l<.5?t(l*2)/2:1-t((1-l)*2)/2});var s={easeIn:t,easeOut:i,easeInOut:r},a;return il(e,function(o){hi[o]=Bl[o]=s,hi[a=o.toLowerCase()]=i;for(var l in s)hi[a+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=hi[o+"."+l]=s[l]}),s},HH=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},fO=function n(e,t,i){var r=t>=1?t:1,s=(i||(e?.3:.45))/(t<1?t:1),a=s/KI*(Math.asin(1/r)||0),o=function(h){return h===1?1:r*Math.pow(2,-10*h)*xre((h-a)*s)+1},l=e==="out"?o:e==="in"?function(u){return 1-o(1-u)}:HH(o);return s=KI/s,l.config=function(u,h){return n(e,u,h)},l},hO=function n(e,t){t===void 0&&(t=1.70158);var i=function(a){return a?--a*a*((t+1)*a+t)+1:0},r=e==="out"?i:e==="in"?function(s){return 1-i(1-s)}:HH(i);return r.config=function(s){return n(e,s)},r};il("Linear,Quad,Cubic,Quart,Quint,Strong",function(n,e){var t=e<5?e+1:e;fy(n+",Power"+(t-1),e?function(i){return Math.pow(i,t)}:function(i){return i},function(i){return 1-Math.pow(1-i,t)},function(i){return i<.5?Math.pow(i*2,t)/2:1-Math.pow((1-i)*2,t)/2})});hi.Linear.easeNone=hi.none=hi.Linear.easeIn;fy("Elastic",fO("in"),fO("out"),fO());(function(n,e){var t=1/e,i=2*t,r=2.5*t,s=function(o){return o<t?n*o*o:o<i?n*Math.pow(o-1.5/e,2)+.75:o<r?n*(o-=2.25/e)*o+.9375:n*Math.pow(o-2.625/e,2)+.984375};fy("Bounce",function(a){return 1-s(1-a)},s)})(7.5625,2.75);fy("Expo",function(n){return Math.pow(2,10*(n-1))*n+n*n*n*n*n*n*(1-n)});fy("Circ",function(n){return-(hH(1-n*n)-1)});fy("Sine",function(n){return n===1?1:-bre(n*vre)+1});fy("Back",hO("in"),hO("out"),hO());hi.SteppedEase=hi.steps=Bl.SteppedEase={config:function(e,t){e===void 0&&(e=1);var i=1/e,r=e+(t?0:1),s=t?1:0,a=1-nr;return function(o){return((r*OS(0,a,o)|0)+s)*i}}};H0.ease=hi["quad.out"];il("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(n){return ON+=n+","+n+"Params,"});var jH=function(e,t){this.id=_re++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:bH,this.set=t?t.getSetter:UN},Fx=(function(){function n(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,q0(this,+t.duration,1,1),this.data=t.data,Tr&&(this._ctx=Tr,Tr.data.push(this)),Bx||Il.wake()}var e=n.prototype;return e.delay=function(i){return i||i===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+i-this._delay),this._delay=i,this):this._delay},e.duration=function(i){return arguments.length?this.totalDuration(this._repeat>0?i+(i+this._rDelay)*this._repeat:i):this.totalDuration()&&this._dur},e.totalDuration=function(i){return arguments.length?(this._dirty=0,q0(this,this._repeat<0?i:(i-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(i,r){if(W0(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(BA(this,i),!s._dp||s.parent||wH(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&i<this._tDur||this._ts<0&&i>0||!this._tDur&&!i)&&vf(this._dp,this,this._start-this._delay)}return(this._tTime!==i||!this._dur&&!r||this._initted&&Math.abs(this._zTime)===nr||!this._initted&&this._dur&&i||!i&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=i),xH(this,i,r)),this},e.time=function(i,r){return arguments.length?this.totalTime(Math.min(this.totalDuration(),i+bk(this))%(this._dur+this._rDelay)||(i?this._dur:0),r):this._time},e.totalProgress=function(i,r){return arguments.length?this.totalTime(this.totalDuration()*i,r):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(i,r){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-i:i)+bk(this),r):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(i,r){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(i-1)*s,r):this._repeat?G0(this._tTime,s)+1:1},e.timeScale=function(i,r){if(!arguments.length)return this._rts===-nr?0:this._rts;if(this._rts===i)return this;var s=this.parent&&this._ts?Z2(this.parent._time,this):this._tTime;return this._rts=+i||0,this._ts=this._ps||i===-nr?0:this._rts,this.totalTime(OS(-Math.abs(this._delay),this.totalDuration(),s),r!==!1),zA(this),Ire(this)},e.paused=function(i){return arguments.length?(this._ps!==i&&(this._ps=i,i?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(W0(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==nr&&(this._tTime-=nr)))),this):this._ps},e.startTime=function(i){if(arguments.length){this._start=Lr(i);var r=this.parent||this._dp;return r&&(r._sort||!this.parent)&&vf(r,this,this._start-this._delay),this}return this._start},e.endTime=function(i){return this._start+(nl(i)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(i){var r=this.parent||this._dp;return r?i&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Z2(r.rawTime(i),this):this._tTime:this._tTime},e.revert=function(i){i===void 0&&(i=Are);var r=Ta;return Ta=i,PN(this)&&(this.timeline&&this.timeline.revert(i),this.totalTime(-.01,i.suppressEvents)),this.data!=="nested"&&i.kill!==!1&&this.kill(),Ta=r,this},e.globalTime=function(i){for(var r=this,s=arguments.length?i:r.rawTime();r;)s=r._start+s/(Math.abs(r._ts)||1),r=r._dp;return!this.parent&&this._sat?this._sat.globalTime(i):s},e.repeat=function(i){return arguments.length?(this._repeat=i===1/0?-2:i,xk(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(i){if(arguments.length){var r=this._time;return this._rDelay=i,xk(this),r?this.time(r):this}return this._rDelay},e.yoyo=function(i){return arguments.length?(this._yoyo=i,this):this._yoyo},e.seek=function(i,r){return this.totalTime(vc(this,i),nl(r))},e.restart=function(i,r){return this.play().totalTime(i?-this._delay:0,nl(r)),this._dur||(this._zTime=-nr),this},e.play=function(i,r){return i!=null&&this.seek(i,r),this.reversed(!1).paused(!1)},e.reverse=function(i,r){return i!=null&&this.seek(i||this.totalDuration(),r),this.reversed(!0).paused(!1)},e.pause=function(i,r){return i!=null&&this.seek(i,r),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(i){return arguments.length?(!!i!==this.reversed()&&this.timeScale(-this._rts||(i?-nr:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-nr,this},e.isActive=function(){var i=this.parent||this._dp,r=this._start,s;return!!(!i||this._ts&&this._initted&&i.isActive()&&(s=i.rawTime(!0))>=r&&s<this.endTime(!0)-nr)},e.eventCallback=function(i,r,s){var a=this.vars;return arguments.length>1?(r?(a[i]=r,s&&(a[i+"Params"]=s),i==="onUpdate"&&(this._onUpdate=r)):delete a[i],this):a[i]},e.then=function(i){var r=this,s=r._prom;return new Promise(function(a){var o=ns(i)?i:EH,l=function(){var h=r.then;r.then=null,s&&s(),ns(o)&&(o=o(r))&&(o.then||o===r)&&(r.then=h),a(o),r.then=h};r._initted&&r.totalProgress()===1&&r._ts>=0||!r._tTime&&r._ts<0?l():r._prom=l})},e.kill=function(){z1(this)},n})();Fl(Fx.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-nr,_prom:0,_ps:!1,_rts:1});var Ro=(function(n){fH(e,n);function e(i,r){var s;return i===void 0&&(i={}),s=n.call(this,i)||this,s.labels={},s.smoothChildTiming=!!i.smoothChildTiming,s.autoRemoveChildren=!!i.autoRemoveChildren,s._sort=nl(i.sortChildren),Ur&&vf(i.parent||Ur,Rh(s),r),i.reversed&&s.reverse(),i.paused&&s.paused(!0),i.scrollTrigger&&CH(Rh(s),i.scrollTrigger),s}var t=e.prototype;return t.to=function(r,s,a){return ax(0,arguments,this),this},t.from=function(r,s,a){return ax(1,arguments,this),this},t.fromTo=function(r,s,a,o){return ax(2,arguments,this),this},t.set=function(r,s,a){return s.duration=0,s.parent=this,sx(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new Cs(r,s,vc(this,a),1),this},t.call=function(r,s,a){return vf(this,Cs.delayedCall(0,r,s),a)},t.staggerTo=function(r,s,a,o,l,u,h){return a.duration=s,a.stagger=a.stagger||o,a.onComplete=u,a.onCompleteParams=h,a.parent=this,new Cs(r,a,vc(this,l)),this},t.staggerFrom=function(r,s,a,o,l,u,h){return a.runBackwards=1,sx(a).immediateRender=nl(a.immediateRender),this.staggerTo(r,s,a,o,l,u,h)},t.staggerFromTo=function(r,s,a,o,l,u,h,p){return o.startAt=a,sx(o).immediateRender=nl(o.immediateRender),this.staggerTo(r,s,o,l,u,h,p)},t.render=function(r,s,a){var o=this._time,l=this._dirty?this.totalDuration():this._tDur,u=this._dur,h=r<=0?0:Lr(r),p=this._zTime<0!=r<0&&(this._initted||!u),y,v,_,x,E,S,w,C,A,N,L,I;if(this!==Ur&&h>l&&r>=0&&(h=l),h!==this._tTime||a||p){if(o!==this._time&&u&&(h+=this._time-o,r+=this._time-o),y=h,A=this._start,C=this._ts,S=!C,p&&(u||(o=this._zTime),(r||!s)&&(this._zTime=r)),this._repeat){if(L=this._yoyo,E=u+this._rDelay,this._repeat<-1&&r<0)return this.totalTime(E*100+r,s,a);if(y=Lr(h%E),h===l?(x=this._repeat,y=u):(N=Lr(h/E),x=~~N,x&&x===N&&(y=u,x--),y>u&&(y=u)),N=G0(this._tTime,E),!o&&this._tTime&&N!==x&&this._tTime-N*E-this._dur<=0&&(N=x),L&&x&1&&(y=u-y,I=1),x!==N&&!this._lock){var D=L&&N&1,P=D===(L&&x&1);if(x<N&&(D=!D),o=D?0:h%u?u:h,this._lock=1,this.render(o||(I?0:Lr(x*E)),s,!u)._lock=0,this._tTime=h,!s&&this.parent&&Dl(this,"onRepeat"),this.vars.repeatRefresh&&!I&&(this.invalidate()._lock=1,N=x),o&&o!==this._time||S!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(u=this._dur,l=this._tDur,P&&(this._lock=2,o=D?u:-1e-4,this.render(o,!0),this.vars.repeatRefresh&&!I&&this.invalidate()),this._lock=0,!this._ts&&!S)return this;VH(this,I)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(w=Lre(this,Lr(o),Lr(y)),w&&(h-=y-(y=w._start))),this._tTime=h,this._time=y,this._act=!C,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=r,o=0),!o&&h&&u&&!s&&!N&&(Dl(this,"onStart"),this._tTime!==h))return this;if(y>=o&&r>=0)for(v=this._first;v;){if(_=v._next,(v._act||y>=v._start)&&v._ts&&w!==v){if(v.parent!==this)return this.render(r,s,a);if(v.render(v._ts>0?(y-v._start)*v._ts:(v._dirty?v.totalDuration():v._tDur)+(y-v._start)*v._ts,s,a),y!==this._time||!this._ts&&!S){w=0,_&&(h+=this._zTime=-nr);break}}v=_}else{v=this._last;for(var U=r<0?r:y;v;){if(_=v._prev,(v._act||U<=v._end)&&v._ts&&w!==v){if(v.parent!==this)return this.render(r,s,a);if(v.render(v._ts>0?(U-v._start)*v._ts:(v._dirty?v.totalDuration():v._tDur)+(U-v._start)*v._ts,s,a||Ta&&PN(v)),y!==this._time||!this._ts&&!S){w=0,_&&(h+=this._zTime=U?-nr:nr);break}}v=_}}if(w&&!s&&(this.pause(),w.render(y>=o?0:-nr)._zTime=y>=o?1:-1,this._ts))return this._start=A,zA(this),this.render(r,s,a);this._onUpdate&&!s&&Dl(this,"onUpdate",!0),(h===l&&this._tTime>=this.totalDuration()||!h&&o)&&(A===this._start||Math.abs(C)!==Math.abs(this._ts))&&(this._lock||((r||!u)&&(h===l&&this._ts>0||!h&&this._ts<0)&&Gp(this,1),!s&&!(r<0&&!o)&&(h||o||!l)&&(Dl(this,h===l&&r>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(h<l&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(r,s){var a=this;if(Zh(s)||(s=vc(this,s,r)),!(r instanceof Fx)){if(to(r))return r.forEach(function(o){return a.add(o,s)}),this;if(oa(r))return this.addLabel(r,s);if(ns(r))r=Cs.delayedCall(0,r);else return this}return this!==r?vf(this,r,s):this},t.getChildren=function(r,s,a,o){r===void 0&&(r=!0),s===void 0&&(s=!0),a===void 0&&(a=!0),o===void 0&&(o=-Ec);for(var l=[],u=this._first;u;)u._start>=o&&(u instanceof Cs?s&&l.push(u):(a&&l.push(u),r&&l.push.apply(l,u.getChildren(!0,s,a)))),u=u._next;return l},t.getById=function(r){for(var s=this.getChildren(1,1,1),a=s.length;a--;)if(s[a].vars.id===r)return s[a]},t.remove=function(r){return oa(r)?this.removeLabel(r):ns(r)?this.killTweensOf(r):(r.parent===this&&kA(this,r),r===this._recent&&(this._recent=this._last),Hg(this))},t.totalTime=function(r,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Lr(Il.time-(this._ts>0?r/this._ts:(this.totalDuration()-r)/-this._ts))),n.prototype.totalTime.call(this,r,s),this._forcing=0,this):this._tTime},t.addLabel=function(r,s){return this.labels[r]=vc(this,s),this},t.removeLabel=function(r){return delete this.labels[r],this},t.addPause=function(r,s,a){var o=Cs.delayedCall(0,s||kx,a);return o.data="isPause",this._hasPause=1,vf(this,o,vc(this,r))},t.removePause=function(r){var s=this._first;for(r=vc(this,r);s;)s._start===r&&s.data==="isPause"&&Gp(s),s=s._next},t.killTweensOf=function(r,s,a){for(var o=this.getTweensOf(r,a),l=o.length;l--;)Ep!==o[l]&&o[l].kill(r,s);return this},t.getTweensOf=function(r,s){for(var a=[],o=Tc(r),l=this._first,u=Zh(s),h;l;)l instanceof Cs?Mre(l._targets,o)&&(u?(!Ep||l._initted&&l._ts)&&l.globalTime(0)<=s&&l.globalTime(l.totalDuration())>s:!s||l.isActive())&&a.push(l):(h=l.getTweensOf(o,s)).length&&a.push.apply(a,h),l=l._next;return a},t.tweenTo=function(r,s){s=s||{};var a=this,o=vc(a,r),l=s,u=l.startAt,h=l.onStart,p=l.onStartParams,y=l.immediateRender,v,_=Cs.to(a,Fl({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:o,overwrite:"auto",duration:s.duration||Math.abs((o-(u&&"time"in u?u.time:a._time))/a.timeScale())||nr,onStart:function(){if(a.pause(),!v){var E=s.duration||Math.abs((o-(u&&"time"in u?u.time:a._time))/a.timeScale());_._dur!==E&&q0(_,E,0,1).render(_._time,!0,!0),v=1}h&&h.apply(_,p||[])}},s));return y?_.render(0):_},t.tweenFromTo=function(r,s,a){return this.tweenTo(s,Fl({startAt:{time:vc(this,r)}},a))},t.recent=function(){return this._recent},t.nextLabel=function(r){return r===void 0&&(r=this._time),Sk(this,vc(this,r))},t.previousLabel=function(r){return r===void 0&&(r=this._time),Sk(this,vc(this,r),1)},t.currentLabel=function(r){return arguments.length?this.seek(r,!0):this.previousLabel(this._time+nr)},t.shiftChildren=function(r,s,a){a===void 0&&(a=0);var o=this._first,l=this.labels,u;for(r=Lr(r);o;)o._start>=a&&(o._start+=r,o._end+=r),o=o._next;if(s)for(u in l)l[u]>=a&&(l[u]+=r);return Hg(this)},t.invalidate=function(r){var s=this._first;for(this._lock=0;s;)s.invalidate(r),s=s._next;return n.prototype.invalidate.call(this,r)},t.clear=function(r){r===void 0&&(r=!0);for(var s=this._first,a;s;)a=s._next,this.remove(s),s=a;return this._dp&&(this._time=this._tTime=this._pTime=0),r&&(this.labels={}),Hg(this)},t.totalDuration=function(r){var s=0,a=this,o=a._last,l=Ec,u,h,p;if(arguments.length)return a.timeScale((a._repeat<0?a.duration():a.totalDuration())/(a.reversed()?-r:r));if(a._dirty){for(p=a.parent;o;)u=o._prev,o._dirty&&o.totalDuration(),h=o._start,h>l&&a._sort&&o._ts&&!a._lock?(a._lock=1,vf(a,o,h-o._delay,1)._lock=0):l=h,h<0&&o._ts&&(s-=h,(!p&&!a._dp||p&&p.smoothChildTiming)&&(a._start+=Lr(h/a._ts),a._time-=h,a._tTime-=h),a.shiftChildren(-h,!1,-1/0),l=0),o._end>s&&o._ts&&(s=o._end),o=u;q0(a,a===Ur&&a._time>s?a._time:s,1,1),a._dirty=0}return a._tDur},e.updateRoot=function(r){if(Ur._ts&&(xH(Ur,Z2(r,Ur)),_H=Il.frame),Il.frame>=vk){vk+=Ll.autoSleep||120;var s=Ur._first;if((!s||!s._ts)&&Ll.autoSleep&&Il._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||Il.sleep()}}},e})(Fx);Fl(Ro.prototype,{_lock:0,_hasPause:0,_forcing:0});var Zre=function(e,t,i,r,s,a,o){var l=new rl(this._pt,e,t,0,1,YH,null,s),u=0,h=0,p,y,v,_,x,E,S,w;for(l.b=i,l.e=r,i+="",r+="",(S=~r.indexOf("random("))&&(r=zx(r)),a&&(w=[i,r],a(w,e,t),i=w[0],r=w[1]),y=i.match(lO)||[];p=lO.exec(r);)_=p[0],x=r.substring(u,p.index),v?v=(v+1)%5:x.substr(-5)==="rgba("&&(v=1),_!==y[h++]&&(E=parseFloat(y[h-1])||0,l._pt={_next:l._pt,p:x||h===1?x:",",s:E,c:_.charAt(1)==="="?C0(E,_)-E:parseFloat(_)-E,m:v&&v<4?Math.round:0},u=lO.lastIndex);return l.c=u<r.length?r.substring(u,r.length):"",l.fp=o,(mH.test(r)||S)&&(l.e=0),this._pt=l,l},DN=function(e,t,i,r,s,a,o,l,u,h){ns(r)&&(r=r(s||0,e,a));var p=e[t],y=i!=="get"?i:ns(p)?u?e[t.indexOf("set")||!ns(e["get"+t.substr(3)])?t:"get"+t.substr(3)](u):e[t]():p,v=ns(p)?u?nse:$H:LN,_;if(oa(r)&&(~r.indexOf("random(")&&(r=zx(r)),r.charAt(1)==="="&&(_=C0(y,r)+(Ja(y)||0),(_||_===0)&&(r=_))),!h||y!==r||rP)return!isNaN(y*r)&&r!==""?(_=new rl(this._pt,e,t,+y||0,r-(y||0),typeof p=="boolean"?rse:XH,0,v),u&&(_.fp=u),o&&_.modifier(o,this,e),this._pt=_):(!p&&!(t in e)&&MN(t,r),Zre.call(this,e,t,y,r,v,l||Ll.stringFilter,u))},Qre=function(e,t,i,r,s){if(ns(e)&&(e=ox(e,s,t,i,r)),!Nf(e)||e.style&&e.nodeType||to(e)||dH(e))return oa(e)?ox(e,s,t,i,r):e;var a={},o;for(o in e)a[o]=ox(e[o],s,t,i,r);return a},GH=function(e,t,i,r,s,a){var o,l,u,h;if(Ol[e]&&(o=new Ol[e]).init(s,o.rawVars?t[e]:Qre(t[e],r,s,a,i),i,r,a)!==!1&&(i._pt=l=new rl(i._pt,s,e,0,1,o.render,o,0,o.priority),i!==h0))for(u=i._ptLookup[i._targets.indexOf(s)],h=o._props.length;h--;)u[o._props[h]]=l;return o},Ep,rP,NN=function n(e,t,i){var r=e.vars,s=r.ease,a=r.startAt,o=r.immediateRender,l=r.lazy,u=r.onUpdate,h=r.runBackwards,p=r.yoyoEase,y=r.keyframes,v=r.autoRevert,_=e._dur,x=e._startAt,E=e._targets,S=e.parent,w=S&&S.data==="nested"?S.vars.targets:E,C=e._overwrite==="auto"&&!TN,A=e.timeline,N,L,I,D,P,U,F,z,V,K,J,q,W;if(A&&(!y||!s)&&(s="none"),e._ease=jg(s,H0.ease),e._yEase=p?FH(jg(p===!0?s:p,H0.ease)):0,p&&e._yoyo&&!e._repeat&&(p=e._yEase,e._yEase=e._ease,e._ease=p),e._from=!A&&!!r.runBackwards,!A||y&&!r.stagger){if(z=E[0]?Vg(E[0]).harness:0,q=z&&r[z.prop],N=K2(r,RN),x&&(x._zTime<0&&x.progress(1),t<0&&h&&o&&!v?x.render(-1,!0):x.revert(h&&_?c2:Cre),x._lazy=0),a){if(Gp(e._startAt=Cs.set(E,Fl({data:"isStart",overwrite:!1,parent:S,immediateRender:!0,lazy:!x&&nl(l),startAt:null,delay:0,onUpdate:u&&function(){return Dl(e,"onUpdate")},stagger:0},a))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(Ta||!o&&!v)&&e._startAt.revert(c2),o&&_&&t<=0&&i<=0){t&&(e._zTime=t);return}}else if(h&&_&&!x){if(t&&(o=!1),I=Fl({overwrite:!1,data:"isFromStart",lazy:o&&!x&&nl(l),immediateRender:o,stagger:0,parent:S},N),q&&(I[z.prop]=q),Gp(e._startAt=Cs.set(E,I)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(Ta?e._startAt.revert(c2):e._startAt.render(-1,!0)),e._zTime=t,!o)n(e._startAt,nr,nr);else if(!t)return}for(e._pt=e._ptCache=0,l=_&&nl(l)||l&&!_,L=0;L<E.length;L++){if(P=E[L],F=P._gsap||IN(E)[L]._gsap,e._ptLookup[L]=K={},QI[F.id]&&Dp.length&&Y2(),J=w===E?L:w.indexOf(P),z&&(V=new z).init(P,q||N,e,J,w)!==!1&&(e._pt=D=new rl(e._pt,P,V.name,0,1,V.render,V,0,V.priority),V._props.forEach(function(Q){K[Q]=D}),V.priority&&(U=1)),!z||q)for(I in N)Ol[I]&&(V=GH(I,N,e,J,P,w))?V.priority&&(U=1):K[I]=D=DN.call(e,P,I,"get",N[I],J,w,0,r.stringFilter);e._op&&e._op[L]&&e.kill(P,e._op[L]),C&&e._pt&&(Ep=e,Ur.killTweensOf(P,K,e.globalTime(t)),W=!e.parent,Ep=0),e._pt&&l&&(QI[F.id]=1)}U&&KH(e),e._onInit&&e._onInit(e)}e._onUpdate=u,e._initted=(!e._op||e._pt)&&!W,y&&t<=0&&A.render(Ec,!0,!0)},Jre=function(e,t,i,r,s,a,o,l){var u=(e._pt&&e._ptCache||(e._ptCache={}))[t],h,p,y,v;if(!u)for(u=e._ptCache[t]=[],y=e._ptLookup,v=e._targets.length;v--;){if(h=y[v][t],h&&h.d&&h.d._pt)for(h=h.d._pt;h&&h.p!==t&&h.fp!==t;)h=h._next;if(!h)return rP=1,e.vars[t]="+=0",NN(e,o),rP=0,l?Ux(t+" not eligible for reset"):1;u.push(h)}for(v=u.length;v--;)p=u[v],h=p._pt||p,h.s=(r||r===0)&&!s?r:h.s+(r||0)+a*h.c,h.c=i-h.s,p.e&&(p.e=ds(i)+Ja(p.e)),p.b&&(p.b=h.s+Ja(p.b))},ese=function(e,t){var i=e[0]?Vg(e[0]).harness:0,r=i&&i.aliases,s,a,o,l;if(!r)return t;s=j0({},t);for(a in r)if(a in s)for(l=r[a].split(","),o=l.length;o--;)s[l[o]]=s[a];return s},tse=function(e,t,i,r){var s=t.ease||r||"power1.inOut",a,o;if(to(t))o=i[e]||(i[e]=[]),t.forEach(function(l,u){return o.push({t:u/(t.length-1)*100,v:l,e:s})});else for(a in t)o=i[a]||(i[a]=[]),a==="ease"||o.push({t:parseFloat(e),v:t[a],e:s})},ox=function(e,t,i,r,s){return ns(e)?e.call(t,i,r,s):oa(e)&&~e.indexOf("random(")?zx(e):e},qH=ON+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",WH={};il(qH+",id,stagger,delay,duration,paused,scrollTrigger",function(n){return WH[n]=1});var Cs=(function(n){fH(e,n);function e(i,r,s,a){var o;typeof r=="number"&&(s.duration=r,r=s,s=null),o=n.call(this,a?r:sx(r))||this;var l=o.vars,u=l.duration,h=l.delay,p=l.immediateRender,y=l.stagger,v=l.overwrite,_=l.keyframes,x=l.defaults,E=l.scrollTrigger,S=l.yoyoEase,w=r.parent||Ur,C=(to(i)||dH(i)?Zh(i[0]):"length"in r)?[i]:Tc(i),A,N,L,I,D,P,U,F;if(o._targets=C.length?IN(C):Ux("GSAP target "+i+" not found. https://gsap.com",!Ll.nullTargetWarn)||[],o._ptLookup=[],o._overwrite=v,_||y||vT(u)||vT(h)){if(r=o.vars,A=o.timeline=new Ro({data:"nested",defaults:x||{},targets:w&&w.data==="nested"?w.vars.targets:C}),A.kill(),A.parent=A._dp=Rh(o),A._start=0,y||vT(u)||vT(h)){if(I=C.length,U=y&&OH(y),Nf(y))for(D in y)~qH.indexOf(D)&&(F||(F={}),F[D]=y[D]);for(N=0;N<I;N++)L=K2(r,WH),L.stagger=0,S&&(L.yoyoEase=S),F&&j0(L,F),P=C[N],L.duration=+ox(u,Rh(o),N,P,C),L.delay=(+ox(h,Rh(o),N,P,C)||0)-o._delay,!y&&I===1&&L.delay&&(o._delay=h=L.delay,o._start+=h,L.delay=0),A.to(P,L,U?U(N,P,C):0),A._ease=hi.none;A.duration()?u=h=0:o.timeline=0}else if(_){sx(Fl(A.vars.defaults,{ease:"none"})),A._ease=jg(_.ease||r.ease||"none");var z=0,V,K,J;if(to(_))_.forEach(function(q){return A.to(C,q,">")}),A.duration();else{L={};for(D in _)D==="ease"||D==="easeEach"||tse(D,_[D],L,_.easeEach);for(D in L)for(V=L[D].sort(function(q,W){return q.t-W.t}),z=0,N=0;N<V.length;N++)K=V[N],J={ease:K.e,duration:(K.t-(N?V[N-1].t:0))/100*u},J[D]=K.v,A.to(C,J,z),z+=J.duration;A.duration()<u&&A.to({},{duration:u-A.duration()})}}u||o.duration(u=A.duration())}else o.timeline=0;return v===!0&&!TN&&(Ep=Rh(o),Ur.killTweensOf(C),Ep=0),vf(w,Rh(o),s),r.reversed&&o.reverse(),r.paused&&o.paused(!0),(p||!u&&!_&&o._start===Lr(w._time)&&nl(p)&&Pre(Rh(o))&&w.data!=="nested")&&(o._tTime=-nr,o.render(Math.max(0,-h)||0)),E&&CH(Rh(o),E),o}var t=e.prototype;return t.render=function(r,s,a){var o=this._time,l=this._tDur,u=this._dur,h=r<0,p=r>l-nr&&!h?l:r<nr?0:r,y,v,_,x,E,S,w,C,A;if(!u)Nre(this,r,s,a);else if(p!==this._tTime||!r||a||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==h||this._lazy){if(y=p,C=this.timeline,this._repeat){if(x=u+this._rDelay,this._repeat<-1&&h)return this.totalTime(x*100+r,s,a);if(y=Lr(p%x),p===l?(_=this._repeat,y=u):(E=Lr(p/x),_=~~E,_&&_===E?(y=u,_--):y>u&&(y=u)),S=this._yoyo&&_&1,S&&(A=this._yEase,y=u-y),E=G0(this._tTime,x),y===o&&!a&&this._initted&&_===E)return this._tTime=p,this;_!==E&&(C&&this._yEase&&VH(C,S),this.vars.repeatRefresh&&!S&&!this._lock&&y!==x&&this._initted&&(this._lock=a=1,this.render(Lr(x*_),!0).invalidate()._lock=0))}if(!this._initted){if(AH(this,h?r:y,a,s,p))return this._tTime=0,this;if(o!==this._time&&!(a&&this.vars.repeatRefresh&&_!==E))return this;if(u!==this._dur)return this.render(r,s,a)}if(this._tTime=p,this._time=y,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=w=(A||this._ease)(y/u),this._from&&(this.ratio=w=1-w),!o&&p&&!s&&!E&&(Dl(this,"onStart"),this._tTime!==p))return this;for(v=this._pt;v;)v.r(w,v.d),v=v._next;C&&C.render(r<0?r:C._dur*C._ease(y/this._dur),s,a)||this._startAt&&(this._zTime=r),this._onUpdate&&!s&&(h&&JI(this,r,s,a),Dl(this,"onUpdate")),this._repeat&&_!==E&&this.vars.onRepeat&&!s&&this.parent&&Dl(this,"onRepeat"),(p===this._tDur||!p)&&this._tTime===p&&(h&&!this._onUpdate&&JI(this,r,!0,!0),(r||!u)&&(p===this._tDur&&this._ts>0||!p&&this._ts<0)&&Gp(this,1),!s&&!(h&&!o)&&(p||o||S)&&(Dl(this,p===l?"onComplete":"onReverseComplete",!0),this._prom&&!(p<l&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(r){return(!r||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(r),n.prototype.invalidate.call(this,r)},t.resetTo=function(r,s,a,o,l){Bx||Il.wake(),this._ts||this.play();var u=Math.min(this._dur,(this._dp._time-this._start)*this._ts),h;return this._initted||NN(this,u),h=this._ease(u/this._dur),Jre(this,r,s,a,o,h,u,l)?this.resetTo(r,s,a,o,1):(BA(this,0),this.parent||TH(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(r,s){if(s===void 0&&(s="all"),!r&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?z1(this):this.scrollTrigger&&this.scrollTrigger.kill(!!Ta),this;if(this.timeline){var a=this.timeline.totalDuration();return this.timeline.killTweensOf(r,s,Ep&&Ep.vars.overwrite!==!0)._first||z1(this),this.parent&&a!==this.timeline.totalDuration()&&q0(this,this._dur*this.timeline._tDur/a,0,1),this}var o=this._targets,l=r?Tc(r):o,u=this._ptLookup,h=this._pt,p,y,v,_,x,E,S;if((!s||s==="all")&&Ore(o,l))return s==="all"&&(this._pt=0),z1(this);for(p=this._op=this._op||[],s!=="all"&&(oa(s)&&(x={},il(s,function(w){return x[w]=1}),s=x),s=ese(o,s)),S=o.length;S--;)if(~l.indexOf(o[S])){y=u[S],s==="all"?(p[S]=s,_=y,v={}):(v=p[S]=p[S]||{},_=s);for(x in _)E=y&&y[x],E&&((!("kill"in E.d)||E.d.kill(x)===!0)&&kA(this,E,"_pt"),delete y[x]),v!=="all"&&(v[x]=1)}return this._initted&&!this._pt&&h&&z1(this),this},e.to=function(r,s){return new e(r,s,arguments[2])},e.from=function(r,s){return ax(1,arguments)},e.delayedCall=function(r,s,a,o){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:r,onComplete:s,onReverseComplete:s,onCompleteParams:a,onReverseCompleteParams:a,callbackScope:o})},e.fromTo=function(r,s,a){return ax(2,arguments)},e.set=function(r,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(r,s)},e.killTweensOf=function(r,s,a){return Ur.killTweensOf(r,s,a)},e})(Fx);Fl(Cs.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});il("staggerTo,staggerFrom,staggerFromTo",function(n){Cs[n]=function(){var e=new Ro,t=tP.call(arguments,0);return t.splice(n==="staggerFromTo"?5:4,0,0),e[n].apply(e,t)}});var LN=function(e,t,i){return e[t]=i},$H=function(e,t,i){return e[t](i)},nse=function(e,t,i,r){return e[t](r.fp,i)},ise=function(e,t,i){return e.setAttribute(t,i)},UN=function(e,t){return ns(e[t])?$H:wN(e[t])&&e.setAttribute?ise:LN},XH=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},rse=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},YH=function(e,t){var i=t._pt,r="";if(!e&&t.b)r=t.b;else if(e===1&&t.e)r=t.e;else{for(;i;)r=i.p+(i.m?i.m(i.s+i.c*e):Math.round((i.s+i.c*e)*1e4)/1e4)+r,i=i._next;r+=t.c}t.set(t.t,t.p,r,t)},kN=function(e,t){for(var i=t._pt;i;)i.r(e,i.d),i=i._next},sse=function(e,t,i,r){for(var s=this._pt,a;s;)a=s._next,s.p===r&&s.modifier(e,t,i),s=a},ase=function(e){for(var t=this._pt,i,r;t;)r=t._next,t.p===e&&!t.op||t.op===e?kA(this,t,"_pt"):t.dep||(i=1),t=r;return!i},ose=function(e,t,i,r){r.mSet(e,t,r.m.call(r.tween,i,r.mt),r)},KH=function(e){for(var t=e._pt,i,r,s,a;t;){for(i=t._next,r=s;r&&r.pr>t.pr;)r=r._next;(t._prev=r?r._prev:a)?t._prev._next=t:s=t,(t._next=r)?r._prev=t:a=t,t=i}e._pt=s},rl=(function(){function n(t,i,r,s,a,o,l,u,h){this.t=i,this.s=s,this.c=a,this.p=r,this.r=o||XH,this.d=l||this,this.set=u||LN,this.pr=h||0,this._next=t,t&&(t._prev=this)}var e=n.prototype;return e.modifier=function(i,r,s){this.mSet=this.mSet||this.set,this.set=ose,this.m=i,this.mt=s,this.tween=r},n})();il(ON+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(n){return RN[n]=1});Bl.TweenMax=Bl.TweenLite=Cs;Bl.TimelineLite=Bl.TimelineMax=Ro;Ur=new Ro({sortChildren:!1,defaults:H0,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Ll.stringFilter=BH;var Gg=[],f2={},lse=[],Tk=0,cse=0,dO=function(e){return(f2[e]||lse).map(function(t){return t()})},sP=function(){var e=Date.now(),t=[];e-Tk>2&&(dO("matchMediaInit"),Gg.forEach(function(i){var r=i.queries,s=i.conditions,a,o,l,u;for(o in r)a=hf.matchMedia(r[o]).matches,a&&(l=1),a!==s[o]&&(s[o]=a,u=1);u&&(i.revert(),l&&t.push(i))}),dO("matchMediaRevert"),t.forEach(function(i){return i.onMatch(i,function(r){return i.add(null,r)})}),Tk=e,dO("matchMedia"))},ZH=(function(){function n(t,i){this.selector=i&&nP(i),this.data=[],this._r=[],this.isReverted=!1,this.id=cse++,t&&this.add(t)}var e=n.prototype;return e.add=function(i,r,s){ns(i)&&(s=r,r=i,i=ns);var a=this,o=function(){var u=Tr,h=a.selector,p;return u&&u!==a&&u.data.push(a),s&&(a.selector=nP(s)),Tr=a,p=r.apply(a,arguments),ns(p)&&a._r.push(p),Tr=u,a.selector=h,a.isReverted=!1,p};return a.last=o,i===ns?o(a,function(l){return a.add(null,l)}):i?a[i]=o:o},e.ignore=function(i){var r=Tr;Tr=null,i(this),Tr=r},e.getTweens=function(){var i=[];return this.data.forEach(function(r){return r instanceof n?i.push.apply(i,r.getTweens()):r instanceof Cs&&!(r.parent&&r.parent.data==="nested")&&i.push(r)}),i},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(i,r){var s=this;if(i?(function(){for(var o=s.getTweens(),l=s.data.length,u;l--;)u=s.data[l],u.data==="isFlip"&&(u.revert(),u.getChildren(!0,!0,!1).forEach(function(h){return o.splice(o.indexOf(h),1)}));for(o.map(function(h){return{g:h._dur||h._delay||h._sat&&!h._sat.vars.immediateRender?h.globalTime(0):-1/0,t:h}}).sort(function(h,p){return p.g-h.g||-1/0}).forEach(function(h){return h.t.revert(i)}),l=s.data.length;l--;)u=s.data[l],u instanceof Ro?u.data!=="nested"&&(u.scrollTrigger&&u.scrollTrigger.revert(),u.kill()):!(u instanceof Cs)&&u.revert&&u.revert(i);s._r.forEach(function(h){return h(i,s)}),s.isReverted=!0})():this.data.forEach(function(o){return o.kill&&o.kill()}),this.clear(),r)for(var a=Gg.length;a--;)Gg[a].id===this.id&&Gg.splice(a,1)},e.revert=function(i){this.kill(i||{})},n})(),use=(function(){function n(t){this.contexts=[],this.scope=t,Tr&&Tr.data.push(this)}var e=n.prototype;return e.add=function(i,r,s){Nf(i)||(i={matches:i});var a=new ZH(0,s||this.scope),o=a.conditions={},l,u,h;Tr&&!a.selector&&(a.selector=Tr.selector),this.contexts.push(a),r=a.add("onMatch",r),a.queries=i;for(u in i)u==="all"?h=1:(l=hf.matchMedia(i[u]),l&&(Gg.indexOf(a)<0&&Gg.push(a),(o[u]=l.matches)&&(h=1),l.addListener?l.addListener(sP):l.addEventListener("change",sP)));return h&&r(a,function(p){return a.add(null,p)}),this},e.revert=function(i){this.kill(i||{})},e.kill=function(i){this.contexts.forEach(function(r){return r.kill(i,!0)})},n})(),Q2={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t.forEach(function(r){return UH(r)})},timeline:function(e){return new Ro(e)},getTweensOf:function(e,t){return Ur.getTweensOf(e,t)},getProperty:function(e,t,i,r){oa(e)&&(e=Tc(e)[0]);var s=Vg(e||{}).get,a=i?EH:SH;return i==="native"&&(i=""),e&&(t?a((Ol[t]&&Ol[t].get||s)(e,t,i,r)):function(o,l,u){return a((Ol[o]&&Ol[o].get||s)(e,o,l,u))})},quickSetter:function(e,t,i){if(e=Tc(e),e.length>1){var r=e.map(function(h){return ll.quickSetter(h,t,i)}),s=r.length;return function(h){for(var p=s;p--;)r[p](h)}}e=e[0]||{};var a=Ol[t],o=Vg(e),l=o.harness&&(o.harness.aliases||{})[t]||t,u=a?function(h){var p=new a;h0._pt=0,p.init(e,i?h+i:h,h0,0,[e]),p.render(1,p),h0._pt&&kN(1,h0)}:o.set(e,l);return a?u:function(h){return u(e,l,i?h+i:h,o,1)}},quickTo:function(e,t,i){var r,s=ll.to(e,Fl((r={},r[t]="+=0.1",r.paused=!0,r.stagger=0,r),i||{})),a=function(l,u,h){return s.resetTo(t,l,u,h)};return a.tween=s,a},isTweening:function(e){return Ur.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=jg(e.ease,H0.ease)),_k(H0,e||{})},config:function(e){return _k(Ll,e||{})},registerEffect:function(e){var t=e.name,i=e.effect,r=e.plugins,s=e.defaults,a=e.extendTimeline;(r||"").split(",").forEach(function(o){return o&&!Ol[o]&&!Bl[o]&&Ux(t+" effect requires "+o+" plugin.")}),cO[t]=function(o,l,u){return i(Tc(o),Fl(l||{},s),u)},a&&(Ro.prototype[t]=function(o,l,u){return this.add(cO[t](o,Nf(l)?l:(u=l)&&{},this),u)})},registerEase:function(e,t){hi[e]=jg(t)},parseEase:function(e,t){return arguments.length?jg(e,t):hi},getById:function(e){return Ur.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var i=new Ro(e),r,s;for(i.smoothChildTiming=nl(e.smoothChildTiming),Ur.remove(i),i._dp=0,i._time=i._tTime=Ur._time,r=Ur._first;r;)s=r._next,(t||!(!r._dur&&r instanceof Cs&&r.vars.onComplete===r._targets[0]))&&vf(i,r,r._start-r._delay),r=s;return vf(Ur,i,0),i},context:function(e,t){return e?new ZH(e,t):Tr},matchMedia:function(e){return new use(e)},matchMediaRefresh:function(){return Gg.forEach(function(e){var t=e.conditions,i,r;for(r in t)t[r]&&(t[r]=!1,i=1);i&&e.revert()})||sP()},addEventListener:function(e,t){var i=f2[e]||(f2[e]=[]);~i.indexOf(t)||i.push(t)},removeEventListener:function(e,t){var i=f2[e],r=i&&i.indexOf(t);r>=0&&i.splice(r,1)},utils:{wrap:Hre,wrapYoyo:jre,distribute:OH,random:PH,snap:IH,normalize:Vre,getUnit:Ja,clamp:kre,splitColor:kH,toArray:Tc,selector:nP,mapRange:NH,pipe:Bre,unitize:Fre,interpolate:Gre,shuffle:RH},install:yH,effects:cO,ticker:Il,updateRoot:Ro.updateRoot,plugins:Ol,globalTimeline:Ur,core:{PropTween:rl,globals:vH,Tween:Cs,Timeline:Ro,Animation:Fx,getCache:Vg,_removeLinkedListItem:kA,reverting:function(){return Ta},context:function(e){return e&&Tr&&(Tr.data.push(e),e._ctx=Tr),Tr},suppressOverwrites:function(e){return TN=e}}};il("to,from,fromTo,delayedCall,set,killTweensOf",function(n){return Q2[n]=Cs[n]});Il.add(Ro.updateRoot);h0=Q2.to({},{duration:0});var fse=function(e,t){for(var i=e._pt;i&&i.p!==t&&i.op!==t&&i.fp!==t;)i=i._next;return i},hse=function(e,t){var i=e._targets,r,s,a;for(r in t)for(s=i.length;s--;)a=e._ptLookup[s][r],a&&(a=a.d)&&(a._pt&&(a=fse(a,r)),a&&a.modifier&&a.modifier(t[r],e,i[s],r))},pO=function(e,t){return{name:e,headless:1,rawVars:1,init:function(r,s,a){a._onInit=function(o){var l,u;if(oa(s)&&(l={},il(s,function(h){return l[h]=1}),s=l),t){l={};for(u in s)l[u]=t(s[u]);s=l}hse(o,s)}}}},ll=Q2.registerPlugin({name:"attr",init:function(e,t,i,r,s){var a,o,l;this.tween=i;for(a in t)l=e.getAttribute(a)||"",o=this.add(e,"setAttribute",(l||0)+"",t[a],r,s,0,0,a),o.op=a,o.b=l,this._props.push(a)},render:function(e,t){for(var i=t._pt;i;)Ta?i.set(i.t,i.p,i.b,i):i.r(e,i.d),i=i._next}},{name:"endArray",headless:1,init:function(e,t){for(var i=t.length;i--;)this.add(e,i,e[i]||0,t[i],0,0,0,0,0,1)}},pO("roundProps",iP),pO("modifiers"),pO("snap",IH))||Q2;Cs.version=Ro.version=ll.version="3.14.2";gH=1;CN()&&W0();hi.Power0;hi.Power1;hi.Power2;hi.Power3;hi.Power4;hi.Linear;hi.Quad;hi.Cubic;hi.Quart;hi.Quint;hi.Strong;hi.Elastic;hi.Back;hi.SteppedEase;hi.Bounce;hi.Sine;hi.Expo;hi.Circ;/*!
 * CSSPlugin 3.14.2
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var wk,Tp,A0,zN,Ig,Ck,BN,dse=function(){return typeof window<"u"},Qh={},bg=180/Math.PI,M0=Math.PI/180,gv=Math.atan2,Ak=1e8,FN=/([A-Z])/g,pse=/(left|right|width|margin|padding|x)/i,mse=/[\s,\(]\S/,xf={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},aP=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},gse=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},yse=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},vse=function(e,t){return t.set(t.t,t.p,e===1?t.e:e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},_se=function(e,t){var i=t.s+t.c*e;t.set(t.t,t.p,~~(i+(i<0?-.5:.5))+t.u,t)},QH=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},JH=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},bse=function(e,t,i){return e.style[t]=i},xse=function(e,t,i){return e.style.setProperty(t,i)},Sse=function(e,t,i){return e._gsap[t]=i},Ese=function(e,t,i){return e._gsap.scaleX=e._gsap.scaleY=i},Tse=function(e,t,i,r,s){var a=e._gsap;a.scaleX=a.scaleY=i,a.renderTransform(s,a)},wse=function(e,t,i,r,s){var a=e._gsap;a[t]=i,a.renderTransform(s,a)},kr="transform",sl=kr+"Origin",Cse=function n(e,t){var i=this,r=this.target,s=r.style,a=r._gsap;if(e in Qh&&s){if(this.tfm=this.tfm||{},e!=="transform")e=xf[e]||e,~e.indexOf(",")?e.split(",").forEach(function(o){return i.tfm[o]=Ih(r,o)}):this.tfm[e]=a.x?a[e]:Ih(r,e),e===sl&&(this.tfm.zOrigin=a.zOrigin);else return xf.transform.split(",").forEach(function(o){return n.call(i,o,t)});if(this.props.indexOf(kr)>=0)return;a.svg&&(this.svgo=r.getAttribute("data-svg-origin"),this.props.push(sl,t,"")),e=kr}(s||t)&&this.props.push(e,t,s[e])},ej=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},Ase=function(){var e=this.props,t=this.target,i=t.style,r=t._gsap,s,a;for(s=0;s<e.length;s+=3)e[s+1]?e[s+1]===2?t[e[s]](e[s+2]):t[e[s]]=e[s+2]:e[s+2]?i[e[s]]=e[s+2]:i.removeProperty(e[s].substr(0,2)==="--"?e[s]:e[s].replace(FN,"-$1").toLowerCase());if(this.tfm){for(a in this.tfm)r[a]=this.tfm[a];r.svg&&(r.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),s=BN(),(!s||!s.isStart)&&!i[kr]&&(ej(i),r.zOrigin&&i[sl]&&(i[sl]+=" "+r.zOrigin+"px",r.zOrigin=0,r.renderTransform()),r.uncache=1)}},tj=function(e,t){var i={target:e,props:[],revert:Ase,save:Cse};return e._gsap||ll.core.getCache(e),t&&e.style&&e.nodeType&&t.split(",").forEach(function(r){return i.save(r)}),i},nj,oP=function(e,t){var i=Tp.createElementNS?Tp.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Tp.createElement(e);return i&&i.style?i:Tp.createElement(e)},Nl=function n(e,t,i){var r=getComputedStyle(e);return r[t]||r.getPropertyValue(t.replace(FN,"-$1").toLowerCase())||r.getPropertyValue(t)||!i&&n(e,$0(t)||t,1)||""},Mk="O,Moz,ms,Ms,Webkit".split(","),$0=function(e,t,i){var r=t||Ig,s=r.style,a=5;if(e in s&&!i)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);a--&&!(Mk[a]+e in s););return a<0?null:(a===3?"ms":a>=0?Mk[a]:"")+e},lP=function(){dse()&&window.document&&(wk=window,Tp=wk.document,A0=Tp.documentElement,Ig=oP("div")||{style:{}},oP("div"),kr=$0(kr),sl=kr+"Origin",Ig.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",nj=!!$0("perspective"),BN=ll.core.reverting,zN=1)},Rk=function(e){var t=e.ownerSVGElement,i=oP("svg",t&&t.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=e.cloneNode(!0),s;r.style.display="block",i.appendChild(r),A0.appendChild(i);try{s=r.getBBox()}catch{}return i.removeChild(r),A0.removeChild(i),s},Ok=function(e,t){for(var i=t.length;i--;)if(e.hasAttribute(t[i]))return e.getAttribute(t[i])},ij=function(e){var t,i;try{t=e.getBBox()}catch{t=Rk(e),i=1}return t&&(t.width||t.height)||i||(t=Rk(e)),t&&!t.width&&!t.x&&!t.y?{x:+Ok(e,["x","cx","x1"])||0,y:+Ok(e,["y","cy","y1"])||0,width:0,height:0}:t},rj=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&ij(e))},qp=function(e,t){if(t){var i=e.style,r;t in Qh&&t!==sl&&(t=kr),i.removeProperty?(r=t.substr(0,2),(r==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),i.removeProperty(r==="--"?t:t.replace(FN,"-$1").toLowerCase())):i.removeAttribute(t)}},wp=function(e,t,i,r,s,a){var o=new rl(e._pt,t,i,0,1,a?JH:QH);return e._pt=o,o.b=r,o.e=s,e._props.push(i),o},Ik={deg:1,rad:1,turn:1},Mse={grid:1,flex:1},Wp=function n(e,t,i,r){var s=parseFloat(i)||0,a=(i+"").trim().substr((s+"").length)||"px",o=Ig.style,l=pse.test(t),u=e.tagName.toLowerCase()==="svg",h=(u?"client":"offset")+(l?"Width":"Height"),p=100,y=r==="px",v=r==="%",_,x,E,S;if(r===a||!s||Ik[r]||Ik[a])return s;if(a!=="px"&&!y&&(s=n(e,t,i,"px")),S=e.getCTM&&rj(e),(v||a==="%")&&(Qh[t]||~t.indexOf("adius")))return _=S?e.getBBox()[l?"width":"height"]:e[h],ds(v?s/_*p:s/100*_);if(o[l?"width":"height"]=p+(y?a:r),x=r!=="rem"&&~t.indexOf("adius")||r==="em"&&e.appendChild&&!u?e:e.parentNode,S&&(x=(e.ownerSVGElement||{}).parentNode),(!x||x===Tp||!x.appendChild)&&(x=Tp.body),E=x._gsap,E&&v&&E.width&&l&&E.time===Il.time&&!E.uncache)return ds(s/E.width*p);if(v&&(t==="height"||t==="width")){var w=e.style[t];e.style[t]=p+r,_=e[h],w?e.style[t]=w:qp(e,t)}else(v||a==="%")&&!Mse[Nl(x,"display")]&&(o.position=Nl(e,"position")),x===e&&(o.position="static"),x.appendChild(Ig),_=Ig[h],x.removeChild(Ig),o.position="absolute";return l&&v&&(E=Vg(x),E.time=Il.time,E.width=x[h]),ds(y?_*s/p:_&&s?p/_*s:0)},Ih=function(e,t,i,r){var s;return zN||lP(),t in xf&&t!=="transform"&&(t=xf[t],~t.indexOf(",")&&(t=t.split(",")[0])),Qh[t]&&t!=="transform"?(s=Hx(e,r),s=t!=="transformOrigin"?s[t]:s.svg?s.origin:eC(Nl(e,sl))+" "+s.zOrigin+"px"):(s=e.style[t],(!s||s==="auto"||r||~(s+"").indexOf("calc("))&&(s=J2[t]&&J2[t](e,t,i)||Nl(e,t)||bH(e,t)||(t==="opacity"?1:0))),i&&!~(s+"").trim().indexOf(" ")?Wp(e,t,s,i)+i:s},Rse=function(e,t,i,r){if(!i||i==="none"){var s=$0(t,e,1),a=s&&Nl(e,s,1);a&&a!==i?(t=s,i=a):t==="borderColor"&&(i=Nl(e,"borderTopColor"))}var o=new rl(this._pt,e.style,t,0,1,YH),l=0,u=0,h,p,y,v,_,x,E,S,w,C,A,N;if(o.b=i,o.e=r,i+="",r+="",r.substring(0,6)==="var(--"&&(r=Nl(e,r.substring(4,r.indexOf(")")))),r==="auto"&&(x=e.style[t],e.style[t]=r,r=Nl(e,t)||r,x?e.style[t]=x:qp(e,t)),h=[i,r],BH(h),i=h[0],r=h[1],y=i.match(f0)||[],N=r.match(f0)||[],N.length){for(;p=f0.exec(r);)E=p[0],w=r.substring(l,p.index),_?_=(_+1)%5:(w.substr(-5)==="rgba("||w.substr(-5)==="hsla(")&&(_=1),E!==(x=y[u++]||"")&&(v=parseFloat(x)||0,A=x.substr((v+"").length),E.charAt(1)==="="&&(E=C0(v,E)+A),S=parseFloat(E),C=E.substr((S+"").length),l=f0.lastIndex-C.length,C||(C=C||Ll.units[t]||A,l===r.length&&(r+=C,o.e+=C)),A!==C&&(v=Wp(e,t,x,C)||0),o._pt={_next:o._pt,p:w||u===1?w:",",s:v,c:S-v,m:_&&_<4||t==="zIndex"?Math.round:0});o.c=l<r.length?r.substring(l,r.length):""}else o.r=t==="display"&&r==="none"?JH:QH;return mH.test(r)&&(o.e=0),this._pt=o,o},Pk={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Ose=function(e){var t=e.split(" "),i=t[0],r=t[1]||"50%";return(i==="top"||i==="bottom"||r==="left"||r==="right")&&(e=i,i=r,r=e),t[0]=Pk[i]||i,t[1]=Pk[r]||r,t.join(" ")},Ise=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var i=t.t,r=i.style,s=t.u,a=i._gsap,o,l,u;if(s==="all"||s===!0)r.cssText="",l=1;else for(s=s.split(","),u=s.length;--u>-1;)o=s[u],Qh[o]&&(l=1,o=o==="transformOrigin"?sl:kr),qp(i,o);l&&(qp(i,kr),a&&(a.svg&&i.removeAttribute("transform"),r.scale=r.rotate=r.translate="none",Hx(i,1),a.uncache=1,ej(r)))}},J2={clearProps:function(e,t,i,r,s){if(s.data!=="isFromStart"){var a=e._pt=new rl(e._pt,t,i,0,0,Ise);return a.u=r,a.pr=-10,a.tween=s,e._props.push(i),1}}},Vx=[1,0,0,1,0,0],sj={},aj=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},Dk=function(e){var t=Nl(e,kr);return aj(t)?Vx:t.substr(7).match(pH).map(ds)},VN=function(e,t){var i=e._gsap||Vg(e),r=e.style,s=Dk(e),a,o,l,u;return i.svg&&e.getAttribute("transform")?(l=e.transform.baseVal.consolidate().matrix,s=[l.a,l.b,l.c,l.d,l.e,l.f],s.join(",")==="1,0,0,1,0,0"?Vx:s):(s===Vx&&!e.offsetParent&&e!==A0&&!i.svg&&(l=r.display,r.display="block",a=e.parentNode,(!a||!e.offsetParent&&!e.getBoundingClientRect().width)&&(u=1,o=e.nextElementSibling,A0.appendChild(e)),s=Dk(e),l?r.display=l:qp(e,"display"),u&&(o?a.insertBefore(e,o):a?a.appendChild(e):A0.removeChild(e))),t&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},cP=function(e,t,i,r,s,a){var o=e._gsap,l=s||VN(e,!0),u=o.xOrigin||0,h=o.yOrigin||0,p=o.xOffset||0,y=o.yOffset||0,v=l[0],_=l[1],x=l[2],E=l[3],S=l[4],w=l[5],C=t.split(" "),A=parseFloat(C[0])||0,N=parseFloat(C[1])||0,L,I,D,P;i?l!==Vx&&(I=v*E-_*x)&&(D=A*(E/I)+N*(-x/I)+(x*w-E*S)/I,P=A*(-_/I)+N*(v/I)-(v*w-_*S)/I,A=D,N=P):(L=ij(e),A=L.x+(~C[0].indexOf("%")?A/100*L.width:A),N=L.y+(~(C[1]||C[0]).indexOf("%")?N/100*L.height:N)),r||r!==!1&&o.smooth?(S=A-u,w=N-h,o.xOffset=p+(S*v+w*x)-S,o.yOffset=y+(S*_+w*E)-w):o.xOffset=o.yOffset=0,o.xOrigin=A,o.yOrigin=N,o.smooth=!!r,o.origin=t,o.originIsAbsolute=!!i,e.style[sl]="0px 0px",a&&(wp(a,o,"xOrigin",u,A),wp(a,o,"yOrigin",h,N),wp(a,o,"xOffset",p,o.xOffset),wp(a,o,"yOffset",y,o.yOffset)),e.setAttribute("data-svg-origin",A+" "+N)},Hx=function(e,t){var i=e._gsap||new jH(e);if("x"in i&&!t&&!i.uncache)return i;var r=e.style,s=i.scaleX<0,a="px",o="deg",l=getComputedStyle(e),u=Nl(e,sl)||"0",h,p,y,v,_,x,E,S,w,C,A,N,L,I,D,P,U,F,z,V,K,J,q,W,Q,re,pe,Y,le,de,ue,ne;return h=p=y=x=E=S=w=C=A=0,v=_=1,i.svg=!!(e.getCTM&&rj(e)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(r[kr]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+(l[kr]!=="none"?l[kr]:"")),r.scale=r.rotate=r.translate="none"),I=VN(e,i.svg),i.svg&&(i.uncache?(Q=e.getBBox(),u=i.xOrigin-Q.x+"px "+(i.yOrigin-Q.y)+"px",W=""):W=!t&&e.getAttribute("data-svg-origin"),cP(e,W||u,!!W||i.originIsAbsolute,i.smooth!==!1,I)),N=i.xOrigin||0,L=i.yOrigin||0,I!==Vx&&(F=I[0],z=I[1],V=I[2],K=I[3],h=J=I[4],p=q=I[5],I.length===6?(v=Math.sqrt(F*F+z*z),_=Math.sqrt(K*K+V*V),x=F||z?gv(z,F)*bg:0,w=V||K?gv(V,K)*bg+x:0,w&&(_*=Math.abs(Math.cos(w*M0))),i.svg&&(h-=N-(N*F+L*V),p-=L-(N*z+L*K))):(ne=I[6],de=I[7],pe=I[8],Y=I[9],le=I[10],ue=I[11],h=I[12],p=I[13],y=I[14],D=gv(ne,le),E=D*bg,D&&(P=Math.cos(-D),U=Math.sin(-D),W=J*P+pe*U,Q=q*P+Y*U,re=ne*P+le*U,pe=J*-U+pe*P,Y=q*-U+Y*P,le=ne*-U+le*P,ue=de*-U+ue*P,J=W,q=Q,ne=re),D=gv(-V,le),S=D*bg,D&&(P=Math.cos(-D),U=Math.sin(-D),W=F*P-pe*U,Q=z*P-Y*U,re=V*P-le*U,ue=K*U+ue*P,F=W,z=Q,V=re),D=gv(z,F),x=D*bg,D&&(P=Math.cos(D),U=Math.sin(D),W=F*P+z*U,Q=J*P+q*U,z=z*P-F*U,q=q*P-J*U,F=W,J=Q),E&&Math.abs(E)+Math.abs(x)>359.9&&(E=x=0,S=180-S),v=ds(Math.sqrt(F*F+z*z+V*V)),_=ds(Math.sqrt(q*q+ne*ne)),D=gv(J,q),w=Math.abs(D)>2e-4?D*bg:0,A=ue?1/(ue<0?-ue:ue):0),i.svg&&(W=e.getAttribute("transform"),i.forceCSS=e.setAttribute("transform","")||!aj(Nl(e,kr)),W&&e.setAttribute("transform",W))),Math.abs(w)>90&&Math.abs(w)<270&&(s?(v*=-1,w+=x<=0?180:-180,x+=x<=0?180:-180):(_*=-1,w+=w<=0?180:-180)),t=t||i.uncache,i.x=h-((i.xPercent=h&&(!t&&i.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-h)?-50:0)))?e.offsetWidth*i.xPercent/100:0)+a,i.y=p-((i.yPercent=p&&(!t&&i.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-p)?-50:0)))?e.offsetHeight*i.yPercent/100:0)+a,i.z=y+a,i.scaleX=ds(v),i.scaleY=ds(_),i.rotation=ds(x)+o,i.rotationX=ds(E)+o,i.rotationY=ds(S)+o,i.skewX=w+o,i.skewY=C+o,i.transformPerspective=A+a,(i.zOrigin=parseFloat(u.split(" ")[2])||!t&&i.zOrigin||0)&&(r[sl]=eC(u)),i.xOffset=i.yOffset=0,i.force3D=Ll.force3D,i.renderTransform=i.svg?Dse:nj?oj:Pse,i.uncache=0,i},eC=function(e){return(e=e.split(" "))[0]+" "+e[1]},mO=function(e,t,i){var r=Ja(t);return ds(parseFloat(t)+parseFloat(Wp(e,"x",i+"px",r)))+r},Pse=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,oj(e,t)},Zm="0deg",Jb="0px",Qm=") ",oj=function(e,t){var i=t||this,r=i.xPercent,s=i.yPercent,a=i.x,o=i.y,l=i.z,u=i.rotation,h=i.rotationY,p=i.rotationX,y=i.skewX,v=i.skewY,_=i.scaleX,x=i.scaleY,E=i.transformPerspective,S=i.force3D,w=i.target,C=i.zOrigin,A="",N=S==="auto"&&e&&e!==1||S===!0;if(C&&(p!==Zm||h!==Zm)){var L=parseFloat(h)*M0,I=Math.sin(L),D=Math.cos(L),P;L=parseFloat(p)*M0,P=Math.cos(L),a=mO(w,a,I*P*-C),o=mO(w,o,-Math.sin(L)*-C),l=mO(w,l,D*P*-C+C)}E!==Jb&&(A+="perspective("+E+Qm),(r||s)&&(A+="translate("+r+"%, "+s+"%) "),(N||a!==Jb||o!==Jb||l!==Jb)&&(A+=l!==Jb||N?"translate3d("+a+", "+o+", "+l+") ":"translate("+a+", "+o+Qm),u!==Zm&&(A+="rotate("+u+Qm),h!==Zm&&(A+="rotateY("+h+Qm),p!==Zm&&(A+="rotateX("+p+Qm),(y!==Zm||v!==Zm)&&(A+="skew("+y+", "+v+Qm),(_!==1||x!==1)&&(A+="scale("+_+", "+x+Qm),w.style[kr]=A||"translate(0, 0)"},Dse=function(e,t){var i=t||this,r=i.xPercent,s=i.yPercent,a=i.x,o=i.y,l=i.rotation,u=i.skewX,h=i.skewY,p=i.scaleX,y=i.scaleY,v=i.target,_=i.xOrigin,x=i.yOrigin,E=i.xOffset,S=i.yOffset,w=i.forceCSS,C=parseFloat(a),A=parseFloat(o),N,L,I,D,P;l=parseFloat(l),u=parseFloat(u),h=parseFloat(h),h&&(h=parseFloat(h),u+=h,l+=h),l||u?(l*=M0,u*=M0,N=Math.cos(l)*p,L=Math.sin(l)*p,I=Math.sin(l-u)*-y,D=Math.cos(l-u)*y,u&&(h*=M0,P=Math.tan(u-h),P=Math.sqrt(1+P*P),I*=P,D*=P,h&&(P=Math.tan(h),P=Math.sqrt(1+P*P),N*=P,L*=P)),N=ds(N),L=ds(L),I=ds(I),D=ds(D)):(N=p,D=y,L=I=0),(C&&!~(a+"").indexOf("px")||A&&!~(o+"").indexOf("px"))&&(C=Wp(v,"x",a,"px"),A=Wp(v,"y",o,"px")),(_||x||E||S)&&(C=ds(C+_-(_*N+x*I)+E),A=ds(A+x-(_*L+x*D)+S)),(r||s)&&(P=v.getBBox(),C=ds(C+r/100*P.width),A=ds(A+s/100*P.height)),P="matrix("+N+","+L+","+I+","+D+","+C+","+A+")",v.setAttribute("transform",P),w&&(v.style[kr]=P)},Nse=function(e,t,i,r,s){var a=360,o=oa(s),l=parseFloat(s)*(o&&~s.indexOf("rad")?bg:1),u=l-r,h=r+u+"deg",p,y;return o&&(p=s.split("_")[1],p==="short"&&(u%=a,u!==u%(a/2)&&(u+=u<0?a:-a)),p==="cw"&&u<0?u=(u+a*Ak)%a-~~(u/a)*a:p==="ccw"&&u>0&&(u=(u-a*Ak)%a-~~(u/a)*a)),e._pt=y=new rl(e._pt,t,i,r,u,gse),y.e=h,y.u="deg",e._props.push(i),y},Nk=function(e,t){for(var i in t)e[i]=t[i];return e},Lse=function(e,t,i){var r=Nk({},i._gsap),s="perspective,force3D,transformOrigin,svgOrigin",a=i.style,o,l,u,h,p,y,v,_;r.svg?(u=i.getAttribute("transform"),i.setAttribute("transform",""),a[kr]=t,o=Hx(i,1),qp(i,kr),i.setAttribute("transform",u)):(u=getComputedStyle(i)[kr],a[kr]=t,o=Hx(i,1),a[kr]=u);for(l in Qh)u=r[l],h=o[l],u!==h&&s.indexOf(l)<0&&(v=Ja(u),_=Ja(h),p=v!==_?Wp(i,l,u,_):parseFloat(u),y=parseFloat(h),e._pt=new rl(e._pt,o,l,p,y-p,aP),e._pt.u=_||0,e._props.push(l));Nk(o,r)};il("padding,margin,Width,Radius",function(n,e){var t="Top",i="Right",r="Bottom",s="Left",a=(e<3?[t,i,r,s]:[t+s,t+i,r+i,r+s]).map(function(o){return e<2?n+o:"border"+o+n});J2[e>1?"border"+n:n]=function(o,l,u,h,p){var y,v;if(arguments.length<4)return y=a.map(function(_){return Ih(o,_,u)}),v=y.join(" "),v.split(y[0]).length===5?y[0]:v;y=(h+"").split(" "),v={},a.forEach(function(_,x){return v[_]=y[x]=y[x]||y[(x-1)/2|0]}),o.init(l,v,p)}});var lj={name:"css",register:lP,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,i,r,s){var a=this._props,o=e.style,l=i.vars.startAt,u,h,p,y,v,_,x,E,S,w,C,A,N,L,I,D,P;zN||lP(),this.styles=this.styles||tj(e),D=this.styles.props,this.tween=i;for(x in t)if(x!=="autoRound"&&(h=t[x],!(Ol[x]&&GH(x,t,i,r,e,s)))){if(v=typeof h,_=J2[x],v==="function"&&(h=h.call(i,r,e,s),v=typeof h),v==="string"&&~h.indexOf("random(")&&(h=zx(h)),_)_(this,e,x,h,i)&&(I=1);else if(x.substr(0,2)==="--")u=(getComputedStyle(e).getPropertyValue(x)+"").trim(),h+="",Np.lastIndex=0,Np.test(u)||(E=Ja(u),S=Ja(h),S?E!==S&&(u=Wp(e,x,u,S)+S):E&&(h+=E)),this.add(o,"setProperty",u,h,r,s,0,0,x),a.push(x),D.push(x,0,o[x]);else if(v!=="undefined"){if(l&&x in l?(u=typeof l[x]=="function"?l[x].call(i,r,e,s):l[x],oa(u)&&~u.indexOf("random(")&&(u=zx(u)),Ja(u+"")||u==="auto"||(u+=Ll.units[x]||Ja(Ih(e,x))||""),(u+"").charAt(1)==="="&&(u=Ih(e,x))):u=Ih(e,x),y=parseFloat(u),w=v==="string"&&h.charAt(1)==="="&&h.substr(0,2),w&&(h=h.substr(2)),p=parseFloat(h),x in xf&&(x==="autoAlpha"&&(y===1&&Ih(e,"visibility")==="hidden"&&p&&(y=0),D.push("visibility",0,o.visibility),wp(this,o,"visibility",y?"inherit":"hidden",p?"inherit":"hidden",!p)),x!=="scale"&&x!=="transform"&&(x=xf[x],~x.indexOf(",")&&(x=x.split(",")[0]))),C=x in Qh,C){if(this.styles.save(x),P=h,v==="string"&&h.substring(0,6)==="var(--"){if(h=Nl(e,h.substring(4,h.indexOf(")"))),h.substring(0,5)==="calc("){var U=e.style.perspective;e.style.perspective=h,h=Nl(e,"perspective"),U?e.style.perspective=U:qp(e,"perspective")}p=parseFloat(h)}if(A||(N=e._gsap,N.renderTransform&&!t.parseTransform||Hx(e,t.parseTransform),L=t.smoothOrigin!==!1&&N.smooth,A=this._pt=new rl(this._pt,o,kr,0,1,N.renderTransform,N,0,-1),A.dep=1),x==="scale")this._pt=new rl(this._pt,N,"scaleY",N.scaleY,(w?C0(N.scaleY,w+p):p)-N.scaleY||0,aP),this._pt.u=0,a.push("scaleY",x),x+="X";else if(x==="transformOrigin"){D.push(sl,0,o[sl]),h=Ose(h),N.svg?cP(e,h,0,L,0,this):(S=parseFloat(h.split(" ")[2])||0,S!==N.zOrigin&&wp(this,N,"zOrigin",N.zOrigin,S),wp(this,o,x,eC(u),eC(h)));continue}else if(x==="svgOrigin"){cP(e,h,1,L,0,this);continue}else if(x in sj){Nse(this,N,x,y,w?C0(y,w+h):h);continue}else if(x==="smoothOrigin"){wp(this,N,"smooth",N.smooth,h);continue}else if(x==="force3D"){N[x]=h;continue}else if(x==="transform"){Lse(this,h,e);continue}}else x in o||(x=$0(x)||x);if(C||(p||p===0)&&(y||y===0)&&!mse.test(h)&&x in o)E=(u+"").substr((y+"").length),p||(p=0),S=Ja(h)||(x in Ll.units?Ll.units[x]:E),E!==S&&(y=Wp(e,x,u,S)),this._pt=new rl(this._pt,C?N:o,x,y,(w?C0(y,w+p):p)-y,!C&&(S==="px"||x==="zIndex")&&t.autoRound!==!1?_se:aP),this._pt.u=S||0,C&&P!==h?(this._pt.b=u,this._pt.e=P,this._pt.r=vse):E!==S&&S!=="%"&&(this._pt.b=u,this._pt.r=yse);else if(x in o)Rse.call(this,e,x,u,w?w+h:h);else if(x in e)this.add(e,x,u||e[x],w?w+h:h,r,s);else if(x!=="parseTransform"){MN(x,h);continue}C||(x in o?D.push(x,0,o[x]):typeof e[x]=="function"?D.push(x,2,e[x]()):D.push(x,1,u||e[x])),a.push(x)}}I&&KH(this)},render:function(e,t){if(t.tween._time||!BN())for(var i=t._pt;i;)i.r(e,i.d),i=i._next;else t.styles.revert()},get:Ih,aliases:xf,getSetter:function(e,t,i){var r=xf[t];return r&&r.indexOf(",")<0&&(t=r),t in Qh&&t!==sl&&(e._gsap.x||Ih(e,"x"))?i&&Ck===i?t==="scale"?Ese:Sse:(Ck=i||{})&&(t==="scale"?Tse:wse):e.style&&!wN(e.style[t])?bse:~t.indexOf("-")?xse:UN(e,t)},core:{_removeProperty:qp,_getMatrix:VN}};ll.utils.checkPrefix=$0;ll.core.getStyleSaver=tj;(function(n,e,t,i){var r=il(n+","+e+","+t,function(s){Qh[s]=1});il(e,function(s){Ll.units[s]="deg",sj[s]=1}),xf[r[13]]=n+","+e,il(i,function(s){var a=s.split(":");xf[a[1]]=r[a[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");il("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(n){Ll.units[n]="px"});ll.registerPlugin(lj);var FA=ll.registerPlugin(lj)||ll;FA.core.Tween;/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const VA="176",Use={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},kse={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},cj=0,uP=1,uj=2,zse=3,fj=0,HA=1,lx=2,hu=3,Jh=0,Do=1,_f=2,Hh=0,qg=1,fP=2,hP=3,dP=4,hj=5,_p=100,dj=101,pj=102,mj=103,gj=104,yj=200,vj=201,_j=202,bj=203,tC=204,nC=205,xj=206,Sj=207,Ej=208,Tj=209,wj=210,Cj=211,Aj=212,Mj=213,Rj=214,iC=0,rC=1,sC=2,ey=3,aC=4,oC=5,lC=6,cC=7,IS=0,Oj=1,Ij=2,Rf=0,Pj=1,Dj=2,Nj=3,HN=4,Lj=5,Uj=6,kj=7,pP="attached",zj="detached",jA=300,ed=301,$p=302,jx=303,Gx=304,C_=306,qx=1e3,wc=1001,Wx=1002,wa=1003,jN=1004,Bse=1004,d0=1005,Fse=1005,ps=1006,cx=1007,Vse=1007,Sf=1008,Hse=1008,Mc=1009,GN=1010,qN=1011,X0=1012,GA=1013,td=1014,Po=1015,hy=1016,qA=1017,WA=1018,Y0=1020,WN=35902,$N=1021,XN=1022,eo=1023,K0=1026,Z0=1027,$A=1028,PS=1029,YN=1030,XA=1031,jse=1032,YA=1033,ux=33776,fx=33777,hx=33778,dx=33779,uC=35840,fC=35841,hC=35842,dC=35843,pC=36196,mC=37492,gC=37496,yC=37808,vC=37809,_C=37810,bC=37811,xC=37812,SC=37813,EC=37814,TC=37815,wC=37816,CC=37817,AC=37818,MC=37819,RC=37820,OC=37821,px=36492,IC=36494,PC=36495,KN=36283,DC=36284,NC=36285,LC=36286,Bj=2200,Fj=2201,Vj=2202,$x=2300,UC=2301,h2=2302,Pg=2400,Dg=2401,Xx=2402,KA=2500,ZN=2501,Gse=0,qse=1,Wse=2,Hj=3200,jj=3201,$se=3202,Xse=3203,em=0,Gj=1,Nh="",Sa="srgb",Xp="srgb-linear",Yx="linear",Vi="srgb",Yse=0,xg=7680,Kse=7681,Zse=7682,Qse=7683,Jse=34055,eae=34056,tae=5386,nae=512,iae=513,rae=514,sae=515,aae=516,oae=517,lae=518,mP=519,qj=512,Wj=513,$j=514,QN=515,Xj=516,Yj=517,Kj=518,Zj=519,Kx=35044,cae=35048,uae=35040,fae=35045,hae=35049,dae=35041,pae=35046,mae=35050,gae=35042,yae="100",gP="300 es",Cc=2e3,Zx=2001,vae={COMPUTE:"compute",RENDER:"render"},_ae={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},bae={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FLAT_FIRST:"flat first",FLAT_EITHER:"flat either"};let Uf=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){const i=this._listeners;return i===void 0?!1:i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){const i=this._listeners;if(i===void 0)return;const r=i[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const i=t[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,a=r.length;s<a;s++)r[s].call(this,e);e.target=null}}};const qa=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let Lk=1234567;const Wg=Math.PI/180,Q0=180/Math.PI;function Ul(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(qa[n&255]+qa[n>>8&255]+qa[n>>16&255]+qa[n>>24&255]+"-"+qa[e&255]+qa[e>>8&255]+"-"+qa[e>>16&15|64]+qa[e>>24&255]+"-"+qa[t&63|128]+qa[t>>8&255]+"-"+qa[t>>16&255]+qa[t>>24&255]+qa[i&255]+qa[i>>8&255]+qa[i>>16&255]+qa[i>>24&255]).toLowerCase()}function Rn(n,e,t){return Math.max(e,Math.min(t,n))}function JN(n,e){return(n%e+e)%e}function xae(n,e,t,i,r){return i+(n-e)*(r-i)/(t-e)}function Sae(n,e,t){return n!==e?(t-n)/(e-n):0}function mx(n,e,t){return(1-t)*n+t*e}function Eae(n,e,t,i){return mx(n,e,1-Math.exp(-t*i))}function Tae(n,e=1){return e-Math.abs(JN(n,e*2)-e)}function wae(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function Cae(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function Aae(n,e){return n+Math.floor(Math.random()*(e-n+1))}function Mae(n,e){return n+Math.random()*(e-n)}function Rae(n){return n*(.5-Math.random())}function Oae(n){n!==void 0&&(Lk=n);let e=Lk+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function Iae(n){return n*Wg}function Pae(n){return n*Q0}function Dae(n){return(n&n-1)===0&&n!==0}function Nae(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function Lae(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function Uae(n,e,t,i,r){const s=Math.cos,a=Math.sin,o=s(t/2),l=a(t/2),u=s((e+i)/2),h=a((e+i)/2),p=s((e-i)/2),y=a((e-i)/2),v=s((i-e)/2),_=a((i-e)/2);switch(r){case"XYX":n.set(o*h,l*p,l*y,o*u);break;case"YZY":n.set(l*y,o*h,l*p,o*u);break;case"ZXZ":n.set(l*p,l*y,o*h,o*u);break;case"XZX":n.set(o*h,l*_,l*v,o*u);break;case"YXY":n.set(l*v,o*h,l*_,o*u);break;case"ZYZ":n.set(l*_,l*v,o*h,o*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function Oo(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function Bn(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const Qj={DEG2RAD:Wg,RAD2DEG:Q0,generateUUID:Ul,clamp:Rn,euclideanModulo:JN,mapLinear:xae,inverseLerp:Sae,lerp:mx,damp:Eae,pingpong:Tae,smoothstep:wae,smootherstep:Cae,randInt:Aae,randFloat:Mae,randFloatSpread:Rae,seededRandom:Oae,degToRad:Iae,radToDeg:Pae,isPowerOfTwo:Dae,ceilPowerOfTwo:Nae,floorPowerOfTwo:Lae,setQuaternionFromProperEuler:Uae,normalize:Bn,denormalize:Oo};class it{constructor(e=0,t=0){it.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Rn(this.x,e.x,t.x),this.y=Rn(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=Rn(this.x,e,t),this.y=Rn(this.y,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Rn(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Rn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),s=this.x-e.x,a=this.y-e.y;return this.x=s*i-a*r+e.x,this.y=s*r+a*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Ln{constructor(e,t,i,r,s,a,o,l,u){Ln.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,i,r,s,a,o,l,u)}set(e,t,i,r,s,a,o,l,u){const h=this.elements;return h[0]=e,h[1]=r,h[2]=o,h[3]=t,h[4]=s,h[5]=l,h[6]=i,h[7]=a,h[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,a=i[0],o=i[3],l=i[6],u=i[1],h=i[4],p=i[7],y=i[2],v=i[5],_=i[8],x=r[0],E=r[3],S=r[6],w=r[1],C=r[4],A=r[7],N=r[2],L=r[5],I=r[8];return s[0]=a*x+o*w+l*N,s[3]=a*E+o*C+l*L,s[6]=a*S+o*A+l*I,s[1]=u*x+h*w+p*N,s[4]=u*E+h*C+p*L,s[7]=u*S+h*A+p*I,s[2]=y*x+v*w+_*N,s[5]=y*E+v*C+_*L,s[8]=y*S+v*A+_*I,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],a=e[4],o=e[5],l=e[6],u=e[7],h=e[8];return t*a*h-t*o*u-i*s*h+i*o*l+r*s*u-r*a*l}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],a=e[4],o=e[5],l=e[6],u=e[7],h=e[8],p=h*a-o*u,y=o*l-h*s,v=u*s-a*l,_=t*p+i*y+r*v;if(_===0)return this.set(0,0,0,0,0,0,0,0,0);const x=1/_;return e[0]=p*x,e[1]=(r*u-h*i)*x,e[2]=(o*i-r*a)*x,e[3]=y*x,e[4]=(h*t-r*l)*x,e[5]=(r*s-o*t)*x,e[6]=v*x,e[7]=(i*l-u*t)*x,e[8]=(a*t-i*s)*x,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,s,a,o){const l=Math.cos(s),u=Math.sin(s);return this.set(i*l,i*u,-i*(l*a+u*o)+a+e,-r*u,r*l,-r*(-u*a+l*o)+o+t,0,0,1),this}scale(e,t){return this.premultiply(gO.makeScale(e,t)),this}rotate(e){return this.premultiply(gO.makeRotation(-e)),this}translate(e,t){return this.premultiply(gO.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const gO=new Ln;function Jj(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const kae={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function p0(n,e){return new kae[n](e)}function Qx(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function eG(){const n=Qx("canvas");return n.style.display="block",n}const Uk={};function d2(n){n in Uk||(Uk[n]=!0,console.warn(n))}function zae(n,e,t){return new Promise(function(i,r){function s(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:r();break;case n.TIMEOUT_EXPIRED:setTimeout(s,t);break;default:i()}}setTimeout(s,t)})}function Bae(n){const e=n.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function Fae(n){const e=n.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const kk=new Ln().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),zk=new Ln().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function Vae(){const n={enabled:!0,workingColorSpace:Xp,spaces:{},convert:function(r,s,a){return this.enabled===!1||s===a||!s||!a||(this.spaces[s].transfer===Vi&&(r.r=jh(r.r),r.g=jh(r.g),r.b=jh(r.b)),this.spaces[s].primaries!==this.spaces[a].primaries&&(r.applyMatrix3(this.spaces[s].toXYZ),r.applyMatrix3(this.spaces[a].fromXYZ)),this.spaces[a].transfer===Vi&&(r.r=R0(r.r),r.g=R0(r.g),r.b=R0(r.b))),r},fromWorkingColorSpace:function(r,s){return this.convert(r,this.workingColorSpace,s)},toWorkingColorSpace:function(r,s){return this.convert(r,s,this.workingColorSpace)},getPrimaries:function(r){return this.spaces[r].primaries},getTransfer:function(r){return r===Nh?Yx:this.spaces[r].transfer},getLuminanceCoefficients:function(r,s=this.workingColorSpace){return r.fromArray(this.spaces[s].luminanceCoefficients)},define:function(r){Object.assign(this.spaces,r)},_getMatrix:function(r,s,a){return r.copy(this.spaces[s].toXYZ).multiply(this.spaces[a].fromXYZ)},_getDrawingBufferColorSpace:function(r){return this.spaces[r].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(r=this.workingColorSpace){return this.spaces[r].workingColorSpaceConfig.unpackColorSpace}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],i=[.3127,.329];return n.define({[Xp]:{primaries:e,whitePoint:i,transfer:Yx,toXYZ:kk,fromXYZ:zk,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:Sa},outputColorSpaceConfig:{drawingBufferColorSpace:Sa}},[Sa]:{primaries:e,whitePoint:i,transfer:Vi,toXYZ:kk,fromXYZ:zk,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:Sa}}}),n}const fi=Vae();function jh(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function R0(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let yv;class tG{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let i;if(e instanceof HTMLCanvasElement)i=e;else{yv===void 0&&(yv=Qx("canvas")),yv.width=e.width,yv.height=e.height;const r=yv.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),i=yv}return i.toDataURL(t)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=Qx("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let a=0;a<s.length;a++)s[a]=jh(s[a]/255)*255;return i.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(jh(t[i]/255)*255):t[i]=jh(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let Hae=0;class Cp{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Hae++}),this.uuid=Ul(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let a=0,o=r.length;a<o;a++)r[a].isDataTexture?s.push(yO(r[a].image)):s.push(yO(r[a]))}else s=yO(r);i.url=s}return t||(e.images[this.uuid]=i),i}}function yO(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?tG.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let jae=0;class rs extends Uf{constructor(e=rs.DEFAULT_IMAGE,t=rs.DEFAULT_MAPPING,i=wc,r=wc,s=ps,a=Sf,o=eo,l=Mc,u=rs.DEFAULT_ANISOTROPY,h=Nh){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:jae++}),this.uuid=Ul(),this.name="",this.source=new Cp(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=a,this.anisotropy=u,this.format=o,this.internalFormat=null,this.type=l,this.offset=new it(0,0),this.repeat=new it(1,1),this.center=new it(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Ln,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=h,this.userData={},this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isTextureArray=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isTextureArray=e.isTextureArray,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==jA)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case qx:e.x=e.x-Math.floor(e.x);break;case wc:e.x=e.x<0?0:1;break;case Wx:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case qx:e.y=e.y-Math.floor(e.y);break;case wc:e.y=e.y<0?0:1;break;case Wx:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}rs.DEFAULT_IMAGE=null;rs.DEFAULT_MAPPING=jA;rs.DEFAULT_ANISOTROPY=1;class gi{constructor(e=0,t=0,i=0,r=1){gi.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=this.w,a=e.elements;return this.x=a[0]*t+a[4]*i+a[8]*r+a[12]*s,this.y=a[1]*t+a[5]*i+a[9]*r+a[13]*s,this.z=a[2]*t+a[6]*i+a[10]*r+a[14]*s,this.w=a[3]*t+a[7]*i+a[11]*r+a[15]*s,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,s;const l=e.elements,u=l[0],h=l[4],p=l[8],y=l[1],v=l[5],_=l[9],x=l[2],E=l[6],S=l[10];if(Math.abs(h-y)<.01&&Math.abs(p-x)<.01&&Math.abs(_-E)<.01){if(Math.abs(h+y)<.1&&Math.abs(p+x)<.1&&Math.abs(_+E)<.1&&Math.abs(u+v+S-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const C=(u+1)/2,A=(v+1)/2,N=(S+1)/2,L=(h+y)/4,I=(p+x)/4,D=(_+E)/4;return C>A&&C>N?C<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(C),r=L/i,s=I/i):A>N?A<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(A),i=L/r,s=D/r):N<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(N),i=I/s,r=D/s),this.set(i,r,s,t),this}let w=Math.sqrt((E-_)*(E-_)+(p-x)*(p-x)+(y-h)*(y-h));return Math.abs(w)<.001&&(w=1),this.x=(E-_)/w,this.y=(p-x)/w,this.z=(y-h)/w,this.w=Math.acos((u+v+S-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Rn(this.x,e.x,t.x),this.y=Rn(this.y,e.y,t.y),this.z=Rn(this.z,e.z,t.z),this.w=Rn(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=Rn(this.x,e,t),this.y=Rn(this.y,e,t),this.z=Rn(this.z,e,t),this.w=Rn(this.w,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Rn(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class ZA extends Uf{constructor(e=1,t=1,i={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=i.depth?i.depth:1,this.scissor=new gi(0,0,e,t),this.scissorTest=!1,this.viewport=new gi(0,0,e,t);const r={width:e,height:t,depth:this.depth};i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:ps,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,multiview:!1},i);const s=new rs(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace);s.flipY=!1,s.generateMipmaps=i.generateMipmaps,s.internalFormat=i.internalFormat,this.textures=[];const a=i.count;for(let o=0;o<a;o++)this.textures[o]=s.clone(),this.textures[o].isRenderTargetTexture=!0,this.textures[o].renderTarget=this;this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=i.depthTexture,this.samples=i.samples,this.multiview=i.multiview}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,s=this.textures.length;r<s;r++)this.textures[r].image.width=e,this.textures[r].image.height=t,this.textures[r].image.depth=i;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,i=e.textures.length;t<i;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const r=Object.assign({},e.textures[t].image);this.textures[t].source=new Cp(r)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class xu extends ZA{constructor(e=1,t=1,i={}){super(e,t,i),this.isWebGLRenderTarget=!0}}class DS extends rs{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=wa,this.minFilter=wa,this.wrapR=wc,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Gae extends xu{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new DS(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class QA extends rs{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=wa,this.minFilter=wa,this.wrapR=wc,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class qae extends xu{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new QA(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class Ca{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,s,a,o){let l=i[r+0],u=i[r+1],h=i[r+2],p=i[r+3];const y=s[a+0],v=s[a+1],_=s[a+2],x=s[a+3];if(o===0){e[t+0]=l,e[t+1]=u,e[t+2]=h,e[t+3]=p;return}if(o===1){e[t+0]=y,e[t+1]=v,e[t+2]=_,e[t+3]=x;return}if(p!==x||l!==y||u!==v||h!==_){let E=1-o;const S=l*y+u*v+h*_+p*x,w=S>=0?1:-1,C=1-S*S;if(C>Number.EPSILON){const N=Math.sqrt(C),L=Math.atan2(N,S*w);E=Math.sin(E*L)/N,o=Math.sin(o*L)/N}const A=o*w;if(l=l*E+y*A,u=u*E+v*A,h=h*E+_*A,p=p*E+x*A,E===1-o){const N=1/Math.sqrt(l*l+u*u+h*h+p*p);l*=N,u*=N,h*=N,p*=N}}e[t]=l,e[t+1]=u,e[t+2]=h,e[t+3]=p}static multiplyQuaternionsFlat(e,t,i,r,s,a){const o=i[r],l=i[r+1],u=i[r+2],h=i[r+3],p=s[a],y=s[a+1],v=s[a+2],_=s[a+3];return e[t]=o*_+h*p+l*v-u*y,e[t+1]=l*_+h*y+u*p-o*v,e[t+2]=u*_+h*v+o*y-l*p,e[t+3]=h*_-o*p-l*y-u*v,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const i=e._x,r=e._y,s=e._z,a=e._order,o=Math.cos,l=Math.sin,u=o(i/2),h=o(r/2),p=o(s/2),y=l(i/2),v=l(r/2),_=l(s/2);switch(a){case"XYZ":this._x=y*h*p+u*v*_,this._y=u*v*p-y*h*_,this._z=u*h*_+y*v*p,this._w=u*h*p-y*v*_;break;case"YXZ":this._x=y*h*p+u*v*_,this._y=u*v*p-y*h*_,this._z=u*h*_-y*v*p,this._w=u*h*p+y*v*_;break;case"ZXY":this._x=y*h*p-u*v*_,this._y=u*v*p+y*h*_,this._z=u*h*_+y*v*p,this._w=u*h*p-y*v*_;break;case"ZYX":this._x=y*h*p-u*v*_,this._y=u*v*p+y*h*_,this._z=u*h*_-y*v*p,this._w=u*h*p+y*v*_;break;case"YZX":this._x=y*h*p+u*v*_,this._y=u*v*p+y*h*_,this._z=u*h*_-y*v*p,this._w=u*h*p-y*v*_;break;case"XZY":this._x=y*h*p-u*v*_,this._y=u*v*p-y*h*_,this._z=u*h*_+y*v*p,this._w=u*h*p+y*v*_;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],s=t[8],a=t[1],o=t[5],l=t[9],u=t[2],h=t[6],p=t[10],y=i+o+p;if(y>0){const v=.5/Math.sqrt(y+1);this._w=.25/v,this._x=(h-l)*v,this._y=(s-u)*v,this._z=(a-r)*v}else if(i>o&&i>p){const v=2*Math.sqrt(1+i-o-p);this._w=(h-l)/v,this._x=.25*v,this._y=(r+a)/v,this._z=(s+u)/v}else if(o>p){const v=2*Math.sqrt(1+o-i-p);this._w=(s-u)/v,this._x=(r+a)/v,this._y=.25*v,this._z=(l+h)/v}else{const v=2*Math.sqrt(1+p-i-o);this._w=(a-r)/v,this._x=(s+u)/v,this._y=(l+h)/v,this._z=.25*v}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Rn(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,s=e._z,a=e._w,o=t._x,l=t._y,u=t._z,h=t._w;return this._x=i*h+a*o+r*u-s*l,this._y=r*h+a*l+s*o-i*u,this._z=s*h+a*u+i*l-r*o,this._w=a*h-i*o-r*l-s*u,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,r=this._y,s=this._z,a=this._w;let o=a*e._w+i*e._x+r*e._y+s*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=i,this._y=r,this._z=s,this;const l=1-o*o;if(l<=Number.EPSILON){const v=1-t;return this._w=v*a+t*this._w,this._x=v*i+t*this._x,this._y=v*r+t*this._y,this._z=v*s+t*this._z,this.normalize(),this}const u=Math.sqrt(l),h=Math.atan2(u,o),p=Math.sin((1-t)*h)/u,y=Math.sin(t*h)/u;return this._w=a*p+this._w*y,this._x=i*p+this._x*y,this._y=r*p+this._y*y,this._z=s*p+this._z*y,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),i=Math.random(),r=Math.sqrt(1-i),s=Math.sqrt(i);return this.set(r*Math.sin(e),r*Math.cos(e),s*Math.sin(t),s*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class fe{constructor(e=0,t=0,i=0){fe.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(Bk.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(Bk.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6]*r,this.y=s[1]*t+s[4]*i+s[7]*r,this.z=s[2]*t+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=e.elements,a=1/(s[3]*t+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*i+s[8]*r+s[12])*a,this.y=(s[1]*t+s[5]*i+s[9]*r+s[13])*a,this.z=(s[2]*t+s[6]*i+s[10]*r+s[14])*a,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,s=e.x,a=e.y,o=e.z,l=e.w,u=2*(a*r-o*i),h=2*(o*t-s*r),p=2*(s*i-a*t);return this.x=t+l*u+a*p-o*h,this.y=i+l*h+o*u-s*p,this.z=r+l*p+s*h-a*u,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r,this.y=s[1]*t+s[5]*i+s[9]*r,this.z=s[2]*t+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Rn(this.x,e.x,t.x),this.y=Rn(this.y,e.y,t.y),this.z=Rn(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=Rn(this.x,e,t),this.y=Rn(this.y,e,t),this.z=Rn(this.z,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Rn(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,s=e.z,a=t.x,o=t.y,l=t.z;return this.x=r*l-s*o,this.y=s*a-i*l,this.z=i*o-r*a,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return vO.copy(this).projectOnVector(e),this.sub(vO)}reflect(e){return this.sub(vO.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Rn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,i=Math.sqrt(1-t*t);return this.x=i*Math.cos(e),this.y=t,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const vO=new fe,Bk=new Ca;class ra{constructor(e=new fe(1/0,1/0,1/0),t=new fe(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(au.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(au.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=au.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const s=i.getAttribute("position");if(t===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let a=0,o=s.count;a<o;a++)e.isMesh===!0?e.getVertexPosition(a,au):au.fromBufferAttribute(s,a),au.applyMatrix4(e.matrixWorld),this.expandByPoint(au);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),_T.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),_T.copy(i.boundingBox)),_T.applyMatrix4(e.matrixWorld),this.union(_T)}const r=e.children;for(let s=0,a=r.length;s<a;s++)this.expandByObject(r[s],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,au),au.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(e1),bT.subVectors(this.max,e1),vv.subVectors(e.a,e1),_v.subVectors(e.b,e1),bv.subVectors(e.c,e1),ip.subVectors(_v,vv),rp.subVectors(bv,_v),Jm.subVectors(vv,bv);let t=[0,-ip.z,ip.y,0,-rp.z,rp.y,0,-Jm.z,Jm.y,ip.z,0,-ip.x,rp.z,0,-rp.x,Jm.z,0,-Jm.x,-ip.y,ip.x,0,-rp.y,rp.x,0,-Jm.y,Jm.x,0];return!_O(t,vv,_v,bv,bT)||(t=[1,0,0,0,1,0,0,0,1],!_O(t,vv,_v,bv,bT))?!1:(xT.crossVectors(ip,rp),t=[xT.x,xT.y,xT.z],_O(t,vv,_v,bv,bT))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,au).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(au).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(gh[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),gh[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),gh[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),gh[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),gh[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),gh[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),gh[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),gh[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(gh),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const gh=[new fe,new fe,new fe,new fe,new fe,new fe,new fe,new fe],au=new fe,_T=new ra,vv=new fe,_v=new fe,bv=new fe,ip=new fe,rp=new fe,Jm=new fe,e1=new fe,bT=new fe,xT=new fe,eg=new fe;function _O(n,e,t,i,r){for(let s=0,a=n.length-3;s<=a;s+=3){eg.fromArray(n,s);const o=r.x*Math.abs(eg.x)+r.y*Math.abs(eg.y)+r.z*Math.abs(eg.z),l=e.dot(eg),u=t.dot(eg),h=i.dot(eg);if(Math.max(-Math.max(l,u,h),Math.min(l,u,h))>o)return!1}return!0}const Wae=new ra,t1=new fe,bO=new fe;class sa{constructor(e=new fe,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):Wae.setFromPoints(e).getCenter(i);let r=0;for(let s=0,a=e.length;s<a;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;t1.subVectors(e,this.center);const t=t1.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.addScaledVector(t1,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(bO.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(t1.copy(e.center).add(bO)),this.expandByPoint(t1.copy(e.center).sub(bO))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const yh=new fe,xO=new fe,ST=new fe,sp=new fe,SO=new fe,ET=new fe,EO=new fe;class A_{constructor(e=new fe,t=new fe(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,yh)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=yh.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(yh.copy(this.origin).addScaledVector(this.direction,t),yh.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){xO.copy(e).add(t).multiplyScalar(.5),ST.copy(t).sub(e).normalize(),sp.copy(this.origin).sub(xO);const s=e.distanceTo(t)*.5,a=-this.direction.dot(ST),o=sp.dot(this.direction),l=-sp.dot(ST),u=sp.lengthSq(),h=Math.abs(1-a*a);let p,y,v,_;if(h>0)if(p=a*l-o,y=a*o-l,_=s*h,p>=0)if(y>=-_)if(y<=_){const x=1/h;p*=x,y*=x,v=p*(p+a*y+2*o)+y*(a*p+y+2*l)+u}else y=s,p=Math.max(0,-(a*y+o)),v=-p*p+y*(y+2*l)+u;else y=-s,p=Math.max(0,-(a*y+o)),v=-p*p+y*(y+2*l)+u;else y<=-_?(p=Math.max(0,-(-a*s+o)),y=p>0?-s:Math.min(Math.max(-s,-l),s),v=-p*p+y*(y+2*l)+u):y<=_?(p=0,y=Math.min(Math.max(-s,-l),s),v=y*(y+2*l)+u):(p=Math.max(0,-(a*s+o)),y=p>0?s:Math.min(Math.max(-s,-l),s),v=-p*p+y*(y+2*l)+u);else y=a>0?-s:s,p=Math.max(0,-(a*y+o)),v=-p*p+y*(y+2*l)+u;return i&&i.copy(this.origin).addScaledVector(this.direction,p),r&&r.copy(xO).addScaledVector(ST,y),v}intersectSphere(e,t){yh.subVectors(e.center,this.origin);const i=yh.dot(this.direction),r=yh.dot(yh)-i*i,s=e.radius*e.radius;if(r>s)return null;const a=Math.sqrt(s-r),o=i-a,l=i+a;return l<0?null:o<0?this.at(l,t):this.at(o,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,s,a,o,l;const u=1/this.direction.x,h=1/this.direction.y,p=1/this.direction.z,y=this.origin;return u>=0?(i=(e.min.x-y.x)*u,r=(e.max.x-y.x)*u):(i=(e.max.x-y.x)*u,r=(e.min.x-y.x)*u),h>=0?(s=(e.min.y-y.y)*h,a=(e.max.y-y.y)*h):(s=(e.max.y-y.y)*h,a=(e.min.y-y.y)*h),i>a||s>r||((s>i||isNaN(i))&&(i=s),(a<r||isNaN(r))&&(r=a),p>=0?(o=(e.min.z-y.z)*p,l=(e.max.z-y.z)*p):(o=(e.max.z-y.z)*p,l=(e.min.z-y.z)*p),i>l||o>r)||((o>i||i!==i)&&(i=o),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,yh)!==null}intersectTriangle(e,t,i,r,s){SO.subVectors(t,e),ET.subVectors(i,e),EO.crossVectors(SO,ET);let a=this.direction.dot(EO),o;if(a>0){if(r)return null;o=1}else if(a<0)o=-1,a=-a;else return null;sp.subVectors(this.origin,e);const l=o*this.direction.dot(ET.crossVectors(sp,ET));if(l<0)return null;const u=o*this.direction.dot(SO.cross(sp));if(u<0||l+u>a)return null;const h=-o*sp.dot(EO);return h<0?null:this.at(h/a,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class an{constructor(e,t,i,r,s,a,o,l,u,h,p,y,v,_,x,E){an.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,i,r,s,a,o,l,u,h,p,y,v,_,x,E)}set(e,t,i,r,s,a,o,l,u,h,p,y,v,_,x,E){const S=this.elements;return S[0]=e,S[4]=t,S[8]=i,S[12]=r,S[1]=s,S[5]=a,S[9]=o,S[13]=l,S[2]=u,S[6]=h,S[10]=p,S[14]=y,S[3]=v,S[7]=_,S[11]=x,S[15]=E,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new an().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/xv.setFromMatrixColumn(e,0).length(),s=1/xv.setFromMatrixColumn(e,1).length(),a=1/xv.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*s,t[5]=i[5]*s,t[6]=i[6]*s,t[7]=0,t[8]=i[8]*a,t[9]=i[9]*a,t[10]=i[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,s=e.z,a=Math.cos(i),o=Math.sin(i),l=Math.cos(r),u=Math.sin(r),h=Math.cos(s),p=Math.sin(s);if(e.order==="XYZ"){const y=a*h,v=a*p,_=o*h,x=o*p;t[0]=l*h,t[4]=-l*p,t[8]=u,t[1]=v+_*u,t[5]=y-x*u,t[9]=-o*l,t[2]=x-y*u,t[6]=_+v*u,t[10]=a*l}else if(e.order==="YXZ"){const y=l*h,v=l*p,_=u*h,x=u*p;t[0]=y+x*o,t[4]=_*o-v,t[8]=a*u,t[1]=a*p,t[5]=a*h,t[9]=-o,t[2]=v*o-_,t[6]=x+y*o,t[10]=a*l}else if(e.order==="ZXY"){const y=l*h,v=l*p,_=u*h,x=u*p;t[0]=y-x*o,t[4]=-a*p,t[8]=_+v*o,t[1]=v+_*o,t[5]=a*h,t[9]=x-y*o,t[2]=-a*u,t[6]=o,t[10]=a*l}else if(e.order==="ZYX"){const y=a*h,v=a*p,_=o*h,x=o*p;t[0]=l*h,t[4]=_*u-v,t[8]=y*u+x,t[1]=l*p,t[5]=x*u+y,t[9]=v*u-_,t[2]=-u,t[6]=o*l,t[10]=a*l}else if(e.order==="YZX"){const y=a*l,v=a*u,_=o*l,x=o*u;t[0]=l*h,t[4]=x-y*p,t[8]=_*p+v,t[1]=p,t[5]=a*h,t[9]=-o*h,t[2]=-u*h,t[6]=v*p+_,t[10]=y-x*p}else if(e.order==="XZY"){const y=a*l,v=a*u,_=o*l,x=o*u;t[0]=l*h,t[4]=-p,t[8]=u*h,t[1]=y*p+x,t[5]=a*h,t[9]=v*p-_,t[2]=_*p-v,t[6]=o*h,t[10]=x*p+y}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose($ae,e,Xae)}lookAt(e,t,i){const r=this.elements;return Cl.subVectors(e,t),Cl.lengthSq()===0&&(Cl.z=1),Cl.normalize(),ap.crossVectors(i,Cl),ap.lengthSq()===0&&(Math.abs(i.z)===1?Cl.x+=1e-4:Cl.z+=1e-4,Cl.normalize(),ap.crossVectors(i,Cl)),ap.normalize(),TT.crossVectors(Cl,ap),r[0]=ap.x,r[4]=TT.x,r[8]=Cl.x,r[1]=ap.y,r[5]=TT.y,r[9]=Cl.y,r[2]=ap.z,r[6]=TT.z,r[10]=Cl.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,a=i[0],o=i[4],l=i[8],u=i[12],h=i[1],p=i[5],y=i[9],v=i[13],_=i[2],x=i[6],E=i[10],S=i[14],w=i[3],C=i[7],A=i[11],N=i[15],L=r[0],I=r[4],D=r[8],P=r[12],U=r[1],F=r[5],z=r[9],V=r[13],K=r[2],J=r[6],q=r[10],W=r[14],Q=r[3],re=r[7],pe=r[11],Y=r[15];return s[0]=a*L+o*U+l*K+u*Q,s[4]=a*I+o*F+l*J+u*re,s[8]=a*D+o*z+l*q+u*pe,s[12]=a*P+o*V+l*W+u*Y,s[1]=h*L+p*U+y*K+v*Q,s[5]=h*I+p*F+y*J+v*re,s[9]=h*D+p*z+y*q+v*pe,s[13]=h*P+p*V+y*W+v*Y,s[2]=_*L+x*U+E*K+S*Q,s[6]=_*I+x*F+E*J+S*re,s[10]=_*D+x*z+E*q+S*pe,s[14]=_*P+x*V+E*W+S*Y,s[3]=w*L+C*U+A*K+N*Q,s[7]=w*I+C*F+A*J+N*re,s[11]=w*D+C*z+A*q+N*pe,s[15]=w*P+C*V+A*W+N*Y,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],s=e[12],a=e[1],o=e[5],l=e[9],u=e[13],h=e[2],p=e[6],y=e[10],v=e[14],_=e[3],x=e[7],E=e[11],S=e[15];return _*(+s*l*p-r*u*p-s*o*y+i*u*y+r*o*v-i*l*v)+x*(+t*l*v-t*u*y+s*a*y-r*a*v+r*u*h-s*l*h)+E*(+t*u*p-t*o*v-s*a*p+i*a*v+s*o*h-i*u*h)+S*(-r*o*h-t*l*p+t*o*y+r*a*p-i*a*y+i*l*h)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],a=e[4],o=e[5],l=e[6],u=e[7],h=e[8],p=e[9],y=e[10],v=e[11],_=e[12],x=e[13],E=e[14],S=e[15],w=p*E*u-x*y*u+x*l*v-o*E*v-p*l*S+o*y*S,C=_*y*u-h*E*u-_*l*v+a*E*v+h*l*S-a*y*S,A=h*x*u-_*p*u+_*o*v-a*x*v-h*o*S+a*p*S,N=_*p*l-h*x*l-_*o*y+a*x*y+h*o*E-a*p*E,L=t*w+i*C+r*A+s*N;if(L===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const I=1/L;return e[0]=w*I,e[1]=(x*y*s-p*E*s-x*r*v+i*E*v+p*r*S-i*y*S)*I,e[2]=(o*E*s-x*l*s+x*r*u-i*E*u-o*r*S+i*l*S)*I,e[3]=(p*l*s-o*y*s-p*r*u+i*y*u+o*r*v-i*l*v)*I,e[4]=C*I,e[5]=(h*E*s-_*y*s+_*r*v-t*E*v-h*r*S+t*y*S)*I,e[6]=(_*l*s-a*E*s-_*r*u+t*E*u+a*r*S-t*l*S)*I,e[7]=(a*y*s-h*l*s+h*r*u-t*y*u-a*r*v+t*l*v)*I,e[8]=A*I,e[9]=(_*p*s-h*x*s-_*i*v+t*x*v+h*i*S-t*p*S)*I,e[10]=(a*x*s-_*o*s+_*i*u-t*x*u-a*i*S+t*o*S)*I,e[11]=(h*o*s-a*p*s-h*i*u+t*p*u+a*i*v-t*o*v)*I,e[12]=N*I,e[13]=(h*x*r-_*p*r+_*i*y-t*x*y-h*i*E+t*p*E)*I,e[14]=(_*o*r-a*x*r-_*i*l+t*x*l+a*i*E-t*o*E)*I,e[15]=(a*p*r-h*o*r+h*i*l-t*p*l-a*i*y+t*o*y)*I,this}scale(e){const t=this.elements,i=e.x,r=e.y,s=e.z;return t[0]*=i,t[4]*=r,t[8]*=s,t[1]*=i,t[5]*=r,t[9]*=s,t[2]*=i,t[6]*=r,t[10]*=s,t[3]*=i,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),s=1-i,a=e.x,o=e.y,l=e.z,u=s*a,h=s*o;return this.set(u*a+i,u*o-r*l,u*l+r*o,0,u*o+r*l,h*o+i,h*l-r*a,0,u*l-r*o,h*l+r*a,s*l*l+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,s,a){return this.set(1,i,s,0,e,1,a,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,s=t._x,a=t._y,o=t._z,l=t._w,u=s+s,h=a+a,p=o+o,y=s*u,v=s*h,_=s*p,x=a*h,E=a*p,S=o*p,w=l*u,C=l*h,A=l*p,N=i.x,L=i.y,I=i.z;return r[0]=(1-(x+S))*N,r[1]=(v+A)*N,r[2]=(_-C)*N,r[3]=0,r[4]=(v-A)*L,r[5]=(1-(y+S))*L,r[6]=(E+w)*L,r[7]=0,r[8]=(_+C)*I,r[9]=(E-w)*I,r[10]=(1-(y+x))*I,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let s=xv.set(r[0],r[1],r[2]).length();const a=xv.set(r[4],r[5],r[6]).length(),o=xv.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],ou.copy(this);const u=1/s,h=1/a,p=1/o;return ou.elements[0]*=u,ou.elements[1]*=u,ou.elements[2]*=u,ou.elements[4]*=h,ou.elements[5]*=h,ou.elements[6]*=h,ou.elements[8]*=p,ou.elements[9]*=p,ou.elements[10]*=p,t.setFromRotationMatrix(ou),i.x=s,i.y=a,i.z=o,this}makePerspective(e,t,i,r,s,a,o=Cc){const l=this.elements,u=2*s/(t-e),h=2*s/(i-r),p=(t+e)/(t-e),y=(i+r)/(i-r);let v,_;if(o===Cc)v=-(a+s)/(a-s),_=-2*a*s/(a-s);else if(o===Zx)v=-a/(a-s),_=-a*s/(a-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);return l[0]=u,l[4]=0,l[8]=p,l[12]=0,l[1]=0,l[5]=h,l[9]=y,l[13]=0,l[2]=0,l[6]=0,l[10]=v,l[14]=_,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,i,r,s,a,o=Cc){const l=this.elements,u=1/(t-e),h=1/(i-r),p=1/(a-s),y=(t+e)*u,v=(i+r)*h;let _,x;if(o===Cc)_=(a+s)*p,x=-2*p;else if(o===Zx)_=s*p,x=-1*p;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);return l[0]=2*u,l[4]=0,l[8]=0,l[12]=-y,l[1]=0,l[5]=2*h,l[9]=0,l[13]=-v,l[2]=0,l[6]=0,l[10]=x,l[14]=-_,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const xv=new fe,ou=new an,$ae=new fe(0,0,0),Xae=new fe(1,1,1),ap=new fe,TT=new fe,Cl=new fe,Fk=new an,Vk=new Ca;class Vl{constructor(e=0,t=0,i=0,r=Vl.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,r=this._order){return this._x=e,this._y=t,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const r=e.elements,s=r[0],a=r[4],o=r[8],l=r[1],u=r[5],h=r[9],p=r[2],y=r[6],v=r[10];switch(t){case"XYZ":this._y=Math.asin(Rn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-h,v),this._z=Math.atan2(-a,s)):(this._x=Math.atan2(y,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Rn(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(o,v),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-p,s),this._z=0);break;case"ZXY":this._x=Math.asin(Rn(y,-1,1)),Math.abs(y)<.9999999?(this._y=Math.atan2(-p,v),this._z=Math.atan2(-a,u)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Rn(p,-1,1)),Math.abs(p)<.9999999?(this._x=Math.atan2(y,v),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-a,u));break;case"YZX":this._z=Math.asin(Rn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-h,u),this._y=Math.atan2(-p,s)):(this._x=0,this._y=Math.atan2(o,v));break;case"XZY":this._z=Math.asin(-Rn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(y,u),this._y=Math.atan2(o,s)):(this._x=Math.atan2(-h,v),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return Fk.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Fk,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return Vk.setFromEuler(this),this.setFromQuaternion(Vk,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Vl.DEFAULT_ORDER="XYZ";class J0{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let Yae=0;const Hk=new fe,Sv=new Ca,vh=new an,wT=new fe,n1=new fe,Kae=new fe,Zae=new Ca,jk=new fe(1,0,0),Gk=new fe(0,1,0),qk=new fe(0,0,1),Wk={type:"added"},Qae={type:"removed"},Ev={type:"childadded",child:null},TO={type:"childremoved",child:null};class yi extends Uf{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Yae++}),this.uuid=Ul(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=yi.DEFAULT_UP.clone();const e=new fe,t=new Vl,i=new Ca,r=new fe(1,1,1);function s(){i.setFromEuler(t,!1)}function a(){t.setFromQuaternion(i,void 0,!1)}t._onChange(s),i._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new an},normalMatrix:{value:new Ln}}),this.matrix=new an,this.matrixWorld=new an,this.matrixAutoUpdate=yi.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=yi.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new J0,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Sv.setFromAxisAngle(e,t),this.quaternion.multiply(Sv),this}rotateOnWorldAxis(e,t){return Sv.setFromAxisAngle(e,t),this.quaternion.premultiply(Sv),this}rotateX(e){return this.rotateOnAxis(jk,e)}rotateY(e){return this.rotateOnAxis(Gk,e)}rotateZ(e){return this.rotateOnAxis(qk,e)}translateOnAxis(e,t){return Hk.copy(e).applyQuaternion(this.quaternion),this.position.add(Hk.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(jk,e)}translateY(e){return this.translateOnAxis(Gk,e)}translateZ(e){return this.translateOnAxis(qk,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(vh.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?wT.copy(e):wT.set(e,t,i);const r=this.parent;this.updateWorldMatrix(!0,!1),n1.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?vh.lookAt(n1,wT,this.up):vh.lookAt(wT,n1,this.up),this.quaternion.setFromRotationMatrix(vh),r&&(vh.extractRotation(r.matrixWorld),Sv.setFromRotationMatrix(vh),this.quaternion.premultiply(Sv.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(Wk),Ev.child=e,this.dispatchEvent(Ev),Ev.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(Qae),TO.child=e,this.dispatchEvent(TO),TO.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),vh.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),vh.multiply(e.parent.matrixWorld)),e.applyMatrix4(vh),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(Wk),Ev.child=e,this.dispatchEvent(Ev),Ev.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){const a=this.children[i].getObjectByProperty(e,t);if(a!==void 0)return a}}getObjectsByProperty(e,t,i=[]){this[e]===t&&i.push(this);const r=this.children;for(let s=0,a=r.length;s<a;s++)r[s].getObjectsByProperty(e,t,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(n1,e,Kae),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(n1,Zae,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].updateMatrixWorld(e)}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const r=this.children;for(let s=0,a=r.length;s<a;s++)r[s].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.geometryInfo=this._geometryInfo.map(o=>({...o,boundingBox:o.boundingBox?{min:o.boundingBox.min.toArray(),max:o.boundingBox.max.toArray()}:void 0,boundingSphere:o.boundingSphere?{radius:o.boundingSphere.radius,center:o.boundingSphere.center.toArray()}:void 0})),r.instanceInfo=this._instanceInfo.map(o=>({...o})),r.availableInstanceIds=this._availableInstanceIds.slice(),r.availableGeometryIds=this._availableGeometryIds.slice(),r.nextIndexStart=this._nextIndexStart,r.nextVertexStart=this._nextVertexStart,r.geometryCount=this._geometryCount,r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.matricesTexture=this._matricesTexture.toJSON(e),r.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(r.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(r.boundingSphere={center:this.boundingSphere.center.toArray(),radius:this.boundingSphere.radius}),this.boundingBox!==null&&(r.boundingBox={min:this.boundingBox.min.toArray(),max:this.boundingBox.max.toArray()}));function s(o,l){return o[l.uuid]===void 0&&(o[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){const l=o.shapes;if(Array.isArray(l))for(let u=0,h=l.length;u<h;u++){const p=l[u];s(e.shapes,p)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const o=[];for(let l=0,u=this.material.length;l<u;l++)o.push(s(e.materials,this.material[l]));r.material=o}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let o=0;o<this.children.length;o++)r.children.push(this.children[o].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let o=0;o<this.animations.length;o++){const l=this.animations[o];r.animations.push(s(e.animations,l))}}if(t){const o=a(e.geometries),l=a(e.materials),u=a(e.textures),h=a(e.images),p=a(e.shapes),y=a(e.skeletons),v=a(e.animations),_=a(e.nodes);o.length>0&&(i.geometries=o),l.length>0&&(i.materials=l),u.length>0&&(i.textures=u),h.length>0&&(i.images=h),p.length>0&&(i.shapes=p),y.length>0&&(i.skeletons=y),v.length>0&&(i.animations=v),_.length>0&&(i.nodes=_)}return i.object=r,i;function a(o){const l=[];for(const u in o){const h=o[u];delete h.metadata,l.push(h)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}yi.DEFAULT_UP=new fe(0,1,0);yi.DEFAULT_MATRIX_AUTO_UPDATE=!0;yi.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const lu=new fe,_h=new fe,wO=new fe,bh=new fe,Tv=new fe,wv=new fe,$k=new fe,CO=new fe,AO=new fe,MO=new fe,RO=new gi,OO=new gi,IO=new gi;class tl{constructor(e=new fe,t=new fe,i=new fe){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),lu.subVectors(e,t),r.cross(lu);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,i,r,s){lu.subVectors(r,t),_h.subVectors(i,t),wO.subVectors(e,t);const a=lu.dot(lu),o=lu.dot(_h),l=lu.dot(wO),u=_h.dot(_h),h=_h.dot(wO),p=a*u-o*o;if(p===0)return s.set(0,0,0),null;const y=1/p,v=(u*l-o*h)*y,_=(a*h-o*l)*y;return s.set(1-v-_,_,v)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,bh)===null?!1:bh.x>=0&&bh.y>=0&&bh.x+bh.y<=1}static getInterpolation(e,t,i,r,s,a,o,l){return this.getBarycoord(e,t,i,r,bh)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,bh.x),l.addScaledVector(a,bh.y),l.addScaledVector(o,bh.z),l)}static getInterpolatedAttribute(e,t,i,r,s,a){return RO.setScalar(0),OO.setScalar(0),IO.setScalar(0),RO.fromBufferAttribute(e,t),OO.fromBufferAttribute(e,i),IO.fromBufferAttribute(e,r),a.setScalar(0),a.addScaledVector(RO,s.x),a.addScaledVector(OO,s.y),a.addScaledVector(IO,s.z),a}static isFrontFacing(e,t,i,r){return lu.subVectors(i,t),_h.subVectors(e,t),lu.cross(_h).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return lu.subVectors(this.c,this.b),_h.subVectors(this.a,this.b),lu.cross(_h).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return tl.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return tl.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,i,r,s){return tl.getInterpolation(e,this.a,this.b,this.c,t,i,r,s)}containsPoint(e){return tl.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return tl.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,s=this.c;let a,o;Tv.subVectors(r,i),wv.subVectors(s,i),CO.subVectors(e,i);const l=Tv.dot(CO),u=wv.dot(CO);if(l<=0&&u<=0)return t.copy(i);AO.subVectors(e,r);const h=Tv.dot(AO),p=wv.dot(AO);if(h>=0&&p<=h)return t.copy(r);const y=l*p-h*u;if(y<=0&&l>=0&&h<=0)return a=l/(l-h),t.copy(i).addScaledVector(Tv,a);MO.subVectors(e,s);const v=Tv.dot(MO),_=wv.dot(MO);if(_>=0&&v<=_)return t.copy(s);const x=v*u-l*_;if(x<=0&&u>=0&&_<=0)return o=u/(u-_),t.copy(i).addScaledVector(wv,o);const E=h*_-v*p;if(E<=0&&p-h>=0&&v-_>=0)return $k.subVectors(s,r),o=(p-h)/(p-h+(v-_)),t.copy(r).addScaledVector($k,o);const S=1/(E+x+y);return a=x*S,o=y*S,t.copy(i).addScaledVector(Tv,a).addScaledVector(wv,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const nG={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},op={h:0,s:0,l:0},CT={h:0,s:0,l:0};function PO(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class Lt{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(t===void 0&&i===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Sa){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,fi.toWorkingColorSpace(this,t),this}setRGB(e,t,i,r=fi.workingColorSpace){return this.r=e,this.g=t,this.b=i,fi.toWorkingColorSpace(this,r),this}setHSL(e,t,i,r=fi.workingColorSpace){if(e=JN(e,1),t=Rn(t,0,1),i=Rn(i,0,1),t===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+t):i+t-i*t,a=2*i-s;this.r=PO(a,s,e+1/3),this.g=PO(a,s,e),this.b=PO(a,s,e-1/3)}return fi.toWorkingColorSpace(this,r),this}setStyle(e,t=Sa){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const a=r[1],o=r[2];switch(a){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],a=s.length;if(a===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(a===6)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Sa){const i=nG[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=jh(e.r),this.g=jh(e.g),this.b=jh(e.b),this}copyLinearToSRGB(e){return this.r=R0(e.r),this.g=R0(e.g),this.b=R0(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Sa){return fi.fromWorkingColorSpace(Wa.copy(this),e),Math.round(Rn(Wa.r*255,0,255))*65536+Math.round(Rn(Wa.g*255,0,255))*256+Math.round(Rn(Wa.b*255,0,255))}getHexString(e=Sa){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=fi.workingColorSpace){fi.fromWorkingColorSpace(Wa.copy(this),t);const i=Wa.r,r=Wa.g,s=Wa.b,a=Math.max(i,r,s),o=Math.min(i,r,s);let l,u;const h=(o+a)/2;if(o===a)l=0,u=0;else{const p=a-o;switch(u=h<=.5?p/(a+o):p/(2-a-o),a){case i:l=(r-s)/p+(r<s?6:0);break;case r:l=(s-i)/p+2;break;case s:l=(i-r)/p+4;break}l/=6}return e.h=l,e.s=u,e.l=h,e}getRGB(e,t=fi.workingColorSpace){return fi.fromWorkingColorSpace(Wa.copy(this),t),e.r=Wa.r,e.g=Wa.g,e.b=Wa.b,e}getStyle(e=Sa){fi.fromWorkingColorSpace(Wa.copy(this),e);const t=Wa.r,i=Wa.g,r=Wa.b;return e!==Sa?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,t,i){return this.getHSL(op),this.setHSL(op.h+e,op.s+t,op.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(op),e.getHSL(CT);const i=mx(op.h,CT.h,t),r=mx(op.s,CT.s,t),s=mx(op.l,CT.l,t);return this.setHSL(i,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,r=this.b,s=e.elements;return this.r=s[0]*t+s[3]*i+s[6]*r,this.g=s[1]*t+s[4]*i+s[7]*r,this.b=s[2]*t+s[5]*i+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Wa=new Lt;Lt.NAMES=nG;let Jae=0;class io extends Uf{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Jae++}),this.uuid=Ul(),this.name="",this.type="Material",this.blending=qg,this.side=Jh,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=tC,this.blendDst=nC,this.blendEquation=_p,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Lt(0,0,0),this.blendAlpha=0,this.depthFunc=ey,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=mP,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=xg,this.stencilZFail=xg,this.stencilZPass=xg,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==qg&&(i.blending=this.blending),this.side!==Jh&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==tC&&(i.blendSrc=this.blendSrc),this.blendDst!==nC&&(i.blendDst=this.blendDst),this.blendEquation!==_p&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==ey&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==mP&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==xg&&(i.stencilFail=this.stencilFail),this.stencilZFail!==xg&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==xg&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(s){const a=[];for(const o in s){const l=s[o];delete l.metadata,a.push(l)}return a}if(t){const s=r(e.textures),a=r(e.images);s.length>0&&(i.textures=s),a.length>0&&(i.images=a)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const r=t.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=t[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class tm extends io{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Lt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Vl,this.combine=IS,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Lh=eoe();function eoe(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){const u=l-127;u<-27?(i[l]=0,i[l|256]=32768,r[l]=24,r[l|256]=24):u<-14?(i[l]=1024>>-u-14,i[l|256]=1024>>-u-14|32768,r[l]=-u-1,r[l|256]=-u-1):u<=15?(i[l]=u+15<<10,i[l|256]=u+15<<10|32768,r[l]=13,r[l|256]=13):u<128?(i[l]=31744,i[l|256]=64512,r[l]=24,r[l|256]=24):(i[l]=31744,i[l|256]=64512,r[l]=13,r[l|256]=13)}const s=new Uint32Array(2048),a=new Uint32Array(64),o=new Uint32Array(64);for(let l=1;l<1024;++l){let u=l<<13,h=0;for(;(u&8388608)===0;)u<<=1,h-=8388608;u&=-8388609,h+=947912704,s[l]=u|h}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)a[l]=l<<23;a[31]=1199570944,a[32]=2147483648;for(let l=33;l<63;++l)a[l]=2147483648+(l-32<<23);a[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(o[l]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:r,mantissaTable:s,exponentTable:a,offsetTable:o}}function Ko(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=Rn(n,-65504,65504),Lh.floatView[0]=n;const e=Lh.uint32View[0],t=e>>23&511;return Lh.baseTable[t]+((e&8388607)>>Lh.shiftTable[t])}function F1(n){const e=n>>10;return Lh.uint32View[0]=Lh.mantissaTable[Lh.offsetTable[e]+(n&1023)]+Lh.exponentTable[e],Lh.floatView[0]}class toe{static toHalfFloat(e){return Ko(e)}static fromHalfFloat(e){return F1(e)}}const Ts=new fe,AT=new it;let noe=0;class Hi{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:noe++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=Kx,this.updateRanges=[],this.gpuType=Po,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)AT.fromBufferAttribute(this,t),AT.applyMatrix3(e),this.setXY(t,AT.x,AT.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)Ts.fromBufferAttribute(this,t),Ts.applyMatrix3(e),this.setXYZ(t,Ts.x,Ts.y,Ts.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)Ts.fromBufferAttribute(this,t),Ts.applyMatrix4(e),this.setXYZ(t,Ts.x,Ts.y,Ts.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Ts.fromBufferAttribute(this,t),Ts.applyNormalMatrix(e),this.setXYZ(t,Ts.x,Ts.y,Ts.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Ts.fromBufferAttribute(this,t),Ts.transformDirection(e),this.setXYZ(t,Ts.x,Ts.y,Ts.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let i=this.array[e*this.itemSize+t];return this.normalized&&(i=Oo(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=Bn(i,this.array)),this.array[e*this.itemSize+t]=i,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Oo(t,this.array)),t}setX(e,t){return this.normalized&&(t=Bn(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Oo(t,this.array)),t}setY(e,t){return this.normalized&&(t=Bn(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Oo(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Bn(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Oo(t,this.array)),t}setW(e,t){return this.normalized&&(t=Bn(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=Bn(t,this.array),i=Bn(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=Bn(t,this.array),i=Bn(i,this.array),r=Bn(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=Bn(t,this.array),i=Bn(i,this.array),r=Bn(r,this.array),s=Bn(s,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Kx&&(e.usage=this.usage),e}}class ioe extends Hi{constructor(e,t,i){super(new Int8Array(e),t,i)}}class roe extends Hi{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class soe extends Hi{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class aoe extends Hi{constructor(e,t,i){super(new Int16Array(e),t,i)}}class eL extends Hi{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class ooe extends Hi{constructor(e,t,i){super(new Int32Array(e),t,i)}}class tL extends Hi{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class loe extends Hi{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}getX(e){let t=F1(this.array[e*this.itemSize]);return this.normalized&&(t=Oo(t,this.array)),t}setX(e,t){return this.normalized&&(t=Bn(t,this.array)),this.array[e*this.itemSize]=Ko(t),this}getY(e){let t=F1(this.array[e*this.itemSize+1]);return this.normalized&&(t=Oo(t,this.array)),t}setY(e,t){return this.normalized&&(t=Bn(t,this.array)),this.array[e*this.itemSize+1]=Ko(t),this}getZ(e){let t=F1(this.array[e*this.itemSize+2]);return this.normalized&&(t=Oo(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Bn(t,this.array)),this.array[e*this.itemSize+2]=Ko(t),this}getW(e){let t=F1(this.array[e*this.itemSize+3]);return this.normalized&&(t=Oo(t,this.array)),t}setW(e,t){return this.normalized&&(t=Bn(t,this.array)),this.array[e*this.itemSize+3]=Ko(t),this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=Bn(t,this.array),i=Bn(i,this.array)),this.array[e+0]=Ko(t),this.array[e+1]=Ko(i),this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=Bn(t,this.array),i=Bn(i,this.array),r=Bn(r,this.array)),this.array[e+0]=Ko(t),this.array[e+1]=Ko(i),this.array[e+2]=Ko(r),this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=Bn(t,this.array),i=Bn(i,this.array),r=Bn(r,this.array),s=Bn(s,this.array)),this.array[e+0]=Ko(t),this.array[e+1]=Ko(i),this.array[e+2]=Ko(r),this.array[e+3]=Ko(s),this}}class Vt extends Hi{constructor(e,t,i){super(new Float32Array(e),t,i)}}let coe=0;const gc=new an,DO=new yi,Cv=new fe,Al=new ra,i1=new ra,Js=new fe;class Un extends Uf{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:coe++}),this.uuid=Ul(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(Jj(e)?tL:eL)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new Ln().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return gc.makeRotationFromQuaternion(e),this.applyMatrix4(gc),this}rotateX(e){return gc.makeRotationX(e),this.applyMatrix4(gc),this}rotateY(e){return gc.makeRotationY(e),this.applyMatrix4(gc),this}rotateZ(e){return gc.makeRotationZ(e),this.applyMatrix4(gc),this}translate(e,t,i){return gc.makeTranslation(e,t,i),this.applyMatrix4(gc),this}scale(e,t,i){return gc.makeScale(e,t,i),this.applyMatrix4(gc),this}lookAt(e){return DO.lookAt(e),DO.updateMatrix(),this.applyMatrix4(DO.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Cv).negate(),this.translate(Cv.x,Cv.y,Cv.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const i=[];for(let r=0,s=e.length;r<s;r++){const a=e[r];i.push(a.x,a.y,a.z||0)}this.setAttribute("position",new Vt(i,3))}else{const i=Math.min(e.length,t.count);for(let r=0;r<i;r++){const s=e[r];t.setXYZ(r,s.x,s.y,s.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ra);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new fe(-1/0,-1/0,-1/0),new fe(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){const s=t[i];Al.setFromBufferAttribute(s),this.morphTargetsRelative?(Js.addVectors(this.boundingBox.min,Al.min),this.boundingBox.expandByPoint(Js),Js.addVectors(this.boundingBox.max,Al.max),this.boundingBox.expandByPoint(Js)):(this.boundingBox.expandByPoint(Al.min),this.boundingBox.expandByPoint(Al.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new sa);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new fe,1/0);return}if(e){const i=this.boundingSphere.center;if(Al.setFromBufferAttribute(e),t)for(let s=0,a=t.length;s<a;s++){const o=t[s];i1.setFromBufferAttribute(o),this.morphTargetsRelative?(Js.addVectors(Al.min,i1.min),Al.expandByPoint(Js),Js.addVectors(Al.max,i1.max),Al.expandByPoint(Js)):(Al.expandByPoint(i1.min),Al.expandByPoint(i1.max))}Al.getCenter(i);let r=0;for(let s=0,a=e.count;s<a;s++)Js.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(Js));if(t)for(let s=0,a=t.length;s<a;s++){const o=t[s],l=this.morphTargetsRelative;for(let u=0,h=o.count;u<h;u++)Js.fromBufferAttribute(o,u),l&&(Cv.fromBufferAttribute(e,u),Js.add(Cv)),r=Math.max(r,i.distanceToSquared(Js))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=t.position,r=t.normal,s=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Hi(new Float32Array(4*i.count),4));const a=this.getAttribute("tangent"),o=[],l=[];for(let D=0;D<i.count;D++)o[D]=new fe,l[D]=new fe;const u=new fe,h=new fe,p=new fe,y=new it,v=new it,_=new it,x=new fe,E=new fe;function S(D,P,U){u.fromBufferAttribute(i,D),h.fromBufferAttribute(i,P),p.fromBufferAttribute(i,U),y.fromBufferAttribute(s,D),v.fromBufferAttribute(s,P),_.fromBufferAttribute(s,U),h.sub(u),p.sub(u),v.sub(y),_.sub(y);const F=1/(v.x*_.y-_.x*v.y);isFinite(F)&&(x.copy(h).multiplyScalar(_.y).addScaledVector(p,-v.y).multiplyScalar(F),E.copy(p).multiplyScalar(v.x).addScaledVector(h,-_.x).multiplyScalar(F),o[D].add(x),o[P].add(x),o[U].add(x),l[D].add(E),l[P].add(E),l[U].add(E))}let w=this.groups;w.length===0&&(w=[{start:0,count:e.count}]);for(let D=0,P=w.length;D<P;++D){const U=w[D],F=U.start,z=U.count;for(let V=F,K=F+z;V<K;V+=3)S(e.getX(V+0),e.getX(V+1),e.getX(V+2))}const C=new fe,A=new fe,N=new fe,L=new fe;function I(D){N.fromBufferAttribute(r,D),L.copy(N);const P=o[D];C.copy(P),C.sub(N.multiplyScalar(N.dot(P))).normalize(),A.crossVectors(L,P);const F=A.dot(l[D])<0?-1:1;a.setXYZW(D,C.x,C.y,C.z,F)}for(let D=0,P=w.length;D<P;++D){const U=w[D],F=U.start,z=U.count;for(let V=F,K=F+z;V<K;V+=3)I(e.getX(V+0)),I(e.getX(V+1)),I(e.getX(V+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Hi(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let y=0,v=i.count;y<v;y++)i.setXYZ(y,0,0,0);const r=new fe,s=new fe,a=new fe,o=new fe,l=new fe,u=new fe,h=new fe,p=new fe;if(e)for(let y=0,v=e.count;y<v;y+=3){const _=e.getX(y+0),x=e.getX(y+1),E=e.getX(y+2);r.fromBufferAttribute(t,_),s.fromBufferAttribute(t,x),a.fromBufferAttribute(t,E),h.subVectors(a,s),p.subVectors(r,s),h.cross(p),o.fromBufferAttribute(i,_),l.fromBufferAttribute(i,x),u.fromBufferAttribute(i,E),o.add(h),l.add(h),u.add(h),i.setXYZ(_,o.x,o.y,o.z),i.setXYZ(x,l.x,l.y,l.z),i.setXYZ(E,u.x,u.y,u.z)}else for(let y=0,v=t.count;y<v;y+=3)r.fromBufferAttribute(t,y+0),s.fromBufferAttribute(t,y+1),a.fromBufferAttribute(t,y+2),h.subVectors(a,s),p.subVectors(r,s),h.cross(p),i.setXYZ(y+0,h.x,h.y,h.z),i.setXYZ(y+1,h.x,h.y,h.z),i.setXYZ(y+2,h.x,h.y,h.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)Js.fromBufferAttribute(e,t),Js.normalize(),e.setXYZ(t,Js.x,Js.y,Js.z)}toNonIndexed(){function e(o,l){const u=o.array,h=o.itemSize,p=o.normalized,y=new u.constructor(l.length*h);let v=0,_=0;for(let x=0,E=l.length;x<E;x++){o.isInterleavedBufferAttribute?v=l[x]*o.data.stride+o.offset:v=l[x]*h;for(let S=0;S<h;S++)y[_++]=u[v++]}return new Hi(y,h,p)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Un,i=this.index.array,r=this.attributes;for(const o in r){const l=r[o],u=e(l,i);t.setAttribute(o,u)}const s=this.morphAttributes;for(const o in s){const l=[],u=s[o];for(let h=0,p=u.length;h<p;h++){const y=u[h],v=e(y,i);l.push(v)}t.morphAttributes[o]=l}t.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let o=0,l=a.length;o<l;o++){const u=a[o];t.addGroup(u.start,u.count,u.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const l in i){const u=i[l];e.data.attributes[l]=u.toJSON(e.data)}const r={};let s=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],h=[];for(let p=0,y=u.length;p<y;p++){const v=u[p];h.push(v.toJSON(e.data))}h.length>0&&(r[l]=h,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const o=this.boundingSphere;return o!==null&&(e.data.boundingSphere={center:o.center.toArray(),radius:o.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone());const r=e.attributes;for(const u in r){const h=r[u];this.setAttribute(u,h.clone(t))}const s=e.morphAttributes;for(const u in s){const h=[],p=s[u];for(let y=0,v=p.length;y<v;y++)h.push(p[y].clone(t));this.morphAttributes[u]=h}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let u=0,h=a.length;u<h;u++){const p=a[u];this.addGroup(p.start,p.count,p.materialIndex)}const o=e.boundingBox;o!==null&&(this.boundingBox=o.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const Xk=new an,tg=new A_,MT=new sa,Yk=new fe,RT=new fe,OT=new fe,IT=new fe,NO=new fe,PT=new fe,Kk=new fe,DT=new fe;class is extends yi{constructor(e=new Un,t=new tm){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){const o=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}getVertexPosition(e,t){const i=this.geometry,r=i.attributes.position,s=i.morphAttributes.position,a=i.morphTargetsRelative;t.fromBufferAttribute(r,e);const o=this.morphTargetInfluences;if(s&&o){PT.set(0,0,0);for(let l=0,u=s.length;l<u;l++){const h=o[l],p=s[l];h!==0&&(NO.fromBufferAttribute(p,e),a?PT.addScaledVector(NO,h):PT.addScaledVector(NO.sub(t),h))}t.add(PT)}return t}raycast(e,t){const i=this.geometry,r=this.material,s=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),MT.copy(i.boundingSphere),MT.applyMatrix4(s),tg.copy(e.ray).recast(e.near),!(MT.containsPoint(tg.origin)===!1&&(tg.intersectSphere(MT,Yk)===null||tg.origin.distanceToSquared(Yk)>(e.far-e.near)**2))&&(Xk.copy(s).invert(),tg.copy(e.ray).applyMatrix4(Xk),!(i.boundingBox!==null&&tg.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,t,tg)))}_computeIntersections(e,t,i){let r;const s=this.geometry,a=this.material,o=s.index,l=s.attributes.position,u=s.attributes.uv,h=s.attributes.uv1,p=s.attributes.normal,y=s.groups,v=s.drawRange;if(o!==null)if(Array.isArray(a))for(let _=0,x=y.length;_<x;_++){const E=y[_],S=a[E.materialIndex],w=Math.max(E.start,v.start),C=Math.min(o.count,Math.min(E.start+E.count,v.start+v.count));for(let A=w,N=C;A<N;A+=3){const L=o.getX(A),I=o.getX(A+1),D=o.getX(A+2);r=NT(this,S,e,i,u,h,p,L,I,D),r&&(r.faceIndex=Math.floor(A/3),r.face.materialIndex=E.materialIndex,t.push(r))}}else{const _=Math.max(0,v.start),x=Math.min(o.count,v.start+v.count);for(let E=_,S=x;E<S;E+=3){const w=o.getX(E),C=o.getX(E+1),A=o.getX(E+2);r=NT(this,a,e,i,u,h,p,w,C,A),r&&(r.faceIndex=Math.floor(E/3),t.push(r))}}else if(l!==void 0)if(Array.isArray(a))for(let _=0,x=y.length;_<x;_++){const E=y[_],S=a[E.materialIndex],w=Math.max(E.start,v.start),C=Math.min(l.count,Math.min(E.start+E.count,v.start+v.count));for(let A=w,N=C;A<N;A+=3){const L=A,I=A+1,D=A+2;r=NT(this,S,e,i,u,h,p,L,I,D),r&&(r.faceIndex=Math.floor(A/3),r.face.materialIndex=E.materialIndex,t.push(r))}}else{const _=Math.max(0,v.start),x=Math.min(l.count,v.start+v.count);for(let E=_,S=x;E<S;E+=3){const w=E,C=E+1,A=E+2;r=NT(this,a,e,i,u,h,p,w,C,A),r&&(r.faceIndex=Math.floor(E/3),t.push(r))}}}}function uoe(n,e,t,i,r,s,a,o){let l;if(e.side===Do?l=i.intersectTriangle(a,s,r,!0,o):l=i.intersectTriangle(r,s,a,e.side===Jh,o),l===null)return null;DT.copy(o),DT.applyMatrix4(n.matrixWorld);const u=t.ray.origin.distanceTo(DT);return u<t.near||u>t.far?null:{distance:u,point:DT.clone(),object:n}}function NT(n,e,t,i,r,s,a,o,l,u){n.getVertexPosition(o,RT),n.getVertexPosition(l,OT),n.getVertexPosition(u,IT);const h=uoe(n,e,t,i,RT,OT,IT,Kk);if(h){const p=new fe;tl.getBarycoord(Kk,RT,OT,IT,p),r&&(h.uv=tl.getInterpolatedAttribute(r,o,l,u,p,new it)),s&&(h.uv1=tl.getInterpolatedAttribute(s,o,l,u,p,new it)),a&&(h.normal=tl.getInterpolatedAttribute(a,o,l,u,p,new fe),h.normal.dot(i.direction)>0&&h.normal.multiplyScalar(-1));const y={a:o,b:l,c:u,normal:new fe,materialIndex:0};tl.getNormal(RT,OT,IT,y.normal),h.face=y,h.barycoord=p}return h}class dy extends Un{constructor(e=1,t=1,i=1,r=1,s=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:s,depthSegments:a};const o=this;r=Math.floor(r),s=Math.floor(s),a=Math.floor(a);const l=[],u=[],h=[],p=[];let y=0,v=0;_("z","y","x",-1,-1,i,t,e,a,s,0),_("z","y","x",1,-1,i,t,-e,a,s,1),_("x","z","y",1,1,e,i,t,r,a,2),_("x","z","y",1,-1,e,i,-t,r,a,3),_("x","y","z",1,-1,e,t,i,r,s,4),_("x","y","z",-1,-1,e,t,-i,r,s,5),this.setIndex(l),this.setAttribute("position",new Vt(u,3)),this.setAttribute("normal",new Vt(h,3)),this.setAttribute("uv",new Vt(p,2));function _(x,E,S,w,C,A,N,L,I,D,P){const U=A/I,F=N/D,z=A/2,V=N/2,K=L/2,J=I+1,q=D+1;let W=0,Q=0;const re=new fe;for(let pe=0;pe<q;pe++){const Y=pe*F-V;for(let le=0;le<J;le++){const de=le*U-z;re[x]=de*w,re[E]=Y*C,re[S]=K,u.push(re.x,re.y,re.z),re[x]=0,re[E]=0,re[S]=L>0?1:-1,h.push(re.x,re.y,re.z),p.push(le/I),p.push(1-pe/D),W+=1}}for(let pe=0;pe<D;pe++)for(let Y=0;Y<I;Y++){const le=y+Y+J*pe,de=y+Y+J*(pe+1),ue=y+(Y+1)+J*(pe+1),ne=y+(Y+1)+J*pe;l.push(le,de,ne),l.push(de,ue,ne),Q+=6}o.addGroup(v,Q,P),v+=Q,y+=W}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new dy(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function e_(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=r.clone():Array.isArray(r)?e[t][i]=r.slice():e[t][i]=r}}return e}function Ao(n){const e={};for(let t=0;t<n.length;t++){const i=e_(n[t]);for(const r in i)e[r]=i[r]}return e}function foe(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function iG(n){const e=n.getRenderTarget();return e===null?n.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:fi.workingColorSpace}const rG={clone:e_,merge:Ao};var hoe=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,doe=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Su extends io{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=hoe,this.fragmentShader=doe,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=e_(e.uniforms),this.uniformsGroups=foe(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const a=this.uniforms[r].value;a&&a.isTexture?t.uniforms[r]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?t.uniforms[r]={type:"c",value:a.getHex()}:a&&a.isVector2?t.uniforms[r]={type:"v2",value:a.toArray()}:a&&a.isVector3?t.uniforms[r]={type:"v3",value:a.toArray()}:a&&a.isVector4?t.uniforms[r]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?t.uniforms[r]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?t.uniforms[r]={type:"m4",value:a.toArray()}:t.uniforms[r]={value:a}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class JA extends yi{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new an,this.projectionMatrix=new an,this.projectionMatrixInverse=new an,this.coordinateSystem=Cc}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const lp=new fe,Zk=new it,Qk=new it;class na extends JA{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Q0*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Wg*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Q0*2*Math.atan(Math.tan(Wg*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,i){lp.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(lp.x,lp.y).multiplyScalar(-e/lp.z),lp.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(lp.x,lp.y).multiplyScalar(-e/lp.z)}getViewSize(e,t){return this.getViewBounds(e,Zk,Qk),t.subVectors(Qk,Zk)}setViewOffset(e,t,i,r,s,a){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Wg*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,s=-.5*r;const a=this.view;if(this.view!==null&&this.view.enabled){const l=a.fullWidth,u=a.fullHeight;s+=a.offsetX*r/l,t-=a.offsetY*i/u,r*=a.width/l,i*=a.height/u}const o=this.filmOffset;o!==0&&(s+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Av=-90,Mv=1;class sG extends yi{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new na(Av,Mv,e,t);r.layers=this.layers,this.add(r);const s=new na(Av,Mv,e,t);s.layers=this.layers,this.add(s);const a=new na(Av,Mv,e,t);a.layers=this.layers,this.add(a);const o=new na(Av,Mv,e,t);o.layers=this.layers,this.add(o);const l=new na(Av,Mv,e,t);l.layers=this.layers,this.add(l);const u=new na(Av,Mv,e,t);u.layers=this.layers,this.add(u)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[i,r,s,a,o,l]=t;for(const u of t)this.remove(u);if(e===Cc)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===Zx)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const u of t)this.add(u),u.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,a,o,l,u,h]=this.children,p=e.getRenderTarget(),y=e.getActiveCubeFace(),v=e.getActiveMipmapLevel(),_=e.xr.enabled;e.xr.enabled=!1;const x=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,r),e.render(t,s),e.setRenderTarget(i,1,r),e.render(t,a),e.setRenderTarget(i,2,r),e.render(t,o),e.setRenderTarget(i,3,r),e.render(t,l),e.setRenderTarget(i,4,r),e.render(t,u),i.texture.generateMipmaps=x,e.setRenderTarget(i,5,r),e.render(t,h),e.setRenderTarget(p,y,v),e.xr.enabled=_,i.texture.needsPMREMUpdate=!0}}class NS extends rs{constructor(e=[],t=ed,i,r,s,a,o,l,u,h){super(e,t,i,r,s,a,o,l,u,h),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class aG extends xu{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new NS(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:ps}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new dy(5,5,5),s=new Su({name:"CubemapFromEquirect",uniforms:e_(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Do,blending:Hh});s.uniforms.tEquirect.value=t;const a=new is(r,s),o=t.minFilter;return t.minFilter===Sf&&(t.minFilter=ps),new sG(1,10,this).update(e,a),t.minFilter=o,a.geometry.dispose(),a.material.dispose(),this}clear(e,t=!0,i=!0,r=!0){const s=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,i,r);e.setRenderTarget(s)}}class zh extends yi{constructor(){super(),this.isGroup=!0,this.type="Group"}}const poe={type:"move"};class p2{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new zh,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new zh,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new fe,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new fe),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new zh,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new fe,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new fe),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,s=null,a=null;const o=this._targetRay,l=this._grip,u=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(u&&e.hand){a=!0;for(const x of e.hand.values()){const E=t.getJointPose(x,i),S=this._getHandJoint(u,x);E!==null&&(S.matrix.fromArray(E.transform.matrix),S.matrix.decompose(S.position,S.rotation,S.scale),S.matrixWorldNeedsUpdate=!0,S.jointRadius=E.radius),S.visible=E!==null}const h=u.joints["index-finger-tip"],p=u.joints["thumb-tip"],y=h.position.distanceTo(p.position),v=.02,_=.005;u.inputState.pinching&&y>v+_?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&y<=v-_&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,i),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));o!==null&&(r=t.getPose(e.targetRaySpace,i),r===null&&s!==null&&(r=s),r!==null&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(poe)))}return o!==null&&(o.visible=r!==null),l!==null&&(l.visible=s!==null),u!==null&&(u.visible=a!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new zh;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class eM{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Lt(e),this.density=t}clone(){return new eM(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class tM{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new Lt(e),this.near=t,this.far=i}clone(){return new tM(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class nM extends yi{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Vl,this.environmentIntensity=1,this.environmentRotation=new Vl,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class iM{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Kx,this.updateRanges=[],this.version=0,this.uuid=Ul()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ul()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ul()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Co=new fe;class ty{constructor(e,t,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)Co.fromBufferAttribute(this,t),Co.applyMatrix4(e),this.setXYZ(t,Co.x,Co.y,Co.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Co.fromBufferAttribute(this,t),Co.applyNormalMatrix(e),this.setXYZ(t,Co.x,Co.y,Co.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Co.fromBufferAttribute(this,t),Co.transformDirection(e),this.setXYZ(t,Co.x,Co.y,Co.z);return this}getComponent(e,t){let i=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(i=Oo(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=Bn(i,this.array)),this.data.array[e*this.data.stride+this.offset+t]=i,this}setX(e,t){return this.normalized&&(t=Bn(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Bn(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Bn(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Bn(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Oo(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Oo(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Oo(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Oo(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Bn(t,this.array),i=Bn(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Bn(t,this.array),i=Bn(i,this.array),r=Bn(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=Bn(t,this.array),i=Bn(i,this.array),r=Bn(r,this.array),s=Bn(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return new Hi(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new ty(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class rM extends io{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Lt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Rv;const r1=new fe,Ov=new fe,Iv=new fe,Pv=new it,s1=new it,oG=new an,LT=new fe,a1=new fe,UT=new fe,Jk=new it,LO=new it,ez=new it;class nL extends yi{constructor(e=new rM){if(super(),this.isSprite=!0,this.type="Sprite",Rv===void 0){Rv=new Un;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new iM(t,5);Rv.setIndex([0,1,2,0,2,3]),Rv.setAttribute("position",new ty(i,3,0,!1)),Rv.setAttribute("uv",new ty(i,2,3,!1))}this.geometry=Rv,this.material=e,this.center=new it(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Ov.setFromMatrixScale(this.matrixWorld),oG.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Iv.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Ov.multiplyScalar(-Iv.z);const i=this.material.rotation;let r,s;i!==0&&(s=Math.cos(i),r=Math.sin(i));const a=this.center;kT(LT.set(-.5,-.5,0),Iv,a,Ov,r,s),kT(a1.set(.5,-.5,0),Iv,a,Ov,r,s),kT(UT.set(.5,.5,0),Iv,a,Ov,r,s),Jk.set(0,0),LO.set(1,0),ez.set(1,1);let o=e.ray.intersectTriangle(LT,a1,UT,!1,r1);if(o===null&&(kT(a1.set(-.5,.5,0),Iv,a,Ov,r,s),LO.set(0,1),o=e.ray.intersectTriangle(LT,UT,a1,!1,r1),o===null))return;const l=e.ray.origin.distanceTo(r1);l<e.near||l>e.far||t.push({distance:l,point:r1.clone(),uv:tl.getInterpolation(r1,LT,a1,UT,Jk,LO,ez,new it),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function kT(n,e,t,i,r,s){Pv.subVectors(n,t).addScalar(.5).multiply(i),r!==void 0?(s1.x=s*Pv.x-r*Pv.y,s1.y=r*Pv.x+s*Pv.y):s1.copy(Pv),n.copy(e),n.x+=s1.x,n.y+=s1.y,n.applyMatrix4(oG)}const zT=new fe,tz=new fe;class lG extends yi{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,r=t.length;i<r;i++){const s=t[i];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const r=this.levels;let s;for(s=0;s<r.length&&!(t<r[s].distance);s++);return r.splice(s,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let i=0;i<t.length;i++)if(t[i].distance===e){const r=t.splice(i,1);return this.remove(r[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,r;for(i=1,r=t.length;i<r;i++){let s=t[i].distance;if(t[i].object.visible&&(s-=s*t[i].hysteresis),e<s)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){zT.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(zT);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){zT.setFromMatrixPosition(e.matrixWorld),tz.setFromMatrixPosition(this.matrixWorld);const i=zT.distanceTo(tz)/e.zoom;t[0].object.visible=!0;let r,s;for(r=1,s=t.length;r<s;r++){let a=t[r].distance;if(t[r].object.visible&&(a-=a*t[r].hysteresis),i>=a)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<s;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let r=0,s=i.length;r<s;r++){const a=i[r];t.object.levels.push({object:a.object.uuid,distance:a.distance,hysteresis:a.hysteresis})}return t}}const nz=new fe,iz=new gi,rz=new gi,moe=new fe,sz=new an,BT=new fe,UO=new sa,az=new an,kO=new A_;class cG extends is{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=pP,this.bindMatrix=new an,this.bindMatrixInverse=new an,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new ra),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,BT),this.boundingBox.expandByPoint(BT)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new sa),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,BT),this.boundingSphere.expandByPoint(BT)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const i=this.material,r=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),UO.copy(this.boundingSphere),UO.applyMatrix4(r),e.ray.intersectsSphere(UO)!==!1&&(az.copy(r).invert(),kO.copy(e.ray).applyMatrix4(az),!(this.boundingBox!==null&&kO.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,kO)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new gi,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.fromBufferAttribute(t,i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===pP?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===zj?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const i=this.skeleton,r=this.geometry;iz.fromBufferAttribute(r.attributes.skinIndex,e),rz.fromBufferAttribute(r.attributes.skinWeight,e),nz.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const a=rz.getComponent(s);if(a!==0){const o=iz.getComponent(s);sz.multiplyMatrices(i.bones[o].matrixWorld,i.boneInverses[o]),t.addScaledVector(moe.copy(nz).applyMatrix4(sz),a)}}return t.applyMatrix4(this.bindMatrixInverse)}}class iL extends yi{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Of extends rs{constructor(e=null,t=1,i=1,r,s,a,o,l,u=wa,h=wa,p,y){super(null,a,o,l,u,h,r,s,p,y),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const oz=new an,goe=new an;class sM{constructor(e=[],t=[]){this.uuid=Ul(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new an)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new an;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let s=0,a=e.length;s<a;s++){const o=e[s]?e[s].matrixWorld:goe;oz.multiplyMatrices(o,t[s]),oz.toArray(i,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new sM(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new Of(t,e,e,eo,Po);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const s=e.bones[i];let a=t[s];a===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),a=new iL),this.bones.push(a),this.boneInverses.push(new an().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let r=0,s=t.length;r<s;r++){const a=t[r];e.bones.push(a.uuid);const o=i[r];e.boneInverses.push(o.toArray())}return e}}class t_ extends Hi{constructor(e,t,i,r=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Dv=new an,lz=new an,FT=[],cz=new ra,yoe=new an,o1=new is,l1=new sa;class uG extends is{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new t_(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,yoe)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new ra),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,Dv),cz.copy(e.boundingBox).applyMatrix4(Dv),this.boundingBox.union(cz)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new sa),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,Dv),l1.copy(e.boundingSphere).applyMatrix4(Dv),this.boundingSphere.union(l1)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const i=t.morphTargetInfluences,r=this.morphTexture.source.data.data,s=i.length+1,a=e*s+1;for(let o=0;o<i.length;o++)i[o]=r[a+o]}raycast(e,t){const i=this.matrixWorld,r=this.count;if(o1.geometry=this.geometry,o1.material=this.material,o1.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),l1.copy(this.boundingSphere),l1.applyMatrix4(i),e.ray.intersectsSphere(l1)!==!1))for(let s=0;s<r;s++){this.getMatrixAt(s,Dv),lz.multiplyMatrices(i,Dv),o1.matrixWorld=lz,o1.raycast(e,FT);for(let a=0,o=FT.length;a<o;a++){const l=FT[a];l.instanceId=s,l.object=this,t.push(l)}FT.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new t_(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const i=t.morphTargetInfluences,r=i.length+1;this.morphTexture===null&&(this.morphTexture=new Of(new Float32Array(r*this.count),r,this.count,$A,Po));const s=this.morphTexture.source.data.data;let a=0;for(let u=0;u<i.length;u++)a+=i[u];const o=this.geometry.morphTargetsRelative?1:1-a,l=r*e;s[l]=o,s.set(i,l+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const zO=new fe,voe=new fe,_oe=new Ln;class dp{constructor(e=new fe(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=zO.subVectors(i,t).cross(voe.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(zO),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(e.start).addScaledVector(i,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||_oe.getNormalMatrix(e),r=this.coplanarPoint(zO).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const ng=new sa,VT=new fe;class M_{constructor(e=new dp,t=new dp,i=new dp,r=new dp,s=new dp,a=new dp){this.planes=[e,t,i,r,s,a]}set(e,t,i,r,s,a){const o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(i),o[3].copy(r),o[4].copy(s),o[5].copy(a),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=Cc){const i=this.planes,r=e.elements,s=r[0],a=r[1],o=r[2],l=r[3],u=r[4],h=r[5],p=r[6],y=r[7],v=r[8],_=r[9],x=r[10],E=r[11],S=r[12],w=r[13],C=r[14],A=r[15];if(i[0].setComponents(l-s,y-u,E-v,A-S).normalize(),i[1].setComponents(l+s,y+u,E+v,A+S).normalize(),i[2].setComponents(l+a,y+h,E+_,A+w).normalize(),i[3].setComponents(l-a,y-h,E-_,A-w).normalize(),i[4].setComponents(l-o,y-p,E-x,A-C).normalize(),t===Cc)i[5].setComponents(l+o,y+p,E+x,A+C).normalize();else if(t===Zx)i[5].setComponents(o,p,x,C).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),ng.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),ng.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(ng)}intersectsSprite(e){return ng.center.set(0,0,0),ng.radius=.7071067811865476,ng.applyMatrix4(e.matrixWorld),this.intersectsSphere(ng)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(VT.x=r.normal.x>0?e.max.x:e.min.x,VT.y=r.normal.y>0?e.max.y:e.min.y,VT.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(VT)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const rf=new an,sf=new M_;class aM{constructor(){this.coordinateSystem=Cc}intersectsObject(e,t){if(!t.isArrayCamera||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(rf.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),sf.setFromProjectionMatrix(rf,this.coordinateSystem),sf.intersectsObject(e))return!0}return!1}intersectsSprite(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(rf.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),sf.setFromProjectionMatrix(rf,this.coordinateSystem),sf.intersectsSprite(e))return!0}return!1}intersectsSphere(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(rf.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),sf.setFromProjectionMatrix(rf,this.coordinateSystem),sf.intersectsSphere(e))return!0}return!1}intersectsBox(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(rf.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),sf.setFromProjectionMatrix(rf,this.coordinateSystem),sf.intersectsBox(e))return!0}return!1}containsPoint(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(rf.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),sf.setFromProjectionMatrix(rf,this.coordinateSystem),sf.containsPoint(e))return!0}return!1}clone(){return new aM}}function BO(n,e){return n-e}function boe(n,e){return n.z-e.z}function xoe(n,e){return e.z-n.z}class Soe{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,i,r){const s=this.pool,a=this.list;this.index>=s.length&&s.push({start:-1,count:-1,z:-1,index:-1});const o=s[this.index];a.push(o),this.index++,o.start=e,o.count=t,o.z=i,o.index=r}reset(){this.list.length=0,this.index=0}}const Xo=new an,Eoe=new Lt(1,1,1),uz=new M_,Toe=new aM,HT=new ra,ig=new sa,c1=new fe,fz=new fe,woe=new fe,FO=new Soe,$a=new is,jT=[];function Coe(n,e,t=0){const i=e.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==e.array.constructor){const r=n.count;for(let s=0;s<r;s++)for(let a=0;a<i;a++)e.setComponent(s+t,a,n.getComponent(s,a))}else e.array.set(n.array,t*i);e.needsUpdate=!0}function rg(n,e){if(n.constructor!==e.constructor){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++)e[i]=n[i]}else{const t=Math.min(n.length,e.length);e.set(new n.constructor(n.buffer,0,t))}}class fG extends is{constructor(e,t,i=t*2,r){super(new Un,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=i,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),i=new Of(t,e,e,eo,Po);this._matricesTexture=i}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),i=new Of(t,e,e,PS,td);this._indirectTexture=i}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),i=new Of(t,e,e,eo,Po);i.colorSpace=fi.workingColorSpace,this._colorsTexture=i}_initializeGeometry(e){const t=this.geometry,i=this._maxVertexCount,r=this._maxIndexCount;if(this._geometryInitialized===!1){for(const s in e.attributes){const a=e.getAttribute(s),{array:o,itemSize:l,normalized:u}=a,h=new o.constructor(i*l),p=new Hi(h,l,u);t.setAttribute(s,p)}if(e.getIndex()!==null){const s=i>65535?new Uint32Array(r):new Uint16Array(r);t.setIndex(new Hi(s,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const i in t.attributes){if(!e.hasAttribute(i))throw new Error(`THREE.BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const r=e.getAttribute(i),s=t.getAttribute(i);if(r.itemSize!==s.itemSize||r.normalized!==s.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ra);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let i=0,r=t.length;i<r;i++){if(t[i].active===!1)continue;const s=t[i].geometryIndex;this.getMatrixAt(i,Xo),this.getBoundingBoxAt(s,HT).applyMatrix4(Xo),e.union(HT)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new sa);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let i=0,r=t.length;i<r;i++){if(t[i].active===!1)continue;const s=t[i].geometryIndex;this.getMatrixAt(i,Xo),this.getBoundingSphereAt(s,ig).applyMatrix4(Xo),e.union(ig)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const i={visible:!0,active:!0,geometryIndex:e};let r=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(BO),r=this._availableInstanceIds.shift(),this._instanceInfo[r]=i):(r=this._instanceInfo.length,this._instanceInfo.push(i));const s=this._matricesTexture;Xo.identity().toArray(s.image.data,r*16),s.needsUpdate=!0;const a=this._colorsTexture;return a&&(Eoe.toArray(a.image.data,r*4),a.needsUpdate=!0),this._visibilityChanged=!0,r}addGeometry(e,t=-1,i=-1){this._initializeGeometry(e),this._validateGeometry(e);const r={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},s=this._geometryInfo;r.vertexStart=this._nextVertexStart,r.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const a=e.getIndex();if(a!==null&&(r.indexStart=this._nextIndexStart,r.reservedIndexCount=i===-1?a.count:i),r.indexStart!==-1&&r.indexStart+r.reservedIndexCount>this._maxIndexCount||r.vertexStart+r.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let l;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(BO),l=this._availableGeometryIds.shift(),s[l]=r):(l=this._geometryCount,this._geometryCount++,s.push(r)),this.setGeometryAt(l,e),this._nextIndexStart=r.indexStart+r.reservedIndexCount,this._nextVertexStart=r.vertexStart+r.reservedVertexCount,l}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const i=this.geometry,r=i.getIndex()!==null,s=i.getIndex(),a=t.getIndex(),o=this._geometryInfo[e];if(r&&a.count>o.reservedIndexCount||t.attributes.position.count>o.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const l=o.vertexStart,u=o.reservedVertexCount;o.vertexCount=t.getAttribute("position").count;for(const h in i.attributes){const p=t.getAttribute(h),y=i.getAttribute(h);Coe(p,y,l);const v=p.itemSize;for(let _=p.count,x=u;_<x;_++){const E=l+_;for(let S=0;S<v;S++)y.setComponent(E,S,0)}y.needsUpdate=!0,y.addUpdateRange(l*v,u*v)}if(r){const h=o.indexStart,p=o.reservedIndexCount;o.indexCount=t.getIndex().count;for(let y=0;y<a.count;y++)s.setX(h+y,l+a.getX(y));for(let y=a.count,v=p;y<v;y++)s.setX(h+y,l);s.needsUpdate=!0,s.addUpdateRange(h,o.reservedIndexCount)}return o.start=r?o.indexStart:o.vertexStart,o.count=r?o.indexCount:o.vertexCount,o.boundingBox=null,t.boundingBox!==null&&(o.boundingBox=t.boundingBox.clone()),o.boundingSphere=null,t.boundingSphere!==null&&(o.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const i=this._instanceInfo;for(let r=0,s=i.length;r<s;r++)i[r].active&&i[r].geometryIndex===e&&this.deleteInstance(r);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const i=this._geometryInfo,r=i.map((a,o)=>o).sort((a,o)=>i[a].vertexStart-i[o].vertexStart),s=this.geometry;for(let a=0,o=i.length;a<o;a++){const l=r[a],u=i[l];if(u.active!==!1){if(s.index!==null){if(u.indexStart!==t){const{indexStart:h,vertexStart:p,reservedIndexCount:y}=u,v=s.index,_=v.array,x=e-p;for(let E=h;E<h+y;E++)_[E]=_[E]+x;v.array.copyWithin(t,h,h+y),v.addUpdateRange(t,y),u.indexStart=t}t+=u.reservedIndexCount}if(u.vertexStart!==e){const{vertexStart:h,reservedVertexCount:p}=u,y=s.attributes;for(const v in y){const _=y[v],{array:x,itemSize:E}=_;x.copyWithin(e*E,h*E,(h+p)*E),_.addUpdateRange(e*E,p*E)}u.vertexStart=e}e+=u.reservedVertexCount,u.start=s.index?u.indexStart:u.vertexStart,this._nextIndexStart=s.index?u.indexStart+u.reservedIndexCount:0,this._nextVertexStart=u.vertexStart+u.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingBox===null){const s=new ra,a=i.index,o=i.attributes.position;for(let l=r.start,u=r.start+r.count;l<u;l++){let h=l;a&&(h=a.getX(h)),s.expandByPoint(c1.fromBufferAttribute(o,h))}r.boundingBox=s}return t.copy(r.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingSphere===null){const s=new sa;this.getBoundingBoxAt(e,HT),HT.getCenter(s.center);const a=i.index,o=i.attributes.position;let l=0;for(let u=r.start,h=r.start+r.count;u<h;u++){let p=u;a&&(p=a.getX(p)),c1.fromBufferAttribute(o,p),l=Math.max(l,s.center.distanceToSquared(c1))}s.radius=Math.sqrt(l),r.boundingSphere=s}return t.copy(r.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const i=this._matricesTexture,r=this._matricesTexture.image.data;return t.toArray(r,e*16),i.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const i=this._geometryInfo[e];return t.vertexStart=i.vertexStart,t.vertexCount=i.vertexCount,t.reservedVertexCount=i.reservedVertexCount,t.indexStart=i.indexStart,t.indexCount=i.indexCount,t.reservedIndexCount=i.reservedIndexCount,t.start=i.start,t.count=i.count,t}setInstanceCount(e){const t=this._availableInstanceIds,i=this._instanceInfo;for(t.sort(BO);t[t.length-1]===i.length;)i.pop(),t.pop();if(e<i.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const r=new Int32Array(e),s=new Int32Array(e);rg(this._multiDrawCounts,r),rg(this._multiDrawStarts,s),this._multiDrawCounts=r,this._multiDrawStarts=s,this._maxInstanceCount=e;const a=this._indirectTexture,o=this._matricesTexture,l=this._colorsTexture;a.dispose(),this._initIndirectTexture(),rg(a.image.data,this._indirectTexture.image.data),o.dispose(),this._initMatricesTexture(),rg(o.image.data,this._matricesTexture.image.data),l&&(l.dispose(),this._initColorsTexture(),rg(l.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const i=[...this._geometryInfo].filter(o=>o.active);if(Math.max(...i.map(o=>o.vertexStart+o.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...i.map(l=>l.indexStart+l.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const s=this.geometry;s.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new Un,this._initializeGeometry(s));const a=this.geometry;s.index&&rg(s.index.array,a.index.array);for(const o in s.attributes)rg(s.attributes[o].array,a.attributes[o].array)}raycast(e,t){const i=this._instanceInfo,r=this._geometryInfo,s=this.matrixWorld,a=this.geometry;$a.material=this.material,$a.geometry.index=a.index,$a.geometry.attributes=a.attributes,$a.geometry.boundingBox===null&&($a.geometry.boundingBox=new ra),$a.geometry.boundingSphere===null&&($a.geometry.boundingSphere=new sa);for(let o=0,l=i.length;o<l;o++){if(!i[o].visible||!i[o].active)continue;const u=i[o].geometryIndex,h=r[u];$a.geometry.setDrawRange(h.start,h.count),this.getMatrixAt(o,$a.matrixWorld).premultiply(s),this.getBoundingBoxAt(u,$a.geometry.boundingBox),this.getBoundingSphereAt(u,$a.geometry.boundingSphere),$a.raycast(e,jT);for(let p=0,y=jT.length;p<y;p++){const v=jT[p];v.object=this,v.batchId=o,t.push(v)}jT.length=0}$a.material=null,$a.geometry.index=null,$a.geometry.attributes={},$a.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,i,r,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const a=r.getIndex(),o=a===null?1:a.array.BYTES_PER_ELEMENT,l=this._instanceInfo,u=this._multiDrawStarts,h=this._multiDrawCounts,p=this._geometryInfo,y=this.perObjectFrustumCulled,v=this._indirectTexture,_=v.image.data,x=i.isArrayCamera?Toe:uz;y&&!i.isArrayCamera&&(Xo.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),uz.setFromProjectionMatrix(Xo,e.coordinateSystem));let E=0;if(this.sortObjects){Xo.copy(this.matrixWorld).invert(),c1.setFromMatrixPosition(i.matrixWorld).applyMatrix4(Xo),fz.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(Xo);for(let C=0,A=l.length;C<A;C++)if(l[C].visible&&l[C].active){const N=l[C].geometryIndex;this.getMatrixAt(C,Xo),this.getBoundingSphereAt(N,ig).applyMatrix4(Xo);let L=!1;if(y&&(L=!x.intersectsSphere(ig,i)),!L){const I=p[N],D=woe.subVectors(ig.center,c1).dot(fz);FO.push(I.start,I.count,D,C)}}const S=FO.list,w=this.customSort;w===null?S.sort(s.transparent?xoe:boe):w.call(this,S,i);for(let C=0,A=S.length;C<A;C++){const N=S[C];u[E]=N.start*o,h[E]=N.count,_[E]=N.index,E++}FO.reset()}else for(let S=0,w=l.length;S<w;S++)if(l[S].visible&&l[S].active){const C=l[S].geometryIndex;let A=!1;if(y&&(this.getMatrixAt(S,Xo),this.getBoundingSphereAt(C,ig).applyMatrix4(Xo),A=!x.intersectsSphere(ig,i)),!A){const N=p[C];u[E]=N.start*o,h[E]=N.count,_[E]=S,E++}}v.needsUpdate=!0,this._multiDrawCount=E,this._visibilityChanged=!1}onBeforeShadow(e,t,i,r,s,a){this.onBeforeRender(e,null,r,s,a)}}class ro extends io{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Lt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const kC=new fe,zC=new fe,hz=new an,u1=new A_,GT=new sa,VO=new fe,dz=new fe;class nd extends yi{constructor(e=new Un,t=new ro){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let r=1,s=t.count;r<s;r++)kC.fromBufferAttribute(t,r-1),zC.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=kC.distanceTo(zC);e.setAttribute("lineDistance",new Vt(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,a=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),GT.copy(i.boundingSphere),GT.applyMatrix4(r),GT.radius+=s,e.ray.intersectsSphere(GT)===!1)return;hz.copy(r).invert(),u1.copy(e.ray).applyMatrix4(hz);const o=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,u=this.isLineSegments?2:1,h=i.index,y=i.attributes.position;if(h!==null){const v=Math.max(0,a.start),_=Math.min(h.count,a.start+a.count);for(let x=v,E=_-1;x<E;x+=u){const S=h.getX(x),w=h.getX(x+1),C=qT(this,e,u1,l,S,w,x);C&&t.push(C)}if(this.isLineLoop){const x=h.getX(_-1),E=h.getX(v),S=qT(this,e,u1,l,x,E,_-1);S&&t.push(S)}}else{const v=Math.max(0,a.start),_=Math.min(y.count,a.start+a.count);for(let x=v,E=_-1;x<E;x+=u){const S=qT(this,e,u1,l,x,x+1,x);S&&t.push(S)}if(this.isLineLoop){const x=qT(this,e,u1,l,_-1,v,_-1);x&&t.push(x)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){const o=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}}function qT(n,e,t,i,r,s,a){const o=n.geometry.attributes.position;if(kC.fromBufferAttribute(o,r),zC.fromBufferAttribute(o,s),t.distanceSqToSegment(kC,zC,VO,dz)>i)return;VO.applyMatrix4(n.matrixWorld);const u=e.ray.origin.distanceTo(VO);if(!(u<e.near||u>e.far))return{distance:u,point:dz.clone().applyMatrix4(n.matrixWorld),index:a,face:null,faceIndex:null,barycoord:null,object:n}}const pz=new fe,mz=new fe;class kf extends nd{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let r=0,s=t.count;r<s;r+=2)pz.fromBufferAttribute(t,r),mz.fromBufferAttribute(t,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+pz.distanceTo(mz);e.setAttribute("lineDistance",new Vt(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class hG extends nd{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class rL extends io{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Lt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const gz=new an,yP=new A_,WT=new sa,$T=new fe;class dG extends yi{constructor(e=new Un,t=new rL){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,a=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),WT.copy(i.boundingSphere),WT.applyMatrix4(r),WT.radius+=s,e.ray.intersectsSphere(WT)===!1)return;gz.copy(r).invert(),yP.copy(e.ray).applyMatrix4(gz);const o=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,u=i.index,p=i.attributes.position;if(u!==null){const y=Math.max(0,a.start),v=Math.min(u.count,a.start+a.count);for(let _=y,x=v;_<x;_++){const E=u.getX(_);$T.fromBufferAttribute(p,E),yz($T,E,l,r,e,t,this)}}else{const y=Math.max(0,a.start),v=Math.min(p.count,a.start+a.count);for(let _=y,x=v;_<x;_++)$T.fromBufferAttribute(p,_),yz($T,_,l,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){const o=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}}function yz(n,e,t,i,r,s,a){const o=yP.distanceSqToPoint(n);if(o<t){const l=new fe;yP.closestPointToPoint(n,l),l.applyMatrix4(i);const u=r.ray.origin.distanceTo(l);if(u<r.near||u>r.far)return;s.push({distance:u,distanceToRay:Math.sqrt(o),point:l,index:e,face:null,faceIndex:null,barycoord:null,object:a})}}class pG extends rs{constructor(e,t,i,r,s=ps,a=ps,o,l,u){super(e,t,i,r,s,a,o,l,u),this.isVideoTexture=!0,this.generateMipmaps=!1;const h=this;function p(){h.needsUpdate=!0,e.requestVideoFrameCallback(p)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(p)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Aoe extends pG{constructor(e,t,i,r,s,a,o,l){super({},e,t,i,r,s,a,o,l),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class Moe extends rs{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=wa,this.minFilter=wa,this.generateMipmaps=!1,this.needsUpdate=!0}}class oM extends rs{constructor(e,t,i,r,s,a,o,l,u,h,p,y){super(null,a,o,l,u,h,r,s,p,y),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class Roe extends oM{constructor(e,t,i,r,s,a){super(e,t,i,s,a),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=wc,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Ooe extends oM{constructor(e,t,i){super(void 0,e[0].width,e[0].height,t,i,ed),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class sL extends rs{constructor(e,t,i,r,s,a,o,l,u){super(e,t,i,r,s,a,o,l,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class LS extends rs{constructor(e,t,i=td,r,s,a,o=wa,l=wa,u,h=K0){if(h!==K0&&h!==Z0)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");super(null,r,s,a,o,l,h,i,u),this.isDepthTexture=!0,this.image={width:e,height:t},this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new Cp(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class Ioe extends LS{constructor(e=1,t=1,i=1){super(e,t),this.isDepthArrayTexture=!0,this.image={width:e,height:t,depth:i},this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class lM extends Un{constructor(e=1,t=1,i=4,r=8,s=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:i,radialSegments:r,heightSegments:s},t=Math.max(0,t),i=Math.max(1,Math.floor(i)),r=Math.max(3,Math.floor(r)),s=Math.max(1,Math.floor(s));const a=[],o=[],l=[],u=[],h=t/2,p=Math.PI/2*e,y=t,v=2*p+y,_=i*2+s,x=r+1,E=new fe,S=new fe;for(let w=0;w<=_;w++){let C=0,A=0,N=0,L=0;if(w<=i){const P=w/i,U=P*Math.PI/2;A=-h-e*Math.cos(U),N=e*Math.sin(U),L=-e*Math.cos(U),C=P*p}else if(w<=i+s){const P=(w-i)/s;A=-h+P*t,N=e,L=0,C=p+P*y}else{const P=(w-i-s)/i,U=P*Math.PI/2;A=h+e*Math.sin(U),N=e*Math.cos(U),L=e*Math.sin(U),C=p+y+P*p}const I=Math.max(0,Math.min(1,C/v));let D=0;w===0?D=.5/r:w===_&&(D=-.5/r);for(let P=0;P<=r;P++){const U=P/r,F=U*Math.PI*2,z=Math.sin(F),V=Math.cos(F);S.x=-N*V,S.y=A,S.z=N*z,o.push(S.x,S.y,S.z),E.set(-N*V,L,N*z),E.normalize(),l.push(E.x,E.y,E.z),u.push(U+D,I)}if(w>0){const P=(w-1)*x;for(let U=0;U<r;U++){const F=P+U,z=P+U+1,V=w*x+U,K=w*x+U+1;a.push(F,z,V),a.push(z,K,V)}}}this.setIndex(a),this.setAttribute("position",new Vt(o,3)),this.setAttribute("normal",new Vt(l,3)),this.setAttribute("uv",new Vt(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new lM(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class cM extends Un{constructor(e=1,t=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r},t=Math.max(3,t);const s=[],a=[],o=[],l=[],u=new fe,h=new it;a.push(0,0,0),o.push(0,0,1),l.push(.5,.5);for(let p=0,y=3;p<=t;p++,y+=3){const v=i+p/t*r;u.x=e*Math.cos(v),u.y=e*Math.sin(v),a.push(u.x,u.y,u.z),o.push(0,0,1),h.x=(a[y]/e+1)/2,h.y=(a[y+1]/e+1)/2,l.push(h.x,h.y)}for(let p=1;p<=t;p++)s.push(p,p+1,0);this.setIndex(s),this.setAttribute("position",new Vt(a,3)),this.setAttribute("normal",new Vt(o,3)),this.setAttribute("uv",new Vt(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new cM(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class R_ extends Un{constructor(e=1,t=1,i=1,r=32,s=1,a=!1,o=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:s,openEnded:a,thetaStart:o,thetaLength:l};const u=this;r=Math.floor(r),s=Math.floor(s);const h=[],p=[],y=[],v=[];let _=0;const x=[],E=i/2;let S=0;w(),a===!1&&(e>0&&C(!0),t>0&&C(!1)),this.setIndex(h),this.setAttribute("position",new Vt(p,3)),this.setAttribute("normal",new Vt(y,3)),this.setAttribute("uv",new Vt(v,2));function w(){const A=new fe,N=new fe;let L=0;const I=(t-e)/i;for(let D=0;D<=s;D++){const P=[],U=D/s,F=U*(t-e)+e;for(let z=0;z<=r;z++){const V=z/r,K=V*l+o,J=Math.sin(K),q=Math.cos(K);N.x=F*J,N.y=-U*i+E,N.z=F*q,p.push(N.x,N.y,N.z),A.set(J,I,q).normalize(),y.push(A.x,A.y,A.z),v.push(V,1-U),P.push(_++)}x.push(P)}for(let D=0;D<r;D++)for(let P=0;P<s;P++){const U=x[P][D],F=x[P+1][D],z=x[P+1][D+1],V=x[P][D+1];(e>0||P!==0)&&(h.push(U,F,V),L+=3),(t>0||P!==s-1)&&(h.push(F,z,V),L+=3)}u.addGroup(S,L,0),S+=L}function C(A){const N=_,L=new it,I=new fe;let D=0;const P=A===!0?e:t,U=A===!0?1:-1;for(let z=1;z<=r;z++)p.push(0,E*U,0),y.push(0,U,0),v.push(.5,.5),_++;const F=_;for(let z=0;z<=r;z++){const K=z/r*l+o,J=Math.cos(K),q=Math.sin(K);I.x=P*q,I.y=E*U,I.z=P*J,p.push(I.x,I.y,I.z),y.push(0,U,0),L.x=J*.5+.5,L.y=q*.5*U+.5,v.push(L.x,L.y),_++}for(let z=0;z<r;z++){const V=N+z,K=F+z;A===!0?h.push(K,K+1,V):h.push(K+1,K,V),D+=3}u.addGroup(S,D,A===!0?1:2),S+=D}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new R_(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class O_ extends R_{constructor(e=1,t=1,i=32,r=1,s=!1,a=0,o=Math.PI*2){super(0,e,t,i,r,s,a,o),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:a,thetaLength:o}}static fromJSON(e){return new O_(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class nm extends Un{constructor(e=[],t=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:r};const s=[],a=[];o(r),u(i),h(),this.setAttribute("position",new Vt(s,3)),this.setAttribute("normal",new Vt(s.slice(),3)),this.setAttribute("uv",new Vt(a,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function o(w){const C=new fe,A=new fe,N=new fe;for(let L=0;L<t.length;L+=3)v(t[L+0],C),v(t[L+1],A),v(t[L+2],N),l(C,A,N,w)}function l(w,C,A,N){const L=N+1,I=[];for(let D=0;D<=L;D++){I[D]=[];const P=w.clone().lerp(A,D/L),U=C.clone().lerp(A,D/L),F=L-D;for(let z=0;z<=F;z++)z===0&&D===L?I[D][z]=P:I[D][z]=P.clone().lerp(U,z/F)}for(let D=0;D<L;D++)for(let P=0;P<2*(L-D)-1;P++){const U=Math.floor(P/2);P%2===0?(y(I[D][U+1]),y(I[D+1][U]),y(I[D][U])):(y(I[D][U+1]),y(I[D+1][U+1]),y(I[D+1][U]))}}function u(w){const C=new fe;for(let A=0;A<s.length;A+=3)C.x=s[A+0],C.y=s[A+1],C.z=s[A+2],C.normalize().multiplyScalar(w),s[A+0]=C.x,s[A+1]=C.y,s[A+2]=C.z}function h(){const w=new fe;for(let C=0;C<s.length;C+=3){w.x=s[C+0],w.y=s[C+1],w.z=s[C+2];const A=E(w)/2/Math.PI+.5,N=S(w)/Math.PI+.5;a.push(A,1-N)}_(),p()}function p(){for(let w=0;w<a.length;w+=6){const C=a[w+0],A=a[w+2],N=a[w+4],L=Math.max(C,A,N),I=Math.min(C,A,N);L>.9&&I<.1&&(C<.2&&(a[w+0]+=1),A<.2&&(a[w+2]+=1),N<.2&&(a[w+4]+=1))}}function y(w){s.push(w.x,w.y,w.z)}function v(w,C){const A=w*3;C.x=e[A+0],C.y=e[A+1],C.z=e[A+2]}function _(){const w=new fe,C=new fe,A=new fe,N=new fe,L=new it,I=new it,D=new it;for(let P=0,U=0;P<s.length;P+=9,U+=6){w.set(s[P+0],s[P+1],s[P+2]),C.set(s[P+3],s[P+4],s[P+5]),A.set(s[P+6],s[P+7],s[P+8]),L.set(a[U+0],a[U+1]),I.set(a[U+2],a[U+3]),D.set(a[U+4],a[U+5]),N.copy(w).add(C).add(A).divideScalar(3);const F=E(N);x(L,U+0,w,F),x(I,U+2,C,F),x(D,U+4,A,F)}}function x(w,C,A,N){N<0&&w.x===1&&(a[C]=w.x-1),A.x===0&&A.z===0&&(a[C]=N/2/Math.PI+.5)}function E(w){return Math.atan2(w.z,-w.x)}function S(w){return Math.atan2(-w.y,Math.sqrt(w.x*w.x+w.z*w.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new nm(e.vertices,e.indices,e.radius,e.details)}}class uM extends nm{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=1/i,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,a,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new uM(e.radius,e.detail)}}const XT=new fe,YT=new fe,HO=new fe,KT=new tl;class mG extends Un{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),s=Math.cos(Wg*t),a=e.getIndex(),o=e.getAttribute("position"),l=a?a.count:o.count,u=[0,0,0],h=["a","b","c"],p=new Array(3),y={},v=[];for(let _=0;_<l;_+=3){a?(u[0]=a.getX(_),u[1]=a.getX(_+1),u[2]=a.getX(_+2)):(u[0]=_,u[1]=_+1,u[2]=_+2);const{a:x,b:E,c:S}=KT;if(x.fromBufferAttribute(o,u[0]),E.fromBufferAttribute(o,u[1]),S.fromBufferAttribute(o,u[2]),KT.getNormal(HO),p[0]=`${Math.round(x.x*r)},${Math.round(x.y*r)},${Math.round(x.z*r)}`,p[1]=`${Math.round(E.x*r)},${Math.round(E.y*r)},${Math.round(E.z*r)}`,p[2]=`${Math.round(S.x*r)},${Math.round(S.y*r)},${Math.round(S.z*r)}`,!(p[0]===p[1]||p[1]===p[2]||p[2]===p[0]))for(let w=0;w<3;w++){const C=(w+1)%3,A=p[w],N=p[C],L=KT[h[w]],I=KT[h[C]],D=`${A}_${N}`,P=`${N}_${A}`;P in y&&y[P]?(HO.dot(y[P].normal)<=s&&(v.push(L.x,L.y,L.z),v.push(I.x,I.y,I.z)),y[P]=null):D in y||(y[D]={index0:u[w],index1:u[C],normal:HO.clone()})}}for(const _ in y)if(y[_]){const{index0:x,index1:E}=y[_];XT.fromBufferAttribute(o,x),YT.fromBufferAttribute(o,E),v.push(XT.x,XT.y,XT.z),v.push(YT.x,YT.y,YT.z)}this.setAttribute("position",new Vt(v,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class wu{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),s=0;t.push(0);for(let a=1;a<=e;a++)i=this.getPoint(a/e),s+=i.distanceTo(r),t.push(s),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){const i=this.getLengths();let r=0;const s=i.length;let a;t?a=t:a=e*i[s-1];let o=0,l=s-1,u;for(;o<=l;)if(r=Math.floor(o+(l-o)/2),u=i[r]-a,u<0)o=r+1;else if(u>0)l=r-1;else{l=r;break}if(r=l,i[r]===a)return r/(s-1);const h=i[r],y=i[r+1]-h,v=(a-h)/y;return(r+v)/(s-1)}getTangent(e,t){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const a=this.getPoint(r),o=this.getPoint(s),l=t||(a.isVector2?new it:new fe);return l.copy(o).sub(a).normalize(),l}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t=!1){const i=new fe,r=[],s=[],a=[],o=new fe,l=new an;for(let v=0;v<=e;v++){const _=v/e;r[v]=this.getTangentAt(_,new fe)}s[0]=new fe,a[0]=new fe;let u=Number.MAX_VALUE;const h=Math.abs(r[0].x),p=Math.abs(r[0].y),y=Math.abs(r[0].z);h<=u&&(u=h,i.set(1,0,0)),p<=u&&(u=p,i.set(0,1,0)),y<=u&&i.set(0,0,1),o.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],o),a[0].crossVectors(r[0],s[0]);for(let v=1;v<=e;v++){if(s[v]=s[v-1].clone(),a[v]=a[v-1].clone(),o.crossVectors(r[v-1],r[v]),o.length()>Number.EPSILON){o.normalize();const _=Math.acos(Rn(r[v-1].dot(r[v]),-1,1));s[v].applyMatrix4(l.makeRotationAxis(o,_))}a[v].crossVectors(r[v],s[v])}if(t===!0){let v=Math.acos(Rn(s[0].dot(s[e]),-1,1));v/=e,r[0].dot(o.crossVectors(s[0],s[e]))>0&&(v=-v);for(let _=1;_<=e;_++)s[_].applyMatrix4(l.makeRotationAxis(r[_],v*_)),a[_].crossVectors(r[_],s[_])}return{tangents:r,normals:s,binormals:a}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class fM extends wu{constructor(e=0,t=0,i=1,r=1,s=0,a=Math.PI*2,o=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=a,this.aClockwise=o,this.aRotation=l}getPoint(e,t=new it){const i=t,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const a=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(a?s=0:s=r),this.aClockwise===!0&&!a&&(s===r?s=-r:s=s-r);const o=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(o),u=this.aY+this.yRadius*Math.sin(o);if(this.aRotation!==0){const h=Math.cos(this.aRotation),p=Math.sin(this.aRotation),y=l-this.aX,v=u-this.aY;l=y*h-v*p+this.aX,u=y*p+v*h+this.aY}return i.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class gG extends fM{constructor(e,t,i,r,s,a){super(e,t,i,i,r,s,a),this.isArcCurve=!0,this.type="ArcCurve"}}function aL(){let n=0,e=0,t=0,i=0;function r(s,a,o,l){n=s,e=o,t=-3*s+3*a-2*o-l,i=2*s-2*a+o+l}return{initCatmullRom:function(s,a,o,l,u){r(a,o,u*(o-s),u*(l-a))},initNonuniformCatmullRom:function(s,a,o,l,u,h,p){let y=(a-s)/u-(o-s)/(u+h)+(o-a)/h,v=(o-a)/h-(l-a)/(h+p)+(l-o)/p;y*=h,v*=h,r(a,o,y,v)},calc:function(s){const a=s*s,o=a*s;return n+e*s+t*a+i*o}}}const ZT=new fe,jO=new aL,GO=new aL,qO=new aL;class yG extends wu{constructor(e=[],t=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new fe){const i=t,r=this.points,s=r.length,a=(s-(this.closed?0:1))*e;let o=Math.floor(a),l=a-o;this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/s)+1)*s:l===0&&o===s-1&&(o=s-2,l=1);let u,h;this.closed||o>0?u=r[(o-1)%s]:(ZT.subVectors(r[0],r[1]).add(r[0]),u=ZT);const p=r[o%s],y=r[(o+1)%s];if(this.closed||o+2<s?h=r[(o+2)%s]:(ZT.subVectors(r[s-1],r[s-2]).add(r[s-1]),h=ZT),this.curveType==="centripetal"||this.curveType==="chordal"){const v=this.curveType==="chordal"?.5:.25;let _=Math.pow(u.distanceToSquared(p),v),x=Math.pow(p.distanceToSquared(y),v),E=Math.pow(y.distanceToSquared(h),v);x<1e-4&&(x=1),_<1e-4&&(_=x),E<1e-4&&(E=x),jO.initNonuniformCatmullRom(u.x,p.x,y.x,h.x,_,x,E),GO.initNonuniformCatmullRom(u.y,p.y,y.y,h.y,_,x,E),qO.initNonuniformCatmullRom(u.z,p.z,y.z,h.z,_,x,E)}else this.curveType==="catmullrom"&&(jO.initCatmullRom(u.x,p.x,y.x,h.x,this.tension),GO.initCatmullRom(u.y,p.y,y.y,h.y,this.tension),qO.initCatmullRom(u.z,p.z,y.z,h.z,this.tension));return i.set(jO.calc(l),GO.calc(l),qO.calc(l)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new fe().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function vz(n,e,t,i,r){const s=(i-e)*.5,a=(r-t)*.5,o=n*n,l=n*o;return(2*t-2*i+s+a)*l+(-3*t+3*i-2*s-a)*o+s*n+t}function Poe(n,e){const t=1-n;return t*t*e}function Doe(n,e){return 2*(1-n)*n*e}function Noe(n,e){return n*n*e}function gx(n,e,t,i){return Poe(n,e)+Doe(n,t)+Noe(n,i)}function Loe(n,e){const t=1-n;return t*t*t*e}function Uoe(n,e){const t=1-n;return 3*t*t*n*e}function koe(n,e){return 3*(1-n)*n*n*e}function zoe(n,e){return n*n*n*e}function yx(n,e,t,i,r){return Loe(n,e)+Uoe(n,t)+koe(n,i)+zoe(n,r)}class oL extends wu{constructor(e=new it,t=new it,i=new it,r=new it){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new it){const i=t,r=this.v0,s=this.v1,a=this.v2,o=this.v3;return i.set(yx(e,r.x,s.x,a.x,o.x),yx(e,r.y,s.y,a.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class lL extends wu{constructor(e=new fe,t=new fe,i=new fe,r=new fe){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new fe){const i=t,r=this.v0,s=this.v1,a=this.v2,o=this.v3;return i.set(yx(e,r.x,s.x,a.x,o.x),yx(e,r.y,s.y,a.y,o.y),yx(e,r.z,s.z,a.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class cL extends wu{constructor(e=new it,t=new it){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new it){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new it){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class vG extends wu{constructor(e=new fe,t=new fe){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new fe){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new fe){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class uL extends wu{constructor(e=new it,t=new it,i=new it){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new it){const i=t,r=this.v0,s=this.v1,a=this.v2;return i.set(gx(e,r.x,s.x,a.x),gx(e,r.y,s.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class hM extends wu{constructor(e=new fe,t=new fe,i=new fe){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new fe){const i=t,r=this.v0,s=this.v1,a=this.v2;return i.set(gx(e,r.x,s.x,a.x),gx(e,r.y,s.y,a.y),gx(e,r.z,s.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class fL extends wu{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new it){const i=t,r=this.points,s=(r.length-1)*e,a=Math.floor(s),o=s-a,l=r[a===0?a:a-1],u=r[a],h=r[a>r.length-2?r.length-1:a+1],p=r[a>r.length-3?r.length-1:a+2];return i.set(vz(o,l.x,u.x,h.x,p.x),vz(o,l.y,u.y,h.y,p.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new it().fromArray(r))}return this}}var BC=Object.freeze({__proto__:null,ArcCurve:gG,CatmullRomCurve3:yG,CubicBezierCurve:oL,CubicBezierCurve3:lL,EllipseCurve:fM,LineCurve:cL,LineCurve3:vG,QuadraticBezierCurve:uL,QuadraticBezierCurve3:hM,SplineCurve:fL});class _G extends wu{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new BC[i](t,e))}return this}getPoint(e,t){const i=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const a=r[s]-i,o=this.curves[s],l=o.getLength(),u=l===0?0:1-a/l;return o.getPointAt(u,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const a=s[r],o=a.isEllipseCurve?e*2:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,l=a.getPoints(o);for(let u=0;u<l.length;u++){const h=l[u];i&&i.equals(h)||(t.push(h),i=h)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(new BC[r.type]().fromJSON(r))}return this}}class FC extends _G{constructor(e){super(),this.type="Path",this.currentPoint=new it,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new cL(this.currentPoint.clone(),new it(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){const s=new uL(this.currentPoint.clone(),new it(e,t),new it(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,s,a){const o=new oL(this.currentPoint.clone(),new it(e,t),new it(i,r),new it(s,a));return this.curves.push(o),this.currentPoint.set(s,a),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new fL(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,s,a){const o=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+o,t+l,i,r,s,a),this}absarc(e,t,i,r,s,a){return this.absellipse(e,t,i,i,r,s,a),this}ellipse(e,t,i,r,s,a,o,l){const u=this.currentPoint.x,h=this.currentPoint.y;return this.absellipse(e+u,t+h,i,r,s,a,o,l),this}absellipse(e,t,i,r,s,a,o,l){const u=new fM(e,t,i,r,s,a,o,l);if(this.curves.length>0){const p=u.getPoint(0);p.equals(this.currentPoint)||this.lineTo(p.x,p.y)}this.curves.push(u);const h=u.getPoint(1);return this.currentPoint.copy(h),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class $g extends FC{constructor(e){super(e),this.uuid=Ul(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(new FC().fromJSON(r))}return this}}function Boe(n,e,t=2){const i=e&&e.length,r=i?e[0]*t:n.length;let s=bG(n,0,r,t,!0);const a=[];if(!s||s.next===s.prev)return a;let o,l,u;if(i&&(s=Goe(n,e,s,t)),n.length>80*t){o=1/0,l=1/0;let h=-1/0,p=-1/0;for(let y=t;y<r;y+=t){const v=n[y],_=n[y+1];v<o&&(o=v),_<l&&(l=_),v>h&&(h=v),_>p&&(p=_)}u=Math.max(h-o,p-l),u=u!==0?32767/u:0}return Jx(s,a,t,o,l,u,0),a}function bG(n,e,t,i,r){let s;if(r===tle(n,e,t,i)>0)for(let a=e;a<t;a+=i)s=_z(a/i|0,n[a],n[a+1],s);else for(let a=t-i;a>=e;a-=i)s=_z(a/i|0,n[a],n[a+1],s);return s&&n_(s,s.next)&&(tS(s),s=s.next),s}function ny(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(n_(t,t.next)||zr(t.prev,t,t.next)===0)){if(tS(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function Jx(n,e,t,i,r,s,a){if(!n)return;!a&&s&&Yoe(n,i,r,s);let o=n;for(;n.prev!==n.next;){const l=n.prev,u=n.next;if(s?Voe(n,i,r,s):Foe(n)){e.push(l.i,n.i,u.i),tS(n),n=u.next,o=u.next;continue}if(n=u,n===o){a?a===1?(n=Hoe(ny(n),e),Jx(n,e,t,i,r,s,2)):a===2&&joe(n,e,t,i,r,s):Jx(ny(n),e,t,i,r,s,1);break}}}function Foe(n){const e=n.prev,t=n,i=n.next;if(zr(e,t,i)>=0)return!1;const r=e.x,s=t.x,a=i.x,o=e.y,l=t.y,u=i.y,h=Math.min(r,s,a),p=Math.min(o,l,u),y=Math.max(r,s,a),v=Math.max(o,l,u);let _=i.next;for(;_!==e;){if(_.x>=h&&_.x<=y&&_.y>=p&&_.y<=v&&V1(r,o,s,l,a,u,_.x,_.y)&&zr(_.prev,_,_.next)>=0)return!1;_=_.next}return!0}function Voe(n,e,t,i){const r=n.prev,s=n,a=n.next;if(zr(r,s,a)>=0)return!1;const o=r.x,l=s.x,u=a.x,h=r.y,p=s.y,y=a.y,v=Math.min(o,l,u),_=Math.min(h,p,y),x=Math.max(o,l,u),E=Math.max(h,p,y),S=vP(v,_,e,t,i),w=vP(x,E,e,t,i);let C=n.prevZ,A=n.nextZ;for(;C&&C.z>=S&&A&&A.z<=w;){if(C.x>=v&&C.x<=x&&C.y>=_&&C.y<=E&&C!==r&&C!==a&&V1(o,h,l,p,u,y,C.x,C.y)&&zr(C.prev,C,C.next)>=0||(C=C.prevZ,A.x>=v&&A.x<=x&&A.y>=_&&A.y<=E&&A!==r&&A!==a&&V1(o,h,l,p,u,y,A.x,A.y)&&zr(A.prev,A,A.next)>=0))return!1;A=A.nextZ}for(;C&&C.z>=S;){if(C.x>=v&&C.x<=x&&C.y>=_&&C.y<=E&&C!==r&&C!==a&&V1(o,h,l,p,u,y,C.x,C.y)&&zr(C.prev,C,C.next)>=0)return!1;C=C.prevZ}for(;A&&A.z<=w;){if(A.x>=v&&A.x<=x&&A.y>=_&&A.y<=E&&A!==r&&A!==a&&V1(o,h,l,p,u,y,A.x,A.y)&&zr(A.prev,A,A.next)>=0)return!1;A=A.nextZ}return!0}function Hoe(n,e){let t=n;do{const i=t.prev,r=t.next.next;!n_(i,r)&&SG(i,t,t.next,r)&&eS(i,r)&&eS(r,i)&&(e.push(i.i,t.i,r.i),tS(t),tS(t.next),t=n=r),t=t.next}while(t!==n);return ny(t)}function joe(n,e,t,i,r,s){let a=n;do{let o=a.next.next;for(;o!==a.prev;){if(a.i!==o.i&&Qoe(a,o)){let l=EG(a,o);a=ny(a,a.next),l=ny(l,l.next),Jx(a,e,t,i,r,s,0),Jx(l,e,t,i,r,s,0);return}o=o.next}a=a.next}while(a!==n)}function Goe(n,e,t,i){const r=[];for(let s=0,a=e.length;s<a;s++){const o=e[s]*i,l=s<a-1?e[s+1]*i:n.length,u=bG(n,o,l,i,!1);u===u.next&&(u.steiner=!0),r.push(Zoe(u))}r.sort(qoe);for(let s=0;s<r.length;s++)t=Woe(r[s],t);return t}function qoe(n,e){let t=n.x-e.x;if(t===0&&(t=n.y-e.y,t===0)){const i=(n.next.y-n.y)/(n.next.x-n.x),r=(e.next.y-e.y)/(e.next.x-e.x);t=i-r}return t}function Woe(n,e){const t=$oe(n,e);if(!t)return e;const i=EG(t,n);return ny(i,i.next),ny(t,t.next)}function $oe(n,e){let t=e;const i=n.x,r=n.y;let s=-1/0,a;if(n_(n,t))return t;do{if(n_(n,t.next))return t.next;if(r<=t.y&&r>=t.next.y&&t.next.y!==t.y){const p=t.x+(r-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(p<=i&&p>s&&(s=p,a=t.x<t.next.x?t:t.next,p===i))return a}t=t.next}while(t!==e);if(!a)return null;const o=a,l=a.x,u=a.y;let h=1/0;t=a;do{if(i>=t.x&&t.x>=l&&i!==t.x&&xG(r<u?i:s,r,l,u,r<u?s:i,r,t.x,t.y)){const p=Math.abs(r-t.y)/(i-t.x);eS(t,n)&&(p<h||p===h&&(t.x>a.x||t.x===a.x&&Xoe(a,t)))&&(a=t,h=p)}t=t.next}while(t!==o);return a}function Xoe(n,e){return zr(n.prev,n,e.prev)<0&&zr(e.next,n,n.next)<0}function Yoe(n,e,t,i){let r=n;do r.z===0&&(r.z=vP(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,Koe(r)}function Koe(n){let e,t=1;do{let i=n,r;n=null;let s=null;for(e=0;i;){e++;let a=i,o=0;for(let u=0;u<t&&(o++,a=a.nextZ,!!a);u++);let l=t;for(;o>0||l>0&&a;)o!==0&&(l===0||!a||i.z<=a.z)?(r=i,i=i.nextZ,o--):(r=a,a=a.nextZ,l--),s?s.nextZ=r:n=r,r.prevZ=s,s=r;i=a}s.nextZ=null,t*=2}while(e>1);return n}function vP(n,e,t,i,r){return n=(n-t)*r|0,e=(e-i)*r|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function Zoe(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function xG(n,e,t,i,r,s,a,o){return(r-a)*(e-o)>=(n-a)*(s-o)&&(n-a)*(i-o)>=(t-a)*(e-o)&&(t-a)*(s-o)>=(r-a)*(i-o)}function V1(n,e,t,i,r,s,a,o){return!(n===a&&e===o)&&xG(n,e,t,i,r,s,a,o)}function Qoe(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!Joe(n,e)&&(eS(n,e)&&eS(e,n)&&ele(n,e)&&(zr(n.prev,n,e.prev)||zr(n,e.prev,e))||n_(n,e)&&zr(n.prev,n,n.next)>0&&zr(e.prev,e,e.next)>0)}function zr(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function n_(n,e){return n.x===e.x&&n.y===e.y}function SG(n,e,t,i){const r=JT(zr(n,e,t)),s=JT(zr(n,e,i)),a=JT(zr(t,i,n)),o=JT(zr(t,i,e));return!!(r!==s&&a!==o||r===0&&QT(n,t,e)||s===0&&QT(n,i,e)||a===0&&QT(t,n,i)||o===0&&QT(t,e,i))}function QT(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function JT(n){return n>0?1:n<0?-1:0}function Joe(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&SG(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function eS(n,e){return zr(n.prev,n,n.next)<0?zr(n,e,n.next)>=0&&zr(n,n.prev,e)>=0:zr(n,e,n.prev)<0||zr(n,n.next,e)<0}function ele(n,e){let t=n,i=!1;const r=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function EG(n,e){const t=_P(n.i,n.x,n.y),i=_P(e.i,e.x,e.y),r=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,s.next=i,i.prev=s,i}function _z(n,e,t,i){const r=_P(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function tS(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function _P(n,e,t){return{i:n,x:e,y:t,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function tle(n,e,t,i){let r=0;for(let s=e,a=t-i;s<t;s+=i)r+=(n[a]-n[s])*(n[s+1]+n[a+1]),a=s;return r}class nle{static triangulate(e,t,i=2){return Boe(e,t,i)}}class gu{static area(e){const t=e.length;let i=0;for(let r=t-1,s=0;s<t;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return i*.5}static isClockWise(e){return gu.area(e)<0}static triangulateShape(e,t){const i=[],r=[],s=[];bz(e),xz(i,e);let a=e.length;t.forEach(bz);for(let l=0;l<t.length;l++)r.push(a),a+=t[l].length,xz(i,t[l]);const o=nle.triangulate(i,r);for(let l=0;l<o.length;l+=3)s.push(o.slice(l,l+3));return s}}function bz(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function xz(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class dM extends Un{constructor(e=new $g([new it(.5,.5),new it(-.5,.5),new it(-.5,-.5),new it(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,r=[],s=[];for(let o=0,l=e.length;o<l;o++){const u=e[o];a(u)}this.setAttribute("position",new Vt(r,3)),this.setAttribute("uv",new Vt(s,2)),this.computeVertexNormals();function a(o){const l=[],u=t.curveSegments!==void 0?t.curveSegments:12,h=t.steps!==void 0?t.steps:1,p=t.depth!==void 0?t.depth:1;let y=t.bevelEnabled!==void 0?t.bevelEnabled:!0,v=t.bevelThickness!==void 0?t.bevelThickness:.2,_=t.bevelSize!==void 0?t.bevelSize:v-.1,x=t.bevelOffset!==void 0?t.bevelOffset:0,E=t.bevelSegments!==void 0?t.bevelSegments:3;const S=t.extrudePath,w=t.UVGenerator!==void 0?t.UVGenerator:ile;let C,A=!1,N,L,I,D;S&&(C=S.getSpacedPoints(h),A=!0,y=!1,N=S.computeFrenetFrames(h,!1),L=new fe,I=new fe,D=new fe),y||(E=0,v=0,_=0,x=0);const P=o.extractPoints(u);let U=P.shape;const F=P.holes;if(!gu.isClockWise(U)){U=U.reverse();for(let te=0,Ie=F.length;te<Ie;te++){const Ve=F[te];gu.isClockWise(Ve)&&(F[te]=Ve.reverse())}}function V(te){const Ve=10000000000000001e-36;let Ue=te[0];for(let Re=1;Re<=te.length;Re++){const ut=Re%te.length,We=te[ut],ae=We.x-Ue.x,ee=We.y-Ue.y,Ee=ae*ae+ee*ee,Me=Math.max(Math.abs(We.x),Math.abs(We.y),Math.abs(Ue.x),Math.abs(Ue.y)),Qe=Ve*Me*Me;if(Ee<=Qe){te.splice(ut,1),Re--;continue}Ue=We}}V(U),F.forEach(V);const K=F.length,J=U;for(let te=0;te<K;te++){const Ie=F[te];U=U.concat(Ie)}function q(te,Ie,Ve){return Ie||console.error("THREE.ExtrudeGeometry: vec does not exist"),te.clone().addScaledVector(Ie,Ve)}const W=U.length;function Q(te,Ie,Ve){let Ue,Re,ut;const We=te.x-Ie.x,ae=te.y-Ie.y,ee=Ve.x-te.x,Ee=Ve.y-te.y,Me=We*We+ae*ae,Qe=We*Ee-ae*ee;if(Math.abs(Qe)>Number.EPSILON){const Oe=Math.sqrt(Me),ct=Math.sqrt(ee*ee+Ee*Ee),lt=Ie.x-ae/Oe,Dt=Ie.y+We/Oe,Ut=Ve.x-Ee/ct,Xe=Ve.y+ee/ct,mt=((Ut-lt)*Ee-(Xe-Dt)*ee)/(We*Ee-ae*ee);Ue=lt+We*mt-te.x,Re=Dt+ae*mt-te.y;const At=Ue*Ue+Re*Re;if(At<=2)return new it(Ue,Re);ut=Math.sqrt(At/2)}else{let Oe=!1;We>Number.EPSILON?ee>Number.EPSILON&&(Oe=!0):We<-Number.EPSILON?ee<-Number.EPSILON&&(Oe=!0):Math.sign(ae)===Math.sign(Ee)&&(Oe=!0),Oe?(Ue=-ae,Re=We,ut=Math.sqrt(Me)):(Ue=We,Re=ae,ut=Math.sqrt(Me/2))}return new it(Ue/ut,Re/ut)}const re=[];for(let te=0,Ie=J.length,Ve=Ie-1,Ue=te+1;te<Ie;te++,Ve++,Ue++)Ve===Ie&&(Ve=0),Ue===Ie&&(Ue=0),re[te]=Q(J[te],J[Ve],J[Ue]);const pe=[];let Y,le=re.concat();for(let te=0,Ie=K;te<Ie;te++){const Ve=F[te];Y=[];for(let Ue=0,Re=Ve.length,ut=Re-1,We=Ue+1;Ue<Re;Ue++,ut++,We++)ut===Re&&(ut=0),We===Re&&(We=0),Y[Ue]=Q(Ve[Ue],Ve[ut],Ve[We]);pe.push(Y),le=le.concat(Y)}let de;if(E===0)de=gu.triangulateShape(J,F);else{const te=[],Ie=[];for(let Ve=0;Ve<E;Ve++){const Ue=Ve/E,Re=v*Math.cos(Ue*Math.PI/2),ut=_*Math.sin(Ue*Math.PI/2)+x;for(let We=0,ae=J.length;We<ae;We++){const ee=q(J[We],re[We],ut);Ye(ee.x,ee.y,-Re),Ue===0&&te.push(ee)}for(let We=0,ae=K;We<ae;We++){const ee=F[We];Y=pe[We];const Ee=[];for(let Me=0,Qe=ee.length;Me<Qe;Me++){const Oe=q(ee[Me],Y[Me],ut);Ye(Oe.x,Oe.y,-Re),Ue===0&&Ee.push(Oe)}Ue===0&&Ie.push(Ee)}}de=gu.triangulateShape(te,Ie)}const ue=de.length,ne=_+x;for(let te=0;te<W;te++){const Ie=y?q(U[te],le[te],ne):U[te];A?(I.copy(N.normals[0]).multiplyScalar(Ie.x),L.copy(N.binormals[0]).multiplyScalar(Ie.y),D.copy(C[0]).add(I).add(L),Ye(D.x,D.y,D.z)):Ye(Ie.x,Ie.y,0)}for(let te=1;te<=h;te++)for(let Ie=0;Ie<W;Ie++){const Ve=y?q(U[Ie],le[Ie],ne):U[Ie];A?(I.copy(N.normals[te]).multiplyScalar(Ve.x),L.copy(N.binormals[te]).multiplyScalar(Ve.y),D.copy(C[te]).add(I).add(L),Ye(D.x,D.y,D.z)):Ye(Ve.x,Ve.y,p/h*te)}for(let te=E-1;te>=0;te--){const Ie=te/E,Ve=v*Math.cos(Ie*Math.PI/2),Ue=_*Math.sin(Ie*Math.PI/2)+x;for(let Re=0,ut=J.length;Re<ut;Re++){const We=q(J[Re],re[Re],Ue);Ye(We.x,We.y,p+Ve)}for(let Re=0,ut=F.length;Re<ut;Re++){const We=F[Re];Y=pe[Re];for(let ae=0,ee=We.length;ae<ee;ae++){const Ee=q(We[ae],Y[ae],Ue);A?Ye(Ee.x,Ee.y+C[h-1].y,C[h-1].x+Ve):Ye(Ee.x,Ee.y,p+Ve)}}}he(),me();function he(){const te=r.length/3;if(y){let Ie=0,Ve=W*Ie;for(let Ue=0;Ue<ue;Ue++){const Re=de[Ue];je(Re[2]+Ve,Re[1]+Ve,Re[0]+Ve)}Ie=h+E*2,Ve=W*Ie;for(let Ue=0;Ue<ue;Ue++){const Re=de[Ue];je(Re[0]+Ve,Re[1]+Ve,Re[2]+Ve)}}else{for(let Ie=0;Ie<ue;Ie++){const Ve=de[Ie];je(Ve[2],Ve[1],Ve[0])}for(let Ie=0;Ie<ue;Ie++){const Ve=de[Ie];je(Ve[0]+W*h,Ve[1]+W*h,Ve[2]+W*h)}}i.addGroup(te,r.length/3-te,0)}function me(){const te=r.length/3;let Ie=0;Le(J,Ie),Ie+=J.length;for(let Ve=0,Ue=F.length;Ve<Ue;Ve++){const Re=F[Ve];Le(Re,Ie),Ie+=Re.length}i.addGroup(te,r.length/3-te,1)}function Le(te,Ie){let Ve=te.length;for(;--Ve>=0;){const Ue=Ve;let Re=Ve-1;Re<0&&(Re=te.length-1);for(let ut=0,We=h+E*2;ut<We;ut++){const ae=W*ut,ee=W*(ut+1),Ee=Ie+Ue+ae,Me=Ie+Re+ae,Qe=Ie+Re+ee,Oe=Ie+Ue+ee;rt(Ee,Me,Qe,Oe)}}}function Ye(te,Ie,Ve){l.push(te),l.push(Ie),l.push(Ve)}function je(te,Ie,Ve){ot(te),ot(Ie),ot(Ve);const Ue=r.length/3,Re=w.generateTopUV(i,r,Ue-3,Ue-2,Ue-1);dt(Re[0]),dt(Re[1]),dt(Re[2])}function rt(te,Ie,Ve,Ue){ot(te),ot(Ie),ot(Ue),ot(Ie),ot(Ve),ot(Ue);const Re=r.length/3,ut=w.generateSideWallUV(i,r,Re-6,Re-3,Re-2,Re-1);dt(ut[0]),dt(ut[1]),dt(ut[3]),dt(ut[1]),dt(ut[2]),dt(ut[3])}function ot(te){r.push(l[te*3+0]),r.push(l[te*3+1]),r.push(l[te*3+2])}function dt(te){s.push(te.x),s.push(te.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return rle(t,i,e)}static fromJSON(e,t){const i=[];for(let s=0,a=e.shapes.length;s<a;s++){const o=t[e.shapes[s]];i.push(o)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new BC[r.type]().fromJSON(r)),new dM(i,e.options)}}const ile={generateTopUV:function(n,e,t,i,r){const s=e[t*3],a=e[t*3+1],o=e[i*3],l=e[i*3+1],u=e[r*3],h=e[r*3+1];return[new it(s,a),new it(o,l),new it(u,h)]},generateSideWallUV:function(n,e,t,i,r,s){const a=e[t*3],o=e[t*3+1],l=e[t*3+2],u=e[i*3],h=e[i*3+1],p=e[i*3+2],y=e[r*3],v=e[r*3+1],_=e[r*3+2],x=e[s*3],E=e[s*3+1],S=e[s*3+2];return Math.abs(o-h)<Math.abs(a-u)?[new it(a,1-l),new it(u,1-p),new it(y,1-_),new it(x,1-S)]:[new it(o,1-l),new it(h,1-p),new it(v,1-_),new it(E,1-S)]}};function rle(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++){const s=n[i];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class pM extends nm{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new pM(e.radius,e.detail)}}class mM extends Un{constructor(e=[new it(0,-.5),new it(.5,0),new it(0,.5)],t=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:r},t=Math.floor(t),r=Rn(r,0,Math.PI*2);const s=[],a=[],o=[],l=[],u=[],h=1/t,p=new fe,y=new it,v=new fe,_=new fe,x=new fe;let E=0,S=0;for(let w=0;w<=e.length-1;w++)switch(w){case 0:E=e[w+1].x-e[w].x,S=e[w+1].y-e[w].y,v.x=S*1,v.y=-E,v.z=S*0,x.copy(v),v.normalize(),l.push(v.x,v.y,v.z);break;case e.length-1:l.push(x.x,x.y,x.z);break;default:E=e[w+1].x-e[w].x,S=e[w+1].y-e[w].y,v.x=S*1,v.y=-E,v.z=S*0,_.copy(v),v.x+=x.x,v.y+=x.y,v.z+=x.z,v.normalize(),l.push(v.x,v.y,v.z),x.copy(_)}for(let w=0;w<=t;w++){const C=i+w*h*r,A=Math.sin(C),N=Math.cos(C);for(let L=0;L<=e.length-1;L++){p.x=e[L].x*A,p.y=e[L].y,p.z=e[L].x*N,a.push(p.x,p.y,p.z),y.x=w/t,y.y=L/(e.length-1),o.push(y.x,y.y);const I=l[3*L+0]*A,D=l[3*L+1],P=l[3*L+0]*N;u.push(I,D,P)}}for(let w=0;w<t;w++)for(let C=0;C<e.length-1;C++){const A=C+w*e.length,N=A,L=A+e.length,I=A+e.length+1,D=A+1;s.push(N,L,D),s.push(I,D,L)}this.setIndex(s),this.setAttribute("position",new Vt(a,3)),this.setAttribute("uv",new Vt(o,2)),this.setAttribute("normal",new Vt(u,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new mM(e.points,e.segments,e.phiStart,e.phiLength)}}class US extends nm{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new US(e.radius,e.detail)}}class I_ extends Un{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const s=e/2,a=t/2,o=Math.floor(i),l=Math.floor(r),u=o+1,h=l+1,p=e/o,y=t/l,v=[],_=[],x=[],E=[];for(let S=0;S<h;S++){const w=S*y-a;for(let C=0;C<u;C++){const A=C*p-s;_.push(A,-w,0),x.push(0,0,1),E.push(C/o),E.push(1-S/l)}}for(let S=0;S<l;S++)for(let w=0;w<o;w++){const C=w+u*S,A=w+u*(S+1),N=w+1+u*(S+1),L=w+1+u*S;v.push(C,A,L),v.push(A,N,L)}this.setIndex(v),this.setAttribute("position",new Vt(_,3)),this.setAttribute("normal",new Vt(x,3)),this.setAttribute("uv",new Vt(E,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new I_(e.width,e.height,e.widthSegments,e.heightSegments)}}class gM extends Un{constructor(e=.5,t=1,i=32,r=1,s=0,a=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:s,thetaLength:a},i=Math.max(3,i),r=Math.max(1,r);const o=[],l=[],u=[],h=[];let p=e;const y=(t-e)/r,v=new fe,_=new it;for(let x=0;x<=r;x++){for(let E=0;E<=i;E++){const S=s+E/i*a;v.x=p*Math.cos(S),v.y=p*Math.sin(S),l.push(v.x,v.y,v.z),u.push(0,0,1),_.x=(v.x/t+1)/2,_.y=(v.y/t+1)/2,h.push(_.x,_.y)}p+=y}for(let x=0;x<r;x++){const E=x*(i+1);for(let S=0;S<i;S++){const w=S+E,C=w,A=w+i+1,N=w+i+2,L=w+1;o.push(C,A,L),o.push(A,N,L)}}this.setIndex(o),this.setAttribute("position",new Vt(l,3)),this.setAttribute("normal",new Vt(u,3)),this.setAttribute("uv",new Vt(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new gM(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class yM extends Un{constructor(e=new $g([new it(0,.5),new it(-.5,-.5),new it(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],r=[],s=[],a=[];let o=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let h=0;h<e.length;h++)u(e[h]),this.addGroup(o,l,h),o+=l,l=0;this.setIndex(i),this.setAttribute("position",new Vt(r,3)),this.setAttribute("normal",new Vt(s,3)),this.setAttribute("uv",new Vt(a,2));function u(h){const p=r.length/3,y=h.extractPoints(t);let v=y.shape;const _=y.holes;gu.isClockWise(v)===!1&&(v=v.reverse());for(let E=0,S=_.length;E<S;E++){const w=_[E];gu.isClockWise(w)===!0&&(_[E]=w.reverse())}const x=gu.triangulateShape(v,_);for(let E=0,S=_.length;E<S;E++){const w=_[E];v=v.concat(w)}for(let E=0,S=v.length;E<S;E++){const w=v[E];r.push(w.x,w.y,0),s.push(0,0,1),a.push(w.x,w.y)}for(let E=0,S=x.length;E<S;E++){const w=x[E],C=w[0]+p,A=w[1]+p,N=w[2]+p;i.push(C,A,N),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return sle(t,e)}static fromJSON(e,t){const i=[];for(let r=0,s=e.shapes.length;r<s;r++){const a=t[e.shapes[r]];i.push(a)}return new yM(i,e.curveSegments)}}function sle(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const r=n[t];e.shapes.push(r.uuid)}else e.shapes.push(n.uuid);return e}class py extends Un{constructor(e=1,t=32,i=16,r=0,s=Math.PI*2,a=0,o=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:s,thetaStart:a,thetaLength:o},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const l=Math.min(a+o,Math.PI);let u=0;const h=[],p=new fe,y=new fe,v=[],_=[],x=[],E=[];for(let S=0;S<=i;S++){const w=[],C=S/i;let A=0;S===0&&a===0?A=.5/t:S===i&&l===Math.PI&&(A=-.5/t);for(let N=0;N<=t;N++){const L=N/t;p.x=-e*Math.cos(r+L*s)*Math.sin(a+C*o),p.y=e*Math.cos(a+C*o),p.z=e*Math.sin(r+L*s)*Math.sin(a+C*o),_.push(p.x,p.y,p.z),y.copy(p).normalize(),x.push(y.x,y.y,y.z),E.push(L+A,1-C),w.push(u++)}h.push(w)}for(let S=0;S<i;S++)for(let w=0;w<t;w++){const C=h[S][w+1],A=h[S][w],N=h[S+1][w],L=h[S+1][w+1];(S!==0||a>0)&&v.push(C,A,L),(S!==i-1||l<Math.PI)&&v.push(A,N,L)}this.setIndex(v),this.setAttribute("position",new Vt(_,3)),this.setAttribute("normal",new Vt(x,3)),this.setAttribute("uv",new Vt(E,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new py(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class vM extends nm{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new vM(e.radius,e.detail)}}class _M extends Un{constructor(e=1,t=.4,i=12,r=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:s},i=Math.floor(i),r=Math.floor(r);const a=[],o=[],l=[],u=[],h=new fe,p=new fe,y=new fe;for(let v=0;v<=i;v++)for(let _=0;_<=r;_++){const x=_/r*s,E=v/i*Math.PI*2;p.x=(e+t*Math.cos(E))*Math.cos(x),p.y=(e+t*Math.cos(E))*Math.sin(x),p.z=t*Math.sin(E),o.push(p.x,p.y,p.z),h.x=e*Math.cos(x),h.y=e*Math.sin(x),y.subVectors(p,h).normalize(),l.push(y.x,y.y,y.z),u.push(_/r),u.push(v/i)}for(let v=1;v<=i;v++)for(let _=1;_<=r;_++){const x=(r+1)*v+_-1,E=(r+1)*(v-1)+_-1,S=(r+1)*(v-1)+_,w=(r+1)*v+_;a.push(x,E,w),a.push(E,S,w)}this.setIndex(a),this.setAttribute("position",new Vt(o,3)),this.setAttribute("normal",new Vt(l,3)),this.setAttribute("uv",new Vt(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new _M(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class bM extends Un{constructor(e=1,t=.4,i=64,r=8,s=2,a=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:r,p:s,q:a},i=Math.floor(i),r=Math.floor(r);const o=[],l=[],u=[],h=[],p=new fe,y=new fe,v=new fe,_=new fe,x=new fe,E=new fe,S=new fe;for(let C=0;C<=i;++C){const A=C/i*s*Math.PI*2;w(A,s,a,e,v),w(A+.01,s,a,e,_),E.subVectors(_,v),S.addVectors(_,v),x.crossVectors(E,S),S.crossVectors(x,E),x.normalize(),S.normalize();for(let N=0;N<=r;++N){const L=N/r*Math.PI*2,I=-t*Math.cos(L),D=t*Math.sin(L);p.x=v.x+(I*S.x+D*x.x),p.y=v.y+(I*S.y+D*x.y),p.z=v.z+(I*S.z+D*x.z),l.push(p.x,p.y,p.z),y.subVectors(p,v).normalize(),u.push(y.x,y.y,y.z),h.push(C/i),h.push(N/r)}}for(let C=1;C<=i;C++)for(let A=1;A<=r;A++){const N=(r+1)*(C-1)+(A-1),L=(r+1)*C+(A-1),I=(r+1)*C+A,D=(r+1)*(C-1)+A;o.push(N,L,D),o.push(L,I,D)}this.setIndex(o),this.setAttribute("position",new Vt(l,3)),this.setAttribute("normal",new Vt(u,3)),this.setAttribute("uv",new Vt(h,2));function w(C,A,N,L,I){const D=Math.cos(C),P=Math.sin(C),U=N/A*C,F=Math.cos(U);I.x=L*(2+F)*.5*D,I.y=L*(2+F)*P*.5,I.z=L*Math.sin(U)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new bM(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class kS extends Un{constructor(e=new hM(new fe(-1,-1,0),new fe(-1,1,0),new fe(1,1,0)),t=64,i=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:s};const a=e.computeFrenetFrames(t,s);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const o=new fe,l=new fe,u=new it;let h=new fe;const p=[],y=[],v=[],_=[];x(),this.setIndex(_),this.setAttribute("position",new Vt(p,3)),this.setAttribute("normal",new Vt(y,3)),this.setAttribute("uv",new Vt(v,2));function x(){for(let C=0;C<t;C++)E(C);E(s===!1?t:0),w(),S()}function E(C){h=e.getPointAt(C/t,h);const A=a.normals[C],N=a.binormals[C];for(let L=0;L<=r;L++){const I=L/r*Math.PI*2,D=Math.sin(I),P=-Math.cos(I);l.x=P*A.x+D*N.x,l.y=P*A.y+D*N.y,l.z=P*A.z+D*N.z,l.normalize(),y.push(l.x,l.y,l.z),o.x=h.x+i*l.x,o.y=h.y+i*l.y,o.z=h.z+i*l.z,p.push(o.x,o.y,o.z)}}function S(){for(let C=1;C<=t;C++)for(let A=1;A<=r;A++){const N=(r+1)*(C-1)+(A-1),L=(r+1)*C+(A-1),I=(r+1)*C+A,D=(r+1)*(C-1)+A;_.push(N,L,D),_.push(L,I,D)}}function w(){for(let C=0;C<=t;C++)for(let A=0;A<=r;A++)u.x=C/t,u.y=A/r,v.push(u.x,u.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new kS(new BC[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class TG extends Un{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,r=new fe,s=new fe;if(e.index!==null){const a=e.attributes.position,o=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:o.count,materialIndex:0}]);for(let u=0,h=l.length;u<h;++u){const p=l[u],y=p.start,v=p.count;for(let _=y,x=y+v;_<x;_+=3)for(let E=0;E<3;E++){const S=o.getX(_+E),w=o.getX(_+(E+1)%3);r.fromBufferAttribute(a,S),s.fromBufferAttribute(a,w),Sz(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}}else{const a=e.attributes.position;for(let o=0,l=a.count/3;o<l;o++)for(let u=0;u<3;u++){const h=3*o+u,p=3*o+(u+1)%3;r.fromBufferAttribute(a,h),s.fromBufferAttribute(a,p),Sz(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new Vt(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function Sz(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(r)===!0?!1:(t.add(i),t.add(r),!0)}var Ez=Object.freeze({__proto__:null,BoxGeometry:dy,CapsuleGeometry:lM,CircleGeometry:cM,ConeGeometry:O_,CylinderGeometry:R_,DodecahedronGeometry:uM,EdgesGeometry:mG,ExtrudeGeometry:dM,IcosahedronGeometry:pM,LatheGeometry:mM,OctahedronGeometry:US,PlaneGeometry:I_,PolyhedronGeometry:nm,RingGeometry:gM,ShapeGeometry:yM,SphereGeometry:py,TetrahedronGeometry:vM,TorusGeometry:_M,TorusKnotGeometry:bM,TubeGeometry:kS,WireframeGeometry:TG});class wG extends io{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Lt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class CG extends Su{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class xM extends io{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Lt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Lt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=em,this.normalScale=new it(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Vl,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class AG extends xM{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new it(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Rn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Lt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Lt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Lt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class MG extends io{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Lt(16777215),this.specular=new Lt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Lt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=em,this.normalScale=new it(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Vl,this.combine=IS,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class RG extends io{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Lt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Lt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=em,this.normalScale=new it(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class OG extends io{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=em,this.normalScale=new it(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class hL extends io{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Lt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Lt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=em,this.normalScale=new it(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Vl,this.combine=IS,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class dL extends io{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Hj,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class pL extends io{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class IG extends io{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Lt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=em,this.normalScale=new it(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class PG extends ro{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Ng(n,e){return!n||n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function DG(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function NG(n){function e(r,s){return n[r]-n[s]}const t=n.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(e),i}function bP(n,e,t){const i=n.length,r=new n.constructor(i);for(let s=0,a=0;a!==i;++s){const o=t[s]*e;for(let l=0;l!==e;++l)r[a++]=n[o+l]}return r}function mL(n,e,t,i){let r=1,s=n[0];for(;s!==void 0&&s[i]===void 0;)s=n[r++];if(s===void 0)return;let a=s[i];if(a!==void 0)if(Array.isArray(a))do a=s[i],a!==void 0&&(e.push(s.time),t.push(...a)),s=n[r++];while(s!==void 0);else if(a.toArray!==void 0)do a=s[i],a!==void 0&&(e.push(s.time),a.toArray(t,t.length)),s=n[r++];while(s!==void 0);else do a=s[i],a!==void 0&&(e.push(s.time),t.push(a)),s=n[r++];while(s!==void 0)}function ale(n,e,t,i,r=30){const s=n.clone();s.name=e;const a=[];for(let l=0;l<s.tracks.length;++l){const u=s.tracks[l],h=u.getValueSize(),p=[],y=[];for(let v=0;v<u.times.length;++v){const _=u.times[v]*r;if(!(_<t||_>=i)){p.push(u.times[v]);for(let x=0;x<h;++x)y.push(u.values[v*h+x])}}p.length!==0&&(u.times=Ng(p,u.times.constructor),u.values=Ng(y,u.values.constructor),a.push(u))}s.tracks=a;let o=1/0;for(let l=0;l<s.tracks.length;++l)o>s.tracks[l].times[0]&&(o=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*o);return s.resetDuration(),s}function ole(n,e=0,t=n,i=30){i<=0&&(i=30);const r=t.tracks.length,s=e/i;for(let a=0;a<r;++a){const o=t.tracks[a],l=o.ValueTypeName;if(l==="bool"||l==="string")continue;const u=n.tracks.find(function(S){return S.name===o.name&&S.ValueTypeName===l});if(u===void 0)continue;let h=0;const p=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=p/3);let y=0;const v=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(y=v/3);const _=o.times.length-1;let x;if(s<=o.times[0]){const S=h,w=p-h;x=o.values.slice(S,w)}else if(s>=o.times[_]){const S=_*p+h,w=S+p-h;x=o.values.slice(S,w)}else{const S=o.createInterpolant(),w=h,C=p-h;S.evaluate(s),x=S.resultBuffer.slice(w,C)}l==="quaternion"&&new Ca().fromArray(x).normalize().conjugate().toArray(x);const E=u.times.length;for(let S=0;S<E;++S){const w=S*v+y;if(l==="quaternion")Ca.multiplyQuaternionsFlat(u.values,w,x,0,u.values,w);else{const C=v-y*2;for(let A=0;A<C;++A)u.values[w+A]-=x[A]}}}return n.blendMode=ZN,n}class lle{static convertArray(e,t){return Ng(e,t)}static isTypedArray(e){return DG(e)}static getKeyframeOrder(e){return NG(e)}static sortedArray(e,t,i){return bP(e,t,i)}static flattenJSON(e,t,i,r){mL(e,t,i,r)}static subclip(e,t,i,r,s=30){return ale(e,t,i,r,s)}static makeClipAdditive(e,t=0,i=e,r=30){return ole(e,t,i,r)}}class zS{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],s=t[i-1];e:{t:{let a;n:{i:if(!(e<r)){for(let o=i+2;;){if(r===void 0){if(e<s)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===o)break;if(s=r,r=t[++i],e<r)break t}a=t.length;break n}if(!(e>=s)){const o=t[1];e<o&&(i=2,s=o);for(let l=i-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(r=s,s=t[--i-1],e>=s)break t}a=i,i=0;break n}break e}for(;i<a;){const o=i+a>>>1;e<t[o]?a=o:i=o+1}if(r=t[i],s=t[i-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let a=0;a!==r;++a)t[a]=i[s+a];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class LG extends zS{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Pg,endingEnd:Pg}}intervalChanged_(e,t,i){const r=this.parameterPositions;let s=e-2,a=e+1,o=r[s],l=r[a];if(o===void 0)switch(this.getSettings_().endingStart){case Dg:s=e,o=2*t-i;break;case Xx:s=r.length-2,o=t+r[s]-r[s+1];break;default:s=e,o=i}if(l===void 0)switch(this.getSettings_().endingEnd){case Dg:a=e,l=2*i-t;break;case Xx:a=1,l=i+r[1]-r[0];break;default:a=e-1,l=t}const u=(i-t)*.5,h=this.valueSize;this._weightPrev=u/(t-o),this._weightNext=u/(l-i),this._offsetPrev=s*h,this._offsetNext=a*h}interpolate_(e,t,i,r){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=e*o,u=l-o,h=this._offsetPrev,p=this._offsetNext,y=this._weightPrev,v=this._weightNext,_=(i-t)/(r-t),x=_*_,E=x*_,S=-y*E+2*y*x-y*_,w=(1+y)*E+(-1.5-2*y)*x+(-.5+y)*_+1,C=(-1-v)*E+(1.5+v)*x+.5*_,A=v*E-v*x;for(let N=0;N!==o;++N)s[N]=S*a[h+N]+w*a[u+N]+C*a[l+N]+A*a[p+N];return s}}class gL extends zS{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=e*o,u=l-o,h=(i-t)/(r-t),p=1-h;for(let y=0;y!==o;++y)s[y]=a[u+y]*p+a[l+y]*h;return s}}class UG extends zS{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class Pc{constructor(e,t,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Ng(t,this.TimeBufferType),this.values=Ng(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:Ng(e.times,Array),values:Ng(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new UG(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new gL(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new LG(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case $x:t=this.InterpolantFactoryMethodDiscrete;break;case UC:t=this.InterpolantFactoryMethodLinear;break;case h2:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return $x;case this.InterpolantFactoryMethodLinear:return UC;case this.InterpolantFactoryMethodSmooth:return h2}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let s=0,a=r-1;for(;s!==r&&i[s]<e;)++s;for(;a!==-1&&i[a]>t;)--a;if(++a,s!==0||a!==r){s>=a&&(a=Math.max(a,1),s=a-1);const o=this.getValueSize();this.times=i.slice(s,a),this.values=this.values.slice(s*o,a*o)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let o=0;o!==s;o++){const l=i[o];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,l),e=!1;break}if(a!==null&&a>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,l,a),e=!1;break}a=l}if(r!==void 0&&DG(r))for(let o=0,l=r.length;o!==l;++o){const u=r[o];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,u),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),i=this.getValueSize(),r=this.getInterpolation()===h2,s=e.length-1;let a=1;for(let o=1;o<s;++o){let l=!1;const u=e[o],h=e[o+1];if(u!==h&&(o!==1||u!==e[0]))if(r)l=!0;else{const p=o*i,y=p-i,v=p+i;for(let _=0;_!==i;++_){const x=t[p+_];if(x!==t[y+_]||x!==t[v+_]){l=!0;break}}}if(l){if(o!==a){e[a]=e[o];const p=o*i,y=a*i;for(let v=0;v!==i;++v)t[y+v]=t[p+v]}++a}}if(s>0){e[a]=e[s];for(let o=s*i,l=a*i,u=0;u!==i;++u)t[l+u]=t[o+u];++a}return a!==e.length?(this.times=e.slice(0,a),this.values=t.slice(0,a*i)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),i=this.constructor,r=new i(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}Pc.prototype.ValueTypeName="";Pc.prototype.TimeBufferType=Float32Array;Pc.prototype.ValueBufferType=Float32Array;Pc.prototype.DefaultInterpolation=UC;class my extends Pc{constructor(e,t,i){super(e,t,i)}}my.prototype.ValueTypeName="bool";my.prototype.ValueBufferType=Array;my.prototype.DefaultInterpolation=$x;my.prototype.InterpolantFactoryMethodLinear=void 0;my.prototype.InterpolantFactoryMethodSmooth=void 0;class yL extends Pc{constructor(e,t,i,r){super(e,t,i,r)}}yL.prototype.ValueTypeName="color";class nS extends Pc{constructor(e,t,i,r){super(e,t,i,r)}}nS.prototype.ValueTypeName="number";class kG extends zS{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=(i-t)/(r-t);let u=e*o;for(let h=u+o;u!==h;u+=4)Ca.slerpFlat(s,0,a,u-o,a,u,l);return s}}class BS extends Pc{constructor(e,t,i,r){super(e,t,i,r)}InterpolantFactoryMethodLinear(e){return new kG(this.times,this.values,this.getValueSize(),e)}}BS.prototype.ValueTypeName="quaternion";BS.prototype.InterpolantFactoryMethodSmooth=void 0;class gy extends Pc{constructor(e,t,i){super(e,t,i)}}gy.prototype.ValueTypeName="string";gy.prototype.ValueBufferType=Array;gy.prototype.DefaultInterpolation=$x;gy.prototype.InterpolantFactoryMethodLinear=void 0;gy.prototype.InterpolantFactoryMethodSmooth=void 0;class iS extends Pc{constructor(e,t,i,r){super(e,t,i,r)}}iS.prototype.ValueTypeName="vector";class rS{constructor(e="",t=-1,i=[],r=KA){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=Ul(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,r=1/(e.fps||1);for(let a=0,o=i.length;a!==o;++a)t.push(ule(i[a]).scale(r));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,a=i.length;s!==a;++s)t.push(Pc.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,t,i,r){const s=t.length,a=[];for(let o=0;o<s;o++){let l=[],u=[];l.push((o+s-1)%s,o,(o+1)%s),u.push(0,1,0);const h=NG(l);l=bP(l,1,h),u=bP(u,1,h),!r&&l[0]===0&&(l.push(s),u.push(u[0])),a.push(new nS(".morphTargetInfluences["+t[o].name+"]",l,u).scale(1/i))}return new this(e,-1,a)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let o=0,l=e.length;o<l;o++){const u=e[o],h=u.name.match(s);if(h&&h.length>1){const p=h[1];let y=r[p];y||(r[p]=y=[]),y.push(u)}}const a=[];for(const o in r)a.push(this.CreateFromMorphTargetSequence(o,r[o],t,i));return a}static parseAnimation(e,t){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(p,y,v,_,x){if(v.length!==0){const E=[],S=[];mL(v,E,S,_),E.length!==0&&x.push(new p(y,E,S))}},r=[],s=e.name||"default",a=e.fps||30,o=e.blendMode;let l=e.length||-1;const u=e.hierarchy||[];for(let p=0;p<u.length;p++){const y=u[p].keys;if(!(!y||y.length===0))if(y[0].morphTargets){const v={};let _;for(_=0;_<y.length;_++)if(y[_].morphTargets)for(let x=0;x<y[_].morphTargets.length;x++)v[y[_].morphTargets[x]]=-1;for(const x in v){const E=[],S=[];for(let w=0;w!==y[_].morphTargets.length;++w){const C=y[_];E.push(C.time),S.push(C.morphTarget===x?1:0)}r.push(new nS(".morphTargetInfluence["+x+"]",E,S))}l=v.length*a}else{const v=".bones["+t[p].name+"]";i(iS,v+".position",y,"pos",r),i(BS,v+".quaternion",y,"rot",r),i(iS,v+".scale",y,"scl",r)}}return r.length===0?null:new this(s,l,r,o)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,r=e.length;i!==r;++i){const s=this.tracks[i];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function cle(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return nS;case"vector":case"vector2":case"vector3":case"vector4":return iS;case"color":return yL;case"quaternion":return BS;case"bool":case"boolean":return my;case"string":return gy}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function ule(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=cle(n.type);if(n.times===void 0){const t=[],i=[];mL(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const Bh={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class vL{constructor(e,t,i){const r=this;let s=!1,a=0,o=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(h){o++,s===!1&&r.onStart!==void 0&&r.onStart(h,a,o),s=!0},this.itemEnd=function(h){a++,r.onProgress!==void 0&&r.onProgress(h,a,o),a===o&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(h){r.onError!==void 0&&r.onError(h)},this.resolveURL=function(h){return l?l(h):h},this.setURLModifier=function(h){return l=h,this},this.addHandler=function(h,p){return u.push(h,p),this},this.removeHandler=function(h){const p=u.indexOf(h);return p!==-1&&u.splice(p,2),this},this.getHandler=function(h){for(let p=0,y=u.length;p<y;p+=2){const v=u[p],_=u[p+1];if(v.global&&(v.lastIndex=0),v.test(h))return _}return null}}}const zG=new vL;class ul{constructor(e){this.manager=e!==void 0?e:zG,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(r,s){i.load(e,r,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}ul.DEFAULT_MATERIAL_NAME="__DEFAULT";const xh={};class fle extends Error{constructor(e,t){super(e),this.response=t}}class id extends ul{constructor(e){super(e),this.mimeType="",this.responseType=""}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Bh.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(xh[e]!==void 0){xh[e].push({onLoad:t,onProgress:i,onError:r});return}xh[e]=[],xh[e].push({onLoad:t,onProgress:i,onError:r});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),o=this.mimeType,l=this.responseType;fetch(a).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const h=xh[e],p=u.body.getReader(),y=u.headers.get("X-File-Size")||u.headers.get("Content-Length"),v=y?parseInt(y):0,_=v!==0;let x=0;const E=new ReadableStream({start(S){w();function w(){p.read().then(({done:C,value:A})=>{if(C)S.close();else{x+=A.byteLength;const N=new ProgressEvent("progress",{lengthComputable:_,loaded:x,total:v});for(let L=0,I=h.length;L<I;L++){const D=h[L];D.onProgress&&D.onProgress(N)}S.enqueue(A),w()}},C=>{S.error(C)})}}});return new Response(E)}else throw new fle(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(h=>new DOMParser().parseFromString(h,o));case"json":return u.json();default:if(o==="")return u.text();{const p=/charset="?([^;"\s]*)"?/i.exec(o),y=p&&p[1]?p[1].toLowerCase():void 0,v=new TextDecoder(y);return u.arrayBuffer().then(_=>v.decode(_))}}}).then(u=>{Bh.add(e,u);const h=xh[e];delete xh[e];for(let p=0,y=h.length;p<y;p++){const v=h[p];v.onLoad&&v.onLoad(u)}}).catch(u=>{const h=xh[e];if(h===void 0)throw this.manager.itemError(e),u;delete xh[e];for(let p=0,y=h.length;p<y;p++){const v=h[p];v.onError&&v.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class hle extends ul{constructor(e){super(e)}load(e,t,i,r){const s=this,a=new id(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(o){try{t(s.parse(JSON.parse(o)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=[];for(let i=0;i<e.length;i++){const r=rS.parse(e[i]);t.push(r)}return t}}class dle extends ul{constructor(e){super(e)}load(e,t,i,r){const s=this,a=[],o=new oM,l=new id(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let u=0;function h(p){l.load(e[p],function(y){const v=s.parse(y,!0);a[p]={width:v.width,height:v.height,format:v.format,mipmaps:v.mipmaps},u+=1,u===6&&(v.mipmapCount===1&&(o.minFilter=ps),o.image=a,o.format=v.format,o.needsUpdate=!0,t&&t(o))},i,r)}if(Array.isArray(e))for(let p=0,y=e.length;p<y;++p)h(p);else l.load(e,function(p){const y=s.parse(p,!0);if(y.isCubemap){const v=y.mipmaps.length/y.mipmapCount;for(let _=0;_<v;_++){a[_]={mipmaps:[]};for(let x=0;x<y.mipmapCount;x++)a[_].mipmaps.push(y.mipmaps[_*y.mipmapCount+x]),a[_].format=y.format,a[_].width=y.width,a[_].height=y.height}o.image=a}else o.image.width=y.width,o.image.height=y.height,o.mipmaps=y.mipmaps;y.mipmapCount===1&&(o.minFilter=ps),o.format=y.format,o.needsUpdate=!0,t&&t(o)},i,r);return o}}class sS extends ul{constructor(e){super(e)}load(e,t,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=Bh.get(e);if(a!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(a),s.manager.itemEnd(e)},0),a;const o=Qx("img");function l(){h(),Bh.add(e,this),t&&t(this),s.manager.itemEnd(e)}function u(p){h(),r&&r(p),s.manager.itemError(e),s.manager.itemEnd(e)}function h(){o.removeEventListener("load",l,!1),o.removeEventListener("error",u,!1)}return o.addEventListener("load",l,!1),o.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(o.crossOrigin=this.crossOrigin),s.manager.itemStart(e),o.src=e,o}}class ple extends ul{constructor(e){super(e)}load(e,t,i,r){const s=new NS;s.colorSpace=Sa;const a=new sS(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let o=0;function l(u){a.load(e[u],function(h){s.images[u]=h,o++,o===6&&(s.needsUpdate=!0,t&&t(s))},void 0,r)}for(let u=0;u<e.length;++u)l(u);return s}}class mle extends ul{constructor(e){super(e)}load(e,t,i,r){const s=this,a=new Of,o=new id(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(s.withCredentials),o.load(e,function(l){let u;try{u=s.parse(l)}catch(h){if(r!==void 0)r(h);else{console.error(h);return}}u.image!==void 0?a.image=u.image:u.data!==void 0&&(a.image.width=u.width,a.image.height=u.height,a.image.data=u.data),a.wrapS=u.wrapS!==void 0?u.wrapS:wc,a.wrapT=u.wrapT!==void 0?u.wrapT:wc,a.magFilter=u.magFilter!==void 0?u.magFilter:ps,a.minFilter=u.minFilter!==void 0?u.minFilter:ps,a.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.colorSpace!==void 0&&(a.colorSpace=u.colorSpace),u.flipY!==void 0&&(a.flipY=u.flipY),u.format!==void 0&&(a.format=u.format),u.type!==void 0&&(a.type=u.type),u.mipmaps!==void 0&&(a.mipmaps=u.mipmaps,a.minFilter=Sf),u.mipmapCount===1&&(a.minFilter=ps),u.generateMipmaps!==void 0&&(a.generateMipmaps=u.generateMipmaps),a.needsUpdate=!0,t&&t(a,u)},i,r),a}}class gle extends ul{constructor(e){super(e)}load(e,t,i,r){const s=new rs,a=new sS(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(o){s.image=o,s.needsUpdate=!0,t!==void 0&&t(s)},i,r),s}}class im extends yi{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Lt(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}class BG extends im{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(yi.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Lt(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const WO=new an,Tz=new fe,wz=new fe;class _L{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new it(512,512),this.mapType=Mc,this.map=null,this.mapPass=null,this.matrix=new an,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new M_,this._frameExtents=new it(1,1),this._viewportCount=1,this._viewports=[new gi(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;Tz.setFromMatrixPosition(e.matrixWorld),t.position.copy(Tz),wz.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(wz),t.updateMatrixWorld(),WO.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(WO),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(WO)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class yle extends _L{constructor(){super(new na(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,i=Q0*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(i!==t.fov||r!==t.aspect||s!==t.far)&&(t.fov=i,t.aspect=r,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class FG extends im{constructor(e,t,i=0,r=Math.PI/3,s=0,a=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(yi.DEFAULT_UP),this.updateMatrix(),this.target=new yi,this.distance=i,this.angle=r,this.penumbra=s,this.decay=a,this.map=null,this.shadow=new yle}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const Cz=new an,f1=new fe,$O=new fe;class vle extends _L{constructor(){super(new na(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new it(4,2),this._viewportCount=6,this._viewports=[new gi(2,1,1,1),new gi(0,1,1,1),new gi(3,1,1,1),new gi(1,1,1,1),new gi(3,0,1,1),new gi(1,0,1,1)],this._cubeDirections=[new fe(1,0,0),new fe(-1,0,0),new fe(0,0,1),new fe(0,0,-1),new fe(0,1,0),new fe(0,-1,0)],this._cubeUps=[new fe(0,1,0),new fe(0,1,0),new fe(0,1,0),new fe(0,1,0),new fe(0,0,1),new fe(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),f1.setFromMatrixPosition(e.matrixWorld),i.position.copy(f1),$O.copy(i.position),$O.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt($O),i.updateMatrixWorld(),r.makeTranslation(-f1.x,-f1.y,-f1.z),Cz.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Cz)}}class VG extends im{constructor(e,t,i=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new vle}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}let FS=class extends JA{constructor(e=-1,t=1,i=1,r=-1,s=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=s,this.far=a,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,s,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,a=i+e,o=r+t,l=r-t;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,h=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=u*this.view.offsetX,a=s+u*this.view.width,o-=h*this.view.offsetY,l=o-h*this.view.height}this.projectionMatrix.makeOrthographic(s,a,o,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}};class _le extends _L{constructor(){super(new FS(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class HG extends im{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(yi.DEFAULT_UP),this.updateMatrix(),this.target=new yi,this.shadow=new _le}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class jG extends im{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class GG extends im{constructor(e,t,i=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class qG{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new fe)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,r=e.y,s=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.282095),t.addScaledVector(a[1],.488603*r),t.addScaledVector(a[2],.488603*s),t.addScaledVector(a[3],.488603*i),t.addScaledVector(a[4],1.092548*(i*r)),t.addScaledVector(a[5],1.092548*(r*s)),t.addScaledVector(a[6],.315392*(3*s*s-1)),t.addScaledVector(a[7],1.092548*(i*s)),t.addScaledVector(a[8],.546274*(i*i-r*r)),t}getIrradianceAt(e,t){const i=e.x,r=e.y,s=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.886227),t.addScaledVector(a[1],2*.511664*r),t.addScaledVector(a[2],2*.511664*s),t.addScaledVector(a[3],2*.511664*i),t.addScaledVector(a[4],2*.429043*i*r),t.addScaledVector(a[5],2*.429043*r*s),t.addScaledVector(a[6],.743125*s*s-.247708),t.addScaledVector(a[7],2*.429043*i*s),t.addScaledVector(a[8],.429043*(i*i-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const i=e.x,r=e.y,s=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*s,t[3]=.488603*i,t[4]=1.092548*i*r,t[5]=1.092548*r*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*i*s,t[8]=.546274*(i*i-r*r)}}class WG extends im{constructor(e=new qG,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class SM extends ul{constructor(e){super(e),this.textures={}}load(e,t,i,r){const s=this,a=new id(s.manager);a.setPath(s.path),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(o){try{t(s.parse(JSON.parse(o)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=this.textures;function i(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const r=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new Lt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(r.dispersion=e.dispersion),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(r.depthFunc=e.depthFunc),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(r.blendSrc=e.blendSrc),e.blendDst!==void 0&&(r.blendDst=e.blendDst),e.blendEquation!==void 0&&(r.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(r.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(r.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(r.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&r.blendColor!==void 0&&r.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(r.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==void 0&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const a=e.uniforms[s];switch(r.uniforms[s]={},a.type){case"t":r.uniforms[s].value=i(a.value);break;case"c":r.uniforms[s].value=new Lt().setHex(a.value);break;case"v2":r.uniforms[s].value=new it().fromArray(a.value);break;case"v3":r.uniforms[s].value=new fe().fromArray(a.value);break;case"v4":r.uniforms[s].value=new gi().fromArray(a.value);break;case"m3":r.uniforms[s].value=new Ln().fromArray(a.value);break;case"m4":r.uniforms[s].value=new an().fromArray(a.value);break;default:r.uniforms[s].value=a.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)r.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),r.normalScale=new it().fromArray(s)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapRotation!==void 0&&r.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new it().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return SM.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:wG,SpriteMaterial:rM,RawShaderMaterial:CG,ShaderMaterial:Su,PointsMaterial:rL,MeshPhysicalMaterial:AG,MeshStandardMaterial:xM,MeshPhongMaterial:MG,MeshToonMaterial:RG,MeshNormalMaterial:OG,MeshLambertMaterial:hL,MeshDepthMaterial:dL,MeshDistanceMaterial:pL,MeshBasicMaterial:tm,MeshMatcapMaterial:IG,LineDashedMaterial:PG,LineBasicMaterial:ro,Material:io};return new t[e]}}class xP{static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class $G extends Un{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class XG extends ul{constructor(e){super(e)}load(e,t,i,r){const s=this,a=new id(s.manager);a.setPath(s.path),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(o){try{t(s.parse(JSON.parse(o)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t={},i={};function r(v,_){if(t[_]!==void 0)return t[_];const E=v.interleavedBuffers[_],S=s(v,E.buffer),w=p0(E.type,S),C=new iM(w,E.stride);return C.uuid=E.uuid,t[_]=C,C}function s(v,_){if(i[_]!==void 0)return i[_];const E=v.arrayBuffers[_],S=new Uint32Array(E).buffer;return i[_]=S,S}const a=e.isInstancedBufferGeometry?new $G:new Un,o=e.data.index;if(o!==void 0){const v=p0(o.type,o.array);a.setIndex(new Hi(v,1))}const l=e.data.attributes;for(const v in l){const _=l[v];let x;if(_.isInterleavedBufferAttribute){const E=r(e.data,_.data);x=new ty(E,_.itemSize,_.offset,_.normalized)}else{const E=p0(_.type,_.array),S=_.isInstancedBufferAttribute?t_:Hi;x=new S(E,_.itemSize,_.normalized)}_.name!==void 0&&(x.name=_.name),_.usage!==void 0&&x.setUsage(_.usage),a.setAttribute(v,x)}const u=e.data.morphAttributes;if(u)for(const v in u){const _=u[v],x=[];for(let E=0,S=_.length;E<S;E++){const w=_[E];let C;if(w.isInterleavedBufferAttribute){const A=r(e.data,w.data);C=new ty(A,w.itemSize,w.offset,w.normalized)}else{const A=p0(w.type,w.array);C=new Hi(A,w.itemSize,w.normalized)}w.name!==void 0&&(C.name=w.name),x.push(C)}a.morphAttributes[v]=x}e.data.morphTargetsRelative&&(a.morphTargetsRelative=!0);const p=e.data.groups||e.data.drawcalls||e.data.offsets;if(p!==void 0)for(let v=0,_=p.length;v!==_;++v){const x=p[v];a.addGroup(x.start,x.count,x.materialIndex)}const y=e.data.boundingSphere;if(y!==void 0){const v=new fe;y.center!==void 0&&v.fromArray(y.center),a.boundingSphere=new sa(v,y.radius)}return e.name&&(a.name=e.name),e.userData&&(a.userData=e.userData),a}}class ble extends ul{constructor(e){super(e)}load(e,t,i,r){const s=this,a=this.path===""?xP.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const o=new id(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){let u=null;try{u=JSON.parse(l)}catch(p){r!==void 0&&r(p),console.error("THREE:ObjectLoader: Can't parse "+e+".",p.message);return}const h=u.metadata;if(h===void 0||h.type===void 0||h.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(u,t)},i,r)}async loadAsync(e,t){const i=this,r=this.path===""?xP.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const s=new id(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const a=await s.loadAsync(e,t),o=JSON.parse(a),l=o.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(o)}parse(e,t){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),a=this.parseImages(e.images,function(){t!==void 0&&t(u)}),o=this.parseTextures(e.textures,a),l=this.parseMaterials(e.materials,o),u=this.parseObject(e.object,s,l,o,i),h=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,h),this.bindLightTargets(u),t!==void 0){let p=!1;for(const y in a)if(a[y].data instanceof HTMLImageElement){p=!0;break}p===!1&&t(u)}return u}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),s=await this.parseImagesAsync(e.images),a=this.parseTextures(e.textures,s),o=this.parseMaterials(e.materials,a),l=this.parseObject(e.object,r,o,a,t),u=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,u),this.bindLightTargets(l),l}parseShapes(e){const t={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const s=new $g().fromJSON(e[i]);t[s.uuid]=s}return t}parseSkeletons(e,t){const i={},r={};if(t.traverse(function(s){s.isBone&&(r[s.uuid]=s)}),e!==void 0)for(let s=0,a=e.length;s<a;s++){const o=new sM().fromJSON(e[s],r);i[o.uuid]=o}return i}parseGeometries(e,t){const i={};if(e!==void 0){const r=new XG;for(let s=0,a=e.length;s<a;s++){let o;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":o=r.parse(l);break;default:l.type in Ez?o=Ez[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}o.uuid=l.uuid,l.name!==void 0&&(o.name=l.name),l.userData!==void 0&&(o.userData=l.userData),i[l.uuid]=o}}return i}parseMaterials(e,t){const i={},r={};if(e!==void 0){const s=new SM;s.setTextures(t);for(let a=0,o=e.length;a<o;a++){const l=e[a];i[l.uuid]===void 0&&(i[l.uuid]=s.parse(l)),r[l.uuid]=i[l.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],s=rS.parse(r);t[s.uuid]=s}return t}parseImages(e,t){const i=this,r={};let s;function a(l){return i.manager.itemStart(l),s.load(l,function(){i.manager.itemEnd(l)},void 0,function(){i.manager.itemError(l),i.manager.itemEnd(l)})}function o(l){if(typeof l=="string"){const u=l,h=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:i.resourcePath+u;return a(h)}else return l.data?{data:p0(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new vL(t);s=new sS(l),s.setCrossOrigin(this.crossOrigin);for(let u=0,h=e.length;u<h;u++){const p=e[u],y=p.url;if(Array.isArray(y)){const v=[];for(let _=0,x=y.length;_<x;_++){const E=y[_],S=o(E);S!==null&&(S instanceof HTMLImageElement?v.push(S):v.push(new Of(S.data,S.width,S.height)))}r[p.uuid]=new Cp(v)}else{const v=o(p.url);r[p.uuid]=new Cp(v)}}}return r}async parseImagesAsync(e){const t=this,i={};let r;async function s(a){if(typeof a=="string"){const o=a,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(o)?o:t.resourcePath+o;return await r.loadAsync(l)}else return a.data?{data:p0(a.type,a.data),width:a.width,height:a.height}:null}if(e!==void 0&&e.length>0){r=new sS(this.manager),r.setCrossOrigin(this.crossOrigin);for(let a=0,o=e.length;a<o;a++){const l=e[a],u=l.url;if(Array.isArray(u)){const h=[];for(let p=0,y=u.length;p<y;p++){const v=u[p],_=await s(v);_!==null&&(_ instanceof HTMLImageElement?h.push(_):h.push(new Of(_.data,_.width,_.height)))}i[l.uuid]=new Cp(h)}else{const h=await s(l.url);i[l.uuid]=new Cp(h)}}}return i}parseTextures(e,t){function i(s,a){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),a[s])}const r={};if(e!==void 0)for(let s=0,a=e.length;s<a;s++){const o=e[s];o.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),t[o.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",o.image);const l=t[o.image],u=l.data;let h;Array.isArray(u)?(h=new NS,u.length===6&&(h.needsUpdate=!0)):(u&&u.data?h=new Of:h=new rs,u&&(h.needsUpdate=!0)),h.source=l,h.uuid=o.uuid,o.name!==void 0&&(h.name=o.name),o.mapping!==void 0&&(h.mapping=i(o.mapping,xle)),o.channel!==void 0&&(h.channel=o.channel),o.offset!==void 0&&h.offset.fromArray(o.offset),o.repeat!==void 0&&h.repeat.fromArray(o.repeat),o.center!==void 0&&h.center.fromArray(o.center),o.rotation!==void 0&&(h.rotation=o.rotation),o.wrap!==void 0&&(h.wrapS=i(o.wrap[0],Az),h.wrapT=i(o.wrap[1],Az)),o.format!==void 0&&(h.format=o.format),o.internalFormat!==void 0&&(h.internalFormat=o.internalFormat),o.type!==void 0&&(h.type=o.type),o.colorSpace!==void 0&&(h.colorSpace=o.colorSpace),o.minFilter!==void 0&&(h.minFilter=i(o.minFilter,Mz)),o.magFilter!==void 0&&(h.magFilter=i(o.magFilter,Mz)),o.anisotropy!==void 0&&(h.anisotropy=o.anisotropy),o.flipY!==void 0&&(h.flipY=o.flipY),o.generateMipmaps!==void 0&&(h.generateMipmaps=o.generateMipmaps),o.premultiplyAlpha!==void 0&&(h.premultiplyAlpha=o.premultiplyAlpha),o.unpackAlignment!==void 0&&(h.unpackAlignment=o.unpackAlignment),o.compareFunction!==void 0&&(h.compareFunction=o.compareFunction),o.userData!==void 0&&(h.userData=o.userData),r[o.uuid]=h}return r}parseObject(e,t,i,r,s){let a;function o(y){return t[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",y),t[y]}function l(y){if(y!==void 0){if(Array.isArray(y)){const v=[];for(let _=0,x=y.length;_<x;_++){const E=y[_];i[E]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",E),v.push(i[E])}return v}return i[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",y),i[y]}}function u(y){return r[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",y),r[y]}let h,p;switch(e.type){case"Scene":a=new nM,e.background!==void 0&&(Number.isInteger(e.background)?a.background=new Lt(e.background):a.background=u(e.background)),e.environment!==void 0&&(a.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?a.fog=new tM(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(a.fog=new eM(e.fog.color,e.fog.density)),e.fog.name!==""&&(a.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(a.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(a.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&a.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(a.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&a.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":a=new na(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(a.focus=e.focus),e.zoom!==void 0&&(a.zoom=e.zoom),e.filmGauge!==void 0&&(a.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(a.filmOffset=e.filmOffset),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new FS(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(a.zoom=e.zoom),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new jG(e.color,e.intensity);break;case"DirectionalLight":a=new HG(e.color,e.intensity),a.target=e.target||"";break;case"PointLight":a=new VG(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new GG(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new FG(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),a.target=e.target||"";break;case"HemisphereLight":a=new BG(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=new WG().fromJSON(e);break;case"SkinnedMesh":h=o(e.geometry),p=l(e.material),a=new cG(h,p),e.bindMode!==void 0&&(a.bindMode=e.bindMode),e.bindMatrix!==void 0&&a.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(a.skeleton=e.skeleton);break;case"Mesh":h=o(e.geometry),p=l(e.material),a=new is(h,p);break;case"InstancedMesh":h=o(e.geometry),p=l(e.material);const y=e.count,v=e.instanceMatrix,_=e.instanceColor;a=new uG(h,p,y),a.instanceMatrix=new t_(new Float32Array(v.array),16),_!==void 0&&(a.instanceColor=new t_(new Float32Array(_.array),_.itemSize));break;case"BatchedMesh":h=o(e.geometry),p=l(e.material),a=new fG(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,p),a.geometry=h,a.perObjectFrustumCulled=e.perObjectFrustumCulled,a.sortObjects=e.sortObjects,a._drawRanges=e.drawRanges,a._reservedRanges=e.reservedRanges,a._geometryInfo=e.geometryInfo.map(x=>{let E=null,S=null;return x.boundingBox!==void 0&&(E=new ra,E.min.fromArray(x.boundingBox.min),E.max.fromArray(x.boundingBox.max)),x.boundingSphere!==void 0&&(S=new sa,S.radius=x.boundingSphere.radius,S.center.fromArray(x.boundingSphere.center)),{...x,boundingBox:E,boundingSphere:S}}),a._instanceInfo=e.instanceInfo,a._availableInstanceIds=e._availableInstanceIds,a._availableGeometryIds=e._availableGeometryIds,a._nextIndexStart=e.nextIndexStart,a._nextVertexStart=e.nextVertexStart,a._geometryCount=e.geometryCount,a._maxInstanceCount=e.maxInstanceCount,a._maxVertexCount=e.maxVertexCount,a._maxIndexCount=e.maxIndexCount,a._geometryInitialized=e.geometryInitialized,a._matricesTexture=u(e.matricesTexture.uuid),a._indirectTexture=u(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(a._colorsTexture=u(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(a.boundingSphere=new sa,a.boundingSphere.center.fromArray(e.boundingSphere.center),a.boundingSphere.radius=e.boundingSphere.radius),e.boundingBox!==void 0&&(a.boundingBox=new ra,a.boundingBox.min.fromArray(e.boundingBox.min),a.boundingBox.max.fromArray(e.boundingBox.max));break;case"LOD":a=new lG;break;case"Line":a=new nd(o(e.geometry),l(e.material));break;case"LineLoop":a=new hG(o(e.geometry),l(e.material));break;case"LineSegments":a=new kf(o(e.geometry),l(e.material));break;case"PointCloud":case"Points":a=new dG(o(e.geometry),l(e.material));break;case"Sprite":a=new nL(l(e.material));break;case"Group":a=new zh;break;case"Bone":a=new iL;break;default:a=new yi}if(a.uuid=e.uuid,e.name!==void 0&&(a.name=e.name),e.matrix!==void 0?(a.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(e.position!==void 0&&a.position.fromArray(e.position),e.rotation!==void 0&&a.rotation.fromArray(e.rotation),e.quaternion!==void 0&&a.quaternion.fromArray(e.quaternion),e.scale!==void 0&&a.scale.fromArray(e.scale)),e.up!==void 0&&a.up.fromArray(e.up),e.castShadow!==void 0&&(a.castShadow=e.castShadow),e.receiveShadow!==void 0&&(a.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(a.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(a.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(a.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(a.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&a.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(a.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(a.visible=e.visible),e.frustumCulled!==void 0&&(a.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(a.renderOrder=e.renderOrder),e.userData!==void 0&&(a.userData=e.userData),e.layers!==void 0&&(a.layers.mask=e.layers),e.children!==void 0){const y=e.children;for(let v=0;v<y.length;v++)a.add(this.parseObject(y[v],t,i,r,s))}if(e.animations!==void 0){const y=e.animations;for(let v=0;v<y.length;v++){const _=y[v];a.animations.push(s[_])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(a.autoUpdate=e.autoUpdate);const y=e.levels;for(let v=0;v<y.length;v++){const _=y[v],x=a.getObjectByProperty("uuid",_.object);x!==void 0&&a.addLevel(x,_.distance,_.hysteresis)}}return a}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=t[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const i=t.target,r=e.getObjectByProperty("uuid",i);r!==void 0?t.target=r:t.target=new yi}})}}const xle={UVMapping:jA,CubeReflectionMapping:ed,CubeRefractionMapping:$p,EquirectangularReflectionMapping:jx,EquirectangularRefractionMapping:Gx,CubeUVReflectionMapping:C_},Az={RepeatWrapping:qx,ClampToEdgeWrapping:wc,MirroredRepeatWrapping:Wx},Mz={NearestFilter:wa,NearestMipmapNearestFilter:jN,NearestMipmapLinearFilter:d0,LinearFilter:ps,LinearMipmapNearestFilter:cx,LinearMipmapLinearFilter:Sf};class Sle extends ul{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=Bh.get(e);if(a!==void 0){if(s.manager.itemStart(e),a.then){a.then(u=>{t&&t(u),s.manager.itemEnd(e)}).catch(u=>{r&&r(u)});return}return setTimeout(function(){t&&t(a),s.manager.itemEnd(e)},0),a}const o={};o.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",o.headers=this.requestHeader;const l=fetch(e,o).then(function(u){return u.blob()}).then(function(u){return createImageBitmap(u,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(u){return Bh.add(e,u),t&&t(u),s.manager.itemEnd(e),u}).catch(function(u){r&&r(u),Bh.remove(e),s.manager.itemError(e),s.manager.itemEnd(e)});Bh.add(e,l),s.manager.itemStart(e)}}let ew;class bL{static getContext(){return ew===void 0&&(ew=new(window.AudioContext||window.webkitAudioContext)),ew}static setContext(e){ew=e}}class Ele extends ul{constructor(e){super(e)}load(e,t,i,r){const s=this,a=new id(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){try{const u=l.slice(0);bL.getContext().decodeAudioData(u,function(p){t(p)}).catch(o)}catch(u){o(u)}},i,r);function o(l){r?r(l):console.error(l),s.manager.itemError(e)}}}const Rz=new an,Oz=new an,sg=new an;class Tle{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new na,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new na,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,sg.copy(e.projectionMatrix);const r=t.eyeSep/2,s=r*t.near/t.focus,a=t.near*Math.tan(Wg*t.fov*.5)/t.zoom;let o,l;Oz.elements[12]=-r,Rz.elements[12]=r,o=-a*t.aspect+s,l=a*t.aspect+s,sg.elements[0]=2*t.near/(l-o),sg.elements[8]=(l+o)/(l-o),this.cameraL.projectionMatrix.copy(sg),o=-a*t.aspect-s,l=a*t.aspect-s,sg.elements[0]=2*t.near/(l-o),sg.elements[8]=(l+o)/(l-o),this.cameraR.projectionMatrix.copy(sg)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(Oz),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(Rz)}}class YG extends na{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class xL{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=Iz(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=Iz();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function Iz(){return performance.now()}const ag=new fe,Pz=new Ca,wle=new fe,og=new fe;class Cle extends yi{constructor(){super(),this.type="AudioListener",this.context=bL.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new xL}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(ag,Pz,wle),og.set(0,0,-1).applyQuaternion(Pz),t.positionX){const r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(ag.x,r),t.positionY.linearRampToValueAtTime(ag.y,r),t.positionZ.linearRampToValueAtTime(ag.z,r),t.forwardX.linearRampToValueAtTime(og.x,r),t.forwardY.linearRampToValueAtTime(og.y,r),t.forwardZ.linearRampToValueAtTime(og.z,r),t.upX.linearRampToValueAtTime(i.x,r),t.upY.linearRampToValueAtTime(i.y,r),t.upZ.linearRampToValueAtTime(i.z,r)}else t.setPosition(ag.x,ag.y,ag.z),t.setOrientation(og.x,og.y,og.z,i.x,i.y,i.z)}}class KG extends yi{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const lg=new fe,Dz=new Ca,Ale=new fe,cg=new fe;class Mle extends KG{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(lg,Dz,Ale),cg.set(0,0,1).applyQuaternion(Dz);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(lg.x,i),t.positionY.linearRampToValueAtTime(lg.y,i),t.positionZ.linearRampToValueAtTime(lg.z,i),t.orientationX.linearRampToValueAtTime(cg.x,i),t.orientationY.linearRampToValueAtTime(cg.y,i),t.orientationZ.linearRampToValueAtTime(cg.z,i)}else t.setPosition(lg.x,lg.y,lg.z),t.setOrientation(cg.x,cg.y,cg.z)}}class Rle{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class ZG{constructor(e,t,i){this.binding=e,this.valueSize=i;let r,s,a;switch(t){case"quaternion":r=this._slerp,s=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,s=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,r=this.valueSize,s=e*r+r;let a=this.cumulativeWeight;if(a===0){for(let o=0;o!==r;++o)i[s+o]=i[o];a=t}else{a+=t;const o=t/a;this._mixBufferRegion(i,s,0,o,r)}this.cumulativeWeight=a}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,r=e*t+t,s=this.cumulativeWeight,a=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(i,r,l,1-s,t)}a>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*t,1,t);for(let l=t,u=t+t;l!==u;++l)if(i[l]!==i[l+t]){o.setValue(i,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(t,r);for(let s=i,a=r;s!==a;++s)t[s]=t[r+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,r,s){if(r>=.5)for(let a=0;a!==s;++a)e[t+a]=e[i+a]}_slerp(e,t,i,r){Ca.slerpFlat(e,t,e,t,e,i,r)}_slerpAdditive(e,t,i,r,s){const a=this._workIndex*s;Ca.multiplyQuaternionsFlat(e,a,e,t,e,i),Ca.slerpFlat(e,t,e,t,e,a,r)}_lerp(e,t,i,r,s){const a=1-r;for(let o=0;o!==s;++o){const l=t+o;e[l]=e[l]*a+e[i+o]*r}}_lerpAdditive(e,t,i,r,s){for(let a=0;a!==s;++a){const o=t+a;e[o]=e[o]+e[i+a]*r}}}const SL="\\[\\]\\.:\\/",Ole=new RegExp("["+SL+"]","g"),EL="[^"+SL+"]",Ile="[^"+SL.replace("\\.","")+"]",Ple=/((?:WC+[\/:])*)/.source.replace("WC",EL),Dle=/(WCOD+)?/.source.replace("WCOD",Ile),Nle=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",EL),Lle=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",EL),Ule=new RegExp("^"+Ple+Dle+Nle+Lle+"$"),kle=["material","materials","bones","map"];class zle{constructor(e,t,i){const r=i||bi.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class bi{constructor(e,t,i){this.path=t,this.parsedPath=i||bi.parseTrackName(t),this.node=bi.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new bi.Composite(e,t,i):new bi(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Ole,"")}static parseTrackName(e){const t=Ule.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=i.nodeName.substring(r+1);kle.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(s){for(let a=0;a<s.length;a++){const o=s[a];if(o.name===t||o.uuid===t)return o;const l=i(o.children);if(l)return l}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)e[t++]=i[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,r=t.propertyName;let s=t.propertyIndex;if(e||(e=bi.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let u=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let h=0;h<e.length;h++)if(e[h].name===u){u=h;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const a=e[r];if(a===void 0){const u=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+r+" but it wasn't found.",e);return}let o=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?o=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(o=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=s}else a.fromArray!==void 0&&a.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(l=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][o]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}bi.Composite=zle;bi.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};bi.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};bi.prototype.GetterByBindingType=[bi.prototype._getValue_direct,bi.prototype._getValue_array,bi.prototype._getValue_arrayElement,bi.prototype._getValue_toArray];bi.prototype.SetterByBindingTypeAndVersioning=[[bi.prototype._setValue_direct,bi.prototype._setValue_direct_setNeedsUpdate,bi.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[bi.prototype._setValue_array,bi.prototype._setValue_array_setNeedsUpdate,bi.prototype._setValue_array_setMatrixWorldNeedsUpdate],[bi.prototype._setValue_arrayElement,bi.prototype._setValue_arrayElement_setNeedsUpdate,bi.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[bi.prototype._setValue_fromArray,bi.prototype._setValue_fromArray_setNeedsUpdate,bi.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Ble{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Ul(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,r=this._parsedPaths,s=this._bindings,a=s.length;let o,l=e.length,u=this.nCachedObjects_;for(let h=0,p=arguments.length;h!==p;++h){const y=arguments[h],v=y.uuid;let _=t[v];if(_===void 0){_=l++,t[v]=_,e.push(y);for(let x=0,E=a;x!==E;++x)s[x].push(new bi(y,i[x],r[x]))}else if(_<u){o=e[_];const x=--u,E=e[x];t[E.uuid]=_,e[_]=E,t[v]=x,e[x]=y;for(let S=0,w=a;S!==w;++S){const C=s[S],A=C[x];let N=C[_];C[_]=A,N===void 0&&(N=new bi(y,i[S],r[S])),C[x]=N}}else e[_]!==o&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_;for(let a=0,o=arguments.length;a!==o;++a){const l=arguments[a],u=l.uuid,h=t[u];if(h!==void 0&&h>=s){const p=s++,y=e[p];t[y.uuid]=h,e[h]=y,t[u]=p,e[p]=l;for(let v=0,_=r;v!==_;++v){const x=i[v],E=x[p],S=x[h];x[h]=E,x[p]=S}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_,a=e.length;for(let o=0,l=arguments.length;o!==l;++o){const u=arguments[o],h=u.uuid,p=t[h];if(p!==void 0)if(delete t[h],p<s){const y=--s,v=e[y],_=--a,x=e[_];t[v.uuid]=p,e[p]=v,t[x.uuid]=y,e[y]=x,e.pop();for(let E=0,S=r;E!==S;++E){const w=i[E],C=w[y],A=w[_];w[p]=C,w[y]=A,w.pop()}}else{const y=--a,v=e[y];y>0&&(t[v.uuid]=p),e[p]=v,e.pop();for(let _=0,x=r;_!==x;++_){const E=i[_];E[p]=E[y],E.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const i=this._bindingsIndicesByPath;let r=i[e];const s=this._bindings;if(r!==void 0)return s[r];const a=this._paths,o=this._parsedPaths,l=this._objects,u=l.length,h=this.nCachedObjects_,p=new Array(u);r=s.length,i[e]=r,a.push(e),o.push(t),s.push(p);for(let y=h,v=l.length;y!==v;++y){const _=l[y];p[y]=new bi(_,e,t)}return p}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const r=this._paths,s=this._parsedPaths,a=this._bindings,o=a.length-1,l=a[o],u=e[o];t[u]=i,a[i]=l,a.pop(),s[i]=s[o],s.pop(),r[i]=r[o],r.pop()}}}class QG{constructor(e,t,i=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=r;const s=t.tracks,a=s.length,o=new Array(a),l={endingStart:Pg,endingEnd:Pg};for(let u=0;u!==a;++u){const h=s[u].createInterpolant(null);o[u]=h,h.settings=l}this._interpolantSettings=l,this._interpolants=o,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Fj,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i=!1){if(e.fadeOut(t),this.fadeIn(t),i===!0){const r=this._clip.duration,s=e._clip.duration,a=s/r,o=r/s;e.warp(1,a,t),this.warp(o,1,t)}return this}crossFadeTo(e,t,i=!1){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const r=this._mixer,s=r.time,a=this.timeScale;let o=this._timeScaleInterpolant;o===null&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);const l=o.parameterPositions,u=o.sampleValues;return l[0]=s,l[1]=s+i,u[0]=e/a,u[1]=t/a,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*i;l<0||i===0?t=0:(this._startTime=null,t=i*l)}t*=this._updateTimeScale(e);const a=this._updateTime(t),o=this._updateWeight(e);if(o>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case ZN:for(let h=0,p=l.length;h!==p;++h)l[h].evaluate(a),u[h].accumulateAdditive(o);break;case KA:default:for(let h=0,p=l.length;h!==p;++h)l[h].evaluate(a),u[h].accumulate(r,o)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let r=this.time+e,s=this._loopCount;const a=i===Vj;if(e===0)return s===-1?r:a&&(s&1)===1?t-r:r;if(i===Bj){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,a)):this._setEndings(this.repetitions===0,!0,a)),r>=t||r<0){const o=Math.floor(r/t);r-=t*o,s+=Math.abs(o);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const u=e<0;this._setEndings(u,!u,a)}else this._setEndings(!1,!1,a);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=r;if(a&&(s&1)===1)return t-r}return r}_setEndings(e,t,i){const r=this._interpolantSettings;i?(r.endingStart=Dg,r.endingEnd=Dg):(e?r.endingStart=this.zeroSlopeAtStart?Dg:Pg:r.endingStart=Xx,t?r.endingEnd=this.zeroSlopeAtEnd?Dg:Pg:r.endingEnd=Xx)}_scheduleFading(e,t,i){const r=this._mixer,s=r.time;let a=this._weightInterpolant;a===null&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);const o=a.parameterPositions,l=a.sampleValues;return o[0]=s,l[0]=t,o[1]=s+e,l[1]=i,this}}const Fle=new Float32Array(1);class Vle extends Uf{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,r=e._clip.tracks,s=r.length,a=e._propertyBindings,o=e._interpolants,l=i.uuid,u=this._bindingsByRootAndName;let h=u[l];h===void 0&&(h={},u[l]=h);for(let p=0;p!==s;++p){const y=r[p],v=y.name;let _=h[v];if(_!==void 0)++_.referenceCount,a[p]=_;else{if(_=a[p],_!==void 0){_._cacheIndex===null&&(++_.referenceCount,this._addInactiveBinding(_,l,v));continue}const x=t&&t._propertyBindings[p].binding.parsedPath;_=new ZG(bi.create(i,v,x),y.ValueTypeName,y.getValueSize()),++_.referenceCount,this._addInactiveBinding(_,l,v),a[p]=_}o[p].resultBuffer=_.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,i)}const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const r=this._actions,s=this._actionsByClip;let a=s[t];if(a===void 0)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=a;else{const o=a.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=r.length,r.push(e),a.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,a=this._actionsByClip,o=a[s],l=o.knownActions,u=l[l.length-1],h=e._byClipCacheIndex;u._byClipCacheIndex=h,l[h]=u,l.pop(),e._byClipCacheIndex=null;const p=o.actionByRoot,y=(e._localRoot||this._root).uuid;delete p[y],l.length===0&&delete a[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_addInactiveBinding(e,t,i){const r=this._bindingsByRootAndName,s=this._bindings;let a=r[t];a===void 0&&(a={},r[t]=a),a[i]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,r=i.rootNode.uuid,s=i.path,a=this._bindingsByRootAndName,o=a[r],l=t[t.length-1],u=e._cacheIndex;l._cacheIndex=u,t[u]=l,t.pop(),delete o[s],Object.keys(o).length===0&&delete a[r]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new gL(new Float32Array(2),new Float32Array(2),1,Fle),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=t[r];e.__cacheIndex=r,t[r]=e,s.__cacheIndex=i,t[i]=s}clipAction(e,t,i){const r=t||this._root,s=r.uuid;let a=typeof e=="string"?rS.findByName(r,e):e;const o=a!==null?a.uuid:e,l=this._actionsByClip[o];let u=null;if(i===void 0&&(a!==null?i=a.blendMode:i=KA),l!==void 0){const p=l.actionByRoot[s];if(p!==void 0&&p.blendMode===i)return p;u=l.knownActions[0],a===null&&(a=u._clip)}if(a===null)return null;const h=new QG(this,a,t,i);return this._bindAction(h,u),this._addInactiveAction(h,o,s),h}existingAction(e,t){const i=t||this._root,r=i.uuid,s=typeof e=="string"?rS.findByName(i,e):e,a=s?s.uuid:e,o=this._actionsByClip[a];return o!==void 0&&o.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,r=this.time+=e,s=Math.sign(e),a=this._accuIndex^=1;for(let u=0;u!==i;++u)t[u]._update(r,e,s,a);const o=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)o[u].apply(a);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,r=this._actionsByClip,s=r[i];if(s!==void 0){const a=s.knownActions;for(let o=0,l=a.length;o!==l;++o){const u=a[o];this._deactivateAction(u);const h=u._cacheIndex,p=t[t.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,p._cacheIndex=h,t[h]=p,t.pop(),this._removeInactiveBindingsForAction(u)}delete r[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const a in i){const o=i[a].actionByRoot,l=o[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName,s=r[t];if(s!==void 0)for(const a in s){const o=s[a];o.restoreOriginalState(),this._removeInactiveBinding(o)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class Hle extends ZA{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isRenderTarget3D=!0,this.depth=i,this.texture=new QA(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class jle extends ZA{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isRenderTargetArray=!0,this.depth=i,this.texture=new DS(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class TL{constructor(e){this.value=e}clone(){return new TL(this.value.clone===void 0?this.value:this.value.clone())}}let Gle=0;class qle extends Uf{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:Gle++}),this.name="",this.usage=Kx,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,r=t.length;i<r;i++){const s=Array.isArray(t[i])?t[i]:[t[i]];for(let a=0;a<s.length;a++)this.uniforms.push(s[a].clone())}return this}clone(){return new this.constructor().copy(this)}}class Wle extends iM{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class $le{constructor(e,t,i,r,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=r,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const Nz=new an;class EM{constructor(e,t,i=0,r=1/0){this.ray=new A_(e,t),this.near=i,this.far=r,this.camera=null,this.layers=new J0,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return Nz.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(Nz),this}intersectObject(e,t=!0,i=[]){return SP(e,this,i,t),i.sort(Lz),i}intersectObjects(e,t=!0,i=[]){for(let r=0,s=e.length;r<s;r++)SP(e[r],this,i,t);return i.sort(Lz),i}}function Lz(n,e){return n.distance-e.distance}function SP(n,e,t,i){let r=!0;if(n.layers.test(e.layers)&&n.raycast(e,t)===!1&&(r=!1),r===!0&&i===!0){const s=n.children;for(let a=0,o=s.length;a<o;a++)SP(s[a],e,t,!0)}}class JG{constructor(e=1,t=0,i=0){this.radius=e,this.phi=t,this.theta=i}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Rn(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(Rn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Xle{constructor(e=1,t=0,i=0){this.radius=e,this.theta=t,this.y=i}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}class wL{constructor(e,t,i,r){wL.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,i,r)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let i=0;i<4;i++)this.elements[i]=e[i+t];return this}set(e,t,i,r){const s=this.elements;return s[0]=e,s[2]=t,s[1]=i,s[3]=r,this}}const Uz=new it;class Yle{constructor(e=new it(1/0,1/0),t=new it(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=Uz.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Uz).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const kz=new fe,tw=new fe;class Kle{constructor(e=new fe,t=new fe){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){kz.subVectors(e,this.start),tw.subVectors(this.end,this.start);const i=tw.dot(tw);let s=tw.dot(kz)/i;return t&&(s=Rn(s,0,1)),s}closestPointToPoint(e,t,i){const r=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const zz=new fe;class Zle extends yi{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new Un,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let a=0,o=1,l=32;a<l;a++,o++){const u=a/l*Math.PI*2,h=o/l*Math.PI*2;r.push(Math.cos(u),Math.sin(u),1,Math.cos(h),Math.sin(h),1)}i.setAttribute("position",new Vt(r,3));const s=new ro({fog:!1,toneMapped:!1});this.cone=new kf(i,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),zz.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(zz),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const cp=new fe,nw=new an,XO=new an;class Qle extends kf{constructor(e){const t=eq(e),i=new Un,r=[],s=[],a=new Lt(0,0,1),o=new Lt(0,1,0);for(let u=0;u<t.length;u++){const h=t[u];h.parent&&h.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(a.r,a.g,a.b),s.push(o.r,o.g,o.b))}i.setAttribute("position",new Vt(r,3)),i.setAttribute("color",new Vt(s,3));const l=new ro({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,i=this.geometry,r=i.getAttribute("position");XO.copy(this.root.matrixWorld).invert();for(let s=0,a=0;s<t.length;s++){const o=t[s];o.parent&&o.parent.isBone&&(nw.multiplyMatrices(XO,o.matrixWorld),cp.setFromMatrixPosition(nw),r.setXYZ(a,cp.x,cp.y,cp.z),nw.multiplyMatrices(XO,o.parent.matrixWorld),cp.setFromMatrixPosition(nw),r.setXYZ(a+1,cp.x,cp.y,cp.z),a+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function eq(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push(...eq(n.children[t]));return e}class Jle extends is{constructor(e,t,i){const r=new py(t,4,2),s=new tm({wireframe:!0,fog:!1,toneMapped:!1});super(r,s),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const ece=new fe,Bz=new Lt,Fz=new Lt;class tce extends yi{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new US(t);r.rotateY(Math.PI*.5),this.material=new tm({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=r.getAttribute("position"),a=new Float32Array(s.count*3);r.setAttribute("color",new Hi(a,3)),this.add(new is(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");Bz.copy(this.light.color),Fz.copy(this.light.groundColor);for(let i=0,r=t.count;i<r;i++){const s=i<r/2?Bz:Fz;t.setXYZ(i,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(ece.setFromMatrixPosition(this.light.matrixWorld).negate())}}class nce extends kf{constructor(e=10,t=10,i=4473924,r=8947848){i=new Lt(i),r=new Lt(r);const s=t/2,a=e/t,o=e/2,l=[],u=[];for(let y=0,v=0,_=-o;y<=t;y++,_+=a){l.push(-o,0,_,o,0,_),l.push(_,0,-o,_,0,o);const x=y===s?i:r;x.toArray(u,v),v+=3,x.toArray(u,v),v+=3,x.toArray(u,v),v+=3,x.toArray(u,v),v+=3}const h=new Un;h.setAttribute("position",new Vt(l,3)),h.setAttribute("color",new Vt(u,3));const p=new ro({vertexColors:!0,toneMapped:!1});super(h,p),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class ice extends kf{constructor(e=10,t=16,i=8,r=64,s=4473924,a=8947848){s=new Lt(s),a=new Lt(a);const o=[],l=[];if(t>1)for(let p=0;p<t;p++){const y=p/t*(Math.PI*2),v=Math.sin(y)*e,_=Math.cos(y)*e;o.push(0,0,0),o.push(v,0,_);const x=p&1?s:a;l.push(x.r,x.g,x.b),l.push(x.r,x.g,x.b)}for(let p=0;p<i;p++){const y=p&1?s:a,v=e-e/i*p;for(let _=0;_<r;_++){let x=_/r*(Math.PI*2),E=Math.sin(x)*v,S=Math.cos(x)*v;o.push(E,0,S),l.push(y.r,y.g,y.b),x=(_+1)/r*(Math.PI*2),E=Math.sin(x)*v,S=Math.cos(x)*v,o.push(E,0,S),l.push(y.r,y.g,y.b)}}const u=new Un;u.setAttribute("position",new Vt(o,3)),u.setAttribute("color",new Vt(l,3));const h=new ro({vertexColors:!0,toneMapped:!1});super(u,h),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const Vz=new fe,iw=new fe,Hz=new fe;class rce extends yi{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new Un;r.setAttribute("position",new Vt([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new ro({fog:!1,toneMapped:!1});this.lightPlane=new nd(r,s),this.add(this.lightPlane),r=new Un,r.setAttribute("position",new Vt([0,0,0,0,0,1],3)),this.targetLine=new nd(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),Vz.setFromMatrixPosition(this.light.matrixWorld),iw.setFromMatrixPosition(this.light.target.matrixWorld),Hz.subVectors(iw,Vz),this.lightPlane.lookAt(iw),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(iw),this.targetLine.scale.z=Hz.length()}}const rw=new fe,Kr=new JA;class sce extends kf{constructor(e){const t=new Un,i=new ro({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],a={};o("n1","n2"),o("n2","n4"),o("n4","n3"),o("n3","n1"),o("f1","f2"),o("f2","f4"),o("f4","f3"),o("f3","f1"),o("n1","f1"),o("n2","f2"),o("n3","f3"),o("n4","f4"),o("p","n1"),o("p","n2"),o("p","n3"),o("p","n4"),o("u1","u2"),o("u2","u3"),o("u3","u1"),o("c","t"),o("p","c"),o("cn1","cn2"),o("cn3","cn4"),o("cf1","cf2"),o("cf3","cf4");function o(_,x){l(_),l(x)}function l(_){r.push(0,0,0),s.push(0,0,0),a[_]===void 0&&(a[_]=[]),a[_].push(r.length/3-1)}t.setAttribute("position",new Vt(r,3)),t.setAttribute("color",new Vt(s,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update();const u=new Lt(16755200),h=new Lt(16711680),p=new Lt(43775),y=new Lt(16777215),v=new Lt(3355443);this.setColors(u,h,p,y,v)}setColors(e,t,i,r,s){const o=this.geometry.getAttribute("color");o.setXYZ(0,e.r,e.g,e.b),o.setXYZ(1,e.r,e.g,e.b),o.setXYZ(2,e.r,e.g,e.b),o.setXYZ(3,e.r,e.g,e.b),o.setXYZ(4,e.r,e.g,e.b),o.setXYZ(5,e.r,e.g,e.b),o.setXYZ(6,e.r,e.g,e.b),o.setXYZ(7,e.r,e.g,e.b),o.setXYZ(8,e.r,e.g,e.b),o.setXYZ(9,e.r,e.g,e.b),o.setXYZ(10,e.r,e.g,e.b),o.setXYZ(11,e.r,e.g,e.b),o.setXYZ(12,e.r,e.g,e.b),o.setXYZ(13,e.r,e.g,e.b),o.setXYZ(14,e.r,e.g,e.b),o.setXYZ(15,e.r,e.g,e.b),o.setXYZ(16,e.r,e.g,e.b),o.setXYZ(17,e.r,e.g,e.b),o.setXYZ(18,e.r,e.g,e.b),o.setXYZ(19,e.r,e.g,e.b),o.setXYZ(20,e.r,e.g,e.b),o.setXYZ(21,e.r,e.g,e.b),o.setXYZ(22,e.r,e.g,e.b),o.setXYZ(23,e.r,e.g,e.b),o.setXYZ(24,t.r,t.g,t.b),o.setXYZ(25,t.r,t.g,t.b),o.setXYZ(26,t.r,t.g,t.b),o.setXYZ(27,t.r,t.g,t.b),o.setXYZ(28,t.r,t.g,t.b),o.setXYZ(29,t.r,t.g,t.b),o.setXYZ(30,t.r,t.g,t.b),o.setXYZ(31,t.r,t.g,t.b),o.setXYZ(32,i.r,i.g,i.b),o.setXYZ(33,i.r,i.g,i.b),o.setXYZ(34,i.r,i.g,i.b),o.setXYZ(35,i.r,i.g,i.b),o.setXYZ(36,i.r,i.g,i.b),o.setXYZ(37,i.r,i.g,i.b),o.setXYZ(38,r.r,r.g,r.b),o.setXYZ(39,r.r,r.g,r.b),o.setXYZ(40,s.r,s.g,s.b),o.setXYZ(41,s.r,s.g,s.b),o.setXYZ(42,s.r,s.g,s.b),o.setXYZ(43,s.r,s.g,s.b),o.setXYZ(44,s.r,s.g,s.b),o.setXYZ(45,s.r,s.g,s.b),o.setXYZ(46,s.r,s.g,s.b),o.setXYZ(47,s.r,s.g,s.b),o.setXYZ(48,s.r,s.g,s.b),o.setXYZ(49,s.r,s.g,s.b),o.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,i=1,r=1;Kr.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const s=this.camera.coordinateSystem===Cc?-1:0;us("c",t,e,Kr,0,0,s),us("t",t,e,Kr,0,0,1),us("n1",t,e,Kr,-1,-1,s),us("n2",t,e,Kr,i,-1,s),us("n3",t,e,Kr,-1,r,s),us("n4",t,e,Kr,i,r,s),us("f1",t,e,Kr,-1,-1,1),us("f2",t,e,Kr,i,-1,1),us("f3",t,e,Kr,-1,r,1),us("f4",t,e,Kr,i,r,1),us("u1",t,e,Kr,i*.7,r*1.1,s),us("u2",t,e,Kr,-1*.7,r*1.1,s),us("u3",t,e,Kr,0,r*2,s),us("cf1",t,e,Kr,-1,0,1),us("cf2",t,e,Kr,i,0,1),us("cf3",t,e,Kr,0,-1,1),us("cf4",t,e,Kr,0,r,1),us("cn1",t,e,Kr,-1,0,s),us("cn2",t,e,Kr,i,0,s),us("cn3",t,e,Kr,0,-1,s),us("cn4",t,e,Kr,0,r,s),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function us(n,e,t,i,r,s,a){rw.set(r,s,a).unproject(i);const o=e[n];if(o!==void 0){const l=t.getAttribute("position");for(let u=0,h=o.length;u<h;u++)l.setXYZ(o[u],rw.x,rw.y,rw.z)}}const sw=new ra;class ace extends kf{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),s=new Un;s.setIndex(new Hi(i,1)),s.setAttribute("position",new Hi(r,3)),super(s,new ro({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&sw.setFromObject(this.object),sw.isEmpty())return;const e=sw.min,t=sw.max,i=this.geometry.attributes.position,r=i.array;r[0]=t.x,r[1]=t.y,r[2]=t.z,r[3]=e.x,r[4]=t.y,r[5]=t.z,r[6]=e.x,r[7]=e.y,r[8]=t.z,r[9]=t.x,r[10]=e.y,r[11]=t.z,r[12]=t.x,r[13]=t.y,r[14]=e.z,r[15]=e.x,r[16]=t.y,r[17]=e.z,r[18]=e.x,r[19]=e.y,r[20]=e.z,r[21]=t.x,r[22]=e.y,r[23]=e.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class oce extends kf{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new Un;s.setIndex(new Hi(i,1)),s.setAttribute("position",new Vt(r,3)),super(s,new ro({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class lce extends nd{constructor(e,t=1,i=16776960){const r=i,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],a=new Un;a.setAttribute("position",new Vt(s,3)),a.computeBoundingSphere(),super(a,new ro({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const o=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Un;l.setAttribute("position",new Vt(o,3)),l.computeBoundingSphere(),this.add(new is(l,new tm({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const jz=new fe;let aw,YO;class cce extends yi{constructor(e=new fe(0,0,1),t=new fe(0,0,0),i=1,r=16776960,s=i*.2,a=s*.2){super(),this.type="ArrowHelper",aw===void 0&&(aw=new Un,aw.setAttribute("position",new Vt([0,0,0,0,1,0],3)),YO=new O_(.5,1,5,1),YO.translate(0,-.5,0)),this.position.copy(t),this.line=new nd(aw,new ro({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new is(YO,new tm({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,s,a)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{jz.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(jz,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class uce extends kf{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new Un;r.setAttribute("position",new Vt(t,3)),r.setAttribute("color",new Vt(i,3));const s=new ro({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,t,i){const r=new Lt,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(t),r.toArray(s,6),r.toArray(s,9),r.set(i),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class fce{constructor(){this.type="ShapePath",this.color=new Lt,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new FC,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,r){return this.currentPath.quadraticCurveTo(e,t,i,r),this}bezierCurveTo(e,t,i,r,s,a){return this.currentPath.bezierCurveTo(e,t,i,r,s,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(S){const w=[];for(let C=0,A=S.length;C<A;C++){const N=S[C],L=new $g;L.curves=N.curves,w.push(L)}return w}function i(S,w){const C=w.length;let A=!1;for(let N=C-1,L=0;L<C;N=L++){let I=w[N],D=w[L],P=D.x-I.x,U=D.y-I.y;if(Math.abs(U)>Number.EPSILON){if(U<0&&(I=w[L],P=-P,D=w[N],U=-U),S.y<I.y||S.y>D.y)continue;if(S.y===I.y){if(S.x===I.x)return!0}else{const F=U*(S.x-I.x)-P*(S.y-I.y);if(F===0)return!0;if(F<0)continue;A=!A}}else{if(S.y!==I.y)continue;if(D.x<=S.x&&S.x<=I.x||I.x<=S.x&&S.x<=D.x)return!0}}return A}const r=gu.isClockWise,s=this.subPaths;if(s.length===0)return[];let a,o,l;const u=[];if(s.length===1)return o=s[0],l=new $g,l.curves=o.curves,u.push(l),u;let h=!r(s[0].getPoints());h=e?!h:h;const p=[],y=[];let v=[],_=0,x;y[_]=void 0,v[_]=[];for(let S=0,w=s.length;S<w;S++)o=s[S],x=o.getPoints(),a=r(x),a=e?!a:a,a?(!h&&y[_]&&_++,y[_]={s:new $g,p:x},y[_].s.curves=o.curves,h&&_++,v[_]=[]):v[_].push({h:o,p:x[0]});if(!y[0])return t(s);if(y.length>1){let S=!1,w=0;for(let C=0,A=y.length;C<A;C++)p[C]=[];for(let C=0,A=y.length;C<A;C++){const N=v[C];for(let L=0;L<N.length;L++){const I=N[L];let D=!0;for(let P=0;P<y.length;P++)i(I.p,y[P].p)&&(C!==P&&w++,D?(D=!1,p[P].push(I)):S=!0);D&&p[C].push(I)}}w>0&&S===!1&&(v=p)}let E;for(let S=0,w=y.length;S<w;S++){l=y[S].s,u.push(l),E=v[S];for(let C=0,A=E.length;C<A;C++)l.holes.push(E[C].h)}return u}}class hce extends Uf{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){console.warn("THREE.Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function dce(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2):(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0),n}function pce(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0):(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2),n}function mce(n){return n.repeat.x=1,n.repeat.y=1,n.offset.x=0,n.offset.y=0,n}function EP(n,e,t,i){const r=gce(i);switch(t){case $N:return n*e;case $A:return n*e/r.components*r.byteLength;case PS:return n*e/r.components*r.byteLength;case YN:return n*e*2/r.components*r.byteLength;case XA:return n*e*2/r.components*r.byteLength;case XN:return n*e*3/r.components*r.byteLength;case eo:return n*e*4/r.components*r.byteLength;case YA:return n*e*4/r.components*r.byteLength;case ux:case fx:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case hx:case dx:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case fC:case dC:return Math.max(n,16)*Math.max(e,8)/4;case uC:case hC:return Math.max(n,8)*Math.max(e,8)/2;case pC:case mC:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case gC:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case yC:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case vC:return Math.floor((n+4)/5)*Math.floor((e+3)/4)*16;case _C:return Math.floor((n+4)/5)*Math.floor((e+4)/5)*16;case bC:return Math.floor((n+5)/6)*Math.floor((e+4)/5)*16;case xC:return Math.floor((n+5)/6)*Math.floor((e+5)/6)*16;case SC:return Math.floor((n+7)/8)*Math.floor((e+4)/5)*16;case EC:return Math.floor((n+7)/8)*Math.floor((e+5)/6)*16;case TC:return Math.floor((n+7)/8)*Math.floor((e+7)/8)*16;case wC:return Math.floor((n+9)/10)*Math.floor((e+4)/5)*16;case CC:return Math.floor((n+9)/10)*Math.floor((e+5)/6)*16;case AC:return Math.floor((n+9)/10)*Math.floor((e+7)/8)*16;case MC:return Math.floor((n+9)/10)*Math.floor((e+9)/10)*16;case RC:return Math.floor((n+11)/12)*Math.floor((e+9)/10)*16;case OC:return Math.floor((n+11)/12)*Math.floor((e+11)/12)*16;case px:case IC:case PC:return Math.ceil(n/4)*Math.ceil(e/4)*16;case KN:case DC:return Math.ceil(n/4)*Math.ceil(e/4)*8;case NC:case LC:return Math.ceil(n/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function gce(n){switch(n){case Mc:case GN:return{byteLength:1,components:1};case X0:case qN:case hy:return{byteLength:2,components:1};case qA:case WA:return{byteLength:2,components:4};case td:case GA:case Po:return{byteLength:4,components:1};case WN:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}class yce{static contain(e,t){return dce(e,t)}static cover(e,t){return pce(e,t)}static fill(e){return mce(e)}static getByteLength(e,t,i,r){return EP(e,t,i,r)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:VA}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=VA);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function tq(){let n=null,e=!1,t=null,i=null;function r(s,a){t(s,a),i=n.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function vce(n){const e=new WeakMap;function t(o,l){const u=o.array,h=o.usage,p=u.byteLength,y=n.createBuffer();n.bindBuffer(l,y),n.bufferData(l,u,h),o.onUploadCallback();let v;if(u instanceof Float32Array)v=n.FLOAT;else if(u instanceof Uint16Array)o.isFloat16BufferAttribute?v=n.HALF_FLOAT:v=n.UNSIGNED_SHORT;else if(u instanceof Int16Array)v=n.SHORT;else if(u instanceof Uint32Array)v=n.UNSIGNED_INT;else if(u instanceof Int32Array)v=n.INT;else if(u instanceof Int8Array)v=n.BYTE;else if(u instanceof Uint8Array)v=n.UNSIGNED_BYTE;else if(u instanceof Uint8ClampedArray)v=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+u);return{buffer:y,type:v,bytesPerElement:u.BYTES_PER_ELEMENT,version:o.version,size:p}}function i(o,l,u){const h=l.array,p=l.updateRanges;if(n.bindBuffer(u,o),p.length===0)n.bufferSubData(u,0,h);else{p.sort((v,_)=>v.start-_.start);let y=0;for(let v=1;v<p.length;v++){const _=p[y],x=p[v];x.start<=_.start+_.count+1?_.count=Math.max(_.count,x.start+x.count-_.start):(++y,p[y]=x)}p.length=y+1;for(let v=0,_=p.length;v<_;v++){const x=p[v];n.bufferSubData(u,x.start*h.BYTES_PER_ELEMENT,h,x.start,x.count)}l.clearUpdateRanges()}l.onUploadCallback()}function r(o){return o.isInterleavedBufferAttribute&&(o=o.data),e.get(o)}function s(o){o.isInterleavedBufferAttribute&&(o=o.data);const l=e.get(o);l&&(n.deleteBuffer(l.buffer),e.delete(o))}function a(o,l){if(o.isInterleavedBufferAttribute&&(o=o.data),o.isGLBufferAttribute){const h=e.get(o);(!h||h.version<o.version)&&e.set(o,{buffer:o.buffer,type:o.type,bytesPerElement:o.elementSize,version:o.version});return}const u=e.get(o);if(u===void 0)e.set(o,t(o,l));else if(u.version<o.version){if(u.size!==o.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(u.buffer,o,l),u.version=o.version}}return{get:r,remove:s,update:a}}var _ce=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,bce=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,xce=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,Sce=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Ece=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,Tce=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,wce=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Cce=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Ace=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,Mce=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,Rce=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,Oce=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Ice=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Pce=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,Dce=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,Nce=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,Lce=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Uce=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,kce=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,zce=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Bce=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Fce=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,Vce=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,Hce=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,jce=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Gce=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,qce=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Wce=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,$ce=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Xce=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Yce="gl_FragColor = linearToOutputTexel( gl_FragColor );",Kce=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,Zce=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Qce=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Jce=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,eue=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,tue=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,nue=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,iue=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,rue=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,sue=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,aue=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,oue=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,lue=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,cue=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,uue=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,fue=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,hue=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,due=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,pue=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,mue=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,gue=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,yue=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,vue=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,_ue=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,bue=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,xue=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Sue=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Eue=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Tue=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,wue=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Cue=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Aue=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Mue=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Rue=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,Oue=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Iue=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,Pue=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Due=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Nue=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,Lue=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Uue=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,kue=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,zue=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Bue=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Fue=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Vue=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,Hue=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,jue=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,Gue=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,que=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Wue=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,$ue=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,Xue=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Yue=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Kue=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Zue=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Que=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Jue=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,efe=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,tfe=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,nfe=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,ife=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,rfe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,sfe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,afe=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,ofe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,lfe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,cfe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,ufe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,ffe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,hfe=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,dfe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,pfe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,mfe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,gfe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,yfe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const vfe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,_fe=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,bfe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,xfe=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Sfe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Efe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Tfe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,wfe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,Cfe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Afe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Mfe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Rfe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Ofe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Ife=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Pfe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Dfe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Nfe=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Lfe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Ufe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,kfe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,zfe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Bfe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Ffe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Vfe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Hfe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,jfe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Gfe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,qfe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Wfe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,$fe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Xfe=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Yfe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Kfe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Zfe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Gn={alphahash_fragment:_ce,alphahash_pars_fragment:bce,alphamap_fragment:xce,alphamap_pars_fragment:Sce,alphatest_fragment:Ece,alphatest_pars_fragment:Tce,aomap_fragment:wce,aomap_pars_fragment:Cce,batching_pars_vertex:Ace,batching_vertex:Mce,begin_vertex:Rce,beginnormal_vertex:Oce,bsdfs:Ice,iridescence_fragment:Pce,bumpmap_pars_fragment:Dce,clipping_planes_fragment:Nce,clipping_planes_pars_fragment:Lce,clipping_planes_pars_vertex:Uce,clipping_planes_vertex:kce,color_fragment:zce,color_pars_fragment:Bce,color_pars_vertex:Fce,color_vertex:Vce,common:Hce,cube_uv_reflection_fragment:jce,defaultnormal_vertex:Gce,displacementmap_pars_vertex:qce,displacementmap_vertex:Wce,emissivemap_fragment:$ce,emissivemap_pars_fragment:Xce,colorspace_fragment:Yce,colorspace_pars_fragment:Kce,envmap_fragment:Zce,envmap_common_pars_fragment:Qce,envmap_pars_fragment:Jce,envmap_pars_vertex:eue,envmap_physical_pars_fragment:fue,envmap_vertex:tue,fog_vertex:nue,fog_pars_vertex:iue,fog_fragment:rue,fog_pars_fragment:sue,gradientmap_pars_fragment:aue,lightmap_pars_fragment:oue,lights_lambert_fragment:lue,lights_lambert_pars_fragment:cue,lights_pars_begin:uue,lights_toon_fragment:hue,lights_toon_pars_fragment:due,lights_phong_fragment:pue,lights_phong_pars_fragment:mue,lights_physical_fragment:gue,lights_physical_pars_fragment:yue,lights_fragment_begin:vue,lights_fragment_maps:_ue,lights_fragment_end:bue,logdepthbuf_fragment:xue,logdepthbuf_pars_fragment:Sue,logdepthbuf_pars_vertex:Eue,logdepthbuf_vertex:Tue,map_fragment:wue,map_pars_fragment:Cue,map_particle_fragment:Aue,map_particle_pars_fragment:Mue,metalnessmap_fragment:Rue,metalnessmap_pars_fragment:Oue,morphinstance_vertex:Iue,morphcolor_vertex:Pue,morphnormal_vertex:Due,morphtarget_pars_vertex:Nue,morphtarget_vertex:Lue,normal_fragment_begin:Uue,normal_fragment_maps:kue,normal_pars_fragment:zue,normal_pars_vertex:Bue,normal_vertex:Fue,normalmap_pars_fragment:Vue,clearcoat_normal_fragment_begin:Hue,clearcoat_normal_fragment_maps:jue,clearcoat_pars_fragment:Gue,iridescence_pars_fragment:que,opaque_fragment:Wue,packing:$ue,premultiplied_alpha_fragment:Xue,project_vertex:Yue,dithering_fragment:Kue,dithering_pars_fragment:Zue,roughnessmap_fragment:Que,roughnessmap_pars_fragment:Jue,shadowmap_pars_fragment:efe,shadowmap_pars_vertex:tfe,shadowmap_vertex:nfe,shadowmask_pars_fragment:ife,skinbase_vertex:rfe,skinning_pars_vertex:sfe,skinning_vertex:afe,skinnormal_vertex:ofe,specularmap_fragment:lfe,specularmap_pars_fragment:cfe,tonemapping_fragment:ufe,tonemapping_pars_fragment:ffe,transmission_fragment:hfe,transmission_pars_fragment:dfe,uv_pars_fragment:pfe,uv_pars_vertex:mfe,uv_vertex:gfe,worldpos_vertex:yfe,background_vert:vfe,background_frag:_fe,backgroundCube_vert:bfe,backgroundCube_frag:xfe,cube_vert:Sfe,cube_frag:Efe,depth_vert:Tfe,depth_frag:wfe,distanceRGBA_vert:Cfe,distanceRGBA_frag:Afe,equirect_vert:Mfe,equirect_frag:Rfe,linedashed_vert:Ofe,linedashed_frag:Ife,meshbasic_vert:Pfe,meshbasic_frag:Dfe,meshlambert_vert:Nfe,meshlambert_frag:Lfe,meshmatcap_vert:Ufe,meshmatcap_frag:kfe,meshnormal_vert:zfe,meshnormal_frag:Bfe,meshphong_vert:Ffe,meshphong_frag:Vfe,meshphysical_vert:Hfe,meshphysical_frag:jfe,meshtoon_vert:Gfe,meshtoon_frag:qfe,points_vert:Wfe,points_frag:$fe,shadow_vert:Xfe,shadow_frag:Yfe,sprite_vert:Kfe,sprite_frag:Zfe},It={common:{diffuse:{value:new Lt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Ln},alphaMap:{value:null},alphaMapTransform:{value:new Ln},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Ln}},envmap:{envMap:{value:null},envMapRotation:{value:new Ln},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Ln}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Ln}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Ln},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Ln},normalScale:{value:new it(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Ln},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Ln}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Ln}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Ln}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Lt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Lt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Ln},alphaTest:{value:0},uvTransform:{value:new Ln}},sprite:{diffuse:{value:new Lt(16777215)},opacity:{value:1},center:{value:new it(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Ln},alphaMap:{value:null},alphaMapTransform:{value:new Ln},alphaTest:{value:0}}},pu={basic:{uniforms:Ao([It.common,It.specularmap,It.envmap,It.aomap,It.lightmap,It.fog]),vertexShader:Gn.meshbasic_vert,fragmentShader:Gn.meshbasic_frag},lambert:{uniforms:Ao([It.common,It.specularmap,It.envmap,It.aomap,It.lightmap,It.emissivemap,It.bumpmap,It.normalmap,It.displacementmap,It.fog,It.lights,{emissive:{value:new Lt(0)}}]),vertexShader:Gn.meshlambert_vert,fragmentShader:Gn.meshlambert_frag},phong:{uniforms:Ao([It.common,It.specularmap,It.envmap,It.aomap,It.lightmap,It.emissivemap,It.bumpmap,It.normalmap,It.displacementmap,It.fog,It.lights,{emissive:{value:new Lt(0)},specular:{value:new Lt(1118481)},shininess:{value:30}}]),vertexShader:Gn.meshphong_vert,fragmentShader:Gn.meshphong_frag},standard:{uniforms:Ao([It.common,It.envmap,It.aomap,It.lightmap,It.emissivemap,It.bumpmap,It.normalmap,It.displacementmap,It.roughnessmap,It.metalnessmap,It.fog,It.lights,{emissive:{value:new Lt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Gn.meshphysical_vert,fragmentShader:Gn.meshphysical_frag},toon:{uniforms:Ao([It.common,It.aomap,It.lightmap,It.emissivemap,It.bumpmap,It.normalmap,It.displacementmap,It.gradientmap,It.fog,It.lights,{emissive:{value:new Lt(0)}}]),vertexShader:Gn.meshtoon_vert,fragmentShader:Gn.meshtoon_frag},matcap:{uniforms:Ao([It.common,It.bumpmap,It.normalmap,It.displacementmap,It.fog,{matcap:{value:null}}]),vertexShader:Gn.meshmatcap_vert,fragmentShader:Gn.meshmatcap_frag},points:{uniforms:Ao([It.points,It.fog]),vertexShader:Gn.points_vert,fragmentShader:Gn.points_frag},dashed:{uniforms:Ao([It.common,It.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Gn.linedashed_vert,fragmentShader:Gn.linedashed_frag},depth:{uniforms:Ao([It.common,It.displacementmap]),vertexShader:Gn.depth_vert,fragmentShader:Gn.depth_frag},normal:{uniforms:Ao([It.common,It.bumpmap,It.normalmap,It.displacementmap,{opacity:{value:1}}]),vertexShader:Gn.meshnormal_vert,fragmentShader:Gn.meshnormal_frag},sprite:{uniforms:Ao([It.sprite,It.fog]),vertexShader:Gn.sprite_vert,fragmentShader:Gn.sprite_frag},background:{uniforms:{uvTransform:{value:new Ln},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Gn.background_vert,fragmentShader:Gn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Ln}},vertexShader:Gn.backgroundCube_vert,fragmentShader:Gn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Gn.cube_vert,fragmentShader:Gn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Gn.equirect_vert,fragmentShader:Gn.equirect_frag},distanceRGBA:{uniforms:Ao([It.common,It.displacementmap,{referencePosition:{value:new fe},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Gn.distanceRGBA_vert,fragmentShader:Gn.distanceRGBA_frag},shadow:{uniforms:Ao([It.lights,It.fog,{color:{value:new Lt(0)},opacity:{value:1}}]),vertexShader:Gn.shadow_vert,fragmentShader:Gn.shadow_frag}};pu.physical={uniforms:Ao([pu.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Ln},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Ln},clearcoatNormalScale:{value:new it(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Ln},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Ln},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Ln},sheen:{value:0},sheenColor:{value:new Lt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Ln},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Ln},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Ln},transmissionSamplerSize:{value:new it},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Ln},attenuationDistance:{value:0},attenuationColor:{value:new Lt(0)},specularColor:{value:new Lt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Ln},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Ln},anisotropyVector:{value:new it},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Ln}}]),vertexShader:Gn.meshphysical_vert,fragmentShader:Gn.meshphysical_frag};const ow={r:0,b:0,g:0},ug=new Vl,Qfe=new an;function Jfe(n,e,t,i,r,s,a){const o=new Lt(0);let l=s===!0?0:1,u,h,p=null,y=0,v=null;function _(C){let A=C.isScene===!0?C.background:null;return A&&A.isTexture&&(A=(C.backgroundBlurriness>0?t:e).get(A)),A}function x(C){let A=!1;const N=_(C);N===null?S(o,l):N&&N.isColor&&(S(N,1),A=!0);const L=n.xr.getEnvironmentBlendMode();L==="additive"?i.buffers.color.setClear(0,0,0,1,a):L==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,a),(n.autoClear||A)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function E(C,A){const N=_(A);N&&(N.isCubeTexture||N.mapping===C_)?(h===void 0&&(h=new is(new dy(1,1,1),new Su({name:"BackgroundCubeMaterial",uniforms:e_(pu.backgroundCube.uniforms),vertexShader:pu.backgroundCube.vertexShader,fragmentShader:pu.backgroundCube.fragmentShader,side:Do,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),h.geometry.deleteAttribute("normal"),h.geometry.deleteAttribute("uv"),h.onBeforeRender=function(L,I,D){this.matrixWorld.copyPosition(D.matrixWorld)},Object.defineProperty(h.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(h)),ug.copy(A.backgroundRotation),ug.x*=-1,ug.y*=-1,ug.z*=-1,N.isCubeTexture&&N.isRenderTargetTexture===!1&&(ug.y*=-1,ug.z*=-1),h.material.uniforms.envMap.value=N,h.material.uniforms.flipEnvMap.value=N.isCubeTexture&&N.isRenderTargetTexture===!1?-1:1,h.material.uniforms.backgroundBlurriness.value=A.backgroundBlurriness,h.material.uniforms.backgroundIntensity.value=A.backgroundIntensity,h.material.uniforms.backgroundRotation.value.setFromMatrix4(Qfe.makeRotationFromEuler(ug)),h.material.toneMapped=fi.getTransfer(N.colorSpace)!==Vi,(p!==N||y!==N.version||v!==n.toneMapping)&&(h.material.needsUpdate=!0,p=N,y=N.version,v=n.toneMapping),h.layers.enableAll(),C.unshift(h,h.geometry,h.material,0,0,null)):N&&N.isTexture&&(u===void 0&&(u=new is(new I_(2,2),new Su({name:"BackgroundMaterial",uniforms:e_(pu.background.uniforms),vertexShader:pu.background.vertexShader,fragmentShader:pu.background.fragmentShader,side:Jh,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(u)),u.material.uniforms.t2D.value=N,u.material.uniforms.backgroundIntensity.value=A.backgroundIntensity,u.material.toneMapped=fi.getTransfer(N.colorSpace)!==Vi,N.matrixAutoUpdate===!0&&N.updateMatrix(),u.material.uniforms.uvTransform.value.copy(N.matrix),(p!==N||y!==N.version||v!==n.toneMapping)&&(u.material.needsUpdate=!0,p=N,y=N.version,v=n.toneMapping),u.layers.enableAll(),C.unshift(u,u.geometry,u.material,0,0,null))}function S(C,A){C.getRGB(ow,iG(n)),i.buffers.color.setClear(ow.r,ow.g,ow.b,A,a)}function w(){h!==void 0&&(h.geometry.dispose(),h.material.dispose(),h=void 0),u!==void 0&&(u.geometry.dispose(),u.material.dispose(),u=void 0)}return{getClearColor:function(){return o},setClearColor:function(C,A=1){o.set(C),l=A,S(o,l)},getClearAlpha:function(){return l},setClearAlpha:function(C){l=C,S(o,l)},render:x,addToRenderList:E,dispose:w}}function ehe(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),i={},r=y(null);let s=r,a=!1;function o(U,F,z,V,K){let J=!1;const q=p(V,z,F);s!==q&&(s=q,u(s.object)),J=v(U,V,z,K),J&&_(U,V,z,K),K!==null&&e.update(K,n.ELEMENT_ARRAY_BUFFER),(J||a)&&(a=!1,A(U,F,z,V),K!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(K).buffer))}function l(){return n.createVertexArray()}function u(U){return n.bindVertexArray(U)}function h(U){return n.deleteVertexArray(U)}function p(U,F,z){const V=z.wireframe===!0;let K=i[U.id];K===void 0&&(K={},i[U.id]=K);let J=K[F.id];J===void 0&&(J={},K[F.id]=J);let q=J[V];return q===void 0&&(q=y(l()),J[V]=q),q}function y(U){const F=[],z=[],V=[];for(let K=0;K<t;K++)F[K]=0,z[K]=0,V[K]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:F,enabledAttributes:z,attributeDivisors:V,object:U,attributes:{},index:null}}function v(U,F,z,V){const K=s.attributes,J=F.attributes;let q=0;const W=z.getAttributes();for(const Q in W)if(W[Q].location>=0){const pe=K[Q];let Y=J[Q];if(Y===void 0&&(Q==="instanceMatrix"&&U.instanceMatrix&&(Y=U.instanceMatrix),Q==="instanceColor"&&U.instanceColor&&(Y=U.instanceColor)),pe===void 0||pe.attribute!==Y||Y&&pe.data!==Y.data)return!0;q++}return s.attributesNum!==q||s.index!==V}function _(U,F,z,V){const K={},J=F.attributes;let q=0;const W=z.getAttributes();for(const Q in W)if(W[Q].location>=0){let pe=J[Q];pe===void 0&&(Q==="instanceMatrix"&&U.instanceMatrix&&(pe=U.instanceMatrix),Q==="instanceColor"&&U.instanceColor&&(pe=U.instanceColor));const Y={};Y.attribute=pe,pe&&pe.data&&(Y.data=pe.data),K[Q]=Y,q++}s.attributes=K,s.attributesNum=q,s.index=V}function x(){const U=s.newAttributes;for(let F=0,z=U.length;F<z;F++)U[F]=0}function E(U){S(U,0)}function S(U,F){const z=s.newAttributes,V=s.enabledAttributes,K=s.attributeDivisors;z[U]=1,V[U]===0&&(n.enableVertexAttribArray(U),V[U]=1),K[U]!==F&&(n.vertexAttribDivisor(U,F),K[U]=F)}function w(){const U=s.newAttributes,F=s.enabledAttributes;for(let z=0,V=F.length;z<V;z++)F[z]!==U[z]&&(n.disableVertexAttribArray(z),F[z]=0)}function C(U,F,z,V,K,J,q){q===!0?n.vertexAttribIPointer(U,F,z,K,J):n.vertexAttribPointer(U,F,z,V,K,J)}function A(U,F,z,V){x();const K=V.attributes,J=z.getAttributes(),q=F.defaultAttributeValues;for(const W in J){const Q=J[W];if(Q.location>=0){let re=K[W];if(re===void 0&&(W==="instanceMatrix"&&U.instanceMatrix&&(re=U.instanceMatrix),W==="instanceColor"&&U.instanceColor&&(re=U.instanceColor)),re!==void 0){const pe=re.normalized,Y=re.itemSize,le=e.get(re);if(le===void 0)continue;const de=le.buffer,ue=le.type,ne=le.bytesPerElement,he=ue===n.INT||ue===n.UNSIGNED_INT||re.gpuType===GA;if(re.isInterleavedBufferAttribute){const me=re.data,Le=me.stride,Ye=re.offset;if(me.isInstancedInterleavedBuffer){for(let je=0;je<Q.locationSize;je++)S(Q.location+je,me.meshPerAttribute);U.isInstancedMesh!==!0&&V._maxInstanceCount===void 0&&(V._maxInstanceCount=me.meshPerAttribute*me.count)}else for(let je=0;je<Q.locationSize;je++)E(Q.location+je);n.bindBuffer(n.ARRAY_BUFFER,de);for(let je=0;je<Q.locationSize;je++)C(Q.location+je,Y/Q.locationSize,ue,pe,Le*ne,(Ye+Y/Q.locationSize*je)*ne,he)}else{if(re.isInstancedBufferAttribute){for(let me=0;me<Q.locationSize;me++)S(Q.location+me,re.meshPerAttribute);U.isInstancedMesh!==!0&&V._maxInstanceCount===void 0&&(V._maxInstanceCount=re.meshPerAttribute*re.count)}else for(let me=0;me<Q.locationSize;me++)E(Q.location+me);n.bindBuffer(n.ARRAY_BUFFER,de);for(let me=0;me<Q.locationSize;me++)C(Q.location+me,Y/Q.locationSize,ue,pe,Y*ne,Y/Q.locationSize*me*ne,he)}}else if(q!==void 0){const pe=q[W];if(pe!==void 0)switch(pe.length){case 2:n.vertexAttrib2fv(Q.location,pe);break;case 3:n.vertexAttrib3fv(Q.location,pe);break;case 4:n.vertexAttrib4fv(Q.location,pe);break;default:n.vertexAttrib1fv(Q.location,pe)}}}}w()}function N(){D();for(const U in i){const F=i[U];for(const z in F){const V=F[z];for(const K in V)h(V[K].object),delete V[K];delete F[z]}delete i[U]}}function L(U){if(i[U.id]===void 0)return;const F=i[U.id];for(const z in F){const V=F[z];for(const K in V)h(V[K].object),delete V[K];delete F[z]}delete i[U.id]}function I(U){for(const F in i){const z=i[F];if(z[U.id]===void 0)continue;const V=z[U.id];for(const K in V)h(V[K].object),delete V[K];delete z[U.id]}}function D(){P(),a=!0,s!==r&&(s=r,u(s.object))}function P(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:o,reset:D,resetDefaultState:P,dispose:N,releaseStatesOfGeometry:L,releaseStatesOfProgram:I,initAttributes:x,enableAttribute:E,disableUnusedAttributes:w}}function the(n,e,t){let i;function r(u){i=u}function s(u,h){n.drawArrays(i,u,h),t.update(h,i,1)}function a(u,h,p){p!==0&&(n.drawArraysInstanced(i,u,h,p),t.update(h,i,p))}function o(u,h,p){if(p===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,u,0,h,0,p);let v=0;for(let _=0;_<p;_++)v+=h[_];t.update(v,i,1)}function l(u,h,p,y){if(p===0)return;const v=e.get("WEBGL_multi_draw");if(v===null)for(let _=0;_<u.length;_++)a(u[_],h[_],y[_]);else{v.multiDrawArraysInstancedWEBGL(i,u,0,h,0,y,0,p);let _=0;for(let x=0;x<p;x++)_+=h[x]*y[x];t.update(_,i,1)}}this.setMode=r,this.render=s,this.renderInstances=a,this.renderMultiDraw=o,this.renderMultiDrawInstances=l}function nhe(n,e,t,i){let r;function s(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const I=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(I.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function a(I){return!(I!==eo&&i.convert(I)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function o(I){const D=I===hy&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(I!==Mc&&i.convert(I)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&I!==Po&&!D)}function l(I){if(I==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";I="mediump"}return I==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let u=t.precision!==void 0?t.precision:"highp";const h=l(u);h!==u&&(console.warn("THREE.WebGLRenderer:",u,"not supported, using",h,"instead."),u=h);const p=t.logarithmicDepthBuffer===!0,y=t.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),v=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),_=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),x=n.getParameter(n.MAX_TEXTURE_SIZE),E=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),S=n.getParameter(n.MAX_VERTEX_ATTRIBS),w=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),C=n.getParameter(n.MAX_VARYING_VECTORS),A=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),N=_>0,L=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:l,textureFormatReadable:a,textureTypeReadable:o,precision:u,logarithmicDepthBuffer:p,reverseDepthBuffer:y,maxTextures:v,maxVertexTextures:_,maxTextureSize:x,maxCubemapSize:E,maxAttributes:S,maxVertexUniforms:w,maxVaryings:C,maxFragmentUniforms:A,vertexTextures:N,maxSamples:L}}function ihe(n){const e=this;let t=null,i=0,r=!1,s=!1;const a=new dp,o=new Ln,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(p,y){const v=p.length!==0||y||i!==0||r;return r=y,i=p.length,v},this.beginShadows=function(){s=!0,h(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(p,y){t=h(p,y,0)},this.setState=function(p,y,v){const _=p.clippingPlanes,x=p.clipIntersection,E=p.clipShadows,S=n.get(p);if(!r||_===null||_.length===0||s&&!E)s?h(null):u();else{const w=s?0:i,C=w*4;let A=S.clippingState||null;l.value=A,A=h(_,y,C,v);for(let N=0;N!==C;++N)A[N]=t[N];S.clippingState=A,this.numIntersection=x?this.numPlanes:0,this.numPlanes+=w}};function u(){l.value!==t&&(l.value=t,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function h(p,y,v,_){const x=p!==null?p.length:0;let E=null;if(x!==0){if(E=l.value,_!==!0||E===null){const S=v+x*4,w=y.matrixWorldInverse;o.getNormalMatrix(w),(E===null||E.length<S)&&(E=new Float32Array(S));for(let C=0,A=v;C!==x;++C,A+=4)a.copy(p[C]).applyMatrix4(w,o),a.normal.toArray(E,A),E[A+3]=a.constant}l.value=E,l.needsUpdate=!0}return e.numPlanes=x,e.numIntersection=0,E}}function rhe(n){let e=new WeakMap;function t(a,o){return o===jx?a.mapping=ed:o===Gx&&(a.mapping=$p),a}function i(a){if(a&&a.isTexture){const o=a.mapping;if(o===jx||o===Gx)if(e.has(a)){const l=e.get(a).texture;return t(l,a.mapping)}else{const l=a.image;if(l&&l.height>0){const u=new aG(l.height);return u.fromEquirectangularTexture(n,a),e.set(a,u),a.addEventListener("dispose",r),t(u.texture,a.mapping)}else return null}}return a}function r(a){const o=a.target;o.removeEventListener("dispose",r);const l=e.get(o);l!==void 0&&(e.delete(o),l.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}const m0=4,Gz=[.125,.215,.35,.446,.526,.582],Cg=20,KO=new FS,qz=new Lt;let ZO=null,QO=0,JO=0,e3=!1;const Sg=(1+Math.sqrt(5))/2,Nv=1/Sg,Wz=[new fe(-Sg,Nv,0),new fe(Sg,Nv,0),new fe(-Nv,0,Sg),new fe(Nv,0,Sg),new fe(0,Sg,-Nv),new fe(0,Sg,Nv),new fe(-1,1,-1),new fe(1,1,-1),new fe(-1,1,1),new fe(1,1,1)],she=new fe;class TP{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100,s={}){const{size:a=256,position:o=she}=s;ZO=this._renderer.getRenderTarget(),QO=this._renderer.getActiveCubeFace(),JO=this._renderer.getActiveMipmapLevel(),e3=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(a);const l=this._allocateTargets();return l.depthBuffer=!0,this._sceneToCubeUV(e,i,r,l,o),t>0&&this._blur(l,0,0,t),this._applyPMREM(l),this._cleanup(l),l}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=Yz(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=Xz(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(ZO,QO,JO),this._renderer.xr.enabled=e3,e.scissorTest=!1,lw(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===ed||e.mapping===$p?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),ZO=this._renderer.getRenderTarget(),QO=this._renderer.getActiveCubeFace(),JO=this._renderer.getActiveMipmapLevel(),e3=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:ps,minFilter:ps,generateMipmaps:!1,type:hy,format:eo,colorSpace:Xp,depthBuffer:!1},r=$z(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=$z(e,t,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=ahe(s)),this._blurMaterial=ohe(s,e,t)}return r}_compileMaterial(e){const t=new is(this._lodPlanes[0],e);this._renderer.compile(t,KO)}_sceneToCubeUV(e,t,i,r,s){const l=new na(90,1,t,i),u=[1,-1,1,1,1,1],h=[1,1,1,-1,-1,-1],p=this._renderer,y=p.autoClear,v=p.toneMapping;p.getClearColor(qz),p.toneMapping=Rf,p.autoClear=!1;const _=new tm({name:"PMREM.Background",side:Do,depthWrite:!1,depthTest:!1}),x=new is(new dy,_);let E=!1;const S=e.background;S?S.isColor&&(_.color.copy(S),e.background=null,E=!0):(_.color.copy(qz),E=!0);for(let w=0;w<6;w++){const C=w%3;C===0?(l.up.set(0,u[w],0),l.position.set(s.x,s.y,s.z),l.lookAt(s.x+h[w],s.y,s.z)):C===1?(l.up.set(0,0,u[w]),l.position.set(s.x,s.y,s.z),l.lookAt(s.x,s.y+h[w],s.z)):(l.up.set(0,u[w],0),l.position.set(s.x,s.y,s.z),l.lookAt(s.x,s.y,s.z+h[w]));const A=this._cubeSize;lw(r,C*A,w>2?A:0,A,A),p.setRenderTarget(r),E&&p.render(x,l),p.render(e,l)}x.geometry.dispose(),x.material.dispose(),p.toneMapping=v,p.autoClear=y,e.background=S}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===ed||e.mapping===$p;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=Yz()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=Xz());const s=r?this._cubemapMaterial:this._equirectMaterial,a=new is(this._lodPlanes[0],s),o=s.uniforms;o.envMap.value=e;const l=this._cubeSize;lw(t,0,0,3*l,2*l),i.setRenderTarget(t),i.render(a,KO)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;const r=this._lodPlanes.length;for(let s=1;s<r;s++){const a=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]),o=Wz[(r-s-1)%Wz.length];this._blur(e,s-1,s,a,o)}t.autoClear=i}_blur(e,t,i,r,s){const a=this._pingPongRenderTarget;this._halfBlur(e,a,t,i,r,"latitudinal",s),this._halfBlur(a,e,i,i,r,"longitudinal",s)}_halfBlur(e,t,i,r,s,a,o){const l=this._renderer,u=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const h=3,p=new is(this._lodPlanes[r],u),y=u.uniforms,v=this._sizeLods[i]-1,_=isFinite(s)?Math.PI/(2*v):2*Math.PI/(2*Cg-1),x=s/_,E=isFinite(s)?1+Math.floor(h*x):Cg;E>Cg&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${E} samples when the maximum is set to ${Cg}`);const S=[];let w=0;for(let I=0;I<Cg;++I){const D=I/x,P=Math.exp(-D*D/2);S.push(P),I===0?w+=P:I<E&&(w+=2*P)}for(let I=0;I<S.length;I++)S[I]=S[I]/w;y.envMap.value=e.texture,y.samples.value=E,y.weights.value=S,y.latitudinal.value=a==="latitudinal",o&&(y.poleAxis.value=o);const{_lodMax:C}=this;y.dTheta.value=_,y.mipInt.value=C-i;const A=this._sizeLods[r],N=3*A*(r>C-m0?r-C+m0:0),L=4*(this._cubeSize-A);lw(t,N,L,3*A,2*A),l.setRenderTarget(t),l.render(p,KO)}}function ahe(n){const e=[],t=[],i=[];let r=n;const s=n-m0+1+Gz.length;for(let a=0;a<s;a++){const o=Math.pow(2,r);t.push(o);let l=1/o;a>n-m0?l=Gz[a-n+m0-1]:a===0&&(l=0),i.push(l);const u=1/(o-2),h=-u,p=1+u,y=[h,h,p,h,p,p,h,h,p,p,h,p],v=6,_=6,x=3,E=2,S=1,w=new Float32Array(x*_*v),C=new Float32Array(E*_*v),A=new Float32Array(S*_*v);for(let L=0;L<v;L++){const I=L%3*2/3-1,D=L>2?0:-1,P=[I,D,0,I+2/3,D,0,I+2/3,D+1,0,I,D,0,I+2/3,D+1,0,I,D+1,0];w.set(P,x*_*L),C.set(y,E*_*L);const U=[L,L,L,L,L,L];A.set(U,S*_*L)}const N=new Un;N.setAttribute("position",new Hi(w,x)),N.setAttribute("uv",new Hi(C,E)),N.setAttribute("faceIndex",new Hi(A,S)),e.push(N),r>m0&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}function $z(n,e,t){const i=new xu(n,e,t);return i.texture.mapping=C_,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function lw(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function ohe(n,e,t){const i=new Float32Array(Cg),r=new fe(0,1,0);return new Su({name:"SphericalGaussianBlur",defines:{n:Cg,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:CL(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Hh,depthTest:!1,depthWrite:!1})}function Xz(){return new Su({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:CL(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Hh,depthTest:!1,depthWrite:!1})}function Yz(){return new Su({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:CL(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Hh,depthTest:!1,depthWrite:!1})}function CL(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function lhe(n){let e=new WeakMap,t=null;function i(o){if(o&&o.isTexture){const l=o.mapping,u=l===jx||l===Gx,h=l===ed||l===$p;if(u||h){let p=e.get(o);const y=p!==void 0?p.texture.pmremVersion:0;if(o.isRenderTargetTexture&&o.pmremVersion!==y)return t===null&&(t=new TP(n)),p=u?t.fromEquirectangular(o,p):t.fromCubemap(o,p),p.texture.pmremVersion=o.pmremVersion,e.set(o,p),p.texture;if(p!==void 0)return p.texture;{const v=o.image;return u&&v&&v.height>0||h&&v&&r(v)?(t===null&&(t=new TP(n)),p=u?t.fromEquirectangular(o):t.fromCubemap(o),p.texture.pmremVersion=o.pmremVersion,e.set(o,p),o.addEventListener("dispose",s),p.texture):null}}}return o}function r(o){let l=0;const u=6;for(let h=0;h<u;h++)o[h]!==void 0&&l++;return l===u}function s(o){const l=o.target;l.removeEventListener("dispose",s);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function a(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:a}}function che(n){const e={};function t(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return t(i)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(i){const r=t(i);return r===null&&d2("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function uhe(n,e,t,i){const r={},s=new WeakMap;function a(p){const y=p.target;y.index!==null&&e.remove(y.index);for(const _ in y.attributes)e.remove(y.attributes[_]);y.removeEventListener("dispose",a),delete r[y.id];const v=s.get(y);v&&(e.remove(v),s.delete(y)),i.releaseStatesOfGeometry(y),y.isInstancedBufferGeometry===!0&&delete y._maxInstanceCount,t.memory.geometries--}function o(p,y){return r[y.id]===!0||(y.addEventListener("dispose",a),r[y.id]=!0,t.memory.geometries++),y}function l(p){const y=p.attributes;for(const v in y)e.update(y[v],n.ARRAY_BUFFER)}function u(p){const y=[],v=p.index,_=p.attributes.position;let x=0;if(v!==null){const w=v.array;x=v.version;for(let C=0,A=w.length;C<A;C+=3){const N=w[C+0],L=w[C+1],I=w[C+2];y.push(N,L,L,I,I,N)}}else if(_!==void 0){const w=_.array;x=_.version;for(let C=0,A=w.length/3-1;C<A;C+=3){const N=C+0,L=C+1,I=C+2;y.push(N,L,L,I,I,N)}}else return;const E=new(Jj(y)?tL:eL)(y,1);E.version=x;const S=s.get(p);S&&e.remove(S),s.set(p,E)}function h(p){const y=s.get(p);if(y){const v=p.index;v!==null&&y.version<v.version&&u(p)}else u(p);return s.get(p)}return{get:o,update:l,getWireframeAttribute:h}}function fhe(n,e,t){let i;function r(y){i=y}let s,a;function o(y){s=y.type,a=y.bytesPerElement}function l(y,v){n.drawElements(i,v,s,y*a),t.update(v,i,1)}function u(y,v,_){_!==0&&(n.drawElementsInstanced(i,v,s,y*a,_),t.update(v,i,_))}function h(y,v,_){if(_===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,v,0,s,y,0,_);let E=0;for(let S=0;S<_;S++)E+=v[S];t.update(E,i,1)}function p(y,v,_,x){if(_===0)return;const E=e.get("WEBGL_multi_draw");if(E===null)for(let S=0;S<y.length;S++)u(y[S]/a,v[S],x[S]);else{E.multiDrawElementsInstancedWEBGL(i,v,0,s,y,0,x,0,_);let S=0;for(let w=0;w<_;w++)S+=v[w]*x[w];t.update(S,i,1)}}this.setMode=r,this.setIndex=o,this.render=l,this.renderInstances=u,this.renderMultiDraw=h,this.renderMultiDrawInstances=p}function hhe(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,a,o){switch(t.calls++,a){case n.TRIANGLES:t.triangles+=o*(s/3);break;case n.LINES:t.lines+=o*(s/2);break;case n.LINE_STRIP:t.lines+=o*(s-1);break;case n.LINE_LOOP:t.lines+=o*s;break;case n.POINTS:t.points+=o*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function r(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:i}}function dhe(n,e,t){const i=new WeakMap,r=new gi;function s(a,o,l){const u=a.morphTargetInfluences,h=o.morphAttributes.position||o.morphAttributes.normal||o.morphAttributes.color,p=h!==void 0?h.length:0;let y=i.get(o);if(y===void 0||y.count!==p){let U=function(){D.dispose(),i.delete(o),o.removeEventListener("dispose",U)};var v=U;y!==void 0&&y.texture.dispose();const _=o.morphAttributes.position!==void 0,x=o.morphAttributes.normal!==void 0,E=o.morphAttributes.color!==void 0,S=o.morphAttributes.position||[],w=o.morphAttributes.normal||[],C=o.morphAttributes.color||[];let A=0;_===!0&&(A=1),x===!0&&(A=2),E===!0&&(A=3);let N=o.attributes.position.count*A,L=1;N>e.maxTextureSize&&(L=Math.ceil(N/e.maxTextureSize),N=e.maxTextureSize);const I=new Float32Array(N*L*4*p),D=new DS(I,N,L,p);D.type=Po,D.needsUpdate=!0;const P=A*4;for(let F=0;F<p;F++){const z=S[F],V=w[F],K=C[F],J=N*L*4*F;for(let q=0;q<z.count;q++){const W=q*P;_===!0&&(r.fromBufferAttribute(z,q),I[J+W+0]=r.x,I[J+W+1]=r.y,I[J+W+2]=r.z,I[J+W+3]=0),x===!0&&(r.fromBufferAttribute(V,q),I[J+W+4]=r.x,I[J+W+5]=r.y,I[J+W+6]=r.z,I[J+W+7]=0),E===!0&&(r.fromBufferAttribute(K,q),I[J+W+8]=r.x,I[J+W+9]=r.y,I[J+W+10]=r.z,I[J+W+11]=K.itemSize===4?r.w:1)}}y={count:p,texture:D,size:new it(N,L)},i.set(o,y),o.addEventListener("dispose",U)}if(a.isInstancedMesh===!0&&a.morphTexture!==null)l.getUniforms().setValue(n,"morphTexture",a.morphTexture,t);else{let _=0;for(let E=0;E<u.length;E++)_+=u[E];const x=o.morphTargetsRelative?1:1-_;l.getUniforms().setValue(n,"morphTargetBaseInfluence",x),l.getUniforms().setValue(n,"morphTargetInfluences",u)}l.getUniforms().setValue(n,"morphTargetsTexture",y.texture,t),l.getUniforms().setValue(n,"morphTargetsTextureSize",y.size)}return{update:s}}function phe(n,e,t,i){let r=new WeakMap;function s(l){const u=i.render.frame,h=l.geometry,p=e.get(l,h);if(r.get(p)!==u&&(e.update(p),r.set(p,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",o)===!1&&l.addEventListener("dispose",o),r.get(l)!==u&&(t.update(l.instanceMatrix,n.ARRAY_BUFFER),l.instanceColor!==null&&t.update(l.instanceColor,n.ARRAY_BUFFER),r.set(l,u))),l.isSkinnedMesh){const y=l.skeleton;r.get(y)!==u&&(y.update(),r.set(y,u))}return p}function a(){r=new WeakMap}function o(l){const u=l.target;u.removeEventListener("dispose",o),t.remove(u.instanceMatrix),u.instanceColor!==null&&t.remove(u.instanceColor)}return{update:s,dispose:a}}const nq=new rs,Kz=new LS(1,1),iq=new DS,rq=new QA,sq=new NS,Zz=[],Qz=[],Jz=new Float32Array(16),eB=new Float32Array(9),tB=new Float32Array(4);function P_(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let s=Zz[r];if(s===void 0&&(s=new Float32Array(r),Zz[r]=s),e!==0){i.toArray(s,0);for(let a=1,o=0;a!==e;++a)o+=t,n[a].toArray(s,o)}return s}function Fs(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function Vs(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function TM(n,e){let t=Qz[e];t===void 0&&(t=new Int32Array(e),Qz[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function mhe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function ghe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Fs(t,e))return;n.uniform2fv(this.addr,e),Vs(t,e)}}function yhe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Fs(t,e))return;n.uniform3fv(this.addr,e),Vs(t,e)}}function vhe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Fs(t,e))return;n.uniform4fv(this.addr,e),Vs(t,e)}}function _he(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Fs(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Vs(t,e)}else{if(Fs(t,i))return;tB.set(i),n.uniformMatrix2fv(this.addr,!1,tB),Vs(t,i)}}function bhe(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Fs(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Vs(t,e)}else{if(Fs(t,i))return;eB.set(i),n.uniformMatrix3fv(this.addr,!1,eB),Vs(t,i)}}function xhe(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Fs(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Vs(t,e)}else{if(Fs(t,i))return;Jz.set(i),n.uniformMatrix4fv(this.addr,!1,Jz),Vs(t,i)}}function She(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function Ehe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Fs(t,e))return;n.uniform2iv(this.addr,e),Vs(t,e)}}function The(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Fs(t,e))return;n.uniform3iv(this.addr,e),Vs(t,e)}}function whe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Fs(t,e))return;n.uniform4iv(this.addr,e),Vs(t,e)}}function Che(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function Ahe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Fs(t,e))return;n.uniform2uiv(this.addr,e),Vs(t,e)}}function Mhe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Fs(t,e))return;n.uniform3uiv(this.addr,e),Vs(t,e)}}function Rhe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Fs(t,e))return;n.uniform4uiv(this.addr,e),Vs(t,e)}}function Ohe(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r);let s;this.type===n.SAMPLER_2D_SHADOW?(Kz.compareFunction=QN,s=Kz):s=nq,t.setTexture2D(e||s,r)}function Ihe(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||rq,r)}function Phe(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||sq,r)}function Dhe(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||iq,r)}function Nhe(n){switch(n){case 5126:return mhe;case 35664:return ghe;case 35665:return yhe;case 35666:return vhe;case 35674:return _he;case 35675:return bhe;case 35676:return xhe;case 5124:case 35670:return She;case 35667:case 35671:return Ehe;case 35668:case 35672:return The;case 35669:case 35673:return whe;case 5125:return Che;case 36294:return Ahe;case 36295:return Mhe;case 36296:return Rhe;case 35678:case 36198:case 36298:case 36306:case 35682:return Ohe;case 35679:case 36299:case 36307:return Ihe;case 35680:case 36300:case 36308:case 36293:return Phe;case 36289:case 36303:case 36311:case 36292:return Dhe}}function Lhe(n,e){n.uniform1fv(this.addr,e)}function Uhe(n,e){const t=P_(e,this.size,2);n.uniform2fv(this.addr,t)}function khe(n,e){const t=P_(e,this.size,3);n.uniform3fv(this.addr,t)}function zhe(n,e){const t=P_(e,this.size,4);n.uniform4fv(this.addr,t)}function Bhe(n,e){const t=P_(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function Fhe(n,e){const t=P_(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function Vhe(n,e){const t=P_(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function Hhe(n,e){n.uniform1iv(this.addr,e)}function jhe(n,e){n.uniform2iv(this.addr,e)}function Ghe(n,e){n.uniform3iv(this.addr,e)}function qhe(n,e){n.uniform4iv(this.addr,e)}function Whe(n,e){n.uniform1uiv(this.addr,e)}function $he(n,e){n.uniform2uiv(this.addr,e)}function Xhe(n,e){n.uniform3uiv(this.addr,e)}function Yhe(n,e){n.uniform4uiv(this.addr,e)}function Khe(n,e,t){const i=this.cache,r=e.length,s=TM(t,r);Fs(i,s)||(n.uniform1iv(this.addr,s),Vs(i,s));for(let a=0;a!==r;++a)t.setTexture2D(e[a]||nq,s[a])}function Zhe(n,e,t){const i=this.cache,r=e.length,s=TM(t,r);Fs(i,s)||(n.uniform1iv(this.addr,s),Vs(i,s));for(let a=0;a!==r;++a)t.setTexture3D(e[a]||rq,s[a])}function Qhe(n,e,t){const i=this.cache,r=e.length,s=TM(t,r);Fs(i,s)||(n.uniform1iv(this.addr,s),Vs(i,s));for(let a=0;a!==r;++a)t.setTextureCube(e[a]||sq,s[a])}function Jhe(n,e,t){const i=this.cache,r=e.length,s=TM(t,r);Fs(i,s)||(n.uniform1iv(this.addr,s),Vs(i,s));for(let a=0;a!==r;++a)t.setTexture2DArray(e[a]||iq,s[a])}function ede(n){switch(n){case 5126:return Lhe;case 35664:return Uhe;case 35665:return khe;case 35666:return zhe;case 35674:return Bhe;case 35675:return Fhe;case 35676:return Vhe;case 5124:case 35670:return Hhe;case 35667:case 35671:return jhe;case 35668:case 35672:return Ghe;case 35669:case 35673:return qhe;case 5125:return Whe;case 36294:return $he;case 36295:return Xhe;case 36296:return Yhe;case 35678:case 36198:case 36298:case 36306:case 35682:return Khe;case 35679:case 36299:case 36307:return Zhe;case 35680:case 36300:case 36308:case 36293:return Qhe;case 36289:case 36303:case 36311:case 36292:return Jhe}}class tde{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.setValue=Nhe(t.type)}}class nde{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=ede(t.type)}}class ide{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let s=0,a=r.length;s!==a;++s){const o=r[s];o.setValue(e,t[o.id],i)}}}const t3=/(\w+)(\])?(\[|\.)?/g;function nB(n,e){n.seq.push(e),n.map[e.id]=e}function rde(n,e,t){const i=n.name,r=i.length;for(t3.lastIndex=0;;){const s=t3.exec(i),a=t3.lastIndex;let o=s[1];const l=s[2]==="]",u=s[3];if(l&&(o=o|0),u===void 0||u==="["&&a+2===r){nB(t,u===void 0?new tde(o,n,e):new nde(o,n,e));break}else{let p=t.map[o];p===void 0&&(p=new ide(o),nB(t,p)),t=p}}}class m2{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const s=e.getActiveUniform(t,r),a=e.getUniformLocation(t,s.name);rde(s,a,this)}}setValue(e,t,i,r){const s=this.map[t];s!==void 0&&s.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let s=0,a=t.length;s!==a;++s){const o=t[s],l=i[o.id];l.needsUpdate!==!1&&o.setValue(e,l.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,s=e.length;r!==s;++r){const a=e[r];a.id in t&&i.push(a)}return i}}function iB(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}const sde=37297;let ade=0;function ode(n,e){const t=n.split(`
`),i=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let a=r;a<s;a++){const o=a+1;i.push(`${o===e?">":" "} ${o}: ${t[a]}`)}return i.join(`
`)}const rB=new Ln;function lde(n){fi._getMatrix(rB,fi.workingColorSpace,n);const e=`mat3( ${rB.elements.map(t=>t.toFixed(4))} )`;switch(fi.getTransfer(n)){case Yx:return[e,"LinearTransferOETF"];case Vi:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",n),[e,"LinearTransferOETF"]}}function sB(n,e,t){const i=n.getShaderParameter(e,n.COMPILE_STATUS),r=n.getShaderInfoLog(e).trim();if(i&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const a=parseInt(s[1]);return t.toUpperCase()+`

`+r+`

`+ode(n.getShaderSource(e),a)}else return r}function cde(n,e){const t=lde(e);return[`vec4 ${n}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function ude(n,e){let t;switch(e){case Pj:t="Linear";break;case Dj:t="Reinhard";break;case Nj:t="Cineon";break;case HN:t="ACESFilmic";break;case Uj:t="AgX";break;case kj:t="Neutral";break;case Lj:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const cw=new fe;function fde(){fi.getLuminanceCoefficients(cw);const n=cw.x.toFixed(4),e=cw.y.toFixed(4),t=cw.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function hde(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(H1).join(`
`)}function dde(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function pde(n,e){const t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const s=n.getActiveAttrib(e,r),a=s.name;let o=1;s.type===n.FLOAT_MAT2&&(o=2),s.type===n.FLOAT_MAT3&&(o=3),s.type===n.FLOAT_MAT4&&(o=4),t[a]={type:s.type,location:n.getAttribLocation(e,a),locationSize:o}}return t}function H1(n){return n!==""}function aB(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function oB(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const mde=/^[ \t]*#include +<([\w\d./]+)>/gm;function wP(n){return n.replace(mde,yde)}const gde=new Map;function yde(n,e){let t=Gn[e];if(t===void 0){const i=gde.get(e);if(i!==void 0)t=Gn[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return wP(t)}const vde=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function lB(n){return n.replace(vde,_de)}function _de(n,e,t,i){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function cB(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function bde(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===HA?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===lx?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===hu&&(e="SHADOWMAP_TYPE_VSM"),e}function xde(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case ed:case $p:e="ENVMAP_TYPE_CUBE";break;case C_:e="ENVMAP_TYPE_CUBE_UV";break}return e}function Sde(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case $p:e="ENVMAP_MODE_REFRACTION";break}return e}function Ede(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case IS:e="ENVMAP_BLENDING_MULTIPLY";break;case Oj:e="ENVMAP_BLENDING_MIX";break;case Ij:e="ENVMAP_BLENDING_ADD";break}return e}function Tde(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:i,maxMip:t}}function wde(n,e,t,i){const r=n.getContext(),s=t.defines;let a=t.vertexShader,o=t.fragmentShader;const l=bde(t),u=xde(t),h=Sde(t),p=Ede(t),y=Tde(t),v=hde(t),_=dde(s),x=r.createProgram();let E,S,w=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(E=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_].filter(H1).join(`
`),E.length>0&&(E+=`
`),S=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_].filter(H1).join(`
`),S.length>0&&(S+=`
`)):(E=[cB(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+h:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(H1).join(`
`),S=[cB(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.envMap?"#define "+h:"",t.envMap?"#define "+p:"",y?"#define CUBEUV_TEXEL_WIDTH "+y.texelWidth:"",y?"#define CUBEUV_TEXEL_HEIGHT "+y.texelHeight:"",y?"#define CUBEUV_MAX_MIP "+y.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Rf?"#define TONE_MAPPING":"",t.toneMapping!==Rf?Gn.tonemapping_pars_fragment:"",t.toneMapping!==Rf?ude("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Gn.colorspace_pars_fragment,cde("linearToOutputTexel",t.outputColorSpace),fde(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(H1).join(`
`)),a=wP(a),a=aB(a,t),a=oB(a,t),o=wP(o),o=aB(o,t),o=oB(o,t),a=lB(a),o=lB(o),t.isRawShaderMaterial!==!0&&(w=`#version 300 es
`,E=[v,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+E,S=["#define varying in",t.glslVersion===gP?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===gP?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+S);const C=w+E+a,A=w+S+o,N=iB(r,r.VERTEX_SHADER,C),L=iB(r,r.FRAGMENT_SHADER,A);r.attachShader(x,N),r.attachShader(x,L),t.index0AttributeName!==void 0?r.bindAttribLocation(x,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(x,0,"position"),r.linkProgram(x);function I(F){if(n.debug.checkShaderErrors){const z=r.getProgramInfoLog(x).trim(),V=r.getShaderInfoLog(N).trim(),K=r.getShaderInfoLog(L).trim();let J=!0,q=!0;if(r.getProgramParameter(x,r.LINK_STATUS)===!1)if(J=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(r,x,N,L);else{const W=sB(r,N,"vertex"),Q=sB(r,L,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(x,r.VALIDATE_STATUS)+`

Material Name: `+F.name+`
Material Type: `+F.type+`

Program Info Log: `+z+`
`+W+`
`+Q)}else z!==""?console.warn("THREE.WebGLProgram: Program Info Log:",z):(V===""||K==="")&&(q=!1);q&&(F.diagnostics={runnable:J,programLog:z,vertexShader:{log:V,prefix:E},fragmentShader:{log:K,prefix:S}})}r.deleteShader(N),r.deleteShader(L),D=new m2(r,x),P=pde(r,x)}let D;this.getUniforms=function(){return D===void 0&&I(this),D};let P;this.getAttributes=function(){return P===void 0&&I(this),P};let U=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return U===!1&&(U=r.getProgramParameter(x,sde)),U},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(x),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=ade++,this.cacheKey=e,this.usedTimes=1,this.program=x,this.vertexShader=N,this.fragmentShader=L,this}let Cde=0;class Ade{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(t),s=this._getShaderStage(i),a=this._getShaderCacheForMaterial(e);return a.has(r)===!1&&(a.add(r),r.usedTimes++),a.has(s)===!1&&(a.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new Mde(e),t.set(e,i)),i}}class Mde{constructor(e){this.id=Cde++,this.code=e,this.usedTimes=0}}function Rde(n,e,t,i,r,s,a){const o=new J0,l=new Ade,u=new Set,h=[],p=r.logarithmicDepthBuffer,y=r.vertexTextures;let v=r.precision;const _={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function x(P){return u.add(P),P===0?"uv":`uv${P}`}function E(P,U,F,z,V){const K=z.fog,J=V.geometry,q=P.isMeshStandardMaterial?z.environment:null,W=(P.isMeshStandardMaterial?t:e).get(P.envMap||q),Q=W&&W.mapping===C_?W.image.height:null,re=_[P.type];P.precision!==null&&(v=r.getMaxPrecision(P.precision),v!==P.precision&&console.warn("THREE.WebGLProgram.getParameters:",P.precision,"not supported, using",v,"instead."));const pe=J.morphAttributes.position||J.morphAttributes.normal||J.morphAttributes.color,Y=pe!==void 0?pe.length:0;let le=0;J.morphAttributes.position!==void 0&&(le=1),J.morphAttributes.normal!==void 0&&(le=2),J.morphAttributes.color!==void 0&&(le=3);let de,ue,ne,he;if(re){const $t=pu[re];de=$t.vertexShader,ue=$t.fragmentShader}else de=P.vertexShader,ue=P.fragmentShader,l.update(P),ne=l.getVertexShaderID(P),he=l.getFragmentShaderID(P);const me=n.getRenderTarget(),Le=n.state.buffers.depth.getReversed(),Ye=V.isInstancedMesh===!0,je=V.isBatchedMesh===!0,rt=!!P.map,ot=!!P.matcap,dt=!!W,te=!!P.aoMap,Ie=!!P.lightMap,Ve=!!P.bumpMap,Ue=!!P.normalMap,Re=!!P.displacementMap,ut=!!P.emissiveMap,We=!!P.metalnessMap,ae=!!P.roughnessMap,ee=P.anisotropy>0,Ee=P.clearcoat>0,Me=P.dispersion>0,Qe=P.iridescence>0,Oe=P.sheen>0,ct=P.transmission>0,lt=ee&&!!P.anisotropyMap,Dt=Ee&&!!P.clearcoatMap,Ut=Ee&&!!P.clearcoatNormalMap,Xe=Ee&&!!P.clearcoatRoughnessMap,mt=Qe&&!!P.iridescenceMap,At=Qe&&!!P.iridescenceThicknessMap,xt=Oe&&!!P.sheenColorMap,_t=Oe&&!!P.sheenRoughnessMap,Ht=!!P.specularMap,Qt=!!P.specularColorMap,pn=!!P.specularIntensityMap,be=ct&&!!P.transmissionMap,St=ct&&!!P.thicknessMap,xe=!!P.gradientMap,He=!!P.alphaMap,st=P.alphaTest>0,pt=!!P.alphaHash,qt=!!P.extensions;let Xn=Rf;P.toneMapped&&(me===null||me.isXRRenderTarget===!0)&&(Xn=n.toneMapping);const kt={shaderID:re,shaderType:P.type,shaderName:P.name,vertexShader:de,fragmentShader:ue,defines:P.defines,customVertexShaderID:ne,customFragmentShaderID:he,isRawShaderMaterial:P.isRawShaderMaterial===!0,glslVersion:P.glslVersion,precision:v,batching:je,batchingColor:je&&V._colorsTexture!==null,instancing:Ye,instancingColor:Ye&&V.instanceColor!==null,instancingMorph:Ye&&V.morphTexture!==null,supportsVertexTextures:y,outputColorSpace:me===null?n.outputColorSpace:me.isXRRenderTarget===!0?me.texture.colorSpace:Xp,alphaToCoverage:!!P.alphaToCoverage,map:rt,matcap:ot,envMap:dt,envMapMode:dt&&W.mapping,envMapCubeUVHeight:Q,aoMap:te,lightMap:Ie,bumpMap:Ve,normalMap:Ue,displacementMap:y&&Re,emissiveMap:ut,normalMapObjectSpace:Ue&&P.normalMapType===Gj,normalMapTangentSpace:Ue&&P.normalMapType===em,metalnessMap:We,roughnessMap:ae,anisotropy:ee,anisotropyMap:lt,clearcoat:Ee,clearcoatMap:Dt,clearcoatNormalMap:Ut,clearcoatRoughnessMap:Xe,dispersion:Me,iridescence:Qe,iridescenceMap:mt,iridescenceThicknessMap:At,sheen:Oe,sheenColorMap:xt,sheenRoughnessMap:_t,specularMap:Ht,specularColorMap:Qt,specularIntensityMap:pn,transmission:ct,transmissionMap:be,thicknessMap:St,gradientMap:xe,opaque:P.transparent===!1&&P.blending===qg&&P.alphaToCoverage===!1,alphaMap:He,alphaTest:st,alphaHash:pt,combine:P.combine,mapUv:rt&&x(P.map.channel),aoMapUv:te&&x(P.aoMap.channel),lightMapUv:Ie&&x(P.lightMap.channel),bumpMapUv:Ve&&x(P.bumpMap.channel),normalMapUv:Ue&&x(P.normalMap.channel),displacementMapUv:Re&&x(P.displacementMap.channel),emissiveMapUv:ut&&x(P.emissiveMap.channel),metalnessMapUv:We&&x(P.metalnessMap.channel),roughnessMapUv:ae&&x(P.roughnessMap.channel),anisotropyMapUv:lt&&x(P.anisotropyMap.channel),clearcoatMapUv:Dt&&x(P.clearcoatMap.channel),clearcoatNormalMapUv:Ut&&x(P.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Xe&&x(P.clearcoatRoughnessMap.channel),iridescenceMapUv:mt&&x(P.iridescenceMap.channel),iridescenceThicknessMapUv:At&&x(P.iridescenceThicknessMap.channel),sheenColorMapUv:xt&&x(P.sheenColorMap.channel),sheenRoughnessMapUv:_t&&x(P.sheenRoughnessMap.channel),specularMapUv:Ht&&x(P.specularMap.channel),specularColorMapUv:Qt&&x(P.specularColorMap.channel),specularIntensityMapUv:pn&&x(P.specularIntensityMap.channel),transmissionMapUv:be&&x(P.transmissionMap.channel),thicknessMapUv:St&&x(P.thicknessMap.channel),alphaMapUv:He&&x(P.alphaMap.channel),vertexTangents:!!J.attributes.tangent&&(Ue||ee),vertexColors:P.vertexColors,vertexAlphas:P.vertexColors===!0&&!!J.attributes.color&&J.attributes.color.itemSize===4,pointsUvs:V.isPoints===!0&&!!J.attributes.uv&&(rt||He),fog:!!K,useFog:P.fog===!0,fogExp2:!!K&&K.isFogExp2,flatShading:P.flatShading===!0,sizeAttenuation:P.sizeAttenuation===!0,logarithmicDepthBuffer:p,reverseDepthBuffer:Le,skinning:V.isSkinnedMesh===!0,morphTargets:J.morphAttributes.position!==void 0,morphNormals:J.morphAttributes.normal!==void 0,morphColors:J.morphAttributes.color!==void 0,morphTargetsCount:Y,morphTextureStride:le,numDirLights:U.directional.length,numPointLights:U.point.length,numSpotLights:U.spot.length,numSpotLightMaps:U.spotLightMap.length,numRectAreaLights:U.rectArea.length,numHemiLights:U.hemi.length,numDirLightShadows:U.directionalShadowMap.length,numPointLightShadows:U.pointShadowMap.length,numSpotLightShadows:U.spotShadowMap.length,numSpotLightShadowsWithMaps:U.numSpotLightShadowsWithMaps,numLightProbes:U.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:P.dithering,shadowMapEnabled:n.shadowMap.enabled&&F.length>0,shadowMapType:n.shadowMap.type,toneMapping:Xn,decodeVideoTexture:rt&&P.map.isVideoTexture===!0&&fi.getTransfer(P.map.colorSpace)===Vi,decodeVideoTextureEmissive:ut&&P.emissiveMap.isVideoTexture===!0&&fi.getTransfer(P.emissiveMap.colorSpace)===Vi,premultipliedAlpha:P.premultipliedAlpha,doubleSided:P.side===_f,flipSided:P.side===Do,useDepthPacking:P.depthPacking>=0,depthPacking:P.depthPacking||0,index0AttributeName:P.index0AttributeName,extensionClipCullDistance:qt&&P.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(qt&&P.extensions.multiDraw===!0||je)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:P.customProgramCacheKey()};return kt.vertexUv1s=u.has(1),kt.vertexUv2s=u.has(2),kt.vertexUv3s=u.has(3),u.clear(),kt}function S(P){const U=[];if(P.shaderID?U.push(P.shaderID):(U.push(P.customVertexShaderID),U.push(P.customFragmentShaderID)),P.defines!==void 0)for(const F in P.defines)U.push(F),U.push(P.defines[F]);return P.isRawShaderMaterial===!1&&(w(U,P),C(U,P),U.push(n.outputColorSpace)),U.push(P.customProgramCacheKey),U.join()}function w(P,U){P.push(U.precision),P.push(U.outputColorSpace),P.push(U.envMapMode),P.push(U.envMapCubeUVHeight),P.push(U.mapUv),P.push(U.alphaMapUv),P.push(U.lightMapUv),P.push(U.aoMapUv),P.push(U.bumpMapUv),P.push(U.normalMapUv),P.push(U.displacementMapUv),P.push(U.emissiveMapUv),P.push(U.metalnessMapUv),P.push(U.roughnessMapUv),P.push(U.anisotropyMapUv),P.push(U.clearcoatMapUv),P.push(U.clearcoatNormalMapUv),P.push(U.clearcoatRoughnessMapUv),P.push(U.iridescenceMapUv),P.push(U.iridescenceThicknessMapUv),P.push(U.sheenColorMapUv),P.push(U.sheenRoughnessMapUv),P.push(U.specularMapUv),P.push(U.specularColorMapUv),P.push(U.specularIntensityMapUv),P.push(U.transmissionMapUv),P.push(U.thicknessMapUv),P.push(U.combine),P.push(U.fogExp2),P.push(U.sizeAttenuation),P.push(U.morphTargetsCount),P.push(U.morphAttributeCount),P.push(U.numDirLights),P.push(U.numPointLights),P.push(U.numSpotLights),P.push(U.numSpotLightMaps),P.push(U.numHemiLights),P.push(U.numRectAreaLights),P.push(U.numDirLightShadows),P.push(U.numPointLightShadows),P.push(U.numSpotLightShadows),P.push(U.numSpotLightShadowsWithMaps),P.push(U.numLightProbes),P.push(U.shadowMapType),P.push(U.toneMapping),P.push(U.numClippingPlanes),P.push(U.numClipIntersection),P.push(U.depthPacking)}function C(P,U){o.disableAll(),U.supportsVertexTextures&&o.enable(0),U.instancing&&o.enable(1),U.instancingColor&&o.enable(2),U.instancingMorph&&o.enable(3),U.matcap&&o.enable(4),U.envMap&&o.enable(5),U.normalMapObjectSpace&&o.enable(6),U.normalMapTangentSpace&&o.enable(7),U.clearcoat&&o.enable(8),U.iridescence&&o.enable(9),U.alphaTest&&o.enable(10),U.vertexColors&&o.enable(11),U.vertexAlphas&&o.enable(12),U.vertexUv1s&&o.enable(13),U.vertexUv2s&&o.enable(14),U.vertexUv3s&&o.enable(15),U.vertexTangents&&o.enable(16),U.anisotropy&&o.enable(17),U.alphaHash&&o.enable(18),U.batching&&o.enable(19),U.dispersion&&o.enable(20),U.batchingColor&&o.enable(21),P.push(o.mask),o.disableAll(),U.fog&&o.enable(0),U.useFog&&o.enable(1),U.flatShading&&o.enable(2),U.logarithmicDepthBuffer&&o.enable(3),U.reverseDepthBuffer&&o.enable(4),U.skinning&&o.enable(5),U.morphTargets&&o.enable(6),U.morphNormals&&o.enable(7),U.morphColors&&o.enable(8),U.premultipliedAlpha&&o.enable(9),U.shadowMapEnabled&&o.enable(10),U.doubleSided&&o.enable(11),U.flipSided&&o.enable(12),U.useDepthPacking&&o.enable(13),U.dithering&&o.enable(14),U.transmission&&o.enable(15),U.sheen&&o.enable(16),U.opaque&&o.enable(17),U.pointsUvs&&o.enable(18),U.decodeVideoTexture&&o.enable(19),U.decodeVideoTextureEmissive&&o.enable(20),U.alphaToCoverage&&o.enable(21),P.push(o.mask)}function A(P){const U=_[P.type];let F;if(U){const z=pu[U];F=rG.clone(z.uniforms)}else F=P.uniforms;return F}function N(P,U){let F;for(let z=0,V=h.length;z<V;z++){const K=h[z];if(K.cacheKey===U){F=K,++F.usedTimes;break}}return F===void 0&&(F=new wde(n,U,P,s),h.push(F)),F}function L(P){if(--P.usedTimes===0){const U=h.indexOf(P);h[U]=h[h.length-1],h.pop(),P.destroy()}}function I(P){l.remove(P)}function D(){l.dispose()}return{getParameters:E,getProgramCacheKey:S,getUniforms:A,acquireProgram:N,releaseProgram:L,releaseShaderCache:I,programs:h,dispose:D}}function Ode(){let n=new WeakMap;function e(a){return n.has(a)}function t(a){let o=n.get(a);return o===void 0&&(o={},n.set(a,o)),o}function i(a){n.delete(a)}function r(a,o,l){n.get(a)[o]=l}function s(){n=new WeakMap}return{has:e,get:t,remove:i,update:r,dispose:s}}function Ide(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function uB(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function fB(){const n=[];let e=0;const t=[],i=[],r=[];function s(){e=0,t.length=0,i.length=0,r.length=0}function a(p,y,v,_,x,E){let S=n[e];return S===void 0?(S={id:p.id,object:p,geometry:y,material:v,groupOrder:_,renderOrder:p.renderOrder,z:x,group:E},n[e]=S):(S.id=p.id,S.object=p,S.geometry=y,S.material=v,S.groupOrder=_,S.renderOrder=p.renderOrder,S.z=x,S.group=E),e++,S}function o(p,y,v,_,x,E){const S=a(p,y,v,_,x,E);v.transmission>0?i.push(S):v.transparent===!0?r.push(S):t.push(S)}function l(p,y,v,_,x,E){const S=a(p,y,v,_,x,E);v.transmission>0?i.unshift(S):v.transparent===!0?r.unshift(S):t.unshift(S)}function u(p,y){t.length>1&&t.sort(p||Ide),i.length>1&&i.sort(y||uB),r.length>1&&r.sort(y||uB)}function h(){for(let p=e,y=n.length;p<y;p++){const v=n[p];if(v.id===null)break;v.id=null,v.object=null,v.geometry=null,v.material=null,v.group=null}}return{opaque:t,transmissive:i,transparent:r,init:s,push:o,unshift:l,finish:h,sort:u}}function Pde(){let n=new WeakMap;function e(i,r){const s=n.get(i);let a;return s===void 0?(a=new fB,n.set(i,[a])):r>=s.length?(a=new fB,s.push(a)):a=s[r],a}function t(){n=new WeakMap}return{get:e,dispose:t}}function Dde(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new fe,color:new Lt};break;case"SpotLight":t={position:new fe,direction:new fe,color:new Lt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new fe,color:new Lt,distance:0,decay:0};break;case"HemisphereLight":t={direction:new fe,skyColor:new Lt,groundColor:new Lt};break;case"RectAreaLight":t={color:new Lt,position:new fe,halfWidth:new fe,halfHeight:new fe};break}return n[e.id]=t,t}}}function Nde(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new it};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new it};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new it,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let Lde=0;function Ude(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function kde(n){const e=new Dde,t=Nde(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let u=0;u<9;u++)i.probe.push(new fe);const r=new fe,s=new an,a=new an;function o(u){let h=0,p=0,y=0;for(let P=0;P<9;P++)i.probe[P].set(0,0,0);let v=0,_=0,x=0,E=0,S=0,w=0,C=0,A=0,N=0,L=0,I=0;u.sort(Ude);for(let P=0,U=u.length;P<U;P++){const F=u[P],z=F.color,V=F.intensity,K=F.distance,J=F.shadow&&F.shadow.map?F.shadow.map.texture:null;if(F.isAmbientLight)h+=z.r*V,p+=z.g*V,y+=z.b*V;else if(F.isLightProbe){for(let q=0;q<9;q++)i.probe[q].addScaledVector(F.sh.coefficients[q],V);I++}else if(F.isDirectionalLight){const q=e.get(F);if(q.color.copy(F.color).multiplyScalar(F.intensity),F.castShadow){const W=F.shadow,Q=t.get(F);Q.shadowIntensity=W.intensity,Q.shadowBias=W.bias,Q.shadowNormalBias=W.normalBias,Q.shadowRadius=W.radius,Q.shadowMapSize=W.mapSize,i.directionalShadow[v]=Q,i.directionalShadowMap[v]=J,i.directionalShadowMatrix[v]=F.shadow.matrix,w++}i.directional[v]=q,v++}else if(F.isSpotLight){const q=e.get(F);q.position.setFromMatrixPosition(F.matrixWorld),q.color.copy(z).multiplyScalar(V),q.distance=K,q.coneCos=Math.cos(F.angle),q.penumbraCos=Math.cos(F.angle*(1-F.penumbra)),q.decay=F.decay,i.spot[x]=q;const W=F.shadow;if(F.map&&(i.spotLightMap[N]=F.map,N++,W.updateMatrices(F),F.castShadow&&L++),i.spotLightMatrix[x]=W.matrix,F.castShadow){const Q=t.get(F);Q.shadowIntensity=W.intensity,Q.shadowBias=W.bias,Q.shadowNormalBias=W.normalBias,Q.shadowRadius=W.radius,Q.shadowMapSize=W.mapSize,i.spotShadow[x]=Q,i.spotShadowMap[x]=J,A++}x++}else if(F.isRectAreaLight){const q=e.get(F);q.color.copy(z).multiplyScalar(V),q.halfWidth.set(F.width*.5,0,0),q.halfHeight.set(0,F.height*.5,0),i.rectArea[E]=q,E++}else if(F.isPointLight){const q=e.get(F);if(q.color.copy(F.color).multiplyScalar(F.intensity),q.distance=F.distance,q.decay=F.decay,F.castShadow){const W=F.shadow,Q=t.get(F);Q.shadowIntensity=W.intensity,Q.shadowBias=W.bias,Q.shadowNormalBias=W.normalBias,Q.shadowRadius=W.radius,Q.shadowMapSize=W.mapSize,Q.shadowCameraNear=W.camera.near,Q.shadowCameraFar=W.camera.far,i.pointShadow[_]=Q,i.pointShadowMap[_]=J,i.pointShadowMatrix[_]=F.shadow.matrix,C++}i.point[_]=q,_++}else if(F.isHemisphereLight){const q=e.get(F);q.skyColor.copy(F.color).multiplyScalar(V),q.groundColor.copy(F.groundColor).multiplyScalar(V),i.hemi[S]=q,S++}}E>0&&(n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=It.LTC_FLOAT_1,i.rectAreaLTC2=It.LTC_FLOAT_2):(i.rectAreaLTC1=It.LTC_HALF_1,i.rectAreaLTC2=It.LTC_HALF_2)),i.ambient[0]=h,i.ambient[1]=p,i.ambient[2]=y;const D=i.hash;(D.directionalLength!==v||D.pointLength!==_||D.spotLength!==x||D.rectAreaLength!==E||D.hemiLength!==S||D.numDirectionalShadows!==w||D.numPointShadows!==C||D.numSpotShadows!==A||D.numSpotMaps!==N||D.numLightProbes!==I)&&(i.directional.length=v,i.spot.length=x,i.rectArea.length=E,i.point.length=_,i.hemi.length=S,i.directionalShadow.length=w,i.directionalShadowMap.length=w,i.pointShadow.length=C,i.pointShadowMap.length=C,i.spotShadow.length=A,i.spotShadowMap.length=A,i.directionalShadowMatrix.length=w,i.pointShadowMatrix.length=C,i.spotLightMatrix.length=A+N-L,i.spotLightMap.length=N,i.numSpotLightShadowsWithMaps=L,i.numLightProbes=I,D.directionalLength=v,D.pointLength=_,D.spotLength=x,D.rectAreaLength=E,D.hemiLength=S,D.numDirectionalShadows=w,D.numPointShadows=C,D.numSpotShadows=A,D.numSpotMaps=N,D.numLightProbes=I,i.version=Lde++)}function l(u,h){let p=0,y=0,v=0,_=0,x=0;const E=h.matrixWorldInverse;for(let S=0,w=u.length;S<w;S++){const C=u[S];if(C.isDirectionalLight){const A=i.directional[p];A.direction.setFromMatrixPosition(C.matrixWorld),r.setFromMatrixPosition(C.target.matrixWorld),A.direction.sub(r),A.direction.transformDirection(E),p++}else if(C.isSpotLight){const A=i.spot[v];A.position.setFromMatrixPosition(C.matrixWorld),A.position.applyMatrix4(E),A.direction.setFromMatrixPosition(C.matrixWorld),r.setFromMatrixPosition(C.target.matrixWorld),A.direction.sub(r),A.direction.transformDirection(E),v++}else if(C.isRectAreaLight){const A=i.rectArea[_];A.position.setFromMatrixPosition(C.matrixWorld),A.position.applyMatrix4(E),a.identity(),s.copy(C.matrixWorld),s.premultiply(E),a.extractRotation(s),A.halfWidth.set(C.width*.5,0,0),A.halfHeight.set(0,C.height*.5,0),A.halfWidth.applyMatrix4(a),A.halfHeight.applyMatrix4(a),_++}else if(C.isPointLight){const A=i.point[y];A.position.setFromMatrixPosition(C.matrixWorld),A.position.applyMatrix4(E),y++}else if(C.isHemisphereLight){const A=i.hemi[x];A.direction.setFromMatrixPosition(C.matrixWorld),A.direction.transformDirection(E),x++}}}return{setup:o,setupView:l,state:i}}function hB(n){const e=new kde(n),t=[],i=[];function r(h){u.camera=h,t.length=0,i.length=0}function s(h){t.push(h)}function a(h){i.push(h)}function o(){e.setup(t)}function l(h){e.setupView(t,h)}const u={lightsArray:t,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:r,state:u,setupLights:o,setupLightsView:l,pushLight:s,pushShadow:a}}function zde(n){let e=new WeakMap;function t(r,s=0){const a=e.get(r);let o;return a===void 0?(o=new hB(n),e.set(r,[o])):s>=a.length?(o=new hB(n),a.push(o)):o=a[s],o}function i(){e=new WeakMap}return{get:t,dispose:i}}const Bde=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Fde=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function Vde(n,e,t){let i=new M_;const r=new it,s=new it,a=new gi,o=new dL({depthPacking:jj}),l=new pL,u={},h=t.maxTextureSize,p={[Jh]:Do,[Do]:Jh,[_f]:_f},y=new Su({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new it},radius:{value:4}},vertexShader:Bde,fragmentShader:Fde}),v=y.clone();v.defines.HORIZONTAL_PASS=1;const _=new Un;_.setAttribute("position",new Hi(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const x=new is(_,y),E=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=HA;let S=this.type;this.render=function(L,I,D){if(E.enabled===!1||E.autoUpdate===!1&&E.needsUpdate===!1||L.length===0)return;const P=n.getRenderTarget(),U=n.getActiveCubeFace(),F=n.getActiveMipmapLevel(),z=n.state;z.setBlending(Hh),z.buffers.color.setClear(1,1,1,1),z.buffers.depth.setTest(!0),z.setScissorTest(!1);const V=S!==hu&&this.type===hu,K=S===hu&&this.type!==hu;for(let J=0,q=L.length;J<q;J++){const W=L[J],Q=W.shadow;if(Q===void 0){console.warn("THREE.WebGLShadowMap:",W,"has no shadow.");continue}if(Q.autoUpdate===!1&&Q.needsUpdate===!1)continue;r.copy(Q.mapSize);const re=Q.getFrameExtents();if(r.multiply(re),s.copy(Q.mapSize),(r.x>h||r.y>h)&&(r.x>h&&(s.x=Math.floor(h/re.x),r.x=s.x*re.x,Q.mapSize.x=s.x),r.y>h&&(s.y=Math.floor(h/re.y),r.y=s.y*re.y,Q.mapSize.y=s.y)),Q.map===null||V===!0||K===!0){const Y=this.type!==hu?{minFilter:wa,magFilter:wa}:{};Q.map!==null&&Q.map.dispose(),Q.map=new xu(r.x,r.y,Y),Q.map.texture.name=W.name+".shadowMap",Q.camera.updateProjectionMatrix()}n.setRenderTarget(Q.map),n.clear();const pe=Q.getViewportCount();for(let Y=0;Y<pe;Y++){const le=Q.getViewport(Y);a.set(s.x*le.x,s.y*le.y,s.x*le.z,s.y*le.w),z.viewport(a),Q.updateMatrices(W,Y),i=Q.getFrustum(),A(I,D,Q.camera,W,this.type)}Q.isPointLightShadow!==!0&&this.type===hu&&w(Q,D),Q.needsUpdate=!1}S=this.type,E.needsUpdate=!1,n.setRenderTarget(P,U,F)};function w(L,I){const D=e.update(x);y.defines.VSM_SAMPLES!==L.blurSamples&&(y.defines.VSM_SAMPLES=L.blurSamples,v.defines.VSM_SAMPLES=L.blurSamples,y.needsUpdate=!0,v.needsUpdate=!0),L.mapPass===null&&(L.mapPass=new xu(r.x,r.y)),y.uniforms.shadow_pass.value=L.map.texture,y.uniforms.resolution.value=L.mapSize,y.uniforms.radius.value=L.radius,n.setRenderTarget(L.mapPass),n.clear(),n.renderBufferDirect(I,null,D,y,x,null),v.uniforms.shadow_pass.value=L.mapPass.texture,v.uniforms.resolution.value=L.mapSize,v.uniforms.radius.value=L.radius,n.setRenderTarget(L.map),n.clear(),n.renderBufferDirect(I,null,D,v,x,null)}function C(L,I,D,P){let U=null;const F=D.isPointLight===!0?L.customDistanceMaterial:L.customDepthMaterial;if(F!==void 0)U=F;else if(U=D.isPointLight===!0?l:o,n.localClippingEnabled&&I.clipShadows===!0&&Array.isArray(I.clippingPlanes)&&I.clippingPlanes.length!==0||I.displacementMap&&I.displacementScale!==0||I.alphaMap&&I.alphaTest>0||I.map&&I.alphaTest>0||I.alphaToCoverage===!0){const z=U.uuid,V=I.uuid;let K=u[z];K===void 0&&(K={},u[z]=K);let J=K[V];J===void 0&&(J=U.clone(),K[V]=J,I.addEventListener("dispose",N)),U=J}if(U.visible=I.visible,U.wireframe=I.wireframe,P===hu?U.side=I.shadowSide!==null?I.shadowSide:I.side:U.side=I.shadowSide!==null?I.shadowSide:p[I.side],U.alphaMap=I.alphaMap,U.alphaTest=I.alphaToCoverage===!0?.5:I.alphaTest,U.map=I.map,U.clipShadows=I.clipShadows,U.clippingPlanes=I.clippingPlanes,U.clipIntersection=I.clipIntersection,U.displacementMap=I.displacementMap,U.displacementScale=I.displacementScale,U.displacementBias=I.displacementBias,U.wireframeLinewidth=I.wireframeLinewidth,U.linewidth=I.linewidth,D.isPointLight===!0&&U.isMeshDistanceMaterial===!0){const z=n.properties.get(U);z.light=D}return U}function A(L,I,D,P,U){if(L.visible===!1)return;if(L.layers.test(I.layers)&&(L.isMesh||L.isLine||L.isPoints)&&(L.castShadow||L.receiveShadow&&U===hu)&&(!L.frustumCulled||i.intersectsObject(L))){L.modelViewMatrix.multiplyMatrices(D.matrixWorldInverse,L.matrixWorld);const V=e.update(L),K=L.material;if(Array.isArray(K)){const J=V.groups;for(let q=0,W=J.length;q<W;q++){const Q=J[q],re=K[Q.materialIndex];if(re&&re.visible){const pe=C(L,re,P,U);L.onBeforeShadow(n,L,I,D,V,pe,Q),n.renderBufferDirect(D,null,V,pe,L,Q),L.onAfterShadow(n,L,I,D,V,pe,Q)}}}else if(K.visible){const J=C(L,K,P,U);L.onBeforeShadow(n,L,I,D,V,J,null),n.renderBufferDirect(D,null,V,J,L,null),L.onAfterShadow(n,L,I,D,V,J,null)}}const z=L.children;for(let V=0,K=z.length;V<K;V++)A(z[V],I,D,P,U)}function N(L){L.target.removeEventListener("dispose",N);for(const D in u){const P=u[D],U=L.target.uuid;U in P&&(P[U].dispose(),delete P[U])}}}const Hde={[iC]:rC,[sC]:lC,[aC]:cC,[ey]:oC,[rC]:iC,[lC]:sC,[cC]:aC,[oC]:ey};function jde(n,e){function t(){let be=!1;const St=new gi;let xe=null;const He=new gi(0,0,0,0);return{setMask:function(st){xe!==st&&!be&&(n.colorMask(st,st,st,st),xe=st)},setLocked:function(st){be=st},setClear:function(st,pt,qt,Xn,kt){kt===!0&&(st*=Xn,pt*=Xn,qt*=Xn),St.set(st,pt,qt,Xn),He.equals(St)===!1&&(n.clearColor(st,pt,qt,Xn),He.copy(St))},reset:function(){be=!1,xe=null,He.set(-1,0,0,0)}}}function i(){let be=!1,St=!1,xe=null,He=null,st=null;return{setReversed:function(pt){if(St!==pt){const qt=e.get("EXT_clip_control");pt?qt.clipControlEXT(qt.LOWER_LEFT_EXT,qt.ZERO_TO_ONE_EXT):qt.clipControlEXT(qt.LOWER_LEFT_EXT,qt.NEGATIVE_ONE_TO_ONE_EXT),St=pt;const Xn=st;st=null,this.setClear(Xn)}},getReversed:function(){return St},setTest:function(pt){pt?me(n.DEPTH_TEST):Le(n.DEPTH_TEST)},setMask:function(pt){xe!==pt&&!be&&(n.depthMask(pt),xe=pt)},setFunc:function(pt){if(St&&(pt=Hde[pt]),He!==pt){switch(pt){case iC:n.depthFunc(n.NEVER);break;case rC:n.depthFunc(n.ALWAYS);break;case sC:n.depthFunc(n.LESS);break;case ey:n.depthFunc(n.LEQUAL);break;case aC:n.depthFunc(n.EQUAL);break;case oC:n.depthFunc(n.GEQUAL);break;case lC:n.depthFunc(n.GREATER);break;case cC:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}He=pt}},setLocked:function(pt){be=pt},setClear:function(pt){st!==pt&&(St&&(pt=1-pt),n.clearDepth(pt),st=pt)},reset:function(){be=!1,xe=null,He=null,st=null,St=!1}}}function r(){let be=!1,St=null,xe=null,He=null,st=null,pt=null,qt=null,Xn=null,kt=null;return{setTest:function($t){be||($t?me(n.STENCIL_TEST):Le(n.STENCIL_TEST))},setMask:function($t){St!==$t&&!be&&(n.stencilMask($t),St=$t)},setFunc:function($t,vt,Et){(xe!==$t||He!==vt||st!==Et)&&(n.stencilFunc($t,vt,Et),xe=$t,He=vt,st=Et)},setOp:function($t,vt,Et){(pt!==$t||qt!==vt||Xn!==Et)&&(n.stencilOp($t,vt,Et),pt=$t,qt=vt,Xn=Et)},setLocked:function($t){be=$t},setClear:function($t){kt!==$t&&(n.clearStencil($t),kt=$t)},reset:function(){be=!1,St=null,xe=null,He=null,st=null,pt=null,qt=null,Xn=null,kt=null}}}const s=new t,a=new i,o=new r,l=new WeakMap,u=new WeakMap;let h={},p={},y=new WeakMap,v=[],_=null,x=!1,E=null,S=null,w=null,C=null,A=null,N=null,L=null,I=new Lt(0,0,0),D=0,P=!1,U=null,F=null,z=null,V=null,K=null;const J=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let q=!1,W=0;const Q=n.getParameter(n.VERSION);Q.indexOf("WebGL")!==-1?(W=parseFloat(/^WebGL (\d)/.exec(Q)[1]),q=W>=1):Q.indexOf("OpenGL ES")!==-1&&(W=parseFloat(/^OpenGL ES (\d)/.exec(Q)[1]),q=W>=2);let re=null,pe={};const Y=n.getParameter(n.SCISSOR_BOX),le=n.getParameter(n.VIEWPORT),de=new gi().fromArray(Y),ue=new gi().fromArray(le);function ne(be,St,xe,He){const st=new Uint8Array(4),pt=n.createTexture();n.bindTexture(be,pt),n.texParameteri(be,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(be,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let qt=0;qt<xe;qt++)be===n.TEXTURE_3D||be===n.TEXTURE_2D_ARRAY?n.texImage3D(St,0,n.RGBA,1,1,He,0,n.RGBA,n.UNSIGNED_BYTE,st):n.texImage2D(St+qt,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,st);return pt}const he={};he[n.TEXTURE_2D]=ne(n.TEXTURE_2D,n.TEXTURE_2D,1),he[n.TEXTURE_CUBE_MAP]=ne(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),he[n.TEXTURE_2D_ARRAY]=ne(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),he[n.TEXTURE_3D]=ne(n.TEXTURE_3D,n.TEXTURE_3D,1,1),s.setClear(0,0,0,1),a.setClear(1),o.setClear(0),me(n.DEPTH_TEST),a.setFunc(ey),Ve(!1),Ue(uP),me(n.CULL_FACE),te(Hh);function me(be){h[be]!==!0&&(n.enable(be),h[be]=!0)}function Le(be){h[be]!==!1&&(n.disable(be),h[be]=!1)}function Ye(be,St){return p[be]!==St?(n.bindFramebuffer(be,St),p[be]=St,be===n.DRAW_FRAMEBUFFER&&(p[n.FRAMEBUFFER]=St),be===n.FRAMEBUFFER&&(p[n.DRAW_FRAMEBUFFER]=St),!0):!1}function je(be,St){let xe=v,He=!1;if(be){xe=y.get(St),xe===void 0&&(xe=[],y.set(St,xe));const st=be.textures;if(xe.length!==st.length||xe[0]!==n.COLOR_ATTACHMENT0){for(let pt=0,qt=st.length;pt<qt;pt++)xe[pt]=n.COLOR_ATTACHMENT0+pt;xe.length=st.length,He=!0}}else xe[0]!==n.BACK&&(xe[0]=n.BACK,He=!0);He&&n.drawBuffers(xe)}function rt(be){return _!==be?(n.useProgram(be),_=be,!0):!1}const ot={[_p]:n.FUNC_ADD,[dj]:n.FUNC_SUBTRACT,[pj]:n.FUNC_REVERSE_SUBTRACT};ot[mj]=n.MIN,ot[gj]=n.MAX;const dt={[yj]:n.ZERO,[vj]:n.ONE,[_j]:n.SRC_COLOR,[tC]:n.SRC_ALPHA,[wj]:n.SRC_ALPHA_SATURATE,[Ej]:n.DST_COLOR,[xj]:n.DST_ALPHA,[bj]:n.ONE_MINUS_SRC_COLOR,[nC]:n.ONE_MINUS_SRC_ALPHA,[Tj]:n.ONE_MINUS_DST_COLOR,[Sj]:n.ONE_MINUS_DST_ALPHA,[Cj]:n.CONSTANT_COLOR,[Aj]:n.ONE_MINUS_CONSTANT_COLOR,[Mj]:n.CONSTANT_ALPHA,[Rj]:n.ONE_MINUS_CONSTANT_ALPHA};function te(be,St,xe,He,st,pt,qt,Xn,kt,$t){if(be===Hh){x===!0&&(Le(n.BLEND),x=!1);return}if(x===!1&&(me(n.BLEND),x=!0),be!==hj){if(be!==E||$t!==P){if((S!==_p||A!==_p)&&(n.blendEquation(n.FUNC_ADD),S=_p,A=_p),$t)switch(be){case qg:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case fP:n.blendFunc(n.ONE,n.ONE);break;case hP:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case dP:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",be);break}else switch(be){case qg:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case fP:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case hP:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case dP:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",be);break}w=null,C=null,N=null,L=null,I.set(0,0,0),D=0,E=be,P=$t}return}st=st||St,pt=pt||xe,qt=qt||He,(St!==S||st!==A)&&(n.blendEquationSeparate(ot[St],ot[st]),S=St,A=st),(xe!==w||He!==C||pt!==N||qt!==L)&&(n.blendFuncSeparate(dt[xe],dt[He],dt[pt],dt[qt]),w=xe,C=He,N=pt,L=qt),(Xn.equals(I)===!1||kt!==D)&&(n.blendColor(Xn.r,Xn.g,Xn.b,kt),I.copy(Xn),D=kt),E=be,P=!1}function Ie(be,St){be.side===_f?Le(n.CULL_FACE):me(n.CULL_FACE);let xe=be.side===Do;St&&(xe=!xe),Ve(xe),be.blending===qg&&be.transparent===!1?te(Hh):te(be.blending,be.blendEquation,be.blendSrc,be.blendDst,be.blendEquationAlpha,be.blendSrcAlpha,be.blendDstAlpha,be.blendColor,be.blendAlpha,be.premultipliedAlpha),a.setFunc(be.depthFunc),a.setTest(be.depthTest),a.setMask(be.depthWrite),s.setMask(be.colorWrite);const He=be.stencilWrite;o.setTest(He),He&&(o.setMask(be.stencilWriteMask),o.setFunc(be.stencilFunc,be.stencilRef,be.stencilFuncMask),o.setOp(be.stencilFail,be.stencilZFail,be.stencilZPass)),ut(be.polygonOffset,be.polygonOffsetFactor,be.polygonOffsetUnits),be.alphaToCoverage===!0?me(n.SAMPLE_ALPHA_TO_COVERAGE):Le(n.SAMPLE_ALPHA_TO_COVERAGE)}function Ve(be){U!==be&&(be?n.frontFace(n.CW):n.frontFace(n.CCW),U=be)}function Ue(be){be!==cj?(me(n.CULL_FACE),be!==F&&(be===uP?n.cullFace(n.BACK):be===uj?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):Le(n.CULL_FACE),F=be}function Re(be){be!==z&&(q&&n.lineWidth(be),z=be)}function ut(be,St,xe){be?(me(n.POLYGON_OFFSET_FILL),(V!==St||K!==xe)&&(n.polygonOffset(St,xe),V=St,K=xe)):Le(n.POLYGON_OFFSET_FILL)}function We(be){be?me(n.SCISSOR_TEST):Le(n.SCISSOR_TEST)}function ae(be){be===void 0&&(be=n.TEXTURE0+J-1),re!==be&&(n.activeTexture(be),re=be)}function ee(be,St,xe){xe===void 0&&(re===null?xe=n.TEXTURE0+J-1:xe=re);let He=pe[xe];He===void 0&&(He={type:void 0,texture:void 0},pe[xe]=He),(He.type!==be||He.texture!==St)&&(re!==xe&&(n.activeTexture(xe),re=xe),n.bindTexture(be,St||he[be]),He.type=be,He.texture=St)}function Ee(){const be=pe[re];be!==void 0&&be.type!==void 0&&(n.bindTexture(be.type,null),be.type=void 0,be.texture=void 0)}function Me(){try{n.compressedTexImage2D(...arguments)}catch(be){console.error("THREE.WebGLState:",be)}}function Qe(){try{n.compressedTexImage3D(...arguments)}catch(be){console.error("THREE.WebGLState:",be)}}function Oe(){try{n.texSubImage2D(...arguments)}catch(be){console.error("THREE.WebGLState:",be)}}function ct(){try{n.texSubImage3D(...arguments)}catch(be){console.error("THREE.WebGLState:",be)}}function lt(){try{n.compressedTexSubImage2D(...arguments)}catch(be){console.error("THREE.WebGLState:",be)}}function Dt(){try{n.compressedTexSubImage3D(...arguments)}catch(be){console.error("THREE.WebGLState:",be)}}function Ut(){try{n.texStorage2D(...arguments)}catch(be){console.error("THREE.WebGLState:",be)}}function Xe(){try{n.texStorage3D(...arguments)}catch(be){console.error("THREE.WebGLState:",be)}}function mt(){try{n.texImage2D(...arguments)}catch(be){console.error("THREE.WebGLState:",be)}}function At(){try{n.texImage3D(...arguments)}catch(be){console.error("THREE.WebGLState:",be)}}function xt(be){de.equals(be)===!1&&(n.scissor(be.x,be.y,be.z,be.w),de.copy(be))}function _t(be){ue.equals(be)===!1&&(n.viewport(be.x,be.y,be.z,be.w),ue.copy(be))}function Ht(be,St){let xe=u.get(St);xe===void 0&&(xe=new WeakMap,u.set(St,xe));let He=xe.get(be);He===void 0&&(He=n.getUniformBlockIndex(St,be.name),xe.set(be,He))}function Qt(be,St){const He=u.get(St).get(be);l.get(St)!==He&&(n.uniformBlockBinding(St,He,be.__bindingPointIndex),l.set(St,He))}function pn(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),a.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),h={},re=null,pe={},p={},y=new WeakMap,v=[],_=null,x=!1,E=null,S=null,w=null,C=null,A=null,N=null,L=null,I=new Lt(0,0,0),D=0,P=!1,U=null,F=null,z=null,V=null,K=null,de.set(0,0,n.canvas.width,n.canvas.height),ue.set(0,0,n.canvas.width,n.canvas.height),s.reset(),a.reset(),o.reset()}return{buffers:{color:s,depth:a,stencil:o},enable:me,disable:Le,bindFramebuffer:Ye,drawBuffers:je,useProgram:rt,setBlending:te,setMaterial:Ie,setFlipSided:Ve,setCullFace:Ue,setLineWidth:Re,setPolygonOffset:ut,setScissorTest:We,activeTexture:ae,bindTexture:ee,unbindTexture:Ee,compressedTexImage2D:Me,compressedTexImage3D:Qe,texImage2D:mt,texImage3D:At,updateUBOMapping:Ht,uniformBlockBinding:Qt,texStorage2D:Ut,texStorage3D:Xe,texSubImage2D:Oe,texSubImage3D:ct,compressedTexSubImage2D:lt,compressedTexSubImage3D:Dt,scissor:xt,viewport:_t,reset:pn}}function Gde(n,e,t,i,r,s,a){const o=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),u=new it,h=new WeakMap;let p;const y=new WeakMap;let v=!1;try{v=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function _(ae,ee){return v?new OffscreenCanvas(ae,ee):Qx("canvas")}function x(ae,ee,Ee){let Me=1;const Qe=We(ae);if((Qe.width>Ee||Qe.height>Ee)&&(Me=Ee/Math.max(Qe.width,Qe.height)),Me<1)if(typeof HTMLImageElement<"u"&&ae instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&ae instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&ae instanceof ImageBitmap||typeof VideoFrame<"u"&&ae instanceof VideoFrame){const Oe=Math.floor(Me*Qe.width),ct=Math.floor(Me*Qe.height);p===void 0&&(p=_(Oe,ct));const lt=ee?_(Oe,ct):p;return lt.width=Oe,lt.height=ct,lt.getContext("2d").drawImage(ae,0,0,Oe,ct),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Qe.width+"x"+Qe.height+") to ("+Oe+"x"+ct+")."),lt}else return"data"in ae&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Qe.width+"x"+Qe.height+")."),ae;return ae}function E(ae){return ae.generateMipmaps}function S(ae){n.generateMipmap(ae)}function w(ae){return ae.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:ae.isWebGL3DRenderTarget?n.TEXTURE_3D:ae.isWebGLArrayRenderTarget||ae.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function C(ae,ee,Ee,Me,Qe=!1){if(ae!==null){if(n[ae]!==void 0)return n[ae];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+ae+"'")}let Oe=ee;if(ee===n.RED&&(Ee===n.FLOAT&&(Oe=n.R32F),Ee===n.HALF_FLOAT&&(Oe=n.R16F),Ee===n.UNSIGNED_BYTE&&(Oe=n.R8)),ee===n.RED_INTEGER&&(Ee===n.UNSIGNED_BYTE&&(Oe=n.R8UI),Ee===n.UNSIGNED_SHORT&&(Oe=n.R16UI),Ee===n.UNSIGNED_INT&&(Oe=n.R32UI),Ee===n.BYTE&&(Oe=n.R8I),Ee===n.SHORT&&(Oe=n.R16I),Ee===n.INT&&(Oe=n.R32I)),ee===n.RG&&(Ee===n.FLOAT&&(Oe=n.RG32F),Ee===n.HALF_FLOAT&&(Oe=n.RG16F),Ee===n.UNSIGNED_BYTE&&(Oe=n.RG8)),ee===n.RG_INTEGER&&(Ee===n.UNSIGNED_BYTE&&(Oe=n.RG8UI),Ee===n.UNSIGNED_SHORT&&(Oe=n.RG16UI),Ee===n.UNSIGNED_INT&&(Oe=n.RG32UI),Ee===n.BYTE&&(Oe=n.RG8I),Ee===n.SHORT&&(Oe=n.RG16I),Ee===n.INT&&(Oe=n.RG32I)),ee===n.RGB_INTEGER&&(Ee===n.UNSIGNED_BYTE&&(Oe=n.RGB8UI),Ee===n.UNSIGNED_SHORT&&(Oe=n.RGB16UI),Ee===n.UNSIGNED_INT&&(Oe=n.RGB32UI),Ee===n.BYTE&&(Oe=n.RGB8I),Ee===n.SHORT&&(Oe=n.RGB16I),Ee===n.INT&&(Oe=n.RGB32I)),ee===n.RGBA_INTEGER&&(Ee===n.UNSIGNED_BYTE&&(Oe=n.RGBA8UI),Ee===n.UNSIGNED_SHORT&&(Oe=n.RGBA16UI),Ee===n.UNSIGNED_INT&&(Oe=n.RGBA32UI),Ee===n.BYTE&&(Oe=n.RGBA8I),Ee===n.SHORT&&(Oe=n.RGBA16I),Ee===n.INT&&(Oe=n.RGBA32I)),ee===n.RGB&&Ee===n.UNSIGNED_INT_5_9_9_9_REV&&(Oe=n.RGB9_E5),ee===n.RGBA){const ct=Qe?Yx:fi.getTransfer(Me);Ee===n.FLOAT&&(Oe=n.RGBA32F),Ee===n.HALF_FLOAT&&(Oe=n.RGBA16F),Ee===n.UNSIGNED_BYTE&&(Oe=ct===Vi?n.SRGB8_ALPHA8:n.RGBA8),Ee===n.UNSIGNED_SHORT_4_4_4_4&&(Oe=n.RGBA4),Ee===n.UNSIGNED_SHORT_5_5_5_1&&(Oe=n.RGB5_A1)}return(Oe===n.R16F||Oe===n.R32F||Oe===n.RG16F||Oe===n.RG32F||Oe===n.RGBA16F||Oe===n.RGBA32F)&&e.get("EXT_color_buffer_float"),Oe}function A(ae,ee){let Ee;return ae?ee===null||ee===td||ee===Y0?Ee=n.DEPTH24_STENCIL8:ee===Po?Ee=n.DEPTH32F_STENCIL8:ee===X0&&(Ee=n.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):ee===null||ee===td||ee===Y0?Ee=n.DEPTH_COMPONENT24:ee===Po?Ee=n.DEPTH_COMPONENT32F:ee===X0&&(Ee=n.DEPTH_COMPONENT16),Ee}function N(ae,ee){return E(ae)===!0||ae.isFramebufferTexture&&ae.minFilter!==wa&&ae.minFilter!==ps?Math.log2(Math.max(ee.width,ee.height))+1:ae.mipmaps!==void 0&&ae.mipmaps.length>0?ae.mipmaps.length:ae.isCompressedTexture&&Array.isArray(ae.image)?ee.mipmaps.length:1}function L(ae){const ee=ae.target;ee.removeEventListener("dispose",L),D(ee),ee.isVideoTexture&&h.delete(ee)}function I(ae){const ee=ae.target;ee.removeEventListener("dispose",I),U(ee)}function D(ae){const ee=i.get(ae);if(ee.__webglInit===void 0)return;const Ee=ae.source,Me=y.get(Ee);if(Me){const Qe=Me[ee.__cacheKey];Qe.usedTimes--,Qe.usedTimes===0&&P(ae),Object.keys(Me).length===0&&y.delete(Ee)}i.remove(ae)}function P(ae){const ee=i.get(ae);n.deleteTexture(ee.__webglTexture);const Ee=ae.source,Me=y.get(Ee);delete Me[ee.__cacheKey],a.memory.textures--}function U(ae){const ee=i.get(ae);if(ae.depthTexture&&(ae.depthTexture.dispose(),i.remove(ae.depthTexture)),ae.isWebGLCubeRenderTarget)for(let Me=0;Me<6;Me++){if(Array.isArray(ee.__webglFramebuffer[Me]))for(let Qe=0;Qe<ee.__webglFramebuffer[Me].length;Qe++)n.deleteFramebuffer(ee.__webglFramebuffer[Me][Qe]);else n.deleteFramebuffer(ee.__webglFramebuffer[Me]);ee.__webglDepthbuffer&&n.deleteRenderbuffer(ee.__webglDepthbuffer[Me])}else{if(Array.isArray(ee.__webglFramebuffer))for(let Me=0;Me<ee.__webglFramebuffer.length;Me++)n.deleteFramebuffer(ee.__webglFramebuffer[Me]);else n.deleteFramebuffer(ee.__webglFramebuffer);if(ee.__webglDepthbuffer&&n.deleteRenderbuffer(ee.__webglDepthbuffer),ee.__webglMultisampledFramebuffer&&n.deleteFramebuffer(ee.__webglMultisampledFramebuffer),ee.__webglColorRenderbuffer)for(let Me=0;Me<ee.__webglColorRenderbuffer.length;Me++)ee.__webglColorRenderbuffer[Me]&&n.deleteRenderbuffer(ee.__webglColorRenderbuffer[Me]);ee.__webglDepthRenderbuffer&&n.deleteRenderbuffer(ee.__webglDepthRenderbuffer)}const Ee=ae.textures;for(let Me=0,Qe=Ee.length;Me<Qe;Me++){const Oe=i.get(Ee[Me]);Oe.__webglTexture&&(n.deleteTexture(Oe.__webglTexture),a.memory.textures--),i.remove(Ee[Me])}i.remove(ae)}let F=0;function z(){F=0}function V(){const ae=F;return ae>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+ae+" texture units while this GPU supports only "+r.maxTextures),F+=1,ae}function K(ae){const ee=[];return ee.push(ae.wrapS),ee.push(ae.wrapT),ee.push(ae.wrapR||0),ee.push(ae.magFilter),ee.push(ae.minFilter),ee.push(ae.anisotropy),ee.push(ae.internalFormat),ee.push(ae.format),ee.push(ae.type),ee.push(ae.generateMipmaps),ee.push(ae.premultiplyAlpha),ee.push(ae.flipY),ee.push(ae.unpackAlignment),ee.push(ae.colorSpace),ee.join()}function J(ae,ee){const Ee=i.get(ae);if(ae.isVideoTexture&&Re(ae),ae.isRenderTargetTexture===!1&&ae.version>0&&Ee.__version!==ae.version){const Me=ae.image;if(Me===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Me.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ue(Ee,ae,ee);return}}t.bindTexture(n.TEXTURE_2D,Ee.__webglTexture,n.TEXTURE0+ee)}function q(ae,ee){const Ee=i.get(ae);if(ae.version>0&&Ee.__version!==ae.version){ue(Ee,ae,ee);return}t.bindTexture(n.TEXTURE_2D_ARRAY,Ee.__webglTexture,n.TEXTURE0+ee)}function W(ae,ee){const Ee=i.get(ae);if(ae.version>0&&Ee.__version!==ae.version){ue(Ee,ae,ee);return}t.bindTexture(n.TEXTURE_3D,Ee.__webglTexture,n.TEXTURE0+ee)}function Q(ae,ee){const Ee=i.get(ae);if(ae.version>0&&Ee.__version!==ae.version){ne(Ee,ae,ee);return}t.bindTexture(n.TEXTURE_CUBE_MAP,Ee.__webglTexture,n.TEXTURE0+ee)}const re={[qx]:n.REPEAT,[wc]:n.CLAMP_TO_EDGE,[Wx]:n.MIRRORED_REPEAT},pe={[wa]:n.NEAREST,[jN]:n.NEAREST_MIPMAP_NEAREST,[d0]:n.NEAREST_MIPMAP_LINEAR,[ps]:n.LINEAR,[cx]:n.LINEAR_MIPMAP_NEAREST,[Sf]:n.LINEAR_MIPMAP_LINEAR},Y={[qj]:n.NEVER,[Zj]:n.ALWAYS,[Wj]:n.LESS,[QN]:n.LEQUAL,[$j]:n.EQUAL,[Kj]:n.GEQUAL,[Xj]:n.GREATER,[Yj]:n.NOTEQUAL};function le(ae,ee){if(ee.type===Po&&e.has("OES_texture_float_linear")===!1&&(ee.magFilter===ps||ee.magFilter===cx||ee.magFilter===d0||ee.magFilter===Sf||ee.minFilter===ps||ee.minFilter===cx||ee.minFilter===d0||ee.minFilter===Sf)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(ae,n.TEXTURE_WRAP_S,re[ee.wrapS]),n.texParameteri(ae,n.TEXTURE_WRAP_T,re[ee.wrapT]),(ae===n.TEXTURE_3D||ae===n.TEXTURE_2D_ARRAY)&&n.texParameteri(ae,n.TEXTURE_WRAP_R,re[ee.wrapR]),n.texParameteri(ae,n.TEXTURE_MAG_FILTER,pe[ee.magFilter]),n.texParameteri(ae,n.TEXTURE_MIN_FILTER,pe[ee.minFilter]),ee.compareFunction&&(n.texParameteri(ae,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(ae,n.TEXTURE_COMPARE_FUNC,Y[ee.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(ee.magFilter===wa||ee.minFilter!==d0&&ee.minFilter!==Sf||ee.type===Po&&e.has("OES_texture_float_linear")===!1)return;if(ee.anisotropy>1||i.get(ee).__currentAnisotropy){const Ee=e.get("EXT_texture_filter_anisotropic");n.texParameterf(ae,Ee.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(ee.anisotropy,r.getMaxAnisotropy())),i.get(ee).__currentAnisotropy=ee.anisotropy}}}function de(ae,ee){let Ee=!1;ae.__webglInit===void 0&&(ae.__webglInit=!0,ee.addEventListener("dispose",L));const Me=ee.source;let Qe=y.get(Me);Qe===void 0&&(Qe={},y.set(Me,Qe));const Oe=K(ee);if(Oe!==ae.__cacheKey){Qe[Oe]===void 0&&(Qe[Oe]={texture:n.createTexture(),usedTimes:0},a.memory.textures++,Ee=!0),Qe[Oe].usedTimes++;const ct=Qe[ae.__cacheKey];ct!==void 0&&(Qe[ae.__cacheKey].usedTimes--,ct.usedTimes===0&&P(ee)),ae.__cacheKey=Oe,ae.__webglTexture=Qe[Oe].texture}return Ee}function ue(ae,ee,Ee){let Me=n.TEXTURE_2D;(ee.isDataArrayTexture||ee.isCompressedArrayTexture)&&(Me=n.TEXTURE_2D_ARRAY),ee.isData3DTexture&&(Me=n.TEXTURE_3D);const Qe=de(ae,ee),Oe=ee.source;t.bindTexture(Me,ae.__webglTexture,n.TEXTURE0+Ee);const ct=i.get(Oe);if(Oe.version!==ct.__version||Qe===!0){t.activeTexture(n.TEXTURE0+Ee);const lt=fi.getPrimaries(fi.workingColorSpace),Dt=ee.colorSpace===Nh?null:fi.getPrimaries(ee.colorSpace),Ut=ee.colorSpace===Nh||lt===Dt?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,ee.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ee.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,ee.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Ut);let Xe=x(ee.image,!1,r.maxTextureSize);Xe=ut(ee,Xe);const mt=s.convert(ee.format,ee.colorSpace),At=s.convert(ee.type);let xt=C(ee.internalFormat,mt,At,ee.colorSpace,ee.isVideoTexture);le(Me,ee);let _t;const Ht=ee.mipmaps,Qt=ee.isVideoTexture!==!0,pn=ct.__version===void 0||Qe===!0,be=Oe.dataReady,St=N(ee,Xe);if(ee.isDepthTexture)xt=A(ee.format===Z0,ee.type),pn&&(Qt?t.texStorage2D(n.TEXTURE_2D,1,xt,Xe.width,Xe.height):t.texImage2D(n.TEXTURE_2D,0,xt,Xe.width,Xe.height,0,mt,At,null));else if(ee.isDataTexture)if(Ht.length>0){Qt&&pn&&t.texStorage2D(n.TEXTURE_2D,St,xt,Ht[0].width,Ht[0].height);for(let xe=0,He=Ht.length;xe<He;xe++)_t=Ht[xe],Qt?be&&t.texSubImage2D(n.TEXTURE_2D,xe,0,0,_t.width,_t.height,mt,At,_t.data):t.texImage2D(n.TEXTURE_2D,xe,xt,_t.width,_t.height,0,mt,At,_t.data);ee.generateMipmaps=!1}else Qt?(pn&&t.texStorage2D(n.TEXTURE_2D,St,xt,Xe.width,Xe.height),be&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,Xe.width,Xe.height,mt,At,Xe.data)):t.texImage2D(n.TEXTURE_2D,0,xt,Xe.width,Xe.height,0,mt,At,Xe.data);else if(ee.isCompressedTexture)if(ee.isCompressedArrayTexture){Qt&&pn&&t.texStorage3D(n.TEXTURE_2D_ARRAY,St,xt,Ht[0].width,Ht[0].height,Xe.depth);for(let xe=0,He=Ht.length;xe<He;xe++)if(_t=Ht[xe],ee.format!==eo)if(mt!==null)if(Qt){if(be)if(ee.layerUpdates.size>0){const st=EP(_t.width,_t.height,ee.format,ee.type);for(const pt of ee.layerUpdates){const qt=_t.data.subarray(pt*st/_t.data.BYTES_PER_ELEMENT,(pt+1)*st/_t.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,xe,0,0,pt,_t.width,_t.height,1,mt,qt)}ee.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,xe,0,0,0,_t.width,_t.height,Xe.depth,mt,_t.data)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,xe,xt,_t.width,_t.height,Xe.depth,0,_t.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Qt?be&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,xe,0,0,0,_t.width,_t.height,Xe.depth,mt,At,_t.data):t.texImage3D(n.TEXTURE_2D_ARRAY,xe,xt,_t.width,_t.height,Xe.depth,0,mt,At,_t.data)}else{Qt&&pn&&t.texStorage2D(n.TEXTURE_2D,St,xt,Ht[0].width,Ht[0].height);for(let xe=0,He=Ht.length;xe<He;xe++)_t=Ht[xe],ee.format!==eo?mt!==null?Qt?be&&t.compressedTexSubImage2D(n.TEXTURE_2D,xe,0,0,_t.width,_t.height,mt,_t.data):t.compressedTexImage2D(n.TEXTURE_2D,xe,xt,_t.width,_t.height,0,_t.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Qt?be&&t.texSubImage2D(n.TEXTURE_2D,xe,0,0,_t.width,_t.height,mt,At,_t.data):t.texImage2D(n.TEXTURE_2D,xe,xt,_t.width,_t.height,0,mt,At,_t.data)}else if(ee.isDataArrayTexture)if(Qt){if(pn&&t.texStorage3D(n.TEXTURE_2D_ARRAY,St,xt,Xe.width,Xe.height,Xe.depth),be)if(ee.layerUpdates.size>0){const xe=EP(Xe.width,Xe.height,ee.format,ee.type);for(const He of ee.layerUpdates){const st=Xe.data.subarray(He*xe/Xe.data.BYTES_PER_ELEMENT,(He+1)*xe/Xe.data.BYTES_PER_ELEMENT);t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,He,Xe.width,Xe.height,1,mt,At,st)}ee.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,Xe.width,Xe.height,Xe.depth,mt,At,Xe.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,xt,Xe.width,Xe.height,Xe.depth,0,mt,At,Xe.data);else if(ee.isData3DTexture)Qt?(pn&&t.texStorage3D(n.TEXTURE_3D,St,xt,Xe.width,Xe.height,Xe.depth),be&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,Xe.width,Xe.height,Xe.depth,mt,At,Xe.data)):t.texImage3D(n.TEXTURE_3D,0,xt,Xe.width,Xe.height,Xe.depth,0,mt,At,Xe.data);else if(ee.isFramebufferTexture){if(pn)if(Qt)t.texStorage2D(n.TEXTURE_2D,St,xt,Xe.width,Xe.height);else{let xe=Xe.width,He=Xe.height;for(let st=0;st<St;st++)t.texImage2D(n.TEXTURE_2D,st,xt,xe,He,0,mt,At,null),xe>>=1,He>>=1}}else if(Ht.length>0){if(Qt&&pn){const xe=We(Ht[0]);t.texStorage2D(n.TEXTURE_2D,St,xt,xe.width,xe.height)}for(let xe=0,He=Ht.length;xe<He;xe++)_t=Ht[xe],Qt?be&&t.texSubImage2D(n.TEXTURE_2D,xe,0,0,mt,At,_t):t.texImage2D(n.TEXTURE_2D,xe,xt,mt,At,_t);ee.generateMipmaps=!1}else if(Qt){if(pn){const xe=We(Xe);t.texStorage2D(n.TEXTURE_2D,St,xt,xe.width,xe.height)}be&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,mt,At,Xe)}else t.texImage2D(n.TEXTURE_2D,0,xt,mt,At,Xe);E(ee)&&S(Me),ct.__version=Oe.version,ee.onUpdate&&ee.onUpdate(ee)}ae.__version=ee.version}function ne(ae,ee,Ee){if(ee.image.length!==6)return;const Me=de(ae,ee),Qe=ee.source;t.bindTexture(n.TEXTURE_CUBE_MAP,ae.__webglTexture,n.TEXTURE0+Ee);const Oe=i.get(Qe);if(Qe.version!==Oe.__version||Me===!0){t.activeTexture(n.TEXTURE0+Ee);const ct=fi.getPrimaries(fi.workingColorSpace),lt=ee.colorSpace===Nh?null:fi.getPrimaries(ee.colorSpace),Dt=ee.colorSpace===Nh||ct===lt?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,ee.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ee.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,ee.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Dt);const Ut=ee.isCompressedTexture||ee.image[0].isCompressedTexture,Xe=ee.image[0]&&ee.image[0].isDataTexture,mt=[];for(let He=0;He<6;He++)!Ut&&!Xe?mt[He]=x(ee.image[He],!0,r.maxCubemapSize):mt[He]=Xe?ee.image[He].image:ee.image[He],mt[He]=ut(ee,mt[He]);const At=mt[0],xt=s.convert(ee.format,ee.colorSpace),_t=s.convert(ee.type),Ht=C(ee.internalFormat,xt,_t,ee.colorSpace),Qt=ee.isVideoTexture!==!0,pn=Oe.__version===void 0||Me===!0,be=Qe.dataReady;let St=N(ee,At);le(n.TEXTURE_CUBE_MAP,ee);let xe;if(Ut){Qt&&pn&&t.texStorage2D(n.TEXTURE_CUBE_MAP,St,Ht,At.width,At.height);for(let He=0;He<6;He++){xe=mt[He].mipmaps;for(let st=0;st<xe.length;st++){const pt=xe[st];ee.format!==eo?xt!==null?Qt?be&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+He,st,0,0,pt.width,pt.height,xt,pt.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+He,st,Ht,pt.width,pt.height,0,pt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Qt?be&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+He,st,0,0,pt.width,pt.height,xt,_t,pt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+He,st,Ht,pt.width,pt.height,0,xt,_t,pt.data)}}}else{if(xe=ee.mipmaps,Qt&&pn){xe.length>0&&St++;const He=We(mt[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,St,Ht,He.width,He.height)}for(let He=0;He<6;He++)if(Xe){Qt?be&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+He,0,0,0,mt[He].width,mt[He].height,xt,_t,mt[He].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+He,0,Ht,mt[He].width,mt[He].height,0,xt,_t,mt[He].data);for(let st=0;st<xe.length;st++){const qt=xe[st].image[He].image;Qt?be&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+He,st+1,0,0,qt.width,qt.height,xt,_t,qt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+He,st+1,Ht,qt.width,qt.height,0,xt,_t,qt.data)}}else{Qt?be&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+He,0,0,0,xt,_t,mt[He]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+He,0,Ht,xt,_t,mt[He]);for(let st=0;st<xe.length;st++){const pt=xe[st];Qt?be&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+He,st+1,0,0,xt,_t,pt.image[He]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+He,st+1,Ht,xt,_t,pt.image[He])}}}E(ee)&&S(n.TEXTURE_CUBE_MAP),Oe.__version=Qe.version,ee.onUpdate&&ee.onUpdate(ee)}ae.__version=ee.version}function he(ae,ee,Ee,Me,Qe,Oe){const ct=s.convert(Ee.format,Ee.colorSpace),lt=s.convert(Ee.type),Dt=C(Ee.internalFormat,ct,lt,Ee.colorSpace),Ut=i.get(ee),Xe=i.get(Ee);if(Xe.__renderTarget=ee,!Ut.__hasExternalTextures){const mt=Math.max(1,ee.width>>Oe),At=Math.max(1,ee.height>>Oe);Qe===n.TEXTURE_3D||Qe===n.TEXTURE_2D_ARRAY?t.texImage3D(Qe,Oe,Dt,mt,At,ee.depth,0,ct,lt,null):t.texImage2D(Qe,Oe,Dt,mt,At,0,ct,lt,null)}t.bindFramebuffer(n.FRAMEBUFFER,ae),Ue(ee)?o.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Me,Qe,Xe.__webglTexture,0,Ve(ee)):(Qe===n.TEXTURE_2D||Qe>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&Qe<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Me,Qe,Xe.__webglTexture,Oe),t.bindFramebuffer(n.FRAMEBUFFER,null)}function me(ae,ee,Ee){if(n.bindRenderbuffer(n.RENDERBUFFER,ae),ee.depthBuffer){const Me=ee.depthTexture,Qe=Me&&Me.isDepthTexture?Me.type:null,Oe=A(ee.stencilBuffer,Qe),ct=ee.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,lt=Ve(ee);Ue(ee)?o.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,lt,Oe,ee.width,ee.height):Ee?n.renderbufferStorageMultisample(n.RENDERBUFFER,lt,Oe,ee.width,ee.height):n.renderbufferStorage(n.RENDERBUFFER,Oe,ee.width,ee.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,ct,n.RENDERBUFFER,ae)}else{const Me=ee.textures;for(let Qe=0;Qe<Me.length;Qe++){const Oe=Me[Qe],ct=s.convert(Oe.format,Oe.colorSpace),lt=s.convert(Oe.type),Dt=C(Oe.internalFormat,ct,lt,Oe.colorSpace),Ut=Ve(ee);Ee&&Ue(ee)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,Ut,Dt,ee.width,ee.height):Ue(ee)?o.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Ut,Dt,ee.width,ee.height):n.renderbufferStorage(n.RENDERBUFFER,Dt,ee.width,ee.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function Le(ae,ee){if(ee&&ee.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,ae),!(ee.depthTexture&&ee.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Me=i.get(ee.depthTexture);Me.__renderTarget=ee,(!Me.__webglTexture||ee.depthTexture.image.width!==ee.width||ee.depthTexture.image.height!==ee.height)&&(ee.depthTexture.image.width=ee.width,ee.depthTexture.image.height=ee.height,ee.depthTexture.needsUpdate=!0),J(ee.depthTexture,0);const Qe=Me.__webglTexture,Oe=Ve(ee);if(ee.depthTexture.format===K0)Ue(ee)?o.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Qe,0,Oe):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Qe,0);else if(ee.depthTexture.format===Z0)Ue(ee)?o.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Qe,0,Oe):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Qe,0);else throw new Error("Unknown depthTexture format")}function Ye(ae){const ee=i.get(ae),Ee=ae.isWebGLCubeRenderTarget===!0;if(ee.__boundDepthTexture!==ae.depthTexture){const Me=ae.depthTexture;if(ee.__depthDisposeCallback&&ee.__depthDisposeCallback(),Me){const Qe=()=>{delete ee.__boundDepthTexture,delete ee.__depthDisposeCallback,Me.removeEventListener("dispose",Qe)};Me.addEventListener("dispose",Qe),ee.__depthDisposeCallback=Qe}ee.__boundDepthTexture=Me}if(ae.depthTexture&&!ee.__autoAllocateDepthBuffer){if(Ee)throw new Error("target.depthTexture not supported in Cube render targets");const Me=ae.texture.mipmaps;Me&&Me.length>0?Le(ee.__webglFramebuffer[0],ae):Le(ee.__webglFramebuffer,ae)}else if(Ee){ee.__webglDepthbuffer=[];for(let Me=0;Me<6;Me++)if(t.bindFramebuffer(n.FRAMEBUFFER,ee.__webglFramebuffer[Me]),ee.__webglDepthbuffer[Me]===void 0)ee.__webglDepthbuffer[Me]=n.createRenderbuffer(),me(ee.__webglDepthbuffer[Me],ae,!1);else{const Qe=ae.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Oe=ee.__webglDepthbuffer[Me];n.bindRenderbuffer(n.RENDERBUFFER,Oe),n.framebufferRenderbuffer(n.FRAMEBUFFER,Qe,n.RENDERBUFFER,Oe)}}else{const Me=ae.texture.mipmaps;if(Me&&Me.length>0?t.bindFramebuffer(n.FRAMEBUFFER,ee.__webglFramebuffer[0]):t.bindFramebuffer(n.FRAMEBUFFER,ee.__webglFramebuffer),ee.__webglDepthbuffer===void 0)ee.__webglDepthbuffer=n.createRenderbuffer(),me(ee.__webglDepthbuffer,ae,!1);else{const Qe=ae.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Oe=ee.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,Oe),n.framebufferRenderbuffer(n.FRAMEBUFFER,Qe,n.RENDERBUFFER,Oe)}}t.bindFramebuffer(n.FRAMEBUFFER,null)}function je(ae,ee,Ee){const Me=i.get(ae);ee!==void 0&&he(Me.__webglFramebuffer,ae,ae.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),Ee!==void 0&&Ye(ae)}function rt(ae){const ee=ae.texture,Ee=i.get(ae),Me=i.get(ee);ae.addEventListener("dispose",I);const Qe=ae.textures,Oe=ae.isWebGLCubeRenderTarget===!0,ct=Qe.length>1;if(ct||(Me.__webglTexture===void 0&&(Me.__webglTexture=n.createTexture()),Me.__version=ee.version,a.memory.textures++),Oe){Ee.__webglFramebuffer=[];for(let lt=0;lt<6;lt++)if(ee.mipmaps&&ee.mipmaps.length>0){Ee.__webglFramebuffer[lt]=[];for(let Dt=0;Dt<ee.mipmaps.length;Dt++)Ee.__webglFramebuffer[lt][Dt]=n.createFramebuffer()}else Ee.__webglFramebuffer[lt]=n.createFramebuffer()}else{if(ee.mipmaps&&ee.mipmaps.length>0){Ee.__webglFramebuffer=[];for(let lt=0;lt<ee.mipmaps.length;lt++)Ee.__webglFramebuffer[lt]=n.createFramebuffer()}else Ee.__webglFramebuffer=n.createFramebuffer();if(ct)for(let lt=0,Dt=Qe.length;lt<Dt;lt++){const Ut=i.get(Qe[lt]);Ut.__webglTexture===void 0&&(Ut.__webglTexture=n.createTexture(),a.memory.textures++)}if(ae.samples>0&&Ue(ae)===!1){Ee.__webglMultisampledFramebuffer=n.createFramebuffer(),Ee.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,Ee.__webglMultisampledFramebuffer);for(let lt=0;lt<Qe.length;lt++){const Dt=Qe[lt];Ee.__webglColorRenderbuffer[lt]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,Ee.__webglColorRenderbuffer[lt]);const Ut=s.convert(Dt.format,Dt.colorSpace),Xe=s.convert(Dt.type),mt=C(Dt.internalFormat,Ut,Xe,Dt.colorSpace,ae.isXRRenderTarget===!0),At=Ve(ae);n.renderbufferStorageMultisample(n.RENDERBUFFER,At,mt,ae.width,ae.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+lt,n.RENDERBUFFER,Ee.__webglColorRenderbuffer[lt])}n.bindRenderbuffer(n.RENDERBUFFER,null),ae.depthBuffer&&(Ee.__webglDepthRenderbuffer=n.createRenderbuffer(),me(Ee.__webglDepthRenderbuffer,ae,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(Oe){t.bindTexture(n.TEXTURE_CUBE_MAP,Me.__webglTexture),le(n.TEXTURE_CUBE_MAP,ee);for(let lt=0;lt<6;lt++)if(ee.mipmaps&&ee.mipmaps.length>0)for(let Dt=0;Dt<ee.mipmaps.length;Dt++)he(Ee.__webglFramebuffer[lt][Dt],ae,ee,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+lt,Dt);else he(Ee.__webglFramebuffer[lt],ae,ee,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+lt,0);E(ee)&&S(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(ct){for(let lt=0,Dt=Qe.length;lt<Dt;lt++){const Ut=Qe[lt],Xe=i.get(Ut);t.bindTexture(n.TEXTURE_2D,Xe.__webglTexture),le(n.TEXTURE_2D,Ut),he(Ee.__webglFramebuffer,ae,Ut,n.COLOR_ATTACHMENT0+lt,n.TEXTURE_2D,0),E(Ut)&&S(n.TEXTURE_2D)}t.unbindTexture()}else{let lt=n.TEXTURE_2D;if((ae.isWebGL3DRenderTarget||ae.isWebGLArrayRenderTarget)&&(lt=ae.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(lt,Me.__webglTexture),le(lt,ee),ee.mipmaps&&ee.mipmaps.length>0)for(let Dt=0;Dt<ee.mipmaps.length;Dt++)he(Ee.__webglFramebuffer[Dt],ae,ee,n.COLOR_ATTACHMENT0,lt,Dt);else he(Ee.__webglFramebuffer,ae,ee,n.COLOR_ATTACHMENT0,lt,0);E(ee)&&S(lt),t.unbindTexture()}ae.depthBuffer&&Ye(ae)}function ot(ae){const ee=ae.textures;for(let Ee=0,Me=ee.length;Ee<Me;Ee++){const Qe=ee[Ee];if(E(Qe)){const Oe=w(ae),ct=i.get(Qe).__webglTexture;t.bindTexture(Oe,ct),S(Oe),t.unbindTexture()}}}const dt=[],te=[];function Ie(ae){if(ae.samples>0){if(Ue(ae)===!1){const ee=ae.textures,Ee=ae.width,Me=ae.height;let Qe=n.COLOR_BUFFER_BIT;const Oe=ae.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,ct=i.get(ae),lt=ee.length>1;if(lt)for(let Ut=0;Ut<ee.length;Ut++)t.bindFramebuffer(n.FRAMEBUFFER,ct.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ut,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,ct.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ut,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,ct.__webglMultisampledFramebuffer);const Dt=ae.texture.mipmaps;Dt&&Dt.length>0?t.bindFramebuffer(n.DRAW_FRAMEBUFFER,ct.__webglFramebuffer[0]):t.bindFramebuffer(n.DRAW_FRAMEBUFFER,ct.__webglFramebuffer);for(let Ut=0;Ut<ee.length;Ut++){if(ae.resolveDepthBuffer&&(ae.depthBuffer&&(Qe|=n.DEPTH_BUFFER_BIT),ae.stencilBuffer&&ae.resolveStencilBuffer&&(Qe|=n.STENCIL_BUFFER_BIT)),lt){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,ct.__webglColorRenderbuffer[Ut]);const Xe=i.get(ee[Ut]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,Xe,0)}n.blitFramebuffer(0,0,Ee,Me,0,0,Ee,Me,Qe,n.NEAREST),l===!0&&(dt.length=0,te.length=0,dt.push(n.COLOR_ATTACHMENT0+Ut),ae.depthBuffer&&ae.resolveDepthBuffer===!1&&(dt.push(Oe),te.push(Oe),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,te)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,dt))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),lt)for(let Ut=0;Ut<ee.length;Ut++){t.bindFramebuffer(n.FRAMEBUFFER,ct.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ut,n.RENDERBUFFER,ct.__webglColorRenderbuffer[Ut]);const Xe=i.get(ee[Ut]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,ct.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ut,n.TEXTURE_2D,Xe,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,ct.__webglMultisampledFramebuffer)}else if(ae.depthBuffer&&ae.resolveDepthBuffer===!1&&l){const ee=ae.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[ee])}}}function Ve(ae){return Math.min(r.maxSamples,ae.samples)}function Ue(ae){const ee=i.get(ae);return ae.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&ee.__useRenderToTexture!==!1}function Re(ae){const ee=a.render.frame;h.get(ae)!==ee&&(h.set(ae,ee),ae.update())}function ut(ae,ee){const Ee=ae.colorSpace,Me=ae.format,Qe=ae.type;return ae.isCompressedTexture===!0||ae.isVideoTexture===!0||Ee!==Xp&&Ee!==Nh&&(fi.getTransfer(Ee)===Vi?(Me!==eo||Qe!==Mc)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",Ee)),ee}function We(ae){return typeof HTMLImageElement<"u"&&ae instanceof HTMLImageElement?(u.width=ae.naturalWidth||ae.width,u.height=ae.naturalHeight||ae.height):typeof VideoFrame<"u"&&ae instanceof VideoFrame?(u.width=ae.displayWidth,u.height=ae.displayHeight):(u.width=ae.width,u.height=ae.height),u}this.allocateTextureUnit=V,this.resetTextureUnits=z,this.setTexture2D=J,this.setTexture2DArray=q,this.setTexture3D=W,this.setTextureCube=Q,this.rebindTextures=je,this.setupRenderTarget=rt,this.updateRenderTargetMipmap=ot,this.updateMultisampleRenderTarget=Ie,this.setupDepthRenderbuffer=Ye,this.setupFrameBufferTexture=he,this.useMultisampledRTT=Ue}function aq(n,e){function t(i,r=Nh){let s;const a=fi.getTransfer(r);if(i===Mc)return n.UNSIGNED_BYTE;if(i===qA)return n.UNSIGNED_SHORT_4_4_4_4;if(i===WA)return n.UNSIGNED_SHORT_5_5_5_1;if(i===WN)return n.UNSIGNED_INT_5_9_9_9_REV;if(i===GN)return n.BYTE;if(i===qN)return n.SHORT;if(i===X0)return n.UNSIGNED_SHORT;if(i===GA)return n.INT;if(i===td)return n.UNSIGNED_INT;if(i===Po)return n.FLOAT;if(i===hy)return n.HALF_FLOAT;if(i===$N)return n.ALPHA;if(i===XN)return n.RGB;if(i===eo)return n.RGBA;if(i===K0)return n.DEPTH_COMPONENT;if(i===Z0)return n.DEPTH_STENCIL;if(i===$A)return n.RED;if(i===PS)return n.RED_INTEGER;if(i===YN)return n.RG;if(i===XA)return n.RG_INTEGER;if(i===YA)return n.RGBA_INTEGER;if(i===ux||i===fx||i===hx||i===dx)if(a===Vi)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(i===ux)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===fx)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===hx)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===dx)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(i===ux)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===fx)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===hx)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===dx)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===uC||i===fC||i===hC||i===dC)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(i===uC)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===fC)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===hC)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===dC)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===pC||i===mC||i===gC)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(i===pC||i===mC)return a===Vi?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(i===gC)return a===Vi?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===yC||i===vC||i===_C||i===bC||i===xC||i===SC||i===EC||i===TC||i===wC||i===CC||i===AC||i===MC||i===RC||i===OC)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(i===yC)return a===Vi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===vC)return a===Vi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===_C)return a===Vi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===bC)return a===Vi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===xC)return a===Vi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===SC)return a===Vi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===EC)return a===Vi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===TC)return a===Vi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===wC)return a===Vi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===CC)return a===Vi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===AC)return a===Vi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===MC)return a===Vi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===RC)return a===Vi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===OC)return a===Vi?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===px||i===IC||i===PC)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(i===px)return a===Vi?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===IC)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===PC)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===KN||i===DC||i===NC||i===LC)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(i===px)return s.COMPRESSED_RED_RGTC1_EXT;if(i===DC)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===NC)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===LC)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===Y0?n.UNSIGNED_INT_24_8:n[i]!==void 0?n[i]:null}return{convert:t}}const qde=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,Wde=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class $de{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,i){if(this.texture===null){const r=new rs,s=e.properties.get(r);s.__webglTexture=t.texture,(t.depthNear!==i.depthNear||t.depthFar!==i.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,i=new Su({vertexShader:qde,fragmentShader:Wde,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new is(new I_(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class Xde extends Uf{constructor(e,t){super();const i=this;let r=null,s=1,a=null,o="local-floor",l=1,u=null,h=null,p=null,y=null,v=null,_=null;const x=new $de,E=t.getContextAttributes();let S=null,w=null;const C=[],A=[],N=new it;let L=null;const I=new na;I.viewport=new gi;const D=new na;D.viewport=new gi;const P=[I,D],U=new YG;let F=null,z=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ue){let ne=C[ue];return ne===void 0&&(ne=new p2,C[ue]=ne),ne.getTargetRaySpace()},this.getControllerGrip=function(ue){let ne=C[ue];return ne===void 0&&(ne=new p2,C[ue]=ne),ne.getGripSpace()},this.getHand=function(ue){let ne=C[ue];return ne===void 0&&(ne=new p2,C[ue]=ne),ne.getHandSpace()};function V(ue){const ne=A.indexOf(ue.inputSource);if(ne===-1)return;const he=C[ne];he!==void 0&&(he.update(ue.inputSource,ue.frame,u||a),he.dispatchEvent({type:ue.type,data:ue.inputSource}))}function K(){r.removeEventListener("select",V),r.removeEventListener("selectstart",V),r.removeEventListener("selectend",V),r.removeEventListener("squeeze",V),r.removeEventListener("squeezestart",V),r.removeEventListener("squeezeend",V),r.removeEventListener("end",K),r.removeEventListener("inputsourceschange",J);for(let ue=0;ue<C.length;ue++){const ne=A[ue];ne!==null&&(A[ue]=null,C[ue].disconnect(ne))}F=null,z=null,x.reset(),e.setRenderTarget(S),v=null,y=null,p=null,r=null,w=null,de.stop(),i.isPresenting=!1,e.setPixelRatio(L),e.setSize(N.width,N.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ue){s=ue,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ue){o=ue,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||a},this.setReferenceSpace=function(ue){u=ue},this.getBaseLayer=function(){return y!==null?y:v},this.getBinding=function(){return p},this.getFrame=function(){return _},this.getSession=function(){return r},this.setSession=async function(ue){if(r=ue,r!==null){if(S=e.getRenderTarget(),r.addEventListener("select",V),r.addEventListener("selectstart",V),r.addEventListener("selectend",V),r.addEventListener("squeeze",V),r.addEventListener("squeezestart",V),r.addEventListener("squeezeend",V),r.addEventListener("end",K),r.addEventListener("inputsourceschange",J),E.xrCompatible!==!0&&await t.makeXRCompatible(),L=e.getPixelRatio(),e.getSize(N),typeof XRWebGLBinding<"u"&&"createProjectionLayer"in XRWebGLBinding.prototype){let he=null,me=null,Le=null;E.depth&&(Le=E.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,he=E.stencil?Z0:K0,me=E.stencil?Y0:td);const Ye={colorFormat:t.RGBA8,depthFormat:Le,scaleFactor:s};p=new XRWebGLBinding(r,t),y=p.createProjectionLayer(Ye),r.updateRenderState({layers:[y]}),e.setPixelRatio(1),e.setSize(y.textureWidth,y.textureHeight,!1),w=new xu(y.textureWidth,y.textureHeight,{format:eo,type:Mc,depthTexture:new LS(y.textureWidth,y.textureHeight,me,void 0,void 0,void 0,void 0,void 0,void 0,he),stencilBuffer:E.stencil,colorSpace:e.outputColorSpace,samples:E.antialias?4:0,resolveDepthBuffer:y.ignoreDepthValues===!1,resolveStencilBuffer:y.ignoreDepthValues===!1})}else{const he={antialias:E.antialias,alpha:!0,depth:E.depth,stencil:E.stencil,framebufferScaleFactor:s};v=new XRWebGLLayer(r,t,he),r.updateRenderState({baseLayer:v}),e.setPixelRatio(1),e.setSize(v.framebufferWidth,v.framebufferHeight,!1),w=new xu(v.framebufferWidth,v.framebufferHeight,{format:eo,type:Mc,colorSpace:e.outputColorSpace,stencilBuffer:E.stencil,resolveDepthBuffer:v.ignoreDepthValues===!1,resolveStencilBuffer:v.ignoreDepthValues===!1})}w.isXRRenderTarget=!0,this.setFoveation(l),u=null,a=await r.requestReferenceSpace(o),de.setContext(r),de.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode},this.getDepthTexture=function(){return x.getDepthTexture()};function J(ue){for(let ne=0;ne<ue.removed.length;ne++){const he=ue.removed[ne],me=A.indexOf(he);me>=0&&(A[me]=null,C[me].disconnect(he))}for(let ne=0;ne<ue.added.length;ne++){const he=ue.added[ne];let me=A.indexOf(he);if(me===-1){for(let Ye=0;Ye<C.length;Ye++)if(Ye>=A.length){A.push(he),me=Ye;break}else if(A[Ye]===null){A[Ye]=he,me=Ye;break}if(me===-1)break}const Le=C[me];Le&&Le.connect(he)}}const q=new fe,W=new fe;function Q(ue,ne,he){q.setFromMatrixPosition(ne.matrixWorld),W.setFromMatrixPosition(he.matrixWorld);const me=q.distanceTo(W),Le=ne.projectionMatrix.elements,Ye=he.projectionMatrix.elements,je=Le[14]/(Le[10]-1),rt=Le[14]/(Le[10]+1),ot=(Le[9]+1)/Le[5],dt=(Le[9]-1)/Le[5],te=(Le[8]-1)/Le[0],Ie=(Ye[8]+1)/Ye[0],Ve=je*te,Ue=je*Ie,Re=me/(-te+Ie),ut=Re*-te;if(ne.matrixWorld.decompose(ue.position,ue.quaternion,ue.scale),ue.translateX(ut),ue.translateZ(Re),ue.matrixWorld.compose(ue.position,ue.quaternion,ue.scale),ue.matrixWorldInverse.copy(ue.matrixWorld).invert(),Le[10]===-1)ue.projectionMatrix.copy(ne.projectionMatrix),ue.projectionMatrixInverse.copy(ne.projectionMatrixInverse);else{const We=je+Re,ae=rt+Re,ee=Ve-ut,Ee=Ue+(me-ut),Me=ot*rt/ae*We,Qe=dt*rt/ae*We;ue.projectionMatrix.makePerspective(ee,Ee,Me,Qe,We,ae),ue.projectionMatrixInverse.copy(ue.projectionMatrix).invert()}}function re(ue,ne){ne===null?ue.matrixWorld.copy(ue.matrix):ue.matrixWorld.multiplyMatrices(ne.matrixWorld,ue.matrix),ue.matrixWorldInverse.copy(ue.matrixWorld).invert()}this.updateCamera=function(ue){if(r===null)return;let ne=ue.near,he=ue.far;x.texture!==null&&(x.depthNear>0&&(ne=x.depthNear),x.depthFar>0&&(he=x.depthFar)),U.near=D.near=I.near=ne,U.far=D.far=I.far=he,(F!==U.near||z!==U.far)&&(r.updateRenderState({depthNear:U.near,depthFar:U.far}),F=U.near,z=U.far),I.layers.mask=ue.layers.mask|2,D.layers.mask=ue.layers.mask|4,U.layers.mask=I.layers.mask|D.layers.mask;const me=ue.parent,Le=U.cameras;re(U,me);for(let Ye=0;Ye<Le.length;Ye++)re(Le[Ye],me);Le.length===2?Q(U,I,D):U.projectionMatrix.copy(I.projectionMatrix),pe(ue,U,me)};function pe(ue,ne,he){he===null?ue.matrix.copy(ne.matrixWorld):(ue.matrix.copy(he.matrixWorld),ue.matrix.invert(),ue.matrix.multiply(ne.matrixWorld)),ue.matrix.decompose(ue.position,ue.quaternion,ue.scale),ue.updateMatrixWorld(!0),ue.projectionMatrix.copy(ne.projectionMatrix),ue.projectionMatrixInverse.copy(ne.projectionMatrixInverse),ue.isPerspectiveCamera&&(ue.fov=Q0*2*Math.atan(1/ue.projectionMatrix.elements[5]),ue.zoom=1)}this.getCamera=function(){return U},this.getFoveation=function(){if(!(y===null&&v===null))return l},this.setFoveation=function(ue){l=ue,y!==null&&(y.fixedFoveation=ue),v!==null&&v.fixedFoveation!==void 0&&(v.fixedFoveation=ue)},this.hasDepthSensing=function(){return x.texture!==null},this.getDepthSensingMesh=function(){return x.getMesh(U)};let Y=null;function le(ue,ne){if(h=ne.getViewerPose(u||a),_=ne,h!==null){const he=h.views;v!==null&&(e.setRenderTargetFramebuffer(w,v.framebuffer),e.setRenderTarget(w));let me=!1;he.length!==U.cameras.length&&(U.cameras.length=0,me=!0);for(let je=0;je<he.length;je++){const rt=he[je];let ot=null;if(v!==null)ot=v.getViewport(rt);else{const te=p.getViewSubImage(y,rt);ot=te.viewport,je===0&&(e.setRenderTargetTextures(w,te.colorTexture,te.depthStencilTexture),e.setRenderTarget(w))}let dt=P[je];dt===void 0&&(dt=new na,dt.layers.enable(je),dt.viewport=new gi,P[je]=dt),dt.matrix.fromArray(rt.transform.matrix),dt.matrix.decompose(dt.position,dt.quaternion,dt.scale),dt.projectionMatrix.fromArray(rt.projectionMatrix),dt.projectionMatrixInverse.copy(dt.projectionMatrix).invert(),dt.viewport.set(ot.x,ot.y,ot.width,ot.height),je===0&&(U.matrix.copy(dt.matrix),U.matrix.decompose(U.position,U.quaternion,U.scale)),me===!0&&U.cameras.push(dt)}const Le=r.enabledFeatures;if(Le&&Le.includes("depth-sensing")&&r.depthUsage=="gpu-optimized"&&p){const je=p.getDepthInformation(he[0]);je&&je.isValid&&je.texture&&x.init(e,je,r.renderState)}}for(let he=0;he<C.length;he++){const me=A[he],Le=C[he];me!==null&&Le!==void 0&&Le.update(me,ne,u||a)}Y&&Y(ue,ne),ne.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:ne}),_=null}const de=new tq;de.setAnimationLoop(le),this.setAnimationLoop=function(ue){Y=ue},this.dispose=function(){}}}const fg=new Vl,Yde=new an;function Kde(n,e){function t(E,S){E.matrixAutoUpdate===!0&&E.updateMatrix(),S.value.copy(E.matrix)}function i(E,S){S.color.getRGB(E.fogColor.value,iG(n)),S.isFog?(E.fogNear.value=S.near,E.fogFar.value=S.far):S.isFogExp2&&(E.fogDensity.value=S.density)}function r(E,S,w,C,A){S.isMeshBasicMaterial||S.isMeshLambertMaterial?s(E,S):S.isMeshToonMaterial?(s(E,S),p(E,S)):S.isMeshPhongMaterial?(s(E,S),h(E,S)):S.isMeshStandardMaterial?(s(E,S),y(E,S),S.isMeshPhysicalMaterial&&v(E,S,A)):S.isMeshMatcapMaterial?(s(E,S),_(E,S)):S.isMeshDepthMaterial?s(E,S):S.isMeshDistanceMaterial?(s(E,S),x(E,S)):S.isMeshNormalMaterial?s(E,S):S.isLineBasicMaterial?(a(E,S),S.isLineDashedMaterial&&o(E,S)):S.isPointsMaterial?l(E,S,w,C):S.isSpriteMaterial?u(E,S):S.isShadowMaterial?(E.color.value.copy(S.color),E.opacity.value=S.opacity):S.isShaderMaterial&&(S.uniformsNeedUpdate=!1)}function s(E,S){E.opacity.value=S.opacity,S.color&&E.diffuse.value.copy(S.color),S.emissive&&E.emissive.value.copy(S.emissive).multiplyScalar(S.emissiveIntensity),S.map&&(E.map.value=S.map,t(S.map,E.mapTransform)),S.alphaMap&&(E.alphaMap.value=S.alphaMap,t(S.alphaMap,E.alphaMapTransform)),S.bumpMap&&(E.bumpMap.value=S.bumpMap,t(S.bumpMap,E.bumpMapTransform),E.bumpScale.value=S.bumpScale,S.side===Do&&(E.bumpScale.value*=-1)),S.normalMap&&(E.normalMap.value=S.normalMap,t(S.normalMap,E.normalMapTransform),E.normalScale.value.copy(S.normalScale),S.side===Do&&E.normalScale.value.negate()),S.displacementMap&&(E.displacementMap.value=S.displacementMap,t(S.displacementMap,E.displacementMapTransform),E.displacementScale.value=S.displacementScale,E.displacementBias.value=S.displacementBias),S.emissiveMap&&(E.emissiveMap.value=S.emissiveMap,t(S.emissiveMap,E.emissiveMapTransform)),S.specularMap&&(E.specularMap.value=S.specularMap,t(S.specularMap,E.specularMapTransform)),S.alphaTest>0&&(E.alphaTest.value=S.alphaTest);const w=e.get(S),C=w.envMap,A=w.envMapRotation;C&&(E.envMap.value=C,fg.copy(A),fg.x*=-1,fg.y*=-1,fg.z*=-1,C.isCubeTexture&&C.isRenderTargetTexture===!1&&(fg.y*=-1,fg.z*=-1),E.envMapRotation.value.setFromMatrix4(Yde.makeRotationFromEuler(fg)),E.flipEnvMap.value=C.isCubeTexture&&C.isRenderTargetTexture===!1?-1:1,E.reflectivity.value=S.reflectivity,E.ior.value=S.ior,E.refractionRatio.value=S.refractionRatio),S.lightMap&&(E.lightMap.value=S.lightMap,E.lightMapIntensity.value=S.lightMapIntensity,t(S.lightMap,E.lightMapTransform)),S.aoMap&&(E.aoMap.value=S.aoMap,E.aoMapIntensity.value=S.aoMapIntensity,t(S.aoMap,E.aoMapTransform))}function a(E,S){E.diffuse.value.copy(S.color),E.opacity.value=S.opacity,S.map&&(E.map.value=S.map,t(S.map,E.mapTransform))}function o(E,S){E.dashSize.value=S.dashSize,E.totalSize.value=S.dashSize+S.gapSize,E.scale.value=S.scale}function l(E,S,w,C){E.diffuse.value.copy(S.color),E.opacity.value=S.opacity,E.size.value=S.size*w,E.scale.value=C*.5,S.map&&(E.map.value=S.map,t(S.map,E.uvTransform)),S.alphaMap&&(E.alphaMap.value=S.alphaMap,t(S.alphaMap,E.alphaMapTransform)),S.alphaTest>0&&(E.alphaTest.value=S.alphaTest)}function u(E,S){E.diffuse.value.copy(S.color),E.opacity.value=S.opacity,E.rotation.value=S.rotation,S.map&&(E.map.value=S.map,t(S.map,E.mapTransform)),S.alphaMap&&(E.alphaMap.value=S.alphaMap,t(S.alphaMap,E.alphaMapTransform)),S.alphaTest>0&&(E.alphaTest.value=S.alphaTest)}function h(E,S){E.specular.value.copy(S.specular),E.shininess.value=Math.max(S.shininess,1e-4)}function p(E,S){S.gradientMap&&(E.gradientMap.value=S.gradientMap)}function y(E,S){E.metalness.value=S.metalness,S.metalnessMap&&(E.metalnessMap.value=S.metalnessMap,t(S.metalnessMap,E.metalnessMapTransform)),E.roughness.value=S.roughness,S.roughnessMap&&(E.roughnessMap.value=S.roughnessMap,t(S.roughnessMap,E.roughnessMapTransform)),S.envMap&&(E.envMapIntensity.value=S.envMapIntensity)}function v(E,S,w){E.ior.value=S.ior,S.sheen>0&&(E.sheenColor.value.copy(S.sheenColor).multiplyScalar(S.sheen),E.sheenRoughness.value=S.sheenRoughness,S.sheenColorMap&&(E.sheenColorMap.value=S.sheenColorMap,t(S.sheenColorMap,E.sheenColorMapTransform)),S.sheenRoughnessMap&&(E.sheenRoughnessMap.value=S.sheenRoughnessMap,t(S.sheenRoughnessMap,E.sheenRoughnessMapTransform))),S.clearcoat>0&&(E.clearcoat.value=S.clearcoat,E.clearcoatRoughness.value=S.clearcoatRoughness,S.clearcoatMap&&(E.clearcoatMap.value=S.clearcoatMap,t(S.clearcoatMap,E.clearcoatMapTransform)),S.clearcoatRoughnessMap&&(E.clearcoatRoughnessMap.value=S.clearcoatRoughnessMap,t(S.clearcoatRoughnessMap,E.clearcoatRoughnessMapTransform)),S.clearcoatNormalMap&&(E.clearcoatNormalMap.value=S.clearcoatNormalMap,t(S.clearcoatNormalMap,E.clearcoatNormalMapTransform),E.clearcoatNormalScale.value.copy(S.clearcoatNormalScale),S.side===Do&&E.clearcoatNormalScale.value.negate())),S.dispersion>0&&(E.dispersion.value=S.dispersion),S.iridescence>0&&(E.iridescence.value=S.iridescence,E.iridescenceIOR.value=S.iridescenceIOR,E.iridescenceThicknessMinimum.value=S.iridescenceThicknessRange[0],E.iridescenceThicknessMaximum.value=S.iridescenceThicknessRange[1],S.iridescenceMap&&(E.iridescenceMap.value=S.iridescenceMap,t(S.iridescenceMap,E.iridescenceMapTransform)),S.iridescenceThicknessMap&&(E.iridescenceThicknessMap.value=S.iridescenceThicknessMap,t(S.iridescenceThicknessMap,E.iridescenceThicknessMapTransform))),S.transmission>0&&(E.transmission.value=S.transmission,E.transmissionSamplerMap.value=w.texture,E.transmissionSamplerSize.value.set(w.width,w.height),S.transmissionMap&&(E.transmissionMap.value=S.transmissionMap,t(S.transmissionMap,E.transmissionMapTransform)),E.thickness.value=S.thickness,S.thicknessMap&&(E.thicknessMap.value=S.thicknessMap,t(S.thicknessMap,E.thicknessMapTransform)),E.attenuationDistance.value=S.attenuationDistance,E.attenuationColor.value.copy(S.attenuationColor)),S.anisotropy>0&&(E.anisotropyVector.value.set(S.anisotropy*Math.cos(S.anisotropyRotation),S.anisotropy*Math.sin(S.anisotropyRotation)),S.anisotropyMap&&(E.anisotropyMap.value=S.anisotropyMap,t(S.anisotropyMap,E.anisotropyMapTransform))),E.specularIntensity.value=S.specularIntensity,E.specularColor.value.copy(S.specularColor),S.specularColorMap&&(E.specularColorMap.value=S.specularColorMap,t(S.specularColorMap,E.specularColorMapTransform)),S.specularIntensityMap&&(E.specularIntensityMap.value=S.specularIntensityMap,t(S.specularIntensityMap,E.specularIntensityMapTransform))}function _(E,S){S.matcap&&(E.matcap.value=S.matcap)}function x(E,S){const w=e.get(S).light;E.referencePosition.value.setFromMatrixPosition(w.matrixWorld),E.nearDistance.value=w.shadow.camera.near,E.farDistance.value=w.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function Zde(n,e,t,i){let r={},s={},a=[];const o=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function l(w,C){const A=C.program;i.uniformBlockBinding(w,A)}function u(w,C){let A=r[w.id];A===void 0&&(_(w),A=h(w),r[w.id]=A,w.addEventListener("dispose",E));const N=C.program;i.updateUBOMapping(w,N);const L=e.render.frame;s[w.id]!==L&&(y(w),s[w.id]=L)}function h(w){const C=p();w.__bindingPointIndex=C;const A=n.createBuffer(),N=w.__size,L=w.usage;return n.bindBuffer(n.UNIFORM_BUFFER,A),n.bufferData(n.UNIFORM_BUFFER,N,L),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,C,A),A}function p(){for(let w=0;w<o;w++)if(a.indexOf(w)===-1)return a.push(w),w;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function y(w){const C=r[w.id],A=w.uniforms,N=w.__cache;n.bindBuffer(n.UNIFORM_BUFFER,C);for(let L=0,I=A.length;L<I;L++){const D=Array.isArray(A[L])?A[L]:[A[L]];for(let P=0,U=D.length;P<U;P++){const F=D[P];if(v(F,L,P,N)===!0){const z=F.__offset,V=Array.isArray(F.value)?F.value:[F.value];let K=0;for(let J=0;J<V.length;J++){const q=V[J],W=x(q);typeof q=="number"||typeof q=="boolean"?(F.__data[0]=q,n.bufferSubData(n.UNIFORM_BUFFER,z+K,F.__data)):q.isMatrix3?(F.__data[0]=q.elements[0],F.__data[1]=q.elements[1],F.__data[2]=q.elements[2],F.__data[3]=0,F.__data[4]=q.elements[3],F.__data[5]=q.elements[4],F.__data[6]=q.elements[5],F.__data[7]=0,F.__data[8]=q.elements[6],F.__data[9]=q.elements[7],F.__data[10]=q.elements[8],F.__data[11]=0):(q.toArray(F.__data,K),K+=W.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,z,F.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function v(w,C,A,N){const L=w.value,I=C+"_"+A;if(N[I]===void 0)return typeof L=="number"||typeof L=="boolean"?N[I]=L:N[I]=L.clone(),!0;{const D=N[I];if(typeof L=="number"||typeof L=="boolean"){if(D!==L)return N[I]=L,!0}else if(D.equals(L)===!1)return D.copy(L),!0}return!1}function _(w){const C=w.uniforms;let A=0;const N=16;for(let I=0,D=C.length;I<D;I++){const P=Array.isArray(C[I])?C[I]:[C[I]];for(let U=0,F=P.length;U<F;U++){const z=P[U],V=Array.isArray(z.value)?z.value:[z.value];for(let K=0,J=V.length;K<J;K++){const q=V[K],W=x(q),Q=A%N,re=Q%W.boundary,pe=Q+re;A+=re,pe!==0&&N-pe<W.storage&&(A+=N-pe),z.__data=new Float32Array(W.storage/Float32Array.BYTES_PER_ELEMENT),z.__offset=A,A+=W.storage}}}const L=A%N;return L>0&&(A+=N-L),w.__size=A,w.__cache={},this}function x(w){const C={boundary:0,storage:0};return typeof w=="number"||typeof w=="boolean"?(C.boundary=4,C.storage=4):w.isVector2?(C.boundary=8,C.storage=8):w.isVector3||w.isColor?(C.boundary=16,C.storage=12):w.isVector4?(C.boundary=16,C.storage=16):w.isMatrix3?(C.boundary=48,C.storage=48):w.isMatrix4?(C.boundary=64,C.storage=64):w.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",w),C}function E(w){const C=w.target;C.removeEventListener("dispose",E);const A=a.indexOf(C.__bindingPointIndex);a.splice(A,1),n.deleteBuffer(r[C.id]),delete r[C.id],delete s[C.id]}function S(){for(const w in r)n.deleteBuffer(r[w]);a=[],r={},s={}}return{bind:l,update:u,dispose:S}}class oq{constructor(e={}){const{canvas:t=eG(),context:i=null,depth:r=!0,stencil:s=!1,alpha:a=!1,antialias:o=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:u=!1,powerPreference:h="default",failIfMajorPerformanceCaveat:p=!1,reverseDepthBuffer:y=!1}=e;this.isWebGLRenderer=!0;let v;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");v=i.getContextAttributes().alpha}else v=a;const _=new Uint32Array(4),x=new Int32Array(4);let E=null,S=null;const w=[],C=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=Rf,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const A=this;let N=!1;this._outputColorSpace=Sa;let L=0,I=0,D=null,P=-1,U=null;const F=new gi,z=new gi;let V=null;const K=new Lt(0);let J=0,q=t.width,W=t.height,Q=1,re=null,pe=null;const Y=new gi(0,0,q,W),le=new gi(0,0,q,W);let de=!1;const ue=new M_;let ne=!1,he=!1;const me=new an,Le=new an,Ye=new fe,je=new gi,rt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let ot=!1;function dt(){return D===null?Q:1}let te=i;function Ie(se,ve){return t.getContext(se,ve)}try{const se={alpha:!0,depth:r,stencil:s,antialias:o,premultipliedAlpha:l,preserveDrawingBuffer:u,powerPreference:h,failIfMajorPerformanceCaveat:p};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${VA}`),t.addEventListener("webglcontextlost",He,!1),t.addEventListener("webglcontextrestored",st,!1),t.addEventListener("webglcontextcreationerror",pt,!1),te===null){const ve="webgl2";if(te=Ie(ve,se),te===null)throw Ie(ve)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(se){throw console.error("THREE.WebGLRenderer: "+se.message),se}let Ve,Ue,Re,ut,We,ae,ee,Ee,Me,Qe,Oe,ct,lt,Dt,Ut,Xe,mt,At,xt,_t,Ht,Qt,pn,be;function St(){Ve=new che(te),Ve.init(),Qt=new aq(te,Ve),Ue=new nhe(te,Ve,e,Qt),Re=new jde(te,Ve),Ue.reverseDepthBuffer&&y&&Re.buffers.depth.setReversed(!0),ut=new hhe(te),We=new Ode,ae=new Gde(te,Ve,Re,We,Ue,Qt,ut),ee=new rhe(A),Ee=new lhe(A),Me=new vce(te),pn=new ehe(te,Me),Qe=new uhe(te,Me,ut,pn),Oe=new phe(te,Qe,Me,ut),xt=new dhe(te,Ue,ae),Xe=new ihe(We),ct=new Rde(A,ee,Ee,Ve,Ue,pn,Xe),lt=new Kde(A,We),Dt=new Pde,Ut=new zde(Ve),At=new Jfe(A,ee,Ee,Re,Oe,v,l),mt=new Vde(A,Oe,Ue),be=new Zde(te,ut,Ue,Re),_t=new the(te,Ve,ut),Ht=new fhe(te,Ve,ut),ut.programs=ct.programs,A.capabilities=Ue,A.extensions=Ve,A.properties=We,A.renderLists=Dt,A.shadowMap=mt,A.state=Re,A.info=ut}St();const xe=new Xde(A,te);this.xr=xe,this.getContext=function(){return te},this.getContextAttributes=function(){return te.getContextAttributes()},this.forceContextLoss=function(){const se=Ve.get("WEBGL_lose_context");se&&se.loseContext()},this.forceContextRestore=function(){const se=Ve.get("WEBGL_lose_context");se&&se.restoreContext()},this.getPixelRatio=function(){return Q},this.setPixelRatio=function(se){se!==void 0&&(Q=se,this.setSize(q,W,!1))},this.getSize=function(se){return se.set(q,W)},this.setSize=function(se,ve,ke=!0){if(xe.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}q=se,W=ve,t.width=Math.floor(se*Q),t.height=Math.floor(ve*Q),ke===!0&&(t.style.width=se+"px",t.style.height=ve+"px"),this.setViewport(0,0,se,ve)},this.getDrawingBufferSize=function(se){return se.set(q*Q,W*Q).floor()},this.setDrawingBufferSize=function(se,ve,ke){q=se,W=ve,Q=ke,t.width=Math.floor(se*ke),t.height=Math.floor(ve*ke),this.setViewport(0,0,se,ve)},this.getCurrentViewport=function(se){return se.copy(F)},this.getViewport=function(se){return se.copy(Y)},this.setViewport=function(se,ve,ke,Ne){se.isVector4?Y.set(se.x,se.y,se.z,se.w):Y.set(se,ve,ke,Ne),Re.viewport(F.copy(Y).multiplyScalar(Q).round())},this.getScissor=function(se){return se.copy(le)},this.setScissor=function(se,ve,ke,Ne){se.isVector4?le.set(se.x,se.y,se.z,se.w):le.set(se,ve,ke,Ne),Re.scissor(z.copy(le).multiplyScalar(Q).round())},this.getScissorTest=function(){return de},this.setScissorTest=function(se){Re.setScissorTest(de=se)},this.setOpaqueSort=function(se){re=se},this.setTransparentSort=function(se){pe=se},this.getClearColor=function(se){return se.copy(At.getClearColor())},this.setClearColor=function(){At.setClearColor(...arguments)},this.getClearAlpha=function(){return At.getClearAlpha()},this.setClearAlpha=function(){At.setClearAlpha(...arguments)},this.clear=function(se=!0,ve=!0,ke=!0){let Ne=0;if(se){let Se=!1;if(D!==null){const at=D.texture.format;Se=at===YA||at===XA||at===PS}if(Se){const at=D.texture.type,wt=at===Mc||at===td||at===X0||at===Y0||at===qA||at===WA,Mt=At.getClearColor(),Rt=At.getClearAlpha(),sn=Mt.r,Jt=Mt.g,jt=Mt.b;wt?(_[0]=sn,_[1]=Jt,_[2]=jt,_[3]=Rt,te.clearBufferuiv(te.COLOR,0,_)):(x[0]=sn,x[1]=Jt,x[2]=jt,x[3]=Rt,te.clearBufferiv(te.COLOR,0,x))}else Ne|=te.COLOR_BUFFER_BIT}ve&&(Ne|=te.DEPTH_BUFFER_BIT),ke&&(Ne|=te.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),te.clear(Ne)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",He,!1),t.removeEventListener("webglcontextrestored",st,!1),t.removeEventListener("webglcontextcreationerror",pt,!1),At.dispose(),Dt.dispose(),Ut.dispose(),We.dispose(),ee.dispose(),Ee.dispose(),Oe.dispose(),pn.dispose(),be.dispose(),ct.dispose(),xe.dispose(),xe.removeEventListener("sessionstart",Tn),xe.removeEventListener("sessionend",_n),In.stop()};function He(se){se.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),N=!0}function st(){console.log("THREE.WebGLRenderer: Context Restored."),N=!1;const se=ut.autoReset,ve=mt.enabled,ke=mt.autoUpdate,Ne=mt.needsUpdate,Se=mt.type;St(),ut.autoReset=se,mt.enabled=ve,mt.autoUpdate=ke,mt.needsUpdate=Ne,mt.type=Se}function pt(se){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",se.statusMessage)}function qt(se){const ve=se.target;ve.removeEventListener("dispose",qt),Xn(ve)}function Xn(se){kt(se),We.remove(se)}function kt(se){const ve=We.get(se).programs;ve!==void 0&&(ve.forEach(function(ke){ct.releaseProgram(ke)}),se.isShaderMaterial&&ct.releaseShaderCache(se))}this.renderBufferDirect=function(se,ve,ke,Ne,Se,at){ve===null&&(ve=rt);const wt=Se.isMesh&&Se.matrixWorld.determinant()<0,Mt=hl(se,ve,ke,Ne,Se);Re.setMaterial(Ne,wt);let Rt=ke.index,sn=1;if(Ne.wireframe===!0){if(Rt=Qe.getWireframeAttribute(ke),Rt===void 0)return;sn=2}const Jt=ke.drawRange,jt=ke.attributes.position;let Fn=Jt.start*sn,zn=(Jt.start+Jt.count)*sn;at!==null&&(Fn=Math.max(Fn,at.start*sn),zn=Math.min(zn,(at.start+at.count)*sn)),Rt!==null?(Fn=Math.max(Fn,0),zn=Math.min(zn,Rt.count)):jt!=null&&(Fn=Math.max(Fn,0),zn=Math.min(zn,jt.count));const Si=zn-Fn;if(Si<0||Si===1/0)return;pn.setup(Se,Ne,Mt,ke,Rt);let $n,on=_t;if(Rt!==null&&($n=Me.get(Rt),on=Ht,on.setIndex($n)),Se.isMesh)Ne.wireframe===!0?(Re.setLineWidth(Ne.wireframeLinewidth*dt()),on.setMode(te.LINES)):on.setMode(te.TRIANGLES);else if(Se.isLine){let Xt=Ne.linewidth;Xt===void 0&&(Xt=1),Re.setLineWidth(Xt*dt()),Se.isLineSegments?on.setMode(te.LINES):Se.isLineLoop?on.setMode(te.LINE_LOOP):on.setMode(te.LINE_STRIP)}else Se.isPoints?on.setMode(te.POINTS):Se.isSprite&&on.setMode(te.TRIANGLES);if(Se.isBatchedMesh)if(Se._multiDrawInstances!==null)d2("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),on.renderMultiDrawInstances(Se._multiDrawStarts,Se._multiDrawCounts,Se._multiDrawCount,Se._multiDrawInstances);else if(Ve.get("WEBGL_multi_draw"))on.renderMultiDraw(Se._multiDrawStarts,Se._multiDrawCounts,Se._multiDrawCount);else{const Xt=Se._multiDrawStarts,pr=Se._multiDrawCounts,qn=Se._multiDrawCount,ys=Rt?Me.get(Rt).bytesPerElement:1,ca=We.get(Ne).currentProgram.getUniforms();for(let rr=0;rr<qn;rr++)ca.setValue(te,"_gl_DrawID",rr),on.render(Xt[rr]/ys,pr[rr])}else if(Se.isInstancedMesh)on.renderInstances(Fn,Si,Se.count);else if(ke.isInstancedBufferGeometry){const Xt=ke._maxInstanceCount!==void 0?ke._maxInstanceCount:1/0,pr=Math.min(ke.instanceCount,Xt);on.renderInstances(Fn,Si,pr)}else on.render(Fn,Si)};function $t(se,ve,ke){se.transparent===!0&&se.side===_f&&se.forceSinglePass===!1?(se.side=Do,se.needsUpdate=!0,mn(se,ve,ke),se.side=Jh,se.needsUpdate=!0,mn(se,ve,ke),se.side=_f):mn(se,ve,ke)}this.compile=function(se,ve,ke=null){ke===null&&(ke=se),S=Ut.get(ke),S.init(ve),C.push(S),ke.traverseVisible(function(Se){Se.isLight&&Se.layers.test(ve.layers)&&(S.pushLight(Se),Se.castShadow&&S.pushShadow(Se))}),se!==ke&&se.traverseVisible(function(Se){Se.isLight&&Se.layers.test(ve.layers)&&(S.pushLight(Se),Se.castShadow&&S.pushShadow(Se))}),S.setupLights();const Ne=new Set;return se.traverse(function(Se){if(!(Se.isMesh||Se.isPoints||Se.isLine||Se.isSprite))return;const at=Se.material;if(at)if(Array.isArray(at))for(let wt=0;wt<at.length;wt++){const Mt=at[wt];$t(Mt,ke,Se),Ne.add(Mt)}else $t(at,ke,Se),Ne.add(at)}),S=C.pop(),Ne},this.compileAsync=function(se,ve,ke=null){const Ne=this.compile(se,ve,ke);return new Promise(Se=>{function at(){if(Ne.forEach(function(wt){We.get(wt).currentProgram.isReady()&&Ne.delete(wt)}),Ne.size===0){Se(se);return}setTimeout(at,10)}Ve.get("KHR_parallel_shader_compile")!==null?at():setTimeout(at,10)})};let vt=null;function Et(se){vt&&vt(se)}function Tn(){In.stop()}function _n(){In.start()}const In=new tq;In.setAnimationLoop(Et),typeof self<"u"&&In.setContext(self),this.setAnimationLoop=function(se){vt=se,xe.setAnimationLoop(se),se===null?In.stop():In.start()},xe.addEventListener("sessionstart",Tn),xe.addEventListener("sessionend",_n),this.render=function(se,ve){if(ve!==void 0&&ve.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(N===!0)return;if(se.matrixWorldAutoUpdate===!0&&se.updateMatrixWorld(),ve.parent===null&&ve.matrixWorldAutoUpdate===!0&&ve.updateMatrixWorld(),xe.enabled===!0&&xe.isPresenting===!0&&(xe.cameraAutoUpdate===!0&&xe.updateCamera(ve),ve=xe.getCamera()),se.isScene===!0&&se.onBeforeRender(A,se,ve,D),S=Ut.get(se,C.length),S.init(ve),C.push(S),Le.multiplyMatrices(ve.projectionMatrix,ve.matrixWorldInverse),ue.setFromProjectionMatrix(Le),he=this.localClippingEnabled,ne=Xe.init(this.clippingPlanes,he),E=Dt.get(se,w.length),E.init(),w.push(E),xe.enabled===!0&&xe.isPresenting===!0){const at=A.xr.getDepthSensingMesh();at!==null&&ki(at,ve,-1/0,A.sortObjects)}ki(se,ve,0,A.sortObjects),E.finish(),A.sortObjects===!0&&E.sort(re,pe),ot=xe.enabled===!1||xe.isPresenting===!1||xe.hasDepthSensing()===!1,ot&&At.addToRenderList(E,se),this.info.render.frame++,ne===!0&&Xe.beginShadows();const ke=S.state.shadowsArray;mt.render(ke,se,ve),ne===!0&&Xe.endShadows(),this.info.autoReset===!0&&this.info.reset();const Ne=E.opaque,Se=E.transmissive;if(S.setupLights(),ve.isArrayCamera){const at=ve.cameras;if(Se.length>0)for(let wt=0,Mt=at.length;wt<Mt;wt++){const Rt=at[wt];Ki(Ne,Se,se,Rt)}ot&&At.render(se);for(let wt=0,Mt=at.length;wt<Mt;wt++){const Rt=at[wt];Is(E,se,Rt,Rt.viewport)}}else Se.length>0&&Ki(Ne,Se,se,ve),ot&&At.render(se),Is(E,se,ve);D!==null&&I===0&&(ae.updateMultisampleRenderTarget(D),ae.updateRenderTargetMipmap(D)),se.isScene===!0&&se.onAfterRender(A,se,ve),pn.resetDefaultState(),P=-1,U=null,C.pop(),C.length>0?(S=C[C.length-1],ne===!0&&Xe.setGlobalState(A.clippingPlanes,S.state.camera)):S=null,w.pop(),w.length>0?E=w[w.length-1]:E=null};function ki(se,ve,ke,Ne){if(se.visible===!1)return;if(se.layers.test(ve.layers)){if(se.isGroup)ke=se.renderOrder;else if(se.isLOD)se.autoUpdate===!0&&se.update(ve);else if(se.isLight)S.pushLight(se),se.castShadow&&S.pushShadow(se);else if(se.isSprite){if(!se.frustumCulled||ue.intersectsSprite(se)){Ne&&je.setFromMatrixPosition(se.matrixWorld).applyMatrix4(Le);const wt=Oe.update(se),Mt=se.material;Mt.visible&&E.push(se,wt,Mt,ke,je.z,null)}}else if((se.isMesh||se.isLine||se.isPoints)&&(!se.frustumCulled||ue.intersectsObject(se))){const wt=Oe.update(se),Mt=se.material;if(Ne&&(se.boundingSphere!==void 0?(se.boundingSphere===null&&se.computeBoundingSphere(),je.copy(se.boundingSphere.center)):(wt.boundingSphere===null&&wt.computeBoundingSphere(),je.copy(wt.boundingSphere.center)),je.applyMatrix4(se.matrixWorld).applyMatrix4(Le)),Array.isArray(Mt)){const Rt=wt.groups;for(let sn=0,Jt=Rt.length;sn<Jt;sn++){const jt=Rt[sn],Fn=Mt[jt.materialIndex];Fn&&Fn.visible&&E.push(se,wt,Fn,ke,je.z,jt)}}else Mt.visible&&E.push(se,wt,Mt,ke,je.z,null)}}const at=se.children;for(let wt=0,Mt=at.length;wt<Mt;wt++)ki(at[wt],ve,ke,Ne)}function Is(se,ve,ke,Ne){const Se=se.opaque,at=se.transmissive,wt=se.transparent;S.setupLightsView(ke),ne===!0&&Xe.setGlobalState(A.clippingPlanes,ke),Ne&&Re.viewport(F.copy(Ne)),Se.length>0&&jr(Se,ve,ke),at.length>0&&jr(at,ve,ke),wt.length>0&&jr(wt,ve,ke),Re.buffers.depth.setTest(!0),Re.buffers.depth.setMask(!0),Re.buffers.color.setMask(!0),Re.setPolygonOffset(!1)}function Ki(se,ve,ke,Ne){if((ke.isScene===!0?ke.overrideMaterial:null)!==null)return;S.state.transmissionRenderTarget[Ne.id]===void 0&&(S.state.transmissionRenderTarget[Ne.id]=new xu(1,1,{generateMipmaps:!0,type:Ve.has("EXT_color_buffer_half_float")||Ve.has("EXT_color_buffer_float")?hy:Mc,minFilter:Sf,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:fi.workingColorSpace}));const at=S.state.transmissionRenderTarget[Ne.id],wt=Ne.viewport||F;at.setSize(wt.z*A.transmissionResolutionScale,wt.w*A.transmissionResolutionScale);const Mt=A.getRenderTarget();A.setRenderTarget(at),A.getClearColor(K),J=A.getClearAlpha(),J<1&&A.setClearColor(16777215,.5),A.clear(),ot&&At.render(ke);const Rt=A.toneMapping;A.toneMapping=Rf;const sn=Ne.viewport;if(Ne.viewport!==void 0&&(Ne.viewport=void 0),S.setupLightsView(Ne),ne===!0&&Xe.setGlobalState(A.clippingPlanes,Ne),jr(se,ke,Ne),ae.updateMultisampleRenderTarget(at),ae.updateRenderTargetMipmap(at),Ve.has("WEBGL_multisampled_render_to_texture")===!1){let Jt=!1;for(let jt=0,Fn=ve.length;jt<Fn;jt++){const zn=ve[jt],Si=zn.object,$n=zn.geometry,on=zn.material,Xt=zn.group;if(on.side===_f&&Si.layers.test(Ne.layers)){const pr=on.side;on.side=Do,on.needsUpdate=!0,Gr(Si,ke,Ne,$n,on,Xt),on.side=pr,on.needsUpdate=!0,Jt=!0}}Jt===!0&&(ae.updateMultisampleRenderTarget(at),ae.updateRenderTargetMipmap(at))}A.setRenderTarget(Mt),A.setClearColor(K,J),sn!==void 0&&(Ne.viewport=sn),A.toneMapping=Rt}function jr(se,ve,ke){const Ne=ve.isScene===!0?ve.overrideMaterial:null;for(let Se=0,at=se.length;Se<at;Se++){const wt=se[Se],Mt=wt.object,Rt=wt.geometry,sn=wt.group;let Jt=wt.material;Jt.allowOverride===!0&&Ne!==null&&(Jt=Ne),Mt.layers.test(ke.layers)&&Gr(Mt,ve,ke,Rt,Jt,sn)}}function Gr(se,ve,ke,Ne,Se,at){se.onBeforeRender(A,ve,ke,Ne,Se,at),se.modelViewMatrix.multiplyMatrices(ke.matrixWorldInverse,se.matrixWorld),se.normalMatrix.getNormalMatrix(se.modelViewMatrix),Se.onBeforeRender(A,ve,ke,Ne,se,at),Se.transparent===!0&&Se.side===_f&&Se.forceSinglePass===!1?(Se.side=Do,Se.needsUpdate=!0,A.renderBufferDirect(ke,ve,Ne,Se,se,at),Se.side=Jh,Se.needsUpdate=!0,A.renderBufferDirect(ke,ve,Ne,Se,se,at),Se.side=_f):A.renderBufferDirect(ke,ve,Ne,Se,se,at),se.onAfterRender(A,ve,ke,Ne,Se,at)}function mn(se,ve,ke){ve.isScene!==!0&&(ve=rt);const Ne=We.get(se),Se=S.state.lights,at=S.state.shadowsArray,wt=Se.state.version,Mt=ct.getParameters(se,Se.state,at,ve,ke),Rt=ct.getProgramCacheKey(Mt);let sn=Ne.programs;Ne.environment=se.isMeshStandardMaterial?ve.environment:null,Ne.fog=ve.fog,Ne.envMap=(se.isMeshStandardMaterial?Ee:ee).get(se.envMap||Ne.environment),Ne.envMapRotation=Ne.environment!==null&&se.envMap===null?ve.environmentRotation:se.envMapRotation,sn===void 0&&(se.addEventListener("dispose",qt),sn=new Map,Ne.programs=sn);let Jt=sn.get(Rt);if(Jt!==void 0){if(Ne.currentProgram===Jt&&Ne.lightsStateVersion===wt)return la(se,Mt),Jt}else Mt.uniforms=ct.getUniforms(se),se.onBeforeCompile(Mt,A),Jt=ct.acquireProgram(Mt,Rt),sn.set(Rt,Jt),Ne.uniforms=Mt.uniforms;const jt=Ne.uniforms;return(!se.isShaderMaterial&&!se.isRawShaderMaterial||se.clipping===!0)&&(jt.clippingPlanes=Xe.uniform),la(se,Mt),Ne.needsLights=ud(se),Ne.lightsStateVersion=wt,Ne.needsLights&&(jt.ambientLightColor.value=Se.state.ambient,jt.lightProbe.value=Se.state.probe,jt.directionalLights.value=Se.state.directional,jt.directionalLightShadows.value=Se.state.directionalShadow,jt.spotLights.value=Se.state.spot,jt.spotLightShadows.value=Se.state.spotShadow,jt.rectAreaLights.value=Se.state.rectArea,jt.ltc_1.value=Se.state.rectAreaLTC1,jt.ltc_2.value=Se.state.rectAreaLTC2,jt.pointLights.value=Se.state.point,jt.pointLightShadows.value=Se.state.pointShadow,jt.hemisphereLights.value=Se.state.hemi,jt.directionalShadowMap.value=Se.state.directionalShadowMap,jt.directionalShadowMatrix.value=Se.state.directionalShadowMatrix,jt.spotShadowMap.value=Se.state.spotShadowMap,jt.spotLightMatrix.value=Se.state.spotLightMatrix,jt.spotLightMap.value=Se.state.spotLightMap,jt.pointShadowMap.value=Se.state.pointShadowMap,jt.pointShadowMatrix.value=Se.state.pointShadowMatrix),Ne.currentProgram=Jt,Ne.uniformsList=null,Jt}function dr(se){if(se.uniformsList===null){const ve=se.currentProgram.getUniforms();se.uniformsList=m2.seqWithValue(ve.seq,se.uniforms)}return se.uniformsList}function la(se,ve){const ke=We.get(se);ke.outputColorSpace=ve.outputColorSpace,ke.batching=ve.batching,ke.batchingColor=ve.batchingColor,ke.instancing=ve.instancing,ke.instancingColor=ve.instancingColor,ke.instancingMorph=ve.instancingMorph,ke.skinning=ve.skinning,ke.morphTargets=ve.morphTargets,ke.morphNormals=ve.morphNormals,ke.morphColors=ve.morphColors,ke.morphTargetsCount=ve.morphTargetsCount,ke.numClippingPlanes=ve.numClippingPlanes,ke.numIntersection=ve.numClipIntersection,ke.vertexAlphas=ve.vertexAlphas,ke.vertexTangents=ve.vertexTangents,ke.toneMapping=ve.toneMapping}function hl(se,ve,ke,Ne,Se){ve.isScene!==!0&&(ve=rt),ae.resetTextureUnits();const at=ve.fog,wt=Ne.isMeshStandardMaterial?ve.environment:null,Mt=D===null?A.outputColorSpace:D.isXRRenderTarget===!0?D.texture.colorSpace:Xp,Rt=(Ne.isMeshStandardMaterial?Ee:ee).get(Ne.envMap||wt),sn=Ne.vertexColors===!0&&!!ke.attributes.color&&ke.attributes.color.itemSize===4,Jt=!!ke.attributes.tangent&&(!!Ne.normalMap||Ne.anisotropy>0),jt=!!ke.morphAttributes.position,Fn=!!ke.morphAttributes.normal,zn=!!ke.morphAttributes.color;let Si=Rf;Ne.toneMapped&&(D===null||D.isXRRenderTarget===!0)&&(Si=A.toneMapping);const $n=ke.morphAttributes.position||ke.morphAttributes.normal||ke.morphAttributes.color,on=$n!==void 0?$n.length:0,Xt=We.get(Ne),pr=S.state.lights;if(ne===!0&&(he===!0||se!==U)){const cn=se===U&&Ne.id===P;Xe.setState(Ne,se,cn)}let qn=!1;Ne.version===Xt.__version?(Xt.needsLights&&Xt.lightsStateVersion!==pr.state.version||Xt.outputColorSpace!==Mt||Se.isBatchedMesh&&Xt.batching===!1||!Se.isBatchedMesh&&Xt.batching===!0||Se.isBatchedMesh&&Xt.batchingColor===!0&&Se.colorTexture===null||Se.isBatchedMesh&&Xt.batchingColor===!1&&Se.colorTexture!==null||Se.isInstancedMesh&&Xt.instancing===!1||!Se.isInstancedMesh&&Xt.instancing===!0||Se.isSkinnedMesh&&Xt.skinning===!1||!Se.isSkinnedMesh&&Xt.skinning===!0||Se.isInstancedMesh&&Xt.instancingColor===!0&&Se.instanceColor===null||Se.isInstancedMesh&&Xt.instancingColor===!1&&Se.instanceColor!==null||Se.isInstancedMesh&&Xt.instancingMorph===!0&&Se.morphTexture===null||Se.isInstancedMesh&&Xt.instancingMorph===!1&&Se.morphTexture!==null||Xt.envMap!==Rt||Ne.fog===!0&&Xt.fog!==at||Xt.numClippingPlanes!==void 0&&(Xt.numClippingPlanes!==Xe.numPlanes||Xt.numIntersection!==Xe.numIntersection)||Xt.vertexAlphas!==sn||Xt.vertexTangents!==Jt||Xt.morphTargets!==jt||Xt.morphNormals!==Fn||Xt.morphColors!==zn||Xt.toneMapping!==Si||Xt.morphTargetsCount!==on)&&(qn=!0):(qn=!0,Xt.__version=Ne.version);let ys=Xt.currentProgram;qn===!0&&(ys=mn(Ne,ve,Se));let ca=!1,rr=!1,Ri=!1;const ti=ys.getUniforms(),wr=Xt.uniforms;if(Re.useProgram(ys.program)&&(ca=!0,rr=!0,Ri=!0),Ne.id!==P&&(P=Ne.id,rr=!0),ca||U!==se){Re.buffers.depth.getReversed()?(me.copy(se.projectionMatrix),Bae(me),Fae(me),ti.setValue(te,"projectionMatrix",me)):ti.setValue(te,"projectionMatrix",se.projectionMatrix),ti.setValue(te,"viewMatrix",se.matrixWorldInverse);const cr=ti.map.cameraPosition;cr!==void 0&&cr.setValue(te,Ye.setFromMatrixPosition(se.matrixWorld)),Ue.logarithmicDepthBuffer&&ti.setValue(te,"logDepthBufFC",2/(Math.log(se.far+1)/Math.LN2)),(Ne.isMeshPhongMaterial||Ne.isMeshToonMaterial||Ne.isMeshLambertMaterial||Ne.isMeshBasicMaterial||Ne.isMeshStandardMaterial||Ne.isShaderMaterial)&&ti.setValue(te,"isOrthographic",se.isOrthographicCamera===!0),U!==se&&(U=se,rr=!0,Ri=!0)}if(Se.isSkinnedMesh){ti.setOptional(te,Se,"bindMatrix"),ti.setOptional(te,Se,"bindMatrixInverse");const cn=Se.skeleton;cn&&(cn.boneTexture===null&&cn.computeBoneTexture(),ti.setValue(te,"boneTexture",cn.boneTexture,ae))}Se.isBatchedMesh&&(ti.setOptional(te,Se,"batchingTexture"),ti.setValue(te,"batchingTexture",Se._matricesTexture,ae),ti.setOptional(te,Se,"batchingIdTexture"),ti.setValue(te,"batchingIdTexture",Se._indirectTexture,ae),ti.setOptional(te,Se,"batchingColorTexture"),Se._colorsTexture!==null&&ti.setValue(te,"batchingColorTexture",Se._colorsTexture,ae));const qr=ke.morphAttributes;if((qr.position!==void 0||qr.normal!==void 0||qr.color!==void 0)&&xt.update(Se,ke,ys),(rr||Xt.receiveShadow!==Se.receiveShadow)&&(Xt.receiveShadow=Se.receiveShadow,ti.setValue(te,"receiveShadow",Se.receiveShadow)),Ne.isMeshGouraudMaterial&&Ne.envMap!==null&&(wr.envMap.value=Rt,wr.flipEnvMap.value=Rt.isCubeTexture&&Rt.isRenderTargetTexture===!1?-1:1),Ne.isMeshStandardMaterial&&Ne.envMap===null&&ve.environment!==null&&(wr.envMapIntensity.value=ve.environmentIntensity),rr&&(ti.setValue(te,"toneMappingExposure",A.toneMappingExposure),Xt.needsLights&&so(wr,Ri),at&&Ne.fog===!0&&lt.refreshFogUniforms(wr,at),lt.refreshMaterialUniforms(wr,Ne,Q,W,S.state.transmissionRenderTarget[se.id]),m2.upload(te,dr(Xt),wr,ae)),Ne.isShaderMaterial&&Ne.uniformsNeedUpdate===!0&&(m2.upload(te,dr(Xt),wr,ae),Ne.uniformsNeedUpdate=!1),Ne.isSpriteMaterial&&ti.setValue(te,"center",Se.center),ti.setValue(te,"modelViewMatrix",Se.modelViewMatrix),ti.setValue(te,"normalMatrix",Se.normalMatrix),ti.setValue(te,"modelMatrix",Se.matrixWorld),Ne.isShaderMaterial||Ne.isRawShaderMaterial){const cn=Ne.uniformsGroups;for(let cr=0,Ps=cn.length;cr<Ps;cr++){const Cr=cn[cr];be.update(Cr,ys),be.bind(Cr,ys)}}return ys}function so(se,ve){se.ambientLightColor.needsUpdate=ve,se.lightProbe.needsUpdate=ve,se.directionalLights.needsUpdate=ve,se.directionalLightShadows.needsUpdate=ve,se.pointLights.needsUpdate=ve,se.pointLightShadows.needsUpdate=ve,se.spotLights.needsUpdate=ve,se.spotLightShadows.needsUpdate=ve,se.rectAreaLights.needsUpdate=ve,se.hemisphereLights.needsUpdate=ve}function ud(se){return se.isMeshLambertMaterial||se.isMeshToonMaterial||se.isMeshPhongMaterial||se.isMeshStandardMaterial||se.isShadowMaterial||se.isShaderMaterial&&se.lights===!0}this.getActiveCubeFace=function(){return L},this.getActiveMipmapLevel=function(){return I},this.getRenderTarget=function(){return D},this.setRenderTargetTextures=function(se,ve,ke){const Ne=We.get(se);Ne.__autoAllocateDepthBuffer=se.resolveDepthBuffer===!1,Ne.__autoAllocateDepthBuffer===!1&&(Ne.__useRenderToTexture=!1),We.get(se.texture).__webglTexture=ve,We.get(se.depthTexture).__webglTexture=Ne.__autoAllocateDepthBuffer?void 0:ke,Ne.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(se,ve){const ke=We.get(se);ke.__webglFramebuffer=ve,ke.__useDefaultFramebuffer=ve===void 0};const Lc=te.createFramebuffer();this.setRenderTarget=function(se,ve=0,ke=0){D=se,L=ve,I=ke;let Ne=!0,Se=null,at=!1,wt=!1;if(se){const Rt=We.get(se);if(Rt.__useDefaultFramebuffer!==void 0)Re.bindFramebuffer(te.FRAMEBUFFER,null),Ne=!1;else if(Rt.__webglFramebuffer===void 0)ae.setupRenderTarget(se);else if(Rt.__hasExternalTextures)ae.rebindTextures(se,We.get(se.texture).__webglTexture,We.get(se.depthTexture).__webglTexture);else if(se.depthBuffer){const jt=se.depthTexture;if(Rt.__boundDepthTexture!==jt){if(jt!==null&&We.has(jt)&&(se.width!==jt.image.width||se.height!==jt.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");ae.setupDepthRenderbuffer(se)}}const sn=se.texture;(sn.isData3DTexture||sn.isDataArrayTexture||sn.isCompressedArrayTexture)&&(wt=!0);const Jt=We.get(se).__webglFramebuffer;se.isWebGLCubeRenderTarget?(Array.isArray(Jt[ve])?Se=Jt[ve][ke]:Se=Jt[ve],at=!0):se.samples>0&&ae.useMultisampledRTT(se)===!1?Se=We.get(se).__webglMultisampledFramebuffer:Array.isArray(Jt)?Se=Jt[ke]:Se=Jt,F.copy(se.viewport),z.copy(se.scissor),V=se.scissorTest}else F.copy(Y).multiplyScalar(Q).floor(),z.copy(le).multiplyScalar(Q).floor(),V=de;if(ke!==0&&(Se=Lc),Re.bindFramebuffer(te.FRAMEBUFFER,Se)&&Ne&&Re.drawBuffers(se,Se),Re.viewport(F),Re.scissor(z),Re.setScissorTest(V),at){const Rt=We.get(se.texture);te.framebufferTexture2D(te.FRAMEBUFFER,te.COLOR_ATTACHMENT0,te.TEXTURE_CUBE_MAP_POSITIVE_X+ve,Rt.__webglTexture,ke)}else if(wt){const Rt=We.get(se.texture),sn=ve;te.framebufferTextureLayer(te.FRAMEBUFFER,te.COLOR_ATTACHMENT0,Rt.__webglTexture,ke,sn)}else if(se!==null&&ke!==0){const Rt=We.get(se.texture);te.framebufferTexture2D(te.FRAMEBUFFER,te.COLOR_ATTACHMENT0,te.TEXTURE_2D,Rt.__webglTexture,ke)}P=-1},this.readRenderTargetPixels=function(se,ve,ke,Ne,Se,at,wt){if(!(se&&se.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Mt=We.get(se).__webglFramebuffer;if(se.isWebGLCubeRenderTarget&&wt!==void 0&&(Mt=Mt[wt]),Mt){Re.bindFramebuffer(te.FRAMEBUFFER,Mt);try{const Rt=se.texture,sn=Rt.format,Jt=Rt.type;if(!Ue.textureFormatReadable(sn)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Ue.textureTypeReadable(Jt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ve>=0&&ve<=se.width-Ne&&ke>=0&&ke<=se.height-Se&&te.readPixels(ve,ke,Ne,Se,Qt.convert(sn),Qt.convert(Jt),at)}finally{const Rt=D!==null?We.get(D).__webglFramebuffer:null;Re.bindFramebuffer(te.FRAMEBUFFER,Rt)}}},this.readRenderTargetPixelsAsync=async function(se,ve,ke,Ne,Se,at,wt){if(!(se&&se.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Mt=We.get(se).__webglFramebuffer;if(se.isWebGLCubeRenderTarget&&wt!==void 0&&(Mt=Mt[wt]),Mt)if(ve>=0&&ve<=se.width-Ne&&ke>=0&&ke<=se.height-Se){Re.bindFramebuffer(te.FRAMEBUFFER,Mt);const Rt=se.texture,sn=Rt.format,Jt=Rt.type;if(!Ue.textureFormatReadable(sn))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Ue.textureTypeReadable(Jt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const jt=te.createBuffer();te.bindBuffer(te.PIXEL_PACK_BUFFER,jt),te.bufferData(te.PIXEL_PACK_BUFFER,at.byteLength,te.STREAM_READ),te.readPixels(ve,ke,Ne,Se,Qt.convert(sn),Qt.convert(Jt),0);const Fn=D!==null?We.get(D).__webglFramebuffer:null;Re.bindFramebuffer(te.FRAMEBUFFER,Fn);const zn=te.fenceSync(te.SYNC_GPU_COMMANDS_COMPLETE,0);return te.flush(),await zae(te,zn,4),te.bindBuffer(te.PIXEL_PACK_BUFFER,jt),te.getBufferSubData(te.PIXEL_PACK_BUFFER,0,at),te.deleteBuffer(jt),te.deleteSync(zn),at}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(se,ve=null,ke=0){const Ne=Math.pow(2,-ke),Se=Math.floor(se.image.width*Ne),at=Math.floor(se.image.height*Ne),wt=ve!==null?ve.x:0,Mt=ve!==null?ve.y:0;ae.setTexture2D(se,0),te.copyTexSubImage2D(te.TEXTURE_2D,ke,0,0,wt,Mt,Se,at),Re.unbindTexture()};const ao=te.createFramebuffer(),dl=te.createFramebuffer();this.copyTextureToTexture=function(se,ve,ke=null,Ne=null,Se=0,at=null){at===null&&(Se!==0?(d2("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),at=Se,Se=0):at=0);let wt,Mt,Rt,sn,Jt,jt,Fn,zn,Si;const $n=se.isCompressedTexture?se.mipmaps[at]:se.image;if(ke!==null)wt=ke.max.x-ke.min.x,Mt=ke.max.y-ke.min.y,Rt=ke.isBox3?ke.max.z-ke.min.z:1,sn=ke.min.x,Jt=ke.min.y,jt=ke.isBox3?ke.min.z:0;else{const qr=Math.pow(2,-Se);wt=Math.floor($n.width*qr),Mt=Math.floor($n.height*qr),se.isDataArrayTexture?Rt=$n.depth:se.isData3DTexture?Rt=Math.floor($n.depth*qr):Rt=1,sn=0,Jt=0,jt=0}Ne!==null?(Fn=Ne.x,zn=Ne.y,Si=Ne.z):(Fn=0,zn=0,Si=0);const on=Qt.convert(ve.format),Xt=Qt.convert(ve.type);let pr;ve.isData3DTexture?(ae.setTexture3D(ve,0),pr=te.TEXTURE_3D):ve.isDataArrayTexture||ve.isCompressedArrayTexture?(ae.setTexture2DArray(ve,0),pr=te.TEXTURE_2D_ARRAY):(ae.setTexture2D(ve,0),pr=te.TEXTURE_2D),te.pixelStorei(te.UNPACK_FLIP_Y_WEBGL,ve.flipY),te.pixelStorei(te.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ve.premultiplyAlpha),te.pixelStorei(te.UNPACK_ALIGNMENT,ve.unpackAlignment);const qn=te.getParameter(te.UNPACK_ROW_LENGTH),ys=te.getParameter(te.UNPACK_IMAGE_HEIGHT),ca=te.getParameter(te.UNPACK_SKIP_PIXELS),rr=te.getParameter(te.UNPACK_SKIP_ROWS),Ri=te.getParameter(te.UNPACK_SKIP_IMAGES);te.pixelStorei(te.UNPACK_ROW_LENGTH,$n.width),te.pixelStorei(te.UNPACK_IMAGE_HEIGHT,$n.height),te.pixelStorei(te.UNPACK_SKIP_PIXELS,sn),te.pixelStorei(te.UNPACK_SKIP_ROWS,Jt),te.pixelStorei(te.UNPACK_SKIP_IMAGES,jt);const ti=se.isDataArrayTexture||se.isData3DTexture,wr=ve.isDataArrayTexture||ve.isData3DTexture;if(se.isDepthTexture){const qr=We.get(se),cn=We.get(ve),cr=We.get(qr.__renderTarget),Ps=We.get(cn.__renderTarget);Re.bindFramebuffer(te.READ_FRAMEBUFFER,cr.__webglFramebuffer),Re.bindFramebuffer(te.DRAW_FRAMEBUFFER,Ps.__webglFramebuffer);for(let Cr=0;Cr<Rt;Cr++)ti&&(te.framebufferTextureLayer(te.READ_FRAMEBUFFER,te.COLOR_ATTACHMENT0,We.get(se).__webglTexture,Se,jt+Cr),te.framebufferTextureLayer(te.DRAW_FRAMEBUFFER,te.COLOR_ATTACHMENT0,We.get(ve).__webglTexture,at,Si+Cr)),te.blitFramebuffer(sn,Jt,wt,Mt,Fn,zn,wt,Mt,te.DEPTH_BUFFER_BIT,te.NEAREST);Re.bindFramebuffer(te.READ_FRAMEBUFFER,null),Re.bindFramebuffer(te.DRAW_FRAMEBUFFER,null)}else if(Se!==0||se.isRenderTargetTexture||We.has(se)){const qr=We.get(se),cn=We.get(ve);Re.bindFramebuffer(te.READ_FRAMEBUFFER,ao),Re.bindFramebuffer(te.DRAW_FRAMEBUFFER,dl);for(let cr=0;cr<Rt;cr++)ti?te.framebufferTextureLayer(te.READ_FRAMEBUFFER,te.COLOR_ATTACHMENT0,qr.__webglTexture,Se,jt+cr):te.framebufferTexture2D(te.READ_FRAMEBUFFER,te.COLOR_ATTACHMENT0,te.TEXTURE_2D,qr.__webglTexture,Se),wr?te.framebufferTextureLayer(te.DRAW_FRAMEBUFFER,te.COLOR_ATTACHMENT0,cn.__webglTexture,at,Si+cr):te.framebufferTexture2D(te.DRAW_FRAMEBUFFER,te.COLOR_ATTACHMENT0,te.TEXTURE_2D,cn.__webglTexture,at),Se!==0?te.blitFramebuffer(sn,Jt,wt,Mt,Fn,zn,wt,Mt,te.COLOR_BUFFER_BIT,te.NEAREST):wr?te.copyTexSubImage3D(pr,at,Fn,zn,Si+cr,sn,Jt,wt,Mt):te.copyTexSubImage2D(pr,at,Fn,zn,sn,Jt,wt,Mt);Re.bindFramebuffer(te.READ_FRAMEBUFFER,null),Re.bindFramebuffer(te.DRAW_FRAMEBUFFER,null)}else wr?se.isDataTexture||se.isData3DTexture?te.texSubImage3D(pr,at,Fn,zn,Si,wt,Mt,Rt,on,Xt,$n.data):ve.isCompressedArrayTexture?te.compressedTexSubImage3D(pr,at,Fn,zn,Si,wt,Mt,Rt,on,$n.data):te.texSubImage3D(pr,at,Fn,zn,Si,wt,Mt,Rt,on,Xt,$n):se.isDataTexture?te.texSubImage2D(te.TEXTURE_2D,at,Fn,zn,wt,Mt,on,Xt,$n.data):se.isCompressedTexture?te.compressedTexSubImage2D(te.TEXTURE_2D,at,Fn,zn,$n.width,$n.height,on,$n.data):te.texSubImage2D(te.TEXTURE_2D,at,Fn,zn,wt,Mt,on,Xt,$n);te.pixelStorei(te.UNPACK_ROW_LENGTH,qn),te.pixelStorei(te.UNPACK_IMAGE_HEIGHT,ys),te.pixelStorei(te.UNPACK_SKIP_PIXELS,ca),te.pixelStorei(te.UNPACK_SKIP_ROWS,rr),te.pixelStorei(te.UNPACK_SKIP_IMAGES,Ri),at===0&&ve.generateMipmaps&&te.generateMipmap(pr),Re.unbindTexture()},this.copyTextureToTexture3D=function(se,ve,ke=null,Ne=null,Se=0){return d2('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(se,ve,ke,Ne,Se)},this.initRenderTarget=function(se){We.get(se).__webglFramebuffer===void 0&&ae.setupRenderTarget(se)},this.initTexture=function(se){se.isCubeTexture?ae.setTextureCube(se,0):se.isData3DTexture?ae.setTexture3D(se,0):se.isDataArrayTexture||se.isCompressedArrayTexture?ae.setTexture2DArray(se,0):ae.setTexture2D(se,0),Re.unbindTexture()},this.resetState=function(){L=0,I=0,D=null,Re.reset(),pn.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Cc}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=fi._getDrawingBufferColorSpace(e),t.unpackColorSpace=fi._getUnpackColorSpace()}}const Qde=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:HN,AddEquation:_p,AddOperation:Ij,AdditiveAnimationBlendMode:ZN,AdditiveBlending:fP,AgXToneMapping:Uj,AlphaFormat:$N,AlwaysCompare:Zj,AlwaysDepth:rC,AlwaysStencilFunc:mP,AmbientLight:jG,AnimationAction:QG,AnimationClip:rS,AnimationLoader:hle,AnimationMixer:Vle,AnimationObjectGroup:Ble,AnimationUtils:lle,ArcCurve:gG,ArrayCamera:YG,ArrowHelper:cce,AttachedBindMode:pP,Audio:KG,AudioAnalyser:Rle,AudioContext:bL,AudioListener:Cle,AudioLoader:Ele,AxesHelper:uce,BackSide:Do,BasicDepthPacking:Hj,BasicShadowMap:fj,BatchedMesh:fG,Bone:iL,BooleanKeyframeTrack:my,Box2:Yle,Box3:ra,Box3Helper:oce,BoxGeometry:dy,BoxHelper:ace,BufferAttribute:Hi,BufferGeometry:Un,BufferGeometryLoader:XG,ByteType:GN,Cache:Bh,Camera:JA,CameraHelper:sce,CanvasTexture:sL,CapsuleGeometry:lM,CatmullRomCurve3:yG,CineonToneMapping:Nj,CircleGeometry:cM,ClampToEdgeWrapping:wc,Clock:xL,Color:Lt,ColorKeyframeTrack:yL,ColorManagement:fi,CompressedArrayTexture:Roe,CompressedCubeTexture:Ooe,CompressedTexture:oM,CompressedTextureLoader:dle,ConeGeometry:O_,ConstantAlphaFactor:Mj,ConstantColorFactor:Cj,Controls:hce,CubeCamera:sG,CubeReflectionMapping:ed,CubeRefractionMapping:$p,CubeTexture:NS,CubeTextureLoader:ple,CubeUVReflectionMapping:C_,CubicBezierCurve:oL,CubicBezierCurve3:lL,CubicInterpolant:LG,CullFaceBack:uP,CullFaceFront:uj,CullFaceFrontBack:zse,CullFaceNone:cj,Curve:wu,CurvePath:_G,CustomBlending:hj,CustomToneMapping:Lj,CylinderGeometry:R_,Cylindrical:Xle,Data3DTexture:QA,DataArrayTexture:DS,DataTexture:Of,DataTextureLoader:mle,DataUtils:toe,DecrementStencilOp:Qse,DecrementWrapStencilOp:eae,DefaultLoadingManager:zG,DepthArrayTexture:Ioe,DepthFormat:K0,DepthStencilFormat:Z0,DepthTexture:LS,DetachedBindMode:zj,DirectionalLight:HG,DirectionalLightHelper:rce,DiscreteInterpolant:UG,DodecahedronGeometry:uM,DoubleSide:_f,DstAlphaFactor:xj,DstColorFactor:Ej,DynamicCopyUsage:mae,DynamicDrawUsage:cae,DynamicReadUsage:hae,EdgesGeometry:mG,EllipseCurve:fM,EqualCompare:$j,EqualDepth:aC,EqualStencilFunc:rae,EquirectangularReflectionMapping:jx,EquirectangularRefractionMapping:Gx,Euler:Vl,EventDispatcher:Uf,ExtrudeGeometry:dM,FileLoader:id,Float16BufferAttribute:loe,Float32BufferAttribute:Vt,FloatType:Po,Fog:tM,FogExp2:eM,FramebufferTexture:Moe,FrontSide:Jh,Frustum:M_,FrustumArray:aM,GLBufferAttribute:$le,GLSL1:yae,GLSL3:gP,GreaterCompare:Xj,GreaterDepth:lC,GreaterEqualCompare:Kj,GreaterEqualDepth:oC,GreaterEqualStencilFunc:lae,GreaterStencilFunc:aae,GridHelper:nce,Group:zh,HalfFloatType:hy,HemisphereLight:BG,HemisphereLightHelper:tce,IcosahedronGeometry:pM,ImageBitmapLoader:Sle,ImageLoader:sS,ImageUtils:tG,IncrementStencilOp:Zse,IncrementWrapStencilOp:Jse,InstancedBufferAttribute:t_,InstancedBufferGeometry:$G,InstancedInterleavedBuffer:Wle,InstancedMesh:uG,Int16BufferAttribute:aoe,Int32BufferAttribute:ooe,Int8BufferAttribute:ioe,IntType:GA,InterleavedBuffer:iM,InterleavedBufferAttribute:ty,Interpolant:zS,InterpolateDiscrete:$x,InterpolateLinear:UC,InterpolateSmooth:h2,InterpolationSamplingMode:bae,InterpolationSamplingType:_ae,InvertStencilOp:tae,KeepStencilOp:xg,KeyframeTrack:Pc,LOD:lG,LatheGeometry:mM,Layers:J0,LessCompare:Wj,LessDepth:sC,LessEqualCompare:QN,LessEqualDepth:ey,LessEqualStencilFunc:sae,LessStencilFunc:iae,Light:im,LightProbe:WG,Line:nd,Line3:Kle,LineBasicMaterial:ro,LineCurve:cL,LineCurve3:vG,LineDashedMaterial:PG,LineLoop:hG,LineSegments:kf,LinearFilter:ps,LinearInterpolant:gL,LinearMipMapLinearFilter:Hse,LinearMipMapNearestFilter:Vse,LinearMipmapLinearFilter:Sf,LinearMipmapNearestFilter:cx,LinearSRGBColorSpace:Xp,LinearToneMapping:Pj,LinearTransfer:Yx,Loader:ul,LoaderUtils:xP,LoadingManager:vL,LoopOnce:Bj,LoopPingPong:Vj,LoopRepeat:Fj,MOUSE:Use,Material:io,MaterialLoader:SM,MathUtils:Qj,Matrix2:wL,Matrix3:Ln,Matrix4:an,MaxEquation:gj,Mesh:is,MeshBasicMaterial:tm,MeshDepthMaterial:dL,MeshDistanceMaterial:pL,MeshLambertMaterial:hL,MeshMatcapMaterial:IG,MeshNormalMaterial:OG,MeshPhongMaterial:MG,MeshPhysicalMaterial:AG,MeshStandardMaterial:xM,MeshToonMaterial:RG,MinEquation:mj,MirroredRepeatWrapping:Wx,MixOperation:Oj,MultiplyBlending:dP,MultiplyOperation:IS,NearestFilter:wa,NearestMipMapLinearFilter:Fse,NearestMipMapNearestFilter:Bse,NearestMipmapLinearFilter:d0,NearestMipmapNearestFilter:jN,NeutralToneMapping:kj,NeverCompare:qj,NeverDepth:iC,NeverStencilFunc:nae,NoBlending:Hh,NoColorSpace:Nh,NoToneMapping:Rf,NormalAnimationBlendMode:KA,NormalBlending:qg,NotEqualCompare:Yj,NotEqualDepth:cC,NotEqualStencilFunc:oae,NumberKeyframeTrack:nS,Object3D:yi,ObjectLoader:ble,ObjectSpaceNormalMap:Gj,OctahedronGeometry:US,OneFactor:vj,OneMinusConstantAlphaFactor:Rj,OneMinusConstantColorFactor:Aj,OneMinusDstAlphaFactor:Sj,OneMinusDstColorFactor:Tj,OneMinusSrcAlphaFactor:nC,OneMinusSrcColorFactor:bj,OrthographicCamera:FS,PCFShadowMap:HA,PCFSoftShadowMap:lx,PMREMGenerator:TP,Path:FC,PerspectiveCamera:na,Plane:dp,PlaneGeometry:I_,PlaneHelper:lce,PointLight:VG,PointLightHelper:Jle,Points:dG,PointsMaterial:rL,PolarGridHelper:ice,PolyhedronGeometry:nm,PositionalAudio:Mle,PropertyBinding:bi,PropertyMixer:ZG,QuadraticBezierCurve:uL,QuadraticBezierCurve3:hM,Quaternion:Ca,QuaternionKeyframeTrack:BS,QuaternionLinearInterpolant:kG,RED_GREEN_RGTC2_Format:NC,RED_RGTC1_Format:KN,REVISION:VA,RGBADepthPacking:jj,RGBAFormat:eo,RGBAIntegerFormat:YA,RGBA_ASTC_10x10_Format:MC,RGBA_ASTC_10x5_Format:wC,RGBA_ASTC_10x6_Format:CC,RGBA_ASTC_10x8_Format:AC,RGBA_ASTC_12x10_Format:RC,RGBA_ASTC_12x12_Format:OC,RGBA_ASTC_4x4_Format:yC,RGBA_ASTC_5x4_Format:vC,RGBA_ASTC_5x5_Format:_C,RGBA_ASTC_6x5_Format:bC,RGBA_ASTC_6x6_Format:xC,RGBA_ASTC_8x5_Format:SC,RGBA_ASTC_8x6_Format:EC,RGBA_ASTC_8x8_Format:TC,RGBA_BPTC_Format:px,RGBA_ETC2_EAC_Format:gC,RGBA_PVRTC_2BPPV1_Format:dC,RGBA_PVRTC_4BPPV1_Format:hC,RGBA_S3TC_DXT1_Format:fx,RGBA_S3TC_DXT3_Format:hx,RGBA_S3TC_DXT5_Format:dx,RGBDepthPacking:$se,RGBFormat:XN,RGBIntegerFormat:jse,RGB_BPTC_SIGNED_Format:IC,RGB_BPTC_UNSIGNED_Format:PC,RGB_ETC1_Format:pC,RGB_ETC2_Format:mC,RGB_PVRTC_2BPPV1_Format:fC,RGB_PVRTC_4BPPV1_Format:uC,RGB_S3TC_DXT1_Format:ux,RGDepthPacking:Xse,RGFormat:YN,RGIntegerFormat:XA,RawShaderMaterial:CG,Ray:A_,Raycaster:EM,RectAreaLight:GG,RedFormat:$A,RedIntegerFormat:PS,ReinhardToneMapping:Dj,RenderTarget:ZA,RenderTarget3D:Hle,RenderTargetArray:jle,RepeatWrapping:qx,ReplaceStencilOp:Kse,ReverseSubtractEquation:pj,RingGeometry:gM,SIGNED_RED_GREEN_RGTC2_Format:LC,SIGNED_RED_RGTC1_Format:DC,SRGBColorSpace:Sa,SRGBTransfer:Vi,Scene:nM,ShaderChunk:Gn,ShaderLib:pu,ShaderMaterial:Su,ShadowMaterial:wG,Shape:$g,ShapeGeometry:yM,ShapePath:fce,ShapeUtils:gu,ShortType:qN,Skeleton:sM,SkeletonHelper:Qle,SkinnedMesh:cG,Source:Cp,Sphere:sa,SphereGeometry:py,Spherical:JG,SphericalHarmonics3:qG,SplineCurve:fL,SpotLight:FG,SpotLightHelper:Zle,Sprite:nL,SpriteMaterial:rM,SrcAlphaFactor:tC,SrcAlphaSaturateFactor:wj,SrcColorFactor:_j,StaticCopyUsage:pae,StaticDrawUsage:Kx,StaticReadUsage:fae,StereoCamera:Tle,StreamCopyUsage:gae,StreamDrawUsage:uae,StreamReadUsage:dae,StringKeyframeTrack:gy,SubtractEquation:dj,SubtractiveBlending:hP,TOUCH:kse,TangentSpaceNormalMap:em,TetrahedronGeometry:vM,Texture:rs,TextureLoader:gle,TextureUtils:yce,TimestampQuery:vae,TorusGeometry:_M,TorusKnotGeometry:bM,Triangle:tl,TriangleFanDrawMode:Wse,TriangleStripDrawMode:qse,TrianglesDrawMode:Gse,TubeGeometry:kS,UVMapping:jA,Uint16BufferAttribute:eL,Uint32BufferAttribute:tL,Uint8BufferAttribute:roe,Uint8ClampedBufferAttribute:soe,Uniform:TL,UniformsGroup:qle,UniformsLib:It,UniformsUtils:rG,UnsignedByteType:Mc,UnsignedInt248Type:Y0,UnsignedInt5999Type:WN,UnsignedIntType:td,UnsignedShort4444Type:qA,UnsignedShort5551Type:WA,UnsignedShortType:X0,VSMShadowMap:hu,Vector2:it,Vector3:fe,Vector4:gi,VectorKeyframeTrack:iS,VideoFrameTexture:Aoe,VideoTexture:pG,WebGL3DRenderTarget:qae,WebGLArrayRenderTarget:Gae,WebGLCoordinateSystem:Cc,WebGLCubeRenderTarget:aG,WebGLRenderTarget:xu,WebGLRenderer:oq,WebGLUtils:aq,WebGPUCoordinateSystem:Zx,WebXRController:p2,WireframeGeometry:TG,WrapAroundEnding:Xx,ZeroCurvatureEnding:Pg,ZeroFactor:yj,ZeroSlopeEnding:Dg,ZeroStencilOp:Yse,createCanvasElement:eG},Symbol.toStringTag,{value:"Module"})),Jde=(n,e,t=50)=>{if(!n)return;const i=new fe;n.getPosition(i);const r=new fe;n.getTarget(r);const s=new fe().subVectors(i,e).normalize(),a=new fe().copy(e).addScaledVector(s,t),o={x:i.x,y:i.y,z:i.z};FA.to(o,{x:a.x,y:a.y,z:a.z,duration:1.5,ease:"power2.out",onUpdate:()=>{n.setLookAt(o.x,o.y,o.z,e.x,e.y,e.z,!0)},onComplete:()=>{dn.setState({isNodeSceneViewActive:!0,cameraBackup:{pos:i.toArray(),target:r.toArray()}})}})},epe=n=>{const{cameraBackup:e}=dn.getState();if(!n||!e)return;const[t,i,r]=e.pos,[s,a,o]=e.target,l=new fe;n.getPosition(l);const u={x:l.x,y:l.y,z:l.z};FA.to(u,{x:t,y:i,z:r,duration:1.5,ease:"power2.inOut",onUpdate:()=>{n.setLookAt(u.x,u.y,u.z,s,a,o,!0)},onComplete:()=>{dn.setState({isNodeAddViewActive:!1,cameraBackup:null})}})};function tpe(){const{user:n,isAuthenticated:e,isLoading:t,getAccessTokenSilently:i,logout:r,loginWithRedirect:s}=DZ();return{user:n,isAuthenticated:e,isLoading:t,getAccessToken:i,logout:r,login:s}}const npe=n=>{const[e,t]=H.useState(null);return H.useEffect(()=>{if(!n){t(null);return}(async()=>{const r=fne(PA(RS,XM.nodeTaxonomy),hne("node_index","==",n)),s=await NA(r);if(s.empty){t(null);return}const a=s.docs[0];t({id:a.id,...a.data()})})()},[n]),e},ipe=n=>{const[e,t]=H.useState([]);return H.useEffect(()=>{if(!n||n.length===0){t([]);return}(async()=>{const s=(await Promise.all(n.map(a=>mne(Zte(RS,XM.tabs,a))))).filter(a=>a.exists()).map(a=>({id:a.id,...a.data(),title_es:a.data().title_es,title_en:a.data().title_en}));t(s)})()},[n]),e},rpe=async n=>{try{const e=n.map(r=>NA(PA(RS,r))),i=(await Promise.all(e)).map(r=>r.docs.map(s=>{const a=s.data();return{target:a.target,source:a.source}})).flat();return LD("debug",`Enlaces obtenidos desde Firestore(${n}): `,i),i}catch(e){return console.error("Error obteniendo enlaces desde Firestore:",e),[]}},spe=async n=>{try{const e=n.map(r=>NA(PA(RS,r))),i=(await Promise.all(e)).map(r=>r.docs.map(s=>{const a=s.data();return{id:a.index,index:a.index,name:localStorage.getItem(Yi.languageUser)==="es"?a.name_es:a.name_en,group:a.group,start:a.start,end:a.end,videoid:a.videoid,description:localStorage.getItem(Yi.languageUser)==="es"?a.descrip_es:a.descrip_en}})).flat();return dn.setState({documentsFirestore:i}),LD("debug",`Documentos obtenidos desde Firestore(${XM.AllSystemsNodesArray}): `,i),i}catch(e){return console.error("Error obteniendo documentos desde Firestore:",e),[]}},ape=async n=>{const e=localStorage.getItem(Yi.languageUser);try{const i=(await NA(PA(RS,n))).docs.map(r=>{const s=r.data();return{label:s.label,title:e==="es"?s.title_es:s.title_en,description:e==="es"?s.description_es:s.description_en}});return LD("debug","Grupos obtenidos desde Firestore: ",i),i}catch(t){return console.error("Error obteniendo grupos desde Firestore:",t),[]}},ope=()=>{const n=dn(r=>r.systemBjjSelectedNodes),e=dn(r=>r.systemBjjSelectedLinks),[t,i]=H.useState({nodes:[],links:[]});return H.useEffect(()=>{(async()=>{dn.setState({isLoadingFirestore:!0});try{const a=(await spe(n)).filter(l=>l.id!==1),o=await rpe(e);dn.setState({linksData:o}),i({nodes:a,links:o})}catch(s){console.error("Error obteniendo datos:",s)}finally{dn.setState({isLoadingFirestore:!1})}})()},[n,e]),t};function CP(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=Array(e);t<e;t++)i[t]=n[t];return i}function lpe(n){if(Array.isArray(n))return n}function cpe(n){if(Array.isArray(n))return CP(n)}function upe(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function fpe(n,e,t){return e=VC(e),bpe(n,lq()?Reflect.construct(e,t||[],VC(n).constructor):e.apply(n,t))}function hpe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function dpe(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,Spe(i.key),i)}}function ppe(n,e,t){return e&&dpe(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function VC(n){return VC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},VC(n)}function mpe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&AP(n,e)}function lq(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lq=function(){return!!n})()}function gpe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function ype(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,r,s,a,o=[],l=!0,u=!1;try{if(s=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;l=!1}else for(;!(l=(i=s.call(t)).done)&&(o.push(i.value),o.length!==e);l=!0);}catch(h){u=!0,r=h}finally{try{if(!l&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw r}}return o}}function vpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _pe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bpe(n,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return upe(n)}function AP(n,e){return AP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},AP(n,e)}function dB(n,e){return lpe(n)||ype(n,e)||cq(n,e)||vpe()}function h1(n){return cpe(n)||gpe(n)||cq(n)||_pe()}function xpe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function Spe(n){var e=xpe(n,"string");return typeof e=="symbol"?e:e+""}function cq(n,e){if(n){if(typeof n=="string")return CP(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?CP(n,e):void 0}}var d1=typeof window<"u"&&window.THREE?window.THREE:{CanvasTexture:sL,Sprite:nL,SpriteMaterial:rM,SRGBColorSpace:Sa},Epe=(function(n){function e(){var t,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:10,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"rgba(255, 255, 255, 1)";return hpe(this,e),t=fpe(this,e,[new d1.SpriteMaterial]),t._text="".concat(i),t._textHeight=r,t._color=s,t._backgroundColor=!1,t._padding=0,t._borderWidth=0,t._borderRadius=0,t._borderColor="white",t._offsetX=0,t._offsetY=0,t._strokeWidth=0,t._strokeColor="white",t._fontFace="system-ui",t._fontSize=90,t._fontWeight="normal",t._canvas=document.createElement("canvas"),t._genCanvas(),t}return mpe(e,n),ppe(e,[{key:"text",get:function(){return this._text},set:function(i){this._text=i,this._genCanvas()}},{key:"textHeight",get:function(){return this._textHeight},set:function(i){this._textHeight=i,this._genCanvas()}},{key:"color",get:function(){return this._color},set:function(i){this._color=i,this._genCanvas()}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(i){this._backgroundColor=i,this._genCanvas()}},{key:"padding",get:function(){return this._padding},set:function(i){this._padding=i,this._genCanvas()}},{key:"borderWidth",get:function(){return this._borderWidth},set:function(i){this._borderWidth=i,this._genCanvas()}},{key:"borderRadius",get:function(){return this._borderRadius},set:function(i){this._borderRadius=i,this._genCanvas()}},{key:"borderColor",get:function(){return this._borderColor},set:function(i){this._borderColor=i,this._genCanvas()}},{key:"offsetX",get:function(){return this._offsetX},set:function(i){this._offsetX=i,this._genCanvas()}},{key:"offsetY",get:function(){return this._offsetY},set:function(i){this._offsetY=i,this._genCanvas()}},{key:"fontFace",get:function(){return this._fontFace},set:function(i){this._fontFace=i,this._genCanvas()}},{key:"fontSize",get:function(){return this._fontSize},set:function(i){this._fontSize=i,this._genCanvas()}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(i){this._fontWeight=i,this._genCanvas()}},{key:"strokeWidth",get:function(){return this._strokeWidth},set:function(i){this._strokeWidth=i,this._genCanvas()}},{key:"strokeColor",get:function(){return this._strokeColor},set:function(i){this._strokeColor=i,this._genCanvas()}},{key:"_genCanvas",value:function(){var i=this,r=this._canvas,s=r.getContext("2d"),a=1/this.textHeight,o=Array.isArray(this.borderWidth)?this.borderWidth:[this.borderWidth,this.borderWidth],l=o.map(function(F){return F*i.fontSize*a}),u=Array.isArray(this.borderRadius)?this.borderRadius:[this.borderRadius,this.borderRadius,this.borderRadius,this.borderRadius],h=u.map(function(F){return F*i.fontSize*a}),p=Array.isArray(this.padding)?this.padding:[this.padding,this.padding],y=p.map(function(F){return F*i.fontSize*a}),v=[this.offsetX,this.offsetY].map(function(F){return F*i.fontSize*a}),_=this.text.split(`
`),x="".concat(this.fontWeight," ").concat(this.fontSize,"px ").concat(this.fontFace);s.font=x;var E=Math.max.apply(Math,h1(_.map(function(F){return s.measureText(F).width}))),S=this.fontSize*_.length,w=E+l[0]*2+y[0]*2,C=S+l[1]*2+y[1]*2;if(r.width=w+Math.abs(v[0]),r.height=C+Math.abs(v[1]),s.translate.apply(s,h1(v.map(function(F){return Math.max(0,F)}))),this.borderWidth){if(s.strokeStyle=this.borderColor,l[0]){var A=l[0]/2;s.lineWidth=l[0],s.beginPath(),s.moveTo(A,h[0]),s.lineTo(A,C-h[3]),s.moveTo(w-A,h[1]),s.lineTo(w-A,C-h[2]),s.stroke()}if(l[1]){var N=l[1]/2;s.lineWidth=l[1],s.beginPath(),s.moveTo(Math.max(l[0],h[0]),N),s.lineTo(w-Math.max(l[0],h[1]),N),s.moveTo(Math.max(l[0],h[3]),C-N),s.lineTo(w-Math.max(l[0],h[2]),C-N),s.stroke()}if(this.borderRadius){var L=Math.max.apply(Math,h1(l)),I=L/2;s.lineWidth=L,s.beginPath(),[!!h[0]&&[h[0],I,I,h[0]],!!h[1]&&[w-h[1],w-I,I,h[1]],!!h[2]&&[w-h[2],w-I,C-I,C-h[2]],!!h[3]&&[h[3],I,C-I,C-h[3]]].filter(function(F){return F}).forEach(function(F){var z=dB(F,4),V=z[0],K=z[1],J=z[2],q=z[3];s.moveTo(V,J),s.quadraticCurveTo(K,J,K,q)}),s.stroke()}}this.backgroundColor&&(s.fillStyle=this.backgroundColor,this.borderRadius?(s.beginPath(),s.moveTo(l[0],h[0]),[[l[0],h[0],w-h[1],l[1],l[1],l[1]],[w-l[0],w-l[0],w-l[0],l[1],h[1],C-h[2]],[w-l[0],w-h[2],h[3],C-l[1],C-l[1],C-l[1]],[l[0],l[0],l[0],C-l[1],C-h[3],h[0]]].forEach(function(F){var z=dB(F,6),V=z[0],K=z[1],J=z[2],q=z[3],W=z[4],Q=z[5];s.quadraticCurveTo(V,q,K,W),s.lineTo(J,Q)}),s.closePath(),s.fill()):s.fillRect(l[0],l[1],w-l[0]*2,C-l[1]*2)),s.translate.apply(s,h1(l)),s.translate.apply(s,h1(y)),s.font=x,s.fillStyle=this.color,s.textBaseline="bottom";var D=this.strokeWidth>0;D&&(s.lineWidth=this.strokeWidth*this.fontSize/10,s.strokeStyle=this.strokeColor),_.forEach(function(F,z){var V=(E-s.measureText(F).width)/2,K=(z+1)*i.fontSize;D&&s.strokeText(F,V,K),s.fillText(F,V,K)}),this.material.map&&this.material.map.dispose();var P=this.material.map=new d1.CanvasTexture(r);P.colorSpace=d1.SRGBColorSpace;var U=this.textHeight*_.length+o[1]*2+p[1]*2+Math.abs(this.offsetY);this.scale.set(U*r.width/r.height,U,0)}},{key:"clone",value:function(){return new this.constructor(this.text,this.textHeight,this.color).copy(this)}},{key:"copy",value:function(i){return d1.Sprite.prototype.copy.call(this,i),this.color=i.color,this.backgroundColor=i.backgroundColor,this.padding=i.padding,this.borderWidth=i.borderWidth,this.borderColor=i.borderColor,this.offsetX=i.offsetX,this.offsetY=i.offsetY,this.fontFace=i.fontFace,this.fontSize=i.fontSize,this.fontWeight=i.fontWeight,this.strokeWidth=i.strokeWidth,this.strokeColor=i.strokeColor,this}}])})(d1.Sprite);function Tpe(n){const e=new zh,t=PW[n.group??"default"]??"gray",i=new is(new py(5,5),new xM({color:t})),r=new Epe(`${n.name} {${n.id}}`);return r.color="white",r.textHeight=3,r.position.set(0,7,0),r.backgroundColor="#000",e.add(i),e.add(r),e}const uw=()=>{const n=navigator.userAgent;return/android/i.test(n)?"Android":/iPad|iPhone|iPod/.test(n)?"iOS":/Windows NT/.test(n)?"Windows":/Mac OS X/.test(n)?"macOS":/Linux/.test(n)?"Linux":"Unknown"},pB=n=>n,wpe=()=>{let n=pB;return{configure(e){n=e},generate(e){return n(e)},reset(){n=pB}}},uq=wpe();function rd(n,...e){const t=new URL(`https://mui.com/production-error/?code=${n}`);return e.forEach(i=>t.searchParams.append("args[]",i)),`Minified MUI error #${n}; visit ${t} for the full message.`}function yt(n){if(typeof n!="string")throw new Error(rd(7));return n.charAt(0).toUpperCase()+n.slice(1)}function mB(...n){return n.reduce((e,t)=>t==null?e:function(...r){e.apply(this,r),t.apply(this,r)},()=>{})}var n3={exports:{}},i3,gB;function Cpe(){if(gB)return i3;gB=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return i3=n,i3}var r3,yB;function Ape(){if(yB)return r3;yB=1;var n=Cpe();function e(){}function t(){}return t.resetWarningCache=e,r3=function(){function i(a,o,l,u,h,p){if(p!==n){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}i.isRequired=i;function r(){return i}var s={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:r,element:i,elementType:i,instanceOf:r,node:i,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:t,resetWarningCache:e};return s.PropTypes=s,s},r3}var vB;function Mpe(){return vB||(vB=1,n3.exports=Ape()()),n3.exports}var Rpe=Mpe();const ba=Qp(Rpe);function fq(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(e=0;e<r;e++)n[e]&&(t=fq(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function Pt(){for(var n,e,t=0,i="",r=arguments.length;t<r;t++)(n=arguments[t])&&(e=fq(n))&&(i&&(i+=" "),i+=e);return i}function gn(n,e,t=void 0){const i={};for(const r in n){const s=n[r];let a="",o=!0;for(let l=0;l<s.length;l+=1){const u=s[l];u&&(a+=(o===!0?"":" ")+e(u),o=!1,t&&t[u]&&(a+=" "+t[u]))}i[r]=a}return i}var s3={exports:{}},Xi={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _B;function Ope(){if(_B)return Xi;_B=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),v=Symbol.for("react.client.reference");function _(x){if(typeof x=="object"&&x!==null){var E=x.$$typeof;switch(E){case n:switch(x=x.type,x){case t:case r:case i:case l:case u:case y:return x;default:switch(x=x&&x.$$typeof,x){case a:case o:case p:case h:return x;case s:return x;default:return E}}case e:return E}}}return Xi.ContextConsumer=s,Xi.ContextProvider=a,Xi.Element=n,Xi.ForwardRef=o,Xi.Fragment=t,Xi.Lazy=p,Xi.Memo=h,Xi.Portal=e,Xi.Profiler=r,Xi.StrictMode=i,Xi.Suspense=l,Xi.SuspenseList=u,Xi.isContextConsumer=function(x){return _(x)===s},Xi.isContextProvider=function(x){return _(x)===a},Xi.isElement=function(x){return typeof x=="object"&&x!==null&&x.$$typeof===n},Xi.isForwardRef=function(x){return _(x)===o},Xi.isFragment=function(x){return _(x)===t},Xi.isLazy=function(x){return _(x)===p},Xi.isMemo=function(x){return _(x)===h},Xi.isPortal=function(x){return _(x)===e},Xi.isProfiler=function(x){return _(x)===r},Xi.isStrictMode=function(x){return _(x)===i},Xi.isSuspense=function(x){return _(x)===l},Xi.isSuspenseList=function(x){return _(x)===u},Xi.isValidElementType=function(x){return typeof x=="string"||typeof x=="function"||x===t||x===r||x===i||x===l||x===u||typeof x=="object"&&x!==null&&(x.$$typeof===p||x.$$typeof===h||x.$$typeof===a||x.$$typeof===s||x.$$typeof===o||x.$$typeof===v||x.getModuleId!==void 0)},Xi.typeOf=_,Xi}var bB;function Ipe(){return bB||(bB=1,s3.exports=Ope()),s3.exports}var hq=Ipe();function bf(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function dq(n){if(H.isValidElement(n)||hq.isValidElementType(n)||!bf(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=dq(n[t])}),e}function aa(n,e,t={clone:!0}){const i=t.clone?{...n}:n;return bf(n)&&bf(e)&&Object.keys(e).forEach(r=>{H.isValidElement(e[r])||hq.isValidElementType(e[r])?i[r]=e[r]:bf(e[r])&&Object.prototype.hasOwnProperty.call(n,r)&&bf(n[r])?i[r]=aa(n[r],e[r],t):t.clone?i[r]=bf(e[r])?dq(e[r]):e[r]:i[r]=e[r]}),i}function vx(n,e){return e?aa(n,e,{clone:!1}):n}function xB(n,e){if(!n.containerQueries)return e;const t=Object.keys(e).filter(i=>i.startsWith("@container")).sort((i,r)=>{var a,o;const s=/min-width:\s*([0-9.]+)/;return+(((a=i.match(s))==null?void 0:a[1])||0)-+(((o=r.match(s))==null?void 0:o[1])||0)});return t.length?t.reduce((i,r)=>{const s=e[r];return delete i[r],i[r]=s,i},{...e}):e}function Ppe(n,e){return e==="@"||e.startsWith("@")&&(n.some(t=>e.startsWith(`@${t}`))||!!e.match(/^@\d/))}function Dpe(n,e){const t=e.match(/^@([^/]+)?\/?(.+)?$/);if(!t)return null;const[,i,r]=t,s=Number.isNaN(+i)?i||0:+i;return n.containerQueries(r).up(s)}function Npe(n){const e=(s,a)=>s.replace("@media",a?`@container ${a}`:"@container");function t(s,a){s.up=(...o)=>e(n.breakpoints.up(...o),a),s.down=(...o)=>e(n.breakpoints.down(...o),a),s.between=(...o)=>e(n.breakpoints.between(...o),a),s.only=(...o)=>e(n.breakpoints.only(...o),a),s.not=(...o)=>{const l=e(n.breakpoints.not(...o),a);return l.includes("not all and")?l.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):l}}const i={},r=s=>(t(i,s),i);return t(r),{...n,containerQueries:r}}const wM={xs:0,sm:600,md:900,lg:1200,xl:1536},SB={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${wM[n]}px)`},Lpe={containerQueries:n=>({up:e=>{let t=typeof e=="number"?e:wM[e]||e;return typeof t=="number"&&(t=`${t}px`),n?`@container ${n} (min-width:${t})`:`@container (min-width:${t})`}})};function Eu(n,e,t){const i=n.theme||{};if(Array.isArray(e)){const s=i.breakpoints||SB;return e.reduce((a,o,l)=>(a[s.up(s.keys[l])]=t(e[l]),a),{})}if(typeof e=="object"){const s=i.breakpoints||SB;return Object.keys(e).reduce((a,o)=>{if(Ppe(s.keys,o)){const l=Dpe(i.containerQueries?i:Lpe,o);l&&(a[l]=t(e[o],o))}else if(Object.keys(s.values||wM).includes(o)){const l=s.up(o);a[l]=t(e[o],o)}else{const l=o;a[l]=e[l]}return a},{})}return t(e)}function pq(n={}){var t;return((t=n.keys)==null?void 0:t.reduce((i,r)=>{const s=n.up(r);return i[s]={},i},{}))||{}}function MP(n,e){return n.reduce((t,i)=>{const r=t[i];return(!r||Object.keys(r).length===0)&&delete t[i],t},e)}function Upe(n,...e){const t=pq(n),i=[t,...e].reduce((r,s)=>aa(r,s),{});return MP(Object.keys(t),i)}function kpe(n,e){if(typeof n!="object")return{};const t={},i=Object.keys(e);return Array.isArray(n)?i.forEach((r,s)=>{s<n.length&&(t[r]=!0)}):i.forEach(r=>{n[r]!=null&&(t[r]=!0)}),t}function a3({values:n,breakpoints:e,base:t}){const i=t||kpe(n,e),r=Object.keys(i);if(r.length===0)return n;let s;return r.reduce((a,o,l)=>(Array.isArray(n)?(a[o]=n[l]!=null?n[l]:n[s],s=l):typeof n=="object"?(a[o]=n[o]!=null?n[o]:n[s],s=o):a[o]=n,a),{})}function CM(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const i=`vars.${e}`.split(".").reduce((r,s)=>r&&r[s]?r[s]:null,n);if(i!=null)return i}return e.split(".").reduce((i,r)=>i&&i[r]!=null?i[r]:null,n)}function HC(n,e,t,i=t){let r;return typeof n=="function"?r=n(t):Array.isArray(n)?r=n[t]||i:r=CM(n,t)||i,e&&(r=e(r,i,n)),r}function gs(n){const{prop:e,cssProperty:t=n.prop,themeKey:i,transform:r}=n,s=a=>{if(a[e]==null)return null;const o=a[e],l=a.theme,u=CM(l,i)||{};return Eu(a,o,p=>{let y=HC(u,r,p);return p===y&&typeof p=="string"&&(y=HC(u,r,`${e}${p==="default"?"":yt(p)}`,p)),t===!1?y:{[t]:y}})};return s.propTypes={},s.filterProps=[e],s}function zpe(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const Bpe={m:"margin",p:"padding"},Fpe={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},EB={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Vpe=zpe(n=>{if(n.length>2)if(EB[n])n=EB[n];else return[n];const[e,t]=n.split(""),i=Bpe[e],r=Fpe[t]||"";return Array.isArray(r)?r.map(s=>i+s):[i+r]}),AL=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],ML=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...AL,...ML];function VS(n,e,t,i){const r=CM(n,e,!0)??t;return typeof r=="number"||typeof r=="string"?s=>typeof s=="string"?s:typeof r=="string"?r.startsWith("var(")&&s===0?0:r.startsWith("var(")&&s===1?r:`calc(${s} * ${r})`:r*s:Array.isArray(r)?s=>{if(typeof s=="string")return s;const a=Math.abs(s),o=r[a];return s>=0?o:typeof o=="number"?-o:typeof o=="string"&&o.startsWith("var(")?`calc(-1 * ${o})`:`-${o}`}:typeof r=="function"?r:()=>{}}function AM(n){return VS(n,"spacing",8)}function iy(n,e){return typeof e=="string"||e==null?e:n(e)}function Hpe(n,e){return t=>n.reduce((i,r)=>(i[r]=iy(e,t),i),{})}function jpe(n,e,t,i){if(!e.includes(t))return null;const r=Vpe(t),s=Hpe(r,i),a=n[t];return Eu(n,a,s)}function mq(n,e){const t=AM(n.theme);return Object.keys(n).map(i=>jpe(n,e,i,t)).reduce(vx,{})}function Zr(n){return mq(n,AL)}Zr.propTypes={};Zr.filterProps=AL;function Qr(n){return mq(n,ML)}Qr.propTypes={};Qr.filterProps=ML;function MM(...n){const e=n.reduce((i,r)=>(r.filterProps.forEach(s=>{i[s]=r}),i),{}),t=i=>Object.keys(i).reduce((r,s)=>e[s]?vx(r,e[s](i)):r,{});return t.propTypes={},t.filterProps=n.reduce((i,r)=>i.concat(r.filterProps),[]),t}function bc(n){return typeof n!="number"?n:`${n}px solid`}function Dc(n,e){return gs({prop:n,themeKey:"borders",transform:e})}const Gpe=Dc("border",bc),qpe=Dc("borderTop",bc),Wpe=Dc("borderRight",bc),$pe=Dc("borderBottom",bc),Xpe=Dc("borderLeft",bc),Ype=Dc("borderColor"),Kpe=Dc("borderTopColor"),Zpe=Dc("borderRightColor"),Qpe=Dc("borderBottomColor"),Jpe=Dc("borderLeftColor"),eme=Dc("outline",bc),tme=Dc("outlineColor"),RM=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=VS(n.theme,"shape.borderRadius",4),t=i=>({borderRadius:iy(e,i)});return Eu(n,n.borderRadius,t)}return null};RM.propTypes={};RM.filterProps=["borderRadius"];MM(Gpe,qpe,Wpe,$pe,Xpe,Ype,Kpe,Zpe,Qpe,Jpe,RM,eme,tme);const OM=n=>{if(n.gap!==void 0&&n.gap!==null){const e=VS(n.theme,"spacing",8),t=i=>({gap:iy(e,i)});return Eu(n,n.gap,t)}return null};OM.propTypes={};OM.filterProps=["gap"];const IM=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=VS(n.theme,"spacing",8),t=i=>({columnGap:iy(e,i)});return Eu(n,n.columnGap,t)}return null};IM.propTypes={};IM.filterProps=["columnGap"];const PM=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=VS(n.theme,"spacing",8),t=i=>({rowGap:iy(e,i)});return Eu(n,n.rowGap,t)}return null};PM.propTypes={};PM.filterProps=["rowGap"];const nme=gs({prop:"gridColumn"}),ime=gs({prop:"gridRow"}),rme=gs({prop:"gridAutoFlow"}),sme=gs({prop:"gridAutoColumns"}),ame=gs({prop:"gridAutoRows"}),ome=gs({prop:"gridTemplateColumns"}),lme=gs({prop:"gridTemplateRows"}),cme=gs({prop:"gridTemplateAreas"}),ume=gs({prop:"gridArea"});MM(OM,IM,PM,nme,ime,rme,sme,ame,ome,lme,cme,ume);function O0(n,e){return e==="grey"?e:n}const fme=gs({prop:"color",themeKey:"palette",transform:O0}),hme=gs({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:O0}),dme=gs({prop:"backgroundColor",themeKey:"palette",transform:O0});MM(fme,hme,dme);function Pl(n){return n<=1&&n!==0?`${n*100}%`:n}const pme=gs({prop:"width",transform:Pl}),RL=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{var r,s,a,o,l;const i=((a=(s=(r=n.theme)==null?void 0:r.breakpoints)==null?void 0:s.values)==null?void 0:a[t])||wM[t];return i?((l=(o=n.theme)==null?void 0:o.breakpoints)==null?void 0:l.unit)!=="px"?{maxWidth:`${i}${n.theme.breakpoints.unit}`}:{maxWidth:i}:{maxWidth:Pl(t)}};return Eu(n,n.maxWidth,e)}return null};RL.filterProps=["maxWidth"];const mme=gs({prop:"minWidth",transform:Pl}),gme=gs({prop:"height",transform:Pl}),yme=gs({prop:"maxHeight",transform:Pl}),vme=gs({prop:"minHeight",transform:Pl});gs({prop:"size",cssProperty:"width",transform:Pl});gs({prop:"size",cssProperty:"height",transform:Pl});const _me=gs({prop:"boxSizing"});MM(pme,RL,mme,gme,yme,vme,_me);const HS={border:{themeKey:"borders",transform:bc},borderTop:{themeKey:"borders",transform:bc},borderRight:{themeKey:"borders",transform:bc},borderBottom:{themeKey:"borders",transform:bc},borderLeft:{themeKey:"borders",transform:bc},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:bc},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:RM},color:{themeKey:"palette",transform:O0},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:O0},backgroundColor:{themeKey:"palette",transform:O0},p:{style:Qr},pt:{style:Qr},pr:{style:Qr},pb:{style:Qr},pl:{style:Qr},px:{style:Qr},py:{style:Qr},padding:{style:Qr},paddingTop:{style:Qr},paddingRight:{style:Qr},paddingBottom:{style:Qr},paddingLeft:{style:Qr},paddingX:{style:Qr},paddingY:{style:Qr},paddingInline:{style:Qr},paddingInlineStart:{style:Qr},paddingInlineEnd:{style:Qr},paddingBlock:{style:Qr},paddingBlockStart:{style:Qr},paddingBlockEnd:{style:Qr},m:{style:Zr},mt:{style:Zr},mr:{style:Zr},mb:{style:Zr},ml:{style:Zr},mx:{style:Zr},my:{style:Zr},margin:{style:Zr},marginTop:{style:Zr},marginRight:{style:Zr},marginBottom:{style:Zr},marginLeft:{style:Zr},marginX:{style:Zr},marginY:{style:Zr},marginInline:{style:Zr},marginInlineStart:{style:Zr},marginInlineEnd:{style:Zr},marginBlock:{style:Zr},marginBlockStart:{style:Zr},marginBlockEnd:{style:Zr},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:OM},rowGap:{style:PM},columnGap:{style:IM},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Pl},maxWidth:{style:RL},minWidth:{transform:Pl},height:{transform:Pl},maxHeight:{transform:Pl},minHeight:{transform:Pl},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function bme(...n){const e=n.reduce((i,r)=>i.concat(Object.keys(r)),[]),t=new Set(e);return n.every(i=>t.size===Object.keys(i).length)}function xme(n,e){return typeof n=="function"?n(e):n}function Sme(){function n(t,i,r,s){const a={[t]:i,theme:r},o=s[t];if(!o)return{[t]:i};const{cssProperty:l=t,themeKey:u,transform:h,style:p}=o;if(i==null)return null;if(u==="typography"&&i==="inherit")return{[t]:i};const y=CM(r,u)||{};return p?p(a):Eu(a,i,_=>{let x=HC(y,h,_);return _===x&&typeof _=="string"&&(x=HC(y,h,`${t}${_==="default"?"":yt(_)}`,_)),l===!1?x:{[l]:x}})}function e(t){const{sx:i,theme:r={},nested:s}=t||{};if(!i)return null;const a=r.unstable_sxConfig??HS;function o(l){let u=l;if(typeof l=="function")u=l(r);else if(typeof l!="object")return l;if(!u)return null;const h=pq(r.breakpoints),p=Object.keys(h);let y=h;return Object.keys(u).forEach(v=>{const _=xme(u[v],r);if(_!=null)if(typeof _=="object")if(a[v])y=vx(y,n(v,_,r,a));else{const x=Eu({theme:r},_,E=>({[v]:E}));bme(x,_)?y[v]=e({sx:_,theme:r,nested:!0}):y=vx(y,x)}else y=vx(y,n(v,_,r,a))}),!s&&r.modularCssLayers?{"@layer sx":xB(r,MP(p,y))}:xB(r,MP(p,y))}return Array.isArray(i)?i.map(o):o(i)}return e}const ry=Sme();ry.filterProps=["sx"];const Eme=n=>{var i;const e={systemProps:{},otherProps:{}},t=((i=n==null?void 0:n.theme)==null?void 0:i.unstable_sxConfig)??HS;return Object.keys(n).forEach(r=>{t[r]?e.systemProps[r]=n[r]:e.otherProps[r]=n[r]}),e};function DM(n){const{sx:e,...t}=n,{systemProps:i,otherProps:r}=Eme(t);let s;return Array.isArray(e)?s=[i,...e]:typeof e=="function"?s=(...a)=>{const o=e(...a);return bf(o)?{...i,...o}:i}:s={...i,...e},{...r,sx:s}}function el(){return el=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},el.apply(null,arguments)}function Tme(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function wme(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var Cme=(function(){function n(t){var i=this;this._insertTag=function(r){var s;i.tags.length===0?i.insertionPoint?s=i.insertionPoint.nextSibling:i.prepend?s=i.container.firstChild:s=i.before:s=i.tags[i.tags.length-1].nextSibling,i.container.insertBefore(r,s),i.tags.push(r)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(i){i.forEach(this._insertTag)},e.insert=function(i){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(wme(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var s=Tme(r);try{s.insertRule(i,s.cssRules.length)}catch{}}else r.appendChild(document.createTextNode(i));this.ctr++},e.flush=function(){this.tags.forEach(function(i){var r;return(r=i.parentNode)==null?void 0:r.removeChild(i)}),this.tags=[],this.ctr=0},n})(),Ya="-ms-",jC="-moz-",Ii="-webkit-",gq="comm",OL="rule",IL="decl",Ame="@import",yq="@keyframes",Mme="@layer",Rme=Math.abs,NM=String.fromCharCode,Ome=Object.assign;function Ime(n,e){return Ea(n,0)^45?(((e<<2^Ea(n,0))<<2^Ea(n,1))<<2^Ea(n,2))<<2^Ea(n,3):0}function vq(n){return n.trim()}function Pme(n,e){return(n=e.exec(n))?n[0]:n}function Pi(n,e,t){return n.replace(e,t)}function RP(n,e){return n.indexOf(e)}function Ea(n,e){return n.charCodeAt(e)|0}function aS(n,e,t){return n.slice(e,t)}function pf(n){return n.length}function PL(n){return n.length}function fw(n,e){return e.push(n),n}function Dme(n,e){return n.map(e).join("")}var LM=1,i_=1,_q=0,cl=0,Ms=0,D_="";function UM(n,e,t,i,r,s,a){return{value:n,root:e,parent:t,type:i,props:r,children:s,line:LM,column:i_,length:a,return:""}}function p1(n,e){return Ome(UM("",null,null,"",null,null,0),n,{length:-n.length},e)}function Nme(){return Ms}function Lme(){return Ms=cl>0?Ea(D_,--cl):0,i_--,Ms===10&&(i_=1,LM--),Ms}function kl(){return Ms=cl<_q?Ea(D_,cl++):0,i_++,Ms===10&&(i_=1,LM++),Ms}function If(){return Ea(D_,cl)}function g2(){return cl}function jS(n,e){return aS(D_,n,e)}function oS(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function bq(n){return LM=i_=1,_q=pf(D_=n),cl=0,[]}function xq(n){return D_="",n}function y2(n){return vq(jS(cl-1,OP(n===91?n+2:n===40?n+1:n)))}function Ume(n){for(;(Ms=If())&&Ms<33;)kl();return oS(n)>2||oS(Ms)>3?"":" "}function kme(n,e){for(;--e&&kl()&&!(Ms<48||Ms>102||Ms>57&&Ms<65||Ms>70&&Ms<97););return jS(n,g2()+(e<6&&If()==32&&kl()==32))}function OP(n){for(;kl();)switch(Ms){case n:return cl;case 34:case 39:n!==34&&n!==39&&OP(Ms);break;case 40:n===41&&OP(n);break;case 92:kl();break}return cl}function zme(n,e){for(;kl()&&n+Ms!==57;)if(n+Ms===84&&If()===47)break;return"/*"+jS(e,cl-1)+"*"+NM(n===47?n:kl())}function Bme(n){for(;!oS(If());)kl();return jS(n,cl)}function Fme(n){return xq(v2("",null,null,null,[""],n=bq(n),0,[0],n))}function v2(n,e,t,i,r,s,a,o,l){for(var u=0,h=0,p=a,y=0,v=0,_=0,x=1,E=1,S=1,w=0,C="",A=r,N=s,L=i,I=C;E;)switch(_=w,w=kl()){case 40:if(_!=108&&Ea(I,p-1)==58){RP(I+=Pi(y2(w),"&","&\f"),"&\f")!=-1&&(S=-1);break}case 34:case 39:case 91:I+=y2(w);break;case 9:case 10:case 13:case 32:I+=Ume(_);break;case 92:I+=kme(g2()-1,7);continue;case 47:switch(If()){case 42:case 47:fw(Vme(zme(kl(),g2()),e,t),l);break;default:I+="/"}break;case 123*x:o[u++]=pf(I)*S;case 125*x:case 59:case 0:switch(w){case 0:case 125:E=0;case 59+h:S==-1&&(I=Pi(I,/\f/g,"")),v>0&&pf(I)-p&&fw(v>32?wB(I+";",i,t,p-1):wB(Pi(I," ","")+";",i,t,p-2),l);break;case 59:I+=";";default:if(fw(L=TB(I,e,t,u,h,r,o,C,A=[],N=[],p),s),w===123)if(h===0)v2(I,e,L,L,A,s,p,o,N);else switch(y===99&&Ea(I,3)===110?100:y){case 100:case 108:case 109:case 115:v2(n,L,L,i&&fw(TB(n,L,L,0,0,r,o,C,r,A=[],p),N),r,N,p,o,i?A:N);break;default:v2(I,L,L,L,[""],N,0,o,N)}}u=h=v=0,x=S=1,C=I="",p=a;break;case 58:p=1+pf(I),v=_;default:if(x<1){if(w==123)--x;else if(w==125&&x++==0&&Lme()==125)continue}switch(I+=NM(w),w*x){case 38:S=h>0?1:(I+="\f",-1);break;case 44:o[u++]=(pf(I)-1)*S,S=1;break;case 64:If()===45&&(I+=y2(kl())),y=If(),h=p=pf(C=I+=Bme(g2())),w++;break;case 45:_===45&&pf(I)==2&&(x=0)}}return s}function TB(n,e,t,i,r,s,a,o,l,u,h){for(var p=r-1,y=r===0?s:[""],v=PL(y),_=0,x=0,E=0;_<i;++_)for(var S=0,w=aS(n,p+1,p=Rme(x=a[_])),C=n;S<v;++S)(C=vq(x>0?y[S]+" "+w:Pi(w,/&\f/g,y[S])))&&(l[E++]=C);return UM(n,e,t,r===0?OL:o,l,u,h)}function Vme(n,e,t){return UM(n,e,t,gq,NM(Nme()),aS(n,2,-2),0)}function wB(n,e,t,i){return UM(n,e,t,IL,aS(n,0,i),aS(n,i+1,-1),i)}function I0(n,e){for(var t="",i=PL(n),r=0;r<i;r++)t+=e(n[r],r,n,e)||"";return t}function Hme(n,e,t,i){switch(n.type){case Mme:if(n.children.length)break;case Ame:case IL:return n.return=n.return||n.value;case gq:return"";case yq:return n.return=n.value+"{"+I0(n.children,i)+"}";case OL:n.value=n.props.join(",")}return pf(t=I0(n.children,i))?n.return=n.value+"{"+t+"}":""}function jme(n){var e=PL(n);return function(t,i,r,s){for(var a="",o=0;o<e;o++)a+=n[o](t,i,r,s)||"";return a}}function Gme(n){return function(e){e.root||(e=e.return)&&n(e)}}function Sq(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var qme=function(e,t,i){for(var r=0,s=0;r=s,s=If(),r===38&&s===12&&(t[i]=1),!oS(s);)kl();return jS(e,cl)},Wme=function(e,t){var i=-1,r=44;do switch(oS(r)){case 0:r===38&&If()===12&&(t[i]=1),e[i]+=qme(cl-1,t,i);break;case 2:e[i]+=y2(r);break;case 4:if(r===44){e[++i]=If()===58?"&\f":"",t[i]=e[i].length;break}default:e[i]+=NM(r)}while(r=kl());return e},$me=function(e,t){return xq(Wme(bq(e),t))},CB=new WeakMap,Xme=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,i=e.parent,r=e.column===i.column&&e.line===i.line;i.type!=="rule";)if(i=i.parent,!i)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!CB.get(i))&&!r){CB.set(e,!0);for(var s=[],a=$me(t,s),o=i.props,l=0,u=0;l<a.length;l++)for(var h=0;h<o.length;h++,u++)e.props[u]=s[l]?a[l].replace(/&\f/g,o[h]):o[h]+" "+a[l]}}},Yme=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function Eq(n,e){switch(Ime(n,e)){case 5103:return Ii+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ii+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return Ii+n+jC+n+Ya+n+n;case 6828:case 4268:return Ii+n+Ya+n+n;case 6165:return Ii+n+Ya+"flex-"+n+n;case 5187:return Ii+n+Pi(n,/(\w+).+(:[^]+)/,Ii+"box-$1$2"+Ya+"flex-$1$2")+n;case 5443:return Ii+n+Ya+"flex-item-"+Pi(n,/flex-|-self/,"")+n;case 4675:return Ii+n+Ya+"flex-line-pack"+Pi(n,/align-content|flex-|-self/,"")+n;case 5548:return Ii+n+Ya+Pi(n,"shrink","negative")+n;case 5292:return Ii+n+Ya+Pi(n,"basis","preferred-size")+n;case 6060:return Ii+"box-"+Pi(n,"-grow","")+Ii+n+Ya+Pi(n,"grow","positive")+n;case 4554:return Ii+Pi(n,/([^-])(transform)/g,"$1"+Ii+"$2")+n;case 6187:return Pi(Pi(Pi(n,/(zoom-|grab)/,Ii+"$1"),/(image-set)/,Ii+"$1"),n,"")+n;case 5495:case 3959:return Pi(n,/(image-set\([^]*)/,Ii+"$1$`$1");case 4968:return Pi(Pi(n,/(.+:)(flex-)?(.*)/,Ii+"box-pack:$3"+Ya+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ii+n+n;case 4095:case 3583:case 4068:case 2532:return Pi(n,/(.+)-inline(.+)/,Ii+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(pf(n)-1-e>6)switch(Ea(n,e+1)){case 109:if(Ea(n,e+4)!==45)break;case 102:return Pi(n,/(.+:)(.+)-([^]+)/,"$1"+Ii+"$2-$3$1"+jC+(Ea(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~RP(n,"stretch")?Eq(Pi(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(Ea(n,e+1)!==115)break;case 6444:switch(Ea(n,pf(n)-3-(~RP(n,"!important")&&10))){case 107:return Pi(n,":",":"+Ii)+n;case 101:return Pi(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ii+(Ea(n,14)===45?"inline-":"")+"box$3$1"+Ii+"$2$3$1"+Ya+"$2box$3")+n}break;case 5936:switch(Ea(n,e+11)){case 114:return Ii+n+Ya+Pi(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return Ii+n+Ya+Pi(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return Ii+n+Ya+Pi(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return Ii+n+Ya+n+n}return n}var Kme=function(e,t,i,r){if(e.length>-1&&!e.return)switch(e.type){case IL:e.return=Eq(e.value,e.length);break;case yq:return I0([p1(e,{value:Pi(e.value,"@","@"+Ii)})],r);case OL:if(e.length)return Dme(e.props,function(s){switch(Pme(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return I0([p1(e,{props:[Pi(s,/:(read-\w+)/,":"+jC+"$1")]})],r);case"::placeholder":return I0([p1(e,{props:[Pi(s,/:(plac\w+)/,":"+Ii+"input-$1")]}),p1(e,{props:[Pi(s,/:(plac\w+)/,":"+jC+"$1")]}),p1(e,{props:[Pi(s,/:(plac\w+)/,Ya+"input-$1")]})],r)}return""})}},Zme=[Kme],Qme=function(e){var t=e.key;if(t==="css"){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,function(x){var E=x.getAttribute("data-emotion");E.indexOf(" ")!==-1&&(document.head.appendChild(x),x.setAttribute("data-s",""))})}var r=e.stylisPlugins||Zme,s={},a,o=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(x){for(var E=x.getAttribute("data-emotion").split(" "),S=1;S<E.length;S++)s[E[S]]=!0;o.push(x)});var l,u=[Xme,Yme];{var h,p=[Hme,Gme(function(x){h.insert(x)})],y=jme(u.concat(r,p)),v=function(E){return I0(Fme(E),y)};l=function(E,S,w,C){h=w,v(E?E+"{"+S.styles+"}":S.styles),C&&(_.inserted[S.name]=!0)}}var _={key:t,sheet:new Cme({key:t,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return _.sheet.hydrate(o),_},o3={exports:{}},Li={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AB;function Jme(){if(AB)return Li;AB=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,r=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,a=n?Symbol.for("react.provider"):60109,o=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,u=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,y=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,_=n?Symbol.for("react.lazy"):60116,x=n?Symbol.for("react.block"):60121,E=n?Symbol.for("react.fundamental"):60117,S=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function C(N){if(typeof N=="object"&&N!==null){var L=N.$$typeof;switch(L){case e:switch(N=N.type,N){case l:case u:case i:case s:case r:case p:return N;default:switch(N=N&&N.$$typeof,N){case o:case h:case _:case v:case a:return N;default:return L}}case t:return L}}}function A(N){return C(N)===u}return Li.AsyncMode=l,Li.ConcurrentMode=u,Li.ContextConsumer=o,Li.ContextProvider=a,Li.Element=e,Li.ForwardRef=h,Li.Fragment=i,Li.Lazy=_,Li.Memo=v,Li.Portal=t,Li.Profiler=s,Li.StrictMode=r,Li.Suspense=p,Li.isAsyncMode=function(N){return A(N)||C(N)===l},Li.isConcurrentMode=A,Li.isContextConsumer=function(N){return C(N)===o},Li.isContextProvider=function(N){return C(N)===a},Li.isElement=function(N){return typeof N=="object"&&N!==null&&N.$$typeof===e},Li.isForwardRef=function(N){return C(N)===h},Li.isFragment=function(N){return C(N)===i},Li.isLazy=function(N){return C(N)===_},Li.isMemo=function(N){return C(N)===v},Li.isPortal=function(N){return C(N)===t},Li.isProfiler=function(N){return C(N)===s},Li.isStrictMode=function(N){return C(N)===r},Li.isSuspense=function(N){return C(N)===p},Li.isValidElementType=function(N){return typeof N=="string"||typeof N=="function"||N===i||N===u||N===s||N===r||N===p||N===y||typeof N=="object"&&N!==null&&(N.$$typeof===_||N.$$typeof===v||N.$$typeof===a||N.$$typeof===o||N.$$typeof===h||N.$$typeof===E||N.$$typeof===S||N.$$typeof===w||N.$$typeof===x)},Li.typeOf=C,Li}var MB;function ege(){return MB||(MB=1,o3.exports=Jme()),o3.exports}var l3,RB;function tge(){if(RB)return l3;RB=1;var n=ege(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},r={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};s[n.ForwardRef]=i,s[n.Memo]=r;function a(_){return n.isMemo(_)?r:s[_.$$typeof]||e}var o=Object.defineProperty,l=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,y=Object.prototype;function v(_,x,E){if(typeof x!="string"){if(y){var S=p(x);S&&S!==y&&v(_,S,E)}var w=l(x);u&&(w=w.concat(u(x)));for(var C=a(_),A=a(x),N=0;N<w.length;++N){var L=w[N];if(!t[L]&&!(E&&E[L])&&!(A&&A[L])&&!(C&&C[L])){var I=h(x,L);try{o(_,L,I)}catch{}}}}return _}return l3=v,l3}tge();var nge=!0;function Tq(n,e,t){var i="";return t.split(" ").forEach(function(r){n[r]!==void 0?e.push(n[r]+";"):r&&(i+=r+" ")}),i}var DL=function(e,t,i){var r=e.key+"-"+t.name;(i===!1||nge===!1)&&e.registered[r]===void 0&&(e.registered[r]=t.styles)},NL=function(e,t,i){DL(e,t,i);var r=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var s=t;do e.insert(t===s?"."+r:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function ige(n){for(var e=0,t,i=0,r=n.length;r>=4;++i,r-=4)t=n.charCodeAt(i)&255|(n.charCodeAt(++i)&255)<<8|(n.charCodeAt(++i)&255)<<16|(n.charCodeAt(++i)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(r){case 3:e^=(n.charCodeAt(i+2)&255)<<16;case 2:e^=(n.charCodeAt(i+1)&255)<<8;case 1:e^=n.charCodeAt(i)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var rge={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},sge=/[A-Z]|^ms/g,age=/_EMO_([^_]+?)_([^]*?)_EMO_/g,wq=function(e){return e.charCodeAt(1)===45},OB=function(e){return e!=null&&typeof e!="boolean"},c3=Sq(function(n){return wq(n)?n:n.replace(sge,"-$&").toLowerCase()}),IB=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(age,function(i,r,s){return mf={name:r,styles:s,next:mf},r})}return rge[e]!==1&&!wq(e)&&typeof t=="number"&&t!==0?t+"px":t};function lS(n,e,t){if(t==null)return"";var i=t;if(i.__emotion_styles!==void 0)return i;switch(typeof t){case"boolean":return"";case"object":{var r=t;if(r.anim===1)return mf={name:r.name,styles:r.styles,next:mf},r.name;var s=t;if(s.styles!==void 0){var a=s.next;if(a!==void 0)for(;a!==void 0;)mf={name:a.name,styles:a.styles,next:mf},a=a.next;var o=s.styles+";";return o}return oge(n,e,t)}case"function":{if(n!==void 0){var l=mf,u=t(n);return mf=l,lS(n,e,u)}break}}var h=t;if(e==null)return h;var p=e[h];return p!==void 0?p:h}function oge(n,e,t){var i="";if(Array.isArray(t))for(var r=0;r<t.length;r++)i+=lS(n,e,t[r])+";";else for(var s in t){var a=t[s];if(typeof a!="object"){var o=a;e!=null&&e[o]!==void 0?i+=s+"{"+e[o]+"}":OB(o)&&(i+=c3(s)+":"+IB(s,o)+";")}else if(Array.isArray(a)&&typeof a[0]=="string"&&(e==null||e[a[0]]===void 0))for(var l=0;l<a.length;l++)OB(a[l])&&(i+=c3(s)+":"+IB(s,a[l])+";");else{var u=lS(n,e,a);switch(s){case"animation":case"animationName":{i+=c3(s)+":"+u+";";break}default:i+=s+"{"+u+"}"}}}return i}var PB=/label:\s*([^\s;{]+)\s*(;|$)/g,mf;function GS(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var i=!0,r="";mf=void 0;var s=n[0];if(s==null||s.raw===void 0)i=!1,r+=lS(t,e,s);else{var a=s;r+=a[0]}for(var o=1;o<n.length;o++)if(r+=lS(t,e,n[o]),i){var l=s;r+=l[o]}PB.lastIndex=0;for(var u="",h;(h=PB.exec(r))!==null;)u+="-"+h[1];var p=ige(r)+u;return{name:p,styles:r,next:mf}}var lge=function(e){return e()},Cq=gI.useInsertionEffect?gI.useInsertionEffect:!1,Aq=Cq||lge,DB=Cq||H.useLayoutEffect,Mq=H.createContext(typeof HTMLElement<"u"?Qme({key:"css"}):null);Mq.Provider;var LL=function(e){return H.forwardRef(function(t,i){var r=H.useContext(Mq);return e(t,r,i)})},kM=H.createContext({}),UL={}.hasOwnProperty,IP="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",cge=function(e,t){var i={};for(var r in t)UL.call(t,r)&&(i[r]=t[r]);return i[IP]=e,i},uge=function(e){var t=e.cache,i=e.serialized,r=e.isStringTag;return DL(t,i,r),Aq(function(){return NL(t,i,r)}),null},fge=LL(function(n,e,t){var i=n.css;typeof i=="string"&&e.registered[i]!==void 0&&(i=e.registered[i]);var r=n[IP],s=[i],a="";typeof n.className=="string"?a=Tq(e.registered,s,n.className):n.className!=null&&(a=n.className+" ");var o=GS(s,void 0,H.useContext(kM));a+=e.key+"-"+o.name;var l={};for(var u in n)UL.call(n,u)&&u!=="css"&&u!==IP&&(l[u]=n[u]);return l.className=a,t&&(l.ref=t),H.createElement(H.Fragment,null,H.createElement(uge,{cache:e,serialized:o,isStringTag:typeof r=="string"}),H.createElement(r,l))}),hge=fge,NB=function(e,t){var i=arguments;if(t==null||!UL.call(t,"css"))return H.createElement.apply(void 0,i);var r=i.length,s=new Array(r);s[0]=hge,s[1]=cge(e,t);for(var a=2;a<r;a++)s[a]=i[a];return H.createElement.apply(null,s)};(function(n){var e;e||(e=n.JSX||(n.JSX={}))})(NB||(NB={}));var dge=LL(function(n,e){var t=n.styles,i=GS([t],void 0,H.useContext(kM)),r=H.useRef();return DB(function(){var s=e.key+"-global",a=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),o=!1,l=document.querySelector('style[data-emotion="'+s+" "+i.name+'"]');return e.sheet.tags.length&&(a.before=e.sheet.tags[0]),l!==null&&(o=!0,l.setAttribute("data-emotion",s),a.hydrate([l])),r.current=[a,o],function(){a.flush()}},[e]),DB(function(){var s=r.current,a=s[0],o=s[1];if(o){s[1]=!1;return}if(i.next!==void 0&&NL(e,i.next,!0),a.tags.length){var l=a.tags[a.tags.length-1].nextElementSibling;a.before=l,a.flush()}e.insert("",i,a,!1)},[e,i.name]),null});function kL(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return GS(e)}function qS(){var n=kL.apply(void 0,arguments),e="animation-"+n.name;return{name:e,styles:"@keyframes "+e+"{"+n.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var pge=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,mge=Sq(function(n){return pge.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),gge=mge,yge=function(e){return e!=="theme"},LB=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?gge:yge},UB=function(e,t,i){var r;if(t){var s=t.shouldForwardProp;r=e.__emotion_forwardProp&&s?function(a){return e.__emotion_forwardProp(a)&&s(a)}:s}return typeof r!="function"&&i&&(r=e.__emotion_forwardProp),r},vge=function(e){var t=e.cache,i=e.serialized,r=e.isStringTag;return DL(t,i,r),Aq(function(){return NL(t,i,r)}),null},_ge=function n(e,t){var i=e.__emotion_real===e,r=i&&e.__emotion_base||e,s,a;t!==void 0&&(s=t.label,a=t.target);var o=UB(e,t,i),l=o||LB(r),u=!l("as");return function(){var h=arguments,p=i&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&p.push("label:"+s+";"),h[0]==null||h[0].raw===void 0)p.push.apply(p,h);else{var y=h[0];p.push(y[0]);for(var v=h.length,_=1;_<v;_++)p.push(h[_],y[_])}var x=LL(function(E,S,w){var C=u&&E.as||r,A="",N=[],L=E;if(E.theme==null){L={};for(var I in E)L[I]=E[I];L.theme=H.useContext(kM)}typeof E.className=="string"?A=Tq(S.registered,N,E.className):E.className!=null&&(A=E.className+" ");var D=GS(p.concat(N),S.registered,L);A+=S.key+"-"+D.name,a!==void 0&&(A+=" "+a);var P=u&&o===void 0?LB(C):l,U={};for(var F in E)u&&F==="as"||P(F)&&(U[F]=E[F]);return U.className=A,w&&(U.ref=w),H.createElement(H.Fragment,null,H.createElement(vge,{cache:S,serialized:D,isStringTag:typeof C=="string"}),H.createElement(C,U))});return x.displayName=s!==void 0?s:"Styled("+(typeof r=="string"?r:r.displayName||r.name||"Component")+")",x.defaultProps=e.defaultProps,x.__emotion_real=x,x.__emotion_base=r,x.__emotion_styles=p,x.__emotion_forwardProp=o,Object.defineProperty(x,"toString",{value:function(){return"."+a}}),x.withComponent=function(E,S){var w=n(E,el({},t,S,{shouldForwardProp:UB(x,S,!0)}));return w.apply(void 0,p)},x}},bge=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],PP=_ge.bind(null);bge.forEach(function(n){PP[n]=PP(n)});function xge(n){return n==null||Object.keys(n).length===0}function Sge(n){const{styles:e,defaultTheme:t={}}=n,i=typeof e=="function"?r=>e(xge(r)?t:r):e;return Z.jsx(dge,{styles:i})}function Rq(n,e){return PP(n,e)}function Ege(n,e){Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))}const kB=[];function Lp(n){return kB[0]=n,GS(kB)}const Tge=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,i)=>t.val-i.val),e.reduce((t,i)=>({...t,[i.key]:i.val}),{})};function wge(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:i=5,...r}=n,s=Tge(e),a=Object.keys(s);function o(y){return`@media (min-width:${typeof e[y]=="number"?e[y]:y}${t})`}function l(y){return`@media (max-width:${(typeof e[y]=="number"?e[y]:y)-i/100}${t})`}function u(y,v){const _=a.indexOf(v);return`@media (min-width:${typeof e[y]=="number"?e[y]:y}${t}) and (max-width:${(_!==-1&&typeof e[a[_]]=="number"?e[a[_]]:v)-i/100}${t})`}function h(y){return a.indexOf(y)+1<a.length?u(y,a[a.indexOf(y)+1]):o(y)}function p(y){const v=a.indexOf(y);return v===0?o(a[1]):v===a.length-1?l(a[v]):u(y,a[a.indexOf(y)+1]).replace("@media","@media not all and")}return{keys:a,values:s,up:o,down:l,between:u,only:h,not:p,unit:t,...r}}const Cge={borderRadius:4};function Oq(n=8,e=AM({spacing:n})){if(n.mui)return n;const t=(...i)=>(i.length===0?[1]:i).map(s=>{const a=e(s);return typeof a=="number"?`${a}px`:a}).join(" ");return t.mui=!0,t}function Age(n,e){var i;const t=this;if(t.vars){if(!((i=t.colorSchemes)!=null&&i[n])||typeof t.getColorSchemeSelector!="function")return{};let r=t.getColorSchemeSelector(n);return r==="&"?e:((r.includes("data-")||r.includes("."))&&(r=`*:where(${r.replace(/\s*&$/,"")}) &`),{[r]:e})}return t.palette.mode===n?e:{}}function N_(n={},...e){const{breakpoints:t={},palette:i={},spacing:r,shape:s={},...a}=n,o=wge(t),l=Oq(r);let u=aa({breakpoints:o,direction:"ltr",components:{},palette:{mode:"light",...i},spacing:l,shape:{...Cge,...s}},a);return u=Npe(u),u.applyStyles=Age,u=e.reduce((h,p)=>aa(h,p),u),u.unstable_sxConfig={...HS,...a==null?void 0:a.unstable_sxConfig},u.unstable_sx=function(p){return ry({sx:p,theme:this})},u}function Mge(n){return Object.keys(n).length===0}function Rge(n=null){const e=H.useContext(kM);return!e||Mge(e)?n:e}const Oge=N_();function WS(n=Oge){return Rge(n)}function u3(n){const e=Lp(n);return n!==e&&e.styles?(e.styles.match(/^@layer\s+[^{]*$/)||(e.styles=`@layer global{${e.styles}}`),e):n}function Ige({styles:n,themeId:e,defaultTheme:t={}}){const i=WS(t),r=e&&i[e]||i;let s=typeof n=="function"?n(r):n;return r.modularCssLayers&&(Array.isArray(s)?s=s.map(a=>u3(typeof a=="function"?a(r):a)):s=u3(s)),Z.jsx(Sge,{styles:s})}function Pge(n={}){const{themeId:e,defaultTheme:t,defaultClassName:i="MuiBox-root",generateClassName:r}=n,s=Rq("div",{shouldForwardProp:o=>o!=="theme"&&o!=="sx"&&o!=="as"})(ry);return H.forwardRef(function(l,u){const h=WS(t),{className:p,component:y="div",...v}=DM(l);return Z.jsx(s,{as:y,ref:u,className:Pt(p,r?r(i):i),theme:e&&h[e]||h,...v})})}const Dge={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function yn(n,e,t="Mui"){const i=Dge[e];return i?`${t}-${i}`:`${uq.generate(n)}-${e}`}function vn(n,e,t="Mui"){const i={};return e.forEach(r=>{i[r]=yn(n,r,t)}),i}function Iq(n){const{variants:e,...t}=n,i={variants:e,style:Lp(t),isProcessed:!0};return i.style===t||e&&e.forEach(r=>{typeof r.style!="function"&&(r.style=Lp(r.style))}),i}const Nge=N_();function f3(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}function Lg(n,e){return e&&n&&typeof n=="object"&&n.styles&&!n.styles.startsWith("@layer")&&(n.styles=`@layer ${e}{${String(n.styles)}}`),n}function Lge(n){return n?(e,t)=>t[n]:null}function Uge(n,e,t){n.theme=zge(n.theme)?t:n.theme[e]||n.theme}function _2(n,e,t){const i=typeof e=="function"?e(n):e;if(Array.isArray(i))return i.flatMap(r=>_2(n,r,t));if(Array.isArray(i==null?void 0:i.variants)){let r;if(i.isProcessed)r=t?Lg(i.style,t):i.style;else{const{variants:s,...a}=i;r=t?Lg(Lp(a),t):a}return Pq(n,i.variants,[r],t)}return i!=null&&i.isProcessed?t?Lg(Lp(i.style),t):i.style:t?Lg(Lp(i),t):i}function Pq(n,e,t=[],i=void 0){var s;let r;e:for(let a=0;a<e.length;a+=1){const o=e[a];if(typeof o.props=="function"){if(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),!o.props(r))continue}else for(const l in o.props)if(n[l]!==o.props[l]&&((s=n.ownerState)==null?void 0:s[l])!==o.props[l])continue e;typeof o.style=="function"?(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),t.push(i?Lg(Lp(o.style(r)),i):o.style(r))):t.push(i?Lg(Lp(o.style),i):o.style)}return t}function Dq(n={}){const{themeId:e,defaultTheme:t=Nge,rootShouldForwardProp:i=f3,slotShouldForwardProp:r=f3}=n;function s(o){Uge(o,e,t)}return(o,l={})=>{Ege(o,L=>L.filter(I=>I!==ry));const{name:u,slot:h,skipVariantsResolver:p,skipSx:y,overridesResolver:v=Lge(Fge(h)),..._}=l,x=u&&u.startsWith("Mui")||h?"components":"custom",E=p!==void 0?p:h&&h!=="Root"&&h!=="root"||!1,S=y||!1;let w=f3;h==="Root"||h==="root"?w=i:h?w=r:Bge(o)&&(w=void 0);const C=Rq(o,{shouldForwardProp:w,label:kge(),..._}),A=L=>{if(L.__emotion_real===L)return L;if(typeof L=="function")return function(D){return _2(D,L,D.theme.modularCssLayers?x:void 0)};if(bf(L)){const I=Iq(L);return function(P){return I.variants?_2(P,I,P.theme.modularCssLayers?x:void 0):P.theme.modularCssLayers?Lg(I.style,x):I.style}}return L},N=(...L)=>{const I=[],D=L.map(A),P=[];if(I.push(s),u&&v&&P.push(function(V){var W,Q;const J=(Q=(W=V.theme.components)==null?void 0:W[u])==null?void 0:Q.styleOverrides;if(!J)return null;const q={};for(const re in J)q[re]=_2(V,J[re],V.theme.modularCssLayers?"theme":void 0);return v(V,q)}),u&&!E&&P.push(function(V){var q,W;const K=V.theme,J=(W=(q=K==null?void 0:K.components)==null?void 0:q[u])==null?void 0:W.variants;return J?Pq(V,J,[],V.theme.modularCssLayers?"theme":void 0):null}),S||P.push(ry),Array.isArray(D[0])){const z=D.shift(),V=new Array(I.length).fill(""),K=new Array(P.length).fill("");let J;J=[...V,...z,...K],J.raw=[...V,...z.raw,...K],I.unshift(J)}const U=[...I,...D,...P],F=C(...U);return o.muiName&&(F.muiName=o.muiName),F};return C.withConfig&&(N.withConfig=C.withConfig),N}}function kge(n,e){return void 0}function zge(n){for(const e in n)return!1;return!0}function Bge(n){return typeof n=="string"&&n.charCodeAt(0)>96}function Fge(n){return n&&n.charAt(0).toLowerCase()+n.slice(1)}const Nq=Dq();function cS(n,e,t=!1){const i={...e};for(const r in n)if(Object.prototype.hasOwnProperty.call(n,r)){const s=r;if(s==="components"||s==="slots")i[s]={...n[s],...i[s]};else if(s==="componentsProps"||s==="slotProps"){const a=n[s],o=e[s];if(!o)i[s]=a||{};else if(!a)i[s]=o;else{i[s]={...o};for(const l in a)if(Object.prototype.hasOwnProperty.call(a,l)){const u=l;i[s][u]=cS(a[u],o[u],t)}}}else s==="className"&&t&&e.className?i.className=Pt(n==null?void 0:n.className,e==null?void 0:e.className):s==="style"&&t&&e.style?i.style={...n==null?void 0:n.style,...e==null?void 0:e.style}:i[s]===void 0&&(i[s]=n[s])}return i}function Vge(n){const{theme:e,name:t,props:i}=n;return!e||!e.components||!e.components[t]||!e.components[t].defaultProps?i:cS(e.components[t].defaultProps,i)}function Lq({props:n,name:e,defaultTheme:t,themeId:i}){let r=WS(t);return i&&(r=r[i]||r),Vge({theme:r,name:e,props:n})}const Tu=typeof window<"u"?H.useLayoutEffect:H.useEffect;function Hge(n,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(n,t))}function zL(n,e=0,t=1){return Hge(n,e,t)}function jge(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(i=>i+i)),t?`rgb${t.length===4?"a":""}(${t.map((i,r)=>r<3?parseInt(i,16):Math.round(parseInt(i,16)/255*1e3)/1e3).join(", ")})`:""}function Yp(n){if(n.type)return n;if(n.charAt(0)==="#")return Yp(jge(n));const e=n.indexOf("("),t=n.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(t))throw new Error(rd(9,n));let i=n.substring(e+1,n.length-1),r;if(t==="color"){if(i=i.split(" "),r=i.shift(),i.length===4&&i[3].charAt(0)==="/"&&(i[3]=i[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(r))throw new Error(rd(10,r))}else i=i.split(",");return i=i.map(s=>parseFloat(s)),{type:t,values:i,colorSpace:r}}const Gge=n=>{const e=Yp(n);return e.values.slice(0,3).map((t,i)=>e.type.includes("hsl")&&i!==0?`${t}%`:t).join(" ")},j1=(n,e)=>{try{return Gge(n)}catch{return n}};function zM(n){const{type:e,colorSpace:t}=n;let{values:i}=n;return e.includes("rgb")?i=i.map((r,s)=>s<3?parseInt(r,10):r):e.includes("hsl")&&(i[1]=`${i[1]}%`,i[2]=`${i[2]}%`),e.includes("color")?i=`${t} ${i.join(" ")}`:i=`${i.join(", ")}`,`${e}(${i})`}function Uq(n){n=Yp(n);const{values:e}=n,t=e[0],i=e[1]/100,r=e[2]/100,s=i*Math.min(r,1-r),a=(u,h=(u+t/30)%12)=>r-s*Math.max(Math.min(h-3,9-h,1),-1);let o="rgb";const l=[Math.round(a(0)*255),Math.round(a(8)*255),Math.round(a(4)*255)];return n.type==="hsla"&&(o+="a",l.push(e[3])),zM({type:o,values:l})}function DP(n){n=Yp(n);let e=n.type==="hsl"||n.type==="hsla"?Yp(Uq(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function qge(n,e){const t=DP(n),i=DP(e);return(Math.max(t,i)+.05)/(Math.min(t,i)+.05)}function GC(n,e){return n=Yp(n),e=zL(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,zM(n)}function hg(n,e,t){try{return GC(n,e)}catch{return n}}function yy(n,e){if(n=Yp(n),e=zL(e),n.type.includes("hsl"))n.values[2]*=1-e;else if(n.type.includes("rgb")||n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]*=1-e;return zM(n)}function Bi(n,e,t){try{return yy(n,e)}catch{return n}}function $S(n,e){if(n=Yp(n),e=zL(e),n.type.includes("hsl"))n.values[2]+=(100-n.values[2])*e;else if(n.type.includes("rgb"))for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return zM(n)}function Fi(n,e,t){try{return $S(n,e)}catch{return n}}function Wge(n,e=.15){return DP(n)>.5?yy(n,e):$S(n,e)}function hw(n,e,t){try{return Wge(n,e)}catch{return n}}const $ge=H.createContext(),XS=()=>H.useContext($ge)??!1,Xge=H.createContext(void 0);function Yge(n){const{theme:e,name:t,props:i}=n;if(!e||!e.components||!e.components[t])return i;const r=e.components[t];return r.defaultProps?cS(r.defaultProps,i,e.components.mergeClassNameAndStyle):!r.styleOverrides&&!r.variants?cS(r,i,e.components.mergeClassNameAndStyle):i}function Kge({props:n,name:e}){const t=H.useContext(Xge);return Yge({props:n,name:e,theme:{components:t}})}let zB=0;function Zge(n){const[e,t]=H.useState(n),i=n||e;return H.useEffect(()=>{e==null&&(zB+=1,t(`mui-${zB}`))},[e]),i}const Qge={...gI},BB=Qge.useId;function L_(n){if(BB!==void 0){const e=BB();return n??e}return Zge(n)}const FB={theme:void 0};function Jge(n){let e,t;return function(r){let s=e;return(s===void 0||r.theme!==t)&&(FB.theme=r.theme,s=Iq(n(FB)),e=s,t=r.theme),s}}function eye(n=""){function e(...i){if(!i.length)return"";const r=i[0];return typeof r=="string"&&!r.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${n?`${n}-`:""}${r}${e(...i.slice(1))})`:`, ${r}`}return(i,...r)=>`var(--${n?`${n}-`:""}${i}${e(...r)})`}const VB=(n,e,t,i=[])=>{let r=n;e.forEach((s,a)=>{a===e.length-1?Array.isArray(r)?r[Number(s)]=t:r&&typeof r=="object"&&(r[s]=t):r&&typeof r=="object"&&(r[s]||(r[s]=i.includes(s)?[]:{}),r=r[s])})},tye=(n,e,t)=>{function i(r,s=[],a=[]){Object.entries(r).forEach(([o,l])=>{(!t||t&&!t([...s,o]))&&l!=null&&(typeof l=="object"&&Object.keys(l).length>0?i(l,[...s,o],Array.isArray(l)?[...a,o]:a):e([...s,o],l,a))})}i(n)},nye=(n,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(i=>n.includes(i))||n[n.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function h3(n,e){const{prefix:t,shouldSkipGeneratingVar:i}=e||{},r={},s={},a={};return tye(n,(o,l,u)=>{if((typeof l=="string"||typeof l=="number")&&(!i||!i(o,l))){const h=`--${t?`${t}-`:""}${o.join("-")}`,p=nye(o,l);Object.assign(r,{[h]:p}),VB(s,o,`var(${h})`,u),VB(a,o,`var(${h}, ${p})`,u)}},o=>o[0]==="vars"),{css:r,vars:s,varsWithDefaults:a}}function iye(n,e={}){const{getSelector:t=S,disableCssColorScheme:i,colorSchemeSelector:r,enableContrastVars:s}=e,{colorSchemes:a={},components:o,defaultColorScheme:l="light",...u}=n,{vars:h,css:p,varsWithDefaults:y}=h3(u,e);let v=y;const _={},{[l]:x,...E}=a;if(Object.entries(E||{}).forEach(([A,N])=>{const{vars:L,css:I,varsWithDefaults:D}=h3(N,e);v=aa(v,D),_[A]={css:I,vars:L}}),x){const{css:A,vars:N,varsWithDefaults:L}=h3(x,e);v=aa(v,L),_[l]={css:A,vars:N}}function S(A,N){var I,D;let L=r;if(r==="class"&&(L=".%s"),r==="data"&&(L="[data-%s]"),r!=null&&r.startsWith("data-")&&!r.includes("%s")&&(L=`[${r}="%s"]`),A){if(L==="media")return n.defaultColorScheme===A?":root":{[`@media (prefers-color-scheme: ${((D=(I=a[A])==null?void 0:I.palette)==null?void 0:D.mode)||A})`]:{":root":N}};if(L)return n.defaultColorScheme===A?`:root, ${L.replace("%s",String(A))}`:L.replace("%s",String(A))}return":root"}return{vars:v,generateThemeVars:()=>{let A={...h};return Object.entries(_).forEach(([,{vars:N}])=>{A=aa(A,N)}),A},generateStyleSheets:()=>{var P,U;const A=[],N=n.defaultColorScheme||"light";function L(F,z){Object.keys(z).length&&A.push(typeof F=="string"?{[F]:{...z}}:F)}L(t(void 0,{...p}),p);const{[N]:I,...D}=_;if(I){const{css:F}=I,z=(U=(P=a[N])==null?void 0:P.palette)==null?void 0:U.mode,V=!i&&z?{colorScheme:z,...F}:{...F};L(t(N,{...V}),V)}return Object.entries(D).forEach(([F,{css:z}])=>{var J,q;const V=(q=(J=a[F])==null?void 0:J.palette)==null?void 0:q.mode,K=!i&&V?{colorScheme:V,...z}:{...z};L(t(F,{...K}),K)}),s&&A.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),A}}}function rye(n){return function(t){return n==="media"?`@media (prefers-color-scheme: ${t})`:n?n.startsWith("data-")&&!n.includes("%s")?`[${n}="${t}"] &`:n==="class"?`.${t} &`:n==="data"?`[data-${t}] &`:`${n.replace("%s",t)} &`:"&"}}function _x(n,e){var t,i,r;return H.isValidElement(n)&&e.indexOf(n.type.muiName??((r=(i=(t=n.type)==null?void 0:t._payload)==null?void 0:i.value)==null?void 0:r.muiName))!==-1}const sye=(n,e)=>n.filter(t=>e.includes(t)),U_=(n,e,t)=>{const i=n.keys[0];Array.isArray(e)?e.forEach((r,s)=>{t((a,o)=>{s<=n.keys.length-1&&(s===0?Object.assign(a,o):a[n.up(n.keys[s])]=o)},r)}):e&&typeof e=="object"?(Object.keys(e).length>n.keys.length?n.keys:sye(n.keys,Object.keys(e))).forEach(s=>{if(n.keys.includes(s)){const a=e[s];a!==void 0&&t((o,l)=>{i===s?Object.assign(o,l):o[n.up(s)]=l},a)}}):(typeof e=="number"||typeof e=="string")&&t((r,s)=>{Object.assign(r,s)},e)};function qC(n){return`--Grid-${n}Spacing`}function BM(n){return`--Grid-parent-${n}Spacing`}const HB="--Grid-columns",P0="--Grid-parent-columns",aye=({theme:n,ownerState:e})=>{const t={};return U_(n.breakpoints,e.size,(i,r)=>{let s={};r==="grow"&&(s={flexBasis:0,flexGrow:1,maxWidth:"100%"}),r==="auto"&&(s={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),typeof r=="number"&&(s={flexGrow:0,flexBasis:"auto",width:`calc(100% * ${r} / var(${P0}) - (var(${P0}) - ${r}) * (var(${BM("column")}) / var(${P0})))`}),i(t,s)}),t},oye=({theme:n,ownerState:e})=>{const t={};return U_(n.breakpoints,e.offset,(i,r)=>{let s={};r==="auto"&&(s={marginLeft:"auto"}),typeof r=="number"&&(s={marginLeft:r===0?"0px":`calc(100% * ${r} / var(${P0}) + var(${BM("column")}) * ${r} / var(${P0}))`}),i(t,s)}),t},lye=({theme:n,ownerState:e})=>{if(!e.container)return{};const t={[HB]:12};return U_(n.breakpoints,e.columns,(i,r)=>{const s=r??12;i(t,{[HB]:s,"> *":{[P0]:s}})}),t},cye=({theme:n,ownerState:e})=>{if(!e.container)return{};const t={};return U_(n.breakpoints,e.rowSpacing,(i,r)=>{var a;const s=typeof r=="string"?r:(a=n.spacing)==null?void 0:a.call(n,r);i(t,{[qC("row")]:s,"> *":{[BM("row")]:s}})}),t},uye=({theme:n,ownerState:e})=>{if(!e.container)return{};const t={};return U_(n.breakpoints,e.columnSpacing,(i,r)=>{var a;const s=typeof r=="string"?r:(a=n.spacing)==null?void 0:a.call(n,r);i(t,{[qC("column")]:s,"> *":{[BM("column")]:s}})}),t},fye=({theme:n,ownerState:e})=>{if(!e.container)return{};const t={};return U_(n.breakpoints,e.direction,(i,r)=>{i(t,{flexDirection:r})}),t},hye=({ownerState:n})=>({minWidth:0,boxSizing:"border-box",...n.container&&{display:"flex",flexWrap:"wrap",...n.wrap&&n.wrap!=="wrap"&&{flexWrap:n.wrap},gap:`var(${qC("row")}) var(${qC("column")})`}}),dye=n=>{const e=[];return Object.entries(n).forEach(([t,i])=>{i!==!1&&i!==void 0&&e.push(`grid-${t}-${String(i)}`)}),e},pye=(n,e="xs")=>{function t(i){return i===void 0?!1:typeof i=="string"&&!Number.isNaN(Number(i))||typeof i=="number"&&i>0}if(t(n))return[`spacing-${e}-${String(n)}`];if(typeof n=="object"&&!Array.isArray(n)){const i=[];return Object.entries(n).forEach(([r,s])=>{t(s)&&i.push(`spacing-${r}-${String(s)}`)}),i}return[]},mye=n=>n===void 0?[]:typeof n=="object"?Object.entries(n).map(([e,t])=>`direction-${e}-${t}`):[`direction-xs-${String(n)}`];function gye(n,e){n.item!==void 0&&delete n.item,n.zeroMinWidth!==void 0&&delete n.zeroMinWidth,e.keys.forEach(t=>{n[t]!==void 0&&delete n[t]})}const yye=N_(),vye=Nq("div",{name:"MuiGrid",slot:"Root"});function _ye(n){return Lq({props:n,name:"MuiGrid",defaultTheme:yye})}function bye(n={}){const{createStyledComponent:e=vye,useThemeProps:t=_ye,useTheme:i=WS,componentName:r="MuiGrid"}=n,s=(u,h)=>{const{container:p,direction:y,spacing:v,wrap:_,size:x}=u,E={root:["root",p&&"container",_!=="wrap"&&`wrap-xs-${String(_)}`,...mye(y),...dye(x),...p?pye(v,h.breakpoints.keys[0]):[]]};return gn(E,S=>yn(r,S),{})};function a(u,h,p=()=>!0){const y={};return u===null||(Array.isArray(u)?u.forEach((v,_)=>{v!==null&&p(v)&&h.keys[_]&&(y[h.keys[_]]=v)}):typeof u=="object"?Object.keys(u).forEach(v=>{const _=u[v];_!=null&&p(_)&&(y[v]=_)}):y[h.keys[0]]=u),y}const o=e(lye,uye,cye,aye,fye,hye,oye),l=H.forwardRef(function(h,p){const y=i(),v=t(h),_=DM(v);gye(_,y.breakpoints);const{className:x,children:E,columns:S=12,container:w=!1,component:C="div",direction:A="row",wrap:N="wrap",size:L={},offset:I={},spacing:D=0,rowSpacing:P=D,columnSpacing:U=D,unstable_level:F=0,...z}=_,V=a(L,y.breakpoints,Y=>Y!==!1),K=a(I,y.breakpoints),J=h.columns??(F?void 0:S),q=h.spacing??(F?void 0:D),W=h.rowSpacing??h.spacing??(F?void 0:P),Q=h.columnSpacing??h.spacing??(F?void 0:U),re={..._,level:F,columns:J,container:w,direction:A,wrap:N,spacing:q,rowSpacing:W,columnSpacing:Q,size:V,offset:K},pe=s(re,y);return Z.jsx(o,{ref:p,as:C,ownerState:re,className:Pt(pe.root,x),...z,children:H.Children.map(E,Y=>{var le;return H.isValidElement(Y)&&_x(Y,["Grid"])&&w&&Y.props.container?H.cloneElement(Y,{unstable_level:((le=Y.props)==null?void 0:le.unstable_level)??F+1}):Y})})});return l.muiName="Grid",l}const xye=N_(),Sye=Nq("div",{name:"MuiStack",slot:"Root"});function Eye(n){return Lq({props:n,name:"MuiStack",defaultTheme:xye})}function Tye(n,e){const t=H.Children.toArray(n).filter(Boolean);return t.reduce((i,r,s)=>(i.push(r),s<t.length-1&&i.push(H.cloneElement(e,{key:`separator-${s}`})),i),[])}const wye=n=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[n],Cye=({ownerState:n,theme:e})=>{let t={display:"flex",flexDirection:"column",...Eu({theme:e},a3({values:n.direction,breakpoints:e.breakpoints.values}),i=>({flexDirection:i}))};if(n.spacing){const i=AM(e),r=Object.keys(e.breakpoints.values).reduce((l,u)=>((typeof n.spacing=="object"&&n.spacing[u]!=null||typeof n.direction=="object"&&n.direction[u]!=null)&&(l[u]=!0),l),{}),s=a3({values:n.direction,base:r}),a=a3({values:n.spacing,base:r});typeof s=="object"&&Object.keys(s).forEach((l,u,h)=>{if(!s[l]){const y=u>0?s[h[u-1]]:"column";s[l]=y}}),t=aa(t,Eu({theme:e},a,(l,u)=>n.useFlexGap?{gap:iy(i,l)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${wye(u?s[u]:n.direction)}`]:iy(i,l)}}))}return t=Upe(e.breakpoints,t),t};function Aye(n={}){const{createStyledComponent:e=Sye,useThemeProps:t=Eye,componentName:i="MuiStack"}=n,r=()=>gn({root:["root"]},l=>yn(i,l),{}),s=e(Cye);return H.forwardRef(function(l,u){const h=t(l),p=DM(h),{component:y="div",direction:v="column",spacing:_=0,divider:x,children:E,className:S,useFlexGap:w=!1,...C}=p,A={direction:v,spacing:_,useFlexGap:w},N=r();return Z.jsx(s,{as:y,ownerState:A,ref:u,className:Pt(N.root,S),...C,children:x?Tye(E,x):E})})}const uS={black:"#000",white:"#fff"},Mye={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Lv={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Uv={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},m1={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},kv={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},zv={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Bv={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function kq(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:uS.white,default:uS.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const zq=kq();function Bq(){return{text:{primary:uS.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:uS.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const NP=Bq();function jB(n,e,t,i){const r=i.light||i,s=i.dark||i*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=$S(n.main,r):e==="dark"&&(n.dark=yy(n.main,s)))}function GB(n,e,t,i,r){const s=r.light||r,a=r.dark||r*1.5;e[t]||(e.hasOwnProperty(i)?e[t]=e[i]:t==="light"?e.light=`color-mix(in ${n}, ${e.main}, #fff ${(s*100).toFixed(0)}%)`:t==="dark"&&(e.dark=`color-mix(in ${n}, ${e.main}, #000 ${(a*100).toFixed(0)}%)`))}function Rye(n="light"){return n==="dark"?{main:kv[200],light:kv[50],dark:kv[400]}:{main:kv[700],light:kv[400],dark:kv[800]}}function Oye(n="light"){return n==="dark"?{main:Lv[200],light:Lv[50],dark:Lv[400]}:{main:Lv[500],light:Lv[300],dark:Lv[700]}}function Iye(n="light"){return n==="dark"?{main:Uv[500],light:Uv[300],dark:Uv[700]}:{main:Uv[700],light:Uv[400],dark:Uv[800]}}function Pye(n="light"){return n==="dark"?{main:zv[400],light:zv[300],dark:zv[700]}:{main:zv[700],light:zv[500],dark:zv[900]}}function Dye(n="light"){return n==="dark"?{main:Bv[400],light:Bv[300],dark:Bv[700]}:{main:Bv[800],light:Bv[500],dark:Bv[900]}}function Nye(n="light"){return n==="dark"?{main:m1[400],light:m1[300],dark:m1[700]}:{main:"#ed6c02",light:m1[500],dark:m1[900]}}function Lye(n){return`oklch(from ${n} var(--__l) 0 h / var(--__a))`}function BL(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:i=.2,colorSpace:r,...s}=n,a=n.primary||Rye(e),o=n.secondary||Oye(e),l=n.error||Iye(e),u=n.info||Pye(e),h=n.success||Dye(e),p=n.warning||Nye(e);function y(E){return r?Lye(E):qge(E,NP.text.primary)>=t?NP.text.primary:zq.text.primary}const v=({color:E,name:S,mainShade:w=500,lightShade:C=300,darkShade:A=700})=>{if(E={...E},!E.main&&E[w]&&(E.main=E[w]),!E.hasOwnProperty("main"))throw new Error(rd(11,S?` (${S})`:"",w));if(typeof E.main!="string")throw new Error(rd(12,S?` (${S})`:"",JSON.stringify(E.main)));return r?(GB(r,E,"light",C,i),GB(r,E,"dark",A,i)):(jB(E,"light",C,i),jB(E,"dark",A,i)),E.contrastText||(E.contrastText=y(E.main)),E};let _;return e==="light"?_=kq():e==="dark"&&(_=Bq()),aa({common:{...uS},mode:e,primary:v({color:a,name:"primary"}),secondary:v({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:v({color:l,name:"error"}),warning:v({color:p,name:"warning"}),info:v({color:u,name:"info"}),success:v({color:h,name:"success"}),grey:Mye,contrastThreshold:t,getContrastText:y,augmentColor:v,tonalOffset:i,..._},s)}function Uye(n){const e={};return Object.entries(n).forEach(i=>{const[r,s]=i;typeof s=="object"&&(e[r]=`${s.fontStyle?`${s.fontStyle} `:""}${s.fontVariant?`${s.fontVariant} `:""}${s.fontWeight?`${s.fontWeight} `:""}${s.fontStretch?`${s.fontStretch} `:""}${s.fontSize||""}${s.lineHeight?`/${s.lineHeight} `:""}${s.fontFamily||""}`)}),e}function kye(n,e){return{toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}},...e}}function zye(n){return Math.round(n*1e5)/1e5}const qB={textTransform:"uppercase"},WB='"Roboto", "Helvetica", "Arial", sans-serif';function Bye(n,e){const{fontFamily:t=WB,fontSize:i=14,fontWeightLight:r=300,fontWeightRegular:s=400,fontWeightMedium:a=500,fontWeightBold:o=700,htmlFontSize:l=16,allVariants:u,pxToRem:h,...p}=typeof e=="function"?e(n):e,y=i/14,v=h||(E=>`${E/l*y}rem`),_=(E,S,w,C,A)=>({fontFamily:t,fontWeight:E,fontSize:v(S),lineHeight:w,...t===WB?{letterSpacing:`${zye(C/S)}em`}:{},...A,...u}),x={h1:_(r,96,1.167,-1.5),h2:_(r,60,1.2,-.5),h3:_(s,48,1.167,0),h4:_(s,34,1.235,.25),h5:_(s,24,1.334,0),h6:_(a,20,1.6,.15),subtitle1:_(s,16,1.75,.15),subtitle2:_(a,14,1.57,.1),body1:_(s,16,1.5,.15),body2:_(s,14,1.43,.15),button:_(a,14,1.75,.4,qB),caption:_(s,12,1.66,.4),overline:_(s,12,2.66,1,qB),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return aa({htmlFontSize:l,pxToRem:v,fontFamily:t,fontSize:i,fontWeightLight:r,fontWeightRegular:s,fontWeightMedium:a,fontWeightBold:o,...x},p,{clone:!1})}const Fye=.2,Vye=.14,Hye=.12;function xr(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${Fye})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${Vye})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${Hye})`].join(",")}const jye=["none",xr(0,2,1,-1,0,1,1,0,0,1,3,0),xr(0,3,1,-2,0,2,2,0,0,1,5,0),xr(0,3,3,-2,0,3,4,0,0,1,8,0),xr(0,2,4,-1,0,4,5,0,0,1,10,0),xr(0,3,5,-1,0,5,8,0,0,1,14,0),xr(0,3,5,-1,0,6,10,0,0,1,18,0),xr(0,4,5,-2,0,7,10,1,0,2,16,1),xr(0,5,5,-3,0,8,10,1,0,3,14,2),xr(0,5,6,-3,0,9,12,1,0,3,16,2),xr(0,6,6,-3,0,10,14,1,0,4,18,3),xr(0,6,7,-4,0,11,15,1,0,4,20,3),xr(0,7,8,-4,0,12,17,2,0,5,22,4),xr(0,7,8,-4,0,13,19,2,0,5,24,4),xr(0,7,9,-4,0,14,21,2,0,5,26,4),xr(0,8,9,-5,0,15,22,2,0,6,28,5),xr(0,8,10,-5,0,16,24,2,0,6,30,5),xr(0,8,11,-5,0,17,26,2,0,6,32,5),xr(0,9,11,-5,0,18,28,2,0,7,34,6),xr(0,9,12,-6,0,19,29,2,0,7,36,6),xr(0,10,13,-6,0,20,31,3,0,8,38,7),xr(0,10,13,-6,0,21,33,3,0,8,40,7),xr(0,10,14,-6,0,22,35,3,0,8,42,7),xr(0,11,14,-7,0,23,36,3,0,9,44,8),xr(0,11,15,-7,0,24,38,3,0,9,46,8)],Gye={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Fq={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function $B(n){return`${Math.round(n)}ms`}function qye(n){if(!n)return 0;const e=n/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function Wye(n){const e={...Gye,...n.easing},t={...Fq,...n.duration};return{getAutoHeightDuration:qye,create:(r=["all"],s={})=>{const{duration:a=t.standard,easing:o=e.easeInOut,delay:l=0,...u}=s;return(Array.isArray(r)?r:[r]).map(h=>`${h} ${typeof a=="string"?a:$B(a)} ${o} ${typeof l=="string"?l:$B(l)}`).join(",")},...n,easing:e,duration:t}}const $ye={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function Xye(n){return bf(n)||typeof n>"u"||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||Array.isArray(n)}function Vq(n={}){const e={...n};function t(i){const r=Object.entries(i);for(let s=0;s<r.length;s++){const[a,o]=r[s];!Xye(o)||a.startsWith("unstable_")?delete i[a]:bf(o)&&(i[a]={...o},t(i[a]))}}return t(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function XB(n){return typeof n=="number"?`${(n*100).toFixed(0)}%`:`calc((${n}) * 100%)`}const Yye=n=>{if(!Number.isNaN(+n))return+n;const e=n.match(/\d*\.?\d+/g);if(!e)return 0;let t=0;for(let i=0;i<e.length;i+=1)t+=+e[i];return t};function Kye(n){Object.assign(n,{alpha(e,t){const i=this||n;return i.colorSpace?`oklch(from ${e} l c h / ${typeof t=="string"?`calc(${t})`:t})`:i.vars?`rgba(${e.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")} / ${typeof t=="string"?`calc(${t})`:t})`:GC(e,Yye(t))},lighten(e,t){const i=this||n;return i.colorSpace?`color-mix(in ${i.colorSpace}, ${e}, #fff ${XB(t)})`:$S(e,t)},darken(e,t){const i=this||n;return i.colorSpace?`color-mix(in ${i.colorSpace}, ${e}, #000 ${XB(t)})`:yy(e,t)}})}function LP(n={},...e){const{breakpoints:t,mixins:i={},spacing:r,palette:s={},transitions:a={},typography:o={},shape:l,colorSpace:u,...h}=n;if(n.vars&&n.generateThemeVars===void 0)throw new Error(rd(20));const p=BL({...s,colorSpace:u}),y=N_(n);let v=aa(y,{mixins:kye(y.breakpoints,i),palette:p,shadows:jye.slice(),typography:Bye(p,o),transitions:Wye(a),zIndex:{...$ye}});return v=aa(v,h),v=e.reduce((_,x)=>aa(_,x),v),v.unstable_sxConfig={...HS,...h==null?void 0:h.unstable_sxConfig},v.unstable_sx=function(x){return ry({sx:x,theme:this})},v.toRuntimeSource=Vq,Kye(v),v}function UP(n){let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,Math.round(e*10)/1e3}const Zye=[...Array(25)].map((n,e)=>{if(e===0)return"none";const t=UP(e);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function Hq(n){return{inputPlaceholder:n==="dark"?.5:.42,inputUnderline:n==="dark"?.7:.42,switchTrackDisabled:n==="dark"?.2:.12,switchTrack:n==="dark"?.3:.38}}function jq(n){return n==="dark"?Zye:[]}function Qye(n){const{palette:e={mode:"light"},opacity:t,overlays:i,colorSpace:r,...s}=n,a=BL({...e,colorSpace:r});return{palette:a,opacity:{...Hq(a.mode),...t},overlays:i||jq(a.mode),...s}}function Jye(n){var e;return!!n[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!n[0].match(/sxConfig$/)||n[0]==="palette"&&!!((e=n[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const eve=n=>[...[...Array(25)].map((e,t)=>`--${n?`${n}-`:""}overlays-${t}`),`--${n?`${n}-`:""}palette-AppBar-darkBg`,`--${n?`${n}-`:""}palette-AppBar-darkColor`],tve=n=>(e,t)=>{const i=n.rootSelector||":root",r=n.colorSchemeSelector;let s=r;if(r==="class"&&(s=".%s"),r==="data"&&(s="[data-%s]"),r!=null&&r.startsWith("data-")&&!r.includes("%s")&&(s=`[${r}="%s"]`),n.defaultColorScheme===e){if(e==="dark"){const a={};return eve(n.cssVarPrefix).forEach(o=>{a[o]=t[o],delete t[o]}),s==="media"?{[i]:t,"@media (prefers-color-scheme: dark)":{[i]:a}}:s?{[s.replace("%s",e)]:a,[`${i}, ${s.replace("%s",e)}`]:t}:{[i]:{...t,...a}}}if(s&&s!=="media")return`${i}, ${s.replace("%s",String(e))}`}else if(e){if(s==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[i]:t}};if(s)return s.replace("%s",String(e))}return i};function nve(n,e){e.forEach(t=>{n[t]||(n[t]={})})}function Ze(n,e,t){!n[e]&&t&&(n[e]=t)}function G1(n){return typeof n!="string"||!n.startsWith("hsl")?n:Uq(n)}function Sh(n,e){`${e}Channel`in n||(n[`${e}Channel`]=j1(G1(n[e])))}function ive(n){return typeof n=="number"?`${n}px`:typeof n=="string"||typeof n=="function"||Array.isArray(n)?n:"8px"}const af=n=>{try{return n()}catch{}},rve=(n="mui")=>eye(n);function d3(n,e,t,i,r){if(!t)return;t=t===!0?{}:t;const s=r==="dark"?"dark":"light";if(!i){e[r]=Qye({...t,palette:{mode:s,...t==null?void 0:t.palette},colorSpace:n});return}const{palette:a,...o}=LP({...i,palette:{mode:s,...t==null?void 0:t.palette},colorSpace:n});return e[r]={...t,palette:a,opacity:{...Hq(s),...t==null?void 0:t.opacity},overlays:(t==null?void 0:t.overlays)||jq(s)},o}function sve(n={},...e){const{colorSchemes:t={light:!0},defaultColorScheme:i,disableCssColorScheme:r=!1,cssVarPrefix:s="mui",nativeColor:a=!1,shouldSkipGeneratingVar:o=Jye,colorSchemeSelector:l=t.light&&t.dark?"media":void 0,rootSelector:u=":root",...h}=n,p=Object.keys(t)[0],y=i||(t.light&&p!=="light"?"light":p),v=rve(s),{[y]:_,light:x,dark:E,...S}=t,w={...S};let C=_;if((y==="dark"&&!("dark"in t)||y==="light"&&!("light"in t))&&(C=!0),!C)throw new Error(rd(21,y));let A;a&&(A="oklch");const N=d3(A,w,C,h,y);x&&!w.light&&d3(A,w,x,void 0,"light"),E&&!w.dark&&d3(A,w,E,void 0,"dark");let L={defaultColorScheme:y,...N,cssVarPrefix:s,colorSchemeSelector:l,rootSelector:u,getCssVar:v,colorSchemes:w,font:{...Uye(N.typography),...N.font},spacing:ive(h.spacing)};Object.keys(L.colorSchemes).forEach(F=>{const z=L.colorSchemes[F].palette,V=J=>{const q=J.split("-"),W=q[1],Q=q[2];return v(J,z[W][Q])};z.mode==="light"&&(Ze(z.common,"background","#fff"),Ze(z.common,"onBackground","#000")),z.mode==="dark"&&(Ze(z.common,"background","#000"),Ze(z.common,"onBackground","#fff"));function K(J,q,W){if(A){let Q;return J===hg&&(Q=`transparent ${((1-W)*100).toFixed(0)}%`),J===Bi&&(Q=`#000 ${(W*100).toFixed(0)}%`),J===Fi&&(Q=`#fff ${(W*100).toFixed(0)}%`),`color-mix(in ${A}, ${q}, ${Q})`}return J(q,W)}if(nve(z,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),z.mode==="light"){Ze(z.Alert,"errorColor",K(Bi,z.error.light,.6)),Ze(z.Alert,"infoColor",K(Bi,z.info.light,.6)),Ze(z.Alert,"successColor",K(Bi,z.success.light,.6)),Ze(z.Alert,"warningColor",K(Bi,z.warning.light,.6)),Ze(z.Alert,"errorFilledBg",V("palette-error-main")),Ze(z.Alert,"infoFilledBg",V("palette-info-main")),Ze(z.Alert,"successFilledBg",V("palette-success-main")),Ze(z.Alert,"warningFilledBg",V("palette-warning-main")),Ze(z.Alert,"errorFilledColor",af(()=>z.getContrastText(z.error.main))),Ze(z.Alert,"infoFilledColor",af(()=>z.getContrastText(z.info.main))),Ze(z.Alert,"successFilledColor",af(()=>z.getContrastText(z.success.main))),Ze(z.Alert,"warningFilledColor",af(()=>z.getContrastText(z.warning.main))),Ze(z.Alert,"errorStandardBg",K(Fi,z.error.light,.9)),Ze(z.Alert,"infoStandardBg",K(Fi,z.info.light,.9)),Ze(z.Alert,"successStandardBg",K(Fi,z.success.light,.9)),Ze(z.Alert,"warningStandardBg",K(Fi,z.warning.light,.9)),Ze(z.Alert,"errorIconColor",V("palette-error-main")),Ze(z.Alert,"infoIconColor",V("palette-info-main")),Ze(z.Alert,"successIconColor",V("palette-success-main")),Ze(z.Alert,"warningIconColor",V("palette-warning-main")),Ze(z.AppBar,"defaultBg",V("palette-grey-100")),Ze(z.Avatar,"defaultBg",V("palette-grey-400")),Ze(z.Button,"inheritContainedBg",V("palette-grey-300")),Ze(z.Button,"inheritContainedHoverBg",V("palette-grey-A100")),Ze(z.Chip,"defaultBorder",V("palette-grey-400")),Ze(z.Chip,"defaultAvatarColor",V("palette-grey-700")),Ze(z.Chip,"defaultIconColor",V("palette-grey-700")),Ze(z.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),Ze(z.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),Ze(z.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),Ze(z.LinearProgress,"primaryBg",K(Fi,z.primary.main,.62)),Ze(z.LinearProgress,"secondaryBg",K(Fi,z.secondary.main,.62)),Ze(z.LinearProgress,"errorBg",K(Fi,z.error.main,.62)),Ze(z.LinearProgress,"infoBg",K(Fi,z.info.main,.62)),Ze(z.LinearProgress,"successBg",K(Fi,z.success.main,.62)),Ze(z.LinearProgress,"warningBg",K(Fi,z.warning.main,.62)),Ze(z.Skeleton,"bg",A?K(hg,z.text.primary,.11):`rgba(${V("palette-text-primaryChannel")} / 0.11)`),Ze(z.Slider,"primaryTrack",K(Fi,z.primary.main,.62)),Ze(z.Slider,"secondaryTrack",K(Fi,z.secondary.main,.62)),Ze(z.Slider,"errorTrack",K(Fi,z.error.main,.62)),Ze(z.Slider,"infoTrack",K(Fi,z.info.main,.62)),Ze(z.Slider,"successTrack",K(Fi,z.success.main,.62)),Ze(z.Slider,"warningTrack",K(Fi,z.warning.main,.62));const J=A?K(Bi,z.background.default,.6825):hw(z.background.default,.8);Ze(z.SnackbarContent,"bg",J),Ze(z.SnackbarContent,"color",af(()=>A?NP.text.primary:z.getContrastText(J))),Ze(z.SpeedDialAction,"fabHoverBg",hw(z.background.paper,.15)),Ze(z.StepConnector,"border",V("palette-grey-400")),Ze(z.StepContent,"border",V("palette-grey-400")),Ze(z.Switch,"defaultColor",V("palette-common-white")),Ze(z.Switch,"defaultDisabledColor",V("palette-grey-100")),Ze(z.Switch,"primaryDisabledColor",K(Fi,z.primary.main,.62)),Ze(z.Switch,"secondaryDisabledColor",K(Fi,z.secondary.main,.62)),Ze(z.Switch,"errorDisabledColor",K(Fi,z.error.main,.62)),Ze(z.Switch,"infoDisabledColor",K(Fi,z.info.main,.62)),Ze(z.Switch,"successDisabledColor",K(Fi,z.success.main,.62)),Ze(z.Switch,"warningDisabledColor",K(Fi,z.warning.main,.62)),Ze(z.TableCell,"border",K(Fi,K(hg,z.divider,1),.88)),Ze(z.Tooltip,"bg",K(hg,z.grey[700],.92))}if(z.mode==="dark"){Ze(z.Alert,"errorColor",K(Fi,z.error.light,.6)),Ze(z.Alert,"infoColor",K(Fi,z.info.light,.6)),Ze(z.Alert,"successColor",K(Fi,z.success.light,.6)),Ze(z.Alert,"warningColor",K(Fi,z.warning.light,.6)),Ze(z.Alert,"errorFilledBg",V("palette-error-dark")),Ze(z.Alert,"infoFilledBg",V("palette-info-dark")),Ze(z.Alert,"successFilledBg",V("palette-success-dark")),Ze(z.Alert,"warningFilledBg",V("palette-warning-dark")),Ze(z.Alert,"errorFilledColor",af(()=>z.getContrastText(z.error.dark))),Ze(z.Alert,"infoFilledColor",af(()=>z.getContrastText(z.info.dark))),Ze(z.Alert,"successFilledColor",af(()=>z.getContrastText(z.success.dark))),Ze(z.Alert,"warningFilledColor",af(()=>z.getContrastText(z.warning.dark))),Ze(z.Alert,"errorStandardBg",K(Bi,z.error.light,.9)),Ze(z.Alert,"infoStandardBg",K(Bi,z.info.light,.9)),Ze(z.Alert,"successStandardBg",K(Bi,z.success.light,.9)),Ze(z.Alert,"warningStandardBg",K(Bi,z.warning.light,.9)),Ze(z.Alert,"errorIconColor",V("palette-error-main")),Ze(z.Alert,"infoIconColor",V("palette-info-main")),Ze(z.Alert,"successIconColor",V("palette-success-main")),Ze(z.Alert,"warningIconColor",V("palette-warning-main")),Ze(z.AppBar,"defaultBg",V("palette-grey-900")),Ze(z.AppBar,"darkBg",V("palette-background-paper")),Ze(z.AppBar,"darkColor",V("palette-text-primary")),Ze(z.Avatar,"defaultBg",V("palette-grey-600")),Ze(z.Button,"inheritContainedBg",V("palette-grey-800")),Ze(z.Button,"inheritContainedHoverBg",V("palette-grey-700")),Ze(z.Chip,"defaultBorder",V("palette-grey-700")),Ze(z.Chip,"defaultAvatarColor",V("palette-grey-300")),Ze(z.Chip,"defaultIconColor",V("palette-grey-300")),Ze(z.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),Ze(z.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),Ze(z.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),Ze(z.LinearProgress,"primaryBg",K(Bi,z.primary.main,.5)),Ze(z.LinearProgress,"secondaryBg",K(Bi,z.secondary.main,.5)),Ze(z.LinearProgress,"errorBg",K(Bi,z.error.main,.5)),Ze(z.LinearProgress,"infoBg",K(Bi,z.info.main,.5)),Ze(z.LinearProgress,"successBg",K(Bi,z.success.main,.5)),Ze(z.LinearProgress,"warningBg",K(Bi,z.warning.main,.5)),Ze(z.Skeleton,"bg",A?K(hg,z.text.primary,.13):`rgba(${V("palette-text-primaryChannel")} / 0.13)`),Ze(z.Slider,"primaryTrack",K(Bi,z.primary.main,.5)),Ze(z.Slider,"secondaryTrack",K(Bi,z.secondary.main,.5)),Ze(z.Slider,"errorTrack",K(Bi,z.error.main,.5)),Ze(z.Slider,"infoTrack",K(Bi,z.info.main,.5)),Ze(z.Slider,"successTrack",K(Bi,z.success.main,.5)),Ze(z.Slider,"warningTrack",K(Bi,z.warning.main,.5));const J=A?K(Fi,z.background.default,.985):hw(z.background.default,.98);Ze(z.SnackbarContent,"bg",J),Ze(z.SnackbarContent,"color",af(()=>A?zq.text.primary:z.getContrastText(J))),Ze(z.SpeedDialAction,"fabHoverBg",hw(z.background.paper,.15)),Ze(z.StepConnector,"border",V("palette-grey-600")),Ze(z.StepContent,"border",V("palette-grey-600")),Ze(z.Switch,"defaultColor",V("palette-grey-300")),Ze(z.Switch,"defaultDisabledColor",V("palette-grey-600")),Ze(z.Switch,"primaryDisabledColor",K(Bi,z.primary.main,.55)),Ze(z.Switch,"secondaryDisabledColor",K(Bi,z.secondary.main,.55)),Ze(z.Switch,"errorDisabledColor",K(Bi,z.error.main,.55)),Ze(z.Switch,"infoDisabledColor",K(Bi,z.info.main,.55)),Ze(z.Switch,"successDisabledColor",K(Bi,z.success.main,.55)),Ze(z.Switch,"warningDisabledColor",K(Bi,z.warning.main,.55)),Ze(z.TableCell,"border",K(Bi,K(hg,z.divider,1),.68)),Ze(z.Tooltip,"bg",K(hg,z.grey[700],.92))}Sh(z.background,"default"),Sh(z.background,"paper"),Sh(z.common,"background"),Sh(z.common,"onBackground"),Sh(z,"divider"),Object.keys(z).forEach(J=>{const q=z[J];J!=="tonalOffset"&&q&&typeof q=="object"&&(q.main&&Ze(z[J],"mainChannel",j1(G1(q.main))),q.light&&Ze(z[J],"lightChannel",j1(G1(q.light))),q.dark&&Ze(z[J],"darkChannel",j1(G1(q.dark))),q.contrastText&&Ze(z[J],"contrastTextChannel",j1(G1(q.contrastText))),J==="text"&&(Sh(z[J],"primary"),Sh(z[J],"secondary")),J==="action"&&(q.active&&Sh(z[J],"active"),q.selected&&Sh(z[J],"selected")))})}),L=e.reduce((F,z)=>aa(F,z),L);const I={prefix:s,disableCssColorScheme:r,shouldSkipGeneratingVar:o,getSelector:tve(L),enableContrastVars:a},{vars:D,generateThemeVars:P,generateStyleSheets:U}=iye(L,I);return L.vars=D,Object.entries(L.colorSchemes[L.defaultColorScheme]).forEach(([F,z])=>{L[F]=z}),L.generateThemeVars=P,L.generateStyleSheets=U,L.generateSpacing=function(){return Oq(h.spacing,AM(this))},L.getColorSchemeSelector=rye(l),L.spacing=L.generateSpacing(),L.shouldSkipGeneratingVar=o,L.unstable_sxConfig={...HS,...h==null?void 0:h.unstable_sxConfig},L.unstable_sx=function(z){return ry({sx:z,theme:this})},L.toRuntimeSource=Vq,L}function YB(n,e,t){n.colorSchemes&&t&&(n.colorSchemes[e]={...t!==!0&&t,palette:BL({...t===!0?{}:t.palette,mode:e})})}function Gq(n={},...e){const{palette:t,cssVariables:i=!1,colorSchemes:r=t?void 0:{light:!0},defaultColorScheme:s=t==null?void 0:t.mode,...a}=n,o=s||"light",l=r==null?void 0:r[o],u={...r,...t?{[o]:{...typeof l!="boolean"&&l,palette:t}}:void 0};if(i===!1){if(!("colorSchemes"in n))return LP(n,...e);let h=t;"palette"in n||u[o]&&(u[o]!==!0?h=u[o].palette:o==="dark"&&(h={mode:"dark"}));const p=LP({...n,palette:h},...e);return p.defaultColorScheme=o,p.colorSchemes=u,p.palette.mode==="light"&&(p.colorSchemes.light={...u.light!==!0&&u.light,palette:p.palette},YB(p,"dark",u.dark)),p.palette.mode==="dark"&&(p.colorSchemes.dark={...u.dark!==!0&&u.dark,palette:p.palette},YB(p,"light",u.light)),p}return!t&&!("light"in u)&&o==="light"&&(u.light=!0),sve({...a,colorSchemes:u,defaultColorScheme:o,...typeof i!="boolean"&&i},...e)}const FL=Gq(),FM="$$material";function cd(){const n=WS(FL);return n[FM]||n}function qq(n){return Z.jsx(Ige,{...n,defaultTheme:FL,themeId:FM})}function Wq(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const No=n=>Wq(n)&&n!=="classes",ht=Dq({themeId:FM,defaultTheme:FL,rootShouldForwardProp:No});function ave(n){return function(t){return Z.jsx(qq,{styles:typeof n=="function"?i=>n({theme:i,...t}):n})}}function ove(){return DM}const kn=Jge;function En(n){return Kge(n)}function lve(n){return yn("MuiSvgIcon",n)}vn("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const cve=n=>{const{color:e,fontSize:t,classes:i}=n,r={root:["root",e!=="inherit"&&`color${yt(e)}`,`fontSize${yt(t)}`]};return gn(r,lve,i)},uve=ht("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${yt(t.color)}`],e[`fontSize${yt(t.fontSize)}`]]}})(kn(({theme:n})=>{var e,t,i,r,s,a,o,l,u,h,p,y,v,_;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(r=(e=n.transitions)==null?void 0:e.create)==null?void 0:r.call(e,"fill",{duration:(i=(t=(n.vars??n).transitions)==null?void 0:t.duration)==null?void 0:i.shorter}),variants:[{props:x=>!x.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((a=(s=n.typography)==null?void 0:s.pxToRem)==null?void 0:a.call(s,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((l=(o=n.typography)==null?void 0:o.pxToRem)==null?void 0:l.call(o,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((h=(u=n.typography)==null?void 0:u.pxToRem)==null?void 0:h.call(u,35))||"2.1875rem"}},...Object.entries((n.vars??n).palette).filter(([,x])=>x&&x.main).map(([x])=>{var E,S;return{props:{color:x},style:{color:(S=(E=(n.vars??n).palette)==null?void 0:E[x])==null?void 0:S.main}}}),{props:{color:"action"},style:{color:(y=(p=(n.vars??n).palette)==null?void 0:p.action)==null?void 0:y.active}},{props:{color:"disabled"},style:{color:(_=(v=(n.vars??n).palette)==null?void 0:v.action)==null?void 0:_.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),kP=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiSvgIcon"}),{children:r,className:s,color:a="inherit",component:o="svg",fontSize:l="medium",htmlColor:u,inheritViewBox:h=!1,titleAccess:p,viewBox:y="0 0 24 24",...v}=i,_=H.isValidElement(r)&&r.type==="svg",x={...i,color:a,component:o,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:h,viewBox:y,hasSvgAsChild:_},E={};h||(E.viewBox=y);const S=cve(x);return Z.jsxs(uve,{as:o,className:Pt(S.root,s),focusable:"false",color:u,"aria-hidden":p?void 0:!0,role:p?"img":void 0,ref:t,...E,...v,..._&&r.props,ownerState:x,children:[_?r.props.children:r,p?Z.jsx("title",{children:p}):null]})});kP.muiName="SvgIcon";function Hr(n,e){function t(i,r){return Z.jsx(kP,{"data-testid":void 0,ref:r,...i,children:n})}return t.muiName=kP.muiName,H.memo(H.forwardRef(t))}function YS(n,e=166){let t;function i(...r){const s=()=>{n.apply(this,r)};clearTimeout(t),t=setTimeout(s,e)}return i.clear=()=>{clearTimeout(t)},i}function Aa(n){return n&&n.ownerDocument||document}function Hl(n){return Aa(n).defaultView||window}function KB(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function WC(n){const{controlled:e,default:t,name:i,state:r="value"}=n,{current:s}=H.useRef(e!==void 0),[a,o]=H.useState(t),l=s?e:a,u=H.useCallback(h=>{s||o(h)},[]);return[l,u]}function zl(n){const e=H.useRef(n);return Tu(()=>{e.current=n}),H.useRef((...t)=>(0,e.current)(...t)).current}function Vr(...n){const e=H.useRef(void 0),t=H.useCallback(i=>{const r=n.map(s=>{if(s==null)return null;if(typeof s=="function"){const a=s,o=a(i);return typeof o=="function"?o:()=>{a(null)}}return s.current=i,()=>{s.current=null}});return()=>{r.forEach(s=>s==null?void 0:s())}},n);return H.useMemo(()=>n.every(i=>i==null)?null:i=>{e.current&&(e.current(),e.current=void 0),i!=null&&(e.current=t(i))},n)}function fve(n,e){const t=n.charCodeAt(2);return n[0]==="o"&&n[1]==="n"&&t>=65&&t<=90&&typeof e=="function"}function $q(n,e){if(!n)return e;function t(a,o){const l={};return Object.keys(o).forEach(u=>{fve(u,o[u])&&typeof a[u]=="function"&&(l[u]=(...h)=>{a[u](...h),o[u](...h)})}),l}if(typeof n=="function"||typeof e=="function")return a=>{const o=typeof e=="function"?e(a):e,l=typeof n=="function"?n({...a,...o}):n,u=Pt(a==null?void 0:a.className,o==null?void 0:o.className,l==null?void 0:l.className),h=t(l,o);return{...o,...l,...h,...!!u&&{className:u},...(o==null?void 0:o.style)&&(l==null?void 0:l.style)&&{style:{...o.style,...l.style}},...(o==null?void 0:o.sx)&&(l==null?void 0:l.sx)&&{sx:[...Array.isArray(o.sx)?o.sx:[o.sx],...Array.isArray(l.sx)?l.sx:[l.sx]]}}};const i=e,r=t(n,i),s=Pt(i==null?void 0:i.className,n==null?void 0:n.className);return{...e,...n,...r,...!!s&&{className:s},...(i==null?void 0:i.style)&&(n==null?void 0:n.style)&&{style:{...i.style,...n.style}},...(i==null?void 0:i.sx)&&(n==null?void 0:n.sx)&&{sx:[...Array.isArray(i.sx)?i.sx:[i.sx],...Array.isArray(n.sx)?n.sx:[n.sx]]}}}const hve=Hr(Z.jsx("path",{d:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"}));function Xq(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function zP(n,e){return zP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},zP(n,e)}function Yq(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,zP(n,e)}const ZB={disabled:!1},$C=lr.createContext(null);var dve=function(e){return e.scrollTop},q1="unmounted",Eg="exited",Tg="entering",o0="entered",BP="exiting",Nc=(function(n){Yq(e,n);function e(i,r){var s;s=n.call(this,i,r)||this;var a=r,o=a&&!a.isMounting?i.enter:i.appear,l;return s.appearStatus=null,i.in?o?(l=Eg,s.appearStatus=Tg):l=o0:i.unmountOnExit||i.mountOnEnter?l=q1:l=Eg,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(r,s){var a=r.in;return a&&s.status===q1?{status:Eg}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(r){var s=null;if(r!==this.props){var a=this.state.status;this.props.in?a!==Tg&&a!==o0&&(s=Tg):(a===Tg||a===o0)&&(s=BP)}this.updateStatus(!1,s)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var r=this.props.timeout,s,a,o;return s=a=o=r,r!=null&&typeof r!="number"&&(s=r.exit,a=r.enter,o=r.appear!==void 0?r.appear:a),{exit:s,enter:a,appear:o}},t.updateStatus=function(r,s){if(r===void 0&&(r=!1),s!==null)if(this.cancelNextCallback(),s===Tg){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:cT.findDOMNode(this);a&&dve(a)}this.performEnter(r)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Eg&&this.setState({status:q1})},t.performEnter=function(r){var s=this,a=this.props.enter,o=this.context?this.context.isMounting:r,l=this.props.nodeRef?[o]:[cT.findDOMNode(this),o],u=l[0],h=l[1],p=this.getTimeouts(),y=o?p.appear:p.enter;if(!r&&!a||ZB.disabled){this.safeSetState({status:o0},function(){s.props.onEntered(u)});return}this.props.onEnter(u,h),this.safeSetState({status:Tg},function(){s.props.onEntering(u,h),s.onTransitionEnd(y,function(){s.safeSetState({status:o0},function(){s.props.onEntered(u,h)})})})},t.performExit=function(){var r=this,s=this.props.exit,a=this.getTimeouts(),o=this.props.nodeRef?void 0:cT.findDOMNode(this);if(!s||ZB.disabled){this.safeSetState({status:Eg},function(){r.props.onExited(o)});return}this.props.onExit(o),this.safeSetState({status:BP},function(){r.props.onExiting(o),r.onTransitionEnd(a.exit,function(){r.safeSetState({status:Eg},function(){r.props.onExited(o)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(r,s){s=this.setNextCallback(s),this.setState(r,s)},t.setNextCallback=function(r){var s=this,a=!0;return this.nextCallback=function(o){a&&(a=!1,s.nextCallback=null,r(o))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},t.onTransitionEnd=function(r,s){this.setNextCallback(s);var a=this.props.nodeRef?this.props.nodeRef.current:cT.findDOMNode(this),o=r==null&&!this.props.addEndListener;if(!a||o){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],u=l[0],h=l[1];this.props.addEndListener(u,h)}r!=null&&setTimeout(this.nextCallback,r)},t.render=function(){var r=this.state.status;if(r===q1)return null;var s=this.props,a=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var o=Xq(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return lr.createElement($C.Provider,{value:null},typeof a=="function"?a(r,o):lr.cloneElement(lr.Children.only(a),o))},e})(lr.Component);Nc.contextType=$C;Nc.propTypes={};function Fv(){}Nc.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Fv,onEntering:Fv,onEntered:Fv,onExit:Fv,onExiting:Fv,onExited:Fv};Nc.UNMOUNTED=q1;Nc.EXITED=Eg;Nc.ENTERING=Tg;Nc.ENTERED=o0;Nc.EXITING=BP;function pve(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function VL(n,e){var t=function(s){return e&&H.isValidElement(s)?e(s):s},i=Object.create(null);return n&&H.Children.map(n,function(r){return r}).forEach(function(r){i[r.key]=t(r)}),i}function mve(n,e){n=n||{},e=e||{};function t(h){return h in e?e[h]:n[h]}var i=Object.create(null),r=[];for(var s in n)s in e?r.length&&(i[s]=r,r=[]):r.push(s);var a,o={};for(var l in e){if(i[l])for(a=0;a<i[l].length;a++){var u=i[l][a];o[i[l][a]]=t(u)}o[l]=t(l)}for(a=0;a<r.length;a++)o[r[a]]=t(r[a]);return o}function Ug(n,e,t){return t[e]!=null?t[e]:n.props[e]}function gve(n,e){return VL(n.children,function(t){return H.cloneElement(t,{onExited:e.bind(null,t),in:!0,appear:Ug(t,"appear",n),enter:Ug(t,"enter",n),exit:Ug(t,"exit",n)})})}function yve(n,e,t){var i=VL(n.children),r=mve(e,i);return Object.keys(r).forEach(function(s){var a=r[s];if(H.isValidElement(a)){var o=s in e,l=s in i,u=e[s],h=H.isValidElement(u)&&!u.props.in;l&&(!o||h)?r[s]=H.cloneElement(a,{onExited:t.bind(null,a),in:!0,exit:Ug(a,"exit",n),enter:Ug(a,"enter",n)}):!l&&o&&!h?r[s]=H.cloneElement(a,{in:!1}):l&&o&&H.isValidElement(u)&&(r[s]=H.cloneElement(a,{onExited:t.bind(null,a),in:u.props.in,exit:Ug(a,"exit",n),enter:Ug(a,"enter",n)}))}}),r}var vve=Object.values||function(n){return Object.keys(n).map(function(e){return n[e]})},_ve={component:"div",childFactory:function(e){return e}},HL=(function(n){Yq(e,n);function e(i,r){var s;s=n.call(this,i,r)||this;var a=s.handleExited.bind(pve(s));return s.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},s}var t=e.prototype;return t.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},t.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(r,s){var a=s.children,o=s.handleExited,l=s.firstRender;return{children:l?gve(r,o):yve(r,a,o),firstRender:!1}},t.handleExited=function(r,s){var a=VL(this.props.children);r.key in a||(r.props.onExited&&r.props.onExited(s),this.mounted&&this.setState(function(o){var l=el({},o.children);return delete l[r.key],{children:l}}))},t.render=function(){var r=this.props,s=r.component,a=r.childFactory,o=Xq(r,["component","childFactory"]),l=this.state.contextValue,u=vve(this.state.children).map(a);return delete o.appear,delete o.enter,delete o.exit,s===null?lr.createElement($C.Provider,{value:l},u):lr.createElement($C.Provider,{value:l},lr.createElement(s,o,u))},e})(lr.Component);HL.propTypes={};HL.defaultProps=_ve;const QB={};function Kq(n,e){const t=H.useRef(QB);return t.current===QB&&(t.current=n(e)),t}const bve=[];function xve(n){H.useEffect(n,bve)}class VM{constructor(){Ct(this,"currentId",null);Ct(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});Ct(this,"disposeEffect",()=>this.clear)}static create(){return new VM}start(e,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},e)}}function kg(){const n=Kq(VM.create).current;return xve(n.disposeEffect),n}const jL=n=>n.scrollTop;function Kp(n,e){const{timeout:t,easing:i,style:r={}}=n;return{duration:r.transitionDuration??(typeof t=="number"?t:t[e.mode]||0),easing:r.transitionTimingFunction??(typeof i=="object"?i[e.mode]:i),delay:r.transitionDelay}}function r_(n){return typeof n=="string"}function Zq(n,e,t){return n===void 0||r_(n)?e:{...e,ownerState:{...e.ownerState,...t}}}function Qq(n,e,t){return typeof n=="function"?n(e,t):n}function Jq(n,e=[]){if(n===void 0)return{};const t={};return Object.keys(n).filter(i=>i.match(/^on[A-Z]/)&&typeof n[i]=="function"&&!e.includes(i)).forEach(i=>{t[i]=n[i]}),t}function JB(n){if(n===void 0)return{};const e={};return Object.keys(n).filter(t=>!(t.match(/^on[A-Z]/)&&typeof n[t]=="function")).forEach(t=>{e[t]=n[t]}),e}function eW(n){const{getSlotProps:e,additionalProps:t,externalSlotProps:i,externalForwardedProps:r,className:s}=n;if(!e){const v=Pt(t==null?void 0:t.className,s,r==null?void 0:r.className,i==null?void 0:i.className),_={...t==null?void 0:t.style,...r==null?void 0:r.style,...i==null?void 0:i.style},x={...t,...r,...i};return v.length>0&&(x.className=v),Object.keys(_).length>0&&(x.style=_),{props:x,internalRef:void 0}}const a=Jq({...r,...i}),o=JB(i),l=JB(r),u=e(a),h=Pt(u==null?void 0:u.className,t==null?void 0:t.className,s,r==null?void 0:r.className,i==null?void 0:i.className),p={...u==null?void 0:u.style,...t==null?void 0:t.style,...r==null?void 0:r.style,...i==null?void 0:i.style},y={...u,...t,...l,...o};return h.length>0&&(y.className=h),Object.keys(p).length>0&&(y.style=p),{props:y,internalRef:u.ref}}function rn(n,e){const{className:t,elementType:i,ownerState:r,externalForwardedProps:s,internalForwardedProps:a,shouldForwardComponentProp:o=!1,...l}=e,{component:u,slots:h={[n]:void 0},slotProps:p={[n]:void 0},...y}=s,v=h[n]||i,_=Qq(p[n],r),{props:{component:x,...E},internalRef:S}=eW({className:t,...l,externalForwardedProps:n==="root"?y:void 0,externalSlotProps:_}),w=Vr(S,_==null?void 0:_.ref,e.ref),C=n==="root"?x||u:x,A=Zq(v,{...n==="root"&&!u&&!h[n]&&a,...n!=="root"&&!h[n]&&a,...E,...C&&!o&&{as:C},...C&&o&&{component:C},ref:w},r);return[v,A]}function Sve(n){return yn("MuiCollapse",n)}vn("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const Eve=n=>{const{orientation:e,classes:t}=n,i={root:["root",`${e}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${e}`],wrapperInner:["wrapperInner",`${e}`]};return gn(i,Sve,t)},Tve=ht("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.orientation],t.state==="entered"&&e.entered,t.state==="exited"&&!t.in&&t.collapsedSize==="0px"&&e.hidden]}})(kn(({theme:n})=>({height:0,overflow:"hidden",transition:n.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:n.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:({ownerState:e})=>e.state==="exited"&&!e.in&&e.collapsedSize==="0px",style:{visibility:"hidden"}}]}))),wve=ht("div",{name:"MuiCollapse",slot:"Wrapper"})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),Cve=ht("div",{name:"MuiCollapse",slot:"WrapperInner"})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),XC=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiCollapse"}),{addEndListener:r,children:s,className:a,collapsedSize:o="0px",component:l,easing:u,in:h,onEnter:p,onEntered:y,onEntering:v,onExit:_,onExited:x,onExiting:E,orientation:S="vertical",slots:w={},slotProps:C={},style:A,timeout:N=Fq.standard,TransitionComponent:L=Nc,...I}=i,D={...i,orientation:S,collapsedSize:o},P=Eve(D),U=cd(),F=kg(),z=H.useRef(null),V=H.useRef(),K=typeof o=="number"?`${o}px`:o,J=S==="horizontal",q=J?"width":"height",W=H.useRef(null),Q=Vr(t,W),re=Ie=>Ve=>{if(Ie){const Ue=W.current;Ve===void 0?Ie(Ue):Ie(Ue,Ve)}},pe=()=>z.current?z.current[J?"clientWidth":"clientHeight"]:0,Y=re((Ie,Ve)=>{z.current&&J&&(z.current.style.position="absolute"),Ie.style[q]=K,p&&p(Ie,Ve)}),le=re((Ie,Ve)=>{const Ue=pe();z.current&&J&&(z.current.style.position="");const{duration:Re,easing:ut}=Kp({style:A,timeout:N,easing:u},{mode:"enter"});if(N==="auto"){const We=U.transitions.getAutoHeightDuration(Ue);Ie.style.transitionDuration=`${We}ms`,V.current=We}else Ie.style.transitionDuration=typeof Re=="string"?Re:`${Re}ms`;Ie.style[q]=`${Ue}px`,Ie.style.transitionTimingFunction=ut,v&&v(Ie,Ve)}),de=re((Ie,Ve)=>{Ie.style[q]="auto",y&&y(Ie,Ve)}),ue=re(Ie=>{Ie.style[q]=`${pe()}px`,_&&_(Ie)}),ne=re(x),he=re(Ie=>{const Ve=pe(),{duration:Ue,easing:Re}=Kp({style:A,timeout:N,easing:u},{mode:"exit"});if(N==="auto"){const ut=U.transitions.getAutoHeightDuration(Ve);Ie.style.transitionDuration=`${ut}ms`,V.current=ut}else Ie.style.transitionDuration=typeof Ue=="string"?Ue:`${Ue}ms`;Ie.style[q]=K,Ie.style.transitionTimingFunction=Re,E&&E(Ie)}),me=Ie=>{N==="auto"&&F.start(V.current||0,Ie),r&&r(W.current,Ie)},Le={slots:w,slotProps:C,component:l},[Ye,je]=rn("root",{ref:Q,className:Pt(P.root,a),elementType:Tve,externalForwardedProps:Le,ownerState:D,additionalProps:{style:{[J?"minWidth":"minHeight"]:K,...A}}}),[rt,ot]=rn("wrapper",{ref:z,className:P.wrapper,elementType:wve,externalForwardedProps:Le,ownerState:D}),[dt,te]=rn("wrapperInner",{className:P.wrapperInner,elementType:Cve,externalForwardedProps:Le,ownerState:D});return Z.jsx(L,{in:h,onEnter:Y,onEntered:de,onEntering:le,onExit:ue,onExited:ne,onExiting:he,addEndListener:me,nodeRef:W,timeout:N==="auto"?null:N,...I,children:(Ie,{ownerState:Ve,...Ue})=>{const Re={...D,state:Ie};return Z.jsx(Ye,{...je,className:Pt(je.className,{entered:P.entered,exited:!h&&K==="0px"&&P.hidden}[Ie]),ownerState:Re,...Ue,children:Z.jsx(rt,{...ot,ownerState:Re,children:Z.jsx(dt,{...te,ownerState:Re,children:s})})})}})});XC&&(XC.muiSupportAuto=!0);function Ave(n){return yn("MuiPaper",n)}vn("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const Mve=n=>{const{square:e,elevation:t,variant:i,classes:r}=n,s={root:["root",i,!e&&"rounded",i==="elevation"&&`elevation${t}`]};return gn(s,Ave,r)},Rve=ht("div",{name:"MuiPaper",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],!t.square&&e.rounded,t.variant==="elevation"&&e[`elevation${t.elevation}`]]}})(kn(({theme:n})=>({backgroundColor:(n.vars||n).palette.background.paper,color:(n.vars||n).palette.text.primary,transition:n.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:n.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(n.vars||n).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),KS=H.forwardRef(function(e,t){var v;const i=En({props:e,name:"MuiPaper"}),r=cd(),{className:s,component:a="div",elevation:o=1,square:l=!1,variant:u="elevation",...h}=i,p={...i,component:a,elevation:o,square:l,variant:u},y=Mve(p);return Z.jsx(Rve,{as:a,ownerState:p,className:Pt(y.root,s),ref:t,...h,style:{...u==="elevation"&&{"--Paper-shadow":(r.vars||r).shadows[o],...r.vars&&{"--Paper-overlay":(v=r.vars.overlays)==null?void 0:v[o]},...!r.vars&&r.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${GC("#fff",UP(o))}, ${GC("#fff",UP(o))})`}},...h.style}})});function YC(n){try{return n.matches(":focus-visible")}catch{}return!1}class KC{constructor(){Ct(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new KC}static use(){const e=Kq(KC.create).current,[t,i]=H.useState(!1);return e.shouldMount=t,e.setShouldMount=i,H.useEffect(e.mountEffect,[t]),e}mount(){return this.mounted||(this.mounted=Ive(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...e){this.mount().then(()=>{var t;return(t=this.ref.current)==null?void 0:t.start(...e)})}stop(...e){this.mount().then(()=>{var t;return(t=this.ref.current)==null?void 0:t.stop(...e)})}pulsate(...e){this.mount().then(()=>{var t;return(t=this.ref.current)==null?void 0:t.pulsate(...e)})}}function Ove(){return KC.use()}function Ive(){let n,e;const t=new Promise((i,r)=>{n=i,e=r});return t.resolve=n,t.reject=e,t}function Pve(n){const{className:e,classes:t,pulsate:i=!1,rippleX:r,rippleY:s,rippleSize:a,in:o,onExited:l,timeout:u}=n,[h,p]=H.useState(!1),y=Pt(e,t.ripple,t.rippleVisible,i&&t.ripplePulsate),v={width:a,height:a,top:-(a/2)+s,left:-(a/2)+r},_=Pt(t.child,h&&t.childLeaving,i&&t.childPulsate);return!o&&!h&&p(!0),H.useEffect(()=>{if(!o&&l!=null){const x=setTimeout(l,u);return()=>{clearTimeout(x)}}},[l,o,u]),Z.jsx("span",{className:y,style:v,children:Z.jsx("span",{className:_})})}const _c=vn("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),FP=550,Dve=80,Nve=qS`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,Lve=qS`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,Uve=qS`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,kve=ht("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),zve=ht(Pve,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${_c.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${Nve};
    animation-duration: ${FP}ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
  }

  &.${_c.ripplePulsate} {
    animation-duration: ${({theme:n})=>n.transitions.duration.shorter}ms;
  }

  & .${_c.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${_c.childLeaving} {
    opacity: 0;
    animation-name: ${Lve};
    animation-duration: ${FP}ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
  }

  & .${_c.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${Uve};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,Bve=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiTouchRipple"}),{center:r=!1,classes:s={},className:a,...o}=i,[l,u]=H.useState([]),h=H.useRef(0),p=H.useRef(null);H.useEffect(()=>{p.current&&(p.current(),p.current=null)},[l]);const y=H.useRef(!1),v=kg(),_=H.useRef(null),x=H.useRef(null),E=H.useCallback(A=>{const{pulsate:N,rippleX:L,rippleY:I,rippleSize:D,cb:P}=A;u(U=>[...U,Z.jsx(zve,{classes:{ripple:Pt(s.ripple,_c.ripple),rippleVisible:Pt(s.rippleVisible,_c.rippleVisible),ripplePulsate:Pt(s.ripplePulsate,_c.ripplePulsate),child:Pt(s.child,_c.child),childLeaving:Pt(s.childLeaving,_c.childLeaving),childPulsate:Pt(s.childPulsate,_c.childPulsate)},timeout:FP,pulsate:N,rippleX:L,rippleY:I,rippleSize:D},h.current)]),h.current+=1,p.current=P},[s]),S=H.useCallback((A={},N={},L=()=>{})=>{const{pulsate:I=!1,center:D=r||N.pulsate,fakeElement:P=!1}=N;if((A==null?void 0:A.type)==="mousedown"&&y.current){y.current=!1;return}(A==null?void 0:A.type)==="touchstart"&&(y.current=!0);const U=P?null:x.current,F=U?U.getBoundingClientRect():{width:0,height:0,left:0,top:0};let z,V,K;if(D||A===void 0||A.clientX===0&&A.clientY===0||!A.clientX&&!A.touches)z=Math.round(F.width/2),V=Math.round(F.height/2);else{const{clientX:J,clientY:q}=A.touches&&A.touches.length>0?A.touches[0]:A;z=Math.round(J-F.left),V=Math.round(q-F.top)}if(D)K=Math.sqrt((2*F.width**2+F.height**2)/3),K%2===0&&(K+=1);else{const J=Math.max(Math.abs((U?U.clientWidth:0)-z),z)*2+2,q=Math.max(Math.abs((U?U.clientHeight:0)-V),V)*2+2;K=Math.sqrt(J**2+q**2)}A!=null&&A.touches?_.current===null&&(_.current=()=>{E({pulsate:I,rippleX:z,rippleY:V,rippleSize:K,cb:L})},v.start(Dve,()=>{_.current&&(_.current(),_.current=null)})):E({pulsate:I,rippleX:z,rippleY:V,rippleSize:K,cb:L})},[r,E,v]),w=H.useCallback(()=>{S({},{pulsate:!0})},[S]),C=H.useCallback((A,N)=>{if(v.clear(),(A==null?void 0:A.type)==="touchend"&&_.current){_.current(),_.current=null,v.start(0,()=>{C(A,N)});return}_.current=null,u(L=>L.length>0?L.slice(1):L),p.current=N},[v]);return H.useImperativeHandle(t,()=>({pulsate:w,start:S,stop:C}),[w,S,C]),Z.jsx(kve,{className:Pt(_c.root,s.root,a),ref:x,...o,children:Z.jsx(HL,{component:null,exit:!0,children:l})})});function Fve(n){return yn("MuiButtonBase",n)}const Vve=vn("MuiButtonBase",["root","disabled","focusVisible"]),Hve=n=>{const{disabled:e,focusVisible:t,focusVisibleClassName:i,classes:r}=n,a=gn({root:["root",e&&"disabled",t&&"focusVisible"]},Fve,r);return t&&i&&(a.root+=` ${i}`),a},jve=ht("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Vve.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Zp=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiButtonBase"}),{action:r,centerRipple:s=!1,children:a,className:o,component:l="button",disabled:u=!1,disableRipple:h=!1,disableTouchRipple:p=!1,focusRipple:y=!1,focusVisibleClassName:v,LinkComponent:_="a",onBlur:x,onClick:E,onContextMenu:S,onDragLeave:w,onFocus:C,onFocusVisible:A,onKeyDown:N,onKeyUp:L,onMouseDown:I,onMouseLeave:D,onMouseUp:P,onTouchEnd:U,onTouchMove:F,onTouchStart:z,tabIndex:V=0,TouchRippleProps:K,touchRippleRef:J,type:q,...W}=i,Q=H.useRef(null),re=Ove(),pe=Vr(re.ref,J),[Y,le]=H.useState(!1);u&&Y&&le(!1),H.useImperativeHandle(r,()=>({focusVisible:()=>{le(!0),Q.current.focus()}}),[]);const de=re.shouldMount&&!h&&!u;H.useEffect(()=>{Y&&y&&!h&&re.pulsate()},[h,y,Y,re]);const ue=Eh(re,"start",I,p),ne=Eh(re,"stop",S,p),he=Eh(re,"stop",w,p),me=Eh(re,"stop",P,p),Le=Eh(re,"stop",ee=>{Y&&ee.preventDefault(),D&&D(ee)},p),Ye=Eh(re,"start",z,p),je=Eh(re,"stop",U,p),rt=Eh(re,"stop",F,p),ot=Eh(re,"stop",ee=>{YC(ee.target)||le(!1),x&&x(ee)},!1),dt=zl(ee=>{Q.current||(Q.current=ee.currentTarget),YC(ee.target)&&(le(!0),A&&A(ee)),C&&C(ee)}),te=()=>{const ee=Q.current;return l&&l!=="button"&&!(ee.tagName==="A"&&ee.href)},Ie=zl(ee=>{y&&!ee.repeat&&Y&&ee.key===" "&&re.stop(ee,()=>{re.start(ee)}),ee.target===ee.currentTarget&&te()&&ee.key===" "&&ee.preventDefault(),N&&N(ee),ee.target===ee.currentTarget&&te()&&ee.key==="Enter"&&!u&&(ee.preventDefault(),E&&E(ee))}),Ve=zl(ee=>{y&&ee.key===" "&&Y&&!ee.defaultPrevented&&re.stop(ee,()=>{re.pulsate(ee)}),L&&L(ee),E&&ee.target===ee.currentTarget&&te()&&ee.key===" "&&!ee.defaultPrevented&&E(ee)});let Ue=l;Ue==="button"&&(W.href||W.to)&&(Ue=_);const Re={};if(Ue==="button"){const ee=!!W.formAction;Re.type=q===void 0&&!ee?"button":q,Re.disabled=u}else!W.href&&!W.to&&(Re.role="button"),u&&(Re["aria-disabled"]=u);const ut=Vr(t,Q),We={...i,centerRipple:s,component:l,disabled:u,disableRipple:h,disableTouchRipple:p,focusRipple:y,tabIndex:V,focusVisible:Y},ae=Hve(We);return Z.jsxs(jve,{as:Ue,className:Pt(ae.root,o),ownerState:We,onBlur:ot,onClick:E,onContextMenu:ne,onFocus:dt,onKeyDown:Ie,onKeyUp:Ve,onMouseDown:ue,onMouseLeave:Le,onMouseUp:me,onDragLeave:he,onTouchEnd:je,onTouchMove:rt,onTouchStart:Ye,ref:ut,tabIndex:u?-1:V,type:q,...Re,...W,children:[a,de?Z.jsx(Bve,{ref:pe,center:s,...K}):null]})});function Eh(n,e,t,i=!1){return zl(r=>(t&&t(r),i||n[e](r),!0))}function Gve(n){return typeof n.main=="string"}function qve(n,e=[]){if(!Gve(n))return!1;for(const t of e)if(!n.hasOwnProperty(t)||typeof n[t]!="string")return!1;return!0}function ia(n=[]){return([,e])=>e&&qve(e,n)}function Wve(n){return yn("MuiAlert",n)}const e6=vn("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function $ve(n){return yn("MuiCircularProgress",n)}vn("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","track","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const cu=44,VP=qS`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,HP=qS`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,Xve=typeof VP!="string"?kL`
        animation: ${VP} 1.4s linear infinite;
      `:null,Yve=typeof HP!="string"?kL`
        animation: ${HP} 1.4s ease-in-out infinite;
      `:null,Kve=n=>{const{classes:e,variant:t,color:i,disableShrink:r}=n,s={root:["root",t,`color${yt(i)}`],svg:["svg"],track:["track"],circle:["circle",`circle${yt(t)}`,r&&"circleDisableShrink"]};return gn(s,$ve,e)},Zve=ht("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],e[`color${yt(t.color)}`]]}})(kn(({theme:n})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:n.transitions.create("transform")}},{props:{variant:"indeterminate"},style:Xve||{animation:`${VP} 1.4s linear infinite`}},...Object.entries(n.palette).filter(ia()).map(([e])=>({props:{color:e},style:{color:(n.vars||n).palette[e].main}}))]}))),Qve=ht("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),Jve=ht("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.circle,e[`circle${yt(t.variant)}`],t.disableShrink&&e.circleDisableShrink]}})(kn(({theme:n})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:n.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:Yve||{animation:`${HP} 1.4s ease-in-out infinite`}}]}))),e0e=ht("circle",{name:"MuiCircularProgress",slot:"Track"})(kn(({theme:n})=>({stroke:"currentColor",opacity:(n.vars||n).palette.action.activatedOpacity}))),tW=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiCircularProgress"}),{className:r,color:s="primary",disableShrink:a=!1,enableTrackSlot:o=!1,size:l=40,style:u,thickness:h=3.6,value:p=0,variant:y="indeterminate",...v}=i,_={...i,color:s,disableShrink:a,size:l,thickness:h,value:p,variant:y,enableTrackSlot:o},x=Kve(_),E={},S={},w={};if(y==="determinate"){const C=2*Math.PI*((cu-h)/2);E.strokeDasharray=C.toFixed(3),w["aria-valuenow"]=Math.round(p),E.strokeDashoffset=`${((100-p)/100*C).toFixed(3)}px`,S.transform="rotate(-90deg)"}return Z.jsx(Zve,{className:Pt(x.root,r),style:{width:l,height:l,...S,...u},ownerState:_,ref:t,role:"progressbar",...w,...v,children:Z.jsxs(Qve,{className:x.svg,ownerState:_,viewBox:`${cu/2} ${cu/2} ${cu} ${cu}`,children:[o?Z.jsx(e0e,{className:x.track,ownerState:_,cx:cu,cy:cu,r:(cu-h)/2,fill:"none",strokeWidth:h,"aria-hidden":"true"}):null,Z.jsx(Jve,{className:x.circle,style:E,ownerState:_,cx:cu,cy:cu,r:(cu-h)/2,fill:"none",strokeWidth:h})]})})});function t0e(n){return yn("MuiIconButton",n)}const t6=vn("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),n0e=n=>{const{classes:e,disabled:t,color:i,edge:r,size:s,loading:a}=n,o={root:["root",a&&"loading",t&&"disabled",i!=="default"&&`color${yt(i)}`,r&&`edge${yt(r)}`,`size${yt(s)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return gn(o,t0e,e)},i0e=ht(Zp,{name:"MuiIconButton",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.loading&&e.loading,t.color!=="default"&&e[`color${yt(t.color)}`],t.edge&&e[`edge${yt(t.edge)}`],e[`size${yt(t.size)}`]]}})(kn(({theme:n})=>({textAlign:"center",flex:"0 0 auto",fontSize:n.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(n.vars||n).palette.action.active,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":n.alpha((n.vars||n).palette.action.active,(n.vars||n).palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),kn(({theme:n})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(n.palette).filter(ia()).map(([e])=>({props:{color:e},style:{color:(n.vars||n).palette[e].main}})),...Object.entries(n.palette).filter(ia()).map(([e])=>({props:{color:e},style:{"--IconButton-hoverBg":n.alpha((n.vars||n).palette[e].main,(n.vars||n).palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:n.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:n.typography.pxToRem(28)}}],[`&.${t6.disabled}`]:{backgroundColor:"transparent",color:(n.vars||n).palette.action.disabled},[`&.${t6.loading}`]:{color:"transparent"}}))),r0e=ht("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(({theme:n})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(n.vars||n).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),GL=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiIconButton"}),{edge:r=!1,children:s,className:a,color:o="default",disabled:l=!1,disableFocusRipple:u=!1,size:h="medium",id:p,loading:y=null,loadingIndicator:v,..._}=i,x=L_(p),E=v??Z.jsx(tW,{"aria-labelledby":x,color:"inherit",size:16}),S={...i,edge:r,color:o,disabled:l,disableFocusRipple:u,loading:y,loadingIndicator:E,size:h},w=n0e(S);return Z.jsxs(i0e,{id:y?x:p,className:Pt(w.root,a),centerRipple:!0,focusRipple:!u,disabled:l||y,ref:t,..._,ownerState:S,children:[typeof y=="boolean"&&Z.jsx("span",{className:w.loadingWrapper,style:{display:"contents"},children:Z.jsx(r0e,{className:w.loadingIndicator,ownerState:S,children:y&&E})}),s]})}),s0e=Hr(Z.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"})),a0e=Hr(Z.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"})),o0e=Hr(Z.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})),l0e=Hr(Z.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"})),c0e=Hr(Z.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),u0e=n=>{const{variant:e,color:t,severity:i,classes:r}=n,s={root:["root",`color${yt(t||i)}`,`${e}${yt(t||i)}`,`${e}`],icon:["icon"],message:["message"],action:["action"]};return gn(s,Wve,r)},f0e=ht(KS,{name:"MuiAlert",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],e[`${t.variant}${yt(t.color||t.severity)}`]]}})(kn(({theme:n})=>{const e=n.palette.mode==="light"?n.darken:n.lighten,t=n.palette.mode==="light"?n.lighten:n.darken;return{...n.typography.body2,backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(n.palette).filter(ia(["light"])).map(([i])=>({props:{colorSeverity:i,variant:"standard"},style:{color:n.vars?n.vars.palette.Alert[`${i}Color`]:e(n.palette[i].light,.6),backgroundColor:n.vars?n.vars.palette.Alert[`${i}StandardBg`]:t(n.palette[i].light,.9),[`& .${e6.icon}`]:n.vars?{color:n.vars.palette.Alert[`${i}IconColor`]}:{color:n.palette[i].main}}})),...Object.entries(n.palette).filter(ia(["light"])).map(([i])=>({props:{colorSeverity:i,variant:"outlined"},style:{color:n.vars?n.vars.palette.Alert[`${i}Color`]:e(n.palette[i].light,.6),border:`1px solid ${(n.vars||n).palette[i].light}`,[`& .${e6.icon}`]:n.vars?{color:n.vars.palette.Alert[`${i}IconColor`]}:{color:n.palette[i].main}}})),...Object.entries(n.palette).filter(ia(["dark"])).map(([i])=>({props:{colorSeverity:i,variant:"filled"},style:{fontWeight:n.typography.fontWeightMedium,...n.vars?{color:n.vars.palette.Alert[`${i}FilledColor`],backgroundColor:n.vars.palette.Alert[`${i}FilledBg`]}:{backgroundColor:n.palette.mode==="dark"?n.palette[i].dark:n.palette[i].main,color:n.palette.getContrastText(n.palette[i].main)}}}))]}})),h0e=ht("div",{name:"MuiAlert",slot:"Icon"})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),d0e=ht("div",{name:"MuiAlert",slot:"Message"})({padding:"8px 0",minWidth:0,overflow:"auto"}),p0e=ht("div",{name:"MuiAlert",slot:"Action"})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),n6={success:Z.jsx(s0e,{fontSize:"inherit"}),warning:Z.jsx(a0e,{fontSize:"inherit"}),error:Z.jsx(o0e,{fontSize:"inherit"}),info:Z.jsx(l0e,{fontSize:"inherit"})},m0e=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiAlert"}),{action:r,children:s,className:a,closeText:o="Close",color:l,components:u={},componentsProps:h={},icon:p,iconMapping:y=n6,onClose:v,role:_="alert",severity:x="success",slotProps:E={},slots:S={},variant:w="standard",...C}=i,A={...i,color:l,severity:x,variant:w,colorSeverity:l||x},N=u0e(A),L={slots:{closeButton:u.CloseButton,closeIcon:u.CloseIcon,...S},slotProps:{...h,...E}},[I,D]=rn("root",{ref:t,shouldForwardComponentProp:!0,className:Pt(N.root,a),elementType:f0e,externalForwardedProps:{...L,...C},ownerState:A,additionalProps:{role:_,elevation:0}}),[P,U]=rn("icon",{className:N.icon,elementType:h0e,externalForwardedProps:L,ownerState:A}),[F,z]=rn("message",{className:N.message,elementType:d0e,externalForwardedProps:L,ownerState:A}),[V,K]=rn("action",{className:N.action,elementType:p0e,externalForwardedProps:L,ownerState:A}),[J,q]=rn("closeButton",{elementType:GL,externalForwardedProps:L,ownerState:A}),[W,Q]=rn("closeIcon",{elementType:c0e,externalForwardedProps:L,ownerState:A});return Z.jsxs(I,{...D,children:[p!==!1?Z.jsx(P,{...U,children:p||y[x]||n6[x]}):null,Z.jsx(F,{...z,children:s}),r!=null?Z.jsx(V,{...K,children:r}):null,r==null&&v?Z.jsx(V,{...K,children:Z.jsx(J,{size:"small","aria-label":o,title:o,color:"inherit",onClick:v,...q,children:Z.jsx(W,{fontSize:"small",...Q})})}):null]})});function g0e(n){return yn("MuiTypography",n)}const i6=vn("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),y0e={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},v0e=ove(),_0e=n=>{const{align:e,gutterBottom:t,noWrap:i,paragraph:r,variant:s,classes:a}=n,o={root:["root",s,n.align!=="inherit"&&`align${yt(e)}`,t&&"gutterBottom",i&&"noWrap",r&&"paragraph"]};return gn(o,g0e,a)},b0e=ht("span",{name:"MuiTypography",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.variant&&e[t.variant],t.align!=="inherit"&&e[`align${yt(t.align)}`],t.noWrap&&e.noWrap,t.gutterBottom&&e.gutterBottom,t.paragraph&&e.paragraph]}})(kn(({theme:n})=>{var e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(n.typography).filter(([t,i])=>t!=="inherit"&&i&&typeof i=="object").map(([t,i])=>({props:{variant:t},style:i})),...Object.entries(n.palette).filter(ia()).map(([t])=>({props:{color:t},style:{color:(n.vars||n).palette[t].main}})),...Object.entries(((e=n.palette)==null?void 0:e.text)||{}).filter(([,t])=>typeof t=="string").map(([t])=>({props:{color:`text${yt(t)}`},style:{color:(n.vars||n).palette.text[t]}})),{props:({ownerState:t})=>t.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:t})=>t.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:t})=>t.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:t})=>t.paragraph,style:{marginBottom:16}}]}})),r6={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},ts=H.forwardRef(function(e,t){const{color:i,...r}=En({props:e,name:"MuiTypography"}),s=!y0e[i],a=v0e({...r,...s&&{color:i}}),{align:o="inherit",className:l,component:u,gutterBottom:h=!1,noWrap:p=!1,paragraph:y=!1,variant:v="body1",variantMapping:_=r6,...x}=a,E={...a,align:o,color:i,className:l,component:u,gutterBottom:h,noWrap:p,paragraph:y,variant:v,variantMapping:_},S=u||(y?"p":_[v]||r6[v])||"span",w=_0e(E);return Z.jsx(b0e,{as:S,ref:t,className:Pt(w.root,l),...x,ownerState:E,style:{...o!=="inherit"&&{"--Typography-textAlign":o},...x.style}})});var al="top",Rc="bottom",Oc="right",ol="left",qL="auto",ZS=[al,Rc,Oc,ol],s_="start",fS="end",x0e="clippingParents",nW="viewport",g1="popper",S0e="reference",s6=ZS.reduce(function(n,e){return n.concat([e+"-"+s_,e+"-"+fS])},[]),iW=[].concat(ZS,[qL]).reduce(function(n,e){return n.concat([e,e+"-"+s_,e+"-"+fS])},[]),E0e="beforeRead",T0e="read",w0e="afterRead",C0e="beforeMain",A0e="main",M0e="afterMain",R0e="beforeWrite",O0e="write",I0e="afterWrite",P0e=[E0e,T0e,w0e,C0e,A0e,M0e,R0e,O0e,I0e];function Lf(n){return n?(n.nodeName||"").toLowerCase():null}function jl(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function sy(n){var e=jl(n).Element;return n instanceof e||n instanceof Element}function Ac(n){var e=jl(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function WL(n){if(typeof ShadowRoot>"u")return!1;var e=jl(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function D0e(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var i=e.styles[t]||{},r=e.attributes[t]||{},s=e.elements[t];!Ac(s)||!Lf(s)||(Object.assign(s.style,i),Object.keys(r).forEach(function(a){var o=r[a];o===!1?s.removeAttribute(a):s.setAttribute(a,o===!0?"":o)}))})}function N0e(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(i){var r=e.elements[i],s=e.attributes[i]||{},a=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:t[i]),o=a.reduce(function(l,u){return l[u]="",l},{});!Ac(r)||!Lf(r)||(Object.assign(r.style,o),Object.keys(s).forEach(function(l){r.removeAttribute(l)}))})}}const L0e={name:"applyStyles",enabled:!0,phase:"write",fn:D0e,effect:N0e,requires:["computeStyles"]};function Pf(n){return n.split("-")[0]}var Xg=Math.max,ZC=Math.min,a_=Math.round;function jP(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function rW(){return!/^((?!chrome|android).)*safari/i.test(jP())}function o_(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var i=n.getBoundingClientRect(),r=1,s=1;e&&Ac(n)&&(r=n.offsetWidth>0&&a_(i.width)/n.offsetWidth||1,s=n.offsetHeight>0&&a_(i.height)/n.offsetHeight||1);var a=sy(n)?jl(n):window,o=a.visualViewport,l=!rW()&&t,u=(i.left+(l&&o?o.offsetLeft:0))/r,h=(i.top+(l&&o?o.offsetTop:0))/s,p=i.width/r,y=i.height/s;return{width:p,height:y,top:h,right:u+p,bottom:h+y,left:u,x:u,y:h}}function $L(n){var e=o_(n),t=n.offsetWidth,i=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:i}}function sW(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&WL(t)){var i=e;do{if(i&&n.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function sd(n){return jl(n).getComputedStyle(n)}function U0e(n){return["table","td","th"].indexOf(Lf(n))>=0}function rm(n){return((sy(n)?n.ownerDocument:n.document)||window.document).documentElement}function HM(n){return Lf(n)==="html"?n:n.assignedSlot||n.parentNode||(WL(n)?n.host:null)||rm(n)}function a6(n){return!Ac(n)||sd(n).position==="fixed"?null:n.offsetParent}function k0e(n){var e=/firefox/i.test(jP()),t=/Trident/i.test(jP());if(t&&Ac(n)){var i=sd(n);if(i.position==="fixed")return null}var r=HM(n);for(WL(r)&&(r=r.host);Ac(r)&&["html","body"].indexOf(Lf(r))<0;){var s=sd(r);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return r;r=r.parentNode}return null}function QS(n){for(var e=jl(n),t=a6(n);t&&U0e(t)&&sd(t).position==="static";)t=a6(t);return t&&(Lf(t)==="html"||Lf(t)==="body"&&sd(t).position==="static")?e:t||k0e(n)||e}function XL(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function bx(n,e,t){return Xg(n,ZC(e,t))}function z0e(n,e,t){var i=bx(n,e,t);return i>t?t:i}function aW(){return{top:0,right:0,bottom:0,left:0}}function oW(n){return Object.assign({},aW(),n)}function lW(n,e){return e.reduce(function(t,i){return t[i]=n,t},{})}var B0e=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,oW(typeof e!="number"?e:lW(e,ZS))};function F0e(n){var e,t=n.state,i=n.name,r=n.options,s=t.elements.arrow,a=t.modifiersData.popperOffsets,o=Pf(t.placement),l=XL(o),u=[ol,Oc].indexOf(o)>=0,h=u?"height":"width";if(!(!s||!a)){var p=B0e(r.padding,t),y=$L(s),v=l==="y"?al:ol,_=l==="y"?Rc:Oc,x=t.rects.reference[h]+t.rects.reference[l]-a[l]-t.rects.popper[h],E=a[l]-t.rects.reference[l],S=QS(s),w=S?l==="y"?S.clientHeight||0:S.clientWidth||0:0,C=x/2-E/2,A=p[v],N=w-y[h]-p[_],L=w/2-y[h]/2+C,I=bx(A,L,N),D=l;t.modifiersData[i]=(e={},e[D]=I,e.centerOffset=I-L,e)}}function V0e(n){var e=n.state,t=n.options,i=t.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||sW(e.elements.popper,r)&&(e.elements.arrow=r))}const H0e={name:"arrow",enabled:!0,phase:"main",fn:F0e,effect:V0e,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function l_(n){return n.split("-")[1]}var j0e={top:"auto",right:"auto",bottom:"auto",left:"auto"};function G0e(n,e){var t=n.x,i=n.y,r=e.devicePixelRatio||1;return{x:a_(t*r)/r||0,y:a_(i*r)/r||0}}function o6(n){var e,t=n.popper,i=n.popperRect,r=n.placement,s=n.variation,a=n.offsets,o=n.position,l=n.gpuAcceleration,u=n.adaptive,h=n.roundOffsets,p=n.isFixed,y=a.x,v=y===void 0?0:y,_=a.y,x=_===void 0?0:_,E=typeof h=="function"?h({x:v,y:x}):{x:v,y:x};v=E.x,x=E.y;var S=a.hasOwnProperty("x"),w=a.hasOwnProperty("y"),C=ol,A=al,N=window;if(u){var L=QS(t),I="clientHeight",D="clientWidth";if(L===jl(t)&&(L=rm(t),sd(L).position!=="static"&&o==="absolute"&&(I="scrollHeight",D="scrollWidth")),L=L,r===al||(r===ol||r===Oc)&&s===fS){A=Rc;var P=p&&L===N&&N.visualViewport?N.visualViewport.height:L[I];x-=P-i.height,x*=l?1:-1}if(r===ol||(r===al||r===Rc)&&s===fS){C=Oc;var U=p&&L===N&&N.visualViewport?N.visualViewport.width:L[D];v-=U-i.width,v*=l?1:-1}}var F=Object.assign({position:o},u&&j0e),z=h===!0?G0e({x:v,y:x},jl(t)):{x:v,y:x};if(v=z.x,x=z.y,l){var V;return Object.assign({},F,(V={},V[A]=w?"0":"",V[C]=S?"0":"",V.transform=(N.devicePixelRatio||1)<=1?"translate("+v+"px, "+x+"px)":"translate3d("+v+"px, "+x+"px, 0)",V))}return Object.assign({},F,(e={},e[A]=w?x+"px":"",e[C]=S?v+"px":"",e.transform="",e))}function q0e(n){var e=n.state,t=n.options,i=t.gpuAcceleration,r=i===void 0?!0:i,s=t.adaptive,a=s===void 0?!0:s,o=t.roundOffsets,l=o===void 0?!0:o,u={placement:Pf(e.placement),variation:l_(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,o6(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,o6(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const W0e={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:q0e,data:{}};var dw={passive:!0};function $0e(n){var e=n.state,t=n.instance,i=n.options,r=i.scroll,s=r===void 0?!0:r,a=i.resize,o=a===void 0?!0:a,l=jl(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&u.forEach(function(h){h.addEventListener("scroll",t.update,dw)}),o&&l.addEventListener("resize",t.update,dw),function(){s&&u.forEach(function(h){h.removeEventListener("scroll",t.update,dw)}),o&&l.removeEventListener("resize",t.update,dw)}}const X0e={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:$0e,data:{}};var Y0e={left:"right",right:"left",bottom:"top",top:"bottom"};function b2(n){return n.replace(/left|right|bottom|top/g,function(e){return Y0e[e]})}var K0e={start:"end",end:"start"};function l6(n){return n.replace(/start|end/g,function(e){return K0e[e]})}function YL(n){var e=jl(n),t=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:t,scrollTop:i}}function KL(n){return o_(rm(n)).left+YL(n).scrollLeft}function Z0e(n,e){var t=jl(n),i=rm(n),r=t.visualViewport,s=i.clientWidth,a=i.clientHeight,o=0,l=0;if(r){s=r.width,a=r.height;var u=rW();(u||!u&&e==="fixed")&&(o=r.offsetLeft,l=r.offsetTop)}return{width:s,height:a,x:o+KL(n),y:l}}function Q0e(n){var e,t=rm(n),i=YL(n),r=(e=n.ownerDocument)==null?void 0:e.body,s=Xg(t.scrollWidth,t.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),a=Xg(t.scrollHeight,t.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),o=-i.scrollLeft+KL(n),l=-i.scrollTop;return sd(r||t).direction==="rtl"&&(o+=Xg(t.clientWidth,r?r.clientWidth:0)-s),{width:s,height:a,x:o,y:l}}function ZL(n){var e=sd(n),t=e.overflow,i=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+r+i)}function cW(n){return["html","body","#document"].indexOf(Lf(n))>=0?n.ownerDocument.body:Ac(n)&&ZL(n)?n:cW(HM(n))}function xx(n,e){var t;e===void 0&&(e=[]);var i=cW(n),r=i===((t=n.ownerDocument)==null?void 0:t.body),s=jl(i),a=r?[s].concat(s.visualViewport||[],ZL(i)?i:[]):i,o=e.concat(a);return r?o:o.concat(xx(HM(a)))}function GP(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function J0e(n,e){var t=o_(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function c6(n,e,t){return e===nW?GP(Z0e(n,t)):sy(e)?J0e(e,t):GP(Q0e(rm(n)))}function e_e(n){var e=xx(HM(n)),t=["absolute","fixed"].indexOf(sd(n).position)>=0,i=t&&Ac(n)?QS(n):n;return sy(i)?e.filter(function(r){return sy(r)&&sW(r,i)&&Lf(r)!=="body"}):[]}function t_e(n,e,t,i){var r=e==="clippingParents"?e_e(n):[].concat(e),s=[].concat(r,[t]),a=s[0],o=s.reduce(function(l,u){var h=c6(n,u,i);return l.top=Xg(h.top,l.top),l.right=ZC(h.right,l.right),l.bottom=ZC(h.bottom,l.bottom),l.left=Xg(h.left,l.left),l},c6(n,a,i));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function uW(n){var e=n.reference,t=n.element,i=n.placement,r=i?Pf(i):null,s=i?l_(i):null,a=e.x+e.width/2-t.width/2,o=e.y+e.height/2-t.height/2,l;switch(r){case al:l={x:a,y:e.y-t.height};break;case Rc:l={x:a,y:e.y+e.height};break;case Oc:l={x:e.x+e.width,y:o};break;case ol:l={x:e.x-t.width,y:o};break;default:l={x:e.x,y:e.y}}var u=r?XL(r):null;if(u!=null){var h=u==="y"?"height":"width";switch(s){case s_:l[u]=l[u]-(e[h]/2-t[h]/2);break;case fS:l[u]=l[u]+(e[h]/2-t[h]/2);break}}return l}function hS(n,e){e===void 0&&(e={});var t=e,i=t.placement,r=i===void 0?n.placement:i,s=t.strategy,a=s===void 0?n.strategy:s,o=t.boundary,l=o===void 0?x0e:o,u=t.rootBoundary,h=u===void 0?nW:u,p=t.elementContext,y=p===void 0?g1:p,v=t.altBoundary,_=v===void 0?!1:v,x=t.padding,E=x===void 0?0:x,S=oW(typeof E!="number"?E:lW(E,ZS)),w=y===g1?S0e:g1,C=n.rects.popper,A=n.elements[_?w:y],N=t_e(sy(A)?A:A.contextElement||rm(n.elements.popper),l,h,a),L=o_(n.elements.reference),I=uW({reference:L,element:C,placement:r}),D=GP(Object.assign({},C,I)),P=y===g1?D:L,U={top:N.top-P.top+S.top,bottom:P.bottom-N.bottom+S.bottom,left:N.left-P.left+S.left,right:P.right-N.right+S.right},F=n.modifiersData.offset;if(y===g1&&F){var z=F[r];Object.keys(U).forEach(function(V){var K=[Oc,Rc].indexOf(V)>=0?1:-1,J=[al,Rc].indexOf(V)>=0?"y":"x";U[V]+=z[J]*K})}return U}function n_e(n,e){e===void 0&&(e={});var t=e,i=t.placement,r=t.boundary,s=t.rootBoundary,a=t.padding,o=t.flipVariations,l=t.allowedAutoPlacements,u=l===void 0?iW:l,h=l_(i),p=h?o?s6:s6.filter(function(_){return l_(_)===h}):ZS,y=p.filter(function(_){return u.indexOf(_)>=0});y.length===0&&(y=p);var v=y.reduce(function(_,x){return _[x]=hS(n,{placement:x,boundary:r,rootBoundary:s,padding:a})[Pf(x)],_},{});return Object.keys(v).sort(function(_,x){return v[_]-v[x]})}function i_e(n){if(Pf(n)===qL)return[];var e=b2(n);return[l6(n),e,l6(e)]}function r_e(n){var e=n.state,t=n.options,i=n.name;if(!e.modifiersData[i]._skip){for(var r=t.mainAxis,s=r===void 0?!0:r,a=t.altAxis,o=a===void 0?!0:a,l=t.fallbackPlacements,u=t.padding,h=t.boundary,p=t.rootBoundary,y=t.altBoundary,v=t.flipVariations,_=v===void 0?!0:v,x=t.allowedAutoPlacements,E=e.options.placement,S=Pf(E),w=S===E,C=l||(w||!_?[b2(E)]:i_e(E)),A=[E].concat(C).reduce(function(ue,ne){return ue.concat(Pf(ne)===qL?n_e(e,{placement:ne,boundary:h,rootBoundary:p,padding:u,flipVariations:_,allowedAutoPlacements:x}):ne)},[]),N=e.rects.reference,L=e.rects.popper,I=new Map,D=!0,P=A[0],U=0;U<A.length;U++){var F=A[U],z=Pf(F),V=l_(F)===s_,K=[al,Rc].indexOf(z)>=0,J=K?"width":"height",q=hS(e,{placement:F,boundary:h,rootBoundary:p,altBoundary:y,padding:u}),W=K?V?Oc:ol:V?Rc:al;N[J]>L[J]&&(W=b2(W));var Q=b2(W),re=[];if(s&&re.push(q[z]<=0),o&&re.push(q[W]<=0,q[Q]<=0),re.every(function(ue){return ue})){P=F,D=!1;break}I.set(F,re)}if(D)for(var pe=_?3:1,Y=function(ne){var he=A.find(function(me){var Le=I.get(me);if(Le)return Le.slice(0,ne).every(function(Ye){return Ye})});if(he)return P=he,"break"},le=pe;le>0;le--){var de=Y(le);if(de==="break")break}e.placement!==P&&(e.modifiersData[i]._skip=!0,e.placement=P,e.reset=!0)}}const s_e={name:"flip",enabled:!0,phase:"main",fn:r_e,requiresIfExists:["offset"],data:{_skip:!1}};function u6(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function f6(n){return[al,Oc,Rc,ol].some(function(e){return n[e]>=0})}function a_e(n){var e=n.state,t=n.name,i=e.rects.reference,r=e.rects.popper,s=e.modifiersData.preventOverflow,a=hS(e,{elementContext:"reference"}),o=hS(e,{altBoundary:!0}),l=u6(a,i),u=u6(o,r,s),h=f6(l),p=f6(u);e.modifiersData[t]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:h,hasPopperEscaped:p},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":p})}const o_e={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:a_e};function l_e(n,e,t){var i=Pf(n),r=[ol,al].indexOf(i)>=0?-1:1,s=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,a=s[0],o=s[1];return a=a||0,o=(o||0)*r,[ol,Oc].indexOf(i)>=0?{x:o,y:a}:{x:a,y:o}}function c_e(n){var e=n.state,t=n.options,i=n.name,r=t.offset,s=r===void 0?[0,0]:r,a=iW.reduce(function(h,p){return h[p]=l_e(p,e.rects,s),h},{}),o=a[e.placement],l=o.x,u=o.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[i]=a}const u_e={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:c_e};function f_e(n){var e=n.state,t=n.name;e.modifiersData[t]=uW({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const h_e={name:"popperOffsets",enabled:!0,phase:"read",fn:f_e,data:{}};function d_e(n){return n==="x"?"y":"x"}function p_e(n){var e=n.state,t=n.options,i=n.name,r=t.mainAxis,s=r===void 0?!0:r,a=t.altAxis,o=a===void 0?!1:a,l=t.boundary,u=t.rootBoundary,h=t.altBoundary,p=t.padding,y=t.tether,v=y===void 0?!0:y,_=t.tetherOffset,x=_===void 0?0:_,E=hS(e,{boundary:l,rootBoundary:u,padding:p,altBoundary:h}),S=Pf(e.placement),w=l_(e.placement),C=!w,A=XL(S),N=d_e(A),L=e.modifiersData.popperOffsets,I=e.rects.reference,D=e.rects.popper,P=typeof x=="function"?x(Object.assign({},e.rects,{placement:e.placement})):x,U=typeof P=="number"?{mainAxis:P,altAxis:P}:Object.assign({mainAxis:0,altAxis:0},P),F=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,z={x:0,y:0};if(L){if(s){var V,K=A==="y"?al:ol,J=A==="y"?Rc:Oc,q=A==="y"?"height":"width",W=L[A],Q=W+E[K],re=W-E[J],pe=v?-D[q]/2:0,Y=w===s_?I[q]:D[q],le=w===s_?-D[q]:-I[q],de=e.elements.arrow,ue=v&&de?$L(de):{width:0,height:0},ne=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:aW(),he=ne[K],me=ne[J],Le=bx(0,I[q],ue[q]),Ye=C?I[q]/2-pe-Le-he-U.mainAxis:Y-Le-he-U.mainAxis,je=C?-I[q]/2+pe+Le+me+U.mainAxis:le+Le+me+U.mainAxis,rt=e.elements.arrow&&QS(e.elements.arrow),ot=rt?A==="y"?rt.clientTop||0:rt.clientLeft||0:0,dt=(V=F==null?void 0:F[A])!=null?V:0,te=W+Ye-dt-ot,Ie=W+je-dt,Ve=bx(v?ZC(Q,te):Q,W,v?Xg(re,Ie):re);L[A]=Ve,z[A]=Ve-W}if(o){var Ue,Re=A==="x"?al:ol,ut=A==="x"?Rc:Oc,We=L[N],ae=N==="y"?"height":"width",ee=We+E[Re],Ee=We-E[ut],Me=[al,ol].indexOf(S)!==-1,Qe=(Ue=F==null?void 0:F[N])!=null?Ue:0,Oe=Me?ee:We-I[ae]-D[ae]-Qe+U.altAxis,ct=Me?We+I[ae]+D[ae]-Qe-U.altAxis:Ee,lt=v&&Me?z0e(Oe,We,ct):bx(v?Oe:ee,We,v?ct:Ee);L[N]=lt,z[N]=lt-We}e.modifiersData[i]=z}}const m_e={name:"preventOverflow",enabled:!0,phase:"main",fn:p_e,requiresIfExists:["offset"]};function g_e(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function y_e(n){return n===jl(n)||!Ac(n)?YL(n):g_e(n)}function v_e(n){var e=n.getBoundingClientRect(),t=a_(e.width)/n.offsetWidth||1,i=a_(e.height)/n.offsetHeight||1;return t!==1||i!==1}function __e(n,e,t){t===void 0&&(t=!1);var i=Ac(e),r=Ac(e)&&v_e(e),s=rm(e),a=o_(n,r,t),o={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!t)&&((Lf(e)!=="body"||ZL(s))&&(o=y_e(e)),Ac(e)?(l=o_(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=KL(s))),{x:a.left+o.scrollLeft-l.x,y:a.top+o.scrollTop-l.y,width:a.width,height:a.height}}function b_e(n){var e=new Map,t=new Set,i=[];n.forEach(function(s){e.set(s.name,s)});function r(s){t.add(s.name);var a=[].concat(s.requires||[],s.requiresIfExists||[]);a.forEach(function(o){if(!t.has(o)){var l=e.get(o);l&&r(l)}}),i.push(s)}return n.forEach(function(s){t.has(s.name)||r(s)}),i}function x_e(n){var e=b_e(n);return P0e.reduce(function(t,i){return t.concat(e.filter(function(r){return r.phase===i}))},[])}function S_e(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function E_e(n){var e=n.reduce(function(t,i){var r=t[i.name];return t[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,t},{});return Object.keys(e).map(function(t){return e[t]})}var h6={placement:"bottom",modifiers:[],strategy:"absolute"};function d6(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function T_e(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,i=t===void 0?[]:t,r=e.defaultOptions,s=r===void 0?h6:r;return function(o,l,u){u===void 0&&(u=s);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},h6,s),modifiersData:{},elements:{reference:o,popper:l},attributes:{},styles:{}},p=[],y=!1,v={state:h,setOptions:function(S){var w=typeof S=="function"?S(h.options):S;x(),h.options=Object.assign({},s,h.options,w),h.scrollParents={reference:sy(o)?xx(o):o.contextElement?xx(o.contextElement):[],popper:xx(l)};var C=x_e(E_e([].concat(i,h.options.modifiers)));return h.orderedModifiers=C.filter(function(A){return A.enabled}),_(),v.update()},forceUpdate:function(){if(!y){var S=h.elements,w=S.reference,C=S.popper;if(d6(w,C)){h.rects={reference:__e(w,QS(C),h.options.strategy==="fixed"),popper:$L(C)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(U){return h.modifiersData[U.name]=Object.assign({},U.data)});for(var A=0;A<h.orderedModifiers.length;A++){if(h.reset===!0){h.reset=!1,A=-1;continue}var N=h.orderedModifiers[A],L=N.fn,I=N.options,D=I===void 0?{}:I,P=N.name;typeof L=="function"&&(h=L({state:h,options:D,name:P,instance:v})||h)}}}},update:S_e(function(){return new Promise(function(E){v.forceUpdate(),E(h)})}),destroy:function(){x(),y=!0}};if(!d6(o,l))return v;v.setOptions(u).then(function(E){!y&&u.onFirstUpdate&&u.onFirstUpdate(E)});function _(){h.orderedModifiers.forEach(function(E){var S=E.name,w=E.options,C=w===void 0?{}:w,A=E.effect;if(typeof A=="function"){var N=A({state:h,name:S,instance:v,options:C}),L=function(){};p.push(N||L)}})}function x(){p.forEach(function(E){return E()}),p=[]}return v}}var w_e=[X0e,h_e,W0e,L0e,u_e,s_e,m_e,H0e,o_e],C_e=T_e({defaultModifiers:w_e});function c_(n){var p;const{elementType:e,externalSlotProps:t,ownerState:i,skipResolvingSlotProps:r=!1,...s}=n,a=r?{}:Qq(t,i),{props:o,internalRef:l}=eW({...s,externalSlotProps:a}),u=Vr(l,a==null?void 0:a.ref,(p=n.additionalProps)==null?void 0:p.ref);return Zq(e,{...o,ref:u},i)}function sm(n){var e;return parseInt(H.version,10)>=19?((e=n==null?void 0:n.props)==null?void 0:e.ref)||null:(n==null?void 0:n.ref)||null}function A_e(n){return typeof n=="function"?n():n}const fW=H.forwardRef(function(e,t){const{children:i,container:r,disablePortal:s=!1}=e,[a,o]=H.useState(null),l=Vr(H.isValidElement(i)?sm(i):null,t);if(Tu(()=>{s||o(A_e(r)||document.body)},[r,s]),Tu(()=>{if(a&&!s)return KB(t,a),()=>{KB(t,null)}},[t,a,s]),s){if(H.isValidElement(i)){const u={ref:l};return H.cloneElement(i,u)}return i}return a&&TV.createPortal(i,a)});function M_e(n){return yn("MuiPopper",n)}vn("MuiPopper",["root"]);function R_e(n,e){if(e==="ltr")return n;switch(n){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return n}}function qP(n){return typeof n=="function"?n():n}function O_e(n){return n.nodeType!==void 0}const I_e=n=>{const{classes:e}=n;return gn({root:["root"]},M_e,e)},P_e={},D_e=H.forwardRef(function(e,t){const{anchorEl:i,children:r,direction:s,disablePortal:a,modifiers:o,open:l,placement:u,popperOptions:h,popperRef:p,slotProps:y={},slots:v={},TransitionProps:_,ownerState:x,...E}=e,S=H.useRef(null),w=Vr(S,t),C=H.useRef(null),A=Vr(C,p),N=H.useRef(A);Tu(()=>{N.current=A},[A]),H.useImperativeHandle(p,()=>C.current,[]);const L=R_e(u,s),[I,D]=H.useState(L),[P,U]=H.useState(qP(i));H.useEffect(()=>{C.current&&C.current.forceUpdate()}),H.useEffect(()=>{i&&U(qP(i))},[i]),Tu(()=>{if(!P||!l)return;const J=Q=>{D(Q.placement)};let q=[{name:"preventOverflow",options:{altBoundary:a}},{name:"flip",options:{altBoundary:a}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:Q})=>{J(Q)}}];o!=null&&(q=q.concat(o)),h&&h.modifiers!=null&&(q=q.concat(h.modifiers));const W=C_e(P,S.current,{placement:L,...h,modifiers:q});return N.current(W),()=>{W.destroy(),N.current(null)}},[P,a,o,l,h,L]);const F={placement:I};_!==null&&(F.TransitionProps=_);const z=I_e(e),V=v.root??"div",K=c_({elementType:V,externalSlotProps:y.root,externalForwardedProps:E,additionalProps:{role:"tooltip",ref:w},ownerState:e,className:z.root});return Z.jsx(V,{...K,children:typeof r=="function"?r(F):r})}),N_e=H.forwardRef(function(e,t){const{anchorEl:i,children:r,container:s,direction:a="ltr",disablePortal:o=!1,keepMounted:l=!1,modifiers:u,open:h,placement:p="bottom",popperOptions:y=P_e,popperRef:v,style:_,transition:x=!1,slotProps:E={},slots:S={},...w}=e,[C,A]=H.useState(!0),N=()=>{A(!1)},L=()=>{A(!0)};if(!l&&!h&&(!x||C))return null;let I;if(s)I=s;else if(i){const U=qP(i);I=U&&O_e(U)?Aa(U).body:Aa(null).body}const D=!h&&l&&(!x||C)?"none":void 0,P=x?{in:h,onEnter:N,onExited:L}:void 0;return Z.jsx(fW,{disablePortal:o,container:I,children:Z.jsx(D_e,{anchorEl:i,direction:a,disablePortal:o,modifiers:u,ref:t,open:x?!C:h,placement:p,popperOptions:y,popperRef:v,slotProps:E,slots:S,...w,style:{position:"fixed",top:0,left:0,display:D,..._},TransitionProps:P,children:r})})}),L_e=ht(N_e,{name:"MuiPopper",slot:"Root"})({}),hW=H.forwardRef(function(e,t){const i=XS(),r=En({props:e,name:"MuiPopper"}),{anchorEl:s,component:a,components:o,componentsProps:l,container:u,disablePortal:h,keepMounted:p,modifiers:y,open:v,placement:_,popperOptions:x,popperRef:E,transition:S,slots:w,slotProps:C,...A}=r,N=(w==null?void 0:w.root)??(o==null?void 0:o.Root),L={anchorEl:s,container:u,disablePortal:h,keepMounted:p,modifiers:y,open:v,placement:_,popperOptions:x,popperRef:E,transition:S,...A};return Z.jsx(L_e,{as:a,direction:i?"rtl":"ltr",slots:{root:N},slotProps:C??l,...L,ref:t})}),U_e=Hr(Z.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}));function k_e(n){return yn("MuiChip",n)}const ei=vn("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),z_e=n=>{const{classes:e,disabled:t,size:i,color:r,iconColor:s,onDelete:a,clickable:o,variant:l}=n,u={root:["root",l,t&&"disabled",`size${yt(i)}`,`color${yt(r)}`,o&&"clickable",o&&`clickableColor${yt(r)}`,a&&"deletable",a&&`deletableColor${yt(r)}`,`${l}${yt(r)}`],label:["label",`label${yt(i)}`],avatar:["avatar",`avatar${yt(i)}`,`avatarColor${yt(r)}`],icon:["icon",`icon${yt(i)}`,`iconColor${yt(s)}`],deleteIcon:["deleteIcon",`deleteIcon${yt(i)}`,`deleteIconColor${yt(r)}`,`deleteIcon${yt(l)}Color${yt(r)}`]};return gn(u,k_e,e)},B_e=ht("div",{name:"MuiChip",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n,{color:i,iconColor:r,clickable:s,onDelete:a,size:o,variant:l}=t;return[{[`& .${ei.avatar}`]:e.avatar},{[`& .${ei.avatar}`]:e[`avatar${yt(o)}`]},{[`& .${ei.avatar}`]:e[`avatarColor${yt(i)}`]},{[`& .${ei.icon}`]:e.icon},{[`& .${ei.icon}`]:e[`icon${yt(o)}`]},{[`& .${ei.icon}`]:e[`iconColor${yt(r)}`]},{[`& .${ei.deleteIcon}`]:e.deleteIcon},{[`& .${ei.deleteIcon}`]:e[`deleteIcon${yt(o)}`]},{[`& .${ei.deleteIcon}`]:e[`deleteIconColor${yt(i)}`]},{[`& .${ei.deleteIcon}`]:e[`deleteIcon${yt(l)}Color${yt(i)}`]},e.root,e[`size${yt(o)}`],e[`color${yt(i)}`],s&&e.clickable,s&&i!=="default"&&e[`clickableColor${yt(i)}`],a&&e.deletable,a&&i!=="default"&&e[`deletableColor${yt(i)}`],e[l],e[`${l}${yt(i)}`]]}})(kn(({theme:n})=>{const e=n.palette.mode==="light"?n.palette.grey[700]:n.palette.grey[300];return{maxWidth:"100%",fontFamily:n.typography.fontFamily,fontSize:n.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,lineHeight:1.5,color:(n.vars||n).palette.text.primary,backgroundColor:(n.vars||n).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:n.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${ei.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${ei.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:n.vars?n.vars.palette.Chip.defaultAvatarColor:e,fontSize:n.typography.pxToRem(12)},[`& .${ei.avatarColorPrimary}`]:{color:(n.vars||n).palette.primary.contrastText,backgroundColor:(n.vars||n).palette.primary.dark},[`& .${ei.avatarColorSecondary}`]:{color:(n.vars||n).palette.secondary.contrastText,backgroundColor:(n.vars||n).palette.secondary.dark},[`& .${ei.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:n.typography.pxToRem(10)},[`& .${ei.icon}`]:{marginLeft:5,marginRight:-6},[`& .${ei.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:n.alpha((n.vars||n).palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:n.alpha((n.vars||n).palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${ei.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${ei.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(n.palette).filter(ia(["contrastText"])).map(([t])=>({props:{color:t},style:{backgroundColor:(n.vars||n).palette[t].main,color:(n.vars||n).palette[t].contrastText,[`& .${ei.deleteIcon}`]:{color:n.alpha((n.vars||n).palette[t].contrastText,.7),"&:hover, &:active":{color:(n.vars||n).palette[t].contrastText}}}})),{props:t=>t.iconColor===t.color,style:{[`& .${ei.icon}`]:{color:n.vars?n.vars.palette.Chip.defaultIconColor:e}}},{props:t=>t.iconColor===t.color&&t.color!=="default",style:{[`& .${ei.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${ei.focusVisible}`]:{backgroundColor:n.alpha((n.vars||n).palette.action.selected,`${(n.vars||n).palette.action.selectedOpacity} + ${(n.vars||n).palette.action.focusOpacity}`)}}},...Object.entries(n.palette).filter(ia(["dark"])).map(([t])=>({props:{color:t,onDelete:!0},style:{[`&.${ei.focusVisible}`]:{background:(n.vars||n).palette[t].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:n.alpha((n.vars||n).palette.action.selected,`${(n.vars||n).palette.action.selectedOpacity} + ${(n.vars||n).palette.action.hoverOpacity}`)},[`&.${ei.focusVisible}`]:{backgroundColor:n.alpha((n.vars||n).palette.action.selected,`${(n.vars||n).palette.action.selectedOpacity} + ${(n.vars||n).palette.action.focusOpacity}`)},"&:active":{boxShadow:(n.vars||n).shadows[1]}}},...Object.entries(n.palette).filter(ia(["dark"])).map(([t])=>({props:{color:t,clickable:!0},style:{[`&:hover, &.${ei.focusVisible}`]:{backgroundColor:(n.vars||n).palette[t].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:n.vars?`1px solid ${n.vars.palette.Chip.defaultBorder}`:`1px solid ${n.palette.mode==="light"?n.palette.grey[400]:n.palette.grey[700]}`,[`&.${ei.clickable}:hover`]:{backgroundColor:(n.vars||n).palette.action.hover},[`&.${ei.focusVisible}`]:{backgroundColor:(n.vars||n).palette.action.focus},[`& .${ei.avatar}`]:{marginLeft:4},[`& .${ei.avatarSmall}`]:{marginLeft:2},[`& .${ei.icon}`]:{marginLeft:4},[`& .${ei.iconSmall}`]:{marginLeft:2},[`& .${ei.deleteIcon}`]:{marginRight:5},[`& .${ei.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(n.palette).filter(ia()).map(([t])=>({props:{variant:"outlined",color:t},style:{color:(n.vars||n).palette[t].main,border:`1px solid ${n.alpha((n.vars||n).palette[t].main,.7)}`,[`&.${ei.clickable}:hover`]:{backgroundColor:n.alpha((n.vars||n).palette[t].main,(n.vars||n).palette.action.hoverOpacity)},[`&.${ei.focusVisible}`]:{backgroundColor:n.alpha((n.vars||n).palette[t].main,(n.vars||n).palette.action.focusOpacity)},[`& .${ei.deleteIcon}`]:{color:n.alpha((n.vars||n).palette[t].main,.7),"&:hover, &:active":{color:(n.vars||n).palette[t].main}}}}))]}})),F_e=ht("span",{name:"MuiChip",slot:"Label",overridesResolver:(n,e)=>{const{ownerState:t}=n,{size:i}=t;return[e.label,e[`label${yt(i)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function p6(n){return n.key==="Backspace"||n.key==="Delete"}const V_e=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiChip"}),{avatar:r,className:s,clickable:a,color:o="default",component:l,deleteIcon:u,disabled:h=!1,icon:p,label:y,onClick:v,onDelete:_,onKeyDown:x,onKeyUp:E,size:S="medium",variant:w="filled",tabIndex:C,skipFocusWhenDisabled:A=!1,slots:N={},slotProps:L={},...I}=i,D=H.useRef(null),P=Vr(D,t),U=he=>{he.stopPropagation(),_&&_(he)},F=he=>{he.currentTarget===he.target&&p6(he)&&he.preventDefault(),x&&x(he)},z=he=>{he.currentTarget===he.target&&_&&p6(he)&&_(he),E&&E(he)},V=a!==!1&&v?!0:a,K=V||_?Zp:l||"div",J={...i,component:K,disabled:h,size:S,color:o,iconColor:H.isValidElement(p)&&p.props.color||o,onDelete:!!_,clickable:V,variant:w},q=z_e(J),W=K===Zp?{component:l||"div",focusVisibleClassName:q.focusVisible,..._&&{disableRipple:!0}}:{};let Q=null;_&&(Q=u&&H.isValidElement(u)?H.cloneElement(u,{className:Pt(u.props.className,q.deleteIcon),onClick:U}):Z.jsx(U_e,{className:q.deleteIcon,onClick:U}));let re=null;r&&H.isValidElement(r)&&(re=H.cloneElement(r,{className:Pt(q.avatar,r.props.className)}));let pe=null;p&&H.isValidElement(p)&&(pe=H.cloneElement(p,{className:Pt(q.icon,p.props.className)}));const Y={slots:N,slotProps:L},[le,de]=rn("root",{elementType:B_e,externalForwardedProps:{...Y,...I},ownerState:J,shouldForwardComponentProp:!0,ref:P,className:Pt(q.root,s),additionalProps:{disabled:V&&h?!0:void 0,tabIndex:A&&h?-1:C,...W},getSlotProps:he=>({...he,onClick:me=>{var Le;(Le=he.onClick)==null||Le.call(he,me),v==null||v(me)},onKeyDown:me=>{var Le;(Le=he.onKeyDown)==null||Le.call(he,me),F(me)},onKeyUp:me=>{var Le;(Le=he.onKeyUp)==null||Le.call(he,me),z(me)}})}),[ue,ne]=rn("label",{elementType:F_e,externalForwardedProps:Y,ownerState:J,className:q.label});return Z.jsxs(le,{as:K,...de,children:[re||pe,Z.jsx(ue,{...ne,children:y}),Q]})});function pw(n){return parseInt(n,10)||0}const H_e={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function j_e(n){for(const e in n)return!1;return!0}function m6(n){return j_e(n)||n.outerHeightStyle===0&&!n.overflowing}const G_e=H.forwardRef(function(e,t){const{onChange:i,maxRows:r,minRows:s=1,style:a,value:o,...l}=e,{current:u}=H.useRef(o!=null),h=H.useRef(null),p=Vr(t,h),y=H.useRef(null),v=H.useRef(null),_=H.useCallback(()=>{const C=h.current,A=v.current;if(!C||!A)return;const L=Hl(C).getComputedStyle(C);if(L.width==="0px")return{outerHeightStyle:0,overflowing:!1};A.style.width=L.width,A.value=C.value||e.placeholder||"x",A.value.slice(-1)===`
`&&(A.value+=" ");const I=L.boxSizing,D=pw(L.paddingBottom)+pw(L.paddingTop),P=pw(L.borderBottomWidth)+pw(L.borderTopWidth),U=A.scrollHeight;A.value="x";const F=A.scrollHeight;let z=U;s&&(z=Math.max(Number(s)*F,z)),r&&(z=Math.min(Number(r)*F,z)),z=Math.max(z,F);const V=z+(I==="border-box"?D+P:0),K=Math.abs(z-U)<=1;return{outerHeightStyle:V,overflowing:K}},[r,s,e.placeholder]),x=zl(()=>{const C=h.current,A=_();if(!C||!A||m6(A))return!1;const N=A.outerHeightStyle;return y.current!=null&&y.current!==N}),E=H.useCallback(()=>{const C=h.current,A=_();if(!C||!A||m6(A))return;const N=A.outerHeightStyle;y.current!==N&&(y.current=N,C.style.height=`${N}px`),C.style.overflow=A.overflowing?"hidden":""},[_]),S=H.useRef(-1);Tu(()=>{const C=YS(E),A=h==null?void 0:h.current;if(!A)return;const N=Hl(A);N.addEventListener("resize",C);let L;return typeof ResizeObserver<"u"&&(L=new ResizeObserver(()=>{x()&&(L.unobserve(A),cancelAnimationFrame(S.current),E(),S.current=requestAnimationFrame(()=>{L.observe(A)}))}),L.observe(A)),()=>{C.clear(),cancelAnimationFrame(S.current),N.removeEventListener("resize",C),L&&L.disconnect()}},[_,E,x]),Tu(()=>{E()});const w=C=>{u||E();const A=C.target,N=A.value.length,L=A.value.endsWith(`
`),I=A.selectionStart===N;L&&I&&A.setSelectionRange(N,N),i&&i(C)};return Z.jsxs(H.Fragment,{children:[Z.jsx("textarea",{value:o,onChange:w,ref:p,rows:s,style:a,...l}),Z.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:v,tabIndex:-1,style:{...H_e.shadow,...a,paddingTop:0,paddingBottom:0}})]})});function vy({props:n,states:e,muiFormControl:t}){return e.reduce((i,r)=>(i[r]=n[r],t&&typeof n[r]>"u"&&(i[r]=t[r]),i),{})}const QL=H.createContext(void 0);function am(){return H.useContext(QL)}function g6(n){return n!=null&&!(Array.isArray(n)&&n.length===0)}function QC(n,e=!1){return n&&(g6(n.value)&&n.value!==""||e&&g6(n.defaultValue)&&n.defaultValue!=="")}function q_e(n){return n.startAdornment}function W_e(n){return yn("MuiInputBase",n)}const u_=vn("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var y6;const jM=(n,e)=>{const{ownerState:t}=n;return[e.root,t.formControl&&e.formControl,t.startAdornment&&e.adornedStart,t.endAdornment&&e.adornedEnd,t.error&&e.error,t.size==="small"&&e.sizeSmall,t.multiline&&e.multiline,t.color&&e[`color${yt(t.color)}`],t.fullWidth&&e.fullWidth,t.hiddenLabel&&e.hiddenLabel]},GM=(n,e)=>{const{ownerState:t}=n;return[e.input,t.size==="small"&&e.inputSizeSmall,t.multiline&&e.inputMultiline,t.type==="search"&&e.inputTypeSearch,t.startAdornment&&e.inputAdornedStart,t.endAdornment&&e.inputAdornedEnd,t.hiddenLabel&&e.inputHiddenLabel]},$_e=n=>{const{classes:e,color:t,disabled:i,error:r,endAdornment:s,focused:a,formControl:o,fullWidth:l,hiddenLabel:u,multiline:h,readOnly:p,size:y,startAdornment:v,type:_}=n,x={root:["root",`color${yt(t)}`,i&&"disabled",r&&"error",l&&"fullWidth",a&&"focused",o&&"formControl",y&&y!=="medium"&&`size${yt(y)}`,h&&"multiline",v&&"adornedStart",s&&"adornedEnd",u&&"hiddenLabel",p&&"readOnly"],input:["input",i&&"disabled",_==="search"&&"inputTypeSearch",h&&"inputMultiline",y==="small"&&"inputSizeSmall",u&&"inputHiddenLabel",v&&"inputAdornedStart",s&&"inputAdornedEnd",p&&"readOnly"]};return gn(x,W_e,e)},qM=ht("div",{name:"MuiInputBase",slot:"Root",overridesResolver:jM})(kn(({theme:n})=>({...n.typography.body1,color:(n.vars||n).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${u_.disabled}`]:{color:(n.vars||n).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:e})=>e.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:e,size:t})=>e.multiline&&t==="small",style:{paddingTop:1}},{props:({ownerState:e})=>e.fullWidth,style:{width:"100%"}}]}))),WM=ht("input",{name:"MuiInputBase",slot:"Input",overridesResolver:GM})(kn(({theme:n})=>{const e=n.palette.mode==="light",t={color:"currentColor",...n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5},transition:n.transitions.create("opacity",{duration:n.transitions.duration.shorter})},i={opacity:"0 !important"},r=n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":t,"&::-moz-placeholder":t,"&::-ms-input-placeholder":t,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${u_.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":r,"&:focus::-moz-placeholder":r,"&:focus::-ms-input-placeholder":r},[`&.${u_.disabled}`]:{opacity:1,WebkitTextFillColor:(n.vars||n).palette.text.disabled},variants:[{props:({ownerState:s})=>!s.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:s})=>s.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),v6=ave({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),JL=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiInputBase"}),{"aria-describedby":r,autoComplete:s,autoFocus:a,className:o,color:l,components:u={},componentsProps:h={},defaultValue:p,disabled:y,disableInjectingGlobalStyles:v,endAdornment:_,error:x,fullWidth:E=!1,id:S,inputComponent:w="input",inputProps:C={},inputRef:A,margin:N,maxRows:L,minRows:I,multiline:D=!1,name:P,onBlur:U,onChange:F,onClick:z,onFocus:V,onKeyDown:K,onKeyUp:J,placeholder:q,readOnly:W,renderSuffix:Q,rows:re,size:pe,slotProps:Y={},slots:le={},startAdornment:de,type:ue="text",value:ne,...he}=i,me=C.value!=null?C.value:ne,{current:Le}=H.useRef(me!=null),Ye=H.useRef(),je=H.useCallback(Xe=>{},[]),rt=Vr(Ye,A,C.ref,je),[ot,dt]=H.useState(!1),te=am(),Ie=vy({props:i,muiFormControl:te,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Ie.focused=te?te.focused:ot,H.useEffect(()=>{!te&&y&&ot&&(dt(!1),U&&U())},[te,y,ot,U]);const Ve=te&&te.onFilled,Ue=te&&te.onEmpty,Re=H.useCallback(Xe=>{QC(Xe)?Ve&&Ve():Ue&&Ue()},[Ve,Ue]);Tu(()=>{Le&&Re({value:me})},[me,Re,Le]);const ut=Xe=>{V&&V(Xe),C.onFocus&&C.onFocus(Xe),te&&te.onFocus?te.onFocus(Xe):dt(!0)},We=Xe=>{U&&U(Xe),C.onBlur&&C.onBlur(Xe),te&&te.onBlur?te.onBlur(Xe):dt(!1)},ae=(Xe,...mt)=>{if(!Le){const At=Xe.target||Ye.current;if(At==null)throw new Error(rd(1));Re({value:At.value})}C.onChange&&C.onChange(Xe,...mt),F&&F(Xe,...mt)};H.useEffect(()=>{Re(Ye.current)},[]);const ee=Xe=>{Ye.current&&Xe.currentTarget===Xe.target&&Ye.current.focus(),z&&z(Xe)};let Ee=w,Me=C;D&&Ee==="input"&&(re?Me={type:void 0,minRows:re,maxRows:re,...Me}:Me={type:void 0,maxRows:L,minRows:I,...Me},Ee=G_e);const Qe=Xe=>{Re(Xe.animationName==="mui-auto-fill-cancel"?Ye.current:{value:"x"})};H.useEffect(()=>{te&&te.setAdornedStart(!!de)},[te,de]);const Oe={...i,color:Ie.color||"primary",disabled:Ie.disabled,endAdornment:_,error:Ie.error,focused:Ie.focused,formControl:te,fullWidth:E,hiddenLabel:Ie.hiddenLabel,multiline:D,size:Ie.size,startAdornment:de,type:ue},ct=$_e(Oe),lt=le.root||u.Root||qM,Dt=Y.root||h.root||{},Ut=le.input||u.Input||WM;return Me={...Me,...Y.input??h.input},Z.jsxs(H.Fragment,{children:[!v&&typeof v6=="function"&&(y6||(y6=Z.jsx(v6,{}))),Z.jsxs(lt,{...Dt,ref:t,onClick:ee,...he,...!r_(lt)&&{ownerState:{...Oe,...Dt.ownerState}},className:Pt(ct.root,Dt.className,o,W&&"MuiInputBase-readOnly"),children:[de,Z.jsx(QL.Provider,{value:null,children:Z.jsx(Ut,{"aria-invalid":Ie.error,"aria-describedby":r,autoComplete:s,autoFocus:a,defaultValue:p,disabled:Ie.disabled,id:S,onAnimationStart:Qe,name:P,placeholder:q,readOnly:W,required:Ie.required,rows:re,value:me,onKeyDown:K,onKeyUp:J,type:ue,...Me,...!r_(Ut)&&{as:Ee,ownerState:{...Oe,...Me.ownerState}},ref:rt,className:Pt(ct.input,Me.className,W&&"MuiInputBase-readOnly"),onBlur:We,onChange:ae,onFocus:ut})}),_,Q?Q({...Ie,startAdornment:de}):null]})]})});function X_e(n){return yn("MuiInput",n)}const y1={...u_,...vn("MuiInput",["root","underline","input"])};function Y_e(n){return yn("MuiOutlinedInput",n)}const of={...u_,...vn("MuiOutlinedInput",["root","notchedOutline","input"])};function K_e(n){return yn("MuiFilledInput",n)}const dg={...u_,...vn("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},Z_e=Hr(Z.jsx("path",{d:"M7 10l5 5 5-5z"})),Q_e=Hr(Z.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}));function J_e(n){return yn("MuiAvatar",n)}vn("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const ebe=n=>{const{classes:e,variant:t,colorDefault:i}=n;return gn({root:["root",t,i&&"colorDefault"],img:["img"],fallback:["fallback"]},J_e,e)},tbe=ht("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],t.colorDefault&&e.colorDefault]}})(kn(({theme:n})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:n.typography.fontFamily,fontSize:n.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(n.vars||n).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(n.vars||n).palette.background.default,...n.vars?{backgroundColor:n.vars.palette.Avatar.defaultBg}:{backgroundColor:n.palette.grey[400],...n.applyStyles("dark",{backgroundColor:n.palette.grey[600]})}}}]}))),nbe=ht("img",{name:"MuiAvatar",slot:"Img"})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),ibe=ht(Q_e,{name:"MuiAvatar",slot:"Fallback"})({width:"75%",height:"75%"});function rbe({crossOrigin:n,referrerPolicy:e,src:t,srcSet:i}){const[r,s]=H.useState(!1);return H.useEffect(()=>{if(!t&&!i)return;s(!1);let a=!0;const o=new Image;return o.onload=()=>{a&&s("loaded")},o.onerror=()=>{a&&s("error")},o.crossOrigin=n,o.referrerPolicy=e,o.src=t,i&&(o.srcset=i),()=>{a=!1}},[n,e,t,i]),r}const _6=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiAvatar"}),{alt:r,children:s,className:a,component:o="div",slots:l={},slotProps:u={},imgProps:h,sizes:p,src:y,srcSet:v,variant:_="circular",...x}=i;let E=null;const S={...i,component:o,variant:_},w=rbe({...h,...typeof u.img=="function"?u.img(S):u.img,src:y,srcSet:v}),C=y||v,A=C&&w!=="error";S.colorDefault=!A,delete S.ownerState;const N=ebe(S),[L,I]=rn("root",{ref:t,className:Pt(N.root,a),elementType:tbe,externalForwardedProps:{slots:l,slotProps:u,component:o,...x},ownerState:S}),[D,P]=rn("img",{className:N.img,elementType:nbe,externalForwardedProps:{slots:l,slotProps:{img:{...h,...u.img}}},additionalProps:{alt:r,src:y,srcSet:v,sizes:p},ownerState:S}),[U,F]=rn("fallback",{className:N.fallback,elementType:ibe,externalForwardedProps:{slots:l,slotProps:u},shouldForwardComponentProp:!0,ownerState:S});return A?E=Z.jsx(D,{...P}):s||s===0?E=s:C&&r?E=r[0]:E=Z.jsx(U,{...F}),Z.jsx(L,{...I,children:E})}),sbe={entering:{opacity:1},entered:{opacity:1}},WP=H.forwardRef(function(e,t){const i=cd(),r={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{addEndListener:s,appear:a=!0,children:o,easing:l,in:u,onEnter:h,onEntered:p,onEntering:y,onExit:v,onExited:_,onExiting:x,style:E,timeout:S=r,TransitionComponent:w=Nc,...C}=e,A=H.useRef(null),N=Vr(A,sm(o),t),L=K=>J=>{if(K){const q=A.current;J===void 0?K(q):K(q,J)}},I=L(y),D=L((K,J)=>{jL(K);const q=Kp({style:E,timeout:S,easing:l},{mode:"enter"});K.style.webkitTransition=i.transitions.create("opacity",q),K.style.transition=i.transitions.create("opacity",q),h&&h(K,J)}),P=L(p),U=L(x),F=L(K=>{const J=Kp({style:E,timeout:S,easing:l},{mode:"exit"});K.style.webkitTransition=i.transitions.create("opacity",J),K.style.transition=i.transitions.create("opacity",J),v&&v(K)}),z=L(_),V=K=>{s&&s(A.current,K)};return Z.jsx(w,{appear:a,in:u,nodeRef:A,onEnter:D,onEntered:P,onEntering:I,onExit:F,onExited:z,onExiting:U,addEndListener:V,timeout:S,...C,children:(K,{ownerState:J,...q})=>H.cloneElement(o,{style:{opacity:0,visibility:K==="exited"&&!u?"hidden":void 0,...sbe[K],...E,...o.props.style},ref:N,...q})})});function abe(n){return yn("MuiBackdrop",n)}vn("MuiBackdrop",["root","invisible"]);const obe=n=>{const{classes:e,invisible:t}=n;return gn({root:["root",t&&"invisible"]},abe,e)},lbe=ht("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),dW=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiBackdrop"}),{children:r,className:s,component:a="div",invisible:o=!1,open:l,components:u={},componentsProps:h={},slotProps:p={},slots:y={},TransitionComponent:v,transitionDuration:_,...x}=i,E={...i,component:a,invisible:o},S=obe(E),w={transition:v,root:u.Root,...y},C={...h,...p},A={component:a,slots:w,slotProps:C},[N,L]=rn("root",{elementType:lbe,externalForwardedProps:A,className:Pt(S.root,s),ownerState:E}),[I,D]=rn("transition",{elementType:WP,externalForwardedProps:A,ownerState:E});return Z.jsx(I,{in:l,timeout:_,...x,...D,children:Z.jsx(N,{"aria-hidden":!0,...L,classes:S,ref:t,children:r})})}),cbe=vn("MuiBox",["root"]),ube=Gq(),ad=Pge({themeId:FM,defaultTheme:ube,defaultClassName:cbe.root,generateClassName:uq.generate});function fbe(n){return yn("MuiButton",n)}const pg=vn("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),hbe=H.createContext({}),dbe=H.createContext(void 0),pbe=n=>{const{color:e,disableElevation:t,fullWidth:i,size:r,variant:s,loading:a,loadingPosition:o,classes:l}=n,u={root:["root",a&&"loading",s,`${s}${yt(e)}`,`size${yt(r)}`,`${s}Size${yt(r)}`,`color${yt(e)}`,t&&"disableElevation",i&&"fullWidth",a&&`loadingPosition${yt(o)}`],startIcon:["icon","startIcon",`iconSize${yt(r)}`],endIcon:["icon","endIcon",`iconSize${yt(r)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},h=gn(u,fbe,l);return{...l,...h}},pW=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],mbe=ht(Zp,{shouldForwardProp:n=>No(n)||n==="classes",name:"MuiButton",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],e[`${t.variant}${yt(t.color)}`],e[`size${yt(t.size)}`],e[`${t.variant}Size${yt(t.size)}`],t.color==="inherit"&&e.colorInherit,t.disableElevation&&e.disableElevation,t.fullWidth&&e.fullWidth,t.loading&&e.loading]}})(kn(({theme:n})=>{const e=n.palette.mode==="light"?n.palette.grey[300]:n.palette.grey[800],t=n.palette.mode==="light"?n.palette.grey.A100:n.palette.grey[700];return{...n.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(n.vars||n).shape.borderRadius,transition:n.transitions.create(["background-color","box-shadow","border-color","color"],{duration:n.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${pg.disabled}`]:{color:(n.vars||n).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(n.vars||n).shadows[2],"&:hover":{boxShadow:(n.vars||n).shadows[4],"@media (hover: none)":{boxShadow:(n.vars||n).shadows[2]}},"&:active":{boxShadow:(n.vars||n).shadows[8]},[`&.${pg.focusVisible}`]:{boxShadow:(n.vars||n).shadows[6]},[`&.${pg.disabled}`]:{color:(n.vars||n).palette.action.disabled,boxShadow:(n.vars||n).shadows[0],backgroundColor:(n.vars||n).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${pg.disabled}`]:{border:`1px solid ${(n.vars||n).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(n.palette).filter(ia()).map(([i])=>({props:{color:i},style:{"--variant-textColor":(n.vars||n).palette[i].main,"--variant-outlinedColor":(n.vars||n).palette[i].main,"--variant-outlinedBorder":n.alpha((n.vars||n).palette[i].main,.5),"--variant-containedColor":(n.vars||n).palette[i].contrastText,"--variant-containedBg":(n.vars||n).palette[i].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(n.vars||n).palette[i].dark,"--variant-textBg":n.alpha((n.vars||n).palette[i].main,(n.vars||n).palette.action.hoverOpacity),"--variant-outlinedBorder":(n.vars||n).palette[i].main,"--variant-outlinedBg":n.alpha((n.vars||n).palette[i].main,(n.vars||n).palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":n.vars?n.vars.palette.Button.inheritContainedBg:e,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":n.vars?n.vars.palette.Button.inheritContainedHoverBg:t,"--variant-textBg":n.alpha((n.vars||n).palette.text.primary,(n.vars||n).palette.action.hoverOpacity),"--variant-outlinedBg":n.alpha((n.vars||n).palette.text.primary,(n.vars||n).palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:n.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:n.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:n.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:n.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:n.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:n.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${pg.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${pg.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:n.transitions.create(["background-color","box-shadow","border-color"],{duration:n.transitions.duration.short}),[`&.${pg.loading}`]:{color:"transparent"}}}]}})),gbe=ht("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.startIcon,t.loading&&e.startIconLoadingStart,e[`iconSize${yt(t.size)}`]]}})(({theme:n})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:n.transitions.create(["opacity"],{duration:n.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...pW]})),ybe=ht("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.endIcon,t.loading&&e.endIconLoadingEnd,e[`iconSize${yt(t.size)}`]]}})(({theme:n})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:n.transitions.create(["opacity"],{duration:n.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...pW]})),vbe=ht("span",{name:"MuiButton",slot:"LoadingIndicator"})(({theme:n})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(n.vars||n).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),b6=ht("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),JS=H.forwardRef(function(e,t){const i=H.useContext(hbe),r=H.useContext(dbe),s=cS(i,e),a=En({props:s,name:"MuiButton"}),{children:o,color:l="primary",component:u="button",className:h,disabled:p=!1,disableElevation:y=!1,disableFocusRipple:v=!1,endIcon:_,focusVisibleClassName:x,fullWidth:E=!1,id:S,loading:w=null,loadingIndicator:C,loadingPosition:A="center",size:N="medium",startIcon:L,type:I,variant:D="text",...P}=a,U=L_(S),F=C??Z.jsx(tW,{"aria-labelledby":U,color:"inherit",size:16}),z={...a,color:l,component:u,disabled:p,disableElevation:y,disableFocusRipple:v,fullWidth:E,loading:w,loadingIndicator:F,loadingPosition:A,size:N,type:I,variant:D},V=pbe(z),K=(L||w&&A==="start")&&Z.jsx(gbe,{className:V.startIcon,ownerState:z,children:L||Z.jsx(b6,{className:V.loadingIconPlaceholder,ownerState:z})}),J=(_||w&&A==="end")&&Z.jsx(ybe,{className:V.endIcon,ownerState:z,children:_||Z.jsx(b6,{className:V.loadingIconPlaceholder,ownerState:z})}),q=r||"",W=typeof w=="boolean"?Z.jsx("span",{className:V.loadingWrapper,style:{display:"contents"},children:w&&Z.jsx(vbe,{className:V.loadingIndicator,ownerState:z,children:F})}):null;return Z.jsxs(mbe,{ownerState:z,className:Pt(i.className,V.root,h,q),component:u,disabled:p||w,focusRipple:!v,focusVisibleClassName:Pt(V.focusVisible,x),ref:t,type:I,id:w?U:S,...P,classes:V,children:[K,A!=="end"&&W,o,A==="end"&&W,J]})});function _be(n){return yn("PrivateSwitchBase",n)}vn("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const bbe=n=>{const{classes:e,checked:t,disabled:i,edge:r}=n,s={root:["root",t&&"checked",i&&"disabled",r&&`edge${yt(r)}`],input:["input"]};return gn(s,_be,e)},xbe=ht(Zp,{name:"MuiSwitchBase"})({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:n,ownerState:e})=>n==="start"&&e.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:n,ownerState:e})=>n==="end"&&e.size!=="small",style:{marginRight:-12}}]}),Sbe=ht("input",{name:"MuiSwitchBase",shouldForwardProp:No})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),Ebe=H.forwardRef(function(e,t){const{autoFocus:i,checked:r,checkedIcon:s,defaultChecked:a,disabled:o,disableFocusRipple:l=!1,edge:u=!1,icon:h,id:p,inputProps:y,inputRef:v,name:_,onBlur:x,onChange:E,onFocus:S,readOnly:w,required:C=!1,tabIndex:A,type:N,value:L,slots:I={},slotProps:D={},...P}=e,[U,F]=WC({controlled:r,default:!!a,name:"SwitchBase",state:"checked"}),z=am(),V=ne=>{S&&S(ne),z&&z.onFocus&&z.onFocus(ne)},K=ne=>{x&&x(ne),z&&z.onBlur&&z.onBlur(ne)},J=ne=>{if(ne.nativeEvent.defaultPrevented)return;const he=ne.target.checked;F(he),E&&E(ne,he)};let q=o;z&&typeof q>"u"&&(q=z.disabled);const W=N==="checkbox"||N==="radio",Q={...e,checked:U,disabled:q,disableFocusRipple:l,edge:u},re=bbe(Q),pe={slots:I,slotProps:{input:y,...D}},[Y,le]=rn("root",{ref:t,elementType:xbe,className:re.root,shouldForwardComponentProp:!0,externalForwardedProps:{...pe,component:"span",...P},getSlotProps:ne=>({...ne,onFocus:he=>{var me;(me=ne.onFocus)==null||me.call(ne,he),V(he)},onBlur:he=>{var me;(me=ne.onBlur)==null||me.call(ne,he),K(he)}}),ownerState:Q,additionalProps:{centerRipple:!0,focusRipple:!l,disabled:q,role:void 0,tabIndex:null}}),[de,ue]=rn("input",{ref:v,elementType:Sbe,className:re.input,externalForwardedProps:pe,getSlotProps:ne=>({...ne,onChange:he=>{var me;(me=ne.onChange)==null||me.call(ne,he),J(he)}}),ownerState:Q,additionalProps:{autoFocus:i,checked:r,defaultChecked:a,disabled:q,id:W?p:void 0,name:_,readOnly:w,required:C,tabIndex:A,type:N,...N==="checkbox"&&L===void 0?{}:{value:L}}});return Z.jsxs(Y,{...le,children:[Z.jsx(de,{...ue}),U?s:h]})}),Tbe=Hr(Z.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})),wbe=Hr(Z.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})),Cbe=Hr(Z.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}));function Abe(n){return yn("MuiCheckbox",n)}const p3=vn("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),Mbe=n=>{const{classes:e,indeterminate:t,color:i,size:r}=n,s={root:["root",t&&"indeterminate",`color${yt(i)}`,`size${yt(r)}`]},a=gn(s,Abe,e);return{...e,...a}},Rbe=ht(Ebe,{shouldForwardProp:n=>No(n)||n==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.indeterminate&&e.indeterminate,e[`size${yt(t.size)}`],t.color!=="default"&&e[`color${yt(t.color)}`]]}})(kn(({theme:n})=>({color:(n.vars||n).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:n.alpha((n.vars||n).palette.action.active,(n.vars||n).palette.action.hoverOpacity)}}},...Object.entries(n.palette).filter(ia()).map(([e])=>({props:{color:e,disableRipple:!1},style:{"&:hover":{backgroundColor:n.alpha((n.vars||n).palette[e].main,(n.vars||n).palette.action.hoverOpacity)}}})),...Object.entries(n.palette).filter(ia()).map(([e])=>({props:{color:e},style:{[`&.${p3.checked}, &.${p3.indeterminate}`]:{color:(n.vars||n).palette[e].main},[`&.${p3.disabled}`]:{color:(n.vars||n).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),Obe=Z.jsx(wbe,{}),Ibe=Z.jsx(Tbe,{}),Pbe=Z.jsx(Cbe,{}),Dbe=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiCheckbox"}),{checkedIcon:r=Obe,color:s="primary",icon:a=Ibe,indeterminate:o=!1,indeterminateIcon:l=Pbe,inputProps:u,size:h="medium",disableRipple:p=!1,className:y,slots:v={},slotProps:_={},...x}=i,E=o?l:a,S=o?l:r,w={...i,disableRipple:p,color:s,indeterminate:o,size:h},C=Mbe(w),A=_.input??u,[N,L]=rn("root",{ref:t,elementType:Rbe,className:Pt(C.root,y),shouldForwardComponentProp:!0,externalForwardedProps:{slots:v,slotProps:_,...x},ownerState:w,additionalProps:{type:"checkbox",icon:H.cloneElement(E,{fontSize:E.props.fontSize??h}),checkedIcon:H.cloneElement(S,{fontSize:S.props.fontSize??h}),disableRipple:p,slots:v,slotProps:{input:$q(typeof A=="function"?A(w):A,{"data-indeterminate":o})}}});return Z.jsx(N,{...L,classes:C})});function x6(n){return n.substring(2).toLowerCase()}function Nbe(n,e){return e.documentElement.clientWidth<n.clientX||e.documentElement.clientHeight<n.clientY}function Lbe(n){const{children:e,disableReactTree:t=!1,mouseEvent:i="onClick",onClickAway:r,touchEvent:s="onTouchEnd"}=n,a=H.useRef(!1),o=H.useRef(null),l=H.useRef(!1),u=H.useRef(!1);H.useEffect(()=>(setTimeout(()=>{l.current=!0},0),()=>{l.current=!1}),[]);const h=Vr(sm(e),o),p=zl(_=>{const x=u.current;u.current=!1;const E=Aa(o.current);if(!l.current||!o.current||"clientX"in _&&Nbe(_,E))return;if(a.current){a.current=!1;return}let S;_.composedPath?S=_.composedPath().includes(o.current):S=!E.documentElement.contains(_.target)||o.current.contains(_.target),!S&&(t||!x)&&r(_)}),y=_=>x=>{u.current=!0;const E=e.props[_];E&&E(x)},v={ref:h};return s!==!1&&(v[s]=y(s)),H.useEffect(()=>{if(s!==!1){const _=x6(s),x=Aa(o.current),E=()=>{a.current=!0};return x.addEventListener(_,p),x.addEventListener("touchmove",E),()=>{x.removeEventListener(_,p),x.removeEventListener("touchmove",E)}}},[p,s]),i!==!1&&(v[i]=y(i)),H.useEffect(()=>{if(i!==!1){const _=x6(i),x=Aa(o.current);return x.addEventListener(_,p),()=>{x.removeEventListener(_,p)}}},[p,i]),H.cloneElement(e,v)}function mW(n=window){const e=n.document.documentElement.clientWidth;return n.innerWidth-e}function Ube(n){const e=Aa(n);return e.body===n?Hl(n).innerWidth>e.documentElement.clientWidth:n.scrollHeight>n.clientHeight}function Sx(n,e){e?n.setAttribute("aria-hidden","true"):n.removeAttribute("aria-hidden")}function S6(n){return parseInt(Hl(n).getComputedStyle(n).paddingRight,10)||0}function kbe(n){const t=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(n.tagName),i=n.tagName==="INPUT"&&n.getAttribute("type")==="hidden";return t||i}function E6(n,e,t,i,r){const s=[e,t,...i];[].forEach.call(n.children,a=>{const o=!s.includes(a),l=!kbe(a);o&&l&&Sx(a,r)})}function m3(n,e){let t=-1;return n.some((i,r)=>e(i)?(t=r,!0):!1),t}function zbe(n,e){const t=[],i=n.container;if(!e.disableScrollLock){if(Ube(i)){const a=mW(Hl(i));t.push({value:i.style.paddingRight,property:"padding-right",el:i}),i.style.paddingRight=`${S6(i)+a}px`;const o=Aa(i).querySelectorAll(".mui-fixed");[].forEach.call(o,l=>{t.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${S6(l)+a}px`})}let s;if(i.parentNode instanceof DocumentFragment)s=Aa(i).body;else{const a=i.parentElement,o=Hl(i);s=(a==null?void 0:a.nodeName)==="HTML"&&o.getComputedStyle(a).overflowY==="scroll"?a:i}t.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{t.forEach(({value:s,el:a,property:o})=>{s?a.style.setProperty(o,s):a.style.removeProperty(o)})}}function Bbe(n){const e=[];return[].forEach.call(n.children,t=>{t.getAttribute("aria-hidden")==="true"&&e.push(t)}),e}class Fbe{constructor(){this.modals=[],this.containers=[]}add(e,t){let i=this.modals.indexOf(e);if(i!==-1)return i;i=this.modals.length,this.modals.push(e),e.modalRef&&Sx(e.modalRef,!1);const r=Bbe(t);E6(t,e.mount,e.modalRef,r,!0);const s=m3(this.containers,a=>a.container===t);return s!==-1?(this.containers[s].modals.push(e),i):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),i)}mount(e,t){const i=m3(this.containers,s=>s.modals.includes(e)),r=this.containers[i];r.restore||(r.restore=zbe(r,t))}remove(e,t=!0){const i=this.modals.indexOf(e);if(i===-1)return i;const r=m3(this.containers,a=>a.modals.includes(e)),s=this.containers[r];if(s.modals.splice(s.modals.indexOf(e),1),this.modals.splice(i,1),s.modals.length===0)s.restore&&s.restore(),e.modalRef&&Sx(e.modalRef,t),E6(s.container,e.mount,e.modalRef,s.hiddenSiblings,!1),this.containers.splice(r,1);else{const a=s.modals[s.modals.length-1];a.modalRef&&Sx(a.modalRef,!1)}return i}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}function g0(n){var t;let e=n.activeElement;for(;((t=e==null?void 0:e.shadowRoot)==null?void 0:t.activeElement)!=null;)e=e.shadowRoot.activeElement;return e}const Vbe=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Hbe(n){const e=parseInt(n.getAttribute("tabindex")||"",10);return Number.isNaN(e)?n.contentEditable==="true"||(n.nodeName==="AUDIO"||n.nodeName==="VIDEO"||n.nodeName==="DETAILS")&&n.getAttribute("tabindex")===null?0:n.tabIndex:e}function jbe(n){if(n.tagName!=="INPUT"||n.type!=="radio"||!n.name)return!1;const e=i=>n.ownerDocument.querySelector(`input[type="radio"]${i}`);let t=e(`[name="${n.name}"]:checked`);return t||(t=e(`[name="${n.name}"]`)),t!==n}function Gbe(n){return!(n.disabled||n.tagName==="INPUT"&&n.type==="hidden"||jbe(n))}function qbe(n){const e=[],t=[];return Array.from(n.querySelectorAll(Vbe)).forEach((i,r)=>{const s=Hbe(i);s===-1||!Gbe(i)||(s===0?e.push(i):t.push({documentOrder:r,tabIndex:s,node:i}))}),t.sort((i,r)=>i.tabIndex===r.tabIndex?i.documentOrder-r.documentOrder:i.tabIndex-r.tabIndex).map(i=>i.node).concat(e)}function Wbe(){return!0}function $be(n){const{children:e,disableAutoFocus:t=!1,disableEnforceFocus:i=!1,disableRestoreFocus:r=!1,getTabbable:s=qbe,isEnabled:a=Wbe,open:o}=n,l=H.useRef(!1),u=H.useRef(null),h=H.useRef(null),p=H.useRef(null),y=H.useRef(null),v=H.useRef(!1),_=H.useRef(null),x=Vr(sm(e),_),E=H.useRef(null);H.useEffect(()=>{!o||!_.current||(v.current=!t)},[t,o]),H.useEffect(()=>{if(!o||!_.current)return;const C=Aa(_.current),A=g0(C);return _.current.contains(A)||(_.current.hasAttribute("tabIndex")||_.current.setAttribute("tabIndex","-1"),v.current&&_.current.focus()),()=>{r||(p.current&&p.current.focus&&(l.current=!0,p.current.focus()),p.current=null)}},[o]),H.useEffect(()=>{if(!o||!_.current)return;const C=Aa(_.current),A=g0(C),N=D=>{E.current=D,!(i||!a()||D.key!=="Tab")&&A===_.current&&D.shiftKey&&(l.current=!0,h.current&&h.current.focus())},L=()=>{var F,z;const D=_.current;if(D===null)return;const P=g0(C);if(!C.hasFocus()||!a()||l.current){l.current=!1;return}if(D.contains(P)||i&&P!==u.current&&P!==h.current)return;if(P!==y.current)y.current=null;else if(y.current!==null)return;if(!v.current)return;let U=[];if((P===u.current||P===h.current)&&(U=s(_.current)),U.length>0){const V=!!((F=E.current)!=null&&F.shiftKey&&((z=E.current)==null?void 0:z.key)==="Tab"),K=U[0],J=U[U.length-1];typeof K!="string"&&typeof J!="string"&&(V?J.focus():K.focus())}else D.focus()};C.addEventListener("focusin",L),C.addEventListener("keydown",N,!0);const I=setInterval(()=>{const D=g0(C);D&&D.tagName==="BODY"&&L()},50);return()=>{clearInterval(I),C.removeEventListener("focusin",L),C.removeEventListener("keydown",N,!0)}},[t,i,r,a,o,s]);const S=C=>{p.current===null&&(p.current=C.relatedTarget),v.current=!0,y.current=C.target;const A=e.props.onFocus;A&&A(C)},w=C=>{p.current===null&&(p.current=C.relatedTarget),v.current=!0};return Z.jsxs(H.Fragment,{children:[Z.jsx("div",{tabIndex:o?0:-1,onFocus:w,ref:u,"data-testid":"sentinelStart"}),H.cloneElement(e,{ref:x,onFocus:S}),Z.jsx("div",{tabIndex:o?0:-1,onFocus:w,ref:h,"data-testid":"sentinelEnd"})]})}function Xbe(n){return typeof n=="function"?n():n}function Ybe(n){return n?n.props.hasOwnProperty("in"):!1}const T6=()=>{},mw=new Fbe;function Kbe(n){const{container:e,disableEscapeKeyDown:t=!1,disableScrollLock:i=!1,closeAfterTransition:r=!1,onTransitionEnter:s,onTransitionExited:a,children:o,onClose:l,open:u,rootRef:h}=n,p=H.useRef({}),y=H.useRef(null),v=H.useRef(null),_=Vr(v,h),[x,E]=H.useState(!u),S=Ybe(o);let w=!0;(n["aria-hidden"]==="false"||n["aria-hidden"]===!1)&&(w=!1);const C=()=>Aa(y.current),A=()=>(p.current.modalRef=v.current,p.current.mount=y.current,p.current),N=()=>{mw.mount(A(),{disableScrollLock:i}),v.current&&(v.current.scrollTop=0)},L=zl(()=>{const J=Xbe(e)||C().body;mw.add(A(),J),v.current&&N()}),I=()=>mw.isTopModal(A()),D=zl(J=>{y.current=J,J&&(u&&I()?N():v.current&&Sx(v.current,w))}),P=H.useCallback(()=>{mw.remove(A(),w)},[w]);H.useEffect(()=>()=>{P()},[P]),H.useEffect(()=>{u?L():(!S||!r)&&P()},[u,P,S,r,L]);const U=J=>q=>{var W;(W=J.onKeyDown)==null||W.call(J,q),!(q.key!=="Escape"||q.which===229||!I())&&(t||(q.stopPropagation(),l&&l(q,"escapeKeyDown")))},F=J=>q=>{var W;(W=J.onClick)==null||W.call(J,q),q.target===q.currentTarget&&l&&l(q,"backdropClick")};return{getRootProps:(J={})=>{const q=Jq(n);delete q.onTransitionEnter,delete q.onTransitionExited;const W={...q,...J};return{role:"presentation",...W,onKeyDown:U(W),ref:_}},getBackdropProps:(J={})=>{const q=J;return{"aria-hidden":!0,...q,onClick:F(q),open:u}},getTransitionProps:()=>{const J=()=>{E(!1),s&&s()},q=()=>{E(!0),a&&a(),r&&P()};return{onEnter:mB(J,(o==null?void 0:o.props.onEnter)??T6),onExited:mB(q,(o==null?void 0:o.props.onExited)??T6)}},rootRef:_,portalRef:D,isTopModal:I,exited:x,hasTransition:S}}function Zbe(n){return yn("MuiModal",n)}vn("MuiModal",["root","hidden","backdrop"]);const Qbe=n=>{const{open:e,exited:t,classes:i}=n;return gn({root:["root",!e&&t&&"hidden"],backdrop:["backdrop"]},Zbe,i)},Jbe=ht("div",{name:"MuiModal",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.open&&t.exited&&e.hidden]}})(kn(({theme:n})=>({position:"fixed",zIndex:(n.vars||n).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),e1e=ht(dW,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),gW=H.forwardRef(function(e,t){const i=En({name:"MuiModal",props:e}),{BackdropComponent:r=e1e,BackdropProps:s,classes:a,className:o,closeAfterTransition:l=!1,children:u,container:h,component:p,components:y={},componentsProps:v={},disableAutoFocus:_=!1,disableEnforceFocus:x=!1,disableEscapeKeyDown:E=!1,disablePortal:S=!1,disableRestoreFocus:w=!1,disableScrollLock:C=!1,hideBackdrop:A=!1,keepMounted:N=!1,onClose:L,onTransitionEnter:I,onTransitionExited:D,open:P,slotProps:U={},slots:F={},theme:z,...V}=i,K={...i,closeAfterTransition:l,disableAutoFocus:_,disableEnforceFocus:x,disableEscapeKeyDown:E,disablePortal:S,disableRestoreFocus:w,disableScrollLock:C,hideBackdrop:A,keepMounted:N},{getRootProps:J,getBackdropProps:q,getTransitionProps:W,portalRef:Q,isTopModal:re,exited:pe,hasTransition:Y}=Kbe({...K,rootRef:t}),le={...K,exited:pe},de=Qbe(le),ue={};if(u.props.tabIndex===void 0&&(ue.tabIndex="-1"),Y){const{onEnter:je,onExited:rt}=W();ue.onEnter=je,ue.onExited=rt}const ne={slots:{root:y.Root,backdrop:y.Backdrop,...F},slotProps:{...v,...U}},[he,me]=rn("root",{ref:t,elementType:Jbe,externalForwardedProps:{...ne,...V,component:p},getSlotProps:J,ownerState:le,className:Pt(o,de==null?void 0:de.root,!le.open&&le.exited&&(de==null?void 0:de.hidden))}),[Le,Ye]=rn("backdrop",{ref:s==null?void 0:s.ref,elementType:r,externalForwardedProps:ne,shouldForwardComponentProp:!0,additionalProps:s,getSlotProps:je=>q({...je,onClick:rt=>{je!=null&&je.onClick&&je.onClick(rt)}}),className:Pt(s==null?void 0:s.className,de==null?void 0:de.backdrop),ownerState:le});return!N&&!P&&(!Y||pe)?null:Z.jsx(fW,{ref:Q,container:h,disablePortal:S,children:Z.jsxs(he,{...me,children:[!A&&r?Z.jsx(Le,{...Ye}):null,Z.jsx($be,{disableEnforceFocus:x,disableAutoFocus:_,disableRestoreFocus:w,isEnabled:re,open:P,children:H.cloneElement(u,ue)})]})})});function t1e(n){return yn("MuiDialog",n)}const g3=vn("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),yW=H.createContext({}),n1e=ht(dW,{name:"MuiDialog",slot:"Backdrop",overrides:(n,e)=>e.backdrop})({zIndex:-1}),i1e=n=>{const{classes:e,scroll:t,maxWidth:i,fullWidth:r,fullScreen:s}=n,a={root:["root"],container:["container",`scroll${yt(t)}`],paper:["paper",`paperScroll${yt(t)}`,`paperWidth${yt(String(i))}`,r&&"paperFullWidth",s&&"paperFullScreen"]};return gn(a,t1e,e)},r1e=ht(gW,{name:"MuiDialog",slot:"Root"})({"@media print":{position:"absolute !important"}}),s1e=ht("div",{name:"MuiDialog",slot:"Container",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.container,e[`scroll${yt(t.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),a1e=ht(KS,{name:"MuiDialog",slot:"Paper",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.paper,e[`scrollPaper${yt(t.scroll)}`],e[`paperWidth${yt(String(t.maxWidth))}`],t.fullWidth&&e.paperFullWidth,t.fullScreen&&e.paperFullScreen]}})(kn(({theme:n})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:e})=>!e.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:n.breakpoints.unit==="px"?Math.max(n.breakpoints.values.xs,444):`max(${n.breakpoints.values.xs}${n.breakpoints.unit}, 444px)`,[`&.${g3.paperScrollBody}`]:{[n.breakpoints.down(Math.max(n.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(n.breakpoints.values).filter(e=>e!=="xs").map(e=>({props:{maxWidth:e},style:{maxWidth:`${n.breakpoints.values[e]}${n.breakpoints.unit}`,[`&.${g3.paperScrollBody}`]:{[n.breakpoints.down(n.breakpoints.values[e]+64)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:e})=>e.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:e})=>e.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${g3.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),vW=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiDialog"}),r=cd(),s={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{"aria-describedby":a,"aria-labelledby":o,"aria-modal":l=!0,BackdropComponent:u,BackdropProps:h,children:p,className:y,disableEscapeKeyDown:v=!1,fullScreen:_=!1,fullWidth:x=!1,maxWidth:E="sm",onClick:S,onClose:w,open:C,PaperComponent:A=KS,PaperProps:N={},scroll:L="paper",slots:I={},slotProps:D={},TransitionComponent:P=WP,transitionDuration:U=s,TransitionProps:F,...z}=i,V={...i,disableEscapeKeyDown:v,fullScreen:_,fullWidth:x,maxWidth:E,scroll:L},K=i1e(V),J=H.useRef(),q=dt=>{J.current=dt.target===dt.currentTarget},W=dt=>{S&&S(dt),J.current&&(J.current=null,w&&w(dt,"backdropClick"))},Q=L_(o),re=H.useMemo(()=>({titleId:Q}),[Q]),pe={transition:P,...I},Y={transition:F,paper:N,backdrop:h,...D},le={slots:pe,slotProps:Y},[de,ue]=rn("root",{elementType:r1e,shouldForwardComponentProp:!0,externalForwardedProps:le,ownerState:V,className:Pt(K.root,y),ref:t}),[ne,he]=rn("backdrop",{elementType:n1e,shouldForwardComponentProp:!0,externalForwardedProps:le,ownerState:V}),[me,Le]=rn("paper",{elementType:a1e,shouldForwardComponentProp:!0,externalForwardedProps:le,ownerState:V,className:Pt(K.paper,N.className)}),[Ye,je]=rn("container",{elementType:s1e,externalForwardedProps:le,ownerState:V,className:K.container}),[rt,ot]=rn("transition",{elementType:WP,externalForwardedProps:le,ownerState:V,additionalProps:{appear:!0,in:C,timeout:U,role:"presentation"}});return Z.jsx(de,{closeAfterTransition:!0,slots:{backdrop:ne},slotProps:{backdrop:{transitionDuration:U,as:u,...he}},disableEscapeKeyDown:v,onClose:w,open:C,onClick:W,...ue,...z,children:Z.jsx(rt,{...ot,children:Z.jsx(Ye,{onMouseDown:q,...je,children:Z.jsx(me,{as:A,elevation:24,role:"dialog","aria-describedby":a,"aria-labelledby":Q,"aria-modal":l,...Le,children:Z.jsx(yW.Provider,{value:re,children:p})})})})})});function o1e(n){return yn("MuiDialogActions",n)}vn("MuiDialogActions",["root","spacing"]);const l1e=n=>{const{classes:e,disableSpacing:t}=n;return gn({root:["root",!t&&"spacing"]},o1e,e)},c1e=ht("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.disableSpacing&&e.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:n})=>!n.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),u1e=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiDialogActions"}),{className:r,disableSpacing:s=!1,...a}=i,o={...i,disableSpacing:s},l=l1e(o);return Z.jsx(c1e,{className:Pt(l.root,r),ownerState:o,ref:t,...a})});function f1e(n){return yn("MuiDialogContent",n)}vn("MuiDialogContent",["root","dividers"]);function h1e(n){return yn("MuiDialogTitle",n)}const d1e=vn("MuiDialogTitle",["root"]),p1e=n=>{const{classes:e,dividers:t}=n;return gn({root:["root",t&&"dividers"]},f1e,e)},m1e=ht("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.dividers&&e.dividers]}})(kn(({theme:n})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:e})=>e.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(n.vars||n).palette.divider}`,borderBottom:`1px solid ${(n.vars||n).palette.divider}`}},{props:({ownerState:e})=>!e.dividers,style:{[`.${d1e.root} + &`]:{paddingTop:0}}}]}))),_W=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiDialogContent"}),{className:r,dividers:s=!1,...a}=i,o={...i,dividers:s},l=p1e(o);return Z.jsx(m1e,{className:Pt(l.root,r),ownerState:o,ref:t,...a})});function g1e(n){return yn("MuiDialogContentText",n)}vn("MuiDialogContentText",["root"]);const y1e=n=>{const{classes:e}=n,i=gn({root:["root"]},g1e,e);return{...e,...i}},v1e=ht(ts,{shouldForwardProp:n=>No(n)||n==="classes",name:"MuiDialogContentText",slot:"Root"})({}),_1e=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiDialogContentText"}),{children:r,className:s,...a}=i,o=y1e(a);return Z.jsx(v1e,{component:"p",variant:"body1",color:"textSecondary",ref:t,ownerState:a,className:Pt(o.root,s),...i,classes:o})}),b1e=n=>{const{classes:e}=n;return gn({root:["root"]},h1e,e)},x1e=ht(ts,{name:"MuiDialogTitle",slot:"Root"})({padding:"16px 24px",flex:"0 0 auto"}),bW=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiDialogTitle"}),{className:r,id:s,...a}=i,o=i,l=b1e(o),{titleId:u=s}=H.useContext(yW);return Z.jsx(x1e,{component:"h2",className:Pt(l.root,r),ownerState:o,ref:t,variant:"h6",id:s??u,...a})});function S1e(n){return yn("MuiDivider",n)}const w6=vn("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),E1e=n=>{const{absolute:e,children:t,classes:i,flexItem:r,light:s,orientation:a,textAlign:o,variant:l}=n;return gn({root:["root",e&&"absolute",l,s&&"light",a==="vertical"&&"vertical",r&&"flexItem",t&&"withChildren",t&&a==="vertical"&&"withChildrenVertical",o==="right"&&a!=="vertical"&&"textAlignRight",o==="left"&&a!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",a==="vertical"&&"wrapperVertical"]},S1e,i)},T1e=ht("div",{name:"MuiDivider",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.absolute&&e.absolute,e[t.variant],t.light&&e.light,t.orientation==="vertical"&&e.vertical,t.flexItem&&e.flexItem,t.children&&e.withChildren,t.children&&t.orientation==="vertical"&&e.withChildrenVertical,t.textAlign==="right"&&t.orientation!=="vertical"&&e.textAlignRight,t.textAlign==="left"&&t.orientation!=="vertical"&&e.textAlignLeft]}})(kn(({theme:n})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(n.vars||n).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:n.alpha((n.vars||n).palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:n.spacing(2),marginRight:n.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:n.spacing(1),marginBottom:n.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:e})=>!!e.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:e})=>e.children&&e.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(n.vars||n).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:e})=>e.orientation==="vertical"&&e.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(n.vars||n).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:e})=>e.textAlign==="right"&&e.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:e})=>e.textAlign==="left"&&e.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),w1e=ht("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.wrapper,t.orientation==="vertical"&&e.wrapperVertical]}})(kn(({theme:n})=>({display:"inline-block",paddingLeft:`calc(${n.spacing(1)} * 1.2)`,paddingRight:`calc(${n.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${n.spacing(1)} * 1.2)`,paddingBottom:`calc(${n.spacing(1)} * 1.2)`}}]}))),f_=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiDivider"}),{absolute:r=!1,children:s,className:a,orientation:o="horizontal",component:l=s||o==="vertical"?"div":"hr",flexItem:u=!1,light:h=!1,role:p=l!=="hr"?"separator":void 0,textAlign:y="center",variant:v="fullWidth",..._}=i,x={...i,absolute:r,component:l,flexItem:u,light:h,orientation:o,role:p,textAlign:y,variant:v},E=E1e(x);return Z.jsx(T1e,{as:l,className:Pt(E.root,a),role:p,ref:t,ownerState:x,"aria-orientation":p==="separator"&&(l!=="hr"||o==="vertical")?o:void 0,..._,children:s?Z.jsx(w1e,{className:E.wrapper,ownerState:x,children:s}):null})});f_&&(f_.muiSkipListHighlight=!0);function C1e(n,e,t){const i=e.getBoundingClientRect(),r=t&&t.getBoundingClientRect(),s=Hl(e);let a;if(e.fakeTransform)a=e.fakeTransform;else{const u=s.getComputedStyle(e);a=u.getPropertyValue("-webkit-transform")||u.getPropertyValue("transform")}let o=0,l=0;if(a&&a!=="none"&&typeof a=="string"){const u=a.split("(")[1].split(")")[0].split(",");o=parseInt(u[4],10),l=parseInt(u[5],10)}return n==="left"?r?`translateX(${r.right+o-i.left}px)`:`translateX(${s.innerWidth+o-i.left}px)`:n==="right"?r?`translateX(-${i.right-r.left-o}px)`:`translateX(-${i.left+i.width-o}px)`:n==="up"?r?`translateY(${r.bottom+l-i.top}px)`:`translateY(${s.innerHeight+l-i.top}px)`:r?`translateY(-${i.top-r.top+i.height-l}px)`:`translateY(-${i.top+i.height-l}px)`}function A1e(n){return typeof n=="function"?n():n}function gw(n,e,t){const i=A1e(t),r=C1e(n,e,i);r&&(e.style.webkitTransform=r,e.style.transform=r)}const xW=H.forwardRef(function(e,t){const i=cd(),r={enter:i.transitions.easing.easeOut,exit:i.transitions.easing.sharp},s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{addEndListener:a,appear:o=!0,children:l,container:u,direction:h="down",easing:p=r,in:y,onEnter:v,onEntered:_,onEntering:x,onExit:E,onExited:S,onExiting:w,style:C,timeout:A=s,TransitionComponent:N=Nc,...L}=e,I=H.useRef(null),D=Vr(sm(l),I,t),P=Q=>re=>{Q&&(re===void 0?Q(I.current):Q(I.current,re))},U=P((Q,re)=>{gw(h,Q,u),jL(Q),v&&v(Q,re)}),F=P((Q,re)=>{const pe=Kp({timeout:A,style:C,easing:p},{mode:"enter"});Q.style.webkitTransition=i.transitions.create("-webkit-transform",{...pe}),Q.style.transition=i.transitions.create("transform",{...pe}),Q.style.webkitTransform="none",Q.style.transform="none",x&&x(Q,re)}),z=P(_),V=P(w),K=P(Q=>{const re=Kp({timeout:A,style:C,easing:p},{mode:"exit"});Q.style.webkitTransition=i.transitions.create("-webkit-transform",re),Q.style.transition=i.transitions.create("transform",re),gw(h,Q,u),E&&E(Q)}),J=P(Q=>{Q.style.webkitTransition="",Q.style.transition="",S&&S(Q)}),q=Q=>{a&&a(I.current,Q)},W=H.useCallback(()=>{I.current&&gw(h,I.current,u)},[h,u]);return H.useEffect(()=>{if(y||h==="down"||h==="right")return;const Q=YS(()=>{I.current&&gw(h,I.current,u)}),re=Hl(I.current);return re.addEventListener("resize",Q),()=>{Q.clear(),re.removeEventListener("resize",Q)}},[h,y,u]),H.useEffect(()=>{y||W()},[y,W]),Z.jsx(N,{nodeRef:I,onEnter:U,onEntered:z,onEntering:F,onExit:K,onExited:J,onExiting:V,addEndListener:q,appear:o,in:y,timeout:A,...L,children:(Q,{ownerState:re,...pe})=>H.cloneElement(l,{ref:D,style:{visibility:Q==="exited"&&!y?"hidden":void 0,...C,...l.props.style},...pe})})}),M1e=n=>{const{classes:e,disableUnderline:t,startAdornment:i,endAdornment:r,size:s,hiddenLabel:a,multiline:o}=n,l={root:["root",!t&&"underline",i&&"adornedStart",r&&"adornedEnd",s==="small"&&`size${yt(s)}`,a&&"hiddenLabel",o&&"multiline"],input:["input"]},u=gn(l,K_e,e);return{...e,...u}},R1e=ht(qM,{shouldForwardProp:n=>No(n)||n==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[...jM(n,e),!t.disableUnderline&&e.underline]}})(kn(({theme:n})=>{const e=n.palette.mode==="light",t=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",i=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",r=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",s=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:n.vars?n.vars.palette.FilledInput.bg:i,borderTopLeftRadius:(n.vars||n).shape.borderRadius,borderTopRightRadius:(n.vars||n).shape.borderRadius,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),"&:hover":{backgroundColor:n.vars?n.vars.palette.FilledInput.hoverBg:r,"@media (hover: none)":{backgroundColor:n.vars?n.vars.palette.FilledInput.bg:i}},[`&.${dg.focused}`]:{backgroundColor:n.vars?n.vars.palette.FilledInput.bg:i},[`&.${dg.disabled}`]:{backgroundColor:n.vars?n.vars.palette.FilledInput.disabledBg:s},variants:[{props:({ownerState:a})=>!a.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${dg.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${dg.error}`]:{"&::before, &::after":{borderBottomColor:(n.vars||n).palette.error.main}},"&::before":{borderBottom:`1px solid ${n.vars?n.alpha(n.vars.palette.common.onBackground,n.vars.opacity.inputUnderline):t}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${dg.disabled}, .${dg.error}):before`]:{borderBottom:`1px solid ${(n.vars||n).palette.text.primary}`},[`&.${dg.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(n.palette).filter(ia()).map(([a])=>{var o;return{props:{disableUnderline:!1,color:a},style:{"&::after":{borderBottom:`2px solid ${(o=(n.vars||n).palette[a])==null?void 0:o.main}`}}}}),{props:({ownerState:a})=>a.startAdornment,style:{paddingLeft:12}},{props:({ownerState:a})=>a.endAdornment,style:{paddingRight:12}},{props:({ownerState:a})=>a.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:a,size:o})=>a.multiline&&o==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:a})=>a.multiline&&a.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:a})=>a.multiline&&a.hiddenLabel&&a.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),O1e=ht(WM,{name:"MuiFilledInput",slot:"Input",overridesResolver:GM})(kn(({theme:n})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!n.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:n.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:n.palette.mode==="light"?null:"#fff",caretColor:n.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...n.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[n.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:e})=>e.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}},{props:({ownerState:e})=>e.hiddenLabel&&e.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:e})=>e.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),e4=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiFilledInput"}),{disableUnderline:r=!1,components:s={},componentsProps:a,fullWidth:o=!1,hiddenLabel:l,inputComponent:u="input",multiline:h=!1,slotProps:p,slots:y={},type:v="text",..._}=i,x={...i,disableUnderline:r,fullWidth:o,inputComponent:u,multiline:h,type:v},E=M1e(i),S={root:{ownerState:x},input:{ownerState:x}},w=p??a?aa(S,p??a):S,C=y.root??s.Root??R1e,A=y.input??s.Input??O1e;return Z.jsx(JL,{slots:{root:C,input:A},slotProps:w,fullWidth:o,inputComponent:u,multiline:h,ref:t,type:v,..._,classes:E})});e4.muiName="Input";function I1e(n){return yn("MuiFormControl",n)}vn("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const P1e=n=>{const{classes:e,margin:t,fullWidth:i}=n,r={root:["root",t!=="none"&&`margin${yt(t)}`,i&&"fullWidth"]};return gn(r,I1e,e)},D1e=ht("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`margin${yt(t.margin)}`],t.fullWidth&&e.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),W1=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiFormControl"}),{children:r,className:s,color:a="primary",component:o="div",disabled:l=!1,error:u=!1,focused:h,fullWidth:p=!1,hiddenLabel:y=!1,margin:v="none",required:_=!1,size:x="medium",variant:E="outlined",...S}=i,w={...i,color:a,component:o,disabled:l,error:u,fullWidth:p,hiddenLabel:y,margin:v,required:_,size:x,variant:E},C=P1e(w),[A,N]=H.useState(()=>{let J=!1;return r&&H.Children.forEach(r,q=>{if(!_x(q,["Input","Select"]))return;const W=_x(q,["Select"])?q.props.input:q;W&&q_e(W.props)&&(J=!0)}),J}),[L,I]=H.useState(()=>{let J=!1;return r&&H.Children.forEach(r,q=>{_x(q,["Input","Select"])&&(QC(q.props,!0)||QC(q.props.inputProps,!0))&&(J=!0)}),J}),[D,P]=H.useState(!1);l&&D&&P(!1);const U=h!==void 0&&!l?h:D;let F;H.useRef(!1);const z=H.useCallback(()=>{I(!0)},[]),V=H.useCallback(()=>{I(!1)},[]),K=H.useMemo(()=>({adornedStart:A,setAdornedStart:N,color:a,disabled:l,error:u,filled:L,focused:U,fullWidth:p,hiddenLabel:y,size:x,onBlur:()=>{P(!1)},onFocus:()=>{P(!0)},onEmpty:V,onFilled:z,registerEffect:F,required:_,variant:E}),[A,a,l,u,L,U,p,y,F,V,z,_,x,E]);return Z.jsx(QL.Provider,{value:K,children:Z.jsx(D1e,{as:o,ownerState:w,className:Pt(C.root,s),ref:t,...S,children:r})})});function N1e(n){return yn("MuiFormControlLabel",n)}const $1=vn("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),L1e=n=>{const{classes:e,disabled:t,labelPlacement:i,error:r,required:s}=n,a={root:["root",t&&"disabled",`labelPlacement${yt(i)}`,r&&"error",s&&"required"],label:["label",t&&"disabled"],asterisk:["asterisk",r&&"error"]};return gn(a,N1e,e)},U1e=ht("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${$1.label}`]:e.label},e.root,e[`labelPlacement${yt(t.labelPlacement)}`]]}})(kn(({theme:n})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${$1.disabled}`]:{cursor:"default"},[`& .${$1.label}`]:{[`&.${$1.disabled}`]:{color:(n.vars||n).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:e})=>e==="start"||e==="top"||e==="bottom",style:{marginLeft:16}}]}))),k1e=ht("span",{name:"MuiFormControlLabel",slot:"Asterisk"})(kn(({theme:n})=>({[`&.${$1.error}`]:{color:(n.vars||n).palette.error.main}}))),z1e=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiFormControlLabel"}),{checked:r,className:s,componentsProps:a={},control:o,disabled:l,disableTypography:u,inputRef:h,label:p,labelPlacement:y="end",name:v,onChange:_,required:x,slots:E={},slotProps:S={},value:w,...C}=i,A=am(),N=l??o.props.disabled??(A==null?void 0:A.disabled),L=x??o.props.required,I={disabled:N,required:L};["checked","name","onChange","value","inputRef"].forEach(J=>{typeof o.props[J]>"u"&&typeof i[J]<"u"&&(I[J]=i[J])});const D=vy({props:i,muiFormControl:A,states:["error"]}),P={...i,disabled:N,labelPlacement:y,required:L,error:D.error},U=L1e(P),F={slots:E,slotProps:{...a,...S}},[z,V]=rn("typography",{elementType:ts,externalForwardedProps:F,ownerState:P});let K=p;return K!=null&&K.type!==ts&&!u&&(K=Z.jsx(z,{component:"span",...V,className:Pt(U.label,V==null?void 0:V.className),children:K})),Z.jsxs(U1e,{className:Pt(U.root,s),ownerState:P,ref:t,...C,children:[H.cloneElement(o,I),L?Z.jsxs("div",{children:[K,Z.jsxs(k1e,{ownerState:P,"aria-hidden":!0,className:U.asterisk,children:["","*"]})]}):K]})});function B1e(n){return yn("MuiFormHelperText",n)}const C6=vn("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var A6;const F1e=n=>{const{classes:e,contained:t,size:i,disabled:r,error:s,filled:a,focused:o,required:l}=n,u={root:["root",r&&"disabled",s&&"error",i&&`size${yt(i)}`,t&&"contained",o&&"focused",a&&"filled",l&&"required"]};return gn(u,B1e,e)},V1e=ht("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.size&&e[`size${yt(t.size)}`],t.contained&&e.contained,t.filled&&e.filled]}})(kn(({theme:n})=>({color:(n.vars||n).palette.text.secondary,...n.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${C6.disabled}`]:{color:(n.vars||n).palette.text.disabled},[`&.${C6.error}`]:{color:(n.vars||n).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:e})=>e.contained,style:{marginLeft:14,marginRight:14}}]}))),H1e=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiFormHelperText"}),{children:r,className:s,component:a="p",disabled:o,error:l,filled:u,focused:h,margin:p,required:y,variant:v,..._}=i,x=am(),E=vy({props:i,muiFormControl:x,states:["variant","size","disabled","error","filled","focused","required"]}),S={...i,component:a,contained:E.variant==="filled"||E.variant==="outlined",variant:E.variant,size:E.size,disabled:E.disabled,error:E.error,filled:E.filled,focused:E.focused,required:E.required};delete S.ownerState;const w=F1e(S);return Z.jsx(V1e,{as:a,className:Pt(w.root,s),ref:t,..._,ownerState:S,children:r===" "?A6||(A6=Z.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):r})});function j1e(n){return yn("MuiFormLabel",n)}const Ex=vn("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),G1e=n=>{const{classes:e,color:t,focused:i,disabled:r,error:s,filled:a,required:o}=n,l={root:["root",`color${yt(t)}`,r&&"disabled",s&&"error",a&&"filled",i&&"focused",o&&"required"],asterisk:["asterisk",s&&"error"]};return gn(l,j1e,e)},q1e=ht("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled]}})(kn(({theme:n})=>({color:(n.vars||n).palette.text.secondary,...n.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(n.palette).filter(ia()).map(([e])=>({props:{color:e},style:{[`&.${Ex.focused}`]:{color:(n.vars||n).palette[e].main}}})),{props:{},style:{[`&.${Ex.disabled}`]:{color:(n.vars||n).palette.text.disabled},[`&.${Ex.error}`]:{color:(n.vars||n).palette.error.main}}}]}))),W1e=ht("span",{name:"MuiFormLabel",slot:"Asterisk"})(kn(({theme:n})=>({[`&.${Ex.error}`]:{color:(n.vars||n).palette.error.main}}))),$1e=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiFormLabel"}),{children:r,className:s,color:a,component:o="label",disabled:l,error:u,filled:h,focused:p,required:y,...v}=i,_=am(),x=vy({props:i,muiFormControl:_,states:["color","required","focused","disabled","error","filled"]}),E={...i,color:x.color||"primary",component:o,disabled:x.disabled,error:x.error,filled:x.filled,focused:x.focused,required:x.required},S=G1e(E);return Z.jsxs(q1e,{as:o,ownerState:E,className:Pt(S.root,s),ref:t,...v,children:[r,x.required&&Z.jsxs(W1e,{ownerState:E,"aria-hidden":!0,className:S.asterisk,children:["","*"]})]})}),X1e=bye({createStyledComponent:ht("div",{name:"MuiGrid",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.container&&e.container]}}),componentName:"MuiGrid",useThemeProps:n=>En({props:n,name:"MuiGrid"}),useTheme:cd});function $P(n){return`scale(${n}, ${n**2})`}const Y1e={entering:{opacity:1,transform:$P(1)},entered:{opacity:1,transform:"none"}},y3=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),JC=H.forwardRef(function(e,t){const{addEndListener:i,appear:r=!0,children:s,easing:a,in:o,onEnter:l,onEntered:u,onEntering:h,onExit:p,onExited:y,onExiting:v,style:_,timeout:x="auto",TransitionComponent:E=Nc,...S}=e,w=kg(),C=H.useRef(),A=cd(),N=H.useRef(null),L=Vr(N,sm(s),t),I=J=>q=>{if(J){const W=N.current;q===void 0?J(W):J(W,q)}},D=I(h),P=I((J,q)=>{jL(J);const{duration:W,delay:Q,easing:re}=Kp({style:_,timeout:x,easing:a},{mode:"enter"});let pe;x==="auto"?(pe=A.transitions.getAutoHeightDuration(J.clientHeight),C.current=pe):pe=W,J.style.transition=[A.transitions.create("opacity",{duration:pe,delay:Q}),A.transitions.create("transform",{duration:y3?pe:pe*.666,delay:Q,easing:re})].join(","),l&&l(J,q)}),U=I(u),F=I(v),z=I(J=>{const{duration:q,delay:W,easing:Q}=Kp({style:_,timeout:x,easing:a},{mode:"exit"});let re;x==="auto"?(re=A.transitions.getAutoHeightDuration(J.clientHeight),C.current=re):re=q,J.style.transition=[A.transitions.create("opacity",{duration:re,delay:W}),A.transitions.create("transform",{duration:y3?re:re*.666,delay:y3?W:W||re*.333,easing:Q})].join(","),J.style.opacity=0,J.style.transform=$P(.75),p&&p(J)}),V=I(y),K=J=>{x==="auto"&&w.start(C.current||0,J),i&&i(N.current,J)};return Z.jsx(E,{appear:r,in:o,nodeRef:N,onEnter:P,onEntered:U,onEntering:D,onExit:z,onExited:V,onExiting:F,addEndListener:K,timeout:x==="auto"?null:x,...S,children:(J,{ownerState:q,...W})=>H.cloneElement(s,{style:{opacity:0,transform:$P(.75),visibility:J==="exited"&&!o?"hidden":void 0,...Y1e[J],..._,...s.props.style},ref:L,...W})})});JC&&(JC.muiSupportAuto=!0);const K1e=n=>{const{classes:e,disableUnderline:t}=n,r=gn({root:["root",!t&&"underline"],input:["input"]},X_e,e);return{...e,...r}},Z1e=ht(qM,{shouldForwardProp:n=>No(n)||n==="classes",name:"MuiInput",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[...jM(n,e),!t.disableUnderline&&e.underline]}})(kn(({theme:n})=>{let t=n.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return n.vars&&(t=n.alpha(n.vars.palette.common.onBackground,n.vars.opacity.inputUnderline)),{position:"relative",variants:[{props:({ownerState:i})=>i.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:i})=>!i.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${y1.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${y1.error}`]:{"&::before, &::after":{borderBottomColor:(n.vars||n).palette.error.main}},"&::before":{borderBottom:`1px solid ${t}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${y1.disabled}, .${y1.error}):before`]:{borderBottom:`2px solid ${(n.vars||n).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${t}`}},[`&.${y1.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(n.palette).filter(ia()).map(([i])=>({props:{color:i,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(n.vars||n).palette[i].main}`}}}))]}})),Q1e=ht(WM,{name:"MuiInput",slot:"Input",overridesResolver:GM})({}),t4=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiInput"}),{disableUnderline:r=!1,components:s={},componentsProps:a,fullWidth:o=!1,inputComponent:l="input",multiline:u=!1,slotProps:h,slots:p={},type:y="text",...v}=i,_=K1e(i),E={root:{ownerState:{disableUnderline:r}}},S=h??a?aa(h??a,E):E,w=p.root??s.Root??Z1e,C=p.input??s.Input??Q1e;return Z.jsx(JL,{slots:{root:w,input:C},slotProps:S,fullWidth:o,inputComponent:l,multiline:u,ref:t,type:y,...v,classes:_})});t4.muiName="Input";function J1e(n){return yn("MuiInputLabel",n)}vn("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const exe=n=>{const{classes:e,formControl:t,size:i,shrink:r,disableAnimation:s,variant:a,required:o}=n,l={root:["root",t&&"formControl",!s&&"animated",r&&"shrink",i&&i!=="medium"&&`size${yt(i)}`,a],asterisk:[o&&"asterisk"]},u=gn(l,J1e,e);return{...e,...u}},txe=ht($1e,{shouldForwardProp:n=>No(n)||n==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${Ex.asterisk}`]:e.asterisk},e.root,t.formControl&&e.formControl,t.size==="small"&&e.sizeSmall,t.shrink&&e.shrink,!t.disableAnimation&&e.animated,t.focused&&e.focused,e[t.variant]]}})(kn(({theme:n})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:e})=>e.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:e})=>e.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:e})=>!e.disableAnimation,style:{transition:n.transitions.create(["color","transform","max-width"],{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:e,ownerState:t})=>e==="filled"&&t.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:e,ownerState:t,size:i})=>e==="filled"&&t.shrink&&i==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:e,ownerState:t})=>e==="outlined"&&t.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),x2=H.forwardRef(function(e,t){const i=En({name:"MuiInputLabel",props:e}),{disableAnimation:r=!1,margin:s,shrink:a,variant:o,className:l,...u}=i,h=am();let p=a;typeof p>"u"&&h&&(p=h.filled||h.focused||h.adornedStart);const y=vy({props:i,muiFormControl:h,states:["size","variant","required","focused"]}),v={...i,disableAnimation:r,formControl:h,shrink:p,size:y.size,variant:y.variant,required:y.required,focused:y.focused},_=exe(v);return Z.jsx(txe,{"data-shrink":p,ref:t,className:Pt(_.root,l),...u,ownerState:v,classes:_})}),Gh=H.createContext({});function nxe(n){return yn("MuiList",n)}vn("MuiList",["root","padding","dense","subheader"]);const ixe=n=>{const{classes:e,disablePadding:t,dense:i,subheader:r}=n;return gn({root:["root",!t&&"padding",i&&"dense",r&&"subheader"]},nxe,e)},rxe=ht("ul",{name:"MuiList",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.disablePadding&&e.padding,t.dense&&e.dense,t.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:n})=>!n.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:n})=>n.subheader,style:{paddingTop:0}}]}),n4=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiList"}),{children:r,className:s,component:a="ul",dense:o=!1,disablePadding:l=!1,subheader:u,...h}=i,p=H.useMemo(()=>({dense:o}),[o]),y={...i,component:a,dense:o,disablePadding:l},v=ixe(y);return Z.jsx(Gh.Provider,{value:p,children:Z.jsxs(rxe,{as:a,className:Pt(v.root,s),ref:t,ownerState:y,...h,children:[u,r]})})});function sxe(n){return yn("MuiListItem",n)}vn("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);const axe=vn("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function oxe(n){return yn("MuiListItemSecondaryAction",n)}vn("MuiListItemSecondaryAction",["root","disableGutters"]);const lxe=n=>{const{disableGutters:e,classes:t}=n;return gn({root:["root",e&&"disableGutters"]},oxe,t)},cxe=ht("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.disableGutters&&e.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:n})=>n.disableGutters,style:{right:0}}]}),SW=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiListItemSecondaryAction"}),{className:r,...s}=i,a=H.useContext(Gh),o={...i,disableGutters:a.disableGutters},l=lxe(o);return Z.jsx(cxe,{className:Pt(l.root,r),ownerState:o,ref:t,...s})});SW.muiName="ListItemSecondaryAction";const uxe=(n,e)=>{const{ownerState:t}=n;return[e.root,t.dense&&e.dense,t.alignItems==="flex-start"&&e.alignItemsFlexStart,t.divider&&e.divider,!t.disableGutters&&e.gutters,!t.disablePadding&&e.padding,t.hasSecondaryAction&&e.secondaryAction]},fxe=n=>{const{alignItems:e,classes:t,dense:i,disableGutters:r,disablePadding:s,divider:a,hasSecondaryAction:o}=n;return gn({root:["root",i&&"dense",!r&&"gutters",!s&&"padding",a&&"divider",e==="flex-start"&&"alignItemsFlexStart",o&&"secondaryAction"],container:["container"],secondaryAction:["secondaryAction"]},sxe,t)},hxe=ht("div",{name:"MuiListItem",slot:"Root",overridesResolver:uxe})(kn(({theme:n})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>!e.disablePadding&&e.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:e})=>!e.disablePadding&&!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>!e.disablePadding&&!!e.secondaryAction,style:{paddingRight:48}},{props:({ownerState:e})=>!!e.secondaryAction,style:{[`& > .${axe.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(n.vars||n).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>e.button,style:{transition:n.transitions.create("background-color",{duration:n.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(n.vars||n).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:e})=>e.hasSecondaryAction,style:{paddingRight:48}}]}))),dxe=ht("li",{name:"MuiListItem",slot:"Container"})({position:"relative"}),EW=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiListItem"}),{alignItems:r="center",children:s,className:a,component:o,components:l={},componentsProps:u={},ContainerComponent:h="li",ContainerProps:{className:p,...y}={},dense:v=!1,disableGutters:_=!1,disablePadding:x=!1,divider:E=!1,secondaryAction:S,slotProps:w={},slots:C={},...A}=i,N=H.useContext(Gh),L=H.useMemo(()=>({dense:v||N.dense||!1,alignItems:r,disableGutters:_}),[r,N.dense,v,_]),I=H.useRef(null),D=H.Children.toArray(s),P=D.length&&_x(D[D.length-1],["ListItemSecondaryAction"]),U={...i,alignItems:r,dense:L.dense,disableGutters:_,disablePadding:x,divider:E,hasSecondaryAction:P},F=fxe(U),z=Vr(I,t),V={slots:C,slotProps:w},[K,J]=rn("secondaryAction",{elementType:SW,externalForwardedProps:V,ownerState:U,className:F.secondaryAction}),q=C.root||l.Root||hxe,W=w.root||u.root||{},Q={className:Pt(F.root,W.className,a),...A};let re=o||"li";return P?(re=!Q.component&&!o?"div":re,h==="li"&&(re==="li"?re="div":Q.component==="li"&&(Q.component="div")),Z.jsx(Gh.Provider,{value:L,children:Z.jsxs(dxe,{as:h,className:Pt(F.container,p),ref:z,ownerState:U,...y,children:[Z.jsx(q,{...W,...!r_(q)&&{as:re,ownerState:{...U,...W.ownerState}},...Q,children:D}),D.pop()]})})):Z.jsx(Gh.Provider,{value:L,children:Z.jsxs(q,{...W,as:re,ref:z,...!r_(q)&&{ownerState:{...U,...W.ownerState}},...Q,children:[D,S&&Z.jsx(K,{...J,children:S})]})})});function pxe(n){return yn("MuiListItemIcon",n)}const M6=vn("MuiListItemIcon",["root","alignItemsFlexStart"]),mxe=n=>{const{alignItems:e,classes:t}=n;return gn({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},pxe,t)},gxe=ht("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.alignItems==="flex-start"&&e.alignItemsFlexStart]}})(kn(({theme:n})=>({minWidth:56,color:(n.vars||n).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}))),y0=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiListItemIcon"}),{className:r,...s}=i,a=H.useContext(Gh),o={...i,alignItems:a.alignItems},l=mxe(o);return Z.jsx(gxe,{className:Pt(l.root,r),ownerState:o,ref:t,...s})});function yxe(n){return yn("MuiListItemText",n)}const v0=vn("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),vxe=n=>{const{classes:e,inset:t,primary:i,secondary:r,dense:s}=n;return gn({root:["root",t&&"inset",s&&"dense",i&&r&&"multiline"],primary:["primary"],secondary:["secondary"]},yxe,e)},_xe=ht("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${v0.primary}`]:e.primary},{[`& .${v0.secondary}`]:e.secondary},e.root,t.inset&&e.inset,t.primary&&t.secondary&&e.multiline,t.dense&&e.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${i6.root}:where(& .${v0.primary})`]:{display:"block"},[`.${i6.root}:where(& .${v0.secondary})`]:{display:"block"},variants:[{props:({ownerState:n})=>n.primary&&n.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:n})=>n.inset,style:{paddingLeft:56}}]}),i4=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiListItemText"}),{children:r,className:s,disableTypography:a=!1,inset:o=!1,primary:l,primaryTypographyProps:u,secondary:h,secondaryTypographyProps:p,slots:y={},slotProps:v={},..._}=i,{dense:x}=H.useContext(Gh);let E=l??r,S=h;const w={...i,disableTypography:a,inset:o,primary:!!E,secondary:!!S,dense:x},C=vxe(w),A={slots:y,slotProps:{primary:u,secondary:p,...v}},[N,L]=rn("root",{className:Pt(C.root,s),elementType:_xe,externalForwardedProps:{...A,..._},ownerState:w,ref:t}),[I,D]=rn("primary",{className:C.primary,elementType:ts,externalForwardedProps:A,ownerState:w}),[P,U]=rn("secondary",{className:C.secondary,elementType:ts,externalForwardedProps:A,ownerState:w});return E!=null&&E.type!==ts&&!a&&(E=Z.jsx(I,{variant:x?"body2":"body1",component:D!=null&&D.variant?void 0:"span",...D,children:E})),S!=null&&S.type!==ts&&!a&&(S=Z.jsx(P,{variant:"body2",color:"textSecondary",...U,children:S})),Z.jsxs(N,{...L,children:[E,S]})});function v3(n,e,t){return n===e?n.firstChild:e&&e.nextElementSibling?e.nextElementSibling:t?null:n.firstChild}function R6(n,e,t){return n===e?t?n.firstChild:n.lastChild:e&&e.previousElementSibling?e.previousElementSibling:t?null:n.lastChild}function TW(n,e){if(e===void 0)return!0;let t=n.innerText;return t===void 0&&(t=n.textContent),t=t.trim().toLowerCase(),t.length===0?!1:e.repeating?t[0]===e.keys[0]:t.startsWith(e.keys.join(""))}function v1(n,e,t,i,r,s){let a=!1,o=r(n,e,e?t:!1);for(;o;){if(o===n.firstChild){if(a)return!1;a=!0}const l=i?!1:o.disabled||o.getAttribute("aria-disabled")==="true";if(!o.hasAttribute("tabindex")||!TW(o,s)||l)o=r(n,o,t);else return o.focus(),!0}return!1}const wW=H.forwardRef(function(e,t){const{actions:i,autoFocus:r=!1,autoFocusItem:s=!1,children:a,className:o,disabledItemsFocusable:l=!1,disableListWrap:u=!1,onKeyDown:h,variant:p="selectedMenu",...y}=e,v=H.useRef(null),_=H.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Tu(()=>{r&&v.current.focus()},[r]),H.useImperativeHandle(i,()=>({adjustStyleForScrollbar:(C,{direction:A})=>{const N=!v.current.style.width;if(C.clientHeight<v.current.clientHeight&&N){const L=`${mW(Hl(C))}px`;v.current.style[A==="rtl"?"paddingLeft":"paddingRight"]=L,v.current.style.width=`calc(100% + ${L})`}return v.current}}),[]);const x=C=>{const A=v.current,N=C.key;if(C.ctrlKey||C.metaKey||C.altKey){h&&h(C);return}const I=g0(Aa(A));if(N==="ArrowDown")C.preventDefault(),v1(A,I,u,l,v3);else if(N==="ArrowUp")C.preventDefault(),v1(A,I,u,l,R6);else if(N==="Home")C.preventDefault(),v1(A,null,u,l,v3);else if(N==="End")C.preventDefault(),v1(A,null,u,l,R6);else if(N.length===1){const D=_.current,P=N.toLowerCase(),U=performance.now();D.keys.length>0&&(U-D.lastTime>500?(D.keys=[],D.repeating=!0,D.previousKeyMatched=!0):D.repeating&&P!==D.keys[0]&&(D.repeating=!1)),D.lastTime=U,D.keys.push(P);const F=I&&!D.repeating&&TW(I,D);D.previousKeyMatched&&(F||v1(A,I,!1,l,v3,D))?C.preventDefault():D.previousKeyMatched=!1}h&&h(C)},E=Vr(v,t);let S=-1;H.Children.forEach(a,(C,A)=>{if(!H.isValidElement(C)){S===A&&(S+=1,S>=a.length&&(S=-1));return}C.props.disabled||(p==="selectedMenu"&&C.props.selected||S===-1)&&(S=A),S===A&&(C.props.disabled||C.props.muiSkipListHighlight||C.type.muiSkipListHighlight)&&(S+=1,S>=a.length&&(S=-1))});const w=H.Children.map(a,(C,A)=>{if(A===S){const N={};return s&&(N.autoFocus=!0),C.props.tabIndex===void 0&&p==="selectedMenu"&&(N.tabIndex=0),H.cloneElement(C,N)}return C});return Z.jsx(n4,{role:"menu",ref:E,className:o,onKeyDown:x,tabIndex:r?0:-1,...y,children:w})});function bxe(n){return yn("MuiPopover",n)}vn("MuiPopover",["root","paper"]);function O6(n,e){let t=0;return typeof e=="number"?t=e:e==="center"?t=n.height/2:e==="bottom"&&(t=n.height),t}function I6(n,e){let t=0;return typeof e=="number"?t=e:e==="center"?t=n.width/2:e==="right"&&(t=n.width),t}function P6(n){return[n.horizontal,n.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function yw(n){return typeof n=="function"?n():n}const xxe=n=>{const{classes:e}=n;return gn({root:["root"],paper:["paper"]},bxe,e)},Sxe=ht(gW,{name:"MuiPopover",slot:"Root"})({}),CW=ht(KS,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Exe=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiPopover"}),{action:r,anchorEl:s,anchorOrigin:a={vertical:"top",horizontal:"left"},anchorPosition:o,anchorReference:l="anchorEl",children:u,className:h,container:p,elevation:y=8,marginThreshold:v=16,open:_,PaperProps:x={},slots:E={},slotProps:S={},transformOrigin:w={vertical:"top",horizontal:"left"},TransitionComponent:C,transitionDuration:A="auto",TransitionProps:N={},disableScrollLock:L=!1,...I}=i,D=H.useRef(),P={...i,anchorOrigin:a,anchorReference:l,elevation:y,marginThreshold:v,transformOrigin:w,TransitionComponent:C,transitionDuration:A,TransitionProps:N},U=xxe(P),F=H.useCallback(()=>{if(l==="anchorPosition")return o;const je=yw(s),ot=(je&&je.nodeType===1?je:Aa(D.current).body).getBoundingClientRect();return{top:ot.top+O6(ot,a.vertical),left:ot.left+I6(ot,a.horizontal)}},[s,a.horizontal,a.vertical,o,l]),z=H.useCallback(je=>({vertical:O6(je,w.vertical),horizontal:I6(je,w.horizontal)}),[w.horizontal,w.vertical]),V=H.useCallback(je=>{const rt={width:je.offsetWidth,height:je.offsetHeight},ot=z(rt);if(l==="none")return{top:null,left:null,transformOrigin:P6(ot)};const dt=F();let te=dt.top-ot.vertical,Ie=dt.left-ot.horizontal;const Ve=te+rt.height,Ue=Ie+rt.width,Re=Hl(yw(s)),ut=Re.innerHeight-v,We=Re.innerWidth-v;if(v!==null&&te<v){const ae=te-v;te-=ae,ot.vertical+=ae}else if(v!==null&&Ve>ut){const ae=Ve-ut;te-=ae,ot.vertical+=ae}if(v!==null&&Ie<v){const ae=Ie-v;Ie-=ae,ot.horizontal+=ae}else if(Ue>We){const ae=Ue-We;Ie-=ae,ot.horizontal+=ae}return{top:`${Math.round(te)}px`,left:`${Math.round(Ie)}px`,transformOrigin:P6(ot)}},[s,l,F,z,v]),[K,J]=H.useState(_),q=H.useCallback(()=>{const je=D.current;if(!je)return;const rt=V(je);rt.top!==null&&je.style.setProperty("top",rt.top),rt.left!==null&&(je.style.left=rt.left),je.style.transformOrigin=rt.transformOrigin,J(!0)},[V]);H.useEffect(()=>(L&&window.addEventListener("scroll",q),()=>window.removeEventListener("scroll",q)),[s,L,q]);const W=()=>{q()},Q=()=>{J(!1)};H.useEffect(()=>{_&&q()}),H.useImperativeHandle(r,()=>_?{updatePosition:()=>{q()}}:null,[_,q]),H.useEffect(()=>{if(!_)return;const je=YS(()=>{q()}),rt=Hl(yw(s));return rt.addEventListener("resize",je),()=>{je.clear(),rt.removeEventListener("resize",je)}},[s,_,q]);let re=A;const pe={slots:{transition:C,...E},slotProps:{transition:N,paper:x,...S}},[Y,le]=rn("transition",{elementType:JC,externalForwardedProps:pe,ownerState:P,getSlotProps:je=>({...je,onEntering:(rt,ot)=>{var dt;(dt=je.onEntering)==null||dt.call(je,rt,ot),W()},onExited:rt=>{var ot;(ot=je.onExited)==null||ot.call(je,rt),Q()}}),additionalProps:{appear:!0,in:_}});A==="auto"&&!Y.muiSupportAuto&&(re=void 0);const de=p||(s?Aa(yw(s)).body:void 0),[ue,{slots:ne,slotProps:he,...me}]=rn("root",{ref:t,elementType:Sxe,externalForwardedProps:{...pe,...I},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:E.backdrop},slotProps:{backdrop:$q(typeof S.backdrop=="function"?S.backdrop(P):S.backdrop,{invisible:!0})},container:de,open:_},ownerState:P,className:Pt(U.root,h)}),[Le,Ye]=rn("paper",{ref:D,className:U.paper,elementType:CW,externalForwardedProps:pe,shouldForwardComponentProp:!0,additionalProps:{elevation:y,style:K?void 0:{opacity:0}},ownerState:P});return Z.jsx(ue,{...me,...!r_(ue)&&{slots:ne,slotProps:he,disableScrollLock:L},children:Z.jsx(Y,{...le,timeout:re,children:Z.jsx(Le,{...Ye,children:u})})})});function Txe(n){return yn("MuiMenu",n)}vn("MuiMenu",["root","paper","list"]);const wxe={vertical:"top",horizontal:"right"},Cxe={vertical:"top",horizontal:"left"},Axe=n=>{const{classes:e}=n;return gn({root:["root"],paper:["paper"],list:["list"]},Txe,e)},Mxe=ht(Exe,{shouldForwardProp:n=>No(n)||n==="classes",name:"MuiMenu",slot:"Root"})({}),Rxe=ht(CW,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Oxe=ht(wW,{name:"MuiMenu",slot:"List"})({outline:0}),AW=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiMenu"}),{autoFocus:r=!0,children:s,className:a,disableAutoFocusItem:o=!1,MenuListProps:l={},onClose:u,open:h,PaperProps:p={},PopoverClasses:y,transitionDuration:v="auto",TransitionProps:{onEntering:_,...x}={},variant:E="selectedMenu",slots:S={},slotProps:w={},...C}=i,A=XS(),N={...i,autoFocus:r,disableAutoFocusItem:o,MenuListProps:l,onEntering:_,PaperProps:p,transitionDuration:v,TransitionProps:x,variant:E},L=Axe(N),I=r&&!o&&h,D=H.useRef(null),P=(re,pe)=>{D.current&&D.current.adjustStyleForScrollbar(re,{direction:A?"rtl":"ltr"}),_&&_(re,pe)},U=re=>{re.key==="Tab"&&(re.preventDefault(),u&&u(re,"tabKeyDown"))};let F=-1;H.Children.map(s,(re,pe)=>{H.isValidElement(re)&&(re.props.disabled||(E==="selectedMenu"&&re.props.selected||F===-1)&&(F=pe))});const z={slots:S,slotProps:{list:l,transition:x,paper:p,...w}},V=c_({elementType:S.root,externalSlotProps:w.root,ownerState:N,className:[L.root,a]}),[K,J]=rn("paper",{className:L.paper,elementType:Rxe,externalForwardedProps:z,shouldForwardComponentProp:!0,ownerState:N}),[q,W]=rn("list",{className:Pt(L.list,l.className),elementType:Oxe,shouldForwardComponentProp:!0,externalForwardedProps:z,getSlotProps:re=>({...re,onKeyDown:pe=>{var Y;U(pe),(Y=re.onKeyDown)==null||Y.call(re,pe)}}),ownerState:N}),Q=typeof z.slotProps.transition=="function"?z.slotProps.transition(N):z.slotProps.transition;return Z.jsx(Mxe,{onClose:u,anchorOrigin:{vertical:"bottom",horizontal:A?"right":"left"},transformOrigin:A?wxe:Cxe,slots:{root:S.root,paper:K,backdrop:S.backdrop,...S.transition&&{transition:S.transition}},slotProps:{root:V,paper:J,backdrop:typeof w.backdrop=="function"?w.backdrop(N):w.backdrop,transition:{...Q,onEntering:(...re)=>{var pe;P(...re),(pe=Q==null?void 0:Q.onEntering)==null||pe.call(Q,...re)}}},open:h,ref:t,transitionDuration:v,ownerState:N,...C,classes:y,children:Z.jsx(q,{actions:D,autoFocus:r&&(F===-1||o),autoFocusItem:I,variant:E,...W,children:s})})});function Ixe(n){return yn("MuiMenuItem",n)}const _1=vn("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),Pxe=(n,e)=>{const{ownerState:t}=n;return[e.root,t.dense&&e.dense,t.divider&&e.divider,!t.disableGutters&&e.gutters]},Dxe=n=>{const{disabled:e,dense:t,divider:i,disableGutters:r,selected:s,classes:a}=n,l=gn({root:["root",t&&"dense",e&&"disabled",!r&&"gutters",i&&"divider",s&&"selected"]},Ixe,a);return{...a,...l}},Nxe=ht(Zp,{shouldForwardProp:n=>No(n)||n==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:Pxe})(kn(({theme:n})=>({...n.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(n.vars||n).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${_1.selected}`]:{backgroundColor:n.alpha((n.vars||n).palette.primary.main,(n.vars||n).palette.action.selectedOpacity),[`&.${_1.focusVisible}`]:{backgroundColor:n.alpha((n.vars||n).palette.primary.main,`${(n.vars||n).palette.action.selectedOpacity} + ${(n.vars||n).palette.action.focusOpacity}`)}},[`&.${_1.selected}:hover`]:{backgroundColor:n.alpha((n.vars||n).palette.primary.main,`${(n.vars||n).palette.action.selectedOpacity} + ${(n.vars||n).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:n.alpha((n.vars||n).palette.primary.main,(n.vars||n).palette.action.selectedOpacity)}},[`&.${_1.focusVisible}`]:{backgroundColor:(n.vars||n).palette.action.focus},[`&.${_1.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity},[`& + .${w6.root}`]:{marginTop:n.spacing(1),marginBottom:n.spacing(1)},[`& + .${w6.inset}`]:{marginLeft:52},[`& .${v0.root}`]:{marginTop:0,marginBottom:0},[`& .${v0.inset}`]:{paddingLeft:36},[`& .${M6.root}`]:{minWidth:36},variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(n.vars||n).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>!e.dense,style:{[n.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:e})=>e.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...n.typography.body2,[`& .${M6.root} svg`]:{fontSize:"1.25rem"}}}]}))),Zo=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiMenuItem"}),{autoFocus:r=!1,component:s="li",dense:a=!1,divider:o=!1,disableGutters:l=!1,focusVisibleClassName:u,role:h="menuitem",tabIndex:p,className:y,...v}=i,_=H.useContext(Gh),x=H.useMemo(()=>({dense:a||_.dense||!1,disableGutters:l}),[_.dense,a,l]),E=H.useRef(null);Tu(()=>{r&&E.current&&E.current.focus()},[r]);const S={...i,dense:x.dense,divider:o,disableGutters:l},w=Dxe(i),C=Vr(E,t);let A;return i.disabled||(A=p!==void 0?p:-1),Z.jsx(Gh.Provider,{value:x,children:Z.jsx(Nxe,{ref:C,role:h,tabIndex:A,component:s,focusVisibleClassName:Pt(w.focusVisible,u),className:Pt(w.root,y),...v,ownerState:S,classes:w})})});function Lxe(n){return yn("MuiNativeSelect",n)}const r4=vn("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),Uxe=n=>{const{classes:e,variant:t,disabled:i,multiple:r,open:s,error:a}=n,o={select:["select",t,i&&"disabled",r&&"multiple",a&&"error"],icon:["icon",`icon${yt(t)}`,s&&"iconOpen",i&&"disabled"]};return gn(o,Lxe,e)},MW=ht("select",{name:"MuiNativeSelect"})(({theme:n})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${r4.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(n.vars||n).palette.background.paper},variants:[{props:({ownerState:e})=>e.variant!=="filled"&&e.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(n.vars||n).shape.borderRadius,"&:focus":{borderRadius:(n.vars||n).shape.borderRadius},"&&&":{paddingRight:32}}}]})),kxe=ht(MW,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:No,overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.select,e[t.variant],t.error&&e.error,{[`&.${r4.multiple}`]:e.multiple}]}})({}),RW=ht("svg",{name:"MuiNativeSelect"})(({theme:n})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(n.vars||n).palette.action.active,[`&.${r4.disabled}`]:{color:(n.vars||n).palette.action.disabled},variants:[{props:({ownerState:e})=>e.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),zxe=ht(RW,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.variant&&e[`icon${yt(t.variant)}`],t.open&&e.iconOpen]}})({}),Bxe=H.forwardRef(function(e,t){const{className:i,disabled:r,error:s,IconComponent:a,inputRef:o,variant:l="standard",...u}=e,h={...e,disabled:r,variant:l,error:s},p=Uxe(h);return Z.jsxs(H.Fragment,{children:[Z.jsx(kxe,{ownerState:h,className:Pt(p.select,i),disabled:r,ref:o||t,...u}),e.multiple?null:Z.jsx(zxe,{as:a,ownerState:h,className:p.icon})]})});var D6;const Fxe=ht("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:No})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),Vxe=ht("legend",{name:"MuiNotchedOutlined",shouldForwardProp:No})(kn(({theme:n})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:e})=>!e.withLabel,style:{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})}},{props:({ownerState:e})=>e.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:e})=>e.withLabel&&e.notched,style:{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}}]})));function Hxe(n){const{children:e,classes:t,className:i,label:r,notched:s,...a}=n,o=r!=null&&r!=="",l={...n,notched:s,withLabel:o};return Z.jsx(Fxe,{"aria-hidden":!0,className:i,ownerState:l,...a,children:Z.jsx(Vxe,{ownerState:l,children:o?Z.jsx("span",{children:r}):D6||(D6=Z.jsx("span",{className:"notranslate","aria-hidden":!0,children:""}))})})}const jxe=n=>{const{classes:e}=n,i=gn({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Y_e,e);return{...e,...i}},Gxe=ht(qM,{shouldForwardProp:n=>No(n)||n==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:jM})(kn(({theme:n})=>{const e=n.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(n.vars||n).shape.borderRadius,[`&:hover .${of.notchedOutline}`]:{borderColor:(n.vars||n).palette.text.primary},"@media (hover: none)":{[`&:hover .${of.notchedOutline}`]:{borderColor:n.vars?n.alpha(n.vars.palette.common.onBackground,.23):e}},[`&.${of.focused} .${of.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(n.palette).filter(ia()).map(([t])=>({props:{color:t},style:{[`&.${of.focused} .${of.notchedOutline}`]:{borderColor:(n.vars||n).palette[t].main}}})),{props:{},style:{[`&.${of.error} .${of.notchedOutline}`]:{borderColor:(n.vars||n).palette.error.main},[`&.${of.disabled} .${of.notchedOutline}`]:{borderColor:(n.vars||n).palette.action.disabled}}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:14}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:14}},{props:({ownerState:t})=>t.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:t,size:i})=>t.multiline&&i==="small",style:{padding:"8.5px 14px"}}]}})),qxe=ht(Hxe,{name:"MuiOutlinedInput",slot:"NotchedOutline"})(kn(({theme:n})=>{const e=n.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:n.vars?n.alpha(n.vars.palette.common.onBackground,.23):e}})),Wxe=ht(WM,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:GM})(kn(({theme:n})=>({padding:"16.5px 14px",...!n.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:n.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:n.palette.mode==="light"?null:"#fff",caretColor:n.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...n.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[n.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:e})=>e.multiline,style:{padding:0}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}}]}))),s4=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiOutlinedInput"}),{components:r={},fullWidth:s=!1,inputComponent:a="input",label:o,multiline:l=!1,notched:u,slots:h={},slotProps:p={},type:y="text",...v}=i,_=jxe(i),x=am(),E=vy({props:i,muiFormControl:x,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),S={...i,color:E.color||"primary",disabled:E.disabled,error:E.error,focused:E.focused,formControl:x,fullWidth:s,hiddenLabel:E.hiddenLabel,multiline:l,size:E.size,type:y},w=h.root??r.Root??Gxe,C=h.input??r.Input??Wxe,[A,N]=rn("notchedOutline",{elementType:qxe,className:_.notchedOutline,shouldForwardComponentProp:!0,ownerState:S,externalForwardedProps:{slots:h,slotProps:p},additionalProps:{label:o!=null&&o!==""&&E.required?Z.jsxs(H.Fragment,{children:[o,"","*"]}):o}});return Z.jsx(JL,{slots:{root:w,input:C},slotProps:p,renderSuffix:L=>Z.jsx(A,{...N,notched:typeof u<"u"?u:!!(L.startAdornment||L.filled||L.focused)}),fullWidth:s,inputComponent:a,multiline:l,ref:t,type:y,...v,classes:{..._,notchedOutline:null}})});s4.muiName="Input";function OW(n){return yn("MuiSelect",n)}const b1=vn("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var N6;const $xe=ht(MW,{name:"MuiSelect",slot:"Select",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`&.${b1.select}`]:e.select},{[`&.${b1.select}`]:e[t.variant]},{[`&.${b1.error}`]:e.error},{[`&.${b1.multiple}`]:e.multiple}]}})({[`&.${b1.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),Xxe=ht(RW,{name:"MuiSelect",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.variant&&e[`icon${yt(t.variant)}`],t.open&&e.iconOpen]}})({}),Yxe=ht("input",{shouldForwardProp:n=>Wq(n)&&n!=="classes",name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function L6(n,e){return typeof e=="object"&&e!==null?n===e:String(n)===String(e)}function Kxe(n){return n==null||typeof n=="string"&&!n.trim()}const Zxe=n=>{const{classes:e,variant:t,disabled:i,multiple:r,open:s,error:a}=n,o={select:["select",t,i&&"disabled",r&&"multiple",a&&"error"],icon:["icon",`icon${yt(t)}`,s&&"iconOpen",i&&"disabled"],nativeInput:["nativeInput"]};return gn(o,OW,e)},Qxe=H.forwardRef(function(e,t){var Qt,pn,be,St;const{"aria-describedby":i,"aria-label":r,autoFocus:s,autoWidth:a,children:o,className:l,defaultOpen:u,defaultValue:h,disabled:p,displayEmpty:y,error:v=!1,IconComponent:_,inputRef:x,labelId:E,MenuProps:S={},multiple:w,name:C,onBlur:A,onChange:N,onClose:L,onFocus:I,onKeyDown:D,onMouseDown:P,onOpen:U,open:F,readOnly:z,renderValue:V,required:K,SelectDisplayProps:J={},tabIndex:q,type:W,value:Q,variant:re="standard",...pe}=e,[Y,le]=WC({controlled:Q,default:h,name:"Select"}),[de,ue]=WC({controlled:F,default:u,name:"Select"}),ne=H.useRef(null),he=H.useRef(null),[me,Le]=H.useState(null),{current:Ye}=H.useRef(F!=null),[je,rt]=H.useState(),ot=Vr(t,x),dt=H.useCallback(xe=>{he.current=xe,xe&&Le(xe)},[]),te=me==null?void 0:me.parentNode;H.useImperativeHandle(ot,()=>({focus:()=>{he.current.focus()},node:ne.current,value:Y}),[Y]),H.useEffect(()=>{u&&de&&me&&!Ye&&(rt(a?null:te.clientWidth),he.current.focus())},[me,a]),H.useEffect(()=>{s&&he.current.focus()},[s]),H.useEffect(()=>{if(!E)return;const xe=Aa(he.current).getElementById(E);if(xe){const He=()=>{getSelection().isCollapsed&&he.current.focus()};return xe.addEventListener("click",He),()=>{xe.removeEventListener("click",He)}}},[E]);const Ie=(xe,He)=>{xe?U&&U(He):L&&L(He),Ye||(rt(a?null:te.clientWidth),ue(xe))},Ve=xe=>{P==null||P(xe),xe.button===0&&(xe.preventDefault(),he.current.focus(),Ie(!0,xe))},Ue=xe=>{Ie(!1,xe)},Re=H.Children.toArray(o),ut=xe=>{const He=Re.find(st=>st.props.value===xe.target.value);He!==void 0&&(le(He.props.value),N&&N(xe,He))},We=xe=>He=>{let st;if(He.currentTarget.hasAttribute("tabindex")){if(w){st=Array.isArray(Y)?Y.slice():[];const pt=Y.indexOf(xe.props.value);pt===-1?st.push(xe.props.value):st.splice(pt,1)}else st=xe.props.value;if(xe.props.onClick&&xe.props.onClick(He),Y!==st&&(le(st),N)){const pt=He.nativeEvent||He,qt=new pt.constructor(pt.type,pt);Object.defineProperty(qt,"target",{writable:!0,value:{value:st,name:C}}),N(qt,xe)}w||Ie(!1,He)}},ae=xe=>{z||([" ","ArrowUp","ArrowDown","Enter"].includes(xe.key)&&(xe.preventDefault(),Ie(!0,xe)),D==null||D(xe))},ee=me!==null&&de,Ee=xe=>{!ee&&A&&(Object.defineProperty(xe,"target",{writable:!0,value:{value:Y,name:C}}),A(xe))};delete pe["aria-invalid"];let Me,Qe;const Oe=[];let ct=!1;(QC({value:Y})||y)&&(V?Me=V(Y):ct=!0);const lt=Re.map(xe=>{if(!H.isValidElement(xe))return null;let He;if(w){if(!Array.isArray(Y))throw new Error(rd(2));He=Y.some(st=>L6(st,xe.props.value)),He&&ct&&Oe.push(xe.props.children)}else He=L6(Y,xe.props.value),He&&ct&&(Qe=xe.props.children);return H.cloneElement(xe,{"aria-selected":He?"true":"false",onClick:We(xe),onKeyUp:st=>{st.key===" "&&st.preventDefault(),xe.props.onKeyUp&&xe.props.onKeyUp(st)},role:"option",selected:He,value:void 0,"data-value":xe.props.value})});ct&&(w?Oe.length===0?Me=null:Me=Oe.reduce((xe,He,st)=>(xe.push(He),st<Oe.length-1&&xe.push(", "),xe),[]):Me=Qe);let Dt=je;!a&&Ye&&me&&(Dt=te.clientWidth);let Ut;typeof q<"u"?Ut=q:Ut=p?null:0;const Xe=J.id||(C?`mui-component-select-${C}`:void 0),mt={...e,variant:re,value:Y,open:ee,error:v},At=Zxe(mt),xt={...S.PaperProps,...typeof((Qt=S.slotProps)==null?void 0:Qt.paper)=="function"?S.slotProps.paper(mt):(pn=S.slotProps)==null?void 0:pn.paper},_t={...S.MenuListProps,...typeof((be=S.slotProps)==null?void 0:be.list)=="function"?S.slotProps.list(mt):(St=S.slotProps)==null?void 0:St.list},Ht=L_();return Z.jsxs(H.Fragment,{children:[Z.jsx($xe,{as:"div",ref:dt,tabIndex:Ut,role:"combobox","aria-controls":ee?Ht:void 0,"aria-disabled":p?"true":void 0,"aria-expanded":ee?"true":"false","aria-haspopup":"listbox","aria-label":r,"aria-labelledby":[E,Xe].filter(Boolean).join(" ")||void 0,"aria-describedby":i,"aria-required":K?"true":void 0,"aria-invalid":v?"true":void 0,onKeyDown:ae,onMouseDown:p||z?null:Ve,onBlur:Ee,onFocus:I,...J,ownerState:mt,className:Pt(J.className,At.select,l),id:Xe,children:Kxe(Me)?N6||(N6=Z.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):Me}),Z.jsx(Yxe,{"aria-invalid":v,value:Array.isArray(Y)?Y.join(","):Y,name:C,ref:ne,"aria-hidden":!0,onChange:ut,tabIndex:-1,disabled:p,className:At.nativeInput,autoFocus:s,required:K,...pe,ownerState:mt}),Z.jsx(Xxe,{as:_,className:At.icon,ownerState:mt}),Z.jsx(AW,{id:`menu-${C||""}`,anchorEl:te,open:ee,onClose:Ue,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...S,slotProps:{...S.slotProps,list:{"aria-labelledby":E,role:"listbox","aria-multiselectable":w?"true":void 0,disableListWrap:!0,id:Ht,..._t},paper:{...xt,style:{minWidth:Dt,...xt!=null?xt.style:null}}},children:lt})]})}),Jxe=n=>{const{classes:e}=n,i=gn({root:["root"]},OW,e);return{...e,...i}},a4={name:"MuiSelect",slot:"Root",shouldForwardProp:n=>No(n)&&n!=="variant"},eSe=ht(t4,a4)(""),tSe=ht(s4,a4)(""),nSe=ht(e4,a4)(""),eA=H.forwardRef(function(e,t){const i=En({name:"MuiSelect",props:e}),{autoWidth:r=!1,children:s,classes:a={},className:o,defaultOpen:l=!1,displayEmpty:u=!1,IconComponent:h=Z_e,id:p,input:y,inputProps:v,label:_,labelId:x,MenuProps:E,multiple:S=!1,native:w=!1,onClose:C,onOpen:A,open:N,renderValue:L,SelectDisplayProps:I,variant:D="outlined",...P}=i,U=w?Bxe:Qxe,F=am(),z=vy({props:i,muiFormControl:F,states:["variant","error"]}),V=z.variant||D,K={...i,variant:V,classes:a},J=Jxe(K),{root:q,...W}=J,Q=y||{standard:Z.jsx(eSe,{ownerState:K}),outlined:Z.jsx(tSe,{label:_,ownerState:K}),filled:Z.jsx(nSe,{ownerState:K})}[V],re=Vr(t,sm(Q));return Z.jsx(H.Fragment,{children:H.cloneElement(Q,{inputComponent:U,inputProps:{children:s,error:z.error,IconComponent:h,variant:V,type:void 0,multiple:S,...w?{id:p}:{autoWidth:r,defaultOpen:l,displayEmpty:u,labelId:x,MenuProps:E,onClose:C,onOpen:A,open:N,renderValue:L,SelectDisplayProps:{id:p,...I}},...v,classes:v?aa(W,v.classes):W,...y?y.props.inputProps:{}},...(S&&w||u)&&V==="outlined"?{notched:!0}:{},ref:re,className:Pt(Q.props.className,o,J.root),...!y&&{variant:V},...P})})});eA.muiName="Select";function iSe(n){return yn("MuiTooltip",n)}const Jr=vn("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);function rSe(n){return Math.round(n*1e5)/1e5}const sSe=n=>{const{classes:e,disableInteractive:t,arrow:i,touch:r,placement:s}=n,a={popper:["popper",!t&&"popperInteractive",i&&"popperArrow"],tooltip:["tooltip",i&&"tooltipArrow",r&&"touch",`tooltipPlacement${yt(s.split("-")[0])}`],arrow:["arrow"]};return gn(a,iSe,e)},aSe=ht(hW,{name:"MuiTooltip",slot:"Popper",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.popper,!t.disableInteractive&&e.popperInteractive,t.arrow&&e.popperArrow,!t.open&&e.popperClose]}})(kn(({theme:n})=>({zIndex:(n.vars||n).zIndex.tooltip,pointerEvents:"none",variants:[{props:({ownerState:e})=>!e.disableInteractive,style:{pointerEvents:"auto"}},{props:({open:e})=>!e,style:{pointerEvents:"none"}},{props:({ownerState:e})=>e.arrow,style:{[`&[data-popper-placement*="bottom"] .${Jr.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${Jr.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${Jr.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},[`&[data-popper-placement*="left"] .${Jr.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="right"] .${Jr.arrow}`]:{left:0,marginLeft:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="right"] .${Jr.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="left"] .${Jr.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="left"] .${Jr.arrow}`]:{left:0,marginLeft:"-0.71em"}}}]}))),oSe=ht("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.tooltip,t.touch&&e.touch,t.arrow&&e.tooltipArrow,e[`tooltipPlacement${yt(t.placement.split("-")[0])}`]]}})(kn(({theme:n})=>({backgroundColor:n.vars?n.vars.palette.Tooltip.bg:n.alpha(n.palette.grey[700],.92),borderRadius:(n.vars||n).shape.borderRadius,color:(n.vars||n).palette.common.white,fontFamily:n.typography.fontFamily,padding:"4px 8px",fontSize:n.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:n.typography.fontWeightMedium,[`.${Jr.popper}[data-popper-placement*="left"] &`]:{transformOrigin:"right center"},[`.${Jr.popper}[data-popper-placement*="right"] &`]:{transformOrigin:"left center"},[`.${Jr.popper}[data-popper-placement*="top"] &`]:{transformOrigin:"center bottom",marginBottom:"14px"},[`.${Jr.popper}[data-popper-placement*="bottom"] &`]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:({ownerState:e})=>e.arrow,style:{position:"relative",margin:0}},{props:({ownerState:e})=>e.touch,style:{padding:"8px 16px",fontSize:n.typography.pxToRem(14),lineHeight:`${rSe(16/14)}em`,fontWeight:n.typography.fontWeightRegular}},{props:({ownerState:e})=>!e.isRtl,style:{[`.${Jr.popper}[data-popper-placement*="left"] &`]:{marginRight:"14px"},[`.${Jr.popper}[data-popper-placement*="right"] &`]:{marginLeft:"14px"}}},{props:({ownerState:e})=>!e.isRtl&&e.touch,style:{[`.${Jr.popper}[data-popper-placement*="left"] &`]:{marginRight:"24px"},[`.${Jr.popper}[data-popper-placement*="right"] &`]:{marginLeft:"24px"}}},{props:({ownerState:e})=>!!e.isRtl,style:{[`.${Jr.popper}[data-popper-placement*="left"] &`]:{marginLeft:"14px"},[`.${Jr.popper}[data-popper-placement*="right"] &`]:{marginRight:"14px"}}},{props:({ownerState:e})=>!!e.isRtl&&e.touch,style:{[`.${Jr.popper}[data-popper-placement*="left"] &`]:{marginLeft:"24px"},[`.${Jr.popper}[data-popper-placement*="right"] &`]:{marginRight:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${Jr.popper}[data-popper-placement*="top"] &`]:{marginBottom:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${Jr.popper}[data-popper-placement*="bottom"] &`]:{marginTop:"24px"}}}]}))),lSe=ht("span",{name:"MuiTooltip",slot:"Arrow"})(kn(({theme:n})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:n.vars?n.vars.palette.Tooltip.bg:n.alpha(n.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})));let vw=!1;const U6=new VM;let x1={x:0,y:0};function _w(n,e){return(t,...i)=>{e&&e(t,...i),n(t,...i)}}const IW=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiTooltip"}),{arrow:r=!1,children:s,classes:a,components:o={},componentsProps:l={},describeChild:u=!1,disableFocusListener:h=!1,disableHoverListener:p=!1,disableInteractive:y=!1,disableTouchListener:v=!1,enterDelay:_=100,enterNextDelay:x=0,enterTouchDelay:E=700,followCursor:S=!1,id:w,leaveDelay:C=0,leaveTouchDelay:A=1500,onClose:N,onOpen:L,open:I,placement:D="bottom",PopperComponent:P,PopperProps:U={},slotProps:F={},slots:z={},title:V,TransitionComponent:K,TransitionProps:J,...q}=i,W=H.isValidElement(s)?s:Z.jsx("span",{children:s}),Q=cd(),re=XS(),[pe,Y]=H.useState(),[le,de]=H.useState(null),ue=H.useRef(!1),ne=y||S,he=kg(),me=kg(),Le=kg(),Ye=kg(),[je,rt]=WC({controlled:I,default:!1,name:"Tooltip",state:"open"});let ot=je;const dt=L_(w),te=H.useRef(),Ie=zl(()=>{te.current!==void 0&&(document.body.style.WebkitUserSelect=te.current,te.current=void 0),Ye.clear()});H.useEffect(()=>Ie,[Ie]);const Ve=kt=>{U6.clear(),vw=!0,rt(!0),L&&!ot&&L(kt)},Ue=zl(kt=>{U6.start(800+C,()=>{vw=!1}),rt(!1),N&&ot&&N(kt),he.start(Q.transitions.duration.shortest,()=>{ue.current=!1})}),Re=kt=>{ue.current&&kt.type!=="touchstart"||(pe&&pe.removeAttribute("title"),me.clear(),Le.clear(),_||vw&&x?me.start(vw?x:_,()=>{Ve(kt)}):Ve(kt))},ut=kt=>{me.clear(),Le.start(C,()=>{Ue(kt)})},[,We]=H.useState(!1),ae=kt=>{YC(kt.target)||(We(!1),ut(kt))},ee=kt=>{pe||Y(kt.currentTarget),YC(kt.target)&&(We(!0),Re(kt))},Ee=kt=>{ue.current=!0;const $t=W.props;$t.onTouchStart&&$t.onTouchStart(kt)},Me=kt=>{Ee(kt),Le.clear(),he.clear(),Ie(),te.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",Ye.start(E,()=>{document.body.style.WebkitUserSelect=te.current,Re(kt)})},Qe=kt=>{W.props.onTouchEnd&&W.props.onTouchEnd(kt),Ie(),Le.start(A,()=>{Ue(kt)})};H.useEffect(()=>{if(!ot)return;function kt($t){$t.key==="Escape"&&Ue($t)}return document.addEventListener("keydown",kt),()=>{document.removeEventListener("keydown",kt)}},[Ue,ot]);const Oe=Vr(sm(W),Y,t);!V&&V!==0&&(ot=!1);const ct=H.useRef(),lt=kt=>{const $t=W.props;$t.onMouseMove&&$t.onMouseMove(kt),x1={x:kt.clientX,y:kt.clientY},ct.current&&ct.current.update()},Dt={},Ut=typeof V=="string";u?(Dt.title=!ot&&Ut&&!p?V:null,Dt["aria-describedby"]=ot?dt:null):(Dt["aria-label"]=Ut?V:null,Dt["aria-labelledby"]=ot&&!Ut?dt:null);const Xe={...Dt,...q,...W.props,className:Pt(q.className,W.props.className),onTouchStart:Ee,ref:Oe,...S?{onMouseMove:lt}:{}},mt={};v||(Xe.onTouchStart=Me,Xe.onTouchEnd=Qe),p||(Xe.onMouseOver=_w(Re,Xe.onMouseOver),Xe.onMouseLeave=_w(ut,Xe.onMouseLeave),ne||(mt.onMouseOver=Re,mt.onMouseLeave=ut)),h||(Xe.onFocus=_w(ee,Xe.onFocus),Xe.onBlur=_w(ae,Xe.onBlur),ne||(mt.onFocus=ee,mt.onBlur=ae));const At={...i,isRtl:re,arrow:r,disableInteractive:ne,placement:D,PopperComponentProp:P,touch:ue.current},xt=typeof F.popper=="function"?F.popper(At):F.popper,_t=H.useMemo(()=>{var $t,vt;let kt=[{name:"arrow",enabled:!!le,options:{element:le,padding:4}}];return($t=U.popperOptions)!=null&&$t.modifiers&&(kt=kt.concat(U.popperOptions.modifiers)),(vt=xt==null?void 0:xt.popperOptions)!=null&&vt.modifiers&&(kt=kt.concat(xt.popperOptions.modifiers)),{...U.popperOptions,...xt==null?void 0:xt.popperOptions,modifiers:kt}},[le,U.popperOptions,xt==null?void 0:xt.popperOptions]),Ht=sSe(At),Qt=typeof F.transition=="function"?F.transition(At):F.transition,pn={slots:{popper:o.Popper,transition:o.Transition??K,tooltip:o.Tooltip,arrow:o.Arrow,...z},slotProps:{arrow:F.arrow??l.arrow,popper:{...U,...xt??l.popper},tooltip:F.tooltip??l.tooltip,transition:{...J,...Qt??l.transition}}},[be,St]=rn("popper",{elementType:aSe,externalForwardedProps:pn,ownerState:At,className:Pt(Ht.popper,U==null?void 0:U.className)}),[xe,He]=rn("transition",{elementType:JC,externalForwardedProps:pn,ownerState:At}),[st,pt]=rn("tooltip",{elementType:oSe,className:Ht.tooltip,externalForwardedProps:pn,ownerState:At}),[qt,Xn]=rn("arrow",{elementType:lSe,className:Ht.arrow,externalForwardedProps:pn,ownerState:At,ref:de});return Z.jsxs(H.Fragment,{children:[H.cloneElement(W,Xe),Z.jsx(be,{as:P??hW,placement:D,anchorEl:S?{getBoundingClientRect:()=>({top:x1.y,left:x1.x,right:x1.x,bottom:x1.y,width:0,height:0})}:pe,popperRef:ct,open:pe?ot:!1,id:dt,transition:!0,...mt,...St,popperOptions:_t,children:({TransitionProps:kt})=>Z.jsx(xe,{timeout:Q.transitions.duration.shorter,...kt,...He,children:Z.jsxs(st,{...pt,children:[V,r?Z.jsx(qt,{...Xn}):null]})})})]})}),pp=Aye({createStyledComponent:ht("div",{name:"MuiStack",slot:"Root"}),useThemeProps:n=>En({props:n,name:"MuiStack"})});function cSe(n){return yn("MuiTab",n)}const yc=vn("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper","icon"]),uSe=n=>{const{classes:e,textColor:t,fullWidth:i,wrapped:r,icon:s,label:a,selected:o,disabled:l}=n,u={root:["root",s&&a&&"labelIcon",`textColor${yt(t)}`,i&&"fullWidth",r&&"wrapped",o&&"selected",l&&"disabled"],icon:["iconWrapper","icon"]};return gn(u,cSe,e)},fSe=ht(Zp,{name:"MuiTab",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.label&&t.icon&&e.labelIcon,e[`textColor${yt(t.textColor)}`],t.fullWidth&&e.fullWidth,t.wrapped&&e.wrapped,{[`& .${yc.iconWrapper}`]:e.iconWrapper},{[`& .${yc.icon}`]:e.icon}]}})(kn(({theme:n})=>({...n.typography.button,maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center",lineHeight:1.25,variants:[{props:({ownerState:e})=>e.label&&(e.iconPosition==="top"||e.iconPosition==="bottom"),style:{flexDirection:"column"}},{props:({ownerState:e})=>e.label&&e.iconPosition!=="top"&&e.iconPosition!=="bottom",style:{flexDirection:"row"}},{props:({ownerState:e})=>e.icon&&e.label,style:{minHeight:72,paddingTop:9,paddingBottom:9}},{props:({ownerState:e,iconPosition:t})=>e.icon&&e.label&&t==="top",style:{[`& > .${yc.icon}`]:{marginBottom:6}}},{props:({ownerState:e,iconPosition:t})=>e.icon&&e.label&&t==="bottom",style:{[`& > .${yc.icon}`]:{marginTop:6}}},{props:({ownerState:e,iconPosition:t})=>e.icon&&e.label&&t==="start",style:{[`& > .${yc.icon}`]:{marginRight:n.spacing(1)}}},{props:({ownerState:e,iconPosition:t})=>e.icon&&e.label&&t==="end",style:{[`& > .${yc.icon}`]:{marginLeft:n.spacing(1)}}},{props:{textColor:"inherit"},style:{color:"inherit",opacity:.6,[`&.${yc.selected}`]:{opacity:1},[`&.${yc.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity}}},{props:{textColor:"primary"},style:{color:(n.vars||n).palette.text.secondary,[`&.${yc.selected}`]:{color:(n.vars||n).palette.primary.main},[`&.${yc.disabled}`]:{color:(n.vars||n).palette.text.disabled}}},{props:{textColor:"secondary"},style:{color:(n.vars||n).palette.text.secondary,[`&.${yc.selected}`]:{color:(n.vars||n).palette.secondary.main},[`&.${yc.disabled}`]:{color:(n.vars||n).palette.text.disabled}}},{props:({ownerState:e})=>e.fullWidth,style:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"}},{props:({ownerState:e})=>e.wrapped,style:{fontSize:n.typography.pxToRem(12)}}]}))),k6=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiTab"}),{className:r,disabled:s=!1,disableFocusRipple:a=!1,fullWidth:o,icon:l,iconPosition:u="top",indicator:h,label:p,onChange:y,onClick:v,onFocus:_,selected:x,selectionFollowsFocus:E,textColor:S="inherit",value:w,wrapped:C=!1,...A}=i,N={...i,disabled:s,disableFocusRipple:a,selected:x,icon:!!l,iconPosition:u,label:!!p,fullWidth:o,textColor:S,wrapped:C},L=uSe(N),I=l&&p&&H.isValidElement(l)?H.cloneElement(l,{className:Pt(L.icon,l.props.className)}):l,D=U=>{!x&&y&&y(U,w),v&&v(U)},P=U=>{E&&!x&&y&&y(U,w),_&&_(U)};return Z.jsxs(fSe,{focusRipple:!a,className:Pt(L.root,r),ref:t,role:"tab","aria-selected":x,disabled:s,onClick:D,onFocus:P,ownerState:N,tabIndex:x?0:-1,...A,children:[u==="top"||u==="start"?Z.jsxs(H.Fragment,{children:[I,p]}):Z.jsxs(H.Fragment,{children:[p,I]}),h]})}),hSe=Hr(Z.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"})),dSe=Hr(Z.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}));function pSe(n){return(1+Math.sin(Math.PI*n-Math.PI/2))/2}function mSe(n,e,t,i={},r=()=>{}){const{ease:s=pSe,duration:a=300}=i;let o=null;const l=e[n];let u=!1;const h=()=>{u=!0},p=y=>{if(u){r(new Error("Animation cancelled"));return}o===null&&(o=y);const v=Math.min(1,(y-o)/a);if(e[n]=s(v)*(t-l)+l,v>=1){requestAnimationFrame(()=>{r(null)});return}requestAnimationFrame(p)};return l===t?(r(new Error("Element already at target position")),h):(requestAnimationFrame(p),h)}const gSe={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function ySe(n){const{onChange:e,...t}=n,i=H.useRef(),r=H.useRef(null),s=()=>{i.current=r.current.offsetHeight-r.current.clientHeight};return Tu(()=>{const a=YS(()=>{const l=i.current;s(),l!==i.current&&e(i.current)}),o=Hl(r.current);return o.addEventListener("resize",a),()=>{a.clear(),o.removeEventListener("resize",a)}},[e]),H.useEffect(()=>{s(),e(i.current)},[e]),Z.jsx("div",{style:gSe,...t,ref:r})}function vSe(n){return yn("MuiTabScrollButton",n)}const _Se=vn("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),bSe=n=>{const{classes:e,orientation:t,disabled:i}=n;return gn({root:["root",t,i&&"disabled"]},vSe,e)},xSe=ht(Zp,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.orientation&&e[t.orientation]]}})({width:40,flexShrink:0,opacity:.8,[`&.${_Se.disabled}`]:{opacity:0},variants:[{props:{orientation:"vertical"},style:{width:"100%",height:40,"& svg":{transform:"var(--TabScrollButton-svgRotate)"}}}]}),SSe=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiTabScrollButton"}),{className:r,slots:s={},slotProps:a={},direction:o,orientation:l,disabled:u,...h}=i,p=XS(),y={isRtl:p,...i},v=bSe(y),_=s.StartScrollButtonIcon??hSe,x=s.EndScrollButtonIcon??dSe,E=c_({elementType:_,externalSlotProps:a.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:y}),S=c_({elementType:x,externalSlotProps:a.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:y});return Z.jsx(xSe,{component:"div",className:Pt(v.root,r),ref:t,role:null,ownerState:y,tabIndex:null,...h,style:{...h.style,...l==="vertical"&&{"--TabScrollButton-svgRotate":`rotate(${p?-90:90}deg)`}},children:o==="left"?Z.jsx(_,{...E}):Z.jsx(x,{...S})})});function ESe(n){return yn("MuiTabs",n)}const _3=vn("MuiTabs",["root","vertical","list","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),z6=(n,e)=>n===e?n.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n.firstChild,B6=(n,e)=>n===e?n.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n.lastChild,bw=(n,e,t)=>{let i=!1,r=t(n,e);for(;r;){if(r===n.firstChild){if(i)return;i=!0}const s=r.disabled||r.getAttribute("aria-disabled")==="true";if(!r.hasAttribute("tabindex")||s)r=t(n,r);else{r.focus();return}}},TSe=n=>{const{vertical:e,fixed:t,hideScrollbar:i,scrollableX:r,scrollableY:s,centered:a,scrollButtonsHideMobile:o,classes:l}=n;return gn({root:["root",e&&"vertical"],scroller:["scroller",t&&"fixed",i&&"hideScrollbar",r&&"scrollableX",s&&"scrollableY"],list:["list","flexContainer",e&&"flexContainerVertical",e&&"vertical",a&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",o&&"scrollButtonsHideMobile"],scrollableX:[r&&"scrollableX"],hideScrollbar:[i&&"hideScrollbar"]},ESe,l)},wSe=ht("div",{name:"MuiTabs",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${_3.scrollButtons}`]:e.scrollButtons},{[`& .${_3.scrollButtons}`]:t.scrollButtonsHideMobile&&e.scrollButtonsHideMobile},e.root,t.vertical&&e.vertical]}})(kn(({theme:n})=>({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex",variants:[{props:({ownerState:e})=>e.vertical,style:{flexDirection:"column"}},{props:({ownerState:e})=>e.scrollButtonsHideMobile,style:{[`& .${_3.scrollButtons}`]:{[n.breakpoints.down("sm")]:{display:"none"}}}}]}))),CSe=ht("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.scroller,t.fixed&&e.fixed,t.hideScrollbar&&e.hideScrollbar,t.scrollableX&&e.scrollableX,t.scrollableY&&e.scrollableY]}})({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap",variants:[{props:({ownerState:n})=>n.fixed,style:{overflowX:"hidden",width:"100%"}},{props:({ownerState:n})=>n.hideScrollbar,style:{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}},{props:({ownerState:n})=>n.scrollableX,style:{overflowX:"auto",overflowY:"hidden"}},{props:({ownerState:n})=>n.scrollableY,style:{overflowY:"auto",overflowX:"hidden"}}]}),ASe=ht("div",{name:"MuiTabs",slot:"List",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.list,e.flexContainer,t.vertical&&e.flexContainerVertical,t.centered&&e.centered]}})({display:"flex",variants:[{props:({ownerState:n})=>n.vertical,style:{flexDirection:"column"}},{props:({ownerState:n})=>n.centered,style:{justifyContent:"center"}}]}),MSe=ht("span",{name:"MuiTabs",slot:"Indicator"})(kn(({theme:n})=>({position:"absolute",height:2,bottom:0,width:"100%",transition:n.transitions.create(),variants:[{props:{indicatorColor:"primary"},style:{backgroundColor:(n.vars||n).palette.primary.main}},{props:{indicatorColor:"secondary"},style:{backgroundColor:(n.vars||n).palette.secondary.main}},{props:({ownerState:e})=>e.vertical,style:{height:"100%",width:2,right:0}}]}))),RSe=ht(ySe)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),F6={},OSe=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiTabs"}),r=cd(),s=XS(),{"aria-label":a,"aria-labelledby":o,action:l,centered:u=!1,children:h,className:p,component:y="div",allowScrollButtonsMobile:v=!1,indicatorColor:_="primary",onChange:x,orientation:E="horizontal",ScrollButtonComponent:S,scrollButtons:w="auto",selectionFollowsFocus:C,slots:A={},slotProps:N={},TabIndicatorProps:L={},TabScrollButtonProps:I={},textColor:D="primary",value:P,variant:U="standard",visibleScrollbar:F=!1,...z}=i,V=U==="scrollable",K=E==="vertical",J=K?"scrollTop":"scrollLeft",q=K?"top":"left",W=K?"bottom":"right",Q=K?"clientHeight":"clientWidth",re=K?"height":"width",pe={...i,component:y,allowScrollButtonsMobile:v,indicatorColor:_,orientation:E,vertical:K,scrollButtons:w,textColor:D,variant:U,visibleScrollbar:F,fixed:!V,hideScrollbar:V&&!F,scrollableX:V&&!K,scrollableY:V&&K,centered:u&&!V,scrollButtonsHideMobile:!v},Y=TSe(pe),le=c_({elementType:A.StartScrollButtonIcon,externalSlotProps:N.startScrollButtonIcon,ownerState:pe}),de=c_({elementType:A.EndScrollButtonIcon,externalSlotProps:N.endScrollButtonIcon,ownerState:pe}),[ue,ne]=H.useState(!1),[he,me]=H.useState(F6),[Le,Ye]=H.useState(!1),[je,rt]=H.useState(!1),[ot,dt]=H.useState(!1),[te,Ie]=H.useState({overflow:"hidden",scrollbarWidth:0}),Ve=new Map,Ue=H.useRef(null),Re=H.useRef(null),ut={slots:A,slotProps:{indicator:L,scrollButton:I,...N}},We=()=>{const vt=Ue.current;let Et;if(vt){const _n=vt.getBoundingClientRect();Et={clientWidth:vt.clientWidth,scrollLeft:vt.scrollLeft,scrollTop:vt.scrollTop,scrollWidth:vt.scrollWidth,top:_n.top,bottom:_n.bottom,left:_n.left,right:_n.right}}let Tn;if(vt&&P!==!1){const _n=Re.current.children;if(_n.length>0){const In=_n[Ve.get(P)];Tn=In?In.getBoundingClientRect():null}}return{tabsMeta:Et,tabMeta:Tn}},ae=zl(()=>{const{tabsMeta:vt,tabMeta:Et}=We();let Tn=0,_n;K?(_n="top",Et&&vt&&(Tn=Et.top-vt.top+vt.scrollTop)):(_n=s?"right":"left",Et&&vt&&(Tn=(s?-1:1)*(Et[_n]-vt[_n]+vt.scrollLeft)));const In={[_n]:Tn,[re]:Et?Et[re]:0};if(typeof he[_n]!="number"||typeof he[re]!="number")me(In);else{const ki=Math.abs(he[_n]-In[_n]),Is=Math.abs(he[re]-In[re]);(ki>=1||Is>=1)&&me(In)}}),ee=(vt,{animation:Et=!0}={})=>{Et?mSe(J,Ue.current,vt,{duration:r.transitions.duration.standard}):Ue.current[J]=vt},Ee=vt=>{let Et=Ue.current[J];K?Et+=vt:Et+=vt*(s?-1:1),ee(Et)},Me=()=>{const vt=Ue.current[Q];let Et=0;const Tn=Array.from(Re.current.children);for(let _n=0;_n<Tn.length;_n+=1){const In=Tn[_n];if(Et+In[Q]>vt){_n===0&&(Et=vt);break}Et+=In[Q]}return Et},Qe=()=>{Ee(-1*Me())},Oe=()=>{Ee(Me())},[ct,{onChange:lt,...Dt}]=rn("scrollbar",{className:Pt(Y.scrollableX,Y.hideScrollbar),elementType:RSe,shouldForwardComponentProp:!0,externalForwardedProps:ut,ownerState:pe}),Ut=H.useCallback(vt=>{lt==null||lt(vt),Ie({overflow:null,scrollbarWidth:vt})},[lt]),[Xe,mt]=rn("scrollButtons",{className:Pt(Y.scrollButtons,I.className),elementType:SSe,externalForwardedProps:ut,ownerState:pe,additionalProps:{orientation:E,slots:{StartScrollButtonIcon:A.startScrollButtonIcon||A.StartScrollButtonIcon,EndScrollButtonIcon:A.endScrollButtonIcon||A.EndScrollButtonIcon},slotProps:{startScrollButtonIcon:le,endScrollButtonIcon:de}}}),At=()=>{const vt={};vt.scrollbarSizeListener=V?Z.jsx(ct,{...Dt,onChange:Ut}):null;const Tn=V&&(w==="auto"&&(Le||je)||w===!0);return vt.scrollButtonStart=Tn?Z.jsx(Xe,{direction:s?"right":"left",onClick:Qe,disabled:!Le,...mt}):null,vt.scrollButtonEnd=Tn?Z.jsx(Xe,{direction:s?"left":"right",onClick:Oe,disabled:!je,...mt}):null,vt},xt=zl(vt=>{const{tabsMeta:Et,tabMeta:Tn}=We();if(!(!Tn||!Et)){if(Tn[q]<Et[q]){const _n=Et[J]+(Tn[q]-Et[q]);ee(_n,{animation:vt})}else if(Tn[W]>Et[W]){const _n=Et[J]+(Tn[W]-Et[W]);ee(_n,{animation:vt})}}}),_t=zl(()=>{V&&w!==!1&&dt(!ot)});H.useEffect(()=>{const vt=YS(()=>{Ue.current&&ae()});let Et;const Tn=ki=>{ki.forEach(Is=>{Is.removedNodes.forEach(Ki=>{Et==null||Et.unobserve(Ki)}),Is.addedNodes.forEach(Ki=>{Et==null||Et.observe(Ki)})}),vt(),_t()},_n=Hl(Ue.current);_n.addEventListener("resize",vt);let In;return typeof ResizeObserver<"u"&&(Et=new ResizeObserver(vt),Array.from(Re.current.children).forEach(ki=>{Et.observe(ki)})),typeof MutationObserver<"u"&&(In=new MutationObserver(Tn),In.observe(Re.current,{childList:!0})),()=>{vt.clear(),_n.removeEventListener("resize",vt),In==null||In.disconnect(),Et==null||Et.disconnect()}},[ae,_t]),H.useEffect(()=>{const vt=Array.from(Re.current.children),Et=vt.length;if(typeof IntersectionObserver<"u"&&Et>0&&V&&w!==!1){const Tn=vt[0],_n=vt[Et-1],In={root:Ue.current,threshold:.99},ki=Gr=>{Ye(!Gr[0].isIntersecting)},Is=new IntersectionObserver(ki,In);Is.observe(Tn);const Ki=Gr=>{rt(!Gr[0].isIntersecting)},jr=new IntersectionObserver(Ki,In);return jr.observe(_n),()=>{Is.disconnect(),jr.disconnect()}}},[V,w,ot,h==null?void 0:h.length]),H.useEffect(()=>{ne(!0)},[]),H.useEffect(()=>{ae()}),H.useEffect(()=>{xt(F6!==he)},[xt,he]),H.useImperativeHandle(l,()=>({updateIndicator:ae,updateScrollButtons:_t}),[ae,_t]);const[Ht,Qt]=rn("indicator",{className:Pt(Y.indicator,L.className),elementType:MSe,externalForwardedProps:ut,ownerState:pe,additionalProps:{style:he}}),pn=Z.jsx(Ht,{...Qt});let be=0;const St=H.Children.map(h,vt=>{if(!H.isValidElement(vt))return null;const Et=vt.props.value===void 0?be:vt.props.value;Ve.set(Et,be);const Tn=Et===P;return be+=1,H.cloneElement(vt,{fullWidth:U==="fullWidth",indicator:Tn&&!ue&&pn,selected:Tn,selectionFollowsFocus:C,onChange:x,textColor:D,value:Et,...be===1&&P===!1&&!vt.props.tabIndex?{tabIndex:0}:{}})}),xe=vt=>{if(vt.altKey||vt.shiftKey||vt.ctrlKey||vt.metaKey)return;const Et=Re.current,Tn=g0(Aa(Et));if((Tn==null?void 0:Tn.getAttribute("role"))!=="tab")return;let In=E==="horizontal"?"ArrowLeft":"ArrowUp",ki=E==="horizontal"?"ArrowRight":"ArrowDown";switch(E==="horizontal"&&s&&(In="ArrowRight",ki="ArrowLeft"),vt.key){case In:vt.preventDefault(),bw(Et,Tn,B6);break;case ki:vt.preventDefault(),bw(Et,Tn,z6);break;case"Home":vt.preventDefault(),bw(Et,null,z6);break;case"End":vt.preventDefault(),bw(Et,null,B6);break}},He=At(),[st,pt]=rn("root",{ref:t,className:Pt(Y.root,p),elementType:wSe,externalForwardedProps:{...ut,...z,component:y},ownerState:pe}),[qt,Xn]=rn("scroller",{ref:Ue,className:Y.scroller,elementType:CSe,externalForwardedProps:ut,ownerState:pe,additionalProps:{style:{overflow:te.overflow,[K?`margin${s?"Left":"Right"}`:"marginBottom"]:F?void 0:-te.scrollbarWidth}}}),[kt,$t]=rn("list",{ref:Re,className:Pt(Y.list,Y.flexContainer),elementType:ASe,externalForwardedProps:ut,ownerState:pe,getSlotProps:vt=>({...vt,onKeyDown:Et=>{var Tn;xe(Et),(Tn=vt.onKeyDown)==null||Tn.call(vt,Et)}})});return Z.jsxs(st,{...pt,children:[He.scrollButtonStart,He.scrollbarSizeListener,Z.jsxs(qt,{...Xn,children:[Z.jsx(kt,{"aria-label":a,"aria-labelledby":o,"aria-orientation":E==="vertical"?"vertical":null,role:"tablist",...$t,children:St}),ue&&pn]}),He.scrollButtonEnd]})});function ISe(n){return yn("MuiTextField",n)}vn("MuiTextField",["root"]);const PSe={standard:t4,filled:e4,outlined:s4},DSe=n=>{const{classes:e}=n;return gn({root:["root"]},ISe,e)},NSe=ht(W1,{name:"MuiTextField",slot:"Root"})({}),LSe=H.forwardRef(function(e,t){const i=En({props:e,name:"MuiTextField"}),{autoComplete:r,autoFocus:s=!1,children:a,className:o,color:l="primary",defaultValue:u,disabled:h=!1,error:p=!1,FormHelperTextProps:y,fullWidth:v=!1,helperText:_,id:x,InputLabelProps:E,inputProps:S,InputProps:w,inputRef:C,label:A,maxRows:N,minRows:L,multiline:I=!1,name:D,onBlur:P,onChange:U,onFocus:F,placeholder:z,required:V=!1,rows:K,select:J=!1,SelectProps:q,slots:W={},slotProps:Q={},type:re,value:pe,variant:Y="outlined",...le}=i,de={...i,autoFocus:s,color:l,disabled:h,error:p,fullWidth:v,multiline:I,required:V,select:J,variant:Y},ue=DSe(de),ne=L_(x),he=_&&ne?`${ne}-helper-text`:void 0,me=A&&ne?`${ne}-label`:void 0,Le=PSe[Y],Ye={slots:W,slotProps:{input:w,inputLabel:E,htmlInput:S,formHelperText:y,select:q,...Q}},je={},rt=Ye.slotProps.inputLabel;Y==="outlined"&&(rt&&typeof rt.shrink<"u"&&(je.notched=rt.shrink),je.label=A),J&&((!q||!q.native)&&(je.id=void 0),je["aria-describedby"]=void 0);const[ot,dt]=rn("root",{elementType:NSe,shouldForwardComponentProp:!0,externalForwardedProps:{...Ye,...le},ownerState:de,className:Pt(ue.root,o),ref:t,additionalProps:{disabled:h,error:p,fullWidth:v,required:V,color:l,variant:Y}}),[te,Ie]=rn("input",{elementType:Le,externalForwardedProps:Ye,additionalProps:je,ownerState:de}),[Ve,Ue]=rn("inputLabel",{elementType:x2,externalForwardedProps:Ye,ownerState:de}),[Re,ut]=rn("htmlInput",{elementType:"input",externalForwardedProps:Ye,ownerState:de}),[We,ae]=rn("formHelperText",{elementType:H1e,externalForwardedProps:Ye,ownerState:de}),[ee,Ee]=rn("select",{elementType:eA,externalForwardedProps:Ye,ownerState:de}),Me=Z.jsx(te,{"aria-describedby":he,autoComplete:r,autoFocus:s,defaultValue:u,fullWidth:v,multiline:I,name:D,rows:K,maxRows:N,minRows:L,type:re,value:pe,id:ne,inputRef:C,onBlur:P,onChange:U,onFocus:F,placeholder:z,inputProps:ut,slots:{input:W.htmlInput?Re:void 0},...Ie});return Z.jsxs(ot,{...dt,children:[A!=null&&A!==""&&Z.jsx(Ve,{htmlFor:ne,id:me,...Ue,children:A}),J?Z.jsx(ee,{"aria-describedby":he,id:ne,labelId:me,value:pe,input:Me,...Ee,children:a}):Me,_&&Z.jsx(We,{id:he,...ae,children:_})]})}),xw=({content:n})=>{const[e,t]=H.useState(!1),i=()=>{t(!1)},r=()=>{t(!0)};return Z.jsx(X1e,{children:Z.jsx(Lbe,{onClickAway:i,children:Z.jsx(ad,{children:Z.jsx(IW,{onClose:i,open:e,disableFocusListener:!0,disableHoverListener:!0,disableTouchListener:!0,title:n,placement:"top-end",arrow:!0,slotProps:{popper:{disablePortal:!0}},children:Z.jsx(GL,{onClick:r,children:Z.jsx(hve,{})})})})})})};function XP(n){return n?n.charAt(0).toUpperCase()+n.slice(1):""}const $M=n=>{const e=localStorage.getItem(n);if(!e)return[];try{const t=JSON.parse(e);return Array.isArray(t)?t.filter(i=>typeof i=="string"):e.replace(/[\[\]']+/g,"").split(",").map(i=>i.trim()).filter(Boolean)}catch{return e.replace(/[\[\]']+/g,"").split(",").map(t=>t.trim()).filter(Boolean)}},S2={canvasBackgraundColor:"#002",intensity:.7,colorLight:"#fff",position:[100,20,10]},PW={system:"rgb(159, 159, 159)",submission:"rgb(200, 0, 0)",pass:"rgb(0 , 128, 128)",switch:"rgb(255, 215, 0)",transition:"rgb(128, 0, 128)",control:"rgb(0, 102, 204)",takedown:"rgb(255, 140, 0)",defence:"rgb(34, 139, 34)",guard:"rgb(139, 69, 19)",defense_escape:"rgba(255, 185, 135, 1)"},mg={fov:80,near:.1,far:1e3,position:[251,-93,-18],dollySpeed:4,minDistance:20,maxDistance:2700},USe=["/systems/headlock/nodes","/systems/test/nodes"],kSe=["/systems/headlock/links","/systems/test/links"],V6=[{valueNodes:"/systems/headlock/nodes",valueLinks:"/systems/headlock/links",label:"HeadLock"},{valueNodes:"/systems/dogfight/nodes",valueLinks:"/systems/dogfight/links",label:"DogFight"},{valueNodes:"/systems/escaping_back_control/nodes",valueLinks:"/systems/escaping_back_control/links",label:"Escaping Back Control"},{valueNodes:"/systems/mount_escape/nodes",valueLinks:"/systems/mount_escape/links",label:"Mount Escape"},{valueNodes:"/systems/side_control_escapes/nodes",valueLinks:"/systems/side_control_escapes/links",label:"Side Control Escapes"}],Yi={languageDefault:"es",languageUser:"languageApp",navigationsGestures:"hideNavigationGestures",dagModeCache:"dagMode",dagMode:localStorage.getItem("dagMode")||"rl",dagLevelDistanceCache:"dagLevelDistance",dagLevelDistance:localStorage.getItem("dagLevelDistance")||35,systemsCacheNameNodes:"systemsCacheNodes",systemsCacheNameLinks:"systemsCacheLinks",systemsNodesLoaded:[],systemsLinksLoaded:[]},zSe=USe[1],BSe=kSe[1],FSe=$M(Yi.systemsCacheNameLinks),VSe=$M(Yi.systemsCacheNameNodes),XM={AllSystemsNodesArray:VSe,AllSystemsLinksArray:FSe,nodes:zSe,links:BSe,categories:"taxonomy",subCategory:"subCategories",indexGlobal:"index_global",indexGlobalID:"63keMnlfnUPYdIxLUviv",nodeTaxonomy:"node_taxonomy",tab_ids:"tab_ids",tabs:"tabs"},YP={root:"/",addNode:"/add_node",loginUser:"/login_user"},HSe=$M(Yi.systemsCacheNameLinks),jSe=$M(Yi.systemsCacheNameNodes),dn=UZ((n,e)=>({isAddNodeActive:!1,setIsAddNodeActive:t=>n({isAddNodeActive:t}),isLoginWindowActive:!1,setIsLoginWindowActive:t=>n({isLoginWindowActive:t}),isLoadingFirestore:!1,setIsLoadingFirestore:t=>n({isLoadingFirestore:t}),isUploadFirestore:!1,setIsUploadFirestore:t=>n({isUploadFirestore:t}),isUserLogin:!1,setIsUserLogin:t=>n({isUserLogin:t}),showAlert:!1,alertMessage:"",alertSeverity:"success",isNodeAddViewActive:!1,setIsNodeAddViewActive:t=>n({isNodeAddViewActive:t}),isNodeSceneViewActive:!1,setIsNodeSceneViewActive:t=>n({isNodeSceneViewActive:t}),overlayDontShowAgain:!1,setOverlayDontShowAgain:t=>n({overlayDontShowAgain:t}),languageGlobal:"",setLanguageGlobal:t=>n({languageGlobal:t}),isConfigWindowActive:!1,setIsconfigWindowActive:t=>n({isConfigWindowActive:t}),nodeViewData:{videoid:"",start:"",end:""},setNodeViewData:t=>n({nodeViewData:t}),documentsFirestore:[],setDocumentsFirestore:t=>n({documentsFirestore:t}),dagModeConfig:Yi.dagMode,setDagModeConfig:t=>n({dagModeConfig:t}),dagLevelDistanceConfig:Number(Yi.dagLevelDistance),setDagLevelDistanceConfig:t=>n({dagLevelDistanceConfig:t}),triggerAlert:(t,i="success")=>{n({showAlert:!0,alertMessage:t,alertSeverity:i}),setTimeout(()=>n({showAlert:!1}),4e3)},addNodeActiveStep:0,setaddNodeActiveStep:t=>n({addNodeActiveStep:t}),nextStep:()=>n(t=>({addNodeActiveStep:t.addNodeActiveStep+1})),prevStep:()=>n(t=>({addNodeActiveStep:Math.max(0,t.addNodeActiveStep-1)})),stepValidation:{step0:!1,step1:!1,step2:!1},validateFns:{},setValidateFn:(t,i)=>n(r=>({validateFns:{...r.validateFns,[t]:i}})),runValidation:async t=>{const i=e().validateFns[t];if(!i)return!1;const r=await i();return n(s=>({stepValidation:{...s.stepValidation,[t]:r}})),r},runSequentialValidation:async t=>{for(const i of t)if(!await e().runValidation(i))return!1;return!0},connectionViewerActiveStep:null,setConnectionViewerActiveStep:t=>n({connectionViewerActiveStep:t}),cameraBackup:null,setCameraBackup:(t,i)=>n({cameraBackup:{pos:t,target:i}}),clearCameraBackup:()=>n({cameraBackup:null}),showFullGraph:!0,setShowFullGraph:t=>n({showFullGraph:t}),systemBjjSelectedNodes:jSe,setSystemBjjSelectedNodes:t=>n({systemBjjSelectedNodes:t}),systemBjjSelectedLinks:HSe,setSystemBjjSelectedLinks:t=>n({systemBjjSelectedLinks:t}),linksData:[],setLinksData:t=>n({linksData:t})}));var b3={exports:{}},Th={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H6;function GSe(){return H6||(H6=1,Th.ConcurrentRoot=1,Th.ContinuousEventPriority=8,Th.DefaultEventPriority=32,Th.DiscreteEventPriority=2,Th.IdleEventPriority=268435456,Th.LegacyRoot=0,Th.NoEventPriority=0),Th}var j6;function qSe(){return j6||(j6=1,b3.exports=GSe()),b3.exports}var E2=qSe(),x3={exports:{}},S3={},E3={exports:{}},T3={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G6;function WSe(){if(G6)return T3;G6=1;var n=m_();function e(p,y){return p===y&&(p!==0||1/p===1/y)||p!==p&&y!==y}var t=typeof Object.is=="function"?Object.is:e,i=n.useState,r=n.useEffect,s=n.useLayoutEffect,a=n.useDebugValue;function o(p,y){var v=y(),_=i({inst:{value:v,getSnapshot:y}}),x=_[0].inst,E=_[1];return s(function(){x.value=v,x.getSnapshot=y,l(x)&&E({inst:x})},[p,v,y]),r(function(){return l(x)&&E({inst:x}),p(function(){l(x)&&E({inst:x})})},[p]),a(v),v}function l(p){var y=p.getSnapshot;p=p.value;try{var v=y();return!t(p,v)}catch{return!0}}function u(p,y){return y()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:o;return T3.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:h,T3}var q6;function $Se(){return q6||(q6=1,E3.exports=WSe()),E3.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W6;function XSe(){if(W6)return S3;W6=1;var n=m_(),e=$Se();function t(u,h){return u===h&&(u!==0||1/u===1/h)||u!==u&&h!==h}var i=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,s=n.useRef,a=n.useEffect,o=n.useMemo,l=n.useDebugValue;return S3.useSyncExternalStoreWithSelector=function(u,h,p,y,v){var _=s(null);if(_.current===null){var x={hasValue:!1,value:null};_.current=x}else x=_.current;_=o(function(){function S(L){if(!w){if(w=!0,C=L,L=y(L),v!==void 0&&x.hasValue){var I=x.value;if(v(I,L))return A=I}return A=L}if(I=A,i(C,L))return I;var D=y(L);return v!==void 0&&v(I,D)?(C=L,I):(C=L,A=D)}var w=!1,C,A,N=p===void 0?null:p;return[function(){return S(h())},N===null?void 0:function(){return S(N())}]},[h,p,y,v]);var E=r(u,_[0],_[1]);return a(function(){x.hasValue=!0,x.value=E},[E]),l(E),E},S3}var $6;function YSe(){return $6||($6=1,x3.exports=XSe()),x3.exports}var KSe=YSe();const ZSe=Qp(KSe),{useSyncExternalStoreWithSelector:QSe}=ZSe,JSe=n=>n;function eEe(n,e=JSe,t){const i=QSe(n.subscribe,n.getState,n.getInitialState,e,t);return lr.useDebugValue(i),i}const X6=(n,e)=>{const t=$V(n),i=(r,s=e)=>eEe(t,r,s);return Object.assign(i,t),i},DW=((n,e)=>n?X6(n,e):X6);var w3={exports:{}},C3={exports:{}},A3={exports:{}},M3={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y6;function tEe(){return Y6||(Y6=1,(function(n){function e(q,W){var Q=q.length;q.push(W);e:for(;0<Q;){var re=Q-1>>>1,pe=q[re];if(0<r(pe,W))q[re]=W,q[Q]=pe,Q=re;else break e}}function t(q){return q.length===0?null:q[0]}function i(q){if(q.length===0)return null;var W=q[0],Q=q.pop();if(Q!==W){q[0]=Q;e:for(var re=0,pe=q.length,Y=pe>>>1;re<Y;){var le=2*(re+1)-1,de=q[le],ue=le+1,ne=q[ue];if(0>r(de,Q))ue<pe&&0>r(ne,de)?(q[re]=ne,q[ue]=Q,re=ue):(q[re]=de,q[le]=Q,re=le);else if(ue<pe&&0>r(ne,Q))q[re]=ne,q[ue]=Q,re=ue;else break e}}return W}function r(q,W){var Q=q.sortIndex-W.sortIndex;return Q!==0?Q:q.id-W.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();n.unstable_now=function(){return a.now()-o}}var l=[],u=[],h=1,p=null,y=3,v=!1,_=!1,x=!1,E=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function C(q){for(var W=t(u);W!==null;){if(W.callback===null)i(u);else if(W.startTime<=q)i(u),W.sortIndex=W.expirationTime,e(l,W);else break;W=t(u)}}function A(q){if(x=!1,C(q),!_)if(t(l)!==null)_=!0,K();else{var W=t(u);W!==null&&J(A,W.startTime-q)}}var N=!1,L=-1,I=5,D=-1;function P(){return!(n.unstable_now()-D<I)}function U(){if(N){var q=n.unstable_now();D=q;var W=!0;try{e:{_=!1,x&&(x=!1,S(L),L=-1),v=!0;var Q=y;try{t:{for(C(q),p=t(l);p!==null&&!(p.expirationTime>q&&P());){var re=p.callback;if(typeof re=="function"){p.callback=null,y=p.priorityLevel;var pe=re(p.expirationTime<=q);if(q=n.unstable_now(),typeof pe=="function"){p.callback=pe,C(q),W=!0;break t}p===t(l)&&i(l),C(q)}else i(l);p=t(l)}if(p!==null)W=!0;else{var Y=t(u);Y!==null&&J(A,Y.startTime-q),W=!1}}break e}finally{p=null,y=Q,v=!1}W=void 0}}finally{W?F():N=!1}}}var F;if(typeof w=="function")F=function(){w(U)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,V=z.port2;z.port1.onmessage=U,F=function(){V.postMessage(null)}}else F=function(){E(U,0)};function K(){N||(N=!0,F())}function J(q,W){L=E(function(){q(n.unstable_now())},W)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(q){q.callback=null},n.unstable_continueExecution=function(){_||v||(_=!0,K())},n.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<q?Math.floor(1e3/q):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(q){switch(y){case 1:case 2:case 3:var W=3;break;default:W=y}var Q=y;y=W;try{return q()}finally{y=Q}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(q,W){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var Q=y;y=q;try{return W()}finally{y=Q}},n.unstable_scheduleCallback=function(q,W,Q){var re=n.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?re+Q:re):Q=re,q){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=Q+pe,q={id:h++,callback:W,priorityLevel:q,startTime:Q,expirationTime:pe,sortIndex:-1},Q>re?(q.sortIndex=Q,e(u,q),t(l)===null&&q===t(u)&&(x?(S(L),L=-1):x=!0,J(A,Q-re))):(q.sortIndex=pe,e(l,q),_||v||(_=!0,K())),q},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(q){var W=y;return function(){var Q=y;y=W;try{return q.apply(this,arguments)}finally{y=Q}}}})(M3)),M3}var K6;function NW(){return K6||(K6=1,A3.exports=tEe()),A3.exports}/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z6;function nEe(){return Z6||(Z6=1,(function(n){n.exports=function(e){function t(d,m,T,O){return new Y_(d,m,T,O)}function i(){}function r(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)m+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(d){return d===null||typeof d!="object"?null:(d=nb&&d[nb]||d["@@iterator"],typeof d=="function"?d:null)}function a(d){if(d==null)return null;if(typeof d=="function")return d.$$typeof===th?null:d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case Dd:return"Fragment";case vl:return"Portal";case tb:return"Profiler";case eb:return"StrictMode";case Uy:return"Suspense";case ju:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case rc:return(d.displayName||"Context")+".Provider";case Hu:return(d._context.displayName||"Context")+".Consumer";case Nd:var m=d.render;return d=d.displayName,d||(d=m.displayName||m.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case Tm:return m=d.displayName||null,m!==null?m:a(d.type)||"Memo";case _l:m=d._payload,d=d._init;try{return a(d(m))}catch{}}return null}function o(d){if(ky===void 0)try{throw Error()}catch(T){var m=T.stack.trim().match(/\n( *(at )?)/);ky=m&&m[1]||"",ib=-1<T.stack.indexOf(`
    at`)?" (<anonymous>)":-1<T.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ky+d+ib}function l(d,m){if(!d||Gu)return"";Gu=!0;var T=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var O={DetermineComponentFrameRoot:function(){try{if(m){var Ot=function(){throw Error()};if(Object.defineProperty(Ot.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ot,[])}catch(bn){var Nt=bn}Reflect.construct(d,[],Ot)}else{try{Ot.call()}catch(bn){Nt=bn}d.call(Ot.prototype)}}else{try{throw Error()}catch(bn){Nt=bn}(Ot=d())&&typeof Ot.catch=="function"&&Ot.catch(function(){})}}catch(bn){if(bn&&Nt&&typeof bn.stack=="string")return[bn.stack,Nt.stack]}return[null,null]}};O.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var B=Object.getOwnPropertyDescriptor(O.DetermineComponentFrameRoot,"name");B&&B.configurable&&Object.defineProperty(O.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var G=O.DetermineComponentFrameRoot(),oe=G[0],ge=G[1];if(oe&&ge){var Ae=oe.split(`
`),Je=ge.split(`
`);for(B=O=0;O<Ae.length&&!Ae[O].includes("DetermineComponentFrameRoot");)O++;for(;B<Je.length&&!Je[B].includes("DetermineComponentFrameRoot");)B++;if(O===Ae.length||B===Je.length)for(O=Ae.length-1,B=Je.length-1;1<=O&&0<=B&&Ae[O]!==Je[B];)B--;for(;1<=O&&0<=B;O--,B--)if(Ae[O]!==Je[B]){if(O!==1||B!==1)do if(O--,B--,0>B||Ae[O]!==Je[B]){var bt=`
`+Ae[O].replace(" at new "," at ");return d.displayName&&bt.includes("<anonymous>")&&(bt=bt.replace("<anonymous>",d.displayName)),bt}while(1<=O&&0<=B);break}}}finally{Gu=!1,Error.prepareStackTrace=T}return(T=d?d.displayName||d.name:"")?o(T):""}function u(d){switch(d.tag){case 26:case 27:case 5:return o(d.type);case 16:return o("Lazy");case 13:return o("Suspense");case 19:return o("SuspenseList");case 0:case 15:return d=l(d.type,!1),d;case 11:return d=l(d.type.render,!1),d;case 1:return d=l(d.type,!0),d;default:return""}}function h(d){try{var m="";do m+=u(d),d=d.return;while(d);return m}catch(T){return`
Error generating stack: `+T.message+`
`+T.stack}}function p(d){var m=d,T=d;if(d.alternate)for(;m.return;)m=m.return;else{d=m;do m=d,(m.flags&4098)!==0&&(T=m.return),d=m.return;while(d)}return m.tag===3?T:null}function y(d){if(p(d)!==d)throw Error(r(188))}function v(d){var m=d.alternate;if(!m){if(m=p(d),m===null)throw Error(r(188));return m!==d?null:d}for(var T=d,O=m;;){var B=T.return;if(B===null)break;var G=B.alternate;if(G===null){if(O=B.return,O!==null){T=O;continue}break}if(B.child===G.child){for(G=B.child;G;){if(G===T)return y(B),d;if(G===O)return y(B),m;G=G.sibling}throw Error(r(188))}if(T.return!==O.return)T=B,O=G;else{for(var oe=!1,ge=B.child;ge;){if(ge===T){oe=!0,T=B,O=G;break}if(ge===O){oe=!0,O=B,T=G;break}ge=ge.sibling}if(!oe){for(ge=G.child;ge;){if(ge===T){oe=!0,T=G,O=B;break}if(ge===O){oe=!0,O=G,T=B;break}ge=ge.sibling}if(!oe)throw Error(r(189))}}if(T.alternate!==O)throw Error(r(190))}if(T.tag!==3)throw Error(r(188));return T.stateNode.current===T?d:m}function _(d){var m=d.tag;if(m===5||m===26||m===27||m===6)return d;for(d=d.child;d!==null;){if(m=_(d),m!==null)return m;d=d.sibling}return null}function x(d){var m=d.tag;if(m===5||m===26||m===27||m===6)return d;for(d=d.child;d!==null;){if(d.tag!==4&&(m=x(d),m!==null))return m;d=d.sibling}return null}function E(d){return{current:d}}function S(d){0>Zc||(d.current=Dm[Zc],Dm[Zc]=null,Zc--)}function w(d,m){Zc++,Dm[Zc]=d.current,d.current=m}function C(d){return d>>>=0,d===0?32:31-(Nm(d)/UE|0)|0}function A(d){var m=d&42;if(m!==0)return m;switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return d&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return d}}function N(d,m){var T=d.pendingLanes;if(T===0)return 0;var O=0,B=d.suspendedLanes,G=d.pingedLanes,oe=d.warmLanes;d=d.finishedLanes!==0;var ge=T&134217727;return ge!==0?(T=ge&~B,T!==0?O=A(T):(G&=ge,G!==0?O=A(G):d||(oe=ge&~oe,oe!==0&&(O=A(oe))))):(ge=T&~B,ge!==0?O=A(ge):G!==0?O=A(G):d||(oe=T&~oe,oe!==0&&(O=A(oe)))),O===0?0:m!==0&&m!==O&&(m&B)===0&&(B=O&-O,oe=m&-m,B>=oe||B===32&&(oe&4194176)!==0)?m:O}function L(d,m){return(d.pendingLanes&~(d.suspendedLanes&~d.pingedLanes)&m)===0}function I(d,m){switch(d){case 1:case 2:case 4:case 8:return m+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function D(){var d=zd;return zd<<=1,(zd&4194176)===0&&(zd=128),d}function P(){var d=Lm;return Lm<<=1,(Lm&62914560)===0&&(Lm=4194304),d}function U(d){for(var m=[],T=0;31>T;T++)m.push(d);return m}function F(d,m){d.pendingLanes|=m,m!==268435456&&(d.suspendedLanes=0,d.pingedLanes=0,d.warmLanes=0)}function z(d,m,T,O,B,G){var oe=d.pendingLanes;d.pendingLanes=T,d.suspendedLanes=0,d.pingedLanes=0,d.warmLanes=0,d.expiredLanes&=T,d.entangledLanes&=T,d.errorRecoveryDisabledLanes&=T,d.shellSuspendCounter=0;var ge=d.entanglements,Ae=d.expirationTimes,Je=d.hiddenUpdates;for(T=oe&~T;0<T;){var bt=31-Ua(T),Ot=1<<bt;ge[bt]=0,Ae[bt]=-1;var Nt=Je[bt];if(Nt!==null)for(Je[bt]=null,bt=0;bt<Nt.length;bt++){var bn=Nt[bt];bn!==null&&(bn.lane&=-536870913)}T&=~Ot}O!==0&&V(d,O,0),G!==0&&B===0&&d.tag!==0&&(d.suspendedLanes|=G&~(oe&~m))}function V(d,m,T){d.pendingLanes|=m,d.suspendedLanes&=~m;var O=31-Ua(m);d.entangledLanes|=m,d.entanglements[O]=d.entanglements[O]|1073741824|T&4194218}function K(d,m){var T=d.entangledLanes|=m;for(d=d.entanglements;T;){var O=31-Ua(T),B=1<<O;B&m|d[O]&m&&(d[O]|=m),T&=~B}}function J(d){return d&=-d,2<d?8<d?(d&134217727)!==0?32:268435456:8:2}function q(d){if(ka&&typeof ka.onCommitFiberRoot=="function")try{ka.onCommitFiberRoot(Fd,d,void 0,(d.current.flags&128)===128)}catch{}}function W(d){if(typeof FE=="function"&&Nb(d),ka&&typeof ka.setStrictMode=="function")try{ka.setStrictMode(Fd,d)}catch{}}function Q(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}function re(d,m){if(typeof d=="object"&&d!==null){var T=ev.get(d);return T!==void 0?T:(m={value:d,source:m,stack:h(m)},ev.set(d,m),m)}return{value:d,source:m,stack:h(m)}}function pe(d,m){Ji[yr++]=zm,Ji[yr++]=km,km=d,zm=m}function Y(d,m,T){mo[go++]=cc,mo[go++]=Ho,mo[go++]=bl,bl=d;var O=cc;d=Ho;var B=32-Ua(O)-1;O&=~(1<<B),T+=1;var G=32-Ua(m)+B;if(30<G){var oe=B-B%5;G=(O&(1<<oe)-1).toString(32),O>>=oe,B-=oe,cc=1<<32-Ua(m)+B|T<<B|O,Ho=G+d}else cc=1<<G|T<<B|O,Ho=d}function le(d){d.return!==null&&(pe(d,1),Y(d,1,0))}function de(d){for(;d===km;)km=Ji[--yr],Ji[yr]=null,zm=Ji[--yr],Ji[yr]=null;for(;d===bl;)bl=mo[--go],mo[go]=null,Ho=mo[--go],mo[go]=null,cc=mo[--go],mo[go]=null}function ue(d,m){w(xl,m),w(Bm,d),w(Es,null),d=nh(m),S(Es),w(Es,d)}function ne(){S(Es),S(Bm),S(xl)}function he(d){d.memoizedState!==null&&w(Vd,d);var m=Es.current,T=mE(m,d.type);m!==T&&(w(Bm,d),w(Es,T))}function me(d){Bm.current===d&&(S(Es),S(Bm)),Vd.current===d&&(S(Vd),ac?un._currentValue=La:un._currentValue2=La)}function Le(d){var m=Error(r(418,""));throw dt(re(m,d)),Fm}function Ye(d,m){if(!ma)throw Error(r(175));aR(d.stateNode,d.type,d.memoizedProps,m,d)||Le(d)}function je(d){for(Ys=d.return;Ys;)switch(Ys.tag){case 3:case 27:jo=!0;return;case 5:case 13:jo=!1;return;default:Ys=Ys.return}}function rt(d){if(!ma||d!==Ys)return!1;if(!oi)return je(d),oi=!0,!1;var m=!1;if(Ls?d.tag!==3&&d.tag!==27&&(d.tag!==5||IE(d.type)&&!$u(d.type,d.memoizedProps))&&(m=!0):d.tag!==3&&(d.tag!==5||IE(d.type)&&!$u(d.type,d.memoizedProps))&&(m=!0),m&&ks&&Le(d),je(d),d.tag===13){if(!ma)throw Error(r(316));if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));ks=RE(d)}else ks=Ys?xb(d.stateNode):null;return!0}function ot(){ma&&(ks=Ys=null,oi=!1)}function dt(d){yo===null?yo=[d]:yo.push(d)}function te(){for(var d=Yu,m=Hd=Yu=0;m<d;){var T=vo[m];vo[m++]=null;var O=vo[m];vo[m++]=null;var B=vo[m];vo[m++]=null;var G=vo[m];if(vo[m++]=null,O!==null&&B!==null){var oe=O.pending;oe===null?B.next=B:(B.next=oe.next,oe.next=B),O.pending=B}G!==0&&Re(T,B,G)}}function Ie(d,m,T,O){vo[Yu++]=d,vo[Yu++]=m,vo[Yu++]=T,vo[Yu++]=O,Hd|=O,d.lanes|=O,d=d.alternate,d!==null&&(d.lanes|=O)}function Ve(d,m,T,O){return Ie(d,m,T,O),ut(d)}function Ue(d,m){return Ie(d,null,null,m),ut(d)}function Re(d,m,T){d.lanes|=T;var O=d.alternate;O!==null&&(O.lanes|=T);for(var B=!1,G=d.return;G!==null;)G.childLanes|=T,O=G.alternate,O!==null&&(O.childLanes|=T),G.tag===22&&(d=G.stateNode,d===null||d._visibility&1||(B=!0)),d=G,G=G.return;B&&m!==null&&d.tag===3&&(G=d.stateNode,B=31-Ua(T),G=G.hiddenUpdates,d=G[B],d===null?G[B]=[m]:d.push(m),m.lane=T|536870912)}function ut(d){if(50<dh)throw dh=0,va=null,Error(r(185));for(var m=d.return;m!==null;)d=m,m=d.return;return d.tag===3?d.stateNode:null}function We(d){d!==ah&&d.next===null&&(ah===null?jd=ah=d:ah=ah.next=d),Hm=!0,Vm||(Vm=!0,Oe(ee))}function ae(d,m){if(!Sl&&Hm){Sl=!0;do for(var T=!1,O=jd;O!==null;){if(d!==0){var B=O.pendingLanes;if(B===0)var G=0;else{var oe=O.suspendedLanes,ge=O.pingedLanes;G=(1<<31-Ua(42|d)+1)-1,G&=B&~(oe&~ge),G=G&201326677?G&201326677|1:G?G|2:0}G!==0&&(T=!0,Qe(O,G))}else G=Vn,G=N(O,O===Wn?G:0),(G&3)===0||L(O,G)||(T=!0,Qe(O,G));O=O.next}while(T);Sl=!1}}function ee(){Hm=Vm=!1;var d=0;Ku!==0&&(Xu()&&(d=Ku),Ku=0);for(var m=Us(),T=null,O=jd;O!==null;){var B=O.next,G=Ee(O,m);G===0?(O.next=null,T===null?jd=B:T.next=B,B===null&&(ah=T)):(T=O,(d!==0||(G&3)!==0)&&(Hm=!0)),O=B}ae(d)}function Ee(d,m){for(var T=d.suspendedLanes,O=d.pingedLanes,B=d.expirationTimes,G=d.pendingLanes&-62914561;0<G;){var oe=31-Ua(G),ge=1<<oe,Ae=B[oe];Ae===-1?((ge&T)===0||(ge&O)!==0)&&(B[oe]=I(ge,m)):Ae<=m&&(d.expiredLanes|=ge),G&=~ge}if(m=Wn,T=Vn,T=N(d,d===m?T:0),O=d.callbackNode,T===0||d===m&&Ni===2||d.cancelPendingCommit!==null)return O!==null&&O!==null&&Um(O),d.callbackNode=null,d.callbackPriority=0;if((T&3)===0||L(d,T)){if(m=T&-T,m===d.callbackPriority)return m;switch(O!==null&&Um(O),J(T)){case 2:case 8:T=BE;break;case 32:T=Qy;break;case 268435456:T=Jy;break;default:T=Qy}return O=Me.bind(null,d),T=Bd(T,O),d.callbackPriority=m,d.callbackNode=T,m}return O!==null&&O!==null&&Um(O),d.callbackPriority=2,d.callbackNode=null,2}function Me(d,m){var T=d.callbackNode;if(xs()&&d.callbackNode!==T)return null;var O=Vn;return O=N(d,d===Wn?O:0),O===0?null:(_m(d,O,m),Ee(d,Us()),d.callbackNode!=null&&d.callbackNode===T?Me.bind(null,d):null)}function Qe(d,m){if(xs())return null;_m(d,m,!0)}function Oe(d){$r?Vy(function(){(Kt&6)!==0?Bd(Db,d):d()}):Bd(Db,d)}function ct(){return Ku===0&&(Ku=D()),Ku}function lt(d,m){if(jm===null){var T=jm=[];tv=0,za=ct(),Zu={status:"pending",value:void 0,then:function(O){T.push(O)}}}return tv++,m.then(Dt,Dt),m}function Dt(){if(--tv===0&&jm!==null){Zu!==null&&(Zu.status="fulfilled");var d=jm;jm=null,za=0,Zu=null;for(var m=0;m<d.length;m++)(0,d[m])()}}function Ut(d,m){var T=[],O={status:"pending",value:null,reason:null,then:function(B){T.push(B)}};return d.then(function(){O.status="fulfilled",O.value=m;for(var B=0;B<T.length;B++)(0,T[B])(m)},function(B){for(O.status="rejected",O.reason=B,B=0;B<T.length;B++)(0,T[B])(void 0)}),O}function Xe(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mt(d,m){d=d.updateQueue,m.updateQueue===d&&(m.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,callbacks:null})}function At(d){return{lane:d,tag:0,payload:null,callback:null,next:null}}function xt(d,m,T){var O=d.updateQueue;if(O===null)return null;if(O=O.shared,(Kt&2)!==0){var B=O.pending;return B===null?m.next=m:(m.next=B.next,B.next=m),O.pending=m,m=ut(d),Re(d,null,T),m}return Ie(d,O,m,T),ut(d)}function _t(d,m,T){if(m=m.updateQueue,m!==null&&(m=m.shared,(T&4194176)!==0)){var O=m.lanes;O&=d.pendingLanes,T|=O,m.lanes=T,K(d,T)}}function Ht(d,m){var T=d.updateQueue,O=d.alternate;if(O!==null&&(O=O.updateQueue,T===O)){var B=null,G=null;if(T=T.firstBaseUpdate,T!==null){do{var oe={lane:T.lane,tag:T.tag,payload:T.payload,callback:null,next:null};G===null?B=G=oe:G=G.next=oe,T=T.next}while(T!==null);G===null?B=G=m:G=G.next=m}else B=G=m;T={baseState:O.baseState,firstBaseUpdate:B,lastBaseUpdate:G,shared:O.shared,callbacks:O.callbacks},d.updateQueue=T;return}d=T.lastBaseUpdate,d===null?T.firstBaseUpdate=m:d.next=m,T.lastBaseUpdate=m}function Qt(){if(Gd){var d=Zu;if(d!==null)throw d}}function pn(d,m,T,O){Gd=!1;var B=d.updateQueue;Qc=!1;var G=B.firstBaseUpdate,oe=B.lastBaseUpdate,ge=B.shared.pending;if(ge!==null){B.shared.pending=null;var Ae=ge,Je=Ae.next;Ae.next=null,oe===null?G=Je:oe.next=Je,oe=Ae;var bt=d.alternate;bt!==null&&(bt=bt.updateQueue,ge=bt.lastBaseUpdate,ge!==oe&&(ge===null?bt.firstBaseUpdate=Je:ge.next=Je,bt.lastBaseUpdate=Ae))}if(G!==null){var Ot=B.baseState;oe=0,bt=Je=Ae=null,ge=G;do{var Nt=ge.lane&-536870913,bn=Nt!==ge.lane;if(bn?(Vn&Nt)===Nt:(O&Nt)===Nt){Nt!==0&&Nt===za&&(Gd=!0),bt!==null&&(bt=bt.next={lane:0,tag:ge.tag,payload:ge.payload,callback:null,next:null});e:{var Ha=d,$m=ge;Nt=m;var ph=T;switch($m.tag){case 1:if(Ha=$m.payload,typeof Ha=="function"){Ot=Ha.call(ph,Ot,Nt);break e}Ot=Ha;break e;case 3:Ha.flags=Ha.flags&-65537|128;case 0:if(Ha=$m.payload,Nt=typeof Ha=="function"?Ha.call(ph,Ot,Nt):Ha,Nt==null)break e;Ot=eh({},Ot,Nt);break e;case 2:Qc=!0}}Nt=ge.callback,Nt!==null&&(d.flags|=64,bn&&(d.flags|=8192),bn=B.callbacks,bn===null?B.callbacks=[Nt]:bn.push(Nt))}else bn={lane:Nt,tag:ge.tag,payload:ge.payload,callback:ge.callback,next:null},bt===null?(Je=bt=bn,Ae=Ot):bt=bt.next=bn,oe|=Nt;if(ge=ge.next,ge===null){if(ge=B.shared.pending,ge===null)break;bn=ge,ge=bn.next,bn.next=null,B.lastBaseUpdate=bn,B.shared.pending=null}}while(!0);bt===null&&(Ae=Ot),B.baseState=Ae,B.firstBaseUpdate=Je,B.lastBaseUpdate=bt,G===null&&(B.shared.lanes=0),So|=oe,d.lanes=oe,d.memoizedState=Ot}}function be(d,m){if(typeof d!="function")throw Error(r(191,d));d.call(m)}function St(d,m){var T=d.callbacks;if(T!==null)for(d.callbacks=null,d=0;d<T.length;d++)be(T[d],m)}function xe(d,m){if(po(d,m))return!0;if(typeof d!="object"||d===null||typeof m!="object"||m===null)return!1;var T=Object.keys(d),O=Object.keys(m);if(T.length!==O.length)return!1;for(O=0;O<T.length;O++){var B=T[O];if(!Gm.call(m,B)||!po(d[B],m[B]))return!1}return!0}function He(d){return d=d.status,d==="fulfilled"||d==="rejected"}function st(){}function pt(d,m,T){switch(T=d[T],T===void 0?d.push(m):T!==m&&(m.then(st,st),m=T),m.status){case"fulfilled":return m.value;case"rejected":throw d=m.reason,d===Oi?Error(r(483)):d;default:if(typeof m.status=="string")m.then(st,st);else{if(d=Wn,d!==null&&100<d.shellSuspendCounter)throw Error(r(482));d=m,d.status="pending",d.then(function(O){if(m.status==="pending"){var B=m;B.status="fulfilled",B.value=O}},function(O){if(m.status==="pending"){var B=m;B.status="rejected",B.reason=O}})}switch(m.status){case"fulfilled":return m.value;case"rejected":throw d=m.reason,d===Oi?Error(r(483)):d}throw oh=m,Oi}}function qt(){if(oh===null)throw Error(r(459));var d=oh;return oh=null,d}function Xn(d){var m=Go;return Go+=1,uc===null&&(uc=[]),pt(uc,d,m)}function kt(d,m){m=m.props.ref,d.ref=m!==void 0?m:null}function $t(d,m){throw m.$$typeof===J_?Error(r(525)):(d=Object.prototype.toString.call(m),Error(r(31,d==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":d)))}function vt(d){var m=d._init;return m(d._payload)}function Et(d){function m(ze,we){if(d){var Ge=ze.deletions;Ge===null?(ze.deletions=[we],ze.flags|=16):Ge.push(we)}}function T(ze,we){if(!d)return null;for(;we!==null;)m(ze,we),we=we.sibling;return null}function O(ze){for(var we=new Map;ze!==null;)ze.key!==null?we.set(ze.key,ze):we.set(ze.index,ze),ze=ze.sibling;return we}function B(ze,we){return ze=$s(ze,we),ze.index=0,ze.sibling=null,ze}function G(ze,we,Ge){return ze.index=Ge,d?(Ge=ze.alternate,Ge!==null?(Ge=Ge.index,Ge<we?(ze.flags|=33554434,we):Ge):(ze.flags|=33554434,we)):(ze.flags|=1048576,we)}function oe(ze){return d&&ze.alternate===null&&(ze.flags|=33554434),ze}function ge(ze,we,Ge,ft){return we===null||we.tag!==6?(we=Vu(Ge,ze.mode,ft),we.return=ze,we):(we=B(we,Ge),we.return=ze,we)}function Ae(ze,we,Ge,ft){var Wt=Ge.type;return Wt===Dd?bt(ze,we,Ge.props.children,ft,Ge.key):we!==null&&(we.elementType===Wt||typeof Wt=="object"&&Wt!==null&&Wt.$$typeof===_l&&vt(Wt)===we.type)?(we=B(we,Ge.props),kt(we,Ge),we.return=ze,we):(we=Fo(Ge.type,Ge.key,Ge.props,null,ze.mode,ft),kt(we,Ge),we.return=ze,we)}function Je(ze,we,Ge,ft){return we===null||we.tag!==4||we.stateNode.containerInfo!==Ge.containerInfo||we.stateNode.implementation!==Ge.implementation?(we=Pd(Ge,ze.mode,ft),we.return=ze,we):(we=B(we,Ge.children||[]),we.return=ze,we)}function bt(ze,we,Ge,ft,Wt){return we===null||we.tag!==7?(we=Wc(Ge,ze.mode,ft,Wt),we.return=ze,we):(we=B(we,Ge),we.return=ze,we)}function Ot(ze,we,Ge){if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return we=Vu(""+we,ze.mode,Ge),we.return=ze,we;if(typeof we=="object"&&we!==null){switch(we.$$typeof){case $c:return Ge=Fo(we.type,we.key,we.props,null,ze.mode,Ge),kt(Ge,we),Ge.return=ze,Ge;case vl:return we=Pd(we,ze.mode,Ge),we.return=ze,we;case _l:var ft=we._init;return we=ft(we._payload),Ot(ze,we,Ge)}if(qu(we)||s(we))return we=Wc(we,ze.mode,Ge,null),we.return=ze,we;if(typeof we.then=="function")return Ot(ze,Xn(we),Ge);if(we.$$typeof===rc)return Ot(ze,qe(ze,we),Ge);$t(ze,we)}return null}function Nt(ze,we,Ge,ft){var Wt=we!==null?we.key:null;if(typeof Ge=="string"&&Ge!==""||typeof Ge=="number"||typeof Ge=="bigint")return Wt!==null?null:ge(ze,we,""+Ge,ft);if(typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case $c:return Ge.key===Wt?Ae(ze,we,Ge,ft):null;case vl:return Ge.key===Wt?Je(ze,we,Ge,ft):null;case _l:return Wt=Ge._init,Ge=Wt(Ge._payload),Nt(ze,we,Ge,ft)}if(qu(Ge)||s(Ge))return Wt!==null?null:bt(ze,we,Ge,ft,null);if(typeof Ge.then=="function")return Nt(ze,we,Xn(Ge),ft);if(Ge.$$typeof===rc)return Nt(ze,we,qe(ze,Ge),ft);$t(ze,Ge)}return null}function bn(ze,we,Ge,ft,Wt){if(typeof ft=="string"&&ft!==""||typeof ft=="number"||typeof ft=="bigint")return ze=ze.get(Ge)||null,ge(we,ze,""+ft,Wt);if(typeof ft=="object"&&ft!==null){switch(ft.$$typeof){case $c:return ze=ze.get(ft.key===null?Ge:ft.key)||null,Ae(we,ze,ft,Wt);case vl:return ze=ze.get(ft.key===null?Ge:ft.key)||null,Je(we,ze,ft,Wt);case _l:var qi=ft._init;return ft=qi(ft._payload),bn(ze,we,Ge,ft,Wt)}if(qu(ft)||s(ft))return ze=ze.get(Ge)||null,bt(we,ze,ft,Wt,null);if(typeof ft.then=="function")return bn(ze,we,Ge,Xn(ft),Wt);if(ft.$$typeof===rc)return bn(ze,we,Ge,qe(we,ft),Wt);$t(we,ft)}return null}function Ha(ze,we,Ge,ft){for(var Wt=null,qi=null,fn=we,ci=we=0,cs=null;fn!==null&&ci<Ge.length;ci++){fn.index>ci?(cs=fn,fn=null):cs=fn.sibling;var ui=Nt(ze,fn,Ge[ci],ft);if(ui===null){fn===null&&(fn=cs);break}d&&fn&&ui.alternate===null&&m(ze,fn),we=G(ui,we,ci),qi===null?Wt=ui:qi.sibling=ui,qi=ui,fn=cs}if(ci===Ge.length)return T(ze,fn),oi&&pe(ze,ci),Wt;if(fn===null){for(;ci<Ge.length;ci++)fn=Ot(ze,Ge[ci],ft),fn!==null&&(we=G(fn,we,ci),qi===null?Wt=fn:qi.sibling=fn,qi=fn);return oi&&pe(ze,ci),Wt}for(fn=O(fn);ci<Ge.length;ci++)cs=bn(fn,ze,ci,Ge[ci],ft),cs!==null&&(d&&cs.alternate!==null&&fn.delete(cs.key===null?ci:cs.key),we=G(cs,we,ci),qi===null?Wt=cs:qi.sibling=cs,qi=cs);return d&&fn.forEach(function(su){return m(ze,su)}),oi&&pe(ze,ci),Wt}function $m(ze,we,Ge,ft){if(Ge==null)throw Error(r(151));for(var Wt=null,qi=null,fn=we,ci=we=0,cs=null,ui=Ge.next();fn!==null&&!ui.done;ci++,ui=Ge.next()){fn.index>ci?(cs=fn,fn=null):cs=fn.sibling;var su=Nt(ze,fn,ui.value,ft);if(su===null){fn===null&&(fn=cs);break}d&&fn&&su.alternate===null&&m(ze,fn),we=G(su,we,ci),qi===null?Wt=su:qi.sibling=su,qi=su,fn=cs}if(ui.done)return T(ze,fn),oi&&pe(ze,ci),Wt;if(fn===null){for(;!ui.done;ci++,ui=Ge.next())ui=Ot(ze,ui.value,ft),ui!==null&&(we=G(ui,we,ci),qi===null?Wt=ui:qi.sibling=ui,qi=ui);return oi&&pe(ze,ci),Wt}for(fn=O(fn);!ui.done;ci++,ui=Ge.next())ui=bn(fn,ze,ci,ui.value,ft),ui!==null&&(d&&ui.alternate!==null&&fn.delete(ui.key===null?ci:ui.key),we=G(ui,we,ci),qi===null?Wt=ui:qi.sibling=ui,qi=ui);return d&&fn.forEach(function(uv){return m(ze,uv)}),oi&&pe(ze,ci),Wt}function ph(ze,we,Ge,ft){if(typeof Ge=="object"&&Ge!==null&&Ge.type===Dd&&Ge.key===null&&(Ge=Ge.props.children),typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case $c:e:{for(var Wt=Ge.key;we!==null;){if(we.key===Wt){if(Wt=Ge.type,Wt===Dd){if(we.tag===7){T(ze,we.sibling),ft=B(we,Ge.props.children),ft.return=ze,ze=ft;break e}}else if(we.elementType===Wt||typeof Wt=="object"&&Wt!==null&&Wt.$$typeof===_l&&vt(Wt)===we.type){T(ze,we.sibling),ft=B(we,Ge.props),kt(ft,Ge),ft.return=ze,ze=ft;break e}T(ze,we);break}else m(ze,we);we=we.sibling}Ge.type===Dd?(ft=Wc(Ge.props.children,ze.mode,ft,Ge.key),ft.return=ze,ze=ft):(ft=Fo(Ge.type,Ge.key,Ge.props,null,ze.mode,ft),kt(ft,Ge),ft.return=ze,ze=ft)}return oe(ze);case vl:e:{for(Wt=Ge.key;we!==null;){if(we.key===Wt)if(we.tag===4&&we.stateNode.containerInfo===Ge.containerInfo&&we.stateNode.implementation===Ge.implementation){T(ze,we.sibling),ft=B(we,Ge.children||[]),ft.return=ze,ze=ft;break e}else{T(ze,we);break}else m(ze,we);we=we.sibling}ft=Pd(Ge,ze.mode,ft),ft.return=ze,ze=ft}return oe(ze);case _l:return Wt=Ge._init,Ge=Wt(Ge._payload),ph(ze,we,Ge,ft)}if(qu(Ge))return Ha(ze,we,Ge,ft);if(s(Ge)){if(Wt=s(Ge),typeof Wt!="function")throw Error(r(150));return Ge=Wt.call(Ge),$m(ze,we,Ge,ft)}if(typeof Ge.then=="function")return ph(ze,we,Xn(Ge),ft);if(Ge.$$typeof===rc)return ph(ze,we,qe(ze,Ge),ft);$t(ze,Ge)}return typeof Ge=="string"&&Ge!==""||typeof Ge=="number"||typeof Ge=="bigint"?(Ge=""+Ge,we!==null&&we.tag===6?(T(ze,we.sibling),ft=B(we,Ge),ft.return=ze,ze=ft):(T(ze,we),ft=Vu(Ge,ze.mode,ft),ft.return=ze,ze=ft),oe(ze)):T(ze,we)}return function(ze,we,Ge,ft){try{Go=0;var Wt=ph(ze,we,Ge,ft);return uc=null,Wt}catch(fn){if(fn===Oi)throw fn;var qi=t(29,fn,null,ze.mode);return qi.lanes=ft,qi.return=ze,qi}finally{}}}function Tn(d,m){d=El,w(_o,d),w(fc,m),El=d|m.baseLanes}function _n(){w(_o,El),w(fc,fc.current)}function In(){El=_o.current,S(fc),S(_o)}function ki(d){var m=d.alternate;w(Xr,Xr.current&1),w(bo,d),qo===null&&(m===null||fc.current!==null||m.memoizedState!==null)&&(qo=d)}function Is(d){if(d.tag===22){if(w(Xr,Xr.current),w(bo,d),qo===null){var m=d.alternate;m!==null&&m.memoizedState!==null&&(qo=d)}}else Ki()}function Ki(){w(Xr,Xr.current),w(bo,bo.current)}function jr(d){S(bo),qo===d&&(qo=null),S(Xr)}function Gr(d){for(var m=d;m!==null;){if(m.tag===13){var T=m.memoizedState;if(T!==null&&(T=T.dehydrated,T===null||Wy(T)||Pm(T)))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if((m.flags&128)!==0)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}function mn(){throw Error(r(321))}function dr(d,m){if(m===null)return!1;for(var T=0;T<m.length&&T<d.length;T++)if(!po(d[T],m[T]))return!1;return!0}function la(d,m,T,O,B,G){return hc=G,Dn=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,nn.H=d===null||d.memoizedState===null?Yr:Ks,Jc=!1,G=T(O,B),Jc=!1,er&&(G=so(m,T,O,B)),hl(d),G}function hl(d){nn.H=li;var m=_i!==null&&_i.next!==null;if(hc=0,Rr=_i=Dn=null,Wo=!1,vr=0,qd=null,m)throw Error(r(300));d===null||Or||(d=d.dependencies,d!==null&&X(d)&&(Or=!0))}function so(d,m,T,O){Dn=d;var B=0;do{if(er&&(qd=null),vr=0,er=!1,25<=B)throw Error(r(301));if(B+=1,Rr=_i=null,d.updateQueue!=null){var G=d.updateQueue;G.lastEffect=null,G.events=null,G.stores=null,G.memoCache!=null&&(G.memoCache.index=0)}nn.H=Ju,G=m(T,O)}while(er);return G}function ud(){var d=nn.H,m=d.useState()[0];return m=typeof m.then=="function"?ke(m):m,d=d.useState()[0],(_i!==null?_i.memoizedState:null)!==d&&(Dn.flags|=1024),m}function Lc(){var d=qm!==0;return qm=0,d}function ao(d,m,T){m.updateQueue=d.updateQueue,m.flags&=-2053,d.lanes&=~T}function dl(d){if(Wo){for(d=d.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}Wo=!1}hc=0,Rr=_i=Dn=null,er=!1,vr=qm=0,qd=null}function se(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rr===null?Dn.memoizedState=Rr=d:Rr=Rr.next=d,Rr}function ve(){if(_i===null){var d=Dn.alternate;d=d!==null?d.memoizedState:null}else d=_i.next;var m=Rr===null?Dn.memoizedState:Rr.next;if(m!==null)Rr=m,_i=d;else{if(d===null)throw Dn.alternate===null?Error(r(467)):Error(r(310));_i=d,d={memoizedState:_i.memoizedState,baseState:_i.baseState,baseQueue:_i.baseQueue,queue:_i.queue,next:null},Rr===null?Dn.memoizedState=Rr=d:Rr=Rr.next=d}return Rr}function ke(d){var m=vr;return vr+=1,qd===null&&(qd=[]),d=pt(qd,d,m),m=Dn,(Rr===null?m.memoizedState:Rr.next)===null&&(m=m.alternate,nn.H=m===null||m.memoizedState===null?Yr:Ks),d}function Ne(d){if(d!==null&&typeof d=="object"){if(typeof d.then=="function")return ke(d);if(d.$$typeof===rc)return Te(d)}throw Error(r(438,String(d)))}function Se(d){var m=null,T=Dn.updateQueue;if(T!==null&&(m=T.memoCache),m==null){var O=Dn.alternate;O!==null&&(O=O.updateQueue,O!==null&&(O=O.memoCache,O!=null&&(m={data:O.data.map(function(B){return B.slice()}),index:0})))}if(m==null&&(m={data:[],index:0}),T===null&&(T=iv(),Dn.updateQueue=T),T.memoCache=m,T=m.data[m.index],T===void 0)for(T=m.data[m.index]=Array(d),O=0;O<d;O++)T[O]=pE;return m.index++,T}function at(d,m){return typeof m=="function"?m(d):m}function wt(d){var m=ve();return Mt(m,_i,d)}function Mt(d,m,T){var O=d.queue;if(O===null)throw Error(r(311));O.lastRenderedReducer=T;var B=d.baseQueue,G=O.pending;if(G!==null){if(B!==null){var oe=B.next;B.next=G.next,G.next=oe}m.baseQueue=B=G,O.pending=null}if(G=d.baseState,B===null)d.memoizedState=G;else{m=B.next;var ge=oe=null,Ae=null,Je=m,bt=!1;do{var Ot=Je.lane&-536870913;if(Ot!==Je.lane?(Vn&Ot)===Ot:(hc&Ot)===Ot){var Nt=Je.revertLane;if(Nt===0)Ae!==null&&(Ae=Ae.next={lane:0,revertLane:0,action:Je.action,hasEagerState:Je.hasEagerState,eagerState:Je.eagerState,next:null}),Ot===za&&(bt=!0);else if((hc&Nt)===Nt){Je=Je.next,Nt===za&&(bt=!0);continue}else Ot={lane:0,revertLane:Je.revertLane,action:Je.action,hasEagerState:Je.hasEagerState,eagerState:Je.eagerState,next:null},Ae===null?(ge=Ae=Ot,oe=G):Ae=Ae.next=Ot,Dn.lanes|=Nt,So|=Nt;Ot=Je.action,Jc&&T(G,Ot),G=Je.hasEagerState?Je.eagerState:T(G,Ot)}else Nt={lane:Ot,revertLane:Je.revertLane,action:Je.action,hasEagerState:Je.hasEagerState,eagerState:Je.eagerState,next:null},Ae===null?(ge=Ae=Nt,oe=G):Ae=Ae.next=Nt,Dn.lanes|=Ot,So|=Ot;Je=Je.next}while(Je!==null&&Je!==m);if(Ae===null?oe=G:Ae.next=ge,!po(G,d.memoizedState)&&(Or=!0,bt&&(T=Zu,T!==null)))throw T;d.memoizedState=G,d.baseState=oe,d.baseQueue=Ae,O.lastRenderedState=G}return B===null&&(O.lanes=0),[d.memoizedState,O.dispatch]}function Rt(d){var m=ve(),T=m.queue;if(T===null)throw Error(r(311));T.lastRenderedReducer=d;var O=T.dispatch,B=T.pending,G=m.memoizedState;if(B!==null){T.pending=null;var oe=B=B.next;do G=d(G,oe.action),oe=oe.next;while(oe!==B);po(G,m.memoizedState)||(Or=!0),m.memoizedState=G,m.baseQueue===null&&(m.baseState=G),T.lastRenderedState=G}return[G,O]}function sn(d,m,T){var O=Dn,B=ve(),G=oi;if(G){if(T===void 0)throw Error(r(407));T=T()}else T=m();var oe=!po((_i||B).memoizedState,T);if(oe&&(B.memoizedState=T,Or=!0),B=B.queue,zf(Fn.bind(null,O,B,d),[d]),B.getSnapshot!==m||oe||Rr!==null&&Rr.memoizedState.tag&1){if(O.flags|=2048,Ps(9,jt.bind(null,O,B,T,m),{destroy:void 0},null),Wn===null)throw Error(r(349));G||(hc&60)!==0||Jt(O,m,T)}return T}function Jt(d,m,T){d.flags|=16384,d={getSnapshot:m,value:T},m=Dn.updateQueue,m===null?(m=iv(),Dn.updateQueue=m,m.stores=[d]):(T=m.stores,T===null?m.stores=[d]:T.push(d))}function jt(d,m,T,O){m.value=T,m.getSnapshot=O,zn(m)&&Si(d)}function Fn(d,m,T){return T(function(){zn(m)&&Si(d)})}function zn(d){var m=d.getSnapshot;d=d.value;try{var T=m();return!po(d,T)}catch{return!0}}function Si(d){var m=Ue(d,2);m!==null&&Ws(m,d,2)}function $n(d){var m=se();if(typeof d=="function"){var T=d;if(d=T(),Jc){W(!0);try{T()}finally{W(!1)}}}return m.memoizedState=m.baseState=d,m.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:at,lastRenderedState:d},m}function on(d,m,T,O){return d.baseState=T,Mt(d,_i,typeof O=="function"?O:at)}function Xt(d,m,T,O,B){if($l(d))throw Error(r(485));if(d=m.action,d!==null){var G={payload:B,action:d,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(oe){G.listeners.push(oe)}};nn.T!==null?T(!0):G.isTransition=!1,O(G),T=m.pending,T===null?(G.next=m.pending=G,pr(m,G)):(G.next=T.next,m.pending=T.next=G)}}function pr(d,m){var T=m.action,O=m.payload,B=d.state;if(m.isTransition){var G=nn.T,oe={};nn.T=oe;try{var ge=T(B,O),Ae=nn.S;Ae!==null&&Ae(oe,ge),qn(d,m,ge)}catch(Je){ca(d,m,Je)}finally{nn.T=G}}else try{G=T(B,O),qn(d,m,G)}catch(Je){ca(d,m,Je)}}function qn(d,m,T){T!==null&&typeof T=="object"&&typeof T.then=="function"?T.then(function(O){ys(d,m,O)},function(O){return ca(d,m,O)}):ys(d,m,T)}function ys(d,m,T){m.status="fulfilled",m.value=T,rr(m),d.state=T,m=d.pending,m!==null&&(T=m.next,T===m?d.pending=null:(T=T.next,m.next=T,pr(d,T)))}function ca(d,m,T){var O=d.pending;if(d.pending=null,O!==null){O=O.next;do m.status="rejected",m.reason=T,rr(m),m=m.next;while(m!==O)}d.action=null}function rr(d){d=d.listeners;for(var m=0;m<d.length;m++)(0,d[m])()}function Ri(d,m){return m}function ti(d,m){if(oi){var T=Wn.formState;if(T!==null){e:{var O=Dn;if(oi){if(ks){var B=xE(ks,jo);if(B){ks=xb(B),O=SE(B);break e}}Le(O)}O=!1}O&&(m=T[0])}}T=se(),T.memoizedState=T.baseState=m,O={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:m},T.queue=O,T=Ff.bind(null,Dn,O),O.dispatch=T,O=$n(!1);var G=Wl.bind(null,Dn,!1,O.queue);return O=se(),B={state:m,dispatch:null,action:d,pending:null},O.queue=B,T=Xt.bind(null,Dn,B,G,T),B.dispatch=T,O.memoizedState=d,[m,T,!1]}function wr(d){var m=ve();return qr(m,_i,d)}function qr(d,m,T){m=Mt(d,m,Ri)[0],d=wt(at)[0],m=typeof m=="object"&&m!==null&&typeof m.then=="function"?ke(m):m;var O=ve(),B=O.queue,G=B.dispatch;return T!==O.memoizedState&&(Dn.flags|=2048,Ps(9,cn.bind(null,B,T),{destroy:void 0},null)),[m,G,d]}function cn(d,m){d.action=m}function cr(d){var m=ve(),T=_i;if(T!==null)return qr(m,T,d);ve(),m=m.memoizedState,T=ve();var O=T.queue.dispatch;return T.memoizedState=d,[m,O,!1]}function Ps(d,m,T,O){return d={tag:d,create:m,inst:T,deps:O,next:null},m=Dn.updateQueue,m===null&&(m=iv(),Dn.updateQueue=m),T=m.lastEffect,T===null?m.lastEffect=d.next=d:(O=T.next,T.next=d,d.next=O,m.lastEffect=d),d}function Cr(){return ve().memoizedState}function fd(d,m,T,O){var B=se();Dn.flags|=d,B.memoizedState=Ps(1|m,T,{destroy:void 0},O===void 0?null:O)}function Cu(d,m,T,O){var B=ve();O=O===void 0?null:O;var G=B.memoizedState.inst;_i!==null&&O!==null&&dr(O,_i.memoizedState.deps)?B.memoizedState=Ps(m,T,G,O):(Dn.flags|=d,B.memoizedState=Ps(1|m,T,G,O))}function om(d,m){fd(8390656,8,d,m)}function zf(d,m){Cu(2048,8,d,m)}function by(d,m){return Cu(4,2,d,m)}function xy(d,m){return Cu(4,4,d,m)}function pl(d,m){if(typeof m=="function"){d=d();var T=m(d);return function(){typeof T=="function"?T():m(null)}}if(m!=null)return d=d(),m.current=d,function(){m.current=null}}function ss(d,m,T){T=T!=null?T.concat([d]):null,Cu(4,4,pl.bind(null,m,d),T)}function Au(){}function Bf(d,m){var T=ve();m=m===void 0?null:m;var O=T.memoizedState;return m!==null&&dr(m,O[1])?O[0]:(T.memoizedState=[d,m],d)}function Gl(d,m){var T=ve();m=m===void 0?null:m;var O=T.memoizedState;if(m!==null&&dr(m,O[1]))return O[0];if(O=d(),Jc){W(!0);try{d()}finally{W(!1)}}return T.memoizedState=[O,m],O}function ua(d,m,T){return T===void 0||(hc&1073741824)!==0?d.memoizedState=m:(d.memoizedState=T,d=ec(),Dn.lanes|=d,So|=d,T)}function lm(d,m,T,O){return po(T,m)?T:fc.current!==null?(d=ua(d,T,O),po(d,m)||(Or=!0),d):(hc&42)===0?(Or=!0,d.memoizedState=T):(d=ec(),Dn.lanes|=d,So|=d,m)}function hd(d,m,T,O,B){var G=os();Xs(G!==0&&8>G?G:8);var oe=nn.T,ge={};nn.T=ge,Wl(d,!1,m,T);try{var Ae=B(),Je=nn.S;if(Je!==null&&Je(ge,Ae),Ae!==null&&typeof Ae=="object"&&typeof Ae.then=="function"){var bt=Ut(Ae,O);Oa(d,m,bt,pa(d))}else Oa(d,m,O,pa(d))}catch(Ot){Oa(d,m,{then:function(){},status:"rejected",reason:Ot},pa())}finally{Xs(G),nn.T=oe}}function cm(d){var m=d.memoizedState;if(m!==null)return m;m={memoizedState:La,baseState:La,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:at,lastRenderedState:La},next:null};var T={};return m.next={memoizedState:T,baseState:T,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:at,lastRenderedState:T},next:null},d.memoizedState=m,d=d.alternate,d!==null&&(d.memoizedState=m),m}function Hs(){return Te(un)}function ko(){return ve().memoizedState}function dd(){return ve().memoizedState}function ql(d){for(var m=d.return;m!==null;){switch(m.tag){case 24:case 3:var T=pa();d=At(T);var O=xt(m,d,T);O!==null&&(Ws(O,m,T),_t(O,m,T)),m={cache:di()},d.payload=m;return}m=m.return}}function oo(d,m,T){var O=pa();T={lane:O,revertLane:0,action:T,hasEagerState:!1,eagerState:null,next:null},$l(d)?Uc(m,T):(T=Ve(d,m,T,O),T!==null&&(Ws(T,d,O),ji(T,m,O)))}function Ff(d,m,T){var O=pa();Oa(d,m,T,O)}function Oa(d,m,T,O){var B={lane:O,revertLane:0,action:T,hasEagerState:!1,eagerState:null,next:null};if($l(d))Uc(m,B);else{var G=d.alternate;if(d.lanes===0&&(G===null||G.lanes===0)&&(G=m.lastRenderedReducer,G!==null))try{var oe=m.lastRenderedState,ge=G(oe,T);if(B.hasEagerState=!0,B.eagerState=ge,po(ge,oe))return Ie(d,m,B,0),Wn===null&&te(),!1}catch{}finally{}if(T=Ve(d,m,B,O),T!==null)return Ws(T,d,O),ji(T,m,O),!0}return!1}function Wl(d,m,T,O){if(O={lane:2,revertLane:ct(),action:O,hasEagerState:!1,eagerState:null,next:null},$l(d)){if(m)throw Error(r(479))}else m=Ve(d,T,O,2),m!==null&&Ws(m,d,2)}function $l(d){var m=d.alternate;return d===Dn||m!==null&&m===Dn}function Uc(d,m){er=Wo=!0;var T=d.pending;T===null?m.next=m:(m.next=T.next,T.next=m),d.pending=m}function ji(d,m,T){if((T&4194176)!==0){var O=m.lanes;O&=d.pendingLanes,T|=O,m.lanes=T,K(d,T)}}function vs(d,m,T,O){m=d.memoizedState,T=T(O,m),T=T==null?m:eh({},m,T),d.memoizedState=T,d.lanes===0&&(d.updateQueue.baseState=T)}function Xl(d,m,T,O,B,G,oe){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(O,G,oe):m.prototype&&m.prototype.isPureReactComponent?!xe(T,O)||!xe(B,G):!0}function Mu(d,m,T,O){d=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(T,O),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(T,O),m.state!==d&&rv.enqueueReplaceState(m,m.state,null)}function Ia(d,m){var T=m;if("ref"in m){T={};for(var O in m)O!=="ref"&&(T[O]=m[O])}if(d=d.defaultProps){T===m&&(T=eh({},T));for(var B in d)T[B]===void 0&&(T[B]=d[B])}return T}function Vf(d,m){try{var T=d.onUncaughtError;T(m.value,{componentStack:m.stack})}catch(O){setTimeout(function(){throw O})}}function kc(d,m,T){try{var O=d.onCaughtError;O(T.value,{componentStack:T.stack,errorBoundary:m.tag===1?m.stateNode:null})}catch(B){setTimeout(function(){throw B})}}function Ru(d,m,T){return T=At(T),T.tag=3,T.payload={element:null},T.callback=function(){Vf(d,m)},T}function js(d){return d=At(d),d.tag=3,d}function Ou(d,m,T,O){var B=T.type.getDerivedStateFromError;if(typeof B=="function"){var G=O.value;d.payload=function(){return B(G)},d.callback=function(){kc(m,T,O)}}var oe=T.stateNode;oe!==null&&typeof oe.componentDidCatch=="function"&&(d.callback=function(){kc(m,T,O),typeof B!="function"&&(To===null?To=new Set([this]):To.add(this));var ge=O.stack;this.componentDidCatch(O.value,{componentStack:ge!==null?ge:""})})}function Sy(d,m,T,O,B){if(T.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){if(m=T.alternate,m!==null&&j(m,T,B,!0),T=bo.current,T!==null){switch(T.tag){case 13:return qo===null?Na():T.alternate===null&&ii===0&&(ii=3),T.flags&=-257,T.flags|=65536,T.lanes=B,O===nv?T.flags|=16384:(m=T.updateQueue,m===null?T.updateQueue=new Set([O]):m.add(O),Ny(d,O,B)),!1;case 22:return T.flags|=65536,O===nv?T.flags|=16384:(m=T.updateQueue,m===null?(m={transitions:null,markerInstances:null,retryQueue:new Set([O])},T.updateQueue=m):(T=m.retryQueue,T===null?m.retryQueue=new Set([O]):T.add(O)),Ny(d,O,B)),!1}throw Error(r(435,T.tag))}return Ny(d,O,B),Na(),!1}if(oi)return m=bo.current,m!==null?((m.flags&65536)===0&&(m.flags|=256),m.flags|=65536,m.lanes=B,O!==Fm&&(d=Error(r(422),{cause:O}),dt(re(d,T)))):(O!==Fm&&(m=Error(r(423),{cause:O}),dt(re(m,T))),d=d.current.alternate,d.flags|=65536,B&=-B,d.lanes|=B,O=re(O,T),B=Ru(d.stateNode,O,B),Ht(d,B),ii!==4&&(ii=2)),!1;var G=Error(r(520),{cause:O});if(G=re(G,T),$d===null?$d=[G]:$d.push(G),ii!==4&&(ii=2),m===null)return!0;O=re(O,T),T=m;do{switch(T.tag){case 3:return T.flags|=65536,d=B&-B,T.lanes|=d,d=Ru(T.stateNode,O,d),Ht(T,d),!1;case 1:if(m=T.type,G=T.stateNode,(T.flags&128)===0&&(typeof m.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(To===null||!To.has(G))))return T.flags|=65536,B&=-B,T.lanes|=B,B=js(B),Ou(B,d,T,O),Ht(T,B),!1}T=T.return}while(T!==null);return!1}function ur(d,m,T,O){m.child=d===null?Ub(m,null,T,O):Qu(m,d.child,T,O)}function um(d,m,T,O,B){T=T.render;var G=m.ref;if("ref"in O){var oe={};for(var ge in O)ge!=="ref"&&(oe[ge]=O[ge])}else oe=O;return ce(m),O=la(d,m,T,oe,G,B),ge=Lc(),d!==null&&!Or?(ao(d,m,B),zo(d,m,B)):(oi&&ge&&le(m),m.flags|=1,ur(d,m,O,B),m.child)}function pd(d,m,T,O,B){if(d===null){var G=T.type;return typeof G=="function"&&!Gc(G)&&G.defaultProps===void 0&&T.compare===null?(m.tag=15,m.type=G,zc(d,m,G,O,B)):(d=Fo(T.type,null,O,m,m.mode,B),d.ref=m.ref,d.return=m,m.child=d)}if(G=d.child,!_d(d,B)){var oe=G.memoizedProps;if(T=T.compare,T=T!==null?T:xe,T(oe,O)&&d.ref===m.ref)return zo(d,m,B)}return m.flags|=1,d=$s(G,O),d.ref=m.ref,d.return=m,m.child=d}function zc(d,m,T,O,B){if(d!==null){var G=d.memoizedProps;if(xe(G,O)&&d.ref===m.ref)if(Or=!1,m.pendingProps=O=G,_d(d,B))(d.flags&131072)!==0&&(Or=!0);else return m.lanes=d.lanes,zo(d,m,B)}return md(d,m,T,O,B)}function fm(d,m,T){var O=m.pendingProps,B=O.children,G=(m.stateNode._pendingVisibility&2)!==0,oe=d!==null?d.memoizedState:null;if(jf(d,m),O.mode==="hidden"||G){if((m.flags&128)!==0){if(O=oe!==null?oe.baseLanes|T:T,d!==null){for(B=m.child=d.child,G=0;B!==null;)G=G|B.lanes|B.childLanes,B=B.sibling;m.childLanes=G&~O}else m.childLanes=0,m.child=null;return Hf(d,m,O,T)}if((T&536870912)!==0)m.memoizedState={baseLanes:0,cachePool:null},d!==null&&Ar(m,oe!==null?oe.cachePool:null),oe!==null?Tn(m,oe):_n(),Is(m);else return m.lanes=m.childLanes=536870912,Hf(d,m,oe!==null?oe.baseLanes|T:T,T)}else oe!==null?(Ar(m,oe.cachePool),Tn(m,oe),Ki(),m.memoizedState=null):(d!==null&&Ar(m,null),_n(),Ki());return ur(d,m,B,T),m.child}function Hf(d,m,T,O){var B=Pn();return B=B===null?null:{parent:ac?Ei._currentValue:Ei._currentValue2,pool:B},m.memoizedState={baseLanes:T,cachePool:B},d!==null&&Ar(m,null),_n(),Is(m),d!==null&&j(d,m,O,!0),null}function jf(d,m){var T=m.ref;if(T===null)d!==null&&d.ref!==null&&(m.flags|=2097664);else{if(typeof T!="function"&&typeof T!="object")throw Error(r(284));(d===null||d.ref!==T)&&(m.flags|=2097664)}}function md(d,m,T,O,B){return ce(m),T=la(d,m,T,O,void 0,B),O=Lc(),d!==null&&!Or?(ao(d,m,B),zo(d,m,B)):(oi&&O&&le(m),m.flags|=1,ur(d,m,T,B),m.child)}function Iu(d,m,T,O,B,G){return ce(m),m.updateQueue=null,T=so(m,O,T,B),hl(d),O=Lc(),d!==null&&!Or?(ao(d,m,G),zo(d,m,G)):(oi&&O&&le(m),m.flags|=1,ur(d,m,T,G),m.child)}function gd(d,m,T,O,B){if(ce(m),m.stateNode===null){var G=sh,oe=T.contextType;typeof oe=="object"&&oe!==null&&(G=Te(oe)),G=new T(O,G),m.memoizedState=G.state!==null&&G.state!==void 0?G.state:null,G.updater=rv,m.stateNode=G,G._reactInternals=m,G=m.stateNode,G.props=O,G.state=m.memoizedState,G.refs={},Xe(m),oe=T.contextType,G.context=typeof oe=="object"&&oe!==null?Te(oe):sh,G.state=m.memoizedState,oe=T.getDerivedStateFromProps,typeof oe=="function"&&(vs(m,T,oe,O),G.state=m.memoizedState),typeof T.getDerivedStateFromProps=="function"||typeof G.getSnapshotBeforeUpdate=="function"||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(oe=G.state,typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount(),oe!==G.state&&rv.enqueueReplaceState(G,G.state,null),pn(m,O,G,B),Qt(),G.state=m.memoizedState),typeof G.componentDidMount=="function"&&(m.flags|=4194308),O=!0}else if(d===null){G=m.stateNode;var ge=m.memoizedProps,Ae=Ia(T,ge);G.props=Ae;var Je=G.context,bt=T.contextType;oe=sh,typeof bt=="object"&&bt!==null&&(oe=Te(bt));var Ot=T.getDerivedStateFromProps;bt=typeof Ot=="function"||typeof G.getSnapshotBeforeUpdate=="function",ge=m.pendingProps!==ge,bt||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(ge||Je!==oe)&&Mu(m,G,O,oe),Qc=!1;var Nt=m.memoizedState;G.state=Nt,pn(m,O,G,B),Qt(),Je=m.memoizedState,ge||Nt!==Je||Qc?(typeof Ot=="function"&&(vs(m,T,Ot,O),Je=m.memoizedState),(Ae=Qc||Xl(m,T,Ae,O,Nt,Je,oe))?(bt||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount()),typeof G.componentDidMount=="function"&&(m.flags|=4194308)):(typeof G.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=O,m.memoizedState=Je),G.props=O,G.state=Je,G.context=oe,O=Ae):(typeof G.componentDidMount=="function"&&(m.flags|=4194308),O=!1)}else{G=m.stateNode,mt(d,m),oe=m.memoizedProps,bt=Ia(T,oe),G.props=bt,Ot=m.pendingProps,Nt=G.context,Je=T.contextType,Ae=sh,typeof Je=="object"&&Je!==null&&(Ae=Te(Je)),ge=T.getDerivedStateFromProps,(Je=typeof ge=="function"||typeof G.getSnapshotBeforeUpdate=="function")||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(oe!==Ot||Nt!==Ae)&&Mu(m,G,O,Ae),Qc=!1,Nt=m.memoizedState,G.state=Nt,pn(m,O,G,B),Qt();var bn=m.memoizedState;oe!==Ot||Nt!==bn||Qc||d!==null&&d.dependencies!==null&&X(d.dependencies)?(typeof ge=="function"&&(vs(m,T,ge,O),bn=m.memoizedState),(bt=Qc||Xl(m,T,bt,O,Nt,bn,Ae)||d!==null&&d.dependencies!==null&&X(d.dependencies))?(Je||typeof G.UNSAFE_componentWillUpdate!="function"&&typeof G.componentWillUpdate!="function"||(typeof G.componentWillUpdate=="function"&&G.componentWillUpdate(O,bn,Ae),typeof G.UNSAFE_componentWillUpdate=="function"&&G.UNSAFE_componentWillUpdate(O,bn,Ae)),typeof G.componentDidUpdate=="function"&&(m.flags|=4),typeof G.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof G.componentDidUpdate!="function"||oe===d.memoizedProps&&Nt===d.memoizedState||(m.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||oe===d.memoizedProps&&Nt===d.memoizedState||(m.flags|=1024),m.memoizedProps=O,m.memoizedState=bn),G.props=O,G.state=bn,G.context=Ae,O=bt):(typeof G.componentDidUpdate!="function"||oe===d.memoizedProps&&Nt===d.memoizedState||(m.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||oe===d.memoizedProps&&Nt===d.memoizedState||(m.flags|=1024),O=!1)}return G=O,jf(d,m),O=(m.flags&128)!==0,G||O?(G=m.stateNode,T=O&&typeof T.getDerivedStateFromError!="function"?null:G.render(),m.flags|=1,d!==null&&O?(m.child=Qu(m,d.child,null,B),m.child=Qu(m,null,T,B)):ur(d,m,T,B),m.memoizedState=G.state,d=m.child):d=zo(d,m,B),d}function hm(d,m,T,O){return ot(),m.flags|=256,ur(d,m,T,O),m.child}function Gf(d){return{baseLanes:d,cachePool:as()}}function qf(d,m,T){return d=d!==null?d.childLanes&~T:0,m&&(d|=Va),d}function dm(d,m,T){var O=m.pendingProps,B=!1,G=(m.flags&128)!==0,oe;if((oe=G)||(oe=d!==null&&d.memoizedState===null?!1:(Xr.current&2)!==0),oe&&(B=!0,m.flags&=-129),oe=(m.flags&32)!==0,m.flags&=-33,d===null){if(oi){if(B?ki(m):Ki(),oi){var ge=ks,Ae;(Ae=ge)&&(ge=AE(ge,jo),ge!==null?(m.memoizedState={dehydrated:ge,treeContext:bl!==null?{id:cc,overflow:Ho}:null,retryLane:536870912},Ae=t(18,null,null,0),Ae.stateNode=ge,Ae.return=m,m.child=Ae,Ys=m,ks=null,Ae=!0):Ae=!1),Ae||Le(m)}if(ge=m.memoizedState,ge!==null&&(ge=ge.dehydrated,ge!==null))return Pm(ge)?m.lanes=16:m.lanes=536870912,null;jr(m)}return ge=O.children,O=O.fallback,B?(Ki(),B=m.mode,ge=yd({mode:"hidden",children:ge},B),O=Wc(O,B,T,null),ge.return=m,O.return=m,ge.sibling=O,m.child=ge,B=m.child,B.memoizedState=Gf(T),B.childLanes=qf(d,oe,T),m.memoizedState=Zs,O):(ki(m),Yl(m,ge))}if(Ae=d.memoizedState,Ae!==null&&(ge=Ae.dehydrated,ge!==null)){if(G)m.flags&256?(ki(m),m.flags&=-257,m=vd(d,m,T)):m.memoizedState!==null?(Ki(),m.child=d.child,m.flags|=128,m=null):(Ki(),B=O.fallback,ge=m.mode,O=yd({mode:"visible",children:O.children},ge),B=Wc(B,ge,T,null),B.flags|=2,O.return=m,B.return=m,O.sibling=B,m.child=O,Qu(m,d.child,null,T),O=m.child,O.memoizedState=Gf(T),O.childLanes=qf(d,oe,T),m.memoizedState=Zs,m=B);else if(ki(m),Pm(ge))oe=bE(ge).digest,O=Error(r(419)),O.stack="",O.digest=oe,dt({value:O,source:null,stack:null}),m=vd(d,m,T);else if(Or||j(d,m,T,!1),oe=(T&d.childLanes)!==0,Or||oe){if(oe=Wn,oe!==null){if(O=T&-T,(O&42)!==0)O=1;else switch(O){case 2:O=1;break;case 8:O=4;break;case 32:O=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:O=64;break;case 268435456:O=134217728;break;default:O=0}if(O=(O&(oe.suspendedLanes|T))!==0?0:O,O!==0&&O!==Ae.retryLane)throw Ae.retryLane=O,Ue(d,O),Ws(oe,d,O),HE}Wy(ge)||Na(),m=vd(d,m,T)}else Wy(ge)?(m.flags|=128,m.child=d.child,m=Qf.bind(null,d),sR(ge,m),m=null):(d=Ae.treeContext,ma&&(ks=TE(ge),Ys=m,oi=!0,yo=null,jo=!1,d!==null&&(mo[go++]=cc,mo[go++]=Ho,mo[go++]=bl,cc=d.id,Ho=d.overflow,bl=m)),m=Yl(m,O.children),m.flags|=4096);return m}return B?(Ki(),B=O.fallback,ge=m.mode,Ae=d.child,G=Ae.sibling,O=$s(Ae,{mode:"hidden",children:O.children}),O.subtreeFlags=Ae.subtreeFlags&31457280,G!==null?B=$s(G,B):(B=Wc(B,ge,T,null),B.flags|=2),B.return=m,O.return=m,O.sibling=B,m.child=O,O=B,B=m.child,ge=d.child.memoizedState,ge===null?ge=Gf(T):(Ae=ge.cachePool,Ae!==null?(G=ac?Ei._currentValue:Ei._currentValue2,Ae=Ae.parent!==G?{parent:G,pool:G}:Ae):Ae=as(),ge={baseLanes:ge.baseLanes|T,cachePool:Ae}),B.memoizedState=ge,B.childLanes=qf(d,oe,T),m.memoizedState=Zs,O):(ki(m),T=d.child,d=T.sibling,T=$s(T,{mode:"visible",children:O.children}),T.return=m,T.sibling=null,d!==null&&(oe=m.deletions,oe===null?(m.deletions=[d],m.flags|=16):oe.push(d)),m.child=T,m.memoizedState=null,T)}function Yl(d,m){return m=yd({mode:"visible",children:m},d.mode),m.return=d,d.child=m}function yd(d,m){return Ly(d,m,0,null)}function vd(d,m,T){return Qu(m,d.child,null,T),d=Yl(m,m.pendingProps.children),d.flags|=2,m.memoizedState=null,d}function Kl(d,m,T){d.lanes|=m;var O=d.alternate;O!==null&&(O.lanes|=m),Zl(d.return,m,T)}function Wf(d,m,T,O,B){var G=d.memoizedState;G===null?d.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:O,tail:T,tailMode:B}:(G.isBackwards=m,G.rendering=null,G.renderingStartTime=0,G.last=O,G.tail=T,G.tailMode=B)}function pm(d,m,T){var O=m.pendingProps,B=O.revealOrder,G=O.tail;if(ur(d,m,O.children,T),O=Xr.current,(O&2)!==0)O=O&1|2,m.flags|=128;else{if(d!==null&&(d.flags&128)!==0)e:for(d=m.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&Kl(d,T,m);else if(d.tag===19)Kl(d,T,m);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===m)break e;for(;d.sibling===null;){if(d.return===null||d.return===m)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}O&=1}switch(w(Xr,O),B){case"forwards":for(T=m.child,B=null;T!==null;)d=T.alternate,d!==null&&Gr(d)===null&&(B=T),T=T.sibling;T=B,T===null?(B=m.child,m.child=null):(B=T.sibling,T.sibling=null),Wf(m,!1,B,T,G);break;case"backwards":for(T=null,B=m.child,m.child=null;B!==null;){if(d=B.alternate,d!==null&&Gr(d)===null){m.child=B;break}d=B.sibling,B.sibling=T,T=B,B=d}Wf(m,!0,T,null,G);break;case"together":Wf(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function zo(d,m,T){if(d!==null&&(m.dependencies=d.dependencies),So|=m.lanes,(T&m.childLanes)===0)if(d!==null){if(j(d,m,T,!1),(T&m.childLanes)===0)return null}else return null;if(d!==null&&m.child!==d.child)throw Error(r(153));if(m.child!==null){for(d=m.child,T=$s(d,d.pendingProps),m.child=T,T.return=m;d.sibling!==null;)d=d.sibling,T=T.sibling=$s(d,d.pendingProps),T.return=m;T.sibling=null}return m.child}function _d(d,m){return(d.lanes&m)!==0?!0:(d=d.dependencies,!!(d!==null&&X(d)))}function bd(d,m,T){switch(m.tag){case 3:ue(m,m.stateNode.containerInfo),ml(m,Ei,d.memoizedState.cache),ot();break;case 27:case 5:he(m);break;case 4:ue(m,m.stateNode.containerInfo);break;case 10:ml(m,m.type,m.memoizedProps.value);break;case 13:var O=m.memoizedState;if(O!==null)return O.dehydrated!==null?(ki(m),m.flags|=128,null):(T&m.child.childLanes)!==0?dm(d,m,T):(ki(m),d=zo(d,m,T),d!==null?d.sibling:null);ki(m);break;case 19:var B=(d.flags&128)!==0;if(O=(T&m.childLanes)!==0,O||(j(d,m,T,!1),O=(T&m.childLanes)!==0),B){if(O)return pm(d,m,T);m.flags|=128}if(B=m.memoizedState,B!==null&&(B.rendering=null,B.tail=null,B.lastEffect=null),w(Xr,Xr.current),O)break;return null;case 22:case 23:return m.lanes=0,fm(d,m,T);case 24:ml(m,Ei,d.memoizedState.cache)}return zo(d,m,T)}function Gs(d,m,T){if(d!==null)if(d.memoizedProps!==m.pendingProps)Or=!0;else{if(!_d(d,T)&&(m.flags&128)===0)return Or=!1,bd(d,m,T);Or=(d.flags&131072)!==0}else Or=!1,oi&&(m.flags&1048576)!==0&&Y(m,zm,m.index);switch(m.lanes=0,m.tag){case 16:e:{d=m.pendingProps;var O=m.elementType,B=O._init;if(O=B(O._payload),m.type=O,typeof O=="function")Gc(O)?(d=Ia(O,d),m.tag=1,m=gd(null,m,O,d,T)):(m.tag=0,m=md(null,m,O,d,T));else{if(O!=null){if(B=O.$$typeof,B===Nd){m.tag=11,m=um(null,m,O,d,T);break e}else if(B===Tm){m.tag=14,m=pd(null,m,O,d,T);break e}}throw m=a(O)||O,Error(r(306,m,""))}}return m;case 0:return md(d,m,m.type,m.pendingProps,T);case 1:return O=m.type,B=Ia(O,m.pendingProps),gd(d,m,O,B,T);case 3:e:{if(ue(m,m.stateNode.containerInfo),d===null)throw Error(r(387));var G=m.pendingProps;B=m.memoizedState,O=B.element,mt(d,m),pn(m,G,null,T);var oe=m.memoizedState;if(G=oe.cache,ml(m,Ei,G),G!==B.cache&&M(m,[Ei],T,!0),Qt(),G=oe.element,ma&&B.isDehydrated)if(B={element:G,isDehydrated:!1,cache:oe.cache},m.updateQueue.baseState=B,m.memoizedState=B,m.flags&256){m=hm(d,m,G,T);break e}else if(G!==O){O=re(Error(r(424)),m),dt(O),m=hm(d,m,G,T);break e}else for(ma&&(ks=EE(m.stateNode.containerInfo),Ys=m,oi=!0,yo=null,jo=!0),T=Ub(m,null,G,T),m.child=T;T;)T.flags=T.flags&-3|4096,T=T.sibling;else{if(ot(),G===O){m=zo(d,m,T);break e}ur(d,m,G,T)}m=m.child}return m;case 26:if(ho)return jf(d,m),d===null?(T=Zy(m.type,null,m.pendingProps,null))?m.memoizedState=T:oi||(m.stateNode=oR(m.type,m.pendingProps,xl.current,m)):m.memoizedState=Zy(m.type,d.memoizedProps,m.pendingProps,d.memoizedState),null;case 27:if(Ls)return he(m),d===null&&Ls&&oi&&(O=m.stateNode=Pb(m.type,m.pendingProps,xl.current,Es.current,!1),Ys=m,jo=!0,ks=$y(O)),O=m.pendingProps.children,d!==null||oi?ur(d,m,O,T):m.child=Qu(m,null,O,T),jf(d,m),m.child;case 5:return d===null&&oi&&(PE(m.type,m.pendingProps,Es.current),(B=O=ks)&&(O=wE(O,m.type,m.pendingProps,jo),O!==null?(m.stateNode=O,Ys=m,ks=$y(O),jo=!1,B=!0):B=!1),B||Le(m)),he(m),B=m.type,G=m.pendingProps,oe=d!==null?d.memoizedProps:null,O=G.children,$u(B,G)?O=null:oe!==null&&$u(B,oe)&&(m.flags|=32),m.memoizedState!==null&&(B=la(d,m,ud,null,null,T),ac?un._currentValue=B:un._currentValue2=B),jf(d,m),ur(d,m,O,T),m.child;case 6:return d===null&&oi&&(DE(m.pendingProps,Es.current),(d=T=ks)&&(T=CE(T,m.pendingProps,jo),T!==null?(m.stateNode=T,Ys=m,ks=null,d=!0):d=!1),d||Le(m)),null;case 13:return dm(d,m,T);case 4:return ue(m,m.stateNode.containerInfo),O=m.pendingProps,d===null?m.child=Qu(m,null,O,T):ur(d,m,O,T),m.child;case 11:return um(d,m,m.type,m.pendingProps,T);case 7:return ur(d,m,m.pendingProps,T),m.child;case 8:return ur(d,m,m.pendingProps.children,T),m.child;case 12:return ur(d,m,m.pendingProps.children,T),m.child;case 10:return O=m.pendingProps,ml(m,m.type,O.value),ur(d,m,O.children,T),m.child;case 9:return B=m.type._context,O=m.pendingProps.children,ce(m),B=Te(B),O=O(B),m.flags|=1,ur(d,m,O,T),m.child;case 14:return pd(d,m,m.type,m.pendingProps,T);case 15:return zc(d,m,m.type,m.pendingProps,T);case 19:return pm(d,m,T);case 22:return fm(d,m,T);case 24:return ce(m),O=Te(Ei),d===null?(B=Pn(),B===null&&(B=Wn,G=di(),B.pooledCache=G,G.refCount++,G!==null&&(B.pooledCacheLanes|=T),B=G),m.memoizedState={parent:O,cache:B},Xe(m),ml(m,Ei,B)):((d.lanes&T)!==0&&(mt(d,m),pn(m,null,null,T),Qt()),B=d.memoizedState,G=m.memoizedState,B.parent!==O?(B={parent:O,cache:O},m.memoizedState=B,m.lanes===0&&(m.memoizedState=m.updateQueue.baseState=B),ml(m,Ei,O)):(O=G.cache,ml(m,Ei,O),O!==B.cache&&M(m,[Ei],T,!0))),ur(d,m,m.pendingProps.children,T),m.child;case 29:throw m.pendingProps}throw Error(r(156,m.tag))}function ml(d,m,T){ac?(w(Ba,m._currentValue),m._currentValue=T):(w(Ba,m._currentValue2),m._currentValue2=T)}function Bo(d){var m=Ba.current;ac?d._currentValue=m:d._currentValue2=m,S(Ba)}function Zl(d,m,T){for(;d!==null;){var O=d.alternate;if((d.childLanes&m)!==m?(d.childLanes|=m,O!==null&&(O.childLanes|=m)):O!==null&&(O.childLanes&m)!==m&&(O.childLanes|=m),d===T)break;d=d.return}}function M(d,m,T,O){var B=d.child;for(B!==null&&(B.return=d);B!==null;){var G=B.dependencies;if(G!==null){var oe=B.child;G=G.firstContext;e:for(;G!==null;){var ge=G;G=B;for(var Ae=0;Ae<m.length;Ae++)if(ge.context===m[Ae]){G.lanes|=T,ge=G.alternate,ge!==null&&(ge.lanes|=T),Zl(G.return,T,d),O||(oe=null);break e}G=ge.next}}else if(B.tag===18){if(oe=B.return,oe===null)throw Error(r(341));oe.lanes|=T,G=oe.alternate,G!==null&&(G.lanes|=T),Zl(oe,T,d),oe=null}else oe=B.child;if(oe!==null)oe.return=B;else for(oe=B;oe!==null;){if(oe===d){oe=null;break}if(B=oe.sibling,B!==null){B.return=oe.return,oe=B;break}oe=oe.return}B=oe}}function j(d,m,T,O){d=null;for(var B=m,G=!1;B!==null;){if(!G){if((B.flags&524288)!==0)G=!0;else if((B.flags&262144)!==0)break}if(B.tag===10){var oe=B.alternate;if(oe===null)throw Error(r(387));if(oe=oe.memoizedProps,oe!==null){var ge=B.type;po(B.pendingProps.value,oe.value)||(d!==null?d.push(ge):d=[ge])}}else if(B===Vd.current){if(oe=B.alternate,oe===null)throw Error(r(387));oe.memoizedState.memoizedState!==B.memoizedState.memoizedState&&(d!==null?d.push(un):d=[un])}B=B.return}d!==null&&M(m,d,T,O),m.flags|=262144}function X(d){for(d=d.firstContext;d!==null;){var m=d.context;if(!po(ac?m._currentValue:m._currentValue2,d.memoizedValue))return!0;d=d.next}return!1}function ce(d){ef=d,_r=null,d=d.dependencies,d!==null&&(d.firstContext=null)}function Te(d){return Tt(ef,d)}function qe(d,m){return ef===null&&ce(d),Tt(d,m)}function Tt(d,m){var T=ac?m._currentValue:m._currentValue2;if(m={context:m,memoizedValue:T,next:null},_r===null){if(d===null)throw Error(r(308));_r=m,d.dependencies={lanes:0,firstContext:m},d.flags|=524288}else _r=_r.next=m;return T}function di(){return{controller:new jE,data:new Map,refCount:0}}function sr(d){d.refCount--,d.refCount===0&&eu(lh,function(){d.controller.abort()})}function Pn(){var d=tu.current;return d!==null?d:Wn.pooledCache}function Ar(d,m){m===null?w(tu,tu.current):w(tu,m.pool)}function as(){var d=Pn();return d===null?null:{parent:ac?Ei._currentValue:Ei._currentValue2,pool:d}}function Wr(d){d.flags|=4}function fa(d,m){if(d!==null&&d.child===m.child)return!1;if((m.flags&16)!==0)return!0;for(d=m.child;d!==null;){if((d.flags&13878)!==0||(d.subtreeFlags&13878)!==0)return!0;d=d.sibling}return!1}function Bc(d,m,T,O){if(Ns)for(T=m.child;T!==null;){if(T.tag===5||T.tag===6)sc(d,T.stateNode);else if(!(T.tag===4||Ls&&T.tag===27)&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===m)break;for(;T.sibling===null;){if(T.return===null||T.return===m)return;T=T.return}T.sibling.return=T.return,T=T.sibling}else if(uo)for(var B=m.child;B!==null;){if(B.tag===5){var G=B.stateNode;T&&O&&(G=_b(G,B.type,B.memoizedProps)),sc(d,G)}else if(B.tag===6)G=B.stateNode,T&&O&&(G=bb(G,B.memoizedProps)),sc(d,G);else if(B.tag!==4){if(B.tag===22&&B.memoizedState!==null)G=B.child,G!==null&&(G.return=B),Bc(d,B,!0,!0);else if(B.child!==null){B.child.return=B,B=B.child;continue}}if(B===m)break;for(;B.sibling===null;){if(B.return===null||B.return===m)return;B=B.return}B.sibling.return=B.return,B=B.sibling}}function Ql(d,m,T,O){if(uo)for(var B=m.child;B!==null;){if(B.tag===5){var G=B.stateNode;T&&O&&(G=_b(G,B.type,B.memoizedProps)),yb(d,G)}else if(B.tag===6)G=B.stateNode,T&&O&&(G=bb(G,B.memoizedProps)),yb(d,G);else if(B.tag!==4){if(B.tag===22&&B.memoizedState!==null)G=B.child,G!==null&&(G.return=B),Ql(d,B,!(B.memoizedProps!==null&&B.memoizedProps.mode==="manual"),!0);else if(B.child!==null){B.child.return=B,B=B.child;continue}}if(B===m)break;for(;B.sibling===null;){if(B.return===null||B.return===m)return;B=B.return}B.sibling.return=B.return,B=B.sibling}}function xd(d,m){if(uo&&fa(d,m)){d=m.stateNode;var T=d.containerInfo,O=qy();Ql(O,m,!1,!1),d.pendingChildren=O,Wr(m),_E(T,O)}}function B_(d,m,T,O){if(Ns)d.memoizedProps!==O&&Wr(m);else if(uo){var B=d.stateNode,G=d.memoizedProps;if((d=fa(d,m))||G!==O){var oe=Es.current;G=gb(B,T,G,O,!d,null),G===B?m.stateNode=B:(Xc(G,T,O,oe)&&Wr(m),m.stateNode=G,d?Bc(G,m,!1,!1):Wr(m))}else m.stateNode=B}}function Sd(d,m,T){if(gE(m,T)){if(d.flags|=16777216,!Yc(m,T))if(bm())d.flags|=8192;else throw oh=nv,Lb}else d.flags&=-16777217}function F_(d,m){if(NE(m)){if(d.flags|=16777216,!Ob(m))if(bm())d.flags|=8192;else throw oh=nv,Lb}else d.flags&=-16777217}function mm(d,m){m!==null&&(d.flags|=4),d.flags&16384&&(m=d.tag!==22?P():536870912,d.lanes|=m,iu|=m)}function $f(d,m){if(!oi)switch(d.tailMode){case"hidden":m=d.tail;for(var T=null;m!==null;)m.alternate!==null&&(T=m),m=m.sibling;T===null?d.tail=null:T.sibling=null;break;case"collapsed":T=d.tail;for(var O=null;T!==null;)T.alternate!==null&&(O=T),T=T.sibling;O===null?m||d.tail===null?d.tail=null:d.tail.sibling=null:O.sibling=null}}function Zi(d){var m=d.alternate!==null&&d.alternate.child===d.child,T=0,O=0;if(m)for(var B=d.child;B!==null;)T|=B.lanes|B.childLanes,O|=B.subtreeFlags&31457280,O|=B.flags&31457280,B.return=d,B=B.sibling;else for(B=d.child;B!==null;)T|=B.lanes|B.childLanes,O|=B.subtreeFlags,O|=B.flags,B.return=d,B=B.sibling;return d.subtreeFlags|=O,d.childLanes=T,m}function iE(d,m,T){var O=m.pendingProps;switch(de(m),m.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zi(m),null;case 1:return Zi(m),null;case 3:return T=m.stateNode,O=null,d!==null&&(O=d.memoizedState.cache),m.memoizedState.cache!==O&&(m.flags|=2048),Bo(Ei),ne(),T.pendingContext&&(T.context=T.pendingContext,T.pendingContext=null),(d===null||d.child===null)&&(rt(m)?Wr(m):d===null||d.memoizedState.isDehydrated&&(m.flags&256)===0||(m.flags|=1024,yo!==null&&(Vc(yo),yo=null))),xd(d,m),Zi(m),null;case 26:if(ho){T=m.type;var B=m.memoizedState;return d===null?(Wr(m),B!==null?(Zi(m),F_(m,B)):(Zi(m),Sd(m,T,O))):B?B!==d.memoizedState?(Wr(m),Zi(m),F_(m,B)):(Zi(m),m.flags&=-16777217):(Ns?d.memoizedProps!==O&&Wr(m):B_(d,m,T,O),Zi(m),Sd(m,T,O)),null}case 27:if(Ls){if(me(m),T=xl.current,B=m.type,d!==null&&m.stateNode!=null)Ns?d.memoizedProps!==O&&Wr(m):B_(d,m,B,O);else{if(!O){if(m.stateNode===null)throw Error(r(166));return Zi(m),null}d=Es.current,rt(m)?Ye(m,d):(d=Pb(B,O,T,d,!0),m.stateNode=d,Wr(m))}return Zi(m),null}case 5:if(me(m),T=m.type,d!==null&&m.stateNode!=null)B_(d,m,T,O);else{if(!O){if(m.stateNode===null)throw Error(r(166));return Zi(m),null}d=Es.current,rt(m)?Ye(m,d):(B=sb(T,O,xl.current,d,m),Bc(B,m,!1,!1),m.stateNode=B,Xc(B,T,O,d)&&Wr(m))}return Zi(m),Sd(m,m.type,m.pendingProps),null;case 6:if(d&&m.stateNode!=null)T=d.memoizedProps,Ns?T!==O&&Wr(m):uo&&(T!==O?(m.stateNode=By(O,xl.current,Es.current,m),Wr(m)):m.stateNode=d.stateNode);else{if(typeof O!="string"&&m.stateNode===null)throw Error(r(166));if(d=xl.current,T=Es.current,rt(m)){if(!ma)throw Error(r(176));if(d=m.stateNode,T=m.memoizedProps,O=null,B=Ys,B!==null)switch(B.tag){case 27:case 5:O=B.memoizedProps}ME(d,T,m,O)||Le(m)}else m.stateNode=By(O,d,T,m)}return Zi(m),null;case 13:if(O=m.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(B=rt(m),O!==null&&O.dehydrated!==null){if(d===null){if(!B)throw Error(r(318));if(!ma)throw Error(r(344));if(B=m.memoizedState,B=B!==null?B.dehydrated:null,!B)throw Error(r(317));Ud(B,m)}else ot(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;Zi(m),B=!1}else yo!==null&&(Vc(yo),yo=null),B=!0;if(!B)return m.flags&256?(jr(m),m):(jr(m),null)}if(jr(m),(m.flags&128)!==0)return m.lanes=T,m;if(T=O!==null,d=d!==null&&d.memoizedState!==null,T){O=m.child,B=null,O.alternate!==null&&O.alternate.memoizedState!==null&&O.alternate.memoizedState.cachePool!==null&&(B=O.alternate.memoizedState.cachePool.pool);var G=null;O.memoizedState!==null&&O.memoizedState.cachePool!==null&&(G=O.memoizedState.cachePool.pool),G!==B&&(O.flags|=2048)}return T!==d&&T&&(m.child.flags|=8192),mm(m,m.updateQueue),Zi(m),null;case 4:return ne(),xd(d,m),d===null&&lb(m.stateNode.containerInfo),Zi(m),null;case 10:return Bo(m.type),Zi(m),null;case 19:if(S(Xr),B=m.memoizedState,B===null)return Zi(m),null;if(O=(m.flags&128)!==0,G=B.rendering,G===null)if(O)$f(B,!1);else{if(ii!==0||d!==null&&(d.flags&128)!==0)for(d=m.child;d!==null;){if(G=Gr(d),G!==null){for(m.flags|=128,$f(B,!1),d=G.updateQueue,m.updateQueue=d,mm(m,d),m.subtreeFlags=0,d=T,T=m.child;T!==null;)qc(T,d),T=T.sibling;return w(Xr,Xr.current&1|2),m.child}d=d.sibling}B.tail!==null&&Us()>hr&&(m.flags|=128,O=!0,$f(B,!1),m.lanes=4194304)}else{if(!O)if(d=Gr(G),d!==null){if(m.flags|=128,O=!0,d=d.updateQueue,m.updateQueue=d,mm(m,d),$f(B,!0),B.tail===null&&B.tailMode==="hidden"&&!G.alternate&&!oi)return Zi(m),null}else 2*Us()-B.renderingStartTime>hr&&T!==536870912&&(m.flags|=128,O=!0,$f(B,!1),m.lanes=4194304);B.isBackwards?(G.sibling=m.child,m.child=G):(d=B.last,d!==null?d.sibling=G:m.child=G,B.last=G)}return B.tail!==null?(m=B.tail,B.rendering=m,B.tail=m.sibling,B.renderingStartTime=Us(),m.sibling=null,d=Xr.current,w(Xr,O?d&1|2:d&1),m):(Zi(m),null);case 22:case 23:return jr(m),In(),O=m.memoizedState!==null,d!==null?d.memoizedState!==null!==O&&(m.flags|=8192):O&&(m.flags|=8192),O?(T&536870912)!==0&&(m.flags&128)===0&&(Zi(m),m.subtreeFlags&6&&(m.flags|=8192)):Zi(m),T=m.updateQueue,T!==null&&mm(m,T.retryQueue),T=null,d!==null&&d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(T=d.memoizedState.cachePool.pool),O=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(O=m.memoizedState.cachePool.pool),O!==T&&(m.flags|=2048),d!==null&&S(tu),null;case 24:return T=null,d!==null&&(T=d.memoizedState.cache),m.memoizedState.cache!==T&&(m.flags|=2048),Bo(Ei),Zi(m),null;case 25:return null}throw Error(r(156,m.tag))}function rE(d,m){switch(de(m),m.tag){case 1:return d=m.flags,d&65536?(m.flags=d&-65537|128,m):null;case 3:return Bo(Ei),ne(),d=m.flags,(d&65536)!==0&&(d&128)===0?(m.flags=d&-65537|128,m):null;case 26:case 27:case 5:return me(m),null;case 13:if(jr(m),d=m.memoizedState,d!==null&&d.dehydrated!==null){if(m.alternate===null)throw Error(r(340));ot()}return d=m.flags,d&65536?(m.flags=d&-65537|128,m):null;case 19:return S(Xr),null;case 4:return ne(),null;case 10:return Bo(m.type),null;case 22:case 23:return jr(m),In(),d!==null&&S(tu),d=m.flags,d&65536?(m.flags=d&-65537|128,m):null;case 24:return Bo(Ei),null;case 25:return null;default:return null}}function V_(d,m){switch(de(m),m.tag){case 3:Bo(Ei),ne();break;case 26:case 27:case 5:me(m);break;case 4:ne();break;case 13:jr(m);break;case 19:S(Xr);break;case 10:Bo(m.type);break;case 22:case 23:jr(m),In(),d!==null&&S(tu);break;case 24:Bo(Ei)}}function gm(d,m){try{var T=m.updateQueue,O=T!==null?T.lastEffect:null;if(O!==null){var B=O.next;T=B;do{if((T.tag&d)===d){O=void 0;var G=T.create,oe=T.inst;O=G(),oe.destroy=O}T=T.next}while(T!==B)}}catch(ge){Yn(m,m.return,ge)}}function Pu(d,m,T){try{var O=m.updateQueue,B=O!==null?O.lastEffect:null;if(B!==null){var G=B.next;O=G;do{if((O.tag&d)===d){var oe=O.inst,ge=oe.destroy;if(ge!==void 0){oe.destroy=void 0,B=m;var Ae=T;try{ge()}catch(Je){Yn(B,Ae,Je)}}}O=O.next}while(O!==G)}}catch(Je){Yn(m,m.return,Je)}}function sE(d){var m=d.updateQueue;if(m!==null){var T=d.stateNode;try{St(m,T)}catch(O){Yn(d,d.return,O)}}}function aE(d,m,T){T.props=Ia(d.type,d.memoizedProps),T.state=d.memoizedState;try{T.componentWillUnmount()}catch(O){Yn(d,m,O)}}function Xf(d,m){try{var T=d.ref;if(T!==null){var O=d.stateNode;switch(d.tag){case 26:case 27:case 5:var B=Ld(O);break;default:B=O}typeof T=="function"?d.refCleanup=T(B):T.current=B}}catch(G){Yn(d,m,G)}}function Qi(d,m){var T=d.ref,O=d.refCleanup;if(T!==null)if(typeof O=="function")try{O()}catch(B){Yn(d,m,B)}finally{d.refCleanup=null,d=d.alternate,d!=null&&(d.refCleanup=null)}else if(typeof T=="function")try{T(null)}catch(B){Yn(d,m,B)}else T.current=null}function Ed(d){var m=d.type,T=d.memoizedProps,O=d.stateNode;try{rR(O,m,T,d)}catch(B){Yn(d,d.return,B)}}function H_(d,m,T){try{hb(d.stateNode,d.type,T,m,d)}catch(O){Yn(d,d.return,O)}}function j_(d){return d.tag===5||d.tag===3||(ho?d.tag===26:!1)||(Ls?d.tag===27:!1)||d.tag===4}function Ey(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||j_(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&(!Ls||d.tag!==27)&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function Ty(d,m,T){var O=d.tag;if(O===5||O===6)d=d.stateNode,m?pb(T,d,m):yE(T,d);else if(!(O===4||Ls&&O===27)&&(d=d.child,d!==null))for(Ty(d,m,T),d=d.sibling;d!==null;)Ty(d,m,T),d=d.sibling}function Td(d,m,T){var O=d.tag;if(O===5||O===6)d=d.stateNode,m?db(T,d,m):fb(T,d);else if(!(O===4||Ls&&O===27)&&(d=d.child,d!==null))for(Td(d,m,T),d=d.sibling;d!==null;)Td(d,m,T),d=d.sibling}function oE(d,m,T){d=d.containerInfo;try{vb(d,T)}catch(O){Yn(m,m.return,O)}}function wd(d,m){for(Wu(d.containerInfo),br=m;br!==null;)if(d=br,m=d.child,(d.subtreeFlags&1028)!==0&&m!==null)m.return=d,br=m;else for(;br!==null;){d=br;var T=d.alternate;switch(m=d.flags,d.tag){case 0:break;case 11:case 15:break;case 1:if((m&1024)!==0&&T!==null){m=void 0;var O=d,B=T.memoizedProps;T=T.memoizedState;var G=O.stateNode;try{var oe=Ia(O.type,B,O.elementType===O.type);m=G.getSnapshotBeforeUpdate(oe,T),G.__reactInternalSnapshotBeforeUpdate=m}catch(ge){Yn(O,O.return,ge)}}break;case 3:(m&1024)!==0&&Ns&&Gy(d.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((m&1024)!==0)throw Error(r(163))}if(m=d.sibling,m!==null){m.return=d.return,br=m;break}br=d.return}return oe=ch,ch=!1,oe}function wy(d,m,T){var O=T.flags;switch(T.tag){case 0:case 11:case 15:Jl(d,T),O&4&&gm(5,T);break;case 1:if(Jl(d,T),O&4)if(d=T.stateNode,m===null)try{d.componentDidMount()}catch(ge){Yn(T,T.return,ge)}else{var B=Ia(T.type,m.memoizedProps);m=m.memoizedState;try{d.componentDidUpdate(B,m,d.__reactInternalSnapshotBeforeUpdate)}catch(ge){Yn(T,T.return,ge)}}O&64&&sE(T),O&512&&Xf(T,T.return);break;case 3:if(Jl(d,T),O&64&&(O=T.updateQueue,O!==null)){if(d=null,T.child!==null)switch(T.child.tag){case 27:case 5:d=Ld(T.child.stateNode);break;case 1:d=T.child.stateNode}try{St(O,d)}catch(ge){Yn(T,T.return,ge)}}break;case 26:if(ho){Jl(d,T),O&512&&Xf(T,T.return);break}case 27:case 5:Jl(d,T),m===null&&O&4&&Ed(T),O&512&&Xf(T,T.return);break;case 12:Jl(d,T);break;case 13:Jl(d,T),O&4&&Du(d,T);break;case 22:if(B=T.memoizedState!==null||ls,!B){m=m!==null&&m.memoizedState!==null||fr;var G=ls,oe=fr;ls=B,(fr=m)&&!oe?Lu(d,T,(T.subtreeFlags&8772)!==0):Jl(d,T),ls=G,fr=oe}O&512&&(T.memoizedProps.mode==="manual"?Xf(T,T.return):Qi(T,T.return));break;default:Jl(d,T)}}function Cd(d){var m=d.alternate;m!==null&&(d.alternate=null,Cd(m)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(m=d.stateNode,m!==null&&cb(m)),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function lo(d,m,T){for(T=T.child;T!==null;)Cy(d,m,T),T=T.sibling}function Cy(d,m,T){if(ka&&typeof ka.onCommitFiberUnmount=="function")try{ka.onCommitFiberUnmount(Fd,T)}catch{}switch(T.tag){case 26:if(ho){fr||Qi(T,m),lo(d,m,T),T.memoizedState?wb(T.memoizedState):T.stateNode&&Mb(T.stateNode);break}case 27:if(Ls){fr||Qi(T,m);var O=Ir,B=Fa;Ir=T.stateNode,lo(d,m,T),LE(T.stateNode),Ir=O,Fa=B;break}case 5:fr||Qi(T,m);case 6:if(Ns){if(O=Ir,B=Fa,Ir=null,lo(d,m,T),Ir=O,Fa=B,Ir!==null)if(Fa)try{Mr(Ir,T.stateNode)}catch(G){Yn(T,m,G)}else try{ga(Ir,T.stateNode)}catch(G){Yn(T,m,G)}}else lo(d,m,T);break;case 18:Ns&&Ir!==null&&(Fa?Sb(Ir,T.stateNode):OE(Ir,T.stateNode));break;case 4:Ns?(O=Ir,B=Fa,Ir=T.stateNode.containerInfo,Fa=!0,lo(d,m,T),Ir=O,Fa=B):(uo&&oE(T.stateNode,T,qy()),lo(d,m,T));break;case 0:case 11:case 14:case 15:fr||Pu(2,T,m),fr||Pu(4,T,m),lo(d,m,T);break;case 1:fr||(Qi(T,m),O=T.stateNode,typeof O.componentWillUnmount=="function"&&aE(T,m,O)),lo(d,m,T);break;case 21:lo(d,m,T);break;case 22:fr||Qi(T,m),fr=(O=fr)||T.memoizedState!==null,lo(d,m,T),fr=O;break;default:lo(d,m,T)}}function Du(d,m){if(ma&&m.memoizedState===null&&(d=m.alternate,d!==null&&(d=d.memoizedState,d!==null&&(d=d.dehydrated,d!==null))))try{Yy(d)}catch(T){Yn(m,m.return,T)}}function Ad(d){switch(d.tag){case 13:case 19:var m=d.stateNode;return m===null&&(m=d.stateNode=new Wd),m;case 22:return d=d.stateNode,m=d._retryCache,m===null&&(m=d._retryCache=new Wd),m;default:throw Error(r(435,d.tag))}}function ym(d,m){var T=Ad(d);m.forEach(function(O){var B=X_.bind(null,d,O);T.has(O)||(T.add(O),O.then(B,B))})}function ha(d,m){var T=m.deletions;if(T!==null)for(var O=0;O<T.length;O++){var B=T[O],G=d,oe=m;if(Ns){var ge=oe;e:for(;ge!==null;){switch(ge.tag){case 27:case 5:Ir=ge.stateNode,Fa=!1;break e;case 3:Ir=ge.stateNode.containerInfo,Fa=!0;break e;case 4:Ir=ge.stateNode.containerInfo,Fa=!0;break e}ge=ge.return}if(Ir===null)throw Error(r(160));Cy(G,oe,B),Ir=null,Fa=!1}else Cy(G,oe,B);G=B.alternate,G!==null&&(G.return=null),B.return=null}if(m.subtreeFlags&13878)for(m=m.child;m!==null;)Nu(m,d),m=m.sibling}function Nu(d,m){var T=d.alternate,O=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:ha(m,d),Pa(d),O&4&&(Pu(3,d,d.return),gm(3,d),Pu(5,d,d.return));break;case 1:ha(m,d),Pa(d),O&512&&(fr||T===null||Qi(T,T.return)),O&64&&ls&&(d=d.updateQueue,d!==null&&(O=d.callbacks,O!==null&&(T=d.shared.hiddenCallbacks,d.shared.hiddenCallbacks=T===null?O:T.concat(O))));break;case 26:if(ho){var B=ya;ha(m,d),Pa(d),O&512&&(fr||T===null||Qi(T,T.return)),O&4&&(O=T!==null?T.memoizedState:null,m=d.memoizedState,T===null?m===null?d.stateNode===null?d.stateNode=Cb(B,d.type,d.memoizedProps,d):Ab(B,d.type,d.stateNode):d.stateNode=Tb(B,m,d.memoizedProps):O!==m?(O===null?T.stateNode!==null&&Mb(T.stateNode):wb(O),m===null?Ab(B,d.type,d.stateNode):Tb(B,m,d.memoizedProps)):m===null&&d.stateNode!==null&&H_(d,d.memoizedProps,T.memoizedProps));break}case 27:if(Ls&&O&4&&d.alternate===null){B=d.stateNode;var G=d.memoizedProps;try{lR(B),cR(d.type,G,B,d)}catch(bt){Yn(d,d.return,bt)}}case 5:if(ha(m,d),Pa(d),O&512&&(fr||T===null||Qi(T,T.return)),Ns){if(d.flags&32){m=d.stateNode;try{Om(m)}catch(bt){Yn(d,d.return,bt)}}O&4&&d.stateNode!=null&&(m=d.memoizedProps,H_(d,m,T!==null?T.memoizedProps:m)),O&1024&&(tf=!0)}break;case 6:if(ha(m,d),Pa(d),O&4&&Ns){if(d.stateNode===null)throw Error(r(162));O=d.memoizedProps,T=T!==null?T.memoizedProps:O,m=d.stateNode;try{vE(m,T,O)}catch(bt){Yn(d,d.return,bt)}}break;case 3:if(ho?(Rb(),B=ya,ya=Ky(m.containerInfo),ha(m,d),ya=B):ha(m,d),Pa(d),O&4){if(Ns&&ma&&T!==null&&T.memoizedState.isDehydrated)try{Xy(m.containerInfo)}catch(bt){Yn(d,d.return,bt)}if(uo){O=m.containerInfo,T=m.pendingChildren;try{vb(O,T)}catch(bt){Yn(d,d.return,bt)}}}tf&&(tf=!1,G_(d));break;case 4:ho?(T=ya,ya=Ky(d.stateNode.containerInfo),ha(m,d),Pa(d),ya=T):(ha(m,d),Pa(d)),O&4&&uo&&oE(d.stateNode,d,d.stateNode.pendingChildren);break;case 12:ha(m,d),Pa(d);break;case 13:ha(m,d),Pa(d),d.child.flags&8192&&d.memoizedState!==null!=(T!==null&&T.memoizedState!==null)&&(dc=Us()),O&4&&(O=d.updateQueue,O!==null&&(d.updateQueue=null,ym(d,O)));break;case 22:O&512&&(fr||T===null||Qi(T,T.return)),B=d.memoizedState!==null;var oe=T!==null&&T.memoizedState!==null,ge=ls,Ae=fr;if(ls=ge||B,fr=Ae||oe,ha(m,d),fr=Ae,ls=ge,Pa(d),m=d.stateNode,m._current=d,m._visibility&=-3,m._visibility|=m._pendingVisibility&2,O&8192&&(m._visibility=B?m._visibility&-2:m._visibility|1,B&&(m=ls||fr,T===null||oe||m||Md(d)),Ns&&(d.memoizedProps===null||d.memoizedProps.mode!=="manual"))){e:if(T=null,Ns)for(m=d;;){if(m.tag===5||ho&&m.tag===26||Ls&&m.tag===27){if(T===null){oe=T=m;try{G=oe.stateNode,B?Im(G):mb(oe.stateNode,oe.memoizedProps)}catch(bt){Yn(oe,oe.return,bt)}}}else if(m.tag===6){if(T===null){oe=m;try{var Je=oe.stateNode;B?jy(Je):Kc(Je,oe.memoizedProps)}catch(bt){Yn(oe,oe.return,bt)}}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===d)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===d)break e;for(;m.sibling===null;){if(m.return===null||m.return===d)break e;T===m&&(T=null),m=m.return}T===m&&(T=null),m.sibling.return=m.return,m=m.sibling}}O&4&&(O=d.updateQueue,O!==null&&(T=O.retryQueue,T!==null&&(O.retryQueue=null,ym(d,T))));break;case 19:ha(m,d),Pa(d),O&4&&(O=d.updateQueue,O!==null&&(d.updateQueue=null,ym(d,O)));break;case 21:break;default:ha(m,d),Pa(d)}}function Pa(d){var m=d.flags;if(m&2){try{if(Ns&&(!Ls||d.tag!==27)){e:{for(var T=d.return;T!==null;){if(j_(T)){var O=T;break e}T=T.return}throw Error(r(160))}switch(O.tag){case 27:if(Ls){var B=O.stateNode,G=Ey(d);Td(d,G,B);break}case 5:var oe=O.stateNode;O.flags&32&&(Om(oe),O.flags&=-33);var ge=Ey(d);Td(d,ge,oe);break;case 3:case 4:var Ae=O.stateNode.containerInfo,Je=Ey(d);Ty(d,Je,Ae);break;default:throw Error(r(161))}}}catch(bt){Yn(d,d.return,bt)}d.flags&=-3}m&4096&&(d.flags&=-4097)}function G_(d){if(d.subtreeFlags&1024)for(d=d.child;d!==null;){var m=d;G_(m),m.tag===5&&m.flags&1024&&Di(m.stateNode),d=d.sibling}}function Jl(d,m){if(m.subtreeFlags&8772)for(m=m.child;m!==null;)wy(d,m.alternate,m),m=m.sibling}function Md(d){for(d=d.child;d!==null;){var m=d;switch(m.tag){case 0:case 11:case 14:case 15:Pu(4,m,m.return),Md(m);break;case 1:Qi(m,m.return);var T=m.stateNode;typeof T.componentWillUnmount=="function"&&aE(m,m.return,T),Md(m);break;case 26:case 27:case 5:Qi(m,m.return),Md(m);break;case 22:Qi(m,m.return),m.memoizedState===null&&Md(m);break;default:Md(m)}d=d.sibling}}function Lu(d,m,T){for(T=T&&(m.subtreeFlags&8772)!==0,m=m.child;m!==null;){var O=m.alternate,B=d,G=m,oe=G.flags;switch(G.tag){case 0:case 11:case 15:Lu(B,G,T),gm(4,G);break;case 1:if(Lu(B,G,T),O=G,B=O.stateNode,typeof B.componentDidMount=="function")try{B.componentDidMount()}catch(Je){Yn(O,O.return,Je)}if(O=G,B=O.updateQueue,B!==null){var ge=O.stateNode;try{var Ae=B.shared.hiddenCallbacks;if(Ae!==null)for(B.shared.hiddenCallbacks=null,B=0;B<Ae.length;B++)be(Ae[B],ge)}catch(Je){Yn(O,O.return,Je)}}T&&oe&64&&sE(G),Xf(G,G.return);break;case 26:case 27:case 5:Lu(B,G,T),T&&O===null&&oe&4&&Ed(G),Xf(G,G.return);break;case 12:Lu(B,G,T);break;case 13:Lu(B,G,T),T&&oe&4&&Du(B,G);break;case 22:G.memoizedState===null&&Lu(B,G,T),Xf(G,G.return);break;default:Lu(B,G,T)}m=m.sibling}}function q_(d,m){var T=null;d!==null&&d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(T=d.memoizedState.cachePool.pool),d=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(d=m.memoizedState.cachePool.pool),d!==T&&(d!=null&&d.refCount++,T!=null&&sr(T))}function Ay(d,m){d=null,m.alternate!==null&&(d=m.alternate.memoizedState.cache),m=m.memoizedState.cache,m!==d&&(m.refCount++,d!=null&&sr(d))}function Fc(d,m,T,O){if(m.subtreeFlags&10256)for(m=m.child;m!==null;)My(d,m,T,O),m=m.sibling}function My(d,m,T,O){var B=m.flags;switch(m.tag){case 0:case 11:case 15:Fc(d,m,T,O),B&2048&&gm(9,m);break;case 3:Fc(d,m,T,O),B&2048&&(d=null,m.alternate!==null&&(d=m.alternate.memoizedState.cache),m=m.memoizedState.cache,m!==d&&(m.refCount++,d!=null&&sr(d)));break;case 12:if(B&2048){Fc(d,m,T,O),d=m.stateNode;try{var G=m.memoizedProps,oe=G.id,ge=G.onPostCommit;typeof ge=="function"&&ge(oe,m.alternate===null?"mount":"update",d.passiveEffectDuration,-0)}catch(Ae){Yn(m,m.return,Ae)}}else Fc(d,m,T,O);break;case 23:break;case 22:G=m.stateNode,m.memoizedState!==null?G._visibility&4?Fc(d,m,T,O):Uu(d,m):G._visibility&4?Fc(d,m,T,O):(G._visibility|=4,qs(d,m,T,O,(m.subtreeFlags&10256)!==0)),B&2048&&q_(m.alternate,m);break;case 24:Fc(d,m,T,O),B&2048&&Ay(m.alternate,m);break;default:Fc(d,m,T,O)}}function qs(d,m,T,O,B){for(B=B&&(m.subtreeFlags&10256)!==0,m=m.child;m!==null;){var G=d,oe=m,ge=T,Ae=O,Je=oe.flags;switch(oe.tag){case 0:case 11:case 15:qs(G,oe,ge,Ae,B),gm(8,oe);break;case 23:break;case 22:var bt=oe.stateNode;oe.memoizedState!==null?bt._visibility&4?qs(G,oe,ge,Ae,B):Uu(G,oe):(bt._visibility|=4,qs(G,oe,ge,Ae,B)),B&&Je&2048&&q_(oe.alternate,oe);break;case 24:qs(G,oe,ge,Ae,B),B&&Je&2048&&Ay(oe.alternate,oe);break;default:qs(G,oe,ge,Ae,B)}m=m.sibling}}function Uu(d,m){if(m.subtreeFlags&10256)for(m=m.child;m!==null;){var T=d,O=m,B=O.flags;switch(O.tag){case 22:Uu(T,O),B&2048&&q_(O.alternate,O);break;case 24:Uu(T,O),B&2048&&Ay(O.alternate,O);break;default:Uu(T,O)}m=m.sibling}}function _s(d){if(d.subtreeFlags&uh)for(d=d.child;d!==null;)Yf(d),d=d.sibling}function Yf(d){switch(d.tag){case 26:_s(d),d.flags&uh&&(d.memoizedState!==null?Ib(ya,d.memoizedState,d.memoizedProps):mr(d.type,d.memoizedProps));break;case 5:_s(d),d.flags&uh&&mr(d.type,d.memoizedProps);break;case 3:case 4:if(ho){var m=ya;ya=Ky(d.stateNode.containerInfo),_s(d),ya=m}else _s(d);break;case 22:d.memoizedState===null&&(m=d.alternate,m!==null&&m.memoizedState!==null?(m=uh,uh=16777216,_s(d),uh=m):_s(d));break;default:_s(d)}}function Ry(d){var m=d.alternate;if(m!==null&&(d=m.child,d!==null)){m.child=null;do m=d.sibling,d.sibling=null,d=m;while(d!==null)}}function ku(d){var m=d.deletions;if((d.flags&16)!==0){if(m!==null)for(var T=0;T<m.length;T++){var O=m[T];br=O,zu(O,d)}Ry(d)}if(d.subtreeFlags&10256)for(d=d.child;d!==null;)vm(d),d=d.sibling}function vm(d){switch(d.tag){case 0:case 11:case 15:ku(d),d.flags&2048&&Pu(9,d,d.return);break;case 3:ku(d);break;case 12:ku(d);break;case 22:var m=d.stateNode;d.memoizedState!==null&&m._visibility&4&&(d.return===null||d.return.tag!==13)?(m._visibility&=-5,Rd(d)):ku(d);break;default:ku(d)}}function Rd(d){var m=d.deletions;if((d.flags&16)!==0){if(m!==null)for(var T=0;T<m.length;T++){var O=m[T];br=O,zu(O,d)}Ry(d)}for(d=d.child;d!==null;){switch(m=d,m.tag){case 0:case 11:case 15:Pu(8,m,m.return),Rd(m);break;case 22:T=m.stateNode,T._visibility&4&&(T._visibility&=-5,Rd(m));break;default:Rd(m)}d=d.sibling}}function zu(d,m){for(;br!==null;){var T=br;switch(T.tag){case 0:case 11:case 15:Pu(8,T,m);break;case 23:case 22:if(T.memoizedState!==null&&T.memoizedState.cachePool!==null){var O=T.memoizedState.cachePool.pool;O!=null&&O.refCount++}break;case 24:sr(T.memoizedState.cache)}if(O=T.child,O!==null)O.return=T,br=O;else e:for(T=d;br!==null;){O=br;var B=O.sibling,G=O.return;if(Cd(O),O===T){br=null;break e}if(B!==null){B.return=G,br=B;break e}br=G}}}function Oy(d){var m=ob(d);if(m!=null){if(typeof m.memoizedProps["data-testname"]!="string")throw Error(r(364));return m}if(d=rh(d),d===null)throw Error(r(362));return d.stateNode.current}function Od(d,m){var T=d.tag;switch(m.$$typeof){case Wm:if(d.type===m.value)return!0;break;case ov:e:{for(m=m.value,d=[d,0],T=0;T<d.length;){var O=d[T++],B=O.tag,G=d[T++],oe=m[G];if(B!==5&&B!==26&&B!==27||!lc(O)){for(;oe!=null&&Od(O,oe);)G++,oe=m[G];if(G===m.length){m=!0;break e}else for(O=O.child;O!==null;)d.push(O,G),O=O.sibling}}m=!1}return m;case lv:if((T===5||T===26||T===27)&&iR(d.stateNode,m.value))return!0;break;case Ti:if((T===5||T===6||T===26||T===27)&&(d=Rm(d),d!==null&&0<=d.indexOf(m.value)))return!0;break;case ni:if((T===5||T===26||T===27)&&(d=d.memoizedProps["data-testname"],typeof d=="string"&&d.toLowerCase()===m.value.toLowerCase()))return!0;break;default:throw Error(r(365))}return!1}function Bu(d){switch(d.$$typeof){case Wm:return"<"+(a(d.value)||"Unknown")+">";case ov:return":has("+(Bu(d)||"")+")";case lv:return'[role="'+d.value+'"]';case Ti:return'"'+d.value+'"';case ni:return'[data-testname="'+d.value+'"]';default:throw Error(r(365))}}function lE(d,m){var T=[];d=[d,0];for(var O=0;O<d.length;){var B=d[O++],G=B.tag,oe=d[O++],ge=m[oe];if(G!==5&&G!==26&&G!==27||!lc(B)){for(;ge!=null&&Od(B,ge);)oe++,ge=m[oe];if(oe===m.length)T.push(B);else for(B=B.child;B!==null;)d.push(B,oe),B=B.sibling}}return T}function da(d,m){if(!oc)throw Error(r(363));d=Oy(d),d=lE(d,m),m=[],d=Array.from(d);for(var T=0;T<d.length;){var O=d[T++],B=O.tag;if(B===5||B===26||B===27)lc(O)||m.push(O.stateNode);else for(O=O.child;O!==null;)d.push(O),O=O.sibling}return m}function pa(){if((Kt&2)!==0&&Vn!==0)return Vn&-Vn;if(nn.T!==null){var d=za;return d!==0?d:ct()}return Vo()}function ec(){Va===0&&(Va=(Vn&536870912)===0||oi?D():536870912);var d=bo.current;return d!==null&&(d.flags|=32),Va}function Ws(d,m,T){(d===Wn&&Ni===2||d.cancelPendingCommit!==null)&&(yl(d,0),gl(d,Vn,Va,!1)),F(d,T),((Kt&2)===0||d!==Wn)&&(d===Wn&&((Kt&2)===0&&(Tl|=T),ii===4&&gl(d,Vn,Va,!1)),We(d))}function _m(d,m,T){if((Kt&6)!==0)throw Error(r(327));var O=!T&&(m&60)===0&&(m&d.expiredLanes)===0||L(d,m),B=O?ic(d,m):tc(d,m,!0),G=O;do{if(B===0){xo&&!O&&gl(d,m,0,!1);break}else if(B===6)gl(d,m,0,!wi);else{if(T=d.current.alternate,G&&!cE(T)){B=tc(d,m,!1),G=!1;continue}if(B===2){if(G=m,d.errorRecoveryDisabledLanes&G)var oe=0;else oe=d.pendingLanes&-536870913,oe=oe!==0?oe:oe&536870912?536870912:0;if(oe!==0){m=oe;e:{var ge=d;B=$d;var Ae=ma&&ge.current.memoizedState.isDehydrated;if(Ae&&(yl(ge,oe).flags|=256),oe=tc(ge,oe,!1),oe!==2){if(nu&&!Ae){ge.errorRecoveryDisabledLanes|=G,Tl|=G,B=4;break e}G=Eo,Eo=B,G!==null&&Vc(G)}B=oe}if(G=!1,B!==2)continue}}if(B===1){yl(d,0),gl(d,m,0,!0);break}e:{switch(O=d,B){case 0:case 1:throw Error(r(345));case 4:if((m&4194176)===m){gl(O,m,Va,!wi);break e}break;case 2:Eo=null;break;case 3:case 5:break;default:throw Error(r(329))}if(O.finishedWork=T,O.finishedLanes=m,(m&62914560)===m&&(G=dc+300-Us(),10<G)){if(gl(O,m,Va,!wi),N(O,0)!==0)break e;O.timeoutHandle=ab(Iy.bind(null,O,T,Eo,wl,Xd,m,Va,Tl,iu,wi,2,-0,0),G);break e}Iy(O,T,Eo,wl,Xd,m,Va,Tl,iu,wi,0,-0,0)}}break}while(!0);We(d)}function Vc(d){Eo===null?Eo=d:Eo.push.apply(Eo,d)}function Iy(d,m,T,O,B,G,oe,ge,Ae,Je,bt,Ot,Nt){var bn=m.subtreeFlags;if((bn&8192||(bn&16785408)===16785408)&&(fo(),Yf(m),m=Fy(),m!==null)){d.cancelPendingCommit=m(Gi.bind(null,d,T,O,B,oe,ge,Ae,1,Ot,Nt)),gl(d,G,oe,!Je);return}Gi(d,T,O,B,oe,ge,Ae,bt,Ot,Nt)}function cE(d){for(var m=d;;){var T=m.tag;if((T===0||T===11||T===15)&&m.flags&16384&&(T=m.updateQueue,T!==null&&(T=T.stores,T!==null)))for(var O=0;O<T.length;O++){var B=T[O],G=B.getSnapshot;B=B.value;try{if(!po(G(),B))return!1}catch{return!1}}if(T=m.child,m.subtreeFlags&16384&&T!==null)T.return=m,m=T;else{if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function gl(d,m,T,O){m&=~Qs,m&=~Tl,d.suspendedLanes|=m,d.pingedLanes&=~m,O&&(d.warmLanes|=m),O=d.expirationTimes;for(var B=m;0<B;){var G=31-Ua(B),oe=1<<G;O[G]=-1,B&=~oe}T!==0&&V(d,T,m)}function W_(){return(Kt&6)===0?(ae(0),!1):!0}function Da(){if(wn!==null){if(Ni===0)var d=wn.return;else d=wn,_r=ef=null,dl(d),uc=null,Go=0,d=wn;for(;d!==null;)V_(d.alternate,d),d=d.return;wn=null}}function yl(d,m){d.finishedWork=null,d.finishedLanes=0;var T=d.timeoutHandle;T!==ih&&(d.timeoutHandle=ih,Mm(T)),T=d.cancelPendingCommit,T!==null&&(d.cancelPendingCommit=null,T()),Da(),Wn=d,wn=T=$s(d.current,null),Vn=m,Ni=0,Pr=null,wi=!1,xo=L(d,m),nu=!1,iu=Va=Qs=Tl=So=ii=0,Eo=$d=null,Xd=!1,(m&8)!==0&&(m|=m&32);var O=d.entangledLanes;if(O!==0)for(d=d.entanglements,O&=m;0<O;){var B=31-Ua(O),G=1<<B;m|=d[B],O&=~G}return El=m,te(),T}function Kf(d,m){Dn=null,nn.H=li,m===Oi?(m=qt(),Ni=3):m===Lb?(m=qt(),Ni=4):Ni=m===HE?8:m!==null&&typeof m=="object"&&typeof m.then=="function"?6:1,Pr=m,wn===null&&(ii=1,Vf(d,re(m,d.current)))}function bm(){var d=bo.current;return d===null?!0:(Vn&4194176)===Vn?qo===null:(Vn&62914560)===Vn||(Vn&536870912)!==0?d===qo:!1}function Id(){var d=nn.H;return nn.H=li,d===null?li:d}function co(){var d=nn.A;return nn.A=av,d}function Na(){ii=4,wi||(Vn&4194176)!==Vn&&bo.current!==null||(xo=!0),(So&134217727)===0&&(Tl&134217727)===0||Wn===null||gl(Wn,Vn,Va,!1)}function tc(d,m,T){var O=Kt;Kt|=2;var B=Id(),G=co();(Wn!==d||Vn!==m)&&(wl=null,yl(d,m)),m=!1;var oe=ii;e:do try{if(Ni!==0&&wn!==null){var ge=wn,Ae=Pr;switch(Ni){case 8:Da(),oe=6;break e;case 3:case 2:case 6:bo.current===null&&(m=!0);var Je=Ni;if(Ni=0,Pr=null,Fu(d,ge,Ae,Je),T&&xo){oe=0;break e}break;default:Je=Ni,Ni=0,Pr=null,Fu(d,ge,Ae,Je)}}nc(),oe=ii;break}catch(bt){Kf(d,bt)}while(!0);return m&&d.shellSuspendCounter++,_r=ef=null,Kt=O,nn.H=B,nn.A=G,wn===null&&(Wn=null,Vn=0,te()),oe}function nc(){for(;wn!==null;)$_(wn)}function ic(d,m){var T=Kt;Kt|=2;var O=Id(),B=co();Wn!==d||Vn!==m?(wl=null,hr=Us()+500,yl(d,m)):xo=L(d,m);e:do try{if(Ni!==0&&wn!==null){m=wn;var G=Pr;t:switch(Ni){case 1:Ni=0,Pr=null,Fu(d,m,G,1);break;case 2:if(He(G)){Ni=0,Pr=null,Py(m);break}m=function(){Ni===2&&Wn===d&&(Ni=7),We(d)},G.then(m,m);break e;case 3:Ni=7;break e;case 4:Ni=5;break e;case 7:He(G)?(Ni=0,Pr=null,Py(m)):(Ni=0,Pr=null,Fu(d,m,G,7));break;case 5:var oe=null;switch(wn.tag){case 26:oe=wn.memoizedState;case 5:case 27:var ge=wn,Ae=ge.type,Je=ge.pendingProps;if(oe?Ob(oe):Yc(Ae,Je)){Ni=0,Pr=null;var bt=ge.sibling;if(bt!==null)wn=bt;else{var Ot=ge.return;Ot!==null?(wn=Ot,xm(Ot)):wn=null}break t}}Ni=0,Pr=null,Fu(d,m,G,5);break;case 6:Ni=0,Pr=null,Fu(d,m,G,6);break;case 8:Da(),ii=6;break e;default:throw Error(r(462))}}Hc();break}catch(Nt){Kf(d,Nt)}while(!0);return _r=ef=null,nn.H=O,nn.A=B,Kt=T,wn!==null?0:(Wn=null,Vn=0,te(),ii)}function Hc(){for(;wn!==null&&!kE();)$_(wn)}function $_(d){var m=Gs(d.alternate,d,El);d.memoizedProps=d.pendingProps,m===null?xm(d):wn=m}function Py(d){var m=d,T=m.alternate;switch(m.tag){case 15:case 0:m=Iu(T,m,m.pendingProps,m.type,void 0,Vn);break;case 11:m=Iu(T,m,m.pendingProps,m.type.render,m.ref,Vn);break;case 5:dl(m);default:V_(T,m),m=wn=qc(m,El),m=Gs(T,m,El)}d.memoizedProps=d.pendingProps,m===null?xm(d):wn=m}function Fu(d,m,T,O){_r=ef=null,dl(m),uc=null,Go=0;var B=m.return;try{if(Sy(d,B,m,T,Vn)){ii=1,Vf(d,re(T,d.current)),wn=null;return}}catch(G){if(B!==null)throw wn=B,G;ii=1,Vf(d,re(T,d.current)),wn=null;return}m.flags&32768?(oi||O===1?d=!0:xo||(Vn&536870912)!==0?d=!1:(wi=d=!0,(O===2||O===3||O===6)&&(O=bo.current,O!==null&&O.tag===13&&(O.flags|=16384))),bs(m,d)):xm(m)}function xm(d){var m=d;do{if((m.flags&32768)!==0){bs(m,wi);return}d=m.return;var T=iE(m.alternate,m,El);if(T!==null){wn=T;return}if(m=m.sibling,m!==null){wn=m;return}wn=m=d}while(m!==null);ii===0&&(ii=5)}function bs(d,m){do{var T=rE(d.alternate,d);if(T!==null){T.flags&=32767,wn=T;return}if(T=d.return,T!==null&&(T.flags|=32768,T.subtreeFlags=0,T.deletions=null),!m&&(d=d.sibling,d!==null)){wn=d;return}wn=d=T}while(d!==null);ii=6,wn=null}function Gi(d,m,T,O,B,G,oe,ge,Ae,Je){var bt=nn.T,Ot=os();try{Xs(2),nn.T=null,Qn(d,m,T,O,Ot,B,G,oe,ge,Ae,Je)}finally{nn.T=bt,Xs(Ot)}}function Qn(d,m,T,O,B,G,oe,ge){do xs();while(ru!==null);if((Kt&6)!==0)throw Error(r(327));var Ae=d.finishedWork;if(O=d.finishedLanes,Ae===null)return null;if(d.finishedWork=null,d.finishedLanes=0,Ae===d.current)throw Error(r(177));d.callbackNode=null,d.callbackPriority=0,d.cancelPendingCommit=null;var Je=Ae.lanes|Ae.childLanes;if(Je|=Hd,z(d,O,Je,G,oe,ge),d===Wn&&(wn=Wn=null,Vn=0),(Ae.subtreeFlags&10256)===0&&(Ae.flags&10256)===0||$o||($o=!0,cv=Je,hh=T,Sm(Qy,function(){return xs(),null})),T=(Ae.flags&15990)!==0,(Ae.subtreeFlags&15990)!==0||T?(T=nn.T,nn.T=null,G=os(),Xs(2),oe=Kt,Kt|=4,wd(d,Ae),Nu(Ae,d),rb(d.containerInfo),d.current=Ae,wy(d,Ae.alternate,Ae),zE(),Kt=oe,Xs(G),nn.T=T):d.current=Ae,$o?($o=!1,ru=d,fh=O):jc(d,Je),Je=d.pendingLanes,Je===0&&(To=null),q(Ae.stateNode),We(d),m!==null)for(B=d.onRecoverableError,Ae=0;Ae<m.length;Ae++)Je=m[Ae],B(Je.value,{componentStack:Je.stack});return(fh&3)!==0&&xs(),Je=d.pendingLanes,(O&4194218)!==0&&(Je&42)!==0?d===va?dh++:(dh=0,va=d):dh=0,ae(0),null}function jc(d,m){(d.pooledCacheLanes&=m)===0&&(m=d.pooledCache,m!=null&&(d.pooledCache=null,sr(m)))}function xs(){if(ru!==null){var d=ru,m=cv;cv=0;var T=J(fh),O=32>T?32:T;T=nn.T;var B=os();try{if(Xs(O),nn.T=null,ru===null)var G=!1;else{O=hh,hh=null;var oe=ru,ge=fh;if(ru=null,fh=0,(Kt&6)!==0)throw Error(r(331));var Ae=Kt;if(Kt|=4,vm(oe.current),My(oe,oe.current,ge,O),Kt=Ae,ae(0,!1),ka&&typeof ka.onPostCommitFiberRoot=="function")try{ka.onPostCommitFiberRoot(Fd,oe)}catch{}G=!0}return G}finally{Xs(B),nn.T=T,jc(d,m)}}return!1}function Dy(d,m,T){m=re(T,m),m=Ru(d.stateNode,m,2),d=xt(d,m,2),d!==null&&(F(d,2),We(d))}function Yn(d,m,T){if(d.tag===3)Dy(d,d,T);else for(;m!==null;){if(m.tag===3){Dy(m,d,T);break}else if(m.tag===1){var O=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof O.componentDidCatch=="function"&&(To===null||!To.has(O))){d=re(T,d),T=js(2),O=xt(m,T,2),O!==null&&(Ou(T,O,m,d),F(O,2),We(O));break}}m=m.return}}function Ny(d,m,T){var O=d.pingCache;if(O===null){O=d.pingCache=new Kn;var B=new Set;O.set(m,B)}else B=O.get(m),B===void 0&&(B=new Set,O.set(m,B));B.has(T)||(nu=!0,B.add(T),d=uE.bind(null,d,m,T),m.then(d,d))}function uE(d,m,T){var O=d.pingCache;O!==null&&O.delete(m),d.pingedLanes|=d.suspendedLanes&T,d.warmLanes&=~T,Wn===d&&(Vn&T)===T&&(ii===4||ii===3&&(Vn&62914560)===Vn&&300>Us()-dc?(Kt&2)===0&&yl(d,0):Qs|=T,iu===Vn&&(iu=0)),We(d)}function Zf(d,m){m===0&&(m=P()),d=Ue(d,m),d!==null&&(F(d,m),We(d))}function Qf(d){var m=d.memoizedState,T=0;m!==null&&(T=m.retryLane),Zf(d,T)}function X_(d,m){var T=0;switch(d.tag){case 13:var O=d.stateNode,B=d.memoizedState;B!==null&&(T=B.retryLane);break;case 19:O=d.stateNode;break;case 22:O=d.stateNode._retryCache;break;default:throw Error(r(314))}O!==null&&O.delete(m),Zf(d,T)}function Sm(d,m){return Bd(d,m)}function Y_(d,m,T,O){this.tag=d,this.key=T,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=O,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gc(d){return d=d.prototype,!(!d||!d.isReactComponent)}function $s(d,m){var T=d.alternate;return T===null?(T=t(d.tag,m,d.key,d.mode),T.elementType=d.elementType,T.type=d.type,T.stateNode=d.stateNode,T.alternate=d,d.alternate=T):(T.pendingProps=m,T.type=d.type,T.flags=0,T.subtreeFlags=0,T.deletions=null),T.flags=d.flags&31457280,T.childLanes=d.childLanes,T.lanes=d.lanes,T.child=d.child,T.memoizedProps=d.memoizedProps,T.memoizedState=d.memoizedState,T.updateQueue=d.updateQueue,m=d.dependencies,T.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},T.sibling=d.sibling,T.index=d.index,T.ref=d.ref,T.refCleanup=d.refCleanup,T}function qc(d,m){d.flags&=31457282;var T=d.alternate;return T===null?(d.childLanes=0,d.lanes=m,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=T.childLanes,d.lanes=T.lanes,d.child=T.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=T.memoizedProps,d.memoizedState=T.memoizedState,d.updateQueue=T.updateQueue,d.type=T.type,m=T.dependencies,d.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext}),d}function Fo(d,m,T,O,B,G){var oe=0;if(O=d,typeof d=="function")Gc(d)&&(oe=1);else if(typeof d=="string")oe=ho&&Ls?Eb(d,T,Es.current)?26:kd(d)?27:5:ho?Eb(d,T,Es.current)?26:5:Ls&&kd(d)?27:5;else e:switch(d){case Dd:return Wc(T.children,B,G,m);case eb:oe=8,B|=24;break;case tb:return d=t(12,T,m,B|2),d.elementType=tb,d.lanes=G,d;case Uy:return d=t(13,T,m,B),d.elementType=Uy,d.lanes=G,d;case ju:return d=t(19,T,m,B),d.elementType=ju,d.lanes=G,d;case wm:return Ly(T,B,G,m);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case dE:case rc:oe=10;break e;case Hu:oe=9;break e;case Nd:oe=11;break e;case Tm:oe=14;break e;case _l:oe=16,O=null;break e}oe=29,T=Error(r(130,d===null?"null":typeof d,"")),O=null}return m=t(oe,T,m,B),m.elementType=d,m.type=O,m.lanes=G,m}function Wc(d,m,T,O){return d=t(7,d,O,m),d.lanes=T,d}function Ly(d,m,T,O){d=t(22,d,O,m),d.elementType=wm,d.lanes=T;var B={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var G=B._current;if(G===null)throw Error(r(456));if((B._pendingVisibility&2)===0){var oe=Ue(G,2);oe!==null&&(B._pendingVisibility|=2,Ws(oe,G,2))}},attach:function(){var G=B._current;if(G===null)throw Error(r(456));if((B._pendingVisibility&2)!==0){var oe=Ue(G,2);oe!==null&&(B._pendingVisibility&=-3,Ws(oe,G,2))}}};return d.stateNode=B,d}function Vu(d,m,T){return d=t(6,d,null,m),d.lanes=T,d}function Pd(d,m,T){return m=t(4,d.children!==null?d.children:[],d.key,m),m.lanes=T,m.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},m}function Jf(d,m,T,O,B,G,oe,ge){this.tag=1,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=ih,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=U(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=U(0),this.hiddenUpdates=U(null),this.identifierPrefix=O,this.onUncaughtError=B,this.onCaughtError=G,this.onRecoverableError=oe,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ge,this.incompleteTransitions=new Map}function Ss(d,m,T,O,B,G,oe,ge,Ae,Je,bt,Ot){return d=new Jf(d,m,T,oe,ge,Ae,Je,Ot),m=1,G===!0&&(m|=24),G=t(3,null,null,m),d.current=G,G.stateNode=d,m=di(),m.refCount++,d.pooledCache=m,m.refCount++,G.memoizedState={element:O,isDehydrated:T,cache:m},Xe(G),d}function Em(d){return d?(d=sh,d):sh}function K_(d){var m=d._reactInternals;if(m===void 0)throw typeof d.render=="function"?Error(r(188)):(d=Object.keys(d).join(","),Error(r(268,d)));return d=v(m),d=d!==null?_(d):null,d===null?null:Ld(d.stateNode)}function fE(d,m,T,O,B,G){B=Em(B),O.context===null?O.context=B:O.pendingContext=B,O=At(m),O.payload={element:T},G=G===void 0?null:G,G!==null&&(O.callback=G),T=xt(d,O,m),T!==null&&(Ws(T,d,m),_t(T,d,m))}function hE(d,m){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var T=d.retryLane;d.retryLane=T!==0&&T<m?T:m}}function Z_(d,m){hE(d,m),(d=d.alternate)&&hE(d,m)}var Yt={},Q_=m_(),Ds=NW(),eh=Object.assign,J_=Symbol.for("react.element"),$c=Symbol.for("react.transitional.element"),vl=Symbol.for("react.portal"),Dd=Symbol.for("react.fragment"),eb=Symbol.for("react.strict_mode"),tb=Symbol.for("react.profiler"),dE=Symbol.for("react.provider"),Hu=Symbol.for("react.consumer"),rc=Symbol.for("react.context"),Nd=Symbol.for("react.forward_ref"),Uy=Symbol.for("react.suspense"),ju=Symbol.for("react.suspense_list"),Tm=Symbol.for("react.memo"),_l=Symbol.for("react.lazy"),wm=Symbol.for("react.offscreen"),pE=Symbol.for("react.memo_cache_sentinel"),nb=Symbol.iterator,th=Symbol.for("react.client.reference"),nn=Q_.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ky,ib,Gu=!1,qu=Array.isArray,zy=e.rendererVersion,Cm=e.rendererPackageName,Am=e.extraDevToolsConfig,Ld=e.getPublicInstance,nh=e.getRootHostContext,mE=e.getChildHostContext,Wu=e.prepareForCommit,rb=e.resetAfterCommit,sb=e.createInstance,sc=e.appendInitialChild,Xc=e.finalizeInitialChildren,$u=e.shouldSetTextContent,By=e.createTextInstance,ab=e.scheduleTimeout,Mm=e.cancelTimeout,ih=e.noTimeout,ac=e.isPrimaryRenderer;e.warnsIfNotActing;var Ns=e.supportsMutation,uo=e.supportsPersistence,ma=e.supportsHydration,ob=e.getInstanceFromNode;e.beforeActiveInstanceBlur,e.afterActiveInstanceBlur;var lb=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var Xs=e.setCurrentUpdatePriority,os=e.getCurrentUpdatePriority,Vo=e.resolveUpdatePriority;e.resolveEventType,e.resolveEventTimeStamp;var Xu=e.shouldAttemptEagerTransition,cb=e.detachDeletedInstance;e.requestPostPaintCallback;var gE=e.maySuspendCommit,Yc=e.preloadInstance,fo=e.startSuspendingCommit,mr=e.suspendInstance,Fy=e.waitForCommitToBeReady,La=e.NotPendingTransition,un=e.HostTransitionContext,Di=e.resetFormInstance;e.bindToConsole;var $r=e.supportsMicrotasks,Vy=e.scheduleMicrotask,oc=e.supportsTestSelectors,rh=e.findFiberRoot,Hy=e.getBoundingRect,Rm=e.getTextContent,lc=e.isHiddenSubtree,iR=e.matchAccessibilityRole,gr=e.setFocusIfFocusable,ub=e.setupIntersectionObserver,fb=e.appendChild,yE=e.appendChildToContainer,vE=e.commitTextUpdate,rR=e.commitMount,hb=e.commitUpdate,db=e.insertBefore,pb=e.insertInContainerBefore,ga=e.removeChild,Mr=e.removeChildFromContainer,Om=e.resetTextContent,Im=e.hideInstance,jy=e.hideTextInstance,mb=e.unhideInstance,Kc=e.unhideTextInstance,Gy=e.clearContainer,gb=e.cloneInstance,qy=e.createContainerChildSet,yb=e.appendChildToContainerChildSet,_E=e.finalizeContainerChildren,vb=e.replaceContainerChildren,_b=e.cloneHiddenInstance,bb=e.cloneHiddenTextInstance,Wy=e.isSuspenseInstancePending,Pm=e.isSuspenseInstanceFallback,bE=e.getSuspenseInstanceFallbackErrorDetails,sR=e.registerSuspenseInstanceRetry,xE=e.canHydrateFormStateMarker,SE=e.isFormStateMarkerMatching,xb=e.getNextHydratableSibling,$y=e.getFirstHydratableChild,EE=e.getFirstHydratableChildWithinContainer,TE=e.getFirstHydratableChildWithinSuspenseInstance,wE=e.canHydrateInstance,CE=e.canHydrateTextInstance,AE=e.canHydrateSuspenseInstance,aR=e.hydrateInstance,ME=e.hydrateTextInstance,Ud=e.hydrateSuspenseInstance,RE=e.getNextHydratableInstanceAfterSuspenseInstance,Xy=e.commitHydratedContainer,Yy=e.commitHydratedSuspenseInstance,OE=e.clearSuspenseBoundary,Sb=e.clearSuspenseBoundaryFromContainer,IE=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var PE=e.validateHydratableInstance,DE=e.validateHydratableTextInstance,ho=e.supportsResources,Eb=e.isHostHoistableType,Ky=e.getHoistableRoot,Zy=e.getResource,Tb=e.acquireResource,wb=e.releaseResource,Cb=e.hydrateHoistable,Ab=e.mountHoistable,Mb=e.unmountHoistable,oR=e.createHoistableInstance,Rb=e.prepareToCommitHoistables,NE=e.mayResourceSuspendCommit,Ob=e.preloadResource,Ib=e.suspendResource,Ls=e.supportsSingletons,Pb=e.resolveSingletonInstance,lR=e.clearSingleton,cR=e.acquireSingletonInstance,LE=e.releaseSingletonInstance,kd=e.isHostSingletonType,Dm=[],Zc=-1,sh={},Ua=Math.clz32?Math.clz32:C,Nm=Math.log,UE=Math.LN2,zd=128,Lm=4194304,Bd=Ds.unstable_scheduleCallback,Um=Ds.unstable_cancelCallback,kE=Ds.unstable_shouldYield,zE=Ds.unstable_requestPaint,Us=Ds.unstable_now,Db=Ds.unstable_ImmediatePriority,BE=Ds.unstable_UserBlockingPriority,Qy=Ds.unstable_NormalPriority,Jy=Ds.unstable_IdlePriority,FE=Ds.log,Nb=Ds.unstable_setDisableYieldValue,Fd=null,ka=null,po=typeof Object.is=="function"?Object.is:Q,ev=new WeakMap,Ji=[],yr=0,km=null,zm=0,mo=[],go=0,bl=null,cc=1,Ho="",Es=E(null),Bm=E(null),xl=E(null),Vd=E(null),Ys=null,ks=null,oi=!1,yo=null,jo=!1,Fm=Error(r(519)),vo=[],Yu=0,Hd=0,jd=null,ah=null,Vm=!1,Hm=!1,Sl=!1,Ku=0,jm=null,tv=0,za=0,Zu=null,Qc=!1,Gd=!1,Gm=Object.prototype.hasOwnProperty,Oi=Error(r(460)),Lb=Error(r(474)),nv={then:function(){}},oh=null,uc=null,Go=0,Qu=Et(!0),Ub=Et(!1),fc=E(null),_o=E(0),bo=E(null),qo=null,Xr=E(0),hc=0,Dn=null,_i=null,Rr=null,Wo=!1,er=!1,Jc=!1,qm=0,vr=0,qd=null,VE=0,iv=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},li={readContext:Te,use:Ne,useCallback:mn,useContext:mn,useEffect:mn,useImperativeHandle:mn,useLayoutEffect:mn,useInsertionEffect:mn,useMemo:mn,useReducer:mn,useRef:mn,useState:mn,useDebugValue:mn,useDeferredValue:mn,useTransition:mn,useSyncExternalStore:mn,useId:mn};li.useCacheRefresh=mn,li.useMemoCache=mn,li.useHostTransitionStatus=mn,li.useFormState=mn,li.useActionState=mn,li.useOptimistic=mn;var Yr={readContext:Te,use:Ne,useCallback:function(d,m){return se().memoizedState=[d,m===void 0?null:m],d},useContext:Te,useEffect:om,useImperativeHandle:function(d,m,T){T=T!=null?T.concat([d]):null,fd(4194308,4,pl.bind(null,m,d),T)},useLayoutEffect:function(d,m){return fd(4194308,4,d,m)},useInsertionEffect:function(d,m){fd(4,2,d,m)},useMemo:function(d,m){var T=se();m=m===void 0?null:m;var O=d();if(Jc){W(!0);try{d()}finally{W(!1)}}return T.memoizedState=[O,m],O},useReducer:function(d,m,T){var O=se();if(T!==void 0){var B=T(m);if(Jc){W(!0);try{T(m)}finally{W(!1)}}}else B=m;return O.memoizedState=O.baseState=B,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:B},O.queue=d,d=d.dispatch=oo.bind(null,Dn,d),[O.memoizedState,d]},useRef:function(d){var m=se();return d={current:d},m.memoizedState=d},useState:function(d){d=$n(d);var m=d.queue,T=Ff.bind(null,Dn,m);return m.dispatch=T,[d.memoizedState,T]},useDebugValue:Au,useDeferredValue:function(d,m){var T=se();return ua(T,d,m)},useTransition:function(){var d=$n(!1);return d=hd.bind(null,Dn,d.queue,!0,!1),se().memoizedState=d,[!1,d]},useSyncExternalStore:function(d,m,T){var O=Dn,B=se();if(oi){if(T===void 0)throw Error(r(407));T=T()}else{if(T=m(),Wn===null)throw Error(r(349));(Vn&60)!==0||Jt(O,m,T)}B.memoizedState=T;var G={value:T,getSnapshot:m};return B.queue=G,om(Fn.bind(null,O,G,d),[d]),O.flags|=2048,Ps(9,jt.bind(null,O,G,T,m),{destroy:void 0},null),T},useId:function(){var d=se(),m=Wn.identifierPrefix;if(oi){var T=Ho,O=cc;T=(O&~(1<<32-Ua(O)-1)).toString(32)+T,m=":"+m+"R"+T,T=qm++,0<T&&(m+="H"+T.toString(32)),m+=":"}else T=VE++,m=":"+m+"r"+T.toString(32)+":";return d.memoizedState=m},useCacheRefresh:function(){return se().memoizedState=ql.bind(null,Dn)}};Yr.useMemoCache=Se,Yr.useHostTransitionStatus=Hs,Yr.useFormState=ti,Yr.useActionState=ti,Yr.useOptimistic=function(d){var m=se();m.memoizedState=m.baseState=d;var T={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return m.queue=T,m=Wl.bind(null,Dn,!0,T),T.dispatch=m,[d,m]};var Ks={readContext:Te,use:Ne,useCallback:Bf,useContext:Te,useEffect:zf,useImperativeHandle:ss,useInsertionEffect:by,useLayoutEffect:xy,useMemo:Gl,useReducer:wt,useRef:Cr,useState:function(){return wt(at)},useDebugValue:Au,useDeferredValue:function(d,m){var T=ve();return lm(T,_i.memoizedState,d,m)},useTransition:function(){var d=wt(at)[0],m=ve().memoizedState;return[typeof d=="boolean"?d:ke(d),m]},useSyncExternalStore:sn,useId:ko};Ks.useCacheRefresh=dd,Ks.useMemoCache=Se,Ks.useHostTransitionStatus=Hs,Ks.useFormState=wr,Ks.useActionState=wr,Ks.useOptimistic=function(d,m){var T=ve();return on(T,_i,d,m)};var Ju={readContext:Te,use:Ne,useCallback:Bf,useContext:Te,useEffect:zf,useImperativeHandle:ss,useInsertionEffect:by,useLayoutEffect:xy,useMemo:Gl,useReducer:Rt,useRef:Cr,useState:function(){return Rt(at)},useDebugValue:Au,useDeferredValue:function(d,m){var T=ve();return _i===null?ua(T,d,m):lm(T,_i.memoizedState,d,m)},useTransition:function(){var d=Rt(at)[0],m=ve().memoizedState;return[typeof d=="boolean"?d:ke(d),m]},useSyncExternalStore:sn,useId:ko};Ju.useCacheRefresh=dd,Ju.useMemoCache=Se,Ju.useHostTransitionStatus=Hs,Ju.useFormState=cr,Ju.useActionState=cr,Ju.useOptimistic=function(d,m){var T=ve();return _i!==null?on(T,_i,d,m):(T.baseState=d,[d,T.queue.dispatch])};var rv={isMounted:function(d){return(d=d._reactInternals)?p(d)===d:!1},enqueueSetState:function(d,m,T){d=d._reactInternals;var O=pa(),B=At(O);B.payload=m,T!=null&&(B.callback=T),m=xt(d,B,O),m!==null&&(Ws(m,d,O),_t(m,d,O))},enqueueReplaceState:function(d,m,T){d=d._reactInternals;var O=pa(),B=At(O);B.tag=1,B.payload=m,T!=null&&(B.callback=T),m=xt(d,B,O),m!==null&&(Ws(m,d,O),_t(m,d,O))},enqueueForceUpdate:function(d,m){d=d._reactInternals;var T=pa(),O=At(T);O.tag=2,m!=null&&(O.callback=m),m=xt(d,O,T),m!==null&&(Ws(m,d,T),_t(m,d,T))}},kb=typeof reportError=="function"?reportError:function(d){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var m=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof d=="object"&&d!==null&&typeof d.message=="string"?String(d.message):String(d),error:d});if(!window.dispatchEvent(m))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",d);return}console.error(d)},HE=Error(r(461)),Or=!1,Zs={dehydrated:null,treeContext:null,retryLane:0},Ba=E(null),ef=null,_r=null,jE=typeof AbortController<"u"?AbortController:function(){var d=[],m=this.signal={aborted:!1,addEventListener:function(T,O){d.push(O)}};this.abort=function(){m.aborted=!0,d.forEach(function(T){return T()})}},eu=Ds.unstable_scheduleCallback,lh=Ds.unstable_NormalPriority,Ei={$$typeof:rc,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},sv=nn.S;nn.S=function(d,m){typeof m=="object"&&m!==null&&typeof m.then=="function"&&lt(d,m),sv!==null&&sv(d,m)};var tu=E(null),ls=!1,fr=!1,tf=!1,Wd=typeof WeakSet=="function"?WeakSet:Set,br=null,ch=!1,Ir=null,Fa=!1,ya=null,uh=8192,av={getCacheForType:function(d){var m=Te(Ei),T=m.data.get(d);return T===void 0&&(T=d(),m.data.set(d,T)),T}},Wm=0,ov=1,lv=2,ni=3,Ti=4;if(typeof Symbol=="function"&&Symbol.for){var Nn=Symbol.for;Wm=Nn("selector.component"),ov=Nn("selector.has_pseudo_class"),lv=Nn("selector.role"),ni=Nn("selector.test_id"),Ti=Nn("selector.text")}var Kn=typeof WeakMap=="function"?WeakMap:Map,Kt=0,Wn=null,wn=null,Vn=0,Ni=0,Pr=null,wi=!1,xo=!1,nu=!1,El=0,ii=0,So=0,Tl=0,Qs=0,Va=0,iu=0,$d=null,Eo=null,Xd=!1,dc=0,hr=1/0,wl=null,To=null,$o=!1,ru=null,fh=0,cv=0,hh=null,dh=0,va=null;return Yt.attemptContinuousHydration=function(d){if(d.tag===13){var m=Ue(d,67108864);m!==null&&Ws(m,d,67108864),Z_(d,67108864)}},Yt.attemptHydrationAtCurrentPriority=function(d){if(d.tag===13){var m=pa(),T=Ue(d,m);T!==null&&Ws(T,d,m),Z_(d,m)}},Yt.attemptSynchronousHydration=function(d){switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var m=A(d.pendingLanes);if(m!==0){for(d.pendingLanes|=2,d.entangledLanes|=2;m;){var T=1<<31-Ua(m);d.entanglements[1]|=T,m&=~T}We(d),(Kt&6)===0&&(hr=Us()+500,ae(0))}}break;case 13:m=Ue(d,2),m!==null&&Ws(m,d,2),W_(),Z_(d,2)}},Yt.batchedUpdates=function(d,m){return d(m)},Yt.createComponentSelector=function(d){return{$$typeof:Wm,value:d}},Yt.createContainer=function(d,m,T,O,B,G,oe,ge,Ae,Je){return Ss(d,m,!1,null,T,O,G,oe,ge,Ae,Je,null)},Yt.createHasPseudoClassSelector=function(d){return{$$typeof:ov,value:d}},Yt.createHydrationContainer=function(d,m,T,O,B,G,oe,ge,Ae,Je,bt,Ot,Nt){return d=Ss(T,O,!0,d,B,G,ge,Ae,Je,bt,Ot,Nt),d.context=Em(null),T=d.current,O=pa(),B=At(O),B.callback=m??null,xt(T,B,O),d.current.lanes=O,F(d,O),We(d),d},Yt.createPortal=function(d,m,T){var O=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vl,key:O==null?null:""+O,children:d,containerInfo:m,implementation:T}},Yt.createRoleSelector=function(d){return{$$typeof:lv,value:d}},Yt.createTestNameSelector=function(d){return{$$typeof:ni,value:d}},Yt.createTextSelector=function(d){return{$$typeof:Ti,value:d}},Yt.defaultOnCaughtError=function(d){console.error(d)},Yt.defaultOnRecoverableError=function(d){kb(d)},Yt.defaultOnUncaughtError=function(d){kb(d)},Yt.deferredUpdates=function(d){var m=nn.T,T=os();try{return Xs(32),nn.T=null,d()}finally{Xs(T),nn.T=m}},Yt.discreteUpdates=function(d,m,T,O,B){var G=nn.T,oe=os();try{return Xs(2),nn.T=null,d(m,T,O,B)}finally{Xs(oe),nn.T=G,Kt===0&&(hr=Us()+500)}},Yt.findAllNodes=da,Yt.findBoundingRects=function(d,m){if(!oc)throw Error(r(363));m=da(d,m),d=[];for(var T=0;T<m.length;T++)d.push(Hy(m[T]));for(m=d.length-1;0<m;m--){T=d[m];for(var O=T.x,B=O+T.width,G=T.y,oe=G+T.height,ge=m-1;0<=ge;ge--)if(m!==ge){var Ae=d[ge],Je=Ae.x,bt=Je+Ae.width,Ot=Ae.y,Nt=Ot+Ae.height;if(O>=Je&&G>=Ot&&B<=bt&&oe<=Nt){d.splice(m,1);break}else if(O!==Je||T.width!==Ae.width||Nt<G||Ot>oe){if(!(G!==Ot||T.height!==Ae.height||bt<O||Je>B)){Je>O&&(Ae.width+=Je-O,Ae.x=O),bt<B&&(Ae.width=B-Je),d.splice(m,1);break}}else{Ot>G&&(Ae.height+=Ot-G,Ae.y=G),Nt<oe&&(Ae.height=oe-Ot),d.splice(m,1);break}}}return d},Yt.findHostInstance=K_,Yt.findHostInstanceWithNoPortals=function(d){return d=v(d),d=d!==null?x(d):null,d===null?null:Ld(d.stateNode)},Yt.findHostInstanceWithWarning=function(d){return K_(d)},Yt.flushPassiveEffects=xs,Yt.flushSyncFromReconciler=function(d){var m=Kt;Kt|=1;var T=nn.T,O=os();try{if(Xs(2),nn.T=null,d)return d()}finally{Xs(O),nn.T=T,Kt=m,(Kt&6)===0&&ae(0)}},Yt.flushSyncWork=W_,Yt.focusWithin=function(d,m){if(!oc)throw Error(r(363));for(d=Oy(d),m=lE(d,m),m=Array.from(m),d=0;d<m.length;){var T=m[d++],O=T.tag;if(!lc(T)){if((O===5||O===26||O===27)&&gr(T.stateNode))return!0;for(T=T.child;T!==null;)m.push(T),T=T.sibling}}return!1},Yt.getFindAllNodesFailureDescription=function(d,m){if(!oc)throw Error(r(363));var T=0,O=[];d=[Oy(d),0];for(var B=0;B<d.length;){var G=d[B++],oe=G.tag,ge=d[B++],Ae=m[ge];if((oe!==5&&oe!==26&&oe!==27||!lc(G))&&(Od(G,Ae)&&(O.push(Bu(Ae)),ge++,ge>T&&(T=ge)),ge<m.length))for(G=G.child;G!==null;)d.push(G,ge),G=G.sibling}if(T<m.length){for(d=[];T<m.length;T++)d.push(Bu(m[T]));return`findAllNodes was able to match part of the selector:
  `+(O.join(" > ")+`

No matching component was found for:
  `)+d.join(" > ")}return null},Yt.getPublicRootInstance=function(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 27:case 5:return Ld(d.child.stateNode);default:return d.child.stateNode}},Yt.injectIntoDevTools=function(){var d={bundleType:0,version:zy,rendererPackageName:Cm,currentDispatcherRef:nn,findFiberByHostInstance:ob,reconcilerVersion:"19.0.0"};if(Am!==null&&(d.rendererConfig=Am),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")d=!1;else{var m=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(m.isDisabled||!m.supportsFiber)d=!0;else{try{Fd=m.inject(d),ka=m}catch{}d=!!m.checkDCE}}return d},Yt.isAlreadyRendering=function(){return!1},Yt.observeVisibleRects=function(d,m,T,O){if(!oc)throw Error(r(363));d=da(d,m);var B=ub(d,T,O).disconnect;return{disconnect:function(){B()}}},Yt.shouldError=function(){return null},Yt.shouldSuspend=function(){return!1},Yt.startHostTransition=function(d,m,T,O){if(d.tag!==5)throw Error(r(476));var B=cm(d).queue;hd(d,B,m,La,T===null?i:function(){var G=cm(d).next.queue;return Oa(d,G,{},pa()),T(O)})},Yt.updateContainer=function(d,m,T,O){var B=m.current,G=pa();return fE(B,G,d,m,T,O),G},Yt.updateContainerSync=function(d,m,T,O){return m.tag===0&&xs(),fE(m.current,2,d,m,T,O),2},Yt},n.exports.default=n.exports,Object.defineProperty(n.exports,"__esModule",{value:!0})})(C3)),C3.exports}var Q6;function iEe(){return Q6||(Q6=1,w3.exports=nEe()),w3.exports}var rEe=iEe();const sEe=Qp(rEe);var J6=NW();function o4(n,e,t){if(!n)return;if(t(n)===!0)return n;let i=e?n.return:n.child;for(;i;){const r=o4(i,e,t);if(r)return r;i=e?null:i.sibling}}function LW(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const l4=LW(H.createContext(null));let UW=class extends H.Component{render(){return H.createElement(l4.Provider,{value:this._reactInternals},this.props.children)}};function kW(){const n=H.useContext(l4);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=H.useId();return H.useMemo(()=>{for(const t of[n,n==null?void 0:n.alternate]){if(!t)continue;const i=o4(t,!1,r=>{let s=r.memoizedState;for(;s;){if(s.memoizedState===e)return!0;s=s.next}});if(i)return i}},[n,e])}const aEe=Symbol.for("react.context"),oEe=n=>n!==null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===aEe;function lEe(){const n=kW(),[e]=H.useState(()=>new Map);e.clear();let t=n;for(;t;){const i=t.type;oEe(i)&&i!==l4&&!e.has(i)&&e.set(i,H.use(LW(i))),t=t.return}return e}function cEe(){const n=lEe();return H.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>i=>H.createElement(e,null,H.createElement(t.Provider,{...i,value:n.get(t)})),e=>H.createElement(UW,{...e})),[n])}function zW(n){let e=n.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const BW=n=>n&&n.isOrthographicCamera,uEe=n=>n&&n.hasOwnProperty("current"),fEe=n=>n!=null&&(typeof n=="string"||typeof n=="number"||n.isColor),eE=((n,e)=>typeof window<"u"&&(((n=window.document)==null?void 0:n.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?H.useLayoutEffect:H.useEffect;function c4(n){const e=H.useRef(n);return eE(()=>void(e.current=n),[n]),e}function hEe(){const n=kW(),e=cEe();return H.useMemo(()=>({children:t})=>{const r=!!o4(n,!0,s=>s.type===H.StrictMode)?H.StrictMode:H.Fragment;return Z.jsx(r,{children:Z.jsx(e,{children:t})})},[n,e])}function dEe({set:n}){return eE(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}const pEe=(n=>(n=class extends H.Component{constructor(...t){super(...t),this.state={error:!1}}componentDidCatch(t){this.props.set(t)}render(){return this.state.error?null:this.props.children}},n.getDerivedStateFromError=()=>({error:!0}),n))();function FW(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}function Vv(n){var e;return(e=n.__r3f)==null?void 0:e.root.getState()}const Nr={obj:n=>n===Object(n)&&!Nr.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,nul:n=>n===null,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:i="reference",strict:r=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(Nr.str(n)||Nr.num(n)||Nr.boo(n))return n===e;const s=Nr.obj(n);if(s&&i==="reference")return n===e;const a=Nr.arr(n);if(a&&t==="reference")return n===e;if((a||s)&&n===e)return!0;let o;for(o in n)if(!(o in e))return!1;if(s&&t==="shallow"&&i==="shallow"){for(o in r?e:n)if(!Nr.equ(n[o],e[o],{strict:r,objects:"reference"}))return!1}else for(o in r?e:n)if(n[o]!==e[o])return!1;if(Nr.und(o)){if(a&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function mEe(n){n.type!=="Scene"&&(n.dispose==null||n.dispose());for(const e in n){const t=n[e];(t==null?void 0:t.type)!=="Scene"&&(t==null||t.dispose==null||t.dispose())}}const VW=["children","key","ref"];function gEe(n){const e={};for(const t in n)VW.includes(t)||(e[t]=n[t]);return e}function tA(n,e,t,i){const r=n;let s=r==null?void 0:r.__r3f;return s||(s={root:e,type:t,parent:null,children:[],props:gEe(i),object:r,eventCount:0,handlers:{},isHidden:!1},r&&(r.__r3f=s)),s}function dS(n,e){if(!e.includes("-"))return{root:n,key:e,target:n[e]};if(e in n)return{root:n,key:e,target:n[e]};let t=n;const i=e.split("-");for(const r of i){if(typeof t!="object"||t===null){if(t!==void 0){const s=i.slice(i.indexOf(r)).join("-");return{root:t,key:s,target:void 0}}return{root:n,key:e,target:void 0}}e=r,n=t,t=t[e]}return{root:n,key:e,target:t}}const e9=/-\d+$/;function nA(n,e){if(Nr.str(e.props.attach)){if(e9.test(e.props.attach)){const r=e.props.attach.replace(e9,""),{root:s,key:a}=dS(n.object,r);Array.isArray(s[a])||(s[a]=[])}const{root:t,key:i}=dS(n.object,e.props.attach);e.previousAttach=t[i],t[i]=e.object}else Nr.fun(e.props.attach)&&(e.previousAttach=e.props.attach(n.object,e.object))}function iA(n,e){if(Nr.str(e.props.attach)){const{root:t,key:i}=dS(n.object,e.props.attach),r=e.previousAttach;r===void 0?delete t[i]:t[i]=r}else e.previousAttach==null||e.previousAttach(n.object,e.object);delete e.previousAttach}const KP=[...VW,"args","dispose","attach","object","onUpdate","dispose"],t9=new Map;function yEe(n){let e=t9.get(n.constructor);try{e||(e=new n.constructor,t9.set(n.constructor,e))}catch{}return e}function vEe(n,e){const t={};for(const i in e)if(!KP.includes(i)&&!Nr.equ(e[i],n.props[i])){t[i]=e[i];for(const r in e)r.startsWith(`${i}-`)&&(t[r]=e[r])}for(const i in n.props){if(KP.includes(i)||e.hasOwnProperty(i))continue;const{root:r,key:s}=dS(n.object,i);if(r.constructor&&r.constructor.length===0){const a=yEe(r);Nr.und(a)||(t[s]=a[s])}else t[s]=0}return t}const _Ee=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],bEe=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function bp(n,e){var t;const i=n.__r3f,r=i&&zW(i).getState(),s=i==null?void 0:i.eventCount;for(const o in e){let l=e[o];if(KP.includes(o))continue;if(i&&bEe.test(o)){typeof l=="function"?i.handlers[o]=l:delete i.handlers[o],i.eventCount=Object.keys(i.handlers).length;continue}if(l===void 0)continue;let{root:u,key:h,target:p}=dS(n,o);if(p===void 0&&(typeof u!="object"||u===null))throw Error(`R3F: Cannot set "${o}". Ensure it is an object before setting "${h}".`);if(p instanceof J0&&l instanceof J0)p.mask=l.mask;else if(p instanceof Lt&&fEe(l))p.set(l);else if(p!==null&&typeof p=="object"&&typeof p.set=="function"&&typeof p.copy=="function"&&l!=null&&l.constructor&&p.constructor===l.constructor)p.copy(l);else if(p!==null&&typeof p=="object"&&typeof p.set=="function"&&Array.isArray(l))typeof p.fromArray=="function"?p.fromArray(l):p.set(...l);else if(p!==null&&typeof p=="object"&&typeof p.set=="function"&&typeof l=="number")typeof p.setScalar=="function"?p.setScalar(l):p.set(l);else{var a;u[h]=l,r&&!r.linear&&_Ee.includes(h)&&(a=u[h])!=null&&a.isTexture&&u[h].format===eo&&u[h].type===Mc&&(u[h].colorSpace=Sa)}}if(i!=null&&i.parent&&r!=null&&r.internal&&(t=i.object)!=null&&t.isObject3D&&s!==i.eventCount){const o=i.object,l=r.internal.interaction.indexOf(o);l>-1&&r.internal.interaction.splice(l,1),i.eventCount&&o.raycast!==null&&r.internal.interaction.push(o)}return i&&i.props.attach===void 0&&(i.object.isBufferGeometry?i.props.attach="geometry":i.object.isMaterial&&(i.props.attach="material")),i&&k_(i),n}function k_(n){var e;if(!n.parent)return;n.props.onUpdate==null||n.props.onUpdate(n.object);const t=(e=n.root)==null||e.getState==null?void 0:e.getState();t&&t.internal.frames===0&&t.invalidate()}function HW(n,e){n.manual||(BW(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix())}const Jo=n=>n==null?void 0:n.isObject3D;function Sw(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function jW(n,e,t,i){const r=t.get(e);r&&(t.delete(e),t.size===0&&(n.delete(i),r.target.releasePointerCapture(i)))}function xEe(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((i,r)=>{jW(t.capturedMap,e,i,r)})}function SEe(n){function e(l){const{internal:u}=n.getState(),h=l.offsetX-u.initialClick[0],p=l.offsetY-u.initialClick[1];return Math.round(Math.sqrt(h*h+p*p))}function t(l){return l.filter(u=>["Move","Over","Enter","Out","Leave"].some(h=>{var p;return(p=u.__r3f)==null?void 0:p.handlers["onPointer"+h]}))}function i(l,u){const h=n.getState(),p=new Set,y=[],v=u?u(h.internal.interaction):h.internal.interaction;for(let S=0;S<v.length;S++){const w=Vv(v[S]);w&&(w.raycaster.camera=void 0)}h.previousRoot||h.events.compute==null||h.events.compute(l,h);function _(S){const w=Vv(S);if(!w||!w.events.enabled||w.raycaster.camera===null)return[];if(w.raycaster.camera===void 0){var C;w.events.compute==null||w.events.compute(l,w,(C=w.previousRoot)==null?void 0:C.getState()),w.raycaster.camera===void 0&&(w.raycaster.camera=null)}return w.raycaster.camera?w.raycaster.intersectObject(S,!0):[]}let x=v.flatMap(_).sort((S,w)=>{const C=Vv(S.object),A=Vv(w.object);return!C||!A?S.distance-w.distance:A.events.priority-C.events.priority||S.distance-w.distance}).filter(S=>{const w=Sw(S);return p.has(w)?!1:(p.add(w),!0)});h.events.filter&&(x=h.events.filter(x,h));for(const S of x){let w=S.object;for(;w;){var E;(E=w.__r3f)!=null&&E.eventCount&&y.push({...S,eventObject:w}),w=w.parent}}if("pointerId"in l&&h.internal.capturedMap.has(l.pointerId))for(let S of h.internal.capturedMap.get(l.pointerId).values())p.has(Sw(S.intersection))||y.push(S.intersection);return y}function r(l,u,h,p){if(l.length){const y={stopped:!1};for(const v of l){let _=Vv(v.object);if(_||v.object.traverseAncestors(x=>{const E=Vv(x);if(E)return _=E,!1}),_){const{raycaster:x,pointer:E,camera:S,internal:w}=_,C=new fe(E.x,E.y,0).unproject(S),A=P=>{var U,F;return(U=(F=w.capturedMap.get(P))==null?void 0:F.has(v.eventObject))!=null?U:!1},N=P=>{const U={intersection:v,target:u.target};w.capturedMap.has(P)?w.capturedMap.get(P).set(v.eventObject,U):w.capturedMap.set(P,new Map([[v.eventObject,U]])),u.target.setPointerCapture(P)},L=P=>{const U=w.capturedMap.get(P);U&&jW(w.capturedMap,v.eventObject,U,P)};let I={};for(let P in u){let U=u[P];typeof U!="function"&&(I[P]=U)}let D={...v,...I,pointer:E,intersections:l,stopped:y.stopped,delta:h,unprojectedPoint:C,ray:x.ray,camera:S,stopPropagation(){const P="pointerId"in u&&w.capturedMap.get(u.pointerId);if((!P||P.has(v.eventObject))&&(D.stopped=y.stopped=!0,w.hovered.size&&Array.from(w.hovered.values()).find(U=>U.eventObject===v.eventObject))){const U=l.slice(0,l.indexOf(v));s([...U,v])}},target:{hasPointerCapture:A,setPointerCapture:N,releasePointerCapture:L},currentTarget:{hasPointerCapture:A,setPointerCapture:N,releasePointerCapture:L},nativeEvent:u};if(p(D),y.stopped===!0)break}}}return l}function s(l){const{internal:u}=n.getState();for(const h of u.hovered.values())if(!l.length||!l.find(p=>p.object===h.object&&p.index===h.index&&p.instanceId===h.instanceId)){const y=h.eventObject.__r3f;if(u.hovered.delete(Sw(h)),y!=null&&y.eventCount){const v=y.handlers,_={...h,intersections:l};v.onPointerOut==null||v.onPointerOut(_),v.onPointerLeave==null||v.onPointerLeave(_)}}}function a(l,u){for(let h=0;h<u.length;h++){const p=u[h].__r3f;p==null||p.handlers.onPointerMissed==null||p.handlers.onPointerMissed(l)}}function o(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return u=>{const{internal:h}=n.getState();"pointerId"in u&&h.capturedMap.has(u.pointerId)&&requestAnimationFrame(()=>{h.capturedMap.has(u.pointerId)&&(h.capturedMap.delete(u.pointerId),s([]))})}}return function(h){const{onPointerMissed:p,internal:y}=n.getState();y.lastEvent.current=h;const v=l==="onPointerMove",_=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",E=i(h,v?t:void 0),S=_?e(h):0;l==="onPointerDown"&&(y.initialClick=[h.offsetX,h.offsetY],y.initialHits=E.map(C=>C.eventObject)),_&&!E.length&&S<=2&&(a(h,y.interaction),p&&p(h)),v&&s(E);function w(C){const A=C.eventObject,N=A.__r3f;if(!(N!=null&&N.eventCount))return;const L=N.handlers;if(v){if(L.onPointerOver||L.onPointerEnter||L.onPointerOut||L.onPointerLeave){const I=Sw(C),D=y.hovered.get(I);D?D.stopped&&C.stopPropagation():(y.hovered.set(I,C),L.onPointerOver==null||L.onPointerOver(C),L.onPointerEnter==null||L.onPointerEnter(C))}L.onPointerMove==null||L.onPointerMove(C)}else{const I=L[l];I?(!_||y.initialHits.includes(A))&&(a(h,y.interaction.filter(D=>!y.initialHits.includes(D))),I(C)):_&&y.initialHits.includes(A)&&a(h,y.interaction.filter(D=>!y.initialHits.includes(D)))}}r(E,h,S,w)}}return{handlePointer:o}}const n9=n=>!!(n!=null&&n.render),u4=H.createContext(null),EEe=(n,e)=>{const t=DW((o,l)=>{const u=new fe,h=new fe,p=new fe;function y(S=l().camera,w=h,C=l().size){const{width:A,height:N,top:L,left:I}=C,D=A/N;w.isVector3?p.copy(w):p.set(...w);const P=S.getWorldPosition(u).distanceTo(p);if(BW(S))return{width:A/S.zoom,height:N/S.zoom,top:L,left:I,factor:1,distance:P,aspect:D};{const U=S.fov*Math.PI/180,F=2*Math.tan(U/2)*P,z=F*(A/N);return{width:z,height:F,top:L,left:I,factor:A/z,distance:P,aspect:D}}}let v;const _=S=>o(w=>({performance:{...w.performance,current:S}})),x=new it;return{set:o,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(S=1)=>n(l(),S),advance:(S,w)=>e(S,w,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new xL,pointer:x,mouse:x,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const S=l();v&&clearTimeout(v),S.performance.current!==S.performance.min&&_(S.performance.min),v=setTimeout(()=>_(l().performance.max),S.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:y},setEvents:S=>o(w=>({...w,events:{...w.events,...S}})),setSize:(S,w,C=0,A=0)=>{const N=l().camera,L={width:S,height:w,top:C,left:A};o(I=>({size:L,viewport:{...I.viewport,...y(N,h,L)}}))},setDpr:S=>o(w=>{const C=FW(S);return{viewport:{...w.viewport,dpr:C,initialDpr:w.viewport.initialDpr||C}}}),setFrameloop:(S="always")=>{const w=l().clock;w.stop(),w.elapsedTime=0,S!=="never"&&(w.start(),w.elapsedTime=0),o(()=>({frameloop:S}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:H.createRef(),active:!1,frames:0,priority:0,subscribe:(S,w,C)=>{const A=l().internal;return A.priority=A.priority+(w>0?1:0),A.subscribers.push({ref:S,priority:w,store:C}),A.subscribers=A.subscribers.sort((N,L)=>N.priority-L.priority),()=>{const N=l().internal;N!=null&&N.subscribers&&(N.priority=N.priority-(w>0?1:0),N.subscribers=N.subscribers.filter(L=>L.ref!==S))}}}}}),i=t.getState();let r=i.size,s=i.viewport.dpr,a=i.camera;return t.subscribe(()=>{const{camera:o,size:l,viewport:u,gl:h,set:p}=t.getState();if(l.width!==r.width||l.height!==r.height||u.dpr!==s){r=l,s=u.dpr,HW(o,l),u.dpr>0&&h.setPixelRatio(u.dpr);const y=typeof HTMLCanvasElement<"u"&&h.domElement instanceof HTMLCanvasElement;h.setSize(l.width,l.height,y)}o!==a&&(a=o,p(y=>({viewport:{...y.viewport,...y.viewport.getCurrentViewport(o)}})))}),t.subscribe(o=>n(o)),t};function f4(){const n=H.useContext(u4);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function As(n=t=>t,e){return f4()(n,e)}function tE(n,e=0){const t=f4(),i=t.getState().internal.subscribe,r=c4(n);return eE(()=>i(r,e,t),[e,i,t]),null}var TEe={version:"9.4.2"};function wEe(n){const e=sEe(n);return e.injectIntoDevTools(),e}const GW=0,h_={},CEe=/^three(?=[A-Z])/,YM=n=>`${n[0].toUpperCase()}${n.slice(1)}`;let AEe=0;const MEe=n=>typeof n=="function";function qW(n){if(MEe(n)){const e=`${AEe++}`;return h_[e]=n,e}else Object.assign(h_,n)}function WW(n,e){const t=YM(n),i=h_[t];if(n!=="primitive"&&!i)throw new Error(`R3F: ${t} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(n==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function REe(n,e,t){var i;return n=YM(n)in h_?n:n.replace(CEe,""),WW(n,e),n==="primitive"&&(i=e.object)!=null&&i.__r3f&&delete e.object.__r3f,tA(e.object,t,n,e)}function OEe(n){if(!n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?iA(n.parent,n):Jo(n.object)&&(n.object.visible=!1),n.isHidden=!0,k_(n)}}function $W(n){if(n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?nA(n.parent,n):Jo(n.object)&&n.props.visible!==!1&&(n.object.visible=!0),n.isHidden=!1,k_(n)}}function h4(n,e,t){const i=e.root.getState();if(!(!n.parent&&n.object!==i.scene)){if(!e.object){var r,s;const a=h_[YM(e.type)];e.object=(r=e.props.object)!=null?r:new a(...(s=e.props.args)!=null?s:[]),e.object.__r3f=e}if(bp(e.object,e.props),e.props.attach)nA(n,e);else if(Jo(e.object)&&Jo(n.object)){const a=n.object.children.indexOf(t==null?void 0:t.object);if(t&&a!==-1){const o=n.object.children.indexOf(e.object);if(o!==-1){n.object.children.splice(o,1);const l=o<a?a-1:a;n.object.children.splice(l,0,e.object)}else e.object.parent=n.object,n.object.children.splice(a,0,e.object),e.object.dispatchEvent({type:"added"}),n.object.dispatchEvent({type:"childadded",child:e.object})}else n.object.add(e.object)}for(const a of e.children)h4(e,a);k_(e)}}function R3(n,e){e&&(e.parent=n,n.children.push(e),h4(n,e))}function i9(n,e,t){if(!e||!t)return;e.parent=n;const i=n.children.indexOf(t);i!==-1?n.children.splice(i,0,e):n.children.push(e),h4(n,e,t)}function XW(n){if(typeof n.dispose=="function"){const e=()=>{try{n.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():J6.unstable_scheduleCallback(J6.unstable_IdlePriority,e)}}function ZP(n,e,t){if(!e)return;e.parent=null;const i=n.children.indexOf(e);i!==-1&&n.children.splice(i,1),e.props.attach?iA(n,e):Jo(e.object)&&Jo(n.object)&&(n.object.remove(e.object),xEe(zW(e),e.object));const r=e.props.dispose!==null&&t!==!1;for(let s=e.children.length-1;s>=0;s--){const a=e.children[s];ZP(e,a,r)}e.children.length=0,delete e.object.__r3f,r&&e.type!=="primitive"&&e.object.type!=="Scene"&&XW(e.object),t===void 0&&k_(e)}function IEe(n,e){for(const t of[n,n.alternate])if(t!==null)if(typeof t.ref=="function"){t.refCleanup==null||t.refCleanup();const i=t.ref(e);typeof i=="function"&&(t.refCleanup=i)}else t.ref&&(t.ref.current=e)}const T2=[];function PEe(){for(const[t]of T2){const i=t.parent;if(i){t.props.attach?iA(i,t):Jo(t.object)&&Jo(i.object)&&i.object.remove(t.object);for(const r of t.children)r.props.attach?iA(t,r):Jo(r.object)&&Jo(t.object)&&t.object.remove(r.object)}t.isHidden&&$W(t),t.object.__r3f&&delete t.object.__r3f,t.type!=="primitive"&&XW(t.object)}for(const[t,i,r]of T2){t.props=i;const s=t.parent;if(s){var n,e;const a=h_[YM(t.type)];t.object=(n=t.props.object)!=null?n:new a(...(e=t.props.args)!=null?e:[]),t.object.__r3f=t,IEe(r,t.object),bp(t.object,t.props),t.props.attach?nA(s,t):Jo(t.object)&&Jo(s.object)&&s.object.add(t.object);for(const o of t.children)o.props.attach?nA(t,o):Jo(o.object)&&Jo(t.object)&&t.object.add(o.object);k_(t)}}T2.length=0}const O3=()=>{},r9={};let Ew=GW;const DEe=0,NEe=4,rA=wEe({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:REe,removeChild:ZP,appendChild:R3,appendInitialChild:R3,insertBefore:i9,appendChildToContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||R3(t,e)},removeChildFromContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||ZP(t,e)},insertInContainerBefore(n,e,t){const i=n.getState().scene.__r3f;!e||!t||!i||i9(i,e,t)},getRootHostContext:()=>r9,getChildHostContext:()=>r9,commitUpdate(n,e,t,i,r){var s,a,o;WW(e,i);let l=!1;if((n.type==="primitive"&&t.object!==i.object||((s=i.args)==null?void 0:s.length)!==((a=t.args)==null?void 0:a.length)||(o=i.args)!=null&&o.some((h,p)=>{var y;return h!==((y=t.args)==null?void 0:y[p])}))&&(l=!0),l)T2.push([n,{...i},r]);else{const h=vEe(n,i);Object.keys(h).length&&(Object.assign(n.props,h),bp(n.object,h))}(r.sibling===null||(r.flags&NEe)===DEe)&&PEe()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:n=>n==null?void 0:n.object,prepareForCommit:()=>null,preparePortalMount:n=>tA(n.getState().scene,n,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:OEe,unhideInstance:$W,createTextInstance:O3,hideTextInstance:O3,unhideTextInstance:O3,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:H.createContext(null),setCurrentUpdatePriority(n){Ew=n},getCurrentUpdatePriority(){return Ew},resolveUpdatePriority(){var n;if(Ew!==GW)return Ew;switch(typeof window<"u"&&((n=window.event)==null?void 0:n.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return E2.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return E2.ContinuousEventPriority;default:return E2.DefaultEventPriority}},resetFormInstance(){},rendererPackageName:"@react-three/fiber",rendererVersion:TEe.version}),ay=new Map,Hv={objects:"shallow",strict:!1};function LEe(n,e){if(!e&&typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:i,top:r,left:s}=n.parentElement.getBoundingClientRect();return{width:t,height:i,top:r,left:s}}else if(!e&&typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...e}}function UEe(n){const e=ay.get(n),t=e==null?void 0:e.fiber,i=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,s=i||EEe(eD,a9),a=t||rA.createContainer(s,E2.ConcurrentRoot,null,!1,null,"",r,r,r,null);e||ay.set(n,{fiber:a,store:s});let o,l,u=!1,h=null;return{async configure(p={}){let y;h=new Promise(Y=>y=Y);let{gl:v,size:_,scene:x,events:E,onCreated:S,shadows:w=!1,linear:C=!1,flat:A=!1,legacy:N=!1,orthographic:L=!1,frameloop:I="always",dpr:D=[1,2],performance:P,raycaster:U,camera:F,onPointerMissed:z}=p,V=s.getState(),K=V.gl;if(!V.gl){const Y={canvas:n,powerPreference:"high-performance",antialias:!0,alpha:!0},le=typeof v=="function"?await v(Y):v;n9(le)?K=le:K=new oq({...Y,...v}),V.set({gl:K})}let J=V.raycaster;J||V.set({raycaster:J=new EM});const{params:q,...W}=U||{};if(Nr.equ(W,J,Hv)||bp(J,{...W}),Nr.equ(q,J.params,Hv)||bp(J,{params:{...J.params,...q}}),!V.camera||V.camera===l&&!Nr.equ(l,F,Hv)){l=F;const Y=F==null?void 0:F.isCamera,le=Y?F:L?new FS(0,0,0,0,.1,1e3):new na(75,0,.1,1e3);Y||(le.position.z=5,F&&(bp(le,F),le.manual||("aspect"in F||"left"in F||"right"in F||"bottom"in F||"top"in F)&&(le.manual=!0,le.updateProjectionMatrix())),!V.camera&&!(F!=null&&F.rotation)&&le.lookAt(0,0,0)),V.set({camera:le}),J.camera=le}if(!V.scene){let Y;x!=null&&x.isScene?(Y=x,tA(Y,s,"",{})):(Y=new nM,tA(Y,s,"",{}),x&&bp(Y,x)),V.set({scene:Y})}E&&!V.events.handlers&&V.set({events:E(s)});const Q=LEe(n,_);if(Nr.equ(Q,V.size,Hv)||V.setSize(Q.width,Q.height,Q.top,Q.left),D&&V.viewport.dpr!==FW(D)&&V.setDpr(D),V.frameloop!==I&&V.setFrameloop(I),V.onPointerMissed||V.set({onPointerMissed:z}),P&&!Nr.equ(P,V.performance,Hv)&&V.set(Y=>({performance:{...Y.performance,...P}})),!V.xr){var re;const Y=(ue,ne)=>{const he=s.getState();he.frameloop!=="never"&&a9(ue,!0,he,ne)},le=()=>{const ue=s.getState();ue.gl.xr.enabled=ue.gl.xr.isPresenting,ue.gl.xr.setAnimationLoop(ue.gl.xr.isPresenting?Y:null),ue.gl.xr.isPresenting||eD(ue)},de={connect(){const ue=s.getState().gl;ue.xr.addEventListener("sessionstart",le),ue.xr.addEventListener("sessionend",le)},disconnect(){const ue=s.getState().gl;ue.xr.removeEventListener("sessionstart",le),ue.xr.removeEventListener("sessionend",le)}};typeof((re=K.xr)==null?void 0:re.addEventListener)=="function"&&de.connect(),V.set({xr:de})}if(K.shadowMap){const Y=K.shadowMap.enabled,le=K.shadowMap.type;if(K.shadowMap.enabled=!!w,Nr.boo(w))K.shadowMap.type=lx;else if(Nr.str(w)){var pe;const de={basic:fj,percentage:HA,soft:lx,variance:hu};K.shadowMap.type=(pe=de[w])!=null?pe:lx}else Nr.obj(w)&&Object.assign(K.shadowMap,w);(Y!==K.shadowMap.enabled||le!==K.shadowMap.type)&&(K.shadowMap.needsUpdate=!0)}return fi.enabled=!N,u||(K.outputColorSpace=C?Xp:Sa,K.toneMapping=A?Rf:HN),V.legacy!==N&&V.set(()=>({legacy:N})),V.linear!==C&&V.set(()=>({linear:C})),V.flat!==A&&V.set(()=>({flat:A})),v&&!Nr.fun(v)&&!n9(v)&&!Nr.equ(v,K,Hv)&&bp(K,v),o=S,u=!0,y(),this},render(p){return!u&&!h&&this.configure(),h.then(()=>{rA.updateContainer(Z.jsx(kEe,{store:s,children:p,onCreated:o,rootElement:n}),a,null,()=>{})}),s},unmount(){YW(n)}}}function kEe({store:n,children:e,onCreated:t,rootElement:i}){return eE(()=>{const r=n.getState();r.set(s=>({internal:{...s.internal,active:!0}})),t&&t(r),n.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),Z.jsx(u4.Provider,{value:n,children:e})}function YW(n,e){const t=ay.get(n),i=t==null?void 0:t.fiber;if(i){const r=t==null?void 0:t.store.getState();r&&(r.internal.active=!1),rA.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var s,a,o,l;r.events.disconnect==null||r.events.disconnect(),(s=r.gl)==null||(a=s.renderLists)==null||a.dispose==null||a.dispose(),(o=r.gl)==null||o.forceContextLoss==null||o.forceContextLoss(),(l=r.gl)!=null&&l.xr&&r.xr.disconnect(),mEe(r.scene),ay.delete(n)}catch{}},500)})}}function zEe(n,e,t){return Z.jsx(BEe,{children:n,container:e,state:t})}function BEe({state:n={},children:e,container:t}){const{events:i,size:r,...s}=n,a=f4(),[o]=H.useState(()=>new EM),[l]=H.useState(()=>new it),u=c4((p,y)=>{let v;if(y.camera&&r){const _=y.camera;v=p.viewport.getCurrentViewport(_,new fe,r),_!==p.camera&&HW(_,r)}return{...p,...y,scene:t,raycaster:o,pointer:l,mouse:l,previousRoot:a,events:{...p.events,...y.events,...i},size:{...p.size,...r},viewport:{...p.viewport,...v},setEvents:_=>y.set(x=>({...x,events:{...x.events,..._}}))}}),h=H.useMemo(()=>{const p=DW((v,_)=>({...s,set:v,get:_})),y=v=>p.setState(_=>u.current(v,_));return y(a.getState()),a.subscribe(y),p},[a,t]);return Z.jsx(Z.Fragment,{children:rA.createPortal(Z.jsx(u4.Provider,{value:h,children:e}),h,null)})}const FEe=new Set,VEe=new Set,HEe=new Set;function I3(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function Tx(n,e){switch(n){case"before":return I3(FEe,e);case"after":return I3(VEe,e);case"tail":return I3(HEe,e)}}let P3,D3;function QP(n,e,t){let i=e.clock.getDelta();e.frameloop==="never"&&typeof n=="number"&&(i=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),P3=e.internal.subscribers;for(let r=0;r<P3.length;r++)D3=P3[r],D3.ref.current(D3.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let sA=!1,JP=!1,N3,s9,jv;function KW(n){s9=requestAnimationFrame(KW),sA=!0,N3=0,Tx("before",n),JP=!0;for(const t of ay.values()){var e;jv=t.store.getState(),jv.internal.active&&(jv.frameloop==="always"||jv.internal.frames>0)&&!((e=jv.gl.xr)!=null&&e.isPresenting)&&(N3+=QP(n,jv))}if(JP=!1,Tx("after",n),N3===0)return Tx("tail",n),sA=!1,cancelAnimationFrame(s9)}function eD(n,e=1){var t;if(!n)return ay.forEach(i=>eD(i.store.getState(),e));(t=n.gl.xr)!=null&&t.isPresenting||!n.internal.active||n.frameloop==="never"||(e>1?n.internal.frames=Math.min(60,n.internal.frames+e):JP?n.internal.frames=2:n.internal.frames=1,sA||(sA=!0,requestAnimationFrame(KW)))}function a9(n,e=!0,t,i){if(e&&Tx("before",n),t)QP(n,t,i);else for(const r of ay.values())QP(n,r.store.getState());e&&Tx("after",n)}const L3={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function jEe(n){const{handlePointer:e}=SEe(n);return{priority:1,enabled:!0,compute(t,i,r){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(L3).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:()=>{var t;const{events:i,internal:r}=n.getState();(t=r.lastEvent)!=null&&t.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{const{set:i,events:r}=n.getState();if(r.disconnect==null||r.disconnect(),i(s=>({events:{...s.events,connected:t}})),r.handlers)for(const s in r.handlers){const a=r.handlers[s],[o,l]=L3[s];t.addEventListener(o,a,{passive:l})}},disconnect:()=>{const{set:t,events:i}=n.getState();if(i.connected){if(i.handlers)for(const r in i.handlers){const s=i.handlers[r],[a]=L3[r];i.connected.removeEventListener(a,s)}t(r=>({events:{...r.events,connected:void 0}}))}}}}function o9(n,e){let t;return(...i)=>{window.clearTimeout(t),t=window.setTimeout(()=>n(...i),e)}}function GEe({debounce:n,scroll:e,polyfill:t,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){const r=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!r)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,a]=H.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),o=H.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),l=n?typeof n=="number"?n:n.scroll:null,u=n?typeof n=="number"?n:n.resize:null,h=H.useRef(!1);H.useEffect(()=>(h.current=!0,()=>void(h.current=!1)));const[p,y,v]=H.useMemo(()=>{const S=()=>{if(!o.current.element)return;const{left:w,top:C,width:A,height:N,bottom:L,right:I,x:D,y:P}=o.current.element.getBoundingClientRect(),U={left:w,top:C,width:A,height:N,bottom:L,right:I,x:D,y:P};o.current.element instanceof HTMLElement&&i&&(U.height=o.current.element.offsetHeight,U.width=o.current.element.offsetWidth),Object.freeze(U),h.current&&!XEe(o.current.lastBounds,U)&&a(o.current.lastBounds=U)};return[S,u?o9(S,u):S,l?o9(S,l):S]},[a,i,l,u]);function _(){o.current.scrollContainers&&(o.current.scrollContainers.forEach(S=>S.removeEventListener("scroll",v,!0)),o.current.scrollContainers=null),o.current.resizeObserver&&(o.current.resizeObserver.disconnect(),o.current.resizeObserver=null),o.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",o.current.orientationHandler))}function x(){o.current.element&&(o.current.resizeObserver=new r(v),o.current.resizeObserver.observe(o.current.element),e&&o.current.scrollContainers&&o.current.scrollContainers.forEach(S=>S.addEventListener("scroll",v,{capture:!0,passive:!0})),o.current.orientationHandler=()=>{v()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",o.current.orientationHandler))}const E=S=>{!S||S===o.current.element||(_(),o.current.element=S,o.current.scrollContainers=ZW(S),x())};return WEe(v,!!e),qEe(y),H.useEffect(()=>{_(),x()},[e,v,y]),H.useEffect(()=>_,[]),[E,s,p]}function qEe(n){H.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function WEe(n,e){H.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function ZW(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:i,overflowY:r}=window.getComputedStyle(n);return[t,i,r].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...ZW(n.parentElement)]}const $Ee=["x","y","top","bottom","left","right","width","height"],XEe=(n,e)=>$Ee.every(t=>n[t]===e[t]);function YEe({ref:n,children:e,fallback:t,resize:i,style:r,gl:s,events:a=jEe,eventSource:o,eventPrefix:l,shadows:u,linear:h,flat:p,legacy:y,orthographic:v,frameloop:_,dpr:x,performance:E,raycaster:S,camera:w,scene:C,onPointerMissed:A,onCreated:N,...L}){H.useMemo(()=>qW(Qde),[]);const I=hEe(),[D,P]=GEe({scroll:!0,debounce:{scroll:50,resize:0},...i}),U=H.useRef(null),F=H.useRef(null);H.useImperativeHandle(n,()=>U.current);const z=c4(A),[V,K]=H.useState(!1),[J,q]=H.useState(!1);if(V)throw V;if(J)throw J;const W=H.useRef(null);eE(()=>{const re=U.current;if(P.width>0&&P.height>0&&re){W.current||(W.current=UEe(re));async function pe(){await W.current.configure({gl:s,scene:C,events:a,shadows:u,linear:h,flat:p,legacy:y,orthographic:v,frameloop:_,dpr:x,performance:E,raycaster:S,camera:w,size:P,onPointerMissed:(...Y)=>z.current==null?void 0:z.current(...Y),onCreated:Y=>{Y.events.connect==null||Y.events.connect(o?uEe(o)?o.current:o:F.current),l&&Y.setEvents({compute:(le,de)=>{const ue=le[l+"X"],ne=le[l+"Y"];de.pointer.set(ue/de.size.width*2-1,-(ne/de.size.height)*2+1),de.raycaster.setFromCamera(de.pointer,de.camera)}}),N==null||N(Y)}}),W.current.render(Z.jsx(I,{children:Z.jsx(pEe,{set:q,children:Z.jsx(H.Suspense,{fallback:Z.jsx(dEe,{set:K}),children:e??null})})}))}pe()}}),H.useEffect(()=>{const re=U.current;if(re)return()=>YW(re)},[]);const Q=o?"none":"auto";return Z.jsx("div",{ref:F,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:Q,...r},...L,children:Z.jsx("div",{ref:D,style:{width:"100%",height:"100%"},children:Z.jsx("canvas",{ref:U,style:{display:"block"},children:t})})})}function KEe(n){return Z.jsx(UW,{children:Z.jsx(YEe,{...n})})}function ZEe(n,e,t){const i=As(v=>v.size),r=As(v=>v.viewport),s=typeof n=="number"?n:i.width*r.dpr,a=i.height*r.dpr,o=(typeof n=="number"?t:n)||{},{samples:l=0,depth:u,...h}=o,p=u??o.depthBuffer,y=H.useMemo(()=>{const v=new xu(s,a,{minFilter:ps,magFilter:ps,type:hy,...h});return p&&(v.depthTexture=new LS(s,a,Po)),v.samples=l,v},[]);return H.useLayoutEffect(()=>{y.setSize(s,a),l&&(y.samples=l)},[l,y,s,a]),H.useEffect(()=>()=>y.dispose(),[]),y}const QEe=n=>typeof n=="function",JEe=H.forwardRef(({envMap:n,resolution:e=256,frames:t=1/0,children:i,makeDefault:r,...s},a)=>{const o=As(({set:E})=>E),l=As(({camera:E})=>E),u=As(({size:E})=>E),h=H.useRef(null);H.useImperativeHandle(a,()=>h.current,[]);const p=H.useRef(null),y=ZEe(e);H.useLayoutEffect(()=>{s.manual||h.current.updateProjectionMatrix()},[u,s]),H.useLayoutEffect(()=>{h.current.updateProjectionMatrix()}),H.useLayoutEffect(()=>{if(r){const E=l;return o(()=>({camera:h.current})),()=>o(()=>({camera:E}))}},[h,r,o]);let v=0,_=null;const x=QEe(i);return tE(E=>{x&&(t===1/0||v<t)&&(p.current.visible=!1,E.gl.setRenderTarget(y),_=E.scene.background,n&&(E.scene.background=n),E.gl.render(E.scene,h.current),E.scene.background=_,E.gl.setRenderTarget(null),p.current.visible=!0,v++)}),H.createElement(H.Fragment,null,H.createElement("orthographicCamera",el({left:u.width/-2,right:u.width/2,top:u.height/2,bottom:u.height/-2,ref:h},s),!x&&i),H.createElement("group",{ref:p},x&&i(y.texture)))});/*!
 * camera-controls
 * https://github.com/yomotsu/camera-controls
 * (c) 2017 @yomotsu
 * Released under the MIT License.
 */const Dr={LEFT:1,RIGHT:2,MIDDLE:4},Fe=Object.freeze({NONE:0,ROTATE:1,TRUCK:2,SCREEN_PAN:4,OFFSET:8,DOLLY:16,ZOOM:32,TOUCH_ROTATE:64,TOUCH_TRUCK:128,TOUCH_SCREEN_PAN:256,TOUCH_OFFSET:512,TOUCH_DOLLY:1024,TOUCH_ZOOM:2048,TOUCH_DOLLY_TRUCK:4096,TOUCH_DOLLY_SCREEN_PAN:8192,TOUCH_DOLLY_OFFSET:16384,TOUCH_DOLLY_ROTATE:32768,TOUCH_ZOOM_TRUCK:65536,TOUCH_ZOOM_OFFSET:131072,TOUCH_ZOOM_SCREEN_PAN:262144,TOUCH_ZOOM_ROTATE:524288}),Gv={NONE:0,IN:1,OUT:-1};function gg(n){return n.isPerspectiveCamera}function hp(n){return n.isOrthographicCamera}const up=Math.PI*2,l9=Math.PI/2,QW=1e-5,S1=Math.PI/180;function uu(n,e,t){return Math.max(e,Math.min(t,n))}function ar(n,e=QW){return Math.abs(n)<e}function Ui(n,e,t=QW){return ar(n-e,t)}function c9(n,e){return Math.round(n/e)*e}function E1(n){return isFinite(n)?n:n<0?-Number.MAX_VALUE:Number.MAX_VALUE}function T1(n){return Math.abs(n)<Number.MAX_VALUE?n:n*(1/0)}function Tw(n,e,t,i,r=1/0,s){i=Math.max(1e-4,i);const a=2/i,o=a*s,l=1/(1+o+.48*o*o+.235*o*o*o);let u=n-e;const h=e,p=r*i;u=uu(u,-p,p),e=n-u;const y=(t.value+a*u)*s;t.value=(t.value-a*y)*l;let v=e+(u+y)*l;return h-n>0==v>h&&(v=h,t.value=(v-h)/s),v}function u9(n,e,t,i,r=1/0,s,a){i=Math.max(1e-4,i);const o=2/i,l=o*s,u=1/(1+l+.48*l*l+.235*l*l*l);let h=e.x,p=e.y,y=e.z,v=n.x-h,_=n.y-p,x=n.z-y;const E=h,S=p,w=y,C=r*i,A=C*C,N=v*v+_*_+x*x;if(N>A){const J=Math.sqrt(N);v=v/J*C,_=_/J*C,x=x/J*C}h=n.x-v,p=n.y-_,y=n.z-x;const L=(t.x+o*v)*s,I=(t.y+o*_)*s,D=(t.z+o*x)*s;t.x=(t.x-o*L)*u,t.y=(t.y-o*I)*u,t.z=(t.z-o*D)*u,a.x=h+(v+L)*u,a.y=p+(_+I)*u,a.z=y+(x+D)*u;const P=E-n.x,U=S-n.y,F=w-n.z,z=a.x-E,V=a.y-S,K=a.z-w;return P*z+U*V+F*K>0&&(a.x=E,a.y=S,a.z=w,t.x=(a.x-E)/s,t.y=(a.y-S)/s,t.z=(a.z-w)/s),a}function U3(n,e){e.set(0,0),n.forEach(t=>{e.x+=t.clientX,e.y+=t.clientY}),e.x/=n.length,e.y/=n.length}function k3(n,e){return hp(n)?(console.warn(`${e} is not supported in OrthographicCamera`),!0):!1}class eTe{constructor(){Ct(this,"_listeners",{})}addEventListener(e,t){const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}removeAllEventListeners(e){if(!e){this._listeners={};return}Array.isArray(this._listeners[e])&&(this._listeners[e].length=0)}dispatchEvent(e){const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,a=r.length;s<a;s++)r[s].call(this,e)}}}const tTe="3.1.2",ww=1/8;var JF;const nTe=/Mac/.test((JF=globalThis==null?void 0:globalThis.navigator)==null?void 0:JF.platform);let xn,f9,Cw,z3,Yo,jn,Mi,qv,w1,lf,cf,yg,h9,d9,Ml,Wv,$v,p9,B3,m9,F3,V3,Aw,iTe=class tD extends eTe{constructor(t,i){super();Ct(this,"minPolarAngle",0);Ct(this,"maxPolarAngle",Math.PI);Ct(this,"minAzimuthAngle",-1/0);Ct(this,"maxAzimuthAngle",1/0);Ct(this,"minDistance",Number.EPSILON);Ct(this,"maxDistance",1/0);Ct(this,"infinityDolly",!1);Ct(this,"minZoom",.01);Ct(this,"maxZoom",1/0);Ct(this,"smoothTime",.25);Ct(this,"draggingSmoothTime",.125);Ct(this,"maxSpeed",1/0);Ct(this,"azimuthRotateSpeed",1);Ct(this,"polarRotateSpeed",1);Ct(this,"dollySpeed",1);Ct(this,"dollyDragInverted",!1);Ct(this,"truckSpeed",2);Ct(this,"dollyToCursor",!1);Ct(this,"dragToOffset",!1);Ct(this,"boundaryFriction",0);Ct(this,"restThreshold",.01);Ct(this,"colliderMeshes",[]);Ct(this,"mouseButtons");Ct(this,"touches");Ct(this,"cancel",()=>{});Ct(this,"lockPointer");Ct(this,"unlockPointer");Ct(this,"_enabled",!0);Ct(this,"_camera");Ct(this,"_yAxisUpSpace");Ct(this,"_yAxisUpSpaceInverse");Ct(this,"_state",Fe.NONE);Ct(this,"_domElement");Ct(this,"_viewport",null);Ct(this,"_target");Ct(this,"_targetEnd");Ct(this,"_focalOffset");Ct(this,"_focalOffsetEnd");Ct(this,"_spherical");Ct(this,"_sphericalEnd");Ct(this,"_lastDistance");Ct(this,"_zoom");Ct(this,"_zoomEnd");Ct(this,"_lastZoom");Ct(this,"_cameraUp0");Ct(this,"_target0");Ct(this,"_position0");Ct(this,"_zoom0");Ct(this,"_focalOffset0");Ct(this,"_dollyControlCoord");Ct(this,"_changedDolly",0);Ct(this,"_changedZoom",0);Ct(this,"_nearPlaneCorners");Ct(this,"_hasRested",!0);Ct(this,"_boundary");Ct(this,"_boundaryEnclosesCamera",!1);Ct(this,"_needsUpdate",!0);Ct(this,"_updatedLastTime",!1);Ct(this,"_elementRect",new DOMRect);Ct(this,"_isDragging",!1);Ct(this,"_dragNeedsUpdate",!0);Ct(this,"_activePointers",[]);Ct(this,"_lockedPointer",null);Ct(this,"_interactiveArea",new DOMRect(0,0,1,1));Ct(this,"_isUserControllingRotate",!1);Ct(this,"_isUserControllingDolly",!1);Ct(this,"_isUserControllingTruck",!1);Ct(this,"_isUserControllingOffset",!1);Ct(this,"_isUserControllingZoom",!1);Ct(this,"_lastDollyDirection",Gv.NONE);Ct(this,"_thetaVelocity",{value:0});Ct(this,"_phiVelocity",{value:0});Ct(this,"_radiusVelocity",{value:0});Ct(this,"_targetVelocity",new xn.Vector3);Ct(this,"_focalOffsetVelocity",new xn.Vector3);Ct(this,"_zoomVelocity",{value:0});Ct(this,"_truckInternal",(t,i,r,s)=>{let a,o;if(gg(this._camera)){const l=jn.copy(this._camera.position).sub(this._target),u=this._camera.getEffectiveFOV()*S1,h=l.length()*Math.tan(u*.5);a=this.truckSpeed*t*h/this._elementRect.height,o=this.truckSpeed*i*h/this._elementRect.height}else if(hp(this._camera)){const l=this._camera;a=this.truckSpeed*t*(l.right-l.left)/l.zoom/this._elementRect.width,o=this.truckSpeed*i*(l.top-l.bottom)/l.zoom/this._elementRect.height}else return;s?(r?this.setFocalOffset(this._focalOffsetEnd.x+a,this._focalOffsetEnd.y,this._focalOffsetEnd.z,!0):this.truck(a,0,!0),this.forward(-o,!0)):r?this.setFocalOffset(this._focalOffsetEnd.x+a,this._focalOffsetEnd.y+o,this._focalOffsetEnd.z,!0):this.truck(a,o,!0)});Ct(this,"_rotateInternal",(t,i)=>{const r=up*this.azimuthRotateSpeed*t/this._elementRect.height,s=up*this.polarRotateSpeed*i/this._elementRect.height;this.rotate(r,s,!0)});Ct(this,"_dollyInternal",(t,i,r)=>{const s=Math.pow(.95,-t*this.dollySpeed),a=this._sphericalEnd.radius,o=this._sphericalEnd.radius*s,l=uu(o,this.minDistance,this.maxDistance),u=l-o;this.infinityDolly&&this.dollyToCursor?this._dollyToNoClamp(o,!0):this.infinityDolly&&!this.dollyToCursor?(this.dollyInFixed(u,!0),this._dollyToNoClamp(l,!0)):this._dollyToNoClamp(l,!0),this.dollyToCursor&&(this._changedDolly+=(this.infinityDolly?o:l)-a,this._dollyControlCoord.set(i,r)),this._lastDollyDirection=Math.sign(-t)});Ct(this,"_zoomInternal",(t,i,r)=>{const s=Math.pow(.95,t*this.dollySpeed),a=this._zoom,o=this._zoom*s;this.zoomTo(o,!0),this.dollyToCursor&&(this._changedZoom+=o-a,this._dollyControlCoord.set(i,r))});typeof xn>"u"&&console.error("camera-controls: `THREE` is undefined. You must first run `CameraControls.install( { THREE: THREE } )`. Check the docs for further information."),this._camera=t,this._yAxisUpSpace=new xn.Quaternion().setFromUnitVectors(this._camera.up,Cw),this._yAxisUpSpaceInverse=this._yAxisUpSpace.clone().invert(),this._state=Fe.NONE,this._target=new xn.Vector3,this._targetEnd=this._target.clone(),this._focalOffset=new xn.Vector3,this._focalOffsetEnd=this._focalOffset.clone(),this._spherical=new xn.Spherical().setFromVector3(jn.copy(this._camera.position).applyQuaternion(this._yAxisUpSpace)),this._sphericalEnd=this._spherical.clone(),this._lastDistance=this._spherical.radius,this._zoom=this._camera.zoom,this._zoomEnd=this._zoom,this._lastZoom=this._zoom,this._nearPlaneCorners=[new xn.Vector3,new xn.Vector3,new xn.Vector3,new xn.Vector3],this._updateNearPlaneCorners(),this._boundary=new xn.Box3(new xn.Vector3(-1/0,-1/0,-1/0),new xn.Vector3(1/0,1/0,1/0)),this._cameraUp0=this._camera.up.clone(),this._target0=this._target.clone(),this._position0=this._camera.position.clone(),this._zoom0=this._zoom,this._focalOffset0=this._focalOffset.clone(),this._dollyControlCoord=new xn.Vector2,this.mouseButtons={left:Fe.ROTATE,middle:Fe.DOLLY,right:Fe.TRUCK,wheel:gg(this._camera)?Fe.DOLLY:hp(this._camera)?Fe.ZOOM:Fe.NONE},this.touches={one:Fe.TOUCH_ROTATE,two:gg(this._camera)?Fe.TOUCH_DOLLY_TRUCK:hp(this._camera)?Fe.TOUCH_ZOOM_TRUCK:Fe.NONE,three:Fe.TOUCH_TRUCK};const r=new xn.Vector2,s=new xn.Vector2,a=new xn.Vector2,o=w=>{if(!this._enabled||!this._domElement)return;if(this._interactiveArea.left!==0||this._interactiveArea.top!==0||this._interactiveArea.width!==1||this._interactiveArea.height!==1){const N=this._domElement.getBoundingClientRect(),L=w.clientX/N.width,I=w.clientY/N.height;if(L<this._interactiveArea.left||L>this._interactiveArea.right||I<this._interactiveArea.top||I>this._interactiveArea.bottom)return}const C=w.pointerType!=="mouse"?null:(w.buttons&Dr.LEFT)===Dr.LEFT?Dr.LEFT:(w.buttons&Dr.MIDDLE)===Dr.MIDDLE?Dr.MIDDLE:(w.buttons&Dr.RIGHT)===Dr.RIGHT?Dr.RIGHT:null;if(C!==null){const N=this._findPointerByMouseButton(C);N&&this._disposePointer(N)}if((w.buttons&Dr.LEFT)===Dr.LEFT&&this._lockedPointer)return;const A={pointerId:w.pointerId,clientX:w.clientX,clientY:w.clientY,deltaX:0,deltaY:0,mouseButton:C};this._activePointers.push(A),this._domElement.ownerDocument.removeEventListener("pointermove",l,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",u),this._domElement.ownerDocument.addEventListener("pointermove",l,{passive:!1}),this._domElement.ownerDocument.addEventListener("pointerup",u),this._isDragging=!0,v(w)},l=w=>{w.cancelable&&w.preventDefault();const C=w.pointerId,A=this._lockedPointer||this._findPointerById(C);if(A){if(A.clientX=w.clientX,A.clientY=w.clientY,A.deltaX=w.movementX,A.deltaY=w.movementY,this._state=0,w.pointerType==="touch")switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else(!this._isDragging&&this._lockedPointer||this._isDragging&&(w.buttons&Dr.LEFT)===Dr.LEFT)&&(this._state=this._state|this.mouseButtons.left),this._isDragging&&(w.buttons&Dr.MIDDLE)===Dr.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),this._isDragging&&(w.buttons&Dr.RIGHT)===Dr.RIGHT&&(this._state=this._state|this.mouseButtons.right);_()}},u=w=>{const C=this._findPointerById(w.pointerId);if(!(C&&C===this._lockedPointer)){if(C&&this._disposePointer(C),w.pointerType==="touch")switch(this._activePointers.length){case 0:this._state=Fe.NONE;break;case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else this._state=Fe.NONE;x()}};let h=-1;const p=w=>{if(!this._domElement||!this._enabled||this.mouseButtons.wheel===Fe.NONE)return;if(this._interactiveArea.left!==0||this._interactiveArea.top!==0||this._interactiveArea.width!==1||this._interactiveArea.height!==1){const D=this._domElement.getBoundingClientRect(),P=w.clientX/D.width,U=w.clientY/D.height;if(P<this._interactiveArea.left||P>this._interactiveArea.right||U<this._interactiveArea.top||U>this._interactiveArea.bottom)return}if(w.preventDefault(),this.dollyToCursor||this.mouseButtons.wheel===Fe.ROTATE||this.mouseButtons.wheel===Fe.TRUCK){const D=performance.now();h-D<1e3&&this._getClientRect(this._elementRect),h=D}const C=nTe?-1:-3,A=w.deltaMode===1&&!w.ctrlKey?w.deltaY/C:w.deltaY/(C*10),N=this.dollyToCursor?(w.clientX-this._elementRect.x)/this._elementRect.width*2-1:0,L=this.dollyToCursor?(w.clientY-this._elementRect.y)/this._elementRect.height*-2+1:0;switch(w.ctrlKey?Fe.ZOOM:this.mouseButtons.wheel){case Fe.ROTATE:{this._rotateInternal(w.deltaX,w.deltaY),this._isUserControllingRotate=!0;break}case Fe.TRUCK:{this._truckInternal(w.deltaX,w.deltaY,!1,!1),this._isUserControllingTruck=!0;break}case Fe.SCREEN_PAN:{this._truckInternal(w.deltaX,w.deltaY,!1,!0),this._isUserControllingTruck=!0;break}case Fe.OFFSET:{this._truckInternal(w.deltaX,w.deltaY,!0,!1),this._isUserControllingOffset=!0;break}case Fe.DOLLY:{this._dollyInternal(-A,N,L),this._isUserControllingDolly=!0;break}case Fe.ZOOM:{this._zoomInternal(-A,N,L),this._isUserControllingZoom=!0;break}}this.dispatchEvent({type:"control"})},y=w=>{if(!(!this._domElement||!this._enabled)){if(this.mouseButtons.right===tD.ACTION.NONE){const C=w instanceof PointerEvent?w.pointerId:0,A=this._findPointerById(C);A&&this._disposePointer(A),this._domElement.ownerDocument.removeEventListener("pointermove",l,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",u);return}w.preventDefault()}},v=w=>{if(!this._enabled)return;if(U3(this._activePointers,Yo),this._getClientRect(this._elementRect),r.copy(Yo),s.copy(Yo),this._activePointers.length>=2){const A=Yo.x-this._activePointers[1].clientX,N=Yo.y-this._activePointers[1].clientY,L=Math.sqrt(A*A+N*N);a.set(0,L);const I=(this._activePointers[0].clientX+this._activePointers[1].clientX)*.5,D=(this._activePointers[0].clientY+this._activePointers[1].clientY)*.5;s.set(I,D)}if(this._state=0,!w)this._lockedPointer&&(this._state=this._state|this.mouseButtons.left);else if("pointerType"in w&&w.pointerType==="touch")switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three;break}else!this._lockedPointer&&(w.buttons&Dr.LEFT)===Dr.LEFT&&(this._state=this._state|this.mouseButtons.left),(w.buttons&Dr.MIDDLE)===Dr.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),(w.buttons&Dr.RIGHT)===Dr.RIGHT&&(this._state=this._state|this.mouseButtons.right);((this._state&Fe.ROTATE)===Fe.ROTATE||(this._state&Fe.TOUCH_ROTATE)===Fe.TOUCH_ROTATE||(this._state&Fe.TOUCH_DOLLY_ROTATE)===Fe.TOUCH_DOLLY_ROTATE||(this._state&Fe.TOUCH_ZOOM_ROTATE)===Fe.TOUCH_ZOOM_ROTATE)&&(this._sphericalEnd.theta=this._spherical.theta,this._sphericalEnd.phi=this._spherical.phi,this._thetaVelocity.value=0,this._phiVelocity.value=0),((this._state&Fe.TRUCK)===Fe.TRUCK||(this._state&Fe.SCREEN_PAN)===Fe.SCREEN_PAN||(this._state&Fe.TOUCH_TRUCK)===Fe.TOUCH_TRUCK||(this._state&Fe.TOUCH_SCREEN_PAN)===Fe.TOUCH_SCREEN_PAN||(this._state&Fe.TOUCH_DOLLY_TRUCK)===Fe.TOUCH_DOLLY_TRUCK||(this._state&Fe.TOUCH_DOLLY_SCREEN_PAN)===Fe.TOUCH_DOLLY_SCREEN_PAN||(this._state&Fe.TOUCH_ZOOM_TRUCK)===Fe.TOUCH_ZOOM_TRUCK||(this._state&Fe.TOUCH_ZOOM_SCREEN_PAN)===Fe.TOUCH_DOLLY_SCREEN_PAN)&&(this._targetEnd.copy(this._target),this._targetVelocity.set(0,0,0)),((this._state&Fe.DOLLY)===Fe.DOLLY||(this._state&Fe.TOUCH_DOLLY)===Fe.TOUCH_DOLLY||(this._state&Fe.TOUCH_DOLLY_TRUCK)===Fe.TOUCH_DOLLY_TRUCK||(this._state&Fe.TOUCH_DOLLY_SCREEN_PAN)===Fe.TOUCH_DOLLY_SCREEN_PAN||(this._state&Fe.TOUCH_DOLLY_OFFSET)===Fe.TOUCH_DOLLY_OFFSET||(this._state&Fe.TOUCH_DOLLY_ROTATE)===Fe.TOUCH_DOLLY_ROTATE)&&(this._sphericalEnd.radius=this._spherical.radius,this._radiusVelocity.value=0),((this._state&Fe.ZOOM)===Fe.ZOOM||(this._state&Fe.TOUCH_ZOOM)===Fe.TOUCH_ZOOM||(this._state&Fe.TOUCH_ZOOM_TRUCK)===Fe.TOUCH_ZOOM_TRUCK||(this._state&Fe.TOUCH_ZOOM_SCREEN_PAN)===Fe.TOUCH_ZOOM_SCREEN_PAN||(this._state&Fe.TOUCH_ZOOM_OFFSET)===Fe.TOUCH_ZOOM_OFFSET||(this._state&Fe.TOUCH_ZOOM_ROTATE)===Fe.TOUCH_ZOOM_ROTATE)&&(this._zoomEnd=this._zoom,this._zoomVelocity.value=0),((this._state&Fe.OFFSET)===Fe.OFFSET||(this._state&Fe.TOUCH_OFFSET)===Fe.TOUCH_OFFSET||(this._state&Fe.TOUCH_DOLLY_OFFSET)===Fe.TOUCH_DOLLY_OFFSET||(this._state&Fe.TOUCH_ZOOM_OFFSET)===Fe.TOUCH_ZOOM_OFFSET)&&(this._focalOffsetEnd.copy(this._focalOffset),this._focalOffsetVelocity.set(0,0,0)),this.dispatchEvent({type:"controlstart"})},_=()=>{if(!this._enabled||!this._dragNeedsUpdate)return;this._dragNeedsUpdate=!1,U3(this._activePointers,Yo);const C=this._domElement&&this._domElement.ownerDocument.pointerLockElement===this._domElement?this._lockedPointer||this._activePointers[0]:null,A=C?-C.deltaX:s.x-Yo.x,N=C?-C.deltaY:s.y-Yo.y;if(s.copy(Yo),((this._state&Fe.ROTATE)===Fe.ROTATE||(this._state&Fe.TOUCH_ROTATE)===Fe.TOUCH_ROTATE||(this._state&Fe.TOUCH_DOLLY_ROTATE)===Fe.TOUCH_DOLLY_ROTATE||(this._state&Fe.TOUCH_ZOOM_ROTATE)===Fe.TOUCH_ZOOM_ROTATE)&&(this._rotateInternal(A,N),this._isUserControllingRotate=!0),(this._state&Fe.DOLLY)===Fe.DOLLY||(this._state&Fe.ZOOM)===Fe.ZOOM){const L=this.dollyToCursor?(r.x-this._elementRect.x)/this._elementRect.width*2-1:0,I=this.dollyToCursor?(r.y-this._elementRect.y)/this._elementRect.height*-2+1:0,D=this.dollyDragInverted?-1:1;(this._state&Fe.DOLLY)===Fe.DOLLY?(this._dollyInternal(D*N*ww,L,I),this._isUserControllingDolly=!0):(this._zoomInternal(D*N*ww,L,I),this._isUserControllingZoom=!0)}if((this._state&Fe.TOUCH_DOLLY)===Fe.TOUCH_DOLLY||(this._state&Fe.TOUCH_ZOOM)===Fe.TOUCH_ZOOM||(this._state&Fe.TOUCH_DOLLY_TRUCK)===Fe.TOUCH_DOLLY_TRUCK||(this._state&Fe.TOUCH_ZOOM_TRUCK)===Fe.TOUCH_ZOOM_TRUCK||(this._state&Fe.TOUCH_DOLLY_SCREEN_PAN)===Fe.TOUCH_DOLLY_SCREEN_PAN||(this._state&Fe.TOUCH_ZOOM_SCREEN_PAN)===Fe.TOUCH_ZOOM_SCREEN_PAN||(this._state&Fe.TOUCH_DOLLY_OFFSET)===Fe.TOUCH_DOLLY_OFFSET||(this._state&Fe.TOUCH_ZOOM_OFFSET)===Fe.TOUCH_ZOOM_OFFSET||(this._state&Fe.TOUCH_DOLLY_ROTATE)===Fe.TOUCH_DOLLY_ROTATE||(this._state&Fe.TOUCH_ZOOM_ROTATE)===Fe.TOUCH_ZOOM_ROTATE){const L=Yo.x-this._activePointers[1].clientX,I=Yo.y-this._activePointers[1].clientY,D=Math.sqrt(L*L+I*I),P=a.y-D;a.set(0,D);const U=this.dollyToCursor?(s.x-this._elementRect.x)/this._elementRect.width*2-1:0,F=this.dollyToCursor?(s.y-this._elementRect.y)/this._elementRect.height*-2+1:0;(this._state&Fe.TOUCH_DOLLY)===Fe.TOUCH_DOLLY||(this._state&Fe.TOUCH_DOLLY_ROTATE)===Fe.TOUCH_DOLLY_ROTATE||(this._state&Fe.TOUCH_DOLLY_TRUCK)===Fe.TOUCH_DOLLY_TRUCK||(this._state&Fe.TOUCH_DOLLY_SCREEN_PAN)===Fe.TOUCH_DOLLY_SCREEN_PAN||(this._state&Fe.TOUCH_DOLLY_OFFSET)===Fe.TOUCH_DOLLY_OFFSET?(this._dollyInternal(P*ww,U,F),this._isUserControllingDolly=!0):(this._zoomInternal(P*ww,U,F),this._isUserControllingZoom=!0)}((this._state&Fe.TRUCK)===Fe.TRUCK||(this._state&Fe.TOUCH_TRUCK)===Fe.TOUCH_TRUCK||(this._state&Fe.TOUCH_DOLLY_TRUCK)===Fe.TOUCH_DOLLY_TRUCK||(this._state&Fe.TOUCH_ZOOM_TRUCK)===Fe.TOUCH_ZOOM_TRUCK)&&(this._truckInternal(A,N,!1,!1),this._isUserControllingTruck=!0),((this._state&Fe.SCREEN_PAN)===Fe.SCREEN_PAN||(this._state&Fe.TOUCH_SCREEN_PAN)===Fe.TOUCH_SCREEN_PAN||(this._state&Fe.TOUCH_DOLLY_SCREEN_PAN)===Fe.TOUCH_DOLLY_SCREEN_PAN||(this._state&Fe.TOUCH_ZOOM_SCREEN_PAN)===Fe.TOUCH_ZOOM_SCREEN_PAN)&&(this._truckInternal(A,N,!1,!0),this._isUserControllingTruck=!0),((this._state&Fe.OFFSET)===Fe.OFFSET||(this._state&Fe.TOUCH_OFFSET)===Fe.TOUCH_OFFSET||(this._state&Fe.TOUCH_DOLLY_OFFSET)===Fe.TOUCH_DOLLY_OFFSET||(this._state&Fe.TOUCH_ZOOM_OFFSET)===Fe.TOUCH_ZOOM_OFFSET)&&(this._truckInternal(A,N,!0,!1),this._isUserControllingOffset=!0),this.dispatchEvent({type:"control"})},x=()=>{U3(this._activePointers,Yo),s.copy(Yo),this._dragNeedsUpdate=!1,(this._activePointers.length===0||this._activePointers.length===1&&this._activePointers[0]===this._lockedPointer)&&(this._isDragging=!1),this._activePointers.length===0&&this._domElement&&(this._domElement.ownerDocument.removeEventListener("pointermove",l,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",u),this.dispatchEvent({type:"controlend"}))};this.lockPointer=()=>{!this._enabled||!this._domElement||(this.cancel(),this._lockedPointer={pointerId:-1,clientX:0,clientY:0,deltaX:0,deltaY:0,mouseButton:null},this._activePointers.push(this._lockedPointer),this._domElement.ownerDocument.removeEventListener("pointermove",l,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",u),this._domElement.requestPointerLock(),this._domElement.ownerDocument.addEventListener("pointerlockchange",E),this._domElement.ownerDocument.addEventListener("pointerlockerror",S),this._domElement.ownerDocument.addEventListener("pointermove",l,{passive:!1}),this._domElement.ownerDocument.addEventListener("pointerup",u),v())},this.unlockPointer=()=>{var w,C,A;this._lockedPointer!==null&&(this._disposePointer(this._lockedPointer),this._lockedPointer=null),(w=this._domElement)==null||w.ownerDocument.exitPointerLock(),(C=this._domElement)==null||C.ownerDocument.removeEventListener("pointerlockchange",E),(A=this._domElement)==null||A.ownerDocument.removeEventListener("pointerlockerror",S),this.cancel()};const E=()=>{this._domElement&&this._domElement.ownerDocument.pointerLockElement===this._domElement||this.unlockPointer()},S=()=>{this.unlockPointer()};this._addAllEventListeners=w=>{this._domElement=w,this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none",this._domElement.addEventListener("pointerdown",o),this._domElement.addEventListener("pointercancel",u),this._domElement.addEventListener("wheel",p,{passive:!1}),this._domElement.addEventListener("contextmenu",y)},this._removeAllEventListeners=()=>{this._domElement&&(this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect="",this._domElement.removeEventListener("pointerdown",o),this._domElement.removeEventListener("pointercancel",u),this._domElement.removeEventListener("wheel",p,{passive:!1}),this._domElement.removeEventListener("contextmenu",y),this._domElement.ownerDocument.removeEventListener("pointermove",l,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",u),this._domElement.ownerDocument.removeEventListener("pointerlockchange",E),this._domElement.ownerDocument.removeEventListener("pointerlockerror",S))},this.cancel=()=>{this._state!==Fe.NONE&&(this._state=Fe.NONE,this._activePointers.length=0,x())},i&&this.connect(i),this.update(0)}static install(t){xn=t.THREE,f9=Object.freeze(new xn.Vector3(0,0,0)),Cw=Object.freeze(new xn.Vector3(0,1,0)),z3=Object.freeze(new xn.Vector3(0,0,1)),Yo=new xn.Vector2,jn=new xn.Vector3,Mi=new xn.Vector3,qv=new xn.Vector3,w1=new xn.Vector3,lf=new xn.Vector3,cf=new xn.Vector3,yg=new xn.Vector3,h9=new xn.Vector3,d9=new xn.Vector3,Ml=new xn.Spherical,Wv=new xn.Spherical,$v=new xn.Box3,p9=new xn.Box3,B3=new xn.Sphere,m9=new xn.Quaternion,F3=new xn.Quaternion,V3=new xn.Matrix4,Aw=new xn.Raycaster}static get ACTION(){return Fe}set verticalDragToForward(t){console.warn("camera-controls: `verticalDragToForward` was removed. Use `mouseButtons.left = CameraControls.ACTION.SCREEN_PAN` instead.")}get camera(){return this._camera}set camera(t){this._camera=t,this.updateCameraUp(),this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._domElement&&(t?(this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none"):(this.cancel(),this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect=""))}get active(){return!this._hasRested}get currentAction(){return this._state}get distance(){return this._spherical.radius}set distance(t){this._spherical.radius===t&&this._sphericalEnd.radius===t||(this._spherical.radius=t,this._sphericalEnd.radius=t,this._needsUpdate=!0)}get azimuthAngle(){return this._spherical.theta}set azimuthAngle(t){this._spherical.theta===t&&this._sphericalEnd.theta===t||(this._spherical.theta=t,this._sphericalEnd.theta=t,this._needsUpdate=!0)}get polarAngle(){return this._spherical.phi}set polarAngle(t){this._spherical.phi===t&&this._sphericalEnd.phi===t||(this._spherical.phi=t,this._sphericalEnd.phi=t,this._needsUpdate=!0)}get boundaryEnclosesCamera(){return this._boundaryEnclosesCamera}set boundaryEnclosesCamera(t){this._boundaryEnclosesCamera=t,this._needsUpdate=!0}set interactiveArea(t){this._interactiveArea.width=uu(t.width,0,1),this._interactiveArea.height=uu(t.height,0,1),this._interactiveArea.x=uu(t.x,0,1-this._interactiveArea.width),this._interactiveArea.y=uu(t.y,0,1-this._interactiveArea.height)}addEventListener(t,i){super.addEventListener(t,i)}removeEventListener(t,i){super.removeEventListener(t,i)}rotate(t,i,r=!1){return this.rotateTo(this._sphericalEnd.theta+t,this._sphericalEnd.phi+i,r)}rotateAzimuthTo(t,i=!1){return this.rotateTo(t,this._sphericalEnd.phi,i)}rotatePolarTo(t,i=!1){return this.rotateTo(this._sphericalEnd.theta,t,i)}rotateTo(t,i,r=!1){this._isUserControllingRotate=!1;const s=uu(t,this.minAzimuthAngle,this.maxAzimuthAngle),a=uu(i,this.minPolarAngle,this.maxPolarAngle);this._sphericalEnd.theta=s,this._sphericalEnd.phi=a,this._sphericalEnd.makeSafe(),this._needsUpdate=!0,r||(this._spherical.theta=this._sphericalEnd.theta,this._spherical.phi=this._sphericalEnd.phi);const o=!r||Ui(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&Ui(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold);return this._createOnRestPromise(o)}dolly(t,i=!1){return this.dollyTo(this._sphericalEnd.radius-t,i)}dollyTo(t,i=!1){return this._isUserControllingDolly=!1,this._lastDollyDirection=Gv.NONE,this._changedDolly=0,this._dollyToNoClamp(uu(t,this.minDistance,this.maxDistance),i)}_dollyToNoClamp(t,i=!1){const r=this._sphericalEnd.radius;if(this.colliderMeshes.length>=1){const o=this._collisionTest(),l=Ui(o,this._spherical.radius);if(!(r>t)&&l)return Promise.resolve();this._sphericalEnd.radius=Math.min(t,o)}else this._sphericalEnd.radius=t;this._needsUpdate=!0,i||(this._spherical.radius=this._sphericalEnd.radius);const a=!i||Ui(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(a)}dollyInFixed(t,i=!1){this._targetEnd.add(this._getCameraDirection(w1).multiplyScalar(t)),i||this._target.copy(this._targetEnd);const r=!i||Ui(this._target.x,this._targetEnd.x,this.restThreshold)&&Ui(this._target.y,this._targetEnd.y,this.restThreshold)&&Ui(this._target.z,this._targetEnd.z,this.restThreshold);return this._createOnRestPromise(r)}zoom(t,i=!1){return this.zoomTo(this._zoomEnd+t,i)}zoomTo(t,i=!1){this._isUserControllingZoom=!1,this._zoomEnd=uu(t,this.minZoom,this.maxZoom),this._needsUpdate=!0,i||(this._zoom=this._zoomEnd);const r=!i||Ui(this._zoom,this._zoomEnd,this.restThreshold);return this._changedZoom=0,this._createOnRestPromise(r)}pan(t,i,r=!1){return console.warn("`pan` has been renamed to `truck`"),this.truck(t,i,r)}truck(t,i,r=!1){this._camera.updateMatrix(),lf.setFromMatrixColumn(this._camera.matrix,0),cf.setFromMatrixColumn(this._camera.matrix,1),lf.multiplyScalar(t),cf.multiplyScalar(-i);const s=jn.copy(lf).add(cf),a=Mi.copy(this._targetEnd).add(s);return this.moveTo(a.x,a.y,a.z,r)}forward(t,i=!1){jn.setFromMatrixColumn(this._camera.matrix,0),jn.crossVectors(this._camera.up,jn),jn.multiplyScalar(t);const r=Mi.copy(this._targetEnd).add(jn);return this.moveTo(r.x,r.y,r.z,i)}elevate(t,i=!1){return jn.copy(this._camera.up).multiplyScalar(t),this.moveTo(this._targetEnd.x+jn.x,this._targetEnd.y+jn.y,this._targetEnd.z+jn.z,i)}moveTo(t,i,r,s=!1){this._isUserControllingTruck=!1;const a=jn.set(t,i,r).sub(this._targetEnd);this._encloseToBoundary(this._targetEnd,a,this.boundaryFriction),this._needsUpdate=!0,s||this._target.copy(this._targetEnd);const o=!s||Ui(this._target.x,this._targetEnd.x,this.restThreshold)&&Ui(this._target.y,this._targetEnd.y,this.restThreshold)&&Ui(this._target.z,this._targetEnd.z,this.restThreshold);return this._createOnRestPromise(o)}lookInDirectionOf(t,i,r,s=!1){const l=jn.set(t,i,r).sub(this._targetEnd).normalize().multiplyScalar(-this._sphericalEnd.radius).add(this._targetEnd);return this.setPosition(l.x,l.y,l.z,s)}fitToBox(t,i,{cover:r=!1,paddingLeft:s=0,paddingRight:a=0,paddingBottom:o=0,paddingTop:l=0}={}){const u=[],h=t.isBox3?$v.copy(t):$v.setFromObject(t);h.isEmpty()&&(console.warn("camera-controls: fitTo() cannot be used with an empty box. Aborting"),Promise.resolve());const p=c9(this._sphericalEnd.theta,l9),y=c9(this._sphericalEnd.phi,l9);u.push(this.rotateTo(p,y,i));const v=jn.setFromSpherical(this._sphericalEnd).normalize(),_=m9.setFromUnitVectors(v,z3),x=Ui(Math.abs(v.y),1);x&&_.multiply(F3.setFromAxisAngle(Cw,p)),_.multiply(this._yAxisUpSpaceInverse);const E=p9.makeEmpty();Mi.copy(h.min).applyQuaternion(_),E.expandByPoint(Mi),Mi.copy(h.min).setX(h.max.x).applyQuaternion(_),E.expandByPoint(Mi),Mi.copy(h.min).setY(h.max.y).applyQuaternion(_),E.expandByPoint(Mi),Mi.copy(h.max).setZ(h.min.z).applyQuaternion(_),E.expandByPoint(Mi),Mi.copy(h.min).setZ(h.max.z).applyQuaternion(_),E.expandByPoint(Mi),Mi.copy(h.max).setY(h.min.y).applyQuaternion(_),E.expandByPoint(Mi),Mi.copy(h.max).setX(h.min.x).applyQuaternion(_),E.expandByPoint(Mi),Mi.copy(h.max).applyQuaternion(_),E.expandByPoint(Mi),E.min.x-=s,E.min.y-=o,E.max.x+=a,E.max.y+=l,_.setFromUnitVectors(z3,v),x&&_.premultiply(F3.invert()),_.premultiply(this._yAxisUpSpace);const S=E.getSize(jn),w=E.getCenter(Mi).applyQuaternion(_);if(gg(this._camera)){const C=this.getDistanceToFitBox(S.x,S.y,S.z,r);u.push(this.moveTo(w.x,w.y,w.z,i)),u.push(this.dollyTo(C,i)),u.push(this.setFocalOffset(0,0,0,i))}else if(hp(this._camera)){const C=this._camera,A=C.right-C.left,N=C.top-C.bottom,L=r?Math.max(A/S.x,N/S.y):Math.min(A/S.x,N/S.y);u.push(this.moveTo(w.x,w.y,w.z,i)),u.push(this.zoomTo(L,i)),u.push(this.setFocalOffset(0,0,0,i))}return Promise.all(u)}fitToSphere(t,i){const r=[],a="isObject3D"in t?tD.createBoundingSphere(t,B3):B3.copy(t);if(r.push(this.moveTo(a.center.x,a.center.y,a.center.z,i)),gg(this._camera)){const o=this.getDistanceToFitSphere(a.radius);r.push(this.dollyTo(o,i))}else if(hp(this._camera)){const o=this._camera.right-this._camera.left,l=this._camera.top-this._camera.bottom,u=2*a.radius,h=Math.min(o/u,l/u);r.push(this.zoomTo(h,i))}return r.push(this.setFocalOffset(0,0,0,i)),Promise.all(r)}setLookAt(t,i,r,s,a,o,l=!1){this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._lastDollyDirection=Gv.NONE,this._changedDolly=0;const u=Mi.set(s,a,o),h=jn.set(t,i,r);this._targetEnd.copy(u),this._sphericalEnd.setFromVector3(h.sub(u).applyQuaternion(this._yAxisUpSpace)),this._needsUpdate=!0,l||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));const p=!l||Ui(this._target.x,this._targetEnd.x,this.restThreshold)&&Ui(this._target.y,this._targetEnd.y,this.restThreshold)&&Ui(this._target.z,this._targetEnd.z,this.restThreshold)&&Ui(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&Ui(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&Ui(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(p)}lerp(t,i,r,s=!1){this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._lastDollyDirection=Gv.NONE,this._changedDolly=0;const a=jn.set(...t.target);if("spherical"in t)Ml.set(...t.spherical);else{const y=Mi.set(...t.position);Ml.setFromVector3(y.sub(a).applyQuaternion(this._yAxisUpSpace))}const o=qv.set(...i.target);if("spherical"in i)Wv.set(...i.spherical);else{const y=Mi.set(...i.position);Wv.setFromVector3(y.sub(o).applyQuaternion(this._yAxisUpSpace))}this._targetEnd.copy(a.lerp(o,r));const l=Wv.theta-Ml.theta,u=Wv.phi-Ml.phi,h=Wv.radius-Ml.radius;this._sphericalEnd.set(Ml.radius+h*r,Ml.phi+u*r,Ml.theta+l*r),this._needsUpdate=!0,s||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));const p=!s||Ui(this._target.x,this._targetEnd.x,this.restThreshold)&&Ui(this._target.y,this._targetEnd.y,this.restThreshold)&&Ui(this._target.z,this._targetEnd.z,this.restThreshold)&&Ui(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&Ui(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&Ui(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(p)}lerpLookAt(t,i,r,s,a,o,l,u,h,p,y,v,_,x=!1){return this.lerp({position:[t,i,r],target:[s,a,o]},{position:[l,u,h],target:[p,y,v]},_,x)}setPosition(t,i,r,s=!1){return this.setLookAt(t,i,r,this._targetEnd.x,this._targetEnd.y,this._targetEnd.z,s)}setTarget(t,i,r,s=!1){const a=this.getPosition(jn),o=this.setLookAt(a.x,a.y,a.z,t,i,r,s);return this._sphericalEnd.phi=uu(this._sphericalEnd.phi,this.minPolarAngle,this.maxPolarAngle),o}setFocalOffset(t,i,r,s=!1){this._isUserControllingOffset=!1,this._focalOffsetEnd.set(t,i,r),this._needsUpdate=!0,s||this._focalOffset.copy(this._focalOffsetEnd);const a=!s||Ui(this._focalOffset.x,this._focalOffsetEnd.x,this.restThreshold)&&Ui(this._focalOffset.y,this._focalOffsetEnd.y,this.restThreshold)&&Ui(this._focalOffset.z,this._focalOffsetEnd.z,this.restThreshold);return this._createOnRestPromise(a)}setOrbitPoint(t,i,r){this._camera.updateMatrixWorld(),lf.setFromMatrixColumn(this._camera.matrixWorldInverse,0),cf.setFromMatrixColumn(this._camera.matrixWorldInverse,1),yg.setFromMatrixColumn(this._camera.matrixWorldInverse,2);const s=jn.set(t,i,r),a=s.distanceTo(this._camera.position),o=s.sub(this._camera.position);lf.multiplyScalar(o.x),cf.multiplyScalar(o.y),yg.multiplyScalar(o.z),jn.copy(lf).add(cf).add(yg),jn.z=jn.z+a,this.dollyTo(a,!1),this.setFocalOffset(-jn.x,jn.y,-jn.z,!1),this.moveTo(t,i,r,!1)}setBoundary(t){if(!t){this._boundary.min.set(-1/0,-1/0,-1/0),this._boundary.max.set(1/0,1/0,1/0),this._needsUpdate=!0;return}this._boundary.copy(t),this._boundary.clampPoint(this._targetEnd,this._targetEnd),this._needsUpdate=!0}setViewport(t,i,r,s){if(t===null){this._viewport=null;return}this._viewport=this._viewport||new xn.Vector4,typeof t=="number"?this._viewport.set(t,i,r,s):this._viewport.copy(t)}getDistanceToFitBox(t,i,r,s=!1){if(k3(this._camera,"getDistanceToFitBox"))return this._spherical.radius;const a=t/i,o=this._camera.getEffectiveFOV()*S1,l=this._camera.aspect;return((s?a>l:a<l)?i:t/l)*.5/Math.tan(o*.5)+r*.5}getDistanceToFitSphere(t){if(k3(this._camera,"getDistanceToFitSphere"))return this._spherical.radius;const i=this._camera.getEffectiveFOV()*S1,r=Math.atan(Math.tan(i*.5)*this._camera.aspect)*2,s=1<this._camera.aspect?i:r;return t/Math.sin(s*.5)}getTarget(t,i=!0){return(t&&t.isVector3?t:new xn.Vector3).copy(i?this._targetEnd:this._target)}getPosition(t,i=!0){return(t&&t.isVector3?t:new xn.Vector3).setFromSpherical(i?this._sphericalEnd:this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(i?this._targetEnd:this._target)}getSpherical(t,i=!0){return(t||new xn.Spherical).copy(i?this._sphericalEnd:this._spherical)}getFocalOffset(t,i=!0){return(t&&t.isVector3?t:new xn.Vector3).copy(i?this._focalOffsetEnd:this._focalOffset)}normalizeRotations(){return this._sphericalEnd.theta=(this._sphericalEnd.theta%up+up)%up,this._sphericalEnd.theta>Math.PI&&(this._sphericalEnd.theta-=up),this._spherical.theta+=up*Math.round((this._sphericalEnd.theta-this._spherical.theta)/up),this}stop(){this._focalOffset.copy(this._focalOffsetEnd),this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd),this._zoom=this._zoomEnd}reset(t=!1){if(!Ui(this._camera.up.x,this._cameraUp0.x)||!Ui(this._camera.up.y,this._cameraUp0.y)||!Ui(this._camera.up.z,this._cameraUp0.z)){this._camera.up.copy(this._cameraUp0);const r=this.getPosition(jn);this.updateCameraUp(),this.setPosition(r.x,r.y,r.z)}const i=[this.setLookAt(this._position0.x,this._position0.y,this._position0.z,this._target0.x,this._target0.y,this._target0.z,t),this.setFocalOffset(this._focalOffset0.x,this._focalOffset0.y,this._focalOffset0.z,t),this.zoomTo(this._zoom0,t)];return Promise.all(i)}saveState(){this._cameraUp0.copy(this._camera.up),this.getTarget(this._target0),this.getPosition(this._position0),this._zoom0=this._zoom,this._focalOffset0.copy(this._focalOffset)}updateCameraUp(){this._yAxisUpSpace.setFromUnitVectors(this._camera.up,Cw),this._yAxisUpSpaceInverse.copy(this._yAxisUpSpace).invert()}applyCameraUp(){const t=jn.subVectors(this._target,this._camera.position).normalize(),i=Mi.crossVectors(t,this._camera.up);this._camera.up.crossVectors(i,t).normalize(),this._camera.updateMatrixWorld();const r=this.getPosition(jn);this.updateCameraUp(),this.setPosition(r.x,r.y,r.z)}update(t){const i=this._sphericalEnd.theta-this._spherical.theta,r=this._sphericalEnd.phi-this._spherical.phi,s=this._sphericalEnd.radius-this._spherical.radius,a=h9.subVectors(this._targetEnd,this._target),o=d9.subVectors(this._focalOffsetEnd,this._focalOffset),l=this._zoomEnd-this._zoom;if(ar(i))this._thetaVelocity.value=0,this._spherical.theta=this._sphericalEnd.theta;else{const y=this._isUserControllingRotate?this.draggingSmoothTime:this.smoothTime;this._spherical.theta=Tw(this._spherical.theta,this._sphericalEnd.theta,this._thetaVelocity,y,1/0,t),this._needsUpdate=!0}if(ar(r))this._phiVelocity.value=0,this._spherical.phi=this._sphericalEnd.phi;else{const y=this._isUserControllingRotate?this.draggingSmoothTime:this.smoothTime;this._spherical.phi=Tw(this._spherical.phi,this._sphericalEnd.phi,this._phiVelocity,y,1/0,t),this._needsUpdate=!0}if(ar(s))this._radiusVelocity.value=0,this._spherical.radius=this._sphericalEnd.radius;else{const y=this._isUserControllingDolly?this.draggingSmoothTime:this.smoothTime;this._spherical.radius=Tw(this._spherical.radius,this._sphericalEnd.radius,this._radiusVelocity,y,this.maxSpeed,t),this._needsUpdate=!0}if(ar(a.x)&&ar(a.y)&&ar(a.z))this._targetVelocity.set(0,0,0),this._target.copy(this._targetEnd);else{const y=this._isUserControllingTruck?this.draggingSmoothTime:this.smoothTime;u9(this._target,this._targetEnd,this._targetVelocity,y,this.maxSpeed,t,this._target),this._needsUpdate=!0}if(ar(o.x)&&ar(o.y)&&ar(o.z))this._focalOffsetVelocity.set(0,0,0),this._focalOffset.copy(this._focalOffsetEnd);else{const y=this._isUserControllingOffset?this.draggingSmoothTime:this.smoothTime;u9(this._focalOffset,this._focalOffsetEnd,this._focalOffsetVelocity,y,this.maxSpeed,t,this._focalOffset),this._needsUpdate=!0}if(ar(l))this._zoomVelocity.value=0,this._zoom=this._zoomEnd;else{const y=this._isUserControllingZoom?this.draggingSmoothTime:this.smoothTime;this._zoom=Tw(this._zoom,this._zoomEnd,this._zoomVelocity,y,1/0,t)}if(this.dollyToCursor){if(gg(this._camera)&&this._changedDolly!==0){const y=this._spherical.radius-this._lastDistance,v=this._camera,_=this._getCameraDirection(w1),x=jn.copy(_).cross(v.up).normalize();x.lengthSq()===0&&(x.x=1);const E=Mi.crossVectors(x,_),S=this._sphericalEnd.radius*Math.tan(v.getEffectiveFOV()*S1*.5),C=(this._sphericalEnd.radius-y-this._sphericalEnd.radius)/this._sphericalEnd.radius,A=qv.copy(this._targetEnd).add(x.multiplyScalar(this._dollyControlCoord.x*S*v.aspect)).add(E.multiplyScalar(this._dollyControlCoord.y*S)),N=jn.copy(this._targetEnd).lerp(A,C),L=this._lastDollyDirection===Gv.IN&&this._spherical.radius<=this.minDistance,I=this._lastDollyDirection===Gv.OUT&&this.maxDistance<=this._spherical.radius;if(this.infinityDolly&&(L||I)){this._sphericalEnd.radius-=y,this._spherical.radius-=y;const P=Mi.copy(_).multiplyScalar(-y);N.add(P)}this._boundary.clampPoint(N,N);const D=Mi.subVectors(N,this._targetEnd);this._targetEnd.copy(N),this._target.add(D),this._changedDolly-=y,ar(this._changedDolly)&&(this._changedDolly=0)}else if(hp(this._camera)&&this._changedZoom!==0){const y=this._zoom-this._lastZoom,v=this._camera,_=jn.set(this._dollyControlCoord.x,this._dollyControlCoord.y,(v.near+v.far)/(v.near-v.far)).unproject(v),x=Mi.set(0,0,-1).applyQuaternion(v.quaternion),E=qv.copy(_).add(x.multiplyScalar(-_.dot(v.up))),w=-(this._zoom-y-this._zoom)/this._zoom,C=this._getCameraDirection(w1),A=this._targetEnd.dot(C),N=jn.copy(this._targetEnd).lerp(E,w),L=N.dot(C),I=C.multiplyScalar(L-A);N.sub(I),this._boundary.clampPoint(N,N);const D=Mi.subVectors(N,this._targetEnd);this._targetEnd.copy(N),this._target.add(D),this._changedZoom-=y,ar(this._changedZoom)&&(this._changedZoom=0)}}this._camera.zoom!==this._zoom&&(this._camera.zoom=this._zoom,this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0),this._dragNeedsUpdate=!0;const u=this._collisionTest();this._spherical.radius=Math.min(this._spherical.radius,u),this._spherical.makeSafe(),this._camera.position.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(this._target),this._camera.lookAt(this._target),(!ar(this._focalOffset.x)||!ar(this._focalOffset.y)||!ar(this._focalOffset.z))&&(this._camera.matrix.compose(this._camera.position,this._camera.quaternion,this._camera.scale),lf.setFromMatrixColumn(this._camera.matrix,0),cf.setFromMatrixColumn(this._camera.matrix,1),yg.setFromMatrixColumn(this._camera.matrix,2),lf.multiplyScalar(this._focalOffset.x),cf.multiplyScalar(-this._focalOffset.y),yg.multiplyScalar(this._focalOffset.z),jn.copy(lf).add(cf).add(yg),this._camera.position.add(jn),this._camera.updateMatrixWorld()),this._boundaryEnclosesCamera&&this._encloseToBoundary(this._camera.position.copy(this._target),jn.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse),1);const p=this._needsUpdate;return p&&!this._updatedLastTime?(this._hasRested=!1,this.dispatchEvent({type:"wake"}),this.dispatchEvent({type:"update"})):p?(this.dispatchEvent({type:"update"}),ar(i,this.restThreshold)&&ar(r,this.restThreshold)&&ar(s,this.restThreshold)&&ar(a.x,this.restThreshold)&&ar(a.y,this.restThreshold)&&ar(a.z,this.restThreshold)&&ar(o.x,this.restThreshold)&&ar(o.y,this.restThreshold)&&ar(o.z,this.restThreshold)&&ar(l,this.restThreshold)&&!this._hasRested&&(this._hasRested=!0,this.dispatchEvent({type:"rest"}))):!p&&this._updatedLastTime&&this.dispatchEvent({type:"sleep"}),this._lastDistance=this._spherical.radius,this._lastZoom=this._zoom,this._updatedLastTime=p,this._needsUpdate=!1,p}toJSON(){return JSON.stringify({enabled:this._enabled,minDistance:this.minDistance,maxDistance:E1(this.maxDistance),minZoom:this.minZoom,maxZoom:E1(this.maxZoom),minPolarAngle:this.minPolarAngle,maxPolarAngle:E1(this.maxPolarAngle),minAzimuthAngle:E1(this.minAzimuthAngle),maxAzimuthAngle:E1(this.maxAzimuthAngle),smoothTime:this.smoothTime,draggingSmoothTime:this.draggingSmoothTime,dollySpeed:this.dollySpeed,truckSpeed:this.truckSpeed,dollyToCursor:this.dollyToCursor,target:this._targetEnd.toArray(),position:jn.setFromSpherical(this._sphericalEnd).add(this._targetEnd).toArray(),zoom:this._zoomEnd,focalOffset:this._focalOffsetEnd.toArray(),target0:this._target0.toArray(),position0:this._position0.toArray(),zoom0:this._zoom0,focalOffset0:this._focalOffset0.toArray()})}fromJSON(t,i=!1){const r=JSON.parse(t);this.enabled=r.enabled,this.minDistance=r.minDistance,this.maxDistance=T1(r.maxDistance),this.minZoom=r.minZoom,this.maxZoom=T1(r.maxZoom),this.minPolarAngle=r.minPolarAngle,this.maxPolarAngle=T1(r.maxPolarAngle),this.minAzimuthAngle=T1(r.minAzimuthAngle),this.maxAzimuthAngle=T1(r.maxAzimuthAngle),this.smoothTime=r.smoothTime,this.draggingSmoothTime=r.draggingSmoothTime,this.dollySpeed=r.dollySpeed,this.truckSpeed=r.truckSpeed,this.dollyToCursor=r.dollyToCursor,this._target0.fromArray(r.target0),this._position0.fromArray(r.position0),this._zoom0=r.zoom0,this._focalOffset0.fromArray(r.focalOffset0),this.moveTo(r.target[0],r.target[1],r.target[2],i),Ml.setFromVector3(jn.fromArray(r.position).sub(this._targetEnd).applyQuaternion(this._yAxisUpSpace)),this.rotateTo(Ml.theta,Ml.phi,i),this.dollyTo(Ml.radius,i),this.zoomTo(r.zoom,i),this.setFocalOffset(r.focalOffset[0],r.focalOffset[1],r.focalOffset[2],i),this._needsUpdate=!0}connect(t){if(this._domElement){console.warn("camera-controls is already connected.");return}t.setAttribute("data-camera-controls-version",tTe),this._addAllEventListeners(t),this._getClientRect(this._elementRect)}disconnect(){this.cancel(),this._removeAllEventListeners(),this._domElement&&(this._domElement.removeAttribute("data-camera-controls-version"),this._domElement=void 0)}dispose(){this.removeAllEventListeners(),this.disconnect()}_getTargetDirection(t){return t.setFromSpherical(this._spherical).divideScalar(this._spherical.radius).applyQuaternion(this._yAxisUpSpaceInverse)}_getCameraDirection(t){return this._getTargetDirection(t).negate()}_findPointerById(t){return this._activePointers.find(i=>i.pointerId===t)}_findPointerByMouseButton(t){return this._activePointers.find(i=>i.mouseButton===t)}_disposePointer(t){this._activePointers.splice(this._activePointers.indexOf(t),1)}_encloseToBoundary(t,i,r){const s=i.lengthSq();if(s===0)return t;const a=Mi.copy(i).add(t),l=this._boundary.clampPoint(a,qv).sub(a),u=l.lengthSq();if(u===0)return t.add(i);if(u===s)return t;if(r===0)return t.add(i).add(l);{const h=1+r*u/i.dot(l);return t.add(Mi.copy(i).multiplyScalar(h)).add(l.multiplyScalar(1-r))}}_updateNearPlaneCorners(){if(gg(this._camera)){const t=this._camera,i=t.near,r=t.getEffectiveFOV()*S1,s=Math.tan(r*.5)*i,a=s*t.aspect;this._nearPlaneCorners[0].set(-a,-s,0),this._nearPlaneCorners[1].set(a,-s,0),this._nearPlaneCorners[2].set(a,s,0),this._nearPlaneCorners[3].set(-a,s,0)}else if(hp(this._camera)){const t=this._camera,i=1/t.zoom,r=t.left*i,s=t.right*i,a=t.top*i,o=t.bottom*i;this._nearPlaneCorners[0].set(r,a,0),this._nearPlaneCorners[1].set(s,a,0),this._nearPlaneCorners[2].set(s,o,0),this._nearPlaneCorners[3].set(r,o,0)}}_collisionTest(){let t=1/0;if(!(this.colliderMeshes.length>=1)||k3(this._camera,"_collisionTest"))return t;const r=this._getTargetDirection(w1);V3.lookAt(f9,r,this._camera.up);for(let s=0;s<4;s++){const a=Mi.copy(this._nearPlaneCorners[s]);a.applyMatrix4(V3);const o=qv.addVectors(this._target,a);Aw.set(o,r),Aw.far=this._spherical.radius+1;const l=Aw.intersectObjects(this.colliderMeshes);l.length!==0&&l[0].distance<t&&(t=l[0].distance)}return t}_getClientRect(t){if(!this._domElement)return;const i=this._domElement.getBoundingClientRect();return t.x=i.left,t.y=i.top,this._viewport?(t.x+=this._viewport.x,t.y+=i.height-this._viewport.w-this._viewport.y,t.width=this._viewport.z,t.height=this._viewport.w):(t.width=i.width,t.height=i.height),t}_createOnRestPromise(t){return t?Promise.resolve():(this._hasRested=!1,this.dispatchEvent({type:"transitionstart"}),new Promise(i=>{const r=()=>{this.removeEventListener("rest",r),i()};this.addEventListener("rest",r)}))}_addAllEventListeners(t){}_removeAllEventListeners(){}get dampingFactor(){return console.warn(".dampingFactor has been deprecated. use smoothTime (in seconds) instead."),0}set dampingFactor(t){console.warn(".dampingFactor has been deprecated. use smoothTime (in seconds) instead.")}get draggingDampingFactor(){return console.warn(".draggingDampingFactor has been deprecated. use draggingSmoothTime (in seconds) instead."),0}set draggingDampingFactor(t){console.warn(".draggingDampingFactor has been deprecated. use draggingSmoothTime (in seconds) instead.")}static createBoundingSphere(t,i=new xn.Sphere){const r=i,s=r.center;$v.makeEmpty(),t.traverseVisible(o=>{o.isMesh&&$v.expandByObject(o)}),$v.getCenter(s);let a=0;return t.traverseVisible(o=>{if(!o.isMesh)return;const l=o;if(!l.geometry)return;const u=l.geometry.clone();u.applyMatrix4(l.matrixWorld);const p=u.attributes.position;for(let y=0,v=p.count;y<v;y++)jn.fromBufferAttribute(p,y),a=Math.max(a,s.distanceToSquared(jn))}),r.radius=Math.sqrt(a),r}};const rTe=H.forwardRef((n,e)=>{const{impl:t,camera:i,domElement:r,makeDefault:s,onControlStart:a,onControl:o,onControlEnd:l,onTransitionStart:u,onUpdate:h,onWake:p,onRest:y,onSleep:v,onStart:_,onEnd:x,onChange:E,regress:S,...w}=n,C=t??iTe;H.useMemo(()=>{const J={Box3:ra,MathUtils:{clamp:Qj.clamp},Matrix4:an,Quaternion:Ca,Raycaster:EM,Sphere:sa,Spherical:JG,Vector2:it,Vector3:fe,Vector4:gi};C.install({THREE:J}),qW({CameraControlsImpl:C})},[C]);const A=As(J=>J.camera),N=As(J=>J.gl),L=As(J=>J.invalidate),I=As(J=>J.events),D=As(J=>J.setEvents),P=As(J=>J.set),U=As(J=>J.get),F=As(J=>J.performance),z=i||A,V=r||I.connected||N.domElement,K=H.useMemo(()=>new C(z),[C,z]);return tE((J,q)=>{K.update(q)},-1),H.useEffect(()=>(K.connect(V),()=>void K.disconnect()),[V,K]),H.useEffect(()=>{function J(){L(),S&&F.regress()}const q=ue=>{J(),a==null||a(ue),_==null||_(ue)},W=ue=>{J(),o==null||o(ue),E==null||E(ue)},Q=ue=>{l==null||l(ue),x==null||x(ue)},re=ue=>{J(),u==null||u(ue),E==null||E(ue)},pe=ue=>{J(),h==null||h(ue),E==null||E(ue)},Y=ue=>{J(),p==null||p(ue),E==null||E(ue)},le=ue=>{y==null||y(ue)},de=ue=>{v==null||v(ue)};return K.addEventListener("controlstart",q),K.addEventListener("control",W),K.addEventListener("controlend",Q),K.addEventListener("transitionstart",re),K.addEventListener("update",pe),K.addEventListener("wake",Y),K.addEventListener("rest",le),K.addEventListener("sleep",de),()=>{K.removeEventListener("controlstart",q),K.removeEventListener("control",W),K.removeEventListener("controlend",Q),K.removeEventListener("transitionstart",re),K.removeEventListener("update",pe),K.removeEventListener("wake",Y),K.removeEventListener("rest",le),K.removeEventListener("sleep",de)}},[K,L,D,S,F,a,o,l,u,h,p,y,v,E,_,x]),H.useEffect(()=>{if(s){const J=U().controls;return P({controls:K}),()=>P({controls:J})}},[s,K]),H.createElement("primitive",el({ref:e,object:K},w))});function sTe({defaultScene:n,defaultCamera:e,renderPriority:t=1}){const{gl:i,scene:r,camera:s}=As();let a;return tE(()=>{a=i.autoClear,t===1&&(i.autoClear=!0,i.render(n,e)),i.autoClear=!1,i.clearDepth(),i.render(r,s),i.autoClear=a},t),H.createElement("group",{onPointerOver:()=>null})}function aTe({children:n,renderPriority:e=1}){const{scene:t,camera:i}=As(),[r]=H.useState(()=>new nM);return H.createElement(H.Fragment,null,zEe(H.createElement(H.Fragment,null,n,H.createElement(sTe,{defaultScene:t,defaultCamera:i,renderPriority:e})),r,{events:{priority:e+1}}))}const JW=H.createContext({}),oTe=()=>H.useContext(JW),lTe=2*Math.PI,H3=new yi,g9=new an,[Xv,j3]=[new Ca,new Ca],y9=new fe,v9=new fe,cTe=n=>"minPolarAngle"in n,_9=n=>"getTarget"in n,uTe=({alignment:n="bottom-right",margin:e=[80,80],renderPriority:t=1,onUpdate:i,onTarget:r,children:s})=>{const a=As(L=>L.size),o=As(L=>L.camera),l=As(L=>L.controls),u=As(L=>L.invalidate),h=H.useRef(null),p=H.useRef(null),y=H.useRef(!1),v=H.useRef(0),_=H.useRef(new fe(0,0,0)),x=H.useRef(new fe(0,0,0));H.useEffect(()=>{x.current.copy(o.up),H3.up.copy(o.up)},[o]);const E=H.useCallback(L=>{y.current=!0,(l||r)&&(_.current=(r==null?void 0:r())||(_9(l)?l.getTarget(_.current):l==null?void 0:l.target)),v.current=o.position.distanceTo(y9),Xv.copy(o.quaternion),v9.copy(L).multiplyScalar(v.current).add(y9),H3.lookAt(v9),j3.copy(H3.quaternion),u()},[l,o,r,u]);tE((L,I)=>{if(p.current&&h.current){var D;if(y.current)if(Xv.angleTo(j3)<.01)y.current=!1,cTe(l)&&o.up.copy(x.current);else{const P=I*lTe;Xv.rotateTowards(j3,P),o.position.set(0,0,1).applyQuaternion(Xv).multiplyScalar(v.current).add(_.current),o.up.set(0,1,0).applyQuaternion(Xv).normalize(),o.quaternion.copy(Xv),_9(l)&&l.setPosition(o.position.x,o.position.y,o.position.z),i?i():l&&l.update(I),u()}g9.copy(o.matrix).invert(),(D=h.current)==null||D.quaternion.setFromRotationMatrix(g9)}});const S=H.useMemo(()=>({tweenCamera:E}),[E]),[w,C]=e,A=n.endsWith("-center")?0:n.endsWith("-left")?-a.width/2+w:a.width/2-w,N=n.startsWith("center-")?0:n.startsWith("top-")?a.height/2-C:-a.height/2+C;return H.createElement(aTe,{renderPriority:t},H.createElement(JW.Provider,{value:S},H.createElement(JEe,{makeDefault:!0,ref:p,position:[0,0,200]}),H.createElement("group",{ref:h,position:[A,N,0]},s)))};function G3({scale:n=[.8,.05,.05],color:e,rotation:t}){return H.createElement("group",{rotation:t},H.createElement("mesh",{position:[.4,0,0]},H.createElement("boxGeometry",{args:n}),H.createElement("meshBasicMaterial",{color:e,toneMapped:!1})))}function Yv({onClick:n,font:e,disabled:t,arcStyle:i,label:r,labelColor:s,axisHeadScale:a=1,...o}){const l=As(x=>x.gl),u=H.useMemo(()=>{const x=document.createElement("canvas");x.width=64,x.height=64;const E=x.getContext("2d");return E.beginPath(),E.arc(32,32,16,0,2*Math.PI),E.closePath(),E.fillStyle=i,E.fill(),r&&(E.font=e,E.textAlign="center",E.fillStyle=s,E.fillText(r,32,41)),new sL(x)},[i,r,s,e]),[h,p]=H.useState(!1),y=(r?1:.75)*(h?1.2:1)*a,v=x=>{x.stopPropagation(),p(!0)},_=x=>{x.stopPropagation(),p(!1)};return H.createElement("sprite",el({scale:y,onPointerOver:t?void 0:v,onPointerOut:t?void 0:n||_},o),H.createElement("spriteMaterial",{map:u,"map-anisotropy":l.capabilities.getMaxAnisotropy()||1,alphaTest:.3,opacity:r?1:.75,toneMapped:!1}))}const fTe=({hideNegativeAxes:n,hideAxisHeads:e,disabled:t,font:i="18px Inter var, Arial, sans-serif",axisColors:r=["#ff2060","#20df80","#2080ff"],axisHeadScale:s=1,axisScale:a,labels:o=["X","Y","Z"],labelColor:l="#000",onClick:u,...h})=>{const[p,y,v]=r,{tweenCamera:_}=oTe(),x={font:i,disabled:t,labelColor:l,onClick:u,axisHeadScale:s,onPointerDown:t?void 0:E=>{_(E.object.position),E.stopPropagation()}};return H.createElement("group",el({scale:40},h),H.createElement(G3,{color:p,rotation:[0,0,0],scale:a}),H.createElement(G3,{color:y,rotation:[0,0,Math.PI/2],scale:a}),H.createElement(G3,{color:v,rotation:[0,-Math.PI/2,0],scale:a}),!e&&H.createElement(H.Fragment,null,H.createElement(Yv,el({arcStyle:p,position:[1,0,0],label:o[0]},x)),H.createElement(Yv,el({arcStyle:y,position:[0,1,0],label:o[1]},x)),H.createElement(Yv,el({arcStyle:v,position:[0,0,1],label:o[2]},x)),!n&&H.createElement(H.Fragment,null,H.createElement(Yv,el({arcStyle:p,position:[-1,0,0]},x)),H.createElement(Yv,el({arcStyle:y,position:[0,-1,0]},x)),H.createElement(Yv,el({arcStyle:v,position:[0,0,-1]},x)))))},hTe=Hr(Z.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"})),dTe=Hr(Z.jsx("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"})),pTe=Hr(Z.jsx("path",{d:"m10 17 5-5-5-5z"})),mTe=Hr(Z.jsx("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})),gTe=Hr(Z.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),yTe=Hr(Z.jsx("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5s-3 1.34-3 3 1.34 3 3 3m-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5 5 6.34 5 8s1.34 3 3 3m0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5m8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5"})),vTe=Hr(Z.jsx("path",{d:"M11 7 9.6 8.4l2.6 2.6H2v2h10.2l-2.6 2.6L11 17l5-5zm9 12h-8v2h8c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-8v2h8z"})),_Te=Hr(Z.jsx("path",{d:"M12 5.9c1.16 0 2.1.94 2.1 2.1s-.94 2.1-2.1 2.1S9.9 9.16 9.9 8s.94-2.1 2.1-2.1m0 9c2.97 0 6.1 1.46 6.1 2.1v1.1H5.9V17c0-.64 3.13-2.1 6.1-2.1M12 4C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 9c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4"})),bTe=Hr(Z.jsx("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"})),xTe=(n,e,t,i)=>{var s,a,o,l;const r=[t,{code:e,...i||{}}];if((a=(s=n==null?void 0:n.services)==null?void 0:s.logger)!=null&&a.forward)return n.services.logger.forward(r,"warn","react-i18next::",!0);Yg(r[0])&&(r[0]=`react-i18next:: ${r[0]}`),(l=(o=n==null?void 0:n.services)==null?void 0:o.logger)!=null&&l.warn?n.services.logger.warn(...r):console!=null&&console.warn&&console.warn(...r)},b9={},nD=(n,e,t,i)=>{Yg(t)&&b9[t]||(Yg(t)&&(b9[t]=new Date),xTe(n,e,t,i))},e$=(n,e)=>()=>{if(n.isInitialized)e();else{const t=()=>{setTimeout(()=>{n.off("initialized",t)},0),e()};n.on("initialized",t)}},iD=(n,e,t)=>{n.loadNamespaces(e,e$(n,t))},x9=(n,e,t,i)=>{if(Yg(t)&&(t=[t]),n.options.preload&&n.options.preload.indexOf(e)>-1)return iD(n,t,i);t.forEach(r=>{n.options.ns.indexOf(r)<0&&n.options.ns.push(r)}),n.loadLanguages(e,e$(n,i))},STe=(n,e,t={})=>!e.languages||!e.languages.length?(nD(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(n,{lng:t.lng,precheck:(i,r)=>{if(t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!r(i.isLanguageChangingTo,n))return!1}}),Yg=n=>typeof n=="string",ETe=n=>typeof n=="object"&&n!==null,TTe=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,wTe={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},CTe=n=>wTe[n],ATe=n=>n.replace(TTe,CTe);let rD={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:ATe};const MTe=(n={})=>{rD={...rD,...n}},RTe=()=>rD;let t$;const OTe=n=>{t$=n},ITe=()=>t$,PTe={type:"3rdParty",init(n){MTe(n.options.react),OTe(n)}},DTe=H.createContext();class NTe{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const LTe=(n,e)=>{const t=H.useRef();return H.useEffect(()=>{t.current=n},[n,e]),t.current},n$=(n,e,t,i)=>n.getFixedT(e,t,i),UTe=(n,e,t,i)=>H.useCallback(n$(n,e,t,i),[n,e,t,i]),_y=(n,e={})=>{var A,N,L,I;const{i18n:t}=e,{i18n:i,defaultNS:r}=H.useContext(DTe)||{},s=t||i||ITe();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new NTe),!s){nD(s,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const D=(U,F)=>Yg(F)?F:ETe(F)&&Yg(F.defaultValue)?F.defaultValue:Array.isArray(U)?U[U.length-1]:U,P=[D,{},!1];return P.t=D,P.i18n={},P.ready=!1,P}(A=s.options.react)!=null&&A.wait&&nD(s,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const a={...RTe(),...s.options.react,...e},{useSuspense:o,keyPrefix:l}=a;let u=r||((N=s.options)==null?void 0:N.defaultNS);u=Yg(u)?[u]:u||["translation"],(I=(L=s.reportNamespaces).addUsedNamespaces)==null||I.call(L,u);const h=(s.isInitialized||s.initializedStoreOnce)&&u.every(D=>STe(D,s,a)),p=UTe(s,e.lng||null,a.nsMode==="fallback"?u:u[0],l),y=()=>p,v=()=>n$(s,e.lng||null,a.nsMode==="fallback"?u:u[0],l),[_,x]=H.useState(y);let E=u.join();e.lng&&(E=`${e.lng}${E}`);const S=LTe(E),w=H.useRef(!0);H.useEffect(()=>{const{bindI18n:D,bindI18nStore:P}=a;w.current=!0,!h&&!o&&(e.lng?x9(s,e.lng,u,()=>{w.current&&x(v)}):iD(s,u,()=>{w.current&&x(v)})),h&&S&&S!==E&&w.current&&x(v);const U=()=>{w.current&&x(v)};return D&&(s==null||s.on(D,U)),P&&(s==null||s.store.on(P,U)),()=>{w.current=!1,s&&D&&(D==null||D.split(" ").forEach(F=>s.off(F,U))),P&&s&&P.split(" ").forEach(F=>s.store.off(F,U))}},[s,E]),H.useEffect(()=>{w.current&&h&&x(y)},[s,l,h]);const C=[_,s,h];if(C.t=_,C.i18n=s,C.ready=h,h||!h&&!o)return C;throw new Promise(D=>{e.lng?x9(s,e.lng,u,()=>D()):iD(s,u,()=>D())})},ai=N_({palette:{background:{paper:"#fff",form:"#f3f3f3",formInput:"#000"},text:{titleBig:"#173A5E",primary:"#fff",secondary:"#46505A",tertiary:"#171A1FFF",white:"#fff"},action:{progress:"#001E3C",success:"#1976d2",deactivate:"#d32f2f"},success:{dark:"#009688"},canvas:{canvasBackgraundColor:"#002"},buttons:{buttonHomeScreen:"#f1f1f1"},formStyles:{containerBackgroundColor:"#d1d1d1ff",cardBackgroundColor:"#f9f9f9",cardBoxShadow:"0 10px 30px rgba(0, 0, 0, 0.99)",buttonForm:"#001E3C",borderColor:"rgb(109, 109, 109)"},paletteBjj:{rojoVibrante:"#FF1E1E",azulMarino:"#002B5B",grisCarbon:"#1C1C1C",amarilloOro:"#FFC300",grisClaro:"#F5F5F5"},typography:{fontFamily:"poppins"}}}),i$=ai.palette.buttons.buttonHomeScreen,kTe={display:"flex",alignItems:"center",textAlign:"center",position:"absolute",zIndex:10,top:"30px",right:"30px"},zTe={width:55,height:55,backgroundColor:"transparent",border:`2px solid ${i$}`},BTe={color:i$,fontSize:"2.5rem"},C1="components.accountMenu.";function FTe(){const{user:n,isAuthenticated:e}=tpe(),{t}=_y(),i=pV(),r=dn(x=>x.isUserLogin),[s,a]=lr.useState(null),o=!!s,l=dn(x=>x.triggerAlert),u=x=>{a(x.currentTarget),dn.setState({isNodeAddViewActive:!1})},h=()=>{a(null)},p=()=>{a(null)},y=()=>{dn.setState({isLoginWindowActive:!0}),i(YP.loginUser)},v=()=>{r?l(t(C1+"triggerAlert"),"warning"):i(YP.addNode)},_=()=>{dn.setState({isConfigWindowActive:!0})};return Z.jsxs(lr.Fragment,{children:[Z.jsx(ad,{sx:kTe,children:Z.jsx(IW,{title:t(C1+"title"),children:Z.jsx(GL,{onClick:u,size:"small","aria-controls":o?"menu-user":void 0,"aria-haspopup":"true","aria-expanded":o?"true":void 0,children:Z.jsx(_6,{sx:zTe,children:Z.jsx(_Te,{sx:BTe})})})})}),Z.jsxs(AW,{anchorEl:s,id:"menu-user",open:o,onClose:p,slotProps:{paper:{elevation:0,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"& .MuiAvatar-root":{width:32,height:32,ml:-.5,mr:1},"&::before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[e?Z.jsxs(Zo,{onClick:h,children:[Z.jsx(y0,{children:Z.jsx(_6,{alt:(n==null?void 0:n.name)??"User",src:(n==null?void 0:n.picture)??void 0})}),n==null?void 0:n.name]}):Z.jsxs(Zo,{onClick:y,disabled:!0,children:[Z.jsx(y0,{children:Z.jsx(vTe,{fontSize:"small"})}),t(C1+"optionsMenu.login")]}),Z.jsx(f_,{}),Z.jsxs(Zo,{onClick:v,disabled:!0,children:[Z.jsx(y0,{children:Z.jsx(yTe,{fontSize:"small"})}),t(C1+"optionsMenu.addNode")]}),Z.jsx(f_,{}),Z.jsxs(Zo,{onClick:_,children:[Z.jsx(y0,{children:Z.jsx(bTe,{fontSize:"small"})}),t(C1+"optionsMenu.configuration")]})]})]})}function VTe(){const n=dn(i=>i.showAlert),e=dn(i=>i.alertMessage),t=dn(i=>i.alertSeverity);return Z.jsx(pp,{sx:{width:"80%",position:"absolute",bottom:20,zIndex:9999},spacing:2,children:Z.jsx(xW,{direction:"left",in:n,mountOnEnter:!0,unmountOnExit:!0,children:Z.jsx(XC,{in:n,children:Z.jsx(m0e,{severity:t,children:e})})})})}const q3=ai,HTe=({buttonFunction:n,disabled:e,isPositionAbsolute:t})=>Z.jsx(JS,{disabled:e,onClick:n,sx:{...t?{position:"absolute",top:10,right:10}:{},marginRight:"1rem",backgroundColor:$S(q3.palette.formStyles.containerBackgroundColor,.4),"&:hover":{backgroundColor:q3.palette.formStyles.cardBackgroundColor,opacity:.8},color:q3.palette.action.deactivate},children:Z.jsx(gTe,{sx:{fontSize:"2em"}})}),jTe=({cameraControlsRef:n})=>Z.jsxs(Z.Fragment,{children:[Z.jsx(WAe,{cameraControlsRef:n}),Z.jsx("ambientLight",{intensity:S2.intensity}),Z.jsx("directionalLight",{position:S2.position,color:S2.colorLight}),Z.jsx(uTe,{alignment:"top-left",margin:[80,150],children:Z.jsx(fTe,{labelColor:"#fff",axisColors:["red","green","blue"]})})]}),GTe=ai.palette,qTe=GTe.text;qTe.titleBig;function WTe(n,e,t){var i,r=1;n==null&&(n=0),e==null&&(e=0),t==null&&(t=0);function s(){var a,o=i.length,l,u=0,h=0,p=0;for(a=0;a<o;++a)l=i[a],u+=l.x||0,h+=l.y||0,p+=l.z||0;for(u=(u/o-n)*r,h=(h/o-e)*r,p=(p/o-t)*r,a=0;a<o;++a)l=i[a],u&&(l.x-=u),h&&(l.y-=h),p&&(l.z-=p)}return s.initialize=function(a){i=a},s.x=function(a){return arguments.length?(n=+a,s):n},s.y=function(a){return arguments.length?(e=+a,s):e},s.z=function(a){return arguments.length?(t=+a,s):t},s.strength=function(a){return arguments.length?(r=+a,s):r},s}function $Te(n){const e=+this._x.call(null,n);return r$(this.cover(e),e,n)}function r$(n,e,t){if(isNaN(e))return n;var i,r=n._root,s={data:t},a=n._x0,o=n._x1,l,u,h,p,y;if(!r)return n._root=s,n;for(;r.length;)if((h=e>=(l=(a+o)/2))?a=l:o=l,i=r,!(r=r[p=+h]))return i[p]=s,n;if(u=+n._x.call(null,r.data),e===u)return s.next=r,i?i[p]=s:n._root=s,n;do i=i?i[p]=new Array(2):n._root=new Array(2),(h=e>=(l=(a+o)/2))?a=l:o=l;while((p=+h)==(y=+(u>=l)));return i[y]=r,i[p]=s,n}function XTe(n){Array.isArray(n)||(n=Array.from(n));const e=n.length,t=new Float64Array(e);let i=1/0,r=-1/0;for(let s=0,a;s<e;++s)isNaN(a=+this._x.call(null,n[s]))||(t[s]=a,a<i&&(i=a),a>r&&(r=a));if(i>r)return this;this.cover(i).cover(r);for(let s=0;s<e;++s)r$(this,t[s],n[s]);return this}function YTe(n){if(isNaN(n=+n))return this;var e=this._x0,t=this._x1;if(isNaN(e))t=(e=Math.floor(n))+1;else{for(var i=t-e||1,r=this._root,s,a;e>n||n>=t;)switch(a=+(n<e),s=new Array(2),s[a]=r,r=s,i*=2,a){case 0:t=e+i;break;case 1:e=t-i;break}this._root&&this._root.length&&(this._root=r)}return this._x0=e,this._x1=t,this}function KTe(){var n=[];return this.visit(function(e){if(!e.length)do n.push(e.data);while(e=e.next)}),n}function ZTe(n){return arguments.length?this.cover(+n[0][0]).cover(+n[1][0]):isNaN(this._x0)?void 0:[[this._x0],[this._x1]]}function qh(n,e,t){this.node=n,this.x0=e,this.x1=t}function QTe(n,e){var t,i=this._x0,r,s,a=this._x1,o=[],l=this._root,u,h;for(l&&o.push(new qh(l,i,a)),e==null?e=1/0:(i=n-e,a=n+e);u=o.pop();)if(!(!(l=u.node)||(r=u.x0)>a||(s=u.x1)<i))if(l.length){var p=(r+s)/2;o.push(new qh(l[1],p,s),new qh(l[0],r,p)),(h=+(n>=p))&&(u=o[o.length-1],o[o.length-1]=o[o.length-1-h],o[o.length-1-h]=u)}else{var y=Math.abs(n-+this._x.call(null,l.data));y<e&&(e=y,i=n-y,a=n+y,t=l.data)}return t}function JTe(n){if(isNaN(l=+this._x.call(null,n)))return this;var e,t=this._root,i,r,s,a=this._x0,o=this._x1,l,u,h,p,y;if(!t)return this;if(t.length)for(;;){if((h=l>=(u=(a+o)/2))?a=u:o=u,e=t,!(t=t[p=+h]))return this;if(!t.length)break;e[p+1&1]&&(i=e,y=p)}for(;t.data!==n;)if(r=t,!(t=t.next))return this;return(s=t.next)&&delete t.next,r?(s?r.next=s:delete r.next,this):e?(s?e[p]=s:delete e[p],(t=e[0]||e[1])&&t===(e[1]||e[0])&&!t.length&&(i?i[y]=t:this._root=t),this):(this._root=s,this)}function ewe(n){for(var e=0,t=n.length;e<t;++e)this.remove(n[e]);return this}function twe(){return this._root}function nwe(){var n=0;return this.visit(function(e){if(!e.length)do++n;while(e=e.next)}),n}function iwe(n){var e=[],t,i=this._root,r,s,a;for(i&&e.push(new qh(i,this._x0,this._x1));t=e.pop();)if(!n(i=t.node,s=t.x0,a=t.x1)&&i.length){var o=(s+a)/2;(r=i[1])&&e.push(new qh(r,o,a)),(r=i[0])&&e.push(new qh(r,s,o))}return this}function rwe(n){var e=[],t=[],i;for(this._root&&e.push(new qh(this._root,this._x0,this._x1));i=e.pop();){var r=i.node;if(r.length){var s,a=i.x0,o=i.x1,l=(a+o)/2;(s=r[0])&&e.push(new qh(s,a,l)),(s=r[1])&&e.push(new qh(s,l,o))}t.push(i)}for(;i=t.pop();)n(i.node,i.x0,i.x1);return this}function swe(n){return n[0]}function awe(n){return arguments.length?(this._x=n,this):this._x}function s$(n,e){var t=new d4(e??swe,NaN,NaN);return n==null?t:t.addAll(n)}function d4(n,e,t){this._x=n,this._x0=e,this._x1=t,this._root=void 0}function S9(n){for(var e={data:n.data},t=e;n=n.next;)t=t.next={data:n.data};return e}var fl=s$.prototype=d4.prototype;fl.copy=function(){var n=new d4(this._x,this._x0,this._x1),e=this._root,t,i;if(!e)return n;if(!e.length)return n._root=S9(e),n;for(t=[{source:e,target:n._root=new Array(2)}];e=t.pop();)for(var r=0;r<2;++r)(i=e.source[r])&&(i.length?t.push({source:i,target:e.target[r]=new Array(2)}):e.target[r]=S9(i));return n};fl.add=$Te;fl.addAll=XTe;fl.cover=YTe;fl.data=KTe;fl.extent=ZTe;fl.find=QTe;fl.remove=JTe;fl.removeAll=ewe;fl.root=twe;fl.size=nwe;fl.visit=iwe;fl.visitAfter=rwe;fl.x=awe;function owe(n){const e=+this._x.call(null,n),t=+this._y.call(null,n);return a$(this.cover(e,t),e,t,n)}function a$(n,e,t,i){if(isNaN(e)||isNaN(t))return n;var r,s=n._root,a={data:i},o=n._x0,l=n._y0,u=n._x1,h=n._y1,p,y,v,_,x,E,S,w;if(!s)return n._root=a,n;for(;s.length;)if((x=e>=(p=(o+u)/2))?o=p:u=p,(E=t>=(y=(l+h)/2))?l=y:h=y,r=s,!(s=s[S=E<<1|x]))return r[S]=a,n;if(v=+n._x.call(null,s.data),_=+n._y.call(null,s.data),e===v&&t===_)return a.next=s,r?r[S]=a:n._root=a,n;do r=r?r[S]=new Array(4):n._root=new Array(4),(x=e>=(p=(o+u)/2))?o=p:u=p,(E=t>=(y=(l+h)/2))?l=y:h=y;while((S=E<<1|x)===(w=(_>=y)<<1|v>=p));return r[w]=s,r[S]=a,n}function lwe(n){var e,t,i=n.length,r,s,a=new Array(i),o=new Array(i),l=1/0,u=1/0,h=-1/0,p=-1/0;for(t=0;t<i;++t)isNaN(r=+this._x.call(null,e=n[t]))||isNaN(s=+this._y.call(null,e))||(a[t]=r,o[t]=s,r<l&&(l=r),r>h&&(h=r),s<u&&(u=s),s>p&&(p=s));if(l>h||u>p)return this;for(this.cover(l,u).cover(h,p),t=0;t<i;++t)a$(this,a[t],o[t],n[t]);return this}function cwe(n,e){if(isNaN(n=+n)||isNaN(e=+e))return this;var t=this._x0,i=this._y0,r=this._x1,s=this._y1;if(isNaN(t))r=(t=Math.floor(n))+1,s=(i=Math.floor(e))+1;else{for(var a=r-t||1,o=this._root,l,u;t>n||n>=r||i>e||e>=s;)switch(u=(e<i)<<1|n<t,l=new Array(4),l[u]=o,o=l,a*=2,u){case 0:r=t+a,s=i+a;break;case 1:t=r-a,s=i+a;break;case 2:r=t+a,i=s-a;break;case 3:t=r-a,i=s-a;break}this._root&&this._root.length&&(this._root=o)}return this._x0=t,this._y0=i,this._x1=r,this._y1=s,this}function uwe(){var n=[];return this.visit(function(e){if(!e.length)do n.push(e.data);while(e=e.next)}),n}function fwe(n){return arguments.length?this.cover(+n[0][0],+n[0][1]).cover(+n[1][0],+n[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Io(n,e,t,i,r){this.node=n,this.x0=e,this.y0=t,this.x1=i,this.y1=r}function hwe(n,e,t){var i,r=this._x0,s=this._y0,a,o,l,u,h=this._x1,p=this._y1,y=[],v=this._root,_,x;for(v&&y.push(new Io(v,r,s,h,p)),t==null?t=1/0:(r=n-t,s=e-t,h=n+t,p=e+t,t*=t);_=y.pop();)if(!(!(v=_.node)||(a=_.x0)>h||(o=_.y0)>p||(l=_.x1)<r||(u=_.y1)<s))if(v.length){var E=(a+l)/2,S=(o+u)/2;y.push(new Io(v[3],E,S,l,u),new Io(v[2],a,S,E,u),new Io(v[1],E,o,l,S),new Io(v[0],a,o,E,S)),(x=(e>=S)<<1|n>=E)&&(_=y[y.length-1],y[y.length-1]=y[y.length-1-x],y[y.length-1-x]=_)}else{var w=n-+this._x.call(null,v.data),C=e-+this._y.call(null,v.data),A=w*w+C*C;if(A<t){var N=Math.sqrt(t=A);r=n-N,s=e-N,h=n+N,p=e+N,i=v.data}}return i}function dwe(n){if(isNaN(h=+this._x.call(null,n))||isNaN(p=+this._y.call(null,n)))return this;var e,t=this._root,i,r,s,a=this._x0,o=this._y0,l=this._x1,u=this._y1,h,p,y,v,_,x,E,S;if(!t)return this;if(t.length)for(;;){if((_=h>=(y=(a+l)/2))?a=y:l=y,(x=p>=(v=(o+u)/2))?o=v:u=v,e=t,!(t=t[E=x<<1|_]))return this;if(!t.length)break;(e[E+1&3]||e[E+2&3]||e[E+3&3])&&(i=e,S=E)}for(;t.data!==n;)if(r=t,!(t=t.next))return this;return(s=t.next)&&delete t.next,r?(s?r.next=s:delete r.next,this):e?(s?e[E]=s:delete e[E],(t=e[0]||e[1]||e[2]||e[3])&&t===(e[3]||e[2]||e[1]||e[0])&&!t.length&&(i?i[S]=t:this._root=t),this):(this._root=s,this)}function pwe(n){for(var e=0,t=n.length;e<t;++e)this.remove(n[e]);return this}function mwe(){return this._root}function gwe(){var n=0;return this.visit(function(e){if(!e.length)do++n;while(e=e.next)}),n}function ywe(n){var e=[],t,i=this._root,r,s,a,o,l;for(i&&e.push(new Io(i,this._x0,this._y0,this._x1,this._y1));t=e.pop();)if(!n(i=t.node,s=t.x0,a=t.y0,o=t.x1,l=t.y1)&&i.length){var u=(s+o)/2,h=(a+l)/2;(r=i[3])&&e.push(new Io(r,u,h,o,l)),(r=i[2])&&e.push(new Io(r,s,h,u,l)),(r=i[1])&&e.push(new Io(r,u,a,o,h)),(r=i[0])&&e.push(new Io(r,s,a,u,h))}return this}function vwe(n){var e=[],t=[],i;for(this._root&&e.push(new Io(this._root,this._x0,this._y0,this._x1,this._y1));i=e.pop();){var r=i.node;if(r.length){var s,a=i.x0,o=i.y0,l=i.x1,u=i.y1,h=(a+l)/2,p=(o+u)/2;(s=r[0])&&e.push(new Io(s,a,o,h,p)),(s=r[1])&&e.push(new Io(s,h,o,l,p)),(s=r[2])&&e.push(new Io(s,a,p,h,u)),(s=r[3])&&e.push(new Io(s,h,p,l,u))}t.push(i)}for(;i=t.pop();)n(i.node,i.x0,i.y0,i.x1,i.y1);return this}function _we(n){return n[0]}function bwe(n){return arguments.length?(this._x=n,this):this._x}function xwe(n){return n[1]}function Swe(n){return arguments.length?(this._y=n,this):this._y}function o$(n,e,t){var i=new p4(e??_we,t??xwe,NaN,NaN,NaN,NaN);return n==null?i:i.addAll(n)}function p4(n,e,t,i,r,s){this._x=n,this._y=e,this._x0=t,this._y0=i,this._x1=r,this._y1=s,this._root=void 0}function E9(n){for(var e={data:n.data},t=e;n=n.next;)t=t.next={data:n.data};return e}var Lo=o$.prototype=p4.prototype;Lo.copy=function(){var n=new p4(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,t,i;if(!e)return n;if(!e.length)return n._root=E9(e),n;for(t=[{source:e,target:n._root=new Array(4)}];e=t.pop();)for(var r=0;r<4;++r)(i=e.source[r])&&(i.length?t.push({source:i,target:e.target[r]=new Array(4)}):e.target[r]=E9(i));return n};Lo.add=owe;Lo.addAll=lwe;Lo.cover=cwe;Lo.data=uwe;Lo.extent=fwe;Lo.find=hwe;Lo.remove=dwe;Lo.removeAll=pwe;Lo.root=mwe;Lo.size=gwe;Lo.visit=ywe;Lo.visitAfter=vwe;Lo.x=bwe;Lo.y=Swe;function Ewe(n){const e=+this._x.call(null,n),t=+this._y.call(null,n),i=+this._z.call(null,n);return l$(this.cover(e,t,i),e,t,i,n)}function l$(n,e,t,i,r){if(isNaN(e)||isNaN(t)||isNaN(i))return n;var s,a=n._root,o={data:r},l=n._x0,u=n._y0,h=n._z0,p=n._x1,y=n._y1,v=n._z1,_,x,E,S,w,C,A,N,L,I,D;if(!a)return n._root=o,n;for(;a.length;)if((A=e>=(_=(l+p)/2))?l=_:p=_,(N=t>=(x=(u+y)/2))?u=x:y=x,(L=i>=(E=(h+v)/2))?h=E:v=E,s=a,!(a=a[I=L<<2|N<<1|A]))return s[I]=o,n;if(S=+n._x.call(null,a.data),w=+n._y.call(null,a.data),C=+n._z.call(null,a.data),e===S&&t===w&&i===C)return o.next=a,s?s[I]=o:n._root=o,n;do s=s?s[I]=new Array(8):n._root=new Array(8),(A=e>=(_=(l+p)/2))?l=_:p=_,(N=t>=(x=(u+y)/2))?u=x:y=x,(L=i>=(E=(h+v)/2))?h=E:v=E;while((I=L<<2|N<<1|A)===(D=(C>=E)<<2|(w>=x)<<1|S>=_));return s[D]=a,s[I]=o,n}function Twe(n){Array.isArray(n)||(n=Array.from(n));const e=n.length,t=new Float64Array(e),i=new Float64Array(e),r=new Float64Array(e);let s=1/0,a=1/0,o=1/0,l=-1/0,u=-1/0,h=-1/0;for(let p=0,y,v,_,x;p<e;++p)isNaN(v=+this._x.call(null,y=n[p]))||isNaN(_=+this._y.call(null,y))||isNaN(x=+this._z.call(null,y))||(t[p]=v,i[p]=_,r[p]=x,v<s&&(s=v),v>l&&(l=v),_<a&&(a=_),_>u&&(u=_),x<o&&(o=x),x>h&&(h=x));if(s>l||a>u||o>h)return this;this.cover(s,a,o).cover(l,u,h);for(let p=0;p<e;++p)l$(this,t[p],i[p],r[p],n[p]);return this}function wwe(n,e,t){if(isNaN(n=+n)||isNaN(e=+e)||isNaN(t=+t))return this;var i=this._x0,r=this._y0,s=this._z0,a=this._x1,o=this._y1,l=this._z1;if(isNaN(i))a=(i=Math.floor(n))+1,o=(r=Math.floor(e))+1,l=(s=Math.floor(t))+1;else{for(var u=a-i||1,h=this._root,p,y;i>n||n>=a||r>e||e>=o||s>t||t>=l;)switch(y=(t<s)<<2|(e<r)<<1|n<i,p=new Array(8),p[y]=h,h=p,u*=2,y){case 0:a=i+u,o=r+u,l=s+u;break;case 1:i=a-u,o=r+u,l=s+u;break;case 2:a=i+u,r=o-u,l=s+u;break;case 3:i=a-u,r=o-u,l=s+u;break;case 4:a=i+u,o=r+u,s=l-u;break;case 5:i=a-u,o=r+u,s=l-u;break;case 6:a=i+u,r=o-u,s=l-u;break;case 7:i=a-u,r=o-u,s=l-u;break}this._root&&this._root.length&&(this._root=h)}return this._x0=i,this._y0=r,this._z0=s,this._x1=a,this._y1=o,this._z1=l,this}function Cwe(){var n=[];return this.visit(function(e){if(!e.length)do n.push(e.data);while(e=e.next)}),n}function Awe(n){return arguments.length?this.cover(+n[0][0],+n[0][1],+n[0][2]).cover(+n[1][0],+n[1][1],+n[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]}function ir(n,e,t,i,r,s,a){this.node=n,this.x0=e,this.y0=t,this.z0=i,this.x1=r,this.y1=s,this.z1=a}function Mwe(n,e,t,i){var r,s=this._x0,a=this._y0,o=this._z0,l,u,h,p,y,v,_=this._x1,x=this._y1,E=this._z1,S=[],w=this._root,C,A;for(w&&S.push(new ir(w,s,a,o,_,x,E)),i==null?i=1/0:(s=n-i,a=e-i,o=t-i,_=n+i,x=e+i,E=t+i,i*=i);C=S.pop();)if(!(!(w=C.node)||(l=C.x0)>_||(u=C.y0)>x||(h=C.z0)>E||(p=C.x1)<s||(y=C.y1)<a||(v=C.z1)<o))if(w.length){var N=(l+p)/2,L=(u+y)/2,I=(h+v)/2;S.push(new ir(w[7],N,L,I,p,y,v),new ir(w[6],l,L,I,N,y,v),new ir(w[5],N,u,I,p,L,v),new ir(w[4],l,u,I,N,L,v),new ir(w[3],N,L,h,p,y,I),new ir(w[2],l,L,h,N,y,I),new ir(w[1],N,u,h,p,L,I),new ir(w[0],l,u,h,N,L,I)),(A=(t>=I)<<2|(e>=L)<<1|n>=N)&&(C=S[S.length-1],S[S.length-1]=S[S.length-1-A],S[S.length-1-A]=C)}else{var D=n-+this._x.call(null,w.data),P=e-+this._y.call(null,w.data),U=t-+this._z.call(null,w.data),F=D*D+P*P+U*U;if(F<i){var z=Math.sqrt(i=F);s=n-z,a=e-z,o=t-z,_=n+z,x=e+z,E=t+z,r=w.data}}return r}const Rwe=(n,e,t,i,r,s)=>Math.sqrt((n-i)**2+(e-r)**2+(t-s)**2);function Owe(n,e,t,i){const r=[],s=n-i,a=e-i,o=t-i,l=n+i,u=e+i,h=t+i;return this.visit((p,y,v,_,x,E,S)=>{if(!p.length)do{const w=p.data;Rwe(n,e,t,this._x(w),this._y(w),this._z(w))<=i&&r.push(w)}while(p=p.next);return y>l||v>u||_>h||x<s||E<a||S<o}),r}function Iwe(n){if(isNaN(y=+this._x.call(null,n))||isNaN(v=+this._y.call(null,n))||isNaN(_=+this._z.call(null,n)))return this;var e,t=this._root,i,r,s,a=this._x0,o=this._y0,l=this._z0,u=this._x1,h=this._y1,p=this._z1,y,v,_,x,E,S,w,C,A,N,L;if(!t)return this;if(t.length)for(;;){if((w=y>=(x=(a+u)/2))?a=x:u=x,(C=v>=(E=(o+h)/2))?o=E:h=E,(A=_>=(S=(l+p)/2))?l=S:p=S,e=t,!(t=t[N=A<<2|C<<1|w]))return this;if(!t.length)break;(e[N+1&7]||e[N+2&7]||e[N+3&7]||e[N+4&7]||e[N+5&7]||e[N+6&7]||e[N+7&7])&&(i=e,L=N)}for(;t.data!==n;)if(r=t,!(t=t.next))return this;return(s=t.next)&&delete t.next,r?(s?r.next=s:delete r.next,this):e?(s?e[N]=s:delete e[N],(t=e[0]||e[1]||e[2]||e[3]||e[4]||e[5]||e[6]||e[7])&&t===(e[7]||e[6]||e[5]||e[4]||e[3]||e[2]||e[1]||e[0])&&!t.length&&(i?i[L]=t:this._root=t),this):(this._root=s,this)}function Pwe(n){for(var e=0,t=n.length;e<t;++e)this.remove(n[e]);return this}function Dwe(){return this._root}function Nwe(){var n=0;return this.visit(function(e){if(!e.length)do++n;while(e=e.next)}),n}function Lwe(n){var e=[],t,i=this._root,r,s,a,o,l,u,h;for(i&&e.push(new ir(i,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));t=e.pop();)if(!n(i=t.node,s=t.x0,a=t.y0,o=t.z0,l=t.x1,u=t.y1,h=t.z1)&&i.length){var p=(s+l)/2,y=(a+u)/2,v=(o+h)/2;(r=i[7])&&e.push(new ir(r,p,y,v,l,u,h)),(r=i[6])&&e.push(new ir(r,s,y,v,p,u,h)),(r=i[5])&&e.push(new ir(r,p,a,v,l,y,h)),(r=i[4])&&e.push(new ir(r,s,a,v,p,y,h)),(r=i[3])&&e.push(new ir(r,p,y,o,l,u,v)),(r=i[2])&&e.push(new ir(r,s,y,o,p,u,v)),(r=i[1])&&e.push(new ir(r,p,a,o,l,y,v)),(r=i[0])&&e.push(new ir(r,s,a,o,p,y,v))}return this}function Uwe(n){var e=[],t=[],i;for(this._root&&e.push(new ir(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));i=e.pop();){var r=i.node;if(r.length){var s,a=i.x0,o=i.y0,l=i.z0,u=i.x1,h=i.y1,p=i.z1,y=(a+u)/2,v=(o+h)/2,_=(l+p)/2;(s=r[0])&&e.push(new ir(s,a,o,l,y,v,_)),(s=r[1])&&e.push(new ir(s,y,o,l,u,v,_)),(s=r[2])&&e.push(new ir(s,a,v,l,y,h,_)),(s=r[3])&&e.push(new ir(s,y,v,l,u,h,_)),(s=r[4])&&e.push(new ir(s,a,o,_,y,v,p)),(s=r[5])&&e.push(new ir(s,y,o,_,u,v,p)),(s=r[6])&&e.push(new ir(s,a,v,_,y,h,p)),(s=r[7])&&e.push(new ir(s,y,v,_,u,h,p))}t.push(i)}for(;i=t.pop();)n(i.node,i.x0,i.y0,i.z0,i.x1,i.y1,i.z1);return this}function kwe(n){return n[0]}function zwe(n){return arguments.length?(this._x=n,this):this._x}function Bwe(n){return n[1]}function Fwe(n){return arguments.length?(this._y=n,this):this._y}function Vwe(n){return n[2]}function Hwe(n){return arguments.length?(this._z=n,this):this._z}function c$(n,e,t,i){var r=new m4(e??kwe,t??Bwe,i??Vwe,NaN,NaN,NaN,NaN,NaN,NaN);return n==null?r:r.addAll(n)}function m4(n,e,t,i,r,s,a,o,l){this._x=n,this._y=e,this._z=t,this._x0=i,this._y0=r,this._z0=s,this._x1=a,this._y1=o,this._z1=l,this._root=void 0}function T9(n){for(var e={data:n.data},t=e;n=n.next;)t=t.next={data:n.data};return e}var Ra=c$.prototype=m4.prototype;Ra.copy=function(){var n=new m4(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),e=this._root,t,i;if(!e)return n;if(!e.length)return n._root=T9(e),n;for(t=[{source:e,target:n._root=new Array(8)}];e=t.pop();)for(var r=0;r<8;++r)(i=e.source[r])&&(i.length?t.push({source:i,target:e.target[r]=new Array(8)}):e.target[r]=T9(i));return n};Ra.add=Ewe;Ra.addAll=Twe;Ra.cover=wwe;Ra.data=Cwe;Ra.extent=Awe;Ra.find=Mwe;Ra.findAllWithinRadius=Owe;Ra.remove=Iwe;Ra.removeAll=Pwe;Ra.root=Dwe;Ra.size=Nwe;Ra.visit=Lwe;Ra.visitAfter=Uwe;Ra.x=zwe;Ra.y=Fwe;Ra.z=Hwe;function Fh(n){return function(){return n}}function Ph(n){return(n()-.5)*1e-6}function jwe(n){return n.index}function w9(n,e){var t=n.get(e);if(!t)throw new Error("node not found: "+e);return t}function Gwe(n){var e=jwe,t=y,i,r=Fh(30),s,a,o,l,u,h,p=1;n==null&&(n=[]);function y(S){return 1/Math.min(l[S.source.index],l[S.target.index])}function v(S){for(var w=0,C=n.length;w<p;++w)for(var A=0,N,L,I,D=0,P=0,U=0,F,z;A<C;++A)N=n[A],L=N.source,I=N.target,D=I.x+I.vx-L.x-L.vx||Ph(h),o>1&&(P=I.y+I.vy-L.y-L.vy||Ph(h)),o>2&&(U=I.z+I.vz-L.z-L.vz||Ph(h)),F=Math.sqrt(D*D+P*P+U*U),F=(F-s[A])/F*S*i[A],D*=F,P*=F,U*=F,I.vx-=D*(z=u[A]),o>1&&(I.vy-=P*z),o>2&&(I.vz-=U*z),L.vx+=D*(z=1-z),o>1&&(L.vy+=P*z),o>2&&(L.vz+=U*z)}function _(){if(a){var S,w=a.length,C=n.length,A=new Map(a.map((L,I)=>[e(L,I,a),L])),N;for(S=0,l=new Array(w);S<C;++S)N=n[S],N.index=S,typeof N.source!="object"&&(N.source=w9(A,N.source)),typeof N.target!="object"&&(N.target=w9(A,N.target)),l[N.source.index]=(l[N.source.index]||0)+1,l[N.target.index]=(l[N.target.index]||0)+1;for(S=0,u=new Array(C);S<C;++S)N=n[S],u[S]=l[N.source.index]/(l[N.source.index]+l[N.target.index]);i=new Array(C),x(),s=new Array(C),E()}}function x(){if(a)for(var S=0,w=n.length;S<w;++S)i[S]=+t(n[S],S,n)}function E(){if(a)for(var S=0,w=n.length;S<w;++S)s[S]=+r(n[S],S,n)}return v.initialize=function(S,...w){a=S,h=w.find(C=>typeof C=="function")||Math.random,o=w.find(C=>[1,2,3].includes(C))||2,_()},v.links=function(S){return arguments.length?(n=S,_(),v):n},v.id=function(S){return arguments.length?(e=S,v):e},v.iterations=function(S){return arguments.length?(p=+S,v):p},v.strength=function(S){return arguments.length?(t=typeof S=="function"?S:Fh(+S),x(),v):t},v.distance=function(S){return arguments.length?(r=typeof S=="function"?S:Fh(+S),E(),v):r},v}var qwe={value:()=>{}};function u$(){for(var n=0,e=arguments.length,t={},i;n<e;++n){if(!(i=arguments[n]+"")||i in t||/[\s.]/.test(i))throw new Error("illegal type: "+i);t[i]=[]}return new w2(t)}function w2(n){this._=n}function Wwe(n,e){return n.trim().split(/^|\s+/).map(function(t){var i="",r=t.indexOf(".");if(r>=0&&(i=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:i}})}w2.prototype=u$.prototype={constructor:w2,on:function(n,e){var t=this._,i=Wwe(n+"",t),r,s=-1,a=i.length;if(arguments.length<2){for(;++s<a;)if((r=(n=i[s]).type)&&(r=$we(t[r],n.name)))return r;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<a;)if(r=(n=i[s]).type)t[r]=C9(t[r],n.name,e);else if(e==null)for(r in t)t[r]=C9(t[r],n.name,null);return this},copy:function(){var n={},e=this._;for(var t in e)n[t]=e[t].slice();return new w2(n)},call:function(n,e){if((r=arguments.length-2)>0)for(var t=new Array(r),i=0,r,s;i<r;++i)t[i]=arguments[i+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(s=this._[n],i=0,r=s.length;i<r;++i)s[i].value.apply(e,t)},apply:function(n,e,t){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var i=this._[n],r=0,s=i.length;r<s;++r)i[r].value.apply(e,t)}};function $we(n,e){for(var t=0,i=n.length,r;t<i;++t)if((r=n[t]).name===e)return r.value}function C9(n,e,t){for(var i=0,r=n.length;i<r;++i)if(n[i].name===e){n[i]=qwe,n=n.slice(0,i).concat(n.slice(i+1));break}return t!=null&&n.push({name:e,value:t}),n}var d_=0,X1=0,A1=0,f$=1e3,aA,Y1,oA=0,oy=0,KM=0,pS=typeof performance=="object"&&performance.now?performance:Date,h$=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function d$(){return oy||(h$(Xwe),oy=pS.now()+KM)}function Xwe(){oy=0}function sD(){this._call=this._time=this._next=null}sD.prototype=p$.prototype={constructor:sD,restart:function(n,e,t){if(typeof n!="function")throw new TypeError("callback is not a function");t=(t==null?d$():+t)+(e==null?0:+e),!this._next&&Y1!==this&&(Y1?Y1._next=this:aA=this,Y1=this),this._call=n,this._time=t,aD()},stop:function(){this._call&&(this._call=null,this._time=1/0,aD())}};function p$(n,e,t){var i=new sD;return i.restart(n,e,t),i}function Ywe(){d$(),++d_;for(var n=aA,e;n;)(e=oy-n._time)>=0&&n._call.call(void 0,e),n=n._next;--d_}function A9(){oy=(oA=pS.now())+KM,d_=X1=0;try{Ywe()}finally{d_=0,Zwe(),oy=0}}function Kwe(){var n=pS.now(),e=n-oA;e>f$&&(KM-=e,oA=n)}function Zwe(){for(var n,e=aA,t,i=1/0;e;)e._call?(i>e._time&&(i=e._time),n=e,e=e._next):(t=e._next,e._next=null,e=n?n._next=t:aA=t);Y1=n,aD(i)}function aD(n){if(!d_){X1&&(X1=clearTimeout(X1));var e=n-oy;e>24?(n<1/0&&(X1=setTimeout(A9,n-pS.now()-KM)),A1&&(A1=clearInterval(A1))):(A1||(oA=pS.now(),A1=setInterval(Kwe,f$)),d_=1,h$(A9))}}const Qwe=1664525,Jwe=1013904223,M9=4294967296;function e2e(){let n=1;return()=>(n=(Qwe*n+Jwe)%M9)/M9}var R9=3;function W3(n){return n.x}function O9(n){return n.y}function t2e(n){return n.z}var n2e=10,i2e=Math.PI*(3-Math.sqrt(5)),r2e=Math.PI*20/(9+Math.sqrt(221));function s2e(n,e){e=e||2;var t=Math.min(R9,Math.max(1,Math.round(e))),i,r=1,s=.001,a=1-Math.pow(s,1/300),o=0,l=.6,u=new Map,h=p$(v),p=u$("tick","end"),y=e2e();n==null&&(n=[]);function v(){_(),p.call("tick",i),r<s&&(h.stop(),p.call("end",i))}function _(S){var w,C=n.length,A;S===void 0&&(S=1);for(var N=0;N<S;++N)for(r+=(o-r)*a,u.forEach(function(L){L(r)}),w=0;w<C;++w)A=n[w],A.fx==null?A.x+=A.vx*=l:(A.x=A.fx,A.vx=0),t>1&&(A.fy==null?A.y+=A.vy*=l:(A.y=A.fy,A.vy=0)),t>2&&(A.fz==null?A.z+=A.vz*=l:(A.z=A.fz,A.vz=0));return i}function x(){for(var S=0,w=n.length,C;S<w;++S){if(C=n[S],C.index=S,C.fx!=null&&(C.x=C.fx),C.fy!=null&&(C.y=C.fy),C.fz!=null&&(C.z=C.fz),isNaN(C.x)||t>1&&isNaN(C.y)||t>2&&isNaN(C.z)){var A=n2e*(t>2?Math.cbrt(.5+S):t>1?Math.sqrt(.5+S):S),N=S*i2e,L=S*r2e;t===1?C.x=A:t===2?(C.x=A*Math.cos(N),C.y=A*Math.sin(N)):(C.x=A*Math.sin(N)*Math.cos(L),C.y=A*Math.cos(N),C.z=A*Math.sin(N)*Math.sin(L))}(isNaN(C.vx)||t>1&&isNaN(C.vy)||t>2&&isNaN(C.vz))&&(C.vx=0,t>1&&(C.vy=0),t>2&&(C.vz=0))}}function E(S){return S.initialize&&S.initialize(n,y,t),S}return x(),i={tick:_,restart:function(){return h.restart(v),i},stop:function(){return h.stop(),i},numDimensions:function(S){return arguments.length?(t=Math.min(R9,Math.max(1,Math.round(S))),u.forEach(E),i):t},nodes:function(S){return arguments.length?(n=S,x(),u.forEach(E),i):n},alpha:function(S){return arguments.length?(r=+S,i):r},alphaMin:function(S){return arguments.length?(s=+S,i):s},alphaDecay:function(S){return arguments.length?(a=+S,i):+a},alphaTarget:function(S){return arguments.length?(o=+S,i):o},velocityDecay:function(S){return arguments.length?(l=1-S,i):1-l},randomSource:function(S){return arguments.length?(y=S,u.forEach(E),i):y},force:function(S,w){return arguments.length>1?(w==null?u.delete(S):u.set(S,E(w)),i):u.get(S)},find:function(){var S=Array.prototype.slice.call(arguments),w=S.shift()||0,C=(t>1?S.shift():null)||0,A=(t>2?S.shift():null)||0,N=S.shift()||1/0,L=0,I=n.length,D,P,U,F,z,V;for(N*=N,L=0;L<I;++L)z=n[L],D=w-z.x,P=C-(z.y||0),U=A-(z.z||0),F=D*D+P*P+U*U,F<N&&(V=z,N=F);return V},on:function(S,w){return arguments.length>1?(p.on(S,w),i):p.on(S)}}}function a2e(){var n,e,t,i,r,s=Fh(-30),a,o=1,l=1/0,u=.81;function h(_){var x,E=n.length,S=(e===1?s$(n,W3):e===2?o$(n,W3,O9):e===3?c$(n,W3,O9,t2e):null).visitAfter(y);for(r=_,x=0;x<E;++x)t=n[x],S.visit(v)}function p(){if(n){var _,x=n.length,E;for(a=new Array(x),_=0;_<x;++_)E=n[_],a[E.index]=+s(E,_,n)}}function y(_){var x=0,E,S,w=0,C,A,N,L,I=_.length;if(I){for(C=A=N=L=0;L<I;++L)(E=_[L])&&(S=Math.abs(E.value))&&(x+=E.value,w+=S,C+=S*(E.x||0),A+=S*(E.y||0),N+=S*(E.z||0));x*=Math.sqrt(4/I),_.x=C/w,e>1&&(_.y=A/w),e>2&&(_.z=N/w)}else{E=_,E.x=E.data.x,e>1&&(E.y=E.data.y),e>2&&(E.z=E.data.z);do x+=a[E.data.index];while(E=E.next)}_.value=x}function v(_,x,E,S,w){if(!_.value)return!0;var C=[E,S,w][e-1],A=_.x-t.x,N=e>1?_.y-t.y:0,L=e>2?_.z-t.z:0,I=C-x,D=A*A+N*N+L*L;if(I*I/u<D)return D<l&&(A===0&&(A=Ph(i),D+=A*A),e>1&&N===0&&(N=Ph(i),D+=N*N),e>2&&L===0&&(L=Ph(i),D+=L*L),D<o&&(D=Math.sqrt(o*D)),t.vx+=A*_.value*r/D,e>1&&(t.vy+=N*_.value*r/D),e>2&&(t.vz+=L*_.value*r/D)),!0;if(_.length||D>=l)return;(_.data!==t||_.next)&&(A===0&&(A=Ph(i),D+=A*A),e>1&&N===0&&(N=Ph(i),D+=N*N),e>2&&L===0&&(L=Ph(i),D+=L*L),D<o&&(D=Math.sqrt(o*D)));do _.data!==t&&(I=a[_.data.index]*r/D,t.vx+=A*I,e>1&&(t.vy+=N*I),e>2&&(t.vz+=L*I));while(_=_.next)}return h.initialize=function(_,...x){n=_,i=x.find(E=>typeof E=="function")||Math.random,e=x.find(E=>[1,2,3].includes(E))||2,p()},h.strength=function(_){return arguments.length?(s=typeof _=="function"?_:Fh(+_),p(),h):s},h.distanceMin=function(_){return arguments.length?(o=_*_,h):Math.sqrt(o)},h.distanceMax=function(_){return arguments.length?(l=_*_,h):Math.sqrt(l)},h.theta=function(_){return arguments.length?(u=_*_,h):Math.sqrt(u)},h}function o2e(n,e,t,i){var r,s,a=Fh(.1),o,l;typeof n!="function"&&(n=Fh(+n)),e==null&&(e=0),t==null&&(t=0),i==null&&(i=0);function u(p){for(var y=0,v=r.length;y<v;++y){var _=r[y],x=_.x-e||1e-6,E=(_.y||0)-t||1e-6,S=(_.z||0)-i||1e-6,w=Math.sqrt(x*x+E*E+S*S),C=(l[y]-w)*o[y]*p/w;_.vx+=x*C,s>1&&(_.vy+=E*C),s>2&&(_.vz+=S*C)}}function h(){if(r){var p,y=r.length;for(o=new Array(y),l=new Array(y),p=0;p<y;++p)l[p]=+n(r[p],p,r),o[p]=isNaN(l[p])?0:+a(r[p],p,r)}}return u.initialize=function(p,...y){r=p,s=y.find(v=>[1,2,3].includes(v))||2,h()},u.strength=function(p){return arguments.length?(a=typeof p=="function"?p:Fh(+p),h(),u):a},u.radius=function(p){return arguments.length?(n=typeof p=="function"?p:Fh(+p),h(),u):n},u.x=function(p){return arguments.length?(e=+p,u):e},u.y=function(p){return arguments.length?(t=+p,u):t},u.z=function(p){return arguments.length?(i=+p,u):i},u}function l2e(n){u2e(n);const e=c2e(n);return n.on=e.on,n.off=e.off,n.fire=e.fire,n}function c2e(n){let e=Object.create(null);return{on:function(t,i,r){if(typeof i!="function")throw new Error("callback is expected to be a function");let s=e[t];return s||(s=e[t]=[]),s.push({callback:i,ctx:r}),n},off:function(t,i){if(typeof t>"u")return e=Object.create(null),n;if(e[t])if(typeof i!="function")delete e[t];else{const a=e[t];for(let o=0;o<a.length;++o)a[o].callback===i&&a.splice(o,1)}return n},fire:function(t){const i=e[t];if(!i)return n;let r;arguments.length>1&&(r=Array.prototype.slice.call(arguments,1));for(let s=0;s<i.length;++s){const a=i[s];a.callback.apply(a.ctx,r)}return n}}}function u2e(n){if(!n)throw new Error("Eventify cannot use falsy object as events subject");const e=["on","fire","off"];for(let t=0;t<e.length;++t)if(n.hasOwnProperty(e[t]))throw new Error("Subject cannot be eventified, since it already has property '"+e[t]+"'")}function f2e(n){if(n=n||{},"uniqueLinkId"in n&&(console.warn("ngraph.graph: Starting from version 0.14 `uniqueLinkId` is deprecated.\nUse `multigraph` option instead\n",`
`,`Note: there is also change in default behavior: From now on each graph
is considered to be not a multigraph by default (each edge is unique).`),n.multigraph=n.uniqueLinkId),n.multigraph===void 0&&(n.multigraph=!1),typeof Map!="function")throw new Error("ngraph.graph requires `Map` to be defined. Please polyfill it before using ngraph");var e=new Map,t=new Map,i={},r=0,s=n.multigraph?A:C,a=[],o=W,l=W,u=W,h=W,p={version:20,addNode:x,addLink:w,removeLink:D,removeNode:S,getNode:E,getNodeCount:N,getLinkCount:L,getEdgeCount:L,getLinksCount:L,getNodesCount:N,getLinks:I,forEachNode:pe,forEachLinkedNode:K,forEachLink:V,beginUpdate:u,endUpdate:h,clear:z,hasLink:U,hasNode:E,getLink:U,getLinkById:F};return l2e(p),y(),p;function y(){var Y=p.on;p.on=le;function le(){return p.beginUpdate=u=Q,p.endUpdate=h=re,o=v,l=_,p.on=Y,Y.apply(p,arguments)}}function v(Y,le){a.push({link:Y,changeType:le})}function _(Y,le){a.push({node:Y,changeType:le})}function x(Y,le){if(Y===void 0)throw new Error("Invalid node identifier");u();var de=E(Y);return de?(de.data=le,l(de,"update")):(de=new h2e(Y,le),l(de,"add")),e.set(Y,de),h(),de}function E(Y){return e.get(Y)}function S(Y){var le=E(Y);if(!le)return!1;u();var de=le.links;return de&&(de.forEach(P),le.links=null),e.delete(Y),l(le,"remove"),h(),!0}function w(Y,le,de){u();var ue=E(Y)||x(Y),ne=E(le)||x(le),he=s(Y,le,de),me=t.has(he.id);return t.set(he.id,he),I9(ue,he),Y!==le&&I9(ne,he),o(he,me?"update":"add"),h(),he}function C(Y,le,de){var ue=Mw(Y,le),ne=t.get(ue);return ne?(ne.data=de,ne):new P9(Y,le,de,ue)}function A(Y,le,de){var ue=Mw(Y,le),ne=i.hasOwnProperty(ue);if(ne||U(Y,le)){ne||(i[ue]=0);var he="@"+ ++i[ue];ue=Mw(Y+he,le+he)}return new P9(Y,le,de,ue)}function N(){return e.size}function L(){return t.size}function I(Y){var le=E(Y);return le?le.links:null}function D(Y,le){return le!==void 0&&(Y=U(Y,le)),P(Y)}function P(Y){if(!Y||!t.get(Y.id))return!1;u(),t.delete(Y.id);var le=E(Y.fromId),de=E(Y.toId);return le&&le.links.delete(Y),de&&de.links.delete(Y),o(Y,"remove"),h(),!0}function U(Y,le){if(!(Y===void 0||le===void 0))return t.get(Mw(Y,le))}function F(Y){if(Y!==void 0)return t.get(Y)}function z(){u(),pe(function(Y){S(Y.id)}),h()}function V(Y){if(typeof Y=="function")for(var le=t.values(),de=le.next();!de.done;){if(Y(de.value))return!0;de=le.next()}}function K(Y,le,de){var ue=E(Y);if(ue&&ue.links&&typeof le=="function")return de?q(ue.links,Y,le):J(ue.links,Y,le)}function J(Y,le,de){for(var ue,ne=Y.values(),he=ne.next();!he.done;){var me=he.value,Le=me.fromId===le?me.toId:me.fromId;if(ue=de(e.get(Le),me),ue)return!0;he=ne.next()}}function q(Y,le,de){for(var ue,ne=Y.values(),he=ne.next();!he.done;){var me=he.value;if(me.fromId===le&&(ue=de(e.get(me.toId),me),ue))return!0;he=ne.next()}}function W(){}function Q(){r+=1}function re(){r-=1,r===0&&a.length>0&&(p.fire("changed",a),a.length=0)}function pe(Y){if(typeof Y!="function")throw new Error("Function is expected to iterate over graph nodes. You passed "+Y);for(var le=e.values(),de=le.next();!de.done;){if(Y(de.value))return!0;de=le.next()}}}function h2e(n,e){this.id=n,this.links=null,this.data=e}function I9(n,e){n.links?n.links.add(e):n.links=new Set([e])}function P9(n,e,t,i){this.fromId=n,this.toId=e,this.data=t,this.id=i}function Mw(n,e){return n.toString()+" "+e.toString()}var Rw={exports:{}},Kv={exports:{}},$3,D9;function m$(){return D9||(D9=1,$3=function(e){return e===0?"x":e===1?"y":e===2?"z":"c"+(e+1)}),$3}var X3,N9;function z_(){if(N9)return X3;N9=1;const n=m$();return X3=function(t){return i;function i(r,s){let a=s&&s.indent||0,o=s&&s.join!==void 0?s.join:`
`,l=Array(a+1).join(" "),u=[];for(let h=0;h<t;++h){let p=n(h),y=h===0?"":l;u.push(y+r.replace(/{var}/g,p))}return u.join(o)}},X3}var L9;function d2e(){if(L9)return Kv.exports;L9=1;const n=z_();Kv.exports=e,Kv.exports.generateCreateBodyFunctionBody=t,Kv.exports.getVectorCode=r,Kv.exports.getBodyCode=i;function e(s,a){let o=t(s,a),{Body:l}=new Function(o)();return l}function t(s,a){return`
${r(s,a)}
${i(s)}
return {Body: Body, Vector: Vector};
`}function i(s){let a=n(s),o=a("{var}",{join:", "});return`
function Body(${o}) {
  this.isPinned = false;
  this.pos = new Vector(${o});
  this.force = new Vector();
  this.velocity = new Vector();
  this.mass = 1;

  this.springCount = 0;
  this.springLength = 0;
}

Body.prototype.reset = function() {
  this.force.reset();
  this.springCount = 0;
  this.springLength = 0;
}

Body.prototype.setPosition = function (${o}) {
  ${a("this.pos.{var} = {var} || 0;",{indent:2})}
};`}function r(s,a){let o=n(s),l="";return a&&(l=`${o(`
	   var v{var};
	Object.defineProperty(this, '{var}', {
	  set: function(v) { 
	    if (!Number.isFinite(v)) throw new Error('Cannot set non-numbers to {var}');
	    v{var} = v; 
	  },
	  get: function() { return v{var}; }
	});`)}`),`function Vector(${o("{var}",{join:", "})}) {
  ${l}
    if (typeof arguments[0] === 'object') {
      // could be another vector
      let v = arguments[0];
      ${o('if (!Number.isFinite(v.{var})) throw new Error("Expected value is not a finite number at Vector constructor ({var})");',{indent:4})}
      ${o("this.{var} = v.{var};",{indent:4})}
    } else {
      ${o('this.{var} = typeof {var} === "number" ? {var} : 0;',{indent:4})}
    }
  }
  
  Vector.prototype.reset = function () {
    ${o("this.{var} = ",{join:""})}0;
  };`}return Kv.exports}var wh={exports:{}},U9;function p2e(){if(U9)return wh.exports;U9=1;const n=z_(),e=m$();wh.exports=t,wh.exports.generateQuadTreeFunctionBody=i,wh.exports.getInsertStackCode=l,wh.exports.getQuadNodeCode=o,wh.exports.isSamePosition=r,wh.exports.getChildBodyCode=a,wh.exports.setChildBodyCode=s;function t(u){let h=i(u);return new Function(h)()}function i(u){let h=n(u),p=Math.pow(2,u);return`
${l()}
${o(u)}
${r(u)}
${a(u)}
${s(u)}

function createQuadTree(options, random) {
  options = options || {};
  options.gravity = typeof options.gravity === 'number' ? options.gravity : -1;
  options.theta = typeof options.theta === 'number' ? options.theta : 0.8;

  var gravity = options.gravity;
  var updateQueue = [];
  var insertStack = new InsertStack();
  var theta = options.theta;

  var nodesCache = [];
  var currentInCache = 0;
  var root = newNode();

  return {
    insertBodies: insertBodies,

    /**
     * Gets root node if it is present
     */
    getRoot: function() {
      return root;
    },

    updateBodyForce: update,

    options: function(newOptions) {
      if (newOptions) {
        if (typeof newOptions.gravity === 'number') {
          gravity = newOptions.gravity;
        }
        if (typeof newOptions.theta === 'number') {
          theta = newOptions.theta;
        }

        return this;
      }

      return {
        gravity: gravity,
        theta: theta
      };
    }
  };

  function newNode() {
    // To avoid pressure on GC we reuse nodes.
    var node = nodesCache[currentInCache];
    if (node) {
${x("      node.")}
      node.body = null;
      node.mass = ${h("node.mass_{var} = ",{join:""})}0;
      ${h("node.min_{var} = node.max_{var} = ",{join:""})}0;
    } else {
      node = new QuadNode();
      nodesCache[currentInCache] = node;
    }

    ++currentInCache;
    return node;
  }

  function update(sourceBody) {
    var queue = updateQueue;
    var v;
    ${h("var d{var};",{indent:4})}
    var r; 
    ${h("var f{var} = 0;",{indent:4})}
    var queueLength = 1;
    var shiftIdx = 0;
    var pushIdx = 1;

    queue[0] = root;

    while (queueLength) {
      var node = queue[shiftIdx];
      var body = node.body;

      queueLength -= 1;
      shiftIdx += 1;
      var differentBody = (body !== sourceBody);
      if (body && differentBody) {
        // If the current node is a leaf node (and it is not source body),
        // calculate the force exerted by the current node on body, and add this
        // amount to body's net force.
        ${h("d{var} = body.pos.{var} - sourceBody.pos.{var};",{indent:8})}
        r = Math.sqrt(${h("d{var} * d{var}",{join:" + "})});

        if (r === 0) {
          // Poor man's protection against zero distance.
          ${h("d{var} = (random.nextDouble() - 0.5) / 50;",{indent:10})}
          r = Math.sqrt(${h("d{var} * d{var}",{join:" + "})});
        }

        // This is standard gravitation force calculation but we divide
        // by r^3 to save two operations when normalizing force vector.
        v = gravity * body.mass * sourceBody.mass / (r * r * r);
        ${h("f{var} += v * d{var};",{indent:8})}
      } else if (differentBody) {
        // Otherwise, calculate the ratio s / r,  where s is the width of the region
        // represented by the internal node, and r is the distance between the body
        // and the node's center-of-mass
        ${h("d{var} = node.mass_{var} / node.mass - sourceBody.pos.{var};",{indent:8})}
        r = Math.sqrt(${h("d{var} * d{var}",{join:" + "})});

        if (r === 0) {
          // Sorry about code duplication. I don't want to create many functions
          // right away. Just want to see performance first.
          ${h("d{var} = (random.nextDouble() - 0.5) / 50;",{indent:10})}
          r = Math.sqrt(${h("d{var} * d{var}",{join:" + "})});
        }
        // If s / r < , treat this internal node as a single body, and calculate the
        // force it exerts on sourceBody, and add this amount to sourceBody's net force.
        if ((node.max_${e(0)} - node.min_${e(0)}) / r < theta) {
          // in the if statement above we consider node's width only
          // because the region was made into square during tree creation.
          // Thus there is no difference between using width or height.
          v = gravity * node.mass * sourceBody.mass / (r * r * r);
          ${h("f{var} += v * d{var};",{indent:10})}
        } else {
          // Otherwise, run the procedure recursively on each of the current node's children.

          // I intentionally unfolded this loop, to save several CPU cycles.
${_()}
        }
      }
    }

    ${h("sourceBody.force.{var} += f{var};",{indent:4})}
  }

  function insertBodies(bodies) {
    ${h("var {var}min = Number.MAX_VALUE;",{indent:4})}
    ${h("var {var}max = Number.MIN_VALUE;",{indent:4})}
    var i = bodies.length;

    // To reduce quad tree depth we are looking for exact bounding box of all particles.
    while (i--) {
      var pos = bodies[i].pos;
      ${h("if (pos.{var} < {var}min) {var}min = pos.{var};",{indent:6})}
      ${h("if (pos.{var} > {var}max) {var}max = pos.{var};",{indent:6})}
    }

    // Makes the bounds square.
    var maxSideLength = -Infinity;
    ${h("if ({var}max - {var}min > maxSideLength) maxSideLength = {var}max - {var}min ;",{indent:4})}

    currentInCache = 0;
    root = newNode();
    ${h("root.min_{var} = {var}min;",{indent:4})}
    ${h("root.max_{var} = {var}min + maxSideLength;",{indent:4})}

    i = bodies.length - 1;
    if (i >= 0) {
      root.body = bodies[i];
    }
    while (i--) {
      insert(bodies[i], root);
    }
  }

  function insert(newBody) {
    insertStack.reset();
    insertStack.push(root, newBody);

    while (!insertStack.isEmpty()) {
      var stackItem = insertStack.pop();
      var node = stackItem.node;
      var body = stackItem.body;

      if (!node.body) {
        // This is internal node. Update the total mass of the node and center-of-mass.
        ${h("var {var} = body.pos.{var};",{indent:8})}
        node.mass += body.mass;
        ${h("node.mass_{var} += body.mass * {var};",{indent:8})}

        // Recursively insert the body in the appropriate quadrant.
        // But first find the appropriate quadrant.
        var quadIdx = 0; // Assume we are in the 0's quad.
        ${h("var min_{var} = node.min_{var};",{indent:8})}
        ${h("var max_{var} = (min_{var} + node.max_{var}) / 2;",{indent:8})}

${v(8)}

        var child = getChild(node, quadIdx);

        if (!child) {
          // The node is internal but this quadrant is not taken. Add
          // subnode to it.
          child = newNode();
          ${h("child.min_{var} = min_{var};",{indent:10})}
          ${h("child.max_{var} = max_{var};",{indent:10})}
          child.body = body;

          setChild(node, quadIdx, child);
        } else {
          // continue searching in this quadrant.
          insertStack.push(child, body);
        }
      } else {
        // We are trying to add to the leaf node.
        // We have to convert current leaf into internal node
        // and continue adding two nodes.
        var oldBody = node.body;
        node.body = null; // internal nodes do not cary bodies

        if (isSamePosition(oldBody.pos, body.pos)) {
          // Prevent infinite subdivision by bumping one node
          // anywhere in this quadrant
          var retriesCount = 3;
          do {
            var offset = random.nextDouble();
            ${h("var d{var} = (node.max_{var} - node.min_{var}) * offset;",{indent:12})}

            ${h("oldBody.pos.{var} = node.min_{var} + d{var};",{indent:12})}
            retriesCount -= 1;
            // Make sure we don't bump it out of the box. If we do, next iteration should fix it
          } while (retriesCount > 0 && isSamePosition(oldBody.pos, body.pos));

          if (retriesCount === 0 && isSamePosition(oldBody.pos, body.pos)) {
            // This is very bad, we ran out of precision.
            // if we do not return from the method we'll get into
            // infinite loop here. So we sacrifice correctness of layout, and keep the app running
            // Next layout iteration should get larger bounding box in the first step and fix this
            return;
          }
        }
        // Next iteration should subdivide node further.
        insertStack.push(node, oldBody);
        insertStack.push(node, body);
      }
    }
  }
}
return createQuadTree;

`;function v(E){let S=[],w=Array(E+1).join(" ");for(let C=0;C<u;++C)S.push(w+`if (${e(C)} > max_${e(C)}) {`),S.push(w+`  quadIdx = quadIdx + ${Math.pow(2,C)};`),S.push(w+`  min_${e(C)} = max_${e(C)};`),S.push(w+`  max_${e(C)} = node.max_${e(C)};`),S.push(w+"}");return S.join(`
`)}function _(){let E=Array(11).join(" "),S=[];for(let w=0;w<p;++w)S.push(E+`if (node.quad${w}) {`),S.push(E+`  queue[pushIdx] = node.quad${w};`),S.push(E+"  queueLength += 1;"),S.push(E+"  pushIdx += 1;"),S.push(E+"}");return S.join(`
`)}function x(E){let S=[];for(let w=0;w<p;++w)S.push(`${E}quad${w} = null;`);return S.join(`
`)}}function r(u){let h=n(u);return`
  function isSamePosition(point1, point2) {
    ${h("var d{var} = Math.abs(point1.{var} - point2.{var});",{indent:2})}
  
    return ${h("d{var} < 1e-8",{join:" && "})};
  }  
`}function s(u){var h=Math.pow(2,u);return`
function setChild(node, idx, child) {
  ${p()}
}`;function p(){let y=[];for(let v=0;v<h;++v){let _=v===0?"  ":"  else ";y.push(`${_}if (idx === ${v}) node.quad${v} = child;`)}return y.join(`
`)}}function a(u){return`function getChild(node, idx) {
${h()}
  return null;
}`;function h(){let p=[],y=Math.pow(2,u);for(let v=0;v<y;++v)p.push(`  if (idx === ${v}) return node.quad${v};`);return p.join(`
`)}}function o(u){let h=n(u),p=Math.pow(2,u);var y=`
function QuadNode() {
  // body stored inside this node. In quad tree only leaf nodes (by construction)
  // contain bodies:
  this.body = null;

  // Child nodes are stored in quads. Each quad is presented by number:
  // 0 | 1
  // -----
  // 2 | 3
${v("  this.")}

  // Total mass of current node
  this.mass = 0;

  // Center of mass coordinates
  ${h("this.mass_{var} = 0;",{indent:2})}

  // bounding box coordinates
  ${h("this.min_{var} = 0;",{indent:2})}
  ${h("this.max_{var} = 0;",{indent:2})}
}
`;return y;function v(_){let x=[];for(let E=0;E<p;++E)x.push(`${_}quad${E} = null;`);return x.join(`
`)}}function l(){return`
/**
 * Our implementation of QuadTree is non-recursive to avoid GC hit
 * This data structure represent stack of elements
 * which we are trying to insert into quad tree.
 */
function InsertStack () {
    this.stack = [];
    this.popIdx = 0;
}

InsertStack.prototype = {
    isEmpty: function() {
        return this.popIdx === 0;
    },
    push: function (node, body) {
        var item = this.stack[this.popIdx];
        if (!item) {
            // we are trying to avoid memory pressure: create new element
            // only when absolutely necessary
            this.stack[this.popIdx] = new InsertStackElement(node, body);
        } else {
            item.node = node;
            item.body = body;
        }
        ++this.popIdx;
    },
    pop: function () {
        if (this.popIdx > 0) {
            return this.stack[--this.popIdx];
        }
    },
    reset: function () {
        this.popIdx = 0;
    }
};

function InsertStackElement(node, body) {
    this.node = node; // QuadTree node
    this.body = body; // physical body which needs to be inserted to node
}
`}return wh.exports}var Ow={exports:{}},k9;function m2e(){if(k9)return Ow.exports;k9=1,Ow.exports=e,Ow.exports.generateFunctionBody=t;const n=z_();function e(i){let r=t(i);return new Function("bodies","settings","random",r)}function t(i){let r=n(i);return`
  var boundingBox = {
    ${r("min_{var}: 0, max_{var}: 0,",{indent:4})}
  };

  return {
    box: boundingBox,

    update: updateBoundingBox,

    reset: resetBoundingBox,

    getBestNewPosition: function (neighbors) {
      var ${r("base_{var} = 0",{join:", "})};

      if (neighbors.length) {
        for (var i = 0; i < neighbors.length; ++i) {
          let neighborPos = neighbors[i].pos;
          ${r("base_{var} += neighborPos.{var};",{indent:10})}
        }

        ${r("base_{var} /= neighbors.length;",{indent:8})}
      } else {
        ${r("base_{var} = (boundingBox.min_{var} + boundingBox.max_{var}) / 2;",{indent:8})}
      }

      var springLength = settings.springLength;
      return {
        ${r("{var}: base_{var} + (random.nextDouble() - 0.5) * springLength,",{indent:8})}
      };
    }
  };

  function updateBoundingBox() {
    var i = bodies.length;
    if (i === 0) return; // No bodies - no borders.

    ${r("var max_{var} = -Infinity;",{indent:4})}
    ${r("var min_{var} = Infinity;",{indent:4})}

    while(i--) {
      // this is O(n), it could be done faster with quadtree, if we check the root node bounds
      var bodyPos = bodies[i].pos;
      ${r("if (bodyPos.{var} < min_{var}) min_{var} = bodyPos.{var};",{indent:6})}
      ${r("if (bodyPos.{var} > max_{var}) max_{var} = bodyPos.{var};",{indent:6})}
    }

    ${r("boundingBox.min_{var} = min_{var};",{indent:4})}
    ${r("boundingBox.max_{var} = max_{var};",{indent:4})}
  }

  function resetBoundingBox() {
    ${r("boundingBox.min_{var} = boundingBox.max_{var} = 0;",{indent:4})}
  }
`}return Ow.exports}var Iw={exports:{}},z9;function g2e(){if(z9)return Iw.exports;z9=1;const n=z_();Iw.exports=e,Iw.exports.generateCreateDragForceFunctionBody=t;function e(i){let r=t(i);return new Function("options",r)}function t(i){return`
  if (!Number.isFinite(options.dragCoefficient)) throw new Error('dragCoefficient is not a finite number');

  return {
    update: function(body) {
      ${n(i)("body.force.{var} -= options.dragCoefficient * body.velocity.{var};",{indent:6})}
    }
  };
`}return Iw.exports}var Pw={exports:{}},B9;function y2e(){if(B9)return Pw.exports;B9=1;const n=z_();Pw.exports=e,Pw.exports.generateCreateSpringForceFunctionBody=t;function e(i){let r=t(i);return new Function("options","random",r)}function t(i){let r=n(i);return`
  if (!Number.isFinite(options.springCoefficient)) throw new Error('Spring coefficient is not a number');
  if (!Number.isFinite(options.springLength)) throw new Error('Spring length is not a number');

  return {
    /**
     * Updates forces acting on a spring
     */
    update: function (spring) {
      var body1 = spring.from;
      var body2 = spring.to;
      var length = spring.length < 0 ? options.springLength : spring.length;
      ${r("var d{var} = body2.pos.{var} - body1.pos.{var};",{indent:6})}
      var r = Math.sqrt(${r("d{var} * d{var}",{join:" + "})});

      if (r === 0) {
        ${r("d{var} = (random.nextDouble() - 0.5) / 50;",{indent:8})}
        r = Math.sqrt(${r("d{var} * d{var}",{join:" + "})});
      }

      var d = r - length;
      var coefficient = ((spring.coefficient > 0) ? spring.coefficient : options.springCoefficient) * d / r;

      ${r("body1.force.{var} += coefficient * d{var}",{indent:6})};
      body1.springCount += 1;
      body1.springLength += r;

      ${r("body2.force.{var} -= coefficient * d{var}",{indent:6})};
      body2.springCount += 1;
      body2.springLength += r;
    }
  };
`}return Pw.exports}var Dw={exports:{}},F9;function v2e(){if(F9)return Dw.exports;F9=1;const n=z_();Dw.exports=e,Dw.exports.generateIntegratorFunctionBody=t;function e(i){let r=t(i);return new Function("bodies","timeStep","adaptiveTimeStepWeight",r)}function t(i){let r=n(i);return`
  var length = bodies.length;
  if (length === 0) return 0;

  ${r("var d{var} = 0, t{var} = 0;",{indent:2})}

  for (var i = 0; i < length; ++i) {
    var body = bodies[i];
    if (body.isPinned) continue;

    if (adaptiveTimeStepWeight && body.springCount) {
      timeStep = (adaptiveTimeStepWeight * body.springLength/body.springCount);
    }

    var coeff = timeStep / body.mass;

    ${r("body.velocity.{var} += coeff * body.force.{var};",{indent:4})}
    ${r("var v{var} = body.velocity.{var};",{indent:4})}
    var v = Math.sqrt(${r("v{var} * v{var}",{join:" + "})});

    if (v > 1) {
      // We normalize it so that we move within timeStep range. 
      // for the case when v <= 1 - we let velocity to fade out.
      ${r("body.velocity.{var} = v{var} / v;",{indent:6})}
    }

    ${r("d{var} = timeStep * body.velocity.{var};",{indent:4})}

    ${r("body.pos.{var} += d{var};",{indent:4})}

    ${r("t{var} += Math.abs(d{var});",{indent:4})}
  }

  return (${r("t{var} * t{var}",{join:" + "})})/length;
`}return Dw.exports}var Y3,V9;function _2e(){if(V9)return Y3;V9=1,Y3=n;function n(e,t,i,r){this.from=e,this.to=t,this.length=i,this.coefficient=r}return Y3}var K3,H9;function b2e(){if(H9)return K3;H9=1,K3=n;function n(e,t){var i;if(e||(e={}),t){for(i in t)if(t.hasOwnProperty(i)){var r=e.hasOwnProperty(i),s=typeof t[i],a=!r||typeof e[i]!==s;a?e[i]=t[i]:s==="object"&&(e[i]=n(e[i],t[i]))}}return e}return K3}var Z3,j9;function g$(){if(j9)return Z3;j9=1;function n(i){t(i);const r=e(i);return i.on=r.on,i.off=r.off,i.fire=r.fire,i}function e(i){let r=Object.create(null);return{on:function(s,a,o){if(typeof a!="function")throw new Error("callback is expected to be a function");let l=r[s];return l||(l=r[s]=[]),l.push({callback:a,ctx:o}),i},off:function(s,a){if(typeof s>"u")return r=Object.create(null),i;if(r[s])if(typeof a!="function")delete r[s];else{const o=r[s];for(let l=0;l<o.length;++l)o[l].callback===a&&o.splice(l,1)}return i},fire:function(s){const a=r[s];if(!a)return i;let o;arguments.length>1&&(o=Array.prototype.slice.call(arguments,1));for(let l=0;l<a.length;++l){const u=a[l];u.callback.apply(u.ctx,o)}return i}}}function t(i){if(!i)throw new Error("Eventify cannot use falsy object as events subject");const r=["on","fire","off"];for(let s=0;s<r.length;++s)if(i.hasOwnProperty(r[s]))throw new Error("Subject cannot be eventified, since it already has property '"+r[s]+"'")}return Z3=n,Z3}var M1={exports:{}},G9;function x2e(){if(G9)return M1.exports;G9=1,M1.exports=n,M1.exports.random=n,M1.exports.randomIterator=o;function n(l){var u=typeof l=="number"?l:+new Date;return new e(u)}function e(l){this.seed=l}e.prototype.next=a,e.prototype.nextDouble=s,e.prototype.uniform=s,e.prototype.gaussian=t,e.prototype.random=s;function t(){var l,u,h;do u=this.nextDouble()*2-1,h=this.nextDouble()*2-1,l=u*u+h*h;while(l>=1||l===0);return u*Math.sqrt(-2*Math.log(l)/l)}e.prototype.levy=i;function i(){var l=1.5,u=Math.pow(r(1+l)*Math.sin(Math.PI*l/2)/(r((1+l)/2)*l*Math.pow(2,(l-1)/2)),1/l);return this.gaussian()*u/Math.pow(Math.abs(this.gaussian()),1/l)}function r(l){return Math.sqrt(2*Math.PI/l)*Math.pow(1/Math.E*(l+1/(12*l-1/(10*l))),l)}function s(){var l=this.seed;return l=l+2127912214+(l<<12)&4294967295,l=(l^3345072700^l>>>19)&4294967295,l=l+374761393+(l<<5)&4294967295,l=(l+3550635116^l<<9)&4294967295,l=l+4251993797+(l<<3)&4294967295,l=(l^3042594569^l>>>16)&4294967295,this.seed=l,(l&268435455)/268435456}function a(l){return Math.floor(this.nextDouble()*l)}function o(l,u){var h=u||n();if(typeof h.next!="function")throw new Error("customRandom does not match expected API: next() function is missing");return{forEach:y,shuffle:p};function p(){var v,_,x;for(v=l.length-1;v>0;--v)_=h.next(v+1),x=l[_],l[_]=l[v],l[v]=x;return l}function y(v){var _,x,E;for(_=l.length-1;_>0;--_)x=h.next(_+1),E=l[x],l[x]=l[_],l[_]=E,v(E);l.length&&v(l[0])}}return M1.exports}var Q3,q9;function W9(){if(q9)return Q3;q9=1,Q3=o;var n=d2e(),e=p2e(),t=m2e(),i=g2e(),r=y2e(),s=v2e(),a={};function o(h){var p=_2e(),y=b2e(),v=g$();if(h){if(h.springCoeff!==void 0)throw new Error("springCoeff was renamed to springCoefficient");if(h.dragCoeff!==void 0)throw new Error("dragCoeff was renamed to dragCoefficient")}h=y(h,{springLength:10,springCoefficient:.8,gravity:-12,theta:.8,dragCoefficient:.9,timeStep:.5,adaptiveTimeStepWeight:0,dimensions:2,debug:!1});var _=a[h.dimensions];if(!_){var x=h.dimensions;_={Body:n(x,h.debug),createQuadTree:e(x),createBounds:t(x),createDragForce:i(x),createSpringForce:r(x),integrate:s(x)},a[x]=_}var E=_.Body,S=_.createQuadTree,w=_.createBounds,C=_.createDragForce,A=_.createSpringForce,N=_.integrate,L=ne=>new E(ne),I=x2e().random(42),D=[],P=[],U=S(h,I),F=w(D,h,I),z=A(h,I),V=C(h),K=0,J=[],q=new Map,W=0;pe("nbody",de),pe("spring",ue);var Q={bodies:D,quadTree:U,springs:P,settings:h,addForce:pe,removeForce:Y,getForces:le,step:function(){for(var ne=0;ne<J.length;++ne)J[ne](W);var he=N(D,h.timeStep,h.adaptiveTimeStepWeight);return W+=1,he},addBody:function(ne){if(!ne)throw new Error("Body is required");return D.push(ne),ne},addBodyAt:function(ne){if(!ne)throw new Error("Body position is required");var he=L(ne);return D.push(he),he},removeBody:function(ne){if(ne){var he=D.indexOf(ne);if(!(he<0))return D.splice(he,1),D.length===0&&F.reset(),!0}},addSpring:function(ne,he,me,Le){if(!ne||!he)throw new Error("Cannot add null spring to force simulator");typeof me!="number"&&(me=-1);var Ye=new p(ne,he,me,Le>=0?Le:-1);return P.push(Ye),Ye},getTotalMovement:function(){return K},removeSpring:function(ne){if(ne){var he=P.indexOf(ne);if(he>-1)return P.splice(he,1),!0}},getBestNewBodyPosition:function(ne){return F.getBestNewPosition(ne)},getBBox:re,getBoundingBox:re,invalidateBBox:function(){console.warn("invalidateBBox() is deprecated, bounds always recomputed on `getBBox()` call")},gravity:function(ne){return ne!==void 0?(h.gravity=ne,U.options({gravity:ne}),this):h.gravity},theta:function(ne){return ne!==void 0?(h.theta=ne,U.options({theta:ne}),this):h.theta},random:I};return l(h,Q),v(Q),Q;function re(){return F.update(),F.box}function pe(ne,he){if(q.has(ne))throw new Error("Force "+ne+" is already added");q.set(ne,he),J.push(he)}function Y(ne){var he=J.indexOf(q.get(ne));he<0||(J.splice(he,1),q.delete(ne))}function le(){return q}function de(){if(D.length!==0){U.insertBodies(D);for(var ne=D.length;ne--;){var he=D[ne];he.isPinned||(he.reset(),U.updateBodyForce(he),V.update(he))}}}function ue(){for(var ne=P.length;ne--;)z.update(P[ne])}}function l(h,p){for(var y in h)u(h,p,y)}function u(h,p,y){if(h.hasOwnProperty(y)&&typeof p[y]!="function"){var v=Number.isFinite(h[y]);v?p[y]=function(_){if(_!==void 0){if(!Number.isFinite(_))throw new Error("Value of "+y+" should be a valid number.");return h[y]=_,p}return h[y]}:p[y]=function(_){return _!==void 0?(h[y]=_,p):h[y]}}}return Q3}var $9;function S2e(){if($9)return Rw.exports;$9=1,Rw.exports=e,Rw.exports.simulator=W9();var n=g$();function e(i,r){if(!i)throw new Error("Graph structure cannot be undefined");var s=r&&r.createSimulator||W9(),a=s(r);if(Array.isArray(r))throw new Error("Physics settings is expected to be an object");var o=i.version>19?q:J;r&&typeof r.nodeMass=="function"&&(o=r.nodeMass);var l=new Map,u={},h=0,p=a.settings.springTransform||t;L(),C();var y=!1,v={step:function(){if(h===0)return _(!0),!0;var W=a.step();v.lastMove=W,v.fire("step");var Q=W/h,re=Q<=.01;return _(re),re},getNodePosition:function(W){return K(W).pos},setNodePosition:function(W){var Q=K(W);Q.setPosition.apply(Q,Array.prototype.slice.call(arguments,1))},getLinkPosition:function(W){var Q=u[W];if(Q)return{from:Q.from.pos,to:Q.to.pos}},getGraphRect:function(){return a.getBBox()},forEachBody:x,pinNode:function(W,Q){var re=K(W.id);re.isPinned=!!Q},isNodePinned:function(W){return K(W.id).isPinned},dispose:function(){i.off("changed",N),v.fire("disposed")},getBody:w,getSpring:S,getForceVectorLength:E,simulator:a,graph:i,lastMove:0};return n(v),v;function _(W){y!==W&&(y=W,A(W))}function x(W){l.forEach(W)}function E(){var W=0,Q=0;return x(function(re){W+=Math.abs(re.force.x),Q+=Math.abs(re.force.y)}),Math.sqrt(W*W+Q*Q)}function S(W,Q){var re;if(Q===void 0)typeof W!="object"?re=W:re=W.id;else{var pe=i.hasLink(W,Q);if(!pe)return;re=pe.id}return u[re]}function w(W){return l.get(W)}function C(){i.on("changed",N)}function A(W){v.fire("stable",W)}function N(W){for(var Q=0;Q<W.length;++Q){var re=W[Q];re.changeType==="add"?(re.node&&I(re.node.id),re.link&&P(re.link)):re.changeType==="remove"&&(re.node&&D(re.node),re.link&&U(re.link))}h=i.getNodesCount()}function L(){h=0,i.forEachNode(function(W){I(W.id),h+=1}),i.forEachLink(P)}function I(W){var Q=l.get(W);if(!Q){var re=i.getNode(W);if(!re)throw new Error("initBody() was called with unknown node id");var pe=re.position;if(!pe){var Y=F(re);pe=a.getBestNewBodyPosition(Y)}Q=a.addBodyAt(pe),Q.id=W,l.set(W,Q),z(W),V(re)&&(Q.isPinned=!0)}}function D(W){var Q=W.id,re=l.get(Q);re&&(l.delete(Q),a.removeBody(re))}function P(W){z(W.fromId),z(W.toId);var Q=l.get(W.fromId),re=l.get(W.toId),pe=a.addSpring(Q,re,W.length);p(W,pe),u[W.id]=pe}function U(W){var Q=u[W.id];if(Q){var re=i.getNode(W.fromId),pe=i.getNode(W.toId);re&&z(re.id),pe&&z(pe.id),delete u[W.id],a.removeSpring(Q)}}function F(W){var Q=[];if(!W.links)return Q;for(var re=Math.min(W.links.length,2),pe=0;pe<re;++pe){var Y=W.links[pe],le=Y.fromId!==W.id?l.get(Y.fromId):l.get(Y.toId);le&&le.pos&&Q.push(le)}return Q}function z(W){var Q=l.get(W);if(Q.mass=o(W),Number.isNaN(Q.mass))throw new Error("Node mass should be a number")}function V(W){return W&&(W.isPinned||W.data&&W.data.isPinned)}function K(W){var Q=l.get(W);return Q||(I(W),Q=l.get(W)),Q}function J(W){var Q=i.getLinks(W);return Q?1+Q.length/3:1}function q(W){var Q=i.getLinks(W);return Q?1+Q.size/3:1}}function t(){}return Rw.exports}var E2e=S2e();const T2e=Qp(E2e);function oD(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var w2e=typeof global=="object"&&global&&global.Object===Object&&global,C2e=typeof self=="object"&&self&&self.Object===Object&&self,y$=w2e||C2e||Function("return this")(),J3=function(){return y$.Date.now()},A2e=/\s/;function M2e(n){for(var e=n.length;e--&&A2e.test(n.charAt(e)););return e}var R2e=/^\s+/;function O2e(n){return n&&n.slice(0,M2e(n)+1).replace(R2e,"")}var lA=y$.Symbol,v$=Object.prototype,I2e=v$.hasOwnProperty,P2e=v$.toString,R1=lA?lA.toStringTag:void 0;function D2e(n){var e=I2e.call(n,R1),t=n[R1];try{n[R1]=void 0;var i=!0}catch{}var r=P2e.call(n);return i&&(e?n[R1]=t:delete n[R1]),r}var N2e=Object.prototype,L2e=N2e.toString;function U2e(n){return L2e.call(n)}var k2e="[object Null]",z2e="[object Undefined]",X9=lA?lA.toStringTag:void 0;function B2e(n){return n==null?n===void 0?z2e:k2e:X9&&X9 in Object(n)?D2e(n):U2e(n)}function F2e(n){return n!=null&&typeof n=="object"}var V2e="[object Symbol]";function H2e(n){return typeof n=="symbol"||F2e(n)&&B2e(n)==V2e}var Y9=NaN,j2e=/^[-+]0x[0-9a-f]+$/i,G2e=/^0b[01]+$/i,q2e=/^0o[0-7]+$/i,W2e=parseInt;function K9(n){if(typeof n=="number")return n;if(H2e(n))return Y9;if(oD(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=oD(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=O2e(n);var t=G2e.test(n);return t||q2e.test(n)?W2e(n.slice(2),t?2:8):j2e.test(n)?Y9:+n}var $2e="Expected a function",X2e=Math.max,Y2e=Math.min;function K2e(n,e,t){var i,r,s,a,o,l,u=0,h=!1,p=!1,y=!0;if(typeof n!="function")throw new TypeError($2e);e=K9(e)||0,oD(t)&&(h=!!t.leading,p="maxWait"in t,s=p?X2e(K9(t.maxWait)||0,e):s,y="trailing"in t?!!t.trailing:y);function v(L){var I=i,D=r;return i=r=void 0,u=L,a=n.apply(D,I),a}function _(L){return u=L,o=setTimeout(S,e),h?v(L):a}function x(L){var I=L-l,D=L-u,P=e-I;return p?Y2e(P,s-D):P}function E(L){var I=L-l,D=L-u;return l===void 0||I>=e||I<0||p&&D>=s}function S(){var L=J3();if(E(L))return w(L);o=setTimeout(S,x(L))}function w(L){return o=void 0,y&&i?v(L):(i=r=void 0,a)}function C(){o!==void 0&&clearTimeout(o),u=0,i=l=r=o=void 0}function A(){return o===void 0?a:w(J3())}function N(){var L=J3(),I=E(L);if(i=arguments,r=this,l=L,I){if(o===void 0)return _(l);if(p)return clearTimeout(o),o=setTimeout(S,e),v(l)}return o===void 0&&(o=setTimeout(S,e)),a}return N.cancel=C,N.flush=A,N}function Z9(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=Array(e);t<e;t++)i[t]=n[t];return i}function Z2e(n){if(Array.isArray(n))return n}function Q2e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function J2e(n,e,t){return Object.defineProperty(n,"prototype",{writable:!1}),n}function eCe(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,r,s,a,o=[],l=!0,u=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(l=(i=s.call(t)).done)&&(o.push(i.value),o.length!==e);l=!0);}catch(h){u=!0,r=h}finally{try{if(!l&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw r}}return o}}function tCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nCe(n,e){return Z2e(n)||eCe(n,e)||iCe(n,e)||tCe()}function iCe(n,e){if(n){if(typeof n=="string")return Z9(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Z9(n,e):void 0}}var rCe=J2e(function n(e,t){var i=t.default,r=i===void 0?null:i,s=t.triggerUpdate,a=s===void 0?!0:s,o=t.onChange,l=o===void 0?function(u,h){}:o;Q2e(this,n),this.name=e,this.defaultVal=r,this.triggerUpdate=a,this.onChange=l});function sCe(n){var e=n.stateInit,t=e===void 0?function(){return{}}:e,i=n.props,r=i===void 0?{}:i,s=n.methods,a=s===void 0?{}:s,o=n.aliases,l=o===void 0?{}:o,u=n.init,h=u===void 0?function(){}:u,p=n.update,y=p===void 0?function(){}:p,v=Object.keys(r).map(function(_){return new rCe(_,r[_])});return function _(){for(var x=arguments.length,E=new Array(x),S=0;S<x;S++)E[S]=arguments[S];var w=!!(this instanceof _&&this.constructor),C=w?E.shift():void 0,A=E[0],N=A===void 0?{}:A,L=Object.assign({},t instanceof Function?t(N):t,{initialised:!1}),I={};function D(F){return P(F,N),U(),D}var P=function(z,V){h.call(D,z,L,V),L.initialised=!0},U=K2e(function(){L.initialised&&(y.call(D,L,I),I={})},1);return v.forEach(function(F){D[F.name]=z(F);function z(V){var K=V.name,J=V.triggerUpdate,q=J===void 0?!1:J,W=V.onChange,Q=W===void 0?function(Y,le){}:W,re=V.defaultVal,pe=re===void 0?null:re;return function(Y){var le=L[K];if(!arguments.length)return le;var de=Y===void 0?pe:Y;return L[K]=de,Q.call(D,de,L,le),!I.hasOwnProperty(K)&&(I[K]=le),q&&U(),D}}}),Object.keys(a).forEach(function(F){D[F]=function(){for(var z,V=arguments.length,K=new Array(V),J=0;J<V;J++)K[J]=arguments[J];return(z=a[F]).call.apply(z,[D,L].concat(K))}}),Object.entries(l).forEach(function(F){var z=nCe(F,2),V=z[0],K=z[1];return D[V]=D[K]}),D.resetProps=function(){return v.forEach(function(F){D[F.name](F.defaultVal)}),D},D.resetProps(),L._rerender=U,w&&C&&D(C),D}}var mi=(function(n){return typeof n=="function"?n:typeof n=="string"?function(e){return e[n]}:function(e){return n}});class Q9 extends Map{constructor(e,t=lCe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),e!=null)for(const[i,r]of e)this.set(i,r)}get(e){return super.get(J9(this,e))}has(e){return super.has(J9(this,e))}set(e,t){return super.set(aCe(this,e),t)}delete(e){return super.delete(oCe(this,e))}}function J9({_intern:n,_key:e},t){const i=e(t);return n.has(i)?n.get(i):t}function aCe({_intern:n,_key:e},t){const i=e(t);return n.has(i)?n.get(i):(n.set(i,t),t)}function oCe({_intern:n,_key:e},t){const i=e(t);return n.has(i)&&(t=n.get(i),n.delete(i)),t}function lCe(n){return n!==null&&typeof n=="object"?n.valueOf():n}function cCe(n,e){let t;if(e===void 0)for(const i of n)i!=null&&(t<i||t===void 0&&i>=i)&&(t=i);else{let i=-1;for(let r of n)(r=e(r,++i,n))!=null&&(t<r||t===void 0&&r>=r)&&(t=r)}return t}function uCe(n,e){let t;if(e===void 0)for(const i of n)i!=null&&(t>i||t===void 0&&i>=i)&&(t=i);else{let i=-1;for(let r of n)(r=e(r,++i,n))!=null&&(t>r||t===void 0&&r>=r)&&(t=r)}return t}function lD(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=Array(e);t<e;t++)i[t]=n[t];return i}function fCe(n){if(Array.isArray(n))return n}function hCe(n){if(Array.isArray(n))return lD(n)}function _$(n,e,t){if(typeof n=="function"?n===e:n.has(e))return arguments.length<3?e:t;throw new TypeError("Private element is not present on this object")}function dCe(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function pCe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Xa(n,e){return n.get(_$(n,e))}function Zv(n,e,t){dCe(n,e),e.set(n,t)}function Nw(n,e,t){return n.set(_$(n,e),t),t}function mCe(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,TCe(i.key),i)}}function gCe(n,e,t){return e&&mCe(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function yCe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function vCe(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,r,s,a,o=[],l=!0,u=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(l=(i=s.call(t)).done)&&(o.push(i.value),o.length!==e);l=!0);}catch(h){u=!0,r=h}finally{try{if(!l&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw r}}return o}}function _Ce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xCe(n,e){return fCe(n)||vCe(n,e)||b$(n,e)||_Ce()}function SCe(n){return hCe(n)||yCe(n)||b$(n)||bCe()}function ECe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function TCe(n){var e=ECe(n,"string");return typeof e=="symbol"?e:e+""}function b$(n,e){if(n){if(typeof n=="string")return lD(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?lD(n,e):void 0}}var Qv=new WeakMap,O1=new WeakMap,Jv=new WeakMap,eI=new WeakMap,tI=new WeakMap,nI=new WeakMap,wCe=(function(){function n(){pCe(this,n),Zv(this,Qv,new Map),Zv(this,O1,new Map),Zv(this,Jv,function(e){return e}),Zv(this,eI,function(){return{}}),Zv(this,tI,function(){}),Zv(this,nI,function(){})}return gCe(n,[{key:"getObj",value:function(t){return Xa(Qv,this).get(Xa(Jv,this).call(this,t))}},{key:"getData",value:function(t){return Xa(O1,this).get(t)}},{key:"entries",value:function(){return SCe(Xa(O1,this).entries()).map(function(t){var i=xCe(t,2),r=i[0],s=i[1];return[s,r]})}},{key:"id",value:function(t){return Nw(Jv,this,mi(t)),this}},{key:"onCreateObj",value:function(t){return Nw(eI,this,t),this}},{key:"onUpdateObj",value:function(t){return Nw(tI,this,t),this}},{key:"onRemoveObj",value:function(t){return Nw(nI,this,t),this}},{key:"digest",value:function(t){var i=this;t.filter(function(s){return!Xa(Qv,i).has(Xa(Jv,i).call(i,s))}).forEach(function(s){var a=Xa(eI,i).call(i,s);Xa(Qv,i).set(Xa(Jv,i).call(i,s),a),Xa(O1,i).set(a,s)});var r=new Map(t.map(function(s){return[Xa(Jv,i).call(i,s),s]}));return Xa(Qv,this).forEach(function(s,a){r.has(a)?Xa(tI,i).call(i,s,r.get(a)):(Xa(nI,i).call(i,s,a),Xa(Qv,i).delete(a),Xa(O1,i).delete(s))}),this}},{key:"clear",value:function(){return this.digest([]),this}}])})();function CCe(n,e){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(e).domain(n);break}return this}const eF=Symbol("implicit");function x$(){var n=new Q9,e=[],t=[],i=eF;function r(s){let a=n.get(s);if(a===void 0){if(i!==eF)return i;n.set(s,a=e.push(s)-1)}return t[a%t.length]}return r.domain=function(s){if(!arguments.length)return e.slice();e=[],n=new Q9;for(const a of s)n.has(a)||n.set(a,e.push(a)-1);return r},r.range=function(s){return arguments.length?(t=Array.from(s),r):t.slice()},r.unknown=function(s){return arguments.length?(i=s,r):i},r.copy=function(){return x$(e,t).unknown(i)},CCe.apply(r,arguments),r}function ACe(n){for(var e=n.length/6|0,t=new Array(e),i=0;i<e;)t[i]="#"+n.slice(i*6,++i*6);return t}const MCe=ACe("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928");function cA(n){"@babel/helpers - typeof";return cA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cA(n)}var RCe=/^\s+/,OCe=/\s+$/;function Zt(n,e){if(n=n||"",e=e||{},n instanceof Zt)return n;if(!(this instanceof Zt))return new Zt(n,e);var t=ICe(n);this._originalInput=n,this._r=t.r,this._g=t.g,this._b=t.b,this._a=t.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||t.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=t.ok}Zt.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),t,i,r,s,a,o;return t=e.r/255,i=e.g/255,r=e.b/255,t<=.03928?s=t/12.92:s=Math.pow((t+.055)/1.055,2.4),i<=.03928?a=i/12.92:a=Math.pow((i+.055)/1.055,2.4),r<=.03928?o=r/12.92:o=Math.pow((r+.055)/1.055,2.4),.2126*s+.7152*a+.0722*o},setAlpha:function(e){return this._a=S$(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=nF(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=nF(this._r,this._g,this._b),t=Math.round(e.h*360),i=Math.round(e.s*100),r=Math.round(e.v*100);return this._a==1?"hsv("+t+", "+i+"%, "+r+"%)":"hsva("+t+", "+i+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=tF(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=tF(this._r,this._g,this._b),t=Math.round(e.h*360),i=Math.round(e.s*100),r=Math.round(e.l*100);return this._a==1?"hsl("+t+", "+i+"%, "+r+"%)":"hsla("+t+", "+i+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return iF(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return LCe(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Sr(this._r,255)*100)+"%",g:Math.round(Sr(this._g,255)*100)+"%",b:Math.round(Sr(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Sr(this._r,255)*100)+"%, "+Math.round(Sr(this._g,255)*100)+"%, "+Math.round(Sr(this._b,255)*100)+"%)":"rgba("+Math.round(Sr(this._r,255)*100)+"%, "+Math.round(Sr(this._g,255)*100)+"%, "+Math.round(Sr(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:$Ce[iF(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var t="#"+rF(this._r,this._g,this._b,this._a),i=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var s=Zt(e);i="#"+rF(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+i+")"},toString:function(e){var t=!!e;e=e||this._format;var i=!1,r=this._a<1&&this._a>=0,s=!t&&r&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return s?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(i=this.toRgbString()),e==="prgb"&&(i=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(i=this.toHexString()),e==="hex3"&&(i=this.toHexString(!0)),e==="hex4"&&(i=this.toHex8String(!0)),e==="hex8"&&(i=this.toHex8String()),e==="name"&&(i=this.toName()),e==="hsl"&&(i=this.toHslString()),e==="hsv"&&(i=this.toHsvString()),i||this.toHexString())},clone:function(){return Zt(this.toString())},_applyModification:function(e,t){var i=e.apply(null,[this].concat([].slice.call(t)));return this._r=i._r,this._g=i._g,this._b=i._b,this.setAlpha(i._a),this},lighten:function(){return this._applyModification(BCe,arguments)},brighten:function(){return this._applyModification(FCe,arguments)},darken:function(){return this._applyModification(VCe,arguments)},desaturate:function(){return this._applyModification(UCe,arguments)},saturate:function(){return this._applyModification(kCe,arguments)},greyscale:function(){return this._applyModification(zCe,arguments)},spin:function(){return this._applyModification(HCe,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(qCe,arguments)},complement:function(){return this._applyCombination(jCe,arguments)},monochromatic:function(){return this._applyCombination(WCe,arguments)},splitcomplement:function(){return this._applyCombination(GCe,arguments)},triad:function(){return this._applyCombination(sF,[3])},tetrad:function(){return this._applyCombination(sF,[4])}};Zt.fromRatio=function(n,e){if(cA(n)=="object"){var t={};for(var i in n)n.hasOwnProperty(i)&&(i==="a"?t[i]=n[i]:t[i]=K1(n[i]));n=t}return Zt(n,e)};function ICe(n){var e={r:0,g:0,b:0},t=1,i=null,r=null,s=null,a=!1,o=!1;return typeof n=="string"&&(n=ZCe(n)),cA(n)=="object"&&(Ch(n.r)&&Ch(n.g)&&Ch(n.b)?(e=PCe(n.r,n.g,n.b),a=!0,o=String(n.r).substr(-1)==="%"?"prgb":"rgb"):Ch(n.h)&&Ch(n.s)&&Ch(n.v)?(i=K1(n.s),r=K1(n.v),e=NCe(n.h,i,r),a=!0,o="hsv"):Ch(n.h)&&Ch(n.s)&&Ch(n.l)&&(i=K1(n.s),s=K1(n.l),e=DCe(n.h,i,s),a=!0,o="hsl"),n.hasOwnProperty("a")&&(t=n.a)),t=S$(t),{ok:a,format:n.format||o,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:t}}function PCe(n,e,t){return{r:Sr(n,255)*255,g:Sr(e,255)*255,b:Sr(t,255)*255}}function tF(n,e,t){n=Sr(n,255),e=Sr(e,255),t=Sr(t,255);var i=Math.max(n,e,t),r=Math.min(n,e,t),s,a,o=(i+r)/2;if(i==r)s=a=0;else{var l=i-r;switch(a=o>.5?l/(2-i-r):l/(i+r),i){case n:s=(e-t)/l+(e<t?6:0);break;case e:s=(t-n)/l+2;break;case t:s=(n-e)/l+4;break}s/=6}return{h:s,s:a,l:o}}function DCe(n,e,t){var i,r,s;n=Sr(n,360),e=Sr(e,100),t=Sr(t,100);function a(u,h,p){return p<0&&(p+=1),p>1&&(p-=1),p<1/6?u+(h-u)*6*p:p<1/2?h:p<2/3?u+(h-u)*(2/3-p)*6:u}if(e===0)i=r=s=t;else{var o=t<.5?t*(1+e):t+e-t*e,l=2*t-o;i=a(l,o,n+1/3),r=a(l,o,n),s=a(l,o,n-1/3)}return{r:i*255,g:r*255,b:s*255}}function nF(n,e,t){n=Sr(n,255),e=Sr(e,255),t=Sr(t,255);var i=Math.max(n,e,t),r=Math.min(n,e,t),s,a,o=i,l=i-r;if(a=i===0?0:l/i,i==r)s=0;else{switch(i){case n:s=(e-t)/l+(e<t?6:0);break;case e:s=(t-n)/l+2;break;case t:s=(n-e)/l+4;break}s/=6}return{h:s,s:a,v:o}}function NCe(n,e,t){n=Sr(n,360)*6,e=Sr(e,100),t=Sr(t,100);var i=Math.floor(n),r=n-i,s=t*(1-e),a=t*(1-r*e),o=t*(1-(1-r)*e),l=i%6,u=[t,a,s,s,o,t][l],h=[o,t,t,a,s,s][l],p=[s,s,o,t,t,a][l];return{r:u*255,g:h*255,b:p*255}}function iF(n,e,t,i){var r=[yu(Math.round(n).toString(16)),yu(Math.round(e).toString(16)),yu(Math.round(t).toString(16))];return i&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function LCe(n,e,t,i,r){var s=[yu(Math.round(n).toString(16)),yu(Math.round(e).toString(16)),yu(Math.round(t).toString(16)),yu(E$(i))];return r&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function rF(n,e,t,i){var r=[yu(E$(i)),yu(Math.round(n).toString(16)),yu(Math.round(e).toString(16)),yu(Math.round(t).toString(16))];return r.join("")}Zt.equals=function(n,e){return!n||!e?!1:Zt(n).toRgbString()==Zt(e).toRgbString()};Zt.random=function(){return Zt.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function UCe(n,e){e=e===0?0:e||10;var t=Zt(n).toHsl();return t.s-=e/100,t.s=ZM(t.s),Zt(t)}function kCe(n,e){e=e===0?0:e||10;var t=Zt(n).toHsl();return t.s+=e/100,t.s=ZM(t.s),Zt(t)}function zCe(n){return Zt(n).desaturate(100)}function BCe(n,e){e=e===0?0:e||10;var t=Zt(n).toHsl();return t.l+=e/100,t.l=ZM(t.l),Zt(t)}function FCe(n,e){e=e===0?0:e||10;var t=Zt(n).toRgb();return t.r=Math.max(0,Math.min(255,t.r-Math.round(255*-(e/100)))),t.g=Math.max(0,Math.min(255,t.g-Math.round(255*-(e/100)))),t.b=Math.max(0,Math.min(255,t.b-Math.round(255*-(e/100)))),Zt(t)}function VCe(n,e){e=e===0?0:e||10;var t=Zt(n).toHsl();return t.l-=e/100,t.l=ZM(t.l),Zt(t)}function HCe(n,e){var t=Zt(n).toHsl(),i=(t.h+e)%360;return t.h=i<0?360+i:i,Zt(t)}function jCe(n){var e=Zt(n).toHsl();return e.h=(e.h+180)%360,Zt(e)}function sF(n,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var t=Zt(n).toHsl(),i=[Zt(n)],r=360/e,s=1;s<e;s++)i.push(Zt({h:(t.h+s*r)%360,s:t.s,l:t.l}));return i}function GCe(n){var e=Zt(n).toHsl(),t=e.h;return[Zt(n),Zt({h:(t+72)%360,s:e.s,l:e.l}),Zt({h:(t+216)%360,s:e.s,l:e.l})]}function qCe(n,e,t){e=e||6,t=t||30;var i=Zt(n).toHsl(),r=360/t,s=[Zt(n)];for(i.h=(i.h-(r*e>>1)+720)%360;--e;)i.h=(i.h+r)%360,s.push(Zt(i));return s}function WCe(n,e){e=e||6;for(var t=Zt(n).toHsv(),i=t.h,r=t.s,s=t.v,a=[],o=1/e;e--;)a.push(Zt({h:i,s:r,v:s})),s=(s+o)%1;return a}Zt.mix=function(n,e,t){t=t===0?0:t||50;var i=Zt(n).toRgb(),r=Zt(e).toRgb(),s=t/100,a={r:(r.r-i.r)*s+i.r,g:(r.g-i.g)*s+i.g,b:(r.b-i.b)*s+i.b,a:(r.a-i.a)*s+i.a};return Zt(a)};Zt.readability=function(n,e){var t=Zt(n),i=Zt(e);return(Math.max(t.getLuminance(),i.getLuminance())+.05)/(Math.min(t.getLuminance(),i.getLuminance())+.05)};Zt.isReadable=function(n,e,t){var i=Zt.readability(n,e),r,s;switch(s=!1,r=QCe(t),r.level+r.size){case"AAsmall":case"AAAlarge":s=i>=4.5;break;case"AAlarge":s=i>=3;break;case"AAAsmall":s=i>=7;break}return s};Zt.mostReadable=function(n,e,t){var i=null,r=0,s,a,o,l;t=t||{},a=t.includeFallbackColors,o=t.level,l=t.size;for(var u=0;u<e.length;u++)s=Zt.readability(n,e[u]),s>r&&(r=s,i=Zt(e[u]));return Zt.isReadable(n,i,{level:o,size:l})||!a?i:(t.includeFallbackColors=!1,Zt.mostReadable(n,["#fff","#000"],t))};var cD=Zt.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},$Ce=Zt.hexNames=XCe(cD);function XCe(n){var e={};for(var t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function S$(n){return n=parseFloat(n),(isNaN(n)||n<0||n>1)&&(n=1),n}function Sr(n,e){YCe(n)&&(n="100%");var t=KCe(n);return n=Math.min(e,Math.max(0,parseFloat(n))),t&&(n=parseInt(n*e,10)/100),Math.abs(n-e)<1e-6?1:n%e/parseFloat(e)}function ZM(n){return Math.min(1,Math.max(0,n))}function Rl(n){return parseInt(n,16)}function YCe(n){return typeof n=="string"&&n.indexOf(".")!=-1&&parseFloat(n)===1}function KCe(n){return typeof n=="string"&&n.indexOf("%")!=-1}function yu(n){return n.length==1?"0"+n:""+n}function K1(n){return n<=1&&(n=n*100+"%"),n}function E$(n){return Math.round(parseFloat(n)*255).toString(16)}function aF(n){return Rl(n)/255}var fu=(function(){var n="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",t="(?:"+e+")|(?:"+n+")",i="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?",r="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?";return{CSS_UNIT:new RegExp(t),rgb:new RegExp("rgb"+i),rgba:new RegExp("rgba"+r),hsl:new RegExp("hsl"+i),hsla:new RegExp("hsla"+r),hsv:new RegExp("hsv"+i),hsva:new RegExp("hsva"+r),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}})();function Ch(n){return!!fu.CSS_UNIT.exec(n)}function ZCe(n){n=n.replace(RCe,"").replace(OCe,"").toLowerCase();var e=!1;if(cD[n])n=cD[n],e=!0;else if(n=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var t;return(t=fu.rgb.exec(n))?{r:t[1],g:t[2],b:t[3]}:(t=fu.rgba.exec(n))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=fu.hsl.exec(n))?{h:t[1],s:t[2],l:t[3]}:(t=fu.hsla.exec(n))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=fu.hsv.exec(n))?{h:t[1],s:t[2],v:t[3]}:(t=fu.hsva.exec(n))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=fu.hex8.exec(n))?{r:Rl(t[1]),g:Rl(t[2]),b:Rl(t[3]),a:aF(t[4]),format:e?"name":"hex8"}:(t=fu.hex6.exec(n))?{r:Rl(t[1]),g:Rl(t[2]),b:Rl(t[3]),format:e?"name":"hex"}:(t=fu.hex4.exec(n))?{r:Rl(t[1]+""+t[1]),g:Rl(t[2]+""+t[2]),b:Rl(t[3]+""+t[3]),a:aF(t[4]+""+t[4]),format:e?"name":"hex8"}:(t=fu.hex3.exec(n))?{r:Rl(t[1]+""+t[1]),g:Rl(t[2]+""+t[2]),b:Rl(t[3]+""+t[3]),format:e?"name":"hex"}:!1}function QCe(n){var e,t;return n=n||{level:"AA",size:"small"},e=(n.level||"AA").toUpperCase(),t=(n.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),t!=="small"&&t!=="large"&&(t="small"),{level:e,size:t}}function uD(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=Array(e);t<e;t++)i[t]=n[t];return i}function JCe(n){if(Array.isArray(n))return n}function eAe(n){if(Array.isArray(n))return uD(n)}function T$(n,e,t){if(typeof n=="function"?n===e:n.has(e))return arguments.length<3?e:t;throw new TypeError("Private element is not present on this object")}function tAe(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function w$(n,e,t){return e=p_(e),cAe(n,g4()?Reflect.construct(e,t||[],p_(n).constructor):e.apply(n,t))}function nAe(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function C$(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function iI(n,e){return n.get(T$(n,e))}function oF(n,e,t){nAe(n,e),e.set(n,t)}function lF(n,e,t){return n.set(T$(n,e),t),t}function A$(n,e,t){if(g4())return Reflect.construct.apply(null,arguments);var i=[null];i.push.apply(i,e);var r=new(n.bind.apply(n,i));return r}function iAe(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,O$(i.key),i)}}function M$(n,e,t){return e&&iAe(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function QM(n,e,t){return(e=O$(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function fD(){return fD=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(n,e,t){var i=uAe(n,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(arguments.length<3?n:t):r.value}},fD.apply(null,arguments)}function p_(n){return p_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p_(n)}function R$(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&hD(n,e)}function g4(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g4=function(){return!!n})()}function rAe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function sAe(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,r,s,a,o=[],l=!0,u=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(l=(i=s.call(t)).done)&&(o.push(i.value),o.length!==e);l=!0);}catch(h){u=!0,r=h}finally{try{if(!l&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw r}}return o}}function aAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cF(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function lAe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?cF(Object(t),!0).forEach(function(i){QM(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):cF(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function cAe(n,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tAe(n)}function hD(n,e){return hD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},hD(n,e)}function wx(n,e){return JCe(n)||sAe(n,e)||I$(n,e)||aAe()}function uAe(n,e){for(;!{}.hasOwnProperty.call(n,e)&&(n=p_(n))!==null;);return n}function rI(n,e,t,i){var r=fD(p_(n.prototype),e,t);return typeof r=="function"?function(s){return r.apply(t,s)}:r}function du(n){return eAe(n)||rAe(n)||I$(n)||oAe()}function fAe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function O$(n){var e=fAe(n,"string");return typeof e=="symbol"?e:e+""}function dD(n){"@babel/helpers - typeof";return dD=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dD(n)}function I$(n,e){if(n){if(typeof n=="string")return uD(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?uD(n,e):void 0}}var P$=function(e){e instanceof Array?e.forEach(P$):(e.map&&e.map.dispose(),e.dispose())},D$=function(e){e.geometry&&e.geometry.dispose(),e.material&&P$(e.material),e.texture&&e.texture.dispose(),e.children&&e.children.forEach(D$)},pD=function(e){for(;e.children.length;){var t=e.children[0];e.remove(t),D$(t)}},sI=new WeakMap,Lw=new WeakMap,I1=(function(n){function e(t){var i,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=r.dataBindAttr,a=s===void 0?"__data":s,o=r.objBindAttr,l=o===void 0?"__threeObj":o;return C$(this,e),i=w$(this,e),QM(i,"scene",void 0),oF(i,sI,void 0),oF(i,Lw,void 0),i.scene=t,lF(sI,i,a),lF(Lw,i,l),i.onRemoveObj(function(){}),i}return R$(e,n),M$(e,[{key:"onCreateObj",value:function(i){var r=this;return rI(e,"onCreateObj",this)([function(s){var a=i(s);return s[iI(Lw,r)]=a,a[iI(sI,r)]=s,r.scene.add(a),a}]),this}},{key:"onRemoveObj",value:function(i){var r=this;return rI(e,"onRemoveObj",this)([function(s,a){var o=rI(e,"getData",r)([s]);i(s,a),r.scene.remove(s),pD(s),delete o[iI(Lw,r)]}]),this}}])})(wCe),P1=function(e){return isNaN(e)?parseInt(Zt(e).toHex(),16):e},aI=function(e){return isNaN(e)?Zt(e).getAlpha():1},hAe=x$(MCe);function uF(n,e,t){!e||typeof t!="string"||n.filter(function(i){return!i[t]}).forEach(function(i){i[t]=hAe(e(i))})}function dAe(n,e){var t=n.nodes,i=n.links,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=r.nodeFilter,a=s===void 0?function(){return!0}:s,o=r.onLoopError,l=o===void 0?function(v){throw"Invalid DAG structure! Found cycle in node path: ".concat(v.join(" -> "),".")}:o,u={};t.forEach(function(v){return u[e(v)]={data:v,out:[],depth:-1,skip:!a(v)}}),i.forEach(function(v){var _=v.source,x=v.target,E=A(_),S=A(x);if(!u.hasOwnProperty(E))throw"Missing source node with id: ".concat(E);if(!u.hasOwnProperty(S))throw"Missing target node with id: ".concat(S);var w=u[E],C=u[S];w.out.push(C);function A(N){return dD(N)==="object"?e(N):N}});var h=[];y(Object.values(u));var p=Object.assign.apply(Object,[{}].concat(du(Object.entries(u).filter(function(v){var _=wx(v,2),x=_[1];return!x.skip}).map(function(v){var _=wx(v,2),x=_[0],E=_[1];return QM({},x,E.depth)}))));return p;function y(v){for(var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,E=function(){var A=v[S];if(_.indexOf(A)!==-1){var N=[].concat(du(_.slice(_.indexOf(A))),[A]).map(function(L){return e(L.data)});return h.some(function(L){return L.length===N.length&&L.every(function(I,D){return I===N[D]})})||(h.push(N),l(N)),1}x>A.depth&&(A.depth=x,y(A.out,[].concat(du(_),[A]),x+(A.skip?0:1)))},S=0,w=v.length;S<w;S++)E()}}var hn=window.THREE?window.THREE:{Group:zh,Mesh:is,MeshLambertMaterial:hL,Color:Lt,BufferGeometry:Un,BufferAttribute:Hi,Matrix4:an,Vector3:fe,SphereGeometry:py,CylinderGeometry:R_,TubeGeometry:kS,ConeGeometry:O_,Line:nd,LineBasicMaterial:ro,QuadraticBezierCurve3:hM,CubicBezierCurve3:lL,Box3:ra},fF={graph:f2e,forcelayout:T2e},pAe=2,oI=new hn.BufferGeometry().setAttribute?"setAttribute":"addAttribute",Uw=new hn.BufferGeometry().applyMatrix4?"applyMatrix4":"applyMatrix",mAe=sCe({props:{jsonUrl:{onChange:function(e,t){var i=this;e&&!t.fetchingJson&&(t.fetchingJson=!0,t.onLoading(),fetch(e).then(function(r){return r.json()}).then(function(r){t.fetchingJson=!1,t.onFinishLoading(r),i.graphData(r)}))},triggerUpdate:!1},graphData:{default:{nodes:[],links:[]},onChange:function(e,t){t.engineRunning=!1}},numDimensions:{default:3,onChange:function(e,t){var i=t.d3ForceLayout.force("charge");i&&i.strength(e>2?-60:-30),e<3&&r(t.graphData.nodes,"z"),e<2&&r(t.graphData.nodes,"y");function r(s,a){s.forEach(function(o){delete o[a],delete o["v".concat(a)]})}}},dagMode:{onChange:function(e,t){!e&&t.forceEngine==="d3"&&(t.graphData.nodes||[]).forEach(function(i){return i.fx=i.fy=i.fz=void 0})}},dagLevelDistance:{},dagNodeFilter:{default:function(e){return!0}},onDagError:{triggerUpdate:!1},nodeRelSize:{default:4},nodeId:{default:"id"},nodeVal:{default:"val"},nodeResolution:{default:8},nodeColor:{default:"color"},nodeAutoColorBy:{},nodeOpacity:{default:.75},nodeVisibility:{default:!0},nodeThreeObject:{},nodeThreeObjectExtend:{default:!1},nodePositionUpdate:{triggerUpdate:!1},linkSource:{default:"source"},linkTarget:{default:"target"},linkVisibility:{default:!0},linkColor:{default:"color"},linkAutoColorBy:{},linkOpacity:{default:.2},linkWidth:{},linkResolution:{default:6},linkCurvature:{default:0,triggerUpdate:!1},linkCurveRotation:{default:0,triggerUpdate:!1},linkMaterial:{},linkThreeObject:{},linkThreeObjectExtend:{default:!1},linkPositionUpdate:{triggerUpdate:!1},linkDirectionalArrowLength:{default:0},linkDirectionalArrowColor:{},linkDirectionalArrowRelPos:{default:.5,triggerUpdate:!1},linkDirectionalArrowResolution:{default:8},linkDirectionalParticles:{default:0},linkDirectionalParticleSpeed:{default:.01,triggerUpdate:!1},linkDirectionalParticleOffset:{default:0,triggerUpdate:!1},linkDirectionalParticleWidth:{default:.5},linkDirectionalParticleColor:{},linkDirectionalParticleResolution:{default:4},linkDirectionalParticleThreeObject:{},forceEngine:{default:"d3"},d3AlphaMin:{default:0},d3AlphaDecay:{default:.0228,triggerUpdate:!1,onChange:function(e,t){t.d3ForceLayout.alphaDecay(e)}},d3AlphaTarget:{default:0,triggerUpdate:!1,onChange:function(e,t){t.d3ForceLayout.alphaTarget(e)}},d3VelocityDecay:{default:.4,triggerUpdate:!1,onChange:function(e,t){t.d3ForceLayout.velocityDecay(e)}},ngraphPhysics:{default:{timeStep:20,gravity:-1.2,theta:.8,springLength:30,springCoefficient:8e-4,dragCoefficient:.02}},warmupTicks:{default:0,triggerUpdate:!1},cooldownTicks:{default:1/0,triggerUpdate:!1},cooldownTime:{default:15e3,triggerUpdate:!1},onLoading:{default:function(){},triggerUpdate:!1},onFinishLoading:{default:function(){},triggerUpdate:!1},onUpdate:{default:function(){},triggerUpdate:!1},onFinishUpdate:{default:function(){},triggerUpdate:!1},onEngineTick:{default:function(){},triggerUpdate:!1},onEngineStop:{default:function(){},triggerUpdate:!1}},methods:{refresh:function(e){return e._flushObjects=!0,e._rerender(),this},d3Force:function(e,t,i){return i===void 0?e.d3ForceLayout.force(t):(e.d3ForceLayout.force(t,i),this)},d3ReheatSimulation:function(e){return e.d3ForceLayout.alpha(1),this.resetCountdown(),this},resetCountdown:function(e){return e.cntTicks=0,e.startTickTime=new Date,e.engineRunning=!0,this},tickFrame:function(e){var t=e.forceEngine!=="ngraph";return e.engineRunning&&i(),r(),s(),this;function i(){++e.cntTicks>e.cooldownTicks||new Date-e.startTickTime>e.cooldownTime||t&&e.d3AlphaMin>0&&e.d3ForceLayout.alpha()<e.d3AlphaMin?(e.engineRunning=!1,e.onEngineStop()):(e.layout[t?"tick":"step"](),e.onEngineTick());var a=mi(e.nodeThreeObjectExtend);e.nodeDataMapper.entries().forEach(function(y){var v=wx(y,2),_=v[0],x=v[1];if(x){var E=t?_:e.layout.getNodePosition(_[e.nodeId]),S=a(_);(!e.nodePositionUpdate||!e.nodePositionUpdate(S?x.children[0]:x,{x:E.x,y:E.y,z:E.z},_)||S)&&(x.position.x=E.x,x.position.y=E.y||0,x.position.z=E.z||0)}});var o=mi(e.linkWidth),l=mi(e.linkCurvature),u=mi(e.linkCurveRotation),h=mi(e.linkThreeObjectExtend);e.linkDataMapper.entries().forEach(function(y){var v=wx(y,2),_=v[0],x=v[1];if(x){var E=t?_:e.layout.getLinkPosition(e.layout.graph.getLink(_.source,_.target).id),S=E[t?"source":"from"],w=E[t?"target":"to"];if(!(!S||!w||!S.hasOwnProperty("x")||!w.hasOwnProperty("x"))){p(_);var C=h(_);if(!(e.linkPositionUpdate&&e.linkPositionUpdate(C?x.children[1]:x,{start:{x:S.x,y:S.y,z:S.z},end:{x:w.x,y:w.y,z:w.z}},_)&&!C)){var A=30,N=_.__curve,L=x.children.length?x.children[0]:x;if(L.type==="Line"){if(N){var D=N.getPoints(A);L.geometry.getAttribute("position").array.length!==D.length*3&&L.geometry[oI]("position",new hn.BufferAttribute(new Float32Array(D.length*3),3)),L.geometry.setFromPoints(D)}else{var I=L.geometry.getAttribute("position");(!I||!I.array||I.array.length!==6)&&L.geometry[oI]("position",I=new hn.BufferAttribute(new Float32Array(6),3)),I.array[0]=S.x,I.array[1]=S.y||0,I.array[2]=S.z||0,I.array[3]=w.x,I.array[4]=w.y||0,I.array[5]=w.z||0,I.needsUpdate=!0}L.geometry.computeBoundingSphere()}else if(L.type==="Mesh")if(N){L.geometry.type.match(/^Tube(Buffer)?Geometry$/)||(L.position.set(0,0,0),L.rotation.set(0,0,0),L.scale.set(1,1,1));var J=Math.ceil(o(_)*10)/10,q=J/2,W=new hn.TubeGeometry(N,A,q,e.linkResolution,!1);L.geometry.dispose(),L.geometry=W}else{if(!L.geometry.type.match(/^Cylinder(Buffer)?Geometry$/)){var P=Math.ceil(o(_)*10)/10,U=P/2,F=new hn.CylinderGeometry(U,U,1,e.linkResolution,1,!1);F[Uw](new hn.Matrix4().makeTranslation(0,1/2,0)),F[Uw](new hn.Matrix4().makeRotationX(Math.PI/2)),L.geometry.dispose(),L.geometry=F}var z=new hn.Vector3(S.x,S.y||0,S.z||0),V=new hn.Vector3(w.x,w.y||0,w.z||0),K=z.distanceTo(V);L.position.x=z.x,L.position.y=z.y,L.position.z=z.z,L.scale.z=K,L.parent.localToWorld(V),L.lookAt(V)}}}}});function p(y){var v=t?y:e.layout.getLinkPosition(e.layout.graph.getLink(y.source,y.target).id),_=v[t?"source":"from"],x=v[t?"target":"to"];if(!(!_||!x||!_.hasOwnProperty("x")||!x.hasOwnProperty("x"))){var E=l(y);if(!E)y.__curve=null;else{var S=new hn.Vector3(_.x,_.y||0,_.z||0),w=new hn.Vector3(x.x,x.y||0,x.z||0),C=S.distanceTo(w),A,N=u(y);if(C>0){var L=x.x-_.x,I=x.y-_.y||0,D=new hn.Vector3().subVectors(w,S),P=D.clone().multiplyScalar(E).cross(L!==0||I!==0?new hn.Vector3(0,0,1):new hn.Vector3(0,1,0)).applyAxisAngle(D.normalize(),N).add(new hn.Vector3().addVectors(S,w).divideScalar(2));A=new hn.QuadraticBezierCurve3(S,P,w)}else{var U=E*70,F=-N,z=F+Math.PI/2;A=new hn.CubicBezierCurve3(S,new hn.Vector3(U*Math.cos(z),U*Math.sin(z),0).add(S),new hn.Vector3(U*Math.cos(F),U*Math.sin(F),0).add(S),w)}y.__curve=A}}}}function r(){var a=mi(e.linkDirectionalArrowRelPos),o=mi(e.linkDirectionalArrowLength),l=mi(e.nodeVal);e.arrowDataMapper.entries().forEach(function(u){var h=wx(u,2),p=h[0],y=h[1];if(y){var v=t?p:e.layout.getLinkPosition(e.layout.graph.getLink(p.source,p.target).id),_=v[t?"source":"from"],x=v[t?"target":"to"];if(!(!_||!x||!_.hasOwnProperty("x")||!x.hasOwnProperty("x"))){var E=Math.cbrt(Math.max(0,l(_)||1))*e.nodeRelSize,S=Math.cbrt(Math.max(0,l(x)||1))*e.nodeRelSize,w=o(p),C=a(p),A=p.__curve?function(U){return p.__curve.getPoint(U)}:function(U){var F=function(V,K,J,q){return K[V]+(J[V]-K[V])*q||0};return{x:F("x",_,x,U),y:F("y",_,x,U),z:F("z",_,x,U)}},N=p.__curve?p.__curve.getLength():Math.sqrt(["x","y","z"].map(function(U){return Math.pow((x[U]||0)-(_[U]||0),2)}).reduce(function(U,F){return U+F},0)),L=E+w+(N-E-S-w)*C,I=A(L/N),D=A((L-w)/N);["x","y","z"].forEach(function(U){return y.position[U]=D[U]});var P=A$(hn.Vector3,du(["x","y","z"].map(function(U){return I[U]})));y.parent.localToWorld(P),y.lookAt(P)}}})}function s(){var a=mi(e.linkDirectionalParticleSpeed),o=mi(e.linkDirectionalParticleOffset);e.graphData.links.forEach(function(l){var u=e.particlesDataMapper.getObj(l),h=u&&u.children,p=l.__singleHopPhotonsObj&&l.__singleHopPhotonsObj.children;if(!((!p||!p.length)&&(!h||!h.length))){var y=t?l:e.layout.getLinkPosition(e.layout.graph.getLink(l.source,l.target).id),v=y[t?"source":"from"],_=y[t?"target":"to"];if(!(!v||!_||!v.hasOwnProperty("x")||!_.hasOwnProperty("x"))){var x=a(l),E=Math.abs(o(l)),S=l.__curve?function(C){return l.__curve.getPoint(C)}:function(C){var A=function(L,I,D,P){return I[L]+(D[L]-I[L])*P||0};return{x:A("x",v,_,C),y:A("y",v,_,C),z:A("z",v,_,C)}},w=[].concat(du(h||[]),du(p||[]));w.forEach(function(C,A){var N=C.parent.__linkThreeObjType==="singleHopPhotons";if(C.hasOwnProperty("__progressRatio")||(C.__progressRatio=N?0:(A+E)/h.length),C.__progressRatio+=x,C.__progressRatio>=1)if(!N)C.__progressRatio=C.__progressRatio%1;else{C.parent.remove(C),pD(C);return}var L=C.__progressRatio,I=S(L);C.geometry.type!=="SphereGeometry"&&C.lookAt(I.x,I.y,I.z),["x","y","z"].forEach(function(D){return C.position[D]=I[D]})})}}})}},emitParticle:function(e,t){if(t&&e.graphData.links.includes(t)){if(!t.__singleHopPhotonsObj){var i=new hn.Group;i.__linkThreeObjType="singleHopPhotons",t.__singleHopPhotonsObj=i,e.graphScene.add(i)}var r=mi(e.linkDirectionalParticleThreeObject)(t);if(r&&e.linkDirectionalParticleThreeObject===r&&(r=r.clone()),!r){var s=mi(e.linkDirectionalParticleWidth),a=Math.ceil(s(t)*10)/10/2,o=e.linkDirectionalParticleResolution,l=new hn.SphereGeometry(a,o,o),u=mi(e.linkColor),h=mi(e.linkDirectionalParticleColor),p=h(t)||u(t)||"#f0f0f0",y=new hn.Color(P1(p)),v=e.linkOpacity*3,_=new hn.MeshLambertMaterial({color:y,transparent:!0,opacity:v});r=new hn.Mesh(l,_)}t.__singleHopPhotonsObj.add(r)}return this},getGraphBbox:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return!0};if(!e.initialised)return null;var i=(function r(s){var a=[];if(s.geometry){s.geometry.computeBoundingBox();var o=new hn.Box3;o.copy(s.geometry.boundingBox).applyMatrix4(s.matrixWorld),a.push(o)}return a.concat.apply(a,du((s.children||[]).filter(function(l){return!l.hasOwnProperty("__graphObjType")||l.__graphObjType==="node"&&t(l.__data)}).map(r)))})(e.graphScene);return i.length?Object.assign.apply(Object,du(["x","y","z"].map(function(r){return QM({},r,[uCe(i,function(s){return s.min[r]}),cCe(i,function(s){return s.max[r]})])}))):null}},stateInit:function(){return{d3ForceLayout:s2e().force("link",Gwe()).force("charge",a2e()).force("center",WTe()).force("dagRadial",null).stop(),engineRunning:!1}},init:function(e,t){t.graphScene=e,t.nodeDataMapper=new I1(e,{objBindAttr:"__threeObj"}),t.linkDataMapper=new I1(e,{objBindAttr:"__lineObj"}),t.arrowDataMapper=new I1(e,{objBindAttr:"__arrowObj"}),t.particlesDataMapper=new I1(e,{objBindAttr:"__photonsObj"})},update:function(e,t){var i=function(he){return he.some(function(me){return t.hasOwnProperty(me)})};if(e.engineRunning=!1,typeof e.onUpdate=="function"&&e.onUpdate(),e.nodeAutoColorBy!==null&&i(["nodeAutoColorBy","graphData","nodeColor"])&&uF(e.graphData.nodes,mi(e.nodeAutoColorBy),e.nodeColor),e.linkAutoColorBy!==null&&i(["linkAutoColorBy","graphData","linkColor"])&&uF(e.graphData.links,mi(e.linkAutoColorBy),e.linkColor),e._flushObjects||i(["graphData","nodeThreeObject","nodeThreeObjectExtend","nodeVal","nodeColor","nodeVisibility","nodeRelSize","nodeResolution","nodeOpacity"])){var r=mi(e.nodeThreeObject),s=mi(e.nodeThreeObjectExtend),a=mi(e.nodeVal),o=mi(e.nodeColor),l=mi(e.nodeVisibility),u={},h={};(e._flushObjects||i(["nodeThreeObject","nodeThreeObjectExtend"]))&&e.nodeDataMapper.clear(),e.nodeDataMapper.onCreateObj(function(ne){var he=r(ne),me=s(ne);he&&e.nodeThreeObject===he&&(he=he.clone());var Le;return he&&!me?Le=he:(Le=new hn.Mesh,Le.__graphDefaultObj=!0,he&&me&&Le.add(he)),Le.__graphObjType="node",Le}).onUpdateObj(function(ne,he){if(ne.__graphDefaultObj){var me=a(he)||1,Le=Math.cbrt(me)*e.nodeRelSize,Ye=e.nodeResolution;(!ne.geometry.type.match(/^Sphere(Buffer)?Geometry$/)||ne.geometry.parameters.radius!==Le||ne.geometry.parameters.widthSegments!==Ye)&&(u.hasOwnProperty(me)||(u[me]=new hn.SphereGeometry(Le,Ye,Ye)),ne.geometry.dispose(),ne.geometry=u[me]);var je=o(he),rt=new hn.Color(P1(je||"#ffffaa")),ot=e.nodeOpacity*aI(je);(ne.material.type!=="MeshLambertMaterial"||!ne.material.color.equals(rt)||ne.material.opacity!==ot)&&(h.hasOwnProperty(je)||(h[je]=new hn.MeshLambertMaterial({color:rt,transparent:!0,opacity:ot})),ne.material.dispose(),ne.material=h[je])}}).digest(e.graphData.nodes.filter(l))}if(e._flushObjects||i(["graphData","linkThreeObject","linkThreeObjectExtend","linkMaterial","linkColor","linkWidth","linkVisibility","linkResolution","linkOpacity","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowResolution","linkDirectionalParticles","linkDirectionalParticleWidth","linkDirectionalParticleColor","linkDirectionalParticleResolution","linkDirectionalParticleThreeObject"])){var p=mi(e.linkThreeObject),y=mi(e.linkThreeObjectExtend),v=mi(e.linkMaterial),_=mi(e.linkVisibility),x=mi(e.linkColor),E=mi(e.linkWidth),S={},w={},C={},A=e.graphData.links.filter(_);if((e._flushObjects||i(["linkThreeObject","linkThreeObjectExtend","linkWidth"]))&&e.linkDataMapper.clear(),e.linkDataMapper.onRemoveObj(function(ne){var he=ne.__data&&ne.__data.__singleHopPhotonsObj;he&&(he.parent.remove(he),pD(he),delete ne.__data.__singleHopPhotonsObj)}).onCreateObj(function(ne){var he=p(ne),me=y(ne);he&&e.linkThreeObject===he&&(he=he.clone());var Le;if(!he||me){var Ye=!!E(ne);if(Ye)Le=new hn.Mesh;else{var je=new hn.BufferGeometry;je[oI]("position",new hn.BufferAttribute(new Float32Array(6),3)),Le=new hn.Line(je)}}var rt;return he?me?(rt=new hn.Group,rt.__graphDefaultObj=!0,rt.add(Le),rt.add(he)):rt=he:(rt=Le,rt.__graphDefaultObj=!0),rt.renderOrder=10,rt.__graphObjType="link",rt}).onUpdateObj(function(ne,he){if(ne.__graphDefaultObj){var me=ne.children.length?ne.children[0]:ne,Le=Math.ceil(E(he)*10)/10,Ye=!!Le;if(Ye){var je=Le/2,rt=e.linkResolution;if(!me.geometry.type.match(/^Cylinder(Buffer)?Geometry$/)||me.geometry.parameters.radiusTop!==je||me.geometry.parameters.radialSegments!==rt){if(!S.hasOwnProperty(Le)){var ot=new hn.CylinderGeometry(je,je,1,rt,1,!1);ot[Uw](new hn.Matrix4().makeTranslation(0,1/2,0)),ot[Uw](new hn.Matrix4().makeRotationX(Math.PI/2)),S[Le]=ot}me.geometry.dispose(),me.geometry=S[Le]}}var dt=v(he);if(dt)me.material=dt;else{var te=x(he),Ie=new hn.Color(P1(te||"#f0f0f0")),Ve=e.linkOpacity*aI(te),Ue=Ye?"MeshLambertMaterial":"LineBasicMaterial";if(me.material.type!==Ue||!me.material.color.equals(Ie)||me.material.opacity!==Ve){var Re=Ye?w:C;Re.hasOwnProperty(te)||(Re[te]=new hn[Ue]({color:Ie,transparent:Ve<1,opacity:Ve,depthWrite:Ve>=1})),me.material.dispose(),me.material=Re[te]}}}}).digest(A),e.linkDirectionalArrowLength||t.hasOwnProperty("linkDirectionalArrowLength")){var N=mi(e.linkDirectionalArrowLength),L=mi(e.linkDirectionalArrowColor);e.arrowDataMapper.onCreateObj(function(){var ne=new hn.Mesh(void 0,new hn.MeshLambertMaterial({transparent:!0}));return ne.__linkThreeObjType="arrow",ne}).onUpdateObj(function(ne,he){var me=N(he),Le=e.linkDirectionalArrowResolution;if(!ne.geometry.type.match(/^Cone(Buffer)?Geometry$/)||ne.geometry.parameters.height!==me||ne.geometry.parameters.radialSegments!==Le){var Ye=new hn.ConeGeometry(me*.25,me,Le);Ye.translate(0,me/2,0),Ye.rotateX(Math.PI/2),ne.geometry.dispose(),ne.geometry=Ye}var je=L(he)||x(he)||"#f0f0f0";ne.material.color=new hn.Color(P1(je)),ne.material.opacity=e.linkOpacity*3*aI(je)}).digest(A.filter(N))}if(e.linkDirectionalParticles||t.hasOwnProperty("linkDirectionalParticles")){var I=mi(e.linkDirectionalParticles),D=mi(e.linkDirectionalParticleWidth),P=mi(e.linkDirectionalParticleColor),U=mi(e.linkDirectionalParticleThreeObject),F={},z={};e.particlesDataMapper.onCreateObj(function(){var ne=new hn.Group;return ne.__linkThreeObjType="photons",ne.__photonDataMapper=new I1(ne),ne}).onUpdateObj(function(ne,he){var me=!!ne.children.length&&ne.children[0],Le=U(he),Ye,je;if(Le)Ye=Le.geometry,je=Le.material;else{var rt=Math.ceil(D(he)*10)/10/2,ot=e.linkDirectionalParticleResolution;me&&me.geometry.parameters.radius===rt&&me.geometry.parameters.widthSegments===ot?Ye=me.geometry:(z.hasOwnProperty(rt)||(z[rt]=new hn.SphereGeometry(rt,ot,ot)),Ye=z[rt]);var dt=P(he)||x(he)||"#f0f0f0",te=new hn.Color(P1(dt)),Ie=e.linkOpacity*3;me&&me.material.color.equals(te)&&me.material.opacity===Ie?je=me.material:(F.hasOwnProperty(dt)||(F[dt]=new hn.MeshLambertMaterial({color:te,transparent:!0,opacity:Ie})),je=F[dt])}me&&(me.geometry!==Ye&&me.geometry.dispose(),me.material!==je&&me.material.dispose());var Ve=Math.round(Math.abs(I(he)));ne.__photonDataMapper.id(function(Ue){return Ue.idx}).onCreateObj(function(){return new hn.Mesh(Ye,je)}).onUpdateObj(function(Ue){Ue.geometry=Ye,Ue.material=je}).digest(du(new Array(Ve)).map(function(Ue,Re){return{idx:Re}}))}).digest(A.filter(I))}}if(e._flushObjects=!1,i(["graphData","nodeId","linkSource","linkTarget","numDimensions","forceEngine","dagMode","dagNodeFilter","dagLevelDistance"])){e.engineRunning=!1,e.graphData.links.forEach(function(ne){ne.source=ne[e.linkSource],ne.target=ne[e.linkTarget]});var V=e.forceEngine!=="ngraph",K;if(V){(K=e.d3ForceLayout).stop().alpha(1).numDimensions(e.numDimensions).nodes(e.graphData.nodes);var J=e.d3ForceLayout.force("link");J&&J.id(function(ne){return ne[e.nodeId]}).links(e.graphData.links);var q=e.dagMode&&dAe(e.graphData,function(ne){return ne[e.nodeId]},{nodeFilter:e.dagNodeFilter,onLoopError:e.onDagError||void 0}),W=Math.max.apply(Math,du(Object.values(q||[]))),Q=e.dagLevelDistance||e.graphData.nodes.length/(W||1)*pAe*(["radialin","radialout"].indexOf(e.dagMode)!==-1?.7:1);if(["lr","rl","td","bu","zin","zout"].includes(t.dagMode)){var re=["lr","rl"].includes(t.dagMode)?"fx":["td","bu"].includes(t.dagMode)?"fy":"fz";e.graphData.nodes.filter(e.dagNodeFilter).forEach(function(ne){return delete ne[re]})}if(["lr","rl","td","bu","zin","zout"].includes(e.dagMode)){var pe=["rl","td","zout"].includes(e.dagMode),Y=function(he){return(q[he[e.nodeId]]-W/2)*Q*(pe?-1:1)},le=["lr","rl"].includes(e.dagMode)?"fx":["td","bu"].includes(e.dagMode)?"fy":"fz";e.graphData.nodes.filter(e.dagNodeFilter).forEach(function(ne){return ne[le]=Y(ne)})}e.d3ForceLayout.force("dagRadial",["radialin","radialout"].indexOf(e.dagMode)!==-1?o2e(function(ne){var he=q[ne[e.nodeId]]||-1;return(e.dagMode==="radialin"?W-he:he)*Q}).strength(function(ne){return e.dagNodeFilter(ne)?1:0}):null)}else{var de=fF.graph();e.graphData.nodes.forEach(function(ne){de.addNode(ne[e.nodeId])}),e.graphData.links.forEach(function(ne){de.addLink(ne.source,ne.target)}),K=fF.forcelayout(de,lAe({dimensions:e.numDimensions},e.ngraphPhysics)),K.graph=de}for(var ue=0;ue<e.warmupTicks&&!(V&&e.d3AlphaMin>0&&e.d3ForceLayout.alpha()<e.d3AlphaMin);ue++)K[V?"tick":"step"]();e.layout=K,this.resetCountdown()}e.engineRunning=!0,e.onFinishUpdate()}});function gAe(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Object,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=(function(r){function s(){var a;C$(this,s);for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];return a=w$(this,s,[].concat(l)),a.__kapsuleInstance=A$(n,[].concat(du(t?[a]:[]),l)),a}return R$(s,r),M$(s)})(e);return Object.keys(n()).forEach(function(r){return i.prototype[r]=function(){var s,a=(s=this.__kapsuleInstance)[r].apply(s,arguments);return a===this.__kapsuleInstance?this:a}}),i}var yAe=window.THREE?window.THREE:{Group:zh},vAe=gAe(mAe,yAe.Group,!0);function _Ae(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,r,s,a,o=[],l=!0,u=!1;try{if(s=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;l=!1}else for(;!(l=(i=s.call(t)).done)&&(o.push(i.value),o.length!==e);l=!0);}catch(h){u=!0,r=h}finally{try{if(!l&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw r}}return o}}function bAe(n,e,t){return e=MAe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function hF(n,e){return EAe(n)||_Ae(n,e)||N$(n,e)||CAe()}function xAe(n){return SAe(n)||TAe(n)||N$(n)||wAe()}function SAe(n){if(Array.isArray(n))return mD(n)}function EAe(n){if(Array.isArray(n))return n}function TAe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function N$(n,e){if(n){if(typeof n=="string")return mD(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return mD(n,e)}}function mD(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function wAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AAe(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function MAe(n){var e=AAe(n,"string");return typeof e=="symbol"?e:String(e)}var RAe=function(e,t){var i=new Set(t);return Object.assign.apply(Object,[{}].concat(xAe(Object.entries(e).filter(function(r){var s=hF(r,1),a=s[0];return!i.has(a)}).map(function(r){var s=hF(r,2),a=s[0],o=s[1];return bAe({},a,o)}))))};function gD(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=Array(e);t<e;t++)i[t]=n[t];return i}function OAe(n){if(Array.isArray(n))return n}function IAe(n){if(Array.isArray(n))return gD(n)}function PAe(n,e,t){return(e=VAe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function DAe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function NAe(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,r,s,a,o=[],l=!0,u=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(l=(i=s.call(t)).done)&&(o.push(i.value),o.length!==e);l=!0);}catch(h){u=!0,r=h}finally{try{if(!l&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw r}}return o}}function LAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dF(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function uA(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?dF(Object(t),!0).forEach(function(i){PAe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):dF(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function kAe(n,e){if(n==null)return{};var t,i,r=zAe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function zAe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function BAe(n,e){return OAe(n)||NAe(n,e)||L$(n,e)||LAe()}function lI(n){return IAe(n)||DAe(n)||L$(n)||UAe()}function FAe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function VAe(n){var e=FAe(n,"string");return typeof e=="symbol"?e:e+""}function L$(n,e){if(n){if(typeof n=="string")return gD(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?gD(n,e):void 0}}function HAe(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.methodNames,i=t===void 0?[]:t,r=e.initPropNames,s=r===void 0?[]:r;return H.forwardRef(function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0,l=H.useMemo(function(){return new n(Object.fromEntries(s.filter(function(y){return a.hasOwnProperty(y)}).map(function(y){return[y,a[y]]})))},[]);H.useEffect(function(){return l._destructor instanceof Function?l._destructor:void 0},[l]);var u=H.useCallback(function(y){for(var v=arguments.length,_=new Array(v>1?v-1:0),x=1;x<v;x++)_[x-1]=arguments[x];return l[y]instanceof Function?l[y].apply(l,_):void 0},[l]),h=Object.fromEntries(Object.entries(a).filter(function(y){var v=BAe(y,1),_=v[0];return!l[_]||!(l[_]instanceof Function)})),p=H.useRef({});return Object.keys(RAe(a,[].concat(lI(i),lI(s),lI(Object.keys(h))))).filter(function(y){return p.current[y]!==a[y]}).forEach(function(y){return u(y,a[y])}),p.current=a,H.useImperativeHandle(o,function(){return Object.fromEntries(i.map(function(y){return[y,function(){for(var v=arguments.length,_=new Array(v),x=0;x<v;x++)_[x]=arguments[x];return u.apply(void 0,[y].concat(_))}]}))}),H.createElement("primitive",uA(uA({},h),{},{object:l}))})}var jAe=["onNodeHover","onLinkHover","onNodeClick","onLinkClick"],GAe=HAe(vAe,{initPropNames:[],methodNames:["emitParticle","getGraphBbox","d3ReheatSimulation","d3Force","resetCountdown","tickFrame","refresh"]}),pF=function(e){var t,i=e.intersections,r=function(a){return a?a.hasOwnProperty("__graphObjType")?a:r(a.parent):null};return r((t=i.find(function(s){return r(s.object)}))===null||t===void 0?void 0:t.object)},kw=function(e){return e==null?void 0:e.__data},qAe=H.forwardRef(function(n,e){var t=n.onNodeHover,i=n.onLinkHover,r=n.onNodeClick,s=n.onLinkClick,a=kAe(n,jAe),o=H.useRef(null),l=H.useCallback(function(h){if(!(!t&&!i)){var p=pF(h);if(p!==o.current){var y=o.current;o.current=p,y&&(!p||p.__graphObjType!==y.__graphObjType)&&({node:t,link:i}[y==null?void 0:y.__graphObjType]||function(){})(null,kw(y)),({node:t,link:i}[p==null?void 0:p.__graphObjType]||function(){})(kw(p),(p==null?void 0:p.__graphObjType)===(y==null?void 0:y.__graphObjType)?kw(y):null)}}},[t,i]),u=H.useCallback(function(h){var p=pF(h),y={node:r,link:s}[p==null?void 0:p.__graphObjType];p&&y&&(y(kw(p),h),h.stopPropagation())},[r,s]);return H.createElement(GAe,uA(uA({},a),{},{ref:e,onPointerMove:l,onClick:u}))});const WAe=({cameraControlsRef:n})=>{const e=dn(u=>u.dagModeConfig),t=dn(u=>u.dagLevelDistanceConfig),i=dn(u=>u.showFullGraph),r=H.useRef(void 0);tE(()=>{var u;return(u=r.current)==null?void 0:u.tickFrame()});const s=ope(),a="system",o=H.useMemo(()=>{if(!s.nodes.length||!s.links.length)return{nodes:[],links:[]};if(i)return s;const u=s.nodes.filter(_=>_.group===a);if(!u.length)return{nodes:[],links:[]};const h=new Set(u.map(_=>_.id)),p=s.links.filter(_=>h.has(typeof _.source=="object"?_.source.id:_.source)),y=new Set(p.map(_=>typeof _.target=="object"?_.target.id:_.target)),v=s.nodes.filter(_=>y.has(_.id));return{nodes:[...u,...v],links:p}},[s,i]),l=H.useCallback(u=>{if(!u)return;if(!n.current){console.error("cameraControlsRef no est inicializado.");return}const h=new fe(u.x??0,u.y??0,u.z??0);Jde(n.current,h,30),dn.setState({nodeViewData:u})},[n]);return Z.jsx(qAe,{ref:r,graphData:o,dagMode:e,dagLevelDistance:t,linkWidth:2,linkCurvature:.05,linkDirectionalParticles:4,linkDirectionalParticleWidth:2,onNodeClick:l,nodeAutoColorBy:u=>u.group?PW[u.group]:"gray",nodeThreeObject:u=>Tpe(u)})},$Ae=lr.forwardRef(function(e,t){return Z.jsx(xW,{direction:"up",ref:t,...e})}),uf="components.navigationgestures.",XAe=()=>{const{t:n}=_y(),e=n(uf+"touch.title"),t=n(uf+"desk.title"),[i,r]=lr.useState(!0),[s,a]=lr.useState(!1);H.useEffect(()=>{localStorage.getItem(Yi.navigationsGestures)==="true"?(r(!1),dn.setState({overlayDontShowAgain:!0})):(r(!0),dn.setState({overlayDontShowAgain:!1}))},[]);const o=()=>{dn.setState({overlayDontShowAgain:s}),r(!1)},l=u=>{const h=u.target.checked;a(h),h?localStorage.setItem(Yi.navigationsGestures,"true"):localStorage.removeItem(Yi.navigationsGestures)};return Z.jsx(ad,{children:Z.jsxs(vW,{open:i,slots:{transition:$Ae},keepMounted:!0,onClose:o,"aria-describedby":"alert-dialog-slide-description",children:[Z.jsx(bW,{children:uw()==="Android"||uw()==="iOS"?e:t}),Z.jsx(_W,{sx:{padding:"20px"},children:Z.jsx(_1e,{component:"div",id:"alert-dialog-slide-description",sx:{"& div":{marginTop:"20px"}},children:uw()==="iOS"||uw()==="Android"?Z.jsxs(Z.Fragment,{children:[Z.jsxs(pp,{direction:"row",spacing:1,alignItems:"center",children:[Z.jsx("img",{src:"gestures/one-swipe.svg",alt:"One Swipe",style:{width:30}}),Z.jsx(ts,{variant:"h6",children:n(uf+"touch.text1")})]}),Z.jsxs(pp,{direction:"row",spacing:1,alignItems:"center",children:[Z.jsx("img",{src:"gestures/two-swipe.svg",alt:"Two Swipe",style:{width:30}}),Z.jsx(ts,{variant:"h6",children:n(uf+"touch.text2")})]}),Z.jsxs(pp,{direction:"row",spacing:1,alignItems:"center",children:[Z.jsx("img",{src:"gestures/zoom-in.svg",alt:"Scroll",style:{width:30}}),Z.jsx(ts,{variant:"h6",children:n(uf+"touch.text3")})]})]}):Z.jsxs(Z.Fragment,{children:[Z.jsxs(pp,{direction:"row",spacing:1,alignItems:"center",children:[Z.jsx("img",{src:"gestures/left-click.svg",alt:"Left Click",style:{width:30}}),Z.jsx(ts,{variant:"h6",children:"+"}),Z.jsx("img",{src:"gestures/360.svg",alt:"360",style:{width:30}}),Z.jsxs(ts,{variant:"h6",children:["Clic izquierdo + arrastrar: Orbitar",n(uf+"desk.text1")]})]}),Z.jsxs(pp,{direction:"row",spacing:1,alignItems:"center",children:[Z.jsx("img",{src:"gestures/right-click.svg",alt:"Right Click",style:{width:30}}),Z.jsx(ts,{variant:"h6",children:"+"}),Z.jsx("img",{src:"gestures/360.svg",alt:"360",style:{width:30}}),Z.jsx(ts,{variant:"h6",children:n(uf+"desk.text2")})]}),Z.jsxs(pp,{direction:"row",spacing:1,alignItems:"center",children:[Z.jsx("img",{src:"gestures/scroll.svg",alt:"Scroll",style:{width:30}}),Z.jsx(ts,{variant:"h6",children:n(uf+"desk.text3")})]})]})})}),Z.jsxs(u1e,{sx:{justifyContent:"space-between"},children:[Z.jsx(z1e,{control:Z.jsx(Dbe,{onChange:l}),label:n(uf+"checkBoxLabel")}),Z.jsx(JS,{onClick:o,children:n(uf+"buttonClose")})]})]})})};var cI,mF;function YAe(){return mF||(mF=1,cI=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var i,r,s;if(Array.isArray(e)){if(i=e.length,i!=t.length)return!1;for(r=i;r--!==0;)if(!n(e[r],t[r]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(s=Object.keys(e),i=s.length,i!==Object.keys(t).length)return!1;for(r=i;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[r]))return!1;for(r=i;r--!==0;){var a=s[r];if(!n(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}),cI}var KAe=YAe();const ZAe=Qp(KAe);var zw={exports:{}},uI,gF;function QAe(){if(gF)return uI;gF=1;var n;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/return n=function(){var e={},t={};return e.on=function(i,r){var s={name:i,handler:r};return t[i]=t[i]||[],t[i].unshift(s),s},e.off=function(i){var r=t[i.name].indexOf(i);r!==-1&&t[i.name].splice(r,1)},e.trigger=function(i,r){var s=t[i],a;if(s)for(a=s.length;a--;)s[a].handler(r)},e},uI=n,uI}var Bw={exports:{}},fI,yF;function JAe(){if(yF)return fI;yF=1,fI=function(r,s,a){var o=document.head||document.getElementsByTagName("head")[0],l=document.createElement("script");typeof s=="function"&&(a=s,s={}),s=s||{},a=a||function(){},l.type=s.type||"text/javascript",l.charset=s.charset||"utf8",l.async="async"in s?!!s.async:!0,l.src=r,s.attrs&&n(l,s.attrs),s.text&&(l.text=""+s.text);var u="onload"in l?e:t;u(l,a),l.onload||e(l,a),o.appendChild(l)};function n(i,r){for(var s in r)i.setAttribute(s,r[s])}function e(i,r){i.onload=function(){this.onerror=this.onload=null,r(null,i)},i.onerror=function(){this.onerror=this.onload=null,r(new Error("Failed to load "+this.src),i)}}function t(i,r){i.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,r(null,i))}}return fI}var vF;function eMe(){return vF||(vF=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=JAe(),i=r(t);function r(s){return s&&s.__esModule?s:{default:s}}e.default=function(s){var a=new Promise(function(o){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){o(window.YT);return}else{var l=window.location.protocol==="http:"?"http:":"https:";(0,i.default)(l+"//www.youtube.com/iframe_api",function(h){h&&s.trigger("error",h)})}var u=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){u&&u(),o(window.YT)}});return a},n.exports=e.default})(Bw,Bw.exports)),Bw.exports}var Fw={exports:{}},Vw={exports:{}},Hw={exports:{}},hI,_F;function tMe(){if(_F)return hI;_F=1;var n=1e3,e=n*60,t=e*60,i=t*24,r=i*365.25;hI=function(u,h){h=h||{};var p=typeof u;if(p==="string"&&u.length>0)return s(u);if(p==="number"&&isNaN(u)===!1)return h.long?o(u):a(u);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(u))};function s(u){if(u=String(u),!(u.length>100)){var h=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(u);if(h){var p=parseFloat(h[1]),y=(h[2]||"ms").toLowerCase();switch(y){case"years":case"year":case"yrs":case"yr":case"y":return p*r;case"days":case"day":case"d":return p*i;case"hours":case"hour":case"hrs":case"hr":case"h":return p*t;case"minutes":case"minute":case"mins":case"min":case"m":return p*e;case"seconds":case"second":case"secs":case"sec":case"s":return p*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return p;default:return}}}}function a(u){return u>=i?Math.round(u/i)+"d":u>=t?Math.round(u/t)+"h":u>=e?Math.round(u/e)+"m":u>=n?Math.round(u/n)+"s":u+"ms"}function o(u){return l(u,i,"day")||l(u,t,"hour")||l(u,e,"minute")||l(u,n,"second")||u+" ms"}function l(u,h,p){if(!(u<h))return u<h*1.5?Math.floor(u/h)+" "+p:Math.ceil(u/h)+" "+p+"s"}return hI}var bF;function nMe(){return bF||(bF=1,(function(n,e){e=n.exports=r.debug=r.default=r,e.coerce=l,e.disable=a,e.enable=s,e.enabled=o,e.humanize=tMe(),e.names=[],e.skips=[],e.formatters={};var t;function i(u){var h=0,p;for(p in u)h=(h<<5)-h+u.charCodeAt(p),h|=0;return e.colors[Math.abs(h)%e.colors.length]}function r(u){function h(){if(h.enabled){var p=h,y=+new Date,v=y-(t||y);p.diff=v,p.prev=t,p.curr=y,t=y;for(var _=new Array(arguments.length),x=0;x<_.length;x++)_[x]=arguments[x];_[0]=e.coerce(_[0]),typeof _[0]!="string"&&_.unshift("%O");var E=0;_[0]=_[0].replace(/%([a-zA-Z%])/g,function(w,C){if(w==="%%")return w;E++;var A=e.formatters[C];if(typeof A=="function"){var N=_[E];w=A.call(p,N),_.splice(E,1),E--}return w}),e.formatArgs.call(p,_);var S=h.log||e.log||console.log.bind(console);S.apply(p,_)}}return h.namespace=u,h.enabled=e.enabled(u),h.useColors=e.useColors(),h.color=i(u),typeof e.init=="function"&&e.init(h),h}function s(u){e.save(u),e.names=[],e.skips=[];for(var h=(typeof u=="string"?u:"").split(/[\s,]+/),p=h.length,y=0;y<p;y++)h[y]&&(u=h[y].replace(/\*/g,".*?"),u[0]==="-"?e.skips.push(new RegExp("^"+u.substr(1)+"$")):e.names.push(new RegExp("^"+u+"$")))}function a(){e.enable("")}function o(u){var h,p;for(h=0,p=e.skips.length;h<p;h++)if(e.skips[h].test(u))return!1;for(h=0,p=e.names.length;h<p;h++)if(e.names[h].test(u))return!0;return!1}function l(u){return u instanceof Error?u.stack||u.message:u}})(Hw,Hw.exports)),Hw.exports}var xF;function iMe(){return xF||(xF=1,(function(n,e){var t={};e=n.exports=nMe(),e.log=s,e.formatArgs=r,e.save=a,e.load=o,e.useColors=i,e.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:l(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function i(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}e.formatters.j=function(u){try{return JSON.stringify(u)}catch(h){return"[UnexpectedJSONParseError]: "+h.message}};function r(u){var h=this.useColors;if(u[0]=(h?"%c":"")+this.namespace+(h?" %c":" ")+u[0]+(h?"%c ":" ")+"+"+e.humanize(this.diff),!!h){var p="color: "+this.color;u.splice(1,0,p,"color: inherit");var y=0,v=0;u[0].replace(/%[a-zA-Z%]/g,function(_){_!=="%%"&&(y++,_==="%c"&&(v=y))}),u.splice(v,0,p)}}function s(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(u){try{u==null?e.storage.removeItem("debug"):e.storage.debug=u}catch{}}function o(){var u;try{u=e.storage.debug}catch{}return!u&&typeof process<"u"&&"env"in process&&(u=t.DEBUG),u}e.enable(o());function l(){try{return window.localStorage}catch{}}})(Vw,Vw.exports)),Vw.exports}var jw={exports:{}},SF;function rMe(){return SF||(SF=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],n.exports=e.default})(jw,jw.exports)),jw.exports}var Gw={exports:{}},EF;function sMe(){return EF||(EF=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],n.exports=e.default})(Gw,Gw.exports)),Gw.exports}var qw={exports:{}},Ww={exports:{}},TF;function aMe(){return TF||(TF=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},n.exports=e.default})(Ww,Ww.exports)),Ww.exports}var wF;function oMe(){return wF||(wF=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=aMe(),i=r(t);function r(s){return s&&s.__esModule?s:{default:s}}e.default={pauseVideo:{acceptableStates:[i.default.ENDED,i.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[i.default.ENDED,i.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[i.default.ENDED,i.default.PLAYING,i.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},n.exports=e.default})(qw,qw.exports)),qw.exports}var CF;function lMe(){return CF||(CF=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=iMe(),i=h(t),r=rMe(),s=h(r),a=sMe(),o=h(a),l=oMe(),u=h(l);function h(v){return v&&v.__esModule?v:{default:v}}var p=(0,i.default)("youtube-player"),y={};y.proxyEvents=function(v){var _={},x=function(I){var D="on"+I.slice(0,1).toUpperCase()+I.slice(1);_[D]=function(P){p('event "%s"',D,P),v.trigger(I,P)}},E=!0,S=!1,w=void 0;try{for(var C=o.default[Symbol.iterator](),A;!(E=(A=C.next()).done);E=!0){var N=A.value;x(N)}}catch(L){S=!0,w=L}finally{try{!E&&C.return&&C.return()}finally{if(S)throw w}}return _},y.promisifyPlayer=function(v){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,x={},E=function(D){_&&u.default[D]?x[D]=function(){for(var P=arguments.length,U=Array(P),F=0;F<P;F++)U[F]=arguments[F];return v.then(function(z){var V=u.default[D],K=z.getPlayerState(),J=z[D].apply(z,U);return V.stateChangeRequired||Array.isArray(V.acceptableStates)&&V.acceptableStates.indexOf(K)===-1?new Promise(function(q){var W=function Q(){var re=z.getPlayerState(),pe=void 0;typeof V.timeout=="number"&&(pe=setTimeout(function(){z.removeEventListener("onStateChange",Q),q()},V.timeout)),Array.isArray(V.acceptableStates)&&V.acceptableStates.indexOf(re)!==-1&&(z.removeEventListener("onStateChange",Q),clearTimeout(pe),q())};z.addEventListener("onStateChange",W)}).then(function(){return J}):J})}:x[D]=function(){for(var P=arguments.length,U=Array(P),F=0;F<P;F++)U[F]=arguments[F];return v.then(function(z){return z[D].apply(z,U)})}},S=!0,w=!1,C=void 0;try{for(var A=s.default[Symbol.iterator](),N;!(S=(N=A.next()).done);S=!0){var L=N.value;E(L)}}catch(I){w=!0,C=I}finally{try{!S&&A.return&&A.return()}finally{if(w)throw C}}return x},e.default=y,n.exports=e.default})(Fw,Fw.exports)),Fw.exports}var AF;function cMe(){return AF||(AF=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},i=QAe(),r=u(i),s=eMe(),a=u(s),o=lMe(),l=u(o);function u(p){return p&&p.__esModule?p:{default:p}}var h=void 0;e.default=function(p){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,_=(0,r.default)();if(h||(h=(0,a.default)(_)),y.events)throw new Error("Event handlers cannot be overwritten.");if(typeof p=="string"&&!document.getElementById(p))throw new Error('Element "'+p+'" does not exist.');y.events=l.default.proxyEvents(_);var x=new Promise(function(S){if((typeof p>"u"?"undefined":t(p))==="object"&&p.playVideo instanceof Function){var w=p;S(w)}else h.then(function(C){var A=new C.Player(p,y);return _.on("ready",function(){S(A)}),null})}),E=l.default.promisifyPlayer(x,v);return E.on=_.on,E.off=_.off,E},n.exports=e.default})(zw,zw.exports)),zw.exports}var uMe=cMe();const fMe=Qp(uMe);var hMe=Object.defineProperty,dMe=Object.defineProperties,pMe=Object.getOwnPropertyDescriptors,MF=Object.getOwnPropertySymbols,mMe=Object.prototype.hasOwnProperty,gMe=Object.prototype.propertyIsEnumerable,RF=(n,e,t)=>e in n?hMe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,yD=(n,e)=>{for(var t in e||(e={}))mMe.call(e,t)&&RF(n,t,e[t]);if(MF)for(var t of MF(e))gMe.call(e,t)&&RF(n,t,e[t]);return n},vD=(n,e)=>dMe(n,pMe(e)),yMe=(n,e,t)=>new Promise((i,r)=>{var s=l=>{try{o(t.next(l))}catch(u){r(u)}},a=l=>{try{o(t.throw(l))}catch(u){r(u)}},o=l=>l.done?i(l.value):Promise.resolve(l.value).then(s,a);o((t=t.apply(n,e)).next())});function vMe(n,e){var t,i;if(n.videoId!==e.videoId)return!0;const r=((t=n.opts)==null?void 0:t.playerVars)||{},s=((i=e.opts)==null?void 0:i.playerVars)||{};return r.start!==s.start||r.end!==s.end}function OF(n={}){return vD(yD({},n),{height:0,width:0,playerVars:vD(yD({},n.playerVars),{autoplay:0,start:0,end:0})})}function _Me(n,e){return n.videoId!==e.videoId||!ZAe(OF(n.opts),OF(e.opts))}function bMe(n,e){var t,i,r,s;return n.id!==e.id||n.className!==e.className||((t=n.opts)==null?void 0:t.width)!==((i=e.opts)==null?void 0:i.width)||((r=n.opts)==null?void 0:r.height)!==((s=e.opts)==null?void 0:s.height)||n.iframeClassName!==e.iframeClassName||n.title!==e.title}var xMe={videoId:"",id:"",className:"",iframeClassName:"",style:{},title:"",loading:void 0,opts:{},onReady:()=>{},onError:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onStateChange:()=>{},onPlaybackRateChange:()=>{},onPlaybackQualityChange:()=>{}},SMe={videoId:ba.string,id:ba.string,className:ba.string,iframeClassName:ba.string,style:ba.object,title:ba.string,loading:ba.oneOf(["lazy","eager"]),opts:ba.objectOf(ba.any),onReady:ba.func,onError:ba.func,onPlay:ba.func,onPause:ba.func,onEnd:ba.func,onStateChange:ba.func,onPlaybackRateChange:ba.func,onPlaybackQualityChange:ba.func},C2=class extends lr.Component{constructor(n){super(n),this.destroyPlayerPromise=void 0,this.onPlayerReady=e=>{var t,i;return(i=(t=this.props).onReady)==null?void 0:i.call(t,e)},this.onPlayerError=e=>{var t,i;return(i=(t=this.props).onError)==null?void 0:i.call(t,e)},this.onPlayerStateChange=e=>{var t,i,r,s,a,o,l,u;switch((i=(t=this.props).onStateChange)==null||i.call(t,e),e.data){case C2.PlayerState.ENDED:(s=(r=this.props).onEnd)==null||s.call(r,e);break;case C2.PlayerState.PLAYING:(o=(a=this.props).onPlay)==null||o.call(a,e);break;case C2.PlayerState.PAUSED:(u=(l=this.props).onPause)==null||u.call(l,e);break}},this.onPlayerPlaybackRateChange=e=>{var t,i;return(i=(t=this.props).onPlaybackRateChange)==null?void 0:i.call(t,e)},this.onPlayerPlaybackQualityChange=e=>{var t,i;return(i=(t=this.props).onPlaybackQualityChange)==null?void 0:i.call(t,e)},this.destroyPlayer=()=>this.internalPlayer?(this.destroyPlayerPromise=this.internalPlayer.destroy().then(()=>this.destroyPlayerPromise=void 0),this.destroyPlayerPromise):Promise.resolve(),this.createPlayer=()=>{if(typeof document>"u")return;if(this.destroyPlayerPromise){this.destroyPlayerPromise.then(this.createPlayer);return}const e=vD(yD({},this.props.opts),{videoId:this.props.videoId});this.internalPlayer=fMe(this.container,e),this.internalPlayer.on("ready",this.onPlayerReady),this.internalPlayer.on("error",this.onPlayerError),this.internalPlayer.on("stateChange",this.onPlayerStateChange),this.internalPlayer.on("playbackRateChange",this.onPlayerPlaybackRateChange),this.internalPlayer.on("playbackQualityChange",this.onPlayerPlaybackQualityChange),(this.props.title||this.props.loading)&&this.internalPlayer.getIframe().then(t=>{this.props.title&&t.setAttribute("title",this.props.title),this.props.loading&&t.setAttribute("loading",this.props.loading)})},this.resetPlayer=()=>this.destroyPlayer().then(this.createPlayer),this.updatePlayer=()=>{var e;(e=this.internalPlayer)==null||e.getIframe().then(t=>{this.props.id?t.setAttribute("id",this.props.id):t.removeAttribute("id"),this.props.iframeClassName?t.setAttribute("class",this.props.iframeClassName):t.removeAttribute("class"),this.props.opts&&this.props.opts.width?t.setAttribute("width",this.props.opts.width.toString()):t.removeAttribute("width"),this.props.opts&&this.props.opts.height?t.setAttribute("height",this.props.opts.height.toString()):t.removeAttribute("height"),this.props.title?t.setAttribute("title",this.props.title):t.setAttribute("title","YouTube video player"),this.props.loading?t.setAttribute("loading",this.props.loading):t.removeAttribute("loading")})},this.getInternalPlayer=()=>this.internalPlayer,this.updateVideo=()=>{var e,t,i,r;if(typeof this.props.videoId>"u"||this.props.videoId===null){(e=this.internalPlayer)==null||e.stopVideo();return}let s=!1;const a={videoId:this.props.videoId};if((t=this.props.opts)!=null&&t.playerVars&&(s=this.props.opts.playerVars.autoplay===1,"start"in this.props.opts.playerVars&&(a.startSeconds=this.props.opts.playerVars.start),"end"in this.props.opts.playerVars&&(a.endSeconds=this.props.opts.playerVars.end)),s){(i=this.internalPlayer)==null||i.loadVideoById(a);return}(r=this.internalPlayer)==null||r.cueVideoById(a)},this.refContainer=e=>{this.container=e},this.container=null,this.internalPlayer=null}componentDidMount(){this.createPlayer()}componentDidUpdate(n){return yMe(this,null,function*(){bMe(n,this.props)&&this.updatePlayer(),_Me(n,this.props)&&(yield this.resetPlayer()),vMe(n,this.props)&&this.updateVideo()})}componentWillUnmount(){this.destroyPlayer()}render(){return lr.createElement("div",{className:this.props.className,style:this.props.style},lr.createElement("div",{id:this.props.id,className:this.props.iframeClassName,ref:this.refContainer}))}},JM=C2;JM.propTypes=SMe;JM.defaultProps=xMe;JM.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};var EMe=JM;const U$=ai.palette;U$.typography.fontFamily,ai.palette.text.tertiary,ai.palette.text.secondary;const TMe={position:"relative",width:"100%",paddingTop:"56.25%",background:"#000",borderRadius:"4px",overflow:"hidden",marginBottom:"25px","& iframe":{position:"absolute",top:0,left:0,width:"100%",height:"100%"}};`${U$.formStyles.borderColor}`;const wMe="components.nodeConnectionViewer.",CMe=({open:n,onClose:e,nodeData:t})=>{var o;const i=npe(t.id??0),r=ipe(i==null?void 0:i.tab_ids),s=H.useRef(null),{t:a}=_y();return H.useLayoutEffect(()=>{if(!s.current)return;s.current.scrollTo({top:0,behavior:"auto"}),FA.timeline().to(s.current,{opacity:0,y:20,duration:.3,ease:"power1.inOut"}).set(s.current,{scrollTop:0}).to(s.current,{opacity:1,y:0,duration:.4,ease:"power2.out"}),dn.setState({connectionViewerActiveStep:null})},[t]),Z.jsxs(vW,{open:n,onClose:e,fullWidth:!0,maxWidth:"md",children:[Z.jsx(bW,{sx:{fontWeight:600,fontSize:"1.4rem"},children:XP(t.name||"Node Name")}),Z.jsxs(_W,{dividers:!0,ref:s,sx:{overflowY:"auto"},children:[Z.jsx(ad,{sx:TMe,children:t.videoid&&t.videoid.length>30?Z.jsx("iframe",{src:`https://drive.google.com/file/d/${t.videoid}/preview`,width:"640",height:"360",allow:"autoplay",allowFullScreen:!0}):Z.jsx(EMe,{videoId:t.videoid})}),Z.jsx(pp,{direction:"row",spacing:1,mb:2,children:r.map(l=>Z.jsx(V_e,{label:XP(localStorage.getItem(Yi.languageUser)==="es"?l.title_es||l.label:l.title_en||l.label),color:"success",size:"small",variant:"outlined"},l.id))}),Z.jsx(f_,{sx:{my:2}}),Z.jsx(rRe,{nodeId:t.id?t.id:0}),((o=t.description)==null?void 0:o.summary)&&Z.jsxs(ad,{children:[Z.jsx(ts,{variant:"h4",gutterBottom:!0,children:a(wMe+"descriptionLabel")}),Z.jsx(ts,{variant:"subtitle2",children:t.description.summary}),Z.jsx(n4,{children:t.description.points.map((l,u)=>Z.jsxs(EW,{sx:{py:.4},children:[Z.jsx(pTe,{})," ",Z.jsx(i4,{primary:l})]},u))})]})]})]})},Ah=ai,k$=({color:n})=>Z.jsx("div",{style:{marginRight:"8px"},children:Z.jsxs("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",preserveAspectRatio:"xMidYMid meet",children:[Z.jsx("path",{d:"M6 2L6.09863 2.00488C6.32763 2.02757 6.54289 2.12883 6.70703 2.29297L18.207 13.793L18.2754 13.8691C18.5957 14.2619 18.5731 14.8409 18.207 15.207C17.8409 15.5731 17.2619 15.5957 16.8691 15.2754L16.793 15.207L5.58594 4H4V5.58594L15.207 16.793L15.2754 16.8691C15.5957 17.2619 15.5731 17.8409 15.207 18.207C14.8409 18.5731 14.2619 18.5957 13.8691 18.2754L13.793 18.207L2.29297 6.70703C2.10543 6.51949 2 6.26522 2 6V3L2.00488 2.89746C2.05621 2.39333 2.48232 2 3 2H6Z",fill:n}),Z.jsx("path",{d:"M18.293 12.293C18.6835 11.9024 19.3165 11.9024 19.707 12.293C20.0975 12.6835 20.0975 13.3165 19.707 13.707L13.707 19.707C13.3165 20.0976 12.6835 20.0976 12.293 19.707C11.9024 19.3165 11.9024 18.6835 12.293 18.293L18.293 12.293Z",fill:n}),Z.jsx("path",{d:"M15.293 15.293C15.6591 14.9269 16.2381 14.9043 16.6309 15.2246L16.707 15.293L20.707 19.293L20.7754 19.3691C21.0958 19.7619 21.0732 20.3409 20.707 20.707C20.3409 21.0731 19.7619 21.0957 19.3692 20.7754L19.293 20.707L15.293 16.707L15.2246 16.6309C14.9043 16.2381 14.9269 15.6591 15.293 15.293Z",fill:n}),Z.jsx("path",{d:"M20.3691 18.2246C20.7619 17.9043 21.3409 17.9269 21.707 18.293C22.0731 18.6591 22.0957 19.2381 21.7754 19.6309L21.707 19.707L19.707 21.707C19.3165 22.0976 18.6835 22.0976 18.293 21.707C17.9024 21.3165 17.9024 20.6835 18.293 20.293L20.293 18.293L20.3691 18.2246Z",fill:n}),Z.jsx("path",{d:"M21 2L21.1025 2.00488C21.6067 2.05621 22 2.48232 22 3V6C22 6.26522 21.8946 6.51949 21.707 6.70703L18.207 10.207C17.8165 10.5976 17.1835 10.5976 16.793 10.207C16.4024 9.81651 16.4024 9.18349 16.793 8.79297L20 5.58594V4H18.414L15.207 7.20703C14.8165 7.59756 14.1835 7.59756 13.793 7.20703C13.4024 6.81651 13.4024 6.18349 13.793 5.79297L17.293 2.29297L17.3662 2.22656C17.5442 2.08073 17.7679 2 18 2H21Z",fill:n}),Z.jsx("path",{d:"M4.29298 13.293C4.65909 12.9269 5.2381 12.9043 5.63087 13.2246L5.70704 13.293L9.70704 17.293L9.7754 17.3691C10.0958 17.7619 10.0732 18.3409 9.70704 18.707C9.34092 19.0731 8.76192 19.0957 8.36915 18.7754L8.29298 18.707L4.29298 14.707L4.22462 14.6309C3.90427 14.2381 3.92686 13.6591 4.29298 13.293Z",fill:n}),Z.jsx("path",{d:"M6.29295 16.293C6.68348 15.9024 7.31649 15.9024 7.70702 16.293C8.09754 16.6835 8.09754 17.3165 7.70702 17.707L4.70702 20.707C4.31649 21.0976 3.68348 21.0976 3.29295 20.707C2.90243 20.3165 2.90243 19.6835 3.29295 19.293L6.29295 16.293Z",fill:n}),Z.jsx("path",{d:"M2.29298 18.293C2.65909 17.9269 3.2381 17.9043 3.63087 18.2246L3.70704 18.293L5.70704 20.293L5.7754 20.3691C6.09575 20.7619 6.07316 21.3409 5.70704 21.707C5.34093 22.0731 4.76192 22.0957 4.36915 21.7754L4.29298 21.707L2.29298 19.707L2.22462 19.6309C1.90427 19.2381 1.92686 18.6591 2.29298 18.293Z",fill:n})]})}),z$=({color:n})=>Z.jsx("div",{style:{marginRight:"8px"},children:Z.jsxs("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",preserveAspectRatio:"xMidYMid meet",children:[Z.jsx("path",{d:"M19 7C19.4167 7 19.7901 7.25831 19.9365 7.64844L22.9365 15.6484C23.0927 16.0648 22.9548 16.5345 22.5986 16.8008C21.5568 17.5791 20.297 18 19 18C17.703 18 16.4432 17.5791 15.4014 16.8008C15.0452 16.5345 14.9073 16.0648 15.0635 15.6484L18.0635 7.64844L18.1289 7.50879C18.3041 7.19791 18.6353 7 19 7ZM17.2246 15.5811C17.7758 15.8544 18.3816 16 19 16C19.6181 16 20.2234 15.8541 20.7744 15.5811L19 10.8486L17.2246 15.5811Z",fill:n}),Z.jsx("path",{d:"M4.99999 7C5.41673 7 5.79007 7.25831 5.93652 7.64844L8.93652 15.6484C9.09266 16.0648 8.95478 16.5345 8.59863 16.8008C7.55684 17.5791 6.29703 18 4.99999 18C3.70296 18 2.44315 17.5791 1.40136 16.8008C1.04521 16.5345 0.907331 16.0648 1.06347 15.6484L4.06347 7.64844L4.1289 7.50879C4.30409 7.19791 4.63531 7 4.99999 7ZM3.2246 15.5811C3.7758 15.8544 4.38156 16 4.99999 16C5.61814 16 6.22342 15.8541 6.77441 15.5811L4.99999 10.8486L3.2246 15.5811Z",fill:n}),Z.jsx("path",{d:"M17 20C17.5523 20 18 20.4477 18 21C18 21.5523 17.5523 22 17 22H7C6.44772 22 6 21.5523 6 21C6 20.4477 6.44772 20 7 20H17Z",fill:n}),Z.jsx("path",{d:"M11 21V3C11 2.44772 11.4477 2 12 2C12.5523 2 13 2.44772 13 3V21C13 21.5523 12.5523 22 12 22C11.4477 22 11 21.5523 11 21Z",fill:n}),Z.jsx("path",{d:"M11.6602 4.05956C11.9161 3.96704 12.2008 3.98224 12.4473 4.10546L12.8213 4.2871C14.7407 5.18917 17.3374 5.99999 19 5.99999H21C21.5523 5.99999 22 6.44771 22 6.99999C22 7.55228 21.5523 7.99999 21 7.99999H19C16.929 7.99999 14.0476 7.06705 12 6.10937C9.95245 7.06705 7.07096 7.99999 5 7.99999H3C2.44772 7.99999 2 7.55228 2 6.99999C2 6.44771 2.44772 5.99999 3 5.99999H5C6.77342 5.99999 9.60934 5.07716 11.5527 4.10546L11.6602 4.05956Z",fill:n})]})}),B$=({color:n})=>Z.jsx("div",{style:{marginRight:"8px"},children:Z.jsxs("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",preserveAspectRatio:"xMidYMid meet",children:[Z.jsx("path",{d:"M20 15C20.6738 15.6738 20.7051 15.706 20.7061 15.708L20.7051 15.709C20.7044 15.7097 20.7039 15.7112 20.7031 15.7119C20.7017 15.7133 20.6998 15.7143 20.6982 15.7158C20.695 15.719 20.6913 15.7229 20.6875 15.7266C20.6799 15.7338 20.671 15.742 20.6611 15.751C20.6412 15.7691 20.6161 15.7904 20.5869 15.8145C20.5282 15.8628 20.4504 15.9224 20.3516 15.9883C20.1536 16.1203 19.8731 16.2779 19.4961 16.4287C18.7402 16.731 17.6125 17 16 17C14.2809 17 12.8607 16.4214 11.6289 15.9287C10.3608 15.4215 9.28069 15 8 15C6.61272 15 5.74022 15.2311 5.24609 15.4287C4.99834 15.5278 4.84105 15.6203 4.75781 15.6758L4.68457 15.7285C4.68649 15.7268 4.68964 15.7242 4.69336 15.7207L4.70605 15.708L4.70508 15.707C4.41908 15.9922 3.99044 16.0784 3.61719 15.9238C3.24359 15.769 3 15.4044 3 15V3C3 2.73478 3.10543 2.48051 3.29297 2.29297L4 3C3.32619 2.32619 3.29494 2.29399 3.29395 2.29199L3.29492 2.29102C3.29565 2.2903 3.29612 2.28884 3.29688 2.28809C3.29829 2.28668 3.30022 2.28568 3.30176 2.28418C3.30504 2.28097 3.30867 2.27709 3.3125 2.27344C3.32014 2.26615 3.32902 2.25798 3.33887 2.24902C3.35878 2.23092 3.38385 2.20963 3.41309 2.18555C3.4718 2.1372 3.54963 2.07759 3.64844 2.01172C3.84641 1.87973 4.12685 1.72211 4.50391 1.57129C5.25978 1.26899 6.38752 1 8 1C9.71915 1 11.1393 1.57856 12.3711 2.07129C13.6392 2.57853 14.7193 3 16 3C17.3873 3 18.2598 2.76894 18.7539 2.57129C19.0017 2.47216 19.159 2.37971 19.2422 2.32422L19.3154 2.27148C19.3135 2.27323 19.3104 2.27575 19.3066 2.2793L19.2949 2.29102C19.5809 2.00658 20.01 1.92174 20.3828 2.07617C20.7564 2.23098 21 2.59558 21 3V15C21 15.2652 20.8946 15.5195 20.707 15.707L20 15ZM8 3C6.61272 3 5.74022 3.23106 5.24609 3.42871C5.15107 3.46673 5.06933 3.50372 5 3.53809V13.3984C5.72765 13.1743 6.70797 13 8 13C9.71915 13 11.1393 13.5786 12.3711 14.0713C13.6392 14.5785 14.7193 15 16 15C17.3873 15 18.2598 14.7689 18.7539 14.5713C18.8491 14.5332 18.9306 14.4954 19 14.4609V4.60059C18.2723 4.82481 17.2922 5 16 5C14.2809 5 12.8607 4.42144 11.6289 3.92871C10.3608 3.42147 9.28069 3 8 3Z",fill:n}),Z.jsx("path",{d:"M3 22V15C3 14.4477 3.44772 14 4 14C4.55228 14 5 14.4477 5 15V22C5 22.5523 4.55228 23 4 23C3.44772 23 3 22.5523 3 22Z",fill:n})]})}),F$=({color:n})=>Z.jsx("div",{style:{marginRight:"8px"},children:Z.jsx("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",preserveAspectRatio:"xMidYMid meet",children:Z.jsx("path",{d:"M13.3511 1.00426C13.6035 0.979434 13.8584 1.01916 14.0913 1.11949L14.2056 1.17516L14.315 1.23961C14.5276 1.37773 14.7014 1.56768 14.8208 1.79137L14.8765 1.90563L14.9214 2.02477C15.0012 2.26511 15.0193 2.52186 14.9732 2.77086L14.9439 2.89488C14.9403 2.90782 14.9372 2.92116 14.9331 2.93395L13.0132 8.95348L12.9966 9.00035H19.9995C20.377 8.99962 20.7472 9.10533 21.0669 9.30602C21.3874 9.50722 21.6438 9.79572 21.8072 10.1371C21.9705 10.4784 22.0342 10.8589 21.9898 11.2347C21.9509 11.5635 21.8311 11.8768 21.6421 12.1468L21.5562 12.2601L21.4976 12.3265L11.5972 22.5267L11.5962 22.5257C11.3775 22.7596 11.0908 22.9195 10.7749 22.9779C10.4404 23.0398 10.0945 22.986 9.79446 22.8255C9.49446 22.6651 9.25781 22.4067 9.12356 22.0941C8.98947 21.7816 8.96599 21.4328 9.05618 21.1048L9.06692 21.0658L10.9868 15.0463L11.0034 15.0004H3.99954V14.9994C3.62242 14.9999 3.25259 14.8942 2.93313 14.6937C2.61282 14.4926 2.35623 14.2048 2.1929 13.8636C2.02953 13.5222 1.96587 13.1409 2.01028 12.765C2.05474 12.3893 2.2055 12.0334 2.44388 11.7396L2.50247 11.6732L12.4029 1.47399C12.6216 1.23994 12.9092 1.08127 13.2251 1.02281L13.3511 1.00426ZM4.00247 13.0004H10.9995C11.3221 12.9998 11.6401 13.0771 11.9263 13.2259C12.2132 13.3752 12.4602 13.5914 12.645 13.8568C12.8299 14.1223 12.9474 14.4294 12.9878 14.7504C13.0261 15.055 12.9904 15.363 12.8902 15.6527L12.8931 15.6537L11.6265 19.6244L19.9976 11.0004H12.9995V10.9994C12.6774 10.9998 12.3596 10.9234 12.0738 10.7748C11.7868 10.6255 11.5399 10.4084 11.355 10.1429C11.1703 9.87756 11.0527 9.57115 11.0122 9.25035C10.9738 8.94533 11.0084 8.63614 11.1089 8.34606H11.107L12.3726 4.37438L4.00247 13.0004Z",fill:n})})}),V$=({color:n})=>Z.jsx("div",{style:{marginRight:"8px"},children:Z.jsxs("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",preserveAspectRatio:"xMidYMid meet",children:[Z.jsx("path",{d:"M11 22V2C11 1.44772 11.4477 1 12 1C12.5523 1 13 1.44772 13 2V22C13 22.5523 12.5523 23 12 23C11.4477 23 11 22.5523 11 22Z",fill:n}),Z.jsx("path",{d:"M14.293 18.293C14.6835 17.9025 15.3165 17.9025 15.707 18.293C16.0976 18.6835 16.0976 19.3166 15.707 19.7071L12.707 22.7071C12.3409 23.0732 11.7619 23.0958 11.3692 22.7754L11.293 22.7071L8.29298 19.7071L8.22462 19.6309C7.90427 19.2381 7.92686 18.6591 8.29298 18.293C8.65909 17.9269 9.2381 17.9043 9.63087 18.2247L9.70704 18.293L12 20.586L14.293 18.293Z",fill:n}),Z.jsx("path",{d:"M18.293 8.29298C18.6591 7.92686 19.2381 7.90427 19.6308 8.22462L19.707 8.29298L22.707 11.293L22.7754 11.3692C23.0744 11.7357 23.0744 12.2643 22.7754 12.6309L22.707 12.707L19.707 15.707C19.3165 16.0976 18.6835 16.0976 18.293 15.707C17.9024 15.3165 17.9024 14.6835 18.293 14.293L20.5859 12L18.293 9.70704L18.2246 9.63087C17.9042 9.2381 17.9268 8.65909 18.293 8.29298Z",fill:n}),Z.jsx("path",{d:"M22 11C22.5523 11 23 11.4477 23 12C23 12.5523 22.5523 13 22 13H2C1.44772 13 1 12.5523 1 12C1 11.4477 1.44772 11 2 11H22Z",fill:n}),Z.jsx("path",{d:"M4.29295 8.29302C4.68348 7.90249 5.31649 7.90249 5.70702 8.29302C6.09754 8.68354 6.09754 9.31655 5.70702 9.70708L3.41405 12L5.70702 14.293L5.77538 14.3692C6.09573 14.762 6.07313 15.341 5.70702 15.7071C5.3409 16.0732 4.7619 16.0958 4.36913 15.7754L4.29295 15.7071L1.29295 12.7071C0.90243 12.3166 0.90243 11.6835 1.29295 11.293L4.29295 8.29302Z",fill:n}),Z.jsx("path",{d:"M11.3691 1.22462C11.7619 0.904269 12.3409 0.926863 12.707 1.29298L15.707 4.29298L15.7754 4.36915C16.0957 4.76192 16.0731 5.34092 15.707 5.70704C15.3409 6.07316 14.7619 6.09575 14.3691 5.7754L14.293 5.70704L12 3.41407L9.70702 5.70704C9.31649 6.09757 8.68348 6.09757 8.29295 5.70704C7.90243 5.31652 7.90243 4.6835 8.29295 4.29298L11.293 1.29298L11.3691 1.22462Z",fill:n})]})}),H$=({color:n})=>Z.jsx("div",{style:{marginRight:"8px"},children:Z.jsxs("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",preserveAspectRatio:"xMidYMid meet",children:[Z.jsx("path",{d:"M9.00034 5.5C9.00034 4.74769 8.85652 4.07212 8.59019 3.62109C8.35769 3.22741 8.04163 3.00009 7.50034 3C6.41936 3 5.58527 3.56869 4.97398 4.52051C4.42658 5.37285 4.10152 6.48084 4.01987 7.55371L4.00034 8.01074V8.01172C3.98724 9.10357 4.19941 9.85934 4.44468 10.6592C4.69309 11.4693 5.00034 12.388 5.00034 13.6201V16L5.00523 16.0986C5.02792 16.3276 5.12918 16.5429 5.29331 16.707C5.48083 16.8945 5.73521 17 6.00034 17C6.26544 16.9999 6.51992 16.8945 6.70737 16.707C6.87143 16.5429 6.97278 16.3276 6.99546 16.0986L7.00034 16V14.1797C7.00041 12.468 7.56853 10.9122 8.05796 9.53809C8.5659 8.11204 9.00034 6.85579 9.00034 5.5ZM11.0003 5.5C11.0003 7.2541 10.4338 8.82762 9.94175 10.209C9.43125 11.6422 9.00041 12.8716 9.00034 14.1797V16L8.98569 16.2969C8.91745 16.9834 8.61354 17.6289 8.12144 18.1211C7.55891 18.6836 6.79587 18.9999 6.00034 19C5.20469 19 4.44088 18.6837 3.87827 18.1211C3.38627 17.6289 3.08324 16.9834 3.01499 16.2969L3.00034 16V13.6201C3.00034 12.7323 2.79161 12.0908 2.53257 11.2461C2.27037 10.3911 1.98349 9.3962 2.00034 7.98828C2.01714 6.47649 2.42719 4.785 3.29136 3.43945C4.17007 2.07138 5.57144 1 7.50034 1C8.82841 1.00011 9.76191 1.67264 10.3119 2.60352C10.828 3.47749 11.0003 4.55234 11.0003 5.5Z",fill:n}),Z.jsx("path",{d:"M15 20V18.1797C14.9999 16.8716 14.5681 15.6422 14.0576 14.209C13.5656 12.8277 13 11.254 13 9.5C13 8.55234 13.1714 7.47749 13.6875 6.60352C14.2375 5.67242 15.1716 5 16.5 5C18.429 5 19.8303 6.07131 20.709 7.43945C21.5731 8.785 21.9832 10.4765 22 11.9883L21.9922 12.4971C21.9449 13.6425 21.6972 14.4979 21.4678 15.2461C21.2087 16.0909 21 16.7323 21 17.6201V20C21 20.7957 20.6837 21.5585 20.1211 22.1211C19.5585 22.6837 18.7957 23 18 23C17.2043 23 16.4415 22.6837 15.8789 22.1211C15.3867 21.6289 15.0829 20.9835 15.0146 20.2969L15 20ZM15 9.5C15 10.8558 15.4344 12.112 15.9424 13.5381C16.4318 14.9122 16.9999 16.468 17 18.1797V20L17.0049 20.0986C17.0276 20.3276 17.1288 20.5429 17.293 20.707C17.4805 20.8946 17.7348 21 18 21C18.2652 21 18.5195 20.8946 18.707 20.707C18.8946 20.5195 19 20.2652 19 20V17.6201C19 16.388 19.3073 15.4693 19.5557 14.6592C19.8009 13.8594 20.0131 13.1035 20 12.0117V12.0107C19.9866 10.8029 19.6519 9.49466 19.0264 8.52051C18.4151 7.56869 17.581 7 16.5 7C15.9585 7 15.6427 7.22738 15.4102 7.62109C15.1438 8.07212 15 8.74766 15 9.5Z",fill:n}),Z.jsx("path",{d:"M20 16C20.5523 16 21 16.4477 21 17C21 17.5523 20.5523 18 20 18H16C15.4477 18 15 17.5523 15 17C15 16.4477 15.4477 16 16 16H20Z",fill:n}),Z.jsx("path",{d:"M8 12C8.55228 12 9 12.4477 9 13C9 13.5523 8.55228 14 8 14H4C3.44772 14 3 13.5523 3 13C3 12.4477 3.44772 12 4 12H8Z",fill:n})]})}),j$=({color:n})=>Z.jsx("div",{style:{marginRight:"8px"},children:Z.jsx("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",preserveAspectRatio:"xMidYMid meet",children:Z.jsx("path",{d:"M19 5.99955C16.6805 5.99955 13.9706 4.66296 12.1104 3.03959V3.04057C12.0796 3.01427 12.0405 2.99955 12 2.99955C11.9595 2.99955 11.9204 3.01427 11.8896 3.04057L11.8887 3.03959C10.0971 4.60157 7.48931 5.91506 5.21875 5.99564L5 5.99955V12.9996L5.00879 13.4117C5.09782 15.4371 5.8465 16.9384 6.98633 18.106C8.07404 19.22 9.55305 20.0641 11.2539 20.7232L11.9961 20.9947L12.0186 21.0015C14.0236 20.3018 15.7728 19.381 17.0137 18.1079C18.229 16.861 19 15.2354 19 12.9996V5.99955ZM21 12.9996C21 15.7637 20.021 17.8888 18.4463 19.5044C16.8988 21.0921 14.8204 22.1442 12.6689 22.8941L12.6611 22.897C12.233 23.0421 11.7688 23.0369 11.3438 22.8843V22.8853C11.3379 22.8833 11.3321 22.8805 11.3262 22.8785C11.3246 22.8779 11.3228 22.8781 11.3213 22.8775V22.8765C9.17204 22.132 7.09956 21.0847 5.55566 19.5035C4.07782 17.9898 3.12517 16.0279 3.01172 13.5113L3 12.9996V5.99955C3.00012 5.46928 3.21097 4.96045 3.58594 4.58549C3.96099 4.21056 4.46967 3.99955 5 3.99955L5.32129 3.98783C6.95847 3.86731 9.05353 2.86212 10.582 1.52689L10.5908 1.52006L10.7422 1.40092C11.1082 1.1406 11.5477 0.99955 12 0.99955C12.4523 0.99955 12.8918 1.1406 13.2578 1.40092L13.4092 1.52006L13.418 1.52689L13.7324 1.79154C15.3383 3.0868 17.4277 3.99955 19 3.99955C19.5303 3.99955 20.039 4.21056 20.4141 4.58549C20.789 4.96046 20.9999 5.46928 21 5.99955V12.9996Z",fill:n})})}),_D=({color:n})=>Z.jsx("div",{style:{marginRight:"8px"},children:Z.jsxs("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24  ",preserveAspectRatio:"xMidYMid meet",children:[Z.jsx("path",{d:"M4 4V9H9V4H4ZM11 9C11 10.1046 10.1046 11 9 11H4C2.89543 11 2 10.1046 2 9V4C2 2.89543 2.89543 2 4 2H9C10.1046 2 11 2.89543 11 4V9Z",fill:n}),Z.jsx("path",{d:"M15 4V9H20V4H15ZM22 9C22 10.1046 21.1046 11 20 11H15C13.8954 11 13 10.1046 13 9V4C13 2.89543 13.8954 2 15 2H20C21.1046 2 22 2.89543 22 4V9Z",fill:n}),Z.jsx("path",{d:"M15 15V20H20V15H15ZM22 20C22 21.1046 21.1046 22 20 22H15C13.8954 22 13 21.1046 13 20V15C13 13.8954 13.8954 13 15 13H20C21.1046 13 22 13.8954 22 15V20Z",fill:n}),Z.jsx("path",{d:"M4 15V20H9V15H4ZM11 20C11 21.1046 10.1046 22 9 22H4C2.89543 22 2 21.1046 2 20V15C2 13.8954 2.89543 13 4 13H9C10.1046 13 11 13.8954 11 15V20Z",fill:n})]})}),G$=({color:n})=>Z.jsx("div",{style:{marginRight:"8px"},children:Z.jsxs("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24  ",preserveAspectRatio:"xMidYMid meet",children:[Z.jsx("path",{d:"M19 10C19 6.15228 15.8477 3 12 3C8.15228 3 5 6.15228 5 10C5 13.8477 8.15228 17 12 17H20C20.5523 17 21 17.4477 21 18C21 18.5523 20.5523 19 20 19H12C7.04772 19 3 14.9523 3 10C3 5.04772 7.04772 1 12 1C16.9523 1 21 5.04772 21 10C21 10.5523 20.5523 11 20 11C19.4477 11 19 10.5523 19 10Z",fill:n}),Z.jsx("path",{d:"M15.293 13.293C15.6591 12.9269 16.2381 12.9043 16.6309 13.2246L16.707 13.293L20.707 17.293L20.7754 17.3692C21.0957 17.7619 21.0731 18.3409 20.707 18.707L16.707 22.707C16.3165 23.0976 15.6835 23.0976 15.293 22.707C14.9024 22.3165 14.9024 21.6835 15.293 21.293L18.5859 18L15.293 14.707L15.2246 14.6309C14.9043 14.2381 14.9269 13.6591 15.293 13.293Z",fill:n})]})}),AMe={submission:Z.jsx(F$,{color:Ah.palette.text.secondary}),takedown:Z.jsx(H$,{color:Ah.palette.text.secondary}),guard_pass:Z.jsx(B$,{color:Ah.palette.text.secondary}),defense_escape:Z.jsx(j$,{color:Ah.palette.text.secondary}),guard:Z.jsx(k$,{color:Ah.palette.text.secondary}),control:Z.jsx(z$,{color:Ah.palette.text.secondary}),switch:Z.jsx(V$,{color:Ah.palette.text.secondary}),system:Z.jsx(_D,{color:Ah.palette.text.secondary}),transition:Z.jsx(G$,{color:Ah.palette.text.secondary})};(async()=>(await ape(XM.categories)??[]).map(e=>({value:e.label,label:e.title,icon:AMe[e.label]||null})))();const IF={Guard:k$,Control:z$,Pass:B$,Submission:F$,TachiWaza:H$,Defense:j$,System:_D,Switch:V$,Transition:G$,default:_D};var dI,PF;function MMe(){if(PF)return dI;PF=1;function n(S){this._maxSize=S,this.clear()}n.prototype.clear=function(){this._size=0,this._values=Object.create(null)},n.prototype.get=function(S){return this._values[S]},n.prototype.set=function(S,w){return this._size>=this._maxSize&&this.clear(),S in this._values||this._size++,this._values[S]=w};var e=/[^.^\]^[]+|(?=\[\]|\.\.)/g,t=/^\d+$/,i=/^\d/,r=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,s=/^\s*(['"]?)(.*?)(\1)\s*$/,a=512,o=new n(a),l=new n(a),u=new n(a);dI={Cache:n,split:p,normalizePath:h,setter:function(S){var w=h(S);return l.get(S)||l.set(S,function(A,N){for(var L=0,I=w.length,D=A;L<I-1;){var P=w[L];if(P==="__proto__"||P==="constructor"||P==="prototype")return A;D=D[w[L++]]}D[w[L]]=N})},getter:function(S,w){var C=h(S);return u.get(S)||u.set(S,function(N){for(var L=0,I=C.length;L<I;)if(N!=null||!w)N=N[C[L++]];else return;return N})},join:function(S){return S.reduce(function(w,C){return w+(v(C)||t.test(C)?"["+C+"]":(w?".":"")+C)},"")},forEach:function(S,w,C){y(Array.isArray(S)?S:p(S),w,C)}};function h(S){return o.get(S)||o.set(S,p(S).map(function(w){return w.replace(s,"$2")}))}function p(S){return S.match(e)||[""]}function y(S,w,C){var A=S.length,N,L,I,D;for(L=0;L<A;L++)N=S[L],N&&(E(N)&&(N='"'+N+'"'),D=v(N),I=!D&&/^\d+$/.test(N),w.call(C,N,D,I,L,S))}function v(S){return typeof S=="string"&&S&&["'",'"'].indexOf(S.charAt(0))!==-1}function _(S){return S.match(i)&&!S.match(t)}function x(S){return r.test(S)}function E(S){return!v(S)&&(_(S)||x(S))}return dI}var q$=MMe(),$w={exports:{}},DF;function RMe(){if(DF)return $w.exports;DF=1,$w.exports=function(r){return n(e(r),r)},$w.exports.array=n;function n(r,s){var a=r.length,o=new Array(a),l={},u=a,h=t(s),p=i(r);for(s.forEach(function(v){if(!p.has(v[0])||!p.has(v[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});u--;)l[u]||y(r[u],u,new Set);return o;function y(v,_,x){if(x.has(v)){var E;try{E=", node was:"+JSON.stringify(v)}catch{E=""}throw new Error("Cyclic dependency"+E)}if(!p.has(v))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(v));if(!l[_]){l[_]=!0;var S=h.get(v)||new Set;if(S=Array.from(S),_=S.length){x.add(v);do{var w=S[--_];y(w,p.get(w),x)}while(_);x.delete(v)}o[--a]=v}}}function e(r){for(var s=new Set,a=0,o=r.length;a<o;a++){var l=r[a];s.add(l[0]),s.add(l[1])}return Array.from(s)}function t(r){for(var s=new Map,a=0,o=r.length;a<o;a++){var l=r[a];s.has(l[0])||s.set(l[0],new Set),s.has(l[1])||s.set(l[1],new Set),s.get(l[0]).add(l[1])}return s}function i(r){for(var s=new Map,a=0,o=r.length;a<o;a++)s.set(r[a],a);return s}return $w.exports}RMe();const OMe=Object.prototype.toString,IMe=Error.prototype.toString,PMe=RegExp.prototype.toString,DMe=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",NMe=/^Symbol\((.*)\)(.*)$/;function LMe(n){return n!=+n?"NaN":n===0&&1/n<0?"-0":""+n}function NF(n,e=!1){if(n==null||n===!0||n===!1)return""+n;const t=typeof n;if(t==="number")return LMe(n);if(t==="string")return e?`"${n}"`:n;if(t==="function")return"[Function "+(n.name||"anonymous")+"]";if(t==="symbol")return DMe.call(n).replace(NMe,"Symbol($1)");const i=OMe.call(n).slice(8,-1);return i==="Date"?isNaN(n.getTime())?""+n:n.toISOString(n):i==="Error"||n instanceof Error?"["+IMe.call(n)+"]":i==="RegExp"?PMe.call(n):null}function Up(n,e){let t=NF(n,e);return t!==null?t:JSON.stringify(n,function(i,r){let s=NF(this[i],e);return s!==null?s:r},2)}function W$(n){return n==null?[]:[].concat(n)}let $$,X$,Y$,UMe=/\$\{\s*(\w+)\s*\}/g;$$=Symbol.toStringTag;class LF{constructor(e,t,i,r){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[$$]="Error",this.name="ValidationError",this.value=t,this.path=i,this.type=r,this.errors=[],this.inner=[],W$(e).forEach(s=>{if(Mo.isError(s)){this.errors.push(...s.errors);const a=s.inner.length?s.inner:[s];this.inner.push(...a)}else this.errors.push(s)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}X$=Symbol.hasInstance;Y$=Symbol.toStringTag;class Mo extends Error{static formatError(e,t){const i=t.label||t.path||"this";return t=Object.assign({},t,{path:i,originalPath:t.path}),typeof e=="string"?e.replace(UMe,(r,s)=>Up(t[s])):typeof e=="function"?e(t):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,t,i,r,s){const a=new LF(e,t,i,r);if(s)return a;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[Y$]="Error",this.name=a.name,this.message=a.message,this.type=a.type,this.value=a.value,this.path=a.path,this.errors=a.errors,this.inner=a.inner,Error.captureStackTrace&&Error.captureStackTrace(this,Mo)}static[X$](e){return LF[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let Oh={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:n,type:e,value:t,originalValue:i})=>{const r=i!=null&&i!==t?` (cast from the value \`${Up(i,!0)}\`).`:".";return e!=="mixed"?`${n} must be a \`${e}\` type, but the final value was: \`${Up(t,!0)}\``+r:`${n} must match the configured type. The validated value was: \`${Up(t,!0)}\``+r}},kMe={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},zMe={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},bD={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},BMe={isValue:"${path} field must be ${value}"},FMe={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},VMe={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},HMe={notType:n=>{const{path:e,value:t,spec:i}=n,r=i.types.length;if(Array.isArray(t)){if(t.length<r)return`${e} tuple value has too few items, expected a length of ${r} but got ${t.length} for value: \`${Up(t,!0)}\``;if(t.length>r)return`${e} tuple value has too many items, expected a length of ${r} but got ${t.length} for value: \`${Up(t,!0)}\``}return Mo.formatError(Oh.notType,n)}};Object.assign(Object.create(null),{mixed:Oh,string:kMe,number:zMe,date:bD,object:FMe,array:VMe,boolean:BMe,tuple:HMe});const K$=n=>n&&n.__isYupSchema__;class fA{static fromOptions(e,t){if(!t.then&&!t.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:i,then:r,otherwise:s}=t,a=typeof i=="function"?i:(...o)=>o.every(l=>l===i);return new fA(e,(o,l)=>{var u;let h=a(...o)?r:s;return(u=h==null?void 0:h(l))!=null?u:l})}constructor(e,t){this.fn=void 0,this.refs=e,this.refs=e,this.fn=t}resolve(e,t){let i=this.refs.map(s=>s.getValue(t==null?void 0:t.value,t==null?void 0:t.parent,t==null?void 0:t.context)),r=this.fn(i,e,t);if(r===void 0||r===e)return e;if(!K$(r))throw new TypeError("conditions must return a schema object");return r.resolve(t)}}const Xw={context:"$",value:"."};class nE{constructor(e,t={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Xw.context,this.isValue=this.key[0]===Xw.value,this.isSibling=!this.isContext&&!this.isValue;let i=this.isContext?Xw.context:this.isValue?Xw.value:"";this.path=this.key.slice(i.length),this.getter=this.path&&q$.getter(this.path,!0),this.map=t.map}getValue(e,t,i){let r=this.isContext?i:this.isValue?e:t;return this.getter&&(r=this.getter(r||{})),this.map&&(r=this.map(r)),r}cast(e,t){return this.getValue(e,t==null?void 0:t.parent,t==null?void 0:t.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}nE.prototype.__isYupRef=!0;const Z$=n=>n==null;function e0(n){function e({value:t,path:i="",options:r,originalValue:s,schema:a},o,l){const{name:u,test:h,params:p,message:y,skipAbsent:v}=n;let{parent:_,context:x,abortEarly:E=a.spec.abortEarly,disableStackTrace:S=a.spec.disableStackTrace}=r;const w={value:t,parent:_,context:x};function C(F={}){const z=Q$(Object.assign({value:t,originalValue:s,label:a.spec.label,path:F.path||i,spec:a.spec,disableStackTrace:F.disableStackTrace||S},p,F.params),w),V=new Mo(Mo.formatError(F.message||y,z),t,z.path,F.type||u,z.disableStackTrace);return V.params=z,V}const A=E?o:l;let N={path:i,parent:_,type:u,from:r.from,createError:C,resolve(F){return J$(F,w)},options:r,originalValue:s,schema:a};const L=F=>{Mo.isError(F)?A(F):F?l(null):A(C())},I=F=>{Mo.isError(F)?A(F):o(F)};if(v&&Z$(t))return L(!0);let P;try{var U;if(P=h.call(N,t,N),typeof((U=P)==null?void 0:U.then)=="function"){if(r.sync)throw new Error(`Validation test of type: "${N.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(P).then(L,I)}}catch(F){I(F);return}L(P)}return e.OPTIONS=n,e}function Q$(n,e){if(!n)return n;for(const t of Object.keys(n))n[t]=J$(n[t],e);return n}function J$(n,e){return nE.isRef(n)?n.getValue(e.value,e.parent,e.context):n}function jMe(n,e,t,i=t){let r,s,a;return e?(q$.forEach(e,(o,l,u)=>{let h=l?o.slice(1,o.length-1):o;n=n.resolve({context:i,parent:r,value:t});let p=n.type==="tuple",y=u?parseInt(h,10):0;if(n.innerType||p){if(p&&!u)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${a}" must contain an index to the tuple element, e.g. "${a}[0]"`);if(t&&y>=t.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${o}, in the path: ${e}. because there is no value at that index. `);r=t,t=t&&t[y],n=p?n.spec.types[y]:n.innerType}if(!u){if(!n.fields||!n.fields[h])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${a} which is a type: "${n.type}")`);r=t,t=t&&t[h],n=n.fields[h]}s=h,a=l?"["+o+"]":"."+o}),{schema:n,parent:r,parentPath:s}):{parent:r,parentPath:e,schema:n}}class hA extends Set{describe(){const e=[];for(const t of this.values())e.push(nE.isRef(t)?t.describe():t);return e}resolveAll(e){let t=[];for(const i of this.values())t.push(e(i));return t}clone(){return new hA(this.values())}merge(e,t){const i=this.clone();return e.forEach(r=>i.add(r)),t.forEach(r=>i.delete(r)),i}}function _0(n,e=new Map){if(K$(n)||!n||typeof n!="object")return n;if(e.has(n))return e.get(n);let t;if(n instanceof Date)t=new Date(n.getTime()),e.set(n,t);else if(n instanceof RegExp)t=new RegExp(n),e.set(n,t);else if(Array.isArray(n)){t=new Array(n.length),e.set(n,t);for(let i=0;i<n.length;i++)t[i]=_0(n[i],e)}else if(n instanceof Map){t=new Map,e.set(n,t);for(const[i,r]of n.entries())t.set(i,_0(r,e))}else if(n instanceof Set){t=new Set,e.set(n,t);for(const i of n)t.add(_0(i,e))}else if(n instanceof Object){t={},e.set(n,t);for(const[i,r]of Object.entries(n))t[i]=_0(r,e)}else throw Error(`Unable to clone ${n}`);return t}function GMe(n){if(!(n!=null&&n.length))return;const e=[];let t="",i=!1,r=!1;for(let s=0;s<n.length;s++){const a=n[s];if(a==="["&&!r){t&&(e.push(...t.split(".").filter(Boolean)),t=""),i=!0;continue}if(a==="]"&&!r){t&&(/^\d+$/.test(t)?e.push(t):e.push(t.replace(/^"|"$/g,"")),t=""),i=!1;continue}if(a==='"'){r=!r;continue}if(a==="."&&!i&&!r){t&&(e.push(t),t="");continue}t+=a}return t&&e.push(...t.split(".").filter(Boolean)),e}function qMe(n,e){const t=e?`${e}.${n.path}`:n.path;return n.errors.map(i=>({message:i,path:GMe(t)}))}function eX(n,e){var t;if(!((t=n.inner)!=null&&t.length)&&n.errors.length)return qMe(n,e);const i=e?`${e}.${n.path}`:n.path;return n.inner.flatMap(r=>eX(r,i))}class ly{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new hA,this._blacklist=new hA,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Oh.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(t=>{t.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const t=Object.create(Object.getPrototypeOf(this));return t.type=this.type,t._typeCheck=this._typeCheck,t._whitelist=this._whitelist.clone(),t._blacklist=this._blacklist.clone(),t.internalTests=Object.assign({},this.internalTests),t.exclusiveTests=Object.assign({},this.exclusiveTests),t.deps=[...this.deps],t.conditions=[...this.conditions],t.tests=[...this.tests],t.transforms=[...this.transforms],t.spec=_0(Object.assign({},this.spec,e)),t}label(e){let t=this.clone();return t.spec.label=e,t}meta(...e){if(e.length===0)return this.spec.meta;let t=this.clone();return t.spec.meta=Object.assign(t.spec.meta||{},e[0]),t}withMutation(e){let t=this._mutate;this._mutate=!0;let i=e(this);return this._mutate=t,i}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let t=this,i=e.clone();const r=Object.assign({},t.spec,i.spec);return i.spec=r,i.internalTests=Object.assign({},t.internalTests,i.internalTests),i._whitelist=t._whitelist.merge(e._whitelist,e._blacklist),i._blacklist=t._blacklist.merge(e._blacklist,e._whitelist),i.tests=t.tests,i.exclusiveTests=t.exclusiveTests,i.withMutation(s=>{e.tests.forEach(a=>{s.test(a.OPTIONS)})}),i.transforms=[...t.transforms,...i.transforms],i}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let t=this;if(t.conditions.length){let i=t.conditions;t=t.clone(),t.conditions=[],t=i.reduce((r,s)=>s.resolve(r,e),t),t=t.resolve(e)}return t}resolveOptions(e){var t,i,r,s;return Object.assign({},e,{from:e.from||[],strict:(t=e.strict)!=null?t:this.spec.strict,abortEarly:(i=e.abortEarly)!=null?i:this.spec.abortEarly,recursive:(r=e.recursive)!=null?r:this.spec.recursive,disableStackTrace:(s=e.disableStackTrace)!=null?s:this.spec.disableStackTrace})}cast(e,t={}){let i=this.resolve(Object.assign({},t,{value:e})),r=t.assert==="ignore-optionality",s=i._cast(e,t);if(t.assert!==!1&&!i.isType(s)){if(r&&Z$(s))return s;let a=Up(e),o=Up(s);throw new TypeError(`The value of ${t.path||"field"} could not be cast to a value that satisfies the schema type: "${i.type}". 

attempted value: ${a} 
`+(o!==a?`result of cast: ${o}`:""))}return s}_cast(e,t){let i=e===void 0?e:this.transforms.reduce((r,s)=>s.call(this,r,e,this,t),e);return i===void 0&&(i=this.getDefault(t)),i}_validate(e,t={},i,r){let{path:s,originalValue:a=e,strict:o=this.spec.strict}=t,l=e;o||(l=this._cast(l,Object.assign({assert:!1},t)));let u=[];for(let h of Object.values(this.internalTests))h&&u.push(h);this.runTests({path:s,value:l,originalValue:a,options:t,tests:u},i,h=>{if(h.length)return r(h,l);this.runTests({path:s,value:l,originalValue:a,options:t,tests:this.tests},i,r)})}runTests(e,t,i){let r=!1,{tests:s,value:a,originalValue:o,path:l,options:u}=e,h=x=>{r||(r=!0,t(x,a))},p=x=>{r||(r=!0,i(x,a))},y=s.length,v=[];if(!y)return p([]);let _={value:a,originalValue:o,path:l,options:u,schema:this};for(let x=0;x<s.length;x++){const E=s[x];E(_,h,function(w){w&&(Array.isArray(w)?v.push(...w):v.push(w)),--y<=0&&p(v)})}}asNestedTest({key:e,index:t,parent:i,parentPath:r,originalParent:s,options:a}){const o=e??t;if(o==null)throw TypeError("Must include `key` or `index` for nested validations");const l=typeof o=="number";let u=i[o];const h=Object.assign({},a,{strict:!0,parent:i,value:u,originalValue:s[o],key:void 0,[l?"index":"key"]:o,path:l||o.includes(".")?`${r||""}[${l?o:`"${o}"`}]`:(r?`${r}.`:"")+e});return(p,y,v)=>this.resolve(h)._validate(u,h,y,v)}validate(e,t){var i;let r=this.resolve(Object.assign({},t,{value:e})),s=(i=t==null?void 0:t.disableStackTrace)!=null?i:r.spec.disableStackTrace;return new Promise((a,o)=>r._validate(e,t,(l,u)=>{Mo.isError(l)&&(l.value=u),o(l)},(l,u)=>{l.length?o(new Mo(l,u,void 0,void 0,s)):a(u)}))}validateSync(e,t){var i;let r=this.resolve(Object.assign({},t,{value:e})),s,a=(i=t==null?void 0:t.disableStackTrace)!=null?i:r.spec.disableStackTrace;return r._validate(e,Object.assign({},t,{sync:!0}),(o,l)=>{throw Mo.isError(o)&&(o.value=l),o},(o,l)=>{if(o.length)throw new Mo(o,e,void 0,void 0,a);s=l}),s}isValid(e,t){return this.validate(e,t).then(()=>!0,i=>{if(Mo.isError(i))return!1;throw i})}isValidSync(e,t){try{return this.validateSync(e,t),!0}catch(i){if(Mo.isError(i))return!1;throw i}}_getDefault(e){let t=this.spec.default;return t==null?t:typeof t=="function"?t.call(this,e):_0(t)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,t){const i=this.clone({nullable:e});return i.internalTests.nullable=e0({message:t,name:"nullable",test(r){return r===null?this.schema.spec.nullable:!0}}),i}optionality(e,t){const i=this.clone({optional:e});return i.internalTests.optionality=e0({message:t,name:"optionality",test(r){return r===void 0?this.schema.spec.optional:!0}}),i}optional(){return this.optionality(!0)}defined(e=Oh.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=Oh.notNull){return this.nullability(!1,e)}required(e=Oh.required){return this.clone().withMutation(t=>t.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let t=this.clone();return t.transforms.push(e),t}test(...e){let t;if(e.length===1?typeof e[0]=="function"?t={test:e[0]}:t=e[0]:e.length===2?t={name:e[0],test:e[1]}:t={name:e[0],message:e[1],test:e[2]},t.message===void 0&&(t.message=Oh.default),typeof t.test!="function")throw new TypeError("`test` is a required parameters");let i=this.clone(),r=e0(t),s=t.exclusive||t.name&&i.exclusiveTests[t.name]===!0;if(t.exclusive&&!t.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return t.name&&(i.exclusiveTests[t.name]=!!t.exclusive),i.tests=i.tests.filter(a=>!(a.OPTIONS.name===t.name&&(s||a.OPTIONS.test===r.OPTIONS.test))),i.tests.push(r),i}when(e,t){!Array.isArray(e)&&typeof e!="string"&&(t=e,e=".");let i=this.clone(),r=W$(e).map(s=>new nE(s));return r.forEach(s=>{s.isSibling&&i.deps.push(s.key)}),i.conditions.push(typeof t=="function"?new fA(r,t):fA.fromOptions(r,t)),i}typeError(e){let t=this.clone();return t.internalTests.typeError=e0({message:e,name:"typeError",skipAbsent:!0,test(i){return this.schema._typeCheck(i)?!0:this.createError({params:{type:this.schema.type}})}}),t}oneOf(e,t=Oh.oneOf){let i=this.clone();return e.forEach(r=>{i._whitelist.add(r),i._blacklist.delete(r)}),i.internalTests.whiteList=e0({message:t,name:"oneOf",skipAbsent:!0,test(r){let s=this.schema._whitelist,a=s.resolveAll(this.resolve);return a.includes(r)?!0:this.createError({params:{values:Array.from(s).join(", "),resolved:a}})}}),i}notOneOf(e,t=Oh.notOneOf){let i=this.clone();return e.forEach(r=>{i._blacklist.add(r),i._whitelist.delete(r)}),i.internalTests.blacklist=e0({message:t,name:"notOneOf",test(r){let s=this.schema._blacklist,a=s.resolveAll(this.resolve);return a.includes(r)?this.createError({params:{values:Array.from(s).join(", "),resolved:a}}):!0}}),i}strip(e=!0){let t=this.clone();return t.spec.strip=e,t}describe(e){const t=(e?this.resolve(e):this).clone(),{label:i,meta:r,optional:s,nullable:a}=t.spec;return{meta:r,label:i,optional:s,nullable:a,default:t.getDefault(e),type:t.type,oneOf:t._whitelist.describe(),notOneOf:t._blacklist.describe(),tests:t.tests.filter((l,u,h)=>h.findIndex(p=>p.OPTIONS.name===l.OPTIONS.name)===u).map(l=>{const u=l.OPTIONS.params&&e?Q$(Object.assign({},l.OPTIONS.params),e):l.OPTIONS.params;return{name:l.OPTIONS.name,params:u}})}}get"~standard"(){const e=this;return{version:1,vendor:"yup",async validate(i){try{return{value:await e.validate(i,{abortEarly:!1})}}catch(r){if(r instanceof Mo)return{issues:eX(r)};throw r}}}}}ly.prototype.__isYupSchema__=!0;for(const n of["validate","validateSync"])ly.prototype[`${n}At`]=function(e,t,i={}){const{parent:r,parentPath:s,schema:a}=jMe(this,e,t,i.context);return a[n](r&&r[s],Object.assign({},i,{parent:r,path:e}))};for(const n of["equals","is"])ly.prototype[n]=ly.prototype.oneOf;for(const n of["not","nope"])ly.prototype[n]=ly.prototype.notOneOf;const WMe=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function $Me(n){const e=XMe(n);if(!e)return Date.parse?Date.parse(n):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let t=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(t=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(t=0-t)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+t,e.second,e.millisecond)}function XMe(n){var e,t;const i=WMe.exec(n);return i?{year:Mh(i[1]),month:Mh(i[2],1)-1,day:Mh(i[3],1),hour:Mh(i[4]),minute:Mh(i[5]),second:Mh(i[6]),millisecond:i[7]?Mh(i[7].substring(0,3)):0,precision:(e=(t=i[7])==null?void 0:t.length)!=null?e:void 0,z:i[8]||void 0,plusMinus:i[9]||void 0,hourOffset:Mh(i[10]),minuteOffset:Mh(i[11])}:null}function Mh(n,e=0){return Number(n)||e}let YMe=new Date(""),KMe=n=>Object.prototype.toString.call(n)==="[object Date]";class y4 extends ly{constructor(){super({type:"date",check(e){return KMe(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,t)=>!this.spec.coerce||this.isType(e)||e===null?e:(e=$Me(e),isNaN(e)?y4.INVALID_DATE:new Date(e)))})}prepareParam(e,t){let i;if(nE.isRef(e))i=e;else{let r=this.cast(e);if(!this._typeCheck(r))throw new TypeError(`\`${t}\` must be a Date or a value that can be \`cast()\` to a Date`);i=r}return i}min(e,t=bD.min){let i=this.prepareParam(e,"min");return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r>=this.resolve(i)}})}max(e,t=bD.max){let i=this.prepareParam(e,"max");return this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(r){return r<=this.resolve(i)}})}}y4.INVALID_DATE=YMe;const xD=ai;xD.palette.text.primary,xD.palette.formStyles.containerBackgroundColor;xD.palette.formStyles.containerBackgroundColor;const ZMe=ai.palette.typography.fontFamily,QMe=Z.jsx(qq,{styles:{html:{margin:0,padding:0,overflow:"hidden",width:"100vw",height:"100vh"},body:{margin:0,padding:0,overflow:"hidden",width:"100vw",height:"100vh"},"#root":{margin:0,padding:0,overflow:"hidden",width:"100vw",height:"100vh",fontFamily:ZMe}}}),JMe={display:"flex",alignItems:"center",justifyContent:"center"},eRe={width:"100vw",height:"100vh"},SD=ai;`${SD.palette.paletteBjj.rojoVibrante}`,`${SD.palette.paletteBjj.rojoVibrante}`;SD.palette.paletteBjj.rojoVibrante;const l0=ai;l0.palette.text.secondary,l0.palette.action.success,l0.palette.text.primary,l0.palette.formStyles.borderColor,yy(l0.palette.action.success,.2);`${l0.palette.formStyles.borderColor}`;const tRe=ai;`${tRe.palette.formStyles.borderColor}`;const Ag=ai;Ag.palette.formStyles.borderColor;Ag.palette.text.secondary,`${Ag.palette.formStyles.borderColor}`,Ag.palette.action.success,Ag.palette.text.primary,Ag.palette.formStyles.borderColor;Ag.palette.text.tertiary;const nRe=ai;nRe.palette.typography.fontFamily;const D0=ai;D0.palette.formStyles.containerBackgroundColor,D0.palette.formStyles.cardBackgroundColor;D0.palette.formStyles.cardBackgroundColor,`${D0.palette.formStyles.borderColor}`,D0.palette.text.secondary;D0.palette.formStyles.containerBackgroundColor;const iRe=ai;iRe.palette.text.primary;const v4=ai.palette,eR=v4.formStyles,tR=v4.text;eR.containerBackgroundColor;eR.cardBackgroundColor;tR.secondary,v4.typography.fontFamily;eR.buttonForm,tR.primary;tR.secondary;`${eR.borderColor}`;tR.secondary;const fp="components.nodeConnectionViewer.";function UF({children:n,activeTab:e,index:t}){const i=e===t;return Z.jsx(XC,{in:i,timeout:400,unmountOnExit:!0,children:Z.jsx(ad,{role:"tabpanel",id:`tabpanel-${t}`,"aria-labelledby":`tab-${t}`,sx:{p:2},children:n})})}function kF(n){return{id:`tab-${n}`,"aria-controls":`tabpanel-${n}`}}function rRe({nodeId:n}){const{t:e}=_y(),t=dn(u=>u.linksData),i=dn(u=>u.connectionViewerActiveStep),r=(u,h)=>{dn.setState(p=>({connectionViewerActiveStep:p.connectionViewerActiveStep===h?null:h}))},s=u=>typeof u=="object"&&u!==null&&"id"in u,a=H.useMemo(()=>t.filter(u=>s(u.source)&&u.source.id===n||u.source===n).map(u=>u.target),[t,n]),o=H.useMemo(()=>t.filter(u=>s(u.target)&&u.target.id===n||u.target===n).map(u=>u.source),[t,n]),l=(u,h)=>u.length===0?Z.jsx(ts,{variant:"body2",children:h}):Z.jsx(n4,{dense:!0,children:u.map((p,y)=>s(p)?Z.jsx(lr.Fragment,{children:Z.jsxs(JS,{sx:{width:"100%","& .MuiListItemText-primary, .MuiListItemText-secondary":{fontSize:"0.7rem",fontFamily:ai.palette.typography.fontFamily}},children:[Z.jsxs(EW,{onClick:()=>{dn.setState({nodeViewData:p})},children:[Z.jsx(y0,{children:(()=>{const v=XP(p.group||"groupEmpty"),_=IF[v]||IF.default;return Z.jsx(_,{color:"primary"})})()}),Z.jsx(i4,{primary:p.name||`${e(fp+"node")} ${p.id}`,secondary:p.group||e(fp+"groupEmpty")})]}),y<u.length-1&&Z.jsx(f_,{variant:"inset"})]})},p.id):null)});return Z.jsxs(ad,{sx:{width:"100%","& .MuiTab-root":{fontSize:"0.85rem",fontFamily:ai.palette.typography.fontFamily}},children:[Z.jsx(ad,{sx:{borderBottom:1,borderColor:"divider"},children:Z.jsxs(OSe,{value:i??!1,onChange:r,"aria-label":"Node connection viewer tabs",centered:!0,children:[Z.jsx(k6,{icon:Z.jsx(hTe,{}),iconPosition:"start",label:e(fp+"ArrowBackToolTip"),...kF(0),onClick:()=>{i===0&&dn.setState({connectionViewerActiveStep:null})}}),Z.jsx(k6,{icon:Z.jsx(dTe,{}),iconPosition:"end",label:e(fp+"ArrowForwardToolTip"),...kF(1),onClick:()=>{i===1&&dn.setState({connectionViewerActiveStep:null})}})]})}),Z.jsxs(UF,{activeTab:i,index:0,children:[Z.jsx(ts,{variant:"subtitle2",gutterBottom:!0,children:e(fp+"targetLabel")}),l(o,e(fp+"targetLinksLabel"))]}),Z.jsxs(UF,{activeTab:i,index:1,children:[Z.jsx(ts,{variant:"subtitle2",gutterBottom:!0,children:e(fp+"sourceLabel")}),l(a,e(fp+"sourceLinksLabel"))]})]})}const sRe={width:"80%",padding:"2rem",backgroundColor:"white",borderRadius:"10px",display:"flex",flexDirection:"column",position:"absolute",zIndex:"10"},Yw={marginBottom:"2rem",display:"flex",flexDirection:"row","& .MuiInputBase-root, .MuiFormControl-root":{width:"100%"}},aRe={width:"100%",borderRadius:"12px",border:"1px solid rgba(255,255,255,0.1)",backgroundColor:n=>n.palette.mode==="dark"?"rgba(30,30,30,0.9)":"rgba(255,255,255,0.9)",boxShadow:"inset 0 0 8px rgba(0,0,0,0.15)"},oRe=n=>({borderRadius:"10px",marginBottom:"0.25rem",transition:"all 0.25s ease",backgroundColor:n?"rgba(25, 118, 210, 0.1)":"transparent","&:hover":{backgroundColor:n?"rgba(25, 118, 210, 0.2)":"rgba(255,255,255,0.05)",transform:"translateX(4px)"},"& .MuiListItemText-root":{fontWeight:n?600:400,color:n?"primary.main":"text.primary"}}),fs="components.configWindow.",lRe=()=>{const n=dn(I=>I.languageGlobal),e=dn(I=>I.dagModeConfig),t=dn(I=>I.dagLevelDistanceConfig),i=dn(I=>I.systemBjjSelectedNodes),r=dn(I=>I.systemBjjSelectedLinks),[s,a]=H.useState(n),[o,l]=H.useState(e),[u,h]=H.useState(t),[p,y]=H.useState(i),[v,_]=H.useState(r),{t:x,i18n:E}=_y(),S=()=>{localStorage.setItem(Yi.languageUser,n),dn.setState({languageGlobal:n,dagModeConfig:localStorage.getItem(Yi.dagModeCache),dagLevelDistanceConfig:Number(localStorage.getItem(Yi.dagLevelDistanceCache)),isConfigWindowActive:!1})},w=I=>{a(I.target.value),localStorage.setItem(Yi.languageUser,I.target.value),E.changeLanguage(I.target.value)},C=I=>{const D=I.target.value;l(D),dn.setState({dagModeConfig:D})},A=I=>{const D=Number(I.target.value);!Number.isNaN(D)&&D>=0&&D<=100&&(h(D),dn.setState({dagLevelDistanceConfig:D}))},N=(I,D)=>{y(P=>P.includes(I)?P.filter(U=>U!==I):[...P,I]),_(P=>P.includes(D)?P.filter(U=>U!==D):[...P,D])},L=()=>{localStorage.setItem(Yi.dagModeCache,o),localStorage.setItem(Yi.dagLevelDistanceCache,String(u)),localStorage.setItem(Yi.systemsCacheNameNodes,JSON.stringify(p)),localStorage.setItem(Yi.systemsCacheNameLinks,JSON.stringify(v)),console.log("Node temporal systems:",p),console.log("Link temporal systems:",v),dn.setState({languageGlobal:s,dagModeConfig:o,dagLevelDistanceConfig:u,systemBjjSelectedNodes:p,systemBjjSelectedLinks:v,isConfigWindowActive:!1})};return Z.jsxs(ad,{sx:sRe,children:[Z.jsx(HTe,{buttonFunction:S,isPositionAbsolute:!0}),Z.jsx(ts,{variant:"h4",sx:{fontWeight:"600",marginBottom:"2rem"},children:x(fs+"title")}),Z.jsxs(W1,{fullWidth:!0,sx:Yw,children:[Z.jsx(x2,{id:"language-select-label",children:x(fs+"language.label")}),Z.jsxs(eA,{labelId:"language-select-label",id:"language-select",defaultValue:n,label:x(fs+"language.label"),onChange:w,children:[Z.jsx(Zo,{value:"es",children:x(fs+"es")}),Z.jsx(Zo,{value:"en",children:x(fs+"en")})]}),Z.jsx(xw,{content:x(fs+"language.description")})]}),Z.jsxs(W1,{fullWidth:!0,sx:Yw,children:[Z.jsx(x2,{id:"dagMode-select-label",children:x(fs+"dagMode")}),Z.jsxs(eA,{labelId:"dagMode-select-label",id:"dagMode-select",value:o,label:x(fs+"dagMode"),onChange:C,children:[Z.jsx(Zo,{value:"td",children:x(fs+"dagMode.td")}),Z.jsx(Zo,{value:"bu",children:x(fs+"dagMode.bu")}),Z.jsx(Zo,{value:"lr",children:x(fs+"dagMode.lr")}),Z.jsx(Zo,{value:"rl",children:x(fs+"dagMode.rl")}),Z.jsx(Zo,{value:"radialout",children:x(fs+"dagMode.radialout")}),Z.jsx(Zo,{value:"radialin",children:x(fs+"dagMode.radialin")}),Z.jsx(Zo,{value:null,children:x(fs+"dagMode.none")})]}),Z.jsx(xw,{content:x(fs+"dagMode.description")})]}),Z.jsxs(W1,{fullWidth:!0,sx:Yw,children:[Z.jsx(LSe,{id:"outlined-number",label:x(fs+"dagLevelDistance"),type:"number",value:u,onChange:A,slotProps:{inputLabel:{shrink:!0}}}),Z.jsx(xw,{content:x(fs+"dagLevelDistance.description")})]}),Z.jsx(x2,{id:"system-select-label",children:x(fs+"system.label")}),Z.jsxs(W1,{fullWidth:!0,sx:Yw,children:[Z.jsx(KS,{sx:aRe,children:Z.jsx(wW,{dense:!0,children:V6.map(I=>Z.jsxs(Zo,{selected:p.includes(I.valueNodes),onClick:()=>N(I.valueNodes,I.valueLinks),sx:oRe(p.includes(I.valueNodes)),children:[p.includes(I.valueNodes)&&Z.jsx(y0,{children:Z.jsx(mTe,{color:"primary"})}),Z.jsx(i4,{inset:!V6.some(D=>D.valueNodes===I.valueNodes),children:I.label})]},I.valueNodes))})}),Z.jsx(xw,{content:x(fs+"system.description")})]}),Z.jsx(JS,{variant:"contained",color:"primary",onClick:L,children:x(fs+"buttonClose")})]})},cRe=lr.memo(lRe),uRe=ai;ai.palette.text.primary;ai.palette.text.tertiary,ai.palette.action.success,ai.palette.text.primary,yy(ai.palette.action.success,.7),ai.palette.text.primary,ai.palette.typography.fontFamily;ai.palette.background.form,ai.palette.text.primary;ai.palette.text.tertiary,`${ai.palette.formStyles.borderColor}`,ai.palette.text.tertiary,ai.palette.text.primary,yy(ai.palette.action.success,.7),ai.palette.action.success,ai.palette.text.primary,uRe.palette.typography.fontFamily;const zF="components.app.",fRe=()=>{const n=dn(u=>u.nodeViewData),e=dn(u=>u.isNodeSceneViewActive),t=dn(u=>u.isConfigWindowActive),i=dn(u=>u.overlayDontShowAgain),r=dn(u=>u.showFullGraph),s=()=>{dn.setState({showFullGraph:!r})},{t:a}=_y(),o=H.useRef(null),l=H.useCallback(()=>{dn.setState({isNodeSceneViewActive:!1}),o.current&&epe(o.current)},[o]);return Z.jsxs(Z.Fragment,{children:[QMe,Z.jsxs("div",{style:JMe,children:[t?Z.jsx(cRe,{}):Z.jsx(FTe,{}),Z.jsxs("div",{style:eRe,children:[Z.jsx(JS,{style:{position:"absolute",top:20,left:20,zIndex:10,backgroundColor:"white",padding:"0.5rem 1rem"},onClick:s,children:r?` ${a(zF+"collapsedNodes")}`:` ${a(zF+"expandNodes")}`}),Z.jsxs(KEe,{camera:{fov:mg.fov,near:mg.near,far:mg.far,position:mg.position},style:{backgroundColor:S2.canvasBackgraundColor},children:[Z.jsx(jTe,{cameraControlsRef:o}),Z.jsx(rTe,{ref:o,dollySpeed:mg.dollySpeed,maxDistance:mg.maxDistance,minDistance:mg.minDistance})]})]}),i?null:Z.jsx(XAe,{}),Z.jsx(VTe,{}),Z.jsx(CMe,{open:e,onClose:l,nodeData:n})]})]})};function hRe(){const n=dn(i=>i.isConfigWindowActive),e=dn(i=>i.systemBjjSelectedNodes),{i18n:t}=_y();return H.useEffect(()=>{const i=localStorage.getItem(Yi.languageUser)??Yi.languageDefault;t.changeLanguage(i),dn.setState({languageGlobal:i})},[n]),H.useEffect(()=>{localStorage.setItem(Yi.dagModeCache,Yi.dagMode),localStorage.setItem(Yi.dagLevelDistanceCache,String(Yi.dagLevelDistance))},[e]),Z.jsx(nK,{children:Z.jsx(vV,{path:YP.root,element:Z.jsx(fRe,{})})})}const Cn=n=>typeof n=="string",D1=()=>{let n,e;const t=new Promise((i,r)=>{n=i,e=r});return t.resolve=n,t.reject=e,t},BF=n=>n==null?"":""+n,dRe=(n,e,t)=>{n.forEach(i=>{e[i]&&(t[i]=e[i])})},pRe=/###/g,FF=n=>n&&n.indexOf("###")>-1?n.replace(pRe,"."):n,VF=n=>!n||Cn(n),Cx=(n,e,t)=>{const i=Cn(e)?e.split("."):e;let r=0;for(;r<i.length-1;){if(VF(n))return{};const s=FF(i[r]);!n[s]&&t&&(n[s]=new t),Object.prototype.hasOwnProperty.call(n,s)?n=n[s]:n={},++r}return VF(n)?{}:{obj:n,k:FF(i[r])}},HF=(n,e,t)=>{const{obj:i,k:r}=Cx(n,e,Object);if(i!==void 0||e.length===1){i[r]=t;return}let s=e[e.length-1],a=e.slice(0,e.length-1),o=Cx(n,a,Object);for(;o.obj===void 0&&a.length;)s=`${a[a.length-1]}.${s}`,a=a.slice(0,a.length-1),o=Cx(n,a,Object),o!=null&&o.obj&&typeof o.obj[`${o.k}.${s}`]<"u"&&(o.obj=void 0);o.obj[`${o.k}.${s}`]=t},mRe=(n,e,t,i)=>{const{obj:r,k:s}=Cx(n,e,Object);r[s]=r[s]||[],r[s].push(t)},dA=(n,e)=>{const{obj:t,k:i}=Cx(n,e);if(t&&Object.prototype.hasOwnProperty.call(t,i))return t[i]},gRe=(n,e,t)=>{const i=dA(n,t);return i!==void 0?i:dA(e,t)},tX=(n,e,t)=>{for(const i in e)i!=="__proto__"&&i!=="constructor"&&(i in n?Cn(n[i])||n[i]instanceof String||Cn(e[i])||e[i]instanceof String?t&&(n[i]=e[i]):tX(n[i],e[i],t):n[i]=e[i]);return n},t0=n=>n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var yRe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const vRe=n=>Cn(n)?n.replace(/[&<>"'\/]/g,e=>yRe[e]):n;class _Re{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const i=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,i),this.regExpQueue.push(e),i}}const bRe=[" ",",","?","!",";"],xRe=new _Re(20),SRe=(n,e,t)=>{e=e||"",t=t||"";const i=bRe.filter(a=>e.indexOf(a)<0&&t.indexOf(a)<0);if(i.length===0)return!0;const r=xRe.getRegExp(`(${i.map(a=>a==="?"?"\\?":a).join("|")})`);let s=!r.test(n);if(!s){const a=n.indexOf(t);a>0&&!r.test(n.substring(0,a))&&(s=!0)}return s},ED=(n,e,t=".")=>{if(!n)return;if(n[e])return Object.prototype.hasOwnProperty.call(n,e)?n[e]:void 0;const i=e.split(t);let r=n;for(let s=0;s<i.length;){if(!r||typeof r!="object")return;let a,o="";for(let l=s;l<i.length;++l)if(l!==s&&(o+=t),o+=i[l],a=r[o],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&l<i.length-1)continue;s+=l-s+1;break}r=a}return r},mS=n=>n==null?void 0:n.replace("_","-"),ERe={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,e){var t,i;(i=(t=console==null?void 0:console[n])==null?void 0:t.apply)==null||i.call(t,console,e)}};class pA{constructor(e,t={}){this.init(e,t)}init(e,t={}){this.prefix=t.prefix||"i18next:",this.logger=e||ERe,this.options=t,this.debug=t.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,i,r){return r&&!this.debug?null:(Cn(e[0])&&(e[0]=`${i}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new pA(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new pA(this.logger,e)}}var Ef=new pA;class nR{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(i=>{this.observers[i]||(this.observers[i]=new Map);const r=this.observers[i].get(t)||0;this.observers[i].set(t,r+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e,...t){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([r,s])=>{for(let a=0;a<s;a++)r(...t)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([r,s])=>{for(let a=0;a<s;a++)r.apply(r,[e,...t])})}}class jF extends nR{constructor(e,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,i,r={}){var u,h;const s=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,a=r.ignoreJSONStructure!==void 0?r.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;e.indexOf(".")>-1?o=e.split("."):(o=[e,t],i&&(Array.isArray(i)?o.push(...i):Cn(i)&&s?o.push(...i.split(s)):o.push(i)));const l=dA(this.data,o);return!l&&!t&&!i&&e.indexOf(".")>-1&&(e=o[0],t=o[1],i=o.slice(2).join(".")),l||!a||!Cn(i)?l:ED((h=(u=this.data)==null?void 0:u[e])==null?void 0:h[t],i,s)}addResource(e,t,i,r,s={silent:!1}){const a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let o=[e,t];i&&(o=o.concat(a?i.split(a):i)),e.indexOf(".")>-1&&(o=e.split("."),r=t,t=o[1]),this.addNamespaces(t),HF(this.data,o,r),s.silent||this.emit("added",e,t,i,r)}addResources(e,t,i,r={silent:!1}){for(const s in i)(Cn(i[s])||Array.isArray(i[s]))&&this.addResource(e,t,s,i[s],{silent:!0});r.silent||this.emit("added",e,t,i)}addResourceBundle(e,t,i,r,s,a={silent:!1,skipCopy:!1}){let o=[e,t];e.indexOf(".")>-1&&(o=e.split("."),r=i,i=t,t=o[1]),this.addNamespaces(t);let l=dA(this.data,o)||{};a.skipCopy||(i=JSON.parse(JSON.stringify(i))),r?tX(l,i,s):l={...l,...i},HF(this.data,o,l),a.silent||this.emit("added",e,t,i)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(r=>t[r]&&Object.keys(t[r]).length>0)}toJSON(){return this.data}}var nX={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,e,t,i,r){return n.forEach(s=>{var a;e=((a=this.processors[s])==null?void 0:a.process(e,t,i,r))??e}),e}};const iX=Symbol("i18next/PATH_KEY");function TRe(){const n=[],e=Object.create(null);let t;return e.get=(i,r)=>{var s;return(s=t==null?void 0:t.revoke)==null||s.call(t),r===iX?n:(n.push(r),t=Proxy.revocable(i,e),t.proxy)},Proxy.revocable(Object.create(null),e).proxy}function TD(n,e){const{[iX]:t}=n(TRe());return t.join((e==null?void 0:e.keySeparator)??".")}const GF={},pI=n=>!Cn(n)&&typeof n!="boolean"&&typeof n!="number";class mA extends nR{constructor(e,t={}){super(),dRe(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Ef.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){const i={...t};if(e==null)return!1;const r=this.resolve(e,i);if((r==null?void 0:r.res)===void 0)return!1;const s=pI(r.res);return!(i.returnObjects===!1&&s)}extractFromKey(e,t){let i=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;i===void 0&&(i=":");const r=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let s=t.ns||this.options.defaultNS||[];const a=i&&e.indexOf(i)>-1,o=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!SRe(e,i,r);if(a&&!o){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:Cn(s)?[s]:s};const u=e.split(i);(i!==r||i===r&&this.options.ns.indexOf(u[0])>-1)&&(s=u.shift()),e=u.join(r)}return{key:e,namespaces:Cn(s)?[s]:s}}translate(e,t,i){let r=typeof t=="object"?{...t}:t;if(typeof r!="object"&&this.options.overloadTranslationOptionHandler&&(r=this.options.overloadTranslationOptionHandler(arguments)),typeof r=="object"&&(r={...r}),r||(r={}),e==null)return"";typeof e=="function"&&(e=TD(e,{...this.options,...r})),Array.isArray(e)||(e=[String(e)]);const s=r.returnDetails!==void 0?r.returnDetails:this.options.returnDetails,a=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,{key:o,namespaces:l}=this.extractFromKey(e[e.length-1],r),u=l[l.length-1];let h=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;h===void 0&&(h=":");const p=r.lng||this.language,y=r.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((p==null?void 0:p.toLowerCase())==="cimode")return y?s?{res:`${u}${h}${o}`,usedKey:o,exactUsedKey:o,usedLng:p,usedNS:u,usedParams:this.getUsedParamsDetails(r)}:`${u}${h}${o}`:s?{res:o,usedKey:o,exactUsedKey:o,usedLng:p,usedNS:u,usedParams:this.getUsedParamsDetails(r)}:o;const v=this.resolve(e,r);let _=v==null?void 0:v.res;const x=(v==null?void 0:v.usedKey)||o,E=(v==null?void 0:v.exactUsedKey)||o,S=["[object Number]","[object Function]","[object RegExp]"],w=r.joinArrays!==void 0?r.joinArrays:this.options.joinArrays,C=!this.i18nFormat||this.i18nFormat.handleAsObject,A=r.count!==void 0&&!Cn(r.count),N=mA.hasDefaultValue(r),L=A?this.pluralResolver.getSuffix(p,r.count,r):"",I=r.ordinal&&A?this.pluralResolver.getSuffix(p,r.count,{ordinal:!1}):"",D=A&&!r.ordinal&&r.count===0,P=D&&r[`defaultValue${this.options.pluralSeparator}zero`]||r[`defaultValue${L}`]||r[`defaultValue${I}`]||r.defaultValue;let U=_;C&&!_&&N&&(U=P);const F=pI(U),z=Object.prototype.toString.apply(U);if(C&&U&&F&&S.indexOf(z)<0&&!(Cn(w)&&Array.isArray(U))){if(!r.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const V=this.options.returnedObjectHandler?this.options.returnedObjectHandler(x,U,{...r,ns:l}):`key '${o} (${this.language})' returned an object instead of string.`;return s?(v.res=V,v.usedParams=this.getUsedParamsDetails(r),v):V}if(a){const V=Array.isArray(U),K=V?[]:{},J=V?E:x;for(const q in U)if(Object.prototype.hasOwnProperty.call(U,q)){const W=`${J}${a}${q}`;N&&!_?K[q]=this.translate(W,{...r,defaultValue:pI(P)?P[q]:void 0,joinArrays:!1,ns:l}):K[q]=this.translate(W,{...r,joinArrays:!1,ns:l}),K[q]===W&&(K[q]=U[q])}_=K}}else if(C&&Cn(w)&&Array.isArray(_))_=_.join(w),_&&(_=this.extendTranslation(_,e,r,i));else{let V=!1,K=!1;!this.isValidLookup(_)&&N&&(V=!0,_=P),this.isValidLookup(_)||(K=!0,_=o);const q=(r.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&K?void 0:_,W=N&&P!==_&&this.options.updateMissing;if(K||V||W){if(this.logger.log(W?"updateKey":"missingKey",p,u,o,W?P:_),a){const Y=this.resolve(o,{...r,keySeparator:!1});Y&&Y.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let Q=[];const re=this.languageUtils.getFallbackCodes(this.options.fallbackLng,r.lng||this.language);if(this.options.saveMissingTo==="fallback"&&re&&re[0])for(let Y=0;Y<re.length;Y++)Q.push(re[Y]);else this.options.saveMissingTo==="all"?Q=this.languageUtils.toResolveHierarchy(r.lng||this.language):Q.push(r.lng||this.language);const pe=(Y,le,de)=>{var ne;const ue=N&&de!==_?de:q;this.options.missingKeyHandler?this.options.missingKeyHandler(Y,u,le,ue,W,r):(ne=this.backendConnector)!=null&&ne.saveMissing&&this.backendConnector.saveMissing(Y,u,le,ue,W,r),this.emit("missingKey",Y,u,le,_)};this.options.saveMissing&&(this.options.saveMissingPlurals&&A?Q.forEach(Y=>{const le=this.pluralResolver.getSuffixes(Y,r);D&&r[`defaultValue${this.options.pluralSeparator}zero`]&&le.indexOf(`${this.options.pluralSeparator}zero`)<0&&le.push(`${this.options.pluralSeparator}zero`),le.forEach(de=>{pe([Y],o+de,r[`defaultValue${de}`]||P)})}):pe(Q,o,P))}_=this.extendTranslation(_,e,r,v,i),K&&_===o&&this.options.appendNamespaceToMissingKey&&(_=`${u}${h}${o}`),(K||V)&&this.options.parseMissingKeyHandler&&(_=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}${h}${o}`:o,V?_:void 0,r))}return s?(v.res=_,v.usedParams=this.getUsedParamsDetails(r),v):_}extendTranslation(e,t,i,r,s){var l,u;if((l=this.i18nFormat)!=null&&l.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...i},i.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init({...i,interpolation:{...this.options.interpolation,...i.interpolation}});const h=Cn(e)&&(((u=i==null?void 0:i.interpolation)==null?void 0:u.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let p;if(h){const v=e.match(this.interpolator.nestingRegexp);p=v&&v.length}let y=i.replace&&!Cn(i.replace)?i.replace:i;if(this.options.interpolation.defaultVariables&&(y={...this.options.interpolation.defaultVariables,...y}),e=this.interpolator.interpolate(e,y,i.lng||this.language||r.usedLng,i),h){const v=e.match(this.interpolator.nestingRegexp),_=v&&v.length;p<_&&(i.nest=!1)}!i.lng&&r&&r.res&&(i.lng=this.language||r.usedLng),i.nest!==!1&&(e=this.interpolator.nest(e,(...v)=>(s==null?void 0:s[0])===v[0]&&!i.context?(this.logger.warn(`It seems you are nesting recursively key: ${v[0]} in key: ${t[0]}`),null):this.translate(...v,t),i)),i.interpolation&&this.interpolator.reset()}const a=i.postProcess||this.options.postProcess,o=Cn(a)?[a]:a;return e!=null&&(o!=null&&o.length)&&i.applyPostProcessor!==!1&&(e=nX.handle(o,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...r,usedParams:this.getUsedParamsDetails(i)},...i}:i,this)),e}resolve(e,t={}){let i,r,s,a,o;return Cn(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(i))return;const u=this.extractFromKey(l,t),h=u.key;r=h;let p=u.namespaces;this.options.fallbackNS&&(p=p.concat(this.options.fallbackNS));const y=t.count!==void 0&&!Cn(t.count),v=y&&!t.ordinal&&t.count===0,_=t.context!==void 0&&(Cn(t.context)||typeof t.context=="number")&&t.context!=="",x=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);p.forEach(E=>{var S,w;this.isValidLookup(i)||(o=E,!GF[`${x[0]}-${E}`]&&((S=this.utils)!=null&&S.hasLoadedNamespace)&&!((w=this.utils)!=null&&w.hasLoadedNamespace(o))&&(GF[`${x[0]}-${E}`]=!0,this.logger.warn(`key "${r}" for languages "${x.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),x.forEach(C=>{var L;if(this.isValidLookup(i))return;a=C;const A=[h];if((L=this.i18nFormat)!=null&&L.addLookupKeys)this.i18nFormat.addLookupKeys(A,h,C,E,t);else{let I;y&&(I=this.pluralResolver.getSuffix(C,t.count,t));const D=`${this.options.pluralSeparator}zero`,P=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(y&&(t.ordinal&&I.indexOf(P)===0&&A.push(h+I.replace(P,this.options.pluralSeparator)),A.push(h+I),v&&A.push(h+D)),_){const U=`${h}${this.options.contextSeparator||"_"}${t.context}`;A.push(U),y&&(t.ordinal&&I.indexOf(P)===0&&A.push(U+I.replace(P,this.options.pluralSeparator)),A.push(U+I),v&&A.push(U+D))}}let N;for(;N=A.pop();)this.isValidLookup(i)||(s=N,i=this.getResource(C,E,N,t))}))})}),{res:i,usedKey:r,exactUsedKey:s,usedLng:a,usedNS:o}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,i,r={}){var s;return(s=this.i18nFormat)!=null&&s.getResource?this.i18nFormat.getResource(e,t,i,r):this.resourceStore.getResource(e,t,i,r)}getUsedParamsDetails(e={}){const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],i=e.replace&&!Cn(e.replace);let r=i?e.replace:e;if(i&&typeof e.count<"u"&&(r.count=e.count),this.options.interpolation.defaultVariables&&(r={...this.options.interpolation.defaultVariables,...r}),!i){r={...r};for(const s of t)delete r[s]}return r}static hasDefaultValue(e){const t="defaultValue";for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&t===i.substring(0,t.length)&&e[i]!==void 0)return!0;return!1}}class qF{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Ef.create("languageUtils")}getScriptPartFromCode(e){if(e=mS(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=mS(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(Cn(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(i=>{if(t)return;const r=this.formatLanguageCode(i);(!this.options.supportedLngs||this.isSupportedCode(r))&&(t=r)}),!t&&this.options.supportedLngs&&e.forEach(i=>{if(t)return;const r=this.getScriptPartFromCode(i);if(this.isSupportedCode(r))return t=r;const s=this.getLanguagePartFromCode(i);if(this.isSupportedCode(s))return t=s;t=this.options.supportedLngs.find(a=>{if(a===s)return a;if(!(a.indexOf("-")<0&&s.indexOf("-")<0)&&(a.indexOf("-")>0&&s.indexOf("-")<0&&a.substring(0,a.indexOf("-"))===s||a.indexOf(s)===0&&s.length>1))return a})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),Cn(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let i=e[t];return i||(i=e[this.getScriptPartFromCode(t)]),i||(i=e[this.formatLanguageCode(t)]),i||(i=e[this.getLanguagePartFromCode(t)]),i||(i=e.default),i||[]}toResolveHierarchy(e,t){const i=this.getFallbackCodes((t===!1?[]:t)||this.options.fallbackLng||[],e),r=[],s=a=>{a&&(this.isSupportedCode(a)?r.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return Cn(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(e))):Cn(e)&&s(this.formatLanguageCode(e)),i.forEach(a=>{r.indexOf(a)<0&&s(this.formatLanguageCode(a))}),r}}const WF={zero:0,one:1,two:2,few:3,many:4,other:5},$F={select:n=>n===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class wRe{constructor(e,t={}){this.languageUtils=e,this.options=t,this.logger=Ef.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e,t={}){const i=mS(e==="dev"?"en":e),r=t.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:i,type:r});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let a;try{a=new Intl.PluralRules(i,{type:r})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),$F;if(!e.match(/-|_/))return $F;const l=this.languageUtils.getLanguagePartFromCode(e);a=this.getRule(l,t)}return this.pluralRulesCache[s]=a,a}needsPlural(e,t={}){let i=this.getRule(e,t);return i||(i=this.getRule("dev",t)),(i==null?void 0:i.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,t,i={}){return this.getSuffixes(e,i).map(r=>`${t}${r}`)}getSuffixes(e,t={}){let i=this.getRule(e,t);return i||(i=this.getRule("dev",t)),i?i.resolvedOptions().pluralCategories.sort((r,s)=>WF[r]-WF[s]).map(r=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${r}`):[]}getSuffix(e,t,i={}){const r=this.getRule(e,i);return r?`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${r.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,i))}}const XF=(n,e,t,i=".",r=!0)=>{let s=gRe(n,e,t);return!s&&r&&Cn(t)&&(s=ED(n,t,i),s===void 0&&(s=ED(e,t,i))),s},mI=n=>n.replace(/\$/g,"$$$$");class YF{constructor(e={}){var t;this.logger=Ef.create("interpolator"),this.options=e,this.format=((t=e==null?void 0:e.interpolation)==null?void 0:t.format)||(i=>i),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:i,useRawValueToEscape:r,prefix:s,prefixEscaped:a,suffix:o,suffixEscaped:l,formatSeparator:u,unescapeSuffix:h,unescapePrefix:p,nestingPrefix:y,nestingPrefixEscaped:v,nestingSuffix:_,nestingSuffixEscaped:x,nestingOptionsSeparator:E,maxReplaces:S,alwaysFormat:w}=e.interpolation;this.escape=t!==void 0?t:vRe,this.escapeValue=i!==void 0?i:!0,this.useRawValueToEscape=r!==void 0?r:!1,this.prefix=s?t0(s):a||"{{",this.suffix=o?t0(o):l||"}}",this.formatSeparator=u||",",this.unescapePrefix=h?"":p||"-",this.unescapeSuffix=this.unescapePrefix?"":h||"",this.nestingPrefix=y?t0(y):v||t0("$t("),this.nestingSuffix=_?t0(_):x||t0(")"),this.nestingOptionsSeparator=E||",",this.maxReplaces=S||1e3,this.alwaysFormat=w!==void 0?w:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,i)=>(t==null?void 0:t.source)===i?(t.lastIndex=0,t):new RegExp(i,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,t,i,r){var v;let s,a,o;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=_=>{if(_.indexOf(this.formatSeparator)<0){const w=XF(t,l,_,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(w,void 0,i,{...r,...t,interpolationkey:_}):w}const x=_.split(this.formatSeparator),E=x.shift().trim(),S=x.join(this.formatSeparator).trim();return this.format(XF(t,l,E,this.options.keySeparator,this.options.ignoreJSONStructure),S,i,{...r,...t,interpolationkey:E})};this.resetRegExp();const h=(r==null?void 0:r.missingInterpolationHandler)||this.options.missingInterpolationHandler,p=((v=r==null?void 0:r.interpolation)==null?void 0:v.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:_=>mI(_)},{regex:this.regexp,safeValue:_=>this.escapeValue?mI(this.escape(_)):mI(_)}].forEach(_=>{for(o=0;s=_.regex.exec(e);){const x=s[1].trim();if(a=u(x),a===void 0)if(typeof h=="function"){const S=h(e,s,r);a=Cn(S)?S:""}else if(r&&Object.prototype.hasOwnProperty.call(r,x))a="";else if(p){a=s[0];continue}else this.logger.warn(`missed to pass in variable ${x} for interpolating ${e}`),a="";else!Cn(a)&&!this.useRawValueToEscape&&(a=BF(a));const E=_.safeValue(a);if(e=e.replace(s[0],E),p?(_.regex.lastIndex+=a.length,_.regex.lastIndex-=s[0].length):_.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),e}nest(e,t,i={}){let r,s,a;const o=(l,u)=>{const h=this.nestingOptionsSeparator;if(l.indexOf(h)<0)return l;const p=l.split(new RegExp(`${h}[ ]*{`));let y=`{${p[1]}`;l=p[0],y=this.interpolate(y,a);const v=y.match(/'/g),_=y.match(/"/g);(((v==null?void 0:v.length)??0)%2===0&&!_||_.length%2!==0)&&(y=y.replace(/'/g,'"'));try{a=JSON.parse(y),u&&(a={...u,...a})}catch(x){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,x),`${l}${h}${y}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,l};for(;r=this.nestingRegexp.exec(e);){let l=[];a={...i},a=a.replace&&!Cn(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;const u=/{.*}/.test(r[1])?r[1].lastIndexOf("}")+1:r[1].indexOf(this.formatSeparator);if(u!==-1&&(l=r[1].slice(u).split(this.formatSeparator).map(h=>h.trim()).filter(Boolean),r[1]=r[1].slice(0,u)),s=t(o.call(this,r[1].trim(),a),a),s&&r[0]===e&&!Cn(s))return s;Cn(s)||(s=BF(s)),s||(this.logger.warn(`missed to resolve ${r[1]} for nesting ${e}`),s=""),l.length&&(s=l.reduce((h,p)=>this.format(h,p,i.lng,{...i,interpolationkey:r[1].trim()}),s.trim())),e=e.replace(r[0],s),this.regexp.lastIndex=0}return e}}const CRe=n=>{let e=n.toLowerCase().trim();const t={};if(n.indexOf("(")>-1){const i=n.split("(");e=i[0].toLowerCase().trim();const r=i[1].substring(0,i[1].length-1);e==="currency"&&r.indexOf(":")<0?t.currency||(t.currency=r.trim()):e==="relativetime"&&r.indexOf(":")<0?t.range||(t.range=r.trim()):r.split(";").forEach(a=>{if(a){const[o,...l]=a.split(":"),u=l.join(":").trim().replace(/^'+|'+$/g,""),h=o.trim();t[h]||(t[h]=u),u==="false"&&(t[h]=!1),u==="true"&&(t[h]=!0),isNaN(u)||(t[h]=parseInt(u,10))}})}return{formatName:e,formatOptions:t}},KF=n=>{const e={};return(t,i,r)=>{let s=r;r&&r.interpolationkey&&r.formatParams&&r.formatParams[r.interpolationkey]&&r[r.interpolationkey]&&(s={...s,[r.interpolationkey]:void 0});const a=i+JSON.stringify(s);let o=e[a];return o||(o=n(mS(i),r),e[a]=o),o(t)}},ARe=n=>(e,t,i)=>n(mS(t),i)(e);class MRe{constructor(e={}){this.logger=Ef.create("formatter"),this.options=e,this.init(e)}init(e,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";const i=t.cacheInBuiltFormats?KF:ARe;this.formats={number:i((r,s)=>{const a=new Intl.NumberFormat(r,{...s});return o=>a.format(o)}),currency:i((r,s)=>{const a=new Intl.NumberFormat(r,{...s,style:"currency"});return o=>a.format(o)}),datetime:i((r,s)=>{const a=new Intl.DateTimeFormat(r,{...s});return o=>a.format(o)}),relativetime:i((r,s)=>{const a=new Intl.RelativeTimeFormat(r,{...s});return o=>a.format(o,s.range||"day")}),list:i((r,s)=>{const a=new Intl.ListFormat(r,{...s});return o=>a.format(o)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=KF(t)}format(e,t,i,r={}){const s=t.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(o=>o.indexOf(")")>-1)){const o=s.findIndex(l=>l.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,o)].join(this.formatSeparator)}return s.reduce((o,l)=>{var p;const{formatName:u,formatOptions:h}=CRe(l);if(this.formats[u]){let y=o;try{const v=((p=r==null?void 0:r.formatParams)==null?void 0:p[r.interpolationkey])||{},_=v.locale||v.lng||r.locale||r.lng||i;y=this.formats[u](o,_,{...h,...r,...v})}catch(v){this.logger.warn(v)}return y}else this.logger.warn(`there was no format function for ${u}`);return o},e)}}const RRe=(n,e)=>{n.pending[e]!==void 0&&(delete n.pending[e],n.pendingCount--)};class ORe extends nR{constructor(e,t,i,r={}){var s,a;super(),this.backend=e,this.store=t,this.services=i,this.languageUtils=i.languageUtils,this.options=r,this.logger=Ef.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=r.maxParallelReads||10,this.readingCalls=0,this.maxRetries=r.maxRetries>=0?r.maxRetries:5,this.retryTimeout=r.retryTimeout>=1?r.retryTimeout:350,this.state={},this.queue=[],(a=(s=this.backend)==null?void 0:s.init)==null||a.call(s,i,r.backend,r)}queueLoad(e,t,i,r){const s={},a={},o={},l={};return e.forEach(u=>{let h=!0;t.forEach(p=>{const y=`${u}|${p}`;!i.reload&&this.store.hasResourceBundle(u,p)?this.state[y]=2:this.state[y]<0||(this.state[y]===1?a[y]===void 0&&(a[y]=!0):(this.state[y]=1,h=!1,a[y]===void 0&&(a[y]=!0),s[y]===void 0&&(s[y]=!0),l[p]===void 0&&(l[p]=!0)))}),h||(o[u]=!0)}),(Object.keys(s).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(s),pending:Object.keys(a),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(l)}}loaded(e,t,i){const r=e.split("|"),s=r[0],a=r[1];t&&this.emit("failedLoading",s,a,t),!t&&i&&this.store.addResourceBundle(s,a,i,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&i&&(this.state[e]=0);const o={};this.queue.forEach(l=>{mRe(l.loaded,[s],a),RRe(l,e),t&&l.errors.push(t),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(u=>{o[u]||(o[u]={});const h=l.loaded[u];h.length&&h.forEach(p=>{o[u][p]===void 0&&(o[u][p]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(l=>!l.done)}read(e,t,i,r=0,s=this.retryTimeout,a){if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:i,tried:r,wait:s,callback:a});return}this.readingCalls++;const o=(u,h)=>{if(this.readingCalls--,this.waitingReads.length>0){const p=this.waitingReads.shift();this.read(p.lng,p.ns,p.fcName,p.tried,p.wait,p.callback)}if(u&&h&&r<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,i,r+1,s*2,a)},s);return}a(u,h)},l=this.backend[i].bind(this.backend);if(l.length===2){try{const u=l(e,t);u&&typeof u.then=="function"?u.then(h=>o(null,h)).catch(o):o(null,u)}catch(u){o(u)}return}return l(e,t,o)}prepareLoading(e,t,i={},r){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();Cn(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Cn(t)&&(t=[t]);const s=this.queueLoad(e,t,i,r);if(!s.toLoad.length)return s.pending.length||r(),null;s.toLoad.forEach(a=>{this.loadOne(a)})}load(e,t,i){this.prepareLoading(e,t,{},i)}reload(e,t,i){this.prepareLoading(e,t,{reload:!0},i)}loadOne(e,t=""){const i=e.split("|"),r=i[0],s=i[1];this.read(r,s,"read",void 0,void 0,(a,o)=>{a&&this.logger.warn(`${t}loading namespace ${s} for language ${r} failed`,a),!a&&o&&this.logger.log(`${t}loaded namespace ${s} for language ${r}`,o),this.loaded(e,a,o)})}saveMissing(e,t,i,r,s,a={},o=()=>{}){var l,u,h,p,y;if((u=(l=this.services)==null?void 0:l.utils)!=null&&u.hasLoadedNamespace&&!((p=(h=this.services)==null?void 0:h.utils)!=null&&p.hasLoadedNamespace(t))){this.logger.warn(`did not save key "${i}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(i==null||i==="")){if((y=this.backend)!=null&&y.create){const v={...a,isUpdate:s},_=this.backend.create.bind(this.backend);if(_.length<6)try{let x;_.length===5?x=_(e,t,i,r,v):x=_(e,t,i,r),x&&typeof x.then=="function"?x.then(E=>o(null,E)).catch(o):o(null,x)}catch(x){o(x)}else _(e,t,i,r,o,v)}!e||!e[0]||this.store.addResource(e[0],t,i,r)}}}const ZF=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:n=>{let e={};if(typeof n[1]=="object"&&(e=n[1]),Cn(n[1])&&(e.defaultValue=n[1]),Cn(n[2])&&(e.tDescription=n[2]),typeof n[2]=="object"||typeof n[3]=="object"){const t=n[3]||n[2];Object.keys(t).forEach(i=>{e[i]=t[i]})}return e},interpolation:{escapeValue:!0,format:n=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),QF=n=>{var e,t;return Cn(n.ns)&&(n.ns=[n.ns]),Cn(n.fallbackLng)&&(n.fallbackLng=[n.fallbackLng]),Cn(n.fallbackNS)&&(n.fallbackNS=[n.fallbackNS]),((t=(e=n.supportedLngs)==null?void 0:e.indexOf)==null?void 0:t.call(e,"cimode"))<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),typeof n.initImmediate=="boolean"&&(n.initAsync=n.initImmediate),n},Kw=()=>{},IRe=n=>{Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(t=>{typeof n[t]=="function"&&(n[t]=n[t].bind(n))})};class Ax extends nR{constructor(e={},t){if(super(),this.options=QF(e),this.services={},this.logger=Ef,this.modules={external:[]},IRe(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(e={},t){this.isInitializing=!0,typeof e=="function"&&(t=e,e={}),e.defaultNS==null&&e.ns&&(Cn(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const i=ZF();this.options={...i,...this.options,...QF(e)},this.options.interpolation={...i.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=i.overloadTranslationOptionHandler);const r=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?Ef.init(r(this.modules.logger),this.options):Ef.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:u=MRe;const h=new qF(this.options);this.store=new jF(this.options.resources,this.options);const p=this.services;p.logger=Ef,p.resourceStore=this.store,p.languageUtils=h,p.pluralResolver=new wRe(h,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==i.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),u&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(p.formatter=r(u),p.formatter.init&&p.formatter.init(p,this.options),this.options.interpolation.format=p.formatter.format.bind(p.formatter)),p.interpolator=new YF(this.options),p.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},p.backendConnector=new ORe(r(this.modules.backend),p.resourceStore,p,this.options),p.backendConnector.on("*",(v,..._)=>{this.emit(v,..._)}),this.modules.languageDetector&&(p.languageDetector=r(this.modules.languageDetector),p.languageDetector.init&&p.languageDetector.init(p,this.options.detection,this.options)),this.modules.i18nFormat&&(p.i18nFormat=r(this.modules.i18nFormat),p.i18nFormat.init&&p.i18nFormat.init(this)),this.translator=new mA(this.services,this.options),this.translator.on("*",(v,..._)=>{this.emit(v,..._)}),this.modules.external.forEach(v=>{v.init&&v.init(this)})}if(this.format=this.options.interpolation.format,t||(t=Kw),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=(...h)=>this.store[u](...h)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=(...h)=>(this.store[u](...h),this)});const o=D1(),l=()=>{const u=(h,p)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),o.resolve(p),t(h,p)};if(this.languages&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initAsync?l():setTimeout(l,0),o}loadResources(e,t=Kw){var s,a;let i=t;const r=Cn(e)?e:this.language;if(typeof e=="function"&&(i=e),!this.options.resources||this.options.partialBundledLanguages){if((r==null?void 0:r.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return i();const o=[],l=u=>{if(!u||u==="cimode")return;this.services.languageUtils.toResolveHierarchy(u).forEach(p=>{p!=="cimode"&&o.indexOf(p)<0&&o.push(p)})};r?l(r):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(h=>l(h)),(a=(s=this.options.preload)==null?void 0:s.forEach)==null||a.call(s,u=>l(u)),this.services.backendConnector.load(o,this.options.ns,u=>{!u&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),i(u)})}else i(null)}reloadResources(e,t,i){const r=D1();return typeof e=="function"&&(i=e,e=void 0),typeof t=="function"&&(i=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),i||(i=Kw),this.services.backendConnector.reload(e,t,s=>{r.resolve(),i(s)}),r}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&nX.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let t=0;t<this.languages.length;t++){const i=this.languages[t];if(!(["cimode","dev"].indexOf(i)>-1)&&this.store.hasLanguageSomeTranslations(i)){this.resolvedLanguage=i;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){this.isLanguageChangingTo=e;const i=D1();this.emit("languageChanging",e);const r=o=>{this.language=o,this.languages=this.services.languageUtils.toResolveHierarchy(o),this.resolvedLanguage=void 0,this.setResolvedLanguage(o)},s=(o,l)=>{l?this.isLanguageChangingTo===e&&(r(l),this.translator.changeLanguage(l),this.isLanguageChangingTo=void 0,this.emit("languageChanged",l),this.logger.log("languageChanged",l)):this.isLanguageChangingTo=void 0,i.resolve((...u)=>this.t(...u)),t&&t(o,(...u)=>this.t(...u))},a=o=>{var h,p;!e&&!o&&this.services.languageDetector&&(o=[]);const l=Cn(o)?o:o&&o[0],u=this.store.hasLanguageSomeTranslations(l)?l:this.services.languageUtils.getBestMatchFromCodes(Cn(o)?[o]:o);u&&(this.language||r(u),this.translator.language||this.translator.changeLanguage(u),(p=(h=this.services.languageDetector)==null?void 0:h.cacheUserLanguage)==null||p.call(h,u)),this.loadResources(u,y=>{s(y,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),i}getFixedT(e,t,i){const r=(s,a,...o)=>{let l;typeof a!="object"?l=this.options.overloadTranslationOptionHandler([s,a].concat(o)):l={...a},l.lng=l.lng||r.lng,l.lngs=l.lngs||r.lngs,l.ns=l.ns||r.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||i||r.keyPrefix);const u=this.options.keySeparator||".";let h;return l.keyPrefix&&Array.isArray(s)?h=s.map(p=>(typeof p=="function"&&(p=TD(p,{...this.options,...a})),`${l.keyPrefix}${u}${p}`)):(typeof s=="function"&&(s=TD(s,{...this.options,...a})),h=l.keyPrefix?`${l.keyPrefix}${u}${s}`:s),this.t(h,l)};return Cn(e)?r.lng=e:r.lngs=e,r.ns=t,r.keyPrefix=i,r}t(...e){var t;return(t=this.translator)==null?void 0:t.translate(...e)}exists(...e){var t;return(t=this.translator)==null?void 0:t.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const i=t.lng||this.resolvedLanguage||this.languages[0],r=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const a=(o,l)=>{const u=this.services.backendConnector.state[`${o}|${l}`];return u===-1||u===0||u===2};if(t.precheck){const o=t.precheck(this,a);if(o!==void 0)return o}return!!(this.hasResourceBundle(i,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(i,e)&&(!r||a(s,e)))}loadNamespaces(e,t){const i=D1();return this.options.ns?(Cn(e)&&(e=[e]),e.forEach(r=>{this.options.ns.indexOf(r)<0&&this.options.ns.push(r)}),this.loadResources(r=>{i.resolve(),t&&t(r)}),i):(t&&t(),Promise.resolve())}loadLanguages(e,t){const i=D1();Cn(e)&&(e=[e]);const r=this.options.preload||[],s=e.filter(a=>r.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return s.length?(this.options.preload=r.concat(s),this.loadResources(a=>{i.resolve(),t&&t(a)}),i):(t&&t(),Promise.resolve())}dir(e){var r,s;if(e||(e=this.resolvedLanguage||(((r=this.languages)==null?void 0:r.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{const a=new Intl.Locale(e);if(a&&a.getTextInfo){const o=a.getTextInfo();if(o&&o.direction)return o.direction}}catch{}const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],i=((s=this.services)==null?void 0:s.languageUtils)||new qF(ZF());return e.toLowerCase().indexOf("-latn")>1?"ltr":t.indexOf(i.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},t){const i=new Ax(e,t);return i.createInstance=Ax.createInstance,i}cloneInstance(e={},t=Kw){const i=e.forkResourceStore;i&&delete e.forkResourceStore;const r={...this.options,...e,isClone:!0},s=new Ax(r);if((e.debug!==void 0||e.prefix!==void 0)&&(s.logger=s.logger.clone(e)),["store","services","language"].forEach(o=>{s[o]=this[o]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},i){const o=Object.keys(this.store.data).reduce((l,u)=>(l[u]={...this.store.data[u]},l[u]=Object.keys(l[u]).reduce((h,p)=>(h[p]={...l[u][p]},h),l[u]),l),{});s.store=new jF(o,r),s.services.resourceStore=s.store}return e.interpolation&&(s.services.interpolator=new YF(r)),s.translator=new mA(s.services,r),s.translator.on("*",(o,...l)=>{s.emit(o,...l)}),s.init(r,t),s.translator.options=r,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Uo=Ax.createInstance();Uo.createInstance;Uo.dir;Uo.init;Uo.loadResources;Uo.reloadResources;Uo.use;Uo.changeLanguage;Uo.getFixedT;Uo.t;Uo.exists;Uo.setDefaultNamespace;Uo.hasLoadedNamespace;Uo.loadNamespaces;Uo.loadLanguages;const PRe={app:{closed:"Session closed",login:"Session started",collapsedNodes:"Collapse Nodes",expandNodes:"Expand Nodes"},accountMenu:{title:"User Menu",triggerAlert:"Session closed",optionsMenu:{login:"Log in",addNode:"Add Node",configuration:"Settings",logOut:"Log out"}},configWindow:{title:"Settings","language.label":"Language","language.description":"Select the preferred application language.",es:"Spanish",en:"English",dagMode:"Hierarchy layout direction","dagMode.description":"Determines how nodes are positioned based on their hierarchy.","dagMode.td":"Top  Down","dagMode.bu":"Bottom  Up","dagMode.lr":"Left  Right","dagMode.rl":"Right  Left","dagMode.radialout":"Radial Outward","dagMode.radialin":"Radial Inward","dagMode.none":"No hierarchy",dagLevelDistance:"Level separation","dagLevelDistance.description":"Sets the spacing between each hierarchical level in the graph(0 - 100).",buttonClose:"Close and Save"},buttonAddNode:{title:"Add Nodes"},navigationgestures:{touch:{title:"Use touch gestures to navigate the scene",text1:"Swipe with one finger: Orbit",text2:"Swipe with two fingers: Pan view",text3:"Pinch with two fingers: Zoom in/out"},desk:{title:"Use the mouse to navigate the scene",text1:"Left click + drag: Orbit",text2:"Right click + drag: Pan view",text3:"Mouse wheel (scroll): Zoom in/out"},checkBoxLabel:"Do not show this again",buttonClose:"Close"},loginUser:{title:"Login to your account",loginGoogle:"Log in with Google"},addNode:{addNodeWindow:{textRequired1:"The name must be at least 4 characters long",textRequired2:"The name is required",textRequired3:"The group is required",textRequired4:"The origin node is required"},stepper:{back:"Back",previous:"Previous",skip:"Skip",optional:"Optional",next:"Next",reset:"Reset",finish:"Finish",step1:"You are creating a new node",step2:"Connect the node",step3:"Upload a resource to the node",step4:"step 4",step5:"step 5"},tabGround:{loadingData:"Loading data...",selecCategory:"Select a category",notItems:"No techniques available"},step1:{step1Title:"Create a new connection",formLabel:"Node name",toolTipInfo:"Write the name in Spanish, followed by the name in English, separated by a comma. E.g.: Guardia cerrada, Closed guard"},step2:{step2Title:"Group for the new node",formLabel:"Groups",toolTipInfo:"Select the group to which this new node will belong"},step3:{title:"Search YouTube Video",subText1:"Search",subText2:"views - ago"},step4:{title:"Connect the new node"},stepFinal:{text1:"Node Summary",text2:"Index",text3:"Name",text4:"Position",text5:"Origin Node",text6:"Upload date"}},nodeView:{title:"Video Player",subTitle:"View and analyze the video content below.",brandTitle:"Timestamp Controls",brandSubTitle:"Define the start and end points for specific video segments.",timeBrand:"Select video timestamps:",timeBrandPreview:"Select preview timestamps:",timeBrandInit:"Start:",timeBrandEnd:"End:",timeBrandAll:"Use full video"},nodeConnectionViewer:{ArrowBackToolTip:"Go Back",ArrowForwardToolTip:"Go Forward",groupEmpty:"Unassigned Group",node:"Node",sourceLinksLabel:"This node has no outgoing connections.",targetLinksLabel:"This node has no incoming connections.",sourceLabel:"Outgoing Connections",targetLabel:"Incoming Connections",descriptionLabel:"Description"}},DRe={categories:{groupTitle:"Categories",subGroupTitle:"No category selected"}},NRe={components:PRe,pages:DRe},LRe={app:{closed:"Sesin  cerrada",login:"Sesin  iniciada",collapsedNodes:"Colapsar Nodos",expandNodes:"Expandir Nodos"},accountMenu:{title:"Men Usuario",triggerAlert:"Sesin Cerrada",optionsMenu:{login:"Iniciar sesin",addNode:"Agregar Nodo",configuration:"Configuracin",logOut:"Cerrar sesin"}},configWindow:{title:"Configuracin","language.label":"Idioma","language.description":"Selecciona el idioma preferido de la aplicacin.",es:"Espaol",en:"Ingls",dagMode:"Direccin del layout jerrquico","dagMode.description":"Determina cmo se disponen los nodos en el espacio segn su jerarqua.","dagMode.td":"Arriba  Abajo","dagMode.bu":"Abajo  Arriba","dagMode.lr":"Izquierda  Derecha","dagMode.rl":"Derecha  Izquierda","dagMode.radialout":"Radial  Hacia afuera","dagMode.radialin":"Radial  Hacia adentro","dagMode.none":"Sin jerarqua",dagLevelDistance:"Separacin entre niveles","dagLevelDistance.description":"Define la distancia entre cada nivel jerrquico en el grafo(0 - 100).",buttonClose:"Cerrar y Guardar"},buttonAddNode:{title:"Agregar Nodos"},navigationgestures:{touch:{title:"Usa gestos tctiles para navegar la escena",text1:"Deslizar con un dedo: Orbitar",text2:"Deslizar con dos dedos: Desplazar vista",text3:"Pellizcar con dos dedos Acercar/Alejar (Zoom)"},desk:{title:"Usa el mouse para navegar la escena",text1:"Clic izquierdo + arrastrar: Orbitar",text2:"Clic derecho + arrastrar: Desplazar vista",text3:"Rueda del mouse (scroll): Acercar/Alejar"},checkBoxLabel:"No volver a mostrar esto",buttonClose:"Cerrar"},loginUser:{title:"Inicia sesin en tu cuenta",loginGoogle:"Iniciar sesin con Google"},addNode:{addNodeWindow:{textRequired1:"El nombre debe tener al menos 4 caracteres",textRequired2:"El nombre es obligatorio",textRequired3:"El grupo es obligatorio",textRequired4:"El nodo origen es obligatorio"},stepper:{back:"Volver",previous:"Retroceder",skip:"Saltar",optional:"Opcional",next:"Siguiente",reset:"Reset",finish:"Finalizar",step1:"Ests creando un nuevo nodo",step2:"Conecta el nodo",step3:"Carga un recurso al nodo",step4:"paso 4",step5:"paso 5"},tabGround:{loadingData:"Cargando datos...",selecCategory:"Selecciona una categora.",notItems:"No hay tcnicas disponibles"},step1:{step1Title:"Crea una nueva conexin",formLabel:"Nombre del nodo",toolTipInfo:"Escribe el nombre en espaol, seguido del nombre en ingls, separados por una coma. Ej: Guardia cerrada, Closed guard"},step2:{step2Title:"Grupo para el nuevo nodo",formLabel:"Grupos",toolTipInfo:"Selecciona el grupo al que pertenecer este nuevo nodo"},step3:{title:"Buscar Video en YouTube",subText1:"Buscar",subText2:"vistas - hace"},step4:{title:"Conecta el nuevo nodo"},stepFinal:{text1:"Resumen del Nodo",text2:"ndice",text3:"Nombre",text4:"Posicin",text5:"Nodo Origen",text6:"Fecha de subida"}},nodeView:{title:"Reproductor de Video",subTitle:"Visualice y analice el contenido del video a continuacin.",brandTitle:"Controles de Marcas de Tiempo",brandSubTitle:"Defina los puntos de inicio y fin para segmentos especficos del video.",timeBrand:"Seleccionar marcas de tiempo del video:",timeBrandPreview:"Seleccionar marcas de tiempo del preview: ",timeBrandInit:"Inicio: ",timeBrandEnd:"Final: ",timeBrandAll:"Usar video completo"},nodeConnectionViewer:{ArrowBackToolTip:"Retroceder",ArrowForwardToolTip:"Avanzar",groupEmpty:"Grupo no asignado",node:"Nodo",sourceLinksLabel:"Este nodo no tiene conexiones salientes.",targetLinksLabel:"Este nodo no tiene conexiones entrantes.",sourceLabel:"Conexiones salientes",targetLabel:"Conexiones entrantes",descriptionLabel:"Descripcin"}},URe={categories:{groupTitle:"Categorias",subGroupTitle:"No hay categora seleccionada"}},kRe={components:LRe,pages:URe},zRe={en:{translation:NRe},es:{translation:kRe}};Uo.use(PTe).init({resources:zRe,fallbackLng:Yi.languageDefault,debug:!1,interpolation:{escapeValue:!1}});sY.createRoot(document.getElementById("root")).render(Z.jsx(H.StrictMode,{children:Z.jsx(PZ,{domain:void 0,clientId:void 0,authorizationParams:{redirect_uri:window.location.origin},cacheLocation:"localstorage",useRefreshTokens:!0,children:Z.jsx(CK,{basename:"/black-triangle-bjj",children:Z.jsx(hRe,{})})})}));
